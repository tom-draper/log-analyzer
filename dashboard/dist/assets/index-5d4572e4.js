var Km=Object.defineProperty;var Qm=(re,se,Se)=>se in re?Km(re,se,{enumerable:!0,configurable:!0,writable:!0,value:Se}):re[se]=Se;var $m=(re,se)=>()=>(se||re((se={exports:{}}).exports,se),se.exports);var Np=(re,se,Se)=>(Qm(re,typeof se!="symbol"?se+"":se,Se),Se);var yw=$m((_w,Ih)=>{(function(){const se=document.createElement("link").relList;if(se&&se.supports&&se.supports("modulepreload"))return;for(const We of document.querySelectorAll('link[rel="modulepreload"]'))De(We);new MutationObserver(We=>{for(const B of We)if(B.type==="childList")for(const L of B.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&De(L)}).observe(document,{childList:!0,subtree:!0});function Se(We){const B={};return We.integrity&&(B.integrity=We.integrity),We.referrerPolicy&&(B.referrerPolicy=We.referrerPolicy),We.crossOrigin==="use-credentials"?B.credentials="include":We.crossOrigin==="anonymous"?B.credentials="omit":B.credentials="same-origin",B}function De(We){if(We.ep)return;We.ep=!0;const B=Se(We);fetch(We.href,B)}})();function xi(){}function ey(re,se){for(const Se in se)re[Se]=se[Se];return re}function rg(re){return re()}function a1(){return Object.create(null)}function Fl(re){re.forEach(rg)}function lc(re){return typeof re=="function"}function za(re,se){return re!=re?se==se:re!==se||re&&typeof re=="object"||typeof re=="function"}function ty(re){return Object.keys(re).length===0}function ig(re,se,Se,De){if(re){const We=ag(re,se,Se,De);return re[0](We)}}function ag(re,se,Se,De){return re[1]&&De?ey(Se.ctx.slice(),re[1](De(se))):Se.ctx}function og(re,se,Se,De){if(re[2]&&De){const We=re[2](De(Se));if(se.dirty===void 0)return We;if(typeof We=="object"){const B=[],L=Math.max(se.dirty.length,We.length);for(let e=0;e<L;e+=1)B[e]=se.dirty[e]|We[e];return B}return se.dirty|We}return se.dirty}function sg(re,se,Se,De,We,B){if(We){const L=ag(se,Se,De,B);re.p(L,We)}}function lg(re){if(re.ctx.length>32){const se=[],Se=re.ctx.length/32;for(let De=0;De<Se;De++)se[De]=-1;return se}return-1}function hr(re,se){re.appendChild(se)}function Cr(re,se,Se){re.insertBefore(se,Se||null)}function Lr(re){re.parentNode&&re.parentNode.removeChild(re)}function iu(re,se){for(let Se=0;Se<re.length;Se+=1)re[Se]&&re[Se].d(se)}function _r(re){return document.createElement(re)}function li(re){return document.createTextNode(re)}function qr(){return li(" ")}function As(){return li("")}function ji(re,se,Se,De){return re.addEventListener(se,Se,De),()=>re.removeEventListener(se,Se,De)}function xu(re){return function(se){return se.preventDefault(),re.call(this,se)}}function ny(re){return function(se){se.target===this&&re.call(this,se)}}function Vn(re,se,Se){Se==null?re.removeAttribute(se):re.getAttribute(se)!==Se&&re.setAttribute(se,Se)}function ry(re){return Array.from(re.childNodes)}function Pi(re,se){se=""+se,re.data!==se&&(re.data=se)}function Xa(re,se,Se,De){Se==null?re.style.removeProperty(se):re.style.setProperty(se,Se,De?"important":"")}function Ms(re,se,Se){re.classList.toggle(se,!!Se)}function iy(re,se,{bubbles:Se=!1,cancelable:De=!1}={}){return new CustomEvent(re,{detail:se,bubbles:Se,cancelable:De})}function fl(re,se){return new re(se)}let Ef;function Mf(re){Ef=re}function ug(){if(!Ef)throw new Error("Function called outside component initialization");return Ef}function Mu(re){ug().$$.on_mount.push(re)}function jh(){const re=ug();return(se,Se,{cancelable:De=!1}={})=>{const We=re.$$.callbacks[se];if(We){const B=iy(se,Se,{cancelable:De});return We.slice().forEach(L=>{L.call(re,B)}),!B.defaultPrevented}return!0}}const Bc=[],Ja=[];let Uc=[];const Xp=[],ay=Promise.resolve();let Jp=!1;function oy(){Jp||(Jp=!0,ay.then(cg))}function Kp(re){Uc.push(re)}function hc(re){Xp.push(re)}const jp=new Set;let Rc=0;function cg(){if(Rc!==0)return;const re=Ef;do{try{for(;Rc<Bc.length;){const se=Bc[Rc];Rc++,Mf(se),sy(se.$$)}}catch(se){throw Bc.length=0,Rc=0,se}for(Mf(null),Bc.length=0,Rc=0;Ja.length;)Ja.pop()();for(let se=0;se<Uc.length;se+=1){const Se=Uc[se];jp.has(Se)||(jp.add(Se),Se())}Uc.length=0}while(Bc.length);for(;Xp.length;)Xp.pop()();Jp=!1,jp.clear(),Mf(re)}function sy(re){if(re.fragment!==null){re.update(),Fl(re.before_update);const se=re.dirty;re.dirty=[-1],re.fragment&&re.fragment.p(re.ctx,se),re.after_update.forEach(Kp)}}function ly(re){const se=[],Se=[];Uc.forEach(De=>re.indexOf(De)===-1?se.push(De):Se.push(De)),Se.forEach(De=>De()),Uc=se}const Lh=new Set;let uc;function qs(){uc={r:0,c:[],p:uc}}function Gs(){uc.r||Fl(uc.c),uc=uc.p}function Qr(re,se){re&&re.i&&(Lh.delete(re),re.i(se))}function ti(re,se,Se,De){if(re&&re.o){if(Lh.has(re))return;Lh.add(re),uc.c.push(()=>{Lh.delete(re),De&&(Se&&re.d(1),De())}),re.o(se)}else De&&De()}function no(re){return(re==null?void 0:re.length)!==void 0?re:Array.from(re)}function nu(re,se,Se){const De=re.$$.props[se];De!==void 0&&(re.$$.bound[De]=Se,Se(re.$$.ctx[De]))}function ta(re){re&&re.c()}function Zi(re,se,Se){const{fragment:De,after_update:We}=re.$$;De&&De.m(se,Se),Kp(()=>{const B=re.$$.on_mount.map(rg).filter(lc);re.$$.on_destroy?re.$$.on_destroy.push(...B):Fl(B),re.$$.on_mount=[]}),We.forEach(Kp)}function Xi(re,se){const Se=re.$$;Se.fragment!==null&&(ly(Se.after_update),Fl(Se.on_destroy),Se.fragment&&Se.fragment.d(se),Se.on_destroy=Se.fragment=null,Se.ctx=[])}function uy(re,se){re.$$.dirty[0]===-1&&(Bc.push(re),oy(),re.$$.dirty.fill(0)),re.$$.dirty[se/31|0]|=1<<se%31}function Ra(re,se,Se,De,We,B,L=null,e=[-1]){const k=Ef;Mf(re);const w=re.$$={fragment:null,ctx:[],props:B,update:xi,not_equal:We,bound:a1(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(se.context||(k?k.$$.context:[])),callbacks:a1(),dirty:e,skip_bound:!1,root:se.target||k.$$.root};L&&L(w.root);let r=!1;if(w.ctx=Se?Se(re,se.props||{},(_,v,...f)=>{const s=f.length?f[0]:v;return w.ctx&&We(w.ctx[_],w.ctx[_]=s)&&(!w.skip_bound&&w.bound[_]&&w.bound[_](s),r&&uy(re,_)),v}):[],w.update(),r=!0,Fl(w.before_update),w.fragment=De?De(w.ctx):!1,se.target){if(se.hydrate){const _=ry(se.target);w.fragment&&w.fragment.l(_),_.forEach(Lr)}else w.fragment&&w.fragment.c();se.intro&&Qr(re.$$.fragment),Zi(re,se.target,se.anchor),cg()}Mf(k)}class Fa{constructor(){Np(this,"$$");Np(this,"$$set")}$destroy(){Xi(this,1),this.$destroy=xi}$on(se,Se){if(!lc(Se))return xi;const De=this.$$.callbacks[se]||(this.$$.callbacks[se]=[]);return De.push(Se),()=>{const We=De.indexOf(Se);We!==-1&&De.splice(We,1)}}$set(se){this.$$set&&!ty(se)&&(this.$$.skip_bound=!0,this.$$set(se),this.$$.skip_bound=!1)}}const cy="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(cy);var fy={grad:.9,turn:360,rad:360/(2*Math.PI)},vu=function(re){return typeof re=="string"?re.length>0:typeof re=="number"},xo=function(re,se,Se){return se===void 0&&(se=0),Se===void 0&&(Se=Math.pow(10,se)),Math.round(Se*re)/Se+0},cl=function(re,se,Se){return se===void 0&&(se=0),Se===void 0&&(Se=1),re>Se?Se:re>se?re:se},fg=function(re){return(re=isFinite(re)?re%360:0)>0?re:re+360},o1=function(re){return{r:cl(re.r,0,255),g:cl(re.g,0,255),b:cl(re.b,0,255),a:cl(re.a)}},Up=function(re){return{r:xo(re.r),g:xo(re.g),b:xo(re.b),a:xo(re.a,3)}},hy=/^#([0-9a-f]{3,8})$/i,Th=function(re){var se=re.toString(16);return se.length<2?"0"+se:se},hg=function(re){var se=re.r,Se=re.g,De=re.b,We=re.a,B=Math.max(se,Se,De),L=B-Math.min(se,Se,De),e=L?B===se?(Se-De)/L:B===Se?2+(De-se)/L:4+(se-Se)/L:0;return{h:60*(e<0?e+6:e),s:B?L/B*100:0,v:B/255*100,a:We}},pg=function(re){var se=re.h,Se=re.s,De=re.v,We=re.a;se=se/360*6,Se/=100,De/=100;var B=Math.floor(se),L=De*(1-Se),e=De*(1-(se-B)*Se),k=De*(1-(1-se+B)*Se),w=B%6;return{r:255*[De,e,L,L,k,De][w],g:255*[k,De,De,e,L,L][w],b:255*[L,L,k,De,De,e][w],a:We}},s1=function(re){return{h:fg(re.h),s:cl(re.s,0,100),l:cl(re.l,0,100),a:cl(re.a)}},l1=function(re){return{h:xo(re.h),s:xo(re.s),l:xo(re.l),a:xo(re.a,3)}},u1=function(re){return pg((Se=(se=re).s,{h:se.h,s:(Se*=((De=se.l)<50?De:100-De)/100)>0?2*Se/(De+Se)*100:0,v:De+Se,a:se.a}));var se,Se,De},Af=function(re){return{h:(se=hg(re)).h,s:(We=(200-(Se=se.s))*(De=se.v)/100)>0&&We<200?Se*De/100/(We<=100?We:200-We)*100:0,l:We/2,a:se.a};var se,Se,De,We},py=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,dy=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,gy=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,vy=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,c1={string:[[function(re){var se=hy.exec(re);return se?(re=se[1]).length<=4?{r:parseInt(re[0]+re[0],16),g:parseInt(re[1]+re[1],16),b:parseInt(re[2]+re[2],16),a:re.length===4?xo(parseInt(re[3]+re[3],16)/255,2):1}:re.length===6||re.length===8?{r:parseInt(re.substr(0,2),16),g:parseInt(re.substr(2,2),16),b:parseInt(re.substr(4,2),16),a:re.length===8?xo(parseInt(re.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(re){var se=gy.exec(re)||vy.exec(re);return se?se[2]!==se[4]||se[4]!==se[6]?null:o1({r:Number(se[1])/(se[2]?100/255:1),g:Number(se[3])/(se[4]?100/255:1),b:Number(se[5])/(se[6]?100/255:1),a:se[7]===void 0?1:Number(se[7])/(se[8]?100:1)}):null},"rgb"],[function(re){var se=py.exec(re)||dy.exec(re);if(!se)return null;var Se,De,We=s1({h:(Se=se[1],De=se[2],De===void 0&&(De="deg"),Number(Se)*(fy[De]||1)),s:Number(se[3]),l:Number(se[4]),a:se[5]===void 0?1:Number(se[5])/(se[6]?100:1)});return u1(We)},"hsl"]],object:[[function(re){var se=re.r,Se=re.g,De=re.b,We=re.a,B=We===void 0?1:We;return vu(se)&&vu(Se)&&vu(De)?o1({r:Number(se),g:Number(Se),b:Number(De),a:Number(B)}):null},"rgb"],[function(re){var se=re.h,Se=re.s,De=re.l,We=re.a,B=We===void 0?1:We;if(!vu(se)||!vu(Se)||!vu(De))return null;var L=s1({h:Number(se),s:Number(Se),l:Number(De),a:Number(B)});return u1(L)},"hsl"],[function(re){var se=re.h,Se=re.s,De=re.v,We=re.a,B=We===void 0?1:We;if(!vu(se)||!vu(Se)||!vu(De))return null;var L=function(e){return{h:fg(e.h),s:cl(e.s,0,100),v:cl(e.v,0,100),a:cl(e.a)}}({h:Number(se),s:Number(Se),v:Number(De),a:Number(B)});return pg(L)},"hsv"]]},f1=function(re,se){for(var Se=0;Se<se.length;Se++){var De=se[Se][0](re);if(De)return[De,se[Se][1]]}return[null,void 0]},my=function(re){return typeof re=="string"?f1(re.trim(),c1.string):typeof re=="object"&&re!==null?f1(re,c1.object):[null,void 0]},Vp=function(re,se){var Se=Af(re);return{h:Se.h,s:cl(Se.s+100*se,0,100),l:Se.l,a:Se.a}},Hp=function(re){return(299*re.r+587*re.g+114*re.b)/1e3/255},h1=function(re,se){var Se=Af(re);return{h:Se.h,s:Se.s,l:cl(Se.l+100*se,0,100),a:Se.a}},p1=function(){function re(se){this.parsed=my(se)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return re.prototype.isValid=function(){return this.parsed!==null},re.prototype.brightness=function(){return xo(Hp(this.rgba),2)},re.prototype.isDark=function(){return Hp(this.rgba)<.5},re.prototype.isLight=function(){return Hp(this.rgba)>=.5},re.prototype.toHex=function(){return se=Up(this.rgba),Se=se.r,De=se.g,We=se.b,L=(B=se.a)<1?Th(xo(255*B)):"","#"+Th(Se)+Th(De)+Th(We)+L;var se,Se,De,We,B,L},re.prototype.toRgb=function(){return Up(this.rgba)},re.prototype.toRgbString=function(){return se=Up(this.rgba),Se=se.r,De=se.g,We=se.b,(B=se.a)<1?"rgba("+Se+", "+De+", "+We+", "+B+")":"rgb("+Se+", "+De+", "+We+")";var se,Se,De,We,B},re.prototype.toHsl=function(){return l1(Af(this.rgba))},re.prototype.toHslString=function(){return se=l1(Af(this.rgba)),Se=se.h,De=se.s,We=se.l,(B=se.a)<1?"hsla("+Se+", "+De+"%, "+We+"%, "+B+")":"hsl("+Se+", "+De+"%, "+We+"%)";var se,Se,De,We,B},re.prototype.toHsv=function(){return se=hg(this.rgba),{h:xo(se.h),s:xo(se.s),v:xo(se.v),a:xo(se.a,3)};var se},re.prototype.invert=function(){return Hs({r:255-(se=this.rgba).r,g:255-se.g,b:255-se.b,a:se.a});var se},re.prototype.saturate=function(se){return se===void 0&&(se=.1),Hs(Vp(this.rgba,se))},re.prototype.desaturate=function(se){return se===void 0&&(se=.1),Hs(Vp(this.rgba,-se))},re.prototype.grayscale=function(){return Hs(Vp(this.rgba,-1))},re.prototype.lighten=function(se){return se===void 0&&(se=.1),Hs(h1(this.rgba,se))},re.prototype.darken=function(se){return se===void 0&&(se=.1),Hs(h1(this.rgba,-se))},re.prototype.rotate=function(se){return se===void 0&&(se=15),this.hue(this.hue()+se)},re.prototype.alpha=function(se){return typeof se=="number"?Hs({r:(Se=this.rgba).r,g:Se.g,b:Se.b,a:se}):xo(this.rgba.a,3);var Se},re.prototype.hue=function(se){var Se=Af(this.rgba);return typeof se=="number"?Hs({h:se,s:Se.s,l:Se.l,a:Se.a}):xo(Se.h)},re.prototype.isEqual=function(se){return this.toHex()===Hs(se).toHex()},re}(),Hs=function(re){return re instanceof p1?re:new p1(re)};function d1(re){let se;return{c(){se=_r("input"),Vn(se,"type","hidden"),Vn(se,"name",re[3]),se.value=re[0]},m(Se,De){Cr(Se,se,De)},p(Se,De){De&8&&Vn(se,"name",Se[3]),De&1&&(se.value=Se[0])},d(Se){Se&&Lr(se)}}}function yy(re){let se,Se,De,We,B,L,e,k,w,r=re[3]&&d1(re);return{c(){se=_r("div"),Se=_r("div"),De=qr(),We=_r("div"),L=qr(),r&&r.c(),e=As(),Vn(Se,"class","track svelte-pjqaqp"),Vn(We,"class","thumb svelte-pjqaqp"),Vn(se,"class","slider svelte-pjqaqp"),Vn(se,"role","slider"),Vn(se,"aria-orientation",re[4]),Vn(se,"aria-valuemax",re[11]),Vn(se,"aria-valuemin",re[10]),Vn(se,"aria-valuenow",re[0]),Vn(se,"aria-valuetext",B=re[2](re[0])),Vn(se,"aria-label",re[7]),Vn(se,"aria-labelledby",re[8]),Vn(se,"aria-controls",re[9]),Vn(se,"tabindex","0"),Ms(se,"reverse",re[5]),Xa(se,"--position",re[12])},m(_,v){Cr(_,se,v),hr(se,Se),hr(se,De),hr(se,We),re[22](se),Cr(_,L,v),r&&r.m(_,v),Cr(_,e,v),k||(w=[ji(window,"mousemove",re[15]),ji(window,"mouseup",re[16]),ji(se,"keydown",re[13]),ji(se,"mousedown",ny(function(){lc(re[6]?void 0:re[14])&&(re[6]?void 0:re[14]).apply(this,arguments)})),ji(se,"touchstart",xu(function(){lc(re[6]?void 0:re[17])&&(re[6]?void 0:re[17]).apply(this,arguments)}),{passive:!1}),ji(se,"touchmove",xu(function(){lc(re[6]?void 0:re[17])&&(re[6]?void 0:re[17]).apply(this,arguments)}),{passive:!1}),ji(se,"touchend",xu(function(){lc(re[6]?void 0:re[17])&&(re[6]?void 0:re[17]).apply(this,arguments)}),{passive:!1})],k=!0)},p(_,[v]){re=_,v&16&&Vn(se,"aria-orientation",re[4]),v&2048&&Vn(se,"aria-valuemax",re[11]),v&1024&&Vn(se,"aria-valuemin",re[10]),v&1&&Vn(se,"aria-valuenow",re[0]),v&5&&B!==(B=re[2](re[0]))&&Vn(se,"aria-valuetext",B),v&128&&Vn(se,"aria-label",re[7]),v&256&&Vn(se,"aria-labelledby",re[8]),v&512&&Vn(se,"aria-controls",re[9]),v&32&&Ms(se,"reverse",re[5]),v&4096&&Xa(se,"--position",re[12]),re[3]?r?r.p(re,v):(r=d1(re),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:xi,o:xi,d(_){_&&(Lr(se),Lr(L),Lr(e)),re[22](null),r&&r.d(_),k=!1,Fl(w)}}}function xy(re,se,Se){let De,We,B,L,{min:e=0}=se,{max:k=100}=se,{step:w=1}=se,{value:r=50}=se,{ariaValueText:_=p=>p.toString()}=se,{name:v=void 0}=se,{direction:f="horizontal"}=se,{reverse:s=!1}=se,{keyboardOnly:t=!1}=se,{slider:a=void 0}=se,{ariaLabel:n=void 0}=se,{ariaLabelledBy:i=void 0}=se,{ariaControls:l=void 0}=se,{isDragging:o=!1}=se;const u=jh();function h(p){const S=1/B,M=Math.round(p*S)/S;return Math.max(De,Math.min(We,M))}function c(p){const S=p.shiftKey?B*10:B;p.key==="ArrowUp"||p.key==="ArrowRight"?(Se(0,r+=S),p.preventDefault()):p.key==="ArrowDown"||p.key==="ArrowLeft"?(Se(0,r-=S),p.preventDefault()):p.key==="Home"?(Se(0,r=De),p.preventDefault()):p.key==="End"?(Se(0,r=We),p.preventDefault()):p.key==="PageUp"?(Se(0,r+=B*10),p.preventDefault()):p.key==="PageDown"&&(Se(0,r-=B*10),p.preventDefault()),Se(0,r=h(r)),u("input",r)}const b={horizontal:{clientSize:"clientWidth",offset:"left",client:"clientX"},vertical:{clientSize:"clientHeight",offset:"top",client:"clientY"}};function d(p){const S=(a==null?void 0:a[b[f].clientSize])||120,M=(a==null?void 0:a.getBoundingClientRect()[b[f].offset])||0;let E=p[b[f].client]-M;f==="vertical"&&(E=-1*E+S),s?Se(0,r=We-E/S*(We-De)):Se(0,r=E/S*(We-De)+De),Se(0,r=h(r)),u("input",r)}function g(p){d(p),Se(18,o=!0)}function m(p){o&&d(p)}function y(){Se(18,o=!1)}function x(p){d({clientX:p.changedTouches[0].clientX,clientY:p.changedTouches[0].clientY})}function T(p){Ja[p?"unshift":"push"](()=>{a=p,Se(1,a)})}return re.$$set=p=>{"min"in p&&Se(19,e=p.min),"max"in p&&Se(20,k=p.max),"step"in p&&Se(21,w=p.step),"value"in p&&Se(0,r=p.value),"ariaValueText"in p&&Se(2,_=p.ariaValueText),"name"in p&&Se(3,v=p.name),"direction"in p&&Se(4,f=p.direction),"reverse"in p&&Se(5,s=p.reverse),"keyboardOnly"in p&&Se(6,t=p.keyboardOnly),"slider"in p&&Se(1,a=p.slider),"ariaLabel"in p&&Se(7,n=p.ariaLabel),"ariaLabelledBy"in p&&Se(8,i=p.ariaLabelledBy),"ariaControls"in p&&Se(9,l=p.ariaControls),"isDragging"in p&&Se(18,o=p.isDragging)},re.$$.update=()=>{re.$$.dirty&524288&&Se(10,De=typeof e=="string"?parseFloat(e):e),re.$$.dirty&1048576&&Se(11,We=typeof k=="string"?parseFloat(k):k),re.$$.dirty&2097152&&(B=typeof w=="string"?parseFloat(w):w),re.$$.dirty&3073&&Se(12,L=((r-De)/(We-De)*1).toFixed(4))},[r,a,_,v,f,s,t,n,i,l,De,We,L,c,g,m,y,x,o,e,k,w,T]}class Dh extends Fa{constructor(se){super(),Ra(this,se,xy,yy,za,{min:19,max:20,step:21,value:0,ariaValueText:2,name:3,direction:4,reverse:5,keyboardOnly:6,slider:1,ariaLabel:7,ariaLabelledBy:8,ariaControls:9,isDragging:18})}}function by(re){let se,Se,De,We,B,L,e,k,w,r,_,v,f;var s=re[2].pickerIndicator;function t(o,u){return{props:{pos:o[6],isDark:o[3]}}}s&&(Se=fl(s,t(re)));function a(o){re[13](o)}let n={keyboardOnly:!0,ariaValueText:_y,ariaLabel:"saturation color"};re[0]!==void 0&&(n.value=re[0]),B=new Dh({props:n}),Ja.push(()=>nu(B,"value",a));function i(o){re[14](o)}let l={keyboardOnly:!0,ariaValueText:wy,direction:"vertical",ariaLabel:"brightness color"};return re[1]!==void 0&&(l.value=re[1]),w=new Dh({props:l}),Ja.push(()=>nu(w,"value",i)),{c(){se=_r("div"),Se&&ta(Se.$$.fragment),De=qr(),We=_r("div"),ta(B.$$.fragment),e=qr(),k=_r("div"),ta(w.$$.fragment),Vn(We,"class","s svelte-1x9tz9y"),Xa(We,"--pos-y",re[6].y),Vn(k,"class","v svelte-1x9tz9y"),Xa(k,"--pos-x",re[6].x),Vn(se,"class","picker svelte-1x9tz9y"),Xa(se,"--picker-color-bg",re[5])},m(o,u){Cr(o,se,u),Se&&Zi(Se,se,null),hr(se,De),hr(se,We),Zi(B,We,null),hr(se,e),hr(se,k),Zi(w,k,null),re[15](se),_=!0,v||(f=[ji(window,"mouseup",re[8]),ji(window,"mousedown",re[10]),ji(window,"mousemove",re[9]),ji(se,"mousedown",xu(re[7])),ji(se,"touchstart",re[11],{passive:!1}),ji(se,"touchmove",xu(re[11]),{passive:!1}),ji(se,"touchend",re[11],{passive:!1})],v=!0)},p(o,[u]){if(u&4&&s!==(s=o[2].pickerIndicator)){if(Se){qs();const b=Se;ti(b.$$.fragment,1,0,()=>{Xi(b,1)}),Gs()}s?(Se=fl(s,t(o)),ta(Se.$$.fragment),Qr(Se.$$.fragment,1),Zi(Se,se,De)):Se=null}else if(s){const b={};u&64&&(b.pos=o[6]),u&8&&(b.isDark=o[3]),Se.$set(b)}const h={};!L&&u&1&&(L=!0,h.value=o[0],hc(()=>L=!1)),B.$set(h),u&64&&Xa(We,"--pos-y",o[6].y);const c={};!r&&u&2&&(r=!0,c.value=o[1],hc(()=>r=!1)),w.$set(c),u&64&&Xa(k,"--pos-x",o[6].x),u&32&&Xa(se,"--picker-color-bg",o[5])},i(o){_||(Se&&Qr(Se.$$.fragment,o),Qr(B.$$.fragment,o),Qr(w.$$.fragment,o),_=!0)},o(o){Se&&ti(Se.$$.fragment,o),ti(B.$$.fragment,o),ti(w.$$.fragment,o),_=!1},d(o){o&&Lr(se),Se&&Xi(Se),Xi(B),Xi(w),re[15](null),v=!1,Fl(f)}}}function kh(re,se,Se){return Math.min(Math.max(se,re),Se)}const _y=re=>`${re}%`,wy=re=>`${re}%`;function Ty(re,se,Se){const De=jh();let{components:We}=se,{h:B}=se,{s:L}=se,{v:e}=se,{isDark:k}=se,w,r=!1,_,v={x:100,y:0};function f(h){const{width:c,left:b,height:d,top:g}=w.getBoundingClientRect(),m={x:kh(h.clientX-b,0,c),y:kh(h.clientY-g,0,d)};Se(0,L=kh(m.x/c,0,1)*100),Se(1,e=kh((d-m.y)/d,0,1)*100)}function s(h){h.button===0&&(r=!0,f(h))}function t(){r=!1}function a(h){r&&f(h)}function n(h){h.target.isSameNode(w)}function i(h){h.preventDefault(),f(h.changedTouches[0])}function l(h){L=h,Se(0,L)}function o(h){e=h,Se(1,e)}function u(h){Ja[h?"unshift":"push"](()=>{w=h,Se(4,w)})}return re.$$set=h=>{"components"in h&&Se(2,We=h.components),"h"in h&&Se(12,B=h.h),"s"in h&&Se(0,L=h.s),"v"in h&&Se(1,e=h.v),"isDark"in h&&Se(3,k=h.isDark)},re.$$.update=()=>{re.$$.dirty&4096&&typeof B=="number"&&Se(5,_=Hs({h:B,s:100,v:100,a:1}).toHex()),re.$$.dirty&19&&typeof L=="number"&&typeof e=="number"&&w&&Se(6,v={x:L,y:100-e}),re.$$.dirty&3&&De("input",{s:L,v:e})},[L,e,We,k,w,_,v,s,t,a,n,i,B,l,o,u]}class ky extends Fa{constructor(se){super(),Ra(this,se,Ty,by,za,{components:2,h:12,s:0,v:1,isDark:3})}}function My(re){let se;return{c(){se=_r("div"),Vn(se,"class","picker-indicator svelte-i5mg2p"),Ms(se,"is-dark",re[1]),Xa(se,"--pos-x",re[0].x),Xa(se,"--pos-y",re[0].y)},m(Se,De){Cr(Se,se,De)},p(Se,[De]){De&2&&Ms(se,"is-dark",Se[1]),De&1&&Xa(se,"--pos-x",Se[0].x),De&1&&Xa(se,"--pos-y",Se[0].y)},i:xi,o:xi,d(Se){Se&&Lr(se)}}}function Ay(re,se,Se){let{pos:De}=se,{isDark:We}=se;return re.$$set=B=>{"pos"in B&&Se(0,De=B.pos),"isDark"in B&&Se(1,We=B.isDark)},[De,We]}class Sy extends Fa{constructor(se){super(),Ra(this,se,Ay,My,za,{pos:0,isDark:1})}}function Ey(re){let se,Se,De,We,B,L,e,k,w,r;return{c(){se=_r("input"),De=qr(),We=_r("input"),L=qr(),e=_r("input"),Vn(se,"aria-label",Se=re[4].label.h),se.value=re[9],Vn(se,"type","number"),Vn(se,"min","0"),Vn(se,"max","360"),Vn(se,"class","svelte-1mk8abz"),Vn(We,"aria-label",B=re[4].label.s),We.value=re[8],Vn(We,"type","number"),Vn(We,"min","0"),Vn(We,"max","100"),Vn(We,"class","svelte-1mk8abz"),Vn(e,"aria-label",k=re[4].label.v),e.value=re[7],Vn(e,"type","number"),Vn(e,"min","0"),Vn(e,"max","100"),Vn(e,"class","svelte-1mk8abz")},m(_,v){Cr(_,se,v),Cr(_,De,v),Cr(_,We,v),Cr(_,L,v),Cr(_,e,v),w||(r=[ji(se,"input",re[13]("h")),ji(We,"input",re[13]("s")),ji(e,"input",re[13]("v"))],w=!0)},p(_,v){v&16&&Se!==(Se=_[4].label.h)&&Vn(se,"aria-label",Se),v&512&&se.value!==_[9]&&(se.value=_[9]),v&16&&B!==(B=_[4].label.s)&&Vn(We,"aria-label",B),v&256&&We.value!==_[8]&&(We.value=_[8]),v&16&&k!==(k=_[4].label.v)&&Vn(e,"aria-label",k),v&128&&e.value!==_[7]&&(e.value=_[7])},d(_){_&&(Lr(se),Lr(De),Lr(We),Lr(L),Lr(e)),w=!1,Fl(r)}}}function Ly(re){let se,Se,De,We,B,L,e,k,w,r,_,v,f;return{c(){se=_r("input"),We=qr(),B=_r("input"),k=qr(),w=_r("input"),Vn(se,"aria-label",Se=re[4].label.r),se.value=De=re[0].r,Vn(se,"type","number"),Vn(se,"min","0"),Vn(se,"max","255"),Vn(se,"class","svelte-1mk8abz"),Vn(B,"aria-label",L=re[4].label.g),B.value=e=re[0].g,Vn(B,"type","number"),Vn(B,"min","0"),Vn(B,"max","255"),Vn(B,"class","svelte-1mk8abz"),Vn(w,"aria-label",r=re[4].label.b),w.value=_=re[0].b,Vn(w,"type","number"),Vn(w,"min","0"),Vn(w,"max","255"),Vn(w,"class","svelte-1mk8abz")},m(s,t){Cr(s,se,t),Cr(s,We,t),Cr(s,B,t),Cr(s,k,t),Cr(s,w,t),v||(f=[ji(se,"input",re[12]("r")),ji(B,"input",re[12]("g")),ji(w,"input",re[12]("b"))],v=!0)},p(s,t){t&16&&Se!==(Se=s[4].label.r)&&Vn(se,"aria-label",Se),t&1&&De!==(De=s[0].r)&&se.value!==De&&(se.value=De),t&16&&L!==(L=s[4].label.g)&&Vn(B,"aria-label",L),t&1&&e!==(e=s[0].g)&&B.value!==e&&(B.value=e),t&16&&r!==(r=s[4].label.b)&&Vn(w,"aria-label",r),t&1&&_!==(_=s[0].b)&&w.value!==_&&(w.value=_)},d(s){s&&(Lr(se),Lr(We),Lr(B),Lr(k),Lr(w)),v=!1,Fl(f)}}}function Cy(re){let se,Se,De,We;return{c(){se=_r("input"),Vn(se,"aria-label",Se=re[4].label.hex),se.value=re[1],Vn(se,"class","svelte-1mk8abz"),Xa(se,"flex",3)},m(B,L){Cr(B,se,L),De||(We=ji(se,"input",re[11]),De=!0)},p(B,L){L&16&&Se!==(Se=B[4].label.hex)&&Vn(se,"aria-label",Se),L&2&&se.value!==B[1]&&(se.value=B[1])},d(B){B&&Lr(se),De=!1,We()}}}function g1(re){let se,Se,De,We;return{c(){se=_r("input"),Vn(se,"aria-label",Se=re[4].label.a),se.value=re[6],Vn(se,"type","number"),Vn(se,"min","0"),Vn(se,"max","1"),Vn(se,"step","0.01"),Vn(se,"class","svelte-1mk8abz")},m(B,L){Cr(B,se,L),De||(We=ji(se,"input",function(){lc(re[5]==="hsv"?re[13]("a"):re[12]("a"))&&(re[5]==="hsv"?re[13]("a"):re[12]("a")).apply(this,arguments)}),De=!0)},p(B,L){re=B,L&16&&Se!==(Se=re[4].label.a)&&Vn(se,"aria-label",Se),L&64&&se.value!==re[6]&&(se.value=re[6])},d(B){B&&Lr(se),De=!1,We()}}}function Oy(re){let se,Se=re[4].color[re[5]]+"",De;return{c(){se=_r("div"),De=li(Se),Vn(se,"class","button-like svelte-1mk8abz")},m(We,B){Cr(We,se,B),hr(se,De)},p(We,B){B&48&&Se!==(Se=We[4].color[We[5]]+"")&&Pi(De,Se)},d(We){We&&Lr(se)}}}function Py(re){let se,Se,De=re[4].color[re[5]]+"",We,B,L,e=re[4].changeTo+"",k,w,r,_,v;return{c(){se=_r("button"),Se=_r("span"),We=li(De),B=qr(),L=_r("span"),k=li(e),w=qr(),r=li(re[10]),Vn(Se,"class","disappear svelte-1mk8abz"),Vn(Se,"aria-hidden","true"),Vn(L,"class","appear svelte-1mk8abz"),Vn(se,"type","button"),Vn(se,"class","svelte-1mk8abz")},m(f,s){Cr(f,se,s),hr(se,Se),hr(Se,We),hr(se,B),hr(se,L),hr(L,k),hr(L,w),hr(L,r),_||(v=ji(se,"click",re[15]),_=!0)},p(f,s){s&48&&De!==(De=f[4].color[f[5]]+"")&&Pi(We,De),s&16&&e!==(e=f[4].changeTo+"")&&Pi(k,e),s&1024&&Pi(r,f[10])},d(f){f&&Lr(se),_=!1,v()}}}function Iy(re){let se,Se,De,We;function B(v,f){return v[5]==="hex"?Cy:v[5]==="rgb"?Ly:Ey}let L=B(re),e=L(re),k=re[2]&&g1(re);function w(v,f){return v[3].length>1?Py:Oy}let r=w(re),_=r(re);return{c(){se=_r("div"),Se=_r("div"),e.c(),De=qr(),k&&k.c(),We=qr(),_.c(),Vn(Se,"class","input-container svelte-1mk8abz"),Vn(se,"class","text-input svelte-1mk8abz")},m(v,f){Cr(v,se,f),hr(se,Se),e.m(Se,null),hr(Se,De),k&&k.m(Se,null),hr(se,We),_.m(se,null)},p(v,[f]){L===(L=B(v))&&e?e.p(v,f):(e.d(1),e=L(v),e&&(e.c(),e.m(Se,De))),v[2]?k?k.p(v,f):(k=g1(v),k.c(),k.m(Se,null)):k&&(k.d(1),k=null),r===(r=w(v))&&_?_.p(v,f):(_.d(1),_=r(v),_&&(_.c(),_.m(se,null)))},i:xi,o:xi,d(v){v&&Lr(se),e.d(),k&&k.d(),_.d()}}}const Dy=/^#?([A-F0-9]{6}|[A-F0-9]{8})$/i;function zy(re,se,Se){let De,We,B,L,e;const k=jh();let{isAlpha:w}=se,{rgb:r}=se,{hsv:_}=se,{hex:v}=se,{textInputModes:f}=se,{texts:s}=se,t=f[0]||"hex";function a(o){const u=o.target;Dy.test(u.value)&&(Se(1,v=u.value),k("input",{hex:v}))}function n(o){return function(u){Se(0,r={...r,[o]:parseFloat(u.target.value)}),k("input",{rgb:r})}}function i(o){return function(u){Se(14,_={..._,[o]:parseFloat(u.target.value)}),k("input",{hsv:_})}}const l=()=>Se(5,t=De);return re.$$set=o=>{"isAlpha"in o&&Se(2,w=o.isAlpha),"rgb"in o&&Se(0,r=o.rgb),"hsv"in o&&Se(14,_=o.hsv),"hex"in o&&Se(1,v=o.hex),"textInputModes"in o&&Se(3,f=o.textInputModes),"texts"in o&&Se(4,s=o.texts)},re.$$.update=()=>{re.$$.dirty&40&&Se(10,De=f[(f.indexOf(t)+1)%f.length]),re.$$.dirty&16384&&Se(9,We=Math.round(_.h)),re.$$.dirty&16384&&Se(8,B=Math.round(_.s)),re.$$.dirty&16384&&Se(7,L=Math.round(_.v)),re.$$.dirty&16384&&Se(6,e=_.a===void 0?1:Math.round(_.a*100)/100)},[r,v,w,f,s,t,e,L,B,We,De,a,n,i,_,l]}class Ry extends Fa{constructor(se){super(),Ra(this,se,zy,Iy,za,{isAlpha:2,rgb:0,hsv:14,hex:1,textInputModes:3,texts:4})}}function Fy(re){let se,Se,De,We,B,L,e,k,w,r,_;return{c(){se=_r("label"),Se=_r("div"),De=_r("input"),We=qr(),B=_r("div"),L=qr(),e=_r("div"),k=qr(),w=li(re[2]),Vn(De,"type","color"),Vn(De,"name",re[3]),De.value=re[1],Vn(De,"aria-haspopup","dialog"),Vn(De,"class","svelte-lemcb1"),Vn(B,"class","alpha svelte-lemcb1"),Vn(e,"class","color svelte-lemcb1"),Xa(e,"background",re[1]),Vn(Se,"class","container svelte-lemcb1"),Vn(se,"class","svelte-lemcb1")},m(v,f){Cr(v,se,f),hr(se,Se),hr(Se,De),hr(Se,We),hr(Se,B),hr(Se,L),hr(Se,e),hr(se,k),hr(se,w),re[5](se),r||(_=[ji(De,"click",xu(Mh)),ji(De,"mousedown",xu(Mh)),ji(se,"click",xu(Mh)),ji(se,"mousedown",xu(Mh))],r=!0)},p(v,[f]){f&8&&Vn(De,"name",v[3]),f&2&&(De.value=v[1]),f&2&&Xa(e,"background",v[1]),f&4&&Pi(w,v[2])},i:xi,o:xi,d(v){v&&Lr(se),re[5](null),r=!1,Fl(_)}}}function Mh(){}function By(re,se,Se){let{labelElement:De}=se,{hex:We}=se,{label:B}=se,{name:L=void 0}=se,{isOpen:e}=se;function k(w){Ja[w?"unshift":"push"](()=>{De=w,Se(0,De)})}return re.$$set=w=>{"labelElement"in w&&Se(0,De=w.labelElement),"hex"in w&&Se(1,We=w.hex),"label"in w&&Se(2,B=w.label),"name"in w&&Se(3,L=w.name),"isOpen"in w&&Se(4,e=w.isOpen)},[De,We,B,L,e,k]}class Ny extends Fa{constructor(se){super(),Ra(this,se,By,Fy,za,{labelElement:0,hex:1,label:2,name:3,isOpen:4})}}function jy(re){let se,Se,De;const We=re[4].default,B=ig(We,re,re[3],null);return{c(){se=_r("div"),B&&B.c(),Vn(se,"class","wrapper svelte-h9ar9"),Vn(se,"role",Se=re[2]?"dialog":void 0),Vn(se,"aria-label","color picker"),Ms(se,"is-open",re[1])},m(L,e){Cr(L,se,e),B&&B.m(se,null),re[5](se),De=!0},p(L,[e]){B&&B.p&&(!De||e&8)&&sg(B,We,L,L[3],De?og(We,L[3],e,null):lg(L[3]),null),(!De||e&4&&Se!==(Se=L[2]?"dialog":void 0))&&Vn(se,"role",Se),(!De||e&2)&&Ms(se,"is-open",L[1])},i(L){De||(Qr(B,L),De=!0)},o(L){ti(B,L),De=!1},d(L){L&&Lr(se),B&&B.d(L),re[5](null)}}}function Uy(re,se,Se){let{$$slots:De={},$$scope:We}=se,{wrapper:B}=se,{isOpen:L}=se,{isDialog:e}=se;function k(w){Ja[w?"unshift":"push"](()=>{B=w,Se(0,B)})}return re.$$set=w=>{"wrapper"in w&&Se(0,B=w.wrapper),"isOpen"in w&&Se(1,L=w.isOpen),"isDialog"in w&&Se(2,e=w.isDialog),"$$scope"in w&&Se(3,We=w.$$scope)},[B,L,e,We,De,k]}let Vy=class extends Fa{constructor(se){super(),Ra(this,se,Uy,jy,za,{wrapper:0,isOpen:1,isDialog:2})}};const qp={label:{h:"hue channel",s:"saturation channel",v:"brightness channel",r:"red channel",g:"green channel",b:"blue channel",a:"alpha channel",hex:"hex color",withoutColor:"without color"},color:{rgb:"rgb",hsv:"hsv",hex:"hex"},changeTo:"change to "},dg="a[href], area[href], input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";function Hy(re){return function(se){if(se.target===window)return;const Se=se.target;if(!re.contains(Se))return;const De=re.querySelectorAll(dg),We=De[0],B=De[De.length-1];function L(k){return k.code==="Tab"&&!k.shiftKey}function e(k){return k.code==="Tab"&&k.shiftKey}L(se)&&se.target===B?(se.preventDefault(),We.focus()):e(se)&&se.target===We&&(se.preventDefault(),B.focus())}}const qy=re=>{const se=re.querySelector(dg);se&&se.focus();const Se=Hy(re);return document.addEventListener("keydown",Se),{destroy(){document.removeEventListener("keydown",Se)}}};function Gy(re){let se,Se,De,We,B,L,e=re[1].label.withoutColor+"",k,w,r;return{c(){se=_r("label"),Se=_r("div"),De=_r("input"),We=qr(),B=_r("span"),L=qr(),k=li(e),Vn(De,"type","checkbox"),Vn(De,"class","svelte-oskb5b"),Vn(B,"class","svelte-oskb5b"),Vn(Se,"class","svelte-oskb5b"),Vn(se,"class","nullability-checkbox svelte-oskb5b")},m(_,v){Cr(_,se,v),hr(se,Se),hr(Se,De),De.checked=re[0],hr(Se,We),hr(Se,B),hr(se,L),hr(se,k),w||(r=ji(De,"change",re[2]),w=!0)},p(_,[v]){v&1&&(De.checked=_[0]),v&2&&e!==(e=_[1].label.withoutColor+"")&&Pi(k,e)},i:xi,o:xi,d(_){_&&Lr(se),w=!1,r()}}}function Yy(re,se,Se){let{isUndefined:De}=se,{texts:We}=se;function B(){De=this.checked,Se(0,De)}return re.$$set=L=>{"isUndefined"in L&&Se(0,De=L.isUndefined),"texts"in L&&Se(1,We=L.texts)},[De,We,B]}class Wy extends Fa{constructor(se){super(),Ra(this,se,Yy,Gy,za,{isUndefined:0,texts:1})}}function Zy(re){let se;return{c(){se=_r("input"),Vn(se,"type","hidden"),se.value=re[2],Vn(se,"name",re[6])},m(Se,De){Cr(Se,se,De)},p(Se,De){De[0]&4&&(se.value=Se[2]),De[0]&64&&Vn(se,"name",Se[6])},i:xi,o:xi,d(Se){Se&&Lr(se)}}}function Xy(re){let se,Se,De,We;function B(k){re[33](k)}var L=re[23]().input;function e(k,w){let r={isOpen:!0,hex:k[2],label:k[5],name:k[6]};return k[21]!==void 0&&(r.labelElement=k[21]),{props:r}}return L&&(se=fl(L,e(re)),Ja.push(()=>nu(se,"labelElement",B))),{c(){se&&ta(se.$$.fragment),De=As()},m(k,w){se&&Zi(se,k,w),Cr(k,De,w),We=!0},p(k,w){if(L!==(L=k[23]().input)){if(se){qs();const r=se;ti(r.$$.fragment,1,0,()=>{Xi(r,1)}),Gs()}L?(se=fl(L,e(k)),Ja.push(()=>nu(se,"labelElement",B)),ta(se.$$.fragment),Qr(se.$$.fragment,1),Zi(se,De.parentNode,De)):se=null}else if(L){const r={};w[0]&4&&(r.hex=k[2]),w[0]&32&&(r.label=k[5]),w[0]&64&&(r.name=k[6]),!Se&&w[0]&2097152&&(Se=!0,r.labelElement=k[21],hc(()=>Se=!1)),se.$set(r)}},i(k){We||(se&&Qr(se.$$.fragment,k),We=!0)},o(k){se&&ti(se.$$.fragment,k),We=!1},d(k){k&&Lr(De),se&&Xi(se,k)}}}function v1(re){let se,Se,De,We;function B(k){re[34](k)}var L=re[23]().nullabilityCheckbox;function e(k,w){let r={texts:k[24]()};return k[16]!==void 0&&(r.isUndefined=k[16]),{props:r}}return L&&(se=fl(L,e(re)),Ja.push(()=>nu(se,"isUndefined",B))),{c(){se&&ta(se.$$.fragment),De=As()},m(k,w){se&&Zi(se,k,w),Cr(k,De,w),We=!0},p(k,w){if(L!==(L=k[23]().nullabilityCheckbox)){if(se){qs();const r=se;ti(r.$$.fragment,1,0,()=>{Xi(r,1)}),Gs()}L?(se=fl(L,e(k)),Ja.push(()=>nu(se,"isUndefined",B)),ta(se.$$.fragment),Qr(se.$$.fragment,1),Zi(se,De.parentNode,De)):se=null}else if(L){const r={};!Se&&w[0]&65536&&(Se=!0,r.isUndefined=k[16],hc(()=>Se=!1)),se.$set(r)}},i(k){We||(se&&Qr(se.$$.fragment,k),We=!0)},o(k){se&&ti(se.$$.fragment,k),We=!1},d(k){k&&Lr(De),se&&Xi(se,k)}}}function m1(re){var We;let se,Se,De;return Se=new Dh({props:{min:0,max:1,step:.01,value:((We=re[1])==null?void 0:We.a)??re[18].a,direction:re[12],reverse:re[12]==="vertical",ariaLabel:re[24]().label.a}}),Se.$on("input",re[27]("a")),{c(){se=_r("div"),ta(Se.$$.fragment),Vn(se,"class","a svelte-1n1d6qa"),Xa(se,"--alphaless-color",(re[2]?re[2]:re[19]).substring(0,7))},m(B,L){Cr(B,se,L),Zi(Se,se,null),De=!0},p(B,L){var k;const e={};L[0]&262146&&(e.value=((k=B[1])==null?void 0:k.a)??B[18].a),L[0]&4096&&(e.direction=B[12]),L[0]&4096&&(e.reverse=B[12]==="vertical"),Se.$set(e),L[0]&524292&&Xa(se,"--alphaless-color",(B[2]?B[2]:B[19]).substring(0,7))},i(B){De||(Qr(Se.$$.fragment,B),De=!0)},o(B){ti(Se.$$.fragment,B),De=!1},d(B){B&&Lr(se),Xi(Se)}}}function y1(re){let se,Se,De;var We=re[23]().textInput;function B(L,e){return{props:{hex:L[2]??L[19],rgb:L[0]??L[17],hsv:L[1]??L[18],isAlpha:L[8],textInputModes:L[11],texts:L[24]()}}}return We&&(se=fl(We,B(re)),se.$on("input",re[35])),{c(){se&&ta(se.$$.fragment),Se=As()},m(L,e){se&&Zi(se,L,e),Cr(L,Se,e),De=!0},p(L,e){if(We!==(We=L[23]().textInput)){if(se){qs();const k=se;ti(k.$$.fragment,1,0,()=>{Xi(k,1)}),Gs()}We?(se=fl(We,B(L)),se.$on("input",L[35]),ta(se.$$.fragment),Qr(se.$$.fragment,1),Zi(se,Se.parentNode,Se)):se=null}else if(We){const k={};e[0]&524292&&(k.hex=L[2]??L[19]),e[0]&131073&&(k.rgb=L[0]??L[17]),e[0]&262146&&(k.hsv=L[1]??L[18]),e[0]&256&&(k.isAlpha=L[8]),e[0]&2048&&(k.textInputModes=L[11]),se.$set(k)}},i(L){De||(se&&Qr(se.$$.fragment,L),De=!0)},o(L){se&&ti(se.$$.fragment,L),De=!1},d(L){L&&Lr(Se),se&&Xi(se,L)}}}function Jy(re){let se,Se,De;var We=re[23]().a11yNotice;function B(L,e){return{props:{components:L[23](),a11yColors:L[13],hex:L[2]||"#00000000",a11yTexts:L[15],a11yLevel:L[14]}}}return We&&(se=fl(We,B(re))),{c(){se&&ta(se.$$.fragment),Se=As()},m(L,e){se&&Zi(se,L,e),Cr(L,Se,e),De=!0},p(L,e){if(We!==(We=L[23]().a11yNotice)){if(se){qs();const k=se;ti(k.$$.fragment,1,0,()=>{Xi(k,1)}),Gs()}We?(se=fl(We,B(L)),ta(se.$$.fragment),Qr(se.$$.fragment,1),Zi(se,Se.parentNode,Se)):se=null}else if(We){const k={};e[0]&8192&&(k.a11yColors=L[13]),e[0]&4&&(k.hex=L[2]||"#00000000"),e[0]&32768&&(k.a11yTexts=L[15]),e[0]&16384&&(k.a11yLevel=L[14]),se.$set(k)}},i(L){De||(se&&Qr(se.$$.fragment,L),De=!0)},o(L){se&&ti(se.$$.fragment,L),De=!1},d(L){L&&Lr(Se),se&&Xi(se,L)}}}function Ky(re){var a,n,i,l;let se,Se,De,We,B,L,e,k,w=re[23]().a11yNotice,r,_,v=re[7]&&v1(re);Se=new ky({props:{components:re[23](),h:((a=re[1])==null?void 0:a.h)??re[18].h,s:((n=re[1])==null?void 0:n.s)??re[18].s,v:((i=re[1])==null?void 0:i.v)??re[18].v,isDark:re[3]}}),Se.$on("input",re[28](["s","v"])),B=new Dh({props:{min:0,max:360,step:1,value:((l=re[1])==null?void 0:l.h)??re[18].h,direction:re[12],reverse:re[12]==="vertical",ariaLabel:re[24]().label.h}}),B.$on("input",re[27]("h"));let f=re[8]&&m1(re),s=re[10]&&y1(re),t=w&&Jy(re);return{c(){v&&v.c(),se=qr(),ta(Se.$$.fragment),De=qr(),We=_r("div"),ta(B.$$.fragment),L=qr(),f&&f.c(),e=qr(),s&&s.c(),k=qr(),t&&t.c(),r=As(),Vn(We,"class","h svelte-1n1d6qa")},m(o,u){v&&v.m(o,u),Cr(o,se,u),Zi(Se,o,u),Cr(o,De,u),Cr(o,We,u),Zi(B,We,null),Cr(o,L,u),f&&f.m(o,u),Cr(o,e,u),s&&s.m(o,u),Cr(o,k,u),t&&t.m(o,u),Cr(o,r,u),_=!0},p(o,u){var b,d,g,m;o[7]?v?(v.p(o,u),u[0]&128&&Qr(v,1)):(v=v1(o),v.c(),Qr(v,1),v.m(se.parentNode,se)):v&&(qs(),ti(v,1,1,()=>{v=null}),Gs());const h={};u[0]&262146&&(h.h=((b=o[1])==null?void 0:b.h)??o[18].h),u[0]&262146&&(h.s=((d=o[1])==null?void 0:d.s)??o[18].s),u[0]&262146&&(h.v=((g=o[1])==null?void 0:g.v)??o[18].v),u[0]&8&&(h.isDark=o[3]),Se.$set(h);const c={};u[0]&262146&&(c.value=((m=o[1])==null?void 0:m.h)??o[18].h),u[0]&4096&&(c.direction=o[12]),u[0]&4096&&(c.reverse=o[12]==="vertical"),B.$set(c),o[8]?f?(f.p(o,u),u[0]&256&&Qr(f,1)):(f=m1(o),f.c(),Qr(f,1),f.m(e.parentNode,e)):f&&(qs(),ti(f,1,1,()=>{f=null}),Gs()),o[10]?s?(s.p(o,u),u[0]&1024&&Qr(s,1)):(s=y1(o),s.c(),Qr(s,1),s.m(k.parentNode,k)):s&&(qs(),ti(s,1,1,()=>{s=null}),Gs()),w&&t.p(o,u)},i(o){_||(Qr(v),Qr(Se.$$.fragment,o),Qr(B.$$.fragment,o),Qr(f),Qr(s),Qr(t),_=!0)},o(o){ti(v),ti(Se.$$.fragment,o),ti(B.$$.fragment,o),ti(f),ti(s),ti(t),_=!1},d(o){o&&(Lr(se),Lr(De),Lr(We),Lr(L),Lr(e),Lr(k),Lr(r)),v&&v.d(o),Xi(Se,o),Xi(B),f&&f.d(o),s&&s.d(o),t&&t.d(o)}}}function Qy(re){let se,Se,De,We,B,L,e,k,w,r;const _=[Xy,Zy],v=[];function f(n,i){return n[9]?0:n[6]?1:-1}~(Se=f(re))&&(De=v[Se]=_[Se](re));function s(n){re[36](n)}var t=re[23]().wrapper;function a(n,i){let l={isOpen:n[4],isDialog:n[9],$$slots:{default:[Ky]},$$scope:{ctx:n}};return n[22]!==void 0&&(l.wrapper=n[22]),{props:l}}return t&&(B=fl(t,a(re)),Ja.push(()=>nu(B,"wrapper",s))),{c(){se=_r("span"),De&&De.c(),We=qr(),B&&ta(B.$$.fragment),Vn(se,"class",e="color-picker "+re[12]+" svelte-1n1d6qa")},m(n,i){Cr(n,se,i),~Se&&v[Se].m(se,null),hr(se,We),B&&Zi(B,se,null),re[37](se),k=!0,w||(r=[ji(window,"mousedown",re[25]),ji(window,"keyup",re[26])],w=!0)},p(n,i){let l=Se;if(Se=f(n),Se===l?~Se&&v[Se].p(n,i):(De&&(qs(),ti(v[l],1,1,()=>{v[l]=null}),Gs()),~Se?(De=v[Se],De?De.p(n,i):(De=v[Se]=_[Se](n),De.c()),Qr(De,1),De.m(se,We)):De=null),t!==(t=n[23]().wrapper)){if(B){qs();const o=B;ti(o.$$.fragment,1,0,()=>{Xi(o,1)}),Gs()}t?(B=fl(t,a(n)),Ja.push(()=>nu(B,"wrapper",s)),ta(B.$$.fragment),Qr(B.$$.fragment,1),Zi(B,se,null)):B=null}else if(t){const o={};i[0]&16&&(o.isOpen=n[4]),i[0]&512&&(o.isDialog=n[9]),i[0]&1047951|i[1]&4096&&(o.$$scope={dirty:i,ctx:n}),!L&&i[0]&4194304&&(L=!0,o.wrapper=n[22],hc(()=>L=!1)),B.$set(o)}(!k||i[0]&4096&&e!==(e="color-picker "+n[12]+" svelte-1n1d6qa"))&&Vn(se,"class",e)},i(n){k||(Qr(De),B&&Qr(B.$$.fragment,n),k=!0)},o(n){ti(De),B&&ti(B.$$.fragment,n),k=!1},d(n){n&&Lr(se),~Se&&v[Se].d(),B&&Xi(B),re[37](null),w=!1,Fl(r)}}}function $y(re,se,Se){const De=jh();let{components:We={}}=se,{label:B="Choose a color"}=se,{name:L=void 0}=se,{nullable:e=!1}=se,{rgb:k=e?void 0:{r:255,g:0,b:0,a:1}}=se,{hsv:w=e?void 0:{h:0,s:100,v:100,a:1}}=se,{hex:r=e?void 0:"#ff0000"}=se,{color:_=void 0}=se,{isDark:v=!1}=se,{isAlpha:f=!0}=se,{isDialog:s=!0}=se,{isOpen:t=!s}=se,{isTextInput:a=!0}=se,{textInputModes:n=["hex","rgb","hsv"]}=se,{sliderDirection:i="vertical"}=se,{disableCloseClickOutside:l=!1}=se,{a11yColors:o=[{bgHex:"#ffffff"}]}=se,{a11yLevel:u="AA"}=se,{texts:h=void 0}=se,{a11yTexts:c=void 0}=se,b={r:255,g:0,b:0,a:1},d={h:0,s:100,v:100,a:1},g="#ff0000",m=!1,y=m,x,T,p,S;const M={pickerIndicator:Sy,textInput:Ry,input:Ny,nullabilityCheckbox:Wy,wrapper:Vy};function E(){return{...M,...We}}function P(){return{label:{...qp.label,...h==null?void 0:h.label},color:{...qp.color,...h==null?void 0:h.color},changeTo:(h==null?void 0:h.changeTo)??qp.changeTo}}function O({target:te}){s&&(T.contains(te)||T.isSameNode(te)?Se(4,t=!t):t&&!p.contains(te)&&!l&&Se(4,t=!1))}function I({key:te,target:Q}){if(s)te==="Enter"&&T.contains(Q)?(Se(4,t=!t),setTimeout(()=>{S=qy(p)})):te==="Escape"&&t&&(Se(4,t=!1),x.contains(Q)&&(T==null||T.focus(),S==null||S.destroy()));else return}function R(){if(m&&!y){y=!0,Se(1,w=Se(0,k=Se(2,r=void 0))),De("input",{color:_,hsv:w,rgb:k,hex:r});return}else if(y&&!m){y=!1,Se(1,w=d),Se(0,k=b),Se(2,r=g),De("input",{color:_,hsv:w,rgb:k,hex:r});return}if(!w&&!k&&!r){Se(16,m=!0),y=!0,De("input",{color:void 0,hsv:w,rgb:k,hex:r});return}w&&k&&w.h===d.h&&w.s===d.s&&w.v===d.v&&w.a===d.a&&k.r===b.r&&k.g===b.g&&k.b===b.b&&k.a===b.a&&r===g||(Se(16,m=!1),w&&w.a===void 0&&Se(1,w.a=1,w),d.a===void 0&&Se(18,d.a=1,d),k&&k.a===void 0&&Se(0,k.a=1,k),b.a===void 0&&Se(17,b.a=1,b),(r==null?void 0:r.substring(7))==="ff"&&Se(2,r=r.substring(0,7)),(r==null?void 0:r.substring(7))==="ff"&&Se(2,r=r.substring(0,7)),w&&(w.h!==d.h||w.s!==d.s||w.v!==d.v||w.a!==d.a)?(Se(29,_=Hs(w)),Se(0,k=_.toRgb()),Se(2,r=_.toHex())):k&&(k.r!==b.r||k.g!==b.g||k.b!==b.b||k.a!==b.a)?(Se(29,_=Hs(k)),Se(2,r=_.toHex()),Se(1,w=_.toHsv())):r&&r!==g&&(Se(29,_=Hs(r)),Se(0,k=_.toRgb()),Se(1,w=_.toHsv())),_&&Se(3,v=_.isDark()),r&&(Se(18,d=Object.assign({},w)),Se(17,b=Object.assign({},k)),Se(19,g=r),y=m,De("input",{color:_,hsv:w,rgb:k,hex:r})))}function U(te){return Q=>{w||Se(1,w={...d}),Se(1,w[te]=Q.detail,w)}}function z(te){return Q=>{w||Se(1,w={...d}),te.forEach(K=>{w&&Se(1,w[K]=Q.detail[K],w)})}}function j(te){T=te,Se(21,T)}function W(te){m=te,Se(16,m)}const F=({detail:te})=>{te.hsv?Se(1,w=te.hsv):te.rgb?Se(0,k=te.rgb):te.hex&&Se(2,r=te.hex)};function V(te){p=te,Se(22,p)}function H(te){Ja[te?"unshift":"push"](()=>{x=te,Se(20,x)})}return re.$$set=te=>{"components"in te&&Se(30,We=te.components),"label"in te&&Se(5,B=te.label),"name"in te&&Se(6,L=te.name),"nullable"in te&&Se(7,e=te.nullable),"rgb"in te&&Se(0,k=te.rgb),"hsv"in te&&Se(1,w=te.hsv),"hex"in te&&Se(2,r=te.hex),"color"in te&&Se(29,_=te.color),"isDark"in te&&Se(3,v=te.isDark),"isAlpha"in te&&Se(8,f=te.isAlpha),"isDialog"in te&&Se(9,s=te.isDialog),"isOpen"in te&&Se(4,t=te.isOpen),"isTextInput"in te&&Se(10,a=te.isTextInput),"textInputModes"in te&&Se(11,n=te.textInputModes),"sliderDirection"in te&&Se(12,i=te.sliderDirection),"disableCloseClickOutside"in te&&Se(31,l=te.disableCloseClickOutside),"a11yColors"in te&&Se(13,o=te.a11yColors),"a11yLevel"in te&&Se(14,u=te.a11yLevel),"texts"in te&&Se(32,h=te.texts),"a11yTexts"in te&&Se(15,c=te.a11yTexts)},re.$$.update=()=>{re.$$.dirty[0]&7&&(w||k||r)&&R(),re.$$.dirty[0]&65536&&R()},[k,w,r,v,t,B,L,e,f,s,a,n,i,o,u,c,m,b,d,g,x,T,p,E,P,O,I,U,z,_,We,l,h,j,W,F,V,H]}class ex extends Fa{constructor(se){super(),Ra(this,se,$y,Qy,za,{components:30,label:5,name:6,nullable:7,rgb:0,hsv:1,hex:2,color:29,isDark:3,isAlpha:8,isDialog:9,isOpen:4,isTextInput:10,textInputModes:11,sliderDirection:12,disableCloseClickOutside:31,a11yColors:13,a11yLevel:14,texts:32,a11yTexts:15},null,[-1,-1])}}function tx(re){let se,Se,De;const We=re[4].default,B=ig(We,re,re[3],null);return{c(){se=_r("div"),B&&B.c(),Vn(se,"class","wrapper svelte-1le3y9a"),Vn(se,"role",Se=re[2]?"dialog":void 0),Vn(se,"aria-label","color picker"),Ms(se,"is-open",re[1])},m(L,e){Cr(L,se,e),B&&B.m(se,null),re[5](se),De=!0},p(L,[e]){B&&B.p&&(!De||e&8)&&sg(B,We,L,L[3],De?og(We,L[3],e,null):lg(L[3]),null),(!De||e&4&&Se!==(Se=L[2]?"dialog":void 0))&&Vn(se,"role",Se),(!De||e&2)&&Ms(se,"is-open",L[1])},i(L){De||(Qr(B,L),De=!0)},o(L){ti(B,L),De=!1},d(L){L&&Lr(se),B&&B.d(L),re[5](null)}}}function nx(re,se,Se){let{$$slots:De={},$$scope:We}=se,{wrapper:B}=se,{isOpen:L}=se,{isDialog:e}=se;function k(w){Ja[w?"unshift":"push"](()=>{B=w,Se(0,B)})}return re.$$set=w=>{"wrapper"in w&&Se(0,B=w.wrapper),"isOpen"in w&&Se(1,L=w.isOpen),"isDialog"in w&&Se(2,e=w.isDialog),"$$scope"in w&&Se(3,We=w.$$scope)},[B,L,e,We,De,k]}class rx extends Fa{constructor(se){super(),Ra(this,se,nx,tx,za,{wrapper:0,isOpen:1,isDialog:2})}}const ix={wrapper:rx};function x1(re){let se,Se=Object.keys(re[1]).length+"",De,We,B=Object.keys(re[1]).length==1?"warning":"warnings",L,e,k;return{c(){se=_r("button"),De=li(Se),We=qr(),L=li(B),Vn(se,"class","warning svelte-abq8jd")},m(w,r){Cr(w,se,r),hr(se,De),hr(se,We),hr(se,L),e||(k=ji(se,"click",gg),e=!0)},p(w,r){r&2&&Se!==(Se=Object.keys(w[1]).length+"")&&Pi(De,Se),r&2&&B!==(B=Object.keys(w[1]).length==1?"warning":"warnings")&&Pi(L,B)},d(w){w&&Lr(se),e=!1,k()}}}function b1(re){let se,Se=Object.keys(re[2]).length+"",De,We,B=Object.keys(re[2]).length==1?"error":"errors",L,e,k;return{c(){se=_r("button"),De=li(Se),We=qr(),L=li(B),Vn(se,"class","error svelte-abq8jd")},m(w,r){Cr(w,se,r),hr(se,De),hr(se,We),hr(se,L),e||(k=ji(se,"click",gg),e=!0)},p(w,r){r&4&&Se!==(Se=Object.keys(w[2]).length+"")&&Pi(De,Se),r&4&&B!==(B=Object.keys(w[2]).length==1?"error":"errors")&&Pi(L,B)},d(w){w&&Lr(se),e=!1,k()}}}function ax(re){let se,Se,De,We,B,L=re[3].toLocaleString()+"",e,k,w,r,_,v,f,s,t=Object.keys(re[1]).length>=1,a,n=Object.keys(re[2]).length>=1,i;function l(c){re[5](c)}let o={components:ix,sliderDirection:"horizontal",label:""};re[0]!==void 0&&(o.hex=re[0]),v=new ex({props:o}),Ja.push(()=>nu(v,"hex",l)),v.$on("input",re[4]);let u=t&&x1(re),h=n&&b1(re);return{c(){se=_r("div"),Se=_r("div"),De=_r("div"),De.innerHTML='<div class="logo svelte-abq8jd">Log Analyzer</div>',We=qr(),B=_r("div"),e=li(L),k=li(" lines"),w=qr(),r=_r("div"),_=_r("div"),ta(v.$$.fragment),s=qr(),u&&u.c(),a=qr(),h&&h.c(),Vn(De,"class","logo-container svelte-abq8jd"),Vn(B,"class","line-count svelte-abq8jd"),Vn(Se,"class","title svelte-abq8jd"),Vn(_,"class","color-picker svelte-abq8jd"),Vn(r,"class","notifications svelte-abq8jd"),Vn(se,"class","header svelte-abq8jd")},m(c,b){Cr(c,se,b),hr(se,Se),hr(Se,De),hr(Se,We),hr(Se,B),hr(B,e),hr(B,k),hr(se,w),hr(se,r),hr(r,_),Zi(v,_,null),hr(r,s),u&&u.m(r,null),hr(r,a),h&&h.m(r,null),i=!0},p(c,[b]){(!i||b&8)&&L!==(L=c[3].toLocaleString()+"")&&Pi(e,L);const d={};!f&&b&1&&(f=!0,d.hex=c[0],hc(()=>f=!1)),v.$set(d),b&2&&(t=Object.keys(c[1]).length>=1),t?u?u.p(c,b):(u=x1(c),u.c(),u.m(r,a)):u&&(u.d(1),u=null),b&4&&(n=Object.keys(c[2]).length>=1),n?h?h.p(c,b):(h=b1(c),h.c(),h.m(r,null)):h&&(h.d(1),h=null)},i(c){i||(Qr(v.$$.fragment,c),i=!0)},o(c){ti(v.$$.fragment,c),i=!1},d(c){c&&Lr(se),Xi(v),u&&u.d(),h&&h.d()}}}function gg(){window.scrollTo(0,document.body.scrollHeight)}function ox(re,se,Se){let De=null;function We(){const r=new Date().getTime();De!==null&&r-De<100||(De=r,document.documentElement.style.setProperty("--highlight",k))}let{multiTypeTokens:B,failedLines:L,lineCount:e,hex:k}=se;function w(r){k=r,Se(0,k)}return re.$$set=r=>{"multiTypeTokens"in r&&Se(1,B=r.multiTypeTokens),"failedLines"in r&&Se(2,L=r.failedLines),"lineCount"in r&&Se(3,e=r.lineCount),"hex"in r&&Se(0,k=r.hex)},[k,B,L,e,We,w]}class sx extends Fa{constructor(se){super(),Ra(this,se,ox,ax,za,{multiTypeTokens:1,failedLines:2,lineCount:3,hex:0})}}function _1(re,se,Se){const De=re.slice();return De[4]=se[Se],De}function w1(re){let se,Se=no(re[0]),De=[];for(let We=0;We<Se.length;We+=1)De[We]=T1(_1(re,Se,We));return{c(){se=_r("div");for(let We=0;We<De.length;We+=1)De[We].c();Vn(se,"class","freq-graph svelte-s2d8o8")},m(We,B){Cr(We,se,B);for(let L=0;L<De.length;L+=1)De[L]&&De[L].m(se,null)},p(We,B){if(B&1){Se=no(We[0]);let L;for(L=0;L<Se.length;L+=1){const e=_1(We,Se,L);De[L]?De[L].p(e,B):(De[L]=T1(e),De[L].c(),De[L].m(se,null))}for(;L<De.length;L+=1)De[L].d(1);De.length=Se.length}},d(We){We&&Lr(se),iu(De,We)}}}function T1(re){let se,Se,De=re[4].token+"",We,B,L;return{c(){se=_r("div"),Se=_r("div"),We=li(De),B=qr(),Vn(Se,"class","bar svelte-s2d8o8"),Xa(Se,"width",re[4].width+"%"),Vn(se,"class","token-frequency svelte-s2d8o8"),Vn(se,"title",L=re[4].count.toLocaleString())},m(e,k){Cr(e,se,k),hr(se,Se),hr(Se,We),hr(se,B)},p(e,k){k&1&&De!==(De=e[4].token+"")&&Pi(We,De),k&1&&Xa(Se,"width",e[4].width+"%"),k&1&&L!==(L=e[4].count.toLocaleString())&&Vn(se,"title",L)},d(e){e&&Lr(se)}}}function lx(re){let se,Se=re[0].length>0&&w1(re);return{c(){Se&&Se.c(),se=As()},m(De,We){Se&&Se.m(De,We),Cr(De,se,We)},p(De,[We]){De[0].length>0?Se?Se.p(De,We):(Se=w1(De),Se.c(),Se.m(se.parentNode,se)):Se&&(Se.d(1),Se=null)},i:xi,o:xi,d(De){De&&Lr(se),Se&&Se.d(De)}}}const k1=10;function ux(re){let se=[];for(const[We,B]of Object.entries(re))se.push({token:We,count:B,width:0});se.sort((We,B)=>B.count-We.count);let Se=0;for(let We=k1;We<se.length;We++)Se+=se[We].count;se=se.slice(0,k1),Se>0&&se.push({token:"Others",count:Se,width:0});let De=0;for(let We=0;We<se.length;We++)se[We].count>De&&(De=se[We].count);for(let We=0;We<se.length;We++)se[We].width=se[We].count/De*100;return se}function cx(re,se){var De;const Se={};for(let We=0;We<re.extraction.length;We++){const B=re.extraction[We].params;se in B&&(Se[De=B[se].value]||(Se[De]=0),Se[B[se].value]+=1)}return Se}function fx(re,se,Se){let De=[];function We(e){Se(0,De=ux(e))}Mu(()=>{const e=cx(B,L);We(e)});let{data:B,token:L}=se;return re.$$set=e=>{"data"in e&&Se(1,B=e.data),"token"in e&&Se(2,L=e.token)},[De,B,L]}class hx extends Fa{constructor(se){super(),Ra(this,se,fx,lx,za,{data:1,token:2})}}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var vg;function Br(){return vg.apply(null,arguments)}function px(re){vg=re}function zl(re){return re instanceof Array||Object.prototype.toString.call(re)==="[object Array]"}function fc(re){return re!=null&&Object.prototype.toString.call(re)==="[object Object]"}function Ui(re,se){return Object.prototype.hasOwnProperty.call(re,se)}function ad(re){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(re).length===0;var se;for(se in re)if(Ui(re,se))return!1;return!0}function ks(re){return re===void 0}function ku(re){return typeof re=="number"||Object.prototype.toString.call(re)==="[object Number]"}function If(re){return re instanceof Date||Object.prototype.toString.call(re)==="[object Date]"}function mg(re,se){var Se=[],De,We=re.length;for(De=0;De<We;++De)Se.push(se(re[De],De));return Se}function Uu(re,se){for(var Se in se)Ui(se,Se)&&(re[Se]=se[Se]);return Ui(se,"toString")&&(re.toString=se.toString),Ui(se,"valueOf")&&(re.valueOf=se.valueOf),re}function au(re,se,Se,De){return jg(re,se,Se,De,!0).utc()}function dx(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function fi(re){return re._pf==null&&(re._pf=dx()),re._pf}var Qp;Array.prototype.some?Qp=Array.prototype.some:Qp=function(re){var se=Object(this),Se=se.length>>>0,De;for(De=0;De<Se;De++)if(De in se&&re.call(this,se[De],De,se))return!0;return!1};function od(re){var se=null,Se=!1,De=re._d&&!isNaN(re._d.getTime());if(De&&(se=fi(re),Se=Qp.call(se.parsedDateParts,function(We){return We!=null}),De=se.overflow<0&&!se.empty&&!se.invalidEra&&!se.invalidMonth&&!se.invalidWeekday&&!se.weekdayMismatch&&!se.nullInput&&!se.invalidFormat&&!se.userInvalidated&&(!se.meridiem||se.meridiem&&Se),re._strict&&(De=De&&se.charsLeftOver===0&&se.unusedTokens.length===0&&se.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(re))re._isValid=De;else return De;return re._isValid}function Uh(re){var se=au(NaN);return re!=null?Uu(fi(se),re):fi(se).userInvalidated=!0,se}var M1=Br.momentProperties=[],Gp=!1;function sd(re,se){var Se,De,We,B=M1.length;if(ks(se._isAMomentObject)||(re._isAMomentObject=se._isAMomentObject),ks(se._i)||(re._i=se._i),ks(se._f)||(re._f=se._f),ks(se._l)||(re._l=se._l),ks(se._strict)||(re._strict=se._strict),ks(se._tzm)||(re._tzm=se._tzm),ks(se._isUTC)||(re._isUTC=se._isUTC),ks(se._offset)||(re._offset=se._offset),ks(se._pf)||(re._pf=fi(se)),ks(se._locale)||(re._locale=se._locale),B>0)for(Se=0;Se<B;Se++)De=M1[Se],We=se[De],ks(We)||(re[De]=We);return re}function Df(re){sd(this,re),this._d=new Date(re._d!=null?re._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Gp===!1&&(Gp=!0,Br.updateOffset(this),Gp=!1)}function Rl(re){return re instanceof Df||re!=null&&re._isAMomentObject!=null}function yg(re){Br.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+re)}function hl(re,se){var Se=!0;return Uu(function(){if(Br.deprecationHandler!=null&&Br.deprecationHandler(null,re),Se){var De=[],We,B,L,e=arguments.length;for(B=0;B<e;B++){if(We="",typeof arguments[B]=="object"){We+=`
[`+B+"] ";for(L in arguments[0])Ui(arguments[0],L)&&(We+=L+": "+arguments[0][L]+", ");We=We.slice(0,-2)}else We=arguments[B];De.push(We)}yg(re+`
Arguments: `+Array.prototype.slice.call(De).join("")+`
`+new Error().stack),Se=!1}return se.apply(this,arguments)},se)}var A1={};function xg(re,se){Br.deprecationHandler!=null&&Br.deprecationHandler(re,se),A1[re]||(yg(se),A1[re]=!0)}Br.suppressDeprecationWarnings=!1;Br.deprecationHandler=null;function ou(re){return typeof Function<"u"&&re instanceof Function||Object.prototype.toString.call(re)==="[object Function]"}function gx(re){var se,Se;for(Se in re)Ui(re,Se)&&(se=re[Se],ou(se)?this[Se]=se:this["_"+Se]=se);this._config=re,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function $p(re,se){var Se=Uu({},re),De;for(De in se)Ui(se,De)&&(fc(re[De])&&fc(se[De])?(Se[De]={},Uu(Se[De],re[De]),Uu(Se[De],se[De])):se[De]!=null?Se[De]=se[De]:delete Se[De]);for(De in re)Ui(re,De)&&!Ui(se,De)&&fc(re[De])&&(Se[De]=Uu({},Se[De]));return Se}function ld(re){re!=null&&this.set(re)}var ed;Object.keys?ed=Object.keys:ed=function(re){var se,Se=[];for(se in re)Ui(re,se)&&Se.push(se);return Se};var vx={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function mx(re,se,Se){var De=this._calendar[re]||this._calendar.sameElse;return ou(De)?De.call(se,Se):De}function ru(re,se,Se){var De=""+Math.abs(re),We=se-De.length,B=re>=0;return(B?Se?"+":"":"-")+Math.pow(10,Math.max(0,We)).toString().substr(1)+De}var ud=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ah=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Yp={},Vc={};function Jr(re,se,Se,De){var We=De;typeof De=="string"&&(We=function(){return this[De]()}),re&&(Vc[re]=We),se&&(Vc[se[0]]=function(){return ru(We.apply(this,arguments),se[1],se[2])}),Se&&(Vc[Se]=function(){return this.localeData().ordinal(We.apply(this,arguments),re)})}function yx(re){return re.match(/\[[\s\S]/)?re.replace(/^\[|\]$/g,""):re.replace(/\\/g,"")}function xx(re){var se=re.match(ud),Se,De;for(Se=0,De=se.length;Se<De;Se++)Vc[se[Se]]?se[Se]=Vc[se[Se]]:se[Se]=yx(se[Se]);return function(We){var B="",L;for(L=0;L<De;L++)B+=ou(se[L])?se[L].call(We,re):se[L];return B}}function Ch(re,se){return re.isValid()?(se=bg(se,re.localeData()),Yp[se]=Yp[se]||xx(se),Yp[se](re)):re.localeData().invalidDate()}function bg(re,se){var Se=5;function De(We){return se.longDateFormat(We)||We}for(Ah.lastIndex=0;Se>=0&&Ah.test(re);)re=re.replace(Ah,De),Ah.lastIndex=0,Se-=1;return re}var bx={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function _x(re){var se=this._longDateFormat[re],Se=this._longDateFormat[re.toUpperCase()];return se||!Se?se:(this._longDateFormat[re]=Se.match(ud).map(function(De){return De==="MMMM"||De==="MM"||De==="DD"||De==="dddd"?De.slice(1):De}).join(""),this._longDateFormat[re])}var wx="Invalid date";function Tx(){return this._invalidDate}var kx="%d",Mx=/\d{1,2}/;function Ax(re){return this._ordinal.replace("%d",re)}var Sx={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ex(re,se,Se,De){var We=this._relativeTime[Se];return ou(We)?We(re,se,Se,De):We.replace(/%d/i,re)}function Lx(re,se){var Se=this._relativeTime[re>0?"future":"past"];return ou(Se)?Se(se):Se.replace(/%s/i,se)}var S1={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function pl(re){return typeof re=="string"?S1[re]||S1[re.toLowerCase()]:void 0}function cd(re){var se={},Se,De;for(De in re)Ui(re,De)&&(Se=pl(De),Se&&(se[Se]=re[De]));return se}var Cx={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Ox(re){var se=[],Se;for(Se in re)Ui(re,Se)&&se.push({unit:Se,priority:Cx[Se]});return se.sort(function(De,We){return De.priority-We.priority}),se}var _g=/\d/,Ys=/\d\d/,wg=/\d{3}/,fd=/\d{4}/,Vh=/[+-]?\d{6}/,wa=/\d\d?/,Tg=/\d\d\d\d?/,kg=/\d\d\d\d\d\d?/,Hh=/\d{1,3}/,hd=/\d{1,4}/,qh=/[+-]?\d{1,6}/,Yc=/\d+/,Gh=/[+-]?\d+/,Px=/Z|[+-]\d\d:?\d\d/gi,Yh=/Z|[+-]\d\d(?::?\d\d)?/gi,Ix=/[+-]?\d+(\.\d{1,3})?/,zf=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Wc=/^[1-9]\d?/,pd=/^([1-9]\d|\d)/,zh;zh={};function Vr(re,se,Se){zh[re]=ou(se)?se:function(De,We){return De&&Se?Se:se}}function Dx(re,se){return Ui(zh,re)?zh[re](se._strict,se._locale):new RegExp(zx(re))}function zx(re){return wu(re.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(se,Se,De,We,B){return Se||De||We||B}))}function wu(re){return re.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ul(re){return re<0?Math.ceil(re)||0:Math.floor(re)}function Ti(re){var se=+re,Se=0;return se!==0&&isFinite(se)&&(Se=ul(se)),Se}var td={};function sa(re,se){var Se,De=se,We;for(typeof re=="string"&&(re=[re]),ku(se)&&(De=function(B,L){L[se]=Ti(B)}),We=re.length,Se=0;Se<We;Se++)td[re[Se]]=De}function Rf(re,se){sa(re,function(Se,De,We,B){We._w=We._w||{},se(Se,We._w,We,B)})}function Rx(re,se,Se){se!=null&&Ui(td,re)&&td[re](se,Se._a,Se,re)}function Wh(re){return re%4===0&&re%100!==0||re%400===0}var qo=0,bu=1,tu=2,uo=3,Dl=4,_u=5,cc=6,Fx=7,Bx=8;Jr("Y",0,0,function(){var re=this.year();return re<=9999?ru(re,4):"+"+re});Jr(0,["YY",2],0,function(){return this.year()%100});Jr(0,["YYYY",4],0,"year");Jr(0,["YYYYY",5],0,"year");Jr(0,["YYYYYY",6,!0],0,"year");Vr("Y",Gh);Vr("YY",wa,Ys);Vr("YYYY",hd,fd);Vr("YYYYY",qh,Vh);Vr("YYYYYY",qh,Vh);sa(["YYYYY","YYYYYY"],qo);sa("YYYY",function(re,se){se[qo]=re.length===2?Br.parseTwoDigitYear(re):Ti(re)});sa("YY",function(re,se){se[qo]=Br.parseTwoDigitYear(re)});sa("Y",function(re,se){se[qo]=parseInt(re,10)});function Sf(re){return Wh(re)?366:365}Br.parseTwoDigitYear=function(re){return Ti(re)+(Ti(re)>68?1900:2e3)};var Mg=Zc("FullYear",!0);function Nx(){return Wh(this.year())}function Zc(re,se){return function(Se){return Se!=null?(Ag(this,re,Se),Br.updateOffset(this,se),this):Lf(this,re)}}function Lf(re,se){if(!re.isValid())return NaN;var Se=re._d,De=re._isUTC;switch(se){case"Milliseconds":return De?Se.getUTCMilliseconds():Se.getMilliseconds();case"Seconds":return De?Se.getUTCSeconds():Se.getSeconds();case"Minutes":return De?Se.getUTCMinutes():Se.getMinutes();case"Hours":return De?Se.getUTCHours():Se.getHours();case"Date":return De?Se.getUTCDate():Se.getDate();case"Day":return De?Se.getUTCDay():Se.getDay();case"Month":return De?Se.getUTCMonth():Se.getMonth();case"FullYear":return De?Se.getUTCFullYear():Se.getFullYear();default:return NaN}}function Ag(re,se,Se){var De,We,B,L,e;if(!(!re.isValid()||isNaN(Se))){switch(De=re._d,We=re._isUTC,se){case"Milliseconds":return void(We?De.setUTCMilliseconds(Se):De.setMilliseconds(Se));case"Seconds":return void(We?De.setUTCSeconds(Se):De.setSeconds(Se));case"Minutes":return void(We?De.setUTCMinutes(Se):De.setMinutes(Se));case"Hours":return void(We?De.setUTCHours(Se):De.setHours(Se));case"Date":return void(We?De.setUTCDate(Se):De.setDate(Se));case"FullYear":break;default:return}B=Se,L=re.month(),e=re.date(),e=e===29&&L===1&&!Wh(B)?28:e,We?De.setUTCFullYear(B,L,e):De.setFullYear(B,L,e)}}function jx(re){return re=pl(re),ou(this[re])?this[re]():this}function Ux(re,se){if(typeof re=="object"){re=cd(re);var Se=Ox(re),De,We=Se.length;for(De=0;De<We;De++)this[Se[De].unit](re[Se[De].unit])}else if(re=pl(re),ou(this[re]))return this[re](se);return this}function Vx(re,se){return(re%se+se)%se}var Za;Array.prototype.indexOf?Za=Array.prototype.indexOf:Za=function(re){var se;for(se=0;se<this.length;++se)if(this[se]===re)return se;return-1};function dd(re,se){if(isNaN(re)||isNaN(se))return NaN;var Se=Vx(se,12);return re+=(se-Se)/12,Se===1?Wh(re)?29:28:31-Se%7%2}Jr("M",["MM",2],"Mo",function(){return this.month()+1});Jr("MMM",0,0,function(re){return this.localeData().monthsShort(this,re)});Jr("MMMM",0,0,function(re){return this.localeData().months(this,re)});Vr("M",wa,Wc);Vr("MM",wa,Ys);Vr("MMM",function(re,se){return se.monthsShortRegex(re)});Vr("MMMM",function(re,se){return se.monthsRegex(re)});sa(["M","MM"],function(re,se){se[bu]=Ti(re)-1});sa(["MMM","MMMM"],function(re,se,Se,De){var We=Se._locale.monthsParse(re,De,Se._strict);We!=null?se[bu]=We:fi(Se).invalidMonth=re});var Hx="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Sg="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Eg=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,qx=zf,Gx=zf;function Yx(re,se){return re?zl(this._months)?this._months[re.month()]:this._months[(this._months.isFormat||Eg).test(se)?"format":"standalone"][re.month()]:zl(this._months)?this._months:this._months.standalone}function Wx(re,se){return re?zl(this._monthsShort)?this._monthsShort[re.month()]:this._monthsShort[Eg.test(se)?"format":"standalone"][re.month()]:zl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Zx(re,se,Se){var De,We,B,L=re.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],De=0;De<12;++De)B=au([2e3,De]),this._shortMonthsParse[De]=this.monthsShort(B,"").toLocaleLowerCase(),this._longMonthsParse[De]=this.months(B,"").toLocaleLowerCase();return Se?se==="MMM"?(We=Za.call(this._shortMonthsParse,L),We!==-1?We:null):(We=Za.call(this._longMonthsParse,L),We!==-1?We:null):se==="MMM"?(We=Za.call(this._shortMonthsParse,L),We!==-1?We:(We=Za.call(this._longMonthsParse,L),We!==-1?We:null)):(We=Za.call(this._longMonthsParse,L),We!==-1?We:(We=Za.call(this._shortMonthsParse,L),We!==-1?We:null))}function Xx(re,se,Se){var De,We,B;if(this._monthsParseExact)return Zx.call(this,re,se,Se);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),De=0;De<12;De++){if(We=au([2e3,De]),Se&&!this._longMonthsParse[De]&&(this._longMonthsParse[De]=new RegExp("^"+this.months(We,"").replace(".","")+"$","i"),this._shortMonthsParse[De]=new RegExp("^"+this.monthsShort(We,"").replace(".","")+"$","i")),!Se&&!this._monthsParse[De]&&(B="^"+this.months(We,"")+"|^"+this.monthsShort(We,""),this._monthsParse[De]=new RegExp(B.replace(".",""),"i")),Se&&se==="MMMM"&&this._longMonthsParse[De].test(re))return De;if(Se&&se==="MMM"&&this._shortMonthsParse[De].test(re))return De;if(!Se&&this._monthsParse[De].test(re))return De}}function Lg(re,se){if(!re.isValid())return re;if(typeof se=="string"){if(/^\d+$/.test(se))se=Ti(se);else if(se=re.localeData().monthsParse(se),!ku(se))return re}var Se=se,De=re.date();return De=De<29?De:Math.min(De,dd(re.year(),Se)),re._isUTC?re._d.setUTCMonth(Se,De):re._d.setMonth(Se,De),re}function Cg(re){return re!=null?(Lg(this,re),Br.updateOffset(this,!0),this):Lf(this,"Month")}function Jx(){return dd(this.year(),this.month())}function Kx(re){return this._monthsParseExact?(Ui(this,"_monthsRegex")||Og.call(this),re?this._monthsShortStrictRegex:this._monthsShortRegex):(Ui(this,"_monthsShortRegex")||(this._monthsShortRegex=qx),this._monthsShortStrictRegex&&re?this._monthsShortStrictRegex:this._monthsShortRegex)}function Qx(re){return this._monthsParseExact?(Ui(this,"_monthsRegex")||Og.call(this),re?this._monthsStrictRegex:this._monthsRegex):(Ui(this,"_monthsRegex")||(this._monthsRegex=Gx),this._monthsStrictRegex&&re?this._monthsStrictRegex:this._monthsRegex)}function Og(){function re(k,w){return w.length-k.length}var se=[],Se=[],De=[],We,B,L,e;for(We=0;We<12;We++)B=au([2e3,We]),L=wu(this.monthsShort(B,"")),e=wu(this.months(B,"")),se.push(L),Se.push(e),De.push(e),De.push(L);se.sort(re),Se.sort(re),De.sort(re),this._monthsRegex=new RegExp("^("+De.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+Se.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+se.join("|")+")","i")}function $x(re,se,Se,De,We,B,L){var e;return re<100&&re>=0?(e=new Date(re+400,se,Se,De,We,B,L),isFinite(e.getFullYear())&&e.setFullYear(re)):e=new Date(re,se,Se,De,We,B,L),e}function Cf(re){var se,Se;return re<100&&re>=0?(Se=Array.prototype.slice.call(arguments),Se[0]=re+400,se=new Date(Date.UTC.apply(null,Se)),isFinite(se.getUTCFullYear())&&se.setUTCFullYear(re)):se=new Date(Date.UTC.apply(null,arguments)),se}function Rh(re,se,Se){var De=7+se-Se,We=(7+Cf(re,0,De).getUTCDay()-se)%7;return-We+De-1}function Pg(re,se,Se,De,We){var B=(7+Se-De)%7,L=Rh(re,De,We),e=1+7*(se-1)+B+L,k,w;return e<=0?(k=re-1,w=Sf(k)+e):e>Sf(re)?(k=re+1,w=e-Sf(re)):(k=re,w=e),{year:k,dayOfYear:w}}function Of(re,se,Se){var De=Rh(re.year(),se,Se),We=Math.floor((re.dayOfYear()-De-1)/7)+1,B,L;return We<1?(L=re.year()-1,B=We+Tu(L,se,Se)):We>Tu(re.year(),se,Se)?(B=We-Tu(re.year(),se,Se),L=re.year()+1):(L=re.year(),B=We),{week:B,year:L}}function Tu(re,se,Se){var De=Rh(re,se,Se),We=Rh(re+1,se,Se);return(Sf(re)-De+We)/7}Jr("w",["ww",2],"wo","week");Jr("W",["WW",2],"Wo","isoWeek");Vr("w",wa,Wc);Vr("ww",wa,Ys);Vr("W",wa,Wc);Vr("WW",wa,Ys);Rf(["w","ww","W","WW"],function(re,se,Se,De){se[De.substr(0,1)]=Ti(re)});function e2(re){return Of(re,this._week.dow,this._week.doy).week}var t2={dow:0,doy:6};function n2(){return this._week.dow}function r2(){return this._week.doy}function i2(re){var se=this.localeData().week(this);return re==null?se:this.add((re-se)*7,"d")}function a2(re){var se=Of(this,1,4).week;return re==null?se:this.add((re-se)*7,"d")}Jr("d",0,"do","day");Jr("dd",0,0,function(re){return this.localeData().weekdaysMin(this,re)});Jr("ddd",0,0,function(re){return this.localeData().weekdaysShort(this,re)});Jr("dddd",0,0,function(re){return this.localeData().weekdays(this,re)});Jr("e",0,0,"weekday");Jr("E",0,0,"isoWeekday");Vr("d",wa);Vr("e",wa);Vr("E",wa);Vr("dd",function(re,se){return se.weekdaysMinRegex(re)});Vr("ddd",function(re,se){return se.weekdaysShortRegex(re)});Vr("dddd",function(re,se){return se.weekdaysRegex(re)});Rf(["dd","ddd","dddd"],function(re,se,Se,De){var We=Se._locale.weekdaysParse(re,De,Se._strict);We!=null?se.d=We:fi(Se).invalidWeekday=re});Rf(["d","e","E"],function(re,se,Se,De){se[De]=Ti(re)});function o2(re,se){return typeof re!="string"?re:isNaN(re)?(re=se.weekdaysParse(re),typeof re=="number"?re:null):parseInt(re,10)}function s2(re,se){return typeof re=="string"?se.weekdaysParse(re)%7||7:isNaN(re)?null:re}function gd(re,se){return re.slice(se,7).concat(re.slice(0,se))}var l2="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ig="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),u2="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),c2=zf,f2=zf,h2=zf;function p2(re,se){var Se=zl(this._weekdays)?this._weekdays:this._weekdays[re&&re!==!0&&this._weekdays.isFormat.test(se)?"format":"standalone"];return re===!0?gd(Se,this._week.dow):re?Se[re.day()]:Se}function d2(re){return re===!0?gd(this._weekdaysShort,this._week.dow):re?this._weekdaysShort[re.day()]:this._weekdaysShort}function g2(re){return re===!0?gd(this._weekdaysMin,this._week.dow):re?this._weekdaysMin[re.day()]:this._weekdaysMin}function v2(re,se,Se){var De,We,B,L=re.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],De=0;De<7;++De)B=au([2e3,1]).day(De),this._minWeekdaysParse[De]=this.weekdaysMin(B,"").toLocaleLowerCase(),this._shortWeekdaysParse[De]=this.weekdaysShort(B,"").toLocaleLowerCase(),this._weekdaysParse[De]=this.weekdays(B,"").toLocaleLowerCase();return Se?se==="dddd"?(We=Za.call(this._weekdaysParse,L),We!==-1?We:null):se==="ddd"?(We=Za.call(this._shortWeekdaysParse,L),We!==-1?We:null):(We=Za.call(this._minWeekdaysParse,L),We!==-1?We:null):se==="dddd"?(We=Za.call(this._weekdaysParse,L),We!==-1||(We=Za.call(this._shortWeekdaysParse,L),We!==-1)?We:(We=Za.call(this._minWeekdaysParse,L),We!==-1?We:null)):se==="ddd"?(We=Za.call(this._shortWeekdaysParse,L),We!==-1||(We=Za.call(this._weekdaysParse,L),We!==-1)?We:(We=Za.call(this._minWeekdaysParse,L),We!==-1?We:null)):(We=Za.call(this._minWeekdaysParse,L),We!==-1||(We=Za.call(this._weekdaysParse,L),We!==-1)?We:(We=Za.call(this._shortWeekdaysParse,L),We!==-1?We:null))}function m2(re,se,Se){var De,We,B;if(this._weekdaysParseExact)return v2.call(this,re,se,Se);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),De=0;De<7;De++){if(We=au([2e3,1]).day(De),Se&&!this._fullWeekdaysParse[De]&&(this._fullWeekdaysParse[De]=new RegExp("^"+this.weekdays(We,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[De]=new RegExp("^"+this.weekdaysShort(We,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[De]=new RegExp("^"+this.weekdaysMin(We,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[De]||(B="^"+this.weekdays(We,"")+"|^"+this.weekdaysShort(We,"")+"|^"+this.weekdaysMin(We,""),this._weekdaysParse[De]=new RegExp(B.replace(".",""),"i")),Se&&se==="dddd"&&this._fullWeekdaysParse[De].test(re))return De;if(Se&&se==="ddd"&&this._shortWeekdaysParse[De].test(re))return De;if(Se&&se==="dd"&&this._minWeekdaysParse[De].test(re))return De;if(!Se&&this._weekdaysParse[De].test(re))return De}}function y2(re){if(!this.isValid())return re!=null?this:NaN;var se=Lf(this,"Day");return re!=null?(re=o2(re,this.localeData()),this.add(re-se,"d")):se}function x2(re){if(!this.isValid())return re!=null?this:NaN;var se=(this.day()+7-this.localeData()._week.dow)%7;return re==null?se:this.add(re-se,"d")}function b2(re){if(!this.isValid())return re!=null?this:NaN;if(re!=null){var se=s2(re,this.localeData());return this.day(this.day()%7?se:se-7)}else return this.day()||7}function _2(re){return this._weekdaysParseExact?(Ui(this,"_weekdaysRegex")||vd.call(this),re?this._weekdaysStrictRegex:this._weekdaysRegex):(Ui(this,"_weekdaysRegex")||(this._weekdaysRegex=c2),this._weekdaysStrictRegex&&re?this._weekdaysStrictRegex:this._weekdaysRegex)}function w2(re){return this._weekdaysParseExact?(Ui(this,"_weekdaysRegex")||vd.call(this),re?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ui(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=f2),this._weekdaysShortStrictRegex&&re?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function T2(re){return this._weekdaysParseExact?(Ui(this,"_weekdaysRegex")||vd.call(this),re?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ui(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=h2),this._weekdaysMinStrictRegex&&re?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function vd(){function re(r,_){return _.length-r.length}var se=[],Se=[],De=[],We=[],B,L,e,k,w;for(B=0;B<7;B++)L=au([2e3,1]).day(B),e=wu(this.weekdaysMin(L,"")),k=wu(this.weekdaysShort(L,"")),w=wu(this.weekdays(L,"")),se.push(e),Se.push(k),De.push(w),We.push(e),We.push(k),We.push(w);se.sort(re),Se.sort(re),De.sort(re),We.sort(re),this._weekdaysRegex=new RegExp("^("+We.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+De.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+Se.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+se.join("|")+")","i")}function md(){return this.hours()%12||12}function k2(){return this.hours()||24}Jr("H",["HH",2],0,"hour");Jr("h",["hh",2],0,md);Jr("k",["kk",2],0,k2);Jr("hmm",0,0,function(){return""+md.apply(this)+ru(this.minutes(),2)});Jr("hmmss",0,0,function(){return""+md.apply(this)+ru(this.minutes(),2)+ru(this.seconds(),2)});Jr("Hmm",0,0,function(){return""+this.hours()+ru(this.minutes(),2)});Jr("Hmmss",0,0,function(){return""+this.hours()+ru(this.minutes(),2)+ru(this.seconds(),2)});function Dg(re,se){Jr(re,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),se)})}Dg("a",!0);Dg("A",!1);function zg(re,se){return se._meridiemParse}Vr("a",zg);Vr("A",zg);Vr("H",wa,pd);Vr("h",wa,Wc);Vr("k",wa,Wc);Vr("HH",wa,Ys);Vr("hh",wa,Ys);Vr("kk",wa,Ys);Vr("hmm",Tg);Vr("hmmss",kg);Vr("Hmm",Tg);Vr("Hmmss",kg);sa(["H","HH"],uo);sa(["k","kk"],function(re,se,Se){var De=Ti(re);se[uo]=De===24?0:De});sa(["a","A"],function(re,se,Se){Se._isPm=Se._locale.isPM(re),Se._meridiem=re});sa(["h","hh"],function(re,se,Se){se[uo]=Ti(re),fi(Se).bigHour=!0});sa("hmm",function(re,se,Se){var De=re.length-2;se[uo]=Ti(re.substr(0,De)),se[Dl]=Ti(re.substr(De)),fi(Se).bigHour=!0});sa("hmmss",function(re,se,Se){var De=re.length-4,We=re.length-2;se[uo]=Ti(re.substr(0,De)),se[Dl]=Ti(re.substr(De,2)),se[_u]=Ti(re.substr(We)),fi(Se).bigHour=!0});sa("Hmm",function(re,se,Se){var De=re.length-2;se[uo]=Ti(re.substr(0,De)),se[Dl]=Ti(re.substr(De))});sa("Hmmss",function(re,se,Se){var De=re.length-4,We=re.length-2;se[uo]=Ti(re.substr(0,De)),se[Dl]=Ti(re.substr(De,2)),se[_u]=Ti(re.substr(We))});function M2(re){return(re+"").toLowerCase().charAt(0)==="p"}var A2=/[ap]\.?m?\.?/i,S2=Zc("Hours",!0);function E2(re,se,Se){return re>11?Se?"pm":"PM":Se?"am":"AM"}var Rg={calendar:vx,longDateFormat:bx,invalidDate:wx,ordinal:kx,dayOfMonthOrdinalParse:Mx,relativeTime:Sx,months:Hx,monthsShort:Sg,week:t2,weekdays:l2,weekdaysMin:u2,weekdaysShort:Ig,meridiemParse:A2},Ta={},Tf={},Pf;function L2(re,se){var Se,De=Math.min(re.length,se.length);for(Se=0;Se<De;Se+=1)if(re[Se]!==se[Se])return Se;return De}function E1(re){return re&&re.toLowerCase().replace("_","-")}function C2(re){for(var se=0,Se,De,We,B;se<re.length;){for(B=E1(re[se]).split("-"),Se=B.length,De=E1(re[se+1]),De=De?De.split("-"):null;Se>0;){if(We=Zh(B.slice(0,Se).join("-")),We)return We;if(De&&De.length>=Se&&L2(B,De)>=Se-1)break;Se--}se++}return Pf}function O2(re){return!!(re&&re.match("^[^/\\\\]*$"))}function Zh(re){var se=null,Se;if(Ta[re]===void 0&&typeof Ih<"u"&&Ih&&Ih.exports&&O2(re))try{se=Pf._abbr,Se=require,Se("./locale/"+re),Hu(se)}catch{Ta[re]=null}return Ta[re]}function Hu(re,se){var Se;return re&&(ks(se)?Se=Au(re):Se=yd(re,se),Se?Pf=Se:typeof console<"u"&&console.warn&&console.warn("Locale "+re+" not found. Did you forget to load it?")),Pf._abbr}function yd(re,se){if(se!==null){var Se,De=Rg;if(se.abbr=re,Ta[re]!=null)xg("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),De=Ta[re]._config;else if(se.parentLocale!=null)if(Ta[se.parentLocale]!=null)De=Ta[se.parentLocale]._config;else if(Se=Zh(se.parentLocale),Se!=null)De=Se._config;else return Tf[se.parentLocale]||(Tf[se.parentLocale]=[]),Tf[se.parentLocale].push({name:re,config:se}),null;return Ta[re]=new ld($p(De,se)),Tf[re]&&Tf[re].forEach(function(We){yd(We.name,We.config)}),Hu(re),Ta[re]}else return delete Ta[re],null}function P2(re,se){if(se!=null){var Se,De,We=Rg;Ta[re]!=null&&Ta[re].parentLocale!=null?Ta[re].set($p(Ta[re]._config,se)):(De=Zh(re),De!=null&&(We=De._config),se=$p(We,se),De==null&&(se.abbr=re),Se=new ld(se),Se.parentLocale=Ta[re],Ta[re]=Se),Hu(re)}else Ta[re]!=null&&(Ta[re].parentLocale!=null?(Ta[re]=Ta[re].parentLocale,re===Hu()&&Hu(re)):Ta[re]!=null&&delete Ta[re]);return Ta[re]}function Au(re){var se;if(re&&re._locale&&re._locale._abbr&&(re=re._locale._abbr),!re)return Pf;if(!zl(re)){if(se=Zh(re),se)return se;re=[re]}return C2(re)}function I2(){return ed(Ta)}function xd(re){var se,Se=re._a;return Se&&fi(re).overflow===-2&&(se=Se[bu]<0||Se[bu]>11?bu:Se[tu]<1||Se[tu]>dd(Se[qo],Se[bu])?tu:Se[uo]<0||Se[uo]>24||Se[uo]===24&&(Se[Dl]!==0||Se[_u]!==0||Se[cc]!==0)?uo:Se[Dl]<0||Se[Dl]>59?Dl:Se[_u]<0||Se[_u]>59?_u:Se[cc]<0||Se[cc]>999?cc:-1,fi(re)._overflowDayOfYear&&(se<qo||se>tu)&&(se=tu),fi(re)._overflowWeeks&&se===-1&&(se=Fx),fi(re)._overflowWeekday&&se===-1&&(se=Bx),fi(re).overflow=se),re}var D2=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,z2=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,R2=/Z|[+-]\d\d(?::?\d\d)?/,Sh=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Wp=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],F2=/^\/?Date\((-?\d+)/i,B2=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,N2={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Fg(re){var se,Se,De=re._i,We=D2.exec(De)||z2.exec(De),B,L,e,k,w=Sh.length,r=Wp.length;if(We){for(fi(re).iso=!0,se=0,Se=w;se<Se;se++)if(Sh[se][1].exec(We[1])){L=Sh[se][0],B=Sh[se][2]!==!1;break}if(L==null){re._isValid=!1;return}if(We[3]){for(se=0,Se=r;se<Se;se++)if(Wp[se][1].exec(We[3])){e=(We[2]||" ")+Wp[se][0];break}if(e==null){re._isValid=!1;return}}if(!B&&e!=null){re._isValid=!1;return}if(We[4])if(R2.exec(We[4]))k="Z";else{re._isValid=!1;return}re._f=L+(e||"")+(k||""),_d(re)}else re._isValid=!1}function j2(re,se,Se,De,We,B){var L=[U2(re),Sg.indexOf(se),parseInt(Se,10),parseInt(De,10),parseInt(We,10)];return B&&L.push(parseInt(B,10)),L}function U2(re){var se=parseInt(re,10);return se<=49?2e3+se:se<=999?1900+se:se}function V2(re){return re.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function H2(re,se,Se){if(re){var De=Ig.indexOf(re),We=new Date(se[0],se[1],se[2]).getDay();if(De!==We)return fi(Se).weekdayMismatch=!0,Se._isValid=!1,!1}return!0}function q2(re,se,Se){if(re)return N2[re];if(se)return 0;var De=parseInt(Se,10),We=De%100,B=(De-We)/100;return B*60+We}function Bg(re){var se=B2.exec(V2(re._i)),Se;if(se){if(Se=j2(se[4],se[3],se[2],se[5],se[6],se[7]),!H2(se[1],Se,re))return;re._a=Se,re._tzm=q2(se[8],se[9],se[10]),re._d=Cf.apply(null,re._a),re._d.setUTCMinutes(re._d.getUTCMinutes()-re._tzm),fi(re).rfc2822=!0}else re._isValid=!1}function G2(re){var se=F2.exec(re._i);if(se!==null){re._d=new Date(+se[1]);return}if(Fg(re),re._isValid===!1)delete re._isValid;else return;if(Bg(re),re._isValid===!1)delete re._isValid;else return;re._strict?re._isValid=!1:Br.createFromInputFallback(re)}Br.createFromInputFallback=hl("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(re){re._d=new Date(re._i+(re._useUTC?" UTC":""))});function Nc(re,se,Se){return re??se??Se}function Y2(re){var se=new Date(Br.now());return re._useUTC?[se.getUTCFullYear(),se.getUTCMonth(),se.getUTCDate()]:[se.getFullYear(),se.getMonth(),se.getDate()]}function bd(re){var se,Se,De=[],We,B,L;if(!re._d){for(We=Y2(re),re._w&&re._a[tu]==null&&re._a[bu]==null&&W2(re),re._dayOfYear!=null&&(L=Nc(re._a[qo],We[qo]),(re._dayOfYear>Sf(L)||re._dayOfYear===0)&&(fi(re)._overflowDayOfYear=!0),Se=Cf(L,0,re._dayOfYear),re._a[bu]=Se.getUTCMonth(),re._a[tu]=Se.getUTCDate()),se=0;se<3&&re._a[se]==null;++se)re._a[se]=De[se]=We[se];for(;se<7;se++)re._a[se]=De[se]=re._a[se]==null?se===2?1:0:re._a[se];re._a[uo]===24&&re._a[Dl]===0&&re._a[_u]===0&&re._a[cc]===0&&(re._nextDay=!0,re._a[uo]=0),re._d=(re._useUTC?Cf:$x).apply(null,De),B=re._useUTC?re._d.getUTCDay():re._d.getDay(),re._tzm!=null&&re._d.setUTCMinutes(re._d.getUTCMinutes()-re._tzm),re._nextDay&&(re._a[uo]=24),re._w&&typeof re._w.d<"u"&&re._w.d!==B&&(fi(re).weekdayMismatch=!0)}}function W2(re){var se,Se,De,We,B,L,e,k,w;se=re._w,se.GG!=null||se.W!=null||se.E!=null?(B=1,L=4,Se=Nc(se.GG,re._a[qo],Of(_a(),1,4).year),De=Nc(se.W,1),We=Nc(se.E,1),(We<1||We>7)&&(k=!0)):(B=re._locale._week.dow,L=re._locale._week.doy,w=Of(_a(),B,L),Se=Nc(se.gg,re._a[qo],w.year),De=Nc(se.w,w.week),se.d!=null?(We=se.d,(We<0||We>6)&&(k=!0)):se.e!=null?(We=se.e+B,(se.e<0||se.e>6)&&(k=!0)):We=B),De<1||De>Tu(Se,B,L)?fi(re)._overflowWeeks=!0:k!=null?fi(re)._overflowWeekday=!0:(e=Pg(Se,De,We,B,L),re._a[qo]=e.year,re._dayOfYear=e.dayOfYear)}Br.ISO_8601=function(){};Br.RFC_2822=function(){};function _d(re){if(re._f===Br.ISO_8601){Fg(re);return}if(re._f===Br.RFC_2822){Bg(re);return}re._a=[],fi(re).empty=!0;var se=""+re._i,Se,De,We,B,L,e=se.length,k=0,w,r;for(We=bg(re._f,re._locale).match(ud)||[],r=We.length,Se=0;Se<r;Se++)B=We[Se],De=(se.match(Dx(B,re))||[])[0],De&&(L=se.substr(0,se.indexOf(De)),L.length>0&&fi(re).unusedInput.push(L),se=se.slice(se.indexOf(De)+De.length),k+=De.length),Vc[B]?(De?fi(re).empty=!1:fi(re).unusedTokens.push(B),Rx(B,De,re)):re._strict&&!De&&fi(re).unusedTokens.push(B);fi(re).charsLeftOver=e-k,se.length>0&&fi(re).unusedInput.push(se),re._a[uo]<=12&&fi(re).bigHour===!0&&re._a[uo]>0&&(fi(re).bigHour=void 0),fi(re).parsedDateParts=re._a.slice(0),fi(re).meridiem=re._meridiem,re._a[uo]=Z2(re._locale,re._a[uo],re._meridiem),w=fi(re).era,w!==null&&(re._a[qo]=re._locale.erasConvertYear(w,re._a[qo])),bd(re),xd(re)}function Z2(re,se,Se){var De;return Se==null?se:re.meridiemHour!=null?re.meridiemHour(se,Se):(re.isPM!=null&&(De=re.isPM(Se),De&&se<12&&(se+=12),!De&&se===12&&(se=0)),se)}function X2(re){var se,Se,De,We,B,L,e=!1,k=re._f.length;if(k===0){fi(re).invalidFormat=!0,re._d=new Date(NaN);return}for(We=0;We<k;We++)B=0,L=!1,se=sd({},re),re._useUTC!=null&&(se._useUTC=re._useUTC),se._f=re._f[We],_d(se),od(se)&&(L=!0),B+=fi(se).charsLeftOver,B+=fi(se).unusedTokens.length*10,fi(se).score=B,e?B<De&&(De=B,Se=se):(De==null||B<De||L)&&(De=B,Se=se,L&&(e=!0));Uu(re,Se||se)}function J2(re){if(!re._d){var se=cd(re._i),Se=se.day===void 0?se.date:se.day;re._a=mg([se.year,se.month,Se,se.hour,se.minute,se.second,se.millisecond],function(De){return De&&parseInt(De,10)}),bd(re)}}function K2(re){var se=new Df(xd(Ng(re)));return se._nextDay&&(se.add(1,"d"),se._nextDay=void 0),se}function Ng(re){var se=re._i,Se=re._f;return re._locale=re._locale||Au(re._l),se===null||Se===void 0&&se===""?Uh({nullInput:!0}):(typeof se=="string"&&(re._i=se=re._locale.preparse(se)),Rl(se)?new Df(xd(se)):(If(se)?re._d=se:zl(Se)?X2(re):Se?_d(re):Q2(re),od(re)||(re._d=null),re))}function Q2(re){var se=re._i;ks(se)?re._d=new Date(Br.now()):If(se)?re._d=new Date(se.valueOf()):typeof se=="string"?G2(re):zl(se)?(re._a=mg(se.slice(0),function(Se){return parseInt(Se,10)}),bd(re)):fc(se)?J2(re):ku(se)?re._d=new Date(se):Br.createFromInputFallback(re)}function jg(re,se,Se,De,We){var B={};return(se===!0||se===!1)&&(De=se,se=void 0),(Se===!0||Se===!1)&&(De=Se,Se=void 0),(fc(re)&&ad(re)||zl(re)&&re.length===0)&&(re=void 0),B._isAMomentObject=!0,B._useUTC=B._isUTC=We,B._l=Se,B._i=re,B._f=se,B._strict=De,K2(B)}function _a(re,se,Se,De){return jg(re,se,Se,De,!1)}var $2=hl("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var re=_a.apply(null,arguments);return this.isValid()&&re.isValid()?re<this?this:re:Uh()}),eb=hl("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var re=_a.apply(null,arguments);return this.isValid()&&re.isValid()?re>this?this:re:Uh()});function Ug(re,se){var Se,De;if(se.length===1&&zl(se[0])&&(se=se[0]),!se.length)return _a();for(Se=se[0],De=1;De<se.length;++De)(!se[De].isValid()||se[De][re](Se))&&(Se=se[De]);return Se}function tb(){var re=[].slice.call(arguments,0);return Ug("isBefore",re)}function nb(){var re=[].slice.call(arguments,0);return Ug("isAfter",re)}var rb=function(){return Date.now?Date.now():+new Date},kf=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ib(re){var se,Se=!1,De,We=kf.length;for(se in re)if(Ui(re,se)&&!(Za.call(kf,se)!==-1&&(re[se]==null||!isNaN(re[se]))))return!1;for(De=0;De<We;++De)if(re[kf[De]]){if(Se)return!1;parseFloat(re[kf[De]])!==Ti(re[kf[De]])&&(Se=!0)}return!0}function ab(){return this._isValid}function ob(){return Bl(NaN)}function Xh(re){var se=cd(re),Se=se.year||0,De=se.quarter||0,We=se.month||0,B=se.week||se.isoWeek||0,L=se.day||0,e=se.hour||0,k=se.minute||0,w=se.second||0,r=se.millisecond||0;this._isValid=ib(se),this._milliseconds=+r+w*1e3+k*6e4+e*1e3*60*60,this._days=+L+B*7,this._months=+We+De*3+Se*12,this._data={},this._locale=Au(),this._bubble()}function Oh(re){return re instanceof Xh}function nd(re){return re<0?Math.round(-1*re)*-1:Math.round(re)}function sb(re,se,Se){var De=Math.min(re.length,se.length),We=Math.abs(re.length-se.length),B=0,L;for(L=0;L<De;L++)(Se&&re[L]!==se[L]||!Se&&Ti(re[L])!==Ti(se[L]))&&B++;return B+We}function Vg(re,se){Jr(re,0,0,function(){var Se=this.utcOffset(),De="+";return Se<0&&(Se=-Se,De="-"),De+ru(~~(Se/60),2)+se+ru(~~Se%60,2)})}Vg("Z",":");Vg("ZZ","");Vr("Z",Yh);Vr("ZZ",Yh);sa(["Z","ZZ"],function(re,se,Se){Se._useUTC=!0,Se._tzm=wd(Yh,re)});var lb=/([\+\-]|\d\d)/gi;function wd(re,se){var Se=(se||"").match(re),De,We,B;return Se===null?null:(De=Se[Se.length-1]||[],We=(De+"").match(lb)||["-",0,0],B=+(We[1]*60)+Ti(We[2]),B===0?0:We[0]==="+"?B:-B)}function Td(re,se){var Se,De;return se._isUTC?(Se=se.clone(),De=(Rl(re)||If(re)?re.valueOf():_a(re).valueOf())-Se.valueOf(),Se._d.setTime(Se._d.valueOf()+De),Br.updateOffset(Se,!1),Se):_a(re).local()}function rd(re){return-Math.round(re._d.getTimezoneOffset())}Br.updateOffset=function(){};function ub(re,se,Se){var De=this._offset||0,We;if(!this.isValid())return re!=null?this:NaN;if(re!=null){if(typeof re=="string"){if(re=wd(Yh,re),re===null)return this}else Math.abs(re)<16&&!Se&&(re=re*60);return!this._isUTC&&se&&(We=rd(this)),this._offset=re,this._isUTC=!0,We!=null&&this.add(We,"m"),De!==re&&(!se||this._changeInProgress?Gg(this,Bl(re-De,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Br.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?De:rd(this)}function cb(re,se){return re!=null?(typeof re!="string"&&(re=-re),this.utcOffset(re,se),this):-this.utcOffset()}function fb(re){return this.utcOffset(0,re)}function hb(re){return this._isUTC&&(this.utcOffset(0,re),this._isUTC=!1,re&&this.subtract(rd(this),"m")),this}function pb(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var re=wd(Px,this._i);re!=null?this.utcOffset(re):this.utcOffset(0,!0)}return this}function db(re){return this.isValid()?(re=re?_a(re).utcOffset():0,(this.utcOffset()-re)%60===0):!1}function gb(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function vb(){if(!ks(this._isDSTShifted))return this._isDSTShifted;var re={},se;return sd(re,this),re=Ng(re),re._a?(se=re._isUTC?au(re._a):_a(re._a),this._isDSTShifted=this.isValid()&&sb(re._a,se.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function mb(){return this.isValid()?!this._isUTC:!1}function yb(){return this.isValid()?this._isUTC:!1}function Hg(){return this.isValid()?this._isUTC&&this._offset===0:!1}var xb=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,bb=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Bl(re,se){var Se=re,De=null,We,B,L;return Oh(re)?Se={ms:re._milliseconds,d:re._days,M:re._months}:ku(re)||!isNaN(+re)?(Se={},se?Se[se]=+re:Se.milliseconds=+re):(De=xb.exec(re))?(We=De[1]==="-"?-1:1,Se={y:0,d:Ti(De[tu])*We,h:Ti(De[uo])*We,m:Ti(De[Dl])*We,s:Ti(De[_u])*We,ms:Ti(nd(De[cc]*1e3))*We}):(De=bb.exec(re))?(We=De[1]==="-"?-1:1,Se={y:sc(De[2],We),M:sc(De[3],We),w:sc(De[4],We),d:sc(De[5],We),h:sc(De[6],We),m:sc(De[7],We),s:sc(De[8],We)}):Se==null?Se={}:typeof Se=="object"&&("from"in Se||"to"in Se)&&(L=_b(_a(Se.from),_a(Se.to)),Se={},Se.ms=L.milliseconds,Se.M=L.months),B=new Xh(Se),Oh(re)&&Ui(re,"_locale")&&(B._locale=re._locale),Oh(re)&&Ui(re,"_isValid")&&(B._isValid=re._isValid),B}Bl.fn=Xh.prototype;Bl.invalid=ob;function sc(re,se){var Se=re&&parseFloat(re.replace(",","."));return(isNaN(Se)?0:Se)*se}function L1(re,se){var Se={};return Se.months=se.month()-re.month()+(se.year()-re.year())*12,re.clone().add(Se.months,"M").isAfter(se)&&--Se.months,Se.milliseconds=+se-+re.clone().add(Se.months,"M"),Se}function _b(re,se){var Se;return re.isValid()&&se.isValid()?(se=Td(se,re),re.isBefore(se)?Se=L1(re,se):(Se=L1(se,re),Se.milliseconds=-Se.milliseconds,Se.months=-Se.months),Se):{milliseconds:0,months:0}}function qg(re,se){return function(Se,De){var We,B;return De!==null&&!isNaN(+De)&&(xg(se,"moment()."+se+"(period, number) is deprecated. Please use moment()."+se+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),B=Se,Se=De,De=B),We=Bl(Se,De),Gg(this,We,re),this}}function Gg(re,se,Se,De){var We=se._milliseconds,B=nd(se._days),L=nd(se._months);re.isValid()&&(De=De??!0,L&&Lg(re,Lf(re,"Month")+L*Se),B&&Ag(re,"Date",Lf(re,"Date")+B*Se),We&&re._d.setTime(re._d.valueOf()+We*Se),De&&Br.updateOffset(re,B||L))}var wb=qg(1,"add"),Tb=qg(-1,"subtract");function Yg(re){return typeof re=="string"||re instanceof String}function kb(re){return Rl(re)||If(re)||Yg(re)||ku(re)||Ab(re)||Mb(re)||re===null||re===void 0}function Mb(re){var se=fc(re)&&!ad(re),Se=!1,De=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],We,B,L=De.length;for(We=0;We<L;We+=1)B=De[We],Se=Se||Ui(re,B);return se&&Se}function Ab(re){var se=zl(re),Se=!1;return se&&(Se=re.filter(function(De){return!ku(De)&&Yg(re)}).length===0),se&&Se}function Sb(re){var se=fc(re)&&!ad(re),Se=!1,De=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],We,B;for(We=0;We<De.length;We+=1)B=De[We],Se=Se||Ui(re,B);return se&&Se}function Eb(re,se){var Se=re.diff(se,"days",!0);return Se<-6?"sameElse":Se<-1?"lastWeek":Se<0?"lastDay":Se<1?"sameDay":Se<2?"nextDay":Se<7?"nextWeek":"sameElse"}function Lb(re,se){arguments.length===1&&(arguments[0]?kb(arguments[0])?(re=arguments[0],se=void 0):Sb(arguments[0])&&(se=arguments[0],re=void 0):(re=void 0,se=void 0));var Se=re||_a(),De=Td(Se,this).startOf("day"),We=Br.calendarFormat(this,De)||"sameElse",B=se&&(ou(se[We])?se[We].call(this,Se):se[We]);return this.format(B||this.localeData().calendar(We,this,_a(Se)))}function Cb(){return new Df(this)}function Ob(re,se){var Se=Rl(re)?re:_a(re);return this.isValid()&&Se.isValid()?(se=pl(se)||"millisecond",se==="millisecond"?this.valueOf()>Se.valueOf():Se.valueOf()<this.clone().startOf(se).valueOf()):!1}function Pb(re,se){var Se=Rl(re)?re:_a(re);return this.isValid()&&Se.isValid()?(se=pl(se)||"millisecond",se==="millisecond"?this.valueOf()<Se.valueOf():this.clone().endOf(se).valueOf()<Se.valueOf()):!1}function Ib(re,se,Se,De){var We=Rl(re)?re:_a(re),B=Rl(se)?se:_a(se);return this.isValid()&&We.isValid()&&B.isValid()?(De=De||"()",(De[0]==="("?this.isAfter(We,Se):!this.isBefore(We,Se))&&(De[1]===")"?this.isBefore(B,Se):!this.isAfter(B,Se))):!1}function Db(re,se){var Se=Rl(re)?re:_a(re),De;return this.isValid()&&Se.isValid()?(se=pl(se)||"millisecond",se==="millisecond"?this.valueOf()===Se.valueOf():(De=Se.valueOf(),this.clone().startOf(se).valueOf()<=De&&De<=this.clone().endOf(se).valueOf())):!1}function zb(re,se){return this.isSame(re,se)||this.isAfter(re,se)}function Rb(re,se){return this.isSame(re,se)||this.isBefore(re,se)}function Fb(re,se,Se){var De,We,B;if(!this.isValid())return NaN;if(De=Td(re,this),!De.isValid())return NaN;switch(We=(De.utcOffset()-this.utcOffset())*6e4,se=pl(se),se){case"year":B=Ph(this,De)/12;break;case"month":B=Ph(this,De);break;case"quarter":B=Ph(this,De)/3;break;case"second":B=(this-De)/1e3;break;case"minute":B=(this-De)/6e4;break;case"hour":B=(this-De)/36e5;break;case"day":B=(this-De-We)/864e5;break;case"week":B=(this-De-We)/6048e5;break;default:B=this-De}return Se?B:ul(B)}function Ph(re,se){if(re.date()<se.date())return-Ph(se,re);var Se=(se.year()-re.year())*12+(se.month()-re.month()),De=re.clone().add(Se,"months"),We,B;return se-De<0?(We=re.clone().add(Se-1,"months"),B=(se-De)/(De-We)):(We=re.clone().add(Se+1,"months"),B=(se-De)/(We-De)),-(Se+B)||0}Br.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Br.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Bb(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Nb(re){if(!this.isValid())return null;var se=re!==!0,Se=se?this.clone().utc():this;return Se.year()<0||Se.year()>9999?Ch(Se,se?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ou(Date.prototype.toISOString)?se?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Ch(Se,"Z")):Ch(Se,se?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function jb(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var re="moment",se="",Se,De,We,B;return this.isLocal()||(re=this.utcOffset()===0?"moment.utc":"moment.parseZone",se="Z"),Se="["+re+'("]',De=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",We="-MM-DD[T]HH:mm:ss.SSS",B=se+'[")]',this.format(Se+De+We+B)}function Ub(re){re||(re=this.isUtc()?Br.defaultFormatUtc:Br.defaultFormat);var se=Ch(this,re);return this.localeData().postformat(se)}function Vb(re,se){return this.isValid()&&(Rl(re)&&re.isValid()||_a(re).isValid())?Bl({to:this,from:re}).locale(this.locale()).humanize(!se):this.localeData().invalidDate()}function Hb(re){return this.from(_a(),re)}function qb(re,se){return this.isValid()&&(Rl(re)&&re.isValid()||_a(re).isValid())?Bl({from:this,to:re}).locale(this.locale()).humanize(!se):this.localeData().invalidDate()}function Gb(re){return this.to(_a(),re)}function Wg(re){var se;return re===void 0?this._locale._abbr:(se=Au(re),se!=null&&(this._locale=se),this)}var Zg=hl("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(re){return re===void 0?this.localeData():this.locale(re)});function Xg(){return this._locale}var Fh=1e3,Hc=60*Fh,Bh=60*Hc,Jg=(365*400+97)*24*Bh;function qc(re,se){return(re%se+se)%se}function Kg(re,se,Se){return re<100&&re>=0?new Date(re+400,se,Se)-Jg:new Date(re,se,Se).valueOf()}function Qg(re,se,Se){return re<100&&re>=0?Date.UTC(re+400,se,Se)-Jg:Date.UTC(re,se,Se)}function Yb(re){var se,Se;if(re=pl(re),re===void 0||re==="millisecond"||!this.isValid())return this;switch(Se=this._isUTC?Qg:Kg,re){case"year":se=Se(this.year(),0,1);break;case"quarter":se=Se(this.year(),this.month()-this.month()%3,1);break;case"month":se=Se(this.year(),this.month(),1);break;case"week":se=Se(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":se=Se(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":se=Se(this.year(),this.month(),this.date());break;case"hour":se=this._d.valueOf(),se-=qc(se+(this._isUTC?0:this.utcOffset()*Hc),Bh);break;case"minute":se=this._d.valueOf(),se-=qc(se,Hc);break;case"second":se=this._d.valueOf(),se-=qc(se,Fh);break}return this._d.setTime(se),Br.updateOffset(this,!0),this}function Wb(re){var se,Se;if(re=pl(re),re===void 0||re==="millisecond"||!this.isValid())return this;switch(Se=this._isUTC?Qg:Kg,re){case"year":se=Se(this.year()+1,0,1)-1;break;case"quarter":se=Se(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":se=Se(this.year(),this.month()+1,1)-1;break;case"week":se=Se(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":se=Se(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":se=Se(this.year(),this.month(),this.date()+1)-1;break;case"hour":se=this._d.valueOf(),se+=Bh-qc(se+(this._isUTC?0:this.utcOffset()*Hc),Bh)-1;break;case"minute":se=this._d.valueOf(),se+=Hc-qc(se,Hc)-1;break;case"second":se=this._d.valueOf(),se+=Fh-qc(se,Fh)-1;break}return this._d.setTime(se),Br.updateOffset(this,!0),this}function Zb(){return this._d.valueOf()-(this._offset||0)*6e4}function Xb(){return Math.floor(this.valueOf()/1e3)}function Jb(){return new Date(this.valueOf())}function Kb(){var re=this;return[re.year(),re.month(),re.date(),re.hour(),re.minute(),re.second(),re.millisecond()]}function Qb(){var re=this;return{years:re.year(),months:re.month(),date:re.date(),hours:re.hours(),minutes:re.minutes(),seconds:re.seconds(),milliseconds:re.milliseconds()}}function $b(){return this.isValid()?this.toISOString():null}function e_(){return od(this)}function t_(){return Uu({},fi(this))}function n_(){return fi(this).overflow}function r_(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Jr("N",0,0,"eraAbbr");Jr("NN",0,0,"eraAbbr");Jr("NNN",0,0,"eraAbbr");Jr("NNNN",0,0,"eraName");Jr("NNNNN",0,0,"eraNarrow");Jr("y",["y",1],"yo","eraYear");Jr("y",["yy",2],0,"eraYear");Jr("y",["yyy",3],0,"eraYear");Jr("y",["yyyy",4],0,"eraYear");Vr("N",kd);Vr("NN",kd);Vr("NNN",kd);Vr("NNNN",d_);Vr("NNNNN",g_);sa(["N","NN","NNN","NNNN","NNNNN"],function(re,se,Se,De){var We=Se._locale.erasParse(re,De,Se._strict);We?fi(Se).era=We:fi(Se).invalidEra=re});Vr("y",Yc);Vr("yy",Yc);Vr("yyy",Yc);Vr("yyyy",Yc);Vr("yo",v_);sa(["y","yy","yyy","yyyy"],qo);sa(["yo"],function(re,se,Se,De){var We;Se._locale._eraYearOrdinalRegex&&(We=re.match(Se._locale._eraYearOrdinalRegex)),Se._locale.eraYearOrdinalParse?se[qo]=Se._locale.eraYearOrdinalParse(re,We):se[qo]=parseInt(re,10)});function i_(re,se){var Se,De,We,B=this._eras||Au("en")._eras;for(Se=0,De=B.length;Se<De;++Se){switch(typeof B[Se].since){case"string":We=Br(B[Se].since).startOf("day"),B[Se].since=We.valueOf();break}switch(typeof B[Se].until){case"undefined":B[Se].until=1/0;break;case"string":We=Br(B[Se].until).startOf("day").valueOf(),B[Se].until=We.valueOf();break}}return B}function a_(re,se,Se){var De,We,B=this.eras(),L,e,k;for(re=re.toUpperCase(),De=0,We=B.length;De<We;++De)if(L=B[De].name.toUpperCase(),e=B[De].abbr.toUpperCase(),k=B[De].narrow.toUpperCase(),Se)switch(se){case"N":case"NN":case"NNN":if(e===re)return B[De];break;case"NNNN":if(L===re)return B[De];break;case"NNNNN":if(k===re)return B[De];break}else if([L,e,k].indexOf(re)>=0)return B[De]}function o_(re,se){var Se=re.since<=re.until?1:-1;return se===void 0?Br(re.since).year():Br(re.since).year()+(se-re.offset)*Se}function s_(){var re,se,Se,De=this.localeData().eras();for(re=0,se=De.length;re<se;++re)if(Se=this.clone().startOf("day").valueOf(),De[re].since<=Se&&Se<=De[re].until||De[re].until<=Se&&Se<=De[re].since)return De[re].name;return""}function l_(){var re,se,Se,De=this.localeData().eras();for(re=0,se=De.length;re<se;++re)if(Se=this.clone().startOf("day").valueOf(),De[re].since<=Se&&Se<=De[re].until||De[re].until<=Se&&Se<=De[re].since)return De[re].narrow;return""}function u_(){var re,se,Se,De=this.localeData().eras();for(re=0,se=De.length;re<se;++re)if(Se=this.clone().startOf("day").valueOf(),De[re].since<=Se&&Se<=De[re].until||De[re].until<=Se&&Se<=De[re].since)return De[re].abbr;return""}function c_(){var re,se,Se,De,We=this.localeData().eras();for(re=0,se=We.length;re<se;++re)if(Se=We[re].since<=We[re].until?1:-1,De=this.clone().startOf("day").valueOf(),We[re].since<=De&&De<=We[re].until||We[re].until<=De&&De<=We[re].since)return(this.year()-Br(We[re].since).year())*Se+We[re].offset;return this.year()}function f_(re){return Ui(this,"_erasNameRegex")||Md.call(this),re?this._erasNameRegex:this._erasRegex}function h_(re){return Ui(this,"_erasAbbrRegex")||Md.call(this),re?this._erasAbbrRegex:this._erasRegex}function p_(re){return Ui(this,"_erasNarrowRegex")||Md.call(this),re?this._erasNarrowRegex:this._erasRegex}function kd(re,se){return se.erasAbbrRegex(re)}function d_(re,se){return se.erasNameRegex(re)}function g_(re,se){return se.erasNarrowRegex(re)}function v_(re,se){return se._eraYearOrdinalRegex||Yc}function Md(){var re=[],se=[],Se=[],De=[],We,B,L,e,k,w=this.eras();for(We=0,B=w.length;We<B;++We)L=wu(w[We].name),e=wu(w[We].abbr),k=wu(w[We].narrow),se.push(L),re.push(e),Se.push(k),De.push(L),De.push(e),De.push(k);this._erasRegex=new RegExp("^("+De.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+se.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+re.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+Se.join("|")+")","i")}Jr(0,["gg",2],0,function(){return this.weekYear()%100});Jr(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Jh(re,se){Jr(0,[re,re.length],0,se)}Jh("gggg","weekYear");Jh("ggggg","weekYear");Jh("GGGG","isoWeekYear");Jh("GGGGG","isoWeekYear");Vr("G",Gh);Vr("g",Gh);Vr("GG",wa,Ys);Vr("gg",wa,Ys);Vr("GGGG",hd,fd);Vr("gggg",hd,fd);Vr("GGGGG",qh,Vh);Vr("ggggg",qh,Vh);Rf(["gggg","ggggg","GGGG","GGGGG"],function(re,se,Se,De){se[De.substr(0,2)]=Ti(re)});Rf(["gg","GG"],function(re,se,Se,De){se[De]=Br.parseTwoDigitYear(re)});function m_(re){return $g.call(this,re,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function y_(re){return $g.call(this,re,this.isoWeek(),this.isoWeekday(),1,4)}function x_(){return Tu(this.year(),1,4)}function b_(){return Tu(this.isoWeekYear(),1,4)}function __(){var re=this.localeData()._week;return Tu(this.year(),re.dow,re.doy)}function w_(){var re=this.localeData()._week;return Tu(this.weekYear(),re.dow,re.doy)}function $g(re,se,Se,De,We){var B;return re==null?Of(this,De,We).year:(B=Tu(re,De,We),se>B&&(se=B),T_.call(this,re,se,Se,De,We))}function T_(re,se,Se,De,We){var B=Pg(re,se,Se,De,We),L=Cf(B.year,0,B.dayOfYear);return this.year(L.getUTCFullYear()),this.month(L.getUTCMonth()),this.date(L.getUTCDate()),this}Jr("Q",0,"Qo","quarter");Vr("Q",_g);sa("Q",function(re,se){se[bu]=(Ti(re)-1)*3});function k_(re){return re==null?Math.ceil((this.month()+1)/3):this.month((re-1)*3+this.month()%3)}Jr("D",["DD",2],"Do","date");Vr("D",wa,Wc);Vr("DD",wa,Ys);Vr("Do",function(re,se){return re?se._dayOfMonthOrdinalParse||se._ordinalParse:se._dayOfMonthOrdinalParseLenient});sa(["D","DD"],tu);sa("Do",function(re,se){se[tu]=Ti(re.match(wa)[0])});var ev=Zc("Date",!0);Jr("DDD",["DDDD",3],"DDDo","dayOfYear");Vr("DDD",Hh);Vr("DDDD",wg);sa(["DDD","DDDD"],function(re,se,Se){Se._dayOfYear=Ti(re)});function M_(re){var se=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return re==null?se:this.add(re-se,"d")}Jr("m",["mm",2],0,"minute");Vr("m",wa,pd);Vr("mm",wa,Ys);sa(["m","mm"],Dl);var A_=Zc("Minutes",!1);Jr("s",["ss",2],0,"second");Vr("s",wa,pd);Vr("ss",wa,Ys);sa(["s","ss"],_u);var S_=Zc("Seconds",!1);Jr("S",0,0,function(){return~~(this.millisecond()/100)});Jr(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Jr(0,["SSS",3],0,"millisecond");Jr(0,["SSSS",4],0,function(){return this.millisecond()*10});Jr(0,["SSSSS",5],0,function(){return this.millisecond()*100});Jr(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Jr(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Jr(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Jr(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Vr("S",Hh,_g);Vr("SS",Hh,Ys);Vr("SSS",Hh,wg);var Vu,tv;for(Vu="SSSS";Vu.length<=9;Vu+="S")Vr(Vu,Yc);function E_(re,se){se[cc]=Ti(("0."+re)*1e3)}for(Vu="S";Vu.length<=9;Vu+="S")sa(Vu,E_);tv=Zc("Milliseconds",!1);Jr("z",0,0,"zoneAbbr");Jr("zz",0,0,"zoneName");function L_(){return this._isUTC?"UTC":""}function C_(){return this._isUTC?"Coordinated Universal Time":""}var Mr=Df.prototype;Mr.add=wb;Mr.calendar=Lb;Mr.clone=Cb;Mr.diff=Fb;Mr.endOf=Wb;Mr.format=Ub;Mr.from=Vb;Mr.fromNow=Hb;Mr.to=qb;Mr.toNow=Gb;Mr.get=jx;Mr.invalidAt=n_;Mr.isAfter=Ob;Mr.isBefore=Pb;Mr.isBetween=Ib;Mr.isSame=Db;Mr.isSameOrAfter=zb;Mr.isSameOrBefore=Rb;Mr.isValid=e_;Mr.lang=Zg;Mr.locale=Wg;Mr.localeData=Xg;Mr.max=eb;Mr.min=$2;Mr.parsingFlags=t_;Mr.set=Ux;Mr.startOf=Yb;Mr.subtract=Tb;Mr.toArray=Kb;Mr.toObject=Qb;Mr.toDate=Jb;Mr.toISOString=Nb;Mr.inspect=jb;typeof Symbol<"u"&&Symbol.for!=null&&(Mr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Mr.toJSON=$b;Mr.toString=Bb;Mr.unix=Xb;Mr.valueOf=Zb;Mr.creationData=r_;Mr.eraName=s_;Mr.eraNarrow=l_;Mr.eraAbbr=u_;Mr.eraYear=c_;Mr.year=Mg;Mr.isLeapYear=Nx;Mr.weekYear=m_;Mr.isoWeekYear=y_;Mr.quarter=Mr.quarters=k_;Mr.month=Cg;Mr.daysInMonth=Jx;Mr.week=Mr.weeks=i2;Mr.isoWeek=Mr.isoWeeks=a2;Mr.weeksInYear=__;Mr.weeksInWeekYear=w_;Mr.isoWeeksInYear=x_;Mr.isoWeeksInISOWeekYear=b_;Mr.date=ev;Mr.day=Mr.days=y2;Mr.weekday=x2;Mr.isoWeekday=b2;Mr.dayOfYear=M_;Mr.hour=Mr.hours=S2;Mr.minute=Mr.minutes=A_;Mr.second=Mr.seconds=S_;Mr.millisecond=Mr.milliseconds=tv;Mr.utcOffset=ub;Mr.utc=fb;Mr.local=hb;Mr.parseZone=pb;Mr.hasAlignedHourOffset=db;Mr.isDST=gb;Mr.isLocal=mb;Mr.isUtcOffset=yb;Mr.isUtc=Hg;Mr.isUTC=Hg;Mr.zoneAbbr=L_;Mr.zoneName=C_;Mr.dates=hl("dates accessor is deprecated. Use date instead.",ev);Mr.months=hl("months accessor is deprecated. Use month instead",Cg);Mr.years=hl("years accessor is deprecated. Use year instead",Mg);Mr.zone=hl("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",cb);Mr.isDSTShifted=hl("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",vb);function O_(re){return _a(re*1e3)}function P_(){return _a.apply(null,arguments).parseZone()}function nv(re){return re}var Vi=ld.prototype;Vi.calendar=mx;Vi.longDateFormat=_x;Vi.invalidDate=Tx;Vi.ordinal=Ax;Vi.preparse=nv;Vi.postformat=nv;Vi.relativeTime=Ex;Vi.pastFuture=Lx;Vi.set=gx;Vi.eras=i_;Vi.erasParse=a_;Vi.erasConvertYear=o_;Vi.erasAbbrRegex=h_;Vi.erasNameRegex=f_;Vi.erasNarrowRegex=p_;Vi.months=Yx;Vi.monthsShort=Wx;Vi.monthsParse=Xx;Vi.monthsRegex=Qx;Vi.monthsShortRegex=Kx;Vi.week=e2;Vi.firstDayOfYear=r2;Vi.firstDayOfWeek=n2;Vi.weekdays=p2;Vi.weekdaysMin=g2;Vi.weekdaysShort=d2;Vi.weekdaysParse=m2;Vi.weekdaysRegex=_2;Vi.weekdaysShortRegex=w2;Vi.weekdaysMinRegex=T2;Vi.isPM=M2;Vi.meridiem=E2;function Nh(re,se,Se,De){var We=Au(),B=au().set(De,se);return We[Se](B,re)}function rv(re,se,Se){if(ku(re)&&(se=re,re=void 0),re=re||"",se!=null)return Nh(re,se,Se,"month");var De,We=[];for(De=0;De<12;De++)We[De]=Nh(re,De,Se,"month");return We}function Ad(re,se,Se,De){typeof re=="boolean"?(ku(se)&&(Se=se,se=void 0),se=se||""):(se=re,Se=se,re=!1,ku(se)&&(Se=se,se=void 0),se=se||"");var We=Au(),B=re?We._week.dow:0,L,e=[];if(Se!=null)return Nh(se,(Se+B)%7,De,"day");for(L=0;L<7;L++)e[L]=Nh(se,(L+B)%7,De,"day");return e}function I_(re,se){return rv(re,se,"months")}function D_(re,se){return rv(re,se,"monthsShort")}function z_(re,se,Se){return Ad(re,se,Se,"weekdays")}function R_(re,se,Se){return Ad(re,se,Se,"weekdaysShort")}function F_(re,se,Se){return Ad(re,se,Se,"weekdaysMin")}Hu("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(re){var se=re%10,Se=Ti(re%100/10)===1?"th":se===1?"st":se===2?"nd":se===3?"rd":"th";return re+Se}});Br.lang=hl("moment.lang is deprecated. Use moment.locale instead.",Hu);Br.langData=hl("moment.langData is deprecated. Use moment.localeData instead.",Au);var mu=Math.abs;function B_(){var re=this._data;return this._milliseconds=mu(this._milliseconds),this._days=mu(this._days),this._months=mu(this._months),re.milliseconds=mu(re.milliseconds),re.seconds=mu(re.seconds),re.minutes=mu(re.minutes),re.hours=mu(re.hours),re.months=mu(re.months),re.years=mu(re.years),this}function iv(re,se,Se,De){var We=Bl(se,Se);return re._milliseconds+=De*We._milliseconds,re._days+=De*We._days,re._months+=De*We._months,re._bubble()}function N_(re,se){return iv(this,re,se,1)}function j_(re,se){return iv(this,re,se,-1)}function C1(re){return re<0?Math.floor(re):Math.ceil(re)}function U_(){var re=this._milliseconds,se=this._days,Se=this._months,De=this._data,We,B,L,e,k;return re>=0&&se>=0&&Se>=0||re<=0&&se<=0&&Se<=0||(re+=C1(id(Se)+se)*864e5,se=0,Se=0),De.milliseconds=re%1e3,We=ul(re/1e3),De.seconds=We%60,B=ul(We/60),De.minutes=B%60,L=ul(B/60),De.hours=L%24,se+=ul(L/24),k=ul(av(se)),Se+=k,se-=C1(id(k)),e=ul(Se/12),Se%=12,De.days=se,De.months=Se,De.years=e,this}function av(re){return re*4800/146097}function id(re){return re*146097/4800}function V_(re){if(!this.isValid())return NaN;var se,Se,De=this._milliseconds;if(re=pl(re),re==="month"||re==="quarter"||re==="year")switch(se=this._days+De/864e5,Se=this._months+av(se),re){case"month":return Se;case"quarter":return Se/3;case"year":return Se/12}else switch(se=this._days+Math.round(id(this._months)),re){case"week":return se/7+De/6048e5;case"day":return se+De/864e5;case"hour":return se*24+De/36e5;case"minute":return se*1440+De/6e4;case"second":return se*86400+De/1e3;case"millisecond":return Math.floor(se*864e5)+De;default:throw new Error("Unknown unit "+re)}}function Su(re){return function(){return this.as(re)}}var ov=Su("ms"),H_=Su("s"),q_=Su("m"),G_=Su("h"),Y_=Su("d"),W_=Su("w"),Z_=Su("M"),X_=Su("Q"),J_=Su("y"),K_=ov;function Q_(){return Bl(this)}function $_(re){return re=pl(re),this.isValid()?this[re+"s"]():NaN}function pc(re){return function(){return this.isValid()?this._data[re]:NaN}}var e3=pc("milliseconds"),t3=pc("seconds"),n3=pc("minutes"),r3=pc("hours"),i3=pc("days"),a3=pc("months"),o3=pc("years");function s3(){return ul(this.days()/7)}var yu=Math.round,jc={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function l3(re,se,Se,De,We){return We.relativeTime(se||1,!!Se,re,De)}function u3(re,se,Se,De){var We=Bl(re).abs(),B=yu(We.as("s")),L=yu(We.as("m")),e=yu(We.as("h")),k=yu(We.as("d")),w=yu(We.as("M")),r=yu(We.as("w")),_=yu(We.as("y")),v=B<=Se.ss&&["s",B]||B<Se.s&&["ss",B]||L<=1&&["m"]||L<Se.m&&["mm",L]||e<=1&&["h"]||e<Se.h&&["hh",e]||k<=1&&["d"]||k<Se.d&&["dd",k];return Se.w!=null&&(v=v||r<=1&&["w"]||r<Se.w&&["ww",r]),v=v||w<=1&&["M"]||w<Se.M&&["MM",w]||_<=1&&["y"]||["yy",_],v[2]=se,v[3]=+re>0,v[4]=De,l3.apply(null,v)}function c3(re){return re===void 0?yu:typeof re=="function"?(yu=re,!0):!1}function f3(re,se){return jc[re]===void 0?!1:se===void 0?jc[re]:(jc[re]=se,re==="s"&&(jc.ss=se-1),!0)}function h3(re,se){if(!this.isValid())return this.localeData().invalidDate();var Se=!1,De=jc,We,B;return typeof re=="object"&&(se=re,re=!1),typeof re=="boolean"&&(Se=re),typeof se=="object"&&(De=Object.assign({},jc,se),se.s!=null&&se.ss==null&&(De.ss=se.s-1)),We=this.localeData(),B=u3(this,!Se,De,We),Se&&(B=We.pastFuture(+this,B)),We.postformat(B)}var Zp=Math.abs;function Fc(re){return(re>0)-(re<0)||+re}function Kh(){if(!this.isValid())return this.localeData().invalidDate();var re=Zp(this._milliseconds)/1e3,se=Zp(this._days),Se=Zp(this._months),De,We,B,L,e=this.asSeconds(),k,w,r,_;return e?(De=ul(re/60),We=ul(De/60),re%=60,De%=60,B=ul(Se/12),Se%=12,L=re?re.toFixed(3).replace(/\.?0+$/,""):"",k=e<0?"-":"",w=Fc(this._months)!==Fc(e)?"-":"",r=Fc(this._days)!==Fc(e)?"-":"",_=Fc(this._milliseconds)!==Fc(e)?"-":"",k+"P"+(B?w+B+"Y":"")+(Se?w+Se+"M":"")+(se?r+se+"D":"")+(We||De||re?"T":"")+(We?_+We+"H":"")+(De?_+De+"M":"")+(re?_+L+"S":"")):"P0D"}var Ii=Xh.prototype;Ii.isValid=ab;Ii.abs=B_;Ii.add=N_;Ii.subtract=j_;Ii.as=V_;Ii.asMilliseconds=ov;Ii.asSeconds=H_;Ii.asMinutes=q_;Ii.asHours=G_;Ii.asDays=Y_;Ii.asWeeks=W_;Ii.asMonths=Z_;Ii.asQuarters=X_;Ii.asYears=J_;Ii.valueOf=K_;Ii._bubble=U_;Ii.clone=Q_;Ii.get=$_;Ii.milliseconds=e3;Ii.seconds=t3;Ii.minutes=n3;Ii.hours=r3;Ii.days=i3;Ii.weeks=s3;Ii.months=a3;Ii.years=o3;Ii.humanize=h3;Ii.toISOString=Kh;Ii.toString=Kh;Ii.toJSON=Kh;Ii.locale=Wg;Ii.localeData=Xg;Ii.toIsoString=hl("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Kh);Ii.lang=Zg;Jr("X",0,0,"unix");Jr("x",0,0,"valueOf");Vr("x",Gh);Vr("X",Ix);sa("X",function(re,se,Se){Se._d=new Date(parseFloat(re)*1e3)});sa("x",function(re,se,Se){Se._d=new Date(Ti(re))});//! moment.js
Br.version="2.30.1";px(_a);Br.fn=Mr;Br.min=tb;Br.max=nb;Br.now=rb;Br.utc=au;Br.unix=O_;Br.months=I_;Br.isDate=If;Br.locale=Hu;Br.invalid=Uh;Br.duration=Bl;Br.isMoment=Rl;Br.weekdays=z_;Br.parseZone=P_;Br.localeData=Au;Br.isDuration=Oh;Br.monthsShort=D_;Br.weekdaysMin=F_;Br.defineLocale=yd;Br.updateLocale=P2;Br.locales=I2;Br.weekdaysShort=R_;Br.normalizeUnits=pl;Br.relativeTimeRounding=c3;Br.relativeTimeThreshold=f3;Br.calendarFormat=Eb;Br.prototype=Mr;Br.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const p3=Object.freeze(Object.defineProperty({__proto__:null,default:Br},Symbol.toStringTag,{value:"Module"}));var d3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function g3(re){return re&&re.__esModule&&Object.prototype.hasOwnProperty.call(re,"default")?re.default:re}function v3(re){if(re.__esModule)return re;var se=re.default;if(typeof se=="function"){var Se=function De(){return this instanceof De?Reflect.construct(se,arguments,this.constructor):se.apply(this,arguments)};Se.prototype=se.prototype}else Se={};return Object.defineProperty(Se,"__esModule",{value:!0}),Object.keys(re).forEach(function(De){var We=Object.getOwnPropertyDescriptor(re,De);Object.defineProperty(Se,De,We.get?We:{enumerable:!0,get:function(){return re[De]}})}),Se}var sv={exports:{}};const m3=v3(p3);(function(re,se){(function(Se,De){re.exports=De(m3)})(d3,function(Se){return function(De){function We(L){if(B[L])return B[L].exports;var e=B[L]={i:L,l:!1,exports:{}};return De[L].call(e.exports,e,e.exports,We),e.l=!0,e.exports}var B={};return We.m=De,We.c=B,We.i=function(L){return L},We.d=function(L,e,k){We.o(L,e)||Object.defineProperty(L,e,{configurable:!1,enumerable:!0,get:k})},We.n=function(L){var e=L&&L.__esModule?function(){return L.default}:function(){return L};return We.d(e,"a",e),e},We.o=function(L,e){return Object.prototype.hasOwnProperty.call(L,e)},We.p="",We(We.s=3)}([function(De,We,B){var L=B(5)();De.exports=function(e){return e!==L&&e!==null}},function(De,We,B){De.exports=B(18)()?Symbol:B(20)},function(De,We){De.exports=Se},function(De,We,B){function L(o){return o&&o.__esModule?o:{default:o}}function e(o,u,h){return u in o?Object.defineProperty(o,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):o[u]=h,o}function k(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function w(o){return o.range=function(u,h){var c=this;return typeof u=="string"&&i.hasOwnProperty(u)?new l(o(c).startOf(u),o(c).endOf(u)):new l(u,h)},o.rangeFromInterval=function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o();if(o.isMoment(c)||(c=o(c)),!c.isValid())throw new Error("Invalid date.");var b=c.clone().add(h,u),d=[];return d.push(o.min(c,b)),d.push(o.max(c,b)),new l(d)},o.rangeFromISOString=function(u){var h=r(u),c=o.parseZone(h[0]),b=o.parseZone(h[1]);return new l(c,b)},o.parseZoneRange=o.rangeFromISOString,o.fn.range=o.range,o.range.constructor=l,o.isRange=function(u){return u instanceof l},o.fn.within=function(u){return u.contains(this.toDate())},o}function r(o){return o.split("/")}Object.defineProperty(We,"__esModule",{value:!0}),We.DateRange=void 0;var _=function(){function o(u,h){var c=[],b=!0,d=!1,g=void 0;try{for(var m,y=u[Symbol.iterator]();!(b=(m=y.next()).done)&&(c.push(m.value),!h||c.length!==h);b=!0);}catch(x){d=!0,g=x}finally{try{!b&&y.return&&y.return()}finally{if(d)throw g}}return c}return function(u,h){if(Array.isArray(u))return u;if(Symbol.iterator in Object(u))return o(u,h);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},f=function(){function o(u,h){for(var c=0;c<h.length;c++){var b=h[c];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(u,b.key,b)}}return function(u,h,c){return h&&o(u.prototype,h),c&&o(u,c),u}}();We.extendMoment=w;var s=B(2),t=L(s),a=B(1),n=L(a),i={year:!0,quarter:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0},l=We.DateRange=function(){function o(u,h){k(this,o);var c=u,b=h;if(arguments.length===1||h===void 0){if((u===void 0?"undefined":v(u))==="object"&&u.length===2){var d=_(u,2);c=d[0],b=d[1]}else if(typeof u=="string"){var g=r(u),m=_(g,2);c=m[0],b=m[1]}}this.start=c||c===0?(0,t.default)(c):(0,t.default)(-864e13),this.end=b||b===0?(0,t.default)(b):(0,t.default)(864e13)}return f(o,[{key:"adjacent",value:function(u){var h=this.start.isSame(u.end),c=this.end.isSame(u.start);return h&&u.start.valueOf()<=this.start.valueOf()||c&&u.end.valueOf()>=this.end.valueOf()}},{key:"add",value:function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{adjacent:!1};return this.overlaps(u,h)?new this.constructor(t.default.min(this.start,u.start),t.default.max(this.end,u.end)):null}},{key:"by",value:function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{excludeEnd:!1,step:1},c=this;return e({},n.default.iterator,function(){var b=h.step||1,d=Math.abs(c.start.diff(c.end,u))/b,g=h.excludeEnd||!1,m=0;return h.hasOwnProperty("exclusive")&&(g=h.exclusive),{next:function(){var y=c.start.clone().add(m*b,u),x=g?!(m<d):!(m<=d);return m++,{done:x,value:x?void 0:y}}}})}},{key:"byRange",value:function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{excludeEnd:!1,step:1},c=this,b=h.step||1,d=this.valueOf()/u.valueOf()/b,g=Math.floor(d),m=h.excludeEnd||!1,y=0;return h.hasOwnProperty("exclusive")&&(m=h.exclusive),e({},n.default.iterator,function(){return g===1/0?{done:!0}:{next:function(){var x=(0,t.default)(c.start.valueOf()+u.valueOf()*y*b),T=g===d&&m?!(y<g):!(y<=g);return y++,{done:T,value:T?void 0:x}}}})}},{key:"center",value:function(){var u=this.start.valueOf()+this.diff()/2;return(0,t.default)(u)}},{key:"clone",value:function(){return new this.constructor(this.start.clone(),this.end.clone())}},{key:"contains",value:function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{excludeStart:!1,excludeEnd:!1},c=this.start.valueOf(),b=this.end.valueOf(),d=u.valueOf(),g=u.valueOf(),m=h.excludeStart||!1,y=h.excludeEnd||!1;h.hasOwnProperty("exclusive")&&(m=y=h.exclusive),u instanceof o&&(d=u.start.valueOf(),g=u.end.valueOf());var x=c<d||c<=d&&!m,T=b>g||b>=g&&!y;return x&&T}},{key:"diff",value:function(u,h){return this.end.diff(this.start,u,h)}},{key:"duration",value:function(u,h){return this.diff(u,h)}},{key:"intersect",value:function(u){var h=this.start.valueOf(),c=this.end.valueOf(),b=u.start.valueOf(),d=u.end.valueOf(),g=h==c,m=b==d;if(g){var y=h;if(y==b||y==d)return null;if(y>b&&y<d)return this.clone()}else if(m){var x=b;if(x==h||x==c)return null;if(x>h&&x<c)return new this.constructor(x,x)}return h<=b&&b<c&&c<d?new this.constructor(b,c):b<h&&h<d&&d<=c?new this.constructor(h,d):b<h&&h<=c&&c<d?this.clone():h<=b&&b<=d&&d<=c?new this.constructor(b,d):null}},{key:"isEqual",value:function(u){return this.start.isSame(u.start)&&this.end.isSame(u.end)}},{key:"isSame",value:function(u){return this.isEqual(u)}},{key:"overlaps",value:function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{adjacent:!1},c=this.intersect(u)!==null;return h.adjacent&&!c?this.adjacent(u):c}},{key:"reverseBy",value:function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{excludeStart:!1,step:1},c=this;return e({},n.default.iterator,function(){var b=h.step||1,d=Math.abs(c.start.diff(c.end,u))/b,g=h.excludeStart||!1,m=0;return h.hasOwnProperty("exclusive")&&(g=h.exclusive),{next:function(){var y=c.end.clone().subtract(m*b,u),x=g?!(m<d):!(m<=d);return m++,{done:x,value:x?void 0:y}}}})}},{key:"reverseByRange",value:function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{excludeStart:!1,step:1},c=this,b=h.step||1,d=this.valueOf()/u.valueOf()/b,g=Math.floor(d),m=h.excludeStart||!1,y=0;return h.hasOwnProperty("exclusive")&&(m=h.exclusive),e({},n.default.iterator,function(){return g===1/0?{done:!0}:{next:function(){var x=(0,t.default)(c.end.valueOf()-u.valueOf()*y*b),T=g===d&&m?!(y<g):!(y<=g);return y++,{done:T,value:T?void 0:x}}}})}},{key:"snapTo",value:function(u){var h=this.clone();return h.start.isSame((0,t.default)(-864e13))||(h.start=h.start.startOf(u)),h.end.isSame((0,t.default)(864e13))||(h.end=h.end.endOf(u)),h}},{key:"subtract",value:function(u){var h=this.start.valueOf(),c=this.end.valueOf(),b=u.start.valueOf(),d=u.end.valueOf();return this.intersect(u)===null?[this]:b<=h&&h<c&&c<=d?[]:b<=h&&h<d&&d<c?[new this.constructor(d,c)]:h<b&&b<c&&c<=d?[new this.constructor(h,b)]:h<b&&b<d&&d<c?[new this.constructor(h,b),new this.constructor(d,c)]:h<b&&b<c&&d<c?[new this.constructor(h,b),new this.constructor(b,c)]:[]}},{key:"toDate",value:function(){return[this.start.toDate(),this.end.toDate()]}},{key:"toString",value:function(){return this.start.format()+"/"+this.end.format()}},{key:"valueOf",value:function(){return this.end.valueOf()-this.start.valueOf()}}]),o}()},function(De,We,B){var L,e=B(6),k=B(13),w=B(9),r=B(15);L=De.exports=function(_,v){var f,s,t,a,n;return arguments.length<2||typeof _!="string"?(a=v,v=_,_=null):a=arguments[2],_==null?(f=t=!0,s=!1):(f=r.call(_,"c"),s=r.call(_,"e"),t=r.call(_,"w")),n={value:v,configurable:f,enumerable:s,writable:t},a?e(k(a),n):n},L.gs=function(_,v,f){var s,t,a,n;return typeof _!="string"?(a=f,f=v,v=_,_=null):a=arguments[3],v==null?v=void 0:w(v)?f==null?f=void 0:w(f)||(a=f,f=void 0):(a=v,v=f=void 0),_==null?(s=!0,t=!1):(s=r.call(_,"c"),t=r.call(_,"e")),n={get:v,set:f,configurable:s,enumerable:t},a?e(k(a),n):n}},function(De,We,B){De.exports=function(){}},function(De,We,B){De.exports=B(7)()?Object.assign:B(8)},function(De,We,B){De.exports=function(){var L,e=Object.assign;return typeof e=="function"&&(L={foo:"raz"},e(L,{bar:"dwa"},{trzy:"trzy"}),L.foo+L.bar+L.trzy==="razdwatrzy")}},function(De,We,B){var L=B(10),e=B(14),k=Math.max;De.exports=function(w,r){var _,v,f,s=k(arguments.length,2);for(w=Object(e(w)),f=function(t){try{w[t]=r[t]}catch(a){_||(_=a)}},v=1;v<s;++v)r=arguments[v],L(r).forEach(f);if(_!==void 0)throw _;return w}},function(De,We,B){De.exports=function(L){return typeof L=="function"}},function(De,We,B){De.exports=B(11)()?Object.keys:B(12)},function(De,We,B){De.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},function(De,We,B){var L=B(0),e=Object.keys;De.exports=function(k){return e(L(k)?Object(k):k)}},function(De,We,B){var L=B(0),e=Array.prototype.forEach,k=Object.create,w=function(r,_){var v;for(v in r)_[v]=r[v]};De.exports=function(r){var _=k(null);return e.call(arguments,function(v){L(v)&&w(Object(v),_)}),_}},function(De,We,B){var L=B(0);De.exports=function(e){if(!L(e))throw new TypeError("Cannot use null or undefined");return e}},function(De,We,B){De.exports=B(16)()?String.prototype.contains:B(17)},function(De,We,B){var L="razdwatrzy";De.exports=function(){return typeof L.contains=="function"&&L.contains("dwa")===!0&&L.contains("foo")===!1}},function(De,We,B){var L=String.prototype.indexOf;De.exports=function(e){return L.call(this,e,arguments[1])>-1}},function(De,We,B){var L={object:!0,symbol:!0};De.exports=function(){var e;if(typeof Symbol!="function")return!1;e=Symbol("test symbol");try{String(e)}catch{return!1}return!!L[typeof Symbol.iterator]&&!!L[typeof Symbol.toPrimitive]&&!!L[typeof Symbol.toStringTag]}},function(De,We,B){De.exports=function(L){return!!L&&(typeof L=="symbol"||!!L.constructor&&L.constructor.name==="Symbol"&&L[L.constructor.toStringTag]==="Symbol")}},function(De,We,B){var L,e,k,w,r=B(4),_=B(21),v=Object.create,f=Object.defineProperties,s=Object.defineProperty,t=Object.prototype,a=v(null);if(typeof Symbol=="function"){L=Symbol;try{String(L()),w=!0}catch{}}var n=function(){var i=v(null);return function(l){for(var o,u,h=0;i[l+(h||"")];)++h;return l+=h||"",i[l]=!0,o="@@"+l,s(t,o,r.gs(null,function(c){u||(u=!0,s(this,o,r(c)),u=!1)})),o}}();k=function(i){if(this instanceof k)throw new TypeError("Symbol is not a constructor");return e(i)},De.exports=e=function i(l){var o;if(this instanceof i)throw new TypeError("Symbol is not a constructor");return w?L(l):(o=v(k.prototype),l=l===void 0?"":String(l),f(o,{__description__:r("",l),__name__:r("",n(l))}))},f(e,{for:r(function(i){return a[i]?a[i]:a[i]=e(String(i))}),keyFor:r(function(i){var l;_(i);for(l in a)if(a[l]===i)return l}),hasInstance:r("",L&&L.hasInstance||e("hasInstance")),isConcatSpreadable:r("",L&&L.isConcatSpreadable||e("isConcatSpreadable")),iterator:r("",L&&L.iterator||e("iterator")),match:r("",L&&L.match||e("match")),replace:r("",L&&L.replace||e("replace")),search:r("",L&&L.search||e("search")),species:r("",L&&L.species||e("species")),split:r("",L&&L.split||e("split")),toPrimitive:r("",L&&L.toPrimitive||e("toPrimitive")),toStringTag:r("",L&&L.toStringTag||e("toStringTag")),unscopables:r("",L&&L.unscopables||e("unscopables"))}),f(k.prototype,{constructor:r(e),toString:r("",function(){return this.__name__})}),f(e.prototype,{toString:r(function(){return"Symbol ("+_(this).__description__+")"}),valueOf:r(function(){return _(this)})}),s(e.prototype,e.toPrimitive,r("",function(){var i=_(this);return typeof i=="symbol"?i:i.toString()})),s(e.prototype,e.toStringTag,r("c","Symbol")),s(k.prototype,e.toStringTag,r("c",e.prototype[e.toStringTag])),s(k.prototype,e.toPrimitive,r("c",e.prototype[e.toPrimitive]))},function(De,We,B){var L=B(19);De.exports=function(e){if(!L(e))throw new TypeError(e+" is not a symbol");return e}}])})})(sv);var lv=sv.exports;function O1(re,se,Se){const De=re.slice();return De[8]=se[Se],De}function P1(re,se,Se){const De=re.slice();return De[11]=se[Se],De[13]=Se,De}function I1(re){let se,Se,De,We,B=re[3][0].toLocaleString()+"",L,e,k,w=re[3][re[3].length-1].toLocaleString()+"",r,_=no(re[0].slice(0,10)),v=[];for(let f=0;f<_.length;f+=1)v[f]=z1(O1(re,_,f));return{c(){se=_r("div");for(let f=0;f<v.length;f+=1)v[f].c();Se=qr(),De=_r("div"),We=_r("div"),L=li(B),e=qr(),k=_r("div"),r=li(w),Vn(se,"class","freq-graph svelte-1mjf5ze"),Vn(We,"class","time svelte-1mjf5ze"),Vn(k,"class","time max-time svelte-1mjf5ze"),Vn(De,"class","time-range svelte-1mjf5ze")},m(f,s){Cr(f,se,s);for(let t=0;t<v.length;t+=1)v[t]&&v[t].m(se,null);Cr(f,Se,s),Cr(f,De,s),hr(De,We),hr(We,L),hr(De,e),hr(De,k),hr(k,r)},p(f,s){if(s&15){_=no(f[0].slice(0,10));let t;for(t=0;t<_.length;t+=1){const a=O1(f,_,t);v[t]?v[t].p(a,s):(v[t]=z1(a),v[t].c(),v[t].m(se,null))}for(;t<v.length;t+=1)v[t].d(1);v.length=_.length}s&8&&B!==(B=f[3][0].toLocaleString()+"")&&Pi(L,B),s&8&&w!==(w=f[3][f[3].length-1].toLocaleString()+"")&&Pi(r,w)},d(f){f&&(Lr(se),Lr(Se),Lr(De)),iu(v,f)}}}function D1(re){let se,Se,De;return{c(){se=_r("div"),Vn(se,"class","day svelte-1mjf5ze"),Vn(se,"title",Se=`${re[11].toLocaleString()}
${re[1][re[8].value][re[13]]} occurances`),Vn(se,"style",De=re[1][re[8].value][re[13]]==0?"background: #101010":`opacity: ${re[1][re[8].value][re[13]]/re[2][re[8].value]*100}%`)},m(We,B){Cr(We,se,B)},p(We,B){B&11&&Se!==(Se=`${We[11].toLocaleString()}
${We[1][We[8].value][We[13]]} occurances`)&&Vn(se,"title",Se),B&7&&De!==(De=We[1][We[8].value][We[13]]==0?"background: #101010":`opacity: ${We[1][We[8].value][We[13]]/We[2][We[8].value]*100}%`)&&Vn(se,"style",De)},d(We){We&&Lr(se)}}}function z1(re){let se,Se=re[8].value+"",De,We,B,L,e=no(re[3]),k=[];for(let w=0;w<e.length;w+=1)k[w]=D1(P1(re,e,w));return{c(){se=_r("div"),De=li(Se),We=qr(),B=_r("div");for(let w=0;w<k.length;w+=1)k[w].c();L=qr(),Vn(se,"class","value-name svelte-1mjf5ze"),Vn(B,"class","days svelte-1mjf5ze")},m(w,r){Cr(w,se,r),hr(se,De),Cr(w,We,r),Cr(w,B,r);for(let _=0;_<k.length;_+=1)k[_]&&k[_].m(B,null);hr(B,L)},p(w,r){if(r&1&&Se!==(Se=w[8].value+"")&&Pi(De,Se),r&15){e=no(w[3]);let _;for(_=0;_<e.length;_+=1){const v=P1(w,e,_);k[_]?k[_].p(v,r):(k[_]=D1(v),k[_].c(),k[_].m(B,L))}for(;_<k.length;_+=1)k[_].d(1);k.length=e.length}},d(w){w&&(Lr(se),Lr(We),Lr(B)),iu(k,w)}}}function y3(re){let se,Se=re[2]!=null&&I1(re);return{c(){Se&&Se.c(),se=As()},m(De,We){Se&&Se.m(De,We),Cr(De,se,We)},p(De,[We]){De[2]!=null?Se?Se.p(De,We):(Se=I1(De),Se.c(),Se.m(se.parentNode,se)):Se&&(Se.d(1),Se=null)},i:xi,o:xi,d(De){De&&Lr(se),Se&&Se.d(De)}}}function x3(re,se,Se,De){if(Se===null)return{};const We=De.map(L=>new Date(L).getTime()),B={};for(let L=0;L<re.extraction.length;L++){const e=re.extraction[L].params;if(!(se in e))continue;const k=new Date(e[Se].value).getTime(),w={index:-1,diff:Number.MAX_VALUE};for(let _=0;_<We.length;_++){const v=Math.abs(We[_]-k);if(v<w.diff)w.index=_,w.diff=v;else break}const r=e[se].value;B[r]||(B[r]=Array(De.length).fill(0)),B[r][w.index]+=1}return B}function b3(re){const se=[];for(let[Se,De]of Object.entries(re)){const We=De.reduce((B,L)=>B+L,0);se.push({value:Se,total:We})}return se.sort((Se,De)=>De.total-Se.total),se}function _3(re){const se={};for(const Se in re)se[Se]=Math.max(...re[Se]);return se}function w3(re,se){if(se===null)return[null,null];let Se=new Date(-864e13),De=new Date(864e13);for(let We=0;We<re.extraction.length;We++){const B=re.extraction[We].params;if(!(se in B))continue;const L=new Date(B[se].value);L>Se&&(Se=L),L<De&&(De=L)}return[De,Se]}function T3(re,se,Se){const De=lv.extendMoment(Br);let We,B,L,e;Mu(()=>{const[_,v]=w3(k,r);if(_===null||v===null)return;const f=De.range(_,v);Se(3,e=Array.from(f.by("minutes",{step:50}))),Se(1,B=x3(k,w,r,e)),Se(0,We=b3(B)),Se(2,L=_3(B))});let{data:k,token:w,timestampToken:r}=se;return re.$$set=_=>{"data"in _&&Se(4,k=_.data),"token"in _&&Se(5,w=_.token),"timestampToken"in _&&Se(6,r=_.timestampToken)},[We,B,L,e,k,w,r]}class k3 extends Fa{constructor(se){super(),Ra(this,se,T3,y3,za,{data:4,token:5,timestampToken:6})}}function R1(re){let se,Se,De,We=re[0].lq.toLocaleString()+"",B,L,e,k,w,r,_=re[0].median.toLocaleString()+"",v,f,s,t,a,n,i=re[0].uq.toLocaleString()+"",l,o,u,h,c,b,d=re[0].p95.toLocaleString()+"",g,m,y,x,T,p,S=re[0].p99.toLocaleString()+"",M,E,P;return{c(){se=_r("div"),Se=_r("div"),De=_r("div"),B=li(We),L=qr(),e=_r("div"),e.textContent="LQ",k=qr(),w=_r("div"),r=_r("div"),v=li(_),f=qr(),s=_r("div"),s.textContent="Median",t=qr(),a=_r("div"),n=_r("div"),l=li(i),o=qr(),u=_r("div"),u.textContent="UQ",h=qr(),c=_r("div"),b=_r("div"),g=li(d),m=qr(),y=_r("div"),y.textContent="p95",x=qr(),T=_r("div"),p=_r("div"),M=li(S),E=qr(),P=_r("div"),P.textContent="p99",Vn(De,"class","value svelte-wydon0"),Vn(e,"class","label svelte-wydon0"),Vn(Se,"class","statistic svelte-wydon0"),Vn(r,"class","value svelte-wydon0"),Vn(s,"class","label svelte-wydon0"),Vn(w,"class","statistic svelte-wydon0"),Vn(n,"class","value svelte-wydon0"),Vn(u,"class","label svelte-wydon0"),Vn(a,"class","statistic svelte-wydon0"),Vn(b,"class","value svelte-wydon0"),Vn(y,"class","label svelte-wydon0"),Vn(c,"class","statistic svelte-wydon0"),Vn(p,"class","value svelte-wydon0"),Vn(P,"class","label svelte-wydon0"),Vn(T,"class","statistic svelte-wydon0"),Vn(se,"class","container svelte-wydon0")},m(O,I){Cr(O,se,I),hr(se,Se),hr(Se,De),hr(De,B),hr(Se,L),hr(Se,e),hr(se,k),hr(se,w),hr(w,r),hr(r,v),hr(w,f),hr(w,s),hr(se,t),hr(se,a),hr(a,n),hr(n,l),hr(a,o),hr(a,u),hr(se,h),hr(se,c),hr(c,b),hr(b,g),hr(c,m),hr(c,y),hr(se,x),hr(se,T),hr(T,p),hr(p,M),hr(T,E),hr(T,P)},p(O,I){I&1&&We!==(We=O[0].lq.toLocaleString()+"")&&Pi(B,We),I&1&&_!==(_=O[0].median.toLocaleString()+"")&&Pi(v,_),I&1&&i!==(i=O[0].uq.toLocaleString()+"")&&Pi(l,i),I&1&&d!==(d=O[0].p95.toLocaleString()+"")&&Pi(g,d),I&1&&S!==(S=O[0].p99.toLocaleString()+"")&&Pi(M,S)},d(O){O&&Lr(se)}}}function M3(re){let se,Se=re[0]&&R1(re);return{c(){Se&&Se.c(),se=As()},m(De,We){Se&&Se.m(De,We),Cr(De,se,We)},p(De,[We]){De[0]?Se?Se.p(De,We):(Se=R1(De),Se.c(),Se.m(se.parentNode,se)):Se&&(Se.d(1),Se=null)},i:xi,o:xi,d(De){De&&Lr(se),Se&&Se.d(De)}}}function A3(re){return re.sort((se,Se)=>se-Se)}function Eh(re,se){const Se=A3(re),De=(Se.length-1)*se,We=Math.floor(De),B=De-We;return Se[We+1]!==void 0?Se[We]+B*(Se[We+1]-Se[We]):Se[We]!==void 0?Se[We]:0}function S3(re,se){const Se=[];for(let De=0;De<re.extraction.length;De++){if(!(se in re.extraction[De].params))continue;const We=re.extraction[De].params[se].value;typeof We=="number"&&Se.push(We)}return Se}function E3(re,se,Se){let De;Mu(()=>{const L=S3(We,B);L.sort(),L.length!=0&&Se(0,De={median:L[Math.floor(L.length/2)],lq:Eh(L,.25),uq:Eh(L,.75),p95:Eh(L,.95),p99:Eh(L,.99)})});let{data:We,token:B}=se;return re.$$set=L=>{"data"in L&&Se(1,We=L.data),"token"in L&&Se(2,B=L.token)},[De,We,B]}class L3 extends Fa{constructor(se){super(),Ra(this,se,E3,M3,za,{data:1,token:2})}}var uv={exports:{}};(function(re,se){/*! For license information please see plotly.min.js.LICENSE.txt */(function(Se,De){re.exports=De()})(self,function(){return function(){var Se={79288:function(B,L,e){var k=e(3400),w={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var r in w){var _=r.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");k.addStyleRule(_,w[r])}},86712:function(B,L,e){B.exports=e(84224)},37240:function(B,L,e){B.exports=e(51132)},29744:function(B,L,e){B.exports=e(94456)},29352:function(B,L,e){B.exports=e(67244)},96144:function(B,L,e){B.exports=e(97776)},53219:function(B,L,e){B.exports=e(61712)},4624:function(B,L,e){B.exports=e(95856)},54543:function(B,L,e){B.exports=e(54272)},45e3:function(B,L,e){B.exports=e(85404)},62300:function(B,L,e){B.exports=e(26048)},6920:function(B,L,e){B.exports=e(66240)},10264:function(B,L,e){B.exports=e(40448)},32016:function(B,L,e){B.exports=e(64884)},27528:function(B,L,e){B.exports=e(15088)},75556:function(B,L,e){B.exports=e(76744)},39204:function(B,L,e){B.exports=e(94704)},73996:function(B,L,e){B.exports=e(62396)},16489:function(B,L,e){B.exports=e(32028)},5e3:function(B,L,e){B.exports=e(81932)},77280:function(B,L,e){B.exports=e(45536)},33992:function(B,L,e){B.exports=e(42600)},17600:function(B,L,e){B.exports=e(21536)},49116:function(B,L,e){B.exports=e(65664)},46808:function(B,L,e){B.exports=e(29044)},36168:function(B,L,e){B.exports=e(48928)},13792:function(B,L,e){var k=e(32016);k.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),B.exports=k},3920:function(B,L,e){B.exports=e(43480)},25120:function(B,L,e){B.exports=e(6296)},4340:function(B,L,e){B.exports=e(7404)},86152:function(B,L,e){B.exports=e(65456)},56816:function(B,L,e){B.exports=e(22020)},89296:function(B,L,e){B.exports=e(29928)},20260:function(B,L,e){B.exports=e(75792)},32140:function(B,L,e){B.exports=e(156)},84764:function(B,L,e){B.exports=e(45499)},48824:function(B,L,e){B.exports=e(3296)},69967:function(B,L,e){B.exports=e(4184)},8363:function(B,L,e){B.exports=e(36952)},86636:function(B,L,e){B.exports=e(38983)},70192:function(B,L,e){B.exports=e(11572)},81604:function(B,L,e){B.exports=e(76924)},63796:function(B,L,e){B.exports=e(62944)},89336:function(B,L,e){B.exports=e(95443)},67484:function(B,L,e){B.exports=e(34864)},97312:function(B,L,e){B.exports=e(76272)},42192:function(B,L,e){B.exports=e(97924)},29800:function(B,L,e){B.exports=e(15436)},63560:function(B,L,e){B.exports=e(5621)},89904:function(B,L,e){B.exports=e(91304)},50248:function(B,L,e){B.exports=e(41724)},65832:function(B,L,e){B.exports=e(31991)},79440:function(B,L,e){B.exports=e(22869)},13752:function(B,L,e){B.exports=e(67776)},83096:function(B,L,e){B.exports=e(95952)},72196:function(B){B.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(B,L,e){var k=e(72196),w=e(25376),r=e(33816),_=e(31780).templatedArray;e(36208),B.exports=_("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:w({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:k.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:k.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",r.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",r.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",r.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",r.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:w({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(B,L,e){var k=e(3400),w=e(54460),r=e(23816).draw;function _(f){var s=f._fullLayout;k.filterVisible(s.annotations).forEach(function(t){var a=w.getFromId(f,t.xref),n=w.getFromId(f,t.yref),i=w.getRefType(t.xref),l=w.getRefType(t.yref);t._extremes={},i==="range"&&v(t,a),l==="range"&&v(t,n)})}function v(f,s){var t,a=s._id,n=a.charAt(0),i=f[n],l=f["a"+n],o=f[n+"ref"],u=f["a"+n+"ref"],h=f["_"+n+"padplus"],c=f["_"+n+"padminus"],b={x:1,y:-1}[n]*f[n+"shift"],d=3*f.arrowsize*f.arrowwidth||0,g=d+b,m=d-b,y=3*f.startarrowsize*f.arrowwidth||0,x=y+b,T=y-b;if(u===o){var p=w.findExtremes(s,[s.r2c(i)],{ppadplus:g,ppadminus:m}),S=w.findExtremes(s,[s.r2c(l)],{ppadplus:Math.max(h,x),ppadminus:Math.max(c,T)});t={min:[p.min[0],S.min[0]],max:[p.max[0],S.max[0]]}}else x=l?x+l:x,T=l?T-l:T,t=w.findExtremes(s,[s.r2c(i)],{ppadplus:Math.max(h,g,x),ppadminus:Math.max(c,m,T)});f._extremes[a]=t}B.exports=function(f){var s=f._fullLayout;if(k.filterVisible(s.annotations).length&&f._fullData.length)return k.syncOrAsync([r,_],f)}},42300:function(B,L,e){var k=e(3400),w=e(24040),r=e(31780).arrayEditor;function _(f,s){var t,a,n,i,l,o,u,h=f._fullLayout.annotations,c=[],b=[],d=[],g=(s||[]).length;for(t=0;t<h.length;t++)if(i=(n=h[t]).clicktoshow){for(a=0;a<g;a++)if(o=(l=s[a]).xaxis,u=l.yaxis,o._id===n.xref&&u._id===n.yref&&o.d2r(l.x)===v(n._xclick,o)&&u.d2r(l.y)===v(n._yclick,u)){(n.visible?i==="onout"?b:d:c).push(t);break}a===g&&n.visible&&i==="onout"&&b.push(t)}return{on:c,off:b,explicitOff:d}}function v(f,s){return s.type==="log"?s.l2r(f):s.d2r(f)}B.exports={hasClickToShow:function(f,s){var t=_(f,s);return t.on.length>0||t.explicitOff.length>0},onClick:function(f,s){var t,a,n=_(f,s),i=n.on,l=n.off.concat(n.explicitOff),o={},u=f._fullLayout.annotations;if(i.length||l.length){for(t=0;t<i.length;t++)(a=r(f.layout,"annotations",u[i[t]])).modifyItem("visible",!0),k.extendFlat(o,a.getUpdateObj());for(t=0;t<l.length;t++)(a=r(f.layout,"annotations",u[l[t]])).modifyItem("visible",!1),k.extendFlat(o,a.getUpdateObj());return w.call("update",f,{},o)}}}},87192:function(B,L,e){var k=e(3400),w=e(76308);B.exports=function(r,_,v,f){f("opacity");var s=f("bgcolor"),t=f("bordercolor"),a=w.opacity(t);f("borderpad");var n=f("borderwidth"),i=f("showarrow");if(f("text",i?" ":v._dfltTitle.annotation),f("textangle"),k.coerceFont(f,"font",v.font),f("width"),f("align"),f("height")&&f("valign"),i){var l,o,u=f("arrowside");u.indexOf("end")!==-1&&(l=f("arrowhead"),o=f("arrowsize")),u.indexOf("start")!==-1&&(f("startarrowhead",l),f("startarrowsize",o)),f("arrowcolor",a?_.bordercolor:w.defaultLine),f("arrowwidth",2*(a&&n||1)),f("standoff"),f("startstandoff")}var h=f("hovertext"),c=v.hoverlabel||{};if(h){var b=f("hoverlabel.bgcolor",c.bgcolor||(w.opacity(s)?w.rgb(s):w.defaultLine)),d=f("hoverlabel.bordercolor",c.bordercolor||w.contrast(b));k.coerceFont(f,"hoverlabel.font",{family:c.font.family,size:c.font.size,color:c.font.color||d})}f("captureevents",!!h)}},26828:function(B,L,e){var k=e(38248),w=e(36896);B.exports=function(r,_,v,f){_=_||{};var s=v==="log"&&_.type==="linear",t=v==="linear"&&_.type==="log";if(s||t)for(var a,n,i=r._fullLayout.annotations,l=_._id.charAt(0),o=0;o<i.length;o++)a=i[o],n="annotations["+o+"].",a[l+"ref"]===_._id&&u(l),a["a"+l+"ref"]===_._id&&u("a"+l);function u(h){var c=a[h],b=null;b=s?w(c,_.range):Math.pow(10,c),k(b)||(b=null),f(n+h,b)}}},45216:function(B,L,e){var k=e(3400),w=e(54460),r=e(51272),_=e(87192),v=e(13916);function f(s,t,a){function n(S,M){return k.coerce(s,t,v,S,M)}var i=n("visible"),l=n("clicktoshow");if(i||l){_(s,t,a,n);for(var o=t.showarrow,u=["x","y"],h=[-10,-30],c={_fullLayout:a},b=0;b<2;b++){var d=u[b],g=w.coerceRef(s,t,c,d,"","paper");if(g!=="paper"&&w.getFromId(c,g)._annIndices.push(t._index),w.coercePosition(t,c,n,g,d,.5),o){var m="a"+d,y=w.coerceRef(s,t,c,m,"pixel",["pixel","paper"]);y!=="pixel"&&y!==g&&(y=t[m]="pixel");var x=y==="pixel"?h[b]:.4;w.coercePosition(t,c,n,y,m,x)}n(d+"anchor"),n(d+"shift")}if(k.noneOrAll(s,t,["x","y"]),o&&k.noneOrAll(s,t,["ax","ay"]),l){var T=n("xclick"),p=n("yclick");t._xclick=T===void 0?t.x:w.cleanPosition(T,c,t.xref),t._yclick=p===void 0?t.y:w.cleanPosition(p,c,t.yref)}}}B.exports=function(s,t){r(s,t,{name:"annotations",handleItemDefaults:f})}},23816:function(B,L,e){var k=e(33428),w=e(24040),r=e(7316),_=e(3400),v=_.strTranslate,f=e(54460),s=e(76308),t=e(43616),a=e(93024),n=e(72736),i=e(93972),l=e(86476),o=e(31780).arrayEditor,u=e(33652);function h(d,g){var m=d._fullLayout.annotations[g]||{},y=f.getFromId(d,m.xref),x=f.getFromId(d,m.yref);y&&y.setScale(),x&&x.setScale(),b(d,m,g,!1,y,x)}function c(d,g,m,y,x){var T=x[m],p=x[m+"ref"],S=m.indexOf("y")!==-1,M=f.getRefType(p)==="domain",E=S?y.h:y.w;return d?M?T+(S?-g:g)/d._length:d.p2r(d.r2p(T)+g):T+(S?-g:g)/E}function b(d,g,m,y,x,T){var p,S,M=d._fullLayout,E=d._fullLayout._size,P=d._context.edits;y?(p="annotation-"+y,S=y+".annotations"):(p="annotation",S="annotations");var O=o(d.layout,S,g),I=O.modifyBase,R=O.modifyItem,U=O.getUpdateObj;M._infolayer.selectAll("."+p+'[data-index="'+m+'"]').remove();var z="clip"+M._uid+"_ann"+m;if(g._input&&g.visible!==!1){var j={x:{},y:{}},W=+g.textangle||0,F=M._infolayer.append("g").classed(p,!0).attr("data-index",String(m)).style("opacity",g.opacity),V=F.append("g").classed("annotation-text-g",!0),H=P[g.showarrow?"annotationTail":"annotationPosition"],te=g.captureevents||P.annotationText||H,Q=V.append("g").style("pointer-events",te?"all":null).call(i,"pointer").on("click",function(){d._dragging=!1,d.emit("plotly_clickannotation",ve(k.event))});g.hovertext&&Q.on("mouseover",function(){var ye=g.hoverlabel,me=ye.font,Ae=this.getBoundingClientRect(),ke=d.getBoundingClientRect();a.loneHover({x0:Ae.left-ke.left,x1:Ae.right-ke.left,y:(Ae.top+Ae.bottom)/2-ke.top,text:g.hovertext,color:ye.bgcolor,borderColor:ye.bordercolor,fontFamily:me.family,fontSize:me.size,fontColor:me.color},{container:M._hoverlayer.node(),outerContainer:M._paper.node(),gd:d})}).on("mouseout",function(){a.loneUnhover(M._hoverlayer.node())});var K=g.borderwidth,X=g.borderpad,J=K+X,ee=Q.append("rect").attr("class","bg").style("stroke-width",K+"px").call(s.stroke,g.bordercolor).call(s.fill,g.bgcolor),ie=g.width||g.height,oe=M._topclips.selectAll("#"+z).data(ie?[0]:[]);oe.enter().append("clipPath").classed("annclip",!0).attr("id",z).append("rect"),oe.exit().remove();var ae=g.font,ce=M._meta?_.templateString(g.text,M._meta):g.text,ge=Q.append("text").classed("annotation-text",!0).text(ce);P.annotationText?ge.call(n.makeEditable,{delegate:Q,gd:d}).call(be).on("edit",function(ye){g.text=ye,this.call(be),R("text",ye),x&&x.autorange&&I(x._name+".autorange",!0),T&&T.autorange&&I(T._name+".autorange",!0),w.call("_guiRelayout",d,U())}):ge.call(be)}else k.selectAll("#"+z).remove();function ve(ye){var me={index:m,annotation:g._input,fullAnnotation:g,event:ye};return y&&(me.subplotId=y),me}function be(ye){return ye.call(t.font,ae).attr({"text-anchor":{left:"start",right:"end"}[g.align]||"middle"}),n.convertToTspans(ye,d,we),ye}function we(){var ye=ge.selectAll("a");ye.size()===1&&ye.text()===ge.text()&&Q.insert("a",":first-child").attr({"xlink:xlink:href":ye.attr("xlink:href"),"xlink:xlink:show":ye.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(ee.node());var me=Q.select(".annotation-text-math-group"),Ae=!me.empty(),ke=t.bBox((Ae?me:ge).node()),fe=ke.width,le=ke.height,de=g.width||fe,Ce=g.height||le,Me=Math.round(de+2*J),Le=Math.round(Ce+2*J);function Oe(xt,dt){return dt==="auto"&&(dt=xt<.3333333333333333?"left":xt>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[dt]}for(var Be=!1,pe=["x","y"],_e=0;_e<pe.length;_e++){var Te,Re,Ne,ze,Ge,Ye=pe[_e],et=g[Ye+"ref"]||Ye,ut=g["a"+Ye+"ref"],ot={x,y:T}[Ye],yt=(W+(Ye==="x"?0:-90))*Math.PI/180,wt=Me*Math.cos(yt),bt=Le*Math.sin(yt),at=Math.abs(wt)+Math.abs(bt),rt=g[Ye+"anchor"],At=g[Ye+"shift"]*(Ye==="x"?1:-1),Rt=j[Ye],Ft=f.getRefType(et);if(ot&&Ft!=="domain"){var Dt=ot.r2fraction(g[Ye]);(Dt<0||Dt>1)&&(ut===et?((Dt=ot.r2fraction(g["a"+Ye]))<0||Dt>1)&&(Be=!0):Be=!0),Te=ot._offset+ot.r2p(g[Ye]),ze=.5}else{var Xe=Ft==="domain";Ye==="x"?(Ne=g[Ye],Te=Xe?ot._offset+ot._length*Ne:Te=E.l+E.w*Ne):(Ne=1-g[Ye],Te=Xe?ot._offset+ot._length*Ne:Te=E.t+E.h*Ne),ze=g.showarrow?.5:Ne}if(g.showarrow){Rt.head=Te;var Ke=g["a"+Ye];if(Ge=wt*Oe(.5,g.xanchor)-bt*Oe(.5,g.yanchor),ut===et){var Ve=f.getRefType(ut);Ve==="domain"?(Ye==="y"&&(Ke=1-Ke),Rt.tail=ot._offset+ot._length*Ke):Ve==="paper"?Ye==="y"?(Ke=1-Ke,Rt.tail=E.t+E.h*Ke):Rt.tail=E.l+E.w*Ke:Rt.tail=ot._offset+ot.r2p(Ke),Re=Ge}else Rt.tail=Te+Ke,Re=Ge+Ke;Rt.text=Rt.tail+Ge;var Je=M[Ye==="x"?"width":"height"];if(et==="paper"&&(Rt.head=_.constrain(Rt.head,1,Je-1)),ut==="pixel"){var ct=-Math.max(Rt.tail-3,Rt.text),st=Math.min(Rt.tail+3,Rt.text)-Je;ct>0?(Rt.tail+=ct,Rt.text+=ct):st>0&&(Rt.tail-=st,Rt.text-=st)}Rt.tail+=At,Rt.head+=At}else Re=Ge=at*Oe(ze,rt),Rt.text=Te+Ge;Rt.text+=At,Ge+=At,Re+=At,g["_"+Ye+"padplus"]=at/2+Re,g["_"+Ye+"padminus"]=at/2-Re,g["_"+Ye+"size"]=at,g["_"+Ye+"shift"]=Ge}if(Be)Q.remove();else{var je=0,Ue=0;if(g.align!=="left"&&(je=(de-fe)*(g.align==="center"?.5:1)),g.valign!=="top"&&(Ue=(Ce-le)*(g.valign==="middle"?.5:1)),Ae)me.select("svg").attr({x:J+je-1,y:J+Ue}).call(t.setClipUrl,ie?z:null,d);else{var lt=J+Ue-ke.top,Qe=J+je-ke.left;ge.call(n.positionText,Qe,lt).call(t.setClipUrl,ie?z:null,d)}oe.select("rect").call(t.setRect,J,J,de,Ce),ee.call(t.setRect,K/2,K/2,Me-K,Le-K),Q.call(t.setTranslate,Math.round(j.x.text-Me/2),Math.round(j.y.text-Le/2)),V.attr({transform:"rotate("+W+","+j.x.text+","+j.y.text+")"});var gt,mt=function(xt,dt){F.selectAll(".annotation-arrow-g").remove();var Lt=j.x.head,kt=j.y.head,_t=j.x.tail+xt,Ot=j.y.tail+dt,Pt=j.x.text+xt,Bt=j.y.text+dt,Jt=_.rotationXYMatrix(W,Pt,Bt),on=_.apply2DTransform(Jt),qt=_.apply2DTransform2(Jt),Gt=+ee.attr("width"),nn=+ee.attr("height"),Cn=Pt-.5*Gt,An=Cn+Gt,dn=Bt-.5*nn,Kt=dn+nn,un=[[Cn,dn,Cn,Kt],[Cn,Kt,An,Kt],[An,Kt,An,dn],[An,dn,Cn,dn]].map(qt);if(!un.reduce(function(cr,$n){return cr^!!_.segmentsIntersect(Lt,kt,Lt+1e6,kt+1e6,$n[0],$n[1],$n[2],$n[3])},!1)){un.forEach(function(cr){var $n=_.segmentsIntersect(_t,Ot,Lt,kt,cr[0],cr[1],cr[2],cr[3]);$n&&(_t=$n.x,Ot=$n.y)});var rn=g.arrowwidth,hn=g.arrowcolor,kn=g.arrowside,Sn=F.append("g").style({opacity:s.opacity(hn)}).classed("annotation-arrow-g",!0),Rn=Sn.append("path").attr("d","M"+_t+","+Ot+"L"+Lt+","+kt).style("stroke-width",rn+"px").call(s.stroke,s.rgb(hn));if(u(Rn,kn,g),P.annotationPosition&&Rn.node().parentNode&&!y){var zn=Lt,Pn=kt;if(g.standoff){var Gn=Math.sqrt(Math.pow(Lt-_t,2)+Math.pow(kt-Ot,2));zn+=g.standoff*(_t-Lt)/Gn,Pn+=g.standoff*(Ot-kt)/Gn}var Nn,or,lr=Sn.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(_t-zn)+","+(Ot-Pn),transform:v(zn,Pn)}).style("stroke-width",rn+6+"px").call(s.stroke,"rgba(0,0,0,0)").call(s.fill,"rgba(0,0,0,0)");l.init({element:lr.node(),gd:d,prepFn:function(){var cr=t.getTranslate(Q);Nn=cr.x,or=cr.y,x&&x.autorange&&I(x._name+".autorange",!0),T&&T.autorange&&I(T._name+".autorange",!0)},moveFn:function(cr,$n){var Ar=on(Nn,or),Ht=Ar[0]+cr,an=Ar[1]+$n;Q.call(t.setTranslate,Ht,an),R("x",c(x,cr,"x",E,g)),R("y",c(T,$n,"y",E,g)),g.axref===g.xref&&R("ax",c(x,cr,"ax",E,g)),g.ayref===g.yref&&R("ay",c(T,$n,"ay",E,g)),Sn.attr("transform",v(cr,$n)),V.attr({transform:"rotate("+W+","+Ht+","+an+")"})},doneFn:function(){w.call("_guiRelayout",d,U());var cr=document.querySelector(".js-notes-box-panel");cr&&cr.redraw(cr.selectedObj)}})}}};g.showarrow&&mt(0,0),H&&l.init({element:Q.node(),gd:d,prepFn:function(){gt=V.attr("transform")},moveFn:function(xt,dt){var Lt="pointer";if(g.showarrow)g.axref===g.xref?R("ax",c(x,xt,"ax",E,g)):R("ax",g.ax+xt),g.ayref===g.yref?R("ay",c(T,dt,"ay",E.w,g)):R("ay",g.ay+dt),mt(xt,dt);else{if(y)return;var kt,_t;if(x)kt=c(x,xt,"x",E,g);else{var Ot=g._xsize/E.w,Pt=g.x+(g._xshift-g.xshift)/E.w-Ot/2;kt=l.align(Pt+xt/E.w,Ot,0,1,g.xanchor)}if(T)_t=c(T,dt,"y",E,g);else{var Bt=g._ysize/E.h,Jt=g.y-(g._yshift+g.yshift)/E.h-Bt/2;_t=l.align(Jt-dt/E.h,Bt,0,1,g.yanchor)}R("x",kt),R("y",_t),x&&T||(Lt=l.getCursor(x?.5:kt,T?.5:_t,g.xanchor,g.yanchor))}V.attr({transform:v(xt,dt)+gt}),i(Q,Lt)},clickFn:function(xt,dt){g.captureevents&&d.emit("plotly_clickannotation",ve(dt))},doneFn:function(){i(Q),w.call("_guiRelayout",d,U());var xt=document.querySelector(".js-notes-box-panel");xt&&xt.redraw(xt.selectedObj)}})}}}B.exports={draw:function(d){var g=d._fullLayout;g._infolayer.selectAll(".annotation").remove();for(var m=0;m<g.annotations.length;m++)g.annotations[m].visible&&h(d,m);return r.previousPromises(d)},drawOne:h,drawRaw:b}},33652:function(B,L,e){var k=e(33428),w=e(76308),r=e(72196),_=e(3400),v=_.strScale,f=_.strRotate,s=_.strTranslate;B.exports=function(t,a,n){var i,l,o,u,h=t.node(),c=r[n.arrowhead||0],b=r[n.startarrowhead||0],d=(n.arrowwidth||1)*(n.arrowsize||1),g=(n.arrowwidth||1)*(n.startarrowsize||1),m=a.indexOf("start")>=0,y=a.indexOf("end")>=0,x=c.backoff*d+n.standoff,T=b.backoff*g+n.startstandoff;if(h.nodeName==="line"){i={x:+t.attr("x1"),y:+t.attr("y1")},l={x:+t.attr("x2"),y:+t.attr("y2")};var p=i.x-l.x,S=i.y-l.y;if(u=(o=Math.atan2(S,p))+Math.PI,x&&T&&x+T>Math.sqrt(p*p+S*S))return void F();if(x){if(x*x>p*p+S*S)return void F();var M=x*Math.cos(o),E=x*Math.sin(o);l.x+=M,l.y+=E,t.attr({x2:l.x,y2:l.y})}if(T){if(T*T>p*p+S*S)return void F();var P=T*Math.cos(o),O=T*Math.sin(o);i.x-=P,i.y-=O,t.attr({x1:i.x,y1:i.y})}}else if(h.nodeName==="path"){var I=h.getTotalLength(),R="";if(I<x+T)return void F();var U=h.getPointAtLength(0),z=h.getPointAtLength(.1);o=Math.atan2(U.y-z.y,U.x-z.x),i=h.getPointAtLength(Math.min(T,I)),R="0px,"+T+"px,";var j=h.getPointAtLength(I),W=h.getPointAtLength(I-.1);u=Math.atan2(j.y-W.y,j.x-W.x),l=h.getPointAtLength(Math.max(0,I-x)),R+=I-(R?T+x:x)+"px,"+I+"px",t.style("stroke-dasharray",R)}function F(){t.style("stroke-dasharray","0px,100px")}function V(H,te,Q,K){H.path&&(H.noRotate&&(Q=0),k.select(h.parentNode).append("path").attr({class:t.attr("class"),d:H.path,transform:s(te.x,te.y)+f(180*Q/Math.PI)+v(K)}).style({fill:w.rgb(n.arrowcolor),"stroke-width":0}))}m&&V(b,i,o,g),y&&V(c,l,u,d)}},79180:function(B,L,e){var k=e(23816),w=e(42300);B.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:k.draw,drawOne:k.drawOne,drawRaw:k.drawRaw,hasClickToShow:w.hasClickToShow,onClick:w.onClick,convertCoords:e(26828)}},45899:function(B,L,e){var k=e(13916),w=e(67824).overrideAll,r=e(31780).templatedArray;B.exports=w(r("annotation",{visible:k.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:k.xanchor,xshift:k.xshift,yanchor:k.yanchor,yshift:k.yshift,text:k.text,textangle:k.textangle,font:k.font,width:k.width,height:k.height,opacity:k.opacity,align:k.align,valign:k.valign,bgcolor:k.bgcolor,bordercolor:k.bordercolor,borderpad:k.borderpad,borderwidth:k.borderwidth,showarrow:k.showarrow,arrowcolor:k.arrowcolor,arrowhead:k.arrowhead,startarrowhead:k.startarrowhead,arrowside:k.arrowside,arrowsize:k.arrowsize,startarrowsize:k.startarrowsize,arrowwidth:k.arrowwidth,standoff:k.standoff,startstandoff:k.startstandoff,hovertext:k.hovertext,hoverlabel:k.hoverlabel,captureevents:k.captureevents}),"calc","from-root")},42456:function(B,L,e){var k=e(3400),w=e(54460);function r(_,v){var f=v.fullSceneLayout.domain,s=v.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};_._xa={},k.extendFlat(_._xa,t),w.setConvert(_._xa),_._xa._offset=s.l+f.x[0]*s.w,_._xa.l2p=function(){return .5*(1+_._pdata[0]/_._pdata[3])*s.w*(f.x[1]-f.x[0])},_._ya={},k.extendFlat(_._ya,t),w.setConvert(_._ya),_._ya._offset=s.t+(1-f.y[1])*s.h,_._ya.l2p=function(){return .5*(1-_._pdata[1]/_._pdata[3])*s.h*(f.y[1]-f.y[0])}}B.exports=function(_){for(var v=_.fullSceneLayout.annotations,f=0;f<v.length;f++)r(v[f],_);_.fullLayout._infolayer.selectAll(".annotation-"+_.id).remove()}},52808:function(B,L,e){var k=e(3400),w=e(54460),r=e(51272),_=e(87192),v=e(45899);function f(s,t,a,n){function i(o,u){return k.coerce(s,t,v,o,u)}function l(o){var u=o+"axis",h={_fullLayout:{}};return h._fullLayout[u]=a[u],w.coercePosition(t,h,i,o,o,.5)}i("visible")&&(_(s,t,n.fullLayout,i),l("x"),l("y"),l("z"),k.noneOrAll(s,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",i("xanchor"),i("yanchor"),i("xshift"),i("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",i("ax",-10),i("ay",-30),k.noneOrAll(s,t,["ax","ay"])))}B.exports=function(s,t,a){r(s,t,{name:"annotations",handleItemDefaults:f,fullLayout:a.fullLayout})}},71836:function(B,L,e){var k=e(23816).drawRaw,w=e(94424),r=["x","y","z"];B.exports=function(_){for(var v=_.fullSceneLayout,f=_.dataScale,s=v.annotations,t=0;t<s.length;t++){for(var a=s[t],n=!1,i=0;i<3;i++){var l=r[i],o=a[l],u=v[l+"axis"].r2fraction(o);if(u<0||u>1){n=!0;break}}n?_.fullLayout._infolayer.select(".annotation-"+_.id+'[data-index="'+t+'"]').remove():(a._pdata=w(_.glplot.cameraParams,[v.xaxis.r2l(a.x)*f[0],v.yaxis.r2l(a.y)*f[1],v.zaxis.r2l(a.z)*f[2]]),k(_.graphDiv,a,t,_.id,a._xa,a._ya))}}},56864:function(B,L,e){var k=e(24040),w=e(3400);B.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:function(r,_){var v=k.subplotsRegistry.gl3d;if(v)for(var f=v.attrRegex,s=Object.keys(r),t=0;t<s.length;t++){var a=s[t];f.test(a)&&(r[a].annotations||[]).length&&(w.pushUnique(_._basePlotModules,v),w.pushUnique(_._subplots.gl3d,a))}},convert:e(42456),draw:e(71836)}},54976:function(B,L,e){B.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(B,L,e){var k=e(54976),w=e(3400),r=e(39032),_=r.EPOCHJD,v=r.ONEDAY,f={valType:"enumerated",values:w.sortObjectKeys(k.calendars),editType:"calc",dflt:"gregorian"},s=function(d,g,m,y){var x={};return x[m]=f,w.coerce(d,g,x,m,y)},t="##",a={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:t,w:t,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},n={};function i(d){var g=n[d];return g||(n[d]=k.instance(d))}function l(d){return w.extendFlat({},f,{description:d})}function o(d){return"Sets the calendar system to use with `"+d+"` date data."}var u={xcalendar:l(o("x"))},h=w.extendFlat({},u,{ycalendar:l(o("y"))}),c=w.extendFlat({},h,{zcalendar:l(o("z"))}),b=l(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));B.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:h,bar:h,box:h,heatmap:h,contour:h,histogram:h,histogram2d:h,histogram2dcontour:h,scatter3d:c,surface:c,mesh3d:c,scattergl:h,ohlc:u,candlestick:u},layout:{calendar:l(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:b},yaxis:{calendar:b},scene:{xaxis:{calendar:b},yaxis:{calendar:b},zaxis:{calendar:b}},polar:{radialaxis:{calendar:b}}},transforms:{filter:{valuecalendar:l(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:l(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:f,handleDefaults:s,handleTraceDefaults:function(d,g,m,y){for(var x=0;x<m.length;x++)s(d,g,m[x]+"calendar",y.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:i,worldCalFmt:function(d,g,m){for(var y,x,T,p,S,M=Math.floor((g+.05)/v)+_,E=i(m).fromJD(M),P=0;(P=d.indexOf("%",P))!==-1;)(y=d.charAt(P+1))==="0"||y==="-"||y==="_"?(T=3,x=d.charAt(P+2),y==="_"&&(y="-")):(x=y,y="0",T=2),(p=a[x])?(S=p===t?t:E.formatDate(p[y]),d=d.substr(0,P)+S+d.substr(P+T),P+=S.length):P+=T;return d}}},22548:function(B,L){L.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],L.defaultLine="#444",L.lightLine="#eee",L.background="#fff",L.borderLine="#BEC8D9",L.lightFraction=90.9090909090909},76308:function(B,L,e){var k=e(49760),w=e(38248),r=e(38116).isTypedArray,_=B.exports={},v=e(22548);_.defaults=v.defaults;var f=_.defaultLine=v.defaultLine;_.lightLine=v.lightLine;var s=_.background=v.background;function t(a){if(w(a)||typeof a!="string")return a;var n=a.trim();if(n.substr(0,3)!=="rgb")return a;var i=n.match(/^rgba?\s*\(([^()]*)\)$/);if(!i)return a;var l=i[1].trim().split(/\s*[\s,]\s*/),o=n.charAt(3)==="a"&&l.length===4;if(!o&&l.length!==3)return a;for(var u=0;u<l.length;u++){if(!l[u].length||(l[u]=Number(l[u]),!(l[u]>=0)))return a;if(u===3)l[u]>1&&(l[u]=1);else if(l[u]>=1)return a}var h=Math.round(255*l[0])+", "+Math.round(255*l[1])+", "+Math.round(255*l[2]);return o?"rgba("+h+", "+l[3]+")":"rgb("+h+")"}_.tinyRGB=function(a){var n=a.toRgb();return"rgb("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+")"},_.rgb=function(a){return _.tinyRGB(k(a))},_.opacity=function(a){return a?k(a).getAlpha():0},_.addOpacity=function(a,n){var i=k(a).toRgb();return"rgba("+Math.round(i.r)+", "+Math.round(i.g)+", "+Math.round(i.b)+", "+n+")"},_.combine=function(a,n){var i=k(a).toRgb();if(i.a===1)return k(a).toRgbString();var l=k(n||s).toRgb(),o=l.a===1?l:{r:255*(1-l.a)+l.r*l.a,g:255*(1-l.a)+l.g*l.a,b:255*(1-l.a)+l.b*l.a},u={r:o.r*(1-i.a)+i.r*i.a,g:o.g*(1-i.a)+i.g*i.a,b:o.b*(1-i.a)+i.b*i.a};return k(u).toRgbString()},_.interpolate=function(a,n,i){var l=k(a).toRgb(),o=k(n).toRgb(),u={r:i*l.r+(1-i)*o.r,g:i*l.g+(1-i)*o.g,b:i*l.b+(1-i)*o.b};return k(u).toRgbString()},_.contrast=function(a,n,i){var l=k(a);return l.getAlpha()!==1&&(l=k(_.combine(a,s))),(l.isDark()?n?l.lighten(n):s:i?l.darken(i):f).toString()},_.stroke=function(a,n){var i=k(n);a.style({stroke:_.tinyRGB(i),"stroke-opacity":i.getAlpha()})},_.fill=function(a,n){var i=k(n);a.style({fill:_.tinyRGB(i),"fill-opacity":i.getAlpha()})},_.clean=function(a){if(a&&typeof a=="object"){var n,i,l,o,u=Object.keys(a);for(n=0;n<u.length;n++)if(o=a[l=u[n]],l.substr(l.length-5)==="color")if(Array.isArray(o))for(i=0;i<o.length;i++)o[i]=t(o[i]);else a[l]=t(o);else if(l.substr(l.length-10)==="colorscale"&&Array.isArray(o))for(i=0;i<o.length;i++)Array.isArray(o[i])&&(o[i][1]=t(o[i][1]));else if(Array.isArray(o)){var h=o[0];if(!Array.isArray(h)&&h&&typeof h=="object")for(i=0;i<o.length;i++)_.clean(o[i])}else o&&typeof o=="object"&&!r(o)&&_.clean(o)}}},42996:function(B,L,e){var k=e(94724),w=e(25376),r=e(92880).extendFlat,_=e(67824).overrideAll;B.exports=_({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:k.linecolor,outlinewidth:k.linewidth,bordercolor:k.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:k.minor.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:r({},k.ticks,{dflt:""}),ticklabeloverflow:r({},k.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,ticklabelstep:k.ticklabelstep,showticklabels:k.showticklabels,labelalias:k.labelalias,tickfont:w({}),tickangle:k.tickangle,tickformat:k.tickformat,tickformatstops:k.tickformatstops,tickprefix:k.tickprefix,showtickprefix:k.showtickprefix,ticksuffix:k.ticksuffix,showticksuffix:k.showticksuffix,separatethousands:k.separatethousands,exponentformat:k.exponentformat,minexponent:k.minexponent,showexponent:k.showexponent,title:{text:{valType:"string"},font:w({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:w({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(B){B.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(B,L,e){var k=e(3400),w=e(31780),r=e(26332),_=e(25404),v=e(95936),f=e(42568),s=e(42996);B.exports=function(t,a,n){var i=w.newContainer(a,"colorbar"),l=t.colorbar||{};function o(R,U){return k.coerce(l,i,s,R,U)}var u=n.margin||{t:0,b:0,l:0,r:0},h=n.width-u.l-u.r,c=n.height-u.t-u.b,b=o("orientation")==="v",d=o("thicknessmode");o("thickness",d==="fraction"?30/(b?h:c):30);var g=o("lenmode");o("len",g==="fraction"?1:b?c:h);var m,y,x,T=o("yref")==="paper",p=o("xref")==="paper",S="left";b?(x="middle",S=p?"left":"right",m=p?1.02:1,y=.5):(x=T?"bottom":"top",S="center",m=.5,y=T?1.02:1),k.coerce(l,i,{x:{valType:"number",min:p?-2:0,max:p?3:1,dflt:m}},"x"),k.coerce(l,i,{y:{valType:"number",min:T?-2:0,max:T?3:1,dflt:y}},"y"),o("xanchor",S),o("xpad"),o("yanchor",x),o("ypad"),k.noneOrAll(l,i,["x","y"]),o("outlinecolor"),o("outlinewidth"),o("bordercolor"),o("borderwidth"),o("bgcolor");var M=k.coerce(l,i,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:b?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");o("ticklabeloverflow",M.indexOf("inside")!==-1?"hide past domain":"hide past div"),r(l,i,o,"linear");var E=n.font,P={noAutotickangles:!0,outerTicks:!1,font:E};M.indexOf("inside")!==-1&&(P.bgColor="black"),f(l,i,o,"linear",P),v(l,i,o,"linear",P),_(l,i,o,"linear",P),o("title.text",n._dfltTitle.colorbar);var O=i.showticklabels?i.tickfont:E,I=k.extendFlat({},O,{color:E.color,size:k.bigFont(O.size)});k.coerceFont(o,"title.font",I),o("title.side",b?"top":"right")}},37848:function(B,L,e){var k=e(33428),w=e(49760),r=e(7316),_=e(24040),v=e(54460),f=e(86476),s=e(3400),t=s.strTranslate,a=e(92880).extendFlat,n=e(93972),i=e(43616),l=e(76308),o=e(81668),u=e(72736),h=e(94288).flipScale,c=e(28336),b=e(37668),d=e(94724),g=e(84284),m=g.LINE_SPACING,y=g.FROM_TL,x=g.FROM_BR,T=e(63964).cn;B.exports={draw:function(p){var S=p._fullLayout._infolayer.selectAll("g."+T.colorbar).data(function(M){var E,P,O,I,R=M._fullLayout,U=M.calcdata,z=[];function j(ie){return a(ie,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function W(){typeof I.calc=="function"?I.calc(M,O,E):(E._fillgradient=P.reversescale?h(P.colorscale):P.colorscale,E._zrange=[P[I.min],P[I.max]])}for(var F=0;F<U.length;F++){var V=U[F];if((O=V[0].trace)._module){var H=O._module.colorbar;if(O.visible===!0&&H)for(var te=Array.isArray(H),Q=te?H:[H],K=0;K<Q.length;K++){var X=(I=Q[K]).container;(P=X?O[X]:O)&&P.showscale&&((E=j(P.colorbar))._id="cb"+O.uid+(te&&X?"-"+X:""),E._traceIndex=O.index,E._propPrefix=(X?X+".":"")+"colorbar.",E._meta=O._meta,W(),z.push(E))}}}for(var J in R._colorAxes)if((P=R[J]).showscale){var ee=R._colorAxes[J];(E=j(P.colorbar))._id="cb"+J,E._propPrefix=J+".colorbar.",E._meta=R._meta,I={min:"cmin",max:"cmax"},ee[0]!=="heatmap"&&(O=ee[1],I.calc=O._module.colorbar.calc),W(),z.push(E)}return z}(p),function(M){return M._id});S.enter().append("g").attr("class",function(M){return M._id}).classed(T.colorbar,!0),S.each(function(M){var E=k.select(this);s.ensureSingle(E,"rect",T.cbbg),s.ensureSingle(E,"g",T.cbfills),s.ensureSingle(E,"g",T.cblines),s.ensureSingle(E,"g",T.cbaxis,function(O){O.classed(T.crisp,!0)}),s.ensureSingle(E,"g",T.cbtitleunshift,function(O){O.append("g").classed(T.cbtitle,!0)}),s.ensureSingle(E,"rect",T.cboutline);var P=function(O,I,R){var U=I.orientation==="v",z=I.len,j=I.lenmode,W=I.thickness,F=I.thicknessmode,V=I.outlinewidth,H=I.borderwidth,te=I.bgcolor,Q=I.xanchor,K=I.yanchor,X=I.xpad,J=I.ypad,ee=I.x,ie=U?I.y:1-I.y,oe=I.yref==="paper",ae=I.xref==="paper",ce=R._fullLayout,ge=ce._size,ve=I._fillcolor,be=I._line,we=I.title,ye=we.side,me=I._zrange||k.extent((typeof ve=="function"?ve:be.color).domain()),Ae=typeof be.color=="function"?be.color:function(){return be.color},ke=typeof ve=="function"?ve:function(){return ve},fe=I._levels,le=function(Ve,Je,ct){var st,je,Ue=Je._levels,lt=[],Qe=[],gt=Ue.end+Ue.size/100,mt=Ue.size,xt=1.001*ct[0]-.001*ct[1],dt=1.001*ct[1]-.001*ct[0];for(je=0;je<1e5&&(st=Ue.start+je*mt,!(mt>0?st>=gt:st<=gt));je++)st>xt&&st<dt&&lt.push(st);if(Je._fillgradient)Qe=[0];else if(typeof Je._fillcolor=="function"){var Lt=Je._filllevels;if(Lt)for(gt=Lt.end+Lt.size/100,mt=Lt.size,je=0;je<1e5&&(st=Lt.start+je*mt,!(mt>0?st>=gt:st<=gt));je++)st>ct[0]&&st<ct[1]&&Qe.push(st);else(Qe=lt.map(function(kt){return kt-Ue.size/2})).push(Qe[Qe.length-1]+Ue.size)}else Je._fillcolor&&typeof Je._fillcolor=="string"&&(Qe=[0]);return Ue.size<0&&(lt.reverse(),Qe.reverse()),{line:lt,fill:Qe}}(0,I,me),de=le.fill,Ce=le.line,Me=Math.round(W*(F==="fraction"?U?ge.w:ge.h:1)),Le=Me/(U?ge.w:ge.h),Oe=Math.round(z*(j==="fraction"?U?ge.h:ge.w:1)),Be=Oe/(U?ge.h:ge.w),pe=ae?ge.w:R._fullLayout.width,_e=oe?ge.h:R._fullLayout.height,Te=Math.round(U?ee*pe+X:ie*_e+J),Re={center:.5,right:1}[Q]||0,Ne={top:1,middle:.5}[K]||0,ze=U?ee-Re*Le:ie-Ne*Le,Ge=U?ie-Ne*Be:ee-Re*Be,Ye=Math.round(U?_e*(1-Ge):pe*Ge);I._lenFrac=Be,I._thickFrac=Le,I._uFrac=ze,I._vFrac=Ge;var et=I._axis=function(Ve,Je,ct){var st=Ve._fullLayout,je=Je.orientation==="v",Ue={type:"linear",range:ct,tickmode:Je.tickmode,nticks:Je.nticks,tick0:Je.tick0,dtick:Je.dtick,tickvals:Je.tickvals,ticktext:Je.ticktext,ticks:Je.ticks,ticklen:Je.ticklen,tickwidth:Je.tickwidth,tickcolor:Je.tickcolor,showticklabels:Je.showticklabels,labelalias:Je.labelalias,ticklabelposition:Je.ticklabelposition,ticklabeloverflow:Je.ticklabeloverflow,ticklabelstep:Je.ticklabelstep,tickfont:Je.tickfont,tickangle:Je.tickangle,tickformat:Je.tickformat,exponentformat:Je.exponentformat,minexponent:Je.minexponent,separatethousands:Je.separatethousands,showexponent:Je.showexponent,showtickprefix:Je.showtickprefix,tickprefix:Je.tickprefix,showticksuffix:Je.showticksuffix,ticksuffix:Je.ticksuffix,title:Je.title,showline:!0,anchor:"free",side:je?"right":"bottom",position:1},lt=je?"y":"x",Qe={type:"linear",_id:lt+Je._id},gt={letter:lt,font:st.font,noAutotickangles:lt==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:st.calendar};function mt(xt,dt){return s.coerce(Ue,Qe,d,xt,dt)}return c(Ue,Qe,mt,gt,st),b(Ue,Qe,mt,gt),Qe}(R,I,me);et.position=Le+(U?ee+X/ge.w:ie+J/ge.h);var ut=["top","bottom"].indexOf(ye)!==-1;if(U&&ut&&(et.title.side=ye,et.titlex=ee+X/ge.w,et.titley=Ge+(we.side==="top"?Be-J/ge.h:J/ge.h)),U||ut||(et.title.side=ye,et.titley=ie+J/ge.h,et.titlex=Ge+X/ge.w),be.color&&I.tickmode==="auto"){et.tickmode="linear",et.tick0=fe.start;var ot=fe.size,yt=s.constrain(Oe/50,4,15)+1,wt=(me[1]-me[0])/((I.nticks||yt)*ot);if(wt>1){var bt=Math.pow(10,Math.floor(Math.log(wt)/Math.LN10));ot*=bt*s.roundUp(wt/bt,[2,5,10]),(Math.abs(fe.start)/fe.size+1e-6)%1<2e-6&&(et.tick0=0)}et.dtick=ot}et.domain=U?[Ge+J/ge.h,Ge+Be-J/ge.h]:[Ge+X/ge.w,Ge+Be-X/ge.w],et.setScale(),O.attr("transform",t(Math.round(ge.l),Math.round(ge.t)));var at,rt=O.select("."+T.cbtitleunshift).attr("transform",t(-Math.round(ge.l),-Math.round(ge.t))),At=et.ticklabelposition,Rt=et.title.font.size,Ft=O.select("."+T.cbaxis),Dt=0,Xe=0;function Ke(Ve,Je){var ct={propContainer:et,propName:I._propPrefix+"title",traceIndex:I._traceIndex,_meta:I._meta,placeholder:ce._dfltTitle.colorbar,containerGroup:O.select("."+T.cbtitle)},st=Ve.charAt(0)==="h"?Ve.substr(1):"h"+Ve;O.selectAll("."+st+",."+st+"-math-group").remove(),o.draw(R,Ve,a(ct,Je||{}))}return s.syncOrAsync([r.previousPromises,function(){var Ve,Je;(U&&ut||!U&&!ut)&&(ye==="top"&&(Ve=X+ge.l+pe*ee,Je=J+ge.t+_e*(1-Ge-Be)+3+.75*Rt),ye==="bottom"&&(Ve=X+ge.l+pe*ee,Je=J+ge.t+_e*(1-Ge)-3-.25*Rt),ye==="right"&&(Je=J+ge.t+_e*ie+3+.75*Rt,Ve=X+ge.l+pe*Ge),Ke(et._id+"title",{attributes:{x:Ve,y:Je,"text-anchor":U?"start":"middle"}}))},function(){if(!U&&!ut||U&&ut){var Ve,Je=O.select("."+T.cbtitle),ct=Je.select("text"),st=[-V/2,V/2],je=Je.select(".h"+et._id+"title-math-group").node(),Ue=15.6;if(ct.node()&&(Ue=parseInt(ct.node().style.fontSize,10)*m),je?(Ve=i.bBox(je),Xe=Ve.width,(Dt=Ve.height)>Ue&&(st[1]-=(Dt-Ue)/2)):ct.node()&&!ct.classed(T.jsPlaceholder)&&(Ve=i.bBox(ct.node()),Xe=Ve.width,Dt=Ve.height),U){if(Dt){if(Dt+=5,ye==="top")et.domain[1]-=Dt/ge.h,st[1]*=-1;else{et.domain[0]+=Dt/ge.h;var lt=u.lineCount(ct);st[1]+=(1-lt)*Ue}Je.attr("transform",t(st[0],st[1])),et.setScale()}}else Xe&&(ye==="right"&&(et.domain[0]+=(Xe+Rt/2)/ge.w),Je.attr("transform",t(st[0],st[1])),et.setScale())}O.selectAll("."+T.cbfills+",."+T.cblines).attr("transform",U?t(0,Math.round(ge.h*(1-et.domain[1]))):t(Math.round(ge.w*et.domain[0]),0)),Ft.attr("transform",U?t(0,Math.round(-ge.t)):t(Math.round(-ge.l),0));var Qe=O.select("."+T.cbfills).selectAll("rect."+T.cbfill).attr("style","").data(de);Qe.enter().append("rect").classed(T.cbfill,!0).attr("style",""),Qe.exit().remove();var gt=me.map(et.c2p).map(Math.round).sort(function(kt,_t){return kt-_t});Qe.each(function(kt,_t){var Ot=[_t===0?me[0]:(de[_t]+de[_t-1])/2,_t===de.length-1?me[1]:(de[_t]+de[_t+1])/2].map(et.c2p).map(Math.round);U&&(Ot[1]=s.constrain(Ot[1]+(Ot[1]>Ot[0])?1:-1,gt[0],gt[1]));var Pt=k.select(this).attr(U?"x":"y",Te).attr(U?"y":"x",k.min(Ot)).attr(U?"width":"height",Math.max(Me,2)).attr(U?"height":"width",Math.max(k.max(Ot)-k.min(Ot),2));if(I._fillgradient)i.gradient(Pt,R,I._id,U?"vertical":"horizontalreversed",I._fillgradient,"fill");else{var Bt=ke(kt).replace("e-","");Pt.attr("fill",w(Bt).toHexString())}});var mt=O.select("."+T.cblines).selectAll("path."+T.cbline).data(be.color&&be.width?Ce:[]);mt.enter().append("path").classed(T.cbline,!0),mt.exit().remove(),mt.each(function(kt){var _t=Te,Ot=Math.round(et.c2p(kt))+be.width/2%1;k.select(this).attr("d","M"+(U?_t+","+Ot:Ot+","+_t)+(U?"h":"v")+Me).call(i.lineGroupStyle,be.width,Ae(kt),be.dash)}),Ft.selectAll("g."+et._id+"tick,path").remove();var xt=Te+Me+(V||0)/2-(I.ticks==="outside"?1:0),dt=v.calcTicks(et),Lt=v.getTickSigns(et)[2];return v.drawTicks(R,et,{vals:et.ticks==="inside"?v.clipEnds(et,dt):dt,layer:Ft,path:v.makeTickPath(et,xt,Lt),transFn:v.makeTransTickFn(et)}),v.drawLabels(R,et,{vals:dt,layer:Ft,transFn:v.makeTransTickLabelFn(et),labelFns:v.makeLabelFns(et,xt)})},function(){if(U&&!ut||!U&&ut){var Ve,Je,ct=et.position||0,st=et._offset+et._length/2;if(ye==="right")Je=st,Ve=ge.l+pe*ct+10+Rt*(et.showticklabels?1:.5);else if(Ve=st,ye==="bottom"&&(Je=ge.t+_e*ct+10+(At.indexOf("inside")===-1?et.tickfont.size:0)+(et.ticks!=="intside"&&I.ticklen||0)),ye==="top"){var je=we.text.split("<br>").length;Je=ge.t+_e*ct+10-Me-m*Rt*je}Ke((U?"h":"v")+et._id+"title",{avoid:{selection:k.select(R).selectAll("g."+et._id+"tick"),side:ye,offsetTop:U?0:ge.t,offsetLeft:U?ge.l:0,maxShift:U?ce.width:ce.height},attributes:{x:Ve,y:Je,"text-anchor":"middle"},transform:{rotate:U?-90:0,offset:0}})}},r.previousPromises,function(){var Ve,Je=Me+V/2;At.indexOf("inside")===-1&&(Ve=i.bBox(Ft.node()),Je+=U?Ve.width:Ve.height),at=rt.select("text");var ct=0,st=U&&ye==="top",je=!U&&ye==="right",Ue=0;if(at.node()&&!at.classed(T.jsPlaceholder)){var lt,Qe=rt.select(".h"+et._id+"title-math-group").node();Qe&&(U&&ut||!U&&!ut)?(ct=(Ve=i.bBox(Qe)).width,lt=Ve.height):(ct=(Ve=i.bBox(rt.node())).right-ge.l-(U?Te:Ye),lt=Ve.bottom-ge.t-(U?Ye:Te),U||ye!=="top"||(Je+=Ve.height,Ue=Ve.height)),je&&(at.attr("transform",t(ct/2+Rt/2,0)),ct*=2),Je=Math.max(Je,U?ct:lt)}var gt=2*(U?X:J)+Je+H+V/2,mt=0;!U&&we.text&&K==="bottom"&&ie<=0&&(gt+=mt=gt/2,Ue+=mt),ce._hColorbarMoveTitle=mt,ce._hColorbarMoveCBTitle=Ue;var xt=H+V,dt=(U?Te:Ye)-xt/2-(U?X:0),Lt=(U?Ye:Te)-(U?Oe:J+Ue-mt);O.select("."+T.cbbg).attr("x",dt).attr("y",Lt).attr(U?"width":"height",Math.max(gt-mt,2)).attr(U?"height":"width",Math.max(Oe+xt,2)).call(l.fill,te).call(l.stroke,I.bordercolor).style("stroke-width",H);var kt=je?Math.max(ct-10,0):0;O.selectAll("."+T.cboutline).attr("x",(U?Te:Ye+X)+kt).attr("y",(U?Ye+J-Oe:Te)+(st?Dt:0)).attr(U?"width":"height",Math.max(Me,2)).attr(U?"height":"width",Math.max(Oe-(U?2*J+Dt:2*X+kt),2)).call(l.stroke,I.outlinecolor).style({fill:"none","stroke-width":V});var _t=U?Re*gt:0,Ot=U?0:(1-Ne)*gt-Ue;if(_t=ae?ge.l-_t:-_t,Ot=oe?ge.t-Ot:-Ot,O.attr("transform",t(_t,Ot)),!U&&(H||w(te).getAlpha()&&!w.equals(ce.paper_bgcolor,te))){var Pt=Ft.selectAll("text"),Bt=Pt[0].length,Jt=O.select("."+T.cbbg).node(),on=i.bBox(Jt),qt=i.getTranslate(O);Pt.each(function(kn,Sn){var Rn=Bt-1;if(Sn===0||Sn===Rn){var zn,Pn=i.bBox(this),Gn=i.getTranslate(this);if(Sn===Rn){var Nn=Pn.right+Gn.x;(zn=on.right+qt.x+Ye-H-2+ee-Nn)>0&&(zn=0)}else if(Sn===0){var or=Pn.left+Gn.x;(zn=on.left+qt.x+Ye+H+2-or)<0&&(zn=0)}zn&&(Bt<3?this.setAttribute("transform","translate("+zn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Gt={},nn=y[Q],Cn=x[Q],An=y[K],dn=x[K],Kt=gt-Me;U?(j==="pixels"?(Gt.y=ie,Gt.t=Oe*An,Gt.b=Oe*dn):(Gt.t=Gt.b=0,Gt.yt=ie+z*An,Gt.yb=ie-z*dn),F==="pixels"?(Gt.x=ee,Gt.l=gt*nn,Gt.r=gt*Cn):(Gt.l=Kt*nn,Gt.r=Kt*Cn,Gt.xl=ee-W*nn,Gt.xr=ee+W*Cn)):(j==="pixels"?(Gt.x=ee,Gt.l=Oe*nn,Gt.r=Oe*Cn):(Gt.l=Gt.r=0,Gt.xl=ee+z*nn,Gt.xr=ee-z*Cn),F==="pixels"?(Gt.y=1-ie,Gt.t=gt*An,Gt.b=gt*dn):(Gt.t=Kt*An,Gt.b=Kt*dn,Gt.yt=ie-W*An,Gt.yb=ie+W*dn));var un=I.y<.5?"b":"t",rn=I.x<.5?"l":"r";R._fullLayout._reservedMargin[I._id]={};var hn={r:ce.width-dt-_t,l:dt+Gt.r,b:ce.height-Lt-Ot,t:Lt+Gt.b};ae&&oe?r.autoMargin(R,I._id,Gt):ae?R._fullLayout._reservedMargin[I._id][un]=hn[un]:oe||U?R._fullLayout._reservedMargin[I._id][rn]=hn[rn]:R._fullLayout._reservedMargin[I._id][un]=hn[un]}],R)}(E,M,p);P&&P.then&&(p._promises||[]).push(P),p._context.edits.colorbarPosition&&function(O,I,R){var U,z,j,W=I.orientation==="v",F=R._fullLayout._size;f.init({element:O.node(),gd:R,prepFn:function(){U=O.attr("transform"),n(O)},moveFn:function(V,H){O.attr("transform",U+t(V,H)),z=f.align((W?I._uFrac:I._vFrac)+V/F.w,W?I._thickFrac:I._lenFrac,0,1,I.xanchor),j=f.align((W?I._vFrac:1-I._uFrac)-H/F.h,W?I._lenFrac:I._thickFrac,0,1,I.yanchor);var te=f.getCursor(z,j,I.xanchor,I.yanchor);n(O,te)},doneFn:function(){if(n(O),z!==void 0&&j!==void 0){var V={};V[I._propPrefix+"x"]=z,V[I._propPrefix+"y"]=j,I._traceIndex!==void 0?_.call("_guiRestyle",R,V,I._traceIndex):_.call("_guiRelayout",R,V)}}})}(E,M,p)}),S.exit().each(function(M){r.autoMargin(p,M._id)}).remove(),S.order()}}},90553:function(B,L,e){var k=e(3400);B.exports=function(w){return k.isPlainObject(w.colorbar)}},55080:function(B,L,e){B.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(B,L,e){var k=e(42996),w=e(53756).counter,r=e(95376),_=e(88304).scales;function v(f){return"`"+f+"`"}r(_),B.exports=function(f,s){f=f||"";var t,a=(s=s||{}).cLetter||"c",n=("onlyIfNumerical"in s&&s.onlyIfNumerical,"noScale"in s?s.noScale:f==="marker.line"),i="showScaleDflt"in s?s.showScaleDflt:a==="z",l=typeof s.colorscaleDflt=="string"?_[s.colorscaleDflt]:null,o=s.editTypeOverride||"",u=f?f+".":"";"colorAttr"in s?(t=s.colorAttr,s.colorAttr):v(u+(t={z:"z",c:"color"}[a]));var h=a+"auto",c=a+"min",b=a+"max",d=a+"mid",g={};g[c]=g[b]=void 0;var m={};m[h]=!1;var y={};return t==="color"&&(y.color={valType:"color",arrayOk:!0,editType:o||"style"},s.anim&&(y.color.anim=!0)),y[h]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:g},y[c]={valType:"number",dflt:null,editType:o||"plot",impliedEdits:m},y[b]={valType:"number",dflt:null,editType:o||"plot",impliedEdits:m},y[d]={valType:"number",dflt:null,editType:"calc",impliedEdits:g},y.colorscale={valType:"colorscale",editType:"calc",dflt:l,impliedEdits:{autocolorscale:!1}},y.autocolorscale={valType:"boolean",dflt:s.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},y.reversescale={valType:"boolean",dflt:!1,editType:"plot"},n||(y.showscale={valType:"boolean",dflt:i,editType:"calc"},y.colorbar=k),s.noColorAxis||(y.coloraxis={valType:"subplotid",regex:w("coloraxis"),dflt:null,editType:"calc"}),y}},47128:function(B,L,e){var k=e(38248),w=e(3400),r=e(94288).extractOpts;B.exports=function(_,v,f){var s,t=_._fullLayout,a=f.vals,n=f.containerStr,i=n?w.nestedProperty(v,n).get():v,l=r(i),o=l.auto!==!1,u=l.min,h=l.max,c=l.mid,b=function(){return w.aggNums(Math.min,null,a)},d=function(){return w.aggNums(Math.max,null,a)};u===void 0?u=b():o&&(u=i._colorAx&&k(u)?Math.min(u,b()):b()),h===void 0?h=d():o&&(h=i._colorAx&&k(h)?Math.max(h,d()):d()),o&&c!==void 0&&(h-c>c-u?u=c-(h-c):h-c<c-u&&(h=c+(c-u))),u===h&&(u-=.5,h+=.5),l._sync("min",u),l._sync("max",h),l.autocolorscale&&(s=u*h<0?t.colorscale.diverging:u>=0?t.colorscale.sequential:t.colorscale.sequentialminus,l._sync("colorscale",s))}},95504:function(B,L,e){var k=e(3400),w=e(94288).hasColorscale,r=e(94288).extractOpts;B.exports=function(_,v){function f(o,u){var h=o["_"+u];h!==void 0&&(o[u]=h)}function s(o,u){var h=u.container?k.nestedProperty(o,u.container).get():o;if(h)if(h.coloraxis)h._colorAx=v[h.coloraxis];else{var c=r(h),b=c.auto;(b||c.min===void 0)&&f(h,u.min),(b||c.max===void 0)&&f(h,u.max),c.autocolorscale&&f(h,"colorscale")}}for(var t=0;t<_.length;t++){var a=_[t],n=a._module.colorbar;if(n)if(Array.isArray(n))for(var i=0;i<n.length;i++)s(a,n[i]);else s(a,n);w(a,"marker.line")&&s(a,{container:"marker.line",min:"cmin",max:"cmax"})}for(var l in v._colorAxes)s(v[l],{min:"cmin",max:"cmax"})}},27260:function(B,L,e){var k=e(38248),w=e(3400),r=e(90553),_=e(64013),v=e(88304).isValid,f=e(24040).traceIs;function s(t,a){var n=a.slice(0,a.length-1);return a?w.nestedProperty(t,n).get()||{}:t}B.exports=function t(a,n,i,l,o){var u=o.prefix,h=o.cLetter,c="_module"in n,b=s(a,u),d=s(n,u),g=s(n._template||{},u)||{},m=function(){return delete a.coloraxis,delete n.coloraxis,t(a,n,i,l,o)};if(c){var y=i._colorAxes||{},x=l(u+"coloraxis");if(x){var T=f(n,"contour")&&w.nestedProperty(n,"contours.coloring").get()||"heatmap",p=y[x];return void(p?(p[2].push(m),p[0]!==T&&(p[0]=!1,w.warn(["Ignoring coloraxis:",x,"setting","as it is linked to incompatible colorscales."].join(" ")))):y[x]=[T,n,[m]])}}var S=b[h+"min"],M=b[h+"max"],E=k(S)&&k(M)&&S<M;l(u+h+"auto",!E)?l(u+h+"mid"):(l(u+h+"min"),l(u+h+"max"));var P,O,I=b.colorscale,R=g.colorscale;I!==void 0&&(P=!v(I)),R!==void 0&&(P=!v(R)),l(u+"autocolorscale",P),l(u+"colorscale"),l(u+"reversescale"),u!=="marker.line."&&(u&&c&&(O=r(b)),l(u+"showscale",O)&&(u&&g&&(d._template=g),_(b,d,i)))}},94288:function(B,L,e){var k=e(33428),w=e(49760),r=e(38248),_=e(3400),v=e(76308),f=e(88304).isValid,s=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function a(u){var h,c,b,d=u._colorAx,g=d||u,m={};for(c=0;c<s.length;c++)m[b=s[c]]=g[b];if(d)for(h="c",c=0;c<t.length;c++)m[b=t[c]]=g["c"+b];else{var y;for(c=0;c<t.length;c++)((y="c"+(b=t[c]))in g||(y="z"+b)in g)&&(m[b]=g[y]);h=y.charAt(0)}return m._sync=function(x,T){var p=t.indexOf(x)!==-1?h+x:x;g[p]=g["_"+p]=T},m}function n(u){for(var h=a(u),c=h.min,b=h.max,d=h.reversescale?i(h.colorscale):h.colorscale,g=d.length,m=new Array(g),y=new Array(g),x=0;x<g;x++){var T=d[x];m[x]=c+T[0]*(b-c),y[x]=T[1]}return{domain:m,range:y}}function i(u){for(var h=u.length,c=new Array(h),b=h-1,d=0;b>=0;b--,d++){var g=u[b];c[d]=[1-g[0],g[1]]}return c}function l(u,h){h=h||{};for(var c=u.domain,b=u.range,d=b.length,g=new Array(d),m=0;m<d;m++){var y=w(b[m]).toRgb();g[m]=[y.r,y.g,y.b,y.a]}var x,T=k.scale.linear().domain(c).range(g).clamp(!0),p=h.noNumericCheck,S=h.returnArray;return(x=p&&S?T:p?function(M){return o(T(M))}:S?function(M){return r(M)?T(M):w(M).isValid()?M:v.defaultLine}:function(M){return r(M)?o(T(M)):w(M).isValid()?M:v.defaultLine}).domain=T.domain,x.range=function(){return b},x}function o(u){var h={r:u[0],g:u[1],b:u[2],a:u[3]};return w(h).toRgbString()}B.exports={hasColorscale:function(u,h,c){var b=h?_.nestedProperty(u,h).get()||{}:u,d=b[c||"color"];d&&d._inputArray&&(d=d._inputArray);var g=!1;if(_.isArrayOrTypedArray(d)){for(var m=0;m<d.length;m++)if(r(d[m])){g=!0;break}}return _.isPlainObject(b)&&(g||b.showscale===!0||r(b.cmin)&&r(b.cmax)||f(b.colorscale)||_.isPlainObject(b.colorbar))},extractOpts:a,extractScale:n,flipScale:i,makeColorScaleFunc:l,makeColorScaleFuncFromTrace:function(u,h){return l(n(u),h)}}},8932:function(B,L,e){var k=e(88304),w=e(94288);B.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:k.scales,defaultScale:k.defaultScale,getScale:k.get,isValidScale:k.isValid,hasColorscale:w.hasColorscale,extractOpts:w.extractOpts,extractScale:w.extractScale,flipScale:w.flipScale,makeColorScaleFunc:w.makeColorScaleFunc,makeColorScaleFuncFromTrace:w.makeColorScaleFuncFromTrace}},92332:function(B,L,e){var k=e(92880).extendFlat,w=e(49084),r=e(88304).scales;B.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:r.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:r.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:r.RdBu,editType:"calc"}},coloraxis:k({_isSubplotObj:!0,editType:"calc"},w("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(B,L,e){var k=e(3400),w=e(31780),r=e(92332),_=e(27260);B.exports=function(v,f){function s(h,c){return k.coerce(v,f,r,h,c)}s("colorscale.sequential"),s("colorscale.sequentialminus"),s("colorscale.diverging");var t,a,n=f._colorAxes;function i(h,c){return k.coerce(t,a,r.coloraxis,h,c)}for(var l in n){var o=n[l];if(o[0])t=v[l]||{},(a=w.newContainer(f,l,"coloraxis"))._name=l,_(t,a,f,i,{prefix:"",cLetter:"c"});else{for(var u=0;u<o[2].length;u++)o[2][u]();delete f._colorAxes[l]}}}},88304:function(B,L,e){var k=e(49760),w={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},r=w.RdBu;function _(v){var f=0;if(!Array.isArray(v)||v.length<2||!v[0]||!v[v.length-1]||+v[0][0]!=0||+v[v.length-1][0]!=1)return!1;for(var s=0;s<v.length;s++){var t=v[s];if(t.length!==2||+t[0]<f||!k(t[1]).isValid())return!1;f=+t[0]}return!0}B.exports={scales:w,defaultScale:r,get:function(v,f){if(f||(f=r),!v)return f;function s(){try{v=w[v]||JSON.parse(v)}catch{v=f}}return typeof v=="string"&&(s(),typeof v=="string"&&s()),_(v)?v:f},isValid:function(v){return w[v]!==void 0||_(v)}}},78316:function(B){B.exports=function(L,e,k,w,r){var _=(L-k)/(w-k),v=_+e/(w-k),f=(_+v)/2;return r==="left"||r==="bottom"?_:r==="center"||r==="middle"?f:r==="right"||r==="top"?v:_<.6666666666666666-f?_:v>1.3333333333333333-f?v:f}},67416:function(B,L,e){var k=e(3400),w=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];B.exports=function(r,_,v,f){return r=v==="left"?0:v==="center"?1:v==="right"?2:k.constrain(Math.floor(3*r),0,2),_=f==="bottom"?0:f==="middle"?1:f==="top"?2:k.constrain(Math.floor(3*_),0,2),w[_][r]}},72760:function(B,L){L.selectMode=function(e){return e==="lasso"||e==="select"},L.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},L.openMode=function(e){return e==="drawline"||e==="drawopenpath"},L.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},L.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},L.selectingOrDrawing=function(e){return L.freeMode(e)||L.rectMode(e)}},86476:function(B,L,e){var k=e(29128),w=e(52264),r=e(89184),_=e(3400).removeElement,v=e(33816),f=B.exports={};f.align=e(78316),f.getCursor=e(67416);var s=e(2616);function t(){var n=document.createElement("div");n.className="dragcover";var i=n.style;return i.position="fixed",i.left=0,i.right=0,i.top=0,i.bottom=0,i.zIndex=999999999,i.background="none",document.body.appendChild(n),n}function a(n){return k(n.changedTouches?n.changedTouches[0]:n,document.body)}f.unhover=s.wrapped,f.unhoverRaw=s.raw,f.init=function(n){var i,l,o,u,h,c,b,d,g=n.gd,m=1,y=g._context.doubleClickDelay,x=n.element;g._mouseDownTime||(g._mouseDownTime=0),x.style.pointerEvents="all",x.onmousedown=p,r?(x._ontouchstart&&x.removeEventListener("touchstart",x._ontouchstart),x._ontouchstart=p,x.addEventListener("touchstart",p,{passive:!1})):x.ontouchstart=p;var T=n.clampFn||function(E,P,O){return Math.abs(E)<O&&(E=0),Math.abs(P)<O&&(P=0),[E,P]};function p(E){g._dragged=!1,g._dragging=!0;var P=a(E);i=P[0],l=P[1],b=E.target,c=E,d=E.buttons===2||E.ctrlKey,E.clientX===void 0&&E.clientY===void 0&&(E.clientX=i,E.clientY=l),(o=new Date().getTime())-g._mouseDownTime<y?m+=1:(m=1,g._mouseDownTime=o),n.prepFn&&n.prepFn(E,i,l),w&&!d?(h=t()).style.cursor=window.getComputedStyle(x).cursor:w||(h=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(x).cursor),document.addEventListener("mouseup",M),document.addEventListener("touchend",M),n.dragmode!==!1&&(E.preventDefault(),document.addEventListener("mousemove",S),document.addEventListener("touchmove",S,{passive:!1}))}function S(E){E.preventDefault();var P=a(E),O=n.minDrag||v.MINDRAG,I=T(P[0]-i,P[1]-l,O),R=I[0],U=I[1];(R||U)&&(g._dragged=!0,f.unhover(g,E)),g._dragged&&n.moveFn&&!d&&(g._dragdata={element:x,dx:R,dy:U},n.moveFn(R,U))}function M(E){if(delete g._dragdata,n.dragmode!==!1&&(E.preventDefault(),document.removeEventListener("mousemove",S),document.removeEventListener("touchmove",S)),document.removeEventListener("mouseup",M),document.removeEventListener("touchend",M),w?_(h):u&&(h.documentElement.style.cursor=u,u=null),g._dragging){if(g._dragging=!1,new Date().getTime()-g._mouseDownTime>y&&(m=Math.max(m-1,1)),g._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(m,c),!d){var P;try{P=new MouseEvent("click",E)}catch{var O=a(E);(P=document.createEvent("MouseEvents")).initMouseEvent("click",E.bubbles,E.cancelable,E.view,E.detail,E.screenX,E.screenY,O[0],O[1],E.ctrlKey,E.altKey,E.shiftKey,E.metaKey,E.button,E.relatedTarget)}b.dispatchEvent(P)}g._dragging=!1,g._dragged=!1}else g._dragged=!1}},f.coverSlip=t},2616:function(B,L,e){var k=e(95924),w=e(91200),r=e(52200).getGraphDiv,_=e(92456),v=B.exports={};v.wrapped=function(f,s,t){(f=r(f))._fullLayout&&w.clear(f._fullLayout._uid+_.HOVERID),v.raw(f,s,t)},v.raw=function(f,s){var t=f._fullLayout,a=f._hoverdata;s||(s={}),s.target&&!f._dragged&&k.triggerHandler(f,"plotly_beforehover",s)===!1||(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),f._hoverdata=void 0,s.target&&a&&f.emit("plotly_unhover",{event:s,points:a}))}},98192:function(B,L){L.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},L.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(B,L,e){var k=e(33428),w=e(3400),r=w.numberFormat,_=e(38248),v=e(49760),f=e(24040),s=e(76308),t=e(8932),a=w.strTranslate,n=e(72736),i=e(9616),l=e(84284).LINE_SPACING,o=e(13448).DESELECTDIM,u=e(43028),h=e(7152),c=e(10624).appendArrayPointValue,b=B.exports={};function d(me,Ae,ke,fe){var le=Ae.fillpattern,de=Ae.fillgradient,Ce=le&&b.getPatternAttr(le.shape,0,"");if(Ce){var Me=b.getPatternAttr(le.bgcolor,0,null),Le=b.getPatternAttr(le.fgcolor,0,null),Oe=le.fgopacity,Be=b.getPatternAttr(le.size,0,8),pe=b.getPatternAttr(le.solidity,0,.3),_e=Ae.uid;b.pattern(me,"point",ke,_e,Ce,Be,pe,void 0,le.fillmode,Me,Le,Oe)}else if(de&&de.type!=="none"){var Te,Re,Ne=de.type,ze="scatterfill-"+Ae.uid;fe&&(ze="legendfill-"+Ae.uid),fe||de.start===void 0&&de.stop===void 0?(Ne==="horizontal"&&(Ne+="reversed"),me.call(b.gradient,ke,ze,Ne,de.colorscale,"fill")):(Ne==="horizontal"?(Te={x:de.start,y:0},Re={x:de.stop,y:0}):Ne==="vertical"&&(Te={x:0,y:de.start},Re={x:0,y:de.stop}),Te.x=Ae._xA.c2p(Te.x===void 0?Ae._extremes.x.min[0].val:Te.x,!0),Te.y=Ae._yA.c2p(Te.y===void 0?Ae._extremes.y.min[0].val:Te.y,!0),Re.x=Ae._xA.c2p(Re.x===void 0?Ae._extremes.x.max[0].val:Re.x,!0),Re.y=Ae._yA.c2p(Re.y===void 0?Ae._extremes.y.max[0].val:Re.y,!0),me.call(p,ke,ze,"linear",de.colorscale,"fill",Te,Re,!0,!1))}else Ae.fillcolor&&me.call(s.fill,Ae.fillcolor)}b.font=function(me,Ae,ke,fe){w.isPlainObject(Ae)&&(fe=Ae.color,ke=Ae.size,Ae=Ae.family),Ae&&me.style("font-family",Ae),ke+1&&me.style("font-size",ke+"px"),fe&&me.call(s.fill,fe)},b.setPosition=function(me,Ae,ke){me.attr("x",Ae).attr("y",ke)},b.setSize=function(me,Ae,ke){me.attr("width",Ae).attr("height",ke)},b.setRect=function(me,Ae,ke,fe,le){me.call(b.setPosition,Ae,ke).call(b.setSize,fe,le)},b.translatePoint=function(me,Ae,ke,fe){var le=ke.c2p(me.x),de=fe.c2p(me.y);return!!(_(le)&&_(de)&&Ae.node())&&(Ae.node().nodeName==="text"?Ae.attr("x",le).attr("y",de):Ae.attr("transform",a(le,de)),!0)},b.translatePoints=function(me,Ae,ke){me.each(function(fe){var le=k.select(this);b.translatePoint(fe,le,Ae,ke)})},b.hideOutsideRangePoint=function(me,Ae,ke,fe,le,de){Ae.attr("display",ke.isPtWithinRange(me,le)&&fe.isPtWithinRange(me,de)?null:"none")},b.hideOutsideRangePoints=function(me,Ae){if(Ae._hasClipOnAxisFalse){var ke=Ae.xaxis,fe=Ae.yaxis;me.each(function(le){var de=le[0].trace,Ce=de.xcalendar,Me=de.ycalendar,Le=f.traceIs(de,"bar-like")?".bartext":".point,.textpoint";me.selectAll(Le).each(function(Oe){b.hideOutsideRangePoint(Oe,k.select(this),ke,fe,Ce,Me)})})}},b.crispRound=function(me,Ae,ke){return Ae&&_(Ae)?me._context.staticPlot?Ae:Ae<1?1:Math.round(Ae):ke||0},b.singleLineStyle=function(me,Ae,ke,fe,le){Ae.style("fill","none");var de=(((me||[])[0]||{}).trace||{}).line||{},Ce=ke||de.width||0,Me=le||de.dash||"";s.stroke(Ae,fe||de.color),b.dashLine(Ae,Me,Ce)},b.lineGroupStyle=function(me,Ae,ke,fe){me.style("fill","none").each(function(le){var de=(((le||[])[0]||{}).trace||{}).line||{},Ce=Ae||de.width||0,Me=fe||de.dash||"";k.select(this).call(s.stroke,ke||de.color).call(b.dashLine,Me,Ce)})},b.dashLine=function(me,Ae,ke){ke=+ke||0,Ae=b.dashStyle(Ae,ke),me.style({"stroke-dasharray":Ae,"stroke-width":ke+"px"})},b.dashStyle=function(me,Ae){Ae=+Ae||1;var ke=Math.max(Ae,3);return me==="solid"?me="":me==="dot"?me=ke+"px,"+ke+"px":me==="dash"?me=3*ke+"px,"+3*ke+"px":me==="longdash"?me=5*ke+"px,"+5*ke+"px":me==="dashdot"?me=3*ke+"px,"+ke+"px,"+ke+"px,"+ke+"px":me==="longdashdot"&&(me=5*ke+"px,"+2*ke+"px,"+ke+"px,"+2*ke+"px"),me},b.singleFillStyle=function(me,Ae){var ke=k.select(me.node());d(me,((ke.data()[0]||[])[0]||{}).trace||{},Ae,!1)},b.fillGroupStyle=function(me,Ae,ke){me.style("stroke-width",0).each(function(fe){var le=k.select(this);fe[0].trace&&d(le,fe[0].trace,Ae,ke)})};var g=e(71984);b.symbolNames=[],b.symbolFuncs=[],b.symbolBackOffs=[],b.symbolNeedLines={},b.symbolNoDot={},b.symbolNoFill={},b.symbolList=[],Object.keys(g).forEach(function(me){var Ae=g[me],ke=Ae.n;b.symbolList.push(ke,String(ke),me,ke+100,String(ke+100),me+"-open"),b.symbolNames[ke]=me,b.symbolFuncs[ke]=Ae.f,b.symbolBackOffs[ke]=Ae.backoff||0,Ae.needLine&&(b.symbolNeedLines[ke]=!0),Ae.noDot?b.symbolNoDot[ke]=!0:b.symbolList.push(ke+200,String(ke+200),me+"-dot",ke+300,String(ke+300),me+"-open-dot"),Ae.noFill&&(b.symbolNoFill[ke]=!0)});var m=b.symbolNames.length;function y(me,Ae,ke,fe){var le=me%100;return b.symbolFuncs[le](Ae,ke,fe)+(me>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}b.symbolNumber=function(me){if(_(me))me=+me;else if(typeof me=="string"){var Ae=0;me.indexOf("-open")>0&&(Ae=100,me=me.replace("-open","")),me.indexOf("-dot")>0&&(Ae+=200,me=me.replace("-dot","")),(me=b.symbolNames.indexOf(me))>=0&&(me+=Ae)}return me%100>=m||me>=400?0:Math.floor(Math.max(me,0))};var x=r("~f"),T={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};function p(me,Ae,ke,fe,le,de,Ce,Me,Le,Oe){var Be,pe=le.length;fe==="linear"?Be={node:"linearGradient",attrs:{x1:Ce.x,y1:Ce.y,x2:Me.x,y2:Me.y,gradientUnits:Le?"userSpaceOnUse":"objectBoundingBox"},reversed:Oe}:fe==="radial"&&(Be={node:"radialGradient",reversed:Oe});for(var _e=new Array(pe),Te=0;Te<pe;Te++)Be.reversed?_e[pe-1-Te]=[x(100*(1-le[Te][0])),le[Te][1]]:_e[Te]=[x(100*le[Te][0]),le[Te][1]];var Re=Ae._fullLayout,Ne="g"+Re._uid+"-"+ke,ze=Re._defs.select(".gradients").selectAll("#"+Ne).data([fe+_e.join(";")],w.identity);ze.exit().remove(),ze.enter().append(Be.node).each(function(){var Ge=k.select(this);Be.attrs&&Ge.attr(Be.attrs),Ge.attr("id",Ne);var Ye=Ge.selectAll("stop").data(_e);Ye.exit().remove(),Ye.enter().append("stop"),Ye.each(function(et){var ut=v(et[1]);k.select(this).attr({offset:et[0]+"%","stop-color":s.tinyRGB(ut),"stop-opacity":ut.getAlpha()})})}),me.style(de,te(Ne,Ae)).style(de+"-opacity",null),me.classed("gradient_filled",!0)}b.gradient=function(me,Ae,ke,fe,le,de){var Ce=T[fe];return p(me,Ae,ke,Ce.type,le,de,Ce.start,Ce.stop,!1,Ce.reversed)},b.pattern=function(me,Ae,ke,fe,le,de,Ce,Me,Le,Oe,Be,pe){var _e=Ae==="legend";Me&&(Le==="overlay"?(Oe=Me,Be=s.contrast(Oe)):(Oe=void 0,Be=Me));var Te,Re,Ne,ze,Ge,Ye,et,ut,ot,yt=ke._fullLayout,wt="p"+yt._uid+"-"+fe,bt={},at=v(Be),rt=s.tinyRGB(at),At=pe*at.getAlpha();switch(le){case"/":Te=de*Math.sqrt(2),Re=de*Math.sqrt(2),Ye="path",bt={d:Ne="M-"+Te/4+","+Re/4+"l"+Te/2+",-"+Re/2+"M0,"+Re+"L"+Te+",0M"+Te/4*3+","+Re/4*5+"l"+Te/2+",-"+Re/2,opacity:At,stroke:rt,"stroke-width":(ze=Ce*de)+"px"};break;case"\\":Te=de*Math.sqrt(2),Re=de*Math.sqrt(2),Ye="path",bt={d:Ne="M"+Te/4*3+",-"+Re/4+"l"+Te/2+","+Re/2+"M0,0L"+Te+","+Re+"M-"+Te/4+","+Re/4*3+"l"+Te/2+","+Re/2,opacity:At,stroke:rt,"stroke-width":(ze=Ce*de)+"px"};break;case"x":Te=de*Math.sqrt(2),Re=de*Math.sqrt(2),Ne="M-"+Te/4+","+Re/4+"l"+Te/2+",-"+Re/2+"M0,"+Re+"L"+Te+",0M"+Te/4*3+","+Re/4*5+"l"+Te/2+",-"+Re/2+"M"+Te/4*3+",-"+Re/4+"l"+Te/2+","+Re/2+"M0,0L"+Te+","+Re+"M-"+Te/4+","+Re/4*3+"l"+Te/2+","+Re/2,ze=de-de*Math.sqrt(1-Ce),Ye="path",bt={d:Ne,opacity:At,stroke:rt,"stroke-width":ze+"px"};break;case"|":Ye="path",Ye="path",bt={d:Ne="M"+(Te=de)/2+",0L"+Te/2+","+(Re=de),opacity:At,stroke:rt,"stroke-width":(ze=Ce*de)+"px"};break;case"-":Ye="path",Ye="path",bt={d:Ne="M0,"+(Re=de)/2+"L"+(Te=de)+","+Re/2,opacity:At,stroke:rt,"stroke-width":(ze=Ce*de)+"px"};break;case"+":Ye="path",Ne="M"+(Te=de)/2+",0L"+Te/2+","+(Re=de)+"M0,"+Re/2+"L"+Te+","+Re/2,ze=de-de*Math.sqrt(1-Ce),Ye="path",bt={d:Ne,opacity:At,stroke:rt,"stroke-width":ze+"px"};break;case".":Te=de,Re=de,Ce<Math.PI/4?Ge=Math.sqrt(Ce*de*de/Math.PI):(et=Ce,ut=Math.PI/4,Ge=(ot=de/2)+(de/Math.sqrt(2)-ot)*(et-ut)/(1-ut)),Ye="circle",bt={cx:Te/2,cy:Re/2,r:Ge,opacity:At,fill:rt}}var Rt=[le||"noSh",Oe||"noBg",Be||"noFg",de,Ce].join(";"),Ft=yt._defs.select(".patterns").selectAll("#"+wt).data([Rt],w.identity);Ft.exit().remove(),Ft.enter().append("pattern").each(function(){var Dt=k.select(this);if(Dt.attr({id:wt,width:Te+"px",height:Re+"px",patternUnits:"userSpaceOnUse",patternTransform:_e?"scale(0.8)":""}),Oe){var Xe=v(Oe),Ke=s.tinyRGB(Xe),Ve=Xe.getAlpha(),Je=Dt.selectAll("rect").data([0]);Je.exit().remove(),Je.enter().append("rect").attr({width:Te+"px",height:Re+"px",fill:Ke,"fill-opacity":Ve})}var ct=Dt.selectAll(Ye).data([0]);ct.exit().remove(),ct.enter().append(Ye).attr(bt)}),me.style("fill",te(wt,ke)).style("fill-opacity",null),me.classed("pattern_filled",!0)},b.initGradients=function(me){var Ae=me._fullLayout;w.ensureSingle(Ae._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),k.select(me).selectAll(".gradient_filled").classed("gradient_filled",!1)},b.initPatterns=function(me){var Ae=me._fullLayout;w.ensureSingle(Ae._defs,"g","patterns").selectAll("pattern").remove(),k.select(me).selectAll(".pattern_filled").classed("pattern_filled",!1)},b.getPatternAttr=function(me,Ae,ke){return me&&w.isArrayOrTypedArray(me)?Ae<me.length?me[Ae]:ke:me},b.pointStyle=function(me,Ae,ke,fe){if(me.size()){var le=b.makePointStyleFns(Ae);me.each(function(de){b.singlePointStyle(de,k.select(this),Ae,le,ke,fe)})}},b.singlePointStyle=function(me,Ae,ke,fe,le,de){var Ce=ke.marker,Me=Ce.line;if(de&&de.i>=0&&me.i===void 0&&(me.i=de.i),Ae.style("opacity",fe.selectedOpacityFn?fe.selectedOpacityFn(me):me.mo===void 0?Ce.opacity:me.mo),fe.ms2mrc){var Le;Le=me.ms==="various"||Ce.size==="various"?3:fe.ms2mrc(me.ms),me.mrc=Le,fe.selectedSizeFn&&(Le=me.mrc=fe.selectedSizeFn(me));var Oe=b.symbolNumber(me.mx||Ce.symbol)||0;me.om=Oe%200>=100;var Be=ye(me,ke),pe=X(me,ke);Ae.attr("d",y(Oe,Le,Be,pe))}var _e,Te,Re,Ne=!1;if(me.so)Re=Me.outlierwidth,Te=Me.outliercolor,_e=Ce.outliercolor;else{var ze=(Me||{}).width;Re=(me.mlw+1||ze+1||(me.trace?(me.trace.marker.line||{}).width:0)+1)-1||0,Te="mlc"in me?me.mlcc=fe.lineScale(me.mlc):w.isArrayOrTypedArray(Me.color)?s.defaultLine:Me.color,w.isArrayOrTypedArray(Ce.color)&&(_e=s.defaultLine,Ne=!0),_e="mc"in me?me.mcc=fe.markerScale(me.mc):Ce.color||Ce.colors||"rgba(0,0,0,0)",fe.selectedColorFn&&(_e=fe.selectedColorFn(me))}if(me.om)Ae.call(s.stroke,_e).style({"stroke-width":(Re||1)+"px",fill:"none"});else{Ae.style("stroke-width",(me.isBlank?0:Re)+"px");var Ge=Ce.gradient,Ye=me.mgt;Ye?Ne=!0:Ye=Ge&&Ge.type,w.isArrayOrTypedArray(Ye)&&(Ye=Ye[0],T[Ye]||(Ye=0));var et=Ce.pattern,ut=et&&b.getPatternAttr(et.shape,me.i,"");if(Ye&&Ye!=="none"){var ot=me.mgc;ot?Ne=!0:ot=Ge.color;var yt=ke.uid;Ne&&(yt+="-"+me.i),b.gradient(Ae,le,yt,Ye,[[0,ot],[1,_e]],"fill")}else if(ut){var wt=!1,bt=et.fgcolor;!bt&&de&&de.color&&(bt=de.color,wt=!0);var at=b.getPatternAttr(bt,me.i,de&&de.color||null),rt=b.getPatternAttr(et.bgcolor,me.i,null),At=et.fgopacity,Rt=b.getPatternAttr(et.size,me.i,8),Ft=b.getPatternAttr(et.solidity,me.i,.3);wt=wt||me.mcc||w.isArrayOrTypedArray(et.shape)||w.isArrayOrTypedArray(et.bgcolor)||w.isArrayOrTypedArray(et.fgcolor)||w.isArrayOrTypedArray(et.size)||w.isArrayOrTypedArray(et.solidity);var Dt=ke.uid;wt&&(Dt+="-"+me.i),b.pattern(Ae,"point",le,Dt,ut,Rt,Ft,me.mcc,et.fillmode,rt,at,At)}else w.isArrayOrTypedArray(_e)?s.fill(Ae,_e[me.i]):s.fill(Ae,_e);Re&&s.stroke(Ae,Te)}},b.makePointStyleFns=function(me){var Ae={},ke=me.marker;return Ae.markerScale=b.tryColorscale(ke,""),Ae.lineScale=b.tryColorscale(ke,"line"),f.traceIs(me,"symbols")&&(Ae.ms2mrc=u.isBubble(me)?h(me):function(){return(ke.size||6)/2}),me.selectedpoints&&w.extendFlat(Ae,b.makeSelectedPointStyleFns(me)),Ae},b.makeSelectedPointStyleFns=function(me){var Ae={},ke=me.selected||{},fe=me.unselected||{},le=me.marker||{},de=ke.marker||{},Ce=fe.marker||{},Me=le.opacity,Le=de.opacity,Oe=Ce.opacity,Be=Le!==void 0,pe=Oe!==void 0;(w.isArrayOrTypedArray(Me)||Be||pe)&&(Ae.selectedOpacityFn=function(ut){var ot=ut.mo===void 0?le.opacity:ut.mo;return ut.selected?Be?Le:ot:pe?Oe:o*ot});var _e=le.color,Te=de.color,Re=Ce.color;(Te||Re)&&(Ae.selectedColorFn=function(ut){var ot=ut.mcc||_e;return ut.selected?Te||ot:Re||ot});var Ne=le.size,ze=de.size,Ge=Ce.size,Ye=ze!==void 0,et=Ge!==void 0;return f.traceIs(me,"symbols")&&(Ye||et)&&(Ae.selectedSizeFn=function(ut){var ot=ut.mrc||Ne/2;return ut.selected?Ye?ze/2:ot:et?Ge/2:ot}),Ae},b.makeSelectedTextStyleFns=function(me){var Ae={},ke=me.selected||{},fe=me.unselected||{},le=me.textfont||{},de=ke.textfont||{},Ce=fe.textfont||{},Me=le.color,Le=de.color,Oe=Ce.color;return Ae.selectedTextColorFn=function(Be){var pe=Be.tc||Me;return Be.selected?Le||pe:Oe||(Le?pe:s.addOpacity(pe,o))},Ae},b.selectedPointStyle=function(me,Ae){if(me.size()&&Ae.selectedpoints){var ke=b.makeSelectedPointStyleFns(Ae),fe=Ae.marker||{},le=[];ke.selectedOpacityFn&&le.push(function(de,Ce){de.style("opacity",ke.selectedOpacityFn(Ce))}),ke.selectedColorFn&&le.push(function(de,Ce){s.fill(de,ke.selectedColorFn(Ce))}),ke.selectedSizeFn&&le.push(function(de,Ce){var Me=Ce.mx||fe.symbol||0,Le=ke.selectedSizeFn(Ce);de.attr("d",y(b.symbolNumber(Me),Le,ye(Ce,Ae),X(Ce,Ae))),Ce.mrc2=Le}),le.length&&me.each(function(de){for(var Ce=k.select(this),Me=0;Me<le.length;Me++)le[Me](Ce,de)})}},b.tryColorscale=function(me,Ae){var ke=Ae?w.nestedProperty(me,Ae).get():me;if(ke){var fe=ke.color;if((ke.colorscale||ke._colorAx)&&w.isArrayOrTypedArray(fe))return t.makeColorScaleFuncFromTrace(ke)}return w.identity};var S,M,E={start:1,end:-1,middle:0,bottom:1,top:-1};function P(me,Ae,ke,fe,le){var de=k.select(me.node().parentNode),Ce=Ae.indexOf("top")!==-1?"top":Ae.indexOf("bottom")!==-1?"bottom":"middle",Me=Ae.indexOf("left")!==-1?"end":Ae.indexOf("right")!==-1?"start":"middle",Le=fe?fe/.8+1:0,Oe=(n.lineCount(me)-1)*l+1,Be=E[Me]*Le,pe=.75*ke+E[Ce]*Le+(E[Ce]-1)*Oe*ke/2;me.attr("text-anchor",Me),le||de.attr("transform",a(Be,pe))}function O(me,Ae){var ke=me.ts||Ae.textfont.size;return _(ke)&&ke>0?ke:0}function I(me,Ae,ke){return ke&&(me=F(me)),Ae?U(me[1]):R(me[0])}function R(me){var Ae=k.round(me,2);return S=Ae,Ae}function U(me){var Ae=k.round(me,2);return M=Ae,Ae}function z(me,Ae,ke,fe){var le=me[0]-Ae[0],de=me[1]-Ae[1],Ce=ke[0]-Ae[0],Me=ke[1]-Ae[1],Le=Math.pow(le*le+de*de,.25),Oe=Math.pow(Ce*Ce+Me*Me,.25),Be=(Oe*Oe*le-Le*Le*Ce)*fe,pe=(Oe*Oe*de-Le*Le*Me)*fe,_e=3*Oe*(Le+Oe),Te=3*Le*(Le+Oe);return[[R(Ae[0]+(_e&&Be/_e)),U(Ae[1]+(_e&&pe/_e))],[R(Ae[0]-(Te&&Be/Te)),U(Ae[1]-(Te&&pe/Te))]]}b.textPointStyle=function(me,Ae,ke){if(me.size()){var fe;if(Ae.selectedpoints){var le=b.makeSelectedTextStyleFns(Ae);fe=le.selectedTextColorFn}var de=Ae.texttemplate,Ce=ke._fullLayout;me.each(function(Me){var Le=k.select(this),Oe=de?w.extractOption(Me,Ae,"txt","texttemplate"):w.extractOption(Me,Ae,"tx","text");if(Oe||Oe===0){if(de){var Be=Ae._module.formatLabels,pe=Be?Be(Me,Ae,Ce):{},_e={};c(_e,Ae,Me.i);var Te=Ae._meta||{};Oe=w.texttemplateString(Oe,pe,Ce._d3locale,_e,Me,Te)}var Re=Me.tp||Ae.textposition,Ne=O(Me,Ae),ze=fe?fe(Me):Me.tc||Ae.textfont.color;Le.call(b.font,Me.tf||Ae.textfont.family,Ne,ze).text(Oe).call(n.convertToTspans,ke).call(P,Re,Ne,Me.mrc)}else Le.remove()})}},b.selectedTextStyle=function(me,Ae){if(me.size()&&Ae.selectedpoints){var ke=b.makeSelectedTextStyleFns(Ae);me.each(function(fe){var le=k.select(this),de=ke.selectedTextColorFn(fe),Ce=fe.tp||Ae.textposition,Me=O(fe,Ae);s.fill(le,de);var Le=f.traceIs(Ae,"bar-like");P(le,Ce,Me,fe.mrc2||fe.mrc,Le)})}},b.smoothopen=function(me,Ae){if(me.length<3)return"M"+me.join("L");var ke,fe="M"+me[0],le=[];for(ke=1;ke<me.length-1;ke++)le.push(z(me[ke-1],me[ke],me[ke+1],Ae));for(fe+="Q"+le[0][0]+" "+me[1],ke=2;ke<me.length-1;ke++)fe+="C"+le[ke-2][1]+" "+le[ke-1][0]+" "+me[ke];return fe+"Q"+le[me.length-3][1]+" "+me[me.length-1]},b.smoothclosed=function(me,Ae){if(me.length<3)return"M"+me.join("L")+"Z";var ke,fe="M"+me[0],le=me.length-1,de=[z(me[le],me[0],me[1],Ae)];for(ke=1;ke<le;ke++)de.push(z(me[ke-1],me[ke],me[ke+1],Ae));for(de.push(z(me[le-1],me[le],me[0],Ae)),ke=1;ke<=le;ke++)fe+="C"+de[ke-1][1]+" "+de[ke][0]+" "+me[ke];return fe+"C"+de[le][1]+" "+de[0][0]+" "+me[0]+"Z"};var j={hv:function(me,Ae,ke){return"H"+R(Ae[0])+"V"+I(Ae,1,ke)},vh:function(me,Ae,ke){return"V"+U(Ae[1])+"H"+I(Ae,0,ke)},hvh:function(me,Ae,ke){return"H"+R((me[0]+Ae[0])/2)+"V"+U(Ae[1])+"H"+I(Ae,0,ke)},vhv:function(me,Ae,ke){return"V"+U((me[1]+Ae[1])/2)+"H"+R(Ae[0])+"V"+I(Ae,1,ke)}},W=function(me,Ae,ke){return"L"+I(Ae,0,ke)+","+I(Ae,1,ke)};function F(me,Ae){var ke=me.backoff,fe=me.trace,le=me.d,de=me.i;if(ke&&fe&&fe.marker&&fe.marker.angle%360==0&&fe.line&&fe.line.shape!=="spline"){var Ce=w.isArrayOrTypedArray(ke),Me=me,Le=Ae?Ae[0]:S||0,Oe=Ae?Ae[1]:M||0,Be=Me[0],pe=Me[1],_e=Be-Le,Te=pe-Oe,Re=Math.atan2(Te,_e),Ne=Ce?ke[de]:ke;if(Ne==="auto"){var ze=Me.i;fe.type==="scatter"&&ze--;var Ge=Me.marker,Ye=Ge.symbol;w.isArrayOrTypedArray(Ye)&&(Ye=Ye[ze]);var et=Ge.size;w.isArrayOrTypedArray(et)&&(et=et[ze]),Ne=Ge?b.symbolBackOffs[b.symbolNumber(Ye)]*et:0,Ne+=b.getMarkerStandoff(le[ze],fe)||0}var ut=Be-Ne*Math.cos(Re),ot=pe-Ne*Math.sin(Re);(ut<=Be&&ut>=Le||ut>=Be&&ut<=Le)&&(ot<=pe&&ot>=Oe||ot>=pe&&ot<=Oe)&&(me=[ut,ot])}return me}b.steps=function(me){var Ae=j[me]||W;return function(ke){for(var fe="M"+R(ke[0][0])+","+U(ke[0][1]),le=ke.length,de=1;de<le;de++)fe+=Ae(ke[de-1],ke[de],de===le-1);return fe}},b.applyBackoff=F,b.makeTester=function(){var me=w.ensureSingleById(k.select("body"),"svg","js-plotly-tester",function(ke){ke.attr(i.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Ae=w.ensureSingle(me,"path","js-reference-point",function(ke){ke.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});b.tester=me,b.testref=Ae},b.savedBBoxes={};var V=0;function H(me){var Ae=me.getAttribute("data-unformatted");if(Ae!==null)return Ae+me.getAttribute("data-math")+me.getAttribute("text-anchor")+me.getAttribute("style")}function te(me,Ae){if(!me)return null;var ke=Ae._context,fe=ke._exportedPlot?"":ke._baseUrl||"";return fe?"url('"+fe+"#"+me+"')":"url(#"+me+")"}b.bBox=function(me,Ae,ke){var fe,le,de;if(ke||(ke=H(me)),ke){if(fe=b.savedBBoxes[ke])return w.extendFlat({},fe)}else if(me.childNodes.length===1){var Ce=me.childNodes[0];if(ke=H(Ce)){var Me=+Ce.getAttribute("x")||0,Le=+Ce.getAttribute("y")||0,Oe=Ce.getAttribute("transform");if(!Oe){var Be=b.bBox(Ce,!1,ke);return Me&&(Be.left+=Me,Be.right+=Me),Le&&(Be.top+=Le,Be.bottom+=Le),Be}if(ke+="~"+Me+"~"+Le+"~"+Oe,fe=b.savedBBoxes[ke])return w.extendFlat({},fe)}}Ae?le=me:(de=b.tester.node(),le=me.cloneNode(!0),de.appendChild(le)),k.select(le).attr("transform",null).call(n.positionText,0,0);var pe=le.getBoundingClientRect(),_e=b.testref.node().getBoundingClientRect();Ae||de.removeChild(le);var Te={height:pe.height,width:pe.width,left:pe.left-_e.left,top:pe.top-_e.top,right:pe.right-_e.left,bottom:pe.bottom-_e.top};return V>=1e4&&(b.savedBBoxes={},V=0),ke&&(b.savedBBoxes[ke]=Te),V++,w.extendFlat({},Te)},b.setClipUrl=function(me,Ae,ke){me.attr("clip-path",te(Ae,ke))},b.getTranslate=function(me){var Ae=(me[me.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(ke,fe,le){return[fe,le].join(" ")}).split(" ");return{x:+Ae[0]||0,y:+Ae[1]||0}},b.setTranslate=function(me,Ae,ke){var fe=me.attr?"attr":"getAttribute",le=me.attr?"attr":"setAttribute",de=me[fe]("transform")||"";return Ae=Ae||0,ke=ke||0,de=de.replace(/(\btranslate\(.*?\);?)/,"").trim(),de=(de+=a(Ae,ke)).trim(),me[le]("transform",de),de},b.getScale=function(me){var Ae=(me[me.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(ke,fe,le){return[fe,le].join(" ")}).split(" ");return{x:+Ae[0]||1,y:+Ae[1]||1}},b.setScale=function(me,Ae,ke){var fe=me.attr?"attr":"getAttribute",le=me.attr?"attr":"setAttribute",de=me[fe]("transform")||"";return Ae=Ae||1,ke=ke||1,de=de.replace(/(\bscale\(.*?\);?)/,"").trim(),de=(de+="scale("+Ae+","+ke+")").trim(),me[le]("transform",de),de};var Q=/\s*sc.*/;b.setPointGroupScale=function(me,Ae,ke){if(Ae=Ae||1,ke=ke||1,me){var fe=Ae===1&&ke===1?"":"scale("+Ae+","+ke+")";me.each(function(){var le=(this.getAttribute("transform")||"").replace(Q,"");le=(le+=fe).trim(),this.setAttribute("transform",le)})}};var K=/translate\([^)]*\)\s*$/;function X(me,Ae){var ke;return me&&(ke=me.mf),ke===void 0&&(ke=Ae.marker&&Ae.marker.standoff||0),Ae._geo||Ae._xA?ke:-ke}b.setTextPointsScale=function(me,Ae,ke){me&&me.each(function(){var fe,le=k.select(this),de=le.select("text");if(de.node()){var Ce=parseFloat(de.attr("x")||0),Me=parseFloat(de.attr("y")||0),Le=(le.attr("transform")||"").match(K);fe=Ae===1&&ke===1?[]:[a(Ce,Me),"scale("+Ae+","+ke+")",a(-Ce,-Me)],Le&&fe.push(Le),le.attr("transform",fe.join(""))}})},b.getMarkerStandoff=X;var J,ee,ie,oe,ae,ce,ge=Math.atan2,ve=Math.cos,be=Math.sin;function we(me,Ae){var ke=Ae[0],fe=Ae[1];return[ke*ve(me)-fe*be(me),ke*be(me)+fe*ve(me)]}function ye(me,Ae){var ke,fe,le=me.ma;le===void 0&&((le=Ae.marker.angle)&&!w.isArrayOrTypedArray(le)||(le=0));var de=Ae.marker.angleref;if(de==="previous"||de==="north"){if(Ae._geo){var Ce=Ae._geo.project(me.lonlat);ke=Ce[0],fe=Ce[1]}else{var Me=Ae._xA,Le=Ae._yA;if(!Me||!Le)return 90;ke=Me.c2p(me.x),fe=Le.c2p(me.y)}if(Ae._geo){var Oe,Be=me.lonlat[0],pe=me.lonlat[1],_e=Ae._geo.project([Be,pe+1e-5]),Te=Ae._geo.project([Be+1e-5,pe]),Re=ge(Te[1]-fe,Te[0]-ke),Ne=ge(_e[1]-fe,_e[0]-ke);if(de==="north")Oe=le/180*Math.PI;else if(de==="previous"){var ze=Be/180*Math.PI,Ge=pe/180*Math.PI,Ye=J/180*Math.PI,et=ee/180*Math.PI,ut=Ye-ze,ot=ve(et)*be(ut),yt=be(et)*ve(Ge)-ve(et)*be(Ge)*ve(ut);Oe=-ge(ot,yt)-Math.PI,J=Be,ee=pe}var wt=we(Re,[ve(Oe),0]),bt=we(Ne,[be(Oe),0]);le=ge(wt[1]+bt[1],wt[0]+bt[0])/Math.PI*180,de!=="previous"||ce===Ae.uid&&me.i===ae+1||(le=null)}if(de==="previous"&&!Ae._geo)if(ce===Ae.uid&&me.i===ae+1&&_(ke)&&_(fe)){var at=ke-ie,rt=fe-oe,At=Ae.line&&Ae.line.shape||"",Rt=At.slice(At.length-1);Rt==="h"&&(rt=0),Rt==="v"&&(at=0),le+=ge(rt,at)/Math.PI*180+90}else le=null}return ie=ke,oe=fe,ae=me.i,ce=Ae.uid,le}b.getMarkerAngle=ye},71984:function(B,L,e){var k,w,r,_,v=e(21984),f=e(33428).round,s="M0,0Z",t=Math.sqrt(2),a=Math.sqrt(3),n=Math.PI,i=Math.cos,l=Math.sin;function o(h){return h===null}function u(h,c,b){if(!(h&&h%360!=0||c))return b;if(r===h&&_===c&&k===b)return w;function d(R,U){var z=i(R),j=l(R),W=U[0],F=U[1]+(c||0);return[W*z-F*j,W*j+F*z]}r=h,_=c,k=b;for(var g=h/180*n,m=0,y=0,x=v(b),T="",p=0;p<x.length;p++){var S=x[p],M=S[0],E=m,P=y;if(M==="M"||M==="L")m=+S[1],y=+S[2];else if(M==="m"||M==="l")m+=+S[1],y+=+S[2];else if(M==="H")m=+S[1];else if(M==="h")m+=+S[1];else if(M==="V")y=+S[1];else if(M==="v")y+=+S[1];else if(M==="A"){m=+S[1],y=+S[2];var O=d(g,[+S[6],+S[7]]);S[6]=O[0],S[7]=O[1],S[3]=+S[3]+h}M!=="H"&&M!=="V"||(M="L"),M!=="h"&&M!=="v"||(M="l"),M!=="m"&&M!=="l"||(m-=E,y-=P);var I=d(g,[m,y]);M!=="H"&&M!=="V"||(M="L"),M!=="M"&&M!=="L"&&M!=="m"&&M!=="l"||(S[1]=I[0],S[2]=I[1]),S[0]=M,T+=S[0]+S.slice(1).join(",")}return w=T,T}B.exports={circle:{n:0,f:function(h,c,b){if(o(c))return s;var d=f(h,2),g="M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z";return b?u(c,b,g):g}},square:{n:1,f:function(h,c,b){if(o(c))return s;var d=f(h,2);return u(c,b,"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")}},diamond:{n:2,f:function(h,c,b){if(o(c))return s;var d=f(1.3*h,2);return u(c,b,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"Z")}},cross:{n:3,f:function(h,c,b){if(o(c))return s;var d=f(.4*h,2),g=f(1.2*h,2);return u(c,b,"M"+g+","+d+"H"+d+"V"+g+"H-"+d+"V"+d+"H-"+g+"V-"+d+"H-"+d+"V-"+g+"H"+d+"V-"+d+"H"+g+"Z")}},x:{n:4,f:function(h,c,b){if(o(c))return s;var d=f(.8*h/t,2),g="l"+d+","+d,m="l"+d+",-"+d,y="l-"+d+",-"+d,x="l-"+d+","+d;return u(c,b,"M0,"+d+g+m+y+m+y+x+y+x+g+x+g+"Z")}},"triangle-up":{n:5,f:function(h,c,b){if(o(c))return s;var d=f(2*h/a,2);return u(c,b,"M-"+d+","+f(h/2,2)+"H"+d+"L0,-"+f(h,2)+"Z")}},"triangle-down":{n:6,f:function(h,c,b){if(o(c))return s;var d=f(2*h/a,2);return u(c,b,"M-"+d+",-"+f(h/2,2)+"H"+d+"L0,"+f(h,2)+"Z")}},"triangle-left":{n:7,f:function(h,c,b){if(o(c))return s;var d=f(2*h/a,2);return u(c,b,"M"+f(h/2,2)+",-"+d+"V"+d+"L-"+f(h,2)+",0Z")}},"triangle-right":{n:8,f:function(h,c,b){if(o(c))return s;var d=f(2*h/a,2);return u(c,b,"M-"+f(h/2,2)+",-"+d+"V"+d+"L"+f(h,2)+",0Z")}},"triangle-ne":{n:9,f:function(h,c,b){if(o(c))return s;var d=f(.6*h,2),g=f(1.2*h,2);return u(c,b,"M-"+g+",-"+d+"H"+d+"V"+g+"Z")}},"triangle-se":{n:10,f:function(h,c,b){if(o(c))return s;var d=f(.6*h,2),g=f(1.2*h,2);return u(c,b,"M"+d+",-"+g+"V"+d+"H-"+g+"Z")}},"triangle-sw":{n:11,f:function(h,c,b){if(o(c))return s;var d=f(.6*h,2),g=f(1.2*h,2);return u(c,b,"M"+g+","+d+"H-"+d+"V-"+g+"Z")}},"triangle-nw":{n:12,f:function(h,c,b){if(o(c))return s;var d=f(.6*h,2),g=f(1.2*h,2);return u(c,b,"M-"+d+","+g+"V-"+d+"H"+g+"Z")}},pentagon:{n:13,f:function(h,c,b){if(o(c))return s;var d=f(.951*h,2),g=f(.588*h,2),m=f(-h,2),y=f(-.309*h,2);return u(c,b,"M"+d+","+y+"L"+g+","+f(.809*h,2)+"H-"+g+"L-"+d+","+y+"L0,"+m+"Z")}},hexagon:{n:14,f:function(h,c,b){if(o(c))return s;var d=f(h,2),g=f(h/2,2),m=f(h*a/2,2);return u(c,b,"M"+m+",-"+g+"V"+g+"L0,"+d+"L-"+m+","+g+"V-"+g+"L0,-"+d+"Z")}},hexagon2:{n:15,f:function(h,c,b){if(o(c))return s;var d=f(h,2),g=f(h/2,2),m=f(h*a/2,2);return u(c,b,"M-"+g+","+m+"H"+g+"L"+d+",0L"+g+",-"+m+"H-"+g+"L-"+d+",0Z")}},octagon:{n:16,f:function(h,c,b){if(o(c))return s;var d=f(.924*h,2),g=f(.383*h,2);return u(c,b,"M-"+g+",-"+d+"H"+g+"L"+d+",-"+g+"V"+g+"L"+g+","+d+"H-"+g+"L-"+d+","+g+"V-"+g+"Z")}},star:{n:17,f:function(h,c,b){if(o(c))return s;var d=1.4*h,g=f(.225*d,2),m=f(.951*d,2),y=f(.363*d,2),x=f(.588*d,2),T=f(-d,2),p=f(-.309*d,2),S=f(.118*d,2),M=f(.809*d,2);return u(c,b,"M"+g+","+p+"H"+m+"L"+y+","+S+"L"+x+","+M+"L0,"+f(.382*d,2)+"L-"+x+","+M+"L-"+y+","+S+"L-"+m+","+p+"H-"+g+"L0,"+T+"Z")}},hexagram:{n:18,f:function(h,c,b){if(o(c))return s;var d=f(.66*h,2),g=f(.38*h,2),m=f(.76*h,2);return u(c,b,"M-"+m+",0l-"+g+",-"+d+"h"+m+"l"+g+",-"+d+"l"+g+","+d+"h"+m+"l-"+g+","+d+"l"+g+","+d+"h-"+m+"l-"+g+","+d+"l-"+g+",-"+d+"h-"+m+"Z")}},"star-triangle-up":{n:19,f:function(h,c,b){if(o(c))return s;var d=f(h*a*.8,2),g=f(.8*h,2),m=f(1.6*h,2),y=f(4*h,2),x="A "+y+","+y+" 0 0 1 ";return u(c,b,"M-"+d+","+g+x+d+","+g+x+"0,-"+m+x+"-"+d+","+g+"Z")}},"star-triangle-down":{n:20,f:function(h,c,b){if(o(c))return s;var d=f(h*a*.8,2),g=f(.8*h,2),m=f(1.6*h,2),y=f(4*h,2),x="A "+y+","+y+" 0 0 1 ";return u(c,b,"M"+d+",-"+g+x+"-"+d+",-"+g+x+"0,"+m+x+d+",-"+g+"Z")}},"star-square":{n:21,f:function(h,c,b){if(o(c))return s;var d=f(1.1*h,2),g=f(2*h,2),m="A "+g+","+g+" 0 0 1 ";return u(c,b,"M-"+d+",-"+d+m+"-"+d+","+d+m+d+","+d+m+d+",-"+d+m+"-"+d+",-"+d+"Z")}},"star-diamond":{n:22,f:function(h,c,b){if(o(c))return s;var d=f(1.4*h,2),g=f(1.9*h,2),m="A "+g+","+g+" 0 0 1 ";return u(c,b,"M-"+d+",0"+m+"0,"+d+m+d+",0"+m+"0,-"+d+m+"-"+d+",0Z")}},"diamond-tall":{n:23,f:function(h,c,b){if(o(c))return s;var d=f(.7*h,2),g=f(1.4*h,2);return u(c,b,"M0,"+g+"L"+d+",0L0,-"+g+"L-"+d+",0Z")}},"diamond-wide":{n:24,f:function(h,c,b){if(o(c))return s;var d=f(1.4*h,2),g=f(.7*h,2);return u(c,b,"M0,"+g+"L"+d+",0L0,-"+g+"L-"+d+",0Z")}},hourglass:{n:25,f:function(h,c,b){if(o(c))return s;var d=f(h,2);return u(c,b,"M"+d+","+d+"H-"+d+"L"+d+",-"+d+"H-"+d+"Z")},noDot:!0},bowtie:{n:26,f:function(h,c,b){if(o(c))return s;var d=f(h,2);return u(c,b,"M"+d+","+d+"V-"+d+"L-"+d+","+d+"V-"+d+"Z")},noDot:!0},"circle-cross":{n:27,f:function(h,c,b){if(o(c))return s;var d=f(h,2);return u(c,b,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(h,c,b){if(o(c))return s;var d=f(h,2),g=f(h/t,2);return u(c,b,"M"+g+","+g+"L-"+g+",-"+g+"M"+g+",-"+g+"L-"+g+","+g+"M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(h,c,b){if(o(c))return s;var d=f(h,2);return u(c,b,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(h,c,b){if(o(c))return s;var d=f(h,2);return u(c,b,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d+"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(h,c,b){if(o(c))return s;var d=f(1.3*h,2);return u(c,b,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"ZM0,-"+d+"V"+d+"M-"+d+",0H"+d)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(h,c,b){if(o(c))return s;var d=f(1.3*h,2),g=f(.65*h,2);return u(c,b,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"ZM-"+g+",-"+g+"L"+g+","+g+"M-"+g+","+g+"L"+g+",-"+g)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(h,c,b){if(o(c))return s;var d=f(1.4*h,2);return u(c,b,"M0,"+d+"V-"+d+"M"+d+",0H-"+d)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(h,c,b){if(o(c))return s;var d=f(h,2);return u(c,b,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(h,c,b){if(o(c))return s;var d=f(1.2*h,2),g=f(.85*h,2);return u(c,b,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+g+","+g+"L-"+g+",-"+g+"M"+g+",-"+g+"L-"+g+","+g)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(h,c,b){if(o(c))return s;var d=f(h/2,2),g=f(h,2);return u(c,b,"M"+d+","+g+"V-"+g+"M"+(d-g)+",-"+g+"V"+g+"M"+g+","+d+"H-"+g+"M-"+g+","+(d-g)+"H"+g)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(h,c,b){if(o(c))return s;var d=f(1.2*h,2),g=f(1.6*h,2),m=f(.8*h,2);return u(c,b,"M-"+d+","+m+"L0,0M"+d+","+m+"L0,0M0,-"+g+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(h,c,b){if(o(c))return s;var d=f(1.2*h,2),g=f(1.6*h,2),m=f(.8*h,2);return u(c,b,"M-"+d+",-"+m+"L0,0M"+d+",-"+m+"L0,0M0,"+g+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(h,c,b){if(o(c))return s;var d=f(1.2*h,2),g=f(1.6*h,2),m=f(.8*h,2);return u(c,b,"M"+m+","+d+"L0,0M"+m+",-"+d+"L0,0M-"+g+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(h,c,b){if(o(c))return s;var d=f(1.2*h,2),g=f(1.6*h,2),m=f(.8*h,2);return u(c,b,"M-"+m+","+d+"L0,0M-"+m+",-"+d+"L0,0M"+g+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(h,c,b){if(o(c))return s;var d=f(1.4*h,2);return u(c,b,"M"+d+",0H-"+d)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(h,c,b){if(o(c))return s;var d=f(1.4*h,2);return u(c,b,"M0,"+d+"V-"+d)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(h,c,b){if(o(c))return s;var d=f(h,2);return u(c,b,"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(h,c,b){if(o(c))return s;var d=f(h,2);return u(c,b,"M"+d+","+d+"L-"+d+",-"+d)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(h,c,b){if(o(c))return s;var d=f(h,2);return u(c,b,"M0,0L-"+d+","+f(2*h,2)+"H"+d+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(h,c,b){if(o(c))return s;var d=f(h,2);return u(c,b,"M0,0L-"+d+",-"+f(2*h,2)+"H"+d+"Z")},noDot:!0},"arrow-left":{n:47,f:function(h,c,b){if(o(c))return s;var d=f(2*h,2),g=f(h,2);return u(c,b,"M0,0L"+d+",-"+g+"V"+g+"Z")},noDot:!0},"arrow-right":{n:48,f:function(h,c,b){if(o(c))return s;var d=f(2*h,2),g=f(h,2);return u(c,b,"M0,0L-"+d+",-"+g+"V"+g+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(h,c,b){if(o(c))return s;var d=f(h,2);return u(c,b,"M-"+d+",0H"+d+"M0,0L-"+d+","+f(2*h,2)+"H"+d+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(h,c,b){if(o(c))return s;var d=f(h,2);return u(c,b,"M-"+d+",0H"+d+"M0,0L-"+d+",-"+f(2*h,2)+"H"+d+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(h,c,b){if(o(c))return s;var d=f(2*h,2),g=f(h,2);return u(c,b,"M0,-"+g+"V"+g+"M0,0L"+d+",-"+g+"V"+g+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(h,c,b){if(o(c))return s;var d=f(2*h,2),g=f(h,2);return u(c,b,"M0,-"+g+"V"+g+"M0,0L-"+d+",-"+g+"V"+g+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(h,c,b){if(o(c))return s;var d=n/2.5,g=2*h*i(d),m=2*h*l(d);return u(c,b,"M0,0L"+-g+","+m+"L"+g+","+m+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(h,c,b){if(o(c))return s;var d=n/4,g=2*h*i(d),m=2*h*l(d);return u(c,b,"M0,0L"+-g+","+m+"A "+2*h+","+2*h+" 0 0 1 "+g+","+m+"Z")},backoff:.4,noDot:!0}}},97644:function(B){B.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(B,L,e){var k=e(38248),w=e(24040),r=e(54460),_=e(3400),v=e(93792);function f(s,t,a,n){var i=t["error_"+n]||{},l=[];if(i.visible&&["linear","log"].indexOf(a.type)!==-1){for(var o=v(i),u=0;u<s.length;u++){var h=s[u],c=h.i;if(c===void 0)c=u;else if(c===null)continue;var b=h[n];if(k(a.c2l(b))){var d=o(b,c);if(k(d[0])&&k(d[1])){var g=h[n+"s"]=b-d[0],m=h[n+"h"]=b+d[1];l.push(g,m)}}}var y=a._id,x=t._extremes[y],T=r.findExtremes(a,l,_.extendFlat({tozero:x.opts.tozero},{padded:!0}));x.min=x.min.concat(T.min),x.max=x.max.concat(T.max)}}B.exports=function(s){for(var t=s.calcdata,a=0;a<t.length;a++){var n=t[a],i=n[0].trace;if(i.visible===!0&&w.traceIs(i,"errorBarsOK")){var l=r.getFromId(s,i.xaxis),o=r.getFromId(s,i.yaxis);f(n,i,l,"x"),f(n,i,o,"y")}}}},93792:function(B){function L(e,k){return e==="percent"?function(w){return Math.abs(w*k/100)}:e==="constant"?function(){return Math.abs(k)}:e==="sqrt"?function(w){return Math.sqrt(Math.abs(w))}:void 0}B.exports=function(e){var k=e.type,w=e.symmetric;if(k==="data"){var r=e.array||[];if(w)return function(s,t){var a=+r[t];return[a,a]};var _=e.arrayminus||[];return function(s,t){var a=+r[t],n=+_[t];return isNaN(a)&&isNaN(n)?[NaN,NaN]:[n||0,a||0]}}var v=L(k,e.value),f=L(k,e.valueminus);return w||e.valueminus===void 0?function(s){var t=v(s);return[t,t]}:function(s){return[f(s),v(s)]}}},65200:function(B,L,e){var k=e(38248),w=e(24040),r=e(3400),_=e(31780),v=e(97644);B.exports=function(f,s,t,a){var n="error_"+a.axis,i=_.newContainer(s,n),l=f[n]||{};function o(b,d){return r.coerce(l,i,v,b,d)}if(o("visible",l.array!==void 0||l.value!==void 0||l.type==="sqrt")!==!1){var u=o("type","array"in l?"data":"percent"),h=!0;u!=="sqrt"&&(h=o("symmetric",!((u==="data"?"arrayminus":"valueminus")in l))),u==="data"?(o("array"),o("traceref"),h||(o("arrayminus"),o("tracerefminus"))):u!=="percent"&&u!=="constant"||(o("value"),h||o("valueminus"));var c="copy_"+a.inherit+"style";a.inherit&&(s["error_"+a.inherit]||{}).visible&&o(c,!(l.color||k(l.thickness)||k(l.width))),a.inherit&&i[c]||(o("color",t),o("thickness"),o("width",w.traceIs(s,"gl3d")?0:4))}}},64968:function(B,L,e){var k=e(3400),w=e(67824).overrideAll,r=e(97644),_={error_x:k.extendFlat({},r),error_y:k.extendFlat({},r)};delete _.error_x.copy_zstyle,delete _.error_y.copy_zstyle,delete _.error_y.copy_ystyle;var v={error_x:k.extendFlat({},r),error_y:k.extendFlat({},r),error_z:k.extendFlat({},r)};delete v.error_x.copy_ystyle,delete v.error_y.copy_ystyle,delete v.error_z.copy_ystyle,delete v.error_z.copy_zstyle,B.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:_,bar:_,histogram:_,scatter3d:w(v,"calc","nested"),scattergl:w(_,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:function(f,s,t){(s.error_y||{}).visible&&(t.yerr=f.yh-f.y,s.error_y.symmetric||(t.yerrneg=f.y-f.ys)),(s.error_x||{}).visible&&(t.xerr=f.xh-f.x,s.error_x.symmetric||(t.xerrneg=f.x-f.xs))}}},78512:function(B,L,e){var k=e(33428),w=e(38248),r=e(43616),_=e(43028);B.exports=function(v,f,s,t){var a=s.xaxis,n=s.yaxis,i=t&&t.duration>0,l=v._context.staticPlot;f.each(function(o){var u,h=o[0].trace,c=h.error_x||{},b=h.error_y||{};h.ids&&(u=function(y){return y.id});var d=_.hasMarkers(h)&&h.marker.maxdisplayed>0;b.visible||c.visible||(o=[]);var g=k.select(this).selectAll("g.errorbar").data(o,u);if(g.exit().remove(),o.length){c.visible||g.selectAll("path.xerror").remove(),b.visible||g.selectAll("path.yerror").remove(),g.style("opacity",1);var m=g.enter().append("g").classed("errorbar",!0);i&&m.style("opacity",0).transition().duration(t.duration).style("opacity",1),r.setClipUrl(g,s.layerClipId,v),g.each(function(y){var x=k.select(this),T=function(O,I,R){var U={x:I.c2p(O.x),y:R.c2p(O.y)};return O.yh!==void 0&&(U.yh=R.c2p(O.yh),U.ys=R.c2p(O.ys),w(U.ys)||(U.noYS=!0,U.ys=R.c2p(O.ys,!0))),O.xh!==void 0&&(U.xh=I.c2p(O.xh),U.xs=I.c2p(O.xs),w(U.xs)||(U.noXS=!0,U.xs=I.c2p(O.xs,!0))),U}(y,a,n);if(!d||y.vis){var p,S=x.select("path.yerror");if(b.visible&&w(T.x)&&w(T.yh)&&w(T.ys)){var M=b.width;p="M"+(T.x-M)+","+T.yh+"h"+2*M+"m-"+M+",0V"+T.ys,T.noYS||(p+="m-"+M+",0h"+2*M),S.size()?i&&(S=S.transition().duration(t.duration).ease(t.easing)):S=x.append("path").style("vector-effect",l?"none":"non-scaling-stroke").classed("yerror",!0),S.attr("d",p)}else S.remove();var E=x.select("path.xerror");if(c.visible&&w(T.y)&&w(T.xh)&&w(T.xs)){var P=(c.copy_ystyle?b:c).width;p="M"+T.xh+","+(T.y-P)+"v"+2*P+"m0,-"+P+"H"+T.xs,T.noXS||(p+="m0,-"+P+"v"+2*P),E.size()?i&&(E=E.transition().duration(t.duration).ease(t.easing)):E=x.append("path").style("vector-effect",l?"none":"non-scaling-stroke").classed("xerror",!0),E.attr("d",p)}else E.remove()}})}})}},92036:function(B,L,e){var k=e(33428),w=e(76308);B.exports=function(r){r.each(function(_){var v=_[0].trace,f=v.error_y||{},s=v.error_x||{},t=k.select(this);t.selectAll("path.yerror").style("stroke-width",f.thickness+"px").call(w.stroke,f.color),s.copy_ystyle&&(s=f),t.selectAll("path.xerror").style("stroke-width",s.thickness+"px").call(w.stroke,s.color)})}},55756:function(B,L,e){var k=e(25376),w=e(65460).hoverlabel,r=e(92880).extendFlat;B.exports={hoverlabel:{bgcolor:r({},w.bgcolor,{arrayOk:!0}),bordercolor:r({},w.bordercolor,{arrayOk:!0}),font:k({arrayOk:!0,editType:"none"}),align:r({},w.align,{arrayOk:!0}),namelength:r({},w.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(B,L,e){var k=e(3400),w=e(24040);function r(_,v,f,s){s=s||k.identity,Array.isArray(_)&&(v[0][f]=s(_))}B.exports=function(_){var v=_.calcdata,f=_._fullLayout;function s(l){return function(o){return k.coerceHoverinfo({hoverinfo:o},{_module:l._module},f)}}for(var t=0;t<v.length;t++){var a=v[t],n=a[0].trace;if(!w.traceIs(n,"pie-like")){var i=w.traceIs(n,"2dMap")?r:k.fillArray;i(n.hoverinfo,a,"hi",s(n)),n.hovertemplate&&i(n.hovertemplate,a,"ht"),n.hoverlabel&&(i(n.hoverlabel.bgcolor,a,"hbg"),i(n.hoverlabel.bordercolor,a,"hbc"),i(n.hoverlabel.font.size,a,"hts"),i(n.hoverlabel.font.color,a,"htc"),i(n.hoverlabel.font.family,a,"htf"),i(n.hoverlabel.namelength,a,"hnl"),i(n.hoverlabel.align,a,"hta"))}}}},62376:function(B,L,e){var k=e(24040),w=e(83292).hover;B.exports=function(r,_,v){var f=k.getComponentMethod("annotations","onClick")(r,r._hoverdata);function s(){r.emit("plotly_click",{points:r._hoverdata,event:_})}v!==void 0&&w(r,_,v,!0),r._hoverdata&&_&&_.target&&(f&&f.then?f.then(s):s(),_.stopImmediatePropagation&&_.stopImmediatePropagation())}},92456:function(B){B.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(B,L,e){var k=e(3400),w=e(55756),r=e(16132);B.exports=function(_,v,f,s){var t=k.extendFlat({},s.hoverlabel);v.hovertemplate&&(t.namelength=-1),r(_,v,function(a,n){return k.coerce(_,v,w,a,n)},t)}},10624:function(B,L,e){var k=e(3400);L.getSubplot=function(s){return s.subplot||s.xaxis+s.yaxis||s.geo},L.isTraceInSubplots=function(s,t){if(s.type==="splom"){for(var a=s.xaxes||[],n=s.yaxes||[],i=0;i<a.length;i++)for(var l=0;l<n.length;l++)if(t.indexOf(a[i]+n[l])!==-1)return!0;return!1}return t.indexOf(L.getSubplot(s))!==-1},L.flat=function(s,t){for(var a=new Array(s.length),n=0;n<s.length;n++)a[n]=t;return a},L.p2c=function(s,t){for(var a=new Array(s.length),n=0;n<s.length;n++)a[n]=s[n].p2c(t);return a},L.getDistanceFunction=function(s,t,a,n){return s==="closest"?n||L.quadrature(t,a):s.charAt(0)==="x"?t:a},L.getClosest=function(s,t,a){if(a.index!==!1)a.index>=0&&a.index<s.length?a.distance=0:a.index=!1;else for(var n=0;n<s.length;n++){var i=t(s[n]);i<=a.distance&&(a.index=n,a.distance=i)}return a},L.inbox=function(s,t,a){return s*t<0||s===0?a:1/0},L.quadrature=function(s,t){return function(a){var n=s(a),i=t(a);return Math.sqrt(n*n+i*i)}},L.makeEventData=function(s,t,a){var n="index"in s?s.index:s.pointNumber,i={data:t._input,fullData:t,curveNumber:t.index,pointNumber:n};if(t._indexToPoints){var l=t._indexToPoints[n];l.length===1?i.pointIndex=l[0]:i.pointIndices=l}else i.pointIndex=n;return t._module.eventData?i=t._module.eventData(i,s,t,a,n):("xVal"in s?i.x=s.xVal:"x"in s&&(i.x=s.x),"yVal"in s?i.y=s.yVal:"y"in s&&(i.y=s.y),s.xa&&(i.xaxis=s.xa),s.ya&&(i.yaxis=s.ya),s.zLabelVal!==void 0&&(i.z=s.zLabelVal)),L.appendArrayPointValue(i,t,n),i},L.appendArrayPointValue=function(s,t,a){var n=t._arrayAttrs;if(n)for(var i=0;i<n.length;i++){var l=n[i],o=r(l);if(s[o]===void 0){var u=_(k.nestedProperty(t,l).get(),a);u!==void 0&&(s[o]=u)}}},L.appendArrayMultiPointValues=function(s,t,a){var n=t._arrayAttrs;if(n)for(var i=0;i<n.length;i++){var l=n[i],o=r(l);if(s[o]===void 0){for(var u=k.nestedProperty(t,l).get(),h=new Array(a.length),c=0;c<a.length;c++)h[c]=_(u,a[c]);s[o]=h}}};var w={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function r(s){return w[s]||s}function _(s,t){return Array.isArray(t)?Array.isArray(s)&&Array.isArray(s[t[0]])?s[t[0]][t[1]]:void 0:s[t]}var v={x:!0,y:!0},f={"x unified":!0,"y unified":!0};L.isUnifiedHover=function(s){return typeof s=="string"&&!!f[s]},L.isXYhover=function(s){return typeof s=="string"&&!!v[s]}},83292:function(B,L,e){var k=e(33428),w=e(38248),r=e(49760),_=e(3400),v=_.strTranslate,f=_.strRotate,s=e(95924),t=e(72736),a=e(72213),n=e(43616),i=e(76308),l=e(86476),o=e(54460),u=e(24040),h=e(10624),c=e(92456),b=e(77864),d=e(31140),g=c.YANGLE,m=Math.PI*g/180,y=1/Math.sin(m),x=Math.cos(m),T=Math.sin(m),p=c.HOVERARROWSIZE,S=c.HOVERTEXTPAD,M={box:!0,ohlc:!0,violin:!0,candlestick:!0},E={scatter:!0,scattergl:!0,splom:!0};function P(X){return[X.trace.index,X.index,X.x0,X.y0,X.name,X.attr,X.xa?X.xa._id:"",X.ya?X.ya._id:""].join(",")}L.hover=function(X,J,ee,ie){X=_.getGraphDiv(X);var oe=J.target;_.throttle(X._fullLayout._uid+c.HOVERID,c.HOVERMINTIME,function(){(function(ae,ce,ge,ve,be){ge||(ge="xy");var we=Array.isArray(ge)?ge:[ge],ye=ae._fullLayout,me=ye._plots||[],Ae=me[ge],ke=ye._has("cartesian");if(Ae){var fe=Ae.overlays.map(function(Ht){return Ht.id});we=we.concat(fe)}for(var le=we.length,de=new Array(le),Ce=new Array(le),Me=!1,Le=0;Le<le;Le++){var Oe=we[Le];if(me[Oe])Me=!0,de[Le]=me[Oe].xaxis,Ce[Le]=me[Oe].yaxis;else{if(!ye[Oe]||!ye[Oe]._subplot)return void _.warn("Unrecognized subplot: "+Oe);var Be=ye[Oe]._subplot;de[Le]=Be.xaxis,Ce[Le]=Be.yaxis}}var pe=ce.hovermode||ye.hovermode;if(pe&&!Me&&(pe="closest"),["x","y","closest","x unified","y unified"].indexOf(pe)===-1||!ae.calcdata||ae.querySelector(".zoombox")||ae._dragging)return l.unhoverRaw(ae,ce);var _e=ye.hoverdistance;_e===-1&&(_e=1/0);var Te=ye.spikedistance;Te===-1&&(Te=1/0);var Re,Ne,ze,Ge,Ye,et,ut,ot,yt,wt,bt,at,rt,At=[],Rt=[],Ft={hLinePoint:null,vLinePoint:null},Dt=!1;if(Array.isArray(ce))for(pe="array",ze=0;ze<ce.length;ze++)(Ye=ae.calcdata[ce[ze].curveNumber||0])&&(et=Ye[0].trace,Ye[0].trace.hoverinfo!=="skip"&&(Rt.push(Ye),et.orientation==="h"&&(Dt=!0)));else{for(Ge=0;Ge<ae.calcdata.length;Ge++)Ye=ae.calcdata[Ge],(et=Ye[0].trace).hoverinfo!=="skip"&&h.isTraceInSubplots(et,we)&&(Rt.push(Ye),et.orientation==="h"&&(Dt=!0));var Xe,Ke;if(be){if(s.triggerHandler(ae,"plotly_beforehover",ce)===!1)return;var Ve=be.getBoundingClientRect();Xe=ce.clientX-Ve.left,Ke=ce.clientY-Ve.top,ye._calcInverseTransform(ae);var Je=_.apply3DTransform(ye._invTransform)(Xe,Ke);if(Xe=Je[0],Ke=Je[1],Xe<0||Xe>de[0]._length||Ke<0||Ke>Ce[0]._length)return l.unhoverRaw(ae,ce)}else Xe="xpx"in ce?ce.xpx:de[0]._length/2,Ke="ypx"in ce?ce.ypx:Ce[0]._length/2;if(ce.pointerX=Xe+de[0]._offset,ce.pointerY=Ke+Ce[0]._offset,Re="xval"in ce?h.flat(we,ce.xval):h.p2c(de,Xe),Ne="yval"in ce?h.flat(we,ce.yval):h.p2c(Ce,Ke),!w(Re[0])||!w(Ne[0]))return _.warn("Fx.hover failed",ce,ae),l.unhoverRaw(ae,ce)}var ct=1/0;function st(Ht,an){for(Ge=0;Ge<Rt.length;Ge++)if((Ye=Rt[Ge])&&Ye[0]&&Ye[0].trace&&(et=Ye[0].trace).visible===!0&&et._length!==0&&["carpet","contourcarpet"].indexOf(et._module.name)===-1){if(et.type==="splom"?ut=we[ot=0]:(ut=h.getSubplot(et),ot=we.indexOf(ut)),yt=pe,h.isUnifiedHover(yt)&&(yt=yt.charAt(0)),at={cd:Ye,trace:et,xa:de[ot],ya:Ce[ot],maxHoverDistance:_e,maxSpikeDistance:Te,index:!1,distance:Math.min(ct,_e),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:i.defaultLine,name:et.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},ye[ut]&&(at.subplot=ye[ut]._subplot),ye._splomScenes&&ye._splomScenes[et.uid]&&(at.scene=ye._splomScenes[et.uid]),rt=At.length,yt==="array"){var _n=ce[Ge];"pointNumber"in _n?(at.index=_n.pointNumber,yt="closest"):(yt="","xval"in _n&&(wt=_n.xval,yt="x"),"yval"in _n&&(bt=_n.yval,yt=yt?"closest":"y"))}else Ht!==void 0&&an!==void 0?(wt=Ht,bt=an):(wt=Re[ot],bt=Ne[ot]);if(_e!==0)if(et._module&&et._module.hoverPoints){var vn=et._module.hoverPoints(at,wt,bt,yt,{finiteRange:!0,hoverLayer:ye._hoverlayer});if(vn)for(var En,Yn=0;Yn<vn.length;Yn++)En=vn[Yn],w(En.x0)&&w(En.y0)&&At.push(j(En,pe))}else _.log("Unrecognized trace type in hover:",et);if(pe==="closest"&&At.length>rt&&(At.splice(0,rt),ct=At[0].distance),ke&&Te!==0&&At.length===0){at.distance=Te,at.index=!1;var Fn=et._module.hoverPoints(at,wt,bt,"closest",{hoverLayer:ye._hoverlayer});if(Fn&&(Fn=Fn.filter(function(Xt){return Xt.spikeDistance<=Te})),Fn&&Fn.length){var jn,ir=Fn.filter(function(Xt){return Xt.xa.showspikes&&Xt.xa.spikesnap!=="hovered data"});if(ir.length){var Zt=ir[0];w(Zt.x0)&&w(Zt.y0)&&(jn=Ue(Zt),(!Ft.vLinePoint||Ft.vLinePoint.spikeDistance>jn.spikeDistance)&&(Ft.vLinePoint=jn))}var mn=Fn.filter(function(Xt){return Xt.ya.showspikes&&Xt.ya.spikesnap!=="hovered data"});if(mn.length){var It=mn[0];w(It.x0)&&w(It.y0)&&(jn=Ue(It),(!Ft.hLinePoint||Ft.hLinePoint.spikeDistance>jn.spikeDistance)&&(Ft.hLinePoint=jn))}}}}}function je(Ht,an,_n){for(var vn,En=null,Yn=1/0,Fn=0;Fn<Ht.length;Fn++)vn=Ht[Fn].spikeDistance,_n&&Fn===0&&(vn=-1/0),vn<=Yn&&vn<=an&&(En=Ht[Fn],Yn=vn);return En}function Ue(Ht){return Ht?{xa:Ht.xa,ya:Ht.ya,x:Ht.xSpike!==void 0?Ht.xSpike:(Ht.x0+Ht.x1)/2,y:Ht.ySpike!==void 0?Ht.ySpike:(Ht.y0+Ht.y1)/2,distance:Ht.distance,spikeDistance:Ht.spikeDistance,curveNumber:Ht.trace.index,color:Ht.color,pointNumber:Ht.index}:null}st();var lt={fullLayout:ye,container:ye._hoverlayer,event:ce},Qe=ae._spikepoints,gt={vLinePoint:Ft.vLinePoint,hLinePoint:Ft.hLinePoint};ae._spikepoints=gt;var mt=function(){At.sort(function(Ht,an){return Ht.distance-an.distance}),At=function(Ht,an){for(var _n=an.charAt(0),vn=[],En=[],Yn=[],Fn=0;Fn<Ht.length;Fn++){var jn=Ht[Fn];u.traceIs(jn.trace,"bar-like")||u.traceIs(jn.trace,"box-violin")?Yn.push(jn):jn.trace[_n+"period"]?En.push(jn):vn.push(jn)}return vn.concat(En).concat(Yn)}(At,pe)};mt();var xt=pe.charAt(0),dt=(xt==="x"||xt==="y")&&At[0]&&E[At[0].trace.type];if(ke&&Te!==0&&At.length!==0){var Lt=je(At.filter(function(Ht){return Ht.ya.showspikes}),Te,dt);Ft.hLinePoint=Ue(Lt);var kt=je(At.filter(function(Ht){return Ht.xa.showspikes}),Te,dt);Ft.vLinePoint=Ue(kt)}if(At.length===0){var _t=l.unhoverRaw(ae,ce);return!ke||Ft.hLinePoint===null&&Ft.vLinePoint===null||F(Qe)&&W(ae,Ft,lt),_t}if(ke&&F(Qe)&&W(ae,Ft,lt),h.isXYhover(yt)&&At[0].length!==0&&At[0].trace.type!=="splom"){var Ot=At[0],Pt=(At=M[Ot.trace.type]?At.filter(function(Ht){return Ht.trace.index===Ot.trace.index}):[Ot]).length;st(H("x",Ot,ye),H("y",Ot,ye));var Bt,Jt=[],on={},qt=0,Gt=function(Ht){var an=M[Ht.trace.type]?P(Ht):Ht.trace.index;if(on[an]){var _n=on[an]-1,vn=Jt[_n];_n>0&&Math.abs(Ht.distance)<Math.abs(vn.distance)&&(Jt[_n]=Ht)}else qt++,on[an]=qt,Jt.push(Ht)};for(Bt=0;Bt<Pt;Bt++)Gt(At[Bt]);for(Bt=At.length-1;Bt>Pt-1;Bt--)Gt(At[Bt]);At=Jt,mt()}var nn=ae._hoverdata,Cn=[],An=te(ae),dn=Q(ae);for(ze=0;ze<At.length;ze++){var Kt=At[ze],un=h.makeEventData(Kt,Kt.trace,Kt.cd);if(Kt.hovertemplate!==!1){var rn=!1;Kt.cd[Kt.index]&&Kt.cd[Kt.index].ht&&(rn=Kt.cd[Kt.index].ht),Kt.hovertemplate=rn||Kt.trace.hovertemplate||!1}if(Kt.xa&&Kt.ya){var hn=Kt.x0+Kt.xa._offset,kn=Kt.x1+Kt.xa._offset,Sn=Kt.y0+Kt.ya._offset,Rn=Kt.y1+Kt.ya._offset,zn=Math.min(hn,kn),Pn=Math.max(hn,kn),Gn=Math.min(Sn,Rn),Nn=Math.max(Sn,Rn);un.bbox={x0:zn+dn,x1:Pn+dn,y0:Gn+An,y1:Nn+An}}Kt.eventData=[un],Cn.push(un)}ae._hoverdata=Cn;var or=pe==="y"&&(Rt.length>1||At.length>1)||pe==="closest"&&Dt&&At.length>1,lr=i.combine(ye.plot_bgcolor||i.background,ye.paper_bgcolor),cr=I(At,{gd:ae,hovermode:pe,rotateLabels:or,bgColor:lr,container:ye._hoverlayer,outerContainer:ye._paper.node(),commonLabelOpts:ye.hoverlabel,hoverdistance:ye.hoverdistance}),$n=cr.hoverLabels;if(h.isUnifiedHover(pe)||(function(Ht,an,_n,vn){var En,Yn,Fn,jn,ir,Zt,mn,It=an?"xa":"ya",Xt=an?"ya":"xa",tn=0,bn=1,yn=Ht.size(),Tn=new Array(yn),fn=0,$t=vn.minX,en=vn.maxX,ln=vn.minY,pn=vn.maxY,Ln=function(fr){return fr*_n._invScaleX},In=function(fr){return fr*_n._invScaleY};function Hn(fr){var gr=fr[0],sr=fr[fr.length-1];if(Yn=gr.pmin-gr.pos-gr.dp+gr.size,Fn=sr.pos+sr.dp+sr.size-gr.pmax,Yn>.01){for(ir=fr.length-1;ir>=0;ir--)fr[ir].dp+=Yn;En=!1}if(!(Fn<.01)){if(Yn<-.01){for(ir=fr.length-1;ir>=0;ir--)fr[ir].dp-=Fn;En=!1}if(En){var br=0;for(jn=0;jn<fr.length;jn++)(Zt=fr[jn]).pos+Zt.dp+Zt.size>gr.pmax&&br++;for(jn=fr.length-1;jn>=0&&!(br<=0);jn--)(Zt=fr[jn]).pos>gr.pmax-1&&(Zt.del=!0,br--);for(jn=0;jn<fr.length&&!(br<=0);jn++)if((Zt=fr[jn]).pos<gr.pmin+1)for(Zt.del=!0,br--,Fn=2*Zt.size,ir=fr.length-1;ir>=0;ir--)fr[ir].dp-=Fn;for(jn=fr.length-1;jn>=0&&!(br<=0);jn--)(Zt=fr[jn]).pos+Zt.dp+Zt.size>gr.pmax&&(Zt.del=!0,br--)}}}for(Ht.each(function(fr){var gr=fr[It],sr=fr[Xt],br=gr._id.charAt(0)==="x",Pr=gr.range;fn===0&&Pr&&Pr[0]>Pr[1]!==br&&(bn=-1);var Yr=0,ki=br?_n.width:_n.height;if(_n.hovermode==="x"||_n.hovermode==="y"){var Ai,aa,bi=U(fr,an),Ji=fr.anchor,Ba=Ji==="end"?-1:1;if(Ji==="middle")aa=(Ai=fr.crossPos+(br?In(bi.y-fr.by/2):Ln(fr.bx/2+fr.tx2width/2)))+(br?In(fr.by):Ln(fr.bx));else if(br)aa=(Ai=fr.crossPos+In(p+bi.y)-In(fr.by/2-p))+In(fr.by);else{var Na=Ln(Ba*p+bi.x),Ss=Na+Ln(Ba*fr.bx);Ai=fr.crossPos+Math.min(Na,Ss),aa=fr.crossPos+Math.max(Na,Ss)}br?ln!==void 0&&pn!==void 0&&Math.min(aa,pn)-Math.max(Ai,ln)>1&&(sr.side==="left"?(Yr=sr._mainLinePosition,ki=_n.width):ki=sr._mainLinePosition):$t!==void 0&&en!==void 0&&Math.min(aa,en)-Math.max(Ai,$t)>1&&(sr.side==="top"?(Yr=sr._mainLinePosition,ki=_n.height):ki=sr._mainLinePosition)}Tn[fn++]=[{datum:fr,traceIndex:fr.trace.index,dp:0,pos:fr.pos,posref:fr.posref,size:fr.by*(br?y:1)/2,pmin:Yr,pmax:ki}]}),Tn.sort(function(fr,gr){return fr[0].posref-gr[0].posref||bn*(gr[0].traceIndex-fr[0].traceIndex)});!En&&tn<=yn;){for(tn++,En=!0,jn=0;jn<Tn.length-1;){var qn=Tn[jn],er=Tn[jn+1],Zn=qn[qn.length-1],tr=er[0];if((Yn=Zn.pos+Zn.dp+Zn.size-tr.pos-tr.dp+tr.size)>.01&&Zn.pmin===tr.pmin&&Zn.pmax===tr.pmax){for(ir=er.length-1;ir>=0;ir--)er[ir].dp+=Yn;for(qn.push.apply(qn,er),Tn.splice(jn+1,1),mn=0,ir=qn.length-1;ir>=0;ir--)mn+=qn[ir].dp;for(Fn=mn/qn.length,ir=qn.length-1;ir>=0;ir--)qn[ir].dp-=Fn;En=!1}else jn++}Tn.forEach(Hn)}for(jn=Tn.length-1;jn>=0;jn--){var nr=Tn[jn];for(ir=nr.length-1;ir>=0;ir--){var Qn=nr[ir],yr=Qn.datum;yr.offset=Qn.dp,yr.del=Qn.del}}}($n,or,ye,cr.commonLabelBoundingBox),z($n,or,ye._invScaleX,ye._invScaleY)),be&&be.tagName){var Ar=u.getComponentMethod("annotations","hasClickToShow")(ae,Cn);a(k.select(be),Ar?"pointer":"")}be&&!ve&&function(Ht,an,_n){if(!_n||_n.length!==Ht._hoverdata.length)return!0;for(var vn=_n.length-1;vn>=0;vn--){var En=_n[vn],Yn=Ht._hoverdata[vn];if(En.curveNumber!==Yn.curveNumber||String(En.pointNumber)!==String(Yn.pointNumber)||String(En.pointNumbers)!==String(Yn.pointNumbers))return!0}return!1}(ae,0,nn)&&(nn&&ae.emit("plotly_unhover",{event:ce,points:nn}),ae.emit("plotly_hover",{event:ce,points:ae._hoverdata,xaxes:de,yaxes:Ce,xvals:Re,yvals:Ne}))})(X,J,ee,ie,oe)})},L.loneHover=function(X,J){var ee=!0;Array.isArray(X)||(ee=!1,X=[X]);var ie=J.gd,oe=te(ie),ae=Q(ie),ce=I(X.map(function(be){var we=be._x0||be.x0||be.x||0,ye=be._x1||be.x1||be.x||0,me=be._y0||be.y0||be.y||0,Ae=be._y1||be.y1||be.y||0,ke=be.eventData;if(ke){var fe=Math.min(we,ye),le=Math.max(we,ye),de=Math.min(me,Ae),Ce=Math.max(me,Ae),Me=be.trace;if(u.traceIs(Me,"gl3d")){var Le=ie._fullLayout[Me.scene]._scene.container,Oe=Le.offsetLeft,Be=Le.offsetTop;fe+=Oe,le+=Oe,de+=Be,Ce+=Be}ke.bbox={x0:fe+ae,x1:le+ae,y0:de+oe,y1:Ce+oe},J.inOut_bbox&&J.inOut_bbox.push(ke.bbox)}else ke=!1;return{color:be.color||i.defaultLine,x0:be.x0||be.x||0,x1:be.x1||be.x||0,y0:be.y0||be.y||0,y1:be.y1||be.y||0,xLabel:be.xLabel,yLabel:be.yLabel,zLabel:be.zLabel,text:be.text,name:be.name,idealAlign:be.idealAlign,borderColor:be.borderColor,fontFamily:be.fontFamily,fontSize:be.fontSize,fontColor:be.fontColor,nameLength:be.nameLength,textAlign:be.textAlign,trace:be.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:be.hovertemplate||!1,hovertemplateLabels:be.hovertemplateLabels||!1,eventData:ke}}),{gd:ie,hovermode:"closest",rotateLabels:!1,bgColor:J.bgColor||i.background,container:k.select(J.container),outerContainer:J.outerContainer||J.container}).hoverLabels,ge=0,ve=0;return ce.sort(function(be,we){return be.y0-we.y0}).each(function(be,we){var ye=be.y0-be.by/2;be.offset=ye-5<ge?ge-ye+5:0,ge=ye+be.by+be.offset,we===J.anchorIndex&&(ve=be.offset)}).each(function(be){be.offset-=ve}),z(ce,!1,ie._fullLayout._invScaleX,ie._fullLayout._invScaleY),ee?ce:ce.node()};var O=/<extra>([\s\S]*)<\/extra>/;function I(X,J){var ee=J.gd,ie=ee._fullLayout,oe=J.hovermode,ae=J.rotateLabels,ce=J.bgColor,ge=J.container,ve=J.outerContainer,be=J.commonLabelOpts||{};if(X.length===0)return[[]];var we=J.fontFamily||c.HOVERFONT,ye=J.fontSize||c.HOVERFONTSIZE,me=X[0],Ae=me.xa,ke=me.ya,fe=oe.charAt(0),le=fe+"Label",de=me[le];if(de===void 0&&Ae.type==="multicategory")for(var Ce=0;Ce<X.length&&(de=X[Ce][le])===void 0;Ce++);var Me=K(ee,ve),Le=Me.top,Oe=Me.width,Be=Me.height,pe=de!==void 0&&me.distance<=J.hoverdistance&&(oe==="x"||oe==="y");if(pe){var _e,Te,Re=!0;for(_e=0;_e<X.length;_e++)if(Re&&X[_e].zLabel===void 0&&(Re=!1),Te=X[_e].hoverinfo||X[_e].trace.hoverinfo){var Ne=Array.isArray(Te)?Te:Te.split("+");if(Ne.indexOf("all")===-1&&Ne.indexOf(oe)===-1){pe=!1;break}}Re&&(pe=!1)}var ze=ge.selectAll("g.axistext").data(pe?[0]:[]);ze.enter().append("g").classed("axistext",!0),ze.exit().remove();var Ge={minX:0,maxX:0,minY:0,maxY:0};if(ze.each(function(){var _t=k.select(this),Ot=_.ensureSingle(_t,"path","",function(Nn){Nn.style({"stroke-width":"1px"})}),Pt=_.ensureSingle(_t,"text","",function(Nn){Nn.attr("data-notex",1)}),Bt=be.bgcolor||i.defaultLine,Jt=be.bordercolor||i.contrast(Bt),on=i.contrast(Bt),qt={family:be.font.family||we,size:be.font.size||ye,color:be.font.color||on};Ot.style({fill:Bt,stroke:Jt}),Pt.text(de).call(n.font,qt).call(t.positionText,0,0).call(t.convertToTspans,ee),_t.attr("transform","");var Gt,nn,Cn=K(ee,Pt.node());if(oe==="x"){var An=Ae.side==="top"?"-":"";Pt.attr("text-anchor","middle").call(t.positionText,0,Ae.side==="top"?Le-Cn.bottom-p-S:Le-Cn.top+p+S),Gt=Ae._offset+(me.x0+me.x1)/2,nn=ke._offset+(Ae.side==="top"?0:ke._length);var dn=Cn.width/2+S,Kt=Gt;Gt<dn?Kt=dn:Gt>ie.width-dn&&(Kt=ie.width-dn),Ot.attr("d","M"+(Gt-Kt)+",0L"+(Gt-Kt+p)+","+An+p+"H"+dn+"v"+An+(2*S+Cn.height)+"H"+-dn+"V"+An+p+"H"+(Gt-Kt-p)+"Z"),Gt=Kt,Ge.minX=Gt-dn,Ge.maxX=Gt+dn,Ae.side==="top"?(Ge.minY=nn-(2*S+Cn.height),Ge.maxY=nn-S):(Ge.minY=nn+S,Ge.maxY=nn+(2*S+Cn.height))}else{var un,rn,hn;ke.side==="right"?(un="start",rn=1,hn="",Gt=Ae._offset+Ae._length):(un="end",rn=-1,hn="-",Gt=Ae._offset),nn=ke._offset+(me.y0+me.y1)/2,Pt.attr("text-anchor",un),Ot.attr("d","M0,0L"+hn+p+","+p+"V"+(S+Cn.height/2)+"h"+hn+(2*S+Cn.width)+"V-"+(S+Cn.height/2)+"H"+hn+p+"V-"+p+"Z"),Ge.minY=nn-(S+Cn.height/2),Ge.maxY=nn+(S+Cn.height/2),ke.side==="right"?(Ge.minX=Gt+p,Ge.maxX=Gt+p+(2*S+Cn.width)):(Ge.minX=Gt-p-(2*S+Cn.width),Ge.maxX=Gt-p);var kn,Sn=Cn.height/2,Rn=Le-Cn.top-Sn,zn="clip"+ie._uid+"commonlabel"+ke._id;if(Gt<Cn.width+2*S+p){kn="M-"+(p+S)+"-"+Sn+"h-"+(Cn.width-S)+"V"+Sn+"h"+(Cn.width-S)+"Z";var Pn=Cn.width-Gt+S;t.positionText(Pt,Pn,Rn),un==="end"&&Pt.selectAll("tspan").each(function(){var Nn=k.select(this),or=n.tester.append("text").text(Nn.text()).call(n.font,qt),lr=K(ee,or.node());Math.round(lr.width)<Math.round(Cn.width)&&Nn.attr("x",Pn-lr.width),or.remove()})}else t.positionText(Pt,rn*(S+p),Rn),kn=null;var Gn=ie._topclips.selectAll("#"+zn).data(kn?[0]:[]);Gn.enter().append("clipPath").attr("id",zn).append("path"),Gn.exit().remove(),Gn.select("path").attr("d",kn),n.setClipUrl(Pt,kn?zn:null,ee)}_t.attr("transform",v(Gt,nn))}),h.isUnifiedHover(oe)){ge.selectAll("g.hovertext").remove();var Ye=X.filter(function(_t){return _t.hoverinfo!=="none"});if(Ye.length===0)return[];var et=ie.hoverlabel,ut=et.font,ot={showlegend:!0,legend:{title:{text:de,font:ut},font:ut,bgcolor:et.bgcolor,bordercolor:et.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ie.legend?ie.legend.traceorder:void 0,orientation:"v"}},yt={font:ut};b(ot,yt,ee._fullData);var wt=yt.legend;wt.entries=[];for(var bt=0;bt<Ye.length;bt++){var at=Ye[bt];if(at.hoverinfo!=="none"){var rt=R(at,!0,oe,ie,de),At=rt[0],Rt=rt[1];at.name=Rt,at.text=Rt!==""?Rt+" : "+At:At;var Ft=at.cd[at.index];Ft&&(Ft.mc&&(at.mc=Ft.mc),Ft.mcc&&(at.mc=Ft.mcc),Ft.mlc&&(at.mlc=Ft.mlc),Ft.mlcc&&(at.mlc=Ft.mlcc),Ft.mlw&&(at.mlw=Ft.mlw),Ft.mrc&&(at.mrc=Ft.mrc),Ft.dir&&(at.dir=Ft.dir)),at._distinct=!0,wt.entries.push([at])}}wt.entries.sort(function(_t,Ot){return _t[0].trace.index-Ot[0].trace.index}),wt.layer=ge,wt._inHover=!0,wt._groupTitleFont=et.grouptitlefont,d(ee,wt);var Dt,Xe,Ke,Ve,Je=ge.select("g.legend"),ct=K(ee,Je.node()),st=ct.width+2*S,je=ct.height+2*S,Ue=Ye[0],lt=(Ue.x0+Ue.x1)/2,Qe=(Ue.y0+Ue.y1)/2,gt=!(u.traceIs(Ue.trace,"bar-like")||u.traceIs(Ue.trace,"box-violin"));fe==="y"?gt?(Xe=Qe-S,Dt=Qe+S):(Xe=Math.min.apply(null,Ye.map(function(_t){return Math.min(_t.y0,_t.y1)})),Dt=Math.max.apply(null,Ye.map(function(_t){return Math.max(_t.y0,_t.y1)}))):Xe=Dt=_.mean(Ye.map(function(_t){return(_t.y0+_t.y1)/2}))-je/2,fe==="x"?gt?(Ke=lt+S,Ve=lt-S):(Ke=Math.max.apply(null,Ye.map(function(_t){return Math.max(_t.x0,_t.x1)})),Ve=Math.min.apply(null,Ye.map(function(_t){return Math.min(_t.x0,_t.x1)}))):Ke=Ve=_.mean(Ye.map(function(_t){return(_t.x0+_t.x1)/2}))-st/2;var mt,xt,dt=Ae._offset,Lt=ke._offset;return Ve+=dt-st,Xe+=Lt-je,mt=(Ke+=dt)+st<Oe&&Ke>=0?Ke:Ve+st<Oe&&Ve>=0?Ve:dt+st<Oe?dt:Ke-lt<lt-Ve+st?Oe-st:0,mt+=S,xt=(Dt+=Lt)+je<Be&&Dt>=0?Dt:Xe+je<Be&&Xe>=0?Xe:Lt+je<Be?Lt:Dt-Qe<Qe-Xe+je?Be-je:0,xt+=S,Je.attr("transform",v(mt-1,xt-1)),Je}var kt=ge.selectAll("g.hovertext").data(X,function(_t){return P(_t)});return kt.enter().append("g").classed("hovertext",!0).each(function(){var _t=k.select(this);_t.append("rect").call(i.fill,i.addOpacity(ce,.8)),_t.append("text").classed("name",!0),_t.append("path").style("stroke-width","1px"),_t.append("text").classed("nums",!0).call(n.font,we,ye)}),kt.exit().remove(),kt.each(function(_t){var Ot=k.select(this).attr("transform",""),Pt=_t.color;Array.isArray(Pt)&&(Pt=Pt[_t.eventData[0].pointNumber]);var Bt=_t.bgcolor||Pt,Jt=i.combine(i.opacity(Bt)?Bt:i.defaultLine,ce),on=i.combine(i.opacity(Pt)?Pt:i.defaultLine,ce),qt=_t.borderColor||i.contrast(Jt),Gt=R(_t,pe,oe,ie,de,Ot),nn=Gt[0],Cn=Gt[1],An=Ot.select("text.nums").call(n.font,_t.fontFamily||we,_t.fontSize||ye,_t.fontColor||qt).text(nn).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,ee),dn=Ot.select("text.name"),Kt=0,un=0;if(Cn&&Cn!==nn){dn.call(n.font,_t.fontFamily||we,_t.fontSize||ye,on).text(Cn).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,ee);var rn=K(ee,dn.node());Kt=rn.width+2*S,un=rn.height+2*S}else dn.remove(),Ot.select("rect").remove();Ot.select("path").style({fill:Jt,stroke:qt});var hn=_t.xa._offset+(_t.x0+_t.x1)/2,kn=_t.ya._offset+(_t.y0+_t.y1)/2,Sn=Math.abs(_t.x1-_t.x0),Rn=Math.abs(_t.y1-_t.y0),zn=K(ee,An.node()),Pn=zn.width/ie._invScaleX,Gn=zn.height/ie._invScaleY;_t.ty0=(Le-zn.top)/ie._invScaleY,_t.bx=Pn+2*S,_t.by=Math.max(Gn+2*S,un),_t.anchor="start",_t.txwidth=Pn,_t.tx2width=Kt,_t.offset=0;var Nn,or,lr=(Pn+p+S+Kt)*ie._invScaleX;if(ae)_t.pos=hn,Nn=kn+Rn/2+lr<=Be,or=kn-Rn/2-lr>=0,_t.idealAlign!=="top"&&Nn||!or?Nn?(kn+=Rn/2,_t.anchor="start"):_t.anchor="middle":(kn-=Rn/2,_t.anchor="end"),_t.crossPos=kn;else{if(_t.pos=kn,Nn=hn+Sn/2+lr<=Oe,or=hn-Sn/2-lr>=0,_t.idealAlign!=="left"&&Nn||!or)if(Nn)hn+=Sn/2,_t.anchor="start";else{_t.anchor="middle";var cr=lr/2,$n=hn+cr-Oe,Ar=hn-cr;$n>0&&(hn-=$n),Ar<0&&(hn+=-Ar)}else hn-=Sn/2,_t.anchor="end";_t.crossPos=hn}An.attr("text-anchor",_t.anchor),Kt&&dn.attr("text-anchor",_t.anchor),Ot.attr("transform",v(hn,kn)+(ae?f(g):""))}),{hoverLabels:kt,commonLabelBoundingBox:Ge}}function R(X,J,ee,ie,oe,ae){var ce="",ge="";X.nameOverride!==void 0&&(X.name=X.nameOverride),X.name&&(X.trace._meta&&(X.name=_.templateString(X.name,X.trace._meta)),ce=V(X.name,X.nameLength));var ve=ee.charAt(0),be=ve==="x"?"y":"x";X.zLabel!==void 0?(X.xLabel!==void 0&&(ge+="x: "+X.xLabel+"<br>"),X.yLabel!==void 0&&(ge+="y: "+X.yLabel+"<br>"),X.trace.type!=="choropleth"&&X.trace.type!=="choroplethmapbox"&&(ge+=(ge?"z: ":"")+X.zLabel)):J&&X[ve+"Label"]===oe?ge=X[be+"Label"]||"":X.xLabel===void 0?X.yLabel!==void 0&&X.trace.type!=="scattercarpet"&&(ge=X.yLabel):ge=X.yLabel===void 0?X.xLabel:"("+X.xLabel+", "+X.yLabel+")",!X.text&&X.text!==0||Array.isArray(X.text)||(ge+=(ge?"<br>":"")+X.text),X.extraText!==void 0&&(ge+=(ge?"<br>":"")+X.extraText),ae&&ge===""&&!X.hovertemplate&&(ce===""&&ae.remove(),ge=ce);var we=X.hovertemplate||!1;if(we){var ye=X.hovertemplateLabels||X;X[ve+"Label"]!==oe&&(ye[ve+"other"]=ye[ve+"Val"],ye[ve+"otherLabel"]=ye[ve+"Label"]),ge=(ge=_.hovertemplateString(we,ye,ie._d3locale,X.eventData[0]||{},X.trace._meta)).replace(O,function(me,Ae){return ce=V(Ae,X.nameLength),""})}return[ge,ce]}function U(X,J){var ee=0,ie=X.offset;return J&&(ie*=-T,ee=X.offset*x),{x:ee,y:ie}}function z(X,J,ee,ie){var oe=function(ce){return ce*ee},ae=function(ce){return ce*ie};X.each(function(ce){var ge=k.select(this);if(ce.del)return ge.remove();var ve,be,we,ye,me=ge.select("text.nums"),Ae=ce.anchor,ke=Ae==="end"?-1:1,fe=(ye=(we=(be={start:1,end:-1,middle:0}[(ve=ce).anchor])*(p+S))+be*(ve.txwidth+S),ve.anchor==="middle"&&(we-=ve.tx2width/2,ye+=ve.txwidth/2+S),{alignShift:be,textShiftX:we,text2ShiftX:ye}),le=U(ce,J),de=le.x,Ce=le.y,Me=Ae==="middle";ge.select("path").attr("d",Me?"M-"+oe(ce.bx/2+ce.tx2width/2)+","+ae(Ce-ce.by/2)+"h"+oe(ce.bx)+"v"+ae(ce.by)+"h-"+oe(ce.bx)+"Z":"M0,0L"+oe(ke*p+de)+","+ae(p+Ce)+"v"+ae(ce.by/2-p)+"h"+oe(ke*ce.bx)+"v-"+ae(ce.by)+"H"+oe(ke*p+de)+"V"+ae(Ce-p)+"Z");var Le=de+fe.textShiftX,Oe=Ce+ce.ty0-ce.by/2+S,Be=ce.textAlign||"auto";Be!=="auto"&&(Be==="left"&&Ae!=="start"?(me.attr("text-anchor","start"),Le=Me?-ce.bx/2-ce.tx2width/2+S:-ce.bx-S):Be==="right"&&Ae!=="end"&&(me.attr("text-anchor","end"),Le=Me?ce.bx/2-ce.tx2width/2-S:ce.bx+S)),me.call(t.positionText,oe(Le),ae(Oe)),ce.tx2width&&(ge.select("text.name").call(t.positionText,oe(fe.text2ShiftX+fe.alignShift*S+de),ae(Ce+ce.ty0-ce.by/2+S)),ge.select("rect").call(n.setRect,oe(fe.text2ShiftX+(fe.alignShift-1)*ce.tx2width/2+de),ae(Ce-ce.by/2-1),oe(ce.tx2width),ae(ce.by+2)))})}function j(X,J){var ee=X.index,ie=X.trace||{},oe=X.cd[0],ae=X.cd[ee]||{};function ce(me){return me||w(me)&&me===0}var ge=Array.isArray(ee)?function(me,Ae){var ke=_.castOption(oe,ee,me);return ce(ke)?ke:_.extractOption({},ie,"",Ae)}:function(me,Ae){return _.extractOption(ae,ie,me,Ae)};function ve(me,Ae,ke){var fe=ge(Ae,ke);ce(fe)&&(X[me]=fe)}if(ve("hoverinfo","hi","hoverinfo"),ve("bgcolor","hbg","hoverlabel.bgcolor"),ve("borderColor","hbc","hoverlabel.bordercolor"),ve("fontFamily","htf","hoverlabel.font.family"),ve("fontSize","hts","hoverlabel.font.size"),ve("fontColor","htc","hoverlabel.font.color"),ve("nameLength","hnl","hoverlabel.namelength"),ve("textAlign","hta","hoverlabel.align"),X.posref=J==="y"||J==="closest"&&ie.orientation==="h"?X.xa._offset+(X.x0+X.x1)/2:X.ya._offset+(X.y0+X.y1)/2,X.x0=_.constrain(X.x0,0,X.xa._length),X.x1=_.constrain(X.x1,0,X.xa._length),X.y0=_.constrain(X.y0,0,X.ya._length),X.y1=_.constrain(X.y1,0,X.ya._length),X.xLabelVal!==void 0&&(X.xLabel="xLabel"in X?X.xLabel:o.hoverLabelText(X.xa,X.xLabelVal,ie.xhoverformat),X.xVal=X.xa.c2d(X.xLabelVal)),X.yLabelVal!==void 0&&(X.yLabel="yLabel"in X?X.yLabel:o.hoverLabelText(X.ya,X.yLabelVal,ie.yhoverformat),X.yVal=X.ya.c2d(X.yLabelVal)),X.zLabelVal!==void 0&&X.zLabel===void 0&&(X.zLabel=String(X.zLabelVal)),!(isNaN(X.xerr)||X.xa.type==="log"&&X.xerr<=0)){var be=o.tickText(X.xa,X.xa.c2l(X.xerr),"hover").text;X.xerrneg!==void 0?X.xLabel+=" +"+be+" / -"+o.tickText(X.xa,X.xa.c2l(X.xerrneg),"hover").text:X.xLabel+="  "+be,J==="x"&&(X.distance+=1)}if(!(isNaN(X.yerr)||X.ya.type==="log"&&X.yerr<=0)){var we=o.tickText(X.ya,X.ya.c2l(X.yerr),"hover").text;X.yerrneg!==void 0?X.yLabel+=" +"+we+" / -"+o.tickText(X.ya,X.ya.c2l(X.yerrneg),"hover").text:X.yLabel+="  "+we,J==="y"&&(X.distance+=1)}var ye=X.hoverinfo||X.trace.hoverinfo;return ye&&ye!=="all"&&((ye=Array.isArray(ye)?ye:ye.split("+")).indexOf("x")===-1&&(X.xLabel=void 0),ye.indexOf("y")===-1&&(X.yLabel=void 0),ye.indexOf("z")===-1&&(X.zLabel=void 0),ye.indexOf("text")===-1&&(X.text=void 0),ye.indexOf("name")===-1&&(X.name=void 0)),X}function W(X,J,ee){var ie,oe,ae=ee.container,ce=ee.fullLayout,ge=ce._size,ve=ee.event,be=!!J.hLinePoint,we=!!J.vLinePoint;if(ae.selectAll(".spikeline").remove(),we||be){var ye=i.combine(ce.plot_bgcolor,ce.paper_bgcolor);if(be){var me,Ae,ke=J.hLinePoint;ie=ke&&ke.xa,(oe=ke&&ke.ya).spikesnap==="cursor"?(me=ve.pointerX,Ae=ve.pointerY):(me=ie._offset+ke.x,Ae=oe._offset+ke.y);var fe,le,de=r.readability(ke.color,ye)<1.5?i.contrast(ye):ke.color,Ce=oe.spikemode,Me=oe.spikethickness,Le=oe.spikecolor||de,Oe=o.getPxPosition(X,oe);if(Ce.indexOf("toaxis")!==-1||Ce.indexOf("across")!==-1){if(Ce.indexOf("toaxis")!==-1&&(fe=Oe,le=me),Ce.indexOf("across")!==-1){var Be=oe._counterDomainMin,pe=oe._counterDomainMax;oe.anchor==="free"&&(Be=Math.min(Be,oe.position),pe=Math.max(pe,oe.position)),fe=ge.l+Be*ge.w,le=ge.l+pe*ge.w}ae.insert("line",":first-child").attr({x1:fe,x2:le,y1:Ae,y2:Ae,"stroke-width":Me,stroke:Le,"stroke-dasharray":n.dashStyle(oe.spikedash,Me)}).classed("spikeline",!0).classed("crisp",!0),ae.insert("line",":first-child").attr({x1:fe,x2:le,y1:Ae,y2:Ae,"stroke-width":Me+2,stroke:ye}).classed("spikeline",!0).classed("crisp",!0)}Ce.indexOf("marker")!==-1&&ae.insert("circle",":first-child").attr({cx:Oe+(oe.side!=="right"?Me:-Me),cy:Ae,r:Me,fill:Le}).classed("spikeline",!0)}if(we){var _e,Te,Re=J.vLinePoint;ie=Re&&Re.xa,oe=Re&&Re.ya,ie.spikesnap==="cursor"?(_e=ve.pointerX,Te=ve.pointerY):(_e=ie._offset+Re.x,Te=oe._offset+Re.y);var Ne,ze,Ge=r.readability(Re.color,ye)<1.5?i.contrast(ye):Re.color,Ye=ie.spikemode,et=ie.spikethickness,ut=ie.spikecolor||Ge,ot=o.getPxPosition(X,ie);if(Ye.indexOf("toaxis")!==-1||Ye.indexOf("across")!==-1){if(Ye.indexOf("toaxis")!==-1&&(Ne=ot,ze=Te),Ye.indexOf("across")!==-1){var yt=ie._counterDomainMin,wt=ie._counterDomainMax;ie.anchor==="free"&&(yt=Math.min(yt,ie.position),wt=Math.max(wt,ie.position)),Ne=ge.t+(1-wt)*ge.h,ze=ge.t+(1-yt)*ge.h}ae.insert("line",":first-child").attr({x1:_e,x2:_e,y1:Ne,y2:ze,"stroke-width":et,stroke:ut,"stroke-dasharray":n.dashStyle(ie.spikedash,et)}).classed("spikeline",!0).classed("crisp",!0),ae.insert("line",":first-child").attr({x1:_e,x2:_e,y1:Ne,y2:ze,"stroke-width":et+2,stroke:ye}).classed("spikeline",!0).classed("crisp",!0)}Ye.indexOf("marker")!==-1&&ae.insert("circle",":first-child").attr({cx:_e,cy:ot-(ie.side!=="top"?et:-et),r:et,fill:ut}).classed("spikeline",!0)}}}function F(X,J){return!J||J.vLinePoint!==X._spikepoints.vLinePoint||J.hLinePoint!==X._spikepoints.hLinePoint}function V(X,J){return t.plainText(X||"",{len:J,allowedTags:["br","sub","sup","b","i","em"]})}function H(X,J,ee){var ie=J[X+"a"],oe=J[X+"Val"],ae=J.cd[0];if(ie.type==="category"||ie.type==="multicategory")oe=ie._categoriesMap[oe];else if(ie.type==="date"){var ce=J.trace[X+"periodalignment"];if(ce){var ge=J.cd[J.index],ve=ge[X+"Start"];ve===void 0&&(ve=ge[X]);var be=ge[X+"End"];be===void 0&&(be=ge[X]);var we=be-ve;ce==="end"?oe+=we:ce==="middle"&&(oe+=we/2)}oe=ie.d2c(oe)}return ae&&ae.t&&ae.t.posLetter===ie._id&&(ee.boxmode!=="group"&&ee.violinmode!=="group"||(oe+=ae.t.dPos)),oe}function te(X){return X.offsetTop+X.clientTop}function Q(X){return X.offsetLeft+X.clientLeft}function K(X,J){var ee=X._fullLayout,ie=J.getBoundingClientRect(),oe=ie.left,ae=ie.top,ce=oe+ie.width,ge=ae+ie.height,ve=_.apply3DTransform(ee._invTransform)(oe,ae),be=_.apply3DTransform(ee._invTransform)(ce,ge),we=ve[0],ye=ve[1],me=be[0],Ae=be[1];return{x:we,y:ye,width:me-we,height:Ae-ye,top:Math.min(ye,Ae),left:Math.min(we,me),right:Math.max(we,me),bottom:Math.max(ye,Ae)}}},16132:function(B,L,e){var k=e(3400),w=e(76308),r=e(10624).isUnifiedHover;B.exports=function(_,v,f,s){s=s||{};var t=v.legend;function a(n){s.font[n]||(s.font[n]=t?v.legend.font[n]:v.font[n])}v&&r(v.hovermode)&&(s.font||(s.font={}),a("size"),a("family"),a("color"),t?(s.bgcolor||(s.bgcolor=w.combine(v.legend.bgcolor,v.paper_bgcolor)),s.bordercolor||(s.bordercolor=v.legend.bordercolor)):s.bgcolor||(s.bgcolor=v.paper_bgcolor)),f("hoverlabel.bgcolor",s.bgcolor),f("hoverlabel.bordercolor",s.bordercolor),f("hoverlabel.namelength",s.namelength),k.coerceFont(f,"hoverlabel.font",s.font),f("hoverlabel.align",s.align)}},41008:function(B,L,e){var k=e(3400),w=e(65460);B.exports=function(r,_){function v(f,s){return _[f]!==void 0?_[f]:k.coerce(r,_,w,f,s)}return v("clickmode"),v("hovermode")}},93024:function(B,L,e){var k=e(33428),w=e(3400),r=e(86476),_=e(10624),v=e(65460),f=e(83292);B.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:v},attributes:e(55756),layoutAttributes:v,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:_.getDistanceFunction,getClosest:_.getClosest,inbox:_.inbox,quadrature:_.quadrature,appendArrayPointValue:_.appendArrayPointValue,castHoverOption:function(s,t,a){return w.castOption(s,t,"hoverlabel."+a)},castHoverinfo:function(s,t,a){return w.castOption(s,a,"hoverinfo",function(n){return w.coerceHoverinfo({hoverinfo:n},{_module:s._module},t)})},hover:f.hover,unhover:r.unhover,loneHover:f.loneHover,loneUnhover:function(s){var t=w.isD3Selection(s)?s:k.select(s);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:e(62376)}},65460:function(B,L,e){var k=e(92456),w=e(25376),r=w({editType:"none"});r.family.dflt=k.HOVERFONT,r.size.dflt=k.HOVERFONTSIZE,B.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:r,grouptitlefont:w({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(B,L,e){var k=e(3400),w=e(65460),r=e(41008),_=e(16132);B.exports=function(v,f){function s(i,l){return k.coerce(v,f,w,i,l)}r(v,f)&&(s("hoverdistance"),s("spikedistance")),s("dragmode")==="select"&&s("selectdirection");var t=f._has("mapbox"),a=f._has("geo"),n=f._basePlotModules.length;f.dragmode==="zoom"&&((t||a)&&n===1||t&&a&&n===2)&&(f.dragmode="pan"),_(v,f,s),k.coerceFont(s,"hoverlabel.grouptitlefont",f.hoverlabel.font)}},81976:function(B,L,e){var k=e(3400),w=e(16132),r=e(65460);B.exports=function(_,v){w(_,v,function(f,s){return k.coerce(_,v,r,f,s)})}},12704:function(B,L,e){var k=e(3400),w=e(53756).counter,r=e(86968).u,_=e(33816).idRegex,v=e(31780),f={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[w("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[_.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[_.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:r({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function s(n,i,l){var o=i[l+"axes"],u=Object.keys((n._splomAxes||{})[l]||{});return Array.isArray(o)?o:u.length?u:void 0}function t(n,i,l,o,u,h){var c=i(n+"gap",l),b=i("domain."+n);i(n+"side",o);for(var d=new Array(u),g=b[0],m=(b[1]-g)/(u-c),y=m*(1-c),x=0;x<u;x++){var T=g+m*x;d[h?u-1-x:x]=[T,T+y]}return d}function a(n,i,l,o,u){var h,c=new Array(l);function b(d,g){i.indexOf(g)!==-1&&o[g]===void 0?(c[d]=g,o[g]=d):c[d]=""}if(Array.isArray(n))for(h=0;h<l;h++)b(h,n[h]);else for(b(0,u),h=1;h<l;h++)b(h,u+(h+1));return c}B.exports={moduleType:"component",name:"grid",schema:{layout:{grid:f}},layoutAttributes:f,sizeDefaults:function(n,i){var l=n.grid||{},o=s(i,l,"x"),u=s(i,l,"y");if(n.grid||o||u){var h,c,b=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),d=Array.isArray(o),g=Array.isArray(u),m=d&&o!==l.xaxes&&g&&u!==l.yaxes;b?(h=l.subplots.length,c=l.subplots[0].length):(g&&(h=u.length),d&&(c=o.length));var y=v.newContainer(i,"grid"),x=O("rows",h),T=O("columns",c);if(x*T>1){b||d||g||O("pattern")==="independent"&&(b=!0),y._hasSubplotGrid=b;var p,S,M=O("roworder")==="top to bottom",E=b?.2:.1,P=b?.3:.1;m&&i._splomGridDflt&&(p=i._splomGridDflt.xside,S=i._splomGridDflt.yside),y._domains={x:t("x",O,E,p,T),y:t("y",O,P,S,x,M)}}else delete i.grid}function O(I,R){return k.coerce(l,y,f,I,R)}},contentDefaults:function(n,i){var l=i.grid;if(l&&l._domains){var o,u,h,c,b,d,g,m=n.grid||{},y=i._subplots,x=l._hasSubplotGrid,T=l.rows,p=l.columns,S=l.pattern==="independent",M=l._axisMap={};if(x){var E=m.subplots||[];d=l.subplots=new Array(T);var P=1;for(o=0;o<T;o++){var O=d[o]=new Array(p),I=E[o]||[];for(u=0;u<p;u++)if(S?(b=P===1?"xy":"x"+P+"y"+P,P++):b=I[u],O[u]="",y.cartesian.indexOf(b)!==-1){if(g=b.indexOf("y"),h=b.slice(0,g),c=b.slice(g),M[h]!==void 0&&M[h]!==u||M[c]!==void 0&&M[c]!==o)continue;O[u]=b,M[h]=u,M[c]=o}}}else{var R=s(i,m,"x"),U=s(i,m,"y");l.xaxes=a(R,y.xaxis,p,M,"x"),l.yaxes=a(U,y.yaxis,T,M,"y")}var z=l._anchors={},j=l.roworder==="top to bottom";for(var W in M){var F,V,H,te=W.charAt(0),Q=l[te+"side"];if(Q.length<8)z[W]="free";else if(te==="x"){if(Q.charAt(0)==="t"===j?(F=0,V=1,H=T):(F=T-1,V=-1,H=-1),x){var K=M[W];for(o=F;o!==H;o+=V)if((b=d[o][K])&&(g=b.indexOf("y"),b.slice(0,g)===W)){z[W]=b.slice(g);break}}else for(o=F;o!==H;o+=V)if(c=l.yaxes[o],y.cartesian.indexOf(W+c)!==-1){z[W]=c;break}}else if(Q.charAt(0)==="l"?(F=0,V=1,H=p):(F=p-1,V=-1,H=-1),x){var X=M[W];for(o=F;o!==H;o+=V)if((b=d[X][o])&&(g=b.indexOf("y"),b.slice(g)===W)){z[W]=b.slice(0,g);break}}else for(o=F;o!==H;o+=V)if(h=l.xaxes[o],y.cartesian.indexOf(h+W)!==-1){z[W]=h;break}}}}}},65760:function(B,L,e){var k=e(33816),w=e(31780).templatedArray;e(36208),B.exports=w("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",k.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",k.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(B,L,e){var k=e(38248),w=e(36896);B.exports=function(r,_,v,f){_=_||{};var s=v==="log"&&_.type==="linear",t=v==="linear"&&_.type==="log";if(s||t){for(var a,n,i=r._fullLayout.images,l=_._id.charAt(0),o=0;o<i.length;o++)if(n="images["+o+"].",(a=i[o])[l+"ref"]===_._id){var u=a[l],h=a["size"+l],c=null,b=null;if(s){c=w(u,_.range);var d=h/Math.pow(10,c)/2;b=2*Math.log(d+Math.sqrt(1+d*d))/Math.LN10}else b=(c=Math.pow(10,u))*(Math.pow(10,h/2)-Math.pow(10,-h/2));k(c)?k(b)||(b=null):(c=null,b=null),f(n+l,c),f(n+"size"+l,b)}}}},25024:function(B,L,e){var k=e(3400),w=e(54460),r=e(51272),_=e(65760);function v(f,s,t){function a(c,b){return k.coerce(f,s,_,c,b)}var n=a("source");if(!a("visible",!!n))return s;a("layer"),a("xanchor"),a("yanchor"),a("sizex"),a("sizey"),a("sizing"),a("opacity");for(var i={_fullLayout:t},l=["x","y"],o=0;o<2;o++){var u=l[o],h=w.coerceRef(f,s,i,u,"paper",void 0);h!=="paper"&&w.getFromId(i,h)._imgIndices.push(s._index),w.coercePosition(s,i,a,h,u,0)}return s}B.exports=function(f,s){r(f,s,{name:"images",handleItemDefaults:v})}},60963:function(B,L,e){var k=e(33428),w=e(43616),r=e(54460),_=e(79811),v=e(9616);B.exports=function(f){var s,t,a=f._fullLayout,n=[],i={},l=[];for(t=0;t<a.images.length;t++){var o=a.images[t];if(o.visible)if(o.layer==="below"&&o.xref!=="paper"&&o.yref!=="paper"){s=_.ref2id(o.xref)+_.ref2id(o.yref);var u=a._plots[s];if(!u){l.push(o);continue}u.mainplot&&(s=u.mainplot.id),i[s]||(i[s]=[]),i[s].push(o)}else o.layer==="above"?n.push(o):l.push(o)}var h={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},c={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function b(p){var S=k.select(this);if(this._imgSrc!==p.source)if(S.attr("xmlns",v.svg),p.source&&p.source.slice(0,5)==="data:")S.attr("xlink:href",p.source),this._imgSrc=p.source;else{var M=new Promise((function(E){var P=new Image;function O(){S.remove(),E()}this.img=P,P.setAttribute("crossOrigin","anonymous"),P.onerror=O,P.onload=function(){var I=document.createElement("canvas");I.width=this.width,I.height=this.height,I.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var R=I.toDataURL("image/png");S.attr("xlink:href",R),E()},S.on("error",O),P.src=p.source,this._imgSrc=p.source}).bind(this));f._promises.push(M)}}function d(p){var S,M,E=k.select(this),P=r.getFromId(f,p.xref),O=r.getFromId(f,p.yref),I=r.getRefType(p.xref)==="domain",R=r.getRefType(p.yref)==="domain",U=a._size;S=P!==void 0?typeof p.xref=="string"&&I?P._length*p.sizex:Math.abs(P.l2p(p.sizex)-P.l2p(0)):p.sizex*U.w,M=O!==void 0?typeof p.yref=="string"&&R?O._length*p.sizey:Math.abs(O.l2p(p.sizey)-O.l2p(0)):p.sizey*U.h;var z,j,W=S*h[p.xanchor].offset,F=M*c[p.yanchor].offset,V=h[p.xanchor].sizing+c[p.yanchor].sizing;switch(z=P!==void 0?typeof p.xref=="string"&&I?P._length*p.x+P._offset:P.r2p(p.x)+P._offset:p.x*U.w+U.l,z+=W,j=O!==void 0?typeof p.yref=="string"&&R?O._length*(1-p.y)+O._offset:O.r2p(p.y)+O._offset:U.h-p.y*U.h+U.t,j+=F,p.sizing){case"fill":V+=" slice";break;case"stretch":V="none"}E.attr({x:z,y:j,width:S,height:M,preserveAspectRatio:V,opacity:p.opacity});var H=(P&&r.getRefType(p.xref)!=="domain"?P._id:"")+(O&&r.getRefType(p.yref)!=="domain"?O._id:"");w.setClipUrl(E,H?"clip"+a._uid+H:null,f)}var g=a._imageLowerLayer.selectAll("image").data(l),m=a._imageUpperLayer.selectAll("image").data(n);g.enter().append("image"),m.enter().append("image"),g.exit().remove(),m.exit().remove(),g.each(function(p){b.bind(this)(p),d.bind(this)(p)}),m.each(function(p){b.bind(this)(p),d.bind(this)(p)});var y=Object.keys(a._plots);for(t=0;t<y.length;t++){s=y[t];var x=a._plots[s];if(x.imagelayer){var T=x.imagelayer.selectAll("image").data(i[s]||[]);T.enter().append("image"),T.exit().remove(),T.each(function(p){b.bind(this)(p),d.bind(this)(p)})}}}},7402:function(B,L,e){B.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(B,L,e){var k=e(25376),w=e(22548);B.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:w.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:k({editType:"legend"}),grouptitlefont:k({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:k({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(B){B.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(B,L,e){var k=e(24040),w=e(3400),r=e(31780),_=e(45464),v=e(3800),f=e(64859),s=e(42451);function t(a,n,i,l){var o=n[a]||{},u=r.newContainer(i,a);function h(V,H){return w.coerce(o,u,v,V,H)}var c=w.coerceFont(h,"font",i.font);if(h("bgcolor",i.paper_bgcolor),h("bordercolor"),h("visible")){for(var b,d=function(V,H){var te=b._input,Q=b;return w.coerce(te,Q,_,V,H)},g=i.font||{},m=w.coerceFont(h,"grouptitlefont",w.extendFlat({},g,{size:Math.round(1.1*g.size)})),y=0,x=!1,T="normal",p=(i.shapes||[]).filter(function(V){return V.showlegend}),S=l.concat(p).filter(function(V){return a===(V.legend||"legend")}),M=0;M<S.length;M++)if((b=S[M]).visible){var E=b._isShape;(b.showlegend||b._dfltShowLegend&&!(b._module&&b._module.attributes&&b._module.attributes.showlegend&&b._module.attributes.showlegend.dflt===!1))&&(y++,b.showlegend&&(x=!0,(!E&&k.traceIs(b,"pie-like")||b._input.showlegend===!0)&&y++),w.coerceFont(d,"legendgrouptitle.font",m)),(!E&&k.traceIs(b,"bar")&&i.barmode==="stack"||["tonextx","tonexty"].indexOf(b.fill)!==-1)&&(T=s.isGrouped({traceorder:T})?"grouped+reversed":"reversed"),b.legendgroup!==void 0&&b.legendgroup!==""&&(T=s.isReversed({traceorder:T})?"reversed+grouped":"grouped")}var P=w.coerce(n,i,f,"showlegend",x&&y>(a==="legend"?1:0));if(P===!1&&(i[a]=void 0),(P!==!1||o.uirevision)&&(h("uirevision",i.uirevision),P!==!1)){h("borderwidth");var O,I,R,U=h("orientation")==="h",z=h("yref")==="paper",j=h("xref")==="paper",W="left";if(U?(O=0,k.getComponentMethod("rangeslider","isVisible")(n.xaxis)?z?(I=1.1,R="bottom"):(I=1,R="top"):z?(I=-.1,R="top"):(I=0,R="bottom")):(I=1,R="auto",j?O=1.02:(O=1,W="right")),w.coerce(o,u,{x:{valType:"number",editType:"legend",min:j?-2:0,max:j?3:1,dflt:O}},"x"),w.coerce(o,u,{y:{valType:"number",editType:"legend",min:z?-2:0,max:z?3:1,dflt:I}},"y"),h("traceorder",T),s.isGrouped(i[a])&&h("tracegroupgap"),h("entrywidth"),h("entrywidthmode"),h("indentation"),h("itemsizing"),h("itemwidth"),h("itemclick"),h("itemdoubleclick"),h("groupclick"),h("xanchor",W),h("yanchor",R),h("valign"),w.noneOrAll(o,u,["x","y"]),h("title.text")){h("title.side",U?"left":"top");var F=w.extendFlat({},c,{size:w.bigFont(c.size)});w.coerceFont(h,"title.font",F)}}}}B.exports=function(a,n,i){var l,o=i.slice(),u=n.shapes;if(u)for(l=0;l<u.length;l++){var h=u[l];if(h.showlegend){var c={_input:h._input,visible:h.visible,showlegend:h.showlegend,legend:h.legend};o.push(c)}}var b=["legend"];for(l=0;l<o.length;l++)w.pushUnique(b,o[l].legend);for(n._legends=[],l=0;l<b.length;l++){var d=b[l];t(d,a,n,o),n[d]&&n[d].visible&&(n[d]._id=d),n._legends.push(d)}}},31140:function(B,L,e){var k=e(33428),w=e(3400),r=e(7316),_=e(24040),v=e(95924),f=e(86476),s=e(43616),t=e(76308),a=e(72736),n=e(33048),i=e(65196),l=e(84284),o=l.LINE_SPACING,u=l.FROM_TL,h=l.FROM_BR,c=e(35456),b=e(2012),d=e(42451),g=1,m=/^legend[0-9]*$/;function y(R,U){var z,j,W=U||{},F=R._fullLayout,V=I(W),H=W._inHover;if(H?(j=W.layer,z="hover"):(j=F._infolayer,z=V),j){var te;if(z+=F._uid,R._legendMouseDownTime||(R._legendMouseDownTime=0),H){if(!W.entries)return;te=c(W.entries,W)}else{for(var Q=(R.calcdata||[]).slice(),K=F.shapes,X=0;X<K.length;X++){var J=K[X];if(J.showlegend){var ee={_isShape:!0,_fullInput:J,index:J._index,name:J.name||J.label.text||"shape "+J._index,legend:J.legend,legendgroup:J.legendgroup,legendgrouptitle:J.legendgrouptitle,legendrank:J.legendrank,legendwidth:J.legendwidth,showlegend:J.showlegend,visible:J.visible,opacity:J.opacity,mode:J.type==="line"?"lines":"markers",line:J.line,marker:{line:J.line,color:J.fillcolor,size:12,symbol:J.type==="rect"?"square":J.type==="circle"?"circle":"hexagon2"}};Q.push([{trace:ee}])}}te=F.showlegend&&c(Q,W,F._legends.length>1)}var ie=F.hiddenlabels||[];if(!(H||F.showlegend&&te.length))return j.selectAll("."+V).remove(),F._topdefs.select("#"+z).remove(),r.autoMargin(R,V);var oe=w.ensureSingle(j,"g",V,function(Ae){H||Ae.attr("pointer-events","all")}),ae=w.ensureSingleById(F._topdefs,"clipPath",z,function(Ae){Ae.append("rect")}),ce=w.ensureSingle(oe,"rect","bg",function(Ae){Ae.attr("shape-rendering","crispEdges")});ce.call(t.stroke,W.bordercolor).call(t.fill,W.bgcolor).style("stroke-width",W.borderwidth+"px");var ge,ve=w.ensureSingle(oe,"g","scrollbox"),be=W.title;W._titleWidth=0,W._titleHeight=0,be.text?((ge=w.ensureSingle(ve,"text",V+"titletext")).attr("text-anchor","start").call(s.font,be.font).text(be.text),E(ge,ve,R,W,g)):ve.selectAll("."+V+"titletext").remove();var we=w.ensureSingle(oe,"rect","scrollbar",function(Ae){Ae.attr(i.scrollBarEnterAttrs).call(t.fill,i.scrollBarColor)}),ye=ve.selectAll("g.groups").data(te);ye.enter().append("g").attr("class","groups"),ye.exit().remove();var me=ye.selectAll("g.traces").data(w.identity);me.enter().append("g").attr("class","traces"),me.exit().remove(),me.style("opacity",function(Ae){var ke=Ae[0].trace;return _.traceIs(ke,"pie-like")?ie.indexOf(Ae[0].label)!==-1?.5:1:ke.visible==="legendonly"?.5:1}).each(function(){k.select(this).call(p,R,W)}).call(b,R,W).each(function(){H||k.select(this).call(M,R,V)}),w.syncOrAsync([r.previousPromises,function(){return function(Ae,ke,fe,le){var de=Ae._fullLayout,Ce=I(le);le||(le=de[Ce]);var Me=de._size,Le=d.isVertical(le),Oe=d.isGrouped(le),Be=le.entrywidthmode==="fraction",pe=le.borderwidth,_e=2*pe,Te=i.itemGap,Re=le.indentation+le.itemwidth+2*Te,Ne=2*(pe+Te),ze=O(le),Ge=le.y<0||le.y===0&&ze==="top",Ye=le.y>1||le.y===1&&ze==="bottom",et=le.tracegroupgap,ut={};le._maxHeight=Math.max(Ge||Ye?de.height/2:Me.h,30);var ot=0;le._width=0,le._height=0;var yt=function(mt){var xt=0,dt=0,Lt=mt.title.side;return Lt&&(Lt.indexOf("left")!==-1&&(xt=mt._titleWidth),Lt.indexOf("top")!==-1&&(dt=mt._titleHeight)),[xt,dt]}(le);if(Le)fe.each(function(mt){var xt=mt[0].height;s.setTranslate(this,pe+yt[0],pe+yt[1]+le._height+xt/2+Te),le._height+=xt,le._width=Math.max(le._width,mt[0].width)}),ot=Re+le._width,le._width+=Te+Re+_e,le._height+=Ne,Oe&&(ke.each(function(mt,xt){s.setTranslate(this,0,xt*le.tracegroupgap)}),le._height+=(le._lgroupsLength-1)*le.tracegroupgap);else{var wt=P(le),bt=le.x<0||le.x===0&&wt==="right",at=le.x>1||le.x===1&&wt==="left",rt=Ye||Ge,At=de.width/2;le._maxWidth=Math.max(bt?rt&&wt==="left"?Me.l+Me.w:At:at?rt&&wt==="right"?Me.r+Me.w:At:Me.w,2*Re);var Rt=0,Ft=0;fe.each(function(mt){var xt=x(mt,le,Re);Rt=Math.max(Rt,xt),Ft+=xt}),ot=null;var Dt=0;if(Oe){var Xe=0,Ke=0,Ve=0;ke.each(function(){var mt=0,xt=0;k.select(this).selectAll("g.traces").each(function(Lt){var kt=x(Lt,le,Re),_t=Lt[0].height;s.setTranslate(this,yt[0],yt[1]+pe+Te+_t/2+xt),xt+=_t,mt=Math.max(mt,kt),ut[Lt[0].trace.legendgroup]=mt});var dt=mt+Te;Ke>0&&dt+pe+Ke>le._maxWidth?(Dt=Math.max(Dt,Ke),Ke=0,Ve+=Xe+et,Xe=xt):Xe=Math.max(Xe,xt),s.setTranslate(this,Ke,Ve),Ke+=dt}),le._width=Math.max(Dt,Ke)+pe,le._height=Ve+Xe+Ne}else{var Je=fe.size(),ct=Ft+_e+(Je-1)*Te<le._maxWidth,st=0,je=0,Ue=0,lt=0;fe.each(function(mt){var xt=mt[0].height,dt=x(mt,le,Re),Lt=ct?dt:Rt;Be||(Lt+=Te),Lt+pe+je-Te>=le._maxWidth&&(Dt=Math.max(Dt,lt),je=0,Ue+=st,le._height+=st,st=0),s.setTranslate(this,yt[0]+pe+je,yt[1]+pe+Ue+xt/2+Te),lt=je+dt+Te,je+=Lt,st=Math.max(st,xt)}),ct?(le._width=je+_e,le._height=st+Ne):(le._width=Math.max(Dt,lt)+_e,le._height+=st+Ne)}}le._width=Math.ceil(Math.max(le._width+yt[0],le._titleWidth+2*(pe+i.titlePad))),le._height=Math.ceil(Math.max(le._height+yt[1],le._titleHeight+2*(pe+i.itemGap))),le._effHeight=Math.min(le._height,le._maxHeight);var Qe=Ae._context.edits,gt=Qe.legendText||Qe.legendPosition;fe.each(function(mt){var xt=k.select(this).select("."+Ce+"toggle"),dt=mt[0].height,Lt=mt[0].trace.legendgroup,kt=x(mt,le,Re);Oe&&Lt!==""&&(kt=ut[Lt]);var _t=gt?Re:ot||kt;Le||Be||(_t+=Te/2),s.setRect(xt,0,-dt/2,_t,dt)})}(R,ye,me,W)},function(){var Ae,ke,fe,le,de=F._size,Ce=W.borderwidth,Me=W.xref==="paper",Le=W.yref==="paper";if(be.text&&function(rt,At,Rt){if(At.title.side==="top center"||At.title.side==="top right"){var Ft=At.title.font.size*o,Dt=0,Xe=rt.node(),Ke=s.bBox(Xe).width;At.title.side==="top center"?Dt=.5*(At._width-2*Rt-2*i.titlePad-Ke):At.title.side==="top right"&&(Dt=At._width-2*Rt-2*i.titlePad-Ke),a.positionText(rt,Rt+i.titlePad+Dt,Rt+Ft)}}(ge,W,Ce),!H){var Oe,Be;Oe=Me?de.l+de.w*W.x-u[P(W)]*W._width:F.width*W.x-u[P(W)]*W._width,Be=Le?de.t+de.h*(1-W.y)-u[O(W)]*W._effHeight:F.height*(1-W.y)-u[O(W)]*W._effHeight;var pe=function(rt,At,Rt,Ft){var Dt=rt._fullLayout,Xe=Dt[At],Ke=P(Xe),Ve=O(Xe),Je=Xe.xref==="paper",ct=Xe.yref==="paper";rt._fullLayout._reservedMargin[At]={};var st=Xe.y<.5?"b":"t",je=Xe.x<.5?"l":"r",Ue={r:Dt.width-Rt,l:Rt+Xe._width,b:Dt.height-Ft,t:Ft+Xe._effHeight};if(Je&&ct)return r.autoMargin(rt,At,{x:Xe.x,y:Xe.y,l:Xe._width*u[Ke],r:Xe._width*h[Ke],b:Xe._effHeight*h[Ve],t:Xe._effHeight*u[Ve]});Je?rt._fullLayout._reservedMargin[At][st]=Ue[st]:ct||Xe.orientation==="v"?rt._fullLayout._reservedMargin[At][je]=Ue[je]:rt._fullLayout._reservedMargin[At][st]=Ue[st]}(R,V,Oe,Be);if(pe)return;if(F.margin.autoexpand){var _e=Oe,Te=Be;Oe=Me?w.constrain(Oe,0,F.width-W._width):_e,Be=Le?w.constrain(Be,0,F.height-W._effHeight):Te,Oe!==_e&&w.log("Constrain "+V+".x to make legend fit inside graph"),Be!==Te&&w.log("Constrain "+V+".y to make legend fit inside graph")}s.setTranslate(oe,Oe,Be)}if(we.on(".drag",null),oe.on("wheel",null),H||W._height<=W._maxHeight||R._context.staticPlot){var Re=W._effHeight;H&&(Re=W._height),ce.attr({width:W._width-Ce,height:Re-Ce,x:Ce/2,y:Ce/2}),s.setTranslate(ve,0,0),ae.select("rect").attr({width:W._width-2*Ce,height:Re-2*Ce,x:Ce,y:Ce}),s.setClipUrl(ve,z,R),s.setRect(we,0,0,0,0),delete W._scrollY}else{var Ne,ze,Ge,Ye=Math.max(i.scrollBarMinHeight,W._effHeight*W._effHeight/W._height),et=W._effHeight-Ye-2*i.scrollBarMargin,ut=W._height-W._effHeight,ot=et/ut,yt=Math.min(W._scrollY||0,ut);ce.attr({width:W._width-2*Ce+i.scrollBarWidth+i.scrollBarMargin,height:W._effHeight-Ce,x:Ce/2,y:Ce/2}),ae.select("rect").attr({width:W._width-2*Ce+i.scrollBarWidth+i.scrollBarMargin,height:W._effHeight-2*Ce,x:Ce,y:Ce+yt}),s.setClipUrl(ve,z,R),at(yt,Ye,ot),oe.on("wheel",function(){at(yt=w.constrain(W._scrollY+k.event.deltaY/et*ut,0,ut),Ye,ot),yt!==0&&yt!==ut&&k.event.preventDefault()});var wt=k.behavior.drag().on("dragstart",function(){var rt=k.event.sourceEvent;Ne=rt.type==="touchstart"?rt.changedTouches[0].clientY:rt.clientY,Ge=yt}).on("drag",function(){var rt=k.event.sourceEvent;rt.buttons===2||rt.ctrlKey||(ze=rt.type==="touchmove"?rt.changedTouches[0].clientY:rt.clientY,yt=function(At,Rt,Ft){var Dt=(Ft-Rt)/ot+At;return w.constrain(Dt,0,ut)}(Ge,Ne,ze),at(yt,Ye,ot))});we.call(wt);var bt=k.behavior.drag().on("dragstart",function(){var rt=k.event.sourceEvent;rt.type==="touchstart"&&(Ne=rt.changedTouches[0].clientY,Ge=yt)}).on("drag",function(){var rt=k.event.sourceEvent;rt.type==="touchmove"&&(ze=rt.changedTouches[0].clientY,yt=function(At,Rt,Ft){var Dt=(Rt-Ft)/ot+At;return w.constrain(Dt,0,ut)}(Ge,Ne,ze),at(yt,Ye,ot))});ve.call(bt)}function at(rt,At,Rt){W._scrollY=R._fullLayout[V]._scrollY=rt,s.setTranslate(ve,0,-rt),s.setRect(we,W._width,i.scrollBarMargin+rt*Rt,i.scrollBarWidth,At),ae.select("rect").attr("y",Ce+rt)}R._context.edits.legendPosition&&(oe.classed("cursor-move",!0),f.init({element:oe.node(),gd:R,prepFn:function(){var rt=s.getTranslate(oe);fe=rt.x,le=rt.y},moveFn:function(rt,At){var Rt=fe+rt,Ft=le+At;s.setTranslate(oe,Rt,Ft),Ae=f.align(Rt,W._width,de.l,de.l+de.w,W.xanchor),ke=f.align(Ft+W._height,-W._height,de.t+de.h,de.t,W.yanchor)},doneFn:function(){if(Ae!==void 0&&ke!==void 0){var rt={};rt[V+".x"]=Ae,rt[V+".y"]=ke,_.call("_guiRelayout",R,rt)}},clickFn:function(rt,At){var Rt=j.selectAll("g.traces").filter(function(){var Ft=this.getBoundingClientRect();return At.clientX>=Ft.left&&At.clientX<=Ft.right&&At.clientY>=Ft.top&&At.clientY<=Ft.bottom});Rt.size()>0&&T(R,oe,Rt,rt,At)}}))}],R)}}function x(R,U,z){var j=R[0],W=j.width,F=U.entrywidthmode,V=j.trace.legendwidth||U.entrywidth;return F==="fraction"?U._maxWidth*V:z+(V||W)}function T(R,U,z,j,W){var F=z.data()[0][0].trace,V={event:W,node:z.node(),curveNumber:F.index,expandedIndex:F._expandedIndex,data:R.data,layout:R.layout,frames:R._transitionData._frames,config:R._context,fullData:R._fullData,fullLayout:R._fullLayout};F._group&&(V.group=F._group),_.traceIs(F,"pie-like")&&(V.label=z.datum()[0].label);var H=v.triggerHandler(R,"plotly_legendclick",V);if(j===1){if(H===!1)return;U._clickTimeout=setTimeout(function(){R._fullLayout&&n(z,R,j)},R._context.doubleClickDelay)}else j===2&&(U._clickTimeout&&clearTimeout(U._clickTimeout),R._legendMouseDownTime=0,v.triggerHandler(R,"plotly_legenddoubleclick",V)!==!1&&H!==!1&&n(z,R,j))}function p(R,U,z){var j,W,F=I(z),V=R.data()[0][0],H=V.trace,te=_.traceIs(H,"pie-like"),Q=!z._inHover&&U._context.edits.legendText&&!te,K=z._maxNameLength;V.groupTitle?(j=V.groupTitle.text,W=V.groupTitle.font):(W=z.font,z.entries?j=V.text:(j=te?V.label:H.name,H._meta&&(j=w.templateString(j,H._meta))));var X=w.ensureSingle(R,"text",F+"text");X.attr("text-anchor","start").call(s.font,W).text(Q?S(j,K):j);var J=z.indentation+z.itemwidth+2*i.itemGap;a.positionText(X,J,0),Q?X.call(a.makeEditable,{gd:U,text:j}).call(E,R,U,z).on("edit",function(ee){this.text(S(ee,K)).call(E,R,U,z);var ie=V.trace._fullInput||{},oe={};if(_.hasTransform(ie,"groupby")){var ae=_.getTransformIndices(ie,"groupby"),ce=ae[ae.length-1],ge=w.keyedContainer(ie,"transforms["+ce+"].styles","target","value.name");ge.set(V.trace._group,ee),oe=ge.constructUpdate()}else oe.name=ee;return ie._isShape?_.call("_guiRelayout",U,"shapes["+H.index+"].name",oe.name):_.call("_guiRestyle",U,oe,H.index)}):E(X,R,U,z)}function S(R,U){var z=Math.max(4,U);if(R&&R.trim().length>=z/2)return R;for(var j=z-(R=R||"").length;j>0;j--)R+=" ";return R}function M(R,U,z){var j,W=U._context.doubleClickDelay,F=1,V=w.ensureSingle(R,"rect",z+"toggle",function(H){U._context.staticPlot||H.style("cursor","pointer").attr("pointer-events","all"),H.call(t.fill,"rgba(0,0,0,0)")});U._context.staticPlot||(V.on("mousedown",function(){(j=new Date().getTime())-U._legendMouseDownTime<W?F+=1:(F=1,U._legendMouseDownTime=j)}),V.on("mouseup",function(){if(!U._dragged&&!U._editing){var H=U._fullLayout[z];new Date().getTime()-U._legendMouseDownTime>W&&(F=Math.max(F-1,1)),T(U,H,R,F,k.event)}}))}function E(R,U,z,j,W){j._inHover&&R.attr("data-notex",!0),a.convertToTspans(R,z,function(){(function(F,V,H,te){var Q=F.data()[0][0];if(H._inHover||!Q||Q.trace.showlegend){var K=F.select("g[class*=math-group]"),X=K.node(),J=I(H);H||(H=V._fullLayout[J]);var ee,ie,oe=H.borderwidth,ae=(te===g?H.title.font:Q.groupTitle?Q.groupTitle.font:H.font).size*o;if(X){var ce=s.bBox(X);ee=ce.height,ie=ce.width,te===g?s.setTranslate(K,oe,oe+.75*ee):s.setTranslate(K,0,.25*ee)}else{var ge="."+J+(te===g?"title":"")+"text",ve=F.select(ge),be=a.lineCount(ve),we=ve.node();if(ee=ae*be,ie=we?s.bBox(we).width:0,te===g)H.title.side==="left"&&(ie+=2*i.itemGap),a.positionText(ve,oe+i.titlePad,oe+ae);else{var ye=2*i.itemGap+H.indentation+H.itemwidth;Q.groupTitle&&(ye=i.itemGap,ie-=H.indentation+H.itemwidth),a.positionText(ve,ye,-ae*((be-1)/2-.3))}}te===g?(H._titleWidth=ie,H._titleHeight=ee):(Q.lineHeight=ae,Q.height=Math.max(ee,16)+3,Q.width=ie)}else F.remove()})(U,z,j,W)})}function P(R){return w.isRightAnchor(R)?"right":w.isCenterAnchor(R)?"center":"left"}function O(R){return w.isBottomAnchor(R)?"bottom":w.isMiddleAnchor(R)?"middle":"top"}function I(R){return R._id||"legend"}B.exports=function(R,U){if(U)y(R,U);else{var z=R._fullLayout,j=z._legends;z._infolayer.selectAll('[class^="legend"]').each(function(){var V=k.select(this),H=V.attr("class").split(" ")[0];H.match(m)&&j.indexOf(H)===-1&&V.remove()});for(var W=0;W<j.length;W++){var F=j[W];y(R,R._fullLayout[F])}}}},35456:function(B,L,e){var k=e(24040),w=e(42451);B.exports=function(r,_,v){var f,s,t=_._inHover,a=w.isGrouped(_),n=w.isReversed(_),i={},l=[],o=!1,u={},h=0,c=0;function b(j,W,F){if(_.visible!==!1&&(!v||j===_._id))if(W!==""&&w.isGrouped(_))l.indexOf(W)===-1?(l.push(W),o=!0,i[W]=[F]):i[W].push(F);else{var V="~~i"+h;l.push(V),i[V]=[F],h++}}for(f=0;f<r.length;f++){var d=r[f],g=d[0],m=g.trace,y=m.legend,x=m.legendgroup;if(t||m.visible&&m.showlegend)if(k.traceIs(m,"pie-like"))for(u[x]||(u[x]={}),s=0;s<d.length;s++){var T=d[s].label;u[x][T]||(b(y,x,{label:T,color:d[s].color,i:d[s].i,trace:m,pts:d[s].pts}),u[x][T]=!0,c=Math.max(c,(T||"").length))}else b(y,x,g),c=Math.max(c,(m.name||"").length)}if(!l.length)return[];var p=!o||!a,S=[];for(f=0;f<l.length;f++){var M=i[l[f]];p?S.push(M[0]):S.push(M)}for(p&&(S=[S]),f=0;f<S.length;f++){var E=1/0;for(s=0;s<S[f].length;s++){var P=S[f][s].trace.legendrank;E>P&&(E=P)}S[f][0]._groupMinRank=E,S[f][0]._preGroupSort=f}var O=function(j,W){return j.trace.legendrank-W.trace.legendrank||j._preSort-W._preSort};for(S.forEach(function(j,W){j[0]._preGroupSort=W}),S.sort(function(j,W){return j[0]._groupMinRank-W[0]._groupMinRank||j[0]._preGroupSort-W[0]._preGroupSort}),f=0;f<S.length;f++){S[f].forEach(function(j,W){j._preSort=W}),S[f].sort(O);var I=S[f][0].trace,R=null;for(s=0;s<S[f].length;s++){var U=S[f][s].trace.legendgrouptitle;if(U&&U.text){R=U,t&&(U.font=_._groupTitleFont);break}}if(n&&S[f].reverse(),R){var z=!1;for(s=0;s<S[f].length;s++)if(k.traceIs(S[f][s].trace,"pie-like")){z=!0;break}S[f].unshift({i:-1,groupTitle:R,noClick:z,trace:{showlegend:I.showlegend,legendgroup:I.legendgroup,visible:_.groupclick==="toggleitem"||I.visible}})}for(s=0;s<S[f].length;s++)S[f][s]=[S[f][s]]}return _._lgroupsLength=S.length,_._maxNameLength=c,S}},33048:function(B,L,e){var k=e(24040),w=e(3400),r=w.pushUnique,_=!0;B.exports=function(v,f,s){var t=f._fullLayout;if(!f._dragged&&!f._editing){var a,n=t.legend.itemclick,i=t.legend.itemdoubleclick,l=t.legend.groupclick;if(s===1&&n==="toggle"&&i==="toggleothers"&&_&&f.data&&f._context.showTips&&w.notifier(w._(f,"Double-click on legend to isolate one trace"),"long"),_=!1,s===1?a=n:s===2&&(a=i),a){var o=l==="togglegroup",u=t.hiddenlabels?t.hiddenlabels.slice():[],h=v.data()[0][0];if(!h.groupTitle||!h.noClick){var c=f._fullData,b=(t.shapes||[]).filter(function(ke){return ke.showlegend}),d=c.concat(b),g=h.trace;g._isShape&&(g=g._fullInput);var m,y,x,T,p,S=g.legendgroup,M={},E=[],P=[],O=[],I=(t.shapes||[]).map(function(ke){return ke._input}),R=!1,U=g.legend,z=g._fullInput;if(z&&z._isShape||!k.traceIs(g,"pie-like")){var j,W=S&&S.length,F=[];if(W)for(m=0;m<d.length;m++)(j=d[m]).visible&&j.legendgroup===S&&F.push(m);if(a==="toggle"){var V;switch(g.visible){case!0:V="legendonly";break;case!1:V=!1;break;case"legendonly":V=!0}if(W)if(o)for(m=0;m<d.length;m++){var H=d[m];H.visible!==!1&&H.legendgroup===S&&Ae(H,V)}else Ae(g,V);else Ae(g,V)}else if(a==="toggleothers"){var te,Q,K,X,J=!0;for(m=0;m<d.length;m++)if(te=(X=d[m])===g,Q=X.showlegend!==!0,!(te||Q||W&&X.legendgroup===S||X.legend!==U||X.visible!==!0||k.traceIs(X,"notLegendIsolatable"))){J=!1;break}for(m=0;m<d.length;m++)if((X=d[m]).visible!==!1&&X.legend===U&&!k.traceIs(X,"notLegendIsolatable"))switch(g.visible){case"legendonly":Ae(X,!0);break;case!0:K=!!J||"legendonly",te=X===g,Q=X.showlegend!==!0&&!X.legendgroup,Ae(X,!!(te||W&&X.legendgroup===S||Q)||K)}}for(m=0;m<P.length;m++)if(x=P[m]){var ee=x.constructUpdate(),ie=Object.keys(ee);for(y=0;y<ie.length;y++)T=ie[y],(M[T]=M[T]||[])[O[m]]=ee[T]}for(p=Object.keys(M),m=0;m<p.length;m++)for(T=p[m],y=0;y<E.length;y++)M[T].hasOwnProperty(y)||(M[T][y]=void 0);R?k.call("_guiUpdate",f,M,{shapes:I},E):k.call("_guiRestyle",f,M,E)}else{var oe=h.label,ae=u.indexOf(oe);if(a==="toggle")ae===-1?u.push(oe):u.splice(ae,1);else if(a==="toggleothers"){var ce=ae!==-1,ge=[];for(m=0;m<f.calcdata.length;m++){var ve=f.calcdata[m];for(y=0;y<ve.length;y++){var be=ve[y].label;U===ve[0].trace.legend&&oe!==be&&(u.indexOf(be)===-1&&(ce=!0),r(u,be),ge.push(be))}}if(!ce)for(var we=0;we<ge.length;we++){var ye=u.indexOf(ge[we]);ye!==-1&&u.splice(ye,1)}}k.call("_guiRelayout",f,"hiddenlabels",u)}}}}function me(ke,fe){var le=E.indexOf(ke),de=M.visible;return de||(de=M.visible=[]),E.indexOf(ke)===-1&&(E.push(ke),le=E.length-1),de[le]=fe,le}function Ae(ke,fe){if(!h.groupTitle||o){var le,de=ke._fullInput||ke,Ce=de._isShape,Me=de.index;if(Me===void 0&&(Me=de._index),k.hasTransform(de,"groupby")){var Le=P[Me];if(!Le){var Oe=k.getTransformIndices(de,"groupby"),Be=Oe[Oe.length-1];Le=w.keyedContainer(de,"transforms["+Be+"].styles","target","value.visible"),P[Me]=Le}var pe=Le.get(ke._group);pe===void 0&&(pe=!0),pe!==!1&&Le.set(ke._group,fe),O[Me]=me(Me,de.visible!==!1)}else{var _e=de.visible!==!1&&fe;Ce?(le=_e,I[Me].visible=le,R=!0):me(Me,_e)}}}}},42451:function(B,L){L.isGrouped=function(e){return(e.traceorder||"").indexOf("grouped")!==-1},L.isVertical=function(e){return e.orientation!=="h"},L.isReversed=function(e){return(e.traceorder||"").indexOf("reversed")!==-1}},2780:function(B,L,e){B.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(B,L,e){var k=e(33428),w=e(24040),r=e(3400),_=r.strTranslate,v=e(43616),f=e(76308),s=e(94288).extractOpts,t=e(43028),a=e(10528),n=e(69656).castOption,i=e(65196);function l(h,c){return(c?"radial":"horizontal")+(h?"":"reversed")}function o(h){var c=h[0].trace,b=c.contours,d=t.hasLines(c),g=t.hasMarkers(c),m=c.visible&&c.fill&&c.fill!=="none",y=!1,x=!1;if(b){var T=b.coloring;T==="lines"?y=!0:d=T==="none"||T==="heatmap"||b.showlines,b.type==="constraint"?m=b._operation!=="=":T!=="fill"&&T!=="heatmap"||(x=!0)}return{showMarker:g,showLine:d,showFill:m,showGradientLine:y,showGradientFill:x,anyLine:d||y,anyFill:m||x}}function u(h,c,b){return h&&r.isArrayOrTypedArray(h)?c:h>b?b:h}B.exports=function(h,c,b){var d=c._fullLayout;b||(b=d.legend);var g=b.itemsizing==="constant",m=b.itemwidth,y=(m+2*i.itemGap)/2,x=_(y,0),T=function(M,E,P,O){var I;if(M+1)I=M;else{if(!(E&&E.width>0))return 0;I=E.width}return g?O:Math.min(I,P)};function p(M,E,P){var O=M[0].trace,I=O.marker||{},R=I.line||{},U=I.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",z=P?O.visible&&O.type===P:w.traceIs(O,"bar"),j=k.select(E).select("g.legendpoints").selectAll("path.legend"+P).data(z?[M]:[]);j.enter().append("path").classed("legend"+P,!0).attr("d",U).attr("transform",x),j.exit().remove(),j.each(function(W){var F=k.select(this),V=W[0],H=T(V.mlw,I.line,5,2);F.style("stroke-width",H+"px");var te=V.mcc;if(!b._inHover&&"mc"in V){var Q=s(I),K=Q.mid;K===void 0&&(K=(Q.max+Q.min)/2),te=v.tryColorscale(I,"")(K)}var X=te||V.mc||I.color,J=I.pattern,ee=J&&v.getPatternAttr(J.shape,0,"");if(ee){var ie=v.getPatternAttr(J.bgcolor,0,null),oe=v.getPatternAttr(J.fgcolor,0,null),ae=J.fgopacity,ce=u(J.size,8,10),ge=u(J.solidity,.5,1),ve="legend-"+O.uid;F.call(v.pattern,"legend",c,ve,ee,ce,ge,te,J.fillmode,ie,oe,ae)}else F.call(f.fill,X);H&&f.stroke(F,V.mlc||R.color)})}function S(M,E,P){var O=M[0],I=O.trace,R=P?I.visible&&I.type===P:w.traceIs(I,P),U=k.select(E).select("g.legendpoints").selectAll("path.legend"+P).data(R?[M]:[]);if(U.enter().append("path").classed("legend"+P,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",x),U.exit().remove(),U.size()){var z=I.marker||{},j=T(n(z.line.width,O.pts),z.line,5,2),W="pieLike",F=r.minExtend(I,{marker:{line:{width:j}}},W),V=r.minExtend(O,{trace:F},W);a(U,V,F,c)}}h.each(function(M){var E=k.select(this),P=r.ensureSingle(E,"g","layers");P.style("opacity",M[0].trace.opacity);var O=b.indentation,I=b.valign,R=M[0].lineHeight,U=M[0].height;if(I==="middle"&&O===0||!R||!U)P.attr("transform",null);else{var z={top:1,bottom:-1}[I]*(.5*(R-U+3))||0,j=b.indentation;P.attr("transform",_(j,z))}P.selectAll("g.legendfill").data([M]).enter().append("g").classed("legendfill",!0),P.selectAll("g.legendlines").data([M]).enter().append("g").classed("legendlines",!0);var W=P.selectAll("g.legendsymbols").data([M]);W.enter().append("g").classed("legendsymbols",!0),W.selectAll("g.legendpoints").data([M]).enter().append("g").classed("legendpoints",!0)}).each(function(M){var E,P=M[0].trace,O=[];if(P.visible)switch(P.type){case"histogram2d":case"heatmap":O=[["M-15,-2V4H15V-2Z"]],E=!0;break;case"choropleth":case"choroplethmapbox":O=[["M-6,-6V6H6V-6Z"]],E=!0;break;case"densitymapbox":O=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],E="radial";break;case"cone":O=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],E=!1;break;case"streamtube":O=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],E=!1;break;case"surface":O=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],E=!0;break;case"mesh3d":O=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],E=!1;break;case"volume":O=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],E=!0;break;case"isosurface":O=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],E=!1}var I=k.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(O);I.enter().append("path").classed("legend3dandfriends",!0).attr("transform",x).style("stroke-miterlimit",1),I.exit().remove(),I.each(function(R,U){var z,j=k.select(this),W=s(P),F=W.colorscale,V=W.reversescale;if(F){if(!E){var H=F.length;z=U===0?F[V?H-1:0][1]:U===1?F[V?0:H-1][1]:F[Math.floor((H-1)/2)][1]}}else{var te=P.vertexcolor||P.facecolor||P.color;z=r.isArrayOrTypedArray(te)?te[U]||te[0]:te}j.attr("d",R[0]),z?j.call(f.fill,z):j.call(function(Q){if(Q.size()){var K="legendfill-"+P.uid;v.gradient(Q,c,K,l(V,E==="radial"),F,"fill")}})})}).each(function(M){var E=M[0].trace,P=E.type==="waterfall";if(M[0]._distinct&&P){var O=M[0].trace[M[0].dir].marker;return M[0].mc=O.color,M[0].mlw=O.line.width,M[0].mlc=O.line.color,p(M,this,"waterfall")}var I=[];E.visible&&P&&(I=M[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var R=k.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(I);R.enter().append("path").classed("legendwaterfall",!0).attr("transform",x).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(U){var z=k.select(this),j=E[U[0]].marker,W=T(void 0,j.line,5,2);z.attr("d",U[1]).style("stroke-width",W+"px").call(f.fill,j.color),W&&z.call(f.stroke,j.line.color)})}).each(function(M){p(M,this,"funnel")}).each(function(M){p(M,this)}).each(function(M){var E=M[0].trace,P=k.select(this).select("g.legendpoints").selectAll("path.legendbox").data(E.visible&&w.traceIs(E,"box-violin")?[M]:[]);P.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",x),P.exit().remove(),P.each(function(){var O=k.select(this);if(E.boxpoints!=="all"&&E.points!=="all"||f.opacity(E.fillcolor)!==0||f.opacity((E.line||{}).color)!==0){var I=T(void 0,E.line,5,2);O.style("stroke-width",I+"px").call(f.fill,E.fillcolor),I&&f.stroke(O,E.line.color)}else{var R=r.minExtend(E,{marker:{size:g?12:r.constrain(E.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});P.call(v.pointStyle,R,c)}})}).each(function(M){S(M,this,"funnelarea")}).each(function(M){S(M,this,"pie")}).each(function(M){var E,P,O=o(M),I=O.showFill,R=O.showLine,U=O.showGradientLine,z=O.showGradientFill,j=O.anyFill,W=O.anyLine,F=M[0],V=F.trace,H=s(V),te=H.colorscale,Q=H.reversescale,K=t.hasMarkers(V)||!j?"M5,0":W?"M5,-2":"M5,-3",X=k.select(this),J=X.select(".legendfill").selectAll("path").data(I||z?[M]:[]);if(J.enter().append("path").classed("js-fill",!0),J.exit().remove(),J.attr("d",K+"h"+m+"v6h-"+m+"z").call(function(oe){if(oe.size())if(I)v.fillGroupStyle(oe,c,!0);else{var ae="legendfill-"+V.uid;v.gradient(oe,c,ae,l(Q),te,"fill")}}),R||U){var ee=T(void 0,V.line,10,5);P=r.minExtend(V,{line:{width:ee}}),E=[r.minExtend(F,{trace:P})]}var ie=X.select(".legendlines").selectAll("path").data(R||U?[E]:[]);ie.enter().append("path").classed("js-line",!0),ie.exit().remove(),ie.attr("d",K+(U?"l"+m+",0.0001":"h"+m)).call(R?v.lineGroupStyle:function(oe){if(oe.size()){var ae="legendline-"+V.uid;v.lineGroupStyle(oe),v.gradient(oe,c,ae,l(Q),te,"stroke")}})}).each(function(M){var E,P,O=o(M),I=O.anyFill,R=O.anyLine,U=O.showLine,z=O.showMarker,j=M[0],W=j.trace,F=!z&&!R&&!I&&t.hasText(W);function V(ie,oe,ae,ce){var ge=r.nestedProperty(W,ie).get(),ve=r.isArrayOrTypedArray(ge)&&oe?oe(ge):ge;if(g&&ve&&ce!==void 0&&(ve=ce),ae){if(ve<ae[0])return ae[0];if(ve>ae[1])return ae[1]}return ve}function H(ie){return j._distinct&&j.index&&ie[j.index]?ie[j.index]:ie[0]}if(z||F||U){var te={},Q={};if(z){te.mc=V("marker.color",H),te.mx=V("marker.symbol",H),te.mo=V("marker.opacity",r.mean,[.2,1]),te.mlc=V("marker.line.color",H),te.mlw=V("marker.line.width",r.mean,[0,5],2),Q.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var K=V("marker.size",r.mean,[2,16],12);te.ms=K,Q.marker.size=K}U&&(Q.line={width:V("line.width",H,[0,10],5)}),F&&(te.tx="Aa",te.tp=V("textposition",H),te.ts=10,te.tc=V("textfont.color",H),te.tf=V("textfont.family",H)),E=[r.minExtend(j,te)],(P=r.minExtend(W,Q)).selectedpoints=null,P.texttemplate=null}var X=k.select(this).select("g.legendpoints"),J=X.selectAll("path.scatterpts").data(z?E:[]);J.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",x),J.exit().remove(),J.call(v.pointStyle,P,c),z&&(E[0].mrc=3);var ee=X.selectAll("g.pointtext").data(F?E:[]);ee.enter().append("g").classed("pointtext",!0).append("text").attr("transform",x),ee.exit().remove(),ee.selectAll("text").call(v.textPointStyle,P,c)}).each(function(M){var E=M[0].trace,P=k.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(E.visible&&E.type==="candlestick"?[M,M]:[]);P.enter().append("path").classed("legendcandle",!0).attr("d",function(O,I){return I?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",x).style("stroke-miterlimit",1),P.exit().remove(),P.each(function(O,I){var R=k.select(this),U=E[I?"increasing":"decreasing"],z=T(void 0,U.line,5,2);R.style("stroke-width",z+"px").call(f.fill,U.fillcolor),z&&f.stroke(R,U.line.color)})}).each(function(M){var E=M[0].trace,P=k.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(E.visible&&E.type==="ohlc"?[M,M]:[]);P.enter().append("path").classed("legendohlc",!0).attr("d",function(O,I){return I?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",x).style("stroke-miterlimit",1),P.exit().remove(),P.each(function(O,I){var R=k.select(this),U=E[I?"increasing":"decreasing"],z=T(void 0,U.line,5,2);R.style("fill","none").call(v.dashLine,U.line.dash,z),z&&f.stroke(R,U.line.color)})})}},66540:function(B,L,e){e(76052),B.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(B,L,e){var k=e(24040),w=e(7316),r=e(79811),_=e(9224),v=e(4016).eraseActiveShape,f=e(3400),s=f._,t=B.exports={};function a(d,g){var m,y,x=g.currentTarget,T=x.getAttribute("data-attr"),p=x.getAttribute("data-val")||!0,S=d._fullLayout,M={},E=r.list(d,null,!0),P=S._cartesianSpikesEnabled;if(T==="zoom"){var O,I=p==="in"?.5:2,R=(1+I)/2,U=(1-I)/2;for(y=0;y<E.length;y++)if(!(m=E[y]).fixedrange)if(O=m._name,p==="auto")M[O+".autorange"]=!0;else if(p==="reset")m._rangeInitial0===void 0&&m._rangeInitial1===void 0?M[O+".autorange"]=!0:m._rangeInitial0===void 0?(M[O+".autorange"]=m._autorangeInitial,M[O+".range"]=[null,m._rangeInitial1]):m._rangeInitial1===void 0?(M[O+".range"]=[m._rangeInitial0,null],M[O+".autorange"]=m._autorangeInitial):M[O+".range"]=[m._rangeInitial0,m._rangeInitial1],m._showSpikeInitial!==void 0&&(M[O+".showspikes"]=m._showSpikeInitial,P!=="on"||m._showSpikeInitial||(P="off"));else{var z=[m.r2l(m.range[0]),m.r2l(m.range[1])],j=[R*z[0]+U*z[1],R*z[1]+U*z[0]];M[O+".range[0]"]=m.l2r(j[0]),M[O+".range[1]"]=m.l2r(j[1])}}else T!=="hovermode"||p!=="x"&&p!=="y"||(p=S._isHoriz?"y":"x",x.setAttribute("data-val",p)),M[T]=p;S._cartesianSpikesEnabled=P,k.call("_guiRelayout",d,M)}function n(d,g){for(var m=g.currentTarget,y=m.getAttribute("data-attr"),x=m.getAttribute("data-val")||!0,T=d._fullLayout._subplots.gl3d||[],p={},S=y.split("."),M=0;M<T.length;M++)p[T[M]+"."+S[1]]=x;var E=x==="pan"?x:"zoom";p.dragmode=E,k.call("_guiRelayout",d,p)}function i(d,g){for(var m=g.currentTarget.getAttribute("data-attr"),y=m==="resetLastSave",x=m==="resetDefault",T=d._fullLayout,p=T._subplots.gl3d||[],S={},M=0;M<p.length;M++){var E,P=p[M],O=P+".camera",I=P+".aspectratio",R=P+".aspectmode",U=T[P]._scene;y?(S[O+".up"]=U.viewInitial.up,S[O+".eye"]=U.viewInitial.eye,S[O+".center"]=U.viewInitial.center,E=!0):x&&(S[O+".up"]=null,S[O+".eye"]=null,S[O+".center"]=null,E=!0),E&&(S[I+".x"]=U.viewInitial.aspectratio.x,S[I+".y"]=U.viewInitial.aspectratio.y,S[I+".z"]=U.viewInitial.aspectratio.z,S[R]=U.viewInitial.aspectmode)}k.call("_guiRelayout",d,S)}function l(d,g){var m=g.currentTarget,y=m._previousVal,x=d._fullLayout,T=x._subplots.gl3d||[],p=["xaxis","yaxis","zaxis"],S={},M={};if(y)M=y,m._previousVal=null;else{for(var E=0;E<T.length;E++){var P=T[E],O=x[P],I=P+".hovermode";S[I]=O.hovermode,M[I]=!1;for(var R=0;R<3;R++){var U=p[R],z=P+"."+U+".showspikes";M[z]=!1,S[z]=O[U].showspikes}}m._previousVal=S}return M}function o(d,g){for(var m=g.currentTarget,y=m.getAttribute("data-attr"),x=m.getAttribute("data-val")||!0,T=d._fullLayout,p=T._subplots.geo||[],S=0;S<p.length;S++){var M=p[S],E=T[M];if(y==="zoom"){var P=E.projection.scale,O=x==="in"?2*P:.5*P;k.call("_guiRelayout",d,M+".projection.scale",O)}}y==="reset"&&b(d,"geo")}function u(d){var g=d._fullLayout;return!g.hovermode&&(g._has("cartesian")?g._isHoriz?"y":"x":"closest")}function h(d){var g=u(d);k.call("_guiRelayout",d,"hovermode",g)}function c(d,g){for(var m=g.currentTarget.getAttribute("data-val"),y=d._fullLayout,x=y._subplots.mapbox||[],T={},p=0;p<x.length;p++){var S=x[p],M=y[S].zoom,E=m==="in"?1.05*M:M/1.05;T[S+".zoom"]=E}k.call("_guiRelayout",d,T)}function b(d,g){for(var m=d._fullLayout,y=m._subplots[g]||[],x={},T=0;T<y.length;T++)for(var p=y[T],S=m[p]._subplot.viewInitial,M=Object.keys(S),E=0;E<M.length;E++){var P=M[E];x[p+"."+P]=S[P]}k.call("_guiRelayout",d,x)}t.toImage={name:"toImage",title:function(d){var g=(d._context.toImageButtonOptions||{}).format||"png";return s(d,g==="png"?"Download plot as a png":"Download plot")},icon:_.camera,click:function(d){var g=d._context.toImageButtonOptions,m={format:g.format||"png"};f.notifier(s(d,"Taking snapshot - this may take a few seconds"),"long"),m.format!=="svg"&&f.isIE()&&(f.notifier(s(d,"IE only supports svg.  Changing format to svg."),"long"),m.format="svg"),["filename","width","height","scale"].forEach(function(y){y in g&&(m[y]=g[y])}),k.call("downloadImage",d,m).then(function(y){f.notifier(s(d,"Snapshot succeeded")+" - "+y,"long")}).catch(function(){f.notifier(s(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(d){return s(d,"Edit in Chart Studio")},icon:_.disk,click:function(d){w.sendDataToCloud(d)}},t.editInChartStudio={name:"editInChartStudio",title:function(d){return s(d,"Edit in Chart Studio")},icon:_.pencil,click:function(d){w.sendDataToCloud(d)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return s(d,"Zoom")},attr:"dragmode",val:"zoom",icon:_.zoombox,click:a},t.pan2d={name:"pan2d",_cat:"pan",title:function(d){return s(d,"Pan")},attr:"dragmode",val:"pan",icon:_.pan,click:a},t.select2d={name:"select2d",_cat:"select",title:function(d){return s(d,"Box Select")},attr:"dragmode",val:"select",icon:_.selectbox,click:a},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return s(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:_.lasso,click:a},t.drawclosedpath={name:"drawclosedpath",title:function(d){return s(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:_.drawclosedpath,click:a},t.drawopenpath={name:"drawopenpath",title:function(d){return s(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:_.drawopenpath,click:a},t.drawline={name:"drawline",title:function(d){return s(d,"Draw line")},attr:"dragmode",val:"drawline",icon:_.drawline,click:a},t.drawrect={name:"drawrect",title:function(d){return s(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:_.drawrect,click:a},t.drawcircle={name:"drawcircle",title:function(d){return s(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:_.drawcircle,click:a},t.eraseshape={name:"eraseshape",title:function(d){return s(d,"Erase active shape")},icon:_.eraseshape,click:v},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return s(d,"Zoom in")},attr:"zoom",val:"in",icon:_.zoom_plus,click:a},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return s(d,"Zoom out")},attr:"zoom",val:"out",icon:_.zoom_minus,click:a},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return s(d,"Autoscale")},attr:"zoom",val:"auto",icon:_.autoscale,click:a},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return s(d,"Reset axes")},attr:"zoom",val:"reset",icon:_.home,click:a},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return s(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:_.tooltip_basic,gravity:"ne",click:a},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return s(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:_.tooltip_compare,gravity:"ne",click:a},t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return s(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:_.zoombox,click:n},t.pan3d={name:"pan3d",_cat:"pan",title:function(d){return s(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:_.pan,click:n},t.orbitRotation={name:"orbitRotation",title:function(d){return s(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:_["3d_rotate"],click:n},t.tableRotation={name:"tableRotation",title:function(d){return s(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:_["z-axis"],click:n},t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return s(d,"Reset camera to default")},attr:"resetDefault",icon:_.home,click:i},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return s(d,"Reset camera to last save")},attr:"resetLastSave",icon:_.movie,click:i},t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return s(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:_.tooltip_basic,gravity:"ne",click:function(d,g){var m=l(d,g);k.call("_guiRelayout",d,m)}},t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return s(d,"Zoom in")},attr:"zoom",val:"in",icon:_.zoom_plus,click:o},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return s(d,"Zoom out")},attr:"zoom",val:"out",icon:_.zoom_minus,click:o},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return s(d,"Reset")},attr:"reset",val:null,icon:_.autoscale,click:o},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return s(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:_.tooltip_basic,gravity:"ne",click:h},t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return s(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:_.tooltip_basic,gravity:"ne",click:h},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return s(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:_.tooltip_basic,gravity:"ne",click:h},t.resetViewSankey={name:"resetSankeyGroup",title:function(d){return s(d,"Reset view")},icon:_.home,click:function(d){for(var g={"node.groups":[],"node.x":[],"node.y":[]},m=0;m<d._fullData.length;m++){var y=d._fullData[m]._viewInitial;g["node.groups"].push(y.node.groups.slice()),g["node.x"].push(y.node.x.slice()),g["node.y"].push(y.node.y.slice())}k.call("restyle",d,g)}},t.toggleHover={name:"toggleHover",title:function(d){return s(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:_.tooltip_basic,gravity:"ne",click:function(d,g){var m=l(d,g);m.hovermode=u(d),k.call("_guiRelayout",d,m)}},t.resetViews={name:"resetViews",title:function(d){return s(d,"Reset views")},icon:_.home,click:function(d,g){var m=g.currentTarget;m.setAttribute("data-attr","zoom"),m.setAttribute("data-val","reset"),a(d,g),m.setAttribute("data-attr","resetLastSave"),i(d,g),b(d,"geo"),b(d,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(d){return s(d,"Toggle Spike Lines")},icon:_.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var g=d._fullLayout,m=g._cartesianSpikesEnabled;g._cartesianSpikesEnabled=m==="on"?"off":"on",k.call("_guiRelayout",d,function(y){for(var x=y._fullLayout._cartesianSpikesEnabled==="on",T=r.list(y,null,!0),p={},S=0;S<T.length;S++){var M=T[S];p[M._name+".showspikes"]=!!x||M._showSpikeInitial}return p}(d))}},t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return s(d,"Reset view")},attr:"reset",icon:_.home,click:function(d){b(d,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return s(d,"Zoom in")},attr:"zoom",val:"in",icon:_.zoom_plus,click:c},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return s(d,"Zoom out")},attr:"zoom",val:"out",icon:_.zoom_minus,click:c}},76052:function(B,L,e){var k=e(44248),w=Object.keys(k),r=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],_=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(r),v=[];w.forEach(function(f){(function(s){if(_.indexOf(s._cat||s.name)===-1){var t=s.name,a=(s._cat||s.name).toLowerCase();v.indexOf(t)===-1&&v.push(t),v.indexOf(a)===-1&&v.push(a)}})(k[f])}),v.sort(),B.exports={DRAW_MODES:r,backButtons:_,foreButtons:v}},90824:function(B,L,e){var k=e(3400),w=e(76308),r=e(31780),_=e(66540);B.exports=function(v,f){var s=v.modebar||{},t=r.newContainer(f,"modebar");function a(i,l){return k.coerce(s,t,_,i,l)}a("orientation"),a("bgcolor",w.addOpacity(f.paper_bgcolor,.5));var n=w.contrast(w.rgb(f.modebar.bgcolor));a("color",w.addOpacity(n,.3)),a("activecolor",w.addOpacity(n,.7)),a("uirevision",f.uirevision),a("add"),a("remove")}},45460:function(B,L,e){B.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(B,L,e){var k=e(79811),w=e(43028),r=e(24040),_=e(10624).isUnifiedHover,v=e(66400),f=e(44248),s=e(76052).DRAW_MODES,t=e(3400).extendDeep;B.exports=function(a){var n=a._fullLayout,i=a._context,l=n._modeBar;if(i.displayModeBar||i.watermark){if(!Array.isArray(i.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(i.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var o,u=i.modeBarButtons;o=Array.isArray(u)&&u.length?function(h){for(var c=t([],h),b=0;b<c.length;b++)for(var d=c[b],g=0;g<d.length;g++){var m=d[g];if(typeof m=="string"){if(f[m]===void 0)throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));c[b][g]=f[m]}}return c}(u):!i.displayModeBar&&i.watermark?[]:function(h){var c=h._fullLayout,b=h._fullData,d=h._context;function g(ge,ve){if(typeof ve=="string"){if(ve.toLowerCase()===ge.toLowerCase())return!0}else{var be=ve.name,we=ve._cat||ve.name;if(be===ge||we===ge.toLowerCase())return!0}return!1}var m=c.modebar.add;typeof m=="string"&&(m=[m]);var y=c.modebar.remove;typeof y=="string"&&(y=[y]);var x=d.modeBarButtonsToAdd.concat(m.filter(function(ge){for(var ve=0;ve<d.modeBarButtonsToRemove.length;ve++)if(g(ge,d.modeBarButtonsToRemove[ve]))return!1;return!0})),T=d.modeBarButtonsToRemove.concat(y.filter(function(ge){for(var ve=0;ve<d.modeBarButtonsToAdd.length;ve++)if(g(ge,d.modeBarButtonsToAdd[ve]))return!1;return!0})),p=c._has("cartesian"),S=c._has("gl3d"),M=c._has("geo"),E=c._has("pie"),P=c._has("funnelarea"),O=c._has("gl2d"),I=c._has("ternary"),R=c._has("mapbox"),U=c._has("polar"),z=c._has("smith"),j=c._has("sankey"),W=function(ge){for(var ve=k.list({_fullLayout:ge},null,!0),be=0;be<ve.length;be++)if(!ve[be].fixedrange)return!1;return!0}(c),F=_(c.hovermode),V=[];function H(ge){if(ge.length){for(var ve=[],be=0;be<ge.length;be++){for(var we=ge[be],ye=f[we],me=ye.name.toLowerCase(),Ae=(ye._cat||ye.name).toLowerCase(),ke=!1,fe=0;fe<T.length;fe++){var le=T[fe].toLowerCase();if(le===me||le===Ae){ke=!0;break}}ke||ve.push(f[we])}V.push(ve)}}var te=["toImage"];d.showEditInChartStudio?te.push("editInChartStudio"):d.showSendToCloud&&te.push("sendDataToCloud"),H(te);var Q=[],K=[],X=[],J=[];(p||O||E||P||I)+M+S+R+U+z>1?(K=["toggleHover"],X=["resetViews"]):M?(Q=["zoomInGeo","zoomOutGeo"],K=["hoverClosestGeo"],X=["resetGeo"]):S?(K=["hoverClosest3d"],X=["resetCameraDefault3d","resetCameraLastSave3d"]):R?(Q=["zoomInMapbox","zoomOutMapbox"],K=["toggleHover"],X=["resetViewMapbox"]):O?K=["hoverClosestGl2d"]:E?K=["hoverClosestPie"]:j?(K=["hoverClosestCartesian","hoverCompareCartesian"],X=["resetViewSankey"]):K=["toggleHover"],p&&(K=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(ge){for(var ve=0;ve<ge.length;ve++)if(!r.traceIs(ge[ve],"noHover"))return!1;return!0}(b)||F)&&(K=[]),!p&&!O||W||(Q=["zoomIn2d","zoomOut2d","autoScale2d"],X[0]!=="resetViews"&&(X=["resetScale2d"])),S?J=["zoom3d","pan3d","orbitRotation","tableRotation"]:(p||O)&&!W||I?J=["zoom2d","pan2d"]:R||M?J=["pan2d"]:U&&(J=["zoom2d"]),function(ge){for(var ve=!1,be=0;be<ge.length&&!ve;be++){var we=ge[be];we._module&&we._module.selectPoints&&(r.traceIs(we,"scatter-like")?(w.hasMarkers(we)||w.hasText(we))&&(ve=!0):r.traceIs(we,"box-violin")&&we.boxpoints!=="all"&&we.points!=="all"||(ve=!0))}return ve}(b)&&J.push("select2d","lasso2d");var ee=[],ie=function(ge){ee.indexOf(ge)===-1&&K.indexOf(ge)!==-1&&ee.push(ge)};if(Array.isArray(x)){for(var oe=[],ae=0;ae<x.length;ae++){var ce=x[ae];typeof ce=="string"?(ce=ce.toLowerCase(),s.indexOf(ce)!==-1?(c._has("mapbox")||c._has("cartesian"))&&J.push(ce):ce==="togglespikelines"?ie("toggleSpikelines"):ce==="togglehover"?ie("toggleHover"):ce==="hovercompare"?ie("hoverCompareCartesian"):ce==="hoverclosest"?(ie("hoverClosestCartesian"),ie("hoverClosestGeo"),ie("hoverClosest3d"),ie("hoverClosestGl2d"),ie("hoverClosestPie")):ce==="v1hovermode"&&(ie("toggleHover"),ie("hoverClosestCartesian"),ie("hoverCompareCartesian"),ie("hoverClosestGeo"),ie("hoverClosest3d"),ie("hoverClosestGl2d"),ie("hoverClosestPie"))):oe.push(ce)}x=oe}return H(J),H(Q.concat(X)),H(ee),function(ge,ve){if(ve.length)if(Array.isArray(ve[0]))for(var be=0;be<ve.length;be++)ge.push(ve[be]);else ge.push(ve);return ge}(V,x)}(a),l?l.update(a,o):n._modeBar=v(a,o)}else l&&(l.destroy(),delete n._modeBar)}},66400:function(B,L,e){var k=e(33428),w=e(38248),r=e(3400),_=e(9224),v=e(25788).version,f=new DOMParser;function s(a){this.container=a.container,this.element=document.createElement("div"),this.update(a.graphInfo,a.buttons),this.container.appendChild(this.element)}var t=s.prototype;t.update=function(a,n){this.graphInfo=a;var i=this.graphInfo._context,l=this.graphInfo._fullLayout,o="modebar-"+l._uid;this.element.setAttribute("id",o),this._uid=o,this.element.className="modebar",i.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),l.modebar.orientation==="v"&&(this.element.className+=" vertical",n=n.reverse());var u=l.modebar,h=i.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";r.deleteRelatedStyleRule(o),r.addRelatedStyleRule(o,h+"#"+o+" .modebar-group","background-color: "+u.bgcolor),r.addRelatedStyleRule(o,"#"+o+" .modebar-btn .icon path","fill: "+u.color),r.addRelatedStyleRule(o,"#"+o+" .modebar-btn:hover .icon path","fill: "+u.activecolor),r.addRelatedStyleRule(o,"#"+o+" .modebar-btn.active .icon path","fill: "+u.activecolor);var c=!this.hasButtons(n),b=this.hasLogo!==i.displaylogo,d=this.locale!==i.locale;if(this.locale=i.locale,(c||b||d)&&(this.removeAllButtons(),this.updateButtons(n),i.watermark||i.displaylogo)){var g=this.getLogo();i.watermark&&(g.className=g.className+" watermark"),l.modebar.orientation==="v"?this.element.insertBefore(g,this.element.childNodes[0]):this.element.appendChild(g),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(a){var n=this;this.buttons=a,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(i){var l=n.createGroup();i.forEach(function(o){var u=o.name;if(!u)throw new Error("must provide button 'name' in button config");if(n.buttonsNames.indexOf(u)!==-1)throw new Error("button name '"+u+"' is taken");n.buttonsNames.push(u);var h=n.createButton(o);n.buttonElements.push(h),l.appendChild(h)}),n.element.appendChild(l)})},t.createGroup=function(){var a=document.createElement("div");return a.className="modebar-group",a},t.createButton=function(a){var n=this,i=document.createElement("a");i.setAttribute("rel","tooltip"),i.className="modebar-btn";var l=a.title;l===void 0?l=a.name:typeof l=="function"&&(l=l(this.graphInfo)),(l||l===0)&&i.setAttribute("data-title",l),a.attr!==void 0&&i.setAttribute("data-attr",a.attr);var o=a.val;if(o!==void 0&&(typeof o=="function"&&(o=o(this.graphInfo)),i.setAttribute("data-val",o)),typeof a.click!="function")throw new Error("must provide button 'click' function in button config");i.addEventListener("click",function(h){a.click(n.graphInfo,h),n.updateActiveButton(h.currentTarget)}),i.setAttribute("data-toggle",a.toggle||!1),a.toggle&&k.select(i).classed("active",!0);var u=a.icon;return typeof u=="function"?i.appendChild(u()):i.appendChild(this.createIcon(u||_.question)),i.setAttribute("data-gravity",a.gravity||"n"),i},t.createIcon=function(a){var n,i=w(a.height)?Number(a.height):a.ascent-a.descent,l="http://www.w3.org/2000/svg";if(a.path){(n=document.createElementNS(l,"svg")).setAttribute("viewBox",[0,0,a.width,i].join(" ")),n.setAttribute("class","icon");var o=document.createElementNS(l,"path");o.setAttribute("d",a.path),a.transform?o.setAttribute("transform",a.transform):a.ascent!==void 0&&o.setAttribute("transform","matrix(1 0 0 -1 0 "+a.ascent+")"),n.appendChild(o)}return a.svg&&(n=f.parseFromString(a.svg,"application/xml").childNodes[0]),n.setAttribute("height","1em"),n.setAttribute("width","1em"),n},t.updateActiveButton=function(a){var n=this.graphInfo._fullLayout,i=a!==void 0?a.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var o=l.getAttribute("data-val")||!0,u=l.getAttribute("data-attr"),h=l.getAttribute("data-toggle")==="true",c=k.select(l);if(h)u===i&&c.classed("active",!c.classed("active"));else{var b=u===null?u:r.nestedProperty(n,u).get();c.classed("active",b===o)}})},t.hasButtons=function(a){var n=this.buttons;if(!n||a.length!==n.length)return!1;for(var i=0;i<a.length;++i){if(a[i].length!==n[i].length)return!1;for(var l=0;l<a[i].length;l++)if(a[i][l].name!==n[i][l].name)return!1}return!0},t.getLogo=function(){var a=this.createGroup(),n=document.createElement("a");return n.href="https://plotly.com/",n.target="_blank",n.setAttribute("data-title",r._(this.graphInfo,"Produced with Plotly.js")+" (v"+v+")"),n.className="modebar-btn plotlyjsicon modebar-btn--logo",n.appendChild(this.createIcon(_.newplotlylogo)),a.appendChild(n),a},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){r.removeElement(this.container.querySelector(".modebar")),r.deleteRelatedStyleRule(this._uid)},B.exports=function(a,n){var i=a._fullLayout,l=new s({graphInfo:a,container:i._modebardiv.node(),buttons:n});return i._privateplot&&k.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}},26680:function(B,L,e){var k=e(25376),w=e(22548),r=(0,e(31780).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});B.exports={visible:{valType:"boolean",editType:"plot"},buttons:r,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:k({editType:"plot"}),bgcolor:{valType:"color",dflt:w.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:w.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(B){B.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(B,L,e){var k=e(3400),w=e(76308),r=e(31780),_=e(51272),v=e(26680),f=e(85984);function s(t,a,n,i){var l=i.calendar;function o(h,c){return k.coerce(t,a,v.buttons,h,c)}if(o("visible")){var u=o("step");u!=="all"&&(!l||l==="gregorian"||u!=="month"&&u!=="year"?o("stepmode"):a.stepmode="backward",o("count")),o("label")}}B.exports=function(t,a,n,i,l){var o=t.rangeselector||{},u=r.newContainer(a,"rangeselector");function h(d,g){return k.coerce(o,u,v,d,g)}if(h("visible",_(o,u,{name:"buttons",handleItemDefaults:s,calendar:l}).length>0)){var c=function(d,g,m){for(var y=m.filter(function(S){return g[S].anchor===d._id}),x=0,T=0;T<y.length;T++){var p=g[y[T]].domain;p&&(x=Math.max(p[1],x))}return[d.domain[0],x+f.yPad]}(a,n,i);h("x",c[0]),h("y",c[1]),k.noneOrAll(t,a,["x","y"]),h("xanchor"),h("yanchor"),k.coerceFont(h,"font",n.font);var b=h("bgcolor");h("activecolor",w.contrast(b,f.lightAmount,f.darkAmount)),h("bordercolor"),h("borderwidth")}}},50216:function(B,L,e){var k=e(33428),w=e(24040),r=e(7316),_=e(76308),v=e(43616),f=e(3400),s=f.strTranslate,t=e(72736),a=e(79811),n=e(84284),i=n.LINE_SPACING,l=n.FROM_TL,o=n.FROM_BR,u=e(85984),h=e(48040);function c(g){return g._id}function b(g,m,y){var x=f.ensureSingle(g,"rect","selector-rect",function(T){T.attr("shape-rendering","crispEdges")});x.attr({rx:u.rx,ry:u.ry}),x.call(_.stroke,m.bordercolor).call(_.fill,function(T,p){return p._isActive||p._isHovered?T.activecolor:T.bgcolor}(m,y)).style("stroke-width",m.borderwidth+"px")}function d(g,m,y,x){var T,p;f.ensureSingle(g,"text","selector-text",function(S){S.attr("text-anchor","middle")}).call(v.font,m.font).text((T=y,p=x._fullLayout._meta,T.label?p?f.templateString(T.label,p):T.label:T.step==="all"?"all":T.count+T.step.charAt(0))).call(function(S){t.convertToTspans(S,x)})}B.exports=function(g){var m=g._fullLayout._infolayer.selectAll(".rangeselector").data(function(y){for(var x=a.list(y,"x",!0),T=[],p=0;p<x.length;p++){var S=x[p];S.rangeselector&&S.rangeselector.visible&&T.push(S)}return T}(g),c);m.enter().append("g").classed("rangeselector",!0),m.exit().remove(),m.style({cursor:"pointer","pointer-events":"all"}),m.each(function(y){var x=k.select(this),T=y,p=T.rangeselector,S=x.selectAll("g.button").data(f.filterVisible(p.buttons));S.enter().append("g").classed("button",!0),S.exit().remove(),S.each(function(M){var E=k.select(this),P=h(T,M);M._isActive=function(O,I,R){if(I.step==="all")return O.autorange===!0;var U=Object.keys(R);return O.range[0]===R[U[0]]&&O.range[1]===R[U[1]]}(T,M,P),E.call(b,p,M),E.call(d,p,M,g),E.on("click",function(){g._dragged||w.call("_guiRelayout",g,P)}),E.on("mouseover",function(){M._isHovered=!0,E.call(b,p,M)}),E.on("mouseout",function(){M._isHovered=!1,E.call(b,p,M)})}),function(M,E,P,O,I){var R=0,U=0,z=P.borderwidth;E.each(function(){var te=k.select(this).select(".selector-text"),Q=P.font.size*i,K=Math.max(Q*t.lineCount(te),16)+3;U=Math.max(U,K)}),E.each(function(){var te=k.select(this),Q=te.select(".selector-rect"),K=te.select(".selector-text"),X=K.node()&&v.bBox(K.node()).width,J=P.font.size*i,ee=t.lineCount(K),ie=Math.max(X+10,u.minButtonWidth);te.attr("transform",s(z+R,z)),Q.attr({x:0,y:0,width:ie,height:U}),t.positionText(K,ie/2,U/2-(ee-1)*J/2+3),R+=ie+5});var j=M._fullLayout._size,W=j.l+j.w*P.x,F=j.t+j.h*(1-P.y),V="left";f.isRightAnchor(P)&&(W-=R,V="right"),f.isCenterAnchor(P)&&(W-=R/2,V="center");var H="top";f.isBottomAnchor(P)&&(F-=U,H="bottom"),f.isMiddleAnchor(P)&&(F-=U/2,H="middle"),R=Math.ceil(R),U=Math.ceil(U),W=Math.round(W),F=Math.round(F),r.autoMargin(M,O+"-range-selector",{x:P.x,y:P.y,l:R*l[V],r:R*o[V],b:U*o[H],t:U*l[H]}),I.attr("transform",s(W,F))}(g,S,p,T._name,x)})}},48040:function(B,L,e){var k=e(73220),w=e(3400).titleCase;B.exports=function(r,_){var v=r._name,f={};if(_.step==="all")f[v+".autorange"]=!0;else{var s=function(t,a){var n,i=t.range,l=new Date(t.r2l(i[1])),o=a.step,u=k["utc"+w(o)],h=a.count;switch(a.stepmode){case"backward":n=t.l2r(+u.offset(l,-h));break;case"todate":var c=u.offset(l,-h);n=t.l2r(+u.ceil(c))}return[n,i[1]]}(r,_);f[v+".range[0]"]=s[0],f[v+".range[1]"]=s[1]}return f}},41152:function(B,L,e){B.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(B,L,e){var k=e(22548);B.exports={bgcolor:{valType:"color",dflt:k.background,editType:"plot"},bordercolor:{valType:"color",dflt:k.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(B,L,e){var k=e(79811).list,w=e(19280).getAutoRange,r=e(74636);B.exports=function(_){for(var v=k(_,"x",!0),f=0;f<v.length;f++){var s=v[f],t=s[r.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=w(_,s))}}},74636:function(B){B.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(B,L,e){var k=e(3400),w=e(31780),r=e(79811),_=e(11200),v=e(10936);B.exports=function(f,s,t){var a=f[t],n=s[t];if(a.rangeslider||s._requestRangeslider[n._id]){k.isPlainObject(a.rangeslider)||(a.rangeslider={});var i,l,o=a.rangeslider,u=w.newContainer(n,"rangeslider");if(x("visible")){x("bgcolor",s.plot_bgcolor),x("bordercolor"),x("borderwidth"),x("thickness"),x("autorange",!n.isValidRange(o.range)),x("range");var h=s._subplots;if(h)for(var c=h.cartesian.filter(function(p){return p.substr(0,p.indexOf("y"))===r.name2id(t)}).map(function(p){return p.substr(p.indexOf("y"),p.length)}),b=k.simpleMap(c,r.id2name),d=0;d<b.length;d++){var g=b[d];i=o[g]||{},l=w.newContainer(u,g,"yaxis");var m,y=s[g];i.range&&y.isValidRange(i.range)&&(m="fixed"),T("rangemode",m)!=="match"&&T("range",y.range.slice())}u._input=o}}function x(p,S){return k.coerce(o,u,_,p,S)}function T(p,S){return k.coerce(i,l,v,p,S)}}},20060:function(B,L,e){var k=e(33428),w=e(24040),r=e(7316),_=e(3400),v=_.strTranslate,f=e(43616),s=e(76308),t=e(81668),a=e(57952),n=e(79811),i=e(86476),l=e(93972),o=e(74636);function u(y){return typeof y.clientX=="number"?y.clientX:y.touches&&y.touches.length>0?y.touches[0].clientX:0}function h(y,x,T,p){var S=_.ensureSingle(y,"rect",o.bgClassName,function(O){O.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),M=p.borderwidth%2==0?p.borderwidth:p.borderwidth-1,E=-p._offsetShift,P=f.crispRound(x,p.borderwidth);S.attr({width:p._width+M,height:p._height+M,transform:v(E,E),"stroke-width":P}).call(s.stroke,p.bordercolor).call(s.fill,p.bgcolor)}function c(y,x,T,p){var S=x._fullLayout;_.ensureSingleById(S._topdefs,"clipPath",p._clipId,function(M){M.append("rect").attr({x:0,y:0})}).select("rect").attr({width:p._width,height:p._height})}function b(y,x,T,p){var S,M=x.calcdata,E=y.selectAll("g."+o.rangePlotClassName).data(T._subplotsWith,_.identity);E.enter().append("g").attr("class",function(P){return o.rangePlotClassName+" "+P}).call(f.setClipUrl,p._clipId,x),E.order(),E.exit().remove(),E.each(function(P,O){var I=k.select(this),R=O===0,U=n.getFromId(x,P,"y"),z=U._name,j=p[z],W={data:[],layout:{xaxis:{type:T.type,domain:[0,1],range:p.range.slice(),calendar:T.calendar},width:p._width,height:p._height,margin:{t:0,b:0,l:0,r:0}},_context:x._context};T.rangebreaks&&(W.layout.xaxis.rangebreaks=T.rangebreaks),W.layout[z]={type:U.type,domain:[0,1],range:j.rangemode!=="match"?j.range.slice():U.range.slice(),calendar:U.calendar},U.rangebreaks&&(W.layout[z].rangebreaks=U.rangebreaks),r.supplyDefaults(W);var F=W._fullLayout.xaxis,V=W._fullLayout[z];F.clearCalc(),F.setScale(),V.clearCalc(),V.setScale();var H={id:P,plotgroup:I,xaxis:F,yaxis:V,isRangePlot:!0};R?S=H:(H.mainplot="xy",H.mainplotinfo=S),a.rangePlot(x,H,function(te,Q){for(var K=[],X=0;X<te.length;X++){var J=te[X],ee=J[0].trace;ee.xaxis+ee.yaxis===Q&&K.push(J)}return K}(M,P))})}function d(y,x,T,p,S){_.ensureSingle(y,"rect",o.maskMinClassName,function(M){M.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",p._height).call(s.fill,o.maskColor),_.ensureSingle(y,"rect",o.maskMaxClassName,function(M){M.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",p._height).call(s.fill,o.maskColor),S.rangemode!=="match"&&(_.ensureSingle(y,"rect",o.maskMinOppAxisClassName,function(M){M.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",p._width).call(s.fill,o.maskOppAxisColor),_.ensureSingle(y,"rect",o.maskMaxOppAxisClassName,function(M){M.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",p._width).style("border-top",o.maskOppBorder).call(s.fill,o.maskOppAxisColor))}function g(y,x,T,p){x._context.staticPlot||_.ensureSingle(y,"rect",o.slideBoxClassName,function(S){S.attr({y:0,cursor:o.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:p._height,fill:o.slideBoxFill})}function m(y,x,T,p){var S=_.ensureSingle(y,"g",o.grabberMinClassName),M=_.ensureSingle(y,"g",o.grabberMaxClassName),E={x:0,width:o.handleWidth,rx:o.handleRadius,fill:s.background,stroke:s.defaultLine,"stroke-width":o.handleStrokeWidth,"shape-rendering":"crispEdges"},P={y:Math.round(p._height/4),height:Math.round(p._height/2)};_.ensureSingle(S,"rect",o.handleMinClassName,function(I){I.attr(E)}).attr(P),_.ensureSingle(M,"rect",o.handleMaxClassName,function(I){I.attr(E)}).attr(P);var O={width:o.grabAreaWidth,x:0,y:0,fill:o.grabAreaFill,cursor:x._context.staticPlot?void 0:o.grabAreaCursor};_.ensureSingle(S,"rect",o.grabAreaMinClassName,function(I){I.attr(O)}).attr("height",p._height),_.ensureSingle(M,"rect",o.grabAreaMaxClassName,function(I){I.attr(O)}).attr("height",p._height)}B.exports=function(y){for(var x=y._fullLayout,T=x._rangeSliderData,p=0;p<T.length;p++){var S=T[p][o.name];S._clipId=S._id+"-"+x._uid}var M=x._infolayer.selectAll("g."+o.containerClassName).data(T,function(E){return E._name});M.exit().each(function(E){var P=E[o.name];x._topdefs.select("#"+P._clipId).remove()}).remove(),T.length!==0&&(M.enter().append("g").classed(o.containerClassName,!0).attr("pointer-events","all"),M.each(function(E){var P=k.select(this),O=E[o.name],I=x[n.id2name(E.anchor)],R=O[n.id2name(E.anchor)];if(O.range){var U,z=_.simpleMap(O.range,E.r2l),j=_.simpleMap(E.range,E.r2l);U=j[0]<j[1]?[Math.min(z[0],j[0]),Math.max(z[1],j[1])]:[Math.max(z[0],j[0]),Math.min(z[1],j[1])],O.range=O._input.range=_.simpleMap(U,E.l2r)}E.cleanRange("rangeslider.range");var W=x._size,F=E.domain;O._width=W.w*(F[1]-F[0]);var V=Math.round(W.l+W.w*F[0]),H=Math.round(W.t+W.h*(1-E._counterDomainMin)+(E.side==="bottom"?E._depth:0)+O._offsetShift+o.extraPad);P.attr("transform",v(V,H)),O._rl=_.simpleMap(O.range,E.r2l);var te=O._rl[0],Q=O._rl[1],K=Q-te;if(O.p2d=function(ve){return ve/O._width*K+te},O.d2p=function(ve){return(ve-te)/K*O._width},E.rangebreaks){var X=E.locateBreaks(te,Q);if(X.length){var J,ee,ie=0;for(J=0;J<X.length;J++)ie+=(ee=X[J]).max-ee.min;var oe=O._width/(Q-te-ie),ae=[-oe*te];for(J=0;J<X.length;J++)ee=X[J],ae.push(ae[ae.length-1]-oe*(ee.max-ee.min));for(O.d2p=function(ve){for(var be=ae[0],we=0;we<X.length;we++){var ye=X[we];if(ve>=ye.max)be=ae[we+1];else if(ve<ye.min)break}return be+oe*ve},J=0;J<X.length;J++)(ee=X[J]).pmin=O.d2p(ee.min),ee.pmax=O.d2p(ee.max);O.p2d=function(ve){for(var be=ae[0],we=0;we<X.length;we++){var ye=X[we];if(ve>=ye.pmax)be=ae[we+1];else if(ve<ye.pmin)break}return(ve-be)/oe}}}if(R.rangemode!=="match"){var ce=I.r2l(R.range[0]),ge=I.r2l(R.range[1])-ce;O.d2pOppAxis=function(ve){return(ve-ce)/ge*O._height}}P.call(h,y,E,O).call(c,y,E,O).call(b,y,E,O).call(d,y,E,O,R).call(g,y,E,O).call(m,y,E,O),function(ve,be,we,ye){if(!be._context.staticPlot){var me=ve.select("rect."+o.slideBoxClassName).node(),Ae=ve.select("rect."+o.grabAreaMinClassName).node(),ke=ve.select("rect."+o.grabAreaMaxClassName).node();ve.on("mousedown",fe),ve.on("touchstart",fe)}function fe(){var le=k.event,de=le.target,Ce=u(le),Me=Ce-ve.node().getBoundingClientRect().left,Le=ye.d2p(we._rl[0]),Oe=ye.d2p(we._rl[1]),Be=i.coverSlip();function pe(Te){var Re,Ne,ze,Ge=+u(Te)-Ce;switch(de){case me:if(ze="ew-resize",Le+Ge>we._length||Oe+Ge<0)return;Re=Le+Ge,Ne=Oe+Ge;break;case Ae:if(ze="col-resize",Le+Ge>we._length)return;Re=Le+Ge,Ne=Oe;break;case ke:if(ze="col-resize",Oe+Ge<0)return;Re=Le,Ne=Oe+Ge;break;default:ze="ew-resize",Re=Me,Ne=Me+Ge}if(Ne<Re){var Ye=Ne;Ne=Re,Re=Ye}ye._pixelMin=Re,ye._pixelMax=Ne,l(k.select(Be),ze),function(et,ut,ot,yt){function wt(rt){return ot.l2r(_.constrain(rt,yt._rl[0],yt._rl[1]))}var bt=wt(yt.p2d(yt._pixelMin)),at=wt(yt.p2d(yt._pixelMax));window.requestAnimationFrame(function(){w.call("_guiRelayout",ut,ot._name+".range",[bt,at])})}(0,be,we,ye)}function _e(){Be.removeEventListener("mousemove",pe),Be.removeEventListener("mouseup",_e),this.removeEventListener("touchmove",pe),this.removeEventListener("touchend",_e),_.removeElement(Be)}this.addEventListener("touchmove",pe),this.addEventListener("touchend",_e),Be.addEventListener("mousemove",pe),Be.addEventListener("mouseup",_e)}}(P,y,E,O),function(ve,be,we,ye,me,Ae){var ke=o.handleWidth/2;function fe(Te){return _.constrain(Te,0,ye._width)}function le(Te){return _.constrain(Te,0,ye._height)}function de(Te){return _.constrain(Te,-ke,ye._width+ke)}var Ce=fe(ye.d2p(we._rl[0])),Me=fe(ye.d2p(we._rl[1]));if(ve.select("rect."+o.slideBoxClassName).attr("x",Ce).attr("width",Me-Ce),ve.select("rect."+o.maskMinClassName).attr("width",Ce),ve.select("rect."+o.maskMaxClassName).attr("x",Me).attr("width",ye._width-Me),Ae.rangemode!=="match"){var Le=ye._height-le(ye.d2pOppAxis(me._rl[1])),Oe=ye._height-le(ye.d2pOppAxis(me._rl[0]));ve.select("rect."+o.maskMinOppAxisClassName).attr("x",Ce).attr("height",Le).attr("width",Me-Ce),ve.select("rect."+o.maskMaxOppAxisClassName).attr("x",Ce).attr("y",Oe).attr("height",ye._height-Oe).attr("width",Me-Ce),ve.select("rect."+o.slideBoxClassName).attr("y",Le).attr("height",Oe-Le)}var Be=.5,pe=Math.round(de(Ce-ke))-Be,_e=Math.round(de(Me-ke))+Be;ve.select("g."+o.grabberMinClassName).attr("transform",v(pe,Be)),ve.select("g."+o.grabberMaxClassName).attr("transform",v(_e,Be))}(P,0,E,O,I,R),E.side==="bottom"&&t.draw(y,E._id+"title",{propContainer:E,propName:E._name+".title",placeholder:x._dfltTitle.x,attributes:{x:E._offset+E._length/2,y:H+O._height+O._offsetShift+10+1.5*E.title.font.size,"text-anchor":"middle"}})}))}},97944:function(B,L,e){var k=e(79811),w=e(72736),r=e(74636),_=e(84284).LINE_SPACING,v=r.name;function f(s){var t=s&&s[v];return t&&t.visible}L.isVisible=f,L.makeData=function(s){var t=k.list({_fullLayout:s},"x",!0),a=s.margin,n=[];if(!s._has("gl2d"))for(var i=0;i<t.length;i++){var l=t[i];if(f(l)){n.push(l);var o=l[v];o._id=v+l._id,o._height=(s.height-a.b-a.t)*o.thickness,o._offsetShift=Math.floor(o.borderwidth/2)}}s._rangeSliderData=n},L.autoMarginOpts=function(s,t){var a=s._fullLayout,n=t[v],i=t._id.charAt(0),l=0,o=0;return t.side==="bottom"&&(l=t._depth,t.title.text!==a._dfltTitle[i]&&(o=1.5*t.title.font.size+10+n._offsetShift,o+=(t.title.text.match(w.BR_TAG_ALL)||[]).length*t.title.font.size*_)),{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:n._height+l+Math.max(a.margin.b,o),pad:r.extraPad+2*n._offsetShift}}},49692:function(B,L,e){var k=e(3400),w=e(11200),r=e(10936),_=e(97944);B.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:k.extendFlat({},w,{yaxis:r})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:_.isVisible,makeData:_.makeData,autoMarginOpts:_.autoMarginOpts}},10936:function(B){B.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(B,L,e){var k=e(13916),w=e(52904).line,r=e(98192).u,_=e(92880).extendFlat,v=e(67824).overrideAll,f=e(31780).templatedArray;e(36208),B.exports=v(f("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:_({},k.xref,{}),yref:_({},k.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:w.color,width:_({},w.width,{min:1,dflt:1}),dash:_({},r,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(B){B.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(B,L,e){var k=e(3400),w=e(54460),r=e(51272),_=e(93956),v=e(65152);function f(s,t,a){function n(E,P){return k.coerce(s,t,_,E,P)}var i=n("path"),l=n("type",i?"path":"rect")!=="path";l&&delete t.path,n("opacity"),n("line.color"),n("line.width"),n("line.dash");for(var o=["x","y"],u=0;u<2;u++){var h,c,b,d=o[u],g={_fullLayout:a},m=w.coerceRef(s,t,g,d);if((h=w.getFromId(g,m))._selectionIndices.push(t._index),b=v.rangeToShapePosition(h),c=v.shapePositionToRange(h),l){var y=d+"0",x=d+"1",T=s[y],p=s[x];s[y]=c(s[y],!0),s[x]=c(s[x],!0),w.coercePosition(t,g,n,m,y),w.coercePosition(t,g,n,m,x);var S=t[y],M=t[x];S!==void 0&&M!==void 0&&(t[y]=b(S),t[x]=b(M),s[y]=T,s[x]=p)}}l&&k.noneOrAll(s,t,["x0","x1","y0","y1"])}B.exports=function(s,t){r(s,t,{name:"selections",handleItemDefaults:f});for(var a=t.selections,n=0;n<a.length;n++){var i=a[n];i&&i.path===void 0&&(i.x0!==void 0&&i.x1!==void 0&&i.y0!==void 0&&i.y1!==void 0||(t.selections[n]=null))}}},23640:function(B,L,e){var k=e(9856).readPaths,w=e(55496),r=e(1936).clearOutlineControllers,_=e(76308),v=e(43616),f=e(31780).arrayEditor,s=e(65152),t=s.getPathString;function a(u){var h=u._fullLayout;for(var c in r(u),h._selectionLayer.selectAll("path").remove(),h._plots){var b=h._plots[c].selectionLayer;b&&b.selectAll("path").remove()}for(var d=0;d<h.selections.length;d++)i(u,d)}function n(u){return u._context.editSelection}function i(u,h){u._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+h+'"]').remove();var c=s.makeSelectionsOptionsAndPlotinfo(u,h),b=c.options,d=c.plotinfo;b._input&&function(g){var m=t(u,b),y={"data-index":h,"fill-rule":"evenodd",d:m},x=b.opacity,T="rgba(0,0,0,0)",p=b.line.color||_.contrast(u._fullLayout.plot_bgcolor),S=b.line.width,M=b.line.dash;S||(S=5,M="solid");var E=n(u)&&u._fullLayout._activeSelectionIndex===h;E&&(T=u._fullLayout.activeselection.fillcolor,x=u._fullLayout.activeselection.opacity);for(var P=[],O=1;O>=0;O--){var I=g.append("path").attr(y).style("opacity",O?.1:x).call(_.stroke,p).call(_.fill,T).call(v.dashLine,O?"solid":M,O?4+S:S);if(l(I,u,b),E){var R=f(u.layout,"selections",b);I.style({cursor:"move"});var U={element:I.node(),plotinfo:d,gd:u,editHelpers:R,isActiveSelection:!0},z=k(m,u);w(z,I,U)}else I.style("pointer-events",O?"all":"none");P[O]=I}var j=P[0];P[1].node().addEventListener("click",function(){return function(W,F){if(n(W)){var V=+F.node().getAttribute("data-index");if(V>=0){if(V===W._fullLayout._activeSelectionIndex)return void o(W);W._fullLayout._activeSelectionIndex=V,W._fullLayout._deactivateSelection=o,a(W)}}}(u,j)})}(u._fullLayout._selectionLayer)}function l(u,h,c){var b=c.xref+c.yref;v.setClipUrl(u,"clip"+h._fullLayout._uid+b,h)}function o(u){n(u)&&u._fullLayout._activeSelectionIndex>=0&&(r(u),delete u._fullLayout._activeSelectionIndex,a(u))}B.exports={draw:a,drawOne:i,activateLastSelection:function(u){if(n(u)){var h=u._fullLayout.selections.length-1;u._fullLayout._activeSelectionIndex=h,u._fullLayout._deactivateSelection=o,a(u)}}}},34200:function(B,L,e){var k=e(98192).u,w=e(92880).extendFlat;B.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:w({},k,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(B){B.exports=function(L,e,k){k("newselection.mode"),k("newselection.line.width")&&(k("newselection.line.color"),k("newselection.line.dash")),k("activeselection.fillcolor"),k("activeselection.opacity")}},5968:function(B,L,e){var k=e(72760).selectMode,w=e(1936).clearOutline,r=e(9856),_=r.readPaths,v=r.writePaths,f=r.fixDatesForPaths;B.exports=function(s,t){if(s.length){var a=s[0][0];if(a){var n=a.getAttribute("d"),i=t.gd,l=i._fullLayout.newselection,o=t.plotinfo,u=o.xaxis,h=o.yaxis,c=t.isActiveSelection,b=t.dragmode,d=(i.layout||{}).selections||[];if(!k(b)&&c!==void 0){var g=i._fullLayout._activeSelectionIndex;if(g<d.length)switch(i._fullLayout.selections[g].type){case"rect":b="select";break;case"path":b="lasso"}}var m,y=_(n,i,o,c),x={xref:u._id,yref:h._id,opacity:l.opacity,line:{color:l.line.color,width:l.line.width,dash:l.line.dash}};y.length===1&&(m=y[0]),m&&m.length===5&&b==="select"?(x.type="rect",x.x0=m[0][1],x.y0=m[0][2],x.x1=m[2][1],x.y1=m[2][2]):(x.type="path",u&&h&&f(y,u,h),x.path=v(y),m=null),w(i);for(var T=t.editHelpers,p=(T||{}).modifyItem,S=[],M=0;M<d.length;M++){var E=i._fullLayout.selections[M];if(E){if(S[M]=E._input,c!==void 0&&M===i._fullLayout._activeSelectionIndex){var P=x;switch(E.type){case"rect":p("x0",P.x0),p("x1",P.x1),p("y0",P.y0),p("y1",P.y1);break;case"path":p("path",P.path)}}}else S[M]=E}return c===void 0?(S.push(x),S):T?T.getUpdateObj():{}}}}},5840:function(B,L,e){var k=e(3400).strTranslate;function w(r,_){switch(r.type){case"log":return r.p2d(_);case"date":return r.p2r(_,0,r.calendar);default:return r.p2r(_)}}B.exports={p2r:w,r2p:function(r,_){switch(r.type){case"log":return r.d2p(_);case"date":return r.r2p(_,0,r.calendar);default:return r.r2p(_)}},axValue:function(r){var _=r._id.charAt(0)==="y"?1:0;return function(v){return w(r,v[_])}},getTransform:function(r){return k(r.xaxis._offset,r.yaxis._offset)}}},22676:function(B,L,e){var k=e(23640),w=e(43156);B.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:k.draw,drawOne:k.drawOne,reselect:w.reselect,prepSelect:w.prepSelect,clearOutline:w.clearOutline,clearSelectionsCache:w.clearSelectionsCache,selectOnClick:w.selectOnClick}},43156:function(B,L,e){var k=e(14756),w=e(61456),r=e(24040),_=e(43616).dashStyle,v=e(76308),f=e(93024),s=e(10624).makeEventData,t=e(72760),a=t.freeMode,n=t.rectMode,i=t.drawMode,l=t.openMode,o=t.selectMode,u=e(65152),h=e(85448),c=e(55496),b=e(1936).clearOutline,d=e(9856),g=d.handleEllipse,m=d.readPaths,y=e(93940).newShapes,x=e(5968),T=e(23640).activateLastSelection,p=e(3400),S=p.sorterAsc,M=e(92065),E=e(91200),P=e(79811).getFromId,O=e(73696),I=e(39172).redrawReglTraces,R=e(83280),U=R.MINSELECT,z=M.filter,j=M.tester,W=e(5840),F=W.p2r,V=W.axValue,H=W.getTransform;function te(pe){return pe.subplot!==void 0}function Q(pe,_e,Te,Re,Ne,ze,Ge){var Ye,et,ut,ot,yt,wt,bt,at,rt,At=_e._hoverdata,Rt=_e._fullLayout.clickmode.indexOf("event")>-1,Ft=[];if(function(Je){return Je&&Array.isArray(Je)&&Je[0].hoverOnBox!==!0}(At)){ee(pe,_e,ze);var Dt=function(Je,ct){var st,je,Ue=Je[0],lt=-1,Qe=[];for(je=0;je<ct.length;je++)if(st=ct[je],Ue.fullData._expandedIndex===st.cd[0].trace._expandedIndex){if(Ue.hoverOnBox===!0)break;Ue.pointNumber!==void 0?lt=Ue.pointNumber:Ue.binNumber!==void 0&&(lt=Ue.binNumber,Qe=Ue.pointNumbers);break}return{pointNumber:lt,pointNumbers:Qe,searchInfo:st}}(At,Ye=ae(_e,Te,Re,Ne));if(Dt.pointNumbers.length>0?function(Je,ct){var st,je,Ue,lt=[];for(Ue=0;Ue<Je.length;Ue++)(st=Je[Ue]).cd[0].trace.selectedpoints&&st.cd[0].trace.selectedpoints.length>0&&lt.push(st);if(lt.length===1&&lt[0]===ct.searchInfo&&(je=ct.searchInfo.cd[0].trace).selectedpoints.length===ct.pointNumbers.length){for(Ue=0;Ue<ct.pointNumbers.length;Ue++)if(je.selectedpoints.indexOf(ct.pointNumbers[Ue])<0)return!1;return!0}return!1}(Ye,Dt):function(Je){var ct,st,je=0;for(st=0;st<Je.length;st++)if((ct=Je[st].cd[0].trace).selectedpoints&&(ct.selectedpoints.length>1||(je+=ct.selectedpoints.length)>1))return!1;return je===1}(Ye)&&(wt=ge(Dt))){for(Ge&&Ge.remove(),rt=0;rt<Ye.length;rt++)(et=Ye[rt])._module.selectPoints(et,!1);ve(_e,Ye),ie(ze),Rt&&Be(_e)}else{for(bt=pe.shiftKey&&(wt!==void 0?wt:ge(Dt)),ut=function(Je,ct,st){return{pointNumber:Je,searchInfo:ct,subtract:!!st}}(Dt.pointNumber,Dt.searchInfo,bt),ot=J(ze.selectionDefs.concat([ut])),rt=0;rt<Ye.length;rt++)if(yt=we(Ye[rt]._module.selectPoints(Ye[rt],ot),Ye[rt]),Ft.length)for(var Xe=0;Xe<yt.length;Xe++)Ft.push(yt[Xe]);else Ft=yt;if(ve(_e,Ye,at={points:Ft}),ut&&ze&&ze.selectionDefs.push(ut),Ge){var Ke=ze.mergedPolygons,Ve=l(ze.dragmode);c(ye(Ke,Ve),Ge,ze)}Rt&&Oe(_e,at)}}}function K(pe){return"pointNumber"in pe&&"searchInfo"in pe}function X(pe){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(_e,Te,Re,Ne){var ze=pe.searchInfo.cd[0].trace._expandedIndex;return Ne.cd[0].trace._expandedIndex===ze&&Re===pe.pointNumber},isRect:!1,degenerate:!1,subtract:!!pe.subtract}}function J(pe){if(pe.length){for(var _e=[],Te=K(pe[0])?0:pe[0][0][0],Re=Te,Ne=K(pe[0])?0:pe[0][0][1],ze=Ne,Ge=0;Ge<pe.length;Ge++)if(K(pe[Ge]))_e.push(X(pe[Ge]));else{var Ye=j(pe[Ge]);Ye.subtract=!!pe[Ge].subtract,_e.push(Ye),Te=Math.min(Te,Ye.xmin),Re=Math.max(Re,Ye.xmax),Ne=Math.min(Ne,Ye.ymin),ze=Math.max(ze,Ye.ymax)}return{xmin:Te,xmax:Re,ymin:Ne,ymax:ze,pts:[],contains:function(et,ut,ot,yt){for(var wt=!1,bt=0;bt<_e.length;bt++)_e[bt].contains(et,ut,ot,yt)&&(wt=!_e[bt].subtract);return wt},isRect:!1,degenerate:!1}}}function ee(pe,_e,Te){var Re=_e._fullLayout,Ne=Te.plotinfo,ze=Te.dragmode,Ge=Re._lastSelectedSubplot&&Re._lastSelectedSubplot===Ne.id,Ye=(pe.shiftKey||pe.altKey)&&!(i(ze)&&l(ze));Ge&&Ye&&Ne.selection&&Ne.selection.selectionDefs&&!Te.selectionDefs?(Te.selectionDefs=Ne.selection.selectionDefs,Te.mergedPolygons=Ne.selection.mergedPolygons):Ye&&Ne.selection||ie(Te),Ge||(b(_e),Re._lastSelectedSubplot=Ne.id)}function ie(pe,_e){var Te=pe.dragmode,Re=pe.plotinfo,Ne=pe.gd;(function(yt){return yt._fullLayout._activeShapeIndex>=0})(Ne)&&Ne._fullLayout._deactivateShape(Ne),function(yt){return yt._fullLayout._activeSelectionIndex>=0}(Ne)&&Ne._fullLayout._deactivateSelection(Ne);var ze=Ne._fullLayout._zoomlayer,Ge=i(Te),Ye=o(Te);if(Ge||Ye){var et,ut,ot=ze.selectAll(".select-outline-"+Re.id);ot&&Ne._fullLayout._outlining&&(Ge&&(et=y(ot,pe)),et&&r.call("_guiRelayout",Ne,{shapes:et}),Ye&&!te(pe)&&(ut=x(ot,pe)),ut&&(Ne._fullLayout._noEmitSelectedAtStart=!0,r.call("_guiRelayout",Ne,{selections:ut}).then(function(){_e&&T(Ne)})),Ne._fullLayout._outlining=!1)}Re.selection={},Re.selection.selectionDefs=pe.selectionDefs=[],Re.selection.mergedPolygons=pe.mergedPolygons=[]}function oe(pe){return pe._id}function ae(pe,_e,Te,Re){if(!pe.calcdata)return[];var Ne,ze,Ge,Ye=[],et=_e.map(oe),ut=Te.map(oe);for(Ge=0;Ge<pe.calcdata.length;Ge++)if((ze=(Ne=pe.calcdata[Ge])[0].trace).visible===!0&&ze._module&&ze._module.selectPoints)if(!te({subplot:Re})||ze.subplot!==Re&&ze.geo!==Re)if(ze.type==="splom"){if(ze._xaxes[et[0]]&&ze._yaxes[ut[0]]){var ot=ce(ze._module,Ne,_e[0],Te[0]);ot.scene=pe._fullLayout._splomScenes[ze.uid],Ye.push(ot)}}else if(ze.type==="sankey"){var yt=ce(ze._module,Ne,_e[0],Te[0]);Ye.push(yt)}else{if(!(et.indexOf(ze.xaxis)!==-1||ze._xA&&ze._xA.overlaying)||!(ut.indexOf(ze.yaxis)!==-1||ze._yA&&ze._yA.overlaying))continue;Ye.push(ce(ze._module,Ne,P(pe,ze.xaxis),P(pe,ze.yaxis)))}else Ye.push(ce(ze._module,Ne,_e[0],Te[0]));return Ye}function ce(pe,_e,Te,Re){return{_module:pe,cd:_e,xaxis:Te,yaxis:Re}}function ge(pe){var _e=pe.searchInfo.cd[0].trace,Te=pe.pointNumber,Re=pe.pointNumbers,Ne=Re.length>0?Re[0]:Te;return!!_e.selectedpoints&&_e.selectedpoints.indexOf(Ne)>-1}function ve(pe,_e,Te){var Re,Ne;for(Re=0;Re<_e.length;Re++){var ze=_e[Re].cd[0].trace._fullInput,Ge=pe._fullLayout._tracePreGUI[ze.uid]||{};Ge.selectedpoints===void 0&&(Ge.selectedpoints=ze._input.selectedpoints||null)}if(Te){var Ye=Te.points||[];for(Re=0;Re<_e.length;Re++)(Ne=_e[Re].cd[0].trace)._input.selectedpoints=Ne._fullInput.selectedpoints=[],Ne._fullInput!==Ne&&(Ne.selectedpoints=[]);for(var et=0;et<Ye.length;et++){var ut=Ye[et],ot=ut.data,yt=ut.fullData,wt=ut.pointIndex,bt=ut.pointIndices;bt?([].push.apply(ot.selectedpoints,bt),Ne._fullInput!==Ne&&[].push.apply(yt.selectedpoints,bt)):(ot.selectedpoints.push(wt),Ne._fullInput!==Ne&&yt.selectedpoints.push(wt))}}else for(Re=0;Re<_e.length;Re++)delete(Ne=_e[Re].cd[0].trace).selectedpoints,delete Ne._input.selectedpoints,Ne._fullInput!==Ne&&delete Ne._fullInput.selectedpoints;(function(at,rt){for(var At=!1,Rt=0;Rt<rt.length;Rt++){var Ft=rt[Rt],Dt=Ft.cd;r.traceIs(Dt[0].trace,"regl")&&(At=!0);var Xe=Ft._module,Ke=Xe.styleOnSelect||Xe.style;Ke&&(Ke(at,Dt,Dt[0].node3),Dt[0].nodeRangePlot3&&Ke(at,Dt,Dt[0].nodeRangePlot3))}At&&(O(at),I(at))})(pe,_e)}function be(pe,_e,Te){for(var Re=(Te?k.difference:k.union)({regions:pe},{regions:[_e]}).regions.reverse(),Ne=0;Ne<Re.length;Ne++){var ze=Re[Ne];ze.subtract=de(ze,Re.slice(0,Ne))}return Re}function we(pe,_e){if(Array.isArray(pe))for(var Te=_e.cd,Re=_e.cd[0].trace,Ne=0;Ne<pe.length;Ne++)pe[Ne]=s(pe[Ne],Re,Te);return pe}function ye(pe,_e){for(var Te=[],Re=0;Re<pe.length;Re++){Te[Re]=[];for(var Ne=0;Ne<pe[Re].length;Ne++){Te[Re][Ne]=[],Te[Re][Ne][0]=Ne?"L":"M";for(var ze=0;ze<pe[Re][Ne].length;ze++)Te[Re][Ne].push(pe[Re][Ne][ze])}_e||Te[Re].push(["Z",Te[Re][0][1],Te[Re][0][2]])}return Te}function me(pe,_e){for(var Te,Re,Ne=[],ze=[],Ge=0;Ge<_e.length;Ge++){var Ye=_e[Ge];Re=Ye._module.selectPoints(Ye,pe),ze.push(Re),Te=we(Re,Ye),Ne=Ne.concat(Te)}return Ne}function Ae(pe,_e,Te,Re,Ne){var ze,Ge,Ye,et=!!Re;Ne&&(ze=Ne.plotinfo,Ge=Ne.xaxes[0]._id,Ye=Ne.yaxes[0]._id);var ut=[],ot=[],yt=le(pe),wt=pe._fullLayout;if(ze){var bt=wt._zoomlayer,at=wt.dragmode,rt=i(at),At=o(at);if(rt||At){var Rt=P(pe,Ge,"x"),Ft=P(pe,Ye,"y");if(Rt&&Ft){var Dt=bt.selectAll(".select-outline-"+ze.id);if(Dt&&pe._fullLayout._outlining&&Dt.length){for(var Xe=Dt[0][0].getAttribute("d"),Ke=m(Xe,pe,ze),Ve=[],Je=0;Je<Ke.length;Je++){for(var ct=Ke[Je],st=[],je=0;je<ct.length;je++)st.push([Ce(Rt,ct[je][1]),Ce(Ft,ct[je][2])]);st.xref=Ge,st.yref=Ye,st.subtract=de(st,Ve),Ve.push(st)}yt=yt.concat(Ve)}}}}var Ue=Ge&&Ye?[Ge+Ye]:wt._subplots.cartesian;(function(Rn){var zn=Rn.calcdata;if(zn)for(var Pn=0;Pn<zn.length;Pn++){var Gn=zn[Pn][0].trace,Nn=Rn._fullLayout._splomScenes;if(Nn){var or=Nn[Gn.uid];or&&(or.selectBatch=[])}}})(pe);for(var lt={},Qe=0;Qe<Ue.length;Qe++){var gt=Ue[Qe],mt=gt.indexOf("y"),xt=gt.slice(0,mt),dt=gt.slice(mt),Lt=Ge&&Ye?Te:void 0;if(Lt=fe(yt,xt,dt,Lt)){var kt=Re;if(!et){var _t=P(pe,xt,"x"),Ot=P(pe,dt,"y");kt=ae(pe,[_t],[Ot],gt);for(var Pt=0;Pt<kt.length;Pt++){var Bt=kt[Pt],Jt=Bt.cd[0],on=Jt.trace;if(Bt._module.name==="scattergl"&&!Jt.t.xpx){var qt=on.x,Gt=on.y,nn=on._length;Jt.t.xpx=[],Jt.t.ypx=[];for(var Cn=0;Cn<nn;Cn++)Jt.t.xpx[Cn]=_t.c2p(qt[Cn]),Jt.t.ypx[Cn]=Ot.c2p(Gt[Cn])}Bt._module.name==="splom"&&(lt[on.uid]||(lt[on.uid]=!0))}}var An=me(Lt,kt);ut=ut.concat(An),ot=ot.concat(kt)}}var dn={points:ut};ve(pe,ot,dn);var Kt=wt.clickmode.indexOf("event")>-1&&_e;if(!ze&&_e){var un=le(pe,!0);if(un.length){var rn=un[0].xref,hn=un[0].yref;if(rn&&hn){var kn=Me(un);Le([P(pe,rn,"x"),P(pe,hn,"y")])(dn,kn)}}pe._fullLayout._noEmitSelectedAtStart?pe._fullLayout._noEmitSelectedAtStart=!1:Kt&&Oe(pe,dn),wt._reselect=!1}if(!ze&&wt._deselect){var Sn=wt._deselect;(function(Rn,zn,Pn){for(var Gn=0;Gn<Pn.length;Gn++){var Nn=Pn[Gn];if(Nn.xaxis&&Nn.xaxis._id===Rn&&Nn.yaxis&&Nn.yaxis._id===zn)return!0}return!1})(Ge=Sn.xref,Ye=Sn.yref,ot)||ke(pe,Ge,Ye,Re),Kt&&(dn.points.length?Oe(pe,dn):Be(pe)),wt._deselect=!1}return{eventData:dn,selectionTesters:Te}}function ke(pe,_e,Te,Re){Re=ae(pe,[P(pe,_e,"x")],[P(pe,Te,"y")],_e+Te);for(var Ne=0;Ne<Re.length;Ne++){var ze=Re[Ne];ze._module.selectPoints(ze,!1)}ve(pe,Re)}function fe(pe,_e,Te,Re){for(var Ne,ze=0;ze<pe.length;ze++){var Ge=pe[ze];_e===Ge.xref&&Te===Ge.yref&&(Ne?Re=J(Ne=be(Ne,Ge,!!Ge.subtract)):(Ne=[Ge],Re=j(Ge)))}return Re}function le(pe,_e){for(var Te=[],Re=pe._fullLayout,Ne=Re.selections,ze=Ne.length,Ge=0;Ge<ze;Ge++)if(!_e||Ge===Re._activeSelectionIndex){var Ye=Ne[Ge];if(Ye){var et,ut,ot,yt,wt,bt=Ye.xref,at=Ye.yref,rt=P(pe,bt,"x"),At=P(pe,at,"y");if(Ye.type==="rect"){wt=[];var Rt=Ce(rt,Ye.x0),Ft=Ce(rt,Ye.x1),Dt=Ce(At,Ye.y0),Xe=Ce(At,Ye.y1);wt=[[Rt,Dt],[Rt,Xe],[Ft,Xe],[Ft,Dt]],et=Math.min(Rt,Ft),ut=Math.max(Rt,Ft),ot=Math.min(Dt,Xe),yt=Math.max(Dt,Xe),wt.xmin=et,wt.xmax=ut,wt.ymin=ot,wt.ymax=yt,wt.xref=bt,wt.yref=at,wt.subtract=!1,wt.isRect=!0,Te.push(wt)}else if(Ye.type==="path")for(var Ke=Ye.path.split("Z"),Ve=[],Je=0;Je<Ke.length;Je++){var ct=Ke[Je];if(ct){ct+="Z";var st=u.extractPathCoords(ct,h.paramIsX,"raw"),je=u.extractPathCoords(ct,h.paramIsY,"raw");et=1/0,ut=-1/0,ot=1/0,yt=-1/0,wt=[];for(var Ue=0;Ue<st.length;Ue++){var lt=Ce(rt,st[Ue]),Qe=Ce(At,je[Ue]);wt.push([lt,Qe]),et=Math.min(lt,et),ut=Math.max(lt,ut),ot=Math.min(Qe,ot),yt=Math.max(Qe,yt)}wt.xmin=et,wt.xmax=ut,wt.ymin=ot,wt.ymax=yt,wt.xref=bt,wt.yref=at,wt.subtract=de(wt,Ve),Ve.push(wt),Te.push(wt)}}}}return Te}function de(pe,_e){for(var Te=!1,Re=0;Re<_e.length;Re++)for(var Ne=_e[Re],ze=0;ze<pe.length;ze++)if(w(pe[ze],Ne)){Te=!Te;break}return Te}function Ce(pe,_e){return pe.type==="date"&&(_e=_e.replace("_"," ")),pe.type==="log"?pe.c2p(_e):pe.r2p(_e,null,pe.calendar)}function Me(pe){for(var _e=pe.length,Te=[],Re=0;Re<_e;Re++){var Ne=pe[Re];Te=(Te=Te.concat(Ne)).concat([Ne[0]])}return(ze=Te).isRect=ze.length===5&&ze[0][0]===ze[4][0]&&ze[0][1]===ze[4][1]&&ze[0][0]===ze[1][0]&&ze[2][0]===ze[3][0]&&ze[0][1]===ze[3][1]&&ze[1][1]===ze[2][1]||ze[0][1]===ze[1][1]&&ze[2][1]===ze[3][1]&&ze[0][0]===ze[3][0]&&ze[1][0]===ze[2][0],ze.isRect&&(ze.xmin=Math.min(ze[0][0],ze[2][0]),ze.xmax=Math.max(ze[0][0],ze[2][0]),ze.ymin=Math.min(ze[0][1],ze[2][1]),ze.ymax=Math.max(ze[0][1],ze[2][1])),ze;var ze}function Le(pe){return function(_e,Te){for(var Re,Ne,ze=0;ze<pe.length;ze++){var Ge=pe[ze],Ye=Ge._id,et=Ye.charAt(0);if(Te.isRect){Re||(Re={});var ut=Te[et+"min"],ot=Te[et+"max"];ut!==void 0&&ot!==void 0&&(Re[Ye]=[F(Ge,ut),F(Ge,ot)].sort(S))}else Ne||(Ne={}),Ne[Ye]=Te.map(V(Ge))}Re&&(_e.range=Re),Ne&&(_e.lassoPoints=Ne)}}function Oe(pe,_e){_e&&(_e.selections=(pe.layout||{}).selections||[]),pe.emit("plotly_selected",_e)}function Be(pe){pe.emit("plotly_deselect",null)}B.exports={reselect:Ae,prepSelect:function(pe,_e,Te,Re,Ne){var ze=!te(Re),Ge=a(Ne),Ye=n(Ne),et=l(Ne),ut=i(Ne),ot=o(Ne),yt=Ne==="drawcircle",wt=Ne==="drawline"||yt,bt=Re.gd,at=bt._fullLayout,rt=ot&&at.newselection.mode==="immediate"&&ze,At=at._zoomlayer,Rt=Re.element.getBoundingClientRect(),Ft=Re.plotinfo,Dt=H(Ft),Xe=_e-Rt.left,Ke=Te-Rt.top;at._calcInverseTransform(bt);var Ve=p.apply3DTransform(at._invTransform)(Xe,Ke);Xe=Ve[0],Ke=Ve[1];var Je,ct,st,je,Ue,lt,Qe,gt=at._invScaleX,mt=at._invScaleY,xt=Xe,dt=Ke,Lt="M"+Xe+","+Ke,kt=Re.xaxes[0],_t=Re.yaxes[0],Ot=kt._length,Pt=_t._length,Bt=pe.altKey&&!(i(Ne)&&et);ee(pe,bt,Re),Ge&&(Je=z([[Xe,Ke]],R.BENDPX));var Jt=At.selectAll("path.select-outline-"+Ft.id).data([1]),on=ut?at.newshape:at.newselection;ut&&(Re.hasText=on.label.text||on.label.texttemplate);var qt=ut&&!et?on.fillcolor:"rgba(0,0,0,0)",Gt=on.line.color||(ze?v.contrast(bt._fullLayout.plot_bgcolor):"#7f7f7f");Jt.enter().append("path").attr("class","select-outline select-outline-"+Ft.id).style({opacity:ut?on.opacity/2:1,"stroke-dasharray":_(on.line.dash,on.line.width),"stroke-width":on.line.width+"px","shape-rendering":"crispEdges"}).call(v.stroke,Gt).call(v.fill,qt).attr("fill-rule","evenodd").classed("cursor-move",!!ut).attr("transform",Dt).attr("d",Lt+"Z");var nn=At.append("path").attr("class","zoombox-corners").style({fill:v.background,stroke:v.defaultLine,"stroke-width":1}).attr("transform",Dt).attr("d","M0,0Z");if(ut&&Re.hasText){var Cn=At.select(".label-temp");Cn.empty()&&(Cn=At.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var An=at._uid+R.SELECTID,dn=[],Kt=ae(bt,Re.xaxes,Re.yaxes,Re.subplot);rt&&!pe.shiftKey&&(Re._clearSubplotSelections=function(){if(ze){var rn=kt._id,hn=_t._id;ke(bt,rn,hn,Kt);for(var kn=(bt.layout||{}).selections||[],Sn=[],Rn=!1,zn=0;zn<kn.length;zn++){var Pn=at.selections[zn];Pn.xref!==rn||Pn.yref!==hn?Sn.push(kn[zn]):Rn=!0}Rn&&(bt._fullLayout._noEmitSelectedAtStart=!0,r.call("_guiRelayout",bt,{selections:Sn}))}});var un=function(rn){return rn.plotinfo.fillRangeItems||Le(rn.xaxes.concat(rn.yaxes))}(Re);Re.moveFn=function(rn,hn){Re._clearSubplotSelections&&(Re._clearSubplotSelections(),Re._clearSubplotSelections=void 0),xt=Math.max(0,Math.min(Ot,gt*rn+Xe)),dt=Math.max(0,Math.min(Pt,mt*hn+Ke));var kn=Math.abs(xt-Xe),Sn=Math.abs(dt-Ke);if(Ye){var Rn,zn,Pn;if(ot){var Gn=at.selectdirection;switch(Rn=Gn==="any"?Sn<Math.min(.6*kn,U)?"h":kn<Math.min(.6*Sn,U)?"v":"d":Gn){case"h":zn=yt?Pt/2:0,Pn=Pt;break;case"v":zn=yt?Ot/2:0,Pn=Ot}}if(ut)switch(at.newshape.drawdirection){case"vertical":Rn="h",zn=yt?Pt/2:0,Pn=Pt;break;case"horizontal":Rn="v",zn=yt?Ot/2:0,Pn=Ot;break;case"ortho":kn<Sn?(Rn="h",zn=Ke,Pn=dt):(Rn="v",zn=Xe,Pn=xt);break;default:Rn="d"}Rn==="h"?((je=wt?g(yt,[xt,zn],[xt,Pn]):[[Xe,zn],[Xe,Pn],[xt,Pn],[xt,zn]]).xmin=wt?xt:Math.min(Xe,xt),je.xmax=wt?xt:Math.max(Xe,xt),je.ymin=Math.min(zn,Pn),je.ymax=Math.max(zn,Pn),nn.attr("d","M"+je.xmin+","+(Ke-U)+"h-4v"+2*U+"h4ZM"+(je.xmax-1)+","+(Ke-U)+"h4v"+2*U+"h-4Z")):Rn==="v"?((je=wt?g(yt,[zn,dt],[Pn,dt]):[[zn,Ke],[zn,dt],[Pn,dt],[Pn,Ke]]).xmin=Math.min(zn,Pn),je.xmax=Math.max(zn,Pn),je.ymin=wt?dt:Math.min(Ke,dt),je.ymax=wt?dt:Math.max(Ke,dt),nn.attr("d","M"+(Xe-U)+","+je.ymin+"v-4h"+2*U+"v4ZM"+(Xe-U)+","+(je.ymax-1)+"v4h"+2*U+"v-4Z")):Rn==="d"&&((je=wt?g(yt,[Xe,Ke],[xt,dt]):[[Xe,Ke],[Xe,dt],[xt,dt],[xt,Ke]]).xmin=Math.min(Xe,xt),je.xmax=Math.max(Xe,xt),je.ymin=Math.min(Ke,dt),je.ymax=Math.max(Ke,dt),nn.attr("d","M0,0Z"))}else Ge&&(Je.addPt([xt,dt]),je=Je.filtered);if(Re.selectionDefs&&Re.selectionDefs.length?(st=be(Re.mergedPolygons,je,Bt),je.subtract=Bt,ct=J(Re.selectionDefs.concat([je]))):(st=[je],ct=j(je)),c(ye(st,et),Jt,Re),ot){var Nn,or=Ae(bt,!1),lr=or.eventData?or.eventData.points.slice():[];or=Ae(bt,!1,ct,Kt,Re),ct=or.selectionTesters,Qe=or.eventData,Nn=Je?Je.filtered:Me(st),E.throttle(An,R.SELECTDELAY,function(){for(var cr=(dn=me(ct,Kt)).slice(),$n=0;$n<lr.length;$n++){for(var Ar=lr[$n],Ht=!1,an=0;an<cr.length;an++)if(cr[an].curveNumber===Ar.curveNumber&&cr[an].pointNumber===Ar.pointNumber){Ht=!0;break}Ht||cr.push(Ar)}cr.length&&(Qe||(Qe={}),Qe.points=cr),un(Qe,Nn),function(_n,vn){_n.emit("plotly_selecting",vn)}(bt,Qe)})}},Re.clickFn=function(rn,hn){if(nn.remove(),bt._fullLayout._activeShapeIndex>=0)bt._fullLayout._deactivateShape(bt);else if(!ut){var kn=at.clickmode;E.done(An).then(function(){if(E.clear(An),rn===2){for(Jt.remove(),Ue=0;Ue<Kt.length;Ue++)(lt=Kt[Ue])._module.selectPoints(lt,!1);if(ve(bt,Kt),ie(Re),Be(bt),Kt.length){var Sn=Kt[0].xaxis,Rn=Kt[0].yaxis;if(Sn&&Rn){for(var zn=[],Pn=bt._fullLayout.selections,Gn=0;Gn<Pn.length;Gn++){var Nn=Pn[Gn];Nn&&(Nn.xref===Sn._id&&Nn.yref===Rn._id||zn.push(Nn))}zn.length<Pn.length&&(bt._fullLayout._noEmitSelectedAtStart=!0,r.call("_guiRelayout",bt,{selections:zn}))}}}else kn.indexOf("select")>-1&&Q(hn,bt,Re.xaxes,Re.yaxes,Re.subplot,Re,Jt),kn==="event"&&Oe(bt,void 0);f.click(bt,hn,Ft.id)}).catch(p.error)}},Re.doneFn=function(){nn.remove(),E.done(An).then(function(){E.clear(An),!rt&&je&&Re.selectionDefs&&(je.subtract=Bt,Re.selectionDefs.push(je),Re.mergedPolygons.length=0,[].push.apply(Re.mergedPolygons,st)),(rt||ut)&&ie(Re,rt),Re.doneFnCompleted&&Re.doneFnCompleted(dn),ot&&Oe(bt,Qe)}).catch(p.error)}},clearOutline:b,clearSelectionsCache:ie,selectOnClick:Q}},46056:function(B,L,e){var k=e(13916),w=e(25376),r=e(52904).line,_=e(98192).u,v=e(92880).extendFlat,f=e(31780).templatedArray,s=(e(36208),e(45464)),t=e(21776).ye,a=e(97728);B.exports=f("shape",{visible:v({},s.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:v({},s.legend,{editType:"calc+arraydraw"}),legendgroup:v({},s.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:v({},s.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:w({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:v({},s.legendrank,{editType:"calc+arraydraw"}),legendwidth:v({},s.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:v({},k.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:v({},k.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:v({},r.color,{editType:"arraydraw"}),width:v({},r.width,{editType:"calc+arraydraw"}),dash:v({},_,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:t({},{keys:Object.keys(a)}),font:w({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(B,L,e){var k=e(3400),w=e(54460),r=e(85448),_=e(65152);function v(a){return s(a.line.width,a.xsizemode,a.x0,a.x1,a.path,!1)}function f(a){return s(a.line.width,a.ysizemode,a.y0,a.y1,a.path,!0)}function s(a,n,i,l,o,u){var h=a/2,c=u;if(n==="pixel"){var b=o?_.extractPathCoords(o,u?r.paramIsY:r.paramIsX):[i,l],d=k.aggNums(Math.max,null,b),g=k.aggNums(Math.min,null,b),m=g<0?Math.abs(g)+h:h,y=d>0?d+h:h;return{ppad:h,ppadplus:c?m:y,ppadminus:c?y:m}}return{ppad:h}}function t(a,n,i,l,o){var u=a.type==="category"||a.type==="multicategory"?a.r2c:a.d2c;if(n!==void 0)return[u(n),u(i)];if(l){var h,c,b,d,g=1/0,m=-1/0,y=l.match(r.segmentRE);for(a.type==="date"&&(u=_.decodeDate(u)),h=0;h<y.length;h++)(c=o[y[h].charAt(0)].drawn)!==void 0&&(!(b=y[h].substr(1).match(r.paramRE))||b.length<c||((d=u(b[c]))<g&&(g=d),d>m&&(m=d)));return m>=g?[g,m]:void 0}}B.exports=function(a){var n=a._fullLayout,i=k.filterVisible(n.shapes);if(i.length&&a._fullData.length)for(var l=0;l<i.length;l++){var o,u,h=i[l];h._extremes={};var c=w.getRefType(h.xref),b=w.getRefType(h.yref);if(h.xref!=="paper"&&c!=="domain"){var d=h.xsizemode==="pixel"?h.xanchor:h.x0,g=h.xsizemode==="pixel"?h.xanchor:h.x1;(u=t(o=w.getFromId(a,h.xref),d,g,h.path,r.paramIsX))&&(h._extremes[o._id]=w.findExtremes(o,u,v(h)))}if(h.yref!=="paper"&&b!=="domain"){var m=h.ysizemode==="pixel"?h.yanchor:h.y0,y=h.ysizemode==="pixel"?h.yanchor:h.y1;(u=t(o=w.getFromId(a,h.yref),m,y,h.path,r.paramIsY))&&(h._extremes[o._id]=w.findExtremes(o,u,f(h)))}}}},85448:function(B){B.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(B,L,e){var k=e(3400),w=e(54460),r=e(51272),_=e(46056),v=e(65152);function f(s,t,a){function n(W,F){return k.coerce(s,t,_,W,F)}if(t._isShape=!0,n("visible")){n("showlegend")&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),k.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var i=n("path"),l=n("type",i?"path":"rect"),o=l!=="path";o&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule"),n("line.width")&&(n("line.color"),n("line.dash"));for(var u=n("xsizemode"),h=n("ysizemode"),c=["x","y"],b=0;b<2;b++){var d,g,m,y=c[b],x=y+"anchor",T=y==="x"?u:h,p={_fullLayout:a},S=w.coerceRef(s,t,p,y,void 0,"paper");if(w.getRefType(S)==="range"?((d=w.getFromId(p,S))._shapeIndices.push(t._index),m=v.rangeToShapePosition(d),g=v.shapePositionToRange(d)):g=m=k.identity,o){var M=y+"0",E=y+"1",P=s[M],O=s[E];s[M]=g(s[M],!0),s[E]=g(s[E],!0),T==="pixel"?(n(M,0),n(E,10)):(w.coercePosition(t,p,n,S,M,.25),w.coercePosition(t,p,n,S,E,.75)),t[M]=m(t[M]),t[E]=m(t[E]),s[M]=P,s[E]=O}if(T==="pixel"){var I=s[x];s[x]=g(s[x],!0),w.coercePosition(t,p,n,S,x,.25),t[x]=m(t[x]),s[x]=I}}o&&k.noneOrAll(s,t,["x0","x1","y0","y1"]);var R,U,z=l==="line";if(o&&(R=n("label.texttemplate")),R||(U=n("label.text")),U||R){n("label.textangle");var j=n("label.textposition",z?"middle":"middle center");n("label.xanchor"),n("label.yanchor",function(W,F){return W?"bottom":F.indexOf("top")!==-1?"top":F.indexOf("bottom")!==-1?"bottom":"middle"}(z,j)),n("label.padding"),k.coerceFont(n,"label.font",a.font)}}}B.exports=function(s,t){r(s,t,{name:"shapes",handleItemDefaults:f})}},60728:function(B,L,e){var k=e(3400),w=e(54460),r=e(72736),_=e(43616),v=e(9856).readPaths,f=e(65152),s=f.getPathString,t=e(97728),a=e(84284).FROM_TL;B.exports=function(n,i,l,o){if(o.selectAll(".shape-label").remove(),l.label.text||l.label.texttemplate){var u;if(l.label.texttemplate){var h={};if(l.type!=="path"){var c=w.getFromId(n,l.xref),b=w.getFromId(n,l.yref);for(var d in t){var g=t[d](l,c,b);g!==void 0&&(h[d]=g)}}u=k.texttemplateStringForShapes(l.label.texttemplate,{},n._fullLayout._d3locale,h)}else u=l.label.text;var m,y,x,T,p={"data-index":i},S=l.label.font,M=o.append("g").attr(p).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(u);if(l.path){var E=s(n,l),P=v(E,n);m=1/0,x=1/0,y=-1/0,T=-1/0;for(var O=0;O<P.length;O++)for(var I=0;I<P[O].length;I++)for(var R=P[O][I],U=1;U<R.length;U+=2){var z=R[U],j=R[U+1];m=Math.min(m,z),y=Math.max(y,z),x=Math.min(x,j),T=Math.max(T,j)}}else{var W=w.getFromId(n,l.xref),F=w.getRefType(l.xref),V=w.getFromId(n,l.yref),H=w.getRefType(l.yref),te=f.getDataToPixel(n,W,!1,F),Q=f.getDataToPixel(n,V,!0,H);m=te(l.x0),y=te(l.x1),x=Q(l.y0),T=Q(l.y1)}var K=l.label.textangle;K==="auto"&&(K=l.type==="line"?function(oe,ae,ce,ge){var ve,be;return be=Math.abs(ce-oe),ve=ce>=oe?ae-ge:ge-ae,-180/Math.PI*Math.atan2(ve,be)}(m,x,y,T):0),M.call(function(oe){return oe.call(_.font,S).attr({}),r.convertToTspans(oe,n),oe});var X=function(oe,ae,ce,ge,ve,be,we){var ye,me,Ae,ke,fe=ve.label.textposition,le=ve.label.textangle,de=ve.label.padding,Ce=ve.type,Me=Math.PI/180*be,Le=Math.sin(Me),Oe=Math.cos(Me),Be=ve.label.xanchor,pe=ve.label.yanchor;if(Ce==="line"){fe==="start"?(ye=oe,me=ae):fe==="end"?(ye=ce,me=ge):(ye=(oe+ce)/2,me=(ae+ge)/2),Be==="auto"&&(Be=fe==="start"?le==="auto"?ce>oe?"left":ce<oe?"right":"center":ce>oe?"right":ce<oe?"left":"center":fe==="end"?le==="auto"?ce>oe?"right":ce<oe?"left":"center":ce>oe?"left":ce<oe?"right":"center":"center");var _e={bottom:-1,middle:0,top:1};if(le==="auto"){var Te=_e[pe];Ae=-de*Le*Te,ke=de*Oe*Te}else Ae=de*{left:1,center:0,right:-1}[Be],ke=de*_e[pe];ye+=Ae,me+=ke}else Ae=de+3,fe.indexOf("right")!==-1?(ye=Math.max(oe,ce)-Ae,Be==="auto"&&(Be="right")):fe.indexOf("left")!==-1?(ye=Math.min(oe,ce)+Ae,Be==="auto"&&(Be="left")):(ye=(oe+ce)/2,Be==="auto"&&(Be="center")),me=fe.indexOf("top")!==-1?Math.min(ae,ge):fe.indexOf("bottom")!==-1?Math.max(ae,ge):(ae+ge)/2,ke=de,pe==="bottom"?me-=ke:pe==="top"&&(me+=ke);var Re=a[pe],Ne=ve.label.font.size,ze=we.height;return{textx:ye+(ze*Re-Ne)*Le,texty:me+-(ze*Re-Ne)*Oe,xanchor:Be}}(m,x,y,T,l,K,_.bBox(M.node())),J=X.textx,ee=X.texty,ie=X.xanchor;M.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[ie],y:ee,x:J,transform:"rotate("+K+","+J+","+ee+")"}).call(r.positionText,J,ee)}}},55496:function(B,L,e){var k=e(3400).strTranslate,w=e(86476),r=e(72760),_=r.drawMode,v=r.selectMode,f=e(24040),s=e(76308),t=e(7e3),a=t.i000,n=t.i090,i=t.i180,l=t.i270,o=e(1936).clearOutlineControllers,u=e(9856),h=u.pointsOnRectangle,c=u.pointsOnEllipse,b=u.writePaths,d=e(93940).newShapes,g=e(93940).createShapeObj,m=e(5968),y=e(60728);function x(T,p){var S,M,E,P=T[p][1],O=T[p][2],I=T.length;return M=T[S=(p+1)%I][1],E=T[S][2],M===P&&E===O&&(M=T[S=(p+2)%I][1],E=T[S][2]),[S,M,E]}B.exports=function T(p,S,M,E){E||(E=0);var P=M.gd;function O(){T(p,S,M,E++),(c(p[0])||M.hasText)&&I({redrawing:!0})}function I(ve){var be={};M.isActiveShape!==void 0&&(M.isActiveShape=!1,be=d(S,M)),M.isActiveSelection!==void 0&&(M.isActiveSelection=!1,be=m(S,M),P._fullLayout._reselect=!0),Object.keys(be).length&&f.call((ve||{}).redrawing?"relayout":"_guiRelayout",P,be)}var R,U,z,j,W,F=P._fullLayout._zoomlayer,V=M.dragmode,H=_(V),te=v(V);if((H||te)&&(P._fullLayout._outlining=!0),o(P),S.attr("d",b(p)),E||!M.isActiveShape&&!M.isActiveSelection||(W=function(ve,be){for(var we=0;we<be.length;we++){var ye=be[we];ve[we]=[];for(var me=0;me<ye.length;me++){ve[we][me]=[];for(var Ae=0;Ae<ye[me].length;Ae++)ve[we][me][Ae]=ye[me][Ae]}}return ve}([],p),function(ve){R=[];for(var be=0;be<p.length;be++){var we=p[be],ye=h(we),me=!ye&&c(we);R[be]=[];for(var Ae=we.length,ke=0;ke<Ae;ke++)if(we[ke][0]!=="Z"&&(!me||ke===a||ke===n||ke===i||ke===l)){var fe,le=ye&&M.isActiveSelection;le&&(fe=x(we,ke));var de=we[ke][1],Ce=we[ke][2],Me=ve.append(le?"rect":"circle").attr("data-i",be).attr("data-j",ke).style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(le){var Le=fe[1]-de,Oe=fe[2]-Ce,Be=Oe?5:Math.max(Math.min(25,Math.abs(Le)-5),5),pe=Le?5:Math.max(Math.min(25,Math.abs(Oe)-5),5);Me.classed(Oe?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Be).attr("height",pe).attr("x",de-Be/2).attr("y",Ce-pe/2).attr("transform",k(Le/2,Oe/2))}else Me.classed("cursor-grab",!0).attr("r",5).attr("cx",de).attr("cy",Ce);R[be][ke]={element:Me.node(),gd:P,prepFn:X,doneFn:ee,clickFn:ie},w.init(R[be][ke])}}}(F.append("g").attr("class","outline-controllers")),function(){U=[],p.length&&(U[0]={element:S[0][0],gd:P,prepFn:ae,doneFn:ce,clickFn:ge},w.init(U[0]))}()),H&&M.hasText){var Q=F.select(".label-temp"),K=g(S,M,M.dragmode);y(P,"label-temp",K,Q)}function X(ve){z=+ve.srcElement.getAttribute("data-i"),j=+ve.srcElement.getAttribute("data-j"),R[z][j].moveFn=J}function J(ve,be){if(p.length){var we=W[z][j][1],ye=W[z][j][2],me=p[z],Ae=me.length;if(h(me)){var ke=ve,fe=be;M.isActiveSelection&&(x(me,j)[1]===me[j][1]?fe=0:ke=0);for(var le=0;le<Ae;le++)if(le!==j){var de=me[le];de[1]===me[j][1]&&(de[1]=we+ke),de[2]===me[j][2]&&(de[2]=ye+fe)}if(me[j][1]=we+ke,me[j][2]=ye+fe,!h(me))for(var Ce=0;Ce<Ae;Ce++)for(var Me=0;Me<me[Ce].length;Me++)me[Ce][Me]=W[z][Ce][Me]}else me[j][1]=we+ve,me[j][2]=ye+be;O()}}function ee(){I()}function ie(ve,be){if(ve===2){z=+be.srcElement.getAttribute("data-i"),j=+be.srcElement.getAttribute("data-j");var we=p[z];h(we)||c(we)||function(){if(p.length&&p[z]&&p[z].length){for(var ye=[],me=0;me<p[z].length;me++)me!==j&&ye.push(p[z][me]);ye.length>1&&(ye.length!==2||ye[1][0]!=="Z")&&(j===0&&(ye[0][0]="M"),p[z]=ye,O(),I())}}()}}function oe(ve,be){(function(we,ye){if(p.length)for(var me=0;me<p.length;me++)for(var Ae=0;Ae<p[me].length;Ae++)for(var ke=0;ke+2<p[me][Ae].length;ke+=2)p[me][Ae][ke+1]=W[me][Ae][ke+1]+we,p[me][Ae][ke+2]=W[me][Ae][ke+2]+ye})(ve,be),O()}function ae(ve){(z=+ve.srcElement.getAttribute("data-i"))||(z=0),U[z].moveFn=oe}function ce(){I()}function ge(ve){ve===2&&function(be){if(v(be._fullLayout.dragmode)){o(be);var we=be._fullLayout._activeSelectionIndex,ye=(be.layout||{}).selections||[];if(we<ye.length){for(var me=[],Ae=0;Ae<ye.length;Ae++)Ae!==we&&me.push(ye[Ae]);delete be._fullLayout._activeSelectionIndex;var ke=be._fullLayout.selections[we];be._fullLayout._deselect={xref:ke.xref,yref:ke.yref},f.call("_guiRelayout",be,{selections:me})}}}(P)}}},4016:function(B,L,e){var k=e(33428),w=e(24040),r=e(3400),_=e(54460),v=e(9856).readPaths,f=e(55496),s=e(60728),t=e(1936).clearOutlineControllers,a=e(76308),n=e(43616),i=e(31780).arrayEditor,l=e(86476),o=e(93972),u=e(85448),h=e(65152),c=h.getPathString;function b(p){var S=p._fullLayout;for(var M in S._shapeUpperLayer.selectAll("path").remove(),S._shapeLowerLayer.selectAll("path").remove(),S._shapeUpperLayer.selectAll("text").remove(),S._shapeLowerLayer.selectAll("text").remove(),S._plots){var E=S._plots[M].shapelayer;E&&(E.selectAll("path").remove(),E.selectAll("text").remove())}for(var P=0;P<S.shapes.length;P++)S.shapes[P].visible===!0&&m(p,P)}function d(p){return!!p._fullLayout._outlining}function g(p){return!p._context.edits.shapePosition}function m(p,S){p._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+S+'"]').remove();var M=h.makeShapesOptionsAndPlotinfo(p,S),E=M.options,P=M.plotinfo;function O(I){var R=c(p,E),U={"data-index":S,"fill-rule":E.fillrule,d:R},z=E.opacity,j=E.fillcolor,W=E.line.width?E.line.color:"rgba(0,0,0,0)",F=E.line.width,V=E.line.dash;F||E.editable!==!0||(F=5,V="solid");var H=R[R.length-1]!=="Z",te=g(p)&&E.editable&&p._fullLayout._activeShapeIndex===S;te&&(j=H?"rgba(0,0,0,0)":p._fullLayout.activeshape.fillcolor,z=p._fullLayout.activeshape.opacity);var Q,K=I.append("g").classed("shape-group",!0).attr({"data-index":S}),X=K.append("path").attr(U).style("opacity",z).call(a.stroke,W).call(a.fill,j).call(n.dashLine,V,F);if(y(K,p,E),s(p,S,E,K),(te||p._context.edits.shapePosition)&&(Q=i(p.layout,"shapes",E)),te){X.style({cursor:"move"});var J={element:X.node(),plotinfo:P,gd:p,editHelpers:Q,hasText:E.label.text||E.label.texttemplate,isActiveShape:!0},ee=v(R,p);f(ee,X,J)}else p._context.edits.shapePosition?function(ie,oe,ae,ce,ge,ve){var be,we,ye,me,Ae,ke,fe,le,de,Ce,Me,Le,Oe,Be,pe,_e,Te=10,Re=10,Ne=ae.xsizemode==="pixel",ze=ae.ysizemode==="pixel",Ge=ae.type==="line",Ye=ae.type==="path",et=ve.modifyItem,ut=k.select(oe.node().parentNode),ot=_.getFromId(ie,ae.xref),yt=_.getRefType(ae.xref),wt=_.getFromId(ie,ae.yref),bt=_.getRefType(ae.yref),at=h.getDataToPixel(ie,ot,!1,yt),rt=h.getDataToPixel(ie,wt,!0,bt),At=h.getPixelToData(ie,ot,!1,yt),Rt=h.getPixelToData(ie,wt,!0,bt),Ft=Ge?function(){var st=10,je=Math.max(ae.line.width,st),Ue=ge.append("g").attr("data-index",ce).attr("drag-helper",!0);Ue.append("path").attr("d",oe.attr("d")).style({cursor:"move","stroke-width":je,"stroke-opacity":"0"});var lt={"fill-opacity":"0"},Qe=Math.max(je/2,st);return Ue.append("circle").attr({"data-line-point":"start-point",cx:Ne?at(ae.xanchor)+ae.x0:at(ae.x0),cy:ze?rt(ae.yanchor)-ae.y0:rt(ae.y0),r:Qe}).style(lt).classed("cursor-grab",!0),Ue.append("circle").attr({"data-line-point":"end-point",cx:Ne?at(ae.xanchor)+ae.x1:at(ae.x1),cy:ze?rt(ae.yanchor)-ae.y1:rt(ae.y1),r:Qe}).style(lt).classed("cursor-grab",!0),Ue}():oe,Dt={element:Ft.node(),gd:ie,prepFn:function(st){d(ie)||(Ne&&(Ae=at(ae.xanchor)),ze&&(ke=rt(ae.yanchor)),ae.type==="path"?pe=ae.path:(be=Ne?ae.x0:at(ae.x0),we=ze?ae.y0:rt(ae.y0),ye=Ne?ae.x1:at(ae.x1),me=ze?ae.y1:rt(ae.y1)),be<ye?(de=be,Oe="x0",Ce=ye,Be="x1"):(de=ye,Oe="x1",Ce=be,Be="x0"),!ze&&we<me||ze&&we>me?(fe=we,Me="y0",le=me,Le="y1"):(fe=me,Me="y1",le=we,Le="y0"),Xe(st),Je(ge,ae),function(je,Ue,lt){var Qe=Ue.xref,gt=Ue.yref,mt=_.getFromId(lt,Qe),xt=_.getFromId(lt,gt),dt="";Qe==="paper"||mt.autorange||(dt+=Qe),gt==="paper"||xt.autorange||(dt+=gt),n.setClipUrl(je,dt?"clip"+lt._fullLayout._uid+dt:null,lt)}(oe,ae,ie),Dt.moveFn=_e==="move"?Ke:Ve,Dt.altKey=st.altKey)},doneFn:function(){d(ie)||(o(oe),ct(ge),y(oe,ie,ae),w.call("_guiRelayout",ie,ve.getUpdateObj()))},clickFn:function(){d(ie)||ct(ge)}};function Xe(st){if(d(ie))_e=null;else if(Ge)_e=st.target.tagName==="path"?"move":st.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var je=Dt.element.getBoundingClientRect(),Ue=je.right-je.left,lt=je.bottom-je.top,Qe=st.clientX-je.left,gt=st.clientY-je.top,mt=!Ye&&Ue>Te&&lt>Re&&!st.shiftKey?l.getCursor(Qe/Ue,1-gt/lt):"move";o(oe,mt),_e=mt.split("-")[0]}}function Ke(st,je){if(ae.type==="path"){var Ue=function(gt){return gt},lt=Ue,Qe=Ue;Ne?et("xanchor",ae.xanchor=At(Ae+st)):(lt=function(gt){return At(at(gt)+st)},ot&&ot.type==="date"&&(lt=h.encodeDate(lt))),ze?et("yanchor",ae.yanchor=Rt(ke+je)):(Qe=function(gt){return Rt(rt(gt)+je)},wt&&wt.type==="date"&&(Qe=h.encodeDate(Qe))),et("path",ae.path=x(pe,lt,Qe))}else Ne?et("xanchor",ae.xanchor=At(Ae+st)):(et("x0",ae.x0=At(be+st)),et("x1",ae.x1=At(ye+st))),ze?et("yanchor",ae.yanchor=Rt(ke+je)):(et("y0",ae.y0=Rt(we+je)),et("y1",ae.y1=Rt(me+je)));oe.attr("d",c(ie,ae)),Je(ge,ae),s(ie,ce,ae,ut)}function Ve(st,je){if(Ye){var Ue=function(Gt){return Gt},lt=Ue,Qe=Ue;Ne?et("xanchor",ae.xanchor=At(Ae+st)):(lt=function(Gt){return At(at(Gt)+st)},ot&&ot.type==="date"&&(lt=h.encodeDate(lt))),ze?et("yanchor",ae.yanchor=Rt(ke+je)):(Qe=function(Gt){return Rt(rt(Gt)+je)},wt&&wt.type==="date"&&(Qe=h.encodeDate(Qe))),et("path",ae.path=x(pe,lt,Qe))}else if(Ge){if(_e==="resize-over-start-point"){var gt=be+st,mt=ze?we-je:we+je;et("x0",ae.x0=Ne?gt:At(gt)),et("y0",ae.y0=ze?mt:Rt(mt))}else if(_e==="resize-over-end-point"){var xt=ye+st,dt=ze?me-je:me+je;et("x1",ae.x1=Ne?xt:At(xt)),et("y1",ae.y1=ze?dt:Rt(dt))}}else{var Lt=function(Gt){return _e.indexOf(Gt)!==-1},kt=Lt("n"),_t=Lt("s"),Ot=Lt("w"),Pt=Lt("e"),Bt=kt?fe+je:fe,Jt=_t?le+je:le,on=Ot?de+st:de,qt=Pt?Ce+st:Ce;ze&&(kt&&(Bt=fe-je),_t&&(Jt=le-je)),(!ze&&Jt-Bt>Re||ze&&Bt-Jt>Re)&&(et(Me,ae[Me]=ze?Bt:Rt(Bt)),et(Le,ae[Le]=ze?Jt:Rt(Jt))),qt-on>Te&&(et(Oe,ae[Oe]=Ne?on:At(on)),et(Be,ae[Be]=Ne?qt:At(qt)))}oe.attr("d",c(ie,ae)),Je(ge,ae),s(ie,ce,ae,ut)}function Je(st,je){(Ne||ze)&&function(){var Ue=je.type!=="path",lt=st.selectAll(".visual-cue").data([0]);lt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var Qe=at(Ne?je.xanchor:r.midRange(Ue?[je.x0,je.x1]:h.extractPathCoords(je.path,u.paramIsX))),gt=rt(ze?je.yanchor:r.midRange(Ue?[je.y0,je.y1]:h.extractPathCoords(je.path,u.paramIsY)));if(Qe=h.roundPositionForSharpStrokeRendering(Qe,1),gt=h.roundPositionForSharpStrokeRendering(gt,1),Ne&&ze){var mt="M"+(Qe-1-1)+","+(gt-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";lt.attr("d",mt)}else if(Ne){var xt="M"+(Qe-1-1)+","+(gt-9-1)+"v18 h2 v-18 Z";lt.attr("d",xt)}else{var dt="M"+(Qe-9-1)+","+(gt-1-1)+"h18 v2 h-18 Z";lt.attr("d",dt)}}()}function ct(st){st.selectAll(".visual-cue").remove()}l.init(Dt),Ft.node().onmousemove=Xe}(p,X,E,S,I,Q):E.editable===!0&&X.style("pointer-events",H||a.opacity(j)*z<=.5?"stroke":"all");X.node().addEventListener("click",function(){return function(ie,oe){if(g(ie)){var ae=+oe.node().getAttribute("data-index");if(ae>=0){if(ae===ie._fullLayout._activeShapeIndex)return void T(ie);ie._fullLayout._activeShapeIndex=ae,ie._fullLayout._deactivateShape=T,b(ie)}}}(p,X)})}E._input&&E.visible===!0&&(E.layer!=="below"?O(p._fullLayout._shapeUpperLayer):E.xref==="paper"||E.yref==="paper"?O(p._fullLayout._shapeLowerLayer):P._hadPlotinfo?O((P.mainplotinfo||P).shapelayer):O(p._fullLayout._shapeLowerLayer))}function y(p,S,M){var E=(M.xref+M.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");n.setClipUrl(p,E?"clip"+S._fullLayout._uid+E:null,S)}function x(p,S,M){return p.replace(u.segmentRE,function(E){var P=0,O=E.charAt(0),I=u.paramIsX[O],R=u.paramIsY[O],U=u.numParams[O];return O+E.substr(1).replace(u.paramRE,function(z){return P>=U||(I[P]?z=S(z):R[P]&&(z=M(z)),P++),z})})}function T(p){g(p)&&p._fullLayout._activeShapeIndex>=0&&(t(p),delete p._fullLayout._activeShapeIndex,b(p))}B.exports={draw:b,drawOne:m,eraseActiveShape:function(p){if(g(p)){t(p);var S=p._fullLayout._activeShapeIndex,M=(p.layout||{}).shapes||[];if(S<M.length){for(var E=[],P=0;P<M.length;P++)P!==S&&E.push(M[P]);return delete p._fullLayout._activeShapeIndex,w.call("_guiRelayout",p,{shapes:E})}}},drawLabel:s}},92872:function(B,L,e){var k=e(67824).overrideAll,w=e(45464),r=e(25376),_=e(98192).u,v=e(92880).extendFlat,f=e(21776).ye,s=e(97728);B.exports=k({newshape:{visible:v({},w.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:v({},w.legend,{}),legendgroup:v({},w.legendgroup,{}),legendgrouptitle:{text:v({},w.legendgrouptitle.text,{}),font:r({})},legendrank:v({},w.legendrank,{}),legendwidth:v({},w.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:v({},_,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:v({},w.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:f({newshape:!0},{keys:Object.keys(s)}),font:r({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(B){B.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(B,L,e){var k=e(76308),w=e(3400);B.exports=function(r,_,v){if(v("newshape.visible"),v("newshape.name"),v("newshape.showlegend"),v("newshape.legend"),v("newshape.legendwidth"),v("newshape.legendgroup"),v("newshape.legendgrouptitle.text"),w.coerceFont(v,"newshape.legendgrouptitle.font"),v("newshape.legendrank"),v("newshape.drawdirection"),v("newshape.layer"),v("newshape.fillcolor"),v("newshape.fillrule"),v("newshape.opacity"),v("newshape.line.width")){var f=(r||{}).plot_bgcolor||"#FFF";v("newshape.line.color",k.contrast(f)),v("newshape.line.dash")}var s=r.dragmode==="drawline",t=v("newshape.label.text"),a=v("newshape.label.texttemplate");if(t||a){v("newshape.label.textangle");var n=v("newshape.label.textposition",s?"middle":"middle center");v("newshape.label.xanchor"),v("newshape.label.yanchor",function(i,l){return i?"bottom":l.indexOf("top")!==-1?"top":l.indexOf("bottom")!==-1?"bottom":"middle"}(s,n)),v("newshape.label.padding"),w.coerceFont(v,"newshape.label.font",_.font)}v("activeshape.fillcolor"),v("activeshape.opacity")}},9856:function(B,L,e){var k=e(21984),w=e(7e3),r=w.CIRCLE_SIDES,_=w.SQRT2,v=e(5840),f=v.p2r,s=v.r2p,t=[0,3,4,5,6,1,2],a=[0,3,4,1,2];function n(l,o){return Math.abs(l-o)<=1e-6}function i(l,o){var u=o[1]-l[1],h=o[2]-l[2];return Math.sqrt(u*u+h*h)}L.writePaths=function(l){var o=l.length;if(!o)return"M0,0Z";for(var u="",h=0;h<o;h++)for(var c=l[h].length,b=0;b<c;b++){var d=l[h][b][0];if(d==="Z")u+="Z";else for(var g=l[h][b].length,m=0;m<g;m++){var y=m;d==="Q"||d==="S"?y=a[m]:d==="C"&&(y=t[m]),u+=l[h][b][y],m>0&&m<g-1&&(u+=",")}}return u},L.readPaths=function(l,o,u,h){var c,b,d,g=k(l),m=[],y=-1,x=0,T=0,p=function(){b=x,d=T};p();for(var S=0;S<g.length;S++){var M,E,P,O,I=[],R=g[S][0],U=R;switch(R){case"M":m[++y]=[],x=+g[S][1],T=+g[S][2],I.push([U,x,T]),p();break;case"Q":case"S":M=+g[S][1],P=+g[S][2],x=+g[S][3],T=+g[S][4],I.push([U,x,T,M,P]);break;case"C":M=+g[S][1],P=+g[S][2],E=+g[S][3],O=+g[S][4],x=+g[S][5],T=+g[S][6],I.push([U,x,T,M,P,E,O]);break;case"T":case"L":x=+g[S][1],T=+g[S][2],I.push([U,x,T]);break;case"H":U="L",x=+g[S][1],I.push([U,x,T]);break;case"V":U="L",T=+g[S][1],I.push([U,x,T]);break;case"A":U="L";var z=+g[S][1],j=+g[S][2];+g[S][4]||(z=-z,j=-j);var W=x-z,F=T;for(c=1;c<=r/2;c++){var V=2*Math.PI*c/r;I.push([U,W+z*Math.cos(V),F+j*Math.sin(V)])}break;case"Z":x===b&&T===d||(x=b,T=d,I.push([U,x,T]))}for(var H=(u||{}).domain,te=o._fullLayout._size,Q=u&&u.xsizemode==="pixel",K=u&&u.ysizemode==="pixel",X=h===!1,J=0;J<I.length;J++){for(c=0;c+2<7;c+=2){var ee=I[J][c+1],ie=I[J][c+2];ee!==void 0&&ie!==void 0&&(x=ee,T=ie,u&&(u.xaxis&&u.xaxis.p2r?(X&&(ee-=u.xaxis._offset),ee=Q?s(u.xaxis,u.xanchor)+ee:f(u.xaxis,ee)):(X&&(ee-=te.l),H?ee=H.x[0]+ee/te.w:ee/=te.w),u.yaxis&&u.yaxis.p2r?(X&&(ie-=u.yaxis._offset),ie=K?s(u.yaxis,u.yanchor)-ie:f(u.yaxis,ie)):(X&&(ie-=te.t),ie=H?H.y[1]-ie/te.h:1-ie/te.h)),I[J][c+1]=ee,I[J][c+2]=ie)}m[y].push(I[J].slice())}}return m},L.pointsOnRectangle=function(l){if(l.length!==5)return!1;for(var o=1;o<3;o++)if(!n(l[0][o]-l[1][o],l[3][o]-l[2][o])||!n(l[0][o]-l[3][o],l[1][o]-l[2][o]))return!1;return!(!n(l[0][1],l[1][1])&&!n(l[0][1],l[3][1])||!(i(l[0],l[1])*i(l[0],l[3])))},L.pointsOnEllipse=function(l){var o=l.length;if(o!==r+1)return!1;o=r;for(var u=0;u<o;u++){var h=(2*o-u)%o,c=(o/2+h)%o,b=(o/2+u)%o;if(!n(i(l[u],l[b]),i(l[h],l[c])))return!1}return!0},L.handleEllipse=function(l,o,u){if(!l)return[o,u];var h=L.ellipseOver({x0:o[0],y0:o[1],x1:u[0],y1:u[1]}),c=(h.x1+h.x0)/2,b=(h.y1+h.y0)/2,d=(h.x1-h.x0)/2,g=(h.y1-h.y0)/2;d||(d=g/=_),g||(g=d/=_);for(var m=[],y=0;y<r;y++){var x=2*y*Math.PI/r;m.push([c+d*Math.cos(x),b+g*Math.sin(x)])}return m},L.ellipseOver=function(l){var o=l.x0,u=l.y0,h=l.x1,c=l.y1,b=h-o,d=c-u,g=((o-=b)+h)/2,m=((u-=d)+c)/2;return{x0:g-(b*=_),y0:m-(d*=_),x1:g+b,y1:m+d}},L.fixDatesForPaths=function(l,o,u){var h=o.type==="date",c=u.type==="date";if(!h&&!c)return l;for(var b=0;b<l.length;b++)for(var d=0;d<l[b].length;d++)for(var g=0;g+2<l[b][d].length;g+=2)h&&(l[b][d][g+1]=l[b][d][g+1].replace(" ","_")),c&&(l[b][d][g+2]=l[b][d][g+2].replace(" ","_"));return l}},93940:function(B,L,e){var k=e(72760),w=k.drawMode,r=k.openMode,_=e(7e3),v=_.i000,f=_.i090,s=_.i180,t=_.i270,a=_.cos45,n=_.sin45,i=e(5840),l=i.p2r,o=i.r2p,u=e(1936).clearOutline,h=e(9856),c=h.readPaths,b=h.writePaths,d=h.ellipseOver,g=h.fixDatesForPaths;function m(y,x,T){var p,S=y[0][0],M=x.gd,E=S.getAttribute("d"),P=M._fullLayout.newshape,O=x.plotinfo,I=x.isActiveShape,R=O.xaxis,U=O.yaxis,z=!!O.domain||!O.xaxis,j=!!O.domain||!O.yaxis,W=r(T),F=c(E,M,O,I),V={editable:!0,visible:P.visible,name:P.name,showlegend:P.showlegend,legend:P.legend,legendwidth:P.legendwidth,legendgroup:P.legendgroup,legendgrouptitle:{text:P.legendgrouptitle.text,font:P.legendgrouptitle.font},legendrank:P.legendrank,label:P.label,xref:z?"paper":R._id,yref:j?"paper":U._id,layer:P.layer,opacity:P.opacity,line:{color:P.line.color,width:P.line.width,dash:P.line.dash}};if(W||(V.fillcolor=P.fillcolor,V.fillrule=P.fillrule),F.length===1&&(p=F[0]),p&&p.length===5&&T==="drawrect")V.type="rect",V.x0=p[0][1],V.y0=p[0][2],V.x1=p[2][1],V.y1=p[2][2];else if(p&&T==="drawline")V.type="line",V.x0=p[0][1],V.y0=p[0][2],V.x1=p[1][1],V.y1=p[1][2];else if(p&&T==="drawcircle"){V.type="circle";var H=p[v][1],te=p[f][1],Q=p[s][1],K=p[t][1],X=p[v][2],J=p[f][2],ee=p[s][2],ie=p[t][2],oe=O.xaxis&&(O.xaxis.type==="date"||O.xaxis.type==="log"),ae=O.yaxis&&(O.yaxis.type==="date"||O.yaxis.type==="log");oe&&(H=o(O.xaxis,H),te=o(O.xaxis,te),Q=o(O.xaxis,Q),K=o(O.xaxis,K)),ae&&(X=o(O.yaxis,X),J=o(O.yaxis,J),ee=o(O.yaxis,ee),ie=o(O.yaxis,ie));var ce=(te+K)/2,ge=(X+ee)/2,ve=d({x0:ce,y0:ge,x1:ce+(K-te+Q-H)/2*a,y1:ge+(ie-J+ee-X)/2*n});oe&&(ve.x0=l(O.xaxis,ve.x0),ve.x1=l(O.xaxis,ve.x1)),ae&&(ve.y0=l(O.yaxis,ve.y0),ve.y1=l(O.yaxis,ve.y1)),V.x0=ve.x0,V.y0=ve.y0,V.x1=ve.x1,V.y1=ve.y1}else V.type="path",R&&U&&g(F,R,U),V.path=b(F),p=null;return V}B.exports={newShapes:function(y,x){if(y.length&&y[0][0]){var T=x.gd,p=x.isActiveShape,S=x.dragmode,M=(T.layout||{}).shapes||[];if(!w(S)&&p!==void 0){var E=T._fullLayout._activeShapeIndex;if(E<M.length)switch(T._fullLayout.shapes[E].type){case"rect":S="drawrect";break;case"circle":S="drawcircle";break;case"line":S="drawline";break;case"path":var P=M[E].path||"";S=P[P.length-1]==="Z"?"drawclosedpath":"drawopenpath"}}var O=m(y,x,S);u(T);for(var I=x.editHelpers,R=(I||{}).modifyItem,U=[],z=0;z<M.length;z++){var j=T._fullLayout.shapes[z];if(U[z]=j._input,p!==void 0&&z===T._fullLayout._activeShapeIndex){var W=O;switch(j.type){case"line":case"rect":case"circle":R("x0",W.x0),R("x1",W.x1),R("y0",W.y0),R("y1",W.y1);break;case"path":R("path",W.path)}}}return p===void 0?(U.push(O),U):I?I.getUpdateObj():{}}},createShapeObj:m}},1936:function(B){B.exports={clearOutlineControllers:function(L){var e=L._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()},clearOutline:function(L){var e=L._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),L._fullLayout._outlining=!1}}},65152:function(B,L,e){var k=e(85448),w=e(3400),r=e(54460);L.rangeToShapePosition=function(_){return _.type==="log"?_.r2d:function(v){return v}},L.shapePositionToRange=function(_){return _.type==="log"?_.d2r:function(v){return v}},L.decodeDate=function(_){return function(v){return v.replace&&(v=v.replace("_"," ")),_(v)}},L.encodeDate=function(_){return function(v){return _(v).replace(" ","_")}},L.extractPathCoords=function(_,v,f){var s=[];return _.match(k.segmentRE).forEach(function(t){var a=v[t.charAt(0)].drawn;if(a!==void 0){var n=t.substr(1).match(k.paramRE);if(n&&!(n.length<a)){var i=n[a],l=f?i:w.cleanNumber(i);s.push(l)}}}),s},L.getDataToPixel=function(_,v,f,s){var t,a=_._fullLayout._size;if(v)if(s==="domain")t=function(i){return v._length*(f?1-i:i)+v._offset};else{var n=L.shapePositionToRange(v);t=function(i){return v._offset+v.r2p(n(i,!0))},v.type==="date"&&(t=L.decodeDate(t))}else t=f?function(i){return a.t+a.h*(1-i)}:function(i){return a.l+a.w*i};return t},L.getPixelToData=function(_,v,f,s){var t,a=_._fullLayout._size;if(v)if(s==="domain")t=function(i){var l=(i-v._offset)/v._length;return f?1-l:l};else{var n=L.rangeToShapePosition(v);t=function(i){return n(v.p2r(i-v._offset))}}else t=f?function(i){return 1-(i-a.t)/a.h}:function(i){return(i-a.l)/a.w};return t},L.roundPositionForSharpStrokeRendering=function(_,v){var f=Math.round(v%2)===1,s=Math.round(_);return f?s+.5:s},L.makeShapesOptionsAndPlotinfo=function(_,v){var f=_._fullLayout.shapes[v]||{},s=_._fullLayout._plots[f.xref+f.yref];return s?s._hadPlotinfo=!0:(s={},f.xref&&f.xref!=="paper"&&(s.xaxis=_._fullLayout[f.xref+"axis"]),f.yref&&f.yref!=="paper"&&(s.yaxis=_._fullLayout[f.yref+"axis"])),s.xsizemode=f.xsizemode,s.ysizemode=f.ysizemode,s.xanchor=f.xanchor,s.yanchor=f.yanchor,{options:f,plotinfo:s}},L.makeSelectionsOptionsAndPlotinfo=function(_,v){var f=_._fullLayout.selections[v]||{},s=_._fullLayout._plots[f.xref+f.yref];return s?s._hadPlotinfo=!0:(s={},f.xref&&(s.xaxis=_._fullLayout[f.xref+"axis"]),f.yref&&(s.yaxis=_._fullLayout[f.yref+"axis"])),{options:f,plotinfo:s}},L.getPathString=function(_,v){var f,s,t,a,n,i,l,o,u=v.type,h=r.getRefType(v.xref),c=r.getRefType(v.yref),b=r.getFromId(_,v.xref),d=r.getFromId(_,v.yref),g=_._fullLayout._size;if(b?h==="domain"?s=function(P){return b._offset+b._length*P}:(f=L.shapePositionToRange(b),s=function(P){return b._offset+b.r2p(f(P,!0))}):s=function(P){return g.l+g.w*P},d?c==="domain"?a=function(P){return d._offset+d._length*(1-P)}:(t=L.shapePositionToRange(d),a=function(P){return d._offset+d.r2p(t(P,!0))}):a=function(P){return g.t+g.h*(1-P)},u==="path")return b&&b.type==="date"&&(s=L.decodeDate(s)),d&&d.type==="date"&&(a=L.decodeDate(a)),function(P,O,I){var R=P.path,U=P.xsizemode,z=P.ysizemode,j=P.xanchor,W=P.yanchor;return R.replace(k.segmentRE,function(F){var V=0,H=F.charAt(0),te=k.paramIsX[H],Q=k.paramIsY[H],K=k.numParams[H],X=F.substr(1).replace(k.paramRE,function(J){return te[V]?J=U==="pixel"?O(j)+Number(J):O(J):Q[V]&&(J=z==="pixel"?I(W)-Number(J):I(J)),++V>K&&(J="X"),J});return V>K&&(X=X.replace(/[\s,]*X.*/,""),w.log("Ignoring extra params in segment "+F)),H+X})}(v,s,a);if(v.xsizemode==="pixel"){var m=s(v.xanchor);n=m+v.x0,i=m+v.x1}else n=s(v.x0),i=s(v.x1);if(v.ysizemode==="pixel"){var y=a(v.yanchor);l=y-v.y0,o=y-v.y1}else l=a(v.y0),o=a(v.y1);if(u==="line")return"M"+n+","+l+"L"+i+","+o;if(u==="rect")return"M"+n+","+l+"H"+i+"V"+o+"H"+n+"Z";var x=(n+i)/2,T=(l+o)/2,p=Math.abs(x-n),S=Math.abs(T-l),M="A"+p+","+S,E=x+p+","+T;return"M"+E+M+" 0 1,1 "+x+","+(T-S)+M+" 0 0,1 "+E+"Z"}},41592:function(B,L,e){var k=e(4016);B.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:k.draw,drawOne:k.drawOne}},97728:function(B){function L(r,_){return _?_.d2l(r):r}function e(r,_){return _?_.l2d(r):r}function k(r,_){return L(r.x1,_)-L(r.x0,_)}function w(r,_,v){return L(r.y1,v)-L(r.y0,v)}B.exports={x0:function(r){return r.x0},x1:function(r){return r.x1},y0:function(r){return r.y0},y1:function(r){return r.y1},slope:function(r,_,v){return r.type!=="line"?void 0:w(r,0,v)/k(r,_)},dx:k,dy:w,width:function(r,_){return Math.abs(k(r,_))},height:function(r,_,v){return Math.abs(w(r,0,v))},length:function(r,_,v){return r.type!=="line"?void 0:Math.sqrt(Math.pow(k(r,_),2)+Math.pow(w(r,0,v),2))},xcenter:function(r,_){return e((L(r.x1,_)+L(r.x0,_))/2,_)},ycenter:function(r,_,v){return e((L(r.y1,v)+L(r.y0,v))/2,v)}}},89861:function(B,L,e){var k=e(25376),w=e(66741),r=e(92880).extendDeepAll,_=e(67824).overrideAll,v=e(85656),f=e(31780).templatedArray,s=e(60876),t=f("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});B.exports=_(f("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:r(w({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:v.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:k({})},font:k({}),activebgcolor:{valType:"color",dflt:s.gripBgActiveColor},bgcolor:{valType:"color",dflt:s.railBgColor},bordercolor:{valType:"color",dflt:s.railBorderColor},borderwidth:{valType:"number",min:0,dflt:s.railBorderWidth},ticklen:{valType:"number",min:0,dflt:s.tickLength},tickcolor:{valType:"color",dflt:s.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:s.minorTickLength}}),"arraydraw","from-root")},60876:function(B){B.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(B,L,e){var k=e(3400),w=e(51272),r=e(89861),_=e(60876).name,v=r.steps;function f(t,a,n){function i(c,b){return k.coerce(t,a,r,c,b)}for(var l=w(t,a,{name:"steps",handleItemDefaults:s}),o=0,u=0;u<l.length;u++)l[u].visible&&o++;if(o<2?a.visible=!1:i("visible")){a._stepCount=o;var h=a._visibleSteps=k.filterVisible(l);(l[i("active")]||{}).visible||(a.active=h[0]._index),i("x"),i("y"),k.noneOrAll(t,a,["x","y"]),i("xanchor"),i("yanchor"),i("len"),i("lenmode"),i("pad.t"),i("pad.r"),i("pad.b"),i("pad.l"),k.coerceFont(i,"font",n.font),i("currentvalue.visible")&&(i("currentvalue.xanchor"),i("currentvalue.prefix"),i("currentvalue.suffix"),i("currentvalue.offset"),k.coerceFont(i,"currentvalue.font",a.font)),i("transition.duration"),i("transition.easing"),i("bgcolor"),i("activebgcolor"),i("bordercolor"),i("borderwidth"),i("ticklen"),i("tickwidth"),i("tickcolor"),i("minorticklen")}}function s(t,a){function n(l,o){return k.coerce(t,a,v,l,o)}if(t.method==="skip"||Array.isArray(t.args)?n("visible"):a.visible=!1){n("method"),n("args");var i=n("label","step-"+a._index);n("value",i),n("execute")}}B.exports=function(t,a){w(t,a,{name:_,handleItemDefaults:f})}},79664:function(B,L,e){var k=e(33428),w=e(7316),r=e(76308),_=e(43616),v=e(3400),f=v.strTranslate,s=e(72736),t=e(31780).arrayEditor,a=e(60876),n=e(84284),i=n.LINE_SPACING,l=n.FROM_TL,o=n.FROM_BR;function u(I){return a.autoMarginIdRoot+I._index}function h(I){return I._index}function c(I,R){var U=_.tester.selectAll("g."+a.labelGroupClass).data(R._visibleSteps);U.enter().append("g").classed(a.labelGroupClass,!0);var z=0,j=0;U.each(function(J){var ee=g(k.select(this),{step:J},R).node();if(ee){var ie=_.bBox(ee);j=Math.max(j,ie.height),z=Math.max(z,ie.width)}}),U.remove();var W=R._dims={};W.inputAreaWidth=Math.max(a.railWidth,a.gripHeight);var F=I._fullLayout._size;W.lx=F.l+F.w*R.x,W.ly=F.t+F.h*(1-R.y),R.lenmode==="fraction"?W.outerLength=Math.round(F.w*R.len):W.outerLength=R.len,W.inputAreaStart=0,W.inputAreaLength=Math.round(W.outerLength-R.pad.l-R.pad.r);var V=(W.inputAreaLength-2*a.stepInset)/(R._stepCount-1),H=z+a.labelPadding;if(W.labelStride=Math.max(1,Math.ceil(H/V)),W.labelHeight=j,W.currentValueMaxWidth=0,W.currentValueHeight=0,W.currentValueTotalHeight=0,W.currentValueMaxLines=1,R.currentvalue.visible){var te=_.tester.append("g");U.each(function(J){var ee=b(te,R,J.label),ie=ee.node()&&_.bBox(ee.node())||{width:0,height:0},oe=s.lineCount(ee);W.currentValueMaxWidth=Math.max(W.currentValueMaxWidth,Math.ceil(ie.width)),W.currentValueHeight=Math.max(W.currentValueHeight,Math.ceil(ie.height)),W.currentValueMaxLines=Math.max(W.currentValueMaxLines,oe)}),W.currentValueTotalHeight=W.currentValueHeight+R.currentvalue.offset,te.remove()}W.height=W.currentValueTotalHeight+a.tickOffset+R.ticklen+a.labelOffset+W.labelHeight+R.pad.t+R.pad.b;var Q="left";v.isRightAnchor(R)&&(W.lx-=W.outerLength,Q="right"),v.isCenterAnchor(R)&&(W.lx-=W.outerLength/2,Q="center");var K="top";v.isBottomAnchor(R)&&(W.ly-=W.height,K="bottom"),v.isMiddleAnchor(R)&&(W.ly-=W.height/2,K="middle"),W.outerLength=Math.ceil(W.outerLength),W.height=Math.ceil(W.height),W.lx=Math.round(W.lx),W.ly=Math.round(W.ly);var X={y:R.y,b:W.height*o[K],t:W.height*l[K]};R.lenmode==="fraction"?(X.l=0,X.xl=R.x-R.len*l[Q],X.r=0,X.xr=R.x+R.len*o[Q]):(X.x=R.x,X.l=W.outerLength*l[Q],X.r=W.outerLength*o[Q]),w.autoMargin(I,u(R),X)}function b(I,R,U){if(R.currentvalue.visible){var z,j,W=R._dims;switch(R.currentvalue.xanchor){case"right":z=W.inputAreaLength-a.currentValueInset-W.currentValueMaxWidth,j="left";break;case"center":z=.5*W.inputAreaLength,j="middle";break;default:z=a.currentValueInset,j="left"}var F=v.ensureSingle(I,"text",a.labelClass,function(X){X.attr({"text-anchor":j,"data-notex":1})}),V=R.currentvalue.prefix?R.currentvalue.prefix:"";if(typeof U=="string")V+=U;else{var H=R.steps[R.active].label,te=R._gd._fullLayout._meta;te&&(H=v.templateString(H,te)),V+=H}R.currentvalue.suffix&&(V+=R.currentvalue.suffix),F.call(_.font,R.currentvalue.font).text(V).call(s.convertToTspans,R._gd);var Q=s.lineCount(F),K=(W.currentValueMaxLines+1-Q)*R.currentvalue.font.size*i;return s.positionText(F,z,K),F}}function d(I,R,U){v.ensureSingle(I,"rect",a.gripRectClass,function(z){z.call(T,R,I,U).style("pointer-events","all")}).attr({width:a.gripWidth,height:a.gripHeight,rx:a.gripRadius,ry:a.gripRadius}).call(r.stroke,U.bordercolor).call(r.fill,U.bgcolor).style("stroke-width",U.borderwidth+"px")}function g(I,R,U){var z=v.ensureSingle(I,"text",a.labelClass,function(F){F.attr({"text-anchor":"middle","data-notex":1})}),j=R.step.label,W=U._gd._fullLayout._meta;return W&&(j=v.templateString(j,W)),z.call(_.font,U.font).text(j).call(s.convertToTspans,U._gd),z}function m(I,R){var U=v.ensureSingle(I,"g",a.labelsClass),z=R._dims,j=U.selectAll("g."+a.labelGroupClass).data(z.labelSteps);j.enter().append("g").classed(a.labelGroupClass,!0),j.exit().remove(),j.each(function(W){var F=k.select(this);F.call(g,W,R),_.setTranslate(F,M(R,W.fraction),a.tickOffset+R.ticklen+R.font.size*i+a.labelOffset+z.currentValueTotalHeight)})}function y(I,R,U,z,j){var W=Math.round(z*(U._stepCount-1)),F=U._visibleSteps[W]._index;F!==U.active&&x(I,R,U,F,!0,j)}function x(I,R,U,z,j,W){var F=U.active;U.active=z,t(I.layout,a.name,U).applyUpdate("active",z);var V=U.steps[U.active];R.call(S,U,W),R.call(b,U),I.emit("plotly_sliderchange",{slider:U,step:U.steps[U.active],interaction:j,previousActive:F}),V&&V.method&&j&&(R._nextMethod?(R._nextMethod.step=V,R._nextMethod.doCallback=j,R._nextMethod.doTransition=W):(R._nextMethod={step:V,doCallback:j,doTransition:W},R._nextMethodRaf=window.requestAnimationFrame(function(){var H=R._nextMethod.step;H.method&&(H.execute&&w.executeAPICommand(I,H.method,H.args),R._nextMethod=null,R._nextMethodRaf=null)})))}function T(I,R,U){if(!R._context.staticPlot){var z=U.node(),j=k.select(R);I.on("mousedown",F),I.on("touchstart",F)}function W(){return U.data()[0]}function F(){var V=W();R.emit("plotly_sliderstart",{slider:V});var H=U.select("."+a.gripRectClass);k.event.stopPropagation(),k.event.preventDefault(),H.call(r.fill,V.activebgcolor);var te=E(V,k.mouse(z)[0]);function Q(){var X=W(),J=E(X,k.mouse(z)[0]);y(R,U,X,J,!1)}function K(){var X=W();X._dragging=!1,H.call(r.fill,X.bgcolor),j.on("mouseup",null),j.on("mousemove",null),j.on("touchend",null),j.on("touchmove",null),R.emit("plotly_sliderend",{slider:X,step:X.steps[X.active]})}y(R,U,V,te,!0),V._dragging=!0,j.on("mousemove",Q),j.on("touchmove",Q),j.on("mouseup",K),j.on("touchend",K)}}function p(I,R){var U=I.selectAll("rect."+a.tickRectClass).data(R._visibleSteps),z=R._dims;U.enter().append("rect").classed(a.tickRectClass,!0),U.exit().remove(),U.attr({width:R.tickwidth+"px","shape-rendering":"crispEdges"}),U.each(function(j,W){var F=W%z.labelStride==0,V=k.select(this);V.attr({height:F?R.ticklen:R.minorticklen}).call(r.fill,R.tickcolor),_.setTranslate(V,M(R,W/(R._stepCount-1))-.5*R.tickwidth,(F?a.tickOffset:a.minorTickOffset)+z.currentValueTotalHeight)})}function S(I,R,U){for(var z=I.select("rect."+a.gripRectClass),j=0,W=0;W<R._stepCount;W++)if(R._visibleSteps[W]._index===R.active){j=W;break}var F=M(R,j/(R._stepCount-1));if(!R._invokingCommand){var V=z;U&&R.transition.duration>0&&(V=V.transition().duration(R.transition.duration).ease(R.transition.easing)),V.attr("transform",f(F-.5*a.gripWidth,R._dims.currentValueTotalHeight))}}function M(I,R){var U=I._dims;return U.inputAreaStart+a.stepInset+(U.inputAreaLength-2*a.stepInset)*Math.min(1,Math.max(0,R))}function E(I,R){var U=I._dims;return Math.min(1,Math.max(0,(R-a.stepInset-U.inputAreaStart)/(U.inputAreaLength-2*a.stepInset-2*U.inputAreaStart)))}function P(I,R,U){var z=U._dims,j=v.ensureSingle(I,"rect",a.railTouchRectClass,function(W){W.call(T,R,I,U).style("pointer-events","all")});j.attr({width:z.inputAreaLength,height:Math.max(z.inputAreaWidth,a.tickOffset+U.ticklen+z.labelHeight)}).call(r.fill,U.bgcolor).attr("opacity",0),_.setTranslate(j,0,z.currentValueTotalHeight)}function O(I,R){var U=R._dims,z=U.inputAreaLength-2*a.railInset,j=v.ensureSingle(I,"rect",a.railRectClass);j.attr({width:z,height:a.railWidth,rx:a.railRadius,ry:a.railRadius,"shape-rendering":"crispEdges"}).call(r.stroke,R.bordercolor).call(r.fill,R.bgcolor).style("stroke-width",R.borderwidth+"px"),_.setTranslate(j,a.railInset,.5*(U.inputAreaWidth-a.railWidth)+U.currentValueTotalHeight)}B.exports=function(I){var R=I._context.staticPlot,U=I._fullLayout,z=function(te,Q){for(var K=te[a.name],X=[],J=0;J<K.length;J++){var ee=K[J];ee.visible&&(ee._gd=Q,X.push(ee))}return X}(U,I),j=U._infolayer.selectAll("g."+a.containerClassName).data(z.length>0?[0]:[]);function W(te){te._commandObserver&&(te._commandObserver.remove(),delete te._commandObserver),w.autoMargin(I,u(te))}if(j.enter().append("g").classed(a.containerClassName,!0).style("cursor",R?null:"ew-resize"),j.exit().each(function(){k.select(this).selectAll("g."+a.groupClassName).each(W)}).remove(),z.length!==0){var F=j.selectAll("g."+a.groupClassName).data(z,h);F.enter().append("g").classed(a.groupClassName,!0),F.exit().each(W).remove();for(var V=0;V<z.length;V++){var H=z[V];c(I,H)}F.each(function(te){var Q=k.select(this);(function(K){var X=K._dims;X.labelSteps=[];for(var J=K._stepCount,ee=0;ee<J;ee+=X.labelStride)X.labelSteps.push({fraction:ee/(J-1),step:K._visibleSteps[ee]})})(te),w.manageCommandObserver(I,te,te._visibleSteps,function(K){var X=Q.data()[0];X.active!==K.index&&(X._dragging||x(I,Q,X,K.index,!1,!0))}),function(K,X,J){(J.steps[J.active]||{}).visible||(J.active=J._visibleSteps[0]._index),X.call(b,J).call(O,J).call(m,J).call(p,J).call(P,K,J).call(d,K,J);var ee=J._dims;_.setTranslate(X,ee.lx+J.pad.l,ee.ly+J.pad.t),X.call(S,J,!1),X.call(b,J)}(I,k.select(this),te)})}}},97544:function(B,L,e){var k=e(60876);B.exports={moduleType:"component",name:k.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(B,L,e){var k=e(33428),w=e(38248),r=e(7316),_=e(24040),v=e(3400),f=v.strTranslate,s=e(43616),t=e(76308),a=e(72736),n=e(13448),i=e(84284).OPPOSITE_SIDE,l=/ [XY][0-9]* /;B.exports={draw:function(o,u,h){var c,b=h.propContainer,d=h.propName,g=h.placeholder,m=h.traceIndex,y=h.avoid||{},x=h.attributes,T=h.transform,p=h.containerGroup,S=o._fullLayout,M=1,E=!1,P=b.title,O=(P&&P.text?P.text:"").trim(),I=P&&P.font?P.font:{},R=I.family,U=I.size,z=I.color;d==="title.text"?c="titleText":d.indexOf("axis")!==-1?c="axisTitleText":d.indexOf(!0)&&(c="colorbarTitleText");var j=o._context.edits[c];O===""?M=0:O.replace(l," % ")===g.replace(l," % ")&&(M=.2,E=!0,j||(O="")),h._meta?O=v.templateString(O,h._meta):S._meta&&(O=v.templateString(O,S._meta));var W,F=O||j;p||(p=v.ensureSingle(S._infolayer,"g","g-"+u),W=S._hColorbarMoveTitle);var V=p.selectAll("text").data(F?[0]:[]);if(V.enter().append("text"),V.text(O).attr("class",u),V.exit().remove(),!F)return p;function H(K){v.syncOrAsync([te,Q],K)}function te(K){var X;return!T&&W&&(T={}),T?(X="",T.rotate&&(X+="rotate("+[T.rotate,x.x,x.y]+")"),(T.offset||W)&&(X+=f(0,(T.offset||0)-(W||0)))):X=null,K.attr("transform",X),K.style({"font-family":R,"font-size":k.round(U,2)+"px",fill:t.rgb(z),opacity:M*t.opacity(z),"font-weight":r.fontWeight}).attr(x).call(a.convertToTspans,o),r.previousPromises(o)}function Q(K){var X=k.select(K.node().parentNode);if(y&&y.selection&&y.side&&O){X.attr("transform",null);var J=i[y.side],ee=y.side==="left"||y.side==="top"?-1:1,ie=w(y.pad)?y.pad:2,oe=s.bBox(X.node()),ae={t:0,b:0,l:0,r:0},ce=o._fullLayout._reservedMargin;for(var ge in ce)for(var ve in ce[ge]){var be=ce[ge][ve];ae[ve]=Math.max(ae[ve],be)}var we={left:ae.l,top:ae.t,right:S.width-ae.r,bottom:S.height-ae.b},ye=y.maxShift||ee*(we[y.side]-oe[y.side]),me=0;if(ye<0)me=ye;else{var Ae=y.offsetLeft||0,ke=y.offsetTop||0;oe.left-=Ae,oe.right-=Ae,oe.top-=ke,oe.bottom-=ke,y.selection.each(function(){var le=s.bBox(this);v.bBoxIntersect(oe,le,ie)&&(me=Math.max(me,ee*(le[y.side]-oe[J])+ie))}),me=Math.min(ye,me),b._titleScoot=Math.abs(me)}if(me>0||ye<0){var fe={left:[-me,0],right:[me,0],top:[0,-me],bottom:[0,me]}[y.side];X.attr("transform",f(fe[0],fe[1]))}}}return V.call(H),j&&(O?V.on(".opacity",null):(M=0,E=!0,V.text(g).on("mouseover.opacity",function(){k.select(this).transition().duration(n.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){k.select(this).transition().duration(n.HIDE_PLACEHOLDER).style("opacity",0)})),V.call(a.makeEditable,{gd:o}).on("edit",function(K){m!==void 0?_.call("_guiRestyle",o,d,K,m):_.call("_guiRelayout",o,d,K)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(H)}).on("input",function(K){this.text(K||" ").call(a.positionText,x.x,x.y)})),V.classed("js-placeholder",E),p}}},88444:function(B,L,e){var k=e(25376),w=e(22548),r=e(92880).extendFlat,_=e(67824).overrideAll,v=e(66741),f=e(31780).templatedArray,s=f("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});B.exports=_(f("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:s,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:r(v({editType:"arraydraw"}),{}),font:k({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:w.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(B){B.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},91384:function(B,L,e){var k=e(3400),w=e(51272),r=e(88444),_=e(73712).name,v=r.buttons;function f(t,a,n){function i(l,o){return k.coerce(t,a,r,l,o)}i("visible",w(t,a,{name:"buttons",handleItemDefaults:s}).length>0)&&(i("active"),i("direction"),i("type"),i("showactive"),i("x"),i("y"),k.noneOrAll(t,a,["x","y"]),i("xanchor"),i("yanchor"),i("pad.t"),i("pad.r"),i("pad.b"),i("pad.l"),k.coerceFont(i,"font",n.font),i("bgcolor",n.paper_bgcolor),i("bordercolor"),i("borderwidth"))}function s(t,a){function n(i,l){return k.coerce(t,a,v,i,l)}n("visible",t.method==="skip"||Array.isArray(t.args))&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}B.exports=function(t,a){w(t,a,{name:_,handleItemDefaults:f})}},14420:function(B,L,e){var k=e(33428),w=e(7316),r=e(76308),_=e(43616),v=e(3400),f=e(72736),s=e(31780).arrayEditor,t=e(84284).LINE_SPACING,a=e(73712),n=e(37400);function i(M){return M._index}function l(M,E){return+M.attr(a.menuIndexAttrName)===E._index}function o(M,E,P,O,I,R,U,z){E.active=U,s(M.layout,a.name,E).applyUpdate("active",U),E.type==="buttons"?h(M,O,null,null,E):E.type==="dropdown"&&(I.attr(a.menuIndexAttrName,"-1"),u(M,O,I,R,E),z||h(M,O,I,R,E))}function u(M,E,P,O,I){var R=v.ensureSingle(E,"g",a.headerClassName,function(V){V.style("pointer-events","all")}),U=I._dims,z=I.active,j=I.buttons[z]||a.blankHeaderOpts,W={y:I.pad.t,yPad:0,x:I.pad.l,xPad:0,index:0},F={width:U.headerWidth,height:U.headerHeight};R.call(c,I,j,M).call(p,I,W,F),v.ensureSingle(E,"text",a.headerArrowClassName,function(V){V.attr("text-anchor","end").call(_.font,I.font).text(a.arrowSymbol[I.direction])}).attr({x:U.headerWidth-a.arrowOffsetX+I.pad.l,y:U.headerHeight/2+a.textOffsetY+I.pad.t}),R.on("click",function(){P.call(S,String(l(P,I)?-1:I._index)),h(M,E,P,O,I)}),R.on("mouseover",function(){R.call(m)}),R.on("mouseout",function(){R.call(y,I)}),_.setTranslate(E,U.lx,U.ly)}function h(M,E,P,O,I){P||(P=E).attr("pointer-events","all");var R=function(X){return+X.attr(a.menuIndexAttrName)==-1}(P)&&I.type!=="buttons"?[]:I.buttons,U=I.type==="dropdown"?a.dropdownButtonClassName:a.buttonClassName,z=P.selectAll("g."+U).data(v.filterVisible(R)),j=z.enter().append("g").classed(U,!0),W=z.exit();I.type==="dropdown"?(j.attr("opacity","0").transition().attr("opacity","1"),W.transition().attr("opacity","0").remove()):W.remove();var F=0,V=0,H=I._dims,te=["up","down"].indexOf(I.direction)!==-1;I.type==="dropdown"&&(te?V=H.headerHeight+a.gapButtonHeader:F=H.headerWidth+a.gapButtonHeader),I.type==="dropdown"&&I.direction==="up"&&(V=-a.gapButtonHeader+a.gapButton-H.openHeight),I.type==="dropdown"&&I.direction==="left"&&(F=-a.gapButtonHeader+a.gapButton-H.openWidth);var Q={x:H.lx+F+I.pad.l,y:H.ly+V+I.pad.t,yPad:a.gapButton,xPad:a.gapButton,index:0},K={l:Q.x+I.borderwidth,t:Q.y+I.borderwidth};z.each(function(X,J){var ee=k.select(this);ee.call(c,I,X,M).call(p,I,Q),ee.on("click",function(){k.event.defaultPrevented||(X.execute&&(X.args2&&I.active===J?(o(M,I,0,E,P,O,-1),w.executeAPICommand(M,X.method,X.args2)):(o(M,I,0,E,P,O,J),w.executeAPICommand(M,X.method,X.args))),M.emit("plotly_buttonclicked",{menu:I,button:X,active:I.active}))}),ee.on("mouseover",function(){ee.call(m)}),ee.on("mouseout",function(){ee.call(y,I),z.call(g,I)})}),z.call(g,I),te?(K.w=Math.max(H.openWidth,H.headerWidth),K.h=Q.y-K.t):(K.w=Q.x-K.l,K.h=Math.max(H.openHeight,H.headerHeight)),K.direction=I.direction,O&&(z.size()?function(X,J,ee,ie,oe,ae){var ce,ge,ve,be=oe.direction,we=be==="up"||be==="down",ye=oe._dims,me=oe.active;if(we)for(ge=0,ve=0;ve<me;ve++)ge+=ye.heights[ve]+a.gapButton;else for(ce=0,ve=0;ve<me;ve++)ce+=ye.widths[ve]+a.gapButton;ie.enable(ae,ce,ge),ie.hbar&&ie.hbar.attr("opacity","0").transition().attr("opacity","1"),ie.vbar&&ie.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,O,I,K):function(X){var J=!!X.hbar,ee=!!X.vbar;J&&X.hbar.transition().attr("opacity","0").each("end",function(){J=!1,ee||X.disable()}),ee&&X.vbar.transition().attr("opacity","0").each("end",function(){ee=!1,J||X.disable()})}(O))}function c(M,E,P,O){M.call(b,E).call(d,E,P,O)}function b(M,E){v.ensureSingle(M,"rect",a.itemRectClassName,function(P){P.attr({rx:a.rx,ry:a.ry,"shape-rendering":"crispEdges"})}).call(r.stroke,E.bordercolor).call(r.fill,E.bgcolor).style("stroke-width",E.borderwidth+"px")}function d(M,E,P,O){var I=v.ensureSingle(M,"text",a.itemTextClassName,function(z){z.attr({"text-anchor":"start","data-notex":1})}),R=P.label,U=O._fullLayout._meta;U&&(R=v.templateString(R,U)),I.call(_.font,E.font).text(R).call(f.convertToTspans,O)}function g(M,E){var P=E.active;M.each(function(O,I){var R=k.select(this);I===P&&E.showactive&&R.select("rect."+a.itemRectClassName).call(r.fill,a.activeColor)})}function m(M){M.select("rect."+a.itemRectClassName).call(r.fill,a.hoverColor)}function y(M,E){M.select("rect."+a.itemRectClassName).call(r.fill,E.bgcolor)}function x(M,E){var P=E._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},O=_.tester.selectAll("g."+a.dropdownButtonClassName).data(v.filterVisible(E.buttons));O.enter().append("g").classed(a.dropdownButtonClassName,!0);var I=["up","down"].indexOf(E.direction)!==-1;O.each(function(F,V){var H=k.select(this);H.call(c,E,F,M);var te=H.select("."+a.itemTextClassName),Q=te.node()&&_.bBox(te.node()).width,K=Math.max(Q+a.textPadX,a.minWidth),X=E.font.size*t,J=f.lineCount(te),ee=Math.max(X*J,a.minHeight)+a.textOffsetY;ee=Math.ceil(ee),K=Math.ceil(K),P.widths[V]=K,P.heights[V]=ee,P.height1=Math.max(P.height1,ee),P.width1=Math.max(P.width1,K),I?(P.totalWidth=Math.max(P.totalWidth,K),P.openWidth=P.totalWidth,P.totalHeight+=ee+a.gapButton,P.openHeight+=ee+a.gapButton):(P.totalWidth+=K+a.gapButton,P.openWidth+=K+a.gapButton,P.totalHeight=Math.max(P.totalHeight,ee),P.openHeight=P.totalHeight)}),I?P.totalHeight-=a.gapButton:P.totalWidth-=a.gapButton,P.headerWidth=P.width1+a.arrowPadX,P.headerHeight=P.height1,E.type==="dropdown"&&(I?(P.width1+=a.arrowPadX,P.totalHeight=P.height1):P.totalWidth=P.width1,P.totalWidth+=a.arrowPadX),O.remove();var R=P.totalWidth+E.pad.l+E.pad.r,U=P.totalHeight+E.pad.t+E.pad.b,z=M._fullLayout._size;P.lx=z.l+z.w*E.x,P.ly=z.t+z.h*(1-E.y);var j="left";v.isRightAnchor(E)&&(P.lx-=R,j="right"),v.isCenterAnchor(E)&&(P.lx-=R/2,j="center");var W="top";v.isBottomAnchor(E)&&(P.ly-=U,W="bottom"),v.isMiddleAnchor(E)&&(P.ly-=U/2,W="middle"),P.totalWidth=Math.ceil(P.totalWidth),P.totalHeight=Math.ceil(P.totalHeight),P.lx=Math.round(P.lx),P.ly=Math.round(P.ly),w.autoMargin(M,T(E),{x:E.x,y:E.y,l:R*({right:1,center:.5}[j]||0),r:R*({left:1,center:.5}[j]||0),b:U*({top:1,middle:.5}[W]||0),t:U*({bottom:1,middle:.5}[W]||0)})}function T(M){return a.autoMarginIdRoot+M._index}function p(M,E,P,O){O=O||{};var I=M.select("."+a.itemRectClassName),R=M.select("."+a.itemTextClassName),U=E.borderwidth,z=P.index,j=E._dims;_.setTranslate(M,U+P.x,U+P.y);var W=["up","down"].indexOf(E.direction)!==-1,F=O.height||(W?j.heights[z]:j.height1);I.attr({x:0,y:0,width:O.width||(W?j.width1:j.widths[z]),height:F});var V=E.font.size*t,H=(f.lineCount(R)-1)*V/2;f.positionText(R,a.textOffsetX,F/2-H+a.textOffsetY),W?P.y+=j.heights[z]+P.yPad:P.x+=j.widths[z]+P.xPad,P.index++}function S(M,E){M.attr(a.menuIndexAttrName,E||"-1").selectAll("g."+a.dropdownButtonClassName).remove()}B.exports=function(M){var E=M._fullLayout,P=v.filterVisible(E[a.name]);function O(V){w.autoMargin(M,T(V))}var I=E._menulayer.selectAll("g."+a.containerClassName).data(P.length>0?[0]:[]);if(I.enter().append("g").classed(a.containerClassName,!0).style("cursor","pointer"),I.exit().each(function(){k.select(this).selectAll("g."+a.headerGroupClassName).each(O)}).remove(),P.length!==0){var R=I.selectAll("g."+a.headerGroupClassName).data(P,i);R.enter().append("g").classed(a.headerGroupClassName,!0);for(var U=v.ensureSingle(I,"g",a.dropdownButtonGroupClassName,function(V){V.style("pointer-events","all")}),z=0;z<P.length;z++){var j=P[z];x(M,j)}var W="updatemenus"+E._uid,F=new n(M,U,W);R.enter().size()&&(U.node().parentNode.appendChild(U.node()),U.call(S)),R.exit().each(function(V){U.call(S),O(V)}).remove(),R.each(function(V){var H=k.select(this),te=V.type==="dropdown"?U:null;w.manageCommandObserver(M,V,V.buttons,function(Q){o(M,V,V.buttons[Q.index],H,te,F,Q.index,!0)}),V.type==="dropdown"?(u(M,H,U,F,V),l(U,V)&&h(M,H,U,F,V)):h(M,H,null,null,V)})}}},76908:function(B,L,e){var k=e(73712);B.exports={moduleType:"component",name:k.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(B,L,e){B.exports=v;var k=e(33428),w=e(76308),r=e(43616),_=e(3400);function v(f,s,t){this.gd=f,this.container=s,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}v.barWidth=2,v.barLength=20,v.barRadius=2,v.barPad=1,v.barColor="#808BA4",v.prototype.enable=function(f,s,t){var a=this.gd._fullLayout,n=a.width,i=a.height;this.position=f;var l,o,u,h,c=this.position.l,b=this.position.w,d=this.position.t,g=this.position.h,m=this.position.direction,y=m==="down",x=m==="left",T=m==="up",p=b,S=g;y||x||m==="right"||T||(this.position.direction="down",y=!0),y||T?(o=(l=c)+p,y?(u=d,S=(h=Math.min(u+S,i))-u):S=(h=d+S)-(u=Math.max(h-S,0))):(h=(u=d)+S,x?p=(o=c+p)-(l=Math.max(o-p,0)):(l=c,p=(o=Math.min(l+p,n))-l)),this._box={l,t:u,w:p,h:S};var M=b>p,E=v.barLength+2*v.barPad,P=v.barWidth+2*v.barPad,O=c,I=d+g;I+P>i&&(I=i-P);var R=this.container.selectAll("rect.scrollbar-horizontal").data(M?[0]:[]);R.exit().on(".drag",null).remove(),R.enter().append("rect").classed("scrollbar-horizontal",!0).call(w.fill,v.barColor),M?(this.hbar=R.attr({rx:v.barRadius,ry:v.barRadius,x:O,y:I,width:E,height:P}),this._hbarXMin=O+E/2,this._hbarTranslateMax=p-E):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var U=g>S,z=v.barWidth+2*v.barPad,j=v.barLength+2*v.barPad,W=c+b,F=d;W+z>n&&(W=n-z);var V=this.container.selectAll("rect.scrollbar-vertical").data(U?[0]:[]);V.exit().on(".drag",null).remove(),V.enter().append("rect").classed("scrollbar-vertical",!0).call(w.fill,v.barColor),U?(this.vbar=V.attr({rx:v.barRadius,ry:v.barRadius,x:W,y:F,width:z,height:j}),this._vbarYMin=F+j/2,this._vbarTranslateMax=S-j):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var H=this.id,te=l-.5,Q=U?o+z+.5:o+.5,K=u-.5,X=M?h+P+.5:h+.5,J=a._topdefs.selectAll("#"+H).data(M||U?[0]:[]);if(J.exit().remove(),J.enter().append("clipPath").attr("id",H).append("rect"),M||U?(this._clipRect=J.select("rect").attr({x:Math.floor(te),y:Math.floor(K),width:Math.ceil(Q)-Math.floor(te),height:Math.ceil(X)-Math.floor(K)}),this.container.call(r.setClipUrl,H,this.gd),this.bg.attr({x:c,y:d,width:b,height:g})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(r.setClipUrl,null),delete this._clipRect),M||U){var ee=k.behavior.drag().on("dragstart",function(){k.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(ee);var ie=k.behavior.drag().on("dragstart",function(){k.event.sourceEvent.preventDefault(),k.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));M&&this.hbar.on(".drag",null).call(ie),U&&this.vbar.on(".drag",null).call(ie)}this.setTranslate(s,t)},v.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(r.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},v.prototype._onBoxDrag=function(){var f=this.translateX,s=this.translateY;this.hbar&&(f-=k.event.dx),this.vbar&&(s-=k.event.dy),this.setTranslate(f,s)},v.prototype._onBoxWheel=function(){var f=this.translateX,s=this.translateY;this.hbar&&(f+=k.event.deltaY),this.vbar&&(s+=k.event.deltaY),this.setTranslate(f,s)},v.prototype._onBarDrag=function(){var f=this.translateX,s=this.translateY;if(this.hbar){var t=f+this._hbarXMin,a=t+this._hbarTranslateMax;f=(_.constrain(k.event.x,t,a)-t)/(a-t)*(this.position.w-this._box.w)}if(this.vbar){var n=s+this._vbarYMin,i=n+this._vbarTranslateMax;s=(_.constrain(k.event.y,n,i)-n)/(i-n)*(this.position.h-this._box.h)}this.setTranslate(f,s)},v.prototype.setTranslate=function(f,s){var t=this.position.w-this._box.w,a=this.position.h-this._box.h;if(f=_.constrain(f||0,0,t),s=_.constrain(s||0,0,a),this.translateX=f,this.translateY=s,this.container.call(r.setTranslate,this._box.l-this.position.l-f,this._box.t-this.position.t-s),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+f-.5),y:Math.floor(this.position.t+s-.5)}),this.hbar){var n=f/t;this.hbar.call(r.setTranslate,f+n*this._hbarTranslateMax,s)}if(this.vbar){var i=s/a;this.vbar.call(r.setTranslate,f,s+i*this._vbarTranslateMax)}}},84284:function(B){B.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(B){B.exports={axisRefDescription:function(L,e,k){return["If set to a",L,"axis id (e.g. *"+L+"* or","*"+L+"2*), the `"+L+"` position refers to a",L,"coordinate. If set to *paper*, the `"+L+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+k+"). If set to a",L,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+L+"2 domain* refers to the domain of the second",L," axis and a",L,"position of 0.5 refers to the","point between the",e,"and the",k,"of the domain of the","second",L,"axis."].join(" ")}}},48164:function(B){B.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},26880:function(B){B.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(B){B.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(B){B.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(B){B.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},13448:function(B){B.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(B){B.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},2264:function(B,L){L.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],L.STYLE=L.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(B,L){L.xmlns="http://www.w3.org/2000/xmlns/",L.svg="http://www.w3.org/2000/svg",L.xlink="http://www.w3.org/1999/xlink",L.svgAttrs={xmlns:L.svg,"xmlns:xlink":L.xlink}},64884:function(B,L,e){L.version=e(25788).version,e(88324),e(79288);for(var k=e(24040),w=L.register=k.register,r=e(22448),_=Object.keys(r),v=0;v<_.length;v++){var f=_[v];f.charAt(0)!=="_"&&(L[f]=r[f]),w({moduleType:"apiMethod",name:f,fn:r[f]})}w(e(65875)),w([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),w([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(w(window.PlotlyLocales),delete window.PlotlyLocales),L.Icons=e(9224);var s=e(93024),t=e(7316);L.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},L.Fx={hover:s.hover,unhover:s.unhover,loneHover:s.loneHover,loneUnhover:s.loneUnhover},L.Snapshot=e(78904),L.PlotSchema=e(73060)},9224:function(B){B.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(B,L){L.isLeftAnchor=function(e){return e.xanchor==="left"||e.xanchor==="auto"&&e.x<=.3333333333333333},L.isCenterAnchor=function(e){return e.xanchor==="center"||e.xanchor==="auto"&&e.x>.3333333333333333&&e.x<.6666666666666666},L.isRightAnchor=function(e){return e.xanchor==="right"||e.xanchor==="auto"&&e.x>=.6666666666666666},L.isTopAnchor=function(e){return e.yanchor==="top"||e.yanchor==="auto"&&e.y>=.6666666666666666},L.isMiddleAnchor=function(e){return e.yanchor==="middle"||e.yanchor==="auto"&&e.y>.3333333333333333&&e.y<.6666666666666666},L.isBottomAnchor=function(e){return e.yanchor==="bottom"||e.yanchor==="auto"&&e.y<=.3333333333333333}},11864:function(B,L,e){var k=e(20435),w=k.mod,r=k.modHalf,_=Math.PI,v=2*_;function f(n){return Math.abs(n[1]-n[0])>v-1e-14}function s(n,i){return r(i-n,v)}function t(n,i){if(f(i))return!0;var l,o;i[0]<i[1]?(l=i[0],o=i[1]):(l=i[1],o=i[0]),(l=w(l,v))>(o=w(o,v))&&(o+=v);var u=w(n,v),h=u+v;return u>=l&&u<=o||h>=l&&h<=o}function a(n,i,l,o,u,h,c){u=u||0,h=h||0;var b,d,g,m,y,x=f([l,o]);function T(E,P){return[E*Math.cos(P)+u,h-E*Math.sin(P)]}x?(b=0,d=_,g=v):l<o?(b=l,g=o):(b=o,g=l),n<i?(m=n,y=i):(m=i,y=n);var p,S=Math.abs(g-b)<=_?0:1;function M(E,P,O){return"A"+[E,E]+" "+[0,S,O]+" "+T(E,P)}return x?p=m===null?"M"+T(y,b)+M(y,d,0)+M(y,g,0)+"Z":"M"+T(m,b)+M(m,d,0)+M(m,g,0)+"ZM"+T(y,b)+M(y,d,1)+M(y,g,1)+"Z":m===null?(p="M"+T(y,b)+M(y,g,0),c&&(p+="L0,0Z")):p="M"+T(m,b)+"L"+T(y,b)+M(y,g,0)+"L"+T(m,g)+M(m,b,1)+"Z",p}B.exports={deg2rad:function(n){return n/180*_},rad2deg:function(n){return n/_*180},angleDelta:s,angleDist:function(n,i){return Math.abs(s(n,i))},isFullCircle:f,isAngleInsideSector:t,isPtInsideSector:function(n,i,l,o){return!!t(i,o)&&(l[0]<l[1]?(u=l[0],h=l[1]):(u=l[1],h=l[0]),n>=u&&n<=h);var u,h},pathArc:function(n,i,l,o,u){return a(null,n,i,l,o,u,0)},pathSector:function(n,i,l,o,u){return a(null,n,i,l,o,u,1)},pathAnnulus:function(n,i,l,o,u,h){return a(n,i,l,o,u,h,1)}}},38116:function(B,L,e){var k=e(83160).decode,w=e(63620),r=Array.isArray,_=ArrayBuffer,v=DataView;function f(i){return _.isView(i)&&!(i instanceof v)}function s(i){return r(i)||f(i)}L.isTypedArray=f,L.isArrayOrTypedArray=s,L.isArray1D=function(i){return!s(i[0])},L.ensureArray=function(i,l){return r(i)||(i=[]),i.length=l,i};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};function a(i){return i.constructor===ArrayBuffer}function n(i,l,o){if(s(i)){if(s(i[0])){for(var u=o,h=0;h<i.length;h++)u=l(u,i[h].length);return u}return i.length}return 0}t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8,L.isArrayBuffer=a,L.decodeTypedArraySpec=function(i){var l=[],o=function(E){return{bdata:E.bdata,dtype:E.dtype,shape:E.shape}}(i),u=o.dtype,h=t[u];if(!h)throw new Error('Error in dtype: "'+u+'"');var c=h.BYTES_PER_ELEMENT,b=o.bdata;a(b)||(b=k(b));var d=o.shape===void 0?[b.byteLength/c]:(""+o.shape).split(",");d.reverse();var g,m,y=d.length,x=+d[0],T=c*x,p=0;if(y===1)l=new h(b);else if(y===2)for(g=+d[1],m=0;m<g;m++)l[m]=new h(b,p,x),p+=T;else{if(y!==3)throw new Error("ndim: "+y+'is not supported with the shape:"'+o.shape+'"');g=+d[1];for(var S=+d[2],M=0;M<S;M++)for(l[M]=[],m=0;m<g;m++)l[M][m]=new h(b,p,x),p+=T}return l.bdata=o.bdata,l.dtype=o.dtype,l.shape=d.reverse().join(","),i._inputArray=l,l},L.isTypedArraySpec=function(i){return w(i)&&i.hasOwnProperty("dtype")&&typeof i.dtype=="string"&&i.hasOwnProperty("bdata")&&(typeof i.bdata=="string"||a(i.bdata))&&(i.shape===void 0||i.hasOwnProperty("shape")&&(typeof i.shape=="string"||typeof i.shape=="number"))},L.concat=function(){var i,l,o,u,h,c,b,d,g=[],m=!0,y=0;for(o=0;o<arguments.length;o++)(c=(u=arguments[o]).length)&&(l?g.push(u):(l=u,h=c),r(u)?i=!1:(m=!1,y?i!==u.constructor&&(i=!1):i=u.constructor),y+=c);if(!y)return[];if(!g.length)return l;if(m)return l.concat.apply(l,g);if(i){for((b=new i(y)).set(l),o=0;o<g.length;o++)u=g[o],b.set(u,h),h+=u.length;return b}for(b=new Array(y),d=0;d<l.length;d++)b[d]=l[d];for(o=0;o<g.length;o++){for(u=g[o],d=0;d<u.length;d++)b[h+d]=u[d];h+=d}return b},L.maxRowLength=function(i){return n(i,Math.max,0)},L.minRowLength=function(i){return n(i,Math.min,1/0)}},54037:function(B,L,e){var k=e(38248),w=e(39032).BADNUM,r=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;B.exports=function(_){return typeof _=="string"&&(_=_.replace(r,"")),k(_)?Number(_):w}},73696:function(B){B.exports=function(L){var e=L._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each(function(k){k.regl&&k.regl.clear({color:!0,depth:!0})})}},75352:function(B){B.exports=function(L){L._responsiveChartHandler&&(window.removeEventListener("resize",L._responsiveChartHandler),delete L._responsiveChartHandler)}},63064:function(B,L,e){var k=e(38248),w=e(49760),r=e(45464),_=e(88304),v=e(76308),f=e(13448).DESELECTDIM,s=e(22296),t=e(53756).counter,a=e(20435).modHalf,n=e(38116).isArrayOrTypedArray,i=e(38116).isTypedArraySpec,l=e(38116).decodeTypedArraySpec;function o(u,h){var c=L.valObjectMeta[h.valType];if(h.arrayOk&&n(u))return!0;if(c.validateFunction)return c.validateFunction(u,h);var b={},d=b,g={set:function(m){d=m}};return c.coerceFunction(u,g,b,h),d!==b}L.valObjectMeta={data_array:{coerceFunction:function(u,h,c){h.set(n(u)?u:i(u)?l(u):c)}},enumerated:{coerceFunction:function(u,h,c,b){b.coerceNumber&&(u=+u),b.values.indexOf(u)===-1?h.set(c):h.set(u)},validateFunction:function(u,h){h.coerceNumber&&(u=+u);for(var c=h.values,b=0;b<c.length;b++){var d=String(c[b]);if(d.charAt(0)==="/"&&d.charAt(d.length-1)==="/"){if(new RegExp(d.substr(1,d.length-2)).test(u))return!0}else if(u===c[b])return!0}return!1}},boolean:{coerceFunction:function(u,h,c){u===!0||u===!1?h.set(u):h.set(c)}},number:{coerceFunction:function(u,h,c,b){!k(u)||b.min!==void 0&&u<b.min||b.max!==void 0&&u>b.max?h.set(c):h.set(+u)}},integer:{coerceFunction:function(u,h,c,b){u%1||!k(u)||b.min!==void 0&&u<b.min||b.max!==void 0&&u>b.max?h.set(c):h.set(+u)}},string:{coerceFunction:function(u,h,c,b){if(typeof u!="string"){var d=typeof u=="number";b.strict!==!0&&d?h.set(String(u)):h.set(c)}else b.noBlank&&!u?h.set(c):h.set(u)}},color:{coerceFunction:function(u,h,c){w(u).isValid()?h.set(u):h.set(c)}},colorlist:{coerceFunction:function(u,h,c){Array.isArray(u)&&u.length&&u.every(function(b){return w(b).isValid()})?h.set(u):h.set(c)}},colorscale:{coerceFunction:function(u,h,c){h.set(_.get(u,c))}},angle:{coerceFunction:function(u,h,c){u==="auto"?h.set("auto"):k(u)?h.set(a(+u,360)):h.set(c)}},subplotid:{coerceFunction:function(u,h,c,b){var d=b.regex||t(c);typeof u=="string"&&d.test(u)?h.set(u):h.set(c)},validateFunction:function(u,h){var c=h.dflt;return u===c||typeof u=="string"&&!!t(c).test(u)}},flaglist:{coerceFunction:function(u,h,c,b){if((b.extras||[]).indexOf(u)===-1)if(typeof u=="string"){for(var d=u.split("+"),g=0;g<d.length;){var m=d[g];b.flags.indexOf(m)===-1||d.indexOf(m)<g?d.splice(g,1):g++}d.length?h.set(d.join("+")):h.set(c)}else h.set(c);else h.set(u)}},any:{coerceFunction:function(u,h,c){u===void 0?h.set(c):h.set(i(u)?l(u):u)}},info_array:{coerceFunction:function(u,h,c,b){function d(U,z,j){var W,F={set:function(V){W=V}};return j===void 0&&(j=z.dflt),L.valObjectMeta[z.valType].coerceFunction(U,F,j,z),W}if(i(u)&&(u=l(u)),n(u)){var g,m,y,x,T,p,S=b.dimensions===2||b.dimensions==="1-2"&&Array.isArray(u)&&n(u[0]),M=b.items,E=[],P=Array.isArray(M),O=P&&S&&n(M[0]),I=S&&P&&!O,R=P&&!I?M.length:u.length;if(c=Array.isArray(c)?c:[],S)for(g=0;g<R;g++)for(E[g]=[],y=n(u[g])?u[g]:[],T=I?M.length:P?M[g].length:y.length,m=0;m<T;m++)x=I?M[m]:P?M[g][m]:M,(p=d(y[m],x,(c[g]||[])[m]))!==void 0&&(E[g][m]=p);else for(g=0;g<R;g++)(p=d(u[g],P?M[g]:M,c[g]))!==void 0&&(E[g]=p);h.set(E)}else h.set(c)},validateFunction:function(u,h){if(!n(u))return!1;var c=h.items,b=Array.isArray(c),d=h.dimensions===2;if(!h.freeLength&&u.length!==c.length)return!1;for(var g=0;g<u.length;g++)if(d){if(!n(u[g])||!h.freeLength&&u[g].length!==c[g].length)return!1;for(var m=0;m<u[g].length;m++)if(!o(u[g][m],b?c[g][m]:c))return!1}else if(!o(u[g],b?c[g]:c))return!1;return!0}}},L.coerce=function(u,h,c,b,d){var g=s(c,b).get(),m=s(u,b),y=s(h,b),x=m.get(),T=h._template;if(x===void 0&&T&&(x=s(T,b).get(),T=0),d===void 0&&(d=g.dflt),g.arrayOk){if(n(x))return y.set(x),x;if(i(x))return x=l(x),y.set(x),x}var p=L.valObjectMeta[g.valType].coerceFunction;p(x,y,d,g);var S=y.get();return T&&S===d&&!o(x,g)&&(p(x=s(T,b).get(),y,d,g),S=y.get()),S},L.coerce2=function(u,h,c,b,d){var g=s(u,b),m=L.coerce(u,h,c,b,d);return g.get()!=null&&m},L.coerceFont=function(u,h,c){var b={};return c=c||{},b.family=u(h+".family",c.family),b.size=u(h+".size",c.size),b.color=u(h+".color",c.color),b},L.coercePattern=function(u,h,c,b){if(u(h+".shape")){u(h+".solidity"),u(h+".size");var d=u(h+".fillmode")==="overlay";if(!b){var g=u(h+".bgcolor",d?c:void 0);u(h+".fgcolor",d?v.contrast(g):c)}u(h+".fgopacity",d?.5:1)}},L.coerceHoverinfo=function(u,h,c){var b,d=h._module.attributes,g=d.hoverinfo?d:r,m=g.hoverinfo;if(c._dataLength===1){var y=m.dflt==="all"?m.flags.slice():m.dflt.split("+");y.splice(y.indexOf("name"),1),b=y.join("+")}return L.coerce(u,h,g,"hoverinfo",b)},L.coerceSelectionMarkerOpacity=function(u,h){if(u.marker){var c,b,d=u.marker.opacity;d!==void 0&&(n(d)||u.selected||u.unselected||(c=d,b=f*d),h("selected.marker.opacity",c),h("unselected.marker.opacity",b))}},L.validate=o},67555:function(B,L,e){var k,w,r=e(94336).Yn,_=e(38248),v=e(24248),f=e(20435).mod,s=e(39032),t=s.BADNUM,a=s.ONEDAY,n=s.ONEHOUR,i=s.ONEMIN,l=s.ONESEC,o=s.EPOCHJD,u=e(24040),h=e(94336).E9,c=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,d=new Date().getFullYear()-70;function g(R){return R&&u.componentsRegistry.calendars&&typeof R=="string"&&R!=="gregorian"}function m(R,U){return String(R+Math.pow(10,U)).substr(1)}L.dateTick0=function(R,U){var z=function(W,F){return g(W)?F?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[W]:u.getComponentMethod("calendars","CANONICAL_TICK")[W]:F?"2000-01-02":"2000-01-01"}(R,!!U);if(U<2)return z;var j=L.dateTime2ms(z,R);return j+=a*(U-1),L.ms2DateTime(j,0,R)},L.dfltRange=function(R){return g(R)?u.getComponentMethod("calendars","DFLTRANGE")[R]:["2000-01-01","2001-01-01"]},L.isJSDate=function(R){return typeof R=="object"&&R!==null&&typeof R.getTime=="function"},L.dateTime2ms=function(R,U){if(L.isJSDate(R)){var z=R.getTimezoneOffset()*i,j=(R.getUTCMinutes()-R.getMinutes())*i+(R.getUTCSeconds()-R.getSeconds())*l+(R.getUTCMilliseconds()-R.getMilliseconds());if(j){var W=3*i;z=z-W/2+f(j-z+W/2,W)}return(R=Number(R)-z)>=k&&R<=w?R:t}if(typeof R!="string"&&typeof R!="number")return t;R=String(R);var F=g(U),V=R.charAt(0);!F||V!=="G"&&V!=="g"||(R=R.substr(1),U="");var H=F&&U.substr(0,7)==="chinese",te=R.match(H?b:c);if(!te)return t;var Q=te[1],K=te[3]||"1",X=Number(te[5]||1),J=Number(te[7]||0),ee=Number(te[9]||0),ie=Number(te[11]||0);if(F){if(Q.length===2)return t;var oe;Q=Number(Q);try{var ae=u.getComponentMethod("calendars","getCal")(U);if(H){var ce=K.charAt(K.length-1)==="i";K=parseInt(K,10),oe=ae.newDate(Q,ae.toMonthIndex(Q,K,ce),X)}else oe=ae.newDate(Q,Number(K),X)}catch{return t}return oe?(oe.toJD()-o)*a+J*n+ee*i+ie*l:t}Q=Q.length===2?(Number(Q)+2e3-d)%100+d:Number(Q),K-=1;var ge=new Date(Date.UTC(2e3,K,X,J,ee));return ge.setUTCFullYear(Q),ge.getUTCMonth()!==K||ge.getUTCDate()!==X?t:ge.getTime()+ie*l},k=L.MIN_MS=L.dateTime2ms("-9999"),w=L.MAX_MS=L.dateTime2ms("9999-12-31 23:59:59.9999"),L.isDateTime=function(R,U){return L.dateTime2ms(R,U)!==t};var y=90*a,x=3*n,T=5*i;function p(R,U,z,j,W){if((U||z||j||W)&&(R+=" "+m(U,2)+":"+m(z,2),(j||W)&&(R+=":"+m(j,2),W))){for(var F=4;W%10==0;)F-=1,W/=10;R+="."+m(W,F)}return R}L.ms2DateTime=function(R,U,z){if(typeof R!="number"||!(R>=k&&R<=w))return t;U||(U=0);var j,W,F,V,H,te,Q=Math.floor(10*f(R+.05,1)),K=Math.round(R-Q/10);if(g(z)){var X=Math.floor(K/a)+o,J=Math.floor(f(R,a));try{j=u.getComponentMethod("calendars","getCal")(z).fromJD(X).formatDate("yyyy-mm-dd")}catch{j=h("G%Y-%m-%d")(new Date(K))}if(j.charAt(0)==="-")for(;j.length<11;)j="-0"+j.substr(1);else for(;j.length<10;)j="0"+j;W=U<y?Math.floor(J/n):0,F=U<y?Math.floor(J%n/i):0,V=U<x?Math.floor(J%i/l):0,H=U<T?J%l*10+Q:0}else te=new Date(K),j=h("%Y-%m-%d")(te),W=U<y?te.getUTCHours():0,F=U<y?te.getUTCMinutes():0,V=U<x?te.getUTCSeconds():0,H=U<T?10*te.getUTCMilliseconds()+Q:0;return p(j,W,F,V,H)},L.ms2DateTimeLocal=function(R){if(!(R>=k+a&&R<=w-a))return t;var U=Math.floor(10*f(R+.05,1)),z=new Date(Math.round(R-U/10));return p(r("%Y-%m-%d")(z),z.getHours(),z.getMinutes(),z.getSeconds(),10*z.getUTCMilliseconds()+U)},L.cleanDate=function(R,U,z){if(R===t)return U;if(L.isJSDate(R)||typeof R=="number"&&isFinite(R)){if(g(z))return v.error("JS Dates and milliseconds are incompatible with world calendars",R),U;if(!(R=L.ms2DateTimeLocal(+R))&&U!==void 0)return U}else if(!L.isDateTime(R,z))return v.error("unrecognized date",R),U;return R};var S=/%\d?f/g,M=/%h/g,E={1:"1",2:"1",3:"2",4:"2"};function P(R,U,z,j){R=R.replace(S,function(F){var V=Math.min(+F.charAt(1)||6,6);return(U/1e3%1+2).toFixed(V).substr(2).replace(/0+$/,"")||"0"});var W=new Date(Math.floor(U+.05));if(R=R.replace(M,function(){return E[z("%q")(W)]}),g(j))try{R=u.getComponentMethod("calendars","worldCalFmt")(R,U,j)}catch{return"Invalid"}return z(R)(W)}var O=[59,59.9,59.99,59.999,59.9999];L.formatDate=function(R,U,z,j,W,F){if(W=g(W)&&W,!U)if(z==="y")U=F.year;else if(z==="m")U=F.month;else{if(z!=="d")return function(V,H){var te=f(V+.05,a),Q=m(Math.floor(te/n),2)+":"+m(f(Math.floor(te/i),60),2);if(H!=="M"){_(H)||(H=0);var K=(100+Math.min(f(V/l,60),O[H])).toFixed(H).substr(1);H>0&&(K=K.replace(/0+$/,"").replace(/[\.]$/,"")),Q+=":"+K}return Q}(R,z)+`
`+P(F.dayMonthYear,R,j,W);U=F.dayMonth+`
`+F.year}return P(U,R,j,W)};var I=3*a;L.incrementMonth=function(R,U,z){z=g(z)&&z;var j=f(R,a);if(R=Math.round(R-j),z)try{var W=Math.round(R/a)+o,F=u.getComponentMethod("calendars","getCal")(z),V=F.fromJD(W);return U%12?F.add(V,U,"m"):F.add(V,U/12,"y"),(V.toJD()-o)*a+j}catch{v.error("invalid ms "+R+" in calendar "+z)}var H=new Date(R+I);return H.setUTCMonth(H.getUTCMonth()+U)+j-I},L.findExactDates=function(R,U){for(var z,j,W=0,F=0,V=0,H=0,te=g(U)&&u.getComponentMethod("calendars","getCal")(U),Q=0;Q<R.length;Q++)if(j=R[Q],_(j)){if(!(j%a))if(te)try{(z=te.fromJD(j/a+o)).day()===1?z.month()===1?W++:F++:V++}catch{}else(z=new Date(j)).getUTCDate()===1?z.getUTCMonth()===0?W++:F++:V++}else H++;V+=F+=W;var K=R.length-H;return{exactYears:W/K,exactMonths:F/K,exactDays:V/K}}},52200:function(B,L,e){var k=e(33428),w=e(24248),r=e(52248),_=e(36524);function v(n){var i=n&&n.parentNode;i&&i.removeChild(n)}function f(n,i,l){var o="plotly.js-style-"+n,u=document.getElementById(o);u||((u=document.createElement("style")).setAttribute("id",o),u.appendChild(document.createTextNode("")),document.head.appendChild(u));var h=u.sheet;h.insertRule?h.insertRule(i+"{"+l+"}",0):h.addRule?h.addRule(i,l,0):w.warn("addStyleRule failed")}function s(n){var i=window.getComputedStyle(n,null),l=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("-moz-transform")||i.getPropertyValue("-ms-transform")||i.getPropertyValue("-o-transform")||i.getPropertyValue("transform");return l==="none"?null:l.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(o){return+o})}function t(n){for(var i=[];a(n);)i.push(n),n=n.parentNode;return i}function a(n){return n&&(n instanceof Element||n instanceof HTMLElement)}B.exports={getGraphDiv:function(n){var i;if(typeof n=="string"){if((i=document.getElementById(n))===null)throw new Error("No DOM element with id '"+n+"' exists on the page.");return i}if(n==null)throw new Error("DOM element provided is null or undefined");return n},isPlotDiv:function(n){var i=k.select(n);return i.node()instanceof HTMLElement&&i.size()&&i.classed("js-plotly-plot")},removeElement:v,addStyleRule:function(n,i){f("global",n,i)},addRelatedStyleRule:f,deleteRelatedStyleRule:function(n){var i="plotly.js-style-"+n,l=document.getElementById(i);l&&v(l)},getFullTransformMatrix:function(n){var i=t(n),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return i.forEach(function(o){var u=s(o);if(u){var h=r.convertCssMatrix(u);l=_.multiply(l,l,h)}}),l},getElementTransformMatrix:s,getElementAndAncestors:t,equalDomRects:function(n,i){return n&&i&&n.top===i.top&&n.left===i.left&&n.right===i.right&&n.bottom===i.bottom}}},95924:function(B,L,e){var k=e(61252).EventEmitter,w={init:function(r){if(r._ev instanceof k)return r;var _=new k,v=new k;return r._ev=_,r._internalEv=v,r.on=_.on.bind(_),r.once=_.once.bind(_),r.removeListener=_.removeListener.bind(_),r.removeAllListeners=_.removeAllListeners.bind(_),r._internalOn=v.on.bind(v),r._internalOnce=v.once.bind(v),r._removeInternalListener=v.removeListener.bind(v),r._removeAllInternalListeners=v.removeAllListeners.bind(v),r.emit=function(f,s){typeof jQuery<"u"&&jQuery(r).trigger(f,s),_.emit(f,s),v.emit(f,s)},r},triggerHandler:function(r,_,v){var f,s;typeof jQuery<"u"&&(f=jQuery(r).triggerHandler(_,v));var t=r._ev;if(!t)return f;var a,n=t._events[_];if(!n)return f;function i(l){return l.listener?(t.removeListener(_,l.listener),l.fired?void 0:(l.fired=!0,l.listener.apply(t,[v]))):l.apply(t,[v])}for(n=Array.isArray(n)?n:[n],a=0;a<n.length-1;a++)i(n[a]);return s=i(n[a]),f!==void 0?f:s},purge:function(r){return delete r._ev,delete r.on,delete r.once,delete r.removeListener,delete r.removeAllListeners,delete r.emit,delete r._ev,delete r._internalEv,delete r._internalOn,delete r._internalOnce,delete r._removeInternalListener,delete r._removeAllInternalListeners,r}};B.exports=w},92880:function(B,L,e){var k=e(63620),w=Array.isArray;function r(_,v,f,s){var t,a,n,i,l,o,u,h=_[0],c=_.length;if(c===2&&w(h)&&w(_[1])&&h.length===0){if(u=function(d,g){var m,y;for(m=0;m<d.length;m++){if((y=d[m])!==null&&typeof y=="object")return!1;y!==void 0&&(g[m]=y)}return!0}(_[1],h),u)return h;h.splice(0,h.length)}for(var b=1;b<c;b++)for(a in t=_[b])n=h[a],i=t[a],s&&w(i)?h[a]=i:v&&i&&(k(i)||(l=w(i)))?(l?(l=!1,o=n&&w(n)?n:[]):o=n&&k(n)?n:{},h[a]=r([o,i],v,f,s)):(i!==void 0||f)&&(h[a]=i);return h}L.extendFlat=function(){return r(arguments,!1,!1,!1)},L.extendDeep=function(){return r(arguments,!0,!1,!1)},L.extendDeepAll=function(){return r(arguments,!0,!0,!1)},L.extendDeepNoArrays=function(){return r(arguments,!0,!1,!0)}},68944:function(B){B.exports=function(L){for(var e={},k=[],w=0,r=0;r<L.length;r++){var _=L[r];e[_]!==1&&(e[_]=1,k[w++]=_)}return k}},43880:function(B){function L(k){return k.visible===!0}function e(k){var w=k[0].trace;return w.visible===!0&&w._length!==0}B.exports=function(k){for(var w,r=(w=k,Array.isArray(w)&&Array.isArray(w[0])&&w[0][0]&&w[0][0].trace?e:L),_=[],v=0;v<k.length;v++){var f=k[v];r(f)&&_.push(f)}return _}},27144:function(B,L,e){var k=e(33428),w=e(36116),r=e(40440),_=e(77844),v=e(42428),f=e(35536),s=e(24248),t=e(63620),a=e(22296),n=e(92065),i=Object.keys(w),l={"ISO-3":f,"USA-states":f,"country names":function(u){for(var h=0;h<i.length;h++){var c=i[h];if(new RegExp(w[c]).test(u.trim().toLowerCase()))return c}return s.log("Unrecognized country name: "+u+"."),!1}};function o(u){var h=u.geojson,c=window.PlotlyGeoAssets||{},b=typeof h=="string"?c[h]:h;return t(b)?b:(s.error("Oops ... something went wrong when fetching "+h),!1)}B.exports={locationToFeature:function(u,h,c){if(!h||typeof h!="string")return!1;var b,d,g,m=l[u](h);if(m){if(u==="USA-states")for(b=[],g=0;g<c.length;g++)(d=c[g]).properties&&d.properties.gu&&d.properties.gu==="USA"&&b.push(d);else b=c;for(g=0;g<b.length;g++)if((d=b[g]).id===m)return d;s.log(["Location with id",m,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function(u){var h,c,b,d,g=u.geometry,m=g.coordinates,y=u.id,x=[];function T(p){for(var S=0;S<p.length-1;S++)if(p[S][0]>0&&p[S+1][0]<0)return S;return null}switch(h=y==="RUS"||y==="FJI"?function(p){var S;if(T(p)===null)S=p;else for(S=new Array(p.length),d=0;d<p.length;d++)S[d]=[p[d][0]<0?p[d][0]+360:p[d][0],p[d][1]];x.push(n.tester(S))}:y==="ATA"?function(p){var S=T(p);if(S===null)return x.push(n.tester(p));var M=new Array(p.length+1),E=0;for(d=0;d<p.length;d++)d>S?M[E++]=[p[d][0]+360,p[d][1]]:d===S?(M[E++]=p[d],M[E++]=[p[d][0],-90]):M[E++]=p[d];var P=n.tester(M);P.pts.pop(),x.push(P)}:function(p){x.push(n.tester(p))},g.type){case"MultiPolygon":for(c=0;c<m.length;c++)for(b=0;b<m[c].length;b++)h(m[c][b]);break;case"Polygon":for(c=0;c<m.length;c++)h(m[c])}return x},getTraceGeojson:o,extractTraceFeature:function(u){var h=u[0].trace,c=o(h);if(!c)return!1;var b,d={},g=[];for(b=0;b<h._length;b++){var m=u[b];(m.loc||m.loc===0)&&(d[m.loc]=m)}function y(p){var S=a(p,h.featureidkey||"id").get(),M=d[S];if(M){var E=p.geometry;if(E.type==="Polygon"||E.type==="MultiPolygon"){var P={type:"Feature",id:S,geometry:E,properties:{}};P.properties.ct=function(O){var I,R=O.geometry;if(R.type==="MultiPolygon")for(var U=R.coordinates,z=0,j=0;j<U.length;j++){var W={type:"Polygon",coordinates:U[j]},F=r.default(W);F>z&&(z=F,I=W)}else I=R;return _.default(I).geometry.coordinates}(P),M.fIn=p,M.fOut=P,g.push(P)}else s.log(["Location",M.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete d[S]}switch(c.type){case"FeatureCollection":var x=c.features;for(b=0;b<x.length;b++)y(x[b]);break;case"Feature":y(c);break;default:return s.warn(["Invalid GeoJSON type",(c.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var T in d)s.log(["Location *"+T+"*","does not have a matching feature with id-key","*"+h.featureidkey+"*."].join(" "));return g},fetchTraceGeoData:function(u){var h=window.PlotlyGeoAssets||{},c=[];function b(y){return new Promise(function(x,T){k.json(y,function(p,S){if(p){delete h[y];var M=p.status===404?'GeoJSON at URL "'+y+'" does not exist.':"Unexpected error while fetching from "+y;return T(new Error(M))}return h[y]=S,x(S)})})}function d(y){return new Promise(function(x,T){var p=0,S=setInterval(function(){return h[y]&&h[y]!=="pending"?(clearInterval(S),x(h[y])):p>100?(clearInterval(S),T("Unexpected error while fetching from "+y)):void p++},50)})}for(var g=0;g<u.length;g++){var m=u[g][0].trace.geojson;typeof m=="string"&&(h[m]?h[m]==="pending"&&c.push(d(m)):(h[m]="pending",c.push(b(m))))}return c},computeBbox:function(u){return v.default(u)}}},44808:function(B,L,e){var k=e(39032).BADNUM;L.calcTraceToLineCoords=function(w){for(var r=w[0].trace.connectgaps,_=[],v=[],f=0;f<w.length;f++){var s=w[f].lonlat;s[0]!==k?v.push(s):!r&&v.length>0&&(_.push(v),v=[])}return v.length>0&&_.push(v),_},L.makeLine=function(w){return w.length===1?{type:"LineString",coordinates:w[0]}:{type:"MultiLineString",coordinates:w}},L.makePolygon=function(w){if(w.length===1)return{type:"Polygon",coordinates:w};for(var r=new Array(w.length),_=0;_<w.length;_++)r[_]=[w[_]];return{type:"MultiPolygon",coordinates:r}},L.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(B,L,e){var k,w,r,_=e(20435).mod;function v(s,t,a,n,i,l,o,u){var h=a-s,c=i-s,b=o-i,d=n-t,g=l-t,m=u-l,y=h*m-b*d;if(y===0)return null;var x=(c*m-b*g)/y,T=(c*d-h*g)/y;return T<0||T>1||x<0||x>1?null:{x:s+h*x,y:t+d*x}}function f(s,t,a,n,i){var l=n*s+i*t;if(l<0)return n*n+i*i;if(l>a){var o=n-s,u=i-t;return o*o+u*u}var h=n*t-i*s;return h*h/a}L.segmentsIntersect=v,L.segmentDistance=function(s,t,a,n,i,l,o,u){if(v(s,t,a,n,i,l,o,u))return 0;var h=a-s,c=n-t,b=o-i,d=u-l,g=h*h+c*c,m=b*b+d*d,y=Math.min(f(h,c,g,i-s,l-t),f(h,c,g,o-s,u-t),f(b,d,m,s-i,t-l),f(b,d,m,a-i,n-l));return Math.sqrt(y)},L.getTextLocation=function(s,t,a,n){if(s===w&&n===r||(k={},w=s,r=n),k[a])return k[a];var i=s.getPointAtLength(_(a-n/2,t)),l=s.getPointAtLength(_(a+n/2,t)),o=Math.atan((l.y-i.y)/(l.x-i.x)),u=s.getPointAtLength(_(a,t)),h={x:(4*u.x+i.x+l.x)/6,y:(4*u.y+i.y+l.y)/6,theta:o};return k[a]=h,h},L.clearLocationCache=function(){w=null},L.getVisibleSegment=function(s,t,a){var n,i,l=t.left,o=t.right,u=t.top,h=t.bottom,c=0,b=s.getTotalLength(),d=b;function g(y){var x=s.getPointAtLength(y);y===0?n=x:y===b&&(i=x);var T=x.x<l?l-x.x:x.x>o?x.x-o:0,p=x.y<u?u-x.y:x.y>h?x.y-h:0;return Math.sqrt(T*T+p*p)}for(var m=g(c);m;){if((c+=m+a)>d)return;m=g(c)}for(m=g(d);m;){if(c>(d-=m+a))return;m=g(d)}return{min:c,max:d,len:d-c,total:b,isClosed:c===0&&d===b&&Math.abs(n.x-i.x)<.1&&Math.abs(n.y-i.y)<.1}},L.findPointOnPath=function(s,t,a,n){for(var i,l,o,u=(n=n||{}).pathLength||s.getTotalLength(),h=n.tolerance||.001,c=n.iterationLimit||30,b=s.getPointAtLength(0)[a]>s.getPointAtLength(u)[a]?-1:1,d=0,g=0,m=u;d<c;){if(i=(g+m)/2,o=(l=s.getPointAtLength(i))[a]-t,Math.abs(o)<h)return l;b*o>0?m=i:g=i,d++}return l}},33040:function(B,L,e){var k=e(38248),w=e(49760),r=e(72160),_=e(8932),v=e(22548).defaultLine,f=e(38116).isArrayOrTypedArray,s=r(v);function t(i,l){var o=i;return o[3]*=l,o}function a(i){if(k(i))return s;var l=r(i);return l.length?l:s}function n(i){return k(i)?i:1}B.exports={formatColor:function(i,l,o){var u=i.color;u&&u._inputArray&&(u=u._inputArray);var h,c,b,d,g,m=f(u),y=f(l),x=_.extractOpts(i),T=[];if(h=x.colorscale!==void 0?_.makeColorScaleFuncFromTrace(i):a,c=m?function(S,M){return S[M]===void 0?s:r(h(S[M]))}:a,b=y?function(S,M){return S[M]===void 0?1:n(S[M])}:n,m||y)for(var p=0;p<o;p++)d=c(u,p),g=b(l,p),T[p]=t(d,g);else T=t(r(u),l);return T},parseColorScale:function(i){var l=_.extractOpts(i),o=l.colorscale;return l.reversescale&&(o=_.flipScale(l.colorscale)),o.map(function(u){var h=u[0],c=w(u[1]).toRgb();return{index:h,rgb:[c.r,c.g,c.b,c.a]}})}}},71688:function(B,L,e){var k=e(35536);function w(r){return[r]}B.exports={keyFun:function(r){return r.key},repeat:w,descend:k,wrap:w,unwrap:function(r){return r[0]}}},35536:function(B){B.exports=function(L){return L}},1396:function(B){B.exports=function(L,e){if(!e)return L;var k=1/Math.abs(e),w=k>1?(k*L+k*e)/k:L+e,r=String(w).length;if(r>16){var _=String(e).length;if(r>=String(L).length+_){var v=parseFloat(w).toPrecision(12);v.indexOf("e+")===-1&&(w=+v)}}return w}},3400:function(B,L,e){var k=e(33428),w=e(94336).E9,r=e(57624).E9,_=e(38248),v=e(39032),f=v.FP_SAFE,s=-f,t=v.BADNUM,a=B.exports={};a.adjustFormat=function(J){return!J||/^\d[.]\df/.test(J)||/[.]\d%/.test(J)?J:J==="0.f"?"~f":/^\d%/.test(J)?"~%":/^\ds/.test(J)?"~s":!/^[~,.0$]/.test(J)&&/[&fps]/.test(J)?"~"+J:J};var n={};a.warnBadFormat=function(J){var ee=String(J);n[ee]||(n[ee]=1,a.warn('encountered bad format: "'+ee+'"'))},a.noFormat=function(J){return String(J)},a.numberFormat=function(J){var ee;try{ee=r(a.adjustFormat(J))}catch{return a.warnBadFormat(J),a.noFormat}return ee},a.nestedProperty=e(22296),a.keyedContainer=e(37804),a.relativeAttr=e(23193),a.isPlainObject=e(63620),a.toLogRange=e(36896),a.relinkPrivateKeys=e(51528);var i=e(38116);a.isArrayBuffer=i.isArrayBuffer,a.isTypedArray=i.isTypedArray,a.isArrayOrTypedArray=i.isArrayOrTypedArray,a.isArray1D=i.isArray1D,a.ensureArray=i.ensureArray,a.concat=i.concat,a.maxRowLength=i.maxRowLength,a.minRowLength=i.minRowLength;var l=e(20435);a.mod=l.mod,a.modHalf=l.modHalf;var o=e(63064);a.valObjectMeta=o.valObjectMeta,a.coerce=o.coerce,a.coerce2=o.coerce2,a.coerceFont=o.coerceFont,a.coercePattern=o.coercePattern,a.coerceHoverinfo=o.coerceHoverinfo,a.coerceSelectionMarkerOpacity=o.coerceSelectionMarkerOpacity,a.validate=o.validate;var u=e(67555);a.dateTime2ms=u.dateTime2ms,a.isDateTime=u.isDateTime,a.ms2DateTime=u.ms2DateTime,a.ms2DateTimeLocal=u.ms2DateTimeLocal,a.cleanDate=u.cleanDate,a.isJSDate=u.isJSDate,a.formatDate=u.formatDate,a.incrementMonth=u.incrementMonth,a.dateTick0=u.dateTick0,a.dfltRange=u.dfltRange,a.findExactDates=u.findExactDates,a.MIN_MS=u.MIN_MS,a.MAX_MS=u.MAX_MS;var h=e(14952);a.findBin=h.findBin,a.sorterAsc=h.sorterAsc,a.sorterDes=h.sorterDes,a.distinctVals=h.distinctVals,a.roundUp=h.roundUp,a.sort=h.sort,a.findIndexOfMin=h.findIndexOfMin,a.sortObjectKeys=e(95376);var c=e(63084);a.aggNums=c.aggNums,a.len=c.len,a.mean=c.mean,a.median=c.median,a.midRange=c.midRange,a.variance=c.variance,a.stdev=c.stdev,a.interp=c.interp;var b=e(52248);a.init2dArray=b.init2dArray,a.transposeRagged=b.transposeRagged,a.dot=b.dot,a.translationMatrix=b.translationMatrix,a.rotationMatrix=b.rotationMatrix,a.rotationXYMatrix=b.rotationXYMatrix,a.apply3DTransform=b.apply3DTransform,a.apply2DTransform=b.apply2DTransform,a.apply2DTransform2=b.apply2DTransform2,a.convertCssMatrix=b.convertCssMatrix,a.inverseTransformMatrix=b.inverseTransformMatrix;var d=e(11864);a.deg2rad=d.deg2rad,a.rad2deg=d.rad2deg,a.angleDelta=d.angleDelta,a.angleDist=d.angleDist,a.isFullCircle=d.isFullCircle,a.isAngleInsideSector=d.isAngleInsideSector,a.isPtInsideSector=d.isPtInsideSector,a.pathArc=d.pathArc,a.pathSector=d.pathSector,a.pathAnnulus=d.pathAnnulus;var g=e(98308);a.isLeftAnchor=g.isLeftAnchor,a.isCenterAnchor=g.isCenterAnchor,a.isRightAnchor=g.isRightAnchor,a.isTopAnchor=g.isTopAnchor,a.isMiddleAnchor=g.isMiddleAnchor,a.isBottomAnchor=g.isBottomAnchor;var m=e(92348);a.segmentsIntersect=m.segmentsIntersect,a.segmentDistance=m.segmentDistance,a.getTextLocation=m.getTextLocation,a.clearLocationCache=m.clearLocationCache,a.getVisibleSegment=m.getVisibleSegment,a.findPointOnPath=m.findPointOnPath;var y=e(92880);a.extendFlat=y.extendFlat,a.extendDeep=y.extendDeep,a.extendDeepAll=y.extendDeepAll,a.extendDeepNoArrays=y.extendDeepNoArrays;var x=e(24248);a.log=x.log,a.warn=x.warn,a.error=x.error;var T=e(53756);a.counterRegex=T.counter;var p=e(91200);a.throttle=p.throttle,a.throttleDone=p.done,a.clearThrottle=p.clear;var S=e(52200);function M(J){var ee={};for(var ie in J)for(var oe=J[ie],ae=0;ae<oe.length;ae++)ee[oe[ae]]=+ie;return ee}a.getGraphDiv=S.getGraphDiv,a.isPlotDiv=S.isPlotDiv,a.removeElement=S.removeElement,a.addStyleRule=S.addStyleRule,a.addRelatedStyleRule=S.addRelatedStyleRule,a.deleteRelatedStyleRule=S.deleteRelatedStyleRule,a.getFullTransformMatrix=S.getFullTransformMatrix,a.getElementTransformMatrix=S.getElementTransformMatrix,a.getElementAndAncestors=S.getElementAndAncestors,a.equalDomRects=S.equalDomRects,a.clearResponsive=e(75352),a.preserveDrawingBuffer=e(34296),a.makeTraceGroups=e(30988),a._=e(98356),a.notifier=e(41792),a.filterUnique=e(68944),a.filterVisible=e(43880),a.pushUnique=e(52416),a.increment=e(1396),a.cleanNumber=e(54037),a.ensureNumber=function(J){return _(J)?(J=Number(J))>f||J<s?t:J:t},a.isIndex=function(J,ee){return!(ee!==void 0&&J>=ee)&&_(J)&&J>=0&&J%1==0},a.noop=e(16628),a.identity=e(35536),a.repeat=function(J,ee){for(var ie=new Array(ee),oe=0;oe<ee;oe++)ie[oe]=J;return ie},a.swapAttrs=function(J,ee,ie,oe){ie||(ie="x"),oe||(oe="y");for(var ae=0;ae<ee.length;ae++){var ce=ee[ae],ge=a.nestedProperty(J,ce.replace("?",ie)),ve=a.nestedProperty(J,ce.replace("?",oe)),be=ge.get();ge.set(ve.get()),ve.set(be)}},a.raiseToTop=function(J){J.parentNode.appendChild(J)},a.cancelTransition=function(J){return J.transition().duration(0)},a.constrain=function(J,ee,ie){return ee>ie?Math.max(ie,Math.min(ee,J)):Math.max(ee,Math.min(ie,J))},a.bBoxIntersect=function(J,ee,ie){return ie=ie||0,J.left<=ee.right+ie&&ee.left<=J.right+ie&&J.top<=ee.bottom+ie&&ee.top<=J.bottom+ie},a.simpleMap=function(J,ee,ie,oe,ae){for(var ce=J.length,ge=new Array(ce),ve=0;ve<ce;ve++)ge[ve]=ee(J[ve],ie,oe,ae);return ge},a.randstr=function J(ee,ie,oe,ae){if(oe||(oe=16),ie===void 0&&(ie=24),ie<=0)return"0";var ce,ge,ve=Math.log(Math.pow(2,ie))/Math.log(oe),be="";for(ce=2;ve===1/0;ce*=2)ve=Math.log(Math.pow(2,ie/ce))/Math.log(oe)*ce;var we=ve-Math.floor(ve);for(ce=0;ce<Math.floor(ve);ce++)be=Math.floor(Math.random()*oe).toString(oe)+be;we&&(ge=Math.pow(oe,we),be=Math.floor(Math.random()*ge).toString(oe)+be);var ye=parseInt(be,oe);return ee&&ee[be]||ye!==1/0&&ye>=Math.pow(2,ie)?ae>10?(a.warn("randstr failed uniqueness"),be):J(ee,ie,oe,(ae||0)+1):be},a.OptionControl=function(J,ee){J||(J={}),ee||(ee="opt");var ie={optionList:[],_newoption:function(oe){oe[ee]=J,ie[oe.name]=oe,ie.optionList.push(oe)}};return ie["_"+ee]=J,ie},a.smooth=function(J,ee){if((ee=Math.round(ee)||0)<2)return J;var ie,oe,ae,ce,ge=J.length,ve=2*ge,be=2*ee-1,we=new Array(be),ye=new Array(ge);for(ie=0;ie<be;ie++)we[ie]=(1-Math.cos(Math.PI*(ie+1)/ee))/(2*ee);for(ie=0;ie<ge;ie++){for(ce=0,oe=0;oe<be;oe++)(ae=ie+oe+1-ee)<-ge?ae-=ve*Math.round(ae/ve):ae>=ve&&(ae-=ve*Math.floor(ae/ve)),ae<0?ae=-1-ae:ae>=ge&&(ae=ve-1-ae),ce+=J[ae]*we[oe];ye[ie]=ce}return ye},a.syncOrAsync=function(J,ee,ie){var oe;function ae(){return a.syncOrAsync(J,ee,ie)}for(;J.length;)if((oe=(0,J.splice(0,1)[0])(ee))&&oe.then)return oe.then(ae);return ie&&ie(ee)},a.stripTrailingSlash=function(J){return J.substr(-1)==="/"?J.substr(0,J.length-1):J},a.noneOrAll=function(J,ee,ie){if(J){var oe,ae=!1,ce=!0;for(oe=0;oe<ie.length;oe++)J[ie[oe]]!=null?ae=!0:ce=!1;if(ae&&!ce)for(oe=0;oe<ie.length;oe++)J[ie[oe]]=ee[ie[oe]]}},a.mergeArray=function(J,ee,ie,oe){var ae=typeof oe=="function";if(a.isArrayOrTypedArray(J))for(var ce=Math.min(J.length,ee.length),ge=0;ge<ce;ge++){var ve=J[ge];ee[ge][ie]=ae?oe(ve):ve}},a.mergeArrayCastPositive=function(J,ee,ie){return a.mergeArray(J,ee,ie,function(oe){var ae=+oe;return isFinite(ae)&&ae>0?ae:0})},a.fillArray=function(J,ee,ie,oe){if(oe=oe||a.identity,a.isArrayOrTypedArray(J))for(var ae=0;ae<ee.length;ae++)ee[ae][ie]=oe(J[ae])},a.castOption=function(J,ee,ie,oe){oe=oe||a.identity;var ae=a.nestedProperty(J,ie).get();return a.isArrayOrTypedArray(ae)?Array.isArray(ee)&&a.isArrayOrTypedArray(ae[ee[0]])?oe(ae[ee[0]][ee[1]]):oe(ae[ee]):ae},a.extractOption=function(J,ee,ie,oe){if(ie in J)return J[ie];var ae=a.nestedProperty(ee,oe).get();return Array.isArray(ae)?void 0:ae},a.tagSelected=function(J,ee,ie){var oe,ae,ce=ee.selectedpoints,ge=ee._indexToPoints;ge&&(oe=M(ge));for(var ve=0;ve<ce.length;ve++){var be=ce[ve];if(a.isIndex(be)||a.isArrayOrTypedArray(be)&&a.isIndex(be[0])&&a.isIndex(be[1])){var we=oe?oe[be]:be,ye=ie?ie[we]:we;(ae=ye)!==void 0&&ae<J.length&&(J[ye].selected=1)}}},a.selIndices2selPoints=function(J){var ee=J.selectedpoints,ie=J._indexToPoints;if(ie){for(var oe=M(ie),ae=[],ce=0;ce<ee.length;ce++){var ge=ee[ce];if(a.isIndex(ge)){var ve=oe[ge];a.isIndex(ve)&&ae.push(ve)}}return ae}return ee},a.getTargetArray=function(J,ee){var ie=ee.target;if(typeof ie=="string"&&ie){var oe=a.nestedProperty(J,ie).get();return!!a.isArrayOrTypedArray(oe)&&oe}return!!a.isArrayOrTypedArray(ie)&&ie},a.minExtend=function J(ee,ie,oe){var ae={};typeof ie!="object"&&(ie={});var ce,ge,ve,be=oe==="pieLike"?-1:3,we=Object.keys(ee);for(ce=0;ce<we.length;ce++)ve=ee[ge=we[ce]],ge.charAt(0)!=="_"&&typeof ve!="function"&&(ge==="module"?ae[ge]=ve:Array.isArray(ve)?ae[ge]=ge==="colorscale"||be===-1?ve.slice():ve.slice(0,be):a.isTypedArray(ve)?ae[ge]=be===-1?ve.subarray():ve.subarray(0,be):ae[ge]=ve&&typeof ve=="object"?J(ee[ge],ie[ge],oe):ve);for(we=Object.keys(ie),ce=0;ce<we.length;ce++)typeof(ve=ie[ge=we[ce]])=="object"&&ge in ae&&typeof ae[ge]=="object"||(ae[ge]=ve);return ae},a.titleCase=function(J){return J.charAt(0).toUpperCase()+J.substr(1)},a.containsAny=function(J,ee){for(var ie=0;ie<ee.length;ie++)if(J.indexOf(ee[ie])!==-1)return!0;return!1},a.isIE=function(){return window.navigator.msSaveBlob!==void 0};var E=/Version\/[\d\.]+.*Safari/;a.isSafari=function(){return E.test(window.navigator.userAgent)};var P=/iPad|iPhone|iPod/;a.isIOS=function(){return P.test(window.navigator.userAgent)};var O=/Firefox\/(\d+)\.\d+/;a.getFirefoxVersion=function(){var J=O.exec(window.navigator.userAgent);if(J&&J.length===2){var ee=parseInt(J[1]);if(!isNaN(ee))return ee}return null},a.isD3Selection=function(J){return J instanceof k.selection},a.ensureSingle=function(J,ee,ie,oe){var ae=J.select(ee+(ie?"."+ie:""));if(ae.size())return ae;var ce=J.append(ee);return ie&&ce.classed(ie,!0),oe&&ce.call(oe),ce},a.ensureSingleById=function(J,ee,ie,oe){var ae=J.select(ee+"#"+ie);if(ae.size())return ae;var ce=J.append(ee).attr("id",ie);return oe&&ce.call(oe),ce},a.objectFromPath=function(J,ee){for(var ie,oe=J.split("."),ae=ie={},ce=0;ce<oe.length;ce++){var ge=oe[ce],ve=null,be=oe[ce].match(/(.*)\[([0-9]+)\]/);be?(ge=be[1],ve=be[2],ie=ie[ge]=[],ce===oe.length-1?ie[ve]=ee:ie[ve]={},ie=ie[ve]):(ce===oe.length-1?ie[ge]=ee:ie[ge]={},ie=ie[ge])}return ae};var I=/^([^\[\.]+)\.(.+)?/,R=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function U(J){return J.slice(0,2)==="__"}a.expandObjectPaths=function(J){var ee,ie,oe,ae,ce,ge,ve;if(typeof J=="object"&&!Array.isArray(J)){for(ie in J)if(J.hasOwnProperty(ie))if(ee=ie.match(I)){if(ae=J[ie],U(oe=ee[1]))continue;delete J[ie],J[oe]=a.extendDeepNoArrays(J[oe]||{},a.objectFromPath(ie,a.expandObjectPaths(ae))[oe])}else if(ee=ie.match(R)){if(ae=J[ie],U(oe=ee[1]))continue;if(ce=parseInt(ee[2]),delete J[ie],J[oe]=J[oe]||[],ee[3]===".")ve=ee[4],ge=J[oe][ce]=J[oe][ce]||{},a.extendDeepNoArrays(ge,a.objectFromPath(ve,a.expandObjectPaths(ae)));else{if(U(oe))continue;J[oe][ce]=a.expandObjectPaths(ae)}}else{if(U(ie))continue;J[ie]=a.expandObjectPaths(J[ie])}}return J},a.numSeparate=function(J,ee,ie){if(ie||(ie=!1),typeof ee!="string"||ee.length===0)throw new Error("Separator string required for formatting!");typeof J=="number"&&(J=String(J));var oe=/(\d+)(\d{3})/,ae=ee.charAt(0),ce=ee.charAt(1),ge=J.split("."),ve=ge[0],be=ge.length>1?ae+ge[1]:"";if(ce&&(ge.length>1||ve.length>4||ie))for(;oe.test(ve);)ve=ve.replace(oe,"$1"+ce+"$2");return ve+be},a.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var z=/^\w*$/;a.templateString=function(J,ee){var ie={};return J.replace(a.TEMPLATE_STRING_REGEX,function(oe,ae){var ce;return z.test(ae)?ce=ee[ae]:(ie[ae]=ie[ae]||a.nestedProperty(ee,ae).get,ce=ie[ae]()),a.isValidTextValue(ce)?ce:""})};var j={max:10,count:0,name:"hovertemplate"};a.hovertemplateString=function(){return te.apply(j,arguments)};var W={max:10,count:0,name:"texttemplate"};a.texttemplateString=function(){return te.apply(W,arguments)};var F=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,V={max:10,count:0,name:"texttemplate",parseMultDiv:!0};a.texttemplateStringForShapes=function(){return te.apply(V,arguments)};var H=/^[:|\|]/;function te(J,ee,ie){var oe=this,ae=arguments;ee||(ee={});var ce={};return J.replace(a.TEMPLATE_STRING_REGEX,function(ge,ve,be){var we=ve==="_xother"||ve==="_yother",ye=ve==="_xother_"||ve==="_yother_",me=ve==="xother_"||ve==="yother_",Ae=ve==="xother"||ve==="yother"||we||me||ye,ke=ve;(we||ye)&&(ke=ke.substring(1)),(me||ye)&&(ke=ke.substring(0,ke.length-1));var fe,le,de,Ce=null,Me=null;if(oe.parseMultDiv){var Le=function(_e){var Te=_e.match(F);return Te?{key:Te[1],op:Te[2],number:Number(Te[3])}:{key:_e,op:null,number:null}}(ke);ke=Le.key,Ce=Le.op,Me=Le.number}if(Ae){if((fe=ee[ke])===void 0)return""}else for(de=3;de<ae.length;de++)if(le=ae[de]){if(le.hasOwnProperty(ke)){fe=le[ke];break}if(z.test(ke)||(fe=a.nestedProperty(le,ke).get(),(fe=ce[ke]||a.nestedProperty(le,ke).get())&&(ce[ke]=fe)),fe!==void 0)break}if(fe!==void 0&&(Ce==="*"&&(fe*=Me),Ce==="/"&&(fe/=Me)),fe===void 0&&oe)return oe.count<oe.max&&(a.warn("Variable '"+ke+"' in "+oe.name+" could not be found!"),fe=ge),oe.count===oe.max&&a.warn("Too many "+oe.name+" warnings - additional warnings will be suppressed"),oe.count++,ge;if(be){var Oe;if(be[0]===":"&&(Oe=ie?ie.numberFormat:a.numberFormat,fe!==""&&(fe=Oe(be.replace(H,""))(fe))),be[0]==="|"){Oe=ie?ie.timeFormat:w;var Be=a.dateTime2ms(fe);fe=a.formatDate(Be,be.replace(H,""),!1,Oe)}}else{var pe=ke+"Label";ee.hasOwnProperty(pe)&&(fe=ee[pe])}return Ae&&(fe="("+fe+")",(we||ye)&&(fe=" "+fe),(me||ye)&&(fe+=" ")),fe})}a.subplotSort=function(J,ee){for(var ie=Math.min(J.length,ee.length)+1,oe=0,ae=0,ce=0;ce<ie;ce++){var ge=J.charCodeAt(ce)||0,ve=ee.charCodeAt(ce)||0,be=ge>=48&&ge<=57,we=ve>=48&&ve<=57;if(be&&(oe=10*oe+ge-48),we&&(ae=10*ae+ve-48),!be||!we){if(oe!==ae)return oe-ae;if(ge!==ve)return ge-ve}}return ae-oe};var Q=2e9;a.seedPseudoRandom=function(){Q=2e9},a.pseudoRandom=function(){var J=Q;return Q=(69069*Q+1)%4294967296,Math.abs(Q-J)<429496729?a.pseudoRandom():Q/4294967296},a.fillText=function(J,ee,ie){var oe=Array.isArray(ie)?function(ge){ie.push(ge)}:function(ge){ie.text=ge},ae=a.extractOption(J,ee,"htx","hovertext");if(a.isValidTextValue(ae))return oe(ae);var ce=a.extractOption(J,ee,"tx","text");return a.isValidTextValue(ce)?oe(ce):void 0},a.isValidTextValue=function(J){return J||J===0},a.formatPercent=function(J,ee){ee=ee||0;for(var ie=(Math.round(100*J*Math.pow(10,ee))*Math.pow(.1,ee)).toFixed(ee)+"%",oe=0;oe<ee;oe++)ie.indexOf(".")!==-1&&(ie=(ie=ie.replace("0%","%")).replace(".%","%"));return ie},a.isHidden=function(J){var ee=window.getComputedStyle(J).display;return!ee||ee==="none"},a.strTranslate=function(J,ee){return J||ee?"translate("+J+","+ee+")":""},a.strRotate=function(J){return J?"rotate("+J+")":""},a.strScale=function(J){return J!==1?"scale("+J+")":""},a.getTextTransform=function(J){var ee=J.noCenter,ie=J.textX,oe=J.textY,ae=J.targetX,ce=J.targetY,ge=J.anchorX||0,ve=J.anchorY||0,be=J.rotate,we=J.scale;return we?we>1&&(we=1):we=0,a.strTranslate(ae-we*(ie+ge),ce-we*(oe+ve))+a.strScale(we)+(be?"rotate("+be+(ee?"":" "+ie+" "+oe)+")":"")},a.setTransormAndDisplay=function(J,ee){J.attr("transform",a.getTextTransform(ee)),J.style("display",ee.scale?null:"none")},a.ensureUniformFontSize=function(J,ee){var ie=a.extendFlat({},ee);return ie.size=Math.max(ee.size,J._fullLayout.uniformtext.minsize||0),ie},a.join2=function(J,ee,ie){var oe=J.length;return oe>1?J.slice(0,-1).join(ee)+ie+J[oe-1]:J.join(ee)},a.bigFont=function(J){return Math.round(1.2*J)};var K=a.getFirefoxVersion(),X=K!==null&&K<86;a.getPositionFromD3Event=function(){return X?[k.event.layerX,k.event.layerY]:[k.event.offsetX,k.event.offsetY]}},63620:function(B){B.exports=function(L){return window&&window.process&&window.process.versions?Object.prototype.toString.call(L)==="[object Object]":Object.prototype.toString.call(L)==="[object Object]"&&Object.getPrototypeOf(L).hasOwnProperty("hasOwnProperty")}},37804:function(B,L,e){var k=e(22296),w=/^\w*$/;B.exports=function(r,_,v,f){var s,t,a;v=v||"name",f=f||"value";var n={};_&&_.length?(a=k(r,_),t=a.get()):t=r,_=_||"";var i={};if(t)for(s=0;s<t.length;s++)i[t[s][v]]=s;var l=w.test(f),o={set:function(u,h){var c=h===null?4:0;if(!t){if(!a||c===4)return;t=[],a.set(t)}var b=i[u];if(b===void 0){if(c===4)return;c|=3,b=t.length,i[u]=b}else h!==(l?t[b][f]:k(t[b],f).get())&&(c|=2);var d=t[b]=t[b]||{};return d[v]=u,l?d[f]=h:k(d,f).set(h),h!==null&&(c&=-5),n[b]=n[b]|c,o},get:function(u){if(t){var h=i[u];return h===void 0?void 0:l?t[h][f]:k(t[h],f).get()}},rename:function(u,h){var c=i[u];return c===void 0||(n[c]=1|n[c],i[h]=c,delete i[u],t[c][v]=h),o},remove:function(u){var h=i[u];if(h===void 0)return o;var c=t[h];if(Object.keys(c).length>2)return n[h]=2|n[h],o.set(u,null);if(l){for(s=h;s<t.length;s++)n[s]=3|n[s];for(s=h;s<t.length;s++)i[t[s][v]]--;t.splice(h,1),delete i[u]}else k(c,f).set(null),n[h]=6|n[h];return o},constructUpdate:function(){for(var u,h,c={},b=Object.keys(n),d=0;d<b.length;d++)h=b[d],u=_+"["+h+"]",t[h]?(1&n[h]&&(c[u+"."+v]=t[h][v]),2&n[h]&&(c[u+"."+f]=l?4&n[h]?null:t[h][f]:4&n[h]?null:k(t[h],f).get())):c[u]=null;return c}};return o}},98356:function(B,L,e){var k=e(24040);B.exports=function(w,r){for(var _=w._context.locale,v=0;v<2;v++){for(var f=w._context.locales,s=0;s<2;s++){var t=(f[_]||{}).dictionary;if(t){var a=t[r];if(a)return a}f=k.localeRegistry}var n=_.split("-")[0];if(n===_)break;_=n}return r}},24248:function(B,L,e){var k=e(20556).dfltConfig,w=e(41792),r=B.exports={};r.log=function(){var _;if(k.logging>1){var v=["LOG:"];for(_=0;_<arguments.length;_++)v.push(arguments[_]);console.trace.apply(console,v)}if(k.notifyOnLogging>1){var f=[];for(_=0;_<arguments.length;_++)f.push(arguments[_]);w(f.join("<br>"),"long")}},r.warn=function(){var _;if(k.logging>0){var v=["WARN:"];for(_=0;_<arguments.length;_++)v.push(arguments[_]);console.trace.apply(console,v)}if(k.notifyOnLogging>0){var f=[];for(_=0;_<arguments.length;_++)f.push(arguments[_]);w(f.join("<br>"),"stick")}},r.error=function(){var _;if(k.logging>0){var v=["ERROR:"];for(_=0;_<arguments.length;_++)v.push(arguments[_]);console.error.apply(console,v)}if(k.notifyOnLogging>0){var f=[];for(_=0;_<arguments.length;_++)f.push(arguments[_]);w(f.join("<br>"),"stick")}}},30988:function(B,L,e){var k=e(33428);B.exports=function(w,r,_){var v=w.selectAll("g."+_.replace(/\s/g,".")).data(r,function(s){return s[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",_),v.order();var f=w.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(s){s[0][f]=k.select(this)}),v}},52248:function(B,L,e){var k=e(36524);L.init2dArray=function(w,r){for(var _=new Array(w),v=0;v<w;v++)_[v]=new Array(r);return _},L.transposeRagged=function(w){var r,_,v=0,f=w.length;for(r=0;r<f;r++)v=Math.max(v,w[r].length);var s=new Array(v);for(r=0;r<v;r++)for(s[r]=new Array(f),_=0;_<f;_++)s[r][_]=w[_][r];return s},L.dot=function(w,r){if(!w.length||!r.length||w.length!==r.length)return null;var _,v,f=w.length;if(w[0].length)for(_=new Array(f),v=0;v<f;v++)_[v]=L.dot(w[v],r);else if(r[0].length){var s=L.transposeRagged(r);for(_=new Array(s.length),v=0;v<s.length;v++)_[v]=L.dot(w,s[v])}else for(_=0,v=0;v<f;v++)_+=w[v]*r[v];return _},L.translationMatrix=function(w,r){return[[1,0,w],[0,1,r],[0,0,1]]},L.rotationMatrix=function(w){var r=w*Math.PI/180;return[[Math.cos(r),-Math.sin(r),0],[Math.sin(r),Math.cos(r),0],[0,0,1]]},L.rotationXYMatrix=function(w,r,_){return L.dot(L.dot(L.translationMatrix(r,_),L.rotationMatrix(w)),L.translationMatrix(-r,-_))},L.apply3DTransform=function(w){return function(){var r=arguments,_=arguments.length===1?r[0]:[r[0],r[1],r[2]||0];return L.dot(w,[_[0],_[1],_[2],1]).slice(0,3)}},L.apply2DTransform=function(w){return function(){var r=arguments;r.length===3&&(r=r[0]);var _=arguments.length===1?r[0]:[r[0],r[1]];return L.dot(w,[_[0],_[1],1]).slice(0,2)}},L.apply2DTransform2=function(w){var r=L.apply2DTransform(w);return function(_){return r(_.slice(0,2)).concat(r(_.slice(2,4)))}},L.convertCssMatrix=function(w){if(w){var r=w.length;if(r===16)return w;if(r===6)return[w[0],w[1],0,0,w[2],w[3],0,0,0,0,1,0,w[4],w[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},L.inverseTransformMatrix=function(w){var r=[];return k.invert(r,w),[[r[0],r[1],r[2],r[3]],[r[4],r[5],r[6],r[7]],[r[8],r[9],r[10],r[11]],[r[12],r[13],r[14],r[15]]]}},20435:function(B){B.exports={mod:function(L,e){var k=L%e;return k<0?k+e:k},modHalf:function(L,e){return Math.abs(L)>e/2?L-Math.round(L/e)*e:L}}},22296:function(B,L,e){var k=e(38248),w=e(38116).isArrayOrTypedArray;function r(n,i){return function(){var l,o,u,h,c,b=n;for(h=0;h<i.length-1;h++){if((l=i[h])===-1){for(o=!0,u=[],c=0;c<b.length;c++)u[c]=r(b[c],i.slice(h+1))(),u[c]!==u[0]&&(o=!1);return o?u[0]:u}if(typeof l=="number"&&!w(b)||typeof(b=b[l])!="object"||b===null)return}if(typeof b=="object"&&b!==null&&(u=b[i[h]])!==null)return u}}B.exports=function(n,i){if(k(i))i=String(i);else if(typeof i!="string"||i.substr(i.length-4)==="[-1]")throw"bad property string";var l,o,u,h,c=i.split(".");for(h=0;h<c.length;h++)if(String(c[h]).slice(0,2)==="__")throw"bad property string";for(h=0;h<c.length;){if(l=String(c[h]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(l[1])c[h]=l[1];else{if(h!==0)throw"bad property string";c.splice(0,1)}for(o=l[2].substr(1,l[2].length-2).split("]["),u=0;u<o.length;u++)h++,c.splice(h,0,Number(o[u]))}h++}return typeof n!="object"?function(b,d,g){return{set:function(){throw"bad container"},get:function(){},astr:d,parts:g,obj:b}}(n,i,c):{set:f(n,c,i),get:r(n,c),astr:i,parts:c,obj:n}};var _=/(^|\.)args\[/;function v(n,i){return n===void 0||n===null&&!i.match(_)}function f(n,i,l){return function(o){var u,h,c=n,b="",d=v(o,l);for(h=0;h<i.length-1;h++){if(typeof(u=i[h])=="number"&&!w(c))throw"array index but container is not an array";if(u===-1){if(d=!t(c,i.slice(h+1),o,l))break;return}if(!a(c,u,i[h+1],d))break;if(typeof(c=c[u])!="object"||c===null)throw"container is not an object";b=s(b,u)}if(d){if(h===i.length-1&&(delete c[i[h]],Array.isArray(c)&&+i[h]==c.length-1))for(;c.length&&c[c.length-1]===void 0;)c.pop()}else c[i[h]]=o}}function s(n,i){var l=i;return k(i)?l="["+i+"]":n&&(l="."+i),n+l}function t(n,i,l,o){var u,h=w(l),c=!0,b=l,d=o.replace("-1",0),g=!h&&v(l,d),m=i[0];for(u=0;u<n.length;u++)d=o.replace("-1",u),h&&(g=v(b=l[u%l.length],d)),g&&(c=!1),a(n,u,m,g)&&f(n[u],i,o.replace("-1",u))(b);return c}function a(n,i,l,o){if(n[i]===void 0){if(o)return!1;n[i]=typeof l=="number"?[]:{}}return!0}},16628:function(B){B.exports=function(){}},41792:function(B,L,e){var k=e(33428),w=e(38248),r=[];B.exports=function(_,v){if(r.indexOf(_)===-1){r.push(_);var f=1e3;w(v)?f=v:v==="long"&&(f=3e3);var s=k.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0),s.selectAll(".notifier-note").data(r).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(a){var n=k.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(t)});for(var i=n.append("p"),l=a.split(/<br\s*\/?>/g),o=0;o<l.length;o++)o&&i.append("br"),i.append("span").text(l[o]);v==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(f).call(t)})}function t(a){a.duration(700).style("opacity",0).each("end",function(n){var i=r.indexOf(n);i!==-1&&r.splice(i,1),k.select(this).remove()})}}},72213:function(B,L,e){var k=e(93972),w="data-savedcursor";B.exports=function(r,_){var v=r.attr(w);if(_){if(!v){for(var f=(r.attr("class")||"").split(" "),s=0;s<f.length;s++){var t=f[s];t.indexOf("cursor-")===0&&r.attr(w,t.substr(7)).classed(t,!1)}r.attr(w)||r.attr(w,"!!")}k(r,_)}else v&&(r.attr(w,null),v==="!!"?k(r):k(r,v))}},92065:function(B,L,e){var k=e(52248).dot,w=e(39032).BADNUM,r=B.exports={};r.tester=function(_){var v,f=_.slice(),s=f[0][0],t=s,a=f[0][1],n=a;for(f[f.length-1][0]===f[0][0]&&f[f.length-1][1]===f[0][1]||f.push(f[0]),v=1;v<f.length;v++)s=Math.min(s,f[v][0]),t=Math.max(t,f[v][0]),a=Math.min(a,f[v][1]),n=Math.max(n,f[v][1]);var i,l=!1;f.length===5&&(f[0][0]===f[1][0]?f[2][0]===f[3][0]&&f[0][1]===f[3][1]&&f[1][1]===f[2][1]&&(l=!0,i=function(h){return h[0]===f[0][0]}):f[0][1]===f[1][1]&&f[2][1]===f[3][1]&&f[0][0]===f[3][0]&&f[1][0]===f[2][0]&&(l=!0,i=function(h){return h[1]===f[0][1]}));var o=!0,u=f[0];for(v=1;v<f.length;v++)if(u[0]!==f[v][0]||u[1]!==f[v][1]){o=!1;break}return{xmin:s,xmax:t,ymin:a,ymax:n,pts:f,contains:l?function(h,c){var b=h[0],d=h[1];return!(b===w||b<s||b>t||d===w||d<a||d>n||c&&i(h))}:function(h,c){var b=h[0],d=h[1];if(b===w||b<s||b>t||d===w||d<a||d>n)return!1;var g,m,y,x,T,p=f.length,S=f[0][0],M=f[0][1],E=0;for(g=1;g<p;g++)if(m=S,y=M,S=f[g][0],M=f[g][1],!(b<(x=Math.min(m,S))||b>Math.max(m,S)||d>Math.max(y,M)))if(d<Math.min(y,M))b!==x&&E++;else{if(d===(T=S===m?d:y+(b-m)*(M-y)/(S-m)))return g!==1||!c;d<=T&&b!==x&&E++}return E%2==1},isRect:l,degenerate:o}},r.isSegmentBent=function(_,v,f,s){var t,a,n,i=_[v],l=[_[f][0]-i[0],_[f][1]-i[1]],o=k(l,l),u=Math.sqrt(o),h=[-l[1]/u,l[0]/u];for(t=v+1;t<f;t++)if(a=[_[t][0]-i[0],_[t][1]-i[1]],(n=k(a,l))<0||n>o||Math.abs(k(a,h))>s)return!0;return!1},r.filter=function(_,v){var f=[_[0]],s=0,t=0;function a(n){_.push(n);var i=f.length,l=s;f.splice(t+1);for(var o=l+1;o<_.length;o++)(o===_.length-1||r.isSegmentBent(_,l,o+1,v))&&(f.push(_[o]),f.length<i-2&&(s=o,t=f.length-1),l=o)}return _.length>1&&a(_.pop()),{addPt:a,raw:_,filtered:f}}},5048:function(B,L,e){var k=e(16576),w=e(28624);B.exports=function(r,_,v){var f=r._fullLayout,s=!0;return f._glcanvas.each(function(t){if(t.regl)t.regl.preloadCachedCode(v);else if(!t.pick||f._has("parcoords")){try{t.regl=w({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:r._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:_||[],cachedCode:v||{}})}catch{s=!1}t.regl||(s=!1),s&&this.addEventListener("webglcontextlost",function(a){r&&r.emit&&r.emit("plotly_webglcontextlost",{event:a,layer:t.key})},!1)}}),s||k({container:f._glcontainer.node()}),s}},34296:function(B,L,e){var k=e(38248),w=e(25928);B.exports=function(r){var _;if(typeof(_=r&&r.hasOwnProperty("userAgent")?r.userAgent:function(){var i;return typeof navigator<"u"&&(i=navigator.userAgent),i&&i.headers&&typeof i.headers["user-agent"]=="string"&&(i=i.headers["user-agent"]),i}())!="string")return!0;var v=w({ua:{headers:{"user-agent":_}},tablet:!0,featureDetect:!1});if(!v){for(var f=_.split(" "),s=1;s<f.length;s++)if(f[s].indexOf("Safari")!==-1)for(var t=s-1;t>-1;t--){var a=f[t];if(a.substr(0,8)==="Version/"){var n=a.substr(8).split(".")[0];if(k(n)&&(n=+n),n>=13)return!0}}}return v}},52416:function(B){B.exports=function(L,e){if(e instanceof RegExp){for(var k=e.toString(),w=0;w<L.length;w++)if(L[w]instanceof RegExp&&L[w].toString()===k)return L;L.push(e)}else!e&&e!==0||L.indexOf(e)!==-1||L.push(e);return L}},94552:function(B,L,e){var k=e(3400),w=e(20556).dfltConfig,r={add:function(_,v,f,s,t){var a,n;_.undoQueue=_.undoQueue||{index:0,queue:[],sequence:!1},n=_.undoQueue.index,_.autoplay?_.undoQueue.inSequence||(_.autoplay=!1):(!_.undoQueue.sequence||_.undoQueue.beginSequence?(a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},_.undoQueue.queue.splice(n,_.undoQueue.queue.length-n,a),_.undoQueue.index+=1):a=_.undoQueue.queue[n-1],_.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(v),a.undo.args.unshift(f),a.redo.calls.push(s),a.redo.args.push(t)),_.undoQueue.queue.length>w.queueLength&&(_.undoQueue.queue.shift(),_.undoQueue.index--))},startSequence:function(_){_.undoQueue=_.undoQueue||{index:0,queue:[],sequence:!1},_.undoQueue.sequence=!0,_.undoQueue.beginSequence=!0},stopSequence:function(_){_.undoQueue=_.undoQueue||{index:0,queue:[],sequence:!1},_.undoQueue.sequence=!1,_.undoQueue.beginSequence=!1},undo:function(_){var v,f;if(!(_.undoQueue===void 0||isNaN(_.undoQueue.index)||_.undoQueue.index<=0)){for(_.undoQueue.index--,v=_.undoQueue.queue[_.undoQueue.index],_.undoQueue.inSequence=!0,f=0;f<v.undo.calls.length;f++)r.plotDo(_,v.undo.calls[f],v.undo.args[f]);_.undoQueue.inSequence=!1,_.autoplay=!1}},redo:function(_){var v,f;if(!(_.undoQueue===void 0||isNaN(_.undoQueue.index)||_.undoQueue.index>=_.undoQueue.queue.length)){for(v=_.undoQueue.queue[_.undoQueue.index],_.undoQueue.inSequence=!0,f=0;f<v.redo.calls.length;f++)r.plotDo(_,v.redo.calls[f],v.redo.args[f]);_.undoQueue.inSequence=!1,_.autoplay=!1,_.undoQueue.index++}},plotDo:function(_,v,f){_.autoplay=!0,f=function(s,t){for(var a,n=[],i=0;i<t.length;i++)a=t[i],n[i]=a===s?a:typeof a=="object"?Array.isArray(a)?k.extendDeep([],a):k.extendDeepAll({},a):a;return n}(_,f),v.apply(null,f)}};B.exports=r},53756:function(B,L){L.counter=function(e,k,w,r){var _=(k||"")+(w?"":"$"),v=r===!1?"":"^";return e==="xy"?new RegExp(v+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+_):new RegExp(v+e+"([2-9]|[1-9][0-9]+)?"+_)}},23193:function(B){var L=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;B.exports=function(k,w){for(;w;){var r=k.match(L);if(r)k=r[1];else{if(!k.match(e))throw new Error("bad relativeAttr call:"+[k,w]);k=""}if(w.charAt(0)!=="^")break;w=w.slice(1)}return k&&w.charAt(0)!=="["?k+"."+w:k+w}},51528:function(B,L,e){var k=e(38116).isArrayOrTypedArray,w=e(63620);B.exports=function r(_,v){for(var f in v){var s=v[f],t=_[f];if(t!==s)if(f.charAt(0)==="_"||typeof s=="function"){if(f in _)continue;_[f]=s}else if(k(s)&&k(t)&&w(s[0])){if(f==="customdata"||f==="ids")continue;for(var a=Math.min(s.length,t.length),n=0;n<a;n++)t[n]!==s[n]&&w(s[n])&&w(t[n])&&r(t[n],s[n])}else w(s)&&w(t)&&(r(t,s),Object.keys(t).length||delete _[f])}}},14952:function(B,L,e){var k=e(38248),w=e(24248),r=e(35536),_=e(39032).BADNUM,v=1e-9;function f(n,i){return n<i}function s(n,i){return n<=i}function t(n,i){return n>i}function a(n,i){return n>=i}L.findBin=function(n,i,l){if(k(i.start))return l?Math.ceil((n-i.start)/i.size-v)-1:Math.floor((n-i.start)/i.size+v);var o,u,h=0,c=i.length,b=0,d=c>1?(i[c-1]-i[0])/(c-1):1;for(u=d>=0?l?f:s:l?a:t,n+=d*v*(l?-1:1)*(d>=0?1:-1);h<c&&b++<100;)u(i[o=Math.floor((h+c)/2)],n)?h=o+1:c=o;return b>90&&w.log("Long binary search..."),h-1},L.sorterAsc=function(n,i){return n-i},L.sorterDes=function(n,i){return i-n},L.distinctVals=function(n){var i,l=n.slice();for(l.sort(L.sorterAsc),i=l.length-1;i>-1&&l[i]===_;i--);for(var o,u=l[i]-l[0]||1,h=u/(i||1)/1e4,c=[],b=0;b<=i;b++){var d=l[b],g=d-o;o===void 0?(c.push(d),o=d):g>h&&(u=Math.min(u,g),c.push(d),o=d)}return{vals:c,minDiff:u}},L.roundUp=function(n,i,l){for(var o,u=0,h=i.length-1,c=0,b=l?0:1,d=l?1:0,g=l?Math.ceil:Math.floor;u<h&&c++<100;)i[o=g((u+h)/2)]<=n?u=o+b:h=o-d;return i[u]},L.sort=function(n,i){for(var l=0,o=0,u=1;u<n.length;u++){var h=i(n[u],n[u-1]);if(h<0?l=1:h>0&&(o=1),l&&o)return n.sort(i)}return o?n:n.reverse()},L.findIndexOfMin=function(n,i){i=i||r;for(var l,o=1/0,u=0;u<n.length;u++){var h=i(n[u]);h<o&&(o=h,l=u)}return l}},93972:function(B){B.exports=function(L,e){(L.attr("class")||"").split(" ").forEach(function(k){k.indexOf("cursor-")===0&&L.classed(k,!1)}),e&&L.classed("cursor-"+e,!0)}},16576:function(B,L,e){var k=e(76308),w=function(){};B.exports=function(r){for(var _ in r)typeof r[_]=="function"&&(r[_]=w);r.destroy=function(){r.container.parentNode.removeChild(r.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=k.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=k.lightLine,v.style["z-index"]=30;var f=document.createElement("p");return f.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",f.style.position="relative",f.style.top="50%",f.style.left="50%",f.style.height="30%",f.style.width="50%",f.style.margin="-15% 0 0 -25%",v.appendChild(f),r.container.appendChild(v),r.container.style.background="#FFFFFF",r.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(B){B.exports=function(L){return Object.keys(L).sort()}},63084:function(B,L,e){var k=e(38248),w=e(38116).isArrayOrTypedArray;L.aggNums=function(r,_,v,f){var s,t;if((!f||f>v.length)&&(f=v.length),k(_)||(_=!1),w(v[0])){for(t=new Array(f),s=0;s<f;s++)t[s]=L.aggNums(r,_,v[s]);v=t}for(s=0;s<f;s++)k(_)?k(v[s])&&(_=r(+_,+v[s])):_=v[s];return _},L.len=function(r){return L.aggNums(function(_){return _+1},0,r)},L.mean=function(r,_){return _||(_=L.len(r)),L.aggNums(function(v,f){return v+f},0,r)/_},L.midRange=function(r){if(r!==void 0&&r.length!==0)return(L.aggNums(Math.max,null,r)+L.aggNums(Math.min,null,r))/2},L.variance=function(r,_,v){return _||(_=L.len(r)),k(v)||(v=L.mean(r,_)),L.aggNums(function(f,s){return f+Math.pow(s-v,2)},0,r)/_},L.stdev=function(r,_,v){return Math.sqrt(L.variance(r,_,v))},L.median=function(r){var _=r.slice().sort();return L.interp(_,.5)},L.interp=function(r,_){if(!k(_))throw"n should be a finite number";if((_=_*r.length-.5)<0)return r[0];if(_>r.length-1)return r[r.length-1];var v=_%1;return v*r[Math.ceil(_)]+(1-v)*r[Math.floor(_)]}},43080:function(B,L,e){var k=e(72160);B.exports=function(w){return w?k(w):[0,0,0,1]}},9188:function(B,L,e){var k=e(2264),w=e(43616),r=e(3400),_=null;B.exports=function(){if(_!==null)return _;_=!1;var v=r.isIE()||r.isSafari()||r.isIOS();if(window.navigator.userAgent&&!v){var f=Array.from(k.CSS_DECLARATIONS).reverse(),s=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof s=="function")_=f.some(function(n){return s.apply(null,n)});else{var t=w.tester.append("image").attr("style",k.STYLE),a=window.getComputedStyle(t.node()).imageRendering;_=f.some(function(n){var i=n[1];return a===i||a===i.toLowerCase()}),t.remove()}}return _}},72736:function(B,L,e){var k=e(33428),w=e(3400),r=w.strTranslate,_=e(9616),v=e(84284).LINE_SPACING,f=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;L.convertToTspans=function(R,U,z){var j=R.text(),W=!R.attr("data-notex")&&U&&U._context.typesetMath&&typeof MathJax<"u"&&j.match(f),F=k.select(R.node().parentNode);if(!F.empty()){var V=R.attr("class")?R.attr("class").split(" ")[0]:"text";return V+="-math",F.selectAll("svg."+V).remove(),F.selectAll("g."+V+"-group").remove(),R.style("display",null).attr({"data-unformatted":j,"data-math":"N"}),W?(U&&U._promises||[]).push(new Promise(function(te){R.style("display","none");var Q=parseInt(R.node().style.fontSize,10),K={fontSize:Q};(function(X,J,ee){var ie,oe,ae,ce,ge=parseInt((MathJax.version||"").split(".")[0]);if(ge===2||ge===3){var ve=function(){var we="math-output-"+w.randstr({},64),ye=(ce=k.select("body").append("div").attr({id:we}).style({visibility:"hidden",position:"absolute","font-size":J.fontSize+"px"}).text(X.replace(s,"\\lt ").replace(t,"\\gt "))).node();return ge===2?MathJax.Hub.Typeset(ye):MathJax.typeset([ye])},be=function(){var we=ce.select(ge===2?".MathJax_SVG":".MathJax"),ye=!we.empty()&&ce.select("svg").node();if(ye){var me,Ae=ye.getBoundingClientRect();me=ge===2?k.select("body").select("#MathJax_SVG_glyphs"):we.select("defs"),ee(we,me,Ae)}else w.log("There was an error in the tex syntax.",X),ee();ce.remove()};ge===2?MathJax.Hub.Queue(function(){return oe=w.extendDeepAll({},MathJax.Hub.config),ae=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:a},displayAlign:"left"})},function(){if((ie=MathJax.Hub.config.menuSettings.renderer)!=="SVG")return MathJax.Hub.setRenderer("SVG")},ve,be,function(){if(ie!=="SVG")return MathJax.Hub.setRenderer(ie)},function(){return ae!==void 0&&(MathJax.Hub.processSectionDelay=ae),MathJax.Hub.Config(oe)}):ge===3&&(oe=w.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=a,(ie=MathJax.config.startup.output)!=="svg"&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){ve(),be(),ie!=="svg"&&(MathJax.config.startup.output=ie),MathJax.config=oe}))}else w.warn("No MathJax version:",MathJax.version)})(W[2],K,function(X,J,ee){F.selectAll("svg."+V).remove(),F.selectAll("g."+V+"-group").remove();var ie=X&&X.select("svg");if(!ie||!ie.node())return H(),void te();var oe=F.append("g").classed(V+"-group",!0).attr({"pointer-events":"none","data-unformatted":j,"data-math":"Y"});oe.node().appendChild(ie.node()),J&&J.node()&&ie.node().insertBefore(J.node().cloneNode(!0),ie.node().firstChild);var ae=ee.width,ce=ee.height;ie.attr({class:V,height:ce,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ge=R.node().style.fill||"black",ve=ie.select("g");ve.attr({fill:ge,stroke:ge});var be=ve.node().getBoundingClientRect(),we=be.width,ye=be.height;(we>ae||ye>ce)&&(ie.style("overflow","hidden"),we=(be=ie.node().getBoundingClientRect()).width,ye=be.height);var me=+R.attr("x"),Ae=+R.attr("y"),ke=-(Q||R.node().getBoundingClientRect().height)/4;if(V[0]==="y")oe.attr({transform:"rotate("+[-90,me,Ae]+")"+r(-we/2,ke-ye/2)});else if(V[0]==="l")Ae=ke-ye/2;else if(V[0]==="a"&&V.indexOf("atitle")!==0)me=0,Ae=ke;else{var fe=R.attr("text-anchor");me-=we*(fe==="middle"?.5:fe==="end"?1:0),Ae=Ae+ke-ye/2}ie.attr({x:me,y:Ae}),z&&z.call(R,oe),te(oe)})})):H(),R}function H(){F.empty()||(V=R.attr("class")+"-math",F.select("svg."+V).remove()),R.text("").style("white-space","pre");var te=function(Q,K){K=K.replace(h," ");var X,J=!1,ee=[],ie=-1;function oe(){ie++;var Me=document.createElementNS(_.svg,"tspan");k.select(Me).attr({class:"line",dy:ie*v+"em"}),Q.appendChild(Me),X=Me;var Le=ee;if(ee=[{node:Me}],Le.length>1)for(var Oe=1;Oe<Le.length;Oe++)ae(Le[Oe])}function ae(Me){var Le,Oe=Me.type,Be={};if(Oe==="a"){Le="a";var pe=Me.target,_e=Me.href,Te=Me.popup;_e&&(Be={"xlink:xlink:show":pe==="_blank"||pe.charAt(0)!=="_"?"new":"replace",target:pe,"xlink:xlink:href":_e},Te&&(Be.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Te+'");return false;'))}else Le="tspan";Me.style&&(Be.style=Me.style);var Re=document.createElementNS(_.svg,Le);if(Oe==="sup"||Oe==="sub"){ce(X,o),X.appendChild(Re);var Ne=document.createElementNS(_.svg,"tspan");ce(Ne,o),k.select(Ne).attr("dy",l[Oe]),Be.dy=i[Oe],X.appendChild(Re),X.appendChild(Ne)}else X.appendChild(Re);k.select(Re).attr(Be),X=Me.node=Re,ee.push(Me)}function ce(Me,Le){Me.appendChild(document.createTextNode(Le))}function ge(Me){if(ee.length!==1){var Le=ee.pop();Me!==Le.type&&w.log("Start tag <"+Le.type+"> doesnt match end tag <"+Me+">. Pretending it did match.",K),X=ee[ee.length-1].node}else w.log("Ignoring unexpected end tag </"+Me+">.",K)}d.test(K)?oe():(X=Q,ee=[{node:Q}]);for(var ve=K.split(c),be=0;be<ve.length;be++){var we=ve[be],ye=we.match(b),me=ye&&ye[2].toLowerCase(),Ae=n[me];if(me==="br")oe();else if(Ae===void 0)ce(X,E(we));else if(ye[1])ge(me);else{var ke=ye[4],fe={type:me},le=T(ke,g);if(le?(le=le.replace(p,"$1 fill:"),Ae&&(le+=";"+Ae)):Ae&&(le=Ae),le&&(fe.style=le),me==="a"){J=!0;var de=T(ke,m);if(de){var Ce=P(de);Ce&&(fe.href=Ce,fe.target=T(ke,y)||"_blank",fe.popup=T(ke,x))}}ae(fe)}}return J}(R.node(),j);te&&R.style("pointer-events","all"),L.positionText(R),z&&z.call(R)}};var s=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g,a=[["$","$"],["\\(","\\)"]],n={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},i={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},o="",u=["http:","https:","mailto:","",void 0,":"],h=L.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,b=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;L.BR_TAG_ALL=/<br(\s+.*)?>/gi;var g=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,m=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,y=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,x=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function T(R,U){if(!R)return null;var z=R.match(U),j=z&&(z[3]||z[4]);return j&&E(j)}var p=/(^|;)\s*color:/;L.plainText=function(R,U){for(var z=(U=U||{}).len!==void 0&&U.len!==-1?U.len:1/0,j=U.allowedTags!==void 0?U.allowedTags:["br"],W=R.split(c),F=[],V="",H=0,te=0;te<W.length;te++){var Q=W[te],K=Q.match(b),X=K&&K[2].toLowerCase();if(X)j.indexOf(X)!==-1&&(F.push(Q),V=X);else{var J=Q.length;if(H+J<z)F.push(Q),H+=J;else if(H<z){var ee=z-H;V&&(V!=="br"||ee<=3||J<=3)&&F.pop(),z>3?F.push(Q.substr(0,ee-3)+"..."):F.push(Q.substr(0,ee));break}V=""}}return F.join("")};var S={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},M=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function E(R){return R.replace(M,function(U,z){return(z.charAt(0)==="#"?function(j){if(!(j>1114111)){var W=String.fromCodePoint;if(W)return W(j);var F=String.fromCharCode;return j<=65535?F(j):F(55232+(j>>10),j%1024+56320)}}(z.charAt(1)==="x"?parseInt(z.substr(2),16):parseInt(z.substr(1),10)):S[z])||U})}function P(R){var U=encodeURI(decodeURI(R)),z=document.createElement("a"),j=document.createElement("a");z.href=R,j.href=U;var W=z.protocol,F=j.protocol;return u.indexOf(W)!==-1&&u.indexOf(F)!==-1?U:""}function O(R,U,z){var j,W,F,V=z.horizontalAlign,H=z.verticalAlign||"top",te=R.node().getBoundingClientRect(),Q=U.node().getBoundingClientRect();return W=H==="bottom"?function(){return te.bottom-j.height}:H==="middle"?function(){return te.top+(te.height-j.height)/2}:function(){return te.top},F=V==="right"?function(){return te.right-j.width}:V==="center"?function(){return te.left+(te.width-j.width)/2}:function(){return te.left},function(){j=this.node().getBoundingClientRect();var K=F()-Q.left,X=W()-Q.top,J=z.gd||{};if(z.gd){J._fullLayout._calcInverseTransform(J);var ee=w.apply3DTransform(J._fullLayout._invTransform)(K,X);K=ee[0],X=ee[1]}return this.style({top:X+"px",left:K+"px","z-index":1e3}),this}}L.convertEntities=E,L.sanitizeHTML=function(R){R=R.replace(h," ");for(var U=document.createElement("p"),z=U,j=[],W=R.split(c),F=0;F<W.length;F++){var V=W[F],H=V.match(b),te=H&&H[2].toLowerCase();if(te in n)if(H[1])j.length&&(z=j.pop());else{var Q=H[4],K=T(Q,g),X=K?{style:K}:{};if(te==="a"){var J=T(Q,m);if(J){var ee=P(J);if(ee){X.href=ee;var ie=T(Q,y);ie&&(X.target=ie)}}}var oe=document.createElement(te);z.appendChild(oe),k.select(oe).attr(X),z=oe,j.push(oe)}else z.appendChild(document.createTextNode(E(V)))}return U.innerHTML},L.lineCount=function(R){return R.selectAll("tspan.line").size()||1},L.positionText=function(R,U,z){return R.each(function(){var j=k.select(this);function W(H,te){return te===void 0?(te=j.attr(H))===null&&(j.attr(H,0),te=0):j.attr(H,te),te}var F=W("x",U),V=W("y",z);this.nodeName==="text"&&j.selectAll("tspan.line").attr({x:F,y:V})})};var I="1px ";L.makeTextShadow=function(R){return I+I+I+R+", -"+I+"-"+I+I+R+", "+I+"-"+I+I+R+", -"+I+I+I+R},L.makeEditable=function(R,U){var z=U.gd,j=U.delegate,W=k.dispatch("edit","input","cancel"),F=j||R;if(R.style({"pointer-events":j?"none":"all"}),R.size()!==1)throw new Error("boo");function V(){var te,Q,K,X,J;te=k.select(z).select(".svg-container"),Q=te.append("div"),K=R.node().style,X=parseFloat(K.fontSize||12),(J=U.text)===void 0&&(J=R.attr("data-unformatted")),Q.classed("plugin-editable editable",!0).style({position:"absolute","font-family":K.fontFamily||"Arial","font-size":X,color:U.fill||K.fill||"black",opacity:1,"background-color":U.background||"transparent",outline:"#ffffff33 1px solid",margin:[-X/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(J).call(O(R,te,U)).on("blur",function(){z._editing=!1,R.text(this.textContent).style({opacity:1});var oe,ae=k.select(this).attr("class");(oe=ae?"."+ae.split(" ")[0]+"-math-group":"[class*=-math-group]")&&k.select(R.node().parentNode).select(oe).style({opacity:0});var ce=this.textContent;k.select(this).transition().duration(0).remove(),k.select(document).on("mouseup",null),W.edit.call(R,ce)}).on("focus",function(){var oe=this;z._editing=!0,k.select(document).on("mouseup",function(){if(k.event.target===oe)return!1;document.activeElement===Q.node()&&Q.node().blur()})}).on("keyup",function(){k.event.which===27?(z._editing=!1,R.style({opacity:1}),k.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),W.cancel.call(R,this.textContent)):(W.input.call(R,this.textContent),k.select(this).call(O(R,te,U)))}).on("keydown",function(){k.event.which===13&&this.blur()}).call(H),R.style({opacity:0});var ee,ie=F.attr("class");(ee=ie?"."+ie.split(" ")[0]+"-math-group":"[class*=-math-group]")&&k.select(R.node().parentNode).select(ee).style({opacity:0})}function H(te){var Q=te.node(),K=document.createRange();K.selectNodeContents(Q);var X=window.getSelection();X.removeAllRanges(),X.addRange(K),Q.focus()}return U.immediate?V():F.on("click",V),k.rebind(R,W,"on")}},91200:function(B,L){var e={};function k(w){w&&w.timer!==null&&(clearTimeout(w.timer),w.timer=null)}L.throttle=function(w,r,_){var v=e[w],f=Date.now();if(!v){for(var s in e)e[s].ts<f-6e4&&delete e[s];v=e[w]={ts:0,timer:null}}function t(){_(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}k(v),f>v.ts+r?t():v.timer=setTimeout(function(){t(),v.timer=null},r)},L.done=function(w){var r=e[w];return r&&r.timer?new Promise(function(_){var v=r.onDone;r.onDone=function(){v&&v(),_(),r.onDone=null}}):Promise.resolve()},L.clear=function(w){if(w)k(e[w]),delete e[w];else for(var r in e)L.clear(r)}},36896:function(B,L,e){var k=e(38248);B.exports=function(w,r){if(w>0)return Math.log(w)/Math.LN10;var _=Math.log(Math.min(r[0],r[1]))/Math.LN10;return k(_)||(_=Math.log(Math.max(r[0],r[1]))/Math.LN10-6),_}},59972:function(B,L,e){var k=B.exports={},w=e(79552).locationmodeToLayer,r=e(55712).NO;k.getTopojsonName=function(_){return[_.scope.replace(/ /g,"-"),"_",_.resolution.toString(),"m"].join("")},k.getTopojsonPath=function(_,v){return _+v+".json"},k.getTopojsonFeatures=function(_,v){var f=w[_.locationmode],s=v.objects[f];return r(v,s).features}},11680:function(B){B.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(B){B.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(B,L,e){var k=e(24040);B.exports=function(w){for(var r,_,v=k.layoutArrayContainers,f=k.layoutArrayRegexes,s=w.split("[")[0],t=0;t<f.length;t++)if((_=w.match(f[t]))&&_.index===0){r=_[0];break}if(r||(r=v[v.indexOf(s)]),!r)return!1;var a=w.substr(r.length);return a?!!(_=a.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:r,index:Number(_[1]),property:_[3]||""}:{array:r,index:"",property:""}}},67824:function(B,L,e){var k=e(92880).extendFlat,w=e(63620),r={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},_={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},v=r.flags.slice().concat(["fullReplot"]),f=_.flags.slice().concat("layoutReplot");function s(n){for(var i={},l=0;l<n.length;l++)i[n[l]]=!1;return i}function t(n,i,l){var o=k({},n);for(var u in o){var h=o[u];w(h)&&(o[u]=a(h,i,0,u))}return l==="from-root"&&(o.editType=i),o}function a(n,i,l,o){if(n.valType){var u=k({},n);if(u.editType=i,Array.isArray(n.items)){u.items=new Array(n.items.length);for(var h=0;h<n.items.length;h++)u.items[h]=a(n.items[h],i)}return u}return t(n,i,o.charAt(0)==="_"?"nested":"from-root")}B.exports={traces:r,layout:_,traceFlags:function(){return s(v)},layoutFlags:function(){return s(f)},update:function(n,i){var l=i.editType;if(l&&l!=="none")for(var o=l.split("+"),u=0;u<o.length;u++)n[o[u]]=!0},overrideAll:t}},93404:function(B,L,e){var k=e(38248),w=e(61784),r=e(24040),_=e(3400),v=e(7316),f=e(79811),s=e(76308),t=f.cleanId,a=f.getFromTrace,n=r.traceIs;function i(m,y){var x=m[y],T=y.charAt(0);x&&x!=="paper"&&(m[y]=t(x,T,!0))}function l(m){function y(x,T){var p=m[x],S=m.title&&m.title[T];p&&!S&&(m.title||(m.title={}),m.title[T]=m[x],delete m[x])}m&&(typeof m.title!="string"&&typeof m.title!="number"||(m.title={text:m.title}),y("titlefont","font"),y("titleposition","position"),y("titleside","side"),y("titleoffset","offset"))}function o(m){if(!_.isPlainObject(m))return!1;var y=m.name;return delete m.name,delete m.showlegend,(typeof y=="string"||typeof y=="number")&&String(y)}function u(m,y,x,T){if(x&&!T)return m;if(T&&!x||!m.trim())return y;if(!y.trim())return m;var p,S=Math.min(m.length,y.length);for(p=0;p<S&&m.charAt(p)===y.charAt(p);p++);return m.substr(0,p).trim()}function h(m){var y="middle",x="center";return typeof m=="string"&&(m.indexOf("top")!==-1?y="top":m.indexOf("bottom")!==-1&&(y="bottom"),m.indexOf("left")!==-1?x="left":m.indexOf("right")!==-1&&(x="right")),y+" "+x}function c(m,y){return y in m&&typeof m[y]=="object"&&Object.keys(m[y]).length===0}L.clearPromiseQueue=function(m){Array.isArray(m._promises)&&m._promises.length>0&&_.log("Clearing previous rejected promises from queue."),m._promises=[]},L.cleanLayout=function(m){var y,x;m||(m={}),m.xaxis1&&(m.xaxis||(m.xaxis=m.xaxis1),delete m.xaxis1),m.yaxis1&&(m.yaxis||(m.yaxis=m.yaxis1),delete m.yaxis1),m.scene1&&(m.scene||(m.scene=m.scene1),delete m.scene1);var T=(v.subplotsRegistry.cartesian||{}).attrRegex,p=(v.subplotsRegistry.polar||{}).attrRegex,S=(v.subplotsRegistry.ternary||{}).attrRegex,M=(v.subplotsRegistry.gl3d||{}).attrRegex,E=Object.keys(m);for(y=0;y<E.length;y++){var P=E[y];if(T&&T.test(P)){var O=m[P];O.anchor&&O.anchor!=="free"&&(O.anchor=t(O.anchor)),O.overlaying&&(O.overlaying=t(O.overlaying)),O.type||(O.isdate?O.type="date":O.islog?O.type="log":O.isdate===!1&&O.islog===!1&&(O.type="linear")),O.autorange!=="withzero"&&O.autorange!=="tozero"||(O.autorange=!0,O.rangemode="tozero"),O.insiderange&&delete O.range,delete O.islog,delete O.isdate,delete O.categories,c(O,"domain")&&delete O.domain,O.autotick!==void 0&&(O.tickmode===void 0&&(O.tickmode=O.autotick?"auto":"linear"),delete O.autotick),l(O)}else if(p&&p.test(P))l(m[P].radialaxis);else if(S&&S.test(P)){var I=m[P];l(I.aaxis),l(I.baxis),l(I.caxis)}else if(M&&M.test(P)){var R=m[P],U=R.cameraposition;if(Array.isArray(U)&&U[0].length===4){var z=U[0],j=U[1],W=U[2],F=w([],z),V=[];for(x=0;x<3;++x)V[x]=j[x]+W*F[2+4*x];R.camera={eye:{x:V[0],y:V[1],z:V[2]},center:{x:j[0],y:j[1],z:j[2]},up:{x:0,y:0,z:1}},delete R.cameraposition}l(R.xaxis),l(R.yaxis),l(R.zaxis)}}var H=Array.isArray(m.annotations)?m.annotations.length:0;for(y=0;y<H;y++){var te=m.annotations[y];_.isPlainObject(te)&&(te.ref&&(te.ref==="paper"?(te.xref="paper",te.yref="paper"):te.ref==="data"&&(te.xref="x",te.yref="y"),delete te.ref),i(te,"xref"),i(te,"yref"))}var Q=Array.isArray(m.shapes)?m.shapes.length:0;for(y=0;y<Q;y++){var K=m.shapes[y];_.isPlainObject(K)&&(i(K,"xref"),i(K,"yref"))}var X=Array.isArray(m.images)?m.images.length:0;for(y=0;y<X;y++){var J=m.images[y];_.isPlainObject(J)&&(i(J,"xref"),i(J,"yref"))}var ee=m.legend;return ee&&(ee.x>3?(ee.x=1.02,ee.xanchor="left"):ee.x<-2&&(ee.x=-.02,ee.xanchor="right"),ee.y>3?(ee.y=1.02,ee.yanchor="bottom"):ee.y<-2&&(ee.y=-.02,ee.yanchor="top")),l(m),m.dragmode==="rotate"&&(m.dragmode="orbit"),s.clean(m),m.template&&m.template.layout&&L.cleanLayout(m.template.layout),m},L.cleanData=function(m){for(var y=0;y<m.length;y++){var x,T=m[y];if(T.type==="histogramy"&&"xbins"in T&&!("ybins"in T)&&(T.ybins=T.xbins,delete T.xbins),T.error_y&&"opacity"in T.error_y){var p=s.defaults,S=T.error_y.color||(n(T,"bar")?s.defaultLine:p[y%p.length]);T.error_y.color=s.addOpacity(s.rgb(S),s.opacity(S)*T.error_y.opacity),delete T.error_y.opacity}if("bardir"in T&&(T.bardir!=="h"||!n(T,"bar")&&T.type.substr(0,9)!=="histogram"||(T.orientation="h",L.swapXYData(T)),delete T.bardir),T.type==="histogramy"&&L.swapXYData(T),T.type!=="histogramx"&&T.type!=="histogramy"||(T.type="histogram"),"scl"in T&&!("colorscale"in T)&&(T.colorscale=T.scl,delete T.scl),"reversescl"in T&&!("reversescale"in T)&&(T.reversescale=T.reversescl,delete T.reversescl),T.xaxis&&(T.xaxis=t(T.xaxis,"x")),T.yaxis&&(T.yaxis=t(T.yaxis,"y")),n(T,"gl3d")&&T.scene&&(T.scene=v.subplotsRegistry.gl3d.cleanId(T.scene)),!n(T,"pie-like")&&!n(T,"bar-like"))if(Array.isArray(T.textposition))for(x=0;x<T.textposition.length;x++)T.textposition[x]=h(T.textposition[x]);else T.textposition&&(T.textposition=h(T.textposition));var M=r.getModule(T);if(M&&M.colorbar){var E=M.colorbar.container,P=E?T[E]:T;P&&P.colorscale&&(P.colorscale==="YIGnBu"&&(P.colorscale="YlGnBu"),P.colorscale==="YIOrRd"&&(P.colorscale="YlOrRd"))}if(T.type==="surface"&&_.isPlainObject(T.contours)){var O=["x","y","z"];for(x=0;x<O.length;x++){var I=T.contours[O[x]];_.isPlainObject(I)&&(I.highlightColor&&(I.highlightcolor=I.highlightColor,delete I.highlightColor),I.highlightWidth&&(I.highlightwidth=I.highlightWidth,delete I.highlightWidth))}}if(T.type==="candlestick"||T.type==="ohlc"){var R=(T.increasing||{}).showlegend!==!1,U=(T.decreasing||{}).showlegend!==!1,z=o(T.increasing),j=o(T.decreasing);if(z!==!1&&j!==!1){var W=u(z,j,R,U);W&&(T.name=W)}else!z&&!j||T.name||(T.name=z||j)}if(Array.isArray(T.transforms)){var F=T.transforms;for(x=0;x<F.length;x++){var V=F[x];if(_.isPlainObject(V))switch(V.type){case"filter":V.filtersrc&&(V.target=V.filtersrc,delete V.filtersrc),V.calendar&&(V.valuecalendar||(V.valuecalendar=V.calendar),delete V.calendar);break;case"groupby":if(V.styles=V.styles||V.style,V.styles&&!Array.isArray(V.styles)){var H=V.styles,te=Object.keys(H);V.styles=[];for(var Q=0;Q<te.length;Q++)V.styles.push({target:te[Q],value:H[te[Q]]})}}}}c(T,"line")&&delete T.line,"marker"in T&&(c(T.marker,"line")&&delete T.marker.line,c(T,"marker")&&delete T.marker),s.clean(T),T.autobinx&&(delete T.autobinx,delete T.xbins),T.autobiny&&(delete T.autobiny,delete T.ybins),l(T),T.colorbar&&l(T.colorbar),T.marker&&T.marker.colorbar&&l(T.marker.colorbar),T.line&&T.line.colorbar&&l(T.line.colorbar),T.aaxis&&l(T.aaxis),T.baxis&&l(T.baxis)}},L.swapXYData=function(m){var y;if(_.swapAttrs(m,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(m.z)&&Array.isArray(m.z[0])&&(m.transpose?delete m.transpose:m.transpose=!0),m.error_x&&m.error_y){var x=m.error_y,T="copy_ystyle"in x?x.copy_ystyle:!(x.color||x.thickness||x.width);_.swapAttrs(m,["error_?.copy_ystyle"]),T&&_.swapAttrs(m,["error_?.color","error_?.thickness","error_?.width"])}if(typeof m.hoverinfo=="string"){var p=m.hoverinfo.split("+");for(y=0;y<p.length;y++)p[y]==="x"?p[y]="y":p[y]==="y"&&(p[y]="x");m.hoverinfo=p.join("+")}},L.coerceTraceIndices=function(m,y){if(k(y))return[y];if(!Array.isArray(y)||!y.length)return m.data.map(function(p,S){return S});if(Array.isArray(y)){for(var x=[],T=0;T<y.length;T++)_.isIndex(y[T],m.data.length)?x.push(y[T]):_.warn("trace index (",y[T],") is not a number or is out of bounds");return x}return y},L.manageArrayContainers=function(m,y,x){var T=m.obj,p=m.parts,S=p.length,M=p[S-1],E=k(M);if(E&&y===null){var P=p.slice(0,S-1).join(".");_.nestedProperty(T,P).get().splice(M,1)}else E&&m.get()===void 0&&m.get()===void 0&&(x[m.astr]=null),m.set(y)};var b=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function d(m){var y=m.search(b);if(y>0)return m.substr(0,y)}L.hasParent=function(m,y){for(var x=d(y);x;){if(x in m)return!0;x=d(x)}return!1};var g=["x","y","z"];L.clearAxisTypes=function(m,y,x){for(var T=0;T<y.length;T++)for(var p=m._fullData[T],S=0;S<3;S++){var M=a(m,p,g[S]);if(M&&M.type!=="log"){var E=M._name,P=M._id.substr(1);if(P.substr(0,5)==="scene"){if(x[P]!==void 0)continue;E=P+"."+E}var O=E+".type";x[E]===void 0&&x[O]===void 0&&_.nestedProperty(m.layout,O).set(null)}}}},22448:function(B,L,e){var k=e(36424);L._doPlot=k._doPlot,L.newPlot=k.newPlot,L.restyle=k.restyle,L.relayout=k.relayout,L.redraw=k.redraw,L.update=k.update,L._guiRestyle=k._guiRestyle,L._guiRelayout=k._guiRelayout,L._guiUpdate=k._guiUpdate,L._storeDirectGUIEdit=k._storeDirectGUIEdit,L.react=k.react,L.extendTraces=k.extendTraces,L.prependTraces=k.prependTraces,L.addTraces=k.addTraces,L.deleteTraces=k.deleteTraces,L.moveTraces=k.moveTraces,L.purge=k.purge,L.addFrames=k.addFrames,L.deleteFrames=k.deleteFrames,L.animate=k.animate,L.setPlotConfig=k.setPlotConfig;var w=e(52200).getGraphDiv,r=e(4016).eraseActiveShape;L.deleteActiveShape=function(v){return r(w(v))},L.toImage=e(67024),L.validate=e(21480),L.downloadImage=e(39792);var _=e(94828);L.makeTemplate=_.makeTemplate,L.validateTemplate=_.validateTemplate},17680:function(B,L,e){var k=e(63620),w=e(16628),r=e(24248),_=e(14952).sorterAsc,v=e(24040);L.containerArrayMatch=e(69820);var f=L.isAddVal=function(t){return t==="add"||k(t)},s=L.isRemoveVal=function(t){return t===null||t==="remove"};L.applyContainerArrayChanges=function(t,a,n,i,l){var o=a.astr,u=v.getComponentMethod(o,"supplyLayoutDefaults"),h=v.getComponentMethod(o,"draw"),c=v.getComponentMethod(o,"drawOne"),b=i.replot||i.recalc||u===w||h===w,d=t.layout,g=t._fullLayout;if(n[""]){Object.keys(n).length>1&&r.warn("Full array edits are incompatible with other edits",o);var m=n[""][""];if(s(m))a.set(null);else{if(!Array.isArray(m))return r.warn("Unrecognized full array edit value",o,m),!0;a.set(m)}return!b&&(u(d,g),h(t),!0)}var y,x,T,p,S,M,E,P,O=Object.keys(n).map(Number).sort(_),I=a.get(),R=I||[],U=l(g,o).get(),z=[],j=-1,W=R.length;for(y=0;y<O.length;y++)if(p=n[T=O[y]],S=Object.keys(p),M=p[""],E=f(M),T<0||T>R.length-(E?0:1))r.warn("index out of range",o,T);else if(M!==void 0)S.length>1&&r.warn("Insertion & removal are incompatible with edits to the same index.",o,T),s(M)?z.push(T):E?(M==="add"&&(M={}),R.splice(T,0,M),U&&U.splice(T,0,{})):r.warn("Unrecognized full object edit value",o,T,M),j===-1&&(j=T);else for(x=0;x<S.length;x++)P=o+"["+T+"].",l(R[T],S[x],P).set(p[S[x]]);for(y=z.length-1;y>=0;y--)R.splice(z[y],1),U&&U.splice(z[y],1);if(R.length?I||a.set(R):a.set(null),b)return!1;if(u(d,g),c!==w){var F;if(j===-1)F=O;else{for(W=Math.max(R.length,W),F=[],y=0;y<O.length&&!((T=O[y])>=j);y++)F.push(T);for(y=j;y<W;y++)F.push(y)}for(y=0;y<F.length;y++)c(t,F[y])}else h(t);return!0}},36424:function(B,L,e){var k=e(33428),w=e(38248),r=e(52264),_=e(3400),v=_.nestedProperty,f=e(95924),s=e(94552),t=e(24040),a=e(73060),n=e(7316),i=e(54460),l=e(96312),o=e(94724),u=e(43616),h=e(76308),c=e(42464).initInteractions,b=e(9616),d=e(22676).clearOutline,g=e(20556).dfltConfig,m=e(17680),y=e(93404),x=e(39172),T=e(67824),p=e(33816).AX_NAME_PATTERN,S=0;function M(Me){var Le=Me._fullLayout;Le._redrawFromAutoMarginCount?Le._redrawFromAutoMarginCount--:Me.emit("plotly_afterplot")}function E(Me,Le){try{Me._fullLayout._paper.style("background",Le)}catch(Oe){_.error(Oe)}}function P(Me,Le){E(Me,h.combine(Le,"white"))}function O(Me,Le){if(!Me._context){Me._context=_.extendDeep({},g);var Oe=k.select("base");Me._context._baseUrl=Oe.size()&&Oe.attr("href")?window.location.href.split("#")[0]:""}var Be,pe,_e,Te=Me._context;if(Le){for(pe=Object.keys(Le),Be=0;Be<pe.length;Be++)(_e=pe[Be])!=="editable"&&_e!=="edits"&&_e in Te&&(_e==="setBackground"&&Le[_e]==="opaque"?Te[_e]=P:Te[_e]=Le[_e]);Le.plot3dPixelRatio&&!Te.plotGlPixelRatio&&(Te.plotGlPixelRatio=Te.plot3dPixelRatio);var Re=Le.editable;if(Re!==void 0)for(Te.editable=Re,pe=Object.keys(Te.edits),Be=0;Be<pe.length;Be++)Te.edits[pe[Be]]=Re;if(Le.edits)for(pe=Object.keys(Le.edits),Be=0;Be<pe.length;Be++)(_e=pe[Be])in Te.edits&&(Te.edits[_e]=Le.edits[_e]);Te._exportedPlot=Le._exportedPlot}Te.staticPlot&&(Te.editable=!1,Te.edits={},Te.autosizable=!1,Te.scrollZoom=!1,Te.doubleClick=!1,Te.showTips=!1,Te.showLink=!1,Te.displayModeBar=!1),Te.displayModeBar!=="hover"||r||(Te.displayModeBar=!0),Te.setBackground!=="transparent"&&typeof Te.setBackground=="function"||(Te.setBackground=E),Te._hasZeroHeight=Te._hasZeroHeight||Me.clientHeight===0,Te._hasZeroWidth=Te._hasZeroWidth||Me.clientWidth===0;var Ne=Te.scrollZoom,ze=Te._scrollZoom={};if(Ne===!0)ze.cartesian=1,ze.gl3d=1,ze.geo=1,ze.mapbox=1;else if(typeof Ne=="string"){var Ge=Ne.split("+");for(Be=0;Be<Ge.length;Be++)ze[Ge[Be]]=1}else Ne!==!1&&(ze.gl3d=1,ze.geo=1,ze.mapbox=1)}function I(Me,Le){var Oe,Be,pe=Le+1,_e=[];for(Oe=0;Oe<Me.length;Oe++)(Be=Me[Oe])<0?_e.push(pe+Be):_e.push(Be);return _e}function R(Me,Le,Oe){var Be,pe;for(Be=0;Be<Le.length;Be++){if((pe=Le[Be])!==parseInt(pe,10))throw new Error("all values in "+Oe+" must be integers");if(pe>=Me.data.length||pe<-Me.data.length)throw new Error(Oe+" must be valid indices for gd.data.");if(Le.indexOf(pe,Be+1)>-1||pe>=0&&Le.indexOf(-Me.data.length+pe)>-1||pe<0&&Le.indexOf(Me.data.length+pe)>-1)throw new Error("each index in "+Oe+" must be unique.")}}function U(Me,Le,Oe){if(!Array.isArray(Me.data))throw new Error("gd.data must be an array.");if(Le===void 0)throw new Error("currentIndices is a required argument.");if(Array.isArray(Le)||(Le=[Le]),R(Me,Le,"currentIndices"),Oe===void 0||Array.isArray(Oe)||(Oe=[Oe]),Oe!==void 0&&R(Me,Oe,"newIndices"),Oe!==void 0&&Le.length!==Oe.length)throw new Error("current and new indices must be of equal length.")}function z(Me,Le,Oe,Be,pe){(function(et,ut,ot,yt){var wt=_.isPlainObject(yt);if(!Array.isArray(et.data))throw new Error("gd.data must be an array");if(!_.isPlainObject(ut))throw new Error("update must be a key:value object");if(ot===void 0)throw new Error("indices must be an integer or array of integers");for(var bt in R(et,ot,"indices"),ut){if(!Array.isArray(ut[bt])||ut[bt].length!==ot.length)throw new Error("attribute "+bt+" must be an array of length equal to indices array length");if(wt&&(!(bt in yt)||!Array.isArray(yt[bt])||yt[bt].length!==ut[bt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}})(Me,Le,Oe,Be);for(var _e=function(et,ut,ot,yt){var wt,bt,at,rt,At,Rt=_.isPlainObject(yt),Ft=[];for(var Dt in Array.isArray(ot)||(ot=[ot]),ot=I(ot,et.data.length-1),ut)for(var Xe=0;Xe<ot.length;Xe++){if(wt=et.data[ot[Xe]],bt=(at=v(wt,Dt)).get(),rt=ut[Dt][Xe],!_.isArrayOrTypedArray(rt))throw new Error("attribute: "+Dt+" index: "+Xe+" must be an array");if(!_.isArrayOrTypedArray(bt))throw new Error("cannot extend missing or non-array attribute: "+Dt);if(bt.constructor!==rt.constructor)throw new Error("cannot extend array with an array of a different type: "+Dt);At=Rt?yt[Dt][Xe]:yt,w(At)||(At=-1),Ft.push({prop:at,target:bt,insert:rt,maxp:Math.floor(At)})}return Ft}(Me,Le,Oe,Be),Te={},Re={},Ne=0;Ne<_e.length;Ne++){var ze=_e[Ne].prop,Ge=_e[Ne].maxp,Ye=pe(_e[Ne].target,_e[Ne].insert,Ge);ze.set(Ye[0]),Array.isArray(Te[ze.astr])||(Te[ze.astr]=[]),Te[ze.astr].push(Ye[1]),Array.isArray(Re[ze.astr])||(Re[ze.astr]=[]),Re[ze.astr].push(_e[Ne].target.length)}return{update:Te,maxPoints:Re}}function j(Me,Le){var Oe=new Me.constructor(Me.length+Le.length);return Oe.set(Me),Oe.set(Le,Me.length),Oe}function W(Me,Le,Oe,Be){Me=_.getGraphDiv(Me),y.clearPromiseQueue(Me);var pe={};if(typeof Le=="string")pe[Le]=Oe;else{if(!_.isPlainObject(Le))return _.warn("Restyle fail.",Le,Oe,Be),Promise.reject();pe=_.extendFlat({},Le),Be===void 0&&(Be=Oe)}Object.keys(pe).length&&(Me.changed=!0);var _e=y.coerceTraceIndices(Me,Be),Te=te(Me,pe,_e),Re=Te.flags;Re.calc&&(Me.calcdata=void 0),Re.clearAxisTypes&&y.clearAxisTypes(Me,_e,{});var Ne=[];Re.fullReplot?Ne.push(L._doPlot):(Ne.push(n.previousPromises),n.supplyDefaults(Me),Re.markerSize&&(n.doCalcdata(Me),J(Ne)),Re.style&&Ne.push(x.doTraceStyle),Re.colorbars&&Ne.push(x.doColorBars),Ne.push(M)),Ne.push(n.rehover,n.redrag,n.reselect),s.add(Me,W,[Me,Te.undoit,Te.traces],W,[Me,Te.redoit,Te.traces]);var ze=_.syncOrAsync(Ne,Me);return ze&&ze.then||(ze=Promise.resolve()),ze.then(function(){return Me.emit("plotly_restyle",Te.eventData),Me})}function F(Me){return Me===void 0?null:Me}function V(Me,Le){return Le?function(Oe,Be,pe){var _e=v(Oe,Be),Te=_e.set;return _e.set=function(Re){H((pe||"")+Be,_e.get(),Re,Me),Te(Re)},_e}:v}function H(Me,Le,Oe,Be){if(Array.isArray(Le)||Array.isArray(Oe))for(var pe=Array.isArray(Le)?Le:[],_e=Array.isArray(Oe)?Oe:[],Te=Math.max(pe.length,_e.length),Re=0;Re<Te;Re++)H(Me+"["+Re+"]",pe[Re],_e[Re],Be);else if(_.isPlainObject(Le)||_.isPlainObject(Oe)){var Ne=_.isPlainObject(Le)?Le:{},ze=_.isPlainObject(Oe)?Oe:{},Ge=_.extendFlat({},Ne,ze);for(var Ye in Ge)H(Me+"."+Ye,Ne[Ye],ze[Ye],Be)}else Be[Me]===void 0&&(Be[Me]=F(Le))}function te(Me,Le,Oe){var Be,pe=Me._fullLayout,_e=Me._fullData,Te=Me.data,Re=pe._guiEditing,Ne=V(pe._preGUI,Re),ze=_.extendDeepAll({},Le);Q(Le);var Ge,Ye=T.traceFlags(),et={},ut={};function ot(){return Oe.map(function(){})}function yt(qt){var Gt=i.id2name(qt);Ge.indexOf(Gt)===-1&&Ge.push(Gt)}function wt(qt){return"LAYOUT"+qt+".autorange"}function bt(qt){return"LAYOUT"+qt+".range"}function at(qt){for(var Gt=qt;Gt<_e.length;Gt++)if(_e[Gt]._input===Te[qt])return _e[Gt]}function rt(qt,Gt,nn){if(Array.isArray(qt))qt.forEach(function(dn){rt(dn,Gt,nn)});else if(!(qt in Le)&&!y.hasParent(Le,qt)){var Cn;if(qt.substr(0,6)==="LAYOUT")Cn=Ne(Me.layout,qt.replace("LAYOUT",""));else{var An=Oe[nn];Cn=V(pe._tracePreGUI[at(An)._fullInput.uid],Re)(Te[An],qt)}qt in ut||(ut[qt]=ot()),ut[qt][nn]===void 0&&(ut[qt][nn]=F(Cn.get())),Gt!==void 0&&Cn.set(Gt)}}function At(qt){return function(Gt){return _e[Gt][qt]}}function Rt(qt){return function(Gt,nn){return Gt===!1?_e[Oe[nn]][qt]:null}}for(var Ft in Le){if(y.hasParent(Le,Ft))throw new Error("cannot set "+Ft+" and a parent attribute simultaneously");var Dt,Xe,Ke,Ve,Je,ct,st=Le[Ft];if(Ft!=="autobinx"&&Ft!=="autobiny"||(Ft=Ft.charAt(Ft.length-1)+"bins",st=Array.isArray(st)?st.map(Rt(Ft)):st===!1?Oe.map(At(Ft)):null),et[Ft]=st,Ft.substr(0,6)!=="LAYOUT"){for(ut[Ft]=ot(),Be=0;Be<Oe.length;Be++)if(Dt=Te[Oe[Be]],Xe=at(Oe[Be]),Ve=(Ke=V(pe._tracePreGUI[Xe._fullInput.uid],Re)(Dt,Ft)).get(),(Je=Array.isArray(st)?st[Be%st.length]:st)!==void 0){var je=Ke.parts[Ke.parts.length-1],Ue=Ft.substr(0,Ft.length-je.length-1),lt=Ue?Ue+".":"",Qe=Ue?v(Xe,Ue).get():Xe;if((ct=a.getTraceValObject(Xe,Ke.parts))&&ct.impliedEdits&&Je!==null)for(var gt in ct.impliedEdits)rt(_.relativeAttr(Ft,gt),ct.impliedEdits[gt],Be);else if(je!=="thicknessmode"&&je!=="lenmode"||Ve===Je||Je!=="fraction"&&Je!=="pixels"||!Qe){if(Ft==="type"&&(Je==="pie"!=(Ve==="pie")||Je==="funnelarea"!=(Ve==="funnelarea"))){var mt="x",xt="y";Je!=="bar"&&Ve!=="bar"||Dt.orientation!=="h"||(mt="y",xt="x"),_.swapAttrs(Dt,["?","?src"],"labels",mt),_.swapAttrs(Dt,["d?","?0"],"label",mt),_.swapAttrs(Dt,["?","?src"],"values",xt),Ve==="pie"||Ve==="funnelarea"?(v(Dt,"marker.color").set(v(Dt,"marker.colors").get()),pe._pielayer.selectAll("g.trace").remove()):t.traceIs(Dt,"cartesian")&&v(Dt,"marker.colors").set(v(Dt,"marker.color").get())}}else{var dt=pe._size,Lt=Qe.orient,kt=Lt==="top"||Lt==="bottom";if(je==="thicknessmode"){var _t=kt?dt.h:dt.w;rt(lt+"thickness",Qe.thickness*(Je==="fraction"?1/_t:_t),Be)}else{var Ot=kt?dt.w:dt.h;rt(lt+"len",Qe.len*(Je==="fraction"?1/Ot:Ot),Be)}}if(ut[Ft][Be]=F(Ve),["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Ft)!==-1){if(Ft==="orientation"){Ke.set(Je);var Pt=Dt.x&&!Dt.y?"h":"v";if((Ke.get()||Pt)===Xe.orientation)continue}else Ft==="orientationaxes"&&(Dt.orientation={v:"h",h:"v"}[Xe.orientation]);y.swapXYData(Dt),Ye.calc=Ye.clearAxisTypes=!0}else n.dataArrayContainers.indexOf(Ke.parts[0])!==-1?(y.manageArrayContainers(Ke,Je,ut),Ye.calc=!0):(ct?ct.arrayOk&&!t.traceIs(Xe,"regl")&&(_.isArrayOrTypedArray(Je)||_.isArrayOrTypedArray(Ve))?Ye.calc=!0:T.update(Ye,ct):Ye.calc=!0,Ke.set(Je))}if(["swapxyaxes","orientationaxes"].indexOf(Ft)!==-1&&i.swap(Me,Oe),Ft==="orientationaxes"){var Bt=v(Me.layout,"hovermode"),Jt=Bt.get();Jt==="x"?Bt.set("y"):Jt==="y"?Bt.set("x"):Jt==="x unified"?Bt.set("y unified"):Jt==="y unified"&&Bt.set("x unified")}if(["orientation","type"].indexOf(Ft)!==-1){for(Ge=[],Be=0;Be<Oe.length;Be++){var on=Te[Oe[Be]];t.traceIs(on,"cartesian")&&(yt(on.xaxis||"x"),yt(on.yaxis||"y"))}rt(Ge.map(wt),!0,0),rt(Ge.map(bt),[0,1],0)}}else Ke=Ne(Me.layout,Ft.replace("LAYOUT","")),ut[Ft]=[F(Ke.get())],Ke.set(Array.isArray(st)?st[0]:st),Ye.calc=!0}return(Ye.calc||Ye.plot)&&(Ye.fullReplot=!0),{flags:Ye,undoit:ut,redoit:et,traces:Oe,eventData:_.extendDeepNoArrays([],[ze,Oe])}}function Q(Me){var Le,Oe,Be,pe=_.counterRegex("axis",".title",!1,!1),_e=/colorbar\.title$/,Te=Object.keys(Me);for(Le=0;Le<Te.length;Le++)Oe=Te[Le],Be=Me[Oe],Oe!=="title"&&!pe.test(Oe)&&!_e.test(Oe)||typeof Be!="string"&&typeof Be!="number"?Oe.indexOf("titlefont")>-1&&Oe.indexOf("grouptitlefont")===-1?Re(Oe,Oe.replace("titlefont","title.font")):Oe.indexOf("titleposition")>-1?Re(Oe,Oe.replace("titleposition","title.position")):Oe.indexOf("titleside")>-1?Re(Oe,Oe.replace("titleside","title.side")):Oe.indexOf("titleoffset")>-1&&Re(Oe,Oe.replace("titleoffset","title.offset")):Re(Oe,Oe.replace("title","title.text"));function Re(Ne,ze){Me[ze]=Me[Ne],delete Me[Ne]}}function K(Me,Le,Oe){Me=_.getGraphDiv(Me),y.clearPromiseQueue(Me);var Be={};if(typeof Le=="string")Be[Le]=Oe;else{if(!_.isPlainObject(Le))return _.warn("Relayout fail.",Le,Oe),Promise.reject();Be=_.extendFlat({},Le)}Object.keys(Be).length&&(Me.changed=!0);var pe=ae(Me,Be),_e=pe.flags;_e.calc&&(Me.calcdata=void 0);var Te=[n.previousPromises];_e.layoutReplot?Te.push(x.layoutReplot):Object.keys(Be).length&&(X(Me,_e,pe)||n.supplyDefaults(Me),_e.legend&&Te.push(x.doLegend),_e.layoutstyle&&Te.push(x.layoutStyles),_e.axrange&&J(Te,pe.rangesAltered),_e.ticks&&Te.push(x.doTicksRelayout),_e.modebar&&Te.push(x.doModeBar),_e.camera&&Te.push(x.doCamera),_e.colorbars&&Te.push(x.doColorBars),Te.push(M)),Te.push(n.rehover,n.redrag,n.reselect),s.add(Me,K,[Me,pe.undoit],K,[Me,pe.redoit]);var Re=_.syncOrAsync(Te,Me);return Re&&Re.then||(Re=Promise.resolve(Me)),Re.then(function(){return Me.emit("plotly_relayout",pe.eventData),Me})}function X(Me,Le,Oe){var Be,pe,_e=Me._fullLayout;if(!Le.axrange)return!1;for(var Te in Le)if(Te!=="axrange"&&Le[Te])return!1;var Re=function(ut,ot){return _.coerce(Be,pe,o,ut,ot)},Ne={};for(var ze in Oe.rangesAltered){var Ge=i.id2name(ze);if(Be=Me.layout[Ge],pe=_e[Ge],l(Be,pe,Re,Ne),pe._matchGroup){for(var Ye in pe._matchGroup)if(Ye!==ze){var et=_e[i.id2name(Ye)];et.autorange=pe.autorange,et.range=pe.range.slice(),et._input.range=pe.range.slice()}}}return!0}function J(Me,Le){var Oe=Le?function(Be){var pe=[];for(var _e in Le){var Te=i.getFromId(Be,_e);if(pe.push(_e),(Te.ticklabelposition||"").indexOf("inside")!==-1&&Te._anchorAxis&&pe.push(Te._anchorAxis._id),Te._matchGroup)for(var Re in Te._matchGroup)Le[Re]||pe.push(Re)}return i.draw(Be,pe,{skipTitle:!0})}:function(Be){return i.draw(Be,"redraw")};Me.push(d,x.doAutoRangeAndConstraints,Oe,x.drawData,x.finalDraw)}var ee=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,ie=/^[xyz]axis[0-9]*\.autorange$/,oe=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function ae(Me,Le){var Oe,Be,pe,_e=Me.layout,Te=Me._fullLayout,Re=Te._guiEditing,Ne=V(Te._preGUI,Re),ze=Object.keys(Le),Ge=i.list(Me),Ye=_.extendDeepAll({},Le),et={};for(Q(Le),ze=Object.keys(Le),Be=0;Be<ze.length;Be++)if(ze[Be].indexOf("allaxes")===0){for(pe=0;pe<Ge.length;pe++){var ut=Ge[pe]._id.substr(1),ot=ut.indexOf("scene")!==-1?ut+".":"",yt=ze[Be].replace("allaxes",ot+Ge[pe]._name);Le[yt]||(Le[yt]=Le[ze[Be]])}delete Le[ze[Be]]}var wt=T.layoutFlags(),bt={},at={};function rt(dn,Kt){if(Array.isArray(dn))dn.forEach(function(rn){rt(rn,Kt)});else if(!(dn in Le)&&!y.hasParent(Le,dn)){var un=Ne(_e,dn);dn in at||(at[dn]=F(un.get())),Kt!==void 0&&un.set(Kt)}}var At,Rt={};function Ft(dn){var Kt=i.name2id(dn.split(".")[0]);return Rt[Kt]=1,Kt}for(var Dt in Le){if(y.hasParent(Le,Dt))throw new Error("cannot set "+Dt+" and a parent attribute simultaneously");for(var Xe=Ne(_e,Dt),Ke=Le[Dt],Ve=Xe.parts.length-1;Ve>0&&typeof Xe.parts[Ve]!="string";)Ve--;var Je=Xe.parts[Ve],ct=Xe.parts[Ve-1]+"."+Je,st=Xe.parts.slice(0,Ve).join("."),je=v(Me.layout,st).get(),Ue=v(Te,st).get(),lt=Xe.get();if(Ke!==void 0){bt[Dt]=Ke,at[Dt]=Je==="reverse"?Ke:F(lt);var Qe=a.getLayoutValObject(Te,Xe.parts);if(Qe&&Qe.impliedEdits&&Ke!==null)for(var gt in Qe.impliedEdits)rt(_.relativeAttr(Dt,gt),Qe.impliedEdits[gt]);if(["width","height"].indexOf(Dt)!==-1)if(Ke){rt("autosize",null);var mt=Dt==="height"?"width":"height";rt(mt,Te[mt])}else Te[Dt]=Me._initialAutoSize[Dt];else if(Dt==="autosize")rt("width",Ke?null:Te.width),rt("height",Ke?null:Te.height);else if(ct.match(ee))Ft(ct),v(Te,st+"._inputRange").set(null);else if(ct.match(ie)){Ft(ct),v(Te,st+"._inputRange").set(null);var xt=v(Te,st).get();xt._inputDomain&&(xt._input.domain=xt._inputDomain.slice())}else ct.match(oe)&&v(Te,st+"._inputDomain").set(null);if(Je==="type"){At=je;var dt=Ue.type==="linear"&&Ke==="log",Lt=Ue.type==="log"&&Ke==="linear";if(dt||Lt){if(At&&At.range)if(Ue.autorange)dt&&(At.range=At.range[1]>At.range[0]?[1,2]:[2,1]);else{var kt=At.range[0],_t=At.range[1];dt?(kt<=0&&_t<=0&&rt(st+".autorange",!0),kt<=0?kt=_t/1e6:_t<=0&&(_t=kt/1e6),rt(st+".range[0]",Math.log(kt)/Math.LN10),rt(st+".range[1]",Math.log(_t)/Math.LN10)):(rt(st+".range[0]",Math.pow(10,kt)),rt(st+".range[1]",Math.pow(10,_t)))}else rt(st+".autorange",!0);Array.isArray(Te._subplots.polar)&&Te._subplots.polar.length&&Te[Xe.parts[0]]&&Xe.parts[1]==="radialaxis"&&delete Te[Xe.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(Me,Ue,Ke,rt),t.getComponentMethod("images","convertCoords")(Me,Ue,Ke,rt)}else rt(st+".autorange",!0),rt(st+".range",null);v(Te,st+"._inputRange").set(null)}else if(Je.match(p)){var Ot=v(Te,Dt).get(),Pt=(Ke||{}).type;Pt&&Pt!=="-"||(Pt="linear"),t.getComponentMethod("annotations","convertCoords")(Me,Ot,Pt,rt),t.getComponentMethod("images","convertCoords")(Me,Ot,Pt,rt)}var Bt=m.containerArrayMatch(Dt);if(Bt){Oe=Bt.array,Be=Bt.index;var Jt=Bt.property,on=Qe||{editType:"calc"};Be!==""&&Jt===""&&(m.isAddVal(Ke)?at[Dt]=null:m.isRemoveVal(Ke)?at[Dt]=(v(_e,Oe).get()||[])[Be]:_.warn("unrecognized full object value",Le)),T.update(wt,on),et[Oe]||(et[Oe]={});var qt=et[Oe][Be];qt||(qt=et[Oe][Be]={}),qt[Jt]=Ke,delete Le[Dt]}else Je==="reverse"?(je.range?je.range.reverse():(rt(st+".autorange",!0),je.range=[1,0]),Ue.autorange?wt.calc=!0:wt.plot=!0):(Dt==="dragmode"&&(Ke===!1&&lt!==!1||Ke!==!1&&lt===!1)||Te._has("scatter-like")&&Te._has("regl")&&Dt==="dragmode"&&(Ke==="lasso"||Ke==="select")&&lt!=="lasso"&&lt!=="select"||Te._has("gl2d")?wt.plot=!0:Qe?T.update(wt,Qe):wt.calc=!0,Xe.set(Ke))}}for(Oe in et)m.applyContainerArrayChanges(Me,Ne(_e,Oe),et[Oe],wt,Ne)||(wt.plot=!0);for(var Gt in Rt){var nn=(At=i.getFromId(Me,Gt))&&At._constraintGroup;if(nn)for(var Cn in wt.calc=!0,nn)Rt[Cn]||(i.getFromId(Me,Cn)._constraintShrinkable=!0)}(ce(Me)||Le.height||Le.width)&&(wt.plot=!0);var An=Te.shapes;for(Be=0;Be<An.length;Be++)if(An[Be].showlegend){wt.calc=!0;break}return(wt.plot||wt.calc)&&(wt.layoutReplot=!0),{flags:wt,rangesAltered:Rt,undoit:at,redoit:bt,eventData:Ye}}function ce(Me){var Le=Me._fullLayout,Oe=Le.width,Be=Le.height;return Me.layout.autosize&&n.plotAutoSize(Me,Me.layout,Le),Le.width!==Oe||Le.height!==Be}function ge(Me,Le,Oe,Be){Me=_.getGraphDiv(Me),y.clearPromiseQueue(Me),_.isPlainObject(Le)||(Le={}),_.isPlainObject(Oe)||(Oe={}),Object.keys(Le).length&&(Me.changed=!0),Object.keys(Oe).length&&(Me.changed=!0);var pe=y.coerceTraceIndices(Me,Be),_e=te(Me,_.extendFlat({},Le),pe),Te=_e.flags,Re=ae(Me,_.extendFlat({},Oe)),Ne=Re.flags;(Te.calc||Ne.calc)&&(Me.calcdata=void 0),Te.clearAxisTypes&&y.clearAxisTypes(Me,pe,Oe);var ze=[];Ne.layoutReplot?ze.push(x.layoutReplot):Te.fullReplot?ze.push(L._doPlot):(ze.push(n.previousPromises),X(Me,Ne,Re)||n.supplyDefaults(Me),Te.style&&ze.push(x.doTraceStyle),(Te.colorbars||Ne.colorbars)&&ze.push(x.doColorBars),Ne.legend&&ze.push(x.doLegend),Ne.layoutstyle&&ze.push(x.layoutStyles),Ne.axrange&&J(ze,Re.rangesAltered),Ne.ticks&&ze.push(x.doTicksRelayout),Ne.modebar&&ze.push(x.doModeBar),Ne.camera&&ze.push(x.doCamera),ze.push(M)),ze.push(n.rehover,n.redrag,n.reselect),s.add(Me,ge,[Me,_e.undoit,Re.undoit,_e.traces],ge,[Me,_e.redoit,Re.redoit,_e.traces]);var Ge=_.syncOrAsync(ze,Me);return Ge&&Ge.then||(Ge=Promise.resolve(Me)),Ge.then(function(){return Me.emit("plotly_update",{data:_e.eventData,layout:Re.eventData}),Me})}function ve(Me){return function(Le){Le._fullLayout._guiEditing=!0;var Oe=Me.apply(null,arguments);return Le._fullLayout._guiEditing=!1,Oe}}var be=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],we=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function ye(Me,Le){for(var Oe=0;Oe<Le.length;Oe++){var Be=Le[Oe],pe=Me.match(Be.pattern);if(pe){var _e=pe[1]||"";return{head:_e,tail:Me.substr(_e.length+1),attr:Be.attr}}}}function me(Me,Le){var Oe=v(Le,Me).get();if(Oe!==void 0)return Oe;var Be=Me.split(".");for(Be.pop();Be.length>1;)if(Be.pop(),(Oe=v(Le,Be.join(".")+".uirevision").get())!==void 0)return Oe;return Le.uirevision}function Ae(Me,Le){for(var Oe=0;Oe<Le.length;Oe++)if(Le[Oe]._fullInput.uid===Me)return Oe;return-1}function ke(Me,Le,Oe){for(var Be=0;Be<Le.length;Be++)if(Le[Be].uid===Me)return Be;return!Le[Oe]||Le[Oe].uid?-1:Oe}function fe(Me,Le){var Oe=_.isPlainObject(Me),Be=Array.isArray(Me);return Oe||Be?(Oe&&_.isPlainObject(Le)||Be&&Array.isArray(Le))&&JSON.stringify(Me)===JSON.stringify(Le):Me===Le}function le(Me,Le,Oe,Be){var pe,_e,Te,Re=Be.getValObject,Ne=Be.flags,ze=Be.immutable,Ge=Be.inArray,Ye=Be.arrayIndex;function et(){var je=pe.editType;Ge&&je.indexOf("arraydraw")!==-1?_.pushUnique(Ne.arrays[Ge],Ye):(T.update(Ne,pe),je!=="none"&&Ne.nChanges++,Be.transition&&pe.anim&&Ne.nChangesAnim++,(ee.test(Te)||ie.test(Te))&&(Ne.rangesAltered[Oe[0]]=1),oe.test(Te)&&v(Le,"_inputDomain").set(null),_e==="datarevision"&&(Ne.newDataRevision=1))}function ut(je){return je.valType==="data_array"||je.arrayOk}for(_e in Me){if(Ne.calc&&!Be.transition)return;var ot=Me[_e],yt=Le[_e],wt=Oe.concat(_e);if(Te=wt.join("."),_e.charAt(0)!=="_"&&typeof ot!="function"&&ot!==yt){if((_e==="tick0"||_e==="dtick")&&Oe[0]!=="geo"){var bt=Le.tickmode;if(bt==="auto"||bt==="array"||!bt)continue}if((_e!=="range"||!Le.autorange)&&(_e!=="zmin"&&_e!=="zmax"||Le.type!=="contourcarpet")&&(pe=Re(wt))&&(!pe._compareAsJSON||JSON.stringify(ot)!==JSON.stringify(yt))){var at,rt=pe.valType,At=ut(pe),Rt=Array.isArray(ot),Ft=Array.isArray(yt);if(Rt&&Ft){var Dt="_input_"+_e,Xe=Me[Dt],Ke=Le[Dt];if(Array.isArray(Xe)&&Xe===Ke)continue}if(yt===void 0)At&&Rt?Ne.calc=!0:et();else if(pe._isLinkedToArray){var Ve=[],Je=!1;Ge||(Ne.arrays[_e]=Ve);var ct=Math.min(ot.length,yt.length),st=Math.max(ot.length,yt.length);if(ct!==st){if(pe.editType!=="arraydraw"){et();continue}Je=!0}for(at=0;at<ct;at++)le(ot[at],yt[at],wt.concat(at),_.extendFlat({inArray:_e,arrayIndex:at},Be));if(Je)for(at=ct;at<st;at++)Ve.push(at)}else!rt&&_.isPlainObject(ot)?le(ot,yt,wt,Be):At?Rt&&Ft?(ze&&(Ne.calc=!0),(ze||Be.newDataRevision)&&et()):Rt!==Ft?Ne.calc=!0:et():Rt&&Ft&&ot.length===yt.length&&String(ot)===String(yt)||et()}}}for(_e in Le)if(!(_e in Me)&&_e.charAt(0)!=="_"&&typeof Le[_e]!="function"){if(ut(pe=Re(Oe.concat(_e)))&&Array.isArray(Le[_e]))return void(Ne.calc=!0);et()}}function de(Me,Le){var Oe;for(Oe in Me)if(Oe.charAt(0)!=="_"){var Be=Me[Oe],pe=Le[Oe];if(Be!==pe)if(_.isPlainObject(Be)&&_.isPlainObject(pe)){if(de(Be,pe))return!0}else{if(!Array.isArray(Be)||!Array.isArray(pe)||Be.length!==pe.length)return!0;for(var _e=0;_e<Be.length;_e++)if(Be[_e]!==pe[_e]&&(!_.isPlainObject(Be[_e])||!_.isPlainObject(pe[_e])||de(Be[_e],pe[_e])))return!0}}}function Ce(Me){var Le=Me._fullLayout,Oe=Me.getBoundingClientRect();if(!_.equalDomRects(Oe,Le._lastBBox)){var Be=Le._invTransform=_.inverseTransformMatrix(_.getFullTransformMatrix(Me));Le._invScaleX=Math.sqrt(Be[0][0]*Be[0][0]+Be[0][1]*Be[0][1]+Be[0][2]*Be[0][2]),Le._invScaleY=Math.sqrt(Be[1][0]*Be[1][0]+Be[1][1]*Be[1][1]+Be[1][2]*Be[1][2]),Le._lastBBox=Oe}}L.animate=function(Me,Le,Oe){if(Me=_.getGraphDiv(Me),!_.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Be=Me._transitionData;Be._frameQueue||(Be._frameQueue=[]);var pe=(Oe=n.supplyAnimationDefaults(Oe)).transition,_e=Oe.frame;function Te(ze){return Array.isArray(pe)?ze>=pe.length?pe[0]:pe[ze]:pe}function Re(ze){return Array.isArray(_e)?ze>=_e.length?_e[0]:_e[ze]:_e}function Ne(ze,Ge){var Ye=0;return function(){if(ze&&++Ye===Ge)return ze()}}return Be._frameWaitingCnt===void 0&&(Be._frameWaitingCnt=0),new Promise(function(ze,Ge){function Ye(){Me.emit("plotly_animating"),Be._lastFrameAt=-1/0,Be._timeToNext=0,Be._runningTransitions=0,Be._currentFrame=null;var Dt=function(){Be._animationRaf=window.requestAnimationFrame(Dt),Date.now()-Be._lastFrameAt>Be._timeToNext&&function(){Be._currentFrame&&Be._currentFrame.onComplete&&Be._currentFrame.onComplete();var Xe=Be._currentFrame=Be._frameQueue.shift();if(Xe){var Ke=Xe.name?Xe.name.toString():null;Me._fullLayout._currentFrame=Ke,Be._lastFrameAt=Date.now(),Be._timeToNext=Xe.frameOpts.duration,n.transition(Me,Xe.frame.data,Xe.frame.layout,y.coerceTraceIndices(Me,Xe.frame.traces),Xe.frameOpts,Xe.transitionOpts).then(function(){Xe.onComplete&&Xe.onComplete()}),Me.emit("plotly_animatingframe",{name:Ke,frame:Xe.frame,animation:{frame:Xe.frameOpts,transition:Xe.transitionOpts}})}else Me.emit("plotly_animated"),window.cancelAnimationFrame(Be._animationRaf),Be._animationRaf=null}()};Dt()}var et,ut,ot=0;function yt(Dt){return Array.isArray(pe)?ot>=pe.length?Dt.transitionOpts=pe[ot]:Dt.transitionOpts=pe[0]:Dt.transitionOpts=pe,ot++,Dt}var wt=[],bt=Le==null,at=Array.isArray(Le);if(bt||at||!_.isPlainObject(Le)){if(bt||["string","number"].indexOf(typeof Le)!==-1)for(et=0;et<Be._frames.length;et++)(ut=Be._frames[et])&&(bt||String(ut.group)===String(Le))&&wt.push({type:"byname",name:String(ut.name),data:yt({name:ut.name})});else if(at)for(et=0;et<Le.length;et++){var rt=Le[et];["number","string"].indexOf(typeof rt)!==-1?(rt=String(rt),wt.push({type:"byname",name:rt,data:yt({name:rt})})):_.isPlainObject(rt)&&wt.push({type:"object",data:yt(_.extendFlat({},rt))})}}else wt.push({type:"object",data:yt(_.extendFlat({},Le))});for(et=0;et<wt.length;et++)if((ut=wt[et]).type==="byname"&&!Be._frameHash[ut.data.name])return _.warn('animate failure: frame not found: "'+ut.data.name+'"'),void Ge();["next","immediate"].indexOf(Oe.mode)!==-1&&function(){if(Be._frameQueue.length!==0){for(;Be._frameQueue.length;){var Dt=Be._frameQueue.pop();Dt.onInterrupt&&Dt.onInterrupt()}Me.emit("plotly_animationinterrupted",[])}}(),Oe.direction==="reverse"&&wt.reverse();var At=Me._fullLayout._currentFrame;if(At&&Oe.fromcurrent){var Rt=-1;for(et=0;et<wt.length;et++)if((ut=wt[et]).type==="byname"&&ut.name===At){Rt=et;break}if(Rt>0&&Rt<wt.length-1){var Ft=[];for(et=0;et<wt.length;et++)ut=wt[et],(wt[et].type!=="byname"||et>Rt)&&Ft.push(ut);wt=Ft}}wt.length>0?function(Dt){if(Dt.length!==0){for(var Xe=0;Xe<Dt.length;Xe++){var Ke;Ke=Dt[Xe].type==="byname"?n.computeFrame(Me,Dt[Xe].name):Dt[Xe].data;var Ve=Re(Xe),Je=Te(Xe);Je.duration=Math.min(Je.duration,Ve.duration);var ct={frame:Ke,name:Dt[Xe].name,frameOpts:Ve,transitionOpts:Je};Xe===Dt.length-1&&(ct.onComplete=Ne(ze,2),ct.onInterrupt=Ge),Be._frameQueue.push(ct)}Oe.mode==="immediate"&&(Be._lastFrameAt=-1/0),Be._animationRaf||Ye()}}(wt):(Me.emit("plotly_animated"),ze())})},L.addFrames=function(Me,Le,Oe){if(Me=_.getGraphDiv(Me),Le==null)return Promise.resolve();if(!_.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Be,pe,_e,Te,Re=Me._transitionData._frames,Ne=Me._transitionData._frameHash;if(!Array.isArray(Le))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Le);var ze=Re.length+2*Le.length,Ge=[],Ye={};for(Be=Le.length-1;Be>=0;Be--)if(_.isPlainObject(Le[Be])){var et=Le[Be].name,ut=(Ne[et]||Ye[et]||{}).name,ot=Le[Be].name,yt=Ne[ut]||Ye[ut];ut&&ot&&typeof ot=="number"&&yt&&S<5&&(S++,_.warn('addFrames: overwriting frame "'+(Ne[ut]||Ye[ut]).name+'" with a frame whose name of type "number" also equates to "'+ut+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),S===5&&_.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Ye[et]={name:et},Ge.push({frame:n.supplyFrameDefaults(Le[Be]),index:Oe&&Oe[Be]!==void 0&&Oe[Be]!==null?Oe[Be]:ze+Be})}Ge.sort(function(Dt,Xe){return Dt.index>Xe.index?-1:Dt.index<Xe.index?1:0});var wt=[],bt=[],at=Re.length;for(Be=Ge.length-1;Be>=0;Be--){if(typeof(pe=Ge[Be].frame).name=="number"&&_.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!pe.name)for(;Ne[pe.name="frame "+Me._transitionData._counter++];);if(Ne[pe.name]){for(_e=0;_e<Re.length&&(Re[_e]||{}).name!==pe.name;_e++);wt.push({type:"replace",index:_e,value:pe}),bt.unshift({type:"replace",index:_e,value:Re[_e]})}else Te=Math.max(0,Math.min(Ge[Be].index,at)),wt.push({type:"insert",index:Te,value:pe}),bt.unshift({type:"delete",index:Te}),at++}var rt=n.modifyFrames,At=n.modifyFrames,Rt=[Me,bt],Ft=[Me,wt];return s&&s.add(Me,rt,Rt,At,Ft),n.modifyFrames(Me,wt)},L.deleteFrames=function(Me,Le){if(Me=_.getGraphDiv(Me),!_.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me);var Oe,Be,pe=Me._transitionData._frames,_e=[],Te=[];if(!Le)for(Le=[],Oe=0;Oe<pe.length;Oe++)Le.push(Oe);for((Le=Le.slice()).sort(),Oe=Le.length-1;Oe>=0;Oe--)Be=Le[Oe],_e.push({type:"delete",index:Be}),Te.unshift({type:"insert",index:Be,value:pe[Be]});var Re=n.modifyFrames,Ne=n.modifyFrames,ze=[Me,Te],Ge=[Me,_e];return s&&s.add(Me,Re,ze,Ne,Ge),n.modifyFrames(Me,_e)},L.addTraces=function Me(Le,Oe,Be){Le=_.getGraphDiv(Le);var pe,_e,Te=[],Re=L.deleteTraces,Ne=Me,ze=[Le,Te],Ge=[Le,Oe];for(function(Ye,et,ut){var ot,yt;if(!Array.isArray(Ye.data))throw new Error("gd.data must be an array.");if(et===void 0)throw new Error("traces must be defined.");for(Array.isArray(et)||(et=[et]),ot=0;ot<et.length;ot++)if(typeof(yt=et[ot])!="object"||Array.isArray(yt)||yt===null)throw new Error("all values in traces array must be non-array objects");if(ut===void 0||Array.isArray(ut)||(ut=[ut]),ut!==void 0&&ut.length!==et.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(Le,Oe,Be),Array.isArray(Oe)||(Oe=[Oe]),Oe=Oe.map(function(Ye){return _.extendFlat({},Ye)}),y.cleanData(Oe),pe=0;pe<Oe.length;pe++)Le.data.push(Oe[pe]);for(pe=0;pe<Oe.length;pe++)Te.push(-Oe.length+pe);if(Be===void 0)return _e=L.redraw(Le),s.add(Le,Re,ze,Ne,Ge),_e;Array.isArray(Be)||(Be=[Be]);try{U(Le,Te,Be)}catch(Ye){throw Le.data.splice(Le.data.length-Oe.length,Oe.length),Ye}return s.startSequence(Le),s.add(Le,Re,ze,Ne,Ge),_e=L.moveTraces(Le,Te,Be),s.stopSequence(Le),_e},L.deleteTraces=function Me(Le,Oe){Le=_.getGraphDiv(Le);var Be,pe,_e=[],Te=L.addTraces,Re=Me,Ne=[Le,_e,Oe],ze=[Le,Oe];if(Oe===void 0)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Oe)||(Oe=[Oe]),R(Le,Oe,"indices"),(Oe=I(Oe,Le.data.length-1)).sort(_.sorterDes),Be=0;Be<Oe.length;Be+=1)pe=Le.data.splice(Oe[Be],1)[0],_e.push(pe);var Ge=L.redraw(Le);return s.add(Le,Te,Ne,Re,ze),Ge},L.extendTraces=function Me(Le,Oe,Be,pe){var _e=z(Le=_.getGraphDiv(Le),Oe,Be,pe,function(Ne,ze,Ge){var Ye,et;if(_.isTypedArray(Ne))if(Ge<0){var ut=new Ne.constructor(0),ot=j(Ne,ze);Ge<0?(Ye=ot,et=ut):(Ye=ut,et=ot)}else if(Ye=new Ne.constructor(Ge),et=new Ne.constructor(Ne.length+ze.length-Ge),Ge===ze.length)Ye.set(ze),et.set(Ne);else if(Ge<ze.length){var yt=ze.length-Ge;Ye.set(ze.subarray(yt)),et.set(Ne),et.set(ze.subarray(0,yt),Ne.length)}else{var wt=Ge-ze.length,bt=Ne.length-wt;Ye.set(Ne.subarray(bt)),Ye.set(ze,wt),et.set(Ne.subarray(0,bt))}else Ye=Ne.concat(ze),et=Ge>=0&&Ge<Ye.length?Ye.splice(0,Ye.length-Ge):[];return[Ye,et]}),Te=L.redraw(Le),Re=[Le,_e.update,Be,_e.maxPoints];return s.add(Le,L.prependTraces,Re,Me,arguments),Te},L.moveTraces=function Me(Le,Oe,Be){var pe,_e=[],Te=[],Re=Me,Ne=Me,ze=[Le=_.getGraphDiv(Le),Be,Oe],Ge=[Le,Oe,Be];if(U(Le,Oe,Be),Oe=Array.isArray(Oe)?Oe:[Oe],Be===void 0)for(Be=[],pe=0;pe<Oe.length;pe++)Be.push(-Oe.length+pe);for(Be=Array.isArray(Be)?Be:[Be],Oe=I(Oe,Le.data.length-1),Be=I(Be,Le.data.length-1),pe=0;pe<Le.data.length;pe++)Oe.indexOf(pe)===-1&&_e.push(Le.data[pe]);for(pe=0;pe<Oe.length;pe++)Te.push({newIndex:Be[pe],trace:Le.data[Oe[pe]]});for(Te.sort(function(et,ut){return et.newIndex-ut.newIndex}),pe=0;pe<Te.length;pe+=1)_e.splice(Te[pe].newIndex,0,Te[pe].trace);Le.data=_e;var Ye=L.redraw(Le);return s.add(Le,Re,ze,Ne,Ge),Ye},L.prependTraces=function Me(Le,Oe,Be,pe){var _e=z(Le=_.getGraphDiv(Le),Oe,Be,pe,function(Ne,ze,Ge){var Ye,et;if(_.isTypedArray(Ne))if(Ge<=0){var ut=new Ne.constructor(0),ot=j(ze,Ne);Ge<0?(Ye=ot,et=ut):(Ye=ut,et=ot)}else if(Ye=new Ne.constructor(Ge),et=new Ne.constructor(Ne.length+ze.length-Ge),Ge===ze.length)Ye.set(ze),et.set(Ne);else if(Ge<ze.length){var yt=ze.length-Ge;Ye.set(ze.subarray(0,yt)),et.set(ze.subarray(yt)),et.set(Ne,yt)}else{var wt=Ge-ze.length;Ye.set(ze),Ye.set(Ne.subarray(0,wt),ze.length),et.set(Ne.subarray(wt))}else Ye=ze.concat(Ne),et=Ge>=0&&Ge<Ye.length?Ye.splice(Ge,Ye.length):[];return[Ye,et]}),Te=L.redraw(Le),Re=[Le,_e.update,Be,_e.maxPoints];return s.add(Le,L.extendTraces,Re,Me,arguments),Te},L.newPlot=function(Me,Le,Oe,Be){return Me=_.getGraphDiv(Me),n.cleanPlot([],{},Me._fullData||[],Me._fullLayout||{}),n.purge(Me),L._doPlot(Me,Le,Oe,Be)},L._doPlot=function(Me,Le,Oe,Be){var pe;if(Me=_.getGraphDiv(Me),f.init(Me),_.isPlainObject(Le)){var _e=Le;Le=_e.data,Oe=_e.layout,Be=_e.config,pe=_e.frames}if(f.triggerHandler(Me,"plotly_beforeplot",[Le,Oe,Be])===!1)return Promise.reject();Le||Oe||_.isPlotDiv(Me)||_.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Me),O(Me,Be),Oe||(Oe={}),k.select(Me).classed("js-plotly-plot",!0),u.makeTester(),Array.isArray(Me._promises)||(Me._promises=[]);var Te=(Me.data||[]).length===0&&Array.isArray(Le);Array.isArray(Le)&&(y.cleanData(Le),Te?Me.data=Le:Me.data.push.apply(Me.data,Le),Me.empty=!1),Me.layout&&!Te||(Me.layout=y.cleanLayout(Oe)),n.supplyDefaults(Me);var Re=Me._fullLayout,Ne=Re._has("cartesian");Re._replotting=!0,(Te||Re._shouldCreateBgLayer)&&(function(bt){var at=k.select(bt),rt=bt._fullLayout;if(rt._calcInverseTransform=Ce,rt._calcInverseTransform(bt),rt._container=at.selectAll(".plot-container").data([0]),rt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),rt._paperdiv=rt._container.selectAll(".svg-container").data([0]),rt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),rt._glcontainer=rt._paperdiv.selectAll(".gl-container").data([{}]),rt._glcontainer.enter().append("div").classed("gl-container",!0),rt._paperdiv.selectAll(".main-svg").remove(),rt._paperdiv.select(".modebar-container").remove(),rt._paper=rt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),rt._toppaper=rt._paperdiv.append("svg").classed("main-svg",!0),rt._modebardiv=rt._paperdiv.append("div"),delete rt._modeBar,rt._hoverpaper=rt._paperdiv.append("svg").classed("main-svg",!0),!rt._uid){var At={};k.selectAll("defs").each(function(){this.id&&(At[this.id.split("-")[1]]=1)}),rt._uid=_.randstr(At)}rt._paperdiv.selectAll(".main-svg").attr(b.svgAttrs),rt._defs=rt._paper.append("defs").attr("id","defs-"+rt._uid),rt._clips=rt._defs.append("g").classed("clips",!0),rt._topdefs=rt._toppaper.append("defs").attr("id","topdefs-"+rt._uid),rt._topclips=rt._topdefs.append("g").classed("clips",!0),rt._bgLayer=rt._paper.append("g").classed("bglayer",!0),rt._draggers=rt._paper.append("g").classed("draglayer",!0);var Rt=rt._paper.append("g").classed("layer-below",!0);rt._imageLowerLayer=Rt.append("g").classed("imagelayer",!0),rt._shapeLowerLayer=Rt.append("g").classed("shapelayer",!0),rt._cartesianlayer=rt._paper.append("g").classed("cartesianlayer",!0),rt._polarlayer=rt._paper.append("g").classed("polarlayer",!0),rt._smithlayer=rt._paper.append("g").classed("smithlayer",!0),rt._ternarylayer=rt._paper.append("g").classed("ternarylayer",!0),rt._geolayer=rt._paper.append("g").classed("geolayer",!0),rt._funnelarealayer=rt._paper.append("g").classed("funnelarealayer",!0),rt._pielayer=rt._paper.append("g").classed("pielayer",!0),rt._iciclelayer=rt._paper.append("g").classed("iciclelayer",!0),rt._treemaplayer=rt._paper.append("g").classed("treemaplayer",!0),rt._sunburstlayer=rt._paper.append("g").classed("sunburstlayer",!0),rt._indicatorlayer=rt._toppaper.append("g").classed("indicatorlayer",!0),rt._glimages=rt._paper.append("g").classed("glimages",!0);var Ft=rt._toppaper.append("g").classed("layer-above",!0);rt._imageUpperLayer=Ft.append("g").classed("imagelayer",!0),rt._shapeUpperLayer=Ft.append("g").classed("shapelayer",!0),rt._selectionLayer=rt._toppaper.append("g").classed("selectionlayer",!0),rt._infolayer=rt._toppaper.append("g").classed("infolayer",!0),rt._menulayer=rt._toppaper.append("g").classed("menulayer",!0),rt._zoomlayer=rt._toppaper.append("g").classed("zoomlayer",!0),rt._hoverlayer=rt._hoverpaper.append("g").classed("hoverlayer",!0),rt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),bt.emit("plotly_framework")}(Me),Re._shouldCreateBgLayer&&delete Re._shouldCreateBgLayer),u.initGradients(Me),u.initPatterns(Me),Te&&i.saveShowSpikeInitial(Me);var ze=!Me.calcdata||Me.calcdata.length!==(Me._fullData||[]).length;ze&&n.doCalcdata(Me);for(var Ge=0;Ge<Me.calcdata.length;Ge++)Me.calcdata[Ge][0].trace=Me._fullData[Ge];Me._context.responsive?Me._responsiveChartHandler||(Me._responsiveChartHandler=function(){_.isHidden(Me)||n.resize(Me)},window.addEventListener("resize",Me._responsiveChartHandler)):_.clearResponsive(Me);var Ye=_.extendFlat({},Re._size),et=0;function ut(){if(n.clearAutoMarginIds(Me),x.drawMarginPushers(Me),i.allowAutoMargin(Me),Me._fullLayout.title.text&&Me._fullLayout.title.automargin&&n.allowAutoMargin(Me,"title.automargin"),Re._has("pie"))for(var bt=Me._fullData,at=0;at<bt.length;at++){var rt=bt[at];rt.type==="pie"&&rt.automargin&&n.allowAutoMargin(Me,"pie."+rt.uid+".automargin")}return n.doAutoMargin(Me),n.previousPromises(Me)}function ot(){Me._transitioning||(x.doAutoRangeAndConstraints(Me),Te&&i.saveRangeInitial(Me),t.getComponentMethod("rangeslider","calcAutorange")(Me))}var yt=[n.previousPromises,function(){if(pe)return L.addFrames(Me,pe)},function bt(){for(var at=Re._basePlotModules,rt=0;rt<at.length;rt++)at[rt].drawFramework&&at[rt].drawFramework(Me);!Re._glcanvas&&Re._has("gl")&&(Re._glcanvas=Re._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Dt){return Dt.key}),Re._glcanvas.enter().append("canvas").attr("class",function(Dt){return"gl-canvas gl-canvas-"+Dt.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var At=Me._context.plotGlPixelRatio;if(Re._glcanvas){Re._glcanvas.attr("width",Re.width*At).attr("height",Re.height*At).style("width",Re.width+"px").style("height",Re.height+"px");var Rt=Re._glcanvas.data()[0].regl;if(Rt&&(Math.floor(Re.width*At)!==Rt._gl.drawingBufferWidth||Math.floor(Re.height*At)!==Rt._gl.drawingBufferHeight)){var Ft="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!et)return _.log(Ft+" Clearing graph and plotting again."),n.cleanPlot([],{},Me._fullData,Re),n.supplyDefaults(Me),Re=Me._fullLayout,n.doCalcdata(Me),et++,bt();_.error(Ft)}}return Re.modebar.orientation==="h"?Re._modebardiv.style("height",null).style("width","100%"):Re._modebardiv.style("width",null).style("height",Re.height+"px"),n.previousPromises(Me)},ut,function(){if(n.didMarginChange(Ye,Re._size))return _.syncOrAsync([ut,x.layoutStyles],Me)}];Ne&&yt.push(function(){if(ze)return _.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),ot],Me);ot()}),yt.push(x.layoutStyles),Ne&&yt.push(function(){return i.draw(Me,Te?"":"redraw")},function(bt){var at=bt._fullLayout._insideTickLabelsUpdaterange;if(at)return bt._fullLayout._insideTickLabelsUpdaterange=void 0,K(bt,at).then(function(){i.saveRangeInitial(bt,!0)})}),yt.push(x.drawData,x.finalDraw,c,n.addLinks,n.rehover,n.redrag,n.reselect,n.doAutoMargin,n.previousPromises);var wt=_.syncOrAsync(yt,Me);return wt&&wt.then||(wt=Promise.resolve()),wt.then(function(){return M(Me),Me})},L.purge=function(Me){var Le=(Me=_.getGraphDiv(Me))._fullLayout||{},Oe=Me._fullData||[];return n.cleanPlot([],{},Oe,Le),n.purge(Me),f.purge(Me),Le._container&&Le._container.remove(),delete Me._context,Me},L.react=function(Me,Le,Oe,Be){var pe,_e;Me=_.getGraphDiv(Me),y.clearPromiseQueue(Me);var Te=Me._fullData,Re=Me._fullLayout;if(_.isPlotDiv(Me)&&Te&&Re){if(_.isPlainObject(Le)){var Ne=Le;Le=Ne.data,Oe=Ne.layout,Be=Ne.config,pe=Ne.frames}var ze=!1;if(Be){var Ge=_.extendDeep({},Me._context);Me._context=void 0,O(Me,Be),ze=de(Ge,Me._context)}Me.data=Le||[],y.cleanData(Me.data),Me.layout=Oe||{},y.cleanLayout(Me.layout),function(st,je,Ue,lt){var Qe,gt,mt,xt,dt,Lt,kt,_t,Ot,Pt,Bt=lt._preGUI,Jt=[],on={},qt={};for(Qe in Bt){if(dt=ye(Qe,be)){if(Ot=dt.head,Pt=dt.tail,gt=dt.attr||Ot+".uirevision",(xt=(mt=v(lt,gt).get())&&me(gt,je))&&xt===mt){if((Lt=Bt[Qe])===null&&(Lt=void 0),fe(_t=(kt=v(je,Qe)).get(),Lt)){_t===void 0&&Pt==="autorange"&&Jt.push(Ot),kt.set(F(v(lt,Qe).get()));continue}if(Pt==="autorange"||Pt.substr(0,6)==="range["){var Gt=Bt[Ot+".range[0]"],nn=Bt[Ot+".range[1]"],Cn=Bt[Ot+".autorange"];if(Cn||Cn===null&&Gt===null&&nn===null){if(!(Ot in on)){var An=v(je,Ot).get();on[Ot]=An&&(An.autorange||An.autorange!==!1&&(!An.range||An.range.length!==2))}if(on[Ot]){kt.set(F(v(lt,Qe).get()));continue}}}}}else _.warn("unrecognized GUI edit: "+Qe);delete Bt[Qe],dt&&dt.tail.substr(0,6)==="range["&&(qt[dt.head]=1)}for(var dn=0;dn<Jt.length;dn++){var Kt=Jt[dn];if(qt[Kt]){var un=v(je,Kt).get();un&&delete un.autorange}}var rn=lt._tracePreGUI;for(var hn in rn){var kn,Sn=rn[hn],Rn=null;for(Qe in Sn){if(!Rn){var zn=Ae(hn,Ue);if(zn<0){delete rn[hn];break}var Pn=ke(hn,st,(kn=Ue[zn]._fullInput).index);if(Pn<0){delete rn[hn];break}Rn=st[Pn]}if(dt=ye(Qe,we)){if(dt.attr?xt=(mt=v(lt,dt.attr).get())&&me(dt.attr,je):(mt=kn.uirevision,(xt=Rn.uirevision)===void 0&&(xt=je.uirevision)),xt&&xt===mt&&((Lt=Sn[Qe])===null&&(Lt=void 0),fe(_t=(kt=v(Rn,Qe)).get(),Lt))){kt.set(F(v(kn,Qe).get()));continue}}else _.warn("unrecognized GUI edit: "+Qe+" in trace uid "+hn);delete Sn[Qe]}}}(Me.data,Me.layout,Te,Re),n.supplyDefaults(Me,{skipUpdateCalc:!0});var Ye=Me._fullData,et=Me._fullLayout,ut=et.datarevision===void 0,ot=et.transition,yt=function(st,je,Ue,lt,Qe){var gt=T.layoutFlags();return gt.arrays={},gt.rangesAltered={},gt.nChanges=0,gt.nChangesAnim=0,le(je,Ue,[],{getValObject:function(mt){return a.getLayoutValObject(Ue,mt)},flags:gt,immutable:lt,transition:Qe,gd:st}),(gt.plot||gt.calc)&&(gt.layoutReplot=!0),Qe&&gt.nChanges&&gt.nChangesAnim&&(gt.anim=gt.nChanges===gt.nChangesAnim?"all":"some"),gt}(Me,Re,et,ut,ot),wt=yt.newDataRevision,bt=function(st,je,Ue,lt,Qe,gt){var mt=je.length===Ue.length;if(!Qe&&!mt)return{fullReplot:!0,calc:!0};var xt,dt,Lt=T.traceFlags();Lt.arrays={},Lt.nChanges=0,Lt.nChangesAnim=0;var kt={getValObject:function(Ot){var Pt=a.getTraceValObject(dt,Ot);return!dt._module.animatable&&Pt.anim&&(Pt.anim=!1),Pt},flags:Lt,immutable:lt,transition:Qe,newDataRevision:gt,gd:st},_t={};for(xt=0;xt<je.length;xt++)if(Ue[xt]){if(dt=Ue[xt]._fullInput,n.hasMakesDataTransform(dt)&&(dt=Ue[xt]),_t[dt.uid])continue;_t[dt.uid]=1,le(je[xt]._fullInput,dt,[],kt)}return(Lt.calc||Lt.plot)&&(Lt.fullReplot=!0),Qe&&Lt.nChanges&&Lt.nChangesAnim&&(Lt.anim=Lt.nChanges===Lt.nChangesAnim&&mt?"all":"some"),Lt}(Me,Te,Ye,ut,ot,wt);if(ce(Me)&&(yt.layoutReplot=!0),bt.calc||yt.calc){Me.calcdata=void 0;for(var at=Object.getOwnPropertyNames(et),rt=0;rt<at.length;rt++){var At=at[rt],Rt=At.substring(0,5);if(Rt==="xaxis"||Rt==="yaxis"){var Ft=et[At]._emptyCategories;Ft&&Ft()}}}else n.supplyDefaultsUpdateCalc(Me.calcdata,Ye);var Dt=[];if(pe&&(Me._transitionData={},n.createTransitionData(Me),Dt.push(function(){return L.addFrames(Me,pe)})),et.transition&&!ze&&(bt.anim||yt.anim))yt.ticks&&Dt.push(x.doTicksRelayout),n.doCalcdata(Me),x.doAutoRangeAndConstraints(Me),Dt.push(function(){return n.transitionFromReact(Me,bt,yt,Re)});else if(bt.fullReplot||yt.layoutReplot||ze)Me._fullLayout._skipDefaults=!0,Dt.push(L._doPlot);else{for(var Xe in yt.arrays){var Ke=yt.arrays[Xe];if(Ke.length){var Ve=t.getComponentMethod(Xe,"drawOne");if(Ve!==_.noop)for(var Je=0;Je<Ke.length;Je++)Ve(Me,Ke[Je]);else{var ct=t.getComponentMethod(Xe,"draw");if(ct===_.noop)throw new Error("cannot draw components: "+Xe);ct(Me)}}}Dt.push(n.previousPromises),bt.style&&Dt.push(x.doTraceStyle),(bt.colorbars||yt.colorbars)&&Dt.push(x.doColorBars),yt.legend&&Dt.push(x.doLegend),yt.layoutstyle&&Dt.push(x.layoutStyles),yt.axrange&&J(Dt),yt.ticks&&Dt.push(x.doTicksRelayout),yt.modebar&&Dt.push(x.doModeBar),yt.camera&&Dt.push(x.doCamera),Dt.push(M)}Dt.push(n.rehover,n.redrag,n.reselect),(_e=_.syncOrAsync(Dt,Me))&&_e.then||(_e=Promise.resolve(Me))}else _e=L.newPlot(Me,Le,Oe,Be);return _e.then(function(){return Me.emit("plotly_react",{data:Le,layout:Oe}),Me})},L.redraw=function(Me){if(Me=_.getGraphDiv(Me),!_.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me);return y.cleanData(Me.data),y.cleanLayout(Me.layout),Me.calcdata=void 0,L._doPlot(Me).then(function(){return Me.emit("plotly_redraw"),Me})},L.relayout=K,L.restyle=W,L.setPlotConfig=function(Me){return _.extendFlat(g,Me)},L.update=ge,L._guiRelayout=ve(K),L._guiRestyle=ve(W),L._guiUpdate=ve(ge),L._storeDirectGUIEdit=function(Me,Le,Oe){for(var Be in Oe)H(Be,v(Me,Be).get(),Oe[Be],Le)}},20556:function(B){var L={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};(function k(w,r){for(var _ in w){var v=w[_];v.valType?r[_]=v.dflt:(r[_]||(r[_]={}),k(v,r[_]))}})(L,e),B.exports={configAttributes:L,dfltConfig:e}},73060:function(B,L,e){var k=e(24040),w=e(3400),r=e(45464),_=e(64859),v=e(16672),f=e(85656),s=e(20556).configAttributes,t=e(67824),a=w.extendDeepAll,n=w.isPlainObject,i=w.isArrayOrTypedArray,l=w.nestedProperty,o=w.valObjectMeta,u="_isSubplotObj",h="_isLinkedToArray",c="_deprecated",b=[u,h,"_arrayAttrRegexps",c];function d(p,S,M){if(!p)return!1;if(p._isLinkedToArray){if(g(S[M]))M++;else if(M<S.length)return!1}for(;M<S.length;M++){var E=p[S[M]];if(!n(E)||(p=E,M===S.length-1))break;if(p._isLinkedToArray){if(!g(S[++M]))return!1}else if(p.valType==="info_array"){var P=S[++M];if(!g(P))return!1;var O=p.items;if(Array.isArray(O)){if(P>=O.length)return!1;if(p.dimensions===2){if(M++,S.length===M)return p;var I=S[M];if(!g(I))return!1;p=O[P][I]}else p=O[P]}else p=O}}return p}function g(p){return p===Math.round(p)&&p>=0}function m(){var p,S,M={};for(p in a(M,_),k.subplotsRegistry)if((S=k.subplotsRegistry[p]).layoutAttributes)if(Array.isArray(S.attr))for(var E=0;E<S.attr.length;E++)x(M,S,S.attr[E]);else x(M,S,S.attr==="subplot"?S.name:S.attr);for(p in k.componentsRegistry){var P=(S=k.componentsRegistry[p]).schema;if(P&&(P.subplots||P.layout)){var O=P.subplots;if(O&&O.xaxis&&!O.yaxis)for(var I in O.xaxis)delete M.yaxis[I];delete M.xaxis.shift,delete M.xaxis.autoshift}else S.name==="colorscale"?a(M,S.layoutAttributes):S.layoutAttributes&&T(M,S.layoutAttributes,S.name)}return{layoutAttributes:y(M)}}function y(p){return function(S){L.crawl(S,function(M,E,P){L.isValObject(M)?M.arrayOk!==!0&&M.valType!=="data_array"||(P[E+"src"]={valType:"string",editType:"none"}):n(M)&&(M.role="object")})}(p),function(S){L.crawl(S,function(M,E,P){if(M){var O=M[h];O&&(delete M[h],P[E]={items:{}},P[E].items[O]=M,P[E].role="object")}})}(p),function(S){(function M(E){for(var P in E)if(n(E[P]))M(E[P]);else if(Array.isArray(E[P]))for(var O=0;O<E[P].length;O++)M(E[P][O]);else E[P]instanceof RegExp&&(E[P]=E[P].toString())})(S)}(p),p}function x(p,S,M){var E=l(p,M),P=a({},S.layoutAttributes);P[u]=!0,E.set(P)}function T(p,S,M){var E=l(p,M);E.set(a(E.get()||{},S))}L.IS_SUBPLOT_OBJ=u,L.IS_LINKED_TO_ARRAY=h,L.DEPRECATED=c,L.UNDERSCORE_ATTRS=b,L.get=function(){var p={};k.allTypes.forEach(function(E){p[E]=function(P){var O,I;I=(O=k.modules[P]._module).basePlotModule;var R={type:null},U=a({},r),z=a({},O.attributes);L.crawl(z,function(F,V,H,te,Q){l(U,Q).set(void 0),F===void 0&&l(z,Q).set(void 0)}),a(R,U),k.traceIs(P,"noOpacity")&&delete R.opacity,k.traceIs(P,"showLegend")||(delete R.showlegend,delete R.legendgroup),k.traceIs(P,"noHover")&&(delete R.hoverinfo,delete R.hoverlabel),O.selectPoints||delete R.selectedpoints,a(R,z),I.attributes&&a(R,I.attributes),R.type=P;var j={meta:O.meta||{},categories:O.categories||{},animatable:!!O.animatable,type:P,attributes:y(R)};if(O.layoutAttributes){var W={};a(W,O.layoutAttributes),j.layoutAttributes=y(W)}return O.animatable||L.crawl(j,function(F){L.isValObject(F)&&"anim"in F&&delete F.anim}),j}(E)});var S,M={};return Object.keys(k.transformsRegistry).forEach(function(E){M[E]=function(P){var O=k.transformsRegistry[P],I=a({},O.attributes);return Object.keys(k.componentsRegistry).forEach(function(R){var U=k.componentsRegistry[R];U.schema&&U.schema.transforms&&U.schema.transforms[P]&&Object.keys(U.schema.transforms[P]).forEach(function(z){T(I,U.schema.transforms[P][z],z)})}),{attributes:y(I)}}(E)}),{defs:{valObjects:o,metaKeys:b.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:p,layout:m(),transforms:M,frames:(S={frames:a({},v)},y(S),S.frames),animation:y(f),config:y(s)}},L.crawl=function(p,S,M,E){var P=M||0;E=E||"",Object.keys(p).forEach(function(O){var I=p[O];if(b.indexOf(O)===-1){var R=(E?E+".":"")+O;S(I,O,p,P,R),L.isValObject(I)||n(I)&&O!=="impliedEdits"&&L.crawl(I,S,P+1,R)}})},L.isValObject=function(p){return p&&p.valType!==void 0},L.findArrayAttributes=function(p){var S,M,E=[],P=[],O=[];function I(F,V,H,te){P=P.slice(0,te).concat([V]),O=O.slice(0,te).concat([F&&F._isLinkedToArray]),F&&(F.valType==="data_array"||F.arrayOk===!0)&&(P[te-1]!=="colorbar"||V!=="ticktext"&&V!=="tickvals")&&R(S,0,"")}function R(F,V,H){var te=F[P[V]],Q=H+P[V];if(V===P.length-1)i(te)&&E.push(M+Q);else if(O[V]){if(Array.isArray(te))for(var K=0;K<te.length;K++)n(te[K])&&R(te[K],V+1,Q+"["+K+"].")}else n(te)&&R(te,V+1,Q+".")}S=p,M="",L.crawl(r,I),p._module&&p._module.attributes&&L.crawl(p._module.attributes,I);var U=p.transforms;if(U)for(var z=0;z<U.length;z++){var j=U[z],W=j._module;W&&(M="transforms["+z+"].",S=j,L.crawl(W.attributes,I))}return E},L.getTraceValObject=function(p,S){var M,E,P=S[0],O=1;if(P==="transforms"){if(S.length===1)return r.transforms;var I=p.transforms;if(!Array.isArray(I)||!I.length)return!1;var R=S[1];if(!g(R)||R>=I.length)return!1;E=(M=(k.transformsRegistry[I[R].type]||{}).attributes)&&M[S[2]],O=3}else{var U=p._module;if(U||(U=(k.modules[p.type||r.type.dflt]||{})._module),!U)return!1;if(!(E=(M=U.attributes)&&M[P])){var z=U.basePlotModule;z&&z.attributes&&(E=z.attributes[P])}E||(E=r[P])}return d(E,S,O)},L.getLayoutValObject=function(p,S){var M=function(E,P){var O,I,R,U,z=E._basePlotModules;if(z){var j;for(O=0;O<z.length;O++){if((R=z[O]).attrRegex&&R.attrRegex.test(P)){if(R.layoutAttrOverrides)return R.layoutAttrOverrides;!j&&R.layoutAttributes&&(j=R.layoutAttributes)}var W=R.baseLayoutAttrOverrides;if(W&&P in W)return W[P]}if(j)return j}var F=E._modules;if(F){for(O=0;O<F.length;O++)if((U=F[O].layoutAttributes)&&P in U)return U[P]}for(I in k.componentsRegistry){if((R=k.componentsRegistry[I]).name==="colorscale"&&P.indexOf("coloraxis")===0)return R.layoutAttributes[P];if(!R.schema&&P===R.name)return R.layoutAttributes}return P in _&&_[P]}(p,S[0]);return d(M,S,1)}},31780:function(B,L,e){var k=e(3400),w=e(45464),r="templateitemname",_={name:{valType:"string",editType:"none"}};function v(s){return s&&typeof s=="string"}function f(s){var t=s.length-1;return s.charAt(t)!=="s"&&k.warn("bad argument to arrayDefaultKey: "+s),s.substr(0,s.length-1)+"defaults"}_[r]={valType:"string",editType:"calc"},L.templatedArray=function(s,t){return t._isLinkedToArray=s,t.name=_.name,t[r]=_[r],t},L.traceTemplater=function(s){var t,a,n={};for(t in s)a=s[t],Array.isArray(a)&&a.length&&(n[t]=0);return{newTrace:function(i){var l={type:t=k.coerce(i,{},w,"type"),_template:null};if(t in n){a=s[t];var o=n[t]%a.length;n[t]++,l._template=a[o]}return l}}},L.newContainer=function(s,t,a){var n=s._template,i=n&&(n[t]||a&&n[a]);return k.isPlainObject(i)||(i=null),s[t]={_template:i}},L.arrayTemplater=function(s,t,a){var n=s._template,i=n&&n[f(t)],l=n&&n[t];Array.isArray(l)&&l.length||(l=[]);var o={};return{newItem:function(u){var h={name:u.name,_input:u},c=h[r]=u[r];if(!v(c))return h._template=i,h;for(var b=0;b<l.length;b++){var d=l[b];if(d.name===c)return o[c]=1,h._template=d,h}return h[a]=u[a]||!1,h._template=!1,h},defaultItems:function(){for(var u=[],h=0;h<l.length;h++){var c=l[h],b=c.name;if(v(b)&&!o[b]){var d={_template:c,name:b,_input:{_templateitemname:b}};d[r]=c[r],u.push(d),o[b]=1}}return u}}},L.arrayDefaultKey=f,L.arrayEditor=function(s,t,a){var n=(k.nestedProperty(s,t).get()||[]).length,i=a._index,l=i>=n&&(a._input||{})._templateitemname;l&&(i=n);var o,u=t+"["+i+"]";function h(){o={},l&&(o[u]={},o[u][r]=l)}function c(d,g){l?k.nestedProperty(o[u],d).set(g):o[u+"."+d]=g}function b(){var d=o;return h(),d}return h(),{modifyBase:function(d,g){o[d]=g},modifyItem:c,getUpdateObj:b,applyUpdate:function(d,g){d&&c(d,g);var m=b();for(var y in m)k.nestedProperty(s,y).set(m[y])}}}},39172:function(B,L,e){var k=e(33428),w=e(24040),r=e(7316),_=e(3400),v=e(72736),f=e(73696),s=e(76308),t=e(43616),a=e(81668),n=e(45460),i=e(54460),l=e(84284),o=e(71888),u=o.enforce,h=o.clean,c=e(19280).doAutoRange,b="start";function d(T,p,S){for(var M=0;M<S.length;M++){var E=S[M][0],P=S[M][1];if(!(E[0]>=T[1]||E[1]<=T[0])&&P[0]<p[1]&&P[1]>p[0])return!0}return!1}function g(T){var p,S,M,E,P,O,I=T._fullLayout,R=I._size,U=R.p,z=i.list(T,"",!0);if(I._paperdiv.style({width:T._context.responsive&&I.autosize&&!T._context._hasZeroWidth&&!T.layout.width?"100%":I.width+"px",height:T._context.responsive&&I.autosize&&!T._context._hasZeroHeight&&!T.layout.height?"100%":I.height+"px"}).selectAll(".main-svg").call(t.setSize,I.width,I.height),T._context.setBackground(T,I.paper_bgcolor),L.drawMainTitle(T),n.manage(T),!I._has("cartesian"))return r.previousPromises(T);function j(ze,Ge,Ye){var et=ze._lw/2;return ze._id.charAt(0)==="x"?Ge?Ye==="top"?Ge._offset-U-et:Ge._offset+Ge._length+U+et:R.t+R.h*(1-(ze.position||0))+et%1:Ge?Ye==="right"?Ge._offset+Ge._length+U+et:Ge._offset-U-et:R.l+R.w*(ze.position||0)+et%1}for(p=0;p<z.length;p++){var W=(E=z[p])._anchorAxis;E._linepositions={},E._lw=t.crispRound(T,E.linewidth,1),E._mainLinePosition=j(E,W,E.side),E._mainMirrorPosition=E.mirror&&W?j(E,W,l.OPPOSITE_SIDE[E.side]):null}var F=[],V=[],H=[],te=s.opacity(I.paper_bgcolor)===1&&s.opacity(I.plot_bgcolor)===1&&I.paper_bgcolor===I.plot_bgcolor;for(S in I._plots)if((M=I._plots[S]).mainplot)M.bg&&M.bg.remove(),M.bg=void 0;else{var Q=M.xaxis.domain,K=M.yaxis.domain,X=M.plotgroup;if(d(Q,K,H)){var J=X.node(),ee=M.bg=_.ensureSingle(X,"rect","bg");J.insertBefore(ee.node(),J.childNodes[0]),V.push(S)}else X.select("rect.bg").remove(),H.push([Q,K]),te||(F.push(S),V.push(S))}var ie,oe,ae,ce,ge,ve,be,we,ye,me,Ae,ke,fe,le=I._bgLayer.selectAll(".bg").data(F);for(le.enter().append("rect").classed("bg",!0),le.exit().remove(),le.each(function(ze){I._plots[ze].bg=k.select(this)}),p=0;p<V.length;p++)M=I._plots[V[p]],P=M.xaxis,O=M.yaxis,M.bg&&P._offset!==void 0&&O._offset!==void 0&&M.bg.call(t.setRect,P._offset-U,O._offset-U,P._length+2*U,O._length+2*U).call(s.fill,I.plot_bgcolor).style("stroke-width",0);if(!I._hasOnlyLargeSploms)for(S in I._plots){M=I._plots[S],P=M.xaxis,O=M.yaxis;var de,Ce,Me=M.clipId="clip"+I._uid+S+"plot",Le=_.ensureSingleById(I._clips,"clipPath",Me,function(ze){ze.classed("plotclip",!0).append("rect")});M.clipRect=Le.select("rect").attr({width:P._length,height:O._length}),t.setTranslate(M.plot,P._offset,O._offset),M._hasClipOnAxisFalse?(de=null,Ce=Me):(de=Me,Ce=null),t.setClipUrl(M.plot,de,T),M.layerClipId=Ce}function Oe(ze){return"M"+ie+","+ze+"H"+oe}function Be(ze){return"M"+P._offset+","+ze+"h"+P._length}function pe(ze){return"M"+ze+","+we+"V"+be}function _e(ze){return O._shift!==void 0&&(ze+=O._shift),"M"+ze+","+O._offset+"v"+O._length}function Te(ze,Ge,Ye){if(!ze.showline||S!==ze._mainSubplot)return"";if(!ze._anchorAxis)return Ye(ze._mainLinePosition);var et=Ge(ze._mainLinePosition);return ze.mirror&&(et+=Ge(ze._mainMirrorPosition)),et}for(S in I._plots){M=I._plots[S],P=M.xaxis,O=M.yaxis;var Re="M0,0";m(P,S)&&(ge=x(P,"left",O,z),ie=P._offset-(ge?U+ge:0),ve=x(P,"right",O,z),oe=P._offset+P._length+(ve?U+ve:0),ae=j(P,O,"bottom"),ce=j(P,O,"top"),!(fe=!P._anchorAxis||S!==P._mainSubplot)||P.mirror!=="allticks"&&P.mirror!=="all"||(P._linepositions[S]=[ae,ce]),Re=Te(P,Oe,Be),fe&&P.showline&&(P.mirror==="all"||P.mirror==="allticks")&&(Re+=Oe(ae)+Oe(ce)),M.xlines.style("stroke-width",P._lw+"px").call(s.stroke,P.showline?P.linecolor:"rgba(0,0,0,0)")),M.xlines.attr("d",Re);var Ne="M0,0";m(O,S)&&(Ae=x(O,"bottom",P,z),be=O._offset+O._length+(Ae?U:0),ke=x(O,"top",P,z),we=O._offset-(ke?U:0),ye=j(O,P,"left"),me=j(O,P,"right"),!(fe=!O._anchorAxis||S!==O._mainSubplot)||O.mirror!=="allticks"&&O.mirror!=="all"||(O._linepositions[S]=[ye,me]),Ne=Te(O,pe,_e),fe&&O.showline&&(O.mirror==="all"||O.mirror==="allticks")&&(Ne+=pe(ye)+pe(me)),M.ylines.style("stroke-width",O._lw+"px").call(s.stroke,O.showline?O.linecolor:"rgba(0,0,0,0)")),M.ylines.attr("d",Ne)}return i.makeClipPaths(T),r.previousPromises(T)}function m(T,p){return(T.ticks||T.showline)&&(p===T._mainSubplot||T.mirror==="all"||T.mirror==="allticks")}function y(T,p,S){if(!S.showline||!S._lw)return!1;if(S.mirror==="all"||S.mirror==="allticks")return!0;var M=S._anchorAxis;if(!M)return!1;var E=l.FROM_BL[p];return S.side===p?M.domain[E]===T.domain[E]:S.mirror&&M.domain[1-E]===T.domain[1-E]}function x(T,p,S,M){if(y(T,p,S))return S._lw;for(var E=0;E<M.length;E++){var P=M[E];if(P._mainAxis===S._mainAxis&&y(T,p,P))return P._lw}return 0}L.layoutStyles=function(T){return _.syncOrAsync([r.doAutoMargin,g],T)},L.drawMainTitle=function(T){var p,S=T._fullLayout.title,M=T._fullLayout,E=function(F){var V=F.title,H="middle";return _.isRightAnchor(V)?H="end":_.isLeftAnchor(V)&&(H=b),H}(M),P=function(F){var V=F.title,H="0em";return _.isTopAnchor(V)?H=l.CAP_SHIFT+"em":_.isMiddleAnchor(V)&&(H=l.MID_SHIFT+"em"),H}(M),O=function(F,V){var H=F.title,te=F._size,Q=0;return V!=="0em"&&V?V===l.CAP_SHIFT+"em"&&(Q=H.pad.t):Q=-H.pad.b,H.y==="auto"?te.t/2:H.yref==="paper"?te.t+te.h-te.h*H.y+Q:F.height-F.height*H.y+Q}(M,P),I=function(F,V){var H=F.title,te=F._size,Q=0;return V===b?Q=H.pad.l:V==="end"&&(Q=-H.pad.r),H.xref==="paper"?te.l+te.w*H.x+Q:F.width*H.x+Q}(M,E);if(a.draw(T,"gtitle",{propContainer:M,propName:"title.text",placeholder:M._dfltTitle.plot,attributes:{x:I,y:O,"text-anchor":E,dy:P}}),S.text&&S.automargin){var R=k.selectAll(".gtitle"),U=t.bBox(R.node()).height,z=function(F,V,H){var te=V.y,Q=V.yanchor,K=te>.5?"t":"b",X=F._fullLayout.margin[K],J=0;return V.yref==="paper"?J=H+V.pad.t+V.pad.b:V.yref==="container"&&(J=function(ee,ie,oe,ae,ce){var ge=0;return oe==="middle"&&(ge+=ce/2),ee==="t"?(oe==="top"&&(ge+=ce),ge+=ae-ie*ae):(oe==="bottom"&&(ge+=ce),ge+=ie*ae),ge}(K,te,Q,F._fullLayout.height,H)+V.pad.t+V.pad.b),J>X?J:0}(T,S,U);if(z>0){(function(F,V,H,te){var Q="title.automargin",K=F._fullLayout.title,X=K.y>.5?"t":"b",J={x:K.x,y:K.y,t:0,b:0},ee={};K.yref==="paper"&&function(ie,oe,ae,ce,ge){var ve=oe.yref==="paper"?ie._fullLayout._size.h:ie._fullLayout.height,be=_.isTopAnchor(oe)?ce:ce-ge,we=ae==="b"?ve-be:be;return!(_.isTopAnchor(oe)&&ae==="t"||_.isBottomAnchor(oe)&&ae==="b")&&we<ge}(F,K,X,V,te)?J[X]=H:K.yref==="container"&&(ee[X]=H,F._fullLayout._reservedMargin[Q]=ee),r.allowAutoMargin(F,Q),r.autoMargin(F,Q,J)})(T,O,z,U),R.attr({x:I,y:O,"text-anchor":E,dy:(p=S.yanchor,p==="top"?l.CAP_SHIFT+.3+"em":p==="bottom"?"-0.3em":l.MID_SHIFT+"em")}).call(v.positionText,I,O);var j=(S.text.match(v.BR_TAG_ALL)||[]).length;if(j){var W=l.LINE_SPACING*j+l.MID_SHIFT;S.y===0&&(W=-W),R.selectAll(".line").each(function(){var F=+this.getAttribute("dy").slice(0,-2)-W+"em";this.setAttribute("dy",F)})}}}},L.doTraceStyle=function(T){var p,S=T.calcdata,M=[];for(p=0;p<S.length;p++){var E=S[p],P=E[0]||{},O=P.trace||{},I=O._module||{},R=I.arraysToCalcdata;R&&R(E,O);var U=I.editStyle;U&&M.push({fn:U,cd0:P})}if(M.length){for(p=0;p<M.length;p++){var z=M[p];z.fn(T,z.cd0)}f(T),L.redrawReglTraces(T)}return r.style(T),w.getComponentMethod("legend","draw")(T),r.previousPromises(T)},L.doColorBars=function(T){return w.getComponentMethod("colorbar","draw")(T),r.previousPromises(T)},L.layoutReplot=function(T){var p=T.layout;return T.layout=void 0,w.call("_doPlot",T,"",p)},L.doLegend=function(T){return w.getComponentMethod("legend","draw")(T),r.previousPromises(T)},L.doTicksRelayout=function(T){return i.draw(T,"redraw"),T._fullLayout._hasOnlyLargeSploms&&(w.subplotsRegistry.splom.updateGrid(T),f(T),L.redrawReglTraces(T)),L.drawMainTitle(T),r.previousPromises(T)},L.doModeBar=function(T){var p=T._fullLayout;n.manage(T);for(var S=0;S<p._basePlotModules.length;S++){var M=p._basePlotModules[S].updateFx;M&&M(T)}return r.previousPromises(T)},L.doCamera=function(T){for(var p=T._fullLayout,S=p._subplots.gl3d,M=0;M<S.length;M++){var E=p[S[M]];E._scene.setViewport(E)}},L.drawData=function(T){var p=T._fullLayout;f(T);for(var S=p._basePlotModules,M=0;M<S.length;M++)S[M].plot(T);return L.redrawReglTraces(T),r.style(T),w.getComponentMethod("selections","draw")(T),w.getComponentMethod("shapes","draw")(T),w.getComponentMethod("annotations","draw")(T),w.getComponentMethod("images","draw")(T),p._replotting=!1,r.previousPromises(T)},L.redrawReglTraces=function(T){var p=T._fullLayout;if(p._has("regl")){var S,M,E=T._fullData,P=[],O=[];for(p._hasOnlyLargeSploms&&p._splomGrid.draw(),S=0;S<E.length;S++){var I=E[S];I.visible===!0&&I._length!==0&&(I.type==="splom"?p._splomScenes[I.uid].draw():I.type==="scattergl"?_.pushUnique(P,I.xaxis+I.yaxis):I.type==="scatterpolargl"&&_.pushUnique(O,I.subplot))}for(S=0;S<P.length;S++)(M=p._plots[P[S]])._scene&&M._scene.draw();for(S=0;S<O.length;S++)(M=p[O[S]]._subplot)._scene&&M._scene.draw()}},L.doAutoRangeAndConstraints=function(T){for(var p,S=i.list(T,"",!0),M={},E=0;E<S.length;E++)if(!M[(p=S[E])._id]){M[p._id]=1,h(T,p),c(T,p);var P=p._matchGroup;if(P)for(var O in P){var I=i.getFromId(T,O);c(T,I,p.range),M[O]=1}}u(T)},L.finalDraw=function(T){w.getComponentMethod("rangeslider","draw")(T),w.getComponentMethod("rangeselector","draw")(T)},L.drawMarginPushers=function(T){w.getComponentMethod("legend","draw")(T),w.getComponentMethod("rangeselector","draw")(T),w.getComponentMethod("sliders","draw")(T),w.getComponentMethod("updatemenus","draw")(T),w.getComponentMethod("colorbar","draw")(T)}},94828:function(B,L,e){var k=e(3400),w=k.isPlainObject,r=e(73060),_=e(7316),v=e(45464),f=e(31780),s=e(20556).dfltConfig;function t(c,b){c=k.extendDeep({},c);var d,g,m=Object.keys(c).sort();function y(M,E,P){if(w(E)&&w(M))t(M,E);else if(Array.isArray(E)&&Array.isArray(M)){var O=f.arrayTemplater({_template:c},P);for(g=0;g<E.length;g++){var I=E[g],R=O.newItem(I)._template;R&&t(R,I)}var U=O.defaultItems();for(g=0;g<U.length;g++)E.push(U[g]._template);for(g=0;g<E.length;g++)delete E[g].templateitemname}}for(d=0;d<m.length;d++){var x=m[d],T=c[x];if(x in b?y(T,b[x],x):b[x]=T,a(x)===x)for(var p in b){var S=a(p);p===S||S!==x||p in c||y(T,b[p],x)}}}function a(c){return c.replace(/[0-9]+$/,"")}function n(c,b,d,g,m){var y=m&&d(m);for(var x in c){var T=c[x],p=o(c,x,g),S=o(c,x,m),M=d(S);if(!M){var E=a(x);E!==x&&(M=d(S=o(c,E,m)))}if(!(y&&y===M||!M||M._noTemplating||M.valType==="data_array"||M.arrayOk&&Array.isArray(T)))if(!M.valType&&w(T))n(T,b,d,p,S);else if(M._isLinkedToArray&&Array.isArray(T))for(var P=!1,O=0,I={},R=0;R<T.length;R++){var U=T[R];if(w(U)){var z=U.name;if(z)I[z]||(n(U,b,d,o(T,O,p),o(T,O,S)),O++,I[z]=1);else if(!P){var j=o(c,f.arrayDefaultKey(x),g),W=o(T,O,p);n(U,b,d,W,o(T,O,S));var F=k.nestedProperty(b,W);k.nestedProperty(b,j).set(F.get()),F.set(null),P=!0}}}else k.nestedProperty(b,p).set(T)}}function i(c,b){return r.getLayoutValObject(c,k.nestedProperty({},b).parts)}function l(c,b){return r.getTraceValObject(c,k.nestedProperty({},b).parts)}function o(c,b,d){return d?Array.isArray(c)?d+"["+b+"]":d+"."+b:b}function u(c){for(var b=0;b<c.length;b++)if(w(c[b]))return!0}function h(c){var b;switch(c.code){case"data":b="The template has no key data.";break;case"layout":b="The template has no key layout.";break;case"missing":b=c.path?"There are no templates for item "+c.path+" with name "+c.templateitemname:"There are no templates for trace "+c.index+", of type "+c.traceType+".";break;case"unused":b=c.path?"The template item at "+c.path+" was not used in constructing the plot.":c.dataCount?"Some of the templates of type "+c.traceType+" were not used. The template has "+c.templateCount+" traces, the data only has "+c.dataCount+" of this type.":"The template has "+c.templateCount+" traces of type "+c.traceType+" but there are none in the data.";break;case"reused":b="Some of the templates of type "+c.traceType+" were used more than once. The template has "+c.templateCount+" traces, the data has "+c.dataCount+" of this type."}return c.msg=b,c}L.makeTemplate=function(c){c=k.isPlainObject(c)?c:k.getGraphDiv(c),c=k.extendDeep({_context:s},{data:c.data,layout:c.layout}),_.supplyDefaults(c);var b=c.data||[],d=c.layout||{};d._basePlotModules=c._fullLayout._basePlotModules,d._modules=c._fullLayout._modules;var g={data:{},layout:{}};b.forEach(function(O){var I={};n(O,I,l.bind(null,O));var R=k.coerce(O,{},v,"type"),U=g.data[R];U||(U=g.data[R]=[]),U.push(I)}),n(d,g.layout,i.bind(null,d)),delete g.layout.template;var m=d.template;if(w(m)){var y,x,T,p,S,M,E=m.layout;w(E)&&t(E,g.layout);var P=m.data;if(w(P)){for(x in g.data)if(T=P[x],Array.isArray(T)){for(M=(S=g.data[x]).length,p=T.length,y=0;y<M;y++)t(T[y%p],S[y]);for(y=M;y<p;y++)S.push(k.extendDeep({},T[y]))}for(x in P)x in g.data||(g.data[x]=k.extendDeep([],P[x]))}}return g},L.validateTemplate=function(c,b){var d=k.extendDeep({},{_context:s,data:c.data,layout:c.layout}),g=d.layout||{};w(b)||(b=g.template||{});var m=b.layout,y=b.data,x=[];d.layout=g,d.layout.template=b,_.supplyDefaults(d);var T=d._fullLayout,p=d._fullData,S={};if(w(m)?(function U(z,j){for(var W in z)if(W.charAt(0)!=="_"&&w(z[W])){var F,V=a(W),H=[];for(F=0;F<j.length;F++)H.push(o(z,W,j[F])),V!==W&&H.push(o(z,V,j[F]));for(F=0;F<H.length;F++)S[H[F]]=1;U(z[W],H)}}(T,["layout"]),function U(z,j){for(var W in z)if(W.indexOf("defaults")===-1&&w(z[W])){var F=o(z,W,j);S[F]?U(z[W],F):x.push({code:"unused",path:F})}}(m,"layout")):x.push({code:"layout"}),w(y)){for(var M,E={},P=0;P<p.length;P++){var O=p[P];E[M=O.type]=(E[M]||0)+1,O._fullInput._template||x.push({code:"missing",index:O._fullInput.index,traceType:M})}for(M in y){var I=y[M].length,R=E[M]||0;I>R?x.push({code:"unused",traceType:M,templateCount:I,dataCount:R}):R>I&&x.push({code:"reused",traceType:M,templateCount:I,dataCount:R})}}else x.push({code:"data"});if(function U(z,j){for(var W in z)if(W.charAt(0)!=="_"){var F=z[W],V=o(z,W,j);w(F)?(Array.isArray(z)&&F._template===!1&&F.templateitemname&&x.push({code:"missing",path:V,templateitemname:F.templateitemname}),U(F,V)):Array.isArray(F)&&u(F)&&U(F,V)}}({data:p,layout:T},""),x.length)return x.map(h)}},67024:function(B,L,e){var k=e(38248),w=e(36424),r=e(7316),_=e(3400),v=e(81792),f=e(37164),s=e(63268),t=e(25788).version,a={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};B.exports=function(n,i){var l,o,u,h;function c(R){return!(R in i)||_.validate(i[R],a[R])}if(i=i||{},_.isPlainObject(n)?(l=n.data||[],o=n.layout||{},u=n.config||{},h={}):(n=_.getGraphDiv(n),l=_.extendDeep([],n.data),o=_.extendDeep({},n.layout),u=n._context,h=n._fullLayout||{}),!c("width")&&i.width!==null||!c("height")&&i.height!==null)throw new Error("Height and width should be pixel values.");if(!c("format"))throw new Error("Export format is not "+_.join2(a.format.values,", "," or ")+".");var b={};function d(R,U){return _.coerce(i,b,a,R,U)}var g=d("format"),m=d("width"),y=d("height"),x=d("scale"),T=d("setBackground"),p=d("imageDataOnly"),S=document.createElement("div");S.style.position="absolute",S.style.left="-5000px",document.body.appendChild(S);var M=_.extendFlat({},o);m?M.width=m:i.width===null&&k(h.width)&&(M.width=h.width),y?M.height=y:i.height===null&&k(h.height)&&(M.height=h.height);var E=_.extendFlat({},u,{_exportedPlot:!0,staticPlot:!0,setBackground:T}),P=v.getRedrawFunc(S);function O(){return new Promise(function(R){setTimeout(R,v.getDelay(S._fullLayout))})}function I(){return new Promise(function(R,U){var z=f(S,g,x),j=S._fullLayout.width,W=S._fullLayout.height;function F(){w.purge(S),document.body.removeChild(S)}if(g==="full-json"){var V=r.graphJson(S,!1,"keepdata","object",!0,!0);return V.version=t,V=JSON.stringify(V),F(),R(p?V:v.encodeJSON(V))}if(F(),g==="svg")return R(p?z:v.encodeSVG(z));var H=document.createElement("canvas");H.id=_.randstr(),s({format:g,width:j,height:W,scale:x,canvas:H,svg:z,promise:!0}).then(R).catch(U)})}return new Promise(function(R,U){w.newPlot(S,l,M,E).then(P).then(O).then(I).then(function(z){R(function(j){return p?j.replace(v.IMAGE_URL_PREFIX,""):j}(z))}).catch(function(z){U(z)})})}},21480:function(B,L,e){var k=e(3400),w=e(7316),r=e(73060),_=e(20556).dfltConfig,v=k.isPlainObject,f=Array.isArray,s=k.isArrayOrTypedArray;function t(c,b,d,g,m,y){y=y||[];for(var x=Object.keys(c),T=0;T<x.length;T++){var p=x[T];if(p!=="transforms"){var S=y.slice();S.push(p);var M=c[p],E=b[p],P=o(d,p),O=(P||{}).valType,I=O==="info_array",R=O==="colorscale",U=(P||{}).items;if(l(d,p))if(v(M)&&v(E)&&O!=="any")t(M,E,P,g,m,S);else if(I&&f(M)){M.length>E.length&&g.push(i("unused",m,S.concat(E.length)));var z,j,W,F,V,H=E.length,te=Array.isArray(U);if(te&&(H=Math.min(H,U.length)),P.dimensions===2)for(j=0;j<H;j++)if(f(M[j])){M[j].length>E[j].length&&g.push(i("unused",m,S.concat(j,E[j].length)));var Q=E[j].length;for(z=0;z<(te?Math.min(Q,U[j].length):Q);z++)W=te?U[j][z]:U,F=M[j][z],V=E[j][z],k.validate(F,W)?V!==F&&V!==+F&&g.push(i("dynamic",m,S.concat(j,z),F,V)):g.push(i("value",m,S.concat(j,z),F))}else g.push(i("array",m,S.concat(j),M[j]));else for(j=0;j<H;j++)W=te?U[j]:U,F=M[j],V=E[j],k.validate(F,W)?V!==F&&V!==+F&&g.push(i("dynamic",m,S.concat(j),F,V)):g.push(i("value",m,S.concat(j),F))}else if(P.items&&!I&&f(M)){var K,X,J=U[Object.keys(U)[0]],ee=[];for(K=0;K<E.length;K++){var ie=E[K]._index||K;if((X=S.slice()).push(ie),v(M[ie])&&v(E[K])){ee.push(ie);var oe=M[ie],ae=E[K];v(oe)&&oe.visible!==!1&&ae.visible===!1?g.push(i("invisible",m,X)):t(oe,ae,J,g,m,X)}}for(K=0;K<M.length;K++)(X=S.slice()).push(K),v(M[K])?ee.indexOf(K)===-1&&g.push(i("unused",m,X)):g.push(i("object",m,X,M[K]))}else!v(M)&&v(E)?g.push(i("object",m,S,M)):s(M)||!s(E)||I||R?p in b?k.validate(M,P)?P.valType==="enumerated"&&(P.coerceNumber&&M!==+E||M!==E)&&g.push(i("dynamic",m,S,M,E)):g.push(i("value",m,S,M)):g.push(i("unused",m,S,M)):g.push(i("array",m,S,M));else g.push(i("schema",m,S))}}return g}B.exports=function(c,b){c===void 0&&(c=[]),b===void 0&&(b={});var d,g,m=r.get(),y=[],x={_context:k.extendFlat({},_)};f(c)?(x.data=k.extendDeep([],c),d=c):(x.data=[],d=[],y.push(i("array","data"))),v(b)?(x.layout=k.extendDeep({},b),g=b):(x.layout={},g={},arguments.length>1&&y.push(i("object","layout"))),w.supplyDefaults(x);for(var T=x._fullData,p=d.length,S=0;S<p;S++){var M=d[S],E=["data",S];if(v(M)){var P=T[S],O=P.type,I=m.traces[O].attributes;I.type={valType:"enumerated",values:[O]},P.visible===!1&&M.visible!==!1&&y.push(i("invisible",E)),t(M,P,I,y,E);var R=M.transforms,U=P.transforms;if(R){f(R)||y.push(i("array",E,["transforms"])),E.push("transforms");for(var z=0;z<R.length;z++){var j=["transforms",z],W=R[z].type;if(v(R[z])){var F=m.transforms[W]?m.transforms[W].attributes:{};F.type={valType:"enumerated",values:Object.keys(m.transforms)},t(R[z],U[z],F,y,E,j)}else y.push(i("object",E,j))}}}else y.push(i("object",E))}var V=x._fullLayout,H=function(te,Q){for(var K=te.layout.layoutAttributes,X=0;X<Q.length;X++){var J=Q[X],ee=te.traces[J.type],ie=ee.layoutAttributes;ie&&(J.subplot?k.extendFlat(K[ee.attributes.subplot.dflt],ie):k.extendFlat(K,ie))}return K}(m,T);return t(g,V,H,y,"layout"),y.length===0?void 0:y};var a={object:function(c,b){return(c==="layout"&&b===""?"The layout argument":c[0]==="data"&&b===""?"Trace "+c[1]+" in the data argument":n(c)+"key "+b)+" must be linked to an object container"},array:function(c,b){return(c==="data"?"The data argument":n(c)+"key "+b)+" must be linked to an array container"},schema:function(c,b){return n(c)+"key "+b+" is not part of the schema"},unused:function(c,b,d){var g=v(d)?"container":"key";return n(c)+g+" "+b+" did not get coerced"},dynamic:function(c,b,d,g){return[n(c)+"key",b,"(set to '"+d+"')","got reset to","'"+g+"'","during defaults."].join(" ")},invisible:function(c,b){return(b?n(c)+"item "+b:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,b,d){return[n(c)+"key "+b,"is set to an invalid value ("+d+")"].join(" ")}};function n(c){return f(c)?"In data trace "+c[1]+", ":"In "+c+", "}function i(c,b,d,g,m){var y,x;d=d||"",f(b)?(y=b[0],x=b[1]):(y=b,x=null);var T=function(S){if(!f(S))return String(S);for(var M="",E=0;E<S.length;E++){var P=S[E];typeof P=="number"?M=M.substr(0,M.length-1)+"["+P+"]":M+=P,E<S.length-1&&(M+=".")}return M}(d),p=a[c](b,T,g,m);return k.log(p),{code:c,container:y,trace:x,path:d,astr:T,msg:p}}function l(c,b){var d=h(b),g=d.keyMinusId,m=d.id;return!!(g in c&&c[g]._isSubplotObj&&m)||b in c}function o(c,b){return b in c?c[b]:c[h(b).keyMinusId]}var u=k.counterRegex("([a-z]+)");function h(c){var b=c.match(u);return{keyMinusId:b&&b[1],id:b&&b[2]}}},85656:function(B){B.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(B,L,e){var k=e(3400),w=e(31780);B.exports=function(r,_,v){var f,s,t=v.name,a=v.inclusionAttr||"visible",n=_[t],i=k.isArrayOrTypedArray(r[t])?r[t]:[],l=_[t]=[],o=w.arrayTemplater(_,t,a);for(f=0;f<i.length;f++){var u=i[f];k.isPlainObject(u)?s=o.newItem(u):(s=o.newItem({}))[a]=!1,s._index=f,s[a]!==!1&&v.handleItemDefaults(u,s,_,v),l.push(s)}var h=o.defaultItems();for(f=0;f<h.length;f++)(s=h[f])._index=l.length,v.handleItemDefaults({},s,_,v,{}),l.push(s);if(k.isArrayOrTypedArray(n)){var c=Math.min(n.length,l.length);for(f=0;f<c;f++)k.relinkPrivateKeys(l[f],n[f])}return l}},45464:function(B,L,e){var k=e(25376),w=e(55756);B.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:k({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:w.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(B,L,e){var k=e(38248),w=e(3400),r=w.dateTime2ms,_=w.incrementMonth,v=e(39032).ONEAVGMONTH;B.exports=function(f,s,t,a){if(s.type!=="date")return{vals:a};var n=f[t+"periodalignment"];if(!n)return{vals:a};var i,l=f[t+"period"];if(k(l)){if((l=+l)<=0)return{vals:a}}else if(typeof l=="string"&&l.charAt(0)==="M"){var o=+l.substring(1);if(!(o>0&&Math.round(o)===o))return{vals:a};i=o}for(var u=s.calendar,h=n==="start",c=n==="end",b=f[t+"period0"],d=r(b,u)||0,g=[],m=[],y=[],x=a.length,T=0;T<x;T++){var p,S,M,E=a[T];if(i){for(p=Math.round((E-d)/(i*v)),M=_(d,i*p,u);M>E;)M=_(M,-i,u);for(;M<=E;)M=_(M,i,u);S=_(M,-i,u)}else{for(M=d+(p=Math.round((E-d)/l))*l;M>E;)M-=l;for(;M<=E;)M+=l;S=M-l}g[T]=h?S:c?M:(S+M)/2,m[T]=S,y[T]=M}return{vals:g,starts:m,ends:y}}},26720:function(B){B.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(B,L,e){var k=e(33428),w=e(38248),r=e(3400),_=e(39032).FP_SAFE,v=e(24040),f=e(43616),s=e(79811),t=s.getFromId,a=s.isLinked;function n(T,p){var S,M,E=[],P=T._fullLayout,O=l(P,p,0),I=l(P,p,1),R=u(T,p),U=R.min,z=R.max;if(U.length===0||z.length===0)return r.simpleMap(p.range,p.r2l);var j=U[0].val,W=z[0].val;for(S=1;S<U.length&&j===W;S++)j=Math.min(j,U[S].val);for(S=1;S<z.length&&j===W;S++)W=Math.max(W,z[S].val);var F=p.autorange,V=F==="reversed"||F==="min reversed"||F==="max reversed";if(!V&&p.range){var H=r.simpleMap(p.range,p.r2l);V=H[1]<H[0]}p.autorange==="reversed"&&(p.autorange=!0);var te,Q,K,X,J,ee,ie=p.rangemode,oe=ie==="tozero",ae=ie==="nonnegative",ce=p._length,ge=ce/10,ve=0;for(S=0;S<U.length;S++)for(te=U[S],M=0;M<z.length;M++)(ee=(Q=z[M]).val-te.val-i(p,te.val,Q.val))>0&&((J=ce-O(te)-I(Q))>ge?ee/J>ve&&(K=te,X=Q,ve=ee/J):ee/ce>ve&&(K={val:te.val,nopad:1},X={val:Q.val,nopad:1},ve=ee/ce));if(j===W){var be=j-1,we=j+1;if(oe)if(j===0)E=[0,1];else{var ye=(j>0?z:U).reduce(function(Ae,ke){return Math.max(Ae,I(ke))},0),me=j/(1-Math.min(.5,ye/ce));E=j>0?[0,me]:[me,0]}else E=ae?[Math.max(0,be),Math.max(1,we)]:[be,we]}else oe?(K.val>=0&&(K={val:0,nopad:1}),X.val<=0&&(X={val:0,nopad:1})):ae&&(K.val-ve*O(K)<0&&(K={val:0,nopad:1}),X.val<=0&&(X={val:1,nopad:1})),ve=(X.val-K.val-i(p,te.val,Q.val))/(ce-O(K)-I(X)),E=[K.val-ve*O(K),X.val+ve*I(X)];return E=x(E,p),p.limitRange&&p.limitRange(),V&&E.reverse(),r.simpleMap(E,p.l2r||Number)}function i(T,p,S){var M=0;if(T.rangebreaks)for(var E=T.locateBreaks(p,S),P=0;P<E.length;P++){var O=E[P];M+=O.max-O.min}return M}function l(T,p,S){var M=.05*p._length,E=p._anchorAxis||{};if((p.ticklabelposition||"").indexOf("inside")!==-1||(E.ticklabelposition||"").indexOf("inside")!==-1){var P=p.isReversed();if(!P){var O=r.simpleMap(p.range,p.r2l);P=O[1]<O[0]}P&&(S=!S)}var I=0;return a(T,p._id)||(I=function(R,U,z){var j=0,W=U._id.charAt(0)==="x";for(var F in R._plots){var V=R._plots[F];if(U._id===V.xaxis._id||U._id===V.yaxis._id){var H=(W?V.yaxis:V.xaxis)||{};if((H.ticklabelposition||"").indexOf("inside")!==-1&&(!z&&(H.side==="left"||H.side==="bottom")||z&&(H.side==="top"||H.side==="right"))){if(H._vals){var te=r.deg2rad(H._tickAngles[H._id+"tick"]||0),Q=Math.abs(Math.cos(te)),K=Math.abs(Math.sin(te));if(!H._vals[0].bb){var X=H._id+"tick";H._selections[X].each(function(ae){var ce=k.select(this);ce.select(".text-math-group").empty()&&(ae.bb=f.bBox(ce.node()))})}for(var J=0;J<H._vals.length;J++){var ee=H._vals[J].bb;if(ee){var ie=2*o+ee.width,oe=2*o+ee.height;j=Math.max(j,W?Math.max(ie*Q,oe*K):Math.max(oe*Q,ie*K))}}}H.ticks==="inside"&&H.ticklabelposition==="inside"&&(j+=H.ticklen||0)}}}return j}(T,p,S)),M=Math.max(I,M),p.constrain==="domain"&&p._inputDomain&&(M*=(p._inputDomain[1]-p._inputDomain[0])/(p.domain[1]-p.domain[0])),function(R){return R.nopad?0:R.pad+(R.extrapad?M:I)}}B.exports={applyAutorangeOptions:x,getAutoRange:n,makePadFn:l,doAutoRange:function(T,p,S){if(p.setScale(),p.autorange){p.range=S?S.slice():n(T,p),p._r=p.range.slice(),p._rl=r.simpleMap(p._r,p.r2l);var M=p._input,E={};E[p._attr+".range"]=p.range,E[p._attr+".autorange"]=p.autorange,v.call("_storeDirectGUIEdit",T.layout,T._fullLayout._preGUI,E),M.range=p.range.slice(),M.autorange=p.autorange}var P=p._anchorAxis;if(P&&P.rangeslider){var O=P.rangeslider[p._name];O&&O.rangemode==="auto"&&(O.range=n(T,p)),P._input.rangeslider[p._name]=r.extendFlat({},O)}},findExtremes:function(T,p,S){S||(S={}),T._m||T.setScale();var M,E,P,O,I,R,U,z,j,W=[],F=[],V=p.length,H=S.padded||!1,te=S.tozero&&(T.type==="linear"||T.type==="-"),Q=T.type==="log",K=!1,X=S.vpadLinearized||!1;function J(be){if(Array.isArray(be))return K=!0,function(ye){return Math.max(Number(be[ye]||0),0)};var we=Math.max(Number(be||0),0);return function(){return we}}var ee=J((T._m>0?S.ppadplus:S.ppadminus)||S.ppad||0),ie=J((T._m>0?S.ppadminus:S.ppadplus)||S.ppad||0),oe=J(S.vpadplus||S.vpad),ae=J(S.vpadminus||S.vpad);if(!K){if(z=1/0,j=-1/0,Q)for(M=0;M<V;M++)(E=p[M])<z&&E>0&&(z=E),E>j&&E<_&&(j=E);else for(M=0;M<V;M++)(E=p[M])<z&&E>-_&&(z=E),E>j&&E<_&&(j=E);p=[z,j],V=2}var ce={tozero:te,extrapad:H};function ge(be){P=p[be],w(P)&&(R=ee(be),U=ie(be),X?(O=T.c2l(P)-ae(be),I=T.c2l(P)+oe(be)):(z=P-ae(be),j=P+oe(be),Q&&z<j/10&&(z=j/10),O=T.c2l(z),I=T.c2l(j)),te&&(O=Math.min(0,O),I=Math.max(0,I)),d(O)&&h(W,O,U,ce),d(I)&&c(F,I,R,ce))}var ve=Math.min(6,V);for(M=0;M<ve;M++)ge(M);for(M=V-1;M>=ve;M--)ge(M);return{min:W,max:F,opts:S}},concatExtremes:u};var o=3;function u(T,p,S){var M,E,P,O=p._id,I=T._fullData,R=T._fullLayout,U=[],z=[];function j(te,Q){for(M=0;M<Q.length;M++){var K=te[Q[M]],X=(K._extremes||{})[O];if(K.visible===!0&&X){for(E=0;E<X.min.length;E++)P=X.min[E],h(U,P.val,P.pad,{extrapad:P.extrapad});for(E=0;E<X.max.length;E++)P=X.max[E],c(z,P.val,P.pad,{extrapad:P.extrapad})}}}if(j(I,p._traceIndices),j(R.annotations||[],p._annIndices||[]),j(R.shapes||[],p._shapeIndices||[]),p._matchGroup&&!S){for(var W in p._matchGroup)if(W!==p._id){var F=t(T,W),V=u(T,F,!0),H=p._length/F._length;for(E=0;E<V.min.length;E++)P=V.min[E],h(U,P.val,P.pad*H,{extrapad:P.extrapad});for(E=0;E<V.max.length;E++)P=V.max[E],c(z,P.val,P.pad*H,{extrapad:P.extrapad})}}return{min:U,max:z}}function h(T,p,S,M){b(T,p,S,M,g)}function c(T,p,S,M){b(T,p,S,M,m)}function b(T,p,S,M,E){for(var P=M.tozero,O=M.extrapad,I=!0,R=0;R<T.length&&I;R++){var U=T[R];if(E(U.val,p)&&U.pad>=S&&(U.extrapad||!O)){I=!1;break}E(p,U.val)&&U.pad<=S&&(O||!U.extrapad)&&(T.splice(R,1),R--)}if(I){var z=P&&p===0;T.push({val:p,pad:z?0:S,extrapad:!z&&O})}}function d(T){return w(T)&&Math.abs(T)<_}function g(T,p){return T<=p}function m(T,p){return T>=p}function y(T,p,S){return p===void 0||S===void 0||(p=T.d2l(p))<T.d2l(S)}function x(T,p){if(!p||!p.autorangeoptions)return T;var S=T[0],M=T[1],E=p.autorangeoptions.include;if(E!==void 0){var P=p.d2l(S),O=p.d2l(M);r.isArrayOrTypedArray(E)||(E=[E]);for(var I=0;I<E.length;I++){var R=p.d2l(E[I]);P>=R&&(P=R,S=R),O<=R&&(O=R,M=R)}}return S=function(U,z){var j=z.autorangeoptions;return j&&j.minallowed!==void 0&&y(z,j.minallowed,j.maxallowed)?j.minallowed:j&&j.clipmin!==void 0&&y(z,j.clipmin,j.clipmax)?Math.max(U,z.d2l(j.clipmin)):U}(S,p),M=function(U,z){var j=z.autorangeoptions;return j&&j.maxallowed!==void 0&&y(z,j.minallowed,j.maxallowed)?j.maxallowed:j&&j.clipmax!==void 0&&y(z,j.clipmin,j.clipmax)?Math.min(U,z.d2l(j.clipmax)):U}(M,p),[S,M]}},76808:function(B){B.exports=function(L,e,k){var w,r;if(k){var _=e==="reversed"||e==="min reversed"||e==="max reversed";w=k[_?1:0],r=k[_?0:1]}var v=L("autorangeoptions.minallowed",r===null?w:void 0),f=L("autorangeoptions.maxallowed",w===null?r:void 0);v===void 0&&L("autorangeoptions.clipmin"),f===void 0&&L("autorangeoptions.clipmax"),L("autorangeoptions.include")}},54460:function(B,L,e){var k=e(33428),w=e(38248),r=e(7316),_=e(24040),v=e(3400),f=v.strTranslate,s=e(72736),t=e(81668),a=e(76308),n=e(43616),i=e(94724),l=e(98728),o=e(39032),u=o.ONEMAXYEAR,h=o.ONEAVGYEAR,c=o.ONEMINYEAR,b=o.ONEMAXQUARTER,d=o.ONEAVGQUARTER,g=o.ONEMINQUARTER,m=o.ONEMAXMONTH,y=o.ONEAVGMONTH,x=o.ONEMINMONTH,T=o.ONEWEEK,p=o.ONEDAY,S=p/2,M=o.ONEHOUR,E=o.ONEMIN,P=o.ONESEC,O=o.MINUS_SIGN,I=o.BADNUM,R={K:"zeroline"},U={K:"gridline",L:"path"},z={K:"minor-gridline",L:"path"},j={K:"tick",L:"path"},W={K:"tick",L:"text"},F={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},V=e(84284),H=V.MID_SHIFT,te=V.CAP_SHIFT,Q=V.LINE_SPACING,K=V.OPPOSITE_SIDE,X=B.exports={};X.setConvert=e(78344);var J=e(52976),ee=e(79811),ie=ee.idSort,oe=ee.isLinked;X.id2name=ee.id2name,X.name2id=ee.name2id,X.cleanId=ee.cleanId,X.list=ee.list,X.listIds=ee.listIds,X.getFromId=ee.getFromId,X.getFromTrace=ee.getFromTrace;var ae=e(19280);X.getAutoRange=ae.getAutoRange,X.findExtremes=ae.findExtremes;var ce=1e-4;function ge(je){var Ue=(je[1]-je[0])*ce;return[je[0]-Ue,je[1]+Ue]}X.coerceRef=function(je,Ue,lt,Qe,gt,mt){var xt=Qe.charAt(Qe.length-1),dt=lt._fullLayout._subplots[xt+"axis"],Lt=Qe+"ref",kt={};return gt||(gt=dt[0]||(typeof mt=="string"?mt:mt[0])),mt||(mt=gt),dt=dt.concat(dt.map(function(_t){return _t+" domain"})),kt[Lt]={valType:"enumerated",values:dt.concat(mt?typeof mt=="string"?[mt]:mt:[]),dflt:gt},v.coerce(je,Ue,kt,Lt)},X.getRefType=function(je){return je===void 0?je:je==="paper"?"paper":je==="pixel"?"pixel":/( domain)$/.test(je)?"domain":"range"},X.coercePosition=function(je,Ue,lt,Qe,gt,mt){var xt,dt;if(X.getRefType(Qe)!=="range")xt=v.ensureNumber,dt=lt(gt,mt);else{var Lt=X.getFromId(Ue,Qe);dt=lt(gt,mt=Lt.fraction2r(mt)),xt=Lt.cleanPos}je[gt]=xt(dt)},X.cleanPosition=function(je,Ue,lt){return(lt==="paper"||lt==="pixel"?v.ensureNumber:X.getFromId(Ue,lt).cleanPos)(je)},X.redrawComponents=function(je,Ue){Ue=Ue||X.listIds(je);var lt=je._fullLayout;function Qe(gt,mt,xt,dt){for(var Lt=_.getComponentMethod(gt,mt),kt={},_t=0;_t<Ue.length;_t++)for(var Ot=lt[X.id2name(Ue[_t])][xt],Pt=0;Pt<Ot.length;Pt++){var Bt=Ot[Pt];if(!kt[Bt]&&(Lt(je,Bt),kt[Bt]=1,dt))return}}Qe("annotations","drawOne","_annIndices"),Qe("shapes","drawOne","_shapeIndices"),Qe("images","draw","_imgIndices",!0),Qe("selections","drawOne","_selectionIndices")};var ve=X.getDataConversions=function(je,Ue,lt,Qe){var gt,mt=lt==="x"||lt==="y"||lt==="z"?lt:Qe;if(v.isArrayOrTypedArray(mt)){if(gt={type:J(Qe,void 0,{autotypenumbers:je._fullLayout.autotypenumbers}),_categories:[]},X.setConvert(gt),gt.type==="category")for(var xt=0;xt<Qe.length;xt++)gt.d2c(Qe[xt])}else gt=X.getFromTrace(je,Ue,mt);return gt?{d2c:gt.d2c,c2d:gt.c2d}:mt==="ids"?{d2c:we,c2d:we}:{d2c:be,c2d:be}};function be(je){return+je}function we(je){return String(je)}function ye(je,Ue){return Math.abs((je/Ue+.5)%1-.5)<.001}function me(je,Ue){return Math.abs(je/Ue-1)<.001}function Ae(je){return+je.substring(1)}function ke(je,Ue){return je.rangebreaks&&(Ue=Ue.filter(function(lt){return je.maskBreaks(lt.x)!==I})),Ue}function fe(je){var Ue=je._mainAxis,lt=[];if(Ue._vals){for(var Qe=0;Qe<Ue._vals.length;Qe++)if(!Ue._vals[Qe].noTick){var gt=Ue.l2p(Ue._vals[Qe].x),mt=je.p2l(gt),xt=X.tickText(je,mt);Ue._vals[Qe].minor&&(xt.minor=!0,xt.text=""),lt.push(xt)}}return ke(je,lt)}function le(je,Ue){var lt=ge(v.simpleMap(je.range,je.r2l)),Qe=Math.min(lt[0],lt[1]),gt=Math.max(lt[0],lt[1]),mt=je.type==="category"?je.d2l_noadd:je.d2l;je.type==="log"&&String(je.dtick).charAt(0)!=="L"&&(je.dtick="L"+Math.pow(10,Math.floor(Math.min(je.range[0],je.range[1]))-1));for(var xt=[],dt=0;dt<=1;dt++)if((Ue===void 0||!(Ue&&dt||Ue===!1&&!dt))&&(!dt||je.minor)){var Lt=dt?je.minor.tickvals:je.tickvals,kt=dt?[]:je.ticktext;if(Lt){v.isArrayOrTypedArray(kt)||(kt=[]);for(var _t=0;_t<Lt.length;_t++){var Ot=mt(Lt[_t]);if(Ot>Qe&&Ot<gt){var Pt=X.tickText(je,Ot,!1,String(kt[_t]));dt&&(Pt.minor=!0,Pt.text=""),xt.push(Pt)}}}}return ke(je,xt)}X.getDataToCoordFunc=function(je,Ue,lt,Qe){return ve(je,Ue,lt,Qe).d2c},X.counterLetter=function(je){var Ue=je.charAt(0);return Ue==="x"?"y":Ue==="y"?"x":void 0},X.minDtick=function(je,Ue,lt,Qe){["log","category","multicategory"].indexOf(je.type)===-1&&Qe?je._minDtick===void 0?(je._minDtick=Ue,je._forceTick0=lt):je._minDtick&&((je._minDtick/Ue+1e-6)%1<2e-6&&((lt-je._forceTick0)/Ue%1+1.000001)%1<2e-6?(je._minDtick=Ue,je._forceTick0=lt):((Ue/je._minDtick+1e-6)%1>2e-6||((lt-je._forceTick0)/je._minDtick%1+1.000001)%1>2e-6)&&(je._minDtick=0)):je._minDtick=0},X.saveRangeInitial=function(je,Ue){for(var lt=X.list(je,"",!0),Qe=!1,gt=0;gt<lt.length;gt++){var mt=lt[gt],xt=mt._rangeInitial0===void 0&&mt._rangeInitial1===void 0,dt=xt||mt.range[0]!==mt._rangeInitial0||mt.range[1]!==mt._rangeInitial1,Lt=mt.autorange;(xt&&Lt!==!0||Ue&&dt)&&(mt._rangeInitial0=Lt==="min"||Lt==="max reversed"?void 0:mt.range[0],mt._rangeInitial1=Lt==="max"||Lt==="min reversed"?void 0:mt.range[1],mt._autorangeInitial=Lt,Qe=!0)}return Qe},X.saveShowSpikeInitial=function(je,Ue){for(var lt=X.list(je,"",!0),Qe=!1,gt="on",mt=0;mt<lt.length;mt++){var xt=lt[mt],dt=xt._showSpikeInitial===void 0,Lt=dt||xt.showspikes!==xt._showspikes;(dt||Ue&&Lt)&&(xt._showSpikeInitial=xt.showspikes,Qe=!0),gt!=="on"||xt.showspikes||(gt="off")}return je._fullLayout._cartesianSpikesEnabled=gt,Qe},X.autoBin=function(je,Ue,lt,Qe,gt,mt){var xt,dt=v.aggNums(Math.min,null,je),Lt=v.aggNums(Math.max,null,je);if(Ue.type==="category"||Ue.type==="multicategory")return{start:dt-.5,end:Lt+.5,size:Math.max(1,Math.round(mt)||1),_dataSpan:Lt-dt};if(gt||(gt=Ue.calendar),xt=Ue.type==="log"?{type:"linear",range:[dt,Lt]}:{type:Ue.type,range:v.simpleMap([dt,Lt],Ue.c2r,0,gt),calendar:gt},X.setConvert(xt),mt=mt&&l.dtick(mt,xt.type))xt.dtick=mt,xt.tick0=l.tick0(void 0,xt.type,gt);else{var kt;if(lt)kt=(Lt-dt)/lt;else{var _t=v.distinctVals(je),Ot=Math.pow(10,Math.floor(Math.log(_t.minDiff)/Math.LN10)),Pt=Ot*v.roundUp(_t.minDiff/Ot,[.9,1.9,4.9,9.9],!0);kt=Math.max(Pt,2*v.stdev(je)/Math.pow(je.length,Qe?.25:.4)),w(kt)||(kt=1)}X.autoTicks(xt,kt)}var Bt,Jt=xt.dtick,on=X.tickIncrement(X.tickFirst(xt),Jt,"reverse",gt);if(typeof Jt=="number")on=function(qt,Gt,nn,Cn,An){var dn=0,Kt=0,un=0,rn=0;function hn(zn){return(1+100*(zn-qt)/nn.dtick)%100<2}for(var kn=0;kn<Gt.length;kn++)Gt[kn]%1==0?un++:w(Gt[kn])||rn++,hn(Gt[kn])&&dn++,hn(Gt[kn]+nn.dtick/2)&&Kt++;var Sn=Gt.length-rn;if(un===Sn&&nn.type!=="date")nn.dtick<1?qt=Cn-.5*nn.dtick:(qt-=.5)+nn.dtick<Cn&&(qt+=nn.dtick);else if(Kt<.1*Sn&&(dn>.3*Sn||hn(Cn)||hn(An))){var Rn=nn.dtick/2;qt+=qt+Rn<Cn?Rn:-Rn}return qt}(on,je,xt,dt,Lt),Bt=on+(1+Math.floor((Lt-on)/Jt))*Jt;else for(xt.dtick.charAt(0)==="M"&&(on=function(qt,Gt,nn,Cn,An){var dn=v.findExactDates(Gt,An);if(dn.exactDays>.8){var Kt=Number(nn.substr(1));dn.exactYears>.8&&Kt%12==0?qt=X.tickIncrement(qt,"M6","reverse")+1.5*p:dn.exactMonths>.8?qt=X.tickIncrement(qt,"M1","reverse")+15.5*p:qt-=S;var un=X.tickIncrement(qt,nn);if(un<=Cn)return un}return qt}(on,je,Jt,dt,gt)),Bt=on;Bt<=Lt;)Bt=X.tickIncrement(Bt,Jt,!1,gt);return{start:Ue.c2r(on,0,gt),end:Ue.c2r(Bt,0,gt),size:Jt,_dataSpan:Lt-dt}},X.prepMinorTicks=function(je,Ue,lt){if(!Ue.minor.dtick){delete je.dtick;var Qe,gt=Ue.dtick&&w(Ue._tmin);if(gt){var mt=X.tickIncrement(Ue._tmin,Ue.dtick,!0);Qe=[Ue._tmin,.99*mt+.01*Ue._tmin]}else{var xt=v.simpleMap(Ue.range,Ue.r2l);Qe=[xt[0],.8*xt[0]+.2*xt[1]]}if(je.range=v.simpleMap(Qe,Ue.l2r),je._isMinor=!0,X.prepTicks(je,lt),gt){var dt=w(Ue.dtick),Lt=w(je.dtick),kt=dt?Ue.dtick:+Ue.dtick.substring(1),_t=Lt?je.dtick:+je.dtick.substring(1);dt&&Lt?ye(kt,_t)?kt===2*T&&_t===2*p&&(je.dtick=T):kt===2*T&&_t===3*p?je.dtick=T:kt!==T||(Ue._input.minor||{}).nticks?me(kt/_t,2.5)?je.dtick=kt/2:je.dtick=kt:je.dtick=p:String(Ue.dtick).charAt(0)==="M"?Lt?je.dtick="M1":ye(kt,_t)?kt>=12&&_t===2&&(je.dtick="M3"):je.dtick=Ue.dtick:String(je.dtick).charAt(0)==="L"?String(Ue.dtick).charAt(0)==="L"?ye(kt,_t)||(je.dtick=me(kt/_t,2.5)?Ue.dtick/2:Ue.dtick):je.dtick="D1":je.dtick==="D2"&&+Ue.dtick>1&&(je.dtick=1)}je.range=Ue.range}Ue.minor._tick0Init===void 0&&(je.tick0=Ue.tick0)},X.prepTicks=function(je,Ue){var lt=v.simpleMap(je.range,je.r2l,void 0,void 0,Ue);if(je.tickmode==="auto"||!je.dtick){var Qe,gt=je.nticks;gt||(je.type==="category"||je.type==="multicategory"?(Qe=je.tickfont?v.bigFont(je.tickfont.size||12):15,gt=je._length/Qe):(Qe=je._id.charAt(0)==="y"?40:80,gt=v.constrain(je._length/Qe,4,9)+1),je._name==="radialaxis"&&(gt*=2)),je.minor&&je.minor.tickmode!=="array"||je.tickmode==="array"&&(gt*=100),je._roughDTick=Math.abs(lt[1]-lt[0])/gt,X.autoTicks(je,je._roughDTick),je._minDtick>0&&je.dtick<2*je._minDtick&&(je.dtick=je._minDtick,je.tick0=je.l2r(je._forceTick0))}je.ticklabelmode==="period"&&function(mt){var xt;function dt(){return!(w(mt.dtick)||mt.dtick.charAt(0)!=="M")}var Lt=dt(),kt=X.getTickFormat(mt);if(kt){var _t=mt._dtickInit!==mt.dtick;/%[fLQsSMX]/.test(kt)||(/%[HI]/.test(kt)?(xt=M,_t&&!Lt&&mt.dtick<M&&(mt.dtick=M)):/%p/.test(kt)?(xt=S,_t&&!Lt&&mt.dtick<S&&(mt.dtick=S)):/%[Aadejuwx]/.test(kt)?(xt=p,_t&&!Lt&&mt.dtick<p&&(mt.dtick=p)):/%[UVW]/.test(kt)?(xt=T,_t&&!Lt&&mt.dtick<T&&(mt.dtick=T)):/%[Bbm]/.test(kt)?(xt=y,_t&&(Lt?Ae(mt.dtick)<1:mt.dtick<x)&&(mt.dtick="M1")):/%[q]/.test(kt)?(xt=d,_t&&(Lt?Ae(mt.dtick)<3:mt.dtick<g)&&(mt.dtick="M3")):/%[Yy]/.test(kt)&&(xt=h,_t&&(Lt?Ae(mt.dtick)<12:mt.dtick<c)&&(mt.dtick="M12")))}(Lt=dt())&&mt.tick0===mt._dowTick0&&(mt.tick0=mt._rawTick0),mt._definedDelta=xt}(je),je.tick0||(je.tick0=je.type==="date"?"2000-01-01":0),je.type==="date"&&je.dtick<.1&&(je.dtick=.1),Te(je)},X.calcTicks=function(je,Ue){for(var lt,Qe,gt=je.type,mt=je.calendar,xt=je.ticklabelstep,dt=je.ticklabelmode==="period",Lt=v.simpleMap(je.range,je.r2l,void 0,void 0,Ue),kt=Lt[1]<Lt[0],_t=Math.min(Lt[0],Lt[1]),Ot=Math.max(Lt[0],Lt[1]),Pt=Math.max(1e3,je._length||0),Bt=[],Jt=[],on=[],qt=[],Gt=je.minor&&(je.minor.ticks||je.minor.showgrid),nn=1;nn>=(Gt?0:1);nn--){var Cn=!nn;nn?(je._dtickInit=je.dtick,je._tick0Init=je.tick0):(je.minor._dtickInit=je.minor.dtick,je.minor._tick0Init=je.minor.tick0);var An=nn?je:v.extendFlat({},je,je.minor);if(Cn?X.prepMinorTicks(An,je,Ue):X.prepTicks(An,Ue),An.tickmode!=="array")if(An.tickmode!=="sync"){var dn=ge(Lt),Kt=dn[0],un=dn[1],rn=w(An.dtick),hn=gt==="log"&&!(rn||An.dtick.charAt(0)==="L"),kn=X.tickFirst(An,Ue);if(nn){if(je._tmin=kn,kn<Kt!==kt)break;gt!=="category"&&gt!=="multicategory"||(un=kt?Math.max(-.5,un):Math.min(je._categories.length-.5,un))}var Sn,Rn,zn=null,Pn=kn;nn&&(rn?Rn=je.dtick:gt==="date"?typeof je.dtick=="string"&&je.dtick.charAt(0)==="M"&&(Rn=y*je.dtick.substring(1)):Rn=je._roughDTick,Sn=Math.round((je.r2l(Pn)-je.r2l(je.tick0))/Rn)-1);var Gn=An.dtick;for(An.rangebreaks&&An._tick0Init!==An.tick0&&(Pn=Ve(Pn,je),kt||(Pn=X.tickIncrement(Pn,Gn,!kt,mt))),nn&&dt&&(Pn=X.tickIncrement(Pn,Gn,!kt,mt),Sn--);kt?Pn>=un:Pn<=un;Pn=X.tickIncrement(Pn,Gn,kt,mt)){if(nn&&Sn++,An.rangebreaks&&!kt){if(Pn<Kt)continue;if(An.maskBreaks(Pn)===I&&Ve(Pn,An)>=Ot)break}if(on.length>Pt||Pn===zn)break;zn=Pn;var Nn={value:Pn};nn?(hn&&Pn!==(0|Pn)&&(Nn.simpleLabel=!0),xt>1&&Sn%xt&&(Nn.skipLabel=!0),on.push(Nn)):(Nn.minor=!0,qt.push(Nn))}}else on=[],Bt=fe(je);else nn?(on=[],Bt=le(je,!Cn)):(qt=[],Jt=le(je,!Cn))}if(Gt&&!(je.minor.ticks==="inside"&&je.ticks==="outside"||je.minor.ticks==="outside"&&je.ticks==="inside")){for(var or=on.map(function(It){return It.value}),lr=[],cr=0;cr<qt.length;cr++){var $n=qt[cr],Ar=$n.value;if(or.indexOf(Ar)===-1){for(var Ht=!1,an=0;!Ht&&an<on.length;an++)1e7+on[an].value===1e7+Ar&&(Ht=!0);Ht||lr.push($n)}}qt=lr}if(dt&&function(It,Xt,tn){for(var bn=0;bn<It.length;bn++){var yn=It[bn].value,Tn=bn,fn=bn+1;bn<It.length-1?(Tn=bn,fn=bn+1):bn>0?(Tn=bn-1,fn=bn):(Tn=bn,fn=bn);var $t,en=It[Tn].value,ln=It[fn].value,pn=Math.abs(ln-en),Ln=tn||pn,In=0;Ln>=c?In=pn>=c&&pn<=u?pn:h:tn===d&&Ln>=g?In=pn>=g&&pn<=b?pn:d:Ln>=x?In=pn>=x&&pn<=m?pn:y:tn===T&&Ln>=T?In=T:Ln>=p?In=p:tn===S&&Ln>=S?In=S:tn===M&&Ln>=M&&(In=M),In>=pn&&(In=pn,$t=!0);var Hn=yn+In;if(Xt.rangebreaks&&In>0){for(var qn=0,er=0;er<84;er++){var Zn=(er+.5)/84;Xt.maskBreaks(yn*(1-Zn)+Zn*Hn)!==I&&qn++}(In*=qn/84)||(It[bn].drop=!0),$t&&pn>T&&(In=pn)}(In>0||bn===0)&&(It[bn].periodX=yn+In/2)}}(on,je,je._definedDelta),je.rangebreaks){var _n=je._id.charAt(0)==="y",vn=1;je.tickmode==="auto"&&(vn=je.tickfont?je.tickfont.size:12);var En=NaN;for(lt=on.length-1;lt>-1;lt--)if(on[lt].drop)on.splice(lt,1);else{on[lt].value=Ve(on[lt].value,je);var Yn=je.c2p(on[lt].value);(_n?En>Yn-vn:En<Yn+vn)?on.splice(kt?lt+1:lt,1):En=Yn}}Ke(je)&&Math.abs(Lt[1]-Lt[0])===360&&on.pop(),je._tmax=(on[on.length-1]||{}).value,je._prevDateHead="",je._inCalcTicks=!0;var Fn,jn,ir=function(It){It.text="",je._prevDateHead=Qe};for(on=on.concat(qt),lt=0;lt<on.length;lt++){var Zt=on[lt].minor,mn=on[lt].value;Zt?Jt.push({x:mn,minor:!0}):(Qe=je._prevDateHead,Fn=X.tickText(je,mn,!1,on[lt].simpleLabel),(jn=on[lt].periodX)!==void 0&&(Fn.periodX=jn,(jn>Ot||jn<_t)&&(jn>Ot&&(Fn.periodX=Ot),jn<_t&&(Fn.periodX=_t),ir(Fn))),on[lt].skipLabel&&ir(Fn),Bt.push(Fn))}return Bt=Bt.concat(Jt),je._inCalcTicks=!1,dt&&Bt.length&&(Bt[0].noTick=!0),Bt};var de=[2,5,10],Ce=[1,2,3,6,12],Me=[1,2,5,10,15,30],Le=[1,2,3,7,14],Oe=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Be=[-.301,0,.301,.699,1],pe=[15,30,45,90,180];function _e(je,Ue,lt){return Ue*v.roundUp(je/Ue,lt)}function Te(je){var Ue=je.dtick;if(je._tickexponent=0,w(Ue)||typeof Ue=="string"||(Ue=1),je.type!=="category"&&je.type!=="multicategory"||(je._tickround=null),je.type==="date"){var lt=je.r2l(je.tick0),Qe=je.l2r(lt).replace(/(^-|i)/g,""),gt=Qe.length;if(String(Ue).charAt(0)==="M")gt>10||Qe.substr(5)!=="01-01"?je._tickround="d":je._tickround=+Ue.substr(1)%12==0?"y":"m";else if(Ue>=p&&gt<=10||Ue>=15*p)je._tickround="d";else if(Ue>=E&&gt<=16||Ue>=M)je._tickround="M";else if(Ue>=P&&gt<=19||Ue>=E)je._tickround="S";else{var mt=je.l2r(lt+Ue).replace(/^-/,"").length;je._tickround=Math.max(gt,mt)-20,je._tickround<0&&(je._tickround=4)}}else if(w(Ue)||Ue.charAt(0)==="L"){var xt=je.range.map(je.r2d||Number);w(Ue)||(Ue=Number(Ue.substr(1))),je._tickround=2-Math.floor(Math.log(Ue)/Math.LN10+.01);var dt=Math.max(Math.abs(xt[0]),Math.abs(xt[1])),Lt=Math.floor(Math.log(dt)/Math.LN10+.01),kt=je.minexponent===void 0?3:je.minexponent;Math.abs(Lt)>kt&&(ze(je.exponentformat)&&!Ge(Lt)?je._tickexponent=3*Math.round((Lt-1)/3):je._tickexponent=Lt)}else je._tickround=null}function Re(je,Ue,lt){var Qe=je.tickfont||{};return{x:Ue,dx:0,dy:0,text:lt||"",fontSize:Qe.size,font:Qe.family,fontColor:Qe.color}}X.autoTicks=function(je,Ue,lt){var Qe;function gt(Ot){return Math.pow(Ot,Math.floor(Math.log(Ue)/Math.LN10))}if(je.type==="date"){je.tick0=v.dateTick0(je.calendar,0);var mt=2*Ue;if(mt>h)Ue/=h,Qe=gt(10),je.dtick="M"+12*_e(Ue,Qe,de);else if(mt>y)Ue/=y,je.dtick="M"+_e(Ue,1,Ce);else if(mt>p){if(je.dtick=_e(Ue,p,je._hasDayOfWeekBreaks?[1,2,7,14]:Le),!lt){var xt=X.getTickFormat(je),dt=je.ticklabelmode==="period";dt&&(je._rawTick0=je.tick0),/%[uVW]/.test(xt)?je.tick0=v.dateTick0(je.calendar,2):je.tick0=v.dateTick0(je.calendar,1),dt&&(je._dowTick0=je.tick0)}}else mt>M?je.dtick=_e(Ue,M,Ce):mt>E?je.dtick=_e(Ue,E,Me):mt>P?je.dtick=_e(Ue,P,Me):(Qe=gt(10),je.dtick=_e(Ue,Qe,de))}else if(je.type==="log"){je.tick0=0;var Lt=v.simpleMap(je.range,je.r2l);if(je._isMinor&&(Ue*=1.5),Ue>.7)je.dtick=Math.ceil(Ue);else if(Math.abs(Lt[1]-Lt[0])<1){var kt=1.5*Math.abs((Lt[1]-Lt[0])/Ue);Ue=Math.abs(Math.pow(10,Lt[1])-Math.pow(10,Lt[0]))/kt,Qe=gt(10),je.dtick="L"+_e(Ue,Qe,de)}else je.dtick=Ue>.3?"D2":"D1"}else je.type==="category"||je.type==="multicategory"?(je.tick0=0,je.dtick=Math.ceil(Math.max(Ue,1))):Ke(je)?(je.tick0=0,Qe=1,je.dtick=_e(Ue,Qe,pe)):(je.tick0=0,Qe=gt(10),je.dtick=_e(Ue,Qe,de));if(je.dtick===0&&(je.dtick=1),!w(je.dtick)&&typeof je.dtick!="string"){var _t=je.dtick;throw je.dtick=1,"ax.dtick error: "+String(_t)}},X.tickIncrement=function(je,Ue,lt,Qe){var gt=lt?-1:1;if(w(Ue))return v.increment(je,gt*Ue);var mt=Ue.charAt(0),xt=gt*Number(Ue.substr(1));if(mt==="M")return v.incrementMonth(je,xt,Qe);if(mt==="L")return Math.log(Math.pow(10,je)+xt)/Math.LN10;if(mt==="D"){var dt=Ue==="D2"?Be:Oe,Lt=je+.01*gt,kt=v.roundUp(v.mod(Lt,1),dt,lt);return Math.floor(Lt)+Math.log(k.round(Math.pow(10,kt),1))/Math.LN10}throw"unrecognized dtick "+String(Ue)},X.tickFirst=function(je,Ue){var lt=je.r2l||Number,Qe=v.simpleMap(je.range,lt,void 0,void 0,Ue),gt=Qe[1]<Qe[0],mt=gt?Math.floor:Math.ceil,xt=ge(Qe)[0],dt=je.dtick,Lt=lt(je.tick0);if(w(dt)){var kt=mt((xt-Lt)/dt)*dt+Lt;return je.type!=="category"&&je.type!=="multicategory"||(kt=v.constrain(kt,0,je._categories.length-1)),kt}var _t=dt.charAt(0),Ot=Number(dt.substr(1));if(_t==="M"){for(var Pt,Bt,Jt,on=0,qt=Lt;on<10;){if(((Pt=X.tickIncrement(qt,dt,gt,je.calendar))-xt)*(qt-xt)<=0)return gt?Math.min(qt,Pt):Math.max(qt,Pt);Bt=(xt-(qt+Pt)/2)/(Pt-qt),Jt=_t+(Math.abs(Math.round(Bt))||1)*Ot,qt=X.tickIncrement(qt,Jt,Bt<0?!gt:gt,je.calendar),on++}return v.error("tickFirst did not converge",je),qt}if(_t==="L")return Math.log(mt((Math.pow(10,xt)-Lt)/Ot)*Ot+Lt)/Math.LN10;if(_t==="D"){var Gt=dt==="D2"?Be:Oe,nn=v.roundUp(v.mod(xt,1),Gt,gt);return Math.floor(xt)+Math.log(k.round(Math.pow(10,nn),1))/Math.LN10}throw"unrecognized dtick "+String(dt)},X.tickText=function(je,Ue,lt,Qe){var gt,mt=Re(je,Ue),xt=je.tickmode==="array",dt=lt||xt,Lt=je.type,kt=Lt==="category"?je.d2l_noadd:je.d2l,_t=function(qt){var Gt=je.l2p(qt);return Gt>=0&&Gt<=je._length?qt:null};if(xt&&v.isArrayOrTypedArray(je.ticktext)){var Ot=v.simpleMap(je.range,je.r2l),Pt=(Math.abs(Ot[1]-Ot[0])-(je._lBreaks||0))/1e4;for(gt=0;gt<je.ticktext.length&&!(Math.abs(Ue-kt(je.tickvals[gt]))<Pt);gt++);if(gt<je.ticktext.length)return mt.text=String(je.ticktext[gt]),mt.xbnd=[_t(mt.x-.5),_t(mt.x+je.dtick-.5)],mt}function Bt(qt){if(qt===void 0)return!0;if(lt)return qt==="none";var Gt={first:je._tmin,last:je._tmax}[qt];return qt!=="all"&&Ue!==Gt}var Jt=lt?"never":je.exponentformat!=="none"&&Bt(je.showexponent)?"hide":"";if(Lt==="date"?function(qt,Gt,nn,Cn){var An=qt._tickround,dn=nn&&qt.hoverformat||X.getTickFormat(qt);(Cn=!dn&&Cn)&&(An=w(An)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[An]);var Kt,un=v.formatDate(Gt.x,dn,An,qt._dateFormat,qt.calendar,qt._extraFormat),rn=un.indexOf(`
`);if(rn!==-1&&(Kt=un.substr(rn+1),un=un.substr(0,rn)),Cn&&(Kt===void 0||un!=="00:00:00"&&un!=="00:00"?un.length===8&&(un=un.replace(/:00$/,"")):(un=Kt,Kt="")),Kt)if(nn)An==="d"?un+=", "+Kt:un=Kt+(un?", "+un:"");else if(qt._inCalcTicks&&qt._prevDateHead===Kt){var hn=Je(qt),kn=qt._trueSide||qt.side;(!hn&&kn==="top"||hn&&kn==="bottom")&&(un+="<br> ")}else qt._prevDateHead=Kt,un+="<br>"+Kt;Gt.text=un}(je,mt,lt,dt):Lt==="log"?function(qt,Gt,nn,Cn,An){var dn=qt.dtick,Kt=Gt.x,un=qt.tickformat,rn=typeof dn=="string"&&dn.charAt(0);if(An==="never"&&(An=""),Cn&&rn!=="L"&&(dn="L3",rn="L"),un||rn==="L")Gt.text=Ye(Math.pow(10,Kt),qt,An,Cn);else if(w(dn)||rn==="D"&&v.mod(Kt+.01,1)<.1){var hn=Math.round(Kt),kn=Math.abs(hn),Sn=qt.exponentformat;Sn==="power"||ze(Sn)&&Ge(hn)?(Gt.text=hn===0?1:hn===1?"10":"10<sup>"+(hn>1?"":O)+kn+"</sup>",Gt.fontSize*=1.25):(Sn==="e"||Sn==="E")&&kn>2?Gt.text="1"+Sn+(hn>0?"+":O)+kn:(Gt.text=Ye(Math.pow(10,Kt),qt,"","fakehover"),dn==="D1"&&qt._id.charAt(0)==="y"&&(Gt.dy-=Gt.fontSize/6))}else{if(rn!=="D")throw"unrecognized dtick "+String(dn);Gt.text=String(Math.round(Math.pow(10,v.mod(Kt,1)))),Gt.fontSize*=.75}if(qt.dtick==="D1"){var Rn=String(Gt.text).charAt(0);Rn!=="0"&&Rn!=="1"||(qt._id.charAt(0)==="y"?Gt.dx-=Gt.fontSize/4:(Gt.dy+=Gt.fontSize/2,Gt.dx+=(qt.range[1]>qt.range[0]?1:-1)*Gt.fontSize*(Kt<0?.5:.25)))}}(je,mt,0,dt,Jt):Lt==="category"?function(qt,Gt){var nn=qt._categories[Math.round(Gt.x)];nn===void 0&&(nn=""),Gt.text=String(nn)}(je,mt):Lt==="multicategory"?function(qt,Gt,nn){var Cn=Math.round(Gt.x),An=qt._categories[Cn]||[],dn=An[1]===void 0?"":String(An[1]),Kt=An[0]===void 0?"":String(An[0]);nn?Gt.text=Kt+" - "+dn:(Gt.text=dn,Gt.text2=Kt)}(je,mt,lt):Ke(je)?function(qt,Gt,nn,Cn,An){if(qt.thetaunit!=="radians"||nn)Gt.text=Ye(Gt.x,qt,An,Cn);else{var dn=Gt.x/180;if(dn===0)Gt.text="0";else{var Kt=function(rn){function hn(zn,Pn){return Math.abs(zn-Pn)<=1e-6}var kn=function(zn){for(var Pn=1;!hn(Math.round(zn*Pn)/Pn,zn);)Pn*=10;return Pn}(rn),Sn=rn*kn,Rn=Math.abs(function zn(Pn,Gn){return hn(Gn,0)?Pn:zn(Gn,Pn%Gn)}(Sn,kn));return[Math.round(Sn/Rn),Math.round(kn/Rn)]}(dn);if(Kt[1]>=100)Gt.text=Ye(v.deg2rad(Gt.x),qt,An,Cn);else{var un=Gt.x<0;Kt[1]===1?Kt[0]===1?Gt.text="":Gt.text=Kt[0]+"":Gt.text=["<sup>",Kt[0],"</sup>","","<sub>",Kt[1],"</sub>",""].join(""),un&&(Gt.text=O+Gt.text)}}}}(je,mt,lt,dt,Jt):function(qt,Gt,nn,Cn,An){An==="never"?An="":qt.showexponent==="all"&&Math.abs(Gt.x/qt.dtick)<1e-6&&(An="hide"),Gt.text=Ye(Gt.x,qt,An,Cn)}(je,mt,0,dt,Jt),Qe||(je.tickprefix&&!Bt(je.showtickprefix)&&(mt.text=je.tickprefix+mt.text),je.ticksuffix&&!Bt(je.showticksuffix)&&(mt.text+=je.ticksuffix)),je.labelalias&&je.labelalias.hasOwnProperty(mt.text)){var on=je.labelalias[mt.text];typeof on=="string"&&(mt.text=on)}return(je.tickson==="boundaries"||je.showdividers)&&(mt.xbnd=[_t(mt.x-.5),_t(mt.x+je.dtick-.5)]),mt},X.hoverLabelText=function(je,Ue,lt){lt&&(je=v.extendFlat({},je,{hoverformat:lt}));var Qe=v.isArrayOrTypedArray(Ue)?Ue[0]:Ue,gt=v.isArrayOrTypedArray(Ue)?Ue[1]:void 0;if(gt!==void 0&&gt!==Qe)return X.hoverLabelText(je,Qe,lt)+" - "+X.hoverLabelText(je,gt,lt);var mt=je.type==="log"&&Qe<=0,xt=X.tickText(je,je.c2l(mt?-Qe:Qe),"hover").text;return mt?Qe===0?"0":O+xt:xt};var Ne=["f","p","n","","m","","k","M","G","T"];function ze(je){return je==="SI"||je==="B"}function Ge(je){return je>14||je<-15}function Ye(je,Ue,lt,Qe){var gt=je<0,mt=Ue._tickround,xt=lt||Ue.exponentformat||"B",dt=Ue._tickexponent,Lt=X.getTickFormat(Ue),kt=Ue.separatethousands;if(Qe){var _t={exponentformat:xt,minexponent:Ue.minexponent,dtick:Ue.showexponent==="none"?Ue.dtick:w(je)&&Math.abs(je)||1,range:Ue.showexponent==="none"?Ue.range.map(Ue.r2d):[0,je||1]};Te(_t),mt=(Number(_t._tickround)||0)+4,dt=_t._tickexponent,Ue.hoverformat&&(Lt=Ue.hoverformat)}if(Lt)return Ue._numFormat(Lt)(je).replace(/-/g,O);var Ot,Pt=Math.pow(10,-mt)/2;if(xt==="none"&&(dt=0),(je=Math.abs(je))<Pt)je="0",gt=!1;else{if(je+=Pt,dt&&(je*=Math.pow(10,-dt),mt+=dt),mt===0)je=String(Math.floor(je));else if(mt<0){je=(je=String(Math.round(je))).substr(0,je.length+mt);for(var Bt=mt;Bt<0;Bt++)je+="0"}else{var Jt=(je=String(je)).indexOf(".")+1;Jt&&(je=je.substr(0,Jt+mt).replace(/\.?0+$/,""))}je=v.numSeparate(je,Ue._separators,kt)}return dt&&xt!=="hide"&&(ze(xt)&&Ge(dt)&&(xt="power"),Ot=dt<0?O+-dt:xt!=="power"?"+"+dt:String(dt),xt==="e"||xt==="E"?je+=xt+Ot:xt==="power"?je+="10<sup>"+Ot+"</sup>":xt==="B"&&dt===9?je+="B":ze(xt)&&(je+=Ne[dt/3+5])),gt?O+je:je}function et(je,Ue){if(je){var lt=Object.keys(F).reduce(function(Qe,gt){return Ue.indexOf(gt)!==-1&&F[gt].forEach(function(mt){Qe[mt]=1}),Qe},{});Object.keys(je).forEach(function(Qe){lt[Qe]||(Qe.length===1?je[Qe]=0:delete je[Qe])})}}function ut(je,Ue){for(var lt=[],Qe={},gt=0;gt<Ue.length;gt++){var mt=Ue[gt];Qe[mt.text2]?Qe[mt.text2].push(mt.x):Qe[mt.text2]=[mt.x]}for(var xt in Qe)lt.push(Re(je,v.interp(Qe[xt],.5),xt));return lt}function ot(je){return je.periodX!==void 0?je.periodX:je.x}function yt(je){return[je.text,je.x,je.axInfo,je.font,je.fontSize,je.fontColor].join("_")}function wt(je){var Ue=je.title.font.size,lt=(je.title.text.match(s.BR_TAG_ALL)||[]).length;return je.title.hasOwnProperty("standoff")?lt?Ue*(te+lt*Q):Ue*te:lt?Ue*(lt+1)*Q:Ue}function bt(je,Ue){var lt=je.l2p(Ue);return lt>1&&lt<je._length-1}function at(je){var Ue=k.select(je),lt=Ue.select(".text-math-group");return lt.empty()?Ue.select("text"):lt}function rt(je){return je._id+".automargin"}function At(je){return rt(je)+".mirror"}function Rt(je){return je._id+".rangeslider"}function Ft(je,Ue){for(var lt=0;lt<Ue.length;lt++)je.indexOf(Ue[lt])===-1&&je.push(Ue[lt])}function Dt(je,Ue,lt){var Qe,gt,mt=[],xt=[],dt=je.layout;for(Qe=0;Qe<Ue.length;Qe++)mt.push(X.getFromId(je,Ue[Qe]));for(Qe=0;Qe<lt.length;Qe++)xt.push(X.getFromId(je,lt[Qe]));var Lt=Object.keys(i),kt=["anchor","domain","overlaying","position","side","tickangle","editType"],_t=["linear","log"];for(Qe=0;Qe<Lt.length;Qe++){var Ot=Lt[Qe],Pt=mt[0][Ot],Bt=xt[0][Ot],Jt=!0,on=!1,qt=!1;if(Ot.charAt(0)!=="_"&&typeof Pt!="function"&&kt.indexOf(Ot)===-1){for(gt=1;gt<mt.length&&Jt;gt++){var Gt=mt[gt][Ot];Ot==="type"&&_t.indexOf(Pt)!==-1&&_t.indexOf(Gt)!==-1&&Pt!==Gt?on=!0:Gt!==Pt&&(Jt=!1)}for(gt=1;gt<xt.length&&Jt;gt++){var nn=xt[gt][Ot];Ot==="type"&&_t.indexOf(Bt)!==-1&&_t.indexOf(nn)!==-1&&Bt!==nn?qt=!0:xt[gt][Ot]!==Bt&&(Jt=!1)}Jt&&(on&&(dt[mt[0]._name].type="linear"),qt&&(dt[xt[0]._name].type="linear"),Xe(dt,Ot,mt,xt,je._fullLayout._dfltTitle))}}for(Qe=0;Qe<je._fullLayout.annotations.length;Qe++){var Cn=je._fullLayout.annotations[Qe];Ue.indexOf(Cn.xref)!==-1&&lt.indexOf(Cn.yref)!==-1&&v.swapAttrs(dt.annotations[Qe],["?"])}}function Xe(je,Ue,lt,Qe,gt){var mt,xt=v.nestedProperty,dt=xt(je[lt[0]._name],Ue).get(),Lt=xt(je[Qe[0]._name],Ue).get();for(Ue==="title"&&(dt&&dt.text===gt.x&&(dt.text=gt.y),Lt&&Lt.text===gt.y&&(Lt.text=gt.x)),mt=0;mt<lt.length;mt++)xt(je,lt[mt]._name+"."+Ue).set(Lt);for(mt=0;mt<Qe.length;mt++)xt(je,Qe[mt]._name+"."+Ue).set(dt)}function Ke(je){return je._id==="angularaxis"}function Ve(je,Ue){for(var lt=Ue._rangebreaks.length,Qe=0;Qe<lt;Qe++){var gt=Ue._rangebreaks[Qe];if(je>=gt.min&&je<gt.max)return gt.max}return je}function Je(je){return(je.ticklabelposition||"").indexOf("inside")!==-1}function ct(je,Ue){Je(je._anchorAxis||{})&&je._hideCounterAxisInsideTickLabels&&je._hideCounterAxisInsideTickLabels(Ue)}function st(je,Ue,lt,Qe){var gt,mt=je.anchor==="free"||je.overlaying!==void 0&&je.overlaying!==!1?je.overlaying:je._id;gt=Qe?je.side==="right"?Ue:-Ue:Ue,mt in lt||(lt[mt]={}),je.side in lt[mt]||(lt[mt][je.side]=0),lt[mt][je.side]+=gt}X.getTickFormat=function(je){var Ue,lt,Qe,gt,mt,xt,dt,Lt;function kt(Pt){return typeof Pt!="string"?Pt:Number(Pt.replace("M",""))*y}function _t(Pt,Bt){var Jt=["L","D"];if(typeof Pt==typeof Bt){if(typeof Pt=="number")return Pt-Bt;var on=Jt.indexOf(Pt.charAt(0)),qt=Jt.indexOf(Bt.charAt(0));return on===qt?Number(Pt.replace(/(L|D)/g,""))-Number(Bt.replace(/(L|D)/g,"")):on-qt}return typeof Pt=="number"?1:-1}function Ot(Pt,Bt){var Jt=Bt[0]===null,on=Bt[1]===null,qt=_t(Pt,Bt[0])>=0,Gt=_t(Pt,Bt[1])<=0;return(Jt||qt)&&(on||Gt)}if(je.tickformatstops&&je.tickformatstops.length>0)switch(je.type){case"date":case"linear":for(Ue=0;Ue<je.tickformatstops.length;Ue++)if((Qe=je.tickformatstops[Ue]).enabled&&(gt=je.dtick,mt=Qe.dtickrange,xt=void 0,dt=void 0,Lt=void 0,xt=kt||function(Pt){return Pt},dt=mt[0],Lt=mt[1],(!dt&&typeof dt!="number"||xt(dt)<=xt(gt))&&(!Lt&&typeof Lt!="number"||xt(Lt)>=xt(gt)))){lt=Qe;break}break;case"log":for(Ue=0;Ue<je.tickformatstops.length;Ue++)if((Qe=je.tickformatstops[Ue]).enabled&&Ot(je.dtick,Qe.dtickrange)){lt=Qe;break}}return lt?lt.value:je.tickformat},X.getSubplots=function(je,Ue){var lt=je._fullLayout._subplots,Qe=lt.cartesian.concat(lt.gl2d||[]),gt=Ue?X.findSubplotsWithAxis(Qe,Ue):Qe;return gt.sort(function(mt,xt){var dt=mt.substr(1).split("y"),Lt=xt.substr(1).split("y");return dt[0]===Lt[0]?+dt[1]-+Lt[1]:+dt[0]-+Lt[0]}),gt},X.findSubplotsWithAxis=function(je,Ue){for(var lt=new RegExp(Ue._id.charAt(0)==="x"?"^"+Ue._id+"y":Ue._id+"$"),Qe=[],gt=0;gt<je.length;gt++){var mt=je[gt];lt.test(mt)&&Qe.push(mt)}return Qe},X.makeClipPaths=function(je){var Ue=je._fullLayout;if(!Ue._hasOnlyLargeSploms){var lt,Qe,gt={_offset:0,_length:Ue.width,_id:""},mt={_offset:0,_length:Ue.height,_id:""},xt=X.list(je,"x",!0),dt=X.list(je,"y",!0),Lt=[];for(lt=0;lt<xt.length;lt++)for(Lt.push({x:xt[lt],y:mt}),Qe=0;Qe<dt.length;Qe++)lt===0&&Lt.push({x:gt,y:dt[Qe]}),Lt.push({x:xt[lt],y:dt[Qe]});var kt=Ue._clips.selectAll(".axesclip").data(Lt,function(_t){return _t.x._id+_t.y._id});kt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(_t){return"clip"+Ue._uid+_t.x._id+_t.y._id}).append("rect"),kt.exit().remove(),kt.each(function(_t){k.select(this).select("rect").attr({x:_t.x._offset||0,y:_t.y._offset||0,width:_t.x._length||1,height:_t.y._length||1})})}},X.draw=function(je,Ue,lt){var Qe=je._fullLayout;Ue==="redraw"&&Qe._paper.selectAll("g.subplot").each(function(dt){var Lt=dt[0],kt=Qe._plots[Lt];if(kt){var _t=kt.xaxis,Ot=kt.yaxis;kt.xaxislayer.selectAll("."+_t._id+"tick").remove(),kt.yaxislayer.selectAll("."+Ot._id+"tick").remove(),kt.xaxislayer.selectAll("."+_t._id+"tick2").remove(),kt.yaxislayer.selectAll("."+Ot._id+"tick2").remove(),kt.xaxislayer.selectAll("."+_t._id+"divider").remove(),kt.yaxislayer.selectAll("."+Ot._id+"divider").remove(),kt.minorGridlayer&&kt.minorGridlayer.selectAll("path").remove(),kt.gridlayer&&kt.gridlayer.selectAll("path").remove(),kt.zerolinelayer&&kt.zerolinelayer.selectAll("path").remove(),Qe._infolayer.select(".g-"+_t._id+"title").remove(),Qe._infolayer.select(".g-"+Ot._id+"title").remove()}});var gt=Ue&&Ue!=="redraw"?Ue:X.listIds(je),mt=X.list(je).filter(function(dt){return dt.autoshift}).map(function(dt){return dt.overlaying});gt.map(function(dt){var Lt=X.getFromId(je,dt);if(Lt.tickmode==="sync"&&Lt.overlaying){var kt=gt.findIndex(function(_t){return _t===Lt.overlaying});kt>=0&&gt.unshift(gt.splice(kt,1).shift())}});var xt={false:{left:0,right:0}};return v.syncOrAsync(gt.map(function(dt){return function(){if(dt){var Lt=X.getFromId(je,dt);lt||(lt={}),lt.axShifts=xt,lt.overlayingShiftedAx=mt;var kt=X.drawOne(je,Lt,lt);return Lt._shiftPusher&&st(Lt,Lt._fullDepth||0,xt,!0),Lt._r=Lt.range.slice(),Lt._rl=v.simpleMap(Lt._r,Lt.r2l),kt}}}))},X.drawOne=function(je,Ue,lt){var Qe,gt,mt,xt=(lt=lt||{}).axShifts||{},dt=lt.overlayingShiftedAx||[];Ue.setScale();var Lt=je._fullLayout,kt=Ue._id,_t=kt.charAt(0),Ot=X.counterLetter(kt),Pt=Lt._plots[Ue._mainSubplot];if(Pt){if(Ue._shiftPusher=Ue.autoshift||dt.indexOf(Ue._id)!==-1||dt.indexOf(Ue.overlaying)!==-1,Ue._shiftPusher&Ue.anchor==="free"){var Bt=Ue.linewidth/2||0;Ue.ticks==="inside"&&(Bt+=Ue.ticklen),st(Ue,Bt,xt,!0),st(Ue,Ue.shift||0,xt,!1)}lt.skipTitle===!0&&Ue._shift!==void 0||(Ue._shift=function(fn,$t){return fn.autoshift?$t[fn.overlaying][fn.side]:fn.shift||0}(Ue,xt));var Jt=Pt[_t+"axislayer"],on=Ue._mainLinePosition,qt=on+=Ue._shift,Gt=Ue._mainMirrorPosition,nn=Ue._vals=X.calcTicks(Ue),Cn=[Ue.mirror,qt,Gt].join("_");for(Qe=0;Qe<nn.length;Qe++)nn[Qe].axInfo=Cn;Ue._selections={},Ue._tickAngles&&(Ue._prevTickAngles=Ue._tickAngles),Ue._tickAngles={},Ue._depth=null;var An={};if(Ue.visible){var dn,Kt,un=X.makeTransTickFn(Ue),rn=X.makeTransTickLabelFn(Ue),hn=Ue.ticks==="inside",kn=Ue.ticks==="outside";if(Ue.tickson==="boundaries"){var Sn=function(fn,$t){var en,ln=[],pn=function(Ln,In){var Hn=Ln.xbnd[In];Hn!==null&&ln.push(v.extendFlat({},Ln,{x:Hn}))};if($t.length){for(en=0;en<$t.length;en++)pn($t[en],0);pn($t[en-1],1)}return ln}(0,nn);Kt=X.clipEnds(Ue,Sn),dn=hn?Kt:Sn}else Kt=X.clipEnds(Ue,nn),dn=hn&&Ue.ticklabelmode!=="period"?Kt:nn;var Rn,zn=Ue._gridVals=Kt,Pn=function(fn,$t){var en,ln,pn=[],Ln=$t.length&&$t[$t.length-1].x<$t[0].x,In=function(qn,er){var Zn=qn.xbnd[er];Zn!==null&&pn.push(v.extendFlat({},qn,{x:Zn}))};if(fn.showdividers&&$t.length){for(en=0;en<$t.length;en++){var Hn=$t[en];Hn.text2!==ln&&In(Hn,Ln?1:0),ln=Hn.text2}In($t[en-1],Ln?0:1)}return pn}(Ue,nn);if(!Lt._hasOnlyLargeSploms){var Gn=Ue._subplotsWith,Nn={};for(Qe=0;Qe<Gn.length;Qe++){gt=Gn[Qe];var or=(mt=Lt._plots[gt])[Ot+"axis"],lr=or._mainAxis._id;if(!Nn[lr]){Nn[lr]=1;var cr=_t==="x"?"M0,"+or._offset+"v"+or._length:"M"+or._offset+",0h"+or._length;X.drawGrid(je,Ue,{vals:zn,counterAxis:or,layer:mt.gridlayer.select("."+kt),minorLayer:mt.minorGridlayer.select("."+kt),path:cr,transFn:un}),X.drawZeroLine(je,Ue,{counterAxis:or,layer:mt.zerolinelayer,path:cr,transFn:un})}}}var $n=X.getTickSigns(Ue),Ar=X.getTickSigns(Ue,"minor");if(Ue.ticks||Ue.minor&&Ue.minor.ticks){var Ht,an,_n,vn,En=X.makeTickPath(Ue,qt,$n[2]),Yn=X.makeTickPath(Ue,qt,Ar[2],{minor:!0});if(Ue._anchorAxis&&Ue.mirror&&Ue.mirror!==!0?(Ht=X.makeTickPath(Ue,Gt,$n[3]),an=X.makeTickPath(Ue,Gt,Ar[3],{minor:!0}),_n=En+Ht,vn=Yn+an):(Ht="",an="",_n=En,vn=Yn),Ue.showdividers&&kn&&Ue.tickson==="boundaries"){var Fn={};for(Qe=0;Qe<Pn.length;Qe++)Fn[Pn[Qe].x]=1;Rn=function(fn){return Fn[fn.x]?Ht:_n}}else Rn=function(fn){return fn.minor?vn:_n}}if(X.drawTicks(je,Ue,{vals:dn,layer:Jt,path:Rn,transFn:un}),Ue.mirror==="allticks"){var jn=Object.keys(Ue._linepositions||{});for(Qe=0;Qe<jn.length;Qe++){gt=jn[Qe],mt=Lt._plots[gt];var ir=Ue._linepositions[gt]||[],Zt=ir[0],mn=ir[1],It=ir[2],Xt=X.makeTickPath(Ue,Zt,It?$n[0]:Ar[0],{minor:It})+X.makeTickPath(Ue,mn,It?$n[1]:Ar[1],{minor:It});X.drawTicks(je,Ue,{vals:dn,layer:mt[_t+"axislayer"],path:Xt,transFn:un})}}var tn=[];if(tn.push(function(){return X.drawLabels(je,Ue,{vals:nn,layer:Jt,plotinfo:mt,transFn:rn,labelFns:X.makeLabelFns(Ue,qt)})}),Ue.type==="multicategory"){var bn={x:2,y:10}[_t];tn.push(function(){var fn={x:"height",y:"width"}[_t],$t=Tn()[fn]+bn+(Ue._tickAngles[kt+"tick"]?Ue.tickfont.size*Q:0);return X.drawLabels(je,Ue,{vals:ut(Ue,nn),layer:Jt,cls:kt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:un,labelFns:X.makeLabelFns(Ue,qt+$t*$n[4])})}),tn.push(function(){return Ue._depth=$n[4]*(Tn("tick2")[Ue.side]-qt),function(fn,$t,en){var ln=$t._id+"divider",pn=en.vals,Ln=en.layer.selectAll("path."+ln).data(pn,yt);Ln.exit().remove(),Ln.enter().insert("path",":first-child").classed(ln,1).classed("crisp",1).call(a.stroke,$t.dividercolor).style("stroke-width",n.crispRound(fn,$t.dividerwidth,1)+"px"),Ln.attr("transform",en.transFn).attr("d",en.path)}(je,Ue,{vals:Pn,layer:Jt,path:X.makeTickPath(Ue,qt,$n[4],{len:Ue._depth}),transFn:un})})}else Ue.title.hasOwnProperty("standoff")&&tn.push(function(){Ue._depth=$n[4]*(Tn()[Ue.side]-qt)});var yn=_.getComponentMethod("rangeslider","isVisible")(Ue);return lt.skipTitle||yn&&Ue.side==="bottom"||tn.push(function(){return function(fn,$t){var en,ln=fn._fullLayout,pn=$t._id,Ln=pn.charAt(0),In=$t.title.font.size;if($t.title.hasOwnProperty("standoff"))en=$t._depth+$t.title.standoff+wt($t);else{var Hn=Je($t);if($t.type==="multicategory")en=$t._depth;else{var qn=1.5*In;Hn&&(qn=.5*In,$t.ticks==="outside"&&(qn+=$t.ticklen)),en=10+qn+($t.linewidth?$t.linewidth-1:0)}Hn||(en+=Ln==="x"?$t.side==="top"?In*($t.showticklabels?1:0):In*($t.showticklabels?1.5:.5):$t.side==="right"?In*($t.showticklabels?1:.5):In*($t.showticklabels?.5:0))}var er,Zn,tr,nr,Qn=X.getPxPosition(fn,$t);if(Ln==="x"?(Zn=$t._offset+$t._length/2,tr=$t.side==="top"?Qn-en:Qn+en):(tr=$t._offset+$t._length/2,Zn=$t.side==="right"?Qn+en:Qn-en,er={rotate:"-90",offset:0}),$t.type!=="multicategory"){var yr=$t._selections[$t._id+"tick"];if(nr={selection:yr,side:$t.side},yr&&yr.node()&&yr.node().parentNode){var fr=n.getTranslate(yr.node().parentNode);nr.offsetLeft=fr.x,nr.offsetTop=fr.y}$t.title.hasOwnProperty("standoff")&&(nr.pad=0)}return $t._titleStandoff=en,t.draw(fn,pn+"title",{propContainer:$t,propName:$t._name+".title.text",placeholder:ln._dfltTitle[Ln],avoid:nr,transform:er,attributes:{x:Zn,y:tr,"text-anchor":"middle"}})}(je,Ue)}),tn.push(function(){var fn,$t,en,ln,pn=Ue.side.charAt(0),Ln=K[Ue.side].charAt(0),In=X.getPxPosition(je,Ue),Hn=kn?Ue.ticklen:0;(Ue.automargin||yn||Ue._shiftPusher)&&(Ue.type==="multicategory"?fn=Tn("tick2"):(fn=Tn(),_t==="x"&&pn==="b"&&(Ue._depth=Math.max(fn.width>0?fn.bottom-In:0,Hn))));var qn=0,er=0;if(Ue._shiftPusher&&(qn=Math.max(Hn,fn.height>0?pn==="l"?In-fn.left:fn.right-In:0),Ue.title.text!==Lt._dfltTitle[_t]&&(er=(Ue._titleStandoff||0)+(Ue._titleScoot||0),pn==="l"&&(er+=wt(Ue))),Ue._fullDepth=Math.max(qn,er)),Ue.automargin){$t={x:0,y:0,r:0,l:0,t:0,b:0};var Zn=[0,1],tr=typeof Ue._shift=="number"?Ue._shift:0;if(_t==="x"){if(pn==="b"?$t[pn]=Ue._depth:($t[pn]=Ue._depth=Math.max(fn.width>0?In-fn.top:0,Hn),Zn.reverse()),fn.width>0){var nr=fn.right-(Ue._offset+Ue._length);nr>0&&($t.xr=1,$t.r=nr);var Qn=Ue._offset-fn.left;Qn>0&&($t.xl=0,$t.l=Qn)}}else if(pn==="l"?(Ue._depth=Math.max(fn.height>0?In-fn.left:0,Hn),$t[pn]=Ue._depth-tr):(Ue._depth=Math.max(fn.height>0?fn.right-In:0,Hn),$t[pn]=Ue._depth+tr,Zn.reverse()),fn.height>0){var yr=fn.bottom-(Ue._offset+Ue._length);yr>0&&($t.yb=0,$t.b=yr);var fr=Ue._offset-fn.top;fr>0&&($t.yt=1,$t.t=fr)}$t[Ot]=Ue.anchor==="free"?Ue.position:Ue._anchorAxis.domain[Zn[0]],Ue.title.text!==Lt._dfltTitle[_t]&&($t[pn]+=wt(Ue)+(Ue.title.standoff||0)),Ue.mirror&&Ue.anchor!=="free"&&((en={x:0,y:0,r:0,l:0,t:0,b:0})[Ln]=Ue.linewidth,Ue.mirror&&Ue.mirror!==!0&&(en[Ln]+=Hn),Ue.mirror===!0||Ue.mirror==="ticks"?en[Ot]=Ue._anchorAxis.domain[Zn[1]]:Ue.mirror!=="all"&&Ue.mirror!=="allticks"||(en[Ot]=[Ue._counterDomainMin,Ue._counterDomainMax][Zn[1]]))}yn&&(ln=_.getComponentMethod("rangeslider","autoMarginOpts")(je,Ue)),typeof Ue.automargin=="string"&&(et($t,Ue.automargin),et(en,Ue.automargin)),r.autoMargin(je,rt(Ue),$t),r.autoMargin(je,At(Ue),en),r.autoMargin(je,Rt(Ue),ln)}),v.syncOrAsync(tn)}}function Tn(fn){var $t=kt+(fn||"tick");return An[$t]||(An[$t]=function(en,ln,pn){var Ln,In,Hn,qn;if(en._selections[ln].size())Ln=1/0,In=-1/0,Hn=1/0,qn=-1/0,en._selections[ln].each(function(){var Zn=at(this),tr=n.bBox(Zn.node().parentNode);Ln=Math.min(Ln,tr.top),In=Math.max(In,tr.bottom),Hn=Math.min(Hn,tr.left),qn=Math.max(qn,tr.right)});else{var er=X.makeLabelFns(en,pn);Ln=In=er.yFn({dx:0,dy:0,fontSize:0}),Hn=qn=er.xFn({dx:0,dy:0,fontSize:0})}return{top:Ln,bottom:In,left:Hn,right:qn,height:In-Ln,width:qn-Hn}}(Ue,$t,qt)),An[$t]}},X.getTickSigns=function(je,Ue){var lt=je._id.charAt(0),Qe={x:"top",y:"right"}[lt],gt=je.side===Qe?1:-1,mt=[-1,1,gt,-gt];return(Ue?(je.minor||{}).ticks:je.ticks)!=="inside"==(lt==="x")&&(mt=mt.map(function(xt){return-xt})),je.side&&mt.push({l:-1,t:-1,r:1,b:1}[je.side.charAt(0)]),mt},X.makeTransTickFn=function(je){return je._id.charAt(0)==="x"?function(Ue){return f(je._offset+je.l2p(Ue.x),0)}:function(Ue){return f(0,je._offset+je.l2p(Ue.x))}},X.makeTransTickLabelFn=function(je){var Ue=function(gt){var mt=gt.ticklabelposition||"",xt=function(Gt){return mt.indexOf(Gt)!==-1},dt=xt("top"),Lt=xt("left"),kt=xt("right"),_t=xt("bottom"),Ot=xt("inside"),Pt=_t||Lt||dt||kt;if(!Pt&&!Ot)return[0,0];var Bt=gt.side,Jt=Pt?(gt.tickwidth||0)/2:0,on=3,qt=gt.tickfont?gt.tickfont.size:12;return(_t||dt)&&(Jt+=qt*te,on+=(gt.linewidth||0)/2),(Lt||kt)&&(Jt+=(gt.linewidth||0)/2,on+=3),Ot&&Bt==="top"&&(on-=qt*(1-te)),(Lt||dt)&&(Jt=-Jt),Bt!=="bottom"&&Bt!=="right"||(on=-on),[Pt?Jt:0,Ot?on:0]}(je),lt=Ue[0],Qe=Ue[1];return je._id.charAt(0)==="x"?function(gt){return f(lt+je._offset+je.l2p(ot(gt)),Qe)}:function(gt){return f(Qe,lt+je._offset+je.l2p(ot(gt)))}},X.makeTickPath=function(je,Ue,lt,Qe){Qe||(Qe={});var gt=Qe.minor;if(gt&&!je.minor)return"";var mt=Qe.len!==void 0?Qe.len:gt?je.minor.ticklen:je.ticklen,xt=je._id.charAt(0),dt=(je.linewidth||1)/2;return xt==="x"?"M0,"+(Ue+dt*lt)+"v"+mt*lt:"M"+(Ue+dt*lt)+",0h"+mt*lt},X.makeLabelFns=function(je,Ue,lt){var Qe=je.ticklabelposition||"",gt=function(Sn){return Qe.indexOf(Sn)!==-1},mt=gt("top"),xt=gt("left"),dt=gt("right"),Lt=gt("bottom")||xt||mt||dt,kt=gt("inside"),_t=Qe==="inside"&&je.ticks==="inside"||!kt&&je.ticks==="outside"&&je.tickson!=="boundaries",Ot=0,Pt=0,Bt=_t?je.ticklen:0;if(kt?Bt*=-1:Lt&&(Bt=0),_t&&(Ot+=Bt,lt)){var Jt=v.deg2rad(lt);Ot=Bt*Math.cos(Jt)+1,Pt=Bt*Math.sin(Jt)}je.showticklabels&&(_t||je.showline)&&(Ot+=.2*je.tickfont.size);var on,qt,Gt,nn,Cn,An={labelStandoff:Ot+=(je.linewidth||1)/2*(kt?-1:1),labelShift:Pt},dn=0,Kt=je.side,un=je._id.charAt(0),rn=je.tickangle;if(un==="x")nn=(Cn=!kt&&Kt==="bottom"||kt&&Kt==="top")?1:-1,kt&&(nn*=-1),on=Pt*nn,qt=Ue+Ot*nn,Gt=Cn?1:-.2,Math.abs(rn)===90&&(kt?Gt+=H:Gt=rn===-90&&Kt==="bottom"?te:rn===90&&Kt==="top"?H:.5,dn=H/2*(rn/90)),An.xFn=function(Sn){return Sn.dx+on+dn*Sn.fontSize},An.yFn=function(Sn){return Sn.dy+qt+Sn.fontSize*Gt},An.anchorFn=function(Sn,Rn){if(Lt){if(xt)return"end";if(dt)return"start"}return w(Rn)&&Rn!==0&&Rn!==180?Rn*nn<0!==kt?"end":"start":"middle"},An.heightFn=function(Sn,Rn,zn){return Rn<-60||Rn>60?-.5*zn:je.side==="top"!==kt?-zn:0};else if(un==="y"){if(nn=(Cn=!kt&&Kt==="left"||kt&&Kt==="right")?1:-1,kt&&(nn*=-1),on=Ot,qt=Pt*nn,Gt=0,kt||Math.abs(rn)!==90||(Gt=rn===-90&&Kt==="left"||rn===90&&Kt==="right"?te:.5),kt){var hn=w(rn)?+rn:0;if(hn!==0){var kn=v.deg2rad(hn);dn=Math.abs(Math.sin(kn))*te*nn,Gt=0}}An.xFn=function(Sn){return Sn.dx+Ue-(on+Sn.fontSize*Gt)*nn+dn*Sn.fontSize},An.yFn=function(Sn){return Sn.dy+qt+Sn.fontSize*H},An.anchorFn=function(Sn,Rn){return w(Rn)&&Math.abs(Rn)===90?"middle":Cn?"end":"start"},An.heightFn=function(Sn,Rn,zn){return je.side==="right"&&(Rn*=-1),Rn<-30?-zn:Rn<30?-.5*zn:0}}return An},X.drawTicks=function(je,Ue,lt){lt=lt||{};var Qe=Ue._id+"tick",gt=[].concat(Ue.minor&&Ue.minor.ticks?lt.vals.filter(function(xt){return xt.minor&&!xt.noTick}):[]).concat(Ue.ticks?lt.vals.filter(function(xt){return!xt.minor&&!xt.noTick}):[]),mt=lt.layer.selectAll("path."+Qe).data(gt,yt);mt.exit().remove(),mt.enter().append("path").classed(Qe,1).classed("ticks",1).classed("crisp",lt.crisp!==!1).each(function(xt){return a.stroke(k.select(this),xt.minor?Ue.minor.tickcolor:Ue.tickcolor)}).style("stroke-width",function(xt){return n.crispRound(je,xt.minor?Ue.minor.tickwidth:Ue.tickwidth,1)+"px"}).attr("d",lt.path).style("display",null),ct(Ue,[j]),mt.attr("transform",lt.transFn)},X.drawGrid=function(je,Ue,lt){if(lt=lt||{},Ue.tickmode!=="sync"){var Qe=Ue._id+"grid",gt=Ue.minor&&Ue.minor.showgrid,mt=gt?lt.vals.filter(function(Gt){return Gt.minor}):[],xt=Ue.showgrid?lt.vals.filter(function(Gt){return!Gt.minor}):[],dt=lt.counterAxis;if(dt&&X.shouldShowZeroLine(je,Ue,dt))for(var Lt=Ue.tickmode==="array",kt=0;kt<xt.length;kt++){var _t=xt[kt].x;if(Lt?!_t:Math.abs(_t)<Ue.dtick/100){if(xt=xt.slice(0,kt).concat(xt.slice(kt+1)),!Lt)break;kt--}}Ue._gw=n.crispRound(je,Ue.gridwidth,1);for(var Ot=gt?n.crispRound(je,Ue.minor.gridwidth,1):0,Pt=lt.layer,Bt=lt.minorLayer,Jt=1;Jt>=0;Jt--){var on=Jt?Pt:Bt;if(on){var qt=on.selectAll("path."+Qe).data(Jt?xt:mt,yt);qt.exit().remove(),qt.enter().append("path").classed(Qe,1).classed("crisp",lt.crisp!==!1),qt.attr("transform",lt.transFn).attr("d",lt.path).each(function(Gt){return a.stroke(k.select(this),Gt.minor?Ue.minor.gridcolor:Ue.gridcolor||"#ddd")}).style("stroke-dasharray",function(Gt){return n.dashStyle(Gt.minor?Ue.minor.griddash:Ue.griddash,Gt.minor?Ue.minor.gridwidth:Ue.gridwidth)}).style("stroke-width",function(Gt){return(Gt.minor?Ot:Ue._gw)+"px"}).style("display",null),typeof lt.path=="function"&&qt.attr("d",lt.path)}}ct(Ue,[U,z])}},X.drawZeroLine=function(je,Ue,lt){lt=lt||lt;var Qe=Ue._id+"zl",gt=X.shouldShowZeroLine(je,Ue,lt.counterAxis),mt=lt.layer.selectAll("path."+Qe).data(gt?[{x:0,id:Ue._id}]:[]);mt.exit().remove(),mt.enter().append("path").classed(Qe,1).classed("zl",1).classed("crisp",lt.crisp!==!1).each(function(){lt.layer.selectAll("path").sort(function(xt,dt){return ie(xt.id,dt.id)})}),mt.attr("transform",lt.transFn).attr("d",lt.path).call(a.stroke,Ue.zerolinecolor||a.defaultLine).style("stroke-width",n.crispRound(je,Ue.zerolinewidth,Ue._gw||1)+"px").style("display",null),ct(Ue,[R])},X.drawLabels=function(je,Ue,lt){lt=lt||{};var Qe=je._fullLayout,gt=Ue._id,mt=lt.cls||gt+"tick",xt=lt.vals.filter(function(Nn){return Nn.text}),dt=lt.labelFns,Lt=lt.secondary?0:Ue.tickangle,kt=(Ue._prevTickAngles||{})[mt],_t=lt.layer.selectAll("g."+mt).data(Ue.showticklabels?xt:[],yt),Ot=[];function Pt(Nn,or){Nn.each(function(lr){var cr=k.select(this),$n=cr.select(".text-math-group"),Ar=dt.anchorFn(lr,or),Ht=lt.transFn.call(cr.node(),lr)+(w(or)&&+or!=0?" rotate("+or+","+dt.xFn(lr)+","+(dt.yFn(lr)-lr.fontSize/2)+")":""),an=s.lineCount(cr),_n=Q*lr.fontSize,vn=dt.heightFn(lr,w(or)?+or:0,(an-1)*_n);if(vn&&(Ht+=f(0,vn)),$n.empty()){var En=cr.select("text");En.attr({transform:Ht,"text-anchor":Ar}),En.style("opacity",1),Ue._adjustTickLabelsOverflow&&Ue._adjustTickLabelsOverflow()}else{var Yn=n.bBox($n.node()).width*{end:-.5,start:.5}[Ar];$n.attr("transform",Ht+f(Yn,0))}})}_t.enter().append("g").classed(mt,1).append("text").attr("text-anchor","middle").each(function(Nn){var or=k.select(this),lr=je._promises.length;or.call(s.positionText,dt.xFn(Nn),dt.yFn(Nn)).call(n.font,Nn.font,Nn.fontSize,Nn.fontColor).text(Nn.text).call(s.convertToTspans,je),je._promises[lr]?Ot.push(je._promises.pop().then(function(){Pt(or,Lt)})):Pt(or,Lt)}),ct(Ue,[W]),_t.exit().remove(),lt.repositionOnUpdate&&_t.each(function(Nn){k.select(this).select("text").call(s.positionText,dt.xFn(Nn),dt.yFn(Nn))}),Ue._adjustTickLabelsOverflow=function(){var Nn=Ue.ticklabeloverflow;if(Nn&&Nn!=="allow"){var or=Nn.indexOf("hide")!==-1,lr=Ue._id.charAt(0)==="x",cr=0,$n=lr?je._fullLayout.width:je._fullLayout.height;if(Nn.indexOf("domain")!==-1){var Ar=v.simpleMap(Ue.range,Ue.r2l);cr=Ue.l2p(Ar[0])+Ue._offset,$n=Ue.l2p(Ar[1])+Ue._offset}var Ht=Math.min(cr,$n),an=Math.max(cr,$n),_n=Ue.side,vn=1/0,En=-1/0;for(var Yn in _t.each(function(ir){var Zt=k.select(this);if(Zt.select(".text-math-group").empty()){var mn=n.bBox(Zt.node()),It=0;lr?(mn.right>an||mn.left<Ht)&&(It=1):(mn.bottom>an||mn.top+(Ue.tickangle?0:ir.fontSize/4)<Ht)&&(It=1);var Xt=Zt.select("text");It?or&&Xt.style("opacity",0):(Xt.style("opacity",1),vn=_n==="bottom"||_n==="right"?Math.min(vn,lr?mn.top:mn.left):-1/0,En=_n==="top"||_n==="left"?Math.max(En,lr?mn.bottom:mn.right):1/0)}}),Qe._plots){var Fn=Qe._plots[Yn];if(Ue._id===Fn.xaxis._id||Ue._id===Fn.yaxis._id){var jn=lr?Fn.yaxis:Fn.xaxis;jn&&(jn["_visibleLabelMin_"+Ue._id]=vn,jn["_visibleLabelMax_"+Ue._id]=En)}}}},Ue._hideCounterAxisInsideTickLabels=function(Nn){var or=Ue._id.charAt(0)==="x",lr=[];for(var cr in Qe._plots){var $n=Qe._plots[cr];Ue._id!==$n.xaxis._id&&Ue._id!==$n.yaxis._id||lr.push(or?$n.yaxis:$n.xaxis)}lr.forEach(function(Ar,Ht){Ar&&Je(Ar)&&(Nn||[R,z,U,j,W]).forEach(function(an){var _n=an.K==="tick"&&an.L==="text"&&Ue.ticklabelmode==="period",vn=Qe._plots[Ue._mainSubplot];(an.K===R.K?vn.zerolinelayer.selectAll("."+Ue._id+"zl"):an.K===z.K?vn.minorGridlayer.selectAll("."+Ue._id):an.K===U.K?vn.gridlayer.selectAll("."+Ue._id):vn[Ue._id.charAt(0)+"axislayer"]).each(function(){var En=k.select(this);an.L&&(En=En.selectAll(an.L)),En.each(function(Yn){var Fn=Ue.l2p(_n?ot(Yn):Yn.x)+Ue._offset,jn=k.select(this);Fn<Ue["_visibleLabelMax_"+Ar._id]&&Fn>Ue["_visibleLabelMin_"+Ar._id]?jn.style("display","none"):an.K!=="tick"||Ht||jn.style("display",null)})})})})},Pt(_t,kt+1?kt:Lt);var Bt=null;Ue._selections&&(Ue._selections[mt]=_t);var Jt=[function(){return Ot.length&&Promise.all(Ot)}];Ue.automargin&&Qe._redrawFromAutoMarginCount&&kt===90?(Bt=kt,Jt.push(function(){Pt(_t,kt)})):Jt.push(function(){if(Pt(_t,Lt),xt.length&&Ue.autotickangles&&(Ue.type!=="log"||String(Ue.dtick).charAt(0)!=="D")){Bt=Ue.autotickangles[0];var Nn,or=0,lr=[],cr=1;if(_t.each(function(yn){or=Math.max(or,yn.fontSize);var Tn=Ue.l2p(yn.x),fn=at(this),$t=n.bBox(fn.node());cr=Math.max(cr,s.lineCount(fn)),lr.push({top:0,bottom:10,height:10,left:Tn-$t.width/2,right:Tn+$t.width/2+2,width:$t.width+2})}),Ue.tickson!=="boundaries"&&!Ue.showdividers||lt.secondary){var $n=xt.length,Ar=Math.abs((xt[$n-1].x-xt[0].x)*Ue._m)/($n-1),Ht=Ue.ticklabelposition||"",an=function(yn){return Ht.indexOf(yn)!==-1},_n=an("top"),vn=an("left"),En=an("right"),Yn=an("bottom")||vn||_n||En?(Ue.tickwidth||0)+6:0,Fn=Ar,jn=1.25*or*cr,ir=Fn/Math.sqrt(Math.pow(Fn,2)+Math.pow(jn,2)),Zt=Ue.autotickangles.map(function(yn){return yn*Math.PI/180}),mn=Zt.find(function(yn){return Math.abs(Math.cos(yn))<=ir});mn===void 0&&(mn=Zt.reduce(function(yn,Tn){return Math.abs(Math.cos(yn))<Math.abs(Math.cos(Tn))?yn:Tn},Zt[0]));var It=mn*(180/Math.PI);for(Nn=0;Nn<lr.length-1;Nn++)if(v.bBoxIntersect(lr[Nn],lr[Nn+1],Yn)){Bt=It;break}}else{var Xt=2;for(Ue.ticks&&(Xt+=Ue.tickwidth/2),Nn=0;Nn<lr.length;Nn++){var tn=xt[Nn].xbnd,bn=lr[Nn];if(tn[0]!==null&&bn.left-Ue.l2p(tn[0])<Xt||tn[1]!==null&&Ue.l2p(tn[1])-bn.right<Xt){Bt=90;break}}}Bt&&Pt(_t,Bt)}}),Ue._tickAngles&&Jt.push(function(){Ue._tickAngles[mt]=Bt===null?w(Lt)?Lt:0:Bt});var on=function(){var Nn=0,or=0;return _t.each(function(lr,cr){var $n,Ar=at(this);Ar.select(".text-math-group").empty()&&(Ue._vals[cr]&&($n=Ue._vals[cr].bb||n.bBox(Ar.node()),Ue._vals[cr].bb=$n),Nn=Math.max(Nn,$n.width),or=Math.max(or,$n.height))}),{labelsMaxW:Nn,labelsMaxH:or}},qt=Ue._anchorAxis;if(qt&&(qt.autorange||qt.insiderange)&&Je(Ue)&&!oe(Qe,Ue._id)&&(Qe._insideTickLabelsUpdaterange||(Qe._insideTickLabelsUpdaterange={}),qt.autorange&&(Qe._insideTickLabelsUpdaterange[qt._name+".autorange"]=qt.autorange,Jt.push(on)),qt.insiderange)){var Gt=on(),nn=Ue._id.charAt(0)==="y"?Gt.labelsMaxW:Gt.labelsMaxH;nn+=6,Ue.ticklabelposition==="inside"&&(nn+=Ue.ticklen||0);var Cn=Ue.side==="right"||Ue.side==="top"?1:-1,An=Cn===1?1:0,dn=Cn===1?0:1,Kt=[];Kt[dn]=qt.range[dn];var un=qt.range,rn=qt.r2p(un[An]),hn=qt.r2p(un[dn]),kn=Qe._insideTickLabelsUpdaterange[qt._name+".range"];if(kn){var Sn=qt.r2p(kn[An]),Rn=qt.r2p(kn[dn]),zn=Cn*(Ue._id.charAt(0)==="y"?1:-1);zn*rn<zn*Sn&&(rn=Sn,Kt[An]=un[An]=kn[An]),zn*hn>zn*Rn&&(hn=Rn,Kt[dn]=un[dn]=kn[dn])}var Pn=Math.abs(hn-rn);Pn-nn>0?nn*=1+nn/(Pn-=nn):nn=0,Ue._id.charAt(0)!=="y"&&(nn=-nn),Kt[An]=qt.p2r(qt.r2p(un[An])+Cn*nn),qt.autorange==="min"||qt.autorange==="max reversed"?(Kt[0]=null,qt._rangeInitial0=void 0,qt._rangeInitial1=void 0):qt.autorange!=="max"&&qt.autorange!=="min reversed"||(Kt[1]=null,qt._rangeInitial0=void 0,qt._rangeInitial1=void 0),Qe._insideTickLabelsUpdaterange[qt._name+".range"]=Kt}var Gn=v.syncOrAsync(Jt);return Gn&&Gn.then&&je._promises.push(Gn),Gn},X.getPxPosition=function(je,Ue){var lt,Qe=je._fullLayout._size,gt=Ue._id.charAt(0),mt=Ue.side;return Ue.anchor!=="free"?lt=Ue._anchorAxis:gt==="x"?lt={_offset:Qe.t+(1-(Ue.position||0))*Qe.h,_length:0}:gt==="y"&&(lt={_offset:Qe.l+(Ue.position||0)*Qe.w+Ue._shift,_length:0}),mt==="top"||mt==="left"?lt._offset:mt==="bottom"||mt==="right"?lt._offset+lt._length:void 0},X.shouldShowZeroLine=function(je,Ue,lt){var Qe=v.simpleMap(Ue.range,Ue.r2l);return Qe[0]*Qe[1]<=0&&Ue.zeroline&&(Ue.type==="linear"||Ue.type==="-")&&!(Ue.rangebreaks&&Ue.maskBreaks(0)===I)&&(bt(Ue,0)||!function(gt,mt,xt,dt){var Lt=xt._mainAxis;if(Lt){var kt=gt._fullLayout,_t=mt._id.charAt(0),Ot=X.counterLetter(mt._id),Pt=mt._offset+(Math.abs(dt[0])<Math.abs(dt[1])==(_t==="x")?0:mt._length),Bt=kt._plots[xt._mainSubplot];if(!(Bt.mainplotinfo||Bt).overlays.length)return Gt(xt);for(var Jt=X.list(gt,Ot),on=0;on<Jt.length;on++){var qt=Jt[on];if(qt._mainAxis===Lt&&Gt(qt))return!0}}function Gt(nn){if(!nn.showline||!nn.linewidth)return!1;var Cn=Math.max((nn.linewidth+mt.zerolinewidth)/2,1);function An(un){return typeof un=="number"&&Math.abs(un-Pt)<Cn}if(An(nn._mainLinePosition)||An(nn._mainMirrorPosition))return!0;var dn=nn._linepositions||{};for(var Kt in dn)if(An(dn[Kt][0])||An(dn[Kt][1]))return!0}}(je,Ue,lt,Qe)||function(gt,mt){for(var xt=gt._fullData,dt=mt._mainSubplot,Lt=mt._id.charAt(0),kt=0;kt<xt.length;kt++){var _t=xt[kt];if(_t.visible===!0&&_t.xaxis+_t.yaxis===dt&&(_.traceIs(_t,"bar-like")&&_t.orientation==={x:"h",y:"v"}[Lt]||_t.fill&&_t.fill.charAt(_t.fill.length-1)===Lt))return!0}return!1}(je,Ue))},X.clipEnds=function(je,Ue){return Ue.filter(function(lt){return bt(je,lt.x)})},X.allowAutoMargin=function(je){for(var Ue=X.list(je,"",!0),lt=0;lt<Ue.length;lt++){var Qe=Ue[lt];Qe.automargin&&(r.allowAutoMargin(je,rt(Qe)),Qe.mirror&&r.allowAutoMargin(je,At(Qe))),_.getComponentMethod("rangeslider","isVisible")(Qe)&&r.allowAutoMargin(je,Rt(Qe))}},X.swap=function(je,Ue){for(var lt=function(gt,mt){var xt,dt,Lt=[];for(xt=0;xt<mt.length;xt++){var kt=[],_t=gt._fullData[mt[xt]].xaxis,Ot=gt._fullData[mt[xt]].yaxis;if(_t&&Ot){for(dt=0;dt<Lt.length;dt++)Lt[dt].x.indexOf(_t)===-1&&Lt[dt].y.indexOf(Ot)===-1||kt.push(dt);if(kt.length){var Pt,Bt=Lt[kt[0]];if(kt.length>1)for(dt=1;dt<kt.length;dt++)Pt=Lt[kt[dt]],Ft(Bt.x,Pt.x),Ft(Bt.y,Pt.y);Ft(Bt.x,[_t]),Ft(Bt.y,[Ot])}else Lt.push({x:[_t],y:[Ot]})}}return Lt}(je,Ue),Qe=0;Qe<lt.length;Qe++)Dt(je,lt[Qe].x,lt[Qe].y)}},52976:function(B,L,e){var k=e(38248),w=e(3400),r=e(39032).BADNUM,_=w.isArrayOrTypedArray,v=w.isDateTime,f=w.cleanNumber,s=Math.round;function t(n,i){return i?k(n):typeof n=="number"}function a(n){return Math.max(1,(n-1)/1e3)}B.exports=function(n,i,l){var o=n,u=l.noMultiCategory;if(_(o)&&!o.length)return"-";if(!u&&function(g){return _(g[0])&&_(g[1])}(o))return"multicategory";if(u&&Array.isArray(o[0])){for(var h=[],c=0;c<o.length;c++)if(_(o[c]))for(var b=0;b<o[c].length;b++)h.push(o[c][b]);o=h}if(function(g,m){for(var y=g.length,x=a(y),T=0,p=0,S={},M=0;M<y;M+=x){var E=g[s(M)],P=String(E);S[P]||(S[P]=1,v(E,m)&&T++,k(E)&&p++)}return T>2*p}(o,i))return"date";var d=l.autotypenumbers!=="strict";return function(g,m){for(var y=g.length,x=a(y),T=0,p=0,S={},M=0;M<y;M+=x){var E=g[s(M)],P=String(E);if(!S[P]){S[P]=1;var O=typeof E;O==="boolean"?p++:(m?f(E)!==r:O==="number")?T++:O==="string"&&p++}}return p>2*T}(o,d)?"category":function(g,m){for(var y=g.length,x=0;x<y;x++)if(t(g[x],m))return!0;return!1}(o,d)?"linear":"-"}},28336:function(B,L,e){var k=e(38248),w=e(24040),r=e(3400),_=e(31780),v=e(51272),f=e(94724),s=e(26332),t=e(25404),a=e(95936),n=e(42568),i=e(22416),l=e(42136),o=e(96312),u=e(78344),h=e(33816).WEEKDAY_PATTERN,c=e(33816).HOUR_PATTERN;function b(m,y,x){function T(R,U){return r.coerce(m,y,f.rangebreaks,R,U)}if(T("enabled")){var p=T("bounds");if(p&&p.length>=2){var S,M,E="";if(p.length===2){for(S=0;S<2;S++)if(M=g(p[S])){E=h;break}}var P=T("pattern",E);if(P===h)for(S=0;S<2;S++)(M=g(p[S]))&&(y.bounds[S]=p[S]=M-1);if(P)for(S=0;S<2;S++)switch(M=p[S],P){case h:if(!k(M)||(M=+M)!==Math.floor(M)||M<0||M>=7)return void(y.enabled=!1);y.bounds[S]=p[S]=M;break;case c:if(!k(M)||(M=+M)<0||M>24)return void(y.enabled=!1);y.bounds[S]=p[S]=M}if(x.autorange===!1){var O=x.range;if(O[0]<O[1]){if(p[0]<O[0]&&p[1]>O[1])return void(y.enabled=!1)}else if(p[0]>O[0]&&p[1]<O[1])return void(y.enabled=!1)}}else{var I=T("values");if(!I||!I.length)return void(y.enabled=!1);T("dvalue")}}}B.exports=function(m,y,x,T,p){var S,M=T.letter,E=T.font||{},P=T.splomStash||{},O=x("visible",!T.visibleDflt),I=y._template||{},R=y.type||I.type||"-";R==="date"&&(w.getComponentMethod("calendars","handleDefaults")(m,y,"calendar",T.calendar),T.noTicklabelmode||(S=x("ticklabelmode")));var U="";T.noTicklabelposition&&R!=="multicategory"||(U=r.coerce(m,y,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:S==="period"?["outside","inside"]:M==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),T.noTicklabeloverflow||x("ticklabeloverflow",U.indexOf("inside")!==-1?"hide past domain":R==="category"||R==="multicategory"?"allow":"hide past div"),u(y,p),o(m,y,x,T),i(m,y,x,T),R==="category"||T.noHover||x("hoverformat");var z=x("color"),j=z!==f.color.dflt?z:E.color,W=P.label||p._dfltTitle[M];if(n(m,y,x,R,T),!O)return y;x("title.text",W),r.coerceFont(x,"title.font",{family:E.family,size:r.bigFont(E.size),color:j}),s(m,y,x,R);var F=T.hasMinor;if(F&&(_.newContainer(y,"minor"),s(m,y,x,R,{isMinor:!0})),a(m,y,x,R,T),t(m,y,x,T),F){var V=T.isMinor;T.isMinor=!0,t(m,y,x,T),T.isMinor=V}l(m,y,x,{dfltColor:z,bgColor:T.bgColor,showGrid:T.showGrid,hasMinor:F,attributes:f}),!F||y.minor.ticks||y.minor.showgrid||delete y.minor,(y.showline||y.ticks)&&x("mirror");var H,te=R==="multicategory";if(T.noTickson||R!=="category"&&!te||!y.ticks&&!y.showgrid||(te&&(H="boundaries"),x("tickson",H)==="boundaries"&&delete y.ticklabelposition),te&&x("showdividers")&&(x("dividercolor"),x("dividerwidth")),R==="date")if(v(m,y,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:b}),y.rangebreaks.length){for(var Q=0;Q<y.rangebreaks.length;Q++)if(y.rangebreaks[Q].pattern===h){y._hasDayOfWeekBreaks=!0;break}if(u(y,p),p._has("scattergl")||p._has("splom"))for(var K=0;K<T.data.length;K++){var X=T.data[K];X.type!=="scattergl"&&X.type!=="splom"||(X.visible=!1,r.warn(X.type+" traces do not work on axes with rangebreaks. Setting trace "+X.index+" to `visible: false`."))}}else delete y.rangebreaks;return y};var d={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function g(m){if(typeof m=="string")return d[m.substr(0,3).toLowerCase()]}},29736:function(B,L,e){var k=e(26880),w=k.FORMAT_LINK,r=k.DATE_FORMAT_LINK;function _(f,s){return["Sets the "+f+" formatting rule"+(s?"for `"+s+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+w+"."].join(" ")}function v(f,s){return _(f,s)+[" And for dates see: "+r+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}B.exports={axisHoverFormat:function(f,s){return{valType:"string",dflt:"",editType:"none",description:(s?_:v)("hover text",f)+["By default the values are formatted using "+(s?"generic number format":"`"+f+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:_,descriptionWithDates:v}},79811:function(B,L,e){var k=e(24040),w=e(33816);function r(_,v){if(v&&v.length){for(var f=0;f<v.length;f++)if(v[f][_])return!0}return!1}L.id2name=function(_){if(typeof _=="string"&&_.match(w.AX_ID_PATTERN)){var v=_.split(" ")[0].substr(1);return v==="1"&&(v=""),_.charAt(0)+"axis"+v}},L.name2id=function(_){if(_.match(w.AX_NAME_PATTERN)){var v=_.substr(5);return v==="1"&&(v=""),_.charAt(0)+v}},L.cleanId=function(_,v,f){var s=/( domain)$/.test(_);if(typeof _=="string"&&_.match(w.AX_ID_PATTERN)&&(!v||_.charAt(0)===v)&&(!s||f)){var t=_.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),_.charAt(0)+t+(s&&f?" domain":"")}},L.list=function(_,v,f){var s=_._fullLayout;if(!s)return[];var t,a=L.listIds(_,v),n=new Array(a.length);for(t=0;t<a.length;t++){var i=a[t];n[t]=s[i.charAt(0)+"axis"+i.substr(1)]}if(!f){var l=s._subplots.gl3d||[];for(t=0;t<l.length;t++){var o=s[l[t]];v?n.push(o[v+"axis"]):n.push(o.xaxis,o.yaxis,o.zaxis)}}return n},L.listIds=function(_,v){var f=_._fullLayout;if(!f)return[];var s=f._subplots;return v?s[v+"axis"]:s.xaxis.concat(s.yaxis)},L.getFromId=function(_,v,f){var s=_._fullLayout;return v=v===void 0||typeof v!="string"?v:v.replace(" domain",""),f==="x"?v=v.replace(/y[0-9]*/,""):f==="y"&&(v=v.replace(/x[0-9]*/,"")),s[L.id2name(v)]},L.getFromTrace=function(_,v,f){var s=_._fullLayout,t=null;if(k.traceIs(v,"gl3d")){var a=v.scene;a.substr(0,5)==="scene"&&(t=s[a][f+"axis"])}else t=L.getFromId(_,v[f+"axis"]||f);return t},L.idSort=function(_,v){var f=_.charAt(0),s=v.charAt(0);return f!==s?f>s?1:-1:+(_.substr(1)||1)-+(v.substr(1)||1)},L.ref2id=function(_){return!!/^[xyz]/.test(_)&&_.split(" ")[0]},L.isLinked=function(_,v){return r(v,_._axisMatchGroups)||r(v,_._axisConstraintGroups)}},22416:function(B,L,e){var k=e(38116).isTypedArraySpec;B.exports=function(w,r,_,v){if(r.type==="category"){var f,s=w.categoryarray,t=Array.isArray(s)&&s.length>0||k(s);t&&(f="array");var a,n=_("categoryorder",f);n==="array"&&(a=_("categoryarray")),t||n!=="array"||(n=r.categoryorder="trace"),n==="trace"?r._initialCategories=[]:n==="array"?r._initialCategories=a.slice():(a=function(i,l){var o,u,h,c=l.dataAttr||i._id.charAt(0),b={};if(l.axData)o=l.axData;else for(o=[],u=0;u<l.data.length;u++){var d=l.data[u];d[c+"axis"]===i._id&&o.push(d)}for(u=0;u<o.length;u++){var g=o[u][c];for(h=0;h<g.length;h++){var m=g[h];m!=null&&(b[m]=1)}}return Object.keys(b)}(r,v).sort(),n==="category ascending"?r._initialCategories=a:n==="category descending"&&(r._initialCategories=a.reverse()))}}},98728:function(B,L,e){var k=e(38248),w=e(3400),r=e(39032),_=r.ONEDAY,v=r.ONEWEEK;L.dtick=function(f,s){var t=s==="log",a=s==="date",n=s==="category",i=a?_:1;if(!f)return i;if(k(f))return(f=Number(f))<=0?i:n?Math.max(1,Math.round(f)):a?Math.max(.1,f):f;if(typeof f!="string"||!a&&!t)return i;var l=f.charAt(0),o=f.substr(1);return(o=k(o)?Number(o):0)<=0||!(a&&l==="M"&&o===Math.round(o)||t&&l==="L"||t&&l==="D"&&(o===1||o===2))?i:f},L.tick0=function(f,s,t,a){return s==="date"?w.cleanDate(f,w.dateTick0(t,a%v==0?1:0)):a!=="D1"&&a!=="D2"?k(f)?Number(f):0:void 0}},33816:function(B,L,e){var k=e(53756).counter;B.exports={idRegex:{x:k("x","( domain)?"),y:k("y","( domain)?")},attrRegex:k("[xy]axis"),xAxisMatch:k("xaxis"),yAxisMatch:k("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(B,L,e){var k=e(3400),w=e(19280),r=e(79811).id2name,_=e(94724),v=e(21160),f=e(78344),s=e(39032).ALMOST_EQUAL,t=e(84284).FROM_BL;function a(c,b,d){var g=d.axIds,m=d.layoutOut,y=d.hasImage,x=m._axisConstraintGroups,T=m._axisMatchGroups,p=b._id,S=p.charAt(0),M=((m._splomAxes||{})[S]||{})[p]||{},E=b._id,P=E.charAt(0)==="x";function O(J,ee){return k.coerce(c,b,_,J,ee)}b._matchGroup=null,b._constraintGroup=null,O("constrain",y?"domain":"range"),k.coerce(c,b,{constraintoward:{valType:"enumerated",values:P?["left","center","right"]:["bottom","middle","top"],dflt:P?"center":"middle"}},"constraintoward");var I,R,U=b.type,z=[];for(I=0;I<g.length;I++)(R=g[I])!==E&&m[r(R)].type===U&&z.push(R);var j=i(x,E);if(j){var W=[];for(I=0;I<z.length;I++)j[R=z[I]]||W.push(R);z=W}var F,V,H=z.length;H&&(c.matches||M.matches)&&(F=k.coerce(c,b,{matches:{valType:"enumerated",values:z,dflt:z.indexOf(M.matches)!==-1?M.matches:void 0}},"matches"));var te=y&&!P?b.anchor:void 0;if(H&&!F&&(c.scaleanchor||te)&&(V=k.coerce(c,b,{scaleanchor:{valType:"enumerated",values:z.concat([!1])}},"scaleanchor",te)),F){b._matchGroup=l(T,E,F,1);var Q=m[r(F)],K=n(m,b)/n(m,Q);P!==(F.charAt(0)==="x")&&(K=(P?"x":"y")+K),l(x,E,F,K)}else c.matches&&g.indexOf(c.matches)!==-1&&k.warn("ignored "+b._name+'.matches: "'+c.matches+'" to avoid an infinite loop');if(V){var X=O("scaleratio");X||(X=b.scaleratio=1),l(x,E,V,X)}else c.scaleanchor&&g.indexOf(c.scaleanchor)!==-1&&k.warn("ignored "+b._name+'.scaleanchor: "'+c.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function n(c,b){var d=b.domain;return d||(d=c[r(b.overlaying)].domain),d[1]-d[0]}function i(c,b){for(var d=0;d<c.length;d++)if(c[d][b])return c[d];return null}function l(c,b,d,g){var m,y,x,T,p,S=i(c,b);S===null?((S={})[b]=1,p=c.length,c.push(S)):p=c.indexOf(S);var M=Object.keys(S);for(m=0;m<c.length;m++)if(x=c[m],m!==p&&x[d]){var E=x[d];for(y=0;y<M.length;y++)x[T=M[y]]=o(E,o(g,S[T]));return void c.splice(p,1)}if(g!==1)for(y=0;y<M.length;y++){var P=M[y];S[P]=o(g,S[P])}S[d]=1}function o(c,b){var d,g,m="",y="";typeof c=="string"&&(d=(m=c.match(/^[xy]*/)[0]).length,c=+c.substr(d)),typeof b=="string"&&(g=(y=b.match(/^[xy]*/)[0]).length,b=+b.substr(g));var x=c*b;return d||g?d&&g&&m.charAt(0)!==y.charAt(0)?d===g?x:(d>g?m.substr(g):y.substr(d))+x:m+y+c*b:x}function u(c,b){for(var d=b._size,g=d.h/d.w,m={},y=Object.keys(c),x=0;x<y.length;x++){var T=y[x],p=c[T];if(typeof p=="string"){var S=p.match(/^[xy]*/)[0],M=S.length;p=+p.substr(M);for(var E=S.charAt(0)==="y"?g:1/g,P=0;P<M;P++)p*=E}m[T]=p}return m}function h(c,b){var d=c._inputDomain,g=t[c.constraintoward],m=d[0]+(d[1]-d[0])*g;c.domain=c._input.domain=[m+(d[0]-m)/b,m+(d[1]-m)/b],c.setScale()}L.handleDefaults=function(c,b,d){var g,m,y,x,T,p,S,M,E=d.axIds,P=d.axHasImage,O=b._axisConstraintGroups=[],I=b._axisMatchGroups=[];for(g=0;g<E.length;g++)a(T=c[x=r(E[g])],p=b[x],{axIds:E,layoutOut:b,hasImage:P[x]});function R(Q,K){for(g=0;g<Q.length;g++)for(y in m=Q[g])b[r(y)][K]=m}for(R(I,"_matchGroup"),g=0;g<O.length;g++)for(y in m=O[g])if((p=b[r(y)]).fixedrange){for(var U in m){var z=r(U);(c[z]||{}).fixedrange===!1&&k.warn("fixedrange was specified as false for axis "+z+" but was overridden because another axis in its constraint group has fixedrange true"),b[z].fixedrange=!0}break}for(g=0;g<O.length;){for(y in m=O[g]){(p=b[r(y)])._matchGroup&&Object.keys(p._matchGroup).length===Object.keys(m).length&&(O.splice(g,1),g--);break}g++}R(O,"_constraintGroup");var j=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],W=!1,F=!1;function V(){M=p[S],S==="rangebreaks"&&(F=p._hasDayOfWeekBreaks)}for(g=0;g<I.length;g++){m=I[g];for(var H=0;H<j.length;H++){var te;for(y in S=j[H],M=null,m)if(T=c[x=r(y)],p=b[x],S in p){if(!p.matches&&(te=p,S in T)){V();break}M===null&&S in T&&V()}if(S==="range"&&M&&T.range&&T.range.length===2&&T.range[0]!==null&&T.range[1]!==null&&(W=!0),S==="autorange"&&M===null&&W&&(M=!1),M===null&&S in te&&(M=te[S]),M!==null)for(y in m)(p=b[r(y)])[S]=S==="range"?M.slice():M,S==="rangebreaks"&&(p._hasDayOfWeekBreaks=F,f(p,b))}}},L.enforce=function(c){var b,d,g,m,y,x,T,p,S=c._fullLayout,M=S._axisConstraintGroups||[];for(b=0;b<M.length;b++){g=u(M[b],S);var E=Object.keys(g),P=1/0,O=0,I=1/0,R={},U={},z=!1;for(d=0;d<E.length;d++)U[m=E[d]]=y=S[r(m)],y._inputDomain?y.domain=y._inputDomain.slice():y._inputDomain=y.domain.slice(),y._inputRange||(y._inputRange=y.range.slice()),y.setScale(),R[m]=x=Math.abs(y._m)/g[m],P=Math.min(P,x),y.constrain!=="domain"&&y._constraintShrinkable||(I=Math.min(I,x)),delete y._constraintShrinkable,O=Math.max(O,x),y.constrain==="domain"&&(z=!0);if(!(P>s*O)||z){for(d=0;d<E.length;d++)if(x=R[m=E[d]],T=(y=U[m]).constrain,x!==I||T==="domain")if(p=x/I,T==="range")v(y,p);else{var j=y._inputDomain,W=(y.domain[1]-y.domain[0])/(j[1]-j[0]),F=(y.r2l(y.range[1])-y.r2l(y.range[0]))/(y.r2l(y._inputRange[1])-y.r2l(y._inputRange[0]));if((p/=W)*F<1){y.domain=y._input.domain=j.slice(),v(y,p);continue}if(F<1&&(y.range=y._input.range=y._inputRange.slice(),p*=F),y.autorange){var V=y.r2l(y.range[0]),H=y.r2l(y.range[1]),te=(V+H)/2,Q=te,K=te,X=Math.abs(H-te),J=te-X*p*1.0001,ee=te+X*p*1.0001,ie=w.makePadFn(S,y,0),oe=w.makePadFn(S,y,1);h(y,p);var ae,ce,ge=Math.abs(y._m),ve=w.concatExtremes(c,y),be=ve.min,we=ve.max;for(ce=0;ce<be.length;ce++)(ae=be[ce].val-ie(be[ce])/ge)>J&&ae<Q&&(Q=ae);for(ce=0;ce<we.length;ce++)(ae=we[ce].val+oe(we[ce])/ge)<ee&&ae>K&&(K=ae);p/=(K-Q)/(2*X),Q=y.l2r(Q),K=y.l2r(K),y.range=y._input.range=V<H?[Q,K]:[K,Q]}h(y,p)}}}},L.getAxisGroup=function(c,b){for(var d=c._axisMatchGroups,g=0;g<d.length;g++)if(d[g][b])return"g"+g;return b},L.clean=function(c,b){if(b._inputDomain){for(var d=!1,g=b._id,m=c._fullLayout._axisConstraintGroups,y=0;y<m.length;y++)if(m[y][g]){d=!0;break}d&&b.constrain==="domain"||(b._input.domain=b.domain=b._inputDomain,delete b._inputDomain)}}},51184:function(B,L,e){var k=e(33428),w=e(3400),r=w.numberFormat,_=e(49760),v=e(89184),f=e(24040),s=w.strTranslate,t=e(72736),a=e(76308),n=e(43616),i=e(93024),l=e(54460),o=e(93972),u=e(86476),h=e(72760),c=h.selectingOrDrawing,b=h.freeMode,d=e(84284).FROM_TL,g=e(73696),m=e(39172).redrawReglTraces,y=e(7316),x=e(79811).getFromId,T=e(22676).prepSelect,p=e(22676).clearOutline,S=e(22676).selectOnClick,M=e(21160),E=e(33816),P=E.MINDRAG,O=E.MINZOOM,I=!0;function R(ae,ce,ge,ve){var be=w.ensureSingle(ae.draglayer,ce,ge,function(we){we.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ae.id)});return be.call(o,ve),be.node()}function U(ae,ce,ge,ve,be,we,ye){var me=R(ae,"rect",ce,ge);return k.select(me).call(n.setRect,ve,be,we,ye),me}function z(ae,ce){for(var ge=0;ge<ae.length;ge++)if(!ae[ge].fixedrange)return ce;return""}function j(ae,ce,ge,ve,be){for(var we=0;we<ae.length;we++){var ye=ae[we];if(!ye.fixedrange)if(ye.rangebreaks){var me=ye._id.charAt(0)==="y",Ae=me?1-ce:ce,ke=me?1-ge:ge;ve[ye._name+".range[0]"]=ye.l2r(ye.p2l(Ae*ye._length)),ve[ye._name+".range[1]"]=ye.l2r(ye.p2l(ke*ye._length))}else{var fe=ye._rl[0],le=ye._rl[1]-fe;ve[ye._name+".range[0]"]=ye.l2r(fe+le*ce),ve[ye._name+".range[1]"]=ye.l2r(fe+le*ge)}}if(be&&be.length){var de=(ce+(1-ge))/2;j(be,de,1-de,ve,[])}}function W(ae,ce){for(var ge=0;ge<ae.length;ge++){var ve=ae[ge];if(!ve.fixedrange){if(ve.rangebreaks){var be=ve._length,we=(ve.p2l(0+ce)-ve.p2l(0)+(ve.p2l(be+ce)-ve.p2l(be)))/2;ve.range=[ve.l2r(ve._rl[0]-we),ve.l2r(ve._rl[1]-we)]}else ve.range=[ve.l2r(ve._rl[0]-ce/ve._m),ve.l2r(ve._rl[1]-ce/ve._m)];ve.limitRange&&ve.limitRange()}}}function F(ae){return 1-(ae>=0?Math.min(ae,.9):1/(1/Math.max(ae,-.3)+3.222))}function V(ae,ce,ge,ve,be){return ae.append("path").attr("class","zoombox").style({fill:ce>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",s(ge,ve)).attr("d",be+"Z")}function H(ae,ce,ge){return ae.append("path").attr("class","zoombox-corners").style({fill:a.background,stroke:a.defaultLine,"stroke-width":1,opacity:0}).attr("transform",s(ce,ge)).attr("d","M0,0Z")}function te(ae,ce,ge,ve,be,we){ae.attr("d",ve+"M"+ge.l+","+ge.t+"v"+ge.h+"h"+ge.w+"v-"+ge.h+"h-"+ge.w+"Z"),Q(ae,ce,be,we)}function Q(ae,ce,ge,ve){ge||(ae.transition().style("fill",ve>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ce.transition().style("opacity",1).duration(200))}function K(ae){k.select(ae).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function X(ae){I&&ae.data&&ae._context.showTips&&(w.notifier(w._(ae,"Double-click to zoom back out"),"long"),I=!1)}function J(ae){var ce=Math.floor(Math.min(ae.b-ae.t,ae.r-ae.l,O)/2);return"M"+(ae.l-3.5)+","+(ae.t-.5+ce)+"h3v"+-ce+"h"+ce+"v-3h-"+(ce+3)+"ZM"+(ae.r+3.5)+","+(ae.t-.5+ce)+"h-3v"+-ce+"h"+-ce+"v-3h"+(ce+3)+"ZM"+(ae.r+3.5)+","+(ae.b+.5-ce)+"h-3v"+ce+"h"+-ce+"v3h"+(ce+3)+"ZM"+(ae.l-3.5)+","+(ae.b+.5-ce)+"h3v"+ce+"h"+ce+"v3h-"+(ce+3)+"Z"}function ee(ae,ce,ge,ve,be){for(var we,ye,me,Ae,ke=!1,fe={},le={},de=(be||{}).xaHash,Ce=(be||{}).yaHash,Me=0;Me<ce.length;Me++){var Le=ce[Me];for(we in ge)if(Le[we]){for(me in Le)be&&(de[me]||Ce[me])||(me.charAt(0)==="x"?ge:ve)[me]||(fe[me]=we);for(ye in ve)be&&(de[ye]||Ce[ye])||!Le[ye]||(ke=!0)}for(ye in ve)if(Le[ye])for(Ae in Le)be&&(de[Ae]||Ce[Ae])||(Ae.charAt(0)==="x"?ge:ve)[Ae]||(le[Ae]=ye)}ke&&(w.extendFlat(fe,le),le={});var Oe={},Be=[];for(me in fe){var pe=x(ae,me);Be.push(pe),Oe[pe._id]=pe}var _e={},Te=[];for(Ae in le){var Re=x(ae,Ae);Te.push(Re),_e[Re._id]=Re}return{xaHash:Oe,yaHash:_e,xaxes:Be,yaxes:Te,xLinks:fe,yLinks:le,isSubplotConstrained:ke}}function ie(ae,ce){if(v){var ge=ae.onwheel!==void 0?"wheel":"mousewheel";ae._onwheel&&ae.removeEventListener(ge,ae._onwheel),ae._onwheel=ce,ae.addEventListener(ge,ce,{passive:!1})}else ae.onwheel!==void 0?ae.onwheel=ce:ae.onmousewheel!==void 0?ae.onmousewheel=ce:ae.isAddedWheelEvent||(ae.isAddedWheelEvent=!0,ae.addEventListener("wheel",ce,{passive:!1}))}function oe(ae){var ce=[];for(var ge in ae)ce.push(ae[ge]);return ce}B.exports={makeDragBox:function(ae,ce,ge,ve,be,we,ye,me){var Ae,ke,fe,le,de,Ce,Me,Le,Oe,Be,pe,_e,Te,Re,Ne,ze,Ge,Ye,et,ut,ot,yt,wt,bt=ae._fullLayout._zoomlayer,at=ye+me==="nsew",rt=(ye+me).length===1;function At(){if(Ae=ce.xaxis,ke=ce.yaxis,Oe=Ae._length,Be=ke._length,Me=Ae._offset,Le=ke._offset,(fe={})[Ae._id]=Ae,(le={})[ke._id]=ke,ye&&me)for(var Kt=ce.overlays,un=0;un<Kt.length;un++){var rn=Kt[un].xaxis;fe[rn._id]=rn;var hn=Kt[un].yaxis;le[hn._id]=hn}de=oe(fe),Ce=oe(le),Te=z(de,me),Re=z(Ce,ye),Ne=!Re&&!Te,_e=ee(ae,ae._fullLayout._axisMatchGroups,fe,le);var kn=(pe=ee(ae,ae._fullLayout._axisConstraintGroups,fe,le,_e)).isSubplotConstrained||_e.isSubplotConstrained;ze=me||kn,Ge=ye||kn;var Sn=ae._fullLayout;Ye=Sn._has("scattergl"),et=Sn._has("splom"),ut=Sn._has("svg")}ge+=ce.yaxis._shift,At();var Rt=function(Kt,un,rn){return Kt?Kt==="nsew"?rn?"":un==="pan"?"move":"crosshair":Kt.toLowerCase()+"-resize":"pointer"}(Re+Te,ae._fullLayout.dragmode,at),Ft=U(ce,ye+me+"drag",Rt,ge,ve,be,we);if(Ne&&!at)return Ft.onmousedown=null,Ft.style.pointerEvents="none",Ft;var Dt,Xe,Ke,Ve,Je,ct,st,je,Ue,lt,Qe={element:Ft,gd:ae,plotinfo:ce};function gt(){Qe.plotinfo.selection=!1,p(ae)}function mt(Kt,un){var rn=Qe.gd;if(rn._fullLayout._activeShapeIndex>=0)rn._fullLayout._deactivateShape(rn);else{var hn=rn._fullLayout.clickmode;if(K(rn),Kt!==2||rt||qt(),at)hn.indexOf("select")>-1&&S(un,rn,de,Ce,ce.id,Qe),hn.indexOf("event")>-1&&i.click(rn,un,ce.id);else if(Kt===1&&rt){var kn=ye?ke:Ae,Sn=ye==="s"||me==="w"?0:1,Rn=kn._name+".range["+Sn+"]",zn=function(Nn,or){var lr,cr=Nn.range[or],$n=Math.abs(cr-Nn.range[1-or]);return Nn.type==="date"?cr:Nn.type==="log"?(lr=Math.ceil(Math.max(0,-Math.log($n)/Math.LN10))+3,r("."+lr+"g")(Math.pow(10,cr))):(lr=Math.floor(Math.log(Math.abs(cr))/Math.LN10)-Math.floor(Math.log($n)/Math.LN10)+4,r("."+String(lr)+"g")(cr))}(kn,Sn),Pn="left",Gn="middle";if(kn.fixedrange)return;ye?(Gn=ye==="n"?"top":"bottom",kn.side==="right"&&(Pn="right")):me==="e"&&(Pn="right"),rn._context.showAxisRangeEntryBoxes&&k.select(Ft).call(t.makeEditable,{gd:rn,immediate:!0,background:rn._fullLayout.paper_bgcolor,text:String(zn),fill:kn.tickfont?kn.tickfont.color:"#444",horizontalAlign:Pn,verticalAlign:Gn}).on("edit",function(Nn){var or=kn.d2r(Nn);or!==void 0&&f.call("_guiRelayout",rn,Rn,or)})}}}function xt(Kt,un){if(ae._transitioningWithDuration)return!1;var rn=Math.max(0,Math.min(Oe,yt*Kt+Dt)),hn=Math.max(0,Math.min(Be,wt*un+Xe)),kn=Math.abs(rn-Dt),Sn=Math.abs(hn-Xe);function Rn(){st="",Ke.r=Ke.l,Ke.t=Ke.b,Ue.attr("d","M0,0Z")}if(Ke.l=Math.min(Dt,rn),Ke.r=Math.max(Dt,rn),Ke.t=Math.min(Xe,hn),Ke.b=Math.max(Xe,hn),pe.isSubplotConstrained)kn>O||Sn>O?(st="xy",kn/Oe>Sn/Be?(Sn=kn*Be/Oe,Xe>hn?Ke.t=Xe-Sn:Ke.b=Xe+Sn):(kn=Sn*Oe/Be,Dt>rn?Ke.l=Dt-kn:Ke.r=Dt+kn),Ue.attr("d",J(Ke))):Rn();else if(_e.isSubplotConstrained)if(kn>O||Sn>O){st="xy";var zn=Math.min(Ke.l/Oe,(Be-Ke.b)/Be),Pn=Math.max(Ke.r/Oe,(Be-Ke.t)/Be);Ke.l=zn*Oe,Ke.r=Pn*Oe,Ke.b=(1-zn)*Be,Ke.t=(1-Pn)*Be,Ue.attr("d",J(Ke))}else Rn();else!Re||Sn<Math.min(Math.max(.6*kn,P),O)?kn<P||!Te?Rn():(Ke.t=0,Ke.b=Be,st="x",Ue.attr("d",function(Gn,Nn){return"M"+(Gn.l-.5)+","+(Nn-O-.5)+"h-3v"+(2*O+1)+"h3ZM"+(Gn.r+.5)+","+(Nn-O-.5)+"h3v"+(2*O+1)+"h-3Z"}(Ke,Xe))):!Te||kn<Math.min(.6*Sn,O)?(Ke.l=0,Ke.r=Oe,st="y",Ue.attr("d",function(Gn,Nn){return"M"+(Nn-O-.5)+","+(Gn.t-.5)+"v-3h"+(2*O+1)+"v3ZM"+(Nn-O-.5)+","+(Gn.b+.5)+"v3h"+(2*O+1)+"v-3Z"}(Ke,Dt))):(st="xy",Ue.attr("d",J(Ke)));Ke.w=Ke.r-Ke.l,Ke.h=Ke.b-Ke.t,st&&(lt=!0),ae._dragged=lt,te(je,Ue,Ke,Je,ct,Ve),dt(),ae.emit("plotly_relayouting",ot),ct=!0}function dt(){ot={},st!=="xy"&&st!=="x"||(j(de,Ke.l/Oe,Ke.r/Oe,ot,pe.xaxes),Jt("x",ot)),st!=="xy"&&st!=="y"||(j(Ce,(Be-Ke.b)/Be,(Be-Ke.t)/Be,ot,pe.yaxes),Jt("y",ot))}function Lt(){dt(),K(ae),Gt(),X(ae)}Qe.prepFn=function(Kt,un,rn){var hn=Qe.dragmode,kn=ae._fullLayout.dragmode;kn!==hn&&(Qe.dragmode=kn),At(),yt=ae._fullLayout._invScaleX,wt=ae._fullLayout._invScaleY,Ne||(at?Kt.shiftKey?kn==="pan"?kn="zoom":c(kn)||(kn="pan"):Kt.ctrlKey&&(kn="pan"):kn="pan"),b(kn)?Qe.minDrag=1:Qe.minDrag=void 0,c(kn)?(Qe.xaxes=de,Qe.yaxes=Ce,T(Kt,un,rn,Qe,kn)):(Qe.clickFn=mt,c(hn)&&gt(),Ne||(kn==="zoom"?(Qe.moveFn=xt,Qe.doneFn=Lt,Qe.minDrag=1,function(Sn,Rn,zn){var Pn=Ft.getBoundingClientRect();Dt=Rn-Pn.left,Xe=zn-Pn.top,ae._fullLayout._calcInverseTransform(ae);var Gn=w.apply3DTransform(ae._fullLayout._invTransform)(Dt,Xe);Dt=Gn[0],Xe=Gn[1],Ke={l:Dt,r:Dt,w:0,t:Xe,b:Xe,h:0},Ve=ae._hmpixcount?ae._hmlumcount/ae._hmpixcount:_(ae._fullLayout.plot_bgcolor).getLuminance(),ct=!1,st="xy",lt=!1,je=V(bt,Ve,Me,Le,Je="M0,0H"+Oe+"V"+Be+"H0V0"),Ue=H(bt,Me,Le)}(0,un,rn)):kn==="pan"&&(Qe.moveFn=Bt,Qe.doneFn=Gt))),ae._fullLayout._redrag=function(){var Sn=ae._dragdata;if(Sn&&Sn.element===Ft){var Rn=ae._fullLayout.dragmode;c(Rn)||(At(),nn([0,0,Oe,Be]),Qe.moveFn(Sn.dx,Sn.dy))}}},u.init(Qe);var kt=[0,0,Oe,Be],_t=null,Ot=E.REDRAWDELAY,Pt=ce.mainplot?ae._fullLayout._plots[ce.mainplot]:ce;function Bt(Kt,un){if(Kt*=yt,un*=wt,!ae._transitioningWithDuration){if(ae._fullLayout._replotting=!0,Te==="ew"||Re==="ns"){var rn=Te?-Kt:0,hn=Re?-un:0;if(_e.isSubplotConstrained){if(Te&&Re){var kn=(Kt/Oe-un/Be)/2;rn=-(Kt=kn*Oe),hn=-(un=-kn*Be)}Re?rn=-hn*Oe/Be:hn=-rn*Be/Oe}return Te&&(W(de,Kt),Jt("x")),Re&&(W(Ce,un),Jt("y")),nn([rn,hn,Oe,Be]),on(),void ae.emit("plotly_relayouting",ot)}var Sn,Rn,zn=Te==="w"==(Re==="n")?1:-1;if(Te&&Re&&(pe.isSubplotConstrained||_e.isSubplotConstrained)){var Pn=(Kt/Oe+zn*un/Be)/2;Kt=Pn*Oe,un=zn*Pn*Be}if(Te==="w"?Kt=lr(de,0,Kt):Te==="e"?Kt=lr(de,1,-Kt):Te||(Kt=0),Re==="n"?un=lr(Ce,1,un):Re==="s"?un=lr(Ce,0,-un):Re||(un=0),Sn=Te==="w"?Kt:0,Rn=Re==="n"?un:0,pe.isSubplotConstrained&&!_e.isSubplotConstrained||_e.isSubplotConstrained&&Te&&Re&&zn>0){var Gn;if(_e.isSubplotConstrained||!Te&&Re.length===1){for(Gn=0;Gn<de.length;Gn++)de[Gn].range=de[Gn]._r.slice(),M(de[Gn],1-un/Be);Sn=(Kt=un*Oe/Be)/2}if(_e.isSubplotConstrained||!Re&&Te.length===1){for(Gn=0;Gn<Ce.length;Gn++)Ce[Gn].range=Ce[Gn]._r.slice(),M(Ce[Gn],1-Kt/Oe);Rn=(un=Kt*Be/Oe)/2}}_e.isSubplotConstrained&&Re||Jt("x"),_e.isSubplotConstrained&&Te||Jt("y");var Nn=Oe-Kt,or=Be-un;!_e.isSubplotConstrained||Te&&Re||(Te?(Rn=Sn?0:Kt*Be/Oe,or=Nn*Be/Oe):(Sn=Rn?0:un*Oe/Be,Nn=or*Oe/Be)),nn([Sn,Rn,Nn,or]),on(),ae.emit("plotly_relayouting",ot)}function lr(cr,$n,Ar){for(var Ht,an,_n=1-$n,vn=0;vn<cr.length;vn++){var En=cr[vn];if(!En.fixedrange){Ht=En,an=En._rl[_n]+(En._rl[$n]-En._rl[_n])/F(Ar/En._length);var Yn=En.l2r(an);Yn!==!1&&Yn!==void 0&&(En.range[$n]=Yn)}}return Ht._length*(Ht._rl[$n]-an)/(Ht._rl[$n]-Ht._rl[_n])}}function Jt(Kt,un){for(var rn=_e.isSubplotConstrained?{x:Ce,y:de}[Kt]:_e[Kt+"axes"],hn=_e.isSubplotConstrained?{x:de,y:Ce}[Kt]:[],kn=0;kn<rn.length;kn++){var Sn=rn[kn],Rn=Sn._id,zn=_e.xLinks[Rn]||_e.yLinks[Rn],Pn=hn[0]||fe[zn]||le[zn];Pn&&(un?(un[Sn._name+".range[0]"]=un[Pn._name+".range[0]"],un[Sn._name+".range[1]"]=un[Pn._name+".range[1]"]):Sn.range=Pn.range.slice())}}function on(){var Kt,un=[];function rn(Rn){for(Kt=0;Kt<Rn.length;Kt++)Rn[Kt].fixedrange||un.push(Rn[Kt]._id)}function hn(Rn,zn){for(Kt=0;Kt<Rn.length;Kt++){var Pn=Rn[Kt],Gn=Pn[zn];Pn.fixedrange||Gn.tickmode!=="sync"||un.push(Gn._id)}}for(ze&&(rn(de),rn(pe.xaxes),rn(_e.xaxes),hn(ce.overlays,"xaxis")),Ge&&(rn(Ce),rn(pe.yaxes),rn(_e.yaxes),hn(ce.overlays,"yaxis")),ot={},Kt=0;Kt<un.length;Kt++){var kn=un[Kt],Sn=x(ae,kn);l.drawOne(ae,Sn,{skipTitle:!0}),ot[Sn._name+".range[0]"]=Sn.range[0],ot[Sn._name+".range[1]"]=Sn.range[1]}l.redrawComponents(ae,un)}function qt(){if(!ae._transitioningWithDuration){var Kt=ae._context.doubleClick,un=[];Te&&(un=un.concat(de)),Re&&(un=un.concat(Ce)),_e.xaxes&&(un=un.concat(_e.xaxes)),_e.yaxes&&(un=un.concat(_e.yaxes));var rn,hn,kn={};if(Kt==="reset+autosize")for(Kt="autosize",hn=0;hn<un.length;hn++){var Sn=(rn=un[hn])._rangeInitial0,Rn=rn._rangeInitial1,zn=Sn!==void 0||Rn!==void 0;if(zn&&(Sn!==void 0&&Sn!==rn.range[0]||Rn!==void 0&&Rn!==rn.range[1])||!zn&&rn.autorange!==!0){Kt="reset";break}}if(Kt==="autosize")for(hn=0;hn<un.length;hn++)(rn=un[hn]).fixedrange||(kn[rn._name+".autorange"]=!0);else if(Kt==="reset"){for((Te||pe.isSubplotConstrained)&&(un=un.concat(pe.xaxes)),Re&&!pe.isSubplotConstrained&&(un=un.concat(pe.yaxes)),pe.isSubplotConstrained&&(Te?Re||(un=un.concat(Ce)):un=un.concat(de)),hn=0;hn<un.length;hn++)if(!(rn=un[hn]).fixedrange){var Pn=rn._name,Gn=rn._autorangeInitial;rn._rangeInitial0===void 0&&rn._rangeInitial1===void 0?kn[Pn+".autorange"]=!0:rn._rangeInitial0===void 0?(kn[Pn+".autorange"]=Gn,kn[Pn+".range"]=[null,rn._rangeInitial1]):rn._rangeInitial1===void 0?(kn[Pn+".range"]=[rn._rangeInitial0,null],kn[Pn+".autorange"]=Gn):kn[Pn+".range"]=[rn._rangeInitial0,rn._rangeInitial1]}}ae.emit("plotly_doubleclick",null),f.call("_guiRelayout",ae,kn)}}function Gt(){nn([0,0,Oe,Be]),w.syncOrAsync([y.previousPromises,function(){ae._fullLayout._replotting=!1,f.call("_guiRelayout",ae,ot)}],ae)}function nn(Kt){var un,rn,hn,kn,Sn=ae._fullLayout,Rn=Sn._plots,zn=Sn._subplots.cartesian;if(et&&f.subplotsRegistry.splom.drag(ae),Ye){for(un=0;un<zn.length;un++)if(hn=(rn=Rn[zn[un]]).xaxis,kn=rn.yaxis,rn._scene){var Pn=w.simpleMap(hn.range,hn.r2l),Gn=w.simpleMap(kn.range,kn.r2l);hn.limitRange&&hn.limitRange(),kn.limitRange&&kn.limitRange(),Pn=hn.range,Gn=kn.range,rn._scene.update({range:[Pn[0],Gn[0],Pn[1],Gn[1]]})}}if((et||Ye)&&(g(ae),m(ae)),ut){var Nn=Kt[2]/Ae._length,or=Kt[3]/ke._length;for(un=0;un<zn.length;un++){hn=(rn=Rn[zn[un]]).xaxis,kn=rn.yaxis;var lr,cr,$n,Ar,Ht=(ze||_e.isSubplotConstrained)&&!hn.fixedrange&&fe[hn._id],an=(Ge||_e.isSubplotConstrained)&&!kn.fixedrange&&le[kn._id];if(Ht?(lr=Nn,$n=me||_e.isSubplotConstrained?Kt[0]:dn(hn,lr)):_e.xaHash[hn._id]?(lr=Nn,$n=Kt[0]*hn._length/Ae._length):_e.yaHash[hn._id]?(lr=or,$n=Re==="ns"?-Kt[1]*hn._length/ke._length:dn(hn,lr,{n:"top",s:"bottom"}[Re])):$n=An(hn,lr=Cn(hn,Nn,or)),lr>1&&(hn.maxallowed!==void 0&&ze===(hn.range[0]<hn.range[1]?"e":"w")||hn.minallowed!==void 0&&ze===(hn.range[0]<hn.range[1]?"w":"e"))&&(lr=1,$n=0),an?(cr=or,Ar=ye||_e.isSubplotConstrained?Kt[1]:dn(kn,cr)):_e.yaHash[kn._id]?(cr=or,Ar=Kt[1]*kn._length/ke._length):_e.xaHash[kn._id]?(cr=Nn,Ar=Te==="ew"?-Kt[0]*kn._length/Ae._length:dn(kn,cr,{e:"right",w:"left"}[Te])):Ar=An(kn,cr=Cn(kn,Nn,or)),cr>1&&(kn.maxallowed!==void 0&&Ge===(kn.range[0]<kn.range[1]?"n":"s")||kn.minallowed!==void 0&&Ge===(kn.range[0]<kn.range[1]?"s":"n"))&&(cr=1,Ar=0),lr||cr){lr||(lr=1),cr||(cr=1);var _n=hn._offset-$n/lr,vn=kn._offset-Ar/cr;rn.clipRect.call(n.setTranslate,$n,Ar).call(n.setScale,lr,cr),rn.plot.call(n.setTranslate,_n,vn).call(n.setScale,1/lr,1/cr),lr===rn.xScaleFactor&&cr===rn.yScaleFactor||(n.setPointGroupScale(rn.zoomScalePts,lr,cr),n.setTextPointsScale(rn.zoomScaleTxt,lr,cr)),n.hideOutsideRangePoints(rn.clipOnAxisFalseTraces,rn),rn.xScaleFactor=lr,rn.yScaleFactor=cr}}}}function Cn(Kt,un,rn){return Kt.fixedrange?0:ze&&pe.xaHash[Kt._id]?un:Ge&&(pe.isSubplotConstrained?pe.xaHash:pe.yaHash)[Kt._id]?rn:0}function An(Kt,un){return un?(Kt.range=Kt._r.slice(),M(Kt,un),dn(Kt,un)):0}function dn(Kt,un,rn){return Kt._length*(1-un)*d[rn||Kt.constraintoward||"middle"]}return ye.length*me.length!=1&&ie(Ft,function(Kt){if(ae._context._scrollZoom.cartesian||ae._fullLayout._enablescrollzoom){if(gt(),ae._transitioningWithDuration)return Kt.preventDefault(),void Kt.stopPropagation();At(),clearTimeout(_t);var un=-Kt.deltaY;if(isFinite(un)||(un=Kt.wheelDelta/10),isFinite(un)){var rn,hn=Math.exp(-Math.min(Math.max(un,-20),20)/200),kn=Pt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Sn=(Kt.clientX-kn.left)/kn.width,Rn=(kn.bottom-Kt.clientY)/kn.height;if(ze){for(me||(Sn=.5),rn=0;rn<de.length;rn++)zn(de[rn],Sn,hn);Jt("x"),kt[2]*=hn,kt[0]+=kt[2]*Sn*(1/hn-1)}if(Ge){for(ye||(Rn=.5),rn=0;rn<Ce.length;rn++)zn(Ce[rn],Rn,hn);Jt("y"),kt[3]*=hn,kt[1]+=kt[3]*(1-Rn)*(1/hn-1)}nn(kt),on(),ae.emit("plotly_relayouting",ot),_t=setTimeout(function(){ae._fullLayout&&(kt=[0,0,Oe,Be],Gt())},Ot),Kt.preventDefault()}else w.log("Did not find wheel motion attributes: ",Kt)}function zn(Pn,Gn,Nn){if(!Pn.fixedrange){var or=w.simpleMap(Pn.range,Pn.r2l),lr=or[0]+(or[1]-or[0])*Gn;Pn.range=or.map(function(cr){return Pn.l2r(lr+(cr-lr)*Nn)})}}}),Ft},makeDragger:R,makeRectDragger:U,makeZoombox:V,makeCorners:H,updateZoombox:te,xyCorners:J,transitionZoombox:Q,removeZoombox:K,showDoubleClickNotifier:X,attachWheelEventHandler:ie}},42464:function(B,L,e){var k=e(33428),w=e(93024),r=e(86476),_=e(93972),v=e(51184).makeDragBox,f=e(33816).DRAGGERSIZE;L.initInteractions=function(s){var t=s._fullLayout;if(s._context.staticPlot)k.select(s).selectAll(".drag").remove();else if(t._has("cartesian")||t._has("splom")){Object.keys(t._plots||{}).sort(function(n,i){if((t._plots[n].mainplot&&!0)===(t._plots[i].mainplot&&!0)){var l=n.split("y"),o=i.split("y");return l[0]===o[0]?Number(l[1]||1)-Number(o[1]||1):Number(l[0]||1)-Number(o[0]||1)}return t._plots[n].mainplot?1:-1}).forEach(function(n){var i=t._plots[n],l=i.xaxis,o=i.yaxis;if(!i.mainplot){var u=v(s,i,l._offset,o._offset,l._length,o._length,"ns","ew");u.onmousemove=function(b){s._fullLayout._rehover=function(){s._fullLayout._hoversubplot===n&&s._fullLayout._plots[n]&&w.hover(s,b,n)},w.hover(s,b,n),s._fullLayout._lasthover=u,s._fullLayout._hoversubplot=n},u.onmouseout=function(b){s._dragging||(s._fullLayout._hoversubplot=null,r.unhover(s,b))},s._context.showAxisDragHandles&&(v(s,i,l._offset-f,o._offset-f,f,f,"n","w"),v(s,i,l._offset+l._length,o._offset-f,f,f,"n","e"),v(s,i,l._offset-f,o._offset+o._length,f,f,"s","w"),v(s,i,l._offset+l._length,o._offset+o._length,f,f,"s","e"))}if(s._context.showAxisDragHandles){if(n===l._mainSubplot){var h=l._mainLinePosition;l.side==="top"&&(h-=f),v(s,i,l._offset+.1*l._length,h,.8*l._length,f,"","ew"),v(s,i,l._offset,h,.1*l._length,f,"","w"),v(s,i,l._offset+.9*l._length,h,.1*l._length,f,"","e")}if(n===o._mainSubplot){var c=o._mainLinePosition;o.side!=="right"&&(c-=f),v(s,i,c,o._offset+.1*o._length,f,.8*o._length,"ns",""),v(s,i,c,o._offset+.9*o._length,f,.1*o._length,"s",""),v(s,i,c,o._offset,f,.1*o._length,"n","")}}});var a=t._hoverlayer.node();a.onmousemove=function(n){n.target=s._fullLayout._lasthover,w.hover(s,n,t._hoversubplot)},a.onclick=function(n){n.target=s._fullLayout._lasthover,w.click(s,n)},a.onmousedown=function(n){s._fullLayout._lasthover.onmousedown(n)},L.updateFx(s)}},L.updateFx=function(s){var t=s._fullLayout,a=t.dragmode==="pan"?"move":"crosshair";_(t._draggers,a)}},36632:function(B,L,e){var k=e(24040),w=e(3400),r=e(79811);B.exports=function(_){return function(v,f){var s=v[_];if(Array.isArray(s))for(var t=k.subplotsRegistry.cartesian,a=t.idRegex,n=f._subplots,i=n.xaxis,l=n.yaxis,o=n.cartesian,u=f._has("cartesian")||f._has("gl2d"),h=0;h<s.length;h++){var c=s[h];if(w.isPlainObject(c)){var b=r.cleanId(c.xref,"x",!1),d=r.cleanId(c.yref,"y",!1),g=a.x.test(b),m=a.y.test(d);if(g||m){u||w.pushUnique(f._basePlotModules,t);var y=!1;g&&i.indexOf(b)===-1&&(i.push(b),y=!0),m&&l.indexOf(d)===-1&&(l.push(d),y=!0),y&&g&&m&&o.push(b+d)}}}}}},57952:function(B,L,e){var k=e(33428),w=e(24040),r=e(3400),_=e(7316),v=e(43616),f=e(84888)._M,s=e(79811),t=e(33816),a=e(9616),n=r.ensureSingle;function i(c,b,d){return r.ensureSingle(c,b,d,function(g){g.datum(d)})}function l(c,b,d,g,m){for(var y,x,T,p=t.traceLayerClasses,S=c._fullLayout,M=S._modules,E=[],P=[],O=0;O<M.length;O++){var I=(y=M[O]).name,R=w.modules[I].categories;if(R.svg){var U=y.layerName||I+"layer",z=y.plot;T=(x=f(d,z))[0],d=x[1],T.length&&E.push({i:p.indexOf(U),className:U,plotMethod:z,cdModule:T}),R.zoomScale&&P.push("."+U)}}E.sort(function(F,V){return F.i-V.i});var j=b.plot.selectAll("g.mlayer").data(E,function(F){return F.className});if(j.enter().append("g").attr("class",function(F){return F.className}).classed("mlayer",!0).classed("rangeplot",b.isRangePlot),j.exit().remove(),j.order(),j.each(function(F){var V=k.select(this),H=F.className;F.plotMethod(c,b,F.cdModule,V,g,m),t.clipOnAxisFalseQuery.indexOf("."+H)===-1&&v.setClipUrl(V,b.layerClipId,c)}),S._has("scattergl")&&(y=w.getModule("scattergl"),T=f(d,y)[0],y.plot(c,b,T)),!c._context.staticPlot&&(b._hasClipOnAxisFalse&&(b.clipOnAxisFalseTraces=b.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),P.length)){var W=b.plot.selectAll(P.join(",")).selectAll(".trace");b.zoomScalePts=W.selectAll("path.point"),b.zoomScaleTxt=W.selectAll(".textpoint")}}function o(c,b){var d=b.plotgroup,g=b.id,m=t.layerValue2layerClass[b.xaxis.layer],y=t.layerValue2layerClass[b.yaxis.layer],x=c._fullLayout._hasOnlyLargeSploms;if(b.mainplot){var T=b.mainplotinfo,p=T.plotgroup,S=g+"-x",M=g+"-y";b.minorGridlayer=T.minorGridlayer,b.gridlayer=T.gridlayer,b.zerolinelayer=T.zerolinelayer,n(T.overlinesBelow,"path",S),n(T.overlinesBelow,"path",M),n(T.overaxesBelow,"g",S),n(T.overaxesBelow,"g",M),b.plot=n(T.overplot,"g",g),n(T.overlinesAbove,"path",S),n(T.overlinesAbove,"path",M),n(T.overaxesAbove,"g",S),n(T.overaxesAbove,"g",M),b.xlines=p.select(".overlines-"+m).select("."+S),b.ylines=p.select(".overlines-"+y).select("."+M),b.xaxislayer=p.select(".overaxes-"+m).select("."+S),b.yaxislayer=p.select(".overaxes-"+y).select("."+M)}else if(x)b.xlines=n(d,"path","xlines-above"),b.ylines=n(d,"path","ylines-above"),b.xaxislayer=n(d,"g","xaxislayer-above"),b.yaxislayer=n(d,"g","yaxislayer-above");else{var E=n(d,"g","layer-subplot");b.shapelayer=n(E,"g","shapelayer"),b.imagelayer=n(E,"g","imagelayer"),b.minorGridlayer=n(d,"g","minor-gridlayer"),b.gridlayer=n(d,"g","gridlayer"),b.zerolinelayer=n(d,"g","zerolinelayer"),n(d,"path","xlines-below"),n(d,"path","ylines-below"),b.overlinesBelow=n(d,"g","overlines-below"),n(d,"g","xaxislayer-below"),n(d,"g","yaxislayer-below"),b.overaxesBelow=n(d,"g","overaxes-below"),b.plot=n(d,"g","plot"),b.overplot=n(d,"g","overplot"),b.xlines=n(d,"path","xlines-above"),b.ylines=n(d,"path","ylines-above"),b.overlinesAbove=n(d,"g","overlines-above"),n(d,"g","xaxislayer-above"),n(d,"g","yaxislayer-above"),b.overaxesAbove=n(d,"g","overaxes-above"),b.xlines=d.select(".xlines-"+m),b.ylines=d.select(".ylines-"+y),b.xaxislayer=d.select(".xaxislayer-"+m),b.yaxislayer=d.select(".yaxislayer-"+y)}x||(i(b.minorGridlayer,"g",b.xaxis._id),i(b.minorGridlayer,"g",b.yaxis._id),b.minorGridlayer.selectAll("g").map(function(P){return P[0]}).sort(s.idSort),i(b.gridlayer,"g",b.xaxis._id),i(b.gridlayer,"g",b.yaxis._id),b.gridlayer.selectAll("g").map(function(P){return P[0]}).sort(s.idSort)),b.xlines.style("fill","none").classed("crisp",!0),b.ylines.style("fill","none").classed("crisp",!0)}function u(c,b){if(c){var d={};for(var g in c.each(function(T){var p=T[0];k.select(this).remove(),h(p,b),d[p]=!0}),b._plots)for(var m=b._plots[g].overlays||[],y=0;y<m.length;y++){var x=m[y];d[x.id]&&x.plot.selectAll(".trace").remove()}}}function h(c,b){b._draggers.selectAll("g."+c).remove(),b._defs.select("#clip"+b._uid+c+"plot").remove()}L.name="cartesian",L.attr=["xaxis","yaxis"],L.idRoot=["x","y"],L.idRegex=t.idRegex,L.attrRegex=t.attrRegex,L.attributes=e(26720),L.layoutAttributes=e(94724),L.supplyLayoutDefaults=e(67352),L.transitionAxes=e(73736),L.finalizeSubplots=function(c,b){var d,g,m,y=b._subplots,x=y.xaxis,T=y.yaxis,p=y.cartesian,S=p.concat(y.gl2d||[]),M={},E={};for(d=0;d<S.length;d++){var P=S[d].split("y");M[P[0]]=1,E["y"+P[1]]=1}for(d=0;d<x.length;d++)M[g=x[d]]||(m=(c[s.id2name(g)]||{}).anchor,t.idRegex.y.test(m)||(m="y"),p.push(g+m),S.push(g+m),E[m]||(E[m]=1,r.pushUnique(T,m)));for(d=0;d<T.length;d++)E[m=T[d]]||(g=(c[s.id2name(m)]||{}).anchor,t.idRegex.x.test(g)||(g="x"),p.push(g+m),S.push(g+m),M[g]||(M[g]=1,r.pushUnique(x,g)));if(!S.length){for(var O in g="",m="",c)t.attrRegex.test(O)&&(O.charAt(0)==="x"?(!g||+O.substr(5)<+g.substr(5))&&(g=O):(!m||+O.substr(5)<+m.substr(5))&&(m=O));g=g?s.name2id(g):"x",m=m?s.name2id(m):"y",x.push(g),T.push(m),p.push(g+m)}},L.plot=function(c,b,d,g){var m,y=c._fullLayout,x=y._subplots.cartesian,T=c.calcdata;if(!Array.isArray(b))for(b=[],m=0;m<T.length;m++)b.push(m);for(m=0;m<x.length;m++){for(var p,S=x[m],M=y._plots[S],E=[],P=0;P<T.length;P++){var O=T[P],I=O[0].trace;I.xaxis+I.yaxis===S&&((b.indexOf(I.index)!==-1||I.carpet)&&(p&&p[0].trace.xaxis+p[0].trace.yaxis===S&&["tonextx","tonexty","tonext"].indexOf(I.fill)!==-1&&E.indexOf(p)===-1&&E.push(p),E.push(O)),p=O)}l(c,M,E,d,g)}},L.clean=function(c,b,d,g){var m,y,x,T=g._plots||{},p=b._plots||{},S=g._subplots||{};if(g._hasOnlyLargeSploms&&!b._hasOnlyLargeSploms)for(x in T)(m=T[x]).plotgroup&&m.plotgroup.remove();var M=g._has&&g._has("gl"),E=b._has&&b._has("gl");if(M&&!E)for(x in T)(m=T[x])._scene&&m._scene.destroy();if(S.xaxis&&S.yaxis){var P=s.listIds({_fullLayout:g});for(y=0;y<P.length;y++){var O=P[y];b[s.id2name(O)]||g._infolayer.selectAll(".g-"+O+"title").remove()}}var I=g._has&&g._has("cartesian"),R=b._has&&b._has("cartesian");if(I&&!R)u(g._cartesianlayer.selectAll(".subplot"),g),g._defs.selectAll(".axesclip").remove(),delete g._axisConstraintGroups,delete g._axisMatchGroups;else if(S.cartesian)for(y=0;y<S.cartesian.length;y++){var U=S.cartesian[y];if(!p[U]){var z="."+U+",."+U+"-x,."+U+"-y";g._cartesianlayer.selectAll(z).remove(),h(U,g)}}},L.drawFramework=function(c){var b=c._fullLayout,d=function(m){var y,x,T,p,S,M,E=m._fullLayout,P=E._subplots.cartesian,O=P.length,I=[],R=[];for(y=0;y<O;y++){T=P[y],S=(p=E._plots[T]).xaxis,M=p.yaxis;var U=S._mainAxis,z=M._mainAxis,j=U._id+z._id,W=E._plots[j];p.overlays=[],j!==T&&W?(p.mainplot=j,p.mainplotinfo=W,R.push(T)):(p.mainplot=void 0,p.mainplotinfo=void 0,I.push(T))}for(y=0;y<R.length;y++)T=R[y],(p=E._plots[T]).mainplotinfo.overlays.push(p);var F=I.concat(R),V=new Array(O);for(y=0;y<O;y++){T=F[y],S=(p=E._plots[T]).xaxis,M=p.yaxis;var H=[T,S.layer,M.layer,S.overlaying||"",M.overlaying||""];for(x=0;x<p.overlays.length;x++)H.push(p.overlays[x].id);V[y]=H}return V}(c),g=b._cartesianlayer.selectAll(".subplot").data(d,String);g.enter().append("g").attr("class",function(m){return"subplot "+m[0]}),g.order(),g.exit().call(u,b),g.each(function(m){var y=m[0],x=b._plots[y];x.plotgroup=k.select(this),o(c,x),x.draglayer=n(b._draggers,"g",y)})},L.rangePlot=function(c,b,d){o(c,b),l(c,b,d),_.style(c)},L.toSVG=function(c){var b=c._fullLayout._glimages,d=k.select(c).selectAll(".svg-container");d.filter(function(g,m){return m===d.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var g=this,m=g.toDataURL("image/png");b.append("svg:image").attr({xmlns:a.svg,"xlink:href":m,preserveAspectRatio:"none",x:0,y:0,width:g.style.width,height:g.style.height})})},L.updateFx=e(42464).updateFx},94724:function(B,L,e){var k=e(25376),w=e(22548),r=e(98192).u,_=e(92880).extendFlat,v=e(31780).templatedArray,f=e(29736).descriptionWithDates,s=e(39032).ONEDAY,t=e(33816),a=t.HOUR_PATTERN,n=t.WEEKDAY_PATTERN,i={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},l=_({},i,{values:i.values.slice().concat(["sync"])});function o(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},c={valType:"data_array",editType:"ticks"},b={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function d(S){var M={valType:"number",min:0,editType:"ticks"};return S||(M.dflt=5),M}function g(S){var M={valType:"number",min:0,editType:"ticks"};return S||(M.dflt=1),M}var m={valType:"color",dflt:w.defaultLine,editType:"ticks"},y={valType:"color",dflt:w.lightLine,editType:"ticks"};function x(S){var M={valType:"number",min:0,editType:"ticks"};return S||(M.dflt=1),M}var T=_({},r,{editType:"ticks"}),p={valType:"boolean",editType:"ticks"};B.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:w.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:k({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:v("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[n,a,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:s},editType:"calc"}),tickmode:l,nticks:o(),tick0:u,dtick:h,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:c,ticktext:{valType:"data_array",editType:"ticks"},ticks:b,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:d(),tickwidth:g(),tickcolor:m,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:_({},r,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:k({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:f("tick label")},tickformatstops:v("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:f("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:w.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:p,gridcolor:y,gridwidth:x(),griddash:T,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:w.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:w.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:i,nticks:o("minor"),tick0:u,dtick:h,tickvals:c,ticks:b,ticklen:d("minor"),tickwidth:g("minor"),tickcolor:m,gridcolor:y,gridwidth:x("minor"),griddash:T,showgrid:p,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:k({editType:"ticks"})}}},67352:function(B,L,e){var k=e(3400),w=e(76308),r=e(10624).isUnifiedHover,_=e(41008),v=e(31780),f=e(64859),s=e(94724),t=e(14944),a=e(28336),n=e(71888),i=e(37668),l=e(79811),o=l.id2name,u=l.name2id,h=e(33816).AX_ID_PATTERN,c=e(24040),b=c.traceIs,d=c.getComponentMethod;function g(m,y,x){Array.isArray(m[y])?m[y].push(x):m[y]=[x]}B.exports=function(m,y,x){var T,p,S=y.autotypenumbers,M={},E={},P={},O={},I={},R={},U={},z={},j={},W={};for(T=0;T<x.length;T++){var F=x[T];if(b(F,"cartesian")||b(F,"gl2d")){var V,H;if(F.xaxis)V=o(F.xaxis),g(M,V,F);else if(F.xaxes)for(p=0;p<F.xaxes.length;p++)g(M,o(F.xaxes[p]),F);if(F.yaxis)H=o(F.yaxis),g(M,H,F);else if(F.yaxes)for(p=0;p<F.yaxes.length;p++)g(M,o(F.yaxes[p]),F);F.type==="funnel"?F.orientation==="h"?(V&&(E[V]=!0),H&&(U[H]=!0)):H&&(P[H]=!0):F.type==="image"?(H&&(z[H]=!0),V&&(z[V]=!0)):(H&&(I[H]=!0,R[H]=!0),b(F,"carpet")&&(F.type!=="carpet"||F._cheater)||V&&(O[V]=!0)),F.type==="carpet"&&F._cheater&&V&&(E[V]=!0),b(F,"2dMap")&&(j[V]=!0,j[H]=!0),b(F,"oriented")&&(W[F.orientation==="h"?H:V]=!0)}}var te=y._subplots,Q=te.xaxis,K=te.yaxis,X=k.simpleMap(Q,o),J=k.simpleMap(K,o),ee=X.concat(J),ie=w.background;Q.length&&K.length&&(ie=k.coerce(m,y,f,"plot_bgcolor"));var oe,ae,ce,ge,ve,be=w.combine(ie,y.paper_bgcolor);function we(){var rt=M[oe]||[];ve._traceIndices=rt.map(function(At){return At._expandedIndex}),ve._annIndices=[],ve._shapeIndices=[],ve._selectionIndices=[],ve._imgIndices=[],ve._subplotsWith=[],ve._counterAxes=[],ve._name=ve._attr=oe,ve._id=ae}function ye(rt,At){return k.coerce(ge,ve,s,rt,At)}function me(rt,At){return k.coerce2(ge,ve,s,rt,At)}function Ae(rt){return rt==="x"?K:Q}function ke(rt,At){for(var Rt=rt==="x"?X:J,Ft=[],Dt=0;Dt<Rt.length;Dt++){var Xe=Rt[Dt];Xe===At||(m[Xe]||{}).overlaying||Ft.push(u(Xe))}return Ft}var fe={x:Ae("x"),y:Ae("y")},le=fe.x.concat(fe.y),de={},Ce=[];function Me(){var rt=ge.matches;h.test(rt)&&le.indexOf(rt)===-1&&(de[rt]=ge.type,Ce=Object.keys(de))}var Le=_(m,y),Oe=r(Le);for(T=0;T<ee.length;T++){oe=ee[T],ae=u(oe),ce=oe.charAt(0),k.isPlainObject(m[oe])||(m[oe]={}),ge=m[oe],ve=v.newContainer(y,oe,ce+"axis"),we();var Be=ce==="x"&&!O[oe]&&E[oe]||ce==="y"&&!I[oe]&&P[oe],pe=ce==="y"&&(!R[oe]&&U[oe]||z[oe]),_e={hasMinor:!0,letter:ce,font:y.font,outerTicks:j[oe],showGrid:!W[oe],data:M[oe]||[],bgColor:be,calendar:y.calendar,automargin:!0,visibleDflt:Be,reverseDflt:pe,autotypenumbersDflt:S,splomStash:((y._splomAxes||{})[ce]||{})[ae],noAutotickangles:ce==="y"};ye("uirevision",y.uirevision),t(ge,ve,ye,_e),a(ge,ve,ye,_e,y);var Te=Oe&&ce===Le.charAt(0),Re=me("spikecolor",Oe?ve.color:void 0),Ne=me("spikethickness",Oe?1.5:void 0),ze=me("spikedash",Oe?"dot":void 0),Ge=me("spikemode",Oe?"across":void 0),Ye=me("spikesnap");ye("showspikes",!!(Te||Re||Ne||ze||Ge||Ye))||(delete ve.spikecolor,delete ve.spikethickness,delete ve.spikedash,delete ve.spikemode,delete ve.spikesnap);var et=o(ge.overlaying),ut=[0,1];if(y[et]!==void 0){var ot=o(y[et].anchor);y[ot]!==void 0&&(ut=y[ot].domain)}i(ge,ve,ye,{letter:ce,counterAxes:fe[ce],overlayableAxes:ke(ce,oe),grid:y.grid,overlayingDomain:ut}),ye("title.standoff"),Me(),ve._input=ge}for(T=0;T<Ce.length;){ae=Ce[T++],ce=(oe=o(ae)).charAt(0),k.isPlainObject(m[oe])||(m[oe]={}),ge=m[oe],ve=v.newContainer(y,oe,ce+"axis"),we();var yt={letter:ce,font:y.font,outerTicks:j[oe],showGrid:!W[oe],data:[],bgColor:be,calendar:y.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:S,splomStash:((y._splomAxes||{})[ce]||{})[ae]};ye("uirevision",y.uirevision),ve.type=de[ae]||"linear",a(ge,ve,ye,yt,y),i(ge,ve,ye,{letter:ce,counterAxes:fe[ce],overlayableAxes:ke(ce,oe),grid:y.grid}),ye("fixedrange"),Me(),ve._input=ge}var wt=d("rangeslider","handleDefaults"),bt=d("rangeselector","handleDefaults");for(T=0;T<X.length;T++)oe=X[T],ge=m[oe],ve=y[oe],wt(m,y,oe),ve.type==="date"&&bt(ge,ve,y,J,ve.calendar),ye("fixedrange");for(T=0;T<J.length;T++){oe=J[T],ge=m[oe],ve=y[oe];var at=y[o(ve.anchor)];ye("fixedrange",d("rangeslider","isVisible")(at))}n.handleDefaults(m,y,{axIds:le.concat(Ce).sort(l.idSort),axHasImage:z})}},42136:function(B,L,e){var k=e(49760).mix,w=e(22548),r=e(3400);B.exports=function(_,v,f,s){var t=(s=s||{}).dfltColor;function a(m,y){return r.coerce2(_,v,s.attributes,m,y)}var n=a("linecolor",t),i=a("linewidth");f("showline",s.showLine||!!n||!!i)||(delete v.linecolor,delete v.linewidth);var l=a("gridcolor",k(t,s.bgColor,s.blend||w.lightFraction).toRgbString()),o=a("gridwidth"),u=a("griddash");if(f("showgrid",s.showGrid||!!l||!!o||!!u)||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),s.hasMinor){var h=a("minor.gridcolor",k(v.gridcolor,s.bgColor,67).toRgbString()),c=a("minor.gridwidth",v.gridwidth||1),b=a("minor.griddash",v.griddash||"solid");f("minor.showgrid",!!h||!!c||!!b)||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!s.noZeroLine){var d=a("zerolinecolor",t),g=a("zerolinewidth");f("zeroline",s.showGrid||!!d||!!g)||(delete v.zerolinecolor,delete v.zerolinewidth)}}},37668:function(B,L,e){var k=e(38248),w=e(3400);B.exports=function(r,_,v,f){var s,t,a,n,i,l,o=f.counterAxes||[],u=f.overlayableAxes||[],h=f.letter,c=f.grid,b=f.overlayingDomain;c&&(t=c._domains[h][c._axisMap[_._id]],s=c._anchors[_._id],t&&(a=c[h+"side"].split(" ")[0],n=c.domain[h][a==="right"||a==="top"?1:0])),t=t||[0,1],s=s||(k(r.position)?"free":o[0]||"free"),a=a||(h==="x"?"bottom":"left"),n=n||0,i=0,l=!1;var d=w.coerce(r,_,{anchor:{valType:"enumerated",values:["free"].concat(o),dflt:s}},"anchor"),g=w.coerce(r,_,{side:{valType:"enumerated",values:h==="x"?["bottom","top"]:["left","right"],dflt:a}},"side");d==="free"&&(h==="y"&&(v("autoshift")&&(n=g==="left"?b[0]:b[1],l=!_.automargin||_.automargin,i=g==="left"?-3:3),v("shift",i)),v("position",n)),v("automargin",l);var m=!1;if(u.length&&(m=w.coerce(r,_,{overlaying:{valType:"enumerated",values:[!1].concat(u),dflt:!1}},"overlaying")),!m){var y=v("domain",t);y[0]>y[1]-.000244140625&&(_.domain=t),w.noneOrAll(r.domain,_.domain,t),_.tickmode==="sync"&&(_.tickmode="auto")}return v("layer"),_}},42568:function(B,L,e){var k=e(85024);B.exports=function(w,r,_,v,f){f||(f={});var s=f.tickSuffixDflt,t=k(w);_("tickprefix")&&_("showtickprefix",t),_("ticksuffix",s)&&_("showticksuffix",t)}},96312:function(B,L,e){var k=e(76808);B.exports=function(w,r,_,v){var f=r._template||{},s=r.type||f.type||"-";_("minallowed"),_("maxallowed");var t,a=_("range");a||v.noInsiderange||s==="log"||(!(t=_("insiderange"))||t[0]!==null&&t[1]!==null||(r.insiderange=!1,t=void 0),t&&(a=_("range",t)));var n,i=r.getAutorangeDflt(a,v),l=_("autorange",i);!a||(a[0]!==null||a[1]!==null)&&(a[0]!==null&&a[1]!==null||l!=="reversed"&&l!==!0)&&(a[0]===null||l!=="min"&&l!=="max reversed")&&(a[1]===null||l!=="max"&&l!=="min reversed")||(a=void 0,delete r.range,r.autorange=!0,n=!0),n||(l=_("autorange",i=r.getAutorangeDflt(a,v))),l&&(k(_,l,a),s!=="linear"&&s!=="-"||_("rangemode")),r.cleanRange()}},21160:function(B,L,e){var k=e(84284).FROM_BL;B.exports=function(w,r,_){_===void 0&&(_=k[w.constraintoward||"center"]);var v=[w.r2l(w.range[0]),w.r2l(w.range[1])],f=v[0]+(v[1]-v[0])*_;w.range=w._input.range=[w.l2r(f+(v[0]-f)*r),w.l2r(f+(v[1]-f)*r)],w.setScale()}},78344:function(B,L,e){var k=e(33428),w=e(94336).E9,r=e(3400),_=r.numberFormat,v=e(38248),f=r.cleanNumber,s=r.ms2DateTime,t=r.dateTime2ms,a=r.ensureNumber,n=r.isArrayOrTypedArray,i=e(39032),l=i.FP_SAFE,o=i.BADNUM,u=i.LOG_CLIP,h=i.ONEWEEK,c=i.ONEDAY,b=i.ONEHOUR,d=i.ONEMIN,g=i.ONESEC,m=e(79811),y=e(33816),x=y.HOUR_PATTERN,T=y.WEEKDAY_PATTERN;function p(M){return Math.pow(10,M)}function S(M){return M!=null}B.exports=function(M,E){E=E||{};var P=M._id||"x",O=P.charAt(0);function I(ee,ie){if(ee>0)return Math.log(ee)/Math.LN10;if(ee<=0&&ie&&M.range&&M.range.length===2){var oe=M.range[0],ae=M.range[1];return .5*(oe+ae-2*u*Math.abs(oe-ae))}return o}function R(ee,ie,oe,ae){if((ae||{}).msUTC&&v(ee))return+ee;var ce=t(ee,oe||M.calendar);if(ce===o){if(!v(ee))return o;ee=+ee;var ge=Math.floor(10*r.mod(ee+.05,1)),ve=Math.round(ee-ge/10);ce=t(new Date(ve))+ge/10}return ce}function U(ee,ie,oe){return s(ee,ie,oe||M.calendar)}function z(ee){return M._categories[Math.round(ee)]}function j(ee){if(S(ee)){if(M._categoriesMap===void 0&&(M._categoriesMap={}),M._categoriesMap[ee]!==void 0)return M._categoriesMap[ee];M._categories.push(typeof ee=="number"?String(ee):ee);var ie=M._categories.length-1;return M._categoriesMap[ee]=ie,ie}return o}function W(ee){if(M._categoriesMap)return M._categoriesMap[ee]}function F(ee){var ie=W(ee);return ie!==void 0?ie:v(ee)?+ee:void 0}function V(ee){return v(ee)?+ee:W(ee)}function H(ee,ie,oe){return k.round(oe+ie*ee,2)}function te(ee,ie,oe){return(ee-oe)/ie}var Q=function(ee){return v(ee)?H(ee,M._m,M._b):o},K=function(ee){return te(ee,M._m,M._b)};if(M.rangebreaks){var X=O==="y";Q=function(ee){if(!v(ee))return o;var ie=M._rangebreaks.length;if(!ie)return H(ee,M._m,M._b);var oe=X;M.range[0]>M.range[1]&&(oe=!oe);for(var ae=oe?-1:1,ce=ae*ee,ge=0,ve=0;ve<ie;ve++){var be=ae*M._rangebreaks[ve].min,we=ae*M._rangebreaks[ve].max;if(ce<be)break;if(!(ce>we)){ge=ce<(be+we)/2?ve:ve+1;break}ge=ve+1}var ye=M._B[ge]||0;return isFinite(ye)?H(ee,M._m2,ye):0},K=function(ee){var ie=M._rangebreaks.length;if(!ie)return te(ee,M._m,M._b);for(var oe=0,ae=0;ae<ie&&!(ee<M._rangebreaks[ae].pmin);ae++)ee>M._rangebreaks[ae].pmax&&(oe=ae+1);return te(ee,M._m2,M._B[oe])}}M.c2l=M.type==="log"?I:a,M.l2c=M.type==="log"?p:a,M.l2p=Q,M.p2l=K,M.c2p=M.type==="log"?function(ee,ie){return Q(I(ee,ie))}:Q,M.p2c=M.type==="log"?function(ee){return p(K(ee))}:K,["linear","-"].indexOf(M.type)!==-1?(M.d2r=M.r2d=M.d2c=M.r2c=M.d2l=M.r2l=f,M.c2d=M.c2r=M.l2d=M.l2r=a,M.d2p=M.r2p=function(ee){return M.l2p(f(ee))},M.p2d=M.p2r=K,M.cleanPos=a):M.type==="log"?(M.d2r=M.d2l=function(ee,ie){return I(f(ee),ie)},M.r2d=M.r2c=function(ee){return p(f(ee))},M.d2c=M.r2l=f,M.c2d=M.l2r=a,M.c2r=I,M.l2d=p,M.d2p=function(ee,ie){return M.l2p(M.d2r(ee,ie))},M.p2d=function(ee){return p(K(ee))},M.r2p=function(ee){return M.l2p(f(ee))},M.p2r=K,M.cleanPos=a):M.type==="date"?(M.d2r=M.r2d=r.identity,M.d2c=M.r2c=M.d2l=M.r2l=R,M.c2d=M.c2r=M.l2d=M.l2r=U,M.d2p=M.r2p=function(ee,ie,oe){return M.l2p(R(ee,0,oe))},M.p2d=M.p2r=function(ee,ie,oe){return U(K(ee),ie,oe)},M.cleanPos=function(ee){return r.cleanDate(ee,o,M.calendar)}):M.type==="category"?(M.d2c=M.d2l=j,M.r2d=M.c2d=M.l2d=z,M.d2r=M.d2l_noadd=F,M.r2c=function(ee){var ie=V(ee);return ie!==void 0?ie:M.fraction2r(.5)},M.l2r=M.c2r=a,M.r2l=V,M.d2p=function(ee){return M.l2p(M.r2c(ee))},M.p2d=function(ee){return z(K(ee))},M.r2p=M.d2p,M.p2r=K,M.cleanPos=function(ee){return typeof ee=="string"&&ee!==""?ee:a(ee)}):M.type==="multicategory"&&(M.r2d=M.c2d=M.l2d=z,M.d2r=M.d2l_noadd=F,M.r2c=function(ee){var ie=F(ee);return ie!==void 0?ie:M.fraction2r(.5)},M.r2c_just_indices=W,M.l2r=M.c2r=a,M.r2l=F,M.d2p=function(ee){return M.l2p(M.r2c(ee))},M.p2d=function(ee){return z(K(ee))},M.r2p=M.d2p,M.p2r=K,M.cleanPos=function(ee){return Array.isArray(ee)||typeof ee=="string"&&ee!==""?ee:a(ee)},M.setupMultiCategory=function(ee){var ie,oe,ae=M._traceIndices,ce=M._matchGroup;if(ce&&M._categories.length===0){for(var ge in ce)if(ge!==P){var ve=E[m.id2name(ge)];ae=ae.concat(ve._traceIndices)}}var be=[[0,{}],[0,{}]],we=[];for(ie=0;ie<ae.length;ie++){var ye=ee[ae[ie]];if(O in ye){var me=ye[O],Ae=ye._length||r.minRowLength(me);if(n(me[0])&&n(me[1]))for(oe=0;oe<Ae;oe++){var ke=me[0][oe],fe=me[1][oe];S(ke)&&S(fe)&&(we.push([ke,fe]),ke in be[0][1]||(be[0][1][ke]=be[0][0]++),fe in be[1][1]||(be[1][1][fe]=be[1][0]++))}}}for(we.sort(function(le,de){var Ce=be[0][1],Me=Ce[le[0]]-Ce[de[0]];if(Me)return Me;var Le=be[1][1];return Le[le[1]]-Le[de[1]]}),ie=0;ie<we.length;ie++)j(we[ie])}),M.fraction2r=function(ee){var ie=M.r2l(M.range[0]),oe=M.r2l(M.range[1]);return M.l2r(ie+ee*(oe-ie))},M.r2fraction=function(ee){var ie=M.r2l(M.range[0]),oe=M.r2l(M.range[1]);return(M.r2l(ee)-ie)/(oe-ie)},M.limitRange=function(ee){var ie=M.minallowed,oe=M.maxallowed;if(ie!==void 0||oe!==void 0){ee||(ee="range");var ae=r.nestedProperty(M,ee).get(),ce=r.simpleMap(ae,M.r2l),ge=ce[1]<ce[0];ge&&ce.reverse();var ve=r.simpleMap([ie,oe],M.r2l);if(ie!==void 0&&ce[0]<ve[0]&&(ae[ge?1:0]=ie),oe!==void 0&&ce[1]>ve[1]&&(ae[ge?0:1]=oe),ae[0]===ae[1]){var be=M.l2r(ie),we=M.l2r(oe);if(ie!==void 0){var ye=be+1;oe!==void 0&&(ye=Math.min(ye,we)),ae[ge?1:0]=ye}if(oe!==void 0){var me=we+1;ie!==void 0&&(me=Math.max(me,be)),ae[ge?0:1]=me}}}},M.cleanRange=function(ee,ie){M._cleanRange(ee,ie),M.limitRange(ee)},M._cleanRange=function(ee,ie){ie||(ie={}),ee||(ee="range");var oe,ae,ce=r.nestedProperty(M,ee).get();if(ae=(ae=M.type==="date"?r.dfltRange(M.calendar):O==="y"?y.DFLTRANGEY:M._name==="realaxis"?[0,1]:ie.dfltRange||y.DFLTRANGEX).slice(),M.rangemode!=="tozero"&&M.rangemode!=="nonnegative"||(ae[0]=0),ce&&ce.length===2){var ge=ce[0]===null,ve=ce[1]===null;for(M.type!=="date"||M.autorange||(ce[0]=r.cleanDate(ce[0],o,M.calendar),ce[1]=r.cleanDate(ce[1],o,M.calendar)),oe=0;oe<2;oe++)if(M.type==="date"){if(!r.isDateTime(ce[oe],M.calendar)){M[ee]=ae;break}if(M.r2l(ce[0])===M.r2l(ce[1])){var be=r.constrain(M.r2l(ce[0]),r.MIN_MS+1e3,r.MAX_MS-1e3);ce[0]=M.l2r(be-1e3),ce[1]=M.l2r(be+1e3);break}}else{if(!v(ce[oe])){if(ge||ve||!v(ce[1-oe])){M[ee]=ae;break}ce[oe]=ce[1-oe]*(oe?10:.1)}if(ce[oe]<-l?ce[oe]=-l:ce[oe]>l&&(ce[oe]=l),ce[0]===ce[1]){var we=Math.max(1,Math.abs(1e-6*ce[0]));ce[0]-=we,ce[1]+=we}}}else r.nestedProperty(M,ee).set(ae)},M.setScale=function(ee){var ie=E._size;if(M.overlaying){var oe=m.getFromId({_fullLayout:E},M.overlaying);M.domain=oe.domain}var ae=ee&&M._r?"_r":"range",ce=M.calendar;M.cleanRange(ae);var ge,ve,be=M.r2l(M[ae][0],ce),we=M.r2l(M[ae][1],ce),ye=O==="y";if(ye?(M._offset=ie.t+(1-M.domain[1])*ie.h,M._length=ie.h*(M.domain[1]-M.domain[0]),M._m=M._length/(be-we),M._b=-M._m*we):(M._offset=ie.l+M.domain[0]*ie.w,M._length=ie.w*(M.domain[1]-M.domain[0]),M._m=M._length/(we-be),M._b=-M._m*be),M._rangebreaks=[],M._lBreaks=0,M._m2=0,M._B=[],M.rangebreaks&&(M._rangebreaks=M.locateBreaks(Math.min(be,we),Math.max(be,we)),M._rangebreaks.length)){for(ge=0;ge<M._rangebreaks.length;ge++)ve=M._rangebreaks[ge],M._lBreaks+=Math.abs(ve.max-ve.min);var me=ye;be>we&&(me=!me),me&&M._rangebreaks.reverse();var Ae=me?-1:1;for(M._m2=Ae*M._length/(Math.abs(we-be)-M._lBreaks),M._B.push(-M._m2*(ye?we:be)),ge=0;ge<M._rangebreaks.length;ge++)ve=M._rangebreaks[ge],M._B.push(M._B[M._B.length-1]-Ae*M._m2*(ve.max-ve.min));for(ge=0;ge<M._rangebreaks.length;ge++)(ve=M._rangebreaks[ge]).pmin=Q(ve.min),ve.pmax=Q(ve.max)}if(!isFinite(M._m)||!isFinite(M._b)||M._length<0)throw E._replotting=!1,new Error("Something went wrong with axis scaling")},M.maskBreaks=function(ee){var ie,oe,ae,ce,ge,ve=M.rangebreaks||[];ve._cachedPatterns||(ve._cachedPatterns=ve.map(function(ke){return ke.enabled&&ke.bounds?r.simpleMap(ke.bounds,ke.pattern?f:M.d2c):null})),ve._cachedValues||(ve._cachedValues=ve.map(function(ke){return ke.enabled&&ke.values?r.simpleMap(ke.values,M.d2c).sort(r.sorterAsc):null}));for(var be=0;be<ve.length;be++){var we=ve[be];if(we.enabled){if(we.bounds){var ye=we.pattern;switch(oe=(ie=ve._cachedPatterns[be])[0],ae=ie[1],ye){case T:ce=(ge=new Date(ee)).getUTCDay(),oe>ae&&(ae+=7,ce<oe&&(ce+=7));break;case x:ce=(ge=new Date(ee)).getUTCHours()+(ge.getUTCMinutes()/60+ge.getUTCSeconds()/3600+ge.getUTCMilliseconds()/36e5),oe>ae&&(ae+=24,ce<oe&&(ce+=24));break;case"":ce=ee}if(ce>=oe&&ce<ae)return o}else for(var me=ve._cachedValues[be],Ae=0;Ae<me.length;Ae++)if(ae=(oe=me[Ae])+we.dvalue,ee>=oe&&ee<ae)return o}}return ee},M.locateBreaks=function(ee,ie){var oe,ae,ce,ge,ve=[];if(!M.rangebreaks)return ve;var be=M.rangebreaks.slice().sort(function(Le,Oe){return Le.pattern===T&&Oe.pattern===x?-1:Oe.pattern===T&&Le.pattern===x?1:0}),we=function(Le,Oe){if((Le=r.constrain(Le,ee,ie))!==(Oe=r.constrain(Oe,ee,ie))){for(var Be=!0,pe=0;pe<ve.length;pe++){var _e=ve[pe];Le<_e.max&&Oe>=_e.min&&(Le<_e.min&&(_e.min=Le),Oe>_e.max&&(_e.max=Oe),Be=!1)}Be&&ve.push({min:Le,max:Oe})}};for(oe=0;oe<be.length;oe++){var ye=be[oe];if(ye.enabled)if(ye.bounds){var me=ee,Ae=ie;ye.pattern&&(me=Math.floor(me)),ce=(ae=r.simpleMap(ye.bounds,ye.pattern?f:M.r2l))[0],ge=ae[1];var ke,fe,le=new Date(me);switch(ye.pattern){case T:fe=h,ke=(ge-ce+(ge<ce?7:0))*c,me+=ce*c-(le.getUTCDay()*c+le.getUTCHours()*b+le.getUTCMinutes()*d+le.getUTCSeconds()*g+le.getUTCMilliseconds());break;case x:fe=c,ke=(ge-ce+(ge<ce?24:0))*b,me+=ce*b-(le.getUTCHours()*b+le.getUTCMinutes()*d+le.getUTCSeconds()*g+le.getUTCMilliseconds());break;default:me=Math.min(ae[0],ae[1]),ke=fe=(Ae=Math.max(ae[0],ae[1]))-me}for(var de=me;de<Ae;de+=fe)we(de,de+ke)}else for(var Ce=r.simpleMap(ye.values,M.d2c),Me=0;Me<Ce.length;Me++)we(ce=Ce[Me],ge=ce+ye.dvalue)}return ve.sort(function(Le,Oe){return Le.min-Oe.min}),ve},M.makeCalcdata=function(ee,ie,oe){var ae,ce,ge,ve,be=M.type,we=be==="date"&&ee[ie+"calendar"];if(ie in ee){if(ae=ee[ie],ve=ee._length||r.minRowLength(ae),r.isTypedArray(ae)&&(be==="linear"||be==="log")){if(ve===ae.length)return ae;if(ae.subarray)return ae.subarray(0,ve)}if(be==="multicategory")return function(Ae,ke){for(var fe=new Array(ke),le=0;le<ke;le++){var de=(Ae[0]||[])[le],Ce=(Ae[1]||[])[le];fe[le]=W([de,Ce])}return fe}(ae,ve);for(ce=new Array(ve),ge=0;ge<ve;ge++)ce[ge]=M.d2c(ae[ge],0,we,oe)}else{var ye=ie+"0"in ee?M.d2c(ee[ie+"0"],0,we):0,me=ee["d"+ie]?Number(ee["d"+ie]):1;for(ae=ee[{x:"y",y:"x"}[ie]],ve=ee._length||ae.length,ce=new Array(ve),ge=0;ge<ve;ge++)ce[ge]=ye+ge*me}if(M.rangebreaks)for(ge=0;ge<ve;ge++)ce[ge]=M.maskBreaks(ce[ge]);return ce},M.isValidRange=function(ee,ie){return Array.isArray(ee)&&ee.length===2&&(ie&&ee[0]===null||v(M.r2l(ee[0])))&&(ie&&ee[1]===null||v(M.r2l(ee[1])))},M.getAutorangeDflt=function(ee,ie){var oe=!M.isValidRange(ee,"nullOk");return oe&&ie&&ie.reverseDflt?oe="reversed":ee&&(ee[0]===null&&ee[1]===null?oe=!0:ee[0]===null&&ee[1]!==null?oe="min":ee[0]!==null&&ee[1]===null&&(oe="max")),oe},M.isReversed=function(){var ee=M.autorange;return ee==="reversed"||ee==="min reversed"||ee==="max reversed"},M.isPtWithinRange=function(ee,ie){var oe=M.c2l(ee[O],null,ie),ae=M.r2l(M.range[0]),ce=M.r2l(M.range[1]);return ae<ce?ae<=oe&&oe<=ce:ce<=oe&&oe<=ae},M._emptyCategories=function(){M._categories=[],M._categoriesMap={}},M.clearCalc=function(){var ee=M._matchGroup;if(ee){var ie=null,oe=null;for(var ae in ee){var ce=E[m.id2name(ae)];if(ce._categories){ie=ce._categories,oe=ce._categoriesMap;break}}ie&&oe?(M._categories=ie,M._categoriesMap=oe):M._emptyCategories()}else M._emptyCategories();if(M._initialCategories)for(var ge=0;ge<M._initialCategories.length;ge++)j(M._initialCategories[ge])},M.sortByInitialCategories=function(){var ee=[];if(M._emptyCategories(),M._initialCategories)for(var ie=0;ie<M._initialCategories.length;ie++)j(M._initialCategories[ie]);ee=ee.concat(M._traceIndices);var oe=M._matchGroup;for(var ae in oe)if(P!==ae){var ce=E[m.id2name(ae)];ce._categories=M._categories,ce._categoriesMap=M._categoriesMap,ee=ee.concat(ce._traceIndices)}return ee};var J=E._d3locale;M.type==="date"&&(M._dateFormat=J?J.timeFormat:w,M._extraFormat=E._extraFormat),M._separators=E.separators,M._numFormat=J?J.numberFormat:_,delete M._minDtick,delete M._forceTick0}},85024:function(B){B.exports=function(L){var e=["showexponent","showtickprefix","showticksuffix"].filter(function(k){return L[k]!==void 0});if(e.every(function(k){return L[k]===L[e[0]]})||e.length===1)return L[e[0]]}},95936:function(B,L,e){var k=e(3400),w=e(76308).contrast,r=e(94724),_=e(85024),v=e(51272);function f(s,t){function a(n,i){return k.coerce(s,t,r.tickformatstops,n,i)}a("enabled")&&(a("dtickrange"),a("value"))}B.exports=function(s,t,a,n,i){i||(i={});var l=a("labelalias");k.isPlainObject(l)||delete t.labelalias;var o=_(s);if(a("showticklabels")){var u=i.font||{},h=t.color,c=(t.ticklabelposition||"").indexOf("inside")!==-1?w(i.bgColor):h&&h!==r.color.dflt?h:u.color;if(k.coerceFont(a,"tickfont",{family:u.family,size:u.size,color:c}),i.noTicklabelstep||n==="multicategory"||n==="log"||a("ticklabelstep"),!i.noAng){var b=a("tickangle");i.noAutotickangles||b!=="auto"||a("autotickangles")}if(n!=="category"){var d=a("tickformat");v(s,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:f}),t.tickformatstops.length||delete t.tickformatstops,i.noExp||d||n==="date"||(a("showexponent",o),a("exponentformat"),a("minexponent"),a("separatethousands"))}}}},25404:function(B,L,e){var k=e(3400),w=e(94724);B.exports=function(r,_,v,f){var s=f.isMinor,t=s?r.minor||{}:r,a=s?_.minor:_,n=s?w.minor:w,i=s?"minor.":"",l=k.coerce2(t,a,n,"ticklen",s?.6*(_.ticklen||5):void 0),o=k.coerce2(t,a,n,"tickwidth",s?_.tickwidth||1:void 0),u=k.coerce2(t,a,n,"tickcolor",(s?_.tickcolor:void 0)||a.color);v(i+"ticks",!s&&f.outerTicks||l||o||u?"outside":"")||(delete a.ticklen,delete a.tickwidth,delete a.tickcolor)}},26332:function(B,L,e){var k=e(98728),w=e(3400).isArrayOrTypedArray,r=e(38116).isTypedArraySpec,_=e(38116).decodeTypedArraySpec;B.exports=function(v,f,s,t,a){a||(a={});var n=a.isMinor,i=n?v.minor||{}:v,l=n?f.minor:f,o=n?"minor.":"";function u(m){var y=i[m];return r(y)&&(y=_(y)),y!==void 0?y:(l._template||{})[m]}var h=u("tick0"),c=u("dtick"),b=u("tickvals"),d=s(o+"tickmode",w(b)?"array":c?"linear":"auto");if(d==="auto"||d==="sync")s(o+"nticks");else if(d==="linear"){var g=l.dtick=k.dtick(c,t);l.tick0=k.tick0(h,t,f.calendar,g)}else t!=="multicategory"&&(s(o+"tickvals")===void 0?l.tickmode="auto":n||s("ticktext"))}},73736:function(B,L,e){var k=e(33428),w=e(24040),r=e(3400),_=e(43616),v=e(54460);B.exports=function(f,s,t,a){var n=f._fullLayout;if(s.length!==0){var i,l,o,u;a&&(i=a());var h=k.ease(t.easing);return f._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(u),u=null,function(){for(var d={},g=0;g<s.length;g++){var m=s[g],y=m.plotinfo.xaxis,x=m.plotinfo.yaxis;m.xr0&&(d[y._name+".range"]=m.xr0.slice()),m.yr0&&(d[x._name+".range"]=m.yr0.slice())}return w.call("relayout",f,d).then(function(){for(var T=0;T<s.length;T++)c(s[T].plotinfo)})}()}),l=Date.now(),u=window.requestAnimationFrame(function d(){o=Date.now();for(var g=Math.min(1,(o-l)/t.duration),m=h(g),y=0;y<s.length;y++)b(s[y],m);o-l>t.duration?(function(){for(var x={},T=0;T<s.length;T++){var p=s[T],S=p.plotinfo.xaxis,M=p.plotinfo.yaxis;p.xr1&&(x[S._name+".range"]=p.xr1.slice()),p.yr1&&(x[M._name+".range"]=p.yr1.slice())}i&&i(),w.call("relayout",f,x).then(function(){for(var E=0;E<s.length;E++)c(s[E].plotinfo)})}(),u=window.cancelAnimationFrame(d)):u=window.requestAnimationFrame(d)}),Promise.resolve()}function c(d){var g=d.xaxis,m=d.yaxis;n._defs.select("#"+d.clipId+"> rect").call(_.setTranslate,0,0).call(_.setScale,1,1),d.plot.call(_.setTranslate,g._offset,m._offset).call(_.setScale,1,1);var y=d.plot.selectAll(".scatterlayer .trace");y.selectAll(".point").call(_.setPointGroupScale,1,1),y.selectAll(".textpoint").call(_.setTextPointsScale,1,1),y.call(_.hideOutsideRangePoints,d)}function b(d,g){var m=d.plotinfo,y=m.xaxis,x=m.yaxis,T=y._length,p=x._length,S=!!d.xr1,M=!!d.yr1,E=[];if(S){var P=r.simpleMap(d.xr0,y.r2l),O=r.simpleMap(d.xr1,y.r2l),I=P[1]-P[0],R=O[1]-O[0];E[0]=(P[0]*(1-g)+g*O[0]-P[0])/(P[1]-P[0])*T,E[2]=T*(1-g+g*R/I),y.range[0]=y.l2r(P[0]*(1-g)+g*O[0]),y.range[1]=y.l2r(P[1]*(1-g)+g*O[1])}else E[0]=0,E[2]=T;if(M){var U=r.simpleMap(d.yr0,x.r2l),z=r.simpleMap(d.yr1,x.r2l),j=U[1]-U[0],W=z[1]-z[0];E[1]=(U[1]*(1-g)+g*z[1]-U[1])/(U[0]-U[1])*p,E[3]=p*(1-g+g*W/j),x.range[0]=y.l2r(U[0]*(1-g)+g*z[0]),x.range[1]=x.l2r(U[1]*(1-g)+g*z[1])}else E[1]=0,E[3]=p;v.drawOne(f,y,{skipTitle:!0}),v.drawOne(f,x,{skipTitle:!0}),v.redrawComponents(f,[y._id,x._id]);var F=S?T/E[2]:1,V=M?p/E[3]:1,H=S?E[0]:0,te=M?E[1]:0,Q=S?E[0]/E[2]*T:0,K=M?E[1]/E[3]*p:0,X=y._offset-Q,J=x._offset-K;m.clipRect.call(_.setTranslate,H,te).call(_.setScale,1/F,1/V),m.plot.call(_.setTranslate,X,J).call(_.setScale,F,V),_.setPointGroupScale(m.zoomScalePts,1/F,1/V),_.setTextPointsScale(m.zoomScaleTxt,1/F,1/V)}v.redrawComponents(f)}},14944:function(B,L,e){var k=e(24040).traceIs,w=e(52976);function r(v){return{v:"x",h:"y"}[v.orientation||"v"]}function _(v,f){var s=r(v),t=k(v,"box-violin"),a=k(v._fullInput||{},"candlestick");return t&&!a&&f===s&&v[s]===void 0&&v[s+"0"]===void 0}B.exports=function(v,f,s,t){s("autotypenumbers",t.autotypenumbersDflt),s("type",(t.splomStash||{}).type)==="-"&&(function(a,n){if(a.type==="-"){var i,l=a._id,o=l.charAt(0);l.indexOf("scene")!==-1&&(l=o);var u=function(x,T,p){for(var S=0;S<x.length;S++){var M=x[S];if(M.type==="splom"&&M._length>0&&(M["_"+p+"axes"]||{})[T]||(M[p+"axis"]||p)===T&&(_(M,p)||(M[p]||[]).length||M[p+"0"]))return M}}(n,l,o);if(u)if(u.type!=="histogram"||o!=={v:"y",h:"x"}[u.orientation||"v"]){var h=o+"calendar",c=u[h],b={noMultiCategory:!k(u,"cartesian")||k(u,"noMultiCategory")};if(u.type==="box"&&u._hasPreCompStats&&o==={h:"x",v:"y"}[u.orientation||"v"]&&(b.noMultiCategory=!0),b.autotypenumbers=a.autotypenumbers,_(u,o)){var d=r(u),g=[];for(i=0;i<n.length;i++){var m=n[i];k(m,"box-violin")&&(m[o+"axis"]||o)===l&&(m[d]!==void 0?g.push(m[d][0]):m.name!==void 0?g.push(m.name):g.push("text"),m[h]!==c&&(c=void 0))}a.type=w(g,c,b)}else if(u.type==="splom"){var y=u.dimensions[u._axesDim[l]];y.visible&&(a.type=w(y.values,c,b))}else a.type=w(u[o]||[u[o+"0"]],c,b)}else a.type="linear"}}(f,t.data),f.type==="-"?f.type="linear":v.type=f.type)}},62460:function(B,L,e){var k=e(24040),w=e(3400);function r(s,t,a){var n,i,l,o=!1;if(t.type==="data")n=s._fullData[t.traces!==null?t.traces[0]:0];else{if(t.type!=="layout")return!1;n=s._fullLayout}return i=w.nestedProperty(n,t.prop).get(),(l=a[t.type]=a[t.type]||{}).hasOwnProperty(t.prop)&&l[t.prop]!==i&&(o=!0),l[t.prop]=i,{changed:o,value:i}}function _(s,t){var a=[],n=t[0],i={};if(typeof n=="string")i[n]=t[1];else{if(!w.isPlainObject(n))return a;i=n}return f(i,function(l,o,u){a.push({type:"layout",prop:l,value:u})},"",0),a}function v(s,t){var a,n,i,l,o=[];if(n=t[0],i=t[1],a=t[2],l={},typeof n=="string")l[n]=i;else{if(!w.isPlainObject(n))return o;l=n,a===void 0&&(a=i)}return a===void 0&&(a=null),f(l,function(u,h,c){var b,d;if(Array.isArray(c)){d=c.slice();var g=Math.min(d.length,s.data.length);a&&(g=Math.min(g,a.length)),b=[];for(var m=0;m<g;m++)b[m]=a?a[m]:m}else d=c,b=a?a.slice():null;if(b===null)Array.isArray(d)&&(d=d[0]);else if(Array.isArray(b)){if(!Array.isArray(d)){var y=d;d=[];for(var x=0;x<b.length;x++)d[x]=y}d.length=Math.min(b.length,d.length)}o.push({type:"data",prop:u,traces:b,value:d})},"",0),o}function f(s,t,a,n){Object.keys(s).forEach(function(i){var l=s[i];if(i[0]!=="_"){var o=a+(n>0?".":"")+i;w.isPlainObject(l)?f(l,t,o,n+1):t(o,i,l)}})}L.manageCommandObserver=function(s,t,a,n){var i={},l=!0;t&&t._commandObserver&&(i=t._commandObserver),i.cache||(i.cache={}),i.lookupTable={};var o=L.hasSimpleAPICommandBindings(s,a,i.lookupTable);if(t&&t._commandObserver){if(o)return i;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,i}if(o){r(s,o,i.cache),i.check=function(){if(l){var c=r(s,o,i.cache);return c.changed&&n&&i.lookupTable[c.value]!==void 0&&(i.disable(),Promise.resolve(n({value:c.value,type:o.type,prop:o.prop,traces:o.traces,index:i.lookupTable[c.value]})).then(i.enable,i.enable)),c.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<u.length;h++)s._internalOn(u[h],i.check);i.remove=function(){for(var c=0;c<u.length;c++)s._removeInternalListener(u[c],i.check)}}else w.log("Unable to automatically bind plot updates to API command"),i.lookupTable={},i.remove=function(){};return i.disable=function(){l=!1},i.enable=function(){l=!0},t&&(t._commandObserver=i),i},L.hasSimpleAPICommandBindings=function(s,t,a){var n,i,l=t.length;for(n=0;n<l;n++){var o,u=t[n],h=u.method,c=u.args;if(Array.isArray(c)||(c=[]),!h)return!1;var b=L.computeAPICommandBindings(s,h,c);if(b.length!==1)return!1;if(i){if((o=b[0]).type!==i.type||o.prop!==i.prop)return!1;if(Array.isArray(i.traces)){if(!Array.isArray(o.traces))return!1;o.traces.sort();for(var d=0;d<i.traces.length;d++)if(i.traces[d]!==o.traces[d])return!1}else if(o.prop!==i.prop)return!1}else i=b[0],Array.isArray(i.traces)&&i.traces.sort();var g=(o=b[0]).value;if(Array.isArray(g)){if(g.length!==1)return!1;g=g[0]}a&&(a[g]=n)}return i},L.executeAPICommand=function(s,t,a){if(t==="skip")return Promise.resolve();var n=k.apiMethodRegistry[t],i=[s];Array.isArray(a)||(a=[]);for(var l=0;l<a.length;l++)i.push(a[l]);return n.apply(null,i).catch(function(o){return w.warn("API call to Plotly."+t+" rejected.",o),Promise.reject(o)})},L.computeAPICommandBindings=function(s,t,a){var n;switch(Array.isArray(a)||(a=[]),t){case"restyle":n=v(s,a);break;case"relayout":n=_(0,a);break;case"update":n=v(s,[a[0],a[2]]).concat(_(0,[a[1]]));break;case"animate":n=function(i,l){return Array.isArray(l[0])&&l[0].length===1&&["string","number"].indexOf(typeof l[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:l[0][0].toString()}]:[]}(0,a);break;default:n=[]}return n}},86968:function(B,L,e){var k=e(92880).extendFlat;L.u=function(w,r){r=r||{};var _={valType:"info_array",editType:(w=w||{}).editType,items:[{valType:"number",min:0,max:1,editType:w.editType},{valType:"number",min:0,max:1,editType:w.editType}],dflt:[0,1]},v=(w.name&&w.name,w.trace,r.description&&r.description,{x:k({},_,{}),y:k({},_,{}),editType:w.editType});return w.noGridCell||(v.row={valType:"integer",min:0,dflt:0,editType:w.editType},v.column={valType:"integer",min:0,dflt:0,editType:w.editType}),v},L.Q=function(w,r,_,v){var f=v&&v.x||[0,1],s=v&&v.y||[0,1],t=r.grid;if(t){var a=_("domain.column");a!==void 0&&(a<t.columns?f=t._domains.x[a]:delete w.domain.column);var n=_("domain.row");n!==void 0&&(n<t.rows?s=t._domains.y[n]:delete w.domain.row)}var i=_("domain.x",f),l=_("domain.y",s);i[0]<i[1]||(w.domain.x=f.slice()),l[0]<l[1]||(w.domain.y=s.slice())}},25376:function(B){B.exports=function(L){var e=L.editType,k=L.colorEditType;k===void 0&&(k=e);var w={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:k},editType:e};return L.autoSize&&(w.size.dflt="auto"),L.autoColor&&(w.color.dflt="auto"),L.arrayOk&&(w.family.arrayOk=!0,w.size.arrayOk=!0,w.color.arrayOk=!0),w}},16672:function(B){B.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(B,L){L.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},L.axesNames=["lonaxis","lataxis"],L.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},L.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},L.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},L.clipPad=.001,L.precision=.1,L.landColor="#F0DC82",L.waterColor="#3399FF",L.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},L.sphereSVG={type:"Sphere"},L.fillLayers={ocean:1,land:1,lakes:1},L.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},L.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],L.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],L.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(B,L,e){var k=e(33428),w=e(83356),r=w.geoPath,_=w.geoDistance,v=e(87108),f=e(24040),s=e(3400),t=s.strTranslate,a=e(76308),n=e(43616),i=e(93024),l=e(7316),o=e(54460),u=e(19280).getAutoRange,h=e(86476),c=e(22676).prepSelect,b=e(22676).clearOutline,d=e(22676).selectOnClick,g=e(79248),m=e(79552),y=e(27144),x=e(59972),T=e(55712).NO;function p(E){this.id=E.id,this.graphDiv=E.graphDiv,this.container=E.container,this.topojsonURL=E.topojsonURL,this.isStatic=E.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var S=p.prototype;function M(E,P){var O=m.clipPad,I=E[0]+O,R=E[1]-O,U=P[0]+O,z=P[1]-O;I>0&&R<0&&(R+=360);var j=(R-I)/4;return{type:"Polygon",coordinates:[[[I,U],[I,z],[I+j,z],[I+2*j,z],[I+3*j,z],[R,z],[R,U],[R-j,U],[R-2*j,U],[R-3*j,U],[I,U]]]}}B.exports=function(E){return new p(E)},S.plot=function(E,P,O,I){var R=this;if(I)return R.update(E,P,!0);R._geoCalcData=E,R._fullLayout=P;var U=P[this.id],z=[],j=!1;for(var W in m.layerNameToAdjective)if(W!=="frame"&&U["show"+W]){j=!0;break}for(var F=!1,V=0;V<E.length;V++){var H=E[0][0].trace;H._geo=R,H.locationmode&&(j=!0);var te=H.marker;if(te){var Q=te.angle,K=te.angleref;(Q||K==="north"||K==="previous")&&(F=!0)}}if(this._hasMarkerAngles=F,j){var X=x.getTopojsonName(U);R.topojson!==null&&X===R.topojsonName||(R.topojsonName=X,PlotlyGeoAssets.topojson[R.topojsonName]===void 0&&z.push(R.fetchTopojson()))}z=z.concat(y.fetchTraceGeoData(E)),O.push(new Promise(function(J,ee){Promise.all(z).then(function(){R.topojson=PlotlyGeoAssets.topojson[R.topojsonName],R.update(E,P),J()}).catch(ee)}))},S.fetchTopojson=function(){var E=this,P=x.getTopojsonPath(E.topojsonURL,E.topojsonName);return new Promise(function(O,I){k.json(P,function(R,U){if(R)return R.status===404?I(new Error(["plotly.js could not find topojson file at",P+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):I(new Error(["unexpected error while fetching topojson file at",P].join(" ")));PlotlyGeoAssets.topojson[E.topojsonName]=U,O()})})},S.update=function(E,P,O){var I=P[this.id];this.hasChoropleth=!1;for(var R=0;R<E.length;R++){var U=E[R],z=U[0].trace;z.type==="choropleth"&&(this.hasChoropleth=!0),z.visible===!0&&z._length>0&&z._module.calcGeoJSON(U,P)}if(!O){if(this.updateProjection(E,P))return;this.viewInitial&&this.scope===I.scope||this.saveViewInitial(I)}this.scope=I.scope,this.updateBaseLayers(P,I),this.updateDims(P,I),this.updateFx(P,I),l.generalUpdatePerTraceModule(this.graphDiv,this,E,I);var j=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=j.selectAll(".point"),this.dataPoints.text=j.selectAll("text"),this.dataPaths.line=j.selectAll(".js-line");var W=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=W.selectAll("path"),this._render()},S.updateProjection=function(E,P){var O=this.graphDiv,I=P[this.id],R=P._size,U=I.domain,z=I.projection,j=I.lonaxis,W=I.lataxis,F=j._ax,V=W._ax,H=this.projection=function(le){var de=le.projection,Ce=de.type,Me=m.projNames[Ce];Me="geo"+s.titleCase(Me);for(var Le=(w[Me]||v[Me])(),Oe=le._isSatellite?180*Math.acos(1/de.distance)/Math.PI:le._isClipped?m.lonaxisSpan[Ce]/2:null,Be=["center","rotate","parallels","clipExtent"],pe=function(Re){return Re?Le:[]},_e=0;_e<Be.length;_e++){var Te=Be[_e];typeof Le[Te]!="function"&&(Le[Te]=pe)}return Le.isLonLatOverEdges=function(Re){if(Le(Re)===null)return!0;if(Oe){var Ne=Le.rotate();return _(Re,[-Ne[0],-Ne[1]])>Oe*Math.PI/180}return!1},Le.getPath=function(){return r().projection(Le)},Le.getBounds=function(Re){return Le.getPath().bounds(Re)},Le.precision(m.precision),le._isSatellite&&Le.tilt(de.tilt).distance(de.distance),Oe&&Le.clipAngle(Oe-m.clipPad),Le}(I),te=[[R.l+R.w*U.x[0],R.t+R.h*(1-U.y[1])],[R.l+R.w*U.x[1],R.t+R.h*(1-U.y[0])]],Q=I.center||{},K=z.rotation||{},X=j.range||[],J=W.range||[];if(I.fitbounds){F._length=te[1][0]-te[0][0],V._length=te[1][1]-te[0][1],F.range=u(O,F),V.range=u(O,V);var ee=(F.range[0]+F.range[1])/2,ie=(V.range[0]+V.range[1])/2;if(I._isScoped)Q={lon:ee,lat:ie};else if(I._isClipped){Q={lon:ee,lat:ie},K={lon:ee,lat:ie,roll:K.roll};var oe=z.type,ae=m.lonaxisSpan[oe]/2||180,ce=m.lataxisSpan[oe]/2||90;X=[ee-ae,ee+ae],J=[ie-ce,ie+ce]}else Q={lon:ee,lat:ie},K={lon:ee,lat:K.lat,roll:K.roll}}H.center([Q.lon-K.lon,Q.lat-K.lat]).rotate([-K.lon,-K.lat,K.roll]).parallels(z.parallels);var ge=M(X,J);H.fitExtent(te,ge);var ve=this.bounds=H.getBounds(ge),be=this.fitScale=H.scale(),we=H.translate();if(I.fitbounds){var ye=H.getBounds(M(F.range,V.range)),me=Math.min((ve[1][0]-ve[0][0])/(ye[1][0]-ye[0][0]),(ve[1][1]-ve[0][1])/(ye[1][1]-ye[0][1]));isFinite(me)?H.scale(me*be):s.warn("Something went wrong during"+this.id+"fitbounds computations.")}else H.scale(z.scale*be);var Ae=this.midPt=[(ve[0][0]+ve[1][0])/2,(ve[0][1]+ve[1][1])/2];if(H.translate([we[0]+(Ae[0]-we[0]),we[1]+(Ae[1]-we[1])]).clipExtent(ve),I._isAlbersUsa){var ke=H([Q.lon,Q.lat]),fe=H.translate();H.translate([fe[0]-(ke[0]-fe[0]),fe[1]-(ke[1]-fe[1])])}},S.updateBaseLayers=function(E,P){var O=this,I=O.topojson,R=O.layers,U=O.basePaths;function z(H){return H==="lonaxis"||H==="lataxis"}function j(H){return!!m.lineLayers[H]}function W(H){return!!m.fillLayers[H]}var F=(this.hasChoropleth?m.layersForChoropleth:m.layers).filter(function(H){return j(H)||W(H)?P["show"+H]:!z(H)||P[H].showgrid}),V=O.framework.selectAll(".layer").data(F,String);V.exit().each(function(H){delete R[H],delete U[H],k.select(this).remove()}),V.enter().append("g").attr("class",function(H){return"layer "+H}).each(function(H){var te=R[H]=k.select(this);H==="bg"?O.bgRect=te.append("rect").style("pointer-events","all"):z(H)?U[H]=te.append("path").style("fill","none"):H==="backplot"?te.append("g").classed("choroplethlayer",!0):H==="frontplot"?te.append("g").classed("scatterlayer",!0):j(H)?U[H]=te.append("path").style("fill","none").style("stroke-miterlimit",2):W(H)&&(U[H]=te.append("path").style("stroke","none"))}),V.order(),V.each(function(H){var te=U[H],Q=m.layerNameToAdjective[H];H==="frame"?te.datum(m.sphereSVG):j(H)||W(H)?te.datum(T(I,I.objects[H])):z(H)&&te.datum(function(K,X,J){var ee,ie,oe,ae=X[K],ce=m.scopeDefaults[X.scope];K==="lonaxis"?(ee=ce.lonaxisRange,ie=ce.lataxisRange,oe=function(fe,le){return[fe,le]}):K==="lataxis"&&(ee=ce.lataxisRange,ie=ce.lonaxisRange,oe=function(fe,le){return[le,fe]});var ge={type:"linear",range:[ee[0],ee[1]-1e-6],tick0:ae.tick0,dtick:ae.dtick};o.setConvert(ge,J);var ve=o.calcTicks(ge);X.isScoped||K!=="lonaxis"||ve.pop();for(var be=ve.length,we=new Array(be),ye=0;ye<be;ye++)for(var me=ve[ye].x,Ae=we[ye]=[],ke=ie[0];ke<ie[1]+2.5;ke+=2.5)Ae.push(oe(me,ke));return{type:"MultiLineString",coordinates:we}}(H,P,E)).call(a.stroke,P[H].gridcolor).call(n.dashLine,P[H].griddash,P[H].gridwidth),j(H)?te.call(a.stroke,P[Q+"color"]).call(n.dashLine,"",P[Q+"width"]):W(H)&&te.call(a.fill,P[Q+"color"])})},S.updateDims=function(E,P){var O=this.bounds,I=(P.framewidth||0)/2,R=O[0][0]-I,U=O[0][1]-I,z=O[1][0]-R+I,j=O[1][1]-U+I;n.setRect(this.clipRect,R,U,z,j),this.bgRect.call(n.setRect,R,U,z,j).call(a.fill,P.bgcolor),this.xaxis._offset=R,this.xaxis._length=z,this.yaxis._offset=U,this.yaxis._length=j},S.updateFx=function(E,P){var O=this,I=O.graphDiv,R=O.bgRect,U=E.dragmode,z=E.clickmode;if(!O.isStatic){var j={element:O.bgRect.node(),gd:I,plotinfo:{id:O.id,xaxis:O.xaxis,yaxis:O.yaxis,fillRangeItems:function(F,V){V.isRect?(F.range={})[O.id]=[W([V.xmin,V.ymin]),W([V.xmax,V.ymax])]:(F.lassoPoints={})[O.id]=V.map(W)}},xaxes:[O.xaxis],yaxes:[O.yaxis],subplot:O.id,clickFn:function(F){F===2&&b(I)}};U==="pan"?(R.node().onmousedown=null,R.call(g(O,P)),R.on("dblclick.zoom",function(){var F=O.viewInitial,V={};for(var H in F)V[O.id+"."+H]=F[H];f.call("_guiRelayout",I,V),I.emit("plotly_doubleclick",null)}),I._context._scrollZoom.geo||R.on("wheel.zoom",null)):U!=="select"&&U!=="lasso"||(R.on(".zoom",null),j.prepFn=function(F,V,H){c(F,V,H,j,U)},h.init(j)),R.on("mousemove",function(){var F=O.projection.invert(s.getPositionFromD3Event());if(!F)return h.unhover(I,k.event);O.xaxis.p2c=function(){return F[0]},O.yaxis.p2c=function(){return F[1]},i.hover(I,k.event,O.id)}),R.on("mouseout",function(){I._dragging||h.unhover(I,k.event)}),R.on("click",function(){U!=="select"&&U!=="lasso"&&(z.indexOf("select")>-1&&d(k.event,I,[O.xaxis],[O.yaxis],O.id,j),z.indexOf("event")>-1&&i.click(I,k.event))})}function W(F){return O.projection.invert([F[0]+O.xaxis._offset,F[1]+O.yaxis._offset])}},S.makeFramework=function(){var E=this,P=E.graphDiv,O=P._fullLayout,I="clip"+O._uid+E.id;E.clipDef=O._clips.append("clipPath").attr("id",I),E.clipRect=E.clipDef.append("rect"),E.framework=k.select(E.container).append("g").attr("class","geo "+E.id).call(n.setClipUrl,I,P),E.project=function(R){var U=E.projection(R);return U?[U[0]-E.xaxis._offset,U[1]-E.yaxis._offset]:[null,null]},E.xaxis={_id:"x",c2p:function(R){return E.project(R)[0]}},E.yaxis={_id:"y",c2p:function(R){return E.project(R)[1]}},E.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},o.setConvert(E.mockAxis,O)},S.saveViewInitial=function(E){var P,O=E.center||{},I=E.projection,R=I.rotation||{};this.viewInitial={fitbounds:E.fitbounds,"projection.scale":I.scale},P=E._isScoped?{"center.lon":O.lon,"center.lat":O.lat}:E._isClipped?{"projection.rotation.lon":R.lon,"projection.rotation.lat":R.lat}:{"center.lon":O.lon,"center.lat":O.lat,"projection.rotation.lon":R.lon},s.extendFlat(this.viewInitial,P)},S.render=function(E){this._hasMarkerAngles&&E?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},S._render=function(){var E,P=this.projection,O=P.getPath();function I(U){var z=P(U.lonlat);return z?t(z[0],z[1]):null}function R(U){return P.isLonLatOverEdges(U.lonlat)?"none":null}for(E in this.basePaths)this.basePaths[E].attr("d",O);for(E in this.dataPaths)this.dataPaths[E].attr("d",function(U){return O(U.geojson)});for(E in this.dataPoints)this.dataPoints[E].attr("display",R).attr("transform",I)}},10816:function(B,L,e){var k=e(84888).KY,w=e(3400).counterRegex,r=e(43520),_="geo",v=w(_),f={};f[_]={valType:"subplotid",dflt:_,editType:"calc"},B.exports={attr:_,name:_,idRoot:_,idRegex:v,attrRegex:v,attributes:f,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:function(s){for(var t=s._fullLayout,a=s.calcdata,n=t._subplots[_],i=0;i<n.length;i++){var l=n[i],o=k(a,_,l),u=t[l]._subplot;u||(u=r({id:l,graphDiv:s,container:t._geolayer.node(),topojsonURL:s._context.topojsonURL,staticPlot:s._context.staticPlot}),t[l]._subplot=u),u.plot(o,t,s._promises)}},updateFx:function(s){for(var t=s._fullLayout,a=t._subplots[_],n=0;n<a.length;n++){var i=t[a[n]];i._subplot.updateFx(t,i)}},clean:function(s,t,a,n){for(var i=n._subplots[_]||[],l=0;l<i.length;l++){var o=i[l],u=n[o]._subplot;!t[o]&&u&&(u.framework.remove(),u.clipDef.remove())}}}},40384:function(B,L,e){var k=e(22548),w=e(86968).u,r=e(98192).u,_=e(79552),v=e(67824).overrideAll,f=e(95376),s={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:k.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:r};(B.exports=v({domain:w({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:f(_.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:f(_.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:k.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:_.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:_.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:_.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:_.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:k.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:k.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:k.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:k.background},lonaxis:s,lataxis:s},"plot","from-root")).uirevision={valType:"any",editType:"none"}},86920:function(B,L,e){var k=e(3400),w=e(168),r=e(84888).op,_=e(79552),v=e(40384),f=_.axesNames;function s(t,a,n,i){var l=r(i.fullData,"geo",i.id).map(function(K){return K._expandedIndex}),o=n("resolution"),u=n("scope"),h=_.scopeDefaults[u],c=n("projection.type",h.projType),b=a._isAlbersUsa=c==="albers usa";b&&(u=a.scope="usa");var d=a._isScoped=u!=="world",g=a._isSatellite=c==="satellite",m=a._isConic=c.indexOf("conic")!==-1||c==="albers",y=a._isClipped=!!_.lonaxisSpan[c];if(t.visible===!1){var x=k.extendDeep({},a._template);x.showcoastlines=!1,x.showcountries=!1,x.showframe=!1,x.showlakes=!1,x.showland=!1,x.showocean=!1,x.showrivers=!1,x.showsubunits=!1,x.lonaxis&&(x.lonaxis.showgrid=!1),x.lataxis&&(x.lataxis.showgrid=!1),a._template=x}for(var T=n("visible"),p=0;p<f.length;p++){var S,M=f[p],E=[30,10][p];if(d)S=h[M+"Range"];else{var P=_[M+"Span"],O=(P[c]||P["*"])/2,I=n("projection.rotation."+M.substr(0,3),h.projRotate[p]);S=[I-O,I+O]}var R=n(M+".range",S);n(M+".tick0"),n(M+".dtick",E),n(M+".showgrid",!!T&&void 0)&&(n(M+".gridcolor"),n(M+".gridwidth"),n(M+".griddash")),a[M]._ax={type:"linear",_id:M.slice(0,3),_traceIndices:l,setScale:k.identity,c2l:k.identity,r2l:k.identity,autorange:!0,range:R.slice(),_m:1,_input:{}}}var U=a.lonaxis.range,z=a.lataxis.range,j=U[0],W=U[1];j>0&&W<0&&(W+=360);var F,V,H,te=(j+W)/2;if(!b){var Q=d?h.projRotate:[te,0,0];F=n("projection.rotation.lon",Q[0]),n("projection.rotation.lat",Q[1]),n("projection.rotation.roll",Q[2]),n("showcoastlines",!d&&T)&&(n("coastlinecolor"),n("coastlinewidth")),n("showocean",!!T&&void 0)&&n("oceancolor")}b?(V=-96.6,H=38.7):(V=d?te:F,H=(z[0]+z[1])/2),n("center.lon",V),n("center.lat",H),g&&(n("projection.tilt"),n("projection.distance")),m&&n("projection.parallels",h.projParallels||[0,60]),n("projection.scale"),n("showland",!!T&&void 0)&&n("landcolor"),n("showlakes",!!T&&void 0)&&n("lakecolor"),n("showrivers",!!T&&void 0)&&(n("rivercolor"),n("riverwidth")),n("showcountries",d&&u!=="usa"&&T)&&(n("countrycolor"),n("countrywidth")),(u==="usa"||u==="north america"&&o===50)&&(n("showsubunits",T),n("subunitcolor"),n("subunitwidth")),d||n("showframe",T)&&(n("framecolor"),n("framewidth")),n("bgcolor"),n("fitbounds")&&(delete a.projection.scale,d?(delete a.center.lon,delete a.center.lat):y?(delete a.center.lon,delete a.center.lat,delete a.projection.rotation.lon,delete a.projection.rotation.lat,delete a.lonaxis.range,delete a.lataxis.range):(delete a.center.lon,delete a.center.lat,delete a.projection.rotation.lon))}B.exports=function(t,a,n){w(t,a,n,{type:"geo",attributes:v,handleDefaults:s,fullData:n,partition:"y"})}},79248:function(B,L,e){var k=e(33428),w=e(3400),r=e(24040),_=Math.PI/180,v=180/Math.PI,f={cursor:"pointer"},s={cursor:"auto"};function t(d,g){return k.behavior.zoom().translate(g.translate()).scale(g.scale())}function a(d,g,m){var y=d.id,x=d.graphDiv,T=x.layout,p=T[y],S=x._fullLayout,M=S[y],E={},P={};function O(I,R){E[y+"."+I]=w.nestedProperty(p,I).get(),r.call("_storeDirectGUIEdit",T,S._preGUI,E);var U=w.nestedProperty(M,I);U.get()!==R&&(U.set(R),w.nestedProperty(p,I).set(R),P[y+"."+I]=R)}m(O),O("projection.scale",g.scale()/d.fitScale),O("fitbounds",!1),x.emit("plotly_relayout",P)}function n(d,g){var m=t(0,g);function y(x){var T=g.invert(d.midPt);x("center.lon",T[0]),x("center.lat",T[1])}return m.on("zoomstart",function(){k.select(this).style(f)}).on("zoom",function(){g.scale(k.event.scale).translate(k.event.translate),d.render(!0);var x=g.invert(d.midPt);d.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":g.scale()/d.fitScale,"geo.center.lon":x[0],"geo.center.lat":x[1]})}).on("zoomend",function(){k.select(this).style(s),a(d,g,y)}),m}function i(d,g){var m,y,x,T,p,S,M,E,P,O=t(0,g);function I(U){return g.invert(U)}function R(U){var z=g.rotate(),j=g.invert(d.midPt);U("projection.rotation.lon",-z[0]),U("center.lon",j[0]),U("center.lat",j[1])}return O.on("zoomstart",function(){k.select(this).style(f),m=k.mouse(this),y=g.rotate(),x=g.translate(),T=y,p=I(m)}).on("zoom",function(){if(S=k.mouse(this),function(j){var W=I(j);if(!W)return!0;var F=g(W);return Math.abs(F[0]-j[0])>2||Math.abs(F[1]-j[1])>2}(m))return O.scale(g.scale()),void O.translate(g.translate());g.scale(k.event.scale),g.translate([x[0],k.event.translate[1]]),p?I(S)&&(E=I(S),M=[T[0]+(E[0]-p[0]),y[1],y[2]],g.rotate(M),T=M):p=I(m=S),P=!0,d.render(!0);var U=g.rotate(),z=g.invert(d.midPt);d.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":g.scale()/d.fitScale,"geo.center.lon":z[0],"geo.center.lat":z[1],"geo.projection.rotation.lon":-U[0]})}).on("zoomend",function(){k.select(this).style(s),P&&a(d,g,R)}),O}function l(d,g){var m;g.rotate(),g.scale();var y=t(0,g),x=function(M){for(var E=0,P=arguments.length,O=[];++E<P;)O.push(arguments[E]);var I=k.dispatch.apply(null,O);return I.of=function(R,U){return function(z){var j;try{j=z.sourceEvent=k.event,z.target=M,k.event=z,I[z.type].apply(R,U)}finally{k.event=j}}},I}(y,"zoomstart","zoom","zoomend"),T=0,p=y.on;function S(M){var E=g.rotate();M("projection.rotation.lon",-E[0]),M("projection.rotation.lat",-E[1])}return y.on("zoomstart",function(){k.select(this).style(f);var M,E,P,O,I,R,U,z,j,W,F,V=k.mouse(this),H=g.rotate(),te=H,Q=g.translate(),K=(E=.5*(M=H)[0]*_,P=.5*M[1]*_,O=.5*M[2]*_,I=Math.sin(E),R=Math.cos(E),U=Math.sin(P),z=Math.cos(P),j=Math.sin(O),[R*z*(W=Math.cos(O))+I*U*j,I*z*W-R*U*j,R*U*W+I*z*j,R*z*j-I*U*W]);m=o(g,V),p.call(y,"zoom",function(){var X,J,ee,ie,oe,ae,ce,ge,ve,be,we=k.mouse(this);if(g.scale(k.event.scale),m){if(o(g,we)){g.rotate(H).translate(Q);var ye=o(g,we),me=function(fe,le){if(fe&&le){var de=function(Oe,Be){return[Oe[1]*Be[2]-Oe[2]*Be[1],Oe[2]*Be[0]-Oe[0]*Be[2],Oe[0]*Be[1]-Oe[1]*Be[0]]}(fe,le),Ce=Math.sqrt(b(de,de)),Me=.5*Math.acos(Math.max(-1,Math.min(1,b(fe,le)))),Le=Math.sin(Me)/Ce;return Ce&&[Math.cos(Me),de[2]*Le,-de[1]*Le,de[0]*Le]}}(m,ye),Ae=function(fe){return[Math.atan2(2*(fe[0]*fe[1]+fe[2]*fe[3]),1-2*(fe[1]*fe[1]+fe[2]*fe[2]))*v,Math.asin(Math.max(-1,Math.min(1,2*(fe[0]*fe[2]-fe[3]*fe[1]))))*v,Math.atan2(2*(fe[0]*fe[3]+fe[1]*fe[2]),1-2*(fe[2]*fe[2]+fe[3]*fe[3]))*v]}((ee=(X=K)[0],ie=X[1],oe=X[2],ae=X[3],[ee*(ce=(J=me)[0])-ie*(ge=J[1])-oe*(ve=J[2])-ae*(be=J[3]),ee*ge+ie*ce+oe*be-ae*ve,ee*ve-ie*be+oe*ce+ae*ge,ee*be+ie*ve-oe*ge+ae*ce])),ke=function(fe,le,de){var Ce=c(le,2,fe[0]);Ce=c(Ce,1,fe[1]),Ce=c(Ce,0,fe[2]-de[2]);var Me,Le,Oe=le[0],Be=le[1],pe=le[2],_e=Ce[0],Te=Ce[1],Re=Ce[2],Ne=Math.atan2(Be,Oe)*v,ze=Math.sqrt(Oe*Oe+Be*Be);Math.abs(Te)>ze?(Le=(Te>0?90:-90)-Ne,Me=0):(Le=Math.asin(Te/ze)*v-Ne,Me=Math.sqrt(ze*ze-Te*Te));var Ge=180-Le-2*Ne,Ye=(Math.atan2(Re,_e)-Math.atan2(pe,Me))*v,et=(Math.atan2(Re,_e)-Math.atan2(pe,-Me))*v;return u(de[0],de[1],Le,Ye)<=u(de[0],de[1],Ge,et)?[Le,Ye,de[2]]:[Ge,et,de[2]]}(Ae,m,te);isFinite(ke[0])&&isFinite(ke[1])&&isFinite(ke[2])||(ke=te),g.rotate(ke),te=ke}}else m=o(g,V=we);x.of(this,arguments)({type:"zoom"})}),F=x.of(this,arguments),T++||F({type:"zoomstart"})}).on("zoomend",function(){var M;k.select(this).style(s),p.call(y,"zoom",null),M=x.of(this,arguments),--T||M({type:"zoomend"}),a(d,g,S)}).on("zoom.redraw",function(){d.render(!0);var M=g.rotate();d.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":g.scale()/d.fitScale,"geo.projection.rotation.lon":-M[0],"geo.projection.rotation.lat":-M[1]})}),k.rebind(y,x,"on")}function o(d,g){var m=d.invert(g);return m&&isFinite(m[0])&&isFinite(m[1])&&function(y){var x=y[0]*_,T=y[1]*_,p=Math.cos(T);return[p*Math.cos(x),p*Math.sin(x),Math.sin(T)]}(m)}function u(d,g,m,y){var x=h(m-d),T=h(y-g);return Math.sqrt(x*x+T*T)}function h(d){return(d%360+540)%360-180}function c(d,g,m){var y=m*_,x=d.slice(),T=g===0?1:0,p=g===2?1:2,S=Math.cos(y),M=Math.sin(y);return x[T]=d[T]*S-d[p]*M,x[p]=d[p]*S+d[T]*M,x}function b(d,g){for(var m=0,y=0,x=d.length;y<x;++y)m+=d[y]*g[y];return m}B.exports=function(d,g){var m=d.projection;return(g._isScoped?n:g._isClipped?l:i)(d,m)}},84888:function(B,L,e){var k=e(24040),w=e(33816).SUBPLOT_PATTERN;L.KY=function(r,_,v){var f=k.subplotsRegistry[_];if(!f)return[];for(var s=f.attr,t=[],a=0;a<r.length;a++){var n=r[a];n[0].trace[s]===v&&t.push(n)}return t},L._M=function(r,_){var v,f=[],s=[];if(!(v=typeof _=="string"?k.getModule(_).plot:typeof _=="function"?_:_.plot))return[f,r];for(var t=0;t<r.length;t++){var a=r[t],n=a[0].trace;n.visible===!0&&n._length!==0&&(n._module&&n._module.plot===v?f.push(a):s.push(a))}return[f,s]},L.op=function(r,_,v){if(!k.subplotsRegistry[_])return[];var f,s,t,a=k.subplotsRegistry[_].attr,n=[];if(_==="gl2d"){var i=v.match(w);s="x"+i[1],t="y"+i[2]}for(var l=0;l<r.length;l++)f=r[l],_==="gl2d"&&k.traceIs(f,"gl2d")?f[a[0]]===s&&f[a[1]]===t&&n.push(f):f[a]===v&&n.push(f);return n}},2428:function(B,L,e){var k=e(62644),w=e(97264),r=e(29128),_=e(33816),v=e(89184);function f(s,t){this.element=s,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}B.exports=function(s){var t=s.mouseContainer,a=s.glplot,n=new f(t,a);function i(){s.xaxis.autorange=!1,s.yaxis.autorange=!1}function l(o,u,h){var c,b,d=s.calcDataBox(),g=a.viewBox,m=n.lastPos[0],y=n.lastPos[1],x=_.MINDRAG*a.pixelRatio,T=_.MINZOOM*a.pixelRatio;function p(I,R,U){var z=Math.min(R,U),j=Math.max(R,U);z!==j?(d[I]=z,d[I+2]=j,n.dataBox=d,s.setRanges(d)):(s.selectBox.selectBox=[0,0,1,1],s.glplot.setDirty())}switch(u*=a.pixelRatio,h*=a.pixelRatio,h=g[3]-g[1]-h,s.fullLayout.dragmode){case"zoom":if(o){var S=u/(g[2]-g[0])*(d[2]-d[0])+d[0],M=h/(g[3]-g[1])*(d[3]-d[1])+d[1];n.boxInited||(n.boxStart[0]=S,n.boxStart[1]=M,n.dragStart[0]=u,n.dragStart[1]=h),n.boxEnd[0]=S,n.boxEnd[1]=M,n.boxInited=!0,n.boxEnabled||n.boxStart[0]===n.boxEnd[0]&&n.boxStart[1]===n.boxEnd[1]||(n.boxEnabled=!0);var E=Math.abs(n.dragStart[0]-u)<T,P=Math.abs(n.dragStart[1]-h)<T;if(!function(){for(var I=s.graphDiv._fullLayout._axisConstraintGroups,R=s.xaxis._id,U=s.yaxis._id,z=0;z<I.length;z++)if(I[z][R]!==-1){if(I[z][U]!==-1)return!0;break}return!1}()||E&&P)E&&(n.boxEnd[0]=n.boxStart[0]),P&&(n.boxEnd[1]=n.boxStart[1]);else{c=n.boxEnd[0]-n.boxStart[0],b=n.boxEnd[1]-n.boxStart[1];var O=(d[3]-d[1])/(d[2]-d[0]);Math.abs(c*O)>Math.abs(b)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(c)*O*(b>=0?1:-1),n.boxEnd[1]<d[1]?(n.boxEnd[1]=d[1],n.boxEnd[0]=n.boxStart[0]+(d[1]-n.boxStart[1])/Math.abs(O)):n.boxEnd[1]>d[3]&&(n.boxEnd[1]=d[3],n.boxEnd[0]=n.boxStart[0]+(d[3]-n.boxStart[1])/Math.abs(O))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(b)/O*(c>=0?1:-1),n.boxEnd[0]<d[0]?(n.boxEnd[0]=d[0],n.boxEnd[1]=n.boxStart[1]+(d[0]-n.boxStart[0])*Math.abs(O)):n.boxEnd[0]>d[2]&&(n.boxEnd[0]=d[2],n.boxEnd[1]=n.boxStart[1]+(d[2]-n.boxStart[0])*Math.abs(O)))}}else n.boxEnabled?(c=n.boxStart[0]!==n.boxEnd[0],b=n.boxStart[1]!==n.boxEnd[1],c||b?(c&&(p(0,n.boxStart[0],n.boxEnd[0]),s.xaxis.autorange=!1),b&&(p(1,n.boxStart[1],n.boxEnd[1]),s.yaxis.autorange=!1),s.relayoutCallback()):s.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,o?(n.panning||(n.dragStart[0]=u,n.dragStart[1]=h),Math.abs(n.dragStart[0]-u)<x&&(u=n.dragStart[0]),Math.abs(n.dragStart[1]-h)<x&&(h=n.dragStart[1]),c=(m-u)*(d[2]-d[0])/(a.viewBox[2]-a.viewBox[0]),b=(y-h)*(d[3]-d[1])/(a.viewBox[3]-a.viewBox[1]),d[0]+=c,d[2]+=c,d[1]+=b,d[3]+=b,s.setRanges(d),n.panning=!0,n.lastInputTime=Date.now(),i(),s.cameraChanged(),s.handleAnnotations()):n.panning&&(n.panning=!1,s.relayoutCallback())}n.lastPos[0]=u,n.lastPos[1]=h}return n.mouseListener=k(t,l),t.addEventListener("touchstart",function(o){var u=r(o.changedTouches[0],t);l(0,u[0],u[1]),l(1,u[0],u[1]),o.preventDefault()},!!v&&{passive:!1}),t.addEventListener("touchmove",function(o){o.preventDefault();var u=r(o.changedTouches[0],t);l(1,u[0],u[1]),o.preventDefault()},!!v&&{passive:!1}),t.addEventListener("touchend",function(o){l(0,n.lastPos[0],n.lastPos[1]),o.preventDefault()},!!v&&{passive:!1}),n.wheelListener=w(t,function(o,u){if(!s.scrollZoom)return!1;var h=s.calcDataBox(),c=a.viewBox,b=n.lastPos[0],d=n.lastPos[1],g=Math.exp(5*u/(c[3]-c[1])),m=b/(c[2]-c[0])*(h[2]-h[0])+h[0],y=d/(c[3]-c[1])*(h[3]-h[1])+h[1];return h[0]=(h[0]-m)*g+m,h[2]=(h[2]-m)*g+m,h[1]=(h[1]-y)*g+y,h[3]=(h[3]-y)*g+y,s.setRanges(h),n.lastInputTime=Date.now(),i(),s.cameraChanged(),s.handleAnnotations(),s.relayoutCallback(),!0},!0),n}},92568:function(B,L,e){var k=e(54460),w=e(43080);function r(f){this.scene=f,this.gl=f.gl,this.pixelRatio=f.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var _=r.prototype,v=["xaxis","yaxis"];_.merge=function(f){var s,t,a,n,i,l,o,u,h,c,b;for(this.titleEnable=!1,this.backgroundColor=w(f.plot_bgcolor),c=0;c<2;++c){var d=(s=v[c]).charAt(0);for(a=(t=f[this.scene[s]._name]).title.text===this.scene.fullLayout._dfltTitle[d]?"":t.title.text,b=0;b<=2;b+=2)this.labelEnable[c+b]=!1,this.labels[c+b]=a,this.labelColor[c+b]=w(t.title.font.color),this.labelFont[c+b]=t.title.font.family,this.labelSize[c+b]=t.title.font.size,this.labelPad[c+b]=this.getLabelPad(s,t),this.tickEnable[c+b]=!1,this.tickColor[c+b]=w((t.tickfont||{}).color),this.tickAngle[c+b]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[c+b]=this.getTickPad(t),this.tickMarkLength[c+b]=0,this.tickMarkWidth[c+b]=t.tickwidth||0,this.tickMarkColor[c+b]=w(t.tickcolor),this.borderLineEnable[c+b]=!1,this.borderLineColor[c+b]=w(t.linecolor),this.borderLineWidth[c+b]=t.linewidth||0;o=this.hasSharedAxis(t),i=this.hasAxisInDfltPos(s,t)&&!o,l=this.hasAxisInAltrPos(s,t)&&!o,n=t.mirror||!1,u=o?String(n).indexOf("all")!==-1:!!n,h=o?n==="allticks":String(n).indexOf("ticks")!==-1,i?this.labelEnable[c]=!0:l&&(this.labelEnable[c+2]=!0),i?this.tickEnable[c]=t.showticklabels:l&&(this.tickEnable[c+2]=t.showticklabels),(i||u)&&(this.borderLineEnable[c]=t.showline),(l||u)&&(this.borderLineEnable[c+2]=t.showline),(i||h)&&(this.tickMarkLength[c]=this.getTickMarkLength(t)),(l||h)&&(this.tickMarkLength[c+2]=this.getTickMarkLength(t)),this.gridLineEnable[c]=t.showgrid,this.gridLineColor[c]=w(t.gridcolor),this.gridLineWidth[c]=t.gridwidth,this.zeroLineEnable[c]=t.zeroline,this.zeroLineColor[c]=w(t.zerolinecolor),this.zeroLineWidth[c]=t.zerolinewidth}},_.hasSharedAxis=function(f){var s=this.scene,t=s.fullLayout._subplots.gl2d;return k.findSubplotsWithAxis(t,f).indexOf(s.id)!==0},_.hasAxisInDfltPos=function(f,s){var t=s.side;return f==="xaxis"?t==="bottom":f==="yaxis"?t==="left":void 0},_.hasAxisInAltrPos=function(f,s){var t=s.side;return f==="xaxis"?t==="top":f==="yaxis"?t==="right":void 0},_.getLabelPad=function(f,s){var t=1.5,a=s.title.font.size,n=s.showticklabels;return f==="xaxis"?s.side==="top"?a*(t+(n?1:0))-10:a*(t+(n?.5:0))-10:f==="yaxis"?s.side==="right"?10+a*(t+(n?1:.5)):10+a*(t+(n?.5:0)):void 0},_.getTickPad=function(f){return f.ticks==="outside"?10+f.ticklen:15},_.getTickMarkLength=function(f){if(!f.ticks)return 0;var s=f.ticklen;return f.ticks==="inside"?-s:s},B.exports=function(f){return new r(f)}},39952:function(B,L,e){var k=e(67824).overrideAll,w=e(17188),r=e(64859),_=e(9616),v=e(33816),f=e(57952),s=e(65460),t=e(84888).op;L.name="gl2d",L.attr=["xaxis","yaxis"],L.idRoot=["x","y"],L.idRegex=v.idRegex,L.attrRegex=v.attrRegex,L.attributes=e(26720),L.supplyLayoutDefaults=function(a,n,i){n._has("cartesian")||f.supplyLayoutDefaults(a,n,i)},L.layoutAttrOverrides=k(f.layoutAttributes,"plot","from-root"),L.baseLayoutAttrOverrides=k({plot_bgcolor:r.plot_bgcolor,hoverlabel:s.hoverlabel},"plot","nested"),L.plot=function(a){for(var n=a._fullLayout,i=a._fullData,l=n._subplots.gl2d,o=0;o<l.length;o++){var u=l[o],h=n._plots[u],c=t(i,"gl2d",u),b=h._scene2d;b===void 0&&(b=new w({id:u,graphDiv:a,container:a.querySelector(".gl-container"),staticPlot:a._context.staticPlot,plotGlPixelRatio:a._context.plotGlPixelRatio},n),h._scene2d=b),b.plot(c,a.calcdata,n,a.layout)}},L.clean=function(a,n,i,l){for(var o=l._subplots.gl2d||[],u=0;u<o.length;u++){var h=o[u],c=l._plots[h];c._scene2d&&t(a,"gl2d",h).length===0&&(c._scene2d.destroy(),delete l._plots[h])}f.clean.apply(this,arguments)},L.drawFramework=function(a){a._context.staticPlot||f.drawFramework(a)},L.toSVG=function(a){for(var n=a._fullLayout,i=n._subplots.gl2d,l=0;l<i.length;l++){var o=n._plots[i[l]]._scene2d,u=o.toImage("png");n._glimages.append("svg:image").attr({xmlns:_.svg,"xlink:href":u,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),o.destroy()}},L.updateFx=function(a){for(var n=a._fullLayout,i=n._subplots.gl2d,l=0;l<i.length;l++)n._plots[i[l]]._scene2d.updateFx(n.dragmode)}},17188:function(B,L,e){var k,w,r=e(24040),_=e(54460),v=e(93024),f=e(67792).gl_plot2d,s=e(67792).gl_spikes2d,t=e(67792).gl_select_box,a=e(5408),n=e(92568),i=e(2428),l=e(16576),o=e(71888),u=o.enforce,h=o.clean,c=e(19280).doAutoRange,b=e(72760),d=b.drawMode,g=b.selectMode,m=["xaxis","yaxis"],y=e(33816).SUBPLOT_PATTERN;function x(p,S){this.container=p.container,this.graphDiv=p.graphDiv,this.pixelRatio=p.plotGlPixelRatio||window.devicePixelRatio,this.id=p.id,this.staticPlot=!!p.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(S),this.makeFramework(),this.stopped||(this.glplotOptions=n(this),this.glplotOptions.merge(S),this.glplot=f(this.glplotOptions),this.camera=i(this),this.traces={},this.spikes=s(this.glplot),this.selectBox=t(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}B.exports=x;var T=x.prototype;T.makeFramework=function(){if(this.staticPlot){if(!(w||(k=document.createElement("canvas"),w=a({canvas:k,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=k,this.gl=w}else{var p=this.container.querySelector(".gl-canvas-focus"),S=a({canvas:p,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!S)return l(this),void(this.stopped=!0);this.canvas=p,this.gl=S}var M=this.canvas;M.style.width="100%",M.style.height="100%",M.style.position="absolute",M.style.top="0px",M.style.left="0px",M.style["pointer-events"]="none",this.updateSize(M);var E=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");E.style.position="absolute",E.style.top=E.style.left="0px",E.style.width=E.style.height="100%",E.style["z-index"]=20,E.style["pointer-events"]="none";var P=this.mouseContainer=document.createElement("div");P.style.position="absolute",P.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var O=this.container;O.appendChild(E),O.appendChild(P);var I=this;P.addEventListener("mouseout",function(){I.isMouseOver=!1,I.unhover()}),P.addEventListener("mouseover",function(){I.isMouseOver=!0})},T.toImage=function(p){p||(p="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(k),this.updateSize(this.canvas);var S=this.glplot.gl,M=S.drawingBufferWidth,E=S.drawingBufferHeight;S.clearColor(1,1,1,0),S.clear(S.COLOR_BUFFER_BIT|S.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),S.bindFramebuffer(S.FRAMEBUFFER,null);var P=new Uint8Array(M*E*4);S.readPixels(0,0,M,E,S.RGBA,S.UNSIGNED_BYTE,P);for(var O=0,I=E-1;O<I;++O,--I)for(var R=0;R<M;++R)for(var U=0;U<4;++U){var z=P[4*(M*O+R)+U];P[4*(M*O+R)+U]=P[4*(M*I+R)+U],P[4*(M*I+R)+U]=z}var j=document.createElement("canvas");j.width=M,j.height=E;var W,F=j.getContext("2d",{willReadFrequently:!0}),V=F.createImageData(M,E);switch(V.data.set(P),F.putImageData(V,0,0),p){case"jpeg":W=j.toDataURL("image/jpeg");break;case"webp":W=j.toDataURL("image/webp");break;default:W=j.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(k),W},T.updateSize=function(p){p||(p=this.canvas);var S=this.pixelRatio,M=this.fullLayout,E=M.width,P=M.height,O=0|Math.ceil(S*E),I=0|Math.ceil(S*P);return p.width===O&&p.height===I||(p.width=O,p.height=I),p},T.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var p=[_.calcTicks(this.xaxis),_.calcTicks(this.yaxis)],S=0;S<2;++S)for(var M=0;M<p[S].length;++M)p[S][M].text=p[S][M].text+"";return p},T.updateRefs=function(p){this.fullLayout=p;var S=this.id.match(y),M="xaxis"+S[1],E="yaxis"+S[2];this.xaxis=this.fullLayout[M],this.yaxis=this.fullLayout[E]},T.relayoutCallback=function(){var p=this.graphDiv,S=this.xaxis,M=this.yaxis,E=p.layout,P={},O=P[S._name+".range"]=S.range.slice(),I=P[M._name+".range"]=M.range.slice();P[S._name+".autorange"]=S.autorange,P[M._name+".autorange"]=M.autorange,r.call("_storeDirectGUIEdit",p.layout,p._fullLayout._preGUI,P);var R=E[S._name];R.range=O,R.autorange=S.autorange;var U=E[M._name];U.range=I,U.autorange=M.autorange,P.lastInputTime=this.camera.lastInputTime,p.emit("plotly_relayout",P)},T.cameraChanged=function(){var p=this.camera;this.glplot.setDataBox(this.calcDataBox());var S=this.computeTickMarks();(function(M,E){for(var P=0;P<2;++P){var O=M[P],I=E[P];if(O.length!==I.length)return!0;for(var R=0;R<O.length;++R)if(O[R].x!==I[R].x)return!0}return!1})(S,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=S,this.glplotOptions.dataBox=p.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},T.handleAnnotations=function(){for(var p=this.graphDiv,S=this.fullLayout.annotations,M=0;M<S.length;M++){var E=S[M];E.xref===this.xaxis._id&&E.yref===this.yaxis._id&&r.getComponentMethod("annotations","drawOne")(p,M)}},T.destroy=function(){if(this.glplot){var p=this.traces;p&&Object.keys(p).map(function(S){p[S].dispose(),delete p[S]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},T.plot=function(p,S,M){var E=this.glplot;this.updateRefs(M),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(p,S),this.updateFx(M.dragmode);var P=M.width,O=M.height;this.updateSize(this.canvas);var I=this.glplotOptions;I.merge(M),I.screenBox=[0,0,P,O];var R={_fullLayout:{_axisConstraintGroups:M._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:M._size}};h(R,this.xaxis),h(R,this.yaxis);var U,z,j=M._size,W=this.xaxis.domain,F=this.yaxis.domain;for(I.viewBox=[j.l+W[0]*j.w,j.b+F[0]*j.h,P-j.r-(1-W[1])*j.w,O-j.t-(1-F[1])*j.h],this.mouseContainer.style.width=j.w*(W[1]-W[0])+"px",this.mouseContainer.style.height=j.h*(F[1]-F[0])+"px",this.mouseContainer.height=j.h*(F[1]-F[0]),this.mouseContainer.style.left=j.l+W[0]*j.w+"px",this.mouseContainer.style.top=j.t+(1-F[1])*j.h+"px",z=0;z<2;++z)(U=this[m[z]])._length=I.viewBox[z+2]-I.viewBox[z],c(this.graphDiv,U),U.setScale();u(R),I.ticks=this.computeTickMarks(),I.dataBox=this.calcDataBox(),I.merge(M),E.update(I),this.glplot.draw()},T.calcDataBox=function(){var p=this.xaxis,S=this.yaxis,M=p.range,E=S.range,P=p.r2l,O=S.r2l;return[P(M[0]),O(E[0]),P(M[1]),O(E[1])]},T.setRanges=function(p){var S=this.xaxis,M=this.yaxis,E=S.l2r,P=M.l2r;S.range=[E(p[0]),E(p[2])],M.range=[P(p[1]),P(p[3])]},T.updateTraces=function(p,S){var M,E,P,O=Object.keys(this.traces);this.fullData=p;e:for(M=0;M<O.length;M++){var I=O[M],R=this.traces[I];for(E=0;E<p.length;E++)if((P=p[E]).uid===I&&P.type===R.type)continue e;R.dispose(),delete this.traces[I]}for(M=0;M<p.length;M++){P=p[M];var U=S[M],z=this.traces[P.uid];z?z.update(P,U):(z=P._module.plot(this,P,U),this.traces[P.uid]=z)}this.glplot.objects.sort(function(j,W){return j._trace.index-W._trace.index})},T.updateFx=function(p){g(p)||d(p)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor=p==="pan"?"move":p==="zoom"?"crosshair":null},T.emitPointAction=function(p,S){for(var M,E=p.trace.uid,P=p.pointIndex,O=0;O<this.fullData.length;O++)this.fullData[O].uid===E&&(M=this.fullData[O]);var I={x:p.traceCoord[0],y:p.traceCoord[1],curveNumber:M.index,pointNumber:P,data:M._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};v.appendArrayPointValue(I,M,P),this.graphDiv.emit(S,{points:[I]})},T.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var p=this.glplot,S=this.camera,M=S.mouseListener,E=this.lastButtonState===1&&M.buttons===0,P=this.fullLayout;this.lastButtonState=M.buttons,this.cameraChanged();var O,I=M.x*p.pixelRatio,R=this.canvas.height-p.pixelRatio*M.y;if(S.boxEnabled&&P.dragmode==="zoom"){this.selectBox.enabled=!0;for(var U=this.selectBox.selectBox=[Math.min(S.boxStart[0],S.boxEnd[0]),Math.min(S.boxStart[1],S.boxEnd[1]),Math.max(S.boxStart[0],S.boxEnd[0]),Math.max(S.boxStart[1],S.boxEnd[1])],z=0;z<2;z++)S.boxStart[z]===S.boxEnd[z]&&(U[z]=p.dataBox[z],U[z+2]=p.dataBox[z+2]);p.setDirty()}else if(!S.panning&&this.isMouseOver){this.selectBox.enabled=!1;var j=P._size,W=this.xaxis.domain,F=this.yaxis.domain,V=(O=p.pick(I/p.pixelRatio+j.l+W[0]*j.w,R/p.pixelRatio-(j.t+(1-F[1])*j.h)))&&O.object._trace.handlePick(O);if(V&&E&&this.emitPointAction(V,"plotly_click"),O&&O.object._trace.hoverinfo!=="skip"&&P.hovermode&&V&&(!this.lastPickResult||this.lastPickResult.traceUid!==V.trace.uid||this.lastPickResult.dataCoord[0]!==V.dataCoord[0]||this.lastPickResult.dataCoord[1]!==V.dataCoord[1])){var H=V;this.lastPickResult={traceUid:V.trace?V.trace.uid:null,dataCoord:V.dataCoord.slice()},this.spikes.update({center:O.dataCoord}),H.screenCoord=[((p.viewBox[2]-p.viewBox[0])*(O.dataCoord[0]-p.dataBox[0])/(p.dataBox[2]-p.dataBox[0])+p.viewBox[0])/p.pixelRatio,(this.canvas.height-(p.viewBox[3]-p.viewBox[1])*(O.dataCoord[1]-p.dataBox[1])/(p.dataBox[3]-p.dataBox[1])-p.viewBox[1])/p.pixelRatio],this.emitPointAction(V,"plotly_hover");var te=this.fullData[H.trace.index]||{},Q=H.pointIndex,K=v.castHoverinfo(te,P,Q);if(K&&K!=="all"){var X=K.split("+");X.indexOf("x")===-1&&(H.traceCoord[0]=void 0),X.indexOf("y")===-1&&(H.traceCoord[1]=void 0),X.indexOf("z")===-1&&(H.traceCoord[2]=void 0),X.indexOf("text")===-1&&(H.textLabel=void 0),X.indexOf("name")===-1&&(H.name=void 0)}v.loneHover({x:H.screenCoord[0],y:H.screenCoord[1],xLabel:this.hoverFormatter("xaxis",H.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",H.traceCoord[1]),zLabel:H.traceCoord[2],text:H.textLabel,name:H.name,color:v.castHoverOption(te,Q,"bgcolor")||H.color,borderColor:v.castHoverOption(te,Q,"bordercolor"),fontFamily:v.castHoverOption(te,Q,"font.family"),fontSize:v.castHoverOption(te,Q,"font.size"),fontColor:v.castHoverOption(te,Q,"font.color"),nameLength:v.castHoverOption(te,Q,"namelength"),textAlign:v.castHoverOption(te,Q,"align")},{container:this.svgContainer,gd:this.graphDiv})}}O||this.unhover(),p.draw()}},T.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),v.loneUnhover(this.svgContainer))},T.hoverFormatter=function(p,S){if(S!==void 0){var M=this[p];return _.tickText(M,M.c2l(S),"hover").text}}},12536:function(B,L,e){var k=e(67824).overrideAll,w=e(65460),r=e(98432),_=e(84888).op,v=e(3400),f=e(9616),s="gl3d",t="scene";L.name=s,L.attr=t,L.idRoot=t,L.idRegex=L.attrRegex=v.counterRegex("scene"),L.attributes=e(6636),L.layoutAttributes=e(346),L.baseLayoutAttrOverrides=k({hoverlabel:w.hoverlabel},"plot","nested"),L.supplyLayoutDefaults=e(5208),L.plot=function(a){for(var n=a._fullLayout,i=a._fullData,l=n._subplots[s],o=0;o<l.length;o++){var u=l[o],h=_(i,s,u),c=n[u],b=c.camera,d=c._scene;d||(d=new r({id:u,graphDiv:a,container:a.querySelector(".gl-container"),staticPlot:a._context.staticPlot,plotGlPixelRatio:a._context.plotGlPixelRatio,camera:b},n),c._scene=d),d.viewInitial||(d.viewInitial={up:{x:b.up.x,y:b.up.y,z:b.up.z},eye:{x:b.eye.x,y:b.eye.y,z:b.eye.z},center:{x:b.center.x,y:b.center.y,z:b.center.z}}),d.plot(h,n,a.layout)}},L.clean=function(a,n,i,l){for(var o=l._subplots[s]||[],u=0;u<o.length;u++){var h=o[u];!n[h]&&l[h]._scene&&(l[h]._scene.destroy(),l._infolayer&&l._infolayer.selectAll(".annotation-"+h).remove())}},L.toSVG=function(a){for(var n=a._fullLayout,i=n._subplots[s],l=n._size,o=0;o<i.length;o++){var u=n[i[o]],h=u.domain,c=u._scene,b=c.toImage("png");n._glimages.append("svg:image").attr({xmlns:f.svg,"xlink:href":b,x:l.l+l.w*h.x[0],y:l.t+l.h*(1-h.y[1]),width:l.w*(h.x[1]-h.x[0]),height:l.h*(h.y[1]-h.y[0]),preserveAspectRatio:"none"}),c.destroy()}},L.cleanId=function(a){if(a.match(/^scene[0-9]*$/)){var n=a.substr(5);return n==="1"&&(n=""),t+n}},L.updateFx=function(a){for(var n=a._fullLayout,i=n._subplots[s],l=0;l<i.length;l++)n[i[l]]._scene.updateFx(n.dragmode,n.hovermode)}},6636:function(B){B.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(B,L,e){var k=e(76308),w=e(94724),r=e(92880).extendFlat,_=e(67824).overrideAll;B.exports=_({visible:w.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:k.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:w.color,categoryorder:w.categoryorder,categoryarray:w.categoryarray,title:{text:w.title.text,font:w.title.font},type:r({},w.type,{values:["-","linear","log","date","category"]}),autotypenumbers:w.autotypenumbers,autorange:w.autorange,autorangeoptions:{minallowed:w.autorangeoptions.minallowed,maxallowed:w.autorangeoptions.maxallowed,clipmin:w.autorangeoptions.clipmin,clipmax:w.autorangeoptions.clipmax,include:w.autorangeoptions.include,editType:"plot"},rangemode:w.rangemode,minallowed:w.minallowed,maxallowed:w.maxallowed,range:r({},w.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:w.minor.tickmode,nticks:w.nticks,tick0:w.tick0,dtick:w.dtick,tickvals:w.tickvals,ticktext:w.ticktext,ticks:w.ticks,mirror:w.mirror,ticklen:w.ticklen,tickwidth:w.tickwidth,tickcolor:w.tickcolor,showticklabels:w.showticklabels,labelalias:w.labelalias,tickfont:w.tickfont,tickangle:w.tickangle,tickprefix:w.tickprefix,showtickprefix:w.showtickprefix,ticksuffix:w.ticksuffix,showticksuffix:w.showticksuffix,showexponent:w.showexponent,exponentformat:w.exponentformat,minexponent:w.minexponent,separatethousands:w.separatethousands,tickformat:w.tickformat,tickformatstops:w.tickformatstops,hoverformat:w.hoverformat,showline:w.showline,linecolor:w.linecolor,linewidth:w.linewidth,showgrid:w.showgrid,gridcolor:r({},w.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:w.gridwidth,zeroline:w.zeroline,zerolinecolor:w.zerolinecolor,zerolinewidth:w.zerolinewidth,_deprecated:{title:w._deprecated.title,titlefont:w._deprecated.titlefont}},"plot","from-root")},64380:function(B,L,e){var k=e(49760).mix,w=e(3400),r=e(31780),_=e(86140),v=e(14944),f=e(28336),s=["xaxis","yaxis","zaxis"];B.exports=function(t,a,n){var i,l;function o(c,b){return w.coerce(i,l,_,c,b)}for(var u=0;u<s.length;u++){var h=s[u];i=t[h]||{},(l=r.newContainer(a,h))._id=h[0]+n.scene,l._name=h,v(i,l,o,n),f(i,l,o,{font:n.font,letter:h[0],data:n.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:n.bgColor,calendar:n.calendar},n.fullLayout),o("gridcolor",k(l.color,n.bgColor,72.72727272727273).toRgbString()),o("title.text",h[0]),l.setScale=w.noop,o("showspikes")&&(o("spikesides"),o("spikethickness"),o("spikecolor",l.color)),o("showaxeslabels"),o("showbackground")&&o("backgroundcolor")}}},44728:function(B,L,e){var k=e(43080),w=e(3400),r=["xaxis","yaxis","zaxis"];function _(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}_.prototype.merge=function(v,f){for(var s=this,t=0;t<3;++t){var a=f[r[t]];a.visible?(s.labels[t]=v._meta?w.templateString(a.title.text,v._meta):a.title.text,"font"in a.title&&(a.title.font.color&&(s.labelColor[t]=k(a.title.font.color)),a.title.font.family&&(s.labelFont[t]=a.title.font.family),a.title.font.size&&(s.labelSize[t]=a.title.font.size)),"showline"in a&&(s.lineEnable[t]=a.showline),"linecolor"in a&&(s.lineColor[t]=k(a.linecolor)),"linewidth"in a&&(s.lineWidth[t]=a.linewidth),"showgrid"in a&&(s.gridEnable[t]=a.showgrid),"gridcolor"in a&&(s.gridColor[t]=k(a.gridcolor)),"gridwidth"in a&&(s.gridWidth[t]=a.gridwidth),a.type==="log"?s.zeroEnable[t]=!1:"zeroline"in a&&(s.zeroEnable[t]=a.zeroline),"zerolinecolor"in a&&(s.zeroLineColor[t]=k(a.zerolinecolor)),"zerolinewidth"in a&&(s.zeroLineWidth[t]=a.zerolinewidth),"ticks"in a&&a.ticks?s.lineTickEnable[t]=!0:s.lineTickEnable[t]=!1,"ticklen"in a&&(s.lineTickLength[t]=s._defaultLineTickLength[t]=a.ticklen),"tickcolor"in a&&(s.lineTickColor[t]=k(a.tickcolor)),"tickwidth"in a&&(s.lineTickWidth[t]=a.tickwidth),"tickangle"in a&&(s.tickAngle[t]=a.tickangle==="auto"?-3600:Math.PI*-a.tickangle/180),"showticklabels"in a&&(s.tickEnable[t]=a.showticklabels),"tickfont"in a&&(a.tickfont.color&&(s.tickColor[t]=k(a.tickfont.color)),a.tickfont.family&&(s.tickFont[t]=a.tickfont.family),a.tickfont.size&&(s.tickSize[t]=a.tickfont.size)),"mirror"in a?["ticks","all","allticks"].indexOf(a.mirror)!==-1?(s.lineTickMirror[t]=!0,s.lineMirror[t]=!0):a.mirror===!0?(s.lineTickMirror[t]=!1,s.lineMirror[t]=!0):(s.lineTickMirror[t]=!1,s.lineMirror[t]=!1):s.lineMirror[t]=!1,"showbackground"in a&&a.showbackground!==!1?(s.backgroundEnable[t]=!0,s.backgroundColor[t]=k(a.backgroundcolor)):s.backgroundEnable[t]=!1):(s.tickEnable[t]=!1,s.labelEnable[t]=!1,s.lineEnable[t]=!1,s.lineTickEnable[t]=!1,s.gridEnable[t]=!1,s.zeroEnable[t]=!1,s.backgroundEnable[t]=!1)}},B.exports=function(v,f){var s=new _;return s.merge(v,f),s}},5208:function(B,L,e){var k=e(3400),w=e(76308),r=e(24040),_=e(168),v=e(64380),f=e(346),s=e(84888).op,t="gl3d";function a(n,i,l,o){for(var u=l("bgcolor"),h=w.combine(u,o.paper_bgcolor),c=["up","center","eye"],b=0;b<c.length;b++)l("camera."+c[b]+".x"),l("camera."+c[b]+".y"),l("camera."+c[b]+".z");l("camera.projection.type");var d=!!l("aspectratio.x")&&!!l("aspectratio.y")&&!!l("aspectratio.z"),g=l("aspectmode",d?"manual":"auto");d||(n.aspectratio=i.aspectratio={x:1,y:1,z:1},g==="manual"&&(i.aspectmode="auto"),n.aspectmode=i.aspectmode);var m=s(o.fullData,t,o.id);v(n,i,{font:o.font,scene:o.id,data:m,bgColor:h,calendar:o.calendar,autotypenumbersDflt:o.autotypenumbersDflt,fullLayout:o.fullLayout}),r.getComponentMethod("annotations3d","handleDefaults")(n,i,o);var y=o.getDfltFromLayout("dragmode");if(y!==!1&&!y)if(y="orbit",n.camera&&n.camera.up){var x=n.camera.up.x,T=n.camera.up.y,p=n.camera.up.z;p!==0&&(x&&T&&p?p/Math.sqrt(x*x+T*T+p*p)>.999&&(y="turntable"):y="turntable")}else y="turntable";l("dragmode",y),l("hovermode",o.getDfltFromLayout("hovermode"))}B.exports=function(n,i,l){var o=i._basePlotModules.length>1;_(n,i,l,{type:t,attributes:f,handleDefaults:a,fullLayout:i,font:i.font,fullData:l,getDfltFromLayout:function(u){if(!o)return k.validate(n[u],f[u])?n[u]:void 0},autotypenumbersDflt:i.autotypenumbers,paper_bgcolor:i.paper_bgcolor,calendar:i.calendar})}},346:function(B,L,e){var k=e(86140),w=e(86968).u,r=e(92880).extendFlat,_=e(3400).counterRegex;function v(f,s,t){return{x:{valType:"number",dflt:f,editType:"camera"},y:{valType:"number",dflt:s,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}B.exports={_arrayAttrRegexps:[_("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:r(v(0,0,1),{}),center:r(v(0,0,0),{}),eye:r(v(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:w({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:k,yaxis:k,zaxis:k,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(B,L,e){var k=e(43080),w=["xaxis","yaxis","zaxis"];function r(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}r.prototype.merge=function(_){for(var v=0;v<3;++v){var f=_[w[v]];f.visible?(this.enabled[v]=f.showspikes,this.colors[v]=k(f.spikecolor),this.drawSides[v]=f.spikesides,this.lineWidth[v]=f.spikethickness):(this.enabled[v]=!1,this.drawSides[v]=!1)}},B.exports=function(_){var v=new r;return v.merge(_),v}},87152:function(B,L,e){B.exports=function(v){for(var f=v.axesOptions,s=v.glplot.axesPixels,t=v.fullSceneLayout,a=[[],[],[]],n=0;n<3;++n){var i=t[r[n]];if(i._length=(s[n].hi-s[n].lo)*s[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(i._length)===1/0||isNaN(i._length))a[n]=[];else{i._input_range=i.range.slice(),i.range[0]=s[n].lo/v.dataScale[n],i.range[1]=s[n].hi/v.dataScale[n],i._m=1/(v.dataScale[n]*s[n].pixelsPerDataUnit),i.range[0]===i.range[1]&&(i.range[0]-=1,i.range[1]+=1);var l=i.tickmode;if(i.tickmode==="auto"){i.tickmode="linear";var o=i.nticks||w.constrain(i._length/40,4,9);k.autoTicks(i,Math.abs(i.range[1]-i.range[0])/o)}for(var u=k.calcTicks(i,{msUTC:!0}),h=0;h<u.length;++h)u[h].x=u[h].x*v.dataScale[n],i.type==="date"&&(u[h].text=u[h].text.replace(/\<br\>/g," "));a[n]=u,i.tickmode=l}}for(f.ticks=a,n=0;n<3;++n)for(_[n]=.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]),h=0;h<2;++h)f.bounds[h][n]=v.glplot.bounds[h][n];v.contourLevels=function(c){for(var b=new Array(3),d=0;d<3;++d){for(var g=c[d],m=new Array(g.length),y=0;y<g.length;++y)m[y]=g[y].x;b[d]=m}return b}(a)};var k=e(54460),w=e(3400),r=["xaxis","yaxis","zaxis"],_=[0,0,0]},94424:function(B){function L(e,k){var w,r,_=[0,0,0,0];for(w=0;w<4;++w)for(r=0;r<4;++r)_[r]+=e[4*w+r]*k[w];return _}B.exports=function(e,k){return L(e.projection,L(e.view,L(e.model,[k[0],k[1],k[2],1])))}},98432:function(B,L,e){var k,w,r=e(67792).gl_plot3d,_=r.createCamera,v=r.createScene,f=e(5408),s=e(89184),t=e(24040),a=e(3400),n=a.preserveDrawingBuffer(),i=e(54460),l=e(93024),o=e(43080),u=e(16576),h=e(94424),c=e(44728),b=e(9020),d=e(87152),g=e(19280).applyAutorangeOptions,m=!1;function y(M,E){var P=document.createElement("div"),O=M.container;this.graphDiv=M.graphDiv;var I=document.createElementNS("http://www.w3.org/2000/svg","svg");I.style.position="absolute",I.style.top=I.style.left="0px",I.style.width=I.style.height="100%",I.style["z-index"]=20,I.style["pointer-events"]="none",P.appendChild(I),this.svgContainer=I,P.id=M.id,P.style.position="absolute",P.style.top=P.style.left="0px",P.style.width=P.style.height="100%",O.appendChild(P),this.fullLayout=E,this.id=M.id||"scene",this.fullSceneLayout=E[this.id],this.plotArgs=[[],{},{}],this.axesOptions=c(E,E[this.id]),this.spikeOptions=b(E[this.id]),this.container=P,this.staticMode=!!M.staticPlot,this.pixelRatio=this.pixelRatio||M.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=t.getComponentMethod("annotations3d","convert"),this.drawAnnotations=t.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var x=y.prototype;x.prepareOptions=function(){var M=this,E={canvas:M.canvas,gl:M.gl,glOptions:{preserveDrawingBuffer:n,premultipliedAlpha:!0,antialias:!0},container:M.container,axes:M.axesOptions,spikes:M.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:M.camera,pixelRatio:M.pixelRatio};if(M.staticMode){if(!(w||(k=document.createElement("canvas"),w=f({canvas:k,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");E.gl=w,E.canvas=k}return E};var T=!0;x.tryCreatePlot=function(){var M=this,E=M.prepareOptions(),P=!0;try{M.glplot=v(E)}catch{if(M.staticMode||!T||n)P=!1;else{a.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{n=E.glOptions.preserveDrawingBuffer=!0,M.glplot=v(E)}catch{n=E.glOptions.preserveDrawingBuffer=!1,P=!1}}}return T=!1,P},x.initializeGLCamera=function(){var M=this,E=M.fullSceneLayout.camera,P=E.projection.type==="orthographic";M.camera=_(M.container,{center:[E.center.x,E.center.y,E.center.z],eye:[E.eye.x,E.eye.y,E.eye.z],up:[E.up.x,E.up.y,E.up.z],_ortho:P,zoomMin:.01,zoomMax:100,mode:"orbit"})},x.initializeGLPlot=function(){var M=this;if(M.initializeGLCamera(),!M.tryCreatePlot())return u(M);M.traces={},M.make4thDimension();var E=M.graphDiv,P=E.layout,O=function(){var R={};return M.isCameraChanged(P)&&(R[M.id+".camera"]=M.getCamera()),M.isAspectChanged(P)&&(R[M.id+".aspectratio"]=M.glplot.getAspectratio(),P[M.id].aspectmode!=="manual"&&(M.fullSceneLayout.aspectmode=P[M.id].aspectmode=R[M.id+".aspectmode"]="manual")),R},I=function(R){if(R.fullSceneLayout.dragmode!==!1){var U=O();R.saveLayout(P),R.graphDiv.emit("plotly_relayout",U)}};return M.glplot.canvas&&(M.glplot.canvas.addEventListener("mouseup",function(){I(M)}),M.glplot.canvas.addEventListener("touchstart",function(){m=!0}),M.glplot.canvas.addEventListener("wheel",function(R){if(E._context._scrollZoom.gl3d){if(M.camera._ortho){var U=R.deltaX>R.deltaY?1.1:.9090909090909091,z=M.glplot.getAspectratio();M.glplot.setAspectratio({x:U*z.x,y:U*z.y,z:U*z.z})}I(M)}},!!s&&{passive:!1}),M.glplot.canvas.addEventListener("mousemove",function(){if(M.fullSceneLayout.dragmode!==!1&&M.camera.mouseListener.buttons!==0){var R=O();M.graphDiv.emit("plotly_relayouting",R)}}),M.staticMode||M.glplot.canvas.addEventListener("webglcontextlost",function(R){E&&E.emit&&E.emit("plotly_webglcontextlost",{event:R,layer:M.id})},!1)),M.glplot.oncontextloss=function(){M.recoverContext()},M.glplot.onrender=function(){M.render()},!0},x.render=function(){var M,E=this,P=E.graphDiv,O=E.svgContainer,I=E.container.getBoundingClientRect();P._fullLayout._calcInverseTransform(P);var R=P._fullLayout._invScaleX,U=P._fullLayout._invScaleY,z=I.width*R,j=I.height*U;O.setAttributeNS(null,"viewBox","0 0 "+z+" "+j),O.setAttributeNS(null,"width",z),O.setAttributeNS(null,"height",j),d(E),E.glplot.axes.update(E.axesOptions);for(var W=Object.keys(E.traces),F=null,V=E.glplot.selection,H=0;H<W.length;++H)(M=E.traces[W[H]]).data.hoverinfo!=="skip"&&M.handlePick(V)&&(F=M),M.setContourLevels&&M.setContourLevels();function te(we,ye,me){var Ae=E.fullSceneLayout[we+"axis"];return Ae.type!=="log"&&(ye=Ae.d2l(ye)),i.hoverLabelText(Ae,ye,me)}if(F!==null){var Q=h(E.glplot.cameraParams,V.dataCoordinate);M=F.data;var K,X=P._fullData[M.index],J=V.index,ee={xLabel:te("x",V.traceCoordinate[0],M.xhoverformat),yLabel:te("y",V.traceCoordinate[1],M.yhoverformat),zLabel:te("z",V.traceCoordinate[2],M.zhoverformat)},ie=l.castHoverinfo(X,E.fullLayout,J),oe=(ie||"").split("+"),ae=ie&&ie==="all";X.hovertemplate||ae||(oe.indexOf("x")===-1&&(ee.xLabel=void 0),oe.indexOf("y")===-1&&(ee.yLabel=void 0),oe.indexOf("z")===-1&&(ee.zLabel=void 0),oe.indexOf("text")===-1&&(V.textLabel=void 0),oe.indexOf("name")===-1&&(F.name=void 0));var ce=[];M.type==="cone"||M.type==="streamtube"?(ee.uLabel=te("x",V.traceCoordinate[3],M.uhoverformat),(ae||oe.indexOf("u")!==-1)&&ce.push("u: "+ee.uLabel),ee.vLabel=te("y",V.traceCoordinate[4],M.vhoverformat),(ae||oe.indexOf("v")!==-1)&&ce.push("v: "+ee.vLabel),ee.wLabel=te("z",V.traceCoordinate[5],M.whoverformat),(ae||oe.indexOf("w")!==-1)&&ce.push("w: "+ee.wLabel),ee.normLabel=V.traceCoordinate[6].toPrecision(3),(ae||oe.indexOf("norm")!==-1)&&ce.push("norm: "+ee.normLabel),M.type==="streamtube"&&(ee.divergenceLabel=V.traceCoordinate[7].toPrecision(3),(ae||oe.indexOf("divergence")!==-1)&&ce.push("divergence: "+ee.divergenceLabel)),V.textLabel&&ce.push(V.textLabel),K=ce.join("<br>")):M.type==="isosurface"||M.type==="volume"?(ee.valueLabel=i.hoverLabelText(E._mockAxis,E._mockAxis.d2l(V.traceCoordinate[3]),M.valuehoverformat),ce.push("value: "+ee.valueLabel),V.textLabel&&ce.push(V.textLabel),K=ce.join("<br>")):K=V.textLabel;var ge={x:V.traceCoordinate[0],y:V.traceCoordinate[1],z:V.traceCoordinate[2],data:X._input,fullData:X,curveNumber:X.index,pointNumber:J};l.appendArrayPointValue(ge,X,J),M._module.eventData&&(ge=X._module.eventData(ge,V,X,{},J));var ve={points:[ge]};if(E.fullSceneLayout.hovermode){var be=[];l.loneHover({trace:X,x:(.5+.5*Q[0]/Q[3])*z,y:(.5-.5*Q[1]/Q[3])*j,xLabel:ee.xLabel,yLabel:ee.yLabel,zLabel:ee.zLabel,text:K,name:F.name,color:l.castHoverOption(X,J,"bgcolor")||F.color,borderColor:l.castHoverOption(X,J,"bordercolor"),fontFamily:l.castHoverOption(X,J,"font.family"),fontSize:l.castHoverOption(X,J,"font.size"),fontColor:l.castHoverOption(X,J,"font.color"),nameLength:l.castHoverOption(X,J,"namelength"),textAlign:l.castHoverOption(X,J,"align"),hovertemplate:a.castOption(X,J,"hovertemplate"),hovertemplateLabels:a.extendFlat({},ge,ee),eventData:[ge]},{container:O,gd:P,inOut_bbox:be}),ge.bbox=be[0]}V.distance<5&&(V.buttons||m)?P.emit("plotly_click",ve):P.emit("plotly_hover",ve),this.oldEventData=ve}else l.loneUnhover(O),this.oldEventData&&P.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;E.drawAnnotations(E)},x.recoverContext=function(){var M=this;M.glplot.dispose();var E=function(){M.glplot.gl.isContextLost()?requestAnimationFrame(E):M.initializeGLPlot()?M.plot.apply(M,M.plotArgs):a.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(E)};var p=["xaxis","yaxis","zaxis"];function S(M,E,P){for(var O=M.fullSceneLayout,I=0;I<3;I++){var R=p[I],U=R.charAt(0),z=O[R],j=E[U],W=E[U+"calendar"],F=E["_"+U+"length"];if(a.isArrayOrTypedArray(j))for(var V,H=0;H<(F||j.length);H++)if(a.isArrayOrTypedArray(j[H]))for(var te=0;te<j[H].length;++te)V=z.d2l(j[H][te],0,W),!isNaN(V)&&isFinite(V)&&(P[0][I]=Math.min(P[0][I],V),P[1][I]=Math.max(P[1][I],V));else V=z.d2l(j[H],0,W),!isNaN(V)&&isFinite(V)&&(P[0][I]=Math.min(P[0][I],V),P[1][I]=Math.max(P[1][I],V));else P[0][I]=Math.min(P[0][I],0),P[1][I]=Math.max(P[1][I],F-1)}}x.plot=function(M,E,P){var O=this;if(O.plotArgs=[M,E,P],!O.glplot.contextLost){var I,R,U,z,j,W,F=E[O.id],V=P[O.id];O.fullLayout=E,O.fullSceneLayout=F,O.axesOptions.merge(E,F),O.spikeOptions.merge(F),O.setViewport(F),O.updateFx(F.dragmode,F.hovermode),O.camera.enableWheel=O.graphDiv._context._scrollZoom.gl3d,O.glplot.setClearColor(o(F.bgcolor)),O.setConvert(j),M?Array.isArray(M)||(M=[M]):M=[];var H=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(U=0;U<M.length;++U)(I=M[U]).visible===!0&&I._length!==0&&S(this,I,H);(function(Oe,Be){for(var pe=Oe.fullSceneLayout,_e=pe.annotations||[],Te=0;Te<3;Te++)for(var Re=p[Te],Ne=Re.charAt(0),ze=pe[Re],Ge=0;Ge<_e.length;Ge++){var Ye=_e[Ge];if(Ye.visible){var et=ze.r2l(Ye[Ne]);!isNaN(et)&&isFinite(et)&&(Be[0][Te]=Math.min(Be[0][Te],et),Be[1][Te]=Math.max(Be[1][Te],et))}}})(this,H);var te=[1,1,1];for(z=0;z<3;++z)H[1][z]===H[0][z]?te[z]=1:te[z]=1/(H[1][z]-H[0][z]);for(O.dataScale=te,O.convertAnnotations(this),U=0;U<M.length;++U)(I=M[U]).visible===!0&&I._length!==0&&((R=O.traces[I.uid])?R.data.type===I.type?R.update(I):(R.dispose(),R=I._module.plot(this,I),O.traces[I.uid]=R):(R=I._module.plot(this,I),O.traces[I.uid]=R),R.name=I.name);var Q=Object.keys(O.traces);e:for(U=0;U<Q.length;++U){for(z=0;z<M.length;++z)if(M[z].uid===Q[U]&&M[z].visible===!0&&M[z]._length!==0)continue e;(R=O.traces[Q[U]]).dispose(),delete O.traces[Q[U]]}O.glplot.objects.sort(function(Oe,Be){return Oe._trace.data.index-Be._trace.data.index});var K,X=[[0,0,0],[0,0,0]],J=[],ee={};for(U=0;U<3;++U){var ie;if((W=(j=F[p[U]]).type)in ee?(ee[W].acc*=te[U],ee[W].count+=1):ee[W]={acc:te[U],count:1},j.autorange){X[0][U]=1/0,X[1][U]=-1/0;var oe=O.glplot.objects,ae=O.fullSceneLayout.annotations||[],ce=j._name.charAt(0);for(z=0;z<oe.length;z++){var ge=oe[z],ve=ge.bounds,be=ge._trace.data._pad||0;ge.constructor.name==="ErrorBars"&&j._lowerLogErrorBound?X[0][U]=Math.min(X[0][U],j._lowerLogErrorBound):X[0][U]=Math.min(X[0][U],ve[0][U]/te[U]-be),X[1][U]=Math.max(X[1][U],ve[1][U]/te[U]+be)}for(z=0;z<ae.length;z++){var we=ae[z];if(we.visible){var ye=j.r2l(we[ce]);X[0][U]=Math.min(X[0][U],ye),X[1][U]=Math.max(X[1][U],ye)}}if("rangemode"in j&&j.rangemode==="tozero"&&(X[0][U]=Math.min(X[0][U],0),X[1][U]=Math.max(X[1][U],0)),X[0][U]>X[1][U])X[0][U]=-1,X[1][U]=1;else{var me=X[1][U]-X[0][U];X[0][U]-=me/32,X[1][U]+=me/32}if(ie=[X[0][U],X[1][U]],ie=g(ie,j),X[0][U]=ie[0],X[1][U]=ie[1],j.isReversed()){var Ae=X[0][U];X[0][U]=X[1][U],X[1][U]=Ae}}else ie=j.range,X[0][U]=j.r2l(ie[0]),X[1][U]=j.r2l(ie[1]);X[0][U]===X[1][U]&&(X[0][U]-=1,X[1][U]+=1),J[U]=X[1][U]-X[0][U],j.range=[X[0][U],X[1][U]],j.limitRange(),O.glplot.setBounds(U,{min:j.range[0]*te[U],max:j.range[1]*te[U]})}var ke=F.aspectmode;if(ke==="cube")K=[1,1,1];else if(ke==="manual"){var fe=F.aspectratio;K=[fe.x,fe.y,fe.z]}else{if(ke!=="auto"&&ke!=="data")throw new Error("scene.js aspectRatio was not one of the enumerated types");var le=[1,1,1];for(U=0;U<3;++U){var de=ee[W=(j=F[p[U]]).type];le[U]=Math.pow(de.acc,1/de.count)/te[U]}K=ke==="data"||Math.max.apply(null,le)/Math.min.apply(null,le)<=4?le:[1,1,1]}F.aspectratio.x=V.aspectratio.x=K[0],F.aspectratio.y=V.aspectratio.y=K[1],F.aspectratio.z=V.aspectratio.z=K[2],O.glplot.setAspectratio(F.aspectratio),O.viewInitial.aspectratio||(O.viewInitial.aspectratio={x:F.aspectratio.x,y:F.aspectratio.y,z:F.aspectratio.z}),O.viewInitial.aspectmode||(O.viewInitial.aspectmode=F.aspectmode);var Ce=F.domain||null,Me=E._size||null;if(Ce&&Me){var Le=O.container.style;Le.position="absolute",Le.left=Me.l+Ce.x[0]*Me.w+"px",Le.top=Me.t+(1-Ce.y[1])*Me.h+"px",Le.width=Me.w*(Ce.x[1]-Ce.x[0])+"px",Le.height=Me.h*(Ce.y[1]-Ce.y[0])+"px"}O.glplot.redraw()}},x.destroy=function(){var M=this;M.glplot&&(M.camera.mouseListener.enabled=!1,M.container.removeEventListener("wheel",M.camera.wheelListener),M.camera=null,M.glplot.dispose(),M.container.parentNode.removeChild(M.container),M.glplot=null)},x.getCamera=function(){var M,E=this;return E.camera.view.recalcMatrix(E.camera.view.lastT()),{up:{x:(M=E.camera).up[0],y:M.up[1],z:M.up[2]},center:{x:M.center[0],y:M.center[1],z:M.center[2]},eye:{x:M.eye[0],y:M.eye[1],z:M.eye[2]},projection:{type:M._ortho===!0?"orthographic":"perspective"}}},x.setViewport=function(M){var E,P=this,O=M.camera;P.camera.lookAt.apply(this,[[(E=O).eye.x,E.eye.y,E.eye.z],[E.center.x,E.center.y,E.center.z],[E.up.x,E.up.y,E.up.z]]),P.glplot.setAspectratio(M.aspectratio),O.projection.type==="orthographic"!==P.camera._ortho&&(P.glplot.redraw(),P.glplot.clearRGBA(),P.glplot.dispose(),P.initializeGLPlot())},x.isCameraChanged=function(M){var E=this.getCamera(),P=a.nestedProperty(M,this.id+".camera").get();function O(z,j,W,F){var V=["up","center","eye"],H=["x","y","z"];return j[V[W]]&&z[V[W]][H[F]]===j[V[W]][H[F]]}var I=!1;if(P===void 0)I=!0;else{for(var R=0;R<3;R++)for(var U=0;U<3;U++)if(!O(E,P,R,U)){I=!0;break}(!P.projection||E.projection&&E.projection.type!==P.projection.type)&&(I=!0)}return I},x.isAspectChanged=function(M){var E=this.glplot.getAspectratio(),P=a.nestedProperty(M,this.id+".aspectratio").get();return P===void 0||P.x!==E.x||P.y!==E.y||P.z!==E.z},x.saveLayout=function(M){var E,P,O,I,R,U,z=this,j=z.fullLayout,W=z.isCameraChanged(M),F=z.isAspectChanged(M),V=W||F;if(V){var H={};W&&(E=z.getCamera(),O=(P=a.nestedProperty(M,z.id+".camera")).get(),H[z.id+".camera"]=O),F&&(I=z.glplot.getAspectratio(),U=(R=a.nestedProperty(M,z.id+".aspectratio")).get(),H[z.id+".aspectratio"]=U),t.call("_storeDirectGUIEdit",M,j._preGUI,H),W&&(P.set(E),a.nestedProperty(j,z.id+".camera").set(E)),F&&(R.set(I),a.nestedProperty(j,z.id+".aspectratio").set(I),z.glplot.redraw())}return V},x.updateFx=function(M,E){var P=this,O=P.camera;if(O)if(M==="orbit")O.mode="orbit",O.keyBindingMode="rotate";else if(M==="turntable"){O.up=[0,0,1],O.mode="turntable",O.keyBindingMode="rotate";var I=P.graphDiv,R=I._fullLayout,U=P.fullSceneLayout.camera,z=U.up.x,j=U.up.y,W=U.up.z;if(W/Math.sqrt(z*z+j*j+W*W)<.999){var F=P.id+".camera.up",V={x:0,y:0,z:1},H={};H[F]=V;var te=I.layout;t.call("_storeDirectGUIEdit",te,R._preGUI,H),U.up=V,a.nestedProperty(te,F).set(V)}}else O.keyBindingMode=M;P.fullSceneLayout.hovermode=E},x.toImage=function(M){var E=this;M||(M="png"),E.staticMode&&E.container.appendChild(k),E.glplot.redraw();var P=E.glplot.gl,O=P.drawingBufferWidth,I=P.drawingBufferHeight;P.bindFramebuffer(P.FRAMEBUFFER,null);var R=new Uint8Array(O*I*4);P.readPixels(0,0,O,I,P.RGBA,P.UNSIGNED_BYTE,R),function(F,V,H){for(var te=0,Q=H-1;te<Q;++te,--Q)for(var K=0;K<V;++K)for(var X=0;X<4;++X){var J=4*(V*te+K)+X,ee=4*(V*Q+K)+X,ie=F[J];F[J]=F[ee],F[ee]=ie}}(R,O,I),function(F,V,H){for(var te=0;te<H;++te)for(var Q=0;Q<V;++Q){var K=4*(V*te+Q),X=F[K+3];if(X>0)for(var J=255/X,ee=0;ee<3;++ee)F[K+ee]=Math.min(J*F[K+ee],255)}}(R,O,I);var U=document.createElement("canvas");U.width=O,U.height=I;var z,j=U.getContext("2d",{willReadFrequently:!0}),W=j.createImageData(O,I);switch(W.data.set(R),j.putImageData(W,0,0),M){case"jpeg":z=U.toDataURL("image/jpeg");break;case"webp":z=U.toDataURL("image/webp");break;default:z=U.toDataURL("image/png")}return E.staticMode&&E.container.removeChild(k),z},x.setConvert=function(){for(var M=0;M<3;M++){var E=this.fullSceneLayout[p[M]];i.setConvert(E,this.fullLayout),E.setScale=a.noop}},x.make4thDimension=function(){var M=this,E=M.graphDiv._fullLayout;M._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},i.setConvert(M._mockAxis,E)},B.exports=y},52094:function(B){B.exports=function(L,e,k,w){w=w||L.length;for(var r=new Array(w),_=0;_<w;_++)r[_]=[L[_],e[_],k[_]];return r}},64859:function(B,L,e){var k=e(25376),w=e(85656),r=e(22548),_=e(92872),v=e(34200),f=e(66741),s=e(92880).extendFlat,t=k({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=r.defaultLine,B.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:k({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:s(f({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:r.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:r.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:r.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:_.newshape,activeshape:_.activeshape,newselection:v.newselection,activeselection:v.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:s({},w.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:k({editType:"layoutstyle"})}}},47552:function(B,L,e){var k=e(95376),w="1.13.4",r=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',_=[' <a target="_blank" href="https://carto.com/">Carto</a>',r].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),f={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:r,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:_,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:_,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},s=k(f);B.exports={requiredVersion:w,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:f,styleValuesNonMapbox:s,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+w+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",s.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(B,L,e){var k=e(3400);B.exports=function(w,r){var _=w.split(" "),v=_[0],f=_[1],s=k.isArrayOrTypedArray(r)?k.mean(r):r,t=.5+s/100,a=1.5+s/100,n=["",""],i=[0,0];switch(v){case"top":n[0]="top",i[1]=-a;break;case"bottom":n[0]="bottom",i[1]=a}switch(f){case"left":n[1]="right",i[0]=-t;break;case"right":n[1]="left",i[0]=t}return{anchor:n[0]&&n[1]?n.join("-"):n[0]?n[0]:n[1]?n[1]:"center",offset:i}}},33688:function(B,L,e){var k=e(3480),w=e(3400),r=w.strTranslate,_=w.strScale,v=e(84888).KY,f=e(9616),s=e(33428),t=e(43616),a=e(72736),n=e(14440),i="mapbox",l=L.constants=e(47552);function o(u){return typeof u=="string"&&(l.styleValuesMapbox.indexOf(u)!==-1||u.indexOf("mapbox://")===0||u.indexOf("stamen")===0)}L.name=i,L.attr="subplot",L.idRoot=i,L.idRegex=L.attrRegex=w.counterRegex(i),L.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},L.layoutAttributes=e(5232),L.supplyLayoutDefaults=e(5976),L.plot=function(u){var h=u._fullLayout,c=u.calcdata,b=h._subplots[i];if(k.version!==l.requiredVersion)throw new Error(l.wrongVersionErrorMsg);var d=function(p,S){var M=p._fullLayout;if(p._context.mapboxAccessToken==="")return"";for(var E=[],P=[],O=!1,I=!1,R=0;R<S.length;R++){var U=M[S[R]],z=U.accesstoken;o(U.style)&&(z?w.pushUnique(E,z):(o(U._input.style)&&(w.error("Uses Mapbox map style, but did not set an access token."),O=!0),I=!0)),z&&w.pushUnique(P,z)}if(I){var j=O?l.noAccessTokenErrorMsg:l.missingStyleErrorMsg;throw w.error(j),new Error(j)}return E.length?(E.length>1&&w.warn(l.multipleTokensErrorMsg),E[0]):(P.length&&w.log(["Listed mapbox access token(s)",P.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(u,b);k.accessToken=d;for(var g=0;g<b.length;g++){var m=b[g],y=v(c,i,m),x=h[m],T=x._subplot;T||(T=new n(u,m),h[m]._subplot=T),T.viewInitial||(T.viewInitial={center:w.extendFlat({},x.center),zoom:x.zoom,bearing:x.bearing,pitch:x.pitch}),T.plot(y,h,u._promises)}},L.clean=function(u,h,c,b){for(var d=b._subplots[i]||[],g=0;g<d.length;g++){var m=d[g];!h[m]&&b[m]._subplot&&b[m]._subplot.destroy()}},L.toSVG=function(u){for(var h=u._fullLayout,c=h._subplots[i],b=h._size,d=0;d<c.length;d++){var g=h[c[d]],m=g.domain,y=g._subplot.toImage("png");h._glimages.append("svg:image").attr({xmlns:f.svg,"xlink:href":y,x:b.l+b.w*m.x[0],y:b.t+b.h*(1-m.y[1]),width:b.w*(m.x[1]-m.x[0]),height:b.h*(m.y[1]-m.y[0]),preserveAspectRatio:"none"});var x=s.select(g._subplot.div);if(x.select(".mapboxgl-ctrl-logo").node().offsetParent!==null){var T=h._glimages.append("g");T.attr("transform",r(b.l+b.w*m.x[0]+10,b.t+b.h*(1-m.y[0])-31)),T.append("path").attr("d",l.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),T.append("path").attr("d",l.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),T.append("path").attr("d",l.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),T.append("polygon").attr("points",l.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var p=x.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),S=h._glimages.append("g"),M=S.append("text");M.text(p).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":p});var E=t.bBox(M.node()),P=b.w*(m.x[1]-m.x[0]);if(E.width>P/2){var O=p.split("|").join("<br>");M.text(O).attr("data-unformatted",O).call(a.convertToTspans,u),E=t.bBox(M.node())}M.attr("transform",r(-3,8-E.height)),S.insert("rect",".static-attribution").attr({x:-E.width-6,y:-E.height-3,width:E.width+6,height:E.height+3,fill:"rgba(255, 255, 255, 0.75)"});var I=1;E.width+6>P&&(I=P/(E.width+6));var R=[b.l+b.w*m.x[1],b.t+b.h*(1-m.y[0])];S.attr("transform",r(R[0],R[1])+_(I))}},L.updateFx=function(u){for(var h=u._fullLayout,c=h._subplots[i],b=0;b<c.length;b++)h[c[b]]._subplot.updateFx(h)}},22360:function(B,L,e){var k=e(3400),w=e(72736).sanitizeHTML,r=e(89032),_=e(47552);function v(a,n){this.subplot=a,this.uid=a.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=_.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var f=v.prototype;function s(a){if(!a.visible)return!1;var n=a.source;if(Array.isArray(n)&&n.length>0){for(var i=0;i<n.length;i++)if(typeof n[i]!="string"||n[i].length===0)return!1;return!0}return k.isPlainObject(n)||typeof n=="string"&&n.length>0}function t(a){var n={},i={};switch(a.type){case"circle":k.extendFlat(i,{"circle-radius":a.circle.radius,"circle-color":a.color,"circle-opacity":a.opacity});break;case"line":k.extendFlat(i,{"line-width":a.line.width,"line-color":a.color,"line-opacity":a.opacity,"line-dasharray":a.line.dash});break;case"fill":k.extendFlat(i,{"fill-color":a.color,"fill-outline-color":a.fill.outlinecolor,"fill-opacity":a.opacity});break;case"symbol":var l=a.symbol,o=r(l.textposition,l.iconsize);k.extendFlat(n,{"icon-image":l.icon+"-15","icon-size":l.iconsize/10,"text-field":l.text,"text-size":l.textfont.size,"text-anchor":o.anchor,"text-offset":o.offset,"symbol-placement":l.placement}),k.extendFlat(i,{"icon-color":a.color,"text-color":l.textfont.color,"text-opacity":a.opacity});break;case"raster":k.extendFlat(i,{"raster-fade-duration":0,"raster-opacity":a.opacity})}return{layout:n,paint:i}}f.update=function(a){this.visible?this.needsNewImage(a)?this.updateImage(a):this.needsNewSource(a)?(this.removeLayer(),this.updateSource(a),this.updateLayer(a)):this.needsNewLayer(a)?this.updateLayer(a):this.updateStyle(a):(this.updateSource(a),this.updateLayer(a)),this.visible=s(a)},f.needsNewImage=function(a){return this.subplot.map.getSource(this.idSource)&&this.sourceType==="image"&&a.sourcetype==="image"&&(this.source!==a.source||JSON.stringify(this.coordinates)!==JSON.stringify(a.coordinates))},f.needsNewSource=function(a){return this.sourceType!==a.sourcetype||JSON.stringify(this.source)!==JSON.stringify(a.source)||this.layerType!==a.type},f.needsNewLayer=function(a){return this.layerType!==a.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},f.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},f.updateImage=function(a){this.subplot.map.getSource(this.idSource).updateImage({url:a.source,coordinates:a.coordinates});var n=this.findFollowingMapboxLayerId(this.lookupBelow());n!==null&&this.subplot.map.moveLayer(this.idLayer,n)},f.updateSource=function(a){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=a.sourcetype,this.source=a.source,s(a)){var i=function(l){var o,u=l.sourcetype,h=l.source,c={type:u};return u==="geojson"?o="data":u==="vector"?o=typeof h=="string"?"url":"tiles":u==="raster"?(o="tiles",c.tileSize=256):u==="image"&&(o="url",c.coordinates=l.coordinates),c[o]=h,l.sourceattribution&&(c.attribution=w(l.sourceattribution)),c}(a);n.addSource(this.idSource,i)}},f.findFollowingMapboxLayerId=function(a){if(a==="traces")for(var n=this.subplot.getMapLayers(),i=0;i<n.length;i++){var l=n[i].id;if(typeof l=="string"&&l.indexOf(_.traceLayerPrefix)===0){a=l;break}}return a},f.updateLayer=function(a){var n=this.subplot,i=t(a),l=this.lookupBelow(),o=this.findFollowingMapboxLayerId(l);this.removeLayer(),s(a)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":a.sourcelayer||"",type:a.type,minzoom:a.minzoom,maxzoom:a.maxzoom,layout:i.layout,paint:i.paint},o),this.layerType=a.type,this.below=l},f.updateStyle=function(a){if(s(a)){var n=t(a);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},f.removeLayer=function(){var a=this.subplot.map;a.getLayer(this.idLayer)&&a.removeLayer(this.idLayer)},f.dispose=function(){var a=this.subplot.map;a.getLayer(this.idLayer)&&a.removeLayer(this.idLayer),a.getSource(this.idSource)&&a.removeSource(this.idSource)},B.exports=function(a,n,i){var l=new v(a,n);return l.update(i),l}},5232:function(B,L,e){var k=e(3400),w=e(76308).defaultLine,r=e(86968).u,_=e(25376),v=e(52904).textposition,f=e(67824).overrideAll,s=e(31780).templatedArray,t=e(47552),a=_({});a.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(B.exports=f({_arrayAttrRegexps:[k.counterRegex("mapbox",".layers",!0)],domain:r({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:s("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:w},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:w}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:a,textposition:k.extendFlat({},v,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},5976:function(B,L,e){var k=e(3400),w=e(168),r=e(51272),_=e(5232);function v(s,t,a,n){a("accesstoken",n.accessToken),a("style"),a("center.lon"),a("center.lat"),a("zoom"),a("bearing"),a("pitch");var i=a("bounds.west"),l=a("bounds.east"),o=a("bounds.south"),u=a("bounds.north");i!==void 0&&l!==void 0&&o!==void 0&&u!==void 0||delete t.bounds,r(s,t,{name:"layers",handleItemDefaults:f}),t._input=s}function f(s,t){function a(u,h){return k.coerce(s,t,_.layers,u,h)}if(a("visible")){var n,i=a("sourcetype"),l=i==="raster"||i==="image";a("source"),a("sourceattribution"),i==="vector"&&a("sourcelayer"),i==="image"&&a("coordinates"),l&&(n="raster");var o=a("type",n);l&&o!=="raster"&&(o=t.type="raster",k.log("Source types *raster* and *image* must drawn *raster* layer type.")),a("below"),a("color"),a("opacity"),a("minzoom"),a("maxzoom"),o==="circle"&&a("circle.radius"),o==="line"&&(a("line.width"),a("line.dash")),o==="fill"&&a("fill.outlinecolor"),o==="symbol"&&(a("symbol.icon"),a("symbol.iconsize"),a("symbol.text"),k.coerceFont(a,"symbol.textfont"),a("symbol.textposition"),a("symbol.placement"))}}B.exports=function(s,t,a){w(s,t,a,{type:"mapbox",attributes:_,handleDefaults:v,partition:"y",accessToken:t._mapboxAccessToken})}},14440:function(B,L,e){var k=e(3480),w=e(3400),r=e(27144),_=e(24040),v=e(54460),f=e(86476),s=e(93024),t=e(72760),a=t.drawMode,n=t.selectMode,i=e(22676).prepSelect,l=e(22676).clearOutline,o=e(22676).clearSelectionsCache,u=e(22676).selectOnClick,h=e(47552),c=e(22360);function b(T,p){this.id=p,this.gd=T;var S=T._fullLayout,M=T._context;this.container=S._glcontainer.node(),this.isStatic=M.staticPlot,this.uid=S._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(S),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var d=b.prototype;d.plot=function(T,p,S){var M,E=this,P=p[E.id];E.map&&P.accesstoken!==E.accessToken&&(E.map.remove(),E.map=null,E.styleObj=null,E.traceHash={},E.layerList=[]),M=E.map?new Promise(function(O,I){E.updateMap(T,p,O,I)}):new Promise(function(O,I){E.createMap(T,p,O,I)}),S.push(M)},d.createMap=function(T,p,S,M){var E=this,P=p[E.id],O=E.styleObj=m(P.style,p);E.accessToken=P.accesstoken;var I=P.bounds,R=I?[[I.west,I.south],[I.east,I.north]]:null,U=E.map=new k.Map({container:E.div,style:O.style,center:x(P.center),zoom:P.zoom,bearing:P.bearing,pitch:P.pitch,maxBounds:R,interactive:!E.isStatic,preserveDrawingBuffer:E.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new k.AttributionControl({compact:!0}));U._canvas.style.left="0px",U._canvas.style.top="0px",E.rejectOnError(M),E.isStatic||E.initFx(T,p);var z=[];z.push(new Promise(function(j){U.once("load",j)})),z=z.concat(r.fetchTraceGeoData(T)),Promise.all(z).then(function(){E.fillBelowLookup(T,p),E.updateData(T),E.updateLayout(p),E.resolveOnRender(S)}).catch(M)},d.updateMap=function(T,p,S,M){var E=this,P=E.map,O=p[this.id];E.rejectOnError(M);var I=[],R=m(O.style,p);JSON.stringify(E.styleObj)!==JSON.stringify(R)&&(E.styleObj=R,P.setStyle(R.style),E.traceHash={},I.push(new Promise(function(U){P.once("styledata",U)}))),I=I.concat(r.fetchTraceGeoData(T)),Promise.all(I).then(function(){E.fillBelowLookup(T,p),E.updateData(T),E.updateLayout(p),E.resolveOnRender(S)}).catch(M)},d.fillBelowLookup=function(T,p){var S,M,E=p[this.id].layers,P=this.belowLookup={},O=!1;for(S=0;S<T.length;S++){var I=T[S][0].trace,R=I._module;typeof I.below=="string"?M=I.below:R.getBelow&&(M=R.getBelow(I,this)),M===""&&(O=!0),P["trace-"+I.uid]=M||""}for(S=0;S<E.length;S++){var U=E[S];M=typeof U.below=="string"?U.below:O?"traces":"",P["layout-"+S]=M}var z,j,W={};for(z in P)W[M=P[z]]?W[M].push(z):W[M]=[z];for(M in W){var F=W[M];if(F.length>1)for(S=0;S<F.length;S++)(z=F[S]).indexOf("trace-")===0?(j=z.split("trace-")[1],this.traceHash[j]&&(this.traceHash[j].below=null)):z.indexOf("layout-")===0&&(j=z.split("layout-")[1],this.layerList[j]&&(this.layerList[j].below=null))}};var g={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function m(T,p){var S={};if(w.isPlainObject(T))S.id=T.id,S.style=T;else if(typeof T=="string")if(S.id=T,h.styleValuesMapbox.indexOf(T)!==-1)S.style=y(T);else if(h.stylesNonMapbox[T]){S.style=h.stylesNonMapbox[T];var M=S.style.sources["plotly-"+T],E=M?M.tiles:void 0;E&&E[0]&&E[0].slice(-9)==="?api_key="&&(E[0]+=p._mapboxAccessToken)}else S.style=T;else S.id=h.styleValueDflt,S.style=y(h.styleValueDflt);return S.transition={duration:0,delay:0},S}function y(T){return h.styleUrlPrefix+T+"-"+h.styleUrlSuffix}function x(T){return[T.lon,T.lat]}d.updateData=function(T){var p,S,M,E,P=this.traceHash,O=T.slice().sort(function(j,W){return g[j[0].trace.type]-g[W[0].trace.type]});for(M=0;M<O.length;M++){var I=O[M],R=!1;(p=P[(S=I[0].trace).uid])&&(p.type===S.type?(p.update(I),R=!0):p.dispose()),!R&&S._module&&(P[S.uid]=S._module.plot(this,I))}var U=Object.keys(P);e:for(M=0;M<U.length;M++){var z=U[M];for(E=0;E<T.length;E++)if(z===(S=T[E][0].trace).uid)continue e;(p=P[z]).dispose(),delete P[z]}},d.updateLayout=function(T){var p=this.map,S=T[this.id];this.dragging||this.wheeling||(p.setCenter(x(S.center)),p.setZoom(S.zoom),p.setBearing(S.bearing),p.setPitch(S.pitch)),this.updateLayers(T),this.updateFramework(T),this.updateFx(T),this.map.resize(),this.gd._context._scrollZoom.mapbox?p.scrollZoom.enable():p.scrollZoom.disable()},d.resolveOnRender=function(T){var p=this.map;p.on("render",function S(){p.loaded()&&(p.off("render",S),setTimeout(T,10))})},d.rejectOnError=function(T){var p=this.map;function S(){T(new Error(h.mapOnErrorMsg))}p.once("error",S),p.once("style.error",S),p.once("source.error",S),p.once("tile.error",S),p.once("layer.error",S)},d.createFramework=function(T){var p=this,S=p.div=document.createElement("div");S.id=p.uid,S.style.position="absolute",p.container.appendChild(S),p.xaxis={_id:"x",c2p:function(M){return p.project(M).x}},p.yaxis={_id:"y",c2p:function(M){return p.project(M).y}},p.updateFramework(T),p.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},v.setConvert(p.mockAxis,T)},d.initFx=function(T,p){var S=this,M=S.gd,E=S.map;function P(){s.loneUnhover(p._hoverlayer)}function O(){var I=S.getView();M.emit("plotly_relayouting",S.getViewEditsWithDerived(I))}E.on("moveend",function(I){if(S.map){var R=M._fullLayout;if(I.originalEvent||S.wheeling){var U=R[S.id];_.call("_storeDirectGUIEdit",M.layout,R._preGUI,S.getViewEdits(U));var z=S.getView();U._input.center=U.center=z.center,U._input.zoom=U.zoom=z.zoom,U._input.bearing=U.bearing=z.bearing,U._input.pitch=U.pitch=z.pitch,M.emit("plotly_relayout",S.getViewEditsWithDerived(z))}I.originalEvent&&I.originalEvent.type==="mouseup"?S.dragging=!1:S.wheeling&&(S.wheeling=!1),R._rehover&&R._rehover()}}),E.on("wheel",function(){S.wheeling=!0}),E.on("mousemove",function(I){var R=S.div.getBoundingClientRect(),U=[I.originalEvent.offsetX,I.originalEvent.offsetY];I.target.getBoundingClientRect=function(){return R},S.xaxis.p2c=function(){return E.unproject(U).lng},S.yaxis.p2c=function(){return E.unproject(U).lat},M._fullLayout._rehover=function(){M._fullLayout._hoversubplot===S.id&&M._fullLayout[S.id]&&s.hover(M,I,S.id)},s.hover(M,I,S.id),M._fullLayout._hoversubplot=S.id}),E.on("dragstart",function(){S.dragging=!0,P()}),E.on("zoomstart",P),E.on("mouseout",function(){M._fullLayout._hoversubplot=null}),E.on("drag",O),E.on("zoom",O),E.on("dblclick",function(){var I=M._fullLayout[S.id];_.call("_storeDirectGUIEdit",M.layout,M._fullLayout._preGUI,S.getViewEdits(I));var R=S.viewInitial;E.setCenter(x(R.center)),E.setZoom(R.zoom),E.setBearing(R.bearing),E.setPitch(R.pitch);var U=S.getView();I._input.center=I.center=U.center,I._input.zoom=I.zoom=U.zoom,I._input.bearing=I.bearing=U.bearing,I._input.pitch=I.pitch=U.pitch,M.emit("plotly_doubleclick",null),M.emit("plotly_relayout",S.getViewEditsWithDerived(U))}),S.clearOutline=function(){o(S.dragOptions),l(S.dragOptions.gd)},S.onClickInPanFn=function(I){return function(R){var U=M._fullLayout.clickmode;U.indexOf("select")>-1&&u(R.originalEvent,M,[S.xaxis],[S.yaxis],S.id,I),U.indexOf("event")>-1&&s.click(M,R.originalEvent)}}},d.updateFx=function(T){var p=this,S=p.map,M=p.gd;if(!p.isStatic){var E,P=T.dragmode;E=function(R,U){U.isRect?(R.range={})[p.id]=[I([U.xmin,U.ymin]),I([U.xmax,U.ymax])]:(R.lassoPoints={})[p.id]=U.map(I)};var O=p.dragOptions;p.dragOptions=w.extendDeep(O||{},{dragmode:T.dragmode,element:p.div,gd:M,plotinfo:{id:p.id,domain:T[p.id].domain,xaxis:p.xaxis,yaxis:p.yaxis,fillRangeItems:E},xaxes:[p.xaxis],yaxes:[p.yaxis],subplot:p.id}),S.off("click",p.onClickInPanHandler),n(P)||a(P)?(S.dragPan.disable(),S.on("zoomstart",p.clearOutline),p.dragOptions.prepFn=function(R,U,z){i(R,U,z,p.dragOptions,P)},f.init(p.dragOptions)):(S.dragPan.enable(),S.off("zoomstart",p.clearOutline),p.div.onmousedown=null,p.div.ontouchstart=null,p.div.removeEventListener("touchstart",p.div._ontouchstart),p.onClickInPanHandler=p.onClickInPanFn(p.dragOptions),S.on("click",p.onClickInPanHandler))}function I(R){var U=p.map.unproject(R);return[U.lng,U.lat]}},d.updateFramework=function(T){var p=T[this.id].domain,S=T._size,M=this.div.style;M.width=S.w*(p.x[1]-p.x[0])+"px",M.height=S.h*(p.y[1]-p.y[0])+"px",M.left=S.l+p.x[0]*S.w+"px",M.top=S.t+(1-p.y[1])*S.h+"px",this.xaxis._offset=S.l+p.x[0]*S.w,this.xaxis._length=S.w*(p.x[1]-p.x[0]),this.yaxis._offset=S.t+(1-p.y[1])*S.h,this.yaxis._length=S.h*(p.y[1]-p.y[0])},d.updateLayers=function(T){var p,S=T[this.id].layers,M=this.layerList;if(S.length!==M.length){for(p=0;p<M.length;p++)M[p].dispose();for(M=this.layerList=[],p=0;p<S.length;p++)M.push(c(this,p,S[p]))}else for(p=0;p<S.length;p++)M[p].update(S[p])},d.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},d.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},d.setOptions=function(T,p,S){for(var M in S)this.map[p](T,M,S[M])},d.getMapLayers=function(){return this.map.getStyle().layers},d.addLayer=function(T,p){var S=this.map;if(typeof p=="string"){if(p==="")return void S.addLayer(T,p);for(var M=this.getMapLayers(),E=0;E<M.length;E++)if(p===M[E].id)return void S.addLayer(T,p);w.warn(["Trying to add layer with *below* value",p,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}S.addLayer(T)},d.project=function(T){return this.map.project(new k.LngLat(T[0],T[1]))},d.getView=function(){var T=this.map,p=T.getCenter(),S={lon:p.lng,lat:p.lat},M=T.getCanvas(),E=parseInt(M.style.width),P=parseInt(M.style.height);return{center:S,zoom:T.getZoom(),bearing:T.getBearing(),pitch:T.getPitch(),_derived:{coordinates:[T.unproject([0,0]).toArray(),T.unproject([E,0]).toArray(),T.unproject([E,P]).toArray(),T.unproject([0,P]).toArray()]}}},d.getViewEdits=function(T){for(var p=this.id,S=["center","zoom","bearing","pitch"],M={},E=0;E<S.length;E++){var P=S[E];M[p+"."+P]=T[P]}return M},d.getViewEditsWithDerived=function(T){var p=this.id,S=this.getViewEdits(T);return S[p+"._derived"]=T._derived,S},B.exports=b},66741:function(B){B.exports=function(L){var e=L.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(B,L,e){var k=e(33428),w=e(94336).m_,r=e(57624).SO,_=e(38248),v=e(83160),f=e(24040),s=e(73060),t=e(31780),a=e(3400),n=e(76308),i=e(39032).BADNUM,l=e(79811),o=e(1936).clearOutline,u=e(55308),h=e(85656),c=e(16672),b=e(84888)._M,d=a.relinkPrivateKeys,g=a._,m=B.exports={};a.extendFlat(m,f),m.attributes=e(45464),m.attributes.type.values=m.allTypes,m.fontAttrs=e(25376),m.layoutAttributes=e(64859),m.fontWeight="normal";var y=m.transformsRegistry,x=e(62460);m.executeAPICommand=x.executeAPICommand,m.computeAPICommandBindings=x.computeAPICommandBindings,m.manageCommandObserver=x.manageCommandObserver,m.hasSimpleAPICommandBindings=x.hasSimpleAPICommandBindings,m.redrawText=function(F){return F=a.getGraphDiv(F),new Promise(function(V){setTimeout(function(){F._fullLayout&&(f.getComponentMethod("annotations","draw")(F),f.getComponentMethod("legend","draw")(F),f.getComponentMethod("colorbar","draw")(F),V(m.previousPromises(F)))},300)})},m.resize=function(F){var V;F=a.getGraphDiv(F);var H=new Promise(function(te,Q){F&&!a.isHidden(F)||Q(new Error("Resize must be passed a displayed plot div element.")),F._redrawTimer&&clearTimeout(F._redrawTimer),F._resolveResize&&(V=F._resolveResize),F._resolveResize=te,F._redrawTimer=setTimeout(function(){if(!F.layout||F.layout.width&&F.layout.height||a.isHidden(F))te(F);else{delete F.layout.width,delete F.layout.height;var K=F.changed;F.autoplay=!0,f.call("relayout",F,{autosize:!0}).then(function(){F.changed=K,F._resolveResize===te&&(delete F._resolveResize,te(F))})}},100)});return V&&V(H),H},m.previousPromises=function(F){if((F._promises||[]).length)return Promise.all(F._promises).then(function(){F._promises=[]})},m.addLinks=function(F){if(F._context.showLink||F._context.showSources){var V=F._fullLayout,H=a.ensureSingle(V._paper,"text","js-plot-link-container",function(ee){ee.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:n.defaultLine,"pointer-events":"all"}).each(function(){var ie=k.select(this);ie.append("tspan").classed("js-link-to-tool",!0),ie.append("tspan").classed("js-link-spacer",!0),ie.append("tspan").classed("js-sourcelinks",!0)})}),te=H.node(),Q={y:V._paper.attr("height")-9};document.body.contains(te)&&te.getComputedTextLength()>=V.width-20?(Q["text-anchor"]="start",Q.x=5):(Q["text-anchor"]="end",Q.x=V._paper.attr("width")-7),H.attr(Q);var K=H.select(".js-link-to-tool"),X=H.select(".js-link-spacer"),J=H.select(".js-sourcelinks");F._context.showSources&&F._context.showSources(F),F._context.showLink&&function(ee,ie){ie.text("");var oe=ie.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(ee._context.linkText+" "+String.fromCharCode(187));if(ee._context.sendData)oe.on("click",function(){m.sendDataToCloud(ee)});else{var ae=window.location.pathname.split("/"),ce=window.location.search;oe.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+ae[2].split(".")[0]+"/"+ae[1]+ce})}}(F,K),X.text(K.text()&&J.text()?" - ":"")}},m.sendDataToCloud=function(F){var V=(window.PLOTLYENV||{}).BASE_URL||F._context.plotlyServerURL;if(V){F.emit("plotly_beforeexport");var H=k.select(F).append("div").attr("id","hiddenform").style("display","none"),te=H.append("form").attr({action:V+"/external",method:"post",target:"_blank"});return te.append("input").attr({type:"text",name:"data"}).node().value=m.graphJson(F,!1,"keepdata"),te.node().submit(),H.remove(),F.emit("plotly_afterexport"),!1}};var T=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],p=["year","month","dayMonth","dayMonthYear"];function S(F,V){var H=F._context.locale;H||(H="en-US");var te=!1,Q={};function K(ae){for(var ce=!0,ge=0;ge<V.length;ge++){var ve=V[ge];Q[ve]||(ae[ve]?Q[ve]=ae[ve]:ce=!1)}ce&&(te=!0)}for(var X=0;X<2;X++){for(var J=F._context.locales,ee=0;ee<2;ee++){var ie=(J[H]||{}).format;if(ie&&(K(ie),te))break;J=f.localeRegistry}var oe=H.split("-")[0];if(te||oe===H)break;H=oe}return te||K(f.localeRegistry.en.format),Q}function M(F,V){var H={_fullLayout:V},te=F._id.charAt(0)==="x",Q=F._mainAxis._anchorAxis,K="",X="",J="";if(Q&&(J=Q._mainAxis._id,K=te?F._id+J:J+F._id),!K||!V._plots[K]){K="";for(var ee=F._counterAxes,ie=0;ie<ee.length;ie++){var oe=ee[ie],ae=te?F._id+oe:oe+F._id;X||(X=ae);var ce=l.getFromId(H,oe);if(J&&ce.overlaying===J){K=ae;break}}}return K||X}function E(F){var V=F.transforms;if(Array.isArray(V)&&V.length)for(var H=0;H<V.length;H++){var te=V[H],Q=te._module||y[te.type];if(Q&&Q.makesData)return!0}return!1}function P(F,V,H,te){for(var Q=F.transforms,K=[F],X=0;X<Q.length;X++){var J=Q[X],ee=y[J.type];ee&&ee.transform&&(K=ee.transform(K,{transform:J,fullTrace:F,fullData:V,layout:H,fullLayout:te,transformIndex:X}))}return K}function O(F){return typeof F=="string"&&F.substr(F.length-2)==="px"&&parseFloat(F)}function I(F){var V=F.margin;if(!F._size){var H=F._size={l:Math.round(V.l),r:Math.round(V.r),t:Math.round(V.t),b:Math.round(V.b),p:Math.round(V.pad)};H.w=Math.round(F.width)-H.l-H.r,H.h=Math.round(F.height)-H.t-H.b}F._pushmargin||(F._pushmargin={}),F._pushmarginIds||(F._pushmarginIds={}),F._reservedMargin||(F._reservedMargin={})}m.supplyDefaults=function(F,V){var H=V&&V.skipUpdateCalc,te=F._fullLayout||{};if(te._skipDefaults)delete te._skipDefaults;else{var Q,K=F._fullLayout={},X=F.layout||{},J=F._fullData||[],ee=F._fullData=[],ie=F.data||[],oe=F.calcdata||[],ae=F._context||{};F._transitionData||m.createTransitionData(F),K._dfltTitle={plot:g(F,"Click to enter Plot title"),x:g(F,"Click to enter X axis title"),y:g(F,"Click to enter Y axis title"),colorbar:g(F,"Click to enter Colorscale title"),annotation:g(F,"new text")},K._traceWord=g(F,"trace");var ce=S(F,T);if(K._mapboxAccessToken=ae.mapboxAccessToken,te._initialAutoSizeIsDone){var ge=te.width,ve=te.height;m.supplyLayoutGlobalDefaults(X,K,ce),X.width||(K.width=ge),X.height||(K.height=ve),m.sanitizeMargins(K)}else{m.supplyLayoutGlobalDefaults(X,K,ce);var be=!X.width||!X.height,we=K.autosize,ye=ae.autosizable;be&&(we||ye)?m.plotAutoSize(F,X,K):be&&m.sanitizeMargins(K),!we&&be&&(X.width=K.width,X.height=K.height)}K._d3locale=function(ze,Ge){return ze.decimal=Ge.charAt(0),ze.thousands=Ge.charAt(1),{numberFormat:function(Ye){try{Ye=r(ze).format(a.adjustFormat(Ye))}catch{return a.warnBadFormat(Ye),a.noFormat}return Ye},timeFormat:w(ze).utcFormat}}(ce,K.separators),K._extraFormat=S(F,p),K._initialAutoSizeIsDone=!0,K._dataLength=ie.length,K._modules=[],K._visibleModules=[],K._basePlotModules=[];var me=K._subplots=function(){var ze,Ge,Ye=f.collectableSubplotTypes,et={};if(!Ye){Ye=[];var ut=f.subplotsRegistry;for(var ot in ut){var yt=ut[ot].attr;if(yt&&(Ye.push(ot),Array.isArray(yt)))for(Ge=0;Ge<yt.length;Ge++)a.pushUnique(Ye,yt[Ge])}}for(ze=0;ze<Ye.length;ze++)et[Ye[ze]]=[];return et}(),Ae=K._splomAxes={x:{},y:{}},ke=K._splomSubplots={};K._splomGridDflt={},K._scatterStackOpts={},K._firstScatter={},K._alignmentOpts={},K._colorAxes={},K._requestRangeslider={},K._traceUids=function(ze,Ge){var Ye,et,ut=Ge.length,ot=[];for(Ye=0;Ye<ze.length;Ye++){var yt=ze[Ye]._fullInput;yt!==et&&ot.push(yt),et=yt}var wt=ot.length,bt=new Array(ut),at={};function rt(Ft,Dt){bt[Dt]=Ft,at[Ft]=1}function At(Ft,Dt){if(Ft&&typeof Ft=="string"&&!at[Ft])return rt(Ft,Dt),!0}for(Ye=0;Ye<ut;Ye++){var Rt=Ge[Ye].uid;typeof Rt=="number"&&(Rt=String(Rt)),At(Rt,Ye)||Ye<wt&&At(ot[Ye].uid,Ye)||rt(a.randstr(at),Ye)}return bt}(J,ie),K._globalTransforms=(F._context||{}).globalTransforms,m.supplyDataDefaults(ie,ee,X,K);var fe=Object.keys(Ae.x),le=Object.keys(Ae.y);if(fe.length>1&&le.length>1){for(f.getComponentMethod("grid","sizeDefaults")(X,K),Q=0;Q<fe.length;Q++)a.pushUnique(me.xaxis,fe[Q]);for(Q=0;Q<le.length;Q++)a.pushUnique(me.yaxis,le[Q]);for(var de in ke)a.pushUnique(me.cartesian,de)}if(K._has=m._hasPlotType.bind(K),J.length===ee.length)for(Q=0;Q<ee.length;Q++)d(ee[Q],J[Q]);m.supplyLayoutModuleDefaults(X,K,ee,F._transitionData);var Ce=K._visibleModules,Me=[];for(Q=0;Q<Ce.length;Q++){var Le=Ce[Q].crossTraceDefaults;Le&&a.pushUnique(Me,Le)}for(Q=0;Q<Me.length;Q++)Me[Q](ee,K);K._hasOnlyLargeSploms=K._basePlotModules.length===1&&K._basePlotModules[0].name==="splom"&&fe.length>15&&le.length>15&&K.shapes.length===0&&K.images.length===0,m.linkSubplots(ee,K,J,te),m.cleanPlot(ee,K,J,te);var Oe=!(!te._has||!te._has("gl2d")),Be=!(!K._has||!K._has("gl2d")),pe=!(!te._has||!te._has("cartesian"))||Oe,_e=!(!K._has||!K._has("cartesian"))||Be;pe&&!_e?te._bgLayer.remove():_e&&!pe&&(K._shouldCreateBgLayer=!0),te._zoomlayer&&!F._dragging&&o({_fullLayout:te}),function(ze,Ge){var Ye,et=[];Ge.meta&&(Ye=Ge._meta={meta:Ge.meta,layout:{meta:Ge.meta}});for(var ut=0;ut<ze.length;ut++){var ot=ze[ut];ot.meta?et[ot.index]=ot._meta={meta:ot.meta}:Ge.meta&&(ot._meta={meta:Ge.meta}),Ge.meta&&(ot._meta.layout={meta:Ge.meta})}et.length&&(Ye||(Ye=Ge._meta={}),Ye.data=et)}(ee,K),d(K,te),f.getComponentMethod("colorscale","crossTraceDefaults")(ee,K),K._preGUI||(K._preGUI={}),K._tracePreGUI||(K._tracePreGUI={});var Te,Re=K._tracePreGUI,Ne={};for(Te in Re)Ne[Te]="old";for(Q=0;Q<ee.length;Q++)Ne[Te=ee[Q]._fullInput.uid]||(Re[Te]={}),Ne[Te]="new";for(Te in Ne)Ne[Te]==="old"&&delete Re[Te];I(K),f.getComponentMethod("rangeslider","makeData")(K),H||oe.length!==ee.length||m.supplyDefaultsUpdateCalc(oe,ee)}},m.supplyDefaultsUpdateCalc=function(F,V){for(var H=0;H<V.length;H++){var te=V[H],Q=(F[H]||[])[0];if(Q&&Q.trace){var K=Q.trace;if(K._hasCalcTransform){var X,J,ee,ie=K._arrayAttrs;for(X=0;X<ie.length;X++)J=ie[X],ee=a.nestedProperty(K,J).get().slice(),a.nestedProperty(te,J).set(ee)}Q.trace=te}}},m.createTransitionData=function(F){F._transitionData||(F._transitionData={}),F._transitionData._frames||(F._transitionData._frames=[]),F._transitionData._frameHash||(F._transitionData._frameHash={}),F._transitionData._counter||(F._transitionData._counter=0),F._transitionData._interruptCallbacks||(F._transitionData._interruptCallbacks=[])},m._hasPlotType=function(F){var V,H=this._basePlotModules||[];for(V=0;V<H.length;V++)if(H[V].name===F)return!0;var te=this._modules||[];for(V=0;V<te.length;V++){var Q=te[V].name;if(Q===F)return!0;var K=f.modules[Q];if(K&&K.categories[F])return!0}return!1},m.cleanPlot=function(F,V,H,te){var Q,K,X=te._basePlotModules||[];for(Q=0;Q<X.length;Q++){var J=X[Q];J.clean&&J.clean(F,V,H,te)}var ee=te._has&&te._has("gl"),ie=V._has&&V._has("gl");ee&&!ie&&te._glcontainer!==void 0&&(te._glcontainer.selectAll(".gl-canvas").remove(),te._glcontainer.selectAll(".no-webgl").remove(),te._glcanvas=null);var oe=!!te._infolayer;e:for(Q=0;Q<H.length;Q++){var ae=H[Q].uid;for(K=0;K<F.length;K++)if(ae===F[K].uid)continue e;oe&&te._infolayer.select(".cb"+ae).remove()}},m.linkSubplots=function(F,V,H,te){var Q,K,X=te._plots||{},J=V._plots={},ee=V._subplots,ie={_fullData:F,_fullLayout:V},oe=ee.cartesian.concat(ee.gl2d||[]);for(Q=0;Q<oe.length;Q++){var ae,ce=oe[Q],ge=X[ce],ve=l.getFromId(ie,ce,"x"),be=l.getFromId(ie,ce,"y");for(ge?ae=J[ce]=ge:(ae=J[ce]={}).id=ce,ve._counterAxes.push(be._id),be._counterAxes.push(ve._id),ve._subplotsWith.push(ce),be._subplotsWith.push(ce),ae.xaxis=ve,ae.yaxis=be,ae._hasClipOnAxisFalse=!1,K=0;K<F.length;K++){var we=F[K];if(we.xaxis===ae.xaxis._id&&we.yaxis===ae.yaxis._id&&we.cliponaxis===!1){ae._hasClipOnAxisFalse=!0;break}}}var ye,me=l.list(ie,null,!0);for(Q=0;Q<me.length;Q++){var Ae=null;(ye=me[Q]).overlaying&&(Ae=l.getFromId(ie,ye.overlaying))&&Ae.overlaying&&(ye.overlaying=!1,Ae=null),ye._mainAxis=Ae||ye,Ae&&(ye.domain=Ae.domain.slice()),ye._anchorAxis=ye.anchor==="free"?null:l.getFromId(ie,ye.anchor)}for(Q=0;Q<me.length;Q++)if((ye=me[Q])._counterAxes.sort(l.idSort),ye._subplotsWith.sort(a.subplotSort),ye._mainSubplot=M(ye,V),ye._counterAxes.length&&(ye.spikemode&&ye.spikemode.indexOf("across")!==-1||ye.automargin&&ye.mirror&&ye.anchor!=="free"||f.getComponentMethod("rangeslider","isVisible")(ye))){var ke=1,fe=0;for(K=0;K<ye._counterAxes.length;K++){var le=l.getFromId(ie,ye._counterAxes[K]);ke=Math.min(ke,le.domain[0]),fe=Math.max(fe,le.domain[1])}ke<fe&&(ye._counterDomainMin=ke,ye._counterDomainMax=fe)}},m.clearExpandedTraceDefaultColors=function(F){var V,H,te;for(H=[],(V=F._module._colorAttrs)||(F._module._colorAttrs=V=[],s.crawl(F._module.attributes,function(Q,K,X,J){H[J]=K,H.length=J+1,Q.valType==="color"&&Q.dflt===void 0&&V.push(H.join("."))})),te=0;te<V.length;te++)a.nestedProperty(F,"_input."+V[te]).get()||a.nestedProperty(F,V[te]).set(null)},m.supplyDataDefaults=function(F,V,H,te){var Q,K,X,J=te._modules,ee=te._visibleModules,ie=te._basePlotModules,oe=0,ae=0;function ce(de){V.push(de);var Ce=de._module;Ce&&(a.pushUnique(J,Ce),de.visible===!0&&a.pushUnique(ee,Ce),a.pushUnique(ie,de._module.basePlotModule),oe++,de._input.visible!==!1&&ae++)}te._transformModules=[];var ge={},ve=[],be=(H.template||{}).data||{},we=t.traceTemplater(be);for(Q=0;Q<F.length;Q++){if(X=F[Q],(K=we.newTrace(X)).uid=te._traceUids[Q],m.supplyTraceDefaults(X,K,ae,te,Q),K.index=Q,K._input=X,K._expandedIndex=oe,K.transforms&&K.transforms.length)for(var ye=X.visible!==!1&&K.visible===!1,me=P(K,V,H,te),Ae=0;Ae<me.length;Ae++){var ke=me[Ae],fe={_template:K._template,type:K.type,uid:K.uid+Ae};ye&&ke.visible===!1&&delete ke.visible,m.supplyTraceDefaults(ke,fe,oe,te,Q),d(fe,ke),fe.index=Q,fe._input=X,fe._fullInput=K,fe._expandedIndex=oe,fe._expandedInput=ke,ce(fe)}else K._fullInput=K,K._expandedInput=K,ce(K);f.traceIs(K,"carpetAxis")&&(ge[K.carpet]=K),f.traceIs(K,"carpetDependent")&&ve.push(Q)}for(Q=0;Q<ve.length;Q++)if((K=V[ve[Q]]).visible){var le=ge[K.carpet];K._carpet=le,le&&le.visible?(K.xaxis=le.xaxis,K.yaxis=le.yaxis):K.visible=!1}},m.supplyAnimationDefaults=function(F){var V;F=F||{};var H={};function te(Q,K){return a.coerce(F||{},H,h,Q,K)}if(te("mode"),te("direction"),te("fromcurrent"),Array.isArray(F.frame))for(H.frame=[],V=0;V<F.frame.length;V++)H.frame[V]=m.supplyAnimationFrameDefaults(F.frame[V]||{});else H.frame=m.supplyAnimationFrameDefaults(F.frame||{});if(Array.isArray(F.transition))for(H.transition=[],V=0;V<F.transition.length;V++)H.transition[V]=m.supplyAnimationTransitionDefaults(F.transition[V]||{});else H.transition=m.supplyAnimationTransitionDefaults(F.transition||{});return H},m.supplyAnimationFrameDefaults=function(F){var V={};function H(te,Q){return a.coerce(F||{},V,h.frame,te,Q)}return H("duration"),H("redraw"),V},m.supplyAnimationTransitionDefaults=function(F){var V={};function H(te,Q){return a.coerce(F||{},V,h.transition,te,Q)}return H("duration"),H("easing"),V},m.supplyFrameDefaults=function(F){var V={};function H(te,Q){return a.coerce(F,V,c,te,Q)}return H("group"),H("name"),H("traces"),H("baseframe"),H("data"),H("layout"),V},m.supplyTraceDefaults=function(F,V,H,te,Q){var K,X=te.colorway||n.defaults,J=X[H%X.length];function ee(Ae,ke){return a.coerce(F,V,m.attributes,Ae,ke)}var ie=ee("visible");ee("type"),ee("name",te._traceWord+" "+Q),ee("uirevision",te.uirevision);var oe=m.getModule(V);if(V._module=oe,oe){var ae=oe.basePlotModule,ce=ae.attr,ge=ae.attributes;if(ce&&ge){var ve=te._subplots,be="";if(ie||ae.name!=="gl2d"){if(Array.isArray(ce))for(K=0;K<ce.length;K++){var we=ce[K],ye=a.coerce(F,V,ge,we);ve[we]&&a.pushUnique(ve[we],ye),be+=ye}else be=a.coerce(F,V,ge,ce);ve[ae.name]&&a.pushUnique(ve[ae.name],be)}}}if(ie){if(ee("customdata"),ee("ids"),ee("meta"),f.traceIs(V,"showLegend")?(a.coerce(F,V,oe.attributes.showlegend?oe.attributes:m.attributes,"showlegend"),ee("legend"),ee("legendwidth"),ee("legendgroup"),ee("legendgrouptitle.text"),ee("legendrank"),V._dfltShowLegend=!0):V._dfltShowLegend=!1,oe&&oe.supplyDefaults(F,V,J,te),f.traceIs(V,"noOpacity")||ee("opacity"),f.traceIs(V,"notLegendIsolatable")&&(V.visible=!!V.visible),f.traceIs(V,"noHover")||(V.hovertemplate||a.coerceHoverinfo(F,V,te),V.type!=="parcats"&&f.getComponentMethod("fx","supplyDefaults")(F,V,J,te)),oe&&oe.selectPoints){var me=ee("selectedpoints");a.isTypedArray(me)&&(V.selectedpoints=Array.from(me))}m.supplyTransformDefaults(F,V,te)}return V},m.hasMakesDataTransform=E,m.supplyTransformDefaults=function(F,V,H){if(V._length||E(F)){var te=H._globalTransforms||[],Q=H._transformModules||[];if(Array.isArray(F.transforms)||te.length!==0)for(var K=F.transforms||[],X=te.concat(K),J=V.transforms=[],ee=0;ee<X.length;ee++){var ie,oe=X[ee],ae=oe.type,ce=y[ae],ge=!(oe._module&&oe._module===ce),ve=ce&&typeof ce.transform=="function";ce||a.warn("Unrecognized transform type "+ae+"."),ce&&ce.supplyDefaults&&(ge||ve)?((ie=ce.supplyDefaults(oe,V,H,F)).type=ae,ie._module=ce,a.pushUnique(Q,ce)):ie=a.extendFlat({},oe),J.push(ie)}}},m.supplyLayoutGlobalDefaults=function(F,V,H){function te(oe,ae){return a.coerce(F,V,m.layoutAttributes,oe,ae)}var Q=F.template;a.isPlainObject(Q)&&(V.template=Q,V._template=Q.layout,V._dataTemplate=Q.data),te("autotypenumbers");var K=a.coerceFont(te,"font"),X=K.size;a.coerceFont(te,"title.font",a.extendFlat({},K,{size:Math.round(1.4*X)})),te("title.text",V._dfltTitle.plot),te("title.xref");var J=te("title.yref");te("title.pad.t"),te("title.pad.r"),te("title.pad.b"),te("title.pad.l");var ee=te("title.automargin");te("title.x"),te("title.xanchor"),te("title.y"),te("title.yanchor"),ee&&(J==="paper"&&(V.title.y!==0&&(V.title.y=1),V.title.yanchor==="auto"&&(V.title.yanchor=V.title.y===0?"top":"bottom")),J==="container"&&(V.title.y==="auto"&&(V.title.y=1),V.title.yanchor==="auto"&&(V.title.yanchor=V.title.y<.5?"bottom":"top"))),te("uniformtext.mode")&&te("uniformtext.minsize"),te("autosize",!(F.width&&F.height)),te("width"),te("height"),te("minreducedwidth"),te("minreducedheight"),te("margin.l"),te("margin.r"),te("margin.t"),te("margin.b"),te("margin.pad"),te("margin.autoexpand"),F.width&&F.height&&m.sanitizeMargins(V),f.getComponentMethod("grid","sizeDefaults")(F,V),te("paper_bgcolor"),te("separators",H.decimal+H.thousands),te("hidesources"),te("colorway"),te("datarevision");var ie=te("uirevision");te("editrevision",ie),te("selectionrevision",ie),f.getComponentMethod("modebar","supplyLayoutDefaults")(F,V),f.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(F,V,te),f.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(F,V,te),te("meta"),a.isPlainObject(F.transition)&&(te("transition.duration"),te("transition.easing"),te("transition.ordering")),f.getComponentMethod("calendars","handleDefaults")(F,V,"calendar"),f.getComponentMethod("fx","supplyLayoutGlobalDefaults")(F,V,te),a.coerce(F,V,u,"scattermode")},m.plotAutoSize=function(F,V,H){var te,Q,K=F._context||{},X=K.frameMargins,J=a.isPlotDiv(F);if(J&&F.emit("plotly_autosize"),K.fillFrame)te=window.innerWidth,Q=window.innerHeight,document.body.style.overflow="hidden";else{var ee=J?window.getComputedStyle(F):{};if(te=O(ee.width)||O(ee.maxWidth)||H.width,Q=O(ee.height)||O(ee.maxHeight)||H.height,_(X)&&X>0){var ie=1-2*X;te=Math.round(ie*te),Q=Math.round(ie*Q)}}var oe=m.layoutAttributes.width.min,ae=m.layoutAttributes.height.min;te<oe&&(te=oe),Q<ae&&(Q=ae);var ce=!V.width&&Math.abs(H.width-te)>1,ge=!V.height&&Math.abs(H.height-Q)>1;(ge||ce)&&(ce&&(H.width=te),ge&&(H.height=Q)),F._initialAutoSize||(F._initialAutoSize={width:te,height:Q}),m.sanitizeMargins(H)},m.supplyLayoutModuleDefaults=function(F,V,H,te){var Q,K,X,J=f.componentsRegistry,ee=V._basePlotModules,ie=f.subplotsRegistry.cartesian;for(Q in J)(X=J[Q]).includeBasePlot&&X.includeBasePlot(F,V);for(var oe in ee.length||ee.push(ie),V._has("cartesian")&&(f.getComponentMethod("grid","contentDefaults")(F,V),ie.finalizeSubplots(F,V)),V._subplots)V._subplots[oe].sort(a.subplotSort);for(K=0;K<ee.length;K++)(X=ee[K]).supplyLayoutDefaults&&X.supplyLayoutDefaults(F,V,H);var ae=V._modules;for(K=0;K<ae.length;K++)(X=ae[K]).supplyLayoutDefaults&&X.supplyLayoutDefaults(F,V,H);var ce=V._transformModules;for(K=0;K<ce.length;K++)(X=ce[K]).supplyLayoutDefaults&&X.supplyLayoutDefaults(F,V,H,te);for(Q in J)(X=J[Q]).supplyLayoutDefaults&&X.supplyLayoutDefaults(F,V,H)},m.purge=function(F){var V=F._fullLayout||{};V._glcontainer!==void 0&&(V._glcontainer.selectAll(".gl-canvas").remove(),V._glcontainer.remove(),V._glcanvas=null),V._modeBar&&V._modeBar.destroy(),F._transitionData&&(F._transitionData._interruptCallbacks&&(F._transitionData._interruptCallbacks.length=0),F._transitionData._animationRaf&&window.cancelAnimationFrame(F._transitionData._animationRaf)),a.clearThrottle(),a.clearResponsive(F),delete F.data,delete F.layout,delete F._fullData,delete F._fullLayout,delete F.calcdata,delete F.empty,delete F.fid,delete F.undoqueue,delete F.undonum,delete F.autoplay,delete F.changed,delete F._promises,delete F._redrawTimer,delete F._hmlumcount,delete F._hmpixcount,delete F._transitionData,delete F._transitioning,delete F._initialAutoSize,delete F._transitioningWithDuration,delete F._dragging,delete F._dragged,delete F._dragdata,delete F._hoverdata,delete F._snapshotInProgress,delete F._editing,delete F._mouseDownTime,delete F._legendMouseDownTime,F.removeAllListeners&&F.removeAllListeners()},m.style=function(F){var V,H=F._fullLayout._visibleModules,te=[];for(V=0;V<H.length;V++){var Q=H[V];Q.style&&a.pushUnique(te,Q.style)}for(V=0;V<te.length;V++)te[V](F)},m.sanitizeMargins=function(F){if(F&&F.margin){var V,H=F.width,te=F.height,Q=F.margin,K=H-(Q.l+Q.r),X=te-(Q.t+Q.b);K<0&&(V=(H-1)/(Q.l+Q.r),Q.l=Math.floor(V*Q.l),Q.r=Math.floor(V*Q.r)),X<0&&(V=(te-1)/(Q.t+Q.b),Q.t=Math.floor(V*Q.t),Q.b=Math.floor(V*Q.b))}},m.clearAutoMarginIds=function(F){F._fullLayout._pushmarginIds={}},m.allowAutoMargin=function(F,V){F._fullLayout._pushmarginIds[V]=1},m.autoMargin=function(F,V,H){var te=F._fullLayout,Q=te.width,K=te.height,X=te.margin,J=te.minreducedwidth,ee=te.minreducedheight,ie=a.constrain(Q-X.l-X.r,2,J),oe=a.constrain(K-X.t-X.b,2,ee),ae=Math.max(0,Q-ie),ce=Math.max(0,K-oe),ge=te._pushmargin,ve=te._pushmarginIds;if(X.autoexpand!==!1){if(H){var be=H.pad;if(be===void 0&&(be=Math.min(12,X.l,X.r,X.t,X.b)),ae){var we=(H.l+H.r)/ae;we>1&&(H.l/=we,H.r/=we)}if(ce){var ye=(H.t+H.b)/ce;ye>1&&(H.t/=ye,H.b/=ye)}var me=H.xl!==void 0?H.xl:H.x,Ae=H.xr!==void 0?H.xr:H.x,ke=H.yt!==void 0?H.yt:H.y,fe=H.yb!==void 0?H.yb:H.y;ge[V]={l:{val:me,size:H.l+be},r:{val:Ae,size:H.r+be},b:{val:fe,size:H.b+be},t:{val:ke,size:H.t+be}},ve[V]=1}else delete ge[V],delete ve[V];if(!te._replotting)return m.doAutoMargin(F)}},m.doAutoMargin=function(F){var V=F._fullLayout,H=V.width,te=V.height;V._size||(V._size={}),I(V);var Q=V._size,K=V.margin,X={t:0,b:0,l:0,r:0},J=a.extendFlat({},Q),ee=K.l,ie=K.r,oe=K.t,ae=K.b,ce=V._pushmargin,ge=V._pushmarginIds,ve=V.minreducedwidth,be=V.minreducedheight;if(K.autoexpand!==!1){for(var we in ce)ge[we]||delete ce[we];var ye=F._fullLayout._reservedMargin;for(var me in ye)for(var Ae in ye[me]){var ke=ye[me][Ae];X[Ae]=Math.max(X[Ae],ke)}for(var fe in ce.base={l:{val:0,size:ee},r:{val:1,size:ie},t:{val:1,size:oe},b:{val:0,size:ae}},X){var le=0;for(var de in ce)de!=="base"&&_(ce[de][fe].size)&&(le=ce[de][fe].size>le?ce[de][fe].size:le);var Ce=Math.max(0,K[fe]-le);X[fe]=Math.max(0,X[fe]-Ce)}for(var Me in ce){var Le=ce[Me].l||{},Oe=ce[Me].b||{},Be=Le.val,pe=Le.size,_e=Oe.val,Te=Oe.size,Re=H-X.r-X.l,Ne=te-X.t-X.b;for(var ze in ce){if(_(pe)&&ce[ze].r){var Ge=ce[ze].r.val,Ye=ce[ze].r.size;if(Ge>Be){var et=(pe*Ge+(Ye-Re)*Be)/(Ge-Be),ut=(Ye*(1-Be)+(pe-Re)*(1-Ge))/(Ge-Be);et+ut>ee+ie&&(ee=et,ie=ut)}}if(_(Te)&&ce[ze].t){var ot=ce[ze].t.val,yt=ce[ze].t.size;if(ot>_e){var wt=(Te*ot+(yt-Ne)*_e)/(ot-_e),bt=(yt*(1-_e)+(Te-Ne)*(1-ot))/(ot-_e);wt+bt>ae+oe&&(ae=wt,oe=bt)}}}}}var at=a.constrain(H-K.l-K.r,2,ve),rt=a.constrain(te-K.t-K.b,2,be),At=Math.max(0,H-at),Rt=Math.max(0,te-rt);if(At){var Ft=(ee+ie)/At;Ft>1&&(ee/=Ft,ie/=Ft)}if(Rt){var Dt=(ae+oe)/Rt;Dt>1&&(ae/=Dt,oe/=Dt)}if(Q.l=Math.round(ee)+X.l,Q.r=Math.round(ie)+X.r,Q.t=Math.round(oe)+X.t,Q.b=Math.round(ae)+X.b,Q.p=Math.round(K.pad),Q.w=Math.round(H)-Q.l-Q.r,Q.h=Math.round(te)-Q.t-Q.b,!V._replotting&&(m.didMarginChange(J,Q)||function(Ke){if("_redrawFromAutoMarginCount"in Ke._fullLayout)return!1;var Ve=l.list(Ke,"",!0);for(var Je in Ve)if(Ve[Je].autoshift||Ve[Je].shift)return!0;return!1}(F))){"_redrawFromAutoMarginCount"in V?V._redrawFromAutoMarginCount++:V._redrawFromAutoMarginCount=1;var Xe=3*(1+Object.keys(ge).length);if(V._redrawFromAutoMarginCount<Xe)return f.call("_doPlot",F);V._size=J,a.warn("Too many auto-margin redraws.")}(function(Ke){var Ve=l.list(Ke,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Je){for(var ct=0;ct<Ve.length;ct++){var st=Ve[ct][Je];st&&st()}})})(F)};var R=["l","r","t","b","p","w","h"];function U(F,V,H){var te=!1,Q=[m.previousPromises,function(){if(F._transitionData)return F._transitioning=!1,function(X){var J=Promise.resolve();if(!X)return J;for(;X.length;)J=J.then(X.shift());return J}(F._transitionData._interruptCallbacks)},H.prepareFn,m.rehover,m.reselect,function(){return F.emit("plotly_transitioning",[]),new Promise(function(X){F._transitioning=!0,V.duration>0&&(F._transitioningWithDuration=!0),F._transitionData._interruptCallbacks.push(function(){te=!0}),H.redraw&&F._transitionData._interruptCallbacks.push(function(){return f.call("redraw",F)}),F._transitionData._interruptCallbacks.push(function(){F.emit("plotly_transitioninterrupted",[])});var J=0,ee=0;function ie(){return J++,function(){var oe;ee++,te||ee!==J||(oe=X,F._transitionData&&(function(ae){if(ae)for(;ae.length;)ae.shift()}(F._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(H.redraw)return f.call("redraw",F)}).then(function(){F._transitioning=!1,F._transitioningWithDuration=!1,F.emit("plotly_transitioned",[])}).then(oe)))}}H.runFn(ie),setTimeout(ie())})}],K=a.syncOrAsync(Q,F);return K&&K.then||(K=Promise.resolve()),K.then(function(){return F})}m.didMarginChange=function(F,V){for(var H=0;H<R.length;H++){var te=R[H],Q=F[te],K=V[te];if(!_(Q)||Math.abs(K-Q)>1)return!0}return!1},m.graphJson=function(F,V,H,te,Q,K){(Q&&V&&!F._fullData||Q&&!V&&!F._fullLayout)&&m.supplyDefaults(F);var X=Q?F._fullData:F.data,J=Q?F._fullLayout:F.layout,ee=(F._transitionData||{})._frames;function ie(ce,ge){if(typeof ce=="function")return ge?"_function_":null;if(a.isPlainObject(ce)){var ve,be={};return Object.keys(ce).sort().forEach(function(Ae){if(["_","["].indexOf(Ae.charAt(0))===-1)if(typeof ce[Ae]!="function"){if(H==="keepdata"){if(Ae.substr(Ae.length-3)==="src")return}else if(H==="keepstream"){if(typeof(ve=ce[Ae+"src"])=="string"&&ve.indexOf(":")>0&&!a.isPlainObject(ce.stream))return}else if(H!=="keepall"&&typeof(ve=ce[Ae+"src"])=="string"&&ve.indexOf(":")>0)return;be[Ae]=ie(ce[Ae],ge)}else ge&&(be[Ae]="_function")}),be}var we=Array.isArray(ce),ye=a.isTypedArray(ce);if((we||ye)&&ce.dtype&&ce.shape){var me=ce.bdata;return ie({dtype:ce.dtype,shape:ce.shape,bdata:a.isArrayBuffer(me)?v.encode(me):me},ge)}return we?ce.map(function(Ae){return ie(Ae,ge)}):ye?a.simpleMap(ce,a.identity):a.isJSDate(ce)?a.ms2DateTimeLocal(+ce):ce}var oe={data:(X||[]).map(function(ce){var ge=ie(ce);return V&&delete ge.fit,ge})};if(!V&&(oe.layout=ie(J),Q)){var ae=J._size;oe.layout.computed={margin:{b:ae.b,l:ae.l,r:ae.r,t:ae.t}}}return ee&&(oe.frames=ie(ee)),K&&(oe.config=ie(F._context,!0)),te==="object"?oe:JSON.stringify(oe)},m.modifyFrames=function(F,V){var H,te,Q,K=F._transitionData._frames,X=F._transitionData._frameHash;for(H=0;H<V.length;H++)switch((te=V[H]).type){case"replace":Q=te.value;var J=(K[te.index]||{}).name,ee=Q.name;K[te.index]=X[ee]=Q,ee!==J&&(delete X[J],X[ee]=Q);break;case"insert":X[(Q=te.value).name]=Q,K.splice(te.index,0,Q);break;case"delete":delete X[(Q=K[te.index]).name],K.splice(te.index,1)}return Promise.resolve()},m.computeFrame=function(F,V){var H,te,Q,K,X=F._transitionData._frameHash;if(!V)throw new Error("computeFrame must be given a string frame name");var J=X[V.toString()];if(!J)return!1;for(var ee=[J],ie=[J.name];J.baseframe&&(J=X[J.baseframe.toString()])&&ie.indexOf(J.name)===-1;)ee.push(J),ie.push(J.name);for(var oe={};J=ee.pop();)if(J.layout&&(oe.layout=m.extendLayout(oe.layout,J.layout)),J.data){if(oe.data||(oe.data=[]),!(te=J.traces))for(te=[],H=0;H<J.data.length;H++)te[H]=H;for(oe.traces||(oe.traces=[]),H=0;H<J.data.length;H++)(Q=te[H])!=null&&((K=oe.traces.indexOf(Q))===-1&&(K=oe.data.length,oe.traces[K]=Q),oe.data[K]=m.extendTrace(oe.data[K],J.data[H]))}return oe},m.recomputeFrameHash=function(F){for(var V=F._transitionData._frameHash={},H=F._transitionData._frames,te=0;te<H.length;te++){var Q=H[te];Q&&Q.name&&(V[Q.name]=Q)}},m.extendObjectWithContainers=function(F,V,H){var te,Q,K,X,J,ee,ie,oe=a.extendDeepNoArrays({},V||{}),ae=a.expandObjectPaths(oe),ce={};if(H&&H.length)for(K=0;K<H.length;K++)(Q=(te=a.nestedProperty(ae,H[K])).get())===void 0?a.nestedProperty(ce,H[K]).set(null):(te.set(null),a.nestedProperty(ce,H[K]).set(Q));if(F=a.extendDeepNoArrays(F||{},ae),H&&H.length){for(K=0;K<H.length;K++)if(ee=a.nestedProperty(ce,H[K]).get()){for(ie=(J=a.nestedProperty(F,H[K])).get(),Array.isArray(ie)||(ie=[],J.set(ie)),X=0;X<ee.length;X++){var ge=ee[X];ie[X]=ge===null?null:m.extendObjectWithContainers(ie[X],ge)}J.set(ie)}}return F},m.dataArrayContainers=["transforms","dimensions"],m.layoutArrayContainers=f.layoutArrayContainers,m.extendTrace=function(F,V){return m.extendObjectWithContainers(F,V,m.dataArrayContainers)},m.extendLayout=function(F,V){return m.extendObjectWithContainers(F,V,m.layoutArrayContainers)},m.transition=function(F,V,H,te,Q,K){var X={redraw:Q.redraw},J={},ee=[];return X.prepareFn=function(){for(var ie=Array.isArray(V)?V.length:0,oe=te.slice(0,ie),ae=0;ae<oe.length;ae++){var ce=oe[ae],ge=F._fullData[ce]._module;if(ge){if(ge.animatable){var ve=ge.basePlotModule.name;J[ve]||(J[ve]=[]),J[ve].push(ce)}F.data[oe[ae]]=m.extendTrace(F.data[oe[ae]],V[ae])}}var be=a.expandObjectPaths(a.extendDeepNoArrays({},H)),we=/^[xy]axis[0-9]*$/;for(var ye in be)we.test(ye)&&delete be[ye].range;m.extendLayout(F.layout,be),delete F.calcdata,m.supplyDefaults(F),m.doCalcdata(F);var me=a.expandObjectPaths(H);if(me){var Ae=F._fullLayout._plots;for(var ke in Ae){var fe=Ae[ke],le=fe.xaxis,de=fe.yaxis,Ce=le.range.slice(),Me=de.range.slice(),Le=null,Oe=null,Be=null,pe=null;Array.isArray(me[le._name+".range"])?Le=me[le._name+".range"].slice():Array.isArray((me[le._name]||{}).range)&&(Le=me[le._name].range.slice()),Array.isArray(me[de._name+".range"])?Oe=me[de._name+".range"].slice():Array.isArray((me[de._name]||{}).range)&&(Oe=me[de._name].range.slice()),Ce&&Le&&(le.r2l(Ce[0])!==le.r2l(Le[0])||le.r2l(Ce[1])!==le.r2l(Le[1]))&&(Be={xr0:Ce,xr1:Le}),Me&&Oe&&(de.r2l(Me[0])!==de.r2l(Oe[0])||de.r2l(Me[1])!==de.r2l(Oe[1]))&&(pe={yr0:Me,yr1:Oe}),(Be||pe)&&ee.push(a.extendFlat({plotinfo:fe},Be,pe))}}return Promise.resolve()},X.runFn=function(ie){var oe,ae,ce=F._fullLayout._basePlotModules,ge=ee.length;if(H)for(ae=0;ae<ce.length;ae++)ce[ae].transitionAxes&&ce[ae].transitionAxes(F,ee,K,ie);for(var ve in ge?((oe=a.extendFlat({},K)).duration=0,delete J.cartesian):oe=K,J){var be=J[ve];F._fullData[be[0]]._module.basePlotModule.plot(F,be,oe,ie)}},U(F,K,X)},m.transitionFromReact=function(F,V,H,te){var Q=F._fullLayout,K=Q.transition,X={},J=[];return X.prepareFn=function(){var ee=Q._plots;for(var ie in X.redraw=!1,V.anim==="some"&&(X.redraw=!0),H.anim==="some"&&(X.redraw=!0),ee){var oe=ee[ie],ae=oe.xaxis,ce=oe.yaxis,ge=te[ae._name].range.slice(),ve=te[ce._name].range.slice(),be=ae.range.slice(),we=ce.range.slice();ae.setScale(),ce.setScale();var ye=null,me=null;ae.r2l(ge[0])===ae.r2l(be[0])&&ae.r2l(ge[1])===ae.r2l(be[1])||(ye={xr0:ge,xr1:be}),ce.r2l(ve[0])===ce.r2l(we[0])&&ce.r2l(ve[1])===ce.r2l(we[1])||(me={yr0:ve,yr1:we}),(ye||me)&&J.push(a.extendFlat({plotinfo:oe},ye,me))}return Promise.resolve()},X.runFn=function(ee){for(var ie,oe,ae,ce=F._fullData,ge=F._fullLayout._basePlotModules,ve=[],be=0;be<ce.length;be++)ve.push(be);function we(){if(F._fullLayout)for(var me=0;me<ge.length;me++)ge[me].transitionAxes&&ge[me].transitionAxes(F,J,ie,ee)}function ye(){if(F._fullLayout)for(var me=0;me<ge.length;me++)ge[me].plot(F,ae,oe,ee)}J.length&&V.anim?K.ordering==="traces first"?(ie=a.extendFlat({},K,{duration:0}),ae=ve,oe=K,setTimeout(we,K.duration),ye()):(ie=K,ae=null,oe=a.extendFlat({},K,{duration:0}),setTimeout(ye,ie.duration),we()):J.length?(ie=K,we()):V.anim&&(ae=ve,oe=K,ye())},U(F,K,X)},m.doCalcdata=function(F,V){var H,te,Q,K,X=l.list(F),J=F._fullData,ee=F._fullLayout,ie=new Array(J.length),oe=(F.calcdata||[]).slice();for(F.calcdata=ie,ee._numBoxes=0,ee._numViolins=0,ee._violinScaleGroupStats={},F._hmpixcount=0,F._hmlumcount=0,ee._piecolormap={},ee._sunburstcolormap={},ee._treemapcolormap={},ee._iciclecolormap={},ee._funnelareacolormap={},Q=0;Q<J.length;Q++)Array.isArray(V)&&V.indexOf(Q)===-1&&(ie[Q]=oe[Q]);for(Q=0;Q<J.length;Q++)(H=J[Q])._arrayAttrs=s.findArrayAttributes(H),H._extremes={};var ae=ee._subplots.polar||[];for(Q=0;Q<ae.length;Q++)X.push(ee[ae[Q]].radialaxis,ee[ae[Q]].angularaxis);for(var ce in ee._colorAxes){var ge=ee[ce];ge.cauto!==!1&&(delete ge.cmin,delete ge.cmax)}var ve=!1;function be(me){if(H=J[me],te=H._module,H.visible===!0&&H.transforms){if(te&&te.calc){var Ae=te.calc(F,H);Ae[0]&&Ae[0].t&&Ae[0].t._scene&&delete Ae[0].t._scene.dirty}for(K=0;K<H.transforms.length;K++){var ke=H.transforms[K];(te=y[ke.type])&&te.calcTransform&&(H._hasCalcTransform=!0,ve=!0,te.calcTransform(F,H,ke))}}}function we(me,Ae){if(H=J[me],!!(te=H._module).isContainer===Ae){var ke=[];if(H.visible===!0&&H._length!==0){delete H._indexToPoints;var fe=H.transforms||[];for(K=fe.length-1;K>=0;K--)if(fe[K].enabled){H._indexToPoints=fe[K]._indexToPoints;break}te&&te.calc&&(ke=te.calc(F,H))}Array.isArray(ke)&&ke[0]||(ke=[{x:i,y:i}]),ke[0].t||(ke[0].t={}),ke[0].trace=H,ie[me]=ke}}for(j(X,J,ee),Q=0;Q<J.length;Q++)we(Q,!0);for(Q=0;Q<J.length;Q++)be(Q);for(ve&&j(X,J,ee),Q=0;Q<J.length;Q++)we(Q,!0);for(Q=0;Q<J.length;Q++)we(Q,!1);W(F);var ye=function(me,Ae){var ke,fe,le,de,Ce,Me=[];function Le(Je,ct,st){var je=ct._id.charAt(0);if(Je==="histogram2dcontour"){var Ue=ct._counterAxes[0],lt=l.getFromId(Ae,Ue),Qe=je==="x"||Ue==="x"&&lt.type==="category",gt=je==="y"||Ue==="y"&&lt.type==="category";return function(mt,xt){return mt===0||xt===0||Qe&&mt===st[xt].length-1||gt&&xt===st.length-1?-1:(je==="y"?xt:mt)-1}}return function(mt,xt){return je==="y"?xt:mt}}var Oe={min:function(Je){return a.aggNums(Math.min,null,Je)},max:function(Je){return a.aggNums(Math.max,null,Je)},sum:function(Je){return a.aggNums(function(ct,st){return ct+st},null,Je)},total:function(Je){return a.aggNums(function(ct,st){return ct+st},null,Je)},mean:function(Je){return a.mean(Je)},median:function(Je){return a.median(Je)}};function Be(Je,ct){return Je[1]-ct[1]}function pe(Je,ct){return ct[1]-Je[1]}for(ke=0;ke<me.length;ke++){var _e=me[ke];if(_e.type==="category"){var Te=_e.categoryorder.match(z);if(Te){var Re=Te[1],Ne=Te[2],ze=_e._id.charAt(0),Ge=ze==="x",Ye=[];for(fe=0;fe<_e._categories.length;fe++)Ye.push([_e._categories[fe],[]]);for(fe=0;fe<_e._traceIndices.length;fe++){var et=_e._traceIndices[fe],ut=Ae._fullData[et];if(ut.visible===!0){var ot=ut.type;f.traceIs(ut,"histogram")&&(delete ut._xautoBinFinished,delete ut._yautoBinFinished);var yt=ot==="splom",wt=ot==="scattergl",bt=Ae.calcdata[et];for(le=0;le<bt.length;le++){var at,rt,At=bt[le];if(yt){var Rt=ut._axesDim[_e._id];if(!Ge){var Ft=ut._diag[Rt][0];Ft&&(_e=Ae._fullLayout[l.id2name(Ft)])}var Dt=At.trace.dimensions[Rt].values;for(de=0;de<Dt.length;de++)for(at=_e._categoriesMap[Dt[de]],Ce=0;Ce<At.trace.dimensions.length;Ce++)if(Ce!==Rt){var Xe=At.trace.dimensions[Ce];Ye[at][1].push(Xe.values[de])}}else if(wt){for(de=0;de<At.t.x.length;de++)Ge?(at=At.t.x[de],rt=At.t.y[de]):(at=At.t.y[de],rt=At.t.x[de]),Ye[at][1].push(rt);At.t&&At.t._scene&&delete At.t._scene.dirty}else if(At.hasOwnProperty("z")){rt=At.z;var Ke=Le(ut.type,_e,rt);for(de=0;de<rt.length;de++)for(Ce=0;Ce<rt[de].length;Ce++)(at=Ke(Ce,de))+1&&Ye[at][1].push(rt[de][Ce])}else for((at=At.p)===void 0&&(at=At[ze]),(rt=At.s)===void 0&&(rt=At.v),rt===void 0&&(rt=Ge?At.y:At.x),Array.isArray(rt)||(rt=rt===void 0?[]:[rt]),de=0;de<rt.length;de++)Ye[at][1].push(rt[de])}}}_e._categoriesValue=Ye;var Ve=[];for(fe=0;fe<Ye.length;fe++)Ve.push([Ye[fe][0],Oe[Re](Ye[fe][1])]);Ve.sort(Ne==="descending"?pe:Be),_e._categoriesAggregatedValue=Ve,_e._initialCategories=Ve.map(function(Je){return Je[0]}),Me=Me.concat(_e.sortByInitialCategories())}}}return Me}(X,F);if(ye.length){for(ee._numBoxes=0,ee._numViolins=0,Q=0;Q<ye.length;Q++)we(ye[Q],!0);for(Q=0;Q<ye.length;Q++)we(ye[Q],!1);W(F)}f.getComponentMethod("fx","calc")(F),f.getComponentMethod("errorbars","calc")(F)};var z=/(total|sum|min|max|mean|median) (ascending|descending)/;function j(F,V,H){var te={};function Q(ee){ee.clearCalc(),ee.type==="multicategory"&&ee.setupMultiCategory(V),te[ee._id]=1}a.simpleMap(F,Q);for(var K=H._axisMatchGroups||[],X=0;X<K.length;X++)for(var J in K[X])te[J]||Q(H[l.id2name(J)])}function W(F){var V,H,te,Q=F._fullLayout,K=Q._visibleModules,X={};for(H=0;H<K.length;H++){var J=K[H],ee=J.crossTraceCalc;if(ee){var ie=J.basePlotModule.name;X[ie]?a.pushUnique(X[ie],ee):X[ie]=[ee]}}for(te in X){var oe=X[te],ae=Q._subplots[te];if(Array.isArray(ae))for(V=0;V<ae.length;V++){var ce=ae[V],ge=te==="cartesian"?Q._plots[ce]:Q[ce];for(H=0;H<oe.length;H++)oe[H](F,ge,ce)}else for(H=0;H<oe.length;H++)oe[H](F)}}m.rehover=function(F){F._fullLayout._rehover&&F._fullLayout._rehover()},m.redrag=function(F){F._fullLayout._redrag&&F._fullLayout._redrag()},m.reselect=function(F){var V=F._fullLayout,H=(F.layout||{}).selections,te=V._previousSelections;V._previousSelections=H;var Q=V._reselect||JSON.stringify(H)!==JSON.stringify(te);f.getComponentMethod("selections","reselect")(F,Q)},m.generalUpdatePerTraceModule=function(F,V,H,te){var Q,K=V.traceHash,X={};for(Q=0;Q<H.length;Q++){var J=H[Q],ee=J[0].trace;ee.visible&&(X[ee.type]=X[ee.type]||[],X[ee.type].push(J))}for(var ie in K)if(!X[ie]){var oe=K[ie][0];oe[0].trace.visible=!1,X[ie]=[oe]}for(var ae in X){var ce=X[ae];ce[0][0].trace._module.plot(F,V,a.filterVisible(ce),te)}V.traceHash=X},m.plotBasePlot=function(F,V,H,te,Q){var K=f.getModule(F),X=b(V.calcdata,K)[0];K.plot(V,X,te,Q)},m.cleanBasePlot=function(F,V,H,te,Q){var K=Q._has&&Q._has(F),X=H._has&&H._has(F);K&&!X&&Q["_"+F+"layer"].selectAll("g.trace").remove()}},39360:function(B){B.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(B,L,e){var k=e(3400),w=e(92065).tester,r=k.findIndexOfMin,_=k.isAngleInsideSector,v=k.angleDelta,f=k.angleDist;function s(i,l,o,u){var h,c,b=u[0],d=u[1],g=a(Math.sin(l)-Math.sin(i)),m=a(Math.cos(l)-Math.cos(i)),y=Math.tan(o),x=a(1/y),T=g/m,p=d-T*b;return x?g&&m?c=y*(h=p/(y-T)):m?(h=d*x,c=d):(h=b,c=b*y):g&&m?(h=0,c=p):m?(h=0,c=d):h=c=NaN,[h,c]}function t(i,l,o,u){return k.isFullCircle([l,o])?function(h,c){var b,d=c.length,g=new Array(d+1);for(b=0;b<d;b++){var m=c[b];g[b]=[h*Math.cos(m),h*Math.sin(m)]}return g[b]=g[0].slice(),g}(i,u):function(h,c,b,d){var g,m,y=d.length,x=[];function T(U){return[h*Math.cos(U),h*Math.sin(U)]}function p(U,z,j){return s(U,z,j,T(U))}function S(U){return k.mod(U,y)}function M(U){return _(U,[c,b])}var E=r(d,function(U){return M(U)?f(U,c):1/0}),P=p(d[E],d[S(E-1)],c);for(x.push(P),g=E,m=0;m<y;g++,m++){var O=d[S(g)];if(!M(O))break;x.push(T(O))}var I=r(d,function(U){return M(U)?f(U,b):1/0}),R=p(d[I],d[S(I+1)],b);return x.push(R),x.push([0,0]),x.push(x[0].slice()),x}(i,l,o,u)}function a(i){return Math.abs(i)>1e-10?i:0}function n(i,l,o){l=l||0,o=o||0;for(var u=i.length,h=new Array(u),c=0;c<u;c++){var b=i[c];h[c]=[l+b[0],o-b[1]]}return h}B.exports={isPtInsidePolygon:function(i,l,o,u,h){if(!_(l,u))return!1;var c,b;o[0]<o[1]?(c=o[0],b=o[1]):(c=o[1],b=o[0]);var d=w(t(c,u[0],u[1],h)),g=w(t(b,u[0],u[1],h)),m=[i*Math.cos(l),i*Math.sin(l)];return g.contains(m)&&!d.contains(m)},findPolygonOffset:function(i,l,o,u){for(var h=1/0,c=1/0,b=t(i,l,o,u),d=0;d<b.length;d++){var g=b[d];h=Math.min(h,g[0]),c=Math.min(c,-g[1])}return[h,c]},findEnclosingVertexAngles:function(i,l){var o=r(l,function(h){var c=v(h,i);return c>0?c:1/0}),u=k.mod(o+1,l.length);return[l[o],l[u]]},findIntersectionXY:s,findXYatLength:function(i,l,o,u){var h=-l*o,c=l*l+1,b=2*(l*h-o),d=h*h+o*o-i*i,g=Math.sqrt(b*b-4*c*d),m=(-b+g)/(2*c),y=(-b-g)/(2*c);return[[m,l*m+h+u],[y,l*y+h+u]]},clampTiny:a,pathPolygon:function(i,l,o,u,h,c){return"M"+n(t(i,l,o,u),h,c).join("L")},pathPolygonAnnulus:function(i,l,o,u,h,c,b){var d,g;i<l?(d=i,g=l):(d=l,g=i);var m=n(t(d,o,u,h),c,b);return"M"+n(t(g,o,u,h),c,b).reverse().join("L")+"M"+m.join("L")}}},40872:function(B,L,e){var k=e(84888).KY,w=e(3400).counterRegex,r=e(62400),_=e(39360),v=_.attr,f=_.name,s=w(f),t={};t[v]={valType:"subplotid",dflt:f,editType:"calc"},B.exports={attr:v,name:f,idRoot:f,idRegex:s,attrRegex:s,attributes:t,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:function(a){for(var n=a._fullLayout,i=a.calcdata,l=n._subplots[f],o=0;o<l.length;o++){var u=l[o],h=k(i,f,u),c=n[u]._subplot;c||(c=r(a,u),n[u]._subplot=c),c.plot(h,n,a._promises)}},clean:function(a,n,i,l){for(var o=l._subplots[f]||[],u=l._has&&l._has("gl"),h=n._has&&n._has("gl"),c=u&&!h,b=0;b<o.length;b++){var d=o[b],g=l[d]._subplot;if(!n[d]&&g)for(var m in g.framework.remove(),g.layers["radial-axis-title"].remove(),g.clipPaths)g.clipPaths[m].remove();c&&g._scene&&(g._scene.destroy(),g._scene=null)}},toSVG:e(57952).toSVG}},95300:function(B,L,e){var k=e(22548),w=e(94724),r=e(86968).u,_=e(3400).extendFlat,v=e(67824).overrideAll,f=v({color:w.color,showline:_({},w.showline,{dflt:!0}),linecolor:w.linecolor,linewidth:w.linewidth,showgrid:_({},w.showgrid,{dflt:!0}),gridcolor:w.gridcolor,gridwidth:w.gridwidth,griddash:w.griddash},"plot","from-root"),s=v({tickmode:w.minor.tickmode,nticks:w.nticks,tick0:w.tick0,dtick:w.dtick,tickvals:w.tickvals,ticktext:w.ticktext,ticks:w.ticks,ticklen:w.ticklen,tickwidth:w.tickwidth,tickcolor:w.tickcolor,ticklabelstep:w.ticklabelstep,showticklabels:w.showticklabels,labelalias:w.labelalias,showtickprefix:w.showtickprefix,tickprefix:w.tickprefix,showticksuffix:w.showticksuffix,ticksuffix:w.ticksuffix,showexponent:w.showexponent,exponentformat:w.exponentformat,minexponent:w.minexponent,separatethousands:w.separatethousands,tickfont:w.tickfont,tickangle:w.tickangle,tickformat:w.tickformat,tickformatstops:w.tickformatstops,layer:w.layer},"plot","from-root"),t={visible:_({},w.visible,{dflt:!0}),type:_({},w.type,{values:["-","linear","log","date","category"]}),autotypenumbers:w.autotypenumbers,autorangeoptions:{minallowed:w.autorangeoptions.minallowed,maxallowed:w.autorangeoptions.maxallowed,clipmin:w.autorangeoptions.clipmin,clipmax:w.autorangeoptions.clipmax,include:w.autorangeoptions.include,editType:"plot"},autorange:_({},w.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:_({},w.minallowed,{editType:"plot"}),maxallowed:_({},w.maxallowed,{editType:"plot"}),range:_({},w.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:w.categoryorder,categoryarray:w.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:w.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:_({},w.title.text,{editType:"plot",dflt:""}),font:_({},w.title.font,{editType:"plot"}),editType:"plot"},hoverformat:w.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:w._deprecated.title,titlefont:w._deprecated.titlefont}};_(t,f,s);var a={visible:_({},w.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:w.autotypenumbers,categoryorder:w.categoryorder,categoryarray:w.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:w.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};_(a,f,s),B.exports={domain:r({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:k.background},radialaxis:t,angularaxis:a,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(B,L,e){var k=e(3400),w=e(76308),r=e(31780),_=e(168),v=e(84888).op,f=e(26332),s=e(25404),t=e(95936),a=e(42568),n=e(22416),i=e(42136),l=e(76808),o=e(52976),u=e(95300),h=e(57696),c=e(39360),b=c.axisNames;function d(m,y,x,T){var p=x("bgcolor");T.bgColor=w.combine(p,T.paper_bgcolor);var S=x("sector");x("hole");var M,E=v(T.fullData,c.name,T.id),P=T.layoutOut;function O(ae,ce){return x(M+"."+ae,ce)}for(var I=0;I<b.length;I++){M=b[I],k.isPlainObject(m[M])||(m[M]={});var R=m[M],U=r.newContainer(y,M);U._id=U._name=M,U._attr=T.id+"."+M,U._traceIndices=E.map(function(ae){return ae._expandedIndex});var z=c.axisName2dataArray[M],j=g(R,U,O,E,z,T);n(R,U,O,{axData:E,dataAttr:z});var W=O("visible");switch(h(U,y,P),O("uirevision",y.uirevision),U._m=1,M){case"radialaxis":O("minallowed"),O("maxallowed");var F,V=O("range"),H=U.getAutorangeDflt(V),te=O("autorange",H);!V||(V[0]!==null||V[1]!==null)&&(V[0]!==null&&V[1]!==null||te!=="reversed"&&te!==!0)&&(V[0]===null||te!=="min"&&te!=="max reversed")&&(V[1]===null||te!=="max"&&te!=="min reversed")||(V=void 0,delete U.range,U.autorange=!0,F=!0),F||(te=O("autorange",H=U.getAutorangeDflt(V))),R.autorange=te,te&&(l(O,te,V),j!=="linear"&&j!=="-"||O("rangemode"),U.isReversed()&&(U._m=-1)),U.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(j==="date"){k.log("Polar plots do not support date angular axes yet.");for(var Q=0;Q<E.length;Q++)E[Q].visible=!1;j=R.type=U.type="linear"}O(j==="linear"?"thetaunit":"period");var K=O("direction");O("rotation",{counterclockwise:0,clockwise:90}[K])}if(a(R,U,O,U.type,{tickSuffixDflt:U.thetaunit==="degrees"?"":void 0}),W){var X,J,ee,ie,oe=T.font||{};J=(X=O("color"))===R.color?X:oe.color,ee=oe.size,ie=oe.family,f(R,U,O,U.type),t(R,U,O,U.type,{font:{color:J,size:ee,family:ie},noAutotickangles:M==="angularaxis"}),s(R,U,O,{outerTicks:!0}),i(R,U,O,{dfltColor:X,bgColor:T.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[M]}),O("layer"),M==="radialaxis"&&(O("side"),O("angle",S[0]),O("title.text"),k.coerceFont(O,"title.font",{color:J,size:k.bigFont(ee),family:ie}))}j!=="category"&&O("hoverformat"),U._input=R}y.angularaxis.type==="category"&&x("gridshape")}function g(m,y,x,T,p,S){var M=x("autotypenumbers",S.autotypenumbersDflt);if(x("type")==="-"){for(var E,P=0;P<T.length;P++)if(T[P].visible){E=T[P];break}E&&E[p]&&(y.type=o(E[p],"gregorian",{noMultiCategory:!0,autotypenumbers:M})),y.type==="-"?y.type="linear":m.type=y.type}return y.type}B.exports=function(m,y,x){_(m,y,x,{type:c.name,attributes:u,handleDefaults:d,font:y.font,autotypenumbersDflt:y.autotypenumbers,paper_bgcolor:y.paper_bgcolor,fullData:x,layoutOut:y})}},62400:function(B,L,e){var k=e(33428),w=e(49760),r=e(24040),_=e(3400),v=_.strRotate,f=_.strTranslate,s=e(76308),t=e(43616),a=e(7316),n=e(54460),i=e(78344),l=e(57696),o=e(19280).doAutoRange,u=e(51184),h=e(86476),c=e(93024),b=e(81668),d=e(22676).prepSelect,g=e(22676).selectOnClick,m=e(22676).clearOutline,y=e(93972),x=e(73696),T=e(39172).redrawReglTraces,p=e(84284).MID_SHIFT,S=e(39360),M=e(57384),E=e(36416),P=E.smith,O=E.reactanceArc,I=E.resistanceArc,R=E.smithTransform,U=_._,z=_.mod,j=_.deg2rad,W=_.rad2deg;function F(K,X,J){this.isSmith=J||!1,this.id=X,this.gd=K,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var ee=K._fullLayout,ie="clip"+ee._uid+X;this.clipIds.forTraces=ie+"-for-traces",this.clipPaths.forTraces=ee._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=ee["_"+(J?"smith":"polar")+"layer"].append("g").attr("class",X),this.getHole=function(oe){return this.isSmith?0:oe.hole},this.getSector=function(oe){return this.isSmith?[0,360]:oe.sector},this.getRadial=function(oe){return this.isSmith?oe.realaxis:oe.radialaxis},this.getAngular=function(oe){return this.isSmith?oe.imaginaryaxis:oe.angularaxis},J||(this.radialTickLayout=null,this.angularTickLayout=null)}var V=F.prototype;function H(K){var X=K.ticks+String(K.ticklen)+String(K.showticklabels);return"side"in K&&(X+=K.side),X}function te(K,X){return X[_.findIndexOfMin(X,function(J){return _.angleDist(K,J)})]}function Q(K,X,J){return X?(K.attr("display",null),K.attr(J)):K&&K.attr("display","none"),K}B.exports=function(K,X,J){return new F(K,X,J)},V.plot=function(K,X){for(var J=this,ee=X[J.id],ie=!1,oe=0;oe<K.length;oe++)if(K[oe][0].trace.cliponaxis===!1){ie=!0;break}J._hasClipOnAxisFalse=ie,J.updateLayers(X,ee),J.updateLayout(X,ee),a.generalUpdatePerTraceModule(J.gd,J,K,ee),J.updateFx(X,ee),J.isSmith&&(delete ee.realaxis.range,delete ee.imaginaryaxis.range)},V.updateLayers=function(K,X){var J=this,ee=J.isSmith,ie=J.layers,oe=J.getRadial(X),ae=J.getAngular(X),ce=S.layerNames,ge=ce.indexOf("frontplot"),ve=ce.slice(0,ge),be=ae.layer==="below traces",we=oe.layer==="below traces";be&&ve.push("angular-line"),we&&ve.push("radial-line"),be&&ve.push("angular-axis"),we&&ve.push("radial-axis"),ve.push("frontplot"),be||ve.push("angular-line"),we||ve.push("radial-line"),be||ve.push("angular-axis"),we||ve.push("radial-axis");var ye=(ee?"smith":"polar")+"sublayer",me=J.framework.selectAll("."+ye).data(ve,String);me.enter().append("g").attr("class",function(Ae){return ye+" "+Ae}).each(function(Ae){var ke=ie[Ae]=k.select(this);switch(Ae){case"frontplot":ee||ke.append("g").classed("barlayer",!0),ke.append("g").classed("scatterlayer",!0);break;case"backplot":ke.append("g").classed("maplayer",!0);break;case"plotbg":ie.bg=ke.append("path");break;case"radial-grid":case"angular-grid":ke.style("fill","none");break;case"radial-line":ke.append("line").style("fill","none");break;case"angular-line":ke.append("path").style("fill","none")}}),me.order()},V.updateLayout=function(K,X){var J=this,ee=J.layers,ie=K._size,oe=J.getRadial(X),ae=J.getAngular(X),ce=X.domain.x,ge=X.domain.y;J.xOffset=ie.l+ie.w*ce[0],J.yOffset=ie.t+ie.h*(1-ge[1]);var ve=J.xLength=ie.w*(ce[1]-ce[0]),be=J.yLength=ie.h*(ge[1]-ge[0]),we=J.getSector(X);J.sectorInRad=we.map(j);var ye,me,Ae,ke,fe,le=J.sectorBBox=function(ut){var ot,yt=ut[0],wt=ut[1]-yt,bt=z(yt,360),at=bt+wt,rt=Math.cos(j(bt)),At=Math.sin(j(bt)),Rt=Math.cos(j(at)),Ft=Math.sin(j(at));return ot=bt<=90&&at>=90||bt>90&&at>=450?1:At<=0&&Ft<=0?0:Math.max(At,Ft),[bt<=180&&at>=180||bt>180&&at>=540?-1:rt>=0&&Rt>=0?0:Math.min(rt,Rt),bt<=270&&at>=270||bt>270&&at>=630?-1:At>=0&&Ft>=0?0:Math.min(At,Ft),at>=360?1:rt<=0&&Rt<=0?0:Math.max(rt,Rt),ot]}(we),de=le[2]-le[0],Ce=le[3]-le[1],Me=be/ve,Le=Math.abs(Ce/de);Me>Le?(ye=ve,fe=(be-(me=ve*Le))/ie.h/2,Ae=[ce[0],ce[1]],ke=[ge[0]+fe,ge[1]-fe]):(me=be,fe=(ve-(ye=be/Le))/ie.w/2,Ae=[ce[0]+fe,ce[1]-fe],ke=[ge[0],ge[1]]),J.xLength2=ye,J.yLength2=me,J.xDomain2=Ae,J.yDomain2=ke;var Oe,Be=J.xOffset2=ie.l+ie.w*Ae[0],pe=J.yOffset2=ie.t+ie.h*(1-ke[1]),_e=J.radius=ye/de,Te=J.innerRadius=J.getHole(X)*_e,Re=J.cx=Be-_e*le[0],Ne=J.cy=pe+_e*le[3],ze=J.cxx=Re-Be,Ge=J.cyy=Ne-pe,Ye=oe.side;Ye==="counterclockwise"?(Oe=Ye,Ye="top"):Ye==="clockwise"&&(Oe=Ye,Ye="bottom"),J.radialAxis=J.mockAxis(K,X,oe,{_id:"x",side:Ye,_trueSide:Oe,domain:[Te/ie.w,_e/ie.w]}),J.angularAxis=J.mockAxis(K,X,ae,{side:"right",domain:[0,Math.PI],autorange:!1}),J.doAutoRange(K,X),J.updateAngularAxis(K,X),J.updateRadialAxis(K,X),J.updateRadialAxisTitle(K,X),J.xaxis=J.mockCartesianAxis(K,X,{_id:"x",domain:Ae}),J.yaxis=J.mockCartesianAxis(K,X,{_id:"y",domain:ke});var et=J.pathSubplot();J.clipPaths.forTraces.select("path").attr("d",et).attr("transform",f(ze,Ge)),ee.frontplot.attr("transform",f(Be,pe)).call(t.setClipUrl,J._hasClipOnAxisFalse?null:J.clipIds.forTraces,J.gd),ee.bg.attr("d",et).attr("transform",f(Re,Ne)).call(s.fill,X.bgcolor)},V.mockAxis=function(K,X,J,ee){var ie=_.extendFlat({},J,ee);return l(ie,X,K),ie},V.mockCartesianAxis=function(K,X,J){var ee=this,ie=ee.isSmith,oe=J._id,ae=_.extendFlat({type:"linear"},J);i(ae,K);var ce={x:[0,2],y:[1,3]};return ae.setRange=function(){var ge=ee.sectorBBox,ve=ce[oe],be=ee.radialAxis._rl,we=(be[1]-be[0])/(1-ee.getHole(X));ae.range=[ge[ve[0]]*we,ge[ve[1]]*we]},ae.isPtWithinRange=oe!=="x"||ie?function(){return!0}:function(ge){return ee.isPtInside(ge)},ae.setRange(),ae.setScale(),ae},V.doAutoRange=function(K,X){var J=this,ee=J.gd,ie=J.radialAxis,oe=J.getRadial(X);o(ee,ie);var ae=ie.range;if(oe.range=ae.slice(),oe._input.range=ae.slice(),ie._rl=[ie.r2l(ae[0],null,"gregorian"),ie.r2l(ae[1],null,"gregorian")],ie.minallowed!==void 0){var ce=ie.r2l(ie.minallowed);ie._rl[0]>ie._rl[1]?ie._rl[1]=Math.max(ie._rl[1],ce):ie._rl[0]=Math.max(ie._rl[0],ce)}if(ie.maxallowed!==void 0){var ge=ie.r2l(ie.maxallowed);ie._rl[0]<ie._rl[1]?ie._rl[1]=Math.min(ie._rl[1],ge):ie._rl[0]=Math.min(ie._rl[0],ge)}},V.updateRadialAxis=function(K,X){var J=this,ee=J.gd,ie=J.layers,oe=J.radius,ae=J.innerRadius,ce=J.cx,ge=J.cy,ve=J.getRadial(X),be=z(J.getSector(X)[0],360),we=J.radialAxis,ye=ae<oe,me=J.isSmith;me||(J.fillViewInitialKey("radialaxis.angle",ve.angle),J.fillViewInitialKey("radialaxis.range",we.range.slice()),we.setGeometry()),we.tickangle==="auto"&&be>90&&be<=270&&(we.tickangle=180);var Ae=me?function(pe){var _e=R(J,P([pe.x,0]));return f(_e[0]-ce,_e[1]-ge)}:function(pe){return f(we.l2p(pe.x)+ae,0)},ke=me?function(pe){return I(J,pe.x,-1/0,1/0)}:function(pe){return J.pathArc(we.r2p(pe.x)+ae)},fe=H(ve);if(J.radialTickLayout!==fe&&(ie["radial-axis"].selectAll(".xtick").remove(),J.radialTickLayout=fe),ye){we.setScale();var le=0,de=me?(we.tickvals||[]).filter(function(pe){return pe>=0}).map(function(pe){return n.tickText(we,pe,!0,!1)}):n.calcTicks(we),Ce=me?de:n.clipEnds(we,de),Me=n.getTickSigns(we)[2];me&&((we.ticks==="top"&&we.side==="bottom"||we.ticks==="bottom"&&we.side==="top")&&(Me=-Me),we.ticks==="top"&&we.side==="top"&&(le=-we.ticklen),we.ticks==="bottom"&&we.side==="bottom"&&(le=we.ticklen)),n.drawTicks(ee,we,{vals:de,layer:ie["radial-axis"],path:n.makeTickPath(we,0,Me),transFn:Ae,crisp:!1}),n.drawGrid(ee,we,{vals:Ce,layer:ie["radial-grid"],path:ke,transFn:_.noop,crisp:!1}),n.drawLabels(ee,we,{vals:de,layer:ie["radial-axis"],transFn:Ae,labelFns:n.makeLabelFns(we,le)})}var Le=J.radialAxisAngle=J.vangles?W(te(j(ve.angle),J.vangles)):ve.angle,Oe=f(ce,ge),Be=Oe+v(-Le);Q(ie["radial-axis"],ye&&(ve.showticklabels||ve.ticks),{transform:Be}),Q(ie["radial-grid"],ye&&ve.showgrid,{transform:me?"":Oe}),Q(ie["radial-line"].select("line"),ye&&ve.showline,{x1:me?-oe:ae,y1:0,x2:oe,y2:0,transform:Be}).attr("stroke-width",ve.linewidth).call(s.stroke,ve.linecolor)},V.updateRadialAxisTitle=function(K,X,J){if(!this.isSmith){var ee=this,ie=ee.gd,oe=ee.radius,ae=ee.cx,ce=ee.cy,ge=ee.getRadial(X),ve=ee.id+"title",be=0;if(ge.title){var we=t.bBox(ee.layers["radial-axis"].node()).height,ye=ge.title.font.size,me=ge.side;be=me==="top"?ye:me==="counterclockwise"?-(we+.4*ye):we+.8*ye}var Ae=J!==void 0?J:ee.radialAxisAngle,ke=j(Ae),fe=Math.cos(ke),le=Math.sin(ke),de=ae+oe/2*fe+be*le,Ce=ce-oe/2*le+be*fe;ee.layers["radial-axis-title"]=b.draw(ie,ve,{propContainer:ge,propName:ee.id+".radialaxis.title",placeholder:U(ie,"Click to enter radial axis title"),attributes:{x:de,y:Ce,"text-anchor":"middle"},transform:{rotate:-Ae}})}},V.updateAngularAxis=function(K,X){var J=this,ee=J.gd,ie=J.layers,oe=J.radius,ae=J.innerRadius,ce=J.cx,ge=J.cy,ve=J.getAngular(X),be=J.angularAxis,we=J.isSmith;we||(J.fillViewInitialKey("angularaxis.rotation",ve.rotation),be.setGeometry(),be.setScale());var ye=we?function(pe){var _e=R(J,P([0,pe.x]));return Math.atan2(_e[0]-ce,_e[1]-ge)-Math.PI/2}:function(pe){return be.t2g(pe.x)};be.type==="linear"&&be.thetaunit==="radians"&&(be.tick0=W(be.tick0),be.dtick=W(be.dtick));var me=function(pe){return f(ce+oe*Math.cos(pe),ge-oe*Math.sin(pe))},Ae=we?function(pe){var _e=R(J,P([0,pe.x]));return f(_e[0],_e[1])}:function(pe){return me(ye(pe))},ke=we?function(pe){var _e=R(J,P([0,pe.x])),Te=Math.atan2(_e[0]-ce,_e[1]-ge)-Math.PI/2;return f(_e[0],_e[1])+v(-W(Te))}:function(pe){var _e=ye(pe);return me(_e)+v(-W(_e))},fe=we?function(pe){return O(J,pe.x,0,1/0)}:function(pe){var _e=ye(pe),Te=Math.cos(_e),Re=Math.sin(_e);return"M"+[ce+ae*Te,ge-ae*Re]+"L"+[ce+oe*Te,ge-oe*Re]},le=n.makeLabelFns(be,0).labelStandoff,de={xFn:function(pe){var _e=ye(pe);return Math.cos(_e)*le},yFn:function(pe){var _e=ye(pe),Te=Math.sin(_e)>0?.2:1;return-Math.sin(_e)*(le+pe.fontSize*Te)+Math.abs(Math.cos(_e))*(pe.fontSize*p)},anchorFn:function(pe){var _e=ye(pe),Te=Math.cos(_e);return Math.abs(Te)<.1?"middle":Te>0?"start":"end"},heightFn:function(pe,_e,Te){var Re=ye(pe);return-.5*(1+Math.sin(Re))*Te}},Ce=H(ve);J.angularTickLayout!==Ce&&(ie["angular-axis"].selectAll("."+be._id+"tick").remove(),J.angularTickLayout=Ce);var Me,Le=we?[1/0].concat(be.tickvals||[]).map(function(pe){return n.tickText(be,pe,!0,!1)}):n.calcTicks(be);if(we&&(Le[0].text="",Le[0].fontSize*=1.75),X.gridshape==="linear"?(Me=Le.map(ye),_.angleDelta(Me[0],Me[1])<0&&(Me=Me.slice().reverse())):Me=null,J.vangles=Me,be.type==="category"&&(Le=Le.filter(function(pe){return _.isAngleInsideSector(ye(pe),J.sectorInRad)})),be.visible){var Oe=be.ticks==="inside"?-1:1,Be=(be.linewidth||1)/2;n.drawTicks(ee,be,{vals:Le,layer:ie["angular-axis"],path:"M"+Oe*Be+",0h"+Oe*be.ticklen,transFn:ke,crisp:!1}),n.drawGrid(ee,be,{vals:Le,layer:ie["angular-grid"],path:fe,transFn:_.noop,crisp:!1}),n.drawLabels(ee,be,{vals:Le,layer:ie["angular-axis"],repositionOnUpdate:!0,transFn:Ae,labelFns:de})}Q(ie["angular-line"].select("path"),ve.showline,{d:J.pathSubplot(),transform:f(ce,ge)}).attr("stroke-width",ve.linewidth).call(s.stroke,ve.linecolor)},V.updateFx=function(K,X){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(K),this.updateRadialDrag(K,X,0),this.updateRadialDrag(K,X,1)),this.updateHoverAndMainDrag(K))},V.updateHoverAndMainDrag=function(K){var X,J,ee=this,ie=ee.isSmith,oe=ee.gd,ae=ee.layers,ce=K._zoomlayer,ge=S.MINZOOM,ve=S.OFFEDGE,be=ee.radius,we=ee.innerRadius,ye=ee.cx,me=ee.cy,Ae=ee.cxx,ke=ee.cyy,fe=ee.sectorInRad,le=ee.vangles,de=ee.radialAxis,Ce=M.clampTiny,Me=M.findXYatLength,Le=M.findEnclosingVertexAngles,Oe=S.cornerHalfWidth,Be=S.cornerLen/2,pe=u.makeDragger(ae,"path","maindrag",K.dragmode===!1?"none":"crosshair");k.select(pe).attr("d",ee.pathSubplot()).attr("transform",f(ye,me)),pe.onmousemove=function(st){c.hover(oe,st,ee.id),oe._fullLayout._lasthover=pe,oe._fullLayout._hoversubplot=ee.id},pe.onmouseout=function(st){oe._dragging||h.unhover(oe,st)};var _e,Te,Re,Ne,ze,Ge,Ye,et,ut,ot={element:pe,gd:oe,subplot:ee.id,plotinfo:{id:ee.id,xaxis:ee.xaxis,yaxis:ee.yaxis},xaxes:[ee.xaxis],yaxes:[ee.yaxis]};function yt(st,je){return Math.sqrt(st*st+je*je)}function wt(st,je){return yt(st-Ae,je-ke)}function bt(st,je){return Math.atan2(ke-je,st-Ae)}function at(st,je){return[st*Math.cos(je),st*Math.sin(-je)]}function rt(st,je){if(st===0)return ee.pathSector(2*Oe);var Ue=Be/st,lt=je-Ue,Qe=je+Ue,gt=Math.max(0,Math.min(st,be)),mt=gt-Oe,xt=gt+Oe;return"M"+at(mt,lt)+"A"+[mt,mt]+" 0,0,0 "+at(mt,Qe)+"L"+at(xt,Qe)+"A"+[xt,xt]+" 0,0,1 "+at(xt,lt)+"Z"}function At(st,je,Ue){if(st===0)return ee.pathSector(2*Oe);var lt,Qe,gt=at(st,je),mt=at(st,Ue),xt=Ce((gt[0]+mt[0])/2),dt=Ce((gt[1]+mt[1])/2);if(xt&&dt){var Lt=dt/xt,kt=-1/Lt,_t=Me(Oe,Lt,xt,dt);lt=Me(Be,kt,_t[0][0],_t[0][1]),Qe=Me(Be,kt,_t[1][0],_t[1][1])}else{var Ot,Pt;dt?(Ot=Be,Pt=Oe):(Ot=Oe,Pt=Be),lt=[[xt-Ot,dt-Pt],[xt+Ot,dt-Pt]],Qe=[[xt-Ot,dt+Pt],[xt+Ot,dt+Pt]]}return"M"+lt.join("L")+"L"+Qe.reverse().join("L")+"Z"}function Rt(st,je){return je=Math.max(Math.min(je,be),we),st<ve?st=0:be-st<ve?st=be:je<ve?je=0:be-je<ve&&(je=be),Math.abs(je-st)>ge?(st<je?(Re=st,Ne=je):(Re=je,Ne=st),!0):(Re=null,Ne=null,!1)}function Ft(st,je){st=st||ze,je=je||"M0,0Z",et.attr("d",st),ut.attr("d",je),u.transitionZoombox(et,ut,Ge,Ye),Ge=!0;var Ue={};Je(Ue),oe.emit("plotly_relayouting",Ue)}function Dt(st,je){var Ue,lt,Qe=_e+(st*=X),gt=Te+(je*=J),mt=wt(_e,Te),xt=Math.min(wt(Qe,gt),be),dt=bt(_e,Te);Rt(mt,xt)&&(Ue=ze+ee.pathSector(Ne),Re&&(Ue+=ee.pathSector(Re)),lt=rt(Re,dt)+rt(Ne,dt)),Ft(Ue,lt)}function Xe(st,je,Ue,lt){var Qe=M.findIntersectionXY(Ue,lt,Ue,[st-Ae,ke-je]);return yt(Qe[0],Qe[1])}function Ke(st,je){var Ue,lt,Qe=_e+st,gt=Te+je,mt=bt(_e,Te),xt=bt(Qe,gt),dt=Le(mt,le),Lt=Le(xt,le);Rt(Xe(_e,Te,dt[0],dt[1]),Math.min(Xe(Qe,gt,Lt[0],Lt[1]),be))&&(Ue=ze+ee.pathSector(Ne),Re&&(Ue+=ee.pathSector(Re)),lt=[At(Re,dt[0],dt[1]),At(Ne,dt[0],dt[1])].join(" ")),Ft(Ue,lt)}function Ve(){if(u.removeZoombox(oe),Re!==null&&Ne!==null){var st={};Je(st),u.showDoubleClickNotifier(oe),r.call("_guiRelayout",oe,st)}}function Je(st){var je=de._rl,Ue=(je[1]-je[0])/(1-we/be)/be,lt=[je[0]+(Re-we)*Ue,je[0]+(Ne-we)*Ue];st[ee.id+".radialaxis.range"]=lt}function ct(st,je){var Ue=oe._fullLayout.clickmode;if(u.removeZoombox(oe),st===2){var lt={};for(var Qe in ee.viewInitial)lt[ee.id+"."+Qe]=ee.viewInitial[Qe];oe.emit("plotly_doubleclick",null),r.call("_guiRelayout",oe,lt)}Ue.indexOf("select")>-1&&st===1&&g(je,oe,[ee.xaxis],[ee.yaxis],ee.id,ot),Ue.indexOf("event")>-1&&c.click(oe,je,ee.id)}ot.prepFn=function(st,je,Ue){var lt=oe._fullLayout.dragmode,Qe=pe.getBoundingClientRect();oe._fullLayout._calcInverseTransform(oe);var gt=oe._fullLayout._invTransform;X=oe._fullLayout._invScaleX,J=oe._fullLayout._invScaleY;var mt=_.apply3DTransform(gt)(je-Qe.left,Ue-Qe.top);if(_e=mt[0],Te=mt[1],le){var xt=M.findPolygonOffset(be,fe[0],fe[1],le);_e+=Ae+xt[0],Te+=ke+xt[1]}switch(lt){case"zoom":ot.clickFn=ct,ie||(ot.moveFn=le?Ke:Dt,ot.doneFn=Ve,function(){Re=null,Ne=null,ze=ee.pathSubplot(),Ge=!1;var dt=oe._fullLayout[ee.id];Ye=w(dt.bgcolor).getLuminance(),(et=u.makeZoombox(ce,Ye,ye,me,ze)).attr("fill-rule","evenodd"),ut=u.makeCorners(ce,ye,me),m(oe)}());break;case"select":case"lasso":d(st,je,Ue,ot,lt)}},h.init(ot)},V.updateRadialDrag=function(K,X,J){var ee=this,ie=ee.gd,oe=ee.layers,ae=ee.radius,ce=ee.innerRadius,ge=ee.cx,ve=ee.cy,be=ee.radialAxis,we=S.radialDragBoxSize,ye=we/2;if(be.visible){var me,Ae,ke,fe=j(ee.radialAxisAngle),le=be._rl,de=le[0],Ce=le[1],Me=le[J],Le=.75*(le[1]-le[0])/(1-ee.getHole(X))/ae;J?(me=ge+(ae+ye)*Math.cos(fe),Ae=ve-(ae+ye)*Math.sin(fe),ke="radialdrag"):(me=ge+(ce-ye)*Math.cos(fe),Ae=ve-(ce-ye)*Math.sin(fe),ke="radialdrag-inner");var Oe,Be,pe,_e=u.makeRectDragger(oe,ke,"crosshair",-ye,-ye,we,we),Te={element:_e,gd:ie};K.dragmode===!1&&(Te.dragmode=!1),Q(k.select(_e),be.visible&&ce<ae,{transform:f(me,Ae)}),Te.prepFn=function(){Oe=null,Be=null,pe=null,Te.moveFn=Re,Te.doneFn=Ne,m(ie)},Te.clampFn=function(Ye,et){return Math.sqrt(Ye*Ye+et*et)<S.MINDRAG&&(Ye=0,et=0),[Ye,et]},h.init(Te)}function Re(Ye,et){if(Oe)Oe(Ye,et);else{var ut=[Ye,-et],ot=[Math.cos(fe),Math.sin(fe)],yt=Math.abs(_.dot(ut,ot)/Math.sqrt(_.dot(ut,ut)));isNaN(yt)||(Oe=yt<.5?ze:Ge)}var wt={};(function(bt){Be!==null?bt[ee.id+".radialaxis.angle"]=Be:pe!==null&&(bt[ee.id+".radialaxis.range["+J+"]"]=pe)})(wt),ie.emit("plotly_relayouting",wt)}function Ne(){Be!==null?r.call("_guiRelayout",ie,ee.id+".radialaxis.angle",Be):pe!==null&&r.call("_guiRelayout",ie,ee.id+".radialaxis.range["+J+"]",pe)}function ze(Ye,et){if(J!==0){var ut=me+Ye,ot=Ae+et;Be=Math.atan2(ve-ot,ut-ge),ee.vangles&&(Be=te(Be,ee.vangles)),Be=W(Be);var yt=f(ge,ve)+v(-Be);oe["radial-axis"].attr("transform",yt),oe["radial-line"].select("line").attr("transform",yt);var wt=ee.gd._fullLayout,bt=wt[ee.id];ee.updateRadialAxisTitle(wt,bt,Be)}}function Ge(Ye,et){var ut=_.dot([Ye,-et],[Math.cos(fe),Math.sin(fe)]);if(pe=Me-Le*ut,Le>0==(J?pe>de:pe<Ce)){var ot=ie._fullLayout,yt=ot[ee.id];be.range[J]=pe,be._rl[J]=pe,ee.updateRadialAxis(ot,yt),ee.xaxis.setRange(),ee.xaxis.setScale(),ee.yaxis.setRange(),ee.yaxis.setScale();var wt=!1;for(var bt in ee.traceHash){var at=ee.traceHash[bt],rt=_.filterVisible(at);at[0][0].trace._module.plot(ie,ee,rt,yt),r.traceIs(bt,"gl")&&rt.length&&(wt=!0)}wt&&(x(ie),T(ie))}else pe=null}},V.updateAngularDrag=function(K){var X=this,J=X.gd,ee=X.layers,ie=X.radius,oe=X.angularAxis,ae=X.cx,ce=X.cy,ge=X.cxx,ve=X.cyy,be=S.angularDragBoxSize,we=u.makeDragger(ee,"path","angulardrag",K.dragmode===!1?"none":"move"),ye={element:we,gd:J};function me(Te,Re){return Math.atan2(ve+be-Re,Te-ge-be)}K.dragmode===!1?ye.dragmode=!1:k.select(we).attr("d",X.pathAnnulus(ie,ie+be)).attr("transform",f(ae,ce)).call(y,"move");var Ae,ke,fe,le,de,Ce,Me=ee.frontplot.select(".scatterlayer").selectAll(".trace"),Le=Me.selectAll(".point"),Oe=Me.selectAll(".textpoint");function Be(Te,Re){var Ne=X.gd._fullLayout,ze=Ne[X.id],Ge=me(Ae+Te*K._invScaleX,ke+Re*K._invScaleY),Ye=W(Ge-Ce);if(le=fe+Ye,ee.frontplot.attr("transform",f(X.xOffset2,X.yOffset2)+v([-Ye,ge,ve])),X.vangles){de=X.radialAxisAngle+Ye;var et=f(ae,ce)+v(-Ye),ut=f(ae,ce)+v(-de);ee.bg.attr("transform",et),ee["radial-grid"].attr("transform",et),ee["radial-axis"].attr("transform",ut),ee["radial-line"].select("line").attr("transform",ut),X.updateRadialAxisTitle(Ne,ze,de)}else X.clipPaths.forTraces.select("path").attr("transform",f(ge,ve)+v(Ye));Le.each(function(){var rt=k.select(this),At=t.getTranslate(rt);rt.attr("transform",f(At.x,At.y)+v([Ye]))}),Oe.each(function(){var rt=k.select(this),At=rt.select("text"),Rt=t.getTranslate(rt);rt.attr("transform",v([Ye,At.attr("x"),At.attr("y")])+f(Rt.x,Rt.y))}),oe.rotation=_.modHalf(le,360),X.updateAngularAxis(Ne,ze),X._hasClipOnAxisFalse&&!_.isFullCircle(X.sectorInRad)&&Me.call(t.hideOutsideRangePoints,X);var ot=!1;for(var yt in X.traceHash)if(r.traceIs(yt,"gl")){var wt=X.traceHash[yt],bt=_.filterVisible(wt);wt[0][0].trace._module.plot(J,X,bt,ze),bt.length&&(ot=!0)}ot&&(x(J),T(J));var at={};pe(at),J.emit("plotly_relayouting",at)}function pe(Te){Te[X.id+".angularaxis.rotation"]=le,X.vangles&&(Te[X.id+".radialaxis.angle"]=de)}function _e(){Oe.select("text").attr("transform",null);var Te={};pe(Te),r.call("_guiRelayout",J,Te)}ye.prepFn=function(Te,Re,Ne){var ze=K[X.id];fe=ze.angularaxis.rotation;var Ge=we.getBoundingClientRect();Ae=Re-Ge.left,ke=Ne-Ge.top,J._fullLayout._calcInverseTransform(J);var Ye=_.apply3DTransform(K._invTransform)(Ae,ke);Ae=Ye[0],ke=Ye[1],Ce=me(Ae,ke),ye.moveFn=Be,ye.doneFn=_e,m(J)},X.vangles&&!_.isFullCircle(X.sectorInRad)&&(ye.prepFn=_.noop,y(k.select(we),null)),h.init(ye)},V.isPtInside=function(K){if(this.isSmith)return!0;var X=this.sectorInRad,J=this.vangles,ee=this.angularAxis.c2g(K.theta),ie=this.radialAxis,oe=ie.c2l(K.r),ae=ie._rl;return(J?M.isPtInsidePolygon:_.isPtInsideSector)(oe,ee,ae,X,J)},V.pathArc=function(K){var X=this.sectorInRad,J=this.vangles;return(J?M.pathPolygon:_.pathArc)(K,X[0],X[1],J)},V.pathSector=function(K){var X=this.sectorInRad,J=this.vangles;return(J?M.pathPolygon:_.pathSector)(K,X[0],X[1],J)},V.pathAnnulus=function(K,X){var J=this.sectorInRad,ee=this.vangles;return(ee?M.pathPolygonAnnulus:_.pathAnnulus)(K,X,J[0],J[1],ee)},V.pathSubplot=function(){var K=this.innerRadius,X=this.radius;return K?this.pathAnnulus(K,X):this.pathSector(X)},V.fillViewInitialKey=function(K,X){K in this.viewInitial||(this.viewInitial[K]=X)}},57696:function(B,L,e){var k=e(3400),w=e(78344),r=k.deg2rad,_=k.rad2deg;B.exports=function(v,f,s){switch(w(v,s),v._id){case"x":case"radialaxis":(function(t,a){var n=a._subplot;t.setGeometry=function(){var i=t._rl[0],l=t._rl[1],o=n.innerRadius,u=(n.radius-o)/(l-i),h=o/u,c=i>l?function(b){return b<=0}:function(b){return b>=0};t.c2g=function(b){var d=t.c2l(b)-i;return(c(d)?d:0)+h},t.g2c=function(b){return t.l2c(b+i-h)},t.g2p=function(b){return b*u},t.c2p=function(b){return t.g2p(t.c2g(b))}}})(v,f);break;case"angularaxis":(function(t,a){var n=t.type;if(n==="linear"){var i=t.d2c,l=t.c2d;t.d2c=function(o,u){return function(h,c){return c==="degrees"?r(h):h}(i(o),u)},t.c2d=function(o,u){return l(function(h,c){return c==="degrees"?_(h):h}(o,u))}}t.makeCalcdata=function(o,u){var h,c,b=o[u],d=o._length,g=function(p){return t.d2c(p,o.thetaunit)};if(b)for(h=new Array(d),c=0;c<d;c++)h[c]=g(b[c]);else{var m=u+"0",y="d"+u,x=m in o?g(o[m]):0,T=o[y]?g(o[y]):(t.period||2*Math.PI)/d;for(h=new Array(d),c=0;c<d;c++)h[c]=x+c*T}return h},t.setGeometry=function(){var o,u,h,c,b=a.sector,d=b.map(r),g={clockwise:-1,counterclockwise:1}[t.direction],m=r(t.rotation),y=function(S){return g*S+m},x=function(S){return(S-m)/g};switch(n){case"linear":u=o=k.identity,c=r,h=_,t.range=k.isFullCircle(d)?[b[0],b[0]+360]:d.map(x).map(_);break;case"category":var T=t._categories.length,p=t.period?Math.max(t.period,T):T;p===0&&(p=1),u=c=function(S){return 2*S*Math.PI/p},o=h=function(S){return S*p/Math.PI/2},t.range=[0,p]}t.c2g=function(S){return y(u(S))},t.g2c=function(S){return o(x(S))},t.t2g=function(S){return y(c(S))},t.g2t=function(S){return h(x(S))}}})(v,f)}}},55012:function(B){B.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(B){function L(r){return r<0?-1:r>0?1:0}function e(r){var _=r[0],v=r[1];if(!isFinite(_)||!isFinite(v))return[1,0];var f=(_+1)*(_+1)+v*v;return[(_*_+v*v-1)/f,2*v/f]}function k(r,_){var v=_[0],f=_[1];return[v*r.radius+r.cx,-f*r.radius+r.cy]}function w(r,_){return _*r.radius}B.exports={smith:e,reactanceArc:function(r,_,v,f){var s=k(r,e([v,_])),t=s[0],a=s[1],n=k(r,e([f,_])),i=n[0],l=n[1];if(_===0)return["M"+t+","+a,"L"+i+","+l].join(" ");var o=w(r,1/Math.abs(_));return["M"+t+","+a,"A"+o+","+o+" 0 0,"+(_<0?1:0)+" "+i+","+l].join(" ")},resistanceArc:function(r,_,v,f){var s=w(r,1/(_+1)),t=k(r,e([_,v])),a=t[0],n=t[1],i=k(r,e([_,f])),l=i[0],o=i[1];if(L(v)!==L(f)){var u=k(r,e([_,0]));return["M"+a+","+n,"A"+s+","+s+" 0 0,"+(0<v?0:1)+" "+u[0]+","+u[1],"A"+s+","+s+" 0 0,"+(f<0?0:1)+l+","+o].join(" ")}return["M"+a+","+n,"A"+s+","+s+" 0 0,"+(f<v?0:1)+" "+l+","+o].join(" ")},smithTransform:k}},47788:function(B,L,e){var k=e(84888).KY,w=e(3400).counterRegex,r=e(62400),_=e(55012),v=_.attr,f=_.name,s=w(f),t={};t[v]={valType:"subplotid",dflt:f,editType:"calc"},B.exports={attr:v,name:f,idRoot:f,idRegex:s,attrRegex:s,attributes:t,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:function(a){for(var n=a._fullLayout,i=a.calcdata,l=n._subplots[f],o=0;o<l.length;o++){var u=l[o],h=k(i,f,u),c=n[u]._subplot;c||(c=r(a,u,!0),n[u]._subplot=c),c.plot(h,n,a._promises)}},clean:function(a,n,i,l){for(var o=l._subplots[f]||[],u=0;u<o.length;u++){var h=o[u],c=l[h]._subplot;if(!n[h]&&c)for(var b in c.framework.remove(),c.clipPaths)c.clipPaths[b].remove()}},toSVG:e(57952).toSVG}},6183:function(B,L,e){var k=e(22548),w=e(94724),r=e(86968).u,_=e(3400).extendFlat,v=e(67824).overrideAll,f=v({color:w.color,showline:_({},w.showline,{dflt:!0}),linecolor:w.linecolor,linewidth:w.linewidth,showgrid:_({},w.showgrid,{dflt:!0}),gridcolor:w.gridcolor,gridwidth:w.gridwidth,griddash:w.griddash},"plot","from-root"),s=v({ticklen:w.ticklen,tickwidth:_({},w.tickwidth,{dflt:2}),tickcolor:w.tickcolor,showticklabels:w.showticklabels,labelalias:w.labelalias,showtickprefix:w.showtickprefix,tickprefix:w.tickprefix,showticksuffix:w.showticksuffix,ticksuffix:w.ticksuffix,tickfont:w.tickfont,tickformat:w.tickformat,hoverformat:w.hoverformat,layer:w.layer},"plot","from-root"),t=_({visible:_({},w.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:_({},w.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},f,s),a=_({visible:_({},w.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:w.ticks,editType:"calc"},f,s);B.exports={domain:r({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:k.background},realaxis:t,imaginaryaxis:a,editType:"calc"}},22836:function(B,L,e){var k,w,r,_=e(3400),v=e(76308),f=e(31780),s=e(168),t=e(84888).op,a=e(42568),n=e(95936),i=e(42136),l=e(78344),o=e(6183),u=e(55012),h=u.axisNames,c=(k=function(d){return _.isTypedArray(d)&&(d=Array.from(d)),d.slice().reverse().map(function(g){return-g}).concat([0]).concat(d)},w=String,r={},function(d){var g=w?w(d):d;if(g in r)return r[g];var m=k(d);return r[g]=m,m});function b(d,g,m,y){var x=m("bgcolor");y.bgColor=v.combine(x,y.paper_bgcolor);var T,p=t(y.fullData,u.name,y.id),S=y.layoutOut;function M(V,H){return m(T+"."+V,H)}for(var E=0;E<h.length;E++){T=h[E],_.isPlainObject(d[T])||(d[T]={});var P=d[T],O=f.newContainer(g,T);O._id=O._name=T,O._attr=y.id+"."+T,O._traceIndices=p.map(function(V){return V._expandedIndex});var I=M("visible");if(O.type="linear",l(O,S),a(P,O,M,O.type),I){var R,U,z,j,W=T==="realaxis";W&&M("side"),W?M("tickvals"):M("tickvals",c(g.realaxis.tickvals||o.realaxis.tickvals.dflt)),_.isTypedArray(O.tickvals)&&(O.tickvals=Array.from(O.tickvals));var F=y.font||{};I&&(U=(R=M("color"))===P.color?R:F.color,z=F.size,j=F.family),n(P,O,M,O.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!W,noExp:!0,font:{color:U,size:z,family:j}}),_.coerce2(d,g,o,T+".ticklen"),_.coerce2(d,g,o,T+".tickwidth"),_.coerce2(d,g,o,T+".tickcolor",g.color),M("ticks")||(delete g[T].ticklen,delete g[T].tickwidth,delete g[T].tickcolor),i(P,O,M,{dfltColor:R,bgColor:y.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:o[T]}),M("layer")}M("hoverformat"),delete O.type,O._input=P}}B.exports=function(d,g,m){s(d,g,m,{noUirevision:!0,type:u.name,attributes:o,handleDefaults:b,font:g.font,paper_bgcolor:g.paper_bgcolor,fullData:m,layoutOut:g})}},168:function(B,L,e){var k=e(3400),w=e(31780),r=e(86968).Q;B.exports=function(_,v,f,s){var t,a,n=s.type,i=s.attributes,l=s.handleDefaults,o=s.partition||"x",u=v._subplots[n],h=u.length,c=h&&u[0].replace(/\d+$/,"");function b(y,x){return k.coerce(t,a,i,y,x)}for(var d=0;d<h;d++){var g=u[d];t=_[g]?_[g]:_[g]={},a=w.newContainer(v,g,c),s.noUirevision||b("uirevision",v.uirevision);var m={};m[o]=[d/h,(d+1)/h],r(a,v,b,m),s.id=g,l(t,a,b,s)}}},21776:function(B,L,e){var k=e(26880);function w(r){var _=r.description?" "+r.description:"",v=r.keys||[];if(v.length>0){for(var f=[],s=0;s<v.length;s++)f[s]="`"+v[s]+"`";_+="Finally, the template string has access to ",_=v.length===1?_+"variable "+f[0]:_+"variables "+f.slice(0,-1).join(", ")+" and "+f.slice(-1)+"."}return _}k.FORMAT_LINK,k.DATE_FORMAT_LINK,L.Ks=function(r,_){r=r||{},w(_=_||{});var v={valType:"string",dflt:"",editType:r.editType||"none"};return r.arrayOk!==!1&&(v.arrayOk=!0),v},L.Gw=function(r,_){r=r||{},w(_=_||{});var v={valType:"string",dflt:"",editType:r.editType||"calc"};return r.arrayOk!==!1&&(v.arrayOk=!0),v},L.ye=function(r,_){return _=_||{},(r=r||{}).newshape,w(_),{valType:"string",dflt:"",editType:r.editType||"arraydraw"}}},19352:function(B,L,e){var k=e(24696),w=e(84888).KY,r=e(3400).counterRegex,_="ternary";L.name=_;var v=L.attr="subplot";L.idRoot=_,L.idRegex=L.attrRegex=r(_),(L.attributes={})[v]={valType:"subplotid",dflt:"ternary",editType:"calc"},L.layoutAttributes=e(86379),L.supplyLayoutDefaults=e(38536),L.plot=function(f){for(var s=f._fullLayout,t=f.calcdata,a=s._subplots[_],n=0;n<a.length;n++){var i=a[n],l=w(t,_,i),o=s[i]._subplot;o||(o=new k({id:i,graphDiv:f,container:s._ternarylayer.node()},s),s[i]._subplot=o),o.plot(l,s,f._promises)}},L.clean=function(f,s,t,a){for(var n=a._subplots[_]||[],i=0;i<n.length;i++){var l=n[i],o=a[l]._subplot;!s[l]&&o&&(o.plotContainer.remove(),o.clipDef.remove(),o.clipDefRelative.remove(),o.layers["a-title"].remove(),o.layers["b-title"].remove(),o.layers["c-title"].remove())}}},86379:function(B,L,e){var k=e(22548),w=e(86968).u,r=e(94724),_=e(67824).overrideAll,v=e(92880).extendFlat,f={title:{text:r.title.text,font:r.title.font},color:r.color,tickmode:r.minor.tickmode,nticks:v({},r.nticks,{dflt:6,min:1}),tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:r.ticks,ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,ticklabelstep:r.ticklabelstep,showticklabels:r.showticklabels,labelalias:r.labelalias,showtickprefix:r.showtickprefix,tickprefix:r.tickprefix,showticksuffix:r.showticksuffix,ticksuffix:r.ticksuffix,showexponent:r.showexponent,exponentformat:r.exponentformat,minexponent:r.minexponent,separatethousands:r.separatethousands,tickfont:r.tickfont,tickangle:r.tickangle,tickformat:r.tickformat,tickformatstops:r.tickformatstops,hoverformat:r.hoverformat,showline:v({},r.showline,{dflt:!0}),linecolor:r.linecolor,linewidth:r.linewidth,showgrid:v({},r.showgrid,{dflt:!0}),gridcolor:r.gridcolor,gridwidth:r.gridwidth,griddash:r.griddash,layer:r.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:r._deprecated.title,titlefont:r._deprecated.titlefont}},s=B.exports=_({domain:w({name:"ternary"}),bgcolor:{valType:"color",dflt:k.background},sum:{valType:"number",dflt:1,min:0},aaxis:f,baxis:f,caxis:f},"plot","from-root");s.uirevision={valType:"any",editType:"none"},s.aaxis.uirevision=s.baxis.uirevision=s.caxis.uirevision={valType:"any",editType:"none"}},38536:function(B,L,e){var k=e(76308),w=e(31780),r=e(3400),_=e(168),v=e(95936),f=e(42568),s=e(25404),t=e(26332),a=e(42136),n=e(86379),i=["aaxis","baxis","caxis"];function l(u,h,c,b){var d,g,m,y=c("bgcolor"),x=c("sum");b.bgColor=k.combine(y,b.paper_bgcolor);for(var T=0;T<i.length;T++)g=u[d=i[T]]||{},(m=w.newContainer(h,d))._name=d,o(g,m,b,h);var p=h.aaxis,S=h.baxis,M=h.caxis;p.min+S.min+M.min>=x&&(p.min=0,S.min=0,M.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function o(u,h,c,b){var d=n[h._name];function g(S,M){return r.coerce(u,h,d,S,M)}g("uirevision",b.uirevision),h.type="linear";var m=g("color"),y=m!==d.color.dflt?m:c.font.color,x=h._name.charAt(0).toUpperCase(),T="Component "+x,p=g("title.text",T);h._hovertitle=p===T?p:x,r.coerceFont(g,"title.font",{family:c.font.family,size:r.bigFont(c.font.size),color:y}),g("min"),t(u,h,g,"linear"),f(u,h,g,"linear"),v(u,h,g,"linear",{noAutotickangles:!0}),s(u,h,g,{outerTicks:!0}),g("showticklabels")&&(r.coerceFont(g,"tickfont",{family:c.font.family,size:c.font.size,color:y}),g("tickangle"),g("tickformat")),a(u,h,g,{dfltColor:m,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:d}),g("hoverformat"),g("layer")}B.exports=function(u,h,c){_(u,h,c,{type:"ternary",attributes:n,handleDefaults:l,font:h.font,paper_bgcolor:h.paper_bgcolor})}},24696:function(B,L,e){var k=e(33428),w=e(49760),r=e(24040),_=e(3400),v=_.strTranslate,f=_._,s=e(76308),t=e(43616),a=e(78344),n=e(92880).extendFlat,i=e(7316),l=e(54460),o=e(86476),u=e(93024),h=e(72760),c=h.freeMode,b=h.rectMode,d=e(81668),g=e(22676).prepSelect,m=e(22676).selectOnClick,y=e(22676).clearOutline,x=e(22676).clearSelectionsCache,T=e(33816);function p(z,j){this.id=z.id,this.graphDiv=z.graphDiv,this.init(j),this.makeFramework(j),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}B.exports=p;var S=p.prototype;S.init=function(z){this.container=z._ternarylayer,this.defs=z._defs,this.layoutId=z._uid,this.traceHash={},this.layers={}},S.plot=function(z,j){var W=this,F=j[W.id],V=j._size;W._hasClipOnAxisFalse=!1;for(var H=0;H<z.length;H++)if(z[H][0].trace.cliponaxis===!1){W._hasClipOnAxisFalse=!0;break}W.updateLayers(F),W.adjustLayout(F,V),i.generalUpdatePerTraceModule(W.graphDiv,W,z,F),W.layers.plotbg.select("path").call(s.fill,F.bgcolor)},S.makeFramework=function(z){var j=this,W=j.graphDiv,F=z[j.id],V=j.clipId="clip"+j.layoutId+j.id,H=j.clipIdRelative="clip-relative"+j.layoutId+j.id;j.clipDef=_.ensureSingleById(z._clips,"clipPath",V,function(te){te.append("path").attr("d","M0,0Z")}),j.clipDefRelative=_.ensureSingleById(z._clips,"clipPath",H,function(te){te.append("path").attr("d","M0,0Z")}),j.plotContainer=_.ensureSingle(j.container,"g",j.id),j.updateLayers(F),t.setClipUrl(j.layers.backplot,V,W),t.setClipUrl(j.layers.grids,V,W)},S.updateLayers=function(z){var j=this.layers,W=["draglayer","plotbg","backplot","grids"];z.aaxis.layer==="below traces"&&W.push("aaxis","aline"),z.baxis.layer==="below traces"&&W.push("baxis","bline"),z.caxis.layer==="below traces"&&W.push("caxis","cline"),W.push("frontplot"),z.aaxis.layer==="above traces"&&W.push("aaxis","aline"),z.baxis.layer==="above traces"&&W.push("baxis","bline"),z.caxis.layer==="above traces"&&W.push("caxis","cline");var F=this.plotContainer.selectAll("g.toplevel").data(W,String),V=["agrid","bgrid","cgrid"];F.enter().append("g").attr("class",function(H){return"toplevel "+H}).each(function(H){var te=k.select(this);j[H]=te,H==="frontplot"?te.append("g").classed("scatterlayer",!0):H==="backplot"?te.append("g").classed("maplayer",!0):H==="plotbg"?te.append("path").attr("d","M0,0Z"):H==="aline"||H==="bline"||H==="cline"?te.append("path"):H==="grids"&&V.forEach(function(Q){j[Q]=te.append("g").classed("grid "+Q,!0)})}),F.order()};var M=Math.sqrt(4/3);S.adjustLayout=function(z,j){var W,F,V,H,te,Q,K=this,X=z.domain,J=(X.x[0]+X.x[1])/2,ee=(X.y[0]+X.y[1])/2,ie=X.x[1]-X.x[0],oe=X.y[1]-X.y[0],ae=ie*j.w,ce=oe*j.h,ge=z.sum,ve=z.aaxis.min,be=z.baxis.min,we=z.caxis.min;ae>M*ce?V=(H=ce)*M:H=(V=ae)/M,te=ie*V/ae,Q=oe*H/ce,W=j.l+j.w*J-V/2,F=j.t+j.h*(1-ee)-H/2,K.x0=W,K.y0=F,K.w=V,K.h=H,K.sum=ge,K.xaxis={type:"linear",range:[ve+2*we-ge,ge-ve-2*be],domain:[J-te/2,J+te/2],_id:"x"},a(K.xaxis,K.graphDiv._fullLayout),K.xaxis.setScale(),K.xaxis.isPtWithinRange=function(Oe){return Oe.a>=K.aaxis.range[0]&&Oe.a<=K.aaxis.range[1]&&Oe.b>=K.baxis.range[1]&&Oe.b<=K.baxis.range[0]&&Oe.c>=K.caxis.range[1]&&Oe.c<=K.caxis.range[0]},K.yaxis={type:"linear",range:[ve,ge-be-we],domain:[ee-Q/2,ee+Q/2],_id:"y"},a(K.yaxis,K.graphDiv._fullLayout),K.yaxis.setScale(),K.yaxis.isPtWithinRange=function(){return!0};var ye=K.yaxis.domain[0],me=K.aaxis=n({},z.aaxis,{range:[ve,ge-be-we],side:"left",tickangle:(+z.aaxis.tickangle||0)-30,domain:[ye,ye+Q*M],anchor:"free",position:0,_id:"y",_length:V});a(me,K.graphDiv._fullLayout),me.setScale();var Ae=K.baxis=n({},z.baxis,{range:[ge-ve-we,be],side:"bottom",domain:K.xaxis.domain,anchor:"free",position:0,_id:"x",_length:V});a(Ae,K.graphDiv._fullLayout),Ae.setScale();var ke=K.caxis=n({},z.caxis,{range:[ge-ve-be,we],side:"right",tickangle:(+z.caxis.tickangle||0)+30,domain:[ye,ye+Q*M],anchor:"free",position:0,_id:"y",_length:V});a(ke,K.graphDiv._fullLayout),ke.setScale();var fe="M"+W+","+(F+H)+"h"+V+"l-"+V/2+",-"+H+"Z";K.clipDef.select("path").attr("d",fe),K.layers.plotbg.select("path").attr("d",fe);var le="M0,"+H+"h"+V+"l-"+V/2+",-"+H+"Z";K.clipDefRelative.select("path").attr("d",le);var de=v(W,F);K.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",de),K.clipDefRelative.select("path").attr("transform",null);var Ce=v(W-Ae._offset,F+H);K.layers.baxis.attr("transform",Ce),K.layers.bgrid.attr("transform",Ce);var Me=v(W+V/2,F)+"rotate(30)"+v(0,-me._offset);K.layers.aaxis.attr("transform",Me),K.layers.agrid.attr("transform",Me);var Le=v(W+V/2,F)+"rotate(-30)"+v(0,-ke._offset);K.layers.caxis.attr("transform",Le),K.layers.cgrid.attr("transform",Le),K.drawAxes(!0),K.layers.aline.select("path").attr("d",me.showline?"M"+W+","+(F+H)+"l"+V/2+",-"+H:"M0,0").call(s.stroke,me.linecolor||"#000").style("stroke-width",(me.linewidth||0)+"px"),K.layers.bline.select("path").attr("d",Ae.showline?"M"+W+","+(F+H)+"h"+V:"M0,0").call(s.stroke,Ae.linecolor||"#000").style("stroke-width",(Ae.linewidth||0)+"px"),K.layers.cline.select("path").attr("d",ke.showline?"M"+(W+V/2)+","+F+"l"+V/2+","+H:"M0,0").call(s.stroke,ke.linecolor||"#000").style("stroke-width",(ke.linewidth||0)+"px"),K.graphDiv._context.staticPlot||K.initInteractions(),t.setClipUrl(K.layers.frontplot,K._hasClipOnAxisFalse?null:K.clipId,K.graphDiv)},S.drawAxes=function(z){var j=this,W=j.graphDiv,F=j.id.substr(7)+"title",V=j.layers,H=j.aaxis,te=j.baxis,Q=j.caxis;if(j.drawAx(H),j.drawAx(te),j.drawAx(Q),z){var K=Math.max(H.showticklabels?H.tickfont.size/2:0,(Q.showticklabels?.75*Q.tickfont.size:0)+(Q.ticks==="outside"?.87*Q.ticklen:0)),X=(te.showticklabels?te.tickfont.size:0)+(te.ticks==="outside"?te.ticklen:0)+3;V["a-title"]=d.draw(W,"a"+F,{propContainer:H,propName:j.id+".aaxis.title",placeholder:f(W,"Click to enter Component A title"),attributes:{x:j.x0+j.w/2,y:j.y0-H.title.font.size/3-K,"text-anchor":"middle"}}),V["b-title"]=d.draw(W,"b"+F,{propContainer:te,propName:j.id+".baxis.title",placeholder:f(W,"Click to enter Component B title"),attributes:{x:j.x0-X,y:j.y0+j.h+.83*te.title.font.size+X,"text-anchor":"middle"}}),V["c-title"]=d.draw(W,"c"+F,{propContainer:Q,propName:j.id+".caxis.title",placeholder:f(W,"Click to enter Component C title"),attributes:{x:j.x0+j.w+X,y:j.y0+j.h+.83*Q.title.font.size+X,"text-anchor":"middle"}})}},S.drawAx=function(z){var j,W=this,F=W.graphDiv,V=z._name,H=V.charAt(0),te=z._id,Q=W.layers[V],K=H+"tickLayout",X=(j=z).ticks+String(j.ticklen)+String(j.showticklabels);W[K]!==X&&(Q.selectAll("."+te+"tick").remove(),W[K]=X),z.setScale();var J=l.calcTicks(z),ee=l.clipEnds(z,J),ie=l.makeTransTickFn(z),oe=l.getTickSigns(z)[2],ae=_.deg2rad(30),ce=oe*(z.linewidth||1)/2,ge=oe*z.ticklen,ve=W.w,be=W.h,we=H==="b"?"M0,"+ce+"l"+Math.sin(ae)*ge+","+Math.cos(ae)*ge:"M"+ce+",0l"+Math.cos(ae)*ge+","+-Math.sin(ae)*ge,ye={a:"M0,0l"+be+",-"+ve/2,b:"M0,0l-"+ve/2+",-"+be,c:"M0,0l-"+be+","+ve/2}[H];l.drawTicks(F,z,{vals:z.ticks==="inside"?ee:J,layer:Q,path:we,transFn:ie,crisp:!1}),l.drawGrid(F,z,{vals:ee,layer:W.layers[H+"grid"],path:ye,transFn:ie,crisp:!1}),l.drawLabels(F,z,{vals:J,layer:Q,transFn:ie,labelFns:l.makeLabelFns(z,0,30)})};var E=T.MINZOOM/2+.87,P="m-0.87,.5h"+E+"v3h-"+(E+5.2)+"l"+(E/2+2.6)+",-"+(.87*E+4.5)+"l2.6,1.5l-"+E/2+","+.87*E+"Z",O="m0.87,.5h-"+E+"v3h"+(E+5.2)+"l-"+(E/2+2.6)+",-"+(.87*E+4.5)+"l-2.6,1.5l"+E/2+","+.87*E+"Z",I="m0,1l"+E/2+","+.87*E+"l2.6,-1.5l-"+(E/2+2.6)+",-"+(.87*E+4.5)+"l-"+(E/2+2.6)+","+(.87*E+4.5)+"l2.6,1.5l"+E/2+",-"+.87*E+"Z",R=!0;function U(z){k.select(z).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}S.clearOutline=function(){x(this.dragOptions),y(this.dragOptions.gd)},S.initInteractions=function(){var z,j,W,F,V,H,te,Q,K,X,J,ee,ie=this,oe=ie.layers.plotbg.select("path").node(),ae=ie.graphDiv,ce=ae._fullLayout._zoomlayer;function ge(le){var de={};return de[ie.id+".aaxis.min"]=le.a,de[ie.id+".baxis.min"]=le.b,de[ie.id+".caxis.min"]=le.c,de}function ve(le,de){var Ce=ae._fullLayout.clickmode;U(ae),le===2&&(ae.emit("plotly_doubleclick",null),r.call("_guiRelayout",ae,ge({a:0,b:0,c:0}))),Ce.indexOf("select")>-1&&le===1&&m(de,ae,[ie.xaxis],[ie.yaxis],ie.id,ie.dragOptions),Ce.indexOf("event")>-1&&u.click(ae,de,ie.id)}function be(le,de){return 1-de/ie.h}function we(le,de){return 1-(le+(ie.h-de)/Math.sqrt(3))/ie.w}function ye(le,de){return(le-(ie.h-de)/Math.sqrt(3))/ie.w}function me(le,de){var Ce=W+le*z,Me=F+de*j,Le=Math.max(0,Math.min(1,be(0,F),be(0,Me))),Oe=Math.max(0,Math.min(1,we(W,F),we(Ce,Me))),Be=Math.max(0,Math.min(1,ye(W,F),ye(Ce,Me))),pe=(Le/2+Be)*ie.w,_e=(1-Le/2-Oe)*ie.w,Te=(pe+_e)/2,Re=_e-pe,Ne=(1-Le)*ie.h,ze=Ne-Re/M;Re<T.MINZOOM?(te=V,J.attr("d",K),ee.attr("d","M0,0Z")):(te={a:V.a+Le*H,b:V.b+Oe*H,c:V.c+Be*H},J.attr("d",K+"M"+pe+","+Ne+"H"+_e+"L"+Te+","+ze+"L"+pe+","+Ne+"Z"),ee.attr("d","M"+W+","+F+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+pe+","+Ne+P+"M"+_e+","+Ne+O+"M"+Te+","+ze+I)),X||(J.transition().style("fill",Q>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ee.transition().style("opacity",1).duration(200),X=!0),ae.emit("plotly_relayouting",ge(te))}function Ae(){U(ae),te!==V&&(r.call("_guiRelayout",ae,ge(te)),R&&ae.data&&ae._context.showTips&&(_.notifier(f(ae,"Double-click to zoom back out"),"long"),R=!1))}function ke(le,de){var Ce=le/ie.xaxis._m,Me=de/ie.yaxis._m,Le=[(te={a:V.a-Me,b:V.b+(Ce+Me)/2,c:V.c-(Ce-Me)/2}).a,te.b,te.c].sort(_.sorterAsc),Oe=Le.indexOf(te.a),Be=Le.indexOf(te.b),pe=Le.indexOf(te.c);Le[0]<0&&(Le[1]+Le[0]/2<0?(Le[2]+=Le[0]+Le[1],Le[0]=Le[1]=0):(Le[2]+=Le[0]/2,Le[1]+=Le[0]/2,Le[0]=0),te={a:Le[Oe],b:Le[Be],c:Le[pe]},de=(V.a-te.a)*ie.yaxis._m,le=(V.c-te.c-V.b+te.b)*ie.xaxis._m);var _e=v(ie.x0+le,ie.y0+de);ie.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",_e);var Te=v(-le,-de);ie.clipDefRelative.select("path").attr("transform",Te),ie.aaxis.range=[te.a,ie.sum-te.b-te.c],ie.baxis.range=[ie.sum-te.a-te.c,te.b],ie.caxis.range=[ie.sum-te.a-te.b,te.c],ie.drawAxes(!1),ie._hasClipOnAxisFalse&&ie.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,ie),ae.emit("plotly_relayouting",ge(te))}function fe(){r.call("_guiRelayout",ae,ge(te))}this.dragOptions={element:oe,gd:ae,plotinfo:{id:ie.id,domain:ae._fullLayout[ie.id].domain,xaxis:ie.xaxis,yaxis:ie.yaxis},subplot:ie.id,prepFn:function(le,de,Ce){ie.dragOptions.xaxes=[ie.xaxis],ie.dragOptions.yaxes=[ie.yaxis],z=ae._fullLayout._invScaleX,j=ae._fullLayout._invScaleY;var Me=ie.dragOptions.dragmode=ae._fullLayout.dragmode;c(Me)?ie.dragOptions.minDrag=1:ie.dragOptions.minDrag=void 0,Me==="zoom"?(ie.dragOptions.moveFn=me,ie.dragOptions.clickFn=ve,ie.dragOptions.doneFn=Ae,function(Le,Oe,Be){var pe=oe.getBoundingClientRect();W=Oe-pe.left,F=Be-pe.top,ae._fullLayout._calcInverseTransform(ae);var _e=ae._fullLayout._invTransform,Te=_.apply3DTransform(_e)(W,F);W=Te[0],F=Te[1],V={a:ie.aaxis.range[0],b:ie.baxis.range[1],c:ie.caxis.range[1]},te=V,H=ie.aaxis.range[1]-V.a,Q=w(ie.graphDiv._fullLayout[ie.id].bgcolor).getLuminance(),K="M0,"+ie.h+"L"+ie.w/2+", 0L"+ie.w+","+ie.h+"Z",X=!1,J=ce.append("path").attr("class","zoombox").attr("transform",v(ie.x0,ie.y0)).style({fill:Q>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",K),ee=ce.append("path").attr("class","zoombox-corners").attr("transform",v(ie.x0,ie.y0)).style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),ie.clearOutline(ae)}(0,de,Ce)):Me==="pan"?(ie.dragOptions.moveFn=ke,ie.dragOptions.clickFn=ve,ie.dragOptions.doneFn=fe,V={a:ie.aaxis.range[0],b:ie.baxis.range[1],c:ie.caxis.range[1]},te=V,ie.clearOutline(ae)):(b(Me)||c(Me))&&g(le,de,Ce,ie.dragOptions,Me)}},oe.onmousemove=function(le){u.hover(ae,le,ie.id),ae._fullLayout._lasthover=oe,ae._fullLayout._hoversubplot=ie.id},oe.onmouseout=function(le){ae._dragging||o.unhover(ae,le)},o.init(this.dragOptions)}},24040:function(B,L,e){var k=e(24248),w=e(16628),r=e(52416),_=e(63620),v=e(52200).addStyleRule,f=e(92880),s=e(45464),t=e(64859),a=f.extendFlat,n=f.extendDeepAll;function i(m){var y=m.name,x=m.categories,T=m.meta;if(L.modules[y])k.log("Type "+y+" already registered");else{L.subplotsRegistry[m.basePlotModule.name]||function(R){var U=R.name;if(L.subplotsRegistry[U])k.log("Plot type "+U+" already registered.");else for(var z in h(R),L.subplotsRegistry[U]=R,L.componentsRegistry)d(z,R.name)}(m.basePlotModule);for(var p={},S=0;S<x.length;S++)p[x[S]]=!0,L.allCategories[x[S]]=!0;for(var M in L.modules[y]={_module:m,categories:p},T&&Object.keys(T).length&&(L.modules[y].meta=T),L.allTypes.push(y),L.componentsRegistry)c(M,y);m.layoutAttributes&&a(L.traceLayoutAttributes,m.layoutAttributes);var E=m.basePlotModule,P=E.name;if(P==="mapbox"){var O=E.constants.styleRules;for(var I in O)v(".js-plotly-plot .plotly .mapboxgl-"+I,O[I])}P!=="geo"&&P!=="mapbox"||window.PlotlyGeoAssets!==void 0||(window.PlotlyGeoAssets={topojson:{}})}}function l(m){if(typeof m.name!="string")throw new Error("Component module *name* must be a string.");var y=m.name;for(var x in L.componentsRegistry[y]=m,m.layoutAttributes&&(m.layoutAttributes._isLinkedToArray&&r(L.layoutArrayContainers,y),h(m)),L.modules)c(y,x);for(var T in L.subplotsRegistry)d(y,T);for(var p in L.transformsRegistry)b(y,p);m.schema&&m.schema.layout&&n(t,m.schema.layout)}function o(m){if(typeof m.name!="string")throw new Error("Transform module *name* must be a string.");var y="Transform module "+m.name,x=typeof m.transform=="function",T=typeof m.calcTransform=="function";if(!x&&!T)throw new Error(y+" is missing a *transform* or *calcTransform* method.");for(var p in x&&T&&k.log([y+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),_(m.attributes)||k.log(y+" registered without an *attributes* object."),typeof m.supplyDefaults!="function"&&k.log(y+" registered without a *supplyDefaults* method."),L.transformsRegistry[m.name]=m,L.componentsRegistry)b(p,m.name)}function u(m){var y=m.name,x=y.split("-")[0],T=m.dictionary,p=m.format,S=T&&Object.keys(T).length,M=p&&Object.keys(p).length,E=L.localeRegistry,P=E[y];if(P||(E[y]=P={}),x!==y){var O=E[x];O||(E[x]=O={}),S&&O.dictionary===P.dictionary&&(O.dictionary=T),M&&O.format===P.format&&(O.format=p)}S&&(P.dictionary=T),M&&(P.format=p)}function h(m){if(m.layoutAttributes){var y=m.layoutAttributes._arrayAttrRegexps;if(y)for(var x=0;x<y.length;x++)r(L.layoutArrayRegexes,y[x])}}function c(m,y){var x=L.componentsRegistry[m].schema;if(x&&x.traces){var T=x.traces[y];T&&n(L.modules[y]._module.attributes,T)}}function b(m,y){var x=L.componentsRegistry[m].schema;if(x&&x.transforms){var T=x.transforms[y];T&&n(L.transformsRegistry[y].attributes,T)}}function d(m,y){var x=L.componentsRegistry[m].schema;if(x&&x.subplots){var T=L.subplotsRegistry[y],p=T.layoutAttributes,S=T.attr==="subplot"?T.name:T.attr;Array.isArray(S)&&(S=S[0]);var M=x.subplots[S];p&&M&&n(p,M)}}function g(m){return typeof m=="object"&&(m=m.type),m}L.modules={},L.allCategories={},L.allTypes=[],L.subplotsRegistry={},L.transformsRegistry={},L.componentsRegistry={},L.layoutArrayContainers=[],L.layoutArrayRegexes=[],L.traceLayoutAttributes={},L.localeRegistry={},L.apiMethodRegistry={},L.collectableSubplotTypes=null,L.register=function(m){if(L.collectableSubplotTypes=null,!m)throw new Error("No argument passed to Plotly.register.");m&&!Array.isArray(m)&&(m=[m]);for(var y=0;y<m.length;y++){var x=m[y];if(!x)throw new Error("Invalid module was attempted to be registered!");switch(x.moduleType){case"trace":i(x);break;case"transform":o(x);break;case"component":l(x);break;case"locale":u(x);break;case"apiMethod":var T=x.name;L.apiMethodRegistry[T]=x.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},L.getModule=function(m){var y=L.modules[g(m)];return!!y&&y._module},L.traceIs=function(m,y){if((m=g(m))==="various")return!1;var x=L.modules[m];return x||(m&&k.log("Unrecognized trace type "+m+"."),x=L.modules[s.type.dflt]),!!x.categories[y]},L.getTransformIndices=function(m,y){for(var x=[],T=m.transforms||[],p=0;p<T.length;p++)T[p].type===y&&x.push(p);return x},L.hasTransform=function(m,y){for(var x=m.transforms||[],T=0;T<x.length;T++)if(x[T].type===y)return!0;return!1},L.getComponentMethod=function(m,y){var x=L.componentsRegistry[m];return x&&x[y]||w},L.call=function(){var m=arguments[0],y=[].slice.call(arguments,1);return L.apiMethodRegistry[m].apply(null,y)}},91536:function(B,L,e){var k=e(24040),w=e(3400),r=w.extendFlat,_=w.extendDeep;function v(f){var s;switch(f){case"themes__thumb":s={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":s={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:s={}}return s}B.exports=function(f,s){var t,a,n=f.data,i=f.layout,l=_([],n),o=_({},i,v(s.tileClass)),u=f._context||{};if(s.width&&(o.width=s.width),s.height&&(o.height=s.height),s.tileClass==="thumbnail"||s.tileClass==="themes__thumb"){o.annotations=[];var h=Object.keys(o);for(t=0;t<h.length;t++)a=h[t],["xaxis","yaxis","zaxis"].indexOf(a.slice(0,5))>-1&&(o[h[t]].title={text:""});for(t=0;t<l.length;t++){var c=l[t];c.showscale=!1,c.marker&&(c.marker.showscale=!1),k.traceIs(c,"pie-like")&&(c.textposition="none")}}if(Array.isArray(s.annotations))for(t=0;t<s.annotations.length;t++)o.annotations.push(s.annotations[t]);var b=Object.keys(o).filter(function(x){return x.match(/^scene\d*$/)});if(b.length){var d={};for(s.tileClass==="thumbnail"&&(d={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),t=0;t<b.length;t++){var g=o[b[t]];g.xaxis||(g.xaxis={}),g.yaxis||(g.yaxis={}),g.zaxis||(g.zaxis={}),r(g.xaxis,d),r(g.yaxis,d),r(g.zaxis,d),g._scene=null}}var m=document.createElement("div");s.tileClass&&(m.className=s.tileClass);var y={gd:m,td:m,layout:o,data:l,config:{staticPlot:s.staticPlot===void 0||s.staticPlot,plotGlPixelRatio:s.plotGlPixelRatio===void 0?2:s.plotGlPixelRatio,displaylogo:s.displaylogo||!1,showLink:s.showLink||!1,showTips:s.showTips||!1,mapboxAccessToken:u.mapboxAccessToken}};return s.setBackground!=="transparent"&&(y.config.setBackground=s.setBackground||"opaque"),y.gd.defaultLayout=v(s.tileClass),y}},39792:function(B,L,e){var k=e(3400),w=e(67024),r=e(48616),_=e(81792);B.exports=function(v,f){var s;return k.isPlainObject(v)||(s=k.getGraphDiv(v)),(f=f||{}).format=f.format||"png",f.width=f.width||null,f.height=f.height||null,f.imageDataOnly=!0,new Promise(function(t,a){s&&s._snapshotInProgress&&a(new Error("Snapshotting already in progress.")),k.isIE()&&f.format!=="svg"&&a(new Error(_.MSG_IE_BAD_FORMAT)),s&&(s._snapshotInProgress=!0);var n=w(v,f),i=f.filename||v.fn||"newplot";i+="."+f.format.replace("-","."),n.then(function(l){return s&&(s._snapshotInProgress=!1),r(l,i,f.format)}).then(function(l){t(l)}).catch(function(l){s&&(s._snapshotInProgress=!1),a(l)})})}},48616:function(B,L,e){var k=e(3400),w=e(81792);B.exports=function(r,_,v){var f=document.createElement("a"),s="download"in f;return new Promise(function(t,a){var n,i;if(k.isIE())return n=w.createBlob(r,"svg"),window.navigator.msSaveBlob(n,_),n=null,t(_);if(s)return n=w.createBlob(r,v),i=w.createObjectURL(n),f.href=i,f.download=_,document.body.appendChild(f),f.click(),document.body.removeChild(f),w.revokeObjectURL(i),n=null,t(_);if(k.isSafari()){var l=v==="svg"?",":";base64,";return w.octetStream(l+encodeURIComponent(r)),t(_)}a(new Error("download error"))})}},81792:function(B,L,e){var k=e(24040);L.getDelay=function(r){return r._has&&(r._has("gl3d")||r._has("gl2d")||r._has("mapbox"))?500:0},L.getRedrawFunc=function(r){return function(){k.getComponentMethod("colorbar","draw")(r)}},L.encodeSVG=function(r){return"data:image/svg+xml,"+encodeURIComponent(r)},L.encodeJSON=function(r){return"data:application/json,"+encodeURIComponent(r)};var w=window.URL||window.webkitURL;L.createObjectURL=function(r){return w.createObjectURL(r)},L.revokeObjectURL=function(r){return w.revokeObjectURL(r)},L.createBlob=function(r,_){if(_==="svg")return new window.Blob([r],{type:"image/svg+xml;charset=utf-8"});if(_==="full-json")return new window.Blob([r],{type:"application/json;charset=utf-8"});var v=function(f){for(var s=f.length,t=new ArrayBuffer(s),a=new Uint8Array(t),n=0;n<s;n++)a[n]=f.charCodeAt(n);return t}(window.atob(r));return new window.Blob([v],{type:"image/"+_})},L.octetStream=function(r){document.location.href="data:application/octet-stream"+r},L.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,L.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(B,L,e){var k=e(81792),w={getDelay:k.getDelay,getRedrawFunc:k.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};B.exports=w},63268:function(B,L,e){var k=e(3400),w=e(61252).EventEmitter,r=e(81792);B.exports=function(_){var v=_.emitter||new w,f=new Promise(function(s,t){var a=window.Image,n=_.svg,i=_.format||"png";if(k.isIE()&&i!=="svg"){var l=new Error(r.MSG_IE_BAD_FORMAT);return t(l),_.promise?f:v.emit("error",l)}var o,u,h=_.canvas,c=_.scale||1,b=_.width||300,d=_.height||150,g=c*b,m=c*d,y=h.getContext("2d",{willReadFrequently:!0}),x=new a;i==="svg"||k.isSafari()?u=r.encodeSVG(n):(o=r.createBlob(n,"svg"),u=r.createObjectURL(o)),h.width=g,h.height=m,x.onload=function(){var T;switch(o=null,r.revokeObjectURL(u),i!=="svg"&&y.drawImage(x,0,0,g,m),i){case"jpeg":T=h.toDataURL("image/jpeg");break;case"png":T=h.toDataURL("image/png");break;case"webp":T=h.toDataURL("image/webp");break;case"svg":T=u;break;default:var p="Image format is not jpeg, png, svg or webp.";if(t(new Error(p)),!_.promise)return v.emit("error",p)}s(T),_.promise||v.emit("success",T)},x.onerror=function(T){if(o=null,r.revokeObjectURL(u),t(T),!_.promise)return v.emit("error",T)},x.src=u});return _.promise?f:v}},61808:function(B,L,e){var k=e(61252).EventEmitter,w=e(24040),r=e(3400),_=e(81792),v=e(91536),f=e(37164),s=e(63268);B.exports=function(t,a){var n=new k,i=v(t,{format:"png"}),l=i.gd;l.style.position="absolute",l.style.left="-5000px",document.body.appendChild(l);var o=_.getRedrawFunc(l);return w.call("_doPlot",l,i.data,i.layout,i.config).then(o).then(function(){var u=_.getDelay(l._fullLayout);setTimeout(function(){var h=f(l),c=document.createElement("canvas");c.id=r.randstr(),(n=s({format:a.format,width:l._fullLayout.width,height:l._fullLayout.height,canvas:c,emitter:n,svg:h})).clean=function(){l&&document.body.removeChild(l)}},u)}).catch(function(u){n.emit("error",u)}),n}},37164:function(B,L,e){var k=e(33428),w=e(3400),r=e(43616),_=e(76308),v=e(9616),f=/"/g,s="TOBESTRIPPED",t=new RegExp('("'+s+")|("+s+'")',"g");B.exports=function(a,n,i){var l,o=a._fullLayout,u=o._paper,h=o._toppaper,c=o.width,b=o.height;u.insert("rect",":first-child").call(r.setRect,0,0,c,b).call(_.fill,o.paper_bgcolor);var d=o._basePlotModules||[];for(l=0;l<d.length;l++){var g=d[l];g.toSVG&&g.toSVG(a)}if(h){var m=h.node().childNodes,y=Array.prototype.slice.call(m);for(l=0;l<y.length;l++){var x=y[l];x.childNodes.length&&u.node().appendChild(x)}}o._draggers&&o._draggers.remove(),u.node().style.background="",u.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var p=k.select(this);if(this.style.visibility!=="hidden"&&this.style.display!=="none"){p.style({visibility:null,display:null});var S=this.style.fontFamily;S&&S.indexOf('"')!==-1&&p.style("font-family",S.replace(f,s))}else p.remove()}),u.selectAll(".gradient_filled,.pattern_filled").each(function(){var p=k.select(this),S=this.style.fill;S&&S.indexOf("url(")!==-1&&p.style("fill",S.replace(f,s));var M=this.style.stroke;M&&M.indexOf("url(")!==-1&&p.style("stroke",M.replace(f,s))}),n!=="pdf"&&n!=="eps"||u.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),u.node().setAttributeNS(v.xmlns,"xmlns",v.svg),u.node().setAttributeNS(v.xmlns,"xmlns:xlink",v.xlink),n==="svg"&&i&&(u.attr("width",i*c),u.attr("height",i*b),u.attr("viewBox","0 0 "+c+" "+b));var T=new window.XMLSerializer().serializeToString(u.node());return T=(T=(T=function(p){var S=k.select("body").append("div").style({display:"none"}).html(""),M=p.replace(/(&[^;]*;)/gi,function(E){return E==="&lt;"?"&#60;":E==="&rt;"?"&#62;":E.indexOf("<")!==-1||E.indexOf(">")!==-1?"":S.html(E).text()});return S.remove(),M}(T)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(t,"'"),w.isIE()&&(T=(T=(T=T.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),T}},84664:function(B,L,e){var k=e(3400);B.exports=function(w,r){for(var _=0;_<w.length;_++)w[_].i=_;k.mergeArray(r.text,w,"tx"),k.mergeArray(r.hovertext,w,"htx");var v=r.marker;if(v){k.mergeArray(v.opacity,w,"mo",!0),k.mergeArray(v.color,w,"mc");var f=v.line;f&&(k.mergeArray(f.color,w,"mlc"),k.mergeArrayCastPositive(f.width,w,"mlw"))}}},20832:function(B,L,e){var k=e(52904),w=e(29736).axisHoverFormat,r=e(21776).Ks,_=e(21776).Gw,v=e(49084),f=e(25376),s=e(78048),t=e(98192).c,a=e(92880).extendFlat,n=f({editType:"calc",arrayOk:!0,colorEditType:"style"}),i=a({},k.marker.line.width,{dflt:0}),l=a({width:i,editType:"calc"},v("marker.line")),o=a({line:l,editType:"calc"},v("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t,cornerradius:{valType:"any",editType:"calc"}});B.exports={x:k.x,x0:k.x0,dx:k.dx,y:k.y,y0:k.y0,dy:k.dy,xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,xhoverformat:w("x"),yhoverformat:w("y"),text:k.text,texttemplate:_({editType:"plot"},{keys:s.eventDataKeys}),hovertext:k.hovertext,hovertemplate:r({},{keys:s.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:a({},n,{}),insidetextfont:a({},n,{}),outsidetextfont:a({},n,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:a({},k.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:o,offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup,selected:{marker:{opacity:k.selected.marker.opacity,color:k.selected.marker.color,editType:"style"},textfont:k.selected.textfont,editType:"style"},unselected:{marker:{opacity:k.unselected.marker.opacity,color:k.unselected.marker.color,editType:"style"},textfont:k.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(B,L,e){var k=e(54460),w=e(1220),r=e(94288).hasColorscale,_=e(47128),v=e(84664),f=e(4500);B.exports=function(s,t){var a,n,i,l,o,u,h=k.getFromId(s,t.xaxis||"x"),c=k.getFromId(s,t.yaxis||"y"),b={msUTC:!(!t.base&&t.base!==0)};t.orientation==="h"?(a=h.makeCalcdata(t,"x",b),i=c.makeCalcdata(t,"y"),l=w(t,c,"y",i),o=!!t.yperiodalignment,u="y"):(a=c.makeCalcdata(t,"y",b),i=h.makeCalcdata(t,"x"),l=w(t,h,"x",i),o=!!t.xperiodalignment,u="x"),n=l.vals;for(var d=Math.min(n.length,a.length),g=new Array(d),m=0;m<d;m++)g[m]={p:n[m],s:a[m]},o&&(g[m].orig_p=i[m],g[m][u+"End"]=l.ends[m],g[m][u+"Start"]=l.starts[m]),t.ids&&(g[m].id=String(t.ids[m]));return r(t,"marker")&&_(s,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),r(t,"marker.line")&&_(s,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),v(g,t),f(g,t),g}},78048:function(B){B.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(B,L,e){var k=e(38248),w=e(3400).isArrayOrTypedArray,r=e(39032).BADNUM,_=e(24040),v=e(54460),f=e(71888).getAxisGroup,s=e(72592);function t(d,g,m,y,x){if(y.length){var T,p,S,M;switch(function(E,P){var O,I;for(O=0;O<P.length;O++){var R,U=P[O],z=U[0].trace,j=z.type==="funnel"?z._base:z.base,W=z.orientation==="h"?z.xcalendar:z.ycalendar,F=E.type==="category"||E.type==="multicategory"?function(){return null}:E.d2c;if(w(j)){for(I=0;I<Math.min(j.length,U.length);I++)R=F(j[I],0,W),k(R)?(U[I].b=+R,U[I].hasB=1):U[I].b=0;for(;I<U.length;I++)U[I].b=0}else{R=F(j,0,W);var V=k(R);for(R=V?R:0,I=0;I<U.length;I++)U[I].b=R,V&&(U[I].hasB=1)}}}(m,y),x.mode){case"overlay":a(g,m,y,x);break;case"group":for(T=[],p=[],S=0;S<y.length;S++)(M=y[S])[0].trace.offset===void 0?p.push(M):T.push(M);p.length&&function(E,P,O,I,R){var U=new s(I,{posAxis:P,sepNegVal:!1,overlapNoMerge:!R.norm});(function(z,j,W,F){for(var V=z._fullLayout,H=W.positions,te=W.distinctPositions,Q=W.minDiff,K=W.traces,X=K.length,J=H.length!==te.length,ee=Q*(1-F.gap),ie=f(V,j._id)+K[0][0].trace.orientation,oe=V._alignmentOpts[ie]||{},ae=0;ae<X;ae++){var ce,ge,ve=K[ae],be=ve[0].trace,we=oe[be.alignmentgroup]||{},ye=Object.keys(we.offsetGroups||{}).length,me=(ce=ye?ee/ye:J?ee/X:ee)*(1-(F.groupgap||0));ge=ye?((2*be._offsetIndex+1-ye)*ce-me)/2:J?((2*ae+1-X)*ce-me)/2:-me/2;var Ae=ve[0].t;Ae.barwidth=me,Ae.poffset=ge,Ae.bargroupwidth=ee,Ae.bardelta=Q}W.binWidth=K[0][0].t.barwidth/100,i(W),l(j,W),o(j,W,J)})(E,P,U,R),function(z,j){for(var W=z.traces,F=0;F<W.length;F++){var V=W[F];if(V[0].trace.base===void 0)for(var H=new s([V],{posAxis:j,sepNegVal:!0,overlapNoMerge:!0}),te=0;te<V.length;te++){var Q=V[te];if(Q.p!==r){var K=H.put(Q.p,Q.b+Q.s);K&&(Q.b=K)}}}}(U,P),R.norm?(h(U),c(O,U,R)):u(O,U)}(d,g,m,p,x),T.length&&a(g,m,T,x);break;case"stack":case"relative":for(T=[],p=[],S=0;S<y.length;S++)(M=y[S])[0].trace.base===void 0?p.push(M):T.push(M);(function(E){if(!(E.length<2)){var P,O,I,R,U,z;for(P=0;P<E.length&&(R=(O=E[P][0].trace).marker?O.marker.cornerradius:void 0)===void 0;P++);if(R!==void 0)for(U=k(R)?+R:+R.slice(0,-1),z=k(R)?"px":"%",P=0;P<E.length;P++)(I=E[P][0].t).cornerradiusvalue=U,I.cornerradiusform=z}})(p),p.length&&function(E,P,O,I,R){var U=new s(I,{posAxis:P,sepNegVal:R.mode==="relative",overlapNoMerge:!(R.norm||R.mode==="stack"||R.mode==="relative")});n(P,U,R),function(V,H,te){var Q,K,X,J,ee,ie,oe=b(V),ae=H.traces;for(J=0;J<ae.length;J++)if((K=(Q=ae[J])[0].trace).type==="funnel")for(ee=0;ee<Q.length;ee++)(ie=Q[ee]).s!==r&&H.put(ie.p,-.5*ie.s);for(J=0;J<ae.length;J++){X=(K=(Q=ae[J])[0].trace).type==="funnel";var ce=[];for(ee=0;ee<Q.length;ee++)if((ie=Q[ee]).s!==r){var ge;ge=X?ie.s:ie.s+ie.b;var ve=H.put(ie.p,ge),be=ve+ge;ie.b=ve,ie[oe]=be,te.norm||(ce.push(be),ie.hasB&&ce.push(ve))}te.norm||(K._extremes[V._id]=v.findExtremes(V,ce,{tozero:!0,padded:!0}))}}(O,U,R);for(var z=0;z<I.length;z++)for(var j=I[z],W=0;W<j.length;W++){var F=j[W];F.s!==r&&F.b+F.s===U.get(F.p,F.s)&&(F._outmost=!0)}R.norm&&c(O,U,R)}(0,g,m,p,x),T.length&&a(g,m,T,x)}(function(E){var P,O,I,R,U,z,j;for(P=0;P<E.length;P++)I=(O=E[P])[0].trace,(R=O[0].t).cornerradiusvalue===void 0&&(U=I.marker?I.marker.cornerradius:void 0)!==void 0&&(z=k(U)?+U:+U.slice(0,-1),j=k(U)?"px":"%",R.cornerradiusvalue=z,R.cornerradiusform=j)})(y),function(E,P){var O,I,R,U=b(P),z={},j=1/0,W=-1/0;for(O=0;O<E.length;O++)for(R=E[O],I=0;I<R.length;I++){var F=R[I].p;k(F)&&(j=Math.min(j,F),W=Math.max(W,F))}var V=1e4/(W-j),H=z.round=function(be){return String(Math.round(V*(be-j)))},te={},Q={},K=E.some(function(be){var we=be[0].trace;return"marker"in we&&we.marker.cornerradius});for(O=0;O<E.length;O++){(R=E[O])[0].t.extents=z;var X=R[0].t.poffset,J=w(X);for(I=0;I<R.length;I++){var ee=R[I],ie=ee[U]-ee.w/2;if(k(ie)){var oe=ee[U]+ee.w/2,ae=H(ee.p);z[ae]?z[ae]=[Math.min(ie,z[ae][0]),Math.max(oe,z[ae][1])]:z[ae]=[ie,oe]}if(ee.p0=ee.p+(J?X[I]:X),ee.p1=ee.p0+ee.w,ee.s0=ee.b,ee.s1=ee.s0+ee.s,K){var ce=Math.min(ee.s0,ee.s1)||0,ge=Math.max(ee.s0,ee.s1)||0,ve=ee[U];te[ve]=ve in te?Math.min(te[ve],ce):ce,Q[ve]=ve in Q?Math.max(Q[ve],ge):ge}}}K&&function(be,we,ye,me){for(var Ae=b(me),ke=0;ke<be.length;ke++)for(var fe=be[ke],le=0;le<fe.length;le++){var de=fe[le],Ce=de[Ae];de._sMin=we[Ce],de._sMax=ye[Ce]}}(E,te,Q,P)}(y,g)}}function a(d,g,m,y){for(var x=0;x<m.length;x++){var T=m[x],p=new s([T],{posAxis:d,sepNegVal:!1,overlapNoMerge:!y.norm});n(d,p,y),y.norm?(h(p),c(g,p,y)):u(g,p)}}function n(d,g,m){for(var y=g.minDiff,x=g.traces,T=y*(1-m.gap),p=T*(1-(m.groupgap||0)),S=-p/2,M=0;M<x.length;M++){var E=x[M][0].t;E.barwidth=p,E.poffset=S,E.bargroupwidth=T,E.bardelta=y}g.binWidth=x[0][0].t.barwidth/100,i(g),l(d,g),o(d,g)}function i(d){var g,m,y=d.traces;for(g=0;g<y.length;g++){var x,T=y[g],p=T[0],S=p.trace,M=p.t,E=S._offset||S.offset,P=M.poffset;if(w(E)){for(x=Array.prototype.slice.call(E,0,T.length),m=0;m<x.length;m++)k(x[m])||(x[m]=P);for(m=x.length;m<T.length;m++)x.push(P);M.poffset=x}else E!==void 0&&(M.poffset=E);var O=S._width||S.width,I=M.barwidth;if(w(O)){var R=Array.prototype.slice.call(O,0,T.length);for(m=0;m<R.length;m++)k(R[m])||(R[m]=I);for(m=R.length;m<T.length;m++)R.push(I);if(M.barwidth=R,E===void 0){for(x=[],m=0;m<T.length;m++)x.push(P+(I-R[m])/2);M.poffset=x}}else O!==void 0&&(M.barwidth=O,E===void 0&&(M.poffset=P+(I-O)/2))}}function l(d,g){for(var m=g.traces,y=b(d),x=0;x<m.length;x++)for(var T=m[x],p=T[0].t,S=p.poffset,M=w(S),E=p.barwidth,P=w(E),O=0;O<T.length;O++){var I=T[O],R=I.w=P?E[O]:E;I.p===void 0&&(I.p=I[y],I["orig_"+y]=I[y]);var U=(M?S[O]:S)+R/2;I[y]=I.p+U}}function o(d,g,m){var y=g.traces,x=g.minDiff/2;v.minDtick(d,g.minDiff,g.distinctPositions[0],m);for(var T=0;T<y.length;T++){var p,S,M,E,P=y[T],O=P[0],I=O.trace,R=[];for(E=0;E<P.length;E++)S=(p=P[E]).p-x,M=p.p+x,R.push(S,M);if(I.width||I.offset){var U=O.t,z=U.poffset,j=U.barwidth,W=w(z),F=w(j);for(E=0;E<P.length;E++){p=P[E];var V=W?z[E]:z,H=F?j[E]:j;M=(S=p.p+V)+H,R.push(S,M)}}I._extremes[d._id]=v.findExtremes(d,R,{padded:!1})}}function u(d,g){for(var m=g.traces,y=b(d),x=0;x<m.length;x++){for(var T=m[x],p=T[0].trace,S=p.type==="scatter",M=p.orientation==="v",E=[],P=!1,O=0;O<T.length;O++){var I=T[O],R=S?0:I.b,U=S?M?I.y:I.x:R+I.s;I[y]=U,E.push(U),I.hasB&&E.push(R),I.hasB&&I.b||(P=!0)}p._extremes[d._id]=v.findExtremes(d,E,{tozero:P,padded:!0})}}function h(d){for(var g=d.traces,m=0;m<g.length;m++)for(var y=g[m],x=0;x<y.length;x++){var T=y[x];T.s!==r&&d.put(T.p,T.b+T.s)}}function c(d,g,m){var y=g.traces,x=b(d),T=m.norm==="fraction"?1:100,p=T/1e9,S=d.l2c(d.c2l(0)),M=m.mode==="stack"?T:S;function E(te){return k(d.c2l(te))&&(te<S-p||te>M+p||!k(S))}for(var P=0;P<y.length;P++){for(var O=y[P],I=O[0].trace,R=[],U=!1,z=!1,j=0;j<O.length;j++){var W=O[j];if(W.s!==r){var F=Math.abs(T/g.get(W.p,W.s));W.b*=F,W.s*=F;var V=W.b,H=V+W.s;W[x]=H,R.push(H),z=z||E(H),W.hasB&&(R.push(V),z=z||E(V)),W.hasB&&W.b||(U=!0)}}I._extremes[d._id]=v.findExtremes(d,R,{tozero:U,padded:z})}}function b(d){return d._id.charAt(0)}B.exports={crossTraceCalc:function(d,g){for(var m=g.xaxis,y=g.yaxis,x=d._fullLayout,T=d._fullData,p=d.calcdata,S=[],M=[],E=0;E<T.length;E++){var P=T[E];if(P.visible===!0&&_.traceIs(P,"bar")&&P.xaxis===m._id&&P.yaxis===y._id&&(P.orientation==="h"?S.push(p[E]):M.push(p[E]),P._computePh))for(var O=d.calcdata[E],I=0;I<O.length;I++)typeof O[I].ph0=="function"&&(O[I].ph0=O[I].ph0()),typeof O[I].ph1=="function"&&(O[I].ph1=O[I].ph1())}var R={xCat:m.type==="category"||m.type==="multicategory",yCat:y.type==="category"||y.type==="multicategory",mode:x.barmode,norm:x.barnorm,gap:x.bargap,groupgap:x.bargroupgap};t(d,m,y,M,R),t(d,y,m,S,R)},setGroupPositions:t}},31508:function(B,L,e){var k=e(38248),w=e(3400),r=e(76308),_=e(24040),v=e(43980),f=e(31147),s=e(55592),t=e(20011),a=e(20832),n=w.coerceFont;function i(o){if(k(o)){if((o=+o)>=0)return o}else if(typeof o=="string"&&(o=o.trim()).slice(-1)==="%"&&k(o.slice(0,-1))&&(o=+o.slice(0,-1))>=0)return o+"%"}function l(o,u,h,c,b,d){var g=(d=d||{}).moduleHasSelected!==!1,m=d.moduleHasUnselected!==!1,y=d.moduleHasConstrain!==!1,x=d.moduleHasCliponaxis!==!1,T=d.moduleHasTextangle!==!1,p=d.moduleHasInsideanchor!==!1,S=!!d.hasPathbar,M=Array.isArray(b)||b==="auto",E=M||b==="inside",P=M||b==="outside";if(E||P){var O=n(c,"textfont",h.font),I=w.extendFlat({},O),R=!(o.textfont&&o.textfont.color);if(R&&delete I.color,n(c,"insidetextfont",I),S){var U=w.extendFlat({},O);R&&delete U.color,n(c,"pathbar.textfont",U)}P&&n(c,"outsidetextfont",O),g&&c("selected.textfont.color"),m&&c("unselected.textfont.color"),y&&c("constraintext"),x&&c("cliponaxis"),T&&c("textangle"),c("texttemplate")}E&&p&&c("insidetextanchor")}B.exports={supplyDefaults:function(o,u,h,c){function b(y,x){return w.coerce(o,u,a,y,x)}if(v(o,u,c,b)){f(o,u,c,b),b("xhoverformat"),b("yhoverformat"),b("orientation",u.x&&!u.y?"h":"v"),b("base"),b("offset"),b("width"),b("text"),b("hovertext"),b("hovertemplate");var d=b("textposition");l(o,0,c,b,d,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s(o,u,b,h,c);var g=(u.marker.line||{}).color,m=_.getComponentMethod("errorbars","supplyDefaults");m(o,u,g||r.defaultLine,{axis:"y"}),m(o,u,g||r.defaultLine,{axis:"x",inherit:"y"}),w.coerceSelectionMarkerOpacity(u,b)}else u.visible=!1},crossTraceDefaults:function(o,u){var h,c;function b(m,y){return w.coerce(c._input,c,a,m,y)}for(var d=0;d<o.length;d++)if((c=o[d]).type==="bar"){h=c._input;var g=b("marker.cornerradius",u.barcornerradius);c.marker&&(c.marker.cornerradius=i(g)),u.barmode==="group"&&t(h,c,u,b)}},handleText:l,validateCornerradius:i}},52160:function(B){B.exports=function(L,e,k){return L.x="xVal"in e?e.xVal:e.x,L.y="yVal"in e?e.yVal:e.y,e.xa&&(L.xaxis=e.xa),e.ya&&(L.yaxis=e.ya),k.orientation==="h"?(L.label=L.y,L.value=L.x):(L.label=L.x,L.value=L.y),L}},60444:function(B,L,e){var k=e(38248),w=e(49760),r=e(3400).isArrayOrTypedArray;L.coerceString=function(_,v,f){if(typeof v=="string"){if(v||!_.noBlank)return v}else if((typeof v=="number"||v===!0)&&!_.strict)return String(v);return f!==void 0?f:_.dflt},L.coerceNumber=function(_,v,f){if(k(v)){v=+v;var s=_.min,t=_.max;if(!(s!==void 0&&v<s||t!==void 0&&v>t))return v}return f!==void 0?f:_.dflt},L.coerceColor=function(_,v,f){return w(v).isValid()?v:f!==void 0?f:_.dflt},L.coerceEnumerated=function(_,v,f){return _.coerceNumber&&(v=+v),_.values.indexOf(v)!==-1?v:f!==void 0?f:_.dflt},L.getValue=function(_,v){var f;return r(_)?v<_.length&&(f=_[v]):f=_,f},L.getLineWidth=function(_,v){return 0<v.mlw?v.mlw:r(_.marker.line.width)?0:_.marker.line.width}},63400:function(B,L,e){var k=e(93024),w=e(24040),r=e(76308),_=e(3400).fillText,v=e(60444).getLineWidth,f=e(54460).hoverLabelText,s=e(39032).BADNUM;function t(n,i,l,o,u){var h,c,b,d,g,m,y,x=n.cd,T=x[0].trace,p=x[0].t,S=o==="closest",M=T.type==="waterfall",E=n.maxHoverDistance,P=n.maxSpikeDistance;T.orientation==="h"?(h=l,c=i,b="y",d="x",g=Q,m=H):(h=i,c=l,b="x",d="y",m=Q,g=H);var O=T[b+"period"],I=S||O;function R(ce){return z(ce,-1)}function U(ce){return z(ce,1)}function z(ce,ge){var ve=ce.w;return ce[b]+ge*ve/2}function j(ce){return ce[b+"End"]-ce[b+"Start"]}var W=S?R:O?function(ce){return ce.p-j(ce)/2}:function(ce){return Math.min(R(ce),ce.p-p.bardelta/2)},F=S?U:O?function(ce){return ce.p+j(ce)/2}:function(ce){return Math.max(U(ce),ce.p+p.bardelta/2)};function V(ce,ge,ve){return u.finiteRange&&(ve=0),k.inbox(ce-h,ge-h,ve+Math.min(1,Math.abs(ge-ce)/y)-1)}function H(ce){return V(W(ce),F(ce),E)}function te(ce){var ge=ce[d];if(M){var ve=Math.abs(ce.rawS)||0;c>0?ge+=ve:c<0&&(ge-=ve)}return ge}function Q(ce){var ge=c,ve=ce.b,be=te(ce);return k.inbox(ve-ge,be-ge,E+(be-ge)/(be-ve)-1)}var K=n[b+"a"],X=n[d+"a"];y=Math.abs(K.r2c(K.range[1])-K.r2c(K.range[0]));var J=k.getDistanceFunction(o,g,m,function(ce){return(g(ce)+m(ce))/2});if(k.getClosest(x,J,n),n.index!==!1&&x[n.index].p!==s){I||(W=function(ce){return Math.min(R(ce),ce.p-p.bargroupwidth/2)},F=function(ce){return Math.max(U(ce),ce.p+p.bargroupwidth/2)});var ee=x[n.index],ie=T.base?ee.b+ee.s:ee.s;n[d+"0"]=n[d+"1"]=X.c2p(ee[d],!0),n[d+"LabelVal"]=ie;var oe=p.extents[p.extents.round(ee.p)];n[b+"0"]=K.c2p(S?W(ee):oe[0],!0),n[b+"1"]=K.c2p(S?F(ee):oe[1],!0);var ae=ee.orig_p!==void 0;return n[b+"LabelVal"]=ae?ee.orig_p:ee.p,n.labelLabel=f(K,n[b+"LabelVal"],T[b+"hoverformat"]),n.valueLabel=f(X,n[d+"LabelVal"],T[d+"hoverformat"]),n.baseLabel=f(X,ee.b,T[d+"hoverformat"]),n.spikeDistance=(function(ce){var ge=c,ve=ce.b,be=te(ce);return k.inbox(ve-ge,be-ge,P+(be-ge)/(be-ve)-1)}(ee)+function(ce){return V(R(ce),U(ce),P)}(ee))/2,n[b+"Spike"]=K.c2p(ee.p,!0),_(ee,T,n),n.hovertemplate=T.hovertemplate,n}}function a(n,i){var l=i.mcc||n.marker.color,o=i.mlcc||n.marker.line.color,u=v(n,i);return r.opacity(l)?l:r.opacity(o)&&u?o:void 0}B.exports={hoverPoints:function(n,i,l,o,u){var h=t(n,i,l,o,u);if(h){var c=h.cd,b=c[0].trace,d=c[h.index];return h.color=a(b,d),w.getComponentMethod("errorbars","hoverInfo")(d,b,h),[h]}},hoverOnBars:t,getTraceColor:a}},51132:function(B,L,e){B.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(B){B.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(B,L,e){var k=e(24040),w=e(54460),r=e(3400),_=e(39324),v=e(31508).validateCornerradius;B.exports=function(f,s,t){function a(g,m){return r.coerce(f,s,_,g,m)}for(var n=!1,i=!1,l=!1,o={},u=a("barmode"),h=0;h<t.length;h++){var c=t[h];if(k.traceIs(c,"bar")&&c.visible){if(n=!0,u==="group"){var b=c.xaxis+c.yaxis;o[b]&&(l=!0),o[b]=!0}c.visible&&c.type==="histogram"&&w.getFromId({_fullLayout:s},c[c.orientation==="v"?"xaxis":"yaxis"]).type!=="category"&&(i=!0)}}if(n){u!=="overlay"&&a("barnorm"),a("bargap",i&&!l?0:.2),a("bargroupgap");var d=a("barcornerradius");s.barcornerradius=v(d)}else delete s.barmode}},98184:function(B,L,e){var k=e(33428),w=e(38248),r=e(3400),_=e(72736),v=e(76308),f=e(43616),s=e(24040),t=e(54460).tickText,a=e(82744),n=a.recordMinTextSize,i=a.clearMinTextSize,l=e(60100),o=e(60444),u=e(78048),h=e(20832),c=h.text,b=h.textposition,d=e(10624).appendArrayPointValue,g=u.TEXTPAD;function m(I){return I.id}function y(I){if(I.ids)return m}function x(I){return(I>0)-(I<0)}function T(I,R){return I<R?1:-1}function p(I,R,U,z){var j;return!R.uniformtext.mode&&S(U)?(z&&(j=z()),I.transition().duration(U.duration).ease(U.easing).each("end",function(){j&&j()}).each("interrupt",function(){j&&j()})):I}function S(I){return I&&I.duration>0}function M(I,R,U,z,j){return!(I<0||R<0)&&(U<=I&&z<=R||U<=R&&z<=I||(j?I>=U*(R/z):R>=z*(I/U)))}function E(I){return I==="auto"?0:I}function P(I,R){var U=Math.PI/180*R,z=Math.abs(Math.sin(U)),j=Math.abs(Math.cos(U));return{x:I.width*j+I.height*z,y:I.width*z+I.height*j}}function O(I,R,U,z,j,W){var F=!!W.isHorizontal,V=!!W.constrained,H=W.angle||0,te=W.anchor,Q=te==="end",K=te==="start",X=((W.leftToRight||0)+1)/2,J=1-X,ee=W.hasB,ie=W.r,oe=W.overhead,ae=j.width,ce=j.height,ge=Math.abs(R-I),ve=Math.abs(z-U),be=ge>2*g&&ve>2*g?g:0;ge-=2*be,ve-=2*be;var we=E(H);H!=="auto"||ae<=ge&&ce<=ve||!(ae>ge||ce>ve)||(ae>ve||ce>ge)&&ae<ce==ge<ve||(we+=90);var ye,me,Ae=P(j,we);if(ie&&ie-oe>g){var ke=function(pe,_e,Te,Re,Ne,ze,Ge,Ye,et){var ut,ot,yt,wt,bt=Math.max(0,Math.abs(_e-pe)-2*g),at=Math.max(0,Math.abs(Re-Te)-2*g),rt=ze-g,At=Ge?rt-Math.sqrt(rt*rt-(rt-Ge)*(rt-Ge)):rt,Rt=et?2*rt:Ye?rt-Ge:2*At,Ft=et?2*rt:Ye?2*At:rt-Ge;return Ne.y/Ne.x>=at/(bt-Rt)?wt=at/Ne.y:Ne.y/Ne.x<=(at-Ft)/bt?wt=bt/Ne.x:!et&&Ye?(ut=Ne.x*Ne.x+Ne.y*Ne.y/4,yt=(bt-rt)*(bt-rt)+(at/2-rt)*(at/2-rt)-rt*rt,wt=(-(ot=-2*Ne.x*(bt-rt)-Ne.y*(at/2-rt))+Math.sqrt(ot*ot-4*ut*yt))/(2*ut)):et?(ut=(Ne.x*Ne.x+Ne.y*Ne.y)/4,yt=(bt/2-rt)*(bt/2-rt)+(at/2-rt)*(at/2-rt)-rt*rt,wt=(-(ot=-Ne.x*(bt/2-rt)-Ne.y*(at/2-rt))+Math.sqrt(ot*ot-4*ut*yt))/(2*ut)):(ut=Ne.x*Ne.x/4+Ne.y*Ne.y,yt=(bt/2-rt)*(bt/2-rt)+(at-rt)*(at-rt)-rt*rt,wt=(-(ot=-Ne.x*(bt/2-rt)-2*Ne.y*(at-rt))+Math.sqrt(ot*ot-4*ut*yt))/(2*ut)),{scale:wt=Math.min(1,wt),pad:Ye?Math.max(0,rt-Math.sqrt(Math.max(0,rt*rt-(rt-(at-Ne.y*wt)/2)*(rt-(at-Ne.y*wt)/2)))-Ge):Math.max(0,rt-Math.sqrt(Math.max(0,rt*rt-(rt-(bt-Ne.x*wt)/2)*(rt-(bt-Ne.x*wt)/2)))-Ge)}}(I,R,U,z,Ae,ie,oe,F,ee);ye=ke.scale,me=ke.pad}else ye=1,V&&(ye=Math.min(1,ge/Ae.x,ve/Ae.y)),me=0;var fe=j.left*J+j.right*X,le=(j.top+j.bottom)/2,de=(I+g)*J+(R-g)*X,Ce=(U+z)/2,Me=0,Le=0;if(K||Q){var Oe=(F?Ae.x:Ae.y)/2;ie&&(Q||ee)&&(be+=me);var Be=F?T(I,R):T(U,z);F?K?(de=I+Be*be,Me=-Be*Oe):(de=R-Be*be,Me=Be*Oe):K?(Ce=U+Be*be,Le=-Be*Oe):(Ce=z-Be*be,Le=Be*Oe)}return{textX:fe,textY:le,targetX:de,targetY:Ce,anchorX:Me,anchorY:Le,scale:ye,rotate:we}}B.exports={plot:function(I,R,U,z,j,W){var F=R.xaxis,V=R.yaxis,H=I._fullLayout,te=I._context.staticPlot;j||(j={mode:H.barmode,norm:H.barmode,gap:H.bargap,groupgap:H.bargroupgap},i("bar",H));var Q=r.makeTraceGroups(z,U,"trace bars").each(function(K){var X=k.select(this),J=K[0].trace,ee=K[0].t,ie=J.type==="waterfall",oe=J.type==="funnel",ae=J.type==="histogram",ce=J.type==="bar",ge=ce||oe,ve=0;ie&&J.connector.visible&&J.connector.mode==="between"&&(ve=J.connector.line.width/2);var be=J.orientation==="h",we=S(j),ye=r.ensureSingle(X,"g","points"),me=y(J),Ae=ye.selectAll("g.point").data(r.identity,me);Ae.enter().append("g").classed("point",!0),Ae.exit().remove(),Ae.each(function(fe,le){var de,Ce,Me=k.select(this),Le=function(st,je,Ue,lt){var Qe=[],gt=[],mt=lt?je:Ue,xt=lt?Ue:je;return Qe[0]=mt.c2p(st.s0,!0),gt[0]=xt.c2p(st.p0,!0),Qe[1]=mt.c2p(st.s1,!0),gt[1]=xt.c2p(st.p1,!0),lt?[Qe,gt]:[gt,Qe]}(fe,F,V,be),Oe=Le[0][0],Be=Le[0][1],pe=Le[1][0],_e=Le[1][1],Te=(be?Be-Oe:_e-pe)==0;if(Te&&ge&&o.getLineWidth(J,fe)&&(Te=!1),Te||(Te=!(w(Oe)&&w(Be)&&w(pe)&&w(_e))),fe.isBlank=Te,Te&&(be?Be=Oe:_e=pe),ve&&!Te&&(be?(Oe-=T(Oe,Be)*ve,Be+=T(Oe,Be)*ve):(pe-=T(pe,_e)*ve,_e+=T(pe,_e)*ve)),J.type==="waterfall"){if(!Te){var Re=J[fe.dir].marker;de=Re.line.width,Ce=Re.color}}else de=o.getLineWidth(J,fe),Ce=fe.mc||J.marker.color;function Ne(st){var je=k.round(de/2%1,2);return j.gap===0&&j.groupgap===0?k.round(Math.round(st)-je,2):st}var ze=v.opacity(Ce)<1||de>.01?Ne:function(st,je,Ue){return Ue&&st===je?st:Math.abs(st-je)>=2?Ne(st):st>je?Math.ceil(st):Math.floor(st)};I._context.staticPlot||(Oe=ze(Oe,Be,be),Be=ze(Be,Oe,be),pe=ze(pe,_e,!be),_e=ze(_e,pe,!be));var Ge,Ye=be?F.c2p:V.c2p;Ge=fe.s0>0?fe._sMax:fe.s0<0?fe._sMin:fe.s1>0?fe._sMax:fe._sMin;var et,ut,ot=ce||ae?function(st,je){if(!st)return 0;var Ue,lt=Math.abs(be?_e-pe:Be-Oe),Qe=Math.abs(be?Be-Oe:_e-pe),gt=ze(Math.abs(Ye(Ge,!0)-Ye(0,!0))),mt=fe.hasB?Math.min(lt/2,Qe/2):Math.min(lt/2,gt);return Ue=je==="%"?lt*(Math.min(50,st)/100):st,ze(Math.max(Math.min(Ue,mt),0))}(ee.cornerradiusvalue,ee.cornerradiusform):0,yt="M"+Oe+","+pe+"V"+_e+"H"+Be+"V"+pe+"Z",wt=0;if(ot&&fe.s){var bt=x(fe.s0)===0||x(fe.s)===x(fe.s0)?fe.s1:fe.s0;if((wt=ze(fe.hasB?0:Math.abs(Ye(Ge,!0)-Ye(bt,!0))))<ot){var at=T(Oe,Be),rt=T(pe,_e),At=at===-rt?1:0;if(be)if(fe.hasB)et="M"+(Oe+ot*at)+","+pe+"A "+ot+","+ot+" 0 0 "+At+" "+Oe+","+(pe+ot*rt)+"V"+(_e-ot*rt)+"A "+ot+","+ot+" 0 0 "+At+" "+(Oe+ot*at)+","+_e+"H"+(Be-ot*at)+"A "+ot+","+ot+" 0 0 "+At+" "+Be+","+(_e-ot*rt)+"V"+(pe+ot*rt)+"A "+ot+","+ot+" 0 0 "+At+" "+(Be-ot*at)+","+pe+"Z";else{var Rt=(ut=Math.abs(Be-Oe)+wt)<ot?ot-Math.sqrt(ut*(2*ot-ut)):0,Ft=wt>0?Math.sqrt(wt*(2*ot-wt)):0,Dt=at>0?Math.max:Math.min;et="M"+Oe+","+pe+"V"+(_e-Rt*rt)+"H"+Dt(Be-(ot-wt)*at,Oe)+"A "+ot+","+ot+" 0 0 "+At+" "+Be+","+(_e-ot*rt-Ft)+"V"+(pe+ot*rt+Ft)+"A "+ot+","+ot+" 0 0 "+At+" "+Dt(Be-(ot-wt)*at,Oe)+","+(pe+Rt*rt)+"Z"}else if(fe.hasB)et="M"+(Oe+ot*at)+","+pe+"A "+ot+","+ot+" 0 0 "+At+" "+Oe+","+(pe+ot*rt)+"V"+(_e-ot*rt)+"A "+ot+","+ot+" 0 0 "+At+" "+(Oe+ot*at)+","+_e+"H"+(Be-ot*at)+"A "+ot+","+ot+" 0 0 "+At+" "+Be+","+(_e-ot*rt)+"V"+(pe+ot*rt)+"A "+ot+","+ot+" 0 0 "+At+" "+(Be-ot*at)+","+pe+"Z";else{var Xe=(ut=Math.abs(_e-pe)+wt)<ot?ot-Math.sqrt(ut*(2*ot-ut)):0,Ke=wt>0?Math.sqrt(wt*(2*ot-wt)):0,Ve=rt>0?Math.max:Math.min;et="M"+(Oe+Xe*at)+","+pe+"V"+Ve(_e-(ot-wt)*rt,pe)+"A "+ot+","+ot+" 0 0 "+At+" "+(Oe+ot*at-Ke)+","+_e+"H"+(Be-ot*at+Ke)+"A "+ot+","+ot+" 0 0 "+At+" "+(Be-Xe*at)+","+Ve(_e-(ot-wt)*rt,pe)+"V"+pe+"Z"}}else et=yt}else et=yt;var Je=p(r.ensureSingle(Me,"path"),H,j,W);if(Je.style("vector-effect",te?"none":"non-scaling-stroke").attr("d",isNaN((Be-Oe)*(_e-pe))||Te&&I._context.staticPlot?"M0,0Z":et).call(f.setClipUrl,R.layerClipId,I),!H.uniformtext.mode&&we){var ct=f.makePointStyleFns(J);f.singlePointStyle(fe,Je,J,ct,I)}(function(st,je,Ue,lt,Qe,gt,mt,xt,dt,Lt,kt,_t,Ot){var Pt,Bt=je.xaxis,Jt=je.yaxis,on=st._fullLayout;function qt(ir,Zt,mn){return r.ensureSingle(ir,"text").text(Zt).attr({class:"bartext bartext-"+Pt,"text-anchor":"middle","data-notex":1}).call(f.font,mn).call(_.convertToTspans,st)}var Gt=lt[0].trace,nn=Gt.orientation==="h",Cn=function(ir,Zt,mn,It,Xt){var tn,bn=Zt[0].trace;return tn=bn.texttemplate?function(yn,Tn,fn,$t,en){var ln=Tn[0].trace,pn=r.castOption(ln,fn,"texttemplate");if(!pn)return"";var Ln,In,Hn,qn,er=ln.type==="histogram",Zn=ln.type==="waterfall",tr=ln.type==="funnel",nr=ln.orientation==="h";function Qn(Yr){return t(qn,qn.c2l(Yr),!0).text}nr?(Ln="y",In=en,Hn="x",qn=$t):(Ln="x",In=$t,Hn="y",qn=en);var yr,fr=Tn[fn],gr={};gr.label=fr.p,gr.labelLabel=gr[Ln+"Label"]=(yr=fr.p,t(In,In.c2l(yr),!0).text);var sr=r.castOption(ln,fr.i,"text");(sr===0||sr)&&(gr.text=sr),gr.value=fr.s,gr.valueLabel=gr[Hn+"Label"]=Qn(fr.s);var br={};d(br,ln,fr.i),(er||br.x===void 0)&&(br.x=nr?gr.value:gr.label),(er||br.y===void 0)&&(br.y=nr?gr.label:gr.value),(er||br.xLabel===void 0)&&(br.xLabel=nr?gr.valueLabel:gr.labelLabel),(er||br.yLabel===void 0)&&(br.yLabel=nr?gr.labelLabel:gr.valueLabel),Zn&&(gr.delta=+fr.rawS||fr.s,gr.deltaLabel=Qn(gr.delta),gr.final=fr.v,gr.finalLabel=Qn(gr.final),gr.initial=gr.final-gr.delta,gr.initialLabel=Qn(gr.initial)),tr&&(gr.value=fr.s,gr.valueLabel=Qn(gr.value),gr.percentInitial=fr.begR,gr.percentInitialLabel=r.formatPercent(fr.begR),gr.percentPrevious=fr.difR,gr.percentPreviousLabel=r.formatPercent(fr.difR),gr.percentTotal=fr.sumR,gr.percenTotalLabel=r.formatPercent(fr.sumR));var Pr=r.castOption(ln,fr.i,"customdata");return Pr&&(gr.customdata=Pr),r.texttemplateString(pn,gr,yn._d3locale,br,gr,ln._meta||{})}(ir,Zt,mn,It,Xt):bn.textinfo?function(yn,Tn,fn,$t){var en=yn[0].trace,ln=en.orientation==="h",pn=en.type==="waterfall",Ln=en.type==="funnel";function In(Pr){return t(ln?fn:$t,+Pr,!0).text}var Hn,qn,er=en.textinfo,Zn=yn[Tn],tr=er.split("+"),nr=[],Qn=function(Pr){return tr.indexOf(Pr)!==-1};if(Qn("label")&&nr.push((qn=yn[Tn].p,t(ln?$t:fn,qn,!0).text)),Qn("text")&&((Hn=r.castOption(en,Zn.i,"text"))===0||Hn)&&nr.push(Hn),pn){var yr=+Zn.rawS||Zn.s,fr=Zn.v,gr=fr-yr;Qn("initial")&&nr.push(In(gr)),Qn("delta")&&nr.push(In(yr)),Qn("final")&&nr.push(In(fr))}if(Ln){Qn("value")&&nr.push(In(Zn.s));var sr=0;Qn("percent initial")&&sr++,Qn("percent previous")&&sr++,Qn("percent total")&&sr++;var br=sr>1;Qn("percent initial")&&(Hn=r.formatPercent(Zn.begR),br&&(Hn+=" of initial"),nr.push(Hn)),Qn("percent previous")&&(Hn=r.formatPercent(Zn.difR),br&&(Hn+=" of previous"),nr.push(Hn)),Qn("percent total")&&(Hn=r.formatPercent(Zn.sumR),br&&(Hn+=" of total"),nr.push(Hn))}return nr.join("<br>")}(Zt,mn,It,Xt):o.getValue(bn.text,mn),o.coerceString(c,tn)}(on,lt,Qe,Bt,Jt);Pt=function(ir,Zt){var mn=o.getValue(ir.textposition,Zt);return o.coerceEnumerated(b,mn)}(Gt,Qe);var An=_t.mode==="stack"||_t.mode==="relative",dn=lt[Qe],Kt=!An||dn._outmost,un=dn.hasB,rn=Lt&&Lt-kt>g;if(Cn&&Pt!=="none"&&(!dn.isBlank&&gt!==mt&&xt!==dt||Pt!=="auto"&&Pt!=="inside")){var hn=on.font,kn=l.getBarColor(lt[Qe],Gt),Sn=l.getInsideTextFont(Gt,Qe,hn,kn),Rn=l.getOutsideTextFont(Gt,Qe,hn),zn=Gt.insidetextanchor||"end",Pn=Ue.datum();nn?Bt.type==="log"&&Pn.s0<=0&&(gt=Bt.range[0]<Bt.range[1]?0:Bt._length):Jt.type==="log"&&Pn.s0<=0&&(xt=Jt.range[0]<Jt.range[1]?Jt._length:0);var Gn,Nn,or,lr,cr,$n=Math.abs(mt-gt),Ar=Math.abs(dt-xt),Ht=$n-2*g,an=Ar-2*g;if(Pt==="outside"&&(Kt||dn.hasB||(Pt="inside")),Pt==="auto")if(Kt){Pt="inside",Gn=qt(Ue,Cn,cr=r.ensureUniformFontSize(st,Sn)),or=(Nn=f.bBox(Gn.node())).width,lr=Nn.height;var _n,vn=or>0&&lr>0;_n=rn?un?M(Ht-2*Lt,an,or,lr,nn)||M(Ht,an-2*Lt,or,lr,nn):nn?M(Ht-(Lt-kt),an,or,lr,nn)||M(Ht,an-2*(Lt-kt),or,lr,nn):M(Ht,an-(Lt-kt),or,lr,nn)||M(Ht-2*(Lt-kt),an,or,lr,nn):M(Ht,an,or,lr,nn),vn&&_n?Pt="inside":(Pt="outside",Gn.remove(),Gn=null)}else Pt="inside";if(!Gn){var En=(Gn=qt(Ue,Cn,cr=r.ensureUniformFontSize(st,Pt==="outside"?Rn:Sn))).attr("transform");if(Gn.attr("transform",""),or=(Nn=f.bBox(Gn.node())).width,lr=Nn.height,Gn.attr("transform",En),or<=0||lr<=0)return void Gn.remove()}var Yn,Fn=Gt.textangle;Yn=Pt==="outside"?function(ir,Zt,mn,It,Xt,tn){var bn,yn=!!tn.isHorizontal,Tn=!!tn.constrained,fn=tn.angle||0,$t=Xt.width,en=Xt.height,ln=Math.abs(Zt-ir),pn=Math.abs(It-mn);bn=yn?pn>2*g?g:0:ln>2*g?g:0;var Ln=1;Tn&&(Ln=yn?Math.min(1,pn/en):Math.min(1,ln/$t));var In=E(fn),Hn=P(Xt,In),qn=(yn?Hn.x:Hn.y)/2,er=(Xt.left+Xt.right)/2,Zn=(Xt.top+Xt.bottom)/2,tr=(ir+Zt)/2,nr=(mn+It)/2,Qn=0,yr=0,fr=yn?T(Zt,ir):T(mn,It);return yn?(tr=Zt-fr*bn,Qn=fr*qn):(nr=It+fr*bn,yr=-fr*qn),{textX:er,textY:Zn,targetX:tr,targetY:nr,anchorX:Qn,anchorY:yr,scale:Ln,rotate:In}}(gt,mt,xt,dt,Nn,{isHorizontal:nn,constrained:Gt.constraintext==="both"||Gt.constraintext==="outside",angle:Fn}):O(gt,mt,xt,dt,Nn,{isHorizontal:nn,constrained:Gt.constraintext==="both"||Gt.constraintext==="inside",angle:Fn,anchor:zn,hasB:un,r:Lt,overhead:kt}),Yn.fontSize=cr.size,n(Gt.type==="histogram"?"bar":Gt.type,Yn,on),dn.transform=Yn;var jn=p(Gn,on,_t,Ot);r.setTransormAndDisplay(jn,Yn)}else Ue.select("text").remove()})(I,R,Me,K,le,Oe,Be,pe,_e,ot,wt,j,W),R.layerClipId&&f.hideOutsideRangePoint(fe,Me.select("text"),F,V,J.xcalendar,J.ycalendar)});var ke=J.cliponaxis===!1;f.setClipUrl(X,ke?null:R.layerClipId,I)});s.getComponentMethod("errorbars","plot")(I,Q,R,j)},toMoveInsideBar:O}},45784:function(B){function L(e,k,w,r,_){var v=k.c2p(r?e.s0:e.p0,!0),f=k.c2p(r?e.s1:e.p1,!0),s=w.c2p(r?e.p0:e.s0,!0),t=w.c2p(r?e.p1:e.s1,!0);return _?[(v+f)/2,(s+t)/2]:r?[f,(s+t)/2]:[(v+f)/2,t]}B.exports=function(e,k){var w,r=e.cd,_=e.xaxis,v=e.yaxis,f=r[0].trace,s=f.type==="funnel",t=f.orientation==="h",a=[];if(k===!1)for(w=0;w<r.length;w++)r[w].selected=0;else for(w=0;w<r.length;w++){var n=r[w],i="ct"in n?n.ct:L(n,_,v,t,s);k.contains(i,!1,w,e)?(a.push({pointNumber:w,x:_.c2d(n.x),y:v.c2d(n.y)}),n.selected=1):n.selected=0}return a}},72592:function(B,L,e){B.exports=w;var k=e(3400).distinctVals;function w(r,_){this.traces=r,this.sepNegVal=_.sepNegVal,this.overlapNoMerge=_.overlapNoMerge;for(var v=1/0,f=_.posAxis._id.charAt(0),s=[],t=0;t<r.length;t++){for(var a=r[t],n=0;n<a.length;n++){var i=a[n],l=i.p;l===void 0&&(l=i[f]),l!==void 0&&s.push(l)}a[0]&&a[0].width1&&(v=Math.min(a[0].width1,v))}this.positions=s;var o=k(s);this.distinctPositions=o.vals,o.vals.length===1&&v!==1/0?this.minDiff=v:this.minDiff=Math.min(o.minDiff,v);var u=(_.posAxis||{}).type;u!=="category"&&u!=="multicategory"||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}w.prototype.put=function(r,_){var v=this.getLabel(r,_),f=this.bins[v]||0;return this.bins[v]=f+_,f},w.prototype.get=function(r,_){var v=this.getLabel(r,_);return this.bins[v]||0},w.prototype.getLabel=function(r,_){return(_<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?r:Math.round(r/this.binWidth))}},60100:function(B,L,e){var k=e(33428),w=e(76308),r=e(43616),_=e(3400),v=e(24040),f=e(82744).resizeText,s=e(20832),t=s.textfont,a=s.insidetextfont,n=s.outsidetextfont,i=e(60444);function l(m,y,x){r.pointStyle(m.selectAll("path"),y,x),o(m,y,x)}function o(m,y,x){m.selectAll("text").each(function(T){var p=k.select(this),S=_.ensureUniformFontSize(x,u(p,T,y,x));r.font(p,S)})}function u(m,y,x,T){var p=T._fullLayout.font,S=x.textfont;if(m.classed("bartext-inside")){var M=g(y,x);S=c(x,y.i,p,M)}else m.classed("bartext-outside")&&(S=b(x,y.i,p));return S}function h(m,y,x){return d(t,m.textfont,y,x)}function c(m,y,x,T){var p=h(m,y,x);return(m._input.textfont===void 0||m._input.textfont.color===void 0||Array.isArray(m.textfont.color)&&m.textfont.color[y]===void 0)&&(p={color:w.contrast(T),family:p.family,size:p.size}),d(a,m.insidetextfont,y,p)}function b(m,y,x){var T=h(m,y,x);return d(n,m.outsidetextfont,y,T)}function d(m,y,x,T){y=y||{};var p=i.getValue(y.family,x),S=i.getValue(y.size,x),M=i.getValue(y.color,x);return{family:i.coerceString(m.family,p,T.family),size:i.coerceNumber(m.size,S,T.size),color:i.coerceColor(m.color,M,T.color)}}function g(m,y){return y.type==="waterfall"?y[m.dir].marker.color:m.mcc||m.mc||y.marker.color}B.exports={style:function(m){var y=k.select(m).selectAll("g.barlayer").selectAll("g.trace");f(m,y,"bar");var x=y.size(),T=m._fullLayout;y.style("opacity",function(p){return p[0].trace.opacity}).each(function(p){(T.barmode==="stack"&&x>1||T.bargap===0&&T.bargroupgap===0&&!p[0].trace.marker.line.width)&&k.select(this).attr("shape-rendering","crispEdges")}),y.selectAll("g.points").each(function(p){l(k.select(this),p[0].trace,m)}),v.getComponentMethod("errorbars","style")(y)},styleTextPoints:o,styleOnSelect:function(m,y,x){var T=y[0].trace;T.selectedpoints?function(p,S,M){r.selectedPointStyle(p.selectAll("path"),S),function(E,P,O){E.each(function(I){var R,U=k.select(this);if(I.selected){R=_.ensureUniformFontSize(O,u(U,I,P,O));var z=P.selected.textfont&&P.selected.textfont.color;z&&(R.color=z),r.font(U,R)}else r.selectedTextStyle(U,P)})}(p.selectAll("text"),S,M)}(x,T,m):(l(x,T,m),v.getComponentMethod("errorbars","style")(x))},getInsideTextFont:c,getOutsideTextFont:b,getBarColor:g,resizeText:f}},55592:function(B,L,e){var k=e(76308),w=e(94288).hasColorscale,r=e(27260),_=e(3400).coercePattern;B.exports=function(v,f,s,t,a){var n=s("marker.color",t),i=w(v,"marker");i&&r(v,f,a,s,{prefix:"marker.",cLetter:"c"}),s("marker.line.color",k.defaultLine),w(v,"marker.line")&&r(v,f,a,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width"),s("marker.opacity"),_(s,"marker.pattern",n,i),s("selected.marker.color"),s("unselected.marker.color")}},82744:function(B,L,e){var k=e(33428),w=e(3400);function r(_){return"_"+_+"Text_minsize"}B.exports={recordMinTextSize:function(_,v,f){if(f.uniformtext.mode){var s=r(_),t=f.uniformtext.minsize,a=v.scale*v.fontSize;v.hide=a<t,f[s]=f[s]||1/0,v.hide||(f[s]=Math.min(f[s],Math.max(a,t)))}},clearMinTextSize:function(_,v){v[r(_)]=void 0},resizeText:function(_,v,f){var s=_._fullLayout,t=s["_"+f+"Text_minsize"];if(t){var a,n=s.uniformtext.mode==="hide";switch(f){case"funnelarea":case"pie":case"sunburst":a="g.slice";break;case"treemap":case"icicle":a="g.slice, g.pathbar";break;default:a="g.points > g.point"}v.selectAll(a).each(function(i){var l=i.transform;if(l){l.scale=n&&l.hide?0:t/l.fontSize;var o=k.select(this).select("text");w.setTransormAndDisplay(o,l)}})}}}},78100:function(B,L,e){var k,w=e(21776).Ks,r=e(92880).extendFlat,_=e(8319),v=e(20832);B.exports={r:_.r,theta:_.theta,r0:_.r0,dr:_.dr,theta0:_.theta0,dtheta:_.dtheta,thetaunit:_.thetaunit,base:r({},v.base,{}),offset:r({},v.offset,{}),width:r({},v.width,{}),text:r({},v.text,{}),hovertext:r({},v.hovertext,{}),marker:(k=r({},v.marker),delete k.cornerradius,k),hoverinfo:_.hoverinfo,hovertemplate:w(),selected:v.selected,unselected:v.unselected}},47056:function(B,L,e){var k=e(94288).hasColorscale,w=e(47128),r=e(3400).isArrayOrTypedArray,_=e(84664),v=e(96376).setGroupPositions,f=e(4500),s=e(24040).traceIs,t=e(3400).extendFlat;B.exports={calc:function(a,n){for(var i=a._fullLayout,l=n.subplot,o=i[l].radialaxis,u=i[l].angularaxis,h=o.makeCalcdata(n,"r"),c=u.makeCalcdata(n,"theta"),b=n._length,d=new Array(b),g=h,m=c,y=0;y<b;y++)d[y]={p:m[y],s:g[y]};function x(T){var p=n[T];p!==void 0&&(n["_"+T]=r(p)?u.makeCalcdata(n,T):u.d2c(p,n.thetaunit))}return u.type==="linear"&&(x("width"),x("offset")),k(n,"marker")&&w(a,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),k(n,"marker.line")&&w(a,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}),_(d,n),f(d,n),d},crossTraceCalc:function(a,n,i){for(var l=a.calcdata,o=[],u=0;u<l.length;u++){var h=l[u],c=h[0].trace;c.visible===!0&&s(c,"bar")&&c.subplot===i&&o.push(h)}var b=t({},n.radialaxis,{_id:"x"}),d=n.angularaxis;v(a,d,b,o,{mode:n.barmode,norm:n.barnorm,gap:n.bargap,groupgap:n.bargroupgap})}}},70384:function(B,L,e){var k=e(3400),w=e(85968).handleRThetaDefaults,r=e(55592),_=e(78100);B.exports=function(v,f,s,t){function a(n,i){return k.coerce(v,f,_,n,i)}w(v,f,t,a)?(a("thetaunit"),a("base"),a("offset"),a("width"),a("text"),a("hovertext"),a("hovertemplate"),r(v,f,a,s,t),k.coerceSelectionMarkerOpacity(f,a)):f.visible=!1}},68896:function(B,L,e){var k=e(93024),w=e(3400),r=e(63400).getTraceColor,_=w.fillText,v=e(8504).makeHoverPointText,f=e(57384).isPtInsidePolygon;B.exports=function(s,t,a){var n=s.cd,i=n[0].trace,l=s.subplot,o=l.radialAxis,u=l.angularAxis,h=l.vangles,c=h?f:w.isPtInsideSector,b=s.maxHoverDistance,d=u._period||2*Math.PI,g=Math.abs(o.g2p(Math.sqrt(t*t+a*a))),m=Math.atan2(a,t);if(o.range[0]>o.range[1]&&(m+=Math.PI),k.getClosest(n,function(T){return c(g,m,[T.rp0,T.rp1],[T.thetag0,T.thetag1],h)?b+Math.min(1,Math.abs(T.thetag1-T.thetag0)/d)-1+(T.rp1-g)/(T.rp1-T.rp0)-1:1/0},s),s.index!==!1){var y=n[s.index];s.x0=s.x1=y.ct[0],s.y0=s.y1=y.ct[1];var x=w.extendFlat({},y,{r:y.s,theta:y.p});return _(y,i,s),v(x,i,l,s),s.hovertemplate=i.hovertemplate,s.color=r(i,y),s.xLabelVal=s.yLabelVal=void 0,y.s<0&&(s.idealAlign="left"),[s]}}},94456:function(B,L,e){B.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(B){B.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(B,L,e){var k=e(3400),w=e(9320);B.exports=function(r,_,v){var f,s={};function t(i,l){return k.coerce(r[f]||{},_[f],w,i,l)}for(var a=0;a<v.length;a++){var n=v[a];n.type==="barpolar"&&n.visible===!0&&(s[f=n.subplot]||(t("barmode"),t("bargap"),s[f]=1))}}},42040:function(B,L,e){var k=e(33428),w=e(38248),r=e(3400),_=e(43616),v=e(57384);B.exports=function(f,s,t){var a=f._context.staticPlot,n=s.xaxis,i=s.yaxis,l=s.radialAxis,o=s.angularAxis,u=function(c){var b=c.cxx,d=c.cyy;return c.vangles?function(g,m,y,x){var T,p;r.angleDelta(y,x)>0?(T=y,p=x):(T=x,p=y);var S=[v.findEnclosingVertexAngles(T,c.vangles)[0],(T+p)/2,v.findEnclosingVertexAngles(p,c.vangles)[1]];return v.pathPolygonAnnulus(g,m,T,p,S,b,d)}:function(g,m,y,x){return r.pathAnnulus(g,m,y,x,b,d)}}(s),h=s.layers.frontplot.select("g.barlayer");r.makeTraceGroups(h,t,"trace bars").each(function(){var c=k.select(this),b=r.ensureSingle(c,"g","points").selectAll("g.point").data(r.identity);b.enter().append("g").style("vector-effect",a?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),b.exit().remove(),b.each(function(d){var g,m=k.select(this),y=d.rp0=l.c2p(d.s0),x=d.rp1=l.c2p(d.s1),T=d.thetag0=o.c2g(d.p0),p=d.thetag1=o.c2g(d.p1);if(w(y)&&w(x)&&w(T)&&w(p)&&y!==x&&T!==p){var S=l.c2g(d.s1),M=(T+p)/2;d.ct=[n.c2p(S*Math.cos(M)),i.c2p(S*Math.sin(M))],g=u(y,x,T,p)}else g="M0,0Z";r.ensureSingle(m,"path").attr("d",g)}),_.setClipUrl(c,s._hasClipOnAxisFalse?s.clipIds.forTraces:null,f)})}},63188:function(B,L,e){var k=e(98304),w=e(52904),r=e(20832),_=e(22548),v=e(29736).axisHoverFormat,f=e(21776).Ks,s=e(92880).extendFlat,t=w.marker,a=t.line;B.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:w.xperiod,yperiod:w.yperiod,xperiod0:w.xperiod0,yperiod0:w.yperiod0,xperiodalignment:w.xperiodalignment,yperiodalignment:w.yperiodalignment,xhoverformat:v("x"),yhoverformat:v("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:s({},t.symbol,{arrayOk:!1,editType:"plot"}),opacity:s({},t.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:s({},t.angle,{arrayOk:!1,editType:"calc"}),size:s({},t.size,{arrayOk:!1,editType:"calc"}),color:s({},t.color,{arrayOk:!1,editType:"style"}),line:{color:s({},a.color,{arrayOk:!1,dflt:_.defaultLine,editType:"style"}),width:s({},a.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:k(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:r.offsetgroup,alignmentgroup:r.alignmentgroup,selected:{marker:w.selected.marker,editType:"style"},unselected:{marker:w.unselected.marker,editType:"style"},text:s({},w.text,{}),hovertext:s({},w.hovertext,{}),hovertemplate:f({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},62555:function(B,L,e){var k=e(38248),w=e(54460),r=e(1220),_=e(3400),v=e(39032).BADNUM,f=_._;B.exports=function(c,b){var d,g,m,y,x,T,p,S=c._fullLayout,M=w.getFromId(c,b.xaxis||"x"),E=w.getFromId(c,b.yaxis||"y"),P=[],O=b.type==="violin"?"_numViolins":"_numBoxes";b.orientation==="h"?(m=M,y="x",x=E,T="y",p=!!b.yperiodalignment):(m=E,y="y",x=M,T="x",p=!!b.xperiodalignment);var I,R,U,z,j,W,F=function(Ne,ze,Ge,Ye){var et,ut=ze+"0"in Ne;if(ze in Ne||ut&&"d"+ze in Ne){var ot=Ge.makeCalcdata(Ne,ze);return[r(Ne,Ge,ze,ot).vals,ot]}et=ut?Ne[ze+"0"]:"name"in Ne&&(Ge.type==="category"||k(Ne.name)&&["linear","log"].indexOf(Ge.type)!==-1||_.isDateTime(Ne.name)&&Ge.type==="date")?Ne.name:Ye;for(var yt=Ge.type==="multicategory"?Ge.r2c_just_indices(et):Ge.d2c(et,0,Ne[ze+"calendar"]),wt=Ne._length,bt=new Array(wt),at=0;at<wt;at++)bt[at]=yt;return[bt]}(b,T,x,S[O]),V=F[0],H=F[1],te=_.distinctVals(V,x),Q=te.vals,K=te.minDiff/2,X=(b.boxpoints||b.points)==="all"?_.identity:function(Ne){return Ne.v<I.lf||Ne.v>I.uf};if(b._hasPreCompStats){var J=b[y],ee=function(Ne){return m.d2c((b[Ne]||[])[d])},ie=1/0,oe=-1/0;for(d=0;d<b._length;d++){var ae=V[d];if(k(ae)){if((I={}).pos=I[T]=ae,p&&H&&(I.orig_p=H[d]),I.q1=ee("q1"),I.med=ee("median"),I.q3=ee("q3"),R=[],J&&_.isArrayOrTypedArray(J[d]))for(g=0;g<J[d].length;g++)(W=m.d2c(J[d][g]))!==v&&(t(j={v:W,i:[d,g]},b,[d,g]),R.push(j));if(I.pts=R.sort(a),z=(U=I[y]=R.map(n)).length,I.med!==v&&I.q1!==v&&I.q3!==v&&I.med>=I.q1&&I.q3>=I.med){var ce=ee("lowerfence");I.lf=ce!==v&&ce<=I.q1?ce:i(I,U,z);var ge=ee("upperfence");I.uf=ge!==v&&ge>=I.q3?ge:l(I,U,z);var ve=ee("mean");I.mean=ve!==v?ve:z?_.mean(U,z):(I.q1+I.q3)/2;var be=ee("sd");I.sd=ve!==v&&be>=0?be:z?_.stdev(U,z,I.mean):I.q3-I.q1,I.lo=o(I),I.uo=u(I);var we=ee("notchspan");we=we!==v&&we>0?we:h(I,z),I.ln=I.med-we,I.un=I.med+we;var ye=I.lf,me=I.uf;b.boxpoints&&U.length&&(ye=Math.min(ye,U[0]),me=Math.max(me,U[z-1])),b.notched&&(ye=Math.min(ye,I.ln),me=Math.max(me,I.un)),I.min=ye,I.max=me}else{var Ae;_.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+I.q1,"median = "+I.med,"q3 = "+I.q3].join(`
`)),Ae=I.med!==v?I.med:I.q1!==v?I.q3!==v?(I.q1+I.q3)/2:I.q1:I.q3!==v?I.q3:0,I.med=Ae,I.q1=I.q3=Ae,I.lf=I.uf=Ae,I.mean=I.sd=Ae,I.ln=I.un=Ae,I.min=I.max=Ae}ie=Math.min(ie,I.min),oe=Math.max(oe,I.max),I.pts2=R.filter(X),P.push(I)}}b._extremes[m._id]=w.findExtremes(m,[ie,oe],{padded:!0})}else{var ke=m.makeCalcdata(b,y),fe=function(Ne,ze){for(var Ge=Ne.length,Ye=new Array(Ge+1),et=0;et<Ge;et++)Ye[et]=Ne[et]-ze;return Ye[Ge]=Ne[Ge-1]+ze,Ye}(Q,K),le=Q.length,de=function(Ne){for(var ze=new Array(Ne),Ge=0;Ge<Ne;Ge++)ze[Ge]=[];return ze}(le);for(d=0;d<b._length;d++)if(W=ke[d],k(W)){var Ce=_.findBin(V[d],fe);Ce>=0&&Ce<le&&(t(j={v:W,i:d},b,d),de[Ce].push(j))}var Me=1/0,Le=-1/0,Oe=b.quartilemethod,Be=Oe==="exclusive",pe=Oe==="inclusive";for(d=0;d<le;d++)if(de[d].length>0){var _e,Te;(I={}).pos=I[T]=Q[d],R=I.pts=de[d].sort(a),z=(U=I[y]=R.map(n)).length,I.min=U[0],I.max=U[z-1],I.mean=_.mean(U,z),I.sd=_.stdev(U,z,I.mean)*b.sdmultiple,I.med=_.interp(U,.5),z%2&&(Be||pe)?(Be?(_e=U.slice(0,z/2),Te=U.slice(z/2+1)):pe&&(_e=U.slice(0,z/2+1),Te=U.slice(z/2)),I.q1=_.interp(_e,.5),I.q3=_.interp(Te,.5)):(I.q1=_.interp(U,.25),I.q3=_.interp(U,.75)),I.lf=i(I,U,z),I.uf=l(I,U,z),I.lo=o(I),I.uo=u(I);var Re=h(I,z);I.ln=I.med-Re,I.un=I.med+Re,Me=Math.min(Me,I.ln),Le=Math.max(Le,I.un),I.pts2=R.filter(X),P.push(I)}b.notched&&_.isTypedArray(ke)&&(ke=Array.from(ke)),b._extremes[m._id]=w.findExtremes(m,b.notched?ke.concat([Me,Le]):ke,{padded:!0})}return function(Ne,ze){if(_.isArrayOrTypedArray(ze.selectedpoints))for(var Ge=0;Ge<Ne.length;Ge++){for(var Ye=Ne[Ge].pts||[],et={},ut=0;ut<Ye.length;ut++)et[Ye[ut].i]=ut;_.tagSelected(Ye,ze,et)}}(P,b),P.length>0?(P[0].t={num:S[O],dPos:K,posLetter:T,valLetter:y,labels:{med:f(c,"median:"),min:f(c,"min:"),q1:f(c,"q1:"),q3:f(c,"q3:"),max:f(c,"max:"),mean:b.boxmean==="sd"||b.sizemode==="sd"?f(c,"mean  :").replace("",b.sdmultiple===1?"":b.sdmultiple+""):f(c,"mean:"),lf:f(c,"lower fence:"),uf:f(c,"upper fence:")}},S[O]++,P):[{t:{empty:!0}}]};var s={text:"tx",hovertext:"htx"};function t(c,b,d){for(var g in s)_.isArrayOrTypedArray(b[g])&&(Array.isArray(d)?_.isArrayOrTypedArray(b[g][d[0]])&&(c[s[g]]=b[g][d[0]][d[1]]):c[s[g]]=b[g][d])}function a(c,b){return c.v-b.v}function n(c){return c.v}function i(c,b,d){return d===0?c.q1:Math.min(c.q1,b[Math.min(_.findBin(2.5*c.q1-1.5*c.q3,b,!0)+1,d-1)])}function l(c,b,d){return d===0?c.q3:Math.max(c.q3,b[Math.max(_.findBin(2.5*c.q3-1.5*c.q1,b),0)])}function o(c){return 4*c.q1-3*c.q3}function u(c){return 4*c.q3-3*c.q1}function h(c,b){return b===0?0:1.57*(c.q3-c.q1)/Math.sqrt(b)}},96404:function(B,L,e){var k=e(54460),w=e(3400),r=e(71888).getAxisGroup,_=["v","h"];function v(f,s,t,a){var n,i,l,o=s.calcdata,u=s._fullLayout,h=a._id,c=h.charAt(0),b=[],d=0;for(n=0;n<t.length;n++)for(l=o[t[n]],i=0;i<l.length;i++)b.push(a.c2l(l[i].pos,!0)),d+=(l[i].pts2||[]).length;if(b.length){var g=w.distinctVals(b);a.type!=="category"&&a.type!=="multicategory"||(g.minDiff=1);var m=g.minDiff/2;k.minDtick(a,g.minDiff,g.vals[0],!0);var y=u[f==="violin"?"_numViolins":"_numBoxes"],x=u[f+"mode"]==="group"&&y>1,T=1-u[f+"gap"],p=1-u[f+"groupgap"];for(n=0;n<t.length;n++){var S,M,E,P,O,I,R=(l=o[t[n]])[0].trace,U=l[0].t,z=R.width,j=R.side;if(z)S=M=P=z/2,E=0;else if(S=m,x){var W=r(u,a._id)+R.orientation,F=(u._alignmentOpts[W]||{})[R.alignmentgroup]||{},V=Object.keys(F.offsetGroups||{}).length,H=V||y;M=S*T*p/H,E=2*S*(((V?R._offsetIndex:U.num)+.5)/H-.5)*T,P=S*T/H}else M=S*T*p,E=0,P=S;U.dPos=S,U.bPos=E,U.bdPos=M,U.wHover=P;var te,Q,K,X,J,ee,ie=E+M,oe=!!z;if(j==="positive"?(O=S*(z?1:.5),te=ie,I=te=E):j==="negative"?(O=te=E,I=S*(z?1:.5),Q=ie):(O=I=S,te=Q=ie),(R.boxpoints||R.points)&&d>0){var ae=R.pointpos,ce=R.jitter,ge=R.marker.size/2,ve=0;ae+ce>=0&&((ve=ie*(ae+ce))>O?(oe=!0,J=ge,K=ve):ve>te&&(J=ge,K=O)),ve<=O&&(K=O);var be=0;ae-ce<=0&&((be=-ie*(ae-ce))>I?(oe=!0,ee=ge,X=be):be>Q&&(ee=ge,X=I)),be<=I&&(X=I)}else K=O,X=I;var we=new Array(l.length);for(i=0;i<l.length;i++)we[i]=l[i].pos;R._extremes[h]=k.findExtremes(a,we,{padded:oe,vpadminus:X,vpadplus:K,vpadLinearized:!0,ppadminus:{x:ee,y:J}[c],ppadplus:{x:J,y:ee}[c]})}}}B.exports={crossTraceCalc:function(f,s){for(var t=f.calcdata,a=s.xaxis,n=s.yaxis,i=0;i<_.length;i++){for(var l=_[i],o=l==="h"?n:a,u=[],h=0;h<t.length;h++){var c=t[h],b=c[0].t,d=c[0].trace;d.visible!==!0||d.type!=="box"&&d.type!=="candlestick"||b.empty||(d.orientation||"v")!==l||d.xaxis!==a._id||d.yaxis!==n._id||u.push(h)}v("box",f,u,o)}},setPositionOffset:v}},90624:function(B,L,e){var k=e(3400),w=e(24040),r=e(76308),_=e(31147),v=e(20011),f=e(52976),s=e(63188);function t(n,i,l,o){function u(j){var W=0;return j&&j.length&&(W+=1,k.isArrayOrTypedArray(j[0])&&j[0].length&&(W+=1)),W}function h(j){return k.validate(n[j],s[j])}var c,b=l("y"),d=l("x");if(i.type==="box"){var g=l("q1"),m=l("median"),y=l("q3");i._hasPreCompStats=g&&g.length&&m&&m.length&&y&&y.length,c=Math.min(k.minRowLength(g),k.minRowLength(m),k.minRowLength(y))}var x,T,p=u(b),S=u(d),M=p&&k.minRowLength(b),E=S&&k.minRowLength(d),P=o.calendar,O={autotypenumbers:o.autotypenumbers};if(i._hasPreCompStats)switch(String(S)+String(p)){case"00":var I=h("x0")||h("dx");x=!h("y0")&&!h("dy")||I?"v":"h",T=c;break;case"10":x="v",T=Math.min(c,E);break;case"20":x="h",T=Math.min(c,d.length);break;case"01":x="h",T=Math.min(c,M);break;case"02":x="v",T=Math.min(c,b.length);break;case"12":x="v",T=Math.min(c,E,b.length);break;case"21":x="h",T=Math.min(c,d.length,M);break;case"11":T=0;break;case"22":var R,U=!1;for(R=0;R<d.length;R++)if(f(d[R],P,O)==="category"){U=!0;break}if(U)x="v",T=Math.min(c,E,b.length);else{for(R=0;R<b.length;R++)if(f(b[R],P,O)==="category"){U=!0;break}U?(x="h",T=Math.min(c,d.length,M)):(x="v",T=Math.min(c,E,b.length))}}else p>0?(x="v",T=S>0?Math.min(E,M):Math.min(M)):S>0?(x="h",T=Math.min(E)):T=0;if(T){i._length=T;var z=l("orientation",x);i._hasPreCompStats?z==="v"&&S===0?(l("x0",0),l("dx",1)):z==="h"&&p===0&&(l("y0",0),l("dy",1)):z==="v"&&S===0?l("x0"):z==="h"&&p===0&&l("y0"),w.getComponentMethod("calendars","handleTraceDefaults")(n,i,["x","y"],o)}else i.visible=!1}function a(n,i,l,o){var u=o.prefix,h=k.coerce2(n,i,s,"marker.outliercolor"),c=l("marker.line.outliercolor"),b="outliers";i._hasPreCompStats?b="all":(h||c)&&(b="suspectedoutliers");var d=l(u+"points",b);d?(l("jitter",d==="all"?.3:0),l("pointpos",d==="all"?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",i.line.color),l("marker.line.color"),l("marker.line.width"),d==="suspectedoutliers"&&(l("marker.line.outliercolor",i.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete i.marker;var g=l("hoveron");g!=="all"&&g.indexOf("points")===-1||l("hovertemplate"),k.coerceSelectionMarkerOpacity(i,l)}B.exports={supplyDefaults:function(n,i,l,o){function u(T,p){return k.coerce(n,i,s,T,p)}if(t(n,i,u,o),i.visible!==!1){_(n,i,o,u),u("xhoverformat"),u("yhoverformat");var h=i._hasPreCompStats;h&&(u("lowerfence"),u("upperfence")),u("line.color",(n.marker||{}).color||l),u("line.width"),u("fillcolor",r.addOpacity(i.line.color,.5));var c=!1;if(h){var b=u("mean"),d=u("sd");b&&b.length&&(c=!0,d&&d.length&&(c="sd"))}u("whiskerwidth");var g,m=u("sizemode");m==="quartiles"&&(g=u("boxmean",c)),u("showwhiskers",m==="quartiles"),m!=="sd"&&g!=="sd"||u("sdmultiple"),u("width"),u("quartilemethod");var y=!1;if(h){var x=u("notchspan");x&&x.length&&(y=!0)}else k.validate(n.notchwidth,s.notchwidth)&&(y=!0);u("notched",y)&&u("notchwidth"),a(n,i,u,{prefix:"box"})}},crossTraceDefaults:function(n,i){var l,o;function u(b){return k.coerce(o._input,o,s,b)}for(var h=0;h<n.length;h++){var c=(o=n[h]).type;c!=="box"&&c!=="violin"||(l=o._input,i[c+"mode"]==="group"&&v(l,o,i,u))}},handleSampleDefaults:t,handlePointsDefaults:a}},10392:function(B){B.exports=function(L,e){return e.hoverOnBox&&(L.hoverOnBox=e.hoverOnBox),"xVal"in e&&(L.x=e.xVal),"yVal"in e&&(L.y=e.yVal),e.xa&&(L.xaxis=e.xa),e.ya&&(L.yaxis=e.ya),L}},27576:function(B,L,e){var k=e(54460),w=e(3400),r=e(93024),_=e(76308),v=w.fillText;function f(t,a,n,i){var l,o,u,h,c,b,d,g,m,y,x,T,p,S,M=t.cd,E=t.xa,P=t.ya,O=M[0].trace,I=M[0].t,R=O.type==="violin",U=I.bdPos,z=I.wHover,j=function(Ae){return u.c2l(Ae.pos)+I.bPos-u.c2l(b)};R&&O.side!=="both"?(O.side==="positive"&&(m=function(Ae){var ke=j(Ae);return r.inbox(ke,ke+z,y)},T=U,p=0),O.side==="negative"&&(m=function(Ae){var ke=j(Ae);return r.inbox(ke-z,ke,y)},T=0,p=U)):(m=function(Ae){var ke=j(Ae);return r.inbox(ke-z,ke+z,y)},T=p=U),S=R?function(Ae){return r.inbox(Ae.span[0]-c,Ae.span[1]-c,y)}:function(Ae){return r.inbox(Ae.min-c,Ae.max-c,y)},O.orientation==="h"?(c=a,b=n,d=S,g=m,l="y",u=P,o="x",h=E):(c=n,b=a,d=m,g=S,l="x",u=E,o="y",h=P);var W=Math.min(1,U/Math.abs(u.r2c(u.range[1])-u.r2c(u.range[0])));function F(Ae){return(d(Ae)+g(Ae))/2}y=t.maxHoverDistance-W,x=t.maxSpikeDistance-W;var V=r.getDistanceFunction(i,d,g,F);if(r.getClosest(M,V,t),t.index===!1)return[];var H=M[t.index],te=O.line.color,Q=(O.marker||{}).color;_.opacity(te)&&O.line.width?t.color=te:_.opacity(Q)&&O.boxpoints?t.color=Q:t.color=O.fillcolor,t[l+"0"]=u.c2p(H.pos+I.bPos-p,!0),t[l+"1"]=u.c2p(H.pos+I.bPos+T,!0),t[l+"LabelVal"]=H.orig_p!==void 0?H.orig_p:H.pos;var K=l+"Spike";t.spikeDistance=F(H)*x/y,t[K]=u.c2p(H.pos,!0);var X=O.boxmean||O.sizemode==="sd"||(O.meanline||{}).visible,J=O.boxpoints||O.points,ee=J&&X?["max","uf","q3","med","mean","q1","lf","min"]:J&&!X?["max","uf","q3","med","q1","lf","min"]:!J&&X?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],ie=h.range[1]<h.range[0];O.orientation===(ie?"v":"h")&&ee.reverse();for(var oe=t.spikeDistance,ae=t[K],ce=[],ge=0;ge<ee.length;ge++){var ve=ee[ge];if(ve in H){var be=H[ve],we=h.c2p(be,!0),ye=w.extendFlat({},t);ye.attr=ve,ye[o+"0"]=ye[o+"1"]=we,ye[o+"LabelVal"]=be,ye[o+"Label"]=(I.labels?I.labels[ve]+" ":"")+k.hoverLabelText(h,be,O[o+"hoverformat"]),ye.hoverOnBox=!0,ve!=="mean"||!("sd"in H)||O.boxmean!=="sd"&&O.sizemode!=="sd"||(ye[o+"err"]=H.sd),ye.hovertemplate=!1,ce.push(ye)}}t.name="",t.spikeDistance=void 0,t[K]=void 0;for(var me=0;me<ce.length;me++)ce[me].attr!=="med"?(ce[me].name="",ce[me].spikeDistance=void 0,ce[me][K]=void 0):(ce[me].spikeDistance=oe,ce[me][K]=ae);return ce}function s(t,a,n){for(var i,l,o,u=t.cd,h=t.xa,c=t.ya,b=u[0].trace,d=h.c2p(a),g=c.c2p(n),m=r.quadrature(function(R){var U=Math.max(3,R.mrc||0);return Math.max(Math.abs(h.c2p(R.x)-d)-U,1-3/U)},function(R){var U=Math.max(3,R.mrc||0);return Math.max(Math.abs(c.c2p(R.y)-g)-U,1-3/U)}),y=!1,x=0;x<u.length;x++){l=u[x];for(var T=0;T<(l.pts||[]).length;T++){var p=m(o=l.pts[T]);p<=t.distance&&(t.distance=p,y=[x,T])}}if(!y)return!1;o=(l=u[y[0]]).pts[y[1]];var S=h.c2p(o.x,!0),M=c.c2p(o.y,!0),E=o.mrc||1;i=w.extendFlat({},t,{index:o.i,color:(b.marker||{}).color,name:b.name,x0:S-E,x1:S+E,y0:M-E,y1:M+E,spikeDistance:t.distance,hovertemplate:b.hovertemplate});var P,O=l.orig_p,I=O!==void 0?O:l.pos;return b.orientation==="h"?(P=c,i.xLabelVal=o.x,i.yLabelVal=I):(P=h,i.xLabelVal=I,i.yLabelVal=o.y),i[P._id.charAt(0)+"Spike"]=P.c2p(l.pos,!0),v(o,b,i),i}B.exports={hoverPoints:function(t,a,n,i){var l,o=t.cd[0].trace.hoveron,u=[];return o.indexOf("boxes")!==-1&&(u=u.concat(f(t,a,n,i))),o.indexOf("points")!==-1&&(l=s(t,a,n)),i==="closest"?l?[l]:u:(l&&u.push(l),u)},hoverOnBoxes:f,hoverOnPoints:s}},67244:function(B,L,e){B.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(B){B.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(B,L,e){var k=e(24040),w=e(3400),r=e(16560);function _(v,f,s,t,a){for(var n=a+"Layout",i=!1,l=0;l<s.length;l++){var o=s[l];if(k.traceIs(o,n)){i=!0;break}}i&&(t(a+"mode"),t(a+"gap"),t(a+"groupgap"))}B.exports={supplyLayoutDefaults:function(v,f,s){_(0,0,s,function(t,a){return w.coerce(v,f,r,t,a)},"box")},_supply:_}},18728:function(B,L,e){var k=e(33428),w=e(3400),r=e(43616);function _(s,t,a,n,i){var l,o,u=a.orientation==="h",h=t.val,c=t.pos,b=!!c.rangebreaks,d=n.bPos,g=n.wdPos||0,m=n.bPosPxOffset||0,y=a.whiskerwidth||0,x=a.showwhiskers!==!1,T=a.notched||!1,p=T?1-2*a.notchwidth:1;Array.isArray(n.bdPos)?(l=n.bdPos[0],o=n.bdPos[1]):(l=n.bdPos,o=n.bdPos);var S=s.selectAll("path.box").data(a.type!=="violin"||a.box.visible?w.identity:[]);S.enter().append("path").style("vector-effect",i?"none":"non-scaling-stroke").attr("class","box"),S.exit().remove(),S.each(function(M){if(M.empty)return k.select(this).attr("d","M0,0Z");var E=c.c2l(M.pos+d,!0),P=c.l2p(E-l)+m,O=c.l2p(E+o)+m,I=b?(P+O)/2:c.l2p(E)+m,R=a.whiskerwidth,U=b?P*R+(1-R)*I:c.l2p(E-g)+m,z=b?O*R+(1-R)*I:c.l2p(E+g)+m,j=c.l2p(E-l*p)+m,W=c.l2p(E+o*p)+m,F=a.sizemode==="sd",V=h.c2p(F?M.mean-M.sd:M.q1,!0),H=F?h.c2p(M.mean+M.sd,!0):h.c2p(M.q3,!0),te=w.constrain(F?h.c2p(M.mean,!0):h.c2p(M.med,!0),Math.min(V,H)+1,Math.max(V,H)-1),Q=M.lf===void 0||a.boxpoints===!1||F,K=h.c2p(Q?M.min:M.lf,!0),X=h.c2p(Q?M.max:M.uf,!0),J=h.c2p(M.ln,!0),ee=h.c2p(M.un,!0);u?k.select(this).attr("d","M"+te+","+j+"V"+W+"M"+V+","+P+"V"+O+(T?"H"+J+"L"+te+","+W+"L"+ee+","+O:"")+"H"+H+"V"+P+(T?"H"+ee+"L"+te+","+j+"L"+J+","+P:"")+"Z"+(x?"M"+V+","+I+"H"+K+"M"+H+","+I+"H"+X+(y===0?"":"M"+K+","+U+"V"+z+"M"+X+","+U+"V"+z):"")):k.select(this).attr("d","M"+j+","+te+"H"+W+"M"+P+","+V+"H"+O+(T?"V"+J+"L"+W+","+te+"L"+O+","+ee:"")+"V"+H+"H"+P+(T?"V"+ee+"L"+j+","+te+"L"+P+","+J:"")+"Z"+(x?"M"+I+","+V+"V"+K+"M"+I+","+H+"V"+X+(y===0?"":"M"+U+","+K+"H"+z+"M"+U+","+X+"H"+z):""))})}function v(s,t,a,n){var i=t.x,l=t.y,o=n.bdPos,u=n.bPos,h=a.boxpoints||a.points;w.seedPseudoRandom();var c=s.selectAll("g.points").data(h?function(d){return d.forEach(function(g){g.t=n,g.trace=a}),d}:[]);c.enter().append("g").attr("class","points"),c.exit().remove();var b=c.selectAll("path").data(function(d){var g,m,y=d.pts2,x=Math.max((d.max-d.min)/10,d.q3-d.q1),T=1e-9*x,p=.01*x,S=[],M=0;if(a.jitter){if(x===0)for(M=1,S=new Array(y.length),g=0;g<y.length;g++)S[g]=1;else for(g=0;g<y.length;g++){var E=Math.max(0,g-5),P=y[E].v,O=Math.min(y.length-1,g+5),I=y[O].v;h!=="all"&&(y[g].v<d.lf?I=Math.min(I,d.lf):P=Math.max(P,d.uf));var R=Math.sqrt(p*(O-E)/(I-P+T))||0;R=w.constrain(Math.abs(R),0,1),S.push(R),M=Math.max(R,M)}m=2*a.jitter/(M||1)}for(g=0;g<y.length;g++){var U=y[g],z=U.v,j=a.jitter?m*S[g]*(w.pseudoRandom()-.5):0,W=d.pos+u+o*(a.pointpos+j);a.orientation==="h"?(U.y=W,U.x=z):(U.x=W,U.y=z),h==="suspectedoutliers"&&z<d.uo&&z>d.lo&&(U.so=!0)}return y});b.enter().append("path").classed("point",!0),b.exit().remove(),b.call(r.translatePoints,i,l)}function f(s,t,a,n){var i,l,o=t.val,u=t.pos,h=!!u.rangebreaks,c=n.bPos,b=n.bPosPxOffset||0,d=a.boxmean||(a.meanline||{}).visible;Array.isArray(n.bdPos)?(i=n.bdPos[0],l=n.bdPos[1]):(i=n.bdPos,l=n.bdPos);var g=s.selectAll("path.mean").data(a.type==="box"&&a.boxmean||a.type==="violin"&&a.box.visible&&a.meanline.visible?w.identity:[]);g.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),g.exit().remove(),g.each(function(m){var y=u.c2l(m.pos+c,!0),x=u.l2p(y-i)+b,T=u.l2p(y+l)+b,p=h?(x+T)/2:u.l2p(y)+b,S=o.c2p(m.mean,!0),M=o.c2p(m.mean-m.sd,!0),E=o.c2p(m.mean+m.sd,!0);a.orientation==="h"?k.select(this).attr("d","M"+S+","+x+"V"+T+(d==="sd"?"m0,0L"+M+","+p+"L"+S+","+x+"L"+E+","+p+"Z":"")):k.select(this).attr("d","M"+x+","+S+"H"+T+(d==="sd"?"m0,0L"+p+","+M+"L"+x+","+S+"L"+p+","+E+"Z":""))})}B.exports={plot:function(s,t,a,n){var i=s._context.staticPlot,l=t.xaxis,o=t.yaxis;w.makeTraceGroups(n,a,"trace boxes").each(function(u){var h,c,b=k.select(this),d=u[0],g=d.t,m=d.trace;g.wdPos=g.bdPos*m.whiskerwidth,m.visible!==!0||g.empty?b.remove():(m.orientation==="h"?(h=o,c=l):(h=l,c=o),_(b,{pos:h,val:c},m,g,i),v(b,{x:l,y:o},m,g),f(b,{pos:h,val:c},m,g))})},plotBoxAndWhiskers:_,plotPoints:v,plotBoxMean:f}},8264:function(B){B.exports=function(L,e){var k,w,r=L.cd,_=L.xaxis,v=L.yaxis,f=[];if(e===!1)for(k=0;k<r.length;k++)for(w=0;w<(r[k].pts||[]).length;w++)r[k].pts[w].selected=0;else for(k=0;k<r.length;k++)for(w=0;w<(r[k].pts||[]).length;w++){var s=r[k].pts[w],t=_.c2p(s.x),a=v.c2p(s.y);e.contains([t,a],null,s.i,L)?(f.push({pointNumber:s.i,x:_.c2d(s.x),y:v.c2d(s.y)}),s.selected=1):s.selected=0}return f}},25776:function(B,L,e){var k=e(33428),w=e(76308),r=e(43616);B.exports={style:function(_,v,f){var s=f||k.select(_).selectAll("g.trace.boxes");s.style("opacity",function(t){return t[0].trace.opacity}),s.each(function(t){var a=k.select(this),n=t[0].trace,i=n.line.width;function l(h,c,b,d){h.style("stroke-width",c+"px").call(w.stroke,b).call(w.fill,d)}var o=a.selectAll("path.box");if(n.type==="candlestick")o.each(function(h){if(!h.empty){var c=k.select(this),b=n[h.dir];l(c,b.line.width,b.line.color,b.fillcolor),c.style("opacity",n.selectedpoints&&!h.selected?.3:1)}});else{l(o,i,n.line.color,n.fillcolor),a.selectAll("path.mean").style({"stroke-width":i,"stroke-dasharray":2*i+"px,"+i+"px"}).call(w.stroke,n.line.color);var u=a.selectAll("path.point");r.pointStyle(u,n,_)}})},styleOnSelect:function(_,v,f){var s=v[0].trace,t=f.selectAll("path.point");s.selectedpoints?r.selectedPointStyle(t,s):r.pointStyle(t,s,_)}}},64216:function(B,L,e){var k=e(3400).extendFlat,w=e(29736).axisHoverFormat,r=e(20279),_=e(63188);function v(f){return{line:{color:k({},_.line.color,{dflt:f}),width:_.line.width,editType:"style"},fillcolor:_.fillcolor,editType:"style"}}B.exports={xperiod:r.xperiod,xperiod0:r.xperiod0,xperiodalignment:r.xperiodalignment,xhoverformat:w("x"),yhoverformat:w("y"),x:r.x,open:r.open,high:r.high,low:r.low,close:r.close,line:{width:k({},_.line.width,{}),editType:"style"},increasing:v(r.increasing.line.color.dflt),decreasing:v(r.decreasing.line.color.dflt),text:r.text,hovertext:r.hovertext,whiskerwidth:k({},_.whiskerwidth,{dflt:0}),hoverlabel:r.hoverlabel}},46283:function(B,L,e){var k=e(3400),w=e(54460),r=e(1220),_=e(42812).calcCommon;function v(f,s,t,a){return{min:t,q1:Math.min(f,a),med:a,q3:Math.max(f,a),max:s}}B.exports=function(f,s){var t=f._fullLayout,a=w.getFromId(f,s.xaxis),n=w.getFromId(f,s.yaxis),i=a.makeCalcdata(s,"x"),l=r(s,a,"x",i).vals,o=_(f,s,i,l,n,v);return o.length?(k.extendFlat(o[0].t,{num:t._numBoxes,dPos:k.distinctVals(l).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,o):[{t:{empty:!0}}]}},64588:function(B,L,e){var k=e(3400),w=e(76308),r=e(52744),_=e(31147),v=e(64216);function f(s,t,a,n){var i=a(n+".line.color");a(n+".line.width",t.line.width),a(n+".fillcolor",w.addOpacity(i,.5))}B.exports=function(s,t,a,n){function i(l,o){return k.coerce(s,t,v,l,o)}r(s,t,i,n)?(_(s,t,n,i,{x:!0}),i("xhoverformat"),i("yhoverformat"),i("line.width"),f(0,t,i,"increasing"),f(0,t,i,"decreasing"),i("text"),i("hovertext"),i("whiskerwidth"),n._requestRangeslider[t.xaxis]=!0):t.visible=!1}},61712:function(B,L,e){B.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(B,L,e){var k=e(63856),w=e(31780);B.exports=function(r,_,v,f,s){f("a")||(f("da"),f("a0")),f("b")||(f("db"),f("b0")),function(t,a,n,i){["aaxis","baxis"].forEach(function(l){var o=l.charAt(0),u=t[l]||{},h=w.newContainer(a,l),c={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:o+"axis",letter:o,font:a.font,name:l,data:t[o],calendar:a.calendar,dfltColor:i,bgColor:n.paper_bgcolor,autotypenumbersDflt:n.autotypenumbers,fullLayout:n};k(u,h,c),h._categories=h._categories||[],t[l]||u.type==="-"||(t[l]={type:u.type})})}(r,_,v,s)}},51676:function(B,L,e){var k=e(3400).isArrayOrTypedArray;function w(r,_){if(!k(r)||_>=10)return null;for(var v=1/0,f=-1/0,s=r.length,t=0;t<s;t++){var a=r[t];if(k(a)){var n=w(a,_+1);n&&(v=Math.min(n[0],v),f=Math.max(n[1],f))}else v=Math.min(a,v),f=Math.max(a,f)}return[v,f]}B.exports=function(r){return w(r,0)}},85720:function(B,L,e){var k=e(25376),w=e(98692),r=e(22548),_=k({editType:"calc"});_.family.dflt='"Open Sans", verdana, arial, sans-serif',_.size.dflt=12,_.color.dflt=r.defaultLine,B.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:w,baxis:w,font:_,color:{valType:"color",dflt:r.defaultLine,editType:"plot"},transforms:void 0}},77712:function(B,L,e){var k=e(3400).isArrayOrTypedArray;B.exports=function(w,r,_,v){var f,s,t,a,n,i,l,o,u,h,c,b,d,g=k(_)?"a":"b",m=(g==="a"?w.aaxis:w.baxis).smoothing,y=g==="a"?w.a2i:w.b2j,x=g==="a"?_:v,T=g==="a"?v:_,p=g==="a"?r.a.length:r.b.length,S=g==="a"?r.b.length:r.a.length,M=Math.floor(g==="a"?w.b2j(T):w.a2i(T)),E=g==="a"?function(te){return w.evalxy([],te,M)}:function(te){return w.evalxy([],M,te)};m&&(t=Math.max(0,Math.min(S-2,M)),a=M-t,s=g==="a"?function(te,Q){return w.dxydi([],te,t,Q,a)}:function(te,Q){return w.dxydj([],t,te,a,Q)});var P=y(x[0]),O=y(x[1]),I=P<O?1:-1,R=1e-8*(O-P),U=I>0?Math.floor:Math.ceil,z=I>0?Math.ceil:Math.floor,j=I>0?Math.min:Math.max,W=I>0?Math.max:Math.min,F=U(P+R),V=z(O-R),H=[[l=E(P)]];for(f=F;f*I<V*I;f+=I)n=[],c=W(P,f),d=(b=j(O,f+I))-c,i=Math.max(0,Math.min(p-2,Math.floor(.5*(c+b)))),o=E(b),m&&(u=s(i,c-i),h=s(i,b-i),n.push([l[0]+u[0]/3*d,l[1]+u[1]/3*d]),n.push([o[0]-h[0]/3*d,o[1]-h[1]/3*d])),n.push(o),H.push(n),l=o;return H}},98692:function(B,L,e){var k=e(25376),w=e(22548),r=e(94724),_=e(29736).descriptionWithDates,v=e(67824).overrideAll,f=e(98192).u,s=e(92880).extendFlat;B.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:k({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:r.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:s({},r.labelalias,{editType:"calc"}),tickfont:k({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:_("tick label")},tickformatstops:v(r.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:w.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:s({},f,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:s({},f,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:w.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:k({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(B,L,e){var k=e(85720),w=e(76308).addOpacity,r=e(24040),_=e(3400),v=e(26332),f=e(95936),s=e(42568),t=e(22416),a=e(78344),n=e(52976);B.exports=function(i,l,o){var u=o.letter,h=o.font||{},c=k[u+"axis"];function b(I,R){return _.coerce(i,l,c,I,R)}function d(I,R){return _.coerce2(i,l,c,I,R)}o.name&&(l._name=o.name,l._id=o.name),b("autotypenumbers",o.autotypenumbersDflt);var g=b("type");g==="-"&&(o.data&&function(I,R){if(I.type==="-"){var U=I._id.charAt(0),z=I[U+"calendar"];I.type=n(R,z,{autotypenumbers:I.autotypenumbers})}}(l,o.data),l.type==="-"?l.type="linear":g=i.type=l.type),b("smoothing"),b("cheatertype"),b("showticklabels"),b("labelprefix",u+" = "),b("labelsuffix"),b("showtickprefix"),b("showticksuffix"),b("separatethousands"),b("tickformat"),b("exponentformat"),b("minexponent"),b("showexponent"),b("categoryorder"),b("tickmode"),b("tickvals"),b("ticktext"),b("tick0"),b("dtick"),l.tickmode==="array"&&(b("arraytick0"),b("arraydtick")),b("labelpadding"),l._hovertitle=u,g==="date"&&r.getComponentMethod("calendars","handleDefaults")(i,l,"calendar",o.calendar),a(l,o.fullLayout),l.c2p=_.identity;var m=b("color",o.dfltColor),y=m===i.color?m:h.color;b("title.text")&&(_.coerceFont(b,"title.font",{family:h.family,size:_.bigFont(h.size),color:y}),b("title.offset")),b("tickangle"),b("autorange",!l.isValidRange(i.range))&&b("rangemode"),b("range"),l.cleanRange(),b("fixedrange"),v(i,l,b,g),s(i,l,b,g,o),f(i,l,b,g,o),t(i,l,b,{data:o.data,dataAttr:u});var x=d("gridcolor",w(m,.3)),T=d("gridwidth"),p=d("griddash"),S=b("showgrid");S||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var M=d("startlinecolor",m),E=d("startlinewidth",T);b("startline",l.showgrid||!!M||!!E)||(delete l.startlinecolor,delete l.startlinewidth);var P=d("endlinecolor",m),O=d("endlinewidth",T);return b("endline",l.showgrid||!!P||!!O)||(delete l.endlinecolor,delete l.endlinewidth),S?(b("minorgridcount"),b("minorgridwidth",T),b("minorgriddash",p),b("minorgridcolor",w(x,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),l.showticklabels==="none"&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,b("tickmode"),l}},58744:function(B,L,e){var k=e(54460),w=e(3400).isArray1D,r=e(60776),_=e(51676),v=e(19216),f=e(14724),s=e(24944),t=e(26136),a=e(51512),n=e(2872),i=e(81e3);B.exports=function(l,o){var u=k.getFromId(l,o.xaxis),h=k.getFromId(l,o.yaxis),c=o.aaxis,b=o.baxis,d=o.x,g=o.y,m=[];d&&w(d)&&m.push("x"),g&&w(g)&&m.push("y"),m.length&&n(o,c,b,"a","b",m);var y=o._a=o._a||o.a,x=o._b=o._b||o.b;d=o._x||o.x,g=o._y||o.y;var T={};if(o._cheater){var p=c.cheatertype==="index"?y.length:y,S=b.cheatertype==="index"?x.length:x;d=r(p,S,o.cheaterslope)}o._x=d=t(d),o._y=g=t(g),a(d,y,x),a(g,y,x),i(o),o.setScale();var M=_(d),E=_(g),P=.5*(M[1]-M[0]),O=.5*(M[1]+M[0]),I=.5*(E[1]-E[0]),R=.5*(E[1]+E[0]),U=1.3;return M=[O-P*U,O+P*U],E=[R-I*U,R+I*U],o._extremes[u._id]=k.findExtremes(u,M,{padded:!0}),o._extremes[h._id]=k.findExtremes(h,E,{padded:!0}),v(o,"a","b"),v(o,"b","a"),f(o,c),f(o,b),T.clipsegments=s(o._xctrl,o._yctrl,c,b),T.x=d,T.y=g,T.a=y,T.b=x,[T]}},24944:function(B){B.exports=function(L,e,k,w){var r,_,v,f=[],s=!!k.smoothing,t=!!w.smoothing,a=L[0].length-1,n=L.length-1;for(r=0,_=[],v=[];r<=a;r++)_[r]=L[0][r],v[r]=e[0][r];for(f.push({x:_,y:v,bicubic:s}),r=0,_=[],v=[];r<=n;r++)_[r]=L[r][a],v[r]=e[r][a];for(f.push({x:_,y:v,bicubic:t}),r=a,_=[],v=[];r>=0;r--)_[a-r]=L[n][r],v[a-r]=e[n][r];for(f.push({x:_,y:v,bicubic:s}),r=n,_=[],v=[];r>=0;r--)_[n-r]=L[r][0],v[n-r]=e[r][0];return f.push({x:_,y:v,bicubic:t}),f}},19216:function(B,L,e){var k=e(54460),w=e(92880).extendFlat;B.exports=function(r,_,v){var f,s,t,a,n,i,l,o,u,h,c,b,d,g,m=r["_"+_],y=r[_+"axis"],x=y._gridlines=[],T=y._minorgridlines=[],p=y._boundarylines=[],S=r["_"+v],M=r[v+"axis"];y.tickmode==="array"&&(y.tickvals=m.slice());var E=r._xctrl,P=r._yctrl,O=E[0].length,I=E.length,R=r._a.length,U=r._b.length;k.prepTicks(y),y.tickmode==="array"&&delete y.tickvals;var z=y.smoothing?3:1;function j(F){var V,H,te,Q,K,X,J,ee,ie,oe,ae,ce,ge=[],ve=[],be={};if(_==="b")for(H=r.b2j(F),te=Math.floor(Math.max(0,Math.min(U-2,H))),Q=H-te,be.length=U,be.crossLength=R,be.xy=function(we){return r.evalxy([],we,H)},be.dxy=function(we,ye){return r.dxydi([],we,te,ye,Q)},V=0;V<R;V++)X=Math.min(R-2,V),J=V-X,ee=r.evalxy([],V,H),M.smoothing&&V>0&&(ie=r.dxydi([],V-1,te,0,Q),ge.push(K[0]+ie[0]/3),ve.push(K[1]+ie[1]/3),oe=r.dxydi([],V-1,te,1,Q),ge.push(ee[0]-oe[0]/3),ve.push(ee[1]-oe[1]/3)),ge.push(ee[0]),ve.push(ee[1]),K=ee;else for(V=r.a2i(F),X=Math.floor(Math.max(0,Math.min(R-2,V))),J=V-X,be.length=R,be.crossLength=U,be.xy=function(we){return r.evalxy([],V,we)},be.dxy=function(we,ye){return r.dxydj([],X,we,J,ye)},H=0;H<U;H++)te=Math.min(U-2,H),Q=H-te,ee=r.evalxy([],V,H),M.smoothing&&H>0&&(ae=r.dxydj([],X,H-1,J,0),ge.push(K[0]+ae[0]/3),ve.push(K[1]+ae[1]/3),ce=r.dxydj([],X,H-1,J,1),ge.push(ee[0]-ce[0]/3),ve.push(ee[1]-ce[1]/3)),ge.push(ee[0]),ve.push(ee[1]),K=ee;return be.axisLetter=_,be.axis=y,be.crossAxis=M,be.value=F,be.constvar=v,be.index=o,be.x=ge,be.y=ve,be.smoothing=M.smoothing,be}function W(F){var V,H,te,Q,K,X=[],J=[],ee={};if(ee.length=m.length,ee.crossLength=S.length,_==="b")for(te=Math.max(0,Math.min(U-2,F)),K=Math.min(1,Math.max(0,F-te)),ee.xy=function(ie){return r.evalxy([],ie,F)},ee.dxy=function(ie,oe){return r.dxydi([],ie,te,oe,K)},V=0;V<O;V++)X[V]=E[F*z][V],J[V]=P[F*z][V];else for(H=Math.max(0,Math.min(R-2,F)),Q=Math.min(1,Math.max(0,F-H)),ee.xy=function(ie){return r.evalxy([],F,ie)},ee.dxy=function(ie,oe){return r.dxydj([],H,ie,Q,oe)},V=0;V<I;V++)X[V]=E[V][F*z],J[V]=P[V][F*z];return ee.axisLetter=_,ee.axis=y,ee.crossAxis=M,ee.value=m[F],ee.constvar=v,ee.index=F,ee.x=X,ee.y=J,ee.smoothing=M.smoothing,ee}if(y.tickmode==="array"){for(a=5e-15,i=(n=[Math.floor((m.length-1-y.arraytick0)/y.arraydtick*(1+a)),Math.ceil(-y.arraytick0/y.arraydtick/(1+a))].sort(function(F,V){return F-V}))[0]-1,l=n[1]+1,o=i;o<l;o++)(s=y.arraytick0+y.arraydtick*o)<0||s>m.length-1||x.push(w(W(s),{color:y.gridcolor,width:y.gridwidth,dash:y.griddash}));for(o=i;o<l;o++)if(t=y.arraytick0+y.arraydtick*o,c=Math.min(t+y.arraydtick,m.length-1),!(t<0||t>m.length-1||c<0||c>m.length-1))for(b=m[t],d=m[c],f=0;f<y.minorgridcount;f++)(g=c-t)<=0||(h=b+(d-b)*(f+1)/(y.minorgridcount+1)*(y.arraydtick/g))<m[0]||h>m[m.length-1]||T.push(w(j(h),{color:y.minorgridcolor,width:y.minorgridwidth,dash:y.minorgriddash}));y.startline&&p.push(w(W(0),{color:y.startlinecolor,width:y.startlinewidth})),y.endline&&p.push(w(W(m.length-1),{color:y.endlinecolor,width:y.endlinewidth}))}else{for(a=5e-15,i=(n=[Math.floor((m[m.length-1]-y.tick0)/y.dtick*(1+a)),Math.ceil((m[0]-y.tick0)/y.dtick/(1+a))].sort(function(F,V){return F-V}))[0],l=n[1],o=i;o<=l;o++)u=y.tick0+y.dtick*o,x.push(w(j(u),{color:y.gridcolor,width:y.gridwidth,dash:y.griddash}));for(o=i-1;o<l+1;o++)for(u=y.tick0+y.dtick*o,f=0;f<y.minorgridcount;f++)(h=u+y.dtick*(f+1)/(y.minorgridcount+1))<m[0]||h>m[m.length-1]||T.push(w(j(h),{color:y.minorgridcolor,width:y.minorgridwidth,dash:y.minorgriddash}));y.startline&&p.push(w(j(m[0]),{color:y.startlinecolor,width:y.startlinewidth})),y.endline&&p.push(w(j(m[m.length-1]),{color:y.endlinecolor,width:y.endlinewidth}))}}},14724:function(B,L,e){var k=e(54460),w=e(92880).extendFlat;B.exports=function(r,_){var v,f,s,t=_._labels=[],a=_._gridlines;for(v=0;v<a.length;v++)s=a[v],["start","both"].indexOf(_.showticklabels)!==-1&&(f=k.tickText(_,s.value),w(f,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:s.xy(0),dxy:s.dxy(0,0),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:v===0,isLast:v===a.length-1}),t.push(f)),["end","both"].indexOf(_.showticklabels)!==-1&&(f=k.tickText(_,s.value),w(f,{endAnchor:!1,xy:s.xy(s.crossLength-1),dxy:s.dxy(s.crossLength-2,1),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:v===0,isLast:v===a.length-1}),t.push(f))}},62284:function(B){B.exports=function(L,e,k,w){var r=L[0]-e[0],_=L[1]-e[1],v=k[0]-e[0],f=k[1]-e[1],s=Math.pow(r*r+_*_,.25),t=Math.pow(v*v+f*f,.25),a=(t*t*r-s*s*v)*w,n=(t*t*_-s*s*f)*w,i=t*(s+t)*3,l=s*(s+t)*3;return[[e[0]+(i&&a/i),e[1]+(i&&n/i)],[e[0]-(l&&a/l),e[1]-(l&&n/l)]]}},60776:function(B,L,e){var k=e(3400).isArrayOrTypedArray;B.exports=function(w,r,_){var v,f,s,t,a,n,i=[],l=k(w)?w.length:w,o=k(r)?r.length:r,u=k(w)?w:null,h=k(r)?r:null;u&&(s=(u.length-1)/(u[u.length-1]-u[0])/(l-1)),h&&(t=(h.length-1)/(h[h.length-1]-h[0])/(o-1));var c=1/0,b=-1/0;for(f=0;f<o;f++)for(i[f]=[],a=h?(h[f]-h[0])*t:f/(o-1),v=0;v<l;v++)n=(u?(u[v]-u[0])*s:v/(l-1))-a*_,c=Math.min(n,c),b=Math.max(n,b),i[f][v]=n;var d=1/(b-c),g=-c*d;for(f=0;f<o;f++)for(v=0;v<l;v++)i[f][v]=d*i[f][v]+g;return i}},30180:function(B,L,e){var k=e(62284),w=e(3400).ensureArray;function r(_,v,f){var s=-.5*f[0]+1.5*v[0],t=-.5*f[1]+1.5*v[1];return[(2*s+_[0])/3,(2*t+_[1])/3]}B.exports=function(_,v,f,s,t,a){var n,i,l,o,u,h,c,b,d,g,m=f[0].length,y=f.length,x=t?3*m-2:m,T=a?3*y-2:y;for(_=w(_,T),v=w(v,T),l=0;l<T;l++)_[l]=w(_[l],x),v[l]=w(v[l],x);for(i=0,o=0;i<y;i++,o+=a?3:1)for(u=_[o],h=v[o],c=f[i],b=s[i],n=0,l=0;n<m;n++,l+=t?3:1)u[l]=c[n],h[l]=b[n];if(t)for(i=0,o=0;i<y;i++,o+=a?3:1){for(n=1,l=3;n<m-1;n++,l+=3)d=k([f[i][n-1],s[i][n-1]],[f[i][n],s[i][n]],[f[i][n+1],s[i][n+1]],t),_[o][l-1]=d[0][0],v[o][l-1]=d[0][1],_[o][l+1]=d[1][0],v[o][l+1]=d[1][1];g=r([_[o][0],v[o][0]],[_[o][2],v[o][2]],[_[o][3],v[o][3]]),_[o][1]=g[0],v[o][1]=g[1],g=r([_[o][x-1],v[o][x-1]],[_[o][x-3],v[o][x-3]],[_[o][x-4],v[o][x-4]]),_[o][x-2]=g[0],v[o][x-2]=g[1]}if(a)for(l=0;l<x;l++){for(o=3;o<T-3;o+=3)d=k([_[o-3][l],v[o-3][l]],[_[o][l],v[o][l]],[_[o+3][l],v[o+3][l]],a),_[o-1][l]=d[0][0],v[o-1][l]=d[0][1],_[o+1][l]=d[1][0],v[o+1][l]=d[1][1];g=r([_[0][l],v[0][l]],[_[2][l],v[2][l]],[_[3][l],v[3][l]]),_[1][l]=g[0],v[1][l]=g[1],g=r([_[T-1][l],v[T-1][l]],[_[T-3][l],v[T-3][l]],[_[T-4][l],v[T-4][l]]),_[T-2][l]=g[0],v[T-2][l]=g[1]}if(t&&a)for(o=1;o<T;o+=(o+1)%3==0?2:1){for(l=3;l<x-3;l+=3)d=k([_[o][l-3],v[o][l-3]],[_[o][l],v[o][l]],[_[o][l+3],v[o][l+3]],t),_[o][l-1]=.5*(_[o][l-1]+d[0][0]),v[o][l-1]=.5*(v[o][l-1]+d[0][1]),_[o][l+1]=.5*(_[o][l+1]+d[1][0]),v[o][l+1]=.5*(v[o][l+1]+d[1][1]);g=r([_[o][0],v[o][0]],[_[o][2],v[o][2]],[_[o][3],v[o][3]]),_[o][1]=.5*(_[o][1]+g[0]),v[o][1]=.5*(v[o][1]+g[1]),g=r([_[o][x-1],v[o][x-1]],[_[o][x-3],v[o][x-3]],[_[o][x-4],v[o][x-4]]),_[o][x-2]=.5*(_[o][x-2]+g[0]),v[o][x-2]=.5*(v[o][x-2]+g[1])}return[_,v]}},24588:function(B){B.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(B){B.exports=function(L,e,k){return e&&k?function(w,r,_,v,f){var s,t,a,n,i,l;w||(w=[]),r*=3,_*=3;var o=v*v,u=1-v,h=u*u,c=u*v*2,b=-3*h,d=3*(h-c),g=3*(c-o),m=3*o,y=f*f,x=y*f,T=1-f,p=T*T,S=p*T;for(l=0;l<L.length;l++)s=b*(i=L[l])[_][r]+d*i[_][r+1]+g*i[_][r+2]+m*i[_][r+3],t=b*i[_+1][r]+d*i[_+1][r+1]+g*i[_+1][r+2]+m*i[_+1][r+3],a=b*i[_+2][r]+d*i[_+2][r+1]+g*i[_+2][r+2]+m*i[_+2][r+3],n=b*i[_+3][r]+d*i[_+3][r+1]+g*i[_+3][r+2]+m*i[_+3][r+3],w[l]=S*s+3*(p*f*t+T*y*a)+x*n;return w}:e?function(w,r,_,v,f){var s,t,a,n;w||(w=[]),r*=3;var i=v*v,l=1-v,o=l*l,u=l*v*2,h=-3*o,c=3*(o-u),b=3*(u-i),d=3*i,g=1-f;for(a=0;a<L.length;a++)s=h*(n=L[a])[_][r]+c*n[_][r+1]+b*n[_][r+2]+d*n[_][r+3],t=h*n[_+1][r]+c*n[_+1][r+1]+b*n[_+1][r+2]+d*n[_+1][r+3],w[a]=g*s+f*t;return w}:k?function(w,r,_,v,f){var s,t,a,n,i,l;w||(w=[]),_*=3;var o=f*f,u=o*f,h=1-f,c=h*h,b=c*h;for(i=0;i<L.length;i++)s=(l=L[i])[_][r+1]-l[_][r],t=l[_+1][r+1]-l[_+1][r],a=l[_+2][r+1]-l[_+2][r],n=l[_+3][r+1]-l[_+3][r],w[i]=b*s+3*(c*f*t+h*o*a)+u*n;return w}:function(w,r,_,v,f){var s,t,a,n;w||(w=[]);var i=1-f;for(a=0;a<L.length;a++)s=(n=L[a])[_][r+1]-n[_][r],t=n[_+1][r+1]-n[_+1][r],w[a]=i*s+f*t;return w}}},24464:function(B){B.exports=function(L,e,k){return e&&k?function(w,r,_,v,f){var s,t,a,n,i,l;w||(w=[]),r*=3,_*=3;var o=v*v,u=o*v,h=1-v,c=h*h,b=c*h,d=f*f,g=1-f,m=g*g,y=g*f*2,x=-3*m,T=3*(m-y),p=3*(y-d),S=3*d;for(l=0;l<L.length;l++)s=x*(i=L[l])[_][r]+T*i[_+1][r]+p*i[_+2][r]+S*i[_+3][r],t=x*i[_][r+1]+T*i[_+1][r+1]+p*i[_+2][r+1]+S*i[_+3][r+1],a=x*i[_][r+2]+T*i[_+1][r+2]+p*i[_+2][r+2]+S*i[_+3][r+2],n=x*i[_][r+3]+T*i[_+1][r+3]+p*i[_+2][r+3]+S*i[_+3][r+3],w[l]=b*s+3*(c*v*t+h*o*a)+u*n;return w}:e?function(w,r,_,v,f){var s,t,a,n,i,l;w||(w=[]),r*=3;var o=f*f,u=o*f,h=1-f,c=h*h,b=c*h;for(i=0;i<L.length;i++)s=(l=L[i])[_+1][r]-l[_][r],t=l[_+1][r+1]-l[_][r+1],a=l[_+1][r+2]-l[_][r+2],n=l[_+1][r+3]-l[_][r+3],w[i]=b*s+3*(c*f*t+h*o*a)+u*n;return w}:k?function(w,r,_,v,f){var s,t,a,n;w||(w=[]),_*=3;var i=1-v,l=f*f,o=1-f,u=o*o,h=o*f*2,c=-3*u,b=3*(u-h),d=3*(h-l),g=3*l;for(a=0;a<L.length;a++)s=c*(n=L[a])[_][r]+b*n[_+1][r]+d*n[_+2][r]+g*n[_+3][r],t=c*n[_][r+1]+b*n[_+1][r+1]+d*n[_+2][r+1]+g*n[_+3][r+1],w[a]=i*s+v*t;return w}:function(w,r,_,v,f){var s,t,a,n;w||(w=[]);var i=1-v;for(a=0;a<L.length;a++)s=(n=L[a])[_+1][r]-n[_][r],t=n[_+1][r+1]-n[_][r+1],w[a]=i*s+v*t;return w}}},29056:function(B){B.exports=function(L,e,k,w,r){var _=e-2,v=k-2;return w&&r?function(f,s,t){var a,n,i,l,o,u;f||(f=[]);var h=Math.max(0,Math.min(Math.floor(s),_)),c=Math.max(0,Math.min(Math.floor(t),v)),b=Math.max(0,Math.min(1,s-h)),d=Math.max(0,Math.min(1,t-c));h*=3,c*=3;var g=b*b,m=g*b,y=1-b,x=y*y,T=x*y,p=d*d,S=p*d,M=1-d,E=M*M,P=E*M;for(u=0;u<L.length;u++)a=T*(o=L[u])[c][h]+3*(x*b*o[c][h+1]+y*g*o[c][h+2])+m*o[c][h+3],n=T*o[c+1][h]+3*(x*b*o[c+1][h+1]+y*g*o[c+1][h+2])+m*o[c+1][h+3],i=T*o[c+2][h]+3*(x*b*o[c+2][h+1]+y*g*o[c+2][h+2])+m*o[c+2][h+3],l=T*o[c+3][h]+3*(x*b*o[c+3][h+1]+y*g*o[c+3][h+2])+m*o[c+3][h+3],f[u]=P*a+3*(E*d*n+M*p*i)+S*l;return f}:w?function(f,s,t){f||(f=[]);var a,n,i,l,o,u,h=Math.max(0,Math.min(Math.floor(s),_)),c=Math.max(0,Math.min(Math.floor(t),v)),b=Math.max(0,Math.min(1,s-h)),d=Math.max(0,Math.min(1,t-c));h*=3;var g=b*b,m=g*b,y=1-b,x=y*y,T=x*y,p=1-d;for(o=0;o<L.length;o++)a=p*(u=L[o])[c][h]+d*u[c+1][h],n=p*u[c][h+1]+d*u[c+1][h+1],i=p*u[c][h+2]+d*u[c+1][h+1],l=p*u[c][h+3]+d*u[c+1][h+1],f[o]=T*a+3*(x*b*n+y*g*i)+m*l;return f}:r?function(f,s,t){f||(f=[]);var a,n,i,l,o,u,h=Math.max(0,Math.min(Math.floor(s),_)),c=Math.max(0,Math.min(Math.floor(t),v)),b=Math.max(0,Math.min(1,s-h)),d=Math.max(0,Math.min(1,t-c));c*=3;var g=d*d,m=g*d,y=1-d,x=y*y,T=x*y,p=1-b;for(o=0;o<L.length;o++)a=p*(u=L[o])[c][h]+b*u[c][h+1],n=p*u[c+1][h]+b*u[c+1][h+1],i=p*u[c+2][h]+b*u[c+2][h+1],l=p*u[c+3][h]+b*u[c+3][h+1],f[o]=T*a+3*(x*d*n+y*g*i)+m*l;return f}:function(f,s,t){f||(f=[]);var a,n,i,l,o=Math.max(0,Math.min(Math.floor(s),_)),u=Math.max(0,Math.min(Math.floor(t),v)),h=Math.max(0,Math.min(1,s-o)),c=Math.max(0,Math.min(1,t-u)),b=1-c,d=1-h;for(i=0;i<L.length;i++)a=d*(l=L[i])[u][o]+h*l[u][o+1],n=d*l[u+1][o]+h*l[u+1][o+1],f[i]=b*a+c*n;return f}}},38356:function(B,L,e){var k=e(3400),w=e(86411),r=e(93504),_=e(85720),v=e(22548);B.exports=function(f,s,t,a){function n(l,o){return k.coerce(f,s,_,l,o)}s._clipPathId="clip"+s.uid+"carpet";var i=n("color",v.defaultLine);k.coerceFont(n,"font"),n("carpet"),r(f,s,a,n,i),s.a&&s.b?(s.a.length<3&&(s.aaxis.smoothing=0),s.b.length<3&&(s.baxis.smoothing=0),w(f,s,n)||(s.visible=!1),s._cheater&&n("cheaterslope")):s.visible=!1}},95856:function(B,L,e){B.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(B){B.exports=function(L,e){for(var k,w=L._fullData.length,r=0;r<w;r++){var _=L._fullData[r];if(_.index!==e.index&&_.type==="carpet"&&(k||(k=_),_.carpet===e.carpet))return _}return k}},53416:function(B){B.exports=function(L,e,k){if(L.length===0)return"";var w,r=[],_=k?3:1;for(w=0;w<L.length;w+=_)r.push(L[w]+","+e[w]),k&&w<L.length-_&&(r.push("C"),r.push([L[w+1]+","+e[w+1],L[w+2]+","+e[w+2]+" "].join(" ")));return r.join(k?"":"L")}},87072:function(B,L,e){var k=e(3400).isArrayOrTypedArray;B.exports=function(w,r,_){var v;for(k(w)?w.length>r.length&&(w=w.slice(0,r.length)):w=[],v=0;v<r.length;v++)w[v]=_(r[v]);return w}},15584:function(B){B.exports=function(L,e,k,w,r,_){var v=r[0]*L.dpdx(e),f=r[1]*L.dpdy(k),s=1,t=1;if(_){var a=Math.sqrt(r[0]*r[0]+r[1]*r[1]),n=Math.sqrt(_[0]*_[0]+_[1]*_[1]),i=(r[0]*_[0]+r[1]*_[1])/a/n;t=Math.max(0,i)}var l=180*Math.atan2(f,v)/Math.PI;return l<-90?(l+=180,s=-s):l>90&&(l-=180,s=-s),{angle:l,flip:s,p:L.c2p(w,e,k),offsetMultplier:t}}},164:function(B,L,e){var k=e(33428),w=e(43616),r=e(87072),_=e(53416),v=e(15584),f=e(72736),s=e(3400),t=s.strRotate,a=s.strTranslate,n=e(84284);function i(c,b,d,g,m,y,x){var T="const-"+m+"-lines",p=d.selectAll("."+T).data(y);p.enter().append("path").classed(T,!0).style("vector-effect",x?"none":"non-scaling-stroke"),p.each(function(S){var M=S,E=M.x,P=M.y,O=r([],E,c.c2p),I=r([],P,b.c2p),R="M"+_(O,I,M.smoothing);k.select(this).attr("d",R).style("stroke-width",M.width).style("stroke",M.color).style("stroke-dasharray",w.dashStyle(M.dash,M.width)).style("fill","none")}),p.exit().remove()}function l(c,b,d,g,m,y,x,T){var p=y.selectAll("text."+T).data(x);p.enter().append("text").classed(T,!0);var S=0,M={};return p.each(function(E,P){var O;if(E.axis.tickangle==="auto")O=v(g,b,d,E.xy,E.dxy);else{var I=(E.axis.tickangle+180)*Math.PI/180;O=v(g,b,d,E.xy,[Math.cos(I),Math.sin(I)])}P||(M={angle:O.angle,flip:O.flip});var R=(E.endAnchor?-1:1)*O.flip,U=k.select(this).attr({"text-anchor":R>0?"start":"end","data-notex":1}).call(w.font,E.font).text(E.text).call(f.convertToTspans,c),z=w.bBox(this);U.attr("transform",a(O.p[0],O.p[1])+t(O.angle)+a(E.axis.labelpadding*R,.3*z.height)),S=Math.max(S,z.width+E.axis.labelpadding)}),p.exit().remove(),M.maxExtent=S,M}B.exports=function(c,b,d,g){var m=c._context.staticPlot,y=b.xaxis,x=b.yaxis,T=c._fullLayout._clips;s.makeTraceGroups(g,d,"trace").each(function(p){var S=k.select(this),M=p[0],E=M.trace,P=E.aaxis,O=E.baxis,I=s.ensureSingle(S,"g","minorlayer"),R=s.ensureSingle(S,"g","majorlayer"),U=s.ensureSingle(S,"g","boundarylayer"),z=s.ensureSingle(S,"g","labellayer");S.style("opacity",E.opacity),i(y,x,R,0,"a",P._gridlines,!0),i(y,x,R,0,"b",O._gridlines,!0),i(y,x,I,0,"a",P._minorgridlines,!0),i(y,x,I,0,"b",O._minorgridlines,!0),i(y,x,U,0,"a-boundary",P._boundarylines,m),i(y,x,U,0,"b-boundary",O._boundarylines,m);var j=l(c,y,x,E,0,z,P._labels,"a-label"),W=l(c,y,x,E,0,z,O._labels,"b-label");(function(F,V,H,te,Q,K,X,J){var ee,ie,oe,ae,ce=s.aggNums(Math.min,null,H.a),ge=s.aggNums(Math.max,null,H.a),ve=s.aggNums(Math.min,null,H.b),be=s.aggNums(Math.max,null,H.b);ee=.5*(ce+ge),ie=ve,oe=H.ab2xy(ee,ie,!0),ae=H.dxyda_rough(ee,ie),X.angle===void 0&&s.extendFlat(X,v(H,Q,K,oe,H.dxydb_rough(ee,ie))),h(F,V,H,0,oe,ae,H.aaxis,Q,K,X,"a-title"),ee=ce,ie=.5*(ve+be),oe=H.ab2xy(ee,ie,!0),ae=H.dxydb_rough(ee,ie),J.angle===void 0&&s.extendFlat(J,v(H,Q,K,oe,H.dxyda_rough(ee,ie))),h(F,V,H,0,oe,ae,H.baxis,Q,K,J,"b-title")})(c,z,E,0,y,x,j,W),function(F,V,H,te,Q){var K,X,J,ee,ie=H.select("#"+F._clipPathId);ie.size()||(ie=H.append("clipPath").classed("carpetclip",!0));var oe=s.ensureSingle(ie,"path","carpetboundary"),ae=V.clipsegments,ce=[];for(ee=0;ee<ae.length;ee++)K=ae[ee],X=r([],K.x,te.c2p),J=r([],K.y,Q.c2p),ce.push(_(X,J,K.bicubic));var ge="M"+ce.join("L")+"Z";ie.attr("id",F._clipPathId),oe.attr("d",ge)}(E,M,T,y,x)})};var o=n.LINE_SPACING,u=(1-n.MID_SHIFT)/o+1;function h(c,b,d,g,m,y,x,T,p,S,M){var E=[];x.title.text&&E.push(x.title.text);var P=b.selectAll("text."+M).data(E),O=S.maxExtent;P.enter().append("text").classed(M,!0),P.each(function(){var I=v(d,T,p,m,y);["start","both"].indexOf(x.showticklabels)===-1&&(O=0);var R=x.title.font.size;O+=R+x.title.offset;var U=(S.angle+(S.flip<0?180:0)-I.angle+450)%360,z=U>90&&U<270,j=k.select(this);j.text(x.title.text).call(f.convertToTspans,c),z&&(O=(-f.lineCount(j)+u)*o*R-O),j.attr("transform",a(I.p[0],I.p[1])+t(I.angle)+a(0,O)).attr("text-anchor","middle").call(w.font,x.title.font)}),P.exit().remove()}},81e3:function(B,L,e){var k=e(24588),w=e(14952).findBin,r=e(30180),_=e(29056),v=e(26435),f=e(24464);B.exports=function(s){var t=s._a,a=s._b,n=t.length,i=a.length,l=s.aaxis,o=s.baxis,u=t[0],h=t[n-1],c=a[0],b=a[i-1],d=t[t.length-1]-t[0],g=a[a.length-1]-a[0],m=d*k.RELATIVE_CULL_TOLERANCE,y=g*k.RELATIVE_CULL_TOLERANCE;u-=m,h+=m,c-=y,b+=y,s.isVisible=function(x,T){return x>u&&x<h&&T>c&&T<b},s.isOccluded=function(x,T){return x<u||x>h||T<c||T>b},s.setScale=function(){var x=s._x,T=s._y,p=r(s._xctrl,s._yctrl,x,T,l.smoothing,o.smoothing);s._xctrl=p[0],s._yctrl=p[1],s.evalxy=_([s._xctrl,s._yctrl],n,i,l.smoothing,o.smoothing),s.dxydi=v([s._xctrl,s._yctrl],l.smoothing,o.smoothing),s.dxydj=f([s._xctrl,s._yctrl],l.smoothing,o.smoothing)},s.i2a=function(x){var T=Math.max(0,Math.floor(x[0]),n-2),p=x[0]-T;return(1-p)*t[T]+p*t[T+1]},s.j2b=function(x){var T=Math.max(0,Math.floor(x[1]),n-2),p=x[1]-T;return(1-p)*a[T]+p*a[T+1]},s.ij2ab=function(x){return[s.i2a(x[0]),s.j2b(x[1])]},s.a2i=function(x){var T=Math.max(0,Math.min(w(x,t),n-2)),p=t[T],S=t[T+1];return Math.max(0,Math.min(n-1,T+(x-p)/(S-p)))},s.b2j=function(x){var T=Math.max(0,Math.min(w(x,a),i-2)),p=a[T],S=a[T+1];return Math.max(0,Math.min(i-1,T+(x-p)/(S-p)))},s.ab2ij=function(x){return[s.a2i(x[0]),s.b2j(x[1])]},s.i2c=function(x,T){return s.evalxy([],x,T)},s.ab2xy=function(x,T,p){if(!p&&(x<t[0]||x>t[n-1]|T<a[0]||T>a[i-1]))return[!1,!1];var S=s.a2i(x),M=s.b2j(T),E=s.evalxy([],S,M);if(p){var P,O,I,R,U=0,z=0,j=[];x<t[0]?(P=0,O=0,U=(x-t[0])/(t[1]-t[0])):x>t[n-1]?(P=n-2,O=1,U=(x-t[n-1])/(t[n-1]-t[n-2])):O=S-(P=Math.max(0,Math.min(n-2,Math.floor(S)))),T<a[0]?(I=0,R=0,z=(T-a[0])/(a[1]-a[0])):T>a[i-1]?(I=i-2,R=1,z=(T-a[i-1])/(a[i-1]-a[i-2])):R=M-(I=Math.max(0,Math.min(i-2,Math.floor(M)))),U&&(s.dxydi(j,P,I,O,R),E[0]+=j[0]*U,E[1]+=j[1]*U),z&&(s.dxydj(j,P,I,O,R),E[0]+=j[0]*z,E[1]+=j[1]*z)}return E},s.c2p=function(x,T,p){return[T.c2p(x[0]),p.c2p(x[1])]},s.p2x=function(x,T,p){return[T.p2c(x[0]),p.p2c(x[1])]},s.dadi=function(x){var T=Math.max(0,Math.min(t.length-2,x));return t[T+1]-t[T]},s.dbdj=function(x){var T=Math.max(0,Math.min(a.length-2,x));return a[T+1]-a[T]},s.dxyda=function(x,T,p,S){var M=s.dxydi(null,x,T,p,S),E=s.dadi(x,p);return[M[0]/E,M[1]/E]},s.dxydb=function(x,T,p,S){var M=s.dxydj(null,x,T,p,S),E=s.dbdj(T,S);return[M[0]/E,M[1]/E]},s.dxyda_rough=function(x,T,p){var S=d*(p||.1),M=s.ab2xy(x+S,T,!0),E=s.ab2xy(x-S,T,!0);return[.5*(M[0]-E[0])/S,.5*(M[1]-E[1])/S]},s.dxydb_rough=function(x,T,p){var S=g*(p||.1),M=s.ab2xy(x,T+S,!0),E=s.ab2xy(x,T-S,!0);return[.5*(M[0]-E[0])/S,.5*(M[1]-E[1])/S]},s.dpdx=function(x){return x._m},s.dpdy=function(x){return x._m}}},51512:function(B,L,e){var k=e(3400);B.exports=function(w,r,_){var v,f,s,t=[],a=[],n=w[0].length,i=w.length;function l(F,V){var H,te=0,Q=0;return F>0&&(H=w[V][F-1])!==void 0&&(Q++,te+=H),F<n-1&&(H=w[V][F+1])!==void 0&&(Q++,te+=H),V>0&&(H=w[V-1][F])!==void 0&&(Q++,te+=H),V<i-1&&(H=w[V+1][F])!==void 0&&(Q++,te+=H),te/Math.max(1,Q)}var o,u,h,c,b,d,g,m,y,x,T,p=0;for(v=0;v<n;v++)for(f=0;f<i;f++)w[f][v]===void 0&&(t.push(v),a.push(f),w[f][v]=l(v,f)),p=Math.max(p,Math.abs(w[f][v]));if(!t.length)return w;var S=0,M=0,E=t.length;do{for(S=0,s=0;s<E;s++){v=t[s],f=a[s];var P,O,I,R,U,z,j=0,W=0;v===0?(I=r[U=Math.min(n-1,2)],R=r[1],P=w[f][U],W+=(O=w[f][1])+(O-P)*(r[0]-R)/(R-I),j++):v===n-1&&(I=r[U=Math.max(0,n-3)],R=r[n-2],P=w[f][U],W+=(O=w[f][n-2])+(O-P)*(r[n-1]-R)/(R-I),j++),(v===0||v===n-1)&&f>0&&f<i-1&&(o=_[f+1]-_[f],W+=((u=_[f]-_[f-1])*w[f+1][v]+o*w[f-1][v])/(u+o),j++),f===0?(I=_[z=Math.min(i-1,2)],R=_[1],P=w[z][v],W+=(O=w[1][v])+(O-P)*(_[0]-R)/(R-I),j++):f===i-1&&(I=_[z=Math.max(0,i-3)],R=_[i-2],P=w[z][v],W+=(O=w[i-2][v])+(O-P)*(_[i-1]-R)/(R-I),j++),(f===0||f===i-1)&&v>0&&v<n-1&&(o=r[v+1]-r[v],W+=((u=r[v]-r[v-1])*w[f][v+1]+o*w[f][v-1])/(u+o),j++),j?W/=j:(h=r[v+1]-r[v],c=r[v]-r[v-1],m=(b=_[f+1]-_[f])*(d=_[f]-_[f-1])*(b+d),W=((g=h*c*(h+c))*(d*w[f+1][v]+b*w[f-1][v])+m*(c*w[f][v+1]+h*w[f][v-1]))/(m*(c+h)+g*(d+b))),S+=(x=(y=W-w[f][v])/p)*x,T=j?0:.85,w[f][v]+=y*(1+T)}S=Math.sqrt(S)}while(M++<100&&S>1e-5);return k.log("Smoother converged to",S,"after",M,"iterations"),w}},86411:function(B,L,e){var k=e(3400).isArray1D;B.exports=function(w,r,_){var v=_("x"),f=v&&v.length,s=_("y"),t=s&&s.length;if(!f&&!t)return!1;if(r._cheater=!v,f&&!k(v)||t&&!k(s))r._length=null;else{var a=f?v.length:1/0;t&&(a=Math.min(a,s.length)),r.a&&r.a.length&&(a=Math.min(a,r.a.length)),r.b&&r.b.length&&(a=Math.min(a,r.b.length)),r._length=a}return!0}},83372:function(B,L,e){var k=e(21776).Ks,w=e(6096),r=e(49084),_=e(45464),v=e(22548).defaultLine,f=e(92880).extendFlat,s=w.marker.line;B.exports=f({locations:{valType:"data_array",editType:"calc"},locationmode:w.locationmode,z:{valType:"data_array",editType:"calc"},geojson:f({},w.geojson,{}),featureidkey:w.featureidkey,text:f({},w.text,{}),hovertext:f({},w.hovertext,{}),marker:{line:{color:f({},s.color,{dflt:v}),width:f({},s.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:w.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:w.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:f({},_.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:k(),showlegend:f({},_.showlegend,{dflt:!1})},r("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(B,L,e){var k=e(38248),w=e(39032).BADNUM,r=e(47128),_=e(20148),v=e(4500);function f(s){return s&&typeof s=="string"}B.exports=function(s,t){var a,n=t._length,i=new Array(n);a=t.geojson?function(c){return f(c)||k(c)}:f;for(var l=0;l<n;l++){var o=i[l]={},u=t.locations[l],h=t.z[l];a(u)&&k(h)?(o.loc=u,o.z=h):(o.loc=null,o.z=w),o.index=l}return _(i,t),r(s,t,{vals:t.z,containerStr:"",cLetter:"z"}),v(i,t),i}},30972:function(B,L,e){var k=e(3400),w=e(27260),r=e(83372);B.exports=function(_,v,f,s){function t(o,u){return k.coerce(_,v,r,o,u)}var a=t("locations"),n=t("z");if(a&&a.length&&k.isArrayOrTypedArray(n)&&n.length){v._length=Math.min(a.length,n.length);var i,l=t("geojson");(typeof l=="string"&&l!==""||k.isPlainObject(l))&&(i="geojson-id"),t("locationmode",i)==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),w(_,v,s,t,{prefix:"",cLetter:"z"}),k.coerceSelectionMarkerOpacity(v,t)}else v.visible=!1}},52428:function(B){B.exports=function(L,e,k,w,r){L.location=e.location,L.z=e.z;var _=w[r];return _.fIn&&_.fIn.properties&&(L.properties=_.fIn.properties),L.ct=_.ct,L}},69224:function(B,L,e){var k=e(54460),w=e(83372),r=e(3400).fillText;B.exports=function(_,v,f){var s,t,a,n,i=_.cd,l=i[0].trace,o=_.subplot,u=[v,f],h=[v+360,f];for(t=0;t<i.length;t++)if(n=!1,(s=i[t])._polygons){for(a=0;a<s._polygons.length;a++)s._polygons[a].contains(u)&&(n=!n),s._polygons[a].contains(h)&&(n=!n);if(n)break}if(n&&s)return _.x0=_.x1=_.xa.c2p(s.ct),_.y0=_.y1=_.ya.c2p(s.ct),_.index=s.index,_.location=s.loc,_.z=s.z,_.zLabel=k.tickText(o.mockAxis,o.mockAxis.c2l(s.z),"hover").text,_.hovertemplate=s.hovertemplate,function(c,b,d){if(!b.hovertemplate){var g=d.hi||b.hoverinfo,m=String(d.loc),y=g==="all"?w.hoverinfo.flags:g.split("+"),x=y.indexOf("name")!==-1,T=y.indexOf("location")!==-1,p=y.indexOf("z")!==-1,S=y.indexOf("text")!==-1,M=[];!x&&T?c.nameOverride=m:(x&&(c.nameOverride=b.name),T&&M.push(m)),p&&M.push(c.zLabel),S&&r(d,b,M),c.extraText=M.join("<br>")}}(_,l,s),[_]}},54272:function(B,L,e){B.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(B,L,e){var k=e(33428),w=e(3400),r=e(27144),_=e(59972).getTopojsonFeatures,v=e(19280).findExtremes,f=e(7947).style;B.exports={calcGeoJSON:function(s,t){for(var a=s[0].trace,n=t[a.geo],i=n._subplot,l=a.locationmode,o=a._length,u=l==="geojson-id"?r.extractTraceFeature(s):_(a,i.topojson),h=[],c=[],b=0;b<o;b++){var d=s[b],g=l==="geojson-id"?d.fOut:r.locationToFeature(l,d.loc,u);if(g){d.geojson=g,d.ct=g.properties.ct,d._polygons=r.feature2polygons(g);var m=r.computeBbox(g);h.push(m[0],m[2]),c.push(m[1],m[3])}else d.geojson=null}if(n.fitbounds==="geojson"&&l==="geojson-id"){var y=r.computeBbox(r.getTraceGeojson(a));h=[y[0],y[2]],c=[y[1],y[3]]}var x={padded:!0};a._extremes.lon=v(n.lonaxis._ax,h,x),a._extremes.lat=v(n.lataxis._ax,c,x)},plot:function(s,t,a){var n=t.layers.backplot.select(".choroplethlayer");w.makeTraceGroups(n,a,"trace choropleth").each(function(i){var l=k.select(this).selectAll("path.choroplethlocation").data(w.identity);l.enter().append("path").classed("choroplethlocation",!0),l.exit().remove(),f(s,i)})}}},17328:function(B){B.exports=function(L,e){var k,w,r,_,v,f=L.cd,s=L.xaxis,t=L.yaxis,a=[];if(e===!1)for(k=0;k<f.length;k++)f[k].selected=0;else for(k=0;k<f.length;k++)(r=(w=f[k]).ct)&&(_=s.c2p(r),v=t.c2p(r),e.contains([_,v],null,k,L)?(a.push({pointNumber:k,lon:r[0],lat:r[1]}),w.selected=1):w.selected=0);return a}},7947:function(B,L,e){var k=e(33428),w=e(76308),r=e(43616),_=e(8932);function v(f,s){var t=s[0].trace,a=s[0].node3.selectAll(".choroplethlocation"),n=t.marker||{},i=n.line||{},l=_.makeColorScaleFuncFromTrace(t);a.each(function(o){k.select(this).attr("fill",l(o.z)).call(w.stroke,o.mlc||i.color).call(r.dashLine,"",o.mlw||i.width||0).style("opacity",n.opacity)}),r.selectedPointStyle(a,t)}B.exports={style:function(f,s){s&&v(0,s)},styleOnSelect:function(f,s){var t=s[0].node3,a=s[0].trace;a.selectedpoints?r.selectedPointStyle(t.selectAll(".choroplethlocation"),a):v(0,s)}}},45608:function(B,L,e){var k=e(83372),w=e(49084),r=e(21776).Ks,_=e(45464),v=e(92880).extendFlat;B.exports=v({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:v({},k.featureidkey,{}),below:{valType:"string",editType:"plot"},text:k.text,hovertext:k.hovertext,marker:{line:{color:v({},k.marker.line.color,{editType:"plot"}),width:v({},k.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:v({},k.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:v({},k.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:v({},k.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:k.hoverinfo,hovertemplate:r({},{keys:["properties"]}),showlegend:v({},_.showlegend,{dflt:!1})},w("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(B,L,e){var k=e(38248),w=e(3400),r=e(8932),_=e(43616),v=e(44808).makeBlank,f=e(27144);function s(t){var a,n=t[0].trace,i=n._opts;if(n.selectedpoints){for(var l=_.makeSelectedPointStyleFns(n),o=0;o<t.length;o++){var u=t[o];u.fOut&&(u.fOut.properties.mo2=l.selectedOpacityFn(u))}a={type:"identity",property:"mo2"}}else a=w.isArrayOrTypedArray(n.marker.opacity)?{type:"identity",property:"mo"}:n.marker.opacity;return w.extendFlat(i.fill.paint,{"fill-opacity":a}),w.extendFlat(i.line.paint,{"line-opacity":a}),i}B.exports={convert:function(t){var a=t[0].trace,n=a.visible===!0&&a._length!==0,i={layout:{visibility:"none"},paint:{}},l={layout:{visibility:"none"},paint:{}},o=a._opts={fill:i,line:l,geojson:v()};if(!n)return o;var u=f.extractTraceFeature(t);if(!u)return o;var h,c,b,d=r.makeColorScaleFuncFromTrace(a),g=a.marker,m=g.line||{};w.isArrayOrTypedArray(g.opacity)&&(h=function(M){var E=M.mo;return k(E)?+w.constrain(E,0,1):0}),w.isArrayOrTypedArray(m.color)&&(c=function(M){return M.mlc}),w.isArrayOrTypedArray(m.width)&&(b=function(M){return M.mlw});for(var y=0;y<t.length;y++){var x=t[y],T=x.fOut;if(T){var p=T.properties;p.fc=d(x.z),h&&(p.mo=h(x)),c&&(p.mlc=c(x)),b&&(p.mlw=b(x)),x.ct=p.ct,x._polygons=f.feature2polygons(T)}}var S=h?{type:"identity",property:"mo"}:g.opacity;return w.extendFlat(i.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":S}),w.extendFlat(l.paint,{"line-color":c?{type:"identity",property:"mlc"}:m.color,"line-width":b?{type:"identity",property:"mlw"}:m.width,"line-opacity":S}),i.layout.visibility="visible",l.layout.visibility="visible",o.geojson={type:"FeatureCollection",features:u},s(t),o},convertOnSelect:s}},9352:function(B,L,e){var k=e(3400),w=e(27260),r=e(45608);B.exports=function(_,v,f,s){function t(l,o){return k.coerce(_,v,r,l,o)}var a=t("locations"),n=t("z"),i=t("geojson");k.isArrayOrTypedArray(a)&&a.length&&k.isArrayOrTypedArray(n)&&n.length&&(typeof i=="string"&&i!==""||k.isPlainObject(i))?(t("featureidkey"),v._length=Math.min(a.length,n.length),t("below"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),w(_,v,s,t,{prefix:"",cLetter:"z"}),k.coerceSelectionMarkerOpacity(v,t)):v.visible=!1}},85404:function(B,L,e){B.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(k,w){w&&w[0].trace._glTrace.updateOnSelect(w)},getBelow:function(k,w){for(var r=w.getMapLayers(),_=r.length-2;_>=0;_--){var v=r[_].id;if(typeof v=="string"&&v.indexOf("water")===0){for(var f=_+1;f<r.length;f++)if(typeof(v=r[f].id)=="string"&&v.indexOf("plotly-")===-1)return v}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(B,L,e){var k=e(13504).convert,w=e(13504).convertOnSelect,r=e(47552).traceLayerPrefix;function _(f,s){this.type="choroplethmapbox",this.subplot=f,this.uid=s,this.sourceId="source-"+s,this.layerList=[["fill",r+s+"-fill"],["line",r+s+"-line"]],this.below=null}var v=_.prototype;v.update=function(f){this._update(k(f)),f[0].trace._glTrace=this},v.updateOnSelect=function(f){this._update(w(f))},v._update=function(f){var s=this.subplot,t=this.layerList,a=s.belowLookup["trace-"+this.uid];s.map.getSource(this.sourceId).setData(f.geojson),a!==this.below&&(this._removeLayers(),this._addLayers(f,a),this.below=a);for(var n=0;n<t.length;n++){var i=t[n],l=i[0],o=i[1],u=f[l];s.setOptions(o,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&s.setOptions(o,"setPaintProperty",u.paint)}},v._addLayers=function(f,s){for(var t=this.subplot,a=this.layerList,n=this.sourceId,i=0;i<a.length;i++){var l=a[i],o=l[0],u=f[o];t.addLayer({type:o,id:l[1],source:n,layout:u.layout,paint:u.paint},s)}},v._removeLayers=function(){for(var f=this.subplot.map,s=this.layerList,t=s.length-1;t>=0;t--)f.removeLayer(s[t][1])},v.dispose=function(){var f=this.subplot.map;this._removeLayers(),f.removeSource(this.sourceId)},B.exports=function(f,s){var t=s[0].trace,a=new _(f,t.uid),n=a.sourceId,i=k(s),l=a.below=f.belowLookup["trace-"+t.uid];return f.map.addSource(n,{type:"geojson",data:i.geojson}),a._addLayers(i,l),s[0].trace._glTrace=a,a}},86040:function(B,L,e){var k=e(49084),w=e(29736).axisHoverFormat,r=e(21776).Ks,_=e(52948),v=e(45464),f=e(92880).extendFlat,s={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:r({editType:"calc"},{keys:["norm"]}),uhoverformat:w("u",1),vhoverformat:w("v",1),whoverformat:w("w",1),xhoverformat:w("x"),yhoverformat:w("y"),zhoverformat:w("z"),showlegend:f({},v.showlegend,{dflt:!1})};f(s,k("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){s[t]=_[t]}),s.hoverinfo=f({},v.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),s.transforms=void 0,B.exports=s},83344:function(B,L,e){var k=e(47128);B.exports=function(w,r){for(var _=r.u,v=r.v,f=r.w,s=Math.min(r.x.length,r.y.length,r.z.length,_.length,v.length,f.length),t=-1/0,a=1/0,n=0;n<s;n++){var i=_[n],l=v[n],o=f[n],u=Math.sqrt(i*i+l*l+o*o);t=Math.max(t,u),a=Math.min(a,u)}r._len=s,r._normMax=t,k(w,r,{vals:[a,t],containerStr:"",cLetter:"c"})}},6648:function(B,L,e){var k=e(67792).gl_cone3d,w=e(67792).gl_cone3d.createConeMesh,r=e(3400).simpleMap,_=e(33040).parseColorScale,v=e(8932).extractOpts,f=e(3400).isArrayOrTypedArray,s=e(52094);function t(u,h){this.scene=u,this.uid=h,this.mesh=null,this.data=null}var a=t.prototype;a.handlePick=function(u){if(u.object===this.mesh){var h=u.index=u.data.index,c=this.data.x[h],b=this.data.y[h],d=this.data.z[h],g=this.data.u[h],m=this.data.v[h],y=this.data.w[h];u.traceCoordinate=[c,b,d,g,m,y,Math.sqrt(g*g+m*m+y*y)];var x=this.data.hovertext||this.data.text;return f(x)&&x[h]!==void 0?u.textLabel=x[h]:x&&(u.textLabel=x),!0}};var n={xaxis:0,yaxis:1,zaxis:2},i={tip:1,tail:0,cm:.25,center:.5},l={tip:1,tail:1,cm:.75,center:.5};function o(u,h){var c=u.fullSceneLayout,b=u.dataScale,d={};function g(T,p){var S=c[p],M=b[n[p]];return r(T,function(E){return S.d2l(E)*M})}d.vectors=s(g(h.u,"xaxis"),g(h.v,"yaxis"),g(h.w,"zaxis"),h._len),d.positions=s(g(h.x,"xaxis"),g(h.y,"yaxis"),g(h.z,"zaxis"),h._len);var m=v(h);d.colormap=_(h),d.vertexIntensityBounds=[m.min/h._normMax,m.max/h._normMax],d.coneOffset=i[h.anchor],h.sizemode==="scaled"?d.coneSize=h.sizeref||.5:d.coneSize=h.sizeref&&h._normMax?h.sizeref/h._normMax:.5;var y=k(d),x=h.lightposition;return y.lightPosition=[x.x,x.y,x.z],y.ambient=h.lighting.ambient,y.diffuse=h.lighting.diffuse,y.specular=h.lighting.specular,y.roughness=h.lighting.roughness,y.fresnel=h.lighting.fresnel,y.opacity=h.opacity,h._pad=l[h.anchor]*y.vectorScale*y.coneScale*h._normMax,y}a.update=function(u){this.data=u;var h=o(this.scene,u);this.mesh.update(h)},a.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},B.exports=function(u,h){var c=u.glplot.gl,b=o(u,h),d=w(c,b),g=new t(u,h.uid);return g.mesh=d,g.data=h,d._trace=g,u.glplot.add(d),g}},86096:function(B,L,e){var k=e(3400),w=e(27260),r=e(86040);B.exports=function(_,v,f,s){function t(h,c){return k.coerce(_,v,r,h,c)}var a=t("u"),n=t("v"),i=t("w"),l=t("x"),o=t("y"),u=t("z");a&&a.length&&n&&n.length&&i&&i.length&&l&&l.length&&o&&o.length&&u&&u.length?(t("sizeref"),t("sizemode"),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),w(_,v,s,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null):v.visible=!1}},26048:function(B,L,e){B.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(k,w){return k.norm=w.traceCoordinate[6],k},meta:{}}},67104:function(B,L,e){var k=e(83328),w=e(52904),r=e(29736),_=r.axisHoverFormat,v=r.descriptionOnlyNumbers,f=e(49084),s=e(98192).u,t=e(25376),a=e(92880).extendFlat,n=e(69104),i=n.COMPARISON_OPS2,l=n.INTERVAL_OPS,o=w.line;B.exports=a({z:k.z,x:k.x,x0:k.x0,dx:k.dx,y:k.y,y0:k.y0,dy:k.dy,xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:w.xperiod0,yperiod0:w.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,text:k.text,hovertext:k.hovertext,transpose:k.transpose,xtype:k.xtype,ytype:k.ytype,xhoverformat:_("x"),yhoverformat:_("y"),zhoverformat:_("z",1),hovertemplate:k.hovertemplate,texttemplate:a({},k.texttemplate,{}),textfont:a({},k.textfont,{}),hoverongaps:k.hoverongaps,connectgaps:a({},k.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:v("contour label")},operation:{valType:"enumerated",values:[].concat(i).concat(l),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:a({},o.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:s,smoothing:a({},o.smoothing,{}),editType:"plot"}},f("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(B,L,e){var k=e(8932),w=e(19512),r=e(54444),_=e(46960);B.exports=function(v,f){var s=w(v,f),t=s[0].z;r(f,t);var a,n=f.contours,i=k.extractOpts(f);if(n.coloring==="heatmap"&&i.auto&&f.autocontour===!1){var l=n.start,o=_(n),u=n.size||1,h=Math.floor((o-l)/u)+1;isFinite(u)||(u=1,h=1);var c=l-u/2;a=[c,c+h*u]}else a=t;return k.calc(v,f,{vals:a,cLetter:"z"}),s}},56008:function(B){B.exports=function(L,e){var k,w=L[0],r=w.z;switch(e.type){case"levels":var _=Math.min(r[0][0],r[0][1]);for(k=0;k<L.length;k++){var v=L[k];v.prefixBoundary=!v.edgepaths.length&&(_>v.level||v.starts.length&&_===v.level)}break;case"constraint":if(w.prefixBoundary=!1,w.edgepaths.length)return;var f=w.x.length,s=w.y.length,t=-1/0,a=1/0;for(k=0;k<s;k++)a=Math.min(a,r[k][0]),a=Math.min(a,r[k][f-1]),t=Math.max(t,r[k][0]),t=Math.max(t,r[k][f-1]);for(k=1;k<f-1;k++)a=Math.min(a,r[0][k]),a=Math.min(a,r[s-1][k]),t=Math.max(t,r[0][k]),t=Math.max(t,r[s-1][k]);var n,i,l=e.value;switch(e._operation){case">":l>t&&(w.prefixBoundary=!0);break;case"<":(l<a||w.starts.length&&l===a)&&(w.prefixBoundary=!0);break;case"[]":n=Math.min(l[0],l[1]),((i=Math.max(l[0],l[1]))<a||n>t||w.starts.length&&i===a)&&(w.prefixBoundary=!0);break;case"][":n=Math.min(l[0],l[1]),i=Math.max(l[0],l[1]),n<a&&i>t&&(w.prefixBoundary=!0)}}}},55296:function(B,L,e){var k=e(8932),w=e(41076),r=e(46960);B.exports={min:"zmin",max:"zmax",calc:function(_,v,f){var s=v.contours,t=v.line,a=s.size||1,n=s.coloring,i=w(v,{isColorbar:!0});if(n==="heatmap"){var l=k.extractOpts(v);f._fillgradient=l.reversescale?k.flipScale(l.colorscale):l.colorscale,f._zrange=[l.min,l.max]}else n==="fill"&&(f._fillcolor=i);f._line={color:n==="lines"?i:t.color,width:s.showlines!==!1?t.width:0,dash:t.dash},f._levels={start:s.start,end:r(s),size:a}}}},93252:function(B){B.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(B,L,e){var k=e(38248),w=e(17428),r=e(76308),_=r.addOpacity,v=r.opacity,f=e(69104),s=e(3400).isArrayOrTypedArray,t=f.CONSTRAINT_REDUCTION,a=f.COMPARISON_OPS2;B.exports=function(n,i,l,o,u,h){var c,b,d,g=i.contours,m=l("contours.operation");g._operation=t[m],function(y,x){var T;a.indexOf(x.operation)===-1?(y("contours.value",[0,1]),s(x.value)?x.value.length>2?x.value=x.value.slice(2):x.length===0?x.value=[0,1]:x.length<2?(T=parseFloat(x.value[0]),x.value=[T,T+1]):x.value=[parseFloat(x.value[0]),parseFloat(x.value[1])]:k(x.value)&&(T=parseFloat(x.value),x.value=[T,T+1])):(y("contours.value",0),k(x.value)||(s(x.value)?x.value=parseFloat(x.value[0]):x.value=0))}(l,g),m==="="?c=g.showlines=!0:(c=l("contours.showlines"),d=l("fillcolor",_((n.line||{}).color||u,.5))),c&&(b=l("line.color",d&&v(d)?_(i.fillcolor,1):u),l("line.width",2),l("line.dash")),l("line.smoothing"),w(l,o,b,h)}},3212:function(B,L,e){var k=e(69104),w=e(38248);function r(f,s){var t,a=Array.isArray(s);function n(i){return w(i)?+i:null}return k.COMPARISON_OPS2.indexOf(f)!==-1?t=n(a?s[0]:s):k.INTERVAL_OPS.indexOf(f)!==-1?t=a?[n(s[0]),n(s[1])]:[n(s),n(s)]:k.SET_OPS.indexOf(f)!==-1&&(t=a?s.map(n):[n(s)]),t}function _(f){return function(s){s=r(f,s);var t=Math.min(s[0],s[1]),a=Math.max(s[0],s[1]);return{start:t,end:a,size:a-t}}}function v(f){return function(s){return{start:s=r(f,s),end:1/0,size:1/0}}}B.exports={"[]":_("[]"),"][":_("]["),">":v(">"),"<":v("<"),"=":v("=")}},84952:function(B){B.exports=function(L,e,k,w){var r=w("contours.start"),_=w("contours.end"),v=r===!1||_===!1,f=k("contours.size");!(v?e.autocontour=!0:k("autocontour",!1))&&f||k("ncontours")}},82172:function(B,L,e){var k=e(3400);function w(r){return k.extendFlat({},r,{edgepaths:k.extendDeep([],r.edgepaths),paths:k.extendDeep([],r.paths),starts:k.extendDeep([],r.starts)})}B.exports=function(r,_){var v,f,s,t=function(i){return i.reverse()},a=function(i){return i};switch(_){case"=":case"<":return r;case">":for(r.length!==1&&k.warn("Contour data invalid for the specified inequality operation."),f=r[0],v=0;v<f.edgepaths.length;v++)f.edgepaths[v]=t(f.edgepaths[v]);for(v=0;v<f.paths.length;v++)f.paths[v]=t(f.paths[v]);for(v=0;v<f.starts.length;v++)f.starts[v]=t(f.starts[v]);return r;case"][":var n=t;t=a,a=n;case"[]":for(r.length!==2&&k.warn("Contour data invalid for the specified inequality range operation."),f=w(r[0]),s=w(r[1]),v=0;v<f.edgepaths.length;v++)f.edgepaths[v]=t(f.edgepaths[v]);for(v=0;v<f.paths.length;v++)f.paths[v]=t(f.paths[v]);for(v=0;v<f.starts.length;v++)f.starts[v]=t(f.starts[v]);for(;s.edgepaths.length;)f.edgepaths.push(a(s.edgepaths.shift()));for(;s.paths.length;)f.paths.push(a(s.paths.shift()));for(;s.starts.length;)f.starts.push(a(s.starts.shift()));return[f]}}},57004:function(B,L,e){var k=e(3400),w=e(51264),r=e(31147),_=e(95536),v=e(84952),f=e(97680),s=e(39096),t=e(67104);B.exports=function(a,n,i,l){function o(h,c){return k.coerce(a,n,t,h,c)}if(w(a,n,o,l)){r(a,n,l,o),o("xhoverformat"),o("yhoverformat"),o("text"),o("hovertext"),o("hoverongaps"),o("hovertemplate");var u=o("contours.type")==="constraint";o("connectgaps",k.isArray1D(n.z)),u?_(a,n,o,l,i):(v(a,n,o,function(h){return k.coerce2(a,n,t,h)}),f(a,n,o,l)),n.contours&&n.contours.coloring==="heatmap"&&s(o,l)}else n.visible=!1}},61512:function(B,L,e){var k=e(3400),w=e(3212),r=e(46960);B.exports=function(_,v,f){for(var s=_.type==="constraint"?w[_._operation](_.value):_,t=s.size,a=[],n=r(s),i=f.trace._carpetTrace,l=i?{xaxis:i.aaxis,yaxis:i.baxis,x:f.a,y:f.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:f.x,y:f.y},o=s.start;o<n;o+=t)if(a.push(k.extendFlat({level:o,crossings:{},starts:[],edgepaths:[],paths:[],z:f.z,smoothing:f.trace.line.smoothing},l)),a.length>1e3){k.warn("Too many contours, clipping at 1000",_);break}return a}},46960:function(B){B.exports=function(L){return L.end+L.size/1e6}},88748:function(B,L,e){var k=e(3400),w=e(93252);function r(f,s,t,a){return Math.abs(f[0]-s[0])<t&&Math.abs(f[1]-s[1])<a}function _(f,s,t,a,n){var i,l=s.join(","),o=f.crossings[l],u=function(ie,oe,ae){var ce=0,ge=0;return ie>20&&oe?ie===208||ie===1114?ce=ae[0]===0?1:-1:ge=ae[1]===0?1:-1:w.BOTTOMSTART.indexOf(ie)!==-1?ge=1:w.LEFTSTART.indexOf(ie)!==-1?ce=1:w.TOPSTART.indexOf(ie)!==-1?ge=-1:ce=-1,[ce,ge]}(o,t,s),h=[v(f,s,[-u[0],-u[1]])],c=f.z.length,b=f.z[0].length,d=s.slice(),g=u.slice();for(i=0;i<1e4;i++){if(o>20?(o=w.CHOOSESADDLE[o][(u[0]||u[1])<0?0:1],f.crossings[l]=w.SADDLEREMAINDER[o]):delete f.crossings[l],!(u=w.NEWDELTA[o])){k.log("Found bad marching index:",o,s,f.level);break}h.push(v(f,s,u)),s[0]+=u[0],s[1]+=u[1],l=s.join(","),r(h[h.length-1],h[h.length-2],a,n)&&h.pop();var m=u[0]&&(s[0]<0||s[0]>b-2)||u[1]&&(s[1]<0||s[1]>c-2);if(s[0]===d[0]&&s[1]===d[1]&&u[0]===g[0]&&u[1]===g[1]||t&&m)break;o=f.crossings[l]}i===1e4&&k.log("Infinite loop in contour?");var y,x,T,p,S,M,E,P,O,I,R,U,z,j,W,F=r(h[0],h[h.length-1],a,n),V=0,H=.2*f.smoothing,te=[],Q=0;for(i=1;i<h.length;i++)U=h[i],z=h[i-1],j=U[2]-z[2],W=U[3]-z[3],V+=E=Math.sqrt(j*j+W*W),te.push(E);var K=V/te.length*H;function X(ie){return h[ie%h.length]}for(i=h.length-2;i>=Q;i--)if((y=te[i])<K){for(T=0,x=i-1;x>=Q&&y+te[x]<K;x--)y+=te[x];if(F&&i===h.length-2)for(T=0;T<x&&y+te[T]<K;T++)y+=te[T];S=i-x+T+1,M=Math.floor((i+x+T+2)/2),p=F||i!==h.length-2?F||x!==-1?S%2?X(M):[(X(M)[0]+X(M+1)[0])/2,(X(M)[1]+X(M+1)[1])/2]:h[0]:h[h.length-1],h.splice(x+1,i-x+1,p),i=x+1,T&&(Q=T),F&&(i===h.length-2?h[T]=h[h.length-1]:i===0&&(h[h.length-1]=h[0]))}for(h.splice(0,Q),i=0;i<h.length;i++)h[i].length=2;if(!(h.length<2))if(F)h.pop(),f.paths.push(h);else{t||k.log("Unclosed interior contour?",f.level,d.join(","),h.join("L"));var J=!1;for(P=0;P<f.edgepaths.length;P++)if(I=f.edgepaths[P],!J&&r(I[0],h[h.length-1],a,n)){h.pop(),J=!0;var ee=!1;for(O=0;O<f.edgepaths.length;O++)if(r((R=f.edgepaths[O])[R.length-1],h[0],a,n)){ee=!0,h.shift(),f.edgepaths.splice(P,1),O===P?f.paths.push(h.concat(R)):(O>P&&O--,f.edgepaths[O]=R.concat(h,I));break}ee||(f.edgepaths[P]=h.concat(I))}for(P=0;P<f.edgepaths.length&&!J;P++)r((I=f.edgepaths[P])[I.length-1],h[0],a,n)&&(h.shift(),f.edgepaths[P]=I.concat(h),J=!0);J||f.edgepaths.push(h)}}function v(f,s,t){var a=s[0]+Math.max(t[0],0),n=s[1]+Math.max(t[1],0),i=f.z[n][a],l=f.xaxis,o=f.yaxis;if(t[1]){var u=(f.level-i)/(f.z[n][a+1]-i),h=(u!==1?(1-u)*l.c2l(f.x[a]):0)+(u!==0?u*l.c2l(f.x[a+1]):0);return[l.c2p(l.l2c(h),!0),o.c2p(f.y[n],!0),a+u,n]}var c=(f.level-i)/(f.z[n+1][a]-i),b=(c!==1?(1-c)*o.c2l(f.y[n]):0)+(c!==0?c*o.c2l(f.y[n+1]):0);return[l.c2p(f.x[a],!0),o.c2p(o.l2c(b),!0),a,n+c]}B.exports=function(f,s,t){var a,n,i,l;for(s=s||.01,t=t||.01,n=0;n<f.length;n++){for(i=f[n],l=0;l<i.starts.length;l++)_(i,i.starts[l],"edge",s,t);for(a=0;Object.keys(i.crossings).length&&a<1e4;)a++,_(i,Object.keys(i.crossings)[0].split(",").map(Number),void 0,s,t);a===1e4&&k.log("Infinite loop in contour?")}}},38200:function(B,L,e){var k=e(76308),w=e(55512);B.exports=function(r,_,v,f,s){s||(s={}),s.isContour=!0;var t=w(r,_,v,f,s);return t&&t.forEach(function(a){var n=a.trace;n.contours.type==="constraint"&&(n.fillcolor&&k.opacity(n.fillcolor)?a.color=k.addOpacity(n.fillcolor,1):n.contours.showlines&&k.opacity(n.line.color)&&(a.color=k.addOpacity(n.line.color,1)))}),t}},66240:function(B,L,e){B.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(B,L,e){var k=e(3400);B.exports=function(w,r,_,v){if(v||(v={}),w("contours.showlabels")){var f=r.font;k.coerceFont(w,"contours.labelfont",{family:f.family,size:f.size,color:_}),w("contours.labelformat")}v.hasHover!==!1&&w("zhoverformat")}},41076:function(B,L,e){var k=e(33428),w=e(8932),r=e(46960);B.exports=function(_){var v=_.contours,f=v.start,s=r(v),t=v.size||1,a=Math.floor((s-f)/t)+1,n=v.coloring==="lines"?0:1,i=w.extractOpts(_);isFinite(t)||(t=1,a=1);var l,o,u=i.reversescale?w.flipScale(i.colorscale):i.colorscale,h=u.length,c=new Array(h),b=new Array(h),d=i.min,g=i.max;if(v.coloring==="heatmap"){for(o=0;o<h;o++)l=u[o],c[o]=l[0]*(g-d)+d,b[o]=l[1];var m=k.extent([d,g,v.start,v.start+t*(a-1)]),y=m[d<g?0:1],x=m[d<g?1:0];y!==d&&(c.splice(0,0,y),b.splice(0,0,b[0])),x!==g&&(c.push(x),b.push(b[b.length-1]))}else{var T=_._input&&typeof _._input.zmin=="number"&&typeof _._input.zmax=="number";for(T&&(f<=d||s>=g)&&(f<=d&&(f=d),s>=g&&(s=g),a=Math.floor((s-f)/t)+1,n=0),o=0;o<h;o++)l=u[o],c[o]=(l[0]*(a+n-1)-n/2)*t+f,b[o]=l[1];(T||_.autocontour)&&(c[0]>d&&(c.unshift(d),b.unshift(b[0])),c[c.length-1]<g&&(c.push(g),b.push(b[b.length-1])))}return w.makeColorScaleFunc({domain:c,range:b},{noNumericCheck:!0})}},72424:function(B,L,e){var k=e(93252);function w(r,_){var v=(_[0][0]>r?0:1)+(_[0][1]>r?0:2)+(_[1][1]>r?0:4)+(_[1][0]>r?0:8);return v===5||v===10?r>(_[0][0]+_[0][1]+_[1][0]+_[1][1])/4?v===5?713:1114:v===5?104:208:v===15?0:v}B.exports=function(r){var _,v,f,s,t,a,n,i,l,o=r[0].z,u=o.length,h=o[0].length,c=u===2||h===2;for(v=0;v<u-1;v++)for(s=[],v===0&&(s=s.concat(k.BOTTOMSTART)),v===u-2&&(s=s.concat(k.TOPSTART)),_=0;_<h-1;_++)for(f=s.slice(),_===0&&(f=f.concat(k.LEFTSTART)),_===h-2&&(f=f.concat(k.RIGHTSTART)),t=_+","+v,a=[[o[v][_],o[v][_+1]],[o[v+1][_],o[v+1][_+1]]],l=0;l<r.length;l++)(n=w((i=r[l]).level,a))&&(i.crossings[t]=n,f.indexOf(n)!==-1&&(i.starts.push([_,v]),c&&f.indexOf(n,f.indexOf(n)+1)!==-1&&i.starts.push([_,v])))}},23676:function(B,L,e){var k=e(33428),w=e(3400),r=e(43616),_=e(8932),v=e(72736),f=e(54460),s=e(78344),t=e(41420),a=e(72424),n=e(88748),i=e(61512),l=e(82172),o=e(56008),u=e(93252),h=u.LABELOPTIMIZER;function c(g,m){var y,x,T,p,S,M,E,P="",O=0,I=g.edgepaths.map(function(F,V){return V}),R=!0;function U(F){return Math.abs(F[1]-m[2][1])<.01}function z(F){return Math.abs(F[0]-m[0][0])<.01}function j(F){return Math.abs(F[0]-m[2][0])<.01}for(;I.length;){for(M=r.smoothopen(g.edgepaths[O],g.smoothing),P+=R?M:M.replace(/^M/,"L"),I.splice(I.indexOf(O),1),y=g.edgepaths[O][g.edgepaths[O].length-1],p=-1,T=0;T<4;T++){if(!y){w.log("Missing end?",O,g);break}for(E=y,Math.abs(E[1]-m[0][1])<.01&&!j(y)?x=m[1]:z(y)?x=m[0]:U(y)?x=m[3]:j(y)&&(x=m[2]),S=0;S<g.edgepaths.length;S++){var W=g.edgepaths[S][0];Math.abs(y[0]-x[0])<.01?Math.abs(y[0]-W[0])<.01&&(W[1]-y[1])*(x[1]-W[1])>=0&&(x=W,p=S):Math.abs(y[1]-x[1])<.01?Math.abs(y[1]-W[1])<.01&&(W[0]-y[0])*(x[0]-W[0])>=0&&(x=W,p=S):w.log("endpt to newendpt is not vert. or horz.",y,x,W)}if(y=x,p>=0)break;P+="L"+x}if(p===g.edgepaths.length){w.log("unclosed perimeter path");break}O=p,(R=I.indexOf(O)===-1)&&(O=I[0],P+="Z")}for(O=0;O<g.paths.length;O++)P+=r.smoothclosed(g.paths[O],g.smoothing);return P}function b(g,m,y,x){var T=m.width/2,p=m.height/2,S=g.x,M=g.y,E=g.theta,P=Math.cos(E)*T,O=Math.sin(E)*T,I=(S>x.center?x.right-S:S-x.left)/(P+Math.abs(Math.sin(E)*p)),R=(M>x.middle?x.bottom-M:M-x.top)/(Math.abs(O)+Math.cos(E)*p);if(I<1||R<1)return 1/0;var U=h.EDGECOST*(1/(I-1)+1/(R-1));U+=h.ANGLECOST*E*E;for(var z=S-P,j=M-O,W=S+P,F=M+O,V=0;V<y.length;V++){var H=y[V],te=Math.cos(H.theta)*H.width/2,Q=Math.sin(H.theta)*H.width/2,K=2*w.segmentDistance(z,j,W,F,H.x-te,H.y-Q,H.x+te,H.y+Q)/(m.height+H.height),X=H.level===m.level,J=X?h.SAMELEVELDISTANCE:1;if(K<=J)return 1/0;U+=h.NEIGHBORCOST*(X?h.SAMELEVELFACTOR:1)/(K-J)}return U}function d(g){var m,y,x=g.trace._emptypoints,T=[],p=g.z.length,S=g.z[0].length,M=[];for(m=0;m<S;m++)M.push(1);for(m=0;m<p;m++)T.push(M.slice());for(m=0;m<x.length;m++)T[(y=x[m])[0]][y[1]]=0;return g.zmask=T,T}L.plot=function(g,m,y,x){var T=m.xaxis,p=m.yaxis;w.makeTraceGroups(x,y,"contour").each(function(S){var M=k.select(this),E=S[0],P=E.trace,O=E.x,I=E.y,R=P.contours,U=i(R,m,E),z=w.ensureSingle(M,"g","heatmapcoloring"),j=[];R.coloring==="heatmap"&&(j=[S]),t(g,m,j,z),a(U),n(U);var W=T.c2p(O[0],!0),F=T.c2p(O[O.length-1],!0),V=p.c2p(I[0],!0),H=p.c2p(I[I.length-1],!0),te=[[W,H],[F,H],[F,V],[W,V]],Q=U;R.type==="constraint"&&(Q=l(U,R._operation)),function(K,X,J){var ee=w.ensureSingle(K,"g","contourbg").selectAll("path").data(J.coloring==="fill"?[0]:[]);ee.enter().append("path"),ee.exit().remove(),ee.attr("d","M"+X.join("L")+"Z").style("stroke","none")}(M,te,R),function(K,X,J,ee){var ie=ee.coloring==="fill"||ee.type==="constraint"&&ee._operation!=="=",oe="M"+J.join("L")+"Z";ie&&o(X,ee);var ae=w.ensureSingle(K,"g","contourfill").selectAll("path").data(ie?X:[]);ae.enter().append("path"),ae.exit().remove(),ae.each(function(ce){var ge=(ce.prefixBoundary?oe:"")+c(ce,J);ge?k.select(this).attr("d",ge).style("stroke","none"):k.select(this).remove()})}(M,Q,te,R),function(K,X,J,ee,ie){var oe=J._context.staticPlot,ae=w.ensureSingle(K,"g","contourlines"),ce=ie.showlines!==!1,ge=ie.showlabels,ve=ce&&ge,be=L.createLines(ae,ce||ge,X,oe),we=L.createLineClip(ae,ve,J,ee.trace.uid),ye=K.selectAll("g.contourlabels").data(ge?[0]:[]);if(ye.exit().remove(),ye.enter().append("g").classed("contourlabels",!0),ge){var me=[],Ae=[];w.clearLocationCache();var ke=L.labelFormatter(J,ee),fe=r.tester.append("text").attr("data-notex",1).call(r.font,ie.labelfont),le=X[0].xaxis,de=X[0].yaxis,Ce=le._length,Me=de._length,Le=le.range,Oe=de.range,Be=w.aggNums(Math.min,null,ee.x),pe=w.aggNums(Math.max,null,ee.x),_e=w.aggNums(Math.min,null,ee.y),Te=w.aggNums(Math.max,null,ee.y),Re=Math.max(le.c2p(Be,!0),0),Ne=Math.min(le.c2p(pe,!0),Ce),ze=Math.max(de.c2p(Te,!0),0),Ge=Math.min(de.c2p(_e,!0),Me),Ye={};Le[0]<Le[1]?(Ye.left=Re,Ye.right=Ne):(Ye.left=Ne,Ye.right=Re),Oe[0]<Oe[1]?(Ye.top=ze,Ye.bottom=Ge):(Ye.top=Ge,Ye.bottom=ze),Ye.middle=(Ye.top+Ye.bottom)/2,Ye.center=(Ye.left+Ye.right)/2,me.push([[Ye.left,Ye.top],[Ye.right,Ye.top],[Ye.right,Ye.bottom],[Ye.left,Ye.bottom]]);var et=Math.sqrt(Ce*Ce+Me*Me),ut=u.LABELDISTANCE*et/Math.max(1,X.length/u.LABELINCREASE);be.each(function(ot){var yt=L.calcTextOpts(ot.level,ke,fe,J);k.select(this).selectAll("path").each(function(){var wt=w.getVisibleSegment(this,Ye,yt.height/2);if(wt&&!(wt.len<(yt.width+yt.height)*u.LABELMIN))for(var bt=Math.min(Math.ceil(wt.len/ut),u.LABELMAX),at=0;at<bt;at++){var rt=L.findBestTextLocation(this,wt,yt,Ae,Ye);if(!rt)break;L.addLabelData(rt,yt,Ae,me)}})}),fe.remove(),L.drawLabels(ye,Ae,J,we,ve?me:null)}ge&&!ce&&be.remove()}(M,U,g,E,R),function(K,X,J,ee,ie){var oe=ee.trace,ae=J._fullLayout._clips,ce="clip"+oe.uid,ge=ae.selectAll("#"+ce).data(oe.connectgaps?[]:[0]);if(ge.enter().append("clipPath").classed("contourclip",!0).attr("id",ce),ge.exit().remove(),oe.connectgaps===!1){var ve={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:X.xaxis,yaxis:X.yaxis,x:ee.x,y:ee.y,z:d(ee),smoothing:0};a([ve]),n([ve]),o([ve],{type:"levels"}),w.ensureSingle(ge,"path","").attr("d",(ve.prefixBoundary?"M"+ie.join("L")+"Z":"")+c(ve,ie))}else ce=null;r.setClipUrl(K,ce,J)}(M,m,g,E,te)})},L.createLines=function(g,m,y,x){var T=y[0].smoothing,p=g.selectAll("g.contourlevel").data(m?y:[]);if(p.exit().remove(),p.enter().append("g").classed("contourlevel",!0),m){var S=p.selectAll("path.openline").data(function(E){return E.pedgepaths||E.edgepaths});S.exit().remove(),S.enter().append("path").classed("openline",!0),S.attr("d",function(E){return r.smoothopen(E,T)}).style("stroke-miterlimit",1).style("vector-effect",x?"none":"non-scaling-stroke");var M=p.selectAll("path.closedline").data(function(E){return E.ppaths||E.paths});M.exit().remove(),M.enter().append("path").classed("closedline",!0),M.attr("d",function(E){return r.smoothclosed(E,T)}).style("stroke-miterlimit",1).style("vector-effect",x?"none":"non-scaling-stroke")}return p},L.createLineClip=function(g,m,y,x){var T=m?"clipline"+x:null,p=y._fullLayout._clips.selectAll("#"+T).data(m?[0]:[]);return p.exit().remove(),p.enter().append("clipPath").classed("contourlineclip",!0).attr("id",T),r.setClipUrl(g,T,y),p},L.labelFormatter=function(g,m){var y=g._fullLayout,x=m.trace,T=x.contours,p={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(T.labelformat)p.tickformat=T.labelformat,s(p,y);else{var S=_.extractOpts(x);if(S&&S.colorbar&&S.colorbar._axis)p=S.colorbar._axis;else{if(T.type==="constraint"){var M=T.value;w.isArrayOrTypedArray(M)?p.range=[M[0],M[M.length-1]]:p.range=[M,M]}else p.range=[T.start,T.end],p.nticks=(T.end-T.start)/T.size;p.range[0]===p.range[1]&&(p.range[1]+=p.range[0]||1),p.nticks||(p.nticks=1e3),s(p,y),f.prepTicks(p),p._tmin=null,p._tmax=null}}return function(E){return f.tickText(p,E).text}},L.calcTextOpts=function(g,m,y,x){var T=m(g);y.text(T).call(v.convertToTspans,x);var p=y.node(),S=r.bBox(p,!0);return{text:T,width:S.width,height:S.height,fontSize:+p.style["font-size"].replace("px",""),level:g,dy:(S.top+S.bottom)/2}},L.findBestTextLocation=function(g,m,y,x,T){var p,S,M,E,P,O=y.width;m.isClosed?(S=m.len/h.INITIALSEARCHPOINTS,p=m.min+S/2,M=m.max):(S=(m.len-O)/(h.INITIALSEARCHPOINTS+1),p=m.min+S+O/2,M=m.max-(S+O)/2);for(var I=1/0,R=0;R<h.ITERATIONS;R++){for(var U=p;U<M;U+=S){var z=w.getTextLocation(g,m.total,U,O),j=b(z,y,x,T);j<I&&(I=j,P=z,E=U)}if(I>2*h.MAXCOST)break;R&&(S/=2),M=(p=E-S/2)+1.5*S}if(I<=h.MAXCOST)return P},L.addLabelData=function(g,m,y,x){var T=m.fontSize,p=m.width+T/3,S=Math.max(0,m.height-T/3),M=g.x,E=g.y,P=g.theta,O=Math.sin(P),I=Math.cos(P),R=function(z,j){return[M+z*I-j*O,E+z*O+j*I]},U=[R(-p/2,-S/2),R(-p/2,S/2),R(p/2,S/2),R(p/2,-S/2)];y.push({text:m.text,x:M,y:E,dy:m.dy,theta:P,level:m.level,width:p,height:S}),x.push(U)},L.drawLabels=function(g,m,y,x,T){var p=g.selectAll("text").data(m,function(E){return E.text+","+E.x+","+E.y+","+E.theta});if(p.exit().remove(),p.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(E){var P=E.x+Math.sin(E.theta)*E.dy,O=E.y-Math.cos(E.theta)*E.dy;k.select(this).text(E.text).attr({x:P,y:O,transform:"rotate("+180*E.theta/Math.PI+" "+P+" "+O+")"}).call(v.convertToTspans,y)}),T){for(var S="",M=0;M<T.length;M++)S+="M"+T[M].join("L")+"Z";w.ensureSingle(x,"path","").attr("d",S)}}},54444:function(B,L,e){var k=e(54460),w=e(3400);function r(_,v,f){var s={type:"linear",range:[_,v]};return k.autoTicks(s,(v-_)/(f||15)),s}B.exports=function(_,v){var f=_.contours;if(_.autocontour){var s=_.zmin,t=_.zmax;(_.zauto||s===void 0)&&(s=w.aggNums(Math.min,null,v)),(_.zauto||t===void 0)&&(t=w.aggNums(Math.max,null,v));var a=r(s,t,_.ncontours);f.size=a.dtick,f.start=k.tickFirst(a),a.range.reverse(),f.end=k.tickFirst(a),f.start===s&&(f.start+=f.size),f.end===t&&(f.end-=f.size),f.start>f.end&&(f.start=f.end=(f.start+f.end)/2),_._input.contours||(_._input.contours={}),w.extendFlat(_._input.contours,{start:f.start,end:f.end,size:f.size}),_._input.autocontour=!0}else if(f.type!=="constraint"){var n,i=f.start,l=f.end,o=_._input.contours;i>l&&(f.start=o.start=l,l=f.end=o.end=i,i=f.start),f.size>0||(n=i===l?1:r(i,l,_.ncontours).dtick,o.size=f.size=n)}}},52440:function(B,L,e){var k=e(33428),w=e(43616),r=e(41648),_=e(41076);B.exports=function(v){var f=k.select(v).selectAll("g.contour");f.style("opacity",function(s){return s[0].trace.opacity}),f.each(function(s){var t=k.select(this),a=s[0].trace,n=a.contours,i=a.line,l=n.size||1,o=n.start,u=n.type==="constraint",h=!u&&n.coloring==="lines",c=!u&&n.coloring==="fill",b=h||c?_(a):null;t.selectAll("g.contourlevel").each(function(m){k.select(this).selectAll("path").call(w.lineGroupStyle,i.width,h?b(m.level):i.color,i.dash)});var d=n.labelfont;if(t.selectAll("g.contourlabels text").each(function(m){w.font(k.select(this),{family:d.family,size:d.size,color:d.color||(h?b(m.level):i.color)})}),u)t.selectAll("g.contourfill path").style("fill",a.fillcolor);else if(c){var g;t.selectAll("g.contourfill path").style("fill",function(m){return g===void 0&&(g=m.level),b(m.level+.5*l)}),g===void 0&&(g=o),t.selectAll("g.contourbg path").style("fill",b(g-.5*l))}}),r(v)}},97680:function(B,L,e){var k=e(27260),w=e(17428);B.exports=function(r,_,v,f,s){var t,a=v("contours.coloring"),n="";a==="fill"&&(t=v("contours.showlines")),t!==!1&&(a!=="lines"&&(n=v("line.color","#000")),v("line.width",.5),v("line.dash")),a!=="none"&&(r.showlegend!==!0&&(_.showlegend=!1),_._dfltShowLegend=!1,k(r,_,f,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),w(v,f,n,s)}},37960:function(B,L,e){var k=e(83328),w=e(67104),r=e(49084),_=e(92880).extendFlat,v=w.contours;B.exports=_({carpet:{valType:"string",editType:"calc"},z:k.z,a:k.x,a0:k.x0,da:k.dx,b:k.y,b0:k.y0,db:k.dy,text:k.text,hovertext:k.hovertext,transpose:k.transpose,atype:k.xtype,btype:k.ytype,fillcolor:w.fillcolor,autocontour:w.autocontour,ncontours:w.ncontours,contours:{type:v.type,start:v.start,end:v.end,size:v.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:v.showlines,showlabels:v.showlabels,labelfont:v.labelfont,labelformat:v.labelformat,operation:v.operation,value:v.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:w.line.color,width:w.line.width,dash:w.line.dash,smoothing:w.line.smoothing,editType:"plot"},transforms:void 0},r("",{cLetter:"z",autoColorDflt:!1}))},30572:function(B,L,e){var k=e(47128),w=e(3400),r=e(2872),_=e(26136),v=e(70448),f=e(11240),s=e(35744),t=e(3252),a=e(50948),n=e(54444);B.exports=function(i,l){var o=l._carpetTrace=a(i,l);if(o&&o.visible&&o.visible!=="legendonly"){if(!l.a||!l.b){var u=i.data[o.index],h=i.data[l.index];h.a||(h.a=u.a),h.b||(h.b=u.b),t(h,l,l._defaultColor,i._fullLayout)}var c=function(b,d){var g,m,y,x,T,p,S,M=d._carpetTrace,E=M.aaxis,P=M.baxis;E._minDtick=0,P._minDtick=0,w.isArray1D(d.z)&&r(d,E,P,"a","b",["z"]),g=d._a=d._a||d.a,x=d._b=d._b||d.b,g=g?E.makeCalcdata(d,"_a"):[],x=x?P.makeCalcdata(d,"_b"):[],m=d.a0||0,y=d.da||1,T=d.b0||0,p=d.db||1,S=d._z=_(d._z||d.z,d.transpose),d._emptypoints=f(S),v(S,d._emptypoints);var O=w.maxRowLength(S),I=d.xtype==="scaled"?"":g,R=s(d,I,m,y,O,E),U=d.ytype==="scaled"?"":x,z={a:R,b:s(d,U,T,p,S.length,P),z:S};return d.contours.type==="levels"&&d.contours.coloring!=="none"&&k(b,d,{vals:S,containerStr:"",cLetter:"z"}),[z]}(i,l);return n(l,l._z),c}}},3252:function(B,L,e){var k=e(3400),w=e(51264),r=e(37960),_=e(95536),v=e(84952),f=e(97680);B.exports=function(s,t,a,n){function i(l,o){return k.coerce(s,t,r,l,o)}if(i("carpet"),s.a&&s.b){if(!w(s,t,i,n,"a","b"))return void(t.visible=!1);i("text"),i("contours.type")==="constraint"?_(s,t,i,n,a,{hasHover:!1}):(v(s,t,i,function(l){return k.coerce2(s,t,r,l)}),f(s,t,i,n,{hasHover:!1}))}else t._defaultColor=a,t._length=null}},40448:function(B,L,e){B.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(B,L,e){var k=e(33428),w=e(87072),r=e(53416),_=e(43616),v=e(3400),f=e(72424),s=e(88748),t=e(23676),a=e(93252),n=e(82172),i=e(61512),l=e(56008),o=e(50948),u=e(77712);function h(d,g,m){var y=d.getPointAtLength(g),x=d.getPointAtLength(m),T=x.x-y.x,p=x.y-y.y,S=Math.sqrt(T*T+p*p);return[T/S,p/S]}function c(d){var g=Math.sqrt(d[0]*d[0]+d[1]*d[1]);return[d[0]/g,d[1]/g]}function b(d,g){var m=Math.abs(d[0]*g[0]+d[1]*g[1]);return Math.sqrt(1-m*m)/m}B.exports=function(d,g,m,y){var x=g.xaxis,T=g.yaxis;v.makeTraceGroups(y,m,"contour").each(function(p){var S=k.select(this),M=p[0],E=M.trace,P=E._carpetTrace=o(d,E),O=d.calcdata[P.index][0];if(P.visible&&P.visible!=="legendonly"){var I=M.a,R=M.b,U=E.contours,z=i(U,g,M),j=U.type==="constraint",W=U._operation,F=j?W==="="?"lines":"fill":U.coloring,V=[[I[0],R[R.length-1]],[I[I.length-1],R[R.length-1]],[I[I.length-1],R[0]],[I[0],R[0]]];f(z);var H=1e-8*(I[I.length-1]-I[0]),te=1e-8*(R[R.length-1]-R[0]);s(z,H,te);var Q,K,X,J,ee=z;U.type==="constraint"&&(ee=n(z,W)),function(ce,ge){var ve,be,we,ye,me,Ae,ke,fe,le;for(ve=0;ve<ce.length;ve++){for(me=(ye=ce[ve]).pedgepaths=[],Ae=ye.ppaths=[],be=0;be<ye.edgepaths.length;be++){for(le=ye.edgepaths[be],ke=[],we=0;we<le.length;we++)ke[we]=ge(le[we]);me.push(ke)}for(be=0;be<ye.paths.length;be++){for(le=ye.paths[be],fe=[],we=0;we<le.length;we++)fe[we]=ge(le[we]);Ae.push(fe)}}}(z,ae);var ie=[];for(J=O.clipsegments.length-1;J>=0;J--)Q=O.clipsegments[J],K=w([],Q.x,x.c2p),X=w([],Q.y,T.c2p),K.reverse(),X.reverse(),ie.push(r(K,X,Q.bicubic));var oe="M"+ie.join("L")+"Z";(function(ce,ge,ve,be,we,ye){var me,Ae,ke,fe,le=v.ensureSingle(ce,"g","contourbg").selectAll("path").data(ye!=="fill"||we?[]:[0]);le.enter().append("path"),le.exit().remove();var de=[];for(fe=0;fe<ge.length;fe++)me=ge[fe],Ae=w([],me.x,ve.c2p),ke=w([],me.y,be.c2p),de.push(r(Ae,ke,me.bicubic));le.attr("d","M"+de.join("L")+"Z").style("stroke","none")})(S,O.clipsegments,x,T,j,F),function(ce,ge,ve,be,we,ye,me,Ae,ke,fe,le){var de=fe==="fill";de&&l(we,ce.contours);var Ce=v.ensureSingle(ge,"g","contourfill").selectAll("path").data(de?we:[]);Ce.enter().append("path"),Ce.exit().remove(),Ce.each(function(Me){var Le=(Me.prefixBoundary?le:"")+function(Oe,Be,pe,_e,Te,Re,Ne,ze){var Ge,Ye,et,ut,ot,yt,wt,bt="",at=Be.edgepaths.map(function(st,je){return je}),rt=!0,At=1e-4*Math.abs(pe[0][0]-pe[2][0]),Rt=1e-4*Math.abs(pe[0][1]-pe[2][1]);function Ft(st){return Math.abs(st[1]-pe[0][1])<Rt}function Dt(st){return Math.abs(st[1]-pe[2][1])<Rt}function Xe(st){return Math.abs(st[0]-pe[0][0])<At}function Ke(st){return Math.abs(st[0]-pe[2][0])<At}function Ve(st,je){var Ue,lt,Qe,gt,mt="";for(Ft(st)&&!Ke(st)||Dt(st)&&!Xe(st)?(gt=Te.aaxis,Qe=u(Te,Re,[st[0],je[0]],.5*(st[1]+je[1]))):(gt=Te.baxis,Qe=u(Te,Re,.5*(st[0]+je[0]),[st[1],je[1]])),Ue=1;Ue<Qe.length;Ue++)for(mt+=gt.smoothing?"C":"L",lt=0;lt<Qe[Ue].length;lt++){var xt=Qe[Ue][lt];mt+=[Ne.c2p(xt[0]),ze.c2p(xt[1])]+" "}return mt}for(Ge=0,Ye=null;at.length;){var Je=Be.edgepaths[Ge][0];for(Ye&&(bt+=Ve(Ye,Je)),wt=_.smoothopen(Be.edgepaths[Ge].map(_e),Be.smoothing),bt+=rt?wt:wt.replace(/^M/,"L"),at.splice(at.indexOf(Ge),1),Ye=Be.edgepaths[Ge][Be.edgepaths[Ge].length-1],ot=-1,ut=0;ut<4;ut++){if(!Ye){v.log("Missing end?",Ge,Be);break}for(Ft(Ye)&&!Ke(Ye)?et=pe[1]:Xe(Ye)?et=pe[0]:Dt(Ye)?et=pe[3]:Ke(Ye)&&(et=pe[2]),yt=0;yt<Be.edgepaths.length;yt++){var ct=Be.edgepaths[yt][0];Math.abs(Ye[0]-et[0])<At?Math.abs(Ye[0]-ct[0])<At&&(ct[1]-Ye[1])*(et[1]-ct[1])>=0&&(et=ct,ot=yt):Math.abs(Ye[1]-et[1])<Rt?Math.abs(Ye[1]-ct[1])<Rt&&(ct[0]-Ye[0])*(et[0]-ct[0])>=0&&(et=ct,ot=yt):v.log("endpt to newendpt is not vert. or horz.",Ye,et,ct)}if(ot>=0)break;bt+=Ve(Ye,et),Ye=et}if(ot===Be.edgepaths.length){v.log("unclosed perimeter path");break}Ge=ot,(rt=at.indexOf(Ge)===-1)&&(Ge=at[0],bt+=Ve(Ye,et)+"Z",Ye=null)}for(Ge=0;Ge<Be.paths.length;Ge++)bt+=_.smoothclosed(Be.paths[Ge].map(_e),Be.smoothing);return bt}(0,Me,ye,me,Ae,ke,ve,be);Le?k.select(this).attr("d",Le).style("stroke","none"):k.select(this).remove()})}(E,S,x,T,ee,V,ae,P,O,F,oe),function(ce,ge,ve,be,we,ye,me){var Ae=ve._context.staticPlot,ke=v.ensureSingle(ce,"g","contourlines"),fe=we.showlines!==!1,le=we.showlabels,de=fe&&le,Ce=t.createLines(ke,fe||le,ge,Ae),Me=t.createLineClip(ke,de,ve,be.trace.uid),Le=ce.selectAll("g.contourlabels").data(le?[0]:[]);if(Le.exit().remove(),Le.enter().append("g").classed("contourlabels",!0),le){var Oe=ye.xaxis,Be=ye.yaxis,pe=Oe._length,_e=Be._length,Te=[[[0,0],[pe,0],[pe,_e],[0,_e]]],Re=[];v.clearLocationCache();var Ne=t.labelFormatter(ve,be),ze=_.tester.append("text").attr("data-notex",1).call(_.font,we.labelfont),Ge={left:0,right:pe,center:pe/2,top:0,bottom:_e,middle:_e/2},Ye=Math.sqrt(pe*pe+_e*_e),et=a.LABELDISTANCE*Ye/Math.max(1,ge.length/a.LABELINCREASE);Ce.each(function(ut){var ot=t.calcTextOpts(ut.level,Ne,ze,ve);k.select(this).selectAll("path").each(function(yt){var wt=this,bt=v.getVisibleSegment(wt,Ge,ot.height/2);if(bt&&(function(Rt,Ft,Dt,Xe,Ke,Ve){for(var Je,ct=0;ct<Dt.pedgepaths.length;ct++)Ft===Dt.pedgepaths[ct]&&(Je=Dt.edgepaths[ct]);if(Je){var st=Ke.a[0],je=Ke.a[Ke.a.length-1],Ue=Ke.b[0],lt=Ke.b[Ke.b.length-1],Qe=h(Rt,0,1),gt=h(Rt,Xe.total,Xe.total-1),mt=dt(Je[0],Qe),xt=Xe.total-dt(Je[Je.length-1],gt);Xe.min<mt&&(Xe.min=mt),Xe.max>xt&&(Xe.max=xt),Xe.len=Xe.max-Xe.min}function dt(Lt,kt){var _t,Ot=0,Pt=.1;return(Math.abs(Lt[0]-st)<Pt||Math.abs(Lt[0]-je)<Pt)&&(_t=c(Ke.dxydb_rough(Lt[0],Lt[1],Pt)),Ot=Math.max(Ot,Ve*b(kt,_t)/2)),(Math.abs(Lt[1]-Ue)<Pt||Math.abs(Lt[1]-lt)<Pt)&&(_t=c(Ke.dxyda_rough(Lt[0],Lt[1],Pt)),Ot=Math.max(Ot,Ve*b(kt,_t)/2)),Ot}}(wt,yt,ut,bt,me,ot.height),!(bt.len<(ot.width+ot.height)*a.LABELMIN)))for(var at=Math.min(Math.ceil(bt.len/et),a.LABELMAX),rt=0;rt<at;rt++){var At=t.findBestTextLocation(wt,bt,ot,Re,Ge);if(!At)break;t.addLabelData(At,ot,Re,Te)}})}),ze.remove(),t.drawLabels(Le,Re,ve,Me,de?Te:null)}le&&!fe&&Ce.remove()}(S,z,d,M,U,g,P),_.setClipUrl(S,P._clipPathId,d)}function ae(ce){var ge=P.ab2xy(ce[0],ce[1],!0);return[x.c2p(ge[0]),T.c2p(ge[1])]}})}},33928:function(B,L,e){var k=e(49084),w=e(21776).Ks,r=e(45464),_=e(31512),v=e(92880).extendFlat;B.exports=v({lon:_.lon,lat:_.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:_.text,hovertext:_.hovertext,hoverinfo:v({},r.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:w(),showlegend:v({},r.showlegend,{dflt:!1})},k("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(B,L,e){var k=e(38248),w=e(3400).isArrayOrTypedArray,r=e(39032).BADNUM,_=e(47128),v=e(3400)._;B.exports=function(f,s){for(var t=s._length,a=new Array(t),n=s.z,i=w(n)&&n.length,l=0;l<t;l++){var o=a[l]={},u=s.lon[l],h=s.lat[l];if(o.lonlat=k(u)&&k(h)?[+u,+h]:[r,r],i){var c=n[l];o.z=k(c)?c:r}}return _(f,s,{vals:i?n:[0,1],containerStr:"",cLetter:"z"}),t&&(a[0].t={labels:{lat:v(f,"lat:")+" ",lon:v(f,"lon:")+" "}}),a}},4629:function(B,L,e){var k=e(38248),w=e(3400),r=e(76308),_=e(8932),v=e(39032).BADNUM,f=e(44808).makeBlank;B.exports=function(s){var t=s[0].trace,a=t.visible===!0&&t._length!==0,n=t._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:f()};if(!a)return n;var i,l=[],o=t.z,u=t.radius,h=w.isArrayOrTypedArray(o)&&o.length,c=w.isArrayOrTypedArray(u);for(i=0;i<s.length;i++){var b=s[i],d=b.lonlat;if(d[0]!==v){var g={};if(h){var m=b.z;g.z=m!==v?m:0}c&&(g.r=k(u[i])&&u[i]>0?+u[i]:0),l.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:g})}}var y=_.extractOpts(t),x=y.reversescale?_.flipScale(y.colorscale):y.colorscale,T=x[0][1],p=["interpolate",["linear"],["heatmap-density"],0,r.opacity(T)<1?T:r.addOpacity(T,0)];for(i=1;i<x.length;i++)p.push(x[i][0],x[i][1]);var S=["interpolate",["linear"],["get","z"],y.min,0,y.max,1];return w.extendFlat(n.heatmap.paint,{"heatmap-weight":h?S:1/(y.max-y.min),"heatmap-color":p,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),n.geojson={type:"FeatureCollection",features:l},n.heatmap.layout.visibility="visible",n}},97664:function(B,L,e){var k=e(3400),w=e(27260),r=e(33928);B.exports=function(_,v,f,s){function t(l,o){return k.coerce(_,v,r,l,o)}var a=t("lon")||[],n=t("lat")||[],i=Math.min(a.length,n.length);i?(v._length=i,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),w(_,v,s,t,{prefix:"",cLetter:"z"})):v.visible=!1}},96176:function(B){B.exports=function(L,e){return L.lon=e.lon,L.lat=e.lat,L.z=e.z,L}},25336:function(B,L,e){var k=e(54460),w=e(63312).hoverPoints,r=e(63312).getExtraText;B.exports=function(_,v,f){var s=w(_,v,f);if(s){var t=s[0],a=t.cd,n=a[0].trace,i=a[t.index];if(delete t.color,"z"in i){var l=t.subplot.mockAxis;t.z=i.z,t.zLabel=k.tickText(l,l.c2l(i.z),"hover").text}return t.extraText=r(n,i,a[0].t.labels),[t]}}},15088:function(B,L,e){B.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(k,w){for(var r=w.getMapLayers(),_=0;_<r.length;_++){var v=r[_],f=v.id;if(v.type==="symbol"&&typeof f=="string"&&f.indexOf("plotly-")===-1)return f}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(B,L,e){var k=e(4629),w=e(47552).traceLayerPrefix;function r(v,f){this.type="densitymapbox",this.subplot=v,this.uid=f,this.sourceId="source-"+f,this.layerList=[["heatmap",w+f+"-heatmap"]],this.below=null}var _=r.prototype;_.update=function(v){var f=this.subplot,s=this.layerList,t=k(v),a=f.belowLookup["trace-"+this.uid];f.map.getSource(this.sourceId).setData(t.geojson),a!==this.below&&(this._removeLayers(),this._addLayers(t,a),this.below=a);for(var n=0;n<s.length;n++){var i=s[n],l=i[0],o=i[1],u=t[l];f.setOptions(o,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&f.setOptions(o,"setPaintProperty",u.paint)}},_._addLayers=function(v,f){for(var s=this.subplot,t=this.layerList,a=this.sourceId,n=0;n<t.length;n++){var i=t[n],l=i[0],o=v[l];s.addLayer({type:l,id:i[1],source:a,layout:o.layout,paint:o.paint},f)}},_._removeLayers=function(){for(var v=this.subplot.map,f=this.layerList,s=f.length-1;s>=0;s--)v.removeLayer(f[s][1])},_.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},B.exports=function(v,f){var s=f[0].trace,t=new r(v,s.uid),a=t.sourceId,n=k(f),i=t.below=v.belowLookup["trace-"+s.uid];return v.map.addSource(a,{type:"geojson",data:n.geojson}),t._addLayers(n,i),t}},74248:function(B,L,e){var k=e(3400);B.exports=function(w,r){for(var _=0;_<w.length;_++)w[_].i=_;k.mergeArray(r.text,w,"tx"),k.mergeArray(r.hovertext,w,"htx");var v=r.marker;if(v){k.mergeArray(v.opacity,w,"mo"),k.mergeArray(v.color,w,"mc");var f=v.line;f&&(k.mergeArray(f.color,w,"mlc"),k.mergeArrayCastPositive(f.width,w,"mlw"))}}},20088:function(B,L,e){var k,w=e(20832),r=e(52904).line,_=e(45464),v=e(29736).axisHoverFormat,f=e(21776).Ks,s=e(21776).Gw,t=e(74732),a=e(92880).extendFlat,n=e(76308);B.exports={x:w.x,x0:w.x0,dx:w.dx,y:w.y,y0:w.y0,dy:w.dy,xperiod:w.xperiod,yperiod:w.yperiod,xperiod0:w.xperiod0,yperiod0:w.yperiod0,xperiodalignment:w.xperiodalignment,yperiodalignment:w.yperiodalignment,xhoverformat:v("x"),yhoverformat:v("y"),hovertext:w.hovertext,hovertemplate:f({},{keys:t.eventDataKeys}),hoverinfo:a({},_.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:s({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),text:w.text,textposition:w.textposition,insidetextanchor:a({},w.insidetextanchor,{dflt:"middle"}),textangle:a({},w.textangle,{dflt:0}),textfont:w.textfont,insidetextfont:w.insidetextfont,outsidetextfont:w.outsidetextfont,constraintext:w.constraintext,cliponaxis:w.cliponaxis,orientation:a({},w.orientation,{}),offset:a({},w.offset,{arrayOk:!1}),width:a({},w.width,{arrayOk:!1}),marker:(k=a({},w.marker),delete k.pattern,delete k.cornerradius,k),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:a({},r.color,{dflt:n.defaultLine}),width:a({},r.width,{dflt:0,editType:"plot"}),dash:r.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:w.offsetgroup,alignmentgroup:w.alignmentgroup}},23096:function(B,L,e){var k=e(54460),w=e(1220),r=e(74248),_=e(4500),v=e(39032).BADNUM;function f(s){return s===v?0:s}B.exports=function(s,t){var a,n,i,l,o,u,h,c,b=k.getFromId(s,t.xaxis||"x"),d=k.getFromId(s,t.yaxis||"y");t.orientation==="h"?(a=b.makeCalcdata(t,"x"),i=d.makeCalcdata(t,"y"),l=w(t,d,"y",i),o=!!t.yperiodalignment,u="y"):(a=d.makeCalcdata(t,"y"),i=b.makeCalcdata(t,"x"),l=w(t,b,"x",i),o=!!t.xperiodalignment,u="x"),n=l.vals;var g,m=Math.min(n.length,a.length),y=new Array(m);for(t._base=[],h=0;h<m;h++){a[h]<0&&(a[h]=v);var x=!1;a[h]!==v&&h+1<m&&a[h+1]!==v&&(x=!0),c=y[h]={p:n[h],s:a[h],cNext:x},t._base[h]=-.5*c.s,o&&(y[h].orig_p=i[h],y[h][u+"End"]=l.ends[h],y[h][u+"Start"]=l.starts[h]),t.ids&&(c.id=String(t.ids[h])),h===0&&(y[0].vTotal=0),y[0].vTotal+=f(c.s),c.begR=f(c.s)/f(y[0].s)}for(h=0;h<m;h++)(c=y[h]).s!==v&&(c.sumR=c.s/y[0].vTotal,c.difR=g!==void 0?c.s/g:1,g=c.s);return r(y,t),_(y,t),y}},74732:function(B){B.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(B,L,e){var k=e(96376).setGroupPositions;B.exports=function(w,r){var _,v,f=w._fullLayout,s=w._fullData,t=w.calcdata,a=r.xaxis,n=r.yaxis,i=[],l=[],o=[];for(v=0;v<s.length;v++){var u=s[v],h=u.orientation==="h";u.visible===!0&&u.xaxis===a._id&&u.yaxis===n._id&&u.type==="funnel"&&(_=t[v],h?o.push(_):l.push(_),i.push(_))}var c={mode:f.funnelmode,norm:f.funnelnorm,gap:f.funnelgap,groupgap:f.funnelgroupgap};for(k(w,a,n,l,c),k(w,n,a,o,c),v=0;v<i.length;v++){_=i[v];for(var b=0;b<_.length;b++)b+1<_.length&&(_[b].nextP0=_[b+1].p0,_[b].nextS0=_[b+1].s0,_[b].nextP1=_[b+1].p1,_[b].nextS1=_[b+1].s1)}}},45432:function(B,L,e){var k=e(3400),w=e(20011),r=e(31508).handleText,_=e(43980),v=e(31147),f=e(20088),s=e(76308);B.exports={supplyDefaults:function(t,a,n,i){function l(c,b){return k.coerce(t,a,f,c,b)}if(_(t,a,i,l)){v(t,a,i,l),l("xhoverformat"),l("yhoverformat"),l("orientation",a.y&&!a.x?"v":"h"),l("offset"),l("width");var o=l("text");l("hovertext"),l("hovertemplate");var u=l("textposition");r(t,a,i,l,u,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),a.textposition==="none"||a.texttemplate||l("textinfo",k.isArrayOrTypedArray(o)?"text+value":"value");var h=l("marker.color",n);l("marker.line.color",s.defaultLine),l("marker.line.width"),l("connector.visible")&&(l("connector.fillcolor",function(c){var b=k.isArrayOrTypedArray(c)?"#000":c;return s.addOpacity(b,.5*s.opacity(b))}(h)),l("connector.line.width")&&(l("connector.line.color"),l("connector.line.dash")))}else a.visible=!1},crossTraceDefaults:function(t,a){var n,i;function l(u){return k.coerce(i._input,i,f,u)}if(a.funnelmode==="group")for(var o=0;o<t.length;o++)n=(i=t[o])._input,w(n,i,a,l)}}},34580:function(B){B.exports=function(L,e){return L.x="xVal"in e?e.xVal:e.x,L.y="yVal"in e?e.yVal:e.y,"percentInitial"in e&&(L.percentInitial=e.percentInitial),"percentPrevious"in e&&(L.percentPrevious=e.percentPrevious),"percentTotal"in e&&(L.percentTotal=e.percentTotal),e.xa&&(L.xaxis=e.xa),e.ya&&(L.yaxis=e.ya),L}},31488:function(B,L,e){var k=e(76308).opacity,w=e(63400).hoverOnBars,r=e(3400).formatPercent;B.exports=function(_,v,f,s,t){var a=w(_,v,f,s,t);if(a){var n=a.cd,i=n[0].trace,l=i.orientation==="h",o=n[a.index];a[(l?"x":"y")+"LabelVal"]=o.s,a.percentInitial=o.begR,a.percentInitialLabel=r(o.begR,1),a.percentPrevious=o.difR,a.percentPreviousLabel=r(o.difR,1),a.percentTotal=o.sumR,a.percentTotalLabel=r(o.sumR,1);var u=o.hi||i.hoverinfo,h=[];if(u&&u!=="none"&&u!=="skip"){var c=u==="all",b=u.split("+"),d=function(g){return c||b.indexOf(g)!==-1};d("percent initial")&&h.push(a.percentInitialLabel+" of initial"),d("percent previous")&&h.push(a.percentPreviousLabel+" of previous"),d("percent total")&&h.push(a.percentTotalLabel+" of total")}return a.extraText=h.join("<br>"),a.color=function(g,m){var y=g.marker,x=m.mc||y.color,T=m.mlc||y.line.color,p=m.mlw||y.line.width;return k(x)?x:k(T)&&p?T:void 0}(i,o),[a]}}},94704:function(B,L,e){B.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(B){B.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(B,L,e){var k=e(3400),w=e(7076);B.exports=function(r,_,v){var f=!1;function s(n,i){return k.coerce(r,_,w,n,i)}for(var t=0;t<v.length;t++){var a=v[t];if(a.visible&&a.type==="funnel"){f=!0;break}}f&&(s("funnelmode"),s("funnelgap",.2),s("funnelgroupgap"))}},42200:function(B,L,e){var k=e(33428),w=e(3400),r=e(43616),_=e(39032).BADNUM,v=e(98184),f=e(82744).clearMinTextSize;function s(t,a,n,i){var l=[],o=[],u=i?a:n,h=i?n:a;return l[0]=u.c2p(t.s0,!0),o[0]=h.c2p(t.p0,!0),l[1]=u.c2p(t.s1,!0),o[1]=h.c2p(t.p1,!0),l[2]=u.c2p(t.nextS0,!0),o[2]=h.c2p(t.nextP0,!0),l[3]=u.c2p(t.nextS1,!0),o[3]=h.c2p(t.nextP1,!0),i?[l,o]:[o,l]}B.exports=function(t,a,n,i){var l=t._fullLayout;f("funnel",l),function(o,u,h,c){var b=u.xaxis,d=u.yaxis;w.makeTraceGroups(c,h,"trace bars").each(function(g){var m=k.select(this),y=g[0].trace,x=w.ensureSingle(m,"g","regions");if(y.connector&&y.connector.visible){var T=y.orientation==="h",p=x.selectAll("g.region").data(w.identity);p.enter().append("g").classed("region",!0),p.exit().remove();var S=p.size();p.each(function(M,E){if(E===S-1||M.cNext){var P=s(M,b,d,T),O=P[0],I=P[1],R="";O[0]!==_&&I[0]!==_&&O[1]!==_&&I[1]!==_&&O[2]!==_&&I[2]!==_&&O[3]!==_&&I[3]!==_&&(R+=T?"M"+O[0]+","+I[1]+"L"+O[2]+","+I[2]+"H"+O[3]+"L"+O[1]+","+I[1]+"Z":"M"+O[1]+","+I[1]+"L"+O[2]+","+I[3]+"V"+I[2]+"L"+O[1]+","+I[0]+"Z"),R===""&&(R="M0,0Z"),w.ensureSingle(k.select(this),"path").attr("d",R).call(r.setClipUrl,u.layerClipId,o)}})}else x.remove()})}(t,a,n,i),function(o,u,h,c){var b=u.xaxis,d=u.yaxis;w.makeTraceGroups(c,h,"trace bars").each(function(g){var m=k.select(this),y=g[0].trace,x=w.ensureSingle(m,"g","lines");if(y.connector&&y.connector.visible&&y.connector.line.width){var T=y.orientation==="h",p=x.selectAll("g.line").data(w.identity);p.enter().append("g").classed("line",!0),p.exit().remove();var S=p.size();p.each(function(M,E){if(E===S-1||M.cNext){var P=s(M,b,d,T),O=P[0],I=P[1],R="";O[3]!==void 0&&I[3]!==void 0&&(T?(R+="M"+O[0]+","+I[1]+"L"+O[2]+","+I[2],R+="M"+O[1]+","+I[1]+"L"+O[3]+","+I[2]):(R+="M"+O[1]+","+I[1]+"L"+O[2]+","+I[3],R+="M"+O[1]+","+I[0]+"L"+O[2]+","+I[2])),R===""&&(R="M0,0Z"),w.ensureSingle(k.select(this),"path").attr("d",R).call(r.setClipUrl,u.layerClipId,o)}})}else x.remove()})}(t,a,n,i),v.plot(t,a,n,i,{mode:l.funnelmode,norm:l.funnelmode,gap:l.funnelgap,groupgap:l.funnelgroupgap})}},44544:function(B,L,e){var k=e(33428),w=e(43616),r=e(76308),_=e(13448).DESELECTDIM,v=e(60100),f=e(82744).resizeText,s=v.styleTextPoints;B.exports={style:function(t,a,n){var i=n||k.select(t).selectAll("g.funnellayer").selectAll("g.trace");f(t,i,"funnel"),i.style("opacity",function(l){return l[0].trace.opacity}),i.each(function(l){var o=k.select(this),u=l[0].trace;o.selectAll(".point > path").each(function(h){if(!h.isBlank){var c=u.marker;k.select(this).call(r.fill,h.mc||c.color).call(r.stroke,h.mlc||c.line.color).call(w.dashLine,c.line.dash,h.mlw||c.line.width).style("opacity",u.selectedpoints&&!h.selected?_:1)}}),s(o,u,t),o.selectAll(".regions").each(function(){k.select(this).selectAll("path").style("stroke-width",0).call(r.fill,u.connector.fillcolor)}),o.selectAll(".lines").each(function(){var h=u.connector.line;w.lineGroupStyle(k.select(this).selectAll("path"),h.width,h.color,h.dash)})})}}},22332:function(B,L,e){var k=e(74996),w=e(45464),r=e(86968).u,_=e(21776).Ks,v=e(21776).Gw,f=e(92880).extendFlat;B.exports={labels:k.labels,label0:k.label0,dlabel:k.dlabel,values:k.values,marker:{colors:k.marker.colors,line:{color:f({},k.marker.line.color,{dflt:null}),width:f({},k.marker.line.width,{dflt:1}),editType:"calc"},pattern:k.marker.pattern,editType:"calc"},text:k.text,hovertext:k.hovertext,scalegroup:f({},k.scalegroup,{}),textinfo:f({},k.textinfo,{flags:["label","text","value","percent"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:f({},w.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:_({},{keys:["label","color","value","text","percent"]}),textposition:f({},k.textposition,{values:["inside","none"],dflt:"inside"}),textfont:k.textfont,insidetextfont:k.insidetextfont,title:{text:k.title.text,font:k.title.font,position:f({},k.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:r({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(B,L,e){var k=e(7316);L.name="funnelarea",L.plot=function(w,r,_,v){k.plotBasePlot(L.name,w,r,_,v)},L.clean=function(w,r,_,v){k.cleanBasePlot(L.name,w,r,_,v)}},54e3:function(B,L,e){var k=e(45768);B.exports={calc:function(w,r){return k.calc(w,r)},crossTraceCalc:function(w){k.crossTraceCalc(w,{type:"funnelarea"})}}},92688:function(B,L,e){var k=e(3400),w=e(22332),r=e(86968).Q,_=e(31508).handleText,v=e(74174).handleLabelsAndValues,f=e(74174).handleMarkerDefaults;B.exports=function(s,t,a,n){function i(m,y){return k.coerce(s,t,w,m,y)}var l=i("labels"),o=i("values"),u=v(l,o),h=u.len;if(t._hasLabels=u.hasLabels,t._hasValues=u.hasValues,!t._hasLabels&&t._hasValues&&(i("label0"),i("dlabel")),h){t._length=h,f(s,t,n,i),i("scalegroup");var c,b=i("text"),d=i("texttemplate");if(d||(c=i("textinfo",Array.isArray(b)?"text+percent":"percent")),i("hovertext"),i("hovertemplate"),d||c&&c!=="none"){var g=i("textposition");_(s,t,n,i,g,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else c==="none"&&i("textposition","none");r(t,n,i),i("title.text")&&(i("title.position"),k.coerceFont(i,"title.font",n.font)),i("aspectratio"),i("baseratio")}else t.visible=!1}},62396:function(B,L,e){B.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(B,L,e){var k=e(85204).hiddenlabels;B.exports={hiddenlabels:k,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(B,L,e){var k=e(3400),w=e(61280);B.exports=function(r,_){function v(f,s){return k.coerce(r,_,w,f,s)}v("hiddenlabels"),v("funnelareacolorway",_.colorway),v("extendfunnelareacolors")}},39472:function(B,L,e){var k=e(33428),w=e(43616),r=e(3400),_=r.strScale,v=r.strTranslate,f=e(72736),s=e(98184).toMoveInsideBar,t=e(82744),a=t.recordMinTextSize,n=t.clearMinTextSize,i=e(69656),l=e(37820),o=l.attachFxHandlers,u=l.determineInsideTextFont,h=l.layoutAreas,c=l.prerenderTitles,b=l.positionTitleOutside,d=l.formatSliceLabel;function g(m,y){return"l"+(y[0]-m[0])+","+(y[1]-m[1])}B.exports=function(m,y){var x=m._context.staticPlot,T=m._fullLayout;n("funnelarea",T),c(y,m),h(y,T._size),r.makeTraceGroups(T._funnelarealayer,y,"trace").each(function(p){var S=k.select(this),M=p[0],E=M.trace;(function(P){if(P.length){var O=P[0],I=O.trace,R=I.aspectratio,U=I.baseratio;U>.999&&(U=.999);var z,j,W,F=Math.pow(U,2),V=O.vTotal,H=V,te=V*F/(1-F)/V,Q=[];for(Q.push(ke()),j=P.length-1;j>-1;j--)if(!(W=P[j]).hidden){var K=W.v/H;te+=K,Q.push(ke())}var X=1/0,J=-1/0;for(j=0;j<Q.length;j++)z=Q[j],X=Math.min(X,z[1]),J=Math.max(J,z[1]);for(j=0;j<Q.length;j++)Q[j][1]-=(J+X)/2;var ee=Q[Q.length-1][0],ie=O.r,oe=(J-X)/2,ae=ie/ee,ce=ie/oe*R;for(O.r=ce*oe,j=0;j<Q.length;j++)Q[j][0]*=ae,Q[j][1]*=ce;var ge,ve,be=[-(z=Q[0])[0],z[1]],we=[z[0],z[1]],ye=0;for(j=P.length-1;j>-1;j--)if(!(W=P[j]).hidden){var me=Q[ye+=1][0],Ae=Q[ye][1];W.TL=[-me,Ae],W.TR=[me,Ae],W.BL=be,W.BR=we,W.pxmid=(ge=W.TR,ve=W.BR,[.5*(ge[0]+ve[0]),.5*(ge[1]+ve[1])]),be=W.TL,we=W.TR}}function ke(){var fe,le={x:fe=Math.sqrt(te),y:-fe};return[le.x,le.y]}})(p),S.each(function(){var P=k.select(this).selectAll("g.slice").data(p);P.enter().append("g").classed("slice",!0),P.exit().remove(),P.each(function(I,R){if(I.hidden)k.select(this).selectAll("path,g").remove();else{I.pointNumber=I.i,I.curveNumber=E.index;var U=M.cx,z=M.cy,j=k.select(this),W=j.selectAll("path.surface").data([I]);W.enter().append("path").classed("surface",!0).style({"pointer-events":x?"none":"all"}),j.call(o,m,p);var F="M"+(U+I.TR[0])+","+(z+I.TR[1])+g(I.TR,I.BR)+g(I.BR,I.BL)+g(I.BL,I.TL)+"Z";W.attr("d",F),d(m,I,M);var V=i.castOption(E.textposition,I.pts),H=j.selectAll("g.slicetext").data(I.text&&V!=="none"?[0]:[]);H.enter().append("g").classed("slicetext",!0),H.exit().remove(),H.each(function(){var te=r.ensureSingle(k.select(this),"text","",function(ae){ae.attr("data-notex",1)}),Q=r.ensureUniformFontSize(m,u(E,I,T.font));te.text(I.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(w.font,Q).call(f.convertToTspans,m);var K,X,J,ee=w.bBox(te.node()),ie=Math.min(I.BL[1],I.BR[1])+z,oe=Math.max(I.TL[1],I.TR[1])+z;X=Math.max(I.TL[0],I.BL[0])+U,J=Math.min(I.TR[0],I.BR[0])+U,(K=s(X,J,ie,oe,ee,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=Q.size,a(E.type,K,T),p[R].transform=K,r.setTransormAndDisplay(te,K)})}});var O=k.select(this).selectAll("g.titletext").data(E.title.text?[0]:[]);O.enter().append("g").classed("titletext",!0),O.exit().remove(),O.each(function(){var I=r.ensureSingle(k.select(this),"text","",function(z){z.attr("data-notex",1)}),R=E.title.text;E._meta&&(R=r.templateString(R,E._meta)),I.text(R).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(w.font,E.title.font).call(f.convertToTspans,m);var U=b(M,T._size);I.attr("transform",v(U.x,U.y)+_(Math.min(1,U.scale))+v(U.tx,U.ty))})})})}},62096:function(B,L,e){var k=e(33428),w=e(10528),r=e(82744).resizeText;B.exports=function(_){var v=_._fullLayout._funnelarealayer.selectAll(".trace");r(_,v,"funnelarea"),v.each(function(f){var s=f[0].trace,t=k.select(this);t.style({opacity:s.opacity}),t.selectAll("path.surface").each(function(a){k.select(this).call(w,a,s,_)})})}},83328:function(B,L,e){var k=e(52904),w=e(45464),r=e(25376),_=e(29736).axisHoverFormat,v=e(21776).Ks,f=e(21776).Gw,s=e(49084),t=e(92880).extendFlat;B.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},k.x,{impliedEdits:{xtype:"array"}}),x0:t({},k.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},k.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},k.y,{impliedEdits:{ytype:"array"}}),y0:t({},k.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},k.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},k.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},k.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},k.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},k.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},k.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},k.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:_("x"),yhoverformat:_("y"),zhoverformat:_("z",1),hovertemplate:v(),texttemplate:f({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:r({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},w.showlegend,{dflt:!1})},{transforms:void 0},s("",{cLetter:"z",autoColorDflt:!1}))},19512:function(B,L,e){var k=e(24040),w=e(3400),r=e(54460),_=e(1220),v=e(55480),f=e(47128),s=e(2872),t=e(26136),a=e(70448),n=e(11240),i=e(35744),l=e(39032).BADNUM;function o(u){for(var h=[],c=u.length,b=0;b<c;b++){var d=u[b];d!==l&&h.push(d)}return h}B.exports=function(u,h){var c,b,d,g,m,y,x,T,p,S,M,E=r.getFromId(u,h.xaxis||"x"),P=r.getFromId(u,h.yaxis||"y"),O=k.traceIs(h,"contour"),I=k.traceIs(h,"histogram"),R=k.traceIs(h,"gl2d"),U=O?"best":h.zsmooth;if(E._minDtick=0,P._minDtick=0,I)g=(M=v(u,h)).orig_x,c=M.x,b=M.x0,d=M.dx,T=M.orig_y,m=M.y,y=M.y0,x=M.dy,p=M.z;else{var z=h.z;w.isArray1D(z)?(s(h,E,P,"x","y",["z"]),c=h._x,m=h._y,z=h._z):(g=h.x?E.makeCalcdata(h,"x"):[],T=h.y?P.makeCalcdata(h,"y"):[],c=_(h,E,"x",g).vals,m=_(h,P,"y",T).vals,h._x=c,h._y=m),b=h.x0,d=h.dx,y=h.y0,x=h.dy,p=t(z,h,E,P)}function j(J){U=h._input.zsmooth=h.zsmooth=!1,w.warn('cannot use zsmooth: "fast": '+J)}function W(J){if(J.length>1){var ee=(J[J.length-1]-J[0])/(J.length-1),ie=Math.abs(ee/100);for(S=0;S<J.length-1;S++)if(Math.abs(J[S+1]-J[S]-ee)>ie)return!1}return!0}(E.rangebreaks||P.rangebreaks)&&(p=function(J,ee,ie){for(var oe=[],ae=-1,ce=0;ce<ie.length;ce++)if(ee[ce]!==l){oe[++ae]=[];for(var ge=0;ge<ie[ce].length;ge++)J[ge]!==l&&oe[ae].push(ie[ce][ge])}return oe}(c,m,p),I||(c=o(c),m=o(m),h._x=c,h._y=m)),I||!O&&!h.connectgaps||(h._emptypoints=n(p),a(p,h._emptypoints)),h._islinear=!1,E.type==="log"||P.type==="log"?U==="fast"&&j("log axis found"):W(c)?W(m)?h._islinear=!0:U==="fast"&&j("y scale is not linear"):U==="fast"&&j("x scale is not linear");var F=w.maxRowLength(p),V=h.xtype==="scaled"?"":c,H=i(h,V,b,d,F,E),te=h.ytype==="scaled"?"":m,Q=i(h,te,y,x,p.length,P);R||(h._extremes[E._id]=r.findExtremes(E,H),h._extremes[P._id]=r.findExtremes(P,Q));var K={x:H,y:Q,z:p,text:h._text||h.text,hovertext:h._hovertext||h.hovertext};if(h.xperiodalignment&&g&&(K.orig_x=g),h.yperiodalignment&&T&&(K.orig_y=T),V&&V.length===H.length-1&&(K.xCenter=V),te&&te.length===Q.length-1&&(K.yCenter=te),I&&(K.xRanges=M.xRanges,K.yRanges=M.yRanges,K.pts=M.pts),O||f(u,h,{vals:p,cLetter:"z"}),O&&h.contours&&h.contours.coloring==="heatmap"){var X={type:h.type==="contour"?"heatmap":"histogram2d",xcalendar:h.xcalendar,ycalendar:h.ycalendar};K.xfill=i(X,V,b,d,F,E),K.yfill=i(X,te,y,x,p.length,P)}return[K]}},26136:function(B,L,e){var k=e(38248),w=e(3400),r=e(39032).BADNUM;B.exports=function(_,v,f,s){var t,a,n,i,l,o;function u(m){if(k(m))return+m}if(v&&v.transpose){for(t=0,l=0;l<_.length;l++)t=Math.max(t,_[l].length);if(t===0)return!1;n=function(m){return m.length},i=function(m,y,x){return(m[x]||[])[y]}}else t=_.length,n=function(m,y){return m[y].length},i=function(m,y,x){return(m[y]||[])[x]};var h=function(m,y,x){return y===r||x===r?r:i(m,y,x)};function c(m){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&m&&m.type==="category"&&v["_"+m._id.charAt(0)].length){var y=m._id.charAt(0),x={},T=v["_"+y+"CategoryMap"]||v[y];for(l=0;l<T.length;l++)x[T[l]]=l;return function(p){var S=x[m._categories[p]];return S+1?S:r}}return w.identity}var b=c(f),d=c(s);s&&s.type==="category"&&(t=s._categories.length);var g=new Array(t);for(l=0;l<t;l++)for(a=f&&f.type==="category"?f._categories.length:n(_,l),g[l]=new Array(a),o=0;o<a;o++)g[l][o]=u(h(_,d(l),b(o)));return g}},96288:function(B){B.exports={min:"zmin",max:"zmax"}},2872:function(B,L,e){var k=e(3400),w=e(39032).BADNUM,r=e(1220);B.exports=function(_,v,f,s,t,a){var n=_._length,i=v.makeCalcdata(_,s),l=f.makeCalcdata(_,t);i=r(_,v,s,i).vals,l=r(_,f,t,l).vals;var o,u,h,c,b=_.text,d=b!==void 0&&k.isArray1D(b),g=_.hovertext,m=g!==void 0&&k.isArray1D(g),y=k.distinctVals(i),x=y.vals,T=k.distinctVals(l),p=T.vals,S=[],M=p.length,E=x.length;for(o=0;o<a.length;o++)S[o]=k.init2dArray(M,E);d&&(h=k.init2dArray(M,E)),m&&(c=k.init2dArray(M,E));var P=k.init2dArray(M,E);for(o=0;o<n;o++)if(i[o]!==w&&l[o]!==w){var O=k.findBin(i[o]+y.minDiff/2,x),I=k.findBin(l[o]+T.minDiff/2,p);for(u=0;u<a.length;u++){var R=_[a[u]];S[u][I][O]=R[o],P[I][O]=o}d&&(h[I][O]=b[o]),m&&(c[I][O]=g[o])}for(_["_"+s]=x,_["_"+t]=p,u=0;u<a.length;u++)_["_"+a[u]]=S[u];d&&(_._text=h),m&&(_._hovertext=c),v&&v.type==="category"&&(_["_"+s+"CategoryMap"]=x.map(function(U){return v._categories[U]})),f&&f.type==="category"&&(_["_"+t+"CategoryMap"]=p.map(function(U){return f._categories[U]})),_._after2before=P}},24480:function(B,L,e){var k=e(3400),w=e(51264),r=e(39096),_=e(31147),v=e(82748),f=e(27260),s=e(83328);B.exports=function(t,a,n,i){function l(o,u){return k.coerce(t,a,s,o,u)}w(t,a,l,i)?(_(t,a,i,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hovertemplate"),r(l,i),v(t,a,l,i),l("hoverongaps"),l("connectgaps",k.isArray1D(a.z)&&a.zsmooth!==!1),f(t,a,i,l,{prefix:"",cLetter:"z"})):a.visible=!1}},11240:function(B,L,e){var k=e(3400).maxRowLength;B.exports=function(w){var r,_,v,f,s,t,a,n,i=[],l={},o=[],u=w[0],h=[],c=[0,0,0],b=k(w);for(_=0;_<w.length;_++)for(r=h,h=u,u=w[_+1]||[],v=0;v<b;v++)h[v]===void 0&&((t=(h[v-1]!==void 0?1:0)+(h[v+1]!==void 0?1:0)+(r[v]!==void 0?1:0)+(u[v]!==void 0?1:0))?(_===0&&t++,v===0&&t++,_===w.length-1&&t++,v===h.length-1&&t++,t<4&&(l[[_,v]]=[_,v,t]),i.push([_,v,t])):o.push([_,v]));for(;o.length;){for(a={},n=!1,s=o.length-1;s>=0;s--)(t=((l[[(_=(f=o[s])[0])-1,v=f[1]]]||c)[2]+(l[[_+1,v]]||c)[2]+(l[[_,v-1]]||c)[2]+(l[[_,v+1]]||c)[2])/20)&&(a[f]=[_,v,t],o.splice(s,1),n=!0);if(!n)throw"findEmpties iterated with no new neighbors";for(f in a)l[f]=a[f],i.push(a[f])}return i.sort(function(d,g){return g[2]-d[2]})}},55512:function(B,L,e){var k=e(93024),w=e(3400),r=w.isArrayOrTypedArray,_=e(54460),v=e(8932).extractOpts;B.exports=function(f,s,t,a,n){n||(n={});var i,l,o,u,h=n.isContour,c=f.cd[0],b=c.trace,d=f.xa,g=f.ya,m=c.x,y=c.y,x=c.z,T=c.xCenter,p=c.yCenter,S=c.zmask,M=b.zhoverformat,E=m,P=y;if(f.index!==!1){try{o=Math.round(f.index[1]),u=Math.round(f.index[0])}catch{return void w.error("Error hovering on heatmap, pointNumber must be [row,col], found:",f.index)}if(o<0||o>=x[0].length||u<0||u>x.length)return}else{if(k.inbox(s-m[0],s-m[m.length-1],0)>0||k.inbox(t-y[0],t-y[y.length-1],0)>0)return;if(h){var O;for(E=[2*m[0]-m[1]],O=1;O<m.length;O++)E.push((m[O]+m[O-1])/2);for(E.push([2*m[m.length-1]-m[m.length-2]]),P=[2*y[0]-y[1]],O=1;O<y.length;O++)P.push((y[O]+y[O-1])/2);P.push([2*y[y.length-1]-y[y.length-2]])}o=Math.max(0,Math.min(E.length-2,w.findBin(s,E))),u=Math.max(0,Math.min(P.length-2,w.findBin(t,P)))}var I,R,U=d.c2p(m[o]),z=d.c2p(m[o+1]),j=g.c2p(y[u]),W=g.c2p(y[u+1]);h?(I=c.orig_x||m,R=c.orig_y||y,z=U,i=I[o],W=j,l=R[u]):(I=c.orig_x||T||m,R=c.orig_y||p||y,i=T?I[o]:(I[o]+I[o+1])/2,l=p?R[u]:(R[u]+R[u+1])/2,d&&d.type==="category"&&(i=m[o]),g&&g.type==="category"&&(l=y[u]),b.zsmooth&&(U=z=d.c2p(i),j=W=g.c2p(l)));var F=x[u][o];if(S&&!S[u][o]&&(F=void 0),F!==void 0||b.hoverongaps){var V;r(c.hovertext)&&r(c.hovertext[u])?V=c.hovertext[u][o]:r(c.text)&&r(c.text[u])&&(V=c.text[u][o]);var H=v(b),te={type:"linear",range:[H.min,H.max],hoverformat:M,_separators:d._separators,_numFormat:d._numFormat},Q=_.tickText(te,F,"hover").text;return[w.extendFlat(f,{index:b._after2before?b._after2before[u][o]:[u,o],distance:f.maxHoverDistance,spikeDistance:f.maxSpikeDistance,x0:U,x1:z,y0:j,y1:W,xLabelVal:i,yLabelVal:l,zLabelVal:F,zLabel:Q,text:V})]}}},81932:function(B,L,e){B.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(B,L,e){var k=e(3400),w=[[-1,0],[1,0],[0,-1],[0,1]];function r(v){return .5-.25*Math.min(1,.5*v)}function _(v,f,s){var t,a,n,i,l,o,u,h,c,b,d,g,m,y=0;for(i=0;i<f.length;i++){for(a=(t=f[i])[0],n=t[1],d=v[a][n],b=0,c=0,l=0;l<4;l++)(u=v[a+(o=w[l])[0]])&&(h=u[n+o[1]])!==void 0&&(b===0?g=m=h:(g=Math.min(g,h),m=Math.max(m,h)),c++,b+=h);if(c===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[a][n]=b/c,d===void 0?c<4&&(y=1):(v[a][n]=(1+s)*v[a][n]-s*d,m>g&&(y=Math.max(y,Math.abs(v[a][n]-d)/(m-g))))}return y}B.exports=function(v,f){var s,t=1;for(_(v,f),s=0;s<f.length&&!(f[s][2]<4);s++);for(f=f.slice(s),s=0;s<100&&t>.01;s++)t=_(v,f,r(t));return t>.01&&k.log("interp2d didn't converge quickly",t),v}},39096:function(B,L,e){var k=e(3400);B.exports=function(w,r){w("texttemplate");var _=k.extendFlat({},r.font,{color:"auto",size:"auto"});k.coerceFont(w,"textfont",_)}},35744:function(B,L,e){var k=e(24040),w=e(3400).isArrayOrTypedArray;B.exports=function(r,_,v,f,s,t){var a,n,i,l=[],o=k.traceIs(r,"contour"),u=k.traceIs(r,"histogram"),h=k.traceIs(r,"gl2d");if(w(_)&&_.length>1&&!u&&t.type!=="category"){var c=_.length;if(!(c<=s))return o?_.slice(0,s):_.slice(0,s+1);if(o||h)l=Array.from(_).slice(0,s);else if(s===1)l=t.type==="log"?[.5*_[0],2*_[0]]:[_[0]-.5,_[0]+.5];else if(t.type==="log"){for(l=[Math.pow(_[0],1.5)/Math.pow(_[1],.5)],i=1;i<c;i++)l.push(Math.sqrt(_[i-1]*_[i]));l.push(Math.pow(_[c-1],1.5)/Math.pow(_[c-2],.5))}else{for(l=[1.5*_[0]-.5*_[1]],i=1;i<c;i++)l.push(.5*(_[i-1]+_[i]));l.push(1.5*_[c-1]-.5*_[c-2])}if(c<s){var b,d=l[l.length-1];if(t.type==="log")for(b=d/l[l.length-2],i=c;i<s;i++)d*=b,l.push(d);else for(b=d-l[l.length-2],i=c;i<s;i++)d+=b,l.push(d)}}else{var g=r[t._id.charAt(0)+"calendar"];for(a=u?t.r2c(v,0,g):w(_)&&_.length===1?_[0]:v===void 0?0:(t.type==="log"?t.d2c:t.r2c)(v,0,g),n=f||1,i=o||h?0:-.5;i<s;i++)l.push(a+n*i)}return l}},41420:function(B,L,e){var k=e(33428),w=e(49760),r=e(24040),_=e(43616),v=e(54460),f=e(3400),s=e(72736),t=e(76688),a=e(76308),n=e(8932).extractOpts,i=e(8932).makeColorScaleFuncFromTrace,l=e(9616),o=e(84284).LINE_SPACING,u=e(9188),h=e(2264).STYLE,c="heatmap-label";function b(x){return x.selectAll("g."+c)}function d(x){b(x).remove()}function g(x,T){var p=T.length-2,S=f.constrain(f.findBin(x,T),0,p),M=T[S],E=T[S+1],P=f.constrain(S+(x-M)/(E-M)-.5,0,p),O=Math.round(P),I=Math.abs(P-O);return P&&P!==p&&I?{bin0:O,frac:I,bin1:Math.round(O+I/(P-O))}:{bin0:O,bin1:O,frac:0}}function m(x,T){var p=T.length-1,S=f.constrain(f.findBin(x,T),0,p),M=T[S],E=(x-M)/(T[S+1]-M)||0;return E<=0?{bin0:S,bin1:S,frac:0}:E<.5?{bin0:S,bin1:S+1,frac:E}:{bin0:S+1,bin1:S,frac:1-E}}function y(x,T,p){x[T]=p[0],x[T+1]=p[1],x[T+2]=p[2],x[T+3]=Math.round(255*p[3])}B.exports=function(x,T,p,S){var M=T.xaxis,E=T.yaxis;f.makeTraceGroups(S,p,"hm").each(function(P){var O,I,R,U,z,j,W,F,V=k.select(this),H=P[0],te=H.trace,Q=te.xgap||0,K=te.ygap||0,X=H.z,J=H.x,ee=H.y,ie=H.xCenter,oe=H.yCenter,ae=r.traceIs(te,"contour"),ce=ae?"best":te.zsmooth,ge=X.length,ve=f.maxRowLength(X),be=!1,we=!1;for(j=0;O===void 0&&j<J.length-1;)O=M.c2p(J[j]),j++;for(j=J.length-1;I===void 0&&j>0;)I=M.c2p(J[j]),j--;for(I<O&&(R=I,I=O,O=R,be=!0),j=0;U===void 0&&j<ee.length-1;)U=E.c2p(ee[j]),j++;for(j=ee.length-1;z===void 0&&j>0;)z=E.c2p(ee[j]),j--;z<U&&(R=U,U=z,z=R,we=!0),ae&&(ie=J,oe=ee,J=H.xfill,ee=H.yfill);var ye="default";if(ce?ye=ce==="best"?"smooth":"fast":te._islinear&&Q===0&&K===0&&u()&&(ye="fast"),ye!=="fast"){var me=ce==="best"?0:.5;O=Math.max(-me*M._length,O),I=Math.min((1+me)*M._length,I),U=Math.max(-me*E._length,U),z=Math.min((1+me)*E._length,z)}var Ae,ke,fe=Math.round(I-O),le=Math.round(z-U);if(O>=M._length||I<=0||U>=E._length||z<=0)return V.selectAll("image").data([]).exit().remove(),void d(V);ye==="fast"?(Ae=ve,ke=ge):(Ae=fe,ke=le);var de=document.createElement("canvas");de.width=Ae,de.height=ke;var Ce,Me,Le=de.getContext("2d",{willReadFrequently:!0}),Oe=i(te,{noNumericCheck:!0,returnArray:!0});ye==="fast"?(Ce=be?function(Ht){return ve-1-Ht}:f.identity,Me=we?function(Ht){return ge-1-Ht}:f.identity):(Ce=function(Ht){return f.constrain(Math.round(M.c2p(J[Ht])-O),0,fe)},Me=function(Ht){return f.constrain(Math.round(E.c2p(ee[Ht])-U),0,le)});var Be,pe,_e,Te,Re=Me(0),Ne=[Re,Re],ze=be?0:1,Ge=we?0:1,Ye=0,et=0,ut=0,ot=0;function yt(Ht,an){if(Ht!==void 0){var _n=Oe(Ht);return _n[0]=Math.round(_n[0]),_n[1]=Math.round(_n[1]),_n[2]=Math.round(_n[2]),Ye+=an,et+=_n[0]*an,ut+=_n[1]*an,ot+=_n[2]*an,_n}return[0,0,0,0]}function wt(Ht,an,_n,vn){var En=Ht[_n.bin0];if(En===void 0)return yt(void 0,1);var Yn,Fn=Ht[_n.bin1],jn=an[_n.bin0],ir=an[_n.bin1],Zt=Fn-En||0,mn=jn-En||0;return Yn=Fn===void 0?ir===void 0?0:jn===void 0?2*(ir-En):2*(2*ir-jn-En)/3:ir===void 0?jn===void 0?0:2*(2*En-Fn-jn)/3:jn===void 0?2*(2*ir-Fn-En)/3:ir+En-Fn-jn,yt(En+_n.frac*Zt+vn.frac*(mn+_n.frac*Yn))}if(ye!=="default"){var bt,at=0;try{bt=new Uint8Array(Ae*ke*4)}catch{bt=new Array(Ae*ke*4)}if(ye==="smooth"){var rt,At,Rt,Ft=ie||J,Dt=oe||ee,Xe=new Array(Ft.length),Ke=new Array(Dt.length),Ve=new Array(fe),Je=ie?m:g,ct=oe?m:g;for(j=0;j<Ft.length;j++)Xe[j]=Math.round(M.c2p(Ft[j])-O);for(j=0;j<Dt.length;j++)Ke[j]=Math.round(E.c2p(Dt[j])-U);for(j=0;j<fe;j++)Ve[j]=Je(j,Xe);for(W=0;W<le;W++)for(At=X[(rt=ct(W,Ke)).bin0],Rt=X[rt.bin1],j=0;j<fe;j++,at+=4)y(bt,at,Te=wt(At,Rt,Ve[j],rt))}else for(W=0;W<ge;W++)for(_e=X[W],Ne=Me(W),j=0;j<ve;j++)Te=yt(_e[j],1),y(bt,at=4*(Ne*ve+Ce(j)),Te);var st=Le.createImageData(Ae,ke);try{st.data.set(bt)}catch{var je=st.data,Ue=je.length;for(W=0;W<Ue;W++)je[W]=bt[W]}Le.putImageData(st,0,0)}else{var lt=Math.floor(Q/2),Qe=Math.floor(K/2);for(W=0;W<ge;W++)if(_e=X[W],Ne.reverse(),Ne[Ge]=Me(W+1),Ne[0]!==Ne[1]&&Ne[0]!==void 0&&Ne[1]!==void 0)for(Be=[pe=Ce(0),pe],j=0;j<ve;j++)Be.reverse(),Be[ze]=Ce(j+1),Be[0]!==Be[1]&&Be[0]!==void 0&&Be[1]!==void 0&&(Te=yt(_e[j],(Be[1]-Be[0])*(Ne[1]-Ne[0])),Le.fillStyle="rgba("+Te.join(",")+")",Le.fillRect(Be[0]+lt,Ne[0]+Qe,Be[1]-Be[0]-Q,Ne[1]-Ne[0]-K))}et=Math.round(et/Ye),ut=Math.round(ut/Ye),ot=Math.round(ot/Ye);var gt=w("rgb("+et+","+ut+","+ot+")");x._hmpixcount=(x._hmpixcount||0)+Ye,x._hmlumcount=(x._hmlumcount||0)+Ye*gt.getLuminance();var mt=V.selectAll("image").data(P);mt.enter().append("svg:image").attr({xmlns:l.svg,preserveAspectRatio:"none"}),mt.attr({height:le,width:fe,x:O,y:U,"xlink:href":de.toDataURL("image/png")}),ye!=="fast"||ce||mt.attr("style",h),d(V);var xt=te.texttemplate;if(xt){var dt=n(te),Lt={type:"linear",range:[dt.min,dt.max],_separators:M._separators,_numFormat:M._numFormat},kt=te.type==="histogram2dcontour",_t=te.type==="contour",Ot=_t?ge-1:ge,Pt=_t?1:0,Bt=_t?ve-1:ve,Jt=[];for(j=_t?1:0;j<Ot;j++){var on;if(_t)on=H.y[j];else if(kt){if(j===0||j===ge-1)continue;on=H.y[j]}else if(H.yCenter)on=H.yCenter[j];else{if(j+1===ge&&H.y[j+1]===void 0)continue;on=(H.y[j]+H.y[j+1])/2}var qt=Math.round(E.c2p(on));if(!(0>qt||qt>E._length))for(W=Pt;W<Bt;W++){var Gt;if(_t)Gt=H.x[W];else if(kt){if(W===0||W===ve-1)continue;Gt=H.x[W]}else if(H.xCenter)Gt=H.xCenter[W];else{if(W+1===ve&&H.x[W+1]===void 0)continue;Gt=(H.x[W]+H.x[W+1])/2}var nn=Math.round(M.c2p(Gt));if(!(0>nn||nn>M._length)){var Cn=t({x:Gt,y:on},te,x._fullLayout);Cn.x=Gt,Cn.y=on;var An=H.z[j][W];An===void 0?(Cn.z="",Cn.zLabel=""):(Cn.z=An,Cn.zLabel=v.tickText(Lt,An,"hover").text);var dn=H.text&&H.text[j]&&H.text[j][W];dn!==void 0&&dn!==!1||(dn=""),Cn.text=dn;var Kt=f.texttemplateString(xt,Cn,x._fullLayout._d3locale,Cn,te._meta||{});if(Kt){var un=Kt.split("<br>"),rn=un.length,hn=0;for(F=0;F<rn;F++)hn=Math.max(hn,un[F].length);Jt.push({l:rn,c:hn,t:Kt,x:nn,y:qt,z:An})}}}}var kn=te.textfont,Sn=kn.family,Rn=kn.size,zn=x._fullLayout.font.size;if(!Rn||Rn==="auto"){var Pn=1/0,Gn=1/0,Nn=0,or=0;for(F=0;F<Jt.length;F++){var lr=Jt[F];if(Nn=Math.max(Nn,lr.l),or=Math.max(or,lr.c),F<Jt.length-1){var cr=Jt[F+1],$n=Math.abs(cr.x-lr.x),Ar=Math.abs(cr.y-lr.y);$n&&(Pn=Math.min(Pn,$n)),Ar&&(Gn=Math.min(Gn,Ar))}}isFinite(Pn)&&isFinite(Gn)?(Pn-=Q,Gn-=K,Pn/=or,Gn/=Nn,Pn/=o/2,Gn/=o,Rn=Math.min(Math.floor(Pn),Math.floor(Gn),zn)):Rn=zn}if(Rn<=0||!isFinite(Rn))return;b(V).data(Jt).enter().append("g").classed(c,1).append("text").attr("text-anchor","middle").each(function(Ht){var an=k.select(this),_n=kn.color;_n&&_n!=="auto"||(_n=a.contrast(Ht.z===void 0?x._fullLayout.plot_bgcolor:"rgba("+Oe(Ht.z).join()+")")),an.attr("data-notex",1).call(s.positionText,function(vn){return vn.x}(Ht),function(vn){return vn.y-Rn*(vn.l*o/2-1)}(Ht)).call(_.font,Sn,Rn,_n).text(Ht.t).call(s.convertToTspans,x)})}})}},41648:function(B,L,e){var k=e(33428);B.exports=function(w){k.select(w).selectAll(".hm image").style("opacity",function(r){return r.trace.opacity})}},82748:function(B){B.exports=function(L,e,k){k("zsmooth")===!1&&(k("xgap"),k("ygap")),k("zhoverformat")}},51264:function(B,L,e){var k=e(38248),w=e(3400),r=e(24040);function _(v,f){var s=f(v);return(s?f(v+"type","array"):"scaled")==="scaled"&&(f(v+"0"),f("d"+v)),s}B.exports=function(v,f,s,t,a,n){var i,l,o=s("z");if(a=a||"x",n=n||"y",o===void 0||!o.length)return 0;if(w.isArray1D(o)){i=s(a),l=s(n);var u=w.minRowLength(i),h=w.minRowLength(l);if(u===0||h===0)return 0;f._length=Math.min(u,h,o.length)}else{if(i=_(a,s),l=_(n,s),!function(c){for(var b,d=!0,g=!1,m=!1,y=0;y<c.length;y++){if(b=c[y],!w.isArrayOrTypedArray(b)){d=!1;break}b.length>0&&(g=!0);for(var x=0;x<b.length;x++)if(k(b[x])){m=!0;break}}return d&&g&&m}(o))return 0;s("transpose"),f._length=null}return v.type==="heatmapgl"||r.getComponentMethod("calendars","handleTraceDefaults")(v,f,[a,n],t),!0}},74512:function(B,L,e){for(var k=e(83328),w=e(49084),r=e(92880).extendFlat,_=e(67824).overrideAll,v=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],f={},s=0;s<v.length;s++){var t=v[s];f[t]=k[t]}f.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},r(f,w("",{cLetter:"z",autoColorDflt:!1})),B.exports=_(f,"calc","nested")},84656:function(B,L,e){var k=e(67792).gl_heatmap2d,w=e(54460),r=e(43080);function _(f,s){this.scene=f,this.uid=s,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=k(f.glplot,this.options),this.heatmap._trace=this}var v=_.prototype;v.handlePick=function(f){var s=this.options,t=s.shape,a=f.pointId,n=a%t[0],i=Math.floor(a/t[0]),l=a;return{trace:this,dataCoord:f.dataCoord,traceCoord:[s.x[n],s.y[i],s.z[l]],textLabel:this.textLabels[a],name:this.name,pointIndex:[i,n],hoverinfo:this.hoverinfo}},v.update=function(f,s){var t=s[0];this.index=f.index,this.name=f.name,this.hoverinfo=f.hoverinfo;var a=t.z;this.options.z=[].concat.apply([],a);var n=a[0].length,i=a.length;this.options.shape=[n,i],this.options.x=t.x,this.options.y=t.y,this.options.zsmooth=f.zsmooth;var l=function(b){for(var d=b.colorscale,g=b.zmin,m=b.zmax,y=d.length,x=new Array(y),T=new Array(4*y),p=0;p<y;p++){var S=d[p],M=r(S[1]);x[p]=g+S[0]*(m-g);for(var E=0;E<4;E++)T[4*p+E]=M[E]}return{colorLevels:x,colorValues:T}}(f);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],f.text),this.heatmap.update(this.options);var o,u,h=this.scene.xaxis,c=this.scene.yaxis;f.zsmooth===!1&&(o={ppad:t.x[1]-t.x[0]},u={ppad:t.y[1]-t.y[0]}),f._extremes[h._id]=w.findExtremes(h,t.x,o),f._extremes[c._id]=w.findExtremes(c,t.y,u)},v.dispose=function(){this.heatmap.dispose()},B.exports=function(f,s,t){var a=new _(f,s.uid);return a.update(s,t),a}},86464:function(B,L,e){var k=e(3400),w=e(51264),r=e(27260),_=e(74512);B.exports=function(v,f,s,t){function a(n,i){return k.coerce(v,f,_,n,i)}w(v,f,a,t)?(a("text"),a("zsmooth"),r(v,f,t,a,{prefix:"",cLetter:"z"})):f.visible=!1}},45536:function(B,L,e){B.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(B,L,e){var k=e(20832),w=e(29736).axisHoverFormat,r=e(21776).Ks,_=e(21776).Gw,v=e(25376),f=e(11120),s=e(73316),t=e(92880).extendFlat;B.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:w("x"),yhoverformat:w("y"),text:t({},k.text,{}),hovertext:t({},k.hovertext,{}),orientation:k.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:f("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:f("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:r({},{keys:s.eventDataKeys}),texttemplate:_({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},k.textposition,{arrayOk:!1}),textfont:v({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:v({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:v({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:k.insidetextanchor,textangle:k.textangle,cliponaxis:k.cliponaxis,constraintext:k.constraintext,marker:k.marker,offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup,selected:k.selected,unselected:k.unselected,_deprecated:{bardir:k._deprecated.bardir}}},2e3:function(B){B.exports=function(L,e){for(var k=L.length,w=0,r=0;r<k;r++)e[r]?(L[r]/=e[r],w+=L[r]):L[r]=null;return w}},11120:function(B){B.exports=function(L,e){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(B,L,e){var k=e(38248);B.exports={count:function(w,r,_){return _[w]++,1},sum:function(w,r,_,v){var f=v[r];return k(f)?(f=Number(f),_[w]+=f,f):0},avg:function(w,r,_,v,f){var s=v[r];return k(s)&&(s=Number(s),_[w]+=s,f[w]++),0},min:function(w,r,_,v){var f=v[r];if(k(f)){if(f=Number(f),!k(_[w]))return _[w]=f,f;if(_[w]>f){var s=f-_[w];return _[w]=f,s}}return 0},max:function(w,r,_,v){var f=v[r];if(k(f)){if(f=Number(f),!k(_[w]))return _[w]=f,f;if(_[w]<f){var s=f-_[w];return _[w]=f,s}}return 0}}},67712:function(B,L,e){var k=e(39032),w=k.ONEAVGYEAR,r=k.ONEAVGMONTH,_=k.ONEDAY,v=k.ONEHOUR,f=k.ONEMIN,s=k.ONESEC,t=e(54460).tickIncrement;function a(o,u,h,c){if(o*u<=0)return 1/0;for(var b=Math.abs(u-o),d=h.type==="date",g=n(b,d),m=0;m<10;m++){var y=n(80*g,d);if(g===y||!i(y,o,u,d,h,c))break;g=y}return g}function n(o,u){return u&&o>s?o>_?o>1.1*w?w:o>1.1*r?r:_:o>v?v:o>f?f:s:Math.pow(10,Math.floor(Math.log(o)/Math.LN10))}function i(o,u,h,c,b,d){if(c&&o>_){var g=l(u,b,d),m=l(h,b,d),y=o===w?0:1;return g[y]!==m[y]}return Math.floor(h/o)-Math.floor(u/o)>.1}function l(o,u,h){var c=u.c2d(o,w,h).split("-");return c[0]===""&&(c.unshift(),c[0]="-"+c[0]),c}B.exports=function(o,u,h,c,b){var d,g,m=-1.1*u,y=-.1*u,x=o-y,T=h[0],p=h[1],S=Math.min(a(T+y,T+x,c,b),a(p+y,p+x,c,b)),M=Math.min(a(T+m,T+y,c,b),a(p+m,p+y,c,b));if(S>M&&M<Math.abs(p-T)/4e3?(d=S,g=!1):(d=Math.min(S,M),g=!0),c.type==="date"&&d>_){var E=d===w?1:6,P=d===w?"M12":"M1";return function(O,I){var R=c.c2d(O,w,b),U=R.indexOf("-",E);U>0&&(R=R.substr(0,U));var z=c.d2c(R,0,b);if(z<O){var j=t(z,P,!1,b);(z+j)/2<O+o&&(z=j)}return I&&g?t(z,P,!0,b):z}}return function(O,I){var R=d*Math.round(O/d);return R+d/10<O&&R+.9*d<O+o&&(R+=d),I&&g&&(R-=d),R}}},35852:function(B,L,e){var k=e(38248),w=e(3400),r=e(24040),_=e(54460),v=e(84664),f=e(16964),s=e(10648),t=e(2e3),a=e(67712);function n(i,l,o,u,h){var c,b,d,g,m,y,x,T=u+"bins",p=i._fullLayout,S=l["_"+u+"bingroup"],M=p._histogramBinOpts[S],E=p.barmode==="overlay",P=function(we){return o.r2c(we,0,g)},O=function(we){return o.c2r(we,0,g)},I=o.type==="date"?function(we){return we||we===0?w.cleanDate(we,null,g):null}:function(we){return k(we)?Number(we):null};function R(we,ye,me){ye[we+"Found"]?(ye[we]=I(ye[we]),ye[we]===null&&(ye[we]=me[we])):(y[we]=ye[we]=me[we],w.nestedProperty(b[0],T+"."+we).set(me[we]))}if(l["_"+u+"autoBinFinished"])delete l["_"+u+"autoBinFinished"];else{b=M.traces;var U=[],z=!0,j=!1,W=!1;for(c=0;c<b.length;c++)if((d=b[c]).visible){var F=M.dirs[c];m=d["_"+F+"pos0"]=o.makeCalcdata(d,F),U=w.concat(U,m),delete d["_"+u+"autoBinFinished"],l.visible===!0&&(z?z=!1:(delete d._autoBin,d["_"+u+"autoBinFinished"]=1),r.traceIs(d,"2dMap")&&(j=!0),d.type==="histogram2dcontour"&&(W=!0))}g=b[0][u+"calendar"];var V=_.autoBin(U,o,M.nbins,j,g,M.sizeFound&&M.size),H=b[0]._autoBin={};if(y=H[M.dirs[0]]={},W&&(M.size||(V.start=O(_.tickIncrement(P(V.start),V.size,!0,g))),M.end===void 0&&(V.end=O(_.tickIncrement(P(V.end),V.size,!1,g)))),E&&!r.traceIs(l,"2dMap")&&V._dataSpan===0&&o.type!=="category"&&o.type!=="multicategory"&&l.bingroup===""&&l.xbins===void 0){if(h)return[V,m,!0];V=function(we,ye,me,Ae,ke){var fe,le,de,Ce=we._fullLayout,Me=function(et,ut){for(var ot=ut.xaxis,yt=ut.yaxis,wt=ut.orientation,bt=[],at=et._fullData,rt=0;rt<at.length;rt++){var At=at[rt];At.type==="histogram"&&At.visible===!0&&At.orientation===wt&&At.xaxis===ot&&At.yaxis===yt&&bt.push(At)}return bt}(we,ye),Le=!1,Oe=1/0,Be=[ye];for(fe=0;fe<Me.length;fe++)if((le=Me[fe])===ye)Le=!0;else if(Le){var pe=n(we,le,me,Ae,!0),_e=pe[0],Te=pe[2];le["_"+Ae+"autoBinFinished"]=1,le["_"+Ae+"pos0"]=pe[1],Te?Be.push(le):Oe=Math.min(Oe,_e.size)}else de=Ce._histogramBinOpts[le["_"+Ae+"bingroup"]],Oe=Math.min(Oe,de.size||le[ke].size);var Re=new Array(Be.length);for(fe=0;fe<Be.length;fe++)for(var Ne=Be[fe]["_"+Ae+"pos0"],ze=0;ze<Ne.length;ze++)if(Ne[ze]!==void 0){Re[fe]=Ne[ze];break}for(isFinite(Oe)||(Oe=w.distinctVals(Re).minDiff),fe=0;fe<Be.length;fe++){var Ge=(le=Be[fe])[Ae+"calendar"],Ye={start:me.c2r(Re[fe]-Oe/2,0,Ge),end:me.c2r(Re[fe]+Oe/2,0,Ge),size:Oe};le._input[ke]=le[ke]=Ye,(de=Ce._histogramBinOpts[le["_"+Ae+"bingroup"]])&&w.extendFlat(de,Ye)}return ye[ke]}(i,l,o,u,T)}(x=d.cumulative||{}).enabled&&x.currentbin!=="include"&&(x.direction==="decreasing"?V.start=O(_.tickIncrement(P(V.start),V.size,!0,g)):V.end=O(_.tickIncrement(P(V.end),V.size,!1,g))),M.size=V.size,M.sizeFound||(y.size=V.size,w.nestedProperty(b[0],T+".size").set(V.size)),R("start",M,V),R("end",M,V)}m=l["_"+u+"pos0"],delete l["_"+u+"pos0"];var te=l._input[T]||{},Q=w.extendFlat({},M),K=M.start,X=o.r2l(te.start),J=X!==void 0;if((M.startFound||J)&&X!==o.r2l(K)){var ee=J?X:w.aggNums(Math.min,null,m),ie={type:o.type==="category"||o.type==="multicategory"?"linear":o.type,r2l:o.r2l,dtick:M.size,tick0:K,calendar:g,range:[ee,_.tickIncrement(ee,M.size,!1,g)].map(o.l2r)},oe=_.tickFirst(ie);oe>o.r2l(ee)&&(oe=_.tickIncrement(oe,M.size,!0,g)),Q.start=o.l2r(oe),J||w.nestedProperty(l,T+".start").set(Q.start)}var ae=M.end,ce=o.r2l(te.end),ge=ce!==void 0;if((M.endFound||ge)&&ce!==o.r2l(ae)){var ve=ge?ce:w.aggNums(Math.max,null,m);Q.end=o.l2r(ve),ge||w.nestedProperty(l,T+".start").set(Q.end)}var be="autobin"+u;return l._input[be]===!1&&(l._input[T]=w.extendFlat({},l[T]||{}),delete l._input[be],delete l[be]),[Q,m]}B.exports={calc:function(i,l){var o,u,h,c,b=[],d=[],g=l.orientation==="h",m=_.getFromId(i,g?l.yaxis:l.xaxis),y=g?"y":"x",x={x:"y",y:"x"}[y],T=l[y+"calendar"],p=l.cumulative,S=n(i,l,m,y),M=S[0],E=S[1],P=typeof M.size=="string",O=[],I=P?O:M,R=[],U=[],z=[],j=0,W=l.histnorm,F=l.histfunc,V=W.indexOf("density")!==-1;p.enabled&&V&&(W=W.replace(/ ?density$/,""),V=!1);var H,te=F==="max"||F==="min"?null:0,Q=f.count,K=s[W],X=!1,J=function(le){return m.r2c(le,0,T)};for(w.isArrayOrTypedArray(l[x])&&F!=="count"&&(H=l[x],X=F==="avg",Q=f[F]),o=J(M.start),h=J(M.end)+(o-_.tickIncrement(o,M.size,!1,T))/1e6;o<h&&b.length<1e6&&(u=_.tickIncrement(o,M.size,!1,T),b.push((o+u)/2),d.push(te),z.push([]),O.push(o),V&&R.push(1/(u-o)),X&&U.push(0),!(u<=o));)o=u;O.push(o),P||m.type!=="date"||(I={start:J(I.start),end:J(I.end),size:I.size}),i._fullLayout._roundFnOpts||(i._fullLayout._roundFnOpts={});var ee=l["_"+y+"bingroup"],ie={leftGap:1/0,rightGap:1/0};ee&&(i._fullLayout._roundFnOpts[ee]||(i._fullLayout._roundFnOpts[ee]=ie),ie=i._fullLayout._roundFnOpts[ee]);var oe,ae=d.length,ce=!0,ge=ie.leftGap,ve=ie.rightGap,be={};for(o=0;o<E.length;o++){var we=E[o];(c=w.findBin(we,I))>=0&&c<ae&&(j+=Q(c,o,d,H,U),ce&&z[c].length&&we!==E[z[c][0]]&&(ce=!1),z[c].push(o),be[o]=c,ge=Math.min(ge,we-O[c]),ve=Math.min(ve,O[c+1]-we))}ie.leftGap=ge,ie.rightGap=ve,ce||(oe=function(le,de){return function(){var Ce=i._fullLayout._roundFnOpts[ee];return a(Ce.leftGap,Ce.rightGap,O,m,T)(le,de)}}),X&&(j=t(d,U)),K&&K(d,j,R),p.enabled&&function(le,de,Ce){var Me,Le,Oe;function Be(_e){Oe=le[_e],le[_e]/=2}function pe(_e){Le=le[_e],le[_e]=Oe+Le/2,Oe+=Le}if(Ce==="half")if(de==="increasing")for(Be(0),Me=1;Me<le.length;Me++)pe(Me);else for(Be(le.length-1),Me=le.length-2;Me>=0;Me--)pe(Me);else if(de==="increasing"){for(Me=1;Me<le.length;Me++)le[Me]+=le[Me-1];Ce==="exclude"&&(le.unshift(0),le.pop())}else{for(Me=le.length-2;Me>=0;Me--)le[Me]+=le[Me+1];Ce==="exclude"&&(le.push(0),le.shift())}}(d,p.direction,p.currentbin);var ye=Math.min(b.length,d.length),me=[],Ae=0,ke=ye-1;for(o=0;o<ye;o++)if(d[o]){Ae=o;break}for(o=ye-1;o>=Ae;o--)if(d[o]){ke=o;break}for(o=Ae;o<=ke;o++)if(k(b[o])&&k(d[o])){var fe={p:b[o],s:d[o],b:0};p.enabled||(fe.pts=z[o],ce?fe.ph0=fe.ph1=z[o].length?E[z[o][0]]:b[o]:(l._computePh=!0,fe.ph0=oe(O[o]),fe.ph1=oe(O[o+1],!0))),me.push(fe)}return me.length===1&&(me[0].width1=_.tickIncrement(me[0].p,M.size,!1,T)-me[0].p),v(me,l),w.isArrayOrTypedArray(l.selectedpoints)&&w.tagSelected(me,l,be),me},calcAllAutoBins:n}},73316:function(B){B.exports={eventDataKeys:["binNumber"]}},80536:function(B,L,e){var k=e(3400),w=e(79811),r=e(24040).traceIs,_=e(20011),v=e(31508).validateCornerradius,f=k.nestedProperty,s=e(71888).getAxisGroup,t=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],a=["x","y"];B.exports=function(n,i){var l,o,u,h,c,b,d,g=i._histogramBinOpts={},m=[],y={},x=[];function T(te,Q){return k.coerce(l._input,l,l._module.attributes,te,Q)}function p(te){return te.orientation==="v"?"x":"y"}function S(te,Q,K){var X=te.uid+"__"+K;Q||(Q=X);var J=function(ae,ce){return w.getFromTrace({_fullLayout:i},ae,ce).type}(te,K),ee=te[K+"calendar"]||"",ie=g[Q],oe=!0;ie&&(J===ie.axType&&ee===ie.calendar?(oe=!1,ie.traces.push(te),ie.dirs.push(K)):(Q=X,J!==ie.axType&&k.warn(["Attempted to group the bins of trace",te.index,"set on a","type:"+J,"axis","with bins on","type:"+ie.axType,"axis."].join(" ")),ee!==ie.calendar&&k.warn(["Attempted to group the bins of trace",te.index,"set with a",ee,"calendar","with bins",ie.calendar?"on a "+ie.calendar+" calendar":"w/o a set calendar"].join(" ")))),oe&&(g[Q]={traces:[te],dirs:[K],axType:J,calendar:te[K+"calendar"]||""}),te["_"+K+"bingroup"]=Q}for(c=0;c<n.length;c++)if(l=n[c],r(l,"histogram")){if(m.push(l),delete l._xautoBinFinished,delete l._yautoBinFinished,l.type==="histogram"){var M=T("marker.cornerradius",i.barcornerradius);l.marker&&(l.marker.cornerradius=v(M))}r(l,"2dMap")||_(l._input,l,i,T)}var E=i._alignmentOpts||{};for(c=0;c<m.length;c++){if(l=m[c],u="",!r(l,"2dMap")){if(h=p(l),i.barmode==="group"&&l.alignmentgroup){var P=l[h+"axis"],O=s(i,P)+l.orientation;(E[O]||{})[l.alignmentgroup]&&(u=O)}u||i.barmode==="overlay"||(u=s(i,l.xaxis)+s(i,l.yaxis)+p(l))}u?(y[u]||(y[u]=[]),y[u].push(l)):x.push(l)}for(u in y)if((o=y[u]).length!==1){var I=!1;for(o.length&&(l=o[0],I=T("bingroup")),u=I||u,c=0;c<o.length;c++){var R=(l=o[c])._input.bingroup;R&&R!==u&&k.warn(["Trace",l.index,"must match","within bingroup",u+".","Ignoring its bingroup:",R,"setting."].join(" ")),l.bingroup=u,S(l,u,p(l))}}else x.push(o[0]);for(c=0;c<x.length;c++){l=x[c];var U=T("bingroup");if(r(l,"2dMap"))for(d=0;d<2;d++){var z=T((h=a[d])+"bingroup",U?U+"__"+h:null);S(l,z,h)}else S(l,U,p(l))}for(u in g){var j=g[u];for(o=j.traces,b=0;b<t.length;b++){var W,F,V=t[b],H=V.name;if(H!=="nbins"||!j.sizeFound){for(c=0;c<o.length;c++){if(l=o[c],h=j.dirs[c],W=V.aStr[h],f(l._input,W).get()!==void 0){j[H]=T(W),j[H+"Found"]=!0;break}(F=(l._autoBin||{})[h]||{})[H]&&f(l,W).set(F[H])}if(H==="start"||H==="end")for(;c<o.length;c++)(l=o[c])["_"+h+"bingroup"]&&T(W,(F=(l._autoBin||{})[h]||{})[H]);H!=="nbins"||j.sizeFound||j.nbinsFound||(l=o[0],j[H]=T(W))}}}}},6616:function(B,L,e){var k=e(24040),w=e(3400),r=e(76308),_=e(31508).handleText,v=e(55592),f=e(40196);B.exports=function(s,t,a,n){function i(y,x){return w.coerce(s,t,f,y,x)}var l=i("x"),o=i("y");i("cumulative.enabled")&&(i("cumulative.direction"),i("cumulative.currentbin")),i("text");var u=i("textposition");_(s,t,n,i,u,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat");var h=i("orientation",o&&!l?"h":"v"),c=h==="v"?"x":"y",b=h==="v"?"y":"x",d=l&&o?Math.min(w.minRowLength(l)&&w.minRowLength(o)):w.minRowLength(t[c]||[]);if(d){t._length=d,k.getComponentMethod("calendars","handleTraceDefaults")(s,t,["x","y"],n),t[b]&&i("histfunc"),i("histnorm"),i("autobin"+c),v(s,t,i,a,n),w.coerceSelectionMarkerOpacity(t,i);var g=(t.marker.line||{}).color,m=k.getComponentMethod("errorbars","supplyDefaults");m(s,t,g||r.defaultLine,{axis:"y"}),m(s,t,g||r.defaultLine,{axis:"x",inherit:"y"})}else t.visible=!1}},84980:function(B){B.exports=function(L,e,k,w,r){if(L.x="xVal"in e?e.xVal:e.x,L.y="yVal"in e?e.yVal:e.y,"zLabelVal"in e&&(L.z=e.zLabelVal),e.xa&&(L.xaxis=e.xa),e.ya&&(L.yaxis=e.ya),!(k.cumulative||{}).enabled){var _,v=Array.isArray(r)?w[0].pts[r[0]][r[1]]:w[r].pts;if(L.pointNumbers=v,L.binNumber=L.pointNumber,delete L.pointNumber,delete L.pointIndex,k._indexToPoints){_=[];for(var f=0;f<v.length;f++)_=_.concat(k._indexToPoints[v[f]])}else _=v;L.pointIndices=_}return L}},43339:function(B,L,e){var k=e(63400).hoverPoints,w=e(54460).hoverLabelText;B.exports=function(r,_,v,f,s){var t=k(r,_,v,f,s);if(t){var a=(r=t[0]).cd[r.index],n=r.cd[0].trace;if(!n.cumulative.enabled){var i=n.orientation==="h"?"y":"x";r[i+"Label"]=w(r[i+"a"],[a.ph0,a.ph1],n[i+"hoverformat"])}return t}}},42600:function(B,L,e){B.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(B){B.exports={percent:function(L,e){for(var k=L.length,w=100/e,r=0;r<k;r++)L[r]*=w},probability:function(L,e){for(var k=L.length,w=0;w<k;w++)L[w]/=e},density:function(L,e,k,w){var r=L.length;w=w||1;for(var _=0;_<r;_++)L[_]*=k[_]*w},"probability density":function(L,e,k,w){var r=L.length;w&&(e/=w);for(var _=0;_<r;_++)L[_]*=k[_]/e}}},37008:function(B,L,e){var k=e(40196),w=e(11120),r=e(83328),_=e(45464),v=e(29736).axisHoverFormat,f=e(21776).Ks,s=e(21776).Gw,t=e(49084),a=e(92880).extendFlat;B.exports=a({x:k.x,y:k.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:k.histnorm,histfunc:k.histfunc,nbinsx:k.nbinsx,xbins:w("x"),nbinsy:k.nbinsy,ybins:w("y"),autobinx:k.autobinx,autobiny:k.autobiny,bingroup:a({},k.bingroup,{}),xbingroup:a({},k.bingroup,{}),ybingroup:a({},k.bingroup,{}),xgap:r.xgap,ygap:r.ygap,zsmooth:r.zsmooth,xhoverformat:v("x"),yhoverformat:v("y"),zhoverformat:v("z",1),hovertemplate:f({},{keys:"z"}),texttemplate:s({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:r.textfont,showlegend:a({},_.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},55480:function(B,L,e){var k=e(3400),w=e(54460),r=e(16964),_=e(10648),v=e(2e3),f=e(67712),s=e(35852).calcAllAutoBins;function t(i,l,o,u){var h,c=new Array(i);if(u)for(h=0;h<i;h++)c[h]=1/(l[h+1]-l[h]);else{var b=1/o;for(h=0;h<i;h++)c[h]=b}return c}function a(i,l){return{start:i(l.start),end:i(l.end),size:l.size}}function n(i,l,o,u,h,c){var b,d=i.length-1,g=new Array(d),m=f(o,u,i,h,c);for(b=0;b<d;b++){var y=(l||[])[b];g[b]=y===void 0?[m(i[b]),m(i[b+1],!0)]:[y,y]}return g}B.exports=function(i,l){var o,u,h,c,b=w.getFromId(i,l.xaxis),d=w.getFromId(i,l.yaxis),g=l.xcalendar,m=l.ycalendar,y=function(yt){return b.r2c(yt,0,g)},x=function(yt){return d.r2c(yt,0,m)},T=s(i,l,b,"x"),p=T[0],S=T[1],M=s(i,l,d,"y"),E=M[0],P=M[1],O=l._length;S.length>O&&S.splice(O,S.length-O),P.length>O&&P.splice(O,P.length-O);var I=[],R=[],U=[],z=typeof p.size=="string",j=typeof E.size=="string",W=[],F=[],V=z?W:p,H=j?F:E,te=0,Q=[],K=[],X=l.histnorm,J=l.histfunc,ee=X.indexOf("density")!==-1,ie=J==="max"||J==="min"?null:0,oe=r.count,ae=_[X],ce=!1,ge=[],ve=[],be="z"in l?l.z:"marker"in l&&Array.isArray(l.marker.color)?l.marker.color:"";be&&J!=="count"&&(ce=J==="avg",oe=r[J]);var we=p.size,ye=y(p.start),me=y(p.end)+(ye-w.tickIncrement(ye,we,!1,g))/1e6;for(o=ye;o<me;o=w.tickIncrement(o,we,!1,g))R.push(ie),W.push(o),ce&&U.push(0);W.push(o);var Ae,ke=R.length,fe=(o-ye)/ke,le=(Ae=ye+fe/2,b.c2r(Ae,0,g)),de=E.size,Ce=x(E.start),Me=x(E.end)+(Ce-w.tickIncrement(Ce,de,!1,m))/1e6;for(o=Ce;o<Me;o=w.tickIncrement(o,de,!1,m)){I.push(R.slice()),F.push(o);var Le=new Array(ke);for(u=0;u<ke;u++)Le[u]=[];K.push(Le),ce&&Q.push(U.slice())}F.push(o);var Oe=I.length,Be=(o-Ce)/Oe,pe=function(yt){return d.c2r(yt,0,m)}(Ce+Be/2);ee&&(ge=t(R.length,V,fe,z),ve=t(I.length,H,Be,j)),z||b.type!=="date"||(V=a(y,V)),j||d.type!=="date"||(H=a(x,H));var _e=!0,Te=!0,Re=new Array(ke),Ne=new Array(Oe),ze=1/0,Ge=1/0,Ye=1/0,et=1/0;for(o=0;o<O;o++){var ut=S[o],ot=P[o];h=k.findBin(ut,V),c=k.findBin(ot,H),h>=0&&h<ke&&c>=0&&c<Oe&&(te+=oe(h,o,I[c],be,Q[c]),K[c][h].push(o),_e&&(Re[h]===void 0?Re[h]=ut:Re[h]!==ut&&(_e=!1)),Te&&(Ne[c]===void 0?Ne[c]=ot:Ne[c]!==ot&&(Te=!1)),ze=Math.min(ze,ut-W[h]),Ge=Math.min(Ge,W[h+1]-ut),Ye=Math.min(Ye,ot-F[c]),et=Math.min(et,F[c+1]-ot))}if(ce)for(c=0;c<Oe;c++)te+=v(I[c],Q[c]);if(ae)for(c=0;c<Oe;c++)ae(I[c],te,ge,ve[c]);return{x:S,xRanges:n(W,_e&&Re,ze,Ge,b,g),x0:le,dx:fe,y:P,yRanges:n(F,Te&&Ne,Ye,et,d,m),y0:pe,dy:Be,z:I,pts:K}}},99784:function(B,L,e){var k=e(3400),w=e(56408),r=e(82748),_=e(27260),v=e(39096),f=e(37008);B.exports=function(s,t,a,n){function i(l,o){return k.coerce(s,t,f,l,o)}w(s,t,i,n),t.visible!==!1&&(r(s,t,i,n),_(s,t,n,i,{prefix:"",cLetter:"z"}),i("hovertemplate"),v(i,n),i("xhoverformat"),i("yhoverformat"))}},59576:function(B,L,e){var k=e(55512),w=e(54460).hoverLabelText;B.exports=function(r,_,v,f,s){var t=k(r,_,v,f,s);if(t){var a=(r=t[0]).index,n=a[0],i=a[1],l=r.cd[0],o=l.trace,u=l.xRanges[i],h=l.yRanges[n];return r.xLabel=w(r.xa,[u[0],u[1]],o.xhoverformat),r.yLabel=w(r.ya,[h[0],h[1]],o.yhoverformat),t}}},21536:function(B,L,e){B.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(B,L,e){var k=e(24040),w=e(3400);B.exports=function(r,_,v,f){var s=v("x"),t=v("y"),a=w.minRowLength(s),n=w.minRowLength(t);a&&n?(_._length=Math.min(a,n),k.getComponentMethod("calendars","handleTraceDefaults")(r,_,["x","y"],f),(v("z")||v("marker.color"))&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")):_.visible=!1}},81220:function(B,L,e){var k=e(37008),w=e(67104),r=e(49084),_=e(29736).axisHoverFormat,v=e(92880).extendFlat;B.exports=v({x:k.x,y:k.y,z:k.z,marker:k.marker,histnorm:k.histnorm,histfunc:k.histfunc,nbinsx:k.nbinsx,xbins:k.xbins,nbinsy:k.nbinsy,ybins:k.ybins,autobinx:k.autobinx,autobiny:k.autobiny,bingroup:k.bingroup,xbingroup:k.xbingroup,ybingroup:k.ybingroup,autocontour:w.autocontour,ncontours:w.ncontours,contours:w.contours,line:{color:w.line.color,width:v({},w.line.width,{dflt:.5}),dash:w.line.dash,smoothing:w.line.smoothing,editType:"plot"},xhoverformat:_("x"),yhoverformat:_("y"),zhoverformat:_("z",1),hovertemplate:k.hovertemplate,texttemplate:w.texttemplate,textfont:w.textfont},r("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(B,L,e){var k=e(3400),w=e(56408),r=e(84952),_=e(97680),v=e(39096),f=e(81220);B.exports=function(s,t,a,n){function i(l,o){return k.coerce(s,t,f,l,o)}w(s,t,i,n),t.visible!==!1&&(r(s,t,i,function(l){return k.coerce2(s,t,f,l)}),_(s,t,i,n),i("xhoverformat"),i("yhoverformat"),i("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&v(i,n))}},65664:function(B,L,e){B.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(B,L,e){var k=e(21776).Ks,w=e(21776).Gw,r=e(49084),_=e(86968).u,v=e(74996),f=e(424),s=e(40516),t=e(32984),a=e(92880).extendFlat,n=e(98192).c;B.exports={labels:f.labels,parents:f.parents,values:f.values,branchvalues:f.branchvalues,count:f.count,level:f.level,maxdepth:f.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:s.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:a({colors:f.marker.colors,line:f.marker.line,pattern:n,editType:"calc"},r("marker",{colorAttr:"colors",anim:!1})),leaf:f.leaf,pathbar:s.pathbar,text:v.text,textinfo:f.textinfo,texttemplate:w({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:f.hoverinfo,hovertemplate:k({},{keys:t.eventDataKeys}),textfont:v.textfont,insidetextfont:v.insidetextfont,outsidetextfont:s.outsidetextfont,textposition:s.textposition,sort:v.sort,root:f.root,domain:_({name:"icicle",trace:!0,editType:"calc"})}},59564:function(B,L,e){var k=e(7316);L.name="icicle",L.plot=function(w,r,_,v){k.plotBasePlot(L.name,w,r,_,v)},L.clean=function(w,r,_,v){k.cleanBasePlot(L.name,w,r,_,v)}},73876:function(B,L,e){var k=e(3776);L.r=function(w,r){return k.calc(w,r)},L.q=function(w){return k._runCrossTraceCalc("icicle",w)}},7045:function(B,L,e){var k=e(3400),w=e(97376),r=e(76308),_=e(86968).Q,v=e(31508).handleText,f=e(78048).TEXTPAD,s=e(74174).handleMarkerDefaults,t=e(8932),a=t.hasColorscale,n=t.handleDefaults;B.exports=function(i,l,o,u){function h(x,T){return k.coerce(i,l,w,x,T)}var c=h("labels"),b=h("parents");if(c&&c.length&&b&&b.length){var d=h("values");d&&d.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.orientation"),h("tiling.flip"),h("tiling.pad");var g=h("text");h("texttemplate"),l.texttemplate||h("textinfo",k.isArrayOrTypedArray(g)?"text+label":"label"),h("hovertext"),h("hovertemplate");var m=h("pathbar.visible");v(i,l,u,h,"auto",{hasPathbar:m,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition"),s(i,l,u,h);var y=l._hasColorscale=a(i,"marker","colors")||(i.marker||{}).coloraxis;y&&n(i,l,u,h,{prefix:"marker.",cLetter:"c"}),h("leaf.opacity",y?1:.7),l._hovered={marker:{line:{width:2,color:r.contrast(u.paper_bgcolor)}}},m&&(h("pathbar.thickness",l.pathbar.textfont.size+2*f),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),_(l,u,h),l._length=null}else l.visible=!1}},67880:function(B,L,e){var k=e(33428),w=e(3400),r=e(43616),_=e(72736),v=e(25132),f=e(47192).styleOne,s=e(32984),t=e(78176),a=e(45716),n=e(96488).formatSliceLabel,i=!1;B.exports=function(l,o,u,h,c){var b=c.width,d=c.height,g=c.viewX,m=c.viewY,y=c.pathSlice,x=c.toMoveInsideSlice,T=c.strTransform,p=c.hasTransition,S=c.handleSlicesExit,M=c.makeUpdateSliceInterpolator,E=c.makeUpdateTextInterpolator,P=c.prevEntry,O=l._context.staticPlot,I=l._fullLayout,R=o[0].trace,U=R.textposition.indexOf("left")!==-1,z=R.textposition.indexOf("right")!==-1,j=R.textposition.indexOf("bottom")!==-1,W=v(u,[b,d],{flipX:R.tiling.flip.indexOf("x")>-1,flipY:R.tiling.flip.indexOf("y")>-1,orientation:R.tiling.orientation,pad:{inner:R.tiling.pad},maxDepth:R._maxDepth}).descendants(),F=1/0,V=-1/0;W.forEach(function(X){var J=X.depth;J>=R._maxDepth?(X.x0=X.x1=(X.x0+X.x1)/2,X.y0=X.y1=(X.y0+X.y1)/2):(F=Math.min(F,J),V=Math.max(V,J))}),h=h.data(W,t.getPtId),R._maxVisibleLayers=isFinite(V)?V-F+1:0,h.enter().append("g").classed("slice",!0),S(h,i,{},[b,d],y),h.order();var H=null;if(p&&P){var te=t.getPtId(P);h.each(function(X){H===null&&t.getPtId(X)===te&&(H={x0:X.x0,x1:X.x1,y0:X.y0,y1:X.y1})})}var Q=function(){return H||{x0:0,x1:b,y0:0,y1:d}},K=h;return p&&(K=K.transition().each("end",function(){var X=k.select(this);t.setSliceCursor(X,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),K.each(function(X){X._x0=g(X.x0),X._x1=g(X.x1),X._y0=m(X.y0),X._y1=m(X.y1),X._hoverX=g(X.x1-R.tiling.pad),X._hoverY=m(j?X.y1-R.tiling.pad/2:X.y0+R.tiling.pad/2);var J=k.select(this),ee=w.ensureSingle(J,"path","surface",function(ce){ce.style("pointer-events",O?"none":"all")});p?ee.transition().attrTween("d",function(ce){var ge=M(ce,i,Q(),[b,d],{orientation:R.tiling.orientation,flipX:R.tiling.flip.indexOf("x")>-1,flipY:R.tiling.flip.indexOf("y")>-1});return function(ve){return y(ge(ve))}}):ee.attr("d",y),J.call(a,u,l,o,{styleOne:f,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,l,{isTransitioning:l._transitioning}),ee.call(f,X,R,l,{hovered:!1}),X.x0===X.x1||X.y0===X.y1?X._text="":X._text=n(X,u,R,o,I)||"";var ie=w.ensureSingle(J,"g","slicetext"),oe=w.ensureSingle(ie,"text","",function(ce){ce.attr("data-notex",1)}),ae=w.ensureUniformFontSize(l,t.determineTextFont(R,X,I.font));oe.text(X._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":U?"start":"middle").call(r.font,ae).call(_.convertToTspans,l),X.textBB=r.bBox(oe.node()),X.transform=x(X,{fontSize:ae.size}),X.transform.fontSize=ae.size,p?oe.transition().attrTween("transform",function(ce){var ge=E(ce,i,Q(),[b,d]);return function(ve){return T(ge(ve))}}):oe.attr("transform",T(X))}),H}},29044:function(B,L,e){B.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(B){B.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(B,L,e){var k=e(3400),w=e(90676);B.exports=function(r,_){function v(f,s){return k.coerce(r,_,w,f,s)}v("iciclecolorway",_.colorway),v("extendiciclecolors")}},25132:function(B,L,e){var k=e(74148),w=e(83024);B.exports=function(r,_,v){var f=v.flipX,s=v.flipY,t=v.orientation==="h",a=v.maxDepth,n=_[0],i=_[1];a&&(n=(r.height+1)*_[0]/Math.min(r.height+1,a),i=(r.height+1)*_[1]/Math.min(r.height+1,a));var l=k.partition().padding(v.pad.inner).size(t?[_[1],n]:[_[0],i])(r);return(t||f||s)&&w(l,_,{swapXY:t,flipX:f,flipY:s}),l}},38364:function(B,L,e){var k=e(95808),w=e(67880);B.exports=function(r,_,v,f){return k(r,_,v,f,{type:"icicle",drawDescendants:w})}},47192:function(B,L,e){var k=e(33428),w=e(76308),r=e(3400),_=e(82744).resizeText,v=e(60404);function f(s,t,a,n){var i=t.data.data,l=!t.children,o=i.i,u=r.castOption(a,o,"marker.line.color")||w.defaultLine,h=r.castOption(a,o,"marker.line.width")||0;s.call(v,t,a,n).style("stroke-width",h).call(w.stroke,u).style("opacity",l?a.leaf.opacity:null)}B.exports={style:function(s){var t=s._fullLayout._iciclelayer.selectAll(".trace");_(s,t,"icicle"),t.each(function(a){var n=k.select(this),i=a[0].trace;n.style("opacity",i.opacity),n.selectAll("path.surface").each(function(l){k.select(this).call(f,l,i,s)})})},styleOne:f}},95188:function(B,L,e){for(var k=e(45464),w=e(21776).Ks,r=e(92880).extendFlat,_=e(47797).colormodel,v=["rgb","rgba","rgba256","hsl","hsla"],f=[],s=[],t=0;t<v.length;t++){var a=_[v[t]];f.push("For the `"+v[t]+"` colormodel, it is ["+(a.zminDflt||a.min).join(", ")+"]."),s.push("For the `"+v[t]+"` colormodel, it is ["+(a.zmaxDflt||a.max).join(", ")+"].")}B.exports=r({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:v,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:r({},k.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:w({},{keys:["z","color","colormodel"]}),transforms:void 0})},93336:function(B,L,e){var k=e(3400),w=e(47797),r=e(38248),_=e(54460),v=e(3400).maxRowLength,f=e(18712).i;function s(a,n,i,l){return function(o){return k.constrain((o-a)*n,i,l)}}function t(a,n){return function(i){return k.constrain(i,a,n)}}B.exports=function(a,n){var i,l;if(n._hasZ)i=n.z.length,l=v(n.z);else if(n._hasSource){var o=f(n.source);i=o.height,l=o.width}var u,h=_.getFromId(a,n.xaxis||"x"),c=_.getFromId(a,n.yaxis||"y"),b=h.d2c(n.x0)-n.dx/2,d=c.d2c(n.y0)-n.dy/2,g=[b,b+l*n.dx],m=[d,d+i*n.dy];if(h&&h.type==="log")for(u=0;u<l;u++)g.push(b+u*n.dx);if(c&&c.type==="log")for(u=0;u<i;u++)m.push(d+u*n.dy);return n._extremes[h._id]=_.findExtremes(h,g),n._extremes[c._id]=_.findExtremes(c,m),n._scaler=function(y){var x=w.colormodel[y.colormodel],T=(x.colormodel||y.colormodel).length;y._sArray=[];for(var p=0;p<T;p++)x.min[p]!==y.zmin[p]||x.max[p]!==y.zmax[p]?y._sArray.push(s(y.zmin[p],(x.max[p]-x.min[p])/(y.zmax[p]-y.zmin[p]),x.min[p],x.max[p])):y._sArray.push(t(x.min[p],x.max[p]));return function(S){for(var M=S.slice(0,T),E=0;E<T;E++){var P=M[E];if(!r(P))return!1;M[E]=y._sArray[E](P)}return M}}(n),[{x0:b,y0:d,z:n.z,w:l,h:i}]}},47797:function(B){B.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(L){return L.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(L){return L.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(L){return L.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(L){var e=L.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(L){var e=L.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%",""]}}}},13188:function(B,L,e){var k=e(3400),w=e(95188),r=e(47797),_=e(81792).IMAGE_URL_PREFIX;B.exports=function(v,f){function s(n,i){return k.coerce(v,f,w,n,i)}s("source"),f.source&&!f.source.match(_)&&delete f.source,f._hasSource=!!f.source;var t,a=s("z");f._hasZ=!(a===void 0||!a.length||!a[0]||!a[0].length),f._hasZ||f._hasSource?(s("x0"),s("y0"),s("dx"),s("dy"),f._hasZ?(s("colormodel","rgb"),s("zmin",(t=r.colormodel[f.colormodel]).zminDflt||t.min),s("zmax",t.zmaxDflt||t.max)):f._hasSource&&(f.colormodel="rgba256",t=r.colormodel[f.colormodel],f.zmin=t.zminDflt,f.zmax=t.zmaxDflt),s("zsmooth"),s("text"),s("hovertext"),s("hovertemplate"),f._length=null):f.visible=!1}},79972:function(B){B.exports=function(L,e){return"xVal"in e&&(L.x=e.xVal),"yVal"in e&&(L.y=e.yVal),e.xa&&(L.xaxis=e.xa),e.ya&&(L.yaxis=e.ya),L.color=e.color,L.colormodel=e.trace.colormodel,L.z||(L.z=e.color),L}},18712:function(B,L,e){var k=e(19480),w=e(81792).IMAGE_URL_PREFIX,r=e(33576).Buffer;L.i=function(_){var v=_.replace(w,""),f=new r(v,"base64");return k(f)}},24892:function(B,L,e){var k=e(93024),w=e(3400),r=w.isArrayOrTypedArray,_=e(47797);B.exports=function(v,f,s){var t=v.cd[0],a=t.trace,n=v.xa,i=v.ya;if(!(k.inbox(f-t.x0,f-(t.x0+t.w*a.dx),0)>0||k.inbox(s-t.y0,s-(t.y0+t.h*a.dy),0)>0)){var l,o=Math.floor((f-t.x0)/a.dx),u=Math.floor(Math.abs(s-t.y0)/a.dy);if(a._hasZ?l=t.z[u][o]:a._hasSource&&(l=a._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(o,u,1,1).data),l){var h,c=t.hi||a.hoverinfo;if(c){var b=c.split("+");b.indexOf("all")!==-1&&(b=["color"]),b.indexOf("color")!==-1&&(h=!0)}var d,g=_.colormodel[a.colormodel],m=g.colormodel||a.colormodel,y=m.length,x=a._scaler(l),T=g.suffix,p=[];(a.hovertemplate||h)&&(p.push("["+[x[0]+T[0],x[1]+T[1],x[2]+T[2]].join(", ")),y===4&&p.push(", "+x[3]+T[3]),p.push("]"),p=p.join(""),v.extraText=m.toUpperCase()+": "+p),r(a.hovertext)&&r(a.hovertext[u])?d=a.hovertext[u][o]:r(a.text)&&r(a.text[u])&&(d=a.text[u][o]);var S=i.c2p(t.y0+(u+.5)*a.dy),M=t.x0+(o+.5)*a.dx,E=t.y0+(u+.5)*a.dy,P="["+l.slice(0,a.colormodel.length).join(", ")+"]";return[w.extendFlat(v,{index:[u,o],x0:n.c2p(t.x0+o*a.dx),x1:n.c2p(t.x0+(o+1)*a.dx),y0:S,y1:S,color:x,xVal:M,xLabelVal:M,yVal:E,yLabelVal:E,zLabelVal:P,text:d,hovertemplateLabels:{zLabel:P,colorLabel:p,"color[0]Label":x[0]+T[0],"color[1]Label":x[1]+T[1],"color[2]Label":x[2]+T[2],"color[3]Label":x[3]+T[3]}})]}}}},48928:function(B,L,e){B.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(B,L,e){var k=e(33428),w=e(3400),r=w.strTranslate,_=e(9616),v=e(47797),f=e(9188),s=e(2264).STYLE;B.exports=function(t,a,n,i){var l=a.xaxis,o=a.yaxis,u=!t._context._exportedPlot&&f();w.makeTraceGroups(i,n,"im").each(function(h){var c=k.select(this),b=h[0],d=b.trace,g=(d.zsmooth==="fast"||d.zsmooth===!1&&u)&&!d._hasZ&&d._hasSource&&l.type==="linear"&&o.type==="linear";d._realImage=g;var m,y,x,T,p,S,M=b.z,E=b.x0,P=b.y0,O=b.w,I=b.h,R=d.dx,U=d.dy;for(S=0;m===void 0&&S<O;)m=l.c2p(E+S*R),S++;for(S=O;y===void 0&&S>0;)y=l.c2p(E+S*R),S--;for(S=0;T===void 0&&S<I;)T=o.c2p(P+S*U),S++;for(S=I;p===void 0&&S>0;)p=o.c2p(P+S*U),S--;y<m&&(x=y,y=m,m=x),p<T&&(x=T,T=p,p=x),g||(m=Math.max(-.5*l._length,m),y=Math.min(1.5*l._length,y),T=Math.max(-.5*o._length,T),p=Math.min(1.5*o._length,p));var z=Math.round(y-m),j=Math.round(p-T);if(z<=0||j<=0)c.selectAll("image").data([]).exit().remove();else{var W=c.selectAll("image").data([h]);W.enter().append("svg:image").attr({xmlns:_.svg,preserveAspectRatio:"none"}),W.exit().remove();var F=d.zsmooth===!1?s:"";if(g){var V=w.simpleMap(l.range,l.r2l),H=w.simpleMap(o.range,o.r2l),te=V[1]<V[0],Q=H[1]>H[0];if(te||Q){var K=m+z/2,X=T+j/2;F+="transform:"+r(K+"px",X+"px")+"scale("+(te?-1:1)+","+(Q?-1:1)+")"+r(-K+"px",-X+"px")+";"}}W.attr("style",F);var J=new Promise(function(ie){if(d._hasZ)ie();else if(d._hasSource)if(d._canvas&&d._canvas.el.width===O&&d._canvas.el.height===I&&d._canvas.source===d.source)ie();else{var oe=document.createElement("canvas");oe.width=O,oe.height=I;var ae=oe.getContext("2d",{willReadFrequently:!0});d._image=d._image||new Image;var ce=d._image;ce.onload=function(){ae.drawImage(ce,0,0),d._canvas={el:oe,source:d.source},ie()},ce.setAttribute("src",d.source)}}).then(function(){var ie,oe;if(d._hasZ)oe=ee(function(ce,ge){var ve=M[ge][ce];return w.isTypedArray(ve)&&(ve=Array.from(ve)),ve}),ie=oe.toDataURL("image/png");else if(d._hasSource)if(g)ie=d.source;else{var ae=d._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,O,I).data;oe=ee(function(ce,ge){var ve=4*(ge*O+ce);return[ae[ve],ae[ve+1],ae[ve+2],ae[ve+3]]}),ie=oe.toDataURL("image/png")}W.attr({"xlink:href":ie,height:j,width:z,x:m,y:T})});t._promises.push(J)}function ee(ie){var oe=document.createElement("canvas");oe.width=z,oe.height=j;var ae,ce=oe.getContext("2d",{willReadFrequently:!0}),ge=function(de){return w.constrain(Math.round(l.c2p(E+de*R)-m),0,z)},ve=function(de){return w.constrain(Math.round(o.c2p(P+de*U)-T),0,j)},be=v.colormodel[d.colormodel],we=be.colormodel||d.colormodel,ye=be.fmt;for(S=0;S<b.w;S++){var me=ge(S),Ae=ge(S+1);if(Ae!==me&&!isNaN(Ae)&&!isNaN(me))for(var ke=0;ke<b.h;ke++){var fe=ve(ke),le=ve(ke+1);le===fe||isNaN(le)||isNaN(fe)||!ie(S,ke)||(ae=d._scaler(ie(S,ke)),ce.fillStyle=ae?we+"("+ye(ae).join(",")+")":"rgba(0,0,0,0)",ce.fillRect(me,fe,Ae-me,le-fe))}}return oe}})}},28576:function(B,L,e){var k=e(33428);B.exports=function(w){k.select(w).selectAll(".im image").style("opacity",function(r){return r[0].trace.opacity})}},89864:function(B,L,e){var k=e(92880).extendFlat,w=e(92880).extendDeep,r=e(67824).overrideAll,_=e(25376),v=e(22548),f=e(86968).u,s=e(94724),t=e(31780).templatedArray,a=e(48164),n=e(29736).descriptionOnlyNumbers,i=_({editType:"plot",colorEditType:"plot"}),l={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:v.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},o={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=t("step",w({},l,{range:o}));B.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:f({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:k({},i,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:n("value")},font:k({},i,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:n("value")},increasing:{symbol:{valType:"string",dflt:a.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:a.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:a.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:a.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:k({},i,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:w({},l,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:v.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:r({range:o,visible:k({},s.visible,{dflt:!0}),tickmode:s.minor.tickmode,nticks:s.nticks,tick0:s.tick0,dtick:s.dtick,tickvals:s.tickvals,ticktext:s.ticktext,ticks:k({},s.ticks,{dflt:"outside"}),ticklen:s.ticklen,tickwidth:s.tickwidth,tickcolor:s.tickcolor,ticklabelstep:s.ticklabelstep,showticklabels:s.showticklabels,labelalias:s.labelalias,tickfont:_({}),tickangle:s.tickangle,tickformat:s.tickformat,tickformatstops:s.tickformatstops,tickprefix:s.tickprefix,showtickprefix:s.showtickprefix,ticksuffix:s.ticksuffix,showticksuffix:s.showticksuffix,separatethousands:s.separatethousands,exponentformat:s.exponentformat,minexponent:s.minexponent,showexponent:s.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:k({},l.line.color,{}),width:k({},l.line.width,{dflt:1}),editType:"plot"},thickness:k({},l.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(B,L,e){var k=e(7316);L.name="indicator",L.plot=function(w,r,_,v){k.plotBasePlot(L.name,w,r,_,v)},L.clean=function(w,r,_,v){k.cleanBasePlot(L.name,w,r,_,v)}},79136:function(B){B.exports={calc:function(L,e){var k=[],w=e.value;typeof e._lastValue!="number"&&(e._lastValue=e.value);var r=e._lastValue,_=r;return e._hasDelta&&typeof e.delta.reference=="number"&&(_=e.delta.reference),k[0]={y:w,lastY:r,delta:w-_,relativeDelta:(w-_)/_},k}}},12096:function(B){B.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(B,L,e){var k=e(3400),w=e(89864),r=e(86968).Q,_=e(31780),v=e(51272),f=e(12096),s=e(26332),t=e(25404),a=e(95936),n=e(42568);function i(l,o){function u(h,c){return k.coerce(l,o,w.gauge.steps,h,c)}u("color"),u("line.color"),u("line.width"),u("range"),u("thickness")}B.exports={supplyDefaults:function(l,o,u,h){function c(P,O){return k.coerce(l,o,w,P,O)}r(o,h,c),c("mode"),o._hasNumber=o.mode.indexOf("number")!==-1,o._hasDelta=o.mode.indexOf("delta")!==-1,o._hasGauge=o.mode.indexOf("gauge")!==-1;var b=c("value");o._range=[0,typeof b=="number"?1.5*b:1];var d,g,m,y,x,T,p=new Array(2);function S(P,O){return k.coerce(m,y,w.gauge,P,O)}function M(P,O){return k.coerce(x,T,w.gauge.axis,P,O)}if(o._hasNumber&&(c("number.valueformat"),c("number.font.color",h.font.color),c("number.font.family",h.font.family),c("number.font.size"),o.number.font.size===void 0&&(o.number.font.size=f.defaultNumberFontSize,p[0]=!0),c("number.prefix"),c("number.suffix"),d=o.number.font.size),o._hasDelta&&(c("delta.font.color",h.font.color),c("delta.font.family",h.font.family),c("delta.font.size"),o.delta.font.size===void 0&&(o.delta.font.size=(o._hasNumber?.5:1)*(d||f.defaultNumberFontSize),p[1]=!0),c("delta.reference",o.value),c("delta.relative"),c("delta.valueformat",o.delta.relative?"2%":""),c("delta.increasing.symbol"),c("delta.increasing.color"),c("delta.decreasing.symbol"),c("delta.decreasing.color"),c("delta.position"),c("delta.prefix"),c("delta.suffix"),g=o.delta.font.size),o._scaleNumbers=(!o._hasNumber||p[0])&&(!o._hasDelta||p[1])||!1,c("title.font.color",h.font.color),c("title.font.family",h.font.family),c("title.font.size",.25*(d||g||f.defaultNumberFontSize)),c("title.text"),o._hasGauge){(m=l.gauge)||(m={}),y=_.newContainer(o,"gauge"),S("shape"),(o._isBullet=o.gauge.shape==="bullet")||c("title.align","center"),(o._isAngular=o.gauge.shape==="angular")||c("align","center"),S("bgcolor",h.paper_bgcolor),S("borderwidth"),S("bordercolor"),S("bar.color"),S("bar.line.color"),S("bar.line.width"),S("bar.thickness",f.valueThickness*(o.gauge.shape==="bullet"?.5:1)),v(m,y,{name:"steps",handleItemDefaults:i}),S("threshold.value"),S("threshold.thickness"),S("threshold.line.width"),S("threshold.line.color"),x={},m&&(x=m.axis||{}),T=_.newContainer(y,"axis"),M("visible"),o._range=M("range",o._range);var E={noAutotickangles:!0,outerTicks:!0};s(x,T,M,"linear"),n(x,T,M,"linear",E),a(x,T,M,"linear",E),t(x,T,M,E)}else c("title.align","center"),c("align","center"),o._isAngular=o._isBullet=!1;o._length=null}}},43480:function(B,L,e){B.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(B,L,e){var k=e(33428),w=e(67756).qy,r=e(67756).Gz,_=e(3400),v=_.strScale,f=_.strTranslate,s=_.rad2deg,t=e(84284).MID_SHIFT,a=e(43616),n=e(12096),i=e(72736),l=e(54460),o=e(28336),u=e(37668),h=e(94724),c=e(76308),b={left:"start",center:"middle",right:"end"},d={left:0,center:.5,right:1},g=/[yzafpnmkMGTPEZY]/;function m(M){return M&&M.duration>0}function y(M){M.each(function(E){c.stroke(k.select(this),E.line.color)}).each(function(E){c.fill(k.select(this),E.color)}).style("stroke-width",function(E){return E.line.width})}function x(M,E,P){var O=M._fullLayout,I=_.extendFlat({type:"linear",ticks:"outside",range:P,showline:!0},E),R={type:"linear",_id:"x"+E._id},U={letter:"x",font:O.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function z(j,W){return _.coerce(I,R,h,j,W)}return o(I,R,z,U,O),u(I,R,z,U),R}function T(M,E,P){return[Math.min(E/M.width,P/M.height),M,E+"x"+P]}function p(M,E,P,O){var I=document.createElementNS("http://www.w3.org/2000/svg","text"),R=k.select(I);return R.text(M).attr("x",0).attr("y",0).attr("text-anchor",P).attr("data-unformatted",M).call(i.convertToTspans,O).call(a.font,E),a.bBox(R.node())}function S(M,E,P,O,I,R){var U="_cache"+E;M[U]&&M[U].key===I||(M[U]={key:I,value:P});var z=_.aggNums(R,null,[M[U].value,O],2);return M[U].value=z,z}B.exports=function(M,E,P,O){var I,R=M._fullLayout;m(P)&&O&&(I=O()),_.makeTraceGroups(R._indicatorlayer,E,"trace").each(function(U){var z,j,W,F,V,H=U[0].trace,te=k.select(this),Q=H._hasGauge,K=H._isAngular,X=H._isBullet,J=H.domain,ee={w:R._size.w*(J.x[1]-J.x[0]),h:R._size.h*(J.y[1]-J.y[0]),l:R._size.l+R._size.w*J.x[0],r:R._size.r+R._size.w*(1-J.x[1]),t:R._size.t+R._size.h*(1-J.y[1]),b:R._size.b+R._size.h*J.y[0]},ie=ee.l+ee.w/2,oe=ee.t+ee.h/2,ae=Math.min(ee.w/2,ee.h),ce=n.innerRadius*ae,ge=H.align||"center";if(j=oe,Q){if(K&&(z=ie,j=oe+ae/2,W=function(fe){return function(le,de){return[de/Math.sqrt(le.width/2*(le.width/2)+le.height*le.height),le,de]}(fe,.9*ce)}),X){var ve=n.bulletPadding,be=1-n.bulletNumberDomainSize+ve;z=ee.l+(be+(1-be)*d[ge])*ee.w,W=function(fe){return T(fe,(n.bulletNumberDomainSize-ve)*ee.w,ee.h)}}}else z=ee.l+d[ge]*ee.w,W=function(fe){return T(fe,ee.w,ee.h)};(function(fe,le,de,Ce){var Me,Le,Oe,Be=de[0].trace,pe=Ce.numbersX,_e=Ce.numbersY,Te=Be.align||"center",Re=b[Te],Ne=Ce.transitionOpts,ze=Ce.onComplete,Ge=_.ensureSingle(le,"g","numbers"),Ye=[];Be._hasNumber&&Ye.push("number"),Be._hasDelta&&(Ye.push("delta"),Be.delta.position==="left"&&Ye.reverse());var et=Ge.selectAll("text").data(Ye);function ut(Rt,Ft,Dt,Xe){if(!Rt.match("s")||Dt>=0==Xe>=0||Ft(Dt).slice(-1).match(g)||Ft(Xe).slice(-1).match(g))return Ft;var Ke=Rt.slice().replace("s","f").replace(/\d+/,function(Je){return parseInt(Je)-1}),Ve=x(fe,{tickformat:Ke});return function(Je){return Math.abs(Je)<1?l.tickText(Ve,Je).text:Ft(Je)}}et.enter().append("text"),et.attr("text-anchor",function(){return Re}).attr("class",function(Rt){return Rt}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),et.exit().remove();var ot,yt=Be.mode+Be.align;if(Be._hasDelta&&(ot=function(){var Rt=x(fe,{tickformat:Be.delta.valueformat},Be._range);Rt.setScale(),l.prepTicks(Rt);var Ft=function(je){return l.tickText(Rt,je).text},Dt=Be.delta.suffix,Xe=Be.delta.prefix,Ke=function(je){return Be.delta.relative?je.relativeDelta:je.delta},Ve=function(je,Ue){return je===0||typeof je!="number"||isNaN(je)?"-":(je>0?Be.delta.increasing.symbol:Be.delta.decreasing.symbol)+Xe+Ue(je)+Dt},Je=function(je){return je.delta>=0?Be.delta.increasing.color:Be.delta.decreasing.color};Be._deltaLastValue===void 0&&(Be._deltaLastValue=Ke(de[0]));var ct=Ge.select("text.delta");function st(){ct.text(Ve(Ke(de[0]),Ft)).call(c.fill,Je(de[0])).call(i.convertToTspans,fe)}return ct.call(a.font,Be.delta.font).call(c.fill,Je({delta:Be._deltaLastValue})),m(Ne)?ct.transition().duration(Ne.duration).ease(Ne.easing).tween("text",function(){var je=k.select(this),Ue=Ke(de[0]),lt=Be._deltaLastValue,Qe=ut(Be.delta.valueformat,Ft,lt,Ue),gt=r(lt,Ue);return Be._deltaLastValue=Ue,function(mt){je.text(Ve(gt(mt),Qe)),je.call(c.fill,Je({delta:gt(mt)}))}}).each("end",function(){st(),ze&&ze()}).each("interrupt",function(){st(),ze&&ze()}):st(),Le=p(Ve(Ke(de[0]),Ft),Be.delta.font,Re,fe),ct}(),yt+=Be.delta.position+Be.delta.font.size+Be.delta.font.family+Be.delta.valueformat,yt+=Be.delta.increasing.symbol+Be.delta.decreasing.symbol,Oe=Le),Be._hasNumber&&(function(){var Rt=x(fe,{tickformat:Be.number.valueformat},Be._range);Rt.setScale(),l.prepTicks(Rt);var Ft=function(Je){return l.tickText(Rt,Je).text},Dt=Be.number.suffix,Xe=Be.number.prefix,Ke=Ge.select("text.number");function Ve(){var Je=typeof de[0].y=="number"?Xe+Ft(de[0].y)+Dt:"-";Ke.text(Je).call(a.font,Be.number.font).call(i.convertToTspans,fe)}m(Ne)?Ke.transition().duration(Ne.duration).ease(Ne.easing).each("end",function(){Ve(),ze&&ze()}).each("interrupt",function(){Ve(),ze&&ze()}).attrTween("text",function(){var Je=k.select(this),ct=r(de[0].lastY,de[0].y);Be._lastValue=de[0].y;var st=ut(Be.number.valueformat,Ft,de[0].lastY,de[0].y);return function(je){Je.text(Xe+st(ct(je))+Dt)}}):Ve(),Me=p(Xe+Ft(de[0].y)+Dt,Be.number.font,Re,fe)}(),yt+=Be.number.font.size+Be.number.font.family+Be.number.valueformat+Be.number.suffix+Be.number.prefix,Oe=Me),Be._hasDelta&&Be._hasNumber){var wt,bt,at=[(Me.left+Me.right)/2,(Me.top+Me.bottom)/2],rt=[(Le.left+Le.right)/2,(Le.top+Le.bottom)/2],At=.75*Be.delta.font.size;Be.delta.position==="left"&&(wt=S(Be,"deltaPos",0,-1*(Me.width*d[Be.align]+Le.width*(1-d[Be.align])+At),yt,Math.min),bt=at[1]-rt[1],Oe={width:Me.width+Le.width+At,height:Math.max(Me.height,Le.height),left:Le.left+wt,right:Me.right,top:Math.min(Me.top,Le.top+bt),bottom:Math.max(Me.bottom,Le.bottom+bt)}),Be.delta.position==="right"&&(wt=S(Be,"deltaPos",0,Me.width*(1-d[Be.align])+Le.width*d[Be.align]+At,yt,Math.max),bt=at[1]-rt[1],Oe={width:Me.width+Le.width+At,height:Math.max(Me.height,Le.height),left:Me.left,right:Le.right+wt,top:Math.min(Me.top,Le.top+bt),bottom:Math.max(Me.bottom,Le.bottom+bt)}),Be.delta.position==="bottom"&&(wt=null,bt=Le.height,Oe={width:Math.max(Me.width,Le.width),height:Me.height+Le.height,left:Math.min(Me.left,Le.left),right:Math.max(Me.right,Le.right),top:Me.bottom-Me.height,bottom:Me.bottom+Le.height}),Be.delta.position==="top"&&(wt=null,bt=Me.top,Oe={width:Math.max(Me.width,Le.width),height:Me.height+Le.height,left:Math.min(Me.left,Le.left),right:Math.max(Me.right,Le.right),top:Me.bottom-Me.height-Le.height,bottom:Me.bottom}),ot.attr({dx:wt,dy:bt})}(Be._hasNumber||Be._hasDelta)&&Ge.attr("transform",function(){var Rt=Ce.numbersScaler(Oe);yt+=Rt[2];var Ft,Dt=S(Be,"numbersScale",1,Rt[0],yt,Math.min);Be._scaleNumbers||(Dt=1),Ft=Be._isAngular?_e-Dt*Oe.bottom:_e-Dt*(Oe.top+Oe.bottom)/2,Be._numbersTop=Dt*Oe.top+Ft;var Xe=Oe[Te];Te==="center"&&(Xe=(Oe.left+Oe.right)/2);var Ke=pe-Dt*Xe;return Ke=S(Be,"numbersTranslate",0,Ke,yt,Math.max),f(Ke,Ft)+v(Dt)})})(M,te,U,{numbersX:z,numbersY:j,numbersScaler:W,transitionOpts:P,onComplete:I}),Q&&(F={range:H.gauge.axis.range,color:H.gauge.bgcolor,line:{color:H.gauge.bordercolor,width:0},thickness:1},V={range:H.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:H.gauge.bordercolor,width:H.gauge.borderwidth},thickness:1});var we=te.selectAll("g.angular").data(K?U:[]);we.exit().remove();var ye=te.selectAll("g.angularaxis").data(K?U:[]);ye.exit().remove(),K&&function(fe,le,de,Ce){var Me,Le,Oe,Be,pe=de[0].trace,_e=Ce.size,Te=Ce.radius,Re=Ce.innerRadius,Ne=Ce.gaugeBg,ze=Ce.gaugeOutline,Ge=[_e.l+_e.w/2,_e.t+_e.h/2+Te/2],Ye=Ce.gauge,et=Ce.layer,ut=Ce.transitionOpts,ot=Ce.onComplete,yt=Math.PI/2;function wt(mt){var xt=pe.gauge.axis.range[0],dt=(mt-xt)/(pe.gauge.axis.range[1]-xt)*Math.PI-yt;return dt<-yt?-yt:dt>yt?yt:dt}function bt(mt){return k.svg.arc().innerRadius((Re+Te)/2-mt/2*(Te-Re)).outerRadius((Re+Te)/2+mt/2*(Te-Re)).startAngle(-yt)}function at(mt){mt.attr("d",function(xt){return bt(xt.thickness).startAngle(wt(xt.range[0])).endAngle(wt(xt.range[1]))()})}Ye.enter().append("g").classed("angular",!0),Ye.attr("transform",f(Ge[0],Ge[1])),et.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),et.selectAll("g.xangularaxistick,path,text").remove(),(Me=x(fe,pe.gauge.axis)).type="linear",Me.range=pe.gauge.axis.range,Me._id="xangularaxis",Me.ticklabeloverflow="allow",Me.setScale();var rt=function(mt){return(Me.range[0]-mt.x)/(Me.range[1]-Me.range[0])*Math.PI+Math.PI},At={},Rt=l.makeLabelFns(Me,0).labelStandoff;At.xFn=function(mt){var xt=rt(mt);return Math.cos(xt)*Rt},At.yFn=function(mt){var xt=rt(mt),dt=Math.sin(xt)>0?.2:1;return-Math.sin(xt)*(Rt+mt.fontSize*dt)+Math.abs(Math.cos(xt))*(mt.fontSize*t)},At.anchorFn=function(mt){var xt=rt(mt),dt=Math.cos(xt);return Math.abs(dt)<.1?"middle":dt>0?"start":"end"},At.heightFn=function(mt,xt,dt){var Lt=rt(mt);return-.5*(1+Math.sin(Lt))*dt};var Ft=function(mt){return f(Ge[0]+Te*Math.cos(mt),Ge[1]-Te*Math.sin(mt))};if(Oe=function(mt){return Ft(rt(mt))},Le=l.calcTicks(Me),Be=l.getTickSigns(Me)[2],Me.visible){Be=Me.ticks==="inside"?-1:1;var Dt=(Me.linewidth||1)/2;l.drawTicks(fe,Me,{vals:Le,layer:et,path:"M"+Be*Dt+",0h"+Be*Me.ticklen,transFn:function(mt){var xt=rt(mt);return Ft(xt)+"rotate("+-s(xt)+")"}}),l.drawLabels(fe,Me,{vals:Le,layer:et,transFn:Oe,labelFns:At})}var Xe=[Ne].concat(pe.gauge.steps),Ke=Ye.selectAll("g.bg-arc").data(Xe);Ke.enter().append("g").classed("bg-arc",!0).append("path"),Ke.select("path").call(at).call(y),Ke.exit().remove();var Ve=bt(pe.gauge.bar.thickness),Je=Ye.selectAll("g.value-arc").data([pe.gauge.bar]);Je.enter().append("g").classed("value-arc",!0).append("path");var ct,st,je,Ue=Je.select("path");m(ut)?(Ue.transition().duration(ut.duration).ease(ut.easing).each("end",function(){ot&&ot()}).each("interrupt",function(){ot&&ot()}).attrTween("d",(ct=Ve,st=wt(de[0].lastY),je=wt(de[0].y),function(){var mt=w(st,je);return function(xt){return ct.endAngle(mt(xt))()}})),pe._lastValue=de[0].y):Ue.attr("d",typeof de[0].y=="number"?Ve.endAngle(wt(de[0].y)):"M0,0Z"),Ue.call(y),Je.exit().remove(),Xe=[];var lt=pe.gauge.threshold.value;(lt||lt===0)&&Xe.push({range:[lt,lt],color:pe.gauge.threshold.color,line:{color:pe.gauge.threshold.line.color,width:pe.gauge.threshold.line.width},thickness:pe.gauge.threshold.thickness});var Qe=Ye.selectAll("g.threshold-arc").data(Xe);Qe.enter().append("g").classed("threshold-arc",!0).append("path"),Qe.select("path").call(at).call(y),Qe.exit().remove();var gt=Ye.selectAll("g.gauge-outline").data([ze]);gt.enter().append("g").classed("gauge-outline",!0).append("path"),gt.select("path").call(at).call(y),gt.exit().remove()}(M,0,U,{radius:ae,innerRadius:ce,gauge:we,layer:ye,size:ee,gaugeBg:F,gaugeOutline:V,transitionOpts:P,onComplete:I});var me=te.selectAll("g.bullet").data(X?U:[]);me.exit().remove();var Ae=te.selectAll("g.bulletaxis").data(X?U:[]);Ae.exit().remove(),X&&function(fe,le,de,Ce){var Me,Le,Oe,Be,pe,_e=de[0].trace,Te=Ce.gauge,Re=Ce.layer,Ne=Ce.gaugeBg,ze=Ce.gaugeOutline,Ge=Ce.size,Ye=_e.domain,et=Ce.transitionOpts,ut=Ce.onComplete;Te.enter().append("g").classed("bullet",!0),Te.attr("transform",f(Ge.l,Ge.t)),Re.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),Re.selectAll("g.xbulletaxistick,path,text").remove();var ot=Ge.h,yt=_e.gauge.bar.thickness*ot,wt=Ye.x[0],bt=Ye.x[0]+(Ye.x[1]-Ye.x[0])*(_e._hasNumber||_e._hasDelta?1-n.bulletNumberDomainSize:1);function at(Ke){Ke.attr("width",function(Ve){return Math.max(0,Me.c2p(Ve.range[1])-Me.c2p(Ve.range[0]))}).attr("x",function(Ve){return Me.c2p(Ve.range[0])}).attr("y",function(Ve){return .5*(1-Ve.thickness)*ot}).attr("height",function(Ve){return Ve.thickness*ot})}(Me=x(fe,_e.gauge.axis))._id="xbulletaxis",Me.domain=[wt,bt],Me.setScale(),Le=l.calcTicks(Me),Oe=l.makeTransTickFn(Me),Be=l.getTickSigns(Me)[2],pe=Ge.t+Ge.h,Me.visible&&(l.drawTicks(fe,Me,{vals:Me.ticks==="inside"?l.clipEnds(Me,Le):Le,layer:Re,path:l.makeTickPath(Me,pe,Be),transFn:Oe}),l.drawLabels(fe,Me,{vals:Le,layer:Re,transFn:Oe,labelFns:l.makeLabelFns(Me,pe)}));var rt=[Ne].concat(_e.gauge.steps),At=Te.selectAll("g.bg-bullet").data(rt);At.enter().append("g").classed("bg-bullet",!0).append("rect"),At.select("rect").call(at).call(y),At.exit().remove();var Rt=Te.selectAll("g.value-bullet").data([_e.gauge.bar]);Rt.enter().append("g").classed("value-bullet",!0).append("rect"),Rt.select("rect").attr("height",yt).attr("y",(ot-yt)/2).call(y),m(et)?Rt.select("rect").transition().duration(et.duration).ease(et.easing).each("end",function(){ut&&ut()}).each("interrupt",function(){ut&&ut()}).attr("width",Math.max(0,Me.c2p(Math.min(_e.gauge.axis.range[1],de[0].y)))):Rt.select("rect").attr("width",typeof de[0].y=="number"?Math.max(0,Me.c2p(Math.min(_e.gauge.axis.range[1],de[0].y))):0),Rt.exit().remove();var Ft=de.filter(function(){return _e.gauge.threshold.value||_e.gauge.threshold.value===0}),Dt=Te.selectAll("g.threshold-bullet").data(Ft);Dt.enter().append("g").classed("threshold-bullet",!0).append("line"),Dt.select("line").attr("x1",Me.c2p(_e.gauge.threshold.value)).attr("x2",Me.c2p(_e.gauge.threshold.value)).attr("y1",(1-_e.gauge.threshold.thickness)/2*ot).attr("y2",(1-(1-_e.gauge.threshold.thickness)/2)*ot).call(c.stroke,_e.gauge.threshold.line.color).style("stroke-width",_e.gauge.threshold.line.width),Dt.exit().remove();var Xe=Te.selectAll("g.gauge-outline").data([ze]);Xe.enter().append("g").classed("gauge-outline",!0).append("rect"),Xe.select("rect").call(at).call(y),Xe.exit().remove()}(M,0,U,{gauge:me,layer:Ae,size:ee,gaugeBg:F,gaugeOutline:V,transitionOpts:P,onComplete:I});var ke=te.selectAll("text.title").data(U);ke.exit().remove(),ke.enter().append("text").classed("title",!0),ke.attr("text-anchor",function(){return X?b.right:b[H.title.align]}).text(H.title.text).call(a.font,H.title.font).call(i.convertToTspans,M),ke.attr("transform",function(){var fe,le=ee.l+ee.w*d[H.title.align],de=n.titlePadding,Ce=a.bBox(ke.node());return Q?(K&&(fe=H.gauge.axis.visible?a.bBox(ye.node()).top-de-Ce.bottom:ee.t+ee.h/2-ae/2-Ce.bottom-de),X&&(fe=j-(Ce.top+Ce.bottom)/2,le=ee.l-n.bulletPadding*ee.w)):fe=H._numbersTop-de-Ce.bottom,f(le,fe)})})}},50048:function(B,L,e){var k=e(49084),w=e(29736).axisHoverFormat,r=e(21776).Ks,_=e(52948),v=e(45464),f=e(92880).extendFlat,s=e(67824).overrideAll,t=B.exports=s(f({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:r(),xhoverformat:w("x"),yhoverformat:w("y"),zhoverformat:w("z"),valuehoverformat:w("value",1),showlegend:f({},v.showlegend,{dflt:!1})},k("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:_.opacity,lightposition:_.lightposition,lighting:_.lighting,flatshading:_.flatshading,contour:_.contour,hoverinfo:f({},v.hoverinfo)}),"calc","nested");t.flatshading.dflt=!0,t.lighting.facenormalsepsilon.dflt=0,t.x.editType=t.y.editType=t.z.editType=t.value.editType="calc+clearAxisTypes",t.transforms=void 0},62624:function(B,L,e){var k=e(47128),w=e(3832).processGrid,r=e(3832).filter;B.exports=function(_,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=r(v.x,v._len),v._y=r(v.y,v._len),v._z=r(v.z,v._len),v._value=r(v.value,v._len);var f=w(v);v._gridFill=f.fill,v._Xs=f.Xs,v._Ys=f.Ys,v._Zs=f.Zs,v._len=f.len;for(var s=1/0,t=-1/0,a=0;a<v._len;a++){var n=v._value[a];s=Math.min(s,n),t=Math.max(t,n)}v._minValues=s,v._maxValues=t,v._vMin=v.isomin===void 0||v.isomin===null?s:v.isomin,v._vMax=v.isomax===void 0||v.isomin===null?t:v.isomax,k(_,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},31460:function(B,L,e){var k=e(67792).gl_mesh3d,w=e(33040).parseColorScale,r=e(3400).isArrayOrTypedArray,_=e(43080),v=e(8932).extractOpts,f=e(52094),s=function(l,o){for(var u=o.length-1;u>0;u--){var h=Math.min(o[u],o[u-1]),c=Math.max(o[u],o[u-1]);if(c>h&&h<l&&l<=c)return{id:u,distRatio:(c-l)/(c-h)}}return{id:0,distRatio:0}};function t(l,o,u){this.scene=l,this.uid=u,this.mesh=o,this.name="",this.data=null,this.showContour=!1}var a=t.prototype;a.handlePick=function(l){if(l.object===this.mesh){var o=l.data.index,u=this.data._meshX[o],h=this.data._meshY[o],c=this.data._meshZ[o],b=this.data._Ys.length,d=this.data._Zs.length,g=s(u,this.data._Xs).id,m=s(h,this.data._Ys).id,y=s(c,this.data._Zs).id,x=l.index=y+d*m+d*b*g;l.traceCoordinate=[this.data._meshX[x],this.data._meshY[x],this.data._meshZ[x],this.data._value[x]];var T=this.data.hovertext||this.data.text;return r(T)&&T[x]!==void 0?l.textLabel=T[x]:T&&(l.textLabel=T),!0}},a.update=function(l){var o=this.scene,u=o.fullSceneLayout;function h(d,g,m,y){return g.map(function(x){return d.d2l(x,0,y)*m})}this.data=i(l);var c={positions:f(h(u.xaxis,l._meshX,o.dataScale[0],l.xcalendar),h(u.yaxis,l._meshY,o.dataScale[1],l.ycalendar),h(u.zaxis,l._meshZ,o.dataScale[2],l.zcalendar)),cells:f(l._meshI,l._meshJ,l._meshK),lightPosition:[l.lightposition.x,l.lightposition.y,l.lightposition.z],ambient:l.lighting.ambient,diffuse:l.lighting.diffuse,specular:l.lighting.specular,roughness:l.lighting.roughness,fresnel:l.lighting.fresnel,vertexNormalsEpsilon:l.lighting.vertexnormalsepsilon,faceNormalsEpsilon:l.lighting.facenormalsepsilon,opacity:l.opacity,contourEnable:l.contour.show,contourColor:_(l.contour.color).slice(0,3),contourWidth:l.contour.width,useFacetNormals:l.flatshading},b=v(l);c.vertexIntensity=l._meshIntensity,c.vertexIntensityBounds=[b.min,b.max],c.colormap=w(l),this.mesh.update(c)},a.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var n=["xyz","xzy","yxz","yzx","zxy","zyx"];function i(l){l._meshI=[],l._meshJ=[],l._meshK=[];var o,u,h,c,b,d,g,m=l.surface.show,y=l.spaceframe.show,x=l.surface.fill,T=l.spaceframe.fill,p=!1,S=!1,M=0,E=l._Xs,P=l._Ys,O=l._Zs,I=E.length,R=P.length,U=O.length,z=n.indexOf(l._gridFill.replace(/-/g,"").replace(/\+/g,"")),j=function(Re,Ne,ze){switch(z){case 5:return ze+U*Ne+U*R*Re;case 4:return ze+U*Re+U*I*Ne;case 3:return Ne+R*ze+R*U*Re;case 2:return Ne+R*Re+R*I*ze;case 1:return Re+I*ze+I*U*Ne;default:return Re+I*Ne+I*R*ze}},W=l._minValues,F=l._maxValues,V=l._vMin,H=l._vMax;function te(Re,Ne,ze){for(var Ge=d.length,Ye=u;Ye<Ge;Ye++)if(Re===h[Ye]&&Ne===c[Ye]&&ze===b[Ye])return Ye;return-1}function Q(){u=o}function K(){h=[],c=[],b=[],d=[],o=0,Q()}function X(Re,Ne,ze,Ge){return h.push(Re),c.push(Ne),b.push(ze),d.push(Ge),++o-1}function J(Re,Ne,ze){for(var Ge=[],Ye=0;Ye<Re.length;Ye++)Ge[Ye]=Re[Ye]*(1-ze)+ze*Ne[Ye];return Ge}function ee(Re){g=Re}function ie(Re,Ne){return Re==="all"||Re===null||Re.indexOf(Ne)>-1}function oe(Re,Ne){return Re===null?Ne:Re}function ae(Re,Ne,ze){Q();var Ge,Ye,et,ut=[Ne],ot=[ze];if(g>=1)ut=[Ne],ot=[ze];else if(g>0){var yt=function(Xe,Ke){var Ve=Xe[0],Je=Xe[1],ct=Xe[2],st=function(dt,Lt,kt){for(var _t=[],Ot=0;Ot<dt.length;Ot++)_t[Ot]=(dt[Ot]+Lt[Ot]+kt[Ot])/3;return _t}(Ve,Je,ct),je=Math.sqrt(1-g),Ue=J(st,Ve,je),lt=J(st,Je,je),Qe=J(st,ct,je),gt=Ke[0],mt=Ke[1],xt=Ke[2];return{xyzv:[[Ve,Je,lt],[lt,Ue,Ve],[Je,ct,Qe],[Qe,lt,Je],[ct,Ve,Ue],[Ue,Qe,ct]],abc:[[gt,mt,-1],[-1,-1,gt],[mt,xt,-1],[-1,-1,mt],[xt,gt,-1],[-1,-1,xt]]}}(Ne,ze);ut=yt.xyzv,ot=yt.abc}for(var wt=0;wt<ut.length;wt++){Ne=ut[wt],ze=ot[wt];for(var bt=[],at=0;at<3;at++){var rt=Ne[at][0],At=Ne[at][1],Rt=Ne[at][2],Ft=Ne[at][3],Dt=ze[at]>-1?ze[at]:te(rt,At,Rt);bt[at]=Dt>-1?Dt:X(rt,At,Rt,oe(Re,Ft))}Ge=bt[0],Ye=bt[1],et=bt[2],l._meshI.push(Ge),l._meshJ.push(Ye),l._meshK.push(et),++M}}function ce(Re,Ne,ze,Ge){var Ye=Re[3];Ye<ze&&(Ye=ze),Ye>Ge&&(Ye=Ge);for(var et=(Re[3]-Ye)/(Re[3]-Ne[3]+1e-9),ut=[],ot=0;ot<4;ot++)ut[ot]=(1-et)*Re[ot]+et*Ne[ot];return ut}function ge(Re,Ne,ze){return Re>=Ne&&Re<=ze}function ve(Re){var Ne=.001*(H-V);return Re>=V-Ne&&Re<=H+Ne}function be(Re){for(var Ne=[],ze=0;ze<4;ze++){var Ge=Re[ze];Ne.push([l._x[Ge],l._y[Ge],l._z[Ge],l._value[Ge]])}return Ne}var we=3;function ye(Re,Ne,ze,Ge,Ye,et){et||(et=1),ze=[-1,-1,-1];var ut=!1,ot=[ge(Ne[0][3],Ge,Ye),ge(Ne[1][3],Ge,Ye),ge(Ne[2][3],Ge,Ye)];if(!ot[0]&&!ot[1]&&!ot[2])return!1;var yt=function(bt,at,rt){return ve(at[0][3])&&ve(at[1][3])&&ve(at[2][3])?(ae(bt,at,rt),!0):et<we&&ye(bt,at,rt,V,H,++et)};if(ot[0]&&ot[1]&&ot[2])return yt(Re,Ne,ze)||ut;var wt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(bt){if(ot[bt[0]]&&ot[bt[1]]&&!ot[bt[2]]){var at=Ne[bt[0]],rt=Ne[bt[1]],At=Ne[bt[2]],Rt=ce(At,at,Ge,Ye),Ft=ce(At,rt,Ge,Ye);ut=yt(Re,[Ft,Rt,at],[-1,-1,ze[bt[0]]])||ut,ut=yt(Re,[at,rt,Ft],[ze[bt[0]],ze[bt[1]],-1])||ut,wt=!0}}),wt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(bt){if(ot[bt[0]]&&!ot[bt[1]]&&!ot[bt[2]]){var at=Ne[bt[0]],rt=Ne[bt[1]],At=Ne[bt[2]],Rt=ce(rt,at,Ge,Ye),Ft=ce(At,at,Ge,Ye);ut=yt(Re,[Ft,Rt,at],[-1,-1,ze[bt[0]]])||ut,wt=!0}}),ut}function me(Re,Ne,ze,Ge){var Ye=!1,et=be(Ne),ut=[ge(et[0][3],ze,Ge),ge(et[1][3],ze,Ge),ge(et[2][3],ze,Ge),ge(et[3][3],ze,Ge)];if(!(ut[0]||ut[1]||ut[2]||ut[3]))return Ye;if(ut[0]&&ut[1]&&ut[2]&&ut[3])return S&&(Ye=function(yt,wt,bt){var at=function(rt,At,Rt){ae(yt,[wt[rt],wt[At],wt[Rt]],[bt[rt],bt[At],bt[Rt]])};at(0,1,2),at(3,0,1),at(2,3,0),at(1,2,3)}(Re,et,Ne)||Ye),Ye;var ot=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(yt){if(ut[yt[0]]&&ut[yt[1]]&&ut[yt[2]]&&!ut[yt[3]]){var wt=et[yt[0]],bt=et[yt[1]],at=et[yt[2]],rt=et[yt[3]];if(S)Ye=ae(Re,[wt,bt,at],[Ne[yt[0]],Ne[yt[1]],Ne[yt[2]]])||Ye;else{var At=ce(rt,wt,ze,Ge),Rt=ce(rt,bt,ze,Ge),Ft=ce(rt,at,ze,Ge);Ye=ae(null,[At,Rt,Ft],[-1,-1,-1])||Ye}ot=!0}}),ot||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(yt){if(ut[yt[0]]&&ut[yt[1]]&&!ut[yt[2]]&&!ut[yt[3]]){var wt=et[yt[0]],bt=et[yt[1]],at=et[yt[2]],rt=et[yt[3]],At=ce(at,wt,ze,Ge),Rt=ce(at,bt,ze,Ge),Ft=ce(rt,bt,ze,Ge),Dt=ce(rt,wt,ze,Ge);S?(Ye=ae(Re,[wt,Dt,At],[Ne[yt[0]],-1,-1])||Ye,Ye=ae(Re,[bt,Rt,Ft],[Ne[yt[1]],-1,-1])||Ye):Ye=function(Xe,Ke,Ve){var Je=function(ct,st,je){ae(null,[Ke[ct],Ke[st],Ke[je]],[Ve[ct],Ve[st],Ve[je]])};Je(0,1,2),Je(2,3,0)}(0,[At,Rt,Ft,Dt],[-1,-1,-1,-1])||Ye,ot=!0}}),ot||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(yt){if(ut[yt[0]]&&!ut[yt[1]]&&!ut[yt[2]]&&!ut[yt[3]]){var wt=et[yt[0]],bt=et[yt[1]],at=et[yt[2]],rt=et[yt[3]],At=ce(bt,wt,ze,Ge),Rt=ce(at,wt,ze,Ge),Ft=ce(rt,wt,ze,Ge);S?(Ye=ae(Re,[wt,At,Rt],[Ne[yt[0]],-1,-1])||Ye,Ye=ae(Re,[wt,Rt,Ft],[Ne[yt[0]],-1,-1])||Ye,Ye=ae(Re,[wt,Ft,At],[Ne[yt[0]],-1,-1])||Ye):Ye=ae(null,[At,Rt,Ft],[-1,-1,-1])||Ye,ot=!0}})),Ye}function Ae(Re,Ne,ze,Ge,Ye,et,ut,ot,yt,wt,bt){var at=!1;return p&&(ie(Re,"A")&&(at=me(null,[Ne,ze,Ge,et],wt,bt)||at),ie(Re,"B")&&(at=me(null,[ze,Ge,Ye,yt],wt,bt)||at),ie(Re,"C")&&(at=me(null,[ze,et,ut,yt],wt,bt)||at),ie(Re,"D")&&(at=me(null,[Ge,et,ot,yt],wt,bt)||at),ie(Re,"E")&&(at=me(null,[ze,Ge,et,yt],wt,bt)||at)),S&&(at=me(Re,[ze,Ge,et,yt],wt,bt)||at),at}function ke(Re,Ne,ze,Ge,Ye,et,ut,ot){return[ot[0]===!0||ye(Re,be([Ne,ze,Ge]),[Ne,ze,Ge],et,ut),ot[1]===!0||ye(Re,be([Ge,Ye,Ne]),[Ge,Ye,Ne],et,ut)]}function fe(Re,Ne,ze,Ge,Ye,et,ut,ot,yt){return ot?ke(Re,Ne,ze,Ye,Ge,et,ut,yt):ke(Re,ze,Ye,Ge,Ne,et,ut,yt)}function le(Re,Ne,ze,Ge,Ye,et,ut){var ot,yt,wt,bt,at=!1,rt=function(){at=ye(Re,[ot,yt,wt],[-1,-1,-1],Ye,et)||at,at=ye(Re,[wt,bt,ot],[-1,-1,-1],Ye,et)||at},At=ut[0],Rt=ut[1],Ft=ut[2];return At&&(ot=J(be([j(Ne,ze-0,Ge-0)])[0],be([j(Ne-1,ze-0,Ge-0)])[0],At),yt=J(be([j(Ne,ze-0,Ge-1)])[0],be([j(Ne-1,ze-0,Ge-1)])[0],At),wt=J(be([j(Ne,ze-1,Ge-1)])[0],be([j(Ne-1,ze-1,Ge-1)])[0],At),bt=J(be([j(Ne,ze-1,Ge-0)])[0],be([j(Ne-1,ze-1,Ge-0)])[0],At),rt()),Rt&&(ot=J(be([j(Ne-0,ze,Ge-0)])[0],be([j(Ne-0,ze-1,Ge-0)])[0],Rt),yt=J(be([j(Ne-0,ze,Ge-1)])[0],be([j(Ne-0,ze-1,Ge-1)])[0],Rt),wt=J(be([j(Ne-1,ze,Ge-1)])[0],be([j(Ne-1,ze-1,Ge-1)])[0],Rt),bt=J(be([j(Ne-1,ze,Ge-0)])[0],be([j(Ne-1,ze-1,Ge-0)])[0],Rt),rt()),Ft&&(ot=J(be([j(Ne-0,ze-0,Ge)])[0],be([j(Ne-0,ze-0,Ge-1)])[0],Ft),yt=J(be([j(Ne-0,ze-1,Ge)])[0],be([j(Ne-0,ze-1,Ge-1)])[0],Ft),wt=J(be([j(Ne-1,ze-1,Ge)])[0],be([j(Ne-1,ze-1,Ge-1)])[0],Ft),bt=J(be([j(Ne-1,ze-0,Ge)])[0],be([j(Ne-1,ze-0,Ge-1)])[0],Ft),rt()),at}function de(Re,Ne,ze,Ge,Ye,et,ut,ot,yt,wt,bt,at){var rt=Re;return at?(p&&Re==="even"&&(rt=null),Ae(rt,Ne,ze,Ge,Ye,et,ut,ot,yt,wt,bt)):(p&&Re==="odd"&&(rt=null),Ae(rt,yt,ot,ut,et,Ye,Ge,ze,Ne,wt,bt))}function Ce(Re,Ne,ze,Ge,Ye){for(var et=[],ut=0,ot=0;ot<Ne.length;ot++)for(var yt=Ne[ot],wt=1;wt<U;wt++)for(var bt=1;bt<R;bt++)et.push(fe(Re,j(yt,bt-1,wt-1),j(yt,bt-1,wt),j(yt,bt,wt-1),j(yt,bt,wt),ze,Ge,(yt+bt+wt)%2,Ye&&Ye[ut]?Ye[ut]:[])),ut++;return et}function Me(Re,Ne,ze,Ge,Ye){for(var et=[],ut=0,ot=0;ot<Ne.length;ot++)for(var yt=Ne[ot],wt=1;wt<I;wt++)for(var bt=1;bt<U;bt++)et.push(fe(Re,j(wt-1,yt,bt-1),j(wt,yt,bt-1),j(wt-1,yt,bt),j(wt,yt,bt),ze,Ge,(wt+yt+bt)%2,Ye&&Ye[ut]?Ye[ut]:[])),ut++;return et}function Le(Re,Ne,ze,Ge,Ye){for(var et=[],ut=0,ot=0;ot<Ne.length;ot++)for(var yt=Ne[ot],wt=1;wt<R;wt++)for(var bt=1;bt<I;bt++)et.push(fe(Re,j(bt-1,wt-1,yt),j(bt-1,wt,yt),j(bt,wt-1,yt),j(bt,wt,yt),ze,Ge,(bt+wt+yt)%2,Ye&&Ye[ut]?Ye[ut]:[])),ut++;return et}function Oe(Re,Ne,ze){for(var Ge=1;Ge<U;Ge++)for(var Ye=1;Ye<R;Ye++)for(var et=1;et<I;et++)de(Re,j(et-1,Ye-1,Ge-1),j(et-1,Ye-1,Ge),j(et-1,Ye,Ge-1),j(et-1,Ye,Ge),j(et,Ye-1,Ge-1),j(et,Ye-1,Ge),j(et,Ye,Ge-1),j(et,Ye,Ge),Ne,ze,(et+Ye+Ge)%2)}function Be(Re,Ne,ze,Ge,Ye,et){for(var ut=[],ot=0,yt=0;yt<Ne.length;yt++)for(var wt=Ne[yt],bt=1;bt<U;bt++)for(var at=1;at<R;at++)ut.push(le(Re,wt,at,bt,ze,Ge,Ye[yt],et&&et[ot]&&et[ot])),ot++;return ut}function pe(Re,Ne,ze,Ge,Ye,et){for(var ut=[],ot=0,yt=0;yt<Ne.length;yt++)for(var wt=Ne[yt],bt=1;bt<I;bt++)for(var at=1;at<U;at++)ut.push(le(Re,bt,wt,at,ze,Ge,Ye[yt],et&&et[ot]&&et[ot])),ot++;return ut}function _e(Re,Ne,ze,Ge,Ye,et){for(var ut=[],ot=0,yt=0;yt<Ne.length;yt++)for(var wt=Ne[yt],bt=1;bt<R;bt++)for(var at=1;at<I;at++)ut.push(le(Re,at,bt,wt,ze,Ge,Ye[yt],et&&et[ot]&&et[ot])),ot++;return ut}function Te(Re,Ne){for(var ze=[],Ge=Re;Ge<Ne;Ge++)ze.push(Ge);return ze}return function(){K(),function(){for(var yt=0;yt<I;yt++)for(var wt=0;wt<R;wt++)for(var bt=0;bt<U;bt++){var at=j(yt,wt,bt);X(l._x[at],l._y[at],l._z[at],l._value[at])}}();var Re=null;if(y&&T&&(ee(T),S=!0,Oe(Re,V,H),S=!1),m&&x){ee(x);for(var Ne=l.surface.pattern,ze=l.surface.count,Ge=0;Ge<ze;Ge++){var Ye=ze===1?.5:Ge/(ze-1),et=(1-Ye)*V+Ye*H,ut=Math.abs(et-W)>Math.abs(et-F)?[W,et]:[et,F];p=!0,Oe(Ne,ut[0],ut[1]),p=!1}}var ot=[[Math.min(V,F),Math.max(V,F)],[Math.min(W,H),Math.max(W,H)]];["x","y","z"].forEach(function(yt){for(var wt=[],bt=0;bt<ot.length;bt++){var at=0,rt=ot[bt][0],At=ot[bt][1],Rt=l.slices[yt];if(Rt.show&&Rt.fill){ee(Rt.fill);var Ft=[],Dt=[],Xe=[];if(Rt.locations.length)for(var Ke=0;Ke<Rt.locations.length;Ke++){var Ve=s(Rt.locations[Ke],yt==="x"?E:yt==="y"?P:O);Ve.distRatio===0?Ft.push(Ve.id):Ve.id>0&&(Dt.push(Ve.id),yt==="x"?Xe.push([Ve.distRatio,0,0]):yt==="y"?Xe.push([0,Ve.distRatio,0]):Xe.push([0,0,Ve.distRatio]))}else Ft=Te(1,yt==="x"?I-1:yt==="y"?R-1:U-1);Dt.length>0&&(wt[at]=yt==="x"?Be(Re,Dt,rt,At,Xe,wt[at]):yt==="y"?pe(Re,Dt,rt,At,Xe,wt[at]):_e(Re,Dt,rt,At,Xe,wt[at]),at++),Ft.length>0&&(wt[at]=yt==="x"?Ce(Re,Ft,rt,At,wt[at]):yt==="y"?Me(Re,Ft,rt,At,wt[at]):Le(Re,Ft,rt,At,wt[at]),at++)}var Je=l.caps[yt];Je.show&&Je.fill&&(ee(Je.fill),wt[at]=yt==="x"?Ce(Re,[0,I-1],rt,At,wt[at]):yt==="y"?Me(Re,[0,R-1],rt,At,wt[at]):Le(Re,[0,U-1],rt,At,wt[at]),at++)}}),M===0&&K(),l._meshX=h,l._meshY=c,l._meshZ=b,l._meshIntensity=d,l._Xs=E,l._Ys=P,l._Zs=O}(),l}B.exports={findNearestOnAxis:s,generateIsoMeshes:i,createIsosurfaceTrace:function(l,o){var u=l.glplot.gl,h=k({gl:u}),c=new t(l,h,o.uid);return h._trace=c,c.update(o),l.glplot.add(h),c}}},70548:function(B,L,e){var k=e(3400),w=e(24040),r=e(50048),_=e(27260);function v(f,s,t,a,n){var i=n("isomin"),l=n("isomax");l!=null&&i!=null&&i>l&&(s.isomin=null,s.isomax=null);var o=n("x"),u=n("y"),h=n("z"),c=n("value");o&&o.length&&u&&u.length&&h&&h.length&&c&&c.length?(w.getComponentMethod("calendars","handleTraceDefaults")(f,s,["x","y","z"],a),n("valuehoverformat"),["x","y","z"].forEach(function(b){n(b+"hoverformat");var d="caps."+b;n(d+".show")&&n(d+".fill");var g="slices."+b;n(g+".show")&&(n(g+".fill"),n(g+".locations"))}),n("spaceframe.show")&&n("spaceframe.fill"),n("surface.show")&&(n("surface.count"),n("surface.fill"),n("surface.pattern")),n("contour.show")&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(b){n(b)}),_(f,s,a,n,{prefix:"",cLetter:"c"}),s._length=null):s.visible=!1}B.exports={supplyDefaults:function(f,s,t,a){v(f,s,0,a,function(n,i){return k.coerce(f,s,r,n,i)})},supplyIsoDefaults:v}},6296:function(B,L,e){B.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(B,L,e){var k=e(49084),w=e(29736).axisHoverFormat,r=e(21776).Ks,_=e(16716),v=e(45464),f=e(92880).extendFlat;B.exports=f({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:r({editType:"calc"}),xhoverformat:w("x"),yhoverformat:w("y"),zhoverformat:w("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},k("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:_.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:f({},_.contours.x.show,{}),color:_.contours.x.color,width:_.contours.x.width,editType:"calc"},lightposition:{x:f({},_.lightposition.x,{dflt:1e5}),y:f({},_.lightposition.y,{dflt:1e5}),z:f({},_.lightposition.z,{dflt:0}),editType:"calc"},lighting:f({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},_.lighting),hoverinfo:f({},v.hoverinfo,{editType:"calc"}),showlegend:f({},v.showlegend,{dflt:!1})})},1876:function(B,L,e){var k=e(47128);B.exports=function(w,r){r.intensity&&k(w,r,{vals:r.intensity,containerStr:"",cLetter:"c"})}},576:function(B,L,e){var k=e(67792).gl_mesh3d,w=e(67792).delaunay_triangulate,r=e(67792).alpha_shape,_=e(67792).convex_hull,v=e(33040).parseColorScale,f=e(3400).isArrayOrTypedArray,s=e(43080),t=e(8932).extractOpts,a=e(52094);function n(c,b,d){this.scene=c,this.uid=d,this.mesh=b,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var i=n.prototype;function l(c){for(var b=[],d=c.length,g=0;g<d;g++)b[g]=s(c[g]);return b}function o(c,b,d,g){for(var m=[],y=b.length,x=0;x<y;x++)m[x]=c.d2l(b[x],0,g)*d;return m}function u(c){for(var b=[],d=c.length,g=0;g<d;g++)b[g]=Math.round(c[g]);return b}function h(c,b){for(var d=c.length,g=0;g<d;g++)if(c[g]<=-.5||c[g]>=b-.5)return!1;return!0}i.handlePick=function(c){if(c.object===this.mesh){var b=c.index=c.data.index;c.data._cellCenter?c.traceCoordinate=c.data.dataCoordinate:c.traceCoordinate=[this.data.x[b],this.data.y[b],this.data.z[b]];var d=this.data.hovertext||this.data.text;return f(d)&&d[b]!==void 0?c.textLabel=d[b]:d&&(c.textLabel=d),!0}},i.update=function(c){var b=this.scene,d=b.fullSceneLayout;this.data=c;var g,m=c.x.length,y=a(o(d.xaxis,c.x,b.dataScale[0],c.xcalendar),o(d.yaxis,c.y,b.dataScale[1],c.ycalendar),o(d.zaxis,c.z,b.dataScale[2],c.zcalendar));if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!h(c.i,m)||!h(c.j,m)||!h(c.k,m))return;g=a(u(c.i),u(c.j),u(c.k))}else g=c.alphahull===0?_(y):c.alphahull>0?r(c.alphahull,y):function(S,M){for(var E=["x","y","z"].indexOf(S),P=[],O=M.length,I=0;I<O;I++)P[I]=[M[I][(E+1)%3],M[I][(E+2)%3]];return w(P)}(c.delaunayaxis,y);var x={positions:y,cells:g,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:s(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var T=t(c);this.color="#fff";var p=c.intensitymode;x[p+"Intensity"]=c.intensity,x[p+"IntensityBounds"]=[T.min,T.max],x.colormap=v(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],x.vertexColors=l(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],x.cellColors=l(c.facecolor)):(this.color=c.color,x.meshColor=s(c.color));this.mesh.update(x)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},B.exports=function(c,b){var d=c.glplot.gl,g=k({gl:d}),m=new n(c,g,b.uid);return g._trace=m,m.update(b),c.glplot.add(g),m}},74212:function(B,L,e){var k=e(24040),w=e(3400),r=e(27260),_=e(52948);B.exports=function(v,f,s,t){function a(i,l){return w.coerce(v,f,_,i,l)}function n(i){var l=i.map(function(o){var u=a(o);return u&&w.isArrayOrTypedArray(u)?u:null});return l.every(function(o){return o&&o.length===l[0].length})&&l}n(["x","y","z"])?(n(["i","j","k"]),(!f.i||f.j&&f.k)&&(!f.j||f.k&&f.i)&&(!f.k||f.i&&f.j)?(k.getComponentMethod("calendars","handleTraceDefaults")(v,f,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(i){a(i)}),a("contour.show")&&(a("contour.color"),a("contour.width")),"intensity"in v?(a("intensity"),a("intensitymode"),r(v,f,t,a,{prefix:"",cLetter:"c"})):(f.showscale=!1,"facecolor"in v?a("facecolor"):"vertexcolor"in v?a("vertexcolor"):a("color",s)),a("text"),a("hovertext"),a("hovertemplate"),a("xhoverformat"),a("yhoverformat"),a("zhoverformat"),f._length=null):f.visible=!1):f.visible=!1}},7404:function(B,L,e){B.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(B,L,e){var k=e(3400).extendFlat,w=e(52904),r=e(29736).axisHoverFormat,_=e(98192).u,v=e(55756),f=e(48164),s=f.INCREASING.COLOR,t=f.DECREASING.COLOR,a=w.line;function n(i){return{line:{color:k({},a.color,{dflt:i}),width:a.width,dash:_,editType:"style"},editType:"style"}}B.exports={xperiod:w.xperiod,xperiod0:w.xperiod0,xperiodalignment:w.xperiodalignment,xhoverformat:r("x"),yhoverformat:r("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:k({},a.width,{}),dash:k({},_,{}),editType:"style"},increasing:n(s),decreasing:n(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:k({},v.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},42812:function(B,L,e){var k=e(3400),w=k._,r=e(54460),_=e(1220),v=e(39032).BADNUM;function f(t,a,n,i){return{o:t,h:a,l:n,c:i}}function s(t,a,n,i,l,o){for(var u=l.makeCalcdata(a,"open"),h=l.makeCalcdata(a,"high"),c=l.makeCalcdata(a,"low"),b=l.makeCalcdata(a,"close"),d=k.isArrayOrTypedArray(a.text),g=k.isArrayOrTypedArray(a.hovertext),m=!0,y=null,x=!!a.xperiodalignment,T=[],p=0;p<i.length;p++){var S=i[p],M=u[p],E=h[p],P=c[p],O=b[p];if(S!==v&&M!==v&&E!==v&&P!==v&&O!==v){O===M?y!==null&&O!==y&&(m=O>y):m=O>M,y=O;var I=o(M,E,P,O);I.pos=S,I.yc=(M+O)/2,I.i=p,I.dir=m?"increasing":"decreasing",I.x=I.pos,I.y=[P,E],x&&(I.orig_p=n[p]),d&&(I.tx=a.text[p]),g&&(I.htx=a.hovertext[p]),T.push(I)}else T.push({pos:S,empty:!0})}return a._extremes[l._id]=r.findExtremes(l,k.concat(c,h),{padded:!0}),T.length&&(T[0].t={labels:{open:w(t,"open:")+" ",high:w(t,"high:")+" ",low:w(t,"low:")+" ",close:w(t,"close:")+" "}}),T}B.exports={calc:function(t,a){var n=r.getFromId(t,a.xaxis),i=r.getFromId(t,a.yaxis),l=function(b,d,g){var m=g._minDiff;if(!m){var y,x=b._fullData,T=[];for(m=1/0,y=0;y<x.length;y++){var p=x[y];if(p.type==="ohlc"&&p.visible===!0&&p.xaxis===d._id){T.push(p);var S=d.makeCalcdata(p,"x");p._origX=S;var M=_(g,d,"x",S).vals;p._xcalc=M;var E=k.distinctVals(M).minDiff;E&&isFinite(E)&&(m=Math.min(m,E))}}for(m===1/0&&(m=1),y=0;y<T.length;y++)T[y]._minDiff=m}return m*g.tickwidth}(t,n,a),o=a._minDiff;a._minDiff=null;var u=a._origX;a._origX=null;var h=a._xcalc;a._xcalc=null;var c=s(t,a,u,h,i,f);return a._extremes[n._id]=r.findExtremes(n,h,{vpad:o/2}),c.length?(k.extendFlat(c[0].t,{wHover:o/2,tickLen:l}),c):[{t:{empty:!0}}]},calcCommon:s}},23860:function(B,L,e){var k=e(3400),w=e(52744),r=e(31147),_=e(20279);function v(f,s,t,a){t(a+".line.color"),t(a+".line.width",s.line.width),t(a+".line.dash",s.line.dash)}B.exports=function(f,s,t,a){function n(i,l){return k.coerce(f,s,_,i,l)}w(f,s,n,a)?(r(f,s,a,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),v(0,s,n,"increasing"),v(0,s,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),a._requestRangeslider[s.xaxis]=!0):s.visible=!1}},18720:function(B,L,e){var k=e(54460),w=e(3400),r=e(93024),_=e(76308),v=e(3400).fillText,f=e(48164),s={increasing:f.INCREASING.SYMBOL,decreasing:f.DECREASING.SYMBOL};function t(i,l,o,u){var h,c,b=i.cd,d=i.xa,g=b[0].trace,m=b[0].t,y=g.type,x=y==="ohlc"?"l":"min",T=y==="ohlc"?"h":"max",p=m.bPos||0,S=function(F){return F.pos+p-l},M=m.bdPos||m.tickLen,E=m.wHover,P=Math.min(1,M/Math.abs(d.r2c(d.range[1])-d.r2c(d.range[0])));function O(F){var V=S(F);return r.inbox(V-E,V+E,h)}function I(F){var V=F[x],H=F[T];return V===H||r.inbox(V-o,H-o,h)}function R(F){return(O(F)+I(F))/2}h=i.maxHoverDistance-P,c=i.maxSpikeDistance-P;var U=r.getDistanceFunction(u,O,I,R);if(r.getClosest(b,U,i),i.index===!1)return null;var z=b[i.index];if(z.empty)return null;var j=g[z.dir],W=j.line.color;return _.opacity(W)&&j.line.width?i.color=W:i.color=j.fillcolor,i.x0=d.c2p(z.pos+p-M,!0),i.x1=d.c2p(z.pos+p+M,!0),i.xLabelVal=z.orig_p!==void 0?z.orig_p:z.pos,i.spikeDistance=R(z)*c/h,i.xSpike=d.c2p(z.pos,!0),i}function a(i,l,o,u){var h=i.cd,c=i.ya,b=h[0].trace,d=h[0].t,g=[],m=t(i,l,o,u);if(!m)return[];var y=h[m.index].hi||b.hoverinfo,x=y.split("+");if(y!=="all"&&x.indexOf("y")===-1)return[];for(var T=["high","open","close","low"],p={},S=0;S<T.length;S++){var M,E=T[S],P=b[E][m.index],O=c.c2p(P,!0);P in p?(M=p[P]).yLabel+="<br>"+d.labels[E]+k.hoverLabelText(c,P,b.yhoverformat):((M=w.extendFlat({},m)).y0=M.y1=O,M.yLabelVal=P,M.yLabel=d.labels[E]+k.hoverLabelText(c,P,b.yhoverformat),M.name="",g.push(M),p[P]=M)}return g}function n(i,l,o,u){var h=i.cd,c=i.ya,b=h[0].trace,d=h[0].t,g=t(i,l,o,u);if(!g)return[];var m=h[g.index],y=g.index=m.i,x=m.dir;function T(I){return d.labels[I]+k.hoverLabelText(c,b[I][y],b.yhoverformat)}var p=m.hi||b.hoverinfo,S=p.split("+"),M=p==="all",E=M||S.indexOf("y")!==-1,P=M||S.indexOf("text")!==-1,O=E?[T("open"),T("high"),T("low"),T("close")+"  "+s[x]]:[];return P&&v(m,b,O),g.extraText=O.join("<br>"),g.y0=g.y1=c.c2p(m.yc,!0),[g]}B.exports={hoverPoints:function(i,l,o,u){return i.cd[0].trace.hoverlabel.split?a(i,l,o,u):n(i,l,o,u)},hoverSplit:a,hoverOnPoints:n}},65456:function(B,L,e){B.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(B,L,e){var k=e(24040),w=e(3400);B.exports=function(r,_,v,f){var s=v("x"),t=v("open"),a=v("high"),n=v("low"),i=v("close");if(v("hoverlabel.split"),k.getComponentMethod("calendars","handleTraceDefaults")(r,_,["x"],f),t&&a&&n&&i){var l=Math.min(t.length,a.length,n.length,i.length);return s&&(l=Math.min(l,w.minRowLength(s))),_._length=l,l}}},36664:function(B,L,e){var k=e(33428),w=e(3400);B.exports=function(r,_,v,f){var s=_.yaxis,t=_.xaxis,a=!!t.rangebreaks;w.makeTraceGroups(f,v,"trace ohlc").each(function(n){var i=k.select(this),l=n[0],o=l.t;if(l.trace.visible!==!0||o.empty)i.remove();else{var u=o.tickLen,h=i.selectAll("path").data(w.identity);h.enter().append("path"),h.exit().remove(),h.attr("d",function(c){if(c.empty)return"M0,0Z";var b=t.c2p(c.pos-u,!0),d=t.c2p(c.pos+u,!0),g=a?(b+d)/2:t.c2p(c.pos,!0);return"M"+b+","+s.c2p(c.o,!0)+"H"+g+"M"+g+","+s.c2p(c.h,!0)+"V"+s.c2p(c.l,!0)+"M"+d+","+s.c2p(c.c,!0)+"H"+g})}})}},97384:function(B){B.exports=function(L,e){var k,w=L.cd,r=L.xaxis,_=L.yaxis,v=[],f=w[0].t.bPos||0;if(e===!1)for(k=0;k<w.length;k++)w[k].selected=0;else for(k=0;k<w.length;k++){var s=w[k];e.contains([r.c2p(s.pos+f),_.c2p(s.yc)],null,s.i,L)?(v.push({pointNumber:s.i,x:r.c2d(s.pos),y:_.c2d(s.yc)}),s.selected=1):s.selected=0}return v}},14008:function(B,L,e){var k=e(33428),w=e(43616),r=e(76308);B.exports=function(_,v,f){var s=f||k.select(_).selectAll("g.ohlclayer").selectAll("g.trace");s.style("opacity",function(t){return t[0].trace.opacity}),s.each(function(t){var a=t[0].trace;k.select(this).selectAll("path").each(function(n){if(!n.empty){var i=a[n.dir].line;k.select(this).style("fill","none").call(r.stroke,i.color).call(w.dashLine,i.dash,i.width).style("opacity",a.selectedpoints&&!n.selected?.3:1)}})})}},72140:function(B,L,e){var k=e(92880).extendFlat,w=e(45464),r=e(25376),_=e(49084),v=e(21776).Ks,f=e(86968).u,s=k({editType:"calc"},_("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:v({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});B.exports={domain:f({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:k({},w.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:v({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:r({editType:"calc"}),tickfont:r({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:s,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(B,L,e){var k=e(84888)._M,w=e(60268),r="parcats";L.name=r,L.plot=function(_,v,f,s){var t=k(_.calcdata,r);if(t.length){var a=t[0];w(_,a,f,s)}},L.clean=function(_,v,f,s){var t=s._has&&s._has("parcats"),a=v._has&&v._has("parcats");t&&!a&&s._paperdiv.selectAll(".parcats").remove()}},69136:function(B,L,e){var k=e(71688).wrap,w=e(94288).hasColorscale,r=e(47128),_=e(68944),v=e(43616),f=e(3400),s=e(38248);function t(i,l,o){i.valueInds.push(l),i.count+=o}function a(i,l,o){return{categoryInds:i,color:l,rawColor:o,valueInds:[],count:0}}function n(i,l,o){i.valueInds.push(l),i.count+=o}B.exports=function(i,l){var o=f.filterVisible(l.dimensions);if(o.length===0)return[];var u,h,c,b=o.map(function(H){var te;if(H.categoryorder==="trace")te=null;else if(H.categoryorder==="array")te=H.categoryarray;else{te=_(H.values);for(var Q=!0,K=0;K<te.length;K++)if(!s(te[K])){Q=!1;break}te.sort(Q?f.sorterAsc:void 0),H.categoryorder==="category descending"&&(te=te.reverse())}return function(X,J){J=J==null?[]:J.map(function(be){return be});var ee={},ie={},oe=[];J.forEach(function(be,we){ee[be]=0,ie[be]=we});for(var ae=0;ae<X.length;ae++){var ce,ge=X[ae];ee[ge]===void 0?(ee[ge]=1,ce=J.push(ge)-1,ie[ge]=ce):(ee[ge]++,ce=ie[ge]),oe.push(ce)}var ve=J.map(function(be){return ee[be]});return{uniqueValues:J,uniqueCounts:ve,inds:oe}}(H.values,te)});u=f.isArrayOrTypedArray(l.counts)?l.counts:[l.counts],function(H){var te,Q=H.map(function(K){return K.displayindex});if(function(K){for(var X=new Array(K.length),J=0;J<K.length;J++){if(K[J]<0||K[J]>=K.length||X[K[J]]!==void 0)return!1;X[K[J]]=!0}return!0}(Q))for(te=0;te<H.length;te++)H[te]._displayindex=H[te].displayindex;else for(te=0;te<H.length;te++)H[te]._displayindex=te}(o),o.forEach(function(H,te){(function(Q,K){Q._categoryarray=K.uniqueValues,Q.ticktext===null||Q.ticktext===void 0?Q._ticktext=[]:Q._ticktext=Q.ticktext.slice();for(var X=Q._ticktext.length;X<K.uniqueValues.length;X++)Q._ticktext.push(K.uniqueValues[X])})(H,b[te])});var d,g=l.line;g?(w(l,"line")&&r(i,l,{vals:l.line.color,containerStr:"line",cLetter:"c"}),d=v.tryColorscale(g)):d=f.identity;var m,y,x,T,p,S=o[0].values.length,M={},E=b.map(function(H){return H.inds});for(c=0,m=0;m<S;m++){var P=[];for(y=0;y<E.length;y++)P.push(E[y][m]);h=u[m%u.length],c+=h;var O=(x=m,T=void 0,p=void 0,f.isArrayOrTypedArray(g.color)?p=T=g.color[x%g.color.length]:T=g.color,{color:d(T),rawColor:p}),I=P+"-"+O.rawColor;M[I]===void 0&&(M[I]=a(P,O.color,O.rawColor)),n(M[I],m,h)}var R,U=o.map(function(H,te){return function(Q,K,X,J,ee){return{dimensionInd:Q,containerInd:K,displayInd:X,dimensionLabel:J,count:ee,categories:[],dragX:null}}(te,H._index,H._displayindex,H.label,c)});for(m=0;m<S;m++)for(h=u[m%u.length],y=0;y<U.length;y++){var z=U[y].containerInd,j=b[y].inds[m],W=U[y].categories;if(W[j]===void 0){var F=l.dimensions[z]._categoryarray[j],V=l.dimensions[z]._ticktext[j];W[j]={dimensionInd:y,categoryInd:R=j,categoryValue:F,displayInd:R,categoryLabel:V,valueInds:[],count:0,dragY:null}}t(W[j],m,h)}return k(function(H,te,Q){var K=H.map(function(X){return X.categories.length}).reduce(function(X,J){return Math.max(X,J)});return{dimensions:H,paths:te,trace:void 0,maxCats:K,count:Q}}(U,M,c))}},76671:function(B,L,e){var k=e(3400),w=e(94288).hasColorscale,r=e(27260),_=e(86968).Q,v=e(51272),f=e(72140),s=e(26284),t=e(38116).isTypedArraySpec;function a(n,i){function l(g,m){return k.coerce(n,i,f.dimensions,g,m)}var o=l("values"),u=l("visible");if(o&&o.length||(u=i.visible=!1),u){l("label"),l("displayindex",i._index);var h,c=n.categoryarray,b=k.isArrayOrTypedArray(c)&&c.length>0||t(c);b&&(h="array");var d=l("categoryorder",h);d==="array"?(l("categoryarray"),l("ticktext")):(delete n.categoryarray,delete n.ticktext),b||d!=="array"||(i.categoryorder="trace")}}B.exports=function(n,i,l,o){function u(g,m){return k.coerce(n,i,f,g,m)}var h=v(n,i,{name:"dimensions",handleItemDefaults:a}),c=function(g,m,y,x,T){T("line.shape"),T("line.hovertemplate");var p=T("line.color",x.colorway[0]);if(w(g,"line")&&k.isArrayOrTypedArray(p)){if(p.length)return T("line.colorscale"),r(g,m,x,T,{prefix:"line.",cLetter:"c"}),p.length;m.line.color=y}return 1/0}(n,i,l,o,u);_(i,o,u),Array.isArray(h)&&h.length||(i.visible=!1),s(i,h,"values",c),u("hoveron"),u("hovertemplate"),u("arrangement"),u("bundlecolors"),u("sortpaths"),u("counts");var b={family:o.font.family,size:Math.round(o.font.size),color:o.font.color};k.coerceFont(u,"labelfont",b);var d={family:o.font.family,size:Math.round(o.font.size/1.2),color:o.font.color};k.coerceFont(u,"tickfont",d)}},22020:function(B,L,e){B.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(B,L,e){var k=e(33428),w=e(67756).Gz,r=e(36424),_=e(93024),v=e(3400),f=v.strTranslate,s=e(43616),t=e(49760),a=e(72736);function n(Q,K,X,J){var ee=K._context.staticPlot,ie=Q.map(W.bind(0,K,X)),oe=J.selectAll("g.parcatslayer").data([null]);oe.enter().append("g").attr("class","parcatslayer").style("pointer-events",ee?"none":"all");var ae=oe.selectAll("g.trace.parcats").data(ie,i),ce=ae.enter().append("g").attr("class","trace parcats");ae.attr("transform",function(fe){return f(fe.x,fe.y)}),ce.append("g").attr("class","paths");var ge=ae.select("g.paths").selectAll("path.path").data(function(fe){return fe.paths},i);ge.attr("fill",function(fe){return fe.model.color});var ve=ge.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(fe){return fe.model.color}).attr("fill-opacity",0);g(ve),ge.attr("d",function(fe){return fe.svgD}),ve.empty()||ge.sort(o),ge.exit().remove(),ge.on("mouseover",u).on("mouseout",h).on("click",d),ce.append("g").attr("class","dimensions");var be=ae.select("g.dimensions").selectAll("g.dimension").data(function(fe){return fe.dimensions},i);be.enter().append("g").attr("class","dimension"),be.attr("transform",function(fe){return f(fe.x,0)}),be.exit().remove();var we=be.selectAll("g.category").data(function(fe){return fe.categories},i),ye=we.enter().append("g").attr("class","category");we.attr("transform",function(fe){return f(0,fe.y)}),ye.append("rect").attr("class","catrect").attr("pointer-events","none"),we.select("rect.catrect").attr("fill","none").attr("width",function(fe){return fe.width}).attr("height",function(fe){return fe.height}),y(ye);var me=we.selectAll("rect.bandrect").data(function(fe){return fe.bands},i);me.each(function(){v.raiseToTop(this)}),me.attr("fill",function(fe){return fe.color});var Ae=me.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(fe){return fe.color}).attr("fill-opacity",0);me.attr("fill",function(fe){return fe.color}).attr("width",function(fe){return fe.width}).attr("height",function(fe){return fe.height}).attr("y",function(fe){return fe.y}).attr("cursor",function(fe){return fe.parcatsViewModel.arrangement==="fixed"?"default":fe.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),x(Ae),me.exit().remove(),ye.append("text").attr("class","catlabel").attr("pointer-events","none");var ke=K._fullLayout.paper_bgcolor;we.select("text.catlabel").attr("text-anchor",function(fe){return l(fe)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",a.makeTextShadow(ke)).style("fill","rgb(0, 0, 0)").attr("x",function(fe){return l(fe)?fe.width+5:-5}).attr("y",function(fe){return fe.height/2}).text(function(fe){return fe.model.categoryLabel}).each(function(fe){s.font(k.select(this),fe.parcatsViewModel.categorylabelfont),a.convertToTspans(k.select(this),K)}),ye.append("text").attr("class","dimlabel"),we.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(fe){return fe.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(fe){return fe.width/2}).attr("y",-5).text(function(fe,le){return le===0?fe.parcatsViewModel.model.dimensions[fe.model.dimensionInd].dimensionLabel:null}).each(function(fe){s.font(k.select(this),fe.parcatsViewModel.labelfont)}),we.selectAll("rect.bandrect").on("mouseover",E).on("mouseout",P),we.exit().remove(),be.call(k.behavior.drag().origin(function(fe){return{x:fe.x,y:0}}).on("dragstart",O).on("drag",I).on("dragend",R)),ae.each(function(fe){fe.traceSelection=k.select(this),fe.pathSelection=k.select(this).selectAll("g.paths").selectAll("path.path"),fe.dimensionSelection=k.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),ae.exit().remove()}function i(Q){return Q.key}function l(Q){var K=Q.parcatsViewModel.dimensions.length,X=Q.parcatsViewModel.dimensions[K-1].model.dimensionInd;return Q.model.dimensionInd===X}function o(Q,K){return Q.model.rawColor>K.model.rawColor?1:Q.model.rawColor<K.model.rawColor?-1:0}function u(Q){if(!Q.parcatsViewModel.dragDimension&&Q.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){v.raiseToTop(this),m(k.select(this));var K=c(Q),X=b(Q);if(Q.parcatsViewModel.graphDiv.emit("plotly_hover",{points:K,event:k.event,constraints:X}),Q.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var J,ee,ie,oe=k.mouse(this)[0],ae=Q.parcatsViewModel.graphDiv,ce=Q.parcatsViewModel.trace,ge=ae._fullLayout,ve=ge._paperdiv.node().getBoundingClientRect(),be=Q.parcatsViewModel.graphDiv.getBoundingClientRect();for(ie=0;ie<Q.leftXs.length-1;ie++)if(Q.leftXs[ie]+Q.dimWidths[ie]-2<=oe&&oe<=Q.leftXs[ie+1]+2){var we=Q.parcatsViewModel.dimensions[ie],ye=Q.parcatsViewModel.dimensions[ie+1];J=(we.x+we.width+ye.x)/2,ee=(Q.topYs[ie]+Q.topYs[ie+1]+Q.height)/2;break}var me=Q.parcatsViewModel.x+J,Ae=Q.parcatsViewModel.y+ee,ke=t.mostReadable(Q.model.color,["black","white"]),fe=Q.model.count,le=fe/Q.parcatsViewModel.model.count,de={countLabel:fe,probabilityLabel:le.toFixed(3)},Ce=[];Q.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Ce.push(["Count:",de.countLabel].join(" ")),Q.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Ce.push(["P:",de.probabilityLabel].join(" "));var Me=Ce.join("<br>"),Le=k.mouse(ae)[0];_.loneHover({trace:ce,x:me-ve.left+be.left,y:Ae-ve.top+be.top,text:Me,color:Q.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:ke,idealAlign:Le<me?"right":"left",hovertemplate:(ce.line||{}).hovertemplate,hovertemplateLabels:de,eventData:[{data:ce._input,fullData:ce,count:fe,probability:le}]},{container:ge._hoverlayer.node(),outerContainer:ge._paper.node(),gd:ae})}}}function h(Q){if(!Q.parcatsViewModel.dragDimension&&(g(k.select(this)),_.loneUnhover(Q.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),Q.parcatsViewModel.pathSelection.sort(o),Q.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var K=c(Q),X=b(Q);Q.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:K,event:k.event,constraints:X})}}function c(Q){for(var K=[],X=U(Q.parcatsViewModel),J=0;J<Q.model.valueInds.length;J++){var ee=Q.model.valueInds[J];K.push({curveNumber:X,pointNumber:ee})}return K}function b(Q){for(var K={},X=Q.parcatsViewModel.model.dimensions,J=0;J<X.length;J++){var ee=X[J],ie=ee.categories[Q.model.categoryInds[J]];K[ee.containerInd]=ie.categoryValue}return Q.model.rawColor!==void 0&&(K.color=Q.model.rawColor),K}function d(Q){if(Q.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var K=c(Q),X=b(Q);Q.parcatsViewModel.graphDiv.emit("plotly_click",{points:K,event:k.event,constraints:X})}}function g(Q){Q.attr("fill",function(K){return K.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function m(Q){Q.attr("fill-opacity",.8).attr("stroke",function(K){return t.mostReadable(K.model.color,["black","white"])}).attr("stroke-width",.3)}function y(Q){Q.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function x(Q){Q.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function T(Q){var K=Q.parcatsViewModel.pathSelection,X=Q.categoryViewModel.model.dimensionInd,J=Q.categoryViewModel.model.categoryInd;return K.filter(function(ee){return ee.model.categoryInds[X]===J&&ee.model.color===Q.color})}function p(Q,K,X){var J=k.select(Q).datum(),ee=J.categoryViewModel.model,ie=J.parcatsViewModel.graphDiv,oe=k.select(Q.parentNode).selectAll("rect.bandrect"),ae=[];oe.each(function(ge){T(ge).each(function(ve){Array.prototype.push.apply(ae,c(ve))})});var ce={};ce[ee.dimensionInd]=ee.categoryValue,ie.emit(K,{points:ae,event:X,constraints:ce})}function S(Q,K,X){var J=k.select(Q).datum(),ee=J.categoryViewModel.model,ie=J.parcatsViewModel.graphDiv,oe=T(J),ae=[];oe.each(function(ge){Array.prototype.push.apply(ae,c(ge))});var ce={};ce[ee.dimensionInd]=ee.categoryValue,J.rawColor!==void 0&&(ce.color=J.rawColor),ie.emit(K,{points:ae,event:X,constraints:ce})}function M(Q,K,X){Q._fullLayout._calcInverseTransform(Q);var J,ee,ie=Q._fullLayout._invScaleX,oe=Q._fullLayout._invScaleY,ae=k.select(X.parentNode).select("rect.catrect"),ce=ae.node().getBoundingClientRect(),ge=ae.datum(),ve=ge.parcatsViewModel,be=ve.model.dimensions[ge.model.dimensionInd],we=ve.trace,ye=ce.top+ce.height/2;ve.dimensions.length>1&&be.displayInd===ve.dimensions.length-1?(J=ce.left,ee="left"):(J=ce.left+ce.width,ee="right");var me=ge.model.count,Ae=ge.model.categoryLabel,ke=me/ge.parcatsViewModel.model.count,fe={countLabel:me,categoryLabel:Ae,probabilityLabel:ke.toFixed(3)},le=[];ge.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&le.push(["Count:",fe.countLabel].join(" ")),ge.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&le.push(["P("+fe.categoryLabel+"):",fe.probabilityLabel].join(" "));var de=le.join("<br>");return{trace:we,x:ie*(J-K.left),y:oe*(ye-K.top),text:de,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:ee,hovertemplate:we.hovertemplate,hovertemplateLabels:fe,eventData:[{data:we._input,fullData:we,count:me,category:Ae,probability:ke}]}}function E(Q){if(!Q.parcatsViewModel.dragDimension&&Q.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){if(k.mouse(this)[1]<-1)return;var K,X=Q.parcatsViewModel.graphDiv,J=X._fullLayout,ee=J._paperdiv.node().getBoundingClientRect(),ie=Q.parcatsViewModel.hoveron,oe=this;ie==="color"?(function(ae){var ce=k.select(ae).datum(),ge=T(ce);m(ge),ge.each(function(){v.raiseToTop(this)}),k.select(ae.parentNode).selectAll("rect.bandrect").filter(function(ve){return ve.color===ce.color}).each(function(){v.raiseToTop(this),k.select(this).attr("stroke","black").attr("stroke-width",1.5)})}(oe),S(oe,"plotly_hover",k.event)):(function(ae){k.select(ae.parentNode).selectAll("rect.bandrect").each(function(ce){var ge=T(ce);m(ge),ge.each(function(){v.raiseToTop(this)})}),k.select(ae.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(oe),p(oe,"plotly_hover",k.event)),Q.parcatsViewModel.hoverinfoItems.indexOf("none")===-1&&(ie==="category"?K=M(X,ee,oe):ie==="color"?K=function(ae,ce,ge){ae._fullLayout._calcInverseTransform(ae);var ve,be,we=ae._fullLayout._invScaleX,ye=ae._fullLayout._invScaleY,me=ge.getBoundingClientRect(),Ae=k.select(ge).datum(),ke=Ae.categoryViewModel,fe=ke.parcatsViewModel,le=fe.model.dimensions[ke.model.dimensionInd],de=fe.trace,Ce=me.y+me.height/2;fe.dimensions.length>1&&le.displayInd===fe.dimensions.length-1?(ve=me.left,be="left"):(ve=me.left+me.width,be="right");var Me=ke.model.categoryLabel,Le=Ae.parcatsViewModel.model.count,Oe=0;Ae.categoryViewModel.bands.forEach(function(et){et.color===Ae.color&&(Oe+=et.count)});var Be=ke.model.count,pe=0;fe.pathSelection.each(function(et){et.model.color===Ae.color&&(pe+=et.model.count)});var _e=Oe/Le,Te=Oe/pe,Re=Oe/Be,Ne={countLabel:Le,categoryLabel:Me,probabilityLabel:_e.toFixed(3)},ze=[];ke.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ze.push(["Count:",Ne.countLabel].join(" ")),ke.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(ze.push("P(color  "+Me+"): "+Ne.probabilityLabel),ze.push("P("+Me+" | color): "+Te.toFixed(3)),ze.push("P(color | "+Me+"): "+Re.toFixed(3)));var Ge=ze.join("<br>"),Ye=t.mostReadable(Ae.color,["black","white"]);return{trace:de,x:we*(ve-ce.left),y:ye*(Ce-ce.top),text:Ge,color:Ae.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:Ye,fontSize:10,idealAlign:be,hovertemplate:de.hovertemplate,hovertemplateLabels:Ne,eventData:[{data:de._input,fullData:de,category:Me,count:Le,probability:_e,categorycount:Be,colorcount:pe,bandcolorcount:Oe}]}}(X,ee,oe):ie==="dimension"&&(K=function(ae,ce,ge){var ve=[];return k.select(ge.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){ve.push(M(ae,ce,this))}),ve}(X,ee,oe)),K&&_.loneHover(K,{container:J._hoverlayer.node(),outerContainer:J._paper.node(),gd:X}))}}function P(Q){var K=Q.parcatsViewModel;K.dragDimension||(g(K.pathSelection),y(K.dimensionSelection.selectAll("g.category")),x(K.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),_.loneUnhover(K.graphDiv._fullLayout._hoverlayer.node()),K.pathSelection.sort(o),K.hoverinfoItems.indexOf("skip")!==-1)||(Q.parcatsViewModel.hoveron==="color"?S(this,"plotly_unhover",k.event):p(this,"plotly_unhover",k.event))}function O(Q){Q.parcatsViewModel.arrangement!=="fixed"&&(Q.dragDimensionDisplayInd=Q.model.displayInd,Q.initialDragDimensionDisplayInds=Q.parcatsViewModel.model.dimensions.map(function(K){return K.displayInd}),Q.dragHasMoved=!1,Q.dragCategoryDisplayInd=null,k.select(this).selectAll("g.category").select("rect.catrect").each(function(K){var X=k.mouse(this)[0],J=k.mouse(this)[1];-2<=X&&X<=K.width+2&&-2<=J&&J<=K.height+2&&(Q.dragCategoryDisplayInd=K.model.displayInd,Q.initialDragCategoryDisplayInds=Q.model.categories.map(function(ee){return ee.displayInd}),K.model.dragY=K.y,v.raiseToTop(this.parentNode),k.select(this.parentNode).selectAll("rect.bandrect").each(function(ee){ee.y<J&&J<=ee.y+ee.height&&(Q.potentialClickBand=this)}))}),Q.parcatsViewModel.dragDimension=Q,_.loneUnhover(Q.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function I(Q){if(Q.parcatsViewModel.arrangement!=="fixed"&&(Q.dragHasMoved=!0,Q.dragDimensionDisplayInd!==null)){var K=Q.dragDimensionDisplayInd,X=K-1,J=K+1,ee=Q.parcatsViewModel.dimensions[K];if(Q.dragCategoryDisplayInd!==null){var ie=ee.categories[Q.dragCategoryDisplayInd];ie.model.dragY+=k.event.dy;var oe=ie.model.dragY,ae=ie.model.displayInd,ce=ee.categories,ge=ce[ae-1],ve=ce[ae+1];ge!==void 0&&oe<ge.y+ge.height/2&&(ie.model.displayInd=ge.model.displayInd,ge.model.displayInd=ae),ve!==void 0&&oe+ie.height>ve.y+ve.height/2&&(ie.model.displayInd=ve.model.displayInd,ve.model.displayInd=ae),Q.dragCategoryDisplayInd=ie.model.displayInd}if(Q.dragCategoryDisplayInd===null||Q.parcatsViewModel.arrangement==="freeform"){ee.model.dragX=k.event.x;var be=Q.parcatsViewModel.dimensions[X],we=Q.parcatsViewModel.dimensions[J];be!==void 0&&ee.model.dragX<be.x+be.width&&(ee.model.displayInd=be.model.displayInd,be.model.displayInd=K),we!==void 0&&ee.model.dragX+ee.width>we.x&&(ee.model.displayInd=we.model.displayInd,we.model.displayInd=Q.dragDimensionDisplayInd),Q.dragDimensionDisplayInd=ee.model.displayInd}H(Q.parcatsViewModel),V(Q.parcatsViewModel),j(Q.parcatsViewModel),z(Q.parcatsViewModel)}}function R(Q){if(Q.parcatsViewModel.arrangement!=="fixed"&&Q.dragDimensionDisplayInd!==null){k.select(this).selectAll("text").attr("font-weight","normal");var K={},X=U(Q.parcatsViewModel),J=Q.parcatsViewModel.model.dimensions.map(function(ve){return ve.displayInd}),ee=Q.initialDragDimensionDisplayInds.some(function(ve,be){return ve!==J[be]});ee&&J.forEach(function(ve,be){var we=Q.parcatsViewModel.model.dimensions[be].containerInd;K["dimensions["+we+"].displayindex"]=ve});var ie=!1;if(Q.dragCategoryDisplayInd!==null){var oe=Q.model.categories.map(function(ve){return ve.displayInd});if(ie=Q.initialDragCategoryDisplayInds.some(function(ve,be){return ve!==oe[be]})){var ae=Q.model.categories.slice().sort(function(ve,be){return ve.displayInd-be.displayInd}),ce=ae.map(function(ve){return ve.categoryValue}),ge=ae.map(function(ve){return ve.categoryLabel});K["dimensions["+Q.model.containerInd+"].categoryarray"]=[ce],K["dimensions["+Q.model.containerInd+"].ticktext"]=[ge],K["dimensions["+Q.model.containerInd+"].categoryorder"]="array"}}Q.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!Q.dragHasMoved&&Q.potentialClickBand&&(Q.parcatsViewModel.hoveron==="color"?S(Q.potentialClickBand,"plotly_click",k.event.sourceEvent):p(Q.potentialClickBand,"plotly_click",k.event.sourceEvent)),Q.model.dragX=null,Q.dragCategoryDisplayInd!==null&&(Q.parcatsViewModel.dimensions[Q.dragDimensionDisplayInd].categories[Q.dragCategoryDisplayInd].model.dragY=null,Q.dragCategoryDisplayInd=null),Q.dragDimensionDisplayInd=null,Q.parcatsViewModel.dragDimension=null,Q.dragHasMoved=null,Q.potentialClickBand=null,H(Q.parcatsViewModel),V(Q.parcatsViewModel),k.transition().duration(300).ease("cubic-in-out").each(function(){j(Q.parcatsViewModel,!0),z(Q.parcatsViewModel,!0)}).each("end",function(){(ee||ie)&&r.restyle(Q.parcatsViewModel.graphDiv,K,[X])})}}function U(Q){for(var K,X=Q.graphDiv._fullData,J=0;J<X.length;J++)if(Q.key===X[J].uid){K=J;break}return K}function z(Q,K){var X;K===void 0&&(K=!1),Q.pathSelection.data(function(J){return J.paths},i),(X=Q.pathSelection,K?X.transition():X).attr("d",function(J){return J.svgD})}function j(Q,K){function X(oe){return K?oe.transition():oe}K===void 0&&(K=!1),Q.dimensionSelection.data(function(oe){return oe.dimensions},i);var J=Q.dimensionSelection.selectAll("g.category").data(function(oe){return oe.categories},i);X(Q.dimensionSelection).attr("transform",function(oe){return f(oe.x,0)}),X(J).attr("transform",function(oe){return f(0,oe.y)}),J.select(".dimlabel").text(function(oe,ae){return ae===0?oe.parcatsViewModel.model.dimensions[oe.model.dimensionInd].dimensionLabel:null}),J.select(".catlabel").attr("text-anchor",function(oe){return l(oe)?"start":"end"}).attr("x",function(oe){return l(oe)?oe.width+5:-5}).each(function(oe){var ae,ce;l(oe)?(ae=oe.width+5,ce="start"):(ae=-5,ce="end"),k.select(this).selectAll("tspan").attr("x",ae).attr("text-anchor",ce)});var ee=J.selectAll("rect.bandrect").data(function(oe){return oe.bands},i),ie=ee.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(oe){return oe.color}).attr("fill-opacity",0);ee.attr("fill",function(oe){return oe.color}).attr("width",function(oe){return oe.width}).attr("height",function(oe){return oe.height}).attr("y",function(oe){return oe.y}),x(ie),ee.each(function(){v.raiseToTop(this)}),ee.exit().remove()}function W(Q,K,X){var J,ee=X[0],ie=K.margin||{l:80,r:80,t:100,b:80},oe=ee.trace,ae=oe.domain,ce=K.width,ge=K.height,ve=Math.floor(ce*(ae.x[1]-ae.x[0])),be=Math.floor(ge*(ae.y[1]-ae.y[0])),we=ae.x[0]*ce+ie.l,ye=K.height-ae.y[1]*K.height+ie.t,me=oe.line.shape;J=oe.hoverinfo==="all"?["count","probability"]:(oe.hoverinfo||"").split("+");var Ae={trace:oe,key:oe.uid,model:ee,x:we,y:ye,width:ve,height:be,hoveron:oe.hoveron,hoverinfoItems:J,arrangement:oe.arrangement,bundlecolors:oe.bundlecolors,sortpaths:oe.sortpaths,labelfont:oe.labelfont,categorylabelfont:oe.tickfont,pathShape:me,dragDimension:null,margin:ie,paths:[],dimensions:[],graphDiv:Q,traceSelection:null,pathSelection:null,dimensionSelection:null};return ee.dimensions&&(H(Ae),V(Ae)),Ae}function F(Q,K,X,J,ee){var ie,oe,ae=[],ce=[];for(oe=0;oe<X.length-1;oe++)ie=w(X[oe]+Q[oe],Q[oe+1]),ae.push(ie(ee)),ce.push(ie(1-ee));var ge="M "+Q[0]+","+K[0];for(ge+="l"+X[0]+",0 ",oe=1;oe<X.length;oe++)ge+="C"+ae[oe-1]+","+K[oe-1]+" "+ce[oe-1]+","+K[oe]+" "+Q[oe]+","+K[oe],ge+="l"+X[oe]+",0 ";for(ge+="l0,"+J+" ",ge+="l -"+X[X.length-1]+",0 ",oe=X.length-2;oe>=0;oe--)ge+="C"+ce[oe]+","+(K[oe+1]+J)+" "+ae[oe]+","+(K[oe]+J)+" "+(Q[oe]+X[oe])+","+(K[oe]+J),ge+="l-"+X[oe]+",0 ";return ge+"Z"}function V(Q){var K=Q.dimensions,X=Q.model,J=K.map(function(Ne){return Ne.categories.map(function(ze){return ze.y})}),ee=Q.model.dimensions.map(function(Ne){return Ne.categories.map(function(ze){return ze.displayInd})}),ie=Q.model.dimensions.map(function(Ne){return Ne.displayInd}),oe=Q.dimensions.map(function(Ne){return Ne.model.dimensionInd}),ae=K.map(function(Ne){return Ne.x}),ce=K.map(function(Ne){return Ne.width}),ge=[];for(var ve in X.paths)X.paths.hasOwnProperty(ve)&&ge.push(X.paths[ve]);function be(Ne){var ze=Ne.categoryInds.map(function(Ge,Ye){return ee[Ye][Ge]});return oe.map(function(Ge){return ze[Ge]})}ge.sort(function(Ne,ze){var Ge=be(Ne),Ye=be(ze);return Q.sortpaths==="backward"&&(Ge.reverse(),Ye.reverse()),Ge.push(Ne.valueInds[0]),Ye.push(ze.valueInds[0]),Q.bundlecolors&&(Ge.unshift(Ne.rawColor),Ye.unshift(ze.rawColor)),Ge<Ye?-1:Ge>Ye?1:0});for(var we=new Array(ge.length),ye=K[0].model.count,me=K[0].categories.map(function(Ne){return Ne.height}).reduce(function(Ne,ze){return Ne+ze}),Ae=0;Ae<ge.length;Ae++){var ke,fe=ge[Ae];ke=ye>0?me*(fe.count/ye):0;for(var le,de=new Array(J.length),Ce=0;Ce<fe.categoryInds.length;Ce++){var Me=fe.categoryInds[Ce],Le=ee[Ce][Me],Oe=ie[Ce];de[Oe]=J[Oe][Le],J[Oe][Le]+=ke;var Be=Q.dimensions[Oe].categories[Le],pe=Be.bands.length,_e=Be.bands[pe-1];if(_e===void 0||fe.rawColor!==_e.rawColor){var Te=_e===void 0?0:_e.y+_e.height;Be.bands.push({key:Te,color:fe.color,rawColor:fe.rawColor,height:ke,width:Be.width,count:fe.count,y:Te,categoryViewModel:Be,parcatsViewModel:Q})}else{var Re=Be.bands[pe-1];Re.height+=ke,Re.count+=fe.count}}le=Q.pathShape==="hspline"?F(ae,de,ce,ke,.5):F(ae,de,ce,ke,0),we[Ae]={key:fe.valueInds[0],model:fe,height:ke,leftXs:ae,topYs:de,dimWidths:ce,svgD:le,parcatsViewModel:Q}}Q.paths=we}function H(Q){var K=Q.model.dimensions.map(function(oe){return{displayInd:oe.displayInd,dimensionInd:oe.dimensionInd}});K.sort(function(oe,ae){return oe.displayInd-ae.displayInd});var X=[];for(var J in K){var ee=K[J].dimensionInd,ie=Q.model.dimensions[ee];X.push(te(Q,ie))}Q.dimensions=X}function te(Q,K){var X,J=Q.model.dimensions.length,ee=K.displayInd;X=40+(J>1?(Q.width-80-16)/(J-1):0)*ee;var ie,oe,ae,ce,ge,ve=[],be=Q.model.maxCats,we=K.categories.length,ye=K.count,me=Q.height-8*(be-1),Ae=8*(be-we)/2,ke=K.categories.map(function(fe){return{displayInd:fe.displayInd,categoryInd:fe.categoryInd}});for(ke.sort(function(fe,le){return fe.displayInd-le.displayInd}),ge=0;ge<we;ge++)ce=ke[ge].categoryInd,oe=K.categories[ce],ie=ye>0?oe.count/ye*me:0,ae={key:oe.valueInds[0],model:oe,width:16,height:ie,y:oe.dragY!==null?oe.dragY:Ae,bands:[],parcatsViewModel:Q},Ae=Ae+ie+8,ve.push(ae);return{key:K.dimensionInd,x:K.dragX!==null?K.dragX:X,y:0,width:16,model:K,categories:ve,parcatsViewModel:Q,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}B.exports=function(Q,K,X,J){n(X,Q,J,K)}},60268:function(B,L,e){var k=e(51036);B.exports=function(w,r,_,v){var f=w._fullLayout,s=f._paper,t=f._size;k(w,s,r,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},_,v)}},82296:function(B,L,e){var k=e(49084),w=e(94724),r=e(25376),_=e(86968).u,v=e(92880).extendFlat,f=e(31780).templatedArray;B.exports={domain:_({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:r({editType:"plot"}),tickfont:r({editType:"plot"}),rangefont:r({editType:"plot"}),dimensions:f("dimension",{label:{valType:"string",editType:"plot"},tickvals:v({},w.tickvals,{editType:"plot"}),ticktext:v({},w.ticktext,{editType:"plot"}),tickformat:v({},w.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:v({editType:"calc"},k("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(B,L,e){var k=e(30140),w=e(33428),r=e(71688).keyFun,_=e(71688).repeat,v=e(3400).sorterAsc,f=e(3400).strTranslate,s=k.bar.snapRatio;function t(M,E){return M*(1-s)+E*s}var a=k.bar.snapClose;function n(M,E){return M*(1-a)+E*a}function i(M,E,P,O){if(function(te,Q){for(var K=0;K<Q.length;K++)if(te>=Q[K][0]&&te<=Q[K][1])return!0;return!1}(P,O))return P;var I=M?-1:1,R=0,U=E.length-1;if(I<0){var z=R;R=U,U=z}for(var j=E[R],W=j,F=R;I*F<I*U;F+=I){var V=F+I,H=E[V];if(I*P<I*n(j,H))return t(j,W);if(I*P<I*H||V===U)return t(H,j);W=j,j=H}}function l(M){M.attr("x",-k.bar.captureWidth/2).attr("width",k.bar.captureWidth)}function o(M){M.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function u(M){if(!M.brush.filterSpecified)return"0,"+M.height;for(var E,P,O,I=h(M.brush.filter.getConsolidated(),M.height),R=[0],U=I.length?I[0][0]:null,z=0;z<I.length;z++)P=(E=I[z])[1]-E[0],R.push(U),R.push(P),(O=z+1)<I.length&&(U=I[O][0]-E[1]);return R.push(M.height),R}function h(M,E){return M.map(function(P){return P.map(function(O){return Math.max(0,O*E)}).sort(v)})}function c(){w.select(document.body).style("cursor",null)}function b(M){M.attr("stroke-dasharray",u)}function d(M,E){var P=w.select(M).selectAll(".highlight, .highlight-shadow");b(E?P.transition().duration(k.bar.snapDuration).each("end",E):P)}function g(M,E){var P,O=M.brush,I=NaN,R={};if(O.filterSpecified){var U=M.height,z=O.filter.getConsolidated(),j=h(z,U),W=NaN,F=NaN,V=NaN;for(P=0;P<=j.length;P++){var H=j[P];if(H&&H[0]<=E&&E<=H[1]){W=P;break}if(F=P?P-1:NaN,H&&H[0]>E){V=P;break}}if(I=W,isNaN(I)&&(I=isNaN(F)||isNaN(V)?isNaN(F)?V:F:E-j[F][1]<j[V][0]-E?F:V),!isNaN(I)){var te=j[I],Q=function(ee,ie){var oe=k.bar.handleHeight;if(!(ie>ee[1]+oe||ie<ee[0]-oe))return ie>=.9*ee[1]+.1*ee[0]?"n":ie<=.9*ee[0]+.1*ee[1]?"s":"ns"}(te,E);Q&&(R.interval=z[I],R.intervalPix=te,R.region=Q)}}if(M.ordinal&&!R.region){var K=M.unitTickvals,X=M.unitToPaddedPx.invert(E);for(P=0;P<K.length;P++){var J=[.25*K[Math.max(P-1,0)]+.75*K[P],.25*K[Math.min(P+1,K.length-1)]+.75*K[P]];if(X>=J[0]&&X<=J[1]){R.clickableOrdinalRange=J;break}}}return R}function m(M,E){w.event.sourceEvent.stopPropagation();var P=E.height-w.mouse(M)[1]-2*k.verticalPadding,O=E.brush.svgBrush;O.wasDragged=!0,O._dragging=!0,O.grabbingBar?O.newExtent=[P-O.grabPoint,P+O.barLength-O.grabPoint].map(E.unitToPaddedPx.invert):O.newExtent=[O.startExtent,E.unitToPaddedPx.invert(P)].sort(v),E.brush.filterSpecified=!0,O.extent=O.stayingIntervals.concat([O.newExtent]),O.brushCallback(E),d(M.parentNode)}function y(M,E){var P=g(E,E.height-w.mouse(M)[1]-2*k.verticalPadding),O="crosshair";P.clickableOrdinalRange?O="pointer":P.region&&(O=P.region+"-resize"),w.select(document.body).style("cursor",O)}function x(M){M.on("mousemove",function(E){w.event.preventDefault(),E.parent.inBrushDrag||y(this,E)}).on("mouseleave",function(E){E.parent.inBrushDrag||c()}).call(w.behavior.drag().on("dragstart",function(E){(function(P,O){w.event.sourceEvent.stopPropagation();var I=O.height-w.mouse(P)[1]-2*k.verticalPadding,R=O.unitToPaddedPx.invert(I),U=O.brush,z=g(O,I),j=z.interval,W=U.svgBrush;if(W.wasDragged=!1,W.grabbingBar=z.region==="ns",W.grabbingBar){var F=j.map(O.unitToPaddedPx);W.grabPoint=I-F[0]-k.verticalPadding,W.barLength=F[1]-F[0]}W.clickableOrdinalRange=z.clickableOrdinalRange,W.stayingIntervals=O.multiselect&&U.filterSpecified?U.filter.getConsolidated():[],j&&(W.stayingIntervals=W.stayingIntervals.filter(function(V){return V[0]!==j[0]&&V[1]!==j[1]})),W.startExtent=z.region?j[z.region==="s"?1:0]:R,O.parent.inBrushDrag=!0,W.brushStartCallback()})(this,E)}).on("drag",function(E){m(this,E)}).on("dragend",function(E){(function(P,O){var I=O.brush,R=I.filter,U=I.svgBrush;U._dragging||(y(P,O),m(P,O),O.brush.svgBrush.wasDragged=!1),U._dragging=!1,w.event.sourceEvent.stopPropagation();var z=U.grabbingBar;if(U.grabbingBar=!1,U.grabLocation=void 0,O.parent.inBrushDrag=!1,c(),!U.wasDragged)return U.wasDragged=void 0,U.clickableOrdinalRange?I.filterSpecified&&O.multiselect?U.extent.push(U.clickableOrdinalRange):(U.extent=[U.clickableOrdinalRange],I.filterSpecified=!0):z?(U.extent=U.stayingIntervals,U.extent.length===0&&p(I)):p(I),U.brushCallback(O),d(P.parentNode),void U.brushEndCallback(I.filterSpecified?R.getConsolidated():[]);var j=function(){R.set(R.getConsolidated())};if(O.ordinal){var W=O.unitTickvals;W[W.length-1]<W[0]&&W.reverse(),U.newExtent=[i(0,W,U.newExtent[0],U.stayingIntervals),i(1,W,U.newExtent[1],U.stayingIntervals)];var F=U.newExtent[1]>U.newExtent[0];U.extent=U.stayingIntervals.concat(F?[U.newExtent]:[]),U.extent.length||p(I),U.brushCallback(O),F?d(P.parentNode,j):(j(),d(P.parentNode))}else j();U.brushEndCallback(I.filterSpecified?R.getConsolidated():[])})(this,E)}))}function T(M,E){return M[0]-E[0]}function p(M){M.filterSpecified=!1,M.svgBrush.extent=[[-1/0,1/0]]}function S(M){for(var E,P=M.slice(),O=[],I=P.shift();I;){for(E=I.slice();(I=P.shift())&&I[0]<=E[1];)E[1]=Math.max(E[1],I[1]);O.push(E)}return O.length===1&&O[0][0]>O[0][1]&&(O=[]),O}B.exports={makeBrush:function(M,E,P,O,I,R){var U,z=function(){var j,W,F=[];return{set:function(V){(F=V.map(function(H){return H.slice().sort(v)}).sort(T)).length===1&&F[0][0]===-1/0&&F[0][1]===1/0&&(F=[[0,-1]]),j=S(F),W=F.reduce(function(H,te){return[Math.min(H[0],te[0]),Math.max(H[1],te[1])]},[1/0,-1/0])},get:function(){return F.slice()},getConsolidated:function(){return j},getBounds:function(){return W}}}();return z.set(P),{filter:z,filterSpecified:E,svgBrush:{extent:[],brushStartCallback:O,brushCallback:(U=I,function(j){var W=j.brush,F=function(H){return H.svgBrush.extent.map(function(te){return te.slice()})}(W),V=F.slice();W.filter.set(V),U()}),brushEndCallback:R}}},ensureAxisBrush:function(M,E,P){var O=M.selectAll("."+k.cn.axisBrush).data(_,r);O.enter().append("g").classed(k.cn.axisBrush,!0),function(I,R,U){var z=U._context.staticPlot,j=I.selectAll(".background").data(_);j.enter().append("rect").classed("background",!0).call(l).call(o).style("pointer-events",z?"none":"auto").attr("transform",f(0,k.verticalPadding)),j.call(x).attr("height",function(V){return V.height-k.verticalPadding});var W=I.selectAll(".highlight-shadow").data(_);W.enter().append("line").classed("highlight-shadow",!0).attr("x",-k.bar.width/2).attr("stroke-width",k.bar.width+k.bar.strokeWidth).attr("stroke",R).attr("opacity",k.bar.strokeOpacity).attr("stroke-linecap","butt"),W.attr("y1",function(V){return V.height}).call(b);var F=I.selectAll(".highlight").data(_);F.enter().append("line").classed("highlight",!0).attr("x",-k.bar.width/2).attr("stroke-width",k.bar.width-k.bar.strokeWidth).attr("stroke",k.bar.fillColor).attr("opacity",k.bar.fillOpacity).attr("stroke-linecap","butt"),F.attr("y1",function(V){return V.height}).call(b)}(O,E,P)},cleanRanges:function(M,E){if(Array.isArray(M[0])?(M=M.map(function(O){return O.sort(v)}),M=E.multiselect?S(M.sort(T)):[M[0]]):M=[M.sort(v)],E.tickvals){var P=E.tickvals.slice().sort(v);if(!(M=M.map(function(O){var I=[i(0,P,O[0],[]),i(1,P,O[1],[])];if(I[1]>I[0])return I}).filter(function(O){return O})).length)return}return M.length>1?M:M[0]}}},61664:function(B,L,e){B.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(B,L,e){var k=e(33428),w=e(84888)._M,r=e(24196),_=e(9616);L.name="parcoords",L.plot=function(v){var f=w(v.calcdata,"parcoords")[0];f.length&&r(v,f)},L.clean=function(v,f,s,t){var a=t._has&&t._has("parcoords"),n=f._has&&f._has("parcoords");a&&!n&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},L.toSVG=function(v){var f=v._fullLayout._glimages,s=k.select(v).selectAll(".svg-container");s.filter(function(t,a){return a===s.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var t=this,a=t.toDataURL("image/png");f.append("svg:image").attr({xmlns:_.svg,"xlink:href":a,preserveAspectRatio:"none",x:0,y:0,width:t.style.width,height:t.style.height})}),window.setTimeout(function(){k.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(B,L,e){var k=e(3400).isArrayOrTypedArray,w=e(8932),r=e(71688).wrap;B.exports=function(_,v){var f,s;return w.hasColorscale(v,"line")&&k(v.line.color)?(f=v.line.color,s=w.extractOpts(v.line).colorscale,w.calc(_,v,{vals:f,containerStr:"line",cLetter:"c"})):(f=function(t){for(var a=new Array(t),n=0;n<t;n++)a[n]=.5;return a}(v._length),s=[[0,v.line.color],[1,v.line.color]]),r({lineColor:f,cscale:s})}},30140:function(B){B.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(B,L,e){var k=e(3400),w=e(94288).hasColorscale,r=e(27260),_=e(86968).Q,v=e(51272),f=e(54460),s=e(82296),t=e(71864),a=e(30140).maxDimensionCount,n=e(26284);function i(l,o,u,h){function c(y,x){return k.coerce(l,o,s.dimensions,y,x)}var b=c("values"),d=c("visible");if(b&&b.length||(d=o.visible=!1),d){c("label"),c("tickvals"),c("ticktext"),c("tickformat");var g=c("range");o._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:g},f.setConvert(o._ax,h.layout),c("multiselect");var m=c("constraintrange");m&&(o.constraintrange=t.cleanRanges(m,o))}}B.exports=function(l,o,u,h){function c(y,x){return k.coerce(l,o,s,y,x)}var b=l.dimensions;Array.isArray(b)&&b.length>a&&(k.log("parcoords traces support up to "+a+" dimensions at the moment"),b.splice(a));var d=v(l,o,{name:"dimensions",layout:h,handleItemDefaults:i}),g=function(y,x,T,p,S){var M=S("line.color",T);if(w(y,"line")&&k.isArrayOrTypedArray(M)){if(M.length)return S("line.colorscale"),r(y,x,p,S,{prefix:"line.",cLetter:"c"}),M.length;x.line.color=T}return 1/0}(l,o,u,h,c);_(o,h,c),Array.isArray(d)&&d.length||(o.visible=!1),n(o,d,"values",g);var m={family:h.font.family,size:Math.round(h.font.size/1.2),color:h.font.color};k.coerceFont(c,"labelfont",m),k.coerceFont(c,"tickfont",m),k.coerceFont(c,"rangefont",m),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},95724:function(B,L,e){var k=e(3400).isTypedArray;L.convertTypedArray=function(w){return k(w)?Array.prototype.slice.call(w):w},L.isOrdinal=function(w){return!!w.tickvals},L.isVisible=function(w){return w.visible||!("visible"in w)}},29928:function(B,L,e){var k=e(61664);k.plot=e(24196),B.exports=k},51352:function(B,L,e){var k=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),w=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),r=e(30140).maxDimensionCount,_=e(3400),v=1e-6,f=new Uint8Array(4),s=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function a(d,g,m,y,x){var T=d._gl;T.enable(T.SCISSOR_TEST),T.scissor(g,m,y,x),d.clear({color:[0,0,0,0],depth:1})}function n(d,g,m,y,x,T){var p=T.key;m.drawCompleted||(function(S){S.read({x:0,y:0,width:1,height:1,data:f})}(d),m.drawCompleted=!0),function S(M){var E=Math.min(y,x-M*y);M===0&&(window.cancelAnimationFrame(m.currentRafs[p]),delete m.currentRafs[p],a(d,T.scissorX,T.scissorY,T.scissorWidth,T.viewBoxSize[1])),m.clearOnly||(T.count=2*E,T.offset=2*M*y,g(T),M*y+E<x&&(m.currentRafs[p]=window.requestAnimationFrame(function(){S(M+1)})),m.drawCompleted=!1)}(0)}function i(d,g){for(var m=new Array(256),y=0;y<256;y++)m[y]=d(y/255).concat(g);return m}function l(d,g){return(d>>>8*g)%256/255}function o(d,g,m){for(var y=new Array(8*g),x=0,T=0;T<g;T++)for(var p=0;p<2;p++)for(var S=0;S<4;S++){var M=4*d+S,E=m[64*T+M];M===63&&p===0&&(E*=-1),y[x++]=E}return y}function u(d){var g="0"+d;return g.substr(g.length-2)}function h(d){return d<r?"p"+u(d+1)+"_"+u(d+4):"colors"}function c(d,g,m,y,x,T,p,S,M,E,P,O,I,R){for(var U=[[],[]],z=0;z<64;z++)U[0][z]=z===x?1:0,U[1][z]=z===T?1:0;p*=R,S*=R,M*=R,E*=R;var j=d.lines.canvasOverdrag*R,W=d.domain,F=d.canvasWidth*R,V=d.canvasHeight*R,H=d.pad.l*R,te=d.pad.b*R,Q=d.layoutHeight*R,K=d.layoutWidth*R,X=d.deselectedLines.color,J=d.deselectedLines.opacity;return _.extendFlat({key:P,resolution:[F,V],viewBoxPos:[p+j,S],viewBoxSize:[M,E],i0:x,i1:T,dim0A:U[0].slice(0,16),dim0B:U[0].slice(16,32),dim0C:U[0].slice(32,48),dim0D:U[0].slice(48,64),dim1A:U[1].slice(0,16),dim1B:U[1].slice(16,32),dim1C:U[1].slice(32,48),dim1D:U[1].slice(48,64),drwLayer:O,contextColor:[X[0]/255,X[1]/255,X[2]/255,J!=="auto"?X[3]*J:Math.max(.00392156862745098,Math.pow(1/d.lines.color.length,.3333333333333333))],scissorX:(y===g?0:p+j)+(H-j)+K*W.x[0],scissorWidth:(y===m?F-p+j:M+.5)+(y===g?p+j:0),scissorY:S+te+Q*W.y[0],scissorHeight:E,viewportX:H-j+K*W.x[0],viewportY:te+Q*W.y[0],viewportWidth:F,viewportHeight:V},I)}function b(d){var g=2047,m=Math.max(0,Math.floor(d[0]*g),0),y=Math.min(g,Math.ceil(d[1]*g),g);return[Math.min(m,y),Math.max(m,y)]}B.exports=function(d,g){var m,y,x,T,p,S=g.context,M=g.pick,E=g.regl,P=E._gl,O=P.getParameter(P.ALIASED_LINE_WIDTH_RANGE),I=Math.max(O[0],Math.min(O[1],g.viewModel.plotGlPixelRatio)),R={currentRafs:{},drawCompleted:!0,clearOnly:!1},U=function(V){for(var H={},te=0;te<=r;te+=4)H[h(te)]=V.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return H}(E),z=E.texture(t),j=[];F(g);var W=E({profile:!1,blend:{enable:S,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!S,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:E.prop("scissorX"),y:E.prop("scissorY"),width:E.prop("scissorWidth"),height:E.prop("scissorHeight")}},viewport:{x:E.prop("viewportX"),y:E.prop("viewportY"),width:E.prop("viewportWidth"),height:E.prop("viewportHeight")},dither:!1,vert:k,frag:w,primitive:"lines",lineWidth:I,attributes:U,uniforms:{resolution:E.prop("resolution"),viewBoxPos:E.prop("viewBoxPos"),viewBoxSize:E.prop("viewBoxSize"),dim0A:E.prop("dim0A"),dim1A:E.prop("dim1A"),dim0B:E.prop("dim0B"),dim1B:E.prop("dim1B"),dim0C:E.prop("dim0C"),dim1C:E.prop("dim1C"),dim0D:E.prop("dim0D"),dim1D:E.prop("dim1D"),loA:E.prop("loA"),hiA:E.prop("hiA"),loB:E.prop("loB"),hiB:E.prop("hiB"),loC:E.prop("loC"),hiC:E.prop("hiC"),loD:E.prop("loD"),hiD:E.prop("hiD"),palette:z,contextColor:E.prop("contextColor"),maskTexture:E.prop("maskTexture"),drwLayer:E.prop("drwLayer"),maskHeight:E.prop("maskHeight")},offset:E.prop("offset"),count:E.prop("count")});function F(V){m=V.model,y=V.viewModel,x=y.dimensions.slice(),T=x[0]?x[0].values.length:0;var H=m.lines,te=M?H.color.map(function(K,X){return X/H.color.length}):H.color,Q=function(K,X,J){for(var ee,ie=new Array(K*(r+4)),oe=0,ae=0;ae<K;ae++){for(var ce=0;ce<r;ce++)ie[oe++]=ce<X.length?X[ce].paddedUnitValues[ae]:.5;ie[oe++]=l(ae,2),ie[oe++]=l(ae,1),ie[oe++]=l(ae,0),ie[oe++]=(ee=J[ae],Math.max(v,Math.min(.999999,ee)))}return ie}(T,x,te);(function(K,X,J){for(var ee=0;ee<=r;ee+=4)K[h(ee)](o(ee/4,X,J))})(U,T,Q),S||M||(z=E.texture(_.extendFlat({data:i(m.unitToColor,255)},t)))}return{render:function(V,H,te){var Q,K,X,J=V.length,ee=1/0,ie=-1/0;for(Q=0;Q<J;Q++)V[Q].dim0.canvasX<ee&&(ee=V[Q].dim0.canvasX,K=Q),V[Q].dim1.canvasX>ie&&(ie=V[Q].dim1.canvasX,X=Q);J===0&&a(E,0,0,m.canvasWidth,m.canvasHeight);var oe=function(ke){var fe,le,de,Ce=[[],[]];for(de=0;de<64;de++){var Me=!ke&&de<x.length?x[de].brush.filter.getBounds():[-1/0,1/0];Ce[0][de]=Me[0],Ce[1][de]=Me[1]}var Le=new Array(16384);for(fe=0;fe<16384;fe++)Le[fe]=255;if(!ke)for(fe=0;fe<x.length;fe++){var Oe=fe%8,Be=(fe-Oe)/8,pe=Math.pow(2,Oe),_e=x[fe].brush.filter.get();if(!(_e.length<2)){var Te=b(_e[0])[1];for(le=1;le<_e.length;le++){var Re=b(_e[le]);for(de=Te+1;de<Re[0];de++)Le[8*de+Be]&=~pe;Te=Math.max(Te,Re[1])}}}var Ne={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Le};return p?p(Ne):p=E.texture(Ne),{maskTexture:p,maskHeight:2048,loA:Ce[0].slice(0,16),loB:Ce[0].slice(16,32),loC:Ce[0].slice(32,48),loD:Ce[0].slice(48,64),hiA:Ce[1].slice(0,16),hiB:Ce[1].slice(16,32),hiC:Ce[1].slice(32,48),hiD:Ce[1].slice(48,64)}}(S);for(Q=0;Q<J;Q++){var ae=V[Q],ce=ae.dim0.crossfilterDimensionIndex,ge=ae.dim1.crossfilterDimensionIndex,ve=ae.canvasX,be=ae.canvasY,we=ve+ae.panelSizeX,ye=ae.plotGlPixelRatio;if(H||!j[ce]||j[ce][0]!==ve||j[ce][1]!==we){j[ce]=[ve,we];var me=c(m,K,X,Q,ce,ge,ve,be,ae.panelSizeX,ae.panelSizeY,ae.dim0.crossfilterDimensionIndex,S?0:M?2:1,oe,ye);R.clearOnly=te;var Ae=H?m.lines.blockLineCount:T;n(E,W,R,Ae,T,me)}}},readPixel:function(V,H){return E.read({x:V,y:H,width:1,height:1,data:s}),s},readPixels:function(V,H,te,Q){var K=new Uint8Array(4*te*Q);return E.read({x:V,y:H,width:te,height:Q,data:K}),K},destroy:function(){for(var V in d.style["pointer-events"]="none",z.destroy(),p&&p.destroy(),U)U[V].destroy()},update:F}}},26284:function(B){B.exports=function(L,e,k,w){var r,_;for(w||(w=1/0),r=0;r<e.length;r++)(_=e[r]).visible&&(w=Math.min(w,_[k].length));for(w===1/0&&(w=0),L._length=w,r=0;r<e.length;r++)(_=e[r]).visible&&(_._length=w);return w}},36336:function(B,L,e){var k=e(33428),w=e(3400),r=w.isArrayOrTypedArray,_=w.numberFormat,v=e(96824),f=e(54460),s=w.strRotate,t=w.strTranslate,a=e(72736),n=e(43616),i=e(8932),l=e(71688),o=l.keyFun,u=l.repeat,h=l.unwrap,c=e(95724),b=e(30140),d=e(71864),g=e(51352);function m(W,F,V){return w.aggNums(W,null,F,V)}function y(W,F){return T(m(Math.min,W,F),m(Math.max,W,F))}function x(W){var F=W.range;return F?T(F[0],F[1]):y(W.values,W._length)}function T(W,F){return!isNaN(W)&&isFinite(W)||(W=0),!isNaN(F)&&isFinite(F)||(F=0),W===F&&(W===0?(W-=1,F+=1):(W*=.9,F*=1.1)),[W,F]}function p(W,F,V,H,te){var Q,K,X=x(V);return H?k.scale.ordinal().domain(H.map((Q=_(V.tickformat),K=te,K?function(J,ee){var ie=K[ee];return ie??Q(J)}:Q))).range(H.map(function(J){var ee=(J-X[0])/(X[1]-X[0]);return W-F+ee*(2*F-W)})):k.scale.linear().domain(X).range([W-F,F])}function S(W){if(W.tickvals){var F=x(W);return k.scale.ordinal().domain(W.tickvals).range(W.tickvals.map(function(V){return(V-F[0])/(F[1]-F[0])}))}}function M(W){var F=W.map(function(te){return te[0]}),V=W.map(function(te){var Q=v(te[1]);return k.rgb("rgb("+Q[0]+","+Q[1]+","+Q[2]+")")}),H="rgb".split("").map(function(te){return k.scale.linear().clamp(!0).domain(F).range(V.map((Q=te,function(K){return K[Q]})));var Q});return function(te){return H.map(function(Q){return Q(te)})}}function E(W){return W.dimensions.some(function(F){return F.brush.filterSpecified})}function P(W,F,V){var H=h(F),te=H.trace,Q=c.convertTypedArray(H.lineColor),K=te.line,X={color:v(te.unselected.line.color),opacity:te.unselected.line.opacity},J=i.extractOpts(K),ee=J.reversescale?i.flipScale(H.cscale):H.cscale,ie=te.domain,oe=te.dimensions,ae=W.width,ce=te.labelangle,ge=te.labelside,ve=te.labelfont,be=te.tickfont,we=te.rangefont,ye=w.extendDeepNoArrays({},K,{color:Q.map(k.scale.linear().domain(x({values:Q,range:[J.min,J.max],_length:te._length}))),blockLineCount:b.blockLineCount,canvasOverdrag:b.overdrag*b.canvasPixelRatio}),me=Math.floor(ae*(ie.x[1]-ie.x[0])),Ae=Math.floor(W.height*(ie.y[1]-ie.y[0])),ke=W.margin||{l:80,r:80,t:100,b:80},fe=me,le=Ae;return{key:V,colCount:oe.filter(c.isVisible).length,dimensions:oe,tickDistance:b.tickDistance,unitToColor:M(ee),lines:ye,deselectedLines:X,labelAngle:ce,labelSide:ge,labelFont:ve,tickFont:be,rangeFont:we,layoutWidth:ae,layoutHeight:W.height,domain:ie,translateX:ie.x[0]*ae,translateY:W.height-ie.y[1]*W.height,pad:ke,canvasWidth:fe*b.canvasPixelRatio+2*ye.canvasOverdrag,canvasHeight:le*b.canvasPixelRatio,width:fe,height:le,canvasPixelRatio:b.canvasPixelRatio}}function O(W,F,V){var H=V.width,te=V.height,Q=V.dimensions,K=V.canvasPixelRatio,X=function(ae){return H*ae/Math.max(1,V.colCount-1)},J=b.verticalPadding/te,ee=function(ae,ce){return k.scale.linear().range([ce,ae-ce])}(te,b.verticalPadding),ie={key:V.key,xScale:X,model:V,inBrushDrag:!1},oe={};return ie.dimensions=Q.filter(c.isVisible).map(function(ae,ce){var ge=function(Oe,Be){return k.scale.linear().domain(x(Oe)).range([Be,1-Be])}(ae,J),ve=oe[ae.label];oe[ae.label]=(ve||0)+1;var be=ae.label+(ve?"__"+ve:""),we=ae.constraintrange,ye=we&&we.length;ye&&!r(we[0])&&(we=[we]);var me=ye?we.map(function(Oe){return Oe.map(ge)}):[[-1/0,1/0]],Ae=ae.values;Ae.length>ae._length&&(Ae=Ae.slice(0,ae._length));var ke,fe=ae.tickvals;function le(Oe,Be){return{val:Oe,text:ke[Be]}}function de(Oe,Be){return Oe.val-Be.val}if(r(fe)&&fe.length){w.isTypedArray(fe)&&(fe=Array.from(fe)),ke=ae.ticktext,r(ke)&&ke.length?ke.length>fe.length?ke=ke.slice(0,fe.length):fe.length>ke.length&&(fe=fe.slice(0,ke.length)):ke=fe.map(_(ae.tickformat));for(var Ce=1;Ce<fe.length;Ce++)if(fe[Ce]<fe[Ce-1]){for(var Me=fe.map(le).sort(de),Le=0;Le<fe.length;Le++)fe[Le]=Me[Le].val,ke[Le]=Me[Le].text;break}}else fe=void 0;return Ae=c.convertTypedArray(Ae),{key:be,label:ae.label,tickFormat:ae.tickformat,tickvals:fe,ticktext:ke,ordinal:c.isOrdinal(ae),multiselect:ae.multiselect,xIndex:ce,crossfilterDimensionIndex:ce,visibleIndex:ae._index,height:te,values:Ae,paddedUnitValues:Ae.map(ge),unitTickvals:fe&&fe.map(ge),xScale:X,x:X(ce),canvasX:X(ce)*K,unitToPaddedPx:ee,domainScale:p(te,b.verticalPadding,ae,fe,ke),ordinalScale:S(ae),parent:ie,model:V,brush:d.makeBrush(W,ye,me,function(){W.linePickActive(!1)},function(){var Oe=ie;Oe.focusLayer&&Oe.focusLayer.render(Oe.panels,!0);var Be=E(Oe);!W.contextShown()&&Be?(Oe.contextLayer&&Oe.contextLayer.render(Oe.panels,!0),W.contextShown(!0)):W.contextShown()&&!Be&&(Oe.contextLayer&&Oe.contextLayer.render(Oe.panels,!0,!0),W.contextShown(!1))},function(Oe){if(ie.focusLayer.render(ie.panels,!0),ie.pickLayer&&ie.pickLayer.render(ie.panels,!0),W.linePickActive(!0),F&&F.filterChanged){var Be=ge.invert,pe=Oe.map(function(_e){return _e.map(Be).sort(w.sorterAsc)}).sort(function(_e,Te){return _e[0]-Te[0]});F.filterChanged(ie.key,ae._index,pe)}})}}),ie}function I(W){W.classed(b.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function R(W,F){var V=F==="top"?1:-1,H=W*Math.PI/180;return{dir:V,dx:Math.sin(H),dy:Math.cos(H),degrees:W}}function U(W,F,V){for(var H=F.panels||(F.panels=[]),te=W.data(),Q=0;Q<te.length-1;Q++){var K=H[Q]||(H[Q]={}),X=te[Q],J=te[Q+1];K.dim0=X,K.dim1=J,K.canvasX=X.canvasX,K.panelSizeX=J.canvasX-X.canvasX,K.panelSizeY=F.model.canvasHeight,K.y=0,K.canvasY=0,K.plotGlPixelRatio=V}}function z(W,F){return f.tickText(W._ax,F,!1).text}function j(W,F){if(W.ordinal)return"";var V=W.domainScale.domain(),H=V[F?V.length-1:0];return z(W.model.dimensions[W.visibleIndex],H)}B.exports=function(W,F,V,H){var te=W._context.staticPlot,Q=W._fullLayout,K=Q._toppaper,X=Q._glcontainer,J=W._context.plotGlPixelRatio,ee=W._fullLayout.paper_bgcolor;(function(Oe){for(var Be=0;Be<Oe.length;Be++)for(var pe=0;pe<Oe[Be].length;pe++)for(var _e=Oe[Be][pe].trace,Te=_e.dimensions,Re=0;Re<Te.length;Re++){var Ne=Te[Re].values,ze=Te[Re]._ax;ze&&(ze.range?ze.range=T(ze.range[0],ze.range[1]):ze.range=y(Ne,_e._length),ze.dtick||(ze.dtick=.01*(Math.abs(ze.range[1]-ze.range[0])||1)),ze.tickformat=Te[Re].tickformat,f.calcTicks(ze),ze.cleanRange())}})(F);var ie,oe,ae=(ie=!0,oe=!1,{linePickActive:function(Oe){return arguments.length?ie=!!Oe:ie},contextShown:function(Oe){return arguments.length?oe=!!Oe:oe}}),ce=F.filter(function(Oe){return h(Oe).trace.visible}).map(P.bind(0,V)).map(O.bind(0,ae,H));X.each(function(Oe,Be){return w.extendFlat(Oe,ce[Be])});var ge=X.selectAll(".gl-canvas").each(function(Oe){Oe.viewModel=ce[0],Oe.viewModel.plotGlPixelRatio=J,Oe.viewModel.paperColor=ee,Oe.model=Oe.viewModel?Oe.viewModel.model:null}),ve=null;ge.filter(function(Oe){return Oe.pick}).style("pointer-events",te?"none":"auto").on("mousemove",function(Oe){if(ae.linePickActive()&&Oe.lineLayer&&H&&H.hover){var Be=k.event,pe=this.width,_e=this.height,Te=k.mouse(this),Re=Te[0],Ne=Te[1];if(Re<0||Ne<0||Re>=pe||Ne>=_e)return;var ze=Oe.lineLayer.readPixel(Re,_e-1-Ne),Ge=ze[3]!==0,Ye=Ge?ze[2]+256*(ze[1]+256*ze[0]):null,et={x:Re,y:Ne,clientX:Be.clientX,clientY:Be.clientY,dataIndex:Oe.model.key,curveNumber:Ye};Ye!==ve&&(Ge?H.hover(et):H.unhover&&H.unhover(et),ve=Ye)}}),ge.style("opacity",function(Oe){return Oe.pick?0:1}),K.style("background","rgba(255, 255, 255, 0)");var be=K.selectAll("."+b.cn.parcoords).data(ce,o);be.exit().remove(),be.enter().append("g").classed(b.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),be.attr("transform",function(Oe){return t(Oe.model.translateX,Oe.model.translateY)});var we=be.selectAll("."+b.cn.parcoordsControlView).data(u,o);we.enter().append("g").classed(b.cn.parcoordsControlView,!0),we.attr("transform",function(Oe){return t(Oe.model.pad.l,Oe.model.pad.t)});var ye=we.selectAll("."+b.cn.yAxis).data(function(Oe){return Oe.dimensions},o);ye.enter().append("g").classed(b.cn.yAxis,!0),we.each(function(Oe){U(ye,Oe,J)}),ge.each(function(Oe){if(Oe.viewModel){!Oe.lineLayer||H?Oe.lineLayer=g(this,Oe):Oe.lineLayer.update(Oe),(Oe.key||Oe.key===0)&&(Oe.viewModel[Oe.key]=Oe.lineLayer);var Be=!Oe.context||H;Oe.lineLayer.render(Oe.viewModel.panels,Be)}}),ye.attr("transform",function(Oe){return t(Oe.xScale(Oe.xIndex),0)}),ye.call(k.behavior.drag().origin(function(Oe){return Oe}).on("drag",function(Oe){var Be=Oe.parent;ae.linePickActive(!1),Oe.x=Math.max(-b.overdrag,Math.min(Oe.model.width+b.overdrag,k.event.x)),Oe.canvasX=Oe.x*Oe.model.canvasPixelRatio,ye.sort(function(pe,_e){return pe.x-_e.x}).each(function(pe,_e){pe.xIndex=_e,pe.x=Oe===pe?pe.x:pe.xScale(pe.xIndex),pe.canvasX=pe.x*pe.model.canvasPixelRatio}),U(ye,Be,J),ye.filter(function(pe){return Math.abs(Oe.xIndex-pe.xIndex)!==0}).attr("transform",function(pe){return t(pe.xScale(pe.xIndex),0)}),k.select(this).attr("transform",t(Oe.x,0)),ye.each(function(pe,_e,Te){Te===Oe.parent.key&&(Be.dimensions[_e]=pe)}),Be.contextLayer&&Be.contextLayer.render(Be.panels,!1,!E(Be)),Be.focusLayer.render&&Be.focusLayer.render(Be.panels)}).on("dragend",function(Oe){var Be=Oe.parent;Oe.x=Oe.xScale(Oe.xIndex),Oe.canvasX=Oe.x*Oe.model.canvasPixelRatio,U(ye,Be,J),k.select(this).attr("transform",function(pe){return t(pe.x,0)}),Be.contextLayer&&Be.contextLayer.render(Be.panels,!1,!E(Be)),Be.focusLayer&&Be.focusLayer.render(Be.panels),Be.pickLayer&&Be.pickLayer.render(Be.panels,!0),ae.linePickActive(!0),H&&H.axesMoved&&H.axesMoved(Be.key,Be.dimensions.map(function(pe){return pe.crossfilterDimensionIndex}))})),ye.exit().remove();var me=ye.selectAll("."+b.cn.axisOverlays).data(u,o);me.enter().append("g").classed(b.cn.axisOverlays,!0),me.selectAll("."+b.cn.axis).remove();var Ae=me.selectAll("."+b.cn.axis).data(u,o);Ae.enter().append("g").classed(b.cn.axis,!0),Ae.each(function(Oe){var Be=Oe.model.height/Oe.model.tickDistance,pe=Oe.domainScale,_e=pe.domain();k.select(this).call(k.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Be,Oe.tickFormat).tickValues(Oe.ordinal?_e:null).tickFormat(function(Te){return c.isOrdinal(Oe)?Te:z(Oe.model.dimensions[Oe.visibleIndex],Te)}).scale(pe)),n.font(Ae.selectAll("text"),Oe.model.tickFont)}),Ae.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Ae.selectAll("text").style("text-shadow",a.makeTextShadow(ee)).style("cursor","default");var ke=me.selectAll("."+b.cn.axisHeading).data(u,o);ke.enter().append("g").classed(b.cn.axisHeading,!0);var fe=ke.selectAll("."+b.cn.axisTitle).data(u,o);fe.enter().append("text").classed(b.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",te?"none":"auto"),fe.text(function(Oe){return Oe.label}).each(function(Oe){var Be=k.select(this);n.font(Be,Oe.model.labelFont),a.convertToTspans(Be,W)}).attr("transform",function(Oe){var Be=R(Oe.model.labelAngle,Oe.model.labelSide),pe=b.axisTitleOffset;return(Be.dir>0?"":t(0,2*pe+Oe.model.height))+s(Be.degrees)+t(-pe*Be.dx,-pe*Be.dy)}).attr("text-anchor",function(Oe){var Be=R(Oe.model.labelAngle,Oe.model.labelSide);return 2*Math.abs(Be.dx)>Math.abs(Be.dy)?Be.dir*Be.dx<0?"start":"end":"middle"});var le=me.selectAll("."+b.cn.axisExtent).data(u,o);le.enter().append("g").classed(b.cn.axisExtent,!0);var de=le.selectAll("."+b.cn.axisExtentTop).data(u,o);de.enter().append("g").classed(b.cn.axisExtentTop,!0),de.attr("transform",t(0,-b.axisExtentOffset));var Ce=de.selectAll("."+b.cn.axisExtentTopText).data(u,o);Ce.enter().append("text").classed(b.cn.axisExtentTopText,!0).call(I),Ce.text(function(Oe){return j(Oe,!0)}).each(function(Oe){n.font(k.select(this),Oe.model.rangeFont)});var Me=le.selectAll("."+b.cn.axisExtentBottom).data(u,o);Me.enter().append("g").classed(b.cn.axisExtentBottom,!0),Me.attr("transform",function(Oe){return t(0,Oe.model.height+b.axisExtentOffset)});var Le=Me.selectAll("."+b.cn.axisExtentBottomText).data(u,o);Le.enter().append("text").classed(b.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(I),Le.text(function(Oe){return j(Oe,!1)}).each(function(Oe){n.font(k.select(this),Oe.model.rangeFont)}),d.ensureAxisBrush(me,ee,W)}},24196:function(B,L,e){var k=e(36336),w=e(5048),r=e(95724).isVisible,_={};function v(f,s,t){var a=s.indexOf(t),n=f.indexOf(a);return n===-1&&(n+=s.length),n}(B.exports=function(f,s){var t=f._fullLayout;if(w(f,[],_)){var a={},n={},i={},l={},o=t._size;s.forEach(function(u,h){var c=u[0].trace;i[h]=c.index;var b=l[h]=c._fullInput.index;a[h]=f.data[b].dimensions,n[h]=f.data[b].dimensions.slice()}),k(f,s,{width:o.w,height:o.h,margin:{t:o.t,r:o.r,b:o.b,l:o.l}},{filterChanged:function(u,h,c){var b=n[u][h],d=c.map(function(p){return p.slice()}),g="dimensions["+h+"].constraintrange",m=t._tracePreGUI[f._fullData[i[u]]._fullInput.uid];if(m[g]===void 0){var y=b.constraintrange;m[g]=y||null}var x=f._fullData[i[u]].dimensions[h];d.length?(d.length===1&&(d=d[0]),b.constraintrange=d,x.constraintrange=d.slice(),d=[d]):(delete b.constraintrange,delete x.constraintrange,d=null);var T={};T[g]=d,f.emit("plotly_restyle",[T,[l[u]]])},hover:function(u){f.emit("plotly_hover",u)},unhover:function(u){f.emit("plotly_unhover",u)},axesMoved:function(u,h){var c=function(b,d){return function(g,m){return v(b,d,g)-v(b,d,m)}}(h,n[u].filter(r));a[u].sort(c),n[u].filter(function(b){return!r(b)}).sort(function(b){return n[u].indexOf(b)}).forEach(function(b){a[u].splice(a[u].indexOf(b),1),a[u].splice(n[u].indexOf(b),0,b)}),f.emit("plotly_restyle",[{dimensions:[a[u]]},[l[u]]])}})}}).reglPrecompiled=_},74996:function(B,L,e){var k=e(45464),w=e(86968).u,r=e(25376),_=e(22548),v=e(21776).Ks,f=e(21776).Gw,s=e(92880).extendFlat,t=e(98192).c,a=r({editType:"plot",arrayOk:!0,colorEditType:"plot"});B.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:_.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:s({},k.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:v({},{keys:["label","color","value","percent","text"]}),texttemplate:f({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:s({},a,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:s({},a,{}),outsidetextfont:s({},a,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:s({},a,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:w({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:s({},a,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(B,L,e){var k=e(7316);L.name="pie",L.plot=function(w,r,_,v){k.plotBasePlot(L.name,w,r,_,v)},L.clean=function(w,r,_,v){k.cleanBasePlot(L.name,w,r,_,v)}},45768:function(B,L,e){var k=e(38248),w=e(49760),r=e(76308),_={};function v(s){return function(t,a){return!!t&&!!(t=w(t)).isValid()&&(t=r.addOpacity(t,t.getAlpha()),s[a]||(s[a]=t),t)}}function f(s,t){var a,n=JSON.stringify(s),i=t[n];if(!i){for(i=s.slice(),a=0;a<s.length;a++)i.push(w(s[a]).lighten(20).toHexString());for(a=0;a<s.length;a++)i.push(w(s[a]).darken(20).toHexString());t[n]=i}return i}B.exports={calc:function(s,t){var a,n,i=[],l=s._fullLayout,o=l.hiddenlabels||[],u=t.labels,h=t.marker.colors||[],c=t.values,b=t._length,d=t._hasValues&&b;if(t.dlabel)for(u=new Array(b),a=0;a<b;a++)u[a]=String(t.label0+a*t.dlabel);var g={},m=v(l["_"+t.type+"colormap"]),y=0,x=!1;for(a=0;a<b;a++){var T,p,S;if(d){if(T=c[a],!k(T))continue;T=+T}else T=1;(p=u[a])!==void 0&&p!==""||(p=a);var M=g[p=String(p)];M===void 0?(g[p]=i.length,(S=o.indexOf(p)!==-1)||(y+=T),i.push({v:T,label:p,color:m(h[a],p),i:a,pts:[a],hidden:S})):(x=!0,(n=i[M]).v+=T,n.pts.push(a),n.hidden||(y+=T),n.color===!1&&h[a]&&(n.color=m(h[a],p)))}return i=i.filter(function(E){return E.v>=0}),(t.type==="funnelarea"?x:t.sort)&&i.sort(function(E,P){return P.v-E.v}),i[0]&&(i[0].vTotal=y),i},crossTraceCalc:function(s,t){var a=(t||{}).type;a||(a="pie");var n=s._fullLayout,i=s.calcdata,l=n[a+"colorway"],o=n["_"+a+"colormap"];n["extend"+a+"colors"]&&(l=f(l,_));for(var u=0,h=0;h<i.length;h++){var c=i[h];if(c[0].trace.type===a)for(var b=0;b<c.length;b++){var d=c[b];d.color===!1&&(o[d.label]?d.color=o[d.label]:(o[d.label]=d.color=l[u%l.length],u++))}}},makePullColorFn:v,generateExtendedColors:f}},74174:function(B,L,e){var k=e(38248),w=e(3400),r=e(74996),_=e(86968).Q,v=e(31508).handleText,f=e(3400).coercePattern;function s(a,n){var i=w.isArrayOrTypedArray(a),l=w.isArrayOrTypedArray(n),o=Math.min(i?a.length:1/0,l?n.length:1/0);if(isFinite(o)||(o=0),o&&l){for(var u,h=0;h<o;h++){var c=n[h];if(k(c)&&c>0){u=!0;break}}u||(o=0)}return{hasLabels:i,hasValues:l,len:o}}function t(a,n,i,l,o){l("marker.line.width")&&l("marker.line.color",o?void 0:i.paper_bgcolor);var u=l("marker.colors");f(l,"marker.pattern",u),a.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=a.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=i.paper_bgcolor)}B.exports={handleLabelsAndValues:s,handleMarkerDefaults:t,supplyDefaults:function(a,n,i,l){function o(x,T){return w.coerce(a,n,r,x,T)}var u=s(o("labels"),o("values")),h=u.len;if(n._hasLabels=u.hasLabels,n._hasValues=u.hasValues,!n._hasLabels&&n._hasValues&&(o("label0"),o("dlabel")),h){n._length=h,t(a,n,l,o,!0),o("scalegroup");var c,b=o("text"),d=o("texttemplate");if(d||(c=o("textinfo",w.isArrayOrTypedArray(b)?"text+percent":"percent")),o("hovertext"),o("hovertemplate"),d||c&&c!=="none"){var g=o("textposition");v(a,n,l,o,g,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(g)||g==="auto"||g==="outside")&&o("automargin"),(g==="inside"||g==="auto"||Array.isArray(g))&&o("insidetextorientation")}else c==="none"&&o("textposition","none");_(n,l,o);var m=o("hole");if(o("title.text")){var y=o("title.position",m?"middle center":"top center");m||y!=="middle center"||(n.title.position="top center"),w.coerceFont(o,"title.font",l.font)}o("sort"),o("direction"),o("rotation"),o("pull")}else n.visible=!1}}},53644:function(B,L,e){var k=e(10624).appendArrayMultiPointValues;B.exports=function(w,r){var _={curveNumber:r.index,pointNumbers:w.pts,data:r._input,fullData:r,label:w.label,color:w.color,value:w.v,percent:w.percent,text:w.text,bbox:w.bbox,v:w.v};return w.pts.length===1&&(_.pointNumber=_.i=w.pts[0]),k(_,r,w.pts),r.type==="funnelarea"&&(delete _.v,delete _.i),_}},21552:function(B,L,e){var k=e(43616),w=e(76308);B.exports=function(r,_,v,f){var s=v.marker.pattern;s&&s.shape?k.pointStyle(r,v,f,_):w.fill(r,_.color)}},69656:function(B,L,e){var k=e(3400);function w(r){return r.indexOf("e")!==-1?r.replace(/[.]?0+e/,"e"):r.indexOf(".")!==-1?r.replace(/[.]?0+$/,""):r}L.formatPiePercent=function(r,_){var v=w((100*r).toPrecision(3));return k.numSeparate(v,_)+"%"},L.formatPieValue=function(r,_){var v=w(r.toPrecision(10));return k.numSeparate(v,_)},L.getFirstFilled=function(r,_){if(k.isArrayOrTypedArray(r))for(var v=0;v<_.length;v++){var f=r[_[v]];if(f||f===0||f==="")return f}},L.castOption=function(r,_){return k.isArrayOrTypedArray(r)?L.getFirstFilled(r,_):r||void 0},L.getRotationAngle=function(r){return(r==="auto"?0:r)*Math.PI/180}},75792:function(B,L,e){B.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(B){B.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(B,L,e){var k=e(3400),w=e(85204);B.exports=function(r,_){function v(f,s){return k.coerce(r,_,w,f,s)}v("hiddenlabels"),v("piecolorway",_.colorway),v("extendpiecolors")}},37820:function(B,L,e){var k=e(33428),w=e(7316),r=e(93024),_=e(76308),v=e(43616),f=e(3400),s=f.strScale,t=f.strTranslate,a=e(72736),n=e(82744),i=n.recordMinTextSize,l=n.clearMinTextSize,o=e(78048).TEXTPAD,u=e(69656),h=e(53644),c=e(3400).isValidTextValue;function b(W,F,V){var H=V[0],te=H.cx,Q=H.cy,K=H.trace,X=K.type==="funnelarea";"_hasHoverLabel"in K||(K._hasHoverLabel=!1),"_hasHoverEvent"in K||(K._hasHoverEvent=!1),W.on("mouseover",function(J){var ee=F._fullLayout,ie=F._fullData[K.index];if(!F._dragging&&ee.hovermode!==!1){var oe=ie.hoverinfo;if(Array.isArray(oe)&&(oe=r.castHoverinfo({hoverinfo:[u.castOption(oe,J.pts)],_module:K._module},ee,0)),oe==="all"&&(oe="label+text+value+percent+name"),ie.hovertemplate||oe!=="none"&&oe!=="skip"&&oe){var ae=J.rInscribed||0,ce=te+J.pxmid[0]*(1-ae),ge=Q+J.pxmid[1]*(1-ae),ve=ee.separators,be=[];if(oe&&oe.indexOf("label")!==-1&&be.push(J.label),J.text=u.castOption(ie.hovertext||ie.text,J.pts),oe&&oe.indexOf("text")!==-1){var we=J.text;f.isValidTextValue(we)&&be.push(we)}J.value=J.v,J.valueLabel=u.formatPieValue(J.v,ve),oe&&oe.indexOf("value")!==-1&&be.push(J.valueLabel),J.percent=J.v/H.vTotal,J.percentLabel=u.formatPiePercent(J.percent,ve),oe&&oe.indexOf("percent")!==-1&&be.push(J.percentLabel);var ye=ie.hoverlabel,me=ye.font,Ae=[];r.loneHover({trace:K,x0:ce-ae*H.r,x1:ce+ae*H.r,y:ge,_x0:X?te+J.TL[0]:ce-ae*H.r,_x1:X?te+J.TR[0]:ce+ae*H.r,_y0:X?Q+J.TL[1]:ge-ae*H.r,_y1:X?Q+J.BL[1]:ge+ae*H.r,text:be.join("<br>"),name:ie.hovertemplate||oe.indexOf("name")!==-1?ie.name:void 0,idealAlign:J.pxmid[0]<0?"left":"right",color:u.castOption(ye.bgcolor,J.pts)||J.color,borderColor:u.castOption(ye.bordercolor,J.pts),fontFamily:u.castOption(me.family,J.pts),fontSize:u.castOption(me.size,J.pts),fontColor:u.castOption(me.color,J.pts),nameLength:u.castOption(ye.namelength,J.pts),textAlign:u.castOption(ye.align,J.pts),hovertemplate:u.castOption(ie.hovertemplate,J.pts),hovertemplateLabels:J,eventData:[h(J,ie)]},{container:ee._hoverlayer.node(),outerContainer:ee._paper.node(),gd:F,inOut_bbox:Ae}),J.bbox=Ae[0],K._hasHoverLabel=!0}K._hasHoverEvent=!0,F.emit("plotly_hover",{points:[h(J,ie)],event:k.event})}}),W.on("mouseout",function(J){var ee=F._fullLayout,ie=F._fullData[K.index],oe=k.select(this).datum();K._hasHoverEvent&&(J.originalEvent=k.event,F.emit("plotly_unhover",{points:[h(oe,ie)],event:k.event}),K._hasHoverEvent=!1),K._hasHoverLabel&&(r.loneUnhover(ee._hoverlayer.node()),K._hasHoverLabel=!1)}),W.on("click",function(J){var ee=F._fullLayout,ie=F._fullData[K.index];F._dragging||ee.hovermode===!1||(F._hoverdata=[h(J,ie)],r.click(F,k.event))})}function d(W,F,V){var H=u.castOption(W.insidetextfont.color,F.pts);!H&&W._input.textfont&&(H=u.castOption(W._input.textfont.color,F.pts));var te=u.castOption(W.insidetextfont.family,F.pts)||u.castOption(W.textfont.family,F.pts)||V.family,Q=u.castOption(W.insidetextfont.size,F.pts)||u.castOption(W.textfont.size,F.pts)||V.size;return{color:H||_.contrast(F.color),family:te,size:Q}}function g(W,F){for(var V,H,te=0;te<W.length;te++)if((H=(V=W[te][0]).trace).title.text){var Q=H.title.text;H._meta&&(Q=f.templateString(Q,H._meta));var K=v.tester.append("text").attr("data-notex",1).text(Q).call(v.font,H.title.font).call(a.convertToTspans,F),X=v.bBox(K.node(),!0);V.titleBox={width:X.width,height:X.height},K.remove()}}function m(W,F,V){var H=V.r||F.rpx1,te=F.rInscribed;if(F.startangle===F.stopangle)return{rCenter:1-te,scale:0,rotate:0,textPosAngle:0};var Q,K=F.ring,X=K===1&&Math.abs(F.startangle-F.stopangle)===2*Math.PI,J=F.halfangle,ee=F.midangle,ie=V.trace.insidetextorientation,oe=ie==="horizontal",ae=ie==="tangential",ce=ie==="radial",ge=ie==="auto",ve=[];if(!ge){var be,we=function(le,de){if(function(Oe,Be){var pe=Oe.startangle,_e=Oe.stopangle;return pe>Be&&Be>_e||pe<Be&&Be<_e}(F,le)){var Ce=Math.abs(le-F.startangle),Me=Math.abs(le-F.stopangle),Le=Ce<Me?Ce:Me;(Q=de==="tan"?x(W,H,K,Le,0):y(W,H,K,Le,Math.PI/2)).textPosAngle=le,ve.push(Q)}};if(oe||ae){for(be=4;be>=-4;be-=2)we(Math.PI*be,"tan");for(be=4;be>=-4;be-=2)we(Math.PI*(be+1),"tan")}if(oe||ce){for(be=4;be>=-4;be-=2)we(Math.PI*(be+1.5),"rad");for(be=4;be>=-4;be-=2)we(Math.PI*(be+.5),"rad")}}if(X||ge||oe){var ye=Math.sqrt(W.width*W.width+W.height*W.height);if((Q={scale:te*H*2/ye,rCenter:1-te,rotate:0}).textPosAngle=(F.startangle+F.stopangle)/2,Q.scale>=1)return Q;ve.push(Q)}(ge||ce)&&((Q=y(W,H,K,J,ee)).textPosAngle=(F.startangle+F.stopangle)/2,ve.push(Q)),(ge||ae)&&((Q=x(W,H,K,J,ee)).textPosAngle=(F.startangle+F.stopangle)/2,ve.push(Q));for(var me=0,Ae=0,ke=0;ke<ve.length;ke++){var fe=ve[ke].scale;if(Ae<fe&&(Ae=fe,me=ke),!ge&&Ae>=1)break}return ve[me]}function y(W,F,V,H,te){F=Math.max(0,F-2*o);var Q=W.width/W.height,K=S(Q,H,F,V);return{scale:2*K/W.height,rCenter:T(Q,K/F),rotate:p(te)}}function x(W,F,V,H,te){F=Math.max(0,F-2*o);var Q=W.height/W.width,K=S(Q,H,F,V);return{scale:2*K/W.width,rCenter:T(Q,K/F),rotate:p(te+Math.PI/2)}}function T(W,F){return Math.cos(F)-W*F}function p(W){return(180/Math.PI*W+720)%180-90}function S(W,F,V,H){var te=W+1/(2*Math.tan(F));return V*Math.min(1/(Math.sqrt(te*te+.5)+te),H/(Math.sqrt(W*W+H/2)+W))}function M(W,F){return W.v!==F.vTotal||F.trace.hole?Math.min(1/(1+1/Math.sin(W.halfangle)),W.ring/2):1}function E(W,F){var V=F.pxmid[0],H=F.pxmid[1],te=W.width/2,Q=W.height/2;return V<0&&(te*=-1),H<0&&(Q*=-1),{scale:1,rCenter:1,rotate:0,x:te+Math.abs(Q)*(te>0?1:-1)/2,y:Q/(1+V*V/(H*H)),outside:!0}}function P(W,F){var V,H,te,Q=W.trace,K={x:W.cx,y:W.cy},X={tx:0,ty:0};X.ty+=Q.title.font.size,te=I(Q),Q.title.position.indexOf("top")!==-1?(K.y-=(1+te)*W.r,X.ty-=W.titleBox.height):Q.title.position.indexOf("bottom")!==-1&&(K.y+=(1+te)*W.r);var J,ee=W.r/((J=W.trace.aspectratio)===void 0?1:J),ie=F.w*(Q.domain.x[1]-Q.domain.x[0])/2;return Q.title.position.indexOf("left")!==-1?(ie+=ee,K.x-=(1+te)*ee,X.tx+=W.titleBox.width/2):Q.title.position.indexOf("center")!==-1?ie*=2:Q.title.position.indexOf("right")!==-1&&(ie+=ee,K.x+=(1+te)*ee,X.tx-=W.titleBox.width/2),V=ie/W.titleBox.width,H=O(W,F)/W.titleBox.height,{x:K.x,y:K.y,scale:Math.min(V,H),tx:X.tx,ty:X.ty}}function O(W,F){var V=W.trace,H=F.h*(V.domain.y[1]-V.domain.y[0]);return Math.min(W.titleBox.height,H/2)}function I(W){var F,V=W.pull;if(!V)return 0;if(f.isArrayOrTypedArray(V))for(V=0,F=0;F<W.pull.length;F++)W.pull[F]>V&&(V=W.pull[F]);return V}function R(W,F){for(var V=[],H=0;H<W.length;H++){var te=W[H][0],Q=te.trace,K=Q.domain,X=F.w*(K.x[1]-K.x[0]),J=F.h*(K.y[1]-K.y[0]);Q.title.text&&Q.title.position!=="middle center"&&(J-=O(te,F));var ee=X/2,ie=J/2;Q.type!=="funnelarea"||Q.scalegroup||(ie/=Q.aspectratio),te.r=Math.min(ee,ie)/(1+I(Q)),te.cx=F.l+F.w*(Q.domain.x[1]+Q.domain.x[0])/2,te.cy=F.t+F.h*(1-Q.domain.y[0])-J/2,Q.title.text&&Q.title.position.indexOf("bottom")!==-1&&(te.cy-=O(te,F)),Q.scalegroup&&V.indexOf(Q.scalegroup)===-1&&V.push(Q.scalegroup)}(function(oe,ae){for(var ce,ge,ve,be=0;be<ae.length;be++){var we=1/0,ye=ae[be];for(ge=0;ge<oe.length;ge++)if((ve=(ce=oe[ge][0]).trace).scalegroup===ye){var me;if(ve.type==="pie")me=ce.r*ce.r;else if(ve.type==="funnelarea"){var Ae,ke;ve.aspectratio>1?ke=(Ae=ce.r)/ve.aspectratio:Ae=(ke=ce.r)*ve.aspectratio,me=(Ae*=(1+ve.baseratio)/2)*ke}we=Math.min(we,me/ce.vTotal)}for(ge=0;ge<oe.length;ge++)if((ve=(ce=oe[ge][0]).trace).scalegroup===ye){var fe=we*ce.vTotal;ve.type==="funnelarea"&&(fe/=(1+ve.baseratio)/2,fe/=ve.aspectratio),ce.r=Math.sqrt(fe)}}})(W,V)}function U(W,F){return[W*Math.sin(F),-W*Math.cos(F)]}function z(W,F,V){var H=W._fullLayout,te=V.trace,Q=te.texttemplate,K=te.textinfo;if(!Q&&K&&K!=="none"){var X,J=K.split("+"),ee=function(me){return J.indexOf(me)!==-1},ie=ee("label"),oe=ee("text"),ae=ee("value"),ce=ee("percent"),ge=H.separators;if(X=ie?[F.label]:[],oe){var ve=u.getFirstFilled(te.text,F.pts);c(ve)&&X.push(ve)}ae&&X.push(u.formatPieValue(F.v,ge)),ce&&X.push(u.formatPiePercent(F.v/V.vTotal,ge)),F.text=X.join("<br>")}if(Q){var be=f.castOption(te,F.i,"texttemplate");if(be){var we=function(me){return{label:me.label,value:me.v,valueLabel:u.formatPieValue(me.v,H.separators),percent:me.v/V.vTotal,percentLabel:u.formatPiePercent(me.v/V.vTotal,H.separators),color:me.color,text:me.text,customdata:f.castOption(te,me.i,"customdata")}}(F),ye=u.getFirstFilled(te.text,F.pts);(c(ye)||ye==="")&&(we.text=ye),F.text=f.texttemplateString(be,we,W._fullLayout._d3locale,we,te._meta||{})}else F.text=""}}function j(W,F){var V=W.rotate*Math.PI/180,H=Math.cos(V),te=Math.sin(V),Q=(F.left+F.right)/2,K=(F.top+F.bottom)/2;W.textX=Q*H-K*te,W.textY=Q*te+K*H,W.noCenter=!0}B.exports={plot:function(W,F){var V=W._context.staticPlot,H=W._fullLayout,te=H._size;l("pie",H),g(F,W),R(F,te);var Q=f.makeTraceGroups(H._pielayer,F,"trace").each(function(K){var X=k.select(this),J=K[0],ee=J.trace;(function(ie){var oe,ae,ce,ge=ie[0],ve=ge.r,be=ge.trace,we=u.getRotationAngle(be.rotation),ye=2*Math.PI/ge.vTotal,me="px0",Ae="px1";if(be.direction==="counterclockwise"){for(oe=0;oe<ie.length&&ie[oe].hidden;oe++);if(oe===ie.length)return;we+=ye*ie[oe].v,ye*=-1,me="px1",Ae="px0"}for(ce=U(ve,we),oe=0;oe<ie.length;oe++)(ae=ie[oe]).hidden||(ae[me]=ce,ae.startangle=we,we+=ye*ae.v/2,ae.pxmid=U(ve,we),ae.midangle=we,ce=U(ve,we+=ye*ae.v/2),ae.stopangle=we,ae[Ae]=ce,ae.largeArc=ae.v>ge.vTotal/2?1:0,ae.halfangle=Math.PI*Math.min(ae.v/ge.vTotal,.5),ae.ring=1-be.hole,ae.rInscribed=M(ae,ge))})(K),X.attr("stroke-linejoin","round"),X.each(function(){var ie=k.select(this).selectAll("g.slice").data(K);ie.enter().append("g").classed("slice",!0),ie.exit().remove();var oe=[[[],[]],[[],[]]],ae=!1;ie.each(function(Ae,ke){if(Ae.hidden)k.select(this).selectAll("path,g").remove();else{Ae.pointNumber=Ae.i,Ae.curveNumber=ee.index,oe[Ae.pxmid[1]<0?0:1][Ae.pxmid[0]<0?0:1].push(Ae);var fe=J.cx,le=J.cy,de=k.select(this),Ce=de.selectAll("path.surface").data([Ae]);if(Ce.enter().append("path").classed("surface",!0).style({"pointer-events":V?"none":"all"}),de.call(b,W,K),ee.pull){var Me=+u.castOption(ee.pull,Ae.pts)||0;Me>0&&(fe+=Me*Ae.pxmid[0],le+=Me*Ae.pxmid[1])}Ae.cxFinal=fe,Ae.cyFinal=le;var Le=ee.hole;if(Ae.v===J.vTotal){var Oe="M"+(fe+Ae.px0[0])+","+(le+Ae.px0[1])+Re(Ae.px0,Ae.pxmid,!0,1)+Re(Ae.pxmid,Ae.px0,!0,1)+"Z";Le?Ce.attr("d","M"+(fe+Le*Ae.px0[0])+","+(le+Le*Ae.px0[1])+Re(Ae.px0,Ae.pxmid,!1,Le)+Re(Ae.pxmid,Ae.px0,!1,Le)+"Z"+Oe):Ce.attr("d",Oe)}else{var Be=Re(Ae.px0,Ae.px1,!0,1);if(Le){var pe=1-Le;Ce.attr("d","M"+(fe+Le*Ae.px1[0])+","+(le+Le*Ae.px1[1])+Re(Ae.px1,Ae.px0,!1,Le)+"l"+pe*Ae.px0[0]+","+pe*Ae.px0[1]+Be+"Z")}else Ce.attr("d","M"+fe+","+le+"l"+Ae.px0[0]+","+Ae.px0[1]+Be+"Z")}z(W,Ae,J);var _e=u.castOption(ee.textposition,Ae.pts),Te=de.selectAll("g.slicetext").data(Ae.text&&_e!=="none"?[0]:[]);Te.enter().append("g").classed("slicetext",!0),Te.exit().remove(),Te.each(function(){var Ne=f.ensureSingle(k.select(this),"text","",function(wt){wt.attr("data-notex",1)}),ze=f.ensureUniformFontSize(W,_e==="outside"?function(wt,bt,at){return{color:u.castOption(wt.outsidetextfont.color,bt.pts)||u.castOption(wt.textfont.color,bt.pts)||at.color,family:u.castOption(wt.outsidetextfont.family,bt.pts)||u.castOption(wt.textfont.family,bt.pts)||at.family,size:u.castOption(wt.outsidetextfont.size,bt.pts)||u.castOption(wt.textfont.size,bt.pts)||at.size}}(ee,Ae,H.font):d(ee,Ae,H.font));Ne.text(Ae.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(v.font,ze).call(a.convertToTspans,W);var Ge,Ye=v.bBox(Ne.node());if(_e==="outside")Ge=E(Ye,Ae);else if(Ge=m(Ye,Ae,J),_e==="auto"&&Ge.scale<1){var et=f.ensureUniformFontSize(W,ee.outsidetextfont);Ne.call(v.font,et),Ge=E(Ye=v.bBox(Ne.node()),Ae)}var ut=Ge.textPosAngle,ot=ut===void 0?Ae.pxmid:U(J.r,ut);if(Ge.targetX=fe+ot[0]*Ge.rCenter+(Ge.x||0),Ge.targetY=le+ot[1]*Ge.rCenter+(Ge.y||0),j(Ge,Ye),Ge.outside){var yt=Ge.targetY;Ae.yLabelMin=yt-Ye.height/2,Ae.yLabelMid=yt,Ae.yLabelMax=yt+Ye.height/2,Ae.labelExtraX=0,Ae.labelExtraY=0,ae=!0}Ge.fontSize=ze.size,i(ee.type,Ge,H),K[ke].transform=Ge,f.setTransormAndDisplay(Ne,Ge)})}function Re(Ne,ze,Ge,Ye){var et=Ye*(ze[0]-Ne[0]),ut=Ye*(ze[1]-Ne[1]);return"a"+Ye*J.r+","+Ye*J.r+" 0 "+Ae.largeArc+(Ge?" 1 ":" 0 ")+et+","+ut}});var ce=k.select(this).selectAll("g.titletext").data(ee.title.text?[0]:[]);if(ce.enter().append("g").classed("titletext",!0),ce.exit().remove(),ce.each(function(){var Ae,ke=f.ensureSingle(k.select(this),"text","",function(le){le.attr("data-notex",1)}),fe=ee.title.text;ee._meta&&(fe=f.templateString(fe,ee._meta)),ke.text(fe).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(v.font,ee.title.font).call(a.convertToTspans,W),Ae=ee.title.position==="middle center"?function(le){var de=Math.sqrt(le.titleBox.width*le.titleBox.width+le.titleBox.height*le.titleBox.height);return{x:le.cx,y:le.cy,scale:le.trace.hole*le.r*2/de,tx:0,ty:-le.titleBox.height/2+le.trace.title.font.size}}(J):P(J,te),ke.attr("transform",t(Ae.x,Ae.y)+s(Math.min(1,Ae.scale))+t(Ae.tx,Ae.ty))}),ae&&function(Ae,ke){var fe,le,de,Ce,Me,Le,Oe,Be,pe,_e,Te,Re,Ne;function ze(ut,ot){return ut.pxmid[1]-ot.pxmid[1]}function Ge(ut,ot){return ot.pxmid[1]-ut.pxmid[1]}function Ye(ut,ot){ot||(ot={});var yt,wt,bt,at,rt=ot.labelExtraY+(le?ot.yLabelMax:ot.yLabelMin),At=le?ut.yLabelMin:ut.yLabelMax,Rt=le?ut.yLabelMax:ut.yLabelMin,Ft=ut.cyFinal+Me(ut.px0[1],ut.px1[1]),Dt=rt-At;if(Dt*Oe>0&&(ut.labelExtraY=Dt),f.isArrayOrTypedArray(ke.pull))for(wt=0;wt<_e.length;wt++)(bt=_e[wt])===ut||(u.castOption(ke.pull,ut.pts)||0)>=(u.castOption(ke.pull,bt.pts)||0)||((ut.pxmid[1]-bt.pxmid[1])*Oe>0?(Dt=bt.cyFinal+Me(bt.px0[1],bt.px1[1])-At-ut.labelExtraY)*Oe>0&&(ut.labelExtraY+=Dt):(Rt+ut.labelExtraY-Ft)*Oe>0&&(yt=3*Le*Math.abs(wt-_e.indexOf(ut)),(at=bt.cxFinal+Ce(bt.px0[0],bt.px1[0])+yt-(ut.cxFinal+ut.pxmid[0])-ut.labelExtraX)*Le>0&&(ut.labelExtraX+=at)))}for(le=0;le<2;le++)for(de=le?ze:Ge,Me=le?Math.max:Math.min,Oe=le?1:-1,fe=0;fe<2;fe++){for(Ce=fe?Math.max:Math.min,Le=fe?1:-1,(Be=Ae[le][fe]).sort(de),pe=Ae[1-le][fe],_e=pe.concat(Be),Re=[],Te=0;Te<Be.length;Te++)Be[Te].yLabelMid!==void 0&&Re.push(Be[Te]);for(Ne=!1,Te=0;le&&Te<pe.length;Te++)if(pe[Te].yLabelMid!==void 0){Ne=pe[Te];break}for(Te=0;Te<Re.length;Te++){var et=Te&&Re[Te-1];Ne&&!Te&&(et=Ne),Ye(Re[Te],et)}}}(oe,ee),function(Ae,ke){Ae.each(function(fe){var le=k.select(this);if(fe.labelExtraX||fe.labelExtraY){var de=le.select("g.slicetext text");fe.transform.targetX+=fe.labelExtraX,fe.transform.targetY+=fe.labelExtraY,f.setTransormAndDisplay(de,fe.transform);var Ce=fe.cxFinal+fe.pxmid[0],Me="M"+Ce+","+(fe.cyFinal+fe.pxmid[1]),Le=(fe.yLabelMax-fe.yLabelMin)*(fe.pxmid[0]<0?-1:1)/4;if(fe.labelExtraX){var Oe=fe.labelExtraX*fe.pxmid[1]/fe.pxmid[0],Be=fe.yLabelMid+fe.labelExtraY-(fe.cyFinal+fe.pxmid[1]);Math.abs(Oe)>Math.abs(Be)?Me+="l"+Be*fe.pxmid[0]/fe.pxmid[1]+","+Be+"H"+(Ce+fe.labelExtraX+Le):Me+="l"+fe.labelExtraX+","+Oe+"v"+(Be-Oe)+"h"+Le}else Me+="V"+(fe.yLabelMid+fe.labelExtraY)+"h"+Le;f.ensureSingle(le,"path","textline").call(_.stroke,ke.outsidetextfont.color).attr({"stroke-width":Math.min(2,ke.outsidetextfont.size/8),d:Me,fill:"none"})}else le.select("path.textline").remove()})}(ie,ee),ae&&ee.automargin){var ge=v.bBox(X.node()),ve=ee.domain,be=te.w*(ve.x[1]-ve.x[0]),we=te.h*(ve.y[1]-ve.y[0]),ye=(.5*be-J.r)/te.w,me=(.5*we-J.r)/te.h;w.autoMargin(W,"pie."+ee.uid+".automargin",{xl:ve.x[0]-ye,xr:ve.x[1]+ye,yb:ve.y[0]-me,yt:ve.y[1]+me,l:Math.max(J.cx-J.r-ge.left,0),r:Math.max(ge.right-(J.cx+J.r),0),b:Math.max(ge.bottom-(J.cy+J.r),0),t:Math.max(J.cy-J.r-ge.top,0),pad:5})}})});setTimeout(function(){Q.selectAll("tspan").each(function(){var K=k.select(this);K.attr("dy")&&K.attr("dy",K.attr("dy"))})},0)},formatSliceLabel:z,transformInsideText:m,determineInsideTextFont:d,positionTitleOutside:P,prerenderTitles:g,layoutAreas:R,attachFxHandlers:b,computeTransform:j}},22152:function(B,L,e){var k=e(33428),w=e(10528),r=e(82744).resizeText;B.exports=function(_){var v=_._fullLayout._pielayer.selectAll(".trace");r(_,v,"pie"),v.each(function(f){var s=f[0].trace,t=k.select(this);t.style({opacity:s.opacity}),t.selectAll("path.surface").each(function(a){k.select(this).call(w,a,s,_)})})}},10528:function(B,L,e){var k=e(76308),w=e(69656).castOption,r=e(21552);B.exports=function(_,v,f,s){var t=f.marker.line,a=w(t.color,v.pts)||k.defaultLine,n=w(t.width,v.pts)||0;_.call(r,v,f,s).style("stroke-width",n).call(k.stroke,a)}},35484:function(B,L,e){var k=e(52904);B.exports={x:k.x,y:k.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:k.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(B,L,e){var k=e(67792).gl_pointcloud2d,w=e(3400).isArrayOrTypedArray,r=e(43080),_=e(19280).findExtremes,v=e(44928);function f(t,a){this.scene=t,this.uid=a,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=k(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var s=f.prototype;s.handlePick=function(t){var a=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*a],this.pickXYData[2*a+1]]:[this.pickXData[a],this.pickYData[a]],textLabel:w(this.textLabels)?this.textLabels[a]:this.textLabels,color:this.color,name:this.name,pointIndex:a,hoverinfo:this.hoverinfo}},s.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=v(t,{})},s.updateFast=function(t){var a,n,i,l,o,u,h=this.xData=this.pickXData=t.x,c=this.yData=this.pickYData=t.y,b=this.pickXYData=t.xy,d=t.xbounds&&t.ybounds,g=t.indices,m=this.bounds;if(b){if(i=b,a=b.length>>>1,d)m[0]=t.xbounds[0],m[2]=t.xbounds[1],m[1]=t.ybounds[0],m[3]=t.ybounds[1];else for(u=0;u<a;u++)l=i[2*u],o=i[2*u+1],l<m[0]&&(m[0]=l),l>m[2]&&(m[2]=l),o<m[1]&&(m[1]=o),o>m[3]&&(m[3]=o);if(g)n=g;else for(n=new Int32Array(a),u=0;u<a;u++)n[u]=u}else for(a=h.length,i=new Float32Array(2*a),n=new Int32Array(a),u=0;u<a;u++)l=h[u],o=c[u],n[u]=u,i[2*u]=l,i[2*u+1]=o,l<m[0]&&(m[0]=l),l>m[2]&&(m[2]=l),o<m[1]&&(m[1]=o),o>m[3]&&(m[3]=o);this.idToIndex=n,this.pointcloudOptions.idToIndex=n,this.pointcloudOptions.positions=i;var y=r(t.marker.color),x=r(t.marker.border.color),T=t.opacity*t.marker.opacity;y[3]*=T,this.pointcloudOptions.color=y;var p=t.marker.blend;p===null&&(p=h.length<100||c.length<100),this.pointcloudOptions.blend=p,x[3]*=T,this.pointcloudOptions.borderColor=x;var S=t.marker.sizemin,M=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=S,this.pointcloudOptions.sizeMax=M,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var E=this.scene.xaxis,P=this.scene.yaxis,O=M/2||.5;t._extremes[E._id]=_(E,[m[0],m[2]],{ppad:O}),t._extremes[P._id]=_(P,[m[1],m[3]],{ppad:O})},s.dispose=function(){this.pointcloud.dispose()},B.exports=function(t,a){var n=new f(t,a.uid);return n.update(a),n}},41904:function(B,L,e){var k=e(3400),w=e(35484);B.exports=function(r,_,v){function f(s,t){return k.coerce(r,_,w,s,t)}f("x"),f("y"),f("xbounds"),f("ybounds"),r.xy&&r.xy instanceof Float32Array&&(_.xy=r.xy),r.indices&&r.indices instanceof Int32Array&&(_.indices=r.indices),f("text"),f("marker.color",v),f("marker.opacity"),f("marker.blend"),f("marker.sizemin"),f("marker.sizemax"),f("marker.border.color",v),f("marker.border.arearatio"),_._length=null}},156:function(B,L,e){B.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(B,L,e){var k=e(25376),w=e(45464),r=e(22548),_=e(55756),v=e(86968).u,f=e(21776).Ks,s=e(49084),t=e(31780).templatedArray,a=e(29736).descriptionOnlyNumbers,n=e(92880).extendFlat,i=e(67824).overrideAll;(B.exports=i({hoverinfo:n({},w.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:_.hoverlabel,domain:v({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:a("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:k({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:r.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:_.hoverlabel,hovertemplate:f({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:r.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:_.hoverlabel,hovertemplate:f({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:n(s().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},10760:function(B,L,e){var k=e(67824).overrideAll,w=e(84888)._M,r=e(59596),_=e(65460),v=e(93972),f=e(86476),s=e(22676).prepSelect,t=e(3400),a=e(24040),n="sankey";function i(l,o){var u=l._fullData[o],h=l._fullLayout,c=h.dragmode,b=h.dragmode==="pan"?"move":"crosshair",d=u._bgRect;if(d&&c!=="pan"&&c!=="zoom"){v(d,b);var g={_id:"x",c2p:t.identity,_offset:u._sankey.translateX,_length:u._sankey.width},m={_id:"y",c2p:t.identity,_offset:u._sankey.translateY,_length:u._sankey.height},y={gd:l,element:d.node(),plotinfo:{id:o,xaxis:g,yaxis:m,fillRangeItems:t.noop},subplot:o,xaxes:[g],yaxes:[m],doneFnCompleted:function(x){var T,p=l._fullData[o],S=p.node.groups.slice(),M=[];function E(R){for(var U=p._sankey.graph.nodes,z=0;z<U.length;z++)if(U[z].pointNumber===R)return U[z]}for(var P=0;P<x.length;P++){var O=E(x[P].pointNumber);if(O)if(O.group){for(var I=0;I<O.childrenNodes.length;I++)M.push(O.childrenNodes[I].pointNumber);S[O.pointNumber-p.node._count]=!1}else M.push(O.pointNumber)}T=S.filter(Boolean).concat([M]),a.call("_guiRestyle",l,{"node.groups":[T]},o)},prepFn:function(x,T,p){s(x,T,p,y,c)}};f.init(y)}}L.name=n,L.baseLayoutAttrOverrides=k({hoverlabel:_.hoverlabel},"plot","nested"),L.plot=function(l){var o=w(l.calcdata,n)[0];r(l,o),L.updateFx(l)},L.clean=function(l,o,u,h){var c=h._has&&h._has(n),b=o._has&&o._has(n);c&&!b&&(h._paperdiv.selectAll(".sankey").remove(),h._paperdiv.selectAll(".bgsankey").remove())},L.updateFx=function(l){for(var o=0;o<l._fullData.length;o++)i(l,o)}},48068:function(B,L,e){var k=e(78484),w=e(3400),r=e(71688).wrap,_=w.isArrayOrTypedArray,v=w.isIndex,f=e(8932);B.exports=function(s,t){var a=function(n){var i,l=n.node,o=n.link,u=[],h=_(o.color),c=_(o.hovercolor),b=_(o.customdata),d={},g={},m=o.colorscales.length;for(i=0;i<m;i++){var y=o.colorscales[i],x=f.extractScale(y,{cLetter:"c"}),T=f.makeColorScaleFunc(x);g[y.label]=T}var p=0;for(i=0;i<o.value.length;i++)o.source[i]>p&&(p=o.source[i]),o.target[i]>p&&(p=o.target[i]);var S,M=p+1;n.node._count=M;var E=n.node.groups,P={};for(i=0;i<E.length;i++){var O=E[i];for(S=0;S<O.length;S++){var I=O[S],R=M+i;P.hasOwnProperty(I)?w.warn("Node "+I+" is already part of a group."):P[I]=R}}var U={source:[],target:[]};for(i=0;i<o.value.length;i++){var z=o.value[i],j=o.source[i],W=o.target[i];if(z>0&&v(j,M)&&v(W,M)&&(!P.hasOwnProperty(j)||!P.hasOwnProperty(W)||P[j]!==P[W])){P.hasOwnProperty(W)&&(W=P[W]),P.hasOwnProperty(j)&&(j=P[j]),W=+W,d[j=+j]=d[W]=!0;var F="";o.label&&o.label[i]&&(F=o.label[i]);var V=null;F&&g.hasOwnProperty(F)&&(V=g[F]),u.push({pointNumber:i,label:F,color:h?o.color[i]:o.color,hovercolor:c?o.hovercolor[i]:o.hovercolor,customdata:b?o.customdata[i]:o.customdata,concentrationscale:V,source:j,target:W,value:+z}),U.source.push(j),U.target.push(W)}}var H=M+E.length,te=_(l.color),Q=_(l.customdata),K=[];for(i=0;i<H;i++)if(d[i]){var X=l.label[i];K.push({group:i>M-1,childrenNodes:[],pointNumber:i,label:X,color:te?l.color[i]:l.color,customdata:Q?l.customdata[i]:l.customdata})}var J=!1;return function(ee,ie,oe){for(var ae=w.init2dArray(ee,0),ce=0;ce<Math.min(ie.length,oe.length);ce++)if(w.isIndex(ie[ce],ee)&&w.isIndex(oe[ce],ee)){if(ie[ce]===oe[ce])return!0;ae[ie[ce]].push(oe[ce])}return k(ae).components.some(function(ge){return ge.length>1})}(H,U.source,U.target)&&(J=!0),{circular:J,links:u,nodes:K,groups:E,groupLookup:P}}(t);return r({circular:a.circular,_nodes:a.nodes,_links:a.links,_groups:a.groups,_groupLookup:a.groupLookup})}},11820:function(B){B.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(B,L,e){var k=e(3400),w=e(41440),r=e(76308),_=e(49760),v=e(86968).Q,f=e(16132),s=e(31780),t=e(51272);function a(n,i){function l(o,u){return k.coerce(n,i,w.link.colorscales,o,u)}l("label"),l("cmin"),l("cmax"),l("colorscale")}B.exports=function(n,i,l,o){function u(E,P){return k.coerce(n,i,w,E,P)}var h=k.extendDeep(o.hoverlabel,n.hoverlabel),c=n.node,b=s.newContainer(i,"node");function d(E,P){return k.coerce(c,b,w.node,E,P)}d("label"),d("groups"),d("x"),d("y"),d("pad"),d("thickness"),d("line.color"),d("line.width"),d("hoverinfo",n.hoverinfo),f(c,b,d,h),d("hovertemplate"),d("align");var g=o.colorway;d("color",b.label.map(function(E,P){return r.addOpacity(function(O){return g[O%g.length]}(P),.8)})),d("customdata");var m=n.link||{},y=s.newContainer(i,"link");function x(E,P){return k.coerce(m,y,w.link,E,P)}x("label"),x("arrowlen"),x("source"),x("target"),x("value"),x("line.color"),x("line.width"),x("hoverinfo",n.hoverinfo),f(m,y,x,h),x("hovertemplate");var T,p=_(o.paper_bgcolor).getLuminance()<.333,S=x("color",p?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)");function M(E){var P=_(E);if(!P.isValid())return E;var O=P.getAlpha();return O<=.8?P.setAlpha(O+.2):P=p?P.brighten():P.darken(),P.toRgbString()}x("hovercolor",Array.isArray(S)?S.map(M):M(S)),x("customdata"),t(m,y,{name:"colorscales",handleItemDefaults:a}),v(i,o,u),u("orientation"),u("valueformat"),u("valuesuffix"),b.x.length&&b.y.length&&(T="freeform"),u("arrangement",T),k.coerceFont(u,"textfont",k.extendFlat({},o.font)),i._length=null}},45499:function(B,L,e){B.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(B,L,e){var k=e(33428),w=e(3400),r=w.numberFormat,_=e(83248),v=e(93024),f=e(76308),s=e(11820).cn,t=w._;function a(m){return m!==""}function n(m,y){return m.filter(function(x){return x.key===y.traceId})}function i(m,y){k.select(m).select("path").style("fill-opacity",y),k.select(m).select("rect").style("fill-opacity",y)}function l(m){k.select(m).select("text.name").style("fill","black")}function o(m){return function(y){return m.node.sourceLinks.indexOf(y.link)!==-1||m.node.targetLinks.indexOf(y.link)!==-1}}function u(m){return function(y){return y.node.sourceLinks.indexOf(m.link)!==-1||y.node.targetLinks.indexOf(m.link)!==-1}}function h(m,y,x){y&&x&&n(x,y).selectAll("."+s.sankeyLink).filter(o(y)).call(b.bind(0,y,x,!1))}function c(m,y,x){y&&x&&n(x,y).selectAll("."+s.sankeyLink).filter(o(y)).call(d.bind(0,y,x,!1))}function b(m,y,x,T){T.style("fill",function(p){if(!p.link.concentrationscale)return p.tinyColorHoverHue}).style("fill-opacity",function(p){if(!p.link.concentrationscale)return p.tinyColorHoverAlpha}),T.each(function(p){var S=p.link.label;S!==""&&n(y,m).selectAll("."+s.sankeyLink).filter(function(M){return M.link.label===S}).style("fill",function(M){if(!M.link.concentrationscale)return M.tinyColorHoverHue}).style("fill-opacity",function(M){if(!M.link.concentrationscale)return M.tinyColorHoverAlpha})}),x&&n(y,m).selectAll("."+s.sankeyNode).filter(u(m)).call(h)}function d(m,y,x,T){T.style("fill",function(p){return p.tinyColorHue}).style("fill-opacity",function(p){return p.tinyColorAlpha}),T.each(function(p){var S=p.link.label;S!==""&&n(y,m).selectAll("."+s.sankeyLink).filter(function(M){return M.link.label===S}).style("fill",function(M){return M.tinyColorHue}).style("fill-opacity",function(M){return M.tinyColorAlpha})}),x&&n(y,m).selectAll(s.sankeyNode).filter(u(m)).call(c)}function g(m,y){var x=m.hoverlabel||{},T=w.nestedProperty(x,y).get();return!Array.isArray(T)&&T}B.exports=function(m,y){for(var x=m._fullLayout,T=x._paper,p=x._size,S=0;S<m._fullData.length;S++)if(m._fullData[S].visible&&m._fullData[S].type===s.sankey&&!m._fullData[S]._viewInitial){var M=m._fullData[S].node;m._fullData[S]._viewInitial={node:{groups:M.groups.slice(),x:M.x.slice(),y:M.y.slice()}}}var E=t(m,"source:")+" ",P=t(m,"target:")+" ",O=t(m,"concentration:")+" ",I=t(m,"incoming flow count:")+" ",R=t(m,"outgoing flow count:")+" ";_(m,T,y,{width:p.w,height:p.h,margin:{t:p.t,r:p.r,b:p.b,l:p.l}},{linkEvents:{hover:function(U,z,j){m._fullLayout.hovermode!==!1&&(k.select(U).call(b.bind(0,z,j,!0)),z.link.trace.link.hoverinfo!=="skip"&&(z.link.fullData=z.link.trace,m.emit("plotly_hover",{event:k.event,points:[z.link]})))},follow:function(U,z){if(m._fullLayout.hovermode!==!1){var j=z.link.trace.link;if(j.hoverinfo!=="none"&&j.hoverinfo!=="skip"){for(var W=[],F=0,V=0;V<z.flow.links.length;V++){var H=z.flow.links[V];if(m._fullLayout.hovermode!=="closest"||z.link.pointNumber===H.pointNumber){z.link.pointNumber===H.pointNumber&&(F=V),H.fullData=H.trace,j=z.link.trace.link;var te=K(H),Q={valueLabel:r(z.valueFormat)(H.value)+z.valueSuffix};W.push({x:te[0],y:te[1],name:Q.valueLabel,text:[H.label||"",E+H.source.label,P+H.target.label,H.concentrationscale?O+r("%0.2f")(H.flow.labelConcentration):""].filter(a).join("<br>"),color:g(j,"bgcolor")||f.addOpacity(H.color,1),borderColor:g(j,"bordercolor"),fontFamily:g(j,"font.family"),fontSize:g(j,"font.size"),fontColor:g(j,"font.color"),nameLength:g(j,"namelength"),textAlign:g(j,"align"),idealAlign:k.event.x<te[0]?"right":"left",hovertemplate:j.hovertemplate,hovertemplateLabels:Q,eventData:[H]})}}v.loneHover(W,{container:x._hoverlayer.node(),outerContainer:x._paper.node(),gd:m,anchorIndex:F}).each(function(){z.link.concentrationscale||i(this,.65),l(this)})}}function K(X){var J,ee;X.circular?(J=(X.circularPathData.leftInnerExtent+X.circularPathData.rightInnerExtent)/2,ee=X.circularPathData.verticalFullExtent):(J=(X.source.x1+X.target.x0)/2,ee=(X.y0+X.y1)/2);var ie=[J,ee];return X.trace.orientation==="v"&&ie.reverse(),ie[0]+=z.parent.translateX,ie[1]+=z.parent.translateY,ie}},unhover:function(U,z,j){m._fullLayout.hovermode!==!1&&(k.select(U).call(d.bind(0,z,j,!0)),z.link.trace.link.hoverinfo!=="skip"&&(z.link.fullData=z.link.trace,m.emit("plotly_unhover",{event:k.event,points:[z.link]})),v.loneUnhover(x._hoverlayer.node()))},select:function(U,z){var j=z.link;j.originalEvent=k.event,m._hoverdata=[j],v.click(m,{target:!0})}},nodeEvents:{hover:function(U,z,j){m._fullLayout.hovermode!==!1&&(k.select(U).call(h,z,j),z.node.trace.node.hoverinfo!=="skip"&&(z.node.fullData=z.node.trace,m.emit("plotly_hover",{event:k.event,points:[z.node]})))},follow:function(U,z){if(m._fullLayout.hovermode!==!1){var j=z.node.trace.node;if(j.hoverinfo!=="none"&&j.hoverinfo!=="skip"){var W=k.select(U).select("."+s.nodeRect),F=m._fullLayout._paperdiv.node().getBoundingClientRect(),V=W.node().getBoundingClientRect(),H=V.left-2-F.left,te=V.right+2-F.left,Q=V.top+V.height/4-F.top,K={valueLabel:r(z.valueFormat)(z.node.value)+z.valueSuffix};z.node.fullData=z.node.trace,m._fullLayout._calcInverseTransform(m);var X=m._fullLayout._invScaleX,J=m._fullLayout._invScaleY,ee=v.loneHover({x0:X*H,x1:X*te,y:J*Q,name:r(z.valueFormat)(z.node.value)+z.valueSuffix,text:[z.node.label,I+z.node.targetLinks.length,R+z.node.sourceLinks.length].filter(a).join("<br>"),color:g(j,"bgcolor")||z.tinyColorHue,borderColor:g(j,"bordercolor"),fontFamily:g(j,"font.family"),fontSize:g(j,"font.size"),fontColor:g(j,"font.color"),nameLength:g(j,"namelength"),textAlign:g(j,"align"),idealAlign:"left",hovertemplate:j.hovertemplate,hovertemplateLabels:K,eventData:[z.node]},{container:x._hoverlayer.node(),outerContainer:x._paper.node(),gd:m});i(ee,.85),l(ee)}}},unhover:function(U,z,j){m._fullLayout.hovermode!==!1&&(k.select(U).call(c,z,j),z.node.trace.node.hoverinfo!=="skip"&&(z.node.fullData=z.node.trace,m.emit("plotly_unhover",{event:k.event,points:[z.node]})),v.loneUnhover(x._hoverlayer.node()))},select:function(U,z,j){var W=z.node;W.originalEvent=k.event,m._hoverdata=[W],k.select(U).call(c,z,j),v.click(m,{target:!0})}}})}},83248:function(B,L,e){var k=e(49812),w=e(67756).Gz,r=e(33428),_=e(26800),v=e(48932),f=e(11820),s=e(49760),t=e(76308),a=e(43616),n=e(3400),i=n.strTranslate,l=n.strRotate,o=e(71688),u=o.keyFun,h=o.repeat,c=o.unwrap,b=e(72736),d=e(24040),g=e(84284),m=g.CAP_SHIFT,y=g.LINE_SPACING;function x(V,H,te){var Q,K=c(H),X=K.trace,J=X.domain,ee=X.orientation==="h",ie=X.node.pad,oe=X.node.thickness,ae={justify:_.sankeyJustify,left:_.sankeyLeft,right:_.sankeyRight,center:_.sankeyCenter}[X.node.align],ce=V.width*(J.x[1]-J.x[0]),ge=V.height*(J.y[1]-J.y[0]),ve=K._nodes,be=K._links,we=K.circular;(Q=we?v.sankeyCircular().circularLinkGap(0):_.sankey()).iterations(f.sankeyIterations).size(ee?[ce,ge]:[ge,ce]).nodeWidth(oe).nodePadding(ie).nodeId(function(Oe){return Oe.pointNumber}).nodeAlign(ae).nodes(ve).links(be);var ye,me,Ae,ke=Q();for(var fe in Q.nodePadding()<ie&&n.warn("node.pad was reduced to ",Q.nodePadding()," to fit within the figure."),K._groupLookup){var le,de=parseInt(K._groupLookup[fe]);for(ye=0;ye<ke.nodes.length;ye++)if(ke.nodes[ye].pointNumber===de){le=ke.nodes[ye];break}if(le){var Ce={pointNumber:parseInt(fe),x0:le.x0,x1:le.x1,y0:le.y0,y1:le.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};ke.nodes.unshift(Ce),le.childrenNodes.unshift(Ce)}}if(function(){for(ye=0;ye<ke.nodes.length;ye++){var Oe,Be,pe=ke.nodes[ye],_e={};for(me=0;me<pe.targetLinks.length;me++)Oe=(Be=pe.targetLinks[me]).source.pointNumber+":"+Be.target.pointNumber,_e.hasOwnProperty(Oe)||(_e[Oe]=[]),_e[Oe].push(Be);var Te=Object.keys(_e);for(me=0;me<Te.length;me++){var Re=_e[Oe=Te[me]],Ne=0,ze={};for(Ae=0;Ae<Re.length;Ae++)ze[(Be=Re[Ae]).label]||(ze[Be.label]=0),ze[Be.label]+=Be.value,Ne+=Be.value;for(Ae=0;Ae<Re.length;Ae++)(Be=Re[Ae]).flow={value:Ne,labelConcentration:ze[Be.label]/Ne,concentration:Be.value/Ne,links:Re},Be.concentrationscale&&(Be.color=s(Be.concentrationscale(Be.flow.labelConcentration)))}var Ge=0;for(me=0;me<pe.sourceLinks.length;me++)Ge+=pe.sourceLinks[me].value;for(me=0;me<pe.sourceLinks.length;me++)(Be=pe.sourceLinks[me]).concentrationOut=Be.value/Ge;var Ye=0;for(me=0;me<pe.targetLinks.length;me++)Ye+=pe.targetLinks[me].value;for(me=0;me<pe.targetLinks.length;me++)(Be=pe.targetLinks[me]).concenrationIn=Be.value/Ye}}(),X.node.x.length&&X.node.y.length){for(ye=0;ye<Math.min(X.node.x.length,X.node.y.length,ke.nodes.length);ye++)if(X.node.x[ye]&&X.node.y[ye]){var Me=[X.node.x[ye]*ce,X.node.y[ye]*ge];ke.nodes[ye].x0=Me[0]-oe/2,ke.nodes[ye].x1=Me[0]+oe/2;var Le=ke.nodes[ye].y1-ke.nodes[ye].y0;ke.nodes[ye].y0=Me[1]-Le/2,ke.nodes[ye].y1=Me[1]+Le/2}X.arrangement==="snap"&&function(Oe){var Be,pe,_e=Oe.map(function(Ge,Ye){return{x0:Ge.x0,index:Ye}}).sort(function(Ge,Ye){return Ge.x0-Ye.x0}),Te=[],Re=-1,Ne=-1/0;for(ye=0;ye<_e.length;ye++){var ze=Oe[_e[ye].index];ze.x0>Ne+oe&&(Re+=1,Be=ze.x0),Ne=ze.x0,Te[Re]||(Te[Re]=[]),Te[Re].push(ze),pe=Be-ze.x0,ze.x0+=pe,ze.x1+=pe}return Te}(ve=ke.nodes).forEach(function(Oe){var Be,pe,_e,Te=0,Re=Oe.length;for(Oe.sort(function(Ne,ze){return Ne.y0-ze.y0}),_e=0;_e<Re;++_e)(Be=Oe[_e]).y0>=Te||(pe=Te-Be.y0)>1e-6&&(Be.y0+=pe,Be.y1+=pe),Te=Be.y1+ie}),Q.update(ke)}return{circular:we,key:te,trace:X,guid:n.randstr(),horizontal:ee,width:ce,height:ge,nodePad:X.node.pad,nodeLineColor:X.node.line.color,nodeLineWidth:X.node.line.width,linkLineColor:X.link.line.color,linkLineWidth:X.link.line.width,linkArrowLength:X.link.arrowlen,valueFormat:X.valueformat,valueSuffix:X.valuesuffix,textFont:X.textfont,translateX:J.x[0]*V.width+V.margin.l,translateY:V.height-J.y[1]*V.height+V.margin.t,dragParallel:ee?ge:ce,dragPerpendicular:ee?ce:ge,arrangement:X.arrangement,sankey:Q,graph:ke,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function T(V,H,te){var Q=s(H.color),K=s(H.hovercolor),X=H.source.label+"|"+H.target.label+"__"+te;return H.trace=V.trace,H.curveNumber=V.trace.index,{circular:V.circular,key:X,traceId:V.key,pointNumber:H.pointNumber,link:H,tinyColorHue:t.tinyRGB(Q),tinyColorAlpha:Q.getAlpha(),tinyColorHoverHue:t.tinyRGB(K),tinyColorHoverAlpha:K.getAlpha(),linkPath:p,linkLineColor:V.linkLineColor,linkLineWidth:V.linkLineWidth,linkArrowLength:V.linkArrowLength,valueFormat:V.valueFormat,valueSuffix:V.valueSuffix,sankey:V.sankey,parent:V,interactionState:V.interactionState,flow:H.flow}}function p(){return function(V){var H=V.linkArrowLength;if(V.link.circular)return function(ye,me){var Ae=ye.width/2,ke=ye.circularPathData;return ye.circularLinkType==="top"?"M "+(ke.targetX-me)+" "+(ke.targetY+Ae)+" L"+(ke.rightInnerExtent-me)+" "+(ke.targetY+Ae)+"A"+(ke.rightLargeArcRadius+Ae)+" "+(ke.rightSmallArcRadius+Ae)+" 0 0 1 "+(ke.rightFullExtent-Ae-me)+" "+(ke.targetY-ke.rightSmallArcRadius)+"L"+(ke.rightFullExtent-Ae-me)+" "+ke.verticalRightInnerExtent+"A"+(ke.rightLargeArcRadius+Ae)+" "+(ke.rightLargeArcRadius+Ae)+" 0 0 1 "+(ke.rightInnerExtent-me)+" "+(ke.verticalFullExtent-Ae)+"L"+ke.leftInnerExtent+" "+(ke.verticalFullExtent-Ae)+"A"+(ke.leftLargeArcRadius+Ae)+" "+(ke.leftLargeArcRadius+Ae)+" 0 0 1 "+(ke.leftFullExtent+Ae)+" "+ke.verticalLeftInnerExtent+"L"+(ke.leftFullExtent+Ae)+" "+(ke.sourceY-ke.leftSmallArcRadius)+"A"+(ke.leftLargeArcRadius+Ae)+" "+(ke.leftSmallArcRadius+Ae)+" 0 0 1 "+ke.leftInnerExtent+" "+(ke.sourceY+Ae)+"L"+ke.sourceX+" "+(ke.sourceY+Ae)+"L"+ke.sourceX+" "+(ke.sourceY-Ae)+"L"+ke.leftInnerExtent+" "+(ke.sourceY-Ae)+"A"+(ke.leftLargeArcRadius-Ae)+" "+(ke.leftSmallArcRadius-Ae)+" 0 0 0 "+(ke.leftFullExtent-Ae)+" "+(ke.sourceY-ke.leftSmallArcRadius)+"L"+(ke.leftFullExtent-Ae)+" "+ke.verticalLeftInnerExtent+"A"+(ke.leftLargeArcRadius-Ae)+" "+(ke.leftLargeArcRadius-Ae)+" 0 0 0 "+ke.leftInnerExtent+" "+(ke.verticalFullExtent+Ae)+"L"+(ke.rightInnerExtent-me)+" "+(ke.verticalFullExtent+Ae)+"A"+(ke.rightLargeArcRadius-Ae)+" "+(ke.rightLargeArcRadius-Ae)+" 0 0 0 "+(ke.rightFullExtent+Ae-me)+" "+ke.verticalRightInnerExtent+"L"+(ke.rightFullExtent+Ae-me)+" "+(ke.targetY-ke.rightSmallArcRadius)+"A"+(ke.rightLargeArcRadius-Ae)+" "+(ke.rightSmallArcRadius-Ae)+" 0 0 0 "+(ke.rightInnerExtent-me)+" "+(ke.targetY-Ae)+"L"+(ke.targetX-me)+" "+(ke.targetY-Ae)+(me>0?"L"+ke.targetX+" "+ke.targetY:"")+"Z":"M "+(ke.targetX-me)+" "+(ke.targetY-Ae)+" L"+(ke.rightInnerExtent-me)+" "+(ke.targetY-Ae)+"A"+(ke.rightLargeArcRadius+Ae)+" "+(ke.rightSmallArcRadius+Ae)+" 0 0 0 "+(ke.rightFullExtent-Ae-me)+" "+(ke.targetY+ke.rightSmallArcRadius)+"L"+(ke.rightFullExtent-Ae-me)+" "+ke.verticalRightInnerExtent+"A"+(ke.rightLargeArcRadius+Ae)+" "+(ke.rightLargeArcRadius+Ae)+" 0 0 0 "+(ke.rightInnerExtent-me)+" "+(ke.verticalFullExtent+Ae)+"L"+ke.leftInnerExtent+" "+(ke.verticalFullExtent+Ae)+"A"+(ke.leftLargeArcRadius+Ae)+" "+(ke.leftLargeArcRadius+Ae)+" 0 0 0 "+(ke.leftFullExtent+Ae)+" "+ke.verticalLeftInnerExtent+"L"+(ke.leftFullExtent+Ae)+" "+(ke.sourceY+ke.leftSmallArcRadius)+"A"+(ke.leftLargeArcRadius+Ae)+" "+(ke.leftSmallArcRadius+Ae)+" 0 0 0 "+ke.leftInnerExtent+" "+(ke.sourceY-Ae)+"L"+ke.sourceX+" "+(ke.sourceY-Ae)+"L"+ke.sourceX+" "+(ke.sourceY+Ae)+"L"+ke.leftInnerExtent+" "+(ke.sourceY+Ae)+"A"+(ke.leftLargeArcRadius-Ae)+" "+(ke.leftSmallArcRadius-Ae)+" 0 0 1 "+(ke.leftFullExtent-Ae)+" "+(ke.sourceY+ke.leftSmallArcRadius)+"L"+(ke.leftFullExtent-Ae)+" "+ke.verticalLeftInnerExtent+"A"+(ke.leftLargeArcRadius-Ae)+" "+(ke.leftLargeArcRadius-Ae)+" 0 0 1 "+ke.leftInnerExtent+" "+(ke.verticalFullExtent-Ae)+"L"+(ke.rightInnerExtent-me)+" "+(ke.verticalFullExtent-Ae)+"A"+(ke.rightLargeArcRadius-Ae)+" "+(ke.rightLargeArcRadius-Ae)+" 0 0 1 "+(ke.rightFullExtent+Ae-me)+" "+ke.verticalRightInnerExtent+"L"+(ke.rightFullExtent+Ae-me)+" "+(ke.targetY+ke.rightSmallArcRadius)+"A"+(ke.rightLargeArcRadius-Ae)+" "+(ke.rightSmallArcRadius-Ae)+" 0 0 1 "+(ke.rightInnerExtent-me)+" "+(ke.targetY+Ae)+"L"+(ke.targetX-me)+" "+(ke.targetY+Ae)+(me>0?"L"+ke.targetX+" "+ke.targetY:"")+"Z"}(V.link,H);var te=Math.abs((V.link.target.x0-V.link.source.x1)/2);H>te&&(H=te);var Q=V.link.source.x1,K=V.link.target.x0-H,X=w(Q,K),J=X(.5),ee=X(.5),ie=V.link.y0-V.link.width/2,oe=V.link.y0+V.link.width/2,ae=V.link.y1-V.link.width/2,ce=V.link.y1+V.link.width/2,ge="M"+Q+","+ie,ve="C"+J+","+ie+" "+ee+","+ae+" "+K+","+ae,be="C"+ee+","+ce+" "+J+","+oe+" "+Q+","+oe,we=H>0?"L"+(K+H)+","+(ae+V.link.width/2):"";return ge+ve+(we+="L"+K+","+ce)+be+"Z"}}function S(V,H){var te=s(H.color),Q=f.nodePadAcross,K=V.nodePad/2;H.dx=H.x1-H.x0,H.dy=H.y1-H.y0;var X=H.dx,J=Math.max(.5,H.dy),ee="node_"+H.pointNumber;return H.group&&(ee=n.randstr()),H.trace=V.trace,H.curveNumber=V.trace.index,{index:H.pointNumber,key:ee,partOfGroup:H.partOfGroup||!1,group:H.group,traceId:V.key,trace:V.trace,node:H,nodePad:V.nodePad,nodeLineColor:V.nodeLineColor,nodeLineWidth:V.nodeLineWidth,textFont:V.textFont,size:V.horizontal?V.height:V.width,visibleWidth:Math.ceil(X),visibleHeight:J,zoneX:-Q,zoneY:-K,zoneWidth:X+2*Q,zoneHeight:J+2*K,labelY:V.horizontal?H.dy/2+1:H.dx/2+1,left:H.originalLayer===1,sizeAcross:V.width,forceLayouts:V.forceLayouts,horizontal:V.horizontal,darkBackground:te.getBrightness()<=128,tinyColorHue:t.tinyRGB(te),tinyColorAlpha:te.getAlpha(),valueFormat:V.valueFormat,valueSuffix:V.valueSuffix,sankey:V.sankey,graph:V.graph,arrangement:V.arrangement,uniqueNodeLabelPathId:[V.guid,V.key,ee].join("_"),interactionState:V.interactionState,figure:V}}function M(V){V.attr("transform",function(H){return i(H.node.x0.toFixed(3),H.node.y0.toFixed(3))})}function E(V){V.call(M)}function P(V,H){V.call(E),H.attr("d",p())}function O(V){V.attr("width",function(H){return H.node.x1-H.node.x0}).attr("height",function(H){return H.visibleHeight})}function I(V){return V.link.width>1||V.linkLineWidth>0}function R(V){return i(V.translateX,V.translateY)+(V.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function U(V,H,te){V.on(".basic",null).on("mouseover.basic",function(Q){Q.interactionState.dragInProgress||Q.partOfGroup||(te.hover(this,Q,H),Q.interactionState.hovered=[this,Q])}).on("mousemove.basic",function(Q){Q.interactionState.dragInProgress||Q.partOfGroup||(te.follow(this,Q),Q.interactionState.hovered=[this,Q])}).on("mouseout.basic",function(Q){Q.interactionState.dragInProgress||Q.partOfGroup||(te.unhover(this,Q,H),Q.interactionState.hovered=!1)}).on("click.basic",function(Q){Q.interactionState.hovered&&(te.unhover(this,Q,H),Q.interactionState.hovered=!1),Q.interactionState.dragInProgress||Q.partOfGroup||te.select(this,Q,H)})}function z(V,H,te,Q){var K=r.behavior.drag().origin(function(X){return{x:X.node.x0+X.visibleWidth/2,y:X.node.y0+X.visibleHeight/2}}).on("dragstart",function(X){if(X.arrangement!=="fixed"&&(n.ensureSingle(Q._fullLayout._infolayer,"g","dragcover",function(ee){Q._fullLayout._dragCover=ee}),n.raiseToTop(this),X.interactionState.dragInProgress=X.node,W(X.node),X.interactionState.hovered&&(te.nodeEvents.unhover.apply(0,X.interactionState.hovered),X.interactionState.hovered=!1),X.arrangement==="snap")){var J=X.traceId+"|"+X.key;X.forceLayouts[J]?X.forceLayouts[J].alpha(1):function(ee,ie,oe,ae){(function(ge){for(var ve=0;ve<ge.length;ve++)ge[ve].y=(ge[ve].y0+ge[ve].y1)/2,ge[ve].x=(ge[ve].x0+ge[ve].x1)/2})(oe.graph.nodes);var ce=oe.graph.nodes.filter(function(ge){return ge.originalX===oe.node.originalX}).filter(function(ge){return!ge.partOfGroup});oe.forceLayouts[ie]=k.forceSimulation(ce).alphaDecay(0).force("collide",k.forceCollide().radius(function(ge){return ge.dy/2+oe.nodePad/2}).strength(1).iterations(f.forceIterations)).force("constrain",function(ge,ve,be,we){return function(){for(var ye=0,me=0;me<be.length;me++){var Ae=be[me];Ae===we.interactionState.dragInProgress?(Ae.x=Ae.lastDraggedX,Ae.y=Ae.lastDraggedY):(Ae.vx=(Ae.originalX-Ae.x)/f.forceTicksPerFrame,Ae.y=Math.min(we.size-Ae.dy/2,Math.max(Ae.dy/2,Ae.y))),ye=Math.max(ye,Math.abs(Ae.vx),Math.abs(Ae.vy))}!we.interactionState.dragInProgress&&ye<.1&&we.forceLayouts[ve].alpha()>0&&we.forceLayouts[ve].alpha(0)}}(0,ie,ce,oe)).stop()}(0,J,X),function(ee,ie,oe,ae,ce){window.requestAnimationFrame(function ge(){var ve;for(ve=0;ve<f.forceTicksPerFrame;ve++)oe.forceLayouts[ae].tick();if(function(we){for(var ye=0;ye<we.length;ye++)we[ye].y0=we[ye].y-we[ye].dy/2,we[ye].y1=we[ye].y0+we[ye].dy,we[ye].x0=we[ye].x-we[ye].dx/2,we[ye].x1=we[ye].x0+we[ye].dx}(oe.graph.nodes),oe.sankey.update(oe.graph),P(ee.filter(F(oe)),ie),oe.forceLayouts[ae].alpha()>0)window.requestAnimationFrame(ge);else{var be=oe.node.originalX;oe.node.x0=be-oe.visibleWidth/2,oe.node.x1=be+oe.visibleWidth/2,j(oe,ce)}})}(V,H,X,J,Q)}}).on("drag",function(X){if(X.arrangement!=="fixed"){var J=r.event.x,ee=r.event.y;X.arrangement==="snap"?(X.node.x0=J-X.visibleWidth/2,X.node.x1=J+X.visibleWidth/2,X.node.y0=ee-X.visibleHeight/2,X.node.y1=ee+X.visibleHeight/2):(X.arrangement==="freeform"&&(X.node.x0=J-X.visibleWidth/2,X.node.x1=J+X.visibleWidth/2),ee=Math.max(0,Math.min(X.size-X.visibleHeight/2,ee)),X.node.y0=ee-X.visibleHeight/2,X.node.y1=ee+X.visibleHeight/2),W(X.node),X.arrangement!=="snap"&&(X.sankey.update(X.graph),P(V.filter(F(X)),H))}}).on("dragend",function(X){if(X.arrangement!=="fixed"){X.interactionState.dragInProgress=!1;for(var J=0;J<X.node.childrenNodes.length;J++)X.node.childrenNodes[J].x=X.node.x,X.node.childrenNodes[J].y=X.node.y;X.arrangement!=="snap"&&j(X,Q)}});V.on(".drag",null).call(K)}function j(V,H){for(var te=[],Q=[],K=0;K<V.graph.nodes.length;K++){var X=(V.graph.nodes[K].x0+V.graph.nodes[K].x1)/2,J=(V.graph.nodes[K].y0+V.graph.nodes[K].y1)/2;te.push(X/V.figure.width),Q.push(J/V.figure.height)}d.call("_guiRestyle",H,{"node.x":[te],"node.y":[Q]},V.trace.index).then(function(){H._fullLayout._dragCover&&H._fullLayout._dragCover.remove()})}function W(V){V.lastDraggedX=V.x0+V.dx/2,V.lastDraggedY=V.y0+V.dy/2}function F(V){return function(H){return H.node.originalX===V.node.originalX}}B.exports=function(V,H,te,Q,K){var X=V._context.staticPlot,J=!1;n.ensureSingle(V._fullLayout._infolayer,"g","first-render",function(){J=!0});var ee=V._fullLayout._dragCover,ie=te.filter(function(ye){return c(ye).trace.visible}).map(x.bind(null,Q)),oe=H.selectAll("."+f.cn.sankey).data(ie,u);oe.exit().remove(),oe.enter().append("g").classed(f.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",X?"none":"auto").attr("transform",R),oe.each(function(ye,me){V._fullData[me]._sankey=ye;var Ae="bgsankey-"+ye.trace.uid+"-"+me;n.ensureSingle(V._fullLayout._draggers,"rect",Ae),V._fullData[me]._bgRect=r.select("."+Ae),V._fullData[me]._bgRect.style("pointer-events",X?"none":"all").attr("width",ye.width).attr("height",ye.height).attr("x",ye.translateX).attr("y",ye.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),oe.transition().ease(f.ease).duration(f.duration).attr("transform",R);var ae=oe.selectAll("."+f.cn.sankeyLinks).data(h,u);ae.enter().append("g").classed(f.cn.sankeyLinks,!0).style("fill","none");var ce=ae.selectAll("."+f.cn.sankeyLink).data(function(ye){return ye.graph.links.filter(function(me){return me.value}).map(T.bind(null,ye))},u);ce.enter().append("path").classed(f.cn.sankeyLink,!0).call(U,oe,K.linkEvents),ce.style("stroke",function(ye){return I(ye)?t.tinyRGB(s(ye.linkLineColor)):ye.tinyColorHue}).style("stroke-opacity",function(ye){return I(ye)?t.opacity(ye.linkLineColor):ye.tinyColorAlpha}).style("fill",function(ye){return ye.tinyColorHue}).style("fill-opacity",function(ye){return ye.tinyColorAlpha}).style("stroke-width",function(ye){return I(ye)?ye.linkLineWidth:1}).attr("d",p()),ce.style("opacity",function(){return V._context.staticPlot||J||ee?1:0}).transition().ease(f.ease).duration(f.duration).style("opacity",1),ce.exit().transition().ease(f.ease).duration(f.duration).style("opacity",0).remove();var ge=oe.selectAll("."+f.cn.sankeyNodeSet).data(h,u);ge.enter().append("g").classed(f.cn.sankeyNodeSet,!0),ge.style("cursor",function(ye){switch(ye.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var ve=ge.selectAll("."+f.cn.sankeyNode).data(function(ye){var me=ye.graph.nodes;return function(Ae){var ke,fe=[];for(ke=0;ke<Ae.length;ke++)Ae[ke].originalX=(Ae[ke].x0+Ae[ke].x1)/2,Ae[ke].originalY=(Ae[ke].y0+Ae[ke].y1)/2,fe.indexOf(Ae[ke].originalX)===-1&&fe.push(Ae[ke].originalX);for(fe.sort(function(le,de){return le-de}),ke=0;ke<Ae.length;ke++)Ae[ke].originalLayerIndex=fe.indexOf(Ae[ke].originalX),Ae[ke].originalLayer=Ae[ke].originalLayerIndex/(fe.length-1)}(me),me.map(S.bind(null,ye))},u);ve.enter().append("g").classed(f.cn.sankeyNode,!0).call(M).style("opacity",function(ye){return!V._context.staticPlot&&!J||ye.partOfGroup?0:1}),ve.call(U,oe,K.nodeEvents).call(z,ce,K,V),ve.transition().ease(f.ease).duration(f.duration).call(M).style("opacity",function(ye){return ye.partOfGroup?0:1}),ve.exit().transition().ease(f.ease).duration(f.duration).style("opacity",0).remove();var be=ve.selectAll("."+f.cn.nodeRect).data(h);be.enter().append("rect").classed(f.cn.nodeRect,!0).call(O),be.style("stroke-width",function(ye){return ye.nodeLineWidth}).style("stroke",function(ye){return t.tinyRGB(s(ye.nodeLineColor))}).style("stroke-opacity",function(ye){return t.opacity(ye.nodeLineColor)}).style("fill",function(ye){return ye.tinyColorHue}).style("fill-opacity",function(ye){return ye.tinyColorAlpha}),be.transition().ease(f.ease).duration(f.duration).call(O);var we=ve.selectAll("."+f.cn.nodeLabel).data(h);we.enter().append("text").classed(f.cn.nodeLabel,!0).style("cursor","default"),we.attr("data-notex",1).text(function(ye){return ye.node.label}).each(function(ye){var me=r.select(this);a.font(me,ye.textFont),b.convertToTspans(me,V)}).style("text-shadow",b.makeTextShadow(V._fullLayout.paper_bgcolor)).attr("text-anchor",function(ye){return ye.horizontal&&ye.left?"end":"start"}).attr("transform",function(ye){var me=r.select(this),Ae=b.lineCount(me),ke=ye.textFont.size*((Ae-1)*y-m),fe=ye.nodeLineWidth/2+3,le=((ye.horizontal?ye.visibleHeight:ye.visibleWidth)-ke)/2;ye.horizontal&&(ye.left?fe=-fe:fe+=ye.visibleWidth);var de=ye.horizontal?"":"scale(-1,1)"+l(90);return i(ye.horizontal?fe:le,ye.horizontal?le:fe)+de}),we.transition().ease(f.ease).duration(f.duration)}},81128:function(B){B.exports=function(L,e){for(var k=[],w=L.cd[0].trace,r=w._sankey.graph.nodes,_=0;_<r.length;_++){var v=r[_];if(!v.partOfGroup){var f=[(v.x0+v.x1)/2,(v.y0+v.y1)/2];w.orientation==="v"&&f.reverse(),e&&e.contains(f,!1,_,L)&&k.push({pointNumber:v.pointNumber})}}return k}},20148:function(B,L,e){var k=e(3400);B.exports=function(w,r){for(var _=0;_<w.length;_++)w[_].i=_;k.mergeArray(r.text,w,"tx"),k.mergeArray(r.texttemplate,w,"txt"),k.mergeArray(r.hovertext,w,"htx"),k.mergeArray(r.customdata,w,"data"),k.mergeArray(r.textposition,w,"tp"),r.textfont&&(k.mergeArrayCastPositive(r.textfont.size,w,"ts"),k.mergeArray(r.textfont.color,w,"tc"),k.mergeArray(r.textfont.family,w,"tf"));var v=r.marker;if(v){k.mergeArrayCastPositive(v.size,w,"ms"),k.mergeArrayCastPositive(v.opacity,w,"mo"),k.mergeArray(v.symbol,w,"mx"),k.mergeArray(v.angle,w,"ma"),k.mergeArray(v.standoff,w,"mf"),k.mergeArray(v.color,w,"mc");var f=v.line;v.line&&(k.mergeArray(f.color,w,"mlc"),k.mergeArrayCastPositive(f.width,w,"mlw"));var s=v.gradient;s&&s.type!=="none"&&(k.mergeArray(s.type,w,"mgt"),k.mergeArray(s.color,w,"mgc"))}}},52904:function(B,L,e){var k=e(29736).axisHoverFormat,w=e(21776).Gw,r=e(21776).Ks,_=e(49084),v=e(25376),f=e(98192).u,s=e(98192).c,t=e(43616),a=e(88200),n=e(92880).extendFlat,i=e(98304);B.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:k("x"),yhoverformat:k("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:w({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:r({},{keys:a.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:n({},f,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:i(!0),fillgradient:n({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:s,marker:n({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:n({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},_("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},_("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:v({editType:"calc",colorEditType:"style",arrayOk:!0})}},16356:function(B,L,e){var k=e(38248),w=e(3400),r=e(54460),_=e(1220),v=e(39032).BADNUM,f=e(43028),s=e(90136),t=e(20148),a=e(4500);function n(h,c,b,d,g,m,y){var x=c._length,T=h._fullLayout,p=b._id,S=d._id,M=T._firstScatter[o(c)]===c.uid,E=(u(c,T,b,d)||{}).orientation,P=c.fill;b._minDtick=0,d._minDtick=0;var O={padded:!0},I={padded:!0};y&&(O.ppad=I.ppad=y);var R=x<2||g[0]!==g[x-1]||m[0]!==m[x-1];R&&(P==="tozerox"||P==="tonextx"&&(M||E==="h"))?O.tozero=!0:(c.error_y||{}).visible||P!=="tonexty"&&P!=="tozeroy"&&(f.hasMarkers(c)||f.hasText(c))||(O.padded=!1,O.ppad=0),R&&(P==="tozeroy"||P==="tonexty"&&(M||E==="v"))?I.tozero=!0:P!=="tonextx"&&P!=="tozerox"||(I.padded=!1),p&&(c._extremes[p]=r.findExtremes(b,g,O)),S&&(c._extremes[S]=r.findExtremes(d,m,I))}function i(h,c){if(f.hasMarkers(h)){var b,d=h.marker,g=1.6*(h.marker.sizeref||1);if(b=h.marker.sizemode==="area"?function(p){return Math.max(Math.sqrt((p||0)/g),3)}:function(p){return Math.max((p||0)/g,3)},w.isArrayOrTypedArray(d.size)){var m={type:"linear"};r.setConvert(m);for(var y=m.makeCalcdata(h.marker,"size"),x=new Array(c),T=0;T<c;T++)x[T]=b(y[T]);return x}return b(d.size)}}function l(h,c){var b=o(c),d=h._firstScatter;d[b]||(d[b]=c.uid)}function o(h){var c=h.stackgroup;return h.xaxis+h.yaxis+h.type+(c?"-"+c:"")}function u(h,c,b,d){var g=h.stackgroup;if(g){var m=c._scatterStackOpts[b._id+d._id][g],y=m.orientation==="v"?d:b;return y.type==="linear"||y.type==="log"?m:void 0}}B.exports={calc:function(h,c){var b,d,g,m,y,x,T=h._fullLayout,p=c._xA=r.getFromId(h,c.xaxis||"x","x"),S=c._yA=r.getFromId(h,c.yaxis||"y","y"),M=p.makeCalcdata(c,"x"),E=S.makeCalcdata(c,"y"),P=_(c,p,"x",M),O=_(c,S,"y",E),I=P.vals,R=O.vals,U=c._length,z=new Array(U),j=c.ids,W=u(c,T,p,S),F=!1;l(T,c);var V,H="x",te="y";W?(w.pushUnique(W.traceIndices,c._expandedIndex),(b=W.orientation==="v")?(te="s",V="x"):(H="s",V="y"),y=W.stackgaps==="interpolate"):n(h,c,p,S,I,R,i(c,U));var Q=!!c.xperiodalignment,K=!!c.yperiodalignment;for(d=0;d<U;d++){var X=z[d]={},J=k(I[d]),ee=k(R[d]);J&&ee?(X[H]=I[d],X[te]=R[d],Q&&(X.orig_x=M[d],X.xEnd=P.ends[d],X.xStart=P.starts[d]),K&&(X.orig_y=E[d],X.yEnd=O.ends[d],X.yStart=O.starts[d])):W&&(b?J:ee)?(X[V]=b?I[d]:R[d],X.gap=!0,y?(X.s=v,F=!0):X.s=0):X[H]=X[te]=v,j&&(X.id=String(j[d]))}if(t(z,c),s(h,c),a(z,c),W){for(d=0;d<z.length;)z[d][V]===v?z.splice(d,1):d++;if(w.sort(z,function(ce,ge){return ce[V]-ge[V]||ce.i-ge.i}),F){for(d=0;d<z.length-1&&z[d].gap;)d++;for((x=z[d].s)||(x=z[d].s=0),g=0;g<d;g++)z[g].s=x;for(m=z.length-1;m>d&&z[m].gap;)m--;for(x=z[m].s,g=z.length-1;g>m;g--)z[g].s=x;for(;d<m;)if(z[++d].gap){for(g=d+1;z[g].gap;)g++;for(var ie=z[d-1][V],oe=z[d-1].s,ae=(z[g].s-oe)/(z[g][V]-ie);d<g;)z[d].s=oe+(z[d][V]-ie)*ae,d++}}}return z},calcMarkerSize:i,calcAxisExpansion:n,setFirstScatter:l,getStackOpts:u}},4500:function(B,L,e){var k=e(3400);B.exports=function(w,r){k.isArrayOrTypedArray(r.selectedpoints)&&k.tagSelected(w,r)}},90136:function(B,L,e){var k=e(94288).hasColorscale,w=e(47128),r=e(43028);B.exports=function(_,v){r.hasLines(v)&&k(v,"line")&&w(_,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),r.hasMarkers(v)&&(k(v,"marker")&&w(_,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),k(v,"marker.line")&&w(_,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(B){B.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(B,L,e){var k=e(16356),w=e(96376).setGroupPositions;function r(_,v,f,s,t,a,n){t[s]=!0;var i={i:null,gap:!0,s:0};if(i[n]=f,_.splice(v,0,i),v&&f===_[v-1][n]){var l=_[v-1];i.s=l.s,i.i=l.i,i.gap=l.gap}else a&&(i.s=function(o,u,h,c){var b=o[u-1],d=o[u+1];return d?b?b.s+(d.s-b.s)*(h-b[c])/(d[c]-b[c]):d.s:b.s}(_,v,f,n));v||(_[0].t=_[1].t,_[0].trace=_[1].trace,delete _[1].t,delete _[1].trace)}B.exports=function(_,v){_._fullLayout.scattermode==="group"&&function(V,H){for(var te=H.xaxis,Q=H.yaxis,K=V._fullLayout,X=V._fullData,J=V.calcdata,ee=[],ie=[],oe=0;oe<X.length;oe++){var ae=X[oe];ae.visible===!0&&ae.type==="scatter"&&ae.xaxis===te._id&&ae.yaxis===Q._id&&(ae.orientation==="h"?ee.push(J[oe]):ae.orientation==="v"&&ie.push(J[oe]))}var ce={mode:K.scattermode,gap:K.scattergap};w(V,te,Q,ie,ce),w(V,Q,te,ee,ce)}(_,v);var f=v.xaxis,s=v.yaxis,t=f._id+s._id,a=_._fullLayout._scatterStackOpts[t];if(a){var n,i,l,o,u,h,c,b,d,g,m,y,x,T,p,S=_.calcdata;for(var M in a){var E=(g=a[M]).traceIndices;if(E.length){for(m=g.stackgaps==="interpolate",y=g.groupnorm,g.orientation==="v"?(x="x",T="y"):(x="y",T="x"),p=new Array(E.length),n=0;n<p.length;n++)p[n]=!1;h=S[E[0]];var P=new Array(h.length);for(n=0;n<h.length;n++)P[n]=h[n][x];for(n=1;n<E.length;n++){for(u=S[E[n]],i=l=0;i<u.length;i++){for(c=u[i][x];c>P[l]&&l<P.length;l++)r(u,i,P[l],n,p,m,x),i++;if(c!==P[l]){for(o=0;o<n;o++)r(S[E[o]],l,c,o,p,m,x);P.splice(l,0,c)}l++}for(;l<P.length;l++)r(u,i,P[l],n,p,m,x),i++}var O=P.length;for(i=0;i<h.length;i++){for(b=h[i][T]=h[i].s,n=1;n<E.length;n++)(u=S[E[n]])[0].trace._rawLength=u[0].trace._length,u[0].trace._length=O,b+=u[i].s,u[i][T]=b;if(y)for(d=(y==="fraction"?b:b/100)||1,n=0;n<E.length;n++){var I=S[E[n]][i];I[T]/=d,I.sNorm=I.s/d}}for(n=0;n<E.length;n++){var R=(u=S[E[n]])[0].trace,U=k.calcMarkerSize(R,R._rawLength),z=Array.isArray(U);if(U&&p[n]||z){var j=U;for(U=new Array(O),i=0;i<O;i++)U[i]=u[i].gap?0:z?j[u[i].i]:j}var W=new Array(O),F=new Array(O);for(i=0;i<O;i++)W[i]=u[i].x,F[i]=u[i].y;k.calcAxisExpansion(_,R,f,s,W,F,U),u[0].t.orientation=g.orientation}}}}}},35036:function(B,L,e){var k=e(3400),w=e(20011),r=e(52904);B.exports=function(_,v){var f,s,t;function a(u){return k.coerce(s._input,s,r,u)}if(v.scattermode==="group")for(t=0;t<_.length;t++)(s=_[t]).type==="scatter"&&(f=s._input,w(f,s,v,a));for(t=0;t<_.length;t++){var n=_[t];if(n.type==="scatter"){var i=n.fill;if(i!=="none"&&i!=="toself"&&(n.opacity=void 0,i==="tonexty"||i==="tonextx"))for(var l=t-1;l>=0;l--){var o=_[l];if(o.type==="scatter"&&o.xaxis===n.xaxis&&o.yaxis===n.yaxis){o.opacity=void 0;break}}}}}},18800:function(B,L,e){var k=e(3400),w=e(24040),r=e(52904),_=e(88200),v=e(43028),f=e(43980),s=e(31147),t=e(43912),a=e(74428),n=e(66828),i=e(11731),l=e(124),o=e(70840),u=e(3400).coercePattern;B.exports=function(h,c,b,d){function g(E,P){return k.coerce(h,c,r,E,P)}var m=f(h,c,d,g);if(m||(c.visible=!1),c.visible){s(h,c,d,g),g("xhoverformat"),g("yhoverformat");var y=t(h,c,d,g);d.scattermode==="group"&&c.orientation===void 0&&g("orientation","v");var x=!y&&m<_.PTS_LINESONLY?"lines+markers":"lines";g("text"),g("hovertext"),g("mode",x),v.hasMarkers(c)&&a(h,c,b,d,g,{gradient:!0}),v.hasLines(c)&&(n(h,c,b,d,g,{backoff:!0}),i(h,c,g),g("connectgaps"),g("line.simplify")),v.hasText(c)&&(g("texttemplate"),l(h,c,d,g));var T=[];(v.hasMarkers(c)||v.hasText(c))&&(g("cliponaxis"),g("marker.maxdisplayed"),T.push("points")),g("fill",y?y.fillDflt:"none"),c.fill!=="none"&&(o(h,c,b,g,{moduleHasFillgradient:!0}),v.hasLines(c)||i(h,c,g),u(g,"fillpattern",c.fillcolor,!1));var p=(c.line||{}).color,S=(c.marker||{}).color;c.fill!=="tonext"&&c.fill!=="toself"||T.push("fills"),g("hoveron",T.join("+")||"points"),c.hoveron!=="fills"&&g("hovertemplate");var M=w.getComponentMethod("errorbars","supplyDefaults");M(h,c,p||S||b,{axis:"y"}),M(h,c,p||S||b,{axis:"x",inherit:"y"}),k.coerceSelectionMarkerOpacity(c,g)}}},98304:function(B){B.exports=function(L){return{valType:"color",editType:"style",anim:!0}}},70840:function(B,L,e){var k=e(76308),w=e(3400).isArrayOrTypedArray;B.exports=function(r,_,v,f,s){s||(s={});var t,a=!1;if(_.marker){var n=_.marker.color,i=(_.marker.line||{}).color;n&&!w(n)?a=n:i&&!w(i)&&(a=i)}if(s.moduleHasFillgradient&&f("fillgradient.type")!=="none"){f("fillgradient.start"),f("fillgradient.stop");var l=f("fillgradient.colorscale");l&&(t=function(o){for(var u=k.interpolate(o[0][1],o[1][1],.5),h=2;h<o.length;h++){var c=k.interpolate(o[h-1][1],o[h][1],.5);u=k.interpolate(u,c,o[h-1][0]/o[h][0])}return u}(l))}f("fillcolor",k.addOpacity((_.line||{}).color||a||t||v,.5))}},76688:function(B,L,e){var k=e(54460);B.exports=function(w,r,_){var v={},f={_fullLayout:_},s=k.getFromTrace(f,r,"x"),t=k.getFromTrace(f,r,"y"),a=w.orig_x;a===void 0&&(a=w.x);var n=w.orig_y;return n===void 0&&(n=w.y),v.xLabel=k.tickText(s,s.c2l(a),!0).text,v.yLabel=k.tickText(t,t.c2l(n),!0).text,v}},44928:function(B,L,e){var k=e(76308),w=e(43028);B.exports=function(r,_){var v,f;if(r.mode==="lines")return(v=r.line.color)&&k.opacity(v)?v:r.fillcolor;if(r.mode==="none")return r.fill?r.fillcolor:"";var s=_.mcc||(r.marker||{}).color,t=_.mlcc||((r.marker||{}).line||{}).color;return(f=s&&k.opacity(s)?s:t&&k.opacity(t)&&(_.mlw||((r.marker||{}).line||{}).width)?t:"")?k.opacity(f)<.3?k.addOpacity(f,.3):f:(v=(r.line||{}).color)&&k.opacity(v)&&w.hasLines(r)&&r.line.width?v:r.fillcolor}},20011:function(B,L,e){var k=e(71888).getAxisGroup;B.exports=function(w,r,_,v){var f=r.orientation,s=r[{v:"x",h:"y"}[f]+"axis"],t=k(_,s)+f,a=_._alignmentOpts||{},n=v("alignmentgroup"),i=a[t];i||(i=a[t]={});var l=i[n];l?l.traces.push(r):l=i[n]={traces:[r],alignmentIndex:Object.keys(i).length,offsetGroups:{}};var o=v("offsetgroup"),u=l.offsetGroups,h=u[o];o&&(h||(h=u[o]={offsetIndex:Object.keys(u).length}),r._offsetIndex=h.offsetIndex)}},98723:function(B,L,e){var k=e(3400),w=e(93024),r=e(24040),_=e(44928),v=e(76308),f=k.fillText;B.exports=function(s,t,a,n){var i=s.cd,l=i[0].trace,o=s.xa,u=s.ya,h=o.c2p(t),c=u.c2p(a),b=[h,c],d=l.hoveron||"",g=l.mode.indexOf("markers")!==-1?3:.5,m=!!l.xperiodalignment,y=!!l.yperiodalignment;if(d.indexOf("points")!==-1){var x=function(W){var F=Math.max(g,W.mrc||0),V=o.c2p(W.x)-h,H=u.c2p(W.y)-c;return Math.max(Math.sqrt(V*V+H*H)-F,1-g/F)},T=w.getDistanceFunction(n,function(W){if(m){var F=o.c2p(W.xStart),V=o.c2p(W.xEnd);return h>=Math.min(F,V)&&h<=Math.max(F,V)?0:1/0}var H=Math.max(3,W.mrc||0),te=1-1/H,Q=Math.abs(o.c2p(W.x)-h);return Q<H?te*Q/H:Q-H+te},function(W){if(y){var F=u.c2p(W.yStart),V=u.c2p(W.yEnd);return c>=Math.min(F,V)&&c<=Math.max(F,V)?0:1/0}var H=Math.max(3,W.mrc||0),te=1-1/H,Q=Math.abs(u.c2p(W.y)-c);return Q<H?te*Q/H:Q-H+te},x);if(w.getClosest(i,T,s),s.index!==!1){var p=i[s.index],S=o.c2p(p.x,!0),M=u.c2p(p.y,!0),E=p.mrc||1;s.index=p.i;var P=i[0].t.orientation,O=P&&(p.sNorm||p.s),I=P==="h"?O:p.orig_x!==void 0?p.orig_x:p.x,R=P==="v"?O:p.orig_y!==void 0?p.orig_y:p.y;return k.extendFlat(s,{color:_(l,p),x0:S-E,x1:S+E,xLabelVal:I,y0:M-E,y1:M+E,yLabelVal:R,spikeDistance:x(p),hovertemplate:l.hovertemplate}),f(p,l,s),r.getComponentMethod("errorbars","hoverInfo")(p,l,s),[s]}}function U(W){if(!W)return!1;var F=W.node();try{var V=new DOMPoint(b[0],b[1]);return F.isPointInFill(V)}catch{var H=F.ownerSVGElement.createSVGPoint();return H.x=b[0],H.y=b[1],F.isPointInFill(H)}}if(d.indexOf("fills")!==-1&&l._fillElement&&U(l._fillElement)&&!U(l._fillExclusionElement)){var z=function(W){var F,V,H,te,Q,K,X,J,ee,ie=[],oe=1/0,ae=-1/0,ce=1/0,ge=-1/0;for(F=0;F<W.length;F++){var ve=W[F];ve.contains(b)&&(ie.push(ve),ce=Math.min(ce,ve.ymin),ge=Math.max(ge,ve.ymax))}if(ie.length===0)return null;for(V=((ce=Math.max(ce,0))+(ge=Math.min(ge,u._length)))/2,F=0;F<ie.length;F++)for(te=ie[F].pts,H=1;H<te.length;H++)(J=te[H-1][1])>V!=(ee=te[H][1])>=V&&(K=te[H-1][0],X=te[H][0],ee-J&&(Q=K+(X-K)*(V-J)/(ee-J),oe=Math.min(oe,Q),ae=Math.max(ae,Q)));return{x0:oe=Math.max(oe,0),x1:ae=Math.min(ae,o._length),y0:V,y1:V}}(l._polygons);z===null&&(z={x0:b[0],x1:b[0],y0:b[1],y1:b[1]});var j=v.defaultLine;return v.opacity(l.fillcolor)?j=l.fillcolor:v.opacity((l.line||{}).color)&&(j=l.line.color),k.extendFlat(s,{distance:s.maxHoverDistance,x0:z.x0,x1:z.x1,y0:z.y0,y1:z.y1,color:j,hovertemplate:!1}),delete s.index,l.text&&!k.isArrayOrTypedArray(l.text)?s.text=String(l.text):s.text=l.name,[s]}}},65875:function(B,L,e){var k=e(43028);B.exports={hasLines:k.hasLines,hasMarkers:k.hasMarkers,hasText:k.hasText,isBubble:k.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(B){B.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(B,L,e){var k=e(3400),w=e(55308);B.exports=function(r,_){var v,f=_.barmode==="group";_.scattermode==="group"&&(v=f?_.bargap:.2,k.coerce(r,_,w,"scattergap",v))}},66828:function(B,L,e){var k=e(3400).isArrayOrTypedArray,w=e(94288).hasColorscale,r=e(27260);B.exports=function(_,v,f,s,t,a){a||(a={});var n=(_.marker||{}).color;n&&n._inputArray&&(n=n._inputArray),t("line.color",f),w(_,"line")?r(_,v,s,t,{prefix:"line.",cLetter:"c"}):t("line.color",!k(n)&&n||f),t("line.width"),a.noDash||t("line.dash"),a.backoff&&t("line.backoff")}},52340:function(B,L,e){var k=e(43616),w=e(39032),r=w.BADNUM,_=w.LOG_CLIP,v=_+.5,f=_-.5,s=e(3400),t=s.segmentsIntersect,a=s.constrain,n=e(88200);B.exports=function(i,l){var o,u,h,c,b,d,g,m,y,x,T,p,S,M,E,P,O,I,R=l.trace||{},U=l.xaxis,z=l.yaxis,j=U.type==="log",W=z.type==="log",F=U._length,V=z._length,H=l.backoff,te=R.marker,Q=l.connectGaps,K=l.baseTolerance,X=l.shape,J=X==="linear",ee=R.fill&&R.fill!=="none",ie=[],oe=n.minTolerance,ae=i.length,ce=new Array(ae),ge=0;function ve(Dt){var Xe=i[Dt];if(!Xe)return!1;var Ke=l.linearized?U.l2p(Xe.x):U.c2p(Xe.x),Ve=l.linearized?z.l2p(Xe.y):z.c2p(Xe.y);if(Ke===r){if(j&&(Ke=U.c2p(Xe.x,!0)),Ke===r)return!1;W&&Ve===r&&(Ke*=Math.abs(U._m*V*(U._m>0?v:f)/(z._m*F*(z._m>0?v:f)))),Ke*=1e3}if(Ve===r){if(W&&(Ve=z.c2p(Xe.y,!0)),Ve===r)return!1;Ve*=1e3}return[Ke,Ve]}function be(Dt,Xe,Ke,Ve){var Je=Ke-Dt,ct=Ve-Xe,st=.5-Dt,je=.5-Xe,Ue=Je*Je+ct*ct,lt=Je*st+ct*je;if(lt>0&&lt<Ue){var Qe=st*ct-je*Je;if(Qe*Qe<Ue)return!0}}function we(Dt,Xe){var Ke=Dt[0]/F,Ve=Dt[1]/V,Je=Math.max(0,-Ke,Ke-1,-Ve,Ve-1);return Je&&O!==void 0&&be(Ke,Ve,O,I)&&(Je=0),Je&&Xe&&be(Ke,Ve,Xe[0]/F,Xe[1]/V)&&(Je=0),(1+n.toleranceGrowth*Je)*K}function ye(Dt,Xe){var Ke=Dt[0]-Xe[0],Ve=Dt[1]-Xe[1];return Math.sqrt(Ke*Ke+Ve*Ve)}var me,Ae,ke,fe,le,de,Ce,Me=n.maxScreensAway,Le=-F*Me,Oe=F*(1+Me),Be=-V*Me,pe=V*(1+Me),_e=[[Le,Be,Oe,Be],[Oe,Be,Oe,pe],[Oe,pe,Le,pe],[Le,pe,Le,Be]];function Te(Dt){if(Dt[0]<Le||Dt[0]>Oe||Dt[1]<Be||Dt[1]>pe)return[a(Dt[0],Le,Oe),a(Dt[1],Be,pe)]}function Re(Dt,Xe){return Dt[0]===Xe[0]&&(Dt[0]===Le||Dt[0]===Oe)||Dt[1]===Xe[1]&&(Dt[1]===Be||Dt[1]===pe)||void 0}function Ne(Dt,Xe,Ke){return function(Ve,Je){var ct=Te(Ve),st=Te(Je),je=[];if(ct&&st&&Re(ct,st))return je;ct&&je.push(ct),st&&je.push(st);var Ue=2*s.constrain((Ve[Dt]+Je[Dt])/2,Xe,Ke)-((ct||Ve)[Dt]+(st||Je)[Dt]);return Ue&&((ct&&st?Ue>0==ct[Dt]>st[Dt]?ct:st:ct||st)[Dt]+=Ue),je}}function ze(Dt){var Xe=Dt[0],Ke=Dt[1],Ve=Xe===ce[ge-1][0],Je=Ke===ce[ge-1][1];if(!Ve||!Je)if(ge>1){var ct=Xe===ce[ge-2][0],st=Ke===ce[ge-2][1];Ve&&(Xe===Le||Xe===Oe)&&ct?st?ge--:ce[ge-1]=Dt:Je&&(Ke===Be||Ke===pe)&&st?ct?ge--:ce[ge-1]=Dt:ce[ge++]=Dt}else ce[ge++]=Dt}function Ge(Dt){ce[ge-1][0]!==Dt[0]&&ce[ge-1][1]!==Dt[1]&&ze([ke,fe]),ze(Dt),le=null,ke=fe=0}X==="linear"||X==="spline"?Ce=function(Dt,Xe){for(var Ke=[],Ve=0,Je=0;Je<4;Je++){var ct=_e[Je],st=t(Dt[0],Dt[1],Xe[0],Xe[1],ct[0],ct[1],ct[2],ct[3]);st&&(!Ve||Math.abs(st.x-Ke[0][0])>1||Math.abs(st.y-Ke[0][1])>1)&&(st=[st.x,st.y],Ve&&ye(st,Dt)<ye(Ke[0],Dt)?Ke.unshift(st):Ke.push(st),Ve++)}return Ke}:X==="hv"||X==="vh"?Ce=function(Dt,Xe){var Ke=[],Ve=Te(Dt),Je=Te(Xe);return Ve&&Je&&Re(Ve,Je)||(Ve&&Ke.push(Ve),Je&&Ke.push(Je)),Ke}:X==="hvh"?Ce=Ne(0,Le,Oe):X==="vhv"&&(Ce=Ne(1,Be,pe));var Ye=s.isArrayOrTypedArray(te);function et(Dt){if(Dt&&H&&(Dt.i=o,Dt.d=i,Dt.trace=R,Dt.marker=Ye?te[Dt.i]:te,Dt.backoff=H),O=Dt[0]/F,I=Dt[1]/V,me=Dt[0]<Le?Le:Dt[0]>Oe?Oe:0,Ae=Dt[1]<Be?Be:Dt[1]>pe?pe:0,me||Ae){if(ge)if(le){var Xe=Ce(le,Dt);Xe.length>1&&(Ge(Xe[0]),ce[ge++]=Xe[1])}else de=Ce(ce[ge-1],Dt)[0],ce[ge++]=de;else ce[ge++]=[me||Dt[0],Ae||Dt[1]];var Ke=ce[ge-1];me&&Ae&&(Ke[0]!==me||Ke[1]!==Ae)?(le&&(ke!==me&&fe!==Ae?ze(ke&&fe?(Ve=le,ct=(Je=Dt)[0]-Ve[0],st=(Je[1]-Ve[1])/ct,(Ve[1]*Je[0]-Je[1]*Ve[0])/ct>0?[st>0?Le:Oe,pe]:[st>0?Oe:Le,Be]):[ke||me,fe||Ae]):ke&&fe&&ze([ke,fe])),ze([me,Ae])):ke-me&&fe-Ae&&ze([me||ke,Ae||fe]),le=Dt,ke=me,fe=Ae}else le&&Ge(Ce(le,Dt)[0]),ce[ge++]=Dt;var Ve,Je,ct,st}for(o=0;o<ae;o++)if(u=ve(o)){for(ge=0,le=null,et(u),o++;o<ae;o++){if(!(c=ve(o))){if(Q)continue;break}if(J&&l.simplify){var ut=ve(o+1);if(x=ye(c,u),ee&&(ge===0||ge===ae-1)||!(x<we(c,ut)*oe)){for(m=[(c[0]-u[0])/x,(c[1]-u[1])/x],b=u,T=x,p=M=E=0,g=!1,h=c,o++;o<i.length;o++){if(d=ut,ut=ve(o+1),!d){if(Q)continue;break}if(P=(y=[d[0]-u[0],d[1]-u[1]])[0]*m[1]-y[1]*m[0],M=Math.min(M,P),(E=Math.max(E,P))-M>we(d,ut))break;h=d,(S=y[0]*m[0]+y[1]*m[1])>T?(T=S,c=d,g=!1):S<p&&(p=S,b=d,g=!0)}if(g?(et(c),h!==b&&et(b)):(b!==u&&et(b),h!==c&&et(c)),et(h),o>=i.length||!d)break;et(d),u=d}}else et(c)}le&&ze([ke||le[0],fe||le[1]]),ie.push(ce.slice(0,ge))}var ot=X.slice(X.length-1);if(H&&ot!=="h"&&ot!=="v"){for(var yt=!1,wt=-1,bt=[],at=0;at<ie.length;at++)for(var rt=0;rt<ie[at].length-1;rt++){var At=ie[at][rt],Rt=ie[at][rt+1],Ft=k.applyBackoff(Rt,At);Ft[0]===Rt[0]&&Ft[1]===Rt[1]||(yt=!0),bt[wt+1]||(bt[++wt]=[At,[Ft[0],Ft[1]]])}return yt?bt:ie}return ie}},11731:function(B){B.exports=function(L,e,k){k("line.shape")==="spline"&&k("line.smoothing")}},14328:function(B){var L={tonextx:1,tonexty:1,tonext:1};B.exports=function(e,k,w){var r,_,v,f,s,t={},a=!1,n=-1,i=0,l=-1;for(_=0;_<w.length;_++)(v=(r=w[_][0].trace).stackgroup||"")?v in t?s=t[v]:(s=t[v]=i,i++):r.fill in L&&l>=0?s=l:(s=l=i,i++),s<n&&(a=!0),r._groupIndex=n=s;var o=w.slice();a&&o.sort(function(h,c){var b=h[0].trace,d=c[0].trace;return b._groupIndex-d._groupIndex||b.index-d.index});var u={};for(_=0;_<o.length;_++)v=(r=o[_][0].trace).stackgroup||"",r.visible===!0?(r._nexttrace=null,r.fill in L&&(f=u[v],r._prevtrace=f||null,f&&(f._nexttrace=r)),r._ownfill=r.fill&&(r.fill.substr(0,6)==="tozero"||r.fill==="toself"||r.fill.substr(0,2)==="to"&&!r._prevtrace),u[v]=r):r._prevtrace=r._nexttrace=r._ownfill=null;return o}},7152:function(B,L,e){var k=e(38248);B.exports=function(w,r){r||(r=2);var _=w.marker,v=_.sizeref||1,f=_.sizemin||0,s=_.sizemode==="area"?function(t){return Math.sqrt(t/v)}:function(t){return t/v};return function(t){var a=s(t/r);return k(a)&&a>0?Math.max(a,f):0}}},5528:function(B){B.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(B,L,e){var k=e(76308),w=e(94288).hasColorscale,r=e(27260),_=e(43028);B.exports=function(v,f,s,t,a,n){var i=_.isBubble(v),l=(v.line||{}).color;n=n||{},l&&(s=l),a("marker.symbol"),a("marker.opacity",i?.7:1),a("marker.size"),n.noAngle||(a("marker.angle"),n.noAngleRef||a("marker.angleref"),n.noStandOff||a("marker.standoff")),a("marker.color",s),w(v,"marker")&&r(v,f,t,a,{prefix:"marker.",cLetter:"c"}),n.noSelect||(a("selected.marker.color"),a("unselected.marker.color"),a("selected.marker.size"),a("unselected.marker.size")),n.noLine||(a("marker.line.color",l&&!Array.isArray(l)&&f.marker.color!==l?l:i?k.background:k.defaultLine),w(v,"marker.line")&&r(v,f,t,a,{prefix:"marker.line.",cLetter:"c"}),a("marker.line.width",i?1:0)),i&&(a("marker.sizeref"),a("marker.sizemin"),a("marker.sizemode")),n.gradient&&a("marker.gradient.type")!=="none"&&a("marker.gradient.color")}},31147:function(B,L,e){var k=e(3400).dateTick0,w=e(39032).ONEWEEK;function r(_,v){return k(v,_%w==0?1:0)}B.exports=function(_,v,f,s,t){if(t||(t={x:!0,y:!0}),t.x){var a=s("xperiod");a&&(s("xperiod0",r(a,v.xcalendar)),s("xperiodalignment"))}if(t.y){var n=s("yperiod");n&&(s("yperiod0",r(n,v.ycalendar)),s("yperiodalignment"))}}},96504:function(B,L,e){var k=e(33428),w=e(24040),r=e(3400),_=r.ensureSingle,v=r.identity,f=e(43616),s=e(43028),t=e(52340),a=e(14328),n=e(92065).tester;function i(l,o,u,h,c,b,d){var g,m=l._context.staticPlot;(function(ze,Ge,Ye,et,ut){var ot=Ye.xaxis,yt=Ye.yaxis,wt=k.extent(r.simpleMap(ot.range,ot.r2c)),bt=k.extent(r.simpleMap(yt.range,yt.r2c)),at=et[0].trace;if(s.hasMarkers(at)){var rt=at.marker.maxdisplayed;if(rt!==0){var At=et.filter(function(Xe){return Xe.x>=wt[0]&&Xe.x<=wt[1]&&Xe.y>=bt[0]&&Xe.y<=bt[1]}),Rt=Math.ceil(At.length/rt),Ft=0;ut.forEach(function(Xe,Ke){var Ve=Xe[0].trace;s.hasMarkers(Ve)&&Ve.marker.maxdisplayed>0&&Ke<Ge&&Ft++});var Dt=Math.round(Ft*Rt/3+Math.floor(Ft/3)*Rt/7.1);et.forEach(function(Xe){delete Xe.vis}),At.forEach(function(Xe,Ke){Math.round((Ke+Dt)%Rt)===0&&(Xe.vis=!0)})}}})(0,o,u,h,c);var y=!!d&&d.duration>0;function x(ze){return y?ze.transition():ze}var T=u.xaxis,p=u.yaxis,S=h[0].trace,M=S.line,E=k.select(b),P=_(E,"g","errorbars"),O=_(E,"g","lines"),I=_(E,"g","points"),R=_(E,"g","text");if(w.getComponentMethod("errorbars","plot")(l,P,u,d),S.visible===!0){var U,z;x(E).style("opacity",S.opacity);var j,W,F=S.fill.charAt(S.fill.length-1);F!=="x"&&F!=="y"&&(F=""),F==="y"?(j=1,W=p.c2p(0,!0)):F==="x"&&(j=0,W=T.c2p(0,!0)),h[0][u.isRangePlot?"nodeRangePlot3":"node3"]=E;var V,H,te="",Q=[],K=S._prevtrace,X=null,J=null;K&&(te=K._prevRevpath||"",z=K._nextFill,Q=K._ownPolygons,X=K._fillsegments,J=K._fillElement);var ee,ie,oe,ae,ce,ge,ve="",be="",we=[];S._polygons=[];var ye=[],me=[],Ae=r.noop;if(U=S._ownFill,s.hasLines(S)||S.fill!=="none"){z&&z.datum(h),["hv","vh","hvh","vhv"].indexOf(M.shape)!==-1?(ee=f.steps(M.shape),ie=f.steps(M.shape.split("").reverse().join(""))):ee=ie=M.shape==="spline"?function(ze){var Ge=ze[ze.length-1];return ze.length>1&&ze[0][0]===Ge[0]&&ze[0][1]===Ge[1]?f.smoothclosed(ze.slice(1),M.smoothing):f.smoothopen(ze,M.smoothing)}:function(ze){return"M"+ze.join("L")},oe=function(ze){return ie(ze.reverse())},me=t(h,{xaxis:T,yaxis:p,trace:S,connectGaps:S.connectgaps,baseTolerance:Math.max(M.width||1,3)/4,shape:M.shape,backoff:M.backoff,simplify:M.simplify,fill:S.fill}),ye=new Array(me.length);var ke=0;for(g=0;g<me.length;g++){var fe,le=me[g];fe&&F?fe.push.apply(fe,le):(fe=le.slice(),ye[ke]=fe,ke++)}S._fillElement=null,S._fillExclusionElement=J,S._fillsegments=ye.slice(0,ke),ye=S._fillsegments,me.length&&(ae=me[0][0].slice(),ge=(ce=me[me.length-1])[ce.length-1].slice()),Ae=function(ze){return function(Ge){if(V=ee(Ge),H=oe(Ge),ve?F?(ve+="L"+V.substr(1),be=H+"L"+be.substr(1)):(ve+="Z"+V,be=H+"Z"+be):(ve=V,be=H),s.hasLines(S)){var Ye=k.select(this);if(Ye.datum(h),ze)x(Ye.style("opacity",0).attr("d",V).call(f.lineGroupStyle)).style("opacity",1);else{var et=x(Ye);et.attr("d",V),f.singleLineStyle(h,et)}}}}}var de=O.selectAll(".js-line").data(me);x(de.exit()).style("opacity",0).remove(),de.each(Ae(!1)),de.enter().append("path").classed("js-line",!0).style("vector-effect",m?"none":"non-scaling-stroke").call(f.lineGroupStyle).each(Ae(!0)),f.setClipUrl(de,u.layerClipId,l);var Ce=function(){var ze=new Array(ye.length);for(g=0;g<ye.length;g++)ze[g]=n(ye[g]);return ze},Me=function(ze){var Ge,Ye;if(ze&&ze.length!==0){for(Ge=new Array(ze.length-1+ye.length),Ye=0;Ye<ze.length-1;Ye++)Ge[Ye]=n(ze[Ye]);var et=ze[ze.length-1].slice();for(et.reverse(),Ye=0;Ye<ye.length;Ye++)Ge[ze.length-1+Ye]=n(ye[Ye].concat(et))}else for(Ge=new Array(ye.length),Ye=0;Ye<ye.length;Ye++){var ut=ye[Ye][0].slice(),ot=ye[Ye][ye[Ye].length-1].slice();ut[j]=ot[j]=W;var yt=[ot,ut].concat(ye[Ye]);Ge[Ye]=n(yt)}return Ge};me.length?(U?(U.datum(h),ae&&ge&&(F?(ae[j]=ge[j]=W,x(U).attr("d","M"+ge+"L"+ae+"L"+ve.substr(1)).call(f.singleFillStyle,l),we=Me(null)):(x(U).attr("d",ve+"Z").call(f.singleFillStyle,l),we=Ce())),S._polygons=we,S._fillElement=U):z&&(S.fill.substr(0,6)==="tonext"&&ve&&te?(S.fill==="tonext"?(x(z).attr("d",ve+"Z"+te+"Z").call(f.singleFillStyle,l),we=Ce(),S._polygons=we.concat(Q)):(x(z).attr("d",ve+"L"+te.substr(1)+"Z").call(f.singleFillStyle,l),we=Me(X),S._polygons=we),S._fillElement=z):Oe(z)),S._prevRevpath=be):(U?Oe(U):z&&Oe(z),S._prevRevpath=null),S._ownPolygons=we,I.datum(h),R.datum(h),function(ze,Ge,Ye){var et,ut=Ye[0].trace,ot=s.hasMarkers(ut),yt=s.hasText(ut),wt=Re(ut),bt=Ne,at=Ne;if(ot||yt){var rt=v,At=ut.stackgroup,Rt=At&&l._fullLayout._scatterStackOpts[T._id+p._id][At].stackgaps==="infer zero";ut.marker.maxdisplayed||ut._needsCull?rt=Rt?pe:Be:At&&!Rt&&(rt=_e),ot&&(bt=rt),yt&&(at=rt)}var Ft,Dt=(et=ze.selectAll("path.point").data(bt,wt)).enter().append("path").classed("point",!0);y&&Dt.call(f.pointStyle,ut,l).call(f.translatePoints,T,p).style("opacity",0).transition().style("opacity",1),et.order(),ot&&(Ft=f.makePointStyleFns(ut)),et.each(function(Xe){var Ke=k.select(this),Ve=x(Ke);f.translatePoint(Xe,Ve,T,p)?(f.singlePointStyle(Xe,Ve,ut,Ft,l),u.layerClipId&&f.hideOutsideRangePoint(Xe,Ve,T,p,ut.xcalendar,ut.ycalendar),ut.customdata&&Ke.classed("plotly-customdata",Xe.data!==null&&Xe.data!==void 0)):Ve.remove()}),y?et.exit().transition().style("opacity",0).remove():et.exit().remove(),(et=Ge.selectAll("g").data(at,wt)).enter().append("g").classed("textpoint",!0).append("text"),et.order(),et.each(function(Xe){var Ke=k.select(this),Ve=x(Ke.select("text"));f.translatePoint(Xe,Ve,T,p)?u.layerClipId&&f.hideOutsideRangePoint(Xe,Ke,T,p,ut.xcalendar,ut.ycalendar):Ke.remove()}),et.selectAll("text").call(f.textPointStyle,ut,l).each(function(Xe){var Ke=T.c2p(Xe.x),Ve=p.c2p(Xe.y);k.select(this).selectAll("tspan.line").each(function(){x(k.select(this)).attr({x:Ke,y:Ve})})}),et.exit().remove()}(I,R,h);var Le=S.cliponaxis===!1?null:u.layerClipId;f.setClipUrl(I,Le,l),f.setClipUrl(R,Le,l)}function Oe(ze){x(ze).attr("d","M0,0Z")}function Be(ze){return ze.filter(function(Ge){return!Ge.gap&&Ge.vis})}function pe(ze){return ze.filter(function(Ge){return Ge.vis})}function _e(ze){return ze.filter(function(Ge){return!Ge.gap})}function Te(ze){return ze.id}function Re(ze){if(ze.ids)return Te}function Ne(){return!1}}B.exports=function(l,o,u,h,c,b){var d,g,m=!c,y=!!c&&c.duration>0,x=a(l,o,u);(d=h.selectAll("g.trace").data(x,function(T){return T[0].trace.uid})).enter().append("g").attr("class",function(T){return"trace scatter trace"+T[0].trace.uid}).style("stroke-miterlimit",2),d.order(),function(T,p,S){p.each(function(M){var E=_(k.select(this),"g","fills");f.setClipUrl(E,S.layerClipId,T);var P=M[0].trace,O=[];P._ownfill&&O.push("_ownFill"),P._nexttrace&&O.push("_nextFill");var I=E.selectAll("g").data(O,v);I.enter().append("g"),I.exit().each(function(R){P[R]=null}).remove(),I.order().each(function(R){P[R]=_(k.select(this),"path","js-fill")})})}(l,d,o),y?(b&&(g=b()),k.transition().duration(c.duration).ease(c.easing).each("end",function(){g&&g()}).each("interrupt",function(){g&&g()}).each(function(){h.selectAll("g.trace").each(function(T,p){i(l,p,o,T,x,this,c)})})):d.each(function(T,p){i(l,p,o,T,x,this,c)}),m&&d.exit().remove(),h.selectAll("path:not([d])").remove()}},91560:function(B,L,e){var k=e(43028);B.exports=function(w,r){var _,v,f,s,t=w.cd,a=w.xaxis,n=w.yaxis,i=[],l=t[0].trace;if(!k.hasMarkers(l)&&!k.hasText(l))return[];if(r===!1)for(_=0;_<t.length;_++)t[_].selected=0;else for(_=0;_<t.length;_++)v=t[_],f=a.c2p(v.x),s=n.c2p(v.y),v.i!==null&&r.contains([f,s],!1,_,w)?(i.push({pointNumber:v.i,x:a.c2d(v.x),y:n.c2d(v.y)}),v.selected=1):v.selected=0;return i}},43912:function(B){var L=["orientation","groupnorm","stackgaps"];B.exports=function(e,k,w,r){var _=w._scatterStackOpts,v=r("stackgroup");if(v){var f=k.xaxis+k.yaxis,s=_[f];s||(s=_[f]={});var t=s[v],a=!1;t?t.traces.push(k):(t=s[v]={traceIndices:[],traces:[k]},a=!0);for(var n={orientation:k.x&&!k.y?"h":"v"},i=0;i<L.length;i++){var l=L[i],o=l+"Found";if(!t[o]){var u=e[l]!==void 0,h=l==="orientation";if((u||a)&&(t[l]=r(l,n[l]),h&&(t.fillDflt=t[l]==="h"?"tonextx":"tonexty"),u&&(t[o]=!0,!a&&(delete t.traces[0][l],h))))for(var c=0;c<t.traces.length-1;c++){var b=t.traces[c];b._input.fill!==b.fill&&(b.fill=t.fillDflt)}}}return t}}},49224:function(B,L,e){var k=e(33428),w=e(43616),r=e(24040);function _(f,s,t){w.pointStyle(f.selectAll("path.point"),s,t)}function v(f,s,t){w.textPointStyle(f.selectAll("text"),s,t)}B.exports={style:function(f){var s=k.select(f).selectAll("g.trace.scatter");s.style("opacity",function(t){return t[0].trace.opacity}),s.selectAll("g.points").each(function(t){_(k.select(this),t.trace||t[0].trace,f)}),s.selectAll("g.text").each(function(t){v(k.select(this),t.trace||t[0].trace,f)}),s.selectAll("g.trace path.js-line").call(w.lineGroupStyle),s.selectAll("g.trace path.js-fill").call(w.fillGroupStyle,f,!1),r.getComponentMethod("errorbars","style")(s)},stylePoints:_,styleText:v,styleOnSelect:function(f,s,t){var a=s[0].trace;a.selectedpoints?(w.selectedPointStyle(t.selectAll("path.point"),a),w.selectedTextStyle(t.selectAll("text"),a)):(_(t,a,f),v(t,a,f))}}},43028:function(B,L,e){var k=e(3400),w=e(38116).isTypedArraySpec;B.exports={hasLines:function(r){return r.visible&&r.mode&&r.mode.indexOf("lines")!==-1},hasMarkers:function(r){return r.visible&&(r.mode&&r.mode.indexOf("markers")!==-1||r.type==="splom")},hasText:function(r){return r.visible&&r.mode&&r.mode.indexOf("text")!==-1},isBubble:function(r){var _=r.marker;return k.isPlainObject(_)&&(k.isArrayOrTypedArray(_.size)||w(_.size))}}},124:function(B,L,e){var k=e(3400);B.exports=function(w,r,_,v,f){f=f||{},v("textposition"),k.coerceFont(v,"textfont",f.font||_.font),f.noSelect||(v("selected.textfont.color"),v("unselected.textfont.color"))}},43980:function(B,L,e){var k=e(3400),w=e(24040);B.exports=function(r,_,v,f){var s,t=f("x"),a=f("y");if(w.getComponentMethod("calendars","handleTraceDefaults")(r,_,["x","y"],v),t){var n=k.minRowLength(t);a?s=Math.min(n,k.minRowLength(a)):(s=n,f("y0"),f("dy"))}else{if(!a)return 0;s=k.minRowLength(a),f("x0"),f("dx")}return _._length=s,s}},91592:function(B,L,e){var k=e(52904),w=e(49084),r=e(29736).axisHoverFormat,_=e(21776).Ks,v=e(21776).Gw,f=e(45464),s=e(99168),t=e(87792),a=e(92880).extendFlat,n=e(67824).overrideAll,i=e(95376),l=k.line,o=k.marker,u=o.line,h=a({width:l.width,dash:{valType:"enumerated",values:i(s),dflt:"solid"}},w("line")),c=B.exports=n({x:k.x,y:k.y,z:{valType:"data_array"},text:a({},k.text,{}),texttemplate:v({},{}),hovertext:a({},k.hovertext,{}),hovertemplate:_(),xhoverformat:r("x"),yhoverformat:r("y"),zhoverformat:r("z"),mode:a({},k.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:k.connectgaps,line:h,marker:a({symbol:{valType:"enumerated",values:i(t),dflt:"circle",arrayOk:!0},size:a({},o.size,{dflt:8}),sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode,opacity:a({},o.opacity,{arrayOk:!1}),colorbar:o.colorbar,line:a({width:a({},u.width,{arrayOk:!1})},w("marker.line"))},w("marker")),textposition:a({},k.textposition,{dflt:"top center"}),textfont:{color:k.textfont.color,size:k.textfont.size,family:a({},k.textfont.family,{arrayOk:!1})},opacity:f.opacity,hoverinfo:a({},f.hoverinfo)},"calc","nested");c.x.editType=c.y.editType=c.z.editType="calc+clearAxisTypes"},41484:function(B,L,e){var k=e(20148),w=e(90136);B.exports=function(r,_){var v=[{x:!1,y:!1,trace:_,t:{}}];return k(v,_),w(r,_),v}},45156:function(B,L,e){var k=e(24040);function w(r,_,v,f){if(!_||!_.visible)return null;for(var s=k.getComponentMethod("errorbars","makeComputeError")(_),t=new Array(r.length),a=0;a<r.length;a++){var n=s(+r[a],a);if(f.type==="log"){var i=f.c2l(r[a]),l=r[a]-n[0],o=r[a]+n[1];if(t[a]=[(f.c2l(l,!0)-i)*v,(f.c2l(o,!0)-i)*v],l>0){var u=f.c2l(l);f._lowerLogErrorBound||(f._lowerLogErrorBound=u),f._lowerErrorBound=Math.min(f._lowerLogErrorBound,u)}}else t[a]=[-n[0]*v,n[1]*v]}return t}B.exports=function(r,_,v){var f=[w(r.x,r.error_x,_[0],v.xaxis),w(r.y,r.error_y,_[1],v.yaxis),w(r.z,r.error_z,_[2],v.zaxis)],s=function(o){for(var u=0;u<o.length;u++)if(o[u])return o[u].length;return 0}(f);if(s===0)return null;for(var t=new Array(s),a=0;a<s;a++){for(var n=[[0,0,0],[0,0,0]],i=0;i<3;i++)if(f[i])for(var l=0;l<2;l++)n[l][i]=f[i][a][l];t[a]=n}return t}},41064:function(B,L,e){var k=e(67792).gl_line3d,w=e(67792).gl_scatter3d,r=e(67792).gl_error3d,_=e(67792).gl_mesh3d,v=e(67792).delaunay_triangulate,f=e(3400),s=e(43080),t=e(33040).formatColor,a=e(7152),n=e(99168),i=e(87792),l=e(54460),o=e(10624).appendArrayPointValue,u=e(45156);function h(p,S){this.scene=p,this.uid=S,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var c=h.prototype;function b(p){return p==null?0:p.indexOf("left")>-1?-1:p.indexOf("right")>-1?1:0}function d(p){return p==null?0:p.indexOf("top")>-1?-1:p.indexOf("bottom")>-1?1:0}function g(p,S){return S(4*p)}function m(p){return i[p]}function y(p,S,M,E,P){var O=null;if(f.isArrayOrTypedArray(p)){O=[];for(var I=0;I<S;I++)p[I]===void 0?O[I]=E:O[I]=M(p[I],P)}else O=M(p,f.identity);return O}function x(p){if(f.isArrayOrTypedArray(p)){var S=p[0];return f.isArrayOrTypedArray(S)&&(p=S),"rgb("+p.slice(0,3).map(function(M){return Math.round(255*M)})+")"}return null}function T(p){return f.isArrayOrTypedArray(p)?p.length===4&&typeof p[0]=="number"?x(p):p.map(x):null}c.handlePick=function(p){if(p.object&&(p.object===this.linePlot||p.object===this.delaunayMesh||p.object===this.textMarkers||p.object===this.scatterPlot)){var S=p.index=p.data.index;return p.object.highlight&&p.object.highlight(null),this.scatterPlot&&(p.object=this.scatterPlot,this.scatterPlot.highlight(p.data)),p.textLabel="",this.textLabels&&(f.isArrayOrTypedArray(this.textLabels)?(this.textLabels[S]||this.textLabels[S]===0)&&(p.textLabel=this.textLabels[S]):p.textLabel=this.textLabels),p.traceCoordinate=[this.data.x[S],this.data.y[S],this.data.z[S]],!0}},c.update=function(p){var S,M,E,P,O=this.scene.glplot.gl,I=n.solid;this.data=p;var R=function(j,W){var F,V,H,te,Q,K,X=[],J=j.fullSceneLayout,ee=j.dataScale,ie=J.xaxis,oe=J.yaxis,ae=J.zaxis,ce=W.marker,ge=W.line,ve=W.x||[],be=W.y||[],we=W.z||[],ye=ve.length,me=W.xcalendar,Ae=W.ycalendar,ke=W.zcalendar;for(Q=0;Q<ye;Q++)F=ie.d2l(ve[Q],0,me)*ee[0],V=oe.d2l(be[Q],0,Ae)*ee[1],H=ae.d2l(we[Q],0,ke)*ee[2],X[Q]=[F,V,H];if(Array.isArray(W.text))K=W.text;else if(f.isTypedArray(W.text))K=Array.from(W.text);else if(W.text!==void 0)for(K=new Array(ye),Q=0;Q<ye;Q++)K[Q]=W.text;function fe(Ge,Ye){var et=J[Ge];return l.tickText(et,et.d2l(Ye),!0).text}var le=W.texttemplate;if(le){var de=j.fullLayout._d3locale,Ce=Array.isArray(le),Me=Ce?Math.min(le.length,ye):ye,Le=Ce?function(Ge){return le[Ge]}:function(){return le};for(K=new Array(Me),Q=0;Q<Me;Q++){var Oe={x:ve[Q],y:be[Q],z:we[Q]},Be={xLabel:fe("xaxis",ve[Q]),yLabel:fe("yaxis",be[Q]),zLabel:fe("zaxis",we[Q])},pe={};o(pe,W,Q);var _e=W._meta||{};K[Q]=f.texttemplateString(Le(Q),Be,de,pe,Oe,_e)}}if(te={position:X,mode:W.mode,text:K},"line"in W&&(te.lineColor=t(ge,1,ye),te.lineWidth=ge.width,te.lineDashes=ge.dash),"marker"in W){var Te=a(W);te.scatterColor=t(ce,1,ye),te.scatterSize=y(ce.size,ye,g,20,Te),te.scatterMarker=y(ce.symbol,ye,m,""),te.scatterLineWidth=ce.line.width,te.scatterLineColor=t(ce.line,1,ye),te.scatterAngle=0}"textposition"in W&&(te.textOffset=function(Ge){var Ye=[0,0];if(Array.isArray(Ge))for(var et=0;et<Ge.length;et++)Ye[et]=[0,0],Ge[et]&&(Ye[et][0]=b(Ge[et]),Ye[et][1]=d(Ge[et]));else Ye[0]=b(Ge),Ye[1]=d(Ge);return Ye}(W.textposition),te.textColor=t(W.textfont,1,ye),te.textSize=y(W.textfont.size,ye,f.identity,12),te.textFont=W.textfont.family,te.textAngle=0);var Re=["x","y","z"];for(te.project=[!1,!1,!1],te.projectScale=[1,1,1],te.projectOpacity=[1,1,1],Q=0;Q<3;++Q){var Ne=W.projection[Re[Q]];(te.project[Q]=Ne.show)&&(te.projectOpacity[Q]=Ne.opacity,te.projectScale[Q]=Ne.scale)}te.errorBounds=u(W,ee,J);var ze=function(Ge){for(var Ye=[0,0,0],et=[[0,0,0],[0,0,0],[0,0,0]],ut=[1,1,1],ot=0;ot<3;ot++){var yt=Ge[ot];yt&&yt.copy_zstyle!==!1&&Ge[2].visible!==!1&&(yt=Ge[2]),yt&&yt.visible&&(Ye[ot]=yt.width/2,et[ot]=s(yt.color),ut[ot]=yt.thickness)}return{capSize:Ye,color:et,lineWidth:ut}}([W.error_x,W.error_y,W.error_z]);return te.errorColor=ze.color,te.errorLineWidth=ze.lineWidth,te.errorCapSize=ze.capSize,te.delaunayAxis=W.surfaceaxis,te.delaunayColor=s(W.surfacecolor),te}(this.scene,p);"mode"in R&&(this.mode=R.mode),"lineDashes"in R&&R.lineDashes in n&&(I=n[R.lineDashes]),this.color=T(R.scatterColor)||T(R.lineColor),this.dataPoints=R.position,S={gl:this.scene.glplot.gl,position:R.position,color:R.lineColor,lineWidth:R.lineWidth||1,dashes:I[0],dashScale:I[1],opacity:p.opacity,connectGaps:p.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(S):(this.linePlot=k(S),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var U=p.opacity;if(p.marker&&p.marker.opacity!==void 0&&(U*=p.marker.opacity),M={gl:this.scene.glplot.gl,position:R.position,color:R.scatterColor,size:R.scatterSize,glyph:R.scatterMarker,opacity:U,orthographic:!0,lineWidth:R.scatterLineWidth,lineColor:R.scatterLineColor,project:R.project,projectScale:R.projectScale,projectOpacity:R.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(M):(this.scatterPlot=w(M),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),P={gl:this.scene.glplot.gl,position:R.position,glyph:R.text,color:R.textColor,size:R.textSize,angle:R.textAngle,alignment:R.textOffset,font:R.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:p.opacity},this.textLabels=p.hovertext||p.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(P):(this.textMarkers=w(P),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),E={gl:this.scene.glplot.gl,position:R.position,color:R.errorColor,error:R.errorBounds,lineWidth:R.errorLineWidth,capSize:R.errorCapSize,opacity:p.opacity},this.errorBars?R.errorBounds?this.errorBars.update(E):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):R.errorBounds&&(this.errorBars=r(E),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),R.delaunayAxis>=0){var z=function(j,W,F){var V,H=(F+1)%3,te=(F+2)%3,Q=[],K=[];for(V=0;V<j.length;++V){var X=j[V];!isNaN(X[H])&&isFinite(X[H])&&!isNaN(X[te])&&isFinite(X[te])&&(Q.push([X[H],X[te]]),K.push(V))}var J=v(Q);for(V=0;V<J.length;++V)for(var ee=J[V],ie=0;ie<ee.length;++ie)ee[ie]=K[ee[ie]];return{positions:j,cells:J,meshColor:W}}(R.position,R.delaunayColor,R.delaunayAxis);z.opacity=p.opacity,this.delaunayMesh?this.delaunayMesh.update(z):(z.gl=O,this.delaunayMesh=_(z),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},c.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},B.exports=function(p,S){var M=new h(p,S.uid);return M.update(S),M}},83484:function(B,L,e){var k=e(24040),w=e(3400),r=e(43028),_=e(74428),v=e(66828),f=e(124),s=e(91592);B.exports=function(t,a,n,i){function l(m,y){return w.coerce(t,a,s,m,y)}var o=function(m,y,x,T){var p=0,S=x("x"),M=x("y"),E=x("z");return k.getComponentMethod("calendars","handleTraceDefaults")(m,y,["x","y","z"],T),S&&M&&E&&(p=Math.min(S.length,M.length,E.length),y._length=y._xlength=y._ylength=y._zlength=p),p}(t,a,l,i);if(o){l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),r.hasMarkers(a)&&_(t,a,n,i,l,{noSelect:!0,noAngle:!0}),r.hasLines(a)&&(l("connectgaps"),v(t,a,n,i,l)),r.hasText(a)&&(l("texttemplate"),f(t,a,i,l,{noSelect:!0}));var u=(a.line||{}).color,h=(a.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",u||h);for(var c=["x","y","z"],b=0;b<3;++b){var d="projection."+c[b];l(d+".show")&&(l(d+".opacity"),l(d+".scale"))}var g=k.getComponentMethod("errorbars","supplyDefaults");g(t,a,u||h||n,{axis:"z"}),g(t,a,u||h||n,{axis:"y",inherit:"z"}),g(t,a,u||h||n,{axis:"x",inherit:"z"})}else a.visible=!1}},3296:function(B,L,e){B.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(B,L,e){var k=e(98304),w=e(52904),r=e(45464),_=e(21776).Ks,v=e(21776).Gw,f=e(49084),s=e(92880).extendFlat,t=w.marker,a=w.line,n=t.line;B.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:s({},w.mode,{dflt:"markers"}),text:s({},w.text,{}),texttemplate:v({editType:"plot"},{keys:["a","b","text"]}),hovertext:s({},w.hovertext,{}),line:{color:a.color,width:a.width,dash:a.dash,backoff:a.backoff,shape:s({},a.shape,{values:["linear","spline"]}),smoothing:a.smoothing,editType:"calc"},connectgaps:w.connectgaps,fill:s({},w.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:k(),marker:s({symbol:t.symbol,opacity:t.opacity,maxdisplayed:t.maxdisplayed,angle:t.angle,angleref:t.angleref,standoff:t.standoff,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:s({width:n.width,editType:"calc"},f("marker.line")),gradient:t.gradient,editType:"calc"},f("marker")),textfont:w.textfont,textposition:w.textposition,selected:w.selected,unselected:w.unselected,hoverinfo:s({},r.hoverinfo,{flags:["a","b","text","name"]}),hoveron:w.hoveron,hovertemplate:_()}},48228:function(B,L,e){var k=e(38248),w=e(90136),r=e(20148),_=e(4500),v=e(16356).calcMarkerSize,f=e(50948);B.exports=function(s,t){var a=t._carpetTrace=f(s,t);if(a&&a.visible&&a.visible!=="legendonly"){var n;t.xaxis=a.xaxis,t.yaxis=a.yaxis;var i,l,o=t._length,u=new Array(o),h=!1;for(n=0;n<o;n++)if(i=t.a[n],l=t.b[n],k(i)&&k(l)){var c=a.ab2xy(+i,+l,!0),b=a.isVisible(+i,+l);b||(h=!0),u[n]={x:c[0],y:c[1],a:i,b:l,vis:b}}else u[n]={x:!1,y:!1};return t._needsCull=h,u[0].carpet=a,u[0].trace=t,v(t,o),w(s,t),r(u,t),_(u,t),u}}},6176:function(B,L,e){var k=e(3400),w=e(88200),r=e(43028),_=e(74428),v=e(66828),f=e(11731),s=e(124),t=e(70840),a=e(90372);B.exports=function(n,i,l,o){function u(g,m){return k.coerce(n,i,a,g,m)}u("carpet"),i.xaxis="x",i.yaxis="y";var h=u("a"),c=u("b"),b=Math.min(h.length,c.length);if(b){i._length=b,u("text"),u("texttemplate"),u("hovertext"),u("mode",b<w.PTS_LINESONLY?"lines+markers":"lines"),r.hasMarkers(i)&&_(n,i,l,o,u,{gradient:!0}),r.hasLines(i)&&(v(n,i,l,o,u,{backoff:!0}),f(n,i,u),u("connectgaps")),r.hasText(i)&&s(n,i,o,u);var d=[];(r.hasMarkers(i)||r.hasText(i))&&(u("marker.maxdisplayed"),d.push("points")),u("fill"),i.fill!=="none"&&(t(n,i,l,u),r.hasLines(i)||f(n,i,u)),i.fill!=="tonext"&&i.fill!=="toself"||d.push("fills"),u("hoveron",d.join("+")||"points")!=="fills"&&u("hovertemplate"),k.coerceSelectionMarkerOpacity(i,u)}else i.visible=!1}},89307:function(B){B.exports=function(L,e,k,w,r){var _=w[r];return L.a=_.a,L.b=_.b,L.y=_.y,L}},52364:function(B){B.exports=function(L,e){var k={},w=e._carpet,r=w.ab2ij([L.a,L.b]),_=Math.floor(r[0]),v=r[0]-_,f=Math.floor(r[1]),s=r[1]-f,t=w.evalxy([],_,f,v,s);return k.yLabel=t[1].toFixed(3),k}},58960:function(B,L,e){var k=e(98723),w=e(3400).fillText;B.exports=function(r,_,v,f){var s=k(r,_,v,f);if(s&&s[0].index!==!1){var t=s[0];if(t.index===void 0){var a=1-t.y0/r.ya._length,n=r.xa._length,i=n*a/2,l=n-i;return t.x0=Math.max(Math.min(t.x0,l),i),t.x1=Math.max(Math.min(t.x1,l),i),s}var o=t.cd[t.index];t.a=o.a,t.b=o.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var u=t.trace,h=u._carpet,c=u._module.formatLabels(o,u);t.yLabel=c.yLabel,delete t.text;var b=[];if(!u.hovertemplate){var d=(o.hi||u.hoverinfo).split("+");d.indexOf("all")!==-1&&(d=["a","b","text"]),d.indexOf("a")!==-1&&g(h.aaxis,o.a),d.indexOf("b")!==-1&&g(h.baxis,o.b),b.push("y: "+t.yLabel),d.indexOf("text")!==-1&&w(o,u,b),t.extraText=b.join("<br>")}return s}function g(m,y){var x;x=m.labelprefix&&m.labelprefix.length>0?m.labelprefix.replace(/ = $/,""):m._hovertitle,b.push(x+": "+y.toFixed(3)+m.labelsuffix)}}},4184:function(B,L,e){B.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(B,L,e){var k=e(96504),w=e(54460),r=e(43616);B.exports=function(_,v,f,s){var t,a,n,i=f[0][0].carpet,l=w.getFromId(_,i.xaxis||"x"),o=w.getFromId(_,i.yaxis||"y"),u={xaxis:l,yaxis:o,plot:v.plot};for(t=0;t<f.length;t++)(a=f[t][0].trace)._xA=l,a._yA=o;for(k(_,u,f,s),t=0;t<f.length;t++)a=f[t][0].trace,n=s.selectAll("g.trace"+a.uid+" .js-line"),r.setClipUrl(n,f[t][0].carpet._clipPathId,_)}},6096:function(B,L,e){var k=e(21776).Ks,w=e(21776).Gw,r=e(98304),_=e(52904),v=e(45464),f=e(49084),s=e(98192).u,t=e(92880).extendFlat,a=e(67824).overrideAll,n=_.marker,i=_.line,l=n.line;B.exports=a({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:t({},_.mode,{dflt:"markers"}),text:t({},_.text,{}),texttemplate:w({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:t({},_.hovertext,{}),textfont:_.textfont,textposition:_.textposition,line:{color:i.color,width:i.width,dash:s},connectgaps:_.connectgaps,marker:t({symbol:n.symbol,opacity:n.opacity,angle:n.angle,angleref:t({},n.angleref,{values:["previous","up","north"]}),standoff:n.standoff,size:n.size,sizeref:n.sizeref,sizemin:n.sizemin,sizemode:n.sizemode,colorbar:n.colorbar,line:t({width:l.width},f("marker.line")),gradient:n.gradient},f("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:r(),selected:_.selected,unselected:_.unselected,hoverinfo:t({},v.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:k()},"calc","nested")},25212:function(B,L,e){var k=e(38248),w=e(39032).BADNUM,r=e(90136),_=e(20148),v=e(4500),f=e(3400).isArrayOrTypedArray,s=e(3400)._;function t(a){return a&&typeof a=="string"}B.exports=function(a,n){var i,l=f(n.locations),o=l?n.locations.length:n._length,u=new Array(o);i=n.geojson?function(m){return t(m)||k(m)}:t;for(var h=0;h<o;h++){var c=u[h]={};if(l){var b=n.locations[h];c.loc=i(b)?b:null}else{var d=n.lon[h],g=n.lat[h];k(d)&&k(g)?c.lonlat=[+d,+g]:c.lonlat=[w,w]}}return _(u,n),r(a,n),v(u,n),o&&(u[0].t={labels:{lat:s(a,"lat:")+" ",lon:s(a,"lon:")+" "}}),u}},86188:function(B,L,e){var k=e(3400),w=e(43028),r=e(74428),_=e(66828),v=e(124),f=e(70840),s=e(6096);B.exports=function(t,a,n,i){function l(g,m){return k.coerce(t,a,s,g,m)}var o,u=l("locations");if(u&&u.length){var h,c=l("geojson");(typeof c=="string"&&c!==""||k.isPlainObject(c))&&(h="geojson-id"),l("locationmode",h)==="geojson-id"&&l("featureidkey"),o=u.length}else{var b=l("lon")||[],d=l("lat")||[];o=Math.min(b.length,d.length)}o?(a._length=o,l("text"),l("hovertext"),l("hovertemplate"),l("mode"),w.hasMarkers(a)&&r(t,a,n,i,l,{gradient:!0}),w.hasLines(a)&&(_(t,a,n,i,l),l("connectgaps")),w.hasText(a)&&(l("texttemplate"),v(t,a,i,l)),l("fill"),a.fill!=="none"&&f(t,a,n,l),k.coerceSelectionMarkerOpacity(a,l)):a.visible=!1}},58544:function(B){B.exports=function(L,e,k,w,r){L.lon=e.lon,L.lat=e.lat,L.location=e.loc?e.loc:null;var _=w[r];return _.fIn&&_.fIn.properties&&(L.properties=_.fIn.properties),L}},56696:function(B,L,e){var k=e(54460);B.exports=function(w,r,_){var v={},f=_[r.geo]._subplot.mockAxis,s=w.lonlat;return v.lonLabel=k.tickText(f,f.c2l(s[0]),!0).text,v.latLabel=k.tickText(f,f.c2l(s[1]),!0).text,v}},64292:function(B,L,e){var k=e(93024),w=e(39032).BADNUM,r=e(44928),_=e(3400).fillText,v=e(6096);B.exports=function(f,s,t){var a=f.cd,n=a[0].trace,i=f.xa,l=f.ya,o=f.subplot,u=o.projection.isLonLatOverEdges,h=o.project;if(k.getClosest(a,function(x){var T=x.lonlat;if(T[0]===w||u(T))return 1/0;var p=h(T),S=h([s,t]),M=Math.abs(p[0]-S[0]),E=Math.abs(p[1]-S[1]),P=Math.max(3,x.mrc||0);return Math.max(Math.sqrt(M*M+E*E)-P,1-3/P)},f),f.index!==!1){var c=a[f.index],b=c.lonlat,d=[i.c2p(b),l.c2p(b)],g=c.mrc||1;f.x0=d[0]-g,f.x1=d[0]+g,f.y0=d[1]-g,f.y1=d[1]+g,f.loc=c.loc,f.lon=b[0],f.lat=b[1];var m={};m[n.geo]={_subplot:o};var y=n._module.formatLabels(c,n,m);return f.lonLabel=y.lonLabel,f.latLabel=y.latLabel,f.color=r(n,c),f.extraText=function(x,T,p,S){if(!x.hovertemplate){var M=T.hi||x.hoverinfo,E=M==="all"?v.hoverinfo.flags:M.split("+"),P=E.indexOf("location")!==-1&&Array.isArray(x.locations),O=E.indexOf("lon")!==-1,I=E.indexOf("lat")!==-1,R=E.indexOf("text")!==-1,U=[];return P?U.push(T.loc):O&&I?U.push("("+z(p.latLabel)+", "+z(p.lonLabel)+")"):O?U.push(S.lon+z(p.lonLabel)):I&&U.push(S.lat+z(p.latLabel)),R&&_(T,x,U),U.join("<br>")}function z(j){return j+""}}(n,c,f,a[0].t.labels),f.hovertemplate=n.hovertemplate,[f]}}},36952:function(B,L,e){B.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(B,L,e){var k=e(33428),w=e(3400),r=e(59972).getTopojsonFeatures,_=e(44808),v=e(27144),f=e(19280).findExtremes,s=e(39032).BADNUM,t=e(16356).calcMarkerSize,a=e(43028),n=e(25064);B.exports={calcGeoJSON:function(i,l){var o,u,h=i[0].trace,c=l[h.geo],b=c._subplot,d=h._length;if(w.isArrayOrTypedArray(h.locations)){var g=h.locationmode,m=g==="geojson-id"?v.extractTraceFeature(i):r(h,b.topojson);for(o=0;o<d;o++){u=i[o];var y=g==="geojson-id"?u.fOut:v.locationToFeature(g,u.loc,m);u.lonlat=y?y.properties.ct:[s,s]}}var x,T,p={padded:!0};if(c.fitbounds==="geojson"&&h.locationmode==="geojson-id"){var S=v.computeBbox(v.getTraceGeojson(h));x=[S[0],S[2]],T=[S[1],S[3]]}else{for(x=new Array(d),T=new Array(d),o=0;o<d;o++)u=i[o],x[o]=u.lonlat[0],T[o]=u.lonlat[1];p.ppad=t(h,d)}h._extremes.lon=f(c.lonaxis._ax,x,p),h._extremes.lat=f(c.lataxis._ax,T,p)},plot:function(i,l,o){var u=l.layers.frontplot.select(".scatterlayer"),h=w.makeTraceGroups(u,o,"trace scattergeo");function c(b,d){b.lonlat[0]===s&&k.select(d).remove()}h.selectAll("*").remove(),h.each(function(b){var d=k.select(this),g=b[0].trace;if(a.hasLines(g)||g.fill!=="none"){var m=_.calcTraceToLineCoords(b),y=g.fill!=="none"?_.makePolygon(m):_.makeLine(m);d.selectAll("path.js-line").data([{geojson:y,trace:g}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}a.hasMarkers(g)&&d.selectAll("path.point").data(w.identity).enter().append("path").classed("point",!0).each(function(x){c(x,this)}),a.hasText(g)&&d.selectAll("g").data(w.identity).enter().append("g").append("text").each(function(x){c(x,this)}),n(i,b)})}}},8796:function(B,L,e){var k=e(43028),w=e(39032).BADNUM;B.exports=function(r,_){var v,f,s,t,a,n=r.cd,i=r.xaxis,l=r.yaxis,o=[],u=n[0].trace;if(!k.hasMarkers(u)&&!k.hasText(u))return[];if(_===!1)for(a=0;a<n.length;a++)n[a].selected=0;else for(a=0;a<n.length;a++)(f=(v=n[a]).lonlat)[0]!==w&&(s=i.c2p(f),t=l.c2p(f),_.contains([s,t],null,a,r)?(o.push({pointNumber:a,lon:f[0],lat:f[1]}),v.selected=1):v.selected=0);return o}},25064:function(B,L,e){var k=e(33428),w=e(43616),r=e(76308),_=e(49224),v=_.stylePoints,f=_.styleText;B.exports=function(s,t){t&&function(a,n){var i=n[0].trace,l=n[0].node3;l.style("opacity",n[0].trace.opacity),v(l,i,a),f(l,i,a),l.selectAll("path.js-line").style("fill","none").each(function(o){var u=k.select(this),h=o.trace,c=h.line||{};u.call(r.stroke,c.color).call(w.dashLine,c.dash||"",c.width||0),h.fill!=="none"&&u.call(r.fill,h.fillcolor)})}(s,t)}},2876:function(B,L,e){var k=e(45464),w=e(98304),r=e(52904),_=e(29736).axisHoverFormat,v=e(49084),f=e(95376),s=e(92880).extendFlat,t=e(67824).overrideAll,a=e(67072).DASHES,n=r.line,i=r.marker,l=i.line,o=B.exports=t({x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,xperiod:r.xperiod,yperiod:r.yperiod,xperiod0:r.xperiod0,yperiod0:r.yperiod0,xperiodalignment:r.xperiodalignment,yperiodalignment:r.yperiodalignment,xhoverformat:_("x"),yhoverformat:_("y"),text:r.text,hovertext:r.hovertext,textposition:r.textposition,textfont:r.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:n.color,width:n.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:f(a),dflt:"solid"}},marker:s({},v("marker"),{symbol:i.symbol,angle:i.angle,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,opacity:i.opacity,colorbar:i.colorbar,line:s({},v("marker.line"),{width:l.width})}),connectgaps:r.connectgaps,fill:s({},r.fill,{dflt:"none"}),fillcolor:w(),selected:{marker:r.selected.marker,textfont:r.selected.textfont},unselected:{marker:r.unselected.marker,textfont:r.unselected.textfont},opacity:k.opacity},"calc","nested");o.x.editType=o.y.editType=o.x0.editType=o.y0.editType="calc+clearAxisTypes",o.hovertemplate=r.hovertemplate,o.texttemplate=r.texttemplate},64628:function(B,L,e){var k=e(41272);B.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:k.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(B,L,e){var k=e(3108),w=e(3400),r=e(79811),_=e(19280).findExtremes,v=e(1220),f=e(16356),s=f.calcMarkerSize,t=f.calcAxisExpansion,a=f.setFirstScatter,n=e(90136),i=e(84236),l=e(74588),o=e(39032).BADNUM,u=e(67072).TOO_MANY_POINTS;function h(c,b,d){var g=c._extremes[b._id],m=_(b,d._bnds,{padded:!0});g.min=g.min.concat(m.min),g.max=g.max.concat(m.max)}B.exports=function(c,b){var d,g=c._fullLayout,m=b._xA=r.getFromId(c,b.xaxis,"x"),y=b._yA=r.getFromId(c,b.yaxis,"y"),x=g._plots[b.xaxis+b.yaxis],T=b._length,p=T>=u,S=2*T,M={},E=m.makeCalcdata(b,"x"),P=y.makeCalcdata(b,"y"),O=v(b,m,"x",E),I=v(b,y,"y",P),R=O.vals,U=I.vals;b._x=R,b._y=U,b.xperiodalignment&&(b._origX=E,b._xStarts=O.starts,b._xEnds=O.ends),b.yperiodalignment&&(b._origY=P,b._yStarts=I.starts,b._yEnds=I.ends);var z=new Array(S),j=new Array(T);for(d=0;d<T;d++)z[2*d]=R[d]===o?NaN:R[d],z[2*d+1]=U[d]===o?NaN:U[d],j[d]=d;if(m.type==="log")for(d=0;d<S;d+=2)z[d]=m.c2l(z[d]);if(y.type==="log")for(d=1;d<S;d+=2)z[d]=y.c2l(z[d]);p&&m.type!=="log"&&y.type!=="log"?M.tree=k(z):M.ids=j,n(c,b);var W,F=function(H,te,Q,K,X,J){var ee=i.style(H,Q);if(ee.marker&&(ee.marker.positions=K),ee.line&&K.length>1&&w.extendFlat(ee.line,i.linePositions(H,Q,K)),ee.errorX||ee.errorY){var ie=i.errorBarPositions(H,Q,K,X,J);ee.errorX&&w.extendFlat(ee.errorX,ie.x),ee.errorY&&w.extendFlat(ee.errorY,ie.y)}return ee.text&&(w.extendFlat(ee.text,{positions:K},i.textPosition(H,Q,ee.text,ee.marker)),w.extendFlat(ee.textSel,{positions:K},i.textPosition(H,Q,ee.text,ee.markerSel)),w.extendFlat(ee.textUnsel,{positions:K},i.textPosition(H,Q,ee.text,ee.markerUnsel))),ee}(c,0,b,z,R,U),V=l(c,x);return a(g,b),p?F.marker&&(W=F.marker.sizeAvg||Math.max(F.marker.size,3)):W=s(b,T),t(c,b,m,y,R,U,W),F.errorX&&h(b,m,F.errorX),F.errorY&&h(b,y,F.errorY),F.fill&&!V.fill2d&&(V.fill2d=!0),F.marker&&!V.scatter2d&&(V.scatter2d=!0),F.line&&!V.line2d&&(V.line2d=!0),!F.errorX&&!F.errorY||V.error2d||(V.error2d=!0),F.text&&!V.glText&&(V.glText=!0),F.marker&&(F.marker.snap=T),V.lineOptions.push(F.line),V.errorXOptions.push(F.errorX),V.errorYOptions.push(F.errorY),V.fillOptions.push(F.fill),V.markerOptions.push(F.marker),V.markerSelectedOptions.push(F.markerSel),V.markerUnselectedOptions.push(F.markerUnsel),V.textOptions.push(F.text),V.textSelectedOptions.push(F.textSel),V.textUnselectedOptions.push(F.textUnsel),V.selectBatch.push([]),V.unselectBatch.push([]),M._scene=V,M.index=V.count,M.x=R,M.y=U,M.positions=z,V.count++,[{x:!1,y:!1,t:M,trace:b}]}},67072:function(B){B.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(B,L,e){var k=e(38248),w=e(20472),r=e(72160),_=e(24040),v=e(3400),f=v.isArrayOrTypedArray,s=e(43616),t=e(79811),a=e(33040).formatColor,n=e(43028),i=e(7152),l=e(80088),o=e(67072),u=e(13448).DESELECTDIM,h={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},c=e(10624).appendArrayPointValue;function b(P,O){var I,R=P._fullLayout,U=O._length,z=O.textfont,j=O.textposition,W=f(j)?j:[j],F=z.color,V=z.size,H=z.family,te={},Q=P._context.plotGlPixelRatio,K=O.texttemplate;if(K){te.text=[];var X=R._d3locale,J=Array.isArray(K),ee=J?Math.min(K.length,U):U,ie=J?function(we){return K[we]}:function(){return K};for(I=0;I<ee;I++){var oe={i:I},ae=O._module.formatLabels(oe,O,R),ce={};c(ce,O,I);var ge=O._meta||{};te.text.push(v.texttemplateString(ie(I),ae,X,ce,oe,ge))}}else f(O.text)&&O.text.length<U?te.text=O.text.slice():te.text=O.text;if(f(te.text))for(I=te.text.length;I<U;I++)te.text[I]="";for(te.opacity=O.opacity,te.font={},te.align=[],te.baseline=[],I=0;I<W.length;I++){var ve=W[I].split(/\s+/);switch(ve[1]){case"left":te.align.push("right");break;case"right":te.align.push("left");break;default:te.align.push(ve[1])}switch(ve[0]){case"top":te.baseline.push("bottom");break;case"bottom":te.baseline.push("top");break;default:te.baseline.push(ve[0])}}if(f(F))for(te.color=new Array(U),I=0;I<U;I++)te.color[I]=F[I];else te.color=F;if(f(V)||f(H))for(te.font=new Array(U),I=0;I<U;I++){var be=te.font[I]={};be.size=(v.isTypedArray(V)?V[I]:f(V)?k(V[I])?V[I]:0:V)*Q,be.family=f(H)?H[I]:H}else te.font={size:V*Q,family:H};return te}function d(P,O){var I,R,U=O._length,z=O.marker,j={},W=f(z.symbol),F=f(z.angle),V=f(z.color),H=f(z.line.color),te=f(z.opacity),Q=f(z.size),K=f(z.line.width);if(W||(R=l.isOpenSymbol(z.symbol)),W||V||H||te||F){j.symbols=new Array(U),j.angles=new Array(U),j.colors=new Array(U),j.borderColors=new Array(U);var X=z.symbol,J=z.angle,ee=a(z,z.opacity,U),ie=a(z.line,z.opacity,U);if(!f(ie[0])){var oe=ie;for(ie=Array(U),I=0;I<U;I++)ie[I]=oe}if(!f(ee[0])){var ae=ee;for(ee=Array(U),I=0;I<U;I++)ee[I]=ae}if(!f(X)){var ce=X;for(X=Array(U),I=0;I<U;I++)X[I]=ce}if(!f(J)){var ge=J;for(J=Array(U),I=0;I<U;I++)J[I]=ge}for(j.symbols=X,j.angles=J,j.colors=ee,j.borderColors=ie,I=0;I<U;I++)W&&(R=l.isOpenSymbol(z.symbol[I])),R&&(ie[I]=ee[I].slice(),ee[I]=ee[I].slice(),ee[I][3]=0);for(j.opacity=O.opacity,j.markers=new Array(U),I=0;I<U;I++)j.markers[I]=E({mx:j.symbols[I],ma:j.angles[I]},O)}else R?(j.color=r(z.color,"uint8"),j.color[3]=0,j.borderColor=r(z.color,"uint8")):(j.color=r(z.color,"uint8"),j.borderColor=r(z.line.color,"uint8")),j.opacity=O.opacity*z.opacity,j.marker=E({mx:z.symbol,ma:z.angle},O);var ve,be=i(O,1);if(Q||K){var we,ye=j.sizes=new Array(U),me=j.borderSizes=new Array(U),Ae=0;if(Q){for(I=0;I<U;I++)ye[I]=be(z.size[I]),Ae+=ye[I];we=Ae/U}else for(ve=be(z.size),I=0;I<U;I++)ye[I]=ve;if(K)for(I=0;I<U;I++)me[I]=z.line.width[I];else for(ve=z.line.width,I=0;I<U;I++)me[I]=ve;j.sizeAvg=we}else j.size=be(z&&z.size||10),j.borderSizes=be(z.line.width);return j}function g(P,O,I){var R=O.marker,U={};return I&&(I.marker&&I.marker.symbol?U=d(0,v.extendFlat({},R,I.marker)):I.marker&&(I.marker.size&&(U.size=I.marker.size),I.marker.color&&(U.colors=I.marker.color),I.marker.opacity!==void 0&&(U.opacity=I.marker.opacity))),U}function m(P,O,I){var R={};if(!I)return R;if(I.textfont){var U={opacity:1,text:O.text,texttemplate:O.texttemplate,textposition:O.textposition,textfont:v.extendFlat({},O.textfont)};I.textfont&&v.extendFlat(U.textfont,I.textfont),R=b(P,U)}return R}function y(P,O,I){var R={capSize:2*O.width*I,lineWidth:O.thickness*I,color:O.color};return O.copy_ystyle&&(R=P.error_y),R}var x=o.SYMBOL_SDF_SIZE,T=o.SYMBOL_SIZE,p=o.SYMBOL_STROKE,S={},M=s.symbolFuncs[0](.05*T);function E(P,O){var I,R,U=P.mx;if(U==="circle")return null;var z=s.symbolNumber(U),j=s.symbolFuncs[z%100],W=!!s.symbolNoDot[z%100],F=!!s.symbolNoFill[z%100],V=l.isDotSymbol(U);if(P.ma&&(U+="_"+P.ma),S[U])return S[U];var H=s.getMarkerAngle(P,O);return I=V&&!W?j(1.1*T,H)+M:j(T,H),R=w(I,{w:x,h:x,viewBox:[-T,-T,T,T],stroke:F?p:-p}),S[U]=R,R||null}B.exports={style:function(P,O){var I,R={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},U=P._context.plotGlPixelRatio;if(O.visible!==!0)return R;if(n.hasText(O)&&(R.text=b(P,O),R.textSel=m(P,O,O.selected),R.textUnsel=m(P,O,O.unselected)),n.hasMarkers(O)&&(R.marker=d(0,O),R.markerSel=g(0,O,O.selected),R.markerUnsel=g(0,O,O.unselected),!O.unselected&&f(O.marker.opacity))){var z=O.marker.opacity;for(R.markerUnsel.opacity=new Array(z.length),I=0;I<z.length;I++)R.markerUnsel.opacity[I]=u*z[I]}if(n.hasLines(O)){R.line={overlay:!0,thickness:O.line.width*U,color:O.line.color,opacity:O.opacity};var j=(o.DASHES[O.line.dash]||[1]).slice();for(I=0;I<j.length;++I)j[I]*=O.line.width*U;R.line.dashes=j}return O.error_x&&O.error_x.visible&&(R.errorX=y(O,O.error_x,U)),O.error_y&&O.error_y.visible&&(R.errorY=y(O,O.error_y,U)),O.fill&&O.fill!=="none"&&(R.fill={closed:!0,fill:O.fillcolor,thickness:0}),R},markerStyle:d,markerSelection:g,linePositions:function(P,O,I){var R,U,z=I.length,j=z/2;if(n.hasLines(O)&&j)if(O.line.shape==="hv"){for(R=[],U=0;U<j-1;U++)isNaN(I[2*U])||isNaN(I[2*U+1])?R.push(NaN,NaN,NaN,NaN):(R.push(I[2*U],I[2*U+1]),isNaN(I[2*U+2])||isNaN(I[2*U+3])?R.push(NaN,NaN):R.push(I[2*U+2],I[2*U+1]));R.push(I[z-2],I[z-1])}else if(O.line.shape==="hvh"){for(R=[],U=0;U<j-1;U++)if(isNaN(I[2*U])||isNaN(I[2*U+1])||isNaN(I[2*U+2])||isNaN(I[2*U+3]))isNaN(I[2*U])||isNaN(I[2*U+1])?R.push(NaN,NaN):R.push(I[2*U],I[2*U+1]),R.push(NaN,NaN);else{var W=(I[2*U]+I[2*U+2])/2;R.push(I[2*U],I[2*U+1],W,I[2*U+1],W,I[2*U+3])}R.push(I[z-2],I[z-1])}else if(O.line.shape==="vhv"){for(R=[],U=0;U<j-1;U++)if(isNaN(I[2*U])||isNaN(I[2*U+1])||isNaN(I[2*U+2])||isNaN(I[2*U+3]))isNaN(I[2*U])||isNaN(I[2*U+1])?R.push(NaN,NaN):R.push(I[2*U],I[2*U+1]),R.push(NaN,NaN);else{var F=(I[2*U+1]+I[2*U+3])/2;R.push(I[2*U],I[2*U+1],I[2*U],F,I[2*U+2],F)}R.push(I[z-2],I[z-1])}else if(O.line.shape==="vh"){for(R=[],U=0;U<j-1;U++)isNaN(I[2*U])||isNaN(I[2*U+1])?R.push(NaN,NaN,NaN,NaN):(R.push(I[2*U],I[2*U+1]),isNaN(I[2*U+2])||isNaN(I[2*U+3])?R.push(NaN,NaN):R.push(I[2*U],I[2*U+3]));R.push(I[z-2],I[z-1])}else R=I;var V=!1;for(U=0;U<R.length;U++)if(isNaN(R[U])){V=!0;break}var H=V||R.length>o.TOO_MANY_POINTS||n.hasMarkers(O)?"rect":"round";if(V&&O.connectgaps){var te=R[0],Q=R[1];for(U=0;U<R.length;U+=2)isNaN(R[U])||isNaN(R[U+1])?(R[U]=te,R[U+1]=Q):(te=R[U],Q=R[U+1])}return{join:H,positions:R}},errorBarPositions:function(P,O,I,R,U){var z=_.getComponentMethod("errorbars","makeComputeError"),j=t.getFromId(P,O.xaxis,"x"),W=t.getFromId(P,O.yaxis,"y"),F=I.length/2,V={};function H(te,Q){var K=Q._id.charAt(0),X=O["error_"+K];if(X&&X.visible&&(Q.type==="linear"||Q.type==="log")){for(var J=z(X),ee={x:0,y:1}[K],ie={x:[0,1,2,3],y:[2,3,0,1]}[K],oe=new Float64Array(4*F),ae=1/0,ce=-1/0,ge=0,ve=0;ge<F;ge++,ve+=4){var be=te[ge];if(k(be)){var we=I[2*ge+ee],ye=J(be,ge),me=ye[0],Ae=ye[1];if(k(me)&&k(Ae)){var ke=be-me,fe=be+Ae;oe[ve+ie[0]]=we-Q.c2l(ke),oe[ve+ie[1]]=Q.c2l(fe)-we,oe[ve+ie[2]]=0,oe[ve+ie[3]]=0,ae=Math.min(ae,be-me),ce=Math.max(ce,be+Ae)}}}V[K]={positions:I,errors:oe,_bnds:[ae,ce]}}}return H(R,j),H(U,W),V},textPosition:function(P,O,I,R){var U,z=O._length,j={};if(n.hasMarkers(O)){var W=I.font,F=I.align,V=I.baseline;for(j.offset=new Array(z),U=0;U<z;U++){var H=R.sizes?R.sizes[U]:R.size,te=f(W)?W[U].size:W.size,Q=f(F)?F.length>1?F[U]:F[0]:F,K=f(V)?V.length>1?V[U]:V[0]:V,X=h[Q],J=h[K],ee=H?H/.8+1:0,ie=-J*ee-.5*J;j.offset[U]=[X*ee/te,ie/te]}}return j}}},80220:function(B,L,e){var k=e(3400),w=e(24040),r=e(80088),_=e(2876),v=e(88200),f=e(43028),s=e(43980),t=e(31147),a=e(74428),n=e(66828),i=e(70840),l=e(124);B.exports=function(o,u,h,c){function b(S,M){return k.coerce(o,u,_,S,M)}var d=!!o.marker&&r.isOpenSymbol(o.marker.symbol),g=f.isBubble(o),m=s(o,u,c,b);if(m){t(o,u,c,b),b("xhoverformat"),b("yhoverformat");var y=m<v.PTS_LINESONLY?"lines+markers":"lines";b("text"),b("hovertext"),b("hovertemplate"),b("mode",y),f.hasMarkers(u)&&(a(o,u,h,c,b,{noAngleRef:!0,noStandOff:!0}),b("marker.line.width",d||g?1:0)),f.hasLines(u)&&(b("connectgaps"),n(o,u,h,c,b),b("line.shape")),f.hasText(u)&&(b("texttemplate"),l(o,u,c,b));var x=(u.line||{}).color,T=(u.marker||{}).color;b("fill"),u.fill!=="none"&&i(o,u,h,b);var p=w.getComponentMethod("errorbars","supplyDefaults");p(o,u,x||T||h,{axis:"y"}),p(o,u,x||T||h,{axis:"x",inherit:"y"}),k.coerceSelectionMarkerOpacity(u,b)}else u.visible=!1}},26768:function(B,L,e){var k=e(3400),w=e(76308),r=e(13448).DESELECTDIM;B.exports={styleTextSelection:function(_){var v,f,s=_[0],t=s.trace,a=s.t,n=a._scene,i=a.index,l=n.selectBatch[i],o=n.unselectBatch[i],u=n.textOptions[i],h=n.textSelectedOptions[i]||{},c=n.textUnselectedOptions[i]||{},b=k.extendFlat({},u);if(l.length||o.length){var d=h.color,g=c.color,m=u.color,y=k.isArrayOrTypedArray(m);for(b.color=new Array(t._length),v=0;v<l.length;v++)f=l[v],b.color[f]=d||(y?m[f]:m);for(v=0;v<o.length;v++){f=o[v];var x=y?m[f]:m;b.color[f]=g||(d?x:w.addOpacity(x,r))}}n.glText[i].update(b)}}},99396:function(B,L,e){var k=e(76688);B.exports=function(w,r,_){var v=w.i;return"x"in w||(w.x=r._x[v]),"y"in w||(w.y=r._y[v]),k(w,r,_)}},80088:function(B,L,e){var k=e(67072);L.isOpenSymbol=function(w){return typeof w=="string"?k.OPEN_RE.test(w):w%200>100},L.isDotSymbol=function(w){return typeof w=="string"?k.DOT_RE.test(w):w>200}},41272:function(B,L,e){var k=e(24040),w=e(3400),r=e(44928);function _(v,f,s,t){var a=v.xa,n=v.ya,i=v.distance,l=v.dxy,o=v.index,u={pointNumber:o,x:f[o],y:s[o]};u.tx=w.isArrayOrTypedArray(t.text)?t.text[o]:t.text,u.htx=Array.isArray(t.hovertext)?t.hovertext[o]:t.hovertext,u.data=Array.isArray(t.customdata)?t.customdata[o]:t.customdata,u.tp=Array.isArray(t.textposition)?t.textposition[o]:t.textposition;var h=t.textfont;h&&(u.ts=w.isArrayOrTypedArray(h.size)?h.size[o]:h.size,u.tc=Array.isArray(h.color)?h.color[o]:h.color,u.tf=Array.isArray(h.family)?h.family[o]:h.family);var c=t.marker;c&&(u.ms=w.isArrayOrTypedArray(c.size)?c.size[o]:c.size,u.mo=w.isArrayOrTypedArray(c.opacity)?c.opacity[o]:c.opacity,u.mx=w.isArrayOrTypedArray(c.symbol)?c.symbol[o]:c.symbol,u.ma=w.isArrayOrTypedArray(c.angle)?c.angle[o]:c.angle,u.mc=w.isArrayOrTypedArray(c.color)?c.color[o]:c.color);var b=c&&c.line;b&&(u.mlc=Array.isArray(b.color)?b.color[o]:b.color,u.mlw=w.isArrayOrTypedArray(b.width)?b.width[o]:b.width);var d=c&&c.gradient;d&&d.type!=="none"&&(u.mgt=Array.isArray(d.type)?d.type[o]:d.type,u.mgc=Array.isArray(d.color)?d.color[o]:d.color);var g=a.c2p(u.x,!0),m=n.c2p(u.y,!0),y=u.mrc||1,x=t.hoverlabel;x&&(u.hbg=Array.isArray(x.bgcolor)?x.bgcolor[o]:x.bgcolor,u.hbc=Array.isArray(x.bordercolor)?x.bordercolor[o]:x.bordercolor,u.hts=w.isArrayOrTypedArray(x.font.size)?x.font.size[o]:x.font.size,u.htc=Array.isArray(x.font.color)?x.font.color[o]:x.font.color,u.htf=Array.isArray(x.font.family)?x.font.family[o]:x.font.family,u.hnl=w.isArrayOrTypedArray(x.namelength)?x.namelength[o]:x.namelength);var T=t.hoverinfo;T&&(u.hi=Array.isArray(T)?T[o]:T);var p=t.hovertemplate;p&&(u.ht=Array.isArray(p)?p[o]:p);var S={};S[v.index]=u;var M=t._origX,E=t._origY,P=w.extendFlat({},v,{color:r(t,u),x0:g-y,x1:g+y,xLabelVal:M?M[o]:u.x,y0:m-y,y1:m+y,yLabelVal:E?E[o]:u.y,cd:S,distance:i,spikeDistance:l,hovertemplate:u.ht});return u.htx?P.text=u.htx:u.tx?P.text=u.tx:t.text&&(P.text=t.text),w.fillText(u,t,P),k.getComponentMethod("errorbars","hoverInfo")(u,t,P),P}B.exports={hoverPoints:function(v,f,s,t){var a,n,i,l,o,u,h,c,b,d,g=v.cd,m=g[0].t,y=g[0].trace,x=v.xa,T=v.ya,p=m.x,S=m.y,M=x.c2p(f),E=T.c2p(s),P=v.distance;if(m.tree){var O=x.p2c(M-P),I=x.p2c(M+P),R=T.p2c(E-P),U=T.p2c(E+P);a=t==="x"?m.tree.range(Math.min(O,I),Math.min(T._rl[0],T._rl[1]),Math.max(O,I),Math.max(T._rl[0],T._rl[1])):m.tree.range(Math.min(O,I),Math.min(R,U),Math.max(O,I),Math.max(R,U))}else a=m.ids;var z=P;if(t==="x"){var j=!!y.xperiodalignment,W=!!y.yperiodalignment;for(u=0;u<a.length;u++){if(l=p[n=a[u]],h=Math.abs(x.c2p(l)-M),j){var F=x.c2p(y._xStarts[n]),V=x.c2p(y._xEnds[n]);h=M>=Math.min(F,V)&&M<=Math.max(F,V)?0:1/0}if(h<z){if(z=h,o=S[n],c=T.c2p(o)-E,W){var H=T.c2p(y._yStarts[n]),te=T.c2p(y._yEnds[n]);c=E>=Math.min(H,te)&&E<=Math.max(H,te)?0:1/0}d=Math.sqrt(h*h+c*c),i=a[u]}}}else for(u=a.length-1;u>-1;u--)l=p[n=a[u]],o=S[n],h=x.c2p(l)-M,c=T.c2p(o)-E,(b=Math.sqrt(h*h+c*c))<z&&(z=d=b,i=n);return v.index=i,v.distance=z,v.dxy=d,i===void 0?[v]:[_(v,p,S,y)]},calcHover:_}},38983:function(B,L,e){var k=e(64628);k.plot=e(89876),B.exports=k},89876:function(B,L,e){var k=e(38540),w=e(13472),r=e(24544),_=e(23352),v=e(3400),f=e(72760).selectMode,s=e(5048),t=e(43028),a=e(14328),n=e(26768).styleTextSelection,i={};function l(o,u,h,c){var b=o._size,d=o.width*c,g=o.height*c,m=b.l*c,y=b.b*c,x=b.r*c,T=b.t*c,p=b.w*c,S=b.h*c;return[m+u.domain[0]*p,y+h.domain[0]*S,d-x-(1-u.domain[1])*p,g-T-(1-h.domain[1])*S]}(B.exports=function(o,u,h){if(h.length){var c,b,d=o._fullLayout,g=u._scene,m=u.xaxis,y=u.yaxis;if(g)if(s(o,["ANGLE_instanced_arrays","OES_element_index_uint"],i)){var x=g.count,T=d._glcanvas.data()[0].regl;if(a(o,u,h),g.dirty){if(!g.line2d&&!g.error2d||g.scatter2d||g.fill2d||g.glText||T.clear({}),g.error2d===!0&&(g.error2d=r(T)),g.line2d===!0&&(g.line2d=w(T)),g.scatter2d===!0&&(g.scatter2d=k(T)),g.fill2d===!0&&(g.fill2d=w(T)),g.glText===!0)for(g.glText=new Array(x),c=0;c<x;c++)g.glText[c]=new _(T);if(g.glText){if(x>g.glText.length){var p=x-g.glText.length;for(c=0;c<p;c++)g.glText.push(new _(T))}else if(x<g.glText.length){var S=g.glText.length-x;g.glText.splice(x,S).forEach(function(ie){ie.destroy()})}for(c=0;c<x;c++)g.glText[c].update(g.textOptions[c])}if(g.line2d&&(g.line2d.update(g.lineOptions),g.lineOptions=g.lineOptions.map(function(ie){if(ie&&ie.positions){for(var oe=ie.positions,ae=0;ae<oe.length&&(isNaN(oe[ae])||isNaN(oe[ae+1]));)ae+=2;for(var ce=oe.length-2;ce>ae&&(isNaN(oe[ce])||isNaN(oe[ce+1]));)ce-=2;ie.positions=oe.slice(ae,ce+2)}return ie}),g.line2d.update(g.lineOptions)),g.error2d){var M=(g.errorXOptions||[]).concat(g.errorYOptions||[]);g.error2d.update(M)}g.scatter2d&&g.scatter2d.update(g.markerOptions),g.fillOrder=v.repeat(null,x),g.fill2d&&(g.fillOptions=g.fillOptions.map(function(ie,oe){var ae=h[oe];if(ie&&ae&&ae[0]&&ae[0].trace){var ce,ge,ve=ae[0],be=ve.trace,we=ve.t,ye=g.lineOptions[oe],me=[];be._ownfill&&me.push(oe),be._nexttrace&&me.push(oe+1),me.length&&(g.fillOrder[oe]=me);var Ae,ke,fe=[],le=ye&&ye.positions||we.positions;if(be.fill==="tozeroy"){for(Ae=0;Ae<le.length&&isNaN(le[Ae+1]);)Ae+=2;for(ke=le.length-2;ke>Ae&&isNaN(le[ke+1]);)ke-=2;le[Ae+1]!==0&&(fe=[le[Ae],0]),fe=fe.concat(le.slice(Ae,ke+2)),le[ke+1]!==0&&(fe=fe.concat([le[ke],0]))}else if(be.fill==="tozerox"){for(Ae=0;Ae<le.length&&isNaN(le[Ae]);)Ae+=2;for(ke=le.length-2;ke>Ae&&isNaN(le[ke]);)ke-=2;le[Ae]!==0&&(fe=[0,le[Ae+1]]),fe=fe.concat(le.slice(Ae,ke+2)),le[ke]!==0&&(fe=fe.concat([0,le[ke+1]]))}else if(be.fill==="toself"||be.fill==="tonext"){for(fe=[],ce=0,ie.splitNull=!0,ge=0;ge<le.length;ge+=2)(isNaN(le[ge])||isNaN(le[ge+1]))&&((fe=fe.concat(le.slice(ce,ge))).push(le[ce],le[ce+1]),fe.push(null,null),ce=ge+2);fe=fe.concat(le.slice(ce)),ce&&fe.push(le[ce],le[ce+1])}else{var de=be._nexttrace;if(de){var Ce=g.lineOptions[oe+1];if(Ce){var Me=Ce.positions;if(be.fill==="tonexty"){for(fe=le.slice(),oe=Math.floor(Me.length/2);oe--;){var Le=Me[2*oe],Oe=Me[2*oe+1];isNaN(Le)||isNaN(Oe)||fe.push(Le,Oe)}ie.fill=de.fillcolor}}}}if(be._prevtrace&&be._prevtrace.fill==="tonext"){var Be=g.lineOptions[oe-1].positions,pe=fe.length/2,_e=[ce=pe];for(ge=0;ge<Be.length;ge+=2)(isNaN(Be[ge])||isNaN(Be[ge+1]))&&(_e.push(ge/2+pe+1),ce=ge+2);fe=fe.concat(Be),ie.hole=_e}return ie.fillmode=be.fill,ie.opacity=be.opacity,ie.positions=fe,ie}}),g.fill2d.update(g.fillOptions))}var E=d.dragmode,P=f(E),O=d.clickmode.indexOf("select")>-1;for(c=0;c<x;c++){var I=h[c][0],R=I.trace,U=I.t,z=U.index,j=R._length,W=U.x,F=U.y;if(R.selectedpoints||P||O){if(P||(P=!0),R.selectedpoints){var V=g.selectBatch[z]=v.selIndices2selPoints(R),H={};for(b=0;b<V.length;b++)H[V[b]]=1;var te=[];for(b=0;b<j;b++)H[b]||te.push(b);g.unselectBatch[z]=te}var Q=U.xpx=new Array(j),K=U.ypx=new Array(j);for(b=0;b<j;b++)Q[b]=m.c2p(W[b]),K[b]=y.c2p(F[b])}else U.xpx=U.ypx=null}if(P){if(g.select2d||(g.select2d=k(d._glcanvas.data()[1].regl)),g.scatter2d){var X=new Array(x);for(c=0;c<x;c++)X[c]=g.selectBatch[c].length||g.unselectBatch[c].length?g.markerUnselectedOptions[c]:{};g.scatter2d.update(X)}g.select2d&&(g.select2d.update(g.markerOptions),g.select2d.update(g.markerSelectedOptions)),g.glText&&h.forEach(function(ie){var oe=((ie||[])[0]||{}).trace||{};t.hasText(oe)&&n(ie)})}else g.scatter2d&&g.scatter2d.update(g.markerOptions);var J={viewport:l(d,m,y,o._context.plotGlPixelRatio),range:[(m._rl||m.range)[0],(y._rl||y.range)[0],(m._rl||m.range)[1],(y._rl||y.range)[1]]},ee=v.repeat(J,g.count);g.fill2d&&g.fill2d.update(ee),g.line2d&&g.line2d.update(ee),g.error2d&&g.error2d.update(ee.concat(ee)),g.scatter2d&&g.scatter2d.update(ee),g.select2d&&g.select2d.update(ee),g.glText&&g.glText.forEach(function(ie){ie.update(J)})}else g.init()}}).reglPrecompiled=i},74588:function(B,L,e){var k=e(3400);B.exports=function(w,r){var _=r._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},f={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return r._scene||((_=r._scene={}).init=function(){k.extendFlat(_,f,v)},_.init(),_.update=function(s){var t=k.repeat(s,_.count);if(_.fill2d&&_.fill2d.update(t),_.scatter2d&&_.scatter2d.update(t),_.line2d&&_.line2d.update(t),_.error2d&&_.error2d.update(t.concat(t)),_.select2d&&_.select2d.update(t),_.glText)for(var a=0;a<_.count;a++)_.glText[a].update(s)},_.draw=function(){for(var s=_.count,t=_.fill2d,a=_.error2d,n=_.line2d,i=_.scatter2d,l=_.glText,o=_.select2d,u=_.selectBatch,h=_.unselectBatch,c=0;c<s;c++){if(t&&_.fillOrder[c]&&t.draw(_.fillOrder[c]),n&&_.lineOptions[c]&&n.draw(c),a&&(_.errorXOptions[c]&&a.draw(c),_.errorYOptions[c]&&a.draw(c+s)),i&&_.markerOptions[c])if(h[c].length){var b=k.repeat([],_.count);b[c]=h[c],i.draw(b)}else u[c].length||i.draw(c);l[c]&&_.textOptions[c]&&l[c].render()}o&&o.draw(u),_.dirty=!1},_.destroy=function(){_.fill2d&&_.fill2d.destroy&&_.fill2d.destroy(),_.scatter2d&&_.scatter2d.destroy&&_.scatter2d.destroy(),_.error2d&&_.error2d.destroy&&_.error2d.destroy(),_.line2d&&_.line2d.destroy&&_.line2d.destroy(),_.select2d&&_.select2d.destroy&&_.select2d.destroy(),_.glText&&_.glText.forEach(function(s){s.destroy&&s.destroy()}),_.lineOptions=null,_.fillOptions=null,_.markerOptions=null,_.markerSelectedOptions=null,_.markerUnselectedOptions=null,_.errorXOptions=null,_.errorYOptions=null,_.textOptions=null,_.textSelectedOptions=null,_.textUnselectedOptions=null,_.selectBatch=null,_.unselectBatch=null,r._scene=null}),_.dirty||k.extendFlat(_,v),_}},73224:function(B,L,e){var k=e(43028),w=e(26768).styleTextSelection;B.exports=function(r,_){var v=r.cd,f=r.xaxis,s=r.yaxis,t=[],a=v[0].trace,n=v[0].t,i=a._length,l=n.x,o=n.y,u=n._scene,h=n.index;if(!u)return t;var c=k.hasText(a),b=k.hasMarkers(a),d=!b&&!c;if(a.visible!==!0||d)return t;var g=[],m=[];if(_!==!1&&!_.degenerate)for(var y=0;y<i;y++)_.contains([n.xpx[y],n.ypx[y]],!1,y,r)?(g.push(y),t.push({pointNumber:y,x:f.c2d(l[y]),y:s.c2d(o[y])})):m.push(y);if(b){var x=u.scatter2d;if(g.length||m.length){if(!u.selectBatch[h].length&&!u.unselectBatch[h].length){var T=new Array(u.count);T[h]=u.markerUnselectedOptions[h],x.update.apply(x,T)}}else{var p=new Array(u.count);p[h]=u.markerOptions[h],x.update.apply(x,p)}}return u.selectBatch[h]=g,u.unselectBatch[h]=m,c&&w(v),t}},31512:function(B,L,e){var k=e(21776).Ks,w=e(21776).Gw,r=e(98304),_=e(6096),v=e(52904),f=e(5232),s=e(45464),t=e(49084),a=e(92880).extendFlat,n=e(67824).overrideAll,i=e(5232),l=_.line,o=_.marker;B.exports=n({lon:_.lon,lat:_.lat,cluster:{enabled:{valType:"boolean"},maxzoom:a({},i.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:a({},o.opacity,{dflt:1})},mode:a({},v.mode,{dflt:"markers"}),text:a({},v.text,{}),texttemplate:w({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:a({},v.hovertext,{}),line:{color:l.color,width:l.width},connectgaps:v.connectgaps,marker:a({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:o.opacity,size:o.size,sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode},t("marker")),fill:_.fill,fillcolor:r(),textfont:f.layers.symbol.textfont,textposition:f.layers.symbol.textposition,below:{valType:"string"},selected:{marker:v.selected.marker},unselected:{marker:v.unselected.marker},hoverinfo:a({},s.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:k()},"calc","nested")},59392:function(B,L,e){var k=e(38248),w=e(3400),r=e(39032).BADNUM,_=e(44808),v=e(8932),f=e(43616),s=e(7152),t=e(43028),a=e(89032),n=e(10624).appendArrayPointValue,i=e(72736).NEWLINES,l=e(72736).BR_TAG_ALL;function o(d){return{type:d,geojson:_.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function u(d,g){return w.isArrayOrTypedArray(d)?g?function(m){return k(d[m])?+d[m]:0}:function(m){return d[m]}:d?function(){return d}:h}function h(){return""}function c(d){return d[0]===r}function b(d,g){var m;if(w.isArrayOrTypedArray(d)&&w.isArrayOrTypedArray(g)){m=["step",["get","point_count"],d[0]];for(var y=1;y<d.length;y++)m.push(g[y-1],d[y])}else m=d;return m}B.exports=function(d,g){var m,y=g[0].trace,x=y.visible===!0&&y._length!==0,T=y.fill!=="none",p=t.hasLines(y),S=t.hasMarkers(y),M=t.hasText(y),E=S&&y.marker.symbol==="circle",P=S&&y.marker.symbol!=="circle",O=y.cluster&&y.cluster.enabled,I=o("fill"),R=o("line"),U=o("circle"),z=o("symbol"),j={fill:I,line:R,circle:U,symbol:z};if(!x)return j;if((T||p)&&(m=_.calcTraceToLineCoords(g)),T&&(I.geojson=_.makePolygon(m),I.layout.visibility="visible",w.extendFlat(I.paint,{"fill-color":y.fillcolor})),p&&(R.geojson=_.makeLine(m),R.layout.visibility="visible",w.extendFlat(R.paint,{"line-width":y.line.width,"line-color":y.line.color,"line-opacity":y.opacity})),E){var W=function(H){var te,Q,K,X,J=H[0].trace,ee=J.marker,ie=J.selectedpoints,oe=w.isArrayOrTypedArray(ee.color),ae=w.isArrayOrTypedArray(ee.size),ce=w.isArrayOrTypedArray(ee.opacity);function ge(fe){return J.opacity*fe}oe&&(Q=v.hasColorscale(J,"marker")?v.makeColorScaleFuncFromTrace(ee):w.identity),ae&&(K=s(J)),ce&&(X=function(fe){return ge(k(fe)?+w.constrain(fe,0,1):0)});var ve,be,we=[];for(te=0;te<H.length;te++){var ye=H[te],me=ye.lonlat;if(!c(me)){var Ae={};Q&&(Ae.mcc=ye.mcc=Q(ye.mc)),K&&(Ae.mrc=ye.mrc=K(ye.ms)),X&&(Ae.mo=X(ye.mo)),ie&&(Ae.selected=ye.selected||0),we.push({type:"Feature",id:te+1,geometry:{type:"Point",coordinates:me},properties:Ae})}}if(ie)for(ve=f.makeSelectedPointStyleFns(J),te=0;te<we.length;te++){var ke=we[te].properties;ve.selectedOpacityFn&&(ke.mo=ge(ve.selectedOpacityFn(ke))),ve.selectedColorFn&&(ke.mcc=ve.selectedColorFn(ke)),ve.selectedSizeFn&&(ke.mrc=ve.selectedSizeFn(ke))}return{geojson:{type:"FeatureCollection",features:we},mcc:oe||ve&&ve.selectedColorFn?{type:"identity",property:"mcc"}:ee.color,mrc:ae||ve&&ve.selectedSizeFn?{type:"identity",property:"mrc"}:(be=ee.size,be/2),mo:ce||ve&&ve.selectedOpacityFn?{type:"identity",property:"mo"}:ge(ee.opacity)}}(g);U.geojson=W.geojson,U.layout.visibility="visible",O&&(U.filter=["!",["has","point_count"]],j.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":b(y.cluster.color,y.cluster.step),"circle-radius":b(y.cluster.size,y.cluster.step),"circle-opacity":b(y.cluster.opacity,y.cluster.step)}},j.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),w.extendFlat(U.paint,{"circle-color":W.mcc,"circle-radius":W.mrc,"circle-opacity":W.mo})}if(E&&O&&(U.filter=["!",["has","point_count"]]),(P||M)&&(z.geojson=function(H,te){for(var Q=te._fullLayout,K=H[0].trace,X=K.marker||{},J=X.symbol,ee=X.angle,ie=J!=="circle"?u(J):h,oe=ee!=="auto"?u(ee,!0):h,ae=t.hasText(K)?u(K.text):h,ce=[],ge=0;ge<H.length;ge++){var ve=H[ge];if(!c(ve.lonlat)){var be,we=K.texttemplate;if(we){var ye=Array.isArray(we)?we[ge]||"":we,me=K._module.formatLabels(ve,K,Q),Ae={};n(Ae,K,ve.i);var ke=K._meta||{};be=w.texttemplateString(ye,me,Q._d3locale,Ae,ve,ke)}else be=ae(ge);be&&(be=be.replace(i,"").replace(l,`
`)),ce.push({type:"Feature",geometry:{type:"Point",coordinates:ve.lonlat},properties:{symbol:ie(ge),angle:oe(ge),text:be}})}}return{type:"FeatureCollection",features:ce}}(g,d),w.extendFlat(z.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),P&&(w.extendFlat(z.layout,{"icon-size":y.marker.size/10}),"angle"in y.marker&&y.marker.angle!=="auto"&&w.extendFlat(z.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),z.layout["icon-allow-overlap"]=y.marker.allowoverlap,w.extendFlat(z.paint,{"icon-opacity":y.opacity*y.marker.opacity,"icon-color":y.marker.color})),M)){var F=(y.marker||{}).size,V=a(y.textposition,F);w.extendFlat(z.layout,{"text-size":y.textfont.size,"text-anchor":V.anchor,"text-offset":V.offset,"text-font":y.textfont.family.split(", ")}),w.extendFlat(z.paint,{"text-color":y.textfont.color,"text-opacity":y.opacity})}return j}},15752:function(B,L,e){var k=e(3400),w=e(43028),r=e(74428),_=e(66828),v=e(124),f=e(70840),s=e(31512),t=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];B.exports=function(a,n,i,l){function o(x,T){return k.coerce(a,n,s,x,T)}function u(x,T){return k.coerce2(a,n,s,x,T)}var h=function(x,T,p){var S=p("lon")||[],M=p("lat")||[],E=Math.min(S.length,M.length);return T._length=E,E}(0,n,o);if(h){if(o("text"),o("texttemplate"),o("hovertext"),o("hovertemplate"),o("mode"),o("below"),w.hasMarkers(n)){r(a,n,i,l,o,{noLine:!0,noAngle:!0}),o("marker.allowoverlap"),o("marker.angle");var c=n.marker;c.symbol!=="circle"&&(k.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),k.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}w.hasLines(n)&&(_(a,n,i,l,o,{noDash:!0}),o("connectgaps"));var b=u("cluster.maxzoom"),d=u("cluster.step"),g=u("cluster.color",n.marker&&n.marker.color||i),m=u("cluster.size"),y=u("cluster.opacity");o("cluster.enabled",b!==!1||d!==!1||g!==!1||m!==!1||y!==!1),w.hasText(n)&&v(a,n,l,o,{noSelect:!0,font:{family:t.indexOf(l.font.family)!==-1?l.font.family:"Open Sans Regular",size:l.font.size,color:l.font.color}}),o("fill"),n.fill!=="none"&&f(a,n,i,o),k.coerceSelectionMarkerOpacity(n,o)}else n.visible=!1}},37920:function(B){B.exports=function(L,e){return L.lon=e.lon,L.lat=e.lat,L}},11960:function(B,L,e){var k=e(54460);B.exports=function(w,r,_){var v={},f=_[r.subplot]._subplot.mockAxis,s=w.lonlat;return v.lonLabel=k.tickText(f,f.c2l(s[0]),!0).text,v.latLabel=k.tickText(f,f.c2l(s[1]),!0).text,v}},63312:function(B,L,e){var k=e(93024),w=e(3400),r=e(44928),_=w.fillText,v=e(39032).BADNUM,f=e(47552).traceLayerPrefix;function s(t,a,n){if(!t.hovertemplate){var i=(a.hi||t.hoverinfo).split("+"),l=i.indexOf("all")!==-1,o=i.indexOf("lon")!==-1,u=i.indexOf("lat")!==-1,h=a.lonlat,c=[];return l||o&&u?c.push("("+b(h[1])+", "+b(h[0])+")"):o?c.push(n.lon+b(h[0])):u&&c.push(n.lat+b(h[1])),(l||i.indexOf("text")!==-1)&&_(a,t,c),c.join("<br>")}function b(d){return d+""}}B.exports={hoverPoints:function(t,a,n){var i=t.cd,l=i[0].trace,o=t.xa,u=t.ya,h=t.subplot,c=[],b=f+l.uid+"-circle",d=l.cluster&&l.cluster.enabled;if(d){var g=h.map.queryRenderedFeatures(null,{layers:[b]});c=g.map(function(I){return I.id})}var m=360*(a>=0?Math.floor((a+180)/360):Math.ceil((a-180)/360)),y=a-m;if(k.getClosest(i,function(I){var R=I.lonlat;if(R[0]===v||d&&c.indexOf(I.i+1)===-1)return 1/0;var U=w.modHalf(R[0],360),z=R[1],j=h.project([U,z]),W=j.x-o.c2p([y,z]),F=j.y-u.c2p([U,n]),V=Math.max(3,I.mrc||0);return Math.max(Math.sqrt(W*W+F*F)-V,1-3/V)},t),t.index!==!1){var x=i[t.index],T=x.lonlat,p=[w.modHalf(T[0],360)+m,T[1]],S=o.c2p(p),M=u.c2p(p),E=x.mrc||1;t.x0=S-E,t.x1=S+E,t.y0=M-E,t.y1=M+E;var P={};P[l.subplot]={_subplot:h};var O=l._module.formatLabels(x,l,P);return t.lonLabel=O.lonLabel,t.latLabel=O.latLabel,t.color=r(l,x),t.extraText=s(l,x,i[0].t.labels),t.hovertemplate=l.hovertemplate,[t]}},getExtraText:s}},11572:function(B,L,e){B.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(k,w){w&&w[0].trace._glTrace.update(w)},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(B,L,e){var k=e(3400),w=e(59392),r=e(47552).traceLayerPrefix,_={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function v(s,t,a,n){this.type="scattermapbox",this.subplot=s,this.uid=t,this.clusterEnabled=a,this.isHidden=n,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:r+t+"-fill",line:r+t+"-line",circle:r+t+"-circle",symbol:r+t+"-symbol",cluster:r+t+"-cluster",clusterCount:r+t+"-cluster-count"},this.below=null}var f=v.prototype;f.addSource=function(s,t,a){var n={type:"geojson",data:t.geojson};a&&a.enabled&&k.extendFlat(n,{cluster:!0,clusterMaxZoom:a.maxzoom});var i=this.subplot.map.getSource(this.sourceIds[s]);i?i.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[s],n)},f.setSourceData=function(s,t){this.subplot.map.getSource(this.sourceIds[s]).setData(t.geojson)},f.addLayer=function(s,t,a){var n={type:t.type,id:this.layerIds[s],source:this.sourceIds[s],layout:t.layout,paint:t.paint};t.filter&&(n.filter=t.filter);for(var i,l=this.layerIds[s],o=this.subplot.getMapLayers(),u=0;u<o.length;u++)if(o[u].id===l){i=!0;break}i?(this.subplot.setOptions(l,"setLayoutProperty",n.layout),n.layout.visibility==="visible"&&this.subplot.setOptions(l,"setPaintProperty",n.paint)):this.subplot.addLayer(n,a)},f.update=function(s){var t=s[0].trace,a=this.subplot,n=a.map,i=w(a.gd,s),l=a.belowLookup["trace-"+this.uid],o=!(!t.cluster||!t.cluster.enabled),u=!!this.clusterEnabled,h=this;function c(y){u?function(x){for(var T=_.cluster,p=T.length-1;p>=0;p--){var S=T[p];n.removeLayer(h.layerIds[S])}x||n.removeSource(h.sourceIds.circle)}(y):function(x){for(var T=_.nonCluster,p=T.length-1;p>=0;p--){var S=T[p];n.removeLayer(h.layerIds[S]),x||n.removeSource(h.sourceIds[S])}}(y)}function b(y){o?function(x){x||h.addSource("circle",i.circle,t.cluster);for(var T=_.cluster,p=0;p<T.length;p++){var S=T[p],M=i[S];h.addLayer(S,M,l)}}(y):function(x){for(var T=_.nonCluster,p=0;p<T.length;p++){var S=T[p],M=i[S];x||h.addSource(S,M),h.addLayer(S,M,l)}}(y)}function d(){for(var y=o?_.cluster:_.nonCluster,x=0;x<y.length;x++){var T=y[x],p=i[T];p&&(a.setOptions(h.layerIds[T],"setLayoutProperty",p.layout),p.layout.visibility==="visible"&&(T!=="cluster"&&h.setSourceData(T,p),a.setOptions(h.layerIds[T],"setPaintProperty",p.paint)))}}var g=this.isHidden,m=t.visible!==!0;m?g||c():g?m||b():u!==o?(c(),b()):(this.below!==l&&(c(!0),b(!0)),d()),this.clusterEnabled=o,this.isHidden=m,this.below=l,s[0].trace._glTrace=this},f.dispose=function(){for(var s=this.subplot.map,t=this.clusterEnabled?_.cluster:_.nonCluster,a=t.length-1;a>=0;a--){var n=t[a];s.removeLayer(this.layerIds[n]),s.removeSource(this.sourceIds[n])}},B.exports=function(s,t){var a,n,i,l=t[0].trace,o=l.cluster&&l.cluster.enabled,u=l.visible!==!0,h=new v(s,l.uid,o,u),c=w(s.gd,t),b=h.below=s.belowLookup["trace-"+l.uid];if(o)for(h.addSource("circle",c.circle,l.cluster),a=0;a<_.cluster.length;a++)i=c[n=_.cluster[a]],h.addLayer(n,i,b);else for(a=0;a<_.nonCluster.length;a++)i=c[n=_.nonCluster[a]],h.addSource(n,i,l.cluster),h.addLayer(n,i,b);return t[0].trace._glTrace=h,h}},404:function(B,L,e){var k=e(3400),w=e(43028),r=e(39032).BADNUM;B.exports=function(_,v){var f,s=_.cd,t=_.xaxis,a=_.yaxis,n=[],i=s[0].trace;if(!w.hasMarkers(i))return[];if(v===!1)for(f=0;f<s.length;f++)s[f].selected=0;else for(f=0;f<s.length;f++){var l=s[f],o=l.lonlat;if(o[0]!==r){var u=[k.modHalf(o[0],360),o[1]],h=[t.c2p(u),a.c2p(u)];v.contains(h,null,f,_)?(n.push({pointNumber:f,lon:o[0],lat:o[1]}),l.selected=1):l.selected=0}}return n}},8319:function(B,L,e){var k=e(21776).Ks,w=e(21776).Gw,r=e(92880).extendFlat,_=e(98304),v=e(52904),f=e(45464),s=v.line;B.exports={mode:v.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:v.text,texttemplate:w({editType:"plot"},{keys:["r","theta","text"]}),hovertext:v.hovertext,line:{color:s.color,width:s.width,dash:s.dash,backoff:s.backoff,shape:r({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:v.connectgaps,marker:v.marker,cliponaxis:r({},v.cliponaxis,{dflt:!1}),textposition:v.textposition,textfont:v.textfont,fill:r({},v.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:_(),hoverinfo:r({},f.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:v.hoveron,hovertemplate:k(),selected:v.selected,unselected:v.unselected}},58320:function(B,L,e){var k=e(38248),w=e(39032).BADNUM,r=e(54460),_=e(90136),v=e(20148),f=e(4500),s=e(16356).calcMarkerSize;B.exports=function(t,a){for(var n=t._fullLayout,i=a.subplot,l=n[i].radialaxis,o=n[i].angularaxis,u=l.makeCalcdata(a,"r"),h=o.makeCalcdata(a,"theta"),c=a._length,b=new Array(c),d=0;d<c;d++){var g=u[d],m=h[d],y=b[d]={};k(g)&&k(m)?(y.r=g,y.theta=m):y.r=w}var x=s(a,c);return a._extremes.x=r.findExtremes(l,u,{ppad:x}),_(t,a),v(b,a),f(b,a),b}},85968:function(B,L,e){var k=e(3400),w=e(43028),r=e(74428),_=e(66828),v=e(11731),f=e(124),s=e(70840),t=e(88200).PTS_LINESONLY,a=e(8319);function n(i,l,o,u){var h,c=u("r"),b=u("theta");if(k.isTypedArray(c)&&(l.r=c=Array.from(c)),k.isTypedArray(b)&&(l.theta=b=Array.from(b)),c)b?h=Math.min(c.length,b.length):(h=c.length,u("theta0"),u("dtheta"));else{if(!b)return 0;h=l.theta.length,u("r0"),u("dr")}return l._length=h,h}B.exports={handleRThetaDefaults:n,supplyDefaults:function(i,l,o,u){function h(d,g){return k.coerce(i,l,a,d,g)}var c=n(0,l,0,h);if(c){h("thetaunit"),h("mode",c<t?"lines+markers":"lines"),h("text"),h("hovertext"),l.hoveron!=="fills"&&h("hovertemplate"),w.hasMarkers(l)&&r(i,l,o,u,h,{gradient:!0}),w.hasLines(l)&&(_(i,l,o,u,h,{backoff:!0}),v(i,l,h),h("connectgaps")),w.hasText(l)&&(h("texttemplate"),f(i,l,u,h));var b=[];(w.hasMarkers(l)||w.hasText(l))&&(h("cliponaxis"),h("marker.maxdisplayed"),b.push("points")),h("fill"),l.fill!=="none"&&(s(i,l,o,h),w.hasLines(l)||v(i,l,h)),l.fill!=="tonext"&&l.fill!=="toself"||b.push("fills"),h("hoveron",b.join("+")||"points"),k.coerceSelectionMarkerOpacity(l,h)}else l.visible=!1}}},22852:function(B,L,e){var k=e(3400),w=e(54460);B.exports=function(r,_,v){var f,s,t={},a=v[_.subplot]._subplot;a?(f=a.radialAxis,s=a.angularAxis):(f=(a=v[_.subplot]).radialaxis,s=a.angularaxis);var n=f.c2l(r.r);t.rLabel=w.tickText(f,n,!0).text;var i=s.thetaunit==="degrees"?k.rad2deg(r.theta):r.theta;return t.thetaLabel=w.tickText(s,i,!0).text,t}},8504:function(B,L,e){var k=e(98723);function w(r,_,v,f){var s=v.radialAxis,t=v.angularAxis;s._hovertitle="r",t._hovertitle="";var a={};a[_.subplot]={_subplot:v};var n=_._module.formatLabels(r,_,a);f.rLabel=n.rLabel,f.thetaLabel=n.thetaLabel;var i=r.hi||_.hoverinfo,l=[];function o(h,c){l.push(h._hovertitle+": "+c)}if(!_.hovertemplate){var u=i.split("+");u.indexOf("all")!==-1&&(u=["r","theta","text"]),u.indexOf("r")!==-1&&o(s,f.rLabel),u.indexOf("theta")!==-1&&o(t,f.thetaLabel),u.indexOf("text")!==-1&&f.text&&(l.push(f.text),delete f.text),f.extraText=l.join("<br>")}}B.exports={hoverPoints:function(r,_,v,f){var s=k(r,_,v,f);if(s&&s[0].index!==!1){var t=s[0];if(t.index===void 0)return s;var a=r.subplot,n=t.cd[t.index],i=t.trace;if(a.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,w(n,i,a,t),t.hovertemplate=i.hovertemplate,s}},makeHoverPointText:w}},76924:function(B,L,e){B.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(B,L,e){var k=e(96504),w=e(39032).BADNUM;B.exports=function(r,_,v){for(var f=_.layers.frontplot.select("g.scatterlayer"),s=_.xaxis,t=_.yaxis,a={xaxis:s,yaxis:t,plot:_.framework,layerClipId:_._hasClipOnAxisFalse?_.clipIds.forTraces:null},n=_.radialAxis,i=_.angularAxis,l=0;l<v.length;l++)for(var o=v[l],u=0;u<o.length;u++){u===0&&(o[0].trace._xA=s,o[0].trace._yA=t);var h=o[u],c=h.r;if(c===w)h.x=h.y=w;else{var b=n.c2g(c),d=i.c2g(h.theta);h.x=b*Math.cos(d),h.y=b*Math.sin(d)}}k(r,a,v,f)}},24396:function(B,L,e){var k=e(8319),w=e(2876),r=e(21776).Gw;B.exports={mode:k.mode,r:k.r,theta:k.theta,r0:k.r0,dr:k.dr,theta0:k.theta0,dtheta:k.dtheta,thetaunit:k.thetaunit,text:k.text,texttemplate:r({editType:"plot"},{keys:["r","theta","text"]}),hovertext:k.hovertext,hovertemplate:k.hovertemplate,line:{color:w.line.color,width:w.line.width,dash:w.line.dash,editType:"calc"},connectgaps:w.connectgaps,marker:w.marker,fill:w.fill,fillcolor:w.fillcolor,textposition:w.textposition,textfont:w.textfont,hoverinfo:k.hoverinfo,selected:k.selected,unselected:k.unselected}},27160:function(B,L,e){B.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(B,L,e){var k=e(90136),w=e(16356).calcMarkerSize,r=e(84236),_=e(54460),v=e(67072).TOO_MANY_POINTS;B.exports=function(f,s){var t=f._fullLayout,a=s.subplot,n=t[a].radialaxis,i=t[a].angularaxis,l=s._r=n.makeCalcdata(s,"r"),o=s._theta=i.makeCalcdata(s,"theta"),u=s._length,h={};u<l.length&&(l=l.slice(0,u)),u<o.length&&(o=o.slice(0,u)),h.r=l,h.theta=o,k(f,s);var c,b=h.opts=r.style(f,s);return u<v?c=w(s,u):b.marker&&(c=2*(b.marker.sizeAvg||Math.max(b.marker.size,3))),s._extremes.x=_.findExtremes(n,l,{ppad:c}),[{x:!1,y:!1,t:h,trace:s}]}},98608:function(B,L,e){var k=e(3400),w=e(43028),r=e(85968).handleRThetaDefaults,_=e(74428),v=e(66828),f=e(124),s=e(70840),t=e(88200).PTS_LINESONLY,a=e(24396);B.exports=function(n,i,l,o){function u(c,b){return k.coerce(n,i,a,c,b)}var h=r(n,i,o,u);h?(u("thetaunit"),u("mode",h<t?"lines+markers":"lines"),u("text"),u("hovertext"),i.hoveron!=="fills"&&u("hovertemplate"),w.hasMarkers(i)&&_(n,i,l,o,u,{noAngleRef:!0,noStandOff:!0}),w.hasLines(i)&&(v(n,i,l,o,u),u("connectgaps")),w.hasText(i)&&(u("texttemplate"),f(n,i,o,u)),u("fill"),i.fill!=="none"&&s(n,i,l,u),k.coerceSelectionMarkerOpacity(i,u)):i.visible=!1}},94120:function(B,L,e){var k=e(22852);B.exports=function(w,r,_){var v=w.i;return"r"in w||(w.r=r._r[v]),"theta"in w||(w.theta=r._theta[v]),k(w,r,_)}},1600:function(B,L,e){var k=e(41272),w=e(8504).makeHoverPointText;B.exports={hoverPoints:function(r,_,v,f){var s=r.cd[0].t,t=s.r,a=s.theta,n=k.hoverPoints(r,_,v,f);if(n&&n[0].index!==!1){var i=n[0];if(i.index===void 0)return n;var l=r.subplot,o=i.cd[i.index],u=i.trace;if(o.r=t[i.index],o.theta=a[i.index],l.isPtInside(o))return i.xLabelVal=void 0,i.yLabelVal=void 0,w(o,u,l,i),n}}}},62944:function(B,L,e){var k=e(27160);k.plot=e(56512),B.exports=k},56512:function(B,L,e){var k=e(3108),w=e(38248),r=e(89876),_=e(74588),v=e(84236),f=e(3400),s=e(67072).TOO_MANY_POINTS;B.exports=function(t,a,n){if(n.length){var i=a.radialAxis,l=a.angularAxis,o=_(t,a);return n.forEach(function(u){if(u&&u[0]&&u[0].trace){var h,c=u[0],b=c.trace,d=c.t,g=b._length,m=d.r,y=d.theta,x=d.opts,T=m.slice(),p=y.slice();for(h=0;h<m.length;h++)a.isPtInside({r:m[h],theta:y[h]})||(T[h]=NaN,p[h]=NaN);var S=new Array(2*g),M=Array(g),E=Array(g);for(h=0;h<g;h++){var P,O,I=T[h];if(w(I)){var R=i.c2g(I),U=l.c2g(p[h],b.thetaunit);P=R*Math.cos(U),O=R*Math.sin(U)}else P=O=NaN;M[h]=S[2*h]=P,E[h]=S[2*h+1]=O}d.tree=k(S),x.marker&&g>=s&&(x.marker.cluster=d.tree),x.marker&&(x.markerSel.positions=x.markerUnsel.positions=x.marker.positions=S),x.line&&S.length>1&&f.extendFlat(x.line,v.linePositions(t,b,S)),x.text&&(f.extendFlat(x.text,{positions:S},v.textPosition(t,b,x.text,x.marker)),f.extendFlat(x.textSel,{positions:S},v.textPosition(t,b,x.text,x.markerSel)),f.extendFlat(x.textUnsel,{positions:S},v.textPosition(t,b,x.text,x.markerUnsel))),x.fill&&!o.fill2d&&(o.fill2d=!0),x.marker&&!o.scatter2d&&(o.scatter2d=!0),x.line&&!o.line2d&&(o.line2d=!0),x.text&&!o.glText&&(o.glText=!0),o.lineOptions.push(x.line),o.fillOptions.push(x.fill),o.markerOptions.push(x.marker),o.markerSelectedOptions.push(x.markerSel),o.markerUnselectedOptions.push(x.markerUnsel),o.textOptions.push(x.text),o.textSelectedOptions.push(x.textSel),o.textUnselectedOptions.push(x.textUnsel),o.selectBatch.push([]),o.unselectBatch.push([]),d.x=M,d.y=E,d.rawx=M,d.rawy=E,d.r=m,d.theta=y,d.positions=S,d._scene=o,d.index=o.count,o.count++}}),r(t,a,n)}},B.exports.reglPrecompiled={}},69496:function(B,L,e){var k=e(21776).Ks,w=e(21776).Gw,r=e(92880).extendFlat,_=e(98304),v=e(52904),f=e(45464),s=v.line;B.exports={mode:v.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:v.text,texttemplate:w({editType:"plot"},{keys:["real","imag","text"]}),hovertext:v.hovertext,line:{color:s.color,width:s.width,dash:s.dash,backoff:s.backoff,shape:r({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:v.connectgaps,marker:v.marker,cliponaxis:r({},v.cliponaxis,{dflt:!1}),textposition:v.textposition,textfont:v.textfont,fill:r({},v.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:_(),hoverinfo:r({},f.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:v.hoveron,hovertemplate:k(),selected:v.selected,unselected:v.unselected}},47507:function(B,L,e){var k=e(38248),w=e(39032).BADNUM,r=e(90136),_=e(20148),v=e(4500),f=e(16356).calcMarkerSize;B.exports=function(s,t){for(var a=s._fullLayout,n=t.subplot,i=a[n].realaxis,l=a[n].imaginaryaxis,o=i.makeCalcdata(t,"real"),u=l.makeCalcdata(t,"imag"),h=t._length,c=new Array(h),b=0;b<h;b++){var d=o[b],g=u[b],m=c[b]={};k(d)&&k(g)?(m.real=d,m.imag=g):m.real=w}return f(t,h),r(s,t),_(c,t),v(c,t),c}},76716:function(B,L,e){var k=e(3400),w=e(43028),r=e(74428),_=e(66828),v=e(11731),f=e(124),s=e(70840),t=e(88200).PTS_LINESONLY,a=e(69496);B.exports=function(n,i,l,o){function u(b,d){return k.coerce(n,i,a,b,d)}var h=function(b,d,g,m){var y,x=m("real"),T=m("imag");return x&&T&&(y=Math.min(x.length,T.length)),k.isTypedArray(x)&&(d.real=x=Array.from(x)),k.isTypedArray(T)&&(d.imag=T=Array.from(T)),d._length=y,y}(0,i,0,u);if(h){u("mode",h<t?"lines+markers":"lines"),u("text"),u("hovertext"),i.hoveron!=="fills"&&u("hovertemplate"),w.hasMarkers(i)&&r(n,i,l,o,u,{gradient:!0}),w.hasLines(i)&&(_(n,i,l,o,u,{backoff:!0}),v(n,i,u),u("connectgaps")),w.hasText(i)&&(u("texttemplate"),f(n,i,o,u));var c=[];(w.hasMarkers(i)||w.hasText(i))&&(u("cliponaxis"),u("marker.maxdisplayed"),c.push("points")),u("fill"),i.fill!=="none"&&(s(n,i,l,u),w.hasLines(i)||v(n,i,u)),i.fill!=="tonext"&&i.fill!=="toself"||c.push("fills"),u("hoveron",c.join("+")||"points"),k.coerceSelectionMarkerOpacity(i,u)}else i.visible=!1}},49504:function(B,L,e){var k=e(54460);B.exports=function(w,r,_){var v={},f=_[r.subplot]._subplot;return v.realLabel=k.tickText(f.radialAxis,w.real,!0).text,v.imagLabel=k.tickText(f.angularAxis,w.imag,!0).text,v}},25292:function(B,L,e){var k=e(98723);function w(r,_,v,f){var s=v.radialAxis,t=v.angularAxis;s._hovertitle="real",t._hovertitle="imag";var a={};a[_.subplot]={_subplot:v};var n=_._module.formatLabels(r,_,a);f.realLabel=n.realLabel,f.imagLabel=n.imagLabel;var i=r.hi||_.hoverinfo,l=[];function o(h,c){l.push(h._hovertitle+": "+c)}if(!_.hovertemplate){var u=i.split("+");u.indexOf("all")!==-1&&(u=["real","imag","text"]),u.indexOf("real")!==-1&&o(s,f.realLabel),u.indexOf("imag")!==-1&&o(t,f.imagLabel),u.indexOf("text")!==-1&&f.text&&(l.push(f.text),delete f.text),f.extraText=l.join("<br>")}}B.exports={hoverPoints:function(r,_,v,f){var s=k(r,_,v,f);if(s&&s[0].index!==!1){var t=s[0];if(t.index===void 0)return s;var a=r.subplot,n=t.cd[t.index],i=t.trace;if(a.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,w(n,i,a,t),t.hovertemplate=i.hovertemplate,s}},makeHoverPointText:w}},95443:function(B,L,e){B.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(B,L,e){var k=e(96504),w=e(39032).BADNUM,r=e(36416).smith;B.exports=function(_,v,f){for(var s=v.layers.frontplot.select("g.scatterlayer"),t=v.xaxis,a=v.yaxis,n={xaxis:t,yaxis:a,plot:v.framework,layerClipId:v._hasClipOnAxisFalse?v.clipIds.forTraces:null},i=0;i<f.length;i++)for(var l=f[i],o=0;o<l.length;o++){o===0&&(l[0].trace._xA=t,l[0].trace._yA=a);var u=l[o],h=u.real;if(h===w)u.x=u.y=w;else{var c=r([h,u.imag]);u.x=c[0],u.y=c[1]}}k(_,n,f,s)}},5896:function(B,L,e){var k=e(21776).Ks,w=e(21776).Gw,r=e(98304),_=e(52904),v=e(45464),f=e(49084),s=e(98192).u,t=e(92880).extendFlat,a=_.marker,n=_.line,i=a.line;B.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:t({},_.mode,{dflt:"markers"}),text:t({},_.text,{}),texttemplate:w({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:t({},_.hovertext,{}),line:{color:n.color,width:n.width,dash:s,backoff:n.backoff,shape:t({},n.shape,{values:["linear","spline"]}),smoothing:n.smoothing,editType:"calc"},connectgaps:_.connectgaps,cliponaxis:_.cliponaxis,fill:t({},_.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:r(),marker:t({symbol:a.symbol,opacity:a.opacity,angle:a.angle,angleref:a.angleref,standoff:a.standoff,maxdisplayed:a.maxdisplayed,size:a.size,sizeref:a.sizeref,sizemin:a.sizemin,sizemode:a.sizemode,line:t({width:i.width,editType:"calc"},f("marker.line")),gradient:a.gradient,editType:"calc"},f("marker")),textfont:_.textfont,textposition:_.textposition,selected:_.selected,unselected:_.unselected,hoverinfo:t({},v.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:_.hoveron,hovertemplate:k()}},34335:function(B,L,e){var k=e(38248),w=e(90136),r=e(20148),_=e(4500),v=e(16356).calcMarkerSize,f=["a","b","c"],s={a:["b","c"],b:["a","c"],c:["a","b"]};B.exports=function(t,a){var n,i,l,o,u,h,c=t._fullLayout[a.subplot].sum,b=a.sum||c,d={a:a.a,b:a.b,c:a.c};for(n=0;n<f.length;n++)if(!d[l=f[n]]){for(u=d[s[l][0]],h=d[s[l][1]],o=new Array(u.length),i=0;i<u.length;i++)o[i]=b-u[i]-h[i];d[l]=o}var g,m,y,x,T,p,S=a._length,M=new Array(S);for(n=0;n<S;n++)g=d.a[n],m=d.b[n],y=d.c[n],k(g)&&k(m)&&k(y)?((x=c/((g=+g)+(m=+m)+(y=+y)))!=1&&(g*=x,m*=x,y*=x),p=g,T=y-m,M[n]={x:T,y:p,a:g,b:m,c:y}):M[n]={x:!1,y:!1};return v(a,S),w(t,a),r(M,a),_(M,a),M}},84256:function(B,L,e){var k=e(3400),w=e(88200),r=e(43028),_=e(74428),v=e(66828),f=e(11731),s=e(124),t=e(70840),a=e(5896);B.exports=function(n,i,l,o){function u(m,y){return k.coerce(n,i,a,m,y)}var h,c=u("a"),b=u("b"),d=u("c");if(c?(h=c.length,b?(h=Math.min(h,b.length),d&&(h=Math.min(h,d.length))):h=d?Math.min(h,d.length):0):b&&d&&(h=Math.min(b.length,d.length)),h){i._length=h,u("sum"),u("text"),u("hovertext"),i.hoveron!=="fills"&&u("hovertemplate"),u("mode",h<w.PTS_LINESONLY?"lines+markers":"lines"),r.hasMarkers(i)&&_(n,i,l,o,u,{gradient:!0}),r.hasLines(i)&&(v(n,i,l,o,u,{backoff:!0}),f(n,i,u),u("connectgaps")),r.hasText(i)&&(u("texttemplate"),s(n,i,o,u));var g=[];(r.hasMarkers(i)||r.hasText(i))&&(u("cliponaxis"),u("marker.maxdisplayed"),g.push("points")),u("fill"),i.fill!=="none"&&(t(n,i,l,u),r.hasLines(i)||f(n,i,u)),i.fill!=="tonext"&&i.fill!=="toself"||g.push("fills"),u("hoveron",g.join("+")||"points"),k.coerceSelectionMarkerOpacity(i,u)}else i.visible=!1}},97476:function(B){B.exports=function(L,e,k,w,r){if(e.xa&&(L.xaxis=e.xa),e.ya&&(L.yaxis=e.ya),w[r]){var _=w[r];L.a=_.a,L.b=_.b,L.c=_.c}else L.a=e.a,L.b=e.b,L.c=e.c;return L}},90404:function(B,L,e){var k=e(54460);B.exports=function(w,r,_){var v={},f=_[r.subplot]._subplot;return v.aLabel=k.tickText(f.aaxis,w.a,!0).text,v.bLabel=k.tickText(f.baxis,w.b,!0).text,v.cLabel=k.tickText(f.caxis,w.c,!0).text,v}},26596:function(B,L,e){var k=e(98723);B.exports=function(w,r,_,v){var f=k(w,r,_,v);if(f&&f[0].index!==!1){var s=f[0];if(s.index===void 0){var t=1-s.y0/w.ya._length,a=w.xa._length,n=a*t/2,i=a-n;return s.x0=Math.max(Math.min(s.x0,i),n),s.x1=Math.max(Math.min(s.x1,i),n),f}var l=s.cd[s.index],o=s.trace,u=s.subplot;s.a=l.a,s.b=l.b,s.c=l.c,s.xLabelVal=void 0,s.yLabelVal=void 0;var h={};h[o.subplot]={_subplot:u};var c=o._module.formatLabels(l,o,h);s.aLabel=c.aLabel,s.bLabel=c.bLabel,s.cLabel=c.cLabel;var b=l.hi||o.hoverinfo,d=[];if(!o.hovertemplate){var g=b.split("+");g.indexOf("all")!==-1&&(g=["a","b","c"]),g.indexOf("a")!==-1&&m(u.aaxis,s.aLabel),g.indexOf("b")!==-1&&m(u.baxis,s.bLabel),g.indexOf("c")!==-1&&m(u.caxis,s.cLabel)}return s.extraText=d.join("<br>"),s.hovertemplate=o.hovertemplate,f}function m(y,x){d.push(y._hovertitle+": "+x)}}},34864:function(B,L,e){B.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(B,L,e){var k=e(96504);B.exports=function(w,r,_){var v=r.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var f=r.xaxis,s=r.yaxis,t={xaxis:f,yaxis:s,plot:v,layerClipId:r._hasClipOnAxisFalse?r.clipIdRelative:null},a=r.layers.frontplot.select("g.scatterlayer"),n=0;n<_.length;n++){var i=_[n];i.length&&(i[0].trace._xA=f,i[0].trace._yA=s)}k(w,t,_,a)}},44524:function(B,L,e){var k=e(52904),w=e(49084),r=e(29736).axisHoverFormat,_=e(21776).Ks,v=e(2876),f=e(33816).idRegex,s=e(31780).templatedArray,t=e(92880).extendFlat,a=k.marker,n=a.line,i=t(w("marker.line",{editTypeOverride:"calc"}),{width:t({},n.width,{editType:"calc"}),editType:"calc"}),l=t(w("marker"),{symbol:a.symbol,angle:a.angle,size:t({},a.size,{editType:"markerSize"}),sizeref:a.sizeref,sizemin:a.sizemin,sizemode:a.sizemode,opacity:a.opacity,colorbar:a.colorbar,line:i,editType:"calc"});function o(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:f[u],editType:"plot"}}}l.color.editType=l.cmin.editType=l.cmax.editType="style",B.exports={dimensions:s("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},v.text,{}),hovertext:t({},v.hovertext,{}),hovertemplate:_(),xhoverformat:r("x"),yhoverformat:r("y"),marker:l,xaxes:o("x"),yaxes:o("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:v.selected.marker,editType:"calc"},unselected:{marker:v.unselected.marker,editType:"calc"},opacity:v.opacity}},28888:function(B,L,e){var k=e(24040),w=e(12704);B.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},k.register(w)},99332:function(B,L,e){var k=e(13472),w=e(24040),r=e(5048),_=e(84888)._M,v=e(57952),f=e(79811).getFromId,s=e(54460).shouldShowZeroLine,t="splom",a={};function n(l,o,u){for(var h=u.matrixOptions.data.length,c=o._visibleDims,b=u.viewOpts.ranges=new Array(h),d=0;d<c.length;d++){var g=c[d],m=b[d]=new Array(4),y=f(l,o._diag[g][0]);y&&(m[0]=y.r2l(y.range[0]),m[2]=y.r2l(y.range[1]));var x=f(l,o._diag[g][1]);x&&(m[1]=x.r2l(x.range[0]),m[3]=x.r2l(x.range[1]))}u.selectBatch.length||u.unselectBatch.length?u.matrix.update({ranges:b},{ranges:b}):u.matrix.update({ranges:b})}function i(l){var o=l._fullLayout,u=o._glcanvas.data()[0].regl,h=o._splomGrid;h||(h=o._splomGrid=k(u)),h.update(function(c){var b,d=c._context.plotGlPixelRatio,g=c._fullLayout,m=g._size,y=[0,0,g.width*d,g.height*d],x={};function T(H,te,Q,K,X,J){Q*=d,K*=d,X*=d,J*=d;var ee=te[H+"color"],ie=te[H+"width"],oe=String(ee+ie);oe in x?x[oe].data.push(NaN,NaN,Q,K,X,J):x[oe]={data:[Q,K,X,J],join:"rect",thickness:ie*d,color:ee,viewport:y,range:y,overlay:!1}}for(b in g._splomSubplots){var p,S,M=g._plots[b],E=M.xaxis,P=M.yaxis,O=E._gridVals,I=P._gridVals,R=E._offset,U=E._length,z=P._length,j=m.b+P.domain[0]*m.h,W=-P._m,F=-W*P.r2l(P.range[0],P.calendar);if(E.showgrid)for(b=0;b<O.length;b++)p=R+E.l2p(O[b].x),T("grid",E,p,j,p,j+z);if(P.showgrid)for(b=0;b<I.length;b++)T("grid",P,R,S=j+F+W*I[b].x,R+U,S);s(c,E,P)&&(p=R+E.l2p(0),T("zeroline",E,p,j,p,j+z)),s(c,P,E)&&T("zeroline",P,R,S=j+F+0,R+U,S)}var V=[];for(b in x)V.push(x[b]);return V}(l))}B.exports={name:t,attr:v.attr,attrRegex:v.attrRegex,layoutAttributes:v.layoutAttributes,supplyLayoutDefaults:v.supplyLayoutDefaults,drawFramework:v.drawFramework,plot:function(l){var o=l._fullLayout,u=w.getModule(t),h=_(l.calcdata,u)[0];r(l,["ANGLE_instanced_arrays","OES_element_index_uint"],a)&&(o._hasOnlyLargeSploms&&i(l),u.plot(l,{},h))},drag:function(l){var o=l.calcdata,u=l._fullLayout;u._hasOnlyLargeSploms&&i(l);for(var h=0;h<o.length;h++){var c=o[h][0].trace,b=u._splomScenes[c.uid];c.type==="splom"&&b&&b.matrix&&n(l,c,b)}},updateGrid:i,clean:function(l,o,u,h){var c,b={};if(h._splomScenes){for(c=0;c<l.length;c++){var d=l[c];d.type==="splom"&&(b[d.uid]=1)}for(c=0;c<u.length;c++){var g=u[c];if(!b[g.uid]){var m=h._splomScenes[g.uid];m&&m.destroy&&m.destroy(),h._splomScenes[g.uid]=null,delete h._splomScenes[g.uid]}}}Object.keys(h._splomScenes||{}).length===0&&delete h._splomScenes,h._splomGrid&&!o._hasOnlyLargeSploms&&h._hasOnlyLargeSploms&&(h._splomGrid.destroy(),h._splomGrid=null,delete h._splomGrid),v.clean(l,o,u,h)},updateFx:v.updateFx,toSVG:v.toSVG,reglPrecompiled:a}},66821:function(B,L,e){var k=e(3400),w=e(79811),r=e(16356).calcMarkerSize,_=e(16356).calcAxisExpansion,v=e(90136),f=e(84236).markerSelection,s=e(84236).markerStyle,t=e(72308),a=e(39032).BADNUM,n=e(67072).TOO_MANY_POINTS;B.exports=function(i,l){var o,u,h,c,b,d,g=l.dimensions,m=l._length,y={},x=y.cdata=[],T=y.data=[],p=l._visibleDims=[];function S(E,P){for(var O=E.makeCalcdata({v:P.values,vcalendar:l.calendar},"v"),I=0;I<O.length;I++)O[I]=O[I]===a?NaN:O[I];x.push(O),T.push(E.type==="log"?k.simpleMap(O,E.c2l):O)}for(o=0;o<g.length;o++)if((h=g[o]).visible){if(c=w.getFromId(i,l._diag[o][0]),b=w.getFromId(i,l._diag[o][1]),c&&b&&c.type!==b.type){k.log("Skipping splom dimension "+o+" with conflicting axis types");continue}c?(S(c,h),b&&b.type==="category"&&(b._categories=c._categories.slice())):S(b,h),p.push(o)}for(v(i,l),k.extendFlat(y,s(i,l)),d=x.length*m>n?y.sizeAvg||Math.max(y.size,3):r(l,m),u=0;u<p.length;u++)h=g[o=p[u]],c=w.getFromId(i,l._diag[o][0])||{},b=w.getFromId(i,l._diag[o][1])||{},_(i,l,c,b,x[u],x[u],d);var M=t(i,l);return M.matrix||(M.matrix=!0),M.matrixOptions=y,M.selectedOptions=f(i,l,l.selected),M.unselectedOptions=f(i,l,l.unselected),[{x:!1,y:!1,t:{},trace:l}]}},69544:function(B,L,e){var k=e(3400),w=e(51272),r=e(44524),_=e(43028),v=e(74428),f=e(26284),s=e(80088).isOpenSymbol;function t(a,n){function i(o,u){return k.coerce(a,n,r.dimensions,o,u)}i("label");var l=i("values");l&&l.length?i("visible"):n.visible=!1,i("axis.type"),i("axis.matches")}B.exports=function(a,n,i,l){function o(m,y){return k.coerce(a,n,r,m,y)}var u=w(a,n,{name:"dimensions",handleItemDefaults:t}),h=o("diagonal.visible"),c=o("showupperhalf"),b=o("showlowerhalf");if(f(n,u,"values")&&(h||c||b)){o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),v(a,n,i,l,o,{noAngleRef:!0,noStandOff:!0});var d=s(n.marker.symbol),g=_.isBubble(n);o("marker.line.width",d||g?1:0),function(m,y,x,T){var p,S,M=y.dimensions,E=M.length,P=y.showupperhalf,O=y.showlowerhalf,I=y.diagonal.visible,R=new Array(E),U=new Array(E);for(p=0;p<E;p++){var z=p?p+1:"";R[p]="x"+z,U[p]="y"+z}var j=T("xaxes",R),W=T("yaxes",U),F=y._diag=new Array(E);y._xaxes={},y._yaxes={};var V=[],H=[];function te(ce,ge,ve,be){if(ce){var we=ce.charAt(0),ye=x._splomAxes[we];if(y["_"+we+"axes"][ce]=1,be.push(ce),!(ce in ye)){var me=ye[ce]={};ve&&(me.label=ve.label||"",ve.visible&&ve.axis&&(ve.axis.type&&(me.type=ve.axis.type),ve.axis.matches&&(me.matches=ge)))}}}var Q=!I&&!O,K=!I&&!P;for(y._axesDim={},p=0;p<E;p++){var X=M[p],J=p===0,ee=p===E-1,ie=J&&Q||ee&&K?void 0:j[p],oe=J&&K||ee&&Q?void 0:W[p];te(ie,oe,X,V),te(oe,ie,X,H),F[p]=[ie,oe],y._axesDim[ie]=p,y._axesDim[oe]=p}for(p=0;p<V.length;p++)for(S=0;S<H.length;S++){var ae=V[p]+H[S];p>S&&P||p<S&&O?x._splomSubplots[ae]=1:p!==S||!I&&O&&P||(x._splomSubplots[ae]=1)}(!O||!I&&P&&O)&&(x._splomGridDflt.xside="bottom",x._splomGridDflt.yside="left")}(0,n,l,o),k.coerceSelectionMarkerOpacity(n,o)}else n.visible=!1}},83156:function(B,L,e){var k=e(3400),w=e(90136),r=e(84236).markerStyle;B.exports=function(_,v){var f=v.trace,s=_._fullLayout._splomScenes[f.uid];if(s){w(_,f),k.extendFlat(s.matrixOptions,r(_,f));var t=k.extendFlat({},s.matrixOptions,s.viewOpts);s.matrix.update(t,null)}}},50328:function(B,L){L.getDimIndex=function(e,k){for(var w=k._id,r={x:0,y:1}[w.charAt(0)],_=e._visibleDims,v=0;v<_.length;v++){var f=_[v];if(e._diag[f][r]===w)return v}return!1}},72248:function(B,L,e){var k=e(50328),w=e(41272).calcHover;B.exports={hoverPoints:function(r,_,v){var f=r.cd[0].trace,s=r.scene.matrixOptions.cdata,t=r.xa,a=r.ya,n=t.c2p(_),i=a.c2p(v),l=r.distance,o=k.getDimIndex(f,t),u=k.getDimIndex(f,a);if(o===!1||u===!1)return[r];for(var h,c,b=s[o],d=s[u],g=l,m=0;m<b.length;m++){var y=b[m],x=d[m],T=t.c2p(y)-n,p=a.c2p(x)-i,S=Math.sqrt(T*T+p*p);S<g&&(g=c=S,h=m)}return r.index=h,r.distance=g,r.dxy=c,h===void 0?[r]:[w(r,b,d,f)]}}},97924:function(B,L,e){var k=e(28888);k.basePlotModule=e(99332),B.exports=k},54840:function(B,L,e){var k=e(55795),w=e(3400),r=e(79811),_=e(72760).selectMode;function v(f,s){var t,a,n,i,l,o=f._fullLayout,u=o._size,h=s.trace,c=s.t,b=o._splomScenes[h.uid],d=b.matrixOptions,g=d.cdata,m=o._glcanvas.data()[0].regl,y=o.dragmode;if(g.length!==0){d.lower=h.showupperhalf,d.upper=h.showlowerhalf,d.diagonal=h.diagonal.visible;var x=h._visibleDims,T=g.length,p=b.viewOpts={};for(p.ranges=new Array(T),p.domains=new Array(T),l=0;l<x.length;l++){n=x[l];var S=p.ranges[l]=new Array(4),M=p.domains[l]=new Array(4);(t=r.getFromId(f,h._diag[n][0]))&&(S[0]=t._rl[0],S[2]=t._rl[1],M[0]=t.domain[0],M[2]=t.domain[1]),(a=r.getFromId(f,h._diag[n][1]))&&(S[1]=a._rl[0],S[3]=a._rl[1],M[1]=a.domain[0],M[3]=a.domain[1])}var E=f._context.plotGlPixelRatio,P=u.l*E,O=u.b*E,I=u.w*E,R=u.h*E;p.viewport=[P,O,I+P,R+O],b.matrix===!0&&(b.matrix=k(m));var U=o.clickmode.indexOf("select")>-1,z=!0;if(_(y)||h.selectedpoints||U){var j=h._length;if(h.selectedpoints){b.selectBatch=h.selectedpoints;var W=h.selectedpoints,F={};for(n=0;n<W.length;n++)F[W[n]]=!0;var V=[];for(n=0;n<j;n++)F[n]||V.push(n);b.unselectBatch=V}var H=c.xpx=new Array(T),te=c.ypx=new Array(T);for(l=0;l<x.length;l++){if(n=x[l],t=r.getFromId(f,h._diag[n][0]))for(H[l]=new Array(j),i=0;i<j;i++)H[l][i]=t.c2p(g[l][i]);if(a=r.getFromId(f,h._diag[n][1]))for(te[l]=new Array(j),i=0;i<j;i++)te[l][i]=a.c2p(g[l][i])}if(b.selectBatch.length||b.unselectBatch.length){var Q=w.extendFlat({},d,b.unselectedOptions,p),K=w.extendFlat({},d,b.selectedOptions,p);b.matrix.update(Q,K),z=!1}}else c.xpx=c.ypx=null;if(z){var X=w.extendFlat({},d,p);b.matrix.update(X,null)}}}B.exports=function(f,s,t){if(t.length)for(var a=0;a<t.length;a++)v(f,t[a][0])}},72308:function(B,L,e){var k=e(3400);B.exports=function(w,r){var _=w._fullLayout,v=r.uid,f=_._splomScenes;f||(f=_._splomScenes={});var s={dirty:!0,selectBatch:[],unselectBatch:[]},t=f[r.uid];return t||((t=f[v]=k.extendFlat({},s,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){t.matrix&&t.matrix.draw&&(t.selectBatch.length||t.unselectBatch.length?t.matrix.draw(t.unselectBatch,t.selectBatch):t.matrix.draw()),t.dirty=!1},t.destroy=function(){t.matrix&&t.matrix.destroy&&t.matrix.destroy(),t.matrixOptions=null,t.selectBatch=null,t.unselectBatch=null,t=null}),t.dirty||k.extendFlat(t,s),t}},62500:function(B,L,e){var k=e(3400),w=k.pushUnique,r=e(43028),_=e(50328);B.exports=function(v,f){var s=v.cd,t=s[0].trace,a=s[0].t,n=v.scene,i=n.matrixOptions.cdata,l=v.xaxis,o=v.yaxis,u=[];if(!n)return u;var h=!r.hasMarkers(t)&&!r.hasText(t);if(t.visible!==!0||h)return u;var c=_.getDimIndex(t,l),b=_.getDimIndex(t,o);if(c===!1||b===!1)return u;var d=a.xpx[c],g=a.ypx[b],m=i[c],y=i[b],x=(v.scene.selectBatch||[]).slice(),T=[];if(f!==!1&&!f.degenerate)for(var p=0;p<m.length;p++)f.contains([d[p],g[p]],null,p,v)?(u.push({pointNumber:p,x:m[p],y:y[p]}),w(x,p)):x.indexOf(p)!==-1?w(x,p):T.push(p);var S=n.matrixOptions;return x.length||T.length?n.selectBatch.length||n.unselectBatch.length||n.matrix.update(n.unselectedOptions,k.extendFlat({},S,n.selectedOptions,n.viewOpts)):n.matrix.update(S,null),n.selectBatch=x,n.unselectBatch=T,u}},90167:function(B,L,e){var k=e(49084),w=e(29736).axisHoverFormat,r=e(21776).Ks,_=e(52948),v=e(45464),f=e(92880).extendFlat,s={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:r({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:w("u",1),vhoverformat:w("v",1),whoverformat:w("w",1),xhoverformat:w("x"),yhoverformat:w("y"),zhoverformat:w("z"),showlegend:f({},v.showlegend,{dflt:!1})};f(s,k("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){s[t]=_[t]}),s.hoverinfo=f({},v.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),s.transforms=void 0,B.exports=s},3832:function(B,L,e){var k=e(3400),w=e(47128);function r(f){var s,t,a,n,i,l,o,u,h,c,b,d,g=f._x,m=f._y,y=f._z,x=f._len,T=-1/0,p=1/0,S=-1/0,M=1/0,E=-1/0,P=1/0,O="";for(x&&(o=g[0],h=m[0],b=y[0]),x>1&&(u=g[x-1],c=m[x-1],d=y[x-1]),s=0;s<x;s++)T=Math.max(T,g[s]),p=Math.min(p,g[s]),S=Math.max(S,m[s]),M=Math.min(M,m[s]),E=Math.max(E,y[s]),P=Math.min(P,y[s]),n||g[s]===o||(n=!0,O+="x"),i||m[s]===h||(i=!0,O+="y"),l||y[s]===b||(l=!0,O+="z");n||(O+="x"),i||(O+="y"),l||(O+="z");var I=_(f._x),R=_(f._y),U=_(f._z);O=(O=(O=O.replace("x",(o>u?"-":"+")+"x")).replace("y",(h>c?"-":"+")+"y")).replace("z",(b>d?"-":"+")+"z");var z=function(){x=0,I=[],R=[],U=[]};(!x||x<I.length*R.length*U.length)&&z();var j=function(we){return we==="x"?g:we==="y"?m:y},W=function(we){return we==="x"?I:we==="y"?R:U},F=function(we){return we[x-1]<we[0]?-1:1},V=j(O[1]),H=j(O[3]),te=j(O[5]),Q=W(O[1]).length,K=W(O[3]).length,X=W(O[5]).length,J=!1,ee=function(we,ye,me){return Q*(K*we+ye)+me},ie=F(j(O[1])),oe=F(j(O[3])),ae=F(j(O[5]));for(s=0;s<X-1;s++){for(t=0;t<K-1;t++){for(a=0;a<Q-1;a++){var ce=ee(s,t,a),ge=ee(s,t,a+1),ve=ee(s,t+1,a),be=ee(s+1,t,a);if(V[ce]*ie<V[ge]*ie&&H[ce]*oe<H[ve]*oe&&te[ce]*ae<te[be]*ae||(J=!0),J)break}if(J)break}if(J)break}return J&&(k.warn("Encountered arbitrary coordinates! Unable to input data grid."),z()),{xMin:p,yMin:M,zMin:P,xMax:T,yMax:S,zMax:E,Xs:I,Ys:R,Zs:U,len:x,fill:O}}function _(f){return k.distinctVals(f).vals}function v(f,s){if(s===void 0&&(s=f.length),k.isTypedArray(f))return f.subarray(0,s);for(var t=[],a=0;a<s;a++)t[a]=+f[a];return t}B.exports={calc:function(f,s){s._len=Math.min(s.u.length,s.v.length,s.w.length,s.x.length,s.y.length,s.z.length),s._u=v(s.u,s._len),s._v=v(s.v,s._len),s._w=v(s.w,s._len),s._x=v(s.x,s._len),s._y=v(s.y,s._len),s._z=v(s.z,s._len);var t=r(s);s._gridFill=t.fill,s._Xs=t.Xs,s._Ys=t.Ys,s._Zs=t.Zs,s._len=t.len;var a,n,i,l=0;s.starts&&(a=v(s.starts.x||[]),n=v(s.starts.y||[]),i=v(s.starts.z||[]),l=Math.min(a.length,n.length,i.length)),s._startsX=a||[],s._startsY=n||[],s._startsZ=i||[];var o,u=0,h=1/0;for(o=0;o<s._len;o++){var c=s._u[o],b=s._v[o],d=s._w[o],g=Math.sqrt(c*c+b*b+d*d);u=Math.max(u,g),h=Math.min(h,g)}for(w(f,s,{vals:[h,u],containerStr:"",cLetter:"c"}),o=0;o<l;o++){var m=a[o];t.xMax=Math.max(t.xMax,m),t.xMin=Math.min(t.xMin,m);var y=n[o];t.yMax=Math.max(t.yMax,y),t.yMin=Math.min(t.yMin,y);var x=i[o];t.zMax=Math.max(t.zMax,x),t.zMin=Math.min(t.zMin,x)}s._slen=l,s._normMax=u,s._xbnds=[t.xMin,t.xMax],s._ybnds=[t.yMin,t.yMax],s._zbnds=[t.zMin,t.zMax]},filter:v,processGrid:r}},25668:function(B,L,e){var k=e(67792).gl_streamtube3d,w=k.createTubeMesh,r=e(3400),_=e(33040).parseColorScale,v=e(8932).extractOpts,f=e(52094),s={xaxis:0,yaxis:1,zaxis:2};function t(o,u){this.scene=o,this.uid=u,this.mesh=null,this.data=null}var a=t.prototype;function n(o){var u=o.length;return u>2?o.slice(1,u-1):u===2?[(o[0]+o[1])/2]:o}function i(o){var u=o.length;return u===1?[.5,.5]:[o[1]-o[0],o[u-1]-o[u-2]]}function l(o,u){var h=o.fullSceneLayout,c=o.dataScale,b=u._len,d={};function g(Q,K){var X=h[K],J=c[s[K]];return r.simpleMap(Q,function(ee){return X.d2l(ee)*J})}if(d.vectors=f(g(u._u,"xaxis"),g(u._v,"yaxis"),g(u._w,"zaxis"),b),!b)return{positions:[],cells:[]};var m=g(u._Xs,"xaxis"),y=g(u._Ys,"yaxis"),x=g(u._Zs,"zaxis");if(d.meshgrid=[m,y,x],d.gridFill=u._gridFill,u._slen)d.startingPositions=f(g(u._startsX,"xaxis"),g(u._startsY,"yaxis"),g(u._startsZ,"zaxis"));else{for(var T=y[0],p=n(m),S=n(x),M=new Array(p.length*S.length),E=0,P=0;P<p.length;P++)for(var O=0;O<S.length;O++)M[E++]=[p[P],T,S[O]];d.startingPositions=M}d.colormap=_(u),d.tubeSize=u.sizeref,d.maxLength=u.maxdisplayed;var I=g(u._xbnds,"xaxis"),R=g(u._ybnds,"yaxis"),U=g(u._zbnds,"zaxis"),z=i(m),j=i(y),W=i(x),F=[[I[0]-z[0],R[0]-j[0],U[0]-W[0]],[I[1]+z[1],R[1]+j[1],U[1]+W[1]]],V=k(d,F),H=v(u);V.vertexIntensityBounds=[H.min/u._normMax,H.max/u._normMax];var te=u.lightposition;return V.lightPosition=[te.x,te.y,te.z],V.ambient=u.lighting.ambient,V.diffuse=u.lighting.diffuse,V.specular=u.lighting.specular,V.roughness=u.lighting.roughness,V.fresnel=u.lighting.fresnel,V.opacity=u.opacity,u._pad=V.tubeScale*u.sizeref*2,V}a.handlePick=function(o){var u=this.scene.fullSceneLayout,h=this.scene.dataScale;function c(g,m){var y=u[m],x=h[s[m]];return y.l2c(g)/x}if(o.object===this.mesh){var b=o.data.position,d=o.data.velocity;return o.traceCoordinate=[c(b[0],"xaxis"),c(b[1],"yaxis"),c(b[2],"zaxis"),c(d[0],"xaxis"),c(d[1],"yaxis"),c(d[2],"zaxis"),o.data.intensity*this.data._normMax,o.data.divergence],o.textLabel=this.data.hovertext||this.data.text,!0}},a.update=function(o){this.data=o;var u=l(this.scene,o);this.mesh.update(u)},a.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},B.exports=function(o,u){var h=o.glplot.gl,c=l(o,u),b=w(h,c),d=new t(o,u.uid);return d.mesh=b,d.data=u,b._trace=d,o.glplot.add(b),d}},54304:function(B,L,e){var k=e(3400),w=e(27260),r=e(90167);B.exports=function(_,v,f,s){function t(h,c){return k.coerce(_,v,r,h,c)}var a=t("u"),n=t("v"),i=t("w"),l=t("x"),o=t("y"),u=t("z");a&&a.length&&n&&n.length&&i&&i.length&&l&&l.length&&o&&o.length&&u&&u.length?(t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),w(_,v,s,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null):v.visible=!1}},15436:function(B,L,e){B.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(k,w){return k.tubex=k.x,k.tubey=k.y,k.tubez=k.z,k.tubeu=w.traceCoordinate[3],k.tubev=w.traceCoordinate[4],k.tubew=w.traceCoordinate[5],k.norm=w.traceCoordinate[6],k.divergence=w.traceCoordinate[7],delete k.x,delete k.y,delete k.z,k},meta:{}}},424:function(B,L,e){var k=e(45464),w=e(21776).Ks,r=e(21776).Gw,_=e(49084),v=e(86968).u,f=e(74996),s=e(27328),t=e(92880).extendFlat,a=e(98192).c;B.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},f.marker.line.color,{dflt:null}),width:t({},f.marker.line.width,{dflt:1}),editType:"calc"},pattern:a,editType:"calc"},_("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:f.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:r({editType:"plot"},{keys:s.eventDataKeys.concat(["label","value"])}),hovertext:f.hovertext,hoverinfo:t({},k.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:w({},{keys:s.eventDataKeys}),textfont:f.textfont,insidetextorientation:f.insidetextorientation,insidetextfont:f.insidetextfont,outsidetextfont:t({},f.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:f.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:v({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(B,L,e){var k=e(7316);L.name="sunburst",L.plot=function(w,r,_,v){k.plotBasePlot(L.name,w,r,_,v)},L.clean=function(w,r,_,v){k.cleanBasePlot(L.name,w,r,_,v)}},3776:function(B,L,e){var k=e(74148),w=e(38248),r=e(3400),_=e(8932).makeColorScaleFuncFromTrace,v=e(45768).makePullColorFn,f=e(45768).generateExtendedColors,s=e(8932).calc,t=e(39032).ALMOST_EQUAL,a={},n={},i={};function l(o,u,h){var c=0,b=o.children;if(b){for(var d=b.length,g=0;g<d;g++)c+=l(b[g],u,h);h.branches&&c++}else h.leaves&&c++;return o.value=o.data.data.value=c,u._values||(u._values=[]),u._values[o.data.data.i]=c,c}L.calc=function(o,u){var h,c,b,d,g,m,y=o._fullLayout,x=u.ids,T=r.isArrayOrTypedArray(x),p=u.labels,S=u.parents,M=u.values,E=r.isArrayOrTypedArray(M),P=[],O={},I={},R=function(ae){return ae||typeof ae=="number"},U=function(ae){return!E||w(M[ae])&&M[ae]>=0};T?(h=Math.min(x.length,S.length),c=function(ae){return R(x[ae])&&U(ae)},b=function(ae){return String(x[ae])}):(h=Math.min(p.length,S.length),c=function(ae){return R(p[ae])&&U(ae)},b=function(ae){return String(p[ae])}),E&&(h=Math.min(h,M.length));for(var z=0;z<h;z++)if(c(z)){var j=b(z),W=R(S[z])?String(S[z]):"",F={i:z,id:j,pid:W,label:R(p[z])?String(p[z]):""};E&&(F.v=+M[z]),P.push(F),g=j,O[d=W]?O[d].push(g):O[d]=[g],I[g]=1}if(O[""]){if(O[""].length>1){for(var V=r.randstr(),H=0;H<P.length;H++)P[H].pid===""&&(P[H].pid=V);P.unshift({hasMultipleRoots:!0,id:V,pid:"",label:""})}}else{var te,Q=[];for(te in O)I[te]||Q.push(te);if(Q.length!==1)return r.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",Q.join(", ")].join(" "));te=Q[0],P.unshift({hasImpliedRoot:!0,id:te,pid:"",label:te})}try{m=k.stratify().id(function(ae){return ae.id}).parentId(function(ae){return ae.pid})(P)}catch(ae){return r.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",ae.message].join(" "))}var K=k.hierarchy(m),X=!1;if(E)switch(u.branchvalues){case"remainder":K.sum(function(ae){return ae.data.v});break;case"total":K.each(function(ae){var ce=ae.data.data,ge=ce.v;if(ae.children){var ve=ae.children.reduce(function(be,we){return be+we.data.data.v},0);if((ce.hasImpliedRoot||ce.hasMultipleRoots)&&(ge=ve),ge<ve*t)return X=!0,r.warn(["Total value for node",ae.data.data.id,"of",u.name,"is smaller than the sum of its children.",`
parent value =`,ge,`
children sum =`,ve].join(" "))}ae.value=ge})}else l(K,u,{branches:u.count.indexOf("branches")!==-1,leaves:u.count.indexOf("leaves")!==-1});if(!X){var J,ee;u.sort&&K.sort(function(ae,ce){return ce.value-ae.value});var ie=u.marker.colors||[],oe=!!ie.length;return u._hasColorscale?(oe||(ie=E?u.values:u._values),s(o,u,{vals:ie,containerStr:"marker",cLetter:"c"}),ee=_(u.marker)):J=v(y["_"+u.type+"colormap"]),K.each(function(ae){var ce=ae.data.data;ce.color=u._hasColorscale?ee(ie[ce.i]):J(ie[ce.i],ce.id)}),P[0].hierarchy=K,P}},L._runCrossTraceCalc=function(o,u){var h=u._fullLayout,c=u.calcdata,b=h[o+"colorway"],d=h["_"+o+"colormap"];h["extend"+o+"colors"]&&(b=f(b,o==="icicle"?i:o==="treemap"?n:a));var g,m=0;function y(p){var S=p.data.data,M=S.id;S.color===!1&&(d[M]?S.color=d[M]:p.parent?p.parent.parent?S.color=p.parent.data.data.color:(d[M]=S.color=b[m%b.length],m++):S.color=g)}for(var x=0;x<c.length;x++){var T=c[x][0];T.trace.type===o&&T.hierarchy&&(g=T.trace.root.color,T.hierarchy.each(y))}},L.crossTraceCalc=function(o){return L._runCrossTraceCalc("sunburst",o)}},27328:function(B){B.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(B,L,e){var k=e(3400),w=e(424),r=e(86968).Q,_=e(31508).handleText,v=e(74174).handleMarkerDefaults,f=e(8932),s=f.hasColorscale,t=f.handleDefaults;B.exports=function(a,n,i,l){function o(g,m){return k.coerce(a,n,w,g,m)}var u=o("labels"),h=o("parents");if(u&&u.length&&h&&h.length){var c=o("values");c&&c.length?o("branchvalues"):o("count"),o("level"),o("maxdepth"),v(a,n,l,o);var b=n._hasColorscale=s(a,"marker","colors")||(a.marker||{}).coloraxis;b&&t(a,n,l,o,{prefix:"marker.",cLetter:"c"}),o("leaf.opacity",b?1:.7);var d=o("text");o("texttemplate"),n.texttemplate||o("textinfo",k.isArrayOrTypedArray(d)?"text+label":"label"),o("hovertext"),o("hovertemplate"),_(a,n,l,o,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),o("insidetextorientation"),o("sort"),o("rotation"),o("root.color"),r(n,l,o),n._length=null}else n.visible=!1}},60404:function(B,L,e){var k=e(43616),w=e(76308);B.exports=function(r,_,v,f,s){var t=_.data.data,a=t.i,n=s||t.color;if(a>=0){_.i=t.i;var i=v.marker;i.pattern&&i.colors&&i.pattern.shape||(i.color=n,_.color=n),k.pointStyle(r,v,f,_)}else w.fill(r,n)}},45716:function(B,L,e){var k=e(33428),w=e(24040),r=e(10624).appendArrayPointValue,_=e(93024),v=e(3400),f=e(95924),s=e(78176),t=e(69656).formatPieValue;function a(n,i,l){for(var o=n.data.data,u={curveNumber:i.index,pointNumber:o.i,data:i._input,fullData:i},h=0;h<l.length;h++){var c=l[h];c in n&&(u[c]=n[c])}return"parentString"in n&&!s.isHierarchyRoot(n)&&(u.parent=n.parentString),r(u,i,o.i),u}B.exports=function(n,i,l,o,u){var h=o[0],c=h.trace,b=h.hierarchy,d=c.type==="sunburst",g=c.type==="treemap"||c.type==="icicle";"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1),n.on("mouseover",function(m){var y=l._fullLayout;if(!l._dragging&&y.hovermode!==!1){var x,T=l._fullData[c.index],p=m.data.data,S=p.i,M=s.isHierarchyRoot(m),E=s.getParent(b,m),P=s.getValue(m),O=function(ie){return v.castOption(T,S,ie)},I=O("hovertemplate"),R=_.castHoverinfo(T,y,S),U=y.separators;if(I||R&&R!=="none"&&R!=="skip"){var z,j;d&&(z=h.cx+m.pxmid[0]*(1-m.rInscribed),j=h.cy+m.pxmid[1]*(1-m.rInscribed)),g&&(z=m._hoverX,j=m._hoverY);var W,F={},V=[],H=[],te=function(ie){return V.indexOf(ie)!==-1};R&&(V=R==="all"?T._module.attributes.hoverinfo.flags:R.split("+")),F.label=p.label,te("label")&&F.label&&H.push(F.label),p.hasOwnProperty("v")&&(F.value=p.v,F.valueLabel=t(F.value,U),te("value")&&H.push(F.valueLabel)),F.currentPath=m.currentPath=s.getPath(m.data),te("current path")&&!M&&H.push(F.currentPath);var Q=[],K=function(){Q.indexOf(W)===-1&&(H.push(W),Q.push(W))};F.percentParent=m.percentParent=P/s.getValue(E),F.parent=m.parentString=s.getPtLabel(E),te("percent parent")&&(W=s.formatPercent(F.percentParent,U)+" of "+F.parent,K()),F.percentEntry=m.percentEntry=P/s.getValue(i),F.entry=m.entry=s.getPtLabel(i),!te("percent entry")||M||m.onPathbar||(W=s.formatPercent(F.percentEntry,U)+" of "+F.entry,K()),F.percentRoot=m.percentRoot=P/s.getValue(b),F.root=m.root=s.getPtLabel(b),te("percent root")&&!M&&(W=s.formatPercent(F.percentRoot,U)+" of "+F.root,K()),F.text=O("hovertext")||O("text"),te("text")&&(W=F.text,v.isValidTextValue(W)&&H.push(W)),x=[a(m,T,u.eventDataKeys)];var X={trace:T,y:j,_x0:m._x0,_x1:m._x1,_y0:m._y0,_y1:m._y1,text:H.join("<br>"),name:I||te("name")?T.name:void 0,color:O("hoverlabel.bgcolor")||p.color,borderColor:O("hoverlabel.bordercolor"),fontFamily:O("hoverlabel.font.family"),fontSize:O("hoverlabel.font.size"),fontColor:O("hoverlabel.font.color"),nameLength:O("hoverlabel.namelength"),textAlign:O("hoverlabel.align"),hovertemplate:I,hovertemplateLabels:F,eventData:x};d&&(X.x0=z-m.rInscribed*m.rpx1,X.x1=z+m.rInscribed*m.rpx1,X.idealAlign=m.pxmid[0]<0?"left":"right"),g&&(X.x=z,X.idealAlign=z<0?"left":"right");var J=[];_.loneHover(X,{container:y._hoverlayer.node(),outerContainer:y._paper.node(),gd:l,inOut_bbox:J}),x[0].bbox=J[0],c._hasHoverLabel=!0}if(g){var ee=n.select("path.surface");u.styleOne(ee,m,T,l,{hovered:!0})}c._hasHoverEvent=!0,l.emit("plotly_hover",{points:x||[a(m,T,u.eventDataKeys)],event:k.event})}}),n.on("mouseout",function(m){var y=l._fullLayout,x=l._fullData[c.index],T=k.select(this).datum();if(c._hasHoverEvent&&(m.originalEvent=k.event,l.emit("plotly_unhover",{points:[a(T,x,u.eventDataKeys)],event:k.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(_.loneUnhover(y._hoverlayer.node()),c._hasHoverLabel=!1),g){var p=n.select("path.surface");u.styleOne(p,T,x,l,{hovered:!1})}}),n.on("click",function(m){var y=l._fullLayout,x=l._fullData[c.index],T=d&&(s.isHierarchyRoot(m)||s.isLeaf(m)),p=s.getPtId(m),S=s.isEntry(m)?s.findEntryWithChild(b,p):s.findEntryWithLevel(b,p),M=s.getPtId(S),E={points:[a(m,x,u.eventDataKeys)],event:k.event};T||(E.nextLevel=M);var P=f.triggerHandler(l,"plotly_"+c.type+"click",E);if(P!==!1&&y.hovermode&&(l._hoverdata=[a(m,x,u.eventDataKeys)],_.click(l,k.event)),!T&&P!==!1&&!l._dragging&&!l._transitioning){w.call("_storeDirectGUIEdit",x,y._tracePreGUI[x.uid],{level:x.level});var O={data:[{level:M}],traces:[c.index]},I={frame:{redraw:!1,duration:u.transitionTime},transition:{duration:u.transitionTime,easing:u.transitionEasing},mode:"immediate",fromcurrent:!0};_.loneUnhover(y._hoverlayer.node()),w.call("animate",l,O,I)}})}},78176:function(B,L,e){var k=e(3400),w=e(76308),r=e(93972),_=e(69656);function v(f){return f.data.data.pid}L.findEntryWithLevel=function(f,s){var t;return s&&f.eachAfter(function(a){if(L.getPtId(a)===s)return t=a.copy()}),t||f},L.findEntryWithChild=function(f,s){var t;return f.eachAfter(function(a){for(var n=a.children||[],i=0;i<n.length;i++){var l=n[i];if(L.getPtId(l)===s)return t=a.copy()}}),t||f},L.isEntry=function(f){return!f.parent},L.isLeaf=function(f){return!f.children},L.getPtId=function(f){return f.data.data.id},L.getPtLabel=function(f){return f.data.data.label},L.getValue=function(f){return f.value},L.isHierarchyRoot=function(f){return v(f)===""},L.setSliceCursor=function(f,s,t){var a=t.isTransitioning;if(!a){var n=f.datum();a=t.hideOnRoot&&L.isHierarchyRoot(n)||t.hideOnLeaves&&L.isLeaf(n)}r(f,a?null:"pointer")},L.getInsideTextFontKey=function(f,s,t,a,n){var i=(n||{}).onPathbar?"pathbar.textfont":"insidetextfont",l=t.data.data.i;return k.castOption(s,l,i+"."+f)||k.castOption(s,l,"textfont."+f)||a.size},L.getOutsideTextFontKey=function(f,s,t,a){var n=t.data.data.i;return k.castOption(s,n,"outsidetextfont."+f)||k.castOption(s,n,"textfont."+f)||a.size},L.isOutsideText=function(f,s){return!f._hasColorscale&&L.isHierarchyRoot(s)},L.determineTextFont=function(f,s,t,a){return L.isOutsideText(f,s)?function(n,i,l){return{color:L.getOutsideTextFontKey("color",n,i,l),family:L.getOutsideTextFontKey("family",n,i,l),size:L.getOutsideTextFontKey("size",n,i,l)}}(f,s,t):function(n,i,l,o){var u=(o||{}).onPathbar,h=i.data.data,c=h.i,b=k.castOption(n,c,(u?"pathbar.textfont":"insidetextfont")+".color");return!b&&n._input.textfont&&(b=k.castOption(n._input,c,"textfont.color")),{color:b||w.contrast(h.color),family:L.getInsideTextFontKey("family",n,i,l,o),size:L.getInsideTextFontKey("size",n,i,l,o)}}(f,s,t,a)},L.hasTransition=function(f){return!!(f&&f.duration>0)},L.getMaxDepth=function(f){return f.maxdepth>=0?f.maxdepth:1/0},L.isHeader=function(f,s){return!(L.isLeaf(f)||f.depth===s._maxDepth-1)},L.getParent=function(f,s){return L.findEntryWithLevel(f,v(s))},L.listPath=function(f,s){var t=f.parent;if(!t)return[];var a=s?[t.data[s]]:[t];return L.listPath(t,s).concat(a)},L.getPath=function(f){return L.listPath(f,"label").join("/")+"/"},L.formatValue=_.formatPieValue,L.formatPercent=function(f,s){var t=k.formatPercent(f,0);return t==="0%"&&(t=_.formatPiePercent(f,s)),t}},5621:function(B,L,e){B.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(B){B.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(B,L,e){var k=e(3400),w=e(84920);B.exports=function(r,_){function v(f,s){return k.coerce(r,_,w,f,s)}v("sunburstcolorway",_.colorway),v("extendsunburstcolors")}},96488:function(B,L,e){var k=e(33428),w=e(74148),r=e(67756).qy,_=e(43616),v=e(3400),f=e(72736),s=e(82744),t=s.recordMinTextSize,a=s.clearMinTextSize,n=e(37820),i=e(69656).getRotationAngle,l=n.computeTransform,o=n.transformInsideText,u=e(85676).styleOne,h=e(60100).resizeText,c=e(45716),b=e(27328),d=e(78176);function g(y,x,T,p){var S=y._context.staticPlot,M=y._fullLayout,E=!M.uniformtext.mode&&d.hasTransition(p),P=k.select(T).selectAll("g.slice"),O=x[0],I=O.trace,R=O.hierarchy,U=d.findEntryWithLevel(R,I.level),z=d.getMaxDepth(I),j=M._size,W=I.domain,F=j.w*(W.x[1]-W.x[0]),V=j.h*(W.y[1]-W.y[0]),H=.5*Math.min(F,V),te=O.cx=j.l+j.w*(W.x[1]+W.x[0])/2,Q=O.cy=j.t+j.h*(1-W.y[0])-V/2;if(!U)return P.remove();var K=null,X={};E&&P.each(function(le){X[d.getPtId(le)]={rpx0:le.rpx0,rpx1:le.rpx1,x0:le.x0,x1:le.x1,transform:le.transform},!K&&d.isEntry(le)&&(K=le)});var J=function(le){return w.partition().size([2*Math.PI,le.height+1])(le)}(U).descendants(),ee=U.height+1,ie=0,oe=z;O.hasMultipleRoots&&d.isHierarchyRoot(U)&&(J=J.slice(1),ee-=1,ie=1,oe+=1),J=J.filter(function(le){return le.y1<=oe});var ae=i(I.rotation);ae&&J.forEach(function(le){le.x0+=ae,le.x1+=ae});var ce=Math.min(ee,z),ge=function(le){return(le-ie)/ce*H},ve=function(le,de){return[le*Math.cos(de),-le*Math.sin(de)]},be=function(le){return v.pathAnnulus(le.rpx0,le.rpx1,le.x0,le.x1,te,Q)},we=function(le){return te+m(le)[0]*(le.transform.rCenter||0)+(le.transform.x||0)},ye=function(le){return Q+m(le)[1]*(le.transform.rCenter||0)+(le.transform.y||0)};(P=P.data(J,d.getPtId)).enter().append("g").classed("slice",!0),E?P.exit().transition().each(function(){var le=k.select(this);le.select("path.surface").transition().attrTween("d",function(de){var Ce=function(Me){var Le,Oe=d.getPtId(Me),Be=X[Oe],pe=X[d.getPtId(U)];if(pe){var _e=(Me.x1>pe.x1?2*Math.PI:0)+ae;Le=Me.rpx1<pe.rpx1?{x0:Me.x0,x1:Me.x1,rpx0:0,rpx1:0}:{x0:_e,x1:_e,rpx0:Me.rpx0,rpx1:Me.rpx1}}else{var Te,Re=d.getPtId(Me.parent);P.each(function(et){if(d.getPtId(et)===Re)return Te=et});var Ne,ze=Te.children;ze.forEach(function(et,ut){if(d.getPtId(et)===Oe)return Ne=ut});var Ge=ze.length,Ye=r(Te.x0,Te.x1);Le={rpx0:H,rpx1:H,x0:Ye(Ne/Ge),x1:Ye((Ne+1)/Ge)}}return r(Be,Le)}(de);return function(Me){return be(Ce(Me))}}),le.select("g.slicetext").attr("opacity",0)}).remove():P.exit().remove(),P.order();var me=null;if(E&&K){var Ae=d.getPtId(K);P.each(function(le){me===null&&d.getPtId(le)===Ae&&(me=le.x1)})}var ke=P;function fe(le){var de=le.parent,Ce=X[d.getPtId(de)],Me={};if(Ce){var Le=de.children,Oe=Le.indexOf(le),Be=Le.length,pe=r(Ce.x0,Ce.x1);Me.x0=pe(Oe/Be),Me.x1=pe(Oe/Be)}else Me.x0=Me.x1=0;return Me}E&&(ke=ke.transition().each("end",function(){var le=k.select(this);d.setSliceCursor(le,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),ke.each(function(le){var de=k.select(this),Ce=v.ensureSingle(de,"path","surface",function(_e){_e.style("pointer-events",S?"none":"all")});le.rpx0=ge(le.y0),le.rpx1=ge(le.y1),le.xmid=(le.x0+le.x1)/2,le.pxmid=ve(le.rpx1,le.xmid),le.midangle=-(le.xmid-Math.PI/2),le.startangle=-(le.x0-Math.PI/2),le.stopangle=-(le.x1-Math.PI/2),le.halfangle=.5*Math.min(v.angleDelta(le.x0,le.x1)||Math.PI,Math.PI),le.ring=1-le.rpx0/le.rpx1,le.rInscribed=function(_e){return _e.rpx0===0&&v.isFullCircle([_e.x0,_e.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(_e.halfangle)),_e.ring/2))}(le),E?Ce.transition().attrTween("d",function(_e){var Te=function(Re){var Ne,ze=X[d.getPtId(Re)],Ge={x0:Re.x0,x1:Re.x1,rpx0:Re.rpx0,rpx1:Re.rpx1};if(ze)Ne=ze;else if(K)if(Re.parent)if(me){var Ye=(Re.x1>me?2*Math.PI:0)+ae;Ne={x0:Ye,x1:Ye}}else Ne={rpx0:H,rpx1:H},v.extendFlat(Ne,fe(Re));else Ne={rpx0:0,rpx1:0};else Ne={x0:ae,x1:ae};return r(Ne,Ge)}(_e);return function(Re){return be(Te(Re))}}):Ce.attr("d",be),de.call(c,U,y,x,{eventDataKeys:b.eventDataKeys,transitionTime:b.CLICK_TRANSITION_TIME,transitionEasing:b.CLICK_TRANSITION_EASING}).call(d.setSliceCursor,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:y._transitioning}),Ce.call(u,le,I,y);var Me=v.ensureSingle(de,"g","slicetext"),Le=v.ensureSingle(Me,"text","",function(_e){_e.attr("data-notex",1)}),Oe=v.ensureUniformFontSize(y,d.determineTextFont(I,le,M.font));Le.text(L.formatSliceLabel(le,U,I,x,M)).classed("slicetext",!0).attr("text-anchor","middle").call(_.font,Oe).call(f.convertToTspans,y);var Be=_.bBox(Le.node());le.transform=o(Be,le,O),le.transform.targetX=we(le),le.transform.targetY=ye(le);var pe=function(_e,Te){var Re=_e.transform;return l(Re,Te),Re.fontSize=Oe.size,t(I.type,Re,M),v.getTextTransform(Re)};E?Le.transition().attrTween("transform",function(_e){var Te=function(Re){var Ne,ze=X[d.getPtId(Re)],Ge=Re.transform;if(ze)Ne=ze;else if(Ne={rpx1:Re.rpx1,transform:{textPosAngle:Ge.textPosAngle,scale:0,rotate:Ge.rotate,rCenter:Ge.rCenter,x:Ge.x,y:Ge.y}},K)if(Re.parent)if(me){var Ye=Re.x1>me?2*Math.PI:0;Ne.x0=Ne.x1=Ye}else v.extendFlat(Ne,fe(Re));else Ne.x0=Ne.x1=ae;else Ne.x0=Ne.x1=ae;var et=r(Ne.transform.textPosAngle,Re.transform.textPosAngle),ut=r(Ne.rpx1,Re.rpx1),ot=r(Ne.x0,Re.x0),yt=r(Ne.x1,Re.x1),wt=r(Ne.transform.scale,Ge.scale),bt=r(Ne.transform.rotate,Ge.rotate),at=Ge.rCenter===0?3:Ne.transform.rCenter===0?1/3:1,rt=r(Ne.transform.rCenter,Ge.rCenter);return function(At){var Rt=ut(At),Ft=ot(At),Dt=yt(At),Xe=function(Ve){return rt(Math.pow(Ve,at))}(At),Ke={pxmid:ve(Rt,(Ft+Dt)/2),rpx1:Rt,transform:{textPosAngle:et(At),rCenter:Xe,x:Ge.x,y:Ge.y}};return t(I.type,Ge,M),{transform:{targetX:we(Ke),targetY:ye(Ke),scale:wt(At),rotate:bt(At),rCenter:Xe}}}}(_e);return function(Re){return pe(Te(Re),Be)}}):Le.attr("transform",pe(le,Be))})}function m(y){return x=y.rpx1,T=y.transform.textPosAngle,[x*Math.sin(T),-x*Math.cos(T)];var x,T}L.plot=function(y,x,T,p){var S,M,E=y._fullLayout,P=E._sunburstlayer,O=!T,I=!E.uniformtext.mode&&d.hasTransition(T);a("sunburst",E),(S=P.selectAll("g.trace.sunburst").data(x,function(R){return R[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),S.order(),I?(p&&(M=p()),k.transition().duration(T.duration).ease(T.easing).each("end",function(){M&&M()}).each("interrupt",function(){M&&M()}).each(function(){P.selectAll("g.trace").each(function(R){g(y,R,this,T)})})):(S.each(function(R){g(y,R,this,T)}),E.uniformtext.mode&&h(y,E._sunburstlayer.selectAll(".trace"),"sunburst")),O&&S.exit().remove()},L.formatSliceLabel=function(y,x,T,p,S){var M=T.texttemplate,E=T.textinfo;if(!(M||E&&E!=="none"))return"";var P=S.separators,O=p[0],I=y.data.data,R=O.hierarchy,U=d.isHierarchyRoot(y),z=d.getParent(R,y),j=d.getValue(y);if(!M){var W,F=E.split("+"),V=function(oe){return F.indexOf(oe)!==-1},H=[];if(V("label")&&I.label&&H.push(I.label),I.hasOwnProperty("v")&&V("value")&&H.push(d.formatValue(I.v,P)),!U){V("current path")&&H.push(d.getPath(y.data));var te=0;V("percent parent")&&te++,V("percent entry")&&te++,V("percent root")&&te++;var Q=te>1;if(te){var K,X=function(oe){W=d.formatPercent(K,P),Q&&(W+=" of "+oe),H.push(W)};V("percent parent")&&!U&&(K=j/d.getValue(z),X("parent")),V("percent entry")&&(K=j/d.getValue(x),X("entry")),V("percent root")&&(K=j/d.getValue(R),X("root"))}}return V("text")&&(W=v.castOption(T,I.i,"text"),v.isValidTextValue(W)&&H.push(W)),H.join("<br>")}var J=v.castOption(T,I.i,"texttemplate");if(!J)return"";var ee={};I.label&&(ee.label=I.label),I.hasOwnProperty("v")&&(ee.value=I.v,ee.valueLabel=d.formatValue(I.v,P)),ee.currentPath=d.getPath(y.data),U||(ee.percentParent=j/d.getValue(z),ee.percentParentLabel=d.formatPercent(ee.percentParent,P),ee.parent=d.getPtLabel(z)),ee.percentEntry=j/d.getValue(x),ee.percentEntryLabel=d.formatPercent(ee.percentEntry,P),ee.entry=d.getPtLabel(x),ee.percentRoot=j/d.getValue(R),ee.percentRootLabel=d.formatPercent(ee.percentRoot,P),ee.root=d.getPtLabel(R),I.hasOwnProperty("color")&&(ee.color=I.color);var ie=v.castOption(T,I.i,"text");return(v.isValidTextValue(ie)||ie==="")&&(ee.text=ie),ee.customdata=v.castOption(T,I.i,"customdata"),v.texttemplateString(J,ee,S._d3locale,ee,T._meta||{})}},85676:function(B,L,e){var k=e(33428),w=e(76308),r=e(3400),_=e(82744).resizeText,v=e(60404);function f(s,t,a,n){var i=t.data.data,l=!t.children,o=i.i,u=r.castOption(a,o,"marker.line.color")||w.defaultLine,h=r.castOption(a,o,"marker.line.width")||0;s.call(v,t,a,n).style("stroke-width",h).call(w.stroke,u).style("opacity",l?a.leaf.opacity:null)}B.exports={style:function(s){var t=s._fullLayout._sunburstlayer.selectAll(".trace");_(s,t,"sunburst"),t.each(function(a){var n=k.select(this),i=a[0].trace;n.style("opacity",i.opacity),n.selectAll("path.surface").each(function(l){k.select(this).call(f,l,i,s)})})},styleOne:f}},16716:function(B,L,e){var k=e(76308),w=e(49084),r=e(29736).axisHoverFormat,_=e(21776).Ks,v=e(45464),f=e(92880).extendFlat,s=e(67824).overrideAll;function t(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:k.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:k.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var a=B.exports=s(f({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:_(),xhoverformat:r("x"),yhoverformat:r("y"),zhoverformat:r("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},w("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:f({},w.zauto,{}),zmin:f({},w.zmin,{}),zmax:f({},w.zmax,{})},hoverinfo:f({},v.hoverinfo),showlegend:f({},v.showlegend,{dflt:!1})}),"calc","nested");a.x.editType=a.y.editType=a.z.editType="calc+clearAxisTypes",a.transforms=void 0},56576:function(B,L,e){var k=e(47128);B.exports=function(w,r){r.surfacecolor?k(w,r,{vals:r.surfacecolor,containerStr:"",cLetter:"c"}):k(w,r,{vals:r.z,containerStr:"",cLetter:"c"})}},79164:function(B,L,e){var k=e(67792).gl_surface3d,w=e(67792).ndarray,r=e(67792).ndarray_linear_interpolate.d2,_=e(70448),v=e(11240),f=e(3400).isArrayOrTypedArray,s=e(33040).parseColorScale,t=e(43080),a=e(8932).extractOpts;function n(T,p,S){this.scene=T,this.uid=S,this.surface=p,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var i=n.prototype;i.getXat=function(T,p,S,M){var E=f(this.data.x)?f(this.data.x[0])?this.data.x[p][T]:this.data.x[T]:T;return S===void 0?E:M.d2l(E,0,S)},i.getYat=function(T,p,S,M){var E=f(this.data.y)?f(this.data.y[0])?this.data.y[p][T]:this.data.y[p]:p;return S===void 0?E:M.d2l(E,0,S)},i.getZat=function(T,p,S,M){var E=this.data.z[p][T];return E===null&&this.data.connectgaps&&this.data._interpolatedZ&&(E=this.data._interpolatedZ[p][T]),S===void 0?E:M.d2l(E,0,S)},i.handlePick=function(T){if(T.object===this.surface){var p=(T.data.index[0]-1)/this.dataScaleX-1,S=(T.data.index[1]-1)/this.dataScaleY-1,M=Math.max(Math.min(Math.round(p),this.data.z[0].length-1),0),E=Math.max(Math.min(Math.round(S),this.data._ylength-1),0);T.index=[M,E],T.traceCoordinate=[this.getXat(M,E),this.getYat(M,E),this.getZat(M,E)],T.dataCoordinate=[this.getXat(M,E,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(M,E,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(M,E,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var P=0;P<3;P++)T.dataCoordinate[P]!=null&&(T.dataCoordinate[P]*=this.scene.dataScale[P]);var O=this.data.hovertext||this.data.text;return f(O)&&O[E]&&O[E][M]!==void 0?T.textLabel=O[E][M]:T.textLabel=O||"",T.data.dataCoordinate=T.dataCoordinate.slice(),this.surface.highlight(T.data),this.scene.glplot.spikes.position=T.dataCoordinate,!0}};var l=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function o(T,p){if(T<p)return 0;for(var S=0;Math.floor(T%p)===0;)T/=p,S++;return S}function u(T){for(var p=[],S=0;S<l.length;S++){var M=l[S];p.push(o(T,M))}return p}function h(T){for(var p=u(T),S=T,M=0;M<l.length;M++)if(p[M]>0){S=l[M];break}return S}function c(T,p){if(!(T<1||p<1)){for(var S=u(T),M=u(p),E=1,P=0;P<l.length;P++)E*=Math.pow(l[P],Math.max(S[P],M[P]));return E}}i.calcXnums=function(T){var p,S=[];for(p=1;p<T;p++){var M=this.getXat(p-1,0),E=this.getXat(p,0);S[p-1]=E!==M&&M!=null&&E!=null?Math.abs(E-M):0}var P=0;for(p=1;p<T;p++)P+=S[p-1];for(p=1;p<T;p++)S[p-1]===0?S[p-1]=1:S[p-1]=Math.round(P/S[p-1]);return S},i.calcYnums=function(T){var p,S=[];for(p=1;p<T;p++){var M=this.getYat(0,p-1),E=this.getYat(0,p);S[p-1]=E!==M&&M!=null&&E!=null?Math.abs(E-M):0}var P=0;for(p=1;p<T;p++)P+=S[p-1];for(p=1;p<T;p++)S[p-1]===0?S[p-1]=1:S[p-1]=Math.round(P/S[p-1]);return S};var b=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=b[9],g=b[13];function m(T,p,S){var M=S[8]+S[2]*p[0]+S[5]*p[1];return T[0]=(S[6]+S[0]*p[0]+S[3]*p[1])/M,T[1]=(S[7]+S[1]*p[0]+S[4]*p[1])/M,T}function y(T,p,S){return function(M,E,P,O){for(var I=[0,0],R=M.shape[0],U=M.shape[1],z=0;z<R;z++)for(var j=0;j<U;j++)P(I,[z,j],O),M.set(z,j,r(E,I[0],I[1]))}(T,p,m,S),T}function x(T,p){for(var S=!1,M=0;M<T.length;M++)if(p===T[M]){S=!0;break}S===!1&&T.push(p)}i.estimateScale=function(T,p){for(var S=1+function(E){if(E.length!==0){for(var P=1,O=0;O<E.length;O++)P=c(P,E[O]);return P}}(p===0?this.calcXnums(T):this.calcYnums(T));S<d;)S*=2;for(;S>g;)S--,S/=h(S),++S<d&&(S=g);var M=Math.round(S/T);return M>1?M:1},i.refineCoords=function(T){for(var p=this.dataScaleX,S=this.dataScaleY,M=T[0].shape[0],E=T[0].shape[1],P=0|Math.floor(T[0].shape[0]*p+1),O=0|Math.floor(T[0].shape[1]*S+1),I=1+M+1,R=1+E+1,U=w(new Float32Array(I*R),[I,R]),z=[1/p,0,0,0,1/S,0,0,0,1],j=0;j<T.length;++j){this.surface.padField(U,T[j]);var W=w(new Float32Array(P*O),[P,O]);y(W,U,z),T[j]=W}},i.setContourLevels=function(){var T,p,S,M=[[],[],[]],E=[!1,!1,!1],P=!1;for(T=0;T<3;++T)if(this.showContour[T]&&(P=!0,this.contourSize[T]>0&&this.contourStart[T]!==null&&this.contourEnd[T]!==null&&this.contourEnd[T]>this.contourStart[T]))for(E[T]=!0,p=this.contourStart[T];p<this.contourEnd[T];p+=this.contourSize[T])S=p*this.scene.dataScale[T],x(M[T],S);if(P){var O=[[],[],[]];for(T=0;T<3;++T)this.showContour[T]&&(O[T]=E[T]?M[T]:this.scene.contourLevels[T]);this.surface.update({levels:O})}},i.update=function(T){var p,S,M,E,P=this.scene,O=P.fullSceneLayout,I=this.surface,R=s(T),U=P.dataScale,z=T.z[0].length,j=T._ylength,W=P.contourLevels;this.data=T;var F=[];for(p=0;p<3;p++)for(F[p]=[],S=0;S<z;S++)F[p][S]=[];for(S=0;S<z;S++)for(M=0;M<j;M++)F[0][S][M]=this.getXat(S,M,T.xcalendar,O.xaxis),F[1][S][M]=this.getYat(S,M,T.ycalendar,O.yaxis),F[2][S][M]=this.getZat(S,M,T.zcalendar,O.zaxis);if(T.connectgaps)for(T._emptypoints=v(F[2]),_(F[2],T._emptypoints),T._interpolatedZ=[],S=0;S<z;S++)for(T._interpolatedZ[S]=[],M=0;M<j;M++)T._interpolatedZ[S][M]=F[2][S][M];for(p=0;p<3;p++)for(S=0;S<z;S++)for(M=0;M<j;M++)(E=F[p][S][M])==null?F[p][S][M]=NaN:E=F[p][S][M]*=U[p];for(p=0;p<3;p++)for(S=0;S<z;S++)for(M=0;M<j;M++)(E=F[p][S][M])!=null&&(this.minValues[p]>E&&(this.minValues[p]=E),this.maxValues[p]<E&&(this.maxValues[p]=E));for(p=0;p<3;p++)this.objectOffset[p]=.5*(this.minValues[p]+this.maxValues[p]);for(p=0;p<3;p++)for(S=0;S<z;S++)for(M=0;M<j;M++)(E=F[p][S][M])!=null&&(F[p][S][M]-=this.objectOffset[p]);var V=[w(new Float32Array(z*j),[z,j]),w(new Float32Array(z*j),[z,j]),w(new Float32Array(z*j),[z,j])];for(p=0;p<3;p++)for(S=0;S<z;S++)for(M=0;M<j;M++)V[p].set(S,M,F[p][S][M]);F=[];var H={colormap:R,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!T.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:T.opacityscale,opacity:T.opacity},te=a(T);if(H.intensityBounds=[te.min,te.max],T.surfacecolor){var Q=w(new Float32Array(z*j),[z,j]);for(S=0;S<z;S++)for(M=0;M<j;M++)Q.set(S,M,T.surfacecolor[M][S]);V.push(Q)}else H.intensityBounds[0]*=U[2],H.intensityBounds[1]*=U[2];(g<V[0].shape[0]||g<V[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(V[0].shape[0],0),this.dataScaleY=this.estimateScale(V[0].shape[1],1),this.dataScaleX===1&&this.dataScaleY===1||this.refineCoords(V)),T.surfacecolor&&(H.intensity=V.pop());var K=[!0,!0,!0],X=["x","y","z"];for(p=0;p<3;++p){var J=T.contours[X[p]];K[p]=J.highlight,H.showContour[p]=J.show||J.highlight,H.showContour[p]&&(H.contourProject[p]=[J.project.x,J.project.y,J.project.z],J.show?(this.showContour[p]=!0,H.levels[p]=W[p],I.highlightColor[p]=H.contourColor[p]=t(J.color),J.usecolormap?I.highlightTint[p]=H.contourTint[p]=0:I.highlightTint[p]=H.contourTint[p]=1,H.contourWidth[p]=J.width,this.contourStart[p]=J.start,this.contourEnd[p]=J.end,this.contourSize[p]=J.size):(this.showContour[p]=!1,this.contourStart[p]=null,this.contourEnd[p]=null,this.contourSize[p]=0),J.highlight&&(H.dynamicColor[p]=t(J.highlightcolor),H.dynamicWidth[p]=J.highlightwidth))}(function(ee){var ie=ee[0].rgb,oe=ee[ee.length-1].rgb;return ie[0]===oe[0]&&ie[1]===oe[1]&&ie[2]===oe[2]&&ie[3]===oe[3]})(R)&&(H.vertexColor=!0),H.objectOffset=this.objectOffset,H.coords=V,I.update(H),I.visible=T.visible,I.enableDynamic=K,I.enableHighlight=K,I.snapToData=!0,"lighting"in T&&(I.ambientLight=T.lighting.ambient,I.diffuseLight=T.lighting.diffuse,I.specularLight=T.lighting.specular,I.roughness=T.lighting.roughness,I.fresnel=T.lighting.fresnel),"lightposition"in T&&(I.lightPosition=[T.lightposition.x,T.lightposition.y,T.lightposition.z])},i.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},B.exports=function(T,p){var S=T.glplot.gl,M=k({gl:S}),E=new n(T,M,p.uid);return M._trace=E,E.update(p),T.glplot.add(M),E}},60192:function(B,L,e){var k=e(24040),w=e(3400),r=e(27260),_=e(16716);function v(s,t,a,n){var i=n("opacityscale");i==="max"?t.opacityscale=[[0,.1],[1,1]]:i==="min"?t.opacityscale=[[0,1],[1,.1]]:i==="extremes"?t.opacityscale=function(l,o){for(var u=[],h=0;h<32;h++){var c=h/31,b=.1+.9*(1-Math.pow(Math.sin(1*c*Math.PI),2));u.push([c,Math.max(0,Math.min(1,b))])}return u}():function(l){var o=0;if(!Array.isArray(l)||l.length<2||!l[0]||!l[l.length-1]||+l[0][0]!=0||+l[l.length-1][0]!=1)return!1;for(var u=0;u<l.length;u++){var h=l[u];if(h.length!==2||+h[0]<o)return!1;o=+h[0]}return!0}(i)||(t.opacityscale=void 0)}function f(s,t,a){t in s&&!(a in s)&&(s[a]=s[t])}B.exports={supplyDefaults:function(s,t,a,n){var i,l;function o(x,T){return w.coerce(s,t,_,x,T)}var u=o("x"),h=o("y"),c=o("z");if(!c||!c.length||u&&u.length<1||h&&h.length<1)t.visible=!1;else{t._xlength=Array.isArray(u)&&w.isArrayOrTypedArray(u[0])?c.length:c[0].length,t._ylength=c.length,k.getComponentMethod("calendars","handleTraceDefaults")(s,t,["x","y","z"],n),o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(x){o(x)});var b=o("surfacecolor"),d=["x","y","z"];for(i=0;i<3;++i){var g="contours."+d[i],m=o(g+".show"),y=o(g+".highlight");if(m||y)for(l=0;l<3;++l)o(g+".project."+d[l]);m&&(o(g+".color"),o(g+".width"),o(g+".usecolormap")),y&&(o(g+".highlightcolor"),o(g+".highlightwidth")),o(g+".start"),o(g+".end"),o(g+".size")}b||(f(s,"zmin","cmin"),f(s,"zmax","cmax"),f(s,"zauto","cauto")),r(s,t,n,o,{prefix:"",cLetter:"c"}),v(0,t,0,o),t._length=null}},opacityscaleDefaults:v}},91304:function(B,L,e){B.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(B,L,e){var k=e(13916),w=e(92880).extendFlat,r=e(67824).overrideAll,_=e(25376),v=e(86968).u,f=e(29736).descriptionOnlyNumbers;(B.exports=r({domain:v({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:f("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:w({},k.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:w({},_({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:f("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:w({},k.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:w({},_({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},85852:function(B,L,e){var k=e(84888)._M,w=e(24752),r="table";L.name=r,L.plot=function(_){var v=k(_.calcdata,r)[0];v.length&&w(_,v)},L.clean=function(_,v,f,s){var t=s._has&&s._has(r),a=v._has&&v._has(r);t&&!a&&s._paperdiv.selectAll(".table").remove()}},39312:function(B,L,e){var k=e(71688).wrap;B.exports=function(){return k({})}},23536:function(B){B.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(B,L,e){var k=e(23536),w=e(92880).extendFlat,r=e(38248),_=e(38116).isTypedArray,v=e(38116).isArrayOrTypedArray;function f(o){if(v(o)){for(var u=0,h=0;h<o.length;h++)u=Math.max(u,f(o[h]));return u}return o}function s(o,u){return o+u}function t(o){var u,h=o.slice(),c=1/0,b=0;for(u=0;u<h.length;u++)_(h[u])?h[u]=Array.from(h[u]):v(h[u])||(h[u]=[h[u]]),c=Math.min(c,h[u].length),b=Math.max(b,h[u].length);if(c!==b)for(u=0;u<h.length;u++){var d=b-h[u].length;d&&(h[u]=h[u].concat(a(d)))}return h}function a(o){for(var u=new Array(o),h=0;h<o;h++)u[h]="";return u}function n(o){return o.calcdata.columns.reduce(function(u,h){return h.xIndex<o.xIndex?u+h.columnWidth:u},0)}function i(o,u){return Object.keys(o).map(function(h){return w({},o[h],{auxiliaryBlocks:u})})}function l(o,u){for(var h,c={},b=0,d=0,g={firstRowIndex:null,lastRowIndex:null,rows:[]},m=0,y=0,x=0;x<o.length;x++)h=o[x],g.rows.push({rowIndex:x,rowHeight:h}),((d+=h)>=u||x===o.length-1)&&(c[b]=g,g.key=y++,g.firstRowIndex=m,g.lastRowIndex=x,g={firstRowIndex:null,lastRowIndex:null,rows:[]},b+=d,m=x+1,d=0);return c}B.exports=function(o,u){var h=t(u.cells.values),c=function(j){return j.slice(u.header.values.length,j.length)},b=t(u.header.values);b.length&&!b[0].length&&(b[0]=[""],b=t(b));var d=b.concat(c(h).map(function(){return a((b[0]||[""]).length)})),g=u.domain,m=Math.floor(o._fullLayout._size.w*(g.x[1]-g.x[0])),y=Math.floor(o._fullLayout._size.h*(g.y[1]-g.y[0])),x=u.header.values.length?d[0].map(function(){return u.header.height}):[k.emptyHeaderHeight],T=h.length?h[0].map(function(){return u.cells.height}):[],p=x.reduce(s,0),S=l(T,y-p+k.uplift),M=i(l(x,p),[]),E=i(S,M),P={},O=u._fullInput.columnorder;v(O)&&(O=Array.from(O)),O=O.concat(c(h.map(function(j,W){return W})));var I=d.map(function(j,W){var F=v(u.columnwidth)?u.columnwidth[Math.min(W,u.columnwidth.length-1)]:u.columnwidth;return r(F)?Number(F):1}),R=I.reduce(s,0);I=I.map(function(j){return j/R*m});var U=Math.max(f(u.header.line.width),f(u.cells.line.width)),z={key:u.uid+o._context.staticPlot,translateX:g.x[0]*o._fullLayout._size.w,translateY:o._fullLayout._size.h*(1-g.y[1]),size:o._fullLayout._size,width:m,maxLineWidth:U,height:y,columnOrder:O,groupHeight:y,rowBlocks:E,headerRowBlocks:M,scrollY:0,cells:w({},u.cells,{values:h}),headerCells:w({},u.header,{values:d}),gdColumns:d.map(function(j){return j[0]}),gdColumnsOriginalOrder:d.map(function(j){return j[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:d.map(function(j,W){var F=P[j];return P[j]=(F||0)+1,{key:j+"__"+P[j],label:j,specIndex:W,xIndex:O[W],xScale:n,x:void 0,calcdata:void 0,columnWidth:I[W]}})};return z.columns.forEach(function(j){j.calcdata=z,j.x=n(j)}),z}},53056:function(B,L,e){var k=e(92880).extendFlat;L.splitToPanels=function(w){var r=[0,0],_=k({},w,{key:"header",type:"header",page:0,prevPages:r,currentRepaint:[null,null],dragHandle:!0,values:w.calcdata.headerCells.values[w.specIndex],rowBlocks:w.calcdata.headerRowBlocks,calcdata:k({},w.calcdata,{cells:w.calcdata.headerCells})});return[k({},w,{key:"cells1",type:"cells",page:0,prevPages:r,currentRepaint:[null,null],dragHandle:!1,values:w.calcdata.cells.values[w.specIndex],rowBlocks:w.calcdata.rowBlocks}),k({},w,{key:"cells2",type:"cells",page:1,prevPages:r,currentRepaint:[null,null],dragHandle:!1,values:w.calcdata.cells.values[w.specIndex],rowBlocks:w.calcdata.rowBlocks}),_]},L.splitToCells=function(w){var r=function(_){var v=_.rowBlocks[_.page],f=v?v.rows[0].rowIndex:0;return[f,v?f+v.rows.length:0]}(w);return(w.values||[]).slice(r[0],r[1]).map(function(_,v){return{keyWithinBlock:v+(typeof _=="string"&&_.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:r[0]+v,column:w,calcdata:w.calcdata,page:w.page,rowBlocks:w.rowBlocks,value:_}})}},53212:function(B,L,e){var k=e(3400),w=e(60520),r=e(86968).Q;B.exports=function(_,v,f,s){function t(a,n){return k.coerce(_,v,w,a,n)}r(v,s,t),t("columnwidth"),t("header.values"),t("header.format"),t("header.align"),t("header.prefix"),t("header.suffix"),t("header.height"),t("header.line.width"),t("header.line.color"),t("header.fill.color"),k.coerceFont(t,"header.font",k.extendFlat({},s.font)),function(a,n){for(var i=a.columnorder||[],l=a.header.values.length,o=i.slice(0,l),u=o.slice().sort(function(b,d){return b-d}),h=o.map(function(b){return u.indexOf(b)}),c=h.length;c<l;c++)h.push(c);n("columnorder",h)}(v,t),t("cells.values"),t("cells.format"),t("cells.align"),t("cells.prefix"),t("cells.suffix"),t("cells.height"),t("cells.line.width"),t("cells.line.color"),t("cells.fill.color"),k.coerceFont(t,"cells.font",k.extendFlat({},s.font)),v._length=null}},41724:function(B,L,e){B.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(B,L,e){var k=e(23536),w=e(33428),r=e(3400),_=r.numberFormat,v=e(71688),f=e(43616),s=e(72736),t=e(3400).raiseToTop,a=e(3400).strTranslate,n=e(3400).cancelTransition,i=e(55992),l=e(53056),o=e(76308);function u(H){return Math.ceil(H.calcdata.maxLineWidth/2)}function h(H,te){return"clip"+H._fullLayout._uid+"_scrollAreaBottomClip_"+te.key}function c(H,te){return"clip"+H._fullLayout._uid+"_columnBoundaryClippath_"+te.calcdata.key+"_"+te.specIndex}function b(H){return[].concat.apply([],H.map(function(te){return te})).map(function(te){return te.__data__})}function d(H,te,Q){var K=H.selectAll("."+k.cn.scrollbarKit).data(v.repeat,v.keyFun);K.enter().append("g").classed(k.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),K.each(function(oe){var ae=oe.scrollbarState;ae.totalHeight=function(ce){var ge=ce.rowBlocks;return j(ge,ge.length-1)+(ge.length?W(ge[ge.length-1],1/0):1)}(oe),ae.scrollableAreaHeight=oe.groupHeight-M(oe),ae.currentlyVisibleHeight=Math.min(ae.totalHeight,ae.scrollableAreaHeight),ae.ratio=ae.currentlyVisibleHeight/ae.totalHeight,ae.barLength=Math.max(ae.ratio*ae.currentlyVisibleHeight,k.goldenRatio*k.scrollbarWidth),ae.barWiggleRoom=ae.currentlyVisibleHeight-ae.barLength,ae.wiggleRoom=Math.max(0,ae.totalHeight-ae.scrollableAreaHeight),ae.topY=ae.barWiggleRoom===0?0:oe.scrollY/ae.wiggleRoom*ae.barWiggleRoom,ae.bottomY=ae.topY+ae.barLength,ae.dragMultiplier=ae.wiggleRoom/ae.barWiggleRoom}).attr("transform",function(oe){var ae=oe.width+k.scrollbarWidth/2+k.scrollbarOffset;return a(ae,M(oe))});var X=K.selectAll("."+k.cn.scrollbar).data(v.repeat,v.keyFun);X.enter().append("g").classed(k.cn.scrollbar,!0);var J=X.selectAll("."+k.cn.scrollbarSlider).data(v.repeat,v.keyFun);J.enter().append("g").classed(k.cn.scrollbarSlider,!0),J.attr("transform",function(oe){return a(0,oe.scrollbarState.topY||0)});var ee=J.selectAll("."+k.cn.scrollbarGlyph).data(v.repeat,v.keyFun);ee.enter().append("line").classed(k.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",k.scrollbarWidth).attr("stroke-linecap","round").attr("y1",k.scrollbarWidth/2),ee.attr("y2",function(oe){return oe.scrollbarState.barLength-k.scrollbarWidth/2}).attr("stroke-opacity",function(oe){return oe.columnDragInProgress||!oe.scrollbarState.barWiggleRoom||Q?0:.4}),ee.transition().delay(0).duration(0),ee.transition().delay(k.scrollbarHideDelay).duration(k.scrollbarHideDuration).attr("stroke-opacity",0);var ie=X.selectAll("."+k.cn.scrollbarCaptureZone).data(v.repeat,v.keyFun);ie.enter().append("line").classed(k.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",k.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(oe){var ae=w.event.y,ce=this.getBoundingClientRect(),ge=oe.scrollbarState,ve=ae-ce.top,be=w.scale.linear().domain([0,ge.scrollableAreaHeight]).range([0,ge.totalHeight]).clamp(!0);ge.topY<=ve&&ve<=ge.bottomY||P(te,H,null,be(ve-ge.barLength/2))(oe)}).call(w.behavior.drag().origin(function(oe){return w.event.stopPropagation(),oe.scrollbarState.scrollbarScrollInProgress=!0,oe}).on("drag",P(te,H)).on("dragend",function(){})),ie.attr("y2",function(oe){return oe.scrollbarState.scrollableAreaHeight}),te._context.staticPlot&&(ee.remove(),ie.remove())}function g(H,te,Q,K){var X=function(ae){var ce=ae.selectAll("."+k.cn.columnCells).data(v.repeat,v.keyFun);return ce.enter().append("g").classed(k.cn.columnCells,!0),ce.exit().remove(),ce}(Q),J=function(ae){var ce=ae.selectAll("."+k.cn.columnCell).data(l.splitToCells,function(ge){return ge.keyWithinBlock});return ce.enter().append("g").classed(k.cn.columnCell,!0),ce.exit().remove(),ce}(X);(function(ae){ae.each(function(ce,ge){var ve=ce.calcdata.cells.font,be=ce.column.specIndex,we={size:x(ve.size,be,ge),color:x(ve.color,be,ge),family:x(ve.family,be,ge)};ce.rowNumber=ce.key,ce.align=x(ce.calcdata.cells.align,be,ge),ce.cellBorderWidth=x(ce.calcdata.cells.line.width,be,ge),ce.font=we})})(J);var ee=function(ae){var ce=ae.selectAll("."+k.cn.cellRect).data(v.repeat,function(ge){return ge.keyWithinBlock});return ce.enter().append("rect").classed(k.cn.cellRect,!0),ce}(J);(function(ae){ae.attr("width",function(ce){return ce.column.columnWidth}).attr("stroke-width",function(ce){return ce.cellBorderWidth}).each(function(ce){var ge=w.select(this);o.stroke(ge,x(ce.calcdata.cells.line.color,ce.column.specIndex,ce.rowNumber)),o.fill(ge,x(ce.calcdata.cells.fill.color,ce.column.specIndex,ce.rowNumber))})})(ee);var ie=function(ae){var ce=ae.selectAll("."+k.cn.cellTextHolder).data(v.repeat,function(ge){return ge.keyWithinBlock});return ce.enter().append("g").classed(k.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),ce}(J),oe=function(ae){var ce=ae.selectAll("."+k.cn.cellText).data(v.repeat,function(ge){return ge.keyWithinBlock});return ce.enter().append("text").classed(k.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){w.event.stopPropagation()}),ce}(ie);(function(ae){ae.each(function(ce){f.font(w.select(this),ce.font)})})(oe),m(oe,te,K,H),z(J)}function m(H,te,Q,K){H.text(function(X){var J=X.column.specIndex,ee=X.rowNumber,ie=X.value,oe=typeof ie=="string",ae=oe&&ie.match(/<br>/i),ce=!oe||ae;X.mayHaveMarkup=oe&&ie.match(/[<&>]/);var ge,ve=typeof(ge=ie)=="string"&&ge.match(k.latexCheck);X.latex=ve;var be,we,ye=ve?"":x(X.calcdata.cells.prefix,J,ee)||"",me=ve?"":x(X.calcdata.cells.suffix,J,ee)||"",Ae=ve?null:x(X.calcdata.cells.format,J,ee)||null,ke=ye+(Ae?_(Ae)(X.value):X.value)+me;if(X.wrappingNeeded=!X.wrapped&&!ce&&!ve&&(be=y(ke)),X.cellHeightMayIncrease=ae||ve||X.mayHaveMarkup||(be===void 0?y(ke):be),X.needsConvertToTspans=X.mayHaveMarkup||X.wrappingNeeded||X.latex,X.wrappingNeeded){var fe=(k.wrapSplitCharacter===" "?ke.replace(/<a href=/gi,"<a_href="):ke).split(k.wrapSplitCharacter),le=k.wrapSplitCharacter===" "?fe.map(function(de){return de.replace(/<a_href=/gi,"<a href=")}):fe;X.fragments=le.map(function(de){return{text:de,width:null}}),X.fragments.push({fragment:k.wrapSpacer,width:null}),we=le.join(k.lineBreaker)+k.lineBreaker+k.wrapSpacer}else delete X.fragments,we=ke;return we}).attr("dy",function(X){return X.needsConvertToTspans?0:"0.75em"}).each(function(X){var J=this,ee=w.select(J),ie=X.wrappingNeeded?I:R;X.needsConvertToTspans?s.convertToTspans(ee,K,ie(Q,J,te,K,X)):w.select(J.parentNode).attr("transform",function(oe){return a(U(oe),k.cellPad)}).attr("text-anchor",function(oe){return{left:"start",center:"middle",right:"end"}[oe.align]})})}function y(H){return H.indexOf(k.wrapSplitCharacter)!==-1}function x(H,te,Q){if(r.isArrayOrTypedArray(H)){var K=H[Math.min(te,H.length-1)];return r.isArrayOrTypedArray(K)?K[Math.min(Q,K.length-1)]:K}return H}function T(H,te,Q){H.transition().ease(k.releaseTransitionEase).duration(k.releaseTransitionDuration).attr("transform",a(te.x,Q))}function p(H){return H.type==="cells"}function S(H){return H.type==="header"}function M(H){return(H.rowBlocks.length?H.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(te,Q){return te+W(Q,1/0)},0)}function E(H,te,Q){var K=b(te)[0];if(K!==void 0){var X=K.rowBlocks,J=K.calcdata,ee=j(X,X.length),ie=K.calcdata.groupHeight-M(K),oe=J.scrollY=Math.max(0,Math.min(ee-ie,J.scrollY)),ae=function(ce,ge,ve){for(var be=[],we=0,ye=0;ye<ce.length;ye++){for(var me=ce[ye],Ae=me.rows,ke=0,fe=0;fe<Ae.length;fe++)ke+=Ae[fe].rowHeight;me.allRowsHeight=ke,ge<we+ke&&ge+ve>we&&be.push(ye),we+=ke}return be}(X,oe,ie);ae.length===1&&(ae[0]===X.length-1?ae.unshift(ae[0]-1):ae.push(ae[0]+1)),ae[0]%2&&ae.reverse(),te.each(function(ce,ge){ce.page=ae[ge],ce.scrollY=oe}),te.attr("transform",function(ce){var ge=j(ce.rowBlocks,ce.page)-ce.scrollY;return a(0,ge)}),H&&(O(H,Q,te,ae,K.prevPages,K,0),O(H,Q,te,ae,K.prevPages,K,1),d(Q,H))}}function P(H,te,Q,K){return function(X){var J=X.calcdata?X.calcdata:X,ee=te.filter(function(ce){return J.key===ce.key}),ie=Q||J.scrollbarState.dragMultiplier,oe=J.scrollY;J.scrollY=K===void 0?J.scrollY+ie*w.event.dy:K;var ae=ee.selectAll("."+k.cn.yColumn).selectAll("."+k.cn.columnBlock).filter(p);return E(H,ae,ee),J.scrollY===oe}}function O(H,te,Q,K,X,J,ee){K[ee]!==X[ee]&&(clearTimeout(J.currentRepaint[ee]),J.currentRepaint[ee]=setTimeout(function(){var ie=Q.filter(function(oe,ae){return ae===ee&&K[ae]!==X[ae]});g(H,te,ie,Q),X[ee]=K[ee]}))}function I(H,te,Q,K){return function(){var X=w.select(te.parentNode);X.each(function(J){var ee=J.fragments;X.selectAll("tspan.line").each(function(we,ye){ee[ye].width=this.getComputedTextLength()});var ie,oe,ae=ee[ee.length-1].width,ce=ee.slice(0,-1),ge=[],ve=0,be=J.column.columnWidth-2*k.cellPad;for(J.value="";ce.length;)ve+(oe=(ie=ce.shift()).width+ae)>be&&(J.value+=ge.join(k.wrapSpacer)+k.lineBreaker,ge=[],ve=0),ge.push(ie.text),ve+=oe;ve&&(J.value+=ge.join(k.wrapSpacer)),J.wrapped=!0}),X.selectAll("tspan.line").remove(),m(X.select("."+k.cn.cellText),Q,H,K),w.select(te.parentNode.parentNode).call(z)}}function R(H,te,Q,K,X){return function(){if(!X.settledY){var J=w.select(te.parentNode),ee=V(X),ie=X.key-ee.firstRowIndex,oe=ee.rows[ie].rowHeight,ae=X.cellHeightMayIncrease?te.parentNode.getBoundingClientRect().height+2*k.cellPad:oe,ce=Math.max(ae,oe);ce-ee.rows[ie].rowHeight&&(ee.rows[ie].rowHeight=ce,H.selectAll("."+k.cn.columnCell).call(z),E(null,H.filter(p),0),d(Q,K,!0)),J.attr("transform",function(){var ge=this,ve=ge.parentNode.getBoundingClientRect(),be=w.select(ge.parentNode).select("."+k.cn.cellRect).node().getBoundingClientRect(),we=ge.transform.baseVal.consolidate(),ye=be.top-ve.top+(we?we.matrix.f:k.cellPad);return a(U(X,w.select(ge.parentNode).select("."+k.cn.cellTextHolder).node().getBoundingClientRect().width),ye)}),X.settledY=!0}}}function U(H,te){switch(H.align){case"left":default:return k.cellPad;case"right":return H.column.columnWidth-(te||0)-k.cellPad;case"center":return(H.column.columnWidth-(te||0))/2}}function z(H){H.attr("transform",function(te){var Q=te.rowBlocks[0].auxiliaryBlocks.reduce(function(X,J){return X+W(J,1/0)},0),K=W(V(te),te.key);return a(0,K+Q)}).selectAll("."+k.cn.cellRect).attr("height",function(te){return(Q=V(te),K=te.key,Q.rows[K-Q.firstRowIndex]).rowHeight;var Q,K})}function j(H,te){for(var Q=0,K=te-1;K>=0;K--)Q+=F(H[K]);return Q}function W(H,te){for(var Q=0,K=0;K<H.rows.length&&H.rows[K].rowIndex<te;K++)Q+=H.rows[K].rowHeight;return Q}function F(H){var te=H.allRowsHeight;if(te!==void 0)return te;for(var Q=0,K=0;K<H.rows.length;K++)Q+=H.rows[K].rowHeight;return H.allRowsHeight=Q,Q}function V(H){return H.rowBlocks[H.page]}B.exports=function(H,te){var Q=!H._context.staticPlot,K=H._fullLayout._paper.selectAll("."+k.cn.table).data(te.map(function(me){var Ae=v.unwrap(me).trace;return i(H,Ae)}),v.keyFun);K.exit().remove(),K.enter().append("g").classed(k.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),K.attr("width",function(me){return me.width+me.size.l+me.size.r}).attr("height",function(me){return me.height+me.size.t+me.size.b}).attr("transform",function(me){return a(me.translateX,me.translateY)});var X=K.selectAll("."+k.cn.tableControlView).data(v.repeat,v.keyFun),J=X.enter().append("g").classed(k.cn.tableControlView,!0).style("box-sizing","content-box");if(Q){var ee="onwheel"in document?"wheel":"mousewheel";J.on("mousemove",function(me){X.filter(function(Ae){return me===Ae}).call(d,H)}).on(ee,function(me){if(!me.scrollbarState.wheeling){me.scrollbarState.wheeling=!0;var Ae=me.scrollY+w.event.deltaY;P(H,X,null,Ae)(me)||(w.event.stopPropagation(),w.event.preventDefault()),me.scrollbarState.wheeling=!1}}).call(d,H,!0)}X.attr("transform",function(me){return a(me.size.l,me.size.t)});var ie=X.selectAll("."+k.cn.scrollBackground).data(v.repeat,v.keyFun);ie.enter().append("rect").classed(k.cn.scrollBackground,!0).attr("fill","none"),ie.attr("width",function(me){return me.width}).attr("height",function(me){return me.height}),X.each(function(me){f.setClipUrl(w.select(this),h(H,me),H)});var oe=X.selectAll("."+k.cn.yColumn).data(function(me){return me.columns},v.keyFun);oe.enter().append("g").classed(k.cn.yColumn,!0),oe.exit().remove(),oe.attr("transform",function(me){return a(me.x,0)}),Q&&oe.call(w.behavior.drag().origin(function(me){return T(w.select(this),me,-k.uplift),t(this),me.calcdata.columnDragInProgress=!0,d(X.filter(function(Ae){return me.calcdata.key===Ae.key}),H),me}).on("drag",function(me){var Ae=w.select(this),ke=function(fe){return(me===fe?w.event.x:fe.x)+fe.columnWidth/2};me.x=Math.max(-k.overdrag,Math.min(me.calcdata.width+k.overdrag-me.columnWidth,w.event.x)),b(oe).filter(function(fe){return fe.calcdata.key===me.calcdata.key}).sort(function(fe,le){return ke(fe)-ke(le)}).forEach(function(fe,le){fe.xIndex=le,fe.x=me===fe?fe.x:fe.xScale(fe)}),oe.filter(function(fe){return me!==fe}).transition().ease(k.transitionEase).duration(k.transitionDuration).attr("transform",function(fe){return a(fe.x,0)}),Ae.call(n).attr("transform",a(me.x,-k.uplift))}).on("dragend",function(me){var Ae=w.select(this),ke=me.calcdata;me.x=me.xScale(me),me.calcdata.columnDragInProgress=!1,T(Ae,me,0),function(fe,le,de){var Ce=le.gdColumnsOriginalOrder;le.gdColumns.sort(function(Me,Le){return de[Ce.indexOf(Me)]-de[Ce.indexOf(Le)]}),le.columnorder=de,fe.emit("plotly_restyle")}(H,ke,ke.columns.map(function(fe){return fe.xIndex}))})),oe.each(function(me){f.setClipUrl(w.select(this),c(H,me),H)});var ae=oe.selectAll("."+k.cn.columnBlock).data(l.splitToPanels,v.keyFun);ae.enter().append("g").classed(k.cn.columnBlock,!0).attr("id",function(me){return me.key}),ae.style("cursor",function(me){return me.dragHandle?"ew-resize":me.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var ce=ae.filter(S),ge=ae.filter(p);Q&&ge.call(w.behavior.drag().origin(function(me){return w.event.stopPropagation(),me}).on("drag",P(H,X,-1)).on("dragend",function(){})),g(H,X,ce,ae),g(H,X,ge,ae);var ve=X.selectAll("."+k.cn.scrollAreaClip).data(v.repeat,v.keyFun);ve.enter().append("clipPath").classed(k.cn.scrollAreaClip,!0).attr("id",function(me){return h(H,me)});var be=ve.selectAll("."+k.cn.scrollAreaClipRect).data(v.repeat,v.keyFun);be.enter().append("rect").classed(k.cn.scrollAreaClipRect,!0).attr("x",-k.overdrag).attr("y",-k.uplift).attr("fill","none"),be.attr("width",function(me){return me.width+2*k.overdrag}).attr("height",function(me){return me.height+k.uplift}),oe.selectAll("."+k.cn.columnBoundary).data(v.repeat,v.keyFun).enter().append("g").classed(k.cn.columnBoundary,!0);var we=oe.selectAll("."+k.cn.columnBoundaryClippath).data(v.repeat,v.keyFun);we.enter().append("clipPath").classed(k.cn.columnBoundaryClippath,!0),we.attr("id",function(me){return c(H,me)});var ye=we.selectAll("."+k.cn.columnBoundaryRect).data(v.repeat,v.keyFun);ye.enter().append("rect").classed(k.cn.columnBoundaryRect,!0).attr("fill","none"),ye.attr("width",function(me){return me.columnWidth+2*u(me)}).attr("height",function(me){return me.calcdata.height+2*u(me)+k.uplift}).attr("x",function(me){return-u(me)}).attr("y",function(me){return-u(me)}),E(null,ge,X)}},40516:function(B,L,e){var k=e(21776).Ks,w=e(21776).Gw,r=e(49084),_=e(86968).u,v=e(74996),f=e(424),s=e(32984),t=e(92880).extendFlat,a=e(98192).c;B.exports={labels:f.labels,parents:f.parents,values:f.values,branchvalues:f.branchvalues,count:f.count,level:f.level,maxdepth:f.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:f.marker.colors,pattern:a,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:f.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},r("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},v.textfont,{}),editType:"calc"},text:v.text,textinfo:f.textinfo,texttemplate:w({editType:"plot"},{keys:s.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:f.hoverinfo,hovertemplate:k({},{keys:s.eventDataKeys}),textfont:v.textfont,insidetextfont:v.insidetextfont,outsidetextfont:t({},v.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:v.sort,root:f.root,domain:_({name:"treemap",trace:!0,editType:"calc"})}},79516:function(B,L,e){var k=e(7316);L.name="treemap",L.plot=function(w,r,_,v){k.plotBasePlot(L.name,w,r,_,v)},L.clean=function(w,r,_,v){k.cleanBasePlot(L.name,w,r,_,v)}},97840:function(B,L,e){var k=e(3776);L.r=function(w,r){return k.calc(w,r)},L.q=function(w){return k._runCrossTraceCalc("treemap",w)}},32984:function(B){B.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(B,L,e){var k=e(3400),w=e(40516),r=e(76308),_=e(86968).Q,v=e(31508).handleText,f=e(78048).TEXTPAD,s=e(74174).handleMarkerDefaults,t=e(8932),a=t.hasColorscale,n=t.handleDefaults;B.exports=function(i,l,o,u){function h(T,p){return k.coerce(i,l,w,T,p)}var c=h("labels"),b=h("parents");if(c&&c.length&&b&&b.length){var d=h("values");d&&d.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.packing")==="squarify"&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var g=h("text");h("texttemplate"),l.texttemplate||h("textinfo",k.isArrayOrTypedArray(g)?"text+label":"label"),h("hovertext"),h("hovertemplate");var m=h("pathbar.visible");v(i,l,u,h,"auto",{hasPathbar:m,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var y=l.textposition.indexOf("bottom")!==-1;s(i,l,u,h),(l._hasColorscale=a(i,"marker","colors")||(i.marker||{}).coloraxis)?n(i,l,u,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(l.marker.colors||[]).length);var x=2*l.textfont.size;h("marker.pad.t",y?x/4:x),h("marker.pad.l",x/4),h("marker.pad.r",x/4),h("marker.pad.b",y?x:x/4),h("marker.cornerradius"),l._hovered={marker:{line:{width:2,color:r.contrast(u.paper_bgcolor)}}},m&&(h("pathbar.thickness",l.pathbar.textfont.size+2*f),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),_(l,u,h),l._length=null}else l.visible=!1}},95808:function(B,L,e){var k=e(33428),w=e(78176),r=e(82744).clearMinTextSize,_=e(60100).resizeText,v=e(52960);B.exports=function(f,s,t,a,n){var i,l,o=n.type,u=n.drawDescendants,h=f._fullLayout,c=h["_"+o+"layer"],b=!t;r(o,h),(i=c.selectAll("g.trace."+o).data(s,function(d){return d[0].trace.uid})).enter().append("g").classed("trace",!0).classed(o,!0),i.order(),!h.uniformtext.mode&&w.hasTransition(t)?(a&&(l=a()),k.transition().duration(t.duration).ease(t.easing).each("end",function(){l&&l()}).each("interrupt",function(){l&&l()}).each(function(){c.selectAll("g.trace").each(function(d){v(f,d,this,t,u)})})):(i.each(function(d){v(f,d,this,t,u)}),h.uniformtext.mode&&_(f,c.selectAll(".trace"),o)),b&&i.exit().remove()}},27336:function(B,L,e){var k=e(33428),w=e(3400),r=e(43616),_=e(72736),v=e(13832),f=e(66192).styleOne,s=e(32984),t=e(78176),a=e(45716),n=!0;B.exports=function(i,l,o,u,h){var c=h.barDifY,b=h.width,d=h.height,g=h.viewX,m=h.viewY,y=h.pathSlice,x=h.toMoveInsideSlice,T=h.strTransform,p=h.hasTransition,S=h.handleSlicesExit,M=h.makeUpdateSliceInterpolator,E=h.makeUpdateTextInterpolator,P={},O=i._context.staticPlot,I=i._fullLayout,R=l[0],U=R.trace,z=R.hierarchy,j=b/U._entryDepth,W=t.listPath(o.data,"id"),F=v(z.copy(),[b,d],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(F=F.filter(function(H){var te=W.indexOf(H.data.id);return te!==-1&&(H.x0=j*te,H.x1=j*(te+1),H.y0=c,H.y1=c+d,H.onPathbar=!0,!0)})).reverse(),(u=u.data(F,t.getPtId)).enter().append("g").classed("pathbar",!0),S(u,n,P,[b,d],y),u.order();var V=u;p&&(V=V.transition().each("end",function(){var H=k.select(this);t.setSliceCursor(H,i,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),V.each(function(H){H._x0=g(H.x0),H._x1=g(H.x1),H._y0=m(H.y0),H._y1=m(H.y1),H._hoverX=g(H.x1-Math.min(b,d)/2),H._hoverY=m(H.y1-d/2);var te=k.select(this),Q=w.ensureSingle(te,"path","surface",function(ee){ee.style("pointer-events",O?"none":"all")});p?Q.transition().attrTween("d",function(ee){var ie=M(ee,n,P,[b,d]);return function(oe){return y(ie(oe))}}):Q.attr("d",y),te.call(a,o,i,l,{styleOne:f,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,i,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:i._transitioning}),Q.call(f,H,U,i,{hovered:!1}),H._text=(t.getPtLabel(H)||"").split("<br>").join(" ")||"";var K=w.ensureSingle(te,"g","slicetext"),X=w.ensureSingle(K,"text","",function(ee){ee.attr("data-notex",1)}),J=w.ensureUniformFontSize(i,t.determineTextFont(U,H,I.font,{onPathbar:!0}));X.text(H._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(r.font,J).call(_.convertToTspans,i),H.textBB=r.bBox(X.node()),H.transform=x(H,{fontSize:J.size,onPathbar:!0}),H.transform.fontSize=J.size,p?X.transition().attrTween("transform",function(ee){var ie=E(ee,n,P,[b,d]);return function(oe){return T(ie(oe))}}):X.attr("transform",T(H))})}},76477:function(B,L,e){var k=e(33428),w=e(3400),r=e(43616),_=e(72736),v=e(13832),f=e(66192).styleOne,s=e(32984),t=e(78176),a=e(45716),n=e(96488).formatSliceLabel,i=!1;B.exports=function(l,o,u,h,c){var b=c.width,d=c.height,g=c.viewX,m=c.viewY,y=c.pathSlice,x=c.toMoveInsideSlice,T=c.strTransform,p=c.hasTransition,S=c.handleSlicesExit,M=c.makeUpdateSliceInterpolator,E=c.makeUpdateTextInterpolator,P=c.prevEntry,O=l._context.staticPlot,I=l._fullLayout,R=o[0].trace,U=R.textposition.indexOf("left")!==-1,z=R.textposition.indexOf("right")!==-1,j=R.textposition.indexOf("bottom")!==-1,W=!j&&!R.marker.pad.t||j&&!R.marker.pad.b,F=v(u,[b,d],{packing:R.tiling.packing,squarifyratio:R.tiling.squarifyratio,flipX:R.tiling.flip.indexOf("x")>-1,flipY:R.tiling.flip.indexOf("y")>-1,pad:{inner:R.tiling.pad,top:R.marker.pad.t,left:R.marker.pad.l,right:R.marker.pad.r,bottom:R.marker.pad.b}}).descendants(),V=1/0,H=-1/0;F.forEach(function(J){var ee=J.depth;ee>=R._maxDepth?(J.x0=J.x1=(J.x0+J.x1)/2,J.y0=J.y1=(J.y0+J.y1)/2):(V=Math.min(V,ee),H=Math.max(H,ee))}),h=h.data(F,t.getPtId),R._maxVisibleLayers=isFinite(H)?H-V+1:0,h.enter().append("g").classed("slice",!0),S(h,i,{},[b,d],y),h.order();var te=null;if(p&&P){var Q=t.getPtId(P);h.each(function(J){te===null&&t.getPtId(J)===Q&&(te={x0:J.x0,x1:J.x1,y0:J.y0,y1:J.y1})})}var K=function(){return te||{x0:0,x1:b,y0:0,y1:d}},X=h;return p&&(X=X.transition().each("end",function(){var J=k.select(this);t.setSliceCursor(J,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),X.each(function(J){var ee=t.isHeader(J,R);J._x0=g(J.x0),J._x1=g(J.x1),J._y0=m(J.y0),J._y1=m(J.y1),J._hoverX=g(J.x1-R.marker.pad.r),J._hoverY=m(j?J.y1-R.marker.pad.b/2:J.y0+R.marker.pad.t/2);var ie=k.select(this),oe=w.ensureSingle(ie,"path","surface",function(we){we.style("pointer-events",O?"none":"all")});p?oe.transition().attrTween("d",function(we){var ye=M(we,i,K(),[b,d]);return function(me){return y(ye(me))}}):oe.attr("d",y),ie.call(a,u,l,o,{styleOne:f,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,l,{isTransitioning:l._transitioning}),oe.call(f,J,R,l,{hovered:!1}),J.x0===J.x1||J.y0===J.y1?J._text="":J._text=ee?W?"":t.getPtLabel(J)||"":n(J,u,R,o,I)||"";var ae=w.ensureSingle(ie,"g","slicetext"),ce=w.ensureSingle(ae,"text","",function(we){we.attr("data-notex",1)}),ge=w.ensureUniformFontSize(l,t.determineTextFont(R,J,I.font)),ve=J._text||" ",be=ee&&ve.indexOf("<br>")===-1;ce.text(ve).classed("slicetext",!0).attr("text-anchor",z?"end":U||be?"start":"middle").call(r.font,ge).call(_.convertToTspans,l),J.textBB=r.bBox(ce.node()),J.transform=x(J,{fontSize:ge.size,isHeader:ee}),J.transform.fontSize=ge.size,p?ce.transition().attrTween("transform",function(we){var ye=E(we,i,K(),[b,d]);return function(me){return T(ye(me))}}):ce.attr("transform",T(J))}),te}},83024:function(B){B.exports=function L(e,k,w){var r;w.swapXY&&(r=e.x0,e.x0=e.y0,e.y0=r,r=e.x1,e.x1=e.y1,e.y1=r),w.flipX&&(r=e.x0,e.x0=k[0]-e.x1,e.x1=k[0]-r),w.flipY&&(r=e.y0,e.y0=k[1]-e.y1,e.y1=k[1]-r);var _=e.children;if(_)for(var v=0;v<_.length;v++)L(_[v],k,w)}},31991:function(B,L,e){B.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(B){B.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(B,L,e){var k=e(3400),w=e(45392);B.exports=function(r,_){function v(f,s){return k.coerce(r,_,w,f,s)}v("treemapcolorway",_.colorway),v("extendtreemapcolors")}},13832:function(B,L,e){var k=e(74148),w=e(83024);B.exports=function(r,_,v){var f,s=v.flipX,t=v.flipY,a=v.packing==="dice-slice",n=v.pad[t?"bottom":"top"],i=v.pad[s?"right":"left"],l=v.pad[s?"left":"right"],o=v.pad[t?"top":"bottom"];a&&(f=i,i=n,n=f,f=l,l=o,o=f);var u=k.treemap().tile(function(h,c){switch(h){case"squarify":return k.treemapSquarify.ratio(c);case"binary":return k.treemapBinary;case"dice":return k.treemapDice;case"slice":return k.treemapSlice;default:return k.treemapSliceDice}}(v.packing,v.squarifyratio)).paddingInner(v.pad.inner).paddingLeft(i).paddingRight(l).paddingTop(n).paddingBottom(o).size(a?[_[1],_[0]]:_)(r);return(a||s||t)&&w(u,_,{swapXY:a,flipX:s,flipY:t}),u}},53264:function(B,L,e){var k=e(95808),w=e(76477);B.exports=function(r,_,v,f){return k(r,_,v,f,{type:"treemap",drawDescendants:w})}},52960:function(B,L,e){var k=e(33428),w=e(67756).qy,r=e(78176),_=e(3400),v=e(78048).TEXTPAD,f=e(98184).toMoveInsideBar,s=e(82744).recordMinTextSize,t=e(32984),a=e(27336);function n(i){return r.isHierarchyRoot(i)?"":r.getPtId(i)}B.exports=function(i,l,o,u,h){var c=i._fullLayout,b=l[0],d=b.trace,g=d.type==="icicle",m=b.hierarchy,y=r.findEntryWithLevel(m,d.level),x=k.select(o),T=x.selectAll("g.pathbar"),p=x.selectAll("g.slice");if(!y)return T.remove(),void p.remove();var S=r.isHierarchyRoot(y),M=!c.uniformtext.mode&&r.hasTransition(u),E=r.getMaxDepth(d),P=c._size,O=d.domain,I=P.w*(O.x[1]-O.x[0]),R=P.h*(O.y[1]-O.y[0]),U=I,z=d.pathbar.thickness,j=d.marker.line.width+t.gapWithPathbar,W=d.pathbar.visible?d.pathbar.side.indexOf("bottom")>-1?R+j:-(z+j):0,F={x0:U,x1:U,y0:W,y1:W+z},V=function(Te,Re,Ne){var ze=d.tiling.pad,Ge=function(ot){return ot-ze<=Re.x0},Ye=function(ot){return ot+ze>=Re.x1},et=function(ot){return ot-ze<=Re.y0},ut=function(ot){return ot+ze>=Re.y1};return Te.x0===Re.x0&&Te.x1===Re.x1&&Te.y0===Re.y0&&Te.y1===Re.y1?{x0:Te.x0,x1:Te.x1,y0:Te.y0,y1:Te.y1}:{x0:Ge(Te.x0-ze)?0:Ye(Te.x0-ze)?Ne[0]:Te.x0,x1:Ge(Te.x1+ze)?0:Ye(Te.x1+ze)?Ne[0]:Te.x1,y0:et(Te.y0-ze)?0:ut(Te.y0-ze)?Ne[1]:Te.y0,y1:et(Te.y1+ze)?0:ut(Te.y1+ze)?Ne[1]:Te.y1}},H=null,te={},Q={},K=null,X=function(Te,Re){return Re?te[n(Te)]:Q[n(Te)]};b.hasMultipleRoots&&S&&E++,d._maxDepth=E,d._backgroundColor=c.paper_bgcolor,d._entryDepth=y.data.depth,d._atRootLevel=S;var J=-I/2+P.l+P.w*(O.x[1]+O.x[0])/2,ee=-R/2+P.t+P.h*(1-(O.y[1]+O.y[0])/2),ie=function(Te){return J+Te},oe=function(Te){return ee+Te},ae=oe(0),ce=ie(0),ge=function(Te){return ce+Te},ve=function(Te){return ae+Te};function be(Te,Re){return Te+","+Re}var we=ge(0),ye=function(Te){Te.x=Math.max(we,Te.x)},me=d.pathbar.edgeshape,Ae=d[g?"tiling":"marker"].pad,ke=function(Te){return d.textposition.indexOf(Te)!==-1},fe=ke("top"),le=ke("left"),de=ke("right"),Ce=ke("bottom"),Me=function(Te,Re){var Ne=Te.x0,ze=Te.x1,Ge=Te.y0,Ye=Te.y1,et=Te.textBB,ut=fe||Re.isHeader&&!Ce?"start":Ce?"end":"middle",ot=ke("right"),yt=ke("left")||Re.onPathbar?-1:ot?1:0;if(Re.isHeader){if((Ne+=(g?Ae:Ae.l)-v)>=(ze-=(g?Ae:Ae.r)-v)){var wt=(Ne+ze)/2;Ne=wt,ze=wt}var bt;Ce?Ge<(bt=Ye-(g?Ae:Ae.b))&&bt<Ye&&(Ge=bt):Ge<(bt=Ge+(g?Ae:Ae.t))&&bt<Ye&&(Ye=bt)}var at=f(Ne,ze,Ge,Ye,et,{isHorizontal:!1,constrained:!0,angle:0,anchor:ut,leftToRight:yt});return at.fontSize=Re.fontSize,at.targetX=ie(at.targetX),at.targetY=oe(at.targetY),isNaN(at.targetX)||isNaN(at.targetY)?{}:(Ne!==ze&&Ge!==Ye&&s(d.type,at,c),{scale:at.scale,rotate:at.rotate,textX:at.textX,textY:at.textY,anchorX:at.anchorX,anchorY:at.anchorY,targetX:at.targetX,targetY:at.targetY})},Le=function(Te,Re){for(var Ne,ze=0,Ge=Te;!Ne&&ze<E;)ze++,(Ge=Ge.parent)?Ne=X(Ge,Re):ze=E;return Ne||{}},Oe=function(Te,Re,Ne,ze,Ge){var Ye,et=X(Te,Re);if(et)Ye=et;else if(Re)Ye=F;else if(H)if(Te.parent){var ut=K||Ne;ut&&!Re?Ye=V(Te,ut,ze):(Ye={},_.extendFlat(Ye,Le(Te,Re)))}else Ye=_.extendFlat({},Te),g&&(Ge.orientation==="h"?Ge.flipX?Ye.x0=Te.x1:Ye.x1=0:Ge.flipY?Ye.y0=Te.y1:Ye.y1=0);else Ye={};return w(Ye,{x0:Te.x0,x1:Te.x1,y0:Te.y0,y1:Te.y1})},Be=function(Te,Re,Ne,ze){var Ge=X(Te,Re),Ye={},et=function(ot,yt,wt,bt){if(yt)return te[n(m)]||F;var at=Q[d.level]||wt;return function(rt){return rt.data.depth-y.data.depth<E}(ot)?V(ot,at,bt):{}}(Te,Re,Ne,ze);_.extendFlat(Ye,{transform:Me({x0:et.x0,x1:et.x1,y0:et.y0,y1:et.y1,textBB:Te.textBB,_text:Te._text},{isHeader:r.isHeader(Te,d)})}),Ge?Ye=Ge:Te.parent&&_.extendFlat(Ye,Le(Te,Re));var ut=Te.transform;return Te.x0!==Te.x1&&Te.y0!==Te.y1&&s(d.type,ut,c),w(Ye,{transform:{scale:ut.scale,rotate:ut.rotate,textX:ut.textX,textY:ut.textY,anchorX:ut.anchorX,anchorY:ut.anchorY,targetX:ut.targetX,targetY:ut.targetY}})},pe=function(Te,Re,Ne,ze,Ge){var Ye=ze[0],et=ze[1];M?Te.exit().transition().each(function(){var ut=k.select(this);ut.select("path.surface").transition().attrTween("d",function(ot){var yt=function(wt,bt,at,rt){var At,Rt=X(wt,bt);if(bt)At=F;else{var Ft=X(y,bt);At=Ft?V(wt,Ft,rt):{}}return w(Rt,At)}(ot,Re,0,[Ye,et]);return function(wt){return Ge(yt(wt))}}),ut.select("g.slicetext").attr("opacity",0)}).remove():Te.exit().remove()},_e=function(Te){var Re=Te.transform;return Te.x0!==Te.x1&&Te.y0!==Te.y1&&s(d.type,Re,c),_.getTextTransform({textX:Re.textX,textY:Re.textY,anchorX:Re.anchorX,anchorY:Re.anchorY,targetX:Re.targetX,targetY:Re.targetY,scale:Re.scale,rotate:Re.rotate})};M&&(T.each(function(Te){te[n(Te)]={x0:Te.x0,x1:Te.x1,y0:Te.y0,y1:Te.y1},Te.transform&&(te[n(Te)].transform={textX:Te.transform.textX,textY:Te.transform.textY,anchorX:Te.transform.anchorX,anchorY:Te.transform.anchorY,targetX:Te.transform.targetX,targetY:Te.transform.targetY,scale:Te.transform.scale,rotate:Te.transform.rotate})}),p.each(function(Te){Q[n(Te)]={x0:Te.x0,x1:Te.x1,y0:Te.y0,y1:Te.y1},Te.transform&&(Q[n(Te)].transform={textX:Te.transform.textX,textY:Te.transform.textY,anchorX:Te.transform.anchorX,anchorY:Te.transform.anchorY,targetX:Te.transform.targetX,targetY:Te.transform.targetY,scale:Te.transform.scale,rotate:Te.transform.rotate}),!H&&r.isEntry(Te)&&(H=Te)})),K=h(i,l,y,p,{width:I,height:R,viewX:ie,viewY:oe,pathSlice:function(Te){var Re=ie(Te.x0),Ne=ie(Te.x1),ze=oe(Te.y0),Ge=oe(Te.y1),Ye=Ne-Re,et=Ge-ze;if(!Ye||!et)return"";var ut=d.marker.cornerradius||0,ot=Math.min(ut,Ye/2,et/2);ot&&Te.data&&Te.data.data&&Te.data.data.label&&(fe&&(ot=Math.min(ot,Ae.t)),le&&(ot=Math.min(ot,Ae.l)),de&&(ot=Math.min(ot,Ae.r)),Ce&&(ot=Math.min(ot,Ae.b)));var yt=function(wt,bt){return ot?"a"+be(ot,ot)+" 0 0 1 "+be(wt,bt):""};return"M"+be(Re,ze+ot)+yt(ot,-ot)+"L"+be(Ne-ot,ze)+yt(ot,ot)+"L"+be(Ne,Ge-ot)+yt(-ot,ot)+"L"+be(Re+ot,Ge)+yt(-ot,-ot)+"Z"},toMoveInsideSlice:Me,prevEntry:H,makeUpdateSliceInterpolator:Oe,makeUpdateTextInterpolator:Be,handleSlicesExit:pe,hasTransition:M,strTransform:_e}),d.pathbar.visible?a(i,l,y,T,{barDifY:W,width:U,height:z,viewX:ge,viewY:ve,pathSlice:function(Te){var Re=ge(Math.max(Math.min(Te.x0,Te.x0),0)),Ne=ge(Math.min(Math.max(Te.x1,Te.x1),U)),ze=ve(Te.y0),Ge=ve(Te.y1),Ye=z/2,et={},ut={};et.x=Re,ut.x=Ne,et.y=ut.y=(ze+Ge)/2;var ot={x:Re,y:ze},yt={x:Ne,y:ze},wt={x:Ne,y:Ge},bt={x:Re,y:Ge};return me===">"?(ot.x-=Ye,yt.x-=Ye,wt.x-=Ye,bt.x-=Ye):me==="/"?(wt.x-=Ye,bt.x-=Ye,et.x-=Ye/2,ut.x-=Ye/2):me==="\\"?(ot.x-=Ye,yt.x-=Ye,et.x-=Ye/2,ut.x-=Ye/2):me==="<"&&(et.x-=Ye,ut.x-=Ye),ye(ot),ye(bt),ye(et),ye(yt),ye(wt),ye(ut),"M"+be(ot.x,ot.y)+"L"+be(yt.x,yt.y)+"L"+be(ut.x,ut.y)+"L"+be(wt.x,wt.y)+"L"+be(bt.x,bt.y)+"L"+be(et.x,et.y)+"Z"},toMoveInsideSlice:Me,makeUpdateSliceInterpolator:Oe,makeUpdateTextInterpolator:Be,handleSlicesExit:pe,hasTransition:M,strTransform:_e}):T.remove()}},66192:function(B,L,e){var k=e(33428),w=e(76308),r=e(3400),_=e(78176),v=e(82744).resizeText,f=e(60404);function s(t,a,n,i,l){var o,u,h=(l||{}).hovered,c=a.data.data,b=c.i,d=c.color,g=_.isHierarchyRoot(a),m=1;if(h)o=n._hovered.marker.line.color,u=n._hovered.marker.line.width;else if(g&&d===n.root.color)m=100,o="rgba(0,0,0,0)",u=0;else if(o=r.castOption(n,b,"marker.line.color")||w.defaultLine,u=r.castOption(n,b,"marker.line.width")||0,!n._hasColorscale&&!a.onPathbar){var y=n.marker.depthfade;if(y){var x,T=w.combine(w.addOpacity(n._backgroundColor,.75),d);if(y===!0){var p=_.getMaxDepth(n);x=isFinite(p)?_.isLeaf(a)?0:n._maxVisibleLayers-(a.data.depth-n._entryDepth):a.data.height+1}else x=a.data.depth-n._entryDepth,n._atRootLevel||x++;if(x>0)for(var S=0;S<x;S++){var M=.5*S/x;d=w.combine(w.addOpacity(T,M),d)}}}t.call(f,a,n,i,d).style("stroke-width",u).call(w.stroke,o).style("opacity",m)}B.exports={style:function(t){var a=t._fullLayout._treemaplayer.selectAll(".trace");v(t,a,"treemap"),a.each(function(n){var i=k.select(this),l=n[0].trace;i.style("opacity",l.opacity),i.selectAll("path.surface").each(function(o){k.select(this).call(s,o,l,t,{hovered:!1})})})},styleOne:s}},13988:function(B,L,e){var k=e(63188),w=e(92880).extendFlat,r=e(29736).axisHoverFormat;B.exports={y:k.y,x:k.x,x0:k.x0,y0:k.y0,xhoverformat:r("x"),yhoverformat:r("y"),name:w({},k.name,{}),orientation:w({},k.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:k.fillcolor,points:w({},k.boxpoints,{}),jitter:w({},k.jitter,{}),pointpos:w({},k.pointpos,{}),width:w({},k.width,{}),marker:k.marker,text:k.text,hovertext:k.hovertext,hovertemplate:k.hovertemplate,quartilemethod:k.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup,selected:k.selected,unselected:k.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},67064:function(B,L,e){var k=e(3400),w=e(54460),r=e(62555),_=e(63800),v=e(39032).BADNUM;function f(t,a,n){var i=a.max-a.min;if(!i)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,i/1e4);var l=n.length,o=k.stdev(n,l-1,a.mean);return Math.max(function(u,h,c){return 1.059*Math.min(h,c/1.349)*Math.pow(u,-.2)}(l,o,a.q3-a.q1),i/100)}function s(t,a,n,i){var l,o=t.spanmode,u=t.span||[],h=[a.min,a.max],c=[a.min-2*i,a.max+2*i];function b(g){var m=u[g],y=n.type==="multicategory"?n.r2c(m):n.d2c(m,0,t[a.valLetter+"calendar"]);return y===v?c[g]:y}var d={type:"linear",range:l=o==="soft"?c:o==="hard"?h:[b(0),b(1)]};return w.setConvert(d),d.cleanRange(),l}B.exports=function(t,a){var n=r(t,a);if(n[0].t.empty)return n;for(var i=t._fullLayout,l=w.getFromId(t,a[a.orientation==="h"?"xaxis":"yaxis"]),o=1/0,u=-1/0,h=0,c=0,b=0;b<n.length;b++){var d=n[b],g=d.pts.map(_.extractVal),m=d.bandwidth=f(a,d,g),y=d.span=s(a,d,l,m);if(d.min===d.max&&m===0)y=d.span=[d.min,d.max],d.density=[{v:1,t:y[0]}],d.bandwidth=m,h=Math.max(h,1);else{var x=y[1]-y[0],T=Math.ceil(x/(m/3)),p=x/T;if(!isFinite(p)||!isFinite(T))return k.error("Something went wrong with computing the violin span"),n[0].t.empty=!0,n;var S=_.makeKDE(d,a,g);d.density=new Array(T);for(var M=0,E=y[0];E<y[1]+p/2;M++,E+=p){var P=S(E);d.density[M]={v:P,t:E},h=Math.max(h,P)}}c=Math.max(c,g.length),o=Math.min(o,y[0]),u=Math.max(u,y[1])}var O=w.findExtremes(l,[o,u],{padded:!0});if(a._extremes[l._id]=O,a.width)n[0].t.maxKDE=h;else{var I=i._violinScaleGroupStats,R=a.scalegroup,U=I[R];U?(U.maxKDE=Math.max(U.maxKDE,h),U.maxCount=Math.max(U.maxCount,c)):I[R]={maxKDE:h,maxCount:c}}return n[0].t.labels.kde=k._(t,"kde:"),n}},14348:function(B,L,e){var k=e(96404).setPositionOffset,w=["v","h"];B.exports=function(r,_){for(var v=r.calcdata,f=_.xaxis,s=_.yaxis,t=0;t<w.length;t++){for(var a=w[t],n=a==="h"?s:f,i=[],l=0;l<v.length;l++){var o=v[l],u=o[0].t,h=o[0].trace;h.visible!==!0||h.type!=="violin"||u.empty||h.orientation!==a||h.xaxis!==f._id||h.yaxis!==s._id||i.push(l)}k("violin",r,i,n)}}},36240:function(B,L,e){var k=e(3400),w=e(76308),r=e(90624),_=e(13988);B.exports=function(v,f,s,t){function a(x,T){return k.coerce(v,f,_,x,T)}function n(x,T){return k.coerce2(v,f,_,x,T)}if(r.handleSampleDefaults(v,f,a,t),f.visible!==!1){a("bandwidth"),a("side"),a("width")||(a("scalegroup",f.name),a("scalemode"));var i,l=a("span");Array.isArray(l)&&(i="manual"),a("spanmode",i);var o=a("line.color",(v.marker||{}).color||s),u=a("line.width"),h=a("fillcolor",w.addOpacity(f.line.color,.5));r.handlePointsDefaults(v,f,a,{prefix:""});var c=n("box.width"),b=n("box.fillcolor",h),d=n("box.line.color",o),g=n("box.line.width",u);a("box.visible",!!(c||b||d||g))||(f.box={visible:!1});var m=n("meanline.color",o),y=n("meanline.width",u);a("meanline.visible",!!(m||y))||(f.meanline={visible:!1}),a("quartilemethod")}}},63800:function(B,L,e){var k=e(3400),w=function(r){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*r*r)};L.makeKDE=function(r,_,v){var f=v.length,s=w,t=r.bandwidth,a=1/(f*t);return function(n){for(var i=0,l=0;l<f;l++)i+=s((n-v[l])/t);return a*i}},L.getPositionOnKdePath=function(r,_,v){var f,s;_.orientation==="h"?(f="y",s="x"):(f="x",s="y");var t=k.findPointOnPath(r.path,v,s,{pathLength:r.pathLength}),a=r.posCenterPx,n=t[f];return[n,_.side==="both"?2*a-n:a]},L.getKdeValue=function(r,_,v){var f=r.pts.map(L.extractVal);return L.makeKDE(r,_,f)(v)/r.posDensityScale},L.extractVal=function(r){return r.v}},78e3:function(B,L,e){var k=e(76308),w=e(3400),r=e(54460),_=e(27576),v=e(63800);B.exports=function(f,s,t,a,n){n||(n={});var i,l,o=n.hoverLayer,u=f.cd,h=u[0].trace,c=h.hoveron,b=c.indexOf("violins")!==-1,d=c.indexOf("kde")!==-1,g=[];if(b||d){var m=_.hoverOnBoxes(f,s,t,a);if(d&&m.length>0){var y,x,T,p,S,M=f.xa,E=f.ya;h.orientation==="h"?(S=s,y="y",T=E,x="x",p=M):(S=t,y="x",T=M,x="y",p=E);var P=u[f.index];if(S>=P.span[0]&&S<=P.span[1]){var O=w.extendFlat({},f),I=p.c2p(S,!0),R=v.getKdeValue(P,h,S),U=v.getPositionOnKdePath(P,h,I),z=T._offset,j=T._length;O[y+"0"]=U[0],O[y+"1"]=U[1],O[x+"0"]=O[x+"1"]=I,O[x+"Label"]=x+": "+r.hoverLabelText(p,S,h[x+"hoverformat"])+", "+u[0].t.labels.kde+" "+R.toFixed(3);for(var W=0,F=0;F<m.length;F++)if(m[F].attr==="med"){W=F;break}O.spikeDistance=m[W].spikeDistance;var V=y+"Spike";O[V]=m[W][V],m[W].spikeDistance=void 0,m[W][V]=void 0,O.hovertemplate=!1,g.push(O),(l={})[y+"1"]=w.constrain(z+U[0],z,z+j),l[y+"2"]=w.constrain(z+U[1],z,z+j),l[x+"1"]=l[x+"2"]=p._offset+I}}b&&(g=g.concat(m))}c.indexOf("points")!==-1&&(i=_.hoverOnPoints(f,s,t));var H=o.selectAll(".violinline-"+h.uid).data(l?[0]:[]);return H.enter().append("line").classed("violinline-"+h.uid,!0).attr("stroke-width",1.5),H.exit().remove(),H.attr(l).call(k.stroke,f.color),a==="closest"?i?[i]:g:(i&&g.push(i),g)}},22869:function(B,L,e){B.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(B,L,e){var k=e(16560),w=e(3400).extendFlat;B.exports={violinmode:w({},k.boxmode,{}),violingap:w({},k.boxgap,{}),violingroupgap:w({},k.boxgroupgap,{})}},8939:function(B,L,e){var k=e(3400),w=e(98228),r=e(68832);B.exports=function(_,v,f){r._supply(_,v,f,function(s,t){return k.coerce(_,v,w,s,t)},"violin")}},5140:function(B,L,e){var k=e(33428),w=e(3400),r=e(43616),_=e(18728),v=e(52340),f=e(63800);B.exports=function(s,t,a,n){var i=s._context.staticPlot,l=s._fullLayout,o=t.xaxis,u=t.yaxis;function h(c,b){var d=v(c,{xaxis:o,yaxis:u,trace:b,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return r.smoothopen(d[0],1)}w.makeTraceGroups(n,a,"trace violins").each(function(c){var b=k.select(this),d=c[0],g=d.t,m=d.trace;if(m.visible!==!0||g.empty)b.remove();else{var y=g.bPos,x=g.bdPos,T=t[g.valLetter+"axis"],p=t[g.posLetter+"axis"],S=m.side==="both",M=S||m.side==="positive",E=S||m.side==="negative",P=b.selectAll("path.violin").data(w.identity);P.enter().append("path").style("vector-effect",i?"none":"non-scaling-stroke").attr("class","violin"),P.exit().remove(),P.each(function(F){var V,H,te,Q,K,X,J,ee,ie=k.select(this),oe=F.density,ae=oe.length,ce=p.c2l(F.pos+y,!0),ge=p.l2p(ce);if(m.width)V=g.maxKDE/x;else{var ve=l._violinScaleGroupStats[m.scalegroup];V=m.scalemode==="count"?ve.maxKDE/x*(ve.maxCount/F.pts.length):ve.maxKDE/x}if(M){for(J=new Array(ae),K=0;K<ae;K++)(ee=J[K]={})[g.posLetter]=ce+oe[K].v/V,ee[g.valLetter]=T.c2l(oe[K].t,!0);H=h(J,m)}if(E){for(J=new Array(ae),X=0,K=ae-1;X<ae;X++,K--)(ee=J[X]={})[g.posLetter]=ce-oe[K].v/V,ee[g.valLetter]=T.c2l(oe[K].t,!0);te=h(J,m)}if(S)Q=H+"L"+te.substr(1)+"Z";else{var be=[ge,T.c2p(oe[0].t)],we=[ge,T.c2p(oe[ae-1].t)];m.orientation==="h"&&(be.reverse(),we.reverse()),Q=M?"M"+be+"L"+H.substr(1)+"L"+we:"M"+we+"L"+te.substr(1)+"L"+be}ie.attr("d",Q),F.posCenterPx=ge,F.posDensityScale=V*x,F.path=ie.node(),F.pathLength=F.path.getTotalLength()/(S?2:1)});var O,I,R,U=m.box,z=U.width,j=(U.line||{}).width;S?(O=x*z,I=0):M?(O=[0,x*z/2],I=j*{x:1,y:-1}[g.posLetter]):(O=[x*z/2,0],I=j*{x:-1,y:1}[g.posLetter]),_.plotBoxAndWhiskers(b,{pos:p,val:T},m,{bPos:y,bdPos:O,bPosPxOffset:I}),_.plotBoxMean(b,{pos:p,val:T},m,{bPos:y,bdPos:O,bPosPxOffset:I}),!m.box.visible&&m.meanline.visible&&(R=w.identity);var W=b.selectAll("path.meanline").data(R||[]);W.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",i?"none":"non-scaling-stroke"),W.exit().remove(),W.each(function(F){var V=T.c2p(F.mean,!0),H=f.getPositionOnKdePath(F,m,V);k.select(this).attr("d",m.orientation==="h"?"M"+V+","+H[0]+"V"+H[1]:"M"+H[0]+","+V+"H"+H[1])}),_.plotPoints(b,{x:o,y:u},m,g)}})}},95908:function(B,L,e){var k=e(33428),w=e(76308),r=e(49224).stylePoints;B.exports=function(_){var v=k.select(_).selectAll("g.trace.violins");v.style("opacity",function(f){return f[0].trace.opacity}),v.each(function(f){var s=f[0].trace,t=k.select(this),a=s.box||{},n=a.line||{},i=s.meanline||{},l=i.width;t.selectAll("path.violin").style("stroke-width",s.line.width+"px").call(w.stroke,s.line.color).call(w.fill,s.fillcolor),t.selectAll("path.box").style("stroke-width",n.width+"px").call(w.stroke,n.color).call(w.fill,a.fillcolor);var o={"stroke-width":l+"px","stroke-dasharray":2*l+"px,"+l+"px"};t.selectAll("path.mean").style(o).call(w.stroke,i.color),t.selectAll("path.meanline").style(o).call(w.stroke,i.color),r(t,s,_)})}},58168:function(B,L,e){var k=e(49084),w=e(50048),r=e(16716),_=e(45464),v=e(92880).extendFlat,f=e(67824).overrideAll,s=B.exports=f(v({x:w.x,y:w.y,z:w.z,value:w.value,isomin:w.isomin,isomax:w.isomax,surface:w.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:w.slices,caps:w.caps,text:w.text,hovertext:w.hovertext,xhoverformat:w.xhoverformat,yhoverformat:w.yhoverformat,zhoverformat:w.zhoverformat,valuehoverformat:w.valuehoverformat,hovertemplate:w.hovertemplate},k("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:w.colorbar,opacity:w.opacity,opacityscale:r.opacityscale,lightposition:w.lightposition,lighting:w.lighting,flatshading:w.flatshading,contour:w.contour,hoverinfo:v({},_.hoverinfo),showlegend:v({},_.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType=s.value.editType="calc+clearAxisTypes",s.transforms=void 0},91976:function(B,L,e){var k=e(67792).gl_mesh3d,w=e(33040).parseColorScale,r=e(3400).isArrayOrTypedArray,_=e(43080),v=e(8932).extractOpts,f=e(52094),s=e(31460).findNearestOnAxis,t=e(31460).generateIsoMeshes;function a(i,l,o){this.scene=i,this.uid=o,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var n=a.prototype;n.handlePick=function(i){if(i.object===this.mesh){var l=i.data.index,o=this.data._meshX[l],u=this.data._meshY[l],h=this.data._meshZ[l],c=this.data._Ys.length,b=this.data._Zs.length,d=s(o,this.data._Xs).id,g=s(u,this.data._Ys).id,m=s(h,this.data._Zs).id,y=i.index=m+b*g+b*c*d;i.traceCoordinate=[this.data._meshX[y],this.data._meshY[y],this.data._meshZ[y],this.data._value[y]];var x=this.data.hovertext||this.data.text;return r(x)&&x[y]!==void 0?i.textLabel=x[y]:x&&(i.textLabel=x),!0}},n.update=function(i){var l=this.scene,o=l.fullSceneLayout;function u(b,d,g,m){return d.map(function(y){return b.d2l(y,0,m)*g})}this.data=t(i);var h={positions:f(u(o.xaxis,i._meshX,l.dataScale[0],i.xcalendar),u(o.yaxis,i._meshY,l.dataScale[1],i.ycalendar),u(o.zaxis,i._meshZ,l.dataScale[2],i.zcalendar)),cells:f(i._meshI,i._meshJ,i._meshK),lightPosition:[i.lightposition.x,i.lightposition.y,i.lightposition.z],ambient:i.lighting.ambient,diffuse:i.lighting.diffuse,specular:i.lighting.specular,roughness:i.lighting.roughness,fresnel:i.lighting.fresnel,vertexNormalsEpsilon:i.lighting.vertexnormalsepsilon,faceNormalsEpsilon:i.lighting.facenormalsepsilon,opacity:i.opacity,opacityscale:i.opacityscale,contourEnable:i.contour.show,contourColor:_(i.contour.color).slice(0,3),contourWidth:i.contour.width,useFacetNormals:i.flatshading},c=v(i);h.vertexIntensity=i._meshIntensity,h.vertexIntensityBounds=[c.min,c.max],h.colormap=w(i),this.mesh.update(h)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},B.exports=function(i,l){var o=i.glplot.gl,u=k({gl:o}),h=new a(i,u,l.uid);return u._trace=h,h.update(l),i.glplot.add(u),h}},12448:function(B,L,e){var k=e(3400),w=e(58168),r=e(70548).supplyIsoDefaults,_=e(60192).opacityscaleDefaults;B.exports=function(v,f,s,t){function a(n,i){return k.coerce(v,f,w,n,i)}r(v,f,s,t,a),_(v,f,t,a)}},67776:function(B,L,e){B.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(B,L,e){var k=e(20832),w=e(52904).line,r=e(45464),_=e(29736).axisHoverFormat,v=e(21776).Ks,f=e(21776).Gw,s=e(10213),t=e(92880).extendFlat,a=e(76308);function n(i){return{marker:{color:t({},k.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},k.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},k.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}B.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:k.x,x0:k.x0,dx:k.dx,y:k.y,y0:k.y0,dy:k.dy,xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,xhoverformat:_("x"),yhoverformat:_("y"),hovertext:k.hovertext,hovertemplate:v({},{keys:s.eventDataKeys}),hoverinfo:t({},r.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:f({editType:"plot"},{keys:s.eventDataKeys.concat(["label"])}),text:k.text,textposition:k.textposition,insidetextanchor:k.insidetextanchor,textangle:k.textangle,textfont:k.textfont,insidetextfont:k.insidetextfont,outsidetextfont:k.outsidetextfont,constraintext:k.constraintext,cliponaxis:k.cliponaxis,orientation:k.orientation,offset:k.offset,width:k.width,increasing:n(),decreasing:n(),totals:n(),connector:{line:{color:t({},w.color,{dflt:a.defaultLine}),width:t({},w.width,{editType:"plot"}),dash:w.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup}},73540:function(B,L,e){var k=e(54460),w=e(1220),r=e(3400).mergeArray,_=e(4500),v=e(39032).BADNUM;function f(t){return t==="a"||t==="absolute"}function s(t){return t==="t"||t==="total"}B.exports=function(t,a){var n,i,l,o,u,h,c=k.getFromId(t,a.xaxis||"x"),b=k.getFromId(t,a.yaxis||"y");a.orientation==="h"?(n=c.makeCalcdata(a,"x"),l=b.makeCalcdata(a,"y"),o=w(a,b,"y",l),u=!!a.yperiodalignment,h="y"):(n=b.makeCalcdata(a,"y"),l=c.makeCalcdata(a,"x"),o=w(a,c,"x",l),u=!!a.xperiodalignment,h="x"),i=o.vals;for(var d,g=Math.min(i.length,n.length),m=new Array(g),y=0,x=!1,T=0;T<g;T++){var p=n[T]||0,S=!1;(n[T]!==v||s(a.measure[T])||f(a.measure[T]))&&T+1<g&&(n[T+1]!==v||s(a.measure[T+1])||f(a.measure[T+1]))&&(S=!0);var M=m[T]={i:T,p:i[T],s:p,rawS:p,cNext:S};f(a.measure[T])?(y=M.s,M.isSum=!0,M.dir="totals",M.s=y):s(a.measure[T])?(M.isSum=!0,M.dir="totals",M.s=y):(M.isSum=!1,M.dir=M.rawS<0?"decreasing":"increasing",d=M.s,M.s=y+d,y+=d),M.dir==="totals"&&(x=!0),u&&(m[T].orig_p=l[T],m[T][h+"End"]=o.ends[T],m[T][h+"Start"]=o.starts[T]),a.ids&&(M.id=String(a.ids[T])),M.v=(a.base||0)+y}return m.length&&(m[0].hasTotals=x),r(a.text,m,"tx"),r(a.hovertext,m,"htx"),_(m,a),m}},10213:function(B){B.exports={eventDataKeys:["initial","delta","final"]}},50152:function(B,L,e){var k=e(96376).setGroupPositions;B.exports=function(w,r){var _,v,f=w._fullLayout,s=w._fullData,t=w.calcdata,a=r.xaxis,n=r.yaxis,i=[],l=[],o=[];for(v=0;v<s.length;v++){var u=s[v];u.visible===!0&&u.xaxis===a._id&&u.yaxis===n._id&&u.type==="waterfall"&&(_=t[v],u.orientation==="h"?o.push(_):l.push(_),i.push(_))}var h={mode:f.waterfallmode,norm:f.waterfallnorm,gap:f.waterfallgap,groupgap:f.waterfallgroupgap};for(k(w,a,n,l,h),k(w,n,a,o,h),v=0;v<i.length;v++){_=i[v];for(var c=0;c<_.length;c++){var b=_[c];b.isSum===!1&&(b.s0+=c===0?0:_[c-1].s),c+1<_.length&&(_[c].nextP0=_[c+1].p0,_[c].nextS0=_[c+1].s0)}}}},24224:function(B,L,e){var k=e(3400),w=e(20011),r=e(31508).handleText,_=e(43980),v=e(31147),f=e(65776),s=e(76308),t=e(48164),a=t.INCREASING.COLOR,n=t.DECREASING.COLOR;function i(l,o,u){l(o+".marker.color",u),l(o+".marker.line.color",s.defaultLine),l(o+".marker.line.width")}B.exports={supplyDefaults:function(l,o,u,h){function c(d,g){return k.coerce(l,o,f,d,g)}if(_(l,o,h,c)){v(l,o,h,c),c("xhoverformat"),c("yhoverformat"),c("measure"),c("orientation",o.x&&!o.y?"h":"v"),c("base"),c("offset"),c("width"),c("text"),c("hovertext"),c("hovertemplate");var b=c("textposition");r(l,o,h,c,b,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),o.textposition!=="none"&&(c("texttemplate"),o.texttemplate||c("textinfo")),i(c,"increasing",a),i(c,"decreasing",n),i(c,"totals","#4499FF"),c("connector.visible")&&(c("connector.mode"),c("connector.line.width")&&(c("connector.line.color"),c("connector.line.dash")))}else o.visible=!1},crossTraceDefaults:function(l,o){var u,h;function c(d){return k.coerce(h._input,h,f,d)}if(o.waterfallmode==="group")for(var b=0;b<l.length;b++)u=(h=l[b])._input,w(u,h,o,c)}}},53256:function(B){B.exports=function(L,e){return L.x="xVal"in e?e.xVal:e.x,L.y="yVal"in e?e.yVal:e.y,"initial"in e&&(L.initial=e.initial),"delta"in e&&(L.delta=e.delta),"final"in e&&(L.final=e.final),e.xa&&(L.xaxis=e.xa),e.ya&&(L.yaxis=e.ya),L}},94196:function(B,L,e){var k=e(54460).hoverLabelText,w=e(76308).opacity,r=e(63400).hoverOnBars,_=e(48164),v=_.INCREASING.SYMBOL,f=_.DECREASING.SYMBOL;B.exports=function(s,t,a,n,i){var l=r(s,t,a,n,i);if(l){var o=l.cd,u=o[0].trace,h=u.orientation==="h",c=h?"x":"y",b=h?s.xa:s.ya,d=o[l.index],g=d.isSum?d.b+d.s:d.rawS;l.initial=d.b+d.s-g,l.delta=g,l.final=l.initial+l.delta;var m=M(Math.abs(l.delta));l.deltaLabel=g<0?"("+m+")":m,l.finalLabel=M(l.final),l.initialLabel=M(l.initial);var y=d.hi||u.hoverinfo,x=[];if(y&&y!=="none"&&y!=="skip"){var T=y==="all",p=y.split("+"),S=function(E){return T||p.indexOf(E)!==-1};d.isSum||(!S("final")||S(h?"x":"y")||x.push(l.finalLabel),S("delta")&&(g<0?x.push(l.deltaLabel+" "+f):x.push(l.deltaLabel+" "+v)),S("initial")&&x.push("Initial: "+l.initialLabel))}return x.length&&(l.extraText=x.join("<br>")),l.color=function(E,P){var O=E[P.dir].marker,I=O.color,R=O.line.color,U=O.line.width;return w(I)?I:w(R)&&U?R:void 0}(u,d),[l]}function M(E){return k(b,E,u[c+"hoverformat"])}}},95952:function(B,L,e){B.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(B){B.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(B,L,e){var k=e(3400),w=e(91352);B.exports=function(r,_,v){var f=!1;function s(n,i){return k.coerce(r,_,w,n,i)}for(var t=0;t<v.length;t++){var a=v[t];if(a.visible&&a.type==="waterfall"){f=!0;break}}f&&(s("waterfallmode"),s("waterfallgap",.2),s("waterfallgroupgap"))}},64488:function(B,L,e){var k=e(33428),w=e(3400),r=e(43616),_=e(39032).BADNUM,v=e(98184),f=e(82744).clearMinTextSize;B.exports=function(s,t,a,n){var i=s._fullLayout;f("waterfall",i),v.plot(s,t,a,n,{mode:i.waterfallmode,norm:i.waterfallmode,gap:i.waterfallgap,groupgap:i.waterfallgroupgap}),function(l,o,u,h){var c=o.xaxis,b=o.yaxis;w.makeTraceGroups(h,u,"trace bars").each(function(d){var g=k.select(this),m=d[0].trace,y=w.ensureSingle(g,"g","lines");if(m.connector&&m.connector.visible){var x=m.orientation==="h",T=m.connector.mode,p=y.selectAll("g.line").data(w.identity);p.enter().append("g").classed("line",!0),p.exit().remove();var S=p.size();p.each(function(M,E){if(E===S-1||M.cNext){var P=function(U,z,j,W){var F=[],V=[],H=W?z:j,te=W?j:z;return F[0]=H.c2p(U.s0,!0),V[0]=te.c2p(U.p0,!0),F[1]=H.c2p(U.s1,!0),V[1]=te.c2p(U.p1,!0),F[2]=H.c2p(U.nextS0,!0),V[2]=te.c2p(U.nextP0,!0),W?[F,V]:[V,F]}(M,c,b,x),O=P[0],I=P[1],R="";O[0]!==_&&I[0]!==_&&O[1]!==_&&I[1]!==_&&(T==="spanning"&&!M.isSum&&E>0&&(R+=x?"M"+O[0]+","+I[1]+"V"+I[0]:"M"+O[1]+","+I[0]+"H"+O[0]),T!=="between"&&(M.isSum||E<S-1)&&(R+=x?"M"+O[1]+","+I[0]+"V"+I[1]:"M"+O[0]+","+I[1]+"H"+O[1]),O[2]!==_&&I[2]!==_&&(R+=x?"M"+O[1]+","+I[1]+"V"+I[2]:"M"+O[1]+","+I[1]+"H"+O[2])),R===""&&(R="M0,0Z"),w.ensureSingle(k.select(this),"path").attr("d",R).call(r.setClipUrl,o.layerClipId,l)}})}else y.remove()})}(s,t,a,n)}},12252:function(B,L,e){var k=e(33428),w=e(43616),r=e(76308),_=e(13448).DESELECTDIM,v=e(60100),f=e(82744).resizeText,s=v.styleTextPoints;B.exports={style:function(t,a,n){var i=n||k.select(t).selectAll("g.waterfalllayer").selectAll("g.trace");f(t,i,"waterfall"),i.style("opacity",function(l){return l[0].trace.opacity}),i.each(function(l){var o=k.select(this),u=l[0].trace;o.selectAll(".point > path").each(function(h){if(!h.isBlank){var c=u[h.dir].marker;k.select(this).call(r.fill,c.color).call(r.stroke,c.line.color).call(w.dashLine,c.line.dash,c.line.width).style("opacity",u.selectedpoints&&!h.selected?_:1)}}),s(o,u,t),o.selectAll(".lines").each(function(){var h=u.connector.line;w.lineGroupStyle(k.select(this).selectAll("path"),h.width,h.color,h.dash)})})}}},84224:function(B,L,e){var k=e(54460),w=e(3400),r=e(73060),_=e(60468).W,v=e(39032).BADNUM;L.moduleType="transform",L.name="aggregate";var f=L.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},s=f.aggregations;function t(l,o,u,h){if(h.enabled){for(var c=h.target,b=w.nestedProperty(o,c),d=b.get(),g=function(x,T){var p=x.func,S=T.d2c,M=T.c2d;switch(p){case"count":return a;case"first":return n;case"last":return i;case"sum":return function(E,P){for(var O=0,I=0;I<P.length;I++){var R=S(E[P[I]]);R!==v&&(O+=R)}return M(O)};case"avg":return function(E,P){for(var O=0,I=0,R=0;R<P.length;R++){var U=S(E[P[R]]);U!==v&&(O+=U,I++)}return I?M(O/I):v};case"min":return function(E,P){for(var O=1/0,I=0;I<P.length;I++){var R=S(E[P[I]]);R!==v&&(O=Math.min(O,R))}return O===1/0?v:M(O)};case"max":return function(E,P){for(var O=-1/0,I=0;I<P.length;I++){var R=S(E[P[I]]);R!==v&&(O=Math.max(O,R))}return O===-1/0?v:M(O)};case"range":return function(E,P){for(var O=1/0,I=-1/0,R=0;R<P.length;R++){var U=S(E[P[R]]);U!==v&&(O=Math.min(O,U),I=Math.max(I,U))}return I===-1/0||O===1/0?v:M(I-O)};case"change":return function(E,P){var O=S(E[P[0]]),I=S(E[P[P.length-1]]);return O===v||I===v?v:M(I-O)};case"median":return function(E,P){for(var O=[],I=0;I<P.length;I++){var R=S(E[P[I]]);R!==v&&O.push(R)}if(!O.length)return v;O.sort(w.sorterAsc);var U=(O.length-1)/2;return M((O[Math.floor(U)]+O[Math.ceil(U)])/2)};case"mode":return function(E,P){for(var O={},I=0,R=v,U=0;U<P.length;U++){var z=S(E[P[U]]);if(z!==v){var j=O[z]=(O[z]||0)+1;j>I&&(I=j,R=z)}}return I?M(R):v};case"rms":return function(E,P){for(var O=0,I=0,R=0;R<P.length;R++){var U=S(E[P[R]]);U!==v&&(O+=U*U,I++)}return I?M(Math.sqrt(O/I)):v};case"stddev":return function(E,P){var O,I=0,R=0,U=1,z=v;for(O=0;O<P.length&&z===v;O++)z=S(E[P[O]]);if(z===v)return v;for(;O<P.length;O++){var j=S(E[P[O]]);if(j!==v){var W=j-z;I+=W,R+=W*W,U++}}var F=x.funcmode==="sample"?U-1:U;return F?Math.sqrt((R-I*I/U)/F):0}}}(h,k.getDataConversions(l,o,c,d)),m=new Array(u.length),y=0;y<u.length;y++)m[y]=g(d,u[y]);b.set(m),h.func==="count"&&w.pushUnique(o._arrayAttrs,c)}}function a(l,o){return o.length}function n(l,o){return l[o[0]]}function i(l,o){return l[o[o.length-1]]}L.supplyDefaults=function(l,o){var u,h={};function c(M,E){return w.coerce(l,h,f,M,E)}if(!c("enabled"))return h;var b=r.findArrayAttributes(o),d={};for(u=0;u<b.length;u++)d[b[u]]=1;var g=c("groups");if(!Array.isArray(g)){if(!d[g])return h.enabled=!1,h;d[g]=0}var m,y=l.aggregations||[],x=h.aggregations=new Array(y.length);function T(M,E){return w.coerce(y[u],m,s,M,E)}for(u=0;u<y.length;u++){m={_index:u};var p=T("target"),S=T("func");T("enabled")&&p&&(d[p]||S==="count"&&d[p]===void 0)?(S==="stddev"&&T("funcmode"),d[p]=0,x[u]=m):x[u]={enabled:!1,_index:u}}for(u=0;u<b.length;u++)d[b[u]]&&x.push({target:b[u],func:s.func.dflt,enabled:!0,_index:-1});return h},L.calcTransform=function(l,o,u){if(u.enabled){var h=u.groups,c=w.getTargetArray(o,{target:h});if(c){var b,d,g,m,y={},x={},T=[],p=_(o.transforms,u),S=c.length;for(o._length&&(S=Math.min(S,o._length)),b=0;b<S;b++)(g=y[d=c[b]])===void 0?(y[d]=T.length,m=[b],T.push(m),x[y[d]]=p(b)):(T[g].push(b),x[y[d]]=(x[y[d]]||[]).concat(p(b)));u._indexToPoints=x;var M=u.aggregations;for(b=0;b<M.length;b++)t(l,o,T,M[b]);typeof h=="string"&&t(l,o,T,{target:h,func:"first",enabled:!0}),o._length=T.length}}}},76744:function(B,L,e){var k=e(3400),w=e(24040),r=e(54460),_=e(60468).W,v=e(69104),f=v.COMPARISON_OPS,s=v.INTERVAL_OPS,t=v.SET_OPS;L.moduleType="transform",L.name="filter",L.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(f).concat(s).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},L.supplyDefaults=function(a){var n={};function i(u,h){return k.coerce(a,n,L.attributes,u,h)}if(i("enabled")){var l=i("target");if(k.isArrayOrTypedArray(l)&&l.length===0)return n.enabled=!1,n;i("preservegaps"),i("operation"),i("value");var o=w.getComponentMethod("calendars","handleDefaults");o(a,n,"valuecalendar",null),o(a,n,"targetcalendar",null)}return n},L.calcTransform=function(a,n,i){if(i.enabled){var l=k.getTargetArray(n,i);if(l){var o=i.target,u=l.length;n._length&&(u=Math.min(u,n._length));var h=i.targetcalendar,c=n._arrayAttrs,b=i.preservegaps;if(typeof o=="string"){var d=k.nestedProperty(n,o+"calendar").get();d&&(h=d)}var g,m,y=function(P,O,I){var R=P.operation,U=P.value,z=k.isArrayOrTypedArray(U);function j(H){return H.indexOf(R)!==-1}var W,F=function(H){return O(H,0,P.valuecalendar)},V=function(H){return O(H,0,I)};switch(j(f)?W=F(z?U[0]:U):j(s)?W=z?[F(U[0]),F(U[1])]:[F(U),F(U)]:j(t)&&(W=z?U.map(F):[F(U)]),R){case"=":return function(H){return V(H)===W};case"!=":return function(H){return V(H)!==W};case"<":return function(H){return V(H)<W};case"<=":return function(H){return V(H)<=W};case">":return function(H){return V(H)>W};case">=":return function(H){return V(H)>=W};case"[]":return function(H){var te=V(H);return te>=W[0]&&te<=W[1]};case"()":return function(H){var te=V(H);return te>W[0]&&te<W[1]};case"[)":return function(H){var te=V(H);return te>=W[0]&&te<W[1]};case"(]":return function(H){var te=V(H);return te>W[0]&&te<=W[1]};case"][":return function(H){var te=V(H);return te<=W[0]||te>=W[1]};case")(":return function(H){var te=V(H);return te<W[0]||te>W[1]};case"](":return function(H){var te=V(H);return te<=W[0]||te>W[1]};case")[":return function(H){var te=V(H);return te<W[0]||te>=W[1]};case"{}":return function(H){return W.indexOf(V(H))!==-1};case"}{":return function(H){return W.indexOf(V(H))===-1}}}(i,r.getDataToCoordFunc(a,n,o,l),h),x={},T={},p=0;b?(g=function(P){x[P.astr]=k.extendDeep([],P.get()),P.set(new Array(u))},m=function(P,O){var I=x[P.astr][O];P.get()[O]=I}):(g=function(P){x[P.astr]=k.extendDeep([],P.get()),P.set([])},m=function(P,O){var I=x[P.astr][O];P.get().push(I)}),E(g);for(var S=_(n.transforms,i),M=0;M<u;M++)y(l[M])?(E(m,M),T[p++]=S(M)):b&&p++;i._indexToPoints=T,n._length=p}}function E(P,O){for(var I=0;I<c.length;I++)P(k.nestedProperty(n,c[I]),O)}}},32028:function(B,L,e){var k=e(3400),w=e(73060),r=e(7316),_=e(60468).W;function v(f,s){var t,a,n,i,l,o,u,h,c,b,d=s.transform,g=s.transformIndex,m=f.transforms[g].groups,y=_(f.transforms,d);if(!k.isArrayOrTypedArray(m)||m.length===0)return[f];var x=k.filterUnique(m),T=new Array(x.length),p=m.length,S=w.findArrayAttributes(f),M=d.styles||[],E={};for(t=0;t<M.length;t++)E[M[t].target]=M[t].value;d.styles&&(b=k.keyedContainer(d,"styles","target","value.name"));var P={},O={};for(t=0;t<x.length;t++){P[o=x[t]]=t,O[o]=0,(u=T[t]=k.extendDeepNoArrays({},f))._group=o,u.transforms[g]._indexToPoints={};var I=null;for(b&&(I=b.get(o)),u.name=I||I===""?I:k.templateString(d.nameformat,{trace:f.name,group:o}),h=u.transforms,u.transforms=[],a=0;a<h.length;a++)u.transforms[a]=k.extendDeepNoArrays({},h[a]);for(a=0;a<S.length;a++)k.nestedProperty(u,S[a]).set([])}for(n=0;n<S.length;n++){for(i=S[n],a=0,c=[];a<x.length;a++)c[a]=k.nestedProperty(T[a],i).get();for(l=k.nestedProperty(f,i).get(),a=0;a<p;a++)c[P[m[a]]].push(l[a])}for(a=0;a<p;a++)(u=T[P[m[a]]]).transforms[g]._indexToPoints[O[m[a]]]=y(a),O[m[a]]++;for(t=0;t<x.length;t++)o=x[t],u=T[t],r.clearExpandedTraceDefaultColors(u),u=k.extendDeepNoArrays(u,E[o]||{});return T}L.moduleType="transform",L.name="groupby",L.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},L.supplyDefaults=function(f,s,t){var a,n={};function i(c,b){return k.coerce(f,n,L.attributes,c,b)}if(!i("enabled"))return n;i("groups"),i("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var l=f.styles,o=n.styles=[];if(l)for(a=0;a<l.length;a++){var u=o[a]={};k.coerce(l[a],o[a],L.attributes.styles,"target");var h=k.coerce(l[a],o[a],L.attributes.styles,"value");k.isPlainObject(h)?u.value=k.extendDeep({},h):h&&delete u.value}return n},L.transform=function(f,s){var t,a,n,i=[];for(a=0;a<f.length;a++)for(t=v(f[a],s),n=0;n<t.length;n++)i.push(t[n]);return i}},60468:function(B,L){L.W=function(e,k){for(var w,r,_=0;_<e.length&&(w=e[_])!==k;_++)w._indexToPoints&&w.enabled!==!1&&(r=w._indexToPoints);var v=r?function(f){return r[f]}:function(f){return[f]};return v}},76272:function(B,L,e){var k=e(3400),w=e(54460),r=e(60468).W,_=e(39032).BADNUM;L.moduleType="transform",L.name="sort",L.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},L.supplyDefaults=function(v){var f={};function s(t,a){return k.coerce(v,f,L.attributes,t,a)}return s("enabled")&&(s("target"),s("order")),f},L.calcTransform=function(v,f,s){if(s.enabled){var t=k.getTargetArray(f,s);if(t){var a=s.target,n=t.length;f._length&&(n=Math.min(n,f._length));var i,l,o=f._arrayAttrs,u=function(m,y,x,T){var p,S=new Array(T),M=new Array(T);for(p=0;p<T;p++)S[p]={v:y[p],i:p};for(S.sort(function(E,P){switch(E.order){case"ascending":return function(O,I){var R=P(O.v),U=P(I.v);return R===_?1:U===_?-1:R-U};case"descending":return function(O,I){var R=P(O.v),U=P(I.v);return R===_?1:U===_?-1:U-R}}}(m,x)),p=0;p<T;p++)M[p]=S[p].i;return M}(s,t,w.getDataToCoordFunc(v,f,a,t),n),h=r(f.transforms,s),c={};for(i=0;i<o.length;i++){var b=k.nestedProperty(f,o[i]),d=b.get(),g=new Array(n);for(l=0;l<n;l++)g[l]=d[u[l]];b.set(g)}for(l=0;l<n;l++)c[l]=h(u[l]);s._indexToPoints=c,f._length=n}}}},25788:function(B,L){L.version="2.30.1"},67792:function(B,L,e){var k,w=e(4168);k=function(){return function(){var r={7386:function(f,s,t){f.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(f,s,t){function a(pe,_e){for(var Te=0;Te<_e.length;Te++){var Re=_e[Te];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(pe,Re.key,Re)}}function n(pe,_e){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Te,Re){return Te.__proto__=Re,Te},n(pe,_e)}function i(pe){if(pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe}function l(pe){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_e){return _e.__proto__||Object.getPrototypeOf(_e)},l(pe)}function o(pe){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},o(pe)}var u=t(3910),h=t(3187),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.lW=g,s.h2=50;var b=2147483647;function d(pe){if(pe>b)throw new RangeError('The value "'+pe+'" is invalid for option "size"');var _e=new Uint8Array(pe);return Object.setPrototypeOf(_e,g.prototype),_e}function g(pe,_e,Te){if(typeof pe=="number"){if(typeof _e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(pe)}return m(pe,_e,Te)}function m(pe,_e,Te){if(typeof pe=="string")return function(ze,Ge){if(typeof Ge=="string"&&Ge!==""||(Ge="utf8"),!g.isEncoding(Ge))throw new TypeError("Unknown encoding: "+Ge);var Ye=0|M(ze,Ge),et=d(Ye),ut=et.write(ze,Ge);return ut!==Ye&&(et=et.slice(0,ut)),et}(pe,_e);if(ArrayBuffer.isView(pe))return function(ze){if(Ce(ze,Uint8Array)){var Ge=new Uint8Array(ze);return p(Ge.buffer,Ge.byteOffset,Ge.byteLength)}return T(ze)}(pe);if(pe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(pe));if(Ce(pe,ArrayBuffer)||pe&&Ce(pe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ce(pe,SharedArrayBuffer)||pe&&Ce(pe.buffer,SharedArrayBuffer)))return p(pe,_e,Te);if(typeof pe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Re=pe.valueOf&&pe.valueOf();if(Re!=null&&Re!==pe)return g.from(Re,_e,Te);var Ne=function(ze){if(g.isBuffer(ze)){var Ge=0|S(ze.length),Ye=d(Ge);return Ye.length===0||ze.copy(Ye,0,0,Ge),Ye}return ze.length!==void 0?typeof ze.length!="number"||Me(ze.length)?d(0):T(ze):ze.type==="Buffer"&&Array.isArray(ze.data)?T(ze.data):void 0}(pe);if(Ne)return Ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof pe[Symbol.toPrimitive]=="function")return g.from(pe[Symbol.toPrimitive]("string"),_e,Te);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(pe))}function y(pe){if(typeof pe!="number")throw new TypeError('"size" argument must be of type number');if(pe<0)throw new RangeError('The value "'+pe+'" is invalid for option "size"')}function x(pe){return y(pe),d(pe<0?0:0|S(pe))}function T(pe){for(var _e=pe.length<0?0:0|S(pe.length),Te=d(_e),Re=0;Re<_e;Re+=1)Te[Re]=255&pe[Re];return Te}function p(pe,_e,Te){if(_e<0||pe.byteLength<_e)throw new RangeError('"offset" is outside of buffer bounds');if(pe.byteLength<_e+(Te||0))throw new RangeError('"length" is outside of buffer bounds');var Re;return Re=_e===void 0&&Te===void 0?new Uint8Array(pe):Te===void 0?new Uint8Array(pe,_e):new Uint8Array(pe,_e,Te),Object.setPrototypeOf(Re,g.prototype),Re}function S(pe){if(pe>=b)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return 0|pe}function M(pe,_e){if(g.isBuffer(pe))return pe.length;if(ArrayBuffer.isView(pe)||Ce(pe,ArrayBuffer))return pe.byteLength;if(typeof pe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+o(pe));var Te=pe.length,Re=arguments.length>2&&arguments[2]===!0;if(!Re&&Te===0)return 0;for(var Ne=!1;;)switch(_e){case"ascii":case"latin1":case"binary":return Te;case"utf8":case"utf-8":return fe(pe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Te;case"hex":return Te>>>1;case"base64":return le(pe).length;default:if(Ne)return Re?-1:fe(pe).length;_e=(""+_e).toLowerCase(),Ne=!0}}function E(pe,_e,Te){var Re=!1;if((_e===void 0||_e<0)&&(_e=0),_e>this.length||((Te===void 0||Te>this.length)&&(Te=this.length),Te<=0)||(Te>>>=0)<=(_e>>>=0))return"";for(pe||(pe="utf8");;)switch(pe){case"hex":return K(this,_e,Te);case"utf8":case"utf-8":return V(this,_e,Te);case"ascii":return te(this,_e,Te);case"latin1":case"binary":return Q(this,_e,Te);case"base64":return F(this,_e,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,_e,Te);default:if(Re)throw new TypeError("Unknown encoding: "+pe);pe=(pe+"").toLowerCase(),Re=!0}}function P(pe,_e,Te){var Re=pe[_e];pe[_e]=pe[Te],pe[Te]=Re}function O(pe,_e,Te,Re,Ne){if(pe.length===0)return-1;if(typeof Te=="string"?(Re=Te,Te=0):Te>2147483647?Te=2147483647:Te<-2147483648&&(Te=-2147483648),Me(Te=+Te)&&(Te=Ne?0:pe.length-1),Te<0&&(Te=pe.length+Te),Te>=pe.length){if(Ne)return-1;Te=pe.length-1}else if(Te<0){if(!Ne)return-1;Te=0}if(typeof _e=="string"&&(_e=g.from(_e,Re)),g.isBuffer(_e))return _e.length===0?-1:I(pe,_e,Te,Re,Ne);if(typeof _e=="number")return _e&=255,typeof Uint8Array.prototype.indexOf=="function"?Ne?Uint8Array.prototype.indexOf.call(pe,_e,Te):Uint8Array.prototype.lastIndexOf.call(pe,_e,Te):I(pe,[_e],Te,Re,Ne);throw new TypeError("val must be string, number or Buffer")}function I(pe,_e,Te,Re,Ne){var ze,Ge=1,Ye=pe.length,et=_e.length;if(Re!==void 0&&((Re=String(Re).toLowerCase())==="ucs2"||Re==="ucs-2"||Re==="utf16le"||Re==="utf-16le")){if(pe.length<2||_e.length<2)return-1;Ge=2,Ye/=2,et/=2,Te/=2}function ut(bt,at){return Ge===1?bt[at]:bt.readUInt16BE(at*Ge)}if(Ne){var ot=-1;for(ze=Te;ze<Ye;ze++)if(ut(pe,ze)===ut(_e,ot===-1?0:ze-ot)){if(ot===-1&&(ot=ze),ze-ot+1===et)return ot*Ge}else ot!==-1&&(ze-=ze-ot),ot=-1}else for(Te+et>Ye&&(Te=Ye-et),ze=Te;ze>=0;ze--){for(var yt=!0,wt=0;wt<et;wt++)if(ut(pe,ze+wt)!==ut(_e,wt)){yt=!1;break}if(yt)return ze}return-1}function R(pe,_e,Te,Re){Te=Number(Te)||0;var Ne=pe.length-Te;Re?(Re=Number(Re))>Ne&&(Re=Ne):Re=Ne;var ze,Ge=_e.length;for(Re>Ge/2&&(Re=Ge/2),ze=0;ze<Re;++ze){var Ye=parseInt(_e.substr(2*ze,2),16);if(Me(Ye))return ze;pe[Te+ze]=Ye}return ze}function U(pe,_e,Te,Re){return de(fe(_e,pe.length-Te),pe,Te,Re)}function z(pe,_e,Te,Re){return de(function(Ne){for(var ze=[],Ge=0;Ge<Ne.length;++Ge)ze.push(255&Ne.charCodeAt(Ge));return ze}(_e),pe,Te,Re)}function j(pe,_e,Te,Re){return de(le(_e),pe,Te,Re)}function W(pe,_e,Te,Re){return de(function(Ne,ze){for(var Ge,Ye,et,ut=[],ot=0;ot<Ne.length&&!((ze-=2)<0);++ot)Ye=(Ge=Ne.charCodeAt(ot))>>8,et=Ge%256,ut.push(et),ut.push(Ye);return ut}(_e,pe.length-Te),pe,Te,Re)}function F(pe,_e,Te){return _e===0&&Te===pe.length?u.fromByteArray(pe):u.fromByteArray(pe.slice(_e,Te))}function V(pe,_e,Te){Te=Math.min(pe.length,Te);for(var Re=[],Ne=_e;Ne<Te;){var ze=pe[Ne],Ge=null,Ye=ze>239?4:ze>223?3:ze>191?2:1;if(Ne+Ye<=Te){var et=void 0,ut=void 0,ot=void 0,yt=void 0;switch(Ye){case 1:ze<128&&(Ge=ze);break;case 2:(192&(et=pe[Ne+1]))==128&&(yt=(31&ze)<<6|63&et)>127&&(Ge=yt);break;case 3:et=pe[Ne+1],ut=pe[Ne+2],(192&et)==128&&(192&ut)==128&&(yt=(15&ze)<<12|(63&et)<<6|63&ut)>2047&&(yt<55296||yt>57343)&&(Ge=yt);break;case 4:et=pe[Ne+1],ut=pe[Ne+2],ot=pe[Ne+3],(192&et)==128&&(192&ut)==128&&(192&ot)==128&&(yt=(15&ze)<<18|(63&et)<<12|(63&ut)<<6|63&ot)>65535&&yt<1114112&&(Ge=yt)}}Ge===null?(Ge=65533,Ye=1):Ge>65535&&(Ge-=65536,Re.push(Ge>>>10&1023|55296),Ge=56320|1023&Ge),Re.push(Ge),Ne+=Ye}return function(wt){var bt=wt.length;if(bt<=H)return String.fromCharCode.apply(String,wt);for(var at="",rt=0;rt<bt;)at+=String.fromCharCode.apply(String,wt.slice(rt,rt+=H));return at}(Re)}g.TYPED_ARRAY_SUPPORT=function(){try{var pe=new Uint8Array(1),_e={foo:function(){return 42}};return Object.setPrototypeOf(_e,Uint8Array.prototype),Object.setPrototypeOf(pe,_e),pe.foo()===42}catch{return!1}}(),g.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}}),g.poolSize=8192,g.from=function(pe,_e,Te){return m(pe,_e,Te)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array),g.alloc=function(pe,_e,Te){return function(Re,Ne,ze){return y(Re),Re<=0?d(Re):Ne!==void 0?typeof ze=="string"?d(Re).fill(Ne,ze):d(Re).fill(Ne):d(Re)}(pe,_e,Te)},g.allocUnsafe=function(pe){return x(pe)},g.allocUnsafeSlow=function(pe){return x(pe)},g.isBuffer=function(pe){return pe!=null&&pe._isBuffer===!0&&pe!==g.prototype},g.compare=function(pe,_e){if(Ce(pe,Uint8Array)&&(pe=g.from(pe,pe.offset,pe.byteLength)),Ce(_e,Uint8Array)&&(_e=g.from(_e,_e.offset,_e.byteLength)),!g.isBuffer(pe)||!g.isBuffer(_e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(pe===_e)return 0;for(var Te=pe.length,Re=_e.length,Ne=0,ze=Math.min(Te,Re);Ne<ze;++Ne)if(pe[Ne]!==_e[Ne]){Te=pe[Ne],Re=_e[Ne];break}return Te<Re?-1:Re<Te?1:0},g.isEncoding=function(pe){switch(String(pe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(pe,_e){if(!Array.isArray(pe))throw new TypeError('"list" argument must be an Array of Buffers');if(pe.length===0)return g.alloc(0);var Te;if(_e===void 0)for(_e=0,Te=0;Te<pe.length;++Te)_e+=pe[Te].length;var Re=g.allocUnsafe(_e),Ne=0;for(Te=0;Te<pe.length;++Te){var ze=pe[Te];if(Ce(ze,Uint8Array))Ne+ze.length>Re.length?(g.isBuffer(ze)||(ze=g.from(ze)),ze.copy(Re,Ne)):Uint8Array.prototype.set.call(Re,ze,Ne);else{if(!g.isBuffer(ze))throw new TypeError('"list" argument must be an Array of Buffers');ze.copy(Re,Ne)}Ne+=ze.length}return Re},g.byteLength=M,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var pe=this.length;if(pe%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var _e=0;_e<pe;_e+=2)P(this,_e,_e+1);return this},g.prototype.swap32=function(){var pe=this.length;if(pe%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var _e=0;_e<pe;_e+=4)P(this,_e,_e+3),P(this,_e+1,_e+2);return this},g.prototype.swap64=function(){var pe=this.length;if(pe%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var _e=0;_e<pe;_e+=8)P(this,_e,_e+7),P(this,_e+1,_e+6),P(this,_e+2,_e+5),P(this,_e+3,_e+4);return this},g.prototype.toString=function(){var pe=this.length;return pe===0?"":arguments.length===0?V(this,0,pe):E.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(pe){if(!g.isBuffer(pe))throw new TypeError("Argument must be a Buffer");return this===pe||g.compare(this,pe)===0},g.prototype.inspect=function(){var pe="",_e=s.h2;return pe=this.toString("hex",0,_e).replace(/(.{2})/g,"$1 ").trim(),this.length>_e&&(pe+=" ... "),"<Buffer "+pe+">"},c&&(g.prototype[c]=g.prototype.inspect),g.prototype.compare=function(pe,_e,Te,Re,Ne){if(Ce(pe,Uint8Array)&&(pe=g.from(pe,pe.offset,pe.byteLength)),!g.isBuffer(pe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+o(pe));if(_e===void 0&&(_e=0),Te===void 0&&(Te=pe?pe.length:0),Re===void 0&&(Re=0),Ne===void 0&&(Ne=this.length),_e<0||Te>pe.length||Re<0||Ne>this.length)throw new RangeError("out of range index");if(Re>=Ne&&_e>=Te)return 0;if(Re>=Ne)return-1;if(_e>=Te)return 1;if(this===pe)return 0;for(var ze=(Ne>>>=0)-(Re>>>=0),Ge=(Te>>>=0)-(_e>>>=0),Ye=Math.min(ze,Ge),et=this.slice(Re,Ne),ut=pe.slice(_e,Te),ot=0;ot<Ye;++ot)if(et[ot]!==ut[ot]){ze=et[ot],Ge=ut[ot];break}return ze<Ge?-1:Ge<ze?1:0},g.prototype.includes=function(pe,_e,Te){return this.indexOf(pe,_e,Te)!==-1},g.prototype.indexOf=function(pe,_e,Te){return O(this,pe,_e,Te,!0)},g.prototype.lastIndexOf=function(pe,_e,Te){return O(this,pe,_e,Te,!1)},g.prototype.write=function(pe,_e,Te,Re){if(_e===void 0)Re="utf8",Te=this.length,_e=0;else if(Te===void 0&&typeof _e=="string")Re=_e,Te=this.length,_e=0;else{if(!isFinite(_e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");_e>>>=0,isFinite(Te)?(Te>>>=0,Re===void 0&&(Re="utf8")):(Re=Te,Te=void 0)}var Ne=this.length-_e;if((Te===void 0||Te>Ne)&&(Te=Ne),pe.length>0&&(Te<0||_e<0)||_e>this.length)throw new RangeError("Attempt to write outside buffer bounds");Re||(Re="utf8");for(var ze=!1;;)switch(Re){case"hex":return R(this,pe,_e,Te);case"utf8":case"utf-8":return U(this,pe,_e,Te);case"ascii":case"latin1":case"binary":return z(this,pe,_e,Te);case"base64":return j(this,pe,_e,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,pe,_e,Te);default:if(ze)throw new TypeError("Unknown encoding: "+Re);Re=(""+Re).toLowerCase(),ze=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var H=4096;function te(pe,_e,Te){var Re="";Te=Math.min(pe.length,Te);for(var Ne=_e;Ne<Te;++Ne)Re+=String.fromCharCode(127&pe[Ne]);return Re}function Q(pe,_e,Te){var Re="";Te=Math.min(pe.length,Te);for(var Ne=_e;Ne<Te;++Ne)Re+=String.fromCharCode(pe[Ne]);return Re}function K(pe,_e,Te){var Re=pe.length;(!_e||_e<0)&&(_e=0),(!Te||Te<0||Te>Re)&&(Te=Re);for(var Ne="",ze=_e;ze<Te;++ze)Ne+=Le[pe[ze]];return Ne}function X(pe,_e,Te){for(var Re=pe.slice(_e,Te),Ne="",ze=0;ze<Re.length-1;ze+=2)Ne+=String.fromCharCode(Re[ze]+256*Re[ze+1]);return Ne}function J(pe,_e,Te){if(pe%1!=0||pe<0)throw new RangeError("offset is not uint");if(pe+_e>Te)throw new RangeError("Trying to access beyond buffer length")}function ee(pe,_e,Te,Re,Ne,ze){if(!g.isBuffer(pe))throw new TypeError('"buffer" argument must be a Buffer instance');if(_e>Ne||_e<ze)throw new RangeError('"value" argument is out of bounds');if(Te+Re>pe.length)throw new RangeError("Index out of range")}function ie(pe,_e,Te,Re,Ne){ye(_e,Re,Ne,pe,Te,7);var ze=Number(_e&BigInt(4294967295));pe[Te++]=ze,ze>>=8,pe[Te++]=ze,ze>>=8,pe[Te++]=ze,ze>>=8,pe[Te++]=ze;var Ge=Number(_e>>BigInt(32)&BigInt(4294967295));return pe[Te++]=Ge,Ge>>=8,pe[Te++]=Ge,Ge>>=8,pe[Te++]=Ge,Ge>>=8,pe[Te++]=Ge,Te}function oe(pe,_e,Te,Re,Ne){ye(_e,Re,Ne,pe,Te,7);var ze=Number(_e&BigInt(4294967295));pe[Te+7]=ze,ze>>=8,pe[Te+6]=ze,ze>>=8,pe[Te+5]=ze,ze>>=8,pe[Te+4]=ze;var Ge=Number(_e>>BigInt(32)&BigInt(4294967295));return pe[Te+3]=Ge,Ge>>=8,pe[Te+2]=Ge,Ge>>=8,pe[Te+1]=Ge,Ge>>=8,pe[Te]=Ge,Te+8}function ae(pe,_e,Te,Re,Ne,ze){if(Te+Re>pe.length)throw new RangeError("Index out of range");if(Te<0)throw new RangeError("Index out of range")}function ce(pe,_e,Te,Re,Ne){return _e=+_e,Te>>>=0,Ne||ae(pe,0,Te,4),h.write(pe,_e,Te,Re,23,4),Te+4}function ge(pe,_e,Te,Re,Ne){return _e=+_e,Te>>>=0,Ne||ae(pe,0,Te,8),h.write(pe,_e,Te,Re,52,8),Te+8}g.prototype.slice=function(pe,_e){var Te=this.length;(pe=~~pe)<0?(pe+=Te)<0&&(pe=0):pe>Te&&(pe=Te),(_e=_e===void 0?Te:~~_e)<0?(_e+=Te)<0&&(_e=0):_e>Te&&(_e=Te),_e<pe&&(_e=pe);var Re=this.subarray(pe,_e);return Object.setPrototypeOf(Re,g.prototype),Re},g.prototype.readUintLE=g.prototype.readUIntLE=function(pe,_e,Te){pe>>>=0,_e>>>=0,Te||J(pe,_e,this.length);for(var Re=this[pe],Ne=1,ze=0;++ze<_e&&(Ne*=256);)Re+=this[pe+ze]*Ne;return Re},g.prototype.readUintBE=g.prototype.readUIntBE=function(pe,_e,Te){pe>>>=0,_e>>>=0,Te||J(pe,_e,this.length);for(var Re=this[pe+--_e],Ne=1;_e>0&&(Ne*=256);)Re+=this[pe+--_e]*Ne;return Re},g.prototype.readUint8=g.prototype.readUInt8=function(pe,_e){return pe>>>=0,_e||J(pe,1,this.length),this[pe]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(pe,_e){return pe>>>=0,_e||J(pe,2,this.length),this[pe]|this[pe+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(pe,_e){return pe>>>=0,_e||J(pe,2,this.length),this[pe]<<8|this[pe+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(pe,_e){return pe>>>=0,_e||J(pe,4,this.length),(this[pe]|this[pe+1]<<8|this[pe+2]<<16)+16777216*this[pe+3]},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(pe,_e){return pe>>>=0,_e||J(pe,4,this.length),16777216*this[pe]+(this[pe+1]<<16|this[pe+2]<<8|this[pe+3])},g.prototype.readBigUInt64LE=Oe(function(pe){me(pe>>>=0,"offset");var _e=this[pe],Te=this[pe+7];_e!==void 0&&Te!==void 0||Ae(pe,this.length-8);var Re=_e+this[++pe]*Math.pow(2,8)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,24),Ne=this[++pe]+this[++pe]*Math.pow(2,8)+this[++pe]*Math.pow(2,16)+Te*Math.pow(2,24);return BigInt(Re)+(BigInt(Ne)<<BigInt(32))}),g.prototype.readBigUInt64BE=Oe(function(pe){me(pe>>>=0,"offset");var _e=this[pe],Te=this[pe+7];_e!==void 0&&Te!==void 0||Ae(pe,this.length-8);var Re=_e*Math.pow(2,24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+this[++pe],Ne=this[++pe]*Math.pow(2,24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+Te;return(BigInt(Re)<<BigInt(32))+BigInt(Ne)}),g.prototype.readIntLE=function(pe,_e,Te){pe>>>=0,_e>>>=0,Te||J(pe,_e,this.length);for(var Re=this[pe],Ne=1,ze=0;++ze<_e&&(Ne*=256);)Re+=this[pe+ze]*Ne;return Re>=(Ne*=128)&&(Re-=Math.pow(2,8*_e)),Re},g.prototype.readIntBE=function(pe,_e,Te){pe>>>=0,_e>>>=0,Te||J(pe,_e,this.length);for(var Re=_e,Ne=1,ze=this[pe+--Re];Re>0&&(Ne*=256);)ze+=this[pe+--Re]*Ne;return ze>=(Ne*=128)&&(ze-=Math.pow(2,8*_e)),ze},g.prototype.readInt8=function(pe,_e){return pe>>>=0,_e||J(pe,1,this.length),128&this[pe]?-1*(255-this[pe]+1):this[pe]},g.prototype.readInt16LE=function(pe,_e){pe>>>=0,_e||J(pe,2,this.length);var Te=this[pe]|this[pe+1]<<8;return 32768&Te?4294901760|Te:Te},g.prototype.readInt16BE=function(pe,_e){pe>>>=0,_e||J(pe,2,this.length);var Te=this[pe+1]|this[pe]<<8;return 32768&Te?4294901760|Te:Te},g.prototype.readInt32LE=function(pe,_e){return pe>>>=0,_e||J(pe,4,this.length),this[pe]|this[pe+1]<<8|this[pe+2]<<16|this[pe+3]<<24},g.prototype.readInt32BE=function(pe,_e){return pe>>>=0,_e||J(pe,4,this.length),this[pe]<<24|this[pe+1]<<16|this[pe+2]<<8|this[pe+3]},g.prototype.readBigInt64LE=Oe(function(pe){me(pe>>>=0,"offset");var _e=this[pe],Te=this[pe+7];_e!==void 0&&Te!==void 0||Ae(pe,this.length-8);var Re=this[pe+4]+this[pe+5]*Math.pow(2,8)+this[pe+6]*Math.pow(2,16)+(Te<<24);return(BigInt(Re)<<BigInt(32))+BigInt(_e+this[++pe]*Math.pow(2,8)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,24))}),g.prototype.readBigInt64BE=Oe(function(pe){me(pe>>>=0,"offset");var _e=this[pe],Te=this[pe+7];_e!==void 0&&Te!==void 0||Ae(pe,this.length-8);var Re=(_e<<24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+this[++pe];return(BigInt(Re)<<BigInt(32))+BigInt(this[++pe]*Math.pow(2,24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+Te)}),g.prototype.readFloatLE=function(pe,_e){return pe>>>=0,_e||J(pe,4,this.length),h.read(this,pe,!0,23,4)},g.prototype.readFloatBE=function(pe,_e){return pe>>>=0,_e||J(pe,4,this.length),h.read(this,pe,!1,23,4)},g.prototype.readDoubleLE=function(pe,_e){return pe>>>=0,_e||J(pe,8,this.length),h.read(this,pe,!0,52,8)},g.prototype.readDoubleBE=function(pe,_e){return pe>>>=0,_e||J(pe,8,this.length),h.read(this,pe,!1,52,8)},g.prototype.writeUintLE=g.prototype.writeUIntLE=function(pe,_e,Te,Re){pe=+pe,_e>>>=0,Te>>>=0,Re||ee(this,pe,_e,Te,Math.pow(2,8*Te)-1,0);var Ne=1,ze=0;for(this[_e]=255&pe;++ze<Te&&(Ne*=256);)this[_e+ze]=pe/Ne&255;return _e+Te},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(pe,_e,Te,Re){pe=+pe,_e>>>=0,Te>>>=0,Re||ee(this,pe,_e,Te,Math.pow(2,8*Te)-1,0);var Ne=Te-1,ze=1;for(this[_e+Ne]=255&pe;--Ne>=0&&(ze*=256);)this[_e+Ne]=pe/ze&255;return _e+Te},g.prototype.writeUint8=g.prototype.writeUInt8=function(pe,_e,Te){return pe=+pe,_e>>>=0,Te||ee(this,pe,_e,1,255,0),this[_e]=255&pe,_e+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(pe,_e,Te){return pe=+pe,_e>>>=0,Te||ee(this,pe,_e,2,65535,0),this[_e]=255&pe,this[_e+1]=pe>>>8,_e+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(pe,_e,Te){return pe=+pe,_e>>>=0,Te||ee(this,pe,_e,2,65535,0),this[_e]=pe>>>8,this[_e+1]=255&pe,_e+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(pe,_e,Te){return pe=+pe,_e>>>=0,Te||ee(this,pe,_e,4,4294967295,0),this[_e+3]=pe>>>24,this[_e+2]=pe>>>16,this[_e+1]=pe>>>8,this[_e]=255&pe,_e+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(pe,_e,Te){return pe=+pe,_e>>>=0,Te||ee(this,pe,_e,4,4294967295,0),this[_e]=pe>>>24,this[_e+1]=pe>>>16,this[_e+2]=pe>>>8,this[_e+3]=255&pe,_e+4},g.prototype.writeBigUInt64LE=Oe(function(pe){return ie(this,pe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeBigUInt64BE=Oe(function(pe){return oe(this,pe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeIntLE=function(pe,_e,Te,Re){if(pe=+pe,_e>>>=0,!Re){var Ne=Math.pow(2,8*Te-1);ee(this,pe,_e,Te,Ne-1,-Ne)}var ze=0,Ge=1,Ye=0;for(this[_e]=255&pe;++ze<Te&&(Ge*=256);)pe<0&&Ye===0&&this[_e+ze-1]!==0&&(Ye=1),this[_e+ze]=(pe/Ge>>0)-Ye&255;return _e+Te},g.prototype.writeIntBE=function(pe,_e,Te,Re){if(pe=+pe,_e>>>=0,!Re){var Ne=Math.pow(2,8*Te-1);ee(this,pe,_e,Te,Ne-1,-Ne)}var ze=Te-1,Ge=1,Ye=0;for(this[_e+ze]=255&pe;--ze>=0&&(Ge*=256);)pe<0&&Ye===0&&this[_e+ze+1]!==0&&(Ye=1),this[_e+ze]=(pe/Ge>>0)-Ye&255;return _e+Te},g.prototype.writeInt8=function(pe,_e,Te){return pe=+pe,_e>>>=0,Te||ee(this,pe,_e,1,127,-128),pe<0&&(pe=255+pe+1),this[_e]=255&pe,_e+1},g.prototype.writeInt16LE=function(pe,_e,Te){return pe=+pe,_e>>>=0,Te||ee(this,pe,_e,2,32767,-32768),this[_e]=255&pe,this[_e+1]=pe>>>8,_e+2},g.prototype.writeInt16BE=function(pe,_e,Te){return pe=+pe,_e>>>=0,Te||ee(this,pe,_e,2,32767,-32768),this[_e]=pe>>>8,this[_e+1]=255&pe,_e+2},g.prototype.writeInt32LE=function(pe,_e,Te){return pe=+pe,_e>>>=0,Te||ee(this,pe,_e,4,2147483647,-2147483648),this[_e]=255&pe,this[_e+1]=pe>>>8,this[_e+2]=pe>>>16,this[_e+3]=pe>>>24,_e+4},g.prototype.writeInt32BE=function(pe,_e,Te){return pe=+pe,_e>>>=0,Te||ee(this,pe,_e,4,2147483647,-2147483648),pe<0&&(pe=4294967295+pe+1),this[_e]=pe>>>24,this[_e+1]=pe>>>16,this[_e+2]=pe>>>8,this[_e+3]=255&pe,_e+4},g.prototype.writeBigInt64LE=Oe(function(pe){return ie(this,pe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeBigInt64BE=Oe(function(pe){return oe(this,pe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeFloatLE=function(pe,_e,Te){return ce(this,pe,_e,!0,Te)},g.prototype.writeFloatBE=function(pe,_e,Te){return ce(this,pe,_e,!1,Te)},g.prototype.writeDoubleLE=function(pe,_e,Te){return ge(this,pe,_e,!0,Te)},g.prototype.writeDoubleBE=function(pe,_e,Te){return ge(this,pe,_e,!1,Te)},g.prototype.copy=function(pe,_e,Te,Re){if(!g.isBuffer(pe))throw new TypeError("argument should be a Buffer");if(Te||(Te=0),Re||Re===0||(Re=this.length),_e>=pe.length&&(_e=pe.length),_e||(_e=0),Re>0&&Re<Te&&(Re=Te),Re===Te||pe.length===0||this.length===0)return 0;if(_e<0)throw new RangeError("targetStart out of bounds");if(Te<0||Te>=this.length)throw new RangeError("Index out of range");if(Re<0)throw new RangeError("sourceEnd out of bounds");Re>this.length&&(Re=this.length),pe.length-_e<Re-Te&&(Re=pe.length-_e+Te);var Ne=Re-Te;return this===pe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_e,Te,Re):Uint8Array.prototype.set.call(pe,this.subarray(Te,Re),_e),Ne},g.prototype.fill=function(pe,_e,Te,Re){if(typeof pe=="string"){if(typeof _e=="string"?(Re=_e,_e=0,Te=this.length):typeof Te=="string"&&(Re=Te,Te=this.length),Re!==void 0&&typeof Re!="string")throw new TypeError("encoding must be a string");if(typeof Re=="string"&&!g.isEncoding(Re))throw new TypeError("Unknown encoding: "+Re);if(pe.length===1){var Ne=pe.charCodeAt(0);(Re==="utf8"&&Ne<128||Re==="latin1")&&(pe=Ne)}}else typeof pe=="number"?pe&=255:typeof pe=="boolean"&&(pe=Number(pe));if(_e<0||this.length<_e||this.length<Te)throw new RangeError("Out of range index");if(Te<=_e)return this;var ze;if(_e>>>=0,Te=Te===void 0?this.length:Te>>>0,pe||(pe=0),typeof pe=="number")for(ze=_e;ze<Te;++ze)this[ze]=pe;else{var Ge=g.isBuffer(pe)?pe:g.from(pe,Re),Ye=Ge.length;if(Ye===0)throw new TypeError('The value "'+pe+'" is invalid for argument "value"');for(ze=0;ze<Te-_e;++ze)this[ze+_e]=Ge[ze%Ye]}return this};var ve={};function be(pe,_e,Te){ve[pe]=function(Re){(function(ot,yt){if(typeof yt!="function"&&yt!==null)throw new TypeError("Super expression must either be null or a function");ot.prototype=Object.create(yt&&yt.prototype,{constructor:{value:ot,writable:!0,configurable:!0}}),Object.defineProperty(ot,"prototype",{writable:!1}),yt&&n(ot,yt)})(ut,Re);var Ne,ze,Ge,Ye,et=(Ge=ut,Ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ot,yt=l(Ge);if(Ye){var wt=l(this).constructor;ot=Reflect.construct(yt,arguments,wt)}else ot=yt.apply(this,arguments);return function(bt,at){if(at&&(o(at)==="object"||typeof at=="function"))return at;if(at!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i(bt)}(this,ot)});function ut(){var ot;return function(yt,wt){if(!(yt instanceof wt))throw new TypeError("Cannot call a class as a function")}(this,ut),ot=et.call(this),Object.defineProperty(i(ot),"message",{value:_e.apply(i(ot),arguments),writable:!0,configurable:!0}),ot.name="".concat(ot.name," [").concat(pe,"]"),ot.stack,delete ot.name,ot}return Ne=ut,(ze=[{key:"code",get:function(){return pe},set:function(ot){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ot,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(pe,"]: ").concat(this.message)}}])&&a(Ne.prototype,ze),Object.defineProperty(Ne,"prototype",{writable:!1}),ut}(Te)}function we(pe){for(var _e="",Te=pe.length,Re=pe[0]==="-"?1:0;Te>=Re+4;Te-=3)_e="_".concat(pe.slice(Te-3,Te)).concat(_e);return"".concat(pe.slice(0,Te)).concat(_e)}function ye(pe,_e,Te,Re,Ne,ze){if(pe>Te||pe<_e){var Ge,Ye=typeof _e=="bigint"?"n":"";throw Ge=ze>3?_e===0||_e===BigInt(0)?">= 0".concat(Ye," and < 2").concat(Ye," ** ").concat(8*(ze+1)).concat(Ye):">= -(2".concat(Ye," ** ").concat(8*(ze+1)-1).concat(Ye,") and < 2 ** ")+"".concat(8*(ze+1)-1).concat(Ye):">= ".concat(_e).concat(Ye," and <= ").concat(Te).concat(Ye),new ve.ERR_OUT_OF_RANGE("value",Ge,pe)}(function(et,ut,ot){me(ut,"offset"),et[ut]!==void 0&&et[ut+ot]!==void 0||Ae(ut,et.length-(ot+1))})(Re,Ne,ze)}function me(pe,_e){if(typeof pe!="number")throw new ve.ERR_INVALID_ARG_TYPE(_e,"number",pe)}function Ae(pe,_e,Te){throw Math.floor(pe)!==pe?(me(pe,Te),new ve.ERR_OUT_OF_RANGE(Te||"offset","an integer",pe)):_e<0?new ve.ERR_BUFFER_OUT_OF_BOUNDS:new ve.ERR_OUT_OF_RANGE(Te||"offset",">= ".concat(Te?1:0," and <= ").concat(_e),pe)}be("ERR_BUFFER_OUT_OF_BOUNDS",function(pe){return pe?"".concat(pe," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),be("ERR_INVALID_ARG_TYPE",function(pe,_e){return'The "'.concat(pe,'" argument must be of type number. Received type ').concat(o(_e))},TypeError),be("ERR_OUT_OF_RANGE",function(pe,_e,Te){var Re='The value of "'.concat(pe,'" is out of range.'),Ne=Te;return Number.isInteger(Te)&&Math.abs(Te)>Math.pow(2,32)?Ne=we(String(Te)):typeof Te=="bigint"&&(Ne=String(Te),(Te>Math.pow(BigInt(2),BigInt(32))||Te<-Math.pow(BigInt(2),BigInt(32)))&&(Ne=we(Ne)),Ne+="n"),Re+" It must be ".concat(_e,". Received ").concat(Ne)},RangeError);var ke=/[^+/0-9A-Za-z-_]/g;function fe(pe,_e){var Te;_e=_e||1/0;for(var Re=pe.length,Ne=null,ze=[],Ge=0;Ge<Re;++Ge){if((Te=pe.charCodeAt(Ge))>55295&&Te<57344){if(!Ne){if(Te>56319){(_e-=3)>-1&&ze.push(239,191,189);continue}if(Ge+1===Re){(_e-=3)>-1&&ze.push(239,191,189);continue}Ne=Te;continue}if(Te<56320){(_e-=3)>-1&&ze.push(239,191,189),Ne=Te;continue}Te=65536+(Ne-55296<<10|Te-56320)}else Ne&&(_e-=3)>-1&&ze.push(239,191,189);if(Ne=null,Te<128){if((_e-=1)<0)break;ze.push(Te)}else if(Te<2048){if((_e-=2)<0)break;ze.push(Te>>6|192,63&Te|128)}else if(Te<65536){if((_e-=3)<0)break;ze.push(Te>>12|224,Te>>6&63|128,63&Te|128)}else{if(!(Te<1114112))throw new Error("Invalid code point");if((_e-=4)<0)break;ze.push(Te>>18|240,Te>>12&63|128,Te>>6&63|128,63&Te|128)}}return ze}function le(pe){return u.toByteArray(function(_e){if((_e=(_e=_e.split("=")[0]).trim().replace(ke,"")).length<2)return"";for(;_e.length%4!=0;)_e+="=";return _e}(pe))}function de(pe,_e,Te,Re){var Ne;for(Ne=0;Ne<Re&&!(Ne+Te>=_e.length||Ne>=pe.length);++Ne)_e[Ne+Te]=pe[Ne];return Ne}function Ce(pe,_e){return pe instanceof _e||pe!=null&&pe.constructor!=null&&pe.constructor.name!=null&&pe.constructor.name===_e.name}function Me(pe){return pe!=pe}var Le=function(){for(var pe="0123456789abcdef",_e=new Array(256),Te=0;Te<16;++Te)for(var Re=16*Te,Ne=0;Ne<16;++Ne)_e[Re+Ne]=pe[Te]+pe[Ne];return _e}();function Oe(pe){return typeof BigInt>"u"?Be:pe}function Be(){throw new Error("BigInt not supported")}},2321:function(f){f.exports=n,f.exports.isMobile=n,f.exports.default=n;var s=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,a=/android|ipad|playbook|silk/i;function n(i){i||(i={});var l=i.ua;if(l||typeof navigator>"u"||(l=navigator.userAgent),l&&l.headers&&typeof l.headers["user-agent"]=="string"&&(l=l.headers["user-agent"]),typeof l!="string")return!1;var o=s.test(l)&&!t.test(l)||!!i.tablet&&a.test(l);return!o&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&l.indexOf("Macintosh")!==-1&&l.indexOf("Safari")!==-1&&(o=!0),o}},3910:function(f,s){s.byteLength=function(h){var c=o(h),b=c[0],d=c[1];return 3*(b+d)/4-d},s.toByteArray=function(h){var c,b,d=o(h),g=d[0],m=d[1],y=new n(function(p,S,M){return 3*(S+M)/4-M}(0,g,m)),x=0,T=m>0?g-4:g;for(b=0;b<T;b+=4)c=a[h.charCodeAt(b)]<<18|a[h.charCodeAt(b+1)]<<12|a[h.charCodeAt(b+2)]<<6|a[h.charCodeAt(b+3)],y[x++]=c>>16&255,y[x++]=c>>8&255,y[x++]=255&c;return m===2&&(c=a[h.charCodeAt(b)]<<2|a[h.charCodeAt(b+1)]>>4,y[x++]=255&c),m===1&&(c=a[h.charCodeAt(b)]<<10|a[h.charCodeAt(b+1)]<<4|a[h.charCodeAt(b+2)]>>2,y[x++]=c>>8&255,y[x++]=255&c),y},s.fromByteArray=function(h){for(var c,b=h.length,d=b%3,g=[],m=16383,y=0,x=b-d;y<x;y+=m)g.push(u(h,y,y+m>x?x:y+m));return d===1?(c=h[b-1],g.push(t[c>>2]+t[c<<4&63]+"==")):d===2&&(c=(h[b-2]<<8)+h[b-1],g.push(t[c>>10]+t[c>>4&63]+t[c<<2&63]+"=")),g.join("")};for(var t=[],a=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0;l<64;++l)t[l]=i[l],a[i.charCodeAt(l)]=l;function o(h){var c=h.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=h.indexOf("=");return b===-1&&(b=c),[b,b===c?0:4-b%4]}function u(h,c,b){for(var d,g,m=[],y=c;y<b;y+=3)d=(h[y]<<16&16711680)+(h[y+1]<<8&65280)+(255&h[y+2]),m.push(t[(g=d)>>18&63]+t[g>>12&63]+t[g>>6&63]+t[63&g]);return m.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},3187:function(f,s){s.read=function(t,a,n,i,l){var o,u,h=8*l-i-1,c=(1<<h)-1,b=c>>1,d=-7,g=n?l-1:0,m=n?-1:1,y=t[a+g];for(g+=m,o=y&(1<<-d)-1,y>>=-d,d+=h;d>0;o=256*o+t[a+g],g+=m,d-=8);for(u=o&(1<<-d)-1,o>>=-d,d+=i;d>0;u=256*u+t[a+g],g+=m,d-=8);if(o===0)o=1-b;else{if(o===c)return u?NaN:1/0*(y?-1:1);u+=Math.pow(2,i),o-=b}return(y?-1:1)*u*Math.pow(2,o-i)},s.write=function(t,a,n,i,l,o){var u,h,c,b=8*o-l-1,d=(1<<b)-1,g=d>>1,m=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=i?0:o-1,x=i?1:-1,T=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(h=isNaN(a)?1:0,u=d):(u=Math.floor(Math.log(a)/Math.LN2),a*(c=Math.pow(2,-u))<1&&(u--,c*=2),(a+=u+g>=1?m/c:m*Math.pow(2,1-g))*c>=2&&(u++,c/=2),u+g>=d?(h=0,u=d):u+g>=1?(h=(a*c-1)*Math.pow(2,l),u+=g):(h=a*Math.pow(2,g-1)*Math.pow(2,l),u=0));l>=8;t[n+y]=255&h,y+=x,h/=256,l-=8);for(u=u<<l|h,b+=l;b>0;t[n+y]=255&u,y+=x,u/=256,b-=8);t[n+y-x]|=128*T}},1152:function(f,s,t){f.exports=function(u){var h=(u=u||{}).eye||[0,0,1],c=u.center||[0,0,0],b=u.up||[0,1,0],d=u.distanceLimits||[0,1/0],g=u.mode||"turntable",m=a(),y=n(),x=i();return m.setDistanceLimits(d[0],d[1]),m.lookAt(0,h,c,b),y.setDistanceLimits(d[0],d[1]),y.lookAt(0,h,c,b),x.setDistanceLimits(d[0],d[1]),x.lookAt(0,h,c,b),new l({turntable:m,orbit:y,matrix:x},g)};var a=t(3440),n=t(7774),i=t(9298);function l(u,h){this._controllerNames=Object.keys(u),this._controllerList=this._controllerNames.map(function(c){return u[c]}),this._mode=h,this._active=u[h],this._active||(this._mode="turntable",this._active=u.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var o=l.prototype;o.flush=function(u){for(var h=this._controllerList,c=0;c<h.length;++c)h[c].flush(u)},o.idle=function(u){for(var h=this._controllerList,c=0;c<h.length;++c)h[c].idle(u)},o.lookAt=function(u,h,c,b){for(var d=this._controllerList,g=0;g<d.length;++g)d[g].lookAt(u,h,c,b)},o.rotate=function(u,h,c,b){for(var d=this._controllerList,g=0;g<d.length;++g)d[g].rotate(u,h,c,b)},o.pan=function(u,h,c,b){for(var d=this._controllerList,g=0;g<d.length;++g)d[g].pan(u,h,c,b)},o.translate=function(u,h,c,b){for(var d=this._controllerList,g=0;g<d.length;++g)d[g].translate(u,h,c,b)},o.setMatrix=function(u,h){for(var c=this._controllerList,b=0;b<c.length;++b)c[b].setMatrix(u,h)},o.setDistanceLimits=function(u,h){for(var c=this._controllerList,b=0;b<c.length;++b)c[b].setDistanceLimits(u,h)},o.setDistance=function(u,h){for(var c=this._controllerList,b=0;b<c.length;++b)c[b].setDistance(u,h)},o.recalcMatrix=function(u){this._active.recalcMatrix(u)},o.getDistance=function(u){return this._active.getDistance(u)},o.getDistanceLimits=function(u){return this._active.getDistanceLimits(u)},o.lastT=function(){return this._active.lastT()},o.setMode=function(u){if(u!==this._mode){var h=this._controllerNames.indexOf(u);if(!(h<0)){var c=this._active,b=this._controllerList[h],d=Math.max(c.lastT(),b.lastT());c.recalcMatrix(d),b.setMatrix(d,c.computedMatrix),this._active=b,this._mode=u,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},o.getMode=function(){return this._mode}},8126:function(f,s,t){var a=typeof WeakMap>"u"?t(5346):WeakMap,n=t(5827),i=t(2944),l=new a;f.exports=function(o){var u=l.get(o),h=u&&(u._triangleBuffer.handle||u._triangleBuffer.buffer);if(!h||!o.isBuffer(h)){var c=n(o,new Float32Array([-1,-1,-1,4,4,-1]));(u=i(o,[{buffer:c,type:o.FLOAT,size:2}]))._triangleBuffer=c,l.set(o,u)}u.bind(),o.drawArrays(o.TRIANGLES,0,3),u.unbind()}},8008:function(f,s,t){var a=t(4930);f.exports=function(n,i,l){i=typeof i=="number"?i:1,l=l||": ";var o=n.split(/\r?\n/),u=String(o.length+i-1).length;return o.map(function(h,c){var b=c+i,d=String(b).length;return a(b,u-d)+l+h}).join(`
`)}},2153:function(f,s,t){f.exports=function(i){var l=i.length;if(l===0)return[];if(l===1)return[0];for(var o=i[0].length,u=[i[0]],h=[0],c=1;c<l;++c)if(u.push(i[c]),n(u,o)){if(h.push(c),h.length===o+1)return h}else u.pop();return h};var a=t(417);function n(i,l){for(var o=new Array(l+1),u=0;u<i.length;++u)o[u]=i[u];for(u=0;u<=i.length;++u){for(var h=i.length;h<=l;++h){for(var c=new Array(l),b=0;b<l;++b)c[b]=Math.pow(h+1-u,b);o[h]=c}if(a.apply(void 0,o))return!0}return!1}},4653:function(f,s,t){f.exports=function(i,l){return a(l).filter(function(o){for(var u=new Array(o.length),h=0;h<o.length;++h)u[h]=l[o[h]];return n(u)*i<1})};var a=t(4419),n=t(1778)},2350:function(f,s,t){f.exports=function(i,l){return n(a(i,l))};var a=t(4653),n=t(8691)},7896:function(f){f.exports=function(s){return atob(s)}},957:function(f,s,t){f.exports=function(i,l){for(var o=l.length,u=new Array(o+1),h=0;h<o;++h){for(var c=new Array(o+1),b=0;b<=o;++b)c[b]=i[b][h];u[h]=c}for(u[o]=new Array(o+1),h=0;h<=o;++h)u[o][h]=1;var d=new Array(o+1);for(h=0;h<o;++h)d[h]=l[h];d[o]=1;var g=a(u,d),m=n(g[o+1]);m===0&&(m=1);var y=new Array(o+1);for(h=0;h<=o;++h)y[h]=n(g[h])/m;return y};var a=t(6606);function n(i){for(var l=0,o=0;o<i.length;++o)l+=i[o];return l}},1539:function(f,s,t){var a=t(8524);f.exports=function(n,i){return a(n[0].mul(i[1]).add(i[0].mul(n[1])),n[1].mul(i[1]))}},8846:function(f){f.exports=function(s,t){return s[0].mul(t[1]).cmp(t[0].mul(s[1]))}},9189:function(f,s,t){var a=t(8524);f.exports=function(n,i){return a(n[0].mul(i[1]),n[1].mul(i[0]))}},5125:function(f,s,t){var a=t(234),n=t(3218),i=t(5514),l=t(2813),o=t(8524),u=t(9189);f.exports=function h(c,b){if(a(c))return b?u(c,h(b)):[c[0].clone(),c[1].clone()];var d,g,m=0;if(n(c))d=c.clone();else if(typeof c=="string")d=l(c);else{if(c===0)return[i(0),i(1)];if(c===Math.floor(c))d=i(c);else{for(;c!==Math.floor(c);)c*=Math.pow(2,256),m-=256;d=i(c)}}if(a(b))d.mul(b[1]),g=b[0].clone();else if(n(b))g=b.clone();else if(typeof b=="string")g=l(b);else if(b)if(b===Math.floor(b))g=i(b);else{for(;b!==Math.floor(b);)b*=Math.pow(2,256),m+=256;g=i(b)}else g=i(1);return m>0?d=d.ushln(m):m<0&&(g=g.ushln(-m)),o(d,g)}},234:function(f,s,t){var a=t(3218);f.exports=function(n){return Array.isArray(n)&&n.length===2&&a(n[0])&&a(n[1])}},4275:function(f,s,t){var a=t(1928);f.exports=function(n){return n.cmp(new a(0))}},9958:function(f,s,t){var a=t(4275);f.exports=function(n){var i=n.length,l=n.words,o=0;if(i===1)o=l[0];else if(i===2)o=l[0]+67108864*l[1];else for(var u=0;u<i;u++)o+=l[u]*Math.pow(67108864,u);return a(n)*o}},1112:function(f,s,t){var a=t(8362),n=t(2288).countTrailingZeros;f.exports=function(i){var l=n(a.lo(i));if(l<32)return l;var o=n(a.hi(i));return o>20?52:o+32}},3218:function(f,s,t){t(1928),f.exports=function(a){return a&&typeof a=="object"&&!!a.words}},5514:function(f,s,t){var a=t(1928),n=t(8362);f.exports=function(i){var l=n.exponent(i);return l<52?new a(i):new a(i*Math.pow(2,52-l)).ushln(l-52)}},8524:function(f,s,t){var a=t(5514),n=t(4275);f.exports=function(i,l){var o=n(i),u=n(l);if(o===0)return[a(0),a(1)];if(u===0)return[a(0),a(0)];u<0&&(i=i.neg(),l=l.neg());var h=i.gcd(l);return h.cmpn(1)?[i.div(h),l.div(h)]:[i,l]}},2813:function(f,s,t){var a=t(1928);f.exports=function(n){return new a(n)}},3962:function(f,s,t){var a=t(8524);f.exports=function(n,i){return a(n[0].mul(i[0]),n[1].mul(i[1]))}},4951:function(f,s,t){var a=t(4275);f.exports=function(n){return a(n[0])*a(n[1])}},4354:function(f,s,t){var a=t(8524);f.exports=function(n,i){return a(n[0].mul(i[1]).sub(n[1].mul(i[0])),n[1].mul(i[1]))}},7999:function(f,s,t){var a=t(9958),n=t(1112);f.exports=function(i){var l=i[0],o=i[1];if(l.cmpn(0)===0)return 0;var u=l.abs().divmod(o.abs()),h=u.div,c=a(h),b=u.mod,d=l.negative!==o.negative?-1:1;if(b.cmpn(0)===0)return d*c;if(c){var g=n(c)+4;return d*(c+(y=a(b.ushln(g).divRound(o)))*Math.pow(2,-g))}var m=o.bitLength()-b.bitLength()+53,y=a(b.ushln(m).divRound(o));return m<1023?d*y*Math.pow(2,-m):d*(y*=Math.pow(2,-1023))*Math.pow(2,1023-m)}},5070:function(f){function s(o,u,h,c,b){for(var d=b+1;c<=b;){var g=c+b>>>1,m=o[g];(h!==void 0?h(m,u):m-u)>=0?(d=g,b=g-1):c=g+1}return d}function t(o,u,h,c,b){for(var d=b+1;c<=b;){var g=c+b>>>1,m=o[g];(h!==void 0?h(m,u):m-u)>0?(d=g,b=g-1):c=g+1}return d}function a(o,u,h,c,b){for(var d=c-1;c<=b;){var g=c+b>>>1,m=o[g];(h!==void 0?h(m,u):m-u)<0?(d=g,c=g+1):b=g-1}return d}function n(o,u,h,c,b){for(var d=c-1;c<=b;){var g=c+b>>>1,m=o[g];(h!==void 0?h(m,u):m-u)<=0?(d=g,c=g+1):b=g-1}return d}function i(o,u,h,c,b){for(;c<=b;){var d=c+b>>>1,g=o[d],m=h!==void 0?h(g,u):g-u;if(m===0)return d;m<=0?c=d+1:b=d-1}return-1}function l(o,u,h,c,b,d){return typeof h=="function"?d(o,u,h,c===void 0?0:0|c,b===void 0?o.length-1:0|b):d(o,u,void 0,h===void 0?0:0|h,c===void 0?o.length-1:0|c)}f.exports={ge:function(o,u,h,c,b){return l(o,u,h,c,b,s)},gt:function(o,u,h,c,b){return l(o,u,h,c,b,t)},lt:function(o,u,h,c,b){return l(o,u,h,c,b,a)},le:function(o,u,h,c,b){return l(o,u,h,c,b,n)},eq:function(o,u,h,c,b){return l(o,u,h,c,b,i)}}},2288:function(f,s){function t(n){var i=32;return(n&=-n)&&i--,65535&n&&(i-=16),16711935&n&&(i-=8),252645135&n&&(i-=4),858993459&n&&(i-=2),1431655765&n&&(i-=1),i}s.INT_BITS=32,s.INT_MAX=2147483647,s.INT_MIN=-2147483648,s.sign=function(n){return(n>0)-(n<0)},s.abs=function(n){var i=n>>31;return(n^i)-i},s.min=function(n,i){return i^(n^i)&-(n<i)},s.max=function(n,i){return n^(n^i)&-(n<i)},s.isPow2=function(n){return!(n&n-1||!n)},s.log2=function(n){var i,l;return i=(n>65535)<<4,i|=l=((n>>>=i)>255)<<3,i|=l=((n>>>=l)>15)<<2,(i|=l=((n>>>=l)>3)<<1)|(n>>>=l)>>1},s.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},s.popCount=function(n){return 16843009*((n=(858993459&(n-=n>>>1&1431655765))+(n>>>2&858993459))+(n>>>4)&252645135)>>>24},s.countTrailingZeros=t,s.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,1+((n|=n>>>8)|n>>>16)},s.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,(n|=n>>>16)-(n>>>1)},s.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,27030>>>(n&=15)&1};var a=new Array(256);(function(n){for(var i=0;i<256;++i){var l=i,o=i,u=7;for(l>>>=1;l;l>>>=1)o<<=1,o|=1&l,--u;n[i]=o<<u&255}})(a),s.reverse=function(n){return a[255&n]<<24|a[n>>>8&255]<<16|a[n>>>16&255]<<8|a[n>>>24&255]},s.interleave2=function(n,i){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i&=65535)|i<<8))|i<<4))|i<<2))|i<<1))<<1},s.deinterleave2=function(n,i){return(n=65535&((n=16711935&((n=252645135&((n=858993459&((n=n>>>i&1431655765)|n>>>1))|n>>>2))|n>>>4))|n>>>16))<<16>>16},s.interleave3=function(n,i,l){return n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2),(n|=(i=1227133513&((i=3272356035&((i=251719695&((i=4278190335&((i&=1023)|i<<16))|i<<8))|i<<4))|i<<2))<<1)|(l=1227133513&((l=3272356035&((l=251719695&((l=4278190335&((l&=1023)|l<<16))|l<<8))|l<<4))|l<<2))<<2},s.deinterleave3=function(n,i){return(n=1023&((n=4278190335&((n=251719695&((n=3272356035&((n=n>>>i&1227133513)|n>>>2))|n>>>4))|n>>>8))|n>>>16))<<22>>22},s.nextCombination=function(n){var i=n|n-1;return i+1|(~i&-~i)-1>>>t(n)+1}},1928:function(f,s,t){(function(a,n){function i(z,j){if(!z)throw new Error(j||"Assertion failed")}function l(z,j){z.super_=j;var W=function(){};W.prototype=j.prototype,z.prototype=new W,z.prototype.constructor=z}function o(z,j,W){if(o.isBN(z))return z;this.negative=0,this.words=null,this.length=0,this.red=null,z!==null&&(j!=="le"&&j!=="be"||(W=j,j=10),this._init(z||0,j||10,W||"be"))}var u;typeof a=="object"?a.exports=o:n.BN=o,o.BN=o,o.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t(6601).Buffer}catch{}function h(z,j){var W=z.charCodeAt(j);return W>=65&&W<=70?W-55:W>=97&&W<=102?W-87:W-48&15}function c(z,j,W){var F=h(z,W);return W-1>=j&&(F|=h(z,W-1)<<4),F}function b(z,j,W,F){for(var V=0,H=Math.min(z.length,W),te=j;te<H;te++){var Q=z.charCodeAt(te)-48;V*=F,V+=Q>=49?Q-49+10:Q>=17?Q-17+10:Q}return V}o.isBN=function(z){return z instanceof o||z!==null&&typeof z=="object"&&z.constructor.wordSize===o.wordSize&&Array.isArray(z.words)},o.max=function(z,j){return z.cmp(j)>0?z:j},o.min=function(z,j){return z.cmp(j)<0?z:j},o.prototype._init=function(z,j,W){if(typeof z=="number")return this._initNumber(z,j,W);if(typeof z=="object")return this._initArray(z,j,W);j==="hex"&&(j=16),i(j===(0|j)&&j>=2&&j<=36);var F=0;(z=z.toString().replace(/\s+/g,""))[0]==="-"&&(F++,this.negative=1),F<z.length&&(j===16?this._parseHex(z,F,W):(this._parseBase(z,j,F),W==="le"&&this._initArray(this.toArray(),j,W)))},o.prototype._initNumber=function(z,j,W){z<0&&(this.negative=1,z=-z),z<67108864?(this.words=[67108863&z],this.length=1):z<4503599627370496?(this.words=[67108863&z,z/67108864&67108863],this.length=2):(i(z<9007199254740992),this.words=[67108863&z,z/67108864&67108863,1],this.length=3),W==="le"&&this._initArray(this.toArray(),j,W)},o.prototype._initArray=function(z,j,W){if(i(typeof z.length=="number"),z.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(z.length/3),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var V,H,te=0;if(W==="be")for(F=z.length-1,V=0;F>=0;F-=3)H=z[F]|z[F-1]<<8|z[F-2]<<16,this.words[V]|=H<<te&67108863,this.words[V+1]=H>>>26-te&67108863,(te+=24)>=26&&(te-=26,V++);else if(W==="le")for(F=0,V=0;F<z.length;F+=3)H=z[F]|z[F+1]<<8|z[F+2]<<16,this.words[V]|=H<<te&67108863,this.words[V+1]=H>>>26-te&67108863,(te+=24)>=26&&(te-=26,V++);return this.strip()},o.prototype._parseHex=function(z,j,W){this.length=Math.ceil((z.length-j)/6),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var V,H=0,te=0;if(W==="be")for(F=z.length-1;F>=j;F-=2)V=c(z,j,F)<<H,this.words[te]|=67108863&V,H>=18?(H-=18,te+=1,this.words[te]|=V>>>26):H+=8;else for(F=(z.length-j)%2==0?j+1:j;F<z.length;F+=2)V=c(z,j,F)<<H,this.words[te]|=67108863&V,H>=18?(H-=18,te+=1,this.words[te]|=V>>>26):H+=8;this.strip()},o.prototype._parseBase=function(z,j,W){this.words=[0],this.length=1;for(var F=0,V=1;V<=67108863;V*=j)F++;F--,V=V/j|0;for(var H=z.length-W,te=H%F,Q=Math.min(H,H-te)+W,K=0,X=W;X<Q;X+=F)K=b(z,X,X+F,j),this.imuln(V),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K);if(te!==0){var J=1;for(K=b(z,X,z.length,j),X=0;X<te;X++)J*=j;this.imuln(J),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K)}this.strip()},o.prototype.copy=function(z){z.words=new Array(this.length);for(var j=0;j<this.length;j++)z.words[j]=this.words[j];z.length=this.length,z.negative=this.negative,z.red=this.red},o.prototype.clone=function(){var z=new o(null);return this.copy(z),z},o.prototype._expand=function(z){for(;this.length<z;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(z,j,W){W.negative=j.negative^z.negative;var F=z.length+j.length|0;W.length=F,F=F-1|0;var V=0|z.words[0],H=0|j.words[0],te=V*H,Q=67108863&te,K=te/67108864|0;W.words[0]=Q;for(var X=1;X<F;X++){for(var J=K>>>26,ee=67108863&K,ie=Math.min(X,j.length-1),oe=Math.max(0,X-z.length+1);oe<=ie;oe++){var ae=X-oe|0;J+=(te=(V=0|z.words[ae])*(H=0|j.words[oe])+ee)/67108864|0,ee=67108863&te}W.words[X]=0|ee,K=0|J}return K!==0?W.words[X]=0|K:W.length--,W.strip()}o.prototype.toString=function(z,j){var W;if(j=0|j||1,(z=z||10)===16||z==="hex"){W="";for(var F=0,V=0,H=0;H<this.length;H++){var te=this.words[H],Q=(16777215&(te<<F|V)).toString(16);W=(V=te>>>24-F&16777215)!=0||H!==this.length-1?d[6-Q.length]+Q+W:Q+W,(F+=2)>=26&&(F-=26,H--)}for(V!==0&&(W=V.toString(16)+W);W.length%j!=0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}if(z===(0|z)&&z>=2&&z<=36){var K=g[z],X=m[z];W="";var J=this.clone();for(J.negative=0;!J.isZero();){var ee=J.modn(X).toString(z);W=(J=J.idivn(X)).isZero()?ee+W:d[K-ee.length]+ee+W}for(this.isZero()&&(W="0"+W);W.length%j!=0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var z=this.words[0];return this.length===2?z+=67108864*this.words[1]:this.length===3&&this.words[2]===1?z+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-z:z},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(z,j){return i(u!==void 0),this.toArrayLike(u,z,j)},o.prototype.toArray=function(z,j){return this.toArrayLike(Array,z,j)},o.prototype.toArrayLike=function(z,j,W){var F=this.byteLength(),V=W||Math.max(1,F);i(F<=V,"byte array longer than desired length"),i(V>0,"Requested array length <= 0"),this.strip();var H,te,Q=j==="le",K=new z(V),X=this.clone();if(Q){for(te=0;!X.isZero();te++)H=X.andln(255),X.iushrn(8),K[te]=H;for(;te<V;te++)K[te]=0}else{for(te=0;te<V-F;te++)K[te]=0;for(te=0;!X.isZero();te++)H=X.andln(255),X.iushrn(8),K[V-te-1]=H}return K},Math.clz32?o.prototype._countBits=function(z){return 32-Math.clz32(z)}:o.prototype._countBits=function(z){var j=z,W=0;return j>=4096&&(W+=13,j>>>=13),j>=64&&(W+=7,j>>>=7),j>=8&&(W+=4,j>>>=4),j>=2&&(W+=2,j>>>=2),W+j},o.prototype._zeroBits=function(z){if(z===0)return 26;var j=z,W=0;return!(8191&j)&&(W+=13,j>>>=13),!(127&j)&&(W+=7,j>>>=7),!(15&j)&&(W+=4,j>>>=4),!(3&j)&&(W+=2,j>>>=2),!(1&j)&&W++,W},o.prototype.bitLength=function(){var z=this.words[this.length-1],j=this._countBits(z);return 26*(this.length-1)+j},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var z=0,j=0;j<this.length;j++){var W=this._zeroBits(this.words[j]);if(z+=W,W!==26)break}return z},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(z){return this.negative!==0?this.abs().inotn(z).iaddn(1):this.clone()},o.prototype.fromTwos=function(z){return this.testn(z-1)?this.notn(z).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(z){for(;this.length<z.length;)this.words[this.length++]=0;for(var j=0;j<z.length;j++)this.words[j]=this.words[j]|z.words[j];return this.strip()},o.prototype.ior=function(z){return i((this.negative|z.negative)==0),this.iuor(z)},o.prototype.or=function(z){return this.length>z.length?this.clone().ior(z):z.clone().ior(this)},o.prototype.uor=function(z){return this.length>z.length?this.clone().iuor(z):z.clone().iuor(this)},o.prototype.iuand=function(z){var j;j=this.length>z.length?z:this;for(var W=0;W<j.length;W++)this.words[W]=this.words[W]&z.words[W];return this.length=j.length,this.strip()},o.prototype.iand=function(z){return i((this.negative|z.negative)==0),this.iuand(z)},o.prototype.and=function(z){return this.length>z.length?this.clone().iand(z):z.clone().iand(this)},o.prototype.uand=function(z){return this.length>z.length?this.clone().iuand(z):z.clone().iuand(this)},o.prototype.iuxor=function(z){var j,W;this.length>z.length?(j=this,W=z):(j=z,W=this);for(var F=0;F<W.length;F++)this.words[F]=j.words[F]^W.words[F];if(this!==j)for(;F<j.length;F++)this.words[F]=j.words[F];return this.length=j.length,this.strip()},o.prototype.ixor=function(z){return i((this.negative|z.negative)==0),this.iuxor(z)},o.prototype.xor=function(z){return this.length>z.length?this.clone().ixor(z):z.clone().ixor(this)},o.prototype.uxor=function(z){return this.length>z.length?this.clone().iuxor(z):z.clone().iuxor(this)},o.prototype.inotn=function(z){i(typeof z=="number"&&z>=0);var j=0|Math.ceil(z/26),W=z%26;this._expand(j),W>0&&j--;for(var F=0;F<j;F++)this.words[F]=67108863&~this.words[F];return W>0&&(this.words[F]=~this.words[F]&67108863>>26-W),this.strip()},o.prototype.notn=function(z){return this.clone().inotn(z)},o.prototype.setn=function(z,j){i(typeof z=="number"&&z>=0);var W=z/26|0,F=z%26;return this._expand(W+1),this.words[W]=j?this.words[W]|1<<F:this.words[W]&~(1<<F),this.strip()},o.prototype.iadd=function(z){var j,W,F;if(this.negative!==0&&z.negative===0)return this.negative=0,j=this.isub(z),this.negative^=1,this._normSign();if(this.negative===0&&z.negative!==0)return z.negative=0,j=this.isub(z),z.negative=1,j._normSign();this.length>z.length?(W=this,F=z):(W=z,F=this);for(var V=0,H=0;H<F.length;H++)j=(0|W.words[H])+(0|F.words[H])+V,this.words[H]=67108863&j,V=j>>>26;for(;V!==0&&H<W.length;H++)j=(0|W.words[H])+V,this.words[H]=67108863&j,V=j>>>26;if(this.length=W.length,V!==0)this.words[this.length]=V,this.length++;else if(W!==this)for(;H<W.length;H++)this.words[H]=W.words[H];return this},o.prototype.add=function(z){var j;return z.negative!==0&&this.negative===0?(z.negative=0,j=this.sub(z),z.negative^=1,j):z.negative===0&&this.negative!==0?(this.negative=0,j=z.sub(this),this.negative=1,j):this.length>z.length?this.clone().iadd(z):z.clone().iadd(this)},o.prototype.isub=function(z){if(z.negative!==0){z.negative=0;var j=this.iadd(z);return z.negative=1,j._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(z),this.negative=1,this._normSign();var W,F,V=this.cmp(z);if(V===0)return this.negative=0,this.length=1,this.words[0]=0,this;V>0?(W=this,F=z):(W=z,F=this);for(var H=0,te=0;te<F.length;te++)H=(j=(0|W.words[te])-(0|F.words[te])+H)>>26,this.words[te]=67108863&j;for(;H!==0&&te<W.length;te++)H=(j=(0|W.words[te])+H)>>26,this.words[te]=67108863&j;if(H===0&&te<W.length&&W!==this)for(;te<W.length;te++)this.words[te]=W.words[te];return this.length=Math.max(this.length,te),W!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(z){return this.clone().isub(z)};var x=function(z,j,W){var F,V,H,te=z.words,Q=j.words,K=W.words,X=0,J=0|te[0],ee=8191&J,ie=J>>>13,oe=0|te[1],ae=8191&oe,ce=oe>>>13,ge=0|te[2],ve=8191&ge,be=ge>>>13,we=0|te[3],ye=8191&we,me=we>>>13,Ae=0|te[4],ke=8191&Ae,fe=Ae>>>13,le=0|te[5],de=8191&le,Ce=le>>>13,Me=0|te[6],Le=8191&Me,Oe=Me>>>13,Be=0|te[7],pe=8191&Be,_e=Be>>>13,Te=0|te[8],Re=8191&Te,Ne=Te>>>13,ze=0|te[9],Ge=8191&ze,Ye=ze>>>13,et=0|Q[0],ut=8191&et,ot=et>>>13,yt=0|Q[1],wt=8191&yt,bt=yt>>>13,at=0|Q[2],rt=8191&at,At=at>>>13,Rt=0|Q[3],Ft=8191&Rt,Dt=Rt>>>13,Xe=0|Q[4],Ke=8191&Xe,Ve=Xe>>>13,Je=0|Q[5],ct=8191&Je,st=Je>>>13,je=0|Q[6],Ue=8191&je,lt=je>>>13,Qe=0|Q[7],gt=8191&Qe,mt=Qe>>>13,xt=0|Q[8],dt=8191&xt,Lt=xt>>>13,kt=0|Q[9],_t=8191&kt,Ot=kt>>>13;W.negative=z.negative^j.negative,W.length=19;var Pt=(X+(F=Math.imul(ee,ut))|0)+((8191&(V=(V=Math.imul(ee,ot))+Math.imul(ie,ut)|0))<<13)|0;X=((H=Math.imul(ie,ot))+(V>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,F=Math.imul(ae,ut),V=(V=Math.imul(ae,ot))+Math.imul(ce,ut)|0,H=Math.imul(ce,ot);var Bt=(X+(F=F+Math.imul(ee,wt)|0)|0)+((8191&(V=(V=V+Math.imul(ee,bt)|0)+Math.imul(ie,wt)|0))<<13)|0;X=((H=H+Math.imul(ie,bt)|0)+(V>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,F=Math.imul(ve,ut),V=(V=Math.imul(ve,ot))+Math.imul(be,ut)|0,H=Math.imul(be,ot),F=F+Math.imul(ae,wt)|0,V=(V=V+Math.imul(ae,bt)|0)+Math.imul(ce,wt)|0,H=H+Math.imul(ce,bt)|0;var Jt=(X+(F=F+Math.imul(ee,rt)|0)|0)+((8191&(V=(V=V+Math.imul(ee,At)|0)+Math.imul(ie,rt)|0))<<13)|0;X=((H=H+Math.imul(ie,At)|0)+(V>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,F=Math.imul(ye,ut),V=(V=Math.imul(ye,ot))+Math.imul(me,ut)|0,H=Math.imul(me,ot),F=F+Math.imul(ve,wt)|0,V=(V=V+Math.imul(ve,bt)|0)+Math.imul(be,wt)|0,H=H+Math.imul(be,bt)|0,F=F+Math.imul(ae,rt)|0,V=(V=V+Math.imul(ae,At)|0)+Math.imul(ce,rt)|0,H=H+Math.imul(ce,At)|0;var on=(X+(F=F+Math.imul(ee,Ft)|0)|0)+((8191&(V=(V=V+Math.imul(ee,Dt)|0)+Math.imul(ie,Ft)|0))<<13)|0;X=((H=H+Math.imul(ie,Dt)|0)+(V>>>13)|0)+(on>>>26)|0,on&=67108863,F=Math.imul(ke,ut),V=(V=Math.imul(ke,ot))+Math.imul(fe,ut)|0,H=Math.imul(fe,ot),F=F+Math.imul(ye,wt)|0,V=(V=V+Math.imul(ye,bt)|0)+Math.imul(me,wt)|0,H=H+Math.imul(me,bt)|0,F=F+Math.imul(ve,rt)|0,V=(V=V+Math.imul(ve,At)|0)+Math.imul(be,rt)|0,H=H+Math.imul(be,At)|0,F=F+Math.imul(ae,Ft)|0,V=(V=V+Math.imul(ae,Dt)|0)+Math.imul(ce,Ft)|0,H=H+Math.imul(ce,Dt)|0;var qt=(X+(F=F+Math.imul(ee,Ke)|0)|0)+((8191&(V=(V=V+Math.imul(ee,Ve)|0)+Math.imul(ie,Ke)|0))<<13)|0;X=((H=H+Math.imul(ie,Ve)|0)+(V>>>13)|0)+(qt>>>26)|0,qt&=67108863,F=Math.imul(de,ut),V=(V=Math.imul(de,ot))+Math.imul(Ce,ut)|0,H=Math.imul(Ce,ot),F=F+Math.imul(ke,wt)|0,V=(V=V+Math.imul(ke,bt)|0)+Math.imul(fe,wt)|0,H=H+Math.imul(fe,bt)|0,F=F+Math.imul(ye,rt)|0,V=(V=V+Math.imul(ye,At)|0)+Math.imul(me,rt)|0,H=H+Math.imul(me,At)|0,F=F+Math.imul(ve,Ft)|0,V=(V=V+Math.imul(ve,Dt)|0)+Math.imul(be,Ft)|0,H=H+Math.imul(be,Dt)|0,F=F+Math.imul(ae,Ke)|0,V=(V=V+Math.imul(ae,Ve)|0)+Math.imul(ce,Ke)|0,H=H+Math.imul(ce,Ve)|0;var Gt=(X+(F=F+Math.imul(ee,ct)|0)|0)+((8191&(V=(V=V+Math.imul(ee,st)|0)+Math.imul(ie,ct)|0))<<13)|0;X=((H=H+Math.imul(ie,st)|0)+(V>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,F=Math.imul(Le,ut),V=(V=Math.imul(Le,ot))+Math.imul(Oe,ut)|0,H=Math.imul(Oe,ot),F=F+Math.imul(de,wt)|0,V=(V=V+Math.imul(de,bt)|0)+Math.imul(Ce,wt)|0,H=H+Math.imul(Ce,bt)|0,F=F+Math.imul(ke,rt)|0,V=(V=V+Math.imul(ke,At)|0)+Math.imul(fe,rt)|0,H=H+Math.imul(fe,At)|0,F=F+Math.imul(ye,Ft)|0,V=(V=V+Math.imul(ye,Dt)|0)+Math.imul(me,Ft)|0,H=H+Math.imul(me,Dt)|0,F=F+Math.imul(ve,Ke)|0,V=(V=V+Math.imul(ve,Ve)|0)+Math.imul(be,Ke)|0,H=H+Math.imul(be,Ve)|0,F=F+Math.imul(ae,ct)|0,V=(V=V+Math.imul(ae,st)|0)+Math.imul(ce,ct)|0,H=H+Math.imul(ce,st)|0;var nn=(X+(F=F+Math.imul(ee,Ue)|0)|0)+((8191&(V=(V=V+Math.imul(ee,lt)|0)+Math.imul(ie,Ue)|0))<<13)|0;X=((H=H+Math.imul(ie,lt)|0)+(V>>>13)|0)+(nn>>>26)|0,nn&=67108863,F=Math.imul(pe,ut),V=(V=Math.imul(pe,ot))+Math.imul(_e,ut)|0,H=Math.imul(_e,ot),F=F+Math.imul(Le,wt)|0,V=(V=V+Math.imul(Le,bt)|0)+Math.imul(Oe,wt)|0,H=H+Math.imul(Oe,bt)|0,F=F+Math.imul(de,rt)|0,V=(V=V+Math.imul(de,At)|0)+Math.imul(Ce,rt)|0,H=H+Math.imul(Ce,At)|0,F=F+Math.imul(ke,Ft)|0,V=(V=V+Math.imul(ke,Dt)|0)+Math.imul(fe,Ft)|0,H=H+Math.imul(fe,Dt)|0,F=F+Math.imul(ye,Ke)|0,V=(V=V+Math.imul(ye,Ve)|0)+Math.imul(me,Ke)|0,H=H+Math.imul(me,Ve)|0,F=F+Math.imul(ve,ct)|0,V=(V=V+Math.imul(ve,st)|0)+Math.imul(be,ct)|0,H=H+Math.imul(be,st)|0,F=F+Math.imul(ae,Ue)|0,V=(V=V+Math.imul(ae,lt)|0)+Math.imul(ce,Ue)|0,H=H+Math.imul(ce,lt)|0;var Cn=(X+(F=F+Math.imul(ee,gt)|0)|0)+((8191&(V=(V=V+Math.imul(ee,mt)|0)+Math.imul(ie,gt)|0))<<13)|0;X=((H=H+Math.imul(ie,mt)|0)+(V>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,F=Math.imul(Re,ut),V=(V=Math.imul(Re,ot))+Math.imul(Ne,ut)|0,H=Math.imul(Ne,ot),F=F+Math.imul(pe,wt)|0,V=(V=V+Math.imul(pe,bt)|0)+Math.imul(_e,wt)|0,H=H+Math.imul(_e,bt)|0,F=F+Math.imul(Le,rt)|0,V=(V=V+Math.imul(Le,At)|0)+Math.imul(Oe,rt)|0,H=H+Math.imul(Oe,At)|0,F=F+Math.imul(de,Ft)|0,V=(V=V+Math.imul(de,Dt)|0)+Math.imul(Ce,Ft)|0,H=H+Math.imul(Ce,Dt)|0,F=F+Math.imul(ke,Ke)|0,V=(V=V+Math.imul(ke,Ve)|0)+Math.imul(fe,Ke)|0,H=H+Math.imul(fe,Ve)|0,F=F+Math.imul(ye,ct)|0,V=(V=V+Math.imul(ye,st)|0)+Math.imul(me,ct)|0,H=H+Math.imul(me,st)|0,F=F+Math.imul(ve,Ue)|0,V=(V=V+Math.imul(ve,lt)|0)+Math.imul(be,Ue)|0,H=H+Math.imul(be,lt)|0,F=F+Math.imul(ae,gt)|0,V=(V=V+Math.imul(ae,mt)|0)+Math.imul(ce,gt)|0,H=H+Math.imul(ce,mt)|0;var An=(X+(F=F+Math.imul(ee,dt)|0)|0)+((8191&(V=(V=V+Math.imul(ee,Lt)|0)+Math.imul(ie,dt)|0))<<13)|0;X=((H=H+Math.imul(ie,Lt)|0)+(V>>>13)|0)+(An>>>26)|0,An&=67108863,F=Math.imul(Ge,ut),V=(V=Math.imul(Ge,ot))+Math.imul(Ye,ut)|0,H=Math.imul(Ye,ot),F=F+Math.imul(Re,wt)|0,V=(V=V+Math.imul(Re,bt)|0)+Math.imul(Ne,wt)|0,H=H+Math.imul(Ne,bt)|0,F=F+Math.imul(pe,rt)|0,V=(V=V+Math.imul(pe,At)|0)+Math.imul(_e,rt)|0,H=H+Math.imul(_e,At)|0,F=F+Math.imul(Le,Ft)|0,V=(V=V+Math.imul(Le,Dt)|0)+Math.imul(Oe,Ft)|0,H=H+Math.imul(Oe,Dt)|0,F=F+Math.imul(de,Ke)|0,V=(V=V+Math.imul(de,Ve)|0)+Math.imul(Ce,Ke)|0,H=H+Math.imul(Ce,Ve)|0,F=F+Math.imul(ke,ct)|0,V=(V=V+Math.imul(ke,st)|0)+Math.imul(fe,ct)|0,H=H+Math.imul(fe,st)|0,F=F+Math.imul(ye,Ue)|0,V=(V=V+Math.imul(ye,lt)|0)+Math.imul(me,Ue)|0,H=H+Math.imul(me,lt)|0,F=F+Math.imul(ve,gt)|0,V=(V=V+Math.imul(ve,mt)|0)+Math.imul(be,gt)|0,H=H+Math.imul(be,mt)|0,F=F+Math.imul(ae,dt)|0,V=(V=V+Math.imul(ae,Lt)|0)+Math.imul(ce,dt)|0,H=H+Math.imul(ce,Lt)|0;var dn=(X+(F=F+Math.imul(ee,_t)|0)|0)+((8191&(V=(V=V+Math.imul(ee,Ot)|0)+Math.imul(ie,_t)|0))<<13)|0;X=((H=H+Math.imul(ie,Ot)|0)+(V>>>13)|0)+(dn>>>26)|0,dn&=67108863,F=Math.imul(Ge,wt),V=(V=Math.imul(Ge,bt))+Math.imul(Ye,wt)|0,H=Math.imul(Ye,bt),F=F+Math.imul(Re,rt)|0,V=(V=V+Math.imul(Re,At)|0)+Math.imul(Ne,rt)|0,H=H+Math.imul(Ne,At)|0,F=F+Math.imul(pe,Ft)|0,V=(V=V+Math.imul(pe,Dt)|0)+Math.imul(_e,Ft)|0,H=H+Math.imul(_e,Dt)|0,F=F+Math.imul(Le,Ke)|0,V=(V=V+Math.imul(Le,Ve)|0)+Math.imul(Oe,Ke)|0,H=H+Math.imul(Oe,Ve)|0,F=F+Math.imul(de,ct)|0,V=(V=V+Math.imul(de,st)|0)+Math.imul(Ce,ct)|0,H=H+Math.imul(Ce,st)|0,F=F+Math.imul(ke,Ue)|0,V=(V=V+Math.imul(ke,lt)|0)+Math.imul(fe,Ue)|0,H=H+Math.imul(fe,lt)|0,F=F+Math.imul(ye,gt)|0,V=(V=V+Math.imul(ye,mt)|0)+Math.imul(me,gt)|0,H=H+Math.imul(me,mt)|0,F=F+Math.imul(ve,dt)|0,V=(V=V+Math.imul(ve,Lt)|0)+Math.imul(be,dt)|0,H=H+Math.imul(be,Lt)|0;var Kt=(X+(F=F+Math.imul(ae,_t)|0)|0)+((8191&(V=(V=V+Math.imul(ae,Ot)|0)+Math.imul(ce,_t)|0))<<13)|0;X=((H=H+Math.imul(ce,Ot)|0)+(V>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,F=Math.imul(Ge,rt),V=(V=Math.imul(Ge,At))+Math.imul(Ye,rt)|0,H=Math.imul(Ye,At),F=F+Math.imul(Re,Ft)|0,V=(V=V+Math.imul(Re,Dt)|0)+Math.imul(Ne,Ft)|0,H=H+Math.imul(Ne,Dt)|0,F=F+Math.imul(pe,Ke)|0,V=(V=V+Math.imul(pe,Ve)|0)+Math.imul(_e,Ke)|0,H=H+Math.imul(_e,Ve)|0,F=F+Math.imul(Le,ct)|0,V=(V=V+Math.imul(Le,st)|0)+Math.imul(Oe,ct)|0,H=H+Math.imul(Oe,st)|0,F=F+Math.imul(de,Ue)|0,V=(V=V+Math.imul(de,lt)|0)+Math.imul(Ce,Ue)|0,H=H+Math.imul(Ce,lt)|0,F=F+Math.imul(ke,gt)|0,V=(V=V+Math.imul(ke,mt)|0)+Math.imul(fe,gt)|0,H=H+Math.imul(fe,mt)|0,F=F+Math.imul(ye,dt)|0,V=(V=V+Math.imul(ye,Lt)|0)+Math.imul(me,dt)|0,H=H+Math.imul(me,Lt)|0;var un=(X+(F=F+Math.imul(ve,_t)|0)|0)+((8191&(V=(V=V+Math.imul(ve,Ot)|0)+Math.imul(be,_t)|0))<<13)|0;X=((H=H+Math.imul(be,Ot)|0)+(V>>>13)|0)+(un>>>26)|0,un&=67108863,F=Math.imul(Ge,Ft),V=(V=Math.imul(Ge,Dt))+Math.imul(Ye,Ft)|0,H=Math.imul(Ye,Dt),F=F+Math.imul(Re,Ke)|0,V=(V=V+Math.imul(Re,Ve)|0)+Math.imul(Ne,Ke)|0,H=H+Math.imul(Ne,Ve)|0,F=F+Math.imul(pe,ct)|0,V=(V=V+Math.imul(pe,st)|0)+Math.imul(_e,ct)|0,H=H+Math.imul(_e,st)|0,F=F+Math.imul(Le,Ue)|0,V=(V=V+Math.imul(Le,lt)|0)+Math.imul(Oe,Ue)|0,H=H+Math.imul(Oe,lt)|0,F=F+Math.imul(de,gt)|0,V=(V=V+Math.imul(de,mt)|0)+Math.imul(Ce,gt)|0,H=H+Math.imul(Ce,mt)|0,F=F+Math.imul(ke,dt)|0,V=(V=V+Math.imul(ke,Lt)|0)+Math.imul(fe,dt)|0,H=H+Math.imul(fe,Lt)|0;var rn=(X+(F=F+Math.imul(ye,_t)|0)|0)+((8191&(V=(V=V+Math.imul(ye,Ot)|0)+Math.imul(me,_t)|0))<<13)|0;X=((H=H+Math.imul(me,Ot)|0)+(V>>>13)|0)+(rn>>>26)|0,rn&=67108863,F=Math.imul(Ge,Ke),V=(V=Math.imul(Ge,Ve))+Math.imul(Ye,Ke)|0,H=Math.imul(Ye,Ve),F=F+Math.imul(Re,ct)|0,V=(V=V+Math.imul(Re,st)|0)+Math.imul(Ne,ct)|0,H=H+Math.imul(Ne,st)|0,F=F+Math.imul(pe,Ue)|0,V=(V=V+Math.imul(pe,lt)|0)+Math.imul(_e,Ue)|0,H=H+Math.imul(_e,lt)|0,F=F+Math.imul(Le,gt)|0,V=(V=V+Math.imul(Le,mt)|0)+Math.imul(Oe,gt)|0,H=H+Math.imul(Oe,mt)|0,F=F+Math.imul(de,dt)|0,V=(V=V+Math.imul(de,Lt)|0)+Math.imul(Ce,dt)|0,H=H+Math.imul(Ce,Lt)|0;var hn=(X+(F=F+Math.imul(ke,_t)|0)|0)+((8191&(V=(V=V+Math.imul(ke,Ot)|0)+Math.imul(fe,_t)|0))<<13)|0;X=((H=H+Math.imul(fe,Ot)|0)+(V>>>13)|0)+(hn>>>26)|0,hn&=67108863,F=Math.imul(Ge,ct),V=(V=Math.imul(Ge,st))+Math.imul(Ye,ct)|0,H=Math.imul(Ye,st),F=F+Math.imul(Re,Ue)|0,V=(V=V+Math.imul(Re,lt)|0)+Math.imul(Ne,Ue)|0,H=H+Math.imul(Ne,lt)|0,F=F+Math.imul(pe,gt)|0,V=(V=V+Math.imul(pe,mt)|0)+Math.imul(_e,gt)|0,H=H+Math.imul(_e,mt)|0,F=F+Math.imul(Le,dt)|0,V=(V=V+Math.imul(Le,Lt)|0)+Math.imul(Oe,dt)|0,H=H+Math.imul(Oe,Lt)|0;var kn=(X+(F=F+Math.imul(de,_t)|0)|0)+((8191&(V=(V=V+Math.imul(de,Ot)|0)+Math.imul(Ce,_t)|0))<<13)|0;X=((H=H+Math.imul(Ce,Ot)|0)+(V>>>13)|0)+(kn>>>26)|0,kn&=67108863,F=Math.imul(Ge,Ue),V=(V=Math.imul(Ge,lt))+Math.imul(Ye,Ue)|0,H=Math.imul(Ye,lt),F=F+Math.imul(Re,gt)|0,V=(V=V+Math.imul(Re,mt)|0)+Math.imul(Ne,gt)|0,H=H+Math.imul(Ne,mt)|0,F=F+Math.imul(pe,dt)|0,V=(V=V+Math.imul(pe,Lt)|0)+Math.imul(_e,dt)|0,H=H+Math.imul(_e,Lt)|0;var Sn=(X+(F=F+Math.imul(Le,_t)|0)|0)+((8191&(V=(V=V+Math.imul(Le,Ot)|0)+Math.imul(Oe,_t)|0))<<13)|0;X=((H=H+Math.imul(Oe,Ot)|0)+(V>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,F=Math.imul(Ge,gt),V=(V=Math.imul(Ge,mt))+Math.imul(Ye,gt)|0,H=Math.imul(Ye,mt),F=F+Math.imul(Re,dt)|0,V=(V=V+Math.imul(Re,Lt)|0)+Math.imul(Ne,dt)|0,H=H+Math.imul(Ne,Lt)|0;var Rn=(X+(F=F+Math.imul(pe,_t)|0)|0)+((8191&(V=(V=V+Math.imul(pe,Ot)|0)+Math.imul(_e,_t)|0))<<13)|0;X=((H=H+Math.imul(_e,Ot)|0)+(V>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,F=Math.imul(Ge,dt),V=(V=Math.imul(Ge,Lt))+Math.imul(Ye,dt)|0,H=Math.imul(Ye,Lt);var zn=(X+(F=F+Math.imul(Re,_t)|0)|0)+((8191&(V=(V=V+Math.imul(Re,Ot)|0)+Math.imul(Ne,_t)|0))<<13)|0;X=((H=H+Math.imul(Ne,Ot)|0)+(V>>>13)|0)+(zn>>>26)|0,zn&=67108863;var Pn=(X+(F=Math.imul(Ge,_t))|0)+((8191&(V=(V=Math.imul(Ge,Ot))+Math.imul(Ye,_t)|0))<<13)|0;return X=((H=Math.imul(Ye,Ot))+(V>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,K[0]=Pt,K[1]=Bt,K[2]=Jt,K[3]=on,K[4]=qt,K[5]=Gt,K[6]=nn,K[7]=Cn,K[8]=An,K[9]=dn,K[10]=Kt,K[11]=un,K[12]=rn,K[13]=hn,K[14]=kn,K[15]=Sn,K[16]=Rn,K[17]=zn,K[18]=Pn,X!==0&&(K[19]=X,W.length++),W};function T(z,j,W){return new p().mulp(z,j,W)}function p(z,j){this.x=z,this.y=j}Math.imul||(x=y),o.prototype.mulTo=function(z,j){var W,F=this.length+z.length;return W=this.length===10&&z.length===10?x(this,z,j):F<63?y(this,z,j):F<1024?function(V,H,te){te.negative=H.negative^V.negative,te.length=V.length+H.length;for(var Q=0,K=0,X=0;X<te.length-1;X++){var J=K;K=0;for(var ee=67108863&Q,ie=Math.min(X,H.length-1),oe=Math.max(0,X-V.length+1);oe<=ie;oe++){var ae=X-oe,ce=(0|V.words[ae])*(0|H.words[oe]),ge=67108863&ce;ee=67108863&(ge=ge+ee|0),K+=(J=(J=J+(ce/67108864|0)|0)+(ge>>>26)|0)>>>26,J&=67108863}te.words[X]=ee,Q=J,J=K}return Q!==0?te.words[X]=Q:te.length--,te.strip()}(this,z,j):T(this,z,j),W},p.prototype.makeRBT=function(z){for(var j=new Array(z),W=o.prototype._countBits(z)-1,F=0;F<z;F++)j[F]=this.revBin(F,W,z);return j},p.prototype.revBin=function(z,j,W){if(z===0||z===W-1)return z;for(var F=0,V=0;V<j;V++)F|=(1&z)<<j-V-1,z>>=1;return F},p.prototype.permute=function(z,j,W,F,V,H){for(var te=0;te<H;te++)F[te]=j[z[te]],V[te]=W[z[te]]},p.prototype.transform=function(z,j,W,F,V,H){this.permute(H,z,j,W,F,V);for(var te=1;te<V;te<<=1)for(var Q=te<<1,K=Math.cos(2*Math.PI/Q),X=Math.sin(2*Math.PI/Q),J=0;J<V;J+=Q)for(var ee=K,ie=X,oe=0;oe<te;oe++){var ae=W[J+oe],ce=F[J+oe],ge=W[J+oe+te],ve=F[J+oe+te],be=ee*ge-ie*ve;ve=ee*ve+ie*ge,ge=be,W[J+oe]=ae+ge,F[J+oe]=ce+ve,W[J+oe+te]=ae-ge,F[J+oe+te]=ce-ve,oe!==Q&&(be=K*ee-X*ie,ie=K*ie+X*ee,ee=be)}},p.prototype.guessLen13b=function(z,j){var W=1|Math.max(j,z),F=1&W,V=0;for(W=W/2|0;W;W>>>=1)V++;return 1<<V+1+F},p.prototype.conjugate=function(z,j,W){if(!(W<=1))for(var F=0;F<W/2;F++){var V=z[F];z[F]=z[W-F-1],z[W-F-1]=V,V=j[F],j[F]=-j[W-F-1],j[W-F-1]=-V}},p.prototype.normalize13b=function(z,j){for(var W=0,F=0;F<j/2;F++){var V=8192*Math.round(z[2*F+1]/j)+Math.round(z[2*F]/j)+W;z[F]=67108863&V,W=V<67108864?0:V/67108864|0}return z},p.prototype.convert13b=function(z,j,W,F){for(var V=0,H=0;H<j;H++)V+=0|z[H],W[2*H]=8191&V,V>>>=13,W[2*H+1]=8191&V,V>>>=13;for(H=2*j;H<F;++H)W[H]=0;i(V===0),i((-8192&V)==0)},p.prototype.stub=function(z){for(var j=new Array(z),W=0;W<z;W++)j[W]=0;return j},p.prototype.mulp=function(z,j,W){var F=2*this.guessLen13b(z.length,j.length),V=this.makeRBT(F),H=this.stub(F),te=new Array(F),Q=new Array(F),K=new Array(F),X=new Array(F),J=new Array(F),ee=new Array(F),ie=W.words;ie.length=F,this.convert13b(z.words,z.length,te,F),this.convert13b(j.words,j.length,X,F),this.transform(te,H,Q,K,F,V),this.transform(X,H,J,ee,F,V);for(var oe=0;oe<F;oe++){var ae=Q[oe]*J[oe]-K[oe]*ee[oe];K[oe]=Q[oe]*ee[oe]+K[oe]*J[oe],Q[oe]=ae}return this.conjugate(Q,K,F),this.transform(Q,K,ie,H,F,V),this.conjugate(ie,H,F),this.normalize13b(ie,F),W.negative=z.negative^j.negative,W.length=z.length+j.length,W.strip()},o.prototype.mul=function(z){var j=new o(null);return j.words=new Array(this.length+z.length),this.mulTo(z,j)},o.prototype.mulf=function(z){var j=new o(null);return j.words=new Array(this.length+z.length),T(this,z,j)},o.prototype.imul=function(z){return this.clone().mulTo(z,this)},o.prototype.imuln=function(z){i(typeof z=="number"),i(z<67108864);for(var j=0,W=0;W<this.length;W++){var F=(0|this.words[W])*z,V=(67108863&F)+(67108863&j);j>>=26,j+=F/67108864|0,j+=V>>>26,this.words[W]=67108863&V}return j!==0&&(this.words[W]=j,this.length++),this},o.prototype.muln=function(z){return this.clone().imuln(z)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(z){var j=function(H){for(var te=new Array(H.bitLength()),Q=0;Q<te.length;Q++){var K=Q/26|0,X=Q%26;te[Q]=(H.words[K]&1<<X)>>>X}return te}(z);if(j.length===0)return new o(1);for(var W=this,F=0;F<j.length&&j[F]===0;F++,W=W.sqr());if(++F<j.length)for(var V=W.sqr();F<j.length;F++,V=V.sqr())j[F]!==0&&(W=W.mul(V));return W},o.prototype.iushln=function(z){i(typeof z=="number"&&z>=0);var j,W=z%26,F=(z-W)/26,V=67108863>>>26-W<<26-W;if(W!==0){var H=0;for(j=0;j<this.length;j++){var te=this.words[j]&V,Q=(0|this.words[j])-te<<W;this.words[j]=Q|H,H=te>>>26-W}H&&(this.words[j]=H,this.length++)}if(F!==0){for(j=this.length-1;j>=0;j--)this.words[j+F]=this.words[j];for(j=0;j<F;j++)this.words[j]=0;this.length+=F}return this.strip()},o.prototype.ishln=function(z){return i(this.negative===0),this.iushln(z)},o.prototype.iushrn=function(z,j,W){var F;i(typeof z=="number"&&z>=0),F=j?(j-j%26)/26:0;var V=z%26,H=Math.min((z-V)/26,this.length),te=67108863^67108863>>>V<<V,Q=W;if(F-=H,F=Math.max(0,F),Q){for(var K=0;K<H;K++)Q.words[K]=this.words[K];Q.length=H}if(H!==0)if(this.length>H)for(this.length-=H,K=0;K<this.length;K++)this.words[K]=this.words[K+H];else this.words[0]=0,this.length=1;var X=0;for(K=this.length-1;K>=0&&(X!==0||K>=F);K--){var J=0|this.words[K];this.words[K]=X<<26-V|J>>>V,X=J&te}return Q&&X!==0&&(Q.words[Q.length++]=X),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(z,j,W){return i(this.negative===0),this.iushrn(z,j,W)},o.prototype.shln=function(z){return this.clone().ishln(z)},o.prototype.ushln=function(z){return this.clone().iushln(z)},o.prototype.shrn=function(z){return this.clone().ishrn(z)},o.prototype.ushrn=function(z){return this.clone().iushrn(z)},o.prototype.testn=function(z){i(typeof z=="number"&&z>=0);var j=z%26,W=(z-j)/26,F=1<<j;return!(this.length<=W||!(this.words[W]&F))},o.prototype.imaskn=function(z){i(typeof z=="number"&&z>=0);var j=z%26,W=(z-j)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=W)return this;if(j!==0&&W++,this.length=Math.min(W,this.length),j!==0){var F=67108863^67108863>>>j<<j;this.words[this.length-1]&=F}return this.strip()},o.prototype.maskn=function(z){return this.clone().imaskn(z)},o.prototype.iaddn=function(z){return i(typeof z=="number"),i(z<67108864),z<0?this.isubn(-z):this.negative!==0?this.length===1&&(0|this.words[0])<z?(this.words[0]=z-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(z),this.negative=1,this):this._iaddn(z)},o.prototype._iaddn=function(z){this.words[0]+=z;for(var j=0;j<this.length&&this.words[j]>=67108864;j++)this.words[j]-=67108864,j===this.length-1?this.words[j+1]=1:this.words[j+1]++;return this.length=Math.max(this.length,j+1),this},o.prototype.isubn=function(z){if(i(typeof z=="number"),i(z<67108864),z<0)return this.iaddn(-z);if(this.negative!==0)return this.negative=0,this.iaddn(z),this.negative=1,this;if(this.words[0]-=z,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var j=0;j<this.length&&this.words[j]<0;j++)this.words[j]+=67108864,this.words[j+1]-=1;return this.strip()},o.prototype.addn=function(z){return this.clone().iaddn(z)},o.prototype.subn=function(z){return this.clone().isubn(z)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(z,j,W){var F,V,H=z.length+W;this._expand(H);var te=0;for(F=0;F<z.length;F++){V=(0|this.words[F+W])+te;var Q=(0|z.words[F])*j;te=((V-=67108863&Q)>>26)-(Q/67108864|0),this.words[F+W]=67108863&V}for(;F<this.length-W;F++)te=(V=(0|this.words[F+W])+te)>>26,this.words[F+W]=67108863&V;if(te===0)return this.strip();for(i(te===-1),te=0,F=0;F<this.length;F++)te=(V=-(0|this.words[F])+te)>>26,this.words[F]=67108863&V;return this.negative=1,this.strip()},o.prototype._wordDiv=function(z,j){var W=(this.length,z.length),F=this.clone(),V=z,H=0|V.words[V.length-1];(W=26-this._countBits(H))!=0&&(V=V.ushln(W),F.iushln(W),H=0|V.words[V.length-1]);var te,Q=F.length-V.length;if(j!=="mod"){(te=new o(null)).length=Q+1,te.words=new Array(te.length);for(var K=0;K<te.length;K++)te.words[K]=0}var X=F.clone()._ishlnsubmul(V,1,Q);X.negative===0&&(F=X,te&&(te.words[Q]=1));for(var J=Q-1;J>=0;J--){var ee=67108864*(0|F.words[V.length+J])+(0|F.words[V.length+J-1]);for(ee=Math.min(ee/H|0,67108863),F._ishlnsubmul(V,ee,J);F.negative!==0;)ee--,F.negative=0,F._ishlnsubmul(V,1,J),F.isZero()||(F.negative^=1);te&&(te.words[J]=ee)}return te&&te.strip(),F.strip(),j!=="div"&&W!==0&&F.iushrn(W),{div:te||null,mod:F}},o.prototype.divmod=function(z,j,W){return i(!z.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&z.negative===0?(H=this.neg().divmod(z,j),j!=="mod"&&(F=H.div.neg()),j!=="div"&&(V=H.mod.neg(),W&&V.negative!==0&&V.iadd(z)),{div:F,mod:V}):this.negative===0&&z.negative!==0?(H=this.divmod(z.neg(),j),j!=="mod"&&(F=H.div.neg()),{div:F,mod:H.mod}):this.negative&z.negative?(H=this.neg().divmod(z.neg(),j),j!=="div"&&(V=H.mod.neg(),W&&V.negative!==0&&V.isub(z)),{div:H.div,mod:V}):z.length>this.length||this.cmp(z)<0?{div:new o(0),mod:this}:z.length===1?j==="div"?{div:this.divn(z.words[0]),mod:null}:j==="mod"?{div:null,mod:new o(this.modn(z.words[0]))}:{div:this.divn(z.words[0]),mod:new o(this.modn(z.words[0]))}:this._wordDiv(z,j);var F,V,H},o.prototype.div=function(z){return this.divmod(z,"div",!1).div},o.prototype.mod=function(z){return this.divmod(z,"mod",!1).mod},o.prototype.umod=function(z){return this.divmod(z,"mod",!0).mod},o.prototype.divRound=function(z){var j=this.divmod(z);if(j.mod.isZero())return j.div;var W=j.div.negative!==0?j.mod.isub(z):j.mod,F=z.ushrn(1),V=z.andln(1),H=W.cmp(F);return H<0||V===1&&H===0?j.div:j.div.negative!==0?j.div.isubn(1):j.div.iaddn(1)},o.prototype.modn=function(z){i(z<=67108863);for(var j=67108864%z,W=0,F=this.length-1;F>=0;F--)W=(j*W+(0|this.words[F]))%z;return W},o.prototype.idivn=function(z){i(z<=67108863);for(var j=0,W=this.length-1;W>=0;W--){var F=(0|this.words[W])+67108864*j;this.words[W]=F/z|0,j=F%z}return this.strip()},o.prototype.divn=function(z){return this.clone().idivn(z)},o.prototype.egcd=function(z){i(z.negative===0),i(!z.isZero());var j=this,W=z.clone();j=j.negative!==0?j.umod(z):j.clone();for(var F=new o(1),V=new o(0),H=new o(0),te=new o(1),Q=0;j.isEven()&&W.isEven();)j.iushrn(1),W.iushrn(1),++Q;for(var K=W.clone(),X=j.clone();!j.isZero();){for(var J=0,ee=1;!(j.words[0]&ee)&&J<26;++J,ee<<=1);if(J>0)for(j.iushrn(J);J-- >0;)(F.isOdd()||V.isOdd())&&(F.iadd(K),V.isub(X)),F.iushrn(1),V.iushrn(1);for(var ie=0,oe=1;!(W.words[0]&oe)&&ie<26;++ie,oe<<=1);if(ie>0)for(W.iushrn(ie);ie-- >0;)(H.isOdd()||te.isOdd())&&(H.iadd(K),te.isub(X)),H.iushrn(1),te.iushrn(1);j.cmp(W)>=0?(j.isub(W),F.isub(H),V.isub(te)):(W.isub(j),H.isub(F),te.isub(V))}return{a:H,b:te,gcd:W.iushln(Q)}},o.prototype._invmp=function(z){i(z.negative===0),i(!z.isZero());var j=this,W=z.clone();j=j.negative!==0?j.umod(z):j.clone();for(var F,V=new o(1),H=new o(0),te=W.clone();j.cmpn(1)>0&&W.cmpn(1)>0;){for(var Q=0,K=1;!(j.words[0]&K)&&Q<26;++Q,K<<=1);if(Q>0)for(j.iushrn(Q);Q-- >0;)V.isOdd()&&V.iadd(te),V.iushrn(1);for(var X=0,J=1;!(W.words[0]&J)&&X<26;++X,J<<=1);if(X>0)for(W.iushrn(X);X-- >0;)H.isOdd()&&H.iadd(te),H.iushrn(1);j.cmp(W)>=0?(j.isub(W),V.isub(H)):(W.isub(j),H.isub(V))}return(F=j.cmpn(1)===0?V:H).cmpn(0)<0&&F.iadd(z),F},o.prototype.gcd=function(z){if(this.isZero())return z.abs();if(z.isZero())return this.abs();var j=this.clone(),W=z.clone();j.negative=0,W.negative=0;for(var F=0;j.isEven()&&W.isEven();F++)j.iushrn(1),W.iushrn(1);for(;;){for(;j.isEven();)j.iushrn(1);for(;W.isEven();)W.iushrn(1);var V=j.cmp(W);if(V<0){var H=j;j=W,W=H}else if(V===0||W.cmpn(1)===0)break;j.isub(W)}return W.iushln(F)},o.prototype.invm=function(z){return this.egcd(z).a.umod(z)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(z){return this.words[0]&z},o.prototype.bincn=function(z){i(typeof z=="number");var j=z%26,W=(z-j)/26,F=1<<j;if(this.length<=W)return this._expand(W+1),this.words[W]|=F,this;for(var V=F,H=W;V!==0&&H<this.length;H++){var te=0|this.words[H];V=(te+=V)>>>26,te&=67108863,this.words[H]=te}return V!==0&&(this.words[H]=V,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(z){var j,W=z<0;if(this.negative!==0&&!W)return-1;if(this.negative===0&&W)return 1;if(this.strip(),this.length>1)j=1;else{W&&(z=-z),i(z<=67108863,"Number is too big");var F=0|this.words[0];j=F===z?0:F<z?-1:1}return this.negative!==0?0|-j:j},o.prototype.cmp=function(z){if(this.negative!==0&&z.negative===0)return-1;if(this.negative===0&&z.negative!==0)return 1;var j=this.ucmp(z);return this.negative!==0?0|-j:j},o.prototype.ucmp=function(z){if(this.length>z.length)return 1;if(this.length<z.length)return-1;for(var j=0,W=this.length-1;W>=0;W--){var F=0|this.words[W],V=0|z.words[W];if(F!==V){F<V?j=-1:F>V&&(j=1);break}}return j},o.prototype.gtn=function(z){return this.cmpn(z)===1},o.prototype.gt=function(z){return this.cmp(z)===1},o.prototype.gten=function(z){return this.cmpn(z)>=0},o.prototype.gte=function(z){return this.cmp(z)>=0},o.prototype.ltn=function(z){return this.cmpn(z)===-1},o.prototype.lt=function(z){return this.cmp(z)===-1},o.prototype.lten=function(z){return this.cmpn(z)<=0},o.prototype.lte=function(z){return this.cmp(z)<=0},o.prototype.eqn=function(z){return this.cmpn(z)===0},o.prototype.eq=function(z){return this.cmp(z)===0},o.red=function(z){return new R(z)},o.prototype.toRed=function(z){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),z.convertTo(this)._forceRed(z)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(z){return this.red=z,this},o.prototype.forceRed=function(z){return i(!this.red,"Already a number in reduction context"),this._forceRed(z)},o.prototype.redAdd=function(z){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,z)},o.prototype.redIAdd=function(z){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,z)},o.prototype.redSub=function(z){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,z)},o.prototype.redISub=function(z){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,z)},o.prototype.redShl=function(z){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,z)},o.prototype.redMul=function(z){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.mul(this,z)},o.prototype.redIMul=function(z){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.imul(this,z)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(z){return i(this.red&&!z.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,z)};var S={k256:null,p224:null,p192:null,p25519:null};function M(z,j){this.name=z,this.p=new o(j,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function I(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function R(z){if(typeof z=="string"){var j=o._prime(z);this.m=j.p,this.prime=j}else i(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}function U(z){R.call(this,z),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}M.prototype._tmp=function(){var z=new o(null);return z.words=new Array(Math.ceil(this.n/13)),z},M.prototype.ireduce=function(z){var j,W=z;do this.split(W,this.tmp),j=(W=(W=this.imulK(W)).iadd(this.tmp)).bitLength();while(j>this.n);var F=j<this.n?-1:W.ucmp(this.p);return F===0?(W.words[0]=0,W.length=1):F>0?W.isub(this.p):W.strip!==void 0?W.strip():W._strip(),W},M.prototype.split=function(z,j){z.iushrn(this.n,0,j)},M.prototype.imulK=function(z){return z.imul(this.k)},l(E,M),E.prototype.split=function(z,j){for(var W=4194303,F=Math.min(z.length,9),V=0;V<F;V++)j.words[V]=z.words[V];if(j.length=F,z.length<=9)return z.words[0]=0,void(z.length=1);var H=z.words[9];for(j.words[j.length++]=H&W,V=10;V<z.length;V++){var te=0|z.words[V];z.words[V-10]=(te&W)<<4|H>>>22,H=te}H>>>=22,z.words[V-10]=H,H===0&&z.length>10?z.length-=10:z.length-=9},E.prototype.imulK=function(z){z.words[z.length]=0,z.words[z.length+1]=0,z.length+=2;for(var j=0,W=0;W<z.length;W++){var F=0|z.words[W];j+=977*F,z.words[W]=67108863&j,j=64*F+(j/67108864|0)}return z.words[z.length-1]===0&&(z.length--,z.words[z.length-1]===0&&z.length--),z},l(P,M),l(O,M),l(I,M),I.prototype.imulK=function(z){for(var j=0,W=0;W<z.length;W++){var F=19*(0|z.words[W])+j,V=67108863&F;F>>>=26,z.words[W]=V,j=F}return j!==0&&(z.words[z.length++]=j),z},o._prime=function(z){if(S[z])return S[z];var j;if(z==="k256")j=new E;else if(z==="p224")j=new P;else if(z==="p192")j=new O;else{if(z!=="p25519")throw new Error("Unknown prime "+z);j=new I}return S[z]=j,j},R.prototype._verify1=function(z){i(z.negative===0,"red works only with positives"),i(z.red,"red works only with red numbers")},R.prototype._verify2=function(z,j){i((z.negative|j.negative)==0,"red works only with positives"),i(z.red&&z.red===j.red,"red works only with red numbers")},R.prototype.imod=function(z){return this.prime?this.prime.ireduce(z)._forceRed(this):z.umod(this.m)._forceRed(this)},R.prototype.neg=function(z){return z.isZero()?z.clone():this.m.sub(z)._forceRed(this)},R.prototype.add=function(z,j){this._verify2(z,j);var W=z.add(j);return W.cmp(this.m)>=0&&W.isub(this.m),W._forceRed(this)},R.prototype.iadd=function(z,j){this._verify2(z,j);var W=z.iadd(j);return W.cmp(this.m)>=0&&W.isub(this.m),W},R.prototype.sub=function(z,j){this._verify2(z,j);var W=z.sub(j);return W.cmpn(0)<0&&W.iadd(this.m),W._forceRed(this)},R.prototype.isub=function(z,j){this._verify2(z,j);var W=z.isub(j);return W.cmpn(0)<0&&W.iadd(this.m),W},R.prototype.shl=function(z,j){return this._verify1(z),this.imod(z.ushln(j))},R.prototype.imul=function(z,j){return this._verify2(z,j),this.imod(z.imul(j))},R.prototype.mul=function(z,j){return this._verify2(z,j),this.imod(z.mul(j))},R.prototype.isqr=function(z){return this.imul(z,z.clone())},R.prototype.sqr=function(z){return this.mul(z,z)},R.prototype.sqrt=function(z){if(z.isZero())return z.clone();var j=this.m.andln(3);if(i(j%2==1),j===3){var W=this.m.add(new o(1)).iushrn(2);return this.pow(z,W)}for(var F=this.m.subn(1),V=0;!F.isZero()&&F.andln(1)===0;)V++,F.iushrn(1);i(!F.isZero());var H=new o(1).toRed(this),te=H.redNeg(),Q=this.m.subn(1).iushrn(1),K=this.m.bitLength();for(K=new o(2*K*K).toRed(this);this.pow(K,Q).cmp(te)!==0;)K.redIAdd(te);for(var X=this.pow(K,F),J=this.pow(z,F.addn(1).iushrn(1)),ee=this.pow(z,F),ie=V;ee.cmp(H)!==0;){for(var oe=ee,ae=0;oe.cmp(H)!==0;ae++)oe=oe.redSqr();i(ae<ie);var ce=this.pow(X,new o(1).iushln(ie-ae-1));J=J.redMul(ce),X=ce.redSqr(),ee=ee.redMul(X),ie=ae}return J},R.prototype.invm=function(z){var j=z._invmp(this.m);return j.negative!==0?(j.negative=0,this.imod(j).redNeg()):this.imod(j)},R.prototype.pow=function(z,j){if(j.isZero())return new o(1).toRed(this);if(j.cmpn(1)===0)return z.clone();var W=new Array(16);W[0]=new o(1).toRed(this),W[1]=z;for(var F=2;F<W.length;F++)W[F]=this.mul(W[F-1],z);var V=W[0],H=0,te=0,Q=j.bitLength()%26;for(Q===0&&(Q=26),F=j.length-1;F>=0;F--){for(var K=j.words[F],X=Q-1;X>=0;X--){var J=K>>X&1;V!==W[0]&&(V=this.sqr(V)),J!==0||H!==0?(H<<=1,H|=J,(++te==4||F===0&&X===0)&&(V=this.mul(V,W[H]),te=0,H=0)):te=0}Q=26}return V},R.prototype.convertTo=function(z){var j=z.umod(this.m);return j===z?j.clone():j},R.prototype.convertFrom=function(z){var j=z.clone();return j.red=null,j},o.mont=function(z){return new U(z)},l(U,R),U.prototype.convertTo=function(z){return this.imod(z.ushln(this.shift))},U.prototype.convertFrom=function(z){var j=this.imod(z.mul(this.rinv));return j.red=null,j},U.prototype.imul=function(z,j){if(z.isZero()||j.isZero())return z.words[0]=0,z.length=1,z;var W=z.imul(j),F=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),V=W.isub(F).iushrn(this.shift),H=V;return V.cmp(this.m)>=0?H=V.isub(this.m):V.cmpn(0)<0&&(H=V.iadd(this.m)),H._forceRed(this)},U.prototype.mul=function(z,j){if(z.isZero()||j.isZero())return new o(0)._forceRed(this);var W=z.mul(j),F=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),V=W.isub(F).iushrn(this.shift),H=V;return V.cmp(this.m)>=0?H=V.isub(this.m):V.cmpn(0)<0&&(H=V.iadd(this.m)),H._forceRed(this)},U.prototype.invm=function(z){return this.imod(z._invmp(this.m).mul(this.r2))._forceRed(this)}})(f=t.nmd(f),this)},2692:function(f){f.exports=function(s){var t,a,n,i=s.length,l=0;for(t=0;t<i;++t)l+=s[t].length;var o=new Array(l),u=0;for(t=0;t<i;++t){var h=s[t],c=h.length;for(a=0;a<c;++a){var b=o[u++]=new Array(c-1),d=0;for(n=0;n<c;++n)n!==a&&(b[d++]=h[n]);if(1&a){var g=b[1];b[1]=b[0],b[0]=g}}}return o}},2569:function(f,s,t){f.exports=function(b,d,g){switch(arguments.length){case 1:return a=[],h(m=b,m,c,!0),a;case 2:return typeof d=="function"?h(b,b,d,!0):function(y,x){return a=[],h(y,x,c,!1),a}(b,d);case 3:return h(b,d,g,!1);default:throw new Error("box-intersect: Invalid arguments")}var m};var a,n=t(5306),i=t(1390),l=t(2337);function o(b,d){for(var g=0;g<b;++g)if(!(d[g]<=d[g+b]))return!0;return!1}function u(b,d,g,m){for(var y=0,x=0,T=0,p=b.length;T<p;++T){var S=b[T];if(!o(d,S)){for(var M=0;M<2*d;++M)g[y++]=S[M];m[x++]=T}}return x}function h(b,d,g,m){var y=b.length,x=d.length;if(!(y<=0||x<=0)){var T=b[0].length>>>1;if(!(T<=0)){var p,S=n.mallocDouble(2*T*y),M=n.mallocInt32(y);if((y=u(b,T,S,M))>0){if(T===1&&m)i.init(y),p=i.sweepComplete(T,g,0,y,S,M,0,y,S,M);else{var E=n.mallocDouble(2*T*x),P=n.mallocInt32(x);(x=u(d,T,E,P))>0&&(i.init(y+x),p=T===1?i.sweepBipartite(T,g,0,y,S,M,0,x,E,P):l(T,g,m,y,S,M,x,E,P),n.free(E),n.free(P))}n.free(S),n.free(M)}return p}}}function c(b,d){a.push([b,d])}},7333:function(f,s){function t(a){return a?function(n,i,l,o,u,h,c,b,d,g,m){return u-o>d-b?function(y,x,T,p,S,M,E,P,O,I,R){for(var U=2*y,z=p,j=U*p;z<S;++z,j+=U){var W=M[x+j],F=M[x+j+y],V=E[z];e:for(var H=P,te=U*P;H<O;++H,te+=U){var Q=I[x+te],K=I[x+te+y],X=R[H];if(!(K<W||F<Q)){for(var J=x+1;J<y;++J){var ee=M[J+j],ie=M[J+y+j],oe=I[J+te],ae=I[J+y+te];if(ie<oe||ae<ee)continue e}var ce=T(V,X);if(ce!==void 0)return ce}}}}(n,i,l,o,u,h,c,b,d,g,m):function(y,x,T,p,S,M,E,P,O,I,R){for(var U=2*y,z=P,j=U*P;z<O;++z,j+=U){var W=I[x+j],F=I[x+j+y],V=R[z];e:for(var H=p,te=U*p;H<S;++H,te+=U){var Q=M[x+te],K=M[x+te+y],X=E[H];if(!(F<Q||K<W)){for(var J=x+1;J<y;++J){var ee=M[J+te],ie=M[J+y+te],oe=I[J+j],ae=I[J+y+j];if(ie<oe||ae<ee)continue e}var ce=T(X,V);if(ce!==void 0)return ce}}}}(n,i,l,o,u,h,c,b,d,g,m)}:function(n,i,l,o,u,h,c,b,d,g,m,y){return h-u>g-d?o?function(x,T,p,S,M,E,P,O,I,R,U){for(var z=2*x,j=S,W=z*S;j<M;++j,W+=z){var F=E[T+W],V=E[T+W+x],H=P[j];e:for(var te=O,Q=z*O;te<I;++te,Q+=z){var K=R[T+Q],X=U[te];if(!(K<=F||V<K)){for(var J=T+1;J<x;++J){var ee=E[J+W],ie=E[J+x+W],oe=R[J+Q],ae=R[J+x+Q];if(ie<oe||ae<ee)continue e}var ce=p(X,H);if(ce!==void 0)return ce}}}}(n,i,l,u,h,c,b,d,g,m,y):function(x,T,p,S,M,E,P,O,I,R,U){for(var z=2*x,j=S,W=z*S;j<M;++j,W+=z){var F=E[T+W],V=E[T+W+x],H=P[j];e:for(var te=O,Q=z*O;te<I;++te,Q+=z){var K=R[T+Q],X=U[te];if(!(K<F||V<K)){for(var J=T+1;J<x;++J){var ee=E[J+W],ie=E[J+x+W],oe=R[J+Q],ae=R[J+x+Q];if(ie<oe||ae<ee)continue e}var ce=p(H,X);if(ce!==void 0)return ce}}}}(n,i,l,u,h,c,b,d,g,m,y):o?function(x,T,p,S,M,E,P,O,I,R,U){for(var z=2*x,j=O,W=z*O;j<I;++j,W+=z){var F=R[T+W],V=U[j];e:for(var H=S,te=z*S;H<M;++H,te+=z){var Q=E[T+te],K=E[T+te+x],X=P[H];if(!(F<=Q||K<F)){for(var J=T+1;J<x;++J){var ee=E[J+te],ie=E[J+x+te],oe=R[J+W],ae=R[J+x+W];if(ie<oe||ae<ee)continue e}var ce=p(V,X);if(ce!==void 0)return ce}}}}(n,i,l,u,h,c,b,d,g,m,y):function(x,T,p,S,M,E,P,O,I,R,U){for(var z=2*x,j=O,W=z*O;j<I;++j,W+=z){var F=R[T+W],V=U[j];e:for(var H=S,te=z*S;H<M;++H,te+=z){var Q=E[T+te],K=E[T+te+x],X=P[H];if(!(F<Q||K<F)){for(var J=T+1;J<x;++J){var ee=E[J+te],ie=E[J+x+te],oe=R[J+W],ae=R[J+x+W];if(ie<oe||ae<ee)continue e}var ce=p(X,V);if(ce!==void 0)return ce}}}}(n,i,l,u,h,c,b,d,g,m,y)}}s.partial=t(!1),s.full=t(!0)},2337:function(f,s,t){f.exports=function(z,j,W,F,V,H,te,Q,K){(function(Ne,ze){var Ge=8*n.log2(ze+1)*(Ne+1)|0,Ye=n.nextPow2(M*Ge);P.length<Ye&&(a.free(P),P=a.mallocInt32(Ye));var et=n.nextPow2(E*Ge);O.length<et&&(a.free(O),O=a.mallocDouble(et))})(z,F+te);var X,J=0,ee=2*z;for(I(J++,0,0,F,0,te,W?16:0,-1/0,1/0),W||I(J++,0,0,te,0,F,1,-1/0,1/0);J>0;){var ie=(J-=1)*M,oe=P[ie],ae=P[ie+1],ce=P[ie+2],ge=P[ie+3],ve=P[ie+4],be=P[ie+5],we=J*E,ye=O[we],me=O[we+1],Ae=1&be,ke=!!(16&be),fe=V,le=H,de=Q,Ce=K;if(Ae&&(fe=Q,le=K,de=V,Ce=H),!(2&be&&ae>=(ce=x(z,oe,ae,ce,fe,le,me))||4&be&&(ae=T(z,oe,ae,ce,fe,le,ye))>=ce)){var Me=ce-ae,Le=ve-ge;if(ke){if(z*Me*(Me+Le)<g){if((X=u.scanComplete(z,oe,j,ae,ce,fe,le,ge,ve,de,Ce))!==void 0)return X;continue}}else{if(z*Math.min(Me,Le)<b){if((X=l(z,oe,j,Ae,ae,ce,fe,le,ge,ve,de,Ce))!==void 0)return X;continue}if(z*Me*Le<d){if((X=u.scanBipartite(z,oe,j,Ae,ae,ce,fe,le,ge,ve,de,Ce))!==void 0)return X;continue}}var Oe=m(z,oe,ae,ce,fe,le,ye,me);if(ae<Oe)if(z*(Oe-ae)<b){if((X=o(z,oe+1,j,ae,Oe,fe,le,ge,ve,de,Ce))!==void 0)return X}else if(oe===z-2){if((X=Ae?u.sweepBipartite(z,j,ge,ve,de,Ce,ae,Oe,fe,le):u.sweepBipartite(z,j,ae,Oe,fe,le,ge,ve,de,Ce))!==void 0)return X}else I(J++,oe+1,ae,Oe,ge,ve,Ae,-1/0,1/0),I(J++,oe+1,ge,ve,ae,Oe,1^Ae,-1/0,1/0);if(Oe<ce){var Be=h(z,oe,ge,ve,de,Ce),pe=de[ee*Be+oe],_e=y(z,oe,Be,ve,de,Ce,pe);if(_e<ve&&I(J++,oe,Oe,ce,_e,ve,(4|Ae)+(ke?16:0),pe,me),ge<Be&&I(J++,oe,Oe,ce,ge,Be,(2|Ae)+(ke?16:0),ye,pe),Be+1===_e){if((X=ke?U(z,oe,j,Oe,ce,fe,le,Be,de,Ce[Be]):R(z,oe,j,Ae,Oe,ce,fe,le,Be,de,Ce[Be]))!==void 0)return X}else if(Be<_e){var Te;if(ke){if(Oe<(Te=p(z,oe,Oe,ce,fe,le,pe))){var Re=y(z,oe,Oe,Te,fe,le,pe);if(oe===z-2){if(Oe<Re&&(X=u.sweepComplete(z,j,Oe,Re,fe,le,Be,_e,de,Ce))!==void 0||Re<Te&&(X=u.sweepBipartite(z,j,Re,Te,fe,le,Be,_e,de,Ce))!==void 0)return X}else Oe<Re&&I(J++,oe+1,Oe,Re,Be,_e,16,-1/0,1/0),Re<Te&&(I(J++,oe+1,Re,Te,Be,_e,0,-1/0,1/0),I(J++,oe+1,Be,_e,Re,Te,1,-1/0,1/0))}}else Oe<(Te=Ae?S(z,oe,Oe,ce,fe,le,pe):p(z,oe,Oe,ce,fe,le,pe))&&(oe===z-2?X=Ae?u.sweepBipartite(z,j,Be,_e,de,Ce,Oe,Te,fe,le):u.sweepBipartite(z,j,Oe,Te,fe,le,Be,_e,de,Ce):(I(J++,oe+1,Oe,Te,Be,_e,Ae,-1/0,1/0),I(J++,oe+1,Be,_e,Oe,Te,1^Ae,-1/0,1/0)))}}}}};var a=t(5306),n=t(2288),i=t(7333),l=i.partial,o=i.full,u=t(1390),h=t(2464),c=t(122),b=128,d=1<<22,g=1<<22,m=c("!(lo>=p0)&&!(p1>=hi)"),y=c("lo===p0"),x=c("lo<p0"),T=c("hi<=p0"),p=c("lo<=p0&&p0<=hi"),S=c("lo<p0&&p0<=hi"),M=6,E=2,P=a.mallocInt32(1024),O=a.mallocDouble(1024);function I(z,j,W,F,V,H,te,Q,K){var X=M*z;P[X]=j,P[X+1]=W,P[X+2]=F,P[X+3]=V,P[X+4]=H,P[X+5]=te;var J=E*z;O[J]=Q,O[J+1]=K}function R(z,j,W,F,V,H,te,Q,K,X,J){var ee=2*z,ie=K*ee,oe=X[ie+j];e:for(var ae=V,ce=V*ee;ae<H;++ae,ce+=ee){var ge=te[ce+j],ve=te[ce+j+z];if(!(oe<ge||ve<oe||F&&oe===ge)){for(var be,we=Q[ae],ye=j+1;ye<z;++ye){ge=te[ce+ye],ve=te[ce+ye+z];var me=X[ie+ye],Ae=X[ie+ye+z];if(ve<me||Ae<ge)continue e}if((be=F?W(J,we):W(we,J))!==void 0)return be}}}function U(z,j,W,F,V,H,te,Q,K,X){var J=2*z,ee=Q*J,ie=K[ee+j];e:for(var oe=F,ae=F*J;oe<V;++oe,ae+=J){var ce=te[oe];if(ce!==X){var ge=H[ae+j],ve=H[ae+j+z];if(!(ie<ge||ve<ie)){for(var be=j+1;be<z;++be){ge=H[ae+be],ve=H[ae+be+z];var we=K[ee+be],ye=K[ee+be+z];if(ve<we||ye<ge)continue e}var me=W(ce,X);if(me!==void 0)return me}}}}},2464:function(f,s,t){f.exports=function(l,o,u,h,c,b){if(h<=u+1)return u;for(var d=u,g=h,m=h+u>>>1,y=2*l,x=m,T=c[y*m+o];d<g;){if(g-d<n){i(l,o,d,g,c,b),T=c[y*m+o];break}var p=g-d,S=Math.random()*p+d|0,M=c[y*S+o],E=Math.random()*p+d|0,P=c[y*E+o],O=Math.random()*p+d|0,I=c[y*O+o];M<=P?I>=P?(x=E,T=P):M>=I?(x=S,T=M):(x=O,T=I):P>=I?(x=E,T=P):I>=M?(x=S,T=M):(x=O,T=I);for(var R=y*(g-1),U=y*x,z=0;z<y;++z,++R,++U){var j=c[R];c[R]=c[U],c[U]=j}var W=b[g-1];for(b[g-1]=b[x],b[x]=W,R=y*(g-1),U=y*(x=a(l,o,d,g-1,c,b,T)),z=0;z<y;++z,++R,++U)j=c[R],c[R]=c[U],c[U]=j;if(W=b[g-1],b[g-1]=b[x],b[x]=W,m<x){for(g=x-1;d<g&&c[y*(g-1)+o]===T;)g-=1;g+=1}else{if(!(x<m))break;for(d=x+1;d<g&&c[y*d+o]===T;)d+=1}}return a(l,o,u,m,c,b,c[y*m+o])};var a=t(122)("lo<p0"),n=8;function i(l,o,u,h,c,b){for(var d=2*l,g=d*(u+1)+o,m=u+1;m<h;++m,g+=d)for(var y=c[g],x=m,T=d*(m-1);x>u&&c[T+o]>y;--x,T-=d){for(var p=T,S=T+d,M=0;M<d;++M,++p,++S){var E=c[p];c[p]=c[S],c[S]=E}var P=b[x];b[x]=b[x-1],b[x-1]=P}}},122:function(f){f.exports=function(t){return s[t]};var s={"lo===p0":function(t,a,n,i,l,o,u){for(var h=2*t,c=h*n,b=c,d=n,g=a,m=n;i>m;++m,c+=h)if(l[c+g]===u)if(d===m)d+=1,b+=h;else{for(var y=0;h>y;++y){var x=l[c+y];l[c+y]=l[b],l[b++]=x}var T=o[m];o[m]=o[d],o[d++]=T}return d},"lo<p0":function(t,a,n,i,l,o,u){for(var h=2*t,c=h*n,b=c,d=n,g=a,m=n;i>m;++m,c+=h)if(l[c+g]<u)if(d===m)d+=1,b+=h;else{for(var y=0;h>y;++y){var x=l[c+y];l[c+y]=l[b],l[b++]=x}var T=o[m];o[m]=o[d],o[d++]=T}return d},"lo<=p0":function(t,a,n,i,l,o,u){for(var h=2*t,c=h*n,b=c,d=n,g=t+a,m=n;i>m;++m,c+=h)if(l[c+g]<=u)if(d===m)d+=1,b+=h;else{for(var y=0;h>y;++y){var x=l[c+y];l[c+y]=l[b],l[b++]=x}var T=o[m];o[m]=o[d],o[d++]=T}return d},"hi<=p0":function(t,a,n,i,l,o,u){for(var h=2*t,c=h*n,b=c,d=n,g=t+a,m=n;i>m;++m,c+=h)if(l[c+g]<=u)if(d===m)d+=1,b+=h;else{for(var y=0;h>y;++y){var x=l[c+y];l[c+y]=l[b],l[b++]=x}var T=o[m];o[m]=o[d],o[d++]=T}return d},"lo<p0&&p0<=hi":function(t,a,n,i,l,o,u){for(var h=2*t,c=h*n,b=c,d=n,g=a,m=t+a,y=n;i>y;++y,c+=h){var x=l[c+g],T=l[c+m];if(x<u&&u<=T)if(d===y)d+=1,b+=h;else{for(var p=0;h>p;++p){var S=l[c+p];l[c+p]=l[b],l[b++]=S}var M=o[y];o[y]=o[d],o[d++]=M}}return d},"lo<=p0&&p0<=hi":function(t,a,n,i,l,o,u){for(var h=2*t,c=h*n,b=c,d=n,g=a,m=t+a,y=n;i>y;++y,c+=h){var x=l[c+g],T=l[c+m];if(x<=u&&u<=T)if(d===y)d+=1,b+=h;else{for(var p=0;h>p;++p){var S=l[c+p];l[c+p]=l[b],l[b++]=S}var M=o[y];o[y]=o[d],o[d++]=M}}return d},"!(lo>=p0)&&!(p1>=hi)":function(t,a,n,i,l,o,u,h){for(var c=2*t,b=c*n,d=b,g=n,m=a,y=t+a,x=n;i>x;++x,b+=c){var T=l[b+m],p=l[b+y];if(!(T>=u||h>=p))if(g===x)g+=1,d+=c;else{for(var S=0;c>S;++S){var M=l[b+S];l[b+S]=l[d],l[d++]=M}var E=o[x];o[x]=o[g],o[g++]=E}}return g}}},309:function(f){f.exports=function(c,b){b<=4*s?t(0,b-1,c):h(0,b-1,c)};var s=32;function t(c,b,d){for(var g=2*(c+1),m=c+1;m<=b;++m){for(var y=d[g++],x=d[g++],T=m,p=g-2;T-- >c;){var S=d[p-2],M=d[p-1];if(S<y||S===y&&M<x)break;d[p]=S,d[p+1]=M,p-=2}d[p]=y,d[p+1]=x}}function a(c,b,d){b*=2;var g=d[c*=2],m=d[c+1];d[c]=d[b],d[c+1]=d[b+1],d[b]=g,d[b+1]=m}function n(c,b,d){b*=2,d[c*=2]=d[b],d[c+1]=d[b+1]}function i(c,b,d,g){b*=2,d*=2;var m=g[c*=2],y=g[c+1];g[c]=g[b],g[c+1]=g[b+1],g[b]=g[d],g[b+1]=g[d+1],g[d]=m,g[d+1]=y}function l(c,b,d,g,m){b*=2,m[c*=2]=m[b],m[b]=d,m[c+1]=m[b+1],m[b+1]=g}function o(c,b,d){b*=2;var g=d[c*=2],m=d[b];return!(g<m)&&(g!==m||d[c+1]>d[b+1])}function u(c,b,d,g){var m=g[c*=2];return m<b||m===b&&g[c+1]<d}function h(c,b,d){var g=(b-c+1)/6|0,m=c+g,y=b-g,x=c+b>>1,T=x-g,p=x+g,S=m,M=T,E=x,P=p,O=y,I=c+1,R=b-1,U=0;o(S,M,d)&&(U=S,S=M,M=U),o(P,O,d)&&(U=P,P=O,O=U),o(S,E,d)&&(U=S,S=E,E=U),o(M,E,d)&&(U=M,M=E,E=U),o(S,P,d)&&(U=S,S=P,P=U),o(E,P,d)&&(U=E,E=P,P=U),o(M,O,d)&&(U=M,M=O,O=U),o(M,E,d)&&(U=M,M=E,E=U),o(P,O,d)&&(U=P,P=O,O=U);for(var z=d[2*M],j=d[2*M+1],W=d[2*P],F=d[2*P+1],V=2*S,H=2*E,te=2*O,Q=2*m,K=2*x,X=2*y,J=0;J<2;++J){var ee=d[V+J],ie=d[H+J],oe=d[te+J];d[Q+J]=ee,d[K+J]=ie,d[X+J]=oe}n(T,c,d),n(p,b,d);for(var ae=I;ae<=R;++ae)if(u(ae,z,j,d))ae!==I&&a(ae,I,d),++I;else if(!u(ae,W,F,d))for(;;){if(u(R,W,F,d)){u(R,z,j,d)?(i(ae,I,R,d),++I,--R):(a(ae,R,d),--R);break}if(--R<ae)break}l(c,I-1,z,j,d),l(b,R+1,W,F,d),I-2-c<=s?t(c,I-2,d):h(c,I-2,d),b-(R+2)<=s?t(R+2,b,d):h(R+2,b,d),R-I<=s?t(I,R,d):h(I,R,d)}},1390:function(f,s,t){f.exports={init:function(T){var p=n.nextPow2(T);u.length<p&&(a.free(u),u=a.mallocInt32(p)),h.length<p&&(a.free(h),h=a.mallocInt32(p)),c.length<p&&(a.free(c),c=a.mallocInt32(p)),b.length<p&&(a.free(b),b=a.mallocInt32(p)),d.length<p&&(a.free(d),d=a.mallocInt32(p)),g.length<p&&(a.free(g),g=a.mallocInt32(p));var S=8*p;m.length<S&&(a.free(m),m=a.mallocDouble(S))},sweepBipartite:function(T,p,S,M,E,P,O,I,R,U){for(var z=0,j=2*T,W=T-1,F=j-1,V=S;V<M;++V){var H=P[V],te=j*V;m[z++]=E[te+W],m[z++]=-(H+1),m[z++]=E[te+F],m[z++]=H}for(V=O;V<I;++V){H=U[V]+l;var Q=j*V;m[z++]=R[Q+W],m[z++]=-H,m[z++]=R[Q+F],m[z++]=H}var K=z>>>1;i(m,K);var X=0,J=0;for(V=0;V<K;++V){var ee=0|m[2*V+1];if(ee>=l)y(c,b,J--,ee=ee-l|0);else if(ee>=0)y(u,h,X--,ee);else if(ee<=-l){ee=-ee-l|0;for(var ie=0;ie<X;++ie)if((oe=p(u[ie],ee))!==void 0)return oe;x(c,b,J++,ee)}else{for(ee=-ee-1|0,ie=0;ie<J;++ie){var oe;if((oe=p(ee,c[ie]))!==void 0)return oe}x(u,h,X++,ee)}}},sweepComplete:function(T,p,S,M,E,P,O,I,R,U){for(var z=0,j=2*T,W=T-1,F=j-1,V=S;V<M;++V){var H=P[V]+1<<1,te=j*V;m[z++]=E[te+W],m[z++]=-H,m[z++]=E[te+F],m[z++]=H}for(V=O;V<I;++V){H=U[V]+1<<1;var Q=j*V;m[z++]=R[Q+W],m[z++]=1|-H,m[z++]=R[Q+F],m[z++]=1|H}var K=z>>>1;i(m,K);var X=0,J=0,ee=0;for(V=0;V<K;++V){var ie=0|m[2*V+1],oe=1&ie;if(V<K-1&&ie>>1==m[2*V+3]>>1&&(oe=2,V+=1),ie<0){for(var ae=-(ie>>1)-1,ce=0;ce<ee;++ce)if((ge=p(d[ce],ae))!==void 0)return ge;if(oe!==0){for(ce=0;ce<X;++ce)if((ge=p(u[ce],ae))!==void 0)return ge}if(oe!==1)for(ce=0;ce<J;++ce){var ge;if((ge=p(c[ce],ae))!==void 0)return ge}oe===0?x(u,h,X++,ae):oe===1?x(c,b,J++,ae):oe===2&&x(d,g,ee++,ae)}else ae=(ie>>1)-1,oe===0?y(u,h,X--,ae):oe===1?y(c,b,J--,ae):oe===2&&y(d,g,ee--,ae)}},scanBipartite:function(T,p,S,M,E,P,O,I,R,U,z,j){var W=0,F=2*T,V=p,H=p+T,te=1,Q=1;M?Q=l:te=l;for(var K=E;K<P;++K){var X=K+te,J=F*K;m[W++]=O[J+V],m[W++]=-X,m[W++]=O[J+H],m[W++]=X}for(K=R;K<U;++K){X=K+Q;var ee=F*K;m[W++]=z[ee+V],m[W++]=-X}var ie=W>>>1;i(m,ie);var oe=0;for(K=0;K<ie;++K){var ae=0|m[2*K+1];if(ae<0){var ce=!1;if((X=-ae)>=l?(ce=!M,X-=l):(ce=!!M,X-=1),ce)x(u,h,oe++,X);else{var ge=j[X],ve=F*X,be=z[ve+p+1],we=z[ve+p+1+T];e:for(var ye=0;ye<oe;++ye){var me=u[ye],Ae=F*me;if(!(we<O[Ae+p+1]||O[Ae+p+1+T]<be)){for(var ke=p+2;ke<T;++ke)if(z[ve+ke+T]<O[Ae+ke]||O[Ae+ke+T]<z[ve+ke])continue e;var fe,le=I[me];if((fe=M?S(ge,le):S(le,ge))!==void 0)return fe}}}}else y(u,h,oe--,ae-te)}},scanComplete:function(T,p,S,M,E,P,O,I,R,U,z){for(var j=0,W=2*T,F=p,V=p+T,H=M;H<E;++H){var te=H+l,Q=W*H;m[j++]=P[Q+F],m[j++]=-te,m[j++]=P[Q+V],m[j++]=te}for(H=I;H<R;++H){te=H+1;var K=W*H;m[j++]=U[K+F],m[j++]=-te}var X=j>>>1;i(m,X);var J=0;for(H=0;H<X;++H){var ee=0|m[2*H+1];if(ee<0)if((te=-ee)>=l)u[J++]=te-l;else{var ie=z[te-=1],oe=W*te,ae=U[oe+p+1],ce=U[oe+p+1+T];e:for(var ge=0;ge<J;++ge){var ve=u[ge],be=O[ve];if(be===ie)break;var we=W*ve;if(!(ce<P[we+p+1]||P[we+p+1+T]<ae)){for(var ye=p+2;ye<T;++ye)if(U[oe+ye+T]<P[we+ye]||P[we+ye+T]<U[oe+ye])continue e;var me=S(be,ie);if(me!==void 0)return me}}}else{for(te=ee-l,ge=J-1;ge>=0;--ge)if(u[ge]===te){for(ye=ge+1;ye<J;++ye)u[ye-1]=u[ye];break}--J}}}};var a=t(5306),n=t(2288),i=t(309),l=1<<28,o=1024,u=a.mallocInt32(o),h=a.mallocInt32(o),c=a.mallocInt32(o),b=a.mallocInt32(o),d=a.mallocInt32(o),g=a.mallocInt32(o),m=a.mallocDouble(8192);function y(T,p,S,M){var E=p[M],P=T[S-1];T[E]=P,p[P]=E}function x(T,p,S,M){T[S]=M,p[M]=S}},7761:function(f,s,t){var a=t(9971),n=t(743),i=t(2161),l=t(7098);function o(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function u(c,b){return c[0]-b[0]||c[1]-b[1]}function h(c,b,d){return b in c?c[b]:d}f.exports=function(c,b,d){Array.isArray(b)?(d=d||{},b=b||[]):(d=b||{},b=[]);var g=!!h(d,"delaunay",!0),m=!!h(d,"interior",!0),y=!!h(d,"exterior",!0),x=!!h(d,"infinity",!1);if(!m&&!y||c.length===0)return[];var T=a(c,b);if(g||m!==y||x){for(var p=n(c.length,function(E){return E.map(o).sort(u)}(b)),S=0;S<T.length;++S){var M=T[S];p.addTriangle(M[0],M[1],M[2])}return g&&i(c,p),y?m?x?l(p,0,x):p.cells():l(p,1,x):l(p,-1)}return T}},2161:function(f,s,t){var a=t(2227)[4];function n(i,l,o,u,h,c){var b=l.opposite(u,h);if(!(b<0)){if(h<u){var d=u;u=h,h=d,d=c,c=b,b=d}l.isConstraint(u,h)||a(i[u],i[h],i[c],i[b])<0&&o.push(u,h)}}t(5070),f.exports=function(i,l){for(var o=[],u=i.length,h=l.stars,c=0;c<u;++c)for(var b=h[c],d=1;d<b.length;d+=2)if(!((x=b[d])<c||l.isConstraint(c,x))){for(var g=b[d-1],m=-1,y=1;y<b.length;y+=2)if(b[y-1]===x){m=b[y];break}m<0||a(i[c],i[x],i[g],i[m])<0&&o.push(c,x)}for(;o.length>0;){for(var x=o.pop(),T=(g=-1,m=-1,b=h[c=o.pop()],1);T<b.length;T+=2){var p=b[T-1],S=b[T];p===x?m=S:S===x&&(g=p)}g<0||m<0||a(i[c],i[x],i[g],i[m])>=0||(l.flip(c,x),n(i,l,o,g,c,m),n(i,l,o,c,m,g),n(i,l,o,m,x,g),n(i,l,o,x,g,m))}}},7098:function(f,s,t){var a,n=t(5070);function i(o,u,h,c,b,d,g){this.cells=o,this.neighbor=u,this.flags=c,this.constraint=h,this.active=b,this.next=d,this.boundary=g}function l(o,u){return o[0]-u[0]||o[1]-u[1]||o[2]-u[2]}f.exports=function(o,u,h){var c=function(O,I){for(var R=O.cells(),U=R.length,z=0;z<U;++z){var j=(ee=R[z])[0],W=ee[1],F=ee[2];W<F?W<j&&(ee[0]=W,ee[1]=F,ee[2]=j):F<j&&(ee[0]=F,ee[1]=j,ee[2]=W)}R.sort(l);var V=new Array(U);for(z=0;z<V.length;++z)V[z]=0;var H=[],te=[],Q=new Array(3*U),K=new Array(3*U),X=null;I&&(X=[]);var J=new i(R,Q,K,V,H,te,X);for(z=0;z<U;++z)for(var ee=R[z],ie=0;ie<3;++ie){j=ee[ie],W=ee[(ie+1)%3];var oe=Q[3*z+ie]=J.locate(W,j,O.opposite(W,j)),ae=K[3*z+ie]=O.isConstraint(j,W);oe<0&&(ae?te.push(z):(H.push(z),V[z]=1),I&&X.push([W,j,-1]))}return J}(o,h);if(u===0)return h?c.cells.concat(c.boundary):c.cells;for(var b=1,d=c.active,g=c.next,m=c.flags,y=c.cells,x=c.constraint,T=c.neighbor;d.length>0||g.length>0;){for(;d.length>0;){var p=d.pop();if(m[p]!==-b){m[p]=b,y[p];for(var S=0;S<3;++S){var M=T[3*p+S];M>=0&&m[M]===0&&(x[3*p+S]?g.push(M):(d.push(M),m[M]=b))}}}var E=g;g=d,d=E,g.length=0,b=-b}var P=function(O,I,R){for(var U=0,z=0;z<O.length;++z)I[z]===R&&(O[U++]=O[z]);return O.length=U,O}(y,m,u);return h?P.concat(c.boundary):P},i.prototype.locate=(a=[0,0,0],function(o,u,h){var c=o,b=u,d=h;return u<h?u<o&&(c=u,b=h,d=o):h<o&&(c=h,b=o,d=u),c<0?-1:(a[0]=c,a[1]=b,a[2]=d,n.eq(this.cells,a,l))})},9971:function(f,s,t){var a=t(5070),n=t(417)[3];function i(g,m,y,x,T){this.a=g,this.b=m,this.idx=y,this.lowerIds=x,this.upperIds=T}function l(g,m,y,x){this.a=g,this.b=m,this.type=y,this.idx=x}function o(g,m){var y=g.a[0]-m.a[0]||g.a[1]-m.a[1]||g.type-m.type;return y||(g.type!==0&&(y=n(g.a,g.b,m.b))?y:g.idx-m.idx)}function u(g,m){return n(g.a,g.b,m)}function h(g,m,y,x,T){for(var p=a.lt(m,x,u),S=a.gt(m,x,u),M=p;M<S;++M){for(var E=m[M],P=E.lowerIds,O=P.length;O>1&&n(y[P[O-2]],y[P[O-1]],x)>0;)g.push([P[O-1],P[O-2],T]),O-=1;P.length=O,P.push(T);var I=E.upperIds;for(O=I.length;O>1&&n(y[I[O-2]],y[I[O-1]],x)<0;)g.push([I[O-2],I[O-1],T]),O-=1;I.length=O,I.push(T)}}function c(g,m){var y;return(y=g.a[0]<m.a[0]?n(g.a,g.b,m.a):n(m.b,m.a,g.a))?y:(y=m.b[0]<g.b[0]?n(g.a,g.b,m.b):n(m.b,m.a,g.b))||g.idx-m.idx}function b(g,m,y){var x=a.le(g,y,c),T=g[x],p=T.upperIds,S=p[p.length-1];T.upperIds=[S],g.splice(x+1,0,new i(y.a,y.b,y.idx,[S],p))}function d(g,m,y){var x=y.a;y.a=y.b,y.b=x;var T=a.eq(g,y,c),p=g[T];g[T-1].upperIds=p.upperIds,g.splice(T,1)}f.exports=function(g,m){for(var y=g.length,x=m.length,T=[],p=0;p<y;++p)T.push(new l(g[p],null,0,p));for(p=0;p<x;++p){var S=m[p],M=g[S[0]],E=g[S[1]];M[0]<E[0]?T.push(new l(M,E,2,p),new l(E,M,1,p)):M[0]>E[0]&&T.push(new l(E,M,2,p),new l(M,E,1,p))}T.sort(o);for(var P=T[0].a[0]-(1+Math.abs(T[0].a[0]))*Math.pow(2,-52),O=[new i([P,1],[P,0],-1,[],[])],I=[],R=(p=0,T.length);p<R;++p){var U=T[p],z=U.type;z===0?h(I,O,g,U.a,U.idx):z===2?b(O,0,U):d(O,0,U)}return I}},743:function(f,s,t){var a=t(5070);function n(o,u){this.stars=o,this.edges=u}f.exports=function(o,u){for(var h=new Array(o),c=0;c<o;++c)h[c]=[];return new n(h,u)};var i=n.prototype;function l(o,u,h){for(var c=1,b=o.length;c<b;c+=2)if(o[c-1]===u&&o[c]===h)return o[c-1]=o[b-2],o[c]=o[b-1],void(o.length=b-2)}i.isConstraint=function(){var o=[0,0];function u(h,c){return h[0]-c[0]||h[1]-c[1]}return function(h,c){return o[0]=Math.min(h,c),o[1]=Math.max(h,c),a.eq(this.edges,o,u)>=0}}(),i.removeTriangle=function(o,u,h){var c=this.stars;l(c[o],u,h),l(c[u],h,o),l(c[h],o,u)},i.addTriangle=function(o,u,h){var c=this.stars;c[o].push(u,h),c[u].push(h,o),c[h].push(o,u)},i.opposite=function(o,u){for(var h=this.stars[u],c=1,b=h.length;c<b;c+=2)if(h[c]===o)return h[c-1];return-1},i.flip=function(o,u){var h=this.opposite(o,u),c=this.opposite(u,o);this.removeTriangle(o,u,h),this.removeTriangle(u,o,c),this.addTriangle(o,c,h),this.addTriangle(u,h,c)},i.edges=function(){for(var o=this.stars,u=[],h=0,c=o.length;h<c;++h)for(var b=o[h],d=0,g=b.length;d<g;d+=2)u.push([b[d],b[d+1]]);return u},i.cells=function(){for(var o=this.stars,u=[],h=0,c=o.length;h<c;++h)for(var b=o[h],d=0,g=b.length;d<g;d+=2){var m=b[d],y=b[d+1];h<Math.min(m,y)&&u.push([h,m,y])}return u}},9887:function(f){f.exports=function(s){for(var t=1,a=1;a<s.length;++a)for(var n=0;n<a;++n)if(s[a]<s[n])t=-t;else if(s[n]===s[a])return 0;return t}},9243:function(f,s,t){var a=t(3094),n=t(6606);function i(u,h){for(var c=0,b=u.length,d=0;d<b;++d)c+=u[d]*h[d];return c}function l(u){var h=u.length;if(h===0)return[];u[0].length;var c=a([u.length+1,u.length+1],1),b=a([u.length+1],1);c[h][h]=0;for(var d=0;d<h;++d){for(var g=0;g<=d;++g)c[g][d]=c[d][g]=2*i(u[d],u[g]);b[d]=i(u[d],u[d])}var m=n(c,b),y=0,x=m[h+1];for(d=0;d<x.length;++d)y+=x[d];var T=new Array(h);for(d=0;d<h;++d){x=m[d];var p=0;for(g=0;g<x.length;++g)p+=x[g];T[d]=p/y}return T}function o(u){if(u.length===0)return[];for(var h=u[0].length,c=a([h]),b=l(u),d=0;d<u.length;++d)for(var g=0;g<h;++g)c[g]+=u[d][g]*b[d];return c}o.barycenetric=l,f.exports=o},1778:function(f,s,t){f.exports=function(n){for(var i=a(n),l=0,o=0;o<n.length;++o)for(var u=n[o],h=0;h<i.length;++h)l+=Math.pow(u[h]-i[h],2);return Math.sqrt(l/n.length)};var a=t(9243)},197:function(f,s,t){f.exports=function(S,M,E){var P;if(E){P=M;for(var O=new Array(M.length),I=0;I<M.length;++I){var R=M[I];O[I]=[R[0],R[1],E[I]]}M=O}for(var U=function(z,j,W){var F=m(z,[],g(z));return T(j,F,W),!!F}(S,M,!!E);p(S,M,!!E);)U=!0;if(E&&U)for(P.length=0,E.length=0,I=0;I<M.length;++I)R=M[I],P.push([R[0],R[1]]),E.push(R[2]);return U};var a=t(1731),n=t(2569),i=t(4434),l=t(5125),o=t(8846),u=t(7999),h=t(2826),c=t(8551),b=t(5528);function d(S){var M=u(S);return[c(M,-1/0),c(M,1/0)]}function g(S){for(var M=new Array(S.length),E=0;E<S.length;++E){var P=S[E];M[E]=[c(P[0],-1/0),c(P[1],-1/0),c(P[0],1/0),c(P[1],1/0)]}return M}function m(S,M,E){for(var P=M.length,O=new a(P),I=[],R=0;R<M.length;++R){var U=M[R],z=d(U[0]),j=d(U[1]);I.push([c(z[0],-1/0),c(j[0],-1/0),c(z[1],1/0),c(j[1],1/0)])}n(I,function(te,Q){O.link(te,Q)});var W=!0,F=new Array(P);for(R=0;R<P;++R)(H=O.find(R))!==R&&(W=!1,S[H]=[Math.min(S[R][0],S[H][0]),Math.min(S[R][1],S[H][1])]);if(W)return null;var V=0;for(R=0;R<P;++R){var H;(H=O.find(R))===R?(F[R]=V,S[V++]=S[R]):F[R]=-1}for(S.length=V,R=0;R<P;++R)F[R]<0&&(F[R]=F[O.find(R)]);return F}function y(S,M){return S[0]-M[0]||S[1]-M[1]}function x(S,M){return S[0]-M[0]||S[1]-M[1]||(S[2]<M[2]?-1:S[2]>M[2]?1:0)}function T(S,M,E){if(S.length!==0){if(M)for(var P=0;P<S.length;++P){var O=M[(R=S[P])[0]],I=M[R[1]];R[0]=Math.min(O,I),R[1]=Math.max(O,I)}else for(P=0;P<S.length;++P){var R;O=(R=S[P])[0],I=R[1],R[0]=Math.min(O,I),R[1]=Math.max(O,I)}E?S.sort(x):S.sort(y);var U=1;for(P=1;P<S.length;++P){var z=S[P-1],j=S[P];(j[0]!==z[0]||j[1]!==z[1]||E&&j[2]!==z[2])&&(S[U++]=j)}S.length=U}}function p(S,M,E){var P=function(z,j){for(var W=new Array(j.length),F=0;F<j.length;++F){var V=j[F],H=z[V[0]],te=z[V[1]];W[F]=[c(Math.min(H[0],te[0]),-1/0),c(Math.min(H[1],te[1]),-1/0),c(Math.max(H[0],te[0]),1/0),c(Math.max(H[1],te[1]),1/0)]}return W}(S,M),O=function(z,j,W){var F=[];return n(W,function(V,H){var te=j[V],Q=j[H];if(te[0]!==Q[0]&&te[0]!==Q[1]&&te[1]!==Q[0]&&te[1]!==Q[1]){var K=z[te[0]],X=z[te[1]],J=z[Q[0]],ee=z[Q[1]];i(K,X,J,ee)&&F.push([V,H])}}),F}(S,M,P),I=function(z,j,W,F){var V=[];return n(W,F,function(H,te){var Q=j[H];if(Q[0]!==te&&Q[1]!==te){var K=z[te],X=z[Q[0]],J=z[Q[1]];i(X,J,K,K)&&V.push([H,te])}}),V}(S,M,P,g(S)),R=function(z,j,W,F,V){var H,te,Q=z.map(function(fe){return[l(fe[0]),l(fe[1])]});for(H=0;H<W.length;++H){var K=W[H];te=K[0];var X=K[1],J=j[te],ee=j[X],ie=b(h(z[J[0]]),h(z[J[1]]),h(z[ee[0]]),h(z[ee[1]]));if(ie){var oe=z.length;z.push([u(ie[0]),u(ie[1])]),Q.push(ie),F.push([te,oe],[X,oe])}}for(F.sort(function(fe,le){if(fe[0]!==le[0])return fe[0]-le[0];var de=Q[fe[1]],Ce=Q[le[1]];return o(de[0],Ce[0])||o(de[1],Ce[1])}),H=F.length-1;H>=0;--H){var ae=j[te=(Ae=F[H])[0]],ce=ae[0],ge=ae[1],ve=z[ce],be=z[ge];if((ve[0]-be[0]||ve[1]-be[1])<0){var we=ce;ce=ge,ge=we}ae[0]=ce;var ye,me=ae[1]=Ae[1];for(V&&(ye=ae[2]);H>0&&F[H-1][0]===te;){var Ae,ke=(Ae=F[--H])[1];V?j.push([me,ke,ye]):j.push([me,ke]),me=ke}V?j.push([me,ge,ye]):j.push([me,ge])}return Q}(S,M,O,I,E),U=m(S,R);return T(M,U,E),!!U||O.length>0||I.length>0}},5528:function(f,s,t){f.exports=function(b,d,g,m){var y=o(d,b),x=o(m,g),T=c(y,x);if(l(T)===0)return null;var p=c(x,o(b,g)),S=n(p,T),M=h(y,S);return u(b,M)};var a=t(3962),n=t(9189),i=t(4354),l=t(4951),o=t(6695),u=t(7584),h=t(4469);function c(b,d){return i(a(b[0],d[1]),a(b[1],d[0]))}},5692:function(f){f.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(f,s,t){var a=t(5692),n=t(3578);function i(u){return[u[0]/255,u[1]/255,u[2]/255,u[3]]}function l(u){for(var h,c="#",b=0;b<3;++b)c+=("00"+(h=(h=u[b]).toString(16))).substr(h.length);return c}function o(u){return"rgba("+u.join(",")+")"}f.exports=function(u){var h,c,b,d,g,m,y,x,T,p;if(u||(u={}),x=(u.nshades||72)-1,y=u.format||"hex",(m=u.colormap)||(m="jet"),typeof m=="string"){if(m=m.toLowerCase(),!a[m])throw Error(m+" not a supported colorscale");g=a[m]}else{if(!Array.isArray(m))throw Error("unsupported colormap option",m);g=m.slice()}if(g.length>x+1)throw new Error(m+" map requires nshades to be at least size "+g.length);T=Array.isArray(u.alpha)?u.alpha.length!==2?[1,1]:u.alpha.slice():typeof u.alpha=="number"?[u.alpha,u.alpha]:[1,1],h=g.map(function(O){return Math.round(O.index*x)}),T[0]=Math.min(Math.max(T[0],0),1),T[1]=Math.min(Math.max(T[1],0),1);var S=g.map(function(O,I){var R=g[I].index,U=g[I].rgb.slice();return U.length===4&&U[3]>=0&&U[3]<=1||(U[3]=T[0]+(T[1]-T[0])*R),U}),M=[];for(p=0;p<h.length-1;++p){d=h[p+1]-h[p],c=S[p],b=S[p+1];for(var E=0;E<d;E++){var P=E/d;M.push([Math.round(n(c[0],b[0],P)),Math.round(n(c[1],b[1],P)),Math.round(n(c[2],b[2],P)),n(c[3],b[3],P)])}}return M.push(g[g.length-1].rgb.concat(T[1])),y==="hex"?M=M.map(l):y==="rgbaString"?M=M.map(o):y==="float"&&(M=M.map(i)),M}},9398:function(f,s,t){f.exports=function(h,c,b,d){var g=a(c,b,d);if(g===0){var m=n(a(h,c,b)),y=n(a(h,c,d));if(m===y){if(m===0){var x=u(h,c,b);return x===u(h,c,d)?0:x?1:-1}return 0}return y===0?m>0||u(h,c,d)?-1:1:m===0?y>0||u(h,c,b)?1:-1:n(y-m)}var T=a(h,c,b);return T>0?g>0&&a(h,c,d)>0?1:-1:T<0?g>0||a(h,c,d)>0?1:-1:a(h,c,d)>0||u(h,c,b)?1:-1};var a=t(417),n=t(7538),i=t(87),l=t(2019),o=t(9662);function u(h,c,b){var d=i(h[0],-c[0]),g=i(h[1],-c[1]),m=i(b[0],-c[0]),y=i(b[1],-c[1]),x=o(l(d,m),l(g,y));return x[x.length-1]>=0}},7538:function(f){f.exports=function(s){return s<0?-1:s>0?1:0}},9209:function(f){f.exports=function(a,n){var i=a.length,l=a.length-n.length;if(l)return l;switch(i){case 0:return 0;case 1:return a[0]-n[0];case 2:return a[0]+a[1]-n[0]-n[1]||s(a[0],a[1])-s(n[0],n[1]);case 3:var o=a[0]+a[1],u=n[0]+n[1];if(l=o+a[2]-(u+n[2]))return l;var h=s(a[0],a[1]),c=s(n[0],n[1]);return s(h,a[2])-s(c,n[2])||s(h+a[2],o)-s(c+n[2],u);case 4:var b=a[0],d=a[1],g=a[2],m=a[3],y=n[0],x=n[1],T=n[2],p=n[3];return b+d+g+m-(y+x+T+p)||s(b,d,g,m)-s(y,x,T,p,y)||s(b+d,b+g,b+m,d+g,d+m,g+m)-s(y+x,y+T,y+p,x+T,x+p,T+p)||s(b+d+g,b+d+m,b+g+m,d+g+m)-s(y+x+T,y+x+p,y+T+p,x+T+p);default:for(var S=a.slice().sort(t),M=n.slice().sort(t),E=0;E<i;++E)if(l=S[E]-M[E])return l;return 0}};var s=Math.min;function t(a,n){return a-n}},1284:function(f,s,t){var a=t(9209),n=t(9887);f.exports=function(i,l){return a(i,l)||n(i)-n(l)}},5537:function(f,s,t){var a=t(8950),n=t(8722),i=t(3332);f.exports=function(l){var o=l.length;if(o===0)return[];if(o===1)return[[0]];var u=l[0].length;return u===0?[]:u===1?a(l):u===2?n(l):i(l,u)}},8950:function(f){f.exports=function(s){for(var t=0,a=0,n=1;n<s.length;++n)s[n][0]<s[t][0]&&(t=n),s[n][0]>s[a][0]&&(a=n);return t<a?[[t],[a]]:t>a?[[a],[t]]:[[t]]}},8722:function(f,s,t){f.exports=function(n){var i=a(n),l=i.length;if(l<=2)return[];for(var o=new Array(l),u=i[l-1],h=0;h<l;++h){var c=i[h];o[h]=[u,c],u=c}return o};var a=t(3266)},3332:function(f,s,t){f.exports=function(i,l){try{return a(i,!0)}catch{var o=n(i);if(o.length<=l)return[];var u=function(c,b){for(var d=c.length,g=new Array(d),m=0;m<b.length;++m)g[m]=c[b[m]];var y=b.length;for(m=0;m<d;++m)b.indexOf(m)<0&&(g[y++]=c[m]);return g}(i,o);return function(c,b){for(var d=c.length,g=b.length,m=0;m<d;++m)for(var y=c[m],x=0;x<y.length;++x){var T=y[x];if(T<g)y[x]=b[T];else{T-=g;for(var p=0;p<g;++p)T>=b[p]&&(T+=1);y[x]=T}}return c}(a(u,!0),o)}};var a=t(2183),n=t(2153)},9680:function(f){f.exports=function(s,t,a,n,i,l){var o=i-1,u=i*i,h=o*o,c=(1+2*i)*h,b=i*h,d=u*(3-2*i),g=u*o;if(s.length){l||(l=new Array(s.length));for(var m=s.length-1;m>=0;--m)l[m]=c*s[m]+b*t[m]+d*a[m]+g*n[m];return l}return c*s+b*t+d*a+g*n},f.exports.derivative=function(s,t,a,n,i,l){var o=6*i*i-6*i,u=3*i*i-4*i+1,h=-6*i*i+6*i,c=3*i*i-2*i;if(s.length){l||(l=new Array(s.length));for(var b=s.length-1;b>=0;--b)l[b]=o*s[b]+u*t[b]+h*a[b]+c*n[b];return l}return o*s+u*t+h*a[b]+c*n}},4419:function(f,s,t){var a=t(2183),n=t(1215);function i(o,u){this.point=o,this.index=u}function l(o,u){for(var h=o.point,c=u.point,b=h.length,d=0;d<b;++d){var g=c[d]-h[d];if(g)return g}return 0}f.exports=function(o,u){var h=o.length;if(h===0)return[];var c=o[0].length;if(c<1)return[];if(c===1)return function(R,U,z){if(R===1)return z?[[-1,0]]:[];var j=U.map(function(te,Q){return[te[0],Q]});j.sort(function(te,Q){return te[0]-Q[0]});for(var W=new Array(R-1),F=1;F<R;++F){var V=j[F-1],H=j[F];W[F-1]=[V[1],H[1]]}return z&&W.push([-1,W[0][1]],[W[R-1][1],-1]),W}(h,o,u);for(var b=new Array(h),d=1,g=0;g<h;++g){for(var m=o[g],y=new Array(c+1),x=0,T=0;T<c;++T){var p=m[T];y[T]=p,x+=p*p}y[c]=x,b[g]=new i(y,g),d=Math.max(x,d)}n(b,l),h=b.length;var S=new Array(h+c+1),M=new Array(h+c+1),E=(c+1)*(c+1)*d,P=new Array(c+1);for(g=0;g<=c;++g)P[g]=0;for(P[c]=E,S[0]=P.slice(),M[0]=-1,g=0;g<=c;++g)(y=P.slice())[g]=1,S[g+1]=y,M[g+1]=-1;for(g=0;g<h;++g){var O=b[g];S[g+c+1]=O.point,M[g+c+1]=O.index}var I=a(S,!1);if(I=u?I.filter(function(R){for(var U=0,z=0;z<=c;++z){var j=M[R[z]];if(j<0&&++U>=2)return!1;R[z]=j}return!0}):I.filter(function(R){for(var U=0;U<=c;++U){var z=M[R[U]];if(z<0)return!1;R[U]=z}return!0}),1&c)for(g=0;g<I.length;++g)y=(O=I[g])[0],O[0]=O[1],O[1]=y;return I}},8362:function(f){var s=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),a=new Uint32Array(t.buffer);t[0]=1,s=!0,a[1]===1072693248?(f.exports=function(i){return t[0]=i,[a[0],a[1]]},f.exports.pack=function(i,l){return a[0]=i,a[1]=l,t[0]},f.exports.lo=function(i){return t[0]=i,a[0]},f.exports.hi=function(i){return t[0]=i,a[1]}):a[0]===1072693248?(f.exports=function(i){return t[0]=i,[a[1],a[0]]},f.exports.pack=function(i,l){return a[1]=i,a[0]=l,t[0]},f.exports.lo=function(i){return t[0]=i,a[1]},f.exports.hi=function(i){return t[0]=i,a[0]}):s=!1}if(!s){var n=new Buffer(8);f.exports=function(i){return n.writeDoubleLE(i,0,!0),[n.readUInt32LE(0,!0),n.readUInt32LE(4,!0)]},f.exports.pack=function(i,l){return n.writeUInt32LE(i,0,!0),n.writeUInt32LE(l,4,!0),n.readDoubleLE(0,!0)},f.exports.lo=function(i){return n.writeDoubleLE(i,0,!0),n.readUInt32LE(0,!0)},f.exports.hi=function(i){return n.writeDoubleLE(i,0,!0),n.readUInt32LE(4,!0)}}f.exports.sign=function(i){return f.exports.hi(i)>>>31},f.exports.exponent=function(i){return(f.exports.hi(i)<<1>>>21)-1023},f.exports.fraction=function(i){var l=f.exports.lo(i),o=f.exports.hi(i),u=1048575&o;return 2146435072&o&&(u+=1048576),[l,u]},f.exports.denormalized=function(i){return!(2146435072&f.exports.hi(i))}},3094:function(f){function s(t,a,n){var i=0|t[n];if(i<=0)return[];var l,o=new Array(i);if(n===t.length-1)for(l=0;l<i;++l)o[l]=a;else for(l=0;l<i;++l)o[l]=s(t,a,n+1);return o}f.exports=function(t,a){switch(a===void 0&&(a=0),typeof t){case"number":if(t>0)return function(n,i){var l,o;for(l=new Array(n),o=0;o<n;++o)l[o]=i;return l}(0|t,a);break;case"object":if(typeof t.length=="number")return s(t,a,0)}return[]}},8348:function(f,s,t){f.exports=function(n,i){var l=n.length;if(typeof i!="number"){i=0;for(var o=0;o<l;++o){var u=n[o];i=Math.max(i,u[0],u[1])}i=1+(0|i)}i|=0;var h=new Array(i);for(o=0;o<i;++o)h[o]=[];for(o=0;o<l;++o)h[(u=n[o])[0]].push(u[1]),h[u[1]].push(u[0]);for(var c=0;c<i;++c)a(h[c],function(b,d){return b-d});return h};var a=t(1215)},5795:function(f){f.exports=function(s,t,a){var n=t||0,i=a||1;return[[s[12]+s[0],s[13]+s[1],s[14]+s[2],s[15]+s[3]],[s[12]-s[0],s[13]-s[1],s[14]-s[2],s[15]-s[3]],[s[12]+s[4],s[13]+s[5],s[14]+s[6],s[15]+s[7]],[s[12]-s[4],s[13]-s[5],s[14]-s[6],s[15]-s[7]],[n*s[12]+s[8],n*s[13]+s[9],n*s[14]+s[10],n*s[15]+s[11]],[i*s[12]-s[8],i*s[13]-s[9],i*s[14]-s[10],i*s[15]-s[11]]]}},8444:function(f,s,t){f.exports=function(h,c,b){switch(arguments.length){case 0:return new l([0],[0],0);case 1:return typeof h=="number"?new l(d=u(h),d,0):new l(h,u(h.length),0);case 2:var d;if(typeof c=="number")return new l(h,d=u(h.length),+c);b=0;case 3:if(h.length!==c.length)throw new Error("state and velocity lengths must match");return new l(h,c,b)}};var a=t(9680),n=t(5070);function i(h,c,b){return Math.min(c,Math.max(h,b))}function l(h,c,b){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var d=0;d<this.dimension;++d)this.bounds[0][d]=-1/0,this.bounds[1][d]=1/0;this._state=h.slice().reverse(),this._velocity=c.slice().reverse(),this._time=[b],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var o=l.prototype;function u(h){for(var c=new Array(h),b=0;b<h;++b)c[b]=0;return c}o.flush=function(h){var c=n.gt(this._time,h)-1;c<=0||(this._time.splice(0,c),this._state.splice(0,c*this.dimension),this._velocity.splice(0,c*this.dimension))},o.curve=function(h){var c=this._time,b=c.length,d=n.le(c,h),g=this._scratch[0],m=this._state,y=this._velocity,x=this.dimension,T=this.bounds;if(d<0)for(var p=x-1,S=0;S<x;++S,--p)g[S]=m[p];else if(d>=b-1){p=m.length-1;var M=h-c[b-1];for(S=0;S<x;++S,--p)g[S]=m[p]+M*y[p]}else{p=x*(d+1)-1;var E=c[d],P=c[d+1]-E||1,O=this._scratch[1],I=this._scratch[2],R=this._scratch[3],U=this._scratch[4],z=!0;for(S=0;S<x;++S,--p)O[S]=m[p],R[S]=y[p]*P,I[S]=m[p+x],U[S]=y[p+x]*P,z=z&&O[S]===I[S]&&R[S]===U[S]&&R[S]===0;if(z)for(S=0;S<x;++S)g[S]=O[S];else a(O,R,I,U,(h-E)/P,g)}var j=T[0],W=T[1];for(S=0;S<x;++S)g[S]=i(j[S],W[S],g[S]);return g},o.dcurve=function(h){var c=this._time,b=c.length,d=n.le(c,h),g=this._scratch[0],m=this._state,y=this._velocity,x=this.dimension;if(d>=b-1)for(var T=m.length-1,p=(c[b-1],0);p<x;++p,--T)g[p]=y[T];else{T=x*(d+1)-1;var S=c[d],M=c[d+1]-S||1,E=this._scratch[1],P=this._scratch[2],O=this._scratch[3],I=this._scratch[4],R=!0;for(p=0;p<x;++p,--T)E[p]=m[T],O[p]=y[T]*M,P[p]=m[T+x],I[p]=y[T+x]*M,R=R&&E[p]===P[p]&&O[p]===I[p]&&O[p]===0;if(R)for(p=0;p<x;++p)g[p]=0;else for(a.derivative(E,O,P,I,(h-S)/M,g),p=0;p<x;++p)g[p]/=M}return g},o.lastT=function(){var h=this._time;return h[h.length-1]},o.stable=function(){for(var h=this._velocity,c=h.length,b=this.dimension-1;b>=0;--b)if(h[--c])return!1;return!0},o.jump=function(h){var c=this.lastT(),b=this.dimension;if(!(h<c||arguments.length!==b+1)){var d=this._state,g=this._velocity,m=d.length-this.dimension,y=this.bounds,x=y[0],T=y[1];this._time.push(c,h);for(var p=0;p<2;++p)for(var S=0;S<b;++S)d.push(d[m++]),g.push(0);for(this._time.push(h),S=b;S>0;--S)d.push(i(x[S-1],T[S-1],arguments[S])),g.push(0)}},o.push=function(h){var c=this.lastT(),b=this.dimension;if(!(h<c||arguments.length!==b+1)){var d=this._state,g=this._velocity,m=d.length-this.dimension,y=h-c,x=this.bounds,T=x[0],p=x[1],S=y>1e-6?1/y:0;this._time.push(h);for(var M=b;M>0;--M){var E=i(T[M-1],p[M-1],arguments[M]);d.push(E),g.push((E-d[m++])*S)}}},o.set=function(h){var c=this.dimension;if(!(h<this.lastT()||arguments.length!==c+1)){var b=this._state,d=this._velocity,g=this.bounds,m=g[0],y=g[1];this._time.push(h);for(var x=c;x>0;--x)b.push(i(m[x-1],y[x-1],arguments[x])),d.push(0)}},o.move=function(h){var c=this.lastT(),b=this.dimension;if(!(h<=c||arguments.length!==b+1)){var d=this._state,g=this._velocity,m=d.length-this.dimension,y=this.bounds,x=y[0],T=y[1],p=h-c,S=p>1e-6?1/p:0;this._time.push(h);for(var M=b;M>0;--M){var E=arguments[M];d.push(i(x[M-1],T[M-1],d[m++]+E)),g.push(E*S)}}},o.idle=function(h){var c=this.lastT();if(!(h<c)){var b=this.dimension,d=this._state,g=this._velocity,m=d.length-b,y=this.bounds,x=y[0],T=y[1],p=h-c;this._time.push(h);for(var S=b-1;S>=0;--S)d.push(i(x[S],T[S],d[m]+p*g[m])),g.push(0),m+=1}}},7080:function(f){function s(m,y,x,T,p,S){this._color=m,this.key=y,this.value=x,this.left=T,this.right=p,this._count=S}function t(m){return new s(m._color,m.key,m.value,m.left,m.right,m._count)}function a(m,y){return new s(m,y.key,y.value,y.left,y.right,y._count)}function n(m){m._count=1+(m.left?m.left._count:0)+(m.right?m.right._count:0)}function i(m,y){this._compare=m,this.root=y}f.exports=function(m){return new i(m||g,null)};var l=i.prototype;function o(m,y){var x;return y.left&&(x=o(m,y.left))?x:(x=m(y.key,y.value))||(y.right?o(m,y.right):void 0)}function u(m,y,x,T){if(y(m,T.key)<=0){var p;if(T.left&&(p=u(m,y,x,T.left))||(p=x(T.key,T.value)))return p}if(T.right)return u(m,y,x,T.right)}function h(m,y,x,T,p){var S,M=x(m,p.key),E=x(y,p.key);if(M<=0&&(p.left&&(S=h(m,y,x,T,p.left))||E>0&&(S=T(p.key,p.value))))return S;if(E>0&&p.right)return h(m,y,x,T,p.right)}function c(m,y){this.tree=m,this._stack=y}Object.defineProperty(l,"keys",{get:function(){var m=[];return this.forEach(function(y,x){m.push(y)}),m}}),Object.defineProperty(l,"values",{get:function(){var m=[];return this.forEach(function(y,x){m.push(x)}),m}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(m,y){for(var x=this._compare,T=this.root,p=[],S=[];T;){var M=x(m,T.key);p.push(T),S.push(M),T=M<=0?T.left:T.right}p.push(new s(0,m,y,null,null,1));for(var E=p.length-2;E>=0;--E)T=p[E],S[E]<=0?p[E]=new s(T._color,T.key,T.value,p[E+1],T.right,T._count+1):p[E]=new s(T._color,T.key,T.value,T.left,p[E+1],T._count+1);for(E=p.length-1;E>1;--E){var P=p[E-1];if(T=p[E],P._color===1||T._color===1)break;var O=p[E-2];if(O.left===P)if(P.left===T){if(!(I=O.right)||I._color!==0){O._color=0,O.left=P.right,P._color=1,P.right=O,p[E-2]=P,p[E-1]=T,n(O),n(P),E>=3&&((R=p[E-3]).left===O?R.left=P:R.right=P);break}P._color=1,O.right=a(1,I),O._color=0,E-=1}else{if(!(I=O.right)||I._color!==0){P.right=T.left,O._color=0,O.left=T.right,T._color=1,T.left=P,T.right=O,p[E-2]=T,p[E-1]=P,n(O),n(P),n(T),E>=3&&((R=p[E-3]).left===O?R.left=T:R.right=T);break}P._color=1,O.right=a(1,I),O._color=0,E-=1}else if(P.right===T){if(!(I=O.left)||I._color!==0){O._color=0,O.right=P.left,P._color=1,P.left=O,p[E-2]=P,p[E-1]=T,n(O),n(P),E>=3&&((R=p[E-3]).right===O?R.right=P:R.left=P);break}P._color=1,O.left=a(1,I),O._color=0,E-=1}else{var I;if(!(I=O.left)||I._color!==0){var R;P.left=T.right,O._color=0,O.right=T.left,T._color=1,T.right=P,T.left=O,p[E-2]=T,p[E-1]=P,n(O),n(P),n(T),E>=3&&((R=p[E-3]).right===O?R.right=T:R.left=T);break}P._color=1,O.left=a(1,I),O._color=0,E-=1}}return p[0]._color=1,new i(x,p[0])},l.forEach=function(m,y,x){if(this.root)switch(arguments.length){case 1:return o(m,this.root);case 2:return u(y,this._compare,m,this.root);case 3:return this._compare(y,x)>=0?void 0:h(y,x,this._compare,m,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var m=[],y=this.root;y;)m.push(y),y=y.left;return new c(this,m)}}),Object.defineProperty(l,"end",{get:function(){for(var m=[],y=this.root;y;)m.push(y),y=y.right;return new c(this,m)}}),l.at=function(m){if(m<0)return new c(this,[]);for(var y=this.root,x=[];;){if(x.push(y),y.left){if(m<y.left._count){y=y.left;continue}m-=y.left._count}if(!m)return new c(this,x);if(m-=1,!y.right||m>=y.right._count)break;y=y.right}return new c(this,[])},l.ge=function(m){for(var y=this._compare,x=this.root,T=[],p=0;x;){var S=y(m,x.key);T.push(x),S<=0&&(p=T.length),x=S<=0?x.left:x.right}return T.length=p,new c(this,T)},l.gt=function(m){for(var y=this._compare,x=this.root,T=[],p=0;x;){var S=y(m,x.key);T.push(x),S<0&&(p=T.length),x=S<0?x.left:x.right}return T.length=p,new c(this,T)},l.lt=function(m){for(var y=this._compare,x=this.root,T=[],p=0;x;){var S=y(m,x.key);T.push(x),S>0&&(p=T.length),x=S<=0?x.left:x.right}return T.length=p,new c(this,T)},l.le=function(m){for(var y=this._compare,x=this.root,T=[],p=0;x;){var S=y(m,x.key);T.push(x),S>=0&&(p=T.length),x=S<0?x.left:x.right}return T.length=p,new c(this,T)},l.find=function(m){for(var y=this._compare,x=this.root,T=[];x;){var p=y(m,x.key);if(T.push(x),p===0)return new c(this,T);x=p<=0?x.left:x.right}return new c(this,[])},l.remove=function(m){var y=this.find(m);return y?y.remove():this},l.get=function(m){for(var y=this._compare,x=this.root;x;){var T=y(m,x.key);if(T===0)return x.value;x=T<=0?x.left:x.right}};var b=c.prototype;function d(m,y){m.key=y.key,m.value=y.value,m.left=y.left,m.right=y.right,m._color=y._color,m._count=y._count}function g(m,y){return m<y?-1:m>y?1:0}Object.defineProperty(b,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(b,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),b.clone=function(){return new c(this.tree,this._stack.slice())},b.remove=function(){var m=this._stack;if(m.length===0)return this.tree;var y=new Array(m.length),x=m[m.length-1];y[y.length-1]=new s(x._color,x.key,x.value,x.left,x.right,x._count);for(var T=m.length-2;T>=0;--T)(x=m[T]).left===m[T+1]?y[T]=new s(x._color,x.key,x.value,y[T+1],x.right,x._count):y[T]=new s(x._color,x.key,x.value,x.left,y[T+1],x._count);if((x=y[y.length-1]).left&&x.right){var p=y.length;for(x=x.left;x.right;)y.push(x),x=x.right;var S=y[p-1];for(y.push(new s(x._color,S.key,S.value,x.left,x.right,x._count)),y[p-1].key=x.key,y[p-1].value=x.value,T=y.length-2;T>=p;--T)x=y[T],y[T]=new s(x._color,x.key,x.value,x.left,y[T+1],x._count);y[p-1].left=y[p]}if((x=y[y.length-1])._color===0){var M=y[y.length-2];for(M.left===x?M.left=null:M.right===x&&(M.right=null),y.pop(),T=0;T<y.length;++T)y[T]._count--;return new i(this.tree._compare,y[0])}if(x.left||x.right){for(x.left?d(x,x.left):x.right&&d(x,x.right),x._color=1,T=0;T<y.length-1;++T)y[T]._count--;return new i(this.tree._compare,y[0])}if(y.length===1)return new i(this.tree._compare,null);for(T=0;T<y.length;++T)y[T]._count--;var E=y[y.length-2];return function(P){for(var O,I,R,U,z=P.length-1;z>=0;--z){if(O=P[z],z===0)return void(O._color=1);if((I=P[z-1]).left===O){if((R=I.right).right&&R.right._color===0)return U=(R=I.right=t(R)).right=t(R.right),I.right=R.left,R.left=I,R.right=U,R._color=I._color,O._color=1,I._color=1,U._color=1,n(I),n(R),z>1&&((j=P[z-2]).left===I?j.left=R:j.right=R),void(P[z-1]=R);if(R.left&&R.left._color===0)return U=(R=I.right=t(R)).left=t(R.left),I.right=U.left,R.left=U.right,U.left=I,U.right=R,U._color=I._color,I._color=1,R._color=1,O._color=1,n(I),n(R),n(U),z>1&&((j=P[z-2]).left===I?j.left=U:j.right=U),void(P[z-1]=U);if(R._color===1){if(I._color===0)return I._color=1,void(I.right=a(0,R));I.right=a(0,R);continue}R=t(R),I.right=R.left,R.left=I,R._color=I._color,I._color=0,n(I),n(R),z>1&&((j=P[z-2]).left===I?j.left=R:j.right=R),P[z-1]=R,P[z]=I,z+1<P.length?P[z+1]=O:P.push(O),z+=2}else{if((R=I.left).left&&R.left._color===0)return U=(R=I.left=t(R)).left=t(R.left),I.left=R.right,R.right=I,R.left=U,R._color=I._color,O._color=1,I._color=1,U._color=1,n(I),n(R),z>1&&((j=P[z-2]).right===I?j.right=R:j.left=R),void(P[z-1]=R);if(R.right&&R.right._color===0)return U=(R=I.left=t(R)).right=t(R.right),I.left=U.right,R.right=U.left,U.right=I,U.left=R,U._color=I._color,I._color=1,R._color=1,O._color=1,n(I),n(R),n(U),z>1&&((j=P[z-2]).right===I?j.right=U:j.left=U),void(P[z-1]=U);if(R._color===1){if(I._color===0)return I._color=1,void(I.left=a(0,R));I.left=a(0,R);continue}var j;R=t(R),I.left=R.right,R.right=I,R._color=I._color,I._color=0,n(I),n(R),z>1&&((j=P[z-2]).right===I?j.right=R:j.left=R),P[z-1]=R,P[z]=I,z+1<P.length?P[z+1]=O:P.push(O),z+=2}}}(y),E.left===x?E.left=null:E.right=null,new i(this.tree._compare,y[0])},Object.defineProperty(b,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(b,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(b,"index",{get:function(){var m=0,y=this._stack;if(y.length===0){var x=this.tree.root;return x?x._count:0}y[y.length-1].left&&(m=y[y.length-1].left._count);for(var T=y.length-2;T>=0;--T)y[T+1]===y[T].right&&(++m,y[T].left&&(m+=y[T].left._count));return m},enumerable:!0}),b.next=function(){var m=this._stack;if(m.length!==0){var y=m[m.length-1];if(y.right)for(y=y.right;y;)m.push(y),y=y.left;else for(m.pop();m.length>0&&m[m.length-1].right===y;)y=m[m.length-1],m.pop()}},Object.defineProperty(b,"hasNext",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].right)return!0;for(var y=m.length-1;y>0;--y)if(m[y-1].left===m[y])return!0;return!1}}),b.update=function(m){var y=this._stack;if(y.length===0)throw new Error("Can't update empty node!");var x=new Array(y.length),T=y[y.length-1];x[x.length-1]=new s(T._color,T.key,m,T.left,T.right,T._count);for(var p=y.length-2;p>=0;--p)(T=y[p]).left===y[p+1]?x[p]=new s(T._color,T.key,T.value,x[p+1],T.right,T._count):x[p]=new s(T._color,T.key,T.value,T.left,x[p+1],T._count);return new i(this.tree._compare,x[0])},b.prev=function(){var m=this._stack;if(m.length!==0){var y=m[m.length-1];if(y.left)for(y=y.left;y;)m.push(y),y=y.right;else for(m.pop();m.length>0&&m[m.length-1].left===y;)y=m[m.length-1],m.pop()}},Object.defineProperty(b,"hasPrev",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].left)return!0;for(var y=m.length-1;y>0;--y)if(m[y-1].right===m[y])return!0;return!1}})},7453:function(f,s,t){f.exports=function(M,E){var P=new c(M);return P.update(E),P};var a=t(9557),n=t(1681),i=t(1011),l=t(2864),o=t(8468),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function h(M,E){return M[0]=E[0],M[1]=E[1],M[2]=E[2],M}function c(M){this.gl=M,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=i(M)}var b=c.prototype;function d(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}b.update=function(M){function E(te,Q,K){if(K in M){var X,J=M[K],ee=this[K];(te?Array.isArray(J)&&Array.isArray(J[0]):Array.isArray(J))?this[K]=X=[Q(J[0]),Q(J[1]),Q(J[2])]:this[K]=X=[Q(J),Q(J),Q(J)];for(var ie=0;ie<3;++ie)if(X[ie]!==ee[ie])return!0}return!1}M=M||{};var P,O=E.bind(this,!1,Number),I=E.bind(this,!1,Boolean),R=E.bind(this,!1,String),U=E.bind(this,!0,function(te){if(Array.isArray(te)){if(te.length===3)return[+te[0],+te[1],+te[2],1];if(te.length===4)return[+te[0],+te[1],+te[2],+te[3]]}return[0,0,0,1]}),z=!1,j=!1;if("bounds"in M)for(var W=M.bounds,F=0;F<2;++F)for(var V=0;V<3;++V)W[F][V]!==this.bounds[F][V]&&(j=!0),this.bounds[F][V]=W[F][V];if("ticks"in M)for(P=M.ticks,z=!0,this.autoTicks=!1,F=0;F<3;++F)this.tickSpacing[F]=0;else O("tickSpacing")&&(this.autoTicks=!0,j=!0);if(this._firstInit&&("ticks"in M||"tickSpacing"in M||(this.autoTicks=!0),j=!0,z=!0,this._firstInit=!1),j&&this.autoTicks&&(P=o.create(this.bounds,this.tickSpacing),z=!0),z){for(F=0;F<3;++F)P[F].sort(function(te,Q){return te.x-Q.x});o.equal(P,this.ticks)?z=!1:this.ticks=P}I("tickEnable"),R("tickFont")&&(z=!0),O("tickSize"),O("tickAngle"),O("tickPad"),U("tickColor");var H=R("labels");R("labelFont")&&(H=!0),I("labelEnable"),O("labelSize"),O("labelPad"),U("labelColor"),I("lineEnable"),I("lineMirror"),O("lineWidth"),U("lineColor"),I("lineTickEnable"),I("lineTickMirror"),O("lineTickLength"),O("lineTickWidth"),U("lineTickColor"),I("gridEnable"),O("gridWidth"),U("gridColor"),I("zeroEnable"),U("zeroLineColor"),O("zeroLineWidth"),I("backgroundEnable"),U("backgroundColor"),this._text?this._text&&(H||z)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=a(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&z&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=n(this.gl,this.bounds,this.ticks))};var g=[new d,new d,new d];function m(M,E,P,O,I){for(var R=M.primalOffset,U=M.primalMinor,z=M.mirrorOffset,j=M.mirrorMinor,W=O[E],F=0;F<3;++F)if(E!==F){var V=R,H=z,te=U,Q=j;W&1<<F&&(V=z,H=R,te=j,Q=U),V[F]=P[0][F],H[F]=P[1][F],I[F]>0?(te[F]=-1,Q[F]=0):(te[F]=0,Q[F]=1)}}var y=[0,0,0],x={model:u,view:u,projection:u,_ortho:!1};b.isOpaque=function(){return!0},b.isTransparent=function(){return!1},b.drawTransparent=function(M){};var T=[0,0,0],p=[0,0,0],S=[0,0,0];b.draw=function(M){M=M||x;for(var E=this.gl,P=M.model||u,O=M.view||u,I=M.projection||u,R=this.bounds,U=M._ortho||!1,z=l(P,O,I,R,U),j=z.cubeEdges,W=z.axis,F=O[12],V=O[13],H=O[14],te=O[15],Q=(U?2:1)*this.pixelRatio*(I[3]*F+I[7]*V+I[11]*H+I[15]*te)/E.drawingBufferHeight,K=0;K<3;++K)this.lastCubeProps.cubeEdges[K]=j[K],this.lastCubeProps.axis[K]=W[K];var X=g;for(K=0;K<3;++K)m(g[K],K,this.bounds,j,W);E=this.gl;var J,ee,ie,oe=y;for(K=0;K<3;++K)this.backgroundEnable[K]?oe[K]=W[K]:oe[K]=0;for(this._background.draw(P,O,I,R,oe,this.backgroundColor),this._lines.bind(P,O,I,this),K=0;K<3;++K){var ae=[0,0,0];W[K]>0?ae[K]=R[1][K]:ae[K]=R[0][K];for(var ce=0;ce<2;++ce){var ge=(K+1+ce)%3,ve=(K+1+(1^ce))%3;this.gridEnable[ge]&&this._lines.drawGrid(ge,ve,this.bounds,ae,this.gridColor[ge],this.gridWidth[ge]*this.pixelRatio)}for(ce=0;ce<2;++ce)ge=(K+1+ce)%3,ve=(K+1+(1^ce))%3,this.zeroEnable[ve]&&Math.min(R[0][ve],R[1][ve])<=0&&Math.max(R[0][ve],R[1][ve])>=0&&this._lines.drawZero(ge,ve,this.bounds,ae,this.zeroLineColor[ve],this.zeroLineWidth[ve]*this.pixelRatio)}for(K=0;K<3;++K){this.lineEnable[K]&&this._lines.drawAxisLine(K,this.bounds,X[K].primalOffset,this.lineColor[K],this.lineWidth[K]*this.pixelRatio),this.lineMirror[K]&&this._lines.drawAxisLine(K,this.bounds,X[K].mirrorOffset,this.lineColor[K],this.lineWidth[K]*this.pixelRatio);var be=h(T,X[K].primalMinor),we=h(p,X[K].mirrorMinor),ye=this.lineTickLength;for(ce=0;ce<3;++ce){var me=Q/P[5*ce];be[ce]*=ye[ce]*me,we[ce]*=ye[ce]*me}this.lineTickEnable[K]&&this._lines.drawAxisTicks(K,X[K].primalOffset,be,this.lineTickColor[K],this.lineTickWidth[K]*this.pixelRatio),this.lineTickMirror[K]&&this._lines.drawAxisTicks(K,X[K].mirrorOffset,we,this.lineTickColor[K],this.lineTickWidth[K]*this.pixelRatio)}function Ae(Me){(ie=[0,0,0])[Me]=1}function ke(Me,Le,Oe){var Be=(Me+1)%3,pe=(Me+2)%3,_e=Le[Be],Te=Le[pe],Re=Oe[Be],Ne=Oe[pe];_e>0&&Ne>0||_e>0&&Ne<0||_e<0&&Ne>0||_e<0&&Ne<0?Ae(Be):(Te>0&&Re>0||Te>0&&Re<0||Te<0&&Re>0||Te<0&&Re<0)&&Ae(pe)}for(this._lines.unbind(),this._text.bind(P,O,I,this.pixelRatio),K=0;K<3;++K){var fe=X[K].primalMinor,le=X[K].mirrorMinor,de=h(S,X[K].primalOffset);for(ce=0;ce<3;++ce)this.lineTickEnable[K]&&(de[ce]+=Q*fe[ce]*Math.max(this.lineTickLength[ce],0)/P[5*ce]);var Ce=[0,0,0];if(Ce[K]=1,this.tickEnable[K]){for(this.tickAngle[K]===-3600?(this.tickAngle[K]=0,this.tickAlign[K]="auto"):this.tickAlign[K]=-1,ee=1,(J=[this.tickAlign[K],.5,ee])[0]==="auto"?J[0]=0:J[0]=parseInt(""+J[0]),ie=[0,0,0],ke(K,fe,le),ce=0;ce<3;++ce)de[ce]+=Q*fe[ce]*this.tickPad[ce]/P[5*ce];this._text.drawTicks(K,this.tickSize[K],this.tickAngle[K],de,this.tickColor[K],Ce,ie,J)}if(this.labelEnable[K]){for(ee=0,ie=[0,0,0],this.labels[K].length>4&&(Ae(K),ee=1),(J=[this.labelAlign[K],.5,ee])[0]==="auto"?J[0]=0:J[0]=parseInt(""+J[0]),ce=0;ce<3;++ce)de[ce]+=Q*fe[ce]*this.labelPad[ce]/P[5*ce];de[K]+=.5*(R[0][K]+R[1][K]),this._text.drawLabel(K,this.labelSize[K],this.labelAngle[K],de,this.labelColor[K],[0,0,0],ie,J)}}this._text.unbind()},b.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},1011:function(f,s,t){f.exports=function(u){for(var h=[],c=[],b=0,d=0;d<3;++d)for(var g=(d+1)%3,m=(d+2)%3,y=[0,0,0],x=[0,0,0],T=-1;T<=1;T+=2){c.push(b,b+2,b+1,b+1,b+2,b+3),y[d]=T,x[d]=T;for(var p=-1;p<=1;p+=2){y[g]=p;for(var S=-1;S<=1;S+=2)y[m]=S,h.push(y[0],y[1],y[2],x[0],x[1],x[2]),b+=1}var M=g;g=m,m=M}var E=a(u,new Float32Array(h)),P=a(u,new Uint16Array(c),u.ELEMENT_ARRAY_BUFFER),O=n(u,[{buffer:E,type:u.FLOAT,size:3,offset:0,stride:24},{buffer:E,type:u.FLOAT,size:3,offset:12,stride:24}],P),I=i(u);return I.attributes.position.location=0,I.attributes.normal.location=1,new l(u,E,O,I)};var a=t(5827),n=t(2944),i=t(1943).bg;function l(u,h,c,b){this.gl=u,this.buffer=h,this.vao=c,this.shader=b}var o=l.prototype;o.draw=function(u,h,c,b,d,g){for(var m=!1,y=0;y<3;++y)m=m||d[y];if(m){var x=this.gl;x.enable(x.POLYGON_OFFSET_FILL),x.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:u,view:h,projection:c,bounds:b,enable:d,colors:g},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),x.disable(x.POLYGON_OFFSET_FILL)}},o.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},2864:function(f,s,t){f.exports=function(p,S,M,E,P){n(o,S,p),n(o,M,o);for(var O=0,I=0;I<2;++I){c[2]=E[I][2];for(var R=0;R<2;++R){c[1]=E[R][1];for(var U=0;U<2;++U)c[0]=E[U][0],d(u[O],c,o),O+=1}}var z=-1;for(I=0;I<8;++I){for(var j=u[I][3],W=0;W<3;++W)h[I][W]=u[I][W]/j;P&&(h[I][2]*=-1),j<0&&(z<0||h[I][2]<h[z][2])&&(z=I)}if(z<0){z=0;for(var F=0;F<3;++F){for(var V=(F+2)%3,H=(F+1)%3,te=-1,Q=-1,K=0;K<2;++K){var X=(ee=K<<F)+(K<<V)+(1-K<<H),J=ee+(1-K<<V)+(K<<H);l(h[ee],h[X],h[J],b)<0||(K?te=1:Q=1)}if(te<0||Q<0)Q>te&&(z|=1<<F);else{for(K=0;K<2;++K){X=(ee=K<<F)+(K<<V)+(1-K<<H),J=ee+(1-K<<V)+(K<<H);var ee,ie=m([u[ee],u[X],u[J],u[ee+(1<<V)+(1<<H)]]);K?te=ie:Q=ie}Q>te&&(z|=1<<F)}}}var oe=7^z,ae=-1;for(I=0;I<8;++I)I!==z&&I!==oe&&(ae<0||h[ae][1]>h[I][1])&&(ae=I);var ce=-1;for(I=0;I<3;++I)(ve=ae^1<<I)!==z&&ve!==oe&&(ce<0&&(ce=ve),(H=h[ve])[0]<h[ce][0]&&(ce=ve));var ge=-1;for(I=0;I<3;++I){var ve;(ve=ae^1<<I)!==z&&ve!==oe&&ve!==ce&&(ge<0&&(ge=ve),(H=h[ve])[0]>h[ge][0]&&(ge=ve))}var be=y;be[0]=be[1]=be[2]=0,be[a.log2(ce^ae)]=ae&ce,be[a.log2(ae^ge)]=ae&ge;var we=7^ge;we===z||we===oe?(we=7^ce,be[a.log2(ge^we)]=we&ge):be[a.log2(ce^we)]=we&ce;var ye=x,me=z;for(F=0;F<3;++F)ye[F]=me&1<<F?-1:1;return T};var a=t(2288),n=t(104),i=t(4670),l=t(417),o=new Array(16),u=new Array(8),h=new Array(8),c=new Array(3),b=[0,0,0];function d(p,S,M){for(var E=0;E<4;++E){p[E]=M[12+E];for(var P=0;P<3;++P)p[E]+=S[P]*M[4*P+E]}}(function(){for(var p=0;p<8;++p)u[p]=[1,1,1,1],h[p]=[1,1,1]})();var g=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function m(p){for(var S=0;S<g.length;++S)if((p=i.positive(p,g[S])).length<3)return 0;var M=p[0],E=M[0]/M[3],P=M[1]/M[3],O=0;for(S=1;S+1<p.length;++S){var I=p[S],R=p[S+1],U=I[0]/I[3]-E,z=I[1]/I[3]-P,j=R[0]/R[3]-E,W=R[1]/R[3]-P;O+=Math.abs(U*W-z*j)}return O}var y=[1,1,1],x=[0,0,0],T={cubeEdges:y,axis:x}},1681:function(f,s,t){f.exports=function(y,x,T){var p=[],S=[0,0,0],M=[0,0,0],E=[0,0,0],P=[0,0,0];p.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var O=0;O<3;++O){for(var I=p.length/3|0,R=0;R<T[O].length;++R){var U=+T[O][R].x;p.push(U,0,1,U,1,1,U,0,-1,U,0,-1,U,1,1,U,1,-1)}var z=p.length/3|0;S[O]=I,M[O]=z-I,I=p.length/3|0;for(var j=0;j<T[O].length;++j)U=+T[O][j].x,p.push(U,0,1,U,1,1,U,0,-1,U,0,-1,U,1,1,U,1,-1);z=p.length/3|0,E[O]=I,P[O]=z-I}var W=a(y,new Float32Array(p)),F=n(y,[{buffer:W,type:y.FLOAT,size:3,stride:0,offset:0}]),V=i(y);return V.attributes.position.location=0,new g(y,W,F,V,M,S,P,E)};var a=t(5827),n=t(2944),i=t(1943).j,l=[0,0,0],o=[0,0,0],u=[0,0,0],h=[0,0,0],c=[1,1];function b(y){return y[0]=y[1]=y[2]=0,y}function d(y,x){return y[0]=x[0],y[1]=x[1],y[2]=x[2],y}function g(y,x,T,p,S,M,E,P){this.gl=y,this.vertBuffer=x,this.vao=T,this.shader=p,this.tickCount=S,this.tickOffset=M,this.gridCount=E,this.gridOffset=P}var m=g.prototype;m.bind=function(y,x,T){this.shader.bind(),this.shader.uniforms.model=y,this.shader.uniforms.view=x,this.shader.uniforms.projection=T,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},m.unbind=function(){this.vao.unbind()},m.drawAxisLine=function(y,x,T,p,S){var M=b(o);this.shader.uniforms.majorAxis=o,M[y]=x[1][y]-x[0][y],this.shader.uniforms.minorAxis=M;var E,P=d(h,T);P[y]+=x[0][y],this.shader.uniforms.offset=P,this.shader.uniforms.lineWidth=S,this.shader.uniforms.color=p,(E=b(u))[(y+2)%3]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,6),(E=b(u))[(y+1)%3]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,6)},m.drawAxisTicks=function(y,x,T,p,S){if(this.tickCount[y]){var M=b(l);M[y]=1,this.shader.uniforms.majorAxis=M,this.shader.uniforms.offset=x,this.shader.uniforms.minorAxis=T,this.shader.uniforms.color=p,this.shader.uniforms.lineWidth=S;var E=b(u);E[y]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[y],this.tickOffset[y])}},m.drawGrid=function(y,x,T,p,S,M){if(this.gridCount[y]){var E=b(o);E[x]=T[1][x]-T[0][x],this.shader.uniforms.minorAxis=E;var P=d(h,p);P[x]+=T[0][x],this.shader.uniforms.offset=P;var O=b(l);O[y]=1,this.shader.uniforms.majorAxis=O;var I=b(u);I[y]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=M,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,this.gridCount[y],this.gridOffset[y])}},m.drawZero=function(y,x,T,p,S,M){var E=b(o);this.shader.uniforms.majorAxis=E,E[y]=T[1][y]-T[0][y],this.shader.uniforms.minorAxis=E;var P=d(h,p);P[y]+=T[0][y],this.shader.uniforms.offset=P;var O=b(u);O[x]=1,this.shader.uniforms.screenAxis=O,this.shader.uniforms.lineWidth=M,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,6)},m.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1943:function(f,s,t){var a=t(6832),n=t(5158),i=a([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),l=a([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);s.j=function(b){return n(b,i,l,null,[{name:"position",type:"vec3"}])};var o=a([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),u=a([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);s.f=function(b){return n(b,o,u,null,[{name:"position",type:"vec3"}])};var h=a([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),c=a([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);s.bg=function(b){return n(b,h,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(f,s,t){f.exports=function(d,g,m,y,x,T){var p=a(d),S=n(d,[{buffer:p,size:3}]),M=l(d);M.attributes.position.location=0;var E=new h(d,M,p,S);return E.update(g,m,y,x,T),E};var a=t(5827),n=t(2944),i=t(875),l=t(1943).f,o=window||w.global||{},u=o.__TEXT_CACHE||{};function h(d,g,m,y){this.gl=d,this.shader=g,this.buffer=m,this.vao=y,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}o.__TEXT_CACHE={};var c=h.prototype,b=[0,0];c.bind=function(d,g,m,y){this.vao.bind(),this.shader.bind();var x=this.shader.uniforms;x.model=d,x.view=g,x.projection=m,x.pixelScale=y,b[0]=this.gl.drawingBufferWidth,b[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=b},c.unbind=function(){this.vao.unbind()},c.update=function(d,g,m,y,x){var T=[];function p(U,z,j,W,F,V){var H=u[j];H||(H=u[j]={});var te=H[z];te||(te=H[z]=function(ce,ge){try{return i(ce,ge)}catch(ve){return console.warn('error vectorizing text:"'+ce+'" error:',ve),{cells:[],positions:[]}}}(z,{triangles:!0,font:j,textAlign:"center",textBaseline:"middle",lineSpacing:F,styletags:V}));for(var Q=(W||12)/12,K=te.positions,X=te.cells,J=0,ee=X.length;J<ee;++J)for(var ie=X[J],oe=2;oe>=0;--oe){var ae=K[ie[oe]];T.push(Q*ae[0],-Q*ae[1],U)}}for(var S=[0,0,0],M=[0,0,0],E=[0,0,0],P=[0,0,0],O={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},I=0;I<3;++I){E[I]=T.length/3|0,p(.5*(d[0][I]+d[1][I]),g[I],m[I],12,1.25,O),P[I]=(T.length/3|0)-E[I],S[I]=T.length/3|0;for(var R=0;R<y[I].length;++R)y[I][R].text&&p(y[I][R].x,y[I][R].text,y[I][R].font||x,y[I][R].fontSize||12,1.25,O);M[I]=(T.length/3|0)-S[I]}this.buffer.update(T),this.tickOffset=S,this.tickCount=M,this.labelOffset=E,this.labelCount=P},c.drawTicks=function(d,g,m,y,x,T,p,S){this.tickCount[d]&&(this.shader.uniforms.axis=T,this.shader.uniforms.color=x,this.shader.uniforms.angle=m,this.shader.uniforms.scale=g,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=p,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[d],this.tickOffset[d]))},c.drawLabel=function(d,g,m,y,x,T,p,S){this.labelCount[d]&&(this.shader.uniforms.axis=T,this.shader.uniforms.color=x,this.shader.uniforms.angle=m,this.shader.uniforms.scale=g,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=p,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.labelCount[d],this.labelOffset[d]))},c.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},8468:function(f,s){function t(a,n){var i=a+"",l=i.indexOf("."),o=0;l>=0&&(o=i.length-l-1);var u=Math.pow(10,o),h=Math.round(a*n*u),c=h+"";if(c.indexOf("e")>=0)return c;var b=h/u,d=h%u;h<0?(b=0|-Math.ceil(b),d=0|-d):(b=0|Math.floor(b),d|=0);var g=""+b;if(h<0&&(g="-"+g),o){for(var m=""+d;m.length<o;)m="0"+m;return g+"."+m}return g}s.create=function(a,n){for(var i=[],l=0;l<3;++l){for(var o=[],u=(a[0][l],a[1][l],0);u*n[l]<=a[1][l];++u)o.push({x:u*n[l],text:t(n[l],u)});for(u=-1;u*n[l]>=a[0][l];--u)o.push({x:u*n[l],text:t(n[l],u)});i.push(o)}return i},s.equal=function(a,n){for(var i=0;i<3;++i){if(a[i].length!==n[i].length)return!1;for(var l=0;l<a[i].length;++l){var o=a[i][l],u=n[i][l];if(o.x!==u.x||o.text!==u.text||o.font!==u.font||o.fontColor!==u.fontColor||o.fontSize!==u.fontSize||o.dx!==u.dx||o.dy!==u.dy)return!1}}return!0}},2771:function(f,s,t){f.exports=function(T,p,S,M,E){var P=p.model||h,O=p.view||h,I=p.projection||h,R=p._ortho||!1,U=T.bounds,z=(E=E||i(P,O,I,U,R)).axis;l(c,O,P),l(c,I,c);for(var j=y,W=0;W<3;++W)j[W].lo=1/0,j[W].hi=-1/0,j[W].pixelsPerDataUnit=1/0;var F=a(o(c,c));o(c,c);for(var V=0;V<3;++V){var H=(V+1)%3,te=(V+2)%3,Q=x;e:for(W=0;W<2;++W){var K=[];if(z[V]<0!=!!W){Q[V]=U[W][V];for(var X=0;X<2;++X){Q[H]=U[X^W][H];for(var J=0;J<2;++J)Q[te]=U[J^X^W][te],K.push(Q.slice())}var ee=R?5:4;for(X=ee;X===ee;++X){if(K.length===0)continue e;K=n.positive(K,F[X])}for(X=0;X<K.length;++X){te=K[X];var ie=m(x,c,te,S,M);for(J=0;J<3;++J)j[J].lo=Math.min(j[J].lo,te[J]),j[J].hi=Math.max(j[J].hi,te[J]),J!==V&&(j[J].pixelsPerDataUnit=Math.min(j[J].pixelsPerDataUnit,Math.abs(ie[J])))}}}}return j};var a=t(5795),n=t(4670),i=t(2864),l=t(104),o=t(2142),u=t(6342),h=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function b(T,p,S){this.lo=T,this.hi=p,this.pixelsPerDataUnit=S}var d=[0,0,0,1],g=[0,0,0,1];function m(T,p,S,M,E){for(var P=0;P<3;++P){for(var O=d,I=g,R=0;R<3;++R)I[R]=O[R]=S[R];I[3]=O[3]=1,I[P]+=1,u(I,I,p),I[3]<0&&(T[P]=1/0),O[P]-=1,u(O,O,p),O[3]<0&&(T[P]=1/0);var U=(O[0]/O[3]-I[0]/I[3])*M,z=(O[1]/O[3]-I[1]/I[3])*E;T[P]=.25*Math.sqrt(U*U+z*z)}return T}var y=[new b(1/0,-1/0,1/0),new b(1/0,-1/0,1/0),new b(1/0,-1/0,1/0)],x=[0,0,0]},5827:function(f,s,t){var a=t(5306),n=t(7498),i=t(5050),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function o(b,d,g,m,y){this.gl=b,this.type=d,this.handle=g,this.length=m,this.usage=y}var u=o.prototype;function h(b,d,g,m,y,x){var T=y.length*y.BYTES_PER_ELEMENT;if(x<0)return b.bufferData(d,y,m),T;if(T+x>g)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return b.bufferSubData(d,x,y),g}function c(b,d){for(var g=a.malloc(b.length,d),m=b.length,y=0;y<m;++y)g[y]=b[y];return g}u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)},u.update=function(b,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof b=="object"&&b.shape!==void 0){var g=b.dtype;if(l.indexOf(g)<0&&(g="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(g=gl.getExtension("OES_element_index_uint")&&g!=="uint16"?"uint32":"uint16"),g===b.dtype&&function(T,p){for(var S=1,M=p.length-1;M>=0;--M){if(p[M]!==S)return!1;S*=T[M]}return!0}(b.shape,b.stride))b.offset===0&&b.data.length===b.shape[0]?this.length=h(this.gl,this.type,this.length,this.usage,b.data,d):this.length=h(this.gl,this.type,this.length,this.usage,b.data.subarray(b.offset,b.shape[0]),d);else{var m=a.malloc(b.size,g),y=i(m,b.shape);n.assign(y,b),this.length=h(this.gl,this.type,this.length,this.usage,d<0?m:m.subarray(0,b.size),d),a.free(m)}}else if(Array.isArray(b)){var x;x=this.type===this.gl.ELEMENT_ARRAY_BUFFER?c(b,"uint16"):c(b,"float32"),this.length=h(this.gl,this.type,this.length,this.usage,d<0?x:x.subarray(0,b.length),d),a.free(x)}else if(typeof b=="object"&&typeof b.length=="number")this.length=h(this.gl,this.type,this.length,this.usage,b,d);else{if(typeof b!="number"&&b!==void 0)throw new Error("gl-buffer: Invalid data type");if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(b|=0)<=0&&(b=1),this.gl.bufferData(this.type,0|b,this.usage),this.length=b}},f.exports=function(b,d,g,m){if(g=g||b.ARRAY_BUFFER,m=m||b.DYNAMIC_DRAW,g!==b.ARRAY_BUFFER&&g!==b.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(m!==b.DYNAMIC_DRAW&&m!==b.STATIC_DRAW&&m!==b.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var y=b.createBuffer(),x=new o(b,g,y,0,m);return x.update(d),x}},1140:function(f,s,t){var a=t(2858);f.exports=function(i,l){var o=i.positions,u=i.vectors,h={positions:[],vertexIntensity:[],vertexIntensityBounds:i.vertexIntensityBounds,vectors:[],cells:[],coneOffset:i.coneOffset,colormap:i.colormap};if(i.positions.length===0)return l&&(l[0]=[0,0,0],l[1]=[0,0,0]),h;for(var c=0,b=1/0,d=-1/0,g=1/0,m=-1/0,y=1/0,x=-1/0,T=null,p=null,S=[],M=1/0,E=!1,P=0;P<o.length;P++){var O=o[P];b=Math.min(O[0],b),d=Math.max(O[0],d),g=Math.min(O[1],g),m=Math.max(O[1],m),y=Math.min(O[2],y),x=Math.max(O[2],x);var I=u[P];if(a.length(I)>c&&(c=a.length(I)),P){var R=2*a.distance(T,O)/(a.length(p)+a.length(I));R?(M=Math.min(M,R),E=!1):E=!0}E||(T=O,p=I),S.push(I)}var U=[b,g,y],z=[d,m,x];l&&(l[0]=U,l[1]=z),c===0&&(c=1);var j=1/c;isFinite(M)||(M=1),h.vectorScale=M;var W=i.coneSize||.5;i.absoluteConeSize&&(W=i.absoluteConeSize*j),h.coneScale=W,P=0;for(var F=0;P<o.length;P++)for(var V=(O=o[P])[0],H=O[1],te=O[2],Q=S[P],K=a.length(Q)*j,X=0;X<8;X++){h.positions.push([V,H,te,F++]),h.positions.push([V,H,te,F++]),h.positions.push([V,H,te,F++]),h.positions.push([V,H,te,F++]),h.positions.push([V,H,te,F++]),h.positions.push([V,H,te,F++]),h.vectors.push(Q),h.vectors.push(Q),h.vectors.push(Q),h.vectors.push(Q),h.vectors.push(Q),h.vectors.push(Q),h.vertexIntensity.push(K,K,K),h.vertexIntensity.push(K,K,K);var J=h.positions.length;h.cells.push([J-6,J-5,J-4],[J-3,J-2,J-1])}return h};var n=t(7234);f.exports.createMesh=t(5028),f.exports.createConeMesh=function(i,l){return f.exports.createMesh(i,l,{shaders:n,traceType:"cone"})}},5028:function(f,s,t){var a=t(5158),n=t(5827),i=t(2944),l=t(8931),o=t(104),u=t(7437),h=t(5050),c=t(9156),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function d(m,y,x,T,p,S,M,E,P,O,I){this.gl=m,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=y,this.dirty=!0,this.triShader=x,this.pickShader=T,this.trianglePositions=p,this.triangleVectors=S,this.triangleColors=E,this.triangleUVs=P,this.triangleIds=M,this.triangleVAO=O,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=I,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=b,this._view=b,this._projection=b,this._resolution=[1,1]}var g=d.prototype;g.isOpaque=function(){return this.opacity>=1},g.isTransparent=function(){return this.opacity<1},g.pickSlots=1,g.setPickBase=function(m){this.pickId=m},g.update=function(m){m=m||{};var y=this.gl;this.dirty=!0,"lightPosition"in m&&(this.lightPosition=m.lightPosition),"opacity"in m&&(this.opacity=m.opacity),"ambient"in m&&(this.ambientLight=m.ambient),"diffuse"in m&&(this.diffuseLight=m.diffuse),"specular"in m&&(this.specularLight=m.specular),"roughness"in m&&(this.roughness=m.roughness),"fresnel"in m&&(this.fresnel=m.fresnel),m.tubeScale!==void 0&&(this.tubeScale=m.tubeScale),m.vectorScale!==void 0&&(this.vectorScale=m.vectorScale),m.coneScale!==void 0&&(this.coneScale=m.coneScale),m.coneOffset!==void 0&&(this.coneOffset=m.coneOffset),m.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=y.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=y.LINEAR,this.texture.setPixels(function(ie){for(var oe=c({colormap:ie,nshades:256,format:"rgba"}),ae=new Uint8Array(1024),ce=0;ce<256;++ce){for(var ge=oe[ce],ve=0;ve<3;++ve)ae[4*ce+ve]=ge[ve];ae[4*ce+3]=255*ge[3]}return h(ae,[256,256,4],[4,0,1])}(m.colormap)),this.texture.generateMipmap());var x=m.cells,T=m.positions,p=m.vectors;if(T&&x&&p){var S=[],M=[],E=[],P=[],O=[];this.cells=x,this.positions=T,this.vectors=p;var I=m.meshColor||[1,1,1,1],R=m.vertexIntensity,U=1/0,z=-1/0;if(R)if(m.vertexIntensityBounds)U=+m.vertexIntensityBounds[0],z=+m.vertexIntensityBounds[1];else for(var j=0;j<R.length;++j){var W=R[j];U=Math.min(U,W),z=Math.max(z,W)}else for(j=0;j<T.length;++j)W=T[j][2],U=Math.min(U,W),z=Math.max(z,W);for(this.intensity=R||function(ie){for(var oe=ie.length,ae=new Array(oe),ce=0;ce<oe;++ce)ae[ce]=ie[ce][2];return ae}(T),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],j=0;j<T.length;++j)for(var F=T[j],V=0;V<3;++V)!isNaN(F[V])&&isFinite(F[V])&&(this.bounds[0][V]=Math.min(this.bounds[0][V],F[V]),this.bounds[1][V]=Math.max(this.bounds[1][V],F[V]));var H=0;e:for(j=0;j<x.length;++j){var te=x[j];if(te.length===3){for(V=0;V<3;++V){F=T[K=te[V]];for(var Q=0;Q<3;++Q)if(isNaN(F[Q])||!isFinite(F[Q]))continue e}for(V=0;V<3;++V){var K;F=T[K=te[2-V]],S.push(F[0],F[1],F[2],F[3]);var X=p[K];M.push(X[0],X[1],X[2],X[3]||0);var J,ee=I;ee.length===3?E.push(ee[0],ee[1],ee[2],1):E.push(ee[0],ee[1],ee[2],ee[3]),J=R?[(R[K]-U)/(z-U),0]:[(F[2]-U)/(z-U),0],P.push(J[0],J[1]),O.push(j)}H+=1}}this.triangleCount=H,this.trianglePositions.update(S),this.triangleVectors.update(M),this.triangleColors.update(E),this.triangleUVs.update(P),this.triangleIds.update(new Uint32Array(O))}},g.drawTransparent=g.draw=function(m){m=m||{};for(var y=this.gl,x=m.model||b,T=m.view||b,p=m.projection||b,S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],M=0;M<3;++M)S[0][M]=Math.max(S[0][M],this.clipBounds[0][M]),S[1][M]=Math.min(S[1][M],this.clipBounds[1][M]);var E={model:x,view:T,projection:p,inverseModel:b.slice(),clipBounds:S,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};E.inverseModel=u(E.inverseModel,E.model),y.disable(y.CULL_FACE),this.texture.bind(0);var P=new Array(16);for(o(P,E.view,E.model),o(P,E.projection,P),u(P,P),M=0;M<3;++M)E.eyePosition[M]=P[12+M]/P[15];var O=P[15];for(M=0;M<3;++M)O+=this.lightPosition[M]*P[4*M+3];for(M=0;M<3;++M){for(var I=P[12+M],R=0;R<3;++R)I+=P[4*R+M]*this.lightPosition[R];E.lightPosition[M]=I/O}if(this.triangleCount>0){var U=this.triShader;U.bind(),U.uniforms=E,this.triangleVAO.bind(),y.drawArrays(y.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},g.drawPick=function(m){m=m||{};for(var y=this.gl,x=m.model||b,T=m.view||b,p=m.projection||b,S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],M=0;M<3;++M)S[0][M]=Math.max(S[0][M],this.clipBounds[0][M]),S[1][M]=Math.min(S[1][M],this.clipBounds[1][M]);this._model=[].slice.call(x),this._view=[].slice.call(T),this._projection=[].slice.call(p),this._resolution=[y.drawingBufferWidth,y.drawingBufferHeight];var E={model:x,view:T,projection:p,clipBounds:S,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},P=this.pickShader;P.bind(),P.uniforms=E,this.triangleCount>0&&(this.triangleVAO.bind(),y.drawArrays(y.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},g.pick=function(m){if(!m||m.id!==this.pickId)return null;var y=m.value[0]+256*m.value[1]+65536*m.value[2],x=this.cells[y],T=this.positions[x[1]].slice(0,3),p={position:T,dataCoordinate:T,index:Math.floor(x[1]/48)};return this.traceType==="cone"?p.index=Math.floor(x[1]/48):this.traceType==="streamtube"&&(p.intensity=this.intensity[x[1]],p.velocity=this.vectors[x[1]].slice(0,3),p.divergence=this.vectors[x[1]][3],p.index=y),p},g.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},f.exports=function(m,y,x){var T=x.shaders;arguments.length===1&&(m=(y=m).gl);var p=function(z,j){var W=a(z,j.meshShader.vertex,j.meshShader.fragment,null,j.meshShader.attributes);return W.attributes.position.location=0,W.attributes.color.location=2,W.attributes.uv.location=3,W.attributes.vector.location=4,W}(m,T),S=function(z,j){var W=a(z,j.pickShader.vertex,j.pickShader.fragment,null,j.pickShader.attributes);return W.attributes.position.location=0,W.attributes.id.location=1,W.attributes.vector.location=4,W}(m,T),M=l(m,h(new Uint8Array([255,255,255,255]),[1,1,4]));M.generateMipmap(),M.minFilter=m.LINEAR_MIPMAP_LINEAR,M.magFilter=m.LINEAR;var E=n(m),P=n(m),O=n(m),I=n(m),R=n(m),U=new d(m,M,p,S,E,P,R,O,I,i(m,[{buffer:E,type:m.FLOAT,size:4},{buffer:R,type:m.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:O,type:m.FLOAT,size:4},{buffer:I,type:m.FLOAT,size:2},{buffer:P,type:m.FLOAT,size:4}]),x.traceType||"cone");return U.update(y),U}},7234:function(f,s,t){var a=t(6832),n=a([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),i=a([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),l=a([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),o=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);s.meshShader={vertex:n,fragment:i,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},s.pickShader={vertex:l,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(f){f.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(f,s,t){var a=t(1950);f.exports=function(n){return a[n]}},3110:function(f,s,t){f.exports=function(d){var g=d.gl,m=a(g),y=n(g,[{buffer:m,type:g.FLOAT,size:3,offset:0,stride:40},{buffer:m,type:g.FLOAT,size:4,offset:12,stride:40},{buffer:m,type:g.FLOAT,size:3,offset:28,stride:40}]),x=i(g);x.attributes.position.location=0,x.attributes.color.location=1,x.attributes.offset.location=2;var T=new o(g,m,y,x);return T.update(d),T};var a=t(5827),n=t(2944),i=t(7667),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function o(d,g,m,y){this.gl=d,this.shader=y,this.buffer=g,this.vao=m,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=o.prototype;function h(d,g){for(var m=0;m<3;++m)d[0][m]=Math.min(d[0][m],g[m]),d[1][m]=Math.max(d[1][m],g[m])}u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(d){var g=this.gl,m=this.shader.uniforms;this.shader.bind();var y=m.view=d.view||l,x=m.projection=d.projection||l;m.model=d.model||l,m.clipBounds=this.clipBounds,m.opacity=this.opacity;var T=y[12],p=y[13],S=y[14],M=y[15],E=(d._ortho?2:1)*this.pixelRatio*(x[3]*T+x[7]*p+x[11]*S+x[15]*M)/g.drawingBufferHeight;this.vao.bind();for(var P=0;P<3;++P)g.lineWidth(this.lineWidth[P]*this.pixelRatio),m.capSize=this.capSize[P]*E,this.lineCount[P]&&g.drawArrays(g.LINES,this.lineOffset[P],this.lineCount[P]);this.vao.unbind()};var c=function(){for(var d=new Array(3),g=0;g<3;++g){for(var m=[],y=1;y<=2;++y)for(var x=-1;x<=1;x+=2){var T=[0,0,0];T[(y+g)%3]=x,m.push(T)}d[g]=m}return d}();function b(d,g,m,y){for(var x=c[y],T=0;T<x.length;++T){var p=x[T];d.push(g[0],g[1],g[2],m[0],m[1],m[2],m[3],p[0],p[1],p[2])}return x.length}u.update=function(d){"lineWidth"in(d=d||{})&&(this.lineWidth=d.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in d&&(this.capSize=d.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in d&&(this.opacity=+d.opacity,this.opacity<1&&(this.hasAlpha=!0));var g=d.color||[[0,0,0],[0,0,0],[0,0,0]],m=d.position,y=d.error;if(Array.isArray(g[0])||(g=[g,g,g]),m&&y){var x=[],T=m.length,p=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var S=0;S<3;++S){this.lineOffset[S]=p;e:for(var M=0;M<T;++M){for(var E=m[M],P=0;P<3;++P)if(isNaN(E[P])||!isFinite(E[P]))continue e;var O,I=y[M],R=g[S];Array.isArray(R[0])&&(R=g[M]),R.length===3?R=[R[0],R[1],R[2],1]:R.length===4&&(R=[R[0],R[1],R[2],R[3]],!this.hasAlpha&&R[3]<1&&(this.hasAlpha=!0)),isNaN(I[0][S])||isNaN(I[1][S])||(I[0][S]<0&&((O=E.slice())[S]+=I[0][S],x.push(E[0],E[1],E[2],R[0],R[1],R[2],R[3],0,0,0,O[0],O[1],O[2],R[0],R[1],R[2],R[3],0,0,0),h(this.bounds,O),p+=2+b(x,O,R,S)),I[1][S]>0&&((O=E.slice())[S]+=I[1][S],x.push(E[0],E[1],E[2],R[0],R[1],R[2],R[3],0,0,0,O[0],O[1],O[2],R[0],R[1],R[2],R[3],0,0,0),h(this.bounds,O),p+=2+b(x,O,R,S)))}this.lineCount[S]=p-this.lineOffset[S]}this.buffer.update(x)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},7667:function(f,s,t){var a=t(6832),n=t(5158),i=a([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),l=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);f.exports=function(o){return n(o,i,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(f,s,t){var a=t(8931);f.exports=function(T,p,S,M){n||(n=T.FRAMEBUFFER_UNSUPPORTED,i=T.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,l=T.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,o=T.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var E=T.getExtension("WEBGL_draw_buffers");if(!u&&E&&function(j,W){var F=j.getParameter(W.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(F+1);for(var V=0;V<=F;++V){for(var H=new Array(F),te=0;te<V;++te)H[te]=j.COLOR_ATTACHMENT0+te;for(te=V;te<F;++te)H[te]=j.NONE;u[V]=H}}(T,E),Array.isArray(p)&&(M=S,S=0|p[1],p=0|p[0]),typeof p!="number")throw new Error("gl-fbo: Missing shape parameter");var P=T.getParameter(T.MAX_RENDERBUFFER_SIZE);if(p<0||p>P||S<0||S>P)throw new Error("gl-fbo: Parameters are too large for FBO");var O=1;if("color"in(M=M||{})){if((O=Math.max(0|M.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(O>1){if(!E)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(O>T.getParameter(E.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+O+" draw buffers")}}var I=T.UNSIGNED_BYTE,R=T.getExtension("OES_texture_float");if(M.float&&O>0){if(!R)throw new Error("gl-fbo: Context does not support floating point textures");I=T.FLOAT}else M.preferFloat&&O>0&&R&&(I=T.FLOAT);var U=!0;"depth"in M&&(U=!!M.depth);var z=!1;return"stencil"in M&&(z=!!M.stencil),new m(T,p,S,I,O,U,z,E)};var n,i,l,o,u=null;function h(T){return[T.getParameter(T.FRAMEBUFFER_BINDING),T.getParameter(T.RENDERBUFFER_BINDING),T.getParameter(T.TEXTURE_BINDING_2D)]}function c(T,p){T.bindFramebuffer(T.FRAMEBUFFER,p[0]),T.bindRenderbuffer(T.RENDERBUFFER,p[1]),T.bindTexture(T.TEXTURE_2D,p[2])}function b(T){switch(T){case n:throw new Error("gl-fbo: Framebuffer unsupported");case i:throw new Error("gl-fbo: Framebuffer incomplete attachment");case l:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case o:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function d(T,p,S,M,E,P){if(!M)return null;var O=a(T,p,S,E,M);return O.magFilter=T.NEAREST,O.minFilter=T.NEAREST,O.mipSamples=1,O.bind(),T.framebufferTexture2D(T.FRAMEBUFFER,P,T.TEXTURE_2D,O.handle,0),O}function g(T,p,S,M,E){var P=T.createRenderbuffer();return T.bindRenderbuffer(T.RENDERBUFFER,P),T.renderbufferStorage(T.RENDERBUFFER,M,p,S),T.framebufferRenderbuffer(T.FRAMEBUFFER,E,T.RENDERBUFFER,P),P}function m(T,p,S,M,E,P,O,I){this.gl=T,this._shape=[0|p,0|S],this._destroyed=!1,this._ext=I,this.color=new Array(E);for(var R=0;R<E;++R)this.color[R]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=M,this._useDepth=P,this._useStencil=O;var U=this,z=[0|p,0|S];Object.defineProperties(z,{0:{get:function(){return U._shape[0]},set:function(j){return U.width=j}},1:{get:function(){return U._shape[1]},set:function(j){return U.height=j}}}),this._shapeVector=z,function(j){var W=h(j.gl),F=j.gl,V=j.handle=F.createFramebuffer(),H=j._shape[0],te=j._shape[1],Q=j.color.length,K=j._ext,X=j._useStencil,J=j._useDepth,ee=j._colorType;F.bindFramebuffer(F.FRAMEBUFFER,V);for(var ie=0;ie<Q;++ie)j.color[ie]=d(F,H,te,ee,F.RGBA,F.COLOR_ATTACHMENT0+ie);Q===0?(j._color_rb=g(F,H,te,F.RGBA4,F.COLOR_ATTACHMENT0),K&&K.drawBuffersWEBGL(u[0])):Q>1&&K.drawBuffersWEBGL(u[Q]);var oe=F.getExtension("WEBGL_depth_texture");oe?X?j.depth=d(F,H,te,oe.UNSIGNED_INT_24_8_WEBGL,F.DEPTH_STENCIL,F.DEPTH_STENCIL_ATTACHMENT):J&&(j.depth=d(F,H,te,F.UNSIGNED_SHORT,F.DEPTH_COMPONENT,F.DEPTH_ATTACHMENT)):J&&X?j._depth_rb=g(F,H,te,F.DEPTH_STENCIL,F.DEPTH_STENCIL_ATTACHMENT):J?j._depth_rb=g(F,H,te,F.DEPTH_COMPONENT16,F.DEPTH_ATTACHMENT):X&&(j._depth_rb=g(F,H,te,F.STENCIL_INDEX,F.STENCIL_ATTACHMENT));var ae=F.checkFramebufferStatus(F.FRAMEBUFFER);if(ae!==F.FRAMEBUFFER_COMPLETE){for(j._destroyed=!0,F.bindFramebuffer(F.FRAMEBUFFER,null),F.deleteFramebuffer(j.handle),j.handle=null,j.depth&&(j.depth.dispose(),j.depth=null),j._depth_rb&&(F.deleteRenderbuffer(j._depth_rb),j._depth_rb=null),ie=0;ie<j.color.length;++ie)j.color[ie].dispose(),j.color[ie]=null;j._color_rb&&(F.deleteRenderbuffer(j._color_rb),j._color_rb=null),c(F,W),b(ae)}c(F,W)}(this)}var y=m.prototype;function x(T,p,S){if(T._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(T._shape[0]!==p||T._shape[1]!==S){var M=T.gl,E=M.getParameter(M.MAX_RENDERBUFFER_SIZE);if(p<0||p>E||S<0||S>E)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");T._shape[0]=p,T._shape[1]=S;for(var P=h(M),O=0;O<T.color.length;++O)T.color[O].shape=T._shape;T._color_rb&&(M.bindRenderbuffer(M.RENDERBUFFER,T._color_rb),M.renderbufferStorage(M.RENDERBUFFER,M.RGBA4,T._shape[0],T._shape[1])),T.depth&&(T.depth.shape=T._shape),T._depth_rb&&(M.bindRenderbuffer(M.RENDERBUFFER,T._depth_rb),T._useDepth&&T._useStencil?M.renderbufferStorage(M.RENDERBUFFER,M.DEPTH_STENCIL,T._shape[0],T._shape[1]):T._useDepth?M.renderbufferStorage(M.RENDERBUFFER,M.DEPTH_COMPONENT16,T._shape[0],T._shape[1]):T._useStencil&&M.renderbufferStorage(M.RENDERBUFFER,M.STENCIL_INDEX,T._shape[0],T._shape[1])),M.bindFramebuffer(M.FRAMEBUFFER,T.handle);var I=M.checkFramebufferStatus(M.FRAMEBUFFER);I!==M.FRAMEBUFFER_COMPLETE&&(T.dispose(),c(M,P),b(I)),c(M,P)}}Object.defineProperties(y,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(T){if(Array.isArray(T)||(T=[0|T,0|T]),T.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var p=0|T[0],S=0|T[1];return x(this,p,S),[p,S]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(T){return x(this,T|=0,this._shape[1]),T},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(T){return T|=0,x(this,this._shape[0],T),T},enumerable:!1}}),y.bind=function(){if(!this._destroyed){var T=this.gl;T.bindFramebuffer(T.FRAMEBUFFER,this.handle),T.viewport(0,0,this._shape[0],this._shape[1])}},y.dispose=function(){if(!this._destroyed){this._destroyed=!0;var T=this.gl;T.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(T.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var p=0;p<this.color.length;++p)this.color[p].dispose(),this.color[p]=null;this._color_rb&&(T.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},3530:function(f,s,t){var a=t(8974).sprintf,n=t(6603),i=t(9365),l=t(8008);f.exports=function(o,u,h){var c=i(u)||"of unknown name (see npm glsl-shader-name)",b="unknown type";h!==void 0&&(b=h===n.FRAGMENT_SHADER?"fragment":"vertex");for(var d=a(`Error compiling %s shader %s:
`,b,c),g=a("%s%s",d,o),m=o.split(`
`),y={},x=0;x<m.length;x++){var T=m[x];if(T!==""&&T!=="\0"){var p=parseInt(T.split(":")[2]);if(isNaN(p))throw new Error(a("Could not parse error: %s",T));y[p]=T}}var S=l(u).split(`
`);for(x=0;x<S.length;x++)if((y[x+3]||y[x+2]||y[x+1])&&(d+=S[x]+`
`,y[x+1])){var M=y[x+1];M=M.substr(M.split(":",3).join(":").length+1).trim(),d+=a(`^^^ %s

`,M)}return{long:d.trim(),short:g.trim()}}},6386:function(f,s,t){f.exports=function(g,m){var y=g.gl,x=new h(g,l(y,u.vertex,u.fragment),l(y,u.pickVertex,u.pickFragment),o(y),o(y),o(y),o(y));return x.update(m),g.addObject(x),x};var a=t(5070),n=t(9560),i=t(5306),l=t(5158),o=t(5827),u=t(1292);function h(g,m,y,x,T,p,S){this.plot=g,this.shader=m,this.pickShader=y,this.positionBuffer=x,this.weightBuffer=T,this.colorBuffer=p,this.idBuffer=S,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c,b=h.prototype,d=[0,0,1,0,0,1,1,0,1,1,0,1];b.draw=(c=[1,0,0,0,1,0,0,0,1],function(){var g=this.plot,m=this.shader,y=this.bounds,x=this.numVertices;if(!(x<=0)){var T=g.gl,p=g.dataBox,S=y[2]-y[0],M=y[3]-y[1],E=p[2]-p[0],P=p[3]-p[1];c[0]=2*S/E,c[4]=2*M/P,c[6]=2*(y[0]-p[0])/E-1,c[7]=2*(y[1]-p[1])/P-1,m.bind();var O=m.uniforms;O.viewTransform=c,O.shape=this.shape;var I=m.attributes;this.positionBuffer.bind(),I.position.pointer(),this.weightBuffer.bind(),I.weight.pointer(T.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),I.color.pointer(T.UNSIGNED_BYTE,!0),T.drawArrays(T.TRIANGLES,0,x)}}),b.drawPick=function(){var g=[1,0,0,0,1,0,0,0,1],m=[0,0,0,0];return function(y){var x=this.plot,T=this.pickShader,p=this.bounds,S=this.numVertices;if(!(S<=0)){var M=x.gl,E=x.dataBox,P=p[2]-p[0],O=p[3]-p[1],I=E[2]-E[0],R=E[3]-E[1];g[0]=2*P/I,g[4]=2*O/R,g[6]=2*(p[0]-E[0])/I-1,g[7]=2*(p[1]-E[1])/R-1;for(var U=0;U<4;++U)m[U]=y>>8*U&255;this.pickOffset=y,T.bind();var z=T.uniforms;z.viewTransform=g,z.pickOffset=m,z.shape=this.shape;var j=T.attributes;return this.positionBuffer.bind(),j.position.pointer(),this.weightBuffer.bind(),j.weight.pointer(M.UNSIGNED_BYTE,!1),this.idBuffer.bind(),j.pickId.pointer(M.UNSIGNED_BYTE,!1),M.drawArrays(M.TRIANGLES,0,S),y+this.shape[0]*this.shape[1]}}}(),b.pick=function(g,m,y){var x=this.pickOffset,T=this.shape[0]*this.shape[1];if(y<x||y>=x+T)return null;var p=y-x,S=this.xData,M=this.yData;return{object:this,pointId:p,dataCoord:[S[p%this.shape[0]],M[p/this.shape[0]|0]]}},b.update=function(g){var m=(g=g||{}).shape||[0,0],y=g.x||n(m[0]),x=g.y||n(m[1]),T=g.z||new Float32Array(m[0]*m[1]),p=g.zsmooth!==!1;this.xData=y,this.yData=x;var S,M,E,P,O=g.colorLevels||[0],I=g.colorValues||[0,0,0,1],R=O.length,U=this.bounds;p?(S=U[0]=y[0],M=U[1]=x[0],E=U[2]=y[y.length-1],P=U[3]=x[x.length-1]):(S=U[0]=y[0]+(y[1]-y[0])/2,M=U[1]=x[0]+(x[1]-x[0])/2,E=U[2]=y[y.length-1]+(y[y.length-1]-y[y.length-2])/2,P=U[3]=x[x.length-1]+(x[x.length-1]-x[x.length-2])/2);var z=1/(E-S),j=1/(P-M),W=m[0],F=m[1];this.shape=[W,F];var V=(p?(W-1)*(F-1):W*F)*(d.length>>>1);this.numVertices=V;for(var H=i.mallocUint8(4*V),te=i.mallocFloat32(2*V),Q=i.mallocUint8(2*V),K=i.mallocUint32(V),X=0,J=p?W-1:W,ee=p?F-1:F,ie=0;ie<ee;++ie){var oe,ae;p?(oe=j*(x[ie]-M),ae=j*(x[ie+1]-M)):(oe=ie<F-1?j*(x[ie]-(x[ie+1]-x[ie])/2-M):j*(x[ie]-(x[ie]-x[ie-1])/2-M),ae=ie<F-1?j*(x[ie]+(x[ie+1]-x[ie])/2-M):j*(x[ie]+(x[ie]-x[ie-1])/2-M));for(var ce=0;ce<J;++ce){var ge,ve;p?(ge=z*(y[ce]-S),ve=z*(y[ce+1]-S)):(ge=ce<W-1?z*(y[ce]-(y[ce+1]-y[ce])/2-S):z*(y[ce]-(y[ce]-y[ce-1])/2-S),ve=ce<W-1?z*(y[ce]+(y[ce+1]-y[ce])/2-S):z*(y[ce]+(y[ce]-y[ce-1])/2-S));for(var be=0;be<d.length;be+=2){var we,ye,me,Ae,ke=d[be],fe=d[be+1],le=T[p?(ie+fe)*W+(ce+ke):ie*W+ce],de=a.le(O,le);if(de<0)we=I[0],ye=I[1],me=I[2],Ae=I[3];else if(de===R-1)we=I[4*R-4],ye=I[4*R-3],me=I[4*R-2],Ae=I[4*R-1];else{var Ce=(le-O[de])/(O[de+1]-O[de]),Me=1-Ce,Le=4*de,Oe=4*(de+1);we=Me*I[Le]+Ce*I[Oe],ye=Me*I[Le+1]+Ce*I[Oe+1],me=Me*I[Le+2]+Ce*I[Oe+2],Ae=Me*I[Le+3]+Ce*I[Oe+3]}H[4*X]=255*we,H[4*X+1]=255*ye,H[4*X+2]=255*me,H[4*X+3]=255*Ae,te[2*X]=.5*ge+.5*ve,te[2*X+1]=.5*oe+.5*ae,Q[2*X]=ke,Q[2*X+1]=fe,K[X]=ie*W+ce,X+=1}}}this.positionBuffer.update(te),this.weightBuffer.update(Q),this.colorBuffer.update(H),this.idBuffer.update(K),i.free(te),i.free(H),i.free(Q),i.free(K)},b.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},1292:function(f,s,t){var a=t(6832);f.exports={fragment:a([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:a([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:a([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:a([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(f,s,t){var a=t(6832),n=t(5158),i=a([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),l=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),o=a([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];s.createShader=function(h){return n(h,i,l,null,u)},s.createPickShader=function(h){return n(h,i,o,null,u)}},6086:function(f,s,t){f.exports=function(S){var M=S.gl||S.scene&&S.scene.gl,E=b(M);E.attributes.position.location=0,E.attributes.nextPosition.location=1,E.attributes.arcLength.location=2,E.attributes.lineWidth.location=3,E.attributes.color.location=4;var P=d(M);P.attributes.position.location=0,P.attributes.nextPosition.location=1,P.attributes.arcLength.location=2,P.attributes.lineWidth.location=3,P.attributes.color.location=4;for(var O=a(M),I=n(M,[{buffer:O,size:3,offset:0,stride:48},{buffer:O,size:3,offset:12,stride:48},{buffer:O,size:1,offset:24,stride:48},{buffer:O,size:1,offset:28,stride:48},{buffer:O,size:4,offset:32,stride:48}]),R=h(new Array(1024),[256,1,4]),U=0;U<1024;++U)R.data[U]=255;var z=i(M,R);z.wrap=M.REPEAT;var j=new T(M,E,P,O,I,z);return j.update(S),j};var a=t(5827),n=t(2944),i=t(8931),l=new Uint8Array(4),o=new Float32Array(l.buffer),u=t(5070),h=t(5050),c=t(248),b=c.createShader,d=c.createPickShader,g=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function m(S,M){for(var E=0,P=0;P<3;++P){var O=S[P]-M[P];E+=O*O}return Math.sqrt(E)}function y(S){for(var M=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],E=0;E<3;++E)M[0][E]=Math.max(S[0][E],M[0][E]),M[1][E]=Math.min(S[1][E],M[1][E]);return M}function x(S,M,E,P){this.arcLength=S,this.position=M,this.index=E,this.dataCoordinate=P}function T(S,M,E,P,O,I){this.gl=S,this.shader=M,this.pickShader=E,this.buffer=P,this.vao=O,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=I,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var p=T.prototype;p.isTransparent=function(){return this.hasAlpha},p.isOpaque=function(){return!this.hasAlpha},p.pickSlots=1,p.setPickBase=function(S){this.pickId=S},p.drawTransparent=p.draw=function(S){if(this.vertexCount){var M=this.gl,E=this.shader,P=this.vao;E.bind(),E.uniforms={model:S.model||g,view:S.view||g,projection:S.projection||g,clipBounds:y(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[M.drawingBufferWidth,M.drawingBufferHeight],pixelRatio:this.pixelRatio},P.bind(),P.draw(M.TRIANGLE_STRIP,this.vertexCount),P.unbind()}},p.drawPick=function(S){if(this.vertexCount){var M=this.gl,E=this.pickShader,P=this.vao;E.bind(),E.uniforms={model:S.model||g,view:S.view||g,projection:S.projection||g,pickId:this.pickId,clipBounds:y(this.clipBounds),screenShape:[M.drawingBufferWidth,M.drawingBufferHeight],pixelRatio:this.pixelRatio},P.bind(),P.draw(M.TRIANGLE_STRIP,this.vertexCount),P.unbind()}},p.update=function(S){var M,E;this.dirty=!0;var P=!!S.connectGaps;"dashScale"in S&&(this.dashScale=S.dashScale),this.hasAlpha=!1,"opacity"in S&&(this.opacity=+S.opacity,this.opacity<1&&(this.hasAlpha=!0));var O=[],I=[],R=[],U=0,z=0,j=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],W=S.position||S.positions;if(W){var F=S.color||S.colors||[0,0,0,1],V=S.lineWidth||1,H=!1;e:for(M=1;M<W.length;++M){var te,Q,K,X=W[M-1],J=W[M];for(I.push(U),R.push(X.slice()),E=0;E<3;++E){if(isNaN(X[E])||isNaN(J[E])||!isFinite(X[E])||!isFinite(J[E])){if(!P&&O.length>0){for(var ee=0;ee<24;++ee)O.push(O[O.length-12]);z+=2,H=!0}continue e}j[0][E]=Math.min(j[0][E],X[E],J[E]),j[1][E]=Math.max(j[1][E],X[E],J[E])}Array.isArray(F[0])?(te=F.length>M-1?F[M-1]:F.length>0?F[F.length-1]:[0,0,0,1],Q=F.length>M?F[M]:F.length>0?F[F.length-1]:[0,0,0,1]):te=Q=F,te.length===3&&(te=[te[0],te[1],te[2],1]),Q.length===3&&(Q=[Q[0],Q[1],Q[2],1]),!this.hasAlpha&&te[3]<1&&(this.hasAlpha=!0),K=Array.isArray(V)?V.length>M-1?V[M-1]:V.length>0?V[V.length-1]:[0,0,0,1]:V;var ie=U;if(U+=m(X,J),H){for(E=0;E<2;++E)O.push(X[0],X[1],X[2],J[0],J[1],J[2],ie,K,te[0],te[1],te[2],te[3]);z+=2,H=!1}O.push(X[0],X[1],X[2],J[0],J[1],J[2],ie,K,te[0],te[1],te[2],te[3],X[0],X[1],X[2],J[0],J[1],J[2],ie,-K,te[0],te[1],te[2],te[3],J[0],J[1],J[2],X[0],X[1],X[2],U,-K,Q[0],Q[1],Q[2],Q[3],J[0],J[1],J[2],X[0],X[1],X[2],U,K,Q[0],Q[1],Q[2],Q[3]),z+=4}}if(this.buffer.update(O),I.push(U),R.push(W[W.length-1].slice()),this.bounds=j,this.vertexCount=z,this.points=R,this.arcLength=I,"dashes"in S){var oe=S.dashes.slice();for(oe.unshift(0),M=1;M<oe.length;++M)oe[M]=oe[M-1]+oe[M];var ae=h(new Array(1024),[256,1,4]);for(M=0;M<256;++M){for(E=0;E<4;++E)ae.set(M,0,E,0);1&u.le(oe,oe[oe.length-1]*M/255)?ae.set(M,0,0,0):ae.set(M,0,0,255)}this.texture.setPixels(ae)}},p.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},p.pick=function(S){if(!S||S.id!==this.pickId)return null;var M=function(W,F,V,H){return l[0]=0,l[1]=V,l[2]=F,l[3]=W,o[0]}(S.value[0],S.value[1],S.value[2]),E=u.le(this.arcLength,M);if(E<0)return null;if(E===this.arcLength.length-1)return new x(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),E);for(var P=this.points[E],O=this.points[Math.min(E+1,this.points.length-1)],I=(M-this.arcLength[E])/(this.arcLength[E+1]-this.arcLength[E]),R=1-I,U=[0,0,0],z=0;z<3;++z)U[z]=R*P[z]+I*O[z];var j=Math.min(I<.5?E:E+1,this.points.length-1);return new x(M,U,j,this.points[j])}},7332:function(f){f.exports=function(s){var t=new Float32Array(16);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t}},9823:function(f){f.exports=function(){var s=new Float32Array(16);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},7787:function(f){f.exports=function(s){var t=s[0],a=s[1],n=s[2],i=s[3],l=s[4],o=s[5],u=s[6],h=s[7],c=s[8],b=s[9],d=s[10],g=s[11],m=s[12],y=s[13],x=s[14],T=s[15];return(t*o-a*l)*(d*T-g*x)-(t*u-n*l)*(b*T-g*y)+(t*h-i*l)*(b*x-d*y)+(a*u-n*o)*(c*T-g*m)-(a*h-i*o)*(c*x-d*m)+(n*h-i*u)*(c*y-b*m)}},5950:function(f){f.exports=function(s,t){var a=t[0],n=t[1],i=t[2],l=t[3],o=a+a,u=n+n,h=i+i,c=a*o,b=n*o,d=n*u,g=i*o,m=i*u,y=i*h,x=l*o,T=l*u,p=l*h;return s[0]=1-d-y,s[1]=b+p,s[2]=g-T,s[3]=0,s[4]=b-p,s[5]=1-c-y,s[6]=m+x,s[7]=0,s[8]=g+T,s[9]=m-x,s[10]=1-c-d,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},7280:function(f){f.exports=function(s,t,a){var n=t[0],i=t[1],l=t[2],o=t[3],u=n+n,h=i+i,c=l+l,b=n*u,d=n*h,g=n*c,m=i*h,y=i*c,x=l*c,T=o*u,p=o*h,S=o*c;return s[0]=1-(m+x),s[1]=d+S,s[2]=g-p,s[3]=0,s[4]=d-S,s[5]=1-(b+x),s[6]=y+T,s[7]=0,s[8]=g+p,s[9]=y-T,s[10]=1-(b+m),s[11]=0,s[12]=a[0],s[13]=a[1],s[14]=a[2],s[15]=1,s}},9947:function(f){f.exports=function(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},7437:function(f){f.exports=function(s,t){var a=t[0],n=t[1],i=t[2],l=t[3],o=t[4],u=t[5],h=t[6],c=t[7],b=t[8],d=t[9],g=t[10],m=t[11],y=t[12],x=t[13],T=t[14],p=t[15],S=a*u-n*o,M=a*h-i*o,E=a*c-l*o,P=n*h-i*u,O=n*c-l*u,I=i*c-l*h,R=b*x-d*y,U=b*T-g*y,z=b*p-m*y,j=d*T-g*x,W=d*p-m*x,F=g*p-m*T,V=S*F-M*W+E*j+P*z-O*U+I*R;return V?(V=1/V,s[0]=(u*F-h*W+c*j)*V,s[1]=(i*W-n*F-l*j)*V,s[2]=(x*I-T*O+p*P)*V,s[3]=(g*O-d*I-m*P)*V,s[4]=(h*z-o*F-c*U)*V,s[5]=(a*F-i*z+l*U)*V,s[6]=(T*E-y*I-p*M)*V,s[7]=(b*I-g*E+m*M)*V,s[8]=(o*W-u*z+c*R)*V,s[9]=(n*z-a*W-l*R)*V,s[10]=(y*O-x*E+p*S)*V,s[11]=(d*E-b*O-m*S)*V,s[12]=(u*U-o*j-h*R)*V,s[13]=(a*j-n*U+i*R)*V,s[14]=(x*M-y*P-T*S)*V,s[15]=(b*P-d*M+g*S)*V,s):null}},3012:function(f,s,t){var a=t(9947);f.exports=function(n,i,l,o){var u,h,c,b,d,g,m,y,x,T,p=i[0],S=i[1],M=i[2],E=o[0],P=o[1],O=o[2],I=l[0],R=l[1],U=l[2];return Math.abs(p-I)<1e-6&&Math.abs(S-R)<1e-6&&Math.abs(M-U)<1e-6?a(n):(m=p-I,y=S-R,x=M-U,u=P*(x*=T=1/Math.sqrt(m*m+y*y+x*x))-O*(y*=T),h=O*(m*=T)-E*x,c=E*y-P*m,(T=Math.sqrt(u*u+h*h+c*c))?(u*=T=1/T,h*=T,c*=T):(u=0,h=0,c=0),b=y*c-x*h,d=x*u-m*c,g=m*h-y*u,(T=Math.sqrt(b*b+d*d+g*g))?(b*=T=1/T,d*=T,g*=T):(b=0,d=0,g=0),n[0]=u,n[1]=b,n[2]=m,n[3]=0,n[4]=h,n[5]=d,n[6]=y,n[7]=0,n[8]=c,n[9]=g,n[10]=x,n[11]=0,n[12]=-(u*p+h*S+c*M),n[13]=-(b*p+d*S+g*M),n[14]=-(m*p+y*S+x*M),n[15]=1,n)}},104:function(f){f.exports=function(s,t,a){var n=t[0],i=t[1],l=t[2],o=t[3],u=t[4],h=t[5],c=t[6],b=t[7],d=t[8],g=t[9],m=t[10],y=t[11],x=t[12],T=t[13],p=t[14],S=t[15],M=a[0],E=a[1],P=a[2],O=a[3];return s[0]=M*n+E*u+P*d+O*x,s[1]=M*i+E*h+P*g+O*T,s[2]=M*l+E*c+P*m+O*p,s[3]=M*o+E*b+P*y+O*S,M=a[4],E=a[5],P=a[6],O=a[7],s[4]=M*n+E*u+P*d+O*x,s[5]=M*i+E*h+P*g+O*T,s[6]=M*l+E*c+P*m+O*p,s[7]=M*o+E*b+P*y+O*S,M=a[8],E=a[9],P=a[10],O=a[11],s[8]=M*n+E*u+P*d+O*x,s[9]=M*i+E*h+P*g+O*T,s[10]=M*l+E*c+P*m+O*p,s[11]=M*o+E*b+P*y+O*S,M=a[12],E=a[13],P=a[14],O=a[15],s[12]=M*n+E*u+P*d+O*x,s[13]=M*i+E*h+P*g+O*T,s[14]=M*l+E*c+P*m+O*p,s[15]=M*o+E*b+P*y+O*S,s}},5268:function(f){f.exports=function(s,t,a,n,i,l,o){var u=1/(t-a),h=1/(n-i),c=1/(l-o);return s[0]=-2*u,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*h,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*c,s[11]=0,s[12]=(t+a)*u,s[13]=(i+n)*h,s[14]=(o+l)*c,s[15]=1,s}},1120:function(f){f.exports=function(s,t,a,n,i){var l=1/Math.tan(t/2),o=1/(n-i);return s[0]=l/a,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=l,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(i+n)*o,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*i*n*o,s[15]=0,s}},4422:function(f){f.exports=function(s,t,a,n){var i,l,o,u,h,c,b,d,g,m,y,x,T,p,S,M,E,P,O,I,R,U,z,j,W=n[0],F=n[1],V=n[2],H=Math.sqrt(W*W+F*F+V*V);return Math.abs(H)<1e-6?null:(W*=H=1/H,F*=H,V*=H,i=Math.sin(a),o=1-(l=Math.cos(a)),u=t[0],h=t[1],c=t[2],b=t[3],d=t[4],g=t[5],m=t[6],y=t[7],x=t[8],T=t[9],p=t[10],S=t[11],M=W*W*o+l,E=F*W*o+V*i,P=V*W*o-F*i,O=W*F*o-V*i,I=F*F*o+l,R=V*F*o+W*i,U=W*V*o+F*i,z=F*V*o-W*i,j=V*V*o+l,s[0]=u*M+d*E+x*P,s[1]=h*M+g*E+T*P,s[2]=c*M+m*E+p*P,s[3]=b*M+y*E+S*P,s[4]=u*O+d*I+x*R,s[5]=h*O+g*I+T*R,s[6]=c*O+m*I+p*R,s[7]=b*O+y*I+S*R,s[8]=u*U+d*z+x*j,s[9]=h*U+g*z+T*j,s[10]=c*U+m*z+p*j,s[11]=b*U+y*z+S*j,t!==s&&(s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s)}},6109:function(f){f.exports=function(s,t,a){var n=Math.sin(a),i=Math.cos(a),l=t[4],o=t[5],u=t[6],h=t[7],c=t[8],b=t[9],d=t[10],g=t[11];return t!==s&&(s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[4]=l*i+c*n,s[5]=o*i+b*n,s[6]=u*i+d*n,s[7]=h*i+g*n,s[8]=c*i-l*n,s[9]=b*i-o*n,s[10]=d*i-u*n,s[11]=g*i-h*n,s}},7115:function(f){f.exports=function(s,t,a){var n=Math.sin(a),i=Math.cos(a),l=t[0],o=t[1],u=t[2],h=t[3],c=t[8],b=t[9],d=t[10],g=t[11];return t!==s&&(s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[0]=l*i-c*n,s[1]=o*i-b*n,s[2]=u*i-d*n,s[3]=h*i-g*n,s[8]=l*n+c*i,s[9]=o*n+b*i,s[10]=u*n+d*i,s[11]=h*n+g*i,s}},5240:function(f){f.exports=function(s,t,a){var n=Math.sin(a),i=Math.cos(a),l=t[0],o=t[1],u=t[2],h=t[3],c=t[4],b=t[5],d=t[6],g=t[7];return t!==s&&(s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[0]=l*i+c*n,s[1]=o*i+b*n,s[2]=u*i+d*n,s[3]=h*i+g*n,s[4]=c*i-l*n,s[5]=b*i-o*n,s[6]=d*i-u*n,s[7]=g*i-h*n,s}},3668:function(f){f.exports=function(s,t,a){var n=a[0],i=a[1],l=a[2];return s[0]=t[0]*n,s[1]=t[1]*n,s[2]=t[2]*n,s[3]=t[3]*n,s[4]=t[4]*i,s[5]=t[5]*i,s[6]=t[6]*i,s[7]=t[7]*i,s[8]=t[8]*l,s[9]=t[9]*l,s[10]=t[10]*l,s[11]=t[11]*l,s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s}},998:function(f){f.exports=function(s,t,a){var n,i,l,o,u,h,c,b,d,g,m,y,x=a[0],T=a[1],p=a[2];return t===s?(s[12]=t[0]*x+t[4]*T+t[8]*p+t[12],s[13]=t[1]*x+t[5]*T+t[9]*p+t[13],s[14]=t[2]*x+t[6]*T+t[10]*p+t[14],s[15]=t[3]*x+t[7]*T+t[11]*p+t[15]):(n=t[0],i=t[1],l=t[2],o=t[3],u=t[4],h=t[5],c=t[6],b=t[7],d=t[8],g=t[9],m=t[10],y=t[11],s[0]=n,s[1]=i,s[2]=l,s[3]=o,s[4]=u,s[5]=h,s[6]=c,s[7]=b,s[8]=d,s[9]=g,s[10]=m,s[11]=y,s[12]=n*x+u*T+d*p+t[12],s[13]=i*x+h*T+g*p+t[13],s[14]=l*x+c*T+m*p+t[14],s[15]=o*x+b*T+y*p+t[15]),s}},2142:function(f){f.exports=function(s,t){if(s===t){var a=t[1],n=t[2],i=t[3],l=t[6],o=t[7],u=t[11];s[1]=t[4],s[2]=t[8],s[3]=t[12],s[4]=a,s[6]=t[9],s[7]=t[13],s[8]=n,s[9]=l,s[11]=t[14],s[12]=i,s[13]=o,s[14]=u}else s[0]=t[0],s[1]=t[4],s[2]=t[8],s[3]=t[12],s[4]=t[1],s[5]=t[5],s[6]=t[9],s[7]=t[13],s[8]=t[2],s[9]=t[6],s[10]=t[10],s[11]=t[14],s[12]=t[3],s[13]=t[7],s[14]=t[11],s[15]=t[15];return s}},4340:function(f,s,t){var a=t(957),n=t(7309);function i(u,h){for(var c=[0,0,0,0],b=0;b<4;++b)for(var d=0;d<4;++d)c[d]+=u[4*b+d]*h[b];return c}function l(u,h,c,b,d){for(var g=i(b,i(c,i(h,[u[0],u[1],u[2],1]))),m=0;m<3;++m)g[m]/=g[3];return[.5*d[0]*(1+g[0]),.5*d[1]*(1-g[1])]}function o(u,h){for(var c=[0,0,0],b=0;b<u.length;++b)for(var d=u[b],g=h[b],m=0;m<3;++m)c[m]+=g*d[m];return c}f.exports=function(u,h,c,b,d,g){if(u.length===1)return[0,u[0].slice()];for(var m=new Array(u.length),y=0;y<u.length;++y)m[y]=l(u[y],c,b,d,g);var x=0,T=1/0;for(y=0;y<m.length;++y){for(var p=0,S=0;S<2;++S)p+=Math.pow(m[y][S]-h[S],2);p<T&&(T=p,x=y)}var M=function(P,O){if(P.length===2){for(var I=0,R=0,U=0;U<2;++U)I+=Math.pow(O[U]-P[0][U],2),R+=Math.pow(O[U]-P[1][U],2);return(I=Math.sqrt(I))+(R=Math.sqrt(R))<1e-6?[1,0]:[R/(I+R),I/(R+I)]}if(P.length===3){var z=[0,0];return n(P[0],P[1],P[2],O,z),a(P,z)}return[]}(m,h),E=0;for(y=0;y<3;++y){if(M[y]<-.001||M[y]>1.0001)return null;E+=M[y]}return Math.abs(E-1)>.001?null:[x,o(u,M),M]}},2056:function(f,s,t){var a=t(6832),n=a([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),i=a([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),l=a([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),o=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),u=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),h=a([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=a([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),b=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),d=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),g=a([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),m=a([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);s.meshShader={vertex:n,fragment:i,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},s.wireShader={vertex:l,fragment:o,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},s.pointShader={vertex:u,fragment:h,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},s.pickShader={vertex:c,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},s.pointPickShader={vertex:d,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},s.contourShader={vertex:g,fragment:m,attributes:[{name:"position",type:"vec3"}]}},8116:function(f,s,t){var a=t(5158),n=t(5827),i=t(2944),l=t(8931),o=t(115),u=t(104),h=t(7437),c=t(5050),b=t(9156),d=t(7212),g=t(5306),m=t(2056),y=t(4340),x=m.meshShader,T=m.wireShader,p=m.pointShader,S=m.pickShader,M=m.pointPickShader,E=m.contourShader,P=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function O(F,V,H,te,Q,K,X,J,ee,ie,oe,ae,ce,ge,ve,be,we,ye,me,Ae,ke,fe,le,de,Ce,Me,Le){this.gl=F,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=V,this.dirty=!0,this.triShader=H,this.lineShader=te,this.pointShader=Q,this.pickShader=K,this.pointPickShader=X,this.contourShader=J,this.trianglePositions=ee,this.triangleColors=oe,this.triangleNormals=ce,this.triangleUVs=ae,this.triangleIds=ie,this.triangleVAO=ge,this.triangleCount=0,this.lineWidth=1,this.edgePositions=ve,this.edgeColors=we,this.edgeUVs=ye,this.edgeIds=be,this.edgeVAO=me,this.edgeCount=0,this.pointPositions=Ae,this.pointColors=fe,this.pointUVs=le,this.pointSizes=de,this.pointIds=ke,this.pointVAO=Ce,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Me,this.contourVAO=Le,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=P,this._view=P,this._projection=P,this._resolution=[1,1]}var I=O.prototype;function R(F,V){if(!V||!V.length)return 1;for(var H=0;H<V.length;++H){if(V.length<2)return 1;if(V[H][0]===F)return V[H][1];if(V[H][0]>F&&H>0){var te=(V[H][0]-F)/(V[H][0]-V[H-1][0]);return V[H][1]*(1-te)+te*V[H-1][1]}}return 1}function U(F){var V=a(F,p.vertex,p.fragment);return V.attributes.position.location=0,V.attributes.color.location=2,V.attributes.uv.location=3,V.attributes.pointSize.location=4,V}function z(F){var V=a(F,S.vertex,S.fragment);return V.attributes.position.location=0,V.attributes.id.location=1,V}function j(F){var V=a(F,M.vertex,M.fragment);return V.attributes.position.location=0,V.attributes.id.location=1,V.attributes.pointSize.location=4,V}function W(F){var V=a(F,E.vertex,E.fragment);return V.attributes.position.location=0,V}I.isOpaque=function(){return!this.hasAlpha},I.isTransparent=function(){return this.hasAlpha},I.pickSlots=1,I.setPickBase=function(F){this.pickId=F},I.highlight=function(F){if(F&&this.contourEnable){for(var V=d(this.cells,this.intensity,F.intensity),H=V.cells,te=V.vertexIds,Q=V.vertexWeights,K=H.length,X=g.mallocFloat32(6*K),J=0,ee=0;ee<K;++ee)for(var ie=H[ee],oe=0;oe<2;++oe){var ae=ie[0];ie.length===2&&(ae=ie[oe]);for(var ce=te[ae][0],ge=te[ae][1],ve=Q[ae],be=1-ve,we=this.positions[ce],ye=this.positions[ge],me=0;me<3;++me)X[J++]=ve*we[me]+be*ye[me]}this.contourCount=J/3|0,this.contourPositions.update(X.subarray(0,J)),g.free(X)}else this.contourCount=0},I.update=function(F){F=F||{};var V=this.gl;this.dirty=!0,"contourEnable"in F&&(this.contourEnable=F.contourEnable),"contourColor"in F&&(this.contourColor=F.contourColor),"lineWidth"in F&&(this.lineWidth=F.lineWidth),"lightPosition"in F&&(this.lightPosition=F.lightPosition),this.hasAlpha=!1,"opacity"in F&&(this.opacity=F.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in F&&(this.opacityscale=F.opacityscale,this.hasAlpha=!0),"ambient"in F&&(this.ambientLight=F.ambient),"diffuse"in F&&(this.diffuseLight=F.diffuse),"specular"in F&&(this.specularLight=F.specular),"roughness"in F&&(this.roughness=F.roughness),"fresnel"in F&&(this.fresnel=F.fresnel),F.texture?(this.texture.dispose(),this.texture=l(V,F.texture)):F.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=V.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=V.LINEAR,this.texture.setPixels(function(Rt,Ft){for(var Dt=b({colormap:Rt,nshades:256,format:"rgba"}),Xe=new Uint8Array(1024),Ke=0;Ke<256;++Ke){for(var Ve=Dt[Ke],Je=0;Je<3;++Je)Xe[4*Ke+Je]=Ve[Je];Xe[4*Ke+3]=Ft?255*R(Ke/255,Ft):255*Ve[3]}return c(Xe,[256,256,4],[4,0,1])}(F.colormap,this.opacityscale)),this.texture.generateMipmap());var H=F.cells,te=F.positions;if(te&&H){var Q=[],K=[],X=[],J=[],ee=[],ie=[],oe=[],ae=[],ce=[],ge=[],ve=[],be=[],we=[],ye=[];this.cells=H,this.positions=te;var me=F.vertexNormals,Ae=F.cellNormals,ke=F.vertexNormalsEpsilon===void 0?1e-6:F.vertexNormalsEpsilon,fe=F.faceNormalsEpsilon===void 0?1e-6:F.faceNormalsEpsilon;F.useFacetNormals&&!Ae&&(Ae=o.faceNormals(H,te,fe)),Ae||me||(me=o.vertexNormals(H,te,ke));var le=F.vertexColors,de=F.cellColors,Ce=F.meshColor||[1,1,1,1],Me=F.vertexUVs,Le=F.vertexIntensity,Oe=F.cellUVs,Be=F.cellIntensity,pe=1/0,_e=-1/0;if(!Me&&!Oe)if(Le)if(F.vertexIntensityBounds)pe=+F.vertexIntensityBounds[0],_e=+F.vertexIntensityBounds[1];else for(var Te=0;Te<Le.length;++Te){var Re=Le[Te];pe=Math.min(pe,Re),_e=Math.max(_e,Re)}else if(Be)if(F.cellIntensityBounds)pe=+F.cellIntensityBounds[0],_e=+F.cellIntensityBounds[1];else for(Te=0;Te<Be.length;++Te)Re=Be[Te],pe=Math.min(pe,Re),_e=Math.max(_e,Re);else for(Te=0;Te<te.length;++Te)Re=te[Te][2],pe=Math.min(pe,Re),_e=Math.max(_e,Re);this.intensity=Le||Be||function(Rt){for(var Ft=Rt.length,Dt=new Array(Ft),Xe=0;Xe<Ft;++Xe)Dt[Xe]=Rt[Xe][2];return Dt}(te),this.pickVertex=!(Be||de);var Ne=F.pointSizes,ze=F.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Te=0;Te<te.length;++Te)for(var Ge=te[Te],Ye=0;Ye<3;++Ye)!isNaN(Ge[Ye])&&isFinite(Ge[Ye])&&(this.bounds[0][Ye]=Math.min(this.bounds[0][Ye],Ge[Ye]),this.bounds[1][Ye]=Math.max(this.bounds[1][Ye],Ge[Ye]));var et=0,ut=0,ot=0;e:for(Te=0;Te<H.length;++Te){var yt=H[Te];switch(yt.length){case 1:for(Ge=te[bt=yt[0]],Ye=0;Ye<3;++Ye)if(isNaN(Ge[Ye])||!isFinite(Ge[Ye]))continue e;ge.push(Ge[0],Ge[1],Ge[2]),at=le?le[bt]:de?de[Te]:Ce,this.opacityscale&&Le?K.push(at[0],at[1],at[2],this.opacity*R((Le[bt]-pe)/(_e-pe),this.opacityscale)):at.length===3?ve.push(at[0],at[1],at[2],this.opacity):(ve.push(at[0],at[1],at[2],at[3]*this.opacity),at[3]<1&&(this.hasAlpha=!0)),rt=Me?Me[bt]:Le?[(Le[bt]-pe)/(_e-pe),0]:Oe?Oe[Te]:Be?[(Be[Te]-pe)/(_e-pe),0]:[(Ge[2]-pe)/(_e-pe),0],be.push(rt[0],rt[1]),Ne?we.push(Ne[bt]):we.push(ze),ye.push(Te),ot+=1;break;case 2:for(Ye=0;Ye<2;++Ye){Ge=te[bt=yt[Ye]];for(var wt=0;wt<3;++wt)if(isNaN(Ge[wt])||!isFinite(Ge[wt]))continue e}for(Ye=0;Ye<2;++Ye)Ge=te[bt=yt[Ye]],ie.push(Ge[0],Ge[1],Ge[2]),at=le?le[bt]:de?de[Te]:Ce,this.opacityscale&&Le?K.push(at[0],at[1],at[2],this.opacity*R((Le[bt]-pe)/(_e-pe),this.opacityscale)):at.length===3?oe.push(at[0],at[1],at[2],this.opacity):(oe.push(at[0],at[1],at[2],at[3]*this.opacity),at[3]<1&&(this.hasAlpha=!0)),rt=Me?Me[bt]:Le?[(Le[bt]-pe)/(_e-pe),0]:Oe?Oe[Te]:Be?[(Be[Te]-pe)/(_e-pe),0]:[(Ge[2]-pe)/(_e-pe),0],ae.push(rt[0],rt[1]),ce.push(Te);ut+=1;break;case 3:for(Ye=0;Ye<3;++Ye)for(Ge=te[bt=yt[Ye]],wt=0;wt<3;++wt)if(isNaN(Ge[wt])||!isFinite(Ge[wt]))continue e;for(Ye=0;Ye<3;++Ye){var bt,at,rt,At;Ge=te[bt=yt[2-Ye]],Q.push(Ge[0],Ge[1],Ge[2]),(at=le?le[bt]:de?de[Te]:Ce)?this.opacityscale&&Le?K.push(at[0],at[1],at[2],this.opacity*R((Le[bt]-pe)/(_e-pe),this.opacityscale)):at.length===3?K.push(at[0],at[1],at[2],this.opacity):(K.push(at[0],at[1],at[2],at[3]*this.opacity),at[3]<1&&(this.hasAlpha=!0)):K.push(.5,.5,.5,1),rt=Me?Me[bt]:Le?[(Le[bt]-pe)/(_e-pe),0]:Oe?Oe[Te]:Be?[(Be[Te]-pe)/(_e-pe),0]:[(Ge[2]-pe)/(_e-pe),0],J.push(rt[0],rt[1]),At=me?me[bt]:Ae[Te],X.push(At[0],At[1],At[2]),ee.push(Te)}et+=1}}this.pointCount=ot,this.edgeCount=ut,this.triangleCount=et,this.pointPositions.update(ge),this.pointColors.update(ve),this.pointUVs.update(be),this.pointSizes.update(we),this.pointIds.update(new Uint32Array(ye)),this.edgePositions.update(ie),this.edgeColors.update(oe),this.edgeUVs.update(ae),this.edgeIds.update(new Uint32Array(ce)),this.trianglePositions.update(Q),this.triangleColors.update(K),this.triangleUVs.update(J),this.triangleNormals.update(X),this.triangleIds.update(new Uint32Array(ee))}},I.drawTransparent=I.draw=function(F){F=F||{};for(var V=this.gl,H=F.model||P,te=F.view||P,Q=F.projection||P,K=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],X=0;X<3;++X)K[0][X]=Math.max(K[0][X],this.clipBounds[0][X]),K[1][X]=Math.min(K[1][X],this.clipBounds[1][X]);var J={model:H,view:te,projection:Q,inverseModel:P.slice(),clipBounds:K,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};J.inverseModel=h(J.inverseModel,J.model),V.disable(V.CULL_FACE),this.texture.bind(0);var ee=new Array(16);for(u(ee,J.view,J.model),u(ee,J.projection,ee),h(ee,ee),X=0;X<3;++X)J.eyePosition[X]=ee[12+X]/ee[15];var ie,oe=ee[15];for(X=0;X<3;++X)oe+=this.lightPosition[X]*ee[4*X+3];for(X=0;X<3;++X){for(var ae=ee[12+X],ce=0;ce<3;++ce)ae+=ee[4*ce+X]*this.lightPosition[ce];J.lightPosition[X]=ae/oe}this.triangleCount>0&&((ie=this.triShader).bind(),ie.uniforms=J,this.triangleVAO.bind(),V.drawArrays(V.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((ie=this.lineShader).bind(),ie.uniforms=J,this.edgeVAO.bind(),V.lineWidth(this.lineWidth*this.pixelRatio),V.drawArrays(V.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((ie=this.pointShader).bind(),ie.uniforms=J,this.pointVAO.bind(),V.drawArrays(V.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((ie=this.contourShader).bind(),ie.uniforms=J,this.contourVAO.bind(),V.drawArrays(V.LINES,0,this.contourCount),this.contourVAO.unbind())},I.drawPick=function(F){F=F||{};for(var V=this.gl,H=F.model||P,te=F.view||P,Q=F.projection||P,K=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],X=0;X<3;++X)K[0][X]=Math.max(K[0][X],this.clipBounds[0][X]),K[1][X]=Math.min(K[1][X],this.clipBounds[1][X]);this._model=[].slice.call(H),this._view=[].slice.call(te),this._projection=[].slice.call(Q),this._resolution=[V.drawingBufferWidth,V.drawingBufferHeight];var J,ee={model:H,view:te,projection:Q,clipBounds:K,pickId:this.pickId/255};(J=this.pickShader).bind(),J.uniforms=ee,this.triangleCount>0&&(this.triangleVAO.bind(),V.drawArrays(V.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),V.lineWidth(this.lineWidth*this.pixelRatio),V.drawArrays(V.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((J=this.pointPickShader).bind(),J.uniforms=ee,this.pointVAO.bind(),V.drawArrays(V.POINTS,0,this.pointCount),this.pointVAO.unbind())},I.pick=function(F){if(!F||F.id!==this.pickId)return null;for(var V=F.value[0]+256*F.value[1]+65536*F.value[2],H=this.cells[V],te=this.positions,Q=new Array(H.length),K=0;K<H.length;++K)Q[K]=te[H[K]];var X=F.coord[0],J=F.coord[1];if(!this.pickVertex){var ee=this.positions[H[0]],ie=this.positions[H[1]],oe=this.positions[H[2]],ae=[(ee[0]+ie[0]+oe[0])/3,(ee[1]+ie[1]+oe[1])/3,(ee[2]+ie[2]+oe[2])/3];return{_cellCenter:!0,position:[X,J],index:V,cell:H,cellId:V,intensity:this.intensity[V],dataCoordinate:ae}}var ce=y(Q,[X*this.pixelRatio,this._resolution[1]-J*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!ce)return null;var ge=ce[2],ve=0;for(K=0;K<H.length;++K)ve+=ge[K]*this.intensity[H[K]];return{position:ce[1],index:H[ce[0]],cell:H,cellId:V,intensity:ve,dataCoordinate:this.positions[H[ce[0]]]}},I.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},f.exports=function(F,V){if(arguments.length===1&&(F=(V=F).gl),!(F.getExtension("OES_standard_derivatives")||F.getExtension("MOZ_OES_standard_derivatives")||F.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var H=function(Be){var pe=a(Be,x.vertex,x.fragment);return pe.attributes.position.location=0,pe.attributes.color.location=2,pe.attributes.uv.location=3,pe.attributes.normal.location=4,pe}(F),te=function(Be){var pe=a(Be,T.vertex,T.fragment);return pe.attributes.position.location=0,pe.attributes.color.location=2,pe.attributes.uv.location=3,pe}(F),Q=U(F),K=z(F),X=j(F),J=W(F),ee=l(F,c(new Uint8Array([255,255,255,255]),[1,1,4]));ee.generateMipmap(),ee.minFilter=F.LINEAR_MIPMAP_LINEAR,ee.magFilter=F.LINEAR;var ie=n(F),oe=n(F),ae=n(F),ce=n(F),ge=n(F),ve=i(F,[{buffer:ie,type:F.FLOAT,size:3},{buffer:ge,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:oe,type:F.FLOAT,size:4},{buffer:ae,type:F.FLOAT,size:2},{buffer:ce,type:F.FLOAT,size:3}]),be=n(F),we=n(F),ye=n(F),me=n(F),Ae=i(F,[{buffer:be,type:F.FLOAT,size:3},{buffer:me,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:we,type:F.FLOAT,size:4},{buffer:ye,type:F.FLOAT,size:2}]),ke=n(F),fe=n(F),le=n(F),de=n(F),Ce=n(F),Me=i(F,[{buffer:ke,type:F.FLOAT,size:3},{buffer:Ce,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:fe,type:F.FLOAT,size:4},{buffer:le,type:F.FLOAT,size:2},{buffer:de,type:F.FLOAT,size:1}]),Le=n(F),Oe=new O(F,ee,H,te,Q,K,X,J,ie,ge,oe,ae,ce,ve,be,me,we,ye,Ae,ke,Ce,fe,le,de,Me,Le,i(F,[{buffer:Le,type:F.FLOAT,size:3}]));return Oe.update(V),Oe}},4554:function(f,s,t){f.exports=function(c){var b=c.gl;return new l(c,a(b,[0,0,0,1,1,0,1,1]),n(b,i.boxVert,i.lineFrag))};var a=t(5827),n=t(5158),i=t(2709);function l(c,b,d){this.plot=c,this.vbo=b,this.shader=d}var o,u,h=l.prototype;h.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},h.drawBox=(o=[0,0],u=[0,0],function(c,b,d,g,m){var y=this.plot,x=this.shader,T=y.gl;o[0]=c,o[1]=b,u[0]=d,u[1]=g,x.uniforms.lo=o,x.uniforms.hi=u,x.uniforms.color=m,T.drawArrays(T.TRIANGLE_STRIP,0,4)}),h.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3016:function(f,s,t){f.exports=function(y){var x=y.gl;return new o(y,a(x),n(x,l.gridVert,l.gridFrag),n(x,l.tickVert,l.gridFrag))};var a=t(5827),n=t(5158),i=t(5070),l=t(2709);function o(y,x,T,p){this.plot=y,this.vbo=x,this.shader=T,this.tickShader=p,this.ticks=[[],[]]}function u(y,x){return y-x}var h,c,b,d,g,m=o.prototype;m.draw=(h=[0,0],c=[0,0],b=[0,0],function(){for(var y=this.plot,x=this.vbo,T=this.shader,p=this.ticks,S=y.gl,M=y._tickBounds,E=y.dataBox,P=y.viewBox,O=y.gridLineWidth,I=y.gridLineColor,R=y.gridLineEnable,U=y.pixelRatio,z=0;z<2;++z){var j=M[z],W=M[z+2]-j,F=.5*(E[z+2]+E[z]),V=E[z+2]-E[z];c[z]=2*W/V,h[z]=2*(j-F)/V}T.bind(),x.bind(),T.attributes.dataCoord.pointer(),T.uniforms.dataShift=h,T.uniforms.dataScale=c;var H=0;for(z=0;z<2;++z){b[0]=b[1]=0,b[z]=1,T.uniforms.dataAxis=b,T.uniforms.lineWidth=O[z]/(P[z+2]-P[z])*U,T.uniforms.color=I[z];var te=6*p[z].length;R[z]&&te&&S.drawArrays(S.TRIANGLES,H,te),H+=te}}),m.drawTickMarks=function(){var y=[0,0],x=[0,0],T=[1,0],p=[0,1],S=[0,0],M=[0,0];return function(){for(var E=this.plot,P=this.vbo,O=this.tickShader,I=this.ticks,R=E.gl,U=E._tickBounds,z=E.dataBox,j=E.viewBox,W=E.pixelRatio,F=E.screenBox,V=F[2]-F[0],H=F[3]-F[1],te=j[2]-j[0],Q=j[3]-j[1],K=0;K<2;++K){var X=U[K],J=U[K+2]-X,ee=.5*(z[K+2]+z[K]),ie=z[K+2]-z[K];x[K]=2*J/ie,y[K]=2*(X-ee)/ie}x[0]*=te/V,y[0]*=te/V,x[1]*=Q/H,y[1]*=Q/H,O.bind(),P.bind(),O.attributes.dataCoord.pointer();var oe=O.uniforms;oe.dataShift=y,oe.dataScale=x;var ae=E.tickMarkLength,ce=E.tickMarkWidth,ge=E.tickMarkColor,ve=6*I[0].length,be=Math.min(i.ge(I[0],(z[0]-U[0])/(U[2]-U[0]),u),I[0].length),we=Math.min(i.gt(I[0],(z[2]-U[0])/(U[2]-U[0]),u),I[0].length),ye=0+6*be,me=6*Math.max(0,we-be),Ae=Math.min(i.ge(I[1],(z[1]-U[1])/(U[3]-U[1]),u),I[1].length),ke=Math.min(i.gt(I[1],(z[3]-U[1])/(U[3]-U[1]),u),I[1].length),fe=ve+6*Ae,le=6*Math.max(0,ke-Ae);S[0]=2*(j[0]-ae[1])/V-1,S[1]=(j[3]+j[1])/H-1,M[0]=ae[1]*W/V,M[1]=ce[1]*W/H,le&&(oe.color=ge[1],oe.tickScale=M,oe.dataAxis=p,oe.screenOffset=S,R.drawArrays(R.TRIANGLES,fe,le)),S[0]=(j[2]+j[0])/V-1,S[1]=2*(j[1]-ae[0])/H-1,M[0]=ce[0]*W/V,M[1]=ae[0]*W/H,me&&(oe.color=ge[0],oe.tickScale=M,oe.dataAxis=T,oe.screenOffset=S,R.drawArrays(R.TRIANGLES,ye,me)),S[0]=2*(j[2]+ae[3])/V-1,S[1]=(j[3]+j[1])/H-1,M[0]=ae[3]*W/V,M[1]=ce[3]*W/H,le&&(oe.color=ge[3],oe.tickScale=M,oe.dataAxis=p,oe.screenOffset=S,R.drawArrays(R.TRIANGLES,fe,le)),S[0]=(j[2]+j[0])/V-1,S[1]=2*(j[3]+ae[2])/H-1,M[0]=ce[2]*W/V,M[1]=ae[2]*W/H,me&&(oe.color=ge[2],oe.tickScale=M,oe.dataAxis=T,oe.screenOffset=S,R.drawArrays(R.TRIANGLES,ye,me))}}(),m.update=(d=[1,1,-1,-1,1,-1],g=[1,-1,1,1,-1,-1],function(y){for(var x=y.ticks,T=y.bounds,p=new Float32Array(18*(x[0].length+x[1].length)),S=(this.plot.zeroLineEnable,0),M=[[],[]],E=0;E<2;++E)for(var P=M[E],O=x[E],I=T[E],R=T[E+2],U=0;U<O.length;++U){var z=(O[U].x-I)/(R-I);P.push(z);for(var j=0;j<6;++j)p[S++]=z,p[S++]=d[j],p[S++]=g[j]}this.ticks=M,this.vbo.update(p)}),m.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},1154:function(f,s,t){f.exports=function(c){var b=c.gl;return new l(c,a(b,[-1,-1,-1,1,1,-1,1,1]),n(b,i.lineVert,i.lineFrag))};var a=t(5827),n=t(5158),i=t(2709);function l(c,b,d){this.plot=c,this.vbo=b,this.shader=d}var o,u,h=l.prototype;h.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},h.drawLine=(o=[0,0],u=[0,0],function(c,b,d,g,m,y){var x=this.plot,T=this.shader,p=x.gl;o[0]=c,o[1]=b,u[0]=d,u[1]=g,T.uniforms.start=o,T.uniforms.end=u,T.uniforms.width=m*x.pixelRatio,T.uniforms.color=y,p.drawArrays(p.TRIANGLE_STRIP,0,4)}),h.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2709:function(f,s,t){var a=t(6832),n=a([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);f.exports={lineVert:a([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:n,textVert:a([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:n,gridVert:a([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:n,boxVert:a([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:a([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(f,s,t){f.exports=function(x){var T=x.gl;return new u(x,a(T),n(T,o.textVert,o.textFrag))};var a=t(5827),n=t(5158),i=t(6946),l=t(5070),o=t(2709);function u(x,T,p){this.plot=x,this.vbo=T,this.shader=p,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var h,c,b,d,g,m,y=u.prototype;y.drawTicks=(h=[0,0],c=[0,0],b=[0,0],function(x){var T=this.plot,p=this.shader,S=this.tickX[x],M=this.tickOffset[x],E=T.gl,P=T.viewBox,O=T.dataBox,I=T.screenBox,R=T.pixelRatio,U=T.tickEnable,z=T.tickPad,j=T.tickColor,W=T.tickAngle,F=T.labelEnable,V=T.labelPad,H=T.labelColor,te=T.labelAngle,Q=this.labelOffset[x],K=this.labelCount[x],X=l.lt(S,O[x]),J=l.le(S,O[x+2]);h[0]=h[1]=0,h[x]=1,c[x]=(P[2+x]+P[x])/(I[2+x]-I[x])-1;var ee=2/I[2+(1^x)]-I[1^x];c[1^x]=ee*P[1^x]-1,U[x]&&(c[1^x]-=ee*R*z[x],X<J&&M[J]>M[X]&&(p.uniforms.dataAxis=h,p.uniforms.screenOffset=c,p.uniforms.color=j[x],p.uniforms.angle=W[x],E.drawArrays(E.TRIANGLES,M[X],M[J]-M[X]))),F[x]&&K&&(c[1^x]-=ee*R*V[x],p.uniforms.dataAxis=b,p.uniforms.screenOffset=c,p.uniforms.color=H[x],p.uniforms.angle=te[x],E.drawArrays(E.TRIANGLES,Q,K)),c[1^x]=ee*P[2+(1^x)]-1,U[x+2]&&(c[1^x]+=ee*R*z[x+2],X<J&&M[J]>M[X]&&(p.uniforms.dataAxis=h,p.uniforms.screenOffset=c,p.uniforms.color=j[x+2],p.uniforms.angle=W[x+2],E.drawArrays(E.TRIANGLES,M[X],M[J]-M[X]))),F[x+2]&&K&&(c[1^x]+=ee*R*V[x+2],p.uniforms.dataAxis=b,p.uniforms.screenOffset=c,p.uniforms.color=H[x+2],p.uniforms.angle=te[x+2],E.drawArrays(E.TRIANGLES,Q,K))}),y.drawTitle=function(){var x=[0,0],T=[0,0];return function(){var p=this.plot,S=this.shader,M=p.gl,E=p.screenBox,P=p.titleCenter,O=p.titleAngle,I=p.titleColor,R=p.pixelRatio;if(this.titleCount){for(var U=0;U<2;++U)T[U]=2*(P[U]*R-E[U])/(E[2+U]-E[U])-1;S.bind(),S.uniforms.dataAxis=x,S.uniforms.screenOffset=T,S.uniforms.angle=O,S.uniforms.color=I,M.drawArrays(M.TRIANGLES,this.titleOffset,this.titleCount)}}}(),y.bind=(d=[0,0],g=[0,0],m=[0,0],function(){var x=this.plot,T=this.shader,p=x._tickBounds,S=x.dataBox,M=x.screenBox,E=x.viewBox;T.bind();for(var P=0;P<2;++P){var O=p[P],I=p[P+2]-O,R=.5*(S[P+2]+S[P]),U=S[P+2]-S[P],z=E[P],j=E[P+2]-z,W=M[P],F=M[P+2]-W;g[P]=2*I/U*j/F,d[P]=2*(O-R)/U*j/F}m[1]=2*x.pixelRatio/(M[3]-M[1]),m[0]=m[1]*(M[3]-M[1])/(M[2]-M[0]),T.uniforms.dataScale=g,T.uniforms.dataShift=d,T.uniforms.textScale=m,this.vbo.bind(),T.attributes.textCoordinate.pointer()}),y.update=function(x){var T,p,S,M,E,P=[],O=x.ticks,I=x.bounds;for(E=0;E<2;++E){var R=[Math.floor(P.length/3)],U=[-1/0],z=O[E];for(T=0;T<z.length;++T){var j=z[T],W=j.x,F=j.text,V=j.font||"sans-serif";M=j.fontSize||12;for(var H=1/(I[E+2]-I[E]),te=I[E],Q=F.split(`
`),K=0;K<Q.length;K++)for(S=i(V,Q[K]).data,p=0;p<S.length;p+=2)P.push(S[p]*M,-S[p+1]*M-K*M*1.2,(W-te)*H);R.push(Math.floor(P.length/3)),U.push(W)}this.tickOffset[E]=R,this.tickX[E]=U}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(P.length/3),S=i(x.labelFont[E],x.labels[E],{textAlign:"center"}).data,M=x.labelSize[E],T=0;T<S.length;T+=2)P.push(S[T]*M,-S[T+1]*M,0);this.labelCount[E]=Math.floor(P.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(P.length/3),S=i(x.titleFont,x.title).data,M=x.titleSize,T=0;T<S.length;T+=2)P.push(S[T]*M,-S[T+1]*M,0);this.titleCount=Math.floor(P.length/3)-this.titleOffset,this.vbo.update(P)},y.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2117:function(f,s,t){f.exports=function(d){var g=d.gl,m=new u(g,a(g,[g.drawingBufferWidth,g.drawingBufferHeight]));return m.grid=n(m),m.text=i(m),m.line=l(m),m.box=o(m),m.update(d),m};var a=t(2611),n=t(3016),i=t(5613),l=t(1154),o=t(4554);function u(d,g){this.gl=d,this.pickBuffer=g,this.screenBox=[0,0,d.drawingBufferWidth,d.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var h=u.prototype;function c(d){for(var g=d.slice(),m=0;m<g.length;++m)g[m]=g[m].slice();return g}function b(d,g){return d.x-g.x}h.setDirty=function(){this.dirty=this.pickDirty=!0},h.setOverlayDirty=function(){this.dirty=!0},h.nextDepthValue=function(){return this._depthCounter++/65536},h.draw=function(){var d=this.gl,g=this.screenBox,m=this.viewBox,y=this.dataBox,x=this.pixelRatio,T=this.grid,p=this.line,S=this.text,M=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,d.bindFramebuffer(d.FRAMEBUFFER,null),d.enable(d.SCISSOR_TEST),d.disable(d.DEPTH_TEST),d.depthFunc(d.LESS),d.depthMask(!1),d.enable(d.BLEND),d.blendEquation(d.FUNC_ADD,d.FUNC_ADD),d.blendFunc(d.ONE,d.ONE_MINUS_SRC_ALPHA),this.borderColor){d.scissor(g[0],g[1],g[2]-g[0],g[3]-g[1]);var E=this.borderColor;d.clearColor(E[0]*E[3],E[1]*E[3],E[2]*E[3],E[3]),d.clear(d.COLOR_BUFFER_BIT|d.DEPTH_BUFFER_BIT)}d.scissor(m[0],m[1],m[2]-m[0],m[3]-m[1]),d.viewport(m[0],m[1],m[2]-m[0],m[3]-m[1]);var P=this.backgroundColor;d.clearColor(P[0]*P[3],P[1]*P[3],P[2]*P[3],P[3]),d.clear(d.COLOR_BUFFER_BIT),T.draw();var O=this.zeroLineEnable,I=this.zeroLineColor,R=this.zeroLineWidth;if(O[0]||O[1]){p.bind();for(var U=0;U<2;++U)if(O[U]&&y[U]<=0&&y[U+2]>=0){var z=g[U]-y[U]*(g[U+2]-g[U])/(y[U+2]-y[U]);U===0?p.drawLine(z,g[1],z,g[3],R[U],I[U]):p.drawLine(g[0],z,g[2],z,R[U],I[U])}}for(U=0;U<M.length;++U)M[U].draw();d.viewport(g[0],g[1],g[2]-g[0],g[3]-g[1]),d.scissor(g[0],g[1],g[2]-g[0],g[3]-g[1]),this.grid.drawTickMarks(),p.bind();var j=this.borderLineEnable,W=this.borderLineWidth,F=this.borderLineColor;for(j[1]&&p.drawLine(m[0],m[1]-.5*W[1]*x,m[0],m[3]+.5*W[3]*x,W[1],F[1]),j[0]&&p.drawLine(m[0]-.5*W[0]*x,m[1],m[2]+.5*W[2]*x,m[1],W[0],F[0]),j[3]&&p.drawLine(m[2],m[1]-.5*W[1]*x,m[2],m[3]+.5*W[3]*x,W[3],F[3]),j[2]&&p.drawLine(m[0]-.5*W[0]*x,m[3],m[2]+.5*W[2]*x,m[3],W[2],F[2]),S.bind(),U=0;U<2;++U)S.drawTicks(U);this.titleEnable&&S.drawTitle();var V=this.overlays;for(U=0;U<V.length;++U)V[U].draw();d.disable(d.SCISSOR_TEST),d.disable(d.BLEND),d.depthMask(!0)}},h.drawPick=function(){if(!this.static){var d=this.pickBuffer;this.gl,this._pickTimeout=null,d.begin();for(var g=1,m=this.objects,y=0;y<m.length;++y)g=m[y].drawPick(g);d.end()}},h.pick=function(d,g){if(!this.static){var m=this.pixelRatio,y=this.pickPixelRatio,x=this.viewBox,T=0|Math.round((d-x[0]/m)*y),p=0|Math.round((g-x[1]/m)*y),S=this.pickBuffer.query(T,p,this.pickRadius);if(!S)return null;for(var M=S.id+(S.value[0]<<8)+(S.value[1]<<16)+(S.value[2]<<24),E=this.objects,P=0;P<E.length;++P){var O=E[P].pick(T,p,M);if(O)return O}return null}},h.setScreenBox=function(d){var g=this.screenBox,m=this.pixelRatio;g[0]=0|Math.round(d[0]*m),g[1]=0|Math.round(d[1]*m),g[2]=0|Math.round(d[2]*m),g[3]=0|Math.round(d[3]*m),this.setDirty()},h.setDataBox=function(d){var g=this.dataBox;(g[0]!==d[0]||g[1]!==d[1]||g[2]!==d[2]||g[3]!==d[3])&&(g[0]=d[0],g[1]=d[1],g[2]=d[2],g[3]=d[3],this.setDirty())},h.setViewBox=function(d){var g=this.pixelRatio,m=this.viewBox;m[0]=0|Math.round(d[0]*g),m[1]=0|Math.round(d[1]*g),m[2]=0|Math.round(d[2]*g),m[3]=0|Math.round(d[3]*g);var y=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((d[2]-d[0])*y),0|Math.round((d[3]-d[1])*y)],this.setDirty()},h.update=function(d){d=d||{};var g=this.gl;this.pixelRatio=d.pixelRatio||1;var m=this.pixelRatio;this.pickPixelRatio=Math.max(m,1),this.setScreenBox(d.screenBox||[0,0,g.drawingBufferWidth/m,g.drawingBufferHeight/m]),this.screenBox,this.setViewBox(d.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/m,.125*(this.screenBox[3]-this.screenBox[1])/m,.875*(this.screenBox[2]-this.screenBox[0])/m,.875*(this.screenBox[3]-this.screenBox[1])/m]);var y=this.viewBox,x=(y[2]-y[0])/(y[3]-y[1]);this.setDataBox(d.dataBox||[-10,-10/x,10,10/x]),this.borderColor=d.borderColor!==!1&&(d.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(d.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(d.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(d.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(d.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(d.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(d.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(d.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(d.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(d.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(d.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(d.titleCenter||[.5*(y[0]+y[2])/m,(y[3]+120)/m]).slice(),this.titleEnable=!("titleEnable"in d)||!!d.titleEnable,this.titleAngle=d.titleAngle||0,this.titleColor=(d.titleColor||[0,0,0,1]).slice(),this.labelPad=(d.labelPad||[15,15,15,15]).slice(),this.labelAngle=(d.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(d.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(d.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(d.tickPad||[15,15,15,15]).slice(),this.tickAngle=(d.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(d.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(d.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(d.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(d.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(d.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var T=d.ticks||[[],[]],p=this._tickBounds;p[0]=p[1]=1/0,p[2]=p[3]=-1/0;for(var S=0;S<2;++S){var M=T[S].slice(0);M.length!==0&&(M.sort(b),p[S]=Math.min(p[S],M[0].x),p[S+2]=Math.max(p[S+2],M[M.length-1].x))}this.grid.update({bounds:p,ticks:T}),this.text.update({bounds:p,ticks:T,labels:d.labels||["x","y"],labelSize:d.labelSize||[12,12],labelFont:d.labelFont||["sans-serif","sans-serif"],title:d.title||"",titleSize:d.titleSize||18,titleFont:d.titleFont||"sans-serif"}),this.static=!!d.static,this.setDirty()},h.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var d=this.objects.length-1;d>=0;--d)this.objects[d].dispose();for(this.objects.length=0,d=this.overlays.length-1;d>=0;--d)this.overlays[d].dispose();this.overlays.length=0,this.gl=null},h.addObject=function(d){this.objects.indexOf(d)<0&&(this.objects.push(d),this.setDirty())},h.removeObject=function(d){for(var g=this.objects,m=0;m<g.length;++m)if(g[m]===d){g.splice(m,1),this.setDirty();break}},h.addOverlay=function(d){this.overlays.indexOf(d)<0&&(this.overlays.push(d),this.setOverlayDirty())},h.removeOverlay=function(d){for(var g=this.overlays,m=0;m<g.length;++m)if(g[m]===d){g.splice(m,1),this.setOverlayDirty();break}}},4296:function(f,s,t){f.exports=function(h,c){h=h||document.body;var b=[.01,1/0];"distanceLimits"in(c=c||{})&&(b[0]=c.distanceLimits[0],b[1]=c.distanceLimits[1]),"zoomMin"in c&&(b[0]=c.zoomMin),"zoomMax"in c&&(b[1]=c.zoomMax);var d=n({center:c.center||[0,0,0],up:c.up||[0,1,0],eye:c.eye||[0,0,10],mode:c.mode||"orbit",distanceLimits:b}),g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m=0,y=h.clientWidth,x=h.clientHeight,T={keyBindingMode:"rotate",enableWheel:!0,view:d,element:h,delay:c.delay||16,rotateSpeed:c.rotateSpeed||1,zoomSpeed:c.zoomSpeed||1,translateSpeed:c.translateSpeed||1,flipX:!!c.flipX,flipY:!!c.flipY,modes:d.modes,_ortho:c._ortho||c.projection&&c.projection.type==="orthographic"||!1,tick:function(){var p=a(),S=this.delay,M=p-2*S;d.idle(p-S),d.recalcMatrix(M),d.flush(p-(100+2*S));for(var E=!0,P=d.computedMatrix,O=0;O<16;++O)E=E&&g[O]===P[O],g[O]=P[O];var I=h.clientWidth===y&&h.clientHeight===x;return y=h.clientWidth,x=h.clientHeight,E?!I:(m=Math.exp(d.computedRadius[0]),!0)},lookAt:function(p,S,M){d.lookAt(d.lastT(),p,S,M)},rotate:function(p,S,M){d.rotate(d.lastT(),p,S,M)},pan:function(p,S,M){d.pan(d.lastT(),p,S,M)},translate:function(p,S,M){d.translate(d.lastT(),p,S,M)}};return Object.defineProperties(T,{matrix:{get:function(){return d.computedMatrix},set:function(p){return d.setMatrix(d.lastT(),p),d.computedMatrix},enumerable:!0},mode:{get:function(){return d.getMode()},set:function(p){var S=d.computedUp.slice(),M=d.computedEye.slice(),E=d.computedCenter.slice();if(d.setMode(p),p==="turntable"){var P=a();d._active.lookAt(P,M,E,S),d._active.lookAt(P+500,M,E,[0,0,1]),d._active.flush(P)}return d.getMode()},enumerable:!0},center:{get:function(){return d.computedCenter},set:function(p){return d.lookAt(d.lastT(),null,p),d.computedCenter},enumerable:!0},eye:{get:function(){return d.computedEye},set:function(p){return d.lookAt(d.lastT(),p),d.computedEye},enumerable:!0},up:{get:function(){return d.computedUp},set:function(p){return d.lookAt(d.lastT(),null,null,p),d.computedUp},enumerable:!0},distance:{get:function(){return m},set:function(p){return d.setDistance(d.lastT(),p),p},enumerable:!0},distanceLimits:{get:function(){return d.getDistanceLimits(b)},set:function(p){return d.setDistanceLimits(p),p},enumerable:!0}}),h.addEventListener("contextmenu",function(p){return p.preventDefault(),!1}),T._lastX=-1,T._lastY=-1,T._lastMods={shift:!1,control:!1,alt:!1,meta:!1},T.enableMouseListeners=function(){function p(S,M,E,P){var O=T.keyBindingMode;if(O!==!1){var I=O==="rotate",R=O==="pan",U=O==="zoom",z=!!P.control,j=!!P.alt,W=!!P.shift,F=!!(1&S),V=!!(2&S),H=!!(4&S),te=1/h.clientHeight,Q=te*(M-T._lastX),K=te*(E-T._lastY),X=T.flipX?1:-1,J=T.flipY?1:-1,ee=Math.PI*T.rotateSpeed,ie=a();if(T._lastX!==-1&&T._lastY!==-1&&((I&&F&&!z&&!j&&!W||F&&!z&&!j&&W)&&d.rotate(ie,X*ee*Q,-J*ee*K,0),(R&&F&&!z&&!j&&!W||V||F&&z&&!j&&!W)&&d.pan(ie,-T.translateSpeed*Q*m,T.translateSpeed*K*m,0),U&&F&&!z&&!j&&!W||H||F&&!z&&j&&!W)){var oe=-T.zoomSpeed*K/window.innerHeight*(ie-d.lastT())*100;d.pan(ie,0,0,m*(Math.exp(oe)-1))}return T._lastX=M,T._lastY=E,T._lastMods=P,!0}}T.mouseListener=i(h,p),h.addEventListener("touchstart",function(S){var M=o(S.changedTouches[0],h);p(0,M[0],M[1],T._lastMods),p(1,M[0],M[1],T._lastMods)},!!u&&{passive:!0}),h.addEventListener("touchmove",function(S){var M=o(S.changedTouches[0],h);p(1,M[0],M[1],T._lastMods),S.preventDefault()},!!u&&{passive:!1}),h.addEventListener("touchend",function(S){p(0,T._lastX,T._lastY,T._lastMods)},!!u&&{passive:!0}),T.wheelListener=l(h,function(S,M){if(T.keyBindingMode!==!1&&T.enableWheel){var E=T.flipX?1:-1,P=T.flipY?1:-1,O=a();if(Math.abs(S)>Math.abs(M))d.rotate(O,0,0,-S*E*Math.PI*T.rotateSpeed/window.innerWidth);else if(!T._ortho){var I=-T.zoomSpeed*P*M/window.innerHeight*(O-d.lastT())/20;d.pan(O,0,0,m*(Math.exp(I)-1))}}},!0)},T.enableMouseListeners(),T};var a=t(8161),n=t(1152),i=t(6145),l=t(6475),o=t(2565),u=t(5233)},8245:function(f,s,t){var a=t(6832),n=t(5158),i=a([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),l=a([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);f.exports=function(o){return n(o,i,l,null,[{name:"position",type:"vec2"}])}},1059:function(f,s,t){var a=t(4296),n=t(7453),i=t(2771),l=t(6496),o=t(2611),u=t(4234),h=t(8126),c=t(6145),b=t(1120),d=t(5268),g=t(8245),m=t(2321)({tablet:!0,featureDetect:!0});function y(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function x(p){var S=Math.round(Math.log(Math.abs(p))/Math.log(10));if(S<0){var M=Math.round(Math.pow(10,-S));return Math.ceil(p*M)/M}return S>0?(M=Math.round(Math.pow(10,S)),Math.ceil(p/M)*M):Math.ceil(p)}function T(p){return typeof p!="boolean"||p}f.exports={createScene:function(p){(p=p||{}).camera=p.camera||{};var S=p.canvas;S||(S=document.createElement("canvas"),p.container?p.container.appendChild(S):document.body.appendChild(S));var M=p.gl;if(M||(p.glOptions&&(m=!!p.glOptions.preserveDrawingBuffer),M=function(me,Ae){var ke=null;try{(ke=me.getContext("webgl",Ae))||(ke=me.getContext("experimental-webgl",Ae))}catch{return null}return ke}(S,p.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:m})),!M)throw new Error("webgl not supported");var E=p.bounds||[[-10,-10,-10],[10,10,10]],P=new y,O=u(M,M.drawingBufferWidth,M.drawingBufferHeight,{preferFloat:!m}),I=g(M),R=p.cameraObject&&p.cameraObject._ortho===!0||p.camera.projection&&p.camera.projection.type==="orthographic"||!1,U={eye:p.camera.eye||[2,0,0],center:p.camera.center||[0,0,0],up:p.camera.up||[0,1,0],zoomMin:p.camera.zoomMax||.1,zoomMax:p.camera.zoomMin||100,mode:p.camera.mode||"turntable",_ortho:R},z=p.axes||{},j=n(M,z);j.enable=!z.disable;var W=p.spikes||{},F=l(M,W),V=[],H=[],te=[],Q=[],K=!0,X=!0,J={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},ee=(X=!0,[M.drawingBufferWidth,M.drawingBufferHeight]),ie=p.cameraObject||a(S,U),oe={gl:M,contextLost:!1,pixelRatio:p.pixelRatio||1,canvas:S,selection:P,camera:ie,axes:j,axesPixels:null,spikes:F,bounds:E,objects:V,shape:ee,aspect:p.aspectRatio||[1,1,1],pickRadius:p.pickRadius||10,zNear:p.zNear||.01,zFar:p.zFar||1e3,fovy:p.fovy||Math.PI/4,clearColor:p.clearColor||[0,0,0,0],autoResize:T(p.autoResize),autoBounds:T(p.autoBounds),autoScale:!!p.autoScale,autoCenter:T(p.autoCenter),clipToBounds:T(p.clipToBounds),snapToData:!!p.snapToData,onselect:p.onselect||null,onrender:p.onrender||null,onclick:p.onclick||null,cameraParams:J,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(me){this.aspect[0]=me.x,this.aspect[1]=me.y,this.aspect[2]=me.z,X=!0},setBounds:function(me,Ae){this.bounds[0][me]=Ae.min,this.bounds[1][me]=Ae.max},setClearColor:function(me){this.clearColor=me},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},ae=[M.drawingBufferWidth/oe.pixelRatio|0,M.drawingBufferHeight/oe.pixelRatio|0];function ce(){if(!oe._stopped&&oe.autoResize){var me=S.parentNode,Ae=1,ke=1;me&&me!==document.body?(Ae=me.clientWidth,ke=me.clientHeight):(Ae=window.innerWidth,ke=window.innerHeight);var fe=0|Math.ceil(Ae*oe.pixelRatio),le=0|Math.ceil(ke*oe.pixelRatio);if(fe!==S.width||le!==S.height){S.width=fe,S.height=le;var de=S.style;de.position=de.position||"absolute",de.left="0px",de.top="0px",de.width=Ae+"px",de.height=ke+"px",K=!0}}}function ge(){for(var me=V.length,Ae=Q.length,ke=0;ke<Ae;++ke)te[ke]=0;e:for(ke=0;ke<me;++ke){var fe=V[ke],le=fe.pickSlots;if(le){for(var de=0;de<Ae;++de)if(te[de]+le<255){H[ke]=de,fe.setPickBase(te[de]+1),te[de]+=le;continue e}var Ce=o(M,ee);H[ke]=Ae,Q.push(Ce),te.push(le),fe.setPickBase(1),Ae+=1}else H[ke]=-1}for(;Ae>0&&te[Ae-1]===0;)te.pop(),Q.pop().dispose()}function ve(){if(oe.contextLost)return!0;M.isContextLost()&&(oe.contextLost=!0,oe.mouseListener.enabled=!1,oe.selection.object=null,oe.oncontextloss&&oe.oncontextloss())}oe.autoResize&&ce(),window.addEventListener("resize",ce),oe.update=function(me){oe._stopped||(K=!0,X=!0)},oe.add=function(me){oe._stopped||(me.axes=j,V.push(me),H.push(-1),K=!0,X=!0,ge())},oe.remove=function(me){if(!oe._stopped){var Ae=V.indexOf(me);Ae<0||(V.splice(Ae,1),H.pop(),K=!0,X=!0,ge())}},oe.dispose=function(){if(!oe._stopped&&(oe._stopped=!0,window.removeEventListener("resize",ce),S.removeEventListener("webglcontextlost",ve),oe.mouseListener.enabled=!1,!oe.contextLost)){j.dispose(),F.dispose();for(var me=0;me<V.length;++me)V[me].dispose();for(O.dispose(),me=0;me<Q.length;++me)Q[me].dispose();I.dispose(),M=null,j=null,F=null,V=[]}},oe._mouseRotating=!1,oe._prevButtons=0,oe.enableMouseListeners=function(){oe.mouseListener=c(S,function(me,Ae,ke){if(!oe._stopped){var fe=Q.length,le=V.length,de=P.object;P.distance=1/0,P.mouse[0]=Ae,P.mouse[1]=ke,P.object=null,P.screen=null,P.dataCoordinate=P.dataPosition=null;var Ce=!1;if(me&&oe._prevButtons)oe._mouseRotating=!0;else{oe._mouseRotating&&(X=!0),oe._mouseRotating=!1;for(var Me=0;Me<fe;++Me){var Le=Q[Me].query(Ae,ae[1]-ke-1,oe.pickRadius);if(Le){if(Le.distance>P.distance)continue;for(var Oe=0;Oe<le;++Oe){var Be=V[Oe];if(H[Oe]===Me){var pe=Be.pick(Le);pe&&(P.buttons=me,P.screen=Le.coord,P.distance=Le.distance,P.object=Be,P.index=pe.distance,P.dataPosition=pe.position,P.dataCoordinate=pe.dataCoordinate,P.data=pe,Ce=!0)}}}}}de&&de!==P.object&&(de.highlight&&de.highlight(null),K=!0),P.object&&(P.object.highlight&&P.object.highlight(P.data),K=!0),(Ce=Ce||P.object!==de)&&oe.onselect&&oe.onselect(P),1&me&&!(1&oe._prevButtons)&&oe.onclick&&oe.onclick(P),oe._prevButtons=me}})},S.addEventListener("webglcontextlost",ve);var be=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],we=[be[0].slice(),be[1].slice()];function ye(){if(!ve()){ce();var me=oe.camera.tick();J.view=oe.camera.matrix,K=K||me,X=X||me,j.pixelRatio=oe.pixelRatio,F.pixelRatio=oe.pixelRatio;var Ae=V.length,ke=be[0],fe=be[1];ke[0]=ke[1]=ke[2]=1/0,fe[0]=fe[1]=fe[2]=-1/0;for(var le=0;le<Ae;++le){(ze=V[le]).pixelRatio=oe.pixelRatio,ze.axes=oe.axes,K=K||!!ze.dirty,X=X||!!ze.dirty;var de=ze.bounds;if(de)for(var Ce=de[0],Me=de[1],Le=0;Le<3;++Le)ke[Le]=Math.min(ke[Le],Ce[Le]),fe[Le]=Math.max(fe[Le],Me[Le])}var Oe=oe.bounds;if(oe.autoBounds)for(Le=0;Le<3;++Le){if(fe[Le]<ke[Le])ke[Le]=-1,fe[Le]=1;else{ke[Le]===fe[Le]&&(ke[Le]-=1,fe[Le]+=1);var Be=.05*(fe[Le]-ke[Le]);ke[Le]=ke[Le]-Be,fe[Le]=fe[Le]+Be}Oe[0][Le]=ke[Le],Oe[1][Le]=fe[Le]}var pe=!1;for(Le=0;Le<3;++Le)pe=pe||we[0][Le]!==Oe[0][Le]||we[1][Le]!==Oe[1][Le],we[0][Le]=Oe[0][Le],we[1][Le]=Oe[1][Le];if(X=X||pe,K=K||pe){if(pe){var _e=[0,0,0];for(le=0;le<3;++le)_e[le]=x((Oe[1][le]-Oe[0][le])/10);j.autoTicks?j.update({bounds:Oe,tickSpacing:_e}):j.update({bounds:Oe})}var Te=M.drawingBufferWidth,Re=M.drawingBufferHeight;for(ee[0]=Te,ee[1]=Re,ae[0]=0|Math.max(Te/oe.pixelRatio,1),ae[1]=0|Math.max(Re/oe.pixelRatio,1),function(Ge,Ye){var et=Ge.bounds,ut=Ge.cameraParams,ot=ut.projection,yt=ut.model,wt=Ge.gl.drawingBufferWidth,bt=Ge.gl.drawingBufferHeight,at=Ge.zNear,rt=Ge.zFar,At=Ge.fovy,Rt=wt/bt;Ye?(d(ot,-Rt,Rt,-1,1,at,rt),ut._ortho=!0):(b(ot,At,Rt,at,rt),ut._ortho=!1);for(var Ft=0;Ft<16;++Ft)yt[Ft]=0;yt[15]=1;var Dt=0;for(Ft=0;Ft<3;++Ft)Dt=Math.max(Dt,et[1][Ft]-et[0][Ft]);for(Ft=0;Ft<3;++Ft)Ge.autoScale?yt[5*Ft]=Ge.aspect[Ft]/(et[1][Ft]-et[0][Ft]):yt[5*Ft]=1/Dt,Ge.autoCenter&&(yt[12+Ft]=.5*-yt[5*Ft]*(et[0][Ft]+et[1][Ft]))}(oe,R),le=0;le<Ae;++le)(ze=V[le]).axesBounds=Oe,oe.clipToBounds&&(ze.clipBounds=Oe);P.object&&(oe.snapToData?F.position=P.dataCoordinate:F.position=P.dataPosition,F.bounds=Oe),X&&(X=!1,function(){if(!ve()){M.colorMask(!0,!0,!0,!0),M.depthMask(!0),M.disable(M.BLEND),M.enable(M.DEPTH_TEST),M.depthFunc(M.LEQUAL);for(var Ge=V.length,Ye=Q.length,et=0;et<Ye;++et){var ut=Q[et];ut.shape=ae,ut.begin();for(var ot=0;ot<Ge;++ot)if(H[ot]===et){var yt=V[ot];yt.drawPick&&(yt.pixelRatio=1,yt.drawPick(J))}ut.end()}}}()),oe.axesPixels=i(oe.axes,J,Te,Re),oe.onrender&&oe.onrender(),M.bindFramebuffer(M.FRAMEBUFFER,null),M.viewport(0,0,Te,Re),oe.clearRGBA(),M.depthMask(!0),M.colorMask(!0,!0,!0,!0),M.enable(M.DEPTH_TEST),M.depthFunc(M.LEQUAL),M.disable(M.BLEND),M.disable(M.CULL_FACE);var Ne=!1;for(j.enable&&(Ne=Ne||j.isTransparent(),j.draw(J)),F.axes=j,P.object&&F.draw(J),M.disable(M.CULL_FACE),le=0;le<Ae;++le)(ze=V[le]).axes=j,ze.pixelRatio=oe.pixelRatio,ze.isOpaque&&ze.isOpaque()&&ze.draw(J),ze.isTransparent&&ze.isTransparent()&&(Ne=!0);if(Ne){for(O.shape=ee,O.bind(),M.clear(M.DEPTH_BUFFER_BIT),M.colorMask(!1,!1,!1,!1),M.depthMask(!0),M.depthFunc(M.LESS),j.enable&&j.isTransparent()&&j.drawTransparent(J),le=0;le<Ae;++le)(ze=V[le]).isOpaque&&ze.isOpaque()&&ze.draw(J);for(M.enable(M.BLEND),M.blendEquation(M.FUNC_ADD),M.blendFunc(M.ONE,M.ONE_MINUS_SRC_ALPHA),M.colorMask(!0,!0,!0,!0),M.depthMask(!1),M.clearColor(0,0,0,0),M.clear(M.COLOR_BUFFER_BIT),j.isTransparent()&&j.drawTransparent(J),le=0;le<Ae;++le){var ze;(ze=V[le]).isTransparent&&ze.isTransparent()&&ze.drawTransparent(J)}M.bindFramebuffer(M.FRAMEBUFFER,null),M.blendFunc(M.ONE,M.ONE_MINUS_SRC_ALPHA),M.disable(M.DEPTH_TEST),I.bind(),O.color[0].bind(0),I.uniforms.accumBuffer=0,h(M),M.disable(M.BLEND)}for(K=!1,le=0;le<Ae;++le)V[le].dirty=!1}}}return oe.enableMouseListeners(),function me(){oe._stopped||oe.contextLost||(ye(),requestAnimationFrame(me))}(),oe.redraw=function(){oe._stopped||(K=!0,ye())},oe},createCamera:a}},8023:function(f,s,t){var a=t(6832);s.pointVertex=a([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),s.pointFragment=a([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),s.pickVertex=a([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),s.pickFragment=a([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(f,s,t){var a=t(5158),n=t(5827),i=t(5306),l=t(8023);function o(b,d,g,m,y){this.plot=b,this.offsetBuffer=d,this.pickBuffer=g,this.shader=m,this.pickShader=y,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}f.exports=function(b,d){var g=b.gl,m=new o(b,n(g),n(g),a(g,l.pointVertex,l.pointFragment),a(g,l.pickVertex,l.pickFragment));return m.update(d),b.addObject(m),m};var u,h,c=o.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(b){var d;function g(M,E){return M in b?b[M]:E}b=b||{},this.sizeMin=g("sizeMin",.5),this.sizeMax=g("sizeMax",20),this.color=g("color",[1,0,0,1]).slice(),this.areaRatio=g("areaRatio",1),this.borderColor=g("borderColor",[0,0,0,1]).slice(),this.blend=g("blend",!1);var m=b.positions.length>>>1,y=b.positions instanceof Float32Array,x=b.idToIndex instanceof Int32Array&&b.idToIndex.length>=m,T=b.positions,p=y?T:i.mallocFloat32(T.length),S=x?b.idToIndex:i.mallocInt32(m);if(y||p.set(T),!x)for(p.set(T),d=0;d<m;d++)S[d]=d;this.points=T,this.offsetBuffer.update(p),this.pickBuffer.update(S),y||i.free(p),x||i.free(S),this.pointCount=m,this.pickOffset=0},c.unifiedDraw=(u=[1,0,0,0,1,0,0,0,1],h=[0,0,0,0],function(b){var d=b!==void 0,g=d?this.pickShader:this.shader,m=this.plot.gl,y=this.plot.dataBox;if(this.pointCount===0)return b;var x=y[2]-y[0],T=y[3]-y[1],p=function(P,O){var I,R=0,U=P.length>>>1;for(I=0;I<U;I++){var z=P[2*I],j=P[2*I+1];z>=O[0]&&z<=O[2]&&j>=O[1]&&j<=O[3]&&R++}return R}(this.points,y),S=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(p,.33333)));u[0]=2/x,u[4]=2/T,u[6]=-2*y[0]/x-1,u[7]=-2*y[1]/T-1,this.offsetBuffer.bind(),g.bind(),g.attributes.position.pointer(),g.uniforms.matrix=u,g.uniforms.color=this.color,g.uniforms.borderColor=this.borderColor,g.uniforms.pointCloud=S<5,g.uniforms.pointSize=S,g.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(h[0]=255&b,h[1]=b>>8&255,h[2]=b>>16&255,h[3]=b>>24&255,this.pickBuffer.bind(),g.attributes.pickId.pointer(m.UNSIGNED_BYTE),g.uniforms.pickOffset=h,this.pickOffset=b);var M=m.getParameter(m.BLEND),E=m.getParameter(m.DITHER);return M&&!this.blend&&m.disable(m.BLEND),E&&m.disable(m.DITHER),m.drawArrays(m.POINTS,0,this.pointCount),M&&!this.blend&&m.enable(m.BLEND),E&&m.enable(m.DITHER),b+this.pointCount}),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(b,d,g){var m=this.pickOffset,y=this.pointCount;if(g<m||g>=m+y)return null;var x=g-m,T=this.points;return{object:this,pointId:x,dataCoord:[T[2*x],T[2*x+1]]}}},6093:function(f){f.exports=function(s,t,a,n){var i,l,o,u,h,c=t[0],b=t[1],d=t[2],g=t[3],m=a[0],y=a[1],x=a[2],T=a[3];return(l=c*m+b*y+d*x+g*T)<0&&(l=-l,m=-m,y=-y,x=-x,T=-T),1-l>1e-6?(i=Math.acos(l),o=Math.sin(i),u=Math.sin((1-n)*i)/o,h=Math.sin(n*i)/o):(u=1-n,h=n),s[0]=u*c+h*m,s[1]=u*b+h*y,s[2]=u*d+h*x,s[3]=u*g+h*T,s}},8240:function(f){f.exports=function(s){return s||s===0?s.toString():""}},4123:function(f,s,t){var a=t(875);f.exports=function(i,l,o){var u=n[l];if(u||(u=n[l]={}),i in u)return u[i];var h={textAlign:"center",textBaseline:"middle",lineHeight:1,font:l,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},c=a(i,h);h.triangles=!1;var b,d,g=a(i,h);if(o&&o!==1){for(b=0;b<c.positions.length;++b)for(d=0;d<c.positions[b].length;++d)c.positions[b][d]/=o;for(b=0;b<g.positions.length;++b)for(d=0;d<g.positions[b].length;++d)g.positions[b][d]/=o}var m=[[1/0,1/0],[-1/0,-1/0]],y=g.positions.length;for(b=0;b<y;++b){var x=g.positions[b];for(d=0;d<2;++d)m[0][d]=Math.min(m[0][d],x[d]),m[1][d]=Math.max(m[1][d],x[d])}return u[i]=[c,g,m]};var n={}},9282:function(f,s,t){var a=t(5158),n=t(6832),i=n([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),l=n([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),o=n([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),u=n([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),h=n([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],b={vertex:i,fragment:u,attributes:c},d={vertex:l,fragment:u,attributes:c},g={vertex:o,fragment:u,attributes:c},m={vertex:i,fragment:h,attributes:c},y={vertex:l,fragment:h,attributes:c},x={vertex:o,fragment:h,attributes:c};function T(p,S){var M=a(p,S),E=M.attributes;return E.position.location=0,E.color.location=1,E.glyph.location=2,E.id.location=3,M}s.createPerspective=function(p){return T(p,b)},s.createOrtho=function(p){return T(p,d)},s.createProject=function(p){return T(p,g)},s.createPickPerspective=function(p){return T(p,m)},s.createPickOrtho=function(p){return T(p,y)},s.createPickProject=function(p){return T(p,x)}},2182:function(f,s,t){var a=t(3596),n=t(5827),i=t(2944),l=t(5306),o=t(104),u=t(9282),h=t(4123),c=t(8240),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function d(H,te){var Q=H[0],K=H[1],X=H[2],J=H[3];return H[0]=te[0]*Q+te[4]*K+te[8]*X+te[12]*J,H[1]=te[1]*Q+te[5]*K+te[9]*X+te[13]*J,H[2]=te[2]*Q+te[6]*K+te[10]*X+te[14]*J,H[3]=te[3]*Q+te[7]*K+te[11]*X+te[15]*J,H}function g(H,te,Q,K){return d(K,K),d(K,K),d(K,K)}function m(H,te){this.index=H,this.dataCoordinate=this.position=te}function y(H){return H===!0||H>1?1:H}function x(H,te,Q,K,X,J,ee,ie,oe,ae,ce,ge){this.gl=H,this.pixelRatio=1,this.shader=te,this.orthoShader=Q,this.projectShader=K,this.pointBuffer=X,this.colorBuffer=J,this.glyphBuffer=ee,this.idBuffer=ie,this.vao=oe,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ae,this.pickOrthoShader=ce,this.pickProjectShader=ge,this.points=[],this._selectResult=new m(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}f.exports=function(H){var te=H.gl,Q=u.createPerspective(te),K=u.createOrtho(te),X=u.createProject(te),J=u.createPickPerspective(te),ee=u.createPickOrtho(te),ie=u.createPickProject(te),oe=n(te),ae=n(te),ce=n(te),ge=n(te),ve=new x(te,Q,K,X,oe,ae,ce,ge,i(te,[{buffer:oe,size:3,type:te.FLOAT},{buffer:ae,size:4,type:te.FLOAT},{buffer:ce,size:2,type:te.FLOAT},{buffer:ge,size:4,type:te.UNSIGNED_BYTE,normalized:!0}]),J,ee,ie);return ve.update(H),ve};var T=x.prototype;T.pickSlots=1,T.setPickBase=function(H){this.pickId=H},T.isTransparent=function(){if(this.hasAlpha)return!0;for(var H=0;H<3;++H)if(this.axesProject[H]&&this.projectHasAlpha)return!0;return!1},T.isOpaque=function(){if(!this.hasAlpha)return!0;for(var H=0;H<3;++H)if(this.axesProject[H]&&!this.projectHasAlpha)return!0;return!1};var p=[0,0],S=[0,0,0],M=[0,0,0],E=[0,0,0,1],P=[0,0,0,1],O=b.slice(),I=[0,0,0],R=[[0,0,0],[0,0,0]];function U(H){return H[0]=H[1]=H[2]=0,H}function z(H,te){return H[0]=te[0],H[1]=te[1],H[2]=te[2],H[3]=1,H}function j(H,te,Q,K){return H[0]=te[0],H[1]=te[1],H[2]=te[2],H[Q]=K,H}var W=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function F(H,te,Q,K,X,J,ee){var ie=Q.gl;if((J===Q.projectHasAlpha||ee)&&function(ae,ce,ge,ve){var be,we=ce.axesProject,ye=ce.gl,me=ae.uniforms,Ae=ge.model||b,ke=ge.view||b,fe=ge.projection||b,le=ce.axesBounds,de=function(et){for(var ut=R,ot=0;ot<2;++ot)for(var yt=0;yt<3;++yt)ut[ot][yt]=Math.max(Math.min(et[ot][yt],1e8),-1e8);return ut}(ce.clipBounds);be=ce.axes&&ce.axes.lastCubeProps?ce.axes.lastCubeProps.axis:[1,1,1],p[0]=2/ye.drawingBufferWidth,p[1]=2/ye.drawingBufferHeight,ae.bind(),me.view=ke,me.projection=fe,me.screenSize=p,me.highlightId=ce.highlightId,me.highlightScale=ce.highlightScale,me.clipBounds=de,me.pickGroup=ce.pickId/255,me.pixelRatio=ve;for(var Ce=0;Ce<3;++Ce)if(we[Ce]){me.scale=ce.projectScale[Ce],me.opacity=ce.projectOpacity[Ce];for(var Me=O,Le=0;Le<16;++Le)Me[Le]=0;for(Le=0;Le<4;++Le)Me[5*Le]=1;Me[5*Ce]=0,be[Ce]<0?Me[12+Ce]=le[0][Ce]:Me[12+Ce]=le[1][Ce],o(Me,Ae,Me),me.model=Me;var Oe=(Ce+1)%3,Be=(Ce+2)%3,pe=U(S),_e=U(M);pe[Oe]=1,_e[Be]=1;var Te=g(0,0,0,z(E,pe)),Re=g(0,0,0,z(P,_e));if(Math.abs(Te[1])>Math.abs(Re[1])){var Ne=Te;Te=Re,Re=Ne,Ne=pe,pe=_e,_e=Ne;var ze=Oe;Oe=Be,Be=ze}Te[0]<0&&(pe[Oe]=-1),Re[1]>0&&(_e[Be]=-1);var Ge=0,Ye=0;for(Le=0;Le<4;++Le)Ge+=Math.pow(Ae[4*Oe+Le],2),Ye+=Math.pow(Ae[4*Be+Le],2);pe[Oe]/=Math.sqrt(Ge),_e[Be]/=Math.sqrt(Ye),me.axes[0]=pe,me.axes[1]=_e,me.fragClipBounds[0]=j(I,de[0],Ce,-1e8),me.fragClipBounds[1]=j(I,de[1],Ce,1e8),ce.vao.bind(),ce.vao.draw(ye.TRIANGLES,ce.vertexCount),ce.lineWidth>0&&(ye.lineWidth(ce.lineWidth*ve),ce.vao.draw(ye.LINES,ce.lineVertexCount,ce.vertexCount)),ce.vao.unbind()}}(te,Q,K,X),J===Q.hasAlpha||ee){H.bind();var oe=H.uniforms;oe.model=K.model||b,oe.view=K.view||b,oe.projection=K.projection||b,p[0]=2/ie.drawingBufferWidth,p[1]=2/ie.drawingBufferHeight,oe.screenSize=p,oe.highlightId=Q.highlightId,oe.highlightScale=Q.highlightScale,oe.fragClipBounds=W,oe.clipBounds=Q.axes.bounds,oe.opacity=Q.opacity,oe.pickGroup=Q.pickId/255,oe.pixelRatio=X,Q.vao.bind(),Q.vao.draw(ie.TRIANGLES,Q.vertexCount),Q.lineWidth>0&&(ie.lineWidth(Q.lineWidth*X),Q.vao.draw(ie.LINES,Q.lineVertexCount,Q.vertexCount)),Q.vao.unbind()}}function V(H,te,Q,K){var X;X=Array.isArray(H)?te<H.length?H[te]:void 0:H,X=c(X);var J=!0;a(X)&&(X="",J=!1);var ee=h(X,Q,K);return{mesh:ee[0],lines:ee[1],bounds:ee[2],visible:J}}T.draw=function(H){F(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,H,this.pixelRatio,!1,!1)},T.drawTransparent=function(H){F(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,H,this.pixelRatio,!0,!1)},T.drawPick=function(H){F(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,H,1,!0,!0)},T.pick=function(H){if(!H||H.id!==this.pickId)return null;var te=H.value[2]+(H.value[1]<<8)+(H.value[0]<<16);if(te>=this.pointCount||te<0)return null;var Q=this.points[te],K=this._selectResult;K.index=te;for(var X=0;X<3;++X)K.position[X]=K.dataCoordinate[X]=Q[X];return K},T.highlight=function(H){if(H){var te=H.index,Q=255&te,K=te>>8&255,X=te>>16&255;this.highlightId=[Q/255,K/255,X/255,0]}else this.highlightId=[1,1,1,1]},T.update=function(H){if("perspective"in(H=H||{})&&(this.useOrtho=!H.perspective),"orthographic"in H&&(this.useOrtho=!!H.orthographic),"lineWidth"in H&&(this.lineWidth=H.lineWidth),"project"in H)if(Array.isArray(H.project))this.axesProject=H.project;else{var te=!!H.project;this.axesProject=[te,te,te]}if("projectScale"in H)if(Array.isArray(H.projectScale))this.projectScale=H.projectScale.slice();else{var Q=+H.projectScale;this.projectScale=[Q,Q,Q]}if(this.projectHasAlpha=!1,"projectOpacity"in H){Array.isArray(H.projectOpacity)?this.projectOpacity=H.projectOpacity.slice():(Q=+H.projectOpacity,this.projectOpacity=[Q,Q,Q]);for(var K=0;K<3;++K)this.projectOpacity[K]=y(this.projectOpacity[K]),this.projectOpacity[K]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in H&&(this.opacity=y(H.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var X,J,ee=H.position,ie=H.font||"normal",oe=H.alignment||[0,0];if(oe.length===2)X=oe[0],J=oe[1];else for(X=[],J=[],K=0;K<oe.length;++K)X[K]=oe[K][0],J[K]=oe[K][1];var ae=[1/0,1/0,1/0],ce=[-1/0,-1/0,-1/0],ge=H.glyph,ve=H.color,be=H.size,we=H.angle,ye=H.lineColor,me=-1,Ae=0,ke=0,fe=0;if(ee.length){fe=ee.length;e:for(K=0;K<fe;++K){for(var le=ee[K],de=0;de<3;++de)if(isNaN(le[de])||!isFinite(le[de]))continue e;var Ce=(ut=V(ge,K,ie,this.pixelRatio)).mesh,Me=ut.lines,Le=ut.bounds;Ae+=3*Ce.cells.length,ke+=2*Me.edges.length}}var Oe=Ae+ke,Be=l.mallocFloat(3*Oe),pe=l.mallocFloat(4*Oe),_e=l.mallocFloat(2*Oe),Te=l.mallocUint32(Oe);if(Oe>0){var Re=0,Ne=Ae,ze=[0,0,0,1],Ge=[0,0,0,1],Ye=Array.isArray(ve)&&Array.isArray(ve[0]),et=Array.isArray(ye)&&Array.isArray(ye[0]);e:for(K=0;K<fe;++K){for(me+=1,le=ee[K],de=0;de<3;++de){if(isNaN(le[de])||!isFinite(le[de]))continue e;ce[de]=Math.max(ce[de],le[de]),ae[de]=Math.min(ae[de],le[de])}Ce=(ut=V(ge,K,ie,this.pixelRatio)).mesh,Me=ut.lines,Le=ut.bounds;var ut,ot=ut.visible;if(ot)if(Array.isArray(ve)){if((yt=Ye?K<ve.length?ve[K]:[0,0,0,0]:ve).length===3){for(de=0;de<3;++de)ze[de]=yt[de];ze[3]=1}else if(yt.length===4){for(de=0;de<4;++de)ze[de]=yt[de];!this.hasAlpha&&yt[3]<1&&(this.hasAlpha=!0)}}else ze[0]=ze[1]=ze[2]=0,ze[3]=1;else ze=[1,1,1,0];if(ot)if(Array.isArray(ye)){var yt;if((yt=et?K<ye.length?ye[K]:[0,0,0,0]:ye).length===3){for(de=0;de<3;++de)Ge[de]=yt[de];Ge[de]=1}else if(yt.length===4){for(de=0;de<4;++de)Ge[de]=yt[de];!this.hasAlpha&&yt[3]<1&&(this.hasAlpha=!0)}}else Ge[0]=Ge[1]=Ge[2]=0,Ge[3]=1;else Ge=[1,1,1,0];var wt=.5;ot?Array.isArray(be)?wt=K<be.length?+be[K]:12:be?wt=+be:this.useOrtho&&(wt=12):wt=0;var bt=0;Array.isArray(we)?bt=K<we.length?+we[K]:0:we&&(bt=+we);var at=Math.cos(bt),rt=Math.sin(bt);for(le=ee[K],de=0;de<3;++de)ce[de]=Math.max(ce[de],le[de]),ae[de]=Math.min(ae[de],le[de]);var At=X,Rt=J;At=0,Array.isArray(X)?At=K<X.length?X[K]:0:X&&(At=X),Rt=0,Array.isArray(J)?Rt=K<J.length?J[K]:0:J&&(Rt=J);var Ft=[At*=At>0?1-Le[0][0]:At<0?1+Le[1][0]:1,Rt*=Rt>0?1-Le[0][1]:Rt<0?1+Le[1][1]:1],Dt=Ce.cells||[],Xe=Ce.positions||[];for(de=0;de<Dt.length;++de)for(var Ke=Dt[de],Ve=0;Ve<3;++Ve){for(var Je=0;Je<3;++Je)Be[3*Re+Je]=le[Je];for(Je=0;Je<4;++Je)pe[4*Re+Je]=ze[Je];Te[Re]=me;var ct=Xe[Ke[Ve]];_e[2*Re]=wt*(at*ct[0]-rt*ct[1]+Ft[0]),_e[2*Re+1]=wt*(rt*ct[0]+at*ct[1]+Ft[1]),Re+=1}for(Dt=Me.edges,Xe=Me.positions,de=0;de<Dt.length;++de)for(Ke=Dt[de],Ve=0;Ve<2;++Ve){for(Je=0;Je<3;++Je)Be[3*Ne+Je]=le[Je];for(Je=0;Je<4;++Je)pe[4*Ne+Je]=Ge[Je];Te[Ne]=me,ct=Xe[Ke[Ve]],_e[2*Ne]=wt*(at*ct[0]-rt*ct[1]+Ft[0]),_e[2*Ne+1]=wt*(rt*ct[0]+at*ct[1]+Ft[1]),Ne+=1}}}this.bounds=[ae,ce],this.points=ee,this.pointCount=ee.length,this.vertexCount=Ae,this.lineVertexCount=ke,this.pointBuffer.update(Be),this.colorBuffer.update(pe),this.glyphBuffer.update(_e),this.idBuffer.update(Te),l.free(Be),l.free(pe),l.free(_e),l.free(Te)},T.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},1884:function(f,s,t){var a=t(6832);s.boxVertex=a([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),s.boxFragment=a([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(f,s,t){var a=t(5158),n=t(5827),i=t(1884);function l(u,h,c){this.plot=u,this.boxBuffer=h,this.boxShader=c,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}f.exports=function(u,h){var c=u.gl,b=new l(u,n(c,[0,0,0,1,1,0,1,1]),a(c,i.boxVertex,i.boxFragment));return b.update(h),u.addOverlay(b),b};var o=l.prototype;o.draw=function(){if(this.enabled){var u=this.plot,h=this.selectBox,c=this.borderWidth,b=(this.innerFill,this.innerColor),d=(this.outerFill,this.outerColor),g=this.borderColor,m=u.box,y=u.screenBox,x=u.dataBox,T=u.viewBox,p=u.pixelRatio,S=(h[0]-x[0])*(T[2]-T[0])/(x[2]-x[0])+T[0],M=(h[1]-x[1])*(T[3]-T[1])/(x[3]-x[1])+T[1],E=(h[2]-x[0])*(T[2]-T[0])/(x[2]-x[0])+T[0],P=(h[3]-x[1])*(T[3]-T[1])/(x[3]-x[1])+T[1];if(S=Math.max(S,T[0]),M=Math.max(M,T[1]),E=Math.min(E,T[2]),P=Math.min(P,T[3]),!(E<S||P<M)){m.bind();var O=y[2]-y[0],I=y[3]-y[1];if(this.outerFill&&(m.drawBox(0,0,O,M,d),m.drawBox(0,M,S,P,d),m.drawBox(0,P,O,I,d),m.drawBox(E,M,O,P,d)),this.innerFill&&m.drawBox(S,M,E,P,b),c>0){var R=c*p;m.drawBox(S-R,M-R,E+R,M+R,g),m.drawBox(S-R,P-R,E+R,P+R,g),m.drawBox(S-R,M-R,S+R,P+R,g),m.drawBox(E-R,M-R,E+R,P+R,g)}}}},o.update=function(u){u=u||{},this.innerFill=!!u.innerFill,this.outerFill=!!u.outerFill,this.innerColor=(u.innerColor||[0,0,0,.5]).slice(),this.outerColor=(u.outerColor||[0,0,0,.5]).slice(),this.borderColor=(u.borderColor||[0,0,0,1]).slice(),this.borderWidth=u.borderWidth||0,this.selectBox=(u.selectBox||this.selectBox).slice()},o.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},2611:function(f,s,t){f.exports=function(c,b){var d=b[0],g=b[1];return new u(c,a(c,d,g,{}),n.mallocUint8(d*g*4))};var a=t(4234),n=t(5306),i=t(5050),l=t(2288).nextPow2;function o(c,b,d,g,m){this.coord=[c,b],this.id=d,this.value=g,this.distance=m}function u(c,b,d){this.gl=c,this.fbo=b,this.buffer=d,this._readTimeout=null;var g=this;this._readCallback=function(){g.gl&&(b.bind(),c.readPixels(0,0,b.shape[0],b.shape[1],c.RGBA,c.UNSIGNED_BYTE,g.buffer),g._readTimeout=null)}}var h=u.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var b=this.fbo.shape[0],d=this.fbo.shape[1];if(d*b*4>this.buffer.length){n.free(this.buffer);for(var g=this.buffer=n.mallocUint8(l(d*b*4)),m=0;m<d*b*4;++m)g[m]=255}return c}}}),h.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},h.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(c,b,d){if(!this.gl)return null;var g=this.fbo.shape.slice();c|=0,b|=0,typeof d!="number"&&(d=1);var m=0|Math.min(Math.max(c-d,0),g[0]),y=0|Math.min(Math.max(c+d,0),g[0]),x=0|Math.min(Math.max(b-d,0),g[1]),T=0|Math.min(Math.max(b+d,0),g[1]);if(y<=m||T<=x)return null;var p=[y-m,T-x],S=i(this.buffer,[p[0],p[1],4],[4,4*g[0],1],4*(m+g[0]*x)),M=function(O,I,R){for(var U=1e8,z=-1,j=-1,W=O.shape[0],F=O.shape[1],V=0;V<W;V++)for(var H=0;H<F;H++){var te=O.get(V,H,0),Q=O.get(V,H,1),K=O.get(V,H,2),X=O.get(V,H,3);if(te<255||Q<255||K<255||X<255){var J=I-V,ee=R-H,ie=J*J+ee*ee;ie<U&&(U=ie,z=V,j=H)}}return[z,j,U]}(S.hi(p[0],p[1],1),d,d),E=M[0],P=M[1];return E<0||Math.pow(this.radius,2)<M[2]?null:new o(E+m|0,P+x|0,S.get(E,P,0),[S.get(E,P,1),S.get(E,P,2),S.get(E,P,3)],Math.sqrt(M[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),n.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},5158:function(f,s,t){var a=t(9016),n=t(4280),i=t(3984),l=t(1628),o=t(2631),u=t(9068);function h(d){this.gl=d,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=h.prototype;function b(d,g){return d.name<g.name?-1:1}c.bind=function(){var d;this.program||this._relink();var g=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),m=this.gl.lastAttribCount;if(g>m)for(d=m;d<g;d++)this.gl.enableVertexAttribArray(d);else if(m>g)for(d=g;d<m;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=g,this.gl.useProgram(this.program)},c.dispose=function(){for(var d=this.gl.lastAttribCount,g=0;g<d;g++)this.gl.disableVertexAttribArray(g);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},c.update=function(d,g,m,y){if(!g||arguments.length===1){var x=d;d=x.vertex,g=x.fragment,m=x.uniforms,y=x.attributes}var T=this,p=T.gl,S=T._vref;T._vref=l.shader(p,p.VERTEX_SHADER,d),S&&S.dispose(),T.vertShader=T._vref.shader;var M=this._fref;if(T._fref=l.shader(p,p.FRAGMENT_SHADER,g),M&&M.dispose(),T.fragShader=T._fref.shader,!m||!y){var E=p.createProgram();if(p.attachShader(E,T.fragShader),p.attachShader(E,T.vertShader),p.linkProgram(E),!p.getProgramParameter(E,p.LINK_STATUS)){var P=p.getProgramInfoLog(E);throw new u(P,"Error linking program:"+P)}m=m||o.uniforms(p,E),y=y||o.attributes(p,E),p.deleteProgram(E)}(y=y.slice()).sort(b);var O,I=[],R=[],U=[];for(O=0;O<y.length;++O){var z=y[O];if(z.type.indexOf("mat")>=0){for(var j=0|z.type.charAt(z.type.length-1),W=new Array(j),F=0;F<j;++F)W[F]=U.length,R.push(z.name+"["+F+"]"),typeof z.location=="number"?U.push(z.location+F):Array.isArray(z.location)&&z.location.length===j&&typeof z.location[F]=="number"?U.push(0|z.location[F]):U.push(-1);I.push({name:z.name,type:z.type,locations:W})}else I.push({name:z.name,type:z.type,locations:[U.length]}),R.push(z.name),typeof z.location=="number"?U.push(0|z.location):U.push(-1)}var V=0;for(O=0;O<U.length;++O)if(U[O]<0){for(;U.indexOf(V)>=0;)V+=1;U[O]=V}var H=new Array(m.length);function te(){T.program=l.program(p,T._vref,T._fref,R,U);for(var Q=0;Q<m.length;++Q)H[Q]=p.getUniformLocation(T.program,m[Q].name)}te(),T._relink=te,T.types={uniforms:i(m),attributes:i(y)},T.attributes=n(p,T,I,U),Object.defineProperty(T,"uniforms",a(p,T,m,H))},f.exports=function(d,g,m,y,x){var T=new h(d);return T.update(g,m,y,x),T}},9068:function(f){function s(t,a,n){this.shortMessage=a||"",this.longMessage=n||"",this.rawError=t||"",this.message="gl-shader: "+(a||t||"")+(n?`
`+n:""),this.stack=new Error().stack}s.prototype=new Error,s.prototype.name="GLError",s.prototype.constructor=s,f.exports=s},4280:function(f,s,t){f.exports=function(h,c,b,d){for(var g={},m=0,y=b.length;m<y;++m){var x=b[m],T=x.name,p=x.type,S=x.locations;switch(p){case"bool":case"int":case"float":o(h,c,S[0],d,1,g,T);break;default:if(p.indexOf("vec")>=0){if((M=p.charCodeAt(p.length-1)-48)<2||M>4)throw new a("","Invalid data type for attribute "+T+": "+p);o(h,c,S[0],d,M,g,T)}else{if(!(p.indexOf("mat")>=0))throw new a("","Unknown data type for attribute "+T+": "+p);var M;if((M=p.charCodeAt(p.length-1)-48)<2||M>4)throw new a("","Invalid data type for attribute "+T+": "+p);u(h,c,S,d,M,g,T)}}}return g};var a=t(9068);function n(h,c,b,d,g,m){this._gl=h,this._wrapper=c,this._index=b,this._locations=d,this._dimension=g,this._constFunc=m}var i=n.prototype;i.pointer=function(h,c,b,d){var g=this,m=g._gl,y=g._locations[g._index];m.vertexAttribPointer(y,g._dimension,h||m.FLOAT,!!c,b||0,d||0),m.enableVertexAttribArray(y)},i.set=function(h,c,b,d){return this._constFunc(this._locations[this._index],h,c,b,d)},Object.defineProperty(i,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=0|h,this._wrapper.program=null),0|h}});var l=[function(h,c,b){return b.length===void 0?h.vertexAttrib1f(c,b):h.vertexAttrib1fv(c,b)},function(h,c,b,d){return b.length===void 0?h.vertexAttrib2f(c,b,d):h.vertexAttrib2fv(c,b)},function(h,c,b,d,g){return b.length===void 0?h.vertexAttrib3f(c,b,d,g):h.vertexAttrib3fv(c,b)},function(h,c,b,d,g,m){return b.length===void 0?h.vertexAttrib4f(c,b,d,g,m):h.vertexAttrib4fv(c,b)}];function o(h,c,b,d,g,m,y){var x=l[g],T=new n(h,c,b,d,g,x);Object.defineProperty(m,y,{set:function(p){return h.disableVertexAttribArray(d[b]),x(h,d[b],p),p},get:function(){return T},enumerable:!0})}function u(h,c,b,d,g,m,y){for(var x=new Array(g),T=new Array(g),p=0;p<g;++p)o(h,c,b[p],d,g,x,p),T[p]=x[p];Object.defineProperty(x,"location",{set:function(E){if(Array.isArray(E))for(var P=0;P<g;++P)T[P].location=E[P];else for(P=0;P<g;++P)T[P].location=E+P;return E},get:function(){for(var E=new Array(g),P=0;P<g;++P)E[P]=d[b[P]];return E},enumerable:!0}),x.pointer=function(E,P,O,I){E=E||h.FLOAT,P=!!P,O=O||g*g,I=I||0;for(var R=0;R<g;++R){var U=d[b[R]];h.vertexAttribPointer(U,g,E,P,O,I+R*g),h.enableVertexAttribArray(U)}};var S=new Array(g),M=h["vertexAttrib"+g+"fv"];Object.defineProperty(m,y,{set:function(E){for(var P=0;P<g;++P){var O=d[b[P]];if(h.disableVertexAttribArray(O),Array.isArray(E[0]))M.call(h,O,E[P]);else{for(var I=0;I<g;++I)S[I]=E[g*P+I];M.call(h,O,S)}}return E},get:function(){return x},enumerable:!0})}},9016:function(f,s,t){var a=t(3984),n=t(9068);function i(o){return function(){return o}}function l(o,u){for(var h=new Array(o),c=0;c<o;++c)h[c]=u;return h}f.exports=function(o,u,h,c){function b(x){return function(T){for(var p=d("",x),S=0;S<p.length;++S){var M=p[S],E=M[0],P=M[1];if(c[P]){var O=T;if(typeof E=="string"&&(E.indexOf(".")===0||E.indexOf("[")===0)){var I=E;if(E.indexOf(".")===0&&(I=E.slice(1)),I.indexOf("]")===I.length-1){var R=I.indexOf("["),U=I.slice(0,R),z=I.slice(R+1,I.length-1);O=U?T[U][z]:T[z]}else O=T[I]}var j,W=h[P].type;switch(W){case"bool":case"int":case"sampler2D":case"samplerCube":o.uniform1i(c[P],O);break;case"float":o.uniform1f(c[P],O);break;default:var F=W.indexOf("vec");if(!(0<=F&&F<=1&&W.length===4+F)){if(W.indexOf("mat")===0&&W.length===4){if((j=W.charCodeAt(W.length-1)-48)<2||j>4)throw new n("","Invalid uniform dimension type for matrix "+name+": "+W);o["uniformMatrix"+j+"fv"](c[P],!1,O);break}throw new n("","Unknown uniform data type for "+name+": "+W)}if((j=W.charCodeAt(W.length-1)-48)<2||j>4)throw new n("","Invalid data type");switch(W.charAt(0)){case"b":case"i":o["uniform"+j+"iv"](c[P],O);break;case"v":o["uniform"+j+"fv"](c[P],O);break;default:throw new n("","Unrecognized data type for vector "+name+": "+W)}}}}}}function d(x,T){if(typeof T!="object")return[[x,T]];var p=[];for(var S in T){var M=T[S],E=x;parseInt(S)+""===S?E+="["+S+"]":E+="."+S,typeof M=="object"?p.push.apply(p,d(E,M)):p.push([E,M])}return p}function g(x,T,p){if(typeof p=="object"){var S=m(p);Object.defineProperty(x,T,{get:i(S),set:b(p),enumerable:!0,configurable:!1})}else c[p]?Object.defineProperty(x,T,{get:(M=p,function(E,P,O){return E.getUniform(P.program,O[M])}),set:b(p),enumerable:!0,configurable:!1}):x[T]=function(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var P=E.indexOf("vec");if(0<=P&&P<=1&&E.length===4+P){if((O=E.charCodeAt(E.length-1)-48)<2||O>4)throw new n("","Invalid data type");return E.charAt(0)==="b"?l(O,!1):l(O,0)}if(E.indexOf("mat")===0&&E.length===4){var O;if((O=E.charCodeAt(E.length-1)-48)<2||O>4)throw new n("","Invalid uniform dimension type for matrix "+name+": "+E);return l(O*O,0)}throw new n("","Unknown uniform data type for "+name+": "+E)}}(h[p].type);var M}function m(x){var T;if(Array.isArray(x)){T=new Array(x.length);for(var p=0;p<x.length;++p)g(T,p,x[p])}else for(var S in T={},x)g(T,S,x[S]);return T}var y=a(h,!0);return{get:i(m(y)),set:b(y),enumerable:!0,configurable:!0}}},3984:function(f){f.exports=function(s,t){for(var a={},n=0;n<s.length;++n)for(var i=s[n].name.split("."),l=a,o=0;o<i.length;++o){var u=i[o].split("[");if(u.length>1){u[0]in l||(l[u[0]]=[]),l=l[u[0]];for(var h=1;h<u.length;++h){var c=parseInt(u[h]);h<u.length-1||o<i.length-1?(c in l||(h<u.length-1?l[c]=[]:l[c]={}),l=l[c]):l[c]=t?n:s[n].type}}else o<i.length-1?(u[0]in l||(l[u[0]]={}),l=l[u[0]]):l[u[0]]=t?n:s[n].type}return a}},2631:function(f,s){s.uniforms=function(i,l){for(var o=i.getProgramParameter(l,i.ACTIVE_UNIFORMS),u=[],h=0;h<o;++h){var c=i.getActiveUniform(l,h);if(c){var b=n(i,c.type);if(c.size>1)for(var d=0;d<c.size;++d)u.push({name:c.name.replace("[0]","["+d+"]"),type:b});else u.push({name:c.name,type:b})}}return u},s.attributes=function(i,l){for(var o=i.getProgramParameter(l,i.ACTIVE_ATTRIBUTES),u=[],h=0;h<o;++h){var c=i.getActiveAttrib(l,h);c&&u.push({name:c.name,type:n(i,c.type)})}return u};var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},a=null;function n(i,l){if(!a){var o=Object.keys(t);a={};for(var u=0;u<o.length;++u){var h=o[u];a[i[h]]=t[h]}}return a[l]}},1628:function(f,s,t){s.shader=function(b,d,g){return c(b).getShaderReference(d,g)},s.program=function(b,d,g,m,y){return c(b).getProgram(d,g,m,y)};var a=t(9068),n=t(3530),i=new(typeof WeakMap>"u"?t(4037):WeakMap),l=0;function o(b,d,g,m,y,x,T){this.id=b,this.src=d,this.type=g,this.shader=m,this.count=x,this.programs=[],this.cache=T}function u(b){this.gl=b,this.shaders=[{},{}],this.programs={}}o.prototype.dispose=function(){if(--this.count==0){for(var b=this.cache,d=b.gl,g=this.programs,m=0,y=g.length;m<y;++m){var x=b.programs[g[m]];x&&(delete b.programs[m],d.deleteProgram(x))}d.deleteShader(this.shader),delete b.shaders[this.type===d.FRAGMENT_SHADER|0][this.src]}};var h=u.prototype;function c(b){var d=i.get(b);return d||(d=new u(b),i.set(b,d)),d}h.getShaderReference=function(b,d){var g=this.gl,m=this.shaders[b===g.FRAGMENT_SHADER|0],y=m[d];if(y&&g.isShader(y.shader))y.count+=1;else{var x=function(T,p,S){var M=T.createShader(p);if(T.shaderSource(M,S),T.compileShader(M),!T.getShaderParameter(M,T.COMPILE_STATUS)){var E=T.getShaderInfoLog(M);try{var P=n(E,S,p)}catch(O){throw console.warn("Failed to format compiler error: "+O),new a(E,`Error compiling shader:
`+E)}throw new a(E,P.short,P.long)}return M}(g,b,d);y=m[d]=new o(l++,d,b,x,[],1,this)}return y},h.getProgram=function(b,d,g,m){var y=[b.id,d.id,g.join(":"),m.join(":")].join("@"),x=this.programs[y];return x&&this.gl.isProgram(x)||(this.programs[y]=x=function(T,p,S,M,E){var P=T.createProgram();T.attachShader(P,p),T.attachShader(P,S);for(var O=0;O<M.length;++O)T.bindAttribLocation(P,E[O],M[O]);if(T.linkProgram(P),!T.getProgramParameter(P,T.LINK_STATUS)){var I=T.getProgramInfoLog(P);throw new a(I,"Error linking program: "+I)}return P}(this.gl,b.shader,d.shader,g,m),b.programs.push(y),d.programs.push(y)),x}},3050:function(f){function s(a){this.plot=a,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}f.exports=function(a,n){var i=new s(a);return i.update(n),a.addOverlay(i),i};var t=s.prototype;t.update=function(a){a=a||{},this.enable=(a.enable||[!0,!0,!1,!1]).slice(),this.width=(a.width||[1,1,1,1]).slice(),this.color=(a.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(a.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var a=this.enable,n=this.width,i=this.color,l=this.center,o=this.plot,u=o.line,h=o.dataBox,c=o.viewBox;if(u.bind(),h[0]<=l[0]&&l[0]<=h[2]&&h[1]<=l[1]&&l[1]<=h[3]){var b=c[0]+(l[0]-h[0])/(h[2]-h[0])*(c[2]-c[0]),d=c[1]+(l[1]-h[1])/(h[3]-h[1])*(c[3]-c[1]);a[0]&&u.drawLine(b,d,c[0],d,n[0],i[0]),a[1]&&u.drawLine(b,d,b,c[1],n[1],i[1]),a[2]&&u.drawLine(b,d,c[2],d,n[2],i[2]),a[3]&&u.drawLine(b,d,b,c[3],n[3],i[3])}},t.dispose=function(){this.plot.removeOverlay(this)}},3540:function(f,s,t){var a=t(6832),n=t(5158),i=a([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),l=a([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);f.exports=function(o){return n(o,i,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(f,s,t){var a=t(5827),n=t(2944),i=t(3540);f.exports=function(d,g){var m=[];function y(M,E,P,O,I,R){var U=[M,E,P,0,0,0,1];U[O+3]=1,U[O]=I,m.push.apply(m,U),U[6]=-1,m.push.apply(m,U),U[O]=R,m.push.apply(m,U),m.push.apply(m,U),U[6]=1,m.push.apply(m,U),U[O]=I,m.push.apply(m,U)}y(0,0,0,0,0,1),y(0,0,0,1,0,1),y(0,0,0,2,0,1),y(1,0,0,1,-1,1),y(1,0,0,2,-1,1),y(0,1,0,0,-1,1),y(0,1,0,2,-1,1),y(0,0,1,0,-1,1),y(0,0,1,1,-1,1);var x=a(d,m),T=n(d,[{type:d.FLOAT,buffer:x,size:3,offset:0,stride:28},{type:d.FLOAT,buffer:x,size:3,offset:12,stride:28},{type:d.FLOAT,buffer:x,size:1,offset:24,stride:28}]),p=i(d);p.attributes.position.location=0,p.attributes.color.location=1,p.attributes.weight.location=2;var S=new o(d,x,T,p);return S.update(g),S};var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function o(d,g,m,y){this.gl=d,this.buffer=g,this.vao=m,this.shader=y,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=o.prototype,h=[0,0,0],c=[0,0,0],b=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(d){},u.draw=function(d){var g=this.gl,m=this.vao,y=this.shader;m.bind(),y.bind();var x,T=d.model||l,p=d.view||l,S=d.projection||l;this.axes&&(x=this.axes.lastCubeProps.axis);for(var M=h,E=c,P=0;P<3;++P)x&&x[P]<0?(M[P]=this.bounds[0][P],E[P]=this.bounds[1][P]):(M[P]=this.bounds[1][P],E[P]=this.bounds[0][P]);for(b[0]=g.drawingBufferWidth,b[1]=g.drawingBufferHeight,y.uniforms.model=T,y.uniforms.view=p,y.uniforms.projection=S,y.uniforms.coordinates=[this.position,M,E],y.uniforms.colors=this.colors,y.uniforms.screenShape=b,P=0;P<3;++P)y.uniforms.lineWidth=this.lineWidth[P]*this.pixelRatio,this.enabled[P]&&(m.draw(g.TRIANGLES,6,6*P),this.drawSides[P]&&m.draw(g.TRIANGLES,12,18+12*P));m.unbind()},u.update=function(d){d&&("bounds"in d&&(this.bounds=d.bounds),"position"in d&&(this.position=d.position),"lineWidth"in d&&(this.lineWidth=d.lineWidth),"colors"in d&&(this.colors=d.colors),"enabled"in d&&(this.enabled=d.enabled),"drawSides"in d&&(this.drawSides=d.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},9578:function(f,s,t){var a=t(6832),n=a([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),i=a([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),l=a([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),o=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);s.meshShader={vertex:n,fragment:i,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},s.pickShader={vertex:l,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(f,s,t){var a=t(2858),n=t(4020),i=["xyz","xzy","yxz","yzx","zxy","zyx"],l=function(b,d){var g,m=b.length;for(g=0;g<m;g++){var y=b[g];if(y===d)return g;if(y>d)return g-1}return g},o=function(b,d,g){return b<d?d:b>g?g:b},u=function(b){var d=1/0;b.sort(function(x,T){return x-T});for(var g=b.length,m=1;m<g;m++){var y=Math.abs(b[m]-b[m-1]);y<d&&(d=y)}return d};f.exports=function(b,d){var g=b.startingPositions,m=b.maxLength||1e3,y=b.tubeSize||1,x=b.absoluteTubeSize,T=b.gridFill||"+x+y+z",p={};T.indexOf("-x")!==-1&&(p.reversedX=!0),T.indexOf("-y")!==-1&&(p.reversedY=!0),T.indexOf("-z")!==-1&&(p.reversedZ=!0),p.filled=i.indexOf(T.replace(/-/g,"").replace(/\+/g,""));var S=b.getVelocity||function(ye){return function(me,Ae,ke){var fe=Ae.vectors,le=Ae.meshgrid,de=me[0],Ce=me[1],Me=me[2],Le=le[0].length,Oe=le[1].length,Be=le[2].length,pe=l(le[0],de),_e=l(le[1],Ce),Te=l(le[2],Me),Re=pe+1,Ne=_e+1,ze=Te+1;if(pe=o(pe,0,Le-1),Re=o(Re,0,Le-1),_e=o(_e,0,Oe-1),Ne=o(Ne,0,Oe-1),Te=o(Te,0,Be-1),ze=o(ze,0,Be-1),pe<0||_e<0||Te<0||Re>Le-1||Ne>Oe-1||ze>Be-1)return a.create();var Ge,Ye,et,ut,ot,yt,wt=le[0][pe],bt=le[0][Re],at=le[1][_e],rt=le[1][Ne],At=le[2][Te],Rt=(de-wt)/(bt-wt),Ft=(Ce-at)/(rt-at),Dt=(Me-At)/(le[2][ze]-At);switch(isFinite(Rt)||(Rt=.5),isFinite(Ft)||(Ft=.5),isFinite(Dt)||(Dt=.5),ke.reversedX&&(pe=Le-1-pe,Re=Le-1-Re),ke.reversedY&&(_e=Oe-1-_e,Ne=Oe-1-Ne),ke.reversedZ&&(Te=Be-1-Te,ze=Be-1-ze),ke.filled){case 5:ot=Te,yt=ze,et=_e*Be,ut=Ne*Be,Ge=pe*Be*Oe,Ye=Re*Be*Oe;break;case 4:ot=Te,yt=ze,Ge=pe*Be,Ye=Re*Be,et=_e*Be*Le,ut=Ne*Be*Le;break;case 3:et=_e,ut=Ne,ot=Te*Oe,yt=ze*Oe,Ge=pe*Oe*Be,Ye=Re*Oe*Be;break;case 2:et=_e,ut=Ne,Ge=pe*Oe,Ye=Re*Oe,ot=Te*Oe*Le,yt=ze*Oe*Le;break;case 1:Ge=pe,Ye=Re,ot=Te*Le,yt=ze*Le,et=_e*Le*Be,ut=Ne*Le*Be;break;default:Ge=pe,Ye=Re,et=_e*Le,ut=Ne*Le,ot=Te*Le*Oe,yt=ze*Le*Oe}var Xe=fe[Ge+et+ot],Ke=fe[Ge+et+yt],Ve=fe[Ge+ut+ot],Je=fe[Ge+ut+yt],ct=fe[Ye+et+ot],st=fe[Ye+et+yt],je=fe[Ye+ut+ot],Ue=fe[Ye+ut+yt],lt=a.create(),Qe=a.create(),gt=a.create(),mt=a.create();a.lerp(lt,Xe,ct,Rt),a.lerp(Qe,Ke,st,Rt),a.lerp(gt,Ve,je,Rt),a.lerp(mt,Je,Ue,Rt);var xt=a.create(),dt=a.create();a.lerp(xt,lt,gt,Ft),a.lerp(dt,Qe,mt,Ft);var Lt=a.create();return a.lerp(Lt,xt,dt,Dt),Lt}(ye,b,p)},M=b.getDivergence||function(ye,me){var Ae=a.create(),ke=1e-4;a.add(Ae,ye,[ke,0,0]);var fe=S(Ae);a.subtract(fe,fe,me),a.scale(fe,fe,1/ke),a.add(Ae,ye,[0,ke,0]);var le=S(Ae);a.subtract(le,le,me),a.scale(le,le,1/ke),a.add(Ae,ye,[0,0,ke]);var de=S(Ae);return a.subtract(de,de,me),a.scale(de,de,1/ke),a.add(Ae,fe,le),a.add(Ae,Ae,de),Ae},E=[],P=d[0][0],O=d[0][1],I=d[0][2],R=d[1][0],U=d[1][1],z=d[1][2],j=function(ye){var me=ye[0],Ae=ye[1],ke=ye[2];return!(me<P||me>R||Ae<O||Ae>U||ke<I||ke>z)},W=10*a.distance(d[0],d[1])/m,F=W*W,V=1,H=0,te=g.length;te>1&&(V=function(ye){for(var me=[],Ae=[],ke=[],fe={},le={},de={},Ce=ye.length,Me=0;Me<Ce;Me++){var Le=ye[Me],Oe=Le[0],Be=Le[1],pe=Le[2];fe[Oe]||(me.push(Oe),fe[Oe]=!0),le[Be]||(Ae.push(Be),le[Be]=!0),de[pe]||(ke.push(pe),de[pe]=!0)}var _e=u(me),Te=u(Ae),Re=u(ke),Ne=Math.min(_e,Te,Re);return isFinite(Ne)?Ne:1}(g));for(var Q=0;Q<te;Q++){var K=a.create();a.copy(K,g[Q]);var X=[K],J=[],ee=S(K),ie=K;J.push(ee);var oe=[],ae=M(K,ee),ce=a.length(ae);isFinite(ce)&&ce>H&&(H=ce),oe.push(ce),E.push({points:X,velocities:J,divergences:oe});for(var ge=0;ge<100*m&&X.length<m&&j(K);){ge++;var ve=a.clone(ee),be=a.squaredLength(ve);if(be===0)break;be>F&&a.scale(ve,ve,W/Math.sqrt(be)),a.add(ve,ve,K),ee=S(ve),a.squaredDistance(ie,ve)-F>-1e-4*F&&(X.push(ve),ie=ve,J.push(ee),ae=M(ve,ee),ce=a.length(ae),isFinite(ce)&&ce>H&&(H=ce),oe.push(ce)),K=ve}}var we=function(ye,me,Ae,ke){for(var fe=0,le=0;le<ye.length;le++)for(var de=ye[le].velocities,Ce=0;Ce<de.length;Ce++)fe=Math.max(fe,a.length(de[Ce]));var Me=ye.map(function(Ge){return function(Ye,et,ut,ot){for(var yt=Ye.points,wt=Ye.velocities,bt=Ye.divergences,at=[],rt=[],At=[],Rt=[],Ft=[],Dt=[],Xe=0,Ke=0,Ve=n.create(),Je=n.create(),ct=0;ct<yt.length;ct++){var st=yt[ct],je=wt[ct],Ue=bt[ct];et===0&&(Ue=.05*ut),Ke=a.length(je)/ot,Ve=n.create(),a.copy(Ve,je),Ve[3]=Ue;for(var lt=0;lt<8;lt++)Ft[lt]=[st[0],st[1],st[2],lt];if(Rt.length>0)for(lt=0;lt<8;lt++){var Qe=(lt+1)%8;at.push(Rt[lt],Ft[lt],Ft[Qe],Ft[Qe],Rt[Qe],Rt[lt]),At.push(Je,Ve,Ve,Ve,Je,Je),Dt.push(Xe,Ke,Ke,Ke,Xe,Xe);var gt=at.length;rt.push([gt-6,gt-5,gt-4],[gt-3,gt-2,gt-1])}var mt=Rt;Rt=Ft,Ft=mt;var xt=Je;Je=Ve,Ve=xt;var dt=Xe;Xe=Ke,Ke=dt}return{positions:at,cells:rt,vectors:At,vertexIntensity:Dt}}(Ge,Ae,ke,fe)}),Le=[],Oe=[],Be=[],pe=[];for(le=0;le<Me.length;le++){var _e=Me[le],Te=Le.length;for(Le=Le.concat(_e.positions),Be=Be.concat(_e.vectors),pe=pe.concat(_e.vertexIntensity),Ce=0;Ce<_e.cells.length;Ce++){var Re=_e.cells[Ce],Ne=[];Oe.push(Ne);for(var ze=0;ze<Re.length;ze++)Ne.push(Re[ze]+Te)}}return{positions:Le,cells:Oe,vectors:Be,vertexIntensity:pe,colormap:me}}(E,b.colormap,H,V);return x?we.tubeScale=x:(H===0&&(H=1),we.tubeScale=.5*y*V/H),we};var h=t(9578),c=t(1140).createMesh;f.exports.createTubeMesh=function(b,d){return c(b,d,{shaders:h,traceType:"streamtube"})}},9054:function(f,s,t){var a=t(5158),n=t(6832),i=n([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),l=n([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),o=n([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),u=n([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);s.createShader=function(h){var c=a(h,i,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},s.createPickShader=function(h){var c=a(h,i,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},s.createContourShader=function(h){var c=a(h,o,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},s.createPickContourShader=function(h){var c=a(h,o,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},3754:function(f,s,t){f.exports=function(ae){var ce=ae.gl,ge=p(ce),ve=M(ce),be=S(ce),we=E(ce),ye=n(ce),me=i(ce,[{buffer:ye,size:4,stride:P,offset:0},{buffer:ye,size:3,stride:P,offset:16},{buffer:ye,size:3,stride:P,offset:28}]),Ae=n(ce),ke=i(ce,[{buffer:Ae,size:4,stride:20,offset:0},{buffer:Ae,size:1,stride:20,offset:16}]),fe=n(ce),le=i(ce,[{buffer:fe,size:2,type:ce.FLOAT}]),de=l(ce,1,z,ce.RGBA,ce.UNSIGNED_BYTE);de.minFilter=ce.LINEAR,de.magFilter=ce.LINEAR;var Ce=new j(ce,[0,0],[[0,0,0],[0,0,0]],ge,ve,ye,me,de,be,we,Ae,ke,fe,le,[0,0,0]),Me={levels:[[],[],[]]};for(var Le in ae)Me[Le]=ae[Le];return Me.colormap=Me.colormap||"jet",Ce.update(Me),Ce};var a=t(2288),n=t(5827),i=t(2944),l=t(8931),o=t(5306),u=t(9156),h=t(7498),c=t(7382),b=t(5050),d=t(4162),g=t(104),m=t(7437),y=t(5070),x=t(9144),T=t(9054),p=T.createShader,S=T.createContourShader,M=T.createPickShader,E=T.createPickContourShader,P=40,O=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],I=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],R=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function U(ae,ce,ge,ve,be){this.position=ae,this.index=ce,this.uv=ge,this.level=ve,this.dataCoordinate=be}(function(){for(var ae=0;ae<3;++ae){var ce=R[ae],ge=(ae+2)%3;ce[(ae+1)%3+0]=1,ce[ge+3]=1,ce[ae+6]=1}})();var z=256;function j(ae,ce,ge,ve,be,we,ye,me,Ae,ke,fe,le,de,Ce,Me){this.gl=ae,this.shape=ce,this.bounds=ge,this.objectOffset=Me,this.intensityBounds=[],this._shader=ve,this._pickShader=be,this._coordinateBuffer=we,this._vao=ye,this._colorMap=me,this._contourShader=Ae,this._contourPickShader=ke,this._contourBuffer=fe,this._contourVAO=le,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new U([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=de,this._dynamicVAO=Ce,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[b(o.mallocFloat(1024),[0,0]),b(o.mallocFloat(1024),[0,0]),b(o.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var W=j.prototype;W.genColormap=function(ae,ce){var ge=!1,ve=c([u({colormap:ae,nshades:z,format:"rgba"}).map(function(be,we){var ye=ce?function(me,Ae){if(!Ae||!Ae.length)return 1;for(var ke=0;ke<Ae.length;++ke){if(Ae.length<2)return 1;if(Ae[ke][0]===me)return Ae[ke][1];if(Ae[ke][0]>me&&ke>0){var fe=(Ae[ke][0]-me)/(Ae[ke][0]-Ae[ke-1][0]);return Ae[ke][1]*(1-fe)+fe*Ae[ke-1][1]}}return 1}(we/255,ce):be[3];return ye<1&&(ge=!0),[be[0],be[1],be[2],255*ye]})]);return h.divseq(ve,255),this.hasAlphaScale=ge,ve},W.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},W.isOpaque=function(){return!this.isTransparent()},W.pickSlots=1,W.setPickBase=function(ae){this.pickId=ae};var F=[0,0,0],V={showSurface:!1,showContour:!1,projections:[O.slice(),O.slice(),O.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function H(ae,ce){var ge,ve,be,we=ce.axes&&ce.axes.lastCubeProps.axis||F,ye=ce.showSurface,me=ce.showContour;for(ge=0;ge<3;++ge)for(ye=ye||ce.surfaceProject[ge],ve=0;ve<3;++ve)me=me||ce.contourProject[ge][ve];for(ge=0;ge<3;++ge){var Ae=V.projections[ge];for(ve=0;ve<16;++ve)Ae[ve]=0;for(ve=0;ve<4;++ve)Ae[5*ve]=1;Ae[5*ge]=0,Ae[12+ge]=ce.axesBounds[+(we[ge]>0)][ge],g(Ae,ae.model,Ae);var ke=V.clipBounds[ge];for(be=0;be<2;++be)for(ve=0;ve<3;++ve)ke[be][ve]=ae.clipBounds[be][ve];ke[0][ge]=-1e8,ke[1][ge]=1e8}return V.showSurface=ye,V.showContour=me,V}var te={model:O,view:O,projection:O,inverseModel:O.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},Q=O.slice(),K=[1,0,0,0,1,0,0,0,1];function X(ae,ce){ae=ae||{};var ge=this.gl;ge.disable(ge.CULL_FACE),this._colorMap.bind(0);var ve=te;ve.model=ae.model||O,ve.view=ae.view||O,ve.projection=ae.projection||O,ve.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ve.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ve.objectOffset=this.objectOffset,ve.contourColor=this.contourColor[0],ve.inverseModel=m(ve.inverseModel,ve.model);for(var be=0;be<2;++be)for(var we=ve.clipBounds[be],ye=0;ye<3;++ye)we[ye]=Math.min(Math.max(this.clipBounds[be][ye],-1e8),1e8);ve.kambient=this.ambientLight,ve.kdiffuse=this.diffuseLight,ve.kspecular=this.specularLight,ve.roughness=this.roughness,ve.fresnel=this.fresnel,ve.opacity=this.opacity,ve.height=0,ve.permutation=K,ve.vertexColor=this.vertexColor;var me=Q;for(g(me,ve.view,ve.model),g(me,ve.projection,me),m(me,me),be=0;be<3;++be)ve.eyePosition[be]=me[12+be]/me[15];var Ae=me[15];for(be=0;be<3;++be)Ae+=this.lightPosition[be]*me[4*be+3];for(be=0;be<3;++be){var ke=me[12+be];for(ye=0;ye<3;++ye)ke+=me[4*ye+be]*this.lightPosition[ye];ve.lightPosition[be]=ke/Ae}var fe=H(ve,this);if(fe.showSurface){for(this._shader.bind(),this._shader.uniforms=ve,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(ge.TRIANGLES,this._vertexCount),be=0;be<3;++be)this.surfaceProject[be]&&this.vertexCount&&(this._shader.uniforms.model=fe.projections[be],this._shader.uniforms.clipBounds=fe.clipBounds[be],this._vao.draw(ge.TRIANGLES,this._vertexCount));this._vao.unbind()}if(fe.showContour){var le=this._contourShader;ve.kambient=1,ve.kdiffuse=0,ve.kspecular=0,ve.opacity=1,le.bind(),le.uniforms=ve;var de=this._contourVAO;for(de.bind(),be=0;be<3;++be)for(le.uniforms.permutation=R[be],ge.lineWidth(this.contourWidth[be]*this.pixelRatio),ye=0;ye<this.contourLevels[be].length;++ye)ye===this.highlightLevel[be]?(le.uniforms.contourColor=this.highlightColor[be],le.uniforms.contourTint=this.highlightTint[be]):ye!==0&&ye-1!==this.highlightLevel[be]||(le.uniforms.contourColor=this.contourColor[be],le.uniforms.contourTint=this.contourTint[be]),this._contourCounts[be][ye]&&(le.uniforms.height=this.contourLevels[be][ye],de.draw(ge.LINES,this._contourCounts[be][ye],this._contourOffsets[be][ye]));for(be=0;be<3;++be)for(le.uniforms.model=fe.projections[be],le.uniforms.clipBounds=fe.clipBounds[be],ye=0;ye<3;++ye)if(this.contourProject[be][ye]){le.uniforms.permutation=R[ye],ge.lineWidth(this.contourWidth[ye]*this.pixelRatio);for(var Ce=0;Ce<this.contourLevels[ye].length;++Ce)Ce===this.highlightLevel[ye]?(le.uniforms.contourColor=this.highlightColor[ye],le.uniforms.contourTint=this.highlightTint[ye]):Ce!==0&&Ce-1!==this.highlightLevel[ye]||(le.uniforms.contourColor=this.contourColor[ye],le.uniforms.contourTint=this.contourTint[ye]),this._contourCounts[ye][Ce]&&(le.uniforms.height=this.contourLevels[ye][Ce],de.draw(ge.LINES,this._contourCounts[ye][Ce],this._contourOffsets[ye][Ce]))}for(de.unbind(),(de=this._dynamicVAO).bind(),be=0;be<3;++be)if(this._dynamicCounts[be]!==0)for(le.uniforms.model=ve.model,le.uniforms.clipBounds=ve.clipBounds,le.uniforms.permutation=R[be],ge.lineWidth(this.dynamicWidth[be]*this.pixelRatio),le.uniforms.contourColor=this.dynamicColor[be],le.uniforms.contourTint=this.dynamicTint[be],le.uniforms.height=this.dynamicLevel[be],de.draw(ge.LINES,this._dynamicCounts[be],this._dynamicOffsets[be]),ye=0;ye<3;++ye)this.contourProject[ye][be]&&(le.uniforms.model=fe.projections[ye],le.uniforms.clipBounds=fe.clipBounds[ye],de.draw(ge.LINES,this._dynamicCounts[be],this._dynamicOffsets[be]));de.unbind()}}W.draw=function(ae){return X.call(this,ae,!1)},W.drawTransparent=function(ae){return X.call(this,ae,!0)};var J={model:O,view:O,projection:O,inverseModel:O,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function ee(ae,ce){return Array.isArray(ae)?[ce(ae[0]),ce(ae[1]),ce(ae[2])]:[ce(ae),ce(ae),ce(ae)]}function ie(ae){return Array.isArray(ae)?ae.length===3?[ae[0],ae[1],ae[2],1]:[ae[0],ae[1],ae[2],ae[3]]:[0,0,0,1]}function oe(ae){if(Array.isArray(ae)){if(Array.isArray(ae))return[ie(ae[0]),ie(ae[1]),ie(ae[2])];var ce=ie(ae);return[ce.slice(),ce.slice(),ce.slice()]}}W.drawPick=function(ae){ae=ae||{};var ce=this.gl;ce.disable(ce.CULL_FACE);var ge=J;ge.model=ae.model||O,ge.view=ae.view||O,ge.projection=ae.projection||O,ge.shape=this._field[2].shape,ge.pickId=this.pickId/255,ge.lowerBound=this.bounds[0],ge.upperBound=this.bounds[1],ge.objectOffset=this.objectOffset,ge.permutation=K;for(var ve=0;ve<2;++ve)for(var be=ge.clipBounds[ve],we=0;we<3;++we)be[we]=Math.min(Math.max(this.clipBounds[ve][we],-1e8),1e8);var ye=H(ge,this);if(ye.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=ge,this._vao.bind(),this._vao.draw(ce.TRIANGLES,this._vertexCount),ve=0;ve<3;++ve)this.surfaceProject[ve]&&(this._pickShader.uniforms.model=ye.projections[ve],this._pickShader.uniforms.clipBounds=ye.clipBounds[ve],this._vao.draw(ce.TRIANGLES,this._vertexCount));this._vao.unbind()}if(ye.showContour){var me=this._contourPickShader;me.bind(),me.uniforms=ge;var Ae=this._contourVAO;for(Ae.bind(),we=0;we<3;++we)for(ce.lineWidth(this.contourWidth[we]*this.pixelRatio),me.uniforms.permutation=R[we],ve=0;ve<this.contourLevels[we].length;++ve)this._contourCounts[we][ve]&&(me.uniforms.height=this.contourLevels[we][ve],Ae.draw(ce.LINES,this._contourCounts[we][ve],this._contourOffsets[we][ve]));for(ve=0;ve<3;++ve)for(me.uniforms.model=ye.projections[ve],me.uniforms.clipBounds=ye.clipBounds[ve],we=0;we<3;++we)if(this.contourProject[ve][we]){me.uniforms.permutation=R[we],ce.lineWidth(this.contourWidth[we]*this.pixelRatio);for(var ke=0;ke<this.contourLevels[we].length;++ke)this._contourCounts[we][ke]&&(me.uniforms.height=this.contourLevels[we][ke],Ae.draw(ce.LINES,this._contourCounts[we][ke],this._contourOffsets[we][ke]))}Ae.unbind()}},W.pick=function(ae){if(!ae||ae.id!==this.pickId)return null;var ce=this._field[2].shape,ge=this._pickResult,ve=ce[0]*(ae.value[0]+(ae.value[2]>>4)/16)/255,be=Math.floor(ve),we=ve-be,ye=ce[1]*(ae.value[1]+(15&ae.value[2])/16)/255,me=Math.floor(ye),Ae=ye-me;be+=1,me+=1;var ke=ge.position;ke[0]=ke[1]=ke[2]=0;for(var fe=0;fe<2;++fe)for(var le=fe?we:1-we,de=0;de<2;++de)for(var Ce=be+fe,Me=me+de,Le=le*(de?Ae:1-Ae),Oe=0;Oe<3;++Oe)ke[Oe]+=this._field[Oe].get(Ce,Me)*Le;for(var Be=this._pickResult.level,pe=0;pe<3;++pe)if(Be[pe]=y.le(this.contourLevels[pe],ke[pe]),Be[pe]<0)this.contourLevels[pe].length>0&&(Be[pe]=0);else if(Be[pe]<this.contourLevels[pe].length-1){var _e=this.contourLevels[pe][Be[pe]],Te=this.contourLevels[pe][Be[pe]+1];Math.abs(_e-ke[pe])>Math.abs(Te-ke[pe])&&(Be[pe]+=1)}for(ge.index[0]=we<.5?be:be+1,ge.index[1]=Ae<.5?me:me+1,ge.uv[0]=ve/ce[0],ge.uv[1]=ye/ce[1],Oe=0;Oe<3;++Oe)ge.dataCoordinate[Oe]=this._field[Oe].get(ge.index[0],ge.index[1]);return ge},W.padField=function(ae,ce){var ge=ce.shape.slice(),ve=ae.shape.slice();h.assign(ae.lo(1,1).hi(ge[0],ge[1]),ce),h.assign(ae.lo(1).hi(ge[0],1),ce.hi(ge[0],1)),h.assign(ae.lo(1,ve[1]-1).hi(ge[0],1),ce.lo(0,ge[1]-1).hi(ge[0],1)),h.assign(ae.lo(0,1).hi(1,ge[1]),ce.hi(1)),h.assign(ae.lo(ve[0]-1,1).hi(1,ge[1]),ce.lo(ge[0]-1)),ae.set(0,0,ce.get(0,0)),ae.set(0,ve[1]-1,ce.get(0,ge[1]-1)),ae.set(ve[0]-1,0,ce.get(ge[0]-1,0)),ae.set(ve[0]-1,ve[1]-1,ce.get(ge[0]-1,ge[1]-1))},W.update=function(ae){ae=ae||{},this.objectOffset=ae.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in ae&&(this.contourWidth=ee(ae.contourWidth,Number)),"showContour"in ae&&(this.showContour=ee(ae.showContour,Boolean)),"showSurface"in ae&&(this.showSurface=!!ae.showSurface),"contourTint"in ae&&(this.contourTint=ee(ae.contourTint,Boolean)),"contourColor"in ae&&(this.contourColor=oe(ae.contourColor)),"contourProject"in ae&&(this.contourProject=ee(ae.contourProject,function(un){return ee(un,Boolean)})),"surfaceProject"in ae&&(this.surfaceProject=ae.surfaceProject),"dynamicColor"in ae&&(this.dynamicColor=oe(ae.dynamicColor)),"dynamicTint"in ae&&(this.dynamicTint=ee(ae.dynamicTint,Number)),"dynamicWidth"in ae&&(this.dynamicWidth=ee(ae.dynamicWidth,Number)),"opacity"in ae&&(this.opacity=ae.opacity),"opacityscale"in ae&&(this.opacityscale=ae.opacityscale),"colorBounds"in ae&&(this.colorBounds=ae.colorBounds),"vertexColor"in ae&&(this.vertexColor=ae.vertexColor?1:0),"colormap"in ae&&this._colorMap.setPixels(this.genColormap(ae.colormap,this.opacityscale));var ce=ae.field||ae.coords&&ae.coords[2]||null,ge=!1;if(ce||(ce=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in ae||"coords"in ae){var ve=(ce.shape[0]+2)*(ce.shape[1]+2);ve>this._field[2].data.length&&(o.freeFloat(this._field[2].data),this._field[2].data=o.mallocFloat(a.nextPow2(ve))),this._field[2]=b(this._field[2].data,[ce.shape[0]+2,ce.shape[1]+2]),this.padField(this._field[2],ce),this.shape=ce.shape.slice();for(var be=this.shape,we=0;we<2;++we)this._field[2].size>this._field[we].data.length&&(o.freeFloat(this._field[we].data),this._field[we].data=o.mallocFloat(this._field[2].size)),this._field[we]=b(this._field[we].data,[be[0]+2,be[1]+2]);if(ae.coords){var ye=ae.coords;if(!Array.isArray(ye)||ye.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(we=0;we<2;++we){var me=ye[we];for(de=0;de<2;++de)if(me.shape[de]!==be[de])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[we],me)}}else if(ae.ticks){var Ae=ae.ticks;if(!Array.isArray(Ae)||Ae.length!==2)throw new Error("gl-surface: invalid ticks");for(we=0;we<2;++we){var ke=Ae[we];if((Array.isArray(ke)||ke.length)&&(ke=b(ke)),ke.shape[0]!==be[we])throw new Error("gl-surface: invalid tick length");var fe=b(ke.data,be);fe.stride[we]=ke.stride[0],fe.stride[1^we]=0,this.padField(this._field[we],fe)}}else{for(we=0;we<2;++we){var le=[0,0];le[we]=1,this._field[we]=b(this._field[we].data,[be[0]+2,be[1]+2],le,0)}this._field[0].set(0,0,0);for(var de=0;de<be[0];++de)this._field[0].set(de+1,0,de);for(this._field[0].set(be[0]+1,0,be[0]-1),this._field[1].set(0,0,0),de=0;de<be[1];++de)this._field[1].set(0,de+1,de);this._field[1].set(0,be[1]+1,be[1]-1)}var Ce=this._field,Me=b(o.mallocFloat(3*Ce[2].size*2),[3,be[0]+2,be[1]+2,2]);for(we=0;we<3;++we)x(Me.pick(we),Ce[we],"mirror");var Le=b(o.mallocFloat(3*Ce[2].size),[be[0]+2,be[1]+2,3]);for(we=0;we<be[0]+2;++we)for(de=0;de<be[1]+2;++de){var Oe=Me.get(0,we,de,0),Be=Me.get(0,we,de,1),pe=Me.get(1,we,de,0),_e=Me.get(1,we,de,1),Te=Me.get(2,we,de,0),Re=Me.get(2,we,de,1),Ne=pe*Re-_e*Te,ze=Te*Be-Re*Oe,Ge=Oe*_e-Be*pe,Ye=Math.sqrt(Ne*Ne+ze*ze+Ge*Ge);Ye<1e-8?(Ye=Math.max(Math.abs(Ne),Math.abs(ze),Math.abs(Ge)))<1e-8?(Ge=1,ze=Ne=0,Ye=1):Ye=1/Ye:Ye=1/Math.sqrt(Ye),Le.set(we,de,0,Ne*Ye),Le.set(we,de,1,ze*Ye),Le.set(we,de,2,Ge*Ye)}o.free(Me.data);var et=[1/0,1/0,1/0],ut=[-1/0,-1/0,-1/0],ot=1/0,yt=-1/0,wt=(be[0]-1)*(be[1]-1)*6,bt=o.mallocFloat(a.nextPow2(10*wt)),at=0,rt=0;for(we=0;we<be[0]-1;++we)e:for(de=0;de<be[1]-1;++de){for(var At=0;At<2;++At)for(var Rt=0;Rt<2;++Rt)for(var Ft=0;Ft<3;++Ft){var Dt=this._field[Ft].get(1+we+At,1+de+Rt);if(isNaN(Dt)||!isFinite(Dt))continue e}for(Ft=0;Ft<6;++Ft){var Xe=we+I[Ft][0],Ke=de+I[Ft][1],Ve=this._field[0].get(Xe+1,Ke+1),Je=this._field[1].get(Xe+1,Ke+1);Dt=this._field[2].get(Xe+1,Ke+1),Ne=Le.get(Xe+1,Ke+1,0),ze=Le.get(Xe+1,Ke+1,1),Ge=Le.get(Xe+1,Ke+1,2),ae.intensity&&(ct=ae.intensity.get(Xe,Ke));var ct=ae.intensity?ae.intensity.get(Xe,Ke):Dt+this.objectOffset[2];bt[at++]=Xe,bt[at++]=Ke,bt[at++]=Ve,bt[at++]=Je,bt[at++]=Dt,bt[at++]=0,bt[at++]=ct,bt[at++]=Ne,bt[at++]=ze,bt[at++]=Ge,et[0]=Math.min(et[0],Ve+this.objectOffset[0]),et[1]=Math.min(et[1],Je+this.objectOffset[1]),et[2]=Math.min(et[2],Dt+this.objectOffset[2]),ot=Math.min(ot,ct),ut[0]=Math.max(ut[0],Ve+this.objectOffset[0]),ut[1]=Math.max(ut[1],Je+this.objectOffset[1]),ut[2]=Math.max(ut[2],Dt+this.objectOffset[2]),yt=Math.max(yt,ct),rt+=1}}for(ae.intensityBounds&&(ot=+ae.intensityBounds[0],yt=+ae.intensityBounds[1]),we=6;we<at;we+=10)bt[we]=(bt[we]-ot)/(yt-ot);this._vertexCount=rt,this._coordinateBuffer.update(bt.subarray(0,at)),o.freeFloat(bt),o.free(Le.data),this.bounds=[et,ut],this.intensity=ae.intensity||this._field[2],this.intensityBounds[0]===ot&&this.intensityBounds[1]===yt||(ge=!0),this.intensityBounds=[ot,yt]}if("levels"in ae){var st=ae.levels;for(st=Array.isArray(st[0])?st.slice():[[],[],st],we=0;we<3;++we)st[we]=st[we].slice(),st[we].sort(function(un,rn){return un-rn});for(we=0;we<3;++we)for(de=0;de<st[we].length;++de)st[we][de]-=this.objectOffset[we];e:for(we=0;we<3;++we){if(st[we].length!==this.contourLevels[we].length){ge=!0;break}for(de=0;de<st[we].length;++de)if(st[we][de]!==this.contourLevels[we][de]){ge=!0;break e}}this.contourLevels=st}if(ge){Ce=this._field,be=this.shape;for(var je=[],Ue=0;Ue<3;++Ue){var lt=this.contourLevels[Ue],Qe=[],gt=[],mt=[0,0,0];for(we=0;we<lt.length;++we){var xt=d(this._field[Ue],lt[we]);Qe.push(je.length/5|0),rt=0;e:for(de=0;de<xt.cells.length;++de){var dt=xt.cells[de];for(Ft=0;Ft<2;++Ft){var Lt=xt.positions[dt[Ft]],kt=Lt[0],_t=0|Math.floor(kt),Ot=kt-_t,Pt=Lt[1],Bt=0|Math.floor(Pt),Jt=Pt-Bt,on=!1;t:for(var qt=0;qt<3;++qt){mt[qt]=0;var Gt=(Ue+qt+1)%3;for(At=0;At<2;++At){var nn=At?Ot:1-Ot;for(Xe=0|Math.min(Math.max(_t+At,0),be[0]),Rt=0;Rt<2;++Rt){var Cn=Rt?Jt:1-Jt;if(Ke=0|Math.min(Math.max(Bt+Rt,0),be[1]),Dt=qt<2?this._field[Gt].get(Xe,Ke):(this.intensity.get(Xe,Ke)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Dt)||isNaN(Dt)){on=!0;break t}var An=nn*Cn;mt[qt]+=An*Dt}}}if(on){if(Ft>0){for(var dn=0;dn<5;++dn)je.pop();rt-=1}continue e}je.push(mt[0],mt[1],Lt[0],Lt[1],mt[2]),rt+=1}}gt.push(rt)}this._contourOffsets[Ue]=Qe,this._contourCounts[Ue]=gt}var Kt=o.mallocFloat(je.length);for(we=0;we<je.length;++we)Kt[we]=je[we];this._contourBuffer.update(Kt),o.freeFloat(Kt)}},W.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var ae=0;ae<3;++ae)o.freeFloat(this._field[ae].data)},W.highlight=function(ae){var ce,ge;if(!ae)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(ce=0;ce<3;++ce)this.enableHighlight[ce]?this.highlightLevel[ce]=ae.level[ce]:this.highlightLevel[ce]=-1;for(ge=this.snapToData?ae.dataCoordinate:ae.position,ce=0;ce<3;++ce)ge[ce]-=this.objectOffset[ce];if(this.enableDynamic[0]&&ge[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&ge[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&ge[2]!==this.dynamicLevel[2]){for(var ve=0,be=this.shape,we=o.mallocFloat(12*be[0]*be[1]),ye=0;ye<3;++ye)if(this.enableDynamic[ye]){this.dynamicLevel[ye]=ge[ye];var me=(ye+1)%3,Ae=(ye+2)%3,ke=this._field[ye],fe=this._field[me],le=this._field[Ae],de=d(ke,ge[ye]),Ce=de.cells,Me=de.positions;for(this._dynamicOffsets[ye]=ve,ce=0;ce<Ce.length;++ce)for(var Le=Ce[ce],Oe=0;Oe<2;++Oe){var Be=Me[Le[Oe]],pe=+Be[0],_e=0|pe,Te=0|Math.min(_e+1,be[0]),Re=pe-_e,Ne=1-Re,ze=+Be[1],Ge=0|ze,Ye=0|Math.min(Ge+1,be[1]),et=ze-Ge,ut=1-et,ot=Ne*ut,yt=Ne*et,wt=Re*ut,bt=Re*et,at=ot*fe.get(_e,Ge)+yt*fe.get(_e,Ye)+wt*fe.get(Te,Ge)+bt*fe.get(Te,Ye),rt=ot*le.get(_e,Ge)+yt*le.get(_e,Ye)+wt*le.get(Te,Ge)+bt*le.get(Te,Ye);if(isNaN(at)||isNaN(rt)){Oe&&(ve-=1);break}we[2*ve+0]=at,we[2*ve+1]=rt,ve+=1}this._dynamicCounts[ye]=ve-this._dynamicOffsets[ye]}else this.dynamicLevel[ye]=NaN,this._dynamicCounts[ye]=0;this._dynamicBuffer.update(we.subarray(0,2*ve)),o.freeFloat(we)}}},8931:function(f,s,t){var a=t(5050),n=t(7498),i=t(5306);f.exports=function(T){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(l||function(M){l=[M.LINEAR,M.NEAREST_MIPMAP_LINEAR,M.LINEAR_MIPMAP_NEAREST,M.LINEAR_MIPMAP_NEAREST],o=[M.NEAREST,M.LINEAR,M.NEAREST_MIPMAP_NEAREST,M.NEAREST_MIPMAP_LINEAR,M.LINEAR_MIPMAP_NEAREST,M.LINEAR_MIPMAP_LINEAR],u=[M.REPEAT,M.CLAMP_TO_EDGE,M.MIRRORED_REPEAT]}(T),typeof arguments[1]=="number")return x(T,arguments[1],arguments[2],arguments[3]||T.RGBA,arguments[4]||T.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return x(T,0|arguments[1][0],0|arguments[1][1],arguments[2]||T.RGBA,arguments[3]||T.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var p=arguments[1],S=h(p)?p:p.raw;if(S)return function(M,E,P,O,I,R){var U=y(M);return M.texImage2D(M.TEXTURE_2D,0,I,I,R,E),new d(M,U,P,O,I,R)}(T,S,0|p.width,0|p.height,arguments[2]||T.RGBA,arguments[3]||T.UNSIGNED_BYTE);if(p.shape&&p.data&&p.stride)return function(M,E){var P=E.dtype,O=E.shape.slice(),I=M.getParameter(M.MAX_TEXTURE_SIZE);if(O[0]<0||O[0]>I||O[1]<0||O[1]>I)throw new Error("gl-texture2d: Invalid texture size");var R=m(O,E.stride.slice()),U=0;P==="float32"?U=M.FLOAT:P==="float64"?(U=M.FLOAT,R=!1,P="float32"):P==="uint8"?U=M.UNSIGNED_BYTE:(U=M.UNSIGNED_BYTE,R=!1,P="uint8");var z,j,W=0;if(O.length===2)W=M.LUMINANCE,O=[O[0],O[1],1],E=a(E.data,O,[E.stride[0],E.stride[1],1],E.offset);else{if(O.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(O[2]===1)W=M.ALPHA;else if(O[2]===2)W=M.LUMINANCE_ALPHA;else if(O[2]===3)W=M.RGB;else{if(O[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");W=M.RGBA}}U!==M.FLOAT||M.getExtension("OES_texture_float")||(U=M.UNSIGNED_BYTE,R=!1);var F=E.size;if(R)z=E.offset===0&&E.data.length===F?E.data:E.data.subarray(E.offset,E.offset+F);else{var V=[O[2],O[2]*O[0],1];j=i.malloc(F,P);var H=a(j,O,V,0);P!=="float32"&&P!=="float64"||U!==M.UNSIGNED_BYTE?n.assign(H,E):c(H,E),z=j.subarray(0,F)}var te=y(M);return M.texImage2D(M.TEXTURE_2D,0,W,O[0],O[1],0,W,U,z),R||i.free(j),new d(M,te,O[0],O[1],W,U)}(T,p)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var l=null,o=null,u=null;function h(T){return typeof HTMLCanvasElement<"u"&&T instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&T instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&T instanceof HTMLVideoElement||typeof ImageData<"u"&&T instanceof ImageData}var c=function(T,p){n.muls(T,p,255)};function b(T,p,S){var M=T.gl,E=M.getParameter(M.MAX_TEXTURE_SIZE);if(p<0||p>E||S<0||S>E)throw new Error("gl-texture2d: Invalid texture size");return T._shape=[p,S],T.bind(),M.texImage2D(M.TEXTURE_2D,0,T.format,p,S,0,T.format,T.type,null),T._mipLevels=[0],T}function d(T,p,S,M,E,P){this.gl=T,this.handle=p,this.format=E,this.type=P,this._shape=[S,M],this._mipLevels=[0],this._magFilter=T.NEAREST,this._minFilter=T.NEAREST,this._wrapS=T.CLAMP_TO_EDGE,this._wrapT=T.CLAMP_TO_EDGE,this._anisoSamples=1;var O=this,I=[this._wrapS,this._wrapT];Object.defineProperties(I,[{get:function(){return O._wrapS},set:function(U){return O.wrapS=U}},{get:function(){return O._wrapT},set:function(U){return O.wrapT=U}}]),this._wrapVector=I;var R=[this._shape[0],this._shape[1]];Object.defineProperties(R,[{get:function(){return O._shape[0]},set:function(U){return O.width=U}},{get:function(){return O._shape[1]},set:function(U){return O.height=U}}]),this._shapeVector=R}var g=d.prototype;function m(T,p){return T.length===3?p[2]===1&&p[1]===T[0]*T[2]&&p[0]===T[2]:p[0]===1&&p[1]===T[0]}function y(T){var p=T.createTexture();return T.bindTexture(T.TEXTURE_2D,p),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,T.NEAREST),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,T.NEAREST),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_S,T.CLAMP_TO_EDGE),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_T,T.CLAMP_TO_EDGE),p}function x(T,p,S,M,E){var P=T.getParameter(T.MAX_TEXTURE_SIZE);if(p<0||p>P||S<0||S>P)throw new Error("gl-texture2d: Invalid texture shape");if(E===T.FLOAT&&!T.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var O=y(T);return T.texImage2D(T.TEXTURE_2D,0,M,p,S,0,M,E,null),new d(T,O,p,S,M,E)}Object.defineProperties(g,{minFilter:{get:function(){return this._minFilter},set:function(T){this.bind();var p=this.gl;if(this.type===p.FLOAT&&l.indexOf(T)>=0&&(p.getExtension("OES_texture_float_linear")||(T=p.NEAREST)),o.indexOf(T)<0)throw new Error("gl-texture2d: Unknown filter mode "+T);return p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,T),this._minFilter=T}},magFilter:{get:function(){return this._magFilter},set:function(T){this.bind();var p=this.gl;if(this.type===p.FLOAT&&l.indexOf(T)>=0&&(p.getExtension("OES_texture_float_linear")||(T=p.NEAREST)),o.indexOf(T)<0)throw new Error("gl-texture2d: Unknown filter mode "+T);return p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,T),this._magFilter=T}},mipSamples:{get:function(){return this._anisoSamples},set:function(T){var p=this._anisoSamples;if(this._anisoSamples=0|Math.max(T,1),p!==this._anisoSamples){var S=this.gl.getExtension("EXT_texture_filter_anisotropic");S&&this.gl.texParameterf(this.gl.TEXTURE_2D,S.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(T){if(this.bind(),u.indexOf(T)<0)throw new Error("gl-texture2d: Unknown wrap mode "+T);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,T),this._wrapS=T}},wrapT:{get:function(){return this._wrapT},set:function(T){if(this.bind(),u.indexOf(T)<0)throw new Error("gl-texture2d: Unknown wrap mode "+T);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,T),this._wrapT=T}},wrap:{get:function(){return this._wrapVector},set:function(T){if(Array.isArray(T)||(T=[T,T]),T.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var p=0;p<2;++p)if(u.indexOf(T[p])<0)throw new Error("gl-texture2d: Unknown wrap mode "+T);this._wrapS=T[0],this._wrapT=T[1];var S=this.gl;return this.bind(),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,this._wrapS),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,this._wrapT),T}},shape:{get:function(){return this._shapeVector},set:function(T){if(Array.isArray(T)){if(T.length!==2)throw new Error("gl-texture2d: Invalid texture shape")}else T=[0|T,0|T];return b(this,0|T[0],0|T[1]),[0|T[0],0|T[1]]}},width:{get:function(){return this._shape[0]},set:function(T){return b(this,T|=0,this._shape[1]),T}},height:{get:function(){return this._shape[1]},set:function(T){return T|=0,b(this,this._shape[0],T),T}}}),g.bind=function(T){var p=this.gl;return T!==void 0&&p.activeTexture(p.TEXTURE0+(0|T)),p.bindTexture(p.TEXTURE_2D,this.handle),T!==void 0?0|T:p.getParameter(p.ACTIVE_TEXTURE)-p.TEXTURE0},g.dispose=function(){this.gl.deleteTexture(this.handle)},g.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var T=Math.min(this._shape[0],this._shape[1]),p=0;T>0;++p,T>>>=1)this._mipLevels.indexOf(p)<0&&this._mipLevels.push(p)},g.setPixels=function(T,p,S,M){var E=this.gl;this.bind(),Array.isArray(p)?(M=S,S=0|p[1],p=0|p[0]):(p=p||0,S=S||0),M=M||0;var P=h(T)?T:T.raw;if(P)this._mipLevels.indexOf(M)<0?(E.texImage2D(E.TEXTURE_2D,0,this.format,this.format,this.type,P),this._mipLevels.push(M)):E.texSubImage2D(E.TEXTURE_2D,M,p,S,this.format,this.type,P);else{if(!(T.shape&&T.stride&&T.data))throw new Error("gl-texture2d: Unsupported data type");if(T.shape.length<2||p+T.shape[1]>this._shape[1]>>>M||S+T.shape[0]>this._shape[0]>>>M||p<0||S<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");(function(O,I,R,U,z,j,W,F){var V=F.dtype,H=F.shape.slice();if(H.length<2||H.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var te=0,Q=0,K=m(H,F.stride.slice());if(V==="float32"?te=O.FLOAT:V==="float64"?(te=O.FLOAT,K=!1,V="float32"):V==="uint8"?te=O.UNSIGNED_BYTE:(te=O.UNSIGNED_BYTE,K=!1,V="uint8"),H.length===2)Q=O.LUMINANCE,H=[H[0],H[1],1],F=a(F.data,H,[F.stride[0],F.stride[1],1],F.offset);else{if(H.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(H[2]===1)Q=O.ALPHA;else if(H[2]===2)Q=O.LUMINANCE_ALPHA;else if(H[2]===3)Q=O.RGB;else{if(H[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");Q=O.RGBA}H[2]}if(Q!==O.LUMINANCE&&Q!==O.ALPHA||z!==O.LUMINANCE&&z!==O.ALPHA||(Q=z),Q!==z)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var X=F.size,J=W.indexOf(U)<0;if(J&&W.push(U),te===j&&K)F.offset===0&&F.data.length===X?J?O.texImage2D(O.TEXTURE_2D,U,z,H[0],H[1],0,z,j,F.data):O.texSubImage2D(O.TEXTURE_2D,U,I,R,H[0],H[1],z,j,F.data):J?O.texImage2D(O.TEXTURE_2D,U,z,H[0],H[1],0,z,j,F.data.subarray(F.offset,F.offset+X)):O.texSubImage2D(O.TEXTURE_2D,U,I,R,H[0],H[1],z,j,F.data.subarray(F.offset,F.offset+X));else{var ee;ee=j===O.FLOAT?i.mallocFloat32(X):i.mallocUint8(X);var ie=a(ee,H,[H[2],H[2]*H[0],1]);te===O.FLOAT&&j===O.UNSIGNED_BYTE?c(ie,F):n.assign(ie,F),J?O.texImage2D(O.TEXTURE_2D,U,z,H[0],H[1],0,z,j,ee.subarray(0,X)):O.texSubImage2D(O.TEXTURE_2D,U,I,R,H[0],H[1],z,j,ee.subarray(0,X)),j===O.FLOAT?i.freeFloat32(ee):i.freeUint8(ee)}})(E,p,S,M,this.format,this.type,this._mipLevels,T)}}},3056:function(f){f.exports=function(s,t,a){t?t.bind():s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,null);var n=0|s.getParameter(s.MAX_VERTEX_ATTRIBS);if(a){if(a.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<a.length;++i){var l=a[i];if(l.buffer){var o=l.buffer,u=l.size||4,h=l.type||s.FLOAT,c=!!l.normalized,b=l.stride||0,d=l.offset||0;o.bind(),s.enableVertexAttribArray(i),s.vertexAttribPointer(i,u,h,c,b,d)}else{if(typeof l=="number")s.vertexAttrib1f(i,l);else if(l.length===1)s.vertexAttrib1f(i,l[0]);else if(l.length===2)s.vertexAttrib2f(i,l[0],l[1]);else if(l.length===3)s.vertexAttrib3f(i,l[0],l[1],l[2]);else{if(l.length!==4)throw new Error("gl-vao: Invalid vertex attribute");s.vertexAttrib4f(i,l[0],l[1],l[2],l[3])}s.disableVertexAttribArray(i)}}for(;i<n;++i)s.disableVertexAttribArray(i)}else for(s.bindBuffer(s.ARRAY_BUFFER,null),i=0;i<n;++i)s.disableVertexAttribArray(i)}},7220:function(f,s,t){var a=t(3056);function n(i){this.gl=i,this._elements=null,this._attributes=null,this._elementsType=i.UNSIGNED_SHORT}n.prototype.bind=function(){a(this.gl,this._elements,this._attributes)},n.prototype.update=function(i,l,o){this._elements=l,this._attributes=i,this._elementsType=o||this.gl.UNSIGNED_SHORT},n.prototype.dispose=function(){},n.prototype.unbind=function(){},n.prototype.draw=function(i,l,o){o=o||0;var u=this.gl;this._elements?u.drawElements(i,l,this._elementsType,o):u.drawArrays(i,o,l)},f.exports=function(i){return new n(i)}},3778:function(f,s,t){var a=t(3056);function n(l,o,u,h,c,b){this.location=l,this.dimension=o,this.a=u,this.b=h,this.c=c,this.d=b}function i(l,o,u){this.gl=l,this._ext=o,this.handle=u,this._attribs=[],this._useElements=!1,this._elementsType=l.UNSIGNED_SHORT}n.prototype.bind=function(l){switch(this.dimension){case 1:l.vertexAttrib1f(this.location,this.a);break;case 2:l.vertexAttrib2f(this.location,this.a,this.b);break;case 3:l.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:l.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},i.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var l=0;l<this._attribs.length;++l)this._attribs[l].bind(this.gl)},i.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},i.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},i.prototype.update=function(l,o,u){if(this.bind(),a(this.gl,o,l),this.unbind(),this._attribs.length=0,l)for(var h=0;h<l.length;++h){var c=l[h];typeof c=="number"?this._attribs.push(new n(h,1,c)):Array.isArray(c)&&this._attribs.push(new n(h,c.length,c[0],c[1],c[2],c[3]))}this._useElements=!!o,this._elementsType=u||this.gl.UNSIGNED_SHORT},i.prototype.draw=function(l,o,u){u=u||0;var h=this.gl;this._useElements?h.drawElements(l,o,this._elementsType,u):h.drawArrays(l,u,o)},f.exports=function(l,o){return new i(l,o,o.createVertexArrayOES())}},2944:function(f,s,t){var a=t(3778),n=t(7220);function i(l){this.bindVertexArrayOES=l.bindVertexArray.bind(l),this.createVertexArrayOES=l.createVertexArray.bind(l),this.deleteVertexArrayOES=l.deleteVertexArray.bind(l)}f.exports=function(l,o,u,h){var c,b=l.createVertexArray?new i(l):l.getExtension("OES_vertex_array_object");return(c=b?a(l,b):n(l)).update(o,u,h),c}},2598:function(f){f.exports=function(s,t,a){return s[0]=t[0]+a[0],s[1]=t[1]+a[1],s[2]=t[2]+a[2],s}},5879:function(f,s,t){f.exports=function(l,o){var u=a(l[0],l[1],l[2]),h=a(o[0],o[1],o[2]);n(u,u),n(h,h);var c=i(u,h);return c>1?0:Math.acos(c)};var a=t(5415),n=t(899),i=t(9305)},8827:function(f){f.exports=function(s,t){return s[0]=Math.ceil(t[0]),s[1]=Math.ceil(t[1]),s[2]=Math.ceil(t[2]),s}},7622:function(f){f.exports=function(s){var t=new Float32Array(3);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t}},8782:function(f){f.exports=function(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s}},8501:function(f){f.exports=function(){var s=new Float32Array(3);return s[0]=0,s[1]=0,s[2]=0,s}},903:function(f){f.exports=function(s,t,a){var n=t[0],i=t[1],l=t[2],o=a[0],u=a[1],h=a[2];return s[0]=i*h-l*u,s[1]=l*o-n*h,s[2]=n*u-i*o,s}},5981:function(f,s,t){f.exports=t(8288)},8288:function(f){f.exports=function(s,t){var a=t[0]-s[0],n=t[1]-s[1],i=t[2]-s[2];return Math.sqrt(a*a+n*n+i*i)}},8629:function(f,s,t){f.exports=t(7979)},7979:function(f){f.exports=function(s,t,a){return s[0]=t[0]/a[0],s[1]=t[1]/a[1],s[2]=t[2]/a[2],s}},9305:function(f){f.exports=function(s,t){return s[0]*t[0]+s[1]*t[1]+s[2]*t[2]}},154:function(f){f.exports=1e-6},4932:function(f,s,t){f.exports=function(n,i){var l=n[0],o=n[1],u=n[2],h=i[0],c=i[1],b=i[2];return Math.abs(l-h)<=a*Math.max(1,Math.abs(l),Math.abs(h))&&Math.abs(o-c)<=a*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(u-b)<=a*Math.max(1,Math.abs(u),Math.abs(b))};var a=t(154)},5777:function(f){f.exports=function(s,t){return s[0]===t[0]&&s[1]===t[1]&&s[2]===t[2]}},3306:function(f){f.exports=function(s,t){return s[0]=Math.floor(t[0]),s[1]=Math.floor(t[1]),s[2]=Math.floor(t[2]),s}},7447:function(f,s,t){f.exports=function(n,i,l,o,u,h){var c,b;for(i||(i=3),l||(l=0),b=o?Math.min(o*i+l,n.length):n.length,c=l;c<b;c+=i)a[0]=n[c],a[1]=n[c+1],a[2]=n[c+2],u(a,a,h),n[c]=a[0],n[c+1]=a[1],n[c+2]=a[2];return n};var a=t(8501)()},5415:function(f){f.exports=function(s,t,a){var n=new Float32Array(3);return n[0]=s,n[1]=t,n[2]=a,n}},2858:function(f,s,t){f.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(f){f.exports=function(s,t){return s[0]=1/t[0],s[1]=1/t[1],s[2]=1/t[2],s}},1468:function(f,s,t){f.exports=t(4693)},4693:function(f){f.exports=function(s){var t=s[0],a=s[1],n=s[2];return Math.sqrt(t*t+a*a+n*n)}},1868:function(f){f.exports=function(s,t,a,n){var i=t[0],l=t[1],o=t[2];return s[0]=i+n*(a[0]-i),s[1]=l+n*(a[1]-l),s[2]=o+n*(a[2]-o),s}},1716:function(f){f.exports=function(s,t,a){return s[0]=Math.max(t[0],a[0]),s[1]=Math.max(t[1],a[1]),s[2]=Math.max(t[2],a[2]),s}},3605:function(f){f.exports=function(s,t,a){return s[0]=Math.min(t[0],a[0]),s[1]=Math.min(t[1],a[1]),s[2]=Math.min(t[2],a[2]),s}},5733:function(f,s,t){f.exports=t(105)},105:function(f){f.exports=function(s,t,a){return s[0]=t[0]*a[0],s[1]=t[1]*a[1],s[2]=t[2]*a[2],s}},435:function(f){f.exports=function(s,t){return s[0]=-t[0],s[1]=-t[1],s[2]=-t[2],s}},899:function(f){f.exports=function(s,t){var a=t[0],n=t[1],i=t[2],l=a*a+n*n+i*i;return l>0&&(l=1/Math.sqrt(l),s[0]=t[0]*l,s[1]=t[1]*l,s[2]=t[2]*l),s}},6660:function(f){f.exports=function(s,t){t=t||1;var a=2*Math.random()*Math.PI,n=2*Math.random()-1,i=Math.sqrt(1-n*n)*t;return s[0]=Math.cos(a)*i,s[1]=Math.sin(a)*i,s[2]=n*t,s}},392:function(f){f.exports=function(s,t,a,n){var i=a[1],l=a[2],o=t[1]-i,u=t[2]-l,h=Math.sin(n),c=Math.cos(n);return s[0]=t[0],s[1]=i+o*c-u*h,s[2]=l+o*h+u*c,s}},3222:function(f){f.exports=function(s,t,a,n){var i=a[0],l=a[2],o=t[0]-i,u=t[2]-l,h=Math.sin(n),c=Math.cos(n);return s[0]=i+u*h+o*c,s[1]=t[1],s[2]=l+u*c-o*h,s}},3388:function(f){f.exports=function(s,t,a,n){var i=a[0],l=a[1],o=t[0]-i,u=t[1]-l,h=Math.sin(n),c=Math.cos(n);return s[0]=i+o*c-u*h,s[1]=l+o*h+u*c,s[2]=t[2],s}},1624:function(f){f.exports=function(s,t){return s[0]=Math.round(t[0]),s[1]=Math.round(t[1]),s[2]=Math.round(t[2]),s}},5685:function(f){f.exports=function(s,t,a){return s[0]=t[0]*a,s[1]=t[1]*a,s[2]=t[2]*a,s}},6722:function(f){f.exports=function(s,t,a,n){return s[0]=t[0]+a[0]*n,s[1]=t[1]+a[1]*n,s[2]=t[2]+a[2]*n,s}},831:function(f){f.exports=function(s,t,a,n){return s[0]=t,s[1]=a,s[2]=n,s}},5294:function(f,s,t){f.exports=t(6403)},3303:function(f,s,t){f.exports=t(4337)},6403:function(f){f.exports=function(s,t){var a=t[0]-s[0],n=t[1]-s[1],i=t[2]-s[2];return a*a+n*n+i*i}},4337:function(f){f.exports=function(s){var t=s[0],a=s[1],n=s[2];return t*t+a*a+n*n}},8921:function(f,s,t){f.exports=t(911)},911:function(f){f.exports=function(s,t,a){return s[0]=t[0]-a[0],s[1]=t[1]-a[1],s[2]=t[2]-a[2],s}},9908:function(f){f.exports=function(s,t,a){var n=t[0],i=t[1],l=t[2];return s[0]=n*a[0]+i*a[3]+l*a[6],s[1]=n*a[1]+i*a[4]+l*a[7],s[2]=n*a[2]+i*a[5]+l*a[8],s}},3255:function(f){f.exports=function(s,t,a){var n=t[0],i=t[1],l=t[2],o=a[3]*n+a[7]*i+a[11]*l+a[15];return o=o||1,s[0]=(a[0]*n+a[4]*i+a[8]*l+a[12])/o,s[1]=(a[1]*n+a[5]*i+a[9]*l+a[13])/o,s[2]=(a[2]*n+a[6]*i+a[10]*l+a[14])/o,s}},6568:function(f){f.exports=function(s,t,a){var n=t[0],i=t[1],l=t[2],o=a[0],u=a[1],h=a[2],c=a[3],b=c*n+u*l-h*i,d=c*i+h*n-o*l,g=c*l+o*i-u*n,m=-o*n-u*i-h*l;return s[0]=b*c+m*-o+d*-h-g*-u,s[1]=d*c+m*-u+g*-o-b*-h,s[2]=g*c+m*-h+b*-u-d*-o,s}},3433:function(f){f.exports=function(s,t,a){return s[0]=t[0]+a[0],s[1]=t[1]+a[1],s[2]=t[2]+a[2],s[3]=t[3]+a[3],s}},1413:function(f){f.exports=function(s){var t=new Float32Array(4);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t}},3470:function(f){f.exports=function(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s}},5313:function(f){f.exports=function(){var s=new Float32Array(4);return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s}},5446:function(f){f.exports=function(s,t){var a=t[0]-s[0],n=t[1]-s[1],i=t[2]-s[2],l=t[3]-s[3];return Math.sqrt(a*a+n*n+i*i+l*l)}},205:function(f){f.exports=function(s,t,a){return s[0]=t[0]/a[0],s[1]=t[1]/a[1],s[2]=t[2]/a[2],s[3]=t[3]/a[3],s}},4242:function(f){f.exports=function(s,t){return s[0]*t[0]+s[1]*t[1]+s[2]*t[2]+s[3]*t[3]}},5680:function(f){f.exports=function(s,t,a,n){var i=new Float32Array(4);return i[0]=s,i[1]=t,i[2]=a,i[3]=n,i}},4020:function(f,s,t){f.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(f){f.exports=function(s,t){return s[0]=1/t[0],s[1]=1/t[1],s[2]=1/t[2],s[3]=1/t[3],s}},8177:function(f){f.exports=function(s){var t=s[0],a=s[1],n=s[2],i=s[3];return Math.sqrt(t*t+a*a+n*n+i*i)}},8746:function(f){f.exports=function(s,t,a,n){var i=t[0],l=t[1],o=t[2],u=t[3];return s[0]=i+n*(a[0]-i),s[1]=l+n*(a[1]-l),s[2]=o+n*(a[2]-o),s[3]=u+n*(a[3]-u),s}},3030:function(f){f.exports=function(s,t,a){return s[0]=Math.max(t[0],a[0]),s[1]=Math.max(t[1],a[1]),s[2]=Math.max(t[2],a[2]),s[3]=Math.max(t[3],a[3]),s}},2170:function(f){f.exports=function(s,t,a){return s[0]=Math.min(t[0],a[0]),s[1]=Math.min(t[1],a[1]),s[2]=Math.min(t[2],a[2]),s[3]=Math.min(t[3],a[3]),s}},746:function(f){f.exports=function(s,t,a){return s[0]=t[0]*a[0],s[1]=t[1]*a[1],s[2]=t[2]*a[2],s[3]=t[3]*a[3],s}},6459:function(f){f.exports=function(s,t){return s[0]=-t[0],s[1]=-t[1],s[2]=-t[2],s[3]=-t[3],s}},381:function(f){f.exports=function(s,t){var a=t[0],n=t[1],i=t[2],l=t[3],o=a*a+n*n+i*i+l*l;return o>0&&(o=1/Math.sqrt(o),s[0]=a*o,s[1]=n*o,s[2]=i*o,s[3]=l*o),s}},3770:function(f,s,t){var a=t(381),n=t(5510);f.exports=function(i,l){return l=l||1,i[0]=Math.random(),i[1]=Math.random(),i[2]=Math.random(),i[3]=Math.random(),a(i,i),n(i,i,l),i}},5510:function(f){f.exports=function(s,t,a){return s[0]=t[0]*a,s[1]=t[1]*a,s[2]=t[2]*a,s[3]=t[3]*a,s}},4224:function(f){f.exports=function(s,t,a,n){return s[0]=t[0]+a[0]*n,s[1]=t[1]+a[1]*n,s[2]=t[2]+a[2]*n,s[3]=t[3]+a[3]*n,s}},6453:function(f){f.exports=function(s,t,a,n,i){return s[0]=t,s[1]=a,s[2]=n,s[3]=i,s}},1542:function(f){f.exports=function(s,t){var a=t[0]-s[0],n=t[1]-s[1],i=t[2]-s[2],l=t[3]-s[3];return a*a+n*n+i*i+l*l}},9037:function(f){f.exports=function(s){var t=s[0],a=s[1],n=s[2],i=s[3];return t*t+a*a+n*n+i*i}},2705:function(f){f.exports=function(s,t,a){return s[0]=t[0]-a[0],s[1]=t[1]-a[1],s[2]=t[2]-a[2],s[3]=t[3]-a[3],s}},6342:function(f){f.exports=function(s,t,a){var n=t[0],i=t[1],l=t[2],o=t[3];return s[0]=a[0]*n+a[4]*i+a[8]*l+a[12]*o,s[1]=a[1]*n+a[5]*i+a[9]*l+a[13]*o,s[2]=a[2]*n+a[6]*i+a[10]*l+a[14]*o,s[3]=a[3]*n+a[7]*i+a[11]*l+a[15]*o,s}},5022:function(f){f.exports=function(s,t,a){var n=t[0],i=t[1],l=t[2],o=a[0],u=a[1],h=a[2],c=a[3],b=c*n+u*l-h*i,d=c*i+h*n-o*l,g=c*l+o*i-u*n,m=-o*n-u*i-h*l;return s[0]=b*c+m*-o+d*-h-g*-u,s[1]=d*c+m*-u+g*-o-b*-h,s[2]=g*c+m*-h+b*-u-d*-o,s[3]=t[3],s}},9365:function(f,s,t){var a=t(8096),n=t(7896);f.exports=function(i){for(var l=Array.isArray(i)?i:a(i),o=0;o<l.length;o++){var u=l[o];if(u.type==="preprocessor"){var h=u.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var c=h[1],b=h[2];return(c?n(b):b).trim()}}}}},3193:function(f,s,t){f.exports=function(O){var I,R,U,z=0,j=0,W=u,F=[],V=[],H=1,te=0,Q=0,K=!1,X=!1,J="",ee=i,ie=a;(O=O||{}).version==="300 es"&&(ee=o,ie=l);var oe={},ae={};for(z=0;z<ee.length;z++)oe[ee[z]]=!0;for(z=0;z<ie.length;z++)ae[ie[z]]=!0;return function(de){return V=[],de!==null?function(Ce){var Me;for(z=0,Ce.toString&&(Ce=Ce.toString()),J+=Ce.replace(/\r\n/g,`
`),U=J.length;I=J[z],z<U;){switch(Me=z,W){case c:z=we();break;case b:case d:z=be();break;case g:z=ye();break;case m:z=ke();break;case E:z=Ae();break;case y:z=fe();break;case h:z=le();break;case S:z=ve();break;case u:z=ge()}Me!==z&&(J[Me]===`
`?(te=0,++H):++te)}return j+=z,J=J.slice(z),V}(de):(F.length&&ce(F.join("")),W=M,ce("(eof)"),V)};function ce(de){de.length&&V.push({type:P[W],data:de,position:Q,line:H,column:te})}function ge(){return F=F.length?[]:F,R==="/"&&I==="*"?(Q=j+z-1,W=c,R=I,z+1):R==="/"&&I==="/"?(Q=j+z-1,W=b,R=I,z+1):I==="#"?(W=d,Q=j+z,z):/\s/.test(I)?(W=S,Q=j+z,z):(K=/\d/.test(I),X=/[^\w_]/.test(I),Q=j+z,W=K?m:X?g:h,z)}function ve(){return/[^\s]/g.test(I)?(ce(F.join("")),W=u,z):(F.push(I),R=I,z+1)}function be(){return I!=="\r"&&I!==`
`||R==="\\"?(F.push(I),R=I,z+1):(ce(F.join("")),W=u,z)}function we(){return I==="/"&&R==="*"?(F.push(I),ce(F.join("")),W=u,z+1):(F.push(I),R=I,z+1)}function ye(){if(R==="."&&/\d/.test(I))return W=y,z;if(R==="/"&&I==="*")return W=c,z;if(R==="/"&&I==="/")return W=b,z;if(I==="."&&F.length){for(;me(F););return W=y,z}if(I===";"||I===")"||I==="("){if(F.length)for(;me(F););return ce(I),W=u,z+1}var de=F.length===2&&I!=="=";if(/[\w_\d\s]/.test(I)||de){for(;me(F););return W=u,z}return F.push(I),R=I,z+1}function me(de){for(var Ce,Me,Le=0;;){if(Ce=n.indexOf(de.slice(0,de.length+Le).join("")),Me=n[Ce],Ce===-1){if(Le--+de.length>0)continue;Me=de.slice(0,1).join("")}return ce(Me),Q+=Me.length,(F=F.slice(Me.length)).length}}function Ae(){return/[^a-fA-F0-9]/.test(I)?(ce(F.join("")),W=u,z):(F.push(I),R=I,z+1)}function ke(){return I==="."||/[eE]/.test(I)?(F.push(I),W=y,R=I,z+1):I==="x"&&F.length===1&&F[0]==="0"?(W=E,F.push(I),R=I,z+1):/[^\d]/.test(I)?(ce(F.join("")),W=u,z):(F.push(I),R=I,z+1)}function fe(){return I==="f"&&(F.push(I),R=I,z+=1),/[eE]/.test(I)?(F.push(I),R=I,z+1):(I!=="-"&&I!=="+"||!/[eE]/.test(R))&&/[^\d]/.test(I)?(ce(F.join("")),W=u,z):(F.push(I),R=I,z+1)}function le(){if(/[^\d\w_]/.test(I)){var de=F.join("");return W=ae[de]?p:oe[de]?T:x,ce(F.join("")),W=u,z}return F.push(I),R=I,z+1}};var a=t(399),n=t(9746),i=t(9525),l=t(9458),o=t(3585),u=999,h=9999,c=0,b=1,d=2,g=3,m=4,y=5,x=6,T=7,p=8,S=9,M=10,E=11,P=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3585:function(f,s,t){var a=t(9525);a=a.slice().filter(function(n){return!/^(gl\_|texture)/.test(n)}),f.exports=a.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(f){f.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(f,s,t){var a=t(399);f.exports=a.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(f){f.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(f){f.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(f,s,t){var a=t(3193);f.exports=function(n,i){var l=a(i),o=[];return(o=o.concat(l(n))).concat(l(null))}},6832:function(f){f.exports=function(s){typeof s=="string"&&(s=[s]);for(var t=[].slice.call(arguments,1),a=[],n=0;n<s.length-1;n++)a.push(s[n],t[n]||"");return a.push(s[n]),a.join("")}},5233:function(f,s,t){var a=t(4846);f.exports=a&&function(){var n=!1;try{var i=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch{n=!1}return n}()},2183:function(f,s,t){f.exports=function(b,d){var g=b.length;if(g===0)throw new Error("Must have at least d+1 points");var m=b[0].length;if(g<=m)throw new Error("Must input at least d+1 points");var y=b.slice(0,m+1),x=a.apply(void 0,y);if(x===0)throw new Error("Input not in general position");for(var T=new Array(m+1),p=0;p<=m;++p)T[p]=p;x<0&&(T[0]=1,T[1]=0);var S=new i(T,new Array(m+1),!1),M=S.adjacent,E=new Array(m+2);for(p=0;p<=m;++p){for(var P=T.slice(),O=0;O<=m;++O)O===p&&(P[O]=-1);var I=P[0];P[0]=P[1],P[1]=I;var R=new i(P,new Array(m+1),!0);M[p]=R,E[p]=R}for(E[m+1]=S,p=0;p<=m;++p){P=M[p].vertices;var U=M[p].adjacent;for(O=0;O<=m;++O){var z=P[O];if(z<0)U[O]=S;else for(var j=0;j<=m;++j)M[j].vertices.indexOf(z)<0&&(U[O]=M[j])}}var W=new h(m,y,E),F=!!d;for(p=m+1;p<g;++p)W.insert(b[p],F);return W.boundary()};var a=t(417),n=t(8211).H;function i(b,d,g){this.vertices=b,this.adjacent=d,this.boundary=g,this.lastVisited=-1}function l(b,d,g){this.vertices=b,this.cell=d,this.index=g}function o(b,d){return n(b.vertices,d.vertices)}i.prototype.flip=function(){var b=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=b;var d=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=d};var u=[];function h(b,d,g){this.dimension=b,this.vertices=d,this.simplices=g,this.interior=g.filter(function(T){return!T.boundary}),this.tuple=new Array(b+1);for(var m=0;m<=b;++m)this.tuple[m]=this.vertices[m];var y,x=u[b];x||(x=u[b]=((y=a[b+1])||(y=a),function(T){return function(){var p=this.tuple;return T.apply(this,p)}}(y))),this.orient=x}var c=h.prototype;c.handleBoundaryDegeneracy=function(b,d){var g=this.dimension,m=this.vertices.length-1,y=this.tuple,x=this.vertices,T=[b];for(b.lastVisited=-m;T.length>0;)for(var p=(b=T.pop()).adjacent,S=0;S<=g;++S){var M=p[S];if(M.boundary&&!(M.lastVisited<=-m)){for(var E=M.vertices,P=0;P<=g;++P){var O=E[P];y[P]=O<0?d:x[O]}var I=this.orient();if(I>0)return M;M.lastVisited=-m,I===0&&T.push(M)}}return null},c.walk=function(b,d){var g=this.vertices.length-1,m=this.dimension,y=this.vertices,x=this.tuple,T=d?this.interior.length*Math.random()|0:this.interior.length-1,p=this.interior[T];e:for(;!p.boundary;){for(var S=p.vertices,M=p.adjacent,E=0;E<=m;++E)x[E]=y[S[E]];for(p.lastVisited=g,E=0;E<=m;++E){var P=M[E];if(!(P.lastVisited>=g)){var O=x[E];x[E]=b;var I=this.orient();if(x[E]=O,I<0){p=P;continue e}P.boundary?P.lastVisited=-g:P.lastVisited=g}}return}return p},c.addPeaks=function(b,d){var g=this.vertices.length-1,m=this.dimension,y=this.vertices,x=this.tuple,T=this.interior,p=this.simplices,S=[d];d.lastVisited=g,d.vertices[d.vertices.indexOf(-1)]=g,d.boundary=!1,T.push(d);for(var M=[];S.length>0;){var E=(d=S.pop()).vertices,P=d.adjacent,O=E.indexOf(g);if(!(O<0)){for(var I=0;I<=m;++I)if(I!==O){var R=P[I];if(R.boundary&&!(R.lastVisited>=g)){var U=R.vertices;if(R.lastVisited!==-g){for(var z=0,j=0;j<=m;++j)U[j]<0?(z=j,x[j]=b):x[j]=y[U[j]];if(this.orient()>0){U[z]=g,R.boundary=!1,T.push(R),S.push(R),R.lastVisited=g;continue}R.lastVisited=-g}var W=R.adjacent,F=E.slice(),V=P.slice(),H=new i(F,V,!0);p.push(H);var te=W.indexOf(d);if(!(te<0))for(W[te]=H,V[O]=R,F[I]=-1,V[I]=d,P[I]=H,H.flip(),j=0;j<=m;++j){var Q=F[j];if(!(Q<0||Q===g)){for(var K=new Array(m-1),X=0,J=0;J<=m;++J){var ee=F[J];ee<0||J===j||(K[X++]=ee)}M.push(new l(K,H,j))}}}}}}for(M.sort(o),I=0;I+1<M.length;I+=2){var ie=M[I],oe=M[I+1],ae=ie.index,ce=oe.index;ae<0||ce<0||(ie.cell.adjacent[ie.index]=oe.cell,oe.cell.adjacent[oe.index]=ie.cell)}},c.insert=function(b,d){var g=this.vertices;g.push(b);var m=this.walk(b,d);if(m){for(var y=this.dimension,x=this.tuple,T=0;T<=y;++T){var p=m.vertices[T];x[T]=p<0?b:g[p]}var S=this.orient(x);S<0||(S!==0||(m=this.handleBoundaryDegeneracy(m,b)))&&this.addPeaks(b,m)}},c.boundary=function(){for(var b=this.dimension,d=[],g=this.simplices,m=g.length,y=0;y<m;++y){var x=g[y];if(x.boundary){for(var T=new Array(b),p=x.vertices,S=0,M=0,E=0;E<=b;++E)p[E]>=0?T[S++]=p[E]:M=1&E;if(M===(1&b)){var P=T[0];T[0]=T[1],T[1]=P}d.push(T)}}return d}},9014:function(f,s,t){var a=t(5070);function n(S,M,E,P,O){this.mid=S,this.left=M,this.right=E,this.leftPoints=P,this.rightPoints=O,this.count=(M?M.count:0)+(E?E.count:0)+P.length}f.exports=function(S){return S&&S.length!==0?new T(x(S)):new T(null)};var i=n.prototype;function l(S,M){S.mid=M.mid,S.left=M.left,S.right=M.right,S.leftPoints=M.leftPoints,S.rightPoints=M.rightPoints,S.count=M.count}function o(S,M){var E=x(M);S.mid=E.mid,S.left=E.left,S.right=E.right,S.leftPoints=E.leftPoints,S.rightPoints=E.rightPoints,S.count=E.count}function u(S,M){var E=S.intervals([]);E.push(M),o(S,E)}function h(S,M){var E=S.intervals([]),P=E.indexOf(M);return P<0?0:(E.splice(P,1),o(S,E),1)}function c(S,M,E){for(var P=0;P<S.length&&S[P][0]<=M;++P){var O=E(S[P]);if(O)return O}}function b(S,M,E){for(var P=S.length-1;P>=0&&S[P][1]>=M;--P){var O=E(S[P]);if(O)return O}}function d(S,M){for(var E=0;E<S.length;++E){var P=M(S[E]);if(P)return P}}function g(S,M){return S-M}function m(S,M){return S[0]-M[0]||S[1]-M[1]}function y(S,M){return S[1]-M[1]||S[0]-M[0]}function x(S){if(S.length===0)return null;for(var M=[],E=0;E<S.length;++E)M.push(S[E][0],S[E][1]);M.sort(g);var P=M[M.length>>1],O=[],I=[],R=[];for(E=0;E<S.length;++E){var U=S[E];U[1]<P?O.push(U):P<U[0]?I.push(U):R.push(U)}var z=R,j=R.slice();return z.sort(m),j.sort(y),new n(P,x(O),x(I),z,j)}function T(S){this.root=S}i.intervals=function(S){return S.push.apply(S,this.leftPoints),this.left&&this.left.intervals(S),this.right&&this.right.intervals(S),S},i.insert=function(S){var M=this.count-this.leftPoints.length;if(this.count+=1,S[1]<this.mid)this.left?4*(this.left.count+1)>3*(M+1)?u(this,S):this.left.insert(S):this.left=x([S]);else if(S[0]>this.mid)this.right?4*(this.right.count+1)>3*(M+1)?u(this,S):this.right.insert(S):this.right=x([S]);else{var E=a.ge(this.leftPoints,S,m),P=a.ge(this.rightPoints,S,y);this.leftPoints.splice(E,0,S),this.rightPoints.splice(P,0,S)}},i.remove=function(S){var M=this.count-this.leftPoints;if(S[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(M-1)?h(this,S):(I=this.left.remove(S))===2?(this.left=null,this.count-=1,1):(I===1&&(this.count-=1),I):0;if(S[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(M-1)?h(this,S):(I=this.right.remove(S))===2?(this.right=null,this.count-=1,1):(I===1&&(this.count-=1),I):0;if(this.count===1)return this.leftPoints[0]===S?2:0;if(this.leftPoints.length===1&&this.leftPoints[0]===S){if(this.left&&this.right){for(var E=this,P=this.left;P.right;)E=P,P=P.right;if(E===this)P.right=this.right;else{var O=this.left,I=this.right;E.count-=P.count,E.right=P.left,P.left=O,P.right=I}l(this,P),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?l(this,this.left):l(this,this.right);return 1}for(O=a.ge(this.leftPoints,S,m);O<this.leftPoints.length&&this.leftPoints[O][0]===S[0];++O)if(this.leftPoints[O]===S){for(this.count-=1,this.leftPoints.splice(O,1),I=a.ge(this.rightPoints,S,y);I<this.rightPoints.length&&this.rightPoints[I][1]===S[1];++I)if(this.rightPoints[I]===S)return this.rightPoints.splice(I,1),1}return 0},i.queryPoint=function(S,M){return S<this.mid?this.left&&(E=this.left.queryPoint(S,M))?E:c(this.leftPoints,S,M):S>this.mid?this.right&&(E=this.right.queryPoint(S,M))?E:b(this.rightPoints,S,M):d(this.leftPoints,M);var E},i.queryInterval=function(S,M,E){var P;return S<this.mid&&this.left&&(P=this.left.queryInterval(S,M,E))||M>this.mid&&this.right&&(P=this.right.queryInterval(S,M,E))?P:M<this.mid?c(this.leftPoints,M,E):S>this.mid?b(this.rightPoints,S,E):d(this.leftPoints,E)};var p=T.prototype;p.insert=function(S){this.root?this.root.insert(S):this.root=new n(S[0],null,null,[S],[S])},p.remove=function(S){if(this.root){var M=this.root.remove(S);return M===2&&(this.root=null),M!==0}return!1},p.queryPoint=function(S,M){if(this.root)return this.root.queryPoint(S,M)},p.queryInterval=function(S,M,E){if(S<=M&&this.root)return this.root.queryInterval(S,M,E)},Object.defineProperty(p,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(p,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},9560:function(f){f.exports=function(s){for(var t=new Array(s),a=0;a<s;++a)t[a]=a;return t}},4846:function(f){f.exports=!0},4780:function(f){function s(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}f.exports=function(t){return t!=null&&(s(t)||function(a){return typeof a.readFloatLE=="function"&&typeof a.slice=="function"&&s(a.slice(0,0))}(t)||!!t._isBuffer)}},3596:function(f){f.exports=function(s){for(var t,a=s.length,n=0;n<a;n++)if(((t=s.charCodeAt(n))<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},3578:function(f){f.exports=function(s,t,a){return s*(1-a)+t*a}},7191:function(f,s,t){var a=t(4690),n=t(9823),i=t(7332),l=t(7787),o=t(7437),u=t(2142),h={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},c=n(),b=n(),d=[0,0,0,0],g=[[0,0,0],[0,0,0],[0,0,0]],m=[0,0,0];function y(x,T,p,S,M){x[0]=T[0]*S+p[0]*M,x[1]=T[1]*S+p[1]*M,x[2]=T[2]*S+p[2]*M}f.exports=function(x,T,p,S,M,E){if(T||(T=[0,0,0]),p||(p=[0,0,0]),S||(S=[0,0,0]),M||(M=[0,0,0,1]),E||(E=[0,0,0,1]),!a(c,x)||(i(b,c),b[3]=0,b[7]=0,b[11]=0,b[15]=1,Math.abs(l(b)<1e-8)))return!1;var P,O,I,R,U,z,j,W=c[3],F=c[7],V=c[11],H=c[12],te=c[13],Q=c[14],K=c[15];if(W!==0||F!==0||V!==0){if(d[0]=W,d[1]=F,d[2]=V,d[3]=K,!o(b,b))return!1;u(b,b),P=M,I=b,R=(O=d)[0],U=O[1],z=O[2],j=O[3],P[0]=I[0]*R+I[4]*U+I[8]*z+I[12]*j,P[1]=I[1]*R+I[5]*U+I[9]*z+I[13]*j,P[2]=I[2]*R+I[6]*U+I[10]*z+I[14]*j,P[3]=I[3]*R+I[7]*U+I[11]*z+I[15]*j}else M[0]=M[1]=M[2]=0,M[3]=1;if(T[0]=H,T[1]=te,T[2]=Q,function(J,ee){J[0][0]=ee[0],J[0][1]=ee[1],J[0][2]=ee[2],J[1][0]=ee[4],J[1][1]=ee[5],J[1][2]=ee[6],J[2][0]=ee[8],J[2][1]=ee[9],J[2][2]=ee[10]}(g,c),p[0]=h.length(g[0]),h.normalize(g[0],g[0]),S[0]=h.dot(g[0],g[1]),y(g[1],g[1],g[0],1,-S[0]),p[1]=h.length(g[1]),h.normalize(g[1],g[1]),S[0]/=p[1],S[1]=h.dot(g[0],g[2]),y(g[2],g[2],g[0],1,-S[1]),S[2]=h.dot(g[1],g[2]),y(g[2],g[2],g[1],1,-S[2]),p[2]=h.length(g[2]),h.normalize(g[2],g[2]),S[1]/=p[2],S[2]/=p[2],h.cross(m,g[1],g[2]),h.dot(g[0],m)<0)for(var X=0;X<3;X++)p[X]*=-1,g[X][0]*=-1,g[X][1]*=-1,g[X][2]*=-1;return E[0]=.5*Math.sqrt(Math.max(1+g[0][0]-g[1][1]-g[2][2],0)),E[1]=.5*Math.sqrt(Math.max(1-g[0][0]+g[1][1]-g[2][2],0)),E[2]=.5*Math.sqrt(Math.max(1-g[0][0]-g[1][1]+g[2][2],0)),E[3]=.5*Math.sqrt(Math.max(1+g[0][0]+g[1][1]+g[2][2],0)),g[2][1]>g[1][2]&&(E[0]=-E[0]),g[0][2]>g[2][0]&&(E[1]=-E[1]),g[1][0]>g[0][1]&&(E[2]=-E[2]),!0}},4690:function(f){f.exports=function(s,t){var a=t[15];if(a===0)return!1;for(var n=1/a,i=0;i<16;i++)s[i]=t[i]*n;return!0}},7649:function(f,s,t){var a=t(1868),n=t(1102),i=t(7191),l=t(7787),o=t(1116),u=b(),h=b(),c=b();function b(){return{translate:d(),scale:d(1),skew:d(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function d(g){return[g||0,g||0,g||0]}f.exports=function(g,m,y,x){if(l(m)===0||l(y)===0)return!1;var T=i(m,u.translate,u.scale,u.skew,u.perspective,u.quaternion),p=i(y,h.translate,h.scale,h.skew,h.perspective,h.quaternion);return!(!T||!p||(a(c.translate,u.translate,h.translate,x),a(c.skew,u.skew,h.skew,x),a(c.scale,u.scale,h.scale,x),a(c.perspective,u.perspective,h.perspective,x),o(c.quaternion,u.quaternion,h.quaternion,x),n(g,c.translate,c.scale,c.skew,c.perspective,c.quaternion),0))}},1102:function(f,s,t){var a={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)},n=(a.create(),a.create());f.exports=function(i,l,o,u,h,c){return a.identity(i),a.fromRotationTranslation(i,c,l),i[3]=h[0],i[7]=h[1],i[11]=h[2],i[15]=h[3],a.identity(n),u[2]!==0&&(n[9]=u[2],a.multiply(i,i,n)),u[1]!==0&&(n[9]=0,n[8]=u[1],a.multiply(i,i,n)),u[0]!==0&&(n[8]=0,n[4]=u[0],a.multiply(i,i,n)),a.scale(i,i,o),i}},9298:function(f,s,t){var a=t(5070),n=t(7649),i=t(7437),l=t(6109),o=t(7115),u=t(5240),h=t(3012),c=t(998),b=(t(3668),t(899)),d=[0,0,0];function g(x){this._components=x.slice(),this._time=[0],this.prevMatrix=x.slice(),this.nextMatrix=x.slice(),this.computedMatrix=x.slice(),this.computedInverse=x.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}f.exports=function(x){return new g((x=x||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var m=g.prototype;m.recalcMatrix=function(x){var T=this._time,p=a.le(T,x),S=this.computedMatrix;if(!(p<0)){var M=this._components;if(p===T.length-1)for(var E=16*p,P=0;P<16;++P)S[P]=M[E++];else{var O=T[p+1]-T[p],I=(E=16*p,this.prevMatrix),R=!0;for(P=0;P<16;++P)I[P]=M[E++];var U=this.nextMatrix;for(P=0;P<16;++P)U[P]=M[E++],R=R&&I[P]===U[P];if(O<1e-6||R)for(P=0;P<16;++P)S[P]=I[P];else n(S,I,U,(x-T[p])/O)}var z=this.computedUp;z[0]=S[1],z[1]=S[5],z[2]=S[9],b(z,z);var j=this.computedInverse;i(j,S);var W=this.computedEye,F=j[15];W[0]=j[12]/F,W[1]=j[13]/F,W[2]=j[14]/F;var V=this.computedCenter,H=Math.exp(this.computedRadius[0]);for(P=0;P<3;++P)V[P]=W[P]-S[2+4*P]*H}},m.idle=function(x){if(!(x<this.lastT())){for(var T=this._components,p=T.length-16,S=0;S<16;++S)T.push(T[p++]);this._time.push(x)}},m.flush=function(x){var T=a.gt(this._time,x)-2;T<0||(this._time.splice(0,T),this._components.splice(0,16*T))},m.lastT=function(){return this._time[this._time.length-1]},m.lookAt=function(x,T,p,S){this.recalcMatrix(x),T=T||this.computedEye,p=p||d,S=S||this.computedUp,this.setMatrix(x,h(this.computedMatrix,T,p,S));for(var M=0,E=0;E<3;++E)M+=Math.pow(p[E]-T[E],2);M=Math.log(Math.sqrt(M)),this.computedRadius[0]=M},m.rotate=function(x,T,p,S){this.recalcMatrix(x);var M=this.computedInverse;T&&o(M,M,T),p&&l(M,M,p),S&&u(M,M,S),this.setMatrix(x,i(this.computedMatrix,M))};var y=[0,0,0];m.pan=function(x,T,p,S){y[0]=-(T||0),y[1]=-(p||0),y[2]=-(S||0),this.recalcMatrix(x);var M=this.computedInverse;c(M,M,y),this.setMatrix(x,i(M,M))},m.translate=function(x,T,p,S){y[0]=T||0,y[1]=p||0,y[2]=S||0,this.recalcMatrix(x);var M=this.computedMatrix;c(M,M,y),this.setMatrix(x,M)},m.setMatrix=function(x,T){if(!(x<this.lastT())){this._time.push(x);for(var p=0;p<16;++p)this._components.push(T[p])}},m.setDistance=function(x,T){this.computedRadius[0]=T},m.setDistanceLimits=function(x,T){var p=this._limits;p[0]=x,p[1]=T},m.getDistanceLimits=function(x){var T=this._limits;return x?(x[0]=T[0],x[1]=T[1],x):T}},3266:function(f,s,t){f.exports=function(n){var i=n.length;if(i<3){for(var l=new Array(i),o=0;o<i;++o)l[o]=o;return i===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:l}var u=new Array(i);for(o=0;o<i;++o)u[o]=o;u.sort(function(T,p){return n[T][0]-n[p][0]||n[T][1]-n[p][1]});var h=[u[0],u[1]],c=[u[0],u[1]];for(o=2;o<i;++o){for(var b=u[o],d=n[b],g=h.length;g>1&&a(n[h[g-2]],n[h[g-1]],d)<=0;)g-=1,h.pop();for(h.push(b),g=c.length;g>1&&a(n[c[g-2]],n[c[g-1]],d)>=0;)g-=1,c.pop();c.push(b)}l=new Array(c.length+h.length-2);for(var m=0,y=(o=0,h.length);o<y;++o)l[m++]=h[o];for(var x=c.length-2;x>0;--x)l[m++]=c[x];return l};var a=t(417)[3]},6145:function(f,s,t){f.exports=function(n,i){i||(i=n,n=window);var l=0,o=0,u=0,h={shift:!1,alt:!1,control:!1,meta:!1},c=!1;function b(E){var P=!1;return"altKey"in E&&(P=P||E.altKey!==h.alt,h.alt=!!E.altKey),"shiftKey"in E&&(P=P||E.shiftKey!==h.shift,h.shift=!!E.shiftKey),"ctrlKey"in E&&(P=P||E.ctrlKey!==h.control,h.control=!!E.ctrlKey),"metaKey"in E&&(P=P||E.metaKey!==h.meta,h.meta=!!E.metaKey),P}function d(E,P){var O=a.x(P),I=a.y(P);"buttons"in P&&(E=0|P.buttons),(E!==l||O!==o||I!==u||b(P))&&(l=0|E,o=O||0,u=I||0,i&&i(l,o,u,h))}function g(E){d(0,E)}function m(){(l||o||u||h.shift||h.alt||h.meta||h.control)&&(o=u=0,l=0,h.shift=h.alt=h.control=h.meta=!1,i&&i(0,0,0,h))}function y(E){b(E)&&i&&i(l,o,u,h)}function x(E){a.buttons(E)===0?d(0,E):d(l,E)}function T(E){d(l|a.buttons(E),E)}function p(E){d(l&~a.buttons(E),E)}function S(){c||(c=!0,n.addEventListener("mousemove",x),n.addEventListener("mousedown",T),n.addEventListener("mouseup",p),n.addEventListener("mouseleave",g),n.addEventListener("mouseenter",g),n.addEventListener("mouseout",g),n.addEventListener("mouseover",g),n.addEventListener("blur",m),n.addEventListener("keyup",y),n.addEventListener("keydown",y),n.addEventListener("keypress",y),n!==window&&(window.addEventListener("blur",m),window.addEventListener("keyup",y),window.addEventListener("keydown",y),window.addEventListener("keypress",y)))}S();var M={element:n};return Object.defineProperties(M,{enabled:{get:function(){return c},set:function(E){E?S():c&&(c=!1,n.removeEventListener("mousemove",x),n.removeEventListener("mousedown",T),n.removeEventListener("mouseup",p),n.removeEventListener("mouseleave",g),n.removeEventListener("mouseenter",g),n.removeEventListener("mouseout",g),n.removeEventListener("mouseover",g),n.removeEventListener("blur",m),n.removeEventListener("keyup",y),n.removeEventListener("keydown",y),n.removeEventListener("keypress",y),n!==window&&(window.removeEventListener("blur",m),window.removeEventListener("keyup",y),window.removeEventListener("keydown",y),window.removeEventListener("keypress",y)))},enumerable:!0},buttons:{get:function(){return l},enumerable:!0},x:{get:function(){return o},enumerable:!0},y:{get:function(){return u},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),M};var a=t(4110)},2565:function(f){var s={left:0,top:0};f.exports=function(t,a,n){a=a||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var i,l=t.clientX||0,o=t.clientY||0,u=(i=a)===window||i===document||i===document.body?s:i.getBoundingClientRect();return n[0]=l-u.left,n[1]=o-u.top,n}},4110:function(f,s){function t(a){return a.target||a.srcElement||window}s.buttons=function(a){if(typeof a=="object"){if("buttons"in a)return a.buttons;if("which"in a){if((n=a.which)===2)return 4;if(n===3)return 2;if(n>0)return 1<<n-1}else if("button"in a){var n;if((n=a.button)===1)return 4;if(n===2)return 2;if(n>=0)return 1<<n}}return 0},s.element=t,s.x=function(a){if(typeof a=="object"){if("offsetX"in a)return a.offsetX;var n=t(a).getBoundingClientRect();return a.clientX-n.left}return 0},s.y=function(a){if(typeof a=="object"){if("offsetY"in a)return a.offsetY;var n=t(a).getBoundingClientRect();return a.clientY-n.top}return 0}},6475:function(f,s,t){var a=t(14);f.exports=function(n,i,l){typeof n=="function"&&(l=!!i,i=n,n=window);var o=a("ex",n),u=function(h){l&&h.preventDefault();var c=h.deltaX||0,b=h.deltaY||0,d=h.deltaZ||0,g=1;switch(h.deltaMode){case 1:g=o;break;case 2:g=window.innerHeight}if(b*=g,d*=g,(c*=g)||b||d)return i(c,b,d,h)};return n.addEventListener("wheel",u),u}},9284:function(f,s,t){var a=t(5306);f.exports=function(i){function l(d){throw new Error("ndarray-extract-contour: "+d)}typeof i!="object"&&l("Must specify arguments");var o=i.order;Array.isArray(o)||l("Must specify order");var u=i.arrayArguments||1;u<1&&l("Must have at least one array argument"),(i.scalarArguments||0)<0&&l("Scalar arg count must be > 0"),typeof i.vertex!="function"&&l("Must specify vertex creation function"),typeof i.cell!="function"&&l("Must specify cell creation function"),typeof i.phase!="function"&&l("Must specify phase function");for(var h=i.getters||[],c=new Array(u),b=0;b<u;++b)h.indexOf(b)>=0?c[b]=!0:c[b]=!1;return function(d,g,m,y,x,T){var p=[T,x].join(",");return(0,n[p])(d,g,m,a.mallocUint32,a.freeUint32)}(i.vertex,i.cell,i.phase,0,o,c)};var n={"false,0,1":function(i,l,o,u,h){return function(c,b,d,g){var m,y=0|c.shape[0],x=0|c.shape[1],T=c.data,p=0|c.offset,S=0|c.stride[0],M=0|c.stride[1],E=p,P=0|-S,O=0,I=0|-M,R=0,U=-S-M|0,z=0,j=0|S,W=M-S*y|0,F=0,V=0,H=0,te=2*y|0,Q=u(te),K=u(te),X=0,J=0,ee=-1,ie=-1,oe=0,ae=0|-y,ce=0|y,ge=0,ve=-y-1|0,be=y-1|0,we=0,ye=0,me=0;for(F=0;F<y;++F)Q[X++]=o(T[E],b,d,g),E+=j;if(E+=W,x>0){if(V=1,Q[X++]=o(T[E],b,d,g),E+=j,y>0)for(F=1,m=T[E],J=Q[X]=o(m,b,d,g),oe=Q[X+ee],ge=Q[X+ae],we=Q[X+ve],J===oe&&J===ge&&J===we||(O=T[E+P],R=T[E+I],z=T[E+U],i(F,V,m,O,R,z,J,oe,ge,we,b,d,g),ye=K[X]=H++),X+=1,E+=j,F=2;F<y;++F)m=T[E],J=Q[X]=o(m,b,d,g),oe=Q[X+ee],ge=Q[X+ae],we=Q[X+ve],J===oe&&J===ge&&J===we||(O=T[E+P],R=T[E+I],z=T[E+U],i(F,V,m,O,R,z,J,oe,ge,we,b,d,g),ye=K[X]=H++,we!==oe&&l(K[X+ee],ye,z,O,we,oe,b,d,g)),X+=1,E+=j;for(E+=W,X=0,me=ee,ee=ie,ie=me,me=ae,ae=ce,ce=me,me=ve,ve=be,be=me,V=2;V<x;++V){if(Q[X++]=o(T[E],b,d,g),E+=j,y>0)for(F=1,m=T[E],J=Q[X]=o(m,b,d,g),oe=Q[X+ee],ge=Q[X+ae],we=Q[X+ve],J===oe&&J===ge&&J===we||(O=T[E+P],R=T[E+I],z=T[E+U],i(F,V,m,O,R,z,J,oe,ge,we,b,d,g),ye=K[X]=H++,we!==ge&&l(K[X+ae],ye,R,z,ge,we,b,d,g)),X+=1,E+=j,F=2;F<y;++F)m=T[E],J=Q[X]=o(m,b,d,g),oe=Q[X+ee],ge=Q[X+ae],we=Q[X+ve],J===oe&&J===ge&&J===we||(O=T[E+P],R=T[E+I],z=T[E+U],i(F,V,m,O,R,z,J,oe,ge,we,b,d,g),ye=K[X]=H++,we!==ge&&l(K[X+ae],ye,R,z,ge,we,b,d,g),we!==oe&&l(K[X+ee],ye,z,O,we,oe,b,d,g)),X+=1,E+=j;1&V&&(X=0),me=ee,ee=ie,ie=me,me=ae,ae=ce,ce=me,me=ve,ve=be,be=me,E+=W}}h(K),h(Q)}},"false,1,0":function(i,l,o,u,h){return function(c,b,d,g){var m,y=0|c.shape[0],x=0|c.shape[1],T=c.data,p=0|c.offset,S=0|c.stride[0],M=0|c.stride[1],E=p,P=0|-S,O=0,I=0|-M,R=0,U=-S-M|0,z=0,j=0|M,W=S-M*x|0,F=0,V=0,H=0,te=2*x|0,Q=u(te),K=u(te),X=0,J=0,ee=-1,ie=-1,oe=0,ae=0|-x,ce=0|x,ge=0,ve=-x-1|0,be=x-1|0,we=0,ye=0,me=0;for(V=0;V<x;++V)Q[X++]=o(T[E],b,d,g),E+=j;if(E+=W,y>0){if(F=1,Q[X++]=o(T[E],b,d,g),E+=j,x>0)for(V=1,m=T[E],J=Q[X]=o(m,b,d,g),ge=Q[X+ae],oe=Q[X+ee],we=Q[X+ve],J===ge&&J===oe&&J===we||(O=T[E+P],R=T[E+I],z=T[E+U],i(F,V,m,O,R,z,J,ge,oe,we,b,d,g),ye=K[X]=H++),X+=1,E+=j,V=2;V<x;++V)m=T[E],J=Q[X]=o(m,b,d,g),ge=Q[X+ae],oe=Q[X+ee],we=Q[X+ve],J===ge&&J===oe&&J===we||(O=T[E+P],R=T[E+I],z=T[E+U],i(F,V,m,O,R,z,J,ge,oe,we,b,d,g),ye=K[X]=H++,we!==oe&&l(K[X+ee],ye,R,z,oe,we,b,d,g)),X+=1,E+=j;for(E+=W,X=0,me=ae,ae=ce,ce=me,me=ee,ee=ie,ie=me,me=ve,ve=be,be=me,F=2;F<y;++F){if(Q[X++]=o(T[E],b,d,g),E+=j,x>0)for(V=1,m=T[E],J=Q[X]=o(m,b,d,g),ge=Q[X+ae],oe=Q[X+ee],we=Q[X+ve],J===ge&&J===oe&&J===we||(O=T[E+P],R=T[E+I],z=T[E+U],i(F,V,m,O,R,z,J,ge,oe,we,b,d,g),ye=K[X]=H++,we!==ge&&l(K[X+ae],ye,z,O,we,ge,b,d,g)),X+=1,E+=j,V=2;V<x;++V)m=T[E],J=Q[X]=o(m,b,d,g),ge=Q[X+ae],oe=Q[X+ee],we=Q[X+ve],J===ge&&J===oe&&J===we||(O=T[E+P],R=T[E+I],z=T[E+U],i(F,V,m,O,R,z,J,ge,oe,we,b,d,g),ye=K[X]=H++,we!==oe&&l(K[X+ee],ye,R,z,oe,we,b,d,g),we!==ge&&l(K[X+ae],ye,z,O,we,ge,b,d,g)),X+=1,E+=j;1&F&&(X=0),me=ae,ae=ce,ce=me,me=ee,ee=ie,ie=me,me=ve,ve=be,be=me,E+=W}}h(K),h(Q)}}}},9144:function(f,s,t){var a=t(3094),n={zero:function(y,x,T,p){var S=y[0];p|=0;var M=0,E=T[0];for(M=0;M<S;++M)x[p]=0,p+=E},fdTemplate1:function(y,x,T,p,S,M,E){var P=y[0],O=T[0],I=-1*O,R=O;p|=0,E|=0;var U=0,z=O,j=M[0];for(U=0;U<P;++U)S[E]=.5*(x[p+I]-x[p+R]),p+=z,E+=j},fdTemplate2:function(y,x,T,p,S,M,E,P,O,I){var R=y[0],U=y[1],z=T[0],j=T[1],W=M[0],F=M[1],V=O[0],H=O[1],te=-1*z,Q=z,K=-1*j,X=j;p|=0,E|=0,I|=0;var J=0,ee=0,ie=j,oe=z-U*j,ae=F,ce=W-U*F,ge=H,ve=V-U*H;for(ee=0;ee<R;++ee){for(J=0;J<U;++J)S[E]=.5*(x[p+te]-x[p+Q]),P[I]=.5*(x[p+K]-x[p+X]),p+=ie,E+=ae,I+=ge;p+=oe,E+=ce,I+=ve}}},i={cdiff:function(y){var x={};return function(T,p,S){var M=T.dtype,E=T.order,P=p.dtype,O=p.order,I=S.dtype,R=S.order,U=[M,E.join(),P,O.join(),I,R.join()].join(),z=x[U];return z||(x[U]=z=y([M,E,P,O,I,R])),z(T.shape.slice(0),T.data,T.stride,0|T.offset,p.data,p.stride,0|p.offset,S.data,S.stride,0|S.offset)}},zero:function(y){var x={};return function(T){var p=T.dtype,S=T.order,M=[p,S.join()].join(),E=x[M];return E||(x[M]=E=y([p,S])),E(T.shape.slice(0),T.data,T.stride,0|T.offset)}},fdTemplate1:function(y){var x={};return function(T,p){var S=T.dtype,M=T.order,E=p.dtype,P=p.order,O=[S,M.join(),E,P.join()].join(),I=x[O];return I||(x[O]=I=y([S,M,E,P])),I(T.shape.slice(0),T.data,T.stride,0|T.offset,p.data,p.stride,0|p.offset)}},fdTemplate2:function(y){var x={};return function(T,p,S){var M=T.dtype,E=T.order,P=p.dtype,O=p.order,I=S.dtype,R=S.order,U=[M,E.join(),P,O.join(),I,R.join()].join(),z=x[U];return z||(x[U]=z=y([M,E,P,O,I,R])),z(T.shape.slice(0),T.data,T.stride,0|T.offset,p.data,p.stride,0|p.offset,S.data,S.stride,0|S.offset)}}};function l(y){return(0,i[y.funcName])(o.bind(void 0,y))}function o(y){return n[y.funcName]}function u(y){return l({funcName:y.funcName})}var h={},c={},b=u({funcName:"cdiff"}),d=u({funcName:"zero"});function g(y){return y in h?h[y]:h[y]=u({funcName:"fdTemplate"+y})}function m(y,x,T,p){return function(S,M){var E=M.shape.slice();return E[0]>2&&E[1]>2&&p(M.pick(-1,-1).lo(1,1).hi(E[0]-2,E[1]-2),S.pick(-1,-1,0).lo(1,1).hi(E[0]-2,E[1]-2),S.pick(-1,-1,1).lo(1,1).hi(E[0]-2,E[1]-2)),E[1]>2&&(T(M.pick(0,-1).lo(1).hi(E[1]-2),S.pick(0,-1,1).lo(1).hi(E[1]-2)),x(S.pick(0,-1,0).lo(1).hi(E[1]-2))),E[1]>2&&(T(M.pick(E[0]-1,-1).lo(1).hi(E[1]-2),S.pick(E[0]-1,-1,1).lo(1).hi(E[1]-2)),x(S.pick(E[0]-1,-1,0).lo(1).hi(E[1]-2))),E[0]>2&&(T(M.pick(-1,0).lo(1).hi(E[0]-2),S.pick(-1,0,0).lo(1).hi(E[0]-2)),x(S.pick(-1,0,1).lo(1).hi(E[0]-2))),E[0]>2&&(T(M.pick(-1,E[1]-1).lo(1).hi(E[0]-2),S.pick(-1,E[1]-1,0).lo(1).hi(E[0]-2)),x(S.pick(-1,E[1]-1,1).lo(1).hi(E[0]-2))),S.set(0,0,0,0),S.set(0,0,1,0),S.set(E[0]-1,0,0,0),S.set(E[0]-1,0,1,0),S.set(0,E[1]-1,0,0),S.set(0,E[1]-1,1,0),S.set(E[0]-1,E[1]-1,0,0),S.set(E[0]-1,E[1]-1,1,0),S}}f.exports=function(y,x,T){return Array.isArray(T)||(T=a(x.dimension,typeof T=="string"?T:"clamp")),x.size===0?y:x.dimension===0?(y.set(0),y):function(p){var S=p.join();if(O=c[S])return O;for(var M=p.length,E=[b,d],P=1;P<=M;++P)E.push(g(P));var O=m.apply(void 0,E);return c[S]=O,O}(T)(y,x)}},3581:function(f){function s(i,l){var o=Math.floor(l),u=l-o,h=0<=o&&o<i.shape[0],c=0<=o+1&&o+1<i.shape[0];return(1-u)*(h?+i.get(o):0)+u*(c?+i.get(o+1):0)}function t(i,l,o){var u=Math.floor(l),h=l-u,c=0<=u&&u<i.shape[0],b=0<=u+1&&u+1<i.shape[0],d=Math.floor(o),g=o-d,m=0<=d&&d<i.shape[1],y=0<=d+1&&d+1<i.shape[1],x=c&&m?i.get(u,d):0,T=c&&y?i.get(u,d+1):0;return(1-g)*((1-h)*x+h*(b&&m?i.get(u+1,d):0))+g*((1-h)*T+h*(b&&y?i.get(u+1,d+1):0))}function a(i,l,o,u){var h=Math.floor(l),c=l-h,b=0<=h&&h<i.shape[0],d=0<=h+1&&h+1<i.shape[0],g=Math.floor(o),m=o-g,y=0<=g&&g<i.shape[1],x=0<=g+1&&g+1<i.shape[1],T=Math.floor(u),p=u-T,S=0<=T&&T<i.shape[2],M=0<=T+1&&T+1<i.shape[2],E=b&&y&&S?i.get(h,g,T):0,P=b&&x&&S?i.get(h,g+1,T):0,O=d&&y&&S?i.get(h+1,g,T):0,I=d&&x&&S?i.get(h+1,g+1,T):0,R=b&&y&&M?i.get(h,g,T+1):0,U=b&&x&&M?i.get(h,g+1,T+1):0;return(1-p)*((1-m)*((1-c)*E+c*O)+m*((1-c)*P+c*I))+p*((1-m)*((1-c)*R+c*(d&&y&&M?i.get(h+1,g,T+1):0))+m*((1-c)*U+c*(d&&x&&M?i.get(h+1,g+1,T+1):0)))}function n(i){var l,o,u=0|i.shape.length,h=new Array(u),c=new Array(u),b=new Array(u),d=new Array(u);for(l=0;l<u;++l)o=+arguments[l+1],h[l]=Math.floor(o),c[l]=o-h[l],b[l]=0<=h[l]&&h[l]<i.shape[l],d[l]=0<=h[l]+1&&h[l]+1<i.shape[l];var g,m,y,x=0;e:for(l=0;l<1<<u;++l){for(m=1,y=i.offset,g=0;g<u;++g)if(l&1<<g){if(!d[g])continue e;m*=c[g],y+=i.stride[g]*(h[g]+1)}else{if(!b[g])continue e;m*=1-c[g],y+=i.stride[g]*h[g]}x+=m*i.data[y]}return x}f.exports=function(i,l,o,u){switch(i.shape.length){case 0:return 0;case 1:return s(i,l);case 2:return t(i,l,o);case 3:return a(i,l,o,u);default:return n.apply(void 0,arguments)}},f.exports.d1=s,f.exports.d2=t,f.exports.d3=a},7498:function(f,s){var t={"float64,2,1,0":function(){return function(o,u,h,c,b){var d=o[0],g=o[1],m=o[2],y=h[0],x=h[1],T=h[2];c|=0;var p=0,S=0,M=0,E=T,P=x-m*T,O=y-g*x;for(M=0;M<d;++M){for(S=0;S<g;++S){for(p=0;p<m;++p)u[c]/=b,c+=E;c+=P}c+=O}}},"uint8,2,0,1,float64,2,1,0":function(){return function(o,u,h,c,b,d,g,m){for(var y=o[0],x=o[1],T=o[2],p=h[0],S=h[1],M=h[2],E=d[0],P=d[1],O=d[2],I=c|=0,R=g|=0,U=0|o[0];U>0;){U<64?(y=U,U=0):(y=64,U-=64);for(var z=0|o[1];z>0;){z<64?(x=z,z=0):(x=64,z-=64),c=I+U*p+z*S,g=R+U*E+z*P;var j=0,W=0,F=0,V=M,H=p-T*M,te=S-y*p,Q=O,K=E-T*O,X=P-y*E;for(F=0;F<x;++F){for(W=0;W<y;++W){for(j=0;j<T;++j)u[c]=b[g]*m,c+=V,g+=Q;c+=H,g+=K}c+=te,g+=X}}}}},"float32,1,0,float32,1,0":function(){return function(o,u,h,c,b,d,g){var m=o[0],y=o[1],x=h[0],T=h[1],p=d[0],S=d[1];c|=0,g|=0;var M=0,E=0,P=T,O=x-y*T,I=S,R=p-y*S;for(E=0;E<m;++E){for(M=0;M<y;++M)u[c]=b[g],c+=P,g+=I;c+=O,g+=R}}},"float32,1,0,float32,0,1":function(){return function(o,u,h,c,b,d,g){for(var m=o[0],y=o[1],x=h[0],T=h[1],p=d[0],S=d[1],M=c|=0,E=g|=0,P=0|o[1];P>0;){P<64?(y=P,P=0):(y=64,P-=64);for(var O=0|o[0];O>0;){O<64?(m=O,O=0):(m=64,O-=64),c=M+P*T+O*x,g=E+P*S+O*p;var I=0,R=0,U=T,z=x-y*T,j=S,W=p-y*S;for(R=0;R<m;++R){for(I=0;I<y;++I)u[c]=b[g],c+=U,g+=j;c+=z,g+=W}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(o,u,h,c,b,d,g){for(var m=o[0],y=o[1],x=o[2],T=h[0],p=h[1],S=h[2],M=d[0],E=d[1],P=d[2],O=c|=0,I=g|=0,R=0|o[2];R>0;){R<64?(x=R,R=0):(x=64,R-=64);for(var U=0|o[0];U>0;){U<64?(m=U,U=0):(m=64,U-=64);for(var z=0|o[1];z>0;){z<64?(y=z,z=0):(y=64,z-=64),c=O+R*S+U*T+z*p,g=I+R*P+U*M+z*E;var j=0,W=0,F=0,V=S,H=T-x*S,te=p-m*T,Q=P,K=M-x*P,X=E-m*M;for(F=0;F<y;++F){for(W=0;W<m;++W){for(j=0;j<x;++j)u[c]=b[g],c+=V,g+=Q;c+=H,g+=K}c+=te,g+=X}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(o,u,h,c,b,d,g){var m=o[0],y=o[1],x=o[2],T=h[0],p=h[1],S=h[2],M=d[0],E=d[1],P=d[2];c|=0,g|=0;var O=0,I=0,R=0,U=S,z=T-x*S,j=p-m*T,W=P,F=M-x*P,V=E-m*M;for(R=0;R<y;++R){for(I=0;I<m;++I){for(O=0;O<x;++O)u[c]=b[g],c+=U,g+=W;c+=z,g+=F}c+=j,g+=V}}}},a=function(o,u){var h=u.join(",");return(0,t[h])()},n={mul:function(o){var u={};return function(h,c,b){var d=h.dtype,g=h.order,m=c.dtype,y=c.order,x=b.dtype,T=b.order,p=[d,g.join(),m,y.join(),x,T.join()].join(),S=u[p];return S||(u[p]=S=o([d,g,m,y,x,T])),S(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset,b.data,b.stride,0|b.offset)}},muls:function(o){var u={};return function(h,c,b){var d=h.dtype,g=h.order,m=c.dtype,y=c.order,x=[d,g.join(),m,y.join()].join(),T=u[x];return T||(u[x]=T=o([d,g,m,y])),T(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset,b)}},mulseq:function(o){var u={};return function(h,c){var b=h.dtype,d=h.order,g=[b,d.join()].join(),m=u[g];return m||(u[g]=m=o([b,d])),m(h.shape.slice(0),h.data,h.stride,0|h.offset,c)}},div:function(o){var u={};return function(h,c,b){var d=h.dtype,g=h.order,m=c.dtype,y=c.order,x=b.dtype,T=b.order,p=[d,g.join(),m,y.join(),x,T.join()].join(),S=u[p];return S||(u[p]=S=o([d,g,m,y,x,T])),S(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset,b.data,b.stride,0|b.offset)}},divs:function(o){var u={};return function(h,c,b){var d=h.dtype,g=h.order,m=c.dtype,y=c.order,x=[d,g.join(),m,y.join()].join(),T=u[x];return T||(u[x]=T=o([d,g,m,y])),T(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset,b)}},divseq:function(o){var u={};return function(h,c){var b=h.dtype,d=h.order,g=[b,d.join()].join(),m=u[g];return m||(u[g]=m=o([b,d])),m(h.shape.slice(0),h.data,h.stride,0|h.offset,c)}},assign:function(o){var u={};return function(h,c){var b=h.dtype,d=h.order,g=c.dtype,m=c.order,y=[b,d.join(),g,m.join()].join(),x=u[y];return x||(u[y]=x=o([b,d,g,m])),x(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset)}}};function i(o){return u={funcName:o.funcName},(0,n[u.funcName])(a.bind(void 0,u));var u}var l={mul:"*",div:"/"};(function(){for(var o in l)s[o]=i({funcName:o}),s[o+"s"]=i({funcName:o+"s"}),s[o+"seq"]=i({funcName:o+"seq"})})(),s.assign=i({funcName:"assign"})},7382:function(f,s,t){var a=t(5050),n=t(9262);f.exports=function(i,l){for(var o=[],u=i,h=1;Array.isArray(u);)o.push(u.length),h*=u.length,u=u[0];return o.length===0?a():(l||(l=a(new Float64Array(h),o)),n(l,i),l)}},9262:function(f){f.exports=function(s){var t={};return function(a,n){var i=a.dtype,l=a.order,o=[i,l.join()].join(),u=t[o];return u||(t[o]=u=s([i,l])),u(a.shape.slice(0),a.data,a.stride,0|a.offset,n)}}((function(){return function(s,t,a,n,i){var l=s[0],o=s[1],u=s[2],h=a[0],c=a[1],b=a[2],d=[0,0,0];n|=0;var g=0,m=0,y=0,x=b,T=c-u*b,p=h-o*c;for(y=0;y<l;++y){for(m=0;m<o;++m){for(g=0;g<u;++g){var S,M=i;for(S=0;S<d.length-1;++S)M=M[d[S]];t[n]=M[d[d.length-1]],n+=x,++d[2]}n+=T,d[2]-=u,++d[1]}n+=p,d[1]-=o,++d[0]}}}).bind(void 0,{funcName:"convert"}))},8139:function(f,s,t){var a=t(5306);function n(u){return u==="uint32"?[a.mallocUint32,a.freeUint32]:null}var i={"uint32,1,0":function(u,h){return function(c,b,d,g,m,y,x,T,p,S,M){var E,P,O,I,R,U,z,j,W=c*m+g,F=u(T);for(E=c+1;E<=b;++E){for(P=E,O=W+=m,R=0,U=W,I=0;I<T;++I)F[R++]=d[U],U+=p;e:for(;P-- >c;){R=0,U=O-m;t:for(I=0;I<T;++I){if((z=d[U])<(j=F[R]))break e;if(z>j)break t;U+=S,R+=M}for(R=O,U=O-m,I=0;I<T;++I)d[R]=d[U],R+=p,U+=p;O-=m}for(R=O,U=0,I=0;I<T;++I)d[R]=F[U++],R+=p}h(F)}}},l={"uint32,1,0":function(u,h,c){return function b(d,g,m,y,x,T,p,S,M,E,P){var O,I,R,U,z,j,W,F,V,H,te,Q,K,X,J,ee,ie,oe,ae,ce,ge,ve,be,we,ye,me=(g-d+1)/6|0,Ae=d+me,ke=g-me,fe=d+g>>1,le=fe-me,de=fe+me,Ce=Ae,Me=le,Le=fe,Oe=de,Be=ke,pe=d+1,_e=g-1,Te=!0,Re=0,Ne=0,ze=0,Ge=S,Ye=h(Ge),et=h(Ge);te=x*Ce,Q=x*Me,ye=y;e:for(H=0;H<S;++H){if(F=Q+ye,(ze=m[W=te+ye]-m[F])>0){I=Ce,Ce=Me,Me=I;break e}if(ze<0)break e;ye+=E}te=x*Oe,Q=x*Be,ye=y;e:for(H=0;H<S;++H){if(F=Q+ye,(ze=m[W=te+ye]-m[F])>0){I=Oe,Oe=Be,Be=I;break e}if(ze<0)break e;ye+=E}te=x*Ce,Q=x*Le,ye=y;e:for(H=0;H<S;++H){if(F=Q+ye,(ze=m[W=te+ye]-m[F])>0){I=Ce,Ce=Le,Le=I;break e}if(ze<0)break e;ye+=E}te=x*Me,Q=x*Le,ye=y;e:for(H=0;H<S;++H){if(F=Q+ye,(ze=m[W=te+ye]-m[F])>0){I=Me,Me=Le,Le=I;break e}if(ze<0)break e;ye+=E}te=x*Ce,Q=x*Oe,ye=y;e:for(H=0;H<S;++H){if(F=Q+ye,(ze=m[W=te+ye]-m[F])>0){I=Ce,Ce=Oe,Oe=I;break e}if(ze<0)break e;ye+=E}te=x*Le,Q=x*Oe,ye=y;e:for(H=0;H<S;++H){if(F=Q+ye,(ze=m[W=te+ye]-m[F])>0){I=Le,Le=Oe,Oe=I;break e}if(ze<0)break e;ye+=E}te=x*Me,Q=x*Be,ye=y;e:for(H=0;H<S;++H){if(F=Q+ye,(ze=m[W=te+ye]-m[F])>0){I=Me,Me=Be,Be=I;break e}if(ze<0)break e;ye+=E}te=x*Me,Q=x*Le,ye=y;e:for(H=0;H<S;++H){if(F=Q+ye,(ze=m[W=te+ye]-m[F])>0){I=Me,Me=Le,Le=I;break e}if(ze<0)break e;ye+=E}te=x*Oe,Q=x*Be,ye=y;e:for(H=0;H<S;++H){if(F=Q+ye,(ze=m[W=te+ye]-m[F])>0){I=Oe,Oe=Be,Be=I;break e}if(ze<0)break e;ye+=E}for(te=x*Ce,Q=x*Me,K=x*Le,X=x*Oe,J=x*Be,ee=x*Ae,ie=x*fe,oe=x*ke,we=0,ye=y,H=0;H<S;++H)W=te+ye,F=Q+ye,V=K+ye,ae=X+ye,ce=J+ye,ge=ee+ye,ve=ie+ye,be=oe+ye,Ye[we]=m[F],et[we]=m[ae],Te=Te&&Ye[we]===et[we],R=m[W],U=m[V],z=m[ce],m[ge]=R,m[ve]=U,m[be]=z,++we,ye+=M;for(te=x*le,Q=x*d,ye=y,H=0;H<S;++H)F=Q+ye,m[W=te+ye]=m[F],ye+=M;for(te=x*de,Q=x*g,ye=y,H=0;H<S;++H)F=Q+ye,m[W=te+ye]=m[F],ye+=M;if(Te)for(j=pe;j<=_e;++j){for(W=y+j*x,we=0,H=0;H<S&&(ze=m[W]-Ye[we])==0;++H)we+=P,W+=E;if(ze!==0)if(ze<0){if(j!==pe)for(te=x*j,Q=x*pe,ye=y,H=0;H<S;++H)F=Q+ye,O=m[W=te+ye],m[W]=m[F],m[F]=O,ye+=M;++pe}else for(;;){for(W=y+_e*x,we=0,H=0;H<S&&(ze=m[W]-Ye[we])==0;++H)we+=P,W+=E;if(!(ze>0)){if(ze<0){for(te=x*j,Q=x*pe,K=x*_e,ye=y,H=0;H<S;++H)F=Q+ye,V=K+ye,O=m[W=te+ye],m[W]=m[F],m[F]=m[V],m[V]=O,ye+=M;++pe,--_e;break}for(te=x*j,Q=x*_e,ye=y,H=0;H<S;++H)F=Q+ye,O=m[W=te+ye],m[W]=m[F],m[F]=O,ye+=M;--_e;break}_e--}}else for(j=pe;j<=_e;++j){for(W=y+j*x,we=0,H=0;H<S&&(Re=m[W]-Ye[we])==0;++H)we+=P,W+=E;if(Re<0){if(j!==pe)for(te=x*j,Q=x*pe,ye=y,H=0;H<S;++H)F=Q+ye,O=m[W=te+ye],m[W]=m[F],m[F]=O,ye+=M;++pe}else{for(W=y+j*x,we=0,H=0;H<S&&(Ne=m[W]-et[we])==0;++H)we+=P,W+=E;if(Ne>0)for(;;){for(W=y+_e*x,we=0,H=0;H<S&&(ze=m[W]-et[we])==0;++H)we+=P,W+=E;if(!(ze>0)){for(W=y+_e*x,we=0,H=0;H<S&&(ze=m[W]-Ye[we])==0;++H)we+=P,W+=E;if(ze<0){for(te=x*j,Q=x*pe,K=x*_e,ye=y,H=0;H<S;++H)F=Q+ye,V=K+ye,O=m[W=te+ye],m[W]=m[F],m[F]=m[V],m[V]=O,ye+=M;++pe,--_e}else{for(te=x*j,Q=x*_e,ye=y,H=0;H<S;++H)F=Q+ye,O=m[W=te+ye],m[W]=m[F],m[F]=O,ye+=M;--_e}break}if(--_e<j)break}}}for(te=x*d,Q=x*(pe-1),we=0,ye=y,H=0;H<S;++H)F=Q+ye,m[W=te+ye]=m[F],m[F]=Ye[we],++we,ye+=M;for(te=x*g,Q=x*(_e+1),we=0,ye=y,H=0;H<S;++H)F=Q+ye,m[W=te+ye]=m[F],m[F]=et[we],++we,ye+=M;if(pe-2-d<=32?u(d,pe-2,m,y,x,T,p,S,M,E,P):b(d,pe-2,m,y,x,T,p,S,M,E,P),g-(_e+2)<=32?u(_e+2,g,m,y,x,T,p,S,M,E,P):b(_e+2,g,m,y,x,T,p,S,M,E,P),Te)return c(Ye),void c(et);if(pe<Ae&&_e>ke){e:for(;;){for(W=y+pe*x,we=0,ye=y,H=0;H<S;++H){if(m[W]!==Ye[we])break e;++we,W+=M}++pe}e:for(;;){for(W=y+_e*x,we=0,ye=y,H=0;H<S;++H){if(m[W]!==et[we])break e;++we,W+=M}--_e}for(j=pe;j<=_e;++j){for(W=y+j*x,we=0,H=0;H<S&&(Re=m[W]-Ye[we])==0;++H)we+=P,W+=E;if(Re===0){if(j!==pe)for(te=x*j,Q=x*pe,ye=y,H=0;H<S;++H)F=Q+ye,O=m[W=te+ye],m[W]=m[F],m[F]=O,ye+=M;++pe}else{for(W=y+j*x,we=0,H=0;H<S&&(Ne=m[W]-et[we])==0;++H)we+=P,W+=E;if(Ne===0)for(;;){for(W=y+_e*x,we=0,H=0;H<S&&(ze=m[W]-et[we])==0;++H)we+=P,W+=E;if(ze!==0){for(W=y+_e*x,we=0,H=0;H<S&&(ze=m[W]-Ye[we])==0;++H)we+=P,W+=E;if(ze<0){for(te=x*j,Q=x*pe,K=x*_e,ye=y,H=0;H<S;++H)F=Q+ye,V=K+ye,O=m[W=te+ye],m[W]=m[F],m[F]=m[V],m[V]=O,ye+=M;++pe,--_e}else{for(te=x*j,Q=x*_e,ye=y,H=0;H<S;++H)F=Q+ye,O=m[W=te+ye],m[W]=m[F],m[F]=O,ye+=M;--_e}break}if(--_e<j)break}}}}c(Ye),c(et),_e-pe<=32?u(pe,_e,m,y,x,T,p,S,M,E,P):b(pe,_e,m,y,x,T,p,S,M,E,P)}}},o={"uint32,1,0":function(u,h){return function(c){var b=c.data,d=0|c.offset,g=c.shape,m=c.stride,y=0|m[0],x=0|g[0],T=0|m[1],p=0|g[1],S=T,M=T;x<=32?u(0,x-1,b,d,y,T,x,p,S,M,1):h(0,x-1,b,d,y,T,x,p,S,M,1)}}};f.exports=function(u,h){var c=[h,u].join(","),b=o[c],d=function(m,y){var x=n(y),T=[y,m].join(","),p=i[T];return x?p(x[0],x[1]):p()}(u,h),g=function(m,y,x){var T=n(y),p=[y,m].join(","),S=l[p];return m.length>1&&T?S(x,T[0],T[1]):S(x)}(u,h,d);return b(d,g)}},8729:function(f,s,t){var a=t(8139),n={};f.exports=function(i){var l=i.order,o=i.dtype,u=[l,o].join(":"),h=n[u];return h||(n[u]=h=a(l,o)),h(i),i}},5050:function(f,s,t){var a=t(4780),n=typeof Float64Array<"u";function i(c,b){return c[0]-b[0]}function l(){var c,b=this.stride,d=new Array(b.length);for(c=0;c<d.length;++c)d[c]=[Math.abs(b[c]),c];d.sort(i);var g=new Array(d.length);for(c=0;c<g.length;++c)g[c]=d[c][1];return g}var o={T:function(c){function b(g){this.data=g}var d=b.prototype;return d.dtype=c,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new b(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(g){return new b(g)}},0:function(c,b){function d(m,y){this.data=m,this.offset=y}var g=d.prototype;return g.dtype=c,g.index=function(){return this.offset},g.dimension=0,g.size=1,g.shape=g.stride=g.order=[],g.lo=g.hi=g.transpose=g.step=function(){return new d(this.data,this.offset)},g.pick=function(){return b(this.data)},g.valueOf=g.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},g.set=function(m){return c==="generic"?this.data.set(this.offset,m):this.data[this.offset]=m},function(m,y,x,T){return new d(m,T)}},1:function(c,b,d){function g(y,x,T,p){this.data=y,this.shape=[x],this.stride=[T],this.offset=0|p}var m=g.prototype;return m.dtype=c,m.dimension=1,Object.defineProperty(m,"size",{get:function(){return this.shape[0]}}),m.order=[0],m.set=function(y,x){return c==="generic"?this.data.set(this.offset+this.stride[0]*y,x):this.data[this.offset+this.stride[0]*y]=x},m.get=function(y){return c==="generic"?this.data.get(this.offset+this.stride[0]*y):this.data[this.offset+this.stride[0]*y]},m.index=function(y){return this.offset+this.stride[0]*y},m.hi=function(y){return new g(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,this.stride[0],this.offset)},m.lo=function(y){var x=this.offset,T=0,p=this.shape[0],S=this.stride[0];return typeof y=="number"&&y>=0&&(x+=S*(T=0|y),p-=T),new g(this.data,p,S,x)},m.step=function(y){var x=this.shape[0],T=this.stride[0],p=this.offset,S=0,M=Math.ceil;return typeof y=="number"&&((S=0|y)<0?(p+=T*(x-1),x=M(-x/S)):x=M(x/S),T*=S),new g(this.data,x,T,p)},m.transpose=function(y){y=y===void 0?0:0|y;var x=this.shape,T=this.stride;return new g(this.data,x[y],T[y],this.offset)},m.pick=function(y){var x=[],T=[],p=this.offset;return typeof y=="number"&&y>=0?p=p+this.stride[0]*y|0:(x.push(this.shape[0]),T.push(this.stride[0])),(0,b[x.length+1])(this.data,x,T,p)},function(y,x,T,p){return new g(y,x[0],T[0],p)}},2:function(c,b,d){function g(y,x,T,p,S,M){this.data=y,this.shape=[x,T],this.stride=[p,S],this.offset=0|M}var m=g.prototype;return m.dtype=c,m.dimension=2,Object.defineProperty(m,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(m,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),m.set=function(y,x,T){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*x,T):this.data[this.offset+this.stride[0]*y+this.stride[1]*x]=T},m.get=function(y,x){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*x):this.data[this.offset+this.stride[0]*y+this.stride[1]*x]},m.index=function(y,x){return this.offset+this.stride[0]*y+this.stride[1]*x},m.hi=function(y,x){return new g(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,typeof x!="number"||x<0?this.shape[1]:0|x,this.stride[0],this.stride[1],this.offset)},m.lo=function(y,x){var T=this.offset,p=0,S=this.shape[0],M=this.shape[1],E=this.stride[0],P=this.stride[1];return typeof y=="number"&&y>=0&&(T+=E*(p=0|y),S-=p),typeof x=="number"&&x>=0&&(T+=P*(p=0|x),M-=p),new g(this.data,S,M,E,P,T)},m.step=function(y,x){var T=this.shape[0],p=this.shape[1],S=this.stride[0],M=this.stride[1],E=this.offset,P=0,O=Math.ceil;return typeof y=="number"&&((P=0|y)<0?(E+=S*(T-1),T=O(-T/P)):T=O(T/P),S*=P),typeof x=="number"&&((P=0|x)<0?(E+=M*(p-1),p=O(-p/P)):p=O(p/P),M*=P),new g(this.data,T,p,S,M,E)},m.transpose=function(y,x){y=y===void 0?0:0|y,x=x===void 0?1:0|x;var T=this.shape,p=this.stride;return new g(this.data,T[y],T[x],p[y],p[x],this.offset)},m.pick=function(y,x){var T=[],p=[],S=this.offset;return typeof y=="number"&&y>=0?S=S+this.stride[0]*y|0:(T.push(this.shape[0]),p.push(this.stride[0])),typeof x=="number"&&x>=0?S=S+this.stride[1]*x|0:(T.push(this.shape[1]),p.push(this.stride[1])),(0,b[T.length+1])(this.data,T,p,S)},function(y,x,T,p){return new g(y,x[0],x[1],T[0],T[1],p)}},3:function(c,b,d){function g(y,x,T,p,S,M,E,P){this.data=y,this.shape=[x,T,p],this.stride=[S,M,E],this.offset=0|P}var m=g.prototype;return m.dtype=c,m.dimension=3,Object.defineProperty(m,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(m,"order",{get:function(){var y=Math.abs(this.stride[0]),x=Math.abs(this.stride[1]),T=Math.abs(this.stride[2]);return y>x?x>T?[2,1,0]:y>T?[1,2,0]:[1,0,2]:y>T?[2,0,1]:T>x?[0,1,2]:[0,2,1]}}),m.set=function(y,x,T,p){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*T,p):this.data[this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*T]=p},m.get=function(y,x,T){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*T):this.data[this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*T]},m.index=function(y,x,T){return this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*T},m.hi=function(y,x,T){return new g(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,typeof x!="number"||x<0?this.shape[1]:0|x,typeof T!="number"||T<0?this.shape[2]:0|T,this.stride[0],this.stride[1],this.stride[2],this.offset)},m.lo=function(y,x,T){var p=this.offset,S=0,M=this.shape[0],E=this.shape[1],P=this.shape[2],O=this.stride[0],I=this.stride[1],R=this.stride[2];return typeof y=="number"&&y>=0&&(p+=O*(S=0|y),M-=S),typeof x=="number"&&x>=0&&(p+=I*(S=0|x),E-=S),typeof T=="number"&&T>=0&&(p+=R*(S=0|T),P-=S),new g(this.data,M,E,P,O,I,R,p)},m.step=function(y,x,T){var p=this.shape[0],S=this.shape[1],M=this.shape[2],E=this.stride[0],P=this.stride[1],O=this.stride[2],I=this.offset,R=0,U=Math.ceil;return typeof y=="number"&&((R=0|y)<0?(I+=E*(p-1),p=U(-p/R)):p=U(p/R),E*=R),typeof x=="number"&&((R=0|x)<0?(I+=P*(S-1),S=U(-S/R)):S=U(S/R),P*=R),typeof T=="number"&&((R=0|T)<0?(I+=O*(M-1),M=U(-M/R)):M=U(M/R),O*=R),new g(this.data,p,S,M,E,P,O,I)},m.transpose=function(y,x,T){y=y===void 0?0:0|y,x=x===void 0?1:0|x,T=T===void 0?2:0|T;var p=this.shape,S=this.stride;return new g(this.data,p[y],p[x],p[T],S[y],S[x],S[T],this.offset)},m.pick=function(y,x,T){var p=[],S=[],M=this.offset;return typeof y=="number"&&y>=0?M=M+this.stride[0]*y|0:(p.push(this.shape[0]),S.push(this.stride[0])),typeof x=="number"&&x>=0?M=M+this.stride[1]*x|0:(p.push(this.shape[1]),S.push(this.stride[1])),typeof T=="number"&&T>=0?M=M+this.stride[2]*T|0:(p.push(this.shape[2]),S.push(this.stride[2])),(0,b[p.length+1])(this.data,p,S,M)},function(y,x,T,p){return new g(y,x[0],x[1],x[2],T[0],T[1],T[2],p)}},4:function(c,b,d){function g(y,x,T,p,S,M,E,P,O,I){this.data=y,this.shape=[x,T,p,S],this.stride=[M,E,P,O],this.offset=0|I}var m=g.prototype;return m.dtype=c,m.dimension=4,Object.defineProperty(m,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(m,"order",{get:d}),m.set=function(y,x,T,p,S){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*T+this.stride[3]*p,S):this.data[this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*T+this.stride[3]*p]=S},m.get=function(y,x,T,p){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*T+this.stride[3]*p):this.data[this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*T+this.stride[3]*p]},m.index=function(y,x,T,p){return this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*T+this.stride[3]*p},m.hi=function(y,x,T,p){return new g(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,typeof x!="number"||x<0?this.shape[1]:0|x,typeof T!="number"||T<0?this.shape[2]:0|T,typeof p!="number"||p<0?this.shape[3]:0|p,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},m.lo=function(y,x,T,p){var S=this.offset,M=0,E=this.shape[0],P=this.shape[1],O=this.shape[2],I=this.shape[3],R=this.stride[0],U=this.stride[1],z=this.stride[2],j=this.stride[3];return typeof y=="number"&&y>=0&&(S+=R*(M=0|y),E-=M),typeof x=="number"&&x>=0&&(S+=U*(M=0|x),P-=M),typeof T=="number"&&T>=0&&(S+=z*(M=0|T),O-=M),typeof p=="number"&&p>=0&&(S+=j*(M=0|p),I-=M),new g(this.data,E,P,O,I,R,U,z,j,S)},m.step=function(y,x,T,p){var S=this.shape[0],M=this.shape[1],E=this.shape[2],P=this.shape[3],O=this.stride[0],I=this.stride[1],R=this.stride[2],U=this.stride[3],z=this.offset,j=0,W=Math.ceil;return typeof y=="number"&&((j=0|y)<0?(z+=O*(S-1),S=W(-S/j)):S=W(S/j),O*=j),typeof x=="number"&&((j=0|x)<0?(z+=I*(M-1),M=W(-M/j)):M=W(M/j),I*=j),typeof T=="number"&&((j=0|T)<0?(z+=R*(E-1),E=W(-E/j)):E=W(E/j),R*=j),typeof p=="number"&&((j=0|p)<0?(z+=U*(P-1),P=W(-P/j)):P=W(P/j),U*=j),new g(this.data,S,M,E,P,O,I,R,U,z)},m.transpose=function(y,x,T,p){y=y===void 0?0:0|y,x=x===void 0?1:0|x,T=T===void 0?2:0|T,p=p===void 0?3:0|p;var S=this.shape,M=this.stride;return new g(this.data,S[y],S[x],S[T],S[p],M[y],M[x],M[T],M[p],this.offset)},m.pick=function(y,x,T,p){var S=[],M=[],E=this.offset;return typeof y=="number"&&y>=0?E=E+this.stride[0]*y|0:(S.push(this.shape[0]),M.push(this.stride[0])),typeof x=="number"&&x>=0?E=E+this.stride[1]*x|0:(S.push(this.shape[1]),M.push(this.stride[1])),typeof T=="number"&&T>=0?E=E+this.stride[2]*T|0:(S.push(this.shape[2]),M.push(this.stride[2])),typeof p=="number"&&p>=0?E=E+this.stride[3]*p|0:(S.push(this.shape[3]),M.push(this.stride[3])),(0,b[S.length+1])(this.data,S,M,E)},function(y,x,T,p){return new g(y,x[0],x[1],x[2],x[3],T[0],T[1],T[2],T[3],p)}},5:function(c,b,d){function g(y,x,T,p,S,M,E,P,O,I,R,U){this.data=y,this.shape=[x,T,p,S,M],this.stride=[E,P,O,I,R],this.offset=0|U}var m=g.prototype;return m.dtype=c,m.dimension=5,Object.defineProperty(m,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(m,"order",{get:d}),m.set=function(y,x,T,p,S,M){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*T+this.stride[3]*p+this.stride[4]*S,M):this.data[this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*T+this.stride[3]*p+this.stride[4]*S]=M},m.get=function(y,x,T,p,S){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*T+this.stride[3]*p+this.stride[4]*S):this.data[this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*T+this.stride[3]*p+this.stride[4]*S]},m.index=function(y,x,T,p,S){return this.offset+this.stride[0]*y+this.stride[1]*x+this.stride[2]*T+this.stride[3]*p+this.stride[4]*S},m.hi=function(y,x,T,p,S){return new g(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,typeof x!="number"||x<0?this.shape[1]:0|x,typeof T!="number"||T<0?this.shape[2]:0|T,typeof p!="number"||p<0?this.shape[3]:0|p,typeof S!="number"||S<0?this.shape[4]:0|S,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},m.lo=function(y,x,T,p,S){var M=this.offset,E=0,P=this.shape[0],O=this.shape[1],I=this.shape[2],R=this.shape[3],U=this.shape[4],z=this.stride[0],j=this.stride[1],W=this.stride[2],F=this.stride[3],V=this.stride[4];return typeof y=="number"&&y>=0&&(M+=z*(E=0|y),P-=E),typeof x=="number"&&x>=0&&(M+=j*(E=0|x),O-=E),typeof T=="number"&&T>=0&&(M+=W*(E=0|T),I-=E),typeof p=="number"&&p>=0&&(M+=F*(E=0|p),R-=E),typeof S=="number"&&S>=0&&(M+=V*(E=0|S),U-=E),new g(this.data,P,O,I,R,U,z,j,W,F,V,M)},m.step=function(y,x,T,p,S){var M=this.shape[0],E=this.shape[1],P=this.shape[2],O=this.shape[3],I=this.shape[4],R=this.stride[0],U=this.stride[1],z=this.stride[2],j=this.stride[3],W=this.stride[4],F=this.offset,V=0,H=Math.ceil;return typeof y=="number"&&((V=0|y)<0?(F+=R*(M-1),M=H(-M/V)):M=H(M/V),R*=V),typeof x=="number"&&((V=0|x)<0?(F+=U*(E-1),E=H(-E/V)):E=H(E/V),U*=V),typeof T=="number"&&((V=0|T)<0?(F+=z*(P-1),P=H(-P/V)):P=H(P/V),z*=V),typeof p=="number"&&((V=0|p)<0?(F+=j*(O-1),O=H(-O/V)):O=H(O/V),j*=V),typeof S=="number"&&((V=0|S)<0?(F+=W*(I-1),I=H(-I/V)):I=H(I/V),W*=V),new g(this.data,M,E,P,O,I,R,U,z,j,W,F)},m.transpose=function(y,x,T,p,S){y=y===void 0?0:0|y,x=x===void 0?1:0|x,T=T===void 0?2:0|T,p=p===void 0?3:0|p,S=S===void 0?4:0|S;var M=this.shape,E=this.stride;return new g(this.data,M[y],M[x],M[T],M[p],M[S],E[y],E[x],E[T],E[p],E[S],this.offset)},m.pick=function(y,x,T,p,S){var M=[],E=[],P=this.offset;return typeof y=="number"&&y>=0?P=P+this.stride[0]*y|0:(M.push(this.shape[0]),E.push(this.stride[0])),typeof x=="number"&&x>=0?P=P+this.stride[1]*x|0:(M.push(this.shape[1]),E.push(this.stride[1])),typeof T=="number"&&T>=0?P=P+this.stride[2]*T|0:(M.push(this.shape[2]),E.push(this.stride[2])),typeof p=="number"&&p>=0?P=P+this.stride[3]*p|0:(M.push(this.shape[3]),E.push(this.stride[3])),typeof S=="number"&&S>=0?P=P+this.stride[4]*S|0:(M.push(this.shape[4]),E.push(this.stride[4])),(0,b[M.length+1])(this.data,M,E,P)},function(y,x,T,p){return new g(y,x[0],x[1],x[2],x[3],x[4],T[0],T[1],T[2],T[3],T[4],p)}}};function u(c,b){var d=b===-1?"T":String(b),g=o[d];return b===-1?g(c):b===0?g(c,h[c][0]):g(c,h[c],l)}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};f.exports=function(c,b,d,g){if(c===void 0)return(0,h.array[0])([]);typeof c=="number"&&(c=[c]),b===void 0&&(b=[c.length]);var m=b.length;if(d===void 0){d=new Array(m);for(var y=m-1,x=1;y>=0;--y)d[y]=x,x*=b[y]}if(g===void 0)for(g=0,y=0;y<m;++y)d[y]<0&&(g-=(b[y]-1)*d[y]);for(var T=function(S){if(a(S))return"buffer";if(n)switch(Object.prototype.toString.call(S)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(S)?"array":"generic"}(c),p=h[T];p.length<=m+1;)p.push(u(T,p.length-1));return(0,p[m+1])(c,b,d,g)}},8551:function(f,s,t){var a=t(8362),n=Math.pow(2,-1074),i=-1>>>0;f.exports=function(l,o){if(isNaN(l)||isNaN(o))return NaN;if(l===o)return l;if(l===0)return o<0?-n:n;var u=a.hi(l),h=a.lo(l);return o>l==l>0?h===i?(u+=1,h=0):h+=1:h===0?(h=i,u-=1):h-=1,a.pack(h,u)}},115:function(f,s){s.vertexNormals=function(t,a,n){for(var i=a.length,l=new Array(i),o=n===void 0?1e-6:n,u=0;u<i;++u)l[u]=[0,0,0];for(u=0;u<t.length;++u)for(var h=t[u],c=0,b=h[h.length-1],d=h[0],g=0;g<h.length;++g){c=b,b=d,d=h[(g+1)%h.length];for(var m=a[c],y=a[b],x=a[d],T=new Array(3),p=0,S=new Array(3),M=0,E=0;E<3;++E)T[E]=m[E]-y[E],p+=T[E]*T[E],S[E]=x[E]-y[E],M+=S[E]*S[E];if(p*M>o){var P=l[b],O=1/Math.sqrt(p*M);for(E=0;E<3;++E){var I=(E+1)%3,R=(E+2)%3;P[E]+=O*(S[I]*T[R]-S[R]*T[I])}}}for(u=0;u<i;++u){P=l[u];var U=0;for(E=0;E<3;++E)U+=P[E]*P[E];if(U>o)for(O=1/Math.sqrt(U),E=0;E<3;++E)P[E]*=O;else for(E=0;E<3;++E)P[E]=0}return l},s.faceNormals=function(t,a,n){for(var i=t.length,l=new Array(i),o=n===void 0?1e-6:n,u=0;u<i;++u){for(var h=t[u],c=new Array(3),b=0;b<3;++b)c[b]=a[h[b]];var d=new Array(3),g=new Array(3);for(b=0;b<3;++b)d[b]=c[1][b]-c[0][b],g[b]=c[2][b]-c[0][b];var m=new Array(3),y=0;for(b=0;b<3;++b){var x=(b+1)%3,T=(b+2)%3;m[b]=d[x]*g[T]-d[T]*g[x],y+=m[b]*m[b]}for(y=y>o?1/Math.sqrt(y):0,b=0;b<3;++b)m[b]*=y;l[u]=m}return l}},567:function(f){f.exports=function(s,t,a,n,i,l,o,u,h,c){var b=t+l+c;if(d>0){var d=Math.sqrt(b+1);s[0]=.5*(o-h)/d,s[1]=.5*(u-n)/d,s[2]=.5*(a-l)/d,s[3]=.5*d}else{var g=Math.max(t,l,c);d=Math.sqrt(2*g-b+1),t>=g?(s[0]=.5*d,s[1]=.5*(i+a)/d,s[2]=.5*(u+n)/d,s[3]=.5*(o-h)/d):l>=g?(s[0]=.5*(a+i)/d,s[1]=.5*d,s[2]=.5*(h+o)/d,s[3]=.5*(u-n)/d):(s[0]=.5*(n+u)/d,s[1]=.5*(o+h)/d,s[2]=.5*d,s[3]=.5*(a-i)/d)}return s}},7774:function(f,s,t){f.exports=function(g){var m=(g=g||{}).center||[0,0,0],y=g.rotation||[0,0,0,1],x=g.radius||1;m=[].slice.call(m,0,3),c(y=[].slice.call(y,0,4),y);var T=new b(y,m,Math.log(x));return T.setDistanceLimits(g.zoomMin,g.zoomMax),("eye"in g||"up"in g)&&T.lookAt(0,g.eye,g.center,g.up),T};var a=t(8444),n=t(3012),i=t(5950),l=t(7437),o=t(567);function u(g,m,y){return Math.sqrt(Math.pow(g,2)+Math.pow(m,2)+Math.pow(y,2))}function h(g,m,y,x){return Math.sqrt(Math.pow(g,2)+Math.pow(m,2)+Math.pow(y,2)+Math.pow(x,2))}function c(g,m){var y=m[0],x=m[1],T=m[2],p=m[3],S=h(y,x,T,p);S>1e-6?(g[0]=y/S,g[1]=x/S,g[2]=T/S,g[3]=p/S):(g[0]=g[1]=g[2]=0,g[3]=1)}function b(g,m,y){this.radius=a([y]),this.center=a(m),this.rotation=a(g),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var d=b.prototype;d.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},d.recalcMatrix=function(g){this.radius.curve(g),this.center.curve(g),this.rotation.curve(g);var m=this.computedRotation;c(m,m);var y=this.computedMatrix;i(y,m);var x=this.computedCenter,T=this.computedEye,p=this.computedUp,S=Math.exp(this.computedRadius[0]);T[0]=x[0]+S*y[2],T[1]=x[1]+S*y[6],T[2]=x[2]+S*y[10],p[0]=y[1],p[1]=y[5],p[2]=y[9];for(var M=0;M<3;++M){for(var E=0,P=0;P<3;++P)E+=y[M+4*P]*T[P];y[12+M]=-E}},d.getMatrix=function(g,m){this.recalcMatrix(g);var y=this.computedMatrix;if(m){for(var x=0;x<16;++x)m[x]=y[x];return m}return y},d.idle=function(g){this.center.idle(g),this.radius.idle(g),this.rotation.idle(g)},d.flush=function(g){this.center.flush(g),this.radius.flush(g),this.rotation.flush(g)},d.pan=function(g,m,y,x){m=m||0,y=y||0,x=x||0,this.recalcMatrix(g);var T=this.computedMatrix,p=T[1],S=T[5],M=T[9],E=u(p,S,M);p/=E,S/=E,M/=E;var P=T[0],O=T[4],I=T[8],R=P*p+O*S+I*M,U=u(P-=p*R,O-=S*R,I-=M*R);P/=U,O/=U,I/=U,T[2],T[6],T[10];var z=P*m+p*y,j=O*m+S*y,W=I*m+M*y;this.center.move(g,z,j,W);var F=Math.exp(this.computedRadius[0]);F=Math.max(1e-4,F+x),this.radius.set(g,Math.log(F))},d.rotate=function(g,m,y,x){this.recalcMatrix(g),m=m||0,y=y||0;var T=this.computedMatrix,p=T[0],S=T[4],M=T[8],E=T[1],P=T[5],O=T[9],I=T[2],R=T[6],U=T[10],z=m*p+y*E,j=m*S+y*P,W=m*M+y*O,F=-(R*W-U*j),V=-(U*z-I*W),H=-(I*j-R*z),te=Math.sqrt(Math.max(0,1-Math.pow(F,2)-Math.pow(V,2)-Math.pow(H,2))),Q=h(F,V,H,te);Q>1e-6?(F/=Q,V/=Q,H/=Q,te/=Q):(F=V=H=0,te=1);var K=this.computedRotation,X=K[0],J=K[1],ee=K[2],ie=K[3],oe=X*te+ie*F+J*H-ee*V,ae=J*te+ie*V+ee*F-X*H,ce=ee*te+ie*H+X*V-J*F,ge=ie*te-X*F-J*V-ee*H;if(x){F=I,V=R,H=U;var ve=Math.sin(x)/u(F,V,H);F*=ve,V*=ve,H*=ve,ge=ge*(te=Math.cos(m))-(oe=oe*te+ge*F+ae*H-ce*V)*F-(ae=ae*te+ge*V+ce*F-oe*H)*V-(ce=ce*te+ge*H+oe*V-ae*F)*H}var be=h(oe,ae,ce,ge);be>1e-6?(oe/=be,ae/=be,ce/=be,ge/=be):(oe=ae=ce=0,ge=1),this.rotation.set(g,oe,ae,ce,ge)},d.lookAt=function(g,m,y,x){this.recalcMatrix(g),y=y||this.computedCenter,m=m||this.computedEye,x=x||this.computedUp;var T=this.computedMatrix;n(T,m,y,x);var p=this.computedRotation;o(p,T[0],T[1],T[2],T[4],T[5],T[6],T[8],T[9],T[10]),c(p,p),this.rotation.set(g,p[0],p[1],p[2],p[3]);for(var S=0,M=0;M<3;++M)S+=Math.pow(y[M]-m[M],2);this.radius.set(g,.5*Math.log(Math.max(S,1e-6))),this.center.set(g,y[0],y[1],y[2])},d.translate=function(g,m,y,x){this.center.move(g,m||0,y||0,x||0)},d.setMatrix=function(g,m){var y=this.computedRotation;o(y,m[0],m[1],m[2],m[4],m[5],m[6],m[8],m[9],m[10]),c(y,y),this.rotation.set(g,y[0],y[1],y[2],y[3]);var x=this.computedMatrix;l(x,m);var T=x[15];if(Math.abs(T)>1e-6){var p=x[12]/T,S=x[13]/T,M=x[14]/T;this.recalcMatrix(g);var E=Math.exp(this.computedRadius[0]);this.center.set(g,p-x[2]*E,S-x[6]*E,M-x[10]*E),this.radius.idle(g)}else this.center.idle(g),this.radius.idle(g)},d.setDistance=function(g,m){m>0&&this.radius.set(g,Math.log(m))},d.setDistanceLimits=function(g,m){g=g>0?Math.log(g):-1/0,m=m>0?Math.log(m):1/0,m=Math.max(m,g),this.radius.bounds[0][0]=g,this.radius.bounds[1][0]=m},d.getDistanceLimits=function(g){var m=this.radius.bounds;return g?(g[0]=Math.exp(m[0][0]),g[1]=Math.exp(m[1][0]),g):[Math.exp(m[0][0]),Math.exp(m[1][0])]},d.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},d.fromJSON=function(g){var m=this.lastT(),y=g.center;y&&this.center.set(m,y[0],y[1],y[2]);var x=g.rotation;x&&this.rotation.set(m,x[0],x[1],x[2],x[3]);var T=g.distance;T&&T>0&&this.radius.set(m,Math.log(T)),this.setDistanceLimits(g.zoomMin,g.zoomMax)}},4930:function(f,s,t){var a=t(6184);f.exports=function(n,i,l){return a(l=l!==void 0?l+"":" ",i)+n}},4405:function(f){f.exports=function(s,t){t||(t=[0,""]),s=String(s);var a=parseFloat(s,10);return t[0]=a,t[1]=s.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},4166:function(f,s,t){f.exports=function(n,i){for(var l=0|i.length,o=n.length,u=[new Array(l),new Array(l)],h=0;h<l;++h)u[0][h]=[],u[1][h]=[];for(h=0;h<o;++h){var c=n[h];u[0][c[0]].push(c),u[1][c[1]].push(c)}var b=[];for(h=0;h<l;++h)u[0][h].length+u[1][h].length===0&&b.push([h]);function d(S,M){var E=u[M][S[M]];E.splice(E.indexOf(S),1)}function g(S,M,E){for(var P,O,I,R=0;R<2;++R)if(u[R][M].length>0){P=u[R][M][0],I=R;break}O=P[1^I];for(var U=0;U<2;++U)for(var z=u[U][M],j=0;j<z.length;++j){var W=z[j],F=W[1^U];a(i[S],i[M],i[O],i[F])>0&&(P=W,O=F,I=U)}return E||P&&d(P,I),O}function m(S,M){var E=u[M][S][0],P=[S];d(E,M);for(var O=E[1^M];;){for(;O!==S;)P.push(O),O=g(P[P.length-2],O,!1);if(u[0][S].length+u[1][S].length===0)break;var I=P[P.length-1],R=S,U=P[1],z=g(I,R,!0);if(a(i[I],i[R],i[U],i[z])<0)break;P.push(S),O=g(I,R)}return P}function y(S,M){return M[1]===M[M.length-1]}for(h=0;h<l;++h)for(var x=0;x<2;++x){for(var T=[];u[x][h].length>0;){u[0][h].length;var p=m(h,x);y(0,p)?T.push.apply(T,p):(T.length>0&&b.push(T),T=p)}T.length>0&&b.push(T)}return b};var a=t(9398)},3959:function(f,s,t){f.exports=function(n,i){for(var l=a(n,i.length),o=new Array(i.length),u=new Array(i.length),h=[],c=0;c<i.length;++c){var b=l[c].length;u[c]=b,o[c]=!0,b<=1&&h.push(c)}for(;h.length>0;){o[x=h.pop()]=!1;var d=l[x];for(c=0;c<d.length;++c){var g=d[c];--u[g]==0&&h.push(g)}}var m=new Array(i.length),y=[];for(c=0;c<i.length;++c)if(o[c]){var x=y.length;m[c]=x,y.push(i[c])}else m[c]=-1;var T=[];for(c=0;c<n.length;++c){var p=n[c];o[p[0]]&&o[p[1]]&&T.push([m[p[0]],m[p[1]]])}return[T,y]};var a=t(8348)},8040:function(f,s,t){f.exports=function(b,d){var g=h(b,d);b=g[0];for(var m=(d=g[1]).length,y=(b.length,a(b,d.length)),x=0;x<m;++x)if(y[x].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var T=n(b,d),p=(T=T.filter(function(me){for(var Ae=me.length,ke=[0],fe=0;fe<Ae;++fe){var le=d[me[fe]],de=d[me[(fe+1)%Ae]],Ce=l(-le[0],le[1]),Me=l(-le[0],de[1]),Le=l(de[0],le[1]),Oe=l(de[0],de[1]);ke=o(ke,o(o(Ce,Me),o(Le,Oe)))}return ke[ke.length-1]>0})).length,S=new Array(p),M=new Array(p);for(x=0;x<p;++x){S[x]=x;var E=new Array(p),P=T[x].map(function(me){return d[me]}),O=i([P]),I=0;e:for(var R=0;R<p;++R)if(E[R]=0,x!==R){for(var U=(we=T[R]).length,z=0;z<U;++z){var j=O(d[we[z]]);if(j!==0){j<0&&(E[R]=1,I+=1);continue e}}E[R]=1,I+=1}M[x]=[I,x,E]}for(M.sort(function(me,Ae){return Ae[0]-me[0]}),x=0;x<p;++x){var W=(E=M[x])[1],F=E[2];for(R=0;R<p;++R)F[R]&&(S[R]=W)}var V=function(me){for(var Ae=new Array(me),ke=0;ke<me;++ke)Ae[ke]=[];return Ae}(p);for(x=0;x<p;++x)V[x].push(S[x]),V[S[x]].push(x);var H={},te=c(m,!1);for(x=0;x<p;++x)for(U=(we=T[x]).length,R=0;R<U;++R){var Q=we[R],K=we[(R+1)%U],X=Math.min(Q,K)+":"+Math.max(Q,K);if(X in H){var J=H[X];V[J].push(x),V[x].push(J),te[Q]=te[K]=!0}else H[X]=x}function ee(me){for(var Ae=me.length,ke=0;ke<Ae;++ke)if(!te[me[ke]])return!1;return!0}var ie=[],oe=c(p,-1);for(x=0;x<p;++x)S[x]!==x||ee(T[x])?oe[x]=-1:(ie.push(x),oe[x]=0);for(g=[];ie.length>0;){var ae=ie.pop(),ce=V[ae];u(ce,function(me,Ae){return me-Ae});var ge,ve=ce.length,be=oe[ae];for(be===0&&(ge=[we=T[ae]]),x=0;x<ve;++x){var we,ye=ce[x];oe[ye]>=0||(oe[ye]=1^be,ie.push(ye),be===0&&(ee(we=T[ye])||(we.reverse(),ge.push(we))))}be===0&&g.push(ge)}return g};var a=t(8348),n=t(4166),i=t(211),l=t(9660),o=t(9662),u=t(1215),h=t(3959);function c(b,d){for(var g=new Array(b),m=0;m<b;++m)g[m]=d;return g}},211:function(f,s,t){f.exports=function(c){for(var b=c.length,d=[],g=[],m=0;m<b;++m)for(var y=c[m],x=y.length,T=x-1,p=0;p<x;T=p++){var S=y[T],M=y[p];S[0]===M[0]?g.push([S,M]):d.push([S,M])}if(d.length===0)return g.length===0?h:(E=u(g),function(I){return E(I[0],I[1])?0:1});var E,P=n(d),O=function(I,R){return function(U){var z=l.le(R,U[0]);if(z<0)return 1;var j=I[z];if(!j){if(!(z>0&&R[z]===U[0]))return 1;j=I[z-1]}for(var W=1;j;){var F=j.key,V=a(U,F[0],F[1]);if(F[0][0]<F[1][0])if(V<0)j=j.left;else{if(!(V>0))return 0;W=-1,j=j.right}else if(V>0)j=j.left;else{if(!(V<0))return 0;W=1,j=j.right}}return W}}(P.slabs,P.coordinates);return g.length===0?O:function(I,R){return function(U){return I(U[0],U[1])?0:R(U)}}(u(g),O)};var a=t(417)[3],n=t(4385),i=t(9014),l=t(5070);function o(){return!0}function u(c){for(var b={},d=0;d<c.length;++d){var g=c[d],m=g[0][0],y=g[0][1],x=g[1][1],T=[Math.min(y,x),Math.max(y,x)];m in b?b[m].push(T):b[m]=[T]}var p={},S=Object.keys(b);for(d=0;d<S.length;++d){var M=b[S[d]];p[S[d]]=i(M)}return function(E){return function(P,O){var I=E[P];return!!I&&!!I.queryPoint(O,o)}}(p)}function h(c){return 1}},7309:function(f){var s=new Float64Array(4),t=new Float64Array(4),a=new Float64Array(4);f.exports=function(n,i,l,o,u){s.length<o.length&&(s=new Float64Array(o.length),t=new Float64Array(o.length),a=new Float64Array(o.length));for(var h=0;h<o.length;++h)s[h]=n[h]-o[h],t[h]=i[h]-n[h],a[h]=l[h]-n[h];var c=0,b=0,d=0,g=0,m=0,y=0;for(h=0;h<o.length;++h){var x=t[h],T=a[h],p=s[h];c+=x*x,b+=x*T,d+=T*T,g+=p*x,m+=p*T,y+=p*p}var S,M,E,P,O,I=Math.abs(c*d-b*b),R=b*m-d*g,U=b*g-c*m;if(R+U<=I)if(R<0)U<0&&g<0?(U=0,-g>=c?(R=1,S=c+2*g+y):S=g*(R=-g/c)+y):(R=0,m>=0?(U=0,S=y):-m>=d?(U=1,S=d+2*m+y):S=m*(U=-m/d)+y);else if(U<0)U=0,g>=0?(R=0,S=y):-g>=c?(R=1,S=c+2*g+y):S=g*(R=-g/c)+y;else{var z=1/I;S=(R*=z)*(c*R+b*(U*=z)+2*g)+U*(b*R+d*U+2*m)+y}else R<0?(E=d+m)>(M=b+g)?(P=E-M)>=(O=c-2*b+d)?(R=1,U=0,S=c+2*g+y):S=(R=P/O)*(c*R+b*(U=1-R)+2*g)+U*(b*R+d*U+2*m)+y:(R=0,E<=0?(U=1,S=d+2*m+y):m>=0?(U=0,S=y):S=m*(U=-m/d)+y):U<0?(E=c+g)>(M=b+m)?(P=E-M)>=(O=c-2*b+d)?(U=1,R=0,S=d+2*m+y):S=(R=1-(U=P/O))*(c*R+b*U+2*g)+U*(b*R+d*U+2*m)+y:(U=0,E<=0?(R=1,S=c+2*g+y):g>=0?(R=0,S=y):S=g*(R=-g/c)+y):(P=d+m-b-g)<=0?(R=0,U=1,S=d+2*m+y):P>=(O=c-2*b+d)?(R=1,U=0,S=c+2*g+y):S=(R=P/O)*(c*R+b*(U=1-R)+2*g)+U*(b*R+d*U+2*m)+y;var j=1-R-U;for(h=0;h<o.length;++h)u[h]=j*n[h]+R*i[h]+U*l[h];return S<0?0:S}},1116:function(f,s,t){f.exports=t(6093)},7584:function(f,s,t){var a=t(1539);f.exports=function(n,i){for(var l=n.length,o=new Array(l),u=0;u<l;++u)o[u]=a(n[u],i[u]);return o}},2826:function(f,s,t){f.exports=function(n){for(var i=new Array(n.length),l=0;l<n.length;++l)i[l]=a(n[l]);return i};var a=t(5125)},4469:function(f,s,t){var a=t(5125),n=t(3962);f.exports=function(i,l){for(var o=a(l),u=i.length,h=new Array(u),c=0;c<u;++c)h[c]=n(i[c],o);return h}},6695:function(f,s,t){var a=t(4354);f.exports=function(n,i){for(var l=n.length,o=new Array(l),u=0;u<l;++u)o[u]=a(n[u],i[u]);return o}},7037:function(f,s,t){var a=t(9209),n=t(1284),i=t(9887);f.exports=function(l){l.sort(n);for(var o=l.length,u=0,h=0;h<o;++h){var c=l[h],b=i(c);if(b!==0){if(u>0){var d=l[u-1];if(a(c,d)===0&&i(d)!==b){u-=1;continue}}l[u++]=c}}return l.length=u,l}},6184:function(f){var s,t="";f.exports=function(a,n){if(typeof a!="string")throw new TypeError("expected a string");if(n===1)return a;if(n===2)return a+a;var i=a.length*n;if(s!==a||s===void 0)s=a,t="";else if(t.length>=i)return t.substr(0,i);for(;i>t.length&&n>1;)1&n&&(t+=a),n>>=1,a+=a;return t=(t+=a).substr(0,i)}},8161:function(f,s,t){f.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(f){f.exports=function(s){for(var t=s.length,a=s[s.length-1],n=t,i=t-2;i>=0;--i){var l=a;(h=(u=s[i])-((a=l+u)-l))&&(s[--n]=a,a=h)}var o=0;for(i=n;i<t;++i){var u,h;(h=(u=a)-((a=(l=s[i])+u)-l))&&(s[o++]=h)}return s[o++]=a,s.length=o,s}},8167:function(f,s,t){var a=t(9660),n=t(9662),i=t(8289),l=t(402);function o(m,y,x,T){return function(p){return T(m(x(p[0][0],p[1][1]),x(-p[0][1],p[1][0])))}}function u(m,y,x,T){return function(p){return T(m(y(m(x(p[1][1],p[2][2]),x(-p[1][2],p[2][1])),p[0][0]),m(y(m(x(p[1][0],p[2][2]),x(-p[1][2],p[2][0])),-p[0][1]),y(m(x(p[1][0],p[2][1]),x(-p[1][1],p[2][0])),p[0][2]))))}}function h(m,y,x,T){return function(p){return T(m(m(y(m(y(m(x(p[2][2],p[3][3]),x(-p[2][3],p[3][2])),p[1][1]),m(y(m(x(p[2][1],p[3][3]),x(-p[2][3],p[3][1])),-p[1][2]),y(m(x(p[2][1],p[3][2]),x(-p[2][2],p[3][1])),p[1][3]))),p[0][0]),y(m(y(m(x(p[2][2],p[3][3]),x(-p[2][3],p[3][2])),p[1][0]),m(y(m(x(p[2][0],p[3][3]),x(-p[2][3],p[3][0])),-p[1][2]),y(m(x(p[2][0],p[3][2]),x(-p[2][2],p[3][0])),p[1][3]))),-p[0][1])),m(y(m(y(m(x(p[2][1],p[3][3]),x(-p[2][3],p[3][1])),p[1][0]),m(y(m(x(p[2][0],p[3][3]),x(-p[2][3],p[3][0])),-p[1][1]),y(m(x(p[2][0],p[3][1]),x(-p[2][1],p[3][0])),p[1][3]))),p[0][2]),y(m(y(m(x(p[2][1],p[3][2]),x(-p[2][2],p[3][1])),p[1][0]),m(y(m(x(p[2][0],p[3][2]),x(-p[2][2],p[3][0])),-p[1][1]),y(m(x(p[2][0],p[3][1]),x(-p[2][1],p[3][0])),p[1][2]))),-p[0][3]))))}}function c(m,y,x,T){return function(p){return T(m(m(y(m(m(y(m(y(m(x(p[3][3],p[4][4]),x(-p[3][4],p[4][3])),p[2][2]),m(y(m(x(p[3][2],p[4][4]),x(-p[3][4],p[4][2])),-p[2][3]),y(m(x(p[3][2],p[4][3]),x(-p[3][3],p[4][2])),p[2][4]))),p[1][1]),y(m(y(m(x(p[3][3],p[4][4]),x(-p[3][4],p[4][3])),p[2][1]),m(y(m(x(p[3][1],p[4][4]),x(-p[3][4],p[4][1])),-p[2][3]),y(m(x(p[3][1],p[4][3]),x(-p[3][3],p[4][1])),p[2][4]))),-p[1][2])),m(y(m(y(m(x(p[3][2],p[4][4]),x(-p[3][4],p[4][2])),p[2][1]),m(y(m(x(p[3][1],p[4][4]),x(-p[3][4],p[4][1])),-p[2][2]),y(m(x(p[3][1],p[4][2]),x(-p[3][2],p[4][1])),p[2][4]))),p[1][3]),y(m(y(m(x(p[3][2],p[4][3]),x(-p[3][3],p[4][2])),p[2][1]),m(y(m(x(p[3][1],p[4][3]),x(-p[3][3],p[4][1])),-p[2][2]),y(m(x(p[3][1],p[4][2]),x(-p[3][2],p[4][1])),p[2][3]))),-p[1][4]))),p[0][0]),y(m(m(y(m(y(m(x(p[3][3],p[4][4]),x(-p[3][4],p[4][3])),p[2][2]),m(y(m(x(p[3][2],p[4][4]),x(-p[3][4],p[4][2])),-p[2][3]),y(m(x(p[3][2],p[4][3]),x(-p[3][3],p[4][2])),p[2][4]))),p[1][0]),y(m(y(m(x(p[3][3],p[4][4]),x(-p[3][4],p[4][3])),p[2][0]),m(y(m(x(p[3][0],p[4][4]),x(-p[3][4],p[4][0])),-p[2][3]),y(m(x(p[3][0],p[4][3]),x(-p[3][3],p[4][0])),p[2][4]))),-p[1][2])),m(y(m(y(m(x(p[3][2],p[4][4]),x(-p[3][4],p[4][2])),p[2][0]),m(y(m(x(p[3][0],p[4][4]),x(-p[3][4],p[4][0])),-p[2][2]),y(m(x(p[3][0],p[4][2]),x(-p[3][2],p[4][0])),p[2][4]))),p[1][3]),y(m(y(m(x(p[3][2],p[4][3]),x(-p[3][3],p[4][2])),p[2][0]),m(y(m(x(p[3][0],p[4][3]),x(-p[3][3],p[4][0])),-p[2][2]),y(m(x(p[3][0],p[4][2]),x(-p[3][2],p[4][0])),p[2][3]))),-p[1][4]))),-p[0][1])),m(y(m(m(y(m(y(m(x(p[3][3],p[4][4]),x(-p[3][4],p[4][3])),p[2][1]),m(y(m(x(p[3][1],p[4][4]),x(-p[3][4],p[4][1])),-p[2][3]),y(m(x(p[3][1],p[4][3]),x(-p[3][3],p[4][1])),p[2][4]))),p[1][0]),y(m(y(m(x(p[3][3],p[4][4]),x(-p[3][4],p[4][3])),p[2][0]),m(y(m(x(p[3][0],p[4][4]),x(-p[3][4],p[4][0])),-p[2][3]),y(m(x(p[3][0],p[4][3]),x(-p[3][3],p[4][0])),p[2][4]))),-p[1][1])),m(y(m(y(m(x(p[3][1],p[4][4]),x(-p[3][4],p[4][1])),p[2][0]),m(y(m(x(p[3][0],p[4][4]),x(-p[3][4],p[4][0])),-p[2][1]),y(m(x(p[3][0],p[4][1]),x(-p[3][1],p[4][0])),p[2][4]))),p[1][3]),y(m(y(m(x(p[3][1],p[4][3]),x(-p[3][3],p[4][1])),p[2][0]),m(y(m(x(p[3][0],p[4][3]),x(-p[3][3],p[4][0])),-p[2][1]),y(m(x(p[3][0],p[4][1]),x(-p[3][1],p[4][0])),p[2][3]))),-p[1][4]))),p[0][2]),m(y(m(m(y(m(y(m(x(p[3][2],p[4][4]),x(-p[3][4],p[4][2])),p[2][1]),m(y(m(x(p[3][1],p[4][4]),x(-p[3][4],p[4][1])),-p[2][2]),y(m(x(p[3][1],p[4][2]),x(-p[3][2],p[4][1])),p[2][4]))),p[1][0]),y(m(y(m(x(p[3][2],p[4][4]),x(-p[3][4],p[4][2])),p[2][0]),m(y(m(x(p[3][0],p[4][4]),x(-p[3][4],p[4][0])),-p[2][2]),y(m(x(p[3][0],p[4][2]),x(-p[3][2],p[4][0])),p[2][4]))),-p[1][1])),m(y(m(y(m(x(p[3][1],p[4][4]),x(-p[3][4],p[4][1])),p[2][0]),m(y(m(x(p[3][0],p[4][4]),x(-p[3][4],p[4][0])),-p[2][1]),y(m(x(p[3][0],p[4][1]),x(-p[3][1],p[4][0])),p[2][4]))),p[1][2]),y(m(y(m(x(p[3][1],p[4][2]),x(-p[3][2],p[4][1])),p[2][0]),m(y(m(x(p[3][0],p[4][2]),x(-p[3][2],p[4][0])),-p[2][1]),y(m(x(p[3][0],p[4][1]),x(-p[3][1],p[4][0])),p[2][2]))),-p[1][4]))),-p[0][3]),y(m(m(y(m(y(m(x(p[3][2],p[4][3]),x(-p[3][3],p[4][2])),p[2][1]),m(y(m(x(p[3][1],p[4][3]),x(-p[3][3],p[4][1])),-p[2][2]),y(m(x(p[3][1],p[4][2]),x(-p[3][2],p[4][1])),p[2][3]))),p[1][0]),y(m(y(m(x(p[3][2],p[4][3]),x(-p[3][3],p[4][2])),p[2][0]),m(y(m(x(p[3][0],p[4][3]),x(-p[3][3],p[4][0])),-p[2][2]),y(m(x(p[3][0],p[4][2]),x(-p[3][2],p[4][0])),p[2][3]))),-p[1][1])),m(y(m(y(m(x(p[3][1],p[4][3]),x(-p[3][3],p[4][1])),p[2][0]),m(y(m(x(p[3][0],p[4][3]),x(-p[3][3],p[4][0])),-p[2][1]),y(m(x(p[3][0],p[4][1]),x(-p[3][1],p[4][0])),p[2][3]))),p[1][2]),y(m(y(m(x(p[3][1],p[4][2]),x(-p[3][2],p[4][1])),p[2][0]),m(y(m(x(p[3][0],p[4][2]),x(-p[3][2],p[4][0])),-p[2][1]),y(m(x(p[3][0],p[4][1]),x(-p[3][1],p[4][0])),p[2][2]))),-p[1][3]))),p[0][4])))))}}function b(m){return(m===2?o:m===3?u:m===4?h:m===5?c:void 0)(n,i,a,l)}var d=[function(){return[0]},function(m){return[m[0][0]]}];function g(m,y,x,T,p,S,M,E){return function(P){switch(P.length){case 0:return m(P);case 1:return y(P);case 2:return x(P);case 3:return T(P);case 4:return p(P);case 5:return S(P)}var O=M[P.length];return O||(O=M[P.length]=E(P.length)),O(P)}}(function(){for(;d.length<6;)d.push(b(d.length));f.exports=g.apply(void 0,d.concat([d,b]));for(var m=0;m<d.length;++m)f.exports[m]=d[m]})()},9130:function(f,s,t){var a=t(9660),n=t(9662);f.exports=function(i,l){for(var o=a(i[0],l[0]),u=1;u<i.length;++u)o=n(o,a(i[u],l[u]));return o}},2227:function(f,s,t){var a=t(9660),n=t(9662),i=t(4078),l=t(8289);function o(y){return(y===3?u:y===4?h:y===5?c:b)(n,i,a,l)}function u(y,x,T,p){return function(S,M,E){var P=T(S[0],S[0]),O=p(P,M[0]),I=p(P,E[0]),R=T(M[0],M[0]),U=p(R,S[0]),z=p(R,E[0]),j=T(E[0],E[0]),W=p(j,S[0]),F=p(j,M[0]),V=y(x(F,z),x(U,O)),H=x(W,I),te=x(V,H);return te[te.length-1]}}function h(y,x,T,p){return function(S,M,E,P){var O=y(T(S[0],S[0]),T(S[1],S[1])),I=p(O,M[0]),R=p(O,E[0]),U=p(O,P[0]),z=y(T(M[0],M[0]),T(M[1],M[1])),j=p(z,S[0]),W=p(z,E[0]),F=p(z,P[0]),V=y(T(E[0],E[0]),T(E[1],E[1])),H=p(V,S[0]),te=p(V,M[0]),Q=p(V,P[0]),K=y(T(P[0],P[0]),T(P[1],P[1])),X=p(K,S[0]),J=p(K,M[0]),ee=p(K,E[0]),ie=y(y(p(x(ee,Q),M[1]),y(p(x(J,F),-E[1]),p(x(te,W),P[1]))),y(p(x(J,F),S[1]),y(p(x(X,U),-M[1]),p(x(j,I),P[1])))),oe=y(y(p(x(ee,Q),S[1]),y(p(x(X,U),-E[1]),p(x(H,R),P[1]))),y(p(x(te,W),S[1]),y(p(x(H,R),-M[1]),p(x(j,I),E[1])))),ae=x(ie,oe);return ae[ae.length-1]}}function c(y,x,T,p){return function(S,M,E,P,O){var I=y(T(S[0],S[0]),y(T(S[1],S[1]),T(S[2],S[2]))),R=p(I,M[0]),U=p(I,E[0]),z=p(I,P[0]),j=p(I,O[0]),W=y(T(M[0],M[0]),y(T(M[1],M[1]),T(M[2],M[2]))),F=p(W,S[0]),V=p(W,E[0]),H=p(W,P[0]),te=p(W,O[0]),Q=y(T(E[0],E[0]),y(T(E[1],E[1]),T(E[2],E[2]))),K=p(Q,S[0]),X=p(Q,M[0]),J=p(Q,P[0]),ee=p(Q,O[0]),ie=y(T(P[0],P[0]),y(T(P[1],P[1]),T(P[2],P[2]))),oe=p(ie,S[0]),ae=p(ie,M[0]),ce=p(ie,E[0]),ge=p(ie,O[0]),ve=y(T(O[0],O[0]),y(T(O[1],O[1]),T(O[2],O[2]))),be=p(ve,S[0]),we=p(ve,M[0]),ye=p(ve,E[0]),me=p(ve,P[0]),Ae=y(y(y(p(y(p(x(me,ge),E[1]),y(p(x(ye,ee),-P[1]),p(x(ce,J),O[1]))),M[2]),y(p(y(p(x(me,ge),M[1]),y(p(x(we,te),-P[1]),p(x(ae,H),O[1]))),-E[2]),p(y(p(x(ye,ee),M[1]),y(p(x(we,te),-E[1]),p(x(X,V),O[1]))),P[2]))),y(p(y(p(x(ce,J),M[1]),y(p(x(ae,H),-E[1]),p(x(X,V),P[1]))),-O[2]),y(p(y(p(x(me,ge),M[1]),y(p(x(we,te),-P[1]),p(x(ae,H),O[1]))),S[2]),p(y(p(x(me,ge),S[1]),y(p(x(be,j),-P[1]),p(x(oe,z),O[1]))),-M[2])))),y(y(p(y(p(x(we,te),S[1]),y(p(x(be,j),-M[1]),p(x(F,R),O[1]))),P[2]),y(p(y(p(x(ae,H),S[1]),y(p(x(oe,z),-M[1]),p(x(F,R),P[1]))),-O[2]),p(y(p(x(ce,J),M[1]),y(p(x(ae,H),-E[1]),p(x(X,V),P[1]))),S[2]))),y(p(y(p(x(ce,J),S[1]),y(p(x(oe,z),-E[1]),p(x(K,U),P[1]))),-M[2]),y(p(y(p(x(ae,H),S[1]),y(p(x(oe,z),-M[1]),p(x(F,R),P[1]))),E[2]),p(y(p(x(X,V),S[1]),y(p(x(K,U),-M[1]),p(x(F,R),E[1]))),-P[2]))))),ke=y(y(y(p(y(p(x(me,ge),E[1]),y(p(x(ye,ee),-P[1]),p(x(ce,J),O[1]))),S[2]),p(y(p(x(me,ge),S[1]),y(p(x(be,j),-P[1]),p(x(oe,z),O[1]))),-E[2])),y(p(y(p(x(ye,ee),S[1]),y(p(x(be,j),-E[1]),p(x(K,U),O[1]))),P[2]),p(y(p(x(ce,J),S[1]),y(p(x(oe,z),-E[1]),p(x(K,U),P[1]))),-O[2]))),y(y(p(y(p(x(ye,ee),M[1]),y(p(x(we,te),-E[1]),p(x(X,V),O[1]))),S[2]),p(y(p(x(ye,ee),S[1]),y(p(x(be,j),-E[1]),p(x(K,U),O[1]))),-M[2])),y(p(y(p(x(we,te),S[1]),y(p(x(be,j),-M[1]),p(x(F,R),O[1]))),E[2]),p(y(p(x(X,V),S[1]),y(p(x(K,U),-M[1]),p(x(F,R),E[1]))),-O[2])))),fe=x(Ae,ke);return fe[fe.length-1]}}function b(y,x,T,p){return function(S,M,E,P,O,I){var R=y(y(T(S[0],S[0]),T(S[1],S[1])),y(T(S[2],S[2]),T(S[3],S[3]))),U=p(R,M[0]),z=p(R,E[0]),j=p(R,P[0]),W=p(R,O[0]),F=p(R,I[0]),V=y(y(T(M[0],M[0]),T(M[1],M[1])),y(T(M[2],M[2]),T(M[3],M[3]))),H=p(V,S[0]),te=p(V,E[0]),Q=p(V,P[0]),K=p(V,O[0]),X=p(V,I[0]),J=y(y(T(E[0],E[0]),T(E[1],E[1])),y(T(E[2],E[2]),T(E[3],E[3]))),ee=p(J,S[0]),ie=p(J,M[0]),oe=p(J,P[0]),ae=p(J,O[0]),ce=p(J,I[0]),ge=y(y(T(P[0],P[0]),T(P[1],P[1])),y(T(P[2],P[2]),T(P[3],P[3]))),ve=p(ge,S[0]),be=p(ge,M[0]),we=p(ge,E[0]),ye=p(ge,O[0]),me=p(ge,I[0]),Ae=y(y(T(O[0],O[0]),T(O[1],O[1])),y(T(O[2],O[2]),T(O[3],O[3]))),ke=p(Ae,S[0]),fe=p(Ae,M[0]),le=p(Ae,E[0]),de=p(Ae,P[0]),Ce=p(Ae,I[0]),Me=y(y(T(I[0],I[0]),T(I[1],I[1])),y(T(I[2],I[2]),T(I[3],I[3]))),Le=p(Me,S[0]),Oe=p(Me,M[0]),Be=p(Me,E[0]),pe=p(Me,P[0]),_e=p(Me,O[0]),Te=y(y(y(p(y(y(p(y(p(x(_e,Ce),P[1]),y(p(x(pe,me),-O[1]),p(x(de,ye),I[1]))),E[2]),p(y(p(x(_e,Ce),E[1]),y(p(x(Be,ce),-O[1]),p(x(le,ae),I[1]))),-P[2])),y(p(y(p(x(pe,me),E[1]),y(p(x(Be,ce),-P[1]),p(x(we,oe),I[1]))),O[2]),p(y(p(x(de,ye),E[1]),y(p(x(le,ae),-P[1]),p(x(we,oe),O[1]))),-I[2]))),M[3]),y(p(y(y(p(y(p(x(_e,Ce),P[1]),y(p(x(pe,me),-O[1]),p(x(de,ye),I[1]))),M[2]),p(y(p(x(_e,Ce),M[1]),y(p(x(Oe,X),-O[1]),p(x(fe,K),I[1]))),-P[2])),y(p(y(p(x(pe,me),M[1]),y(p(x(Oe,X),-P[1]),p(x(be,Q),I[1]))),O[2]),p(y(p(x(de,ye),M[1]),y(p(x(fe,K),-P[1]),p(x(be,Q),O[1]))),-I[2]))),-E[3]),p(y(y(p(y(p(x(_e,Ce),E[1]),y(p(x(Be,ce),-O[1]),p(x(le,ae),I[1]))),M[2]),p(y(p(x(_e,Ce),M[1]),y(p(x(Oe,X),-O[1]),p(x(fe,K),I[1]))),-E[2])),y(p(y(p(x(Be,ce),M[1]),y(p(x(Oe,X),-E[1]),p(x(ie,te),I[1]))),O[2]),p(y(p(x(le,ae),M[1]),y(p(x(fe,K),-E[1]),p(x(ie,te),O[1]))),-I[2]))),P[3]))),y(y(p(y(y(p(y(p(x(pe,me),E[1]),y(p(x(Be,ce),-P[1]),p(x(we,oe),I[1]))),M[2]),p(y(p(x(pe,me),M[1]),y(p(x(Oe,X),-P[1]),p(x(be,Q),I[1]))),-E[2])),y(p(y(p(x(Be,ce),M[1]),y(p(x(Oe,X),-E[1]),p(x(ie,te),I[1]))),P[2]),p(y(p(x(we,oe),M[1]),y(p(x(be,Q),-E[1]),p(x(ie,te),P[1]))),-I[2]))),-O[3]),p(y(y(p(y(p(x(de,ye),E[1]),y(p(x(le,ae),-P[1]),p(x(we,oe),O[1]))),M[2]),p(y(p(x(de,ye),M[1]),y(p(x(fe,K),-P[1]),p(x(be,Q),O[1]))),-E[2])),y(p(y(p(x(le,ae),M[1]),y(p(x(fe,K),-E[1]),p(x(ie,te),O[1]))),P[2]),p(y(p(x(we,oe),M[1]),y(p(x(be,Q),-E[1]),p(x(ie,te),P[1]))),-O[2]))),I[3])),y(p(y(y(p(y(p(x(_e,Ce),P[1]),y(p(x(pe,me),-O[1]),p(x(de,ye),I[1]))),M[2]),p(y(p(x(_e,Ce),M[1]),y(p(x(Oe,X),-O[1]),p(x(fe,K),I[1]))),-P[2])),y(p(y(p(x(pe,me),M[1]),y(p(x(Oe,X),-P[1]),p(x(be,Q),I[1]))),O[2]),p(y(p(x(de,ye),M[1]),y(p(x(fe,K),-P[1]),p(x(be,Q),O[1]))),-I[2]))),S[3]),p(y(y(p(y(p(x(_e,Ce),P[1]),y(p(x(pe,me),-O[1]),p(x(de,ye),I[1]))),S[2]),p(y(p(x(_e,Ce),S[1]),y(p(x(Le,F),-O[1]),p(x(ke,W),I[1]))),-P[2])),y(p(y(p(x(pe,me),S[1]),y(p(x(Le,F),-P[1]),p(x(ve,j),I[1]))),O[2]),p(y(p(x(de,ye),S[1]),y(p(x(ke,W),-P[1]),p(x(ve,j),O[1]))),-I[2]))),-M[3])))),y(y(y(p(y(y(p(y(p(x(_e,Ce),M[1]),y(p(x(Oe,X),-O[1]),p(x(fe,K),I[1]))),S[2]),p(y(p(x(_e,Ce),S[1]),y(p(x(Le,F),-O[1]),p(x(ke,W),I[1]))),-M[2])),y(p(y(p(x(Oe,X),S[1]),y(p(x(Le,F),-M[1]),p(x(H,U),I[1]))),O[2]),p(y(p(x(fe,K),S[1]),y(p(x(ke,W),-M[1]),p(x(H,U),O[1]))),-I[2]))),P[3]),p(y(y(p(y(p(x(pe,me),M[1]),y(p(x(Oe,X),-P[1]),p(x(be,Q),I[1]))),S[2]),p(y(p(x(pe,me),S[1]),y(p(x(Le,F),-P[1]),p(x(ve,j),I[1]))),-M[2])),y(p(y(p(x(Oe,X),S[1]),y(p(x(Le,F),-M[1]),p(x(H,U),I[1]))),P[2]),p(y(p(x(be,Q),S[1]),y(p(x(ve,j),-M[1]),p(x(H,U),P[1]))),-I[2]))),-O[3])),y(p(y(y(p(y(p(x(de,ye),M[1]),y(p(x(fe,K),-P[1]),p(x(be,Q),O[1]))),S[2]),p(y(p(x(de,ye),S[1]),y(p(x(ke,W),-P[1]),p(x(ve,j),O[1]))),-M[2])),y(p(y(p(x(fe,K),S[1]),y(p(x(ke,W),-M[1]),p(x(H,U),O[1]))),P[2]),p(y(p(x(be,Q),S[1]),y(p(x(ve,j),-M[1]),p(x(H,U),P[1]))),-O[2]))),I[3]),p(y(y(p(y(p(x(pe,me),E[1]),y(p(x(Be,ce),-P[1]),p(x(we,oe),I[1]))),M[2]),p(y(p(x(pe,me),M[1]),y(p(x(Oe,X),-P[1]),p(x(be,Q),I[1]))),-E[2])),y(p(y(p(x(Be,ce),M[1]),y(p(x(Oe,X),-E[1]),p(x(ie,te),I[1]))),P[2]),p(y(p(x(we,oe),M[1]),y(p(x(be,Q),-E[1]),p(x(ie,te),P[1]))),-I[2]))),S[3]))),y(y(p(y(y(p(y(p(x(pe,me),E[1]),y(p(x(Be,ce),-P[1]),p(x(we,oe),I[1]))),S[2]),p(y(p(x(pe,me),S[1]),y(p(x(Le,F),-P[1]),p(x(ve,j),I[1]))),-E[2])),y(p(y(p(x(Be,ce),S[1]),y(p(x(Le,F),-E[1]),p(x(ee,z),I[1]))),P[2]),p(y(p(x(we,oe),S[1]),y(p(x(ve,j),-E[1]),p(x(ee,z),P[1]))),-I[2]))),-M[3]),p(y(y(p(y(p(x(pe,me),M[1]),y(p(x(Oe,X),-P[1]),p(x(be,Q),I[1]))),S[2]),p(y(p(x(pe,me),S[1]),y(p(x(Le,F),-P[1]),p(x(ve,j),I[1]))),-M[2])),y(p(y(p(x(Oe,X),S[1]),y(p(x(Le,F),-M[1]),p(x(H,U),I[1]))),P[2]),p(y(p(x(be,Q),S[1]),y(p(x(ve,j),-M[1]),p(x(H,U),P[1]))),-I[2]))),E[3])),y(p(y(y(p(y(p(x(Be,ce),M[1]),y(p(x(Oe,X),-E[1]),p(x(ie,te),I[1]))),S[2]),p(y(p(x(Be,ce),S[1]),y(p(x(Le,F),-E[1]),p(x(ee,z),I[1]))),-M[2])),y(p(y(p(x(Oe,X),S[1]),y(p(x(Le,F),-M[1]),p(x(H,U),I[1]))),E[2]),p(y(p(x(ie,te),S[1]),y(p(x(ee,z),-M[1]),p(x(H,U),E[1]))),-I[2]))),-P[3]),p(y(y(p(y(p(x(we,oe),M[1]),y(p(x(be,Q),-E[1]),p(x(ie,te),P[1]))),S[2]),p(y(p(x(we,oe),S[1]),y(p(x(ve,j),-E[1]),p(x(ee,z),P[1]))),-M[2])),y(p(y(p(x(be,Q),S[1]),y(p(x(ve,j),-M[1]),p(x(H,U),P[1]))),E[2]),p(y(p(x(ie,te),S[1]),y(p(x(ee,z),-M[1]),p(x(H,U),E[1]))),-P[2]))),I[3]))))),Re=y(y(y(p(y(y(p(y(p(x(_e,Ce),P[1]),y(p(x(pe,me),-O[1]),p(x(de,ye),I[1]))),E[2]),p(y(p(x(_e,Ce),E[1]),y(p(x(Be,ce),-O[1]),p(x(le,ae),I[1]))),-P[2])),y(p(y(p(x(pe,me),E[1]),y(p(x(Be,ce),-P[1]),p(x(we,oe),I[1]))),O[2]),p(y(p(x(de,ye),E[1]),y(p(x(le,ae),-P[1]),p(x(we,oe),O[1]))),-I[2]))),S[3]),y(p(y(y(p(y(p(x(_e,Ce),P[1]),y(p(x(pe,me),-O[1]),p(x(de,ye),I[1]))),S[2]),p(y(p(x(_e,Ce),S[1]),y(p(x(Le,F),-O[1]),p(x(ke,W),I[1]))),-P[2])),y(p(y(p(x(pe,me),S[1]),y(p(x(Le,F),-P[1]),p(x(ve,j),I[1]))),O[2]),p(y(p(x(de,ye),S[1]),y(p(x(ke,W),-P[1]),p(x(ve,j),O[1]))),-I[2]))),-E[3]),p(y(y(p(y(p(x(_e,Ce),E[1]),y(p(x(Be,ce),-O[1]),p(x(le,ae),I[1]))),S[2]),p(y(p(x(_e,Ce),S[1]),y(p(x(Le,F),-O[1]),p(x(ke,W),I[1]))),-E[2])),y(p(y(p(x(Be,ce),S[1]),y(p(x(Le,F),-E[1]),p(x(ee,z),I[1]))),O[2]),p(y(p(x(le,ae),S[1]),y(p(x(ke,W),-E[1]),p(x(ee,z),O[1]))),-I[2]))),P[3]))),y(y(p(y(y(p(y(p(x(pe,me),E[1]),y(p(x(Be,ce),-P[1]),p(x(we,oe),I[1]))),S[2]),p(y(p(x(pe,me),S[1]),y(p(x(Le,F),-P[1]),p(x(ve,j),I[1]))),-E[2])),y(p(y(p(x(Be,ce),S[1]),y(p(x(Le,F),-E[1]),p(x(ee,z),I[1]))),P[2]),p(y(p(x(we,oe),S[1]),y(p(x(ve,j),-E[1]),p(x(ee,z),P[1]))),-I[2]))),-O[3]),p(y(y(p(y(p(x(de,ye),E[1]),y(p(x(le,ae),-P[1]),p(x(we,oe),O[1]))),S[2]),p(y(p(x(de,ye),S[1]),y(p(x(ke,W),-P[1]),p(x(ve,j),O[1]))),-E[2])),y(p(y(p(x(le,ae),S[1]),y(p(x(ke,W),-E[1]),p(x(ee,z),O[1]))),P[2]),p(y(p(x(we,oe),S[1]),y(p(x(ve,j),-E[1]),p(x(ee,z),P[1]))),-O[2]))),I[3])),y(p(y(y(p(y(p(x(_e,Ce),E[1]),y(p(x(Be,ce),-O[1]),p(x(le,ae),I[1]))),M[2]),p(y(p(x(_e,Ce),M[1]),y(p(x(Oe,X),-O[1]),p(x(fe,K),I[1]))),-E[2])),y(p(y(p(x(Be,ce),M[1]),y(p(x(Oe,X),-E[1]),p(x(ie,te),I[1]))),O[2]),p(y(p(x(le,ae),M[1]),y(p(x(fe,K),-E[1]),p(x(ie,te),O[1]))),-I[2]))),S[3]),p(y(y(p(y(p(x(_e,Ce),E[1]),y(p(x(Be,ce),-O[1]),p(x(le,ae),I[1]))),S[2]),p(y(p(x(_e,Ce),S[1]),y(p(x(Le,F),-O[1]),p(x(ke,W),I[1]))),-E[2])),y(p(y(p(x(Be,ce),S[1]),y(p(x(Le,F),-E[1]),p(x(ee,z),I[1]))),O[2]),p(y(p(x(le,ae),S[1]),y(p(x(ke,W),-E[1]),p(x(ee,z),O[1]))),-I[2]))),-M[3])))),y(y(y(p(y(y(p(y(p(x(_e,Ce),M[1]),y(p(x(Oe,X),-O[1]),p(x(fe,K),I[1]))),S[2]),p(y(p(x(_e,Ce),S[1]),y(p(x(Le,F),-O[1]),p(x(ke,W),I[1]))),-M[2])),y(p(y(p(x(Oe,X),S[1]),y(p(x(Le,F),-M[1]),p(x(H,U),I[1]))),O[2]),p(y(p(x(fe,K),S[1]),y(p(x(ke,W),-M[1]),p(x(H,U),O[1]))),-I[2]))),E[3]),p(y(y(p(y(p(x(Be,ce),M[1]),y(p(x(Oe,X),-E[1]),p(x(ie,te),I[1]))),S[2]),p(y(p(x(Be,ce),S[1]),y(p(x(Le,F),-E[1]),p(x(ee,z),I[1]))),-M[2])),y(p(y(p(x(Oe,X),S[1]),y(p(x(Le,F),-M[1]),p(x(H,U),I[1]))),E[2]),p(y(p(x(ie,te),S[1]),y(p(x(ee,z),-M[1]),p(x(H,U),E[1]))),-I[2]))),-O[3])),y(p(y(y(p(y(p(x(le,ae),M[1]),y(p(x(fe,K),-E[1]),p(x(ie,te),O[1]))),S[2]),p(y(p(x(le,ae),S[1]),y(p(x(ke,W),-E[1]),p(x(ee,z),O[1]))),-M[2])),y(p(y(p(x(fe,K),S[1]),y(p(x(ke,W),-M[1]),p(x(H,U),O[1]))),E[2]),p(y(p(x(ie,te),S[1]),y(p(x(ee,z),-M[1]),p(x(H,U),E[1]))),-O[2]))),I[3]),p(y(y(p(y(p(x(de,ye),E[1]),y(p(x(le,ae),-P[1]),p(x(we,oe),O[1]))),M[2]),p(y(p(x(de,ye),M[1]),y(p(x(fe,K),-P[1]),p(x(be,Q),O[1]))),-E[2])),y(p(y(p(x(le,ae),M[1]),y(p(x(fe,K),-E[1]),p(x(ie,te),O[1]))),P[2]),p(y(p(x(we,oe),M[1]),y(p(x(be,Q),-E[1]),p(x(ie,te),P[1]))),-O[2]))),S[3]))),y(y(p(y(y(p(y(p(x(de,ye),E[1]),y(p(x(le,ae),-P[1]),p(x(we,oe),O[1]))),S[2]),p(y(p(x(de,ye),S[1]),y(p(x(ke,W),-P[1]),p(x(ve,j),O[1]))),-E[2])),y(p(y(p(x(le,ae),S[1]),y(p(x(ke,W),-E[1]),p(x(ee,z),O[1]))),P[2]),p(y(p(x(we,oe),S[1]),y(p(x(ve,j),-E[1]),p(x(ee,z),P[1]))),-O[2]))),-M[3]),p(y(y(p(y(p(x(de,ye),M[1]),y(p(x(fe,K),-P[1]),p(x(be,Q),O[1]))),S[2]),p(y(p(x(de,ye),S[1]),y(p(x(ke,W),-P[1]),p(x(ve,j),O[1]))),-M[2])),y(p(y(p(x(fe,K),S[1]),y(p(x(ke,W),-M[1]),p(x(H,U),O[1]))),P[2]),p(y(p(x(be,Q),S[1]),y(p(x(ve,j),-M[1]),p(x(H,U),P[1]))),-O[2]))),E[3])),y(p(y(y(p(y(p(x(le,ae),M[1]),y(p(x(fe,K),-E[1]),p(x(ie,te),O[1]))),S[2]),p(y(p(x(le,ae),S[1]),y(p(x(ke,W),-E[1]),p(x(ee,z),O[1]))),-M[2])),y(p(y(p(x(fe,K),S[1]),y(p(x(ke,W),-M[1]),p(x(H,U),O[1]))),E[2]),p(y(p(x(ie,te),S[1]),y(p(x(ee,z),-M[1]),p(x(H,U),E[1]))),-O[2]))),-P[3]),p(y(y(p(y(p(x(we,oe),M[1]),y(p(x(be,Q),-E[1]),p(x(ie,te),P[1]))),S[2]),p(y(p(x(we,oe),S[1]),y(p(x(ve,j),-E[1]),p(x(ee,z),P[1]))),-M[2])),y(p(y(p(x(be,Q),S[1]),y(p(x(ve,j),-M[1]),p(x(H,U),P[1]))),E[2]),p(y(p(x(ie,te),S[1]),y(p(x(ee,z),-M[1]),p(x(H,U),E[1]))),-P[2]))),O[3]))))),Ne=x(Te,Re);return Ne[Ne.length-1]}}var d=[function(){return 0},function(){return 0},function(){return 0}];function g(y){var x=d[y.length];return x||(x=d[y.length]=o(y.length)),x.apply(void 0,y)}function m(y,x,T,p,S,M,E,P){return function(O,I,R,U,z,j){switch(arguments.length){case 0:case 1:return 0;case 2:return p(O,I);case 3:return S(O,I,R);case 4:return M(O,I,R,U);case 5:return E(O,I,R,U,z);case 6:return P(O,I,R,U,z,j)}for(var W=new Array(arguments.length),F=0;F<arguments.length;++F)W[F]=arguments[F];return y(W)}}(function(){for(;d.length<=6;)d.push(o(d.length));f.exports=m.apply(void 0,[g].concat(d));for(var y=0;y<=6;++y)f.exports[y]=d[y]})()},6606:function(f,s,t){var a=t(8167);function n(d){return(d===2?i:d===3?l:d===4?o:d===5?u:h)(d<6?a[d]:a)}function i(d){return function(g,m){return[d([[+m[0],+g[0][1]],[+m[1],+g[1][1]]]),d([[+g[0][0],+m[0]],[+g[1][0],+m[1]]]),d(g)]}}function l(d){return function(g,m){return[d([[+m[0],+g[0][1],+g[0][2]],[+m[1],+g[1][1],+g[1][2]],[+m[2],+g[2][1],+g[2][2]]]),d([[+g[0][0],+m[0],+g[0][2]],[+g[1][0],+m[1],+g[1][2]],[+g[2][0],+m[2],+g[2][2]]]),d([[+g[0][0],+g[0][1],+m[0]],[+g[1][0],+g[1][1],+m[1]],[+g[2][0],+g[2][1],+m[2]]]),d(g)]}}function o(d){return function(g,m){return[d([[+m[0],+g[0][1],+g[0][2],+g[0][3]],[+m[1],+g[1][1],+g[1][2],+g[1][3]],[+m[2],+g[2][1],+g[2][2],+g[2][3]],[+m[3],+g[3][1],+g[3][2],+g[3][3]]]),d([[+g[0][0],+m[0],+g[0][2],+g[0][3]],[+g[1][0],+m[1],+g[1][2],+g[1][3]],[+g[2][0],+m[2],+g[2][2],+g[2][3]],[+g[3][0],+m[3],+g[3][2],+g[3][3]]]),d([[+g[0][0],+g[0][1],+m[0],+g[0][3]],[+g[1][0],+g[1][1],+m[1],+g[1][3]],[+g[2][0],+g[2][1],+m[2],+g[2][3]],[+g[3][0],+g[3][1],+m[3],+g[3][3]]]),d([[+g[0][0],+g[0][1],+g[0][2],+m[0]],[+g[1][0],+g[1][1],+g[1][2],+m[1]],[+g[2][0],+g[2][1],+g[2][2],+m[2]],[+g[3][0],+g[3][1],+g[3][2],+m[3]]]),d(g)]}}function u(d){return function(g,m){return[d([[+m[0],+g[0][1],+g[0][2],+g[0][3],+g[0][4]],[+m[1],+g[1][1],+g[1][2],+g[1][3],+g[1][4]],[+m[2],+g[2][1],+g[2][2],+g[2][3],+g[2][4]],[+m[3],+g[3][1],+g[3][2],+g[3][3],+g[3][4]],[+m[4],+g[4][1],+g[4][2],+g[4][3],+g[4][4]]]),d([[+g[0][0],+m[0],+g[0][2],+g[0][3],+g[0][4]],[+g[1][0],+m[1],+g[1][2],+g[1][3],+g[1][4]],[+g[2][0],+m[2],+g[2][2],+g[2][3],+g[2][4]],[+g[3][0],+m[3],+g[3][2],+g[3][3],+g[3][4]],[+g[4][0],+m[4],+g[4][2],+g[4][3],+g[4][4]]]),d([[+g[0][0],+g[0][1],+m[0],+g[0][3],+g[0][4]],[+g[1][0],+g[1][1],+m[1],+g[1][3],+g[1][4]],[+g[2][0],+g[2][1],+m[2],+g[2][3],+g[2][4]],[+g[3][0],+g[3][1],+m[3],+g[3][3],+g[3][4]],[+g[4][0],+g[4][1],+m[4],+g[4][3],+g[4][4]]]),d([[+g[0][0],+g[0][1],+g[0][2],+m[0],+g[0][4]],[+g[1][0],+g[1][1],+g[1][2],+m[1],+g[1][4]],[+g[2][0],+g[2][1],+g[2][2],+m[2],+g[2][4]],[+g[3][0],+g[3][1],+g[3][2],+m[3],+g[3][4]],[+g[4][0],+g[4][1],+g[4][2],+m[4],+g[4][4]]]),d([[+g[0][0],+g[0][1],+g[0][2],+g[0][3],+m[0]],[+g[1][0],+g[1][1],+g[1][2],+g[1][3],+m[1]],[+g[2][0],+g[2][1],+g[2][2],+g[2][3],+m[2]],[+g[3][0],+g[3][1],+g[3][2],+g[3][3],+m[3]],[+g[4][0],+g[4][1],+g[4][2],+g[4][3],+m[4]]]),d(g)]}}function h(d){return function(g,m){return[d([[+m[0],+g[0][1],+g[0][2],+g[0][3],+g[0][4],+g[0][5]],[+m[1],+g[1][1],+g[1][2],+g[1][3],+g[1][4],+g[1][5]],[+m[2],+g[2][1],+g[2][2],+g[2][3],+g[2][4],+g[2][5]],[+m[3],+g[3][1],+g[3][2],+g[3][3],+g[3][4],+g[3][5]],[+m[4],+g[4][1],+g[4][2],+g[4][3],+g[4][4],+g[4][5]],[+m[5],+g[5][1],+g[5][2],+g[5][3],+g[5][4],+g[5][5]]]),d([[+g[0][0],+m[0],+g[0][2],+g[0][3],+g[0][4],+g[0][5]],[+g[1][0],+m[1],+g[1][2],+g[1][3],+g[1][4],+g[1][5]],[+g[2][0],+m[2],+g[2][2],+g[2][3],+g[2][4],+g[2][5]],[+g[3][0],+m[3],+g[3][2],+g[3][3],+g[3][4],+g[3][5]],[+g[4][0],+m[4],+g[4][2],+g[4][3],+g[4][4],+g[4][5]],[+g[5][0],+m[5],+g[5][2],+g[5][3],+g[5][4],+g[5][5]]]),d([[+g[0][0],+g[0][1],+m[0],+g[0][3],+g[0][4],+g[0][5]],[+g[1][0],+g[1][1],+m[1],+g[1][3],+g[1][4],+g[1][5]],[+g[2][0],+g[2][1],+m[2],+g[2][3],+g[2][4],+g[2][5]],[+g[3][0],+g[3][1],+m[3],+g[3][3],+g[3][4],+g[3][5]],[+g[4][0],+g[4][1],+m[4],+g[4][3],+g[4][4],+g[4][5]],[+g[5][0],+g[5][1],+m[5],+g[5][3],+g[5][4],+g[5][5]]]),d([[+g[0][0],+g[0][1],+g[0][2],+m[0],+g[0][4],+g[0][5]],[+g[1][0],+g[1][1],+g[1][2],+m[1],+g[1][4],+g[1][5]],[+g[2][0],+g[2][1],+g[2][2],+m[2],+g[2][4],+g[2][5]],[+g[3][0],+g[3][1],+g[3][2],+m[3],+g[3][4],+g[3][5]],[+g[4][0],+g[4][1],+g[4][2],+m[4],+g[4][4],+g[4][5]],[+g[5][0],+g[5][1],+g[5][2],+m[5],+g[5][4],+g[5][5]]]),d([[+g[0][0],+g[0][1],+g[0][2],+g[0][3],+m[0],+g[0][5]],[+g[1][0],+g[1][1],+g[1][2],+g[1][3],+m[1],+g[1][5]],[+g[2][0],+g[2][1],+g[2][2],+g[2][3],+m[2],+g[2][5]],[+g[3][0],+g[3][1],+g[3][2],+g[3][3],+m[3],+g[3][5]],[+g[4][0],+g[4][1],+g[4][2],+g[4][3],+m[4],+g[4][5]],[+g[5][0],+g[5][1],+g[5][2],+g[5][3],+m[5],+g[5][5]]]),d([[+g[0][0],+g[0][1],+g[0][2],+g[0][3],+g[0][4],+m[0]],[+g[1][0],+g[1][1],+g[1][2],+g[1][3],+g[1][4],+m[1]],[+g[2][0],+g[2][1],+g[2][2],+g[2][3],+g[2][4],+m[2]],[+g[3][0],+g[3][1],+g[3][2],+g[3][3],+g[3][4],+m[3]],[+g[4][0],+g[4][1],+g[4][2],+g[4][3],+g[4][4],+m[4]],[+g[5][0],+g[5][1],+g[5][2],+g[5][3],+g[5][4],+m[5]]]),d(g)]}}var c=[function(){return[[0]]},function(d,g){return[[g[0]],[d[0][0]]]}];function b(d,g,m,y,x,T,p,S){return function(M,E){switch(M.length){case 0:return d(M,E);case 1:return g(M,E);case 2:return m(M,E);case 3:return y(M,E);case 4:return x(M,E);case 5:return T(M,E)}var P=p[M.length];return P||(P=p[M.length]=S(M.length)),P(M,E)}}(function(){for(;c.length<6;)c.push(n(c.length));f.exports=b.apply(void 0,c.concat([c,n]));for(var d=0;d<6;++d)f.exports[d]=c[d]})()},417:function(f,s,t){var a=t(9660),n=t(9662),i=t(8289),l=t(4078);function o(x,T,p,S){return function(M,E,P){var O=x(x(T(E[1],P[0]),T(-P[1],E[0])),x(T(M[1],E[0]),T(-E[1],M[0]))),I=x(T(M[1],P[0]),T(-P[1],M[0])),R=S(O,I);return R[R.length-1]}}function u(x,T,p,S){return function(M,E,P,O){var I=x(x(p(x(T(P[1],O[0]),T(-O[1],P[0])),E[2]),x(p(x(T(E[1],O[0]),T(-O[1],E[0])),-P[2]),p(x(T(E[1],P[0]),T(-P[1],E[0])),O[2]))),x(p(x(T(E[1],O[0]),T(-O[1],E[0])),M[2]),x(p(x(T(M[1],O[0]),T(-O[1],M[0])),-E[2]),p(x(T(M[1],E[0]),T(-E[1],M[0])),O[2])))),R=x(x(p(x(T(P[1],O[0]),T(-O[1],P[0])),M[2]),x(p(x(T(M[1],O[0]),T(-O[1],M[0])),-P[2]),p(x(T(M[1],P[0]),T(-P[1],M[0])),O[2]))),x(p(x(T(E[1],P[0]),T(-P[1],E[0])),M[2]),x(p(x(T(M[1],P[0]),T(-P[1],M[0])),-E[2]),p(x(T(M[1],E[0]),T(-E[1],M[0])),P[2])))),U=S(I,R);return U[U.length-1]}}function h(x,T,p,S){return function(M,E,P,O,I){var R=x(x(x(p(x(p(x(T(O[1],I[0]),T(-I[1],O[0])),P[2]),x(p(x(T(P[1],I[0]),T(-I[1],P[0])),-O[2]),p(x(T(P[1],O[0]),T(-O[1],P[0])),I[2]))),E[3]),x(p(x(p(x(T(O[1],I[0]),T(-I[1],O[0])),E[2]),x(p(x(T(E[1],I[0]),T(-I[1],E[0])),-O[2]),p(x(T(E[1],O[0]),T(-O[1],E[0])),I[2]))),-P[3]),p(x(p(x(T(P[1],I[0]),T(-I[1],P[0])),E[2]),x(p(x(T(E[1],I[0]),T(-I[1],E[0])),-P[2]),p(x(T(E[1],P[0]),T(-P[1],E[0])),I[2]))),O[3]))),x(p(x(p(x(T(P[1],O[0]),T(-O[1],P[0])),E[2]),x(p(x(T(E[1],O[0]),T(-O[1],E[0])),-P[2]),p(x(T(E[1],P[0]),T(-P[1],E[0])),O[2]))),-I[3]),x(p(x(p(x(T(O[1],I[0]),T(-I[1],O[0])),E[2]),x(p(x(T(E[1],I[0]),T(-I[1],E[0])),-O[2]),p(x(T(E[1],O[0]),T(-O[1],E[0])),I[2]))),M[3]),p(x(p(x(T(O[1],I[0]),T(-I[1],O[0])),M[2]),x(p(x(T(M[1],I[0]),T(-I[1],M[0])),-O[2]),p(x(T(M[1],O[0]),T(-O[1],M[0])),I[2]))),-E[3])))),x(x(p(x(p(x(T(E[1],I[0]),T(-I[1],E[0])),M[2]),x(p(x(T(M[1],I[0]),T(-I[1],M[0])),-E[2]),p(x(T(M[1],E[0]),T(-E[1],M[0])),I[2]))),O[3]),x(p(x(p(x(T(E[1],O[0]),T(-O[1],E[0])),M[2]),x(p(x(T(M[1],O[0]),T(-O[1],M[0])),-E[2]),p(x(T(M[1],E[0]),T(-E[1],M[0])),O[2]))),-I[3]),p(x(p(x(T(P[1],O[0]),T(-O[1],P[0])),E[2]),x(p(x(T(E[1],O[0]),T(-O[1],E[0])),-P[2]),p(x(T(E[1],P[0]),T(-P[1],E[0])),O[2]))),M[3]))),x(p(x(p(x(T(P[1],O[0]),T(-O[1],P[0])),M[2]),x(p(x(T(M[1],O[0]),T(-O[1],M[0])),-P[2]),p(x(T(M[1],P[0]),T(-P[1],M[0])),O[2]))),-E[3]),x(p(x(p(x(T(E[1],O[0]),T(-O[1],E[0])),M[2]),x(p(x(T(M[1],O[0]),T(-O[1],M[0])),-E[2]),p(x(T(M[1],E[0]),T(-E[1],M[0])),O[2]))),P[3]),p(x(p(x(T(E[1],P[0]),T(-P[1],E[0])),M[2]),x(p(x(T(M[1],P[0]),T(-P[1],M[0])),-E[2]),p(x(T(M[1],E[0]),T(-E[1],M[0])),P[2]))),-O[3]))))),U=x(x(x(p(x(p(x(T(O[1],I[0]),T(-I[1],O[0])),P[2]),x(p(x(T(P[1],I[0]),T(-I[1],P[0])),-O[2]),p(x(T(P[1],O[0]),T(-O[1],P[0])),I[2]))),M[3]),p(x(p(x(T(O[1],I[0]),T(-I[1],O[0])),M[2]),x(p(x(T(M[1],I[0]),T(-I[1],M[0])),-O[2]),p(x(T(M[1],O[0]),T(-O[1],M[0])),I[2]))),-P[3])),x(p(x(p(x(T(P[1],I[0]),T(-I[1],P[0])),M[2]),x(p(x(T(M[1],I[0]),T(-I[1],M[0])),-P[2]),p(x(T(M[1],P[0]),T(-P[1],M[0])),I[2]))),O[3]),p(x(p(x(T(P[1],O[0]),T(-O[1],P[0])),M[2]),x(p(x(T(M[1],O[0]),T(-O[1],M[0])),-P[2]),p(x(T(M[1],P[0]),T(-P[1],M[0])),O[2]))),-I[3]))),x(x(p(x(p(x(T(P[1],I[0]),T(-I[1],P[0])),E[2]),x(p(x(T(E[1],I[0]),T(-I[1],E[0])),-P[2]),p(x(T(E[1],P[0]),T(-P[1],E[0])),I[2]))),M[3]),p(x(p(x(T(P[1],I[0]),T(-I[1],P[0])),M[2]),x(p(x(T(M[1],I[0]),T(-I[1],M[0])),-P[2]),p(x(T(M[1],P[0]),T(-P[1],M[0])),I[2]))),-E[3])),x(p(x(p(x(T(E[1],I[0]),T(-I[1],E[0])),M[2]),x(p(x(T(M[1],I[0]),T(-I[1],M[0])),-E[2]),p(x(T(M[1],E[0]),T(-E[1],M[0])),I[2]))),P[3]),p(x(p(x(T(E[1],P[0]),T(-P[1],E[0])),M[2]),x(p(x(T(M[1],P[0]),T(-P[1],M[0])),-E[2]),p(x(T(M[1],E[0]),T(-E[1],M[0])),P[2]))),-I[3])))),z=S(R,U);return z[z.length-1]}}function c(x){return(x===3?o:x===4?u:h)(n,a,i,l)}var b=c(3),d=c(4),g=[function(){return 0},function(){return 0},function(x,T){return T[0]-x[0]},function(x,T,p){var S,M=(x[1]-p[1])*(T[0]-p[0]),E=(x[0]-p[0])*(T[1]-p[1]),P=M-E;if(M>0){if(E<=0)return P;S=M+E}else{if(!(M<0)||E>=0)return P;S=-(M+E)}var O=33306690738754716e-32*S;return P>=O||P<=-O?P:b(x,T,p)},function(x,T,p,S){var M=x[0]-S[0],E=T[0]-S[0],P=p[0]-S[0],O=x[1]-S[1],I=T[1]-S[1],R=p[1]-S[1],U=x[2]-S[2],z=T[2]-S[2],j=p[2]-S[2],W=E*R,F=P*I,V=P*O,H=M*R,te=M*I,Q=E*O,K=U*(W-F)+z*(V-H)+j*(te-Q),X=7771561172376103e-31*((Math.abs(W)+Math.abs(F))*Math.abs(U)+(Math.abs(V)+Math.abs(H))*Math.abs(z)+(Math.abs(te)+Math.abs(Q))*Math.abs(j));return K>X||-K>X?K:d(x,T,p,S)}];function m(x){var T=g[x.length];return T||(T=g[x.length]=c(x.length)),T.apply(void 0,x)}function y(x,T,p,S,M,E,P){return function(O,I,R,U,z){switch(arguments.length){case 0:case 1:return 0;case 2:return S(O,I);case 3:return M(O,I,R);case 4:return E(O,I,R,U);case 5:return P(O,I,R,U,z)}for(var j=new Array(arguments.length),W=0;W<arguments.length;++W)j[W]=arguments[W];return x(j)}}(function(){for(;g.length<=5;)g.push(c(g.length));f.exports=y.apply(void 0,[m].concat(g));for(var x=0;x<=5;++x)f.exports[x]=g[x]})()},2019:function(f,s,t){var a=t(9662),n=t(8289);f.exports=function(i,l){if(i.length===1)return n(l,i[0]);if(l.length===1)return n(i,l[0]);if(i.length===0||l.length===0)return[0];var o=[0];if(i.length<l.length)for(var u=0;u<i.length;++u)o=a(o,n(l,i[u]));else for(u=0;u<l.length;++u)o=a(o,n(i,l[u]));return o}},8289:function(f,s,t){var a=t(9660),n=t(87);f.exports=function(i,l){var o=i.length;if(o===1){var u=a(i[0],l);return u[0]?u:[u[1]]}var h=new Array(2*o),c=[.1,.1],b=[.1,.1],d=0;a(i[0],l,c),c[0]&&(h[d++]=c[0]);for(var g=1;g<o;++g){a(i[g],l,b);var m=c[1];n(m,b[0],c),c[0]&&(h[d++]=c[0]);var y=b[1],x=c[1],T=y+x,p=x-(T-y);c[1]=T,p&&(h[d++]=p)}return c[1]&&(h[d++]=c[1]),d===0&&(h[d++]=0),h.length=d,h}},4434:function(f,s,t){f.exports=function(n,i,l,o){var u=a(n,l,o),h=a(i,l,o);if(u>0&&h>0||u<0&&h<0)return!1;var c=a(l,n,i),b=a(o,n,i);return!(c>0&&b>0||c<0&&b<0)&&(u!==0||h!==0||c!==0||b!==0||function(d,g,m,y){for(var x=0;x<2;++x){var T=d[x],p=g[x],S=Math.min(T,p),M=Math.max(T,p),E=m[x],P=y[x],O=Math.min(E,P);if(Math.max(E,P)<S||M<O)return!1}return!0}(n,i,l,o))};var a=t(417)[3]},4078:function(f){f.exports=function(s,t){var a=0|s.length,n=0|t.length;if(a===1&&n===1)return function(O,I){var R=O+I,U=R-O,z=O-(R-U)+(I-U);return z?[z,R]:[R]}(s[0],-t[0]);var i,l,o=new Array(a+n),u=0,h=0,c=0,b=Math.abs,d=s[h],g=b(d),m=-t[c],y=b(m);g<y?(l=d,(h+=1)<a&&(g=b(d=s[h]))):(l=m,(c+=1)<n&&(y=b(m=-t[c]))),h<a&&g<y||c>=n?(i=d,(h+=1)<a&&(g=b(d=s[h]))):(i=m,(c+=1)<n&&(y=b(m=-t[c])));for(var x,T,p=i+l,S=p-i,M=l-S,E=M,P=p;h<a&&c<n;)g<y?(i=d,(h+=1)<a&&(g=b(d=s[h]))):(i=m,(c+=1)<n&&(y=b(m=-t[c]))),(M=(l=E)-(S=(p=i+l)-i))&&(o[u++]=M),E=P-((x=P+p)-(T=x-P))+(p-T),P=x;for(;h<a;)(M=(l=E)-(S=(p=(i=d)+l)-i))&&(o[u++]=M),E=P-((x=P+p)-(T=x-P))+(p-T),P=x,(h+=1)<a&&(d=s[h]);for(;c<n;)(M=(l=E)-(S=(p=(i=m)+l)-i))&&(o[u++]=M),E=P-((x=P+p)-(T=x-P))+(p-T),P=x,(c+=1)<n&&(m=-t[c]);return E&&(o[u++]=E),P&&(o[u++]=P),u||(o[u++]=0),o.length=u,o}},9662:function(f){f.exports=function(s,t){var a=0|s.length,n=0|t.length;if(a===1&&n===1)return function(O,I){var R=O+I,U=R-O,z=O-(R-U)+(I-U);return z?[z,R]:[R]}(s[0],t[0]);var i,l,o=new Array(a+n),u=0,h=0,c=0,b=Math.abs,d=s[h],g=b(d),m=t[c],y=b(m);g<y?(l=d,(h+=1)<a&&(g=b(d=s[h]))):(l=m,(c+=1)<n&&(y=b(m=t[c]))),h<a&&g<y||c>=n?(i=d,(h+=1)<a&&(g=b(d=s[h]))):(i=m,(c+=1)<n&&(y=b(m=t[c])));for(var x,T,p=i+l,S=p-i,M=l-S,E=M,P=p;h<a&&c<n;)g<y?(i=d,(h+=1)<a&&(g=b(d=s[h]))):(i=m,(c+=1)<n&&(y=b(m=t[c]))),(M=(l=E)-(S=(p=i+l)-i))&&(o[u++]=M),E=P-((x=P+p)-(T=x-P))+(p-T),P=x;for(;h<a;)(M=(l=E)-(S=(p=(i=d)+l)-i))&&(o[u++]=M),E=P-((x=P+p)-(T=x-P))+(p-T),P=x,(h+=1)<a&&(d=s[h]);for(;c<n;)(M=(l=E)-(S=(p=(i=m)+l)-i))&&(o[u++]=M),E=P-((x=P+p)-(T=x-P))+(p-T),P=x,(c+=1)<n&&(m=t[c]);return E&&(o[u++]=E),P&&(o[u++]=P),u||(o[u++]=0),o.length=u,o}},8691:function(f,s,t){f.exports=function(i){return n(a(i))};var a=t(2692),n=t(7037)},7212:function(f,s,t){f.exports=function(o,u,h,c){if(h=h||0,c===void 0&&(c=function(p){for(var S=p.length,M=0,E=0;E<S;++E)M=0|Math.max(M,p[E].length);return M-1}(o)),o.length===0||c<1)return{cells:[],vertexIds:[],vertexWeights:[]};var b=function(p,S){for(var M=p.length,E=n.mallocUint8(M),P=0;P<M;++P)E[P]=p[P]<S|0;return E}(u,+h),d=function(p,S){for(var M=p.length,E=S*(S+1)/2*M|0,P=n.mallocUint32(2*E),O=0,I=0;I<M;++I)for(var R=p[I],U=(S=R.length,0);U<S;++U)for(var z=0;z<U;++z){var j=R[z],W=R[U];P[O++]=0|Math.min(j,W),P[O++]=0|Math.max(j,W)}i(a(P,[O/2|0,2]));var F=2;for(I=2;I<O;I+=2)P[I-2]===P[I]&&P[I-1]===P[I+1]||(P[F++]=P[I],P[F++]=P[I+1]);return a(P,[F/2|0,2])}(o,c),g=function(p,S,M,E){for(var P=p.data,O=p.shape[0],I=n.mallocDouble(O),R=0,U=0;U<O;++U){var z=P[2*U],j=P[2*U+1];if(M[z]!==M[j]){var W=S[z],F=S[j];P[2*R]=z,P[2*R+1]=j,I[R++]=(F-E)/(F-W)}}return p.shape[0]=R,a(I,[R])}(d,u,b,+h),m=function(p,S){var M=n.mallocInt32(2*S),E=p.shape[0],P=p.data;M[0]=0;for(var O=0,I=0;I<E;++I){var R=P[2*I];if(R!==O){for(M[2*O+1]=I;++O<R;)M[2*O]=I,M[2*O+1]=I;M[2*O]=I}}for(M[2*O+1]=E;++O<S;)M[2*O]=M[2*O+1]=E;return M}(d,0|u.length),y=l(c)(o,d.data,m,b),x=function(p){for(var S=0|p.shape[0],M=p.data,E=new Array(S),P=0;P<S;++P)E[P]=[M[2*P],M[2*P+1]];return E}(d),T=[].slice.call(g.data,0,g.shape[0]);return n.free(b),n.free(d.data),n.free(g.data),n.free(m),{cells:y,vertexIds:x,vertexWeights:T}};var a=t(5050),n=t(5306),i=t(8729),l=t(1168)},1168:function(f){f.exports=function(t){return s[t]()};var s=[function(){return function(t,a,n,i){for(var l=t.length,o=0;o<l;++o)t[o].length;return[]}},function(){function t(a,n,i,l){for(var o=0|Math.min(i,l),u=0|Math.max(i,l),h=a[2*o],c=a[2*o+1];h<c;){var b=h+c>>1,d=n[2*b+1];if(d===u)return b;u<d?c=b:h=b+1}return h}return function(a,n,i,l){for(var o=a.length,u=[],h=0;h<o;++h){var c=a[h];if(c.length===2){var b=(l[c[0]]<<0)+(l[c[1]]<<1);if(b===0||b===3)continue;switch(b){case 0:case 3:break;case 1:u.push([t(i,n,c[0],c[1])]);break;case 2:u.push([t(i,n,c[1],c[0])])}}}return u}},function(){function t(a,n,i,l){for(var o=0|Math.min(i,l),u=0|Math.max(i,l),h=a[2*o],c=a[2*o+1];h<c;){var b=h+c>>1,d=n[2*b+1];if(d===u)return b;u<d?c=b:h=b+1}return h}return function(a,n,i,l){for(var o=a.length,u=[],h=0;h<o;++h){var c=a[h],b=c.length;if(b===3){if((d=(l[c[0]]<<0)+(l[c[1]]<<1)+(l[c[2]]<<2))==0||d===7)continue;switch(d){case 0:case 7:break;case 1:u.push([t(i,n,c[0],c[2]),t(i,n,c[0],c[1])]);break;case 2:u.push([t(i,n,c[1],c[0]),t(i,n,c[1],c[2])]);break;case 3:u.push([t(i,n,c[0],c[2]),t(i,n,c[1],c[2])]);break;case 4:u.push([t(i,n,c[2],c[1]),t(i,n,c[2],c[0])]);break;case 5:u.push([t(i,n,c[2],c[1]),t(i,n,c[0],c[1])]);break;case 6:u.push([t(i,n,c[1],c[0]),t(i,n,c[2],c[0])])}}else if(b===2){var d;if((d=(l[c[0]]<<0)+(l[c[1]]<<1))==0||d===3)continue;switch(d){case 0:case 3:break;case 1:u.push([t(i,n,c[0],c[1])]);break;case 2:u.push([t(i,n,c[1],c[0])])}}}return u}},function(){function t(a,n,i,l){for(var o=0|Math.min(i,l),u=0|Math.max(i,l),h=a[2*o],c=a[2*o+1];h<c;){var b=h+c>>1,d=n[2*b+1];if(d===u)return b;u<d?c=b:h=b+1}return h}return function(a,n,i,l){for(var o=a.length,u=[],h=0;h<o;++h){var c=a[h],b=c.length;if(b===4){if((d=(l[c[0]]<<0)+(l[c[1]]<<1)+(l[c[2]]<<2)+(l[c[3]]<<3))==0||d===15)continue;switch(d){case 0:case 15:break;case 1:u.push([t(i,n,c[0],c[1]),t(i,n,c[0],c[2]),t(i,n,c[0],c[3])]);break;case 2:u.push([t(i,n,c[1],c[2]),t(i,n,c[1],c[0]),t(i,n,c[1],c[3])]);break;case 3:u.push([t(i,n,c[1],c[2]),t(i,n,c[0],c[2]),t(i,n,c[0],c[3])],[t(i,n,c[1],c[3]),t(i,n,c[1],c[2]),t(i,n,c[0],c[3])]);break;case 4:u.push([t(i,n,c[2],c[0]),t(i,n,c[2],c[1]),t(i,n,c[2],c[3])]);break;case 5:u.push([t(i,n,c[0],c[1]),t(i,n,c[2],c[1]),t(i,n,c[0],c[3])],[t(i,n,c[2],c[1]),t(i,n,c[2],c[3]),t(i,n,c[0],c[3])]);break;case 6:u.push([t(i,n,c[2],c[0]),t(i,n,c[1],c[0]),t(i,n,c[1],c[3])],[t(i,n,c[2],c[3]),t(i,n,c[2],c[0]),t(i,n,c[1],c[3])]);break;case 7:u.push([t(i,n,c[0],c[3]),t(i,n,c[1],c[3]),t(i,n,c[2],c[3])]);break;case 8:u.push([t(i,n,c[3],c[1]),t(i,n,c[3],c[0]),t(i,n,c[3],c[2])]);break;case 9:u.push([t(i,n,c[3],c[1]),t(i,n,c[0],c[1]),t(i,n,c[0],c[2])],[t(i,n,c[3],c[2]),t(i,n,c[3],c[1]),t(i,n,c[0],c[2])]);break;case 10:u.push([t(i,n,c[1],c[0]),t(i,n,c[3],c[0]),t(i,n,c[1],c[2])],[t(i,n,c[3],c[0]),t(i,n,c[3],c[2]),t(i,n,c[1],c[2])]);break;case 11:u.push([t(i,n,c[1],c[2]),t(i,n,c[0],c[2]),t(i,n,c[3],c[2])]);break;case 12:u.push([t(i,n,c[3],c[0]),t(i,n,c[2],c[0]),t(i,n,c[2],c[1])],[t(i,n,c[3],c[1]),t(i,n,c[3],c[0]),t(i,n,c[2],c[1])]);break;case 13:u.push([t(i,n,c[0],c[1]),t(i,n,c[2],c[1]),t(i,n,c[3],c[1])]);break;case 14:u.push([t(i,n,c[2],c[0]),t(i,n,c[1],c[0]),t(i,n,c[3],c[0])])}}else if(b===3){if((d=(l[c[0]]<<0)+(l[c[1]]<<1)+(l[c[2]]<<2))==0||d===7)continue;switch(d){case 0:case 7:break;case 1:u.push([t(i,n,c[0],c[2]),t(i,n,c[0],c[1])]);break;case 2:u.push([t(i,n,c[1],c[0]),t(i,n,c[1],c[2])]);break;case 3:u.push([t(i,n,c[0],c[2]),t(i,n,c[1],c[2])]);break;case 4:u.push([t(i,n,c[2],c[1]),t(i,n,c[2],c[0])]);break;case 5:u.push([t(i,n,c[2],c[1]),t(i,n,c[0],c[1])]);break;case 6:u.push([t(i,n,c[1],c[0]),t(i,n,c[2],c[0])])}}else if(b===2){var d;if((d=(l[c[0]]<<0)+(l[c[1]]<<1))==0||d===3)continue;switch(d){case 0:case 3:break;case 1:u.push([t(i,n,c[0],c[1])]);break;case 2:u.push([t(i,n,c[1],c[0])])}}}return u}}]},8211:function(f,s,t){t(2288),t(1731),s.H=function(a,n){var i=a.length,l=a.length-n.length,o=Math.min;if(l)return l;switch(i){case 0:return 0;case 1:return a[0]-n[0];case 2:return(c=a[0]+a[1]-n[0]-n[1])||o(a[0],a[1])-o(n[0],n[1]);case 3:var u=a[0]+a[1],h=n[0]+n[1];if(c=u+a[2]-(h+n[2]))return c;var c,b=o(a[0],a[1]),d=o(n[0],n[1]);return(c=o(b,a[2])-o(d,n[2]))||o(b+a[2],u)-o(d+n[2],h);default:var g=a.slice(0);g.sort();var m=n.slice(0);m.sort();for(var y=0;y<i;++y)if(l=g[y]-m[y])return l;return 0}}},9392:function(f,s){function t(n){var i=32;return(n&=-n)&&i--,65535&n&&(i-=16),16711935&n&&(i-=8),252645135&n&&(i-=4),858993459&n&&(i-=2),1431655765&n&&(i-=1),i}s.INT_BITS=32,s.INT_MAX=2147483647,s.INT_MIN=-2147483648,s.sign=function(n){return(n>0)-(n<0)},s.abs=function(n){var i=n>>31;return(n^i)-i},s.min=function(n,i){return i^(n^i)&-(n<i)},s.max=function(n,i){return n^(n^i)&-(n<i)},s.isPow2=function(n){return!(n&n-1||!n)},s.log2=function(n){var i,l;return i=(n>65535)<<4,i|=l=((n>>>=i)>255)<<3,i|=l=((n>>>=l)>15)<<2,(i|=l=((n>>>=l)>3)<<1)|(n>>>=l)>>1},s.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},s.popCount=function(n){return 16843009*((n=(858993459&(n-=n>>>1&1431655765))+(n>>>2&858993459))+(n>>>4)&252645135)>>>24},s.countTrailingZeros=t,s.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,1+((n|=n>>>8)|n>>>16)},s.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,(n|=n>>>16)-(n>>>1)},s.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,27030>>>(n&=15)&1};var a=new Array(256);(function(n){for(var i=0;i<256;++i){var l=i,o=i,u=7;for(l>>>=1;l;l>>>=1)o<<=1,o|=1&l,--u;n[i]=o<<u&255}})(a),s.reverse=function(n){return a[255&n]<<24|a[n>>>8&255]<<16|a[n>>>16&255]<<8|a[n>>>24&255]},s.interleave2=function(n,i){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i&=65535)|i<<8))|i<<4))|i<<2))|i<<1))<<1},s.deinterleave2=function(n,i){return(n=65535&((n=16711935&((n=252645135&((n=858993459&((n=n>>>i&1431655765)|n>>>1))|n>>>2))|n>>>4))|n>>>16))<<16>>16},s.interleave3=function(n,i,l){return n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2),(n|=(i=1227133513&((i=3272356035&((i=251719695&((i=4278190335&((i&=1023)|i<<16))|i<<8))|i<<4))|i<<2))<<1)|(l=1227133513&((l=3272356035&((l=251719695&((l=4278190335&((l&=1023)|l<<16))|l<<8))|l<<4))|l<<2))<<2},s.deinterleave3=function(n,i){return(n=1023&((n=4278190335&((n=251719695&((n=3272356035&((n=n>>>i&1227133513)|n>>>2))|n>>>4))|n>>>8))|n>>>16))<<22>>22},s.nextCombination=function(n){var i=n|n-1;return i+1|(~i&-~i)-1>>>t(n)+1}},6656:function(f,s,t){var a=t(9392),n=t(9521);function i(d,g){var m=d.length,y=d.length-g.length,x=Math.min;if(y)return y;switch(m){case 0:return 0;case 1:return d[0]-g[0];case 2:return(S=d[0]+d[1]-g[0]-g[1])||x(d[0],d[1])-x(g[0],g[1]);case 3:var T=d[0]+d[1],p=g[0]+g[1];if(S=T+d[2]-(p+g[2]))return S;var S,M=x(d[0],d[1]),E=x(g[0],g[1]);return(S=x(M,d[2])-x(E,g[2]))||x(M+d[2],T)-x(E+g[2],p);default:var P=d.slice(0);P.sort();var O=g.slice(0);O.sort();for(var I=0;I<m;++I)if(y=P[I]-O[I])return y;return 0}}function l(d,g){return i(d[0],g[0])}function o(d,g){if(g){for(var m=d.length,y=new Array(m),x=0;x<m;++x)y[x]=[d[x],g[x]];for(y.sort(l),x=0;x<m;++x)d[x]=y[x][0],g[x]=y[x][1];return d}return d.sort(i),d}function u(d){if(d.length===0)return[];for(var g=1,m=d.length,y=1;y<m;++y){var x=d[y];if(i(x,d[y-1])){if(y===g){g++;continue}d[g++]=x}}return d.length=g,d}function h(d,g){for(var m=0,y=d.length-1,x=-1;m<=y;){var T=m+y>>1,p=i(d[T],g);p<=0?(p===0&&(x=T),m=T+1):p>0&&(y=T-1)}return x}function c(d,g){for(var m=new Array(d.length),y=0,x=m.length;y<x;++y)m[y]=[];for(var T=[],p=(y=0,g.length);y<p;++y)for(var S=g[y],M=S.length,E=1,P=1<<M;E<P;++E){T.length=a.popCount(E);for(var O=0,I=0;I<M;++I)E&1<<I&&(T[O++]=S[I]);var R=h(d,T);if(!(R<0))for(;m[R++].push(y),!(R>=d.length||i(d[R],T)!==0););}return m}function b(d,g){if(g<0)return[];for(var m=[],y=(1<<g+1)-1,x=0;x<d.length;++x)for(var T=d[x],p=y;p<1<<T.length;p=a.nextCombination(p)){for(var S=new Array(g+1),M=0,E=0;E<T.length;++E)p&1<<E&&(S[M++]=T[E]);m.push(S)}return o(m)}s.dimension=function(d){for(var g=0,m=Math.max,y=0,x=d.length;y<x;++y)g=m(g,d[y].length);return g-1},s.countVertices=function(d){for(var g=-1,m=Math.max,y=0,x=d.length;y<x;++y)for(var T=d[y],p=0,S=T.length;p<S;++p)g=m(g,T[p]);return g+1},s.cloneCells=function(d){for(var g=new Array(d.length),m=0,y=d.length;m<y;++m)g[m]=d[m].slice(0);return g},s.compareCells=i,s.normalize=o,s.unique=u,s.findCell=h,s.incidence=c,s.dual=function(d,g){if(!g)return c(u(b(d,0)),d);for(var m=new Array(g),y=0;y<g;++y)m[y]=[];y=0;for(var x=d.length;y<x;++y)for(var T=d[y],p=0,S=T.length;p<S;++p)m[T[p]].push(y);return m},s.explode=function(d){for(var g=[],m=0,y=d.length;m<y;++m)for(var x=d[m],T=0|x.length,p=1,S=1<<T;p<S;++p){for(var M=[],E=0;E<T;++E)p>>>E&1&&M.push(x[E]);g.push(M)}return o(g)},s.skeleton=b,s.boundary=function(d){for(var g=[],m=0,y=d.length;m<y;++m)for(var x=d[m],T=0,p=x.length;T<p;++T){for(var S=new Array(x.length-1),M=0,E=0;M<p;++M)M!==T&&(S[E++]=x[M]);g.push(S)}return o(g)},s.connectedComponents=function(d,g){return g?function(m,y){for(var x=new n(y),T=0;T<m.length;++T)for(var p=m[T],S=0;S<p.length;++S)for(var M=S+1;M<p.length;++M)x.link(p[S],p[M]);var E=[],P=x.ranks;for(T=0;T<P.length;++T)P[T]=-1;for(T=0;T<m.length;++T){var O=x.find(m[T][0]);P[O]<0?(P[O]=E.length,E.push([m[T].slice(0)])):E[P[O]].push(m[T].slice(0))}return E}(d,g):function(m){for(var y=u(o(b(m,0))),x=new n(y.length),T=0;T<m.length;++T)for(var p=m[T],S=0;S<p.length;++S)for(var M=h(y,[p[S]]),E=S+1;E<p.length;++E)x.link(M,h(y,[p[E]]));var P=[],O=x.ranks;for(T=0;T<O.length;++T)O[T]=-1;for(T=0;T<m.length;++T){var I=x.find(h(y,[m[T][0]]));O[I]<0?(O[I]=P.length,P.push([m[T].slice(0)])):P[O[I]].push(m[T].slice(0))}return P}(d)}},9521:function(f){function s(t){this.roots=new Array(t),this.ranks=new Array(t);for(var a=0;a<t;++a)this.roots[a]=a,this.ranks[a]=0}f.exports=s,s.prototype.length=function(){return this.roots.length},s.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},s.prototype.find=function(t){for(var a=this.roots;a[t]!==t;){var n=a[t];a[t]=a[n],t=n}return t},s.prototype.link=function(t,a){var n=this.find(t),i=this.find(a);if(n!==i){var l=this.ranks,o=this.roots,u=l[n],h=l[i];u<h?o[n]=i:h<u?o[i]=n:(o[i]=n,++l[n])}}},8243:function(f,s,t){f.exports=function(i,l,o){for(var u=l.length,h=i.length,c=new Array(u),b=new Array(u),d=new Array(u),g=new Array(u),m=0;m<u;++m)c[m]=b[m]=-1,d[m]=1/0,g[m]=!1;for(m=0;m<h;++m){var y=i[m];if(y.length!==2)throw new Error("Input must be a graph");var x=y[1],T=y[0];b[T]!==-1?b[T]=-2:b[T]=x,c[x]!==-1?c[x]=-2:c[x]=T}function p(Q){if(g[Q])return 1/0;var K,X,J,ee=c[Q],ie=b[Q];return ee<0||ie<0?1/0:(K=l[Q],X=l[ee],J=l[ie],Math.abs(a(K,X,J))/Math.sqrt(Math.pow(X[0]-J[0],2)+Math.pow(X[1]-J[1],2)))}function S(Q,K){var X=z[Q],J=z[K];z[Q]=J,z[K]=X,j[X]=K,j[J]=Q}function M(Q){return d[z[Q]]}function E(Q){return 1&Q?Q-1>>1:(Q>>1)-1}function P(Q){for(var K=M(Q);;){var X=K,J=2*Q+1,ee=2*(Q+1),ie=Q;if(J<W){var oe=M(J);oe<X&&(ie=J,X=oe)}if(ee<W&&M(ee)<X&&(ie=ee),ie===Q)return Q;S(Q,ie),Q=ie}}function O(Q){for(var K=M(Q);Q>0;){var X=E(Q);if(!(X>=0&&K<M(X)))return Q;S(Q,X),Q=X}}function I(){if(W>0){var Q=z[0];return S(0,W-1),W-=1,P(0),Q}return-1}function R(Q,K){var X=z[Q];return d[X]===K?Q:(d[X]=-1/0,O(Q),I(),d[X]=K,O((W+=1)-1))}function U(Q){if(!g[Q]){g[Q]=!0;var K=c[Q],X=b[Q];c[X]>=0&&(c[X]=K),b[K]>=0&&(b[K]=X),j[K]>=0&&R(j[K],p(K)),j[X]>=0&&R(j[X],p(X))}}var z=[],j=new Array(u);for(m=0;m<u;++m)(d[m]=p(m))<1/0?(j[m]=z.length,z.push(m)):j[m]=-1;var W=z.length;for(m=W>>1;m>=0;--m)P(m);for(;;){var F=I();if(F<0||d[F]>o)break;U(F)}var V=[];for(m=0;m<u;++m)g[m]||(j[m]=V.length,V.push(l[m].slice()));function H(Q,K){if(Q[K]<0)return K;var X=K,J=K;do{var ee=Q[J];if(!g[J]||ee<0||ee===J||(ee=Q[J=ee],!g[J]||ee<0||ee===J))break;J=ee,X=Q[X]}while(X!==J);for(var ie=K;ie!==J;ie=Q[ie])Q[ie]=J;return J}V.length;var te=[];return i.forEach(function(Q){var K=H(c,Q[0]),X=H(b,Q[1]);if(K>=0&&X>=0&&K!==X){var J=j[K],ee=j[X];J!==ee&&te.push([J,ee])}}),n.unique(n.normalize(te)),{positions:V,edges:te}};var a=t(417),n=t(6656)},6638:function(f,s,t){f.exports=function(i,l){var o,u,h,c;if(l[0][0]<l[1][0])o=l[0],u=l[1];else{if(!(l[0][0]>l[1][0]))return n(l,i);o=l[1],u=l[0]}if(i[0][0]<i[1][0])h=i[0],c=i[1];else{if(!(i[0][0]>i[1][0]))return-n(i,l);h=i[1],c=i[0]}var b=a(o,u,c),d=a(o,u,h);if(b<0){if(d<=0)return b}else if(b>0){if(d>=0)return b}else if(d)return d;if(b=a(c,h,u),d=a(c,h,o),b<0){if(d<=0)return b}else if(b>0){if(d>=0)return b}else if(d)return d;return u[0]-c[0]};var a=t(417);function n(i,l){var o,u,h,c;if(l[0][0]<l[1][0])o=l[0],u=l[1];else{if(!(l[0][0]>l[1][0])){var b=Math.min(i[0][1],i[1][1]),d=Math.max(i[0][1],i[1][1]),g=Math.min(l[0][1],l[1][1]),m=Math.max(l[0][1],l[1][1]);return d<g?d-g:b>m?b-m:d-m}o=l[1],u=l[0]}i[0][1]<i[1][1]?(h=i[0],c=i[1]):(h=i[1],c=i[0]);var y=a(u,o,h);return y||(y=a(u,o,c))||c-u}},4385:function(f,s,t){f.exports=function(d){for(var g=d.length,m=2*g,y=new Array(m),x=0;x<g;++x){var T=d[x],p=T[0][0]<T[1][0];y[2*x]=new b(T[0][0],T,p,x),y[2*x+1]=new b(T[1][0],T,!p,x)}y.sort(function(U,z){var j=U.x-z.x;return j||(j=U.create-z.create)||Math.min(U.segment[0][1],U.segment[1][1])-Math.min(z.segment[0][1],z.segment[1][1])});var S=n(l),M=[],E=[],P=[];for(x=0;x<m;){for(var O=y[x].x,I=[];x<m;){var R=y[x];if(R.x!==O)break;x+=1,R.segment[0][0]===R.x&&R.segment[1][0]===R.x?R.create&&(R.segment[0][1]<R.segment[1][1]?(I.push(new c(R.segment[0][1],R.index,!0,!0)),I.push(new c(R.segment[1][1],R.index,!1,!1))):(I.push(new c(R.segment[1][1],R.index,!0,!1)),I.push(new c(R.segment[0][1],R.index,!1,!0)))):S=R.create?S.insert(R.segment,R.index):S.remove(R.segment)}M.push(S.root),E.push(O),P.push(I)}return new o(M,E,P)};var a=t(5070),n=t(7080),i=t(417),l=t(6638);function o(d,g,m){this.slabs=d,this.coordinates=g,this.horizontal=m}function u(d,g){return d.y-g}function h(d,g){for(var m=null;d;){var y,x,T=d.key;T[0][0]<T[1][0]?(y=T[0],x=T[1]):(y=T[1],x=T[0]);var p=i(y,x,g);if(p<0)d=d.left;else if(p>0)if(g[0]!==T[1][0])m=d,d=d.right;else{if(S=h(d.right,g))return S;d=d.left}else{if(g[0]!==T[1][0])return d;var S;if(S=h(d.right,g))return S;d=d.left}}return m}function c(d,g,m,y){this.y=d,this.index=g,this.start=m,this.closed=y}function b(d,g,m,y){this.x=d,this.segment=g,this.create=m,this.index=y}o.prototype.castUp=function(d){var g=a.le(this.coordinates,d[0]);if(g<0)return-1;this.slabs[g];var m=h(this.slabs[g],d),y=-1;if(m&&(y=m.value),this.coordinates[g]===d[0]){var x=null;if(m&&(x=m.key),g>0){var T=h(this.slabs[g-1],d);T&&(x?l(T.key,x)>0&&(x=T.key,y=T.value):(y=T.value,x=T.key))}var p=this.horizontal[g];if(p.length>0){var S=a.ge(p,d[1],u);if(S<p.length){var M=p[S];if(d[1]===M.y){if(M.closed)return M.index;for(;S<p.length-1&&p[S+1].y===d[1];)if((M=p[S+=1]).closed)return M.index;if(M.y===d[1]&&!M.start){if((S+=1)>=p.length)return y;M=p[S]}}if(M.start)if(x){var E=i(x[0],x[1],[d[0],M.y]);x[0][0]>x[1][0]&&(E=-E),E>0&&(y=M.index)}else y=M.index;else M.y!==d[1]&&(y=M.index)}}}return y}},4670:function(f,s,t){var a=t(9130),n=t(9662);function i(o,u){var h=n(a(o,u),[u[u.length-1]]);return h[h.length-1]}function l(o,u,h,c){var b=-u/(c-u);b<0?b=0:b>1&&(b=1);for(var d=1-b,g=o.length,m=new Array(g),y=0;y<g;++y)m[y]=b*o[y]+d*h[y];return m}f.exports=function(o,u){for(var h=[],c=[],b=i(o[o.length-1],u),d=o[o.length-1],g=o[0],m=0;m<o.length;++m,d=g){var y=i(g=o[m],u);if(b<0&&y>0||b>0&&y<0){var x=l(d,y,g,b);h.push(x),c.push(x.slice())}y<0?c.push(g.slice()):y>0?h.push(g.slice()):(h.push(g.slice()),c.push(g.slice())),b=y}return{positive:h,negative:c}},f.exports.positive=function(o,u){for(var h=[],c=i(o[o.length-1],u),b=o[o.length-1],d=o[0],g=0;g<o.length;++g,b=d){var m=i(d=o[g],u);(c<0&&m>0||c>0&&m<0)&&h.push(l(b,m,d,c)),m>=0&&h.push(d.slice()),c=m}return h},f.exports.negative=function(o,u){for(var h=[],c=i(o[o.length-1],u),b=o[o.length-1],d=o[0],g=0;g<o.length;++g,b=d){var m=i(d=o[g],u);(c<0&&m>0||c>0&&m<0)&&h.push(l(b,m,d,c)),m<=0&&h.push(d.slice()),c=m}return h}},8974:function(f,s,t){var a;(function(){var n={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function i(u){return function(h,c){var b,d,g,m,y,x,T,p,S,M=1,E=h.length,P="";for(d=0;d<E;d++)if(typeof h[d]=="string")P+=h[d];else if(typeof h[d]=="object"){if((m=h[d]).keys)for(b=c[M],g=0;g<m.keys.length;g++){if(b==null)throw new Error(i('[sprintf] Cannot access property "%s" of undefined value "%s"',m.keys[g],m.keys[g-1]));b=b[m.keys[g]]}else b=m.param_no?c[m.param_no]:c[M++];if(n.not_type.test(m.type)&&n.not_primitive.test(m.type)&&b instanceof Function&&(b=b()),n.numeric_arg.test(m.type)&&typeof b!="number"&&isNaN(b))throw new TypeError(i("[sprintf] expecting number but found %T",b));switch(n.number.test(m.type)&&(p=b>=0),m.type){case"b":b=parseInt(b,10).toString(2);break;case"c":b=String.fromCharCode(parseInt(b,10));break;case"d":case"i":b=parseInt(b,10);break;case"j":b=JSON.stringify(b,null,m.width?parseInt(m.width):0);break;case"e":b=m.precision?parseFloat(b).toExponential(m.precision):parseFloat(b).toExponential();break;case"f":b=m.precision?parseFloat(b).toFixed(m.precision):parseFloat(b);break;case"g":b=m.precision?String(Number(b.toPrecision(m.precision))):parseFloat(b);break;case"o":b=(parseInt(b,10)>>>0).toString(8);break;case"s":b=String(b),b=m.precision?b.substring(0,m.precision):b;break;case"t":b=String(!!b),b=m.precision?b.substring(0,m.precision):b;break;case"T":b=Object.prototype.toString.call(b).slice(8,-1).toLowerCase(),b=m.precision?b.substring(0,m.precision):b;break;case"u":b=parseInt(b,10)>>>0;break;case"v":b=b.valueOf(),b=m.precision?b.substring(0,m.precision):b;break;case"x":b=(parseInt(b,10)>>>0).toString(16);break;case"X":b=(parseInt(b,10)>>>0).toString(16).toUpperCase()}n.json.test(m.type)?P+=b:(!n.number.test(m.type)||p&&!m.sign?S="":(S=p?"+":"-",b=b.toString().replace(n.sign,"")),x=m.pad_char?m.pad_char==="0"?"0":m.pad_char.charAt(1):" ",T=m.width-(S+b).length,y=m.width&&T>0?x.repeat(T):"",P+=m.align?S+b+y:x==="0"?S+y+b:y+S+b)}return P}(function(h){if(o[h])return o[h];for(var c,b=h,d=[],g=0;b;){if((c=n.text.exec(b))!==null)d.push(c[0]);else if((c=n.modulo.exec(b))!==null)d.push("%");else{if((c=n.placeholder.exec(b))===null)throw new SyntaxError("[sprintf] unexpected placeholder");if(c[2]){g|=1;var m=[],y=c[2],x=[];if((x=n.key.exec(y))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");for(m.push(x[1]);(y=y.substring(x[0].length))!=="";)if((x=n.key_access.exec(y))!==null)m.push(x[1]);else{if((x=n.index_access.exec(y))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");m.push(x[1])}c[2]=m}else g|=2;if(g===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");d.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}b=b.substring(c[0].length)}return o[h]=d}(u),arguments)}function l(u,h){return i.apply(null,[u].concat(h||[]))}var o=Object.create(null);s.sprintf=i,s.vsprintf=l,typeof window<"u"&&(window.sprintf=i,window.vsprintf=l,(a=(function(){return{sprintf:i,vsprintf:l}}).call(s,t,s,f))===void 0||(f.exports=a))})()},4162:function(f,s,t){f.exports=function(o,u){if(o.dimension<=0)return{positions:[],cells:[]};if(o.dimension===1)return function(b,d){for(var g=n(b,d),m=g.length,y=new Array(m),x=new Array(m),T=0;T<m;++T)y[T]=[g[T]],x[T]=[T];return{positions:y,cells:x}}(o,u);var h=o.order.join()+"-"+o.dtype,c=l[h];return u=+u||0,c||(c=l[h]=function(b,d){var g=b.length+"d",m=i[g];if(m)return m(a,b,d)}(o.order,o.dtype)),c(o,u)};var a=t(9284),n=t(9584),i={"2d":function(o,u,h){var c=o({order:u,scalarArguments:3,getters:h==="generic"?[0]:void 0,phase:function(b,d,g,m){return b>m|0},vertex:function(b,d,g,m,y,x,T,p,S,M,E,P,O){var I=(T<<0)+(p<<1)+(S<<2)+(M<<3)|0;if(I!==0&&I!==15)switch(I){case 0:case 15:E.push([b-.5,d-.5]);break;case 1:E.push([b-.25-.25*(m+g-2*O)/(g-m),d-.25-.25*(y+g-2*O)/(g-y)]);break;case 2:E.push([b-.75-.25*(-m-g+2*O)/(m-g),d-.25-.25*(x+m-2*O)/(m-x)]);break;case 3:E.push([b-.5,d-.5-.5*(y+g+x+m-4*O)/(g-y+m-x)]);break;case 4:E.push([b-.25-.25*(x+y-2*O)/(y-x),d-.75-.25*(-y-g+2*O)/(y-g)]);break;case 5:E.push([b-.5-.5*(m+g+x+y-4*O)/(g-m+y-x),d-.5]);break;case 6:E.push([b-.5-.25*(-m-g+x+y)/(m-g+y-x),d-.5-.25*(-y-g+x+m)/(y-g+m-x)]);break;case 7:E.push([b-.75-.25*(x+y-2*O)/(y-x),d-.75-.25*(x+m-2*O)/(m-x)]);break;case 8:E.push([b-.75-.25*(-x-y+2*O)/(x-y),d-.75-.25*(-x-m+2*O)/(x-m)]);break;case 9:E.push([b-.5-.25*(m+g+-x-y)/(g-m+x-y),d-.5-.25*(y+g+-x-m)/(g-y+x-m)]);break;case 10:E.push([b-.5-.5*(-m-g-x-y+4*O)/(m-g+x-y),d-.5]);break;case 11:E.push([b-.25-.25*(-x-y+2*O)/(x-y),d-.75-.25*(y+g-2*O)/(g-y)]);break;case 12:E.push([b-.5,d-.5-.5*(-y-g-x-m+4*O)/(y-g+x-m)]);break;case 13:E.push([b-.75-.25*(m+g-2*O)/(g-m),d-.25-.25*(-x-m+2*O)/(x-m)]);break;case 14:E.push([b-.25-.25*(-m-g+2*O)/(m-g),d-.25-.25*(-y-g+2*O)/(y-g)])}},cell:function(b,d,g,m,y,x,T,p,S){y?p.push([b,d]):p.push([d,b])}});return function(b,d){var g=[],m=[];return c(b,g,m,d),{positions:g,cells:m}}}},l={}},6946:function(f,s,t){f.exports=function l(o,u,h){h=h||{};var c=i[o];c||(c=i[o]={" ":{data:new Float32Array(0),shape:.2}});var b=c[u];if(!b)if(u.length<=1||!/\d/.test(u))b=c[u]=function(P){for(var O=P.cells,I=P.positions,R=new Float32Array(6*O.length),U=0,z=0,j=0;j<O.length;++j)for(var W=O[j],F=0;F<3;++F){var V=I[W[F]];R[U++]=V[0],R[U++]=V[1]+1.4,z=Math.max(V[0],z)}return{data:R,shape:z}}(a(u,{triangles:!0,font:o,textAlign:h.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var d=u.split(/(\d|\s)/),g=new Array(d.length),m=0,y=0,x=0;x<d.length;++x)g[x]=l(o,d[x]),m+=g[x].data.length,y+=g[x].shape,x>0&&(y+=.02);var T=new Float32Array(m),p=0,S=-.5*y;for(x=0;x<g.length;++x){for(var M=g[x].data,E=0;E<M.length;E+=2)T[p++]=M[E]+S,T[p++]=M[E+1];S+=g[x].shape+.02}b=c[u]={data:T,shape:y}}return b};var a=t(875),n=window||w.global||{},i=n.__TEXT_CACHE||{};n.__TEXT_CACHE={}},14:function(f,s,t){var a=t(4405);f.exports=l;var n=96;function i(o,u){var h=a(getComputedStyle(o).getPropertyValue(u));return h[0]*l(h[1],o)}function l(o,u){switch(u=u||document.body,o=(o||"px").trim().toLowerCase(),u!==window&&u!==document||(u=document.body),o){case"%":return u.clientHeight/100;case"ch":case"ex":return function(h,c){var b=document.createElement("div");b.style["font-size"]="128"+h,c.appendChild(b);var d=i(b,"font-size")/128;return c.removeChild(b),d}(o,u);case"em":return i(u,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return n;case"cm":return n/2.54;case"mm":return n/25.4;case"pt":return n/72;case"pc":return n/6}return 1}},3440:function(f,s,t){f.exports=function(y){var x=(y=y||{}).center||[0,0,0],T=y.up||[0,1,0],p=y.right||b(T),S=y.radius||1,M=y.theta||0,E=y.phi||0;if(x=[].slice.call(x,0,3),T=[].slice.call(T,0,3),o(T,T),p=[].slice.call(p,0,3),o(p,p),"eye"in y){var P=y.eye,O=[P[0]-x[0],P[1]-x[1],P[2]-x[2]];l(p,O,T),h(p[0],p[1],p[2])<1e-6?p=b(T):o(p,p),S=h(O[0],O[1],O[2]);var I=u(T,O)/S,R=u(p,O)/S;E=Math.acos(I),M=Math.acos(R)}return S=Math.log(S),new d(y.zoomMin,y.zoomMax,x,T,p,S,M,E)};var a=t(8444),n=t(7437),i=t(4422),l=t(903),o=t(899),u=t(9305);function h(y,x,T){return Math.sqrt(Math.pow(y,2)+Math.pow(x,2)+Math.pow(T,2))}function c(y){return Math.min(1,Math.max(-1,y))}function b(y){var x=Math.abs(y[0]),T=Math.abs(y[1]),p=Math.abs(y[2]),S=[0,0,0];x>Math.max(T,p)?S[2]=1:T>Math.max(x,p)?S[0]=1:S[1]=1;for(var M=0,E=0,P=0;P<3;++P)M+=y[P]*y[P],E+=S[P]*y[P];for(P=0;P<3;++P)S[P]-=E/M*y[P];return o(S,S),S}function d(y,x,T,p,S,M,E,P){this.center=a(T),this.up=a(p),this.right=a(S),this.radius=a([M]),this.angle=a([E,P]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(y,x),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var O=0;O<16;++O)this.computedMatrix[O]=.5;this.recalcMatrix(0)}var g=d.prototype;g.setDistanceLimits=function(y,x){y=y>0?Math.log(y):-1/0,x=x>0?Math.log(x):1/0,x=Math.max(x,y),this.radius.bounds[0][0]=y,this.radius.bounds[1][0]=x},g.getDistanceLimits=function(y){var x=this.radius.bounds[0];return y?(y[0]=Math.exp(x[0][0]),y[1]=Math.exp(x[1][0]),y):[Math.exp(x[0][0]),Math.exp(x[1][0])]},g.recalcMatrix=function(y){this.center.curve(y),this.up.curve(y),this.right.curve(y),this.radius.curve(y),this.angle.curve(y);for(var x=this.computedUp,T=this.computedRight,p=0,S=0,M=0;M<3;++M)S+=x[M]*T[M],p+=x[M]*x[M];var E=Math.sqrt(p),P=0;for(M=0;M<3;++M)T[M]-=x[M]*S/p,P+=T[M]*T[M],x[M]/=E;var O=Math.sqrt(P);for(M=0;M<3;++M)T[M]/=O;var I=this.computedToward;l(I,x,T),o(I,I);var R=Math.exp(this.computedRadius[0]),U=this.computedAngle[0],z=this.computedAngle[1],j=Math.cos(U),W=Math.sin(U),F=Math.cos(z),V=Math.sin(z),H=this.computedCenter,te=j*F,Q=W*F,K=V,X=-j*V,J=-W*V,ee=F,ie=this.computedEye,oe=this.computedMatrix;for(M=0;M<3;++M){var ae=te*T[M]+Q*I[M]+K*x[M];oe[4*M+1]=X*T[M]+J*I[M]+ee*x[M],oe[4*M+2]=ae,oe[4*M+3]=0}var ce=oe[1],ge=oe[5],ve=oe[9],be=oe[2],we=oe[6],ye=oe[10],me=ge*ye-ve*we,Ae=ve*be-ce*ye,ke=ce*we-ge*be,fe=h(me,Ae,ke);for(me/=fe,Ae/=fe,ke/=fe,oe[0]=me,oe[4]=Ae,oe[8]=ke,M=0;M<3;++M)ie[M]=H[M]+oe[2+4*M]*R;for(M=0;M<3;++M){P=0;for(var le=0;le<3;++le)P+=oe[M+4*le]*ie[le];oe[12+M]=-P}oe[15]=1},g.getMatrix=function(y,x){this.recalcMatrix(y);var T=this.computedMatrix;if(x){for(var p=0;p<16;++p)x[p]=T[p];return x}return T};var m=[0,0,0];g.rotate=function(y,x,T,p){if(this.angle.move(y,x,T),p){this.recalcMatrix(y);var S=this.computedMatrix;m[0]=S[2],m[1]=S[6],m[2]=S[10];for(var M=this.computedUp,E=this.computedRight,P=this.computedToward,O=0;O<3;++O)S[4*O]=M[O],S[4*O+1]=E[O],S[4*O+2]=P[O];for(i(S,S,p,m),O=0;O<3;++O)M[O]=S[4*O],E[O]=S[4*O+1];this.up.set(y,M[0],M[1],M[2]),this.right.set(y,E[0],E[1],E[2])}},g.pan=function(y,x,T,p){x=x||0,T=T||0,p=p||0,this.recalcMatrix(y);var S=this.computedMatrix,M=(Math.exp(this.computedRadius[0]),S[1]),E=S[5],P=S[9],O=h(M,E,P);M/=O,E/=O,P/=O;var I=S[0],R=S[4],U=S[8],z=I*M+R*E+U*P,j=h(I-=M*z,R-=E*z,U-=P*z),W=(I/=j)*x+M*T,F=(R/=j)*x+E*T,V=(U/=j)*x+P*T;this.center.move(y,W,F,V);var H=Math.exp(this.computedRadius[0]);H=Math.max(1e-4,H+p),this.radius.set(y,Math.log(H))},g.translate=function(y,x,T,p){this.center.move(y,x||0,T||0,p||0)},g.setMatrix=function(y,x,T,p){var S=1;typeof T=="number"&&(S=0|T),(S<0||S>3)&&(S=1);var M=(S+2)%3;x||(this.recalcMatrix(y),x=this.computedMatrix);var E=x[S],P=x[S+4],O=x[S+8];if(p){var I=Math.abs(E),R=Math.abs(P),U=Math.abs(O),z=Math.max(I,R,U);I===z?(E=E<0?-1:1,P=O=0):U===z?(O=O<0?-1:1,E=P=0):(P=P<0?-1:1,E=O=0)}else{var j=h(E,P,O);E/=j,P/=j,O/=j}var W,F,V=x[M],H=x[M+4],te=x[M+8],Q=V*E+H*P+te*O,K=h(V-=E*Q,H-=P*Q,te-=O*Q),X=P*(te/=K)-O*(H/=K),J=O*(V/=K)-E*te,ee=E*H-P*V,ie=h(X,J,ee);if(X/=ie,J/=ie,ee/=ie,this.center.jump(y,Le,Oe,Be),this.radius.idle(y),this.up.jump(y,E,P,O),this.right.jump(y,V,H,te),S===2){var oe=x[1],ae=x[5],ce=x[9],ge=oe*V+ae*H+ce*te,ve=oe*X+ae*J+ce*ee;W=me<0?-Math.PI/2:Math.PI/2,F=Math.atan2(ve,ge)}else{var be=x[2],we=x[6],ye=x[10],me=be*E+we*P+ye*O,Ae=be*V+we*H+ye*te,ke=be*X+we*J+ye*ee;W=Math.asin(c(me)),F=Math.atan2(ke,Ae)}this.angle.jump(y,F,W),this.recalcMatrix(y);var fe=x[2],le=x[6],de=x[10],Ce=this.computedMatrix;n(Ce,x);var Me=Ce[15],Le=Ce[12]/Me,Oe=Ce[13]/Me,Be=Ce[14]/Me,pe=Math.exp(this.computedRadius[0]);this.center.jump(y,Le-fe*pe,Oe-le*pe,Be-de*pe)},g.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},g.idle=function(y){this.center.idle(y),this.up.idle(y),this.right.idle(y),this.radius.idle(y),this.angle.idle(y)},g.flush=function(y){this.center.flush(y),this.up.flush(y),this.right.flush(y),this.radius.flush(y),this.angle.flush(y)},g.setDistance=function(y,x){x>0&&this.radius.set(y,Math.log(x))},g.lookAt=function(y,x,T,p){this.recalcMatrix(y),x=x||this.computedEye,T=T||this.computedCenter;var S=(p=p||this.computedUp)[0],M=p[1],E=p[2],P=h(S,M,E);if(!(P<1e-6)){S/=P,M/=P,E/=P;var O=x[0]-T[0],I=x[1]-T[1],R=x[2]-T[2],U=h(O,I,R);if(!(U<1e-6)){O/=U,I/=U,R/=U;var z=this.computedRight,j=z[0],W=z[1],F=z[2],V=S*j+M*W+E*F,H=h(j-=V*S,W-=V*M,F-=V*E);if(!(H<.01&&(H=h(j=M*R-E*I,W=E*O-S*R,F=S*I-M*O))<1e-6)){j/=H,W/=H,F/=H,this.up.set(y,S,M,E),this.right.set(y,j,W,F),this.center.set(y,T[0],T[1],T[2]),this.radius.set(y,Math.log(U));var te=M*F-E*W,Q=E*j-S*F,K=S*W-M*j,X=h(te,Q,K),J=S*O+M*I+E*R,ee=j*O+W*I+F*R,ie=(te/=X)*O+(Q/=X)*I+(K/=X)*R,oe=Math.asin(c(J)),ae=Math.atan2(ie,ee),ce=this.angle._state,ge=ce[ce.length-1],ve=ce[ce.length-2];ge%=2*Math.PI;var be=Math.abs(ge+2*Math.PI-ae),we=Math.abs(ge-ae),ye=Math.abs(ge-2*Math.PI-ae);be<we&&(ge+=2*Math.PI),ye<we&&(ge-=2*Math.PI),this.angle.jump(this.angle.lastT(),ge,ve),this.angle.set(y,ae,oe)}}}}},9660:function(f){f.exports=function(t,a,n){var i=t*a,l=s*t,o=l-(l-t),u=t-o,h=s*a,c=h-(h-a),b=a-c,d=u*b-(i-o*c-u*c-o*b);return n?(n[0]=d,n[1]=i,n):[d,i]};var s=+(Math.pow(2,27)+1)},87:function(f){f.exports=function(s,t,a){var n=s+t,i=n-s,l=t-i,o=s-(n-i);return a?(a[0]=o+l,a[1]=n,a):[o+l,n]}},5306:function(f,s,t){var a=t(2288),n=t(3094),i=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:n([32,0]),UINT16:n([32,0]),UINT32:n([32,0]),BIGUINT64:n([32,0]),INT8:n([32,0]),INT16:n([32,0]),INT32:n([32,0]),BIGINT64:n([32,0]),FLOAT:n([32,0]),DOUBLE:n([32,0]),DATA:n([32,0]),UINT8C:n([32,0]),BUFFER:n([32,0])});var l=typeof Uint8ClampedArray<"u",o=typeof BigUint64Array<"u",u=typeof BigInt64Array<"u",h=t.g.__TYPEDARRAY_POOL;h.UINT8C||(h.UINT8C=n([32,0])),h.BIGUINT64||(h.BIGUINT64=n([32,0])),h.BIGINT64||(h.BIGINT64=n([32,0])),h.BUFFER||(h.BUFFER=n([32,0]));var c=h.DATA,b=h.BUFFER;function d(z){if(z){var j=z.length||z.byteLength,W=a.log2(j);c[W].push(z)}}function g(z){z=a.nextPow2(z);var j=a.log2(z),W=c[j];return W.length>0?W.pop():new ArrayBuffer(z)}function m(z){return new Uint8Array(g(z),0,z)}function y(z){return new Uint16Array(g(2*z),0,z)}function x(z){return new Uint32Array(g(4*z),0,z)}function T(z){return new Int8Array(g(z),0,z)}function p(z){return new Int16Array(g(2*z),0,z)}function S(z){return new Int32Array(g(4*z),0,z)}function M(z){return new Float32Array(g(4*z),0,z)}function E(z){return new Float64Array(g(8*z),0,z)}function P(z){return l?new Uint8ClampedArray(g(z),0,z):m(z)}function O(z){return o?new BigUint64Array(g(8*z),0,z):null}function I(z){return u?new BigInt64Array(g(8*z),0,z):null}function R(z){return new DataView(g(z),0,z)}function U(z){z=a.nextPow2(z);var j=a.log2(z),W=b[j];return W.length>0?W.pop():new i(z)}s.free=function(z){if(i.isBuffer(z))b[a.log2(z.length)].push(z);else{if(Object.prototype.toString.call(z)!=="[object ArrayBuffer]"&&(z=z.buffer),!z)return;var j=z.length||z.byteLength,W=0|a.log2(j);c[W].push(z)}},s.freeUint8=s.freeUint16=s.freeUint32=s.freeBigUint64=s.freeInt8=s.freeInt16=s.freeInt32=s.freeBigInt64=s.freeFloat32=s.freeFloat=s.freeFloat64=s.freeDouble=s.freeUint8Clamped=s.freeDataView=function(z){d(z.buffer)},s.freeArrayBuffer=d,s.freeBuffer=function(z){b[a.log2(z.length)].push(z)},s.malloc=function(z,j){if(j===void 0||j==="arraybuffer")return g(z);switch(j){case"uint8":return m(z);case"uint16":return y(z);case"uint32":return x(z);case"int8":return T(z);case"int16":return p(z);case"int32":return S(z);case"float":case"float32":return M(z);case"double":case"float64":return E(z);case"uint8_clamped":return P(z);case"bigint64":return I(z);case"biguint64":return O(z);case"buffer":return U(z);case"data":case"dataview":return R(z);default:return null}return null},s.mallocArrayBuffer=g,s.mallocUint8=m,s.mallocUint16=y,s.mallocUint32=x,s.mallocInt8=T,s.mallocInt16=p,s.mallocInt32=S,s.mallocFloat32=s.mallocFloat=M,s.mallocFloat64=s.mallocDouble=E,s.mallocUint8Clamped=P,s.mallocBigUint64=O,s.mallocBigInt64=I,s.mallocDataView=R,s.mallocBuffer=U,s.clearCache=function(){for(var z=0;z<32;++z)h.UINT8[z].length=0,h.UINT16[z].length=0,h.UINT32[z].length=0,h.INT8[z].length=0,h.INT16[z].length=0,h.INT32[z].length=0,h.FLOAT[z].length=0,h.DOUBLE[z].length=0,h.BIGUINT64[z].length=0,h.BIGINT64[z].length=0,h.UINT8C[z].length=0,c[z].length=0,b[z].length=0}},1731:function(f){function s(a){this.roots=new Array(a),this.ranks=new Array(a);for(var n=0;n<a;++n)this.roots[n]=n,this.ranks[n]=0}f.exports=s;var t=s.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var a=this.roots.length;return this.roots.push(a),this.ranks.push(0),a},t.find=function(a){for(var n=a,i=this.roots;i[a]!==a;)a=i[a];for(;i[n]!==a;){var l=i[n];i[n]=a,n=l}return a},t.link=function(a,n){var i=this.find(a),l=this.find(n);if(i!==l){var o=this.ranks,u=this.roots,h=o[i],c=o[l];h<c?u[i]=l:c<h?u[l]=i:(u[l]=i,++o[i])}}},1215:function(f){f.exports=function(s,t,a){return s.length===0?s:t?(a||s.sort(t),function(n,i){for(var l=1,o=n.length,u=n[0],h=n[0],c=1;c<o;++c)if(h=u,i(u=n[c],h)){if(c===l){l++;continue}n[l++]=u}return n.length=l,n}(s,t)):(a||s.sort(),function(n){for(var i=1,l=n.length,o=n[0],u=n[0],h=1;h<l;++h,u=o)if(u=o,(o=n[h])!==u){if(h===i){i++;continue}n[i++]=o}return n.length=i,n}(s))}},875:function(f,s,t){f.exports=function(l,o){return typeof o=="object"&&o!==null||(o={}),a(l,o.canvas||n,o.context||i,o)};var a=t(712),n=null,i=null;typeof document<"u"&&((n=document.createElement("canvas")).width=8192,n.height=1024,i=n.getContext("2d"))},712:function(f,s,t){f.exports=function(O,I,R,U){var z=64,j=1.25,W={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return U&&(U.size&&U.size>0&&(z=U.size),U.lineSpacing&&U.lineSpacing>0&&(j=U.lineSpacing),U.styletags&&U.styletags.breaklines&&(W.breaklines=!!U.styletags.breaklines),U.styletags&&U.styletags.bolds&&(W.bolds=!!U.styletags.bolds),U.styletags&&U.styletags.italics&&(W.italics=!!U.styletags.italics),U.styletags&&U.styletags.subscripts&&(W.subscripts=!!U.styletags.subscripts),U.styletags&&U.styletags.superscripts&&(W.superscripts=!!U.styletags.superscripts)),R.font=[U.fontStyle,U.fontVariant,U.fontWeight,z+"px",U.font].filter(function(F){return F}).join(" "),R.textAlign="start",R.textBaseline="alphabetic",R.direction="ltr",P(function(F,V,H,te,Q,K){H=H.replace(/\n/g,""),H=K.breaklines===!0?H.replace(/\<br\>/g,`
`):H.replace(/\<br\>/g," ");var X="",J=[];for(ae=0;ae<H.length;++ae)J[ae]=X;K.bolds===!0&&(J=S(h,c,H,J)),K.italics===!0&&(J=S(b,d,H,J)),K.superscripts===!0&&(J=S(g,y,H,J)),K.subscripts===!0&&(J=S(x,p,H,J));var ee=[],ie="";for(ae=0;ae<H.length;++ae)J[ae]!==null&&(ie+=H[ae],ee.push(J[ae]));var oe,ae,ce,ge,ve,be=ie.split(`
`),we=be.length,ye=Math.round(Q*te),me=te,Ae=2*te,ke=0,fe=we*ye+Ae;F.height<fe&&(F.height=fe),V.fillStyle="#000",V.fillRect(0,0,F.width,F.height),V.fillStyle="#fff";var le=0,de="";function Ce(){if(de!==""){var Re=V.measureText(de).width;V.fillText(de,me+ce,Ae+ge),ce+=Re}}function Me(){return Math.round(ve)+"px "}function Le(Re,Ne){var ze=""+V.font;if(K.subscripts===!0){var Ge=Re.indexOf(T),Ye=Ne.indexOf(T),et=Ge>-1?parseInt(Re[1+Ge]):0,ut=Ye>-1?parseInt(Ne[1+Ye]):0;et!==ut&&(ze=ze.replace(Me(),"?px "),ve*=Math.pow(.75,ut-et),ze=ze.replace("?px ",Me())),ge+=.25*ye*(ut-et)}if(K.superscripts===!0){var ot=Re.indexOf(m),yt=Ne.indexOf(m),wt=ot>-1?parseInt(Re[1+ot]):0,bt=yt>-1?parseInt(Ne[1+yt]):0;wt!==bt&&(ze=ze.replace(Me(),"?px "),ve*=Math.pow(.75,bt-wt),ze=ze.replace("?px ",Me())),ge-=.25*ye*(bt-wt)}if(K.bolds===!0){var at=Re.indexOf(c)>-1,rt=Ne.indexOf(c)>-1;!at&&rt&&(ze=At?ze.replace("italic ","italic bold "):"bold "+ze),at&&!rt&&(ze=ze.replace("bold ",""))}if(K.italics===!0){var At=Re.indexOf(d)>-1,Rt=Ne.indexOf(d)>-1;!At&&Rt&&(ze="italic "+ze),At&&!Rt&&(ze=ze.replace("italic ",""))}V.font=ze}for(oe=0;oe<we;++oe){var Oe=be[oe]+`
`;for(ce=0,ge=oe*ye,ve=te,de="",ae=0;ae<Oe.length;++ae){var Be=ae+le<ee.length?ee[ae+le]:ee[ee.length-1];X===Be?de+=Oe[ae]:(Ce(),de=Oe[ae],Be!==void 0&&(Le(X,Be),X=Be))}Ce(),le+=Oe.length;var pe=0|Math.round(ce+2*me);ke<pe&&(ke=pe)}var _e=ke,Te=Ae+ye*we;return n(V.getImageData(0,0,_e,Te).data,[Te,_e,4]).pick(-1,-1,0).transpose(1,0)}(I,R,O,z,j,W),U,z)},f.exports.processPixels=P;var a=t(4162),n=t(5050),i=t(8243),l=t(197),o=t(7761),u=t(8040),h="b",c="b|",b="i",d="i|",g="sup",m="+",y="+1",x="sub",T="-",p="-1";function S(O,I,R,U){for(var z="<"+O+">",j="</"+O+">",W=z.length,F=j.length,V=I[0]===m||I[0]===T,H=0,te=-F;H>-1&&(H=R.indexOf(z,H))!==-1&&(te=R.indexOf(j,H+W))!==-1&&!(te<=H);){for(var Q=H;Q<te+F;++Q)if(Q<H+W||Q>=te)U[Q]=null,R=R.substr(0,Q)+" "+R.substr(Q+1);else if(U[Q]!==null){var K=U[Q].indexOf(I[0]);K===-1?U[Q]+=I:V&&(U[Q]=U[Q].substr(0,K+1)+(1+parseInt(U[Q][K+1]))+U[Q].substr(K+2))}var X=H+W,J=R.substr(X,te-X).indexOf(z);H=J!==-1?J:te+F}return U}function M(O,I){var R=a(O,128);return I?i(R.cells,R.positions,.25):{edges:R.cells,positions:R.positions}}function E(O,I,R,U){var z=M(O,U),j=function(oe,ae,ce){for(var ge=ae.textAlign||"start",ve=ae.textBaseline||"alphabetic",be=[1<<30,1<<30],we=[0,0],ye=oe.length,me=0;me<ye;++me)for(var Ae=oe[me],ke=0;ke<2;++ke)be[ke]=0|Math.min(be[ke],Ae[ke]),we[ke]=0|Math.max(we[ke],Ae[ke]);var fe=0;switch(ge){case"center":fe=-.5*(be[0]+we[0]);break;case"right":case"end":fe=-we[0];break;case"left":case"start":fe=-be[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+ge+"'")}var le=0;switch(ve){case"hanging":case"top":le=-be[1];break;case"middle":le=-.5*(be[1]+we[1]);break;case"alphabetic":case"ideographic":le=-3*ce;break;case"bottom":le=-we[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+ve+"'")}var de=1/ce;return"lineHeight"in ae?de*=+ae.lineHeight:"width"in ae?de=ae.width/(we[0]-be[0]):"height"in ae&&(de=ae.height/(we[1]-be[1])),oe.map(function(Ce){return[de*(Ce[0]+fe),de*(Ce[1]+le)]})}(z.positions,I,R),W=z.edges,F=I.orientation==="ccw";if(l(j,W),I.polygons||I.polygon||I.polyline){for(var V=u(W,j),H=new Array(V.length),te=0;te<V.length;++te){for(var Q=V[te],K=new Array(Q.length),X=0;X<Q.length;++X){for(var J=Q[X],ee=new Array(J.length),ie=0;ie<J.length;++ie)ee[ie]=j[J[ie]].slice();F&&ee.reverse(),K[X]=ee}H[te]=K}return H}return I.triangles||I.triangulate||I.triangle?{cells:o(j,W,{delaunay:!1,exterior:!1,interior:!0}),positions:j}:{edges:W,positions:j}}function P(O,I,R){try{return E(O,I,R,!0)}catch{}try{return E(O,I,R,!1)}catch{}return I.polygons||I.polyline||I.polygon?[]:I.triangles||I.triangulate||I.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},5346:function(f){(function(){if(typeof ses>"u"||!ses.ok||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=x);var s=!1;if(typeof WeakMap=="function"){var t=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var a=new t,n=Object.freeze({});if(a.set(n,1),a.get(n)===1)return void(f.exports=WeakMap);s=!0}}var i=Object.getOwnPropertyNames,l=Object.defineProperty,o=Object.isExtensible,u="weakmap:",h=u+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),b=new Uint8Array(c);crypto.getRandomValues(b),h=u+"rand:"+Array.prototype.map.call(b,function(E){return(E%36).toString(36)}).join("")+"___"}if(l(Object,"getOwnPropertyNames",{value:function(E){return i(E).filter(T)}}),"getPropertyNames"in Object){var d=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(E){return d(E).filter(T)}})}(function(){var E=Object.freeze;l(Object,"freeze",{value:function(I){return p(I),E(I)}});var P=Object.seal;l(Object,"seal",{value:function(I){return p(I),P(I)}});var O=Object.preventExtensions;l(Object,"preventExtensions",{value:function(I){return p(I),O(I)}})})();var g=!1,m=0,y=function(){this instanceof y||M();var E=[],P=[],O=m++;return Object.create(y.prototype,{get___:{value:S(function(I,R){var U,z=p(I);return z?O in z?z[O]:R:(U=E.indexOf(I))>=0?P[U]:R})},has___:{value:S(function(I){var R=p(I);return R?O in R:E.indexOf(I)>=0})},set___:{value:S(function(I,R){var U,z=p(I);return z?z[O]=R:(U=E.indexOf(I))>=0?P[U]=R:(U=E.length,P[U]=R,E[U]=I),this})},delete___:{value:S(function(I){var R,U,z=p(I);return z?O in z&&delete z[O]:!((R=E.indexOf(I))<0||(U=E.length-1,E[R]=void 0,P[R]=P[U],E[R]=E[U],E.length=U,P.length=U,0))})}})};y.prototype=Object.create(Object.prototype,{get:{value:function(E,P){return this.get___(E,P)},writable:!0,configurable:!0},has:{value:function(E){return this.has___(E)},writable:!0,configurable:!0},set:{value:function(E,P){return this.set___(E,P)},writable:!0,configurable:!0},delete:{value:function(E){return this.delete___(E)},writable:!0,configurable:!0}}),typeof t=="function"?function(){function E(){this instanceof y||M();var P,O=new t,I=void 0,R=!1;return P=s?function(U,z){return O.set(U,z),O.has(U)||(I||(I=new y),I.set(U,z)),this}:function(U,z){if(R)try{O.set(U,z)}catch{I||(I=new y),I.set___(U,z)}else O.set(U,z);return this},Object.create(y.prototype,{get___:{value:S(function(U,z){return I?O.has(U)?O.get(U):I.get___(U,z):O.get(U,z)})},has___:{value:S(function(U){return O.has(U)||!!I&&I.has___(U)})},set___:{value:S(P)},delete___:{value:S(function(U){var z=!!O.delete(U);return I&&I.delete___(U)||z})},permitHostObjects___:{value:S(function(U){if(U!==x)throw new Error("bogus call to permitHostObjects___");R=!0})}})}s&&typeof Proxy<"u"&&(Proxy=void 0),E.prototype=y.prototype,f.exports=E,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),f.exports=y)}function x(E){E.permitHostObjects___&&E.permitHostObjects___(x)}function T(E){return!(E.substr(0,8)==u&&E.substr(E.length-3)==="___")}function p(E){if(E!==Object(E))throw new TypeError("Not an object: "+E);var P=E[h];if(P&&P.key===E)return P;if(o(E)){P={key:E};try{return l(E,h,{value:P,writable:!1,enumerable:!1,configurable:!1}),P}catch{return}}}function S(E){return E.prototype=null,Object.freeze(E)}function M(){g||typeof console>"u"||(g=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}})()},9222:function(f,s,t){var a=t(7178);f.exports=function(){var n={};return function(i){if((typeof i!="object"||i===null)&&typeof i!="function")throw new Error("Weakmap-shim: Key must be object");var l=i.valueOf(n);return l&&l.identity===n?l:a(i,n)}}},7178:function(f){f.exports=function(s,t){var a={identity:t},n=s.valueOf;return Object.defineProperty(s,"valueOf",{value:function(i){return i!==t?n.apply(this,arguments):a},writable:!0}),a}},4037:function(f,s,t){var a=t(9222);f.exports=function(){var n=a();return{get:function(i,l){var o=n(i);return o.hasOwnProperty("value")?o.value:l},set:function(i,l){return n(i).value=l,this},has:function(i){return"value"in n(i)},delete:function(i){return delete n(i).value}}}},6183:function(f){f.exports=function(s){var t={};return function(a,n,i){var l=a.dtype,o=a.order,u=[l,o.join()].join(),h=t[u];return h||(t[u]=h=s([l,o])),h(a.shape.slice(0),a.data,a.stride,0|a.offset,n,i)}}((function(){return function(s,t,a,n,i,l){var o=s[0],u=a[0],h=[0],c=u;n|=0;var b=0,d=u;for(b=0;b<o;++b){var g=t[n]-l,m=t[n+c]-l;g>=0!=m>=0&&i.push(h[0]+.5+.5*(g+m)/(g-m)),n+=d,++h[0]}}}).bind(void 0,{funcName:"zeroCrossings"}))},9584:function(f,s,t){f.exports=function(n,i){var l=[];return i=+i||0,a(n.hi(n.shape[0]-1),l,i),l};var a=t(6183)},6601:function(){}},_={};function v(f){var s=_[f];if(s!==void 0)return s.exports;var t=_[f]={id:f,loaded:!1,exports:{}};return r[f].call(t.exports,t,t.exports,v),t.loaded=!0,t.exports}return v.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),v.nmd=function(f){return f.paths=[],f.children||(f.children=[]),f},v(7386)}()},B.exports=k()},33576:function(B,L,e){function k(fe,le){for(var de=0;de<le.length;de++){var Ce=le[de];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(fe,(Me=function(Le,Oe){if(v(Le)!=="object"||Le===null)return Le;var Be=Le[Symbol.toPrimitive];if(Be!==void 0){var pe=Be.call(Le,"string");if(v(pe)!=="object")return pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Le)}(Ce.key),v(Me)==="symbol"?Me:String(Me)),Ce)}var Me}function w(fe){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(le){return le.__proto__||Object.getPrototypeOf(le)},w(fe)}function r(fe){if(fe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe}function _(fe,le){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(de,Ce){return de.__proto__=Ce,de},_(fe,le)}function v(fe){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(le){return typeof le}:function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le},v(fe)}var f=e(59968),s=e(35984),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;L.Buffer=i,L.SlowBuffer=function(fe){return+fe!=fe&&(fe=0),i.alloc(+fe)},L.INSPECT_MAX_BYTES=50;var a=2147483647;function n(fe){if(fe>a)throw new RangeError('The value "'+fe+'" is invalid for option "size"');var le=new Uint8Array(fe);return Object.setPrototypeOf(le,i.prototype),le}function i(fe,le,de){if(typeof fe=="number"){if(typeof le=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(fe)}return l(fe,le,de)}function l(fe,le,de){if(typeof fe=="string")return function(Le,Oe){if(typeof Oe=="string"&&Oe!==""||(Oe="utf8"),!i.isEncoding(Oe))throw new TypeError("Unknown encoding: "+Oe);var Be=0|d(Le,Oe),pe=n(Be),_e=pe.write(Le,Oe);return _e!==Be&&(pe=pe.slice(0,_e)),pe}(fe,le);if(ArrayBuffer.isView(fe))return function(Le){if(we(Le,Uint8Array)){var Oe=new Uint8Array(Le);return c(Oe.buffer,Oe.byteOffset,Oe.byteLength)}return h(Le)}(fe);if(fe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+v(fe));if(we(fe,ArrayBuffer)||fe&&we(fe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(we(fe,SharedArrayBuffer)||fe&&we(fe.buffer,SharedArrayBuffer)))return c(fe,le,de);if(typeof fe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ce=fe.valueOf&&fe.valueOf();if(Ce!=null&&Ce!==fe)return i.from(Ce,le,de);var Me=function(Le){if(i.isBuffer(Le)){var Oe=0|b(Le.length),Be=n(Oe);return Be.length===0||Le.copy(Be,0,0,Oe),Be}return Le.length!==void 0?typeof Le.length!="number"||ye(Le.length)?n(0):h(Le):Le.type==="Buffer"&&Array.isArray(Le.data)?h(Le.data):void 0}(fe);if(Me)return Me;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof fe[Symbol.toPrimitive]=="function")return i.from(fe[Symbol.toPrimitive]("string"),le,de);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+v(fe))}function o(fe){if(typeof fe!="number")throw new TypeError('"size" argument must be of type number');if(fe<0)throw new RangeError('The value "'+fe+'" is invalid for option "size"')}function u(fe){return o(fe),n(fe<0?0:0|b(fe))}function h(fe){for(var le=fe.length<0?0:0|b(fe.length),de=n(le),Ce=0;Ce<le;Ce+=1)de[Ce]=255&fe[Ce];return de}function c(fe,le,de){if(le<0||fe.byteLength<le)throw new RangeError('"offset" is outside of buffer bounds');if(fe.byteLength<le+(de||0))throw new RangeError('"length" is outside of buffer bounds');var Ce;return Ce=le===void 0&&de===void 0?new Uint8Array(fe):de===void 0?new Uint8Array(fe,le):new Uint8Array(fe,le,de),Object.setPrototypeOf(Ce,i.prototype),Ce}function b(fe){if(fe>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|fe}function d(fe,le){if(i.isBuffer(fe))return fe.length;if(ArrayBuffer.isView(fe)||we(fe,ArrayBuffer))return fe.byteLength;if(typeof fe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+v(fe));var de=fe.length,Ce=arguments.length>2&&arguments[2]===!0;if(!Ce&&de===0)return 0;for(var Me=!1;;)switch(le){case"ascii":case"latin1":case"binary":return de;case"utf8":case"utf-8":return ge(fe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*de;case"hex":return de>>>1;case"base64":return ve(fe).length;default:if(Me)return Ce?-1:ge(fe).length;le=(""+le).toLowerCase(),Me=!0}}function g(fe,le,de){var Ce=!1;if((le===void 0||le<0)&&(le=0),le>this.length||((de===void 0||de>this.length)&&(de=this.length),de<=0)||(de>>>=0)<=(le>>>=0))return"";for(fe||(fe="utf8");;)switch(fe){case"hex":return z(this,le,de);case"utf8":case"utf-8":return O(this,le,de);case"ascii":return R(this,le,de);case"latin1":case"binary":return U(this,le,de);case"base64":return P(this,le,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,le,de);default:if(Ce)throw new TypeError("Unknown encoding: "+fe);fe=(fe+"").toLowerCase(),Ce=!0}}function m(fe,le,de){var Ce=fe[le];fe[le]=fe[de],fe[de]=Ce}function y(fe,le,de,Ce,Me){if(fe.length===0)return-1;if(typeof de=="string"?(Ce=de,de=0):de>2147483647?de=2147483647:de<-2147483648&&(de=-2147483648),ye(de=+de)&&(de=Me?0:fe.length-1),de<0&&(de=fe.length+de),de>=fe.length){if(Me)return-1;de=fe.length-1}else if(de<0){if(!Me)return-1;de=0}if(typeof le=="string"&&(le=i.from(le,Ce)),i.isBuffer(le))return le.length===0?-1:x(fe,le,de,Ce,Me);if(typeof le=="number")return le&=255,typeof Uint8Array.prototype.indexOf=="function"?Me?Uint8Array.prototype.indexOf.call(fe,le,de):Uint8Array.prototype.lastIndexOf.call(fe,le,de):x(fe,[le],de,Ce,Me);throw new TypeError("val must be string, number or Buffer")}function x(fe,le,de,Ce,Me){var Le,Oe=1,Be=fe.length,pe=le.length;if(Ce!==void 0&&((Ce=String(Ce).toLowerCase())==="ucs2"||Ce==="ucs-2"||Ce==="utf16le"||Ce==="utf-16le")){if(fe.length<2||le.length<2)return-1;Oe=2,Be/=2,pe/=2,de/=2}function _e(ze,Ge){return Oe===1?ze[Ge]:ze.readUInt16BE(Ge*Oe)}if(Me){var Te=-1;for(Le=de;Le<Be;Le++)if(_e(fe,Le)===_e(le,Te===-1?0:Le-Te)){if(Te===-1&&(Te=Le),Le-Te+1===pe)return Te*Oe}else Te!==-1&&(Le-=Le-Te),Te=-1}else for(de+pe>Be&&(de=Be-pe),Le=de;Le>=0;Le--){for(var Re=!0,Ne=0;Ne<pe;Ne++)if(_e(fe,Le+Ne)!==_e(le,Ne)){Re=!1;break}if(Re)return Le}return-1}function T(fe,le,de,Ce){de=Number(de)||0;var Me=fe.length-de;Ce?(Ce=Number(Ce))>Me&&(Ce=Me):Ce=Me;var Le,Oe=le.length;for(Ce>Oe/2&&(Ce=Oe/2),Le=0;Le<Ce;++Le){var Be=parseInt(le.substr(2*Le,2),16);if(ye(Be))return Le;fe[de+Le]=Be}return Le}function p(fe,le,de,Ce){return be(ge(le,fe.length-de),fe,de,Ce)}function S(fe,le,de,Ce){return be(function(Me){for(var Le=[],Oe=0;Oe<Me.length;++Oe)Le.push(255&Me.charCodeAt(Oe));return Le}(le),fe,de,Ce)}function M(fe,le,de,Ce){return be(ve(le),fe,de,Ce)}function E(fe,le,de,Ce){return be(function(Me,Le){for(var Oe,Be,pe,_e=[],Te=0;Te<Me.length&&!((Le-=2)<0);++Te)Be=(Oe=Me.charCodeAt(Te))>>8,pe=Oe%256,_e.push(pe),_e.push(Be);return _e}(le,fe.length-de),fe,de,Ce)}function P(fe,le,de){return le===0&&de===fe.length?f.fromByteArray(fe):f.fromByteArray(fe.slice(le,de))}function O(fe,le,de){de=Math.min(fe.length,de);for(var Ce=[],Me=le;Me<de;){var Le=fe[Me],Oe=null,Be=Le>239?4:Le>223?3:Le>191?2:1;if(Me+Be<=de){var pe=void 0,_e=void 0,Te=void 0,Re=void 0;switch(Be){case 1:Le<128&&(Oe=Le);break;case 2:(192&(pe=fe[Me+1]))==128&&(Re=(31&Le)<<6|63&pe)>127&&(Oe=Re);break;case 3:pe=fe[Me+1],_e=fe[Me+2],(192&pe)==128&&(192&_e)==128&&(Re=(15&Le)<<12|(63&pe)<<6|63&_e)>2047&&(Re<55296||Re>57343)&&(Oe=Re);break;case 4:pe=fe[Me+1],_e=fe[Me+2],Te=fe[Me+3],(192&pe)==128&&(192&_e)==128&&(192&Te)==128&&(Re=(15&Le)<<18|(63&pe)<<12|(63&_e)<<6|63&Te)>65535&&Re<1114112&&(Oe=Re)}}Oe===null?(Oe=65533,Be=1):Oe>65535&&(Oe-=65536,Ce.push(Oe>>>10&1023|55296),Oe=56320|1023&Oe),Ce.push(Oe),Me+=Be}return function(Ne){var ze=Ne.length;if(ze<=I)return String.fromCharCode.apply(String,Ne);for(var Ge="",Ye=0;Ye<ze;)Ge+=String.fromCharCode.apply(String,Ne.slice(Ye,Ye+=I));return Ge}(Ce)}L.kMaxLength=a,i.TYPED_ARRAY_SUPPORT=function(){try{var fe=new Uint8Array(1),le={foo:function(){return 42}};return Object.setPrototypeOf(le,Uint8Array.prototype),Object.setPrototypeOf(fe,le),fe.foo()===42}catch{return!1}}(),i.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(fe,le,de){return l(fe,le,de)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(fe,le,de){return function(Ce,Me,Le){return o(Ce),Ce<=0?n(Ce):Me!==void 0?typeof Le=="string"?n(Ce).fill(Me,Le):n(Ce).fill(Me):n(Ce)}(fe,le,de)},i.allocUnsafe=function(fe){return u(fe)},i.allocUnsafeSlow=function(fe){return u(fe)},i.isBuffer=function(fe){return fe!=null&&fe._isBuffer===!0&&fe!==i.prototype},i.compare=function(fe,le){if(we(fe,Uint8Array)&&(fe=i.from(fe,fe.offset,fe.byteLength)),we(le,Uint8Array)&&(le=i.from(le,le.offset,le.byteLength)),!i.isBuffer(fe)||!i.isBuffer(le))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(fe===le)return 0;for(var de=fe.length,Ce=le.length,Me=0,Le=Math.min(de,Ce);Me<Le;++Me)if(fe[Me]!==le[Me]){de=fe[Me],Ce=le[Me];break}return de<Ce?-1:Ce<de?1:0},i.isEncoding=function(fe){switch(String(fe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(fe,le){if(!Array.isArray(fe))throw new TypeError('"list" argument must be an Array of Buffers');if(fe.length===0)return i.alloc(0);var de;if(le===void 0)for(le=0,de=0;de<fe.length;++de)le+=fe[de].length;var Ce=i.allocUnsafe(le),Me=0;for(de=0;de<fe.length;++de){var Le=fe[de];if(we(Le,Uint8Array))Me+Le.length>Ce.length?(i.isBuffer(Le)||(Le=i.from(Le)),Le.copy(Ce,Me)):Uint8Array.prototype.set.call(Ce,Le,Me);else{if(!i.isBuffer(Le))throw new TypeError('"list" argument must be an Array of Buffers');Le.copy(Ce,Me)}Me+=Le.length}return Ce},i.byteLength=d,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var fe=this.length;if(fe%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var le=0;le<fe;le+=2)m(this,le,le+1);return this},i.prototype.swap32=function(){var fe=this.length;if(fe%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var le=0;le<fe;le+=4)m(this,le,le+3),m(this,le+1,le+2);return this},i.prototype.swap64=function(){var fe=this.length;if(fe%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var le=0;le<fe;le+=8)m(this,le,le+7),m(this,le+1,le+6),m(this,le+2,le+5),m(this,le+3,le+4);return this},i.prototype.toString=function(){var fe=this.length;return fe===0?"":arguments.length===0?O(this,0,fe):g.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(fe){if(!i.isBuffer(fe))throw new TypeError("Argument must be a Buffer");return this===fe||i.compare(this,fe)===0},i.prototype.inspect=function(){var fe="",le=L.INSPECT_MAX_BYTES;return fe=this.toString("hex",0,le).replace(/(.{2})/g,"$1 ").trim(),this.length>le&&(fe+=" ... "),"<Buffer "+fe+">"},t&&(i.prototype[t]=i.prototype.inspect),i.prototype.compare=function(fe,le,de,Ce,Me){if(we(fe,Uint8Array)&&(fe=i.from(fe,fe.offset,fe.byteLength)),!i.isBuffer(fe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+v(fe));if(le===void 0&&(le=0),de===void 0&&(de=fe?fe.length:0),Ce===void 0&&(Ce=0),Me===void 0&&(Me=this.length),le<0||de>fe.length||Ce<0||Me>this.length)throw new RangeError("out of range index");if(Ce>=Me&&le>=de)return 0;if(Ce>=Me)return-1;if(le>=de)return 1;if(this===fe)return 0;for(var Le=(Me>>>=0)-(Ce>>>=0),Oe=(de>>>=0)-(le>>>=0),Be=Math.min(Le,Oe),pe=this.slice(Ce,Me),_e=fe.slice(le,de),Te=0;Te<Be;++Te)if(pe[Te]!==_e[Te]){Le=pe[Te],Oe=_e[Te];break}return Le<Oe?-1:Oe<Le?1:0},i.prototype.includes=function(fe,le,de){return this.indexOf(fe,le,de)!==-1},i.prototype.indexOf=function(fe,le,de){return y(this,fe,le,de,!0)},i.prototype.lastIndexOf=function(fe,le,de){return y(this,fe,le,de,!1)},i.prototype.write=function(fe,le,de,Ce){if(le===void 0)Ce="utf8",de=this.length,le=0;else if(de===void 0&&typeof le=="string")Ce=le,de=this.length,le=0;else{if(!isFinite(le))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");le>>>=0,isFinite(de)?(de>>>=0,Ce===void 0&&(Ce="utf8")):(Ce=de,de=void 0)}var Me=this.length-le;if((de===void 0||de>Me)&&(de=Me),fe.length>0&&(de<0||le<0)||le>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ce||(Ce="utf8");for(var Le=!1;;)switch(Ce){case"hex":return T(this,fe,le,de);case"utf8":case"utf-8":return p(this,fe,le,de);case"ascii":case"latin1":case"binary":return S(this,fe,le,de);case"base64":return M(this,fe,le,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,fe,le,de);default:if(Le)throw new TypeError("Unknown encoding: "+Ce);Ce=(""+Ce).toLowerCase(),Le=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function R(fe,le,de){var Ce="";de=Math.min(fe.length,de);for(var Me=le;Me<de;++Me)Ce+=String.fromCharCode(127&fe[Me]);return Ce}function U(fe,le,de){var Ce="";de=Math.min(fe.length,de);for(var Me=le;Me<de;++Me)Ce+=String.fromCharCode(fe[Me]);return Ce}function z(fe,le,de){var Ce=fe.length;(!le||le<0)&&(le=0),(!de||de<0||de>Ce)&&(de=Ce);for(var Me="",Le=le;Le<de;++Le)Me+=me[fe[Le]];return Me}function j(fe,le,de){for(var Ce=fe.slice(le,de),Me="",Le=0;Le<Ce.length-1;Le+=2)Me+=String.fromCharCode(Ce[Le]+256*Ce[Le+1]);return Me}function W(fe,le,de){if(fe%1!=0||fe<0)throw new RangeError("offset is not uint");if(fe+le>de)throw new RangeError("Trying to access beyond buffer length")}function F(fe,le,de,Ce,Me,Le){if(!i.isBuffer(fe))throw new TypeError('"buffer" argument must be a Buffer instance');if(le>Me||le<Le)throw new RangeError('"value" argument is out of bounds');if(de+Ce>fe.length)throw new RangeError("Index out of range")}function V(fe,le,de,Ce,Me){ie(le,Ce,Me,fe,de,7);var Le=Number(le&BigInt(4294967295));fe[de++]=Le,Le>>=8,fe[de++]=Le,Le>>=8,fe[de++]=Le,Le>>=8,fe[de++]=Le;var Oe=Number(le>>BigInt(32)&BigInt(4294967295));return fe[de++]=Oe,Oe>>=8,fe[de++]=Oe,Oe>>=8,fe[de++]=Oe,Oe>>=8,fe[de++]=Oe,de}function H(fe,le,de,Ce,Me){ie(le,Ce,Me,fe,de,7);var Le=Number(le&BigInt(4294967295));fe[de+7]=Le,Le>>=8,fe[de+6]=Le,Le>>=8,fe[de+5]=Le,Le>>=8,fe[de+4]=Le;var Oe=Number(le>>BigInt(32)&BigInt(4294967295));return fe[de+3]=Oe,Oe>>=8,fe[de+2]=Oe,Oe>>=8,fe[de+1]=Oe,Oe>>=8,fe[de]=Oe,de+8}function te(fe,le,de,Ce,Me,Le){if(de+Ce>fe.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("Index out of range")}function Q(fe,le,de,Ce,Me){return le=+le,de>>>=0,Me||te(fe,0,de,4),s.write(fe,le,de,Ce,23,4),de+4}function K(fe,le,de,Ce,Me){return le=+le,de>>>=0,Me||te(fe,0,de,8),s.write(fe,le,de,Ce,52,8),de+8}i.prototype.slice=function(fe,le){var de=this.length;(fe=~~fe)<0?(fe+=de)<0&&(fe=0):fe>de&&(fe=de),(le=le===void 0?de:~~le)<0?(le+=de)<0&&(le=0):le>de&&(le=de),le<fe&&(le=fe);var Ce=this.subarray(fe,le);return Object.setPrototypeOf(Ce,i.prototype),Ce},i.prototype.readUintLE=i.prototype.readUIntLE=function(fe,le,de){fe>>>=0,le>>>=0,de||W(fe,le,this.length);for(var Ce=this[fe],Me=1,Le=0;++Le<le&&(Me*=256);)Ce+=this[fe+Le]*Me;return Ce},i.prototype.readUintBE=i.prototype.readUIntBE=function(fe,le,de){fe>>>=0,le>>>=0,de||W(fe,le,this.length);for(var Ce=this[fe+--le],Me=1;le>0&&(Me*=256);)Ce+=this[fe+--le]*Me;return Ce},i.prototype.readUint8=i.prototype.readUInt8=function(fe,le){return fe>>>=0,le||W(fe,1,this.length),this[fe]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(fe,le){return fe>>>=0,le||W(fe,2,this.length),this[fe]|this[fe+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(fe,le){return fe>>>=0,le||W(fe,2,this.length),this[fe]<<8|this[fe+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(fe,le){return fe>>>=0,le||W(fe,4,this.length),(this[fe]|this[fe+1]<<8|this[fe+2]<<16)+16777216*this[fe+3]},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(fe,le){return fe>>>=0,le||W(fe,4,this.length),16777216*this[fe]+(this[fe+1]<<16|this[fe+2]<<8|this[fe+3])},i.prototype.readBigUInt64LE=Ae(function(fe){oe(fe>>>=0,"offset");var le=this[fe],de=this[fe+7];le!==void 0&&de!==void 0||ae(fe,this.length-8);var Ce=le+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,24),Me=this[++fe]+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+de*Math.pow(2,24);return BigInt(Ce)+(BigInt(Me)<<BigInt(32))}),i.prototype.readBigUInt64BE=Ae(function(fe){oe(fe>>>=0,"offset");var le=this[fe],de=this[fe+7];le!==void 0&&de!==void 0||ae(fe,this.length-8);var Ce=le*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+this[++fe],Me=this[++fe]*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+de;return(BigInt(Ce)<<BigInt(32))+BigInt(Me)}),i.prototype.readIntLE=function(fe,le,de){fe>>>=0,le>>>=0,de||W(fe,le,this.length);for(var Ce=this[fe],Me=1,Le=0;++Le<le&&(Me*=256);)Ce+=this[fe+Le]*Me;return Ce>=(Me*=128)&&(Ce-=Math.pow(2,8*le)),Ce},i.prototype.readIntBE=function(fe,le,de){fe>>>=0,le>>>=0,de||W(fe,le,this.length);for(var Ce=le,Me=1,Le=this[fe+--Ce];Ce>0&&(Me*=256);)Le+=this[fe+--Ce]*Me;return Le>=(Me*=128)&&(Le-=Math.pow(2,8*le)),Le},i.prototype.readInt8=function(fe,le){return fe>>>=0,le||W(fe,1,this.length),128&this[fe]?-1*(255-this[fe]+1):this[fe]},i.prototype.readInt16LE=function(fe,le){fe>>>=0,le||W(fe,2,this.length);var de=this[fe]|this[fe+1]<<8;return 32768&de?4294901760|de:de},i.prototype.readInt16BE=function(fe,le){fe>>>=0,le||W(fe,2,this.length);var de=this[fe+1]|this[fe]<<8;return 32768&de?4294901760|de:de},i.prototype.readInt32LE=function(fe,le){return fe>>>=0,le||W(fe,4,this.length),this[fe]|this[fe+1]<<8|this[fe+2]<<16|this[fe+3]<<24},i.prototype.readInt32BE=function(fe,le){return fe>>>=0,le||W(fe,4,this.length),this[fe]<<24|this[fe+1]<<16|this[fe+2]<<8|this[fe+3]},i.prototype.readBigInt64LE=Ae(function(fe){oe(fe>>>=0,"offset");var le=this[fe],de=this[fe+7];le!==void 0&&de!==void 0||ae(fe,this.length-8);var Ce=this[fe+4]+this[fe+5]*Math.pow(2,8)+this[fe+6]*Math.pow(2,16)+(de<<24);return(BigInt(Ce)<<BigInt(32))+BigInt(le+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,24))}),i.prototype.readBigInt64BE=Ae(function(fe){oe(fe>>>=0,"offset");var le=this[fe],de=this[fe+7];le!==void 0&&de!==void 0||ae(fe,this.length-8);var Ce=(le<<24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+this[++fe];return(BigInt(Ce)<<BigInt(32))+BigInt(this[++fe]*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+de)}),i.prototype.readFloatLE=function(fe,le){return fe>>>=0,le||W(fe,4,this.length),s.read(this,fe,!0,23,4)},i.prototype.readFloatBE=function(fe,le){return fe>>>=0,le||W(fe,4,this.length),s.read(this,fe,!1,23,4)},i.prototype.readDoubleLE=function(fe,le){return fe>>>=0,le||W(fe,8,this.length),s.read(this,fe,!0,52,8)},i.prototype.readDoubleBE=function(fe,le){return fe>>>=0,le||W(fe,8,this.length),s.read(this,fe,!1,52,8)},i.prototype.writeUintLE=i.prototype.writeUIntLE=function(fe,le,de,Ce){fe=+fe,le>>>=0,de>>>=0,Ce||F(this,fe,le,de,Math.pow(2,8*de)-1,0);var Me=1,Le=0;for(this[le]=255&fe;++Le<de&&(Me*=256);)this[le+Le]=fe/Me&255;return le+de},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(fe,le,de,Ce){fe=+fe,le>>>=0,de>>>=0,Ce||F(this,fe,le,de,Math.pow(2,8*de)-1,0);var Me=de-1,Le=1;for(this[le+Me]=255&fe;--Me>=0&&(Le*=256);)this[le+Me]=fe/Le&255;return le+de},i.prototype.writeUint8=i.prototype.writeUInt8=function(fe,le,de){return fe=+fe,le>>>=0,de||F(this,fe,le,1,255,0),this[le]=255&fe,le+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(fe,le,de){return fe=+fe,le>>>=0,de||F(this,fe,le,2,65535,0),this[le]=255&fe,this[le+1]=fe>>>8,le+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(fe,le,de){return fe=+fe,le>>>=0,de||F(this,fe,le,2,65535,0),this[le]=fe>>>8,this[le+1]=255&fe,le+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(fe,le,de){return fe=+fe,le>>>=0,de||F(this,fe,le,4,4294967295,0),this[le+3]=fe>>>24,this[le+2]=fe>>>16,this[le+1]=fe>>>8,this[le]=255&fe,le+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(fe,le,de){return fe=+fe,le>>>=0,de||F(this,fe,le,4,4294967295,0),this[le]=fe>>>24,this[le+1]=fe>>>16,this[le+2]=fe>>>8,this[le+3]=255&fe,le+4},i.prototype.writeBigUInt64LE=Ae(function(fe){return V(this,fe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=Ae(function(fe){return H(this,fe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(fe,le,de,Ce){if(fe=+fe,le>>>=0,!Ce){var Me=Math.pow(2,8*de-1);F(this,fe,le,de,Me-1,-Me)}var Le=0,Oe=1,Be=0;for(this[le]=255&fe;++Le<de&&(Oe*=256);)fe<0&&Be===0&&this[le+Le-1]!==0&&(Be=1),this[le+Le]=(fe/Oe>>0)-Be&255;return le+de},i.prototype.writeIntBE=function(fe,le,de,Ce){if(fe=+fe,le>>>=0,!Ce){var Me=Math.pow(2,8*de-1);F(this,fe,le,de,Me-1,-Me)}var Le=de-1,Oe=1,Be=0;for(this[le+Le]=255&fe;--Le>=0&&(Oe*=256);)fe<0&&Be===0&&this[le+Le+1]!==0&&(Be=1),this[le+Le]=(fe/Oe>>0)-Be&255;return le+de},i.prototype.writeInt8=function(fe,le,de){return fe=+fe,le>>>=0,de||F(this,fe,le,1,127,-128),fe<0&&(fe=255+fe+1),this[le]=255&fe,le+1},i.prototype.writeInt16LE=function(fe,le,de){return fe=+fe,le>>>=0,de||F(this,fe,le,2,32767,-32768),this[le]=255&fe,this[le+1]=fe>>>8,le+2},i.prototype.writeInt16BE=function(fe,le,de){return fe=+fe,le>>>=0,de||F(this,fe,le,2,32767,-32768),this[le]=fe>>>8,this[le+1]=255&fe,le+2},i.prototype.writeInt32LE=function(fe,le,de){return fe=+fe,le>>>=0,de||F(this,fe,le,4,2147483647,-2147483648),this[le]=255&fe,this[le+1]=fe>>>8,this[le+2]=fe>>>16,this[le+3]=fe>>>24,le+4},i.prototype.writeInt32BE=function(fe,le,de){return fe=+fe,le>>>=0,de||F(this,fe,le,4,2147483647,-2147483648),fe<0&&(fe=4294967295+fe+1),this[le]=fe>>>24,this[le+1]=fe>>>16,this[le+2]=fe>>>8,this[le+3]=255&fe,le+4},i.prototype.writeBigInt64LE=Ae(function(fe){return V(this,fe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=Ae(function(fe){return H(this,fe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeFloatLE=function(fe,le,de){return Q(this,fe,le,!0,de)},i.prototype.writeFloatBE=function(fe,le,de){return Q(this,fe,le,!1,de)},i.prototype.writeDoubleLE=function(fe,le,de){return K(this,fe,le,!0,de)},i.prototype.writeDoubleBE=function(fe,le,de){return K(this,fe,le,!1,de)},i.prototype.copy=function(fe,le,de,Ce){if(!i.isBuffer(fe))throw new TypeError("argument should be a Buffer");if(de||(de=0),Ce||Ce===0||(Ce=this.length),le>=fe.length&&(le=fe.length),le||(le=0),Ce>0&&Ce<de&&(Ce=de),Ce===de||fe.length===0||this.length===0)return 0;if(le<0)throw new RangeError("targetStart out of bounds");if(de<0||de>=this.length)throw new RangeError("Index out of range");if(Ce<0)throw new RangeError("sourceEnd out of bounds");Ce>this.length&&(Ce=this.length),fe.length-le<Ce-de&&(Ce=fe.length-le+de);var Me=Ce-de;return this===fe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(le,de,Ce):Uint8Array.prototype.set.call(fe,this.subarray(de,Ce),le),Me},i.prototype.fill=function(fe,le,de,Ce){if(typeof fe=="string"){if(typeof le=="string"?(Ce=le,le=0,de=this.length):typeof de=="string"&&(Ce=de,de=this.length),Ce!==void 0&&typeof Ce!="string")throw new TypeError("encoding must be a string");if(typeof Ce=="string"&&!i.isEncoding(Ce))throw new TypeError("Unknown encoding: "+Ce);if(fe.length===1){var Me=fe.charCodeAt(0);(Ce==="utf8"&&Me<128||Ce==="latin1")&&(fe=Me)}}else typeof fe=="number"?fe&=255:typeof fe=="boolean"&&(fe=Number(fe));if(le<0||this.length<le||this.length<de)throw new RangeError("Out of range index");if(de<=le)return this;var Le;if(le>>>=0,de=de===void 0?this.length:de>>>0,fe||(fe=0),typeof fe=="number")for(Le=le;Le<de;++Le)this[Le]=fe;else{var Oe=i.isBuffer(fe)?fe:i.from(fe,Ce),Be=Oe.length;if(Be===0)throw new TypeError('The value "'+fe+'" is invalid for argument "value"');for(Le=0;Le<de-le;++Le)this[Le+le]=Oe[Le%Be]}return this};var X={};function J(fe,le,de){X[fe]=function(Ce){function Me(){var Be;return function(pe,_e){if(!(pe instanceof _e))throw new TypeError("Cannot call a class as a function")}(this,Me),Be=function(pe,_e,Te){return _e=w(_e),function(Re,Ne){if(Ne&&(v(Ne)==="object"||typeof Ne=="function"))return Ne;if(Ne!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(Re)}(pe,function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}()?Reflect.construct(_e,Te||[],w(pe).constructor):_e.apply(pe,Te))}(this,Me),Object.defineProperty(r(Be),"message",{value:le.apply(r(Be),arguments),writable:!0,configurable:!0}),Be.name="".concat(Be.name," [").concat(fe,"]"),Be.stack,delete Be.name,Be}var Le,Oe;return function(Be,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function");Be.prototype=Object.create(pe&&pe.prototype,{constructor:{value:Be,writable:!0,configurable:!0}}),Object.defineProperty(Be,"prototype",{writable:!1}),pe&&_(Be,pe)}(Me,Ce),Le=Me,(Oe=[{key:"code",get:function(){return fe},set:function(Be){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Be,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(fe,"]: ").concat(this.message)}}])&&k(Le.prototype,Oe),Object.defineProperty(Le,"prototype",{writable:!1}),Me}(de)}function ee(fe){for(var le="",de=fe.length,Ce=fe[0]==="-"?1:0;de>=Ce+4;de-=3)le="_".concat(fe.slice(de-3,de)).concat(le);return"".concat(fe.slice(0,de)).concat(le)}function ie(fe,le,de,Ce,Me,Le){if(fe>de||fe<le){var Oe,Be=typeof le=="bigint"?"n":"";throw Oe=Le>3?le===0||le===BigInt(0)?">= 0".concat(Be," and < 2").concat(Be," ** ").concat(8*(Le+1)).concat(Be):">= -(2".concat(Be," ** ").concat(8*(Le+1)-1).concat(Be,") and < 2 ** ")+"".concat(8*(Le+1)-1).concat(Be):">= ".concat(le).concat(Be," and <= ").concat(de).concat(Be),new X.ERR_OUT_OF_RANGE("value",Oe,fe)}(function(pe,_e,Te){oe(_e,"offset"),pe[_e]!==void 0&&pe[_e+Te]!==void 0||ae(_e,pe.length-(Te+1))})(Ce,Me,Le)}function oe(fe,le){if(typeof fe!="number")throw new X.ERR_INVALID_ARG_TYPE(le,"number",fe)}function ae(fe,le,de){throw Math.floor(fe)!==fe?(oe(fe,de),new X.ERR_OUT_OF_RANGE(de||"offset","an integer",fe)):le<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE(de||"offset",">= ".concat(de?1:0," and <= ").concat(le),fe)}J("ERR_BUFFER_OUT_OF_BOUNDS",function(fe){return fe?"".concat(fe," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),J("ERR_INVALID_ARG_TYPE",function(fe,le){return'The "'.concat(fe,'" argument must be of type number. Received type ').concat(v(le))},TypeError),J("ERR_OUT_OF_RANGE",function(fe,le,de){var Ce='The value of "'.concat(fe,'" is out of range.'),Me=de;return Number.isInteger(de)&&Math.abs(de)>Math.pow(2,32)?Me=ee(String(de)):typeof de=="bigint"&&(Me=String(de),(de>Math.pow(BigInt(2),BigInt(32))||de<-Math.pow(BigInt(2),BigInt(32)))&&(Me=ee(Me)),Me+="n"),Ce+" It must be ".concat(le,". Received ").concat(Me)},RangeError);var ce=/[^+/0-9A-Za-z-_]/g;function ge(fe,le){var de;le=le||1/0;for(var Ce=fe.length,Me=null,Le=[],Oe=0;Oe<Ce;++Oe){if((de=fe.charCodeAt(Oe))>55295&&de<57344){if(!Me){if(de>56319){(le-=3)>-1&&Le.push(239,191,189);continue}if(Oe+1===Ce){(le-=3)>-1&&Le.push(239,191,189);continue}Me=de;continue}if(de<56320){(le-=3)>-1&&Le.push(239,191,189),Me=de;continue}de=65536+(Me-55296<<10|de-56320)}else Me&&(le-=3)>-1&&Le.push(239,191,189);if(Me=null,de<128){if((le-=1)<0)break;Le.push(de)}else if(de<2048){if((le-=2)<0)break;Le.push(de>>6|192,63&de|128)}else if(de<65536){if((le-=3)<0)break;Le.push(de>>12|224,de>>6&63|128,63&de|128)}else{if(!(de<1114112))throw new Error("Invalid code point");if((le-=4)<0)break;Le.push(de>>18|240,de>>12&63|128,de>>6&63|128,63&de|128)}}return Le}function ve(fe){return f.toByteArray(function(le){if((le=(le=le.split("=")[0]).trim().replace(ce,"")).length<2)return"";for(;le.length%4!=0;)le+="=";return le}(fe))}function be(fe,le,de,Ce){var Me;for(Me=0;Me<Ce&&!(Me+de>=le.length||Me>=fe.length);++Me)le[Me+de]=fe[Me];return Me}function we(fe,le){return fe instanceof le||fe!=null&&fe.constructor!=null&&fe.constructor.name!=null&&fe.constructor.name===le.name}function ye(fe){return fe!=fe}var me=function(){for(var fe="0123456789abcdef",le=new Array(256),de=0;de<16;++de)for(var Ce=16*de,Me=0;Me<16;++Me)le[Ce+Me]=fe[de]+fe[Me];return le}();function Ae(fe){return typeof BigInt>"u"?ke:fe}function ke(){throw new Error("BigInt not supported")}},25928:function(B){B.exports=w,B.exports.isMobile=w,B.exports.default=w;var L=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,k=/android|ipad|playbook|silk/i;function w(r){r||(r={});var _=r.ua;if(_||typeof navigator>"u"||(_=navigator.userAgent),_&&_.headers&&typeof _.headers["user-agent"]=="string"&&(_=_.headers["user-agent"]),typeof _!="string")return!1;var v=L.test(_)&&!e.test(_)||!!r.tablet&&k.test(_);return!v&&r.tablet&&r.featureDetect&&navigator&&navigator.maxTouchPoints>1&&_.indexOf("Macintosh")!==-1&&_.indexOf("Safari")!==-1&&(v=!0),v}},48932:function(B,L,e){e.r(L),e.d(L,{sankeyCenter:function(){return n},sankeyCircular:function(){return P},sankeyJustify:function(){return a},sankeyLeft:function(){return s},sankeyRight:function(){return t}});var k=e(84706),w=e(34712),r=e(10132),_=e(6688),v=e.n(_);function f(be){return be.target.depth}function s(be){return be.depth}function t(be,we){return we-1-be.height}function a(be,we){return be.sourceLinks.length?be.depth:we-1}function n(be){return be.targetLinks.length?be.depth:be.sourceLinks.length?(0,k.SY)(be.sourceLinks,f)-1:0}function i(be){return function(){return be}}var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(be){return typeof be}:function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be};function o(be,we){return h(be.source,we.source)||be.index-we.index}function u(be,we){return h(be.target,we.target)||be.index-we.index}function h(be,we){return be.partOfCycle===we.partOfCycle?be.y0-we.y0:be.circularLinkType==="top"||we.circularLinkType==="bottom"?-1:1}function c(be){return be.value}function b(be){return(be.y0+be.y1)/2}function d(be){return b(be.source)}function g(be){return b(be.target)}function m(be){return be.index}function y(be){return be.nodes}function x(be){return be.links}function T(be,we){var ye=be.get(we);if(!ye)throw new Error("missing: "+we);return ye}function p(be,we){return we(be)}var S=25,M=10,E=.3;function P(){var be,we,ye=0,me=0,Ae=1,ke=1,fe=24,le=m,de=a,Ce=y,Me=x,Le=32,Oe=2,Be=null;function pe(){var Te={nodes:Ce.apply(null,arguments),links:Me.apply(null,arguments)};(function(Ne){Ne.nodes.forEach(function(Ge,Ye){Ge.index=Ye,Ge.sourceLinks=[],Ge.targetLinks=[]});var ze=(0,w.kH)(Ne.nodes,le);Ne.links.forEach(function(Ge,Ye){Ge.index=Ye;var et=Ge.source,ut=Ge.target;(et===void 0?"undefined":l(et))!=="object"&&(et=Ge.source=T(ze,et)),(ut===void 0?"undefined":l(ut))!=="object"&&(ut=Ge.target=T(ze,ut)),et.sourceLinks.push(Ge),ut.targetLinks.push(Ge)})})(Te),function(Ne,ze,Ge){var Ye=0;if(Ge===null){for(var et=[],ut=0;ut<Ne.links.length;ut++){var ot=Ne.links[ut],yt=ot.source.index,wt=ot.target.index;et[yt]||(et[yt]=[]),et[wt]||(et[wt]=[]),et[yt].indexOf(wt)===-1&&et[yt].push(wt)}var bt=v()(et);bt.sort(function(At,Rt){return At.length-Rt.length});var at={};for(ut=0;ut<bt.length;ut++){var rt=bt[ut].slice(-2);at[rt[0]]||(at[rt[0]]={}),at[rt[0]][rt[1]]=!0}Ne.links.forEach(function(At){var Rt=At.target.index,Ft=At.source.index;Rt===Ft||at[Ft]&&at[Ft][Rt]?(At.circular=!0,At.circularLinkID=Ye,Ye+=1):At.circular=!1})}else Ne.links.forEach(function(At){At.source[Ge]<At.target[Ge]?At.circular=!1:(At.circular=!0,At.circularLinkID=Ye,Ye+=1)})}(Te,0,Be),function(Ne){Ne.nodes.forEach(function(ze){ze.partOfCycle=!1,ze.value=Math.max((0,k.oh)(ze.sourceLinks,c),(0,k.oh)(ze.targetLinks,c)),ze.sourceLinks.forEach(function(Ge){Ge.circular&&(ze.partOfCycle=!0,ze.circularLinkType=Ge.circularLinkType)}),ze.targetLinks.forEach(function(Ge){Ge.circular&&(ze.partOfCycle=!0,ze.circularLinkType=Ge.circularLinkType)})})}(Te),function(Ne){var ze,Ge,Ye;for(ze=Ne.nodes,Ge=[],Ye=0;ze.length;++Ye,ze=Ge,Ge=[])ze.forEach(function(et){et.depth=Ye,et.sourceLinks.forEach(function(ut){Ge.indexOf(ut.target)<0&&!ut.circular&&Ge.push(ut.target)})});for(ze=Ne.nodes,Ge=[],Ye=0;ze.length;++Ye,ze=Ge,Ge=[])ze.forEach(function(et){et.height=Ye,et.targetLinks.forEach(function(ut){Ge.indexOf(ut.source)<0&&!ut.circular&&Ge.push(ut.source)})});Ne.nodes.forEach(function(et){et.column=Math.floor(de.call(null,et,Ye))})}(Te),O(Te,le),function(Ne,ze,Ge){var Ye=(0,w.UJ)().key(function(wt){return wt.column}).sortKeys(k.XE).entries(Ne.nodes).map(function(wt){return wt.values});(function(wt){if(we){var bt=1/0;Ye.forEach(function(Rt){var Ft=ke*we/(Rt.length+1);bt=Ft<bt?Ft:bt}),be=bt}var at=(0,k.SY)(Ye,function(Rt){return(ke-me-(Rt.length-1)*be)/(0,k.oh)(Rt,c)});at*=E,Ne.links.forEach(function(Rt){Rt.width=Rt.value*at});var rt=function(Rt){var Ft=0,Dt=0,Xe=0,Ke=0,Ve=(0,k.kv)(Rt.nodes,function(Je){return Je.column});return Rt.links.forEach(function(Je){Je.circular&&(Je.circularLinkType=="top"?Ft+=Je.width:Dt+=Je.width,Je.target.column==0&&(Ke+=Je.width),Je.source.column==Ve&&(Xe+=Je.width))}),{top:Ft=Ft>0?Ft+S+M:Ft,bottom:Dt=Dt>0?Dt+S+M:Dt,left:Ke=Ke>0?Ke+S+M:Ke,right:Xe=Xe>0?Xe+S+M:Xe}}(Ne),At=function(Rt,Ft){var Dt=(0,k.kv)(Rt.nodes,function(ct){return ct.column}),Xe=Ae-ye,Ke=ke-me,Ve=Xe/(Xe+Ft.right+Ft.left),Je=Ke/(Ke+Ft.top+Ft.bottom);return ye=ye*Ve+Ft.left,Ae=Ft.right==0?Ae:Ae*Ve,me=me*Je+Ft.top,ke*=Je,Rt.nodes.forEach(function(ct){ct.x0=ye+ct.column*((Ae-ye-fe)/Dt),ct.x1=ct.x0+fe}),Je}(Ne,rt);at*=At,Ne.links.forEach(function(Rt){Rt.width=Rt.value*at}),Ye.forEach(function(Rt){var Ft=Rt.length;Rt.forEach(function(Dt,Xe){Dt.depth==Ye.length-1&&Ft==1||Dt.depth==0&&Ft==1?(Dt.y0=ke/2-Dt.value*at,Dt.y1=Dt.y0+Dt.value*at):Dt.partOfCycle?R(Dt,wt)==0?(Dt.y0=ke/2+Xe,Dt.y1=Dt.y0+Dt.value*at):Dt.circularLinkType=="top"?(Dt.y0=me+Xe,Dt.y1=Dt.y0+Dt.value*at):(Dt.y0=ke-Dt.value*at-Xe,Dt.y1=Dt.y0+Dt.value*at):rt.top==0||rt.bottom==0?(Dt.y0=(ke-me)/Ft*Xe,Dt.y1=Dt.y0+Dt.value*at):(Dt.y0=(ke-me)/2-Ft/2+Xe,Dt.y1=Dt.y0+Dt.value*at)})})})(Ge),yt();for(var et=1,ut=ze;ut>0;--ut)ot(et*=.99,Ge),yt();function ot(wt,bt){var at=Ye.length;Ye.forEach(function(rt){var At=rt.length,Rt=rt[0].depth;rt.forEach(function(Ft){var Dt;if((Ft.sourceLinks.length||Ft.targetLinks.length)&&!(Ft.partOfCycle&&R(Ft,bt)>0))if(Rt==0&&At==1)Dt=Ft.y1-Ft.y0,Ft.y0=ke/2-Dt/2,Ft.y1=ke/2+Dt/2;else if(Rt==at-1&&At==1)Dt=Ft.y1-Ft.y0,Ft.y0=ke/2-Dt/2,Ft.y1=ke/2+Dt/2;else{var Xe=(0,k.mo)(Ft.sourceLinks,g),Ke=(0,k.mo)(Ft.targetLinks,d),Ve=((Xe&&Ke?(Xe+Ke)/2:Xe||Ke)-b(Ft))*wt;Ft.y0+=Ve,Ft.y1+=Ve}})})}function yt(){Ye.forEach(function(wt){var bt,at,rt,At=me,Rt=wt.length;for(wt.sort(h),rt=0;rt<Rt;++rt)(at=At-(bt=wt[rt]).y0)>0&&(bt.y0+=at,bt.y1+=at),At=bt.y1+be;if((at=At-be-ke)>0)for(At=bt.y0-=at,bt.y1-=at,rt=Rt-2;rt>=0;--rt)(at=(bt=wt[rt]).y1+be-At)>0&&(bt.y0-=at,bt.y1-=at),At=bt.y0})}}(Te,Le,le),_e(Te);for(var Re=0;Re<4;Re++)oe(Te,ke,le),ae(Te,0,le),ee(Te,me,ke,le),oe(Te,ke,le),ae(Te,0,le);return function(Ne,ze,Ge){var Ye=Ne.nodes,et=Ne.links,ut=!1,ot=!1;if(et.forEach(function(bt){bt.circularLinkType=="top"?ut=!0:bt.circularLinkType=="bottom"&&(ot=!0)}),ut==0||ot==0){var yt=(0,k.SY)(Ye,function(bt){return bt.y0}),wt=(Ge-ze)/((0,k.kv)(Ye,function(bt){return bt.y1})-yt);Ye.forEach(function(bt){var at=(bt.y1-bt.y0)*wt;bt.y0=(bt.y0-yt)*wt,bt.y1=bt.y0+at}),et.forEach(function(bt){bt.y0=(bt.y0-yt)*wt,bt.y1=(bt.y1-yt)*wt,bt.width=bt.width*wt})}}(Te,me,ke),j(Te,Oe,ke,le),Te}function _e(Te){Te.nodes.forEach(function(Re){Re.sourceLinks.sort(u),Re.targetLinks.sort(o)}),Te.nodes.forEach(function(Re){var Ne=Re.y0,ze=Ne,Ge=Re.y1,Ye=Ge;Re.sourceLinks.forEach(function(et){et.circular?(et.y0=Ge-et.width/2,Ge-=et.width):(et.y0=Ne+et.width/2,Ne+=et.width)}),Re.targetLinks.forEach(function(et){et.circular?(et.y1=Ye-et.width/2,Ye-=et.width):(et.y1=ze+et.width/2,ze+=et.width)})})}return pe.nodeId=function(Te){return arguments.length?(le=typeof Te=="function"?Te:i(Te),pe):le},pe.nodeAlign=function(Te){return arguments.length?(de=typeof Te=="function"?Te:i(Te),pe):de},pe.nodeWidth=function(Te){return arguments.length?(fe=+Te,pe):fe},pe.nodePadding=function(Te){return arguments.length?(be=+Te,pe):be},pe.nodes=function(Te){return arguments.length?(Ce=typeof Te=="function"?Te:i(Te),pe):Ce},pe.links=function(Te){return arguments.length?(Me=typeof Te=="function"?Te:i(Te),pe):Me},pe.size=function(Te){return arguments.length?(ye=me=0,Ae=+Te[0],ke=+Te[1],pe):[Ae-ye,ke-me]},pe.extent=function(Te){return arguments.length?(ye=+Te[0][0],Ae=+Te[1][0],me=+Te[0][1],ke=+Te[1][1],pe):[[ye,me],[Ae,ke]]},pe.iterations=function(Te){return arguments.length?(Le=+Te,pe):Le},pe.circularLinkGap=function(Te){return arguments.length?(Oe=+Te,pe):Oe},pe.nodePaddingRatio=function(Te){return arguments.length?(we=+Te,pe):we},pe.sortNodes=function(Te){return arguments.length?(Be=Te,pe):Be},pe.update=function(Te){return O(Te,le),_e(Te),Te.links.forEach(function(Re){Re.circular&&(Re.circularLinkType=Re.y0+Re.y1<ke?"top":"bottom",Re.source.circularLinkType=Re.circularLinkType,Re.target.circularLinkType=Re.circularLinkType)}),oe(Te,ke,le,!1),ae(Te,0,le),j(Te,Oe,ke,le),Te},pe}function O(be,we){var ye=0,me=0;be.links.forEach(function(Ae){Ae.circular&&(Ae.source.circularLinkType||Ae.target.circularLinkType?Ae.circularLinkType=Ae.source.circularLinkType?Ae.source.circularLinkType:Ae.target.circularLinkType:Ae.circularLinkType=ye<me?"top":"bottom",Ae.circularLinkType=="top"?ye+=1:me+=1,be.nodes.forEach(function(ke){p(ke,we)!=p(Ae.source,we)&&p(ke,we)!=p(Ae.target,we)||(ke.circularLinkType=Ae.circularLinkType)}))}),be.links.forEach(function(Ae){Ae.circular&&(Ae.source.circularLinkType==Ae.target.circularLinkType&&(Ae.circularLinkType=Ae.source.circularLinkType),ve(Ae,we)&&(Ae.circularLinkType=Ae.source.circularLinkType))})}function I(be){var we=Math.abs(be.y1-be.y0),ye=Math.abs(be.target.x0-be.source.x1);return Math.atan(ye/we)}function R(be,we){var ye=0;be.sourceLinks.forEach(function(Ae){ye=Ae.circular&&!ve(Ae,we)?ye+1:ye});var me=0;return be.targetLinks.forEach(function(Ae){me=Ae.circular&&!ve(Ae,we)?me+1:me}),ye+me}function U(be){var we=be.source.sourceLinks,ye=0;we.forEach(function(ke){ye=ke.circular?ye+1:ye});var me=be.target.targetLinks,Ae=0;return me.forEach(function(ke){Ae=ke.circular?Ae+1:Ae}),!(ye>1||Ae>1)}function z(be,we,ye){return be.sort(W),be.forEach(function(me,Ae){var ke,fe,le=0;if(ve(me,ye)&&U(me))me.circularPathData.verticalBuffer=le+me.width/2;else{for(var de=0;de<Ae;de++)if(ke=be[Ae],fe=be[de],!(ke.source.column<fe.target.column||ke.target.column>fe.source.column)){var Ce=be[de].circularPathData.verticalBuffer+be[de].width/2+we;le=Ce>le?Ce:le}me.circularPathData.verticalBuffer=le+me.width/2}}),be}function j(be,we,ye,me){var Ae=(0,k.SY)(be.links,function(ke){return ke.source.y0});be.links.forEach(function(ke){ke.circular&&(ke.circularPathData={})}),z(be.links.filter(function(ke){return ke.circularLinkType=="top"}),we,me),z(be.links.filter(function(ke){return ke.circularLinkType=="bottom"}),we,me),be.links.forEach(function(ke){if(ke.circular){if(ke.circularPathData.arcRadius=ke.width+M,ke.circularPathData.leftNodeBuffer=5,ke.circularPathData.rightNodeBuffer=5,ke.circularPathData.sourceWidth=ke.source.x1-ke.source.x0,ke.circularPathData.sourceX=ke.source.x0+ke.circularPathData.sourceWidth,ke.circularPathData.targetX=ke.target.x0,ke.circularPathData.sourceY=ke.y0,ke.circularPathData.targetY=ke.y1,ve(ke,me)&&U(ke))ke.circularPathData.leftSmallArcRadius=M+ke.width/2,ke.circularPathData.leftLargeArcRadius=M+ke.width/2,ke.circularPathData.rightSmallArcRadius=M+ke.width/2,ke.circularPathData.rightLargeArcRadius=M+ke.width/2,ke.circularLinkType=="bottom"?(ke.circularPathData.verticalFullExtent=ke.source.y1+S+ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.rightLargeArcRadius):(ke.circularPathData.verticalFullExtent=ke.source.y0-S-ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.rightLargeArcRadius);else{var fe=ke.source.column,le=ke.circularLinkType,de=be.links.filter(function(Le){return Le.source.column==fe&&Le.circularLinkType==le});ke.circularLinkType=="bottom"?de.sort(V):de.sort(F);var Ce=0;de.forEach(function(Le,Oe){Le.circularLinkID==ke.circularLinkID&&(ke.circularPathData.leftSmallArcRadius=M+ke.width/2+Ce,ke.circularPathData.leftLargeArcRadius=M+ke.width/2+Oe*we+Ce),Ce+=Le.width}),fe=ke.target.column,de=be.links.filter(function(Le){return Le.target.column==fe&&Le.circularLinkType==le}),ke.circularLinkType=="bottom"?de.sort(te):de.sort(H),Ce=0,de.forEach(function(Le,Oe){Le.circularLinkID==ke.circularLinkID&&(ke.circularPathData.rightSmallArcRadius=M+ke.width/2+Ce,ke.circularPathData.rightLargeArcRadius=M+ke.width/2+Oe*we+Ce),Ce+=Le.width}),ke.circularLinkType=="bottom"?(ke.circularPathData.verticalFullExtent=Math.max(ye,ke.source.y1,ke.target.y1)+S+ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.rightLargeArcRadius):(ke.circularPathData.verticalFullExtent=Ae-S-ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.rightLargeArcRadius)}ke.circularPathData.leftInnerExtent=ke.circularPathData.sourceX+ke.circularPathData.leftNodeBuffer,ke.circularPathData.rightInnerExtent=ke.circularPathData.targetX-ke.circularPathData.rightNodeBuffer,ke.circularPathData.leftFullExtent=ke.circularPathData.sourceX+ke.circularPathData.leftLargeArcRadius+ke.circularPathData.leftNodeBuffer,ke.circularPathData.rightFullExtent=ke.circularPathData.targetX-ke.circularPathData.rightLargeArcRadius-ke.circularPathData.rightNodeBuffer}if(ke.circular)ke.path=function(Le){return Le.circularLinkType=="top"?"M"+Le.circularPathData.sourceX+" "+Le.circularPathData.sourceY+" L"+Le.circularPathData.leftInnerExtent+" "+Le.circularPathData.sourceY+" A"+Le.circularPathData.leftLargeArcRadius+" "+Le.circularPathData.leftSmallArcRadius+" 0 0 0 "+Le.circularPathData.leftFullExtent+" "+(Le.circularPathData.sourceY-Le.circularPathData.leftSmallArcRadius)+" L"+Le.circularPathData.leftFullExtent+" "+Le.circularPathData.verticalLeftInnerExtent+" A"+Le.circularPathData.leftLargeArcRadius+" "+Le.circularPathData.leftLargeArcRadius+" 0 0 0 "+Le.circularPathData.leftInnerExtent+" "+Le.circularPathData.verticalFullExtent+" L"+Le.circularPathData.rightInnerExtent+" "+Le.circularPathData.verticalFullExtent+" A"+Le.circularPathData.rightLargeArcRadius+" "+Le.circularPathData.rightLargeArcRadius+" 0 0 0 "+Le.circularPathData.rightFullExtent+" "+Le.circularPathData.verticalRightInnerExtent+" L"+Le.circularPathData.rightFullExtent+" "+(Le.circularPathData.targetY-Le.circularPathData.rightSmallArcRadius)+" A"+Le.circularPathData.rightLargeArcRadius+" "+Le.circularPathData.rightSmallArcRadius+" 0 0 0 "+Le.circularPathData.rightInnerExtent+" "+Le.circularPathData.targetY+" L"+Le.circularPathData.targetX+" "+Le.circularPathData.targetY:"M"+Le.circularPathData.sourceX+" "+Le.circularPathData.sourceY+" L"+Le.circularPathData.leftInnerExtent+" "+Le.circularPathData.sourceY+" A"+Le.circularPathData.leftLargeArcRadius+" "+Le.circularPathData.leftSmallArcRadius+" 0 0 1 "+Le.circularPathData.leftFullExtent+" "+(Le.circularPathData.sourceY+Le.circularPathData.leftSmallArcRadius)+" L"+Le.circularPathData.leftFullExtent+" "+Le.circularPathData.verticalLeftInnerExtent+" A"+Le.circularPathData.leftLargeArcRadius+" "+Le.circularPathData.leftLargeArcRadius+" 0 0 1 "+Le.circularPathData.leftInnerExtent+" "+Le.circularPathData.verticalFullExtent+" L"+Le.circularPathData.rightInnerExtent+" "+Le.circularPathData.verticalFullExtent+" A"+Le.circularPathData.rightLargeArcRadius+" "+Le.circularPathData.rightLargeArcRadius+" 0 0 1 "+Le.circularPathData.rightFullExtent+" "+Le.circularPathData.verticalRightInnerExtent+" L"+Le.circularPathData.rightFullExtent+" "+(Le.circularPathData.targetY+Le.circularPathData.rightSmallArcRadius)+" A"+Le.circularPathData.rightLargeArcRadius+" "+Le.circularPathData.rightSmallArcRadius+" 0 0 1 "+Le.circularPathData.rightInnerExtent+" "+Le.circularPathData.targetY+" L"+Le.circularPathData.targetX+" "+Le.circularPathData.targetY}(ke);else{var Me=(0,r.ak)().source(function(Le){return[Le.source.x0+(Le.source.x1-Le.source.x0),Le.y0]}).target(function(Le){return[Le.target.x0,Le.y1]});ke.path=Me(ke)}})}function W(be,we){return Q(be)==Q(we)?be.circularLinkType=="bottom"?V(be,we):F(be,we):Q(we)-Q(be)}function F(be,we){return be.y0-we.y0}function V(be,we){return we.y0-be.y0}function H(be,we){return be.y1-we.y1}function te(be,we){return we.y1-be.y1}function Q(be){return be.target.column-be.source.column}function K(be){return be.target.x0-be.source.x1}function X(be,we){var ye=I(be),me=K(we)/Math.tan(ye);return ge(be)=="up"?be.y1+me:be.y1-me}function J(be,we){var ye=I(be),me=K(we)/Math.tan(ye);return ge(be)=="up"?be.y1-me:be.y1+me}function ee(be,we,ye,me){be.links.forEach(function(Ae){if(!Ae.circular&&Ae.target.column-Ae.source.column>1){var ke=Ae.source.column+1,fe=Ae.target.column-1,le=1,de=fe-ke+1;for(le=1;ke<=fe;ke++,le++)be.nodes.forEach(function(Ce){if(Ce.column==ke){var Me,Le=le/(de+1),Oe=Math.pow(1-Le,3),Be=3*Le*Math.pow(1-Le,2),pe=3*Math.pow(Le,2)*(1-Le),_e=Math.pow(Le,3),Te=Oe*Ae.y0+Be*Ae.y0+pe*Ae.y1+_e*Ae.y1,Re=Te-Ae.width/2,Ne=Te+Ae.width/2;Re>Ce.y0&&Re<Ce.y1?(Me=Ce.y1-Re+10,Me=Ce.circularLinkType=="bottom"?Me:-Me,Ce=ie(Ce,Me,we,ye),be.nodes.forEach(function(ze){var Ge,Ye;p(ze,me)!=p(Ce,me)&&ze.column==Ce.column&&(Ye=ze,(Ge=Ce).y0>Ye.y0&&Ge.y0<Ye.y1||Ge.y1>Ye.y0&&Ge.y1<Ye.y1||Ge.y0<Ye.y0&&Ge.y1>Ye.y1)&&ie(ze,Me,we,ye)})):(Ne>Ce.y0&&Ne<Ce.y1||Re<Ce.y0&&Ne>Ce.y1)&&(Me=Ne-Ce.y0+10,Ce=ie(Ce,Me,we,ye),be.nodes.forEach(function(ze){p(ze,me)!=p(Ce,me)&&ze.column==Ce.column&&ze.y0<Ce.y1&&ze.y1>Ce.y1&&ie(ze,Me,we,ye)}))}})}})}function ie(be,we,ye,me){return be.y0+we>=ye&&be.y1+we<=me&&(be.y0=be.y0+we,be.y1=be.y1+we,be.targetLinks.forEach(function(Ae){Ae.y1=Ae.y1+we}),be.sourceLinks.forEach(function(Ae){Ae.y0=Ae.y0+we})),be}function oe(be,we,ye,me){be.nodes.forEach(function(Ae){me&&Ae.y+(Ae.y1-Ae.y0)>we&&(Ae.y=Ae.y-(Ae.y+(Ae.y1-Ae.y0)-we));var ke=be.links.filter(function(de){return p(de.source,ye)==p(Ae,ye)}),fe=ke.length;fe>1&&ke.sort(function(de,Ce){if(!de.circular&&!Ce.circular){if(de.target.column==Ce.target.column||!ce(de,Ce))return de.y1-Ce.y1;if(de.target.column>Ce.target.column){var Me=J(Ce,de);return de.y1-Me}if(Ce.target.column>de.target.column)return J(de,Ce)-Ce.y1}return de.circular&&!Ce.circular?de.circularLinkType=="top"?-1:1:Ce.circular&&!de.circular?Ce.circularLinkType=="top"?1:-1:de.circular&&Ce.circular?de.circularLinkType===Ce.circularLinkType&&de.circularLinkType=="top"?de.target.column===Ce.target.column?de.target.y1-Ce.target.y1:Ce.target.column-de.target.column:de.circularLinkType===Ce.circularLinkType&&de.circularLinkType=="bottom"?de.target.column===Ce.target.column?Ce.target.y1-de.target.y1:de.target.column-Ce.target.column:de.circularLinkType=="top"?-1:1:void 0});var le=Ae.y0;ke.forEach(function(de){de.y0=le+de.width/2,le+=de.width}),ke.forEach(function(de,Ce){if(de.circularLinkType=="bottom"){for(var Me=Ce+1,Le=0;Me<fe;Me++)Le+=ke[Me].width;de.y0=Ae.y1-Le-de.width/2}})})}function ae(be,we,ye){be.nodes.forEach(function(me){var Ae=be.links.filter(function(le){return p(le.target,ye)==p(me,ye)}),ke=Ae.length;ke>1&&Ae.sort(function(le,de){if(!le.circular&&!de.circular){if(le.source.column==de.source.column||!ce(le,de))return le.y0-de.y0;if(de.source.column<le.source.column){var Ce=X(de,le);return le.y0-Ce}if(le.source.column<de.source.column)return X(le,de)-de.y0}return le.circular&&!de.circular?le.circularLinkType=="top"?-1:1:de.circular&&!le.circular?de.circularLinkType=="top"?1:-1:le.circular&&de.circular?le.circularLinkType===de.circularLinkType&&le.circularLinkType=="top"?le.source.column===de.source.column?le.source.y1-de.source.y1:le.source.column-de.source.column:le.circularLinkType===de.circularLinkType&&le.circularLinkType=="bottom"?le.source.column===de.source.column?le.source.y1-de.source.y1:de.source.column-le.source.column:le.circularLinkType=="top"?-1:1:void 0});var fe=me.y0;Ae.forEach(function(le){le.y1=fe+le.width/2,fe+=le.width}),Ae.forEach(function(le,de){if(le.circularLinkType=="bottom"){for(var Ce=de+1,Me=0;Ce<ke;Ce++)Me+=Ae[Ce].width;le.y1=me.y1-Me-le.width/2}})})}function ce(be,we){return ge(be)==ge(we)}function ge(be){return be.y0-be.y1>0?"up":"down"}function ve(be,we){return p(be.source,we)==p(be.target,we)}},26800:function(B,L,e){e.r(L),e.d(L,{sankey:function(){return m},sankeyCenter:function(){return s},sankeyJustify:function(){return f},sankeyLeft:function(){return _},sankeyLinkHorizontal:function(){return p},sankeyRight:function(){return v}});var k=e(84706),w=e(34712);function r(S){return S.target.depth}function _(S){return S.depth}function v(S,M){return M-1-S.height}function f(S,M){return S.sourceLinks.length?S.depth:M-1}function s(S){return S.targetLinks.length?S.depth:S.sourceLinks.length?(0,k.SY)(S.sourceLinks,r)-1:0}function t(S){return function(){return S}}function a(S,M){return i(S.source,M.source)||S.index-M.index}function n(S,M){return i(S.target,M.target)||S.index-M.index}function i(S,M){return S.y0-M.y0}function l(S){return S.value}function o(S){return(S.y0+S.y1)/2}function u(S){return o(S.source)*S.value}function h(S){return o(S.target)*S.value}function c(S){return S.index}function b(S){return S.nodes}function d(S){return S.links}function g(S,M){var E=S.get(M);if(!E)throw new Error("missing: "+M);return E}function m(){var S=0,M=0,E=1,P=1,O=24,I=8,R=c,U=f,z=b,j=d,W=32;function F(){var H={nodes:z.apply(null,arguments),links:j.apply(null,arguments)};return function(te){te.nodes.forEach(function(K,X){K.index=X,K.sourceLinks=[],K.targetLinks=[]});var Q=(0,w.kH)(te.nodes,R);te.links.forEach(function(K,X){K.index=X;var J=K.source,ee=K.target;typeof J!="object"&&(J=K.source=g(Q,J)),typeof ee!="object"&&(ee=K.target=g(Q,ee)),J.sourceLinks.push(K),ee.targetLinks.push(K)})}(H),function(te){te.nodes.forEach(function(Q){Q.value=Math.max((0,k.oh)(Q.sourceLinks,l),(0,k.oh)(Q.targetLinks,l))})}(H),function(te){var Q,K,X;for(Q=te.nodes,K=[],X=0;Q.length;++X,Q=K,K=[])Q.forEach(function(ee){ee.depth=X,ee.sourceLinks.forEach(function(ie){K.indexOf(ie.target)<0&&K.push(ie.target)})});for(Q=te.nodes,K=[],X=0;Q.length;++X,Q=K,K=[])Q.forEach(function(ee){ee.height=X,ee.targetLinks.forEach(function(ie){K.indexOf(ie.source)<0&&K.push(ie.source)})});var J=(E-S-O)/(X-1);te.nodes.forEach(function(ee){ee.x1=(ee.x0=S+Math.max(0,Math.min(X-1,Math.floor(U.call(null,ee,X))))*J)+O})}(H),function(te){var Q=(0,w.UJ)().key(function(oe){return oe.x0}).sortKeys(k.XE).entries(te.nodes).map(function(oe){return oe.values});(function(){var oe=(0,k.kv)(Q,function(ge){return ge.length}),ae=.6666666666666666*(P-M)/(oe-1);I>ae&&(I=ae);var ce=(0,k.SY)(Q,function(ge){return(P-M-(ge.length-1)*I)/(0,k.oh)(ge,l)});Q.forEach(function(ge){ge.forEach(function(ve,be){ve.y1=(ve.y0=be)+ve.value*ce})}),te.links.forEach(function(ge){ge.width=ge.value*ce})})(),ie();for(var K=1,X=W;X>0;--X)ee(K*=.99),ie(),J(K),ie();function J(oe){Q.forEach(function(ae){ae.forEach(function(ce){if(ce.targetLinks.length){var ge=((0,k.oh)(ce.targetLinks,u)/(0,k.oh)(ce.targetLinks,l)-o(ce))*oe;ce.y0+=ge,ce.y1+=ge}})})}function ee(oe){Q.slice().reverse().forEach(function(ae){ae.forEach(function(ce){if(ce.sourceLinks.length){var ge=((0,k.oh)(ce.sourceLinks,h)/(0,k.oh)(ce.sourceLinks,l)-o(ce))*oe;ce.y0+=ge,ce.y1+=ge}})})}function ie(){Q.forEach(function(oe){var ae,ce,ge,ve=M,be=oe.length;for(oe.sort(i),ge=0;ge<be;++ge)(ce=ve-(ae=oe[ge]).y0)>0&&(ae.y0+=ce,ae.y1+=ce),ve=ae.y1+I;if((ce=ve-I-P)>0)for(ve=ae.y0-=ce,ae.y1-=ce,ge=be-2;ge>=0;--ge)(ce=(ae=oe[ge]).y1+I-ve)>0&&(ae.y0-=ce,ae.y1-=ce),ve=ae.y0})}}(H),V(H),H}function V(H){H.nodes.forEach(function(te){te.sourceLinks.sort(n),te.targetLinks.sort(a)}),H.nodes.forEach(function(te){var Q=te.y0,K=Q;te.sourceLinks.forEach(function(X){X.y0=Q+X.width/2,Q+=X.width}),te.targetLinks.forEach(function(X){X.y1=K+X.width/2,K+=X.width})})}return F.update=function(H){return V(H),H},F.nodeId=function(H){return arguments.length?(R=typeof H=="function"?H:t(H),F):R},F.nodeAlign=function(H){return arguments.length?(U=typeof H=="function"?H:t(H),F):U},F.nodeWidth=function(H){return arguments.length?(O=+H,F):O},F.nodePadding=function(H){return arguments.length?(I=+H,F):I},F.nodes=function(H){return arguments.length?(z=typeof H=="function"?H:t(H),F):z},F.links=function(H){return arguments.length?(j=typeof H=="function"?H:t(H),F):j},F.size=function(H){return arguments.length?(S=M=0,E=+H[0],P=+H[1],F):[E-S,P-M]},F.extent=function(H){return arguments.length?(S=+H[0][0],E=+H[1][0],M=+H[0][1],P=+H[1][1],F):[[S,M],[E,P]]},F.iterations=function(H){return arguments.length?(W=+H,F):W},F}var y=e(10132);function x(S){return[S.source.x1,S.y0]}function T(S){return[S.target.x0,S.y1]}function p(){return(0,y.ak)().source(x).target(T)}},33428:function(B,L,e){var k,w;(function(){var r={version:"3.8.0"},_=[].slice,v=function(C){return _.call(C)},f=self.document;function s(C){return C&&(C.ownerDocument||C.document||C).documentElement}function t(C){return C&&(C.ownerDocument&&C.ownerDocument.defaultView||C.document&&C||C.defaultView)}if(f)try{v(f.documentElement.childNodes)[0].nodeType}catch{v=function(q){for(var $=q.length,ne=new Array($);$--;)ne[$]=q[$];return ne}}if(Date.now||(Date.now=function(){return+new Date}),f)try{f.createElement("DIV").style.setProperty("opacity",0,"")}catch{var a=this.Element.prototype,n=a.setAttribute,i=a.setAttributeNS,l=this.CSSStyleDeclaration.prototype,o=l.setProperty;a.setAttribute=function(q,$){n.call(this,q,$+"")},a.setAttributeNS=function(q,$,ne){i.call(this,q,$,ne+"")},l.setProperty=function(q,$,ne){o.call(this,q,$+"",ne)}}function u(C,q){return C<q?-1:C>q?1:C>=q?0:NaN}function h(C){return C===null?NaN:+C}function c(C){return!isNaN(C)}function b(C){return{left:function(q,$,ne,he){for(arguments.length<3&&(ne=0),arguments.length<4&&(he=q.length);ne<he;){var xe=ne+he>>>1;C(q[xe],$)<0?ne=xe+1:he=xe}return ne},right:function(q,$,ne,he){for(arguments.length<3&&(ne=0),arguments.length<4&&(he=q.length);ne<he;){var xe=ne+he>>>1;C(q[xe],$)>0?he=xe:ne=xe+1}return ne}}}r.ascending=u,r.descending=function(C,q){return q<C?-1:q>C?1:q>=C?0:NaN},r.min=function(C,q){var $,ne,he=-1,xe=C.length;if(arguments.length===1){for(;++he<xe;)if((ne=C[he])!=null&&ne>=ne){$=ne;break}for(;++he<xe;)(ne=C[he])!=null&&$>ne&&($=ne)}else{for(;++he<xe;)if((ne=q.call(C,C[he],he))!=null&&ne>=ne){$=ne;break}for(;++he<xe;)(ne=q.call(C,C[he],he))!=null&&$>ne&&($=ne)}return $},r.max=function(C,q){var $,ne,he=-1,xe=C.length;if(arguments.length===1){for(;++he<xe;)if((ne=C[he])!=null&&ne>=ne){$=ne;break}for(;++he<xe;)(ne=C[he])!=null&&ne>$&&($=ne)}else{for(;++he<xe;)if((ne=q.call(C,C[he],he))!=null&&ne>=ne){$=ne;break}for(;++he<xe;)(ne=q.call(C,C[he],he))!=null&&ne>$&&($=ne)}return $},r.extent=function(C,q){var $,ne,he,xe=-1,Pe=C.length;if(arguments.length===1){for(;++xe<Pe;)if((ne=C[xe])!=null&&ne>=ne){$=he=ne;break}for(;++xe<Pe;)(ne=C[xe])!=null&&($>ne&&($=ne),he<ne&&(he=ne))}else{for(;++xe<Pe;)if((ne=q.call(C,C[xe],xe))!=null&&ne>=ne){$=he=ne;break}for(;++xe<Pe;)(ne=q.call(C,C[xe],xe))!=null&&($>ne&&($=ne),he<ne&&(he=ne))}return[$,he]},r.sum=function(C,q){var $,ne=0,he=C.length,xe=-1;if(arguments.length===1)for(;++xe<he;)c($=+C[xe])&&(ne+=$);else for(;++xe<he;)c($=+q.call(C,C[xe],xe))&&(ne+=$);return ne},r.mean=function(C,q){var $,ne=0,he=C.length,xe=-1,Pe=he;if(arguments.length===1)for(;++xe<he;)c($=h(C[xe]))?ne+=$:--Pe;else for(;++xe<he;)c($=h(q.call(C,C[xe],xe)))?ne+=$:--Pe;if(Pe)return ne/Pe},r.quantile=function(C,q){var $=(C.length-1)*q+1,ne=Math.floor($),he=+C[ne-1],xe=$-ne;return xe?he+xe*(C[ne]-he):he},r.median=function(C,q){var $,ne=[],he=C.length,xe=-1;if(arguments.length===1)for(;++xe<he;)c($=h(C[xe]))&&ne.push($);else for(;++xe<he;)c($=h(q.call(C,C[xe],xe)))&&ne.push($);if(ne.length)return r.quantile(ne.sort(u),.5)},r.variance=function(C,q){var $,ne,he=C.length,xe=0,Pe=0,Fe=-1,qe=0;if(arguments.length===1)for(;++Fe<he;)c($=h(C[Fe]))&&(Pe+=(ne=$-xe)*($-(xe+=ne/++qe)));else for(;++Fe<he;)c($=h(q.call(C,C[Fe],Fe)))&&(Pe+=(ne=$-xe)*($-(xe+=ne/++qe)));if(qe>1)return Pe/(qe-1)},r.deviation=function(){var C=r.variance.apply(this,arguments);return C&&Math.sqrt(C)};var d=b(u);function g(C){return C.length}r.bisectLeft=d.left,r.bisect=r.bisectRight=d.right,r.bisector=function(C){return b(C.length===1?function(q,$){return u(C(q),$)}:C)},r.shuffle=function(C,q,$){(xe=arguments.length)<3&&($=C.length,xe<2&&(q=0));for(var ne,he,xe=$-q;xe;)he=Math.random()*xe--|0,ne=C[xe+q],C[xe+q]=C[he+q],C[he+q]=ne;return C},r.permute=function(C,q){for(var $=q.length,ne=new Array($);$--;)ne[$]=C[q[$]];return ne},r.pairs=function(C){for(var q=0,$=C.length-1,ne=C[0],he=new Array($<0?0:$);q<$;)he[q]=[ne,ne=C[++q]];return he},r.transpose=function(C){if(!(he=C.length))return[];for(var q=-1,$=r.min(C,g),ne=new Array($);++q<$;)for(var he,xe=-1,Pe=ne[q]=new Array(he);++xe<he;)Pe[xe]=C[xe][q];return ne},r.zip=function(){return r.transpose(arguments)},r.keys=function(C){var q=[];for(var $ in C)q.push($);return q},r.values=function(C){var q=[];for(var $ in C)q.push(C[$]);return q},r.entries=function(C){var q=[];for(var $ in C)q.push({key:$,value:C[$]});return q},r.merge=function(C){for(var q,$,ne,he=C.length,xe=-1,Pe=0;++xe<he;)Pe+=C[xe].length;for($=new Array(Pe);--he>=0;)for(q=(ne=C[he]).length;--q>=0;)$[--Pe]=ne[q];return $};var m=Math.abs;function y(C,q){for(var $ in q)Object.defineProperty(C.prototype,$,{value:q[$],enumerable:!1})}function x(){this._=Object.create(null)}r.range=function(C,q,$){if(arguments.length<3&&($=1,arguments.length<2&&(q=C,C=0)),(q-C)/$==1/0)throw new Error("infinite range");var ne,he=[],xe=function(Fe){for(var qe=1;Fe*qe%1;)qe*=10;return qe}(m($)),Pe=-1;if(C*=xe,q*=xe,($*=xe)<0)for(;(ne=C+$*++Pe)>q;)he.push(ne/xe);else for(;(ne=C+$*++Pe)<q;)he.push(ne/xe);return he},r.map=function(C,q){var $=new x;if(C instanceof x)C.forEach(function(Fe,qe){$.set(Fe,qe)});else if(Array.isArray(C)){var ne,he=-1,xe=C.length;if(arguments.length===1)for(;++he<xe;)$.set(he,C[he]);else for(;++he<xe;)$.set(q.call(C,ne=C[he],he),ne)}else for(var Pe in C)$.set(Pe,C[Pe]);return $};var T="__proto__",p="\0";function S(C){return(C+="")===T||C[0]===p?p+C:C}function M(C){return(C+="")[0]===p?C.slice(1):C}function E(C){return S(C)in this._}function P(C){return(C=S(C))in this._&&delete this._[C]}function O(){var C=[];for(var q in this._)C.push(M(q));return C}function I(){var C=0;for(var q in this._)++C;return C}function R(){for(var C in this._)return!1;return!0}function U(){this._=Object.create(null)}function z(C){return C}function j(C,q,$){return function(){var ne=$.apply(q,arguments);return ne===q?C:ne}}function W(C,q){if(q in C)return q;q=q.charAt(0).toUpperCase()+q.slice(1);for(var $=0,ne=F.length;$<ne;++$){var he=F[$]+q;if(he in C)return he}}y(x,{has:E,get:function(C){return this._[S(C)]},set:function(C,q){return this._[S(C)]=q},remove:P,keys:O,values:function(){var C=[];for(var q in this._)C.push(this._[q]);return C},entries:function(){var C=[];for(var q in this._)C.push({key:M(q),value:this._[q]});return C},size:I,empty:R,forEach:function(C){for(var q in this._)C.call(this,M(q),this._[q])}}),r.nest=function(){var C,q,$={},ne=[],he=[];function xe(Fe,qe,Ze){if(Ze>=ne.length)return q?q.call($,qe):C?qe.sort(C):qe;for(var it,pt,vt,Mt,Ct=-1,Et=qe.length,jt=ne[Ze++],zt=new x;++Ct<Et;)(Mt=zt.get(it=jt(pt=qe[Ct])))?Mt.push(pt):zt.set(it,[pt]);return Fe?(pt=Fe(),vt=function(Qt,Wt){pt.set(Qt,xe(Fe,Wt,Ze))}):(pt={},vt=function(Qt,Wt){pt[Qt]=xe(Fe,Wt,Ze)}),zt.forEach(vt),pt}function Pe(Fe,qe){if(qe>=ne.length)return Fe;var Ze=[],it=he[qe++];return Fe.forEach(function(pt,vt){Ze.push({key:pt,values:Pe(vt,qe)})}),it?Ze.sort(function(pt,vt){return it(pt.key,vt.key)}):Ze}return $.map=function(Fe,qe){return xe(qe,Fe,0)},$.entries=function(Fe){return Pe(xe(r.map,Fe,0),0)},$.key=function(Fe){return ne.push(Fe),$},$.sortKeys=function(Fe){return he[ne.length-1]=Fe,$},$.sortValues=function(Fe){return C=Fe,$},$.rollup=function(Fe){return q=Fe,$},$},r.set=function(C){var q=new U;if(C)for(var $=0,ne=C.length;$<ne;++$)q.add(C[$]);return q},y(U,{has:E,add:function(C){return this._[S(C+="")]=!0,C},remove:P,values:O,size:I,empty:R,forEach:function(C){for(var q in this._)C.call(this,M(q))}}),r.behavior={},r.rebind=function(C,q){for(var $,ne=1,he=arguments.length;++ne<he;)C[$=arguments[ne]]=j(C,q,q[$]);return C};var F=["webkit","ms","moz","Moz","o","O"];function V(){}function H(){}function te(C){var q=[],$=new x;function ne(){for(var he,xe=q,Pe=-1,Fe=xe.length;++Pe<Fe;)(he=xe[Pe].on)&&he.apply(this,arguments);return C}return ne.on=function(he,xe){var Pe,Fe=$.get(he);return arguments.length<2?Fe&&Fe.on:(Fe&&(Fe.on=null,q=q.slice(0,Pe=q.indexOf(Fe)).concat(q.slice(Pe+1)),$.remove(he)),xe&&q.push($.set(he,{on:xe})),C)},ne}function Q(){r.event.preventDefault()}function K(){for(var C,q=r.event;C=q.sourceEvent;)q=C;return q}function X(C){for(var q=new H,$=0,ne=arguments.length;++$<ne;)q[arguments[$]]=te(q);return q.of=function(he,xe){return function(Pe){try{var Fe=Pe.sourceEvent=r.event;Pe.target=C,r.event=Pe,q[Pe.type].apply(he,xe)}finally{r.event=Fe}}},q}r.dispatch=function(){for(var C=new H,q=-1,$=arguments.length;++q<$;)C[arguments[q]]=te(C);return C},H.prototype.on=function(C,q){var $=C.indexOf("."),ne="";if($>=0&&(ne=C.slice($+1),C=C.slice(0,$)),C)return arguments.length<2?this[C].on(ne):this[C].on(ne,q);if(arguments.length===2){if(q==null)for(C in this)this.hasOwnProperty(C)&&this[C].on(ne,null);return this}},r.event=null,r.requote=function(C){return C.replace(J,"\\$&")};var J=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ee={}.__proto__?function(C,q){C.__proto__=q}:function(C,q){for(var $ in q)C[$]=q[$]};function ie(C){return ee(C,ge),C}var oe=function(C,q){return q.querySelector(C)},ae=function(C,q){return q.querySelectorAll(C)},ce=function(C,q){var $=C.matches||C[W(C,"matchesSelector")];return ce=function(ne,he){return $.call(ne,he)},ce(C,q)};typeof Sizzle=="function"&&(oe=function(C,q){return Sizzle(C,q)[0]||null},ae=Sizzle,ce=Sizzle.matchesSelector),r.selection=function(){return r.select(f.documentElement)};var ge=r.selection.prototype=[];function ve(C){return typeof C=="function"?C:function(){return oe(C,this)}}function be(C){return typeof C=="function"?C:function(){return ae(C,this)}}ge.select=function(C){var q,$,ne,he,xe=[];C=ve(C);for(var Pe=-1,Fe=this.length;++Pe<Fe;){xe.push(q=[]),q.parentNode=(ne=this[Pe]).parentNode;for(var qe=-1,Ze=ne.length;++qe<Ze;)(he=ne[qe])?(q.push($=C.call(he,he.__data__,qe,Pe)),$&&"__data__"in he&&($.__data__=he.__data__)):q.push(null)}return ie(xe)},ge.selectAll=function(C){var q,$,ne=[];C=be(C);for(var he=-1,xe=this.length;++he<xe;)for(var Pe=this[he],Fe=-1,qe=Pe.length;++Fe<qe;)($=Pe[Fe])&&(ne.push(q=v(C.call($,$.__data__,Fe,he))),q.parentNode=$);return ie(ne)};var we="http://www.w3.org/1999/xhtml",ye={svg:"http://www.w3.org/2000/svg",xhtml:we,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function me(C,q){return C=r.ns.qualify(C),q==null?C.local?function(){this.removeAttributeNS(C.space,C.local)}:function(){this.removeAttribute(C)}:typeof q=="function"?C.local?function(){var $=q.apply(this,arguments);$==null?this.removeAttributeNS(C.space,C.local):this.setAttributeNS(C.space,C.local,$)}:function(){var $=q.apply(this,arguments);$==null?this.removeAttribute(C):this.setAttribute(C,$)}:C.local?function(){this.setAttributeNS(C.space,C.local,q)}:function(){this.setAttribute(C,q)}}function Ae(C){return C.trim().replace(/\s+/g," ")}function ke(C){return new RegExp("(?:^|\\s+)"+r.requote(C)+"(?:\\s+|$)","g")}function fe(C){return(C+"").trim().split(/^|\s+/)}function le(C,q){var $=(C=fe(C).map(de)).length;return typeof q=="function"?function(){for(var ne=-1,he=q.apply(this,arguments);++ne<$;)C[ne](this,he)}:function(){for(var ne=-1;++ne<$;)C[ne](this,q)}}function de(C){var q=ke(C);return function($,ne){if(he=$.classList)return ne?he.add(C):he.remove(C);var he=$.getAttribute("class")||"";ne?(q.lastIndex=0,q.test(he)||$.setAttribute("class",Ae(he+" "+C))):$.setAttribute("class",Ae(he.replace(q," ")))}}function Ce(C,q,$){return q==null?function(){this.style.removeProperty(C)}:typeof q=="function"?function(){var ne=q.apply(this,arguments);ne==null?this.style.removeProperty(C):this.style.setProperty(C,ne,$)}:function(){this.style.setProperty(C,q,$)}}function Me(C,q){return q==null?function(){delete this[C]}:typeof q=="function"?function(){var $=q.apply(this,arguments);$==null?delete this[C]:this[C]=$}:function(){this[C]=q}}function Le(C){return typeof C=="function"?C:(C=r.ns.qualify(C)).local?function(){return this.ownerDocument.createElementNS(C.space,C.local)}:function(){var q=this.ownerDocument,$=this.namespaceURI;return $===we&&q.documentElement.namespaceURI===we?q.createElement(C):q.createElementNS($,C)}}function Oe(){var C=this.parentNode;C&&C.removeChild(this)}function Be(C){return{__data__:C}}function pe(C){return function(){return ce(this,C)}}function _e(C){return arguments.length||(C=u),function(q,$){return q&&$?C(q.__data__,$.__data__):!q-!$}}function Te(C,q){for(var $=0,ne=C.length;$<ne;$++)for(var he,xe=C[$],Pe=0,Fe=xe.length;Pe<Fe;Pe++)(he=xe[Pe])&&q(he,Pe,$);return C}function Re(C){return ee(C,Ne),C}r.ns={prefix:ye,qualify:function(C){var q=C.indexOf(":"),$=C;return q>=0&&($=C.slice(0,q))!=="xmlns"&&(C=C.slice(q+1)),ye.hasOwnProperty($)?{space:ye[$],local:C}:C}},ge.attr=function(C,q){if(arguments.length<2){if(typeof C=="string"){var $=this.node();return(C=r.ns.qualify(C)).local?$.getAttributeNS(C.space,C.local):$.getAttribute(C)}for(q in C)this.each(me(q,C[q]));return this}return this.each(me(C,q))},ge.classed=function(C,q){if(arguments.length<2){if(typeof C=="string"){var $=this.node(),ne=(C=fe(C)).length,he=-1;if(q=$.classList){for(;++he<ne;)if(!q.contains(C[he]))return!1}else for(q=$.getAttribute("class");++he<ne;)if(!ke(C[he]).test(q))return!1;return!0}for(q in C)this.each(le(q,C[q]));return this}return this.each(le(C,q))},ge.style=function(C,q,$){var ne=arguments.length;if(ne<3){if(typeof C!="string"){for($ in ne<2&&(q=""),C)this.each(Ce($,C[$],q));return this}if(ne<2){var he=this.node();return t(he).getComputedStyle(he,null).getPropertyValue(C)}$=""}return this.each(Ce(C,q,$))},ge.property=function(C,q){if(arguments.length<2){if(typeof C=="string")return this.node()[C];for(q in C)this.each(Me(q,C[q]));return this}return this.each(Me(C,q))},ge.text=function(C){return arguments.length?this.each(typeof C=="function"?function(){var q=C.apply(this,arguments);this.textContent=q??""}:C==null?function(){this.textContent=""}:function(){this.textContent=C}):this.node().textContent},ge.html=function(C){return arguments.length?this.each(typeof C=="function"?function(){var q=C.apply(this,arguments);this.innerHTML=q??""}:C==null?function(){this.innerHTML=""}:function(){this.innerHTML=C}):this.node().innerHTML},ge.append=function(C){return C=Le(C),this.select(function(){return this.appendChild(C.apply(this,arguments))})},ge.insert=function(C,q){return C=Le(C),q=ve(q),this.select(function(){return this.insertBefore(C.apply(this,arguments),q.apply(this,arguments)||null)})},ge.remove=function(){return this.each(Oe)},ge.data=function(C,q){var $,ne,he=-1,xe=this.length;if(!arguments.length){for(C=new Array(xe=($=this[0]).length);++he<xe;)(ne=$[he])&&(C[he]=ne.__data__);return C}function Pe(it,pt){var vt,Mt,Ct,Et=it.length,jt=pt.length,zt=Math.min(Et,jt),Qt=new Array(jt),Wt=new Array(jt),Vt=new Array(Et);if(q){var gn,xn=new x,On=new Array(Et);for(vt=-1;++vt<Et;)(Mt=it[vt])&&(xn.has(gn=q.call(Mt,Mt.__data__,vt))?Vt[vt]=Mt:xn.set(gn,Mt),On[vt]=gn);for(vt=-1;++vt<jt;)(Mt=xn.get(gn=q.call(pt,Ct=pt[vt],vt)))?Mt!==!0&&(Qt[vt]=Mt,Mt.__data__=Ct):Wt[vt]=Be(Ct),xn.set(gn,!0);for(vt=-1;++vt<Et;)vt in On&&xn.get(On[vt])!==!0&&(Vt[vt]=it[vt])}else{for(vt=-1;++vt<zt;)Mt=it[vt],Ct=pt[vt],Mt?(Mt.__data__=Ct,Qt[vt]=Mt):Wt[vt]=Be(Ct);for(;vt<jt;++vt)Wt[vt]=Be(pt[vt]);for(;vt<Et;++vt)Vt[vt]=it[vt]}Wt.update=Qt,Wt.parentNode=Qt.parentNode=Vt.parentNode=it.parentNode,Fe.push(Wt),qe.push(Qt),Ze.push(Vt)}var Fe=Re([]),qe=ie([]),Ze=ie([]);if(typeof C=="function")for(;++he<xe;)Pe($=this[he],C.call($,$.parentNode.__data__,he));else for(;++he<xe;)Pe($=this[he],C);return qe.enter=function(){return Fe},qe.exit=function(){return Ze},qe},ge.datum=function(C){return arguments.length?this.property("__data__",C):this.property("__data__")},ge.filter=function(C){var q,$,ne,he=[];typeof C!="function"&&(C=pe(C));for(var xe=0,Pe=this.length;xe<Pe;xe++){he.push(q=[]),q.parentNode=($=this[xe]).parentNode;for(var Fe=0,qe=$.length;Fe<qe;Fe++)(ne=$[Fe])&&C.call(ne,ne.__data__,Fe,xe)&&q.push(ne)}return ie(he)},ge.order=function(){for(var C=-1,q=this.length;++C<q;)for(var $,ne=this[C],he=ne.length-1,xe=ne[he];--he>=0;)($=ne[he])&&(xe&&xe!==$.nextSibling&&xe.parentNode.insertBefore($,xe),xe=$);return this},ge.sort=function(C){C=_e.apply(this,arguments);for(var q=-1,$=this.length;++q<$;)this[q].sort(C);return this.order()},ge.each=function(C){return Te(this,function(q,$,ne){C.call(q,q.__data__,$,ne)})},ge.call=function(C){var q=v(arguments);return C.apply(q[0]=this,q),this},ge.empty=function(){return!this.node()},ge.node=function(){for(var C=0,q=this.length;C<q;C++)for(var $=this[C],ne=0,he=$.length;ne<he;ne++){var xe=$[ne];if(xe)return xe}return null},ge.size=function(){var C=0;return Te(this,function(){++C}),C};var Ne=[];function ze(C,q,$){var ne="__on"+C,he=C.indexOf("."),xe=Ye;he>0&&(C=C.slice(0,he));var Pe=Ge.get(C);function Fe(){var qe=this[ne];qe&&(this.removeEventListener(C,qe,qe.$),delete this[ne])}return Pe&&(C=Pe,xe=et),he?q?function(){var qe=xe(q,v(arguments));Fe.call(this),this.addEventListener(C,this[ne]=qe,qe.$=$),qe._=q}:Fe:q?V:function(){var qe,Ze=new RegExp("^__on([^.]+)"+r.requote(C)+"$");for(var it in this)if(qe=it.match(Ze)){var pt=this[it];this.removeEventListener(qe[1],pt,pt.$),delete this[it]}}}r.selection.enter=Re,r.selection.enter.prototype=Ne,Ne.append=ge.append,Ne.empty=ge.empty,Ne.node=ge.node,Ne.call=ge.call,Ne.size=ge.size,Ne.select=function(C){for(var q,$,ne,he,xe,Pe=[],Fe=-1,qe=this.length;++Fe<qe;){ne=(he=this[Fe]).update,Pe.push(q=[]),q.parentNode=he.parentNode;for(var Ze=-1,it=he.length;++Ze<it;)(xe=he[Ze])?(q.push(ne[Ze]=$=C.call(he.parentNode,xe.__data__,Ze,Fe)),$.__data__=xe.__data__):q.push(null)}return ie(Pe)},Ne.insert=function(C,q){var $,ne,he;return arguments.length<2&&($=this,q=function(xe,Pe,Fe){var qe,Ze=$[Fe].update,it=Ze.length;for(Fe!=he&&(he=Fe,ne=0),Pe>=ne&&(ne=Pe+1);!(qe=Ze[ne])&&++ne<it;);return qe}),ge.insert.call(this,C,q)},r.select=function(C){var q;return typeof C=="string"?(q=[oe(C,f)]).parentNode=f.documentElement:(q=[C]).parentNode=s(C),ie([q])},r.selectAll=function(C){var q;return typeof C=="string"?(q=v(ae(C,f))).parentNode=f.documentElement:(q=v(C)).parentNode=null,ie([q])},ge.on=function(C,q,$){var ne=arguments.length;if(ne<3){if(typeof C!="string"){for($ in ne<2&&(q=!1),C)this.each(ze($,C[$],q));return this}if(ne<2)return(ne=this.node()["__on"+C])&&ne._;$=!1}return this.each(ze(C,q,$))};var Ge=r.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Ye(C,q){return function($){var ne=r.event;r.event=$,q[0]=this.__data__;try{C.apply(this,q)}finally{r.event=ne}}}function et(C,q){var $=Ye(C,q);return function(ne){var he=this,xe=ne.relatedTarget;xe&&(xe===he||8&xe.compareDocumentPosition(he))||$.call(he,ne)}}f&&Ge.forEach(function(C){"on"+C in f&&Ge.remove(C)});var ut,ot=0;function yt(C){var q=".dragsuppress-"+ ++ot,$="click"+q,ne=r.select(t(C)).on("touchmove"+q,Q).on("dragstart"+q,Q).on("selectstart"+q,Q);if(ut==null&&(ut=!("onselectstart"in C)&&W(C.style,"userSelect")),ut){var he=s(C).style,xe=he[ut];he[ut]="none"}return function(Pe){if(ne.on(q,null),ut&&(he[ut]=xe),Pe){var Fe=function(){ne.on($,null)};ne.on($,function(){Q(),Fe()},!0),setTimeout(Fe,0)}}}r.mouse=function(C){return bt(C,K())};var wt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function bt(C,q){q.changedTouches&&(q=q.changedTouches[0]);var $=C.ownerSVGElement||C;if($.createSVGPoint){var ne=$.createSVGPoint();if(wt<0){var he=t(C);if(he.scrollX||he.scrollY){var xe=($=r.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();wt=!(xe.f||xe.e),$.remove()}}return wt?(ne.x=q.pageX,ne.y=q.pageY):(ne.x=q.clientX,ne.y=q.clientY),[(ne=ne.matrixTransform(C.getScreenCTM().inverse())).x,ne.y]}var Pe=C.getBoundingClientRect();return[q.clientX-Pe.left-C.clientLeft,q.clientY-Pe.top-C.clientTop]}function at(){return r.event.changedTouches[0].identifier}r.touch=function(C,q,$){if(arguments.length<3&&($=q,q=K().changedTouches),q){for(var ne,he=0,xe=q.length;he<xe;++he)if((ne=q[he]).identifier===$)return bt(C,ne)}},r.behavior.drag=function(){var C=X(he,"drag","dragstart","dragend"),q=null,$=xe(V,r.mouse,t,"mousemove","mouseup"),ne=xe(at,r.touch,z,"touchmove","touchend");function he(){this.on("mousedown.drag",$).on("touchstart.drag",ne)}function xe(Pe,Fe,qe,Ze,it){return function(){var pt,vt=this,Mt=r.event.target.correspondingElement||r.event.target,Ct=vt.parentNode,Et=C.of(vt,arguments),jt=0,zt=Pe(),Qt=".drag"+(zt==null?"":"-"+zt),Wt=r.select(qe(Mt)).on(Ze+Qt,function(){var xn,On,Dn=Fe(Ct,zt);Dn&&(xn=Dn[0]-gn[0],On=Dn[1]-gn[1],jt|=xn|On,gn=Dn,Et({type:"drag",x:Dn[0]+pt[0],y:Dn[1]+pt[1],dx:xn,dy:On}))}).on(it+Qt,function(){Fe(Ct,zt)&&(Wt.on(Ze+Qt,null).on(it+Qt,null),Vt(jt),Et({type:"dragend"}))}),Vt=yt(Mt),gn=Fe(Ct,zt);pt=q?[(pt=q.apply(vt,arguments)).x-gn[0],pt.y-gn[1]]:[0,0],Et({type:"dragstart"})}}return he.origin=function(Pe){return arguments.length?(q=Pe,he):q},r.rebind(he,C,"on")},r.touches=function(C,q){return arguments.length<2&&(q=K().touches),q?v(q).map(function($){var ne=bt(C,$);return ne.identifier=$.identifier,ne}):[]};var rt=1e-6,At=rt*rt,Rt=Math.PI,Ft=2*Rt,Dt=Ft-rt,Xe=Rt/2,Ke=Rt/180,Ve=180/Rt;function Je(C){return C>1?Xe:C<-1?-Xe:Math.asin(C)}function ct(C){return((C=Math.exp(C))+1/C)/2}var st=Math.SQRT2;r.interpolateZoom=function(C,q){var $,ne,he=C[0],xe=C[1],Pe=C[2],Fe=q[0],qe=q[1],Ze=q[2],it=Fe-he,pt=qe-xe,vt=it*it+pt*pt;if(vt<At)ne=Math.log(Ze/Pe)/st,$=function(Qt){return[he+Qt*it,xe+Qt*pt,Pe*Math.exp(st*Qt*ne)]};else{var Mt=Math.sqrt(vt),Ct=(Ze*Ze-Pe*Pe+4*vt)/(2*Pe*2*Mt),Et=(Ze*Ze-Pe*Pe-4*vt)/(2*Ze*2*Mt),jt=Math.log(Math.sqrt(Ct*Ct+1)-Ct),zt=Math.log(Math.sqrt(Et*Et+1)-Et);ne=(zt-jt)/st,$=function(Qt){var Wt,Vt=Qt*ne,gn=ct(jt),xn=Pe/(2*Mt)*(gn*(Wt=st*Vt+jt,((Wt=Math.exp(2*Wt))-1)/(Wt+1))-function(On){return((On=Math.exp(On))-1/On)/2}(jt));return[he+xn*it,xe+xn*pt,Pe*gn/ct(st*Vt+jt)]}}return $.duration=1e3*ne,$},r.behavior.zoom=function(){var C,q,$,ne,he,xe,Pe,Fe,qe,Ze={x:0,y:0,k:1},it=[960,500],pt=lt,vt=250,Mt=0,Ct="mousedown.zoom",Et="mousemove.zoom",jt="mouseup.zoom",zt="touchstart.zoom",Qt=X(Wt,"zoomstart","zoom","zoomend");function Wt(rr){rr.on(Ct,Jn).on(Ue+".zoom",kr).on("dblclick.zoom",Rr).on(zt,dr)}function Vt(rr){return[(rr[0]-Ze.x)/Ze.k,(rr[1]-Ze.y)/Ze.k]}function gn(rr){Ze.k=Math.max(pt[0],Math.min(pt[1],rr))}function xn(rr,pr){pr=function(Er){return[Er[0]*Ze.k+Ze.x,Er[1]*Ze.k+Ze.y]}(pr),Ze.x+=rr[0]-pr[0],Ze.y+=rr[1]-pr[1]}function On(rr,pr,Er,mr){rr.__chart__={x:Ze.x,y:Ze.y,k:Ze.k},gn(Math.pow(2,mr)),xn(q=pr,Er),rr=r.select(rr),vt>0&&(rr=rr.transition().duration(vt)),rr.call(Wt.event)}function Dn(){Pe&&Pe.domain(xe.range().map(function(rr){return(rr-Ze.x)/Ze.k}).map(xe.invert)),qe&&qe.domain(Fe.range().map(function(rr){return(rr-Ze.y)/Ze.k}).map(Fe.invert))}function Wn(rr){Mt++||rr({type:"zoomstart"})}function ar(rr){Dn(),rr({type:"zoom",scale:Ze.k,translate:[Ze.x,Ze.y]})}function vr(rr){--Mt||(rr({type:"zoomend"}),q=null)}function Jn(){var rr=this,pr=Qt.of(rr,arguments),Er=0,mr=r.select(t(rr)).on(Et,function(){Er=1,xn(r.mouse(rr),Dr),ar(pr)}).on(jt,function(){mr.on(Et,null).on(jt,null),jr(Er),vr(pr)}),Dr=Vt(r.mouse(rr)),jr=yt(rr);ao.call(rr),Wn(pr)}function dr(){var rr,pr=this,Er=Qt.of(pr,arguments),mr={},Dr=0,jr=".zoom-"+r.event.changedTouches[0].identifier,Xr="touchmove"+jr,Kr="touchend"+jr,ni=[],ai=r.select(pr),Li=yt(pr);function Ki(){var Ri=r.touches(pr);return rr=Ze.k,Ri.forEach(function(si){si.identifier in mr&&(mr[si.identifier]=Vt(si))}),Ri}function Pa(){var Ri=r.event.target;r.select(Ri).on(Xr,pa).on(Kr,Ma),ni.push(Ri);for(var si=r.event.changedTouches,Hi=0,wi=si.length;Hi<wi;++Hi)mr[si[Hi].identifier]=null;var hi=Ki(),qi=Date.now();if(hi.length===1){if(qi-he<500){var Qi=hi[0];On(pr,Qi,mr[Qi.identifier],Math.floor(Math.log(Ze.k)/Math.LN2)+1),Q()}he=qi}else if(hi.length>1){Qi=hi[0];var la=hi[1],al=Qi[0]-la[0],ol=Qi[1]-la[1];Dr=al*al+ol*ol}}function pa(){var Ri,si,Hi,wi,hi=r.touches(pr);ao.call(pr);for(var qi=0,Qi=hi.length;qi<Qi;++qi,wi=null)if(Hi=hi[qi],wi=mr[Hi.identifier]){if(si)break;Ri=Hi,si=wi}if(wi){var la=(la=Hi[0]-Ri[0])*la+(la=Hi[1]-Ri[1])*la,al=Dr&&Math.sqrt(la/Dr);Ri=[(Ri[0]+Hi[0])/2,(Ri[1]+Hi[1])/2],si=[(si[0]+wi[0])/2,(si[1]+wi[1])/2],gn(al*rr)}he=null,xn(Ri,si),ar(Er)}function Ma(){if(r.event.touches.length){for(var Ri=r.event.changedTouches,si=0,Hi=Ri.length;si<Hi;++si)delete mr[Ri[si].identifier];for(var wi in mr)return void Ki()}r.selectAll(ni).on(jr,null),ai.on(Ct,Jn).on(zt,dr),Li(),vr(Er)}Pa(),Wn(Er),ai.on(Ct,null).on(zt,Pa)}function kr(){var rr=Qt.of(this,arguments);ne?clearTimeout(ne):(ao.call(this),C=Vt(q=$||r.mouse(this)),Wn(rr)),ne=setTimeout(function(){ne=null,vr(rr)},50),Q(),gn(Math.pow(2,.002*je())*Ze.k),xn(q,C),ar(rr)}function Rr(){var rr=r.mouse(this),pr=Math.log(Ze.k)/Math.LN2;On(this,rr,Vt(rr),r.event.shiftKey?Math.ceil(pr)-1:Math.floor(pr)+1)}return Ue||(Ue="onwheel"in f?(je=function(){return-r.event.deltaY*(r.event.deltaMode?120:1)},"wheel"):"onmousewheel"in f?(je=function(){return r.event.wheelDelta},"mousewheel"):(je=function(){return-r.event.detail},"MozMousePixelScroll")),Wt.event=function(rr){rr.each(function(){var pr=Qt.of(this,arguments),Er=Ze;na?r.select(this).transition().each("start.zoom",function(){Ze=this.__chart__||{x:0,y:0,k:1},Wn(pr)}).tween("zoom:zoom",function(){var mr=it[0],Dr=it[1],jr=q?q[0]:mr/2,Xr=q?q[1]:Dr/2,Kr=r.interpolateZoom([(jr-Ze.x)/Ze.k,(Xr-Ze.y)/Ze.k,mr/Ze.k],[(jr-Er.x)/Er.k,(Xr-Er.y)/Er.k,mr/Er.k]);return function(ni){var ai=Kr(ni),Li=mr/ai[2];this.__chart__=Ze={x:jr-ai[0]*Li,y:Xr-ai[1]*Li,k:Li},ar(pr)}}).each("interrupt.zoom",function(){vr(pr)}).each("end.zoom",function(){vr(pr)}):(this.__chart__=Ze,Wn(pr),ar(pr),vr(pr))})},Wt.translate=function(rr){return arguments.length?(Ze={x:+rr[0],y:+rr[1],k:Ze.k},Dn(),Wt):[Ze.x,Ze.y]},Wt.scale=function(rr){return arguments.length?(Ze={x:Ze.x,y:Ze.y,k:null},gn(+rr),Dn(),Wt):Ze.k},Wt.scaleExtent=function(rr){return arguments.length?(pt=rr==null?lt:[+rr[0],+rr[1]],Wt):pt},Wt.center=function(rr){return arguments.length?($=rr&&[+rr[0],+rr[1]],Wt):$},Wt.size=function(rr){return arguments.length?(it=rr&&[+rr[0],+rr[1]],Wt):it},Wt.duration=function(rr){return arguments.length?(vt=+rr,Wt):vt},Wt.x=function(rr){return arguments.length?(Pe=rr,xe=rr.copy(),Ze={x:0,y:0,k:1},Wt):Pe},Wt.y=function(rr){return arguments.length?(qe=rr,Fe=rr.copy(),Ze={x:0,y:0,k:1},Wt):qe},r.rebind(Wt,Qt,"on")};var je,Ue,lt=[0,1/0];function Qe(){}function gt(C,q,$){return this instanceof gt?(this.h=+C,this.s=+q,void(this.l=+$)):arguments.length<2?C instanceof gt?new gt(C.h,C.s,C.l):hn(""+C,kn,gt):new gt(C,q,$)}r.color=Qe,Qe.prototype.toString=function(){return this.rgb()+""},r.hsl=gt;var mt=gt.prototype=new Qe;function xt(C,q,$){var ne,he;function xe(Pe){return Math.round(255*function(Fe){return Fe>360?Fe-=360:Fe<0&&(Fe+=360),Fe<60?ne+(he-ne)*Fe/60:Fe<180?he:Fe<240?ne+(he-ne)*(240-Fe)/60:ne}(Pe))}return C=isNaN(C)?0:(C%=360)<0?C+360:C,q=isNaN(q)||q<0?0:q>1?1:q,ne=2*($=$<0?0:$>1?1:$)-(he=$<=.5?$*(1+q):$+q-$*q),new An(xe(C+120),xe(C),xe(C-120))}function dt(C,q,$){return this instanceof dt?(this.h=+C,this.c=+q,void(this.l=+$)):arguments.length<2?C instanceof dt?new dt(C.h,C.c,C.l):function(ne,he,xe){return ne>0?new dt(Math.atan2(xe,he)*Ve,Math.sqrt(he*he+xe*xe),ne):new dt(NaN,NaN,ne)}(C instanceof _t?C.l:(C=Sn((C=r.rgb(C)).r,C.g,C.b)).l,C.a,C.b):new dt(C,q,$)}mt.brighter=function(C){return C=Math.pow(.7,arguments.length?C:1),new gt(this.h,this.s,this.l/C)},mt.darker=function(C){return C=Math.pow(.7,arguments.length?C:1),new gt(this.h,this.s,C*this.l)},mt.rgb=function(){return xt(this.h,this.s,this.l)},r.hcl=dt;var Lt=dt.prototype=new Qe;function kt(C,q,$){return isNaN(C)&&(C=0),isNaN(q)&&(q=0),new _t($,Math.cos(C*=Ke)*q,Math.sin(C)*q)}function _t(C,q,$){return this instanceof _t?(this.l=+C,this.a=+q,void(this.b=+$)):arguments.length<2?C instanceof _t?new _t(C.l,C.a,C.b):C instanceof dt?kt(C.h,C.c,C.l):Sn((C=An(C)).r,C.g,C.b):new _t(C,q,$)}Lt.brighter=function(C){return new dt(this.h,this.c,Math.min(100,this.l+Ot*(arguments.length?C:1)))},Lt.darker=function(C){return new dt(this.h,this.c,Math.max(0,this.l-Ot*(arguments.length?C:1)))},Lt.rgb=function(){return kt(this.h,this.c,this.l).rgb()},r.lab=_t;var Ot=18,Pt=.95047,Bt=1,Jt=1.08883,on=_t.prototype=new Qe;function qt(C,q,$){var ne=(C+16)/116,he=ne+q/500,xe=ne-$/200;return new An(Cn(3.2404542*(he=Gt(he)*Pt)-1.5371385*(ne=Gt(ne)*Bt)-.4985314*(xe=Gt(xe)*Jt)),Cn(-.969266*he+1.8760108*ne+.041556*xe),Cn(.0556434*he-.2040259*ne+1.0572252*xe))}function Gt(C){return C>.206893034?C*C*C:(C-.13793103448275862)/7.787037}function nn(C){return C>.008856?Math.pow(C,.3333333333333333):7.787037*C+.13793103448275862}function Cn(C){return Math.round(255*(C<=.00304?12.92*C:1.055*Math.pow(C,.4166666666666667)-.055))}function An(C,q,$){return this instanceof An?(this.r=~~C,this.g=~~q,void(this.b=~~$)):arguments.length<2?C instanceof An?new An(C.r,C.g,C.b):hn(""+C,An,xt):new An(C,q,$)}function dn(C){return new An(C>>16,C>>8&255,255&C)}function Kt(C){return dn(C)+""}on.brighter=function(C){return new _t(Math.min(100,this.l+Ot*(arguments.length?C:1)),this.a,this.b)},on.darker=function(C){return new _t(Math.max(0,this.l-Ot*(arguments.length?C:1)),this.a,this.b)},on.rgb=function(){return qt(this.l,this.a,this.b)},r.rgb=An;var un=An.prototype=new Qe;function rn(C){return C<16?"0"+Math.max(0,C).toString(16):Math.min(255,C).toString(16)}function hn(C,q,$){var ne,he,xe,Pe=0,Fe=0,qe=0;if(ne=/([a-z]+)\((.*)\)/.exec(C=C.toLowerCase()))switch(he=ne[2].split(","),ne[1]){case"hsl":return $(parseFloat(he[0]),parseFloat(he[1])/100,parseFloat(he[2])/100);case"rgb":return q(zn(he[0]),zn(he[1]),zn(he[2]))}return(xe=Pn.get(C))?q(xe.r,xe.g,xe.b):(C==null||C.charAt(0)!=="#"||isNaN(xe=parseInt(C.slice(1),16))||(C.length===4?(Pe=(3840&xe)>>4,Pe|=Pe>>4,Fe=240&xe,Fe|=Fe>>4,qe=15&xe,qe|=qe<<4):C.length===7&&(Pe=(16711680&xe)>>16,Fe=(65280&xe)>>8,qe=255&xe)),q(Pe,Fe,qe))}function kn(C,q,$){var ne,he,xe=Math.min(C/=255,q/=255,$/=255),Pe=Math.max(C,q,$),Fe=Pe-xe,qe=(Pe+xe)/2;return Fe?(he=qe<.5?Fe/(Pe+xe):Fe/(2-Pe-xe),ne=C==Pe?(q-$)/Fe+(q<$?6:0):q==Pe?($-C)/Fe+2:(C-q)/Fe+4,ne*=60):(ne=NaN,he=qe>0&&qe<1?0:ne),new gt(ne,he,qe)}function Sn(C,q,$){var ne=nn((.4124564*(C=Rn(C))+.3575761*(q=Rn(q))+.1804375*($=Rn($)))/Pt),he=nn((.2126729*C+.7151522*q+.072175*$)/Bt);return _t(116*he-16,500*(ne-he),200*(he-nn((.0193339*C+.119192*q+.9503041*$)/Jt)))}function Rn(C){return(C/=255)<=.04045?C/12.92:Math.pow((C+.055)/1.055,2.4)}function zn(C){var q=parseFloat(C);return C.charAt(C.length-1)==="%"?Math.round(2.55*q):q}un.brighter=function(C){C=Math.pow(.7,arguments.length?C:1);var q=this.r,$=this.g,ne=this.b,he=30;return q||$||ne?(q&&q<he&&(q=he),$&&$<he&&($=he),ne&&ne<he&&(ne=he),new An(Math.min(255,q/C),Math.min(255,$/C),Math.min(255,ne/C))):new An(he,he,he)},un.darker=function(C){return new An((C=Math.pow(.7,arguments.length?C:1))*this.r,C*this.g,C*this.b)},un.hsl=function(){return kn(this.r,this.g,this.b)},un.toString=function(){return"#"+rn(this.r)+rn(this.g)+rn(this.b)};var Pn=r.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Gn(C){return typeof C=="function"?C:function(){return C}}function Nn(C){return function(q,$,ne){return arguments.length===2&&typeof $=="function"&&(ne=$,$=null),or(q,$,C,ne)}}function or(C,q,$,ne){var he={},xe=r.dispatch("beforesend","progress","load","error"),Pe={},Fe=new XMLHttpRequest,qe=null;function Ze(){var it,pt=Fe.status;if(!pt&&function(vt){var Mt=vt.responseType;return Mt&&Mt!=="text"?vt.response:vt.responseText}(Fe)||pt>=200&&pt<300||pt===304){try{it=$.call(he,Fe)}catch(vt){return void xe.error.call(he,vt)}xe.load.call(he,it)}else xe.error.call(he,Fe)}return self.XDomainRequest&&!("withCredentials"in Fe)&&/^(http(s)?:)?\/\//.test(C)&&(Fe=new XDomainRequest),"onload"in Fe?Fe.onload=Fe.onerror=Ze:Fe.onreadystatechange=function(){Fe.readyState>3&&Ze()},Fe.onprogress=function(it){var pt=r.event;r.event=it;try{xe.progress.call(he,Fe)}finally{r.event=pt}},he.header=function(it,pt){return it=(it+"").toLowerCase(),arguments.length<2?Pe[it]:(pt==null?delete Pe[it]:Pe[it]=pt+"",he)},he.mimeType=function(it){return arguments.length?(q=it==null?null:it+"",he):q},he.responseType=function(it){return arguments.length?(qe=it,he):qe},he.response=function(it){return $=it,he},["get","post"].forEach(function(it){he[it]=function(){return he.send.apply(he,[it].concat(v(arguments)))}}),he.send=function(it,pt,vt){if(arguments.length===2&&typeof pt=="function"&&(vt=pt,pt=null),Fe.open(it,C,!0),q==null||"accept"in Pe||(Pe.accept=q+",*/*"),Fe.setRequestHeader)for(var Mt in Pe)Fe.setRequestHeader(Mt,Pe[Mt]);return q!=null&&Fe.overrideMimeType&&Fe.overrideMimeType(q),qe!=null&&(Fe.responseType=qe),vt!=null&&he.on("error",vt).on("load",function(Ct){vt(null,Ct)}),xe.beforesend.call(he,Fe),Fe.send(pt??null),he},he.abort=function(){return Fe.abort(),he},r.rebind(he,xe,"on"),ne==null?he:he.get(function(it){return it.length===1?function(pt,vt){it(pt==null?vt:null)}:it}(ne))}Pn.forEach(function(C,q){Pn.set(C,dn(q))}),r.functor=Gn,r.xhr=Nn(z),r.dsv=function(C,q){var $=new RegExp('["'+C+`
]`),ne=C.charCodeAt(0);function he(Ze,it,pt){arguments.length<3&&(pt=it,it=null);var vt=or(Ze,q,it==null?xe:Pe(it),pt);return vt.row=function(Mt){return arguments.length?vt.response((it=Mt)==null?xe:Pe(Mt)):it},vt}function xe(Ze){return he.parse(Ze.responseText)}function Pe(Ze){return function(it){return he.parse(it.responseText,Ze)}}function Fe(Ze){return Ze.map(qe).join(C)}function qe(Ze){return $.test(Ze)?'"'+Ze.replace(/\"/g,'""')+'"':Ze}return he.parse=function(Ze,it){var pt;return he.parseRows(Ze,function(vt,Mt){if(pt)return pt(vt,Mt-1);var Ct=function(Et){for(var jt={},zt=vt.length,Qt=0;Qt<zt;++Qt)jt[vt[Qt]]=Et[Qt];return jt};pt=it?function(Et,jt){return it(Ct(Et),jt)}:Ct})},he.parseRows=function(Ze,it){var pt,vt,Mt={},Ct={},Et=[],jt=Ze.length,zt=0,Qt=0;function Wt(){if(zt>=jt)return Ct;if(vt)return vt=!1,Mt;var gn=zt;if(Ze.charCodeAt(gn)===34){for(var xn=gn;xn++<jt;)if(Ze.charCodeAt(xn)===34){if(Ze.charCodeAt(xn+1)!==34)break;++xn}return zt=xn+2,(On=Ze.charCodeAt(xn+1))===13?(vt=!0,Ze.charCodeAt(xn+2)===10&&++zt):On===10&&(vt=!0),Ze.slice(gn+1,xn).replace(/""/g,'"')}for(;zt<jt;){var On,Dn=1;if((On=Ze.charCodeAt(zt++))===10)vt=!0;else if(On===13)vt=!0,Ze.charCodeAt(zt)===10&&(++zt,++Dn);else if(On!==ne)continue;return Ze.slice(gn,zt-Dn)}return Ze.slice(gn)}for(;(pt=Wt())!==Ct;){for(var Vt=[];pt!==Mt&&pt!==Ct;)Vt.push(pt),pt=Wt();it&&(Vt=it(Vt,Qt++))==null||Et.push(Vt)}return Et},he.format=function(Ze){if(Array.isArray(Ze[0]))return he.formatRows(Ze);var it=new U,pt=[];return Ze.forEach(function(vt){for(var Mt in vt)it.has(Mt)||pt.push(it.add(Mt))}),[pt.map(qe).join(C)].concat(Ze.map(function(vt){return pt.map(function(Mt){return qe(vt[Mt])}).join(C)})).join(`
`)},he.formatRows=function(Ze){return Ze.map(Fe).join(`
`)},he},r.csv=r.dsv(",","text/csv"),r.tsv=r.dsv("	","text/tab-separated-values");var lr,cr,$n,Ar,Ht=this[W(this,"requestAnimationFrame")]||function(C){setTimeout(C,17)};function an(C,q,$){var ne=arguments.length;ne<2&&(q=0),ne<3&&($=Date.now());var he={c:C,t:$+q,n:null};return cr?cr.n=he:lr=he,cr=he,$n||(Ar=clearTimeout(Ar),$n=1,Ht(_n)),he}function _n(){var C=vn(),q=En()-C;q>24?(isFinite(q)&&(clearTimeout(Ar),Ar=setTimeout(_n,q)),$n=0):($n=1,Ht(_n))}function vn(){for(var C=Date.now(),q=lr;q;)C>=q.t&&q.c(C-q.t)&&(q.c=null),q=q.n;return C}function En(){for(var C,q=lr,$=1/0;q;)q.c?(q.t<$&&($=q.t),q=(C=q).n):q=C?C.n=q.n:lr=q.n;return cr=C,$}function Yn(C){return C[0]}function Fn(C){return C[1]}function jn(C){for(var q,$,ne,he=C.length,xe=[0,1],Pe=2,Fe=2;Fe<he;Fe++){for(;Pe>1&&(q=C[xe[Pe-2]],$=C[xe[Pe-1]],ne=C[Fe],($[0]-q[0])*(ne[1]-q[1])-($[1]-q[1])*(ne[0]-q[0])<=0);)--Pe;xe[Pe++]=Fe}return xe.slice(0,Pe)}function ir(C,q){return C[0]-q[0]||C[1]-q[1]}r.timer=function(){an.apply(this,arguments)},r.timer.flush=function(){vn(),En()},r.round=function(C,q){return q?Math.round(C*(q=Math.pow(10,q)))/q:Math.round(C)},r.geom={},r.geom.hull=function(C){var q=Yn,$=Fn;if(arguments.length)return ne(C);function ne(he){if(he.length<3)return[];var xe,Pe=Gn(q),Fe=Gn($),qe=he.length,Ze=[],it=[];for(xe=0;xe<qe;xe++)Ze.push([+Pe.call(this,he[xe],xe),+Fe.call(this,he[xe],xe),xe]);for(Ze.sort(ir),xe=0;xe<qe;xe++)it.push([Ze[xe][0],-Ze[xe][1]]);var pt=jn(Ze),vt=jn(it),Mt=vt[0]===pt[0],Ct=vt[vt.length-1]===pt[pt.length-1],Et=[];for(xe=pt.length-1;xe>=0;--xe)Et.push(he[Ze[pt[xe]][2]]);for(xe=+Mt;xe<vt.length-Ct;++xe)Et.push(he[Ze[vt[xe]][2]]);return Et}return ne.x=function(he){return arguments.length?(q=he,ne):q},ne.y=function(he){return arguments.length?($=he,ne):$},ne},r.geom.polygon=function(C){return ee(C,Zt),C};var Zt=r.geom.polygon.prototype=[];function mn(C,q,$){return($[0]-q[0])*(C[1]-q[1])<($[1]-q[1])*(C[0]-q[0])}function It(C,q,$,ne){var he=C[0],xe=$[0],Pe=q[0]-he,Fe=ne[0]-xe,qe=C[1],Ze=$[1],it=q[1]-qe,pt=ne[1]-Ze,vt=(Fe*(qe-Ze)-pt*(he-xe))/(pt*Pe-Fe*it);return[he+vt*Pe,qe+vt*it]}function Xt(C){var q=C[0],$=C[C.length-1];return!(q[0]-$[0]||q[1]-$[1])}Zt.area=function(){for(var C,q=-1,$=this.length,ne=this[$-1],he=0;++q<$;)C=ne,ne=this[q],he+=C[1]*ne[0]-C[0]*ne[1];return .5*he},Zt.centroid=function(C){var q,$,ne=-1,he=this.length,xe=0,Pe=0,Fe=this[he-1];for(arguments.length||(C=-1/(6*this.area()));++ne<he;)q=Fe,Fe=this[ne],$=q[0]*Fe[1]-Fe[0]*q[1],xe+=(q[0]+Fe[0])*$,Pe+=(q[1]+Fe[1])*$;return[xe*C,Pe*C]},Zt.clip=function(C){for(var q,$,ne,he,xe,Pe,Fe=Xt(C),qe=-1,Ze=this.length-Xt(this),it=this[Ze-1];++qe<Ze;){for(q=C.slice(),C.length=0,he=this[qe],xe=q[(ne=q.length-Fe)-1],$=-1;++$<ne;)mn(Pe=q[$],it,he)?(mn(xe,it,he)||C.push(It(xe,Pe,it,he)),C.push(Pe)):mn(xe,it,he)&&C.push(It(xe,Pe,it,he)),xe=Pe;Fe&&C.push(C[0]),it=he}return C};var tn,bn,yn,Tn,fn,$t=[],en=[];function ln(){ki(this),this.edge=this.site=this.circle=null}function pn(C){var q=$t.pop()||new ln;return q.site=C,q}function Ln(C){yr(C),yn.remove(C),$t.push(C),ki(C)}function In(C){var q=C.circle,$=q.x,ne=q.cy,he={x:$,y:ne},xe=C.P,Pe=C.N,Fe=[C];Ln(C);for(var qe=xe;qe.circle&&m($-qe.circle.x)<rt&&m(ne-qe.circle.cy)<rt;)xe=qe.P,Fe.unshift(qe),Ln(qe),qe=xe;Fe.unshift(qe),yr(qe);for(var Ze=Pe;Ze.circle&&m($-Ze.circle.x)<rt&&m(ne-Ze.circle.cy)<rt;)Pe=Ze.N,Fe.push(Ze),Ln(Ze),Ze=Pe;Fe.push(Ze),yr(Ze);var it,pt=Fe.length;for(it=1;it<pt;++it)Ze=Fe[it],qe=Fe[it-1],br(Ze.edge,qe.site,Ze.site,he);qe=Fe[0],(Ze=Fe[pt-1]).edge=sr(qe.site,Ze.site,null,he),Qn(qe),Qn(Ze)}function Hn(C){for(var q,$,ne,he,xe=C.x,Pe=C.y,Fe=yn._;Fe;)if((ne=qn(Fe,Pe)-xe)>rt)Fe=Fe.L;else{if(!((he=xe-er(Fe,Pe))>rt)){ne>-rt?(q=Fe.P,$=Fe):he>-rt?(q=Fe,$=Fe.N):q=$=Fe;break}if(!Fe.R){q=Fe;break}Fe=Fe.R}var qe=pn(C);if(yn.insert(q,qe),q||$){if(q===$)return yr(q),$=pn(q.site),yn.insert(qe,$),qe.edge=$.edge=sr(q.site,qe.site),Qn(q),void Qn($);if($){yr(q),yr($);var Ze=q.site,it=Ze.x,pt=Ze.y,vt=C.x-it,Mt=C.y-pt,Ct=$.site,Et=Ct.x-it,jt=Ct.y-pt,zt=2*(vt*jt-Mt*Et),Qt=vt*vt+Mt*Mt,Wt=Et*Et+jt*jt,Vt={x:(jt*Qt-Mt*Wt)/zt+it,y:(vt*Wt-Et*Qt)/zt+pt};br($.edge,Ze,Ct,Vt),qe.edge=sr(Ze,C,null,Vt),$.edge=sr(C,Ct,null,Vt),Qn(q),Qn($)}else qe.edge=sr(q.site,qe.site)}}function qn(C,q){var $=C.site,ne=$.x,he=$.y,xe=he-q;if(!xe)return ne;var Pe=C.P;if(!Pe)return-1/0;var Fe=($=Pe.site).x,qe=$.y,Ze=qe-q;if(!Ze)return Fe;var it=Fe-ne,pt=1/xe-1/Ze,vt=it/Ze;return pt?(-vt+Math.sqrt(vt*vt-2*pt*(it*it/(-2*Ze)-qe+Ze/2+he-xe/2)))/pt+ne:(ne+Fe)/2}function er(C,q){var $=C.N;if($)return qn($,q);var ne=C.site;return ne.y===q?ne.x:1/0}function Zn(C){this.site=C,this.edges=[]}function tr(C,q){return q.angle-C.angle}function nr(){ki(this),this.x=this.y=this.arc=this.site=this.cy=null}function Qn(C){var q=C.P,$=C.N;if(q&&$){var ne=q.site,he=C.site,xe=$.site;if(ne!==xe){var Pe=he.x,Fe=he.y,qe=ne.x-Pe,Ze=ne.y-Fe,it=xe.x-Pe,pt=2*(qe*(jt=xe.y-Fe)-Ze*it);if(!(pt>=-At)){var vt=qe*qe+Ze*Ze,Mt=it*it+jt*jt,Ct=(jt*vt-Ze*Mt)/pt,Et=(qe*Mt-it*vt)/pt,jt=Et+Fe,zt=en.pop()||new nr;zt.arc=C,zt.site=he,zt.x=Ct+Pe,zt.y=jt+Math.sqrt(Ct*Ct+Et*Et),zt.cy=jt,C.circle=zt;for(var Qt=null,Wt=fn._;Wt;)if(zt.y<Wt.y||zt.y===Wt.y&&zt.x<=Wt.x){if(!Wt.L){Qt=Wt.P;break}Wt=Wt.L}else{if(!Wt.R){Qt=Wt;break}Wt=Wt.R}fn.insert(Qt,zt),Qt||(Tn=zt)}}}}function yr(C){var q=C.circle;q&&(q.P||(Tn=q.N),fn.remove(q),en.push(q),ki(q),C.circle=null)}function fr(C,q){var $=C.b;if($)return!0;var ne,he,xe=C.a,Pe=q[0][0],Fe=q[1][0],qe=q[0][1],Ze=q[1][1],it=C.l,pt=C.r,vt=it.x,Mt=it.y,Ct=pt.x,Et=pt.y,jt=(vt+Ct)/2,zt=(Mt+Et)/2;if(Et===Mt){if(jt<Pe||jt>=Fe)return;if(vt>Ct){if(xe){if(xe.y>=Ze)return}else xe={x:jt,y:qe};$={x:jt,y:Ze}}else{if(xe){if(xe.y<qe)return}else xe={x:jt,y:Ze};$={x:jt,y:qe}}}else if(he=zt-(ne=(vt-Ct)/(Et-Mt))*jt,ne<-1||ne>1)if(vt>Ct){if(xe){if(xe.y>=Ze)return}else xe={x:(qe-he)/ne,y:qe};$={x:(Ze-he)/ne,y:Ze}}else{if(xe){if(xe.y<qe)return}else xe={x:(Ze-he)/ne,y:Ze};$={x:(qe-he)/ne,y:qe}}else if(Mt<Et){if(xe){if(xe.x>=Fe)return}else xe={x:Pe,y:ne*Pe+he};$={x:Fe,y:ne*Fe+he}}else{if(xe){if(xe.x<Pe)return}else xe={x:Fe,y:ne*Fe+he};$={x:Pe,y:ne*Pe+he}}return C.a=xe,C.b=$,!0}function gr(C,q){this.l=C,this.r=q,this.a=this.b=null}function sr(C,q,$,ne){var he=new gr(C,q);return tn.push(he),$&&br(he,C,q,$),ne&&br(he,q,C,ne),bn[C.i].edges.push(new Pr(he,C,q)),bn[q.i].edges.push(new Pr(he,q,C)),he}function br(C,q,$,ne){C.a||C.b?C.l===$?C.b=ne:C.a=ne:(C.a=ne,C.l=q,C.r=$)}function Pr(C,q,$){var ne=C.a,he=C.b;this.edge=C,this.site=q,this.angle=$?Math.atan2($.y-q.y,$.x-q.x):C.l===q?Math.atan2(he.x-ne.x,ne.y-he.y):Math.atan2(ne.x-he.x,he.y-ne.y)}function Yr(){this._=null}function ki(C){C.U=C.C=C.L=C.R=C.P=C.N=null}function Ai(C,q){var $=q,ne=q.R,he=$.U;he?he.L===$?he.L=ne:he.R=ne:C._=ne,ne.U=he,$.U=ne,$.R=ne.L,$.R&&($.R.U=$),ne.L=$}function aa(C,q){var $=q,ne=q.L,he=$.U;he?he.L===$?he.L=ne:he.R=ne:C._=ne,ne.U=he,$.U=ne,$.L=ne.R,$.L&&($.L.U=$),ne.R=$}function bi(C){for(;C.L;)C=C.L;return C}function Ji(C,q){var $,ne,he,xe=C.sort(Ba).pop();for(tn=[],bn=new Array(C.length),yn=new Yr,fn=new Yr;;)if(he=Tn,xe&&(!he||xe.y<he.y||xe.y===he.y&&xe.x<he.x))xe.x===$&&xe.y===ne||(bn[xe.i]=new Zn(xe),Hn(xe),$=xe.x,ne=xe.y),xe=C.pop();else{if(!he)break;In(he.arc)}q&&(function(Fe){for(var qe,Ze,it,pt,vt,Mt=tn,Ct=(Ze=Fe[0][0],it=Fe[0][1],pt=Fe[1][0],vt=Fe[1][1],function(jt){var zt,Qt=jt.a,Wt=jt.b,Vt=Qt.x,gn=Qt.y,xn=0,On=1,Dn=Wt.x-Vt,Wn=Wt.y-gn;if(zt=Ze-Vt,Dn||!(zt>0)){if(zt/=Dn,Dn<0){if(zt<xn)return;zt<On&&(On=zt)}else if(Dn>0){if(zt>On)return;zt>xn&&(xn=zt)}if(zt=pt-Vt,Dn||!(zt<0)){if(zt/=Dn,Dn<0){if(zt>On)return;zt>xn&&(xn=zt)}else if(Dn>0){if(zt<xn)return;zt<On&&(On=zt)}if(zt=it-gn,Wn||!(zt>0)){if(zt/=Wn,Wn<0){if(zt<xn)return;zt<On&&(On=zt)}else if(Wn>0){if(zt>On)return;zt>xn&&(xn=zt)}if(zt=vt-gn,Wn||!(zt<0)){if(zt/=Wn,Wn<0){if(zt>On)return;zt>xn&&(xn=zt)}else if(Wn>0){if(zt<xn)return;zt<On&&(On=zt)}return xn>0&&(jt.a={x:Vt+xn*Dn,y:gn+xn*Wn}),On<1&&(jt.b={x:Vt+On*Dn,y:gn+On*Wn}),jt}}}}}),Et=Mt.length;Et--;)(!fr(qe=Mt[Et],Fe)||!Ct(qe)||m(qe.a.x-qe.b.x)<rt&&m(qe.a.y-qe.b.y)<rt)&&(qe.a=qe.b=null,Mt.splice(Et,1))}(q),function(Fe){for(var qe,Ze,it,pt,vt,Mt,Ct,Et,jt,zt,Qt=Fe[0][0],Wt=Fe[1][0],Vt=Fe[0][1],gn=Fe[1][1],xn=bn,On=xn.length;On--;)if((vt=xn[On])&&vt.prepare())for(Et=(Ct=vt.edges).length,Mt=0;Mt<Et;)it=(zt=Ct[Mt].end()).x,pt=zt.y,qe=(jt=Ct[++Mt%Et].start()).x,Ze=jt.y,(m(it-qe)>rt||m(pt-Ze)>rt)&&(Ct.splice(Mt,0,new Pr((Dn=vt.site,Wn=zt,ar=m(it-Qt)<rt&&gn-pt>rt?{x:Qt,y:m(qe-Qt)<rt?Ze:gn}:m(pt-gn)<rt&&Wt-it>rt?{x:m(Ze-gn)<rt?qe:Wt,y:gn}:m(it-Wt)<rt&&pt-Vt>rt?{x:Wt,y:m(qe-Wt)<rt?Ze:Vt}:m(pt-Vt)<rt&&it-Qt>rt?{x:m(Ze-Vt)<rt?qe:Qt,y:Vt}:null,vr=void 0,(vr=new gr(Dn,null)).a=Wn,vr.b=ar,tn.push(vr),vr),vt.site,null)),++Et);var Dn,Wn,ar,vr}(q));var Pe={cells:bn,edges:tn};return yn=fn=tn=bn=null,Pe}function Ba(C,q){return q.y-C.y||q.x-C.x}Zn.prototype.prepare=function(){for(var C,q=this.edges,$=q.length;$--;)(C=q[$].edge).b&&C.a||q.splice($,1);return q.sort(tr),q.length},Pr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Yr.prototype={insert:function(C,q){var $,ne,he;if(C){if(q.P=C,q.N=C.N,C.N&&(C.N.P=q),C.N=q,C.R){for(C=C.R;C.L;)C=C.L;C.L=q}else C.R=q;$=C}else this._?(C=bi(this._),q.P=null,q.N=C,C.P=C.L=q,$=C):(q.P=q.N=null,this._=q,$=null);for(q.L=q.R=null,q.U=$,q.C=!0,C=q;$&&$.C;)$===(ne=$.U).L?(he=ne.R)&&he.C?($.C=he.C=!1,ne.C=!0,C=ne):(C===$.R&&(Ai(this,$),$=(C=$).U),$.C=!1,ne.C=!0,aa(this,ne)):(he=ne.L)&&he.C?($.C=he.C=!1,ne.C=!0,C=ne):(C===$.L&&(aa(this,$),$=(C=$).U),$.C=!1,ne.C=!0,Ai(this,ne)),$=C.U;this._.C=!1},remove:function(C){C.N&&(C.N.P=C.P),C.P&&(C.P.N=C.N),C.N=C.P=null;var q,$,ne,he=C.U,xe=C.L,Pe=C.R;if($=xe?Pe?bi(Pe):xe:Pe,he?he.L===C?he.L=$:he.R=$:this._=$,xe&&Pe?(ne=$.C,$.C=C.C,$.L=xe,xe.U=$,$!==Pe?(he=$.U,$.U=C.U,C=$.R,he.L=C,$.R=Pe,Pe.U=$):($.U=he,he=$,C=$.R)):(ne=C.C,C=$),C&&(C.U=he),!ne)if(C&&C.C)C.C=!1;else{do{if(C===this._)break;if(C===he.L){if((q=he.R).C&&(q.C=!1,he.C=!0,Ai(this,he),q=he.R),q.L&&q.L.C||q.R&&q.R.C){q.R&&q.R.C||(q.L.C=!1,q.C=!0,aa(this,q),q=he.R),q.C=he.C,he.C=q.R.C=!1,Ai(this,he),C=this._;break}}else if((q=he.L).C&&(q.C=!1,he.C=!0,aa(this,he),q=he.L),q.L&&q.L.C||q.R&&q.R.C){q.L&&q.L.C||(q.R.C=!1,q.C=!0,Ai(this,q),q=he.L),q.C=he.C,he.C=q.L.C=!1,aa(this,he),C=this._;break}q.C=!0,C=he,he=he.U}while(!C.C);C&&(C.C=!1)}}},r.geom.voronoi=function(C){var q=Yn,$=Fn,ne=q,he=$,xe=Na;if(C)return Pe(C);function Pe(qe){var Ze=new Array(qe.length),it=xe[0][0],pt=xe[0][1],vt=xe[1][0],Mt=xe[1][1];return Ji(Fe(qe),xe).cells.forEach(function(Ct,Et){var jt=Ct.edges,zt=Ct.site;(Ze[Et]=jt.length?jt.map(function(Qt){var Wt=Qt.start();return[Wt.x,Wt.y]}):zt.x>=it&&zt.x<=vt&&zt.y>=pt&&zt.y<=Mt?[[it,Mt],[vt,Mt],[vt,pt],[it,pt]]:[]).point=qe[Et]}),Ze}function Fe(qe){return qe.map(function(Ze,it){return{x:Math.round(ne(Ze,it)/rt)*rt,y:Math.round(he(Ze,it)/rt)*rt,i:it}})}return Pe.links=function(qe){return Ji(Fe(qe)).edges.filter(function(Ze){return Ze.l&&Ze.r}).map(function(Ze){return{source:qe[Ze.l.i],target:qe[Ze.r.i]}})},Pe.triangles=function(qe){var Ze=[];return Ji(Fe(qe)).cells.forEach(function(it,pt){for(var vt,Mt,Ct,Et,jt=it.site,zt=it.edges.sort(tr),Qt=-1,Wt=zt.length,Vt=zt[Wt-1].edge,gn=Vt.l===jt?Vt.r:Vt.l;++Qt<Wt;)vt=gn,gn=(Vt=zt[Qt].edge).l===jt?Vt.r:Vt.l,pt<vt.i&&pt<gn.i&&(Ct=vt,Et=gn,((Mt=jt).x-Et.x)*(Ct.y-Mt.y)-(Mt.x-Ct.x)*(Et.y-Mt.y)<0)&&Ze.push([qe[pt],qe[vt.i],qe[gn.i]])}),Ze},Pe.x=function(qe){return arguments.length?(ne=Gn(q=qe),Pe):q},Pe.y=function(qe){return arguments.length?(he=Gn($=qe),Pe):$},Pe.clipExtent=function(qe){return arguments.length?(xe=qe??Na,Pe):xe===Na?null:xe},Pe.size=function(qe){return arguments.length?Pe.clipExtent(qe&&[[0,0],qe]):xe===Na?null:xe&&xe[1]},Pe};var Na=[[-1e6,-1e6],[1e6,1e6]];function Ss(C){return C.x}function qu(C){return C.y}function dl(C,q,$,ne,he,xe){if(!C(q,$,ne,he,xe)){var Pe=.5*($+he),Fe=.5*(ne+xe),qe=q.nodes;qe[0]&&dl(C,qe[0],$,ne,Pe,Fe),qe[1]&&dl(C,qe[1],Pe,ne,he,Fe),qe[2]&&dl(C,qe[2],$,Fe,Pe,xe),qe[3]&&dl(C,qe[3],Pe,Fe,he,xe)}}function vl(C,q){C=r.rgb(C),q=r.rgb(q);var $=C.r,ne=C.g,he=C.b,xe=q.r-$,Pe=q.g-ne,Fe=q.b-he;return function(qe){return"#"+rn(Math.round($+xe*qe))+rn(Math.round(ne+Pe*qe))+rn(Math.round(he+Fe*qe))}}function Nl(C,q){var $,ne={},he={};for($ in C)$ in q?ne[$]=Go(C[$],q[$]):he[$]=C[$];for($ in q)$ in C||(he[$]=q[$]);return function(xe){for($ in ne)he[$]=ne[$](xe);return he}}function bo(C,q){return C=+C,q=+q,function($){return C*(1-$)+q*$}}function jl(C,q){var $,ne,he,xe=Ul.lastIndex=Vl.lastIndex=0,Pe=-1,Fe=[],qe=[];for(C+="",q+="";($=Ul.exec(C))&&(ne=Vl.exec(q));)(he=ne.index)>xe&&(he=q.slice(xe,he),Fe[Pe]?Fe[Pe]+=he:Fe[++Pe]=he),($=$[0])===(ne=ne[0])?Fe[Pe]?Fe[Pe]+=ne:Fe[++Pe]=ne:(Fe[++Pe]=null,qe.push({i:Pe,x:bo($,ne)})),xe=Vl.lastIndex;return xe<q.length&&(he=q.slice(xe),Fe[Pe]?Fe[Pe]+=he:Fe[++Pe]=he),Fe.length<2?qe[0]?(q=qe[0].x,function(Ze){return q(Ze)+""}):function(){return q}:(q=qe.length,function(Ze){for(var it,pt=0;pt<q;++pt)Fe[(it=qe[pt]).i]=it.x(Ze);return Fe.join("")})}r.geom.delaunay=function(C){return r.geom.voronoi().triangles(C)},r.geom.quadtree=function(C,q,$,ne,he){var xe,Pe=Yn,Fe=Fn;if(xe=arguments.length)return Pe=Ss,Fe=qu,xe===3&&(he=$,ne=q,$=q=0),qe(C);function qe(Ze){var it,pt,vt,Mt,Ct,Et,jt,zt,Qt,Wt=Gn(Pe),Vt=Gn(Fe);if(q!=null)Et=q,jt=$,zt=ne,Qt=he;else if(zt=Qt=-(Et=jt=1/0),pt=[],vt=[],Ct=Ze.length,xe)for(Mt=0;Mt<Ct;++Mt)(it=Ze[Mt]).x<Et&&(Et=it.x),it.y<jt&&(jt=it.y),it.x>zt&&(zt=it.x),it.y>Qt&&(Qt=it.y),pt.push(it.x),vt.push(it.y);else for(Mt=0;Mt<Ct;++Mt){var gn=+Wt(it=Ze[Mt],Mt),xn=+Vt(it,Mt);gn<Et&&(Et=gn),xn<jt&&(jt=xn),gn>zt&&(zt=gn),xn>Qt&&(Qt=xn),pt.push(gn),vt.push(xn)}var On=zt-Et,Dn=Qt-jt;function Wn(Jn,dr,kr,Rr,rr,pr,Er,mr){if(!isNaN(kr)&&!isNaN(Rr))if(Jn.leaf){var Dr=Jn.x,jr=Jn.y;if(Dr!=null)if(m(Dr-kr)+m(jr-Rr)<.01)ar(Jn,dr,kr,Rr,rr,pr,Er,mr);else{var Xr=Jn.point;Jn.x=Jn.y=Jn.point=null,ar(Jn,Xr,Dr,jr,rr,pr,Er,mr),ar(Jn,dr,kr,Rr,rr,pr,Er,mr)}else Jn.x=kr,Jn.y=Rr,Jn.point=dr}else ar(Jn,dr,kr,Rr,rr,pr,Er,mr)}function ar(Jn,dr,kr,Rr,rr,pr,Er,mr){var Dr=.5*(rr+Er),jr=.5*(pr+mr),Xr=kr>=Dr,Kr=Rr>=jr,ni=Kr<<1|Xr;Jn.leaf=!1,Xr?rr=Dr:Er=Dr,Kr?pr=jr:mr=jr,Wn(Jn=Jn.nodes[ni]||(Jn.nodes[ni]={leaf:!0,nodes:[],point:null,x:null,y:null}),dr,kr,Rr,rr,pr,Er,mr)}On>Dn?Qt=jt+On:zt=Et+Dn;var vr={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Jn){Wn(vr,Jn,+Wt(Jn,++Mt),+Vt(Jn,Mt),Et,jt,zt,Qt)}};if(vr.visit=function(Jn){dl(Jn,vr,Et,jt,zt,Qt)},vr.find=function(Jn){return function(dr,kr,Rr,rr,pr,Er,mr){var Dr,jr=1/0;return function Xr(Kr,ni,ai,Li,Ki){if(!(ni>Er||ai>mr||Li<rr||Ki<pr)){if(Pa=Kr.point){var Pa,pa=kr-Kr.x,Ma=Rr-Kr.y,Ri=pa*pa+Ma*Ma;if(Ri<jr){var si=Math.sqrt(jr=Ri);rr=kr-si,pr=Rr-si,Er=kr+si,mr=Rr+si,Dr=Pa}}for(var Hi=Kr.nodes,wi=.5*(ni+Li),hi=.5*(ai+Ki),qi=(Rr>=hi)<<1|kr>=wi,Qi=qi+4;qi<Qi;++qi)if(Kr=Hi[3&qi])switch(3&qi){case 0:Xr(Kr,ni,ai,wi,hi);break;case 1:Xr(Kr,wi,ai,Li,hi);break;case 2:Xr(Kr,ni,hi,wi,Ki);break;case 3:Xr(Kr,wi,hi,Li,Ki)}}}(dr,rr,pr,Er,mr),Dr}(vr,Jn[0],Jn[1],Et,jt,zt,Qt)},Mt=-1,q==null){for(;++Mt<Ct;)Wn(vr,Ze[Mt],pt[Mt],vt[Mt],Et,jt,zt,Qt);--Mt}else Ze.forEach(vr.add);return pt=vt=Ze=it=null,vr}return qe.x=function(Ze){return arguments.length?(Pe=Ze,qe):Pe},qe.y=function(Ze){return arguments.length?(Fe=Ze,qe):Fe},qe.extent=function(Ze){return arguments.length?(Ze==null?q=$=ne=he=null:(q=+Ze[0][0],$=+Ze[0][1],ne=+Ze[1][0],he=+Ze[1][1]),qe):q==null?null:[[q,$],[ne,he]]},qe.size=function(Ze){return arguments.length?(Ze==null?q=$=ne=he=null:(q=$=0,ne=+Ze[0],he=+Ze[1]),qe):q==null?null:[ne-q,he-$]},qe},r.interpolateRgb=vl,r.interpolateObject=Nl,r.interpolateNumber=bo,r.interpolateString=jl;var Ul=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vl=new RegExp(Ul.source,"g");function Go(C,q){for(var $,ne=r.interpolators.length;--ne>=0&&!($=r.interpolators[ne](C,q)););return $}function as(C,q){var $,ne=[],he=[],xe=C.length,Pe=q.length,Fe=Math.min(C.length,q.length);for($=0;$<Fe;++$)ne.push(Go(C[$],q[$]));for(;$<xe;++$)he[$]=C[$];for(;$<Pe;++$)he[$]=q[$];return function(qe){for($=0;$<Fe;++$)he[$]=ne[$](qe);return he}}r.interpolate=Go,r.interpolators=[function(C,q){var $=typeof q;return($==="string"?Pn.has(q.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(q)?vl:jl:q instanceof Qe?vl:Array.isArray(q)?as:$==="object"&&isNaN(q)?Nl:bo)(C,q)}],r.interpolateArray=as;var Es=function(){return z},Di=r.map({linear:Es,poly:function(C){return function(q){return Math.pow(q,C)}},quad:function(){return _o},cubic:function(){return os},sin:function(){return ss},exp:function(){return Wo},circle:function(){return ls},elastic:function(C,q){var $;return arguments.length<2&&(q=.45),arguments.length?$=q/Ft*Math.asin(1/C):(C=1,$=q/4),function(ne){return 1+C*Math.pow(2,-10*ne)*Math.sin((ne-$)*Ft/q)}},back:function(C){return C||(C=1.70158),function(q){return q*q*((C+1)*q-C)}},bounce:function(){return zo}}),ca=r.map({in:z,out:Yo,"in-out":Io,"out-in":function(C){return Io(Yo(C))}});function Yo(C){return function(q){return 1-C(1-q)}}function Io(C){return function(q){return .5*(q<.5?C(2*q):2-C(2-2*q))}}function _o(C){return C*C}function os(C){return C*C*C}function Do(C){if(C<=0)return 0;if(C>=1)return 1;var q=C*C,$=q*C;return 4*(C<.5?$:3*(C-q)+$-.75)}function ss(C){return 1-Math.cos(C*Xe)}function Wo(C){return Math.pow(2,10*(C-1))}function ls(C){return 1-Math.sqrt(1-C*C)}function zo(C){return C<.36363636363636365?7.5625*C*C:C<.7272727272727273?7.5625*(C-=.5454545454545454)*C+.75:C<.9090909090909091?7.5625*(C-=.8181818181818182)*C+.9375:7.5625*(C-=.9545454545454546)*C+.984375}function su(C,q){return q-=C,function($){return Math.round(C+q*$)}}function Hl(C){var q,$,ne,he=[C.a,C.b],xe=[C.c,C.d],Pe=Eu(he),Fe=Ls(he,xe),qe=Eu(((q=xe)[0]+=(ne=-Fe)*($=he)[0],q[1]+=ne*$[1],q))||0;he[0]*xe[1]<xe[0]*he[1]&&(he[0]*=-1,he[1]*=-1,Pe*=-1,Fe*=-1),this.rotate=(Pe?Math.atan2(he[1],he[0]):Math.atan2(-xe[0],xe[1]))*Ve,this.translate=[C.e,C.f],this.scale=[Pe,qe],this.skew=qe?Math.atan2(Fe,qe)*Ve:0}function Ls(C,q){return C[0]*q[0]+C[1]*q[1]}function Eu(C){var q=Math.sqrt(Ls(C,C));return q&&(C[0]/=q,C[1]/=q),q}r.ease=function(C){var q,$=C.indexOf("-"),ne=$>=0?C.slice(0,$):C,he=$>=0?C.slice($+1):"in";return ne=Di.get(ne)||Es,he=ca.get(he)||z,q=he(ne.apply(null,_.call(arguments,1))),function(xe){return xe<=0?0:xe>=1?1:q(xe)}},r.interpolateHcl=function(C,q){C=r.hcl(C),q=r.hcl(q);var $=C.h,ne=C.c,he=C.l,xe=q.h-$,Pe=q.c-ne,Fe=q.l-he;return isNaN(Pe)&&(Pe=0,ne=isNaN(ne)?q.c:ne),isNaN(xe)?(xe=0,$=isNaN($)?q.h:$):xe>180?xe-=360:xe<-180&&(xe+=360),function(qe){return kt($+xe*qe,ne+Pe*qe,he+Fe*qe)+""}},r.interpolateHsl=function(C,q){C=r.hsl(C),q=r.hsl(q);var $=C.h,ne=C.s,he=C.l,xe=q.h-$,Pe=q.s-ne,Fe=q.l-he;return isNaN(Pe)&&(Pe=0,ne=isNaN(ne)?q.s:ne),isNaN(xe)?(xe=0,$=isNaN($)?q.h:$):xe>180?xe-=360:xe<-180&&(xe+=360),function(qe){return xt($+xe*qe,ne+Pe*qe,he+Fe*qe)+""}},r.interpolateLab=function(C,q){C=r.lab(C),q=r.lab(q);var $=C.l,ne=C.a,he=C.b,xe=q.l-$,Pe=q.a-ne,Fe=q.b-he;return function(qe){return qt($+xe*qe,ne+Pe*qe,he+Fe*qe)+""}},r.interpolateRound=su,r.transform=function(C){var q=f.createElementNS(r.ns.prefix.svg,"g");return(r.transform=function($){if($!=null){q.setAttribute("transform",$);var ne=q.transform.baseVal.consolidate()}return new Hl(ne?ne.matrix:Lu)})(C)},Hl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Lu={a:1,b:0,c:0,d:1,e:0,f:0};function Cs(C){return C.length?C.pop()+",":""}function Cu(C,q){var $=[],ne=[];return C=r.transform(C),q=r.transform(q),function(he,xe,Pe,Fe){if(he[0]!==xe[0]||he[1]!==xe[1]){var qe=Pe.push("translate(",null,",",null,")");Fe.push({i:qe-4,x:bo(he[0],xe[0])},{i:qe-2,x:bo(he[1],xe[1])})}else(xe[0]||xe[1])&&Pe.push("translate("+xe+")")}(C.translate,q.translate,$,ne),function(he,xe,Pe,Fe){he!==xe?(he-xe>180?xe+=360:xe-he>180&&(he+=360),Fe.push({i:Pe.push(Cs(Pe)+"rotate(",null,")")-2,x:bo(he,xe)})):xe&&Pe.push(Cs(Pe)+"rotate("+xe+")")}(C.rotate,q.rotate,$,ne),function(he,xe,Pe,Fe){he!==xe?Fe.push({i:Pe.push(Cs(Pe)+"skewX(",null,")")-2,x:bo(he,xe)}):xe&&Pe.push(Cs(Pe)+"skewX("+xe+")")}(C.skew,q.skew,$,ne),function(he,xe,Pe,Fe){if(he[0]!==xe[0]||he[1]!==xe[1]){var qe=Pe.push(Cs(Pe)+"scale(",null,",",null,")");Fe.push({i:qe-4,x:bo(he[0],xe[0])},{i:qe-2,x:bo(he[1],xe[1])})}else xe[0]===1&&xe[1]===1||Pe.push(Cs(Pe)+"scale("+xe+")")}(C.scale,q.scale,$,ne),C=q=null,function(he){for(var xe,Pe=-1,Fe=ne.length;++Pe<Fe;)$[(xe=ne[Pe]).i]=xe.x(he);return $.join("")}}function Gu(C,q){return q=(q-=C=+C)||1/q,function($){return($-C)/q}}function Yu(C,q){return q=(q-=C=+C)||1/q,function($){return Math.max(0,Math.min(1,($-C)/q))}}function Os(C){for(var q=C.source,$=C.target,ne=function(Pe,Fe){if(Pe===Fe)return Pe;for(var qe=Ro(Pe),Ze=Ro(Fe),it=qe.pop(),pt=Ze.pop(),vt=null;it===pt;)vt=it,it=qe.pop(),pt=Ze.pop();return vt}(q,$),he=[q];q!==ne;)q=q.parent,he.push(q);for(var xe=he.length;$!==ne;)he.splice(xe,0,$),$=$.parent;return he}function Ro(C){for(var q=[],$=C.parent;$!=null;)q.push(C),C=$,$=$.parent;return q.push(C),q}function Ws(C){C.fixed|=2}function Ps(C){C.fixed&=-7}function ml(C){C.fixed|=4,C.px=C.x,C.py=C.y}function Is(C){C.fixed&=-5}function wo(C,q,$){var ne=0,he=0;if(C.charge=0,!C.leaf)for(var xe,Pe=C.nodes,Fe=Pe.length,qe=-1;++qe<Fe;)(xe=Pe[qe])!=null&&(wo(xe,q,$),C.charge+=xe.charge,ne+=xe.charge*xe.cx,he+=xe.charge*xe.cy);if(C.point){C.leaf||(C.point.x+=Math.random()-.5,C.point.y+=Math.random()-.5);var Ze=q*$[C.point.index];C.charge+=C.pointCharge=Ze,ne+=Ze*C.point.x,he+=Ze*C.point.y}C.cx=ne/C.charge,C.cy=he/C.charge}r.interpolateTransform=Cu,r.layout={},r.layout.bundle=function(){return function(C){for(var q=[],$=-1,ne=C.length;++$<ne;)q.push(Os(C[$]));return q}},r.layout.chord=function(){var C,q,$,ne,he,xe,Pe,Fe={},qe=0;function Ze(){var pt,vt,Mt,Ct,Et,jt={},zt=[],Qt=r.range(ne),Wt=[];for(C=[],q=[],pt=0,Ct=-1;++Ct<ne;){for(vt=0,Et=-1;++Et<ne;)vt+=$[Ct][Et];zt.push(vt),Wt.push(r.range(ne)),pt+=vt}for(he&&Qt.sort(function(vr,Jn){return he(zt[vr],zt[Jn])}),xe&&Wt.forEach(function(vr,Jn){vr.sort(function(dr,kr){return xe($[Jn][dr],$[Jn][kr])})}),pt=(Ft-qe*ne)/pt,vt=0,Ct=-1;++Ct<ne;){for(Mt=vt,Et=-1;++Et<ne;){var Vt=Qt[Ct],gn=Wt[Vt][Et],xn=$[Vt][gn],On=vt,Dn=vt+=xn*pt;jt[Vt+"-"+gn]={index:Vt,subindex:gn,startAngle:On,endAngle:Dn,value:xn}}q[Vt]={index:Vt,startAngle:Mt,endAngle:vt,value:zt[Vt]},vt+=qe}for(Ct=-1;++Ct<ne;)for(Et=Ct-1;++Et<ne;){var Wn=jt[Ct+"-"+Et],ar=jt[Et+"-"+Ct];(Wn.value||ar.value)&&C.push(Wn.value<ar.value?{source:ar,target:Wn}:{source:Wn,target:ar})}Pe&&it()}function it(){C.sort(function(pt,vt){return Pe((pt.source.value+pt.target.value)/2,(vt.source.value+vt.target.value)/2)})}return Fe.matrix=function(pt){return arguments.length?(ne=($=pt)&&$.length,C=q=null,Fe):$},Fe.padding=function(pt){return arguments.length?(qe=pt,C=q=null,Fe):qe},Fe.sortGroups=function(pt){return arguments.length?(he=pt,C=q=null,Fe):he},Fe.sortSubgroups=function(pt){return arguments.length?(xe=pt,C=null,Fe):xe},Fe.sortChords=function(pt){return arguments.length?(Pe=pt,C&&it(),Fe):Pe},Fe.chords=function(){return C||Ze(),C},Fe.groups=function(){return q||Ze(),q},Fe},r.layout.force=function(){var C,q,$,ne,he,xe,Pe={},Fe=r.dispatch("start","tick","end"),qe=[1,1],Ze=.9,it=lu,pt=us,vt=-30,Mt=Zo,Ct=.1,Et=.64,jt=[],zt=[];function Qt(Vt){return function(gn,xn,On,Dn){if(gn.point!==Vt){var Wn=gn.cx-Vt.x,ar=gn.cy-Vt.y,vr=Dn-xn,Jn=Wn*Wn+ar*ar;if(vr*vr/Et<Jn){if(Jn<Mt){var dr=gn.charge/Jn;Vt.px-=Wn*dr,Vt.py-=ar*dr}return!0}gn.point&&Jn&&Jn<Mt&&(dr=gn.pointCharge/Jn,Vt.px-=Wn*dr,Vt.py-=ar*dr)}return!gn.charge}}function Wt(Vt){Vt.px=r.event.x,Vt.py=r.event.y,Pe.resume()}return Pe.tick=function(){if(($*=.99)<.005)return C=null,Fe.end({type:"end",alpha:$=0}),!0;var Vt,gn,xn,On,Dn,Wn,ar,vr,Jn,dr=jt.length,kr=zt.length;for(gn=0;gn<kr;++gn)On=(xn=zt[gn]).source,(Wn=(vr=(Dn=xn.target).x-On.x)*vr+(Jn=Dn.y-On.y)*Jn)&&(vr*=Wn=$*he[gn]*((Wn=Math.sqrt(Wn))-ne[gn])/Wn,Jn*=Wn,Dn.x-=vr*(ar=On.weight+Dn.weight?On.weight/(On.weight+Dn.weight):.5),Dn.y-=Jn*ar,On.x+=vr*(ar=1-ar),On.y+=Jn*ar);if((ar=$*Ct)&&(vr=qe[0]/2,Jn=qe[1]/2,gn=-1,ar))for(;++gn<dr;)(xn=jt[gn]).x+=(vr-xn.x)*ar,xn.y+=(Jn-xn.y)*ar;if(vt)for(wo(Vt=r.geom.quadtree(jt),$,xe),gn=-1;++gn<dr;)(xn=jt[gn]).fixed||Vt.visit(Qt(xn));for(gn=-1;++gn<dr;)(xn=jt[gn]).fixed?(xn.x=xn.px,xn.y=xn.py):(xn.x-=(xn.px-(xn.px=xn.x))*Ze,xn.y-=(xn.py-(xn.py=xn.y))*Ze);Fe.tick({type:"tick",alpha:$})},Pe.nodes=function(Vt){return arguments.length?(jt=Vt,Pe):jt},Pe.links=function(Vt){return arguments.length?(zt=Vt,Pe):zt},Pe.size=function(Vt){return arguments.length?(qe=Vt,Pe):qe},Pe.linkDistance=function(Vt){return arguments.length?(it=typeof Vt=="function"?Vt:+Vt,Pe):it},Pe.distance=Pe.linkDistance,Pe.linkStrength=function(Vt){return arguments.length?(pt=typeof Vt=="function"?Vt:+Vt,Pe):pt},Pe.friction=function(Vt){return arguments.length?(Ze=+Vt,Pe):Ze},Pe.charge=function(Vt){return arguments.length?(vt=typeof Vt=="function"?Vt:+Vt,Pe):vt},Pe.chargeDistance=function(Vt){return arguments.length?(Mt=Vt*Vt,Pe):Math.sqrt(Mt)},Pe.gravity=function(Vt){return arguments.length?(Ct=+Vt,Pe):Ct},Pe.theta=function(Vt){return arguments.length?(Et=Vt*Vt,Pe):Math.sqrt(Et)},Pe.alpha=function(Vt){return arguments.length?(Vt=+Vt,$?Vt>0?$=Vt:(C.c=null,C.t=NaN,C=null,Fe.end({type:"end",alpha:$=0})):Vt>0&&(Fe.start({type:"start",alpha:$=Vt}),C=an(Pe.tick)),Pe):$},Pe.start=function(){var Vt,gn,xn,On=jt.length,Dn=zt.length,Wn=qe[0],ar=qe[1];for(Vt=0;Vt<On;++Vt)(xn=jt[Vt]).index=Vt,xn.weight=0;for(Vt=0;Vt<Dn;++Vt)typeof(xn=zt[Vt]).source=="number"&&(xn.source=jt[xn.source]),typeof xn.target=="number"&&(xn.target=jt[xn.target]),++xn.source.weight,++xn.target.weight;for(Vt=0;Vt<On;++Vt)xn=jt[Vt],isNaN(xn.x)&&(xn.x=vr("x",Wn)),isNaN(xn.y)&&(xn.y=vr("y",ar)),isNaN(xn.px)&&(xn.px=xn.x),isNaN(xn.py)&&(xn.py=xn.y);if(ne=[],typeof it=="function")for(Vt=0;Vt<Dn;++Vt)ne[Vt]=+it.call(this,zt[Vt],Vt);else for(Vt=0;Vt<Dn;++Vt)ne[Vt]=it;if(he=[],typeof pt=="function")for(Vt=0;Vt<Dn;++Vt)he[Vt]=+pt.call(this,zt[Vt],Vt);else for(Vt=0;Vt<Dn;++Vt)he[Vt]=pt;if(xe=[],typeof vt=="function")for(Vt=0;Vt<On;++Vt)xe[Vt]=+vt.call(this,jt[Vt],Vt);else for(Vt=0;Vt<On;++Vt)xe[Vt]=vt;function vr(Jn,dr){if(!gn){for(gn=new Array(On),pr=0;pr<On;++pr)gn[pr]=[];for(pr=0;pr<Dn;++pr){var kr=zt[pr];gn[kr.source.index].push(kr.target),gn[kr.target.index].push(kr.source)}}for(var Rr,rr=gn[Vt],pr=-1,Er=rr.length;++pr<Er;)if(!isNaN(Rr=rr[pr][Jn]))return Rr;return Math.random()*dr}return Pe.resume()},Pe.resume=function(){return Pe.alpha(.1)},Pe.stop=function(){return Pe.alpha(0)},Pe.drag=function(){if(q||(q=r.behavior.drag().origin(z).on("dragstart.force",Ws).on("drag.force",Wt).on("dragend.force",Ps)),!arguments.length)return q;this.on("mouseover.force",ml).on("mouseout.force",Is).call(q)},r.rebind(Pe,Fe,"on")};var lu=20,us=1,Zo=1/0;function Xo(C,q){return r.rebind(C,q,"sort","children","value"),C.nodes=C,C.links=Xs,C}function cs(C,q){for(var $=[C];(C=$.pop())!=null;)if(q(C),(he=C.children)&&(ne=he.length))for(var ne,he;--ne>=0;)$.push(he[ne])}function ri(C,q){for(var $=[C],ne=[];(C=$.pop())!=null;)if(ne.push(C),(xe=C.children)&&(he=xe.length))for(var he,xe,Pe=-1;++Pe<he;)$.push(xe[Pe]);for(;(C=ne.pop())!=null;)q(C)}function Zs(C){return C.children}function Wu(C){return C.value}function ql(C,q){return q.value-C.value}function Xs(C){return r.merge(C.map(function(q){return(q.children||[]).map(function($){return{source:q,target:$}})}))}r.layout.hierarchy=function(){var C=ql,q=Zs,$=Wu;function ne(he){var xe,Pe=[he],Fe=[];for(he.depth=0;(xe=Pe.pop())!=null;)if(Fe.push(xe),(Ze=q.call(ne,xe,xe.depth))&&(qe=Ze.length)){for(var qe,Ze,it;--qe>=0;)Pe.push(it=Ze[qe]),it.parent=xe,it.depth=xe.depth+1;$&&(xe.value=0),xe.children=Ze}else $&&(xe.value=+$.call(ne,xe,xe.depth)||0),delete xe.children;return ri(he,function(pt){var vt,Mt;C&&(vt=pt.children)&&vt.sort(C),$&&(Mt=pt.parent)&&(Mt.value+=pt.value)}),Fe}return ne.sort=function(he){return arguments.length?(C=he,ne):C},ne.children=function(he){return arguments.length?(q=he,ne):q},ne.value=function(he){return arguments.length?($=he,ne):$},ne.revalue=function(he){return $&&(cs(he,function(xe){xe.children&&(xe.value=0)}),ri(he,function(xe){var Pe;xe.children||(xe.value=+$.call(ne,xe,xe.depth)||0),(Pe=xe.parent)&&(Pe.value+=xe.value)})),he},ne},r.layout.partition=function(){var C=r.layout.hierarchy(),q=[1,1];function $(xe,Pe,Fe,qe){var Ze=xe.children;if(xe.x=Pe,xe.y=xe.depth*qe,xe.dx=Fe,xe.dy=qe,Ze&&(it=Ze.length)){var it,pt,vt,Mt=-1;for(Fe=xe.value?Fe/xe.value:0;++Mt<it;)$(pt=Ze[Mt],Pe,vt=pt.value*Fe,qe),Pe+=vt}}function ne(xe){var Pe=xe.children,Fe=0;if(Pe&&(qe=Pe.length))for(var qe,Ze=-1;++Ze<qe;)Fe=Math.max(Fe,ne(Pe[Ze]));return 1+Fe}function he(xe,Pe){var Fe=C.call(this,xe,Pe);return $(Fe[0],0,q[0],q[1]/ne(Fe[0])),Fe}return he.size=function(xe){return arguments.length?(q=xe,he):q},Xo(he,C)},r.layout.pie=function(){var C=Number,q=Ou,$=0,ne=Ft,he=0;function xe(Pe){var Fe,qe=Pe.length,Ze=Pe.map(function(Qt,Wt){return+C.call(xe,Qt,Wt)}),it=+(typeof $=="function"?$.apply(this,arguments):$),pt=(typeof ne=="function"?ne.apply(this,arguments):ne)-it,vt=Math.min(Math.abs(pt)/qe,+(typeof he=="function"?he.apply(this,arguments):he)),Mt=vt*(pt<0?-1:1),Ct=r.sum(Ze),Et=Ct?(pt-qe*Mt)/Ct:0,jt=r.range(qe),zt=[];return q!=null&&jt.sort(q===Ou?function(Qt,Wt){return Ze[Wt]-Ze[Qt]}:function(Qt,Wt){return q(Pe[Qt],Pe[Wt])}),jt.forEach(function(Qt){zt[Qt]={data:Pe[Qt],value:Fe=Ze[Qt],startAngle:it,endAngle:it+=Fe*Et+Mt,padAngle:vt}}),zt}return xe.value=function(Pe){return arguments.length?(C=Pe,xe):C},xe.sort=function(Pe){return arguments.length?(q=Pe,xe):q},xe.startAngle=function(Pe){return arguments.length?($=Pe,xe):$},xe.endAngle=function(Pe){return arguments.length?(ne=Pe,xe):ne},xe.padAngle=function(Pe){return arguments.length?(he=Pe,xe):he},xe};var Ou={};function Zu(C){return C.x}function Gl(C){return C.y}function Xu(C,q,$){C.y0=q,C.y=$}r.layout.stack=function(){var C=z,q=Jo,$=To,ne=Xu,he=Zu,xe=Gl;function Pe(Fe,qe){if(!(vt=Fe.length))return Fe;var Ze=Fe.map(function(Qt,Wt){return C.call(Pe,Qt,Wt)}),it=Ze.map(function(Qt){return Qt.map(function(Wt,Vt){return[he.call(Pe,Wt,Vt),xe.call(Pe,Wt,Vt)]})}),pt=q.call(Pe,it,qe);Ze=r.permute(Ze,pt),it=r.permute(it,pt);var vt,Mt,Ct,Et,jt=$.call(Pe,it,qe),zt=Ze[0].length;for(Ct=0;Ct<zt;++Ct)for(ne.call(Pe,Ze[0][Ct],Et=jt[Ct],it[0][Ct][1]),Mt=1;Mt<vt;++Mt)ne.call(Pe,Ze[Mt][Ct],Et+=it[Mt-1][Ct][1],it[Mt][Ct][1]);return Fe}return Pe.values=function(Fe){return arguments.length?(C=Fe,Pe):C},Pe.order=function(Fe){return arguments.length?(q=typeof Fe=="function"?Fe:fs.get(Fe)||Jo,Pe):q},Pe.offset=function(Fe){return arguments.length?($=typeof Fe=="function"?Fe:Ds.get(Fe)||To,Pe):$},Pe.x=function(Fe){return arguments.length?(he=Fe,Pe):he},Pe.y=function(Fe){return arguments.length?(xe=Fe,Pe):xe},Pe.out=function(Fe){return arguments.length?(ne=Fe,Pe):ne},Pe};var fs=r.map({"inside-out":function(C){var q,$,ne=C.length,he=C.map(Js),xe=C.map(Pu),Pe=r.range(ne).sort(function(pt,vt){return he[pt]-he[vt]}),Fe=0,qe=0,Ze=[],it=[];for(q=0;q<ne;++q)$=Pe[q],Fe<qe?(Fe+=xe[$],Ze.push($)):(qe+=xe[$],it.push($));return it.reverse().concat(Ze)},reverse:function(C){return r.range(C.length).reverse()},default:Jo}),Ds=r.map({silhouette:function(C){var q,$,ne,he=C.length,xe=C[0].length,Pe=[],Fe=0,qe=[];for($=0;$<xe;++$){for(q=0,ne=0;q<he;q++)ne+=C[q][$][1];ne>Fe&&(Fe=ne),Pe.push(ne)}for($=0;$<xe;++$)qe[$]=(Fe-Pe[$])/2;return qe},wiggle:function(C){var q,$,ne,he,xe,Pe,Fe,qe,Ze,it=C.length,pt=C[0],vt=pt.length,Mt=[];for(Mt[0]=qe=Ze=0,$=1;$<vt;++$){for(q=0,he=0;q<it;++q)he+=C[q][$][1];for(q=0,xe=0,Fe=pt[$][0]-pt[$-1][0];q<it;++q){for(ne=0,Pe=(C[q][$][1]-C[q][$-1][1])/(2*Fe);ne<q;++ne)Pe+=(C[ne][$][1]-C[ne][$-1][1])/Fe;xe+=Pe*C[q][$][1]}Mt[$]=qe-=he?xe/he*Fe:0,qe<Ze&&(Ze=qe)}for($=0;$<vt;++$)Mt[$]-=Ze;return Mt},expand:function(C){var q,$,ne,he=C.length,xe=C[0].length,Pe=1/he,Fe=[];for($=0;$<xe;++$){for(q=0,ne=0;q<he;q++)ne+=C[q][$][1];if(ne)for(q=0;q<he;q++)C[q][$][1]/=ne;else for(q=0;q<he;q++)C[q][$][1]=Pe}for($=0;$<xe;++$)Fe[$]=0;return Fe},zero:To});function Jo(C){return r.range(C.length)}function To(C){for(var q=-1,$=C[0].length,ne=[];++q<$;)ne[q]=0;return ne}function Js(C){for(var q,$=1,ne=0,he=C[0][1],xe=C.length;$<xe;++$)(q=C[$][1])>he&&(ne=$,he=q);return ne}function Pu(C){return C.reduce(yl,0)}function yl(C,q){return C+q[1]}function Yl(C,q){return ro(C,Math.ceil(Math.log(q.length)/Math.LN2+1))}function ro(C,q){for(var $=-1,ne=+C[0],he=(C[1]-ne)/q,xe=[];++$<=q;)xe[$]=he*$+ne;return xe}function Wl(C){return[r.min(C),r.max(C)]}function Iu(C,q){return C.value-q.value}function Ks(C,q){var $=C._pack_next;C._pack_next=q,q._pack_prev=C,q._pack_next=$,$._pack_prev=q}function zs(C,q){C._pack_next=q,q._pack_prev=C}function Qs(C,q){var $=q.x-C.x,ne=q.y-C.y,he=C.r+q.r;return .999*he*he>$*$+ne*ne}function Rs(C){if((q=C.children)&&(qe=q.length)){var q,$,ne,he,xe,Pe,Fe,qe,Ze=1/0,it=-1/0,pt=1/0,vt=-1/0;if(q.forEach(Fs),($=q[0]).x=-$.r,$.y=0,Wt($),qe>1&&((ne=q[1]).x=ne.r,ne.y=0,Wt(ne),qe>2))for(vi($,ne,he=q[2]),Wt(he),Ks($,he),$._pack_prev=he,Ks(he,ne),ne=$._pack_next,xe=3;xe<qe;xe++){vi($,ne,he=q[xe]);var Mt=0,Ct=1,Et=1;for(Pe=ne._pack_next;Pe!==ne;Pe=Pe._pack_next,Ct++)if(Qs(Pe,he)){Mt=1;break}if(Mt==1)for(Fe=$._pack_prev;Fe!==Pe._pack_prev&&!Qs(Fe,he);Fe=Fe._pack_prev,Et++);Mt?(Ct<Et||Ct==Et&&ne.r<$.r?zs($,ne=Pe):zs($=Fe,ne),xe--):(Ks($,he),ne=he,Wt(he))}var jt=(Ze+it)/2,zt=(pt+vt)/2,Qt=0;for(xe=0;xe<qe;xe++)(he=q[xe]).x-=jt,he.y-=zt,Qt=Math.max(Qt,he.r+Math.sqrt(he.x*he.x+he.y*he.y));C.r=Qt,q.forEach(xl)}function Wt(Vt){Ze=Math.min(Vt.x-Vt.r,Ze),it=Math.max(Vt.x+Vt.r,it),pt=Math.min(Vt.y-Vt.r,pt),vt=Math.max(Vt.y+Vt.r,vt)}}function Fs(C){C._pack_next=C._pack_prev=C}function xl(C){delete C._pack_next,delete C._pack_prev}function Zl(C,q,$,ne){var he=C.children;if(C.x=q+=ne*C.x,C.y=$+=ne*C.y,C.r*=ne,he)for(var xe=-1,Pe=he.length;++xe<Pe;)Zl(he[xe],q,$,ne)}function vi(C,q,$){var ne=C.r+$.r,he=q.x-C.x,xe=q.y-C.y;if(ne&&(he||xe)){var Pe=q.r+$.r,Fe=he*he+xe*xe,qe=.5+((ne*=ne)-(Pe*=Pe))/(2*Fe),Ze=Math.sqrt(Math.max(0,2*Pe*(ne+Fe)-(ne-=Fe)*ne-Pe*Pe))/(2*Fe);$.x=C.x+qe*he+Ze*xe,$.y=C.y+qe*xe-Ze*he}else $.x=C.x+ne,$.y=C.y}function hs(C,q){return C.parent==q.parent?1:2}function ka(C){var q=C.children;return q.length?q[0]:C.t}function ko(C){var q,$=C.children;return(q=$.length)?$[q-1]:C.t}function ui(C,q,$){var ne=$/(q.i-C.i);q.c-=ne,q.s+=$,C.c+=ne,q.z+=$,q.m+=$}function gi(C,q,$){return C.a.parent===q.parent?C.a:$}function io(C){var q=C.children;return q&&q.length?io(q[0]):C}function $s(C){var q,$=C.children;return $&&(q=$.length)?$s($[q-1]):C}function bl(C){return{x:C.x,y:C.y,dx:C.dx,dy:C.dy}}function Xl(C,q){var $=C.x+q[3],ne=C.y+q[0],he=C.dx-q[1]-q[3],xe=C.dy-q[0]-q[2];return he<0&&($+=he/2,he=0),xe<0&&(ne+=xe/2,xe=0),{x:$,y:ne,dx:he,dy:xe}}function _l(C){var q=C[0],$=C[C.length-1];return q<$?[q,$]:[$,q]}function wl(C){return C.rangeExtent?C.rangeExtent():_l(C.range())}function co(C,q,$,ne){var he=$(C[0],C[1]),xe=ne(q[0],q[1]);return function(Pe){return xe(he(Pe))}}function ps(C,q){var $,ne=0,he=C.length-1,xe=C[ne],Pe=C[he];return Pe<xe&&($=ne,ne=he,he=$,$=xe,xe=Pe,Pe=$),C[ne]=q.floor(xe),C[he]=q.ceil(Pe),C}function ds(C){return C?{floor:function(q){return Math.floor(q/C)*C},ceil:function(q){return Math.ceil(q/C)*C}}:Ca}r.layout.histogram=function(){var C=!0,q=Number,$=Wl,ne=Yl;function he(xe,Pe){for(var Fe,qe,Ze=[],it=xe.map(q,this),pt=$.call(this,it,Pe),vt=ne.call(this,pt,it,Pe),Mt=(Pe=-1,it.length),Ct=vt.length-1,Et=C?1:1/Mt;++Pe<Ct;)(Fe=Ze[Pe]=[]).dx=vt[Pe+1]-(Fe.x=vt[Pe]),Fe.y=0;if(Ct>0)for(Pe=-1;++Pe<Mt;)(qe=it[Pe])>=pt[0]&&qe<=pt[1]&&((Fe=Ze[r.bisect(vt,qe,1,Ct)-1]).y+=Et,Fe.push(xe[Pe]));return Ze}return he.value=function(xe){return arguments.length?(q=xe,he):q},he.range=function(xe){return arguments.length?($=Gn(xe),he):$},he.bins=function(xe){return arguments.length?(ne=typeof xe=="number"?function(Pe){return ro(Pe,xe)}:Gn(xe),he):ne},he.frequency=function(xe){return arguments.length?(C=!!xe,he):C},he},r.layout.pack=function(){var C,q=r.layout.hierarchy().sort(Iu),$=0,ne=[1,1];function he(xe,Pe){var Fe=q.call(this,xe,Pe),qe=Fe[0],Ze=ne[0],it=ne[1],pt=C==null?Math.sqrt:typeof C=="function"?C:function(){return C};if(qe.x=qe.y=0,ri(qe,function(Mt){Mt.r=+pt(Mt.value)}),ri(qe,Rs),$){var vt=$*(C?1:Math.max(2*qe.r/Ze,2*qe.r/it))/2;ri(qe,function(Mt){Mt.r+=vt}),ri(qe,Rs),ri(qe,function(Mt){Mt.r-=vt})}return Zl(qe,Ze/2,it/2,C?1:1/Math.max(2*qe.r/Ze,2*qe.r/it)),Fe}return he.size=function(xe){return arguments.length?(ne=xe,he):ne},he.radius=function(xe){return arguments.length?(C=xe==null||typeof xe=="function"?xe:+xe,he):C},he.padding=function(xe){return arguments.length?($=+xe,he):$},Xo(he,q)},r.layout.tree=function(){var C=r.layout.hierarchy().sort(null).value(null),q=hs,$=[1,1],ne=null;function he(qe,Ze){var it=C.call(this,qe,Ze),pt=it[0],vt=function(Wt){for(var Vt,gn={A:null,children:[Wt]},xn=[gn];(Vt=xn.pop())!=null;)for(var On,Dn=Vt.children,Wn=0,ar=Dn.length;Wn<ar;++Wn)xn.push((Dn[Wn]=On={_:Dn[Wn],parent:Vt,children:(On=Dn[Wn].children)&&On.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Wn}).a=On);return gn.children[0]}(pt);if(ri(vt,xe),vt.parent.m=-vt.z,cs(vt,Pe),ne)cs(pt,Fe);else{var Mt=pt,Ct=pt,Et=pt;cs(pt,function(Wt){Wt.x<Mt.x&&(Mt=Wt),Wt.x>Ct.x&&(Ct=Wt),Wt.depth>Et.depth&&(Et=Wt)});var jt=q(Mt,Ct)/2-Mt.x,zt=$[0]/(Ct.x+q(Ct,Mt)/2+jt),Qt=$[1]/(Et.depth||1);cs(pt,function(Wt){Wt.x=(Wt.x+jt)*zt,Wt.y=Wt.depth*Qt})}return it}function xe(qe){var Ze=qe.children,it=qe.parent.children,pt=qe.i?it[qe.i-1]:null;if(Ze.length){(function(Mt){for(var Ct,Et=0,jt=0,zt=Mt.children,Qt=zt.length;--Qt>=0;)(Ct=zt[Qt]).z+=Et,Ct.m+=Et,Et+=Ct.s+(jt+=Ct.c)})(qe);var vt=(Ze[0].z+Ze[Ze.length-1].z)/2;pt?(qe.z=pt.z+q(qe._,pt._),qe.m=qe.z-vt):qe.z=vt}else pt&&(qe.z=pt.z+q(qe._,pt._));qe.parent.A=function(Mt,Ct,Et){if(Ct){for(var jt,zt=Mt,Qt=Mt,Wt=Ct,Vt=zt.parent.children[0],gn=zt.m,xn=Qt.m,On=Wt.m,Dn=Vt.m;Wt=ko(Wt),zt=ka(zt),Wt&&zt;)Vt=ka(Vt),(Qt=ko(Qt)).a=Mt,(jt=Wt.z+On-zt.z-gn+q(Wt._,zt._))>0&&(ui(gi(Wt,Mt,Et),Mt,jt),gn+=jt,xn+=jt),On+=Wt.m,gn+=zt.m,Dn+=Vt.m,xn+=Qt.m;Wt&&!ko(Qt)&&(Qt.t=Wt,Qt.m+=On-xn),zt&&!ka(Vt)&&(Vt.t=zt,Vt.m+=gn-Dn,Et=Mt)}return Et}(qe,pt,qe.parent.A||it[0])}function Pe(qe){qe._.x=qe.z+qe.parent.m,qe.m+=qe.parent.m}function Fe(qe){qe.x*=$[0],qe.y=qe.depth*$[1]}return he.separation=function(qe){return arguments.length?(q=qe,he):q},he.size=function(qe){return arguments.length?(ne=($=qe)==null?Fe:null,he):ne?null:$},he.nodeSize=function(qe){return arguments.length?(ne=($=qe)==null?null:Fe,he):ne?$:null},Xo(he,C)},r.layout.cluster=function(){var C=r.layout.hierarchy().sort(null).value(null),q=hs,$=[1,1],ne=!1;function he(xe,Pe){var Fe,qe=C.call(this,xe,Pe),Ze=qe[0],it=0;ri(Ze,function(Et){var jt=Et.children;jt&&jt.length?(Et.x=function(zt){return zt.reduce(function(Qt,Wt){return Qt+Wt.x},0)/zt.length}(jt),Et.y=function(zt){return 1+r.max(zt,function(Qt){return Qt.y})}(jt)):(Et.x=Fe?it+=q(Et,Fe):0,Et.y=0,Fe=Et)});var pt=io(Ze),vt=$s(Ze),Mt=pt.x-q(pt,vt)/2,Ct=vt.x+q(vt,pt)/2;return ri(Ze,ne?function(Et){Et.x=(Et.x-Ze.x)*$[0],Et.y=(Ze.y-Et.y)*$[1]}:function(Et){Et.x=(Et.x-Mt)/(Ct-Mt)*$[0],Et.y=(1-(Ze.y?Et.y/Ze.y:1))*$[1]}),qe}return he.separation=function(xe){return arguments.length?(q=xe,he):q},he.size=function(xe){return arguments.length?(ne=($=xe)==null,he):ne?null:$},he.nodeSize=function(xe){return arguments.length?(ne=($=xe)!=null,he):ne?$:null},Xo(he,C)},r.layout.treemap=function(){var C,q=r.layout.hierarchy(),$=Math.round,ne=[1,1],he=null,xe=bl,Pe=!1,Fe="squarify",qe=.5*(1+Math.sqrt(5));function Ze(Et,jt){for(var zt,Qt,Wt=-1,Vt=Et.length;++Wt<Vt;)Qt=(zt=Et[Wt]).value*(jt<0?0:jt),zt.area=isNaN(Qt)||Qt<=0?0:Qt}function it(Et){var jt=Et.children;if(jt&&jt.length){var zt,Qt,Wt,Vt=xe(Et),gn=[],xn=jt.slice(),On=1/0,Dn=Fe==="slice"?Vt.dx:Fe==="dice"?Vt.dy:Fe==="slice-dice"?1&Et.depth?Vt.dy:Vt.dx:Math.min(Vt.dx,Vt.dy);for(Ze(xn,Vt.dx*Vt.dy/Et.value),gn.area=0;(Wt=xn.length)>0;)gn.push(zt=xn[Wt-1]),gn.area+=zt.area,Fe!=="squarify"||(Qt=vt(gn,Dn))<=On?(xn.pop(),On=Qt):(gn.area-=gn.pop().area,Mt(gn,Dn,Vt,!1),Dn=Math.min(Vt.dx,Vt.dy),gn.length=gn.area=0,On=1/0);gn.length&&(Mt(gn,Dn,Vt,!0),gn.length=gn.area=0),jt.forEach(it)}}function pt(Et){var jt=Et.children;if(jt&&jt.length){var zt,Qt=xe(Et),Wt=jt.slice(),Vt=[];for(Ze(Wt,Qt.dx*Qt.dy/Et.value),Vt.area=0;zt=Wt.pop();)Vt.push(zt),Vt.area+=zt.area,zt.z!=null&&(Mt(Vt,zt.z?Qt.dx:Qt.dy,Qt,!Wt.length),Vt.length=Vt.area=0);jt.forEach(pt)}}function vt(Et,jt){for(var zt,Qt=Et.area,Wt=0,Vt=1/0,gn=-1,xn=Et.length;++gn<xn;)(zt=Et[gn].area)&&(zt<Vt&&(Vt=zt),zt>Wt&&(Wt=zt));return jt*=jt,(Qt*=Qt)?Math.max(jt*Wt*qe/Qt,Qt/(jt*Vt*qe)):1/0}function Mt(Et,jt,zt,Qt){var Wt,Vt=-1,gn=Et.length,xn=zt.x,On=zt.y,Dn=jt?$(Et.area/jt):0;if(jt==zt.dx){for((Qt||Dn>zt.dy)&&(Dn=zt.dy);++Vt<gn;)(Wt=Et[Vt]).x=xn,Wt.y=On,Wt.dy=Dn,xn+=Wt.dx=Math.min(zt.x+zt.dx-xn,Dn?$(Wt.area/Dn):0);Wt.z=!0,Wt.dx+=zt.x+zt.dx-xn,zt.y+=Dn,zt.dy-=Dn}else{for((Qt||Dn>zt.dx)&&(Dn=zt.dx);++Vt<gn;)(Wt=Et[Vt]).x=xn,Wt.y=On,Wt.dx=Dn,On+=Wt.dy=Math.min(zt.y+zt.dy-On,Dn?$(Wt.area/Dn):0);Wt.z=!1,Wt.dy+=zt.y+zt.dy-On,zt.x+=Dn,zt.dx-=Dn}}function Ct(Et){var jt=C||q(Et),zt=jt[0];return zt.x=zt.y=0,zt.value?(zt.dx=ne[0],zt.dy=ne[1]):zt.dx=zt.dy=0,C&&q.revalue(zt),Ze([zt],zt.dx*zt.dy/zt.value),(C?pt:it)(zt),Pe&&(C=jt),jt}return Ct.size=function(Et){return arguments.length?(ne=Et,Ct):ne},Ct.padding=function(Et){if(!arguments.length)return he;function jt(Qt){return Xl(Qt,Et)}var zt;return xe=(he=Et)==null?bl:(zt=typeof Et)=="function"?function(Qt){var Wt=Et.call(Ct,Qt,Qt.depth);return Wt==null?bl(Qt):Xl(Qt,typeof Wt=="number"?[Wt,Wt,Wt,Wt]:Wt)}:(zt==="number"&&(Et=[Et,Et,Et,Et]),jt),Ct},Ct.round=function(Et){return arguments.length?($=Et?Math.round:Number,Ct):$!=Number},Ct.sticky=function(Et){return arguments.length?(Pe=Et,C=null,Ct):Pe},Ct.ratio=function(Et){return arguments.length?(qe=Et,Ct):qe},Ct.mode=function(Et){return arguments.length?(Fe=Et+"",Ct):Fe},Xo(Ct,q)},r.random={normal:function(C,q){var $=arguments.length;return $<2&&(q=1),$<1&&(C=0),function(){var ne,he,xe;do xe=(ne=2*Math.random()-1)*ne+(he=2*Math.random()-1)*he;while(!xe||xe>1);return C+q*ne*Math.sqrt(-2*Math.log(xe)/xe)}},logNormal:function(){var C=r.random.normal.apply(r,arguments);return function(){return Math.exp(C())}},bates:function(C){var q=r.random.irwinHall(C);return function(){return q()/C}},irwinHall:function(C){return function(){for(var q=0,$=0;$<C;$++)q+=Math.random();return q}}},r.scale={};var Ca={floor:z,ceil:z};function Tl(C,q,$,ne){var he=[],xe=[],Pe=0,Fe=Math.min(C.length,q.length)-1;for(C[Fe]<C[0]&&(C=C.slice().reverse(),q=q.slice().reverse());++Pe<=Fe;)he.push($(C[Pe-1],C[Pe])),xe.push(ne(q[Pe-1],q[Pe]));return function(qe){var Ze=r.bisect(C,qe,1,Fe)-1;return xe[Ze](he[Ze](qe))}}function fo(C,q,$,ne){var he,xe;function Pe(){var qe=Math.min(C.length,q.length)>2?Tl:co,Ze=ne?Yu:Gu;return he=qe(C,q,Ze,$),xe=qe(q,C,Ze,Go),Fe}function Fe(qe){return he(qe)}return Fe.invert=function(qe){return xe(qe)},Fe.domain=function(qe){return arguments.length?(C=qe.map(Number),Pe()):C},Fe.range=function(qe){return arguments.length?(q=qe,Pe()):q},Fe.rangeRound=function(qe){return Fe.range(qe).interpolate(su)},Fe.clamp=function(qe){return arguments.length?(ne=qe,Pe()):ne},Fe.interpolate=function(qe){return arguments.length?($=qe,Pe()):$},Fe.ticks=function(qe){return ma(C,qe)},Fe.tickFormat=function(qe,Ze){return d3_scale_linearTickFormat(C,qe,Ze)},Fe.nice=function(qe){return va(C,qe),Pe()},Fe.copy=function(){return fo(C,q,$,ne)},Pe()}function fa(C,q){return r.rebind(C,q,"range","rangeRound","interpolate","clamp")}function va(C,q){return ps(C,ds(Mi(C,q)[2])),ps(C,ds(Mi(C,q)[2])),C}function Mi(C,q){q==null&&(q=10);var $=_l(C),ne=$[1]-$[0],he=Math.pow(10,Math.floor(Math.log(ne/q)/Math.LN10)),xe=q/ne*he;return xe<=.15?he*=10:xe<=.35?he*=5:xe<=.75&&(he*=2),$[0]=Math.ceil($[0]/he)*he,$[1]=Math.floor($[1]/he)*he+.5*he,$[2]=he,$}function ma(C,q){return r.range.apply(r,Mi(C,q))}function Fo(C,q,$,ne){function he(Fe){return($?Math.log(Fe<0?0:Fe):-Math.log(Fe>0?0:-Fe))/Math.log(q)}function xe(Fe){return $?Math.pow(q,Fe):-Math.pow(q,-Fe)}function Pe(Fe){return C(he(Fe))}return Pe.invert=function(Fe){return xe(C.invert(Fe))},Pe.domain=function(Fe){return arguments.length?($=Fe[0]>=0,C.domain((ne=Fe.map(Number)).map(he)),Pe):ne},Pe.base=function(Fe){return arguments.length?(q=+Fe,C.domain(ne.map(he)),Pe):q},Pe.nice=function(){var Fe=ps(ne.map(he),$?Math:Bs);return C.domain(Fe),ne=Fe.map(xe),Pe},Pe.ticks=function(){var Fe=_l(ne),qe=[],Ze=Fe[0],it=Fe[1],pt=Math.floor(he(Ze)),vt=Math.ceil(he(it)),Mt=q%1?2:q;if(isFinite(vt-pt)){if($){for(;pt<vt;pt++)for(var Ct=1;Ct<Mt;Ct++)qe.push(xe(pt)*Ct);qe.push(xe(pt))}else for(qe.push(xe(pt));pt++<vt;)for(Ct=Mt-1;Ct>0;Ct--)qe.push(xe(pt)*Ct);for(pt=0;qe[pt]<Ze;pt++);for(vt=qe.length;qe[vt-1]>it;vt--);qe=qe.slice(pt,vt)}return qe},Pe.copy=function(){return Fo(C.copy(),q,$,ne)},fa(Pe,C)}r.scale.linear=function(){return fo([0,1],[0,1],Go,!1)},r.scale.log=function(){return Fo(r.scale.linear().domain([0,1]),10,!0,[1,10])};var Bs={floor:function(C){return-Math.ceil(-C)},ceil:function(C){return-Math.floor(-C)}};function Mo(C,q,$){var ne=gs(q),he=gs(1/q);function xe(Pe){return C(ne(Pe))}return xe.invert=function(Pe){return he(C.invert(Pe))},xe.domain=function(Pe){return arguments.length?(C.domain(($=Pe.map(Number)).map(ne)),xe):$},xe.ticks=function(Pe){return ma($,Pe)},xe.tickFormat=function(Pe,Fe){return d3_scale_linearTickFormat($,Pe,Fe)},xe.nice=function(Pe){return xe.domain(va($,Pe))},xe.exponent=function(Pe){return arguments.length?(ne=gs(q=Pe),he=gs(1/q),C.domain($.map(ne)),xe):q},xe.copy=function(){return Mo(C.copy(),q,$)},fa(xe,C)}function gs(C){return function(q){return q<0?-Math.pow(-q,C):Math.pow(q,C)}}function ja(C,q){var $,ne,he;function xe(Fe){return ne[(($.get(Fe)||(q.t==="range"?$.set(Fe,C.push(Fe)):NaN))-1)%ne.length]}function Pe(Fe,qe){return r.range(C.length).map(function(Ze){return Fe+qe*Ze})}return xe.domain=function(Fe){if(!arguments.length)return C;C=[],$=new x;for(var qe,Ze=-1,it=Fe.length;++Ze<it;)$.has(qe=Fe[Ze])||$.set(qe,C.push(qe));return xe[q.t].apply(xe,q.a)},xe.range=function(Fe){return arguments.length?(ne=Fe,he=0,q={t:"range",a:arguments},xe):ne},xe.rangePoints=function(Fe,qe){arguments.length<2&&(qe=0);var Ze=Fe[0],it=Fe[1],pt=C.length<2?(Ze=(Ze+it)/2,0):(it-Ze)/(C.length-1+qe);return ne=Pe(Ze+pt*qe/2,pt),he=0,q={t:"rangePoints",a:arguments},xe},xe.rangeRoundPoints=function(Fe,qe){arguments.length<2&&(qe=0);var Ze=Fe[0],it=Fe[1],pt=C.length<2?(Ze=it=Math.round((Ze+it)/2),0):(it-Ze)/(C.length-1+qe)|0;return ne=Pe(Ze+Math.round(pt*qe/2+(it-Ze-(C.length-1+qe)*pt)/2),pt),he=0,q={t:"rangeRoundPoints",a:arguments},xe},xe.rangeBands=function(Fe,qe,Ze){arguments.length<2&&(qe=0),arguments.length<3&&(Ze=qe);var it=Fe[1]<Fe[0],pt=Fe[it-0],vt=(Fe[1-it]-pt)/(C.length-qe+2*Ze);return ne=Pe(pt+vt*Ze,vt),it&&ne.reverse(),he=vt*(1-qe),q={t:"rangeBands",a:arguments},xe},xe.rangeRoundBands=function(Fe,qe,Ze){arguments.length<2&&(qe=0),arguments.length<3&&(Ze=qe);var it=Fe[1]<Fe[0],pt=Fe[it-0],vt=Fe[1-it],Mt=Math.floor((vt-pt)/(C.length-qe+2*Ze));return ne=Pe(pt+Math.round((vt-pt-(C.length-qe)*Mt)/2),Mt),it&&ne.reverse(),he=Math.round(Mt*(1-qe)),q={t:"rangeRoundBands",a:arguments},xe},xe.rangeBand=function(){return he},xe.rangeExtent=function(){return _l(q.a[0])},xe.copy=function(){return ja(C,q)},xe.domain(C)}r.scale.pow=function(){return Mo(r.scale.linear(),1,[0,1])},r.scale.sqrt=function(){return r.scale.pow().exponent(.5)},r.scale.ordinal=function(){return ja([],{t:"range",a:[[]]})},r.scale.category10=function(){return r.scale.ordinal().range(Ns)},r.scale.category20=function(){return r.scale.ordinal().range(Ko)},r.scale.category20b=function(){return r.scale.ordinal().range(ho)},r.scale.category20c=function(){return r.scale.ordinal().range(po)};var Ns=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Kt),Ko=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Kt),ho=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Kt),po=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Kt);function Si(C,q){var $;function ne(){var xe=0,Pe=q.length;for($=[];++xe<Pe;)$[xe-1]=r.quantile(C,xe/Pe);return he}function he(xe){if(!isNaN(xe=+xe))return q[r.bisect($,xe)]}return he.domain=function(xe){return arguments.length?(C=xe.map(h).filter(c).sort(u),ne()):C},he.range=function(xe){return arguments.length?(q=xe,ne()):q},he.quantiles=function(){return $},he.invertExtent=function(xe){return(xe=q.indexOf(xe))<0?[NaN,NaN]:[xe>0?$[xe-1]:C[0],xe<$.length?$[xe]:C[C.length-1]]},he.copy=function(){return Si(C,q)},ne()}function Ao(C,q,$){var ne,he;function xe(Fe){return $[Math.max(0,Math.min(he,Math.floor(ne*(Fe-C))))]}function Pe(){return ne=$.length/(q-C),he=$.length-1,xe}return xe.domain=function(Fe){return arguments.length?(C=+Fe[0],q=+Fe[Fe.length-1],Pe()):[C,q]},xe.range=function(Fe){return arguments.length?($=Fe,Pe()):$},xe.invertExtent=function(Fe){return[Fe=(Fe=$.indexOf(Fe))<0?NaN:Fe/ne+C,Fe+1/ne]},xe.copy=function(){return Ao(C,q,$)},Pe()}function Ir(C,q){function $(ne){if(ne<=ne)return q[r.bisect(C,ne)]}return $.domain=function(ne){return arguments.length?(C=ne,$):C},$.range=function(ne){return arguments.length?(q=ne,$):q},$.invertExtent=function(ne){return ne=q.indexOf(ne),[C[ne-1],C[ne]]},$.copy=function(){return Ir(C,q)},$}function kl(C){function q($){return+$}return q.invert=q,q.domain=q.range=function($){return arguments.length?(C=$.map(q),q):C},q.ticks=function($){return ma(C,$)},q.tickFormat=function($,ne){return d3_scale_linearTickFormat(C,$,ne)},q.copy=function(){return kl(C)},q}function uu(){return 0}r.scale.quantile=function(){return Si([],[])},r.scale.quantize=function(){return Ao(0,1,[0,1])},r.scale.threshold=function(){return Ir([.5],[0,1])},r.scale.identity=function(){return kl([0,1])},r.svg={},r.svg.arc=function(){var C=ms,q=js,$=uu,ne=vs,he=el,xe=Tr,Pe=Ml;function Fe(){var Ze=Math.max(0,+C.apply(this,arguments)),it=Math.max(0,+q.apply(this,arguments)),pt=he.apply(this,arguments)-Xe,vt=xe.apply(this,arguments)-Xe,Mt=Math.abs(vt-pt),Ct=pt>vt?0:1;if(it<Ze&&(Et=it,it=Ze,Ze=Et),Mt>=Dt)return qe(it,Ct)+(Ze?qe(Ze,1-Ct):"")+"Z";var Et,jt,zt,Qt,Wt,Vt,gn,xn,On,Dn,Wn,ar,vr=0,Jn=0,dr=[];if((Qt=(+Pe.apply(this,arguments)||0)/2)&&(zt=ne===vs?Math.sqrt(Ze*Ze+it*it):+ne.apply(this,arguments),Ct||(Jn*=-1),it&&(Jn=Je(zt/it*Math.sin(Qt))),Ze&&(vr=Je(zt/Ze*Math.sin(Qt)))),it){Wt=it*Math.cos(pt+Jn),Vt=it*Math.sin(pt+Jn),gn=it*Math.cos(vt-Jn),xn=it*Math.sin(vt-Jn);var kr=Math.abs(vt-pt-2*Jn)<=Rt?0:1;if(Jn&&Qo(Wt,Vt,gn,xn)===Ct^kr){var Rr=(pt+vt)/2;Wt=it*Math.cos(Rr),Vt=it*Math.sin(Rr),gn=xn=null}}else Wt=Vt=0;if(Ze){On=Ze*Math.cos(vt-vr),Dn=Ze*Math.sin(vt-vr),Wn=Ze*Math.cos(pt+vr),ar=Ze*Math.sin(pt+vr);var rr=Math.abs(pt-vt+2*vr)<=Rt?0:1;if(vr&&Qo(On,Dn,Wn,ar)===1-Ct^rr){var pr=(pt+vt)/2;On=Ze*Math.cos(pr),Dn=Ze*Math.sin(pr),Wn=ar=null}}else On=Dn=0;if(Mt>rt&&(Et=Math.min(Math.abs(it-Ze)/2,+$.apply(this,arguments)))>.001){jt=Ze<it^Ct?0:1;var Er=Et,mr=Et;if(Mt<Rt){var Dr=Wn==null?[On,Dn]:gn==null?[Wt,Vt]:It([Wt,Vt],[Wn,ar],[gn,xn],[On,Dn]),jr=Wt-Dr[0],Xr=Vt-Dr[1],Kr=gn-Dr[0],ni=xn-Dr[1],ai=1/Math.sin(Math.acos((jr*Kr+Xr*ni)/(Math.sqrt(jr*jr+Xr*Xr)*Math.sqrt(Kr*Kr+ni*ni)))/2),Li=Math.sqrt(Dr[0]*Dr[0]+Dr[1]*Dr[1]);mr=Math.min(Et,(Ze-Li)/(ai-1)),Er=Math.min(Et,(it-Li)/(ai+1))}if(gn!=null){var Ki=ha(Wn==null?[On,Dn]:[Wn,ar],[Wt,Vt],it,Er,Ct),Pa=ha([gn,xn],[On,Dn],it,Er,Ct);Et===Er?dr.push("M",Ki[0],"A",Er,",",Er," 0 0,",jt," ",Ki[1],"A",it,",",it," 0 ",1-Ct^Qo(Ki[1][0],Ki[1][1],Pa[1][0],Pa[1][1]),",",Ct," ",Pa[1],"A",Er,",",Er," 0 0,",jt," ",Pa[0]):dr.push("M",Ki[0],"A",Er,",",Er," 0 1,",jt," ",Pa[0])}else dr.push("M",Wt,",",Vt);if(Wn!=null){var pa=ha([Wt,Vt],[Wn,ar],Ze,-mr,Ct),Ma=ha([On,Dn],gn==null?[Wt,Vt]:[gn,xn],Ze,-mr,Ct);Et===mr?dr.push("L",Ma[0],"A",mr,",",mr," 0 0,",jt," ",Ma[1],"A",Ze,",",Ze," 0 ",Ct^Qo(Ma[1][0],Ma[1][1],pa[1][0],pa[1][1]),",",1-Ct," ",pa[1],"A",mr,",",mr," 0 0,",jt," ",pa[0]):dr.push("L",Ma[0],"A",mr,",",mr," 0 0,",jt," ",pa[0])}else dr.push("L",On,",",Dn)}else dr.push("M",Wt,",",Vt),gn!=null&&dr.push("A",it,",",it," 0 ",kr,",",Ct," ",gn,",",xn),dr.push("L",On,",",Dn),Wn!=null&&dr.push("A",Ze,",",Ze," 0 ",rr,",",1-Ct," ",Wn,",",ar);return dr.push("Z"),dr.join("")}function qe(Ze,it){return"M0,"+Ze+"A"+Ze+","+Ze+" 0 1,"+it+" 0,"+-Ze+"A"+Ze+","+Ze+" 0 1,"+it+" 0,"+Ze}return Fe.innerRadius=function(Ze){return arguments.length?(C=Gn(Ze),Fe):C},Fe.outerRadius=function(Ze){return arguments.length?(q=Gn(Ze),Fe):q},Fe.cornerRadius=function(Ze){return arguments.length?($=Gn(Ze),Fe):$},Fe.padRadius=function(Ze){return arguments.length?(ne=Ze==vs?vs:Gn(Ze),Fe):ne},Fe.startAngle=function(Ze){return arguments.length?(he=Gn(Ze),Fe):he},Fe.endAngle=function(Ze){return arguments.length?(xe=Gn(Ze),Fe):xe},Fe.padAngle=function(Ze){return arguments.length?(Pe=Gn(Ze),Fe):Pe},Fe.centroid=function(){var Ze=(+C.apply(this,arguments)+ +q.apply(this,arguments))/2,it=(+he.apply(this,arguments)+ +xe.apply(this,arguments))/2-Xe;return[Math.cos(it)*Ze,Math.sin(it)*Ze]},Fe};var vs="auto";function ms(C){return C.innerRadius}function js(C){return C.outerRadius}function el(C){return C.startAngle}function Tr(C){return C.endAngle}function Ml(C){return C&&C.padAngle}function Qo(C,q,$,ne){return(C-$)*q-(q-ne)*C>0?0:1}function ha(C,q,$,ne,he){var xe=C[0]-q[0],Pe=C[1]-q[1],Fe=(he?ne:-ne)/Math.sqrt(xe*xe+Pe*Pe),qe=Fe*Pe,Ze=-Fe*xe,it=C[0]+qe,pt=C[1]+Ze,vt=q[0]+qe,Mt=q[1]+Ze,Ct=(it+vt)/2,Et=(pt+Mt)/2,jt=vt-it,zt=Mt-pt,Qt=jt*jt+zt*zt,Wt=$-ne,Vt=it*Mt-vt*pt,gn=(zt<0?-1:1)*Math.sqrt(Math.max(0,Wt*Wt*Qt-Vt*Vt)),xn=(Vt*zt-jt*gn)/Qt,On=(-Vt*jt-zt*gn)/Qt,Dn=(Vt*zt+jt*gn)/Qt,Wn=(-Vt*jt+zt*gn)/Qt,ar=xn-Ct,vr=On-Et,Jn=Dn-Ct,dr=Wn-Et;return ar*ar+vr*vr>Jn*Jn+dr*dr&&(xn=Dn,On=Wn),[[xn-qe,On-Ze],[xn*$/Wt,On*$/Wt]]}function ys(){return!0}function So(C){var q=Yn,$=Fn,ne=ys,he=Oa,xe=he.key,Pe=.7;function Fe(qe){var Ze,it=[],pt=[],vt=-1,Mt=qe.length,Ct=Gn(q),Et=Gn($);function jt(){it.push("M",he(C(pt),Pe))}for(;++vt<Mt;)ne.call(this,Ze=qe[vt],vt)?pt.push([+Ct.call(this,Ze,vt),+Et.call(this,Ze,vt)]):pt.length&&(jt(),pt=[]);return pt.length&&jt(),it.length?it.join(""):null}return Fe.x=function(qe){return arguments.length?(q=qe,Fe):q},Fe.y=function(qe){return arguments.length?($=qe,Fe):$},Fe.defined=function(qe){return arguments.length?(ne=qe,Fe):ne},Fe.interpolate=function(qe){return arguments.length?(xe=typeof qe=="function"?he=qe:(he=go.get(qe)||Oa).key,Fe):xe},Fe.tension=function(qe){return arguments.length?(Pe=qe,Fe):Pe},Fe}r.svg.line=function(){return So(z)};var go=r.map({linear:Oa,"linear-closed":Bo,step:function(C){for(var q=0,$=C.length,ne=C[0],he=[ne[0],",",ne[1]];++q<$;)he.push("H",(ne[0]+(ne=C[q])[0])/2,"V",ne[1]);return $>1&&he.push("H",ne[0]),he.join("")},"step-before":vo,"step-after":$o,basis:oi,"basis-open":function(C){if(C.length<4)return Oa(C);for(var q,$=[],ne=-1,he=C.length,xe=[0],Pe=[0];++ne<3;)q=C[ne],xe.push(q[0]),Pe.push(q[1]);for($.push(ya(Va,xe)+","+ya(Va,Pe)),--ne;++ne<he;)q=C[ne],xe.shift(),xe.push(q[0]),Pe.shift(),Pe.push(q[1]),tl($,xe,Pe);return $.join("")},"basis-closed":function(C){for(var q,$,ne=-1,he=C.length,xe=he+4,Pe=[],Fe=[];++ne<4;)$=C[ne%he],Pe.push($[0]),Fe.push($[1]);for(q=[ya(Va,Pe),",",ya(Va,Fe)],--ne;++ne<xe;)$=C[ne%he],Pe.shift(),Pe.push($[0]),Fe.shift(),Fe.push($[1]),tl(q,Pe,Fe);return q.join("")},bundle:function(C,q){var $=C.length-1;if($)for(var ne,he,xe=C[0][0],Pe=C[0][1],Fe=C[$][0]-xe,qe=C[$][1]-Pe,Ze=-1;++Ze<=$;)he=Ze/$,(ne=C[Ze])[0]=q*ne[0]+(1-q)*(xe+he*Fe),ne[1]=q*ne[1]+(1-q)*(Pe+he*qe);return oi(C)},cardinal:function(C,q){return C.length<3?Oa(C):C[0]+Al(C,xs(C,q))},"cardinal-open":function(C,q){return C.length<4?Oa(C):C[1]+Al(C.slice(1,-1),xs(C,q))},"cardinal-closed":function(C,q){return C.length<3?Bo(C):C[0]+Al((C.push(C[0]),C),xs([C[C.length-2]].concat(C,[C[1]]),q))},monotone:function(C){return C.length<3?Oa(C):C[0]+Al(C,function(q){for(var $,ne,he,xe,Pe=[],Fe=function(it){for(var pt=0,vt=it.length-1,Mt=[],Ct=it[0],Et=it[1],jt=Mt[0]=nl(Ct,Et);++pt<vt;)Mt[pt]=(jt+(jt=nl(Ct=Et,Et=it[pt+1])))/2;return Mt[pt]=jt,Mt}(q),qe=-1,Ze=q.length-1;++qe<Ze;)$=nl(q[qe],q[qe+1]),m($)<rt?Fe[qe]=Fe[qe+1]=0:(xe=(ne=Fe[qe]/$)*ne+(he=Fe[qe+1]/$)*he)>9&&(xe=3*$/Math.sqrt(xe),Fe[qe]=xe*ne,Fe[qe+1]=xe*he);for(qe=-1;++qe<=Ze;)xe=(q[Math.min(Ze,qe+1)][0]-q[Math.max(0,qe-1)][0])/(6*(1+Fe[qe]*Fe[qe])),Pe.push([xe||0,Fe[qe]*xe||0]);return Pe}(C))}});function Oa(C){return C.length>1?C.join("L"):C+"Z"}function Bo(C){return C.join("L")+"Z"}function vo(C){for(var q=0,$=C.length,ne=C[0],he=[ne[0],",",ne[1]];++q<$;)he.push("V",(ne=C[q])[1],"H",ne[0]);return he.join("")}function $o(C){for(var q=0,$=C.length,ne=C[0],he=[ne[0],",",ne[1]];++q<$;)he.push("H",(ne=C[q])[0],"V",ne[1]);return he.join("")}function Al(C,q){if(q.length<1||C.length!=q.length&&C.length!=q.length+2)return Oa(C);var $=C.length!=q.length,ne="",he=C[0],xe=C[1],Pe=q[0],Fe=Pe,qe=1;if($&&(ne+="Q"+(xe[0]-2*Pe[0]/3)+","+(xe[1]-2*Pe[1]/3)+","+xe[0]+","+xe[1],he=C[1],qe=2),q.length>1){Fe=q[1],xe=C[qe],qe++,ne+="C"+(he[0]+Pe[0])+","+(he[1]+Pe[1])+","+(xe[0]-Fe[0])+","+(xe[1]-Fe[1])+","+xe[0]+","+xe[1];for(var Ze=2;Ze<q.length;Ze++,qe++)xe=C[qe],Fe=q[Ze],ne+="S"+(xe[0]-Fe[0])+","+(xe[1]-Fe[1])+","+xe[0]+","+xe[1]}if($){var it=C[qe];ne+="Q"+(xe[0]+2*Fe[0]/3)+","+(xe[1]+2*Fe[1]/3)+","+it[0]+","+it[1]}return ne}function xs(C,q){for(var $,ne=[],he=(1-q)/2,xe=C[0],Pe=C[1],Fe=1,qe=C.length;++Fe<qe;)$=xe,xe=Pe,Pe=C[Fe],ne.push([he*(Pe[0]-$[0]),he*(Pe[1]-$[1])]);return ne}function oi(C){if(C.length<3)return Oa(C);var q=1,$=C.length,ne=C[0],he=ne[0],xe=ne[1],Pe=[he,he,he,(ne=C[1])[0]],Fe=[xe,xe,xe,ne[1]],qe=[he,",",xe,"L",ya(Va,Pe),",",ya(Va,Fe)];for(C.push(C[$-1]);++q<=$;)ne=C[q],Pe.shift(),Pe.push(ne[0]),Fe.shift(),Fe.push(ne[1]),tl(qe,Pe,Fe);return C.pop(),qe.push("L",ne),qe.join("")}function ya(C,q){return C[0]*q[0]+C[1]*q[1]+C[2]*q[2]+C[3]*q[3]}go.forEach(function(C,q){q.key=C,q.closed=/-closed$/.test(C)});var Ua=[0,2/3,1/3,0],No=[0,1/3,2/3,0],Va=[0,1/6,2/3,1/6];function tl(C,q,$){C.push("C",ya(Ua,q),",",ya(Ua,$),",",ya(No,q),",",ya(No,$),",",ya(Va,q),",",ya(Va,$))}function nl(C,q){return(q[1]-C[1])/(q[0]-C[0])}function Ha(C){for(var q,$,ne,he=-1,xe=C.length;++he<xe;)$=(q=C[he])[0],ne=q[1]-Xe,q[0]=$*Math.cos(ne),q[1]=$*Math.sin(ne);return C}function ii(C){var q=Yn,$=Yn,ne=0,he=Fn,xe=ys,Pe=Oa,Fe=Pe.key,qe=Pe,Ze="L",it=.7;function pt(vt){var Mt,Ct,Et,jt=[],zt=[],Qt=[],Wt=-1,Vt=vt.length,gn=Gn(q),xn=Gn(ne),On=q===$?function(){return Ct}:Gn($),Dn=ne===he?function(){return Et}:Gn(he);function Wn(){jt.push("M",Pe(C(Qt),it),Ze,qe(C(zt.reverse()),it),"Z")}for(;++Wt<Vt;)xe.call(this,Mt=vt[Wt],Wt)?(zt.push([Ct=+gn.call(this,Mt,Wt),Et=+xn.call(this,Mt,Wt)]),Qt.push([+On.call(this,Mt,Wt),+Dn.call(this,Mt,Wt)])):zt.length&&(Wn(),zt=[],Qt=[]);return zt.length&&Wn(),jt.length?jt.join(""):null}return pt.x=function(vt){return arguments.length?(q=$=vt,pt):$},pt.x0=function(vt){return arguments.length?(q=vt,pt):q},pt.x1=function(vt){return arguments.length?($=vt,pt):$},pt.y=function(vt){return arguments.length?(ne=he=vt,pt):he},pt.y0=function(vt){return arguments.length?(ne=vt,pt):ne},pt.y1=function(vt){return arguments.length?(he=vt,pt):he},pt.defined=function(vt){return arguments.length?(xe=vt,pt):xe},pt.interpolate=function(vt){return arguments.length?(Fe=typeof vt=="function"?Pe=vt:(Pe=go.get(vt)||Oa).key,qe=Pe.reverse||Pe,Ze=Pe.closed?"M":"L",pt):Fe},pt.tension=function(vt){return arguments.length?(it=vt,pt):it},pt}function jo(C){return C.source}function Us(C){return C.target}function Eo(C){return C.radius}function rl(C){return[C.x,C.y]}function il(){return 64}function Lo(){return"circle"}function Ei(C){var q=Math.sqrt(C/Rt);return"M0,"+q+"A"+q+","+q+" 0 1,1 0,"+-q+"A"+q+","+q+" 0 1,1 0,"+q+"Z"}r.svg.line.radial=function(){var C=So(Ha);return C.radius=C.x,delete C.x,C.angle=C.y,delete C.y,C},vo.reverse=$o,$o.reverse=vo,r.svg.area=function(){return ii(z)},r.svg.area.radial=function(){var C=ii(Ha);return C.radius=C.x,delete C.x,C.innerRadius=C.x0,delete C.x0,C.outerRadius=C.x1,delete C.x1,C.angle=C.y,delete C.y,C.startAngle=C.y0,delete C.y0,C.endAngle=C.y1,delete C.y1,C},r.svg.chord=function(){var C=jo,q=Us,$=Eo,ne=el,he=Tr;function xe(Ze,it){var pt,vt,Mt=Pe(this,C,Ze,it),Ct=Pe(this,q,Ze,it);return"M"+Mt.p0+Fe(Mt.r,Mt.p1,Mt.a1-Mt.a0)+(vt=Ct,((pt=Mt).a0==vt.a0&&pt.a1==vt.a1?qe(Mt.r,Mt.p1,Mt.r,Mt.p0):qe(Mt.r,Mt.p1,Ct.r,Ct.p0)+Fe(Ct.r,Ct.p1,Ct.a1-Ct.a0)+qe(Ct.r,Ct.p1,Mt.r,Mt.p0))+"Z")}function Pe(Ze,it,pt,vt){var Mt=it.call(Ze,pt,vt),Ct=$.call(Ze,Mt,vt),Et=ne.call(Ze,Mt,vt)-Xe,jt=he.call(Ze,Mt,vt)-Xe;return{r:Ct,a0:Et,a1:jt,p0:[Ct*Math.cos(Et),Ct*Math.sin(Et)],p1:[Ct*Math.cos(jt),Ct*Math.sin(jt)]}}function Fe(Ze,it,pt){return"A"+Ze+","+Ze+" 0 "+ +(pt>Rt)+",1 "+it}function qe(Ze,it,pt,vt){return"Q 0,0 "+vt}return xe.radius=function(Ze){return arguments.length?($=Gn(Ze),xe):$},xe.source=function(Ze){return arguments.length?(C=Gn(Ze),xe):C},xe.target=function(Ze){return arguments.length?(q=Gn(Ze),xe):q},xe.startAngle=function(Ze){return arguments.length?(ne=Gn(Ze),xe):ne},xe.endAngle=function(Ze){return arguments.length?(he=Gn(Ze),xe):he},xe},r.svg.diagonal=function(){var C=jo,q=Us,$=rl;function ne(he,xe){var Pe=C.call(this,he,xe),Fe=q.call(this,he,xe),qe=(Pe.y+Fe.y)/2,Ze=[Pe,{x:Pe.x,y:qe},{x:Fe.x,y:qe},Fe];return"M"+(Ze=Ze.map($))[0]+"C"+Ze[1]+" "+Ze[2]+" "+Ze[3]}return ne.source=function(he){return arguments.length?(C=Gn(he),ne):C},ne.target=function(he){return arguments.length?(q=Gn(he),ne):q},ne.projection=function(he){return arguments.length?($=he,ne):$},ne},r.svg.diagonal.radial=function(){var C=r.svg.diagonal(),q=rl,$=C.projection;return C.projection=function(ne){return arguments.length?$(function(he){return function(){var xe=he.apply(this,arguments),Pe=xe[0],Fe=xe[1]-Xe;return[Pe*Math.cos(Fe),Pe*Math.sin(Fe)]}}(q=ne)):q},C},r.svg.symbol=function(){var C=Lo,q=il;function $(ne,he){return(Vs.get(C.call(this,ne,he))||Ei)(q.call(this,ne,he))}return $.type=function(ne){return arguments.length?(C=Gn(ne),$):C},$.size=function(ne){return arguments.length?(q=Gn(ne),$):q},$};var Vs=r.map({circle:Ei,cross:function(C){var q=Math.sqrt(C/5)/2;return"M"+-3*q+","+-q+"H"+-q+"V"+-3*q+"H"+q+"V"+-q+"H"+3*q+"V"+q+"H"+q+"V"+3*q+"H"+-q+"V"+q+"H"+-3*q+"Z"},diamond:function(C){var q=Math.sqrt(C/(2*Hr)),$=q*Hr;return"M0,"+-q+"L"+$+",0 0,"+q+" "+-$+",0Z"},square:function(C){var q=Math.sqrt(C)/2;return"M"+-q+","+-q+"L"+q+","+-q+" "+q+","+q+" "+-q+","+q+"Z"},"triangle-down":function(C){var q=Math.sqrt(C/zr),$=q*zr/2;return"M0,"+$+"L"+q+","+-$+" "+-q+","+-$+"Z"},"triangle-up":function(C){var q=Math.sqrt(C/zr),$=q*zr/2;return"M0,"+-$+"L"+q+","+$+" "+-q+","+$+"Z"}});r.svg.symbolTypes=Vs.keys();var zr=Math.sqrt(3),Hr=Math.tan(30*Ke);ge.transition=function(C){for(var q,$,ne=na||++Du,he=zi(C),xe=[],Pe=Vo||{time:Date.now(),ease:Do,delay:0,duration:250},Fe=-1,qe=this.length;++Fe<qe;){xe.push(q=[]);for(var Ze=this[Fe],it=-1,pt=Ze.length;++it<pt;)($=Ze[it])&&Ka($,it,he,ne,Pe),q.push($)}return es(xe,he,ne)},ge.interrupt=function(C){return this.each(C==null?ao:Uo(zi(C)))};var ao=Uo(zi());function Uo(C){return function(){var q,$,ne;(q=this[C])&&(ne=q[$=q.active])&&(ne.timer.c=null,ne.timer.t=NaN,--q.count?delete q[$]:delete this[C],q.active+=.5,ne.event&&ne.event.interrupt.call(this,this.__data__,ne.index))}}function es(C,q,$){return ee(C,mi),C.namespace=q,C.id=$,C}var na,Vo,mi=[],Du=0;function oo(C,q,$,ne){var he=C.id,xe=C.namespace;return Te(C,typeof $=="function"?function(Pe,Fe,qe){Pe[xe][he].tween.set(q,ne($.call(Pe,Pe.__data__,Fe,qe)))}:($=ne($),function(Pe){Pe[xe][he].tween.set(q,$)}))}function _i(C){return C==null&&(C=""),function(){this.textContent=C}}function zi(C){return C==null?"__transition__":"__transition_"+C+"__"}function Ka(C,q,$,ne,he){var xe,Pe,Fe,qe,Ze,it=C[$]||(C[$]={active:0,count:0}),pt=it[ne];function vt(Ct){var Et=it.active,jt=it[Et];for(var zt in jt&&(jt.timer.c=null,jt.timer.t=NaN,--it.count,delete it[Et],jt.event&&jt.event.interrupt.call(C,C.__data__,jt.index)),it)if(+zt<ne){var Qt=it[zt];Qt.timer.c=null,Qt.timer.t=NaN,--it.count,delete it[zt]}Pe.c=Mt,an(function(){return Pe.c&&Mt(Ct||1)&&(Pe.c=null,Pe.t=NaN),1},0,xe),it.active=ne,pt.event&&pt.event.start.call(C,C.__data__,q),Ze=[],pt.tween.forEach(function(Wt,Vt){(Vt=Vt.call(C,C.__data__,q))&&Ze.push(Vt)}),qe=pt.ease,Fe=pt.duration}function Mt(Ct){for(var Et=Ct/Fe,jt=qe(Et),zt=Ze.length;zt>0;)Ze[--zt].call(C,jt);if(Et>=1)return pt.event&&pt.event.end.call(C,C.__data__,q),--it.count?delete it[ne]:delete C[$],1}pt||(xe=he.time,Pe=an(function(Ct){var Et=pt.delay;if(Pe.t=Et+xe,Et<=Ct)return vt(Ct-Et);Pe.c=vt},0,xe),pt=it[ne]={tween:new x,time:xe,timer:Pe,delay:he.delay,duration:he.duration,ease:he.ease,index:q},he=null,++it.count)}mi.call=ge.call,mi.empty=ge.empty,mi.node=ge.node,mi.size=ge.size,r.transition=function(C,q){return C&&C.transition?na?C.transition(q):C:r.selection().transition(C)},r.transition.prototype=mi,mi.select=function(C){var q,$,ne,he=this.id,xe=this.namespace,Pe=[];C=ve(C);for(var Fe=-1,qe=this.length;++Fe<qe;){Pe.push(q=[]);for(var Ze=this[Fe],it=-1,pt=Ze.length;++it<pt;)(ne=Ze[it])&&($=C.call(ne,ne.__data__,it,Fe))?("__data__"in ne&&($.__data__=ne.__data__),Ka($,it,xe,he,ne[xe][he]),q.push($)):q.push(null)}return es(Pe,xe,he)},mi.selectAll=function(C){var q,$,ne,he,xe,Pe=this.id,Fe=this.namespace,qe=[];C=be(C);for(var Ze=-1,it=this.length;++Ze<it;)for(var pt=this[Ze],vt=-1,Mt=pt.length;++vt<Mt;)if(ne=pt[vt]){xe=ne[Fe][Pe],$=C.call(ne,ne.__data__,vt,Ze),qe.push(q=[]);for(var Ct=-1,Et=$.length;++Ct<Et;)(he=$[Ct])&&Ka(he,Ct,Fe,Pe,xe),q.push(he)}return es(qe,Fe,Pe)},mi.filter=function(C){var q,$,ne=[];typeof C!="function"&&(C=pe(C));for(var he=0,xe=this.length;he<xe;he++){ne.push(q=[]);for(var Pe,Fe=0,qe=(Pe=this[he]).length;Fe<qe;Fe++)($=Pe[Fe])&&C.call($,$.__data__,Fe,he)&&q.push($)}return es(ne,this.namespace,this.id)},mi.tween=function(C,q){var $=this.id,ne=this.namespace;return arguments.length<2?this.node()[ne][$].tween.get(C):Te(this,q==null?function(he){he[ne][$].tween.remove(C)}:function(he){he[ne][$].tween.set(C,q)})},mi.attr=function(C,q){if(arguments.length<2){for(q in C)this.attr(q,C[q]);return this}var $=C=="transform"?Cu:Go,ne=r.ns.qualify(C);function he(){this.removeAttribute(ne)}function xe(){this.removeAttributeNS(ne.space,ne.local)}return oo(this,"attr."+C,q,ne.local?function(Pe){return Pe==null?xe:(Pe+="",function(){var Fe,qe=this.getAttributeNS(ne.space,ne.local);return qe!==Pe&&(Fe=$(qe,Pe),function(Ze){this.setAttributeNS(ne.space,ne.local,Fe(Ze))})})}:function(Pe){return Pe==null?he:(Pe+="",function(){var Fe,qe=this.getAttribute(ne);return qe!==Pe&&(Fe=$(qe,Pe),function(Ze){this.setAttribute(ne,Fe(Ze))})})})},mi.attrTween=function(C,q){var $=r.ns.qualify(C);return this.tween("attr."+C,$.local?function(ne,he){var xe=q.call(this,ne,he,this.getAttributeNS($.space,$.local));return xe&&function(Pe){this.setAttributeNS($.space,$.local,xe(Pe))}}:function(ne,he){var xe=q.call(this,ne,he,this.getAttribute($));return xe&&function(Pe){this.setAttribute($,xe(Pe))}})},mi.style=function(C,q,$){var ne=arguments.length;if(ne<3){if(typeof C!="string"){for($ in ne<2&&(q=""),C)this.style($,C[$],q);return this}$=""}function he(){this.style.removeProperty(C)}return oo(this,"style."+C,q,function(xe){return xe==null?he:(xe+="",function(){var Pe,Fe=t(this).getComputedStyle(this,null).getPropertyValue(C);return Fe!==xe&&(Pe=Go(Fe,xe),function(qe){this.style.setProperty(C,Pe(qe),$)})})})},mi.styleTween=function(C,q,$){return arguments.length<3&&($=""),this.tween("style."+C,function(ne,he){var xe=q.call(this,ne,he,t(this).getComputedStyle(this,null).getPropertyValue(C));return xe&&function(Pe){this.style.setProperty(C,xe(Pe),$)}})},mi.text=function(C){return oo(this,"text",C,_i)},mi.remove=function(){var C=this.namespace;return this.each("end.transition",function(){var q;this[C].count<2&&(q=this.parentNode)&&q.removeChild(this)})},mi.ease=function(C){var q=this.id,$=this.namespace;return arguments.length<1?this.node()[$][q].ease:(typeof C!="function"&&(C=r.ease.apply(r,arguments)),Te(this,function(ne){ne[$][q].ease=C}))},mi.delay=function(C){var q=this.id,$=this.namespace;return arguments.length<1?this.node()[$][q].delay:Te(this,typeof C=="function"?function(ne,he,xe){ne[$][q].delay=+C.call(ne,ne.__data__,he,xe)}:(C=+C,function(ne){ne[$][q].delay=C}))},mi.duration=function(C){var q=this.id,$=this.namespace;return arguments.length<1?this.node()[$][q].duration:Te(this,typeof C=="function"?function(ne,he,xe){ne[$][q].duration=Math.max(1,C.call(ne,ne.__data__,he,xe))}:(C=Math.max(1,C),function(ne){ne[$][q].duration=C}))},mi.each=function(C,q){var $=this.id,ne=this.namespace;if(arguments.length<2){var he=Vo,xe=na;try{na=$,Te(this,function(Pe,Fe,qe){Vo=Pe[ne][$],C.call(Pe,Pe.__data__,Fe,qe)})}finally{Vo=he,na=xe}}else Te(this,function(Pe){var Fe=Pe[ne][$];(Fe.event||(Fe.event=r.dispatch("start","end","interrupt"))).on(C,q)});return this},mi.transition=function(){for(var C,q,$,ne=this.id,he=++Du,xe=this.namespace,Pe=[],Fe=0,qe=this.length;Fe<qe;Fe++){Pe.push(C=[]);for(var Ze,it=0,pt=(Ze=this[Fe]).length;it<pt;it++)(q=Ze[it])&&Ka(q,it,xe,he,{time:($=q[xe][ne]).time,ease:$.ease,delay:$.delay+$.duration,duration:$.duration}),C.push(q)}return es(Pe,xe,he)},r.svg.axis=function(){var C,q=r.scale.linear(),$=bs,ne=6,he=6,xe=3,Pe=[10],Fe=null;function qe(Ze){Ze.each(function(){var it,pt=r.select(this),vt=this.__chart__||q,Mt=this.__chart__=q.copy(),Ct=Fe??(Mt.ticks?Mt.ticks.apply(Mt,Pe):Mt.domain()),Et=C??(Mt.tickFormat?Mt.tickFormat.apply(Mt,Pe):z),jt=pt.selectAll(".tick").data(Ct,Mt),zt=jt.enter().insert("g",".domain").attr("class","tick").style("opacity",rt),Qt=r.transition(jt.exit()).style("opacity",rt).remove(),Wt=r.transition(jt.order()).style("opacity",1),Vt=Math.max(ne,0)+xe,gn=wl(Mt),xn=pt.selectAll(".domain").data([0]),On=(xn.enter().append("path").attr("class","domain"),r.transition(xn));zt.append("line"),zt.append("text");var Dn,Wn,ar,vr,Jn=zt.select("line"),dr=Wt.select("line"),kr=jt.select("text").text(Et),Rr=zt.select("text"),rr=Wt.select("text"),pr=$==="top"||$==="left"?-1:1;if($==="bottom"||$==="top"?(it=$e,Dn="x",ar="y",Wn="x2",vr="y2",kr.attr("dy",pr<0?"0em":".71em").style("text-anchor","middle"),On.attr("d","M"+gn[0]+","+pr*he+"V0H"+gn[1]+"V"+pr*he)):(it=nt,Dn="y",ar="x",Wn="y2",vr="x2",kr.attr("dy",".32em").style("text-anchor",pr<0?"end":"start"),On.attr("d","M"+pr*he+","+gn[0]+"H0V"+gn[1]+"H"+pr*he)),Jn.attr(vr,pr*ne),Rr.attr(ar,pr*Vt),dr.attr(Wn,0).attr(vr,pr*ne),rr.attr(Dn,0).attr(ar,pr*Vt),Mt.rangeBand){var Er=Mt,mr=Er.rangeBand()/2;vt=Mt=function(Dr){return Er(Dr)+mr}}else vt.rangeBand?vt=Mt:Qt.call(it,Mt,vt);zt.call(it,vt,Mt),Wt.call(it,Mt,Mt)})}return qe.scale=function(Ze){return arguments.length?(q=Ze,qe):q},qe.orient=function(Ze){return arguments.length?($=Ze in cu?Ze+"":bs,qe):$},qe.ticks=function(){return arguments.length?(Pe=v(arguments),qe):Pe},qe.tickValues=function(Ze){return arguments.length?(Fe=Ze,qe):Fe},qe.tickFormat=function(Ze){return arguments.length?(C=Ze,qe):C},qe.tickSize=function(Ze){var it=arguments.length;return it?(ne=+Ze,he=+arguments[it-1],qe):ne},qe.innerTickSize=function(Ze){return arguments.length?(ne=+Ze,qe):ne},qe.outerTickSize=function(Ze){return arguments.length?(he=+Ze,qe):he},qe.tickPadding=function(Ze){return arguments.length?(xe=+Ze,qe):xe},qe.tickSubdivide=function(){return arguments.length&&qe},qe};var bs="bottom",cu={top:1,right:1,bottom:1,left:1};function $e(C,q,$){C.attr("transform",function(ne){var he=q(ne);return"translate("+(isFinite(he)?he:$(ne))+",0)"})}function nt(C,q,$){C.attr("transform",function(ne){var he=q(ne);return"translate(0,"+(isFinite(he)?he:$(ne))+")"})}r.svg.brush=function(){var C,q,$=X(it,"brushstart","brush","brushend"),ne=null,he=null,xe=[0,0],Pe=[0,0],Fe=!0,qe=!0,Ze=N[0];function it(Et){Et.each(function(){var jt=r.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Ct).on("touchstart.brush",Ct),zt=jt.selectAll(".background").data([0]);zt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),jt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Qt=jt.selectAll(".resize").data(Ze,z);Qt.exit().remove(),Qt.enter().append("g").attr("class",function(xn){return"resize "+xn}).style("cursor",function(xn){return ft[xn]}).append("rect").attr("x",function(xn){return/[ew]$/.test(xn)?-3:null}).attr("y",function(xn){return/^[ns]/.test(xn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Qt.style("display",it.empty()?"none":null);var Wt,Vt=r.transition(jt),gn=r.transition(zt);ne&&(Wt=wl(ne),gn.attr("x",Wt[0]).attr("width",Wt[1]-Wt[0]),vt(Vt)),he&&(Wt=wl(he),gn.attr("y",Wt[0]).attr("height",Wt[1]-Wt[0]),Mt(Vt)),pt(Vt)})}function pt(Et){Et.selectAll(".resize").attr("transform",function(jt){return"translate("+xe[+/e$/.test(jt)]+","+Pe[+/^s/.test(jt)]+")"})}function vt(Et){Et.select(".extent").attr("x",xe[0]),Et.selectAll(".extent,.n>rect,.s>rect").attr("width",xe[1]-xe[0])}function Mt(Et){Et.select(".extent").attr("y",Pe[0]),Et.selectAll(".extent,.e>rect,.w>rect").attr("height",Pe[1]-Pe[0])}function Ct(){var Et,jt,zt=this,Qt=r.select(r.event.target),Wt=$.of(zt,arguments),Vt=r.select(zt),gn=Qt.datum(),xn=!/^(n|s)$/.test(gn)&&ne,On=!/^(e|w)$/.test(gn)&&he,Dn=Qt.classed("extent"),Wn=yt(zt),ar=r.mouse(zt),vr=r.select(t(zt)).on("keydown.brush",function(){r.event.keyCode==32&&(Dn||(Et=null,ar[0]-=xe[1],ar[1]-=Pe[1],Dn=2),Q())}).on("keyup.brush",function(){r.event.keyCode==32&&Dn==2&&(ar[0]+=xe[1],ar[1]+=Pe[1],Dn=0,Q())});if(r.event.changedTouches?vr.on("touchmove.brush",kr).on("touchend.brush",rr):vr.on("mousemove.brush",kr).on("mouseup.brush",rr),Vt.interrupt().selectAll("*").interrupt(),Dn)ar[0]=xe[0]-ar[0],ar[1]=Pe[0]-ar[1];else if(gn){var Jn=+/w$/.test(gn),dr=+/^n/.test(gn);jt=[xe[1-Jn]-ar[0],Pe[1-dr]-ar[1]],ar[0]=xe[Jn],ar[1]=Pe[dr]}else r.event.altKey&&(Et=ar.slice());function kr(){var pr=r.mouse(zt),Er=!1;jt&&(pr[0]+=jt[0],pr[1]+=jt[1]),Dn||(r.event.altKey?(Et||(Et=[(xe[0]+xe[1])/2,(Pe[0]+Pe[1])/2]),ar[0]=xe[+(pr[0]<Et[0])],ar[1]=Pe[+(pr[1]<Et[1])]):Et=null),xn&&Rr(pr,ne,0)&&(vt(Vt),Er=!0),On&&Rr(pr,he,1)&&(Mt(Vt),Er=!0),Er&&(pt(Vt),Wt({type:"brush",mode:Dn?"move":"resize"}))}function Rr(pr,Er,mr){var Dr,jr,Xr=wl(Er),Kr=Xr[0],ni=Xr[1],ai=ar[mr],Li=mr?Pe:xe,Ki=Li[1]-Li[0];if(Dn&&(Kr-=ai,ni-=Ki+ai),Dr=(mr?qe:Fe)?Math.max(Kr,Math.min(ni,pr[mr])):pr[mr],Dn?jr=(Dr+=ai)+Ki:(Et&&(ai=Math.max(Kr,Math.min(ni,2*Et[mr]-Dr))),ai<Dr?(jr=Dr,Dr=ai):jr=ai),Li[0]!=Dr||Li[1]!=jr)return mr?q=null:C=null,Li[0]=Dr,Li[1]=jr,!0}function rr(){kr(),Vt.style("pointer-events","all").selectAll(".resize").style("display",it.empty()?"none":null),r.select("body").style("cursor",null),vr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Wn(),Wt({type:"brushend"})}Vt.style("pointer-events","none").selectAll(".resize").style("display",null),r.select("body").style("cursor",Qt.style("cursor")),Wt({type:"brushstart"}),kr()}return it.event=function(Et){Et.each(function(){var jt=$.of(this,arguments),zt={x:xe,y:Pe,i:C,j:q},Qt=this.__chart__||zt;this.__chart__=zt,na?r.select(this).transition().each("start.brush",function(){C=Qt.i,q=Qt.j,xe=Qt.x,Pe=Qt.y,jt({type:"brushstart"})}).tween("brush:brush",function(){var Wt=as(xe,zt.x),Vt=as(Pe,zt.y);return C=q=null,function(gn){xe=zt.x=Wt(gn),Pe=zt.y=Vt(gn),jt({type:"brush",mode:"resize"})}}).each("end.brush",function(){C=zt.i,q=zt.j,jt({type:"brush",mode:"resize"}),jt({type:"brushend"})}):(jt({type:"brushstart"}),jt({type:"brush",mode:"resize"}),jt({type:"brushend"}))})},it.x=function(Et){return arguments.length?(Ze=N[!(ne=Et)<<1|!he],it):ne},it.y=function(Et){return arguments.length?(Ze=N[!ne<<1|!(he=Et)],it):he},it.clamp=function(Et){return arguments.length?(ne&&he?(Fe=!!Et[0],qe=!!Et[1]):ne?Fe=!!Et:he&&(qe=!!Et),it):ne&&he?[Fe,qe]:ne?Fe:he?qe:null},it.extent=function(Et){var jt,zt,Qt,Wt,Vt;return arguments.length?(ne&&(jt=Et[0],zt=Et[1],he&&(jt=jt[0],zt=zt[0]),C=[jt,zt],ne.invert&&(jt=ne(jt),zt=ne(zt)),zt<jt&&(Vt=jt,jt=zt,zt=Vt),jt==xe[0]&&zt==xe[1]||(xe=[jt,zt])),he&&(Qt=Et[0],Wt=Et[1],ne&&(Qt=Qt[1],Wt=Wt[1]),q=[Qt,Wt],he.invert&&(Qt=he(Qt),Wt=he(Wt)),Wt<Qt&&(Vt=Qt,Qt=Wt,Wt=Vt),Qt==Pe[0]&&Wt==Pe[1]||(Pe=[Qt,Wt])),it):(ne&&(C?(jt=C[0],zt=C[1]):(jt=xe[0],zt=xe[1],ne.invert&&(jt=ne.invert(jt),zt=ne.invert(zt)),zt<jt&&(Vt=jt,jt=zt,zt=Vt))),he&&(q?(Qt=q[0],Wt=q[1]):(Qt=Pe[0],Wt=Pe[1],he.invert&&(Qt=he.invert(Qt),Wt=he.invert(Wt)),Wt<Qt&&(Vt=Qt,Qt=Wt,Wt=Vt))),ne&&he?[[jt,Qt],[zt,Wt]]:ne?[jt,zt]:he&&[Qt,Wt])},it.clear=function(){return it.empty()||(xe=[0,0],Pe=[0,0],C=q=null),it},it.empty=function(){return!!ne&&xe[0]==xe[1]||!!he&&Pe[0]==Pe[1]},r.rebind(it,$,"on")};var ft={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},N=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function Y(C){return JSON.parse(C.responseText)}function G(C){var q=f.createRange();return q.selectNode(f.body),q.createContextualFragment(C.responseText)}r.text=Nn(function(C){return C.responseText}),r.json=function(C,q){return or(C,"application/json",Y,q)},r.html=function(C,q){return or(C,"text/html",G,q)},r.xml=Nn(function(C){return C.responseXML}),(w=typeof(k=r)=="function"?k.call(L,e,L,B):k)===void 0||(B.exports=w)}).apply(self)},3480:function(B){B.exports=function(){var L,e,k;function w(r,_){if(L)if(e){var v="var sharedChunk = {}; ("+L+")(sharedChunk); ("+e+")(sharedChunk);",f={};L(f),k=_(f),typeof window<"u"&&(k.workerUrl=window.URL.createObjectURL(new Blob([v],{type:"text/javascript"})))}else e=_;else L=_}return w(0,function(r){function _(A,D){return A(D={exports:{}},D.exports),D.exports}var v="1.13.4",f=s;function s(A,D,Z,ue){this.cx=3*A,this.bx=3*(Z-A)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*D,this.by=3*(ue-D)-this.cy,this.ay=1-this.cy-this.by,this.p1x=A,this.p1y=ue,this.p2x=Z,this.p2y=ue}s.prototype.sampleCurveX=function(A){return((this.ax*A+this.bx)*A+this.cx)*A},s.prototype.sampleCurveY=function(A){return((this.ay*A+this.by)*A+this.cy)*A},s.prototype.sampleCurveDerivativeX=function(A){return(3*this.ax*A+2*this.bx)*A+this.cx},s.prototype.solveCurveX=function(A,D){var Z,ue,Ee,Ie,He;for(D===void 0&&(D=1e-6),Ee=A,He=0;He<8;He++){if(Ie=this.sampleCurveX(Ee)-A,Math.abs(Ie)<D)return Ee;var tt=this.sampleCurveDerivativeX(Ee);if(Math.abs(tt)<1e-6)break;Ee-=Ie/tt}if((Ee=A)<(Z=0))return Z;if(Ee>(ue=1))return ue;for(;Z<ue;){if(Ie=this.sampleCurveX(Ee),Math.abs(Ie-A)<D)return Ee;A>Ie?Z=Ee:ue=Ee,Ee=.5*(ue-Z)+Z}return Ee},s.prototype.solve=function(A,D){return this.sampleCurveY(this.solveCurveX(A,D))};var t=a;function a(A,D){this.x=A,this.y=D}a.prototype={clone:function(){return new a(this.x,this.y)},add:function(A){return this.clone()._add(A)},sub:function(A){return this.clone()._sub(A)},multByPoint:function(A){return this.clone()._multByPoint(A)},divByPoint:function(A){return this.clone()._divByPoint(A)},mult:function(A){return this.clone()._mult(A)},div:function(A){return this.clone()._div(A)},rotate:function(A){return this.clone()._rotate(A)},rotateAround:function(A,D){return this.clone()._rotateAround(A,D)},matMult:function(A){return this.clone()._matMult(A)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(A){return this.x===A.x&&this.y===A.y},dist:function(A){return Math.sqrt(this.distSqr(A))},distSqr:function(A){var D=A.x-this.x,Z=A.y-this.y;return D*D+Z*Z},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(A){return Math.atan2(this.y-A.y,this.x-A.x)},angleWith:function(A){return this.angleWithSep(A.x,A.y)},angleWithSep:function(A,D){return Math.atan2(this.x*D-this.y*A,this.x*A+this.y*D)},_matMult:function(A){var D=A[0]*this.x+A[1]*this.y,Z=A[2]*this.x+A[3]*this.y;return this.x=D,this.y=Z,this},_add:function(A){return this.x+=A.x,this.y+=A.y,this},_sub:function(A){return this.x-=A.x,this.y-=A.y,this},_mult:function(A){return this.x*=A,this.y*=A,this},_div:function(A){return this.x/=A,this.y/=A,this},_multByPoint:function(A){return this.x*=A.x,this.y*=A.y,this},_divByPoint:function(A){return this.x/=A.x,this.y/=A.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var A=this.y;return this.y=this.x,this.x=-A,this},_rotate:function(A){var D=Math.cos(A),Z=Math.sin(A),ue=D*this.x-Z*this.y,Ee=Z*this.x+D*this.y;return this.x=ue,this.y=Ee,this},_rotateAround:function(A,D){var Z=Math.cos(A),ue=Math.sin(A),Ee=D.x+Z*(this.x-D.x)-ue*(this.y-D.y),Ie=D.y+ue*(this.x-D.x)+Z*(this.y-D.y);return this.x=Ee,this.y=Ie,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},a.convert=function(A){return A instanceof a?A:Array.isArray(A)?new a(A[0],A[1]):A};var n=typeof self<"u"?self:{},i=Math.pow(2,53)-1;function l(A,D,Z,ue){var Ee=new f(A,D,Z,ue);return function(Ie){return Ee.solve(Ie)}}var o=l(.25,.1,.25,1);function u(A,D,Z){return Math.min(Z,Math.max(D,A))}function h(A,D,Z){var ue=Z-D,Ee=((A-D)%ue+ue)%ue+D;return Ee===D?Z:Ee}function c(A){for(var D=[],Z=arguments.length-1;Z-- >0;)D[Z]=arguments[Z+1];for(var ue=0,Ee=D;ue<Ee.length;ue+=1){var Ie=Ee[ue];for(var He in Ie)A[He]=Ie[He]}return A}var b=1;function d(){return b++}function g(){return function A(D){return D?(D^16*Math.random()>>D/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,A)}()}function m(A){return!!A&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(A)}function y(A,D){A.forEach(function(Z){D[Z]&&(D[Z]=D[Z].bind(D))})}function x(A,D){return A.indexOf(D,A.length-D.length)!==-1}function T(A,D,Z){var ue={};for(var Ee in A)ue[Ee]=D.call(Z||this,A[Ee],Ee,A);return ue}function p(A,D,Z){var ue={};for(var Ee in A)D.call(Z||this,A[Ee],Ee,A)&&(ue[Ee]=A[Ee]);return ue}function S(A){return Array.isArray(A)?A.map(S):typeof A=="object"&&A?T(A,S):A}var M={};function E(A){M[A]||(typeof console<"u"&&console.warn(A),M[A]=!0)}function P(A,D,Z){return(Z.y-A.y)*(D.x-A.x)>(D.y-A.y)*(Z.x-A.x)}function O(A){for(var D=0,Z=0,ue=A.length,Ee=ue-1,Ie=void 0,He=void 0;Z<ue;Ee=Z++)Ie=A[Z],D+=((He=A[Ee]).x-Ie.x)*(Ie.y+He.y);return D}function I(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function R(A){var D={};if(A.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(ue,Ee,Ie,He){var tt=Ie||He;return D[Ee]=!tt||tt.toLowerCase(),""}),D["max-age"]){var Z=parseInt(D["max-age"],10);isNaN(Z)?delete D["max-age"]:D["max-age"]=Z}return D}var U=null;function z(A){if(U==null){var D=A.navigator?A.navigator.userAgent:null;U=!!A.safari||!(!D||!(/\b(iPad|iPhone|iPod)\b/.test(D)||D.match("Safari")&&!D.match("Chrome")))}return U}function j(A){try{var D=n[A];return D.setItem("_mapbox_test_",1),D.removeItem("_mapbox_test_"),!0}catch{return!1}}var W,F,V,H,te=n.performance&&n.performance.now?n.performance.now.bind(n.performance):Date.now.bind(Date),Q=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame,K=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.msCancelAnimationFrame,X={now:te,frame:function(A){var D=Q(A);return{cancel:function(){return K(D)}}},getImageData:function(A,D){D===void 0&&(D=0);var Z=n.document.createElement("canvas"),ue=Z.getContext("2d");if(!ue)throw new Error("failed to create canvas 2d context");return Z.width=A.width,Z.height=A.height,ue.drawImage(A,0,0,A.width,A.height),ue.getImageData(-D,-D,A.width+2*D,A.height+2*D)},resolveURL:function(A){return W||(W=n.document.createElement("a")),W.href=A,W.href},hardwareConcurrency:n.navigator&&n.navigator.hardwareConcurrency||4,get devicePixelRatio(){return n.devicePixelRatio},get prefersReducedMotion(){return!!n.matchMedia&&(F==null&&(F=n.matchMedia("(prefers-reduced-motion: reduce)")),F.matches)}},J={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ee={supported:!1,testSupport:function(A){!ie&&H&&(oe?ae(A):V=A)}},ie=!1,oe=!1;function ae(A){var D=A.createTexture();A.bindTexture(A.TEXTURE_2D,D);try{if(A.texImage2D(A.TEXTURE_2D,0,A.RGBA,A.RGBA,A.UNSIGNED_BYTE,H),A.isContextLost())return;ee.supported=!0}catch{}A.deleteTexture(D),ie=!0}n.document&&((H=n.document.createElement("img")).onload=function(){V&&ae(V),V=null,oe=!0},H.onerror=function(){ie=!0,V=null},H.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var ce="01",ge=function(A,D){this._transformRequestFn=A,this._customAccessToken=D,this._createSkuToken()};function ve(A){return A.indexOf("mapbox:")===0}ge.prototype._createSkuToken=function(){var A=function(){for(var D="",Z=0;Z<10;Z++)D+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",ce,D].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=A.token,this._skuTokenExpiresAt=A.tokenExpiresAt},ge.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},ge.prototype.transformRequest=function(A,D){return this._transformRequestFn&&this._transformRequestFn(A,D)||{url:A}},ge.prototype.normalizeStyleURL=function(A,D){if(!ve(A))return A;var Z=me(A);return Z.path="/styles/v1"+Z.path,this._makeAPIURL(Z,this._customAccessToken||D)},ge.prototype.normalizeGlyphsURL=function(A,D){if(!ve(A))return A;var Z=me(A);return Z.path="/fonts/v1"+Z.path,this._makeAPIURL(Z,this._customAccessToken||D)},ge.prototype.normalizeSourceURL=function(A,D){if(!ve(A))return A;var Z=me(A);return Z.path="/v4/"+Z.authority+".json",Z.params.push("secure"),this._makeAPIURL(Z,this._customAccessToken||D)},ge.prototype.normalizeSpriteURL=function(A,D,Z,ue){var Ee=me(A);return ve(A)?(Ee.path="/styles/v1"+Ee.path+"/sprite"+D+Z,this._makeAPIURL(Ee,this._customAccessToken||ue)):(Ee.path+=""+D+Z,Ae(Ee))},ge.prototype.normalizeTileURL=function(A,D){if(this._isSkuTokenExpired()&&this._createSkuToken(),A&&!ve(A))return A;var Z=me(A),ue=X.devicePixelRatio>=2||D===512?"@2x":"",Ee=ee.supported?".webp":"$1";Z.path=Z.path.replace(/(\.(png|jpg)\d*)(?=$)/,""+ue+Ee),Z.path=Z.path.replace(/^.+\/v4\//,"/"),Z.path="/v4"+Z.path;var Ie=this._customAccessToken||function(He){for(var tt=0,ht=He;tt<ht.length;tt+=1){var Tt=ht[tt].match(/^access_token=(.*)$/);if(Tt)return Tt[1]}return null}(Z.params)||J.ACCESS_TOKEN;return J.REQUIRE_ACCESS_TOKEN&&Ie&&this._skuToken&&Z.params.push("sku="+this._skuToken),this._makeAPIURL(Z,Ie)},ge.prototype.canonicalizeTileURL=function(A,D){var Z=me(A);if(!Z.path.match(/(^\/v4\/)/)||!Z.path.match(/\.[\w]+$/))return A;var ue="mapbox://tiles/";ue+=Z.path.replace("/v4/","");var Ee=Z.params;return D&&(Ee=Ee.filter(function(Ie){return!Ie.match(/^access_token=/)})),Ee.length&&(ue+="?"+Ee.join("&")),ue},ge.prototype.canonicalizeTileset=function(A,D){for(var Z=!!D&&ve(D),ue=[],Ee=0,Ie=A.tiles||[];Ee<Ie.length;Ee+=1){var He=Ie[Ee];we(He)?ue.push(this.canonicalizeTileURL(He,Z)):ue.push(He)}return ue},ge.prototype._makeAPIURL=function(A,D){var Z="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ue=me(J.API_URL);if(A.protocol=ue.protocol,A.authority=ue.authority,A.protocol==="http"){var Ee=A.params.indexOf("secure");Ee>=0&&A.params.splice(Ee,1)}if(ue.path!=="/"&&(A.path=""+ue.path+A.path),!J.REQUIRE_ACCESS_TOKEN)return Ae(A);if(!(D=D||J.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+Z);if(D[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+Z);return A.params=A.params.filter(function(Ie){return Ie.indexOf("access_token")===-1}),A.params.push("access_token="+D),Ae(A)};var be=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function we(A){return be.test(A)}var ye=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function me(A){var D=A.match(ye);if(!D)throw new Error("Unable to parse URL object");return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}function Ae(A){var D=A.params.length?"?"+A.params.join("&"):"";return A.protocol+"://"+A.authority+A.path+D}var ke="mapbox.eventData";function fe(A){if(!A)return null;var D,Z=A.split(".");if(!Z||Z.length!==3)return null;try{return JSON.parse((D=Z[1],decodeURIComponent(n.atob(D).split("").map(function(ue){return"%"+("00"+ue.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch{return null}}var le=function(A){this.type=A,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};le.prototype.getStorageKey=function(A){var D,Z,ue=fe(J.ACCESS_TOKEN);return D=ue&&ue.u?(Z=ue.u,n.btoa(encodeURIComponent(Z).replace(/%([0-9A-F]{2})/g,function(Ee,Ie){return String.fromCharCode(+("0x"+Ie))}))):J.ACCESS_TOKEN||"",A?ke+"."+A+":"+D:ke+":"+D},le.prototype.fetchEventData=function(){var A=j("localStorage"),D=this.getStorageKey(),Z=this.getStorageKey("uuid");if(A)try{var ue=n.localStorage.getItem(D);ue&&(this.eventData=JSON.parse(ue));var Ee=n.localStorage.getItem(Z);Ee&&(this.anonId=Ee)}catch{E("Unable to read from LocalStorage")}},le.prototype.saveEventData=function(){var A=j("localStorage"),D=this.getStorageKey(),Z=this.getStorageKey("uuid");if(A)try{n.localStorage.setItem(Z,this.anonId),Object.keys(this.eventData).length>=1&&n.localStorage.setItem(D,JSON.stringify(this.eventData))}catch{E("Unable to write to LocalStorage")}},le.prototype.processRequests=function(A){},le.prototype.postEvent=function(A,D,Z,ue){var Ee=this;if(J.EVENTS_URL){var Ie=me(J.EVENTS_URL);Ie.params.push("access_token="+(ue||J.ACCESS_TOKEN||""));var He={event:this.type,created:new Date(A).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:v,skuId:ce,userId:this.anonId},tt=D?c(He,D):He,ht={url:Ae(Ie),headers:{"Content-Type":"text/plain"},body:JSON.stringify([tt])};this.pendingRequest=Dt(ht,function(Tt){Ee.pendingRequest=null,Z(Tt),Ee.saveEventData(),Ee.processRequests(ue)})}},le.prototype.queueRequest=function(A,D){this.queue.push(A),this.processRequests(D)};var de,Ce,Me=function(A){function D(){A.call(this,"map.load"),this.success={},this.skuToken=""}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.postMapLoadEvent=function(Z,ue,Ee,Ie){this.skuToken=Ee,(J.EVENTS_URL&&Ie||J.ACCESS_TOKEN&&Array.isArray(Z)&&Z.some(function(He){return ve(He)||we(He)}))&&this.queueRequest({id:ue,timestamp:Date.now()},Ie)},D.prototype.processRequests=function(Z){var ue=this;if(!this.pendingRequest&&this.queue.length!==0){var Ee=this.queue.shift(),Ie=Ee.id,He=Ee.timestamp;Ie&&this.success[Ie]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=g()),this.postEvent(He,{skuToken:this.skuToken},function(tt){tt||Ie&&(ue.success[Ie]=!0)},Z))}},D}(le),Le=function(A){function D(Z){A.call(this,"appUserTurnstile"),this._customAccessToken=Z}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.postTurnstileEvent=function(Z,ue){J.EVENTS_URL&&J.ACCESS_TOKEN&&Array.isArray(Z)&&Z.some(function(Ee){return ve(Ee)||we(Ee)})&&this.queueRequest(Date.now(),ue)},D.prototype.processRequests=function(Z){var ue=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var Ee=fe(J.ACCESS_TOKEN),Ie=Ee?Ee.u:J.ACCESS_TOKEN,He=Ie!==this.eventData.tokenU;m(this.anonId)||(this.anonId=g(),He=!0);var tt=this.queue.shift();if(this.eventData.lastSuccess){var ht=new Date(this.eventData.lastSuccess),Tt=new Date(tt),St=(tt-this.eventData.lastSuccess)/864e5;He=He||St>=1||St<-1||ht.getDate()!==Tt.getDate()}else He=!0;if(!He)return this.processRequests();this.postEvent(tt,{"enabled.telemetry":!1},function(Nt){Nt||(ue.eventData.lastSuccess=tt,ue.eventData.tokenU=Ie)},Z)}},D}(le),Oe=new Le,Be=Oe.postTurnstileEvent.bind(Oe),pe=new Me,_e=pe.postMapLoadEvent.bind(pe),Te="mapbox-tiles",Re=500,Ne=50,ze=42e4;function Ge(){n.caches&&!de&&(de=n.caches.open(Te))}function Ye(A,D,Z){if(Ge(),de){var ue={status:D.status,statusText:D.statusText,headers:new n.Headers};D.headers.forEach(function(Ie,He){return ue.headers.set(He,Ie)});var Ee=R(D.headers.get("Cache-Control")||"");Ee["no-store"]||(Ee["max-age"]&&ue.headers.set("Expires",new Date(Z+1e3*Ee["max-age"]).toUTCString()),new Date(ue.headers.get("Expires")).getTime()-Z<ze||function(Ie,He){if(Ce===void 0)try{new Response(new ReadableStream),Ce=!0}catch{Ce=!1}Ce?He(Ie.body):Ie.blob().then(He)}(D,function(Ie){var He=new n.Response(Ie,ue);Ge(),de&&de.then(function(tt){return tt.put(et(A.url),He)}).catch(function(tt){return E(tt.message)})}))}}function et(A){var D=A.indexOf("?");return D<0?A:A.slice(0,D)}function ut(A,D){if(Ge(),!de)return D(null);var Z=et(A.url);de.then(function(ue){ue.match(Z).then(function(Ee){var Ie=function(He){if(!He)return!1;var tt=new Date(He.headers.get("Expires")||0),ht=R(He.headers.get("Cache-Control")||"");return tt>Date.now()&&!ht["no-cache"]}(Ee);ue.delete(Z),Ie&&ue.put(Z,Ee.clone()),D(null,Ee,Ie)}).catch(D)}).catch(D)}var ot,yt=1/0;function wt(){return ot==null&&(ot=n.OffscreenCanvas&&new n.OffscreenCanvas(1,1).getContext("2d")&&typeof n.createImageBitmap=="function"),ot}var bt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(bt);var at=function(A){function D(Z,ue,Ee){ue===401&&we(Ee)&&(Z+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),A.call(this,Z),this.status=ue,this.url=Ee,this.name=this.constructor.name,this.message=Z}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},D}(Error),rt=I()?function(){return self.worker&&self.worker.referrer}:function(){return(n.location.protocol==="blob:"?n.parent:n).location.href};function At(A,D){var Z,ue=new n.AbortController,Ee=new n.Request(A.url,{method:A.method||"GET",body:A.body,credentials:A.credentials,headers:A.headers,referrer:rt(),signal:ue.signal}),Ie=!1,He=!1,tt=(Z=Ee.url).indexOf("sku=")>0&&we(Z);A.type==="json"&&Ee.headers.set("Accept","application/json");var ht=function(St,Nt,Yt){if(!He){if(St&&St.message!=="SecurityError"&&E(St),Nt&&Yt)return Tt(Nt);var Ut=Date.now();n.fetch(Ee).then(function(sn){if(sn.ok){var cn=tt?sn.clone():null;return Tt(sn,cn,Ut)}return D(new at(sn.statusText,sn.status,A.url))}).catch(function(sn){sn.code!==20&&D(new Error(sn.message))})}},Tt=function(St,Nt,Yt){(A.type==="arrayBuffer"?St.arrayBuffer():A.type==="json"?St.json():St.text()).then(function(Ut){He||(Nt&&Yt&&Ye(Ee,Nt,Yt),Ie=!0,D(null,Ut,St.headers.get("Cache-Control"),St.headers.get("Expires")))}).catch(function(Ut){He||D(new Error(Ut.message))})};return tt?ut(Ee,ht):ht(null,null),{cancel:function(){He=!0,Ie||ue.abort()}}}var Rt=function(A,D){if(Z=A.url,!(/^file:/.test(Z)||/^file:/.test(rt())&&!/^\w+:/.test(Z))){if(n.fetch&&n.Request&&n.AbortController&&n.Request.prototype.hasOwnProperty("signal"))return At(A,D);if(I()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",A,D,void 0,!0)}var Z;return function(ue,Ee){var Ie=new n.XMLHttpRequest;for(var He in Ie.open(ue.method||"GET",ue.url,!0),ue.type==="arrayBuffer"&&(Ie.responseType="arraybuffer"),ue.headers)Ie.setRequestHeader(He,ue.headers[He]);return ue.type==="json"&&(Ie.responseType="text",Ie.setRequestHeader("Accept","application/json")),Ie.withCredentials=ue.credentials==="include",Ie.onerror=function(){Ee(new Error(Ie.statusText))},Ie.onload=function(){if((Ie.status>=200&&Ie.status<300||Ie.status===0)&&Ie.response!==null){var tt=Ie.response;if(ue.type==="json")try{tt=JSON.parse(Ie.response)}catch(ht){return Ee(ht)}Ee(null,tt,Ie.getResponseHeader("Cache-Control"),Ie.getResponseHeader("Expires"))}else Ee(new at(Ie.statusText,Ie.status,ue.url))},Ie.send(ue.body),{cancel:function(){return Ie.abort()}}}(A,D)},Ft=function(A,D){return Rt(c(A,{type:"arrayBuffer"}),D)},Dt=function(A,D){return Rt(c(A,{method:"POST"}),D)},Xe,Ke,Ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Xe=[],Ke=0;var Je=function(A,D){if(ee.supported&&(A.headers||(A.headers={}),A.headers.accept="image/webp,*/*"),Ke>=J.MAX_PARALLEL_IMAGE_REQUESTS){var Z={requestParameters:A,callback:D,cancelled:!1,cancel:function(){this.cancelled=!0}};return Xe.push(Z),Z}Ke++;var ue=!1,Ee=function(){if(!ue)for(ue=!0,Ke--;Xe.length&&Ke<J.MAX_PARALLEL_IMAGE_REQUESTS;){var He=Xe.shift(),tt=He.requestParameters,ht=He.callback;He.cancelled||(He.cancel=Je(tt,ht).cancel)}},Ie=Ft(A,function(He,tt,ht,Tt){Ee(),He?D(He):tt&&(wt()?function(St,Nt){var Yt=new n.Blob([new Uint8Array(St)],{type:"image/png"});n.createImageBitmap(Yt).then(function(Ut){Nt(null,Ut)}).catch(function(Ut){Nt(new Error("Could not load image because of "+Ut.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(tt,D):function(St,Nt,Yt,Ut){var sn=new n.Image,cn=n.URL;sn.onload=function(){Nt(null,sn),cn.revokeObjectURL(sn.src),sn.onload=null,n.requestAnimationFrame(function(){sn.src=Ve})},sn.onerror=function(){return Nt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Mn=new n.Blob([new Uint8Array(St)],{type:"image/png"});sn.cacheControl=Yt,sn.expires=Ut,sn.src=St.byteLength?cn.createObjectURL(Mn):Ve}(tt,D,ht,Tt))});return{cancel:function(){Ie.cancel(),Ee()}}};function ct(A,D,Z){Z[A]&&Z[A].indexOf(D)!==-1||(Z[A]=Z[A]||[],Z[A].push(D))}function st(A,D,Z){if(Z&&Z[A]){var ue=Z[A].indexOf(D);ue!==-1&&Z[A].splice(ue,1)}}var je=function(A,D){D===void 0&&(D={}),c(this,D),this.type=A},Ue=function(A){function D(Z,ue){ue===void 0&&(ue={}),A.call(this,"error",c({error:Z},ue))}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D}(je),lt=function(){};lt.prototype.on=function(A,D){return this._listeners=this._listeners||{},ct(A,D,this._listeners),this},lt.prototype.off=function(A,D){return st(A,D,this._listeners),st(A,D,this._oneTimeListeners),this},lt.prototype.once=function(A,D){return this._oneTimeListeners=this._oneTimeListeners||{},ct(A,D,this._oneTimeListeners),this},lt.prototype.fire=function(A,D){typeof A=="string"&&(A=new je(A,D||{}));var Z=A.type;if(this.listens(Z)){A.target=this;for(var ue=0,Ee=this._listeners&&this._listeners[Z]?this._listeners[Z].slice():[];ue<Ee.length;ue+=1)Ee[ue].call(this,A);for(var Ie=0,He=this._oneTimeListeners&&this._oneTimeListeners[Z]?this._oneTimeListeners[Z].slice():[];Ie<He.length;Ie+=1){var tt=He[Ie];st(Z,tt,this._oneTimeListeners),tt.call(this,A)}var ht=this._eventedParent;ht&&(c(A,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ht.fire(A))}else A instanceof Ue&&console.error(A.error);return this},lt.prototype.listens=function(A){return this._listeners&&this._listeners[A]&&this._listeners[A].length>0||this._oneTimeListeners&&this._oneTimeListeners[A]&&this._oneTimeListeners[A].length>0||this._eventedParent&&this._eventedParent.listens(A)},lt.prototype.setEventedParent=function(A,D){return this._eventedParent=A,this._eventedParentData=D,this};var Qe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},gt=function(A,D,Z,ue){this.message=(A?A+": ":"")+Z,ue&&(this.identifier=ue),D!=null&&D.__line__&&(this.line=D.__line__)};function mt(A){var D=A.key,Z=A.value;return Z?[new gt(D,Z,"constants have been deprecated as of v8")]:[]}function xt(A){for(var D=[],Z=arguments.length-1;Z-- >0;)D[Z]=arguments[Z+1];for(var ue=0,Ee=D;ue<Ee.length;ue+=1){var Ie=Ee[ue];for(var He in Ie)A[He]=Ie[He]}return A}function dt(A){return A instanceof Number||A instanceof String||A instanceof Boolean?A.valueOf():A}function Lt(A){if(Array.isArray(A))return A.map(Lt);if(A instanceof Object&&!(A instanceof Number||A instanceof String||A instanceof Boolean)){var D={};for(var Z in A)D[Z]=Lt(A[Z]);return D}return dt(A)}var kt=function(A){function D(Z,ue){A.call(this,ue),this.message=ue,this.key=Z}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D}(Error),_t=function(A,D){D===void 0&&(D=[]),this.parent=A,this.bindings={};for(var Z=0,ue=D;Z<ue.length;Z+=1){var Ee=ue[Z],Ie=Ee[0],He=Ee[1];this.bindings[Ie]=He}};_t.prototype.concat=function(A){return new _t(this,A)},_t.prototype.get=function(A){if(this.bindings[A])return this.bindings[A];if(this.parent)return this.parent.get(A);throw new Error(A+" not found in scope.")},_t.prototype.has=function(A){return!!this.bindings[A]||!!this.parent&&this.parent.has(A)};var Ot={kind:"null"},Pt={kind:"number"},Bt={kind:"string"},Jt={kind:"boolean"},on={kind:"color"},qt={kind:"object"},Gt={kind:"value"},nn={kind:"collator"},Cn={kind:"formatted"},An={kind:"resolvedImage"};function dn(A,D){return{kind:"array",itemType:A,N:D}}function Kt(A){if(A.kind==="array"){var D=Kt(A.itemType);return typeof A.N=="number"?"array<"+D+", "+A.N+">":A.itemType.kind==="value"?"array":"array<"+D+">"}return A.kind}var un=[Ot,Pt,Bt,Jt,on,Cn,qt,dn(Gt),An];function rn(A,D){if(D.kind==="error")return null;if(A.kind==="array"){if(D.kind==="array"&&(D.N===0&&D.itemType.kind==="value"||!rn(A.itemType,D.itemType))&&(typeof A.N!="number"||A.N===D.N))return null}else{if(A.kind===D.kind)return null;if(A.kind==="value"){for(var Z=0,ue=un;Z<ue.length;Z+=1)if(!rn(ue[Z],D))return null}}return"Expected "+Kt(A)+" but found "+Kt(D)+" instead."}function hn(A,D){return D.some(function(Z){return Z.kind===A.kind})}function kn(A,D){return D.some(function(Z){return Z==="null"?A===null:Z==="array"?Array.isArray(A):Z==="object"?A&&!Array.isArray(A)&&typeof A=="object":Z===typeof A})}var Sn=_(function(A,D){var Z={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ue(ht){return(ht=Math.round(ht))<0?0:ht>255?255:ht}function Ee(ht){return ht<0?0:ht>1?1:ht}function Ie(ht){return ht[ht.length-1]==="%"?ue(parseFloat(ht)/100*255):ue(parseInt(ht))}function He(ht){return ht[ht.length-1]==="%"?Ee(parseFloat(ht)/100):Ee(parseFloat(ht))}function tt(ht,Tt,St){return St<0?St+=1:St>1&&(St-=1),6*St<1?ht+(Tt-ht)*St*6:2*St<1?Tt:3*St<2?ht+(Tt-ht)*(2/3-St)*6:ht}try{D.parseCSSColor=function(ht){var Tt,St=ht.replace(/ /g,"").toLowerCase();if(St in Z)return Z[St].slice();if(St[0]==="#")return St.length===4?(Tt=parseInt(St.substr(1),16))>=0&&Tt<=4095?[(3840&Tt)>>4|(3840&Tt)>>8,240&Tt|(240&Tt)>>4,15&Tt|(15&Tt)<<4,1]:null:St.length===7&&(Tt=parseInt(St.substr(1),16))>=0&&Tt<=16777215?[(16711680&Tt)>>16,(65280&Tt)>>8,255&Tt,1]:null;var Nt=St.indexOf("("),Yt=St.indexOf(")");if(Nt!==-1&&Yt+1===St.length){var Ut=St.substr(0,Nt),sn=St.substr(Nt+1,Yt-(Nt+1)).split(","),cn=1;switch(Ut){case"rgba":if(sn.length!==4)return null;cn=He(sn.pop());case"rgb":return sn.length!==3?null:[Ie(sn[0]),Ie(sn[1]),Ie(sn[2]),cn];case"hsla":if(sn.length!==4)return null;cn=He(sn.pop());case"hsl":if(sn.length!==3)return null;var Mn=(parseFloat(sn[0])%360+360)%360/360,wn=He(sn[1]),Bn=He(sn[2]),Un=Bn<=.5?Bn*(wn+1):Bn+wn-Bn*wn,Xn=2*Bn-Un;return[ue(255*tt(Xn,Un,Mn+1/3)),ue(255*tt(Xn,Un,Mn)),ue(255*tt(Xn,Un,Mn-1/3)),cn];default:return null}}return null}}catch{}}),Rn=Sn.parseCSSColor,zn=function(A,D,Z,ue){ue===void 0&&(ue=1),this.r=A,this.g=D,this.b=Z,this.a=ue};zn.parse=function(A){if(A){if(A instanceof zn)return A;if(typeof A=="string"){var D=Rn(A);if(D)return new zn(D[0]/255*D[3],D[1]/255*D[3],D[2]/255*D[3],D[3])}}},zn.prototype.toString=function(){var A=this.toArray(),D=A[0],Z=A[1],ue=A[2],Ee=A[3];return"rgba("+Math.round(D)+","+Math.round(Z)+","+Math.round(ue)+","+Ee+")"},zn.prototype.toArray=function(){var A=this,D=A.r,Z=A.g,ue=A.b,Ee=A.a;return Ee===0?[0,0,0,0]:[255*D/Ee,255*Z/Ee,255*ue/Ee,Ee]},zn.black=new zn(0,0,0,1),zn.white=new zn(1,1,1,1),zn.transparent=new zn(0,0,0,0),zn.red=new zn(1,0,0,1);var Pn=function(A,D,Z){this.sensitivity=A?D?"variant":"case":D?"accent":"base",this.locale=Z,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Pn.prototype.compare=function(A,D){return this.collator.compare(A,D)},Pn.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Gn=function(A,D,Z,ue,Ee){this.text=A,this.image=D,this.scale=Z,this.fontStack=ue,this.textColor=Ee},Nn=function(A){this.sections=A};Nn.fromString=function(A){return new Nn([new Gn(A,null,null,null,null)])},Nn.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(A){return A.text.length!==0||A.image&&A.image.name.length!==0})},Nn.factory=function(A){return A instanceof Nn?A:Nn.fromString(A)},Nn.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(A){return A.text}).join("")},Nn.prototype.serialize=function(){for(var A=["format"],D=0,Z=this.sections;D<Z.length;D+=1){var ue=Z[D];if(ue.image)A.push(["image",ue.image.name]);else{A.push(ue.text);var Ee={};ue.fontStack&&(Ee["text-font"]=["literal",ue.fontStack.split(",")]),ue.scale&&(Ee["font-scale"]=ue.scale),ue.textColor&&(Ee["text-color"]=["rgba"].concat(ue.textColor.toArray())),A.push(Ee)}}return A};var or=function(A){this.name=A.name,this.available=A.available};function lr(A,D,Z,ue){return typeof A=="number"&&A>=0&&A<=255&&typeof D=="number"&&D>=0&&D<=255&&typeof Z=="number"&&Z>=0&&Z<=255?ue===void 0||typeof ue=="number"&&ue>=0&&ue<=1?null:"Invalid rgba value ["+[A,D,Z,ue].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof ue=="number"?[A,D,Z,ue]:[A,D,Z]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function cr(A){if(A===null||typeof A=="string"||typeof A=="boolean"||typeof A=="number"||A instanceof zn||A instanceof Pn||A instanceof Nn||A instanceof or)return!0;if(Array.isArray(A)){for(var D=0,Z=A;D<Z.length;D+=1)if(!cr(Z[D]))return!1;return!0}if(typeof A=="object"){for(var ue in A)if(!cr(A[ue]))return!1;return!0}return!1}function $n(A){if(A===null)return Ot;if(typeof A=="string")return Bt;if(typeof A=="boolean")return Jt;if(typeof A=="number")return Pt;if(A instanceof zn)return on;if(A instanceof Pn)return nn;if(A instanceof Nn)return Cn;if(A instanceof or)return An;if(Array.isArray(A)){for(var D,Z=A.length,ue=0,Ee=A;ue<Ee.length;ue+=1){var Ie=$n(Ee[ue]);if(D){if(D===Ie)continue;D=Gt;break}D=Ie}return dn(D||Gt,Z)}return qt}function Ar(A){var D=typeof A;return A===null?"":D==="string"||D==="number"||D==="boolean"?String(A):A instanceof zn||A instanceof Nn||A instanceof or?A.toString():JSON.stringify(A)}or.prototype.toString=function(){return this.name},or.fromString=function(A){return A?new or({name:A,available:!1}):null},or.prototype.serialize=function(){return["image",this.name]};var Ht=function(A,D){this.type=A,this.value=D};Ht.parse=function(A,D){if(A.length!==2)return D.error("'literal' expression requires exactly one argument, but found "+(A.length-1)+" instead.");if(!cr(A[1]))return D.error("invalid value");var Z=A[1],ue=$n(Z),Ee=D.expectedType;return ue.kind!=="array"||ue.N!==0||!Ee||Ee.kind!=="array"||typeof Ee.N=="number"&&Ee.N!==0||(ue=Ee),new Ht(ue,Z)},Ht.prototype.evaluate=function(){return this.value},Ht.prototype.eachChild=function(){},Ht.prototype.outputDefined=function(){return!0},Ht.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof zn?["rgba"].concat(this.value.toArray()):this.value instanceof Nn?this.value.serialize():this.value};var an=function(A){this.name="ExpressionEvaluationError",this.message=A};an.prototype.toJSON=function(){return this.message};var _n={string:Bt,number:Pt,boolean:Jt,object:qt},vn=function(A,D){this.type=A,this.args=D};vn.parse=function(A,D){if(A.length<2)return D.error("Expected at least one argument.");var Z,ue=1,Ee=A[0];if(Ee==="array"){var Ie,He;if(A.length>2){var tt=A[1];if(typeof tt!="string"||!(tt in _n)||tt==="object")return D.error('The item type argument of "array" must be one of string, number, boolean',1);Ie=_n[tt],ue++}else Ie=Gt;if(A.length>3){if(A[2]!==null&&(typeof A[2]!="number"||A[2]<0||A[2]!==Math.floor(A[2])))return D.error('The length argument to "array" must be a positive integer literal',2);He=A[2],ue++}Z=dn(Ie,He)}else Z=_n[Ee];for(var ht=[];ue<A.length;ue++){var Tt=D.parse(A[ue],ue,Gt);if(!Tt)return null;ht.push(Tt)}return new vn(Z,ht)},vn.prototype.evaluate=function(A){for(var D=0;D<this.args.length;D++){var Z=this.args[D].evaluate(A);if(!rn(this.type,$n(Z)))return Z;if(D===this.args.length-1)throw new an("Expected value to be of type "+Kt(this.type)+", but found "+Kt($n(Z))+" instead.")}return null},vn.prototype.eachChild=function(A){this.args.forEach(A)},vn.prototype.outputDefined=function(){return this.args.every(function(A){return A.outputDefined()})},vn.prototype.serialize=function(){var A=this.type,D=[A.kind];if(A.kind==="array"){var Z=A.itemType;if(Z.kind==="string"||Z.kind==="number"||Z.kind==="boolean"){D.push(Z.kind);var ue=A.N;(typeof ue=="number"||this.args.length>1)&&D.push(ue)}}return D.concat(this.args.map(function(Ee){return Ee.serialize()}))};var En=function(A){this.type=Cn,this.sections=A};En.parse=function(A,D){if(A.length<2)return D.error("Expected at least one argument.");var Z=A[1];if(!Array.isArray(Z)&&typeof Z=="object")return D.error("First argument must be an image or text section.");for(var ue=[],Ee=!1,Ie=1;Ie<=A.length-1;++Ie){var He=A[Ie];if(Ee&&typeof He=="object"&&!Array.isArray(He)){Ee=!1;var tt=null;if(He["font-scale"]&&!(tt=D.parse(He["font-scale"],1,Pt)))return null;var ht=null;if(He["text-font"]&&!(ht=D.parse(He["text-font"],1,dn(Bt))))return null;var Tt=null;if(He["text-color"]&&!(Tt=D.parse(He["text-color"],1,on)))return null;var St=ue[ue.length-1];St.scale=tt,St.font=ht,St.textColor=Tt}else{var Nt=D.parse(A[Ie],1,Gt);if(!Nt)return null;var Yt=Nt.type.kind;if(Yt!=="string"&&Yt!=="value"&&Yt!=="null"&&Yt!=="resolvedImage")return D.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Ee=!0,ue.push({content:Nt,scale:null,font:null,textColor:null})}}return new En(ue)},En.prototype.evaluate=function(A){return new Nn(this.sections.map(function(D){var Z=D.content.evaluate(A);return $n(Z)===An?new Gn("",Z,null,null,null):new Gn(Ar(Z),null,D.scale?D.scale.evaluate(A):null,D.font?D.font.evaluate(A).join(","):null,D.textColor?D.textColor.evaluate(A):null)}))},En.prototype.eachChild=function(A){for(var D=0,Z=this.sections;D<Z.length;D+=1){var ue=Z[D];A(ue.content),ue.scale&&A(ue.scale),ue.font&&A(ue.font),ue.textColor&&A(ue.textColor)}},En.prototype.outputDefined=function(){return!1},En.prototype.serialize=function(){for(var A=["format"],D=0,Z=this.sections;D<Z.length;D+=1){var ue=Z[D];A.push(ue.content.serialize());var Ee={};ue.scale&&(Ee["font-scale"]=ue.scale.serialize()),ue.font&&(Ee["text-font"]=ue.font.serialize()),ue.textColor&&(Ee["text-color"]=ue.textColor.serialize()),A.push(Ee)}return A};var Yn=function(A){this.type=An,this.input=A};Yn.parse=function(A,D){if(A.length!==2)return D.error("Expected two arguments.");var Z=D.parse(A[1],1,Bt);return Z?new Yn(Z):D.error("No image name provided.")},Yn.prototype.evaluate=function(A){var D=this.input.evaluate(A),Z=or.fromString(D);return Z&&A.availableImages&&(Z.available=A.availableImages.indexOf(D)>-1),Z},Yn.prototype.eachChild=function(A){A(this.input)},Yn.prototype.outputDefined=function(){return!1},Yn.prototype.serialize=function(){return["image",this.input.serialize()]};var Fn={"to-boolean":Jt,"to-color":on,"to-number":Pt,"to-string":Bt},jn=function(A,D){this.type=A,this.args=D};jn.parse=function(A,D){if(A.length<2)return D.error("Expected at least one argument.");var Z=A[0];if((Z==="to-boolean"||Z==="to-string")&&A.length!==2)return D.error("Expected one argument.");for(var ue=Fn[Z],Ee=[],Ie=1;Ie<A.length;Ie++){var He=D.parse(A[Ie],Ie,Gt);if(!He)return null;Ee.push(He)}return new jn(ue,Ee)},jn.prototype.evaluate=function(A){if(this.type.kind==="boolean")return!!this.args[0].evaluate(A);if(this.type.kind==="color"){for(var D,Z,ue=0,Ee=this.args;ue<Ee.length;ue+=1){if(Z=null,(D=Ee[ue].evaluate(A))instanceof zn)return D;if(typeof D=="string"){var Ie=A.parseColor(D);if(Ie)return Ie}else if(Array.isArray(D)&&!(Z=D.length<3||D.length>4?"Invalid rbga value "+JSON.stringify(D)+": expected an array containing either three or four numeric values.":lr(D[0],D[1],D[2],D[3])))return new zn(D[0]/255,D[1]/255,D[2]/255,D[3])}throw new an(Z||"Could not parse color from value '"+(typeof D=="string"?D:String(JSON.stringify(D)))+"'")}if(this.type.kind==="number"){for(var He=null,tt=0,ht=this.args;tt<ht.length;tt+=1){if((He=ht[tt].evaluate(A))===null)return 0;var Tt=Number(He);if(!isNaN(Tt))return Tt}throw new an("Could not convert "+JSON.stringify(He)+" to number.")}return this.type.kind==="formatted"?Nn.fromString(Ar(this.args[0].evaluate(A))):this.type.kind==="resolvedImage"?or.fromString(Ar(this.args[0].evaluate(A))):Ar(this.args[0].evaluate(A))},jn.prototype.eachChild=function(A){this.args.forEach(A)},jn.prototype.outputDefined=function(){return this.args.every(function(A){return A.outputDefined()})},jn.prototype.serialize=function(){if(this.type.kind==="formatted")return new En([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Yn(this.args[0]).serialize();var A=["to-"+this.type.kind];return this.eachChild(function(D){A.push(D.serialize())}),A};var ir=["Unknown","Point","LineString","Polygon"],Zt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Zt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Zt.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?ir[this.feature.type]:this.feature.type:null},Zt.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Zt.prototype.canonicalID=function(){return this.canonical},Zt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Zt.prototype.parseColor=function(A){var D=this._parseColorCache[A];return D||(D=this._parseColorCache[A]=zn.parse(A)),D};var mn=function(A,D,Z,ue){this.name=A,this.type=D,this._evaluate=Z,this.args=ue};mn.prototype.evaluate=function(A){return this._evaluate(A,this.args)},mn.prototype.eachChild=function(A){this.args.forEach(A)},mn.prototype.outputDefined=function(){return!1},mn.prototype.serialize=function(){return[this.name].concat(this.args.map(function(A){return A.serialize()}))},mn.parse=function(A,D){var Z,ue=A[0],Ee=mn.definitions[ue];if(!Ee)return D.error('Unknown expression "'+ue+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Ie=Array.isArray(Ee)?Ee[0]:Ee.type,He=Array.isArray(Ee)?[[Ee[1],Ee[2]]]:Ee.overloads,tt=He.filter(function(Zr){var Nr=Zr[0];return!Array.isArray(Nr)||Nr.length===A.length-1}),ht=null,Tt=0,St=tt;Tt<St.length;Tt+=1){var Nt=St[Tt],Yt=Nt[0],Ut=Nt[1];ht=new gr(D.registry,D.path,null,D.scope);for(var sn=[],cn=!1,Mn=1;Mn<A.length;Mn++){var wn=A[Mn],Bn=Array.isArray(Yt)?Yt[Mn-1]:Yt.type,Un=ht.parse(wn,1+sn.length,Bn);if(!Un){cn=!0;break}sn.push(Un)}if(!cn)if(Array.isArray(Yt)&&Yt.length!==sn.length)ht.error("Expected "+Yt.length+" arguments, but found "+sn.length+" instead.");else{for(var Xn=0;Xn<sn.length;Xn++){var Kn=Array.isArray(Yt)?Yt[Xn]:Yt.type,ur=sn[Xn];ht.concat(Xn+1).checkSubtype(Kn,ur.type)}if(ht.errors.length===0)return new mn(ue,Ie,Ut,sn)}}if(tt.length===1)(Z=D.errors).push.apply(Z,ht.errors);else{for(var wr=(tt.length?tt:He).map(function(Zr){return Nr=Zr[0],Array.isArray(Nr)?"("+Nr.map(Kt).join(", ")+")":"("+Kt(Nr.type)+"...)";var Nr}).join(" | "),xr=[],Sr=1;Sr<A.length;Sr++){var Or=D.parse(A[Sr],1+xr.length);if(!Or)return null;xr.push(Kt(Or.type))}D.error("Expected arguments of type "+wr+", but found ("+xr.join(", ")+") instead.")}return null},mn.register=function(A,D){for(var Z in mn.definitions=D,D)A[Z]=mn};var It=function(A,D,Z){this.type=nn,this.locale=Z,this.caseSensitive=A,this.diacriticSensitive=D};It.parse=function(A,D){if(A.length!==2)return D.error("Expected one argument.");var Z=A[1];if(typeof Z!="object"||Array.isArray(Z))return D.error("Collator options argument must be an object.");var ue=D.parse(Z["case-sensitive"]!==void 0&&Z["case-sensitive"],1,Jt);if(!ue)return null;var Ee=D.parse(Z["diacritic-sensitive"]!==void 0&&Z["diacritic-sensitive"],1,Jt);if(!Ee)return null;var Ie=null;return Z.locale&&!(Ie=D.parse(Z.locale,1,Bt))?null:new It(ue,Ee,Ie)},It.prototype.evaluate=function(A){return new Pn(this.caseSensitive.evaluate(A),this.diacriticSensitive.evaluate(A),this.locale?this.locale.evaluate(A):null)},It.prototype.eachChild=function(A){A(this.caseSensitive),A(this.diacriticSensitive),this.locale&&A(this.locale)},It.prototype.outputDefined=function(){return!1},It.prototype.serialize=function(){var A={};return A["case-sensitive"]=this.caseSensitive.serialize(),A["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(A.locale=this.locale.serialize()),["collator",A]};var Xt=8192;function tn(A,D){A[0]=Math.min(A[0],D[0]),A[1]=Math.min(A[1],D[1]),A[2]=Math.max(A[2],D[0]),A[3]=Math.max(A[3],D[1])}function bn(A,D){return!(A[0]<=D[0]||A[2]>=D[2]||A[1]<=D[1]||A[3]>=D[3])}function yn(A,D){var Z,ue=(180+A[0])/360,Ee=(Z=A[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+Z*Math.PI/360)))/360),Ie=Math.pow(2,D.z);return[Math.round(ue*Ie*Xt),Math.round(Ee*Ie*Xt)]}function Tn(A,D,Z){return D[1]>A[1]!=Z[1]>A[1]&&A[0]<(Z[0]-D[0])*(A[1]-D[1])/(Z[1]-D[1])+D[0]}function fn(A,D){for(var Z=!1,ue=0,Ee=D.length;ue<Ee;ue++)for(var Ie=D[ue],He=0,tt=Ie.length;He<tt-1;He++){if(ht=A,Tt=Ie[He],St=Ie[He+1],Nt=void 0,Yt=void 0,Ut=void 0,sn=void 0,Nt=ht[0]-Tt[0],Yt=ht[1]-Tt[1],Ut=ht[0]-St[0],sn=ht[1]-St[1],Nt*sn-Ut*Yt==0&&Nt*Ut<=0&&Yt*sn<=0)return!1;Tn(A,Ie[He],Ie[He+1])&&(Z=!Z)}var ht,Tt,St,Nt,Yt,Ut,sn;return Z}function $t(A,D){for(var Z=0;Z<D.length;Z++)if(fn(A,D[Z]))return!0;return!1}function en(A,D,Z,ue){var Ee=A[0]-Z[0],Ie=A[1]-Z[1],He=D[0]-Z[0],tt=D[1]-Z[1],ht=ue[0]-Z[0],Tt=ue[1]-Z[1],St=Ee*Tt-ht*Ie,Nt=He*Tt-ht*tt;return St>0&&Nt<0||St<0&&Nt>0}function ln(A,D,Z){for(var ue=0,Ee=Z;ue<Ee.length;ue+=1)for(var Ie=Ee[ue],He=0;He<Ie.length-1;++He)if(tt=A,ht=D,Tt=Ie[He],St=Ie[He+1],Nt=void 0,Yt=void 0,Ut=void 0,Ut=[ht[0]-tt[0],ht[1]-tt[1]],Nt=[St[0]-Tt[0],St[1]-Tt[1]],Yt=Ut,Nt[0]*Yt[1]-Nt[1]*Yt[0]!=0&&en(tt,ht,Tt,St)&&en(Tt,St,tt,ht))return!0;var tt,ht,Tt,St,Nt,Yt,Ut;return!1}function pn(A,D){for(var Z=0;Z<A.length;++Z)if(!fn(A[Z],D))return!1;for(var ue=0;ue<A.length-1;++ue)if(ln(A[ue],A[ue+1],D))return!1;return!0}function Ln(A,D){for(var Z=0;Z<D.length;Z++)if(pn(A,D[Z]))return!0;return!1}function In(A,D,Z){for(var ue=[],Ee=0;Ee<A.length;Ee++){for(var Ie=[],He=0;He<A[Ee].length;He++){var tt=yn(A[Ee][He],Z);tn(D,tt),Ie.push(tt)}ue.push(Ie)}return ue}function Hn(A,D,Z){for(var ue=[],Ee=0;Ee<A.length;Ee++){var Ie=In(A[Ee],D,Z);ue.push(Ie)}return ue}function qn(A,D,Z,ue){if(A[0]<Z[0]||A[0]>Z[2]){var Ee=.5*ue,Ie=A[0]-Z[0]>Ee?-ue:Z[0]-A[0]>Ee?ue:0;Ie===0&&(Ie=A[0]-Z[2]>Ee?-ue:Z[2]-A[0]>Ee?ue:0),A[0]+=Ie}tn(D,A)}function er(A,D,Z,ue){for(var Ee=Math.pow(2,ue.z)*Xt,Ie=[ue.x*Xt,ue.y*Xt],He=[],tt=0,ht=A;tt<ht.length;tt+=1)for(var Tt=0,St=ht[tt];Tt<St.length;Tt+=1){var Nt=St[Tt],Yt=[Nt.x+Ie[0],Nt.y+Ie[1]];qn(Yt,D,Z,Ee),He.push(Yt)}return He}function Zn(A,D,Z,ue){for(var Ee=Math.pow(2,ue.z)*Xt,Ie=[ue.x*Xt,ue.y*Xt],He=[],tt=0,ht=A;tt<ht.length;tt+=1){for(var Tt=[],St=0,Nt=ht[tt];St<Nt.length;St+=1){var Yt=Nt[St],Ut=[Yt.x+Ie[0],Yt.y+Ie[1]];tn(D,Ut),Tt.push(Ut)}He.push(Tt)}if(D[2]-D[0]<=Ee/2){(Bn=D)[0]=Bn[1]=1/0,Bn[2]=Bn[3]=-1/0;for(var sn=0,cn=He;sn<cn.length;sn+=1)for(var Mn=0,wn=cn[sn];Mn<wn.length;Mn+=1)qn(wn[Mn],D,Z,Ee)}var Bn;return He}var tr=function(A,D){this.type=Jt,this.geojson=A,this.geometries=D};function nr(A){if(A instanceof mn&&(A.name==="get"&&A.args.length===1||A.name==="feature-state"||A.name==="has"&&A.args.length===1||A.name==="properties"||A.name==="geometry-type"||A.name==="id"||/^filter-/.test(A.name))||A instanceof tr)return!1;var D=!0;return A.eachChild(function(Z){D&&!nr(Z)&&(D=!1)}),D}function Qn(A){if(A instanceof mn&&A.name==="feature-state")return!1;var D=!0;return A.eachChild(function(Z){D&&!Qn(Z)&&(D=!1)}),D}function yr(A,D){if(A instanceof mn&&D.indexOf(A.name)>=0)return!1;var Z=!0;return A.eachChild(function(ue){Z&&!yr(ue,D)&&(Z=!1)}),Z}tr.parse=function(A,D){if(A.length!==2)return D.error("'within' expression requires exactly one argument, but found "+(A.length-1)+" instead.");if(cr(A[1])){var Z=A[1];if(Z.type==="FeatureCollection")for(var ue=0;ue<Z.features.length;++ue){var Ee=Z.features[ue].geometry.type;if(Ee==="Polygon"||Ee==="MultiPolygon")return new tr(Z,Z.features[ue].geometry)}else if(Z.type==="Feature"){var Ie=Z.geometry.type;if(Ie==="Polygon"||Ie==="MultiPolygon")return new tr(Z,Z.geometry)}else if(Z.type==="Polygon"||Z.type==="MultiPolygon")return new tr(Z,Z)}return D.error("'within' expression requires valid geojson object that contains polygon geometry type.")},tr.prototype.evaluate=function(A){if(A.geometry()!=null&&A.canonicalID()!=null){if(A.geometryType()==="Point")return function(D,Z){var ue=[1/0,1/0,-1/0,-1/0],Ee=[1/0,1/0,-1/0,-1/0],Ie=D.canonicalID();if(Z.type==="Polygon"){var He=In(Z.coordinates,Ee,Ie),tt=er(D.geometry(),ue,Ee,Ie);if(!bn(ue,Ee))return!1;for(var ht=0,Tt=tt;ht<Tt.length;ht+=1)if(!fn(Tt[ht],He))return!1}if(Z.type==="MultiPolygon"){var St=Hn(Z.coordinates,Ee,Ie),Nt=er(D.geometry(),ue,Ee,Ie);if(!bn(ue,Ee))return!1;for(var Yt=0,Ut=Nt;Yt<Ut.length;Yt+=1)if(!$t(Ut[Yt],St))return!1}return!0}(A,this.geometries);if(A.geometryType()==="LineString")return function(D,Z){var ue=[1/0,1/0,-1/0,-1/0],Ee=[1/0,1/0,-1/0,-1/0],Ie=D.canonicalID();if(Z.type==="Polygon"){var He=In(Z.coordinates,Ee,Ie),tt=Zn(D.geometry(),ue,Ee,Ie);if(!bn(ue,Ee))return!1;for(var ht=0,Tt=tt;ht<Tt.length;ht+=1)if(!pn(Tt[ht],He))return!1}if(Z.type==="MultiPolygon"){var St=Hn(Z.coordinates,Ee,Ie),Nt=Zn(D.geometry(),ue,Ee,Ie);if(!bn(ue,Ee))return!1;for(var Yt=0,Ut=Nt;Yt<Ut.length;Yt+=1)if(!Ln(Ut[Yt],St))return!1}return!0}(A,this.geometries)}return!1},tr.prototype.eachChild=function(){},tr.prototype.outputDefined=function(){return!0},tr.prototype.serialize=function(){return["within",this.geojson]};var fr=function(A,D){this.type=D.type,this.name=A,this.boundExpression=D};fr.parse=function(A,D){if(A.length!==2||typeof A[1]!="string")return D.error("'var' expression requires exactly one string literal argument.");var Z=A[1];return D.scope.has(Z)?new fr(Z,D.scope.get(Z)):D.error('Unknown variable "'+Z+'". Make sure "'+Z+'" has been bound in an enclosing "let" expression before using it.',1)},fr.prototype.evaluate=function(A){return this.boundExpression.evaluate(A)},fr.prototype.eachChild=function(){},fr.prototype.outputDefined=function(){return!1},fr.prototype.serialize=function(){return["var",this.name]};var gr=function(A,D,Z,ue,Ee){D===void 0&&(D=[]),ue===void 0&&(ue=new _t),Ee===void 0&&(Ee=[]),this.registry=A,this.path=D,this.key=D.map(function(Ie){return"["+Ie+"]"}).join(""),this.scope=ue,this.errors=Ee,this.expectedType=Z};function sr(A){if(A instanceof fr)return sr(A.boundExpression);if(A instanceof mn&&A.name==="error"||A instanceof It||A instanceof tr)return!1;var D=A instanceof jn||A instanceof vn,Z=!0;return A.eachChild(function(ue){Z=D?Z&&sr(ue):Z&&ue instanceof Ht}),!!Z&&nr(A)&&yr(A,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function br(A,D){for(var Z,ue,Ee=A.length-1,Ie=0,He=Ee,tt=0;Ie<=He;)if(Z=A[tt=Math.floor((Ie+He)/2)],ue=A[tt+1],Z<=D){if(tt===Ee||D<ue)return tt;Ie=tt+1}else{if(!(Z>D))throw new an("Input is not a number.");He=tt-1}return 0}gr.prototype.parse=function(A,D,Z,ue,Ee){return Ee===void 0&&(Ee={}),D?this.concat(D,Z,ue)._parse(A,Ee):this._parse(A,Ee)},gr.prototype._parse=function(A,D){function Z(Tt,St,Nt){return Nt==="assert"?new vn(St,[Tt]):Nt==="coerce"?new jn(St,[Tt]):Tt}if(A!==null&&typeof A!="string"&&typeof A!="boolean"&&typeof A!="number"||(A=["literal",A]),Array.isArray(A)){if(A.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ue=A[0];if(typeof ue!="string")return this.error("Expression name must be a string, but found "+typeof ue+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Ee=this.registry[ue];if(Ee){var Ie=Ee.parse(A,this);if(!Ie)return null;if(this.expectedType){var He=this.expectedType,tt=Ie.type;if(He.kind!=="string"&&He.kind!=="number"&&He.kind!=="boolean"&&He.kind!=="object"&&He.kind!=="array"||tt.kind!=="value")if(He.kind!=="color"&&He.kind!=="formatted"&&He.kind!=="resolvedImage"||tt.kind!=="value"&&tt.kind!=="string"){if(this.checkSubtype(He,tt))return null}else Ie=Z(Ie,He,D.typeAnnotation||"coerce");else Ie=Z(Ie,He,D.typeAnnotation||"assert")}if(!(Ie instanceof Ht)&&Ie.type.kind!=="resolvedImage"&&sr(Ie)){var ht=new Zt;try{Ie=new Ht(Ie.type,Ie.evaluate(ht))}catch(Tt){return this.error(Tt.message),null}}return Ie}return this.error('Unknown expression "'+ue+'". If you wanted a literal array, use ["literal", [...]].',0)}return A===void 0?this.error("'undefined' value invalid. Use null instead."):typeof A=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof A+" instead.")},gr.prototype.concat=function(A,D,Z){var ue=typeof A=="number"?this.path.concat(A):this.path,Ee=Z?this.scope.concat(Z):this.scope;return new gr(this.registry,ue,D||null,Ee,this.errors)},gr.prototype.error=function(A){for(var D=[],Z=arguments.length-1;Z-- >0;)D[Z]=arguments[Z+1];var ue=""+this.key+D.map(function(Ee){return"["+Ee+"]"}).join("");this.errors.push(new kt(ue,A))},gr.prototype.checkSubtype=function(A,D){var Z=rn(A,D);return Z&&this.error(Z),Z};var Pr=function(A,D,Z){this.type=A,this.input=D,this.labels=[],this.outputs=[];for(var ue=0,Ee=Z;ue<Ee.length;ue+=1){var Ie=Ee[ue],He=Ie[0],tt=Ie[1];this.labels.push(He),this.outputs.push(tt)}};function Yr(A,D,Z){return A*(1-Z)+D*Z}Pr.parse=function(A,D){if(A.length-1<4)return D.error("Expected at least 4 arguments, but found only "+(A.length-1)+".");if((A.length-1)%2!=0)return D.error("Expected an even number of arguments.");var Z=D.parse(A[1],1,Pt);if(!Z)return null;var ue=[],Ee=null;D.expectedType&&D.expectedType.kind!=="value"&&(Ee=D.expectedType);for(var Ie=1;Ie<A.length;Ie+=2){var He=Ie===1?-1/0:A[Ie],tt=A[Ie+1],ht=Ie,Tt=Ie+1;if(typeof He!="number")return D.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ht);if(ue.length&&ue[ue.length-1][0]>=He)return D.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ht);var St=D.parse(tt,Tt,Ee);if(!St)return null;Ee=Ee||St.type,ue.push([He,St])}return new Pr(Ee,Z,ue)},Pr.prototype.evaluate=function(A){var D=this.labels,Z=this.outputs;if(D.length===1)return Z[0].evaluate(A);var ue=this.input.evaluate(A);if(ue<=D[0])return Z[0].evaluate(A);var Ee=D.length;return ue>=D[Ee-1]?Z[Ee-1].evaluate(A):Z[br(D,ue)].evaluate(A)},Pr.prototype.eachChild=function(A){A(this.input);for(var D=0,Z=this.outputs;D<Z.length;D+=1)A(Z[D])},Pr.prototype.outputDefined=function(){return this.outputs.every(function(A){return A.outputDefined()})},Pr.prototype.serialize=function(){for(var A=["step",this.input.serialize()],D=0;D<this.labels.length;D++)D>0&&A.push(this.labels[D]),A.push(this.outputs[D].serialize());return A};var ki=Object.freeze({__proto__:null,number:Yr,color:function(A,D,Z){return new zn(Yr(A.r,D.r,Z),Yr(A.g,D.g,Z),Yr(A.b,D.b,Z),Yr(A.a,D.a,Z))},array:function(A,D,Z){return A.map(function(ue,Ee){return Yr(ue,D[Ee],Z)})}}),Ai=.95047,aa=1,bi=1.08883,Ji=4/29,Ba=6/29,Na=3*Ba*Ba,Ss=Ba*Ba*Ba,qu=Math.PI/180,dl=180/Math.PI;function vl(A){return A>Ss?Math.pow(A,.3333333333333333):A/Na+Ji}function Nl(A){return A>Ba?A*A*A:Na*(A-Ji)}function bo(A){return 255*(A<=.0031308?12.92*A:1.055*Math.pow(A,.4166666666666667)-.055)}function jl(A){return(A/=255)<=.04045?A/12.92:Math.pow((A+.055)/1.055,2.4)}function Ul(A){var D=jl(A.r),Z=jl(A.g),ue=jl(A.b),Ee=vl((.4124564*D+.3575761*Z+.1804375*ue)/Ai),Ie=vl((.2126729*D+.7151522*Z+.072175*ue)/aa);return{l:116*Ie-16,a:500*(Ee-Ie),b:200*(Ie-vl((.0193339*D+.119192*Z+.9503041*ue)/bi)),alpha:A.a}}function Vl(A){var D=(A.l+16)/116,Z=isNaN(A.a)?D:D+A.a/500,ue=isNaN(A.b)?D:D-A.b/200;return D=aa*Nl(D),Z=Ai*Nl(Z),ue=bi*Nl(ue),new zn(bo(3.2404542*Z-1.5371385*D-.4985314*ue),bo(-.969266*Z+1.8760108*D+.041556*ue),bo(.0556434*Z-.2040259*D+1.0572252*ue),A.alpha)}function Go(A,D,Z){var ue=D-A;return A+Z*(ue>180||ue<-180?ue-360*Math.round(ue/360):ue)}var as={forward:Ul,reverse:Vl,interpolate:function(A,D,Z){return{l:Yr(A.l,D.l,Z),a:Yr(A.a,D.a,Z),b:Yr(A.b,D.b,Z),alpha:Yr(A.alpha,D.alpha,Z)}}},Es={forward:function(A){var D=Ul(A),Z=D.l,ue=D.a,Ee=D.b,Ie=Math.atan2(Ee,ue)*dl;return{h:Ie<0?Ie+360:Ie,c:Math.sqrt(ue*ue+Ee*Ee),l:Z,alpha:A.a}},reverse:function(A){var D=A.h*qu,Z=A.c;return Vl({l:A.l,a:Math.cos(D)*Z,b:Math.sin(D)*Z,alpha:A.alpha})},interpolate:function(A,D,Z){return{h:Go(A.h,D.h,Z),c:Yr(A.c,D.c,Z),l:Yr(A.l,D.l,Z),alpha:Yr(A.alpha,D.alpha,Z)}}},Di=Object.freeze({__proto__:null,lab:as,hcl:Es}),ca=function(A,D,Z,ue,Ee){this.type=A,this.operator=D,this.interpolation=Z,this.input=ue,this.labels=[],this.outputs=[];for(var Ie=0,He=Ee;Ie<He.length;Ie+=1){var tt=He[Ie],ht=tt[0],Tt=tt[1];this.labels.push(ht),this.outputs.push(Tt)}};function Yo(A,D,Z,ue){var Ee=ue-Z,Ie=A-Z;return Ee===0?0:D===1?Ie/Ee:(Math.pow(D,Ie)-1)/(Math.pow(D,Ee)-1)}ca.interpolationFactor=function(A,D,Z,ue){var Ee=0;if(A.name==="exponential")Ee=Yo(D,A.base,Z,ue);else if(A.name==="linear")Ee=Yo(D,1,Z,ue);else if(A.name==="cubic-bezier"){var Ie=A.controlPoints;Ee=new f(Ie[0],Ie[1],Ie[2],Ie[3]).solve(Yo(D,1,Z,ue))}return Ee},ca.parse=function(A,D){var Z=A[0],ue=A[1],Ee=A[2],Ie=A.slice(3);if(!Array.isArray(ue)||ue.length===0)return D.error("Expected an interpolation type expression.",1);if(ue[0]==="linear")ue={name:"linear"};else if(ue[0]==="exponential"){var He=ue[1];if(typeof He!="number")return D.error("Exponential interpolation requires a numeric base.",1,1);ue={name:"exponential",base:He}}else{if(ue[0]!=="cubic-bezier")return D.error("Unknown interpolation type "+String(ue[0]),1,0);var tt=ue.slice(1);if(tt.length!==4||tt.some(function(Mn){return typeof Mn!="number"||Mn<0||Mn>1}))return D.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ue={name:"cubic-bezier",controlPoints:tt}}if(A.length-1<4)return D.error("Expected at least 4 arguments, but found only "+(A.length-1)+".");if((A.length-1)%2!=0)return D.error("Expected an even number of arguments.");if(!(Ee=D.parse(Ee,2,Pt)))return null;var ht=[],Tt=null;Z==="interpolate-hcl"||Z==="interpolate-lab"?Tt=on:D.expectedType&&D.expectedType.kind!=="value"&&(Tt=D.expectedType);for(var St=0;St<Ie.length;St+=2){var Nt=Ie[St],Yt=Ie[St+1],Ut=St+3,sn=St+4;if(typeof Nt!="number")return D.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ut);if(ht.length&&ht[ht.length-1][0]>=Nt)return D.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Ut);var cn=D.parse(Yt,sn,Tt);if(!cn)return null;Tt=Tt||cn.type,ht.push([Nt,cn])}return Tt.kind==="number"||Tt.kind==="color"||Tt.kind==="array"&&Tt.itemType.kind==="number"&&typeof Tt.N=="number"?new ca(Tt,Z,ue,Ee,ht):D.error("Type "+Kt(Tt)+" is not interpolatable.")},ca.prototype.evaluate=function(A){var D=this.labels,Z=this.outputs;if(D.length===1)return Z[0].evaluate(A);var ue=this.input.evaluate(A);if(ue<=D[0])return Z[0].evaluate(A);var Ee=D.length;if(ue>=D[Ee-1])return Z[Ee-1].evaluate(A);var Ie=br(D,ue),He=D[Ie],tt=D[Ie+1],ht=ca.interpolationFactor(this.interpolation,ue,He,tt),Tt=Z[Ie].evaluate(A),St=Z[Ie+1].evaluate(A);return this.operator==="interpolate"?ki[this.type.kind.toLowerCase()](Tt,St,ht):this.operator==="interpolate-hcl"?Es.reverse(Es.interpolate(Es.forward(Tt),Es.forward(St),ht)):as.reverse(as.interpolate(as.forward(Tt),as.forward(St),ht))},ca.prototype.eachChild=function(A){A(this.input);for(var D=0,Z=this.outputs;D<Z.length;D+=1)A(Z[D])},ca.prototype.outputDefined=function(){return this.outputs.every(function(A){return A.outputDefined()})},ca.prototype.serialize=function(){var A;A=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var D=[this.operator,A,this.input.serialize()],Z=0;Z<this.labels.length;Z++)D.push(this.labels[Z],this.outputs[Z].serialize());return D};var Io=function(A,D){this.type=A,this.args=D};Io.parse=function(A,D){if(A.length<2)return D.error("Expectected at least one argument.");var Z=null,ue=D.expectedType;ue&&ue.kind!=="value"&&(Z=ue);for(var Ee=[],Ie=0,He=A.slice(1);Ie<He.length;Ie+=1){var tt=He[Ie],ht=D.parse(tt,1+Ee.length,Z,void 0,{typeAnnotation:"omit"});if(!ht)return null;Z=Z||ht.type,Ee.push(ht)}var Tt=ue&&Ee.some(function(St){return rn(ue,St.type)});return new Io(Tt?Gt:Z,Ee)},Io.prototype.evaluate=function(A){for(var D,Z=null,ue=0,Ee=0,Ie=this.args;Ee<Ie.length&&(ue++,(Z=Ie[Ee].evaluate(A))&&Z instanceof or&&!Z.available&&(D||(D=Z.name),Z=null,ue===this.args.length&&(Z=D)),Z===null);Ee+=1);return Z},Io.prototype.eachChild=function(A){this.args.forEach(A)},Io.prototype.outputDefined=function(){return this.args.every(function(A){return A.outputDefined()})},Io.prototype.serialize=function(){var A=["coalesce"];return this.eachChild(function(D){A.push(D.serialize())}),A};var _o=function(A,D){this.type=D.type,this.bindings=[].concat(A),this.result=D};_o.prototype.evaluate=function(A){return this.result.evaluate(A)},_o.prototype.eachChild=function(A){for(var D=0,Z=this.bindings;D<Z.length;D+=1)A(Z[D][1]);A(this.result)},_o.parse=function(A,D){if(A.length<4)return D.error("Expected at least 3 arguments, but found "+(A.length-1)+" instead.");for(var Z=[],ue=1;ue<A.length-1;ue+=2){var Ee=A[ue];if(typeof Ee!="string")return D.error("Expected string, but found "+typeof Ee+" instead.",ue);if(/[^a-zA-Z0-9_]/.test(Ee))return D.error("Variable names must contain only alphanumeric characters or '_'.",ue);var Ie=D.parse(A[ue+1],ue+1);if(!Ie)return null;Z.push([Ee,Ie])}var He=D.parse(A[A.length-1],A.length-1,D.expectedType,Z);return He?new _o(Z,He):null},_o.prototype.outputDefined=function(){return this.result.outputDefined()},_o.prototype.serialize=function(){for(var A=["let"],D=0,Z=this.bindings;D<Z.length;D+=1){var ue=Z[D],Ee=ue[0],Ie=ue[1];A.push(Ee,Ie.serialize())}return A.push(this.result.serialize()),A};var os=function(A,D,Z){this.type=A,this.index=D,this.input=Z};os.parse=function(A,D){if(A.length!==3)return D.error("Expected 2 arguments, but found "+(A.length-1)+" instead.");var Z=D.parse(A[1],1,Pt),ue=D.parse(A[2],2,dn(D.expectedType||Gt));if(!Z||!ue)return null;var Ee=ue.type;return new os(Ee.itemType,Z,ue)},os.prototype.evaluate=function(A){var D=this.index.evaluate(A),Z=this.input.evaluate(A);if(D<0)throw new an("Array index out of bounds: "+D+" < 0.");if(D>=Z.length)throw new an("Array index out of bounds: "+D+" > "+(Z.length-1)+".");if(D!==Math.floor(D))throw new an("Array index must be an integer, but found "+D+" instead.");return Z[D]},os.prototype.eachChild=function(A){A(this.index),A(this.input)},os.prototype.outputDefined=function(){return!1},os.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Do=function(A,D){this.type=Jt,this.needle=A,this.haystack=D};Do.parse=function(A,D){if(A.length!==3)return D.error("Expected 2 arguments, but found "+(A.length-1)+" instead.");var Z=D.parse(A[1],1,Gt),ue=D.parse(A[2],2,Gt);return Z&&ue?hn(Z.type,[Jt,Bt,Pt,Ot,Gt])?new Do(Z,ue):D.error("Expected first argument to be of type boolean, string, number or null, but found "+Kt(Z.type)+" instead"):null},Do.prototype.evaluate=function(A){var D=this.needle.evaluate(A),Z=this.haystack.evaluate(A);if(!Z)return!1;if(!kn(D,["boolean","string","number","null"]))throw new an("Expected first argument to be of type boolean, string, number or null, but found "+Kt($n(D))+" instead.");if(!kn(Z,["string","array"]))throw new an("Expected second argument to be of type array or string, but found "+Kt($n(Z))+" instead.");return Z.indexOf(D)>=0},Do.prototype.eachChild=function(A){A(this.needle),A(this.haystack)},Do.prototype.outputDefined=function(){return!0},Do.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var ss=function(A,D,Z){this.type=Pt,this.needle=A,this.haystack=D,this.fromIndex=Z};ss.parse=function(A,D){if(A.length<=2||A.length>=5)return D.error("Expected 3 or 4 arguments, but found "+(A.length-1)+" instead.");var Z=D.parse(A[1],1,Gt),ue=D.parse(A[2],2,Gt);if(!Z||!ue)return null;if(!hn(Z.type,[Jt,Bt,Pt,Ot,Gt]))return D.error("Expected first argument to be of type boolean, string, number or null, but found "+Kt(Z.type)+" instead");if(A.length===4){var Ee=D.parse(A[3],3,Pt);return Ee?new ss(Z,ue,Ee):null}return new ss(Z,ue)},ss.prototype.evaluate=function(A){var D=this.needle.evaluate(A),Z=this.haystack.evaluate(A);if(!kn(D,["boolean","string","number","null"]))throw new an("Expected first argument to be of type boolean, string, number or null, but found "+Kt($n(D))+" instead.");if(!kn(Z,["string","array"]))throw new an("Expected second argument to be of type array or string, but found "+Kt($n(Z))+" instead.");if(this.fromIndex){var ue=this.fromIndex.evaluate(A);return Z.indexOf(D,ue)}return Z.indexOf(D)},ss.prototype.eachChild=function(A){A(this.needle),A(this.haystack),this.fromIndex&&A(this.fromIndex)},ss.prototype.outputDefined=function(){return!1},ss.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var A=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),A]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Wo=function(A,D,Z,ue,Ee,Ie){this.inputType=A,this.type=D,this.input=Z,this.cases=ue,this.outputs=Ee,this.otherwise=Ie};Wo.parse=function(A,D){if(A.length<5)return D.error("Expected at least 4 arguments, but found only "+(A.length-1)+".");if(A.length%2!=1)return D.error("Expected an even number of arguments.");var Z,ue;D.expectedType&&D.expectedType.kind!=="value"&&(ue=D.expectedType);for(var Ee={},Ie=[],He=2;He<A.length-1;He+=2){var tt=A[He],ht=A[He+1];Array.isArray(tt)||(tt=[tt]);var Tt=D.concat(He);if(tt.length===0)return Tt.error("Expected at least one branch label.");for(var St=0,Nt=tt;St<Nt.length;St+=1){var Yt=Nt[St];if(typeof Yt!="number"&&typeof Yt!="string")return Tt.error("Branch labels must be numbers or strings.");if(typeof Yt=="number"&&Math.abs(Yt)>Number.MAX_SAFE_INTEGER)return Tt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof Yt=="number"&&Math.floor(Yt)!==Yt)return Tt.error("Numeric branch labels must be integer values.");if(Z){if(Tt.checkSubtype(Z,$n(Yt)))return null}else Z=$n(Yt);if(Ee[String(Yt)]!==void 0)return Tt.error("Branch labels must be unique.");Ee[String(Yt)]=Ie.length}var Ut=D.parse(ht,He,ue);if(!Ut)return null;ue=ue||Ut.type,Ie.push(Ut)}var sn=D.parse(A[1],1,Gt);if(!sn)return null;var cn=D.parse(A[A.length-1],A.length-1,ue);return cn?sn.type.kind!=="value"&&D.concat(1).checkSubtype(Z,sn.type)?null:new Wo(Z,ue,sn,Ee,Ie,cn):null},Wo.prototype.evaluate=function(A){var D=this.input.evaluate(A);return($n(D)===this.inputType&&this.outputs[this.cases[D]]||this.otherwise).evaluate(A)},Wo.prototype.eachChild=function(A){A(this.input),this.outputs.forEach(A),A(this.otherwise)},Wo.prototype.outputDefined=function(){return this.outputs.every(function(A){return A.outputDefined()})&&this.otherwise.outputDefined()},Wo.prototype.serialize=function(){for(var A=this,D=["match",this.input.serialize()],Z=[],ue={},Ee=0,Ie=Object.keys(this.cases).sort();Ee<Ie.length;Ee+=1){var He=Ie[Ee];(Nt=ue[this.cases[He]])===void 0?(ue[this.cases[He]]=Z.length,Z.push([this.cases[He],[He]])):Z[Nt][1].push(He)}for(var tt=function(Ut){return A.inputType.kind==="number"?Number(Ut):Ut},ht=0,Tt=Z;ht<Tt.length;ht+=1){var St=Tt[ht],Nt=St[0],Yt=St[1];Yt.length===1?D.push(tt(Yt[0])):D.push(Yt.map(tt)),D.push(this.outputs[outputIndex$1].serialize())}return D.push(this.otherwise.serialize()),D};var ls=function(A,D,Z){this.type=A,this.branches=D,this.otherwise=Z};ls.parse=function(A,D){if(A.length<4)return D.error("Expected at least 3 arguments, but found only "+(A.length-1)+".");if(A.length%2!=0)return D.error("Expected an odd number of arguments.");var Z;D.expectedType&&D.expectedType.kind!=="value"&&(Z=D.expectedType);for(var ue=[],Ee=1;Ee<A.length-1;Ee+=2){var Ie=D.parse(A[Ee],Ee,Jt);if(!Ie)return null;var He=D.parse(A[Ee+1],Ee+1,Z);if(!He)return null;ue.push([Ie,He]),Z=Z||He.type}var tt=D.parse(A[A.length-1],A.length-1,Z);return tt?new ls(Z,ue,tt):null},ls.prototype.evaluate=function(A){for(var D=0,Z=this.branches;D<Z.length;D+=1){var ue=Z[D],Ee=ue[0],Ie=ue[1];if(Ee.evaluate(A))return Ie.evaluate(A)}return this.otherwise.evaluate(A)},ls.prototype.eachChild=function(A){for(var D=0,Z=this.branches;D<Z.length;D+=1){var ue=Z[D],Ee=ue[0],Ie=ue[1];A(Ee),A(Ie)}A(this.otherwise)},ls.prototype.outputDefined=function(){return this.branches.every(function(A){return A[0],A[1].outputDefined()})&&this.otherwise.outputDefined()},ls.prototype.serialize=function(){var A=["case"];return this.eachChild(function(D){A.push(D.serialize())}),A};var zo=function(A,D,Z,ue){this.type=A,this.input=D,this.beginIndex=Z,this.endIndex=ue};function su(A,D){return A==="=="||A==="!="?D.kind==="boolean"||D.kind==="string"||D.kind==="number"||D.kind==="null"||D.kind==="value":D.kind==="string"||D.kind==="number"||D.kind==="value"}function Hl(A,D,Z,ue){return ue.compare(D,Z)===0}function Ls(A,D,Z){var ue=A!=="=="&&A!=="!=";return function(){function Ee(Ie,He,tt){this.type=Jt,this.lhs=Ie,this.rhs=He,this.collator=tt,this.hasUntypedArgument=Ie.type.kind==="value"||He.type.kind==="value"}return Ee.parse=function(Ie,He){if(Ie.length!==3&&Ie.length!==4)return He.error("Expected two or three arguments.");var tt=Ie[0],ht=He.parse(Ie[1],1,Gt);if(!ht)return null;if(!su(tt,ht.type))return He.concat(1).error('"'+tt+`" comparisons are not supported for type '`+Kt(ht.type)+"'.");var Tt=He.parse(Ie[2],2,Gt);if(!Tt)return null;if(!su(tt,Tt.type))return He.concat(2).error('"'+tt+`" comparisons are not supported for type '`+Kt(Tt.type)+"'.");if(ht.type.kind!==Tt.type.kind&&ht.type.kind!=="value"&&Tt.type.kind!=="value")return He.error("Cannot compare types '"+Kt(ht.type)+"' and '"+Kt(Tt.type)+"'.");ue&&(ht.type.kind==="value"&&Tt.type.kind!=="value"?ht=new vn(Tt.type,[ht]):ht.type.kind!=="value"&&Tt.type.kind==="value"&&(Tt=new vn(ht.type,[Tt])));var St=null;if(Ie.length===4){if(ht.type.kind!=="string"&&Tt.type.kind!=="string"&&ht.type.kind!=="value"&&Tt.type.kind!=="value")return He.error("Cannot use collator to compare non-string types.");if(!(St=He.parse(Ie[3],3,nn)))return null}return new Ee(ht,Tt,St)},Ee.prototype.evaluate=function(Ie){var He=this.lhs.evaluate(Ie),tt=this.rhs.evaluate(Ie);if(ue&&this.hasUntypedArgument){var ht=$n(He),Tt=$n(tt);if(ht.kind!==Tt.kind||ht.kind!=="string"&&ht.kind!=="number")throw new an('Expected arguments for "'+A+'" to be (string, string) or (number, number), but found ('+ht.kind+", "+Tt.kind+") instead.")}if(this.collator&&!ue&&this.hasUntypedArgument){var St=$n(He),Nt=$n(tt);if(St.kind!=="string"||Nt.kind!=="string")return D(Ie,He,tt)}return this.collator?Z(Ie,He,tt,this.collator.evaluate(Ie)):D(Ie,He,tt)},Ee.prototype.eachChild=function(Ie){Ie(this.lhs),Ie(this.rhs),this.collator&&Ie(this.collator)},Ee.prototype.outputDefined=function(){return!0},Ee.prototype.serialize=function(){var Ie=[A];return this.eachChild(function(He){Ie.push(He.serialize())}),Ie},Ee}()}zo.parse=function(A,D){if(A.length<=2||A.length>=5)return D.error("Expected 3 or 4 arguments, but found "+(A.length-1)+" instead.");var Z=D.parse(A[1],1,Gt),ue=D.parse(A[2],2,Pt);if(!Z||!ue)return null;if(!hn(Z.type,[dn(Gt),Bt,Gt]))return D.error("Expected first argument to be of type array or string, but found "+Kt(Z.type)+" instead");if(A.length===4){var Ee=D.parse(A[3],3,Pt);return Ee?new zo(Z.type,Z,ue,Ee):null}return new zo(Z.type,Z,ue)},zo.prototype.evaluate=function(A){var D=this.input.evaluate(A),Z=this.beginIndex.evaluate(A);if(!kn(D,["string","array"]))throw new an("Expected first argument to be of type array or string, but found "+Kt($n(D))+" instead.");if(this.endIndex){var ue=this.endIndex.evaluate(A);return D.slice(Z,ue)}return D.slice(Z)},zo.prototype.eachChild=function(A){A(this.input),A(this.beginIndex),this.endIndex&&A(this.endIndex)},zo.prototype.outputDefined=function(){return!1},zo.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var A=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),A]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Eu=Ls("==",function(A,D,Z){return D===Z},Hl),Lu=Ls("!=",function(A,D,Z){return D!==Z},function(A,D,Z,ue){return!Hl(0,D,Z,ue)}),Cs=Ls("<",function(A,D,Z){return D<Z},function(A,D,Z,ue){return ue.compare(D,Z)<0}),Cu=Ls(">",function(A,D,Z){return D>Z},function(A,D,Z,ue){return ue.compare(D,Z)>0}),Gu=Ls("<=",function(A,D,Z){return D<=Z},function(A,D,Z,ue){return ue.compare(D,Z)<=0}),Yu=Ls(">=",function(A,D,Z){return D>=Z},function(A,D,Z,ue){return ue.compare(D,Z)>=0}),Os=function(A,D,Z,ue,Ee){this.type=Bt,this.number=A,this.locale=D,this.currency=Z,this.minFractionDigits=ue,this.maxFractionDigits=Ee};Os.parse=function(A,D){if(A.length!==3)return D.error("Expected two arguments.");var Z=D.parse(A[1],1,Pt);if(!Z)return null;var ue=A[2];if(typeof ue!="object"||Array.isArray(ue))return D.error("NumberFormat options argument must be an object.");var Ee=null;if(ue.locale&&!(Ee=D.parse(ue.locale,1,Bt)))return null;var Ie=null;if(ue.currency&&!(Ie=D.parse(ue.currency,1,Bt)))return null;var He=null;if(ue["min-fraction-digits"]&&!(He=D.parse(ue["min-fraction-digits"],1,Pt)))return null;var tt=null;return ue["max-fraction-digits"]&&!(tt=D.parse(ue["max-fraction-digits"],1,Pt))?null:new Os(Z,Ee,Ie,He,tt)},Os.prototype.evaluate=function(A){return new Intl.NumberFormat(this.locale?this.locale.evaluate(A):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(A):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(A):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(A):void 0}).format(this.number.evaluate(A))},Os.prototype.eachChild=function(A){A(this.number),this.locale&&A(this.locale),this.currency&&A(this.currency),this.minFractionDigits&&A(this.minFractionDigits),this.maxFractionDigits&&A(this.maxFractionDigits)},Os.prototype.outputDefined=function(){return!1},Os.prototype.serialize=function(){var A={};return this.locale&&(A.locale=this.locale.serialize()),this.currency&&(A.currency=this.currency.serialize()),this.minFractionDigits&&(A["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(A["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),A]};var Ro=function(A){this.type=Pt,this.input=A};Ro.parse=function(A,D){if(A.length!==2)return D.error("Expected 1 argument, but found "+(A.length-1)+" instead.");var Z=D.parse(A[1],1);return Z?Z.type.kind!=="array"&&Z.type.kind!=="string"&&Z.type.kind!=="value"?D.error("Expected argument of type string or array, but found "+Kt(Z.type)+" instead."):new Ro(Z):null},Ro.prototype.evaluate=function(A){var D=this.input.evaluate(A);if(typeof D=="string"||Array.isArray(D))return D.length;throw new an("Expected value to be of type string or array, but found "+Kt($n(D))+" instead.")},Ro.prototype.eachChild=function(A){A(this.input)},Ro.prototype.outputDefined=function(){return!1},Ro.prototype.serialize=function(){var A=["length"];return this.eachChild(function(D){A.push(D.serialize())}),A};var Ws={"==":Eu,"!=":Lu,">":Cu,"<":Cs,">=":Yu,"<=":Gu,array:vn,at:os,boolean:vn,case:ls,coalesce:Io,collator:It,format:En,image:Yn,in:Do,"index-of":ss,interpolate:ca,"interpolate-hcl":ca,"interpolate-lab":ca,length:Ro,let:_o,literal:Ht,match:Wo,number:vn,"number-format":Os,object:vn,slice:zo,step:Pr,string:vn,"to-boolean":jn,"to-color":jn,"to-number":jn,"to-string":jn,var:fr,within:tr};function Ps(A,D){var Z=D[0],ue=D[1],Ee=D[2],Ie=D[3];Z=Z.evaluate(A),ue=ue.evaluate(A),Ee=Ee.evaluate(A);var He=Ie?Ie.evaluate(A):1,tt=lr(Z,ue,Ee,He);if(tt)throw new an(tt);return new zn(Z/255*He,ue/255*He,Ee/255*He,He)}function ml(A,D){return A in D}function Is(A,D){var Z=D[A];return Z===void 0?null:Z}function wo(A){return{type:A}}function lu(A){return{result:"success",value:A}}function us(A){return{result:"error",value:A}}function Zo(A){return A["property-type"]==="data-driven"||A["property-type"]==="cross-faded-data-driven"}function Xo(A){return!!A.expression&&A.expression.parameters.indexOf("zoom")>-1}function cs(A){return!!A.expression&&A.expression.interpolated}function ri(A){return A instanceof Number?"number":A instanceof String?"string":A instanceof Boolean?"boolean":Array.isArray(A)?"array":A===null?"null":typeof A}function Zs(A){return typeof A=="object"&&A!==null&&!Array.isArray(A)}function Wu(A){return A}function ql(A,D){var Z,ue,Ee,Ie=D.type==="color",He=A.stops&&typeof A.stops[0][0]=="object",tt=He||A.property!==void 0,ht=He||!tt,Tt=A.type||(cs(D)?"exponential":"interval");if(Ie&&((A=xt({},A)).stops&&(A.stops=A.stops.map(function(xr){return[xr[0],zn.parse(xr[1])]})),A.default?A.default=zn.parse(A.default):A.default=zn.parse(D.default)),A.colorSpace&&A.colorSpace!=="rgb"&&!Di[A.colorSpace])throw new Error("Unknown color space: "+A.colorSpace);if(Tt==="exponential")Z=Gl;else if(Tt==="interval")Z=Zu;else if(Tt==="categorical"){Z=Ou,ue=Object.create(null);for(var St=0,Nt=A.stops;St<Nt.length;St+=1){var Yt=Nt[St];ue[Yt[0]]=Yt[1]}Ee=typeof A.stops[0][0]}else{if(Tt!=="identity")throw new Error('Unknown function type "'+Tt+'"');Z=Xu}if(He){for(var Ut={},sn=[],cn=0;cn<A.stops.length;cn++){var Mn=A.stops[cn],wn=Mn[0].zoom;Ut[wn]===void 0&&(Ut[wn]={zoom:wn,type:A.type,property:A.property,default:A.default,stops:[]},sn.push(wn)),Ut[wn].stops.push([Mn[0].value,Mn[1]])}for(var Bn=[],Un=0,Xn=sn;Un<Xn.length;Un+=1){var Kn=Xn[Un];Bn.push([Ut[Kn].zoom,ql(Ut[Kn],D)])}var ur={name:"linear"};return{kind:"composite",interpolationType:ur,interpolationFactor:ca.interpolationFactor.bind(void 0,ur),zoomStops:Bn.map(function(xr){return xr[0]}),evaluate:function(xr,Sr){var Or=xr.zoom;return Gl({stops:Bn,base:A.base},D,Or).evaluate(Or,Sr)}}}if(ht){var wr=Tt==="exponential"?{name:"exponential",base:A.base!==void 0?A.base:1}:null;return{kind:"camera",interpolationType:wr,interpolationFactor:ca.interpolationFactor.bind(void 0,wr),zoomStops:A.stops.map(function(xr){return xr[0]}),evaluate:function(xr){var Sr=xr.zoom;return Z(A,D,Sr,ue,Ee)}}}return{kind:"source",evaluate:function(xr,Sr){var Or=Sr&&Sr.properties?Sr.properties[A.property]:void 0;return Or===void 0?Xs(A.default,D.default):Z(A,D,Or,ue,Ee)}}}function Xs(A,D,Z){return A!==void 0?A:D!==void 0?D:Z!==void 0?Z:void 0}function Ou(A,D,Z,ue,Ee){return Xs(typeof Z===Ee?ue[Z]:void 0,A.default,D.default)}function Zu(A,D,Z){if(ri(Z)!=="number")return Xs(A.default,D.default);var ue=A.stops.length;if(ue===1||Z<=A.stops[0][0])return A.stops[0][1];if(Z>=A.stops[ue-1][0])return A.stops[ue-1][1];var Ee=br(A.stops.map(function(Ie){return Ie[0]}),Z);return A.stops[Ee][1]}function Gl(A,D,Z){var ue=A.base!==void 0?A.base:1;if(ri(Z)!=="number")return Xs(A.default,D.default);var Ee=A.stops.length;if(Ee===1||Z<=A.stops[0][0])return A.stops[0][1];if(Z>=A.stops[Ee-1][0])return A.stops[Ee-1][1];var Ie=br(A.stops.map(function(Nt){return Nt[0]}),Z),He=function(Nt,Yt,Ut,sn){var cn=sn-Ut,Mn=Nt-Ut;return cn===0?0:Yt===1?Mn/cn:(Math.pow(Yt,Mn)-1)/(Math.pow(Yt,cn)-1)}(Z,ue,A.stops[Ie][0],A.stops[Ie+1][0]),tt=A.stops[Ie][1],ht=A.stops[Ie+1][1],Tt=ki[D.type]||Wu;if(A.colorSpace&&A.colorSpace!=="rgb"){var St=Di[A.colorSpace];Tt=function(Nt,Yt){return St.reverse(St.interpolate(St.forward(Nt),St.forward(Yt),He))}}return typeof tt.evaluate=="function"?{evaluate:function(){for(var Nt=[],Yt=arguments.length;Yt--;)Nt[Yt]=arguments[Yt];var Ut=tt.evaluate.apply(void 0,Nt),sn=ht.evaluate.apply(void 0,Nt);if(Ut!==void 0&&sn!==void 0)return Tt(Ut,sn,He)}}:Tt(tt,ht,He)}function Xu(A,D,Z){return D.type==="color"?Z=zn.parse(Z):D.type==="formatted"?Z=Nn.fromString(Z.toString()):D.type==="resolvedImage"?Z=or.fromString(Z.toString()):ri(Z)===D.type||D.type==="enum"&&D.values[Z]||(Z=void 0),Xs(Z,A.default,D.default)}mn.register(Ws,{error:[{kind:"error"},[Bt],function(A,D){var Z=D[0];throw new an(Z.evaluate(A))}],typeof:[Bt,[Gt],function(A,D){return Kt($n(D[0].evaluate(A)))}],"to-rgba":[dn(Pt,4),[on],function(A,D){return D[0].evaluate(A).toArray()}],rgb:[on,[Pt,Pt,Pt],Ps],rgba:[on,[Pt,Pt,Pt,Pt],Ps],has:{type:Jt,overloads:[[[Bt],function(A,D){return ml(D[0].evaluate(A),A.properties())}],[[Bt,qt],function(A,D){var Z=D[0],ue=D[1];return ml(Z.evaluate(A),ue.evaluate(A))}]]},get:{type:Gt,overloads:[[[Bt],function(A,D){return Is(D[0].evaluate(A),A.properties())}],[[Bt,qt],function(A,D){var Z=D[0],ue=D[1];return Is(Z.evaluate(A),ue.evaluate(A))}]]},"feature-state":[Gt,[Bt],function(A,D){return Is(D[0].evaluate(A),A.featureState||{})}],properties:[qt,[],function(A){return A.properties()}],"geometry-type":[Bt,[],function(A){return A.geometryType()}],id:[Gt,[],function(A){return A.id()}],zoom:[Pt,[],function(A){return A.globals.zoom}],"heatmap-density":[Pt,[],function(A){return A.globals.heatmapDensity||0}],"line-progress":[Pt,[],function(A){return A.globals.lineProgress||0}],accumulated:[Gt,[],function(A){return A.globals.accumulated===void 0?null:A.globals.accumulated}],"+":[Pt,wo(Pt),function(A,D){for(var Z=0,ue=0,Ee=D;ue<Ee.length;ue+=1)Z+=Ee[ue].evaluate(A);return Z}],"*":[Pt,wo(Pt),function(A,D){for(var Z=1,ue=0,Ee=D;ue<Ee.length;ue+=1)Z*=Ee[ue].evaluate(A);return Z}],"-":{type:Pt,overloads:[[[Pt,Pt],function(A,D){var Z=D[0],ue=D[1];return Z.evaluate(A)-ue.evaluate(A)}],[[Pt],function(A,D){return-D[0].evaluate(A)}]]},"/":[Pt,[Pt,Pt],function(A,D){var Z=D[0],ue=D[1];return Z.evaluate(A)/ue.evaluate(A)}],"%":[Pt,[Pt,Pt],function(A,D){var Z=D[0],ue=D[1];return Z.evaluate(A)%ue.evaluate(A)}],ln2:[Pt,[],function(){return Math.LN2}],pi:[Pt,[],function(){return Math.PI}],e:[Pt,[],function(){return Math.E}],"^":[Pt,[Pt,Pt],function(A,D){var Z=D[0],ue=D[1];return Math.pow(Z.evaluate(A),ue.evaluate(A))}],sqrt:[Pt,[Pt],function(A,D){var Z=D[0];return Math.sqrt(Z.evaluate(A))}],log10:[Pt,[Pt],function(A,D){var Z=D[0];return Math.log(Z.evaluate(A))/Math.LN10}],ln:[Pt,[Pt],function(A,D){var Z=D[0];return Math.log(Z.evaluate(A))}],log2:[Pt,[Pt],function(A,D){var Z=D[0];return Math.log(Z.evaluate(A))/Math.LN2}],sin:[Pt,[Pt],function(A,D){var Z=D[0];return Math.sin(Z.evaluate(A))}],cos:[Pt,[Pt],function(A,D){var Z=D[0];return Math.cos(Z.evaluate(A))}],tan:[Pt,[Pt],function(A,D){var Z=D[0];return Math.tan(Z.evaluate(A))}],asin:[Pt,[Pt],function(A,D){var Z=D[0];return Math.asin(Z.evaluate(A))}],acos:[Pt,[Pt],function(A,D){var Z=D[0];return Math.acos(Z.evaluate(A))}],atan:[Pt,[Pt],function(A,D){var Z=D[0];return Math.atan(Z.evaluate(A))}],min:[Pt,wo(Pt),function(A,D){return Math.min.apply(Math,D.map(function(Z){return Z.evaluate(A)}))}],max:[Pt,wo(Pt),function(A,D){return Math.max.apply(Math,D.map(function(Z){return Z.evaluate(A)}))}],abs:[Pt,[Pt],function(A,D){var Z=D[0];return Math.abs(Z.evaluate(A))}],round:[Pt,[Pt],function(A,D){var Z=D[0].evaluate(A);return Z<0?-Math.round(-Z):Math.round(Z)}],floor:[Pt,[Pt],function(A,D){var Z=D[0];return Math.floor(Z.evaluate(A))}],ceil:[Pt,[Pt],function(A,D){var Z=D[0];return Math.ceil(Z.evaluate(A))}],"filter-==":[Jt,[Bt,Gt],function(A,D){var Z=D[0],ue=D[1];return A.properties()[Z.value]===ue.value}],"filter-id-==":[Jt,[Gt],function(A,D){var Z=D[0];return A.id()===Z.value}],"filter-type-==":[Jt,[Bt],function(A,D){var Z=D[0];return A.geometryType()===Z.value}],"filter-<":[Jt,[Bt,Gt],function(A,D){var Z=D[0],ue=D[1],Ee=A.properties()[Z.value],Ie=ue.value;return typeof Ee==typeof Ie&&Ee<Ie}],"filter-id-<":[Jt,[Gt],function(A,D){var Z=D[0],ue=A.id(),Ee=Z.value;return typeof ue==typeof Ee&&ue<Ee}],"filter->":[Jt,[Bt,Gt],function(A,D){var Z=D[0],ue=D[1],Ee=A.properties()[Z.value],Ie=ue.value;return typeof Ee==typeof Ie&&Ee>Ie}],"filter-id->":[Jt,[Gt],function(A,D){var Z=D[0],ue=A.id(),Ee=Z.value;return typeof ue==typeof Ee&&ue>Ee}],"filter-<=":[Jt,[Bt,Gt],function(A,D){var Z=D[0],ue=D[1],Ee=A.properties()[Z.value],Ie=ue.value;return typeof Ee==typeof Ie&&Ee<=Ie}],"filter-id-<=":[Jt,[Gt],function(A,D){var Z=D[0],ue=A.id(),Ee=Z.value;return typeof ue==typeof Ee&&ue<=Ee}],"filter->=":[Jt,[Bt,Gt],function(A,D){var Z=D[0],ue=D[1],Ee=A.properties()[Z.value],Ie=ue.value;return typeof Ee==typeof Ie&&Ee>=Ie}],"filter-id->=":[Jt,[Gt],function(A,D){var Z=D[0],ue=A.id(),Ee=Z.value;return typeof ue==typeof Ee&&ue>=Ee}],"filter-has":[Jt,[Gt],function(A,D){return D[0].value in A.properties()}],"filter-has-id":[Jt,[],function(A){return A.id()!==null&&A.id()!==void 0}],"filter-type-in":[Jt,[dn(Bt)],function(A,D){return D[0].value.indexOf(A.geometryType())>=0}],"filter-id-in":[Jt,[dn(Gt)],function(A,D){return D[0].value.indexOf(A.id())>=0}],"filter-in-small":[Jt,[Bt,dn(Gt)],function(A,D){var Z=D[0];return D[1].value.indexOf(A.properties()[Z.value])>=0}],"filter-in-large":[Jt,[Bt,dn(Gt)],function(A,D){var Z=D[0],ue=D[1];return function(Ee,Ie,He,tt){for(;He<=tt;){var ht=He+tt>>1;if(Ie[ht]===Ee)return!0;Ie[ht]>Ee?tt=ht-1:He=ht+1}return!1}(A.properties()[Z.value],ue.value,0,ue.value.length-1)}],all:{type:Jt,overloads:[[[Jt,Jt],function(A,D){var Z=D[0],ue=D[1];return Z.evaluate(A)&&ue.evaluate(A)}],[wo(Jt),function(A,D){for(var Z=0,ue=D;Z<ue.length;Z+=1)if(!ue[Z].evaluate(A))return!1;return!0}]]},any:{type:Jt,overloads:[[[Jt,Jt],function(A,D){var Z=D[0],ue=D[1];return Z.evaluate(A)||ue.evaluate(A)}],[wo(Jt),function(A,D){for(var Z=0,ue=D;Z<ue.length;Z+=1)if(ue[Z].evaluate(A))return!0;return!1}]]},"!":[Jt,[Jt],function(A,D){return!D[0].evaluate(A)}],"is-supported-script":[Jt,[Bt],function(A,D){var Z=D[0],ue=A.globals&&A.globals.isSupportedScript;return!ue||ue(Z.evaluate(A))}],upcase:[Bt,[Bt],function(A,D){return D[0].evaluate(A).toUpperCase()}],downcase:[Bt,[Bt],function(A,D){return D[0].evaluate(A).toLowerCase()}],concat:[Bt,wo(Gt),function(A,D){return D.map(function(Z){return Ar(Z.evaluate(A))}).join("")}],"resolved-locale":[Bt,[nn],function(A,D){return D[0].evaluate(A).resolvedLocale()}]});var fs=function(A,D){this.expression=A,this._warningHistory={},this._evaluator=new Zt,this._defaultValue=D?function(Z){return Z.type==="color"&&Zs(Z.default)?new zn(0,0,0,0):Z.type==="color"?zn.parse(Z.default)||null:Z.default===void 0?null:Z.default}(D):null,this._enumValues=D&&D.type==="enum"?D.values:null};function Ds(A){return Array.isArray(A)&&A.length>0&&typeof A[0]=="string"&&A[0]in Ws}function Jo(A,D){var Z=new gr(Ws,[],D?function(Ee){var Ie={color:on,string:Bt,number:Pt,enum:Bt,boolean:Jt,formatted:Cn,resolvedImage:An};return Ee.type==="array"?dn(Ie[Ee.value]||Gt,Ee.length):Ie[Ee.type]}(D):void 0),ue=Z.parse(A,void 0,void 0,void 0,D&&D.type==="string"?{typeAnnotation:"coerce"}:void 0);return ue?lu(new fs(ue,D)):us(Z.errors)}fs.prototype.evaluateWithoutErrorHandling=function(A,D,Z,ue,Ee,Ie){return this._evaluator.globals=A,this._evaluator.feature=D,this._evaluator.featureState=Z,this._evaluator.canonical=ue,this._evaluator.availableImages=Ee||null,this._evaluator.formattedSection=Ie,this.expression.evaluate(this._evaluator)},fs.prototype.evaluate=function(A,D,Z,ue,Ee,Ie){this._evaluator.globals=A,this._evaluator.feature=D||null,this._evaluator.featureState=Z||null,this._evaluator.canonical=ue,this._evaluator.availableImages=Ee||null,this._evaluator.formattedSection=Ie||null;try{var He=this.expression.evaluate(this._evaluator);if(He==null||typeof He=="number"&&He!=He)return this._defaultValue;if(this._enumValues&&!(He in this._enumValues))throw new an("Expected value to be one of "+Object.keys(this._enumValues).map(function(tt){return JSON.stringify(tt)}).join(", ")+", but found "+JSON.stringify(He)+" instead.");return He}catch(tt){return this._warningHistory[tt.message]||(this._warningHistory[tt.message]=!0,typeof console<"u"&&console.warn(tt.message)),this._defaultValue}};var To=function(A,D){this.kind=A,this._styleExpression=D,this.isStateDependent=A!=="constant"&&!Qn(D.expression)};To.prototype.evaluateWithoutErrorHandling=function(A,D,Z,ue,Ee,Ie){return this._styleExpression.evaluateWithoutErrorHandling(A,D,Z,ue,Ee,Ie)},To.prototype.evaluate=function(A,D,Z,ue,Ee,Ie){return this._styleExpression.evaluate(A,D,Z,ue,Ee,Ie)};var Js=function(A,D,Z,ue){this.kind=A,this.zoomStops=Z,this._styleExpression=D,this.isStateDependent=A!=="camera"&&!Qn(D.expression),this.interpolationType=ue};function Pu(A,D){if((A=Jo(A,D)).result==="error")return A;var Z=A.value.expression,ue=nr(Z);if(!ue&&!Zo(D))return us([new kt("","data expressions not supported")]);var Ee=yr(Z,["zoom"]);if(!Ee&&!Xo(D))return us([new kt("","zoom expressions not supported")]);var Ie=Yl(Z);if(!Ie&&!Ee)return us([new kt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Ie instanceof kt)return us([Ie]);if(Ie instanceof ca&&!cs(D))return us([new kt("",'"interpolate" expressions cannot be used with this property')]);if(!Ie)return lu(new To(ue?"constant":"source",A.value));var He=Ie instanceof ca?Ie.interpolation:void 0;return lu(new Js(ue?"camera":"composite",A.value,Ie.labels,He))}Js.prototype.evaluateWithoutErrorHandling=function(A,D,Z,ue,Ee,Ie){return this._styleExpression.evaluateWithoutErrorHandling(A,D,Z,ue,Ee,Ie)},Js.prototype.evaluate=function(A,D,Z,ue,Ee,Ie){return this._styleExpression.evaluate(A,D,Z,ue,Ee,Ie)},Js.prototype.interpolationFactor=function(A,D,Z){return this.interpolationType?ca.interpolationFactor(this.interpolationType,A,D,Z):0};var yl=function(A,D){this._parameters=A,this._specification=D,xt(this,ql(this._parameters,this._specification))};function Yl(A){var D=null;if(A instanceof _o)D=Yl(A.result);else if(A instanceof Io)for(var Z=0,ue=A.args;Z<ue.length;Z+=1){var Ee=ue[Z];if(D=Yl(Ee))break}else(A instanceof Pr||A instanceof ca)&&A.input instanceof mn&&A.input.name==="zoom"&&(D=A);return D instanceof kt||A.eachChild(function(Ie){var He=Yl(Ie);He instanceof kt?D=He:!D&&He?D=new kt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):D&&He&&D!==He&&(D=new kt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),D}function ro(A){var D=A.key,Z=A.value,ue=A.valueSpec||{},Ee=A.objectElementValidators||{},Ie=A.style,He=A.styleSpec,tt=[],ht=ri(Z);if(ht!=="object")return[new gt(D,Z,"object expected, "+ht+" found")];for(var Tt in Z){var St=Tt.split(".")[0],Nt=ue[St]||ue["*"],Yt=void 0;if(Ee[St])Yt=Ee[St];else if(ue[St])Yt=fo;else if(Ee["*"])Yt=Ee["*"];else{if(!ue["*"]){tt.push(new gt(D,Z[Tt],'unknown property "'+Tt+'"'));continue}Yt=fo}tt=tt.concat(Yt({key:(D&&D+".")+Tt,value:Z[Tt],valueSpec:Nt,style:Ie,styleSpec:He,object:Z,objectKey:Tt},Z))}for(var Ut in ue)Ee[Ut]||ue[Ut].required&&ue[Ut].default===void 0&&Z[Ut]===void 0&&tt.push(new gt(D,Z,'missing required property "'+Ut+'"'));return tt}function Wl(A){var D=A.value,Z=A.valueSpec,ue=A.style,Ee=A.styleSpec,Ie=A.key,He=A.arrayElementValidator||fo;if(ri(D)!=="array")return[new gt(Ie,D,"array expected, "+ri(D)+" found")];if(Z.length&&D.length!==Z.length)return[new gt(Ie,D,"array length "+Z.length+" expected, length "+D.length+" found")];if(Z["min-length"]&&D.length<Z["min-length"])return[new gt(Ie,D,"array length at least "+Z["min-length"]+" expected, length "+D.length+" found")];var tt={type:Z.value,values:Z.values};Ee.$version<7&&(tt.function=Z.function),ri(Z.value)==="object"&&(tt=Z.value);for(var ht=[],Tt=0;Tt<D.length;Tt++)ht=ht.concat(He({array:D,arrayIndex:Tt,value:D[Tt],valueSpec:tt,style:ue,styleSpec:Ee,key:Ie+"["+Tt+"]"}));return ht}function Iu(A){var D=A.key,Z=A.value,ue=A.valueSpec,Ee=ri(Z);return Ee==="number"&&Z!=Z&&(Ee="NaN"),Ee!=="number"?[new gt(D,Z,"number expected, "+Ee+" found")]:"minimum"in ue&&Z<ue.minimum?[new gt(D,Z,Z+" is less than the minimum value "+ue.minimum)]:"maximum"in ue&&Z>ue.maximum?[new gt(D,Z,Z+" is greater than the maximum value "+ue.maximum)]:[]}function Ks(A){var D,Z,ue,Ee=A.valueSpec,Ie=dt(A.value.type),He={},tt=Ie!=="categorical"&&A.value.property===void 0,ht=!tt,Tt=ri(A.value.stops)==="array"&&ri(A.value.stops[0])==="array"&&ri(A.value.stops[0][0])==="object",St=ro({key:A.key,value:A.value,valueSpec:A.styleSpec.function,style:A.style,styleSpec:A.styleSpec,objectElementValidators:{stops:function(Ut){if(Ie==="identity")return[new gt(Ut.key,Ut.value,'identity function may not have a "stops" property')];var sn=[],cn=Ut.value;return sn=sn.concat(Wl({key:Ut.key,value:cn,valueSpec:Ut.valueSpec,style:Ut.style,styleSpec:Ut.styleSpec,arrayElementValidator:Nt})),ri(cn)==="array"&&cn.length===0&&sn.push(new gt(Ut.key,cn,"array must have at least one stop")),sn},default:function(Ut){return fo({key:Ut.key,value:Ut.value,valueSpec:Ee,style:Ut.style,styleSpec:Ut.styleSpec})}}});return Ie==="identity"&&tt&&St.push(new gt(A.key,A.value,'missing required property "property"')),Ie==="identity"||A.value.stops||St.push(new gt(A.key,A.value,'missing required property "stops"')),Ie==="exponential"&&A.valueSpec.expression&&!cs(A.valueSpec)&&St.push(new gt(A.key,A.value,"exponential functions not supported")),A.styleSpec.$version>=8&&(ht&&!Zo(A.valueSpec)?St.push(new gt(A.key,A.value,"property functions not supported")):tt&&!Xo(A.valueSpec)&&St.push(new gt(A.key,A.value,"zoom functions not supported"))),Ie!=="categorical"&&!Tt||A.value.property!==void 0||St.push(new gt(A.key,A.value,'"property" property is required')),St;function Nt(Ut){var sn=[],cn=Ut.value,Mn=Ut.key;if(ri(cn)!=="array")return[new gt(Mn,cn,"array expected, "+ri(cn)+" found")];if(cn.length!==2)return[new gt(Mn,cn,"array length 2 expected, length "+cn.length+" found")];if(Tt){if(ri(cn[0])!=="object")return[new gt(Mn,cn,"object expected, "+ri(cn[0])+" found")];if(cn[0].zoom===void 0)return[new gt(Mn,cn,"object stop key must have zoom")];if(cn[0].value===void 0)return[new gt(Mn,cn,"object stop key must have value")];if(ue&&ue>dt(cn[0].zoom))return[new gt(Mn,cn[0].zoom,"stop zoom values must appear in ascending order")];dt(cn[0].zoom)!==ue&&(ue=dt(cn[0].zoom),Z=void 0,He={}),sn=sn.concat(ro({key:Mn+"[0]",value:cn[0],valueSpec:{zoom:{}},style:Ut.style,styleSpec:Ut.styleSpec,objectElementValidators:{zoom:Iu,value:Yt}}))}else sn=sn.concat(Yt({key:Mn+"[0]",value:cn[0],valueSpec:{},style:Ut.style,styleSpec:Ut.styleSpec},cn));return Ds(Lt(cn[1]))?sn.concat([new gt(Mn+"[1]",cn[1],"expressions are not allowed in function stops.")]):sn.concat(fo({key:Mn+"[1]",value:cn[1],valueSpec:Ee,style:Ut.style,styleSpec:Ut.styleSpec}))}function Yt(Ut,sn){var cn=ri(Ut.value),Mn=dt(Ut.value),wn=Ut.value!==null?Ut.value:sn;if(D){if(cn!==D)return[new gt(Ut.key,wn,cn+" stop domain type must match previous stop domain type "+D)]}else D=cn;if(cn!=="number"&&cn!=="string"&&cn!=="boolean")return[new gt(Ut.key,wn,"stop domain value must be a number, string, or boolean")];if(cn!=="number"&&Ie!=="categorical"){var Bn="number expected, "+cn+" found";return Zo(Ee)&&Ie===void 0&&(Bn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new gt(Ut.key,wn,Bn)]}return Ie!=="categorical"||cn!=="number"||isFinite(Mn)&&Math.floor(Mn)===Mn?Ie!=="categorical"&&cn==="number"&&Z!==void 0&&Mn<Z?[new gt(Ut.key,wn,"stop domain values must appear in ascending order")]:(Z=Mn,Ie==="categorical"&&Mn in He?[new gt(Ut.key,wn,"stop domain values must be unique")]:(He[Mn]=!0,[])):[new gt(Ut.key,wn,"integer expected, found "+Mn)]}}function zs(A){var D=(A.expressionContext==="property"?Pu:Jo)(Lt(A.value),A.valueSpec);if(D.result==="error")return D.value.map(function(ue){return new gt(""+A.key+ue.key,A.value,ue.message)});var Z=D.value.expression||D.value._styleExpression.expression;if(A.expressionContext==="property"&&A.propertyKey==="text-font"&&!Z.outputDefined())return[new gt(A.key,A.value,'Invalid data expression for "'+A.propertyKey+'". Output values must be contained as literals within the expression.')];if(A.expressionContext==="property"&&A.propertyType==="layout"&&!Qn(Z))return[new gt(A.key,A.value,'"feature-state" data expressions are not supported with layout properties.')];if(A.expressionContext==="filter"&&!Qn(Z))return[new gt(A.key,A.value,'"feature-state" data expressions are not supported with filters.')];if(A.expressionContext&&A.expressionContext.indexOf("cluster")===0){if(!yr(Z,["zoom","feature-state"]))return[new gt(A.key,A.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(A.expressionContext==="cluster-initial"&&!nr(Z))return[new gt(A.key,A.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Qs(A){var D=A.key,Z=A.value,ue=A.valueSpec,Ee=[];return Array.isArray(ue.values)?ue.values.indexOf(dt(Z))===-1&&Ee.push(new gt(D,Z,"expected one of ["+ue.values.join(", ")+"], "+JSON.stringify(Z)+" found")):Object.keys(ue.values).indexOf(dt(Z))===-1&&Ee.push(new gt(D,Z,"expected one of ["+Object.keys(ue.values).join(", ")+"], "+JSON.stringify(Z)+" found")),Ee}function Rs(A){if(A===!0||A===!1)return!0;if(!Array.isArray(A)||A.length===0)return!1;switch(A[0]){case"has":return A.length>=2&&A[1]!=="$id"&&A[1]!=="$type";case"in":return A.length>=3&&(typeof A[1]!="string"||Array.isArray(A[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return A.length!==3||Array.isArray(A[1])||Array.isArray(A[2]);case"any":case"all":for(var D=0,Z=A.slice(1);D<Z.length;D+=1){var ue=Z[D];if(!Rs(ue)&&typeof ue!="boolean")return!1}return!0;default:return!0}}yl.deserialize=function(A){return new yl(A._parameters,A._specification)},yl.serialize=function(A){return{_parameters:A._parameters,_specification:A._specification}};var Fs={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function xl(A){if(A==null)return{filter:function(){return!0},needGeometry:!1};Rs(A)||(A=hs(A));var D=Jo(A,Fs);if(D.result==="error")throw new Error(D.value.map(function(Z){return Z.key+": "+Z.message}).join(", "));return{filter:function(Z,ue,Ee){return D.value.evaluate(Z,ue,{},Ee)},needGeometry:vi(A)}}function Zl(A,D){return A<D?-1:A>D?1:0}function vi(A){if(!Array.isArray(A))return!1;if(A[0]==="within")return!0;for(var D=1;D<A.length;D++)if(vi(A[D]))return!0;return!1}function hs(A){if(!A)return!0;var D,Z=A[0];return A.length<=1?Z!=="any":Z==="=="?ka(A[1],A[2],"=="):Z==="!="?gi(ka(A[1],A[2],"==")):Z==="<"||Z===">"||Z==="<="||Z===">="?ka(A[1],A[2],Z):Z==="any"?(D=A.slice(1),["any"].concat(D.map(hs))):Z==="all"?["all"].concat(A.slice(1).map(hs)):Z==="none"?["all"].concat(A.slice(1).map(hs).map(gi)):Z==="in"?ko(A[1],A.slice(2)):Z==="!in"?gi(ko(A[1],A.slice(2))):Z==="has"?ui(A[1]):Z==="!has"?gi(ui(A[1])):Z!=="within"||A}function ka(A,D,Z){switch(A){case"$type":return["filter-type-"+Z,D];case"$id":return["filter-id-"+Z,D];default:return["filter-"+Z,A,D]}}function ko(A,D){if(D.length===0)return!1;switch(A){case"$type":return["filter-type-in",["literal",D]];case"$id":return["filter-id-in",["literal",D]];default:return D.length>200&&!D.some(function(Z){return typeof Z!=typeof D[0]})?["filter-in-large",A,["literal",D.sort(Zl)]]:["filter-in-small",A,["literal",D]]}}function ui(A){switch(A){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",A]}}function gi(A){return["!",A]}function io(A){return Rs(Lt(A.value))?zs(xt({},A,{expressionContext:"filter",valueSpec:{value:"boolean"}})):$s(A)}function $s(A){var D=A.value,Z=A.key;if(ri(D)!=="array")return[new gt(Z,D,"array expected, "+ri(D)+" found")];var ue,Ee=A.styleSpec,Ie=[];if(D.length<1)return[new gt(Z,D,"filter array must have at least 1 element")];switch(Ie=Ie.concat(Qs({key:Z+"[0]",value:D[0],valueSpec:Ee.filter_operator,style:A.style,styleSpec:A.styleSpec})),dt(D[0])){case"<":case"<=":case">":case">=":D.length>=2&&dt(D[1])==="$type"&&Ie.push(new gt(Z,D,'"$type" cannot be use with operator "'+D[0]+'"'));case"==":case"!=":D.length!==3&&Ie.push(new gt(Z,D,'filter array for operator "'+D[0]+'" must have 3 elements'));case"in":case"!in":D.length>=2&&(ue=ri(D[1]))!=="string"&&Ie.push(new gt(Z+"[1]",D[1],"string expected, "+ue+" found"));for(var He=2;He<D.length;He++)ue=ri(D[He]),dt(D[1])==="$type"?Ie=Ie.concat(Qs({key:Z+"["+He+"]",value:D[He],valueSpec:Ee.geometry_type,style:A.style,styleSpec:A.styleSpec})):ue!=="string"&&ue!=="number"&&ue!=="boolean"&&Ie.push(new gt(Z+"["+He+"]",D[He],"string, number, or boolean expected, "+ue+" found"));break;case"any":case"all":case"none":for(var tt=1;tt<D.length;tt++)Ie=Ie.concat($s({key:Z+"["+tt+"]",value:D[tt],style:A.style,styleSpec:A.styleSpec}));break;case"has":case"!has":ue=ri(D[1]),D.length!==2?Ie.push(new gt(Z,D,'filter array for "'+D[0]+'" operator must have 2 elements')):ue!=="string"&&Ie.push(new gt(Z+"[1]",D[1],"string expected, "+ue+" found"));break;case"within":ue=ri(D[1]),D.length!==2?Ie.push(new gt(Z,D,'filter array for "'+D[0]+'" operator must have 2 elements')):ue!=="object"&&Ie.push(new gt(Z+"[1]",D[1],"object expected, "+ue+" found"))}return Ie}function bl(A,D){var Z=A.key,ue=A.style,Ee=A.styleSpec,Ie=A.value,He=A.objectKey,tt=Ee[D+"_"+A.layerType];if(!tt)return[];var ht=He.match(/^(.*)-transition$/);if(D==="paint"&&ht&&tt[ht[1]]&&tt[ht[1]].transition)return fo({key:Z,value:Ie,valueSpec:Ee.transition,style:ue,styleSpec:Ee});var Tt,St=A.valueSpec||tt[He];if(!St)return[new gt(Z,Ie,'unknown property "'+He+'"')];if(ri(Ie)==="string"&&Zo(St)&&!St.tokens&&(Tt=/^{([^}]+)}$/.exec(Ie)))return[new gt(Z,Ie,'"'+He+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Tt[1])+" }`.")];var Nt=[];return A.layerType==="symbol"&&(He==="text-field"&&ue&&!ue.glyphs&&Nt.push(new gt(Z,Ie,'use of "text-field" requires a style "glyphs" property')),He==="text-font"&&Zs(Lt(Ie))&&dt(Ie.type)==="identity"&&Nt.push(new gt(Z,Ie,'"text-font" does not support identity functions'))),Nt.concat(fo({key:A.key,value:Ie,valueSpec:St,style:ue,styleSpec:Ee,expressionContext:"property",propertyType:D,propertyKey:He}))}function Xl(A){return bl(A,"paint")}function _l(A){return bl(A,"layout")}function wl(A){var D=[],Z=A.value,ue=A.key,Ee=A.style,Ie=A.styleSpec;Z.type||Z.ref||D.push(new gt(ue,Z,'either "type" or "ref" is required'));var He,tt=dt(Z.type),ht=dt(Z.ref);if(Z.id)for(var Tt=dt(Z.id),St=0;St<A.arrayIndex;St++){var Nt=Ee.layers[St];dt(Nt.id)===Tt&&D.push(new gt(ue,Z.id,'duplicate layer id "'+Z.id+'", previously used at line '+Nt.id.__line__))}if("ref"in Z)["type","source","source-layer","filter","layout"].forEach(function(sn){sn in Z&&D.push(new gt(ue,Z[sn],'"'+sn+'" is prohibited for ref layers'))}),Ee.layers.forEach(function(sn){dt(sn.id)===ht&&(He=sn)}),He?He.ref?D.push(new gt(ue,Z.ref,"ref cannot reference another ref layer")):tt=dt(He.type):D.push(new gt(ue,Z.ref,'ref layer "'+ht+'" not found'));else if(tt!=="background")if(Z.source){var Yt=Ee.sources&&Ee.sources[Z.source],Ut=Yt&&dt(Yt.type);Yt?Ut==="vector"&&tt==="raster"?D.push(new gt(ue,Z.source,'layer "'+Z.id+'" requires a raster source')):Ut==="raster"&&tt!=="raster"?D.push(new gt(ue,Z.source,'layer "'+Z.id+'" requires a vector source')):Ut!=="vector"||Z["source-layer"]?Ut==="raster-dem"&&tt!=="hillshade"?D.push(new gt(ue,Z.source,"raster-dem source can only be used with layer type 'hillshade'.")):tt!=="line"||!Z.paint||!Z.paint["line-gradient"]||Ut==="geojson"&&Yt.lineMetrics||D.push(new gt(ue,Z,'layer "'+Z.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):D.push(new gt(ue,Z,'layer "'+Z.id+'" must specify a "source-layer"')):D.push(new gt(ue,Z.source,'source "'+Z.source+'" not found'))}else D.push(new gt(ue,Z,'missing required property "source"'));return D=D.concat(ro({key:ue,value:Z,valueSpec:Ie.layer,style:A.style,styleSpec:A.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return fo({key:ue+".type",value:Z.type,valueSpec:Ie.layer.type,style:A.style,styleSpec:A.styleSpec,object:Z,objectKey:"type"})},filter:io,layout:function(sn){return ro({layer:Z,key:sn.key,value:sn.value,style:sn.style,styleSpec:sn.styleSpec,objectElementValidators:{"*":function(cn){return _l(xt({layerType:tt},cn))}}})},paint:function(sn){return ro({layer:Z,key:sn.key,value:sn.value,style:sn.style,styleSpec:sn.styleSpec,objectElementValidators:{"*":function(cn){return Xl(xt({layerType:tt},cn))}}})}}})),D}function co(A){var D=A.value,Z=A.key,ue=ri(D);return ue!=="string"?[new gt(Z,D,"string expected, "+ue+" found")]:[]}var ps={promoteId:function(A){var D=A.key,Z=A.value;if(ri(Z)==="string")return co({key:D,value:Z});var ue=[];for(var Ee in Z)ue.push.apply(ue,co({key:D+"."+Ee,value:Z[Ee]}));return ue}};function ds(A){var D=A.value,Z=A.key,ue=A.styleSpec,Ee=A.style;if(!D.type)return[new gt(Z,D,'"type" is required')];var Ie,He=dt(D.type);switch(He){case"vector":case"raster":case"raster-dem":return ro({key:Z,value:D,valueSpec:ue["source_"+He.replace("-","_")],style:A.style,styleSpec:ue,objectElementValidators:ps});case"geojson":if(Ie=ro({key:Z,value:D,valueSpec:ue.source_geojson,style:Ee,styleSpec:ue,objectElementValidators:ps}),D.cluster)for(var tt in D.clusterProperties){var ht=D.clusterProperties[tt],Tt=ht[0],St=ht[1],Nt=typeof Tt=="string"?[Tt,["accumulated"],["get",tt]]:Tt;Ie.push.apply(Ie,zs({key:Z+"."+tt+".map",value:St,expressionContext:"cluster-map"})),Ie.push.apply(Ie,zs({key:Z+"."+tt+".reduce",value:Nt,expressionContext:"cluster-reduce"}))}return Ie;case"video":return ro({key:Z,value:D,valueSpec:ue.source_video,style:Ee,styleSpec:ue});case"image":return ro({key:Z,value:D,valueSpec:ue.source_image,style:Ee,styleSpec:ue});case"canvas":return[new gt(Z,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Qs({key:Z+".type",value:D.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:Ee,styleSpec:ue})}}function Ca(A){var D=A.value,Z=A.styleSpec,ue=Z.light,Ee=A.style,Ie=[],He=ri(D);if(D===void 0)return Ie;if(He!=="object")return Ie.concat([new gt("light",D,"object expected, "+He+" found")]);for(var tt in D){var ht=tt.match(/^(.*)-transition$/);Ie=ht&&ue[ht[1]]&&ue[ht[1]].transition?Ie.concat(fo({key:tt,value:D[tt],valueSpec:Z.transition,style:Ee,styleSpec:Z})):ue[tt]?Ie.concat(fo({key:tt,value:D[tt],valueSpec:ue[tt],style:Ee,styleSpec:Z})):Ie.concat([new gt(tt,D[tt],'unknown property "'+tt+'"')])}return Ie}var Tl={"*":function(){return[]},array:Wl,boolean:function(A){var D=A.value,Z=A.key,ue=ri(D);return ue!=="boolean"?[new gt(Z,D,"boolean expected, "+ue+" found")]:[]},number:Iu,color:function(A){var D=A.key,Z=A.value,ue=ri(Z);return ue!=="string"?[new gt(D,Z,"color expected, "+ue+" found")]:Rn(Z)===null?[new gt(D,Z,'color expected, "'+Z+'" found')]:[]},constants:mt,enum:Qs,filter:io,function:Ks,layer:wl,object:ro,source:ds,light:Ca,string:co,formatted:function(A){return co(A).length===0?[]:zs(A)},resolvedImage:function(A){return co(A).length===0?[]:zs(A)}};function fo(A){var D=A.value,Z=A.valueSpec,ue=A.styleSpec;return Z.expression&&Zs(dt(D))?Ks(A):Z.expression&&Ds(Lt(D))?zs(A):Z.type&&Tl[Z.type]?Tl[Z.type](A):ro(xt({},A,{valueSpec:Z.type?ue[Z.type]:Z}))}function fa(A){var D=A.value,Z=A.key,ue=co(A);return ue.length||(D.indexOf("{fontstack}")===-1&&ue.push(new gt(Z,D,'"glyphs" url must include a "{fontstack}" token')),D.indexOf("{range}")===-1&&ue.push(new gt(Z,D,'"glyphs" url must include a "{range}" token'))),ue}function va(A,D){D===void 0&&(D=Qe);var Z=[];return Z=Z.concat(fo({key:"",value:A,valueSpec:D.$root,styleSpec:D,style:A,objectElementValidators:{glyphs:fa,"*":function(){return[]}}})),A.constants&&(Z=Z.concat(mt({key:"constants",value:A.constants,style:A,styleSpec:D}))),Mi(Z)}function Mi(A){return[].concat(A).sort(function(D,Z){return D.line-Z.line})}function ma(A){return function(){for(var D=[],Z=arguments.length;Z--;)D[Z]=arguments[Z];return Mi(A.apply(this,D))}}va.source=ma(ds),va.light=ma(Ca),va.layer=ma(wl),va.filter=ma(io),va.paintProperty=ma(Xl),va.layoutProperty=ma(_l);var Fo=va,Bs=Fo.light,Mo=Fo.paintProperty,gs=Fo.layoutProperty;function ja(A,D){var Z=!1;if(D&&D.length)for(var ue=0,Ee=D;ue<Ee.length;ue+=1){var Ie=Ee[ue];A.fire(new Ue(new Error(Ie.message))),Z=!0}return Z}var Ns=ho,Ko=3;function ho(A,D,Z){var ue=this.cells=[];if(A instanceof ArrayBuffer){this.arrayBuffer=A;var Ee=new Int32Array(this.arrayBuffer);A=Ee[0],D=Ee[1],Z=Ee[2],this.d=D+2*Z;for(var Ie=0;Ie<this.d*this.d;Ie++){var He=Ee[Ko+Ie],tt=Ee[Ko+Ie+1];ue.push(He===tt?null:Ee.subarray(He,tt))}var ht=Ee[Ko+ue.length],Tt=Ee[Ko+ue.length+1];this.keys=Ee.subarray(ht,Tt),this.bboxes=Ee.subarray(Tt),this.insert=this._insertReadonly}else{this.d=D+2*Z;for(var St=0;St<this.d*this.d;St++)ue.push([]);this.keys=[],this.bboxes=[]}this.n=D,this.extent=A,this.padding=Z,this.scale=D/A,this.uid=0;var Nt=Z/D*A;this.min=-Nt,this.max=A+Nt}ho.prototype.insert=function(A,D,Z,ue,Ee){this._forEachCell(D,Z,ue,Ee,this._insertCell,this.uid++),this.keys.push(A),this.bboxes.push(D),this.bboxes.push(Z),this.bboxes.push(ue),this.bboxes.push(Ee)},ho.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ho.prototype._insertCell=function(A,D,Z,ue,Ee,Ie){this.cells[Ee].push(Ie)},ho.prototype.query=function(A,D,Z,ue,Ee){var Ie=this.min,He=this.max;if(A<=Ie&&D<=Ie&&He<=Z&&He<=ue&&!Ee)return Array.prototype.slice.call(this.keys);var tt=[];return this._forEachCell(A,D,Z,ue,this._queryCell,tt,{},Ee),tt},ho.prototype._queryCell=function(A,D,Z,ue,Ee,Ie,He,tt){var ht=this.cells[Ee];if(ht!==null)for(var Tt=this.keys,St=this.bboxes,Nt=0;Nt<ht.length;Nt++){var Yt=ht[Nt];if(He[Yt]===void 0){var Ut=4*Yt;(tt?tt(St[Ut+0],St[Ut+1],St[Ut+2],St[Ut+3]):A<=St[Ut+2]&&D<=St[Ut+3]&&Z>=St[Ut+0]&&ue>=St[Ut+1])?(He[Yt]=!0,Ie.push(Tt[Yt])):He[Yt]=!1}}},ho.prototype._forEachCell=function(A,D,Z,ue,Ee,Ie,He,tt){for(var ht=this._convertToCellCoord(A),Tt=this._convertToCellCoord(D),St=this._convertToCellCoord(Z),Nt=this._convertToCellCoord(ue),Yt=ht;Yt<=St;Yt++)for(var Ut=Tt;Ut<=Nt;Ut++){var sn=this.d*Ut+Yt;if((!tt||tt(this._convertFromCellCoord(Yt),this._convertFromCellCoord(Ut),this._convertFromCellCoord(Yt+1),this._convertFromCellCoord(Ut+1)))&&Ee.call(this,A,D,Z,ue,sn,Ie,He,tt))return}},ho.prototype._convertFromCellCoord=function(A){return(A-this.padding)/this.scale},ho.prototype._convertToCellCoord=function(A){return Math.max(0,Math.min(this.d-1,Math.floor(A*this.scale)+this.padding))},ho.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var A=this.cells,D=Ko+this.cells.length+1+1,Z=0,ue=0;ue<this.cells.length;ue++)Z+=this.cells[ue].length;var Ee=new Int32Array(D+Z+this.keys.length+this.bboxes.length);Ee[0]=this.extent,Ee[1]=this.n,Ee[2]=this.padding;for(var Ie=D,He=0;He<A.length;He++){var tt=A[He];Ee[Ko+He]=Ie,Ee.set(tt,Ie),Ie+=tt.length}return Ee[Ko+A.length]=Ie,Ee.set(this.keys,Ie),Ie+=this.keys.length,Ee[Ko+A.length+1]=Ie,Ee.set(this.bboxes,Ie),Ie+=this.bboxes.length,Ee.buffer};var po=n.ImageData,Si=n.ImageBitmap,Ao={};function Ir(A,D,Z){Z===void 0&&(Z={}),Object.defineProperty(D,"_classRegistryKey",{value:A,writeable:!1}),Ao[A]={klass:D,omit:Z.omit||[],shallow:Z.shallow||[]}}for(var kl in Ir("Object",Object),Ns.serialize=function(A,D){var Z=A.toArrayBuffer();return D&&D.push(Z),{buffer:Z}},Ns.deserialize=function(A){return new Ns(A.buffer)},Ir("Grid",Ns),Ir("Color",zn),Ir("Error",Error),Ir("ResolvedImage",or),Ir("StylePropertyFunction",yl),Ir("StyleExpression",fs,{omit:["_evaluator"]}),Ir("ZoomDependentExpression",Js),Ir("ZoomConstantExpression",To),Ir("CompoundExpression",mn,{omit:["_evaluate"]}),Ws)Ws[kl]._classRegistryKey||Ir("Expression_"+kl,Ws[kl]);function uu(A){return A&&typeof ArrayBuffer<"u"&&(A instanceof ArrayBuffer||A.constructor&&A.constructor.name==="ArrayBuffer")}function vs(A){return Si&&A instanceof Si}function ms(A,D){if(A==null||typeof A=="boolean"||typeof A=="number"||typeof A=="string"||A instanceof Boolean||A instanceof Number||A instanceof String||A instanceof Date||A instanceof RegExp)return A;if(uu(A)||vs(A))return D&&D.push(A),A;if(ArrayBuffer.isView(A)){var Z=A;return D&&D.push(Z.buffer),Z}if(A instanceof po)return D&&D.push(A.data.buffer),A;if(Array.isArray(A)){for(var ue=[],Ee=0,Ie=A;Ee<Ie.length;Ee+=1){var He=Ie[Ee];ue.push(ms(He,D))}return ue}if(typeof A=="object"){var tt=A.constructor,ht=tt._classRegistryKey;if(!ht)throw new Error("can't serialize object of unregistered class");var Tt=tt.serialize?tt.serialize(A,D):{};if(!tt.serialize){for(var St in A)if(A.hasOwnProperty(St)&&!(Ao[ht].omit.indexOf(St)>=0)){var Nt=A[St];Tt[St]=Ao[ht].shallow.indexOf(St)>=0?Nt:ms(Nt,D)}A instanceof Error&&(Tt.message=A.message)}if(Tt.$name)throw new Error("$name property is reserved for worker serialization logic.");return ht!=="Object"&&(Tt.$name=ht),Tt}throw new Error("can't serialize object of type "+typeof A)}function js(A){if(A==null||typeof A=="boolean"||typeof A=="number"||typeof A=="string"||A instanceof Boolean||A instanceof Number||A instanceof String||A instanceof Date||A instanceof RegExp||uu(A)||vs(A)||ArrayBuffer.isView(A)||A instanceof po)return A;if(Array.isArray(A))return A.map(js);if(typeof A=="object"){var D=A.$name||"Object",Z=Ao[D].klass;if(!Z)throw new Error("can't deserialize unregistered class "+D);if(Z.deserialize)return Z.deserialize(A);for(var ue=Object.create(Z.prototype),Ee=0,Ie=Object.keys(A);Ee<Ie.length;Ee+=1){var He=Ie[Ee];if(He!=="$name"){var tt=A[He];ue[He]=Ao[D].shallow.indexOf(He)>=0?tt:js(tt)}}return ue}throw new Error("can't deserialize object of type "+typeof A)}var el=function(){this.first=!0};el.prototype.update=function(A,D){var Z=Math.floor(A);return this.first?(this.first=!1,this.lastIntegerZoom=Z,this.lastIntegerZoomTime=0,this.lastZoom=A,this.lastFloorZoom=Z,!0):(this.lastFloorZoom>Z?(this.lastIntegerZoom=Z+1,this.lastIntegerZoomTime=D):this.lastFloorZoom<Z&&(this.lastIntegerZoom=Z,this.lastIntegerZoomTime=D),A!==this.lastZoom&&(this.lastZoom=A,this.lastFloorZoom=Z,!0))};var Tr={"Latin-1 Supplement":function(A){return A>=128&&A<=255},Arabic:function(A){return A>=1536&&A<=1791},"Arabic Supplement":function(A){return A>=1872&&A<=1919},"Arabic Extended-A":function(A){return A>=2208&&A<=2303},"Hangul Jamo":function(A){return A>=4352&&A<=4607},"Unified Canadian Aboriginal Syllabics":function(A){return A>=5120&&A<=5759},Khmer:function(A){return A>=6016&&A<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(A){return A>=6320&&A<=6399},"General Punctuation":function(A){return A>=8192&&A<=8303},"Letterlike Symbols":function(A){return A>=8448&&A<=8527},"Number Forms":function(A){return A>=8528&&A<=8591},"Miscellaneous Technical":function(A){return A>=8960&&A<=9215},"Control Pictures":function(A){return A>=9216&&A<=9279},"Optical Character Recognition":function(A){return A>=9280&&A<=9311},"Enclosed Alphanumerics":function(A){return A>=9312&&A<=9471},"Geometric Shapes":function(A){return A>=9632&&A<=9727},"Miscellaneous Symbols":function(A){return A>=9728&&A<=9983},"Miscellaneous Symbols and Arrows":function(A){return A>=11008&&A<=11263},"CJK Radicals Supplement":function(A){return A>=11904&&A<=12031},"Kangxi Radicals":function(A){return A>=12032&&A<=12255},"Ideographic Description Characters":function(A){return A>=12272&&A<=12287},"CJK Symbols and Punctuation":function(A){return A>=12288&&A<=12351},Hiragana:function(A){return A>=12352&&A<=12447},Katakana:function(A){return A>=12448&&A<=12543},Bopomofo:function(A){return A>=12544&&A<=12591},"Hangul Compatibility Jamo":function(A){return A>=12592&&A<=12687},Kanbun:function(A){return A>=12688&&A<=12703},"Bopomofo Extended":function(A){return A>=12704&&A<=12735},"CJK Strokes":function(A){return A>=12736&&A<=12783},"Katakana Phonetic Extensions":function(A){return A>=12784&&A<=12799},"Enclosed CJK Letters and Months":function(A){return A>=12800&&A<=13055},"CJK Compatibility":function(A){return A>=13056&&A<=13311},"CJK Unified Ideographs Extension A":function(A){return A>=13312&&A<=19903},"Yijing Hexagram Symbols":function(A){return A>=19904&&A<=19967},"CJK Unified Ideographs":function(A){return A>=19968&&A<=40959},"Yi Syllables":function(A){return A>=40960&&A<=42127},"Yi Radicals":function(A){return A>=42128&&A<=42191},"Hangul Jamo Extended-A":function(A){return A>=43360&&A<=43391},"Hangul Syllables":function(A){return A>=44032&&A<=55215},"Hangul Jamo Extended-B":function(A){return A>=55216&&A<=55295},"Private Use Area":function(A){return A>=57344&&A<=63743},"CJK Compatibility Ideographs":function(A){return A>=63744&&A<=64255},"Arabic Presentation Forms-A":function(A){return A>=64336&&A<=65023},"Vertical Forms":function(A){return A>=65040&&A<=65055},"CJK Compatibility Forms":function(A){return A>=65072&&A<=65103},"Small Form Variants":function(A){return A>=65104&&A<=65135},"Arabic Presentation Forms-B":function(A){return A>=65136&&A<=65279},"Halfwidth and Fullwidth Forms":function(A){return A>=65280&&A<=65519}};function Ml(A){for(var D=0,Z=A;D<Z.length;D+=1)if(Qo(Z[D].charCodeAt(0)))return!0;return!1}function Qo(A){return!(A!==746&&A!==747&&(A<4352||!(Tr["Bopomofo Extended"](A)||Tr.Bopomofo(A)||Tr["CJK Compatibility Forms"](A)&&!(A>=65097&&A<=65103)||Tr["CJK Compatibility Ideographs"](A)||Tr["CJK Compatibility"](A)||Tr["CJK Radicals Supplement"](A)||Tr["CJK Strokes"](A)||!(!Tr["CJK Symbols and Punctuation"](A)||A>=12296&&A<=12305||A>=12308&&A<=12319||A===12336)||Tr["CJK Unified Ideographs Extension A"](A)||Tr["CJK Unified Ideographs"](A)||Tr["Enclosed CJK Letters and Months"](A)||Tr["Hangul Compatibility Jamo"](A)||Tr["Hangul Jamo Extended-A"](A)||Tr["Hangul Jamo Extended-B"](A)||Tr["Hangul Jamo"](A)||Tr["Hangul Syllables"](A)||Tr.Hiragana(A)||Tr["Ideographic Description Characters"](A)||Tr.Kanbun(A)||Tr["Kangxi Radicals"](A)||Tr["Katakana Phonetic Extensions"](A)||Tr.Katakana(A)&&A!==12540||!(!Tr["Halfwidth and Fullwidth Forms"](A)||A===65288||A===65289||A===65293||A>=65306&&A<=65310||A===65339||A===65341||A===65343||A>=65371&&A<=65503||A===65507||A>=65512&&A<=65519)||!(!Tr["Small Form Variants"](A)||A>=65112&&A<=65118||A>=65123&&A<=65126)||Tr["Unified Canadian Aboriginal Syllabics"](A)||Tr["Unified Canadian Aboriginal Syllabics Extended"](A)||Tr["Vertical Forms"](A)||Tr["Yijing Hexagram Symbols"](A)||Tr["Yi Syllables"](A)||Tr["Yi Radicals"](A))))}function ha(A){return!(Qo(A)||function(D){return!!(Tr["Latin-1 Supplement"](D)&&(D===167||D===169||D===174||D===177||D===188||D===189||D===190||D===215||D===247)||Tr["General Punctuation"](D)&&(D===8214||D===8224||D===8225||D===8240||D===8241||D===8251||D===8252||D===8258||D===8263||D===8264||D===8265||D===8273)||Tr["Letterlike Symbols"](D)||Tr["Number Forms"](D)||Tr["Miscellaneous Technical"](D)&&(D>=8960&&D<=8967||D>=8972&&D<=8991||D>=8996&&D<=9e3||D===9003||D>=9085&&D<=9114||D>=9150&&D<=9165||D===9167||D>=9169&&D<=9179||D>=9186&&D<=9215)||Tr["Control Pictures"](D)&&D!==9251||Tr["Optical Character Recognition"](D)||Tr["Enclosed Alphanumerics"](D)||Tr["Geometric Shapes"](D)||Tr["Miscellaneous Symbols"](D)&&!(D>=9754&&D<=9759)||Tr["Miscellaneous Symbols and Arrows"](D)&&(D>=11026&&D<=11055||D>=11088&&D<=11097||D>=11192&&D<=11243)||Tr["CJK Symbols and Punctuation"](D)||Tr.Katakana(D)||Tr["Private Use Area"](D)||Tr["CJK Compatibility Forms"](D)||Tr["Small Form Variants"](D)||Tr["Halfwidth and Fullwidth Forms"](D)||D===8734||D===8756||D===8757||D>=9984&&D<=10087||D>=10102&&D<=10131||D===65532||D===65533)}(A))}function ys(A){return Tr.Arabic(A)||Tr["Arabic Supplement"](A)||Tr["Arabic Extended-A"](A)||Tr["Arabic Presentation Forms-A"](A)||Tr["Arabic Presentation Forms-B"](A)}function So(A){return A>=1424&&A<=2303||Tr["Arabic Presentation Forms-A"](A)||Tr["Arabic Presentation Forms-B"](A)}function go(A,D){return!(!D&&So(A)||A>=2304&&A<=3583||A>=3840&&A<=4255||Tr.Khmer(A))}function Oa(A){for(var D=0,Z=A;D<Z.length;D+=1)if(So(Z[D].charCodeAt(0)))return!0;return!1}var Bo="deferred",vo="loading",$o="loaded",Al="error",xs=null,oi="unavailable",ya=null,Ua=function(A){A&&typeof A=="string"&&A.indexOf("NetworkError")>-1&&(oi=Al),xs&&xs(A)};function No(){Va.fire(new je("pluginStateChange",{pluginStatus:oi,pluginURL:ya}))}var Va=new lt,tl=function(){return oi},nl=function(){if(oi!==Bo||!ya)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");oi=vo,No(),ya&&Ft({url:ya},function(A){A?Ua(A):(oi=$o,No())})},Ha={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return oi===$o||Ha.applyArabicShaping!=null},isLoading:function(){return oi===vo},setState:function(A){oi=A.pluginStatus,ya=A.pluginURL},isParsed:function(){return Ha.applyArabicShaping!=null&&Ha.processBidirectionalText!=null&&Ha.processStyledBidirectionalText!=null},getPluginURL:function(){return ya}},ii=function(A,D){this.zoom=A,D?(this.now=D.now,this.fadeDuration=D.fadeDuration,this.zoomHistory=D.zoomHistory,this.transition=D.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new el,this.transition={})};ii.prototype.isSupportedScript=function(A){return function(D,Z){for(var ue=0,Ee=D;ue<Ee.length;ue+=1)if(!go(Ee[ue].charCodeAt(0),Z))return!1;return!0}(A,Ha.isLoaded())},ii.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},ii.prototype.getCrossfadeParameters=function(){var A=this.zoom,D=A-Math.floor(A),Z=this.crossFadingFactor();return A>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:D+(1-D)*Z}:{fromScale:.5,toScale:1,t:1-(1-Z)*D}};var jo=function(A,D){this.property=A,this.value=D,this.expression=function(Z,ue){if(Zs(Z))return new yl(Z,ue);if(Ds(Z)){var Ee=Pu(Z,ue);if(Ee.result==="error")throw new Error(Ee.value.map(function(He){return He.key+": "+He.message}).join(", "));return Ee.value}var Ie=Z;return typeof Z=="string"&&ue.type==="color"&&(Ie=zn.parse(Z)),{kind:"constant",evaluate:function(){return Ie}}}(D===void 0?A.specification.default:D,A.specification)};jo.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},jo.prototype.possiblyEvaluate=function(A,D,Z){return this.property.possiblyEvaluate(this,A,D,Z)};var Us=function(A){this.property=A,this.value=new jo(A,void 0)};Us.prototype.transitioned=function(A,D){return new rl(this.property,this.value,D,c({},A.transition,this.transition),A.now)},Us.prototype.untransitioned=function(){return new rl(this.property,this.value,null,{},0)};var Eo=function(A){this._properties=A,this._values=Object.create(A.defaultTransitionablePropertyValues)};Eo.prototype.getValue=function(A){return S(this._values[A].value.value)},Eo.prototype.setValue=function(A,D){this._values.hasOwnProperty(A)||(this._values[A]=new Us(this._values[A].property)),this._values[A].value=new jo(this._values[A].property,D===null?void 0:S(D))},Eo.prototype.getTransition=function(A){return S(this._values[A].transition)},Eo.prototype.setTransition=function(A,D){this._values.hasOwnProperty(A)||(this._values[A]=new Us(this._values[A].property)),this._values[A].transition=S(D)||void 0},Eo.prototype.serialize=function(){for(var A={},D=0,Z=Object.keys(this._values);D<Z.length;D+=1){var ue=Z[D],Ee=this.getValue(ue);Ee!==void 0&&(A[ue]=Ee);var Ie=this.getTransition(ue);Ie!==void 0&&(A[ue+"-transition"]=Ie)}return A},Eo.prototype.transitioned=function(A,D){for(var Z=new il(this._properties),ue=0,Ee=Object.keys(this._values);ue<Ee.length;ue+=1){var Ie=Ee[ue];Z._values[Ie]=this._values[Ie].transitioned(A,D._values[Ie])}return Z},Eo.prototype.untransitioned=function(){for(var A=new il(this._properties),D=0,Z=Object.keys(this._values);D<Z.length;D+=1){var ue=Z[D];A._values[ue]=this._values[ue].untransitioned()}return A};var rl=function(A,D,Z,ue,Ee){this.property=A,this.value=D,this.begin=Ee+ue.delay||0,this.end=this.begin+ue.duration||0,A.specification.transition&&(ue.delay||ue.duration)&&(this.prior=Z)};rl.prototype.possiblyEvaluate=function(A,D,Z){var ue=A.now||0,Ee=this.value.possiblyEvaluate(A,D,Z),Ie=this.prior;if(Ie){if(ue>this.end)return this.prior=null,Ee;if(this.value.isDataDriven())return this.prior=null,Ee;if(ue<this.begin)return Ie.possiblyEvaluate(A,D,Z);var He=(ue-this.begin)/(this.end-this.begin);return this.property.interpolate(Ie.possiblyEvaluate(A,D,Z),Ee,function(tt){if(tt<=0)return 0;if(tt>=1)return 1;var ht=tt*tt,Tt=ht*tt;return 4*(tt<.5?Tt:3*(tt-ht)+Tt-.75)}(He))}return Ee};var il=function(A){this._properties=A,this._values=Object.create(A.defaultTransitioningPropertyValues)};il.prototype.possiblyEvaluate=function(A,D,Z){for(var ue=new Vs(this._properties),Ee=0,Ie=Object.keys(this._values);Ee<Ie.length;Ee+=1){var He=Ie[Ee];ue._values[He]=this._values[He].possiblyEvaluate(A,D,Z)}return ue},il.prototype.hasTransition=function(){for(var A=0,D=Object.keys(this._values);A<D.length;A+=1){var Z=D[A];if(this._values[Z].prior)return!0}return!1};var Lo=function(A){this._properties=A,this._values=Object.create(A.defaultPropertyValues)};Lo.prototype.getValue=function(A){return S(this._values[A].value)},Lo.prototype.setValue=function(A,D){this._values[A]=new jo(this._values[A].property,D===null?void 0:S(D))},Lo.prototype.serialize=function(){for(var A={},D=0,Z=Object.keys(this._values);D<Z.length;D+=1){var ue=Z[D],Ee=this.getValue(ue);Ee!==void 0&&(A[ue]=Ee)}return A},Lo.prototype.possiblyEvaluate=function(A,D,Z){for(var ue=new Vs(this._properties),Ee=0,Ie=Object.keys(this._values);Ee<Ie.length;Ee+=1){var He=Ie[Ee];ue._values[He]=this._values[He].possiblyEvaluate(A,D,Z)}return ue};var Ei=function(A,D,Z){this.property=A,this.value=D,this.parameters=Z};Ei.prototype.isConstant=function(){return this.value.kind==="constant"},Ei.prototype.constantOr=function(A){return this.value.kind==="constant"?this.value.value:A},Ei.prototype.evaluate=function(A,D,Z,ue){return this.property.evaluate(this.value,this.parameters,A,D,Z,ue)};var Vs=function(A){this._properties=A,this._values=Object.create(A.defaultPossiblyEvaluatedValues)};Vs.prototype.get=function(A){return this._values[A]};var zr=function(A){this.specification=A};zr.prototype.possiblyEvaluate=function(A,D){return A.expression.evaluate(D)},zr.prototype.interpolate=function(A,D,Z){var ue=ki[this.specification.type];return ue?ue(A,D,Z):A};var Hr=function(A,D){this.specification=A,this.overrides=D};Hr.prototype.possiblyEvaluate=function(A,D,Z,ue){return A.expression.kind==="constant"||A.expression.kind==="camera"?new Ei(this,{kind:"constant",value:A.expression.evaluate(D,null,{},Z,ue)},D):new Ei(this,A.expression,D)},Hr.prototype.interpolate=function(A,D,Z){if(A.value.kind!=="constant"||D.value.kind!=="constant")return A;if(A.value.value===void 0||D.value.value===void 0)return new Ei(this,{kind:"constant",value:void 0},A.parameters);var ue=ki[this.specification.type];return ue?new Ei(this,{kind:"constant",value:ue(A.value.value,D.value.value,Z)},A.parameters):A},Hr.prototype.evaluate=function(A,D,Z,ue,Ee,Ie){return A.kind==="constant"?A.value:A.evaluate(D,Z,ue,Ee,Ie)};var ao=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(Z,ue,Ee,Ie){if(Z.value===void 0)return new Ei(this,{kind:"constant",value:void 0},ue);if(Z.expression.kind==="constant"){var He=Z.expression.evaluate(ue,null,{},Ee,Ie),tt=Z.property.specification.type==="resolvedImage"&&typeof He!="string"?He.name:He,ht=this._calculate(tt,tt,tt,ue);return new Ei(this,{kind:"constant",value:ht},ue)}if(Z.expression.kind==="camera"){var Tt=this._calculate(Z.expression.evaluate({zoom:ue.zoom-1}),Z.expression.evaluate({zoom:ue.zoom}),Z.expression.evaluate({zoom:ue.zoom+1}),ue);return new Ei(this,{kind:"constant",value:Tt},ue)}return new Ei(this,Z.expression,ue)},D.prototype.evaluate=function(Z,ue,Ee,Ie,He,tt){if(Z.kind==="source"){var ht=Z.evaluate(ue,Ee,Ie,He,tt);return this._calculate(ht,ht,ht,ue)}return Z.kind==="composite"?this._calculate(Z.evaluate({zoom:Math.floor(ue.zoom)-1},Ee,Ie),Z.evaluate({zoom:Math.floor(ue.zoom)},Ee,Ie),Z.evaluate({zoom:Math.floor(ue.zoom)+1},Ee,Ie),ue):Z.value},D.prototype._calculate=function(Z,ue,Ee,Ie){return Ie.zoom>Ie.zoomHistory.lastIntegerZoom?{from:Z,to:ue}:{from:Ee,to:ue}},D.prototype.interpolate=function(Z){return Z},D}(Hr),Uo=function(A){this.specification=A};Uo.prototype.possiblyEvaluate=function(A,D,Z,ue){if(A.value!==void 0){if(A.expression.kind==="constant"){var Ee=A.expression.evaluate(D,null,{},Z,ue);return this._calculate(Ee,Ee,Ee,D)}return this._calculate(A.expression.evaluate(new ii(Math.floor(D.zoom-1),D)),A.expression.evaluate(new ii(Math.floor(D.zoom),D)),A.expression.evaluate(new ii(Math.floor(D.zoom+1),D)),D)}},Uo.prototype._calculate=function(A,D,Z,ue){return ue.zoom>ue.zoomHistory.lastIntegerZoom?{from:A,to:D}:{from:Z,to:D}},Uo.prototype.interpolate=function(A){return A};var es=function(A){this.specification=A};es.prototype.possiblyEvaluate=function(A,D,Z,ue){return!!A.expression.evaluate(D,null,{},Z,ue)},es.prototype.interpolate=function(){return!1};var na=function(A){for(var D in this.properties=A,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],A){var Z=A[D];Z.specification.overridable&&this.overridableProperties.push(D);var ue=this.defaultPropertyValues[D]=new jo(Z,void 0),Ee=this.defaultTransitionablePropertyValues[D]=new Us(Z);this.defaultTransitioningPropertyValues[D]=Ee.untransitioned(),this.defaultPossiblyEvaluatedValues[D]=ue.possiblyEvaluate({})}};Ir("DataDrivenProperty",Hr),Ir("DataConstantProperty",zr),Ir("CrossFadedDataDrivenProperty",ao),Ir("CrossFadedProperty",Uo),Ir("ColorRampProperty",es);var Vo="-transition",mi=function(A){function D(Z,ue){if(A.call(this),this.id=Z.id,this.type=Z.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},Z.type!=="custom"&&(this.metadata=Z.metadata,this.minzoom=Z.minzoom,this.maxzoom=Z.maxzoom,Z.type!=="background"&&(this.source=Z.source,this.sourceLayer=Z["source-layer"],this.filter=Z.filter),ue.layout&&(this._unevaluatedLayout=new Lo(ue.layout)),ue.paint)){for(var Ee in this._transitionablePaint=new Eo(ue.paint),Z.paint)this.setPaintProperty(Ee,Z.paint[Ee],{validate:!1});for(var Ie in Z.layout)this.setLayoutProperty(Ie,Z.layout[Ie],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Vs(ue.paint)}}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},D.prototype.getLayoutProperty=function(Z){return Z==="visibility"?this.visibility:this._unevaluatedLayout.getValue(Z)},D.prototype.setLayoutProperty=function(Z,ue,Ee){if(Ee===void 0&&(Ee={}),ue!=null){var Ie="layers."+this.id+".layout."+Z;if(this._validate(gs,Ie,Z,ue,Ee))return}Z!=="visibility"?this._unevaluatedLayout.setValue(Z,ue):this.visibility=ue},D.prototype.getPaintProperty=function(Z){return x(Z,Vo)?this._transitionablePaint.getTransition(Z.slice(0,-11)):this._transitionablePaint.getValue(Z)},D.prototype.setPaintProperty=function(Z,ue,Ee){if(Ee===void 0&&(Ee={}),ue!=null){var Ie="layers."+this.id+".paint."+Z;if(this._validate(Mo,Ie,Z,ue,Ee))return!1}if(x(Z,Vo))return this._transitionablePaint.setTransition(Z.slice(0,-11),ue||void 0),!1;var He=this._transitionablePaint._values[Z],tt=He.property.specification["property-type"]==="cross-faded-data-driven",ht=He.value.isDataDriven(),Tt=He.value;this._transitionablePaint.setValue(Z,ue),this._handleSpecialPaintPropertyUpdate(Z);var St=this._transitionablePaint._values[Z].value;return St.isDataDriven()||ht||tt||this._handleOverridablePaintPropertyUpdate(Z,Tt,St)},D.prototype._handleSpecialPaintPropertyUpdate=function(Z){},D.prototype._handleOverridablePaintPropertyUpdate=function(Z,ue,Ee){return!1},D.prototype.isHidden=function(Z){return!!(this.minzoom&&Z<this.minzoom)||!!(this.maxzoom&&Z>=this.maxzoom)||this.visibility==="none"},D.prototype.updateTransitions=function(Z){this._transitioningPaint=this._transitionablePaint.transitioned(Z,this._transitioningPaint)},D.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},D.prototype.recalculate=function(Z,ue){Z.getCrossfadeParameters&&(this._crossfadeParameters=Z.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(Z,void 0,ue)),this.paint=this._transitioningPaint.possiblyEvaluate(Z,void 0,ue)},D.prototype.serialize=function(){var Z={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(Z.layout=Z.layout||{},Z.layout.visibility=this.visibility),p(Z,function(ue,Ee){return!(ue===void 0||Ee==="layout"&&!Object.keys(ue).length||Ee==="paint"&&!Object.keys(ue).length)})},D.prototype._validate=function(Z,ue,Ee,Ie,He){return He===void 0&&(He={}),(!He||He.validate!==!1)&&ja(this,Z.call(Fo,{key:ue,layerType:this.type,objectKey:Ee,value:Ie,styleSpec:Qe,style:{glyphs:!0,sprite:!0}}))},D.prototype.is3D=function(){return!1},D.prototype.isTileClipped=function(){return!1},D.prototype.hasOffscreenPass=function(){return!1},D.prototype.resize=function(){},D.prototype.isStateDependent=function(){for(var Z in this.paint._values){var ue=this.paint.get(Z);if(ue instanceof Ei&&Zo(ue.property.specification)&&(ue.value.kind==="source"||ue.value.kind==="composite")&&ue.value.isStateDependent)return!0}return!1},D}(lt),Du={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},oo=function(A,D){this._structArray=A,this._pos1=D*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},_i=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function zi(A,D){D===void 0&&(D=1);var Z=0,ue=0;return{members:A.map(function(Ee){var Ie,He=(Ie=Ee.type,Du[Ie].BYTES_PER_ELEMENT),tt=Z=Ka(Z,Math.max(D,He)),ht=Ee.components||1;return ue=Math.max(ue,He),Z+=He*ht,{name:Ee.name,type:Ee.type,components:ht,offset:tt}}),size:Ka(Z,Math.max(ue,D)),alignment:D}}function Ka(A,D){return Math.ceil(A/D)*D}_i.serialize=function(A,D){return A._trim(),D&&(A.isTransferred=!0,D.push(A.arrayBuffer)),{length:A.length,arrayBuffer:A.arrayBuffer}},_i.deserialize=function(A){var D=Object.create(this.prototype);return D.arrayBuffer=A.arrayBuffer,D.length=A.length,D.capacity=A.arrayBuffer.byteLength/D.bytesPerElement,D._refreshViews(),D},_i.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},_i.prototype.clear=function(){this.length=0},_i.prototype.resize=function(A){this.reserve(A),this.length=A},_i.prototype.reserve=function(A){if(A>this.capacity){this.capacity=Math.max(A,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var D=this.uint8;this._refreshViews(),D&&this.uint8.set(D)}},_i.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var bs=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z,ue){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,Z,ue)},D.prototype.emplace=function(Z,ue,Ee){var Ie=2*Z;return this.int16[Ie+0]=ue,this.int16[Ie+1]=Ee,Z},D}(_i);bs.prototype.bytesPerElement=4,Ir("StructArrayLayout2i4",bs);var cu=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z,ue,Ee,Ie){var He=this.length;return this.resize(He+1),this.emplace(He,Z,ue,Ee,Ie)},D.prototype.emplace=function(Z,ue,Ee,Ie,He){var tt=4*Z;return this.int16[tt+0]=ue,this.int16[tt+1]=Ee,this.int16[tt+2]=Ie,this.int16[tt+3]=He,Z},D}(_i);cu.prototype.bytesPerElement=8,Ir("StructArrayLayout4i8",cu);var $e=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z,ue,Ee,Ie,He,tt){var ht=this.length;return this.resize(ht+1),this.emplace(ht,Z,ue,Ee,Ie,He,tt)},D.prototype.emplace=function(Z,ue,Ee,Ie,He,tt,ht){var Tt=6*Z;return this.int16[Tt+0]=ue,this.int16[Tt+1]=Ee,this.int16[Tt+2]=Ie,this.int16[Tt+3]=He,this.int16[Tt+4]=tt,this.int16[Tt+5]=ht,Z},D}(_i);$e.prototype.bytesPerElement=12,Ir("StructArrayLayout2i4i12",$e);var nt=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z,ue,Ee,Ie,He,tt){var ht=this.length;return this.resize(ht+1),this.emplace(ht,Z,ue,Ee,Ie,He,tt)},D.prototype.emplace=function(Z,ue,Ee,Ie,He,tt,ht){var Tt=4*Z,St=8*Z;return this.int16[Tt+0]=ue,this.int16[Tt+1]=Ee,this.uint8[St+4]=Ie,this.uint8[St+5]=He,this.uint8[St+6]=tt,this.uint8[St+7]=ht,Z},D}(_i);nt.prototype.bytesPerElement=8,Ir("StructArrayLayout2i4ub8",nt);var ft=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z,ue){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,Z,ue)},D.prototype.emplace=function(Z,ue,Ee){var Ie=2*Z;return this.float32[Ie+0]=ue,this.float32[Ie+1]=Ee,Z},D}(_i);ft.prototype.bytesPerElement=8,Ir("StructArrayLayout2f8",ft);var N=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z,ue,Ee,Ie,He,tt,ht,Tt,St,Nt){var Yt=this.length;return this.resize(Yt+1),this.emplace(Yt,Z,ue,Ee,Ie,He,tt,ht,Tt,St,Nt)},D.prototype.emplace=function(Z,ue,Ee,Ie,He,tt,ht,Tt,St,Nt,Yt){var Ut=10*Z;return this.uint16[Ut+0]=ue,this.uint16[Ut+1]=Ee,this.uint16[Ut+2]=Ie,this.uint16[Ut+3]=He,this.uint16[Ut+4]=tt,this.uint16[Ut+5]=ht,this.uint16[Ut+6]=Tt,this.uint16[Ut+7]=St,this.uint16[Ut+8]=Nt,this.uint16[Ut+9]=Yt,Z},D}(_i);N.prototype.bytesPerElement=20,Ir("StructArrayLayout10ui20",N);var Y=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z,ue,Ee,Ie,He,tt,ht,Tt,St,Nt,Yt,Ut){var sn=this.length;return this.resize(sn+1),this.emplace(sn,Z,ue,Ee,Ie,He,tt,ht,Tt,St,Nt,Yt,Ut)},D.prototype.emplace=function(Z,ue,Ee,Ie,He,tt,ht,Tt,St,Nt,Yt,Ut,sn){var cn=12*Z;return this.int16[cn+0]=ue,this.int16[cn+1]=Ee,this.int16[cn+2]=Ie,this.int16[cn+3]=He,this.uint16[cn+4]=tt,this.uint16[cn+5]=ht,this.uint16[cn+6]=Tt,this.uint16[cn+7]=St,this.int16[cn+8]=Nt,this.int16[cn+9]=Yt,this.int16[cn+10]=Ut,this.int16[cn+11]=sn,Z},D}(_i);Y.prototype.bytesPerElement=24,Ir("StructArrayLayout4i4ui4i24",Y);var G=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z,ue,Ee){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,Z,ue,Ee)},D.prototype.emplace=function(Z,ue,Ee,Ie){var He=3*Z;return this.float32[He+0]=ue,this.float32[He+1]=Ee,this.float32[He+2]=Ie,Z},D}(_i);G.prototype.bytesPerElement=12,Ir("StructArrayLayout3f12",G);var C=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z){var ue=this.length;return this.resize(ue+1),this.emplace(ue,Z)},D.prototype.emplace=function(Z,ue){var Ee=1*Z;return this.uint32[Ee+0]=ue,Z},D}(_i);C.prototype.bytesPerElement=4,Ir("StructArrayLayout1ul4",C);var q=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z,ue,Ee,Ie,He,tt,ht,Tt,St){var Nt=this.length;return this.resize(Nt+1),this.emplace(Nt,Z,ue,Ee,Ie,He,tt,ht,Tt,St)},D.prototype.emplace=function(Z,ue,Ee,Ie,He,tt,ht,Tt,St,Nt){var Yt=10*Z,Ut=5*Z;return this.int16[Yt+0]=ue,this.int16[Yt+1]=Ee,this.int16[Yt+2]=Ie,this.int16[Yt+3]=He,this.int16[Yt+4]=tt,this.int16[Yt+5]=ht,this.uint32[Ut+3]=Tt,this.uint16[Yt+8]=St,this.uint16[Yt+9]=Nt,Z},D}(_i);q.prototype.bytesPerElement=20,Ir("StructArrayLayout6i1ul2ui20",q);var $=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z,ue,Ee,Ie,He,tt){var ht=this.length;return this.resize(ht+1),this.emplace(ht,Z,ue,Ee,Ie,He,tt)},D.prototype.emplace=function(Z,ue,Ee,Ie,He,tt,ht){var Tt=6*Z;return this.int16[Tt+0]=ue,this.int16[Tt+1]=Ee,this.int16[Tt+2]=Ie,this.int16[Tt+3]=He,this.int16[Tt+4]=tt,this.int16[Tt+5]=ht,Z},D}(_i);$.prototype.bytesPerElement=12,Ir("StructArrayLayout2i2i2i12",$);var ne=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z,ue,Ee,Ie,He){var tt=this.length;return this.resize(tt+1),this.emplace(tt,Z,ue,Ee,Ie,He)},D.prototype.emplace=function(Z,ue,Ee,Ie,He,tt){var ht=4*Z,Tt=8*Z;return this.float32[ht+0]=ue,this.float32[ht+1]=Ee,this.float32[ht+2]=Ie,this.int16[Tt+6]=He,this.int16[Tt+7]=tt,Z},D}(_i);ne.prototype.bytesPerElement=16,Ir("StructArrayLayout2f1f2i16",ne);var he=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z,ue,Ee,Ie){var He=this.length;return this.resize(He+1),this.emplace(He,Z,ue,Ee,Ie)},D.prototype.emplace=function(Z,ue,Ee,Ie,He){var tt=12*Z,ht=3*Z;return this.uint8[tt+0]=ue,this.uint8[tt+1]=Ee,this.float32[ht+1]=Ie,this.float32[ht+2]=He,Z},D}(_i);he.prototype.bytesPerElement=12,Ir("StructArrayLayout2ub2f12",he);var xe=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z,ue,Ee){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,Z,ue,Ee)},D.prototype.emplace=function(Z,ue,Ee,Ie){var He=3*Z;return this.uint16[He+0]=ue,this.uint16[He+1]=Ee,this.uint16[He+2]=Ie,Z},D}(_i);xe.prototype.bytesPerElement=6,Ir("StructArrayLayout3ui6",xe);var Pe=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z,ue,Ee,Ie,He,tt,ht,Tt,St,Nt,Yt,Ut,sn,cn,Mn,wn,Bn){var Un=this.length;return this.resize(Un+1),this.emplace(Un,Z,ue,Ee,Ie,He,tt,ht,Tt,St,Nt,Yt,Ut,sn,cn,Mn,wn,Bn)},D.prototype.emplace=function(Z,ue,Ee,Ie,He,tt,ht,Tt,St,Nt,Yt,Ut,sn,cn,Mn,wn,Bn,Un){var Xn=24*Z,Kn=12*Z,ur=48*Z;return this.int16[Xn+0]=ue,this.int16[Xn+1]=Ee,this.uint16[Xn+2]=Ie,this.uint16[Xn+3]=He,this.uint32[Kn+2]=tt,this.uint32[Kn+3]=ht,this.uint32[Kn+4]=Tt,this.uint16[Xn+10]=St,this.uint16[Xn+11]=Nt,this.uint16[Xn+12]=Yt,this.float32[Kn+7]=Ut,this.float32[Kn+8]=sn,this.uint8[ur+36]=cn,this.uint8[ur+37]=Mn,this.uint8[ur+38]=wn,this.uint32[Kn+10]=Bn,this.int16[Xn+22]=Un,Z},D}(_i);Pe.prototype.bytesPerElement=48,Ir("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Pe);var Fe=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z,ue,Ee,Ie,He,tt,ht,Tt,St,Nt,Yt,Ut,sn,cn,Mn,wn,Bn,Un,Xn,Kn,ur,wr,xr,Sr,Or,Zr,Nr,Wr){var Ur=this.length;return this.resize(Ur+1),this.emplace(Ur,Z,ue,Ee,Ie,He,tt,ht,Tt,St,Nt,Yt,Ut,sn,cn,Mn,wn,Bn,Un,Xn,Kn,ur,wr,xr,Sr,Or,Zr,Nr,Wr)},D.prototype.emplace=function(Z,ue,Ee,Ie,He,tt,ht,Tt,St,Nt,Yt,Ut,sn,cn,Mn,wn,Bn,Un,Xn,Kn,ur,wr,xr,Sr,Or,Zr,Nr,Wr,Ur){var Fr=34*Z,ci=17*Z;return this.int16[Fr+0]=ue,this.int16[Fr+1]=Ee,this.int16[Fr+2]=Ie,this.int16[Fr+3]=He,this.int16[Fr+4]=tt,this.int16[Fr+5]=ht,this.int16[Fr+6]=Tt,this.int16[Fr+7]=St,this.uint16[Fr+8]=Nt,this.uint16[Fr+9]=Yt,this.uint16[Fr+10]=Ut,this.uint16[Fr+11]=sn,this.uint16[Fr+12]=cn,this.uint16[Fr+13]=Mn,this.uint16[Fr+14]=wn,this.uint16[Fr+15]=Bn,this.uint16[Fr+16]=Un,this.uint16[Fr+17]=Xn,this.uint16[Fr+18]=Kn,this.uint16[Fr+19]=ur,this.uint16[Fr+20]=wr,this.uint16[Fr+21]=xr,this.uint16[Fr+22]=Sr,this.uint32[ci+12]=Or,this.float32[ci+13]=Zr,this.float32[ci+14]=Nr,this.float32[ci+15]=Wr,this.float32[ci+16]=Ur,Z},D}(_i);Fe.prototype.bytesPerElement=68,Ir("StructArrayLayout8i15ui1ul4f68",Fe);var qe=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z){var ue=this.length;return this.resize(ue+1),this.emplace(ue,Z)},D.prototype.emplace=function(Z,ue){var Ee=1*Z;return this.float32[Ee+0]=ue,Z},D}(_i);qe.prototype.bytesPerElement=4,Ir("StructArrayLayout1f4",qe);var Ze=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z,ue,Ee){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,Z,ue,Ee)},D.prototype.emplace=function(Z,ue,Ee,Ie){var He=3*Z;return this.int16[He+0]=ue,this.int16[He+1]=Ee,this.int16[He+2]=Ie,Z},D}(_i);Ze.prototype.bytesPerElement=6,Ir("StructArrayLayout3i6",Ze);var it=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z,ue,Ee){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,Z,ue,Ee)},D.prototype.emplace=function(Z,ue,Ee,Ie){var He=2*Z,tt=4*Z;return this.uint32[He+0]=ue,this.uint16[tt+2]=Ee,this.uint16[tt+3]=Ie,Z},D}(_i);it.prototype.bytesPerElement=8,Ir("StructArrayLayout1ul2ui8",it);var pt=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z,ue){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,Z,ue)},D.prototype.emplace=function(Z,ue,Ee){var Ie=2*Z;return this.uint16[Ie+0]=ue,this.uint16[Ie+1]=Ee,Z},D}(_i);pt.prototype.bytesPerElement=4,Ir("StructArrayLayout2ui4",pt);var vt=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z){var ue=this.length;return this.resize(ue+1),this.emplace(ue,Z)},D.prototype.emplace=function(Z,ue){var Ee=1*Z;return this.uint16[Ee+0]=ue,Z},D}(_i);vt.prototype.bytesPerElement=2,Ir("StructArrayLayout1ui2",vt);var Mt=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(Z,ue,Ee,Ie){var He=this.length;return this.resize(He+1),this.emplace(He,Z,ue,Ee,Ie)},D.prototype.emplace=function(Z,ue,Ee,Ie,He){var tt=4*Z;return this.float32[tt+0]=ue,this.float32[tt+1]=Ee,this.float32[tt+2]=Ie,this.float32[tt+3]=He,Z},D}(_i);Mt.prototype.bytesPerElement=16,Ir("StructArrayLayout4f16",Mt);var Ct=function(A){function D(){A.apply(this,arguments)}A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D;var Z={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return Z.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},Z.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},Z.x1.get=function(){return this._structArray.int16[this._pos2+2]},Z.y1.get=function(){return this._structArray.int16[this._pos2+3]},Z.x2.get=function(){return this._structArray.int16[this._pos2+4]},Z.y2.get=function(){return this._structArray.int16[this._pos2+5]},Z.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Z.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},Z.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Z.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(D.prototype,Z),D}(oo);Ct.prototype.size=20;var Et=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.get=function(Z){return new Ct(this,Z)},D}(q);Ir("CollisionBoxArray",Et);var jt=function(A){function D(){A.apply(this,arguments)}A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D;var Z={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return Z.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Z.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Z.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Z.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},Z.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},Z.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Z.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},Z.segment.get=function(){return this._structArray.uint16[this._pos2+10]},Z.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},Z.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},Z.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},Z.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},Z.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},Z.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},Z.placedOrientation.set=function(ue){this._structArray.uint8[this._pos1+37]=ue},Z.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},Z.hidden.set=function(ue){this._structArray.uint8[this._pos1+38]=ue},Z.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},Z.crossTileID.set=function(ue){this._structArray.uint32[this._pos4+10]=ue},Z.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(D.prototype,Z),D}(oo);jt.prototype.size=48;var zt=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.get=function(Z){return new jt(this,Z)},D}(Pe);Ir("PlacedSymbolArray",zt);var Qt=function(A){function D(){A.apply(this,arguments)}A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D;var Z={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return Z.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Z.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Z.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},Z.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},Z.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},Z.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},Z.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},Z.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},Z.key.get=function(){return this._structArray.uint16[this._pos2+8]},Z.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Z.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},Z.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},Z.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},Z.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},Z.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},Z.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},Z.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},Z.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},Z.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},Z.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},Z.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},Z.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},Z.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},Z.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},Z.crossTileID.set=function(ue){this._structArray.uint32[this._pos4+12]=ue},Z.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},Z.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},Z.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},Z.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(D.prototype,Z),D}(oo);Qt.prototype.size=68;var Wt=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.get=function(Z){return new Qt(this,Z)},D}(Fe);Ir("SymbolInstanceArray",Wt);var Vt=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.getoffsetX=function(Z){return this.float32[1*Z+0]},D}(qe);Ir("GlyphOffsetArray",Vt);var gn=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.getx=function(Z){return this.int16[3*Z+0]},D.prototype.gety=function(Z){return this.int16[3*Z+1]},D.prototype.gettileUnitDistanceFromAnchor=function(Z){return this.int16[3*Z+2]},D}(Ze);Ir("SymbolLineVertexArray",gn);var xn=function(A){function D(){A.apply(this,arguments)}A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D;var Z={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return Z.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},Z.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Z.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(D.prototype,Z),D}(oo);xn.prototype.size=8;var On=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.get=function(Z){return new xn(this,Z)},D}(it);Ir("FeatureIndexArray",On);var Dn=zi([{name:"a_pos",components:2,type:"Int16"}],4).members,Wn=function(A){A===void 0&&(A=[]),this.segments=A};function ar(A,D){return 256*(A=u(Math.floor(A),0,255))+u(Math.floor(D),0,255)}Wn.prototype.prepareSegment=function(A,D,Z,ue){var Ee=this.segments[this.segments.length-1];return A>Wn.MAX_VERTEX_ARRAY_LENGTH&&E("Max vertices per segment is "+Wn.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+A),(!Ee||Ee.vertexLength+A>Wn.MAX_VERTEX_ARRAY_LENGTH||Ee.sortKey!==ue)&&(Ee={vertexOffset:D.length,primitiveOffset:Z.length,vertexLength:0,primitiveLength:0},ue!==void 0&&(Ee.sortKey=ue),this.segments.push(Ee)),Ee},Wn.prototype.get=function(){return this.segments},Wn.prototype.destroy=function(){for(var A=0,D=this.segments;A<D.length;A+=1){var Z=D[A];for(var ue in Z.vaos)Z.vaos[ue].destroy()}},Wn.simpleSegment=function(A,D,Z,ue){return new Wn([{vertexOffset:A,primitiveOffset:D,vertexLength:Z,primitiveLength:ue,vaos:{},sortKey:0}])},Wn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ir("SegmentVector",Wn);var vr=zi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Jn=_(function(A){A.exports=function(D,Z){var ue,Ee,Ie,He,tt,ht,Tt,St;for(ue=3&D.length,Ee=D.length-ue,Ie=Z,tt=3432918353,ht=461845907,St=0;St<Ee;)Tt=255&D.charCodeAt(St)|(255&D.charCodeAt(++St))<<8|(255&D.charCodeAt(++St))<<16|(255&D.charCodeAt(++St))<<24,++St,Ie=27492+(65535&(He=5*(65535&(Ie=(Ie^=Tt=(65535&(Tt=(Tt=(65535&Tt)*tt+(((Tt>>>16)*tt&65535)<<16)&4294967295)<<15|Tt>>>17))*ht+(((Tt>>>16)*ht&65535)<<16)&4294967295)<<13|Ie>>>19))+((5*(Ie>>>16)&65535)<<16)&4294967295))+((58964+(He>>>16)&65535)<<16);switch(Tt=0,ue){case 3:Tt^=(255&D.charCodeAt(St+2))<<16;case 2:Tt^=(255&D.charCodeAt(St+1))<<8;case 1:Ie^=Tt=(65535&(Tt=(Tt=(65535&(Tt^=255&D.charCodeAt(St)))*tt+(((Tt>>>16)*tt&65535)<<16)&4294967295)<<15|Tt>>>17))*ht+(((Tt>>>16)*ht&65535)<<16)&4294967295}return Ie^=D.length,Ie=2246822507*(65535&(Ie^=Ie>>>16))+((2246822507*(Ie>>>16)&65535)<<16)&4294967295,Ie=3266489909*(65535&(Ie^=Ie>>>13))+((3266489909*(Ie>>>16)&65535)<<16)&4294967295,(Ie^=Ie>>>16)>>>0}}),dr=_(function(A){A.exports=function(D,Z){for(var ue,Ee=D.length,Ie=Z^Ee,He=0;Ee>=4;)ue=1540483477*(65535&(ue=255&D.charCodeAt(He)|(255&D.charCodeAt(++He))<<8|(255&D.charCodeAt(++He))<<16|(255&D.charCodeAt(++He))<<24))+((1540483477*(ue>>>16)&65535)<<16),Ie=1540483477*(65535&Ie)+((1540483477*(Ie>>>16)&65535)<<16)^(ue=1540483477*(65535&(ue^=ue>>>24))+((1540483477*(ue>>>16)&65535)<<16)),Ee-=4,++He;switch(Ee){case 3:Ie^=(255&D.charCodeAt(He+2))<<16;case 2:Ie^=(255&D.charCodeAt(He+1))<<8;case 1:Ie=1540483477*(65535&(Ie^=255&D.charCodeAt(He)))+((1540483477*(Ie>>>16)&65535)<<16)}return Ie=1540483477*(65535&(Ie^=Ie>>>13))+((1540483477*(Ie>>>16)&65535)<<16),(Ie^=Ie>>>15)>>>0}}),kr=Jn,Rr=Jn,rr=dr;kr.murmur3=Rr,kr.murmur2=rr;var pr=function(){this.ids=[],this.positions=[],this.indexed=!1};pr.prototype.add=function(A,D,Z,ue){this.ids.push(mr(A)),this.positions.push(D,Z,ue)},pr.prototype.getPositions=function(A){for(var D=mr(A),Z=0,ue=this.ids.length-1;Z<ue;){var Ee=Z+ue>>1;this.ids[Ee]>=D?ue=Ee:Z=Ee+1}for(var Ie=[];this.ids[Z]===D;){var He=this.positions[3*Z],tt=this.positions[3*Z+1],ht=this.positions[3*Z+2];Ie.push({index:He,start:tt,end:ht}),Z++}return Ie},pr.serialize=function(A,D){var Z=new Float64Array(A.ids),ue=new Uint32Array(A.positions);return Dr(Z,ue,0,Z.length-1),D&&D.push(Z.buffer,ue.buffer),{ids:Z,positions:ue}},pr.deserialize=function(A){var D=new pr;return D.ids=A.ids,D.positions=A.positions,D.indexed=!0,D};var Er=Math.pow(2,53)-1;function mr(A){var D=+A;return!isNaN(D)&&D<=Er?D:kr(String(A))}function Dr(A,D,Z,ue){for(;Z<ue;){for(var Ee=A[Z+ue>>1],Ie=Z-1,He=ue+1;;){do Ie++;while(A[Ie]<Ee);do He--;while(A[He]>Ee);if(Ie>=He)break;jr(A,Ie,He),jr(D,3*Ie,3*He),jr(D,3*Ie+1,3*He+1),jr(D,3*Ie+2,3*He+2)}He-Z<ue-He?(Dr(A,D,Z,He),Z=He+1):(Dr(A,D,He+1,ue),ue=He)}}function jr(A,D,Z){var ue=A[D];A[D]=A[Z],A[Z]=ue}Ir("FeaturePositionMap",pr);var Xr=function(A,D){this.gl=A.gl,this.location=D},Kr=function(A){function D(Z,ue){A.call(this,Z,ue),this.current=0}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(Z){this.current!==Z&&(this.current=Z,this.gl.uniform1i(this.location,Z))},D}(Xr),ni=function(A){function D(Z,ue){A.call(this,Z,ue),this.current=0}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(Z){this.current!==Z&&(this.current=Z,this.gl.uniform1f(this.location,Z))},D}(Xr),ai=function(A){function D(Z,ue){A.call(this,Z,ue),this.current=[0,0]}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(Z){Z[0]===this.current[0]&&Z[1]===this.current[1]||(this.current=Z,this.gl.uniform2f(this.location,Z[0],Z[1]))},D}(Xr),Li=function(A){function D(Z,ue){A.call(this,Z,ue),this.current=[0,0,0]}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(Z){Z[0]===this.current[0]&&Z[1]===this.current[1]&&Z[2]===this.current[2]||(this.current=Z,this.gl.uniform3f(this.location,Z[0],Z[1],Z[2]))},D}(Xr),Ki=function(A){function D(Z,ue){A.call(this,Z,ue),this.current=[0,0,0,0]}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(Z){Z[0]===this.current[0]&&Z[1]===this.current[1]&&Z[2]===this.current[2]&&Z[3]===this.current[3]||(this.current=Z,this.gl.uniform4f(this.location,Z[0],Z[1],Z[2],Z[3]))},D}(Xr),Pa=function(A){function D(Z,ue){A.call(this,Z,ue),this.current=zn.transparent}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(Z){Z.r===this.current.r&&Z.g===this.current.g&&Z.b===this.current.b&&Z.a===this.current.a||(this.current=Z,this.gl.uniform4f(this.location,Z.r,Z.g,Z.b,Z.a))},D}(Xr),pa=new Float32Array(16),Ma=function(A){function D(Z,ue){A.call(this,Z,ue),this.current=pa}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(Z){if(Z[12]!==this.current[12]||Z[0]!==this.current[0])return this.current=Z,void this.gl.uniformMatrix4fv(this.location,!1,Z);for(var ue=1;ue<16;ue++)if(Z[ue]!==this.current[ue]){this.current=Z,this.gl.uniformMatrix4fv(this.location,!1,Z);break}},D}(Xr);function Ri(A){return[ar(255*A.r,255*A.g),ar(255*A.b,255*A.a)]}var si=function(A,D,Z){this.value=A,this.uniformNames=D.map(function(ue){return"u_"+ue}),this.type=Z};si.prototype.setUniform=function(A,D,Z){A.set(Z.constantOr(this.value))},si.prototype.getBinding=function(A,D,Z){return this.type==="color"?new Pa(A,D):new ni(A,D)};var Hi=function(A,D){this.uniformNames=D.map(function(Z){return"u_"+Z}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Hi.prototype.setConstantPatternPositions=function(A,D){this.pixelRatioFrom=D.pixelRatio,this.pixelRatioTo=A.pixelRatio,this.patternFrom=D.tlbr,this.patternTo=A.tlbr},Hi.prototype.setUniform=function(A,D,Z,ue){var Ee=ue==="u_pattern_to"?this.patternTo:ue==="u_pattern_from"?this.patternFrom:ue==="u_pixel_ratio_to"?this.pixelRatioTo:ue==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Ee&&A.set(Ee)},Hi.prototype.getBinding=function(A,D,Z){return Z.substr(0,9)==="u_pattern"?new Ki(A,D):new ni(A,D)};var wi=function(A,D,Z,ue){this.expression=A,this.type=Z,this.maxValue=0,this.paintVertexAttributes=D.map(function(Ee){return{name:"a_"+Ee,type:"Float32",components:Z==="color"?2:1,offset:0}}),this.paintVertexArray=new ue};wi.prototype.populatePaintArray=function(A,D,Z,ue,Ee){var Ie=this.paintVertexArray.length,He=this.expression.evaluate(new ii(0),D,{},ue,[],Ee);this.paintVertexArray.resize(A),this._setPaintValue(Ie,A,He)},wi.prototype.updatePaintArray=function(A,D,Z,ue){var Ee=this.expression.evaluate({zoom:0},Z,ue);this._setPaintValue(A,D,Ee)},wi.prototype._setPaintValue=function(A,D,Z){if(this.type==="color")for(var ue=Ri(Z),Ee=A;Ee<D;Ee++)this.paintVertexArray.emplace(Ee,ue[0],ue[1]);else{for(var Ie=A;Ie<D;Ie++)this.paintVertexArray.emplace(Ie,Z);this.maxValue=Math.max(this.maxValue,Math.abs(Z))}},wi.prototype.upload=function(A){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=A.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},wi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var hi=function(A,D,Z,ue,Ee,Ie){this.expression=A,this.uniformNames=D.map(function(He){return"u_"+He+"_t"}),this.type=Z,this.useIntegerZoom=ue,this.zoom=Ee,this.maxValue=0,this.paintVertexAttributes=D.map(function(He){return{name:"a_"+He,type:"Float32",components:Z==="color"?4:2,offset:0}}),this.paintVertexArray=new Ie};hi.prototype.populatePaintArray=function(A,D,Z,ue,Ee){var Ie=this.expression.evaluate(new ii(this.zoom),D,{},ue,[],Ee),He=this.expression.evaluate(new ii(this.zoom+1),D,{},ue,[],Ee),tt=this.paintVertexArray.length;this.paintVertexArray.resize(A),this._setPaintValue(tt,A,Ie,He)},hi.prototype.updatePaintArray=function(A,D,Z,ue){var Ee=this.expression.evaluate({zoom:this.zoom},Z,ue),Ie=this.expression.evaluate({zoom:this.zoom+1},Z,ue);this._setPaintValue(A,D,Ee,Ie)},hi.prototype._setPaintValue=function(A,D,Z,ue){if(this.type==="color")for(var Ee=Ri(Z),Ie=Ri(ue),He=A;He<D;He++)this.paintVertexArray.emplace(He,Ee[0],Ee[1],Ie[0],Ie[1]);else{for(var tt=A;tt<D;tt++)this.paintVertexArray.emplace(tt,Z,ue);this.maxValue=Math.max(this.maxValue,Math.abs(Z),Math.abs(ue))}},hi.prototype.upload=function(A){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=A.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},hi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},hi.prototype.setUniform=function(A,D){var Z=this.useIntegerZoom?Math.floor(D.zoom):D.zoom,ue=u(this.expression.interpolationFactor(Z,this.zoom,this.zoom+1),0,1);A.set(ue)},hi.prototype.getBinding=function(A,D,Z){return new ni(A,D)};var qi=function(A,D,Z,ue,Ee,Ie){this.expression=A,this.type=D,this.useIntegerZoom=Z,this.zoom=ue,this.layerId=Ie,this.zoomInPaintVertexArray=new Ee,this.zoomOutPaintVertexArray=new Ee};qi.prototype.populatePaintArray=function(A,D,Z){var ue=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(A),this.zoomOutPaintVertexArray.resize(A),this._setPaintValues(ue,A,D.patterns&&D.patterns[this.layerId],Z)},qi.prototype.updatePaintArray=function(A,D,Z,ue,Ee){this._setPaintValues(A,D,Z.patterns&&Z.patterns[this.layerId],Ee)},qi.prototype._setPaintValues=function(A,D,Z,ue){if(ue&&Z){var Ee=Z.min,Ie=Z.mid,He=Z.max,tt=ue[Ee],ht=ue[Ie],Tt=ue[He];if(tt&&ht&&Tt)for(var St=A;St<D;St++)this.zoomInPaintVertexArray.emplace(St,ht.tl[0],ht.tl[1],ht.br[0],ht.br[1],tt.tl[0],tt.tl[1],tt.br[0],tt.br[1],ht.pixelRatio,tt.pixelRatio),this.zoomOutPaintVertexArray.emplace(St,ht.tl[0],ht.tl[1],ht.br[0],ht.br[1],Tt.tl[0],Tt.tl[1],Tt.br[0],Tt.br[1],ht.pixelRatio,Tt.pixelRatio)}},qi.prototype.upload=function(A){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=A.createVertexBuffer(this.zoomInPaintVertexArray,vr.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=A.createVertexBuffer(this.zoomOutPaintVertexArray,vr.members,this.expression.isStateDependent))},qi.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Qi=function(A,D,Z){this.binders={},this._buffers=[];var ue=[];for(var Ee in A.paint._values)if(Z(Ee)){var Ie=A.paint.get(Ee);if(Ie instanceof Ei&&Zo(Ie.property.specification)){var He=al(Ee,A.type),tt=Ie.value,ht=Ie.property.specification.type,Tt=Ie.property.useIntegerZoom,St=Ie.property.specification["property-type"],Nt=St==="cross-faded"||St==="cross-faded-data-driven";if(tt.kind==="constant")this.binders[Ee]=Nt?new Hi(tt.value,He):new si(tt.value,He,ht),ue.push("/u_"+Ee);else if(tt.kind==="source"||Nt){var Yt=ol(Ee,ht,"source");this.binders[Ee]=Nt?new qi(tt,ht,Tt,D,Yt,A.id):new wi(tt,He,ht,Yt),ue.push("/a_"+Ee)}else{var Ut=ol(Ee,ht,"composite");this.binders[Ee]=new hi(tt,He,ht,Tt,D,Ut),ue.push("/z_"+Ee)}}}this.cacheKey=ue.sort().join("")};Qi.prototype.getMaxValue=function(A){var D=this.binders[A];return D instanceof wi||D instanceof hi?D.maxValue:0},Qi.prototype.populatePaintArrays=function(A,D,Z,ue,Ee){for(var Ie in this.binders){var He=this.binders[Ie];(He instanceof wi||He instanceof hi||He instanceof qi)&&He.populatePaintArray(A,D,Z,ue,Ee)}},Qi.prototype.setConstantPatternPositions=function(A,D){for(var Z in this.binders){var ue=this.binders[Z];ue instanceof Hi&&ue.setConstantPatternPositions(A,D)}},Qi.prototype.updatePaintArrays=function(A,D,Z,ue,Ee){var Ie=!1;for(var He in A)for(var tt=0,ht=D.getPositions(He);tt<ht.length;tt+=1){var Tt=ht[tt],St=Z.feature(Tt.index);for(var Nt in this.binders){var Yt=this.binders[Nt];if((Yt instanceof wi||Yt instanceof hi||Yt instanceof qi)&&Yt.expression.isStateDependent===!0){var Ut=ue.paint.get(Nt);Yt.expression=Ut.value,Yt.updatePaintArray(Tt.start,Tt.end,St,A[He],Ee),Ie=!0}}}return Ie},Qi.prototype.defines=function(){var A=[];for(var D in this.binders){var Z=this.binders[D];(Z instanceof si||Z instanceof Hi)&&A.push.apply(A,Z.uniformNames.map(function(ue){return"#define HAS_UNIFORM_"+ue}))}return A},Qi.prototype.getBinderAttributes=function(){var A=[];for(var D in this.binders){var Z=this.binders[D];if(Z instanceof wi||Z instanceof hi)for(var ue=0;ue<Z.paintVertexAttributes.length;ue++)A.push(Z.paintVertexAttributes[ue].name);else if(Z instanceof qi)for(var Ee=0;Ee<vr.members.length;Ee++)A.push(vr.members[Ee].name)}return A},Qi.prototype.getBinderUniforms=function(){var A=[];for(var D in this.binders){var Z=this.binders[D];if(Z instanceof si||Z instanceof Hi||Z instanceof hi)for(var ue=0,Ee=Z.uniformNames;ue<Ee.length;ue+=1){var Ie=Ee[ue];A.push(Ie)}}return A},Qi.prototype.getPaintVertexBuffers=function(){return this._buffers},Qi.prototype.getUniforms=function(A,D){var Z=[];for(var ue in this.binders){var Ee=this.binders[ue];if(Ee instanceof si||Ee instanceof Hi||Ee instanceof hi)for(var Ie=0,He=Ee.uniformNames;Ie<He.length;Ie+=1){var tt=He[Ie];if(D[tt]){var ht=Ee.getBinding(A,D[tt],tt);Z.push({name:tt,property:ue,binding:ht})}}}return Z},Qi.prototype.setUniforms=function(A,D,Z,ue){for(var Ee=0,Ie=D;Ee<Ie.length;Ee+=1){var He=Ie[Ee],tt=He.name,ht=He.property,Tt=He.binding;this.binders[ht].setUniform(Tt,ue,Z.get(ht),tt)}},Qi.prototype.updatePaintBuffers=function(A){for(var D in this._buffers=[],this.binders){var Z=this.binders[D];if(A&&Z instanceof qi){var ue=A.fromScale===2?Z.zoomInPaintVertexBuffer:Z.zoomOutPaintVertexBuffer;ue&&this._buffers.push(ue)}else(Z instanceof wi||Z instanceof hi)&&Z.paintVertexBuffer&&this._buffers.push(Z.paintVertexBuffer)}},Qi.prototype.upload=function(A){for(var D in this.binders){var Z=this.binders[D];(Z instanceof wi||Z instanceof hi||Z instanceof qi)&&Z.upload(A)}this.updatePaintBuffers()},Qi.prototype.destroy=function(){for(var A in this.binders){var D=this.binders[A];(D instanceof wi||D instanceof hi||D instanceof qi)&&D.destroy()}};var la=function(A,D,Z){Z===void 0&&(Z=function(){return!0}),this.programConfigurations={};for(var ue=0,Ee=A;ue<Ee.length;ue+=1){var Ie=Ee[ue];this.programConfigurations[Ie.id]=new Qi(Ie,D,Z)}this.needsUpload=!1,this._featureMap=new pr,this._bufferOffset=0};function al(A,D){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[A]||[A.replace(D+"-","").replace(/-/g,"_")]}function ol(A,D,Z){var ue={color:{source:ft,composite:Mt},number:{source:qe,composite:ft}},Ee=function(Ie){return{"line-pattern":{source:N,composite:N},"fill-pattern":{source:N,composite:N},"fill-extrusion-pattern":{source:N,composite:N}}[Ie]}(A);return Ee&&Ee[Z]||ue[D][Z]}la.prototype.populatePaintArrays=function(A,D,Z,ue,Ee,Ie){for(var He in this.programConfigurations)this.programConfigurations[He].populatePaintArrays(A,D,ue,Ee,Ie);D.id!==void 0&&this._featureMap.add(D.id,Z,this._bufferOffset,A),this._bufferOffset=A,this.needsUpload=!0},la.prototype.updatePaintArrays=function(A,D,Z,ue){for(var Ee=0,Ie=Z;Ee<Ie.length;Ee+=1){var He=Ie[Ee];this.needsUpload=this.programConfigurations[He.id].updatePaintArrays(A,this._featureMap,D,He,ue)||this.needsUpload}},la.prototype.get=function(A){return this.programConfigurations[A]},la.prototype.upload=function(A){if(this.needsUpload){for(var D in this.programConfigurations)this.programConfigurations[D].upload(A);this.needsUpload=!1}},la.prototype.destroy=function(){for(var A in this.programConfigurations)this.programConfigurations[A].destroy()},Ir("ConstantBinder",si),Ir("CrossFadedConstantBinder",Hi),Ir("SourceExpressionBinder",wi),Ir("CrossFadedCompositeBinder",qi),Ir("CompositeExpressionBinder",hi),Ir("ProgramConfiguration",Qi,{omit:["_buffers"]}),Ir("ProgramConfigurationSet",la);var pi=8192,Jl=Math.pow(2,14)-1,Sl=-Jl-1;function ts(A){for(var D=pi/A.extent,Z=A.loadGeometry(),ue=0;ue<Z.length;ue++)for(var Ee=Z[ue],Ie=0;Ie<Ee.length;Ie++){var He=Ee[Ie],tt=Math.round(He.x*D),ht=Math.round(He.y*D);He.x=u(tt,Sl,Jl),He.y=u(ht,Sl,Jl),(tt<He.x||tt>He.x+1||ht<He.y||ht>He.y+1)&&E("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return Z}function Gi(A,D){return{type:A.type,id:A.id,properties:A.properties,geometry:D?ts(A):[]}}function so(A,D,Z,ue,Ee){A.emplaceBack(2*D+(ue+1)/2,2*Z+(Ee+1)/2)}var xa=function(A){this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(D){return D.id}),this.index=A.index,this.hasPattern=!1,this.layoutVertexArray=new bs,this.indexArray=new xe,this.segments=new Wn,this.programConfigurations=new la(A.layers,A.zoom),this.stateDependentLayerIds=this.layers.filter(function(D){return D.isStateDependent()}).map(function(D){return D.id})};function Ju(A,D){for(var Z=0;Z<A.length;Z++)if(Kl(D,A[Z]))return!0;for(var ue=0;ue<D.length;ue++)if(Kl(A,D[ue]))return!0;return!!zu(A,D)}function Qh(A,D,Z){return!!Kl(A,D)||!!Ru(D,A,Z)}function Ff(A,D){if(A.length===1)return Nf(D,A[0]);for(var Z=0;Z<D.length;Z++)for(var ue=D[Z],Ee=0;Ee<ue.length;Ee++)if(Kl(A,ue[Ee]))return!0;for(var Ie=0;Ie<A.length;Ie++)if(Nf(D,A[Ie]))return!0;for(var He=0;He<D.length;He++)if(zu(A,D[He]))return!0;return!1}function $h(A,D,Z){if(A.length>1){if(zu(A,D))return!0;for(var ue=0;ue<D.length;ue++)if(Ru(D[ue],A,Z))return!0}for(var Ee=0;Ee<A.length;Ee++)if(Ru(A[Ee],D,Z))return!0;return!1}function zu(A,D){if(A.length===0||D.length===0)return!1;for(var Z=0;Z<A.length-1;Z++)for(var ue=A[Z],Ee=A[Z+1],Ie=0;Ie<D.length-1;Ie++)if(ep(ue,Ee,D[Ie],D[Ie+1]))return!0;return!1}function ep(A,D,Z,ue){return P(A,Z,ue)!==P(D,Z,ue)&&P(A,D,Z)!==P(A,D,ue)}function Ru(A,D,Z){var ue=Z*Z;if(D.length===1)return A.distSqr(D[0])<ue;for(var Ee=1;Ee<D.length;Ee++)if(Bf(A,D[Ee-1],D[Ee])<ue)return!0;return!1}function Bf(A,D,Z){var ue=D.distSqr(Z);if(ue===0)return A.distSqr(D);var Ee=((A.x-D.x)*(Z.x-D.x)+(A.y-D.y)*(Z.y-D.y))/ue;return Ee<0?A.distSqr(D):Ee>1?A.distSqr(Z):A.distSqr(Z.sub(D)._mult(Ee)._add(D))}function Nf(A,D){for(var Z,ue,Ee,Ie=!1,He=0;He<A.length;He++)for(var tt=0,ht=(Z=A[He]).length-1;tt<Z.length;ht=tt++)ue=Z[tt],Ee=Z[ht],ue.y>D.y!=Ee.y>D.y&&D.x<(Ee.x-ue.x)*(D.y-ue.y)/(Ee.y-ue.y)+ue.x&&(Ie=!Ie);return Ie}function Kl(A,D){for(var Z=!1,ue=0,Ee=A.length-1;ue<A.length;Ee=ue++){var Ie=A[ue],He=A[Ee];Ie.y>D.y!=He.y>D.y&&D.x<(He.x-Ie.x)*(D.y-Ie.y)/(He.y-Ie.y)+Ie.x&&(Z=!Z)}return Z}function cv(A,D,Z){var ue=Z[0],Ee=Z[2];if(A.x<ue.x&&D.x<ue.x||A.x>Ee.x&&D.x>Ee.x||A.y<ue.y&&D.y<ue.y||A.y>Ee.y&&D.y>Ee.y)return!1;var Ie=P(A,D,Z[0]);return Ie!==P(A,D,Z[1])||Ie!==P(A,D,Z[2])||Ie!==P(A,D,Z[3])}function Xc(A,D,Z){var ue=D.paint.get(A).value;return ue.kind==="constant"?ue.value:Z.programConfigurations.get(D.id).getMaxValue(A)}function jf(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])}function Uf(A,D,Z,ue,Ee){if(!D[0]&&!D[1])return A;var Ie=t.convert(D)._mult(Ee);Z==="viewport"&&Ie._rotate(-ue);for(var He=[],tt=0;tt<A.length;tt++){var ht=A[tt];He.push(ht.sub(Ie))}return He}xa.prototype.populate=function(A,D,Z){var ue=this.layers[0],Ee=[],Ie=null;ue.type==="circle"&&(Ie=ue.layout.get("circle-sort-key"));for(var He=0,tt=A;He<tt.length;He+=1){var ht=tt[He],Tt=ht.feature,St=ht.id,Nt=ht.index,Yt=ht.sourceLayerIndex,Ut=this.layers[0]._featureFilter.needGeometry,sn=Gi(Tt,Ut);if(this.layers[0]._featureFilter.filter(new ii(this.zoom),sn,Z)){var cn=Ie?Ie.evaluate(sn,{},Z):void 0,Mn={id:St,properties:Tt.properties,type:Tt.type,sourceLayerIndex:Yt,index:Nt,geometry:Ut?sn.geometry:ts(Tt),patterns:{},sortKey:cn};Ee.push(Mn)}}Ie&&Ee.sort(function(Sr,Or){return Sr.sortKey-Or.sortKey});for(var wn=0,Bn=Ee;wn<Bn.length;wn+=1){var Un=Bn[wn],Xn=Un,Kn=Xn.geometry,ur=Xn.index,wr=Xn.sourceLayerIndex,xr=A[ur].feature;this.addFeature(Un,Kn,ur,Z),D.featureIndex.insert(xr,Kn,ur,wr,this.index)}},xa.prototype.update=function(A,D,Z){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,D,this.stateDependentLayers,Z)},xa.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},xa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},xa.prototype.upload=function(A){this.uploaded||(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,Dn),this.indexBuffer=A.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(A),this.uploaded=!0},xa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},xa.prototype.addFeature=function(A,D,Z,ue){for(var Ee=0,Ie=D;Ee<Ie.length;Ee+=1)for(var He=0,tt=Ie[Ee];He<tt.length;He+=1){var ht=tt[He],Tt=ht.x,St=ht.y;if(!(Tt<0||Tt>=pi||St<0||St>=pi)){var Nt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,A.sortKey),Yt=Nt.vertexLength;so(this.layoutVertexArray,Tt,St,-1,-1),so(this.layoutVertexArray,Tt,St,1,-1),so(this.layoutVertexArray,Tt,St,1,1),so(this.layoutVertexArray,Tt,St,-1,1),this.indexArray.emplaceBack(Yt,Yt+1,Yt+2),this.indexArray.emplaceBack(Yt,Yt+3,Yt+2),Nt.vertexLength+=4,Nt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,Z,{},ue)},Ir("CircleBucket",xa,{omit:["layers"]});var fv=new na({"circle-sort-key":new Hr(Qe.layout_circle["circle-sort-key"])}),hv={paint:new na({"circle-radius":new Hr(Qe.paint_circle["circle-radius"]),"circle-color":new Hr(Qe.paint_circle["circle-color"]),"circle-blur":new Hr(Qe.paint_circle["circle-blur"]),"circle-opacity":new Hr(Qe.paint_circle["circle-opacity"]),"circle-translate":new zr(Qe.paint_circle["circle-translate"]),"circle-translate-anchor":new zr(Qe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new zr(Qe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new zr(Qe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Hr(Qe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Hr(Qe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Hr(Qe.paint_circle["circle-stroke-opacity"])}),layout:fv},_s=typeof Float32Array<"u"?Float32Array:Array;function tp(A){return A[0]=1,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=1,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[10]=1,A[11]=0,A[12]=0,A[13]=0,A[14]=0,A[15]=1,A}function Sd(A,D,Z){var ue=D[0],Ee=D[1],Ie=D[2],He=D[3],tt=D[4],ht=D[5],Tt=D[6],St=D[7],Nt=D[8],Yt=D[9],Ut=D[10],sn=D[11],cn=D[12],Mn=D[13],wn=D[14],Bn=D[15],Un=Z[0],Xn=Z[1],Kn=Z[2],ur=Z[3];return A[0]=Un*ue+Xn*tt+Kn*Nt+ur*cn,A[1]=Un*Ee+Xn*ht+Kn*Yt+ur*Mn,A[2]=Un*Ie+Xn*Tt+Kn*Ut+ur*wn,A[3]=Un*He+Xn*St+Kn*sn+ur*Bn,Un=Z[4],Xn=Z[5],Kn=Z[6],ur=Z[7],A[4]=Un*ue+Xn*tt+Kn*Nt+ur*cn,A[5]=Un*Ee+Xn*ht+Kn*Yt+ur*Mn,A[6]=Un*Ie+Xn*Tt+Kn*Ut+ur*wn,A[7]=Un*He+Xn*St+Kn*sn+ur*Bn,Un=Z[8],Xn=Z[9],Kn=Z[10],ur=Z[11],A[8]=Un*ue+Xn*tt+Kn*Nt+ur*cn,A[9]=Un*Ee+Xn*ht+Kn*Yt+ur*Mn,A[10]=Un*Ie+Xn*Tt+Kn*Ut+ur*wn,A[11]=Un*He+Xn*St+Kn*sn+ur*Bn,Un=Z[12],Xn=Z[13],Kn=Z[14],ur=Z[15],A[12]=Un*ue+Xn*tt+Kn*Nt+ur*cn,A[13]=Un*Ee+Xn*ht+Kn*Yt+ur*Mn,A[14]=Un*Ie+Xn*Tt+Kn*Ut+ur*wn,A[15]=Un*He+Xn*St+Kn*sn+ur*Bn,A}Math.hypot||(Math.hypot=function(){for(var A=arguments,D=0,Z=arguments.length;Z--;)D+=A[Z]*A[Z];return Math.sqrt(D)});var pv=Sd,Vf,dv=function(A,D,Z){return A[0]=D[0]-Z[0],A[1]=D[1]-Z[1],A[2]=D[2]-Z[2],A};function Hf(A,D,Z){var ue=D[0],Ee=D[1],Ie=D[2],He=D[3];return A[0]=Z[0]*ue+Z[4]*Ee+Z[8]*Ie+Z[12]*He,A[1]=Z[1]*ue+Z[5]*Ee+Z[9]*Ie+Z[13]*He,A[2]=Z[2]*ue+Z[6]*Ee+Z[10]*Ie+Z[14]*He,A[3]=Z[3]*ue+Z[7]*Ee+Z[11]*Ie+Z[15]*He,A}Vf=new _s(3),_s!=Float32Array&&(Vf[0]=0,Vf[1]=0,Vf[2]=0),function(){var A=new _s(4);_s!=Float32Array&&(A[0]=0,A[1]=0,A[2]=0,A[3]=0)}();var gv=function(A){var D=A[0],Z=A[1];return D*D+Z*Z},vv=(function(){var A=new _s(2);_s!=Float32Array&&(A[0]=0,A[1]=0)}(),function(A){function D(Z){A.call(this,Z,hv)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(Z){return new xa(Z)},D.prototype.queryRadius=function(Z){var ue=Z;return Xc("circle-radius",this,ue)+Xc("circle-stroke-width",this,ue)+jf(this.paint.get("circle-translate"))},D.prototype.queryIntersectsFeature=function(Z,ue,Ee,Ie,He,tt,ht,Tt){for(var St=Uf(Z,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),tt.angle,ht),Nt=this.paint.get("circle-radius").evaluate(ue,Ee)+this.paint.get("circle-stroke-width").evaluate(ue,Ee),Yt=this.paint.get("circle-pitch-alignment")==="map",Ut=Yt?St:function(wr,xr){return wr.map(function(Sr){return Ed(Sr,xr)})}(St,Tt),sn=Yt?Nt*ht:Nt,cn=0,Mn=Ie;cn<Mn.length;cn+=1)for(var wn=0,Bn=Mn[cn];wn<Bn.length;wn+=1){var Un=Bn[wn],Xn=Yt?Un:Ed(Un,Tt),Kn=sn,ur=Hf([],[Un.x,Un.y,0,1],Tt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Kn*=ur[3]/tt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Kn*=tt.cameraToCenterDistance/ur[3]),Qh(Ut,Xn,Kn))return!0}return!1},D}(mi));function Ed(A,D){var Z=Hf([],[A.x,A.y,0,1],D);return new t(Z[0]/Z[3],Z[1]/Z[3])}var Ld=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D}(xa);function np(A,D,Z,ue){var Ee=D.width,Ie=D.height;if(ue){if(ue instanceof Uint8ClampedArray)ue=new Uint8Array(ue.buffer);else if(ue.length!==Ee*Ie*Z)throw new RangeError("mismatched image size")}else ue=new Uint8Array(Ee*Ie*Z);return A.width=Ee,A.height=Ie,A.data=ue,A}function Cd(A,D,Z){var ue=D.width,Ee=D.height;if(ue!==A.width||Ee!==A.height){var Ie=np({},{width:ue,height:Ee},Z);rp(A,Ie,{x:0,y:0},{x:0,y:0},{width:Math.min(A.width,ue),height:Math.min(A.height,Ee)},Z),A.width=ue,A.height=Ee,A.data=Ie.data}}function rp(A,D,Z,ue,Ee,Ie){if(Ee.width===0||Ee.height===0)return D;if(Ee.width>A.width||Ee.height>A.height||Z.x>A.width-Ee.width||Z.y>A.height-Ee.height)throw new RangeError("out of range source coordinates for image copy");if(Ee.width>D.width||Ee.height>D.height||ue.x>D.width-Ee.width||ue.y>D.height-Ee.height)throw new RangeError("out of range destination coordinates for image copy");for(var He=A.data,tt=D.data,ht=0;ht<Ee.height;ht++)for(var Tt=((Z.y+ht)*A.width+Z.x)*Ie,St=((ue.y+ht)*D.width+ue.x)*Ie,Nt=0;Nt<Ee.width*Ie;Nt++)tt[St+Nt]=He[Tt+Nt];return D}Ir("HeatmapBucket",Ld,{omit:["layers"]});var Ku=function(A,D){np(this,A,1,D)};Ku.prototype.resize=function(A){Cd(this,A,1)},Ku.prototype.clone=function(){return new Ku({width:this.width,height:this.height},new Uint8Array(this.data))},Ku.copy=function(A,D,Z,ue,Ee){rp(A,D,Z,ue,Ee,1)};var Ho=function(A,D){np(this,A,4,D)};Ho.prototype.resize=function(A){Cd(this,A,4)},Ho.prototype.replace=function(A,D){D?this.data.set(A):A instanceof Uint8ClampedArray?this.data=new Uint8Array(A.buffer):this.data=A},Ho.prototype.clone=function(){return new Ho({width:this.width,height:this.height},new Uint8Array(this.data))},Ho.copy=function(A,D,Z,ue,Ee){rp(A,D,Z,ue,Ee,4)},Ir("AlphaImage",Ku),Ir("RGBAImage",Ho);var mv={paint:new na({"heatmap-radius":new Hr(Qe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Hr(Qe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new zr(Qe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new es(Qe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new zr(Qe.paint_heatmap["heatmap-opacity"])})};function Od(A){var D={},Z=A.resolution||256,ue=A.clips?A.clips.length:1,Ee=A.image||new Ho({width:Z,height:ue}),Ie=function(sn,cn,Mn){D[A.evaluationKey]=Mn;var wn=A.expression.evaluate(D);Ee.data[sn+cn+0]=Math.floor(255*wn.r/wn.a),Ee.data[sn+cn+1]=Math.floor(255*wn.g/wn.a),Ee.data[sn+cn+2]=Math.floor(255*wn.b/wn.a),Ee.data[sn+cn+3]=Math.floor(255*wn.a)};if(A.clips)for(var He=0,tt=0;He<ue;++He,tt+=4*Z)for(var ht=0,Tt=0;ht<Z;ht++,Tt+=4){var St=ht/(Z-1),Nt=A.clips[He];Ie(tt,Tt,Nt.start*(1-St)+Nt.end*St)}else for(var Yt=0,Ut=0;Yt<Z;Yt++,Ut+=4)Ie(0,Ut,Yt/(Z-1));return Ee}var yv=function(A){function D(Z){A.call(this,Z,mv),this._updateColorRamp()}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(Z){return new Ld(Z)},D.prototype._handleSpecialPaintPropertyUpdate=function(Z){Z==="heatmap-color"&&this._updateColorRamp()},D.prototype._updateColorRamp=function(){var Z=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Od({expression:Z,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},D.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},D}(mi),xv={paint:new na({"hillshade-illumination-direction":new zr(Qe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new zr(Qe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new zr(Qe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new zr(Qe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new zr(Qe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new zr(Qe.paint_hillshade["hillshade-accent-color"])})},bv=function(A){function D(Z){A.call(this,Z,xv)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},D}(mi),_v=zi([{name:"a_pos",components:2,type:"Int16"}],4).members,ip=qf,wv=qf;function qf(A,D,Z){Z=Z||2;var ue,Ee,Ie,He,tt,ht,Tt,St=D&&D.length,Nt=St?D[0]*Z:A.length,Yt=Pd(A,0,Nt,Z,!0),Ut=[];if(!Yt||Yt.next===Yt.prev)return Ut;if(St&&(Yt=function(cn,Mn,wn,Bn){var Un,Xn,Kn,ur=[];for(Un=0,Xn=Mn.length;Un<Xn;Un++)(Kn=Pd(cn,Mn[Un]*Bn,Un<Xn-1?Mn[Un+1]*Bn:cn.length,Bn,!1))===Kn.next&&(Kn.steiner=!0),ur.push(Cv(Kn));for(ur.sort(Sv),Un=0;Un<ur.length;Un++)Ev(ur[Un],wn),wn=Fu(wn,wn.next);return wn}(A,D,Yt,Z)),A.length>80*Z){ue=Ie=A[0],Ee=He=A[1];for(var sn=Z;sn<Nt;sn+=Z)(tt=A[sn])<ue&&(ue=tt),(ht=A[sn+1])<Ee&&(Ee=ht),tt>Ie&&(Ie=tt),ht>He&&(He=ht);Tt=(Tt=Math.max(Ie-ue,He-Ee))!==0?1/Tt:0}return Jc(Yt,Ut,Z,ue,Ee,Tt),Ut}function Pd(A,D,Z,ue,Ee){var Ie,He;if(Ee===sp(A,D,Z,ue)>0)for(Ie=D;Ie<Z;Ie+=ue)He=zd(Ie,A[Ie],A[Ie+1],He);else for(Ie=Z-ue;Ie>=D;Ie-=ue)He=zd(Ie,A[Ie],A[Ie+1],He);return He&&Gf(He,He.next)&&(Qc(He),He=He.next),He}function Fu(A,D){if(!A)return A;D||(D=A);var Z,ue=A;do if(Z=!1,ue.steiner||!Gf(ue,ue.next)&&Aa(ue.prev,ue,ue.next)!==0)ue=ue.next;else{if(Qc(ue),(ue=D=ue.prev)===ue.next)break;Z=!0}while(Z||ue!==D);return D}function Jc(A,D,Z,ue,Ee,Ie,He){if(A){!He&&Ie&&function(St,Nt,Yt,Ut){var sn=St;do sn.z===null&&(sn.z=ap(sn.x,sn.y,Nt,Yt,Ut)),sn.prevZ=sn.prev,sn.nextZ=sn.next,sn=sn.next;while(sn!==St);sn.prevZ.nextZ=null,sn.prevZ=null,function(cn){var Mn,wn,Bn,Un,Xn,Kn,ur,wr,xr=1;do{for(wn=cn,cn=null,Xn=null,Kn=0;wn;){for(Kn++,Bn=wn,ur=0,Mn=0;Mn<xr&&(ur++,Bn=Bn.nextZ);Mn++);for(wr=xr;ur>0||wr>0&&Bn;)ur!==0&&(wr===0||!Bn||wn.z<=Bn.z)?(Un=wn,wn=wn.nextZ,ur--):(Un=Bn,Bn=Bn.nextZ,wr--),Xn?Xn.nextZ=Un:cn=Un,Un.prevZ=Xn,Xn=Un;wn=Bn}Xn.nextZ=null,xr*=2}while(Kn>1)}(sn)}(A,ue,Ee,Ie);for(var tt,ht,Tt=A;A.prev!==A.next;)if(tt=A.prev,ht=A.next,Ie?kv(A,ue,Ee,Ie):Tv(A))D.push(tt.i/Z),D.push(A.i/Z),D.push(ht.i/Z),Qc(A),A=ht.next,Tt=ht.next;else if((A=ht)===Tt){He?He===1?Jc(A=Mv(Fu(A),D,Z),D,Z,ue,Ee,Ie,2):He===2&&Av(A,D,Z,ue,Ee,Ie):Jc(Fu(A),D,Z,ue,Ee,Ie,1);break}}}function Tv(A){var D=A.prev,Z=A,ue=A.next;if(Aa(D,Z,ue)>=0)return!1;for(var Ee=A.next.next;Ee!==A.prev;){if(dc(D.x,D.y,Z.x,Z.y,ue.x,ue.y,Ee.x,Ee.y)&&Aa(Ee.prev,Ee,Ee.next)>=0)return!1;Ee=Ee.next}return!0}function kv(A,D,Z,ue){var Ee=A.prev,Ie=A,He=A.next;if(Aa(Ee,Ie,He)>=0)return!1;for(var tt=Ee.x<Ie.x?Ee.x<He.x?Ee.x:He.x:Ie.x<He.x?Ie.x:He.x,ht=Ee.y<Ie.y?Ee.y<He.y?Ee.y:He.y:Ie.y<He.y?Ie.y:He.y,Tt=Ee.x>Ie.x?Ee.x>He.x?Ee.x:He.x:Ie.x>He.x?Ie.x:He.x,St=Ee.y>Ie.y?Ee.y>He.y?Ee.y:He.y:Ie.y>He.y?Ie.y:He.y,Nt=ap(tt,ht,D,Z,ue),Yt=ap(Tt,St,D,Z,ue),Ut=A.prevZ,sn=A.nextZ;Ut&&Ut.z>=Nt&&sn&&sn.z<=Yt;){if(Ut!==A.prev&&Ut!==A.next&&dc(Ee.x,Ee.y,Ie.x,Ie.y,He.x,He.y,Ut.x,Ut.y)&&Aa(Ut.prev,Ut,Ut.next)>=0||(Ut=Ut.prevZ,sn!==A.prev&&sn!==A.next&&dc(Ee.x,Ee.y,Ie.x,Ie.y,He.x,He.y,sn.x,sn.y)&&Aa(sn.prev,sn,sn.next)>=0))return!1;sn=sn.nextZ}for(;Ut&&Ut.z>=Nt;){if(Ut!==A.prev&&Ut!==A.next&&dc(Ee.x,Ee.y,Ie.x,Ie.y,He.x,He.y,Ut.x,Ut.y)&&Aa(Ut.prev,Ut,Ut.next)>=0)return!1;Ut=Ut.prevZ}for(;sn&&sn.z<=Yt;){if(sn!==A.prev&&sn!==A.next&&dc(Ee.x,Ee.y,Ie.x,Ie.y,He.x,He.y,sn.x,sn.y)&&Aa(sn.prev,sn,sn.next)>=0)return!1;sn=sn.nextZ}return!0}function Mv(A,D,Z){var ue=A;do{var Ee=ue.prev,Ie=ue.next.next;!Gf(Ee,Ie)&&Id(Ee,ue,ue.next,Ie)&&Kc(Ee,Ie)&&Kc(Ie,Ee)&&(D.push(Ee.i/Z),D.push(ue.i/Z),D.push(Ie.i/Z),Qc(ue),Qc(ue.next),ue=A=Ie),ue=ue.next}while(ue!==A);return Fu(ue)}function Av(A,D,Z,ue,Ee,Ie){var He=A;do{for(var tt=He.next.next;tt!==He.prev;){if(He.i!==tt.i&&Ov(He,tt)){var ht=Dd(He,tt);return He=Fu(He,He.next),ht=Fu(ht,ht.next),Jc(He,D,Z,ue,Ee,Ie),void Jc(ht,D,Z,ue,Ee,Ie)}tt=tt.next}He=He.next}while(He!==A)}function Sv(A,D){return A.x-D.x}function Ev(A,D){if(D=function(ue,Ee){var Ie,He=Ee,tt=ue.x,ht=ue.y,Tt=-1/0;do{if(ht<=He.y&&ht>=He.next.y&&He.next.y!==He.y){var St=He.x+(ht-He.y)*(He.next.x-He.x)/(He.next.y-He.y);if(St<=tt&&St>Tt){if(Tt=St,St===tt){if(ht===He.y)return He;if(ht===He.next.y)return He.next}Ie=He.x<He.next.x?He:He.next}}He=He.next}while(He!==Ee);if(!Ie)return null;if(tt===Tt)return Ie;var Nt,Yt=Ie,Ut=Ie.x,sn=Ie.y,cn=1/0;He=Ie;do tt>=He.x&&He.x>=Ut&&tt!==He.x&&dc(ht<sn?tt:Tt,ht,Ut,sn,ht<sn?Tt:tt,ht,He.x,He.y)&&(Nt=Math.abs(ht-He.y)/(tt-He.x),Kc(He,ue)&&(Nt<cn||Nt===cn&&(He.x>Ie.x||He.x===Ie.x&&Lv(Ie,He)))&&(Ie=He,cn=Nt)),He=He.next;while(He!==Yt);return Ie}(A,D)){var Z=Dd(D,A);Fu(D,D.next),Fu(Z,Z.next)}}function Lv(A,D){return Aa(A.prev,A,D.prev)<0&&Aa(D.next,A,A.next)<0}function ap(A,D,Z,ue,Ee){return(A=1431655765&((A=858993459&((A=252645135&((A=16711935&((A=32767*(A-Z)*Ee)|A<<8))|A<<4))|A<<2))|A<<1))|(D=1431655765&((D=858993459&((D=252645135&((D=16711935&((D=32767*(D-ue)*Ee)|D<<8))|D<<4))|D<<2))|D<<1))<<1}function Cv(A){var D=A,Z=A;do(D.x<Z.x||D.x===Z.x&&D.y<Z.y)&&(Z=D),D=D.next;while(D!==A);return Z}function dc(A,D,Z,ue,Ee,Ie,He,tt){return(Ee-He)*(D-tt)-(A-He)*(Ie-tt)>=0&&(A-He)*(ue-tt)-(Z-He)*(D-tt)>=0&&(Z-He)*(Ie-tt)-(Ee-He)*(ue-tt)>=0}function Ov(A,D){return A.next.i!==D.i&&A.prev.i!==D.i&&!function(Z,ue){var Ee=Z;do{if(Ee.i!==Z.i&&Ee.next.i!==Z.i&&Ee.i!==ue.i&&Ee.next.i!==ue.i&&Id(Ee,Ee.next,Z,ue))return!0;Ee=Ee.next}while(Ee!==Z);return!1}(A,D)&&(Kc(A,D)&&Kc(D,A)&&function(Z,ue){var Ee=Z,Ie=!1,He=(Z.x+ue.x)/2,tt=(Z.y+ue.y)/2;do Ee.y>tt!=Ee.next.y>tt&&Ee.next.y!==Ee.y&&He<(Ee.next.x-Ee.x)*(tt-Ee.y)/(Ee.next.y-Ee.y)+Ee.x&&(Ie=!Ie),Ee=Ee.next;while(Ee!==Z);return Ie}(A,D)&&(Aa(A.prev,A,D.prev)||Aa(A,D.prev,D))||Gf(A,D)&&Aa(A.prev,A,A.next)>0&&Aa(D.prev,D,D.next)>0)}function Aa(A,D,Z){return(D.y-A.y)*(Z.x-D.x)-(D.x-A.x)*(Z.y-D.y)}function Gf(A,D){return A.x===D.x&&A.y===D.y}function Id(A,D,Z,ue){var Ee=Wf(Aa(A,D,Z)),Ie=Wf(Aa(A,D,ue)),He=Wf(Aa(Z,ue,A)),tt=Wf(Aa(Z,ue,D));return Ee!==Ie&&He!==tt||!(Ee!==0||!Yf(A,Z,D))||!(Ie!==0||!Yf(A,ue,D))||!(He!==0||!Yf(Z,A,ue))||!(tt!==0||!Yf(Z,D,ue))}function Yf(A,D,Z){return D.x<=Math.max(A.x,Z.x)&&D.x>=Math.min(A.x,Z.x)&&D.y<=Math.max(A.y,Z.y)&&D.y>=Math.min(A.y,Z.y)}function Wf(A){return A>0?1:A<0?-1:0}function Kc(A,D){return Aa(A.prev,A,A.next)<0?Aa(A,D,A.next)>=0&&Aa(A,A.prev,D)>=0:Aa(A,D,A.prev)<0||Aa(A,A.next,D)<0}function Dd(A,D){var Z=new op(A.i,A.x,A.y),ue=new op(D.i,D.x,D.y),Ee=A.next,Ie=D.prev;return A.next=D,D.prev=A,Z.next=Ee,Ee.prev=Z,ue.next=Z,Z.prev=ue,Ie.next=ue,ue.prev=Ie,ue}function zd(A,D,Z,ue){var Ee=new op(A,D,Z);return ue?(Ee.next=ue.next,Ee.prev=ue,ue.next.prev=Ee,ue.next=Ee):(Ee.prev=Ee,Ee.next=Ee),Ee}function Qc(A){A.next.prev=A.prev,A.prev.next=A.next,A.prevZ&&(A.prevZ.nextZ=A.nextZ),A.nextZ&&(A.nextZ.prevZ=A.prevZ)}function op(A,D,Z){this.i=A,this.x=D,this.y=Z,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function sp(A,D,Z,ue){for(var Ee=0,Ie=D,He=Z-ue;Ie<Z;Ie+=ue)Ee+=(A[He]-A[Ie])*(A[Ie+1]+A[He+1]),He=Ie;return Ee}function Pv(A,D,Z,ue,Ee){Rd(A,D,Z||0,ue||A.length-1,Ee||Iv)}function Rd(A,D,Z,ue,Ee){for(;ue>Z;){if(ue-Z>600){var Ie=ue-Z+1,He=D-Z+1,tt=Math.log(Ie),ht=.5*Math.exp(2*tt/3),Tt=.5*Math.sqrt(tt*ht*(Ie-ht)/Ie)*(He-Ie/2<0?-1:1);Rd(A,D,Math.max(Z,Math.floor(D-He*ht/Ie+Tt)),Math.min(ue,Math.floor(D+(Ie-He)*ht/Ie+Tt)),Ee)}var St=A[D],Nt=Z,Yt=ue;for($c(A,Z,D),Ee(A[ue],St)>0&&$c(A,Z,ue);Nt<Yt;){for($c(A,Nt,Yt),Nt++,Yt--;Ee(A[Nt],St)<0;)Nt++;for(;Ee(A[Yt],St)>0;)Yt--}Ee(A[Z],St)===0?$c(A,Z,Yt):$c(A,++Yt,ue),Yt<=D&&(Z=Yt+1),D<=Yt&&(ue=Yt-1)}}function $c(A,D,Z){var ue=A[D];A[D]=A[Z],A[Z]=ue}function Iv(A,D){return A<D?-1:A>D?1:0}function lp(A,D){var Z=A.length;if(Z<=1)return[A];for(var ue,Ee,Ie=[],He=0;He<Z;He++){var tt=O(A[He]);tt!==0&&(A[He].area=Math.abs(tt),Ee===void 0&&(Ee=tt<0),Ee===tt<0?(ue&&Ie.push(ue),ue=[A[He]]):ue.push(A[He]))}if(ue&&Ie.push(ue),D>1)for(var ht=0;ht<Ie.length;ht++)Ie[ht].length<=D||(Pv(Ie[ht],D,1,Ie[ht].length-1,Dv),Ie[ht]=Ie[ht].slice(0,D));return Ie}function Dv(A,D){return D.area-A.area}function up(A,D,Z){for(var ue=Z.patternDependencies,Ee=!1,Ie=0,He=D;Ie<He.length;Ie+=1){var tt=He[Ie].paint.get(A+"-pattern");tt.isConstant()||(Ee=!0);var ht=tt.constantOr(null);ht&&(Ee=!0,ue[ht.to]=!0,ue[ht.from]=!0)}return Ee}function cp(A,D,Z,ue,Ee){for(var Ie=Ee.patternDependencies,He=0,tt=D;He<tt.length;He+=1){var ht=tt[He],Tt=ht.paint.get(A+"-pattern").value;if(Tt.kind!=="constant"){var St=Tt.evaluate({zoom:ue-1},Z,{},Ee.availableImages),Nt=Tt.evaluate({zoom:ue},Z,{},Ee.availableImages),Yt=Tt.evaluate({zoom:ue+1},Z,{},Ee.availableImages);St=St&&St.name?St.name:St,Nt=Nt&&Nt.name?Nt.name:Nt,Yt=Yt&&Yt.name?Yt.name:Yt,Ie[St]=!0,Ie[Nt]=!0,Ie[Yt]=!0,Z.patterns[ht.id]={min:St,mid:Nt,max:Yt}}}return Z}qf.deviation=function(A,D,Z,ue){var Ee=D&&D.length,Ie=Ee?D[0]*Z:A.length,He=Math.abs(sp(A,0,Ie,Z));if(Ee)for(var tt=0,ht=D.length;tt<ht;tt++){var Tt=D[tt]*Z,St=tt<ht-1?D[tt+1]*Z:A.length;He-=Math.abs(sp(A,Tt,St,Z))}var Nt=0;for(tt=0;tt<ue.length;tt+=3){var Yt=ue[tt]*Z,Ut=ue[tt+1]*Z,sn=ue[tt+2]*Z;Nt+=Math.abs((A[Yt]-A[sn])*(A[Ut+1]-A[Yt+1])-(A[Yt]-A[Ut])*(A[sn+1]-A[Yt+1]))}return He===0&&Nt===0?0:Math.abs((Nt-He)/He)},qf.flatten=function(A){for(var D=A[0][0].length,Z={vertices:[],holes:[],dimensions:D},ue=0,Ee=0;Ee<A.length;Ee++){for(var Ie=0;Ie<A[Ee].length;Ie++)for(var He=0;He<D;He++)Z.vertices.push(A[Ee][Ie][He]);Ee>0&&(ue+=A[Ee-1].length,Z.holes.push(ue))}return Z},ip.default=wv;var El=function(A){this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(D){return D.id}),this.index=A.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new bs,this.indexArray=new xe,this.indexArray2=new pt,this.programConfigurations=new la(A.layers,A.zoom),this.segments=new Wn,this.segments2=new Wn,this.stateDependentLayerIds=this.layers.filter(function(D){return D.isStateDependent()}).map(function(D){return D.id})};El.prototype.populate=function(A,D,Z){this.hasPattern=up("fill",this.layers,D);for(var ue=this.layers[0].layout.get("fill-sort-key"),Ee=[],Ie=0,He=A;Ie<He.length;Ie+=1){var tt=He[Ie],ht=tt.feature,Tt=tt.id,St=tt.index,Nt=tt.sourceLayerIndex,Yt=this.layers[0]._featureFilter.needGeometry,Ut=Gi(ht,Yt);if(this.layers[0]._featureFilter.filter(new ii(this.zoom),Ut,Z)){var sn=ue?ue.evaluate(Ut,{},Z,D.availableImages):void 0,cn={id:Tt,properties:ht.properties,type:ht.type,sourceLayerIndex:Nt,index:St,geometry:Yt?Ut.geometry:ts(ht),patterns:{},sortKey:sn};Ee.push(cn)}}ue&&Ee.sort(function(Sr,Or){return Sr.sortKey-Or.sortKey});for(var Mn=0,wn=Ee;Mn<wn.length;Mn+=1){var Bn=wn[Mn],Un=Bn,Xn=Un.geometry,Kn=Un.index,ur=Un.sourceLayerIndex;if(this.hasPattern){var wr=cp("fill",this.layers,Bn,this.zoom,D);this.patternFeatures.push(wr)}else this.addFeature(Bn,Xn,Kn,Z,{});var xr=A[Kn].feature;D.featureIndex.insert(xr,Xn,Kn,ur,this.index)}},El.prototype.update=function(A,D,Z){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,D,this.stateDependentLayers,Z)},El.prototype.addFeatures=function(A,D,Z){for(var ue=0,Ee=this.patternFeatures;ue<Ee.length;ue+=1){var Ie=Ee[ue];this.addFeature(Ie,Ie.geometry,Ie.index,D,Z)}},El.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},El.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},El.prototype.upload=function(A){this.uploaded||(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,_v),this.indexBuffer=A.createIndexBuffer(this.indexArray),this.indexBuffer2=A.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(A),this.uploaded=!0},El.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},El.prototype.addFeature=function(A,D,Z,ue,Ee){for(var Ie=0,He=lp(D,500);Ie<He.length;Ie+=1){for(var tt=He[Ie],ht=0,Tt=0,St=tt;Tt<St.length;Tt+=1)ht+=St[Tt].length;for(var Nt=this.segments.prepareSegment(ht,this.layoutVertexArray,this.indexArray),Yt=Nt.vertexLength,Ut=[],sn=[],cn=0,Mn=tt;cn<Mn.length;cn+=1){var wn=Mn[cn];if(wn.length!==0){wn!==tt[0]&&sn.push(Ut.length/2);var Bn=this.segments2.prepareSegment(wn.length,this.layoutVertexArray,this.indexArray2),Un=Bn.vertexLength;this.layoutVertexArray.emplaceBack(wn[0].x,wn[0].y),this.indexArray2.emplaceBack(Un+wn.length-1,Un),Ut.push(wn[0].x),Ut.push(wn[0].y);for(var Xn=1;Xn<wn.length;Xn++)this.layoutVertexArray.emplaceBack(wn[Xn].x,wn[Xn].y),this.indexArray2.emplaceBack(Un+Xn-1,Un+Xn),Ut.push(wn[Xn].x),Ut.push(wn[Xn].y);Bn.vertexLength+=wn.length,Bn.primitiveLength+=wn.length}}for(var Kn=ip(Ut,sn),ur=0;ur<Kn.length;ur+=3)this.indexArray.emplaceBack(Yt+Kn[ur],Yt+Kn[ur+1],Yt+Kn[ur+2]);Nt.vertexLength+=ht,Nt.primitiveLength+=Kn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,Z,Ee,ue)},Ir("FillBucket",El,{omit:["layers","patternFeatures"]});var zv=new na({"fill-sort-key":new Hr(Qe.layout_fill["fill-sort-key"])}),Rv={paint:new na({"fill-antialias":new zr(Qe.paint_fill["fill-antialias"]),"fill-opacity":new Hr(Qe.paint_fill["fill-opacity"]),"fill-color":new Hr(Qe.paint_fill["fill-color"]),"fill-outline-color":new Hr(Qe.paint_fill["fill-outline-color"]),"fill-translate":new zr(Qe.paint_fill["fill-translate"]),"fill-translate-anchor":new zr(Qe.paint_fill["fill-translate-anchor"]),"fill-pattern":new ao(Qe.paint_fill["fill-pattern"])}),layout:zv},Fv=function(A){function D(Z){A.call(this,Z,Rv)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(Z,ue){A.prototype.recalculate.call(this,Z,ue);var Ee=this.paint._values["fill-outline-color"];Ee.value.kind==="constant"&&Ee.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},D.prototype.createBucket=function(Z){return new El(Z)},D.prototype.queryRadius=function(){return jf(this.paint.get("fill-translate"))},D.prototype.queryIntersectsFeature=function(Z,ue,Ee,Ie,He,tt,ht){return Ff(Uf(Z,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),tt.angle,ht),Ie)},D.prototype.isTileClipped=function(){return!0},D}(mi),Bv=zi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Fd=gc;function gc(A,D,Z,ue,Ee){this.properties={},this.extent=Z,this.type=0,this._pbf=A,this._geometry=-1,this._keys=ue,this._values=Ee,A.readFields(Nv,this,D)}function Nv(A,D,Z){A==1?D.id=Z.readVarint():A==2?function(ue,Ee){for(var Ie=ue.readVarint()+ue.pos;ue.pos<Ie;){var He=Ee._keys[ue.readVarint()],tt=Ee._values[ue.readVarint()];Ee.properties[He]=tt}}(Z,D):A==3?D.type=Z.readVarint():A==4&&(D._geometry=Z.pos)}function jv(A){for(var D,Z,ue=0,Ee=0,Ie=A.length,He=Ie-1;Ee<Ie;He=Ee++)D=A[Ee],ue+=((Z=A[He]).x-D.x)*(D.y+Z.y);return ue}gc.types=["Unknown","Point","LineString","Polygon"],gc.prototype.loadGeometry=function(){var A=this._pbf;A.pos=this._geometry;for(var D,Z=A.readVarint()+A.pos,ue=1,Ee=0,Ie=0,He=0,tt=[];A.pos<Z;){if(Ee<=0){var ht=A.readVarint();ue=7&ht,Ee=ht>>3}if(Ee--,ue===1||ue===2)Ie+=A.readSVarint(),He+=A.readSVarint(),ue===1&&(D&&tt.push(D),D=[]),D.push(new t(Ie,He));else{if(ue!==7)throw new Error("unknown command "+ue);D&&D.push(D[0].clone())}}return D&&tt.push(D),tt},gc.prototype.bbox=function(){var A=this._pbf;A.pos=this._geometry;for(var D=A.readVarint()+A.pos,Z=1,ue=0,Ee=0,Ie=0,He=1/0,tt=-1/0,ht=1/0,Tt=-1/0;A.pos<D;){if(ue<=0){var St=A.readVarint();Z=7&St,ue=St>>3}if(ue--,Z===1||Z===2)(Ee+=A.readSVarint())<He&&(He=Ee),Ee>tt&&(tt=Ee),(Ie+=A.readSVarint())<ht&&(ht=Ie),Ie>Tt&&(Tt=Ie);else if(Z!==7)throw new Error("unknown command "+Z)}return[He,ht,tt,Tt]},gc.prototype.toGeoJSON=function(A,D,Z){var ue,Ee,Ie=this.extent*Math.pow(2,Z),He=this.extent*A,tt=this.extent*D,ht=this.loadGeometry(),Tt=gc.types[this.type];function St(Ut){for(var sn=0;sn<Ut.length;sn++){var cn=Ut[sn],Mn=180-360*(cn.y+tt)/Ie;Ut[sn]=[360*(cn.x+He)/Ie-180,360/Math.PI*Math.atan(Math.exp(Mn*Math.PI/180))-90]}}switch(this.type){case 1:var Nt=[];for(ue=0;ue<ht.length;ue++)Nt[ue]=ht[ue][0];St(ht=Nt);break;case 2:for(ue=0;ue<ht.length;ue++)St(ht[ue]);break;case 3:for(ht=function(Ut){var sn=Ut.length;if(sn<=1)return[Ut];for(var cn,Mn,wn=[],Bn=0;Bn<sn;Bn++){var Un=jv(Ut[Bn]);Un!==0&&(Mn===void 0&&(Mn=Un<0),Mn===Un<0?(cn&&wn.push(cn),cn=[Ut[Bn]]):cn.push(Ut[Bn]))}return cn&&wn.push(cn),wn}(ht),ue=0;ue<ht.length;ue++)for(Ee=0;Ee<ht[ue].length;Ee++)St(ht[ue][Ee])}ht.length===1?ht=ht[0]:Tt="Multi"+Tt;var Yt={type:"Feature",geometry:{type:Tt,coordinates:ht},properties:this.properties};return"id"in this&&(Yt.id=this.id),Yt};var Bd=Nd;function Nd(A,D){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=A,this._keys=[],this._values=[],this._features=[],A.readFields(Uv,this,D),this.length=this._features.length}function Uv(A,D,Z){A===15?D.version=Z.readVarint():A===1?D.name=Z.readString():A===5?D.extent=Z.readVarint():A===2?D._features.push(Z.pos):A===3?D._keys.push(Z.readString()):A===4&&D._values.push(function(ue){for(var Ee=null,Ie=ue.readVarint()+ue.pos;ue.pos<Ie;){var He=ue.readVarint()>>3;Ee=He===1?ue.readString():He===2?ue.readFloat():He===3?ue.readDouble():He===4?ue.readVarint64():He===5?ue.readVarint():He===6?ue.readSVarint():He===7?ue.readBoolean():null}return Ee}(Z))}function Vv(A,D,Z){if(A===3){var ue=new Bd(Z,Z.readVarint()+Z.pos);ue.length&&(D[ue.name]=ue)}}Nd.prototype.feature=function(A){if(A<0||A>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[A];var D=this._pbf.readVarint()+this._pbf.pos;return new Fd(this._pbf,D,this.extent,this._keys,this._values)};var vc={VectorTile:function(A,D){this.layers=A.readFields(Vv,{},D)},VectorTileFeature:Fd,VectorTileLayer:Bd},Hv=vc.VectorTileFeature.types,fp=Math.pow(2,13);function ef(A,D,Z,ue,Ee,Ie,He,tt){A.emplaceBack(D,Z,2*Math.floor(ue*fp)+He,Ee*fp*2,Ie*fp*2,Math.round(tt))}var Ll=function(A){this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(D){return D.id}),this.index=A.index,this.hasPattern=!1,this.layoutVertexArray=new $e,this.indexArray=new xe,this.programConfigurations=new la(A.layers,A.zoom),this.segments=new Wn,this.stateDependentLayerIds=this.layers.filter(function(D){return D.isStateDependent()}).map(function(D){return D.id})};function qv(A,D){return A.x===D.x&&(A.x<0||A.x>pi)||A.y===D.y&&(A.y<0||A.y>pi)}Ll.prototype.populate=function(A,D,Z){this.features=[],this.hasPattern=up("fill-extrusion",this.layers,D);for(var ue=0,Ee=A;ue<Ee.length;ue+=1){var Ie=Ee[ue],He=Ie.feature,tt=Ie.id,ht=Ie.index,Tt=Ie.sourceLayerIndex,St=this.layers[0]._featureFilter.needGeometry,Nt=Gi(He,St);if(this.layers[0]._featureFilter.filter(new ii(this.zoom),Nt,Z)){var Yt={id:tt,sourceLayerIndex:Tt,index:ht,geometry:St?Nt.geometry:ts(He),properties:He.properties,type:He.type,patterns:{}};this.hasPattern?this.features.push(cp("fill-extrusion",this.layers,Yt,this.zoom,D)):this.addFeature(Yt,Yt.geometry,ht,Z,{}),D.featureIndex.insert(He,Yt.geometry,ht,Tt,this.index,!0)}}},Ll.prototype.addFeatures=function(A,D,Z){for(var ue=0,Ee=this.features;ue<Ee.length;ue+=1){var Ie=Ee[ue],He=Ie.geometry;this.addFeature(Ie,He,Ie.index,D,Z)}},Ll.prototype.update=function(A,D,Z){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,D,this.stateDependentLayers,Z)},Ll.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ll.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ll.prototype.upload=function(A){this.uploaded||(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,Bv),this.indexBuffer=A.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(A),this.uploaded=!0},Ll.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ll.prototype.addFeature=function(A,D,Z,ue,Ee){for(var Ie=0,He=lp(D,500);Ie<He.length;Ie+=1){for(var tt=He[Ie],ht=0,Tt=0,St=tt;Tt<St.length;Tt+=1)ht+=St[Tt].length;for(var Nt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Yt=0,Ut=tt;Yt<Ut.length;Yt+=1){var sn=Ut[Yt];if(sn.length!==0&&!((ci=sn).every(function($r){return $r.x<0})||ci.every(function($r){return $r.x>pi})||ci.every(function($r){return $r.y<0})||ci.every(function($r){return $r.y>pi})))for(var cn=0,Mn=0;Mn<sn.length;Mn++){var wn=sn[Mn];if(Mn>=1){var Bn=sn[Mn-1];if(!qv(wn,Bn)){Nt.vertexLength+4>Wn.MAX_VERTEX_ARRAY_LENGTH&&(Nt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Un=wn.sub(Bn)._perp()._unit(),Xn=Bn.dist(wn);cn+Xn>32768&&(cn=0),ef(this.layoutVertexArray,wn.x,wn.y,Un.x,Un.y,0,0,cn),ef(this.layoutVertexArray,wn.x,wn.y,Un.x,Un.y,0,1,cn),cn+=Xn,ef(this.layoutVertexArray,Bn.x,Bn.y,Un.x,Un.y,0,0,cn),ef(this.layoutVertexArray,Bn.x,Bn.y,Un.x,Un.y,0,1,cn);var Kn=Nt.vertexLength;this.indexArray.emplaceBack(Kn,Kn+2,Kn+1),this.indexArray.emplaceBack(Kn+1,Kn+2,Kn+3),Nt.vertexLength+=4,Nt.primitiveLength+=2}}}}if(Nt.vertexLength+ht>Wn.MAX_VERTEX_ARRAY_LENGTH&&(Nt=this.segments.prepareSegment(ht,this.layoutVertexArray,this.indexArray)),Hv[A.type]==="Polygon"){for(var ur=[],wr=[],xr=Nt.vertexLength,Sr=0,Or=tt;Sr<Or.length;Sr+=1){var Zr=Or[Sr];if(Zr.length!==0){Zr!==tt[0]&&wr.push(ur.length/2);for(var Nr=0;Nr<Zr.length;Nr++){var Wr=Zr[Nr];ef(this.layoutVertexArray,Wr.x,Wr.y,0,0,1,1,0),ur.push(Wr.x),ur.push(Wr.y)}}}for(var Ur=ip(ur,wr),Fr=0;Fr<Ur.length;Fr+=3)this.indexArray.emplaceBack(xr+Ur[Fr],xr+Ur[Fr+2],xr+Ur[Fr+1]);Nt.primitiveLength+=Ur.length/3,Nt.vertexLength+=ht}}var ci;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,Z,Ee,ue)},Ir("FillExtrusionBucket",Ll,{omit:["layers","features"]});var Gv={paint:new na({"fill-extrusion-opacity":new zr(Qe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Hr(Qe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new zr(Qe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new zr(Qe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ao(Qe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Hr(Qe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Hr(Qe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new zr(Qe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Yv=function(A){function D(Z){A.call(this,Z,Gv)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(Z){return new Ll(Z)},D.prototype.queryRadius=function(){return jf(this.paint.get("fill-extrusion-translate"))},D.prototype.is3D=function(){return!0},D.prototype.queryIntersectsFeature=function(Z,ue,Ee,Ie,He,tt,ht,Tt){var St=Uf(Z,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),tt.angle,ht),Nt=this.paint.get("fill-extrusion-height").evaluate(ue,Ee),Yt=this.paint.get("fill-extrusion-base").evaluate(ue,Ee),Ut=function(cn,Mn,wn,Bn){for(var Un=[],Xn=0,Kn=cn;Xn<Kn.length;Xn+=1){var ur=Kn[Xn],wr=[ur.x,ur.y,Bn,1];Hf(wr,wr,Mn),Un.push(new t(wr[0]/wr[3],wr[1]/wr[3]))}return Un}(St,Tt,0,0),sn=function(cn,Mn,wn,Bn){for(var Un=[],Xn=[],Kn=Bn[8]*Mn,ur=Bn[9]*Mn,wr=Bn[10]*Mn,xr=Bn[11]*Mn,Sr=Bn[8]*wn,Or=Bn[9]*wn,Zr=Bn[10]*wn,Nr=Bn[11]*wn,Wr=0,Ur=cn;Wr<Ur.length;Wr+=1){for(var Fr=[],ci=[],$r=0,Bi=Ur[Wr];$r<Bi.length;$r+=1){var Gr=Bi[$r],Oi=Gr.x,Wi=Gr.y,$i=Bn[0]*Oi+Bn[4]*Wi+Bn[12],ea=Bn[1]*Oi+Bn[5]*Wi+Bn[13],Ni=Bn[2]*Oi+Bn[6]*Wi+Bn[14],La=Bn[3]*Oi+Bn[7]*Wi+Bn[15],oa=Ni+wr,Ga=La+xr,lo=$i+Sr,$a=ea+Or,Oo=Ni+Zr,eo=La+Nr,Ia=new t(($i+Kn)/Ga,(ea+ur)/Ga);Ia.z=oa/Ga,Fr.push(Ia);var to=new t(lo/eo,$a/eo);to.z=Oo/eo,ci.push(to)}Un.push(Fr),Xn.push(ci)}return[Un,Xn]}(Ie,Yt,Nt,Tt);return function(cn,Mn,wn){var Bn=1/0;Ff(wn,Mn)&&(Bn=jd(wn,Mn[0]));for(var Un=0;Un<Mn.length;Un++)for(var Xn=Mn[Un],Kn=cn[Un],ur=0;ur<Xn.length-1;ur++){var wr=Xn[ur],xr=Xn[ur+1],Sr=Kn[ur],Or=[wr,xr,Kn[ur+1],Sr,wr];Ju(wn,Or)&&(Bn=Math.min(Bn,jd(wn,Or)))}return Bn!==1/0&&Bn}(sn[0],sn[1],Ut)},D}(mi);function tf(A,D){return A.x*D.x+A.y*D.y}function jd(A,D){if(A.length===1){for(var Z,ue=0,Ee=D[ue++];!Z||Ee.equals(Z);)if(!(Z=D[ue++]))return 1/0;for(;ue<D.length;ue++){var Ie=D[ue],He=A[0],tt=Z.sub(Ee),ht=Ie.sub(Ee),Tt=He.sub(Ee),St=tf(tt,tt),Nt=tf(tt,ht),Yt=tf(ht,ht),Ut=tf(Tt,tt),sn=tf(Tt,ht),cn=St*Yt-Nt*Nt,Mn=(Yt*Ut-Nt*sn)/cn,wn=(St*sn-Nt*Ut)/cn,Bn=1-Mn-wn,Un=Ee.z*Bn+Z.z*Mn+Ie.z*wn;if(isFinite(Un))return Un}return 1/0}for(var Xn=1/0,Kn=0,ur=D;Kn<ur.length;Kn+=1){var wr=ur[Kn];Xn=Math.min(Xn,wr.z)}return Xn}var Wv=zi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Zv=zi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Xv=vc.VectorTileFeature.types,Jv=Math.cos(Math.PI/180*37.5),Ud=Math.pow(2,14)/.5,Co=function(A){var D=this;this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(Z){return Z.id}),this.index=A.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(Z){D.gradients[Z.id]={}}),this.layoutVertexArray=new nt,this.layoutVertexArray2=new ft,this.indexArray=new xe,this.programConfigurations=new la(A.layers,A.zoom),this.segments=new Wn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(Z){return Z.isStateDependent()}).map(function(Z){return Z.id})};Co.prototype.populate=function(A,D,Z){this.hasPattern=up("line",this.layers,D);for(var ue=this.layers[0].layout.get("line-sort-key"),Ee=[],Ie=0,He=A;Ie<He.length;Ie+=1){var tt=He[Ie],ht=tt.feature,Tt=tt.id,St=tt.index,Nt=tt.sourceLayerIndex,Yt=this.layers[0]._featureFilter.needGeometry,Ut=Gi(ht,Yt);if(this.layers[0]._featureFilter.filter(new ii(this.zoom),Ut,Z)){var sn=ue?ue.evaluate(Ut,{},Z):void 0,cn={id:Tt,properties:ht.properties,type:ht.type,sourceLayerIndex:Nt,index:St,geometry:Yt?Ut.geometry:ts(ht),patterns:{},sortKey:sn};Ee.push(cn)}}ue&&Ee.sort(function(Sr,Or){return Sr.sortKey-Or.sortKey});for(var Mn=0,wn=Ee;Mn<wn.length;Mn+=1){var Bn=wn[Mn],Un=Bn,Xn=Un.geometry,Kn=Un.index,ur=Un.sourceLayerIndex;if(this.hasPattern){var wr=cp("line",this.layers,Bn,this.zoom,D);this.patternFeatures.push(wr)}else this.addFeature(Bn,Xn,Kn,Z,{});var xr=A[Kn].feature;D.featureIndex.insert(xr,Xn,Kn,ur,this.index)}},Co.prototype.update=function(A,D,Z){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,D,this.stateDependentLayers,Z)},Co.prototype.addFeatures=function(A,D,Z){for(var ue=0,Ee=this.patternFeatures;ue<Ee.length;ue+=1){var Ie=Ee[ue];this.addFeature(Ie,Ie.geometry,Ie.index,D,Z)}},Co.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Co.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Co.prototype.upload=function(A){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=A.createVertexBuffer(this.layoutVertexArray2,Zv)),this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,Wv),this.indexBuffer=A.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(A),this.uploaded=!0},Co.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Co.prototype.lineFeatureClips=function(A){if(A.properties&&A.properties.hasOwnProperty("mapbox_clip_start")&&A.properties.hasOwnProperty("mapbox_clip_end"))return{start:+A.properties.mapbox_clip_start,end:+A.properties.mapbox_clip_end}},Co.prototype.addFeature=function(A,D,Z,ue,Ee){var Ie=this.layers[0].layout,He=Ie.get("line-join").evaluate(A,{}),tt=Ie.get("line-cap"),ht=Ie.get("line-miter-limit"),Tt=Ie.get("line-round-limit");this.lineClips=this.lineFeatureClips(A);for(var St=0,Nt=D;St<Nt.length;St+=1){var Yt=Nt[St];this.addLine(Yt,A,He,tt,ht,Tt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,Z,Ee,ue)},Co.prototype.addLine=function(A,D,Z,ue,Ee,Ie){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var He=0;He<A.length-1;He++)this.totalDistance+=A[He].dist(A[He+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var tt=Xv[D.type]==="Polygon",ht=A.length;ht>=2&&A[ht-1].equals(A[ht-2]);)ht--;for(var Tt=0;Tt<ht-1&&A[Tt].equals(A[Tt+1]);)Tt++;if(!(ht<(tt?3:2))){Z==="bevel"&&(Ee=1.05);var St,Nt=this.overscaling<=16?15*pi/(512*this.overscaling):0,Yt=this.segments.prepareSegment(10*ht,this.layoutVertexArray,this.indexArray),Ut=void 0,sn=void 0,cn=void 0,Mn=void 0;this.e1=this.e2=-1,tt&&(St=A[ht-2],Mn=A[Tt].sub(St)._unit()._perp());for(var wn=Tt;wn<ht;wn++)if(!(sn=wn===ht-1?tt?A[Tt+1]:void 0:A[wn+1])||!A[wn].equals(sn)){Mn&&(cn=Mn),St&&(Ut=St),St=A[wn],Mn=sn?sn.sub(St)._unit()._perp():cn;var Bn=(cn=cn||Mn).add(Mn);Bn.x===0&&Bn.y===0||Bn._unit();var Un=cn.x*Mn.x+cn.y*Mn.y,Xn=Bn.x*Mn.x+Bn.y*Mn.y,Kn=Xn!==0?1/Xn:1/0,ur=2*Math.sqrt(2-2*Xn),wr=Xn<Jv&&Ut&&sn,xr=cn.x*Mn.y-cn.y*Mn.x>0;if(wr&&wn>Tt){var Sr=St.dist(Ut);if(Sr>2*Nt){var Or=St.sub(St.sub(Ut)._mult(Nt/Sr)._round());this.updateDistance(Ut,Or),this.addCurrentVertex(Or,cn,0,0,Yt),Ut=Or}}var Zr=Ut&&sn,Nr=Zr?Z:tt?"butt":ue;if(Zr&&Nr==="round"&&(Kn<Ie?Nr="miter":Kn<=2&&(Nr="fakeround")),Nr==="miter"&&Kn>Ee&&(Nr="bevel"),Nr==="bevel"&&(Kn>2&&(Nr="flipbevel"),Kn<Ee&&(Nr="miter")),Ut&&this.updateDistance(Ut,St),Nr==="miter")Bn._mult(Kn),this.addCurrentVertex(St,Bn,0,0,Yt);else if(Nr==="flipbevel"){if(Kn>100)Bn=Mn.mult(-1);else{var Wr=Kn*cn.add(Mn).mag()/cn.sub(Mn).mag();Bn._perp()._mult(Wr*(xr?-1:1))}this.addCurrentVertex(St,Bn,0,0,Yt),this.addCurrentVertex(St,Bn.mult(-1),0,0,Yt)}else if(Nr==="bevel"||Nr==="fakeround"){var Ur=-Math.sqrt(Kn*Kn-1),Fr=xr?Ur:0,ci=xr?0:Ur;if(Ut&&this.addCurrentVertex(St,cn,Fr,ci,Yt),Nr==="fakeround")for(var $r=Math.round(180*ur/Math.PI/20),Bi=1;Bi<$r;Bi++){var Gr=Bi/$r;if(Gr!==.5){var Oi=Gr-.5;Gr+=Gr*Oi*(Gr-1)*((1.0904+Un*(Un*(3.55645-1.43519*Un)-3.2452))*Oi*Oi+(.848013+Un*(.215638*Un-1.06021)))}var Wi=Mn.sub(cn)._mult(Gr)._add(cn)._unit()._mult(xr?-1:1);this.addHalfVertex(St,Wi.x,Wi.y,!1,xr,0,Yt)}sn&&this.addCurrentVertex(St,Mn,-Fr,-ci,Yt)}else if(Nr==="butt")this.addCurrentVertex(St,Bn,0,0,Yt);else if(Nr==="square"){var $i=Ut?1:-1;this.addCurrentVertex(St,Bn,$i,$i,Yt)}else Nr==="round"&&(Ut&&(this.addCurrentVertex(St,cn,0,0,Yt),this.addCurrentVertex(St,cn,1,1,Yt,!0)),sn&&(this.addCurrentVertex(St,Mn,-1,-1,Yt,!0),this.addCurrentVertex(St,Mn,0,0,Yt)));if(wr&&wn<ht-1){var ea=St.dist(sn);if(ea>2*Nt){var Ni=St.add(sn.sub(St)._mult(Nt/ea)._round());this.updateDistance(St,Ni),this.addCurrentVertex(Ni,Mn,0,0,Yt),St=Ni}}}}},Co.prototype.addCurrentVertex=function(A,D,Z,ue,Ee,Ie){Ie===void 0&&(Ie=!1);var He=D.x+D.y*Z,tt=D.y-D.x*Z,ht=-D.x+D.y*ue,Tt=-D.y-D.x*ue;this.addHalfVertex(A,He,tt,Ie,!1,Z,Ee),this.addHalfVertex(A,ht,Tt,Ie,!0,-ue,Ee),this.distance>Ud/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(A,D,Z,ue,Ee,Ie))},Co.prototype.addHalfVertex=function(A,D,Z,ue,Ee,Ie,He){var tt=A.x,ht=A.y,Tt=.5*(this.lineClips?this.scaledDistance*(Ud-1):this.scaledDistance);if(this.layoutVertexArray.emplaceBack((tt<<1)+(ue?1:0),(ht<<1)+(Ee?1:0),Math.round(63*D)+128,Math.round(63*Z)+128,1+(Ie===0?0:Ie<0?-1:1)|(63&Tt)<<2,Tt>>6),this.lineClips){var St=(this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start);this.layoutVertexArray2.emplaceBack(St,this.lineClipsArray.length)}var Nt=He.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Nt),He.primitiveLength++),Ee?this.e2=Nt:this.e1=Nt},Co.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Co.prototype.updateDistance=function(A,D){this.distance+=A.dist(D),this.updateScaledDistance()},Ir("LineBucket",Co,{omit:["layers","patternFeatures"]});var Kv=new na({"line-cap":new zr(Qe.layout_line["line-cap"]),"line-join":new Hr(Qe.layout_line["line-join"]),"line-miter-limit":new zr(Qe.layout_line["line-miter-limit"]),"line-round-limit":new zr(Qe.layout_line["line-round-limit"]),"line-sort-key":new Hr(Qe.layout_line["line-sort-key"])}),Vd={paint:new na({"line-opacity":new Hr(Qe.paint_line["line-opacity"]),"line-color":new Hr(Qe.paint_line["line-color"]),"line-translate":new zr(Qe.paint_line["line-translate"]),"line-translate-anchor":new zr(Qe.paint_line["line-translate-anchor"]),"line-width":new Hr(Qe.paint_line["line-width"]),"line-gap-width":new Hr(Qe.paint_line["line-gap-width"]),"line-offset":new Hr(Qe.paint_line["line-offset"]),"line-blur":new Hr(Qe.paint_line["line-blur"]),"line-dasharray":new Uo(Qe.paint_line["line-dasharray"]),"line-pattern":new ao(Qe.paint_line["line-pattern"]),"line-gradient":new es(Qe.paint_line["line-gradient"])}),layout:Kv},Qv=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(Z,ue){return ue=new ii(Math.floor(ue.zoom),{now:ue.now,fadeDuration:ue.fadeDuration,zoomHistory:ue.zoomHistory,transition:ue.transition}),A.prototype.possiblyEvaluate.call(this,Z,ue)},D.prototype.evaluate=function(Z,ue,Ee,Ie){return ue=c({},ue,{zoom:Math.floor(ue.zoom)}),A.prototype.evaluate.call(this,Z,ue,Ee,Ie)},D}(Hr),Hd=new Qv(Vd.paint.properties["line-width"].specification);Hd.useIntegerZoom=!0;var $v=function(A){function D(Z){A.call(this,Z,Vd),this.gradientVersion=0}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._handleSpecialPaintPropertyUpdate=function(Z){if(Z==="line-gradient"){var ue=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=ue._styleExpression.expression instanceof Pr,this.gradientVersion=(this.gradientVersion+1)%i}},D.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},D.prototype.recalculate=function(Z,ue){A.prototype.recalculate.call(this,Z,ue),this.paint._values["line-floorwidth"]=Hd.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,Z)},D.prototype.createBucket=function(Z){return new Co(Z)},D.prototype.queryRadius=function(Z){var ue=Z,Ee=qd(Xc("line-width",this,ue),Xc("line-gap-width",this,ue)),Ie=Xc("line-offset",this,ue);return Ee/2+Math.abs(Ie)+jf(this.paint.get("line-translate"))},D.prototype.queryIntersectsFeature=function(Z,ue,Ee,Ie,He,tt,ht){var Tt=Uf(Z,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),tt.angle,ht),St=ht/2*qd(this.paint.get("line-width").evaluate(ue,Ee),this.paint.get("line-gap-width").evaluate(ue,Ee)),Nt=this.paint.get("line-offset").evaluate(ue,Ee);return Nt&&(Ie=function(Yt,Ut){for(var sn=[],cn=new t(0,0),Mn=0;Mn<Yt.length;Mn++){for(var wn=Yt[Mn],Bn=[],Un=0;Un<wn.length;Un++){var Xn=wn[Un-1],Kn=wn[Un],ur=wn[Un+1],wr=Un===0?cn:Kn.sub(Xn)._unit()._perp(),xr=Un===wn.length-1?cn:ur.sub(Kn)._unit()._perp(),Sr=wr._add(xr)._unit(),Or=Sr.x*xr.x+Sr.y*xr.y;Sr._mult(1/Or),Bn.push(Sr._mult(Ut)._add(Kn))}sn.push(Bn)}return sn}(Ie,Nt*ht)),function(Yt,Ut,sn){for(var cn=0;cn<Ut.length;cn++){var Mn=Ut[cn];if(Yt.length>=3){for(var wn=0;wn<Mn.length;wn++)if(Kl(Yt,Mn[wn]))return!0}if($h(Yt,Mn,sn))return!0}return!1}(Tt,Ie,St)},D.prototype.isTileClipped=function(){return!0},D}(mi);function qd(A,D){return D>0?D+2*A:A}var em=zi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),tm=zi([{name:"a_projected_pos",components:3,type:"Float32"}],4),nm=(zi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),zi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Gd=(zi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),zi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),rm=zi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function im(A,D,Z){return A.sections.forEach(function(ue){ue.text=function(Ee,Ie,He){var tt=Ie.layout.get("text-transform").evaluate(He,{});return tt==="uppercase"?Ee=Ee.toLocaleUpperCase():tt==="lowercase"&&(Ee=Ee.toLocaleLowerCase()),Ha.applyArabicShaping&&(Ee=Ha.applyArabicShaping(Ee)),Ee}(ue.text,D,Z)}),A}zi([{name:"triangle",components:3,type:"Uint16"}]),zi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),zi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),zi([{type:"Float32",name:"offsetX"}]),zi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var nf={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},Qa=24,Yd=function(A,D,Z,ue,Ee){var Ie,He,tt=8*Ee-ue-1,ht=(1<<tt)-1,Tt=ht>>1,St=-7,Nt=Z?Ee-1:0,Yt=Z?-1:1,Ut=A[D+Nt];for(Nt+=Yt,Ie=Ut&(1<<-St)-1,Ut>>=-St,St+=tt;St>0;Ie=256*Ie+A[D+Nt],Nt+=Yt,St-=8);for(He=Ie&(1<<-St)-1,Ie>>=-St,St+=ue;St>0;He=256*He+A[D+Nt],Nt+=Yt,St-=8);if(Ie===0)Ie=1-Tt;else{if(Ie===ht)return He?NaN:1/0*(Ut?-1:1);He+=Math.pow(2,ue),Ie-=Tt}return(Ut?-1:1)*He*Math.pow(2,Ie-ue)},Wd=function(A,D,Z,ue,Ee,Ie){var He,tt,ht,Tt=8*Ie-Ee-1,St=(1<<Tt)-1,Nt=St>>1,Yt=Ee===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ut=ue?0:Ie-1,sn=ue?1:-1,cn=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(tt=isNaN(D)?1:0,He=St):(He=Math.floor(Math.log(D)/Math.LN2),D*(ht=Math.pow(2,-He))<1&&(He--,ht*=2),(D+=He+Nt>=1?Yt/ht:Yt*Math.pow(2,1-Nt))*ht>=2&&(He++,ht/=2),He+Nt>=St?(tt=0,He=St):He+Nt>=1?(tt=(D*ht-1)*Math.pow(2,Ee),He+=Nt):(tt=D*Math.pow(2,Nt-1)*Math.pow(2,Ee),He=0));Ee>=8;A[Z+Ut]=255&tt,Ut+=sn,tt/=256,Ee-=8);for(He=He<<Ee|tt,Tt+=Ee;Tt>0;A[Z+Ut]=255&He,Ut+=sn,He/=256,Tt-=8);A[Z+Ut-sn]|=128*cn},Zf=Yi;function Yi(A){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(A)?A:new Uint8Array(A||0),this.pos=0,this.type=0,this.length=this.buf.length}Yi.Varint=0,Yi.Fixed64=1,Yi.Bytes=2,Yi.Fixed32=5;var hp=4294967296,Zd=1/hp,Xd=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function fu(A){return A.type===Yi.Bytes?A.readVarint()+A.pos:A.pos+1}function mc(A,D,Z){return Z?4294967296*D+(A>>>0):4294967296*(D>>>0)+(A>>>0)}function Jd(A,D,Z){var ue=D<=16383?1:D<=2097151?2:D<=268435455?3:Math.floor(Math.log(D)/(7*Math.LN2));Z.realloc(ue);for(var Ee=Z.pos-1;Ee>=A;Ee--)Z.buf[Ee+ue]=Z.buf[Ee]}function am(A,D){for(var Z=0;Z<A.length;Z++)D.writeVarint(A[Z])}function om(A,D){for(var Z=0;Z<A.length;Z++)D.writeSVarint(A[Z])}function sm(A,D){for(var Z=0;Z<A.length;Z++)D.writeFloat(A[Z])}function lm(A,D){for(var Z=0;Z<A.length;Z++)D.writeDouble(A[Z])}function um(A,D){for(var Z=0;Z<A.length;Z++)D.writeBoolean(A[Z])}function cm(A,D){for(var Z=0;Z<A.length;Z++)D.writeFixed32(A[Z])}function fm(A,D){for(var Z=0;Z<A.length;Z++)D.writeSFixed32(A[Z])}function hm(A,D){for(var Z=0;Z<A.length;Z++)D.writeFixed64(A[Z])}function pm(A,D){for(var Z=0;Z<A.length;Z++)D.writeSFixed64(A[Z])}function Xf(A,D){return(A[D]|A[D+1]<<8|A[D+2]<<16)+16777216*A[D+3]}function yc(A,D,Z){A[Z]=D,A[Z+1]=D>>>8,A[Z+2]=D>>>16,A[Z+3]=D>>>24}function Kd(A,D){return(A[D]|A[D+1]<<8|A[D+2]<<16)+(A[D+3]<<24)}Yi.prototype={destroy:function(){this.buf=null},readFields:function(A,D,Z){for(Z=Z||this.length;this.pos<Z;){var ue=this.readVarint(),Ee=ue>>3,Ie=this.pos;this.type=7&ue,A(Ee,D,this),this.pos===Ie&&this.skip(ue)}return D},readMessage:function(A,D){return this.readFields(A,D,this.readVarint()+this.pos)},readFixed32:function(){var A=Xf(this.buf,this.pos);return this.pos+=4,A},readSFixed32:function(){var A=Kd(this.buf,this.pos);return this.pos+=4,A},readFixed64:function(){var A=Xf(this.buf,this.pos)+Xf(this.buf,this.pos+4)*hp;return this.pos+=8,A},readSFixed64:function(){var A=Xf(this.buf,this.pos)+Kd(this.buf,this.pos+4)*hp;return this.pos+=8,A},readFloat:function(){var A=Yd(this.buf,this.pos,!0,23,4);return this.pos+=4,A},readDouble:function(){var A=Yd(this.buf,this.pos,!0,52,8);return this.pos+=8,A},readVarint:function(A){var D,Z,ue=this.buf;return D=127&(Z=ue[this.pos++]),Z<128?D:(D|=(127&(Z=ue[this.pos++]))<<7,Z<128?D:(D|=(127&(Z=ue[this.pos++]))<<14,Z<128?D:(D|=(127&(Z=ue[this.pos++]))<<21,Z<128?D:function(Ee,Ie,He){var tt,ht,Tt=He.buf;if(tt=(112&(ht=Tt[He.pos++]))>>4,ht<128||(tt|=(127&(ht=Tt[He.pos++]))<<3,ht<128)||(tt|=(127&(ht=Tt[He.pos++]))<<10,ht<128)||(tt|=(127&(ht=Tt[He.pos++]))<<17,ht<128)||(tt|=(127&(ht=Tt[He.pos++]))<<24,ht<128)||(tt|=(1&(ht=Tt[He.pos++]))<<31,ht<128))return mc(Ee,tt,Ie);throw new Error("Expected varint not more than 10 bytes")}(D|=(15&(Z=ue[this.pos]))<<28,A,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var A=this.readVarint();return A%2==1?(A+1)/-2:A/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var A=this.readVarint()+this.pos,D=this.pos;return this.pos=A,A-D>=12&&Xd?function(Z,ue,Ee){return Xd.decode(Z.subarray(ue,Ee))}(this.buf,D,A):function(Z,ue,Ee){for(var Ie="",He=ue;He<Ee;){var tt,ht,Tt,St=Z[He],Nt=null,Yt=St>239?4:St>223?3:St>191?2:1;if(He+Yt>Ee)break;Yt===1?St<128&&(Nt=St):Yt===2?(192&(tt=Z[He+1]))==128&&(Nt=(31&St)<<6|63&tt)<=127&&(Nt=null):Yt===3?(tt=Z[He+1],ht=Z[He+2],(192&tt)==128&&(192&ht)==128&&((Nt=(15&St)<<12|(63&tt)<<6|63&ht)<=2047||Nt>=55296&&Nt<=57343)&&(Nt=null)):Yt===4&&(tt=Z[He+1],ht=Z[He+2],Tt=Z[He+3],(192&tt)==128&&(192&ht)==128&&(192&Tt)==128&&((Nt=(15&St)<<18|(63&tt)<<12|(63&ht)<<6|63&Tt)<=65535||Nt>=1114112)&&(Nt=null)),Nt===null?(Nt=65533,Yt=1):Nt>65535&&(Nt-=65536,Ie+=String.fromCharCode(Nt>>>10&1023|55296),Nt=56320|1023&Nt),Ie+=String.fromCharCode(Nt),He+=Yt}return Ie}(this.buf,D,A)},readBytes:function(){var A=this.readVarint()+this.pos,D=this.buf.subarray(this.pos,A);return this.pos=A,D},readPackedVarint:function(A,D){if(this.type!==Yi.Bytes)return A.push(this.readVarint(D));var Z=fu(this);for(A=A||[];this.pos<Z;)A.push(this.readVarint(D));return A},readPackedSVarint:function(A){if(this.type!==Yi.Bytes)return A.push(this.readSVarint());var D=fu(this);for(A=A||[];this.pos<D;)A.push(this.readSVarint());return A},readPackedBoolean:function(A){if(this.type!==Yi.Bytes)return A.push(this.readBoolean());var D=fu(this);for(A=A||[];this.pos<D;)A.push(this.readBoolean());return A},readPackedFloat:function(A){if(this.type!==Yi.Bytes)return A.push(this.readFloat());var D=fu(this);for(A=A||[];this.pos<D;)A.push(this.readFloat());return A},readPackedDouble:function(A){if(this.type!==Yi.Bytes)return A.push(this.readDouble());var D=fu(this);for(A=A||[];this.pos<D;)A.push(this.readDouble());return A},readPackedFixed32:function(A){if(this.type!==Yi.Bytes)return A.push(this.readFixed32());var D=fu(this);for(A=A||[];this.pos<D;)A.push(this.readFixed32());return A},readPackedSFixed32:function(A){if(this.type!==Yi.Bytes)return A.push(this.readSFixed32());var D=fu(this);for(A=A||[];this.pos<D;)A.push(this.readSFixed32());return A},readPackedFixed64:function(A){if(this.type!==Yi.Bytes)return A.push(this.readFixed64());var D=fu(this);for(A=A||[];this.pos<D;)A.push(this.readFixed64());return A},readPackedSFixed64:function(A){if(this.type!==Yi.Bytes)return A.push(this.readSFixed64());var D=fu(this);for(A=A||[];this.pos<D;)A.push(this.readSFixed64());return A},skip:function(A){var D=7&A;if(D===Yi.Varint)for(;this.buf[this.pos++]>127;);else if(D===Yi.Bytes)this.pos=this.readVarint()+this.pos;else if(D===Yi.Fixed32)this.pos+=4;else{if(D!==Yi.Fixed64)throw new Error("Unimplemented type: "+D);this.pos+=8}},writeTag:function(A,D){this.writeVarint(A<<3|D)},realloc:function(A){for(var D=this.length||16;D<this.pos+A;)D*=2;if(D!==this.length){var Z=new Uint8Array(D);Z.set(this.buf),this.buf=Z,this.length=D}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(A){this.realloc(4),yc(this.buf,A,this.pos),this.pos+=4},writeSFixed32:function(A){this.realloc(4),yc(this.buf,A,this.pos),this.pos+=4},writeFixed64:function(A){this.realloc(8),yc(this.buf,-1&A,this.pos),yc(this.buf,Math.floor(A*Zd),this.pos+4),this.pos+=8},writeSFixed64:function(A){this.realloc(8),yc(this.buf,-1&A,this.pos),yc(this.buf,Math.floor(A*Zd),this.pos+4),this.pos+=8},writeVarint:function(A){(A=+A||0)>268435455||A<0?function(D,Z){var ue,Ee;if(D>=0?(ue=D%4294967296|0,Ee=D/4294967296|0):(Ee=~(-D/4294967296),4294967295^(ue=~(-D%4294967296))?ue=ue+1|0:(ue=0,Ee=Ee+1|0)),D>=18446744073709552e3||D<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");Z.realloc(10),function(Ie,He,tt){tt.buf[tt.pos++]=127&Ie|128,Ie>>>=7,tt.buf[tt.pos++]=127&Ie|128,Ie>>>=7,tt.buf[tt.pos++]=127&Ie|128,Ie>>>=7,tt.buf[tt.pos++]=127&Ie|128,Ie>>>=7,tt.buf[tt.pos]=127&Ie}(ue,0,Z),function(Ie,He){var tt=(7&Ie)<<4;He.buf[He.pos++]|=tt|((Ie>>>=3)?128:0),Ie&&(He.buf[He.pos++]=127&Ie|((Ie>>>=7)?128:0),Ie&&(He.buf[He.pos++]=127&Ie|((Ie>>>=7)?128:0),Ie&&(He.buf[He.pos++]=127&Ie|((Ie>>>=7)?128:0),Ie&&(He.buf[He.pos++]=127&Ie|((Ie>>>=7)?128:0),Ie&&(He.buf[He.pos++]=127&Ie)))))}(Ee,Z)}(A,this):(this.realloc(4),this.buf[this.pos++]=127&A|(A>127?128:0),A<=127||(this.buf[this.pos++]=127&(A>>>=7)|(A>127?128:0),A<=127||(this.buf[this.pos++]=127&(A>>>=7)|(A>127?128:0),A<=127||(this.buf[this.pos++]=A>>>7&127))))},writeSVarint:function(A){this.writeVarint(A<0?2*-A-1:2*A)},writeBoolean:function(A){this.writeVarint(!!A)},writeString:function(A){A=String(A),this.realloc(4*A.length),this.pos++;var D=this.pos;this.pos=function(ue,Ee,Ie){for(var He,tt,ht=0;ht<Ee.length;ht++){if((He=Ee.charCodeAt(ht))>55295&&He<57344){if(!tt){He>56319||ht+1===Ee.length?(ue[Ie++]=239,ue[Ie++]=191,ue[Ie++]=189):tt=He;continue}if(He<56320){ue[Ie++]=239,ue[Ie++]=191,ue[Ie++]=189,tt=He;continue}He=tt-55296<<10|He-56320|65536,tt=null}else tt&&(ue[Ie++]=239,ue[Ie++]=191,ue[Ie++]=189,tt=null);He<128?ue[Ie++]=He:(He<2048?ue[Ie++]=He>>6|192:(He<65536?ue[Ie++]=He>>12|224:(ue[Ie++]=He>>18|240,ue[Ie++]=He>>12&63|128),ue[Ie++]=He>>6&63|128),ue[Ie++]=63&He|128)}return Ie}(this.buf,A,this.pos);var Z=this.pos-D;Z>=128&&Jd(D,Z,this),this.pos=D-1,this.writeVarint(Z),this.pos+=Z},writeFloat:function(A){this.realloc(4),Wd(this.buf,A,this.pos,!0,23,4),this.pos+=4},writeDouble:function(A){this.realloc(8),Wd(this.buf,A,this.pos,!0,52,8),this.pos+=8},writeBytes:function(A){var D=A.length;this.writeVarint(D),this.realloc(D);for(var Z=0;Z<D;Z++)this.buf[this.pos++]=A[Z]},writeRawMessage:function(A,D){this.pos++;var Z=this.pos;A(D,this);var ue=this.pos-Z;ue>=128&&Jd(Z,ue,this),this.pos=Z-1,this.writeVarint(ue),this.pos+=ue},writeMessage:function(A,D,Z){this.writeTag(A,Yi.Bytes),this.writeRawMessage(D,Z)},writePackedVarint:function(A,D){D.length&&this.writeMessage(A,am,D)},writePackedSVarint:function(A,D){D.length&&this.writeMessage(A,om,D)},writePackedBoolean:function(A,D){D.length&&this.writeMessage(A,um,D)},writePackedFloat:function(A,D){D.length&&this.writeMessage(A,sm,D)},writePackedDouble:function(A,D){D.length&&this.writeMessage(A,lm,D)},writePackedFixed32:function(A,D){D.length&&this.writeMessage(A,cm,D)},writePackedSFixed32:function(A,D){D.length&&this.writeMessage(A,fm,D)},writePackedFixed64:function(A,D){D.length&&this.writeMessage(A,hm,D)},writePackedSFixed64:function(A,D){D.length&&this.writeMessage(A,pm,D)},writeBytesField:function(A,D){this.writeTag(A,Yi.Bytes),this.writeBytes(D)},writeFixed32Field:function(A,D){this.writeTag(A,Yi.Fixed32),this.writeFixed32(D)},writeSFixed32Field:function(A,D){this.writeTag(A,Yi.Fixed32),this.writeSFixed32(D)},writeFixed64Field:function(A,D){this.writeTag(A,Yi.Fixed64),this.writeFixed64(D)},writeSFixed64Field:function(A,D){this.writeTag(A,Yi.Fixed64),this.writeSFixed64(D)},writeVarintField:function(A,D){this.writeTag(A,Yi.Varint),this.writeVarint(D)},writeSVarintField:function(A,D){this.writeTag(A,Yi.Varint),this.writeSVarint(D)},writeStringField:function(A,D){this.writeTag(A,Yi.Bytes),this.writeString(D)},writeFloatField:function(A,D){this.writeTag(A,Yi.Fixed32),this.writeFloat(D)},writeDoubleField:function(A,D){this.writeTag(A,Yi.Fixed64),this.writeDouble(D)},writeBooleanField:function(A,D){this.writeVarintField(A,!!D)}};var pp=3;function dm(A,D,Z){A===1&&Z.readMessage(gm,D)}function gm(A,D,Z){if(A===3){var ue=Z.readMessage(vm,{}),Ee=ue.id,Ie=ue.bitmap,He=ue.width,tt=ue.height,ht=ue.left,Tt=ue.top,St=ue.advance;D.push({id:Ee,bitmap:new Ku({width:He+2*pp,height:tt+2*pp},Ie),metrics:{width:He,height:tt,left:ht,top:Tt,advance:St}})}}function vm(A,D,Z){A===1?D.id=Z.readVarint():A===2?D.bitmap=Z.readBytes():A===3?D.width=Z.readVarint():A===4?D.height=Z.readVarint():A===5?D.left=Z.readSVarint():A===6?D.top=Z.readSVarint():A===7&&(D.advance=Z.readVarint())}var Qd=pp;function $d(A){for(var D=0,Z=0,ue=0,Ee=A;ue<Ee.length;ue+=1){var Ie=Ee[ue];D+=Ie.w*Ie.h,Z=Math.max(Z,Ie.w)}A.sort(function(cn,Mn){return Mn.h-cn.h});for(var He=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(D/.95)),Z),h:1/0}],tt=0,ht=0,Tt=0,St=A;Tt<St.length;Tt+=1)for(var Nt=St[Tt],Yt=He.length-1;Yt>=0;Yt--){var Ut=He[Yt];if(!(Nt.w>Ut.w||Nt.h>Ut.h)){if(Nt.x=Ut.x,Nt.y=Ut.y,ht=Math.max(ht,Nt.y+Nt.h),tt=Math.max(tt,Nt.x+Nt.w),Nt.w===Ut.w&&Nt.h===Ut.h){var sn=He.pop();Yt<He.length&&(He[Yt]=sn)}else Nt.h===Ut.h?(Ut.x+=Nt.w,Ut.w-=Nt.w):Nt.w===Ut.w?(Ut.y+=Nt.h,Ut.h-=Nt.h):(He.push({x:Ut.x+Nt.w,y:Ut.y,w:Ut.w-Nt.w,h:Nt.h}),Ut.y+=Nt.h,Ut.h-=Nt.h);break}}return{w:tt,h:ht,fill:D/(tt*ht)||0}}var ns=1,Jf=function(A,D){var Z=D.pixelRatio,ue=D.version,Ee=D.stretchX,Ie=D.stretchY,He=D.content;this.paddedRect=A,this.pixelRatio=Z,this.stretchX=Ee,this.stretchY=Ie,this.content=He,this.version=ue},rf={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};rf.tl.get=function(){return[this.paddedRect.x+ns,this.paddedRect.y+ns]},rf.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-ns,this.paddedRect.y+this.paddedRect.h-ns]},rf.tlbr.get=function(){return this.tl.concat(this.br)},rf.displaySize.get=function(){return[(this.paddedRect.w-2*ns)/this.pixelRatio,(this.paddedRect.h-2*ns)/this.pixelRatio]},Object.defineProperties(Jf.prototype,rf);var af=function(A,D){var Z={},ue={};this.haveRenderCallbacks=[];var Ee=[];this.addImages(A,Z,Ee),this.addImages(D,ue,Ee);var Ie=$d(Ee),He=Ie.w,tt=Ie.h,ht=new Ho({width:He||1,height:tt||1});for(var Tt in A){var St=A[Tt],Nt=Z[Tt].paddedRect;Ho.copy(St.data,ht,{x:0,y:0},{x:Nt.x+ns,y:Nt.y+ns},St.data)}for(var Yt in D){var Ut=D[Yt],sn=ue[Yt].paddedRect,cn=sn.x+ns,Mn=sn.y+ns,wn=Ut.data.width,Bn=Ut.data.height;Ho.copy(Ut.data,ht,{x:0,y:0},{x:cn,y:Mn},Ut.data),Ho.copy(Ut.data,ht,{x:0,y:Bn-1},{x:cn,y:Mn-1},{width:wn,height:1}),Ho.copy(Ut.data,ht,{x:0,y:0},{x:cn,y:Mn+Bn},{width:wn,height:1}),Ho.copy(Ut.data,ht,{x:wn-1,y:0},{x:cn-1,y:Mn},{width:1,height:Bn}),Ho.copy(Ut.data,ht,{x:0,y:0},{x:cn+wn,y:Mn},{width:1,height:Bn})}this.image=ht,this.iconPositions=Z,this.patternPositions=ue};af.prototype.addImages=function(A,D,Z){for(var ue in A){var Ee=A[ue],Ie={x:0,y:0,w:Ee.data.width+2*ns,h:Ee.data.height+2*ns};Z.push(Ie),D[ue]=new Jf(Ie,Ee),Ee.hasRenderCallback&&this.haveRenderCallbacks.push(ue)}},af.prototype.patchUpdatedImages=function(A,D){for(var Z in A.dispatchRenderCallbacks(this.haveRenderCallbacks),A.updatedImages)this.patchUpdatedImage(this.iconPositions[Z],A.getImage(Z),D),this.patchUpdatedImage(this.patternPositions[Z],A.getImage(Z),D)},af.prototype.patchUpdatedImage=function(A,D,Z){if(A&&D&&A.version!==D.version){A.version=D.version;var ue=A.tl,Ee=ue[0],Ie=ue[1];Z.update(D.data,void 0,{x:Ee,y:Ie})}},Ir("ImagePosition",Jf),Ir("ImageAtlas",af);var ws={horizontal:1,vertical:2,horizontalOnly:3},of=-17,xc=function(){this.scale=1,this.fontStack="",this.imageName=null};xc.forText=function(A,D){var Z=new xc;return Z.scale=A||1,Z.fontStack=D,Z},xc.forImage=function(A){var D=new xc;return D.imageName=A,D};var mo=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Kf(A,D,Z,ue,Ee,Ie,He,tt,ht,Tt,St,Nt,Yt,Ut,sn,cn){var Mn,wn=mo.fromFeature(A,Ee);Nt===ws.vertical&&wn.verticalizePunctuation();var Bn=Ha.processBidirectionalText,Un=Ha.processStyledBidirectionalText;if(Bn&&wn.sections.length===1){Mn=[];for(var Xn=0,Kn=Bn(wn.toString(),dp(wn,Tt,Ie,D,ue,Ut,sn));Xn<Kn.length;Xn+=1){var ur=Kn[Xn],wr=new mo;wr.text=ur,wr.sections=wn.sections;for(var xr=0;xr<ur.length;xr++)wr.sectionIndex.push(0);Mn.push(wr)}}else if(Un){Mn=[];for(var Sr=0,Or=Un(wn.text,wn.sectionIndex,dp(wn,Tt,Ie,D,ue,Ut,sn));Sr<Or.length;Sr+=1){var Zr=Or[Sr],Nr=new mo;Nr.text=Zr[0],Nr.sectionIndex=Zr[1],Nr.sections=wn.sections,Mn.push(Nr)}}else Mn=function(Fr,ci){for(var $r=[],Bi=Fr.text,Gr=0,Oi=0,Wi=ci;Oi<Wi.length;Oi+=1){var $i=Wi[Oi];$r.push(Fr.substring(Gr,$i)),Gr=$i}return Gr<Bi.length&&$r.push(Fr.substring(Gr,Bi.length)),$r}(wn,dp(wn,Tt,Ie,D,ue,Ut,sn));var Wr=[],Ur={positionedLines:Wr,text:wn.toString(),top:St[1],bottom:St[1],left:St[0],right:St[0],writingMode:Nt,iconsInText:!1,verticalizable:!1};return function(Fr,ci,$r,Bi,Gr,Oi,Wi,$i,ea,Ni,La,oa){for(var Ga=0,lo=of,$a=0,Oo=0,eo=$i==="right"?1:$i==="left"?0:.5,Ia=0,to=0,Ya=Gr;to<Ya.length;to+=1){var Da=Ya[to];Da.trim();var ei=Da.getMaxScale(),di=(ei-1)*Qa,da={positionedGlyphs:[],lineOffset:0};Fr.positionedLines[Ia]=da;var Fi=da.positionedGlyphs,ua=0;if(Da.length()){for(var ia=0;ia<Da.length();ia++){var yi=Da.getSection(ia),ga=Da.getSectionIndex(ia),Po=Da.getCharCode(ia),is=0,yo=null,Ol=null,du=null,Wa=Qa,Pl=!(ea===ws.horizontal||!La&&!Qo(Po)||La&&(Qf[Po]||ys(Po)));if(yi.imageName){var sl=Bi[yi.imageName];if(!sl)continue;du=yi.imageName,Fr.iconsInText=Fr.iconsInText||!0,Ol=sl.paddedRect;var ll=sl.displaySize;yi.scale=yi.scale*Qa/oa,yo={width:ll[0],height:ll[1],left:ns,top:-Qd,advance:Pl?ll[1]:ll[0]},is=di+(Qa-ll[1]*yi.scale),Wa=yo.advance;var tc=Pl?ll[0]*yi.scale-Qa*ei:ll[1]*yi.scale-Qa*ei;tc>0&&tc>ua&&(ua=tc)}else{var sh=$r[yi.fontStack],nc=sh&&sh[Po];if(nc&&nc.rect)Ol=nc.rect,yo=nc.metrics;else{var lh=ci[yi.fontStack],cf=lh&&lh[Po];if(!cf)continue;yo=cf.metrics}is=(ei-yi.scale)*Qa}Pl?(Fr.verticalizable=!0,Fi.push({glyph:Po,imageName:du,x:Ga,y:lo+is,vertical:Pl,scale:yi.scale,fontStack:yi.fontStack,sectionIndex:ga,metrics:yo,rect:Ol}),Ga+=Wa*yi.scale+Ni):(Fi.push({glyph:Po,imageName:du,x:Ga,y:lo+is,vertical:Pl,scale:yi.scale,fontStack:yi.fontStack,sectionIndex:ga,metrics:yo,rect:Ol}),Ga+=yo.advance*yi.scale+Ni)}if(Fi.length!==0){var kp=Ga-Ni;$a=Math.max(kp,$a),ym(Fi,0,Fi.length-1,eo,ua)}Ga=0;var uh=Oi*ei+ua;da.lineOffset=Math.max(ua,di),lo+=uh,Oo=Math.max(uh,Oo),++Ia}else lo+=Oi,++Ia}var Lc=lo-of,ch=gp(Wi),fh=ch.horizontalAlign,ff=ch.verticalAlign;(function(Mp,hf,rc,Cc,hh,ph,Oc,dh,gh){var pf=(hf-rc)*hh,df=0;df=ph!==Oc?-dh*Cc-of:(-Cc*gh+.5)*Oc;for(var ic=0,gf=Mp;ic<gf.length;ic+=1)for(var ac=0,vf=gf[ic].positionedGlyphs;ac<vf.length;ac+=1){var mf=vf[ac];mf.x+=pf,mf.y+=df}})(Fr.positionedLines,eo,fh,ff,$a,Oo,Oi,Lc,Gr.length),Fr.top+=-ff*Lc,Fr.bottom=Fr.top+Lc,Fr.left+=-fh*$a,Fr.right=Fr.left+$a}(Ur,D,Z,ue,Mn,He,tt,ht,Nt,Tt,Yt,cn),!function(Fr){for(var ci=0,$r=Fr;ci<$r.length;ci+=1)if($r[ci].positionedGlyphs.length!==0)return!1;return!0}(Wr)&&Ur}mo.fromFeature=function(A,D){for(var Z=new mo,ue=0;ue<A.sections.length;ue++){var Ee=A.sections[ue];Ee.image?Z.addImageSection(Ee):Z.addTextSection(Ee,D)}return Z},mo.prototype.length=function(){return this.text.length},mo.prototype.getSection=function(A){return this.sections[this.sectionIndex[A]]},mo.prototype.getSectionIndex=function(A){return this.sectionIndex[A]},mo.prototype.getCharCode=function(A){return this.text.charCodeAt(A)},mo.prototype.verticalizePunctuation=function(){this.text=function(A){for(var D="",Z=0;Z<A.length;Z++){var ue=A.charCodeAt(Z+1)||null,Ee=A.charCodeAt(Z-1)||null;ue&&ha(ue)&&!nf[A[Z+1]]||Ee&&ha(Ee)&&!nf[A[Z-1]]||!nf[A[Z]]?D+=A[Z]:D+=nf[A[Z]]}return D}(this.text)},mo.prototype.trim=function(){for(var A=0,D=0;D<this.text.length&&Qf[this.text.charCodeAt(D)];D++)A++;for(var Z=this.text.length,ue=this.text.length-1;ue>=0&&ue>=A&&Qf[this.text.charCodeAt(ue)];ue--)Z--;this.text=this.text.substring(A,Z),this.sectionIndex=this.sectionIndex.slice(A,Z)},mo.prototype.substring=function(A,D){var Z=new mo;return Z.text=this.text.substring(A,D),Z.sectionIndex=this.sectionIndex.slice(A,D),Z.sections=this.sections,Z},mo.prototype.toString=function(){return this.text},mo.prototype.getMaxScale=function(){var A=this;return this.sectionIndex.reduce(function(D,Z){return Math.max(D,A.sections[Z].scale)},0)},mo.prototype.addTextSection=function(A,D){this.text+=A.text,this.sections.push(xc.forText(A.scale,A.fontStack||D));for(var Z=this.sections.length-1,ue=0;ue<A.text.length;++ue)this.sectionIndex.push(Z)},mo.prototype.addImageSection=function(A){var D=A.image?A.image.name:"";if(D.length!==0){var Z=this.getNextImageSectionCharCode();Z?(this.text+=String.fromCharCode(Z),this.sections.push(xc.forImage(D)),this.sectionIndex.push(this.sections.length-1)):E("Reached maximum number of images 6401")}else E("Can't add FormattedSection with an empty image.")},mo.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Qf={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},rs={};function e0(A,D,Z,ue,Ee,Ie){if(D.imageName){var He=ue[D.imageName];return He?He.displaySize[0]*D.scale*Qa/Ie+Ee:0}var tt=Z[D.fontStack],ht=tt&&tt[A];return ht?ht.metrics.advance*D.scale+Ee:0}function t0(A,D,Z,ue){var Ee=Math.pow(A-D,2);return ue?A<D?Ee/2:2*Ee:Ee+Math.abs(Z)*Z}function mm(A,D,Z){var ue=0;return A===10&&(ue-=1e4),Z&&(ue+=150),A!==40&&A!==65288||(ue+=50),D!==41&&D!==65289||(ue+=50),ue}function n0(A,D,Z,ue,Ee,Ie){for(var He=null,tt=t0(D,Z,Ee,Ie),ht=0,Tt=ue;ht<Tt.length;ht+=1){var St=Tt[ht],Nt=t0(D-St.x,Z,Ee,Ie)+St.badness;Nt<=tt&&(He=St,tt=Nt)}return{index:A,x:D,priorBreak:He,badness:tt}}function r0(A){return A?r0(A.priorBreak).concat(A.index):[]}function dp(A,D,Z,ue,Ee,Ie,He){if(Ie!=="point")return[];if(!A)return[];for(var tt=[],ht=function(Mn,wn,Bn,Un,Xn,Kn){for(var ur=0,wr=0;wr<Mn.length();wr++){var xr=Mn.getSection(wr);ur+=e0(Mn.getCharCode(wr),xr,Un,Xn,wn,Kn)}return ur/Math.max(1,Math.ceil(ur/Bn))}(A,D,Z,ue,Ee,He),Tt=A.text.indexOf("")>=0,St=0,Nt=0;Nt<A.length();Nt++){var Yt=A.getSection(Nt),Ut=A.getCharCode(Nt);if(Qf[Ut]||(St+=e0(Ut,Yt,ue,Ee,D,He)),Nt<A.length()-1){var sn=!((cn=Ut)<11904||!(Tr["Bopomofo Extended"](cn)||Tr.Bopomofo(cn)||Tr["CJK Compatibility Forms"](cn)||Tr["CJK Compatibility Ideographs"](cn)||Tr["CJK Compatibility"](cn)||Tr["CJK Radicals Supplement"](cn)||Tr["CJK Strokes"](cn)||Tr["CJK Symbols and Punctuation"](cn)||Tr["CJK Unified Ideographs Extension A"](cn)||Tr["CJK Unified Ideographs"](cn)||Tr["Enclosed CJK Letters and Months"](cn)||Tr["Halfwidth and Fullwidth Forms"](cn)||Tr.Hiragana(cn)||Tr["Ideographic Description Characters"](cn)||Tr["Kangxi Radicals"](cn)||Tr["Katakana Phonetic Extensions"](cn)||Tr.Katakana(cn)||Tr["Vertical Forms"](cn)||Tr["Yi Radicals"](cn)||Tr["Yi Syllables"](cn)));(rs[Ut]||sn||Yt.imageName)&&tt.push(n0(Nt+1,St,ht,tt,mm(Ut,A.getCharCode(Nt+1),sn&&Tt),!1))}}var cn;return r0(n0(A.length(),St,ht,tt,0,!0))}function gp(A){var D=.5,Z=.5;switch(A){case"right":case"top-right":case"bottom-right":D=1;break;case"left":case"top-left":case"bottom-left":D=0}switch(A){case"bottom":case"bottom-right":case"bottom-left":Z=1;break;case"top":case"top-right":case"top-left":Z=0}return{horizontalAlign:D,verticalAlign:Z}}function ym(A,D,Z,ue,Ee){if(ue||Ee)for(var Ie=A[Z],He=Ie.metrics.advance*Ie.scale,tt=(A[Z].x+He)*ue,ht=D;ht<=Z;ht++)A[ht].x-=tt,A[ht].y+=Ee}function i0(A,D,Z,ue,Ee,Ie){var He,tt=A.image;if(tt.content){var ht=tt.content,Tt=tt.pixelRatio||1;He=[ht[0]/Tt,ht[1]/Tt,tt.displaySize[0]-ht[2]/Tt,tt.displaySize[1]-ht[3]/Tt]}var St,Nt,Yt,Ut,sn=D.left*Ie,cn=D.right*Ie;Z==="width"||Z==="both"?(Ut=Ee[0]+sn-ue[3],Nt=Ee[0]+cn+ue[1]):Nt=(Ut=Ee[0]+(sn+cn-tt.displaySize[0])/2)+tt.displaySize[0];var Mn=D.top*Ie,wn=D.bottom*Ie;return Z==="height"||Z==="both"?(St=Ee[1]+Mn-ue[0],Yt=Ee[1]+wn+ue[2]):Yt=(St=Ee[1]+(Mn+wn-tt.displaySize[1])/2)+tt.displaySize[1],{image:tt,top:St,right:Nt,bottom:Yt,left:Ut,collisionPadding:He}}rs[10]=!0,rs[32]=!0,rs[38]=!0,rs[40]=!0,rs[41]=!0,rs[43]=!0,rs[45]=!0,rs[47]=!0,rs[173]=!0,rs[183]=!0,rs[8203]=!0,rs[8208]=!0,rs[8211]=!0,rs[8231]=!0;var bc=function(A){function D(Z,ue,Ee,Ie){A.call(this,Z,ue),this.angle=Ee,Ie!==void 0&&(this.segment=Ie)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.clone=function(){return new D(this.x,this.y,this.angle,this.segment)},D}(t);Ir("Anchor",bc);var Cl=128;function vp(A,D){var Z=D.expression;if(Z.kind==="constant")return{kind:"constant",layoutSize:Z.evaluate(new ii(A+1))};if(Z.kind==="source")return{kind:"source"};for(var ue=Z.zoomStops,Ee=Z.interpolationType,Ie=0;Ie<ue.length&&ue[Ie]<=A;)Ie++;for(var He=Ie=Math.max(0,Ie-1);He<ue.length&&ue[He]<A+1;)He++;He=Math.min(ue.length-1,He);var tt=ue[Ie],ht=ue[He];return Z.kind==="composite"?{kind:"composite",minZoom:tt,maxZoom:ht,interpolationType:Ee}:{kind:"camera",minZoom:tt,maxZoom:ht,minSize:Z.evaluate(new ii(tt)),maxSize:Z.evaluate(new ii(ht)),interpolationType:Ee}}function a0(A,D,Z){var ue=D.uSize,Ee=D.uSizeT,Ie=Z.lowerSize,He=Z.upperSize;return A.kind==="source"?Ie/Cl:A.kind==="composite"?Yr(Ie/Cl,He/Cl,Ee):ue}function o0(A,D){var Z=0,ue=0;if(A.kind==="constant")ue=A.layoutSize;else if(A.kind!=="source"){var Ee=A.interpolationType,Ie=A.minZoom,He=A.maxZoom,tt=Ee?u(ca.interpolationFactor(Ee,D,Ie,He),0,1):0;A.kind==="camera"?ue=Yr(A.minSize,A.maxSize,tt):Z=tt}return{uSizeT:Z,uSize:ue}}var xm=Object.freeze({__proto__:null,getSizeData:vp,evaluateSizeForFeature:a0,evaluateSizeForZoom:o0,SIZE_PACK_FACTOR:Cl});function s0(A,D,Z,ue,Ee){if(D.segment===void 0)return!0;for(var Ie=D,He=D.segment+1,tt=0;tt>-Z/2;){if(--He<0)return!1;tt-=A[He].dist(Ie),Ie=A[He]}tt+=A[He].dist(A[He+1]),He++;for(var ht=[],Tt=0;tt<Z/2;){var St=A[He-1],Nt=A[He],Yt=A[He+1];if(!Yt)return!1;var Ut=St.angleTo(Nt)-Nt.angleTo(Yt);for(Ut=Math.abs((Ut+3*Math.PI)%(2*Math.PI)-Math.PI),ht.push({distance:tt,angleDelta:Ut}),Tt+=Ut;tt-ht[0].distance>ue;)Tt-=ht.shift().angleDelta;if(Tt>Ee)return!1;He++,tt+=Nt.dist(Yt)}return!0}function l0(A){for(var D=0,Z=0;Z<A.length-1;Z++)D+=A[Z].dist(A[Z+1]);return D}function u0(A,D,Z){return A?.6*D*Z:0}function c0(A,D){return Math.max(A?A.right-A.left:0,D?D.right-D.left:0)}function bm(A,D,Z,ue,Ee,Ie){for(var He=u0(Z,Ee,Ie),tt=c0(Z,ue)*Ie,ht=0,Tt=l0(A)/2,St=0;St<A.length-1;St++){var Nt=A[St],Yt=A[St+1],Ut=Nt.dist(Yt);if(ht+Ut>Tt){var sn=(Tt-ht)/Ut,cn=Yr(Nt.x,Yt.x,sn),Mn=Yr(Nt.y,Yt.y,sn),wn=new bc(cn,Mn,Yt.angleTo(Nt),St);return wn._round(),!He||s0(A,wn,tt,He,D)?wn:void 0}ht+=Ut}}function _m(A,D,Z,ue,Ee,Ie,He,tt,ht){var Tt=u0(ue,Ie,He),St=c0(ue,Ee),Nt=St*He,Yt=A[0].x===0||A[0].x===ht||A[0].y===0||A[0].y===ht;return D-Nt<D/4&&(D=Nt+D/4),f0(A,Yt?D/2*tt%D:(St/2+2*Ie)*He*tt%D,D,Tt,Z,Nt,Yt,!1,ht)}function f0(A,D,Z,ue,Ee,Ie,He,tt,ht){for(var Tt=Ie/2,St=l0(A),Nt=0,Yt=D-Z,Ut=[],sn=0;sn<A.length-1;sn++){for(var cn=A[sn],Mn=A[sn+1],wn=cn.dist(Mn),Bn=Mn.angleTo(cn);Yt+Z<Nt+wn;){var Un=((Yt+=Z)-Nt)/wn,Xn=Yr(cn.x,Mn.x,Un),Kn=Yr(cn.y,Mn.y,Un);if(Xn>=0&&Xn<ht&&Kn>=0&&Kn<ht&&Yt-Tt>=0&&Yt+Tt<=St){var ur=new bc(Xn,Kn,Bn,sn);ur._round(),ue&&!s0(A,ur,Ie,ue,Ee)||Ut.push(ur)}}Nt+=wn}return tt||Ut.length||He||(Ut=f0(A,Nt/2,Z,ue,Ee,Ie,He,!0,ht)),Ut}function h0(A,D,Z,ue,Ee){for(var Ie=[],He=0;He<A.length;He++)for(var tt=A[He],ht=void 0,Tt=0;Tt<tt.length-1;Tt++){var St=tt[Tt],Nt=tt[Tt+1];St.x<D&&Nt.x<D||(St.x<D?St=new t(D,St.y+(Nt.y-St.y)*((D-St.x)/(Nt.x-St.x)))._round():Nt.x<D&&(Nt=new t(D,St.y+(Nt.y-St.y)*((D-St.x)/(Nt.x-St.x)))._round()),St.y<Z&&Nt.y<Z||(St.y<Z?St=new t(St.x+(Nt.x-St.x)*((Z-St.y)/(Nt.y-St.y)),Z)._round():Nt.y<Z&&(Nt=new t(St.x+(Nt.x-St.x)*((Z-St.y)/(Nt.y-St.y)),Z)._round()),St.x>=ue&&Nt.x>=ue||(St.x>=ue?St=new t(ue,St.y+(Nt.y-St.y)*((ue-St.x)/(Nt.x-St.x)))._round():Nt.x>=ue&&(Nt=new t(ue,St.y+(Nt.y-St.y)*((ue-St.x)/(Nt.x-St.x)))._round()),St.y>=Ee&&Nt.y>=Ee||(St.y>=Ee?St=new t(St.x+(Nt.x-St.x)*((Ee-St.y)/(Nt.y-St.y)),Ee)._round():Nt.y>=Ee&&(Nt=new t(St.x+(Nt.x-St.x)*((Ee-St.y)/(Nt.y-St.y)),Ee)._round()),ht&&St.equals(ht[ht.length-1])||(ht=[St],Ie.push(ht)),ht.push(Nt)))))}return Ie}var _c=ns;function p0(A,D,Z,ue){var Ee=[],Ie=A.image,He=Ie.pixelRatio,tt=Ie.paddedRect.w-2*_c,ht=Ie.paddedRect.h-2*_c,Tt=A.right-A.left,St=A.bottom-A.top,Nt=Ie.stretchX||[[0,tt]],Yt=Ie.stretchY||[[0,ht]],Ut=function(Oi,Wi){return Oi+Wi[1]-Wi[0]},sn=Nt.reduce(Ut,0),cn=Yt.reduce(Ut,0),Mn=tt-sn,wn=ht-cn,Bn=0,Un=sn,Xn=0,Kn=cn,ur=0,wr=Mn,xr=0,Sr=wn;if(Ie.content&&ue){var Or=Ie.content;Bn=$f(Nt,0,Or[0]),Xn=$f(Yt,0,Or[1]),Un=$f(Nt,Or[0],Or[2]),Kn=$f(Yt,Or[1],Or[3]),ur=Or[0]-Bn,xr=Or[1]-Xn,wr=Or[2]-Or[0]-Un,Sr=Or[3]-Or[1]-Kn}var Zr=function(Oi,Wi,$i,ea){var Ni=eh(Oi.stretch-Bn,Un,Tt,A.left),La=th(Oi.fixed-ur,wr,Oi.stretch,sn),oa=eh(Wi.stretch-Xn,Kn,St,A.top),Ga=th(Wi.fixed-xr,Sr,Wi.stretch,cn),lo=eh($i.stretch-Bn,Un,Tt,A.left),$a=th($i.fixed-ur,wr,$i.stretch,sn),Oo=eh(ea.stretch-Xn,Kn,St,A.top),eo=th(ea.fixed-xr,Sr,ea.stretch,cn),Ia=new t(Ni,oa),to=new t(lo,oa),Ya=new t(lo,Oo),Da=new t(Ni,Oo),ei=new t(La/He,Ga/He),di=new t($a/He,eo/He),da=D*Math.PI/180;if(da){var Fi=Math.sin(da),ua=Math.cos(da),ia=[ua,-Fi,Fi,ua];Ia._matMult(ia),to._matMult(ia),Da._matMult(ia),Ya._matMult(ia)}var yi=Oi.stretch+Oi.fixed,ga=$i.stretch+$i.fixed,Po=Wi.stretch+Wi.fixed,is=ea.stretch+ea.fixed;return{tl:Ia,tr:to,bl:Da,br:Ya,tex:{x:Ie.paddedRect.x+_c+yi,y:Ie.paddedRect.y+_c+Po,w:ga-yi,h:is-Po},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ei,pixelOffsetBR:di,minFontScaleX:wr/He/Tt,minFontScaleY:Sr/He/St,isSDF:Z}};if(ue&&(Ie.stretchX||Ie.stretchY))for(var Nr=d0(Nt,Mn,sn),Wr=d0(Yt,wn,cn),Ur=0;Ur<Nr.length-1;Ur++)for(var Fr=Nr[Ur],ci=Nr[Ur+1],$r=0;$r<Wr.length-1;$r++){var Bi=Wr[$r],Gr=Wr[$r+1];Ee.push(Zr(Fr,Bi,ci,Gr))}else Ee.push(Zr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:tt+1},{fixed:0,stretch:ht+1}));return Ee}function $f(A,D,Z){for(var ue=0,Ee=0,Ie=A;Ee<Ie.length;Ee+=1){var He=Ie[Ee];ue+=Math.max(D,Math.min(Z,He[1]))-Math.max(D,Math.min(Z,He[0]))}return ue}function d0(A,D,Z){for(var ue=[{fixed:-_c,stretch:0}],Ee=0,Ie=A;Ee<Ie.length;Ee+=1){var He=Ie[Ee],tt=He[0],ht=He[1],Tt=ue[ue.length-1];ue.push({fixed:tt-Tt.stretch,stretch:Tt.stretch}),ue.push({fixed:tt-Tt.stretch,stretch:Tt.stretch+(ht-tt)})}return ue.push({fixed:D+_c,stretch:Z}),ue}function eh(A,D,Z,ue){return A/D*Z+ue}function th(A,D,Z,ue){return A-D*Z/ue}var nh=function(A,D,Z,ue,Ee,Ie,He,tt,ht,Tt){if(this.boxStartIndex=A.length,ht){var St=Ie.top,Nt=Ie.bottom,Yt=Ie.collisionPadding;Yt&&(St-=Yt[1],Nt+=Yt[3]);var Ut=Nt-St;Ut>0&&(Ut=Math.max(10,Ut),this.circleDiameter=Ut)}else{var sn=Ie.top*He-tt,cn=Ie.bottom*He+tt,Mn=Ie.left*He-tt,wn=Ie.right*He+tt,Bn=Ie.collisionPadding;if(Bn&&(Mn-=Bn[0]*He,sn-=Bn[1]*He,wn+=Bn[2]*He,cn+=Bn[3]*He),Tt){var Un=new t(Mn,sn),Xn=new t(wn,sn),Kn=new t(Mn,cn),ur=new t(wn,cn),wr=Tt*Math.PI/180;Un._rotate(wr),Xn._rotate(wr),Kn._rotate(wr),ur._rotate(wr),Mn=Math.min(Un.x,Xn.x,Kn.x,ur.x),wn=Math.max(Un.x,Xn.x,Kn.x,ur.x),sn=Math.min(Un.y,Xn.y,Kn.y,ur.y),cn=Math.max(Un.y,Xn.y,Kn.y,ur.y)}A.emplaceBack(D.x,D.y,Mn,sn,wn,cn,Z,ue,Ee)}this.boxEndIndex=A.length},wc=function(A,D){if(A===void 0&&(A=[]),D===void 0&&(D=wm),this.data=A,this.length=this.data.length,this.compare=D,this.length>0)for(var Z=(this.length>>1)-1;Z>=0;Z--)this._down(Z)};function wm(A,D){return A<D?-1:A>D?1:0}function Tm(A,D,Z){D===void 0&&(D=1),Z===void 0&&(Z=!1);for(var ue=1/0,Ee=1/0,Ie=-1/0,He=-1/0,tt=A[0],ht=0;ht<tt.length;ht++){var Tt=tt[ht];(!ht||Tt.x<ue)&&(ue=Tt.x),(!ht||Tt.y<Ee)&&(Ee=Tt.y),(!ht||Tt.x>Ie)&&(Ie=Tt.x),(!ht||Tt.y>He)&&(He=Tt.y)}var St=Ie-ue,Nt=He-Ee,Yt=Math.min(St,Nt),Ut=Yt/2,sn=new wc([],km);if(Yt===0)return new t(ue,Ee);for(var cn=ue;cn<Ie;cn+=Yt)for(var Mn=Ee;Mn<He;Mn+=Yt)sn.push(new Tc(cn+Ut,Mn+Ut,Ut,A));for(var wn=function(Xn){for(var Kn=0,ur=0,wr=0,xr=Xn[0],Sr=0,Or=xr.length,Zr=Or-1;Sr<Or;Zr=Sr++){var Nr=xr[Sr],Wr=xr[Zr],Ur=Nr.x*Wr.y-Wr.x*Nr.y;ur+=(Nr.x+Wr.x)*Ur,wr+=(Nr.y+Wr.y)*Ur,Kn+=3*Ur}return new Tc(ur/Kn,wr/Kn,0,Xn)}(A),Bn=sn.length;sn.length;){var Un=sn.pop();(Un.d>wn.d||!wn.d)&&(wn=Un,Z&&console.log("found best %d after %d probes",Math.round(1e4*Un.d)/1e4,Bn)),Un.max-wn.d<=D||(Ut=Un.h/2,sn.push(new Tc(Un.p.x-Ut,Un.p.y-Ut,Ut,A)),sn.push(new Tc(Un.p.x+Ut,Un.p.y-Ut,Ut,A)),sn.push(new Tc(Un.p.x-Ut,Un.p.y+Ut,Ut,A)),sn.push(new Tc(Un.p.x+Ut,Un.p.y+Ut,Ut,A)),Bn+=4)}return Z&&(console.log("num probes: "+Bn),console.log("best distance: "+wn.d)),wn.p}function km(A,D){return D.max-A.max}function Tc(A,D,Z,ue){this.p=new t(A,D),this.h=Z,this.d=function(Ee,Ie){for(var He=!1,tt=1/0,ht=0;ht<Ie.length;ht++)for(var Tt=Ie[ht],St=0,Nt=Tt.length,Yt=Nt-1;St<Nt;Yt=St++){var Ut=Tt[St],sn=Tt[Yt];Ut.y>Ee.y!=sn.y>Ee.y&&Ee.x<(sn.x-Ut.x)*(Ee.y-Ut.y)/(sn.y-Ut.y)+Ut.x&&(He=!He),tt=Math.min(tt,Bf(Ee,Ut,sn))}return(He?1:-1)*Math.sqrt(tt)}(this.p,ue),this.max=this.d+this.h*Math.SQRT2}wc.prototype.push=function(A){this.data.push(A),this.length++,this._up(this.length-1)},wc.prototype.pop=function(){if(this.length!==0){var A=this.data[0],D=this.data.pop();return this.length--,this.length>0&&(this.data[0]=D,this._down(0)),A}},wc.prototype.peek=function(){return this.data[0]},wc.prototype._up=function(A){for(var D=this.data,Z=this.compare,ue=D[A];A>0;){var Ee=A-1>>1,Ie=D[Ee];if(Z(ue,Ie)>=0)break;D[A]=Ie,A=Ee}D[A]=ue},wc.prototype._down=function(A){for(var D=this.data,Z=this.compare,ue=this.length>>1,Ee=D[A];A<ue;){var Ie=1+(A<<1),He=D[Ie],tt=Ie+1;if(tt<this.length&&Z(D[tt],He)<0&&(Ie=tt,He=D[tt]),Z(He,Ee)>=0)break;D[A]=He,A=Ie}D[A]=Ee};var kc=7,mp=Number.POSITIVE_INFINITY;function g0(A,D){return D[1]!==mp?function(Z,ue,Ee){var Ie=0,He=0;switch(ue=Math.abs(ue),Ee=Math.abs(Ee),Z){case"top-right":case"top-left":case"top":He=Ee-kc;break;case"bottom-right":case"bottom-left":case"bottom":He=-Ee+kc}switch(Z){case"top-right":case"bottom-right":case"right":Ie=-ue;break;case"top-left":case"bottom-left":case"left":Ie=ue}return[Ie,He]}(A,D[0],D[1]):function(Z,ue){var Ee=0,Ie=0;ue<0&&(ue=0);var He=ue/Math.sqrt(2);switch(Z){case"top-right":case"top-left":Ie=He-kc;break;case"bottom-right":case"bottom-left":Ie=-He+kc;break;case"bottom":Ie=-ue+kc;break;case"top":Ie=ue-kc}switch(Z){case"top-right":case"bottom-right":Ee=-He;break;case"top-left":case"bottom-left":Ee=He;break;case"left":Ee=ue;break;case"right":Ee=-ue}return[Ee,Ie]}(A,D[0])}function yp(A){switch(A){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var sf=255,Bu=sf*Cl;function v0(A,D,Z,ue,Ee,Ie,He,tt,ht,Tt,St,Nt,Yt,Ut,sn){var cn=function(Xn,Kn,ur,wr,xr,Sr,Or,Zr){for(var Nr=wr.layout.get("text-rotate").evaluate(Sr,{})*Math.PI/180,Wr=[],Ur=0,Fr=Kn.positionedLines;Ur<Fr.length;Ur+=1)for(var ci=Fr[Ur],$r=0,Bi=ci.positionedGlyphs;$r<Bi.length;$r+=1){var Gr=Bi[$r];if(Gr.rect){var Oi=Gr.rect||{},Wi=Qd+1,$i=!0,ea=1,Ni=0,La=(xr||Zr)&&Gr.vertical,oa=Gr.metrics.advance*Gr.scale/2;if(Zr&&Kn.verticalizable){var Ga=(Gr.scale-1)*Qa,lo=(Qa-Gr.metrics.width*Gr.scale)/2;Ni=ci.lineOffset/2-(Gr.imageName?-lo:Ga)}if(Gr.imageName){var $a=Or[Gr.imageName];$i=$a.sdf,ea=$a.pixelRatio,Wi=ns/ea}var Oo=xr?[Gr.x+oa,Gr.y]:[0,0],eo=xr?[0,0]:[Gr.x+oa+ur[0],Gr.y+ur[1]-Ni],Ia=[0,0];La&&(Ia=eo,eo=[0,0]);var to=(Gr.metrics.left-Wi)*Gr.scale-oa+eo[0],Ya=(-Gr.metrics.top-Wi)*Gr.scale+eo[1],Da=to+Oi.w*Gr.scale/ea,ei=Ya+Oi.h*Gr.scale/ea,di=new t(to,Ya),da=new t(Da,Ya),Fi=new t(to,ei),ua=new t(Da,ei);if(La){var ia=new t(-oa,oa-of),yi=-Math.PI/2,ga=Qa/2-oa,Po=Gr.imageName?ga:0,is=new t(5-of-ga,-Po),yo=new(Function.prototype.bind.apply(t,[null].concat(Ia)));di._rotateAround(yi,ia)._add(is)._add(yo),da._rotateAround(yi,ia)._add(is)._add(yo),Fi._rotateAround(yi,ia)._add(is)._add(yo),ua._rotateAround(yi,ia)._add(is)._add(yo)}if(Nr){var Ol=Math.sin(Nr),du=Math.cos(Nr),Wa=[du,-Ol,Ol,du];di._matMult(Wa),da._matMult(Wa),Fi._matMult(Wa),ua._matMult(Wa)}var Pl=new t(0,0),sl=new t(0,0);Wr.push({tl:di,tr:da,bl:Fi,br:ua,tex:Oi,writingMode:Kn.writingMode,glyphOffset:Oo,sectionIndex:Gr.sectionIndex,isSDF:$i,pixelOffsetTL:Pl,pixelOffsetBR:sl,minFontScaleX:0,minFontScaleY:0})}}return Wr}(0,Z,tt,Ee,Ie,He,ue,A.allowVerticalPlacement),Mn=A.textSizeData,wn=null;Mn.kind==="source"?(wn=[Cl*Ee.layout.get("text-size").evaluate(He,{})])[0]>Bu&&E(A.layerIds[0]+': Value for "text-size" is >= '+sf+'. Reduce your "text-size".'):Mn.kind==="composite"&&((wn=[Cl*Ut.compositeTextSizes[0].evaluate(He,{},sn),Cl*Ut.compositeTextSizes[1].evaluate(He,{},sn)])[0]>Bu||wn[1]>Bu)&&E(A.layerIds[0]+': Value for "text-size" is >= '+sf+'. Reduce your "text-size".'),A.addSymbols(A.text,cn,wn,tt,Ie,He,Tt,D,ht.lineStartIndex,ht.lineLength,Yt,sn);for(var Bn=0,Un=St;Bn<Un.length;Bn+=1)Nt[Un[Bn]]=A.text.placedSymbolArray.length-1;return 4*cn.length}function m0(A){for(var D in A)return A[D];return null}function Mm(A,D,Z,ue){var Ee=A.compareText;if(D in Ee){for(var Ie=Ee[D],He=Ie.length-1;He>=0;He--)if(ue.dist(Ie[He])<Z)return!0}else Ee[D]=[];return Ee[D].push(ue),!1}var Am=vc.VectorTileFeature.types,Sm=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function rh(A,D,Z,ue,Ee,Ie,He,tt,ht,Tt,St,Nt,Yt){var Ut=tt?Math.min(Bu,Math.round(tt[0])):0,sn=tt?Math.min(Bu,Math.round(tt[1])):0;A.emplaceBack(D,Z,Math.round(32*ue),Math.round(32*Ee),Ie,He,(Ut<<1)+(ht?1:0),sn,16*Tt,16*St,256*Nt,256*Yt)}function xp(A,D,Z){A.emplaceBack(D.x,D.y,Z),A.emplaceBack(D.x,D.y,Z),A.emplaceBack(D.x,D.y,Z),A.emplaceBack(D.x,D.y,Z)}function Em(A){for(var D=0,Z=A.sections;D<Z.length;D+=1)if(Oa(Z[D].text))return!0;return!1}var Mc=function(A){this.layoutVertexArray=new Y,this.indexArray=new xe,this.programConfigurations=A,this.segments=new Wn,this.dynamicLayoutVertexArray=new G,this.opacityVertexArray=new C,this.placedSymbolArray=new zt};Mc.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Mc.prototype.upload=function(A,D,Z,ue){this.isEmpty()||(Z&&(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,em.members),this.indexBuffer=A.createIndexBuffer(this.indexArray,D),this.dynamicLayoutVertexBuffer=A.createVertexBuffer(this.dynamicLayoutVertexArray,tm.members,!0),this.opacityVertexBuffer=A.createVertexBuffer(this.opacityVertexArray,Sm,!0),this.opacityVertexBuffer.itemSize=1),(Z||ue)&&this.programConfigurations.upload(A))},Mc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Ir("SymbolBuffers",Mc);var lf=function(A,D,Z){this.layoutVertexArray=new A,this.layoutAttributes=D,this.indexArray=new Z,this.segments=new Wn,this.collisionVertexArray=new he};lf.prototype.upload=function(A){this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=A.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=A.createVertexBuffer(this.collisionVertexArray,nm.members,!0)},lf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Ir("CollisionBuffers",lf);var Ci=function(A){this.collisionBoxArray=A.collisionBoxArray,this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(He){return He.id}),this.index=A.index,this.pixelRatio=A.pixelRatio,this.sourceLayerIndex=A.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=tp([]),this.placementViewportMatrix=tp([]);var D=this.layers[0]._unevaluatedLayout._values;this.textSizeData=vp(this.zoom,D["text-size"]),this.iconSizeData=vp(this.zoom,D["icon-size"]);var Z=this.layers[0].layout,ue=Z.get("symbol-sort-key"),Ee=Z.get("symbol-z-order");this.canOverlap=Z.get("text-allow-overlap")||Z.get("icon-allow-overlap")||Z.get("text-ignore-placement")||Z.get("icon-ignore-placement"),this.sortFeaturesByKey=Ee!=="viewport-y"&&ue.constantOr(1)!==void 0;var Ie=Ee==="viewport-y"||Ee==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Ie&&this.canOverlap,Z.get("symbol-placement")==="point"&&(this.writingModes=Z.get("text-writing-mode").map(function(He){return ws[He]})),this.stateDependentLayerIds=this.layers.filter(function(He){return He.isStateDependent()}).map(function(He){return He.id}),this.sourceID=A.sourceID};Ci.prototype.createArrays=function(){this.text=new Mc(new la(this.layers,this.zoom,function(A){return/^text/.test(A)})),this.icon=new Mc(new la(this.layers,this.zoom,function(A){return/^icon/.test(A)})),this.glyphOffsetArray=new Vt,this.lineVertexArray=new gn,this.symbolInstances=new Wt},Ci.prototype.calculateGlyphDependencies=function(A,D,Z,ue,Ee){for(var Ie=0;Ie<A.length;Ie++)if(D[A.charCodeAt(Ie)]=!0,(Z||ue)&&Ee){var He=nf[A.charAt(Ie)];He&&(D[He.charCodeAt(0)]=!0)}},Ci.prototype.populate=function(A,D,Z){var ue=this.layers[0],Ee=ue.layout,Ie=Ee.get("text-font"),He=Ee.get("text-field"),tt=Ee.get("icon-image"),ht=(He.value.kind!=="constant"||He.value.value instanceof Nn&&!He.value.value.isEmpty()||He.value.value.toString().length>0)&&(Ie.value.kind!=="constant"||Ie.value.value.length>0),Tt=tt.value.kind!=="constant"||!!tt.value.value||Object.keys(tt.parameters).length>0,St=Ee.get("symbol-sort-key");if(this.features=[],ht||Tt){for(var Nt=D.iconDependencies,Yt=D.glyphDependencies,Ut=D.availableImages,sn=new ii(this.zoom),cn=0,Mn=A;cn<Mn.length;cn+=1){var wn=Mn[cn],Bn=wn.feature,Un=wn.id,Xn=wn.index,Kn=wn.sourceLayerIndex,ur=ue._featureFilter.needGeometry,wr=Gi(Bn,ur);if(ue._featureFilter.filter(sn,wr,Z)){ur||(wr.geometry=ts(Bn));var xr=void 0;if(ht){var Sr=ue.getValueAndResolveTokens("text-field",wr,Z,Ut),Or=Nn.factory(Sr);Em(Or)&&(this.hasRTLText=!0),(!this.hasRTLText||tl()==="unavailable"||this.hasRTLText&&Ha.isParsed())&&(xr=im(Or,ue,wr))}var Zr=void 0;if(Tt){var Nr=ue.getValueAndResolveTokens("icon-image",wr,Z,Ut);Zr=Nr instanceof or?Nr:or.fromString(Nr)}if(xr||Zr){var Wr=this.sortFeaturesByKey?St.evaluate(wr,{},Z):void 0,Ur={id:Un,text:xr,icon:Zr,index:Xn,sourceLayerIndex:Kn,geometry:wr.geometry,properties:Bn.properties,type:Am[Bn.type],sortKey:Wr};if(this.features.push(Ur),Zr&&(Nt[Zr.name]=!0),xr){var Fr=Ie.evaluate(wr,{},Z).join(","),ci=Ee.get("text-rotation-alignment")==="map"&&Ee.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(ws.vertical)>=0;for(var $r=0,Bi=xr.sections;$r<Bi.length;$r+=1){var Gr=Bi[$r];if(Gr.image)Nt[Gr.image.name]=!0;else{var Oi=Ml(xr.toString()),Wi=Gr.fontStack||Fr,$i=Yt[Wi]=Yt[Wi]||{};this.calculateGlyphDependencies(Gr.text,$i,ci,this.allowVerticalPlacement,Oi)}}}}}}Ee.get("symbol-placement")==="line"&&(this.features=function(ea){var Ni={},La={},oa=[],Ga=0;function lo(ua){oa.push(ea[ua]),Ga++}function $a(ua,ia,yi){var ga=La[ua];return delete La[ua],La[ia]=ga,oa[ga].geometry[0].pop(),oa[ga].geometry[0]=oa[ga].geometry[0].concat(yi[0]),ga}function Oo(ua,ia,yi){var ga=Ni[ia];return delete Ni[ia],Ni[ua]=ga,oa[ga].geometry[0].shift(),oa[ga].geometry[0]=yi[0].concat(oa[ga].geometry[0]),ga}function eo(ua,ia,yi){var ga=yi?ia[0][ia[0].length-1]:ia[0][0];return ua+":"+ga.x+":"+ga.y}for(var Ia=0;Ia<ea.length;Ia++){var to=ea[Ia],Ya=to.geometry,Da=to.text?to.text.toString():null;if(Da){var ei=eo(Da,Ya),di=eo(Da,Ya,!0);if(ei in La&&di in Ni&&La[ei]!==Ni[di]){var da=Oo(ei,di,Ya),Fi=$a(ei,di,oa[da].geometry);delete Ni[ei],delete La[di],La[eo(Da,oa[Fi].geometry,!0)]=Fi,oa[da].geometry=null}else ei in La?$a(ei,di,Ya):di in Ni?Oo(ei,di,Ya):(lo(Ia),Ni[ei]=Ga-1,La[di]=Ga-1)}else lo(Ia)}return oa.filter(function(ua){return ua.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(ea,Ni){return ea.sortKey-Ni.sortKey})}},Ci.prototype.update=function(A,D,Z){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(A,D,this.layers,Z),this.icon.programConfigurations.updatePaintArrays(A,D,this.layers,Z))},Ci.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Ci.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Ci.prototype.upload=function(A){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(A),this.iconCollisionBox.upload(A)),this.text.upload(A,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(A,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Ci.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Ci.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Ci.prototype.addToLineVertexArray=function(A,D){var Z=this.lineVertexArray.length;if(A.segment!==void 0){for(var ue=A.dist(D[A.segment+1]),Ee=A.dist(D[A.segment]),Ie={},He=A.segment+1;He<D.length;He++)Ie[He]={x:D[He].x,y:D[He].y,tileUnitDistanceFromAnchor:ue},He<D.length-1&&(ue+=D[He+1].dist(D[He]));for(var tt=A.segment||0;tt>=0;tt--)Ie[tt]={x:D[tt].x,y:D[tt].y,tileUnitDistanceFromAnchor:Ee},tt>0&&(Ee+=D[tt-1].dist(D[tt]));for(var ht=0;ht<D.length;ht++){var Tt=Ie[ht];this.lineVertexArray.emplaceBack(Tt.x,Tt.y,Tt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:Z,lineLength:this.lineVertexArray.length-Z}},Ci.prototype.addSymbols=function(A,D,Z,ue,Ee,Ie,He,tt,ht,Tt,St,Nt){for(var Yt=A.indexArray,Ut=A.layoutVertexArray,sn=A.segments.prepareSegment(4*D.length,Ut,Yt,this.canOverlap?Ie.sortKey:void 0),cn=this.glyphOffsetArray.length,Mn=sn.vertexLength,wn=this.allowVerticalPlacement&&He===ws.vertical?Math.PI/2:0,Bn=Ie.text&&Ie.text.sections,Un=0;Un<D.length;Un++){var Xn=D[Un],Kn=Xn.tl,ur=Xn.tr,wr=Xn.bl,xr=Xn.br,Sr=Xn.tex,Or=Xn.pixelOffsetTL,Zr=Xn.pixelOffsetBR,Nr=Xn.minFontScaleX,Wr=Xn.minFontScaleY,Ur=Xn.glyphOffset,Fr=Xn.isSDF,ci=Xn.sectionIndex,$r=sn.vertexLength,Bi=Ur[1];rh(Ut,tt.x,tt.y,Kn.x,Bi+Kn.y,Sr.x,Sr.y,Z,Fr,Or.x,Or.y,Nr,Wr),rh(Ut,tt.x,tt.y,ur.x,Bi+ur.y,Sr.x+Sr.w,Sr.y,Z,Fr,Zr.x,Or.y,Nr,Wr),rh(Ut,tt.x,tt.y,wr.x,Bi+wr.y,Sr.x,Sr.y+Sr.h,Z,Fr,Or.x,Zr.y,Nr,Wr),rh(Ut,tt.x,tt.y,xr.x,Bi+xr.y,Sr.x+Sr.w,Sr.y+Sr.h,Z,Fr,Zr.x,Zr.y,Nr,Wr),xp(A.dynamicLayoutVertexArray,tt,wn),Yt.emplaceBack($r,$r+1,$r+2),Yt.emplaceBack($r+1,$r+2,$r+3),sn.vertexLength+=4,sn.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ur[0]),Un!==D.length-1&&ci===D[Un+1].sectionIndex||A.programConfigurations.populatePaintArrays(Ut.length,Ie,Ie.index,{},Nt,Bn&&Bn[ci])}A.placedSymbolArray.emplaceBack(tt.x,tt.y,cn,this.glyphOffsetArray.length-cn,Mn,ht,Tt,tt.segment,Z?Z[0]:0,Z?Z[1]:0,ue[0],ue[1],He,0,!1,0,St)},Ci.prototype._addCollisionDebugVertex=function(A,D,Z,ue,Ee,Ie){return D.emplaceBack(0,0),A.emplaceBack(Z.x,Z.y,ue,Ee,Math.round(Ie.x),Math.round(Ie.y))},Ci.prototype.addCollisionDebugVertices=function(A,D,Z,ue,Ee,Ie,He){var tt=Ee.segments.prepareSegment(4,Ee.layoutVertexArray,Ee.indexArray),ht=tt.vertexLength,Tt=Ee.layoutVertexArray,St=Ee.collisionVertexArray,Nt=He.anchorX,Yt=He.anchorY;this._addCollisionDebugVertex(Tt,St,Ie,Nt,Yt,new t(A,D)),this._addCollisionDebugVertex(Tt,St,Ie,Nt,Yt,new t(Z,D)),this._addCollisionDebugVertex(Tt,St,Ie,Nt,Yt,new t(Z,ue)),this._addCollisionDebugVertex(Tt,St,Ie,Nt,Yt,new t(A,ue)),tt.vertexLength+=4;var Ut=Ee.indexArray;Ut.emplaceBack(ht,ht+1),Ut.emplaceBack(ht+1,ht+2),Ut.emplaceBack(ht+2,ht+3),Ut.emplaceBack(ht+3,ht),tt.primitiveLength+=4},Ci.prototype.addDebugCollisionBoxes=function(A,D,Z,ue){for(var Ee=A;Ee<D;Ee++){var Ie=this.collisionBoxArray.get(Ee),He=Ie.x1,tt=Ie.y1,ht=Ie.x2,Tt=Ie.y2;this.addCollisionDebugVertices(He,tt,ht,Tt,ue?this.textCollisionBox:this.iconCollisionBox,Ie.anchorPoint,Z)}},Ci.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new lf($,Gd.members,pt),this.iconCollisionBox=new lf($,Gd.members,pt);for(var A=0;A<this.symbolInstances.length;A++){var D=this.symbolInstances.get(A);this.addDebugCollisionBoxes(D.textBoxStartIndex,D.textBoxEndIndex,D,!0),this.addDebugCollisionBoxes(D.verticalTextBoxStartIndex,D.verticalTextBoxEndIndex,D,!0),this.addDebugCollisionBoxes(D.iconBoxStartIndex,D.iconBoxEndIndex,D,!1),this.addDebugCollisionBoxes(D.verticalIconBoxStartIndex,D.verticalIconBoxEndIndex,D,!1)}},Ci.prototype._deserializeCollisionBoxesForSymbol=function(A,D,Z,ue,Ee,Ie,He,tt,ht){for(var Tt={},St=D;St<Z;St++){var Nt=A.get(St);Tt.textBox={x1:Nt.x1,y1:Nt.y1,x2:Nt.x2,y2:Nt.y2,anchorPointX:Nt.anchorPointX,anchorPointY:Nt.anchorPointY},Tt.textFeatureIndex=Nt.featureIndex;break}for(var Yt=ue;Yt<Ee;Yt++){var Ut=A.get(Yt);Tt.verticalTextBox={x1:Ut.x1,y1:Ut.y1,x2:Ut.x2,y2:Ut.y2,anchorPointX:Ut.anchorPointX,anchorPointY:Ut.anchorPointY},Tt.verticalTextFeatureIndex=Ut.featureIndex;break}for(var sn=Ie;sn<He;sn++){var cn=A.get(sn);Tt.iconBox={x1:cn.x1,y1:cn.y1,x2:cn.x2,y2:cn.y2,anchorPointX:cn.anchorPointX,anchorPointY:cn.anchorPointY},Tt.iconFeatureIndex=cn.featureIndex;break}for(var Mn=tt;Mn<ht;Mn++){var wn=A.get(Mn);Tt.verticalIconBox={x1:wn.x1,y1:wn.y1,x2:wn.x2,y2:wn.y2,anchorPointX:wn.anchorPointX,anchorPointY:wn.anchorPointY},Tt.verticalIconFeatureIndex=wn.featureIndex;break}return Tt},Ci.prototype.deserializeCollisionBoxes=function(A){this.collisionArrays=[];for(var D=0;D<this.symbolInstances.length;D++){var Z=this.symbolInstances.get(D);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(A,Z.textBoxStartIndex,Z.textBoxEndIndex,Z.verticalTextBoxStartIndex,Z.verticalTextBoxEndIndex,Z.iconBoxStartIndex,Z.iconBoxEndIndex,Z.verticalIconBoxStartIndex,Z.verticalIconBoxEndIndex))}},Ci.prototype.hasTextData=function(){return this.text.segments.get().length>0},Ci.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Ci.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Ci.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Ci.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Ci.prototype.addIndicesForPlacedSymbol=function(A,D){for(var Z=A.placedSymbolArray.get(D),ue=Z.vertexStartIndex+4*Z.numGlyphs,Ee=Z.vertexStartIndex;Ee<ue;Ee+=4)A.indexArray.emplaceBack(Ee,Ee+1,Ee+2),A.indexArray.emplaceBack(Ee+1,Ee+2,Ee+3)},Ci.prototype.getSortedSymbolIndexes=function(A){if(this.sortedAngle===A&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var D=Math.sin(A),Z=Math.cos(A),ue=[],Ee=[],Ie=[],He=0;He<this.symbolInstances.length;++He){Ie.push(He);var tt=this.symbolInstances.get(He);ue.push(0|Math.round(D*tt.anchorX+Z*tt.anchorY)),Ee.push(tt.featureIndex)}return Ie.sort(function(ht,Tt){return ue[ht]-ue[Tt]||Ee[Tt]-Ee[ht]}),Ie},Ci.prototype.addToSortKeyRanges=function(A,D){var Z=this.sortKeyRanges[this.sortKeyRanges.length-1];Z&&Z.sortKey===D?Z.symbolInstanceEnd=A+1:this.sortKeyRanges.push({sortKey:D,symbolInstanceStart:A,symbolInstanceEnd:A+1})},Ci.prototype.sortFeatures=function(A){var D=this;if(this.sortFeaturesByY&&this.sortedAngle!==A&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(A),this.sortedAngle=A,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var Z=0,ue=this.symbolInstanceIndexes;Z<ue.length;Z+=1){var Ee=ue[Z],Ie=this.symbolInstances.get(Ee);this.featureSortOrder.push(Ie.featureIndex),[Ie.rightJustifiedTextSymbolIndex,Ie.centerJustifiedTextSymbolIndex,Ie.leftJustifiedTextSymbolIndex].forEach(function(He,tt,ht){He>=0&&ht.indexOf(He)===tt&&D.addIndicesForPlacedSymbol(D.text,He)}),Ie.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Ie.verticalPlacedTextSymbolIndex),Ie.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ie.placedIconSymbolIndex),Ie.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ie.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Ir("SymbolBucket",Ci,{omit:["layers","collisionBoxArray","features","compareText"]}),Ci.MAX_GLYPHS=65535,Ci.addDynamicAttributes=xp;var Lm=new na({"symbol-placement":new zr(Qe.layout_symbol["symbol-placement"]),"symbol-spacing":new zr(Qe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new zr(Qe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Hr(Qe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new zr(Qe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new zr(Qe.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new zr(Qe.layout_symbol["icon-ignore-placement"]),"icon-optional":new zr(Qe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new zr(Qe.layout_symbol["icon-rotation-alignment"]),"icon-size":new Hr(Qe.layout_symbol["icon-size"]),"icon-text-fit":new zr(Qe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new zr(Qe.layout_symbol["icon-text-fit-padding"]),"icon-image":new Hr(Qe.layout_symbol["icon-image"]),"icon-rotate":new Hr(Qe.layout_symbol["icon-rotate"]),"icon-padding":new zr(Qe.layout_symbol["icon-padding"]),"icon-keep-upright":new zr(Qe.layout_symbol["icon-keep-upright"]),"icon-offset":new Hr(Qe.layout_symbol["icon-offset"]),"icon-anchor":new Hr(Qe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new zr(Qe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new zr(Qe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new zr(Qe.layout_symbol["text-rotation-alignment"]),"text-field":new Hr(Qe.layout_symbol["text-field"]),"text-font":new Hr(Qe.layout_symbol["text-font"]),"text-size":new Hr(Qe.layout_symbol["text-size"]),"text-max-width":new Hr(Qe.layout_symbol["text-max-width"]),"text-line-height":new zr(Qe.layout_symbol["text-line-height"]),"text-letter-spacing":new Hr(Qe.layout_symbol["text-letter-spacing"]),"text-justify":new Hr(Qe.layout_symbol["text-justify"]),"text-radial-offset":new Hr(Qe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new zr(Qe.layout_symbol["text-variable-anchor"]),"text-anchor":new Hr(Qe.layout_symbol["text-anchor"]),"text-max-angle":new zr(Qe.layout_symbol["text-max-angle"]),"text-writing-mode":new zr(Qe.layout_symbol["text-writing-mode"]),"text-rotate":new Hr(Qe.layout_symbol["text-rotate"]),"text-padding":new zr(Qe.layout_symbol["text-padding"]),"text-keep-upright":new zr(Qe.layout_symbol["text-keep-upright"]),"text-transform":new Hr(Qe.layout_symbol["text-transform"]),"text-offset":new Hr(Qe.layout_symbol["text-offset"]),"text-allow-overlap":new zr(Qe.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new zr(Qe.layout_symbol["text-ignore-placement"]),"text-optional":new zr(Qe.layout_symbol["text-optional"])}),bp={paint:new na({"icon-opacity":new Hr(Qe.paint_symbol["icon-opacity"]),"icon-color":new Hr(Qe.paint_symbol["icon-color"]),"icon-halo-color":new Hr(Qe.paint_symbol["icon-halo-color"]),"icon-halo-width":new Hr(Qe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Hr(Qe.paint_symbol["icon-halo-blur"]),"icon-translate":new zr(Qe.paint_symbol["icon-translate"]),"icon-translate-anchor":new zr(Qe.paint_symbol["icon-translate-anchor"]),"text-opacity":new Hr(Qe.paint_symbol["text-opacity"]),"text-color":new Hr(Qe.paint_symbol["text-color"],{runtimeType:on,getOverride:function(A){return A.textColor},hasOverride:function(A){return!!A.textColor}}),"text-halo-color":new Hr(Qe.paint_symbol["text-halo-color"]),"text-halo-width":new Hr(Qe.paint_symbol["text-halo-width"]),"text-halo-blur":new Hr(Qe.paint_symbol["text-halo-blur"]),"text-translate":new zr(Qe.paint_symbol["text-translate"]),"text-translate-anchor":new zr(Qe.paint_symbol["text-translate-anchor"])}),layout:Lm},Ac=function(A){this.type=A.property.overrides?A.property.overrides.runtimeType:Ot,this.defaultValue=A};Ac.prototype.evaluate=function(A){if(A.formattedSection){var D=this.defaultValue.property.overrides;if(D&&D.hasOverride(A.formattedSection))return D.getOverride(A.formattedSection)}return A.feature&&A.featureState?this.defaultValue.evaluate(A.feature,A.featureState):this.defaultValue.property.specification.default},Ac.prototype.eachChild=function(A){this.defaultValue.isConstant()||A(this.defaultValue.value._styleExpression.expression)},Ac.prototype.outputDefined=function(){return!1},Ac.prototype.serialize=function(){return null},Ir("FormatSectionOverride",Ac,{omit:["defaultValue"]});var Cm=function(A){function D(Z){A.call(this,Z,bp)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(Z,ue){if(A.prototype.recalculate.call(this,Z,ue),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Ee=this.layout.get("text-writing-mode");if(Ee){for(var Ie=[],He=0,tt=Ee;He<tt.length;He+=1){var ht=tt[He];Ie.indexOf(ht)<0&&Ie.push(ht)}this.layout._values["text-writing-mode"]=Ie}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},D.prototype.getValueAndResolveTokens=function(Z,ue,Ee,Ie){var He=this.layout.get(Z).evaluate(ue,{},Ee,Ie),tt=this._unevaluatedLayout._values[Z];return tt.isDataDriven()||Ds(tt.value)||!He?He:function(ht,Tt){return Tt.replace(/{([^{}]+)}/g,function(St,Nt){return Nt in ht?String(ht[Nt]):""})}(ue.properties,He)},D.prototype.createBucket=function(Z){return new Ci(Z)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype._setPaintOverrides=function(){for(var Z=0,ue=bp.paint.overridableProperties;Z<ue.length;Z+=1){var Ee=ue[Z];if(D.hasPaintOverride(this.layout,Ee)){var Ie,He=this.paint.get(Ee),tt=new Ac(He),ht=new fs(tt,He.property.specification);Ie=He.value.kind==="constant"||He.value.kind==="source"?new To("source",ht):new Js("composite",ht,He.value.zoomStops,He.value._interpolationType),this.paint._values[Ee]=new Ei(He.property,Ie,He.parameters)}}},D.prototype._handleOverridablePaintPropertyUpdate=function(Z,ue,Ee){return!(!this.layout||ue.isDataDriven()||Ee.isDataDriven())&&D.hasPaintOverride(this.layout,Z)},D.hasPaintOverride=function(Z,ue){var Ee=Z.get("text-field"),Ie=bp.paint.properties[ue],He=!1,tt=function(St){for(var Nt=0,Yt=St;Nt<Yt.length;Nt+=1){var Ut=Yt[Nt];if(Ie.overrides&&Ie.overrides.hasOverride(Ut))return void(He=!0)}};if(Ee.value.kind==="constant"&&Ee.value.value instanceof Nn)tt(Ee.value.value.sections);else if(Ee.value.kind==="source"){var ht=function(St){if(!He)if(St instanceof Ht&&$n(St.value)===Cn){var Nt=St.value;tt(Nt.sections)}else St instanceof En?tt(St.sections):St.eachChild(ht)},Tt=Ee.value;Tt._styleExpression&&ht(Tt._styleExpression.expression)}return He},D}(mi),Om={paint:new na({"background-color":new zr(Qe.paint_background["background-color"]),"background-pattern":new Uo(Qe.paint_background["background-pattern"]),"background-opacity":new zr(Qe.paint_background["background-opacity"])})},Pm=function(A){function D(Z){A.call(this,Z,Om)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D}(mi),Im={paint:new na({"raster-opacity":new zr(Qe.paint_raster["raster-opacity"]),"raster-hue-rotate":new zr(Qe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new zr(Qe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new zr(Qe.paint_raster["raster-brightness-max"]),"raster-saturation":new zr(Qe.paint_raster["raster-saturation"]),"raster-contrast":new zr(Qe.paint_raster["raster-contrast"]),"raster-resampling":new zr(Qe.paint_raster["raster-resampling"]),"raster-fade-duration":new zr(Qe.paint_raster["raster-fade-duration"])})},Dm=function(A){function D(Z){A.call(this,Z,Im)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D}(mi),zm=function(A){function D(Z){A.call(this,Z,{}),this.implementation=Z}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},D.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},D.prototype.recalculate=function(){},D.prototype.updateTransitions=function(){},D.prototype.hasTransition=function(){},D.prototype.serialize=function(){},D.prototype.onAdd=function(Z){this.implementation.onAdd&&this.implementation.onAdd(Z,Z.painter.context.gl)},D.prototype.onRemove=function(Z){this.implementation.onRemove&&this.implementation.onRemove(Z,Z.painter.context.gl)},D}(mi),Rm={circle:vv,heatmap:yv,hillshade:bv,fill:Fv,"fill-extrusion":Yv,line:$v,symbol:Cm,background:Pm,raster:Dm},y0=n.HTMLImageElement,x0=n.HTMLCanvasElement,b0=n.HTMLVideoElement,_0=n.ImageData,ih=n.ImageBitmap,Qu=function(A,D,Z,ue){this.context=A,this.format=Z,this.texture=A.gl.createTexture(),this.update(D,ue)};Qu.prototype.update=function(A,D,Z){var ue=A.width,Ee=A.height,Ie=!(this.size&&this.size[0]===ue&&this.size[1]===Ee||Z),He=this.context,tt=He.gl;if(this.useMipmap=!!(D&&D.useMipmap),tt.bindTexture(tt.TEXTURE_2D,this.texture),He.pixelStoreUnpackFlipY.set(!1),He.pixelStoreUnpack.set(1),He.pixelStoreUnpackPremultiplyAlpha.set(this.format===tt.RGBA&&(!D||D.premultiply!==!1)),Ie)this.size=[ue,Ee],A instanceof y0||A instanceof x0||A instanceof b0||A instanceof _0||ih&&A instanceof ih?tt.texImage2D(tt.TEXTURE_2D,0,this.format,this.format,tt.UNSIGNED_BYTE,A):tt.texImage2D(tt.TEXTURE_2D,0,this.format,ue,Ee,0,this.format,tt.UNSIGNED_BYTE,A.data);else{var ht=Z||{x:0,y:0},Tt=ht.x,St=ht.y;A instanceof y0||A instanceof x0||A instanceof b0||A instanceof _0||ih&&A instanceof ih?tt.texSubImage2D(tt.TEXTURE_2D,0,Tt,St,tt.RGBA,tt.UNSIGNED_BYTE,A):tt.texSubImage2D(tt.TEXTURE_2D,0,Tt,St,ue,Ee,tt.RGBA,tt.UNSIGNED_BYTE,A.data)}this.useMipmap&&this.isSizePowerOfTwo()&&tt.generateMipmap(tt.TEXTURE_2D)},Qu.prototype.bind=function(A,D,Z){var ue=this.context.gl;ue.bindTexture(ue.TEXTURE_2D,this.texture),Z!==ue.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(Z=ue.LINEAR),A!==this.filter&&(ue.texParameteri(ue.TEXTURE_2D,ue.TEXTURE_MAG_FILTER,A),ue.texParameteri(ue.TEXTURE_2D,ue.TEXTURE_MIN_FILTER,Z||A),this.filter=A),D!==this.wrap&&(ue.texParameteri(ue.TEXTURE_2D,ue.TEXTURE_WRAP_S,D),ue.texParameteri(ue.TEXTURE_2D,ue.TEXTURE_WRAP_T,D),this.wrap=D)},Qu.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Qu.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var _p=function(A){var D=this;this._callback=A,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){D._triggered=!1,D._callback()})};_p.prototype.trigger=function(){var A=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){A._triggered=!1,A._callback()},0))},_p.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Sc=function(A,D,Z){this.target=A,this.parent=D,this.mapId=Z,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},y(["receive","process"],this),this.invoker=new _p(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=I()?A:n};function w0(A,D,Z){var ue=2*Math.PI*6378137/256/Math.pow(2,Z);return[A*ue-2*Math.PI*6378137/2,D*ue-2*Math.PI*6378137/2]}Sc.prototype.send=function(A,D,Z,ue,Ee){var Ie=this;Ee===void 0&&(Ee=!1);var He=Math.round(1e18*Math.random()).toString(36).substring(0,10);Z&&(this.callbacks[He]=Z);var tt=z(this.globalScope)?void 0:[];return this.target.postMessage({id:He,type:A,hasCallback:!!Z,targetMapId:ue,mustQueue:Ee,sourceMapId:this.mapId,data:ms(D,tt)},tt),{cancel:function(){Z&&delete Ie.callbacks[He],Ie.target.postMessage({id:He,type:"<cancel>",targetMapId:ue,sourceMapId:Ie.mapId})}}},Sc.prototype.receive=function(A){var D=A.data,Z=D.id;if(Z&&(!D.targetMapId||this.mapId===D.targetMapId))if(D.type==="<cancel>"){delete this.tasks[Z];var ue=this.cancelCallbacks[Z];delete this.cancelCallbacks[Z],ue&&ue()}else I()||D.mustQueue?(this.tasks[Z]=D,this.taskQueue.push(Z),this.invoker.trigger()):this.processTask(Z,D)},Sc.prototype.process=function(){if(this.taskQueue.length){var A=this.taskQueue.shift(),D=this.tasks[A];delete this.tasks[A],this.taskQueue.length&&this.invoker.trigger(),D&&this.processTask(A,D)}},Sc.prototype.processTask=function(A,D){var Z=this;if(D.type==="<response>"){var ue=this.callbacks[A];delete this.callbacks[A],ue&&(D.error?ue(js(D.error)):ue(null,js(D.data)))}else{var Ee=!1,Ie=z(this.globalScope)?void 0:[],He=D.hasCallback?function(St,Nt){Ee=!0,delete Z.cancelCallbacks[A],Z.target.postMessage({id:A,type:"<response>",sourceMapId:Z.mapId,error:St?ms(St):null,data:ms(Nt,Ie)},Ie)}:function(St){Ee=!0},tt=null,ht=js(D.data);if(this.parent[D.type])tt=this.parent[D.type](D.sourceMapId,ht,He);else if(this.parent.getWorkerSource){var Tt=D.type.split(".");tt=this.parent.getWorkerSource(D.sourceMapId,Tt[0],ht.source)[Tt[1]](ht,He)}else He(new Error("Could not find function "+D.type));!Ee&&tt&&tt.cancel&&(this.cancelCallbacks[A]=tt.cancel)}},Sc.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Sa=function(A,D){A&&(D?this.setSouthWest(A).setNorthEast(D):A.length===4?this.setSouthWest([A[0],A[1]]).setNorthEast([A[2],A[3]]):this.setSouthWest(A[0]).setNorthEast(A[1]))};Sa.prototype.setNorthEast=function(A){return this._ne=A instanceof ra?new ra(A.lng,A.lat):ra.convert(A),this},Sa.prototype.setSouthWest=function(A){return this._sw=A instanceof ra?new ra(A.lng,A.lat):ra.convert(A),this},Sa.prototype.extend=function(A){var D,Z,ue=this._sw,Ee=this._ne;if(A instanceof ra)D=A,Z=A;else{if(!(A instanceof Sa)){if(Array.isArray(A)){if(A.length===4||A.every(Array.isArray)){var Ie=A;return this.extend(Sa.convert(Ie))}var He=A;return this.extend(ra.convert(He))}return this}if(D=A._sw,Z=A._ne,!D||!Z)return this}return ue||Ee?(ue.lng=Math.min(D.lng,ue.lng),ue.lat=Math.min(D.lat,ue.lat),Ee.lng=Math.max(Z.lng,Ee.lng),Ee.lat=Math.max(Z.lat,Ee.lat)):(this._sw=new ra(D.lng,D.lat),this._ne=new ra(Z.lng,Z.lat)),this},Sa.prototype.getCenter=function(){return new ra((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Sa.prototype.getSouthWest=function(){return this._sw},Sa.prototype.getNorthEast=function(){return this._ne},Sa.prototype.getNorthWest=function(){return new ra(this.getWest(),this.getNorth())},Sa.prototype.getSouthEast=function(){return new ra(this.getEast(),this.getSouth())},Sa.prototype.getWest=function(){return this._sw.lng},Sa.prototype.getSouth=function(){return this._sw.lat},Sa.prototype.getEast=function(){return this._ne.lng},Sa.prototype.getNorth=function(){return this._ne.lat},Sa.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Sa.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Sa.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Sa.prototype.contains=function(A){var D=ra.convert(A),Z=D.lng,ue=D.lat,Ee=this._sw.lat<=ue&&ue<=this._ne.lat,Ie=this._sw.lng<=Z&&Z<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Ie=this._sw.lng>=Z&&Z>=this._ne.lng),Ee&&Ie},Sa.convert=function(A){return!A||A instanceof Sa?A:new Sa(A)};var T0=63710088e-1,ra=function(A,D){if(isNaN(A)||isNaN(D))throw new Error("Invalid LngLat object: ("+A+", "+D+")");if(this.lng=+A,this.lat=+D,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};ra.prototype.wrap=function(){return new ra(h(this.lng,-180,180),this.lat)},ra.prototype.toArray=function(){return[this.lng,this.lat]},ra.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},ra.prototype.distanceTo=function(A){var D=Math.PI/180,Z=this.lat*D,ue=A.lat*D,Ee=Math.sin(Z)*Math.sin(ue)+Math.cos(Z)*Math.cos(ue)*Math.cos((A.lng-this.lng)*D);return T0*Math.acos(Math.min(Ee,1))},ra.prototype.toBounds=function(A){A===void 0&&(A=0);var D=360*A/40075017,Z=D/Math.cos(Math.PI/180*this.lat);return new Sa(new ra(this.lng-Z,this.lat-D),new ra(this.lng+Z,this.lat+D))},ra.convert=function(A){if(A instanceof ra)return A;if(Array.isArray(A)&&(A.length===2||A.length===3))return new ra(Number(A[0]),Number(A[1]));if(!Array.isArray(A)&&typeof A=="object"&&A!==null)return new ra(Number("lng"in A?A.lng:A.lon),Number(A.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var k0=2*Math.PI*T0;function M0(A){return k0*Math.cos(A*Math.PI/180)}function A0(A){return(180+A)/360}function S0(A){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+A*Math.PI/360)))/360}function E0(A,D){return A/M0(D)}function wp(A){var D=180-360*A;return 360/Math.PI*Math.atan(Math.exp(D*Math.PI/180))-90}var $u=function(A,D,Z){Z===void 0&&(Z=0),this.x=+A,this.y=+D,this.z=+Z};$u.fromLngLat=function(A,D){D===void 0&&(D=0);var Z=ra.convert(A);return new $u(A0(Z.lng),S0(Z.lat),E0(D,Z.lat))},$u.prototype.toLngLat=function(){return new ra(360*this.x-180,wp(this.y))},$u.prototype.toAltitude=function(){return A=this.z,D=this.y,A*M0(wp(D));var A,D},$u.prototype.meterInMercatorCoordinateUnits=function(){return 1/k0*(A=wp(this.y),1/Math.cos(A*Math.PI/180));var A};var ec=function(A,D,Z){this.z=A,this.x=D,this.y=Z,this.key=uf(0,A,A,D,Z)};ec.prototype.equals=function(A){return this.z===A.z&&this.x===A.x&&this.y===A.y},ec.prototype.url=function(A,D){var Z,ue,Ee,Ie,He,tt=(Z=this.x,ue=this.y,Ee=this.z,Ie=w0(256*Z,256*(ue=Math.pow(2,Ee)-ue-1),Ee),He=w0(256*(Z+1),256*(ue+1),Ee),Ie[0]+","+Ie[1]+","+He[0]+","+He[1]),ht=function(Tt,St,Nt){for(var Yt,Ut="",sn=Tt;sn>0;sn--)Ut+=(St&(Yt=1<<sn-1)?1:0)+(Nt&Yt?2:0);return Ut}(this.z,this.x,this.y);return A[(this.x+this.y)%A.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(D==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ht).replace("{bbox-epsg-3857}",tt)},ec.prototype.getTilePoint=function(A){var D=Math.pow(2,this.z);return new t((A.x*D-this.x)*pi,(A.y*D-this.y)*pi)},ec.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var L0=function(A,D){this.wrap=A,this.canonical=D,this.key=uf(A,D.z,D.z,D.x,D.y)},Ea=function(A,D,Z,ue,Ee){this.overscaledZ=A,this.wrap=D,this.canonical=new ec(Z,+ue,+Ee),this.key=uf(D,A,Z,ue,Ee)};function uf(A,D,Z,ue,Ee){(A*=2)<0&&(A=-1*A-1);var Ie=1<<Z;return(Ie*Ie*A+Ie*Ee+ue).toString(36)+Z.toString(36)+D.toString(36)}Ea.prototype.equals=function(A){return this.overscaledZ===A.overscaledZ&&this.wrap===A.wrap&&this.canonical.equals(A.canonical)},Ea.prototype.scaledTo=function(A){var D=this.canonical.z-A;return A>this.canonical.z?new Ea(A,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ea(A,this.wrap,A,this.canonical.x>>D,this.canonical.y>>D)},Ea.prototype.calculateScaledKey=function(A,D){var Z=this.canonical.z-A;return A>this.canonical.z?uf(this.wrap*+D,A,this.canonical.z,this.canonical.x,this.canonical.y):uf(this.wrap*+D,A,A,this.canonical.x>>Z,this.canonical.y>>Z)},Ea.prototype.isChildOf=function(A){if(A.wrap!==this.wrap)return!1;var D=this.canonical.z-A.canonical.z;return A.overscaledZ===0||A.overscaledZ<this.overscaledZ&&A.canonical.x===this.canonical.x>>D&&A.canonical.y===this.canonical.y>>D},Ea.prototype.children=function(A){if(this.overscaledZ>=A)return[new Ea(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var D=this.canonical.z+1,Z=2*this.canonical.x,ue=2*this.canonical.y;return[new Ea(D,this.wrap,D,Z,ue),new Ea(D,this.wrap,D,Z+1,ue),new Ea(D,this.wrap,D,Z,ue+1),new Ea(D,this.wrap,D,Z+1,ue+1)]},Ea.prototype.isLessThan=function(A){return this.wrap<A.wrap||!(this.wrap>A.wrap)&&(this.overscaledZ<A.overscaledZ||!(this.overscaledZ>A.overscaledZ)&&(this.canonical.x<A.canonical.x||!(this.canonical.x>A.canonical.x)&&this.canonical.y<A.canonical.y))},Ea.prototype.wrapped=function(){return new Ea(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ea.prototype.unwrapTo=function(A){return new Ea(this.overscaledZ,A,this.canonical.z,this.canonical.x,this.canonical.y)},Ea.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ea.prototype.toUnwrapped=function(){return new L0(this.wrap,this.canonical)},Ea.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ea.prototype.getTilePoint=function(A){return this.canonical.getTilePoint(new $u(A.x-this.wrap,A.y))},Ir("CanonicalTileID",ec),Ir("OverscaledTileID",Ea,{omit:["posMatrix"]});var hu=function(A,D,Z){if(this.uid=A,D.height!==D.width)throw new RangeError("DEM tiles must be square");if(Z&&Z!=="mapbox"&&Z!=="terrarium")return E('"'+Z+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=D.height;var ue=this.dim=D.height-2;this.data=new Uint32Array(D.data.buffer),this.encoding=Z||"mapbox";for(var Ee=0;Ee<ue;Ee++)this.data[this._idx(-1,Ee)]=this.data[this._idx(0,Ee)],this.data[this._idx(ue,Ee)]=this.data[this._idx(ue-1,Ee)],this.data[this._idx(Ee,-1)]=this.data[this._idx(Ee,0)],this.data[this._idx(Ee,ue)]=this.data[this._idx(Ee,ue-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ue,-1)]=this.data[this._idx(ue-1,0)],this.data[this._idx(-1,ue)]=this.data[this._idx(0,ue-1)],this.data[this._idx(ue,ue)]=this.data[this._idx(ue-1,ue-1)]};hu.prototype.get=function(A,D){var Z=new Uint8Array(this.data.buffer),ue=4*this._idx(A,D);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(Z[ue],Z[ue+1],Z[ue+2])},hu.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},hu.prototype._idx=function(A,D){if(A<-1||A>=this.dim+1||D<-1||D>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(D+1)*this.stride+(A+1)},hu.prototype._unpackMapbox=function(A,D,Z){return(256*A*256+256*D+Z)/10-1e4},hu.prototype._unpackTerrarium=function(A,D,Z){return 256*A+D+Z/256-32768},hu.prototype.getPixels=function(){return new Ho({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},hu.prototype.backfillBorder=function(A,D,Z){if(this.dim!==A.dim)throw new Error("dem dimension mismatch");var ue=D*this.dim,Ee=D*this.dim+this.dim,Ie=Z*this.dim,He=Z*this.dim+this.dim;switch(D){case-1:ue=Ee-1;break;case 1:Ee=ue+1}switch(Z){case-1:Ie=He-1;break;case 1:He=Ie+1}for(var tt=-D*this.dim,ht=-Z*this.dim,Tt=Ie;Tt<He;Tt++)for(var St=ue;St<Ee;St++)this.data[this._idx(St,Tt)]=A.data[this._idx(St+tt,Tt+ht)]},Ir("DEMData",hu);var ah=function(A){this._stringToNumber={},this._numberToString=[];for(var D=0;D<A.length;D++){var Z=A[D];this._stringToNumber[Z]=D,this._numberToString[D]=Z}};ah.prototype.encode=function(A){return this._stringToNumber[A]},ah.prototype.decode=function(A){return this._numberToString[A]};var oh=function(A,D,Z,ue,Ee){this.type="Feature",this._vectorTileFeature=A,A._z=D,A._x=Z,A._y=ue,this.properties=A.properties,this.id=Ee},Tp={geometry:{configurable:!0}};Tp.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Tp.geometry.set=function(A){this._geometry=A},oh.prototype.toJSON=function(){var A={geometry:this.geometry};for(var D in this)D!=="_geometry"&&D!=="_vectorTileFeature"&&(A[D]=this[D]);return A},Object.defineProperties(oh.prototype,Tp);var Ec=function(){this.state={},this.stateChanges={},this.deletedStates={}};Ec.prototype.updateState=function(A,D,Z){var ue=String(D);if(this.stateChanges[A]=this.stateChanges[A]||{},this.stateChanges[A][ue]=this.stateChanges[A][ue]||{},c(this.stateChanges[A][ue],Z),this.deletedStates[A]===null)for(var Ee in this.deletedStates[A]={},this.state[A])Ee!==ue&&(this.deletedStates[A][Ee]=null);else if(this.deletedStates[A]&&this.deletedStates[A][ue]===null)for(var Ie in this.deletedStates[A][ue]={},this.state[A][ue])Z[Ie]||(this.deletedStates[A][ue][Ie]=null);else for(var He in Z)this.deletedStates[A]&&this.deletedStates[A][ue]&&this.deletedStates[A][ue][He]===null&&delete this.deletedStates[A][ue][He]},Ec.prototype.removeFeatureState=function(A,D,Z){if(this.deletedStates[A]!==null){var ue=String(D);if(this.deletedStates[A]=this.deletedStates[A]||{},Z&&D!==void 0)this.deletedStates[A][ue]!==null&&(this.deletedStates[A][ue]=this.deletedStates[A][ue]||{},this.deletedStates[A][ue][Z]=null);else if(D!==void 0)if(this.stateChanges[A]&&this.stateChanges[A][ue])for(Z in this.deletedStates[A][ue]={},this.stateChanges[A][ue])this.deletedStates[A][ue][Z]=null;else this.deletedStates[A][ue]=null;else this.deletedStates[A]=null}},Ec.prototype.getState=function(A,D){var Z=String(D),ue=this.state[A]||{},Ee=this.stateChanges[A]||{},Ie=c({},ue[Z],Ee[Z]);if(this.deletedStates[A]===null)return{};if(this.deletedStates[A]){var He=this.deletedStates[A][D];if(He===null)return{};for(var tt in He)delete Ie[tt]}return Ie},Ec.prototype.initializeTileState=function(A,D){A.setFeatureState(this.state,D)},Ec.prototype.coalesceChanges=function(A,D){var Z={};for(var ue in this.stateChanges){this.state[ue]=this.state[ue]||{};var Ee={};for(var Ie in this.stateChanges[ue])this.state[ue][Ie]||(this.state[ue][Ie]={}),c(this.state[ue][Ie],this.stateChanges[ue][Ie]),Ee[Ie]=this.state[ue][Ie];Z[ue]=Ee}for(var He in this.deletedStates){this.state[He]=this.state[He]||{};var tt={};if(this.deletedStates[He]===null)for(var ht in this.state[He])tt[ht]={},this.state[He][ht]={};else for(var Tt in this.deletedStates[He]){if(this.deletedStates[He][Tt]===null)this.state[He][Tt]={};else for(var St=0,Nt=Object.keys(this.deletedStates[He][Tt]);St<Nt.length;St+=1){var Yt=Nt[St];delete this.state[He][Tt][Yt]}tt[Tt]=this.state[He][Tt]}Z[He]=Z[He]||{},c(Z[He],tt)}if(this.stateChanges={},this.deletedStates={},Object.keys(Z).length!==0)for(var Ut in A)A[Ut].setFeatureState(Z,D)};var pu=function(A,D){this.tileID=A,this.x=A.canonical.x,this.y=A.canonical.y,this.z=A.canonical.z,this.grid=new Ns(pi,16,0),this.grid3D=new Ns(pi,16,0),this.featureIndexArray=new On,this.promoteId=D};function C0(A,D,Z,ue,Ee){return T(A,function(Ie,He){var tt=D instanceof Vs?D.get(He):null;return tt&&tt.evaluate?tt.evaluate(Z,ue,Ee):tt})}function O0(A){for(var D=1/0,Z=1/0,ue=-1/0,Ee=-1/0,Ie=0,He=A;Ie<He.length;Ie+=1){var tt=He[Ie];D=Math.min(D,tt.x),Z=Math.min(Z,tt.y),ue=Math.max(ue,tt.x),Ee=Math.max(Ee,tt.y)}return{minX:D,minY:Z,maxX:ue,maxY:Ee}}function Fm(A,D){return D-A}pu.prototype.insert=function(A,D,Z,ue,Ee,Ie){var He=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(Z,ue,Ee);for(var tt=Ie?this.grid3D:this.grid,ht=0;ht<D.length;ht++){for(var Tt=D[ht],St=[1/0,1/0,-1/0,-1/0],Nt=0;Nt<Tt.length;Nt++){var Yt=Tt[Nt];St[0]=Math.min(St[0],Yt.x),St[1]=Math.min(St[1],Yt.y),St[2]=Math.max(St[2],Yt.x),St[3]=Math.max(St[3],Yt.y)}St[0]<pi&&St[1]<pi&&St[2]>=0&&St[3]>=0&&tt.insert(He,St[0],St[1],St[2],St[3])}},pu.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new vc.VectorTile(new Zf(this.rawTileData)).layers,this.sourceLayerCoder=new ah(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},pu.prototype.query=function(A,D,Z,ue){var Ee=this;this.loadVTLayers();for(var Ie=A.params||{},He=pi/A.tileSize/A.scale,tt=xl(Ie.filter),ht=A.queryGeometry,Tt=A.queryPadding*He,St=O0(ht),Nt=this.grid.query(St.minX-Tt,St.minY-Tt,St.maxX+Tt,St.maxY+Tt),Yt=O0(A.cameraQueryGeometry),Ut=0,sn=this.grid3D.query(Yt.minX-Tt,Yt.minY-Tt,Yt.maxX+Tt,Yt.maxY+Tt,function(Xn,Kn,ur,wr){return function(xr,Sr,Or,Zr,Nr){for(var Wr=0,Ur=xr;Wr<Ur.length;Wr+=1){var Fr=Ur[Wr];if(Sr<=Fr.x&&Or<=Fr.y&&Zr>=Fr.x&&Nr>=Fr.y)return!0}var ci=[new t(Sr,Or),new t(Sr,Nr),new t(Zr,Nr),new t(Zr,Or)];if(xr.length>2){for(var $r=0,Bi=ci;$r<Bi.length;$r+=1)if(Kl(xr,Bi[$r]))return!0}for(var Gr=0;Gr<xr.length-1;Gr++)if(cv(xr[Gr],xr[Gr+1],ci))return!0;return!1}(A.cameraQueryGeometry,Xn-Tt,Kn-Tt,ur+Tt,wr+Tt)});Ut<sn.length;Ut+=1){var cn=sn[Ut];Nt.push(cn)}Nt.sort(Fm);for(var Mn,wn={},Bn=function(Xn){var Kn=Nt[Xn];if(Kn!==Mn){Mn=Kn;var ur=Ee.featureIndexArray.get(Kn),wr=null;Ee.loadMatchingFeature(wn,ur.bucketIndex,ur.sourceLayerIndex,ur.featureIndex,tt,Ie.layers,Ie.availableImages,D,Z,ue,function(xr,Sr,Or){return wr||(wr=ts(xr)),Sr.queryIntersectsFeature(ht,xr,Or,wr,Ee.z,A.transform,He,A.pixelPosMatrix)})}},Un=0;Un<Nt.length;Un++)Bn(Un);return wn},pu.prototype.loadMatchingFeature=function(A,D,Z,ue,Ee,Ie,He,tt,ht,Tt,St){var Nt=this.bucketLayerIDs[D];if(!Ie||function(xr,Sr){for(var Or=0;Or<xr.length;Or++)if(Sr.indexOf(xr[Or])>=0)return!0;return!1}(Ie,Nt)){var Yt=this.sourceLayerCoder.decode(Z),Ut=this.vtLayers[Yt].feature(ue);if(Ee.needGeometry){var sn=Gi(Ut,!0);if(!Ee.filter(new ii(this.tileID.overscaledZ),sn,this.tileID.canonical))return}else if(!Ee.filter(new ii(this.tileID.overscaledZ),Ut))return;for(var cn=this.getId(Ut,Yt),Mn=0;Mn<Nt.length;Mn++){var wn=Nt[Mn];if(!(Ie&&Ie.indexOf(wn)<0)){var Bn=tt[wn];if(Bn){var Un={};cn!==void 0&&Tt&&(Un=Tt.getState(Bn.sourceLayer||"_geojsonTileLayer",cn));var Xn=c({},ht[wn]);Xn.paint=C0(Xn.paint,Bn.paint,Ut,Un,He),Xn.layout=C0(Xn.layout,Bn.layout,Ut,Un,He);var Kn=!St||St(Ut,Bn,Un);if(Kn){var ur=new oh(Ut,this.z,this.x,this.y,cn);ur.layer=Xn;var wr=A[wn];wr===void 0&&(wr=A[wn]=[]),wr.push({featureIndex:ue,feature:ur,intersectionZ:Kn})}}}}}},pu.prototype.lookupSymbolFeatures=function(A,D,Z,ue,Ee,Ie,He,tt){var ht={};this.loadVTLayers();for(var Tt=xl(Ee),St=0,Nt=A;St<Nt.length;St+=1){var Yt=Nt[St];this.loadMatchingFeature(ht,Z,ue,Yt,Tt,Ie,He,tt,D)}return ht},pu.prototype.hasLayer=function(A){for(var D=0,Z=this.bucketLayerIDs;D<Z.length;D+=1)for(var ue=0,Ee=Z[D];ue<Ee.length;ue+=1)if(A===Ee[ue])return!0;return!1},pu.prototype.getId=function(A,D){var Z=A.id;if(this.promoteId){var ue=typeof this.promoteId=="string"?this.promoteId:this.promoteId[D];typeof(Z=A.properties[ue])=="boolean"&&(Z=Number(Z))}return Z},Ir("FeatureIndex",pu,{omit:["rawTileData","sourceLayerCoder"]});var qa=function(A,D){this.tileID=A,this.uid=d(),this.uses=0,this.tileSize=D,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};qa.prototype.registerFadeDuration=function(A){var D=A+this.timeAdded;D<X.now()||this.fadeEndTime&&D<this.fadeEndTime||(this.fadeEndTime=D)},qa.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},qa.prototype.loadVectorData=function(A,D,Z){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",A){for(var ue in A.featureIndex&&(this.latestFeatureIndex=A.featureIndex,A.rawTileData?(this.latestRawTileData=A.rawTileData,this.latestFeatureIndex.rawTileData=A.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=A.collisionBoxArray,this.buckets=function(Tt,St){var Nt={};if(!St)return Nt;for(var Yt=function(){var cn=sn[Ut],Mn=cn.layerIds.map(function(Xn){return St.getLayer(Xn)}).filter(Boolean);if(Mn.length!==0){cn.layers=Mn,cn.stateDependentLayerIds&&(cn.stateDependentLayers=cn.stateDependentLayerIds.map(function(Xn){return Mn.filter(function(Kn){return Kn.id===Xn})[0]}));for(var wn=0,Bn=Mn;wn<Bn.length;wn+=1){var Un=Bn[wn];Nt[Un.id]=cn}}},Ut=0,sn=Tt;Ut<sn.length;Ut+=1)Yt();return Nt}(A.buckets,D.style),this.hasSymbolBuckets=!1,this.buckets){var Ee=this.buckets[ue];if(Ee instanceof Ci){if(this.hasSymbolBuckets=!0,!Z)break;Ee.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Ie in this.buckets){var He=this.buckets[Ie];if(He instanceof Ci&&He.hasRTLText){this.hasRTLText=!0,Ha.isLoading()||Ha.isLoaded()||tl()!=="deferred"||nl();break}}for(var tt in this.queryPadding=0,this.buckets){var ht=this.buckets[tt];this.queryPadding=Math.max(this.queryPadding,D.style.getLayer(tt).queryRadius(ht))}A.imageAtlas&&(this.imageAtlas=A.imageAtlas),A.glyphAtlasImage&&(this.glyphAtlasImage=A.glyphAtlasImage)}else this.collisionBoxArray=new Et},qa.prototype.unloadVectorData=function(){for(var A in this.buckets)this.buckets[A].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},qa.prototype.getBucket=function(A){return this.buckets[A.id]},qa.prototype.upload=function(A){for(var D in this.buckets){var Z=this.buckets[D];Z.uploadPending()&&Z.upload(A)}var ue=A.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Qu(A,this.imageAtlas.image,ue.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Qu(A,this.glyphAtlasImage,ue.ALPHA),this.glyphAtlasImage=null)},qa.prototype.prepare=function(A){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(A,this.imageAtlasTexture)},qa.prototype.queryRenderedFeatures=function(A,D,Z,ue,Ee,Ie,He,tt,ht,Tt){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:ue,cameraQueryGeometry:Ee,scale:Ie,tileSize:this.tileSize,pixelPosMatrix:Tt,transform:tt,params:He,queryPadding:this.queryPadding*ht},A,D,Z):{}},qa.prototype.querySourceFeatures=function(A,D){var Z=this.latestFeatureIndex;if(Z&&Z.rawTileData){var ue=Z.loadVTLayers(),Ee=D?D.sourceLayer:"",Ie=ue._geojsonTileLayer||ue[Ee];if(Ie)for(var He=xl(D&&D.filter),tt=this.tileID.canonical,ht=tt.z,Tt=tt.x,St=tt.y,Nt={z:ht,x:Tt,y:St},Yt=0;Yt<Ie.length;Yt++){var Ut=Ie.feature(Yt);if(He.needGeometry){var sn=Gi(Ut,!0);if(!He.filter(new ii(this.tileID.overscaledZ),sn,this.tileID.canonical))continue}else if(!He.filter(new ii(this.tileID.overscaledZ),Ut))continue;var cn=Z.getId(Ut,Ee),Mn=new oh(Ut,ht,Tt,St,cn);Mn.tile=Nt,A.push(Mn)}}},qa.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},qa.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},qa.prototype.setExpiryData=function(A){var D=this.expirationTime;if(A.cacheControl){var Z=R(A.cacheControl);Z["max-age"]&&(this.expirationTime=Date.now()+1e3*Z["max-age"])}else A.expires&&(this.expirationTime=new Date(A.expires).getTime());if(this.expirationTime){var ue=Date.now(),Ee=!1;if(this.expirationTime>ue)Ee=!1;else if(D)if(this.expirationTime<D)Ee=!0;else{var Ie=this.expirationTime-D;Ie?this.expirationTime=ue+Math.max(Ie,3e4):Ee=!0}else Ee=!0;Ee?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},qa.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},qa.prototype.setFeatureState=function(A,D){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(A).length!==0){var Z=this.latestFeatureIndex.loadVTLayers();for(var ue in this.buckets)if(D.style.hasLayer(ue)){var Ee=this.buckets[ue],Ie=Ee.layers[0].sourceLayer||"_geojsonTileLayer",He=Z[Ie],tt=A[Ie];if(He&&tt&&Object.keys(tt).length!==0){Ee.update(tt,He,this.imageAtlas&&this.imageAtlas.patternPositions||{});var ht=D&&D.style&&D.style.getLayer(ue);ht&&(this.queryPadding=Math.max(this.queryPadding,ht.queryRadius(Ee)))}}}},qa.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},qa.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<X.now()},qa.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},qa.prototype.setHoldDuration=function(A){this.symbolFadeHoldUntil=X.now()+A},qa.prototype.setDependencies=function(A,D){for(var Z={},ue=0,Ee=D;ue<Ee.length;ue+=1)Z[Ee[ue]]=!0;this.dependencies[A]=Z},qa.prototype.hasDependency=function(A,D){for(var Z=0,ue=A;Z<ue.length;Z+=1){var Ee=ue[Z],Ie=this.dependencies[Ee];if(Ie){for(var He=0,tt=D;He<tt.length;He+=1)if(Ie[tt[He]])return!0}}return!1};var Nu=n.performance,P0=function(A){this._marks={start:[A.url,"start"].join("#"),end:[A.url,"end"].join("#"),measure:A.url.toString()},Nu.mark(this._marks.start)};P0.prototype.finish=function(){Nu.mark(this._marks.end);var A=Nu.getEntriesByName(this._marks.measure);return A.length===0&&(Nu.measure(this._marks.measure,this._marks.start,this._marks.end),A=Nu.getEntriesByName(this._marks.measure),Nu.clearMarks(this._marks.start),Nu.clearMarks(this._marks.end),Nu.clearMeasures(this._marks.measure)),A},r.Actor=Sc,r.AlphaImage=Ku,r.CanonicalTileID=ec,r.CollisionBoxArray=Et,r.Color=zn,r.DEMData=hu,r.DataConstantProperty=zr,r.DictionaryCoder=ah,r.EXTENT=pi,r.ErrorEvent=Ue,r.EvaluationParameters=ii,r.Event=je,r.Evented=lt,r.FeatureIndex=pu,r.FillBucket=El,r.FillExtrusionBucket=Ll,r.ImageAtlas=af,r.ImagePosition=Jf,r.LineBucket=Co,r.LngLat=ra,r.LngLatBounds=Sa,r.MercatorCoordinate=$u,r.ONE_EM=Qa,r.OverscaledTileID=Ea,r.Point=t,r.Point$1=t,r.Properties=na,r.Protobuf=Zf,r.RGBAImage=Ho,r.RequestManager=ge,r.RequestPerformance=P0,r.ResourceType=bt,r.SegmentVector=Wn,r.SourceFeatureState=Ec,r.StructArrayLayout1ui2=vt,r.StructArrayLayout2f1f2i16=ne,r.StructArrayLayout2i4=bs,r.StructArrayLayout3ui6=xe,r.StructArrayLayout4i8=cu,r.SymbolBucket=Ci,r.Texture=Qu,r.Tile=qa,r.Transitionable=Eo,r.Uniform1f=ni,r.Uniform1i=Kr,r.Uniform2f=ai,r.Uniform3f=Li,r.Uniform4f=Ki,r.UniformColor=Pa,r.UniformMatrix4f=Ma,r.UnwrappedTileID=L0,r.ValidationError=gt,r.WritingMode=ws,r.ZoomHistory=el,r.add=function(A,D,Z){return A[0]=D[0]+Z[0],A[1]=D[1]+Z[1],A[2]=D[2]+Z[2],A},r.addDynamicAttributes=xp,r.asyncAll=function(A,D,Z){if(!A.length)return Z(null,[]);var ue=A.length,Ee=new Array(A.length),Ie=null;A.forEach(function(He,tt){D(He,function(ht,Tt){ht&&(Ie=ht),Ee[tt]=Tt,--ue==0&&Z(Ie,Ee)})})},r.bezier=l,r.bindAll=y,r.browser=X,r.cacheEntryPossiblyAdded=function(A){++yt>Ne&&(A.getActor().send("enforceCacheSizeLimit",Re),yt=0)},r.clamp=u,r.clearTileCache=function(A){var D=n.caches.delete(Te);A&&D.catch(A).then(function(){return A()})},r.clipLine=h0,r.clone=function(A){var D=new _s(16);return D[0]=A[0],D[1]=A[1],D[2]=A[2],D[3]=A[3],D[4]=A[4],D[5]=A[5],D[6]=A[6],D[7]=A[7],D[8]=A[8],D[9]=A[9],D[10]=A[10],D[11]=A[11],D[12]=A[12],D[13]=A[13],D[14]=A[14],D[15]=A[15],D},r.clone$1=S,r.clone$2=function(A){var D=new _s(3);return D[0]=A[0],D[1]=A[1],D[2]=A[2],D},r.collisionCircleLayout=rm,r.config=J,r.create=function(){var A=new _s(16);return _s!=Float32Array&&(A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[11]=0,A[12]=0,A[13]=0,A[14]=0),A[0]=1,A[5]=1,A[10]=1,A[15]=1,A},r.create$1=function(){var A=new _s(9);return _s!=Float32Array&&(A[1]=0,A[2]=0,A[3]=0,A[5]=0,A[6]=0,A[7]=0),A[0]=1,A[4]=1,A[8]=1,A},r.create$2=function(){var A=new _s(4);return _s!=Float32Array&&(A[1]=0,A[2]=0),A[0]=1,A[3]=1,A},r.createCommonjsModule=_,r.createExpression=Jo,r.createLayout=zi,r.createStyleLayer=function(A){return A.type==="custom"?new zm(A):new Rm[A.type](A)},r.cross=function(A,D,Z){var ue=D[0],Ee=D[1],Ie=D[2],He=Z[0],tt=Z[1],ht=Z[2];return A[0]=Ee*ht-Ie*tt,A[1]=Ie*He-ue*ht,A[2]=ue*tt-Ee*He,A},r.deepEqual=function A(D,Z){if(Array.isArray(D)){if(!Array.isArray(Z)||D.length!==Z.length)return!1;for(var ue=0;ue<D.length;ue++)if(!A(D[ue],Z[ue]))return!1;return!0}if(typeof D=="object"&&D!==null&&Z!==null){if(typeof Z!="object"||Object.keys(D).length!==Object.keys(Z).length)return!1;for(var Ee in D)if(!A(D[Ee],Z[Ee]))return!1;return!0}return D===Z},r.dot=function(A,D){return A[0]*D[0]+A[1]*D[1]+A[2]*D[2]},r.dot$1=function(A,D){return A[0]*D[0]+A[1]*D[1]+A[2]*D[2]+A[3]*D[3]},r.ease=o,r.emitValidationErrors=ja,r.endsWith=x,r.enforceCacheSizeLimit=function(A){Ge(),de&&de.then(function(D){D.keys().then(function(Z){for(var ue=0;ue<Z.length-A;ue++)D.delete(Z[ue])})})},r.evaluateSizeForFeature=a0,r.evaluateSizeForZoom=o0,r.evaluateVariableOffset=g0,r.evented=Va,r.extend=c,r.featureFilter=xl,r.filterObject=p,r.fromRotation=function(A,D){var Z=Math.sin(D),ue=Math.cos(D);return A[0]=ue,A[1]=Z,A[2]=0,A[3]=-Z,A[4]=ue,A[5]=0,A[6]=0,A[7]=0,A[8]=1,A},r.getAnchorAlignment=gp,r.getAnchorJustification=yp,r.getArrayBuffer=Ft,r.getImage=Je,r.getJSON=function(A,D){return Rt(c(A,{type:"json"}),D)},r.getRTLTextPluginStatus=tl,r.getReferrer=rt,r.getVideo=function(A,D){var Z,ue,Ee=n.document.createElement("video");Ee.muted=!0,Ee.onloadstart=function(){D(null,Ee)};for(var Ie=0;Ie<A.length;Ie++){var He=n.document.createElement("source");Z=A[Ie],ue=void 0,(ue=n.document.createElement("a")).href=Z,ue.protocol===n.document.location.protocol&&ue.host===n.document.location.host||(Ee.crossOrigin="Anonymous"),He.src=A[Ie],Ee.appendChild(He)}return{cancel:function(){}}},r.identity=tp,r.invert=function(A,D){var Z=D[0],ue=D[1],Ee=D[2],Ie=D[3],He=D[4],tt=D[5],ht=D[6],Tt=D[7],St=D[8],Nt=D[9],Yt=D[10],Ut=D[11],sn=D[12],cn=D[13],Mn=D[14],wn=D[15],Bn=Z*tt-ue*He,Un=Z*ht-Ee*He,Xn=Z*Tt-Ie*He,Kn=ue*ht-Ee*tt,ur=ue*Tt-Ie*tt,wr=Ee*Tt-Ie*ht,xr=St*cn-Nt*sn,Sr=St*Mn-Yt*sn,Or=St*wn-Ut*sn,Zr=Nt*Mn-Yt*cn,Nr=Nt*wn-Ut*cn,Wr=Yt*wn-Ut*Mn,Ur=Bn*Wr-Un*Nr+Xn*Zr+Kn*Or-ur*Sr+wr*xr;return Ur?(Ur=1/Ur,A[0]=(tt*Wr-ht*Nr+Tt*Zr)*Ur,A[1]=(Ee*Nr-ue*Wr-Ie*Zr)*Ur,A[2]=(cn*wr-Mn*ur+wn*Kn)*Ur,A[3]=(Yt*ur-Nt*wr-Ut*Kn)*Ur,A[4]=(ht*Or-He*Wr-Tt*Sr)*Ur,A[5]=(Z*Wr-Ee*Or+Ie*Sr)*Ur,A[6]=(Mn*Xn-sn*wr-wn*Un)*Ur,A[7]=(St*wr-Yt*Xn+Ut*Un)*Ur,A[8]=(He*Nr-tt*Or+Tt*xr)*Ur,A[9]=(ue*Or-Z*Nr-Ie*xr)*Ur,A[10]=(sn*ur-cn*Xn+wn*Bn)*Ur,A[11]=(Nt*Xn-St*ur-Ut*Bn)*Ur,A[12]=(tt*Sr-He*Zr-ht*xr)*Ur,A[13]=(Z*Zr-ue*Sr+Ee*xr)*Ur,A[14]=(cn*Un-sn*Kn-Mn*Bn)*Ur,A[15]=(St*Kn-Nt*Un+Yt*Bn)*Ur,A):null},r.isChar=Tr,r.isMapboxURL=ve,r.keysDifference=function(A,D){var Z=[];for(var ue in A)ue in D||Z.push(ue);return Z},r.makeRequest=Rt,r.mapObject=T,r.mercatorXfromLng=A0,r.mercatorYfromLat=S0,r.mercatorZfromAltitude=E0,r.mul=pv,r.multiply=Sd,r.mvt=vc,r.nextPowerOfTwo=function(A){return A<=1?1:Math.pow(2,Math.ceil(Math.log(A)/Math.LN2))},r.normalize=function(A,D){var Z=D[0],ue=D[1],Ee=D[2],Ie=Z*Z+ue*ue+Ee*Ee;return Ie>0&&(Ie=1/Math.sqrt(Ie)),A[0]=D[0]*Ie,A[1]=D[1]*Ie,A[2]=D[2]*Ie,A},r.number=Yr,r.offscreenCanvasSupported=wt,r.ortho=function(A,D,Z,ue,Ee,Ie,He){var tt=1/(D-Z),ht=1/(ue-Ee),Tt=1/(Ie-He);return A[0]=-2*tt,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=-2*ht,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[10]=2*Tt,A[11]=0,A[12]=(D+Z)*tt,A[13]=(Ee+ue)*ht,A[14]=(He+Ie)*Tt,A[15]=1,A},r.parseGlyphPBF=function(A){return new Zf(A).readFields(dm,[])},r.pbf=Zf,r.performSymbolLayout=function(A,D,Z,ue,Ee,Ie,He){A.createArrays();var tt=512*A.overscaling;A.tilePixelRatio=pi/tt,A.compareText={},A.iconsNeedLinear=!1;var ht=A.layers[0].layout,Tt=A.layers[0]._unevaluatedLayout._values,St={};if(A.textSizeData.kind==="composite"){var Nt=A.textSizeData,Yt=Nt.minZoom,Ut=Nt.maxZoom;St.compositeTextSizes=[Tt["text-size"].possiblyEvaluate(new ii(Yt),He),Tt["text-size"].possiblyEvaluate(new ii(Ut),He)]}if(A.iconSizeData.kind==="composite"){var sn=A.iconSizeData,cn=sn.minZoom,Mn=sn.maxZoom;St.compositeIconSizes=[Tt["icon-size"].possiblyEvaluate(new ii(cn),He),Tt["icon-size"].possiblyEvaluate(new ii(Mn),He)]}St.layoutTextSize=Tt["text-size"].possiblyEvaluate(new ii(A.zoom+1),He),St.layoutIconSize=Tt["icon-size"].possiblyEvaluate(new ii(A.zoom+1),He),St.textMaxSize=Tt["text-size"].possiblyEvaluate(new ii(18));for(var wn=ht.get("text-line-height")*Qa,Bn=ht.get("text-rotation-alignment")==="map"&&ht.get("symbol-placement")!=="point",Un=ht.get("text-keep-upright"),Xn=ht.get("text-size"),Kn=function(){var xr=wr[ur],Sr=ht.get("text-font").evaluate(xr,{},He).join(","),Or=Xn.evaluate(xr,{},He),Zr=St.layoutTextSize.evaluate(xr,{},He),Nr=St.layoutIconSize.evaluate(xr,{},He),Wr={horizontal:{},vertical:void 0},Ur=xr.text,Fr=[0,0];if(Ur){var ci=Ur.toString(),$r=ht.get("text-letter-spacing").evaluate(xr,{},He)*Qa,Bi=function(ei){for(var di=0,da=ei;di<da.length;di+=1)if(Fi=da[di].charCodeAt(0),Tr.Arabic(Fi)||Tr["Arabic Supplement"](Fi)||Tr["Arabic Extended-A"](Fi)||Tr["Arabic Presentation Forms-A"](Fi)||Tr["Arabic Presentation Forms-B"](Fi))return!1;var Fi;return!0}(ci)?$r:0,Gr=ht.get("text-anchor").evaluate(xr,{},He),Oi=ht.get("text-variable-anchor");if(!Oi){var Wi=ht.get("text-radial-offset").evaluate(xr,{},He);Fr=Wi?g0(Gr,[Wi*Qa,mp]):ht.get("text-offset").evaluate(xr,{},He).map(function(ei){return ei*Qa})}var $i=Bn?"center":ht.get("text-justify").evaluate(xr,{},He),ea=ht.get("symbol-placement"),Ni=ea==="point"?ht.get("text-max-width").evaluate(xr,{},He)*Qa:0,La=function(){A.allowVerticalPlacement&&Ml(ci)&&(Wr.vertical=Kf(Ur,D,Z,Ee,Sr,Ni,wn,Gr,"left",Bi,Fr,ws.vertical,!0,ea,Zr,Or))};if(!Bn&&Oi){for(var oa=$i==="auto"?Oi.map(function(ei){return yp(ei)}):[$i],Ga=!1,lo=0;lo<oa.length;lo++){var $a=oa[lo];if(!Wr.horizontal[$a])if(Ga)Wr.horizontal[$a]=Wr.horizontal[0];else{var Oo=Kf(Ur,D,Z,Ee,Sr,Ni,wn,"center",$a,Bi,Fr,ws.horizontal,!1,ea,Zr,Or);Oo&&(Wr.horizontal[$a]=Oo,Ga=Oo.positionedLines.length===1)}}La()}else{$i==="auto"&&($i=yp(Gr));var eo=Kf(Ur,D,Z,Ee,Sr,Ni,wn,Gr,$i,Bi,Fr,ws.horizontal,!1,ea,Zr,Or);eo&&(Wr.horizontal[$i]=eo),La(),Ml(ci)&&Bn&&Un&&(Wr.vertical=Kf(Ur,D,Z,Ee,Sr,Ni,wn,Gr,$i,Bi,Fr,ws.vertical,!1,ea,Zr,Or))}}var Ia=void 0,to=!1;if(xr.icon&&xr.icon.name){var Ya=ue[xr.icon.name];Ya&&(Ia=function(ei,di,da){var Fi=gp(da),ua=Fi.horizontalAlign,ia=Fi.verticalAlign,yi=di[0],ga=di[1],Po=yi-ei.displaySize[0]*ua,is=Po+ei.displaySize[0],yo=ga-ei.displaySize[1]*ia;return{image:ei,top:yo,bottom:yo+ei.displaySize[1],left:Po,right:is}}(Ee[xr.icon.name],ht.get("icon-offset").evaluate(xr,{},He),ht.get("icon-anchor").evaluate(xr,{},He)),to=Ya.sdf,A.sdfIcons===void 0?A.sdfIcons=Ya.sdf:A.sdfIcons!==Ya.sdf&&E("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ya.pixelRatio!==A.pixelRatio||ht.get("icon-rotate").constantOr(1)!==0)&&(A.iconsNeedLinear=!0))}var Da=m0(Wr.horizontal)||Wr.vertical;A.iconsInText=!!Da&&Da.iconsInText,(Da||Ia)&&function(ei,di,da,Fi,ua,ia,yi,ga,Po,is,yo){var Ol=ia.textMaxSize.evaluate(di,{});Ol===void 0&&(Ol=yi);var du,Wa=ei.layers[0].layout,Pl=Wa.get("icon-offset").evaluate(di,{},yo),sl=m0(da.horizontal),ll=24,tc=yi/ll,sh=ei.tilePixelRatio*tc,nc=ei.tilePixelRatio*Ol/ll,lh=ei.tilePixelRatio*ga,cf=ei.tilePixelRatio*Wa.get("symbol-spacing"),kp=Wa.get("text-padding")*ei.tilePixelRatio,uh=Wa.get("icon-padding")*ei.tilePixelRatio,Lc=Wa.get("text-max-angle")/180*Math.PI,ch=Wa.get("text-rotation-alignment")==="map"&&Wa.get("symbol-placement")!=="point",fh=Wa.get("icon-rotation-alignment")==="map"&&Wa.get("symbol-placement")!=="point",ff=Wa.get("symbol-placement"),Mp=cf/2,hf=Wa.get("icon-text-fit");Fi&&hf!=="none"&&(ei.allowVerticalPlacement&&da.vertical&&(du=i0(Fi,da.vertical,hf,Wa.get("icon-text-fit-padding"),Pl,tc)),sl&&(Fi=i0(Fi,sl,hf,Wa.get("icon-text-fit-padding"),Pl,tc)));var rc=function(Bm,yf){yf.x<0||yf.x>=pi||yf.y<0||yf.y>=pi||function(ba,Il,Nm,ju,Op,F0,vh,Ql,mh,xf,yh,xh,Pp,B0,bf,N0,j0,U0,V0,H0,Ts,bh,q0,$l,jm){var G0,oc,Pc,Ic,Dc,zc=ba.addToLineVertexArray(Il,Nm),Y0=0,W0=0,Z0=0,X0=0,Ip=-1,Dp=-1,gu={},J0=kr(""),zp=0,Rp=0;if(Ql._unevaluatedLayout.getValue("text-radial-offset")===void 0?(zp=(G0=Ql.layout.get("text-offset").evaluate(Ts,{},$l).map(function(wf){return wf*Qa}))[0],Rp=G0[1]):(zp=Ql.layout.get("text-radial-offset").evaluate(Ts,{},$l)*Qa,Rp=mp),ba.allowVerticalPlacement&&ju.vertical){var K0=Ql.layout.get("text-rotate").evaluate(Ts,{},$l)+90,Um=ju.vertical;Ic=new nh(mh,Il,xf,yh,xh,Um,Pp,B0,bf,K0),vh&&(Dc=new nh(mh,Il,xf,yh,xh,vh,j0,U0,bf,K0))}if(Op){var Fp=Ql.layout.get("icon-rotate").evaluate(Ts,{}),Q0=Ql.layout.get("icon-text-fit")!=="none",$0=p0(Op,Fp,q0,Q0),Bp=vh?p0(vh,Fp,q0,Q0):void 0;Pc=new nh(mh,Il,xf,yh,xh,Op,j0,U0,!1,Fp),Y0=4*$0.length;var e1=ba.iconSizeData,_f=null;e1.kind==="source"?(_f=[Cl*Ql.layout.get("icon-size").evaluate(Ts,{})])[0]>Bu&&E(ba.layerIds[0]+': Value for "icon-size" is >= '+sf+'. Reduce your "icon-size".'):e1.kind==="composite"&&((_f=[Cl*bh.compositeIconSizes[0].evaluate(Ts,{},$l),Cl*bh.compositeIconSizes[1].evaluate(Ts,{},$l)])[0]>Bu||_f[1]>Bu)&&E(ba.layerIds[0]+': Value for "icon-size" is >= '+sf+'. Reduce your "icon-size".'),ba.addSymbols(ba.icon,$0,_f,H0,V0,Ts,!1,Il,zc.lineStartIndex,zc.lineLength,-1,$l),Ip=ba.icon.placedSymbolArray.length-1,Bp&&(W0=4*Bp.length,ba.addSymbols(ba.icon,Bp,_f,H0,V0,Ts,ws.vertical,Il,zc.lineStartIndex,zc.lineLength,-1,$l),Dp=ba.icon.placedSymbolArray.length-1)}for(var t1 in ju.horizontal){var _h=ju.horizontal[t1];if(!oc){J0=kr(_h.text);var Vm=Ql.layout.get("text-rotate").evaluate(Ts,{},$l);oc=new nh(mh,Il,xf,yh,xh,_h,Pp,B0,bf,Vm)}var n1=_h.positionedLines.length===1;if(Z0+=v0(ba,Il,_h,F0,Ql,bf,Ts,N0,zc,ju.vertical?ws.horizontal:ws.horizontalOnly,n1?Object.keys(ju.horizontal):[t1],gu,Ip,bh,$l),n1)break}ju.vertical&&(X0+=v0(ba,Il,ju.vertical,F0,Ql,bf,Ts,N0,zc,ws.vertical,["vertical"],gu,Dp,bh,$l));var Hm=oc?oc.boxStartIndex:ba.collisionBoxArray.length,qm=oc?oc.boxEndIndex:ba.collisionBoxArray.length,Gm=Ic?Ic.boxStartIndex:ba.collisionBoxArray.length,Ym=Ic?Ic.boxEndIndex:ba.collisionBoxArray.length,Wm=Pc?Pc.boxStartIndex:ba.collisionBoxArray.length,Zm=Pc?Pc.boxEndIndex:ba.collisionBoxArray.length,Xm=Dc?Dc.boxStartIndex:ba.collisionBoxArray.length,Jm=Dc?Dc.boxEndIndex:ba.collisionBoxArray.length,eu=-1,wh=function(wf,i1){return wf&&wf.circleDiameter?Math.max(wf.circleDiameter,i1):i1};eu=wh(oc,eu),eu=wh(Ic,eu),eu=wh(Pc,eu);var r1=(eu=wh(Dc,eu))>-1?1:0;r1&&(eu*=jm/Qa),ba.glyphOffsetArray.length>=Ci.MAX_GLYPHS&&E("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Ts.sortKey!==void 0&&ba.addToSortKeyRanges(ba.symbolInstances.length,Ts.sortKey),ba.symbolInstances.emplaceBack(Il.x,Il.y,gu.right>=0?gu.right:-1,gu.center>=0?gu.center:-1,gu.left>=0?gu.left:-1,gu.vertical||-1,Ip,Dp,J0,Hm,qm,Gm,Ym,Wm,Zm,Xm,Jm,xf,Z0,X0,Y0,W0,r1,0,Pp,zp,Rp,eu)}(ei,yf,Bm,da,Fi,ua,du,ei.layers[0],ei.collisionBoxArray,di.index,di.sourceLayerIndex,ei.index,sh,kp,ch,Po,lh,uh,fh,Pl,di,ia,is,yo,yi)};if(ff==="line")for(var Cc=0,hh=h0(di.geometry,0,0,pi,pi);Cc<hh.length;Cc+=1)for(var ph=hh[Cc],Oc=0,dh=_m(ph,cf,Lc,da.vertical||sl,Fi,ll,nc,ei.overscaling,pi);Oc<dh.length;Oc+=1){var gh=dh[Oc];sl&&Mm(ei,sl.text,Mp,gh)||rc(ph,gh)}else if(ff==="line-center")for(var pf=0,df=di.geometry;pf<df.length;pf+=1){var ic=df[pf];if(ic.length>1){var gf=bm(ic,Lc,da.vertical||sl,Fi,ll,nc);gf&&rc(ic,gf)}}else if(di.type==="Polygon")for(var ac=0,vf=lp(di.geometry,0);ac<vf.length;ac+=1){var mf=vf[ac],I0=Tm(mf,16);rc(mf[0],new bc(I0.x,I0.y,0))}else if(di.type==="LineString")for(var Ap=0,D0=di.geometry;Ap<D0.length;Ap+=1){var Sp=D0[Ap];rc(Sp,new bc(Sp[0].x,Sp[0].y,0))}else if(di.type==="Point")for(var Ep=0,z0=di.geometry;Ep<z0.length;Ep+=1)for(var Lp=0,R0=z0[Ep];Lp<R0.length;Lp+=1){var Cp=R0[Lp];rc([Cp],new bc(Cp.x,Cp.y,0))}}(A,xr,Wr,Ia,ue,St,Zr,Nr,Fr,to,He)},ur=0,wr=A.features;ur<wr.length;ur+=1)Kn();Ie&&A.generateCollisionDebugBuffers()},r.perspective=function(A,D,Z,ue,Ee){var Ie,He=1/Math.tan(D/2);return A[0]=He/Z,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=He,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[11]=-1,A[12]=0,A[13]=0,A[15]=0,Ee!=null&&Ee!==1/0?(Ie=1/(ue-Ee),A[10]=(Ee+ue)*Ie,A[14]=2*Ee*ue*Ie):(A[10]=-1,A[14]=-2*ue),A},r.pick=function(A,D){for(var Z={},ue=0;ue<D.length;ue++){var Ee=D[ue];Ee in A&&(Z[Ee]=A[Ee])}return Z},r.plugin=Ha,r.polygonIntersectsPolygon=Ju,r.postMapLoadEvent=_e,r.postTurnstileEvent=Be,r.potpack=$d,r.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],r.register=Ir,r.registerForPluginStateChange=function(A){return A({pluginStatus:oi,pluginURL:ya}),Va.on("pluginStateChange",A),A},r.renderColorRamp=Od,r.rotate=function(A,D,Z){var ue=D[0],Ee=D[1],Ie=D[2],He=D[3],tt=Math.sin(Z),ht=Math.cos(Z);return A[0]=ue*ht+Ie*tt,A[1]=Ee*ht+He*tt,A[2]=ue*-tt+Ie*ht,A[3]=Ee*-tt+He*ht,A},r.rotateX=function(A,D,Z){var ue=Math.sin(Z),Ee=Math.cos(Z),Ie=D[4],He=D[5],tt=D[6],ht=D[7],Tt=D[8],St=D[9],Nt=D[10],Yt=D[11];return D!==A&&(A[0]=D[0],A[1]=D[1],A[2]=D[2],A[3]=D[3],A[12]=D[12],A[13]=D[13],A[14]=D[14],A[15]=D[15]),A[4]=Ie*Ee+Tt*ue,A[5]=He*Ee+St*ue,A[6]=tt*Ee+Nt*ue,A[7]=ht*Ee+Yt*ue,A[8]=Tt*Ee-Ie*ue,A[9]=St*Ee-He*ue,A[10]=Nt*Ee-tt*ue,A[11]=Yt*Ee-ht*ue,A},r.rotateZ=function(A,D,Z){var ue=Math.sin(Z),Ee=Math.cos(Z),Ie=D[0],He=D[1],tt=D[2],ht=D[3],Tt=D[4],St=D[5],Nt=D[6],Yt=D[7];return D!==A&&(A[8]=D[8],A[9]=D[9],A[10]=D[10],A[11]=D[11],A[12]=D[12],A[13]=D[13],A[14]=D[14],A[15]=D[15]),A[0]=Ie*Ee+Tt*ue,A[1]=He*Ee+St*ue,A[2]=tt*Ee+Nt*ue,A[3]=ht*Ee+Yt*ue,A[4]=Tt*Ee-Ie*ue,A[5]=St*Ee-He*ue,A[6]=Nt*Ee-tt*ue,A[7]=Yt*Ee-ht*ue,A},r.scale=function(A,D,Z){var ue=Z[0],Ee=Z[1],Ie=Z[2];return A[0]=D[0]*ue,A[1]=D[1]*ue,A[2]=D[2]*ue,A[3]=D[3]*ue,A[4]=D[4]*Ee,A[5]=D[5]*Ee,A[6]=D[6]*Ee,A[7]=D[7]*Ee,A[8]=D[8]*Ie,A[9]=D[9]*Ie,A[10]=D[10]*Ie,A[11]=D[11]*Ie,A[12]=D[12],A[13]=D[13],A[14]=D[14],A[15]=D[15],A},r.scale$1=function(A,D,Z){return A[0]=D[0]*Z,A[1]=D[1]*Z,A[2]=D[2]*Z,A[3]=D[3]*Z,A},r.scale$2=function(A,D,Z){return A[0]=D[0]*Z,A[1]=D[1]*Z,A[2]=D[2]*Z,A},r.setCacheLimits=function(A,D){Re=A,Ne=D},r.setRTLTextPlugin=function(A,D,Z){if(Z===void 0&&(Z=!1),oi===Bo||oi===vo||oi===$o)throw new Error("setRTLTextPlugin cannot be called multiple times.");ya=X.resolveURL(A),oi=Bo,xs=D,No(),Z||nl()},r.sphericalToCartesian=function(A){var D=A[0],Z=A[1],ue=A[2];return Z+=90,Z*=Math.PI/180,ue*=Math.PI/180,{x:D*Math.cos(Z)*Math.sin(ue),y:D*Math.sin(Z)*Math.sin(ue),z:D*Math.cos(ue)}},r.sqrLen=gv,r.styleSpec=Qe,r.sub=dv,r.symbolSize=xm,r.transformMat3=function(A,D,Z){var ue=D[0],Ee=D[1],Ie=D[2];return A[0]=ue*Z[0]+Ee*Z[3]+Ie*Z[6],A[1]=ue*Z[1]+Ee*Z[4]+Ie*Z[7],A[2]=ue*Z[2]+Ee*Z[5]+Ie*Z[8],A},r.transformMat4=Hf,r.translate=function(A,D,Z){var ue,Ee,Ie,He,tt,ht,Tt,St,Nt,Yt,Ut,sn,cn=Z[0],Mn=Z[1],wn=Z[2];return D===A?(A[12]=D[0]*cn+D[4]*Mn+D[8]*wn+D[12],A[13]=D[1]*cn+D[5]*Mn+D[9]*wn+D[13],A[14]=D[2]*cn+D[6]*Mn+D[10]*wn+D[14],A[15]=D[3]*cn+D[7]*Mn+D[11]*wn+D[15]):(ue=D[0],Ee=D[1],Ie=D[2],He=D[3],tt=D[4],ht=D[5],Tt=D[6],St=D[7],Nt=D[8],Yt=D[9],Ut=D[10],sn=D[11],A[0]=ue,A[1]=Ee,A[2]=Ie,A[3]=He,A[4]=tt,A[5]=ht,A[6]=Tt,A[7]=St,A[8]=Nt,A[9]=Yt,A[10]=Ut,A[11]=sn,A[12]=ue*cn+tt*Mn+Nt*wn+D[12],A[13]=Ee*cn+ht*Mn+Yt*wn+D[13],A[14]=Ie*cn+Tt*Mn+Ut*wn+D[14],A[15]=He*cn+St*Mn+sn*wn+D[15]),A},r.triggerPluginCompletionEvent=Ua,r.uniqueId=d,r.validateCustomStyleLayer=function(A){var D=[],Z=A.id;return Z===void 0&&D.push({message:"layers."+Z+': missing required property "id"'}),A.render===void 0&&D.push({message:"layers."+Z+': missing required method "render"'}),A.renderingMode&&A.renderingMode!=="2d"&&A.renderingMode!=="3d"&&D.push({message:"layers."+Z+': property "renderingMode" must be either "2d" or "3d"'}),D},r.validateLight=Bs,r.validateStyle=Fo,r.values=function(A){var D=[];for(var Z in A)D.push(A[Z]);return D},r.vectorTile=vc,r.version=v,r.warnOnce=E,r.webpSupported=ee,r.window=n,r.wrap=h}),w(0,function(r){function _(Xe){var Ke=typeof Xe;if(Ke==="number"||Ke==="boolean"||Ke==="string"||Xe==null)return JSON.stringify(Xe);if(Array.isArray(Xe)){for(var Ve="[",Je=0,ct=Xe;Je<ct.length;Je+=1)Ve+=_(ct[Je])+",";return Ve+"]"}for(var st=Object.keys(Xe).sort(),je="{",Ue=0;Ue<st.length;Ue++)je+=JSON.stringify(st[Ue])+":"+_(Xe[st[Ue]])+",";return je+"}"}function v(Xe){for(var Ke="",Ve=0,Je=r.refProperties;Ve<Je.length;Ve+=1)Ke+="/"+_(Xe[Je[Ve]]);return Ke}var f=function(Xe){this.keyCache={},Xe&&this.replace(Xe)};f.prototype.replace=function(Xe){this._layerConfigs={},this._layers={},this.update(Xe,[])},f.prototype.update=function(Xe,Ke){for(var Ve=this,Je=0,ct=Xe;Je<ct.length;Je+=1){var st=ct[Je];this._layerConfigs[st.id]=st;var je=this._layers[st.id]=r.createStyleLayer(st);je._featureFilter=r.featureFilter(je.filter),this.keyCache[st.id]&&delete this.keyCache[st.id]}for(var Ue=0,lt=Ke;Ue<lt.length;Ue+=1){var Qe=lt[Ue];delete this.keyCache[Qe],delete this._layerConfigs[Qe],delete this._layers[Qe]}this.familiesBySource={};for(var gt=0,mt=function(Pt,Bt){for(var Jt={},on=0;on<Pt.length;on++){var qt=Bt&&Bt[Pt[on].id]||v(Pt[on]);Bt&&(Bt[Pt[on].id]=qt);var Gt=Jt[qt];Gt||(Gt=Jt[qt]=[]),Gt.push(Pt[on])}var nn=[];for(var Cn in Jt)nn.push(Jt[Cn]);return nn}(r.values(this._layerConfigs),this.keyCache);gt<mt.length;gt+=1){var xt=mt[gt].map(function(Pt){return Ve._layers[Pt.id]}),dt=xt[0];if(dt.visibility!=="none"){var Lt=dt.source||"",kt=this.familiesBySource[Lt];kt||(kt=this.familiesBySource[Lt]={});var _t=dt.sourceLayer||"_geojsonTileLayer",Ot=kt[_t];Ot||(Ot=kt[_t]=[]),Ot.push(xt)}}};var s=function(Xe){var Ke={},Ve=[];for(var Je in Xe){var ct=Xe[Je],st=Ke[Je]={};for(var je in ct){var Ue=ct[+je];if(Ue&&Ue.bitmap.width!==0&&Ue.bitmap.height!==0){var lt={x:0,y:0,w:Ue.bitmap.width+2,h:Ue.bitmap.height+2};Ve.push(lt),st[je]={rect:lt,metrics:Ue.metrics}}}}var Qe=r.potpack(Ve),gt=Qe.w,mt=Qe.h,xt=new r.AlphaImage({width:gt||1,height:mt||1});for(var dt in Xe){var Lt=Xe[dt];for(var kt in Lt){var _t=Lt[+kt];if(_t&&_t.bitmap.width!==0&&_t.bitmap.height!==0){var Ot=Ke[dt][kt].rect;r.AlphaImage.copy(_t.bitmap,xt,{x:0,y:0},{x:Ot.x+1,y:Ot.y+1},_t.bitmap)}}}this.image=xt,this.positions=Ke};r.register("GlyphAtlas",s);var t=function(Xe){this.tileID=new r.OverscaledTileID(Xe.tileID.overscaledZ,Xe.tileID.wrap,Xe.tileID.canonical.z,Xe.tileID.canonical.x,Xe.tileID.canonical.y),this.uid=Xe.uid,this.zoom=Xe.zoom,this.pixelRatio=Xe.pixelRatio,this.tileSize=Xe.tileSize,this.source=Xe.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Xe.showCollisionBoxes,this.collectResourceTiming=!!Xe.collectResourceTiming,this.returnDependencies=!!Xe.returnDependencies,this.promoteId=Xe.promoteId};function a(Xe,Ke,Ve){for(var Je=new r.EvaluationParameters(Ke),ct=0,st=Xe;ct<st.length;ct+=1)st[ct].recalculate(Je,Ve)}function n(Xe,Ke){var Ve=r.getArrayBuffer(Xe.request,function(Je,ct,st,je){Je?Ke(Je):ct&&Ke(null,{vectorTile:new r.vectorTile.VectorTile(new r.pbf(ct)),rawData:ct,cacheControl:st,expires:je})});return function(){Ve.cancel(),Ke()}}t.prototype.parse=function(Xe,Ke,Ve,Je,ct){var st=this;this.status="parsing",this.data=Xe,this.collisionBoxArray=new r.CollisionBoxArray;var je=new r.DictionaryCoder(Object.keys(Xe.layers).sort()),Ue=new r.FeatureIndex(this.tileID,this.promoteId);Ue.bucketLayerIDs=[];var lt,Qe,gt,mt,xt={},dt={featureIndex:Ue,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ve},Lt=Ke.familiesBySource[this.source];for(var kt in Lt){var _t=Xe.layers[kt];if(_t){_t.version===1&&r.warnOnce('Vector tile source "'+this.source+'" layer "'+kt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Ot=je.encode(kt),Pt=[],Bt=0;Bt<_t.length;Bt++){var Jt=_t.feature(Bt),on=Ue.getId(Jt,kt);Pt.push({feature:Jt,id:on,index:Bt,sourceLayerIndex:Ot})}for(var qt=0,Gt=Lt[kt];qt<Gt.length;qt+=1){var nn=Gt[qt],Cn=nn[0];Cn.minzoom&&this.zoom<Math.floor(Cn.minzoom)||Cn.maxzoom&&this.zoom>=Cn.maxzoom||Cn.visibility!=="none"&&(a(nn,this.zoom,Ve),(xt[Cn.id]=Cn.createBucket({index:Ue.bucketLayerIDs.length,layers:nn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ot,sourceID:this.source})).populate(Pt,dt,this.tileID.canonical),Ue.bucketLayerIDs.push(nn.map(function(rn){return rn.id})))}}}var An=r.mapObject(dt.glyphDependencies,function(rn){return Object.keys(rn).map(Number)});Object.keys(An).length?Je.send("getGlyphs",{uid:this.uid,stacks:An},function(rn,hn){lt||(lt=rn,Qe=hn,un.call(st))}):Qe={};var dn=Object.keys(dt.iconDependencies);dn.length?Je.send("getImages",{icons:dn,source:this.source,tileID:this.tileID,type:"icons"},function(rn,hn){lt||(lt=rn,gt=hn,un.call(st))}):gt={};var Kt=Object.keys(dt.patternDependencies);function un(){if(lt)return ct(lt);if(Qe&&gt&&mt){var rn=new s(Qe),hn=new r.ImageAtlas(gt,mt);for(var kn in xt){var Sn=xt[kn];Sn instanceof r.SymbolBucket?(a(Sn.layers,this.zoom,Ve),r.performSymbolLayout(Sn,Qe,rn.positions,gt,hn.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Sn.hasPattern&&(Sn instanceof r.LineBucket||Sn instanceof r.FillBucket||Sn instanceof r.FillExtrusionBucket)&&(a(Sn.layers,this.zoom,Ve),Sn.addFeatures(dt,this.tileID.canonical,hn.patternPositions))}this.status="done",ct(null,{buckets:r.values(xt).filter(function(Rn){return!Rn.isEmpty()}),featureIndex:Ue,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:rn.image,imageAtlas:hn,glyphMap:this.returnDependencies?Qe:null,iconMap:this.returnDependencies?gt:null,glyphPositions:this.returnDependencies?rn.positions:null})}}Kt.length?Je.send("getImages",{icons:Kt,source:this.source,tileID:this.tileID,type:"patterns"},function(rn,hn){lt||(lt=rn,mt=hn,un.call(st))}):mt={},un.call(this)};var i=function(Xe,Ke,Ve,Je){this.actor=Xe,this.layerIndex=Ke,this.availableImages=Ve,this.loadVectorData=Je||n,this.loading={},this.loaded={}};i.prototype.loadTile=function(Xe,Ke){var Ve=this,Je=Xe.uid;this.loading||(this.loading={});var ct=!!(Xe&&Xe.request&&Xe.request.collectResourceTiming)&&new r.RequestPerformance(Xe.request),st=this.loading[Je]=new t(Xe);st.abort=this.loadVectorData(Xe,function(je,Ue){if(delete Ve.loading[Je],je||!Ue)return st.status="done",Ve.loaded[Je]=st,Ke(je);var lt=Ue.rawData,Qe={};Ue.expires&&(Qe.expires=Ue.expires),Ue.cacheControl&&(Qe.cacheControl=Ue.cacheControl);var gt={};if(ct){var mt=ct.finish();mt&&(gt.resourceTiming=JSON.parse(JSON.stringify(mt)))}st.vectorTile=Ue.vectorTile,st.parse(Ue.vectorTile,Ve.layerIndex,Ve.availableImages,Ve.actor,function(xt,dt){if(xt||!dt)return Ke(xt);Ke(null,r.extend({rawTileData:lt.slice(0)},dt,Qe,gt))}),Ve.loaded=Ve.loaded||{},Ve.loaded[Je]=st})},i.prototype.reloadTile=function(Xe,Ke){var Ve=this,Je=this.loaded,ct=Xe.uid,st=this;if(Je&&Je[ct]){var je=Je[ct];je.showCollisionBoxes=Xe.showCollisionBoxes;var Ue=function(lt,Qe){var gt=je.reloadCallback;gt&&(delete je.reloadCallback,je.parse(je.vectorTile,st.layerIndex,Ve.availableImages,st.actor,gt)),Ke(lt,Qe)};je.status==="parsing"?je.reloadCallback=Ue:je.status==="done"&&(je.vectorTile?je.parse(je.vectorTile,this.layerIndex,this.availableImages,this.actor,Ue):Ue())}},i.prototype.abortTile=function(Xe,Ke){var Ve=this.loading,Je=Xe.uid;Ve&&Ve[Je]&&Ve[Je].abort&&(Ve[Je].abort(),delete Ve[Je]),Ke()},i.prototype.removeTile=function(Xe,Ke){var Ve=this.loaded,Je=Xe.uid;Ve&&Ve[Je]&&delete Ve[Je],Ke()};var l=r.window.ImageBitmap,o=function(){this.loaded={}};o.prototype.loadTile=function(Xe,Ke){var Ve=Xe.uid,Je=Xe.encoding,ct=Xe.rawImageData,st=l&&ct instanceof l?this.getImageData(ct):ct,je=new r.DEMData(Ve,st,Je);this.loaded=this.loaded||{},this.loaded[Ve]=je,Ke(null,je)},o.prototype.getImageData=function(Xe){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Xe.width,Xe.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=Xe.width,this.offscreenCanvas.height=Xe.height,this.offscreenCanvasContext.drawImage(Xe,0,0,Xe.width,Xe.height);var Ke=this.offscreenCanvasContext.getImageData(-1,-1,Xe.width+2,Xe.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new r.RGBAImage({width:Ke.width,height:Ke.height},Ke.data)},o.prototype.removeTile=function(Xe){var Ke=this.loaded,Ve=Xe.uid;Ke&&Ke[Ve]&&delete Ke[Ve]};var u=function Xe(Ke,Ve){var Je,ct=Ke&&Ke.type;if(ct==="FeatureCollection")for(Je=0;Je<Ke.features.length;Je++)Xe(Ke.features[Je],Ve);else if(ct==="GeometryCollection")for(Je=0;Je<Ke.geometries.length;Je++)Xe(Ke.geometries[Je],Ve);else if(ct==="Feature")Xe(Ke.geometry,Ve);else if(ct==="Polygon")h(Ke.coordinates,Ve);else if(ct==="MultiPolygon")for(Je=0;Je<Ke.coordinates.length;Je++)h(Ke.coordinates[Je],Ve);return Ke};function h(Xe,Ke){if(Xe.length!==0){c(Xe[0],Ke);for(var Ve=1;Ve<Xe.length;Ve++)c(Xe[Ve],!Ke)}}function c(Xe,Ke){for(var Ve=0,Je=0,ct=Xe.length,st=ct-1;Je<ct;st=Je++)Ve+=(Xe[Je][0]-Xe[st][0])*(Xe[st][1]+Xe[Je][1]);Ve>=0!=!!Ke&&Xe.reverse()}var b=r.vectorTile.VectorTileFeature.prototype.toGeoJSON,d=function(Xe){this._feature=Xe,this.extent=r.EXTENT,this.type=Xe.type,this.properties=Xe.tags,"id"in Xe&&!isNaN(Xe.id)&&(this.id=parseInt(Xe.id,10))};d.prototype.loadGeometry=function(){if(this._feature.type===1){for(var Xe=[],Ke=0,Ve=this._feature.geometry;Ke<Ve.length;Ke+=1){var Je=Ve[Ke];Xe.push([new r.Point$1(Je[0],Je[1])])}return Xe}for(var ct=[],st=0,je=this._feature.geometry;st<je.length;st+=1){for(var Ue=[],lt=0,Qe=je[st];lt<Qe.length;lt+=1){var gt=Qe[lt];Ue.push(new r.Point$1(gt[0],gt[1]))}ct.push(Ue)}return ct},d.prototype.toGeoJSON=function(Xe,Ke,Ve){return b.call(this,Xe,Ke,Ve)};var g=function(Xe){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=r.EXTENT,this.length=Xe.length,this._features=Xe};g.prototype.feature=function(Xe){return new d(this._features[Xe])};var m=r.vectorTile.VectorTileFeature,y=x;function x(Xe,Ke){this.options=Ke||{},this.features=Xe,this.length=Xe.length}function T(Xe,Ke){this.id=typeof Xe.id=="number"?Xe.id:void 0,this.type=Xe.type,this.rawGeometry=Xe.type===1?[Xe.geometry]:Xe.geometry,this.properties=Xe.tags,this.extent=Ke||4096}x.prototype.feature=function(Xe){return new T(this.features[Xe],this.options.extent)},T.prototype.loadGeometry=function(){var Xe=this.rawGeometry;this.geometry=[];for(var Ke=0;Ke<Xe.length;Ke++){for(var Ve=Xe[Ke],Je=[],ct=0;ct<Ve.length;ct++)Je.push(new r.Point$1(Ve[ct][0],Ve[ct][1]));this.geometry.push(Je)}return this.geometry},T.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Xe=this.geometry,Ke=1/0,Ve=-1/0,Je=1/0,ct=-1/0,st=0;st<Xe.length;st++)for(var je=Xe[st],Ue=0;Ue<je.length;Ue++){var lt=je[Ue];Ke=Math.min(Ke,lt.x),Ve=Math.max(Ve,lt.x),Je=Math.min(Je,lt.y),ct=Math.max(ct,lt.y)}return[Ke,Je,Ve,ct]},T.prototype.toGeoJSON=m.prototype.toGeoJSON;var p=P,S=P,M=function(Xe,Ke){Ke=Ke||{};var Ve={};for(var Je in Xe)Ve[Je]=new y(Xe[Je].features,Ke),Ve[Je].name=Je,Ve[Je].version=Ke.version,Ve[Je].extent=Ke.extent;return P({layers:Ve})},E=y;function P(Xe){var Ke=new r.pbf;return function(Ve,Je){for(var ct in Ve.layers)Je.writeMessage(3,O,Ve.layers[ct])}(Xe,Ke),Ke.finish()}function O(Xe,Ke){var Ve;Ke.writeVarintField(15,Xe.version||1),Ke.writeStringField(1,Xe.name||""),Ke.writeVarintField(5,Xe.extent||4096);var Je={keys:[],values:[],keycache:{},valuecache:{}};for(Ve=0;Ve<Xe.length;Ve++)Je.feature=Xe.feature(Ve),Ke.writeMessage(2,I,Je);var ct=Je.keys;for(Ve=0;Ve<ct.length;Ve++)Ke.writeStringField(3,ct[Ve]);var st=Je.values;for(Ve=0;Ve<st.length;Ve++)Ke.writeMessage(4,W,st[Ve])}function I(Xe,Ke){var Ve=Xe.feature;Ve.id!==void 0&&Ke.writeVarintField(1,Ve.id),Ke.writeMessage(2,R,Xe),Ke.writeVarintField(3,Ve.type),Ke.writeMessage(4,j,Ve)}function R(Xe,Ke){var Ve=Xe.feature,Je=Xe.keys,ct=Xe.values,st=Xe.keycache,je=Xe.valuecache;for(var Ue in Ve.properties){var lt=st[Ue];lt===void 0&&(Je.push(Ue),lt=Je.length-1,st[Ue]=lt),Ke.writeVarint(lt);var Qe=Ve.properties[Ue],gt=typeof Qe;gt!=="string"&&gt!=="boolean"&&gt!=="number"&&(Qe=JSON.stringify(Qe));var mt=gt+":"+Qe,xt=je[mt];xt===void 0&&(ct.push(Qe),xt=ct.length-1,je[mt]=xt),Ke.writeVarint(xt)}}function U(Xe,Ke){return(Ke<<3)+(7&Xe)}function z(Xe){return Xe<<1^Xe>>31}function j(Xe,Ke){for(var Ve=Xe.loadGeometry(),Je=Xe.type,ct=0,st=0,je=Ve.length,Ue=0;Ue<je;Ue++){var lt=Ve[Ue],Qe=1;Je===1&&(Qe=lt.length),Ke.writeVarint(U(1,Qe));for(var gt=Je===3?lt.length-1:lt.length,mt=0;mt<gt;mt++){mt===1&&Je!==1&&Ke.writeVarint(U(2,gt-1));var xt=lt[mt].x-ct,dt=lt[mt].y-st;Ke.writeVarint(z(xt)),Ke.writeVarint(z(dt)),ct+=xt,st+=dt}Je===3&&Ke.writeVarint(U(7,1))}}function W(Xe,Ke){var Ve=typeof Xe;Ve==="string"?Ke.writeStringField(1,Xe):Ve==="boolean"?Ke.writeBooleanField(7,Xe):Ve==="number"&&(Xe%1!=0?Ke.writeDoubleField(3,Xe):Xe<0?Ke.writeSVarintField(6,Xe):Ke.writeVarintField(5,Xe))}function F(Xe,Ke,Ve,Je,ct,st){if(!(ct-Je<=Ve)){var je=Je+ct>>1;V(Xe,Ke,je,Je,ct,st%2),F(Xe,Ke,Ve,Je,je-1,st+1),F(Xe,Ke,Ve,je+1,ct,st+1)}}function V(Xe,Ke,Ve,Je,ct,st){for(;ct>Je;){if(ct-Je>600){var je=ct-Je+1,Ue=Ve-Je+1,lt=Math.log(je),Qe=.5*Math.exp(2*lt/3),gt=.5*Math.sqrt(lt*Qe*(je-Qe)/je)*(Ue-je/2<0?-1:1);V(Xe,Ke,Ve,Math.max(Je,Math.floor(Ve-Ue*Qe/je+gt)),Math.min(ct,Math.floor(Ve+(je-Ue)*Qe/je+gt)),st)}var mt=Ke[2*Ve+st],xt=Je,dt=ct;for(H(Xe,Ke,Je,Ve),Ke[2*ct+st]>mt&&H(Xe,Ke,Je,ct);xt<dt;){for(H(Xe,Ke,xt,dt),xt++,dt--;Ke[2*xt+st]<mt;)xt++;for(;Ke[2*dt+st]>mt;)dt--}Ke[2*Je+st]===mt?H(Xe,Ke,Je,dt):H(Xe,Ke,++dt,ct),dt<=Ve&&(Je=dt+1),Ve<=dt&&(ct=dt-1)}}function H(Xe,Ke,Ve,Je){te(Xe,Ve,Je),te(Ke,2*Ve,2*Je),te(Ke,2*Ve+1,2*Je+1)}function te(Xe,Ke,Ve){var Je=Xe[Ke];Xe[Ke]=Xe[Ve],Xe[Ve]=Je}function Q(Xe,Ke,Ve,Je){var ct=Xe-Ve,st=Ke-Je;return ct*ct+st*st}p.fromVectorTileJs=S,p.fromGeojsonVt=M,p.GeoJSONWrapper=E;var K=function(Xe){return Xe[0]},X=function(Xe){return Xe[1]},J=function(Xe,Ke,Ve,Je,ct){Ke===void 0&&(Ke=K),Ve===void 0&&(Ve=X),Je===void 0&&(Je=64),ct===void 0&&(ct=Float64Array),this.nodeSize=Je,this.points=Xe;for(var st=Xe.length<65536?Uint16Array:Uint32Array,je=this.ids=new st(Xe.length),Ue=this.coords=new ct(2*Xe.length),lt=0;lt<Xe.length;lt++)je[lt]=lt,Ue[2*lt]=Ke(Xe[lt]),Ue[2*lt+1]=Ve(Xe[lt]);F(je,Ue,Je,0,je.length-1,0)};J.prototype.range=function(Xe,Ke,Ve,Je){return function(ct,st,je,Ue,lt,Qe,gt){for(var mt,xt,dt=[0,ct.length-1,0],Lt=[];dt.length;){var kt=dt.pop(),_t=dt.pop(),Ot=dt.pop();if(_t-Ot<=gt)for(var Pt=Ot;Pt<=_t;Pt++)mt=st[2*Pt],xt=st[2*Pt+1],mt>=je&&mt<=lt&&xt>=Ue&&xt<=Qe&&Lt.push(ct[Pt]);else{var Bt=Math.floor((Ot+_t)/2);mt=st[2*Bt],xt=st[2*Bt+1],mt>=je&&mt<=lt&&xt>=Ue&&xt<=Qe&&Lt.push(ct[Bt]);var Jt=(kt+1)%2;(kt===0?je<=mt:Ue<=xt)&&(dt.push(Ot),dt.push(Bt-1),dt.push(Jt)),(kt===0?lt>=mt:Qe>=xt)&&(dt.push(Bt+1),dt.push(_t),dt.push(Jt))}}return Lt}(this.ids,this.coords,Xe,Ke,Ve,Je,this.nodeSize)},J.prototype.within=function(Xe,Ke,Ve){return function(Je,ct,st,je,Ue,lt){for(var Qe=[0,Je.length-1,0],gt=[],mt=Ue*Ue;Qe.length;){var xt=Qe.pop(),dt=Qe.pop(),Lt=Qe.pop();if(dt-Lt<=lt)for(var kt=Lt;kt<=dt;kt++)Q(ct[2*kt],ct[2*kt+1],st,je)<=mt&&gt.push(Je[kt]);else{var _t=Math.floor((Lt+dt)/2),Ot=ct[2*_t],Pt=ct[2*_t+1];Q(Ot,Pt,st,je)<=mt&&gt.push(Je[_t]);var Bt=(xt+1)%2;(xt===0?st-Ue<=Ot:je-Ue<=Pt)&&(Qe.push(Lt),Qe.push(_t-1),Qe.push(Bt)),(xt===0?st+Ue>=Ot:je+Ue>=Pt)&&(Qe.push(_t+1),Qe.push(dt),Qe.push(Bt))}}return gt}(this.ids,this.coords,Xe,Ke,Ve,this.nodeSize)};var ee={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(Xe){return Xe}},ie=function(Xe){this.options=we(Object.create(ee),Xe),this.trees=new Array(this.options.maxZoom+1)};function oe(Xe,Ke,Ve,Je,ct){return{x:Xe,y:Ke,zoom:1/0,id:Ve,parentId:-1,numPoints:Je,properties:ct}}function ae(Xe,Ke){var Ve=Xe.geometry.coordinates,Je=Ve[0],ct=Ve[1];return{x:ve(Je),y:be(ct),zoom:1/0,index:Ke,parentId:-1}}function ce(Xe){return{type:"Feature",id:Xe.id,properties:ge(Xe),geometry:{type:"Point",coordinates:[(Je=Xe.x,360*(Je-.5)),(Ke=Xe.y,Ve=(180-360*Ke)*Math.PI/180,360*Math.atan(Math.exp(Ve))/Math.PI-90)]}};var Ke,Ve,Je}function ge(Xe){var Ke=Xe.numPoints,Ve=Ke>=1e4?Math.round(Ke/1e3)+"k":Ke>=1e3?Math.round(Ke/100)/10+"k":Ke;return we(we({},Xe.properties),{cluster:!0,cluster_id:Xe.id,point_count:Ke,point_count_abbreviated:Ve})}function ve(Xe){return Xe/360+.5}function be(Xe){var Ke=Math.sin(Xe*Math.PI/180),Ve=.5-.25*Math.log((1+Ke)/(1-Ke))/Math.PI;return Ve<0?0:Ve>1?1:Ve}function we(Xe,Ke){for(var Ve in Ke)Xe[Ve]=Ke[Ve];return Xe}function ye(Xe){return Xe.x}function me(Xe){return Xe.y}function Ae(Xe,Ke,Ve,Je){for(var ct,st=Je,je=Ve-Ke>>1,Ue=Ve-Ke,lt=Xe[Ke],Qe=Xe[Ke+1],gt=Xe[Ve],mt=Xe[Ve+1],xt=Ke+3;xt<Ve;xt+=3){var dt=ke(Xe[xt],Xe[xt+1],lt,Qe,gt,mt);if(dt>st)ct=xt,st=dt;else if(dt===st){var Lt=Math.abs(xt-je);Lt<Ue&&(ct=xt,Ue=Lt)}}st>Je&&(ct-Ke>3&&Ae(Xe,Ke,ct,Je),Xe[ct+2]=st,Ve-ct>3&&Ae(Xe,ct,Ve,Je))}function ke(Xe,Ke,Ve,Je,ct,st){var je=ct-Ve,Ue=st-Je;if(je!==0||Ue!==0){var lt=((Xe-Ve)*je+(Ke-Je)*Ue)/(je*je+Ue*Ue);lt>1?(Ve=ct,Je=st):lt>0&&(Ve+=je*lt,Je+=Ue*lt)}return(je=Xe-Ve)*je+(Ue=Ke-Je)*Ue}function fe(Xe,Ke,Ve,Je){var ct={id:Xe===void 0?null:Xe,type:Ke,geometry:Ve,tags:Je,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(st){var je=st.geometry,Ue=st.type;if(Ue==="Point"||Ue==="MultiPoint"||Ue==="LineString")le(st,je);else if(Ue==="Polygon"||Ue==="MultiLineString")for(var lt=0;lt<je.length;lt++)le(st,je[lt]);else if(Ue==="MultiPolygon")for(lt=0;lt<je.length;lt++)for(var Qe=0;Qe<je[lt].length;Qe++)le(st,je[lt][Qe])}(ct),ct}function le(Xe,Ke){for(var Ve=0;Ve<Ke.length;Ve+=3)Xe.minX=Math.min(Xe.minX,Ke[Ve]),Xe.minY=Math.min(Xe.minY,Ke[Ve+1]),Xe.maxX=Math.max(Xe.maxX,Ke[Ve]),Xe.maxY=Math.max(Xe.maxY,Ke[Ve+1])}function de(Xe,Ke,Ve,Je){if(Ke.geometry){var ct=Ke.geometry.coordinates,st=Ke.geometry.type,je=Math.pow(Ve.tolerance/((1<<Ve.maxZoom)*Ve.extent),2),Ue=[],lt=Ke.id;if(Ve.promoteId?lt=Ke.properties[Ve.promoteId]:Ve.generateId&&(lt=Je||0),st==="Point")Ce(ct,Ue);else if(st==="MultiPoint")for(var Qe=0;Qe<ct.length;Qe++)Ce(ct[Qe],Ue);else if(st==="LineString")Me(ct,Ue,je,!1);else if(st==="MultiLineString"){if(Ve.lineMetrics){for(Qe=0;Qe<ct.length;Qe++)Ue=[],Me(ct[Qe],Ue,je,!1),Xe.push(fe(lt,"LineString",Ue,Ke.properties));return}Le(ct,Ue,je,!1)}else if(st==="Polygon")Le(ct,Ue,je,!0);else{if(st!=="MultiPolygon"){if(st==="GeometryCollection"){for(Qe=0;Qe<Ke.geometry.geometries.length;Qe++)de(Xe,{id:lt,geometry:Ke.geometry.geometries[Qe],properties:Ke.properties},Ve,Je);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Qe=0;Qe<ct.length;Qe++){var gt=[];Le(ct[Qe],gt,je,!0),Ue.push(gt)}}Xe.push(fe(lt,st,Ue,Ke.properties))}}function Ce(Xe,Ke){Ke.push(Oe(Xe[0])),Ke.push(Be(Xe[1])),Ke.push(0)}function Me(Xe,Ke,Ve,Je){for(var ct,st,je=0,Ue=0;Ue<Xe.length;Ue++){var lt=Oe(Xe[Ue][0]),Qe=Be(Xe[Ue][1]);Ke.push(lt),Ke.push(Qe),Ke.push(0),Ue>0&&(je+=Je?(ct*Qe-lt*st)/2:Math.sqrt(Math.pow(lt-ct,2)+Math.pow(Qe-st,2))),ct=lt,st=Qe}var gt=Ke.length-3;Ke[2]=1,Ae(Ke,0,gt,Ve),Ke[gt+2]=1,Ke.size=Math.abs(je),Ke.start=0,Ke.end=Ke.size}function Le(Xe,Ke,Ve,Je){for(var ct=0;ct<Xe.length;ct++){var st=[];Me(Xe[ct],st,Ve,Je),Ke.push(st)}}function Oe(Xe){return Xe/360+.5}function Be(Xe){var Ke=Math.sin(Xe*Math.PI/180),Ve=.5-.25*Math.log((1+Ke)/(1-Ke))/Math.PI;return Ve<0?0:Ve>1?1:Ve}function pe(Xe,Ke,Ve,Je,ct,st,je,Ue){if(Je/=Ke,st>=(Ve/=Ke)&&je<Je)return Xe;if(je<Ve||st>=Je)return null;for(var lt=[],Qe=0;Qe<Xe.length;Qe++){var gt=Xe[Qe],mt=gt.geometry,xt=gt.type,dt=ct===0?gt.minX:gt.minY,Lt=ct===0?gt.maxX:gt.maxY;if(dt>=Ve&&Lt<Je)lt.push(gt);else if(!(Lt<Ve||dt>=Je)){var kt=[];if(xt==="Point"||xt==="MultiPoint")_e(mt,kt,Ve,Je,ct);else if(xt==="LineString")Te(mt,kt,Ve,Je,ct,!1,Ue.lineMetrics);else if(xt==="MultiLineString")Ne(mt,kt,Ve,Je,ct,!1);else if(xt==="Polygon")Ne(mt,kt,Ve,Je,ct,!0);else if(xt==="MultiPolygon")for(var _t=0;_t<mt.length;_t++){var Ot=[];Ne(mt[_t],Ot,Ve,Je,ct,!0),Ot.length&&kt.push(Ot)}if(kt.length){if(Ue.lineMetrics&&xt==="LineString"){for(_t=0;_t<kt.length;_t++)lt.push(fe(gt.id,xt,kt[_t],gt.tags));continue}xt!=="LineString"&&xt!=="MultiLineString"||(kt.length===1?(xt="LineString",kt=kt[0]):xt="MultiLineString"),xt!=="Point"&&xt!=="MultiPoint"||(xt=kt.length===3?"Point":"MultiPoint"),lt.push(fe(gt.id,xt,kt,gt.tags))}}}return lt.length?lt:null}function _e(Xe,Ke,Ve,Je,ct){for(var st=0;st<Xe.length;st+=3){var je=Xe[st+ct];je>=Ve&&je<=Je&&(Ke.push(Xe[st]),Ke.push(Xe[st+1]),Ke.push(Xe[st+2]))}}function Te(Xe,Ke,Ve,Je,ct,st,je){for(var Ue,lt,Qe=Re(Xe),gt=ct===0?Ge:Ye,mt=Xe.start,xt=0;xt<Xe.length-3;xt+=3){var dt=Xe[xt],Lt=Xe[xt+1],kt=Xe[xt+2],_t=Xe[xt+3],Ot=Xe[xt+4],Pt=ct===0?dt:Lt,Bt=ct===0?_t:Ot,Jt=!1;je&&(Ue=Math.sqrt(Math.pow(dt-_t,2)+Math.pow(Lt-Ot,2))),Pt<Ve?Bt>Ve&&(lt=gt(Qe,dt,Lt,_t,Ot,Ve),je&&(Qe.start=mt+Ue*lt)):Pt>Je?Bt<Je&&(lt=gt(Qe,dt,Lt,_t,Ot,Je),je&&(Qe.start=mt+Ue*lt)):ze(Qe,dt,Lt,kt),Bt<Ve&&Pt>=Ve&&(lt=gt(Qe,dt,Lt,_t,Ot,Ve),Jt=!0),Bt>Je&&Pt<=Je&&(lt=gt(Qe,dt,Lt,_t,Ot,Je),Jt=!0),!st&&Jt&&(je&&(Qe.end=mt+Ue*lt),Ke.push(Qe),Qe=Re(Xe)),je&&(mt+=Ue)}var on=Xe.length-3;dt=Xe[on],Lt=Xe[on+1],kt=Xe[on+2],(Pt=ct===0?dt:Lt)>=Ve&&Pt<=Je&&ze(Qe,dt,Lt,kt),on=Qe.length-3,st&&on>=3&&(Qe[on]!==Qe[0]||Qe[on+1]!==Qe[1])&&ze(Qe,Qe[0],Qe[1],Qe[2]),Qe.length&&Ke.push(Qe)}function Re(Xe){var Ke=[];return Ke.size=Xe.size,Ke.start=Xe.start,Ke.end=Xe.end,Ke}function Ne(Xe,Ke,Ve,Je,ct,st){for(var je=0;je<Xe.length;je++)Te(Xe[je],Ke,Ve,Je,ct,st,!1)}function ze(Xe,Ke,Ve,Je){Xe.push(Ke),Xe.push(Ve),Xe.push(Je)}function Ge(Xe,Ke,Ve,Je,ct,st){var je=(st-Ke)/(Je-Ke);return Xe.push(st),Xe.push(Ve+(ct-Ve)*je),Xe.push(1),je}function Ye(Xe,Ke,Ve,Je,ct,st){var je=(st-Ve)/(ct-Ve);return Xe.push(Ke+(Je-Ke)*je),Xe.push(st),Xe.push(1),je}function et(Xe,Ke){for(var Ve=[],Je=0;Je<Xe.length;Je++){var ct,st=Xe[Je],je=st.type;if(je==="Point"||je==="MultiPoint"||je==="LineString")ct=ut(st.geometry,Ke);else if(je==="MultiLineString"||je==="Polygon"){ct=[];for(var Ue=0;Ue<st.geometry.length;Ue++)ct.push(ut(st.geometry[Ue],Ke))}else if(je==="MultiPolygon")for(ct=[],Ue=0;Ue<st.geometry.length;Ue++){for(var lt=[],Qe=0;Qe<st.geometry[Ue].length;Qe++)lt.push(ut(st.geometry[Ue][Qe],Ke));ct.push(lt)}Ve.push(fe(st.id,je,ct,st.tags))}return Ve}function ut(Xe,Ke){var Ve=[];Ve.size=Xe.size,Xe.start!==void 0&&(Ve.start=Xe.start,Ve.end=Xe.end);for(var Je=0;Je<Xe.length;Je+=3)Ve.push(Xe[Je]+Ke,Xe[Je+1],Xe[Je+2]);return Ve}function ot(Xe,Ke){if(Xe.transformed)return Xe;var Ve,Je,ct,st=1<<Xe.z,je=Xe.x,Ue=Xe.y;for(Ve=0;Ve<Xe.features.length;Ve++){var lt=Xe.features[Ve],Qe=lt.geometry,gt=lt.type;if(lt.geometry=[],gt===1)for(Je=0;Je<Qe.length;Je+=2)lt.geometry.push(yt(Qe[Je],Qe[Je+1],Ke,st,je,Ue));else for(Je=0;Je<Qe.length;Je++){var mt=[];for(ct=0;ct<Qe[Je].length;ct+=2)mt.push(yt(Qe[Je][ct],Qe[Je][ct+1],Ke,st,je,Ue));lt.geometry.push(mt)}}return Xe.transformed=!0,Xe}function yt(Xe,Ke,Ve,Je,ct,st){return[Math.round(Ve*(Xe*Je-ct)),Math.round(Ve*(Ke*Je-st))]}function wt(Xe,Ke,Ve,Je,ct){for(var st=Ke===ct.maxZoom?0:ct.tolerance/((1<<Ke)*ct.extent),je={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ve,y:Je,z:Ke,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ue=0;Ue<Xe.length;Ue++){je.numFeatures++,bt(je,Xe[Ue],st,ct);var lt=Xe[Ue].minX,Qe=Xe[Ue].minY,gt=Xe[Ue].maxX,mt=Xe[Ue].maxY;lt<je.minX&&(je.minX=lt),Qe<je.minY&&(je.minY=Qe),gt>je.maxX&&(je.maxX=gt),mt>je.maxY&&(je.maxY=mt)}return je}function bt(Xe,Ke,Ve,Je){var ct=Ke.geometry,st=Ke.type,je=[];if(st==="Point"||st==="MultiPoint")for(var Ue=0;Ue<ct.length;Ue+=3)je.push(ct[Ue]),je.push(ct[Ue+1]),Xe.numPoints++,Xe.numSimplified++;else if(st==="LineString")at(je,ct,Xe,Ve,!1,!1);else if(st==="MultiLineString"||st==="Polygon")for(Ue=0;Ue<ct.length;Ue++)at(je,ct[Ue],Xe,Ve,st==="Polygon",Ue===0);else if(st==="MultiPolygon")for(var lt=0;lt<ct.length;lt++){var Qe=ct[lt];for(Ue=0;Ue<Qe.length;Ue++)at(je,Qe[Ue],Xe,Ve,!0,Ue===0)}if(je.length){var gt=Ke.tags||null;if(st==="LineString"&&Je.lineMetrics){for(var mt in gt={},Ke.tags)gt[mt]=Ke.tags[mt];gt.mapbox_clip_start=ct.start/ct.size,gt.mapbox_clip_end=ct.end/ct.size}var xt={geometry:je,type:st==="Polygon"||st==="MultiPolygon"?3:st==="LineString"||st==="MultiLineString"?2:1,tags:gt};Ke.id!==null&&(xt.id=Ke.id),Xe.features.push(xt)}}function at(Xe,Ke,Ve,Je,ct,st){var je=Je*Je;if(Je>0&&Ke.size<(ct?je:Je))Ve.numPoints+=Ke.length/3;else{for(var Ue=[],lt=0;lt<Ke.length;lt+=3)(Je===0||Ke[lt+2]>je)&&(Ve.numSimplified++,Ue.push(Ke[lt]),Ue.push(Ke[lt+1])),Ve.numPoints++;ct&&function(Qe,gt){for(var mt=0,xt=0,dt=Qe.length,Lt=dt-2;xt<dt;Lt=xt,xt+=2)mt+=(Qe[xt]-Qe[Lt])*(Qe[xt+1]+Qe[Lt+1]);if(mt>0===gt)for(xt=0,dt=Qe.length;xt<dt/2;xt+=2){var kt=Qe[xt],_t=Qe[xt+1];Qe[xt]=Qe[dt-2-xt],Qe[xt+1]=Qe[dt-1-xt],Qe[dt-2-xt]=kt,Qe[dt-1-xt]=_t}}(Ue,st),Xe.push(Ue)}}function rt(Xe,Ke){var Ve=(Ke=this.options=function(ct,st){for(var je in st)ct[je]=st[je];return ct}(Object.create(this.options),Ke)).debug;if(Ve&&console.time("preprocess data"),Ke.maxZoom<0||Ke.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Ke.promoteId&&Ke.generateId)throw new Error("promoteId and generateId cannot be used together.");var Je=function(ct,st){var je=[];if(ct.type==="FeatureCollection")for(var Ue=0;Ue<ct.features.length;Ue++)de(je,ct.features[Ue],st,Ue);else ct.type==="Feature"?de(je,ct,st):de(je,{geometry:ct},st);return je}(Xe,Ke);this.tiles={},this.tileCoords=[],Ve&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Ke.indexMaxZoom,Ke.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Je=function(ct,st){var je=st.buffer/st.extent,Ue=ct,lt=pe(ct,1,-1-je,je,0,-1,2,st),Qe=pe(ct,1,1-je,2+je,0,-1,2,st);return(lt||Qe)&&(Ue=pe(ct,1,-je,1+je,0,-1,2,st)||[],lt&&(Ue=et(lt,1).concat(Ue)),Qe&&(Ue=Ue.concat(et(Qe,-1)))),Ue}(Je,Ke)).length&&this.splitTile(Je,0,0,0),Ve&&(Je.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function At(Xe,Ke,Ve){return 32*((1<<Xe)*Ve+Ke)+Xe}function Rt(Xe,Ke){var Ve=Xe.tileID.canonical;if(!this._geoJSONIndex)return Ke(null,null);var Je=this._geoJSONIndex.getTile(Ve.z,Ve.x,Ve.y);if(!Je)return Ke(null,null);var ct=new g(Je.features),st=p(ct);st.byteOffset===0&&st.byteLength===st.buffer.byteLength||(st=new Uint8Array(st)),Ke(null,{vectorTile:ct,rawData:st.buffer})}ie.prototype.load=function(Xe){var Ke=this.options,Ve=Ke.log,Je=Ke.minZoom,ct=Ke.maxZoom,st=Ke.nodeSize;Ve&&console.time("total time");var je="prepare "+Xe.length+" points";Ve&&console.time(je),this.points=Xe;for(var Ue=[],lt=0;lt<Xe.length;lt++)Xe[lt].geometry&&Ue.push(ae(Xe[lt],lt));this.trees[ct+1]=new J(Ue,ye,me,st,Float32Array),Ve&&console.timeEnd(je);for(var Qe=ct;Qe>=Je;Qe--){var gt=+Date.now();Ue=this._cluster(Ue,Qe),this.trees[Qe]=new J(Ue,ye,me,st,Float32Array),Ve&&console.log("z%d: %d clusters in %dms",Qe,Ue.length,+Date.now()-gt)}return Ve&&console.timeEnd("total time"),this},ie.prototype.getClusters=function(Xe,Ke){var Ve=((Xe[0]+180)%360+360)%360-180,Je=Math.max(-90,Math.min(90,Xe[1])),ct=Xe[2]===180?180:((Xe[2]+180)%360+360)%360-180,st=Math.max(-90,Math.min(90,Xe[3]));if(Xe[2]-Xe[0]>=360)Ve=-180,ct=180;else if(Ve>ct){var je=this.getClusters([Ve,Je,180,st],Ke),Ue=this.getClusters([-180,Je,ct,st],Ke);return je.concat(Ue)}for(var lt=this.trees[this._limitZoom(Ke)],Qe=[],gt=0,mt=lt.range(ve(Ve),be(st),ve(ct),be(Je));gt<mt.length;gt+=1){var xt=mt[gt],dt=lt.points[xt];Qe.push(dt.numPoints?ce(dt):this.points[dt.index])}return Qe},ie.prototype.getChildren=function(Xe){var Ke=this._getOriginId(Xe),Ve=this._getOriginZoom(Xe),Je="No cluster with the specified id.",ct=this.trees[Ve];if(!ct)throw new Error(Je);var st=ct.points[Ke];if(!st)throw new Error(Je);for(var je=this.options.radius/(this.options.extent*Math.pow(2,Ve-1)),Ue=[],lt=0,Qe=ct.within(st.x,st.y,je);lt<Qe.length;lt+=1){var gt=Qe[lt],mt=ct.points[gt];mt.parentId===Xe&&Ue.push(mt.numPoints?ce(mt):this.points[mt.index])}if(Ue.length===0)throw new Error(Je);return Ue},ie.prototype.getLeaves=function(Xe,Ke,Ve){Ke=Ke||10,Ve=Ve||0;var Je=[];return this._appendLeaves(Je,Xe,Ke,Ve,0),Je},ie.prototype.getTile=function(Xe,Ke,Ve){var Je=this.trees[this._limitZoom(Xe)],ct=Math.pow(2,Xe),st=this.options,je=st.extent,Ue=st.radius/je,lt=(Ve-Ue)/ct,Qe=(Ve+1+Ue)/ct,gt={features:[]};return this._addTileFeatures(Je.range((Ke-Ue)/ct,lt,(Ke+1+Ue)/ct,Qe),Je.points,Ke,Ve,ct,gt),Ke===0&&this._addTileFeatures(Je.range(1-Ue/ct,lt,1,Qe),Je.points,ct,Ve,ct,gt),Ke===ct-1&&this._addTileFeatures(Je.range(0,lt,Ue/ct,Qe),Je.points,-1,Ve,ct,gt),gt.features.length?gt:null},ie.prototype.getClusterExpansionZoom=function(Xe){for(var Ke=this._getOriginZoom(Xe)-1;Ke<=this.options.maxZoom;){var Ve=this.getChildren(Xe);if(Ke++,Ve.length!==1)break;Xe=Ve[0].properties.cluster_id}return Ke},ie.prototype._appendLeaves=function(Xe,Ke,Ve,Je,ct){for(var st=0,je=this.getChildren(Ke);st<je.length;st+=1){var Ue=je[st],lt=Ue.properties;if(lt&&lt.cluster?ct+lt.point_count<=Je?ct+=lt.point_count:ct=this._appendLeaves(Xe,lt.cluster_id,Ve,Je,ct):ct<Je?ct++:Xe.push(Ue),Xe.length===Ve)break}return ct},ie.prototype._addTileFeatures=function(Xe,Ke,Ve,Je,ct,st){for(var je=0,Ue=Xe;je<Ue.length;je+=1){var lt=Ke[Ue[je]],Qe=lt.numPoints,gt={type:1,geometry:[[Math.round(this.options.extent*(lt.x*ct-Ve)),Math.round(this.options.extent*(lt.y*ct-Je))]],tags:Qe?ge(lt):this.points[lt.index].properties},mt=void 0;Qe?mt=lt.id:this.options.generateId?mt=lt.index:this.points[lt.index].id&&(mt=this.points[lt.index].id),mt!==void 0&&(gt.id=mt),st.features.push(gt)}},ie.prototype._limitZoom=function(Xe){return Math.max(this.options.minZoom,Math.min(+Xe,this.options.maxZoom+1))},ie.prototype._cluster=function(Xe,Ke){for(var Ve=[],Je=this.options,ct=Je.radius,st=Je.extent,je=Je.reduce,Ue=Je.minPoints,lt=ct/(st*Math.pow(2,Ke)),Qe=0;Qe<Xe.length;Qe++){var gt=Xe[Qe];if(!(gt.zoom<=Ke)){gt.zoom=Ke;for(var mt=this.trees[Ke+1],xt=mt.within(gt.x,gt.y,lt),dt=gt.numPoints||1,Lt=dt,kt=0,_t=xt;kt<_t.length;kt+=1){var Ot=_t[kt],Pt=mt.points[Ot];Pt.zoom>Ke&&(Lt+=Pt.numPoints||1)}if(Lt>=Ue){for(var Bt=gt.x*dt,Jt=gt.y*dt,on=je&&dt>1?this._map(gt,!0):null,qt=(Qe<<5)+(Ke+1)+this.points.length,Gt=0,nn=xt;Gt<nn.length;Gt+=1){var Cn=nn[Gt],An=mt.points[Cn];if(!(An.zoom<=Ke)){An.zoom=Ke;var dn=An.numPoints||1;Bt+=An.x*dn,Jt+=An.y*dn,An.parentId=qt,je&&(on||(on=this._map(gt,!0)),je(on,this._map(An)))}}gt.parentId=qt,Ve.push(oe(Bt/Lt,Jt/Lt,qt,Lt,on))}else if(Ve.push(gt),Lt>1)for(var Kt=0,un=xt;Kt<un.length;Kt+=1){var rn=un[Kt],hn=mt.points[rn];hn.zoom<=Ke||(hn.zoom=Ke,Ve.push(hn))}}}return Ve},ie.prototype._getOriginId=function(Xe){return Xe-this.points.length>>5},ie.prototype._getOriginZoom=function(Xe){return(Xe-this.points.length)%32},ie.prototype._map=function(Xe,Ke){if(Xe.numPoints)return Ke?we({},Xe.properties):Xe.properties;var Ve=this.points[Xe.index].properties,Je=this.options.map(Ve);return Ke&&Je===Ve?we({},Je):Je},rt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},rt.prototype.splitTile=function(Xe,Ke,Ve,Je,ct,st,je){for(var Ue=[Xe,Ke,Ve,Je],lt=this.options,Qe=lt.debug;Ue.length;){Je=Ue.pop(),Ve=Ue.pop(),Ke=Ue.pop(),Xe=Ue.pop();var gt=1<<Ke,mt=At(Ke,Ve,Je),xt=this.tiles[mt];if(!xt&&(Qe>1&&console.time("creation"),xt=this.tiles[mt]=wt(Xe,Ke,Ve,Je,lt),this.tileCoords.push({z:Ke,x:Ve,y:Je}),Qe)){Qe>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Ke,Ve,Je,xt.numFeatures,xt.numPoints,xt.numSimplified),console.timeEnd("creation"));var dt="z"+Ke;this.stats[dt]=(this.stats[dt]||0)+1,this.total++}if(xt.source=Xe,ct){if(Ke===lt.maxZoom||Ke===ct)continue;var Lt=1<<ct-Ke;if(Ve!==Math.floor(st/Lt)||Je!==Math.floor(je/Lt))continue}else if(Ke===lt.indexMaxZoom||xt.numPoints<=lt.indexMaxPoints)continue;if(xt.source=null,Xe.length!==0){Qe>1&&console.time("clipping");var kt,_t,Ot,Pt,Bt,Jt,on=.5*lt.buffer/lt.extent,qt=.5-on,Gt=.5+on,nn=1+on;kt=_t=Ot=Pt=null,Bt=pe(Xe,gt,Ve-on,Ve+Gt,0,xt.minX,xt.maxX,lt),Jt=pe(Xe,gt,Ve+qt,Ve+nn,0,xt.minX,xt.maxX,lt),Xe=null,Bt&&(kt=pe(Bt,gt,Je-on,Je+Gt,1,xt.minY,xt.maxY,lt),_t=pe(Bt,gt,Je+qt,Je+nn,1,xt.minY,xt.maxY,lt),Bt=null),Jt&&(Ot=pe(Jt,gt,Je-on,Je+Gt,1,xt.minY,xt.maxY,lt),Pt=pe(Jt,gt,Je+qt,Je+nn,1,xt.minY,xt.maxY,lt),Jt=null),Qe>1&&console.timeEnd("clipping"),Ue.push(kt||[],Ke+1,2*Ve,2*Je),Ue.push(_t||[],Ke+1,2*Ve,2*Je+1),Ue.push(Ot||[],Ke+1,2*Ve+1,2*Je),Ue.push(Pt||[],Ke+1,2*Ve+1,2*Je+1)}}},rt.prototype.getTile=function(Xe,Ke,Ve){var Je=this.options,ct=Je.extent,st=Je.debug;if(Xe<0||Xe>24)return null;var je=1<<Xe,Ue=At(Xe,Ke=(Ke%je+je)%je,Ve);if(this.tiles[Ue])return ot(this.tiles[Ue],ct);st>1&&console.log("drilling down to z%d-%d-%d",Xe,Ke,Ve);for(var lt,Qe=Xe,gt=Ke,mt=Ve;!lt&&Qe>0;)Qe--,gt=Math.floor(gt/2),mt=Math.floor(mt/2),lt=this.tiles[At(Qe,gt,mt)];return lt&&lt.source?(st>1&&console.log("found parent tile z%d-%d-%d",Qe,gt,mt),st>1&&console.time("drilling down"),this.splitTile(lt.source,Qe,gt,mt,Xe,Ke,Ve),st>1&&console.timeEnd("drilling down"),this.tiles[Ue]?ot(this.tiles[Ue],ct):null):null};var Ft=function(Xe){function Ke(Ve,Je,ct,st){Xe.call(this,Ve,Je,ct,Rt),st&&(this.loadGeoJSON=st)}return Xe&&(Ke.__proto__=Xe),Ke.prototype=Object.create(Xe&&Xe.prototype),Ke.prototype.constructor=Ke,Ke.prototype.loadData=function(Ve,Je){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Je,this._pendingLoadDataParams=Ve,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},Ke.prototype._loadData=function(){var Ve=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Je=this._pendingCallback,ct=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var st=!!(ct&&ct.request&&ct.request.collectResourceTiming)&&new r.RequestPerformance(ct.request);this.loadGeoJSON(ct,function(je,Ue){if(je||!Ue)return Je(je);if(typeof Ue!="object")return Je(new Error("Input data given to '"+ct.source+"' is not a valid GeoJSON object."));u(Ue,!0);try{if(ct.filter){var lt=r.createExpression(ct.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(lt.result==="error")throw new Error(lt.value.map(function(xt){return xt.key+": "+xt.message}).join(", "));var Qe=Ue.features.filter(function(xt){return lt.value.evaluate({zoom:0},xt)});Ue={type:"FeatureCollection",features:Qe}}Ve._geoJSONIndex=ct.cluster?new ie(function(xt){var dt=xt.superclusterOptions,Lt=xt.clusterProperties;if(!Lt||!dt)return dt;for(var kt={},_t={},Ot={accumulated:null,zoom:0},Pt={properties:null},Bt=Object.keys(Lt),Jt=0,on=Bt;Jt<on.length;Jt+=1){var qt=on[Jt],Gt=Lt[qt],nn=Gt[0],Cn=Gt[1],An=r.createExpression(Cn),dn=r.createExpression(typeof nn=="string"?[nn,["accumulated"],["get",qt]]:nn);kt[qt]=An.value,_t[qt]=dn.value}return dt.map=function(Kt){Pt.properties=Kt;for(var un={},rn=0,hn=Bt;rn<hn.length;rn+=1){var kn=hn[rn];un[kn]=kt[kn].evaluate(Ot,Pt)}return un},dt.reduce=function(Kt,un){Pt.properties=un;for(var rn=0,hn=Bt;rn<hn.length;rn+=1){var kn=hn[rn];Ot.accumulated=Kt[kn],Kt[kn]=_t[kn].evaluate(Ot,Pt)}},dt}(ct)).load(Ue.features):function(xt,dt){return new rt(xt,dt)}(Ue,ct.geojsonVtOptions)}catch(xt){return Je(xt)}Ve.loaded={};var gt={};if(st){var mt=st.finish();mt&&(gt.resourceTiming={},gt.resourceTiming[ct.source]=JSON.parse(JSON.stringify(mt)))}Je(null,gt)})}},Ke.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},Ke.prototype.reloadTile=function(Ve,Je){var ct=this.loaded,st=Ve.uid;return ct&&ct[st]?Xe.prototype.reloadTile.call(this,Ve,Je):this.loadTile(Ve,Je)},Ke.prototype.loadGeoJSON=function(Ve,Je){if(Ve.request)r.getJSON(Ve.request,Je);else{if(typeof Ve.data!="string")return Je(new Error("Input data given to '"+Ve.source+"' is not a valid GeoJSON object."));try{return Je(null,JSON.parse(Ve.data))}catch{return Je(new Error("Input data given to '"+Ve.source+"' is not a valid GeoJSON object."))}}},Ke.prototype.removeSource=function(Ve,Je){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Je()},Ke.prototype.getClusterExpansionZoom=function(Ve,Je){try{Je(null,this._geoJSONIndex.getClusterExpansionZoom(Ve.clusterId))}catch(ct){Je(ct)}},Ke.prototype.getClusterChildren=function(Ve,Je){try{Je(null,this._geoJSONIndex.getChildren(Ve.clusterId))}catch(ct){Je(ct)}},Ke.prototype.getClusterLeaves=function(Ve,Je){try{Je(null,this._geoJSONIndex.getLeaves(Ve.clusterId,Ve.limit,Ve.offset))}catch(ct){Je(ct)}},Ke}(i),Dt=function(Xe){var Ke=this;this.self=Xe,this.actor=new r.Actor(Xe,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:i,geojson:Ft},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ve,Je){if(Ke.workerSourceTypes[Ve])throw new Error('Worker source with name "'+Ve+'" already registered.');Ke.workerSourceTypes[Ve]=Je},this.self.registerRTLTextPlugin=function(Ve){if(r.plugin.isParsed())throw new Error("RTL text plugin already registered.");r.plugin.applyArabicShaping=Ve.applyArabicShaping,r.plugin.processBidirectionalText=Ve.processBidirectionalText,r.plugin.processStyledBidirectionalText=Ve.processStyledBidirectionalText}};return Dt.prototype.setReferrer=function(Xe,Ke){this.referrer=Ke},Dt.prototype.setImages=function(Xe,Ke,Ve){for(var Je in this.availableImages[Xe]=Ke,this.workerSources[Xe]){var ct=this.workerSources[Xe][Je];for(var st in ct)ct[st].availableImages=Ke}Ve()},Dt.prototype.setLayers=function(Xe,Ke,Ve){this.getLayerIndex(Xe).replace(Ke),Ve()},Dt.prototype.updateLayers=function(Xe,Ke,Ve){this.getLayerIndex(Xe).update(Ke.layers,Ke.removedIds),Ve()},Dt.prototype.loadTile=function(Xe,Ke,Ve){this.getWorkerSource(Xe,Ke.type,Ke.source).loadTile(Ke,Ve)},Dt.prototype.loadDEMTile=function(Xe,Ke,Ve){this.getDEMWorkerSource(Xe,Ke.source).loadTile(Ke,Ve)},Dt.prototype.reloadTile=function(Xe,Ke,Ve){this.getWorkerSource(Xe,Ke.type,Ke.source).reloadTile(Ke,Ve)},Dt.prototype.abortTile=function(Xe,Ke,Ve){this.getWorkerSource(Xe,Ke.type,Ke.source).abortTile(Ke,Ve)},Dt.prototype.removeTile=function(Xe,Ke,Ve){this.getWorkerSource(Xe,Ke.type,Ke.source).removeTile(Ke,Ve)},Dt.prototype.removeDEMTile=function(Xe,Ke){this.getDEMWorkerSource(Xe,Ke.source).removeTile(Ke)},Dt.prototype.removeSource=function(Xe,Ke,Ve){if(this.workerSources[Xe]&&this.workerSources[Xe][Ke.type]&&this.workerSources[Xe][Ke.type][Ke.source]){var Je=this.workerSources[Xe][Ke.type][Ke.source];delete this.workerSources[Xe][Ke.type][Ke.source],Je.removeSource!==void 0?Je.removeSource(Ke,Ve):Ve()}},Dt.prototype.loadWorkerSource=function(Xe,Ke,Ve){try{this.self.importScripts(Ke.url),Ve()}catch(Je){Ve(Je.toString())}},Dt.prototype.syncRTLPluginState=function(Xe,Ke,Ve){try{r.plugin.setState(Ke);var Je=r.plugin.getPluginURL();if(r.plugin.isLoaded()&&!r.plugin.isParsed()&&Je!=null){this.self.importScripts(Je);var ct=r.plugin.isParsed();Ve(ct?void 0:new Error("RTL Text Plugin failed to import scripts from "+Je),ct)}}catch(st){Ve(st.toString())}},Dt.prototype.getAvailableImages=function(Xe){var Ke=this.availableImages[Xe];return Ke||(Ke=[]),Ke},Dt.prototype.getLayerIndex=function(Xe){var Ke=this.layerIndexes[Xe];return Ke||(Ke=this.layerIndexes[Xe]=new f),Ke},Dt.prototype.getWorkerSource=function(Xe,Ke,Ve){var Je=this;if(this.workerSources[Xe]||(this.workerSources[Xe]={}),this.workerSources[Xe][Ke]||(this.workerSources[Xe][Ke]={}),!this.workerSources[Xe][Ke][Ve]){var ct={send:function(st,je,Ue){Je.actor.send(st,je,Ue,Xe)}};this.workerSources[Xe][Ke][Ve]=new this.workerSourceTypes[Ke](ct,this.getLayerIndex(Xe),this.getAvailableImages(Xe))}return this.workerSources[Xe][Ke][Ve]},Dt.prototype.getDEMWorkerSource=function(Xe,Ke){return this.demWorkerSources[Xe]||(this.demWorkerSources[Xe]={}),this.demWorkerSources[Xe][Ke]||(this.demWorkerSources[Xe][Ke]=new o),this.demWorkerSources[Xe][Ke]},Dt.prototype.enforceCacheSizeLimit=function(Xe,Ke){r.enforceCacheSizeLimit(Ke)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Dt(self)),Dt}),w(0,function(r){var _=r.createCommonjsModule(function(N){function Y(q){return!G(q)}function G(q){return typeof window<"u"&&typeof document<"u"?Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var ne,he,xe=new Blob([""],{type:"text/javascript"}),Pe=URL.createObjectURL(xe);try{he=new Worker(Pe),ne=!0}catch{ne=!1}return he&&he.terminate(),URL.revokeObjectURL(Pe),ne}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var ne=document.createElement("canvas");ne.width=ne.height=1;var he=ne.getContext("2d");if(!he)return!1;var xe=he.getImageData(0,0,1,1);return xe&&xe.width===ne.width}()?($=q&&q.failIfMajorPerformanceCaveat,C[$]===void 0&&(C[$]=function(ne){var he=function(Pe){var Fe=document.createElement("canvas"),qe=Object.create(Y.webGLContextAttributes);return qe.failIfMajorPerformanceCaveat=Pe,Fe.probablySupportsContext?Fe.probablySupportsContext("webgl",qe)||Fe.probablySupportsContext("experimental-webgl",qe):Fe.supportsContext?Fe.supportsContext("webgl",qe)||Fe.supportsContext("experimental-webgl",qe):Fe.getContext("webgl",qe)||Fe.getContext("experimental-webgl",qe)}(ne);if(!he)return!1;var xe=he.createShader(he.VERTEX_SHADER);return!(!xe||he.isContextLost())&&(he.shaderSource(xe,"void main() {}"),he.compileShader(xe),he.getShaderParameter(xe,he.COMPILE_STATUS)===!0)}($)),C[$]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser";var $}N.exports?N.exports=Y:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=Y,window.mapboxgl.notSupportedReason=G);var C={};Y.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),v={create:function(N,Y,G){var C=r.window.document.createElement(N);return Y!==void 0&&(C.className=Y),G&&G.appendChild(C),C},createNS:function(N,Y){return r.window.document.createElementNS(N,Y)}},f=r.window.document&&r.window.document.documentElement.style;function s(N){if(!f)return N[0];for(var Y=0;Y<N.length;Y++)if(N[Y]in f)return N[Y];return N[0]}var t,a=s(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);v.disableDrag=function(){f&&a&&(t=f[a],f[a]="none")},v.enableDrag=function(){f&&a&&(f[a]=t)};var n=s(["transform","WebkitTransform"]);v.setTransform=function(N,Y){N.style[n]=Y};var i=!1;try{var l=Object.defineProperty({},"passive",{get:function(){i=!0}});r.window.addEventListener("test",l,l),r.window.removeEventListener("test",l,l)}catch{i=!1}v.addEventListener=function(N,Y,G,C){C===void 0&&(C={}),"passive"in C&&i?N.addEventListener(Y,G,C):N.addEventListener(Y,G,C.capture)},v.removeEventListener=function(N,Y,G,C){C===void 0&&(C={}),"passive"in C&&i?N.removeEventListener(Y,G,C):N.removeEventListener(Y,G,C.capture)};var o=function(N){N.preventDefault(),N.stopPropagation(),r.window.removeEventListener("click",o,!0)};function u(N){var Y=N.userImage;return!!(Y&&Y.render&&Y.render())&&(N.data.replace(new Uint8Array(Y.data.buffer)),!0)}v.suppressClick=function(){r.window.addEventListener("click",o,!0),r.window.setTimeout(function(){r.window.removeEventListener("click",o,!0)},0)},v.mousePos=function(N,Y){var G=N.getBoundingClientRect();return new r.Point(Y.clientX-G.left-N.clientLeft,Y.clientY-G.top-N.clientTop)},v.touchPos=function(N,Y){for(var G=N.getBoundingClientRect(),C=[],q=0;q<Y.length;q++)C.push(new r.Point(Y[q].clientX-G.left-N.clientLeft,Y[q].clientY-G.top-N.clientTop));return C},v.mouseButton=function(N){return r.window.InstallTrigger!==void 0&&N.button===2&&N.ctrlKey&&r.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:N.button},v.remove=function(N){N.parentNode&&N.parentNode.removeChild(N)};var h=function(N){function Y(){N.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new r.RGBAImage({width:1,height:1}),this.dirty=!0}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.isLoaded=function(){return this.loaded},Y.prototype.setLoaded=function(G){if(this.loaded!==G&&(this.loaded=G,G)){for(var C=0,q=this.requestors;C<q.length;C+=1){var $=q[C],ne=$.ids,he=$.callback;this._notify(ne,he)}this.requestors=[]}},Y.prototype.getImage=function(G){return this.images[G]},Y.prototype.addImage=function(G,C){this._validate(G,C)&&(this.images[G]=C)},Y.prototype._validate=function(G,C){var q=!0;return this._validateStretch(C.stretchX,C.data&&C.data.width)||(this.fire(new r.ErrorEvent(new Error('Image "'+G+'" has invalid "stretchX" value'))),q=!1),this._validateStretch(C.stretchY,C.data&&C.data.height)||(this.fire(new r.ErrorEvent(new Error('Image "'+G+'" has invalid "stretchY" value'))),q=!1),this._validateContent(C.content,C)||(this.fire(new r.ErrorEvent(new Error('Image "'+G+'" has invalid "content" value'))),q=!1),q},Y.prototype._validateStretch=function(G,C){if(!G)return!0;for(var q=0,$=0,ne=G;$<ne.length;$+=1){var he=ne[$];if(he[0]<q||he[1]<he[0]||C<he[1])return!1;q=he[1]}return!0},Y.prototype._validateContent=function(G,C){return!(G&&(G.length!==4||G[0]<0||C.data.width<G[0]||G[1]<0||C.data.height<G[1]||G[2]<0||C.data.width<G[2]||G[3]<0||C.data.height<G[3]||G[2]<G[0]||G[3]<G[1]))},Y.prototype.updateImage=function(G,C){var q=this.images[G];C.version=q.version+1,this.images[G]=C,this.updatedImages[G]=!0},Y.prototype.removeImage=function(G){var C=this.images[G];delete this.images[G],delete this.patterns[G],C.userImage&&C.userImage.onRemove&&C.userImage.onRemove()},Y.prototype.listImages=function(){return Object.keys(this.images)},Y.prototype.getImages=function(G,C){var q=!0;if(!this.isLoaded())for(var $=0,ne=G;$<ne.length;$+=1){var he=ne[$];this.images[he]||(q=!1)}this.isLoaded()||q?this._notify(G,C):this.requestors.push({ids:G,callback:C})},Y.prototype._notify=function(G,C){for(var q={},$=0,ne=G;$<ne.length;$+=1){var he=ne[$];this.images[he]||this.fire(new r.Event("styleimagemissing",{id:he}));var xe=this.images[he];xe?q[he]={data:xe.data.clone(),pixelRatio:xe.pixelRatio,sdf:xe.sdf,version:xe.version,stretchX:xe.stretchX,stretchY:xe.stretchY,content:xe.content,hasRenderCallback:!!(xe.userImage&&xe.userImage.render)}:r.warnOnce('Image "'+he+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}C(null,q)},Y.prototype.getPixelSize=function(){var G=this.atlasImage;return{width:G.width,height:G.height}},Y.prototype.getPattern=function(G){var C=this.patterns[G],q=this.getImage(G);if(!q)return null;if(C&&C.position.version===q.version)return C.position;if(C)C.position.version=q.version;else{var $={w:q.data.width+2,h:q.data.height+2,x:0,y:0},ne=new r.ImagePosition($,q);this.patterns[G]={bin:$,position:ne}}return this._updatePatternAtlas(),this.patterns[G].position},Y.prototype.bind=function(G){var C=G.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new r.Texture(G,this.atlasImage,C.RGBA),this.atlasTexture.bind(C.LINEAR,C.CLAMP_TO_EDGE)},Y.prototype._updatePatternAtlas=function(){var G=[];for(var C in this.patterns)G.push(this.patterns[C].bin);var q=r.potpack(G),$=q.w,ne=q.h,he=this.atlasImage;for(var xe in he.resize({width:$||1,height:ne||1}),this.patterns){var Pe=this.patterns[xe].bin,Fe=Pe.x+1,qe=Pe.y+1,Ze=this.images[xe].data,it=Ze.width,pt=Ze.height;r.RGBAImage.copy(Ze,he,{x:0,y:0},{x:Fe,y:qe},{width:it,height:pt}),r.RGBAImage.copy(Ze,he,{x:0,y:pt-1},{x:Fe,y:qe-1},{width:it,height:1}),r.RGBAImage.copy(Ze,he,{x:0,y:0},{x:Fe,y:qe+pt},{width:it,height:1}),r.RGBAImage.copy(Ze,he,{x:it-1,y:0},{x:Fe-1,y:qe},{width:1,height:pt}),r.RGBAImage.copy(Ze,he,{x:0,y:0},{x:Fe+it,y:qe},{width:1,height:pt})}this.dirty=!0},Y.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},Y.prototype.dispatchRenderCallbacks=function(G){for(var C=0,q=G;C<q.length;C+=1){var $=q[C];if(!this.callbackDispatchedThisFrame[$]){this.callbackDispatchedThisFrame[$]=!0;var ne=this.images[$];u(ne)&&this.updateImage($,ne)}}},Y}(r.Evented),c=g,b=g,d=1e20;function g(N,Y,G,C,q,$){this.fontSize=N||24,this.buffer=Y===void 0?3:Y,this.cutoff=C||.25,this.fontFamily=q||"sans-serif",this.fontWeight=$||"normal",this.radius=G||8;var ne=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=ne,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(ne*ne),this.gridInner=new Float64Array(ne*ne),this.f=new Float64Array(ne),this.d=new Float64Array(ne),this.z=new Float64Array(ne+1),this.v=new Int16Array(ne),this.middle=Math.round(ne/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function m(N,Y,G,C,q,$,ne){for(var he=0;he<Y;he++){for(var xe=0;xe<G;xe++)C[xe]=N[xe*Y+he];for(y(C,q,$,ne,G),xe=0;xe<G;xe++)N[xe*Y+he]=q[xe]}for(xe=0;xe<G;xe++){for(he=0;he<Y;he++)C[he]=N[xe*Y+he];for(y(C,q,$,ne,Y),he=0;he<Y;he++)N[xe*Y+he]=Math.sqrt(q[he])}}function y(N,Y,G,C,q){G[0]=0,C[0]=-d,C[1]=+d;for(var $=1,ne=0;$<q;$++){for(var he=(N[$]+$*$-(N[G[ne]]+G[ne]*G[ne]))/(2*$-2*G[ne]);he<=C[ne];)ne--,he=(N[$]+$*$-(N[G[ne]]+G[ne]*G[ne]))/(2*$-2*G[ne]);G[++ne]=$,C[ne]=he,C[ne+1]=+d}for($=0,ne=0;$<q;$++){for(;C[ne+1]<$;)ne++;Y[$]=($-G[ne])*($-G[ne])+N[G[ne]]}}g.prototype.draw=function(N){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(N,this.buffer,this.middle);for(var Y=this.ctx.getImageData(0,0,this.size,this.size),G=new Uint8ClampedArray(this.size*this.size),C=0;C<this.size*this.size;C++){var q=Y.data[4*C+3]/255;this.gridOuter[C]=q===1?0:q===0?d:Math.pow(Math.max(0,.5-q),2),this.gridInner[C]=q===1?d:q===0?0:Math.pow(Math.max(0,q-.5),2)}for(m(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),m(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),C=0;C<this.size*this.size;C++){var $=this.gridOuter[C]-this.gridInner[C];G[C]=Math.max(0,Math.min(255,Math.round(255-255*($/this.radius+this.cutoff))))}return G},c.default=b;var x=function(N,Y){this.requestManager=N,this.localIdeographFontFamily=Y,this.entries={}};x.prototype.setURL=function(N){this.url=N},x.prototype.getGlyphs=function(N,Y){var G=this,C=[];for(var q in N)for(var $=0,ne=N[q];$<ne.length;$+=1){var he=ne[$];C.push({stack:q,id:he})}r.asyncAll(C,function(xe,Pe){var Fe=xe.stack,qe=xe.id,Ze=G.entries[Fe];Ze||(Ze=G.entries[Fe]={glyphs:{},requests:{},ranges:{}});var it=Ze.glyphs[qe];if(it===void 0){if(it=G._tinySDF(Ze,Fe,qe))return Ze.glyphs[qe]=it,void Pe(null,{stack:Fe,id:qe,glyph:it});var pt=Math.floor(qe/256);if(256*pt>65535)Pe(new Error("glyphs > 65535 not supported"));else if(Ze.ranges[pt])Pe(null,{stack:Fe,id:qe,glyph:it});else{var vt=Ze.requests[pt];vt||(vt=Ze.requests[pt]=[],x.loadGlyphRange(Fe,pt,G.url,G.requestManager,function(Mt,Ct){if(Ct){for(var Et in Ct)G._doesCharSupportLocalGlyph(+Et)||(Ze.glyphs[+Et]=Ct[+Et]);Ze.ranges[pt]=!0}for(var jt=0,zt=vt;jt<zt.length;jt+=1)(0,zt[jt])(Mt,Ct);delete Ze.requests[pt]})),vt.push(function(Mt,Ct){Mt?Pe(Mt):Ct&&Pe(null,{stack:Fe,id:qe,glyph:Ct[qe]||null})})}}else Pe(null,{stack:Fe,id:qe,glyph:it})},function(xe,Pe){if(xe)Y(xe);else if(Pe){for(var Fe={},qe=0,Ze=Pe;qe<Ze.length;qe+=1){var it=Ze[qe],pt=it.stack,vt=it.id,Mt=it.glyph;(Fe[pt]||(Fe[pt]={}))[vt]=Mt&&{id:Mt.id,bitmap:Mt.bitmap.clone(),metrics:Mt.metrics}}Y(null,Fe)}})},x.prototype._doesCharSupportLocalGlyph=function(N){return!!this.localIdeographFontFamily&&(r.isChar["CJK Unified Ideographs"](N)||r.isChar["Hangul Syllables"](N)||r.isChar.Hiragana(N)||r.isChar.Katakana(N))},x.prototype._tinySDF=function(N,Y,G){var C=this.localIdeographFontFamily;if(C&&this._doesCharSupportLocalGlyph(G)){var q=N.tinySDF;if(!q){var $="400";/bold/i.test(Y)?$="900":/medium/i.test(Y)?$="500":/light/i.test(Y)&&($="200"),q=N.tinySDF=new x.TinySDF(24,3,8,.25,C,$)}return{id:G,bitmap:new r.AlphaImage({width:30,height:30},q.draw(String.fromCharCode(G))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},x.loadGlyphRange=function(N,Y,G,C,q){var $=256*Y,ne=$+255,he=C.transformRequest(C.normalizeGlyphsURL(G).replace("{fontstack}",N).replace("{range}",$+"-"+ne),r.ResourceType.Glyphs);r.getArrayBuffer(he,function(xe,Pe){if(xe)q(xe);else if(Pe){for(var Fe={},qe=0,Ze=r.parseGlyphPBF(Pe);qe<Ze.length;qe+=1){var it=Ze[qe];Fe[it.id]=it}q(null,Fe)}})},x.TinySDF=c;var T=function(){this.specification=r.styleSpec.light.position};T.prototype.possiblyEvaluate=function(N,Y){return r.sphericalToCartesian(N.expression.evaluate(Y))},T.prototype.interpolate=function(N,Y,G){return{x:r.number(N.x,Y.x,G),y:r.number(N.y,Y.y,G),z:r.number(N.z,Y.z,G)}};var p=new r.Properties({anchor:new r.DataConstantProperty(r.styleSpec.light.anchor),position:new T,color:new r.DataConstantProperty(r.styleSpec.light.color),intensity:new r.DataConstantProperty(r.styleSpec.light.intensity)}),S="-transition",M=function(N){function Y(G){N.call(this),this._transitionable=new r.Transitionable(p),this.setLight(G),this._transitioning=this._transitionable.untransitioned()}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getLight=function(){return this._transitionable.serialize()},Y.prototype.setLight=function(G,C){if(C===void 0&&(C={}),!this._validate(r.validateLight,G,C))for(var q in G){var $=G[q];r.endsWith(q,S)?this._transitionable.setTransition(q.slice(0,-11),$):this._transitionable.setValue(q,$)}},Y.prototype.updateTransitions=function(G){this._transitioning=this._transitionable.transitioned(G,this._transitioning)},Y.prototype.hasTransition=function(){return this._transitioning.hasTransition()},Y.prototype.recalculate=function(G){this.properties=this._transitioning.possiblyEvaluate(G)},Y.prototype._validate=function(G,C,q){return(!q||q.validate!==!1)&&r.emitValidationErrors(this,G.call(r.validateStyle,r.extend({value:C,style:{glyphs:!0,sprite:!0},styleSpec:r.styleSpec})))},Y}(r.Evented),E=function(N,Y){this.width=N,this.height=Y,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};E.prototype.getDash=function(N,Y){var G=N.join(",")+String(Y);return this.dashEntry[G]||(this.dashEntry[G]=this.addDash(N,Y)),this.dashEntry[G]},E.prototype.getDashRanges=function(N,Y,G){var C=[],q=N.length%2==1?-N[N.length-1]*G:0,$=N[0]*G,ne=!0;C.push({left:q,right:$,isDash:ne,zeroLength:N[0]===0});for(var he=N[0],xe=1;xe<N.length;xe++){ne=!ne;var Pe=N[xe];q=he*G,$=(he+=Pe)*G,C.push({left:q,right:$,isDash:ne,zeroLength:Pe===0})}return C},E.prototype.addRoundDash=function(N,Y,G){for(var C=Y/2,q=-G;q<=G;q++)for(var $=this.nextRow+G+q,ne=this.width*$,he=0,xe=N[he],Pe=0;Pe<this.width;Pe++){Pe/xe.right>1&&(xe=N[++he]);var Fe=Math.abs(Pe-xe.left),qe=Math.abs(Pe-xe.right),Ze=Math.min(Fe,qe),it=void 0,pt=q/G*(C+1);if(xe.isDash){var vt=C-Math.abs(pt);it=Math.sqrt(Ze*Ze+vt*vt)}else it=C-Math.sqrt(Ze*Ze+pt*pt);this.data[ne+Pe]=Math.max(0,Math.min(255,it+128))}},E.prototype.addRegularDash=function(N){for(var Y=N.length-1;Y>=0;--Y){var G=N[Y],C=N[Y+1];G.zeroLength?N.splice(Y,1):C&&C.isDash===G.isDash&&(C.left=G.left,N.splice(Y,1))}var q=N[0],$=N[N.length-1];q.isDash===$.isDash&&(q.left=$.left-this.width,$.right=q.right+this.width);for(var ne=this.width*this.nextRow,he=0,xe=N[he],Pe=0;Pe<this.width;Pe++){Pe/xe.right>1&&(xe=N[++he]);var Fe=Math.abs(Pe-xe.left),qe=Math.abs(Pe-xe.right),Ze=Math.min(Fe,qe),it=xe.isDash?Ze:-Ze;this.data[ne+Pe]=Math.max(0,Math.min(255,it+128))}},E.prototype.addDash=function(N,Y){var G=Y?7:0,C=2*G+1;if(this.nextRow+C>this.height)return r.warnOnce("LineAtlas out of space"),null;for(var q=0,$=0;$<N.length;$++)q+=N[$];if(q!==0){var ne=this.width/q,he=this.getDashRanges(N,this.width,ne);Y?this.addRoundDash(he,ne,G):this.addRegularDash(he)}var xe={y:(this.nextRow+G+.5)/this.height,height:2*G/this.height,width:q};return this.nextRow+=C,this.dirty=!0,xe},E.prototype.bind=function(N){var Y=N.gl;this.texture?(Y.bindTexture(Y.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,Y.texSubImage2D(Y.TEXTURE_2D,0,0,0,this.width,this.height,Y.ALPHA,Y.UNSIGNED_BYTE,this.data))):(this.texture=Y.createTexture(),Y.bindTexture(Y.TEXTURE_2D,this.texture),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_S,Y.REPEAT),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_T,Y.REPEAT),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MIN_FILTER,Y.LINEAR),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MAG_FILTER,Y.LINEAR),Y.texImage2D(Y.TEXTURE_2D,0,Y.ALPHA,this.width,this.height,0,Y.ALPHA,Y.UNSIGNED_BYTE,this.data))};var P=function N(Y,G){this.workerPool=Y,this.actors=[],this.currentActor=0,this.id=r.uniqueId();for(var C=this.workerPool.acquire(this.id),q=0;q<C.length;q++){var $=C[q],ne=new N.Actor($,G,this.id);ne.name="Worker "+q,this.actors.push(ne)}};function O(N,Y,G){var C=function(q,$){if(q)return G(q);if($){var ne=r.pick(r.extend($,N),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);$.vector_layers&&(ne.vectorLayers=$.vector_layers,ne.vectorLayerIds=ne.vectorLayers.map(function(he){return he.id})),ne.tiles=Y.canonicalizeTileset(ne,N.url),G(null,ne)}};return N.url?r.getJSON(Y.transformRequest(Y.normalizeSourceURL(N.url),r.ResourceType.Source),C):r.browser.frame(function(){return C(null,N)})}P.prototype.broadcast=function(N,Y,G){G=G||function(){},r.asyncAll(this.actors,function(C,q){C.send(N,Y,q)},G)},P.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},P.prototype.remove=function(){this.actors.forEach(function(N){N.remove()}),this.actors=[],this.workerPool.release(this.id)},P.Actor=r.Actor;var I=function(N,Y,G){this.bounds=r.LngLatBounds.convert(this.validateBounds(N)),this.minzoom=Y||0,this.maxzoom=G||24};I.prototype.validateBounds=function(N){return Array.isArray(N)&&N.length===4?[Math.max(-180,N[0]),Math.max(-90,N[1]),Math.min(180,N[2]),Math.min(90,N[3])]:[-180,-90,180,90]},I.prototype.contains=function(N){var Y=Math.pow(2,N.z),G=Math.floor(r.mercatorXfromLng(this.bounds.getWest())*Y),C=Math.floor(r.mercatorYfromLat(this.bounds.getNorth())*Y),q=Math.ceil(r.mercatorXfromLng(this.bounds.getEast())*Y),$=Math.ceil(r.mercatorYfromLat(this.bounds.getSouth())*Y);return N.x>=G&&N.x<q&&N.y>=C&&N.y<$};var R=function(N){function Y(G,C,q,$){if(N.call(this),this.id=G,this.dispatcher=q,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,r.extend(this,r.pick(C,["url","scheme","tileSize","promoteId"])),this._options=r.extend({type:"vector"},C),this._collectResourceTiming=C.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent($)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){var G=this;this._loaded=!1,this.fire(new r.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=O(this._options,this.map._requestManager,function(C,q){G._tileJSONRequest=null,G._loaded=!0,C?G.fire(new r.ErrorEvent(C)):q&&(r.extend(G,q),q.bounds&&(G.tileBounds=new I(q.bounds,G.minzoom,G.maxzoom)),r.postTurnstileEvent(q.tiles,G.map._requestManager._customAccessToken),r.postMapLoadEvent(q.tiles,G.map._getMapId(),G.map._requestManager._skuToken,G.map._requestManager._customAccessToken),G.fire(new r.Event("data",{dataType:"source",sourceDataType:"metadata"})),G.fire(new r.Event("data",{dataType:"source",sourceDataType:"content"})))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.hasTile=function(G){return!this.tileBounds||this.tileBounds.contains(G.canonical)},Y.prototype.onAdd=function(G){this.map=G,this.load()},Y.prototype.setSourceProperty=function(G){this._tileJSONRequest&&this._tileJSONRequest.cancel(),G(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},Y.prototype.setTiles=function(G){var C=this;return this.setSourceProperty(function(){C._options.tiles=G}),this},Y.prototype.setUrl=function(G){var C=this;return this.setSourceProperty(function(){C.url=G,C._options.url=G}),this},Y.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Y.prototype.serialize=function(){return r.extend({},this._options)},Y.prototype.loadTile=function(G,C){var q=this.map._requestManager.normalizeTileURL(G.tileID.canonical.url(this.tiles,this.scheme)),$={request:this.map._requestManager.transformRequest(q,r.ResourceType.Tile),uid:G.uid,tileID:G.tileID,zoom:G.tileID.overscaledZ,tileSize:this.tileSize*G.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:r.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function ne(he,xe){return delete G.request,G.aborted?C(null):he&&he.status!==404?C(he):(xe&&xe.resourceTiming&&(G.resourceTiming=xe.resourceTiming),this.map._refreshExpiredTiles&&xe&&G.setExpiryData(xe),G.loadVectorData(xe,this.map.painter),r.cacheEntryPossiblyAdded(this.dispatcher),C(null),void(G.reloadCallback&&(this.loadTile(G,G.reloadCallback),G.reloadCallback=null)))}$.request.collectResourceTiming=this._collectResourceTiming,G.actor&&G.state!=="expired"?G.state==="loading"?G.reloadCallback=C:G.request=G.actor.send("reloadTile",$,ne.bind(this)):(G.actor=this.dispatcher.getActor(),G.request=G.actor.send("loadTile",$,ne.bind(this)))},Y.prototype.abortTile=function(G){G.request&&(G.request.cancel(),delete G.request),G.actor&&G.actor.send("abortTile",{uid:G.uid,type:this.type,source:this.id},void 0)},Y.prototype.unloadTile=function(G){G.unloadVectorData(),G.actor&&G.actor.send("removeTile",{uid:G.uid,type:this.type,source:this.id},void 0)},Y.prototype.hasTransition=function(){return!1},Y}(r.Evented),U=function(N){function Y(G,C,q,$){N.call(this),this.id=G,this.dispatcher=q,this.setEventedParent($),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=r.extend({type:"raster"},C),r.extend(this,r.pick(C,["url","scheme","tileSize"]))}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){var G=this;this._loaded=!1,this.fire(new r.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=O(this._options,this.map._requestManager,function(C,q){G._tileJSONRequest=null,G._loaded=!0,C?G.fire(new r.ErrorEvent(C)):q&&(r.extend(G,q),q.bounds&&(G.tileBounds=new I(q.bounds,G.minzoom,G.maxzoom)),r.postTurnstileEvent(q.tiles),r.postMapLoadEvent(q.tiles,G.map._getMapId(),G.map._requestManager._skuToken),G.fire(new r.Event("data",{dataType:"source",sourceDataType:"metadata"})),G.fire(new r.Event("data",{dataType:"source",sourceDataType:"content"})))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.onAdd=function(G){this.map=G,this.load()},Y.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Y.prototype.serialize=function(){return r.extend({},this._options)},Y.prototype.hasTile=function(G){return!this.tileBounds||this.tileBounds.contains(G.canonical)},Y.prototype.loadTile=function(G,C){var q=this,$=this.map._requestManager.normalizeTileURL(G.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);G.request=r.getImage(this.map._requestManager.transformRequest($,r.ResourceType.Tile),function(ne,he){if(delete G.request,G.aborted)G.state="unloaded",C(null);else if(ne)G.state="errored",C(ne);else if(he){q.map._refreshExpiredTiles&&G.setExpiryData(he),delete he.cacheControl,delete he.expires;var xe=q.map.painter.context,Pe=xe.gl;G.texture=q.map.painter.getTileTexture(he.width),G.texture?G.texture.update(he,{useMipmap:!0}):(G.texture=new r.Texture(xe,he,Pe.RGBA,{useMipmap:!0}),G.texture.bind(Pe.LINEAR,Pe.CLAMP_TO_EDGE,Pe.LINEAR_MIPMAP_NEAREST),xe.extTextureFilterAnisotropic&&Pe.texParameterf(Pe.TEXTURE_2D,xe.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,xe.extTextureFilterAnisotropicMax)),G.state="loaded",r.cacheEntryPossiblyAdded(q.dispatcher),C(null)}})},Y.prototype.abortTile=function(G,C){G.request&&(G.request.cancel(),delete G.request),C()},Y.prototype.unloadTile=function(G,C){G.texture&&this.map.painter.saveTileTexture(G.texture),C()},Y.prototype.hasTransition=function(){return!1},Y}(r.Evented),z=function(N){function Y(G,C,q,$){N.call(this,G,C,q,$),this.type="raster-dem",this.maxzoom=22,this._options=r.extend({type:"raster-dem"},C),this.encoding=C.encoding||"mapbox"}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},Y.prototype.loadTile=function(G,C){var q=this.map._requestManager.normalizeTileURL(G.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function $(ne,he){ne&&(G.state="errored",C(ne)),he&&(G.dem=he,G.needsHillshadePrepare=!0,G.state="loaded",C(null))}G.request=r.getImage(this.map._requestManager.transformRequest(q,r.ResourceType.Tile),(function(ne,he){if(delete G.request,G.aborted)G.state="unloaded",C(null);else if(ne)G.state="errored",C(ne);else if(he){this.map._refreshExpiredTiles&&G.setExpiryData(he),delete he.cacheControl,delete he.expires;var xe=r.window.ImageBitmap&&he instanceof r.window.ImageBitmap&&r.offscreenCanvasSupported()?he:r.browser.getImageData(he,1),Pe={uid:G.uid,coord:G.tileID,source:this.id,rawImageData:xe,encoding:this.encoding};G.actor&&G.state!=="expired"||(G.actor=this.dispatcher.getActor(),G.actor.send("loadDEMTile",Pe,$.bind(this)))}}).bind(this)),G.neighboringTiles=this._getNeighboringTiles(G.tileID)},Y.prototype._getNeighboringTiles=function(G){var C=G.canonical,q=Math.pow(2,C.z),$=(C.x-1+q)%q,ne=C.x===0?G.wrap-1:G.wrap,he=(C.x+1+q)%q,xe=C.x+1===q?G.wrap+1:G.wrap,Pe={};return Pe[new r.OverscaledTileID(G.overscaledZ,ne,C.z,$,C.y).key]={backfilled:!1},Pe[new r.OverscaledTileID(G.overscaledZ,xe,C.z,he,C.y).key]={backfilled:!1},C.y>0&&(Pe[new r.OverscaledTileID(G.overscaledZ,ne,C.z,$,C.y-1).key]={backfilled:!1},Pe[new r.OverscaledTileID(G.overscaledZ,G.wrap,C.z,C.x,C.y-1).key]={backfilled:!1},Pe[new r.OverscaledTileID(G.overscaledZ,xe,C.z,he,C.y-1).key]={backfilled:!1}),C.y+1<q&&(Pe[new r.OverscaledTileID(G.overscaledZ,ne,C.z,$,C.y+1).key]={backfilled:!1},Pe[new r.OverscaledTileID(G.overscaledZ,G.wrap,C.z,C.x,C.y+1).key]={backfilled:!1},Pe[new r.OverscaledTileID(G.overscaledZ,xe,C.z,he,C.y+1).key]={backfilled:!1}),Pe},Y.prototype.unloadTile=function(G){G.demTexture&&this.map.painter.saveTileTexture(G.demTexture),G.fbo&&(G.fbo.destroy(),delete G.fbo),G.dem&&delete G.dem,delete G.neighboringTiles,G.state="unloaded",G.actor&&G.actor.send("removeDEMTile",{uid:G.uid,source:this.id})},Y}(U),j=function(N){function Y(G,C,q,$){N.call(this),this.id=G,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=q.getActor(),this.setEventedParent($),this._data=C.data,this._options=r.extend({},C),this._collectResourceTiming=C.collectResourceTiming,this._resourceTiming=[],C.maxzoom!==void 0&&(this.maxzoom=C.maxzoom),C.type&&(this.type=C.type),C.attribution&&(this.attribution=C.attribution),this.promoteId=C.promoteId;var ne=r.EXTENT/this.tileSize;this.workerOptions=r.extend({source:this.id,cluster:C.cluster||!1,geojsonVtOptions:{buffer:(C.buffer!==void 0?C.buffer:128)*ne,tolerance:(C.tolerance!==void 0?C.tolerance:.375)*ne,extent:r.EXTENT,maxZoom:this.maxzoom,lineMetrics:C.lineMetrics||!1,generateId:C.generateId||!1},superclusterOptions:{maxZoom:C.clusterMaxZoom!==void 0?Math.min(C.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,C.clusterMinPoints||2),extent:r.EXTENT,radius:(C.clusterRadius||50)*ne,log:!1,generateId:C.generateId||!1},clusterProperties:C.clusterProperties,filter:C.filter},C.workerOptions)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){var G=this;this.fire(new r.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(C){if(C)G.fire(new r.ErrorEvent(C));else{var q={dataType:"source",sourceDataType:"metadata"};G._collectResourceTiming&&G._resourceTiming&&G._resourceTiming.length>0&&(q.resourceTiming=G._resourceTiming,G._resourceTiming=[]),G.fire(new r.Event("data",q))}})},Y.prototype.onAdd=function(G){this.map=G,this.load()},Y.prototype.setData=function(G){var C=this;return this._data=G,this.fire(new r.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(q){if(q)C.fire(new r.ErrorEvent(q));else{var $={dataType:"source",sourceDataType:"content"};C._collectResourceTiming&&C._resourceTiming&&C._resourceTiming.length>0&&($.resourceTiming=C._resourceTiming,C._resourceTiming=[]),C.fire(new r.Event("data",$))}}),this},Y.prototype.getClusterExpansionZoom=function(G,C){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:G,source:this.id},C),this},Y.prototype.getClusterChildren=function(G,C){return this.actor.send("geojson.getClusterChildren",{clusterId:G,source:this.id},C),this},Y.prototype.getClusterLeaves=function(G,C,q,$){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:G,limit:C,offset:q},$),this},Y.prototype._updateWorkerData=function(G){var C=this;this._loaded=!1;var q=r.extend({},this.workerOptions),$=this._data;typeof $=="string"?(q.request=this.map._requestManager.transformRequest(r.browser.resolveURL($),r.ResourceType.Source),q.request.collectResourceTiming=this._collectResourceTiming):q.data=JSON.stringify($),this.actor.send(this.type+".loadData",q,function(ne,he){C._removed||he&&he.abandoned||(C._loaded=!0,he&&he.resourceTiming&&he.resourceTiming[C.id]&&(C._resourceTiming=he.resourceTiming[C.id].slice(0)),C.actor.send(C.type+".coalesce",{source:q.source},null),G(ne))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.loadTile=function(G,C){var q=this,$=G.actor?"reloadTile":"loadTile";G.actor=this.actor;var ne={type:this.type,uid:G.uid,tileID:G.tileID,zoom:G.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:r.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};G.request=this.actor.send($,ne,function(he,xe){return delete G.request,G.unloadVectorData(),G.aborted?C(null):he?C(he):(G.loadVectorData(xe,q.map.painter,$==="reloadTile"),C(null))})},Y.prototype.abortTile=function(G){G.request&&(G.request.cancel(),delete G.request),G.aborted=!0},Y.prototype.unloadTile=function(G){G.unloadVectorData(),this.actor.send("removeTile",{uid:G.uid,type:this.type,source:this.id})},Y.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},Y.prototype.serialize=function(){return r.extend({},this._options,{type:this.type,data:this._data})},Y.prototype.hasTransition=function(){return!1},Y}(r.Evented),W=r.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),F=function(N){function Y(G,C,q,$){N.call(this),this.id=G,this.dispatcher=q,this.coordinates=C.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent($),this.options=C}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(G,C){var q=this;this._loaded=!1,this.fire(new r.Event("dataloading",{dataType:"source"})),this.url=this.options.url,r.getImage(this.map._requestManager.transformRequest(this.url,r.ResourceType.Image),function($,ne){q._loaded=!0,$?q.fire(new r.ErrorEvent($)):ne&&(q.image=ne,G&&(q.coordinates=G),C&&C(),q._finishLoading())})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.updateImage=function(G){var C=this;return this.image&&G.url?(this.options.url=G.url,this.load(G.coordinates,function(){C.texture=null}),this):this},Y.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new r.Event("data",{dataType:"source",sourceDataType:"metadata"})))},Y.prototype.onAdd=function(G){this.map=G,this.load()},Y.prototype.setCoordinates=function(G){var C=this;this.coordinates=G;var q=G.map(r.MercatorCoordinate.fromLngLat);this.tileID=function(ne){for(var he=1/0,xe=1/0,Pe=-1/0,Fe=-1/0,qe=0,Ze=ne;qe<Ze.length;qe+=1){var it=Ze[qe];he=Math.min(he,it.x),xe=Math.min(xe,it.y),Pe=Math.max(Pe,it.x),Fe=Math.max(Fe,it.y)}var pt=Pe-he,vt=Fe-xe,Mt=Math.max(pt,vt),Ct=Math.max(0,Math.floor(-Math.log(Mt)/Math.LN2)),Et=Math.pow(2,Ct);return new r.CanonicalTileID(Ct,Math.floor((he+Pe)/2*Et),Math.floor((xe+Fe)/2*Et))}(q),this.minzoom=this.maxzoom=this.tileID.z;var $=q.map(function(ne){return C.tileID.getTilePoint(ne)._round()});return this._boundsArray=new r.StructArrayLayout4i8,this._boundsArray.emplaceBack($[0].x,$[0].y,0,0),this._boundsArray.emplaceBack($[1].x,$[1].y,r.EXTENT,0),this._boundsArray.emplaceBack($[3].x,$[3].y,0,r.EXTENT),this._boundsArray.emplaceBack($[2].x,$[2].y,r.EXTENT,r.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new r.Event("data",{dataType:"source",sourceDataType:"content"})),this},Y.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var G=this.map.painter.context,C=G.gl;for(var q in this.boundsBuffer||(this.boundsBuffer=G.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=r.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new r.Texture(G,this.image,C.RGBA),this.texture.bind(C.LINEAR,C.CLAMP_TO_EDGE)),this.tiles){var $=this.tiles[q];$.state!=="loaded"&&($.state="loaded",$.texture=this.texture)}}},Y.prototype.loadTile=function(G,C){this.tileID&&this.tileID.equals(G.tileID.canonical)?(this.tiles[String(G.tileID.wrap)]=G,G.buckets={},C(null)):(G.state="errored",C(null))},Y.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return!1},Y}(r.Evented),V=function(N){function Y(G,C,q,$){N.call(this,G,C,q,$),this.roundZoom=!0,this.type="video",this.options=C}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){var G=this;this._loaded=!1;var C=this.options;this.urls=[];for(var q=0,$=C.urls;q<$.length;q+=1){var ne=$[q];this.urls.push(this.map._requestManager.transformRequest(ne,r.ResourceType.Source).url)}r.getVideo(this.urls,function(he,xe){G._loaded=!0,he?G.fire(new r.ErrorEvent(he)):xe&&(G.video=xe,G.video.loop=!0,G.video.addEventListener("playing",function(){G.map.triggerRepaint()}),G.map&&G.video.play(),G._finishLoading())})},Y.prototype.pause=function(){this.video&&this.video.pause()},Y.prototype.play=function(){this.video&&this.video.play()},Y.prototype.seek=function(G){if(this.video){var C=this.video.seekable;G<C.start(0)||G>C.end(0)?this.fire(new r.ErrorEvent(new r.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+C.start(0)+" and "+C.end(0)+"-second mark."))):this.video.currentTime=G}},Y.prototype.getVideo=function(){return this.video},Y.prototype.onAdd=function(G){this.map||(this.map=G,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},Y.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var G=this.map.painter.context,C=G.gl;for(var q in this.boundsBuffer||(this.boundsBuffer=G.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=r.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(C.LINEAR,C.CLAMP_TO_EDGE),C.texSubImage2D(C.TEXTURE_2D,0,0,0,C.RGBA,C.UNSIGNED_BYTE,this.video)):(this.texture=new r.Texture(G,this.video,C.RGBA),this.texture.bind(C.LINEAR,C.CLAMP_TO_EDGE)),this.tiles){var $=this.tiles[q];$.state!=="loaded"&&($.state="loaded",$.texture=this.texture)}}},Y.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return this.video&&!this.video.paused},Y}(F),H=function(N){function Y(G,C,q,$){N.call(this,G,C,q,$),C.coordinates?Array.isArray(C.coordinates)&&C.coordinates.length===4&&!C.coordinates.some(function(ne){return!Array.isArray(ne)||ne.length!==2||ne.some(function(he){return typeof he!="number"})})||this.fire(new r.ErrorEvent(new r.ValidationError("sources."+G,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new r.ErrorEvent(new r.ValidationError("sources."+G,null,'missing required property "coordinates"'))),C.animate&&typeof C.animate!="boolean"&&this.fire(new r.ErrorEvent(new r.ValidationError("sources."+G,null,'optional "animate" property must be a boolean value'))),C.canvas?typeof C.canvas=="string"||C.canvas instanceof r.window.HTMLCanvasElement||this.fire(new r.ErrorEvent(new r.ValidationError("sources."+G,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new r.ErrorEvent(new r.ValidationError("sources."+G,null,'missing required property "canvas"'))),this.options=C,this.animate=C.animate===void 0||C.animate}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof r.window.HTMLCanvasElement?this.options.canvas:r.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new r.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},Y.prototype.getCanvas=function(){return this.canvas},Y.prototype.onAdd=function(G){this.map=G,this.load(),this.canvas&&this.animate&&this.play()},Y.prototype.onRemove=function(){this.pause()},Y.prototype.prepare=function(){var G=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,G=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,G=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var C=this.map.painter.context,q=C.gl;for(var $ in this.boundsBuffer||(this.boundsBuffer=C.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=r.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(G||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new r.Texture(C,this.canvas,q.RGBA,{premultiply:!0}),this.tiles){var ne=this.tiles[$];ne.state!=="loaded"&&(ne.state="loaded",ne.texture=this.texture)}}},Y.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return this._playing},Y.prototype._hasInvalidDimensions=function(){for(var G=0,C=[this.canvas.width,this.canvas.height];G<C.length;G+=1){var q=C[G];if(isNaN(q)||q<=0)return!0}return!1},Y}(F),te={vector:R,raster:U,"raster-dem":z,geojson:j,video:V,image:F,canvas:H};function Q(N,Y){var G=r.identity([]);return r.translate(G,G,[1,1,0]),r.scale(G,G,[.5*N.width,.5*N.height,1]),r.multiply(G,G,N.calculatePosMatrix(Y.toUnwrapped()))}function K(N,Y,G,C,q,$){var ne=function(vt,Mt,Ct){if(vt)for(var Et=0,jt=vt;Et<jt.length;Et+=1){var zt=Mt[jt[Et]];if(zt&&zt.source===Ct&&zt.type==="fill-extrusion")return!0}else for(var Qt in Mt){var Wt=Mt[Qt];if(Wt.source===Ct&&Wt.type==="fill-extrusion")return!0}return!1}(q&&q.layers,Y,N.id),he=$.maxPitchScaleFactor(),xe=N.tilesIn(C,he,ne);xe.sort(X);for(var Pe=[],Fe=0,qe=xe;Fe<qe.length;Fe+=1){var Ze=qe[Fe];Pe.push({wrappedTileID:Ze.tileID.wrapped().key,queryResults:Ze.tile.queryRenderedFeatures(Y,G,N._state,Ze.queryGeometry,Ze.cameraQueryGeometry,Ze.scale,q,$,he,Q(N.transform,Ze.tileID))})}var it=function(vt){for(var Mt={},Ct={},Et=0,jt=vt;Et<jt.length;Et+=1){var zt=jt[Et],Qt=zt.queryResults,Wt=zt.wrappedTileID,Vt=Ct[Wt]=Ct[Wt]||{};for(var gn in Qt)for(var xn=Qt[gn],On=Vt[gn]=Vt[gn]||{},Dn=Mt[gn]=Mt[gn]||[],Wn=0,ar=xn;Wn<ar.length;Wn+=1){var vr=ar[Wn];On[vr.featureIndex]||(On[vr.featureIndex]=!0,Dn.push(vr))}}return Mt}(Pe);for(var pt in it)it[pt].forEach(function(vt){var Mt=vt.feature,Ct=N.getFeatureState(Mt.layer["source-layer"],Mt.id);Mt.source=Mt.layer.source,Mt.layer["source-layer"]&&(Mt.sourceLayer=Mt.layer["source-layer"]),Mt.state=Ct});return it}function X(N,Y){var G=N.tileID,C=Y.tileID;return G.overscaledZ-C.overscaledZ||G.canonical.y-C.canonical.y||G.wrap-C.wrap||G.canonical.x-C.canonical.x}var J=function(N,Y){this.max=N,this.onRemove=Y,this.reset()};J.prototype.reset=function(){for(var N in this.data)for(var Y=0,G=this.data[N];Y<G.length;Y+=1){var C=G[Y];C.timeout&&clearTimeout(C.timeout),this.onRemove(C.value)}return this.data={},this.order=[],this},J.prototype.add=function(N,Y,G){var C=this,q=N.wrapped().key;this.data[q]===void 0&&(this.data[q]=[]);var $={value:Y,timeout:void 0};if(G!==void 0&&($.timeout=setTimeout(function(){C.remove(N,$)},G)),this.data[q].push($),this.order.push(q),this.order.length>this.max){var ne=this._getAndRemoveByKey(this.order[0]);ne&&this.onRemove(ne)}return this},J.prototype.has=function(N){return N.wrapped().key in this.data},J.prototype.getAndRemove=function(N){return this.has(N)?this._getAndRemoveByKey(N.wrapped().key):null},J.prototype._getAndRemoveByKey=function(N){var Y=this.data[N].shift();return Y.timeout&&clearTimeout(Y.timeout),this.data[N].length===0&&delete this.data[N],this.order.splice(this.order.indexOf(N),1),Y.value},J.prototype.getByKey=function(N){var Y=this.data[N];return Y?Y[0].value:null},J.prototype.get=function(N){return this.has(N)?this.data[N.wrapped().key][0].value:null},J.prototype.remove=function(N,Y){if(!this.has(N))return this;var G=N.wrapped().key,C=Y===void 0?0:this.data[G].indexOf(Y),q=this.data[G][C];return this.data[G].splice(C,1),q.timeout&&clearTimeout(q.timeout),this.data[G].length===0&&delete this.data[G],this.onRemove(q.value),this.order.splice(this.order.indexOf(G),1),this},J.prototype.setMaxSize=function(N){for(this.max=N;this.order.length>this.max;){var Y=this._getAndRemoveByKey(this.order[0]);Y&&this.onRemove(Y)}return this},J.prototype.filter=function(N){var Y=[];for(var G in this.data)for(var C=0,q=this.data[G];C<q.length;C+=1){var $=q[C];N($.value)||Y.push($)}for(var ne=0,he=Y;ne<he.length;ne+=1){var xe=he[ne];this.remove(xe.value.tileID,xe)}};var ee=function(N,Y,G){this.context=N;var C=N.gl;this.buffer=C.createBuffer(),this.dynamicDraw=!!G,this.context.unbindVAO(),N.bindElementBuffer.set(this.buffer),C.bufferData(C.ELEMENT_ARRAY_BUFFER,Y.arrayBuffer,this.dynamicDraw?C.DYNAMIC_DRAW:C.STATIC_DRAW),this.dynamicDraw||delete Y.arrayBuffer};ee.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},ee.prototype.updateData=function(N){var Y=this.context.gl;this.context.unbindVAO(),this.bind(),Y.bufferSubData(Y.ELEMENT_ARRAY_BUFFER,0,N.arrayBuffer)},ee.prototype.destroy=function(){var N=this.context.gl;this.buffer&&(N.deleteBuffer(this.buffer),delete this.buffer)};var ie={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},oe=function(N,Y,G,C){this.length=Y.length,this.attributes=G,this.itemSize=Y.bytesPerElement,this.dynamicDraw=C,this.context=N;var q=N.gl;this.buffer=q.createBuffer(),N.bindVertexBuffer.set(this.buffer),q.bufferData(q.ARRAY_BUFFER,Y.arrayBuffer,this.dynamicDraw?q.DYNAMIC_DRAW:q.STATIC_DRAW),this.dynamicDraw||delete Y.arrayBuffer};oe.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},oe.prototype.updateData=function(N){var Y=this.context.gl;this.bind(),Y.bufferSubData(Y.ARRAY_BUFFER,0,N.arrayBuffer)},oe.prototype.enableAttributes=function(N,Y){for(var G=0;G<this.attributes.length;G++){var C=this.attributes[G],q=Y.attributes[C.name];q!==void 0&&N.enableVertexAttribArray(q)}},oe.prototype.setVertexAttribPointers=function(N,Y,G){for(var C=0;C<this.attributes.length;C++){var q=this.attributes[C],$=Y.attributes[q.name];$!==void 0&&N.vertexAttribPointer($,q.components,N[ie[q.type]],!1,this.itemSize,q.offset+this.itemSize*(G||0))}},oe.prototype.destroy=function(){var N=this.context.gl;this.buffer&&(N.deleteBuffer(this.buffer),delete this.buffer)};var ae=function(N){this.gl=N.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};ae.prototype.get=function(){return this.current},ae.prototype.set=function(N){},ae.prototype.getDefault=function(){return this.default},ae.prototype.setDefault=function(){this.set(this.default)};var ce=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return r.Color.transparent},Y.prototype.set=function(G){var C=this.current;(G.r!==C.r||G.g!==C.g||G.b!==C.b||G.a!==C.a||this.dirty)&&(this.gl.clearColor(G.r,G.g,G.b,G.a),this.current=G,this.dirty=!1)},Y}(ae),ge=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return 1},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.clearDepth(G),this.current=G,this.dirty=!1)},Y}(ae),ve=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return 0},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.clearStencil(G),this.current=G,this.dirty=!1)},Y}(ae),be=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return[!0,!0,!0,!0]},Y.prototype.set=function(G){var C=this.current;(G[0]!==C[0]||G[1]!==C[1]||G[2]!==C[2]||G[3]!==C[3]||this.dirty)&&(this.gl.colorMask(G[0],G[1],G[2],G[3]),this.current=G,this.dirty=!1)},Y}(ae),we=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!0},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.depthMask(G),this.current=G,this.dirty=!1)},Y}(ae),ye=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return 255},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.stencilMask(G),this.current=G,this.dirty=!1)},Y}(ae),me=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},Y.prototype.set=function(G){var C=this.current;(G.func!==C.func||G.ref!==C.ref||G.mask!==C.mask||this.dirty)&&(this.gl.stencilFunc(G.func,G.ref,G.mask),this.current=G,this.dirty=!1)},Y}(ae),Ae=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){var G=this.gl;return[G.KEEP,G.KEEP,G.KEEP]},Y.prototype.set=function(G){var C=this.current;(G[0]!==C[0]||G[1]!==C[1]||G[2]!==C[2]||this.dirty)&&(this.gl.stencilOp(G[0],G[1],G[2]),this.current=G,this.dirty=!1)},Y}(ae),ke=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var C=this.gl;G?C.enable(C.STENCIL_TEST):C.disable(C.STENCIL_TEST),this.current=G,this.dirty=!1}},Y}(ae),fe=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return[0,1]},Y.prototype.set=function(G){var C=this.current;(G[0]!==C[0]||G[1]!==C[1]||this.dirty)&&(this.gl.depthRange(G[0],G[1]),this.current=G,this.dirty=!1)},Y}(ae),le=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var C=this.gl;G?C.enable(C.DEPTH_TEST):C.disable(C.DEPTH_TEST),this.current=G,this.dirty=!1}},Y}(ae),de=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.LESS},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.depthFunc(G),this.current=G,this.dirty=!1)},Y}(ae),Ce=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var C=this.gl;G?C.enable(C.BLEND):C.disable(C.BLEND),this.current=G,this.dirty=!1}},Y}(ae),Me=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){var G=this.gl;return[G.ONE,G.ZERO]},Y.prototype.set=function(G){var C=this.current;(G[0]!==C[0]||G[1]!==C[1]||this.dirty)&&(this.gl.blendFunc(G[0],G[1]),this.current=G,this.dirty=!1)},Y}(ae),Le=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return r.Color.transparent},Y.prototype.set=function(G){var C=this.current;(G.r!==C.r||G.g!==C.g||G.b!==C.b||G.a!==C.a||this.dirty)&&(this.gl.blendColor(G.r,G.g,G.b,G.a),this.current=G,this.dirty=!1)},Y}(ae),Oe=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.FUNC_ADD},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.blendEquation(G),this.current=G,this.dirty=!1)},Y}(ae),Be=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var C=this.gl;G?C.enable(C.CULL_FACE):C.disable(C.CULL_FACE),this.current=G,this.dirty=!1}},Y}(ae),pe=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.BACK},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.cullFace(G),this.current=G,this.dirty=!1)},Y}(ae),_e=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.CCW},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.frontFace(G),this.current=G,this.dirty=!1)},Y}(ae),Te=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.useProgram(G),this.current=G,this.dirty=!1)},Y}(ae),Re=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.TEXTURE0},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.activeTexture(G),this.current=G,this.dirty=!1)},Y}(ae),Ne=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){var G=this.gl;return[0,0,G.drawingBufferWidth,G.drawingBufferHeight]},Y.prototype.set=function(G){var C=this.current;(G[0]!==C[0]||G[1]!==C[1]||G[2]!==C[2]||G[3]!==C[3]||this.dirty)&&(this.gl.viewport(G[0],G[1],G[2],G[3]),this.current=G,this.dirty=!1)},Y}(ae),ze=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var C=this.gl;C.bindFramebuffer(C.FRAMEBUFFER,G),this.current=G,this.dirty=!1}},Y}(ae),Ge=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var C=this.gl;C.bindRenderbuffer(C.RENDERBUFFER,G),this.current=G,this.dirty=!1}},Y}(ae),Ye=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var C=this.gl;C.bindTexture(C.TEXTURE_2D,G),this.current=G,this.dirty=!1}},Y}(ae),et=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var C=this.gl;C.bindBuffer(C.ARRAY_BUFFER,G),this.current=G,this.dirty=!1}},Y}(ae),ut=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){var C=this.gl;C.bindBuffer(C.ELEMENT_ARRAY_BUFFER,G),this.current=G,this.dirty=!1},Y}(ae),ot=function(N){function Y(G){N.call(this,G),this.vao=G.extVertexArrayObject}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){this.vao&&(G!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(G),this.current=G,this.dirty=!1)},Y}(ae),yt=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return 4},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var C=this.gl;C.pixelStorei(C.UNPACK_ALIGNMENT,G),this.current=G,this.dirty=!1}},Y}(ae),wt=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var C=this.gl;C.pixelStorei(C.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G),this.current=G,this.dirty=!1}},Y}(ae),bt=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var C=this.gl;C.pixelStorei(C.UNPACK_FLIP_Y_WEBGL,G),this.current=G,this.dirty=!1}},Y}(ae),at=function(N){function Y(G,C){N.call(this,G),this.context=G,this.parent=C}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y}(ae),rt=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.setDirty=function(){this.dirty=!0},Y.prototype.set=function(G){if(G!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var C=this.gl;C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,G,0),this.current=G,this.dirty=!1}},Y}(at),At=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.set=function(G){if(G!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var C=this.gl;C.framebufferRenderbuffer(C.FRAMEBUFFER,C.DEPTH_ATTACHMENT,C.RENDERBUFFER,G),this.current=G,this.dirty=!1}},Y}(at),Rt=function(N,Y,G,C){this.context=N,this.width=Y,this.height=G;var q=N.gl,$=this.framebuffer=q.createFramebuffer();this.colorAttachment=new rt(N,$),C&&(this.depthAttachment=new At(N,$))};Rt.prototype.destroy=function(){var N=this.context.gl,Y=this.colorAttachment.get();if(Y&&N.deleteTexture(Y),this.depthAttachment){var G=this.depthAttachment.get();G&&N.deleteRenderbuffer(G)}N.deleteFramebuffer(this.framebuffer)};var Ft=function(N,Y,G){this.func=N,this.mask=Y,this.range=G};Ft.ReadOnly=!1,Ft.ReadWrite=!0,Ft.disabled=new Ft(519,Ft.ReadOnly,[0,1]);var Dt=7680,Xe=function(N,Y,G,C,q,$){this.test=N,this.ref=Y,this.mask=G,this.fail=C,this.depthFail=q,this.pass=$};Xe.disabled=new Xe({func:519,mask:0},0,0,Dt,Dt,Dt);var Ke=function(N,Y,G){this.blendFunction=N,this.blendColor=Y,this.mask=G};Ke.Replace=[1,0],Ke.disabled=new Ke(Ke.Replace,r.Color.transparent,[!1,!1,!1,!1]),Ke.unblended=new Ke(Ke.Replace,r.Color.transparent,[!0,!0,!0,!0]),Ke.alphaBlended=new Ke([1,771],r.Color.transparent,[!0,!0,!0,!0]);var Ve=function(N,Y,G){this.enable=N,this.mode=Y,this.frontFace=G};Ve.disabled=new Ve(!1,1029,2305),Ve.backCCW=new Ve(!0,1029,2305);var Je=function(N){this.gl=N,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new ce(this),this.clearDepth=new ge(this),this.clearStencil=new ve(this),this.colorMask=new be(this),this.depthMask=new we(this),this.stencilMask=new ye(this),this.stencilFunc=new me(this),this.stencilOp=new Ae(this),this.stencilTest=new ke(this),this.depthRange=new fe(this),this.depthTest=new le(this),this.depthFunc=new de(this),this.blend=new Ce(this),this.blendFunc=new Me(this),this.blendColor=new Le(this),this.blendEquation=new Oe(this),this.cullFace=new Be(this),this.cullFaceSide=new pe(this),this.frontFace=new _e(this),this.program=new Te(this),this.activeTexture=new Re(this),this.viewport=new Ne(this),this.bindFramebuffer=new ze(this),this.bindRenderbuffer=new Ge(this),this.bindTexture=new Ye(this),this.bindVertexBuffer=new et(this),this.bindElementBuffer=new ut(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ot(this),this.pixelStoreUnpack=new yt(this),this.pixelStoreUnpackPremultiplyAlpha=new wt(this),this.pixelStoreUnpackFlipY=new bt(this),this.extTextureFilterAnisotropic=N.getExtension("EXT_texture_filter_anisotropic")||N.getExtension("MOZ_EXT_texture_filter_anisotropic")||N.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=N.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=N.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(N.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=N.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=N.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=N.getParameter(N.MAX_TEXTURE_SIZE)};Je.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Je.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Je.prototype.createIndexBuffer=function(N,Y){return new ee(this,N,Y)},Je.prototype.createVertexBuffer=function(N,Y,G){return new oe(this,N,Y,G)},Je.prototype.createRenderbuffer=function(N,Y,G){var C=this.gl,q=C.createRenderbuffer();return this.bindRenderbuffer.set(q),C.renderbufferStorage(C.RENDERBUFFER,N,Y,G),this.bindRenderbuffer.set(null),q},Je.prototype.createFramebuffer=function(N,Y,G){return new Rt(this,N,Y,G)},Je.prototype.clear=function(N){var Y=N.color,G=N.depth,C=this.gl,q=0;Y&&(q|=C.COLOR_BUFFER_BIT,this.clearColor.set(Y),this.colorMask.set([!0,!0,!0,!0])),G!==void 0&&(q|=C.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(G),this.depthMask.set(!0)),C.clear(q)},Je.prototype.setCullFace=function(N){N.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(N.mode),this.frontFace.set(N.frontFace))},Je.prototype.setDepthMode=function(N){N.func!==this.gl.ALWAYS||N.mask?(this.depthTest.set(!0),this.depthFunc.set(N.func),this.depthMask.set(N.mask),this.depthRange.set(N.range)):this.depthTest.set(!1)},Je.prototype.setStencilMode=function(N){N.test.func!==this.gl.ALWAYS||N.mask?(this.stencilTest.set(!0),this.stencilMask.set(N.mask),this.stencilOp.set([N.fail,N.depthFail,N.pass]),this.stencilFunc.set({func:N.test.func,ref:N.ref,mask:N.test.mask})):this.stencilTest.set(!1)},Je.prototype.setColorMode=function(N){r.deepEqual(N.blendFunction,Ke.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(N.blendFunction),this.blendColor.set(N.blendColor)),this.colorMask.set(N.mask)},Je.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var ct=function(N){function Y(G,C,q){var $=this;N.call(this),this.id=G,this.dispatcher=q,this.on("data",function(ne){ne.dataType==="source"&&ne.sourceDataType==="metadata"&&($._sourceLoaded=!0),$._sourceLoaded&&!$._paused&&ne.dataType==="source"&&ne.sourceDataType==="content"&&($.reload(),$.transform&&$.update($.transform))}),this.on("error",function(){$._sourceErrored=!0}),this._source=function(ne,he,xe,Pe){var Fe=new te[he.type](ne,he,xe,Pe);if(Fe.id!==ne)throw new Error("Expected Source id to be "+ne+" instead of "+Fe.id);return r.bindAll(["load","abort","unload","serialize","prepare"],Fe),Fe}(G,C,q,this),this._tiles={},this._cache=new J(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new r.SourceFeatureState}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.onAdd=function(G){this.map=G,this._maxTileCacheSize=G?G._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(G)},Y.prototype.onRemove=function(G){this._source&&this._source.onRemove&&this._source.onRemove(G)},Y.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var G in this._tiles){var C=this._tiles[G];if(C.state!=="loaded"&&C.state!=="errored")return!1}return!0},Y.prototype.getSource=function(){return this._source},Y.prototype.pause=function(){this._paused=!0},Y.prototype.resume=function(){if(this._paused){var G=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,G&&this.reload(),this.transform&&this.update(this.transform)}},Y.prototype._loadTile=function(G,C){return this._source.loadTile(G,C)},Y.prototype._unloadTile=function(G){if(this._source.unloadTile)return this._source.unloadTile(G,function(){})},Y.prototype._abortTile=function(G){if(this._source.abortTile)return this._source.abortTile(G,function(){})},Y.prototype.serialize=function(){return this._source.serialize()},Y.prototype.prepare=function(G){for(var C in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var q=this._tiles[C];q.upload(G),q.prepare(this.map.style.imageManager)}},Y.prototype.getIds=function(){return r.values(this._tiles).map(function(G){return G.tileID}).sort(st).map(function(G){return G.key})},Y.prototype.getRenderableIds=function(G){var C=this,q=[];for(var $ in this._tiles)this._isIdRenderable($,G)&&q.push(this._tiles[$]);return G?q.sort(function(ne,he){var xe=ne.tileID,Pe=he.tileID,Fe=new r.Point(xe.canonical.x,xe.canonical.y)._rotate(C.transform.angle),qe=new r.Point(Pe.canonical.x,Pe.canonical.y)._rotate(C.transform.angle);return xe.overscaledZ-Pe.overscaledZ||qe.y-Fe.y||qe.x-Fe.x}).map(function(ne){return ne.tileID.key}):q.map(function(ne){return ne.tileID}).sort(st).map(function(ne){return ne.key})},Y.prototype.hasRenderableParent=function(G){var C=this.findLoadedParent(G,0);return!!C&&this._isIdRenderable(C.tileID.key)},Y.prototype._isIdRenderable=function(G,C){return this._tiles[G]&&this._tiles[G].hasData()&&!this._coveredTiles[G]&&(C||!this._tiles[G].holdingForFade())},Y.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var G in this._cache.reset(),this._tiles)this._tiles[G].state!=="errored"&&this._reloadTile(G,"reloading")},Y.prototype._reloadTile=function(G,C){var q=this._tiles[G];q&&(q.state!=="loading"&&(q.state=C),this._loadTile(q,this._tileLoaded.bind(this,q,G,C)))},Y.prototype._tileLoaded=function(G,C,q,$){if($)return G.state="errored",void($.status!==404?this._source.fire(new r.ErrorEvent($,{tile:G})):this.update(this.transform));G.timeAdded=r.browser.now(),q==="expired"&&(G.refreshedUponExpiration=!0),this._setTileReloadTimer(C,G),this.getSource().type==="raster-dem"&&G.dem&&this._backfillDEM(G),this._state.initializeTileState(G,this.map?this.map.painter:null),this._source.fire(new r.Event("data",{dataType:"source",tile:G,coord:G.tileID}))},Y.prototype._backfillDEM=function(G){for(var C=this.getRenderableIds(),q=0;q<C.length;q++){var $=C[q];if(G.neighboringTiles&&G.neighboringTiles[$]){var ne=this.getTileByID($);he(G,ne),he(ne,G)}}function he(xe,Pe){xe.needsHillshadePrepare=!0;var Fe=Pe.tileID.canonical.x-xe.tileID.canonical.x,qe=Pe.tileID.canonical.y-xe.tileID.canonical.y,Ze=Math.pow(2,xe.tileID.canonical.z),it=Pe.tileID.key;Fe===0&&qe===0||Math.abs(qe)>1||(Math.abs(Fe)>1&&(Math.abs(Fe+Ze)===1?Fe+=Ze:Math.abs(Fe-Ze)===1&&(Fe-=Ze)),Pe.dem&&xe.dem&&(xe.dem.backfillBorder(Pe.dem,Fe,qe),xe.neighboringTiles&&xe.neighboringTiles[it]&&(xe.neighboringTiles[it].backfilled=!0)))}},Y.prototype.getTile=function(G){return this.getTileByID(G.key)},Y.prototype.getTileByID=function(G){return this._tiles[G]},Y.prototype._retainLoadedChildren=function(G,C,q,$){for(var ne in this._tiles){var he=this._tiles[ne];if(!($[ne]||!he.hasData()||he.tileID.overscaledZ<=C||he.tileID.overscaledZ>q)){for(var xe=he.tileID;he&&he.tileID.overscaledZ>C+1;){var Pe=he.tileID.scaledTo(he.tileID.overscaledZ-1);(he=this._tiles[Pe.key])&&he.hasData()&&(xe=Pe)}for(var Fe=xe;Fe.overscaledZ>C;)if(G[(Fe=Fe.scaledTo(Fe.overscaledZ-1)).key]){$[xe.key]=xe;break}}}},Y.prototype.findLoadedParent=function(G,C){if(G.key in this._loadedParentTiles){var q=this._loadedParentTiles[G.key];return q&&q.tileID.overscaledZ>=C?q:null}for(var $=G.overscaledZ-1;$>=C;$--){var ne=G.scaledTo($),he=this._getLoadedTile(ne);if(he)return he}},Y.prototype._getLoadedTile=function(G){var C=this._tiles[G.key];return C&&C.hasData()?C:this._cache.getByKey(G.wrapped().key)},Y.prototype.updateCacheSize=function(G){var C=(Math.ceil(G.width/this._source.tileSize)+1)*(Math.ceil(G.height/this._source.tileSize)+1),q=Math.floor(5*C),$=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,q):q;this._cache.setMaxSize($)},Y.prototype.handleWrapJump=function(G){var C=(G-(this._prevLng===void 0?G:this._prevLng))/360,q=Math.round(C);if(this._prevLng=G,q){var $={};for(var ne in this._tiles){var he=this._tiles[ne];he.tileID=he.tileID.unwrapTo(he.tileID.wrap+q),$[he.tileID.key]=he}for(var xe in this._tiles=$,this._timers)clearTimeout(this._timers[xe]),delete this._timers[xe];for(var Pe in this._tiles){var Fe=this._tiles[Pe];this._setTileReloadTimer(Pe,Fe)}}},Y.prototype.update=function(G){var C=this;if(this.transform=G,this._sourceLoaded&&!this._paused){var q;this.updateCacheSize(G),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?q=G.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Vt){return new r.OverscaledTileID(Vt.canonical.z,Vt.wrap,Vt.canonical.z,Vt.canonical.x,Vt.canonical.y)}):(q=G.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(q=q.filter(function(Vt){return C._source.hasTile(Vt)}))):q=[];var $=G.coveringZoomLevel(this._source),ne=Math.max($-Y.maxOverzooming,this._source.minzoom),he=Math.max($+Y.maxUnderzooming,this._source.minzoom),xe=this._updateRetainedTiles(q,$);if(je(this._source.type)){for(var Pe={},Fe={},qe=0,Ze=Object.keys(xe);qe<Ze.length;qe+=1){var it=Ze[qe],pt=xe[it],vt=this._tiles[it];if(vt&&!(vt.fadeEndTime&&vt.fadeEndTime<=r.browser.now())){var Mt=this.findLoadedParent(pt,ne);Mt&&(this._addTile(Mt.tileID),Pe[Mt.tileID.key]=Mt.tileID),Fe[it]=pt}}for(var Ct in this._retainLoadedChildren(Fe,$,he,xe),Pe)xe[Ct]||(this._coveredTiles[Ct]=!0,xe[Ct]=Pe[Ct])}for(var Et in xe)this._tiles[Et].clearFadeHold();for(var jt=0,zt=r.keysDifference(this._tiles,xe);jt<zt.length;jt+=1){var Qt=zt[jt],Wt=this._tiles[Qt];Wt.hasSymbolBuckets&&!Wt.holdingForFade()?Wt.setHoldDuration(this.map._fadeDuration):Wt.hasSymbolBuckets&&!Wt.symbolFadeFinished()||this._removeTile(Qt)}this._updateLoadedParentTileCache()}},Y.prototype.releaseSymbolFadeTiles=function(){for(var G in this._tiles)this._tiles[G].holdingForFade()&&this._removeTile(G)},Y.prototype._updateRetainedTiles=function(G,C){for(var q={},$={},ne=Math.max(C-Y.maxOverzooming,this._source.minzoom),he=Math.max(C+Y.maxUnderzooming,this._source.minzoom),xe={},Pe=0,Fe=G;Pe<Fe.length;Pe+=1){var qe=Fe[Pe],Ze=this._addTile(qe);q[qe.key]=qe,Ze.hasData()||C<this._source.maxzoom&&(xe[qe.key]=qe)}this._retainLoadedChildren(xe,C,he,q);for(var it=0,pt=G;it<pt.length;it+=1){var vt=pt[it],Mt=this._tiles[vt.key];if(!Mt.hasData()){if(C+1>this._source.maxzoom){var Ct=vt.children(this._source.maxzoom)[0],Et=this.getTile(Ct);if(Et&&Et.hasData()){q[Ct.key]=Ct;continue}}else{var jt=vt.children(this._source.maxzoom);if(q[jt[0].key]&&q[jt[1].key]&&q[jt[2].key]&&q[jt[3].key])continue}for(var zt=Mt.wasRequested(),Qt=vt.overscaledZ-1;Qt>=ne;--Qt){var Wt=vt.scaledTo(Qt);if($[Wt.key]||($[Wt.key]=!0,!(Mt=this.getTile(Wt))&&zt&&(Mt=this._addTile(Wt)),Mt&&(q[Wt.key]=Wt,zt=Mt.wasRequested(),Mt.hasData())))break}}}return q},Y.prototype._updateLoadedParentTileCache=function(){for(var G in this._loadedParentTiles={},this._tiles){for(var C=[],q=void 0,$=this._tiles[G].tileID;$.overscaledZ>0;){if($.key in this._loadedParentTiles){q=this._loadedParentTiles[$.key];break}C.push($.key);var ne=$.scaledTo($.overscaledZ-1);if(q=this._getLoadedTile(ne))break;$=ne}for(var he=0,xe=C;he<xe.length;he+=1){var Pe=xe[he];this._loadedParentTiles[Pe]=q}}},Y.prototype._addTile=function(G){var C=this._tiles[G.key];if(C)return C;(C=this._cache.getAndRemove(G))&&(this._setTileReloadTimer(G.key,C),C.tileID=G,this._state.initializeTileState(C,this.map?this.map.painter:null),this._cacheTimers[G.key]&&(clearTimeout(this._cacheTimers[G.key]),delete this._cacheTimers[G.key],this._setTileReloadTimer(G.key,C)));var q=!!C;return q||(C=new r.Tile(G,this._source.tileSize*G.overscaleFactor()),this._loadTile(C,this._tileLoaded.bind(this,C,G.key,C.state))),C?(C.uses++,this._tiles[G.key]=C,q||this._source.fire(new r.Event("dataloading",{tile:C,coord:C.tileID,dataType:"source"})),C):null},Y.prototype._setTileReloadTimer=function(G,C){var q=this;G in this._timers&&(clearTimeout(this._timers[G]),delete this._timers[G]);var $=C.getExpiryTimeout();$&&(this._timers[G]=setTimeout(function(){q._reloadTile(G,"expired"),delete q._timers[G]},$))},Y.prototype._removeTile=function(G){var C=this._tiles[G];C&&(C.uses--,delete this._tiles[G],this._timers[G]&&(clearTimeout(this._timers[G]),delete this._timers[G]),C.uses>0||(C.hasData()&&C.state!=="reloading"?this._cache.add(C.tileID,C,C.getExpiryTimeout()):(C.aborted=!0,this._abortTile(C),this._unloadTile(C))))},Y.prototype.clearTiles=function(){for(var G in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(G);this._cache.reset()},Y.prototype.tilesIn=function(G,C,q){var $=this,ne=[],he=this.transform;if(!he)return ne;for(var xe=q?he.getCameraQueryGeometry(G):G,Pe=G.map(function(Qt){return he.pointCoordinate(Qt)}),Fe=xe.map(function(Qt){return he.pointCoordinate(Qt)}),qe=this.getIds(),Ze=1/0,it=1/0,pt=-1/0,vt=-1/0,Mt=0,Ct=Fe;Mt<Ct.length;Mt+=1){var Et=Ct[Mt];Ze=Math.min(Ze,Et.x),it=Math.min(it,Et.y),pt=Math.max(pt,Et.x),vt=Math.max(vt,Et.y)}for(var jt=function(Qt){var Wt=$._tiles[qe[Qt]];if(!Wt.holdingForFade()){var Vt=Wt.tileID,gn=Math.pow(2,he.zoom-Wt.tileID.overscaledZ),xn=C*Wt.queryPadding*r.EXTENT/Wt.tileSize/gn,On=[Vt.getTilePoint(new r.MercatorCoordinate(Ze,it)),Vt.getTilePoint(new r.MercatorCoordinate(pt,vt))];if(On[0].x-xn<r.EXTENT&&On[0].y-xn<r.EXTENT&&On[1].x+xn>=0&&On[1].y+xn>=0){var Dn=Pe.map(function(ar){return Vt.getTilePoint(ar)}),Wn=Fe.map(function(ar){return Vt.getTilePoint(ar)});ne.push({tile:Wt,tileID:Vt,queryGeometry:Dn,cameraQueryGeometry:Wn,scale:gn})}}},zt=0;zt<qe.length;zt++)jt(zt);return ne},Y.prototype.getVisibleCoordinates=function(G){for(var C=this,q=this.getRenderableIds(G).map(function(xe){return C._tiles[xe].tileID}),$=0,ne=q;$<ne.length;$+=1){var he=ne[$];he.posMatrix=this.transform.calculatePosMatrix(he.toUnwrapped())}return q},Y.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(je(this._source.type))for(var G in this._tiles){var C=this._tiles[G];if(C.fadeEndTime!==void 0&&C.fadeEndTime>=r.browser.now())return!0}return!1},Y.prototype.setFeatureState=function(G,C,q){G=G||"_geojsonTileLayer",this._state.updateState(G,C,q)},Y.prototype.removeFeatureState=function(G,C,q){G=G||"_geojsonTileLayer",this._state.removeFeatureState(G,C,q)},Y.prototype.getFeatureState=function(G,C){return G=G||"_geojsonTileLayer",this._state.getState(G,C)},Y.prototype.setDependencies=function(G,C,q){var $=this._tiles[G];$&&$.setDependencies(C,q)},Y.prototype.reloadTilesForDependencies=function(G,C){for(var q in this._tiles)this._tiles[q].hasDependency(G,C)&&this._reloadTile(q,"reloading");this._cache.filter(function($){return!$.hasDependency(G,C)})},Y}(r.Evented);function st(N,Y){var G=Math.abs(2*N.wrap)-+(N.wrap<0),C=Math.abs(2*Y.wrap)-+(Y.wrap<0);return N.overscaledZ-Y.overscaledZ||C-G||Y.canonical.y-N.canonical.y||Y.canonical.x-N.canonical.x}function je(N){return N==="raster"||N==="image"||N==="video"}function Ue(){return new r.window.Worker(ft.workerUrl)}ct.maxOverzooming=10,ct.maxUnderzooming=3;var lt="mapboxgl_preloaded_worker_pool",Qe=function(){this.active={}};Qe.prototype.acquire=function(N){if(!this.workers)for(this.workers=[];this.workers.length<Qe.workerCount;)this.workers.push(new Ue);return this.active[N]=!0,this.workers.slice()},Qe.prototype.release=function(N){delete this.active[N],this.numActive()===0&&(this.workers.forEach(function(Y){Y.terminate()}),this.workers=null)},Qe.prototype.isPreloaded=function(){return!!this.active[lt]},Qe.prototype.numActive=function(){return Object.keys(this.active).length};var gt,mt=Math.floor(r.browser.hardwareConcurrency/2);function xt(){return gt||(gt=new Qe),gt}function dt(N,Y){var G={};for(var C in N)C!=="ref"&&(G[C]=N[C]);return r.refProperties.forEach(function(q){q in Y&&(G[q]=Y[q])}),G}function Lt(N){N=N.slice();for(var Y=Object.create(null),G=0;G<N.length;G++)Y[N[G].id]=N[G];for(var C=0;C<N.length;C++)"ref"in N[C]&&(N[C]=dt(N[C],Y[N[C].ref]));return N}Qe.workerCount=Math.max(Math.min(mt,6),1);var kt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function _t(N,Y,G){G.push({command:kt.addSource,args:[N,Y[N]]})}function Ot(N,Y,G){Y.push({command:kt.removeSource,args:[N]}),G[N]=!0}function Pt(N,Y,G,C){Ot(N,G,C),_t(N,Y,G)}function Bt(N,Y,G){var C;for(C in N[G])if(N[G].hasOwnProperty(C)&&C!=="data"&&!r.deepEqual(N[G][C],Y[G][C]))return!1;for(C in Y[G])if(Y[G].hasOwnProperty(C)&&C!=="data"&&!r.deepEqual(N[G][C],Y[G][C]))return!1;return!0}function Jt(N,Y,G,C,q,$){var ne;for(ne in Y=Y||{},N=N||{})N.hasOwnProperty(ne)&&(r.deepEqual(N[ne],Y[ne])||G.push({command:$,args:[C,ne,Y[ne],q]}));for(ne in Y)Y.hasOwnProperty(ne)&&!N.hasOwnProperty(ne)&&(r.deepEqual(N[ne],Y[ne])||G.push({command:$,args:[C,ne,Y[ne],q]}))}function on(N){return N.id}function qt(N,Y){return N[Y.id]=Y,N}function Gt(N,Y){if(!N)return[{command:kt.setStyle,args:[Y]}];var G=[];try{if(!r.deepEqual(N.version,Y.version))return[{command:kt.setStyle,args:[Y]}];r.deepEqual(N.center,Y.center)||G.push({command:kt.setCenter,args:[Y.center]}),r.deepEqual(N.zoom,Y.zoom)||G.push({command:kt.setZoom,args:[Y.zoom]}),r.deepEqual(N.bearing,Y.bearing)||G.push({command:kt.setBearing,args:[Y.bearing]}),r.deepEqual(N.pitch,Y.pitch)||G.push({command:kt.setPitch,args:[Y.pitch]}),r.deepEqual(N.sprite,Y.sprite)||G.push({command:kt.setSprite,args:[Y.sprite]}),r.deepEqual(N.glyphs,Y.glyphs)||G.push({command:kt.setGlyphs,args:[Y.glyphs]}),r.deepEqual(N.transition,Y.transition)||G.push({command:kt.setTransition,args:[Y.transition]}),r.deepEqual(N.light,Y.light)||G.push({command:kt.setLight,args:[Y.light]});var C={},q=[];(function(ne,he,xe,Pe){var Fe;for(Fe in he=he||{},ne=ne||{})ne.hasOwnProperty(Fe)&&(he.hasOwnProperty(Fe)||Ot(Fe,xe,Pe));for(Fe in he)he.hasOwnProperty(Fe)&&(ne.hasOwnProperty(Fe)?r.deepEqual(ne[Fe],he[Fe])||(ne[Fe].type==="geojson"&&he[Fe].type==="geojson"&&Bt(ne,he,Fe)?xe.push({command:kt.setGeoJSONSourceData,args:[Fe,he[Fe].data]}):Pt(Fe,he,xe,Pe)):_t(Fe,he,xe))})(N.sources,Y.sources,q,C);var $=[];N.layers&&N.layers.forEach(function(ne){C[ne.source]?G.push({command:kt.removeLayer,args:[ne.id]}):$.push(ne)}),G=G.concat(q),function(ne,he,xe){he=he||[];var Pe,Fe,qe,Ze,it,pt,vt,Mt=(ne=ne||[]).map(on),Ct=he.map(on),Et=ne.reduce(qt,{}),jt=he.reduce(qt,{}),zt=Mt.slice(),Qt=Object.create(null);for(Pe=0,Fe=0;Pe<Mt.length;Pe++)qe=Mt[Pe],jt.hasOwnProperty(qe)?Fe++:(xe.push({command:kt.removeLayer,args:[qe]}),zt.splice(zt.indexOf(qe,Fe),1));for(Pe=0,Fe=0;Pe<Ct.length;Pe++)qe=Ct[Ct.length-1-Pe],zt[zt.length-1-Pe]!==qe&&(Et.hasOwnProperty(qe)?(xe.push({command:kt.removeLayer,args:[qe]}),zt.splice(zt.lastIndexOf(qe,zt.length-Fe),1)):Fe++,pt=zt[zt.length-Pe],xe.push({command:kt.addLayer,args:[jt[qe],pt]}),zt.splice(zt.length-Pe,0,qe),Qt[qe]=!0);for(Pe=0;Pe<Ct.length;Pe++)if(Ze=Et[qe=Ct[Pe]],it=jt[qe],!Qt[qe]&&!r.deepEqual(Ze,it))if(r.deepEqual(Ze.source,it.source)&&r.deepEqual(Ze["source-layer"],it["source-layer"])&&r.deepEqual(Ze.type,it.type)){for(vt in Jt(Ze.layout,it.layout,xe,qe,null,kt.setLayoutProperty),Jt(Ze.paint,it.paint,xe,qe,null,kt.setPaintProperty),r.deepEqual(Ze.filter,it.filter)||xe.push({command:kt.setFilter,args:[qe,it.filter]}),r.deepEqual(Ze.minzoom,it.minzoom)&&r.deepEqual(Ze.maxzoom,it.maxzoom)||xe.push({command:kt.setLayerZoomRange,args:[qe,it.minzoom,it.maxzoom]}),Ze)Ze.hasOwnProperty(vt)&&vt!=="layout"&&vt!=="paint"&&vt!=="filter"&&vt!=="metadata"&&vt!=="minzoom"&&vt!=="maxzoom"&&(vt.indexOf("paint.")===0?Jt(Ze[vt],it[vt],xe,qe,vt.slice(6),kt.setPaintProperty):r.deepEqual(Ze[vt],it[vt])||xe.push({command:kt.setLayerProperty,args:[qe,vt,it[vt]]}));for(vt in it)it.hasOwnProperty(vt)&&!Ze.hasOwnProperty(vt)&&vt!=="layout"&&vt!=="paint"&&vt!=="filter"&&vt!=="metadata"&&vt!=="minzoom"&&vt!=="maxzoom"&&(vt.indexOf("paint.")===0?Jt(Ze[vt],it[vt],xe,qe,vt.slice(6),kt.setPaintProperty):r.deepEqual(Ze[vt],it[vt])||xe.push({command:kt.setLayerProperty,args:[qe,vt,it[vt]]}))}else xe.push({command:kt.removeLayer,args:[qe]}),pt=zt[zt.lastIndexOf(qe)+1],xe.push({command:kt.addLayer,args:[it,pt]})}($,Y.layers,G)}catch(ne){console.warn("Unable to compute style diff:",ne),G=[{command:kt.setStyle,args:[Y]}]}return G}var nn=function(N,Y){this.reset(N,Y)};nn.prototype.reset=function(N,Y){this.points=N||[],this._distances=[0];for(var G=1;G<this.points.length;G++)this._distances[G]=this._distances[G-1]+this.points[G].dist(this.points[G-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(Y||0,.5*this.length),this.paddedLength=this.length-2*this.padding},nn.prototype.lerp=function(N){if(this.points.length===1)return this.points[0];N=r.clamp(N,0,1);for(var Y=1,G=this._distances[Y],C=N*this.paddedLength+this.padding;G<C&&Y<this._distances.length;)G=this._distances[++Y];var q=Y-1,$=this._distances[q],ne=G-$,he=ne>0?(C-$)/ne:0;return this.points[q].mult(1-he).add(this.points[Y].mult(he))};var Cn=function(N,Y,G){var C=this.boxCells=[],q=this.circleCells=[];this.xCellCount=Math.ceil(N/G),this.yCellCount=Math.ceil(Y/G);for(var $=0;$<this.xCellCount*this.yCellCount;$++)C.push([]),q.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=N,this.height=Y,this.xScale=this.xCellCount/N,this.yScale=this.yCellCount/Y,this.boxUid=0,this.circleUid=0};function An(N,Y,G,C,q){var $=r.create();return Y?(r.scale($,$,[1/q,1/q,1]),G||r.rotateZ($,$,C.angle)):r.multiply($,C.labelPlaneMatrix,N),$}function dn(N,Y,G,C,q){if(Y){var $=r.clone(N);return r.scale($,$,[q,q,1]),G||r.rotateZ($,$,-C.angle),$}return C.glCoordMatrix}function Kt(N,Y){var G=[N.x,N.y,0,1];or(G,G,Y);var C=G[3];return{point:new r.Point(G[0]/C,G[1]/C),signedDistanceFromCamera:C}}function un(N,Y){return .5+N/Y*.5}function rn(N,Y){var G=N[0]/N[3],C=N[1]/N[3];return G>=-Y[0]&&G<=Y[0]&&C>=-Y[1]&&C<=Y[1]}function hn(N,Y,G,C,q,$,ne,he){var xe=C?N.textSizeData:N.iconSizeData,Pe=r.evaluateSizeForZoom(xe,G.transform.zoom),Fe=[256/G.width*2+1,256/G.height*2+1],qe=C?N.text.dynamicLayoutVertexArray:N.icon.dynamicLayoutVertexArray;qe.clear();for(var Ze=N.lineVertexArray,it=C?N.text.placedSymbolArray:N.icon.placedSymbolArray,pt=G.transform.width/G.transform.height,vt=!1,Mt=0;Mt<it.length;Mt++){var Ct=it.get(Mt);if(Ct.hidden||Ct.writingMode===r.WritingMode.vertical&&!vt)Nn(Ct.numGlyphs,qe);else{vt=!1;var Et=[Ct.anchorX,Ct.anchorY,0,1];if(r.transformMat4(Et,Et,Y),rn(Et,Fe)){var jt=Et[3],zt=un(G.transform.cameraToCenterDistance,jt),Qt=r.evaluateSizeForFeature(xe,Pe,Ct),Wt=ne?Qt/zt:Qt*zt,Vt=new r.Point(Ct.anchorX,Ct.anchorY),gn=Kt(Vt,q).point,xn={},On=Rn(Ct,Wt,!1,he,Y,q,$,N.glyphOffsetArray,Ze,qe,gn,Vt,xn,pt);vt=On.useVertical,(On.notEnoughRoom||vt||On.needsFlipping&&Rn(Ct,Wt,!0,he,Y,q,$,N.glyphOffsetArray,Ze,qe,gn,Vt,xn,pt).notEnoughRoom)&&Nn(Ct.numGlyphs,qe)}else Nn(Ct.numGlyphs,qe)}}C?N.text.dynamicLayoutVertexBuffer.updateData(qe):N.icon.dynamicLayoutVertexBuffer.updateData(qe)}function kn(N,Y,G,C,q,$,ne,he,xe,Pe,Fe){var qe=he.glyphStartIndex+he.numGlyphs,Ze=he.lineStartIndex,it=he.lineStartIndex+he.lineLength,pt=Y.getoffsetX(he.glyphStartIndex),vt=Y.getoffsetX(qe-1),Mt=Pn(N*pt,G,C,q,$,ne,he.segment,Ze,it,xe,Pe,Fe);if(!Mt)return null;var Ct=Pn(N*vt,G,C,q,$,ne,he.segment,Ze,it,xe,Pe,Fe);return Ct?{first:Mt,last:Ct}:null}function Sn(N,Y,G,C){return N===r.WritingMode.horizontal&&Math.abs(G.y-Y.y)>Math.abs(G.x-Y.x)*C?{useVertical:!0}:(N===r.WritingMode.vertical?Y.y<G.y:Y.x>G.x)?{needsFlipping:!0}:null}function Rn(N,Y,G,C,q,$,ne,he,xe,Pe,Fe,qe,Ze,it){var pt,vt=Y/24,Mt=N.lineOffsetX*vt,Ct=N.lineOffsetY*vt;if(N.numGlyphs>1){var Et=N.glyphStartIndex+N.numGlyphs,jt=N.lineStartIndex,zt=N.lineStartIndex+N.lineLength,Qt=kn(vt,he,Mt,Ct,G,Fe,qe,N,xe,$,Ze);if(!Qt)return{notEnoughRoom:!0};var Wt=Kt(Qt.first.point,ne).point,Vt=Kt(Qt.last.point,ne).point;if(C&&!G){var gn=Sn(N.writingMode,Wt,Vt,it);if(gn)return gn}pt=[Qt.first];for(var xn=N.glyphStartIndex+1;xn<Et-1;xn++)pt.push(Pn(vt*he.getoffsetX(xn),Mt,Ct,G,Fe,qe,N.segment,jt,zt,xe,$,Ze));pt.push(Qt.last)}else{if(C&&!G){var On=Kt(qe,q).point,Dn=N.lineStartIndex+N.segment+1,Wn=new r.Point(xe.getx(Dn),xe.gety(Dn)),ar=Kt(Wn,q),vr=ar.signedDistanceFromCamera>0?ar.point:zn(qe,Wn,On,1,q),Jn=Sn(N.writingMode,On,vr,it);if(Jn)return Jn}var dr=Pn(vt*he.getoffsetX(N.glyphStartIndex),Mt,Ct,G,Fe,qe,N.segment,N.lineStartIndex,N.lineStartIndex+N.lineLength,xe,$,Ze);if(!dr)return{notEnoughRoom:!0};pt=[dr]}for(var kr=0,Rr=pt;kr<Rr.length;kr+=1){var rr=Rr[kr];r.addDynamicAttributes(Pe,rr.point,rr.angle)}return{}}function zn(N,Y,G,C,q){var $=Kt(N.add(N.sub(Y)._unit()),q).point,ne=G.sub($);return G.add(ne._mult(C/ne.mag()))}function Pn(N,Y,G,C,q,$,ne,he,xe,Pe,Fe,qe){var Ze=C?N-Y:N+Y,it=Ze>0?1:-1,pt=0;C&&(it*=-1,pt=Math.PI),it<0&&(pt+=Math.PI);for(var vt=it>0?he+ne:he+ne+1,Mt=q,Ct=q,Et=0,jt=0,zt=Math.abs(Ze),Qt=[];Et+jt<=zt;){if((vt+=it)<he||vt>=xe)return null;if(Ct=Mt,Qt.push(Mt),(Mt=qe[vt])===void 0){var Wt=new r.Point(Pe.getx(vt),Pe.gety(vt)),Vt=Kt(Wt,Fe);if(Vt.signedDistanceFromCamera>0)Mt=qe[vt]=Vt.point;else{var gn=vt-it;Mt=zn(Et===0?$:new r.Point(Pe.getx(gn),Pe.gety(gn)),Wt,Ct,zt-Et+1,Fe)}}Et+=jt,jt=Ct.dist(Mt)}var xn=(zt-Et)/jt,On=Mt.sub(Ct),Dn=On.mult(xn)._add(Ct);Dn._add(On._unit()._perp()._mult(G*it));var Wn=pt+Math.atan2(Mt.y-Ct.y,Mt.x-Ct.x);return Qt.push(Dn),{point:Dn,angle:Wn,path:Qt}}Cn.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Cn.prototype.insert=function(N,Y,G,C,q){this._forEachCell(Y,G,C,q,this._insertBoxCell,this.boxUid++),this.boxKeys.push(N),this.bboxes.push(Y),this.bboxes.push(G),this.bboxes.push(C),this.bboxes.push(q)},Cn.prototype.insertCircle=function(N,Y,G,C){this._forEachCell(Y-C,G-C,Y+C,G+C,this._insertCircleCell,this.circleUid++),this.circleKeys.push(N),this.circles.push(Y),this.circles.push(G),this.circles.push(C)},Cn.prototype._insertBoxCell=function(N,Y,G,C,q,$){this.boxCells[q].push($)},Cn.prototype._insertCircleCell=function(N,Y,G,C,q,$){this.circleCells[q].push($)},Cn.prototype._query=function(N,Y,G,C,q,$){if(G<0||N>this.width||C<0||Y>this.height)return!q&&[];var ne=[];if(N<=0&&Y<=0&&this.width<=G&&this.height<=C){if(q)return!0;for(var he=0;he<this.boxKeys.length;he++)ne.push({key:this.boxKeys[he],x1:this.bboxes[4*he],y1:this.bboxes[4*he+1],x2:this.bboxes[4*he+2],y2:this.bboxes[4*he+3]});for(var xe=0;xe<this.circleKeys.length;xe++){var Pe=this.circles[3*xe],Fe=this.circles[3*xe+1],qe=this.circles[3*xe+2];ne.push({key:this.circleKeys[xe],x1:Pe-qe,y1:Fe-qe,x2:Pe+qe,y2:Fe+qe})}return $?ne.filter($):ne}var Ze={hitTest:q,seenUids:{box:{},circle:{}}};return this._forEachCell(N,Y,G,C,this._queryCell,ne,Ze,$),q?ne.length>0:ne},Cn.prototype._queryCircle=function(N,Y,G,C,q){var $=N-G,ne=N+G,he=Y-G,xe=Y+G;if(ne<0||$>this.width||xe<0||he>this.height)return!C&&[];var Pe=[],Fe={hitTest:C,circle:{x:N,y:Y,radius:G},seenUids:{box:{},circle:{}}};return this._forEachCell($,he,ne,xe,this._queryCellCircle,Pe,Fe,q),C?Pe.length>0:Pe},Cn.prototype.query=function(N,Y,G,C,q){return this._query(N,Y,G,C,!1,q)},Cn.prototype.hitTest=function(N,Y,G,C,q){return this._query(N,Y,G,C,!0,q)},Cn.prototype.hitTestCircle=function(N,Y,G,C){return this._queryCircle(N,Y,G,!0,C)},Cn.prototype._queryCell=function(N,Y,G,C,q,$,ne,he){var xe=ne.seenUids,Pe=this.boxCells[q];if(Pe!==null)for(var Fe=this.bboxes,qe=0,Ze=Pe;qe<Ze.length;qe+=1){var it=Ze[qe];if(!xe.box[it]){xe.box[it]=!0;var pt=4*it;if(N<=Fe[pt+2]&&Y<=Fe[pt+3]&&G>=Fe[pt+0]&&C>=Fe[pt+1]&&(!he||he(this.boxKeys[it]))){if(ne.hitTest)return $.push(!0),!0;$.push({key:this.boxKeys[it],x1:Fe[pt],y1:Fe[pt+1],x2:Fe[pt+2],y2:Fe[pt+3]})}}}var vt=this.circleCells[q];if(vt!==null)for(var Mt=this.circles,Ct=0,Et=vt;Ct<Et.length;Ct+=1){var jt=Et[Ct];if(!xe.circle[jt]){xe.circle[jt]=!0;var zt=3*jt;if(this._circleAndRectCollide(Mt[zt],Mt[zt+1],Mt[zt+2],N,Y,G,C)&&(!he||he(this.circleKeys[jt]))){if(ne.hitTest)return $.push(!0),!0;var Qt=Mt[zt],Wt=Mt[zt+1],Vt=Mt[zt+2];$.push({key:this.circleKeys[jt],x1:Qt-Vt,y1:Wt-Vt,x2:Qt+Vt,y2:Wt+Vt})}}}},Cn.prototype._queryCellCircle=function(N,Y,G,C,q,$,ne,he){var xe=ne.circle,Pe=ne.seenUids,Fe=this.boxCells[q];if(Fe!==null)for(var qe=this.bboxes,Ze=0,it=Fe;Ze<it.length;Ze+=1){var pt=it[Ze];if(!Pe.box[pt]){Pe.box[pt]=!0;var vt=4*pt;if(this._circleAndRectCollide(xe.x,xe.y,xe.radius,qe[vt+0],qe[vt+1],qe[vt+2],qe[vt+3])&&(!he||he(this.boxKeys[pt])))return $.push(!0),!0}}var Mt=this.circleCells[q];if(Mt!==null)for(var Ct=this.circles,Et=0,jt=Mt;Et<jt.length;Et+=1){var zt=jt[Et];if(!Pe.circle[zt]){Pe.circle[zt]=!0;var Qt=3*zt;if(this._circlesCollide(Ct[Qt],Ct[Qt+1],Ct[Qt+2],xe.x,xe.y,xe.radius)&&(!he||he(this.circleKeys[zt])))return $.push(!0),!0}}},Cn.prototype._forEachCell=function(N,Y,G,C,q,$,ne,he){for(var xe=this._convertToXCellCoord(N),Pe=this._convertToYCellCoord(Y),Fe=this._convertToXCellCoord(G),qe=this._convertToYCellCoord(C),Ze=xe;Ze<=Fe;Ze++)for(var it=Pe;it<=qe;it++){var pt=this.xCellCount*it+Ze;if(q.call(this,N,Y,G,C,pt,$,ne,he))return}},Cn.prototype._convertToXCellCoord=function(N){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(N*this.xScale)))},Cn.prototype._convertToYCellCoord=function(N){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(N*this.yScale)))},Cn.prototype._circlesCollide=function(N,Y,G,C,q,$){var ne=C-N,he=q-Y,xe=G+$;return xe*xe>ne*ne+he*he},Cn.prototype._circleAndRectCollide=function(N,Y,G,C,q,$,ne){var he=($-C)/2,xe=Math.abs(N-(C+he));if(xe>he+G)return!1;var Pe=(ne-q)/2,Fe=Math.abs(Y-(q+Pe));if(Fe>Pe+G)return!1;if(xe<=he||Fe<=Pe)return!0;var qe=xe-he,Ze=Fe-Pe;return qe*qe+Ze*Ze<=G*G};var Gn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Nn(N,Y){for(var G=0;G<N;G++){var C=Y.length;Y.resize(C+4),Y.float32.set(Gn,3*C)}}function or(N,Y,G){var C=Y[0],q=Y[1];return N[0]=G[0]*C+G[4]*q+G[12],N[1]=G[1]*C+G[5]*q+G[13],N[3]=G[3]*C+G[7]*q+G[15],N}var lr=100,cr=function(N,Y,G){Y===void 0&&(Y=new Cn(N.width+200,N.height+200,25)),G===void 0&&(G=new Cn(N.width+200,N.height+200,25)),this.transform=N,this.grid=Y,this.ignoredGrid=G,this.pitchfactor=Math.cos(N._pitch)*N.cameraToCenterDistance,this.screenRightBoundary=N.width+lr,this.screenBottomBoundary=N.height+lr,this.gridRightBoundary=N.width+200,this.gridBottomBoundary=N.height+200};function $n(N,Y,G){return Y*(r.EXTENT/(N.tileSize*Math.pow(2,G-N.tileID.overscaledZ)))}cr.prototype.placeCollisionBox=function(N,Y,G,C,q){var $=this.projectAndGetPerspectiveRatio(C,N.anchorPointX,N.anchorPointY),ne=G*$.perspectiveRatio,he=N.x1*ne+$.point.x,xe=N.y1*ne+$.point.y,Pe=N.x2*ne+$.point.x,Fe=N.y2*ne+$.point.y;return!this.isInsideGrid(he,xe,Pe,Fe)||!Y&&this.grid.hitTest(he,xe,Pe,Fe,q)?{box:[],offscreen:!1}:{box:[he,xe,Pe,Fe],offscreen:this.isOffscreen(he,xe,Pe,Fe)}},cr.prototype.placeCollisionCircles=function(N,Y,G,C,q,$,ne,he,xe,Pe,Fe,qe,Ze){var it=[],pt=new r.Point(Y.anchorX,Y.anchorY),vt=Kt(pt,$),Mt=un(this.transform.cameraToCenterDistance,vt.signedDistanceFromCamera),Ct=(Pe?q/Mt:q*Mt)/r.ONE_EM,Et=Kt(pt,ne).point,jt=kn(Ct,C,Y.lineOffsetX*Ct,Y.lineOffsetY*Ct,!1,Et,pt,Y,G,ne,{}),zt=!1,Qt=!1,Wt=!0;if(jt){for(var Vt=.5*qe*Mt+Ze,gn=new r.Point(-100,-100),xn=new r.Point(this.screenRightBoundary,this.screenBottomBoundary),On=new nn,Dn=jt.first,Wn=jt.last,ar=[],vr=Dn.path.length-1;vr>=1;vr--)ar.push(Dn.path[vr]);for(var Jn=1;Jn<Wn.path.length;Jn++)ar.push(Wn.path[Jn]);var dr=2.5*Vt;if(he){var kr=ar.map(function(si){return Kt(si,he)});ar=kr.some(function(si){return si.signedDistanceFromCamera<=0})?[]:kr.map(function(si){return si.point})}var Rr=[];if(ar.length>0){for(var rr=ar[0].clone(),pr=ar[0].clone(),Er=1;Er<ar.length;Er++)rr.x=Math.min(rr.x,ar[Er].x),rr.y=Math.min(rr.y,ar[Er].y),pr.x=Math.max(pr.x,ar[Er].x),pr.y=Math.max(pr.y,ar[Er].y);Rr=rr.x>=gn.x&&pr.x<=xn.x&&rr.y>=gn.y&&pr.y<=xn.y?[ar]:pr.x<gn.x||rr.x>xn.x||pr.y<gn.y||rr.y>xn.y?[]:r.clipLine([ar],gn.x,gn.y,xn.x,xn.y)}for(var mr=0,Dr=Rr;mr<Dr.length;mr+=1){var jr=Dr[mr];On.reset(jr,.25*Vt);var Xr;Xr=On.length<=.5*Vt?1:Math.ceil(On.paddedLength/dr)+1;for(var Kr=0;Kr<Xr;Kr++){var ni=Kr/Math.max(Xr-1,1),ai=On.lerp(ni),Li=ai.x+lr,Ki=ai.y+lr;it.push(Li,Ki,Vt,0);var Pa=Li-Vt,pa=Ki-Vt,Ma=Li+Vt,Ri=Ki+Vt;if(Wt=Wt&&this.isOffscreen(Pa,pa,Ma,Ri),Qt=Qt||this.isInsideGrid(Pa,pa,Ma,Ri),!N&&this.grid.hitTestCircle(Li,Ki,Vt,Fe)&&(zt=!0,!xe))return{circles:[],offscreen:!1,collisionDetected:zt}}}}return{circles:!xe&&zt||!Qt?[]:it,offscreen:Wt,collisionDetected:zt}},cr.prototype.queryRenderedSymbols=function(N){if(N.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var Y=[],G=1/0,C=1/0,q=-1/0,$=-1/0,ne=0,he=N;ne<he.length;ne+=1){var xe=he[ne],Pe=new r.Point(xe.x+lr,xe.y+lr);G=Math.min(G,Pe.x),C=Math.min(C,Pe.y),q=Math.max(q,Pe.x),$=Math.max($,Pe.y),Y.push(Pe)}for(var Fe={},qe={},Ze=0,it=this.grid.query(G,C,q,$).concat(this.ignoredGrid.query(G,C,q,$));Ze<it.length;Ze+=1){var pt=it[Ze],vt=pt.key;if(Fe[vt.bucketInstanceId]===void 0&&(Fe[vt.bucketInstanceId]={}),!Fe[vt.bucketInstanceId][vt.featureIndex]){var Mt=[new r.Point(pt.x1,pt.y1),new r.Point(pt.x2,pt.y1),new r.Point(pt.x2,pt.y2),new r.Point(pt.x1,pt.y2)];r.polygonIntersectsPolygon(Y,Mt)&&(Fe[vt.bucketInstanceId][vt.featureIndex]=!0,qe[vt.bucketInstanceId]===void 0&&(qe[vt.bucketInstanceId]=[]),qe[vt.bucketInstanceId].push(vt.featureIndex))}}return qe},cr.prototype.insertCollisionBox=function(N,Y,G,C,q){var $={bucketInstanceId:G,featureIndex:C,collisionGroupID:q};(Y?this.ignoredGrid:this.grid).insert($,N[0],N[1],N[2],N[3])},cr.prototype.insertCollisionCircles=function(N,Y,G,C,q){for(var $=Y?this.ignoredGrid:this.grid,ne={bucketInstanceId:G,featureIndex:C,collisionGroupID:q},he=0;he<N.length;he+=4)$.insertCircle(ne,N[he],N[he+1],N[he+2])},cr.prototype.projectAndGetPerspectiveRatio=function(N,Y,G){var C=[Y,G,0,1];return or(C,C,N),{point:new r.Point((C[0]/C[3]+1)/2*this.transform.width+lr,(-C[1]/C[3]+1)/2*this.transform.height+lr),perspectiveRatio:.5+this.transform.cameraToCenterDistance/C[3]*.5}},cr.prototype.isOffscreen=function(N,Y,G,C){return G<lr||N>=this.screenRightBoundary||C<lr||Y>this.screenBottomBoundary},cr.prototype.isInsideGrid=function(N,Y,G,C){return G>=0&&N<this.gridRightBoundary&&C>=0&&Y<this.gridBottomBoundary},cr.prototype.getViewportMatrix=function(){var N=r.identity([]);return r.translate(N,N,[-100,-100,0]),N};var Ar=function(N,Y,G,C){this.opacity=N?Math.max(0,Math.min(1,N.opacity+(N.placed?Y:-Y))):C&&G?1:0,this.placed=G};Ar.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Ht=function(N,Y,G,C,q){this.text=new Ar(N?N.text:null,Y,G,q),this.icon=new Ar(N?N.icon:null,Y,C,q)};Ht.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var an=function(N,Y,G){this.text=N,this.icon=Y,this.skipFade=G},_n=function(){this.invProjMatrix=r.create(),this.viewportMatrix=r.create(),this.circles=[]},vn=function(N,Y,G,C,q){this.bucketInstanceId=N,this.featureIndex=Y,this.sourceLayerIndex=G,this.bucketIndex=C,this.tileID=q},En=function(N){this.crossSourceCollisions=N,this.maxGroupID=0,this.collisionGroups={}};function Yn(N,Y,G,C,q){var $=r.getAnchorAlignment(N),ne=-($.horizontalAlign-.5)*Y,he=-($.verticalAlign-.5)*G,xe=r.evaluateVariableOffset(N,C);return new r.Point(ne+xe[0]*q,he+xe[1]*q)}function Fn(N,Y,G,C,q,$){var ne=N.x1,he=N.x2,xe=N.y1,Pe=N.y2,Fe=N.anchorPointX,qe=N.anchorPointY,Ze=new r.Point(Y,G);return C&&Ze._rotate(q?$:-$),{x1:ne+Ze.x,y1:xe+Ze.y,x2:he+Ze.x,y2:Pe+Ze.y,anchorPointX:Fe,anchorPointY:qe}}En.prototype.get=function(N){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[N]){var Y=++this.maxGroupID;this.collisionGroups[N]={ID:Y,predicate:function(G){return G.collisionGroupID===Y}}}return this.collisionGroups[N]};var jn=function(N,Y,G,C){this.transform=N.clone(),this.collisionIndex=new cr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=Y,this.retainedQueryData={},this.collisionGroups=new En(G),this.collisionCircleArrays={},this.prevPlacement=C,C&&(C.prevPlacement=void 0),this.placedOrientations={}};function ir(N,Y,G,C,q){N.emplaceBack(Y?1:0,G?1:0,C||0,q||0),N.emplaceBack(Y?1:0,G?1:0,C||0,q||0),N.emplaceBack(Y?1:0,G?1:0,C||0,q||0),N.emplaceBack(Y?1:0,G?1:0,C||0,q||0)}jn.prototype.getBucketParts=function(N,Y,G,C){var q=G.getBucket(Y),$=G.latestFeatureIndex;if(q&&$&&Y.id===q.layerIds[0]){var ne=G.collisionBoxArray,he=q.layers[0].layout,xe=Math.pow(2,this.transform.zoom-G.tileID.overscaledZ),Pe=G.tileSize/r.EXTENT,Fe=this.transform.calculatePosMatrix(G.tileID.toUnwrapped()),qe=he.get("text-pitch-alignment")==="map",Ze=he.get("text-rotation-alignment")==="map",it=$n(G,1,this.transform.zoom),pt=An(Fe,qe,Ze,this.transform,it),vt=null;if(qe){var Mt=dn(Fe,qe,Ze,this.transform,it);vt=r.multiply([],this.transform.labelPlaneMatrix,Mt)}this.retainedQueryData[q.bucketInstanceId]=new vn(q.bucketInstanceId,$,q.sourceLayerIndex,q.index,G.tileID);var Ct={bucket:q,layout:he,posMatrix:Fe,textLabelPlaneMatrix:pt,labelToScreenMatrix:vt,scale:xe,textPixelRatio:Pe,holdingForFade:G.holdingForFade(),collisionBoxArray:ne,partiallyEvaluatedTextSize:r.evaluateSizeForZoom(q.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(q.sourceID)};if(C)for(var Et=0,jt=q.sortKeyRanges;Et<jt.length;Et+=1){var zt=jt[Et],Qt=zt.sortKey,Wt=zt.symbolInstanceStart,Vt=zt.symbolInstanceEnd;N.push({sortKey:Qt,symbolInstanceStart:Wt,symbolInstanceEnd:Vt,parameters:Ct})}else N.push({symbolInstanceStart:0,symbolInstanceEnd:q.symbolInstances.length,parameters:Ct})}},jn.prototype.attemptAnchorPlacement=function(N,Y,G,C,q,$,ne,he,xe,Pe,Fe,qe,Ze,it,pt){var vt,Mt=[qe.textOffset0,qe.textOffset1],Ct=Yn(N,G,C,Mt,q),Et=this.collisionIndex.placeCollisionBox(Fn(Y,Ct.x,Ct.y,$,ne,this.transform.angle),Fe,he,xe,Pe.predicate);if(!pt||this.collisionIndex.placeCollisionBox(Fn(pt,Ct.x,Ct.y,$,ne,this.transform.angle),Fe,he,xe,Pe.predicate).box.length!==0)return Et.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[qe.crossTileID]&&this.prevPlacement.placements[qe.crossTileID]&&this.prevPlacement.placements[qe.crossTileID].text&&(vt=this.prevPlacement.variableOffsets[qe.crossTileID].anchor),this.variableOffsets[qe.crossTileID]={textOffset:Mt,width:G,height:C,anchor:N,textBoxScale:q,prevAnchor:vt},this.markUsedJustification(Ze,N,qe,it),Ze.allowVerticalPlacement&&(this.markUsedOrientation(Ze,it,qe),this.placedOrientations[qe.crossTileID]=it),{shift:Ct,placedGlyphBoxes:Et}):void 0},jn.prototype.placeLayerBucketPart=function(N,Y,G){var C=this,q=N.parameters,$=q.bucket,ne=q.layout,he=q.posMatrix,xe=q.textLabelPlaneMatrix,Pe=q.labelToScreenMatrix,Fe=q.textPixelRatio,qe=q.holdingForFade,Ze=q.collisionBoxArray,it=q.partiallyEvaluatedTextSize,pt=q.collisionGroup,vt=ne.get("text-optional"),Mt=ne.get("icon-optional"),Ct=ne.get("text-allow-overlap"),Et=ne.get("icon-allow-overlap"),jt=ne.get("text-rotation-alignment")==="map",zt=ne.get("text-pitch-alignment")==="map",Qt=ne.get("icon-text-fit")!=="none",Wt=ne.get("symbol-z-order")==="viewport-y",Vt=Ct&&(Et||!$.hasIconData()||Mt),gn=Et&&(Ct||!$.hasTextData()||vt);!$.collisionArrays&&Ze&&$.deserializeCollisionBoxes(Ze);var xn=function(Jn,dr){if(!Y[Jn.crossTileID])if(qe)C.placements[Jn.crossTileID]=new an(!1,!1,!1);else{var kr,Rr=!1,rr=!1,pr=!0,Er=null,mr={box:null,offscreen:null},Dr={box:null,offscreen:null},jr=null,Xr=null,Kr=0,ni=0,ai=0;dr.textFeatureIndex?Kr=dr.textFeatureIndex:Jn.useRuntimeCollisionCircles&&(Kr=Jn.featureIndex),dr.verticalTextFeatureIndex&&(ni=dr.verticalTextFeatureIndex);var Li=dr.textBox;if(Li){var Ki=function(Gi){var so=r.WritingMode.horizontal;if($.allowVerticalPlacement&&!Gi&&C.prevPlacement){var xa=C.prevPlacement.placedOrientations[Jn.crossTileID];xa&&(C.placedOrientations[Jn.crossTileID]=xa,so=xa,C.markUsedOrientation($,so,Jn))}return so},Pa=function(Gi,so){if($.allowVerticalPlacement&&Jn.numVerticalGlyphVertices>0&&dr.verticalTextBox)for(var xa=0,Ju=$.writingModes;xa<Ju.length&&(Ju[xa]===r.WritingMode.vertical?(mr=so(),Dr=mr):mr=Gi(),!(mr&&mr.box&&mr.box.length));xa+=1);else mr=Gi()};if(ne.get("text-variable-anchor")){var pa=ne.get("text-variable-anchor");if(C.prevPlacement&&C.prevPlacement.variableOffsets[Jn.crossTileID]){var Ma=C.prevPlacement.variableOffsets[Jn.crossTileID];pa.indexOf(Ma.anchor)>0&&(pa=pa.filter(function(Gi){return Gi!==Ma.anchor})).unshift(Ma.anchor)}var Ri=function(Gi,so,xa){for(var Ju=Gi.x2-Gi.x1,Qh=Gi.y2-Gi.y1,Ff=Jn.textBoxScale,$h=Qt&&!Et?so:null,zu={box:[],offscreen:!1},ep=Ct?2*pa.length:pa.length,Ru=0;Ru<ep;++Ru){var Bf=pa[Ru%pa.length],Nf=Ru>=pa.length,Kl=C.attemptAnchorPlacement(Bf,Gi,Ju,Qh,Ff,jt,zt,Fe,he,pt,Nf,Jn,$,xa,$h);if(Kl&&(zu=Kl.placedGlyphBoxes)&&zu.box&&zu.box.length){Rr=!0,Er=Kl.shift;break}}return zu};Pa(function(){return Ri(Li,dr.iconBox,r.WritingMode.horizontal)},function(){var Gi=dr.verticalTextBox,so=mr&&mr.box&&mr.box.length;return $.allowVerticalPlacement&&!so&&Jn.numVerticalGlyphVertices>0&&Gi?Ri(Gi,dr.verticalIconBox,r.WritingMode.vertical):{box:null,offscreen:null}}),mr&&(Rr=mr.box,pr=mr.offscreen);var si=Ki(mr&&mr.box);if(!Rr&&C.prevPlacement){var Hi=C.prevPlacement.variableOffsets[Jn.crossTileID];Hi&&(C.variableOffsets[Jn.crossTileID]=Hi,C.markUsedJustification($,Hi.anchor,Jn,si))}}else{var wi=function(Gi,so){var xa=C.collisionIndex.placeCollisionBox(Gi,Ct,Fe,he,pt.predicate);return xa&&xa.box&&xa.box.length&&(C.markUsedOrientation($,so,Jn),C.placedOrientations[Jn.crossTileID]=so),xa};Pa(function(){return wi(Li,r.WritingMode.horizontal)},function(){var Gi=dr.verticalTextBox;return $.allowVerticalPlacement&&Jn.numVerticalGlyphVertices>0&&Gi?wi(Gi,r.WritingMode.vertical):{box:null,offscreen:null}}),Ki(mr&&mr.box&&mr.box.length)}}if(Rr=(kr=mr)&&kr.box&&kr.box.length>0,pr=kr&&kr.offscreen,Jn.useRuntimeCollisionCircles){var hi=$.text.placedSymbolArray.get(Jn.centerJustifiedTextSymbolIndex),qi=r.evaluateSizeForFeature($.textSizeData,it,hi),Qi=ne.get("text-padding"),la=Jn.collisionCircleDiameter;jr=C.collisionIndex.placeCollisionCircles(Ct,hi,$.lineVertexArray,$.glyphOffsetArray,qi,he,xe,Pe,G,zt,pt.predicate,la,Qi),Rr=Ct||jr.circles.length>0&&!jr.collisionDetected,pr=pr&&jr.offscreen}if(dr.iconFeatureIndex&&(ai=dr.iconFeatureIndex),dr.iconBox){var al=function(Gi){var so=Qt&&Er?Fn(Gi,Er.x,Er.y,jt,zt,C.transform.angle):Gi;return C.collisionIndex.placeCollisionBox(so,Et,Fe,he,pt.predicate)};rr=Dr&&Dr.box&&Dr.box.length&&dr.verticalIconBox?(Xr=al(dr.verticalIconBox)).box.length>0:(Xr=al(dr.iconBox)).box.length>0,pr=pr&&Xr.offscreen}var ol=vt||Jn.numHorizontalGlyphVertices===0&&Jn.numVerticalGlyphVertices===0,pi=Mt||Jn.numIconVertices===0;if(ol||pi?pi?ol||(rr=rr&&Rr):Rr=rr&&Rr:rr=Rr=rr&&Rr,Rr&&kr&&kr.box&&(Dr&&Dr.box&&ni?C.collisionIndex.insertCollisionBox(kr.box,ne.get("text-ignore-placement"),$.bucketInstanceId,ni,pt.ID):C.collisionIndex.insertCollisionBox(kr.box,ne.get("text-ignore-placement"),$.bucketInstanceId,Kr,pt.ID)),rr&&Xr&&C.collisionIndex.insertCollisionBox(Xr.box,ne.get("icon-ignore-placement"),$.bucketInstanceId,ai,pt.ID),jr&&(Rr&&C.collisionIndex.insertCollisionCircles(jr.circles,ne.get("text-ignore-placement"),$.bucketInstanceId,Kr,pt.ID),G)){var Jl=$.bucketInstanceId,Sl=C.collisionCircleArrays[Jl];Sl===void 0&&(Sl=C.collisionCircleArrays[Jl]=new _n);for(var ts=0;ts<jr.circles.length;ts+=4)Sl.circles.push(jr.circles[ts+0]),Sl.circles.push(jr.circles[ts+1]),Sl.circles.push(jr.circles[ts+2]),Sl.circles.push(jr.collisionDetected?1:0)}C.placements[Jn.crossTileID]=new an(Rr||Vt,rr||gn,pr||$.justReloaded),Y[Jn.crossTileID]=!0}};if(Wt)for(var On=$.getSortedSymbolIndexes(this.transform.angle),Dn=On.length-1;Dn>=0;--Dn){var Wn=On[Dn];xn($.symbolInstances.get(Wn),$.collisionArrays[Wn])}else for(var ar=N.symbolInstanceStart;ar<N.symbolInstanceEnd;ar++)xn($.symbolInstances.get(ar),$.collisionArrays[ar]);if(G&&$.bucketInstanceId in this.collisionCircleArrays){var vr=this.collisionCircleArrays[$.bucketInstanceId];r.invert(vr.invProjMatrix,he),vr.viewportMatrix=this.collisionIndex.getViewportMatrix()}$.justReloaded=!1},jn.prototype.markUsedJustification=function(N,Y,G,C){var q,$={left:G.leftJustifiedTextSymbolIndex,center:G.centerJustifiedTextSymbolIndex,right:G.rightJustifiedTextSymbolIndex};q=C===r.WritingMode.vertical?G.verticalPlacedTextSymbolIndex:$[r.getAnchorJustification(Y)];for(var ne=0,he=[G.leftJustifiedTextSymbolIndex,G.centerJustifiedTextSymbolIndex,G.rightJustifiedTextSymbolIndex,G.verticalPlacedTextSymbolIndex];ne<he.length;ne+=1){var xe=he[ne];xe>=0&&(N.text.placedSymbolArray.get(xe).crossTileID=q>=0&&xe!==q?0:G.crossTileID)}},jn.prototype.markUsedOrientation=function(N,Y,G){for(var C=Y===r.WritingMode.horizontal||Y===r.WritingMode.horizontalOnly?Y:0,q=Y===r.WritingMode.vertical?Y:0,$=0,ne=[G.leftJustifiedTextSymbolIndex,G.centerJustifiedTextSymbolIndex,G.rightJustifiedTextSymbolIndex];$<ne.length;$+=1){var he=ne[$];N.text.placedSymbolArray.get(he).placedOrientation=C}G.verticalPlacedTextSymbolIndex&&(N.text.placedSymbolArray.get(G.verticalPlacedTextSymbolIndex).placedOrientation=q)},jn.prototype.commit=function(N){this.commitTime=N,this.zoomAtLastRecencyCheck=this.transform.zoom;var Y=this.prevPlacement,G=!1;this.prevZoomAdjustment=Y?Y.zoomAdjustment(this.transform.zoom):0;var C=Y?Y.symbolFadeChange(N):1,q=Y?Y.opacities:{},$=Y?Y.variableOffsets:{},ne=Y?Y.placedOrientations:{};for(var he in this.placements){var xe=this.placements[he],Pe=q[he];Pe?(this.opacities[he]=new Ht(Pe,C,xe.text,xe.icon),G=G||xe.text!==Pe.text.placed||xe.icon!==Pe.icon.placed):(this.opacities[he]=new Ht(null,C,xe.text,xe.icon,xe.skipFade),G=G||xe.text||xe.icon)}for(var Fe in q){var qe=q[Fe];if(!this.opacities[Fe]){var Ze=new Ht(qe,C,!1,!1);Ze.isHidden()||(this.opacities[Fe]=Ze,G=G||qe.text.placed||qe.icon.placed)}}for(var it in $)this.variableOffsets[it]||!this.opacities[it]||this.opacities[it].isHidden()||(this.variableOffsets[it]=$[it]);for(var pt in ne)this.placedOrientations[pt]||!this.opacities[pt]||this.opacities[pt].isHidden()||(this.placedOrientations[pt]=ne[pt]);G?this.lastPlacementChangeTime=N:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=Y?Y.lastPlacementChangeTime:N)},jn.prototype.updateLayerOpacities=function(N,Y){for(var G={},C=0,q=Y;C<q.length;C+=1){var $=q[C],ne=$.getBucket(N);ne&&$.latestFeatureIndex&&N.id===ne.layerIds[0]&&this.updateBucketOpacities(ne,G,$.collisionBoxArray)}},jn.prototype.updateBucketOpacities=function(N,Y,G){var C=this;N.hasTextData()&&N.text.opacityVertexArray.clear(),N.hasIconData()&&N.icon.opacityVertexArray.clear(),N.hasIconCollisionBoxData()&&N.iconCollisionBox.collisionVertexArray.clear(),N.hasTextCollisionBoxData()&&N.textCollisionBox.collisionVertexArray.clear();var q=N.layers[0].layout,$=new Ht(null,0,!1,!1,!0),ne=q.get("text-allow-overlap"),he=q.get("icon-allow-overlap"),xe=q.get("text-variable-anchor"),Pe=q.get("text-rotation-alignment")==="map",Fe=q.get("text-pitch-alignment")==="map",qe=q.get("icon-text-fit")!=="none",Ze=new Ht(null,0,ne&&(he||!N.hasIconData()||q.get("icon-optional")),he&&(ne||!N.hasTextData()||q.get("text-optional")),!0);!N.collisionArrays&&G&&(N.hasIconCollisionBoxData()||N.hasTextCollisionBoxData())&&N.deserializeCollisionBoxes(G);for(var it=function(Ct,Et,jt){for(var zt=0;zt<Et/4;zt++)Ct.opacityVertexArray.emplaceBack(jt)},pt=function(Ct){var Et=N.symbolInstances.get(Ct),jt=Et.numHorizontalGlyphVertices,zt=Et.numVerticalGlyphVertices,Qt=Et.crossTileID,Wt=Y[Qt],Vt=C.opacities[Qt];Wt?Vt=$:Vt||(Vt=Ze,C.opacities[Qt]=Vt),Y[Qt]=!0;var gn=jt>0||zt>0,xn=Et.numIconVertices>0,On=C.placedOrientations[Et.crossTileID],Dn=On===r.WritingMode.vertical,Wn=On===r.WritingMode.horizontal||On===r.WritingMode.horizontalOnly;if(gn){var ar=Tn(Vt.text),vr=Dn?fn:ar;it(N.text,jt,vr);var Jn=Wn?fn:ar;it(N.text,zt,Jn);var dr=Vt.text.isHidden();[Et.rightJustifiedTextSymbolIndex,Et.centerJustifiedTextSymbolIndex,Et.leftJustifiedTextSymbolIndex].forEach(function(ai){ai>=0&&(N.text.placedSymbolArray.get(ai).hidden=dr||Dn?1:0)}),Et.verticalPlacedTextSymbolIndex>=0&&(N.text.placedSymbolArray.get(Et.verticalPlacedTextSymbolIndex).hidden=dr||Wn?1:0);var kr=C.variableOffsets[Et.crossTileID];kr&&C.markUsedJustification(N,kr.anchor,Et,On);var Rr=C.placedOrientations[Et.crossTileID];Rr&&(C.markUsedJustification(N,"left",Et,Rr),C.markUsedOrientation(N,Rr,Et))}if(xn){var rr=Tn(Vt.icon),pr=!(qe&&Et.verticalPlacedIconSymbolIndex&&Dn);if(Et.placedIconSymbolIndex>=0){var Er=pr?rr:fn;it(N.icon,Et.numIconVertices,Er),N.icon.placedSymbolArray.get(Et.placedIconSymbolIndex).hidden=Vt.icon.isHidden()}if(Et.verticalPlacedIconSymbolIndex>=0){var mr=pr?fn:rr;it(N.icon,Et.numVerticalIconVertices,mr),N.icon.placedSymbolArray.get(Et.verticalPlacedIconSymbolIndex).hidden=Vt.icon.isHidden()}}if(N.hasIconCollisionBoxData()||N.hasTextCollisionBoxData()){var Dr=N.collisionArrays[Ct];if(Dr){var jr=new r.Point(0,0);if(Dr.textBox||Dr.verticalTextBox){var Xr=!0;if(xe){var Kr=C.variableOffsets[Qt];Kr?(jr=Yn(Kr.anchor,Kr.width,Kr.height,Kr.textOffset,Kr.textBoxScale),Pe&&jr._rotate(Fe?C.transform.angle:-C.transform.angle)):Xr=!1}Dr.textBox&&ir(N.textCollisionBox.collisionVertexArray,Vt.text.placed,!Xr||Dn,jr.x,jr.y),Dr.verticalTextBox&&ir(N.textCollisionBox.collisionVertexArray,Vt.text.placed,!Xr||Wn,jr.x,jr.y)}var ni=!!(!Wn&&Dr.verticalIconBox);Dr.iconBox&&ir(N.iconCollisionBox.collisionVertexArray,Vt.icon.placed,ni,qe?jr.x:0,qe?jr.y:0),Dr.verticalIconBox&&ir(N.iconCollisionBox.collisionVertexArray,Vt.icon.placed,!ni,qe?jr.x:0,qe?jr.y:0)}}},vt=0;vt<N.symbolInstances.length;vt++)pt(vt);if(N.sortFeatures(this.transform.angle),this.retainedQueryData[N.bucketInstanceId]&&(this.retainedQueryData[N.bucketInstanceId].featureSortOrder=N.featureSortOrder),N.hasTextData()&&N.text.opacityVertexBuffer&&N.text.opacityVertexBuffer.updateData(N.text.opacityVertexArray),N.hasIconData()&&N.icon.opacityVertexBuffer&&N.icon.opacityVertexBuffer.updateData(N.icon.opacityVertexArray),N.hasIconCollisionBoxData()&&N.iconCollisionBox.collisionVertexBuffer&&N.iconCollisionBox.collisionVertexBuffer.updateData(N.iconCollisionBox.collisionVertexArray),N.hasTextCollisionBoxData()&&N.textCollisionBox.collisionVertexBuffer&&N.textCollisionBox.collisionVertexBuffer.updateData(N.textCollisionBox.collisionVertexArray),N.bucketInstanceId in this.collisionCircleArrays){var Mt=this.collisionCircleArrays[N.bucketInstanceId];N.placementInvProjMatrix=Mt.invProjMatrix,N.placementViewportMatrix=Mt.viewportMatrix,N.collisionCircleArray=Mt.circles,delete this.collisionCircleArrays[N.bucketInstanceId]}},jn.prototype.symbolFadeChange=function(N){return this.fadeDuration===0?1:(N-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},jn.prototype.zoomAdjustment=function(N){return Math.max(0,(this.transform.zoom-N)/1.5)},jn.prototype.hasTransitions=function(N){return this.stale||N-this.lastPlacementChangeTime<this.fadeDuration},jn.prototype.stillRecent=function(N,Y){var G=this.zoomAtLastRecencyCheck===Y?1-this.zoomAdjustment(Y):1;return this.zoomAtLastRecencyCheck=Y,this.commitTime+this.fadeDuration*G>N},jn.prototype.setStale=function(){this.stale=!0};var Zt=Math.pow(2,25),mn=Math.pow(2,24),It=Math.pow(2,17),Xt=Math.pow(2,16),tn=Math.pow(2,9),bn=Math.pow(2,8),yn=Math.pow(2,1);function Tn(N){if(N.opacity===0&&!N.placed)return 0;if(N.opacity===1&&N.placed)return 4294967295;var Y=N.placed?1:0,G=Math.floor(127*N.opacity);return G*Zt+Y*mn+G*It+Y*Xt+G*tn+Y*bn+G*yn+Y}var fn=0,$t=function(N){this._sortAcrossTiles=N.layout.get("symbol-z-order")!=="viewport-y"&&N.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};$t.prototype.continuePlacement=function(N,Y,G,C,q){for(var $=this._bucketParts;this._currentTileIndex<N.length;){var ne=N[this._currentTileIndex];if(Y.getBucketParts($,C,ne,this._sortAcrossTiles),this._currentTileIndex++,q())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,$.sort(function(xe,Pe){return xe.sortKey-Pe.sortKey}));this._currentPartIndex<$.length;){var he=$[this._currentPartIndex];if(Y.placeLayerBucketPart(he,this._seenCrossTileIDs,G),this._currentPartIndex++,q())return!0}return!1};var en=function(N,Y,G,C,q,$,ne){this.placement=new jn(N,q,$,ne),this._currentPlacementIndex=Y.length-1,this._forceFullPlacement=G,this._showCollisionBoxes=C,this._done=!1};en.prototype.isDone=function(){return this._done},en.prototype.continuePlacement=function(N,Y,G){for(var C=this,q=r.browser.now(),$=function(){var xe=r.browser.now()-q;return!C._forceFullPlacement&&xe>2};this._currentPlacementIndex>=0;){var ne=Y[N[this._currentPlacementIndex]],he=this.placement.collisionIndex.transform.zoom;if(ne.type==="symbol"&&(!ne.minzoom||ne.minzoom<=he)&&(!ne.maxzoom||ne.maxzoom>he)){if(this._inProgressLayer||(this._inProgressLayer=new $t(ne)),this._inProgressLayer.continuePlacement(G[ne.source],this.placement,this._showCollisionBoxes,ne,$))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},en.prototype.commit=function(N){return this.placement.commit(N),this.placement};var ln=512/r.EXTENT/2,pn=function(N,Y,G){this.tileID=N,this.indexedSymbolInstances={},this.bucketInstanceId=G;for(var C=0;C<Y.length;C++){var q=Y.get(C),$=q.key;this.indexedSymbolInstances[$]||(this.indexedSymbolInstances[$]=[]),this.indexedSymbolInstances[$].push({crossTileID:q.crossTileID,coord:this.getScaledCoordinates(q,N)})}};pn.prototype.getScaledCoordinates=function(N,Y){var G=Y.canonical.z-this.tileID.canonical.z,C=ln/Math.pow(2,G);return{x:Math.floor((Y.canonical.x*r.EXTENT+N.anchorX)*C),y:Math.floor((Y.canonical.y*r.EXTENT+N.anchorY)*C)}},pn.prototype.findMatches=function(N,Y,G){for(var C=this.tileID.canonical.z<Y.canonical.z?1:Math.pow(2,this.tileID.canonical.z-Y.canonical.z),q=0;q<N.length;q++){var $=N.get(q);if(!$.crossTileID){var ne=this.indexedSymbolInstances[$.key];if(ne)for(var he=this.getScaledCoordinates($,Y),xe=0,Pe=ne;xe<Pe.length;xe+=1){var Fe=Pe[xe];if(Math.abs(Fe.coord.x-he.x)<=C&&Math.abs(Fe.coord.y-he.y)<=C&&!G[Fe.crossTileID]){G[Fe.crossTileID]=!0,$.crossTileID=Fe.crossTileID;break}}}}};var Ln=function(){this.maxCrossTileID=0};Ln.prototype.generate=function(){return++this.maxCrossTileID};var In=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};In.prototype.handleWrapJump=function(N){var Y=Math.round((N-this.lng)/360);if(Y!==0)for(var G in this.indexes){var C=this.indexes[G],q={};for(var $ in C){var ne=C[$];ne.tileID=ne.tileID.unwrapTo(ne.tileID.wrap+Y),q[ne.tileID.key]=ne}this.indexes[G]=q}this.lng=N},In.prototype.addBucket=function(N,Y,G){if(this.indexes[N.overscaledZ]&&this.indexes[N.overscaledZ][N.key]){if(this.indexes[N.overscaledZ][N.key].bucketInstanceId===Y.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(N.overscaledZ,this.indexes[N.overscaledZ][N.key])}for(var C=0;C<Y.symbolInstances.length;C++)Y.symbolInstances.get(C).crossTileID=0;this.usedCrossTileIDs[N.overscaledZ]||(this.usedCrossTileIDs[N.overscaledZ]={});var q=this.usedCrossTileIDs[N.overscaledZ];for(var $ in this.indexes){var ne=this.indexes[$];if(Number($)>N.overscaledZ)for(var he in ne){var xe=ne[he];xe.tileID.isChildOf(N)&&xe.findMatches(Y.symbolInstances,N,q)}else{var Pe=ne[N.scaledTo(Number($)).key];Pe&&Pe.findMatches(Y.symbolInstances,N,q)}}for(var Fe=0;Fe<Y.symbolInstances.length;Fe++){var qe=Y.symbolInstances.get(Fe);qe.crossTileID||(qe.crossTileID=G.generate(),q[qe.crossTileID]=!0)}return this.indexes[N.overscaledZ]===void 0&&(this.indexes[N.overscaledZ]={}),this.indexes[N.overscaledZ][N.key]=new pn(N,Y.symbolInstances,Y.bucketInstanceId),!0},In.prototype.removeBucketCrossTileIDs=function(N,Y){for(var G in Y.indexedSymbolInstances)for(var C=0,q=Y.indexedSymbolInstances[G];C<q.length;C+=1){var $=q[C];delete this.usedCrossTileIDs[N][$.crossTileID]}},In.prototype.removeStaleBuckets=function(N){var Y=!1;for(var G in this.indexes){var C=this.indexes[G];for(var q in C)N[C[q].bucketInstanceId]||(this.removeBucketCrossTileIDs(G,C[q]),delete C[q],Y=!0)}return Y};var Hn=function(){this.layerIndexes={},this.crossTileIDs=new Ln,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Hn.prototype.addLayer=function(N,Y,G){var C=this.layerIndexes[N.id];C===void 0&&(C=this.layerIndexes[N.id]=new In);var q=!1,$={};C.handleWrapJump(G);for(var ne=0,he=Y;ne<he.length;ne+=1){var xe=he[ne],Pe=xe.getBucket(N);Pe&&N.id===Pe.layerIds[0]&&(Pe.bucketInstanceId||(Pe.bucketInstanceId=++this.maxBucketInstanceId),C.addBucket(xe.tileID,Pe,this.crossTileIDs)&&(q=!0),$[Pe.bucketInstanceId]=!0)}return C.removeStaleBuckets($)&&(q=!0),q},Hn.prototype.pruneUnusedLayers=function(N){var Y={};for(var G in N.forEach(function(C){Y[C]=!0}),this.layerIndexes)Y[G]||delete this.layerIndexes[G]};var qn=function(N,Y){return r.emitValidationErrors(N,Y&&Y.filter(function(G){return G.identifier!=="source.canvas"}))},er=r.pick(kt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Zn=r.pick(kt,["setCenter","setZoom","setBearing","setPitch"]),tr=function(){var N={},Y=r.styleSpec.$version;for(var G in r.styleSpec.$root){var C=r.styleSpec.$root[G];if(C.required){var q;(q=G==="version"?Y:C.type==="array"?[]:{})!=null&&(N[G]=q)}}return N}(),nr=function(N){function Y(G,C){var q=this;C===void 0&&(C={}),N.call(this),this.map=G,this.dispatcher=new P(xt(),this),this.imageManager=new h,this.imageManager.setEventedParent(this),this.glyphManager=new x(G._requestManager,C.localIdeographFontFamily),this.lineAtlas=new E(256,512),this.crossTileSymbolIndex=new Hn,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new r.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",r.getReferrer());var $=this;this._rtlTextPluginCallback=Y.registerForPluginStateChange(function(ne){var he={pluginStatus:ne.pluginStatus,pluginURL:ne.pluginURL};$.dispatcher.broadcast("syncRTLPluginState",he,function(xe,Pe){if(r.triggerPluginCompletionEvent(xe),Pe&&Pe.every(function(qe){return qe}))for(var Fe in $.sourceCaches)$.sourceCaches[Fe].reload()})}),this.on("data",function(ne){if(ne.dataType==="source"&&ne.sourceDataType==="metadata"){var he=q.sourceCaches[ne.sourceId];if(he){var xe=he.getSource();if(xe&&xe.vectorLayerIds)for(var Pe in q._layers){var Fe=q._layers[Pe];Fe.source===xe.id&&q._validateLayer(Fe)}}}})}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.loadURL=function(G,C){var q=this;C===void 0&&(C={}),this.fire(new r.Event("dataloading",{dataType:"style"}));var $=typeof C.validate=="boolean"?C.validate:!r.isMapboxURL(G);G=this.map._requestManager.normalizeStyleURL(G,C.accessToken);var ne=this.map._requestManager.transformRequest(G,r.ResourceType.Style);this._request=r.getJSON(ne,function(he,xe){q._request=null,he?q.fire(new r.ErrorEvent(he)):xe&&q._load(xe,$)})},Y.prototype.loadJSON=function(G,C){var q=this;C===void 0&&(C={}),this.fire(new r.Event("dataloading",{dataType:"style"})),this._request=r.browser.frame(function(){q._request=null,q._load(G,C.validate!==!1)})},Y.prototype.loadEmpty=function(){this.fire(new r.Event("dataloading",{dataType:"style"})),this._load(tr,!1)},Y.prototype._load=function(G,C){if(!C||!qn(this,r.validateStyle(G))){for(var q in this._loaded=!0,this.stylesheet=G,G.sources)this.addSource(q,G.sources[q],{validate:!1});G.sprite?this._loadSprite(G.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(G.glyphs);var $=Lt(this.stylesheet.layers);this._order=$.map(function(Pe){return Pe.id}),this._layers={},this._serializedLayers={};for(var ne=0,he=$;ne<he.length;ne+=1){var xe=he[ne];(xe=r.createStyleLayer(xe)).setEventedParent(this,{layer:{id:xe.id}}),this._layers[xe.id]=xe,this._serializedLayers[xe.id]=xe.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new M(this.stylesheet.light),this.fire(new r.Event("data",{dataType:"style"})),this.fire(new r.Event("style.load"))}},Y.prototype._loadSprite=function(G){var C=this;this._spriteRequest=function(q,$,ne){var he,xe,Pe,Fe=r.browser.devicePixelRatio>1?"@2x":"",qe=r.getJSON($.transformRequest($.normalizeSpriteURL(q,Fe,".json"),r.ResourceType.SpriteJSON),function(pt,vt){qe=null,Pe||(Pe=pt,he=vt,it())}),Ze=r.getImage($.transformRequest($.normalizeSpriteURL(q,Fe,".png"),r.ResourceType.SpriteImage),function(pt,vt){Ze=null,Pe||(Pe=pt,xe=vt,it())});function it(){if(Pe)ne(Pe);else if(he&&xe){var pt=r.browser.getImageData(xe),vt={};for(var Mt in he){var Ct=he[Mt],Et=Ct.width,jt=Ct.height,zt=Ct.x,Qt=Ct.y,Wt=Ct.sdf,Vt=Ct.pixelRatio,gn=Ct.stretchX,xn=Ct.stretchY,On=Ct.content,Dn=new r.RGBAImage({width:Et,height:jt});r.RGBAImage.copy(pt,Dn,{x:zt,y:Qt},{x:0,y:0},{width:Et,height:jt}),vt[Mt]={data:Dn,pixelRatio:Vt,sdf:Wt,stretchX:gn,stretchY:xn,content:On}}ne(null,vt)}}return{cancel:function(){qe&&(qe.cancel(),qe=null),Ze&&(Ze.cancel(),Ze=null)}}}(G,this.map._requestManager,function(q,$){if(C._spriteRequest=null,q)C.fire(new r.ErrorEvent(q));else if($)for(var ne in $)C.imageManager.addImage(ne,$[ne]);C.imageManager.setLoaded(!0),C._availableImages=C.imageManager.listImages(),C.dispatcher.broadcast("setImages",C._availableImages),C.fire(new r.Event("data",{dataType:"style"}))})},Y.prototype._validateLayer=function(G){var C=this.sourceCaches[G.source];if(C){var q=G.sourceLayer;if(q){var $=C.getSource();($.type==="geojson"||$.vectorLayerIds&&$.vectorLayerIds.indexOf(q)===-1)&&this.fire(new r.ErrorEvent(new Error('Source layer "'+q+'" does not exist on source "'+$.id+'" as specified by style layer "'+G.id+'"')))}}},Y.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var G in this.sourceCaches)if(!this.sourceCaches[G].loaded())return!1;return!!this.imageManager.isLoaded()},Y.prototype._serializeLayers=function(G){for(var C=[],q=0,$=G;q<$.length;q+=1){var ne=$[q],he=this._layers[ne];he.type!=="custom"&&C.push(he.serialize())}return C},Y.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var G in this.sourceCaches)if(this.sourceCaches[G].hasTransition())return!0;for(var C in this._layers)if(this._layers[C].hasTransition())return!0;return!1},Y.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},Y.prototype.update=function(G){if(this._loaded){var C=this._changed;if(this._changed){var q=Object.keys(this._updatedLayers),$=Object.keys(this._removedLayers);for(var ne in(q.length||$.length)&&this._updateWorkerLayers(q,$),this._updatedSources){var he=this._updatedSources[ne];he==="reload"?this._reloadSource(ne):he==="clear"&&this._clearSource(ne)}for(var xe in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[xe].updateTransitions(G);this.light.updateTransitions(G),this._resetUpdates()}var Pe={};for(var Fe in this.sourceCaches){var qe=this.sourceCaches[Fe];Pe[Fe]=qe.used,qe.used=!1}for(var Ze=0,it=this._order;Ze<it.length;Ze+=1){var pt=it[Ze],vt=this._layers[pt];vt.recalculate(G,this._availableImages),!vt.isHidden(G.zoom)&&vt.source&&(this.sourceCaches[vt.source].used=!0)}for(var Mt in Pe){var Ct=this.sourceCaches[Mt];Pe[Mt]!==Ct.used&&Ct.fire(new r.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Mt}))}this.light.recalculate(G),this.z=G.zoom,C&&this.fire(new r.Event("data",{dataType:"style"}))}},Y.prototype._updateTilesForChangedImages=function(){var G=Object.keys(this._changedImages);if(G.length){for(var C in this.sourceCaches)this.sourceCaches[C].reloadTilesForDependencies(["icons","patterns"],G);this._changedImages={}}},Y.prototype._updateWorkerLayers=function(G,C){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(G),removedIds:C})},Y.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},Y.prototype.setState=function(G){var C=this;if(this._checkLoaded(),qn(this,r.validateStyle(G)))return!1;(G=r.clone$1(G)).layers=Lt(G.layers);var q=Gt(this.serialize(),G).filter(function(ne){return!(ne.command in Zn)});if(q.length===0)return!1;var $=q.filter(function(ne){return!(ne.command in er)});if($.length>0)throw new Error("Unimplemented: "+$.map(function(ne){return ne.command}).join(", ")+".");return q.forEach(function(ne){ne.command!=="setTransition"&&C[ne.command].apply(C,ne.args)}),this.stylesheet=G,!0},Y.prototype.addImage=function(G,C){if(this.getImage(G))return this.fire(new r.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(G,C),this._afterImageUpdated(G)},Y.prototype.updateImage=function(G,C){this.imageManager.updateImage(G,C)},Y.prototype.getImage=function(G){return this.imageManager.getImage(G)},Y.prototype.removeImage=function(G){if(!this.getImage(G))return this.fire(new r.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(G),this._afterImageUpdated(G)},Y.prototype._afterImageUpdated=function(G){this._availableImages=this.imageManager.listImages(),this._changedImages[G]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new r.Event("data",{dataType:"style"}))},Y.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},Y.prototype.addSource=function(G,C,q){var $=this;if(q===void 0&&(q={}),this._checkLoaded(),this.sourceCaches[G]!==void 0)throw new Error("There is already a source with this ID");if(!C.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(C).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(C.type)>=0&&this._validate(r.validateStyle.source,"sources."+G,C,null,q))){this.map&&this.map._collectResourceTiming&&(C.collectResourceTiming=!0);var ne=this.sourceCaches[G]=new ct(G,C,this.dispatcher);ne.style=this,ne.setEventedParent(this,function(){return{isSourceLoaded:$.loaded(),source:ne.serialize(),sourceId:G}}),ne.onAdd(this.map),this._changed=!0}},Y.prototype.removeSource=function(G){if(this._checkLoaded(),this.sourceCaches[G]===void 0)throw new Error("There is no source with this ID");for(var C in this._layers)if(this._layers[C].source===G)return this.fire(new r.ErrorEvent(new Error('Source "'+G+'" cannot be removed while layer "'+C+'" is using it.')));var q=this.sourceCaches[G];delete this.sourceCaches[G],delete this._updatedSources[G],q.fire(new r.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:G})),q.setEventedParent(null),q.clearTiles(),q.onRemove&&q.onRemove(this.map),this._changed=!0},Y.prototype.setGeoJSONSourceData=function(G,C){this._checkLoaded(),this.sourceCaches[G].getSource().setData(C),this._changed=!0},Y.prototype.getSource=function(G){return this.sourceCaches[G]&&this.sourceCaches[G].getSource()},Y.prototype.addLayer=function(G,C,q){q===void 0&&(q={}),this._checkLoaded();var $=G.id;if(this.getLayer($))this.fire(new r.ErrorEvent(new Error('Layer with id "'+$+'" already exists on this map')));else{var ne;if(G.type==="custom"){if(qn(this,r.validateCustomStyleLayer(G)))return;ne=r.createStyleLayer(G)}else{if(typeof G.source=="object"&&(this.addSource($,G.source),G=r.clone$1(G),G=r.extend(G,{source:$})),this._validate(r.validateStyle.layer,"layers."+$,G,{arrayIndex:-1},q))return;ne=r.createStyleLayer(G),this._validateLayer(ne),ne.setEventedParent(this,{layer:{id:$}}),this._serializedLayers[ne.id]=ne.serialize()}var he=C?this._order.indexOf(C):this._order.length;if(C&&he===-1)this.fire(new r.ErrorEvent(new Error('Layer with id "'+C+'" does not exist on this map.')));else{if(this._order.splice(he,0,$),this._layerOrderChanged=!0,this._layers[$]=ne,this._removedLayers[$]&&ne.source&&ne.type!=="custom"){var xe=this._removedLayers[$];delete this._removedLayers[$],xe.type!==ne.type?this._updatedSources[ne.source]="clear":(this._updatedSources[ne.source]="reload",this.sourceCaches[ne.source].pause())}this._updateLayer(ne),ne.onAdd&&ne.onAdd(this.map)}}},Y.prototype.moveLayer=function(G,C){if(this._checkLoaded(),this._changed=!0,this._layers[G]){if(G!==C){var q=this._order.indexOf(G);this._order.splice(q,1);var $=C?this._order.indexOf(C):this._order.length;C&&$===-1?this.fire(new r.ErrorEvent(new Error('Layer with id "'+C+'" does not exist on this map.'))):(this._order.splice($,0,G),this._layerOrderChanged=!0)}}else this.fire(new r.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be moved.")))},Y.prototype.removeLayer=function(G){this._checkLoaded();var C=this._layers[G];if(C){C.setEventedParent(null);var q=this._order.indexOf(G);this._order.splice(q,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[G]=C,delete this._layers[G],delete this._serializedLayers[G],delete this._updatedLayers[G],delete this._updatedPaintProps[G],C.onRemove&&C.onRemove(this.map)}else this.fire(new r.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be removed.")))},Y.prototype.getLayer=function(G){return this._layers[G]},Y.prototype.hasLayer=function(G){return G in this._layers},Y.prototype.setLayerZoomRange=function(G,C,q){this._checkLoaded();var $=this.getLayer(G);$?$.minzoom===C&&$.maxzoom===q||(C!=null&&($.minzoom=C),q!=null&&($.maxzoom=q),this._updateLayer($)):this.fire(new r.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot have zoom extent.")))},Y.prototype.setFilter=function(G,C,q){q===void 0&&(q={}),this._checkLoaded();var $=this.getLayer(G);if($){if(!r.deepEqual($.filter,C))return C==null?($.filter=void 0,void this._updateLayer($)):void(this._validate(r.validateStyle.filter,"layers."+$.id+".filter",C,null,q)||($.filter=r.clone$1(C),this._updateLayer($)))}else this.fire(new r.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be filtered.")))},Y.prototype.getFilter=function(G){return r.clone$1(this.getLayer(G).filter)},Y.prototype.setLayoutProperty=function(G,C,q,$){$===void 0&&($={}),this._checkLoaded();var ne=this.getLayer(G);ne?r.deepEqual(ne.getLayoutProperty(C),q)||(ne.setLayoutProperty(C,q,$),this._updateLayer(ne)):this.fire(new r.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be styled.")))},Y.prototype.getLayoutProperty=function(G,C){var q=this.getLayer(G);if(q)return q.getLayoutProperty(C);this.fire(new r.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style.")))},Y.prototype.setPaintProperty=function(G,C,q,$){$===void 0&&($={}),this._checkLoaded();var ne=this.getLayer(G);ne?r.deepEqual(ne.getPaintProperty(C),q)||(ne.setPaintProperty(C,q,$)&&this._updateLayer(ne),this._changed=!0,this._updatedPaintProps[G]=!0):this.fire(new r.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be styled.")))},Y.prototype.getPaintProperty=function(G,C){return this.getLayer(G).getPaintProperty(C)},Y.prototype.setFeatureState=function(G,C){this._checkLoaded();var q=G.source,$=G.sourceLayer,ne=this.sourceCaches[q];if(ne!==void 0){var he=ne.getSource().type;he==="geojson"&&$?this.fire(new r.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):he!=="vector"||$?(G.id===void 0&&this.fire(new r.ErrorEvent(new Error("The feature id parameter must be provided."))),ne.setFeatureState($,G.id,C)):this.fire(new r.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new r.ErrorEvent(new Error("The source '"+q+"' does not exist in the map's style.")))},Y.prototype.removeFeatureState=function(G,C){this._checkLoaded();var q=G.source,$=this.sourceCaches[q];if($!==void 0){var ne=$.getSource().type,he=ne==="vector"?G.sourceLayer:void 0;ne!=="vector"||he?C&&typeof G.id!="string"&&typeof G.id!="number"?this.fire(new r.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):$.removeFeatureState(he,G.id,C):this.fire(new r.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new r.ErrorEvent(new Error("The source '"+q+"' does not exist in the map's style.")))},Y.prototype.getFeatureState=function(G){this._checkLoaded();var C=G.source,q=G.sourceLayer,$=this.sourceCaches[C];if($!==void 0){if($.getSource().type!=="vector"||q)return G.id===void 0&&this.fire(new r.ErrorEvent(new Error("The feature id parameter must be provided."))),$.getFeatureState(q,G.id);this.fire(new r.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new r.ErrorEvent(new Error("The source '"+C+"' does not exist in the map's style.")))},Y.prototype.getTransition=function(){return r.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},Y.prototype.serialize=function(){return r.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:r.mapObject(this.sourceCaches,function(G){return G.serialize()}),layers:this._serializeLayers(this._order)},function(G){return G!==void 0})},Y.prototype._updateLayer=function(G){this._updatedLayers[G.id]=!0,G.source&&!this._updatedSources[G.source]&&this.sourceCaches[G.source].getSource().type!=="raster"&&(this._updatedSources[G.source]="reload",this.sourceCaches[G.source].pause()),this._changed=!0},Y.prototype._flattenAndSortRenderedFeatures=function(G){for(var C=this,q=function(On){return C._layers[On].type==="fill-extrusion"},$={},ne=[],he=this._order.length-1;he>=0;he--){var xe=this._order[he];if(q(xe)){$[xe]=he;for(var Pe=0,Fe=G;Pe<Fe.length;Pe+=1){var qe=Fe[Pe][xe];if(qe)for(var Ze=0,it=qe;Ze<it.length;Ze+=1){var pt=it[Ze];ne.push(pt)}}}}ne.sort(function(On,Dn){return Dn.intersectionZ-On.intersectionZ});for(var vt=[],Mt=this._order.length-1;Mt>=0;Mt--){var Ct=this._order[Mt];if(q(Ct))for(var Et=ne.length-1;Et>=0;Et--){var jt=ne[Et].feature;if($[jt.layer.id]<Mt)break;vt.push(jt),ne.pop()}else for(var zt=0,Qt=G;zt<Qt.length;zt+=1){var Wt=Qt[zt][Ct];if(Wt)for(var Vt=0,gn=Wt;Vt<gn.length;Vt+=1){var xn=gn[Vt];vt.push(xn.feature)}}}return vt},Y.prototype.queryRenderedFeatures=function(G,C,q){C&&C.filter&&this._validate(r.validateStyle.filter,"queryRenderedFeatures.filter",C.filter,null,C);var $={};if(C&&C.layers){if(!Array.isArray(C.layers))return this.fire(new r.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ne=0,he=C.layers;ne<he.length;ne+=1){var xe=he[ne],Pe=this._layers[xe];if(!Pe)return this.fire(new r.ErrorEvent(new Error("The layer '"+xe+"' does not exist in the map's style and cannot be queried for features."))),[];$[Pe.source]=!0}}var Fe=[];for(var qe in C.availableImages=this._availableImages,this.sourceCaches)C.layers&&!$[qe]||Fe.push(K(this.sourceCaches[qe],this._layers,this._serializedLayers,G,C,q));return this.placement&&Fe.push(function(Ze,it,pt,vt,Mt,Ct,Et){for(var jt={},zt=Ct.queryRenderedSymbols(vt),Qt=[],Wt=0,Vt=Object.keys(zt).map(Number);Wt<Vt.length;Wt+=1){var gn=Vt[Wt];Qt.push(Et[gn])}Qt.sort(X);for(var xn=function(){var vr=Dn[On],Jn=vr.featureIndex.lookupSymbolFeatures(zt[vr.bucketInstanceId],it,vr.bucketIndex,vr.sourceLayerIndex,Mt.filter,Mt.layers,Mt.availableImages,Ze);for(var dr in Jn){var kr=jt[dr]=jt[dr]||[],Rr=Jn[dr];Rr.sort(function(mr,Dr){var jr=vr.featureSortOrder;if(jr){var Xr=jr.indexOf(mr.featureIndex);return jr.indexOf(Dr.featureIndex)-Xr}return Dr.featureIndex-mr.featureIndex});for(var rr=0,pr=Rr;rr<pr.length;rr+=1){var Er=pr[rr];kr.push(Er)}}},On=0,Dn=Qt;On<Dn.length;On+=1)xn();var Wn=function(vr){jt[vr].forEach(function(Jn){var dr=Jn.feature,kr=Ze[vr],Rr=pt[kr.source].getFeatureState(dr.layer["source-layer"],dr.id);dr.source=dr.layer.source,dr.layer["source-layer"]&&(dr.sourceLayer=dr.layer["source-layer"]),dr.state=Rr})};for(var ar in jt)Wn(ar);return jt}(this._layers,this._serializedLayers,this.sourceCaches,G,C,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Fe)},Y.prototype.querySourceFeatures=function(G,C){C&&C.filter&&this._validate(r.validateStyle.filter,"querySourceFeatures.filter",C.filter,null,C);var q=this.sourceCaches[G];return q?function($,ne){for(var he=$.getRenderableIds().map(function(it){return $.getTileByID(it)}),xe=[],Pe={},Fe=0;Fe<he.length;Fe++){var qe=he[Fe],Ze=qe.tileID.canonical.key;Pe[Ze]||(Pe[Ze]=!0,qe.querySourceFeatures(xe,ne))}return xe}(q,C):[]},Y.prototype.addSourceType=function(G,C,q){return Y.getSourceType(G)?q(new Error('A source type called "'+G+'" already exists.')):(Y.setSourceType(G,C),C.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:G,url:C.workerSourceURL},q):q(null,null))},Y.prototype.getLight=function(){return this.light.getLight()},Y.prototype.setLight=function(G,C){C===void 0&&(C={}),this._checkLoaded();var q=this.light.getLight(),$=!1;for(var ne in G)if(!r.deepEqual(G[ne],q[ne])){$=!0;break}if($){var he={now:r.browser.now(),transition:r.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(G,C),this.light.updateTransitions(he)}},Y.prototype._validate=function(G,C,q,$,ne){return ne===void 0&&(ne={}),(!ne||ne.validate!==!1)&&qn(this,G.call(r.validateStyle,r.extend({key:C,style:this.serialize(),value:q,styleSpec:r.styleSpec},$)))},Y.prototype._remove=function(){for(var G in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),r.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[G].setEventedParent(null);for(var C in this.sourceCaches)this.sourceCaches[C].clearTiles(),this.sourceCaches[C].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},Y.prototype._clearSource=function(G){this.sourceCaches[G].clearTiles()},Y.prototype._reloadSource=function(G){this.sourceCaches[G].resume(),this.sourceCaches[G].reload()},Y.prototype._updateSources=function(G){for(var C in this.sourceCaches)this.sourceCaches[C].update(G)},Y.prototype._generateCollisionBoxes=function(){for(var G in this.sourceCaches)this._reloadSource(G)},Y.prototype._updatePlacement=function(G,C,q,$,ne){ne===void 0&&(ne=!1);for(var he=!1,xe=!1,Pe={},Fe=0,qe=this._order;Fe<qe.length;Fe+=1){var Ze=qe[Fe],it=this._layers[Ze];if(it.type==="symbol"){if(!Pe[it.source]){var pt=this.sourceCaches[it.source];Pe[it.source]=pt.getRenderableIds(!0).map(function(zt){return pt.getTileByID(zt)}).sort(function(zt,Qt){return Qt.tileID.overscaledZ-zt.tileID.overscaledZ||(zt.tileID.isLessThan(Qt.tileID)?-1:1)})}var vt=this.crossTileSymbolIndex.addLayer(it,Pe[it.source],G.center.lng);he=he||vt}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((ne=ne||this._layerOrderChanged||q===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(r.browser.now(),G.zoom))&&(this.pauseablePlacement=new en(G,this._order,ne,C,q,$,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Pe),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(r.browser.now()),xe=!0),he&&this.pauseablePlacement.placement.setStale()),xe||he)for(var Mt=0,Ct=this._order;Mt<Ct.length;Mt+=1){var Et=Ct[Mt],jt=this._layers[Et];jt.type==="symbol"&&this.placement.updateLayerOpacities(jt,Pe[jt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(r.browser.now())},Y.prototype._releaseSymbolFadeTiles=function(){for(var G in this.sourceCaches)this.sourceCaches[G].releaseSymbolFadeTiles()},Y.prototype.getImages=function(G,C,q){this.imageManager.getImages(C.icons,q),this._updateTilesForChangedImages();var $=this.sourceCaches[C.source];$&&$.setDependencies(C.tileID.key,C.type,C.icons)},Y.prototype.getGlyphs=function(G,C,q){this.glyphManager.getGlyphs(C.stacks,q)},Y.prototype.getResource=function(G,C,q){return r.makeRequest(C,q)},Y}(r.Evented);nr.getSourceType=function(N){return te[N]},nr.setSourceType=function(N,Y){te[N]=Y},nr.registerForPluginStateChange=r.registerForPluginStateChange;var Qn=r.createLayout([{name:"a_pos",type:"Int16",components:2}]),yr=Di(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),fr=Di(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),gr=Di(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),sr=Di(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),br=Di("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Pr=Di(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),Yr=Di(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),ki=Di("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Ai=Di("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),aa=Di("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),bi=Di(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),Ji=Di(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Ba=Di(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Na=Di(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),Ss=Di(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),qu=Di(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),dl=Di(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),vl=Di(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Nl=Di(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),bo=Di(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),jl=Di(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),Ul=Di(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),Vl=Di(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Go=Di(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),as=Di(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),Es=Di(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function Di(N,Y){var G=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,C=Y.match(/attribute ([\w]+) ([\w]+)/g),q=N.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),$=Y.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ne=$?$.concat(q):q,he={};return{fragmentSource:N=N.replace(G,function(xe,Pe,Fe,qe,Ze){return he[Ze]=!0,Pe==="define"?`
#ifndef HAS_UNIFORM_u_`+Ze+`
varying `+Fe+" "+qe+" "+Ze+`;
#else
uniform `+Fe+" "+qe+" u_"+Ze+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+Ze+`
    `+Fe+" "+qe+" "+Ze+" = u_"+Ze+`;
#endif
`}),vertexSource:Y=Y.replace(G,function(xe,Pe,Fe,qe,Ze){var it=qe==="float"?"vec2":"vec4",pt=Ze.match(/color/)?"color":it;return he[Ze]?Pe==="define"?`
#ifndef HAS_UNIFORM_u_`+Ze+`
uniform lowp float u_`+Ze+`_t;
attribute `+Fe+" "+it+" a_"+Ze+`;
varying `+Fe+" "+qe+" "+Ze+`;
#else
uniform `+Fe+" "+qe+" u_"+Ze+`;
#endif
`:pt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+Ze+`
    `+Ze+" = a_"+Ze+`;
#else
    `+Fe+" "+qe+" "+Ze+" = u_"+Ze+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+Ze+`
    `+Ze+" = unpack_mix_"+pt+"(a_"+Ze+", u_"+Ze+`_t);
#else
    `+Fe+" "+qe+" "+Ze+" = u_"+Ze+`;
#endif
`:Pe==="define"?`
#ifndef HAS_UNIFORM_u_`+Ze+`
uniform lowp float u_`+Ze+`_t;
attribute `+Fe+" "+it+" a_"+Ze+`;
#else
uniform `+Fe+" "+qe+" u_"+Ze+`;
#endif
`:pt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+Ze+`
    `+Fe+" "+qe+" "+Ze+" = a_"+Ze+`;
#else
    `+Fe+" "+qe+" "+Ze+" = u_"+Ze+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+Ze+`
    `+Fe+" "+qe+" "+Ze+" = unpack_mix_"+pt+"(a_"+Ze+", u_"+Ze+`_t);
#else
    `+Fe+" "+qe+" "+Ze+" = u_"+Ze+`;
#endif
`}),staticAttributes:C,staticUniforms:ne}}var ca=Object.freeze({__proto__:null,prelude:yr,background:fr,backgroundPattern:gr,circle:sr,clippingMask:br,heatmap:Pr,heatmapTexture:Yr,collisionBox:ki,collisionCircle:Ai,debug:aa,fill:bi,fillOutline:Ji,fillOutlinePattern:Ba,fillPattern:Na,fillExtrusion:Ss,fillExtrusionPattern:qu,hillshadePrepare:dl,hillshade:vl,line:Nl,lineGradient:bo,linePattern:jl,lineSDF:Ul,raster:Vl,symbolIcon:Go,symbolSDF:as,symbolTextAndIcon:Es}),Yo=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function Io(N){for(var Y=[],G=0;G<N.length;G++)if(N[G]!==null){var C=N[G].split(" ");Y.push(C.pop())}return Y}Yo.prototype.bind=function(N,Y,G,C,q,$,ne,he){this.context=N;for(var xe=this.boundPaintVertexBuffers.length!==C.length,Pe=0;!xe&&Pe<C.length;Pe++)this.boundPaintVertexBuffers[Pe]!==C[Pe]&&(xe=!0);var Fe=!this.vao||this.boundProgram!==Y||this.boundLayoutVertexBuffer!==G||xe||this.boundIndexBuffer!==q||this.boundVertexOffset!==$||this.boundDynamicVertexBuffer!==ne||this.boundDynamicVertexBuffer2!==he;!N.extVertexArrayObject||Fe?this.freshBind(Y,G,C,q,$,ne,he):(N.bindVertexArrayOES.set(this.vao),ne&&ne.bind(),q&&q.dynamicDraw&&q.bind(),he&&he.bind())},Yo.prototype.freshBind=function(N,Y,G,C,q,$,ne){var he,xe=N.numAttributes,Pe=this.context,Fe=Pe.gl;if(Pe.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Pe.extVertexArrayObject.createVertexArrayOES(),Pe.bindVertexArrayOES.set(this.vao),he=0,this.boundProgram=N,this.boundLayoutVertexBuffer=Y,this.boundPaintVertexBuffers=G,this.boundIndexBuffer=C,this.boundVertexOffset=q,this.boundDynamicVertexBuffer=$,this.boundDynamicVertexBuffer2=ne;else{he=Pe.currentNumAttributes||0;for(var qe=xe;qe<he;qe++)Fe.disableVertexAttribArray(qe)}Y.enableAttributes(Fe,N);for(var Ze=0,it=G;Ze<it.length;Ze+=1)it[Ze].enableAttributes(Fe,N);$&&$.enableAttributes(Fe,N),ne&&ne.enableAttributes(Fe,N),Y.bind(),Y.setVertexAttribPointers(Fe,N,q);for(var pt=0,vt=G;pt<vt.length;pt+=1){var Mt=vt[pt];Mt.bind(),Mt.setVertexAttribPointers(Fe,N,q)}$&&($.bind(),$.setVertexAttribPointers(Fe,N,q)),C&&C.bind(),ne&&(ne.bind(),ne.setVertexAttribPointers(Fe,N,q)),Pe.currentNumAttributes=xe},Yo.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var _o=function(N,Y,G,C,q,$){var ne=N.gl;this.program=ne.createProgram();for(var he=Io(G.staticAttributes),xe=C?C.getBinderAttributes():[],Pe=he.concat(xe),Fe=G.staticUniforms?Io(G.staticUniforms):[],qe=C?C.getBinderUniforms():[],Ze=[],it=0,pt=Fe.concat(qe);it<pt.length;it+=1){var vt=pt[it];Ze.indexOf(vt)<0&&Ze.push(vt)}var Mt=C?C.defines():[];$&&Mt.push("#define OVERDRAW_INSPECTOR;");var Ct=Mt.concat(yr.fragmentSource,G.fragmentSource).join(`
`),Et=Mt.concat(yr.vertexSource,G.vertexSource).join(`
`),jt=ne.createShader(ne.FRAGMENT_SHADER);if(ne.isContextLost())this.failedToCreate=!0;else{ne.shaderSource(jt,Ct),ne.compileShader(jt),ne.attachShader(this.program,jt);var zt=ne.createShader(ne.VERTEX_SHADER);if(ne.isContextLost())this.failedToCreate=!0;else{ne.shaderSource(zt,Et),ne.compileShader(zt),ne.attachShader(this.program,zt),this.attributes={};var Qt={};this.numAttributes=Pe.length;for(var Wt=0;Wt<this.numAttributes;Wt++)Pe[Wt]&&(ne.bindAttribLocation(this.program,Wt,Pe[Wt]),this.attributes[Pe[Wt]]=Wt);ne.linkProgram(this.program),ne.deleteShader(zt),ne.deleteShader(jt);for(var Vt=0;Vt<Ze.length;Vt++){var gn=Ze[Vt];if(gn&&!Qt[gn]){var xn=ne.getUniformLocation(this.program,gn);xn&&(Qt[gn]=xn)}}this.fixedUniforms=q(N,Qt),this.binderUniforms=C?C.getUniforms(N,Qt):[]}}};function os(N,Y,G){var C=1/$n(G,1,Y.transform.tileZoom),q=Math.pow(2,G.tileID.overscaledZ),$=G.tileSize*Math.pow(2,Y.transform.tileZoom)/q,ne=$*(G.tileID.canonical.x+G.tileID.wrap*q),he=$*G.tileID.canonical.y;return{u_image:0,u_texsize:G.imageAtlasTexture.size,u_scale:[C,N.fromScale,N.toScale],u_fade:N.t,u_pixel_coord_upper:[ne>>16,he>>16],u_pixel_coord_lower:[65535&ne,65535&he]}}_o.prototype.draw=function(N,Y,G,C,q,$,ne,he,xe,Pe,Fe,qe,Ze,it,pt,vt){var Mt,Ct=N.gl;if(!this.failedToCreate){for(var Et in N.program.set(this.program),N.setDepthMode(G),N.setStencilMode(C),N.setColorMode(q),N.setCullFace($),this.fixedUniforms)this.fixedUniforms[Et].set(ne[Et]);it&&it.setUniforms(N,this.binderUniforms,qe,{zoom:Ze});for(var jt=(Mt={},Mt[Ct.LINES]=2,Mt[Ct.TRIANGLES]=3,Mt[Ct.LINE_STRIP]=1,Mt)[Y],zt=0,Qt=Fe.get();zt<Qt.length;zt+=1){var Wt=Qt[zt],Vt=Wt.vaos||(Wt.vaos={});(Vt[he]||(Vt[he]=new Yo)).bind(N,this,xe,it?it.getPaintVertexBuffers():[],Pe,Wt.vertexOffset,pt,vt),Ct.drawElements(Y,Wt.primitiveLength*jt,Ct.UNSIGNED_SHORT,Wt.primitiveOffset*jt*2)}}};var Do=function(N,Y,G,C){var q=Y.style.light,$=q.properties.get("position"),ne=[$.x,$.y,$.z],he=r.create$1();q.properties.get("anchor")==="viewport"&&r.fromRotation(he,-Y.transform.angle),r.transformMat3(ne,ne,he);var xe=q.properties.get("color");return{u_matrix:N,u_lightpos:ne,u_lightintensity:q.properties.get("intensity"),u_lightcolor:[xe.r,xe.g,xe.b],u_vertical_gradient:+G,u_opacity:C}},ss=function(N,Y,G,C,q,$,ne){return r.extend(Do(N,Y,G,C),os($,Y,ne),{u_height_factor:-Math.pow(2,q.overscaledZ)/ne.tileSize/8})},Wo=function(N){return{u_matrix:N}},ls=function(N,Y,G,C){return r.extend(Wo(N),os(G,Y,C))},zo=function(N,Y){return{u_matrix:N,u_world:Y}},su=function(N,Y,G,C,q){return r.extend(ls(N,Y,G,C),{u_world:q})},Hl=function(N,Y,G,C){var q,$,ne=N.transform;if(C.paint.get("circle-pitch-alignment")==="map"){var he=$n(G,1,ne.zoom);q=!0,$=[he,he]}else q=!1,$=ne.pixelsToGLUnits;return{u_camera_to_center_distance:ne.cameraToCenterDistance,u_scale_with_map:+(C.paint.get("circle-pitch-scale")==="map"),u_matrix:N.translatePosMatrix(Y.posMatrix,G,C.paint.get("circle-translate"),C.paint.get("circle-translate-anchor")),u_pitch_with_map:+q,u_device_pixel_ratio:r.browser.devicePixelRatio,u_extrude_scale:$}},Ls=function(N,Y,G){var C=$n(G,1,Y.zoom),q=Math.pow(2,Y.zoom-G.tileID.overscaledZ),$=G.tileID.overscaleFactor();return{u_matrix:N,u_camera_to_center_distance:Y.cameraToCenterDistance,u_pixels_to_tile_units:C,u_extrude_scale:[Y.pixelsToGLUnits[0]/(C*q),Y.pixelsToGLUnits[1]/(C*q)],u_overscale_factor:$}},Eu=function(N,Y,G){return{u_matrix:N,u_inv_matrix:Y,u_camera_to_center_distance:G.cameraToCenterDistance,u_viewport_size:[G.width,G.height]}},Lu=function(N,Y,G){return G===void 0&&(G=1),{u_matrix:N,u_color:Y,u_overlay:0,u_overlay_scale:G}},Cs=function(N){return{u_matrix:N}},Cu=function(N,Y,G,C){return{u_matrix:N,u_extrude_scale:$n(Y,1,G),u_intensity:C}},Gu=function(N,Y,G,C){var q=r.create();r.ortho(q,0,N.width,N.height,0,0,1);var $=N.context.gl;return{u_matrix:q,u_world:[$.drawingBufferWidth,$.drawingBufferHeight],u_image:G,u_color_ramp:C,u_opacity:Y.paint.get("heatmap-opacity")}},Yu=function(N,Y,G){var C=G.paint.get("hillshade-shadow-color"),q=G.paint.get("hillshade-highlight-color"),$=G.paint.get("hillshade-accent-color"),ne=G.paint.get("hillshade-illumination-direction")*(Math.PI/180);G.paint.get("hillshade-illumination-anchor")==="viewport"&&(ne-=N.transform.angle);var he,xe,Pe,Fe=!N.options.moving;return{u_matrix:N.transform.calculatePosMatrix(Y.tileID.toUnwrapped(),Fe),u_image:0,u_latrange:(he=Y.tileID,xe=Math.pow(2,he.canonical.z),Pe=he.canonical.y,[new r.MercatorCoordinate(0,Pe/xe).toLngLat().lat,new r.MercatorCoordinate(0,(Pe+1)/xe).toLngLat().lat]),u_light:[G.paint.get("hillshade-exaggeration"),ne],u_shadow:C,u_highlight:q,u_accent:$}},Os=function(N,Y){var G=Y.stride,C=r.create();return r.ortho(C,0,r.EXTENT,-r.EXTENT,0,0,1),r.translate(C,C,[0,-r.EXTENT,0]),{u_matrix:C,u_image:1,u_dimension:[G,G],u_zoom:N.overscaledZ,u_unpack:Y.getUnpackVector()}},Ro=function(N,Y,G){var C=N.transform;return{u_matrix:wo(N,Y,G),u_ratio:1/$n(Y,1,C.zoom),u_device_pixel_ratio:r.browser.devicePixelRatio,u_units_to_pixels:[1/C.pixelsToGLUnits[0],1/C.pixelsToGLUnits[1]]}},Ws=function(N,Y,G,C){return r.extend(Ro(N,Y,G),{u_image:0,u_image_height:C})},Ps=function(N,Y,G,C){var q=N.transform,$=Is(Y,q);return{u_matrix:wo(N,Y,G),u_texsize:Y.imageAtlasTexture.size,u_ratio:1/$n(Y,1,q.zoom),u_device_pixel_ratio:r.browser.devicePixelRatio,u_image:0,u_scale:[$,C.fromScale,C.toScale],u_fade:C.t,u_units_to_pixels:[1/q.pixelsToGLUnits[0],1/q.pixelsToGLUnits[1]]}},ml=function(N,Y,G,C,q){var $=N.transform,ne=N.lineAtlas,he=Is(Y,$),xe=G.layout.get("line-cap")==="round",Pe=ne.getDash(C.from,xe),Fe=ne.getDash(C.to,xe),qe=Pe.width*q.fromScale,Ze=Fe.width*q.toScale;return r.extend(Ro(N,Y,G),{u_patternscale_a:[he/qe,-Pe.height/2],u_patternscale_b:[he/Ze,-Fe.height/2],u_sdfgamma:ne.width/(256*Math.min(qe,Ze)*r.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Pe.y,u_tex_y_b:Fe.y,u_mix:q.t})};function Is(N,Y){return 1/$n(N,1,Y.tileZoom)}function wo(N,Y,G){return N.translatePosMatrix(Y.tileID.posMatrix,Y,G.paint.get("line-translate"),G.paint.get("line-translate-anchor"))}var lu=function(N,Y,G,C,q){return{u_matrix:N,u_tl_parent:Y,u_scale_parent:G,u_buffer_scale:1,u_fade_t:C.mix,u_opacity:C.opacity*q.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:q.paint.get("raster-brightness-min"),u_brightness_high:q.paint.get("raster-brightness-max"),u_saturation_factor:(ne=q.paint.get("raster-saturation"),ne>0?1-1/(1.001-ne):-ne),u_contrast_factor:($=q.paint.get("raster-contrast"),$>0?1/(1-$):1+$),u_spin_weights:us(q.paint.get("raster-hue-rotate"))};var $,ne};function us(N){N*=Math.PI/180;var Y=Math.sin(N),G=Math.cos(N);return[(2*G+1)/3,(-Math.sqrt(3)*Y-G+1)/3,(Math.sqrt(3)*Y-G+1)/3]}var Zo,Xo=function(N,Y,G,C,q,$,ne,he,xe,Pe){var Fe=q.transform;return{u_is_size_zoom_constant:+(N==="constant"||N==="source"),u_is_size_feature_constant:+(N==="constant"||N==="camera"),u_size_t:Y?Y.uSizeT:0,u_size:Y?Y.uSize:0,u_camera_to_center_distance:Fe.cameraToCenterDistance,u_pitch:Fe.pitch/360*2*Math.PI,u_rotate_symbol:+G,u_aspect_ratio:Fe.width/Fe.height,u_fade_change:q.options.fadeDuration?q.symbolFadeChange:1,u_matrix:$,u_label_plane_matrix:ne,u_coord_matrix:he,u_is_text:+xe,u_pitch_with_map:+C,u_texsize:Pe,u_texture:0}},cs=function(N,Y,G,C,q,$,ne,he,xe,Pe,Fe){var qe=q.transform;return r.extend(Xo(N,Y,G,C,q,$,ne,he,xe,Pe),{u_gamma_scale:C?Math.cos(qe._pitch)*qe.cameraToCenterDistance:1,u_device_pixel_ratio:r.browser.devicePixelRatio,u_is_halo:+Fe})},ri=function(N,Y,G,C,q,$,ne,he,xe,Pe){return r.extend(cs(N,Y,G,C,q,$,ne,he,!0,xe,!0),{u_texsize_icon:Pe,u_texture_icon:1})},Zs=function(N,Y,G){return{u_matrix:N,u_opacity:Y,u_color:G}},Wu=function(N,Y,G,C,q,$){return r.extend(function(ne,he,xe,Pe){var Fe=xe.imageManager.getPattern(ne.from.toString()),qe=xe.imageManager.getPattern(ne.to.toString()),Ze=xe.imageManager.getPixelSize(),it=Ze.width,pt=Ze.height,vt=Math.pow(2,Pe.tileID.overscaledZ),Mt=Pe.tileSize*Math.pow(2,xe.transform.tileZoom)/vt,Ct=Mt*(Pe.tileID.canonical.x+Pe.tileID.wrap*vt),Et=Mt*Pe.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Fe.tl,u_pattern_br_a:Fe.br,u_pattern_tl_b:qe.tl,u_pattern_br_b:qe.br,u_texsize:[it,pt],u_mix:he.t,u_pattern_size_a:Fe.displaySize,u_pattern_size_b:qe.displaySize,u_scale_a:he.fromScale,u_scale_b:he.toScale,u_tile_units_to_pixels:1/$n(Pe,1,xe.transform.tileZoom),u_pixel_coord_upper:[Ct>>16,Et>>16],u_pixel_coord_lower:[65535&Ct,65535&Et]}}(C,$,G,q),{u_matrix:N,u_opacity:Y})},ql={fillExtrusion:function(N,Y){return{u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_lightpos:new r.Uniform3f(N,Y.u_lightpos),u_lightintensity:new r.Uniform1f(N,Y.u_lightintensity),u_lightcolor:new r.Uniform3f(N,Y.u_lightcolor),u_vertical_gradient:new r.Uniform1f(N,Y.u_vertical_gradient),u_opacity:new r.Uniform1f(N,Y.u_opacity)}},fillExtrusionPattern:function(N,Y){return{u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_lightpos:new r.Uniform3f(N,Y.u_lightpos),u_lightintensity:new r.Uniform1f(N,Y.u_lightintensity),u_lightcolor:new r.Uniform3f(N,Y.u_lightcolor),u_vertical_gradient:new r.Uniform1f(N,Y.u_vertical_gradient),u_height_factor:new r.Uniform1f(N,Y.u_height_factor),u_image:new r.Uniform1i(N,Y.u_image),u_texsize:new r.Uniform2f(N,Y.u_texsize),u_pixel_coord_upper:new r.Uniform2f(N,Y.u_pixel_coord_upper),u_pixel_coord_lower:new r.Uniform2f(N,Y.u_pixel_coord_lower),u_scale:new r.Uniform3f(N,Y.u_scale),u_fade:new r.Uniform1f(N,Y.u_fade),u_opacity:new r.Uniform1f(N,Y.u_opacity)}},fill:function(N,Y){return{u_matrix:new r.UniformMatrix4f(N,Y.u_matrix)}},fillPattern:function(N,Y){return{u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_image:new r.Uniform1i(N,Y.u_image),u_texsize:new r.Uniform2f(N,Y.u_texsize),u_pixel_coord_upper:new r.Uniform2f(N,Y.u_pixel_coord_upper),u_pixel_coord_lower:new r.Uniform2f(N,Y.u_pixel_coord_lower),u_scale:new r.Uniform3f(N,Y.u_scale),u_fade:new r.Uniform1f(N,Y.u_fade)}},fillOutline:function(N,Y){return{u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_world:new r.Uniform2f(N,Y.u_world)}},fillOutlinePattern:function(N,Y){return{u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_world:new r.Uniform2f(N,Y.u_world),u_image:new r.Uniform1i(N,Y.u_image),u_texsize:new r.Uniform2f(N,Y.u_texsize),u_pixel_coord_upper:new r.Uniform2f(N,Y.u_pixel_coord_upper),u_pixel_coord_lower:new r.Uniform2f(N,Y.u_pixel_coord_lower),u_scale:new r.Uniform3f(N,Y.u_scale),u_fade:new r.Uniform1f(N,Y.u_fade)}},circle:function(N,Y){return{u_camera_to_center_distance:new r.Uniform1f(N,Y.u_camera_to_center_distance),u_scale_with_map:new r.Uniform1i(N,Y.u_scale_with_map),u_pitch_with_map:new r.Uniform1i(N,Y.u_pitch_with_map),u_extrude_scale:new r.Uniform2f(N,Y.u_extrude_scale),u_device_pixel_ratio:new r.Uniform1f(N,Y.u_device_pixel_ratio),u_matrix:new r.UniformMatrix4f(N,Y.u_matrix)}},collisionBox:function(N,Y){return{u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_camera_to_center_distance:new r.Uniform1f(N,Y.u_camera_to_center_distance),u_pixels_to_tile_units:new r.Uniform1f(N,Y.u_pixels_to_tile_units),u_extrude_scale:new r.Uniform2f(N,Y.u_extrude_scale),u_overscale_factor:new r.Uniform1f(N,Y.u_overscale_factor)}},collisionCircle:function(N,Y){return{u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_inv_matrix:new r.UniformMatrix4f(N,Y.u_inv_matrix),u_camera_to_center_distance:new r.Uniform1f(N,Y.u_camera_to_center_distance),u_viewport_size:new r.Uniform2f(N,Y.u_viewport_size)}},debug:function(N,Y){return{u_color:new r.UniformColor(N,Y.u_color),u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_overlay:new r.Uniform1i(N,Y.u_overlay),u_overlay_scale:new r.Uniform1f(N,Y.u_overlay_scale)}},clippingMask:function(N,Y){return{u_matrix:new r.UniformMatrix4f(N,Y.u_matrix)}},heatmap:function(N,Y){return{u_extrude_scale:new r.Uniform1f(N,Y.u_extrude_scale),u_intensity:new r.Uniform1f(N,Y.u_intensity),u_matrix:new r.UniformMatrix4f(N,Y.u_matrix)}},heatmapTexture:function(N,Y){return{u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_world:new r.Uniform2f(N,Y.u_world),u_image:new r.Uniform1i(N,Y.u_image),u_color_ramp:new r.Uniform1i(N,Y.u_color_ramp),u_opacity:new r.Uniform1f(N,Y.u_opacity)}},hillshade:function(N,Y){return{u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_image:new r.Uniform1i(N,Y.u_image),u_latrange:new r.Uniform2f(N,Y.u_latrange),u_light:new r.Uniform2f(N,Y.u_light),u_shadow:new r.UniformColor(N,Y.u_shadow),u_highlight:new r.UniformColor(N,Y.u_highlight),u_accent:new r.UniformColor(N,Y.u_accent)}},hillshadePrepare:function(N,Y){return{u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_image:new r.Uniform1i(N,Y.u_image),u_dimension:new r.Uniform2f(N,Y.u_dimension),u_zoom:new r.Uniform1f(N,Y.u_zoom),u_unpack:new r.Uniform4f(N,Y.u_unpack)}},line:function(N,Y){return{u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_ratio:new r.Uniform1f(N,Y.u_ratio),u_device_pixel_ratio:new r.Uniform1f(N,Y.u_device_pixel_ratio),u_units_to_pixels:new r.Uniform2f(N,Y.u_units_to_pixels)}},lineGradient:function(N,Y){return{u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_ratio:new r.Uniform1f(N,Y.u_ratio),u_device_pixel_ratio:new r.Uniform1f(N,Y.u_device_pixel_ratio),u_units_to_pixels:new r.Uniform2f(N,Y.u_units_to_pixels),u_image:new r.Uniform1i(N,Y.u_image),u_image_height:new r.Uniform1f(N,Y.u_image_height)}},linePattern:function(N,Y){return{u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_texsize:new r.Uniform2f(N,Y.u_texsize),u_ratio:new r.Uniform1f(N,Y.u_ratio),u_device_pixel_ratio:new r.Uniform1f(N,Y.u_device_pixel_ratio),u_image:new r.Uniform1i(N,Y.u_image),u_units_to_pixels:new r.Uniform2f(N,Y.u_units_to_pixels),u_scale:new r.Uniform3f(N,Y.u_scale),u_fade:new r.Uniform1f(N,Y.u_fade)}},lineSDF:function(N,Y){return{u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_ratio:new r.Uniform1f(N,Y.u_ratio),u_device_pixel_ratio:new r.Uniform1f(N,Y.u_device_pixel_ratio),u_units_to_pixels:new r.Uniform2f(N,Y.u_units_to_pixels),u_patternscale_a:new r.Uniform2f(N,Y.u_patternscale_a),u_patternscale_b:new r.Uniform2f(N,Y.u_patternscale_b),u_sdfgamma:new r.Uniform1f(N,Y.u_sdfgamma),u_image:new r.Uniform1i(N,Y.u_image),u_tex_y_a:new r.Uniform1f(N,Y.u_tex_y_a),u_tex_y_b:new r.Uniform1f(N,Y.u_tex_y_b),u_mix:new r.Uniform1f(N,Y.u_mix)}},raster:function(N,Y){return{u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_tl_parent:new r.Uniform2f(N,Y.u_tl_parent),u_scale_parent:new r.Uniform1f(N,Y.u_scale_parent),u_buffer_scale:new r.Uniform1f(N,Y.u_buffer_scale),u_fade_t:new r.Uniform1f(N,Y.u_fade_t),u_opacity:new r.Uniform1f(N,Y.u_opacity),u_image0:new r.Uniform1i(N,Y.u_image0),u_image1:new r.Uniform1i(N,Y.u_image1),u_brightness_low:new r.Uniform1f(N,Y.u_brightness_low),u_brightness_high:new r.Uniform1f(N,Y.u_brightness_high),u_saturation_factor:new r.Uniform1f(N,Y.u_saturation_factor),u_contrast_factor:new r.Uniform1f(N,Y.u_contrast_factor),u_spin_weights:new r.Uniform3f(N,Y.u_spin_weights)}},symbolIcon:function(N,Y){return{u_is_size_zoom_constant:new r.Uniform1i(N,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new r.Uniform1i(N,Y.u_is_size_feature_constant),u_size_t:new r.Uniform1f(N,Y.u_size_t),u_size:new r.Uniform1f(N,Y.u_size),u_camera_to_center_distance:new r.Uniform1f(N,Y.u_camera_to_center_distance),u_pitch:new r.Uniform1f(N,Y.u_pitch),u_rotate_symbol:new r.Uniform1i(N,Y.u_rotate_symbol),u_aspect_ratio:new r.Uniform1f(N,Y.u_aspect_ratio),u_fade_change:new r.Uniform1f(N,Y.u_fade_change),u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_label_plane_matrix:new r.UniformMatrix4f(N,Y.u_label_plane_matrix),u_coord_matrix:new r.UniformMatrix4f(N,Y.u_coord_matrix),u_is_text:new r.Uniform1i(N,Y.u_is_text),u_pitch_with_map:new r.Uniform1i(N,Y.u_pitch_with_map),u_texsize:new r.Uniform2f(N,Y.u_texsize),u_texture:new r.Uniform1i(N,Y.u_texture)}},symbolSDF:function(N,Y){return{u_is_size_zoom_constant:new r.Uniform1i(N,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new r.Uniform1i(N,Y.u_is_size_feature_constant),u_size_t:new r.Uniform1f(N,Y.u_size_t),u_size:new r.Uniform1f(N,Y.u_size),u_camera_to_center_distance:new r.Uniform1f(N,Y.u_camera_to_center_distance),u_pitch:new r.Uniform1f(N,Y.u_pitch),u_rotate_symbol:new r.Uniform1i(N,Y.u_rotate_symbol),u_aspect_ratio:new r.Uniform1f(N,Y.u_aspect_ratio),u_fade_change:new r.Uniform1f(N,Y.u_fade_change),u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_label_plane_matrix:new r.UniformMatrix4f(N,Y.u_label_plane_matrix),u_coord_matrix:new r.UniformMatrix4f(N,Y.u_coord_matrix),u_is_text:new r.Uniform1i(N,Y.u_is_text),u_pitch_with_map:new r.Uniform1i(N,Y.u_pitch_with_map),u_texsize:new r.Uniform2f(N,Y.u_texsize),u_texture:new r.Uniform1i(N,Y.u_texture),u_gamma_scale:new r.Uniform1f(N,Y.u_gamma_scale),u_device_pixel_ratio:new r.Uniform1f(N,Y.u_device_pixel_ratio),u_is_halo:new r.Uniform1i(N,Y.u_is_halo)}},symbolTextAndIcon:function(N,Y){return{u_is_size_zoom_constant:new r.Uniform1i(N,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new r.Uniform1i(N,Y.u_is_size_feature_constant),u_size_t:new r.Uniform1f(N,Y.u_size_t),u_size:new r.Uniform1f(N,Y.u_size),u_camera_to_center_distance:new r.Uniform1f(N,Y.u_camera_to_center_distance),u_pitch:new r.Uniform1f(N,Y.u_pitch),u_rotate_symbol:new r.Uniform1i(N,Y.u_rotate_symbol),u_aspect_ratio:new r.Uniform1f(N,Y.u_aspect_ratio),u_fade_change:new r.Uniform1f(N,Y.u_fade_change),u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_label_plane_matrix:new r.UniformMatrix4f(N,Y.u_label_plane_matrix),u_coord_matrix:new r.UniformMatrix4f(N,Y.u_coord_matrix),u_is_text:new r.Uniform1i(N,Y.u_is_text),u_pitch_with_map:new r.Uniform1i(N,Y.u_pitch_with_map),u_texsize:new r.Uniform2f(N,Y.u_texsize),u_texsize_icon:new r.Uniform2f(N,Y.u_texsize_icon),u_texture:new r.Uniform1i(N,Y.u_texture),u_texture_icon:new r.Uniform1i(N,Y.u_texture_icon),u_gamma_scale:new r.Uniform1f(N,Y.u_gamma_scale),u_device_pixel_ratio:new r.Uniform1f(N,Y.u_device_pixel_ratio),u_is_halo:new r.Uniform1i(N,Y.u_is_halo)}},background:function(N,Y){return{u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_opacity:new r.Uniform1f(N,Y.u_opacity),u_color:new r.UniformColor(N,Y.u_color)}},backgroundPattern:function(N,Y){return{u_matrix:new r.UniformMatrix4f(N,Y.u_matrix),u_opacity:new r.Uniform1f(N,Y.u_opacity),u_image:new r.Uniform1i(N,Y.u_image),u_pattern_tl_a:new r.Uniform2f(N,Y.u_pattern_tl_a),u_pattern_br_a:new r.Uniform2f(N,Y.u_pattern_br_a),u_pattern_tl_b:new r.Uniform2f(N,Y.u_pattern_tl_b),u_pattern_br_b:new r.Uniform2f(N,Y.u_pattern_br_b),u_texsize:new r.Uniform2f(N,Y.u_texsize),u_mix:new r.Uniform1f(N,Y.u_mix),u_pattern_size_a:new r.Uniform2f(N,Y.u_pattern_size_a),u_pattern_size_b:new r.Uniform2f(N,Y.u_pattern_size_b),u_scale_a:new r.Uniform1f(N,Y.u_scale_a),u_scale_b:new r.Uniform1f(N,Y.u_scale_b),u_pixel_coord_upper:new r.Uniform2f(N,Y.u_pixel_coord_upper),u_pixel_coord_lower:new r.Uniform2f(N,Y.u_pixel_coord_lower),u_tile_units_to_pixels:new r.Uniform1f(N,Y.u_tile_units_to_pixels)}}};function Xs(N,Y,G,C,q,$,ne){for(var he=N.context,xe=he.gl,Pe=N.useProgram("collisionBox"),Fe=[],qe=0,Ze=0,it=0;it<C.length;it++){var pt=C[it],vt=Y.getTile(pt),Mt=vt.getBucket(G);if(Mt){var Ct=pt.posMatrix;q[0]===0&&q[1]===0||(Ct=N.translatePosMatrix(pt.posMatrix,vt,q,$));var Et=ne?Mt.textCollisionBox:Mt.iconCollisionBox,jt=Mt.collisionCircleArray;if(jt.length>0){var zt=r.create(),Qt=Ct;r.mul(zt,Mt.placementInvProjMatrix,N.transform.glCoordMatrix),r.mul(zt,zt,Mt.placementViewportMatrix),Fe.push({circleArray:jt,circleOffset:Ze,transform:Qt,invTransform:zt}),Ze=qe+=jt.length/4}Et&&Pe.draw(he,xe.LINES,Ft.disabled,Xe.disabled,N.colorModeForRenderPass(),Ve.disabled,Ls(Ct,N.transform,vt),G.id,Et.layoutVertexBuffer,Et.indexBuffer,Et.segments,null,N.transform.zoom,null,null,Et.collisionVertexBuffer)}}if(ne&&Fe.length){var Wt=N.useProgram("collisionCircle"),Vt=new r.StructArrayLayout2f1f2i16;Vt.resize(4*qe),Vt._trim();for(var gn=0,xn=0,On=Fe;xn<On.length;xn+=1)for(var Dn=On[xn],Wn=0;Wn<Dn.circleArray.length/4;Wn++){var ar=4*Wn,vr=Dn.circleArray[ar+0],Jn=Dn.circleArray[ar+1],dr=Dn.circleArray[ar+2],kr=Dn.circleArray[ar+3];Vt.emplace(gn++,vr,Jn,dr,kr,0),Vt.emplace(gn++,vr,Jn,dr,kr,1),Vt.emplace(gn++,vr,Jn,dr,kr,2),Vt.emplace(gn++,vr,Jn,dr,kr,3)}(!Zo||Zo.length<2*qe)&&(Zo=function(jr){var Xr=2*jr,Kr=new r.StructArrayLayout3ui6;Kr.resize(Xr),Kr._trim();for(var ni=0;ni<Xr;ni++){var ai=6*ni;Kr.uint16[ai+0]=4*ni+0,Kr.uint16[ai+1]=4*ni+1,Kr.uint16[ai+2]=4*ni+2,Kr.uint16[ai+3]=4*ni+2,Kr.uint16[ai+4]=4*ni+3,Kr.uint16[ai+5]=4*ni+0}return Kr}(qe));for(var Rr=he.createIndexBuffer(Zo,!0),rr=he.createVertexBuffer(Vt,r.collisionCircleLayout.members,!0),pr=0,Er=Fe;pr<Er.length;pr+=1){var mr=Er[pr],Dr=Eu(mr.transform,mr.invTransform,N.transform);Wt.draw(he,xe.TRIANGLES,Ft.disabled,Xe.disabled,N.colorModeForRenderPass(),Ve.disabled,Dr,G.id,rr,Rr,r.SegmentVector.simpleSegment(0,2*mr.circleOffset,mr.circleArray.length,mr.circleArray.length/2),null,N.transform.zoom,null,null,null)}rr.destroy(),Rr.destroy()}}var Ou=r.identity(new Float32Array(16));function Zu(N,Y,G,C,q,$){var ne=r.getAnchorAlignment(N),he=-(ne.horizontalAlign-.5)*Y,xe=-(ne.verticalAlign-.5)*G,Pe=r.evaluateVariableOffset(N,C);return new r.Point((he/q+Pe[0])*$,(xe/q+Pe[1])*$)}function Gl(N,Y,G,C,q,$,ne,he,xe,Pe,Fe){var qe=N.text.placedSymbolArray,Ze=N.text.dynamicLayoutVertexArray,it=N.icon.dynamicLayoutVertexArray,pt={};Ze.clear();for(var vt=0;vt<qe.length;vt++){var Mt=qe.get(vt),Ct=N.allowVerticalPlacement&&!Mt.placedOrientation,Et=Mt.hidden||!Mt.crossTileID||Ct?null:C[Mt.crossTileID];if(Et){var jt=new r.Point(Mt.anchorX,Mt.anchorY),zt=Kt(jt,G?he:ne),Qt=un($.cameraToCenterDistance,zt.signedDistanceFromCamera),Wt=q.evaluateSizeForFeature(N.textSizeData,Pe,Mt)*Qt/r.ONE_EM;G&&(Wt*=N.tilePixelRatio/xe);for(var Vt=Et.width,gn=Et.height,xn=Zu(Et.anchor,Vt,gn,Et.textOffset,Et.textBoxScale,Wt),On=G?Kt(jt.add(xn),ne).point:zt.point.add(Y?xn.rotate(-$.angle):xn),Dn=N.allowVerticalPlacement&&Mt.placedOrientation===r.WritingMode.vertical?Math.PI/2:0,Wn=0;Wn<Mt.numGlyphs;Wn++)r.addDynamicAttributes(Ze,On,Dn);Fe&&Mt.associatedIconIndex>=0&&(pt[Mt.associatedIconIndex]={shiftedAnchor:On,angle:Dn})}else Nn(Mt.numGlyphs,Ze)}if(Fe){it.clear();for(var ar=N.icon.placedSymbolArray,vr=0;vr<ar.length;vr++){var Jn=ar.get(vr);if(Jn.hidden)Nn(Jn.numGlyphs,it);else{var dr=pt[vr];if(dr)for(var kr=0;kr<Jn.numGlyphs;kr++)r.addDynamicAttributes(it,dr.shiftedAnchor,dr.angle);else Nn(Jn.numGlyphs,it)}}N.icon.dynamicLayoutVertexBuffer.updateData(it)}N.text.dynamicLayoutVertexBuffer.updateData(Ze)}function Xu(N,Y,G){return G.iconsInText&&Y?"symbolTextAndIcon":N?"symbolSDF":"symbolIcon"}function fs(N,Y,G,C,q,$,ne,he,xe,Pe,Fe,qe){for(var Ze=N.context,it=Ze.gl,pt=N.transform,vt=he==="map",Mt=xe==="map",Ct=vt&&G.layout.get("symbol-placement")!=="point",Et=vt&&!Mt&&!Ct,jt=G.layout.get("symbol-sort-key").constantOr(1)!==void 0,zt=!1,Qt=N.depthModeForSublayer(0,Ft.ReadOnly),Wt=G.layout.get("text-variable-anchor"),Vt=[],gn=0,xn=C;gn<xn.length;gn+=1){var On=xn[gn],Dn=Y.getTile(On),Wn=Dn.getBucket(G);if(Wn){var ar=q?Wn.text:Wn.icon;if(ar&&ar.segments.get().length){var vr=ar.programConfigurations.get(G.id),Jn=q||Wn.sdfIcons,dr=q?Wn.textSizeData:Wn.iconSizeData,kr=Mt||pt.pitch!==0,Rr=N.useProgram(Xu(Jn,q,Wn),vr),rr=r.evaluateSizeForZoom(dr,pt.zoom),pr=void 0,Er=[0,0],mr=void 0,Dr=void 0,jr=null,Xr=void 0;if(q){if(mr=Dn.glyphAtlasTexture,Dr=it.LINEAR,pr=Dn.glyphAtlasTexture.size,Wn.iconsInText){Er=Dn.imageAtlasTexture.size,jr=Dn.imageAtlasTexture;var Kr=dr.kind==="composite"||dr.kind==="camera";Xr=kr||N.options.rotating||N.options.zooming||Kr?it.LINEAR:it.NEAREST}}else{var ni=G.layout.get("icon-size").constantOr(0)!==1||Wn.iconsNeedLinear;mr=Dn.imageAtlasTexture,Dr=Jn||N.options.rotating||N.options.zooming||ni||kr?it.LINEAR:it.NEAREST,pr=Dn.imageAtlasTexture.size}var ai=$n(Dn,1,N.transform.zoom),Li=An(On.posMatrix,Mt,vt,N.transform,ai),Ki=dn(On.posMatrix,Mt,vt,N.transform,ai),Pa=Wt&&Wn.hasTextData(),pa=G.layout.get("icon-text-fit")!=="none"&&Pa&&Wn.hasIconData();Ct&&hn(Wn,On.posMatrix,N,q,Li,Ki,Mt,Pe);var Ma=N.translatePosMatrix(On.posMatrix,Dn,$,ne),Ri=Ct||q&&Wt||pa?Ou:Li,si=N.translatePosMatrix(Ki,Dn,$,ne,!0),Hi=Jn&&G.paint.get(q?"text-halo-width":"icon-halo-width").constantOr(1)!==0,wi={program:Rr,buffers:ar,uniformValues:Jn?Wn.iconsInText?ri(dr.kind,rr,Et,Mt,N,Ma,Ri,si,pr,Er):cs(dr.kind,rr,Et,Mt,N,Ma,Ri,si,q,pr,!0):Xo(dr.kind,rr,Et,Mt,N,Ma,Ri,si,q,pr),atlasTexture:mr,atlasTextureIcon:jr,atlasInterpolation:Dr,atlasInterpolationIcon:Xr,isSDF:Jn,hasHalo:Hi};if(jt&&Wn.canOverlap){zt=!0;for(var hi=0,qi=ar.segments.get();hi<qi.length;hi+=1){var Qi=qi[hi];Vt.push({segments:new r.SegmentVector([Qi]),sortKey:Qi.sortKey,state:wi})}}else Vt.push({segments:ar.segments,sortKey:0,state:wi})}}}zt&&Vt.sort(function(Sl,ts){return Sl.sortKey-ts.sortKey});for(var la=0,al=Vt;la<al.length;la+=1){var ol=al[la],pi=ol.state;if(Ze.activeTexture.set(it.TEXTURE0),pi.atlasTexture.bind(pi.atlasInterpolation,it.CLAMP_TO_EDGE),pi.atlasTextureIcon&&(Ze.activeTexture.set(it.TEXTURE1),pi.atlasTextureIcon&&pi.atlasTextureIcon.bind(pi.atlasInterpolationIcon,it.CLAMP_TO_EDGE)),pi.isSDF){var Jl=pi.uniformValues;pi.hasHalo&&(Jl.u_is_halo=1,Ds(pi.buffers,ol.segments,G,N,pi.program,Qt,Fe,qe,Jl)),Jl.u_is_halo=0}Ds(pi.buffers,ol.segments,G,N,pi.program,Qt,Fe,qe,pi.uniformValues)}}function Ds(N,Y,G,C,q,$,ne,he,xe){var Pe=C.context,Fe=Pe.gl;q.draw(Pe,Fe.TRIANGLES,$,ne,he,Ve.disabled,xe,G.id,N.layoutVertexBuffer,N.indexBuffer,Y,G.paint,C.transform.zoom,N.programConfigurations.get(G.id),N.dynamicLayoutVertexBuffer,N.opacityVertexBuffer)}function Jo(N,Y,G,C,q,$,ne){var he,xe,Pe,Fe,qe,Ze=N.context.gl,it=G.paint.get("fill-pattern"),pt=it&&it.constantOr(1),vt=G.getCrossfadeParameters();ne?(xe=pt&&!G.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",he=Ze.LINES):(xe=pt?"fillPattern":"fill",he=Ze.TRIANGLES);for(var Mt=0,Ct=C;Mt<Ct.length;Mt+=1){var Et=Ct[Mt],jt=Y.getTile(Et);if(!pt||jt.patternsLoaded()){var zt=jt.getBucket(G);if(zt){var Qt=zt.programConfigurations.get(G.id),Wt=N.useProgram(xe,Qt);pt&&(N.context.activeTexture.set(Ze.TEXTURE0),jt.imageAtlasTexture.bind(Ze.LINEAR,Ze.CLAMP_TO_EDGE),Qt.updatePaintBuffers(vt));var Vt=it.constantOr(null);if(Vt&&jt.imageAtlas){var gn=jt.imageAtlas,xn=gn.patternPositions[Vt.to.toString()],On=gn.patternPositions[Vt.from.toString()];xn&&On&&Qt.setConstantPatternPositions(xn,On)}var Dn=N.translatePosMatrix(Et.posMatrix,jt,G.paint.get("fill-translate"),G.paint.get("fill-translate-anchor"));if(ne){Fe=zt.indexBuffer2,qe=zt.segments2;var Wn=[Ze.drawingBufferWidth,Ze.drawingBufferHeight];Pe=xe==="fillOutlinePattern"&&pt?su(Dn,N,vt,jt,Wn):zo(Dn,Wn)}else Fe=zt.indexBuffer,qe=zt.segments,Pe=pt?ls(Dn,N,vt,jt):Wo(Dn);Wt.draw(N.context,he,q,N.stencilModeForClipping(Et),$,Ve.disabled,Pe,G.id,zt.layoutVertexBuffer,Fe,qe,G.paint,N.transform.zoom,Qt)}}}}function To(N,Y,G,C,q,$,ne){for(var he=N.context,xe=he.gl,Pe=G.paint.get("fill-extrusion-pattern"),Fe=Pe.constantOr(1),qe=G.getCrossfadeParameters(),Ze=G.paint.get("fill-extrusion-opacity"),it=0,pt=C;it<pt.length;it+=1){var vt=pt[it],Mt=Y.getTile(vt),Ct=Mt.getBucket(G);if(Ct){var Et=Ct.programConfigurations.get(G.id),jt=N.useProgram(Fe?"fillExtrusionPattern":"fillExtrusion",Et);Fe&&(N.context.activeTexture.set(xe.TEXTURE0),Mt.imageAtlasTexture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE),Et.updatePaintBuffers(qe));var zt=Pe.constantOr(null);if(zt&&Mt.imageAtlas){var Qt=Mt.imageAtlas,Wt=Qt.patternPositions[zt.to.toString()],Vt=Qt.patternPositions[zt.from.toString()];Wt&&Vt&&Et.setConstantPatternPositions(Wt,Vt)}var gn=N.translatePosMatrix(vt.posMatrix,Mt,G.paint.get("fill-extrusion-translate"),G.paint.get("fill-extrusion-translate-anchor")),xn=G.paint.get("fill-extrusion-vertical-gradient"),On=Fe?ss(gn,N,xn,Ze,vt,qe,Mt):Do(gn,N,xn,Ze);jt.draw(he,he.gl.TRIANGLES,q,$,ne,Ve.backCCW,On,G.id,Ct.layoutVertexBuffer,Ct.indexBuffer,Ct.segments,G.paint,N.transform.zoom,Et)}}}function Js(N,Y,G,C,q,$){var ne=N.context,he=ne.gl,xe=Y.fbo;if(xe){var Pe=N.useProgram("hillshade");ne.activeTexture.set(he.TEXTURE0),he.bindTexture(he.TEXTURE_2D,xe.colorAttachment.get());var Fe=Yu(N,Y,G);Pe.draw(ne,he.TRIANGLES,C,q,$,Ve.disabled,Fe,G.id,N.rasterBoundsBuffer,N.quadTriangleIndexBuffer,N.rasterBoundsSegments)}}function Pu(N,Y,G,C,q,$){var ne=N.context,he=ne.gl,xe=Y.dem;if(xe&&xe.data){var Pe=xe.dim,Fe=xe.stride,qe=xe.getPixels();if(ne.activeTexture.set(he.TEXTURE1),ne.pixelStoreUnpackPremultiplyAlpha.set(!1),Y.demTexture=Y.demTexture||N.getTileTexture(Fe),Y.demTexture){var Ze=Y.demTexture;Ze.update(qe,{premultiply:!1}),Ze.bind(he.NEAREST,he.CLAMP_TO_EDGE)}else Y.demTexture=new r.Texture(ne,qe,he.RGBA,{premultiply:!1}),Y.demTexture.bind(he.NEAREST,he.CLAMP_TO_EDGE);ne.activeTexture.set(he.TEXTURE0);var it=Y.fbo;if(!it){var pt=new r.Texture(ne,{width:Pe,height:Pe,data:null},he.RGBA);pt.bind(he.LINEAR,he.CLAMP_TO_EDGE),(it=Y.fbo=ne.createFramebuffer(Pe,Pe,!0)).colorAttachment.set(pt.texture)}ne.bindFramebuffer.set(it.framebuffer),ne.viewport.set([0,0,Pe,Pe]),N.useProgram("hillshadePrepare").draw(ne,he.TRIANGLES,C,q,$,Ve.disabled,Os(Y.tileID,xe),G.id,N.rasterBoundsBuffer,N.quadTriangleIndexBuffer,N.rasterBoundsSegments),Y.needsHillshadePrepare=!1}}function yl(N,Y,G,C,q){var $=C.paint.get("raster-fade-duration");if($>0){var ne=r.browser.now(),he=(ne-N.timeAdded)/$,xe=Y?(ne-Y.timeAdded)/$:-1,Pe=G.getSource(),Fe=q.coveringZoomLevel({tileSize:Pe.tileSize,roundZoom:Pe.roundZoom}),qe=!Y||Math.abs(Y.tileID.overscaledZ-Fe)>Math.abs(N.tileID.overscaledZ-Fe),Ze=qe&&N.refreshedUponExpiration?1:r.clamp(qe?he:1-xe,0,1);return N.refreshedUponExpiration&&he>=1&&(N.refreshedUponExpiration=!1),Y?{opacity:1,mix:1-Ze}:{opacity:Ze,mix:0}}return{opacity:1,mix:0}}var Yl=new r.Color(1,0,0,1),ro=new r.Color(0,1,0,1),Wl=new r.Color(0,0,1,1),Iu=new r.Color(1,0,1,1),Ks=new r.Color(0,1,1,1);function zs(N){var Y=N.transform.padding;Qs(N,N.transform.height-(Y.top||0),3,Yl),Qs(N,Y.bottom||0,3,ro),Rs(N,Y.left||0,3,Wl),Rs(N,N.transform.width-(Y.right||0),3,Iu);var G=N.transform.centerPoint;(function(C,q,$,ne){var he=20,xe=2;Fs(C,q-xe/2,$-he/2,xe,he,ne),Fs(C,q-he/2,$-xe/2,he,xe,ne)})(N,G.x,N.transform.height-G.y,Ks)}function Qs(N,Y,G,C){Fs(N,0,Y+G/2,N.transform.width,G,C)}function Rs(N,Y,G,C){Fs(N,Y-G/2,0,G,N.transform.height,C)}function Fs(N,Y,G,C,q,$){var ne=N.context,he=ne.gl;he.enable(he.SCISSOR_TEST),he.scissor(Y*r.browser.devicePixelRatio,G*r.browser.devicePixelRatio,C*r.browser.devicePixelRatio,q*r.browser.devicePixelRatio),ne.clear({color:$}),he.disable(he.SCISSOR_TEST)}function xl(N,Y,G){var C=N.context,q=C.gl,$=G.posMatrix,ne=N.useProgram("debug"),he=Ft.disabled,xe=Xe.disabled,Pe=N.colorModeForRenderPass(),Fe="$debug";C.activeTexture.set(q.TEXTURE0),N.emptyTexture.bind(q.LINEAR,q.CLAMP_TO_EDGE),ne.draw(C,q.LINE_STRIP,he,xe,Pe,Ve.disabled,Lu($,r.Color.red),Fe,N.debugBuffer,N.tileBorderIndexBuffer,N.debugSegments);var qe=Y.getTileByID(G.key).latestRawTileData,Ze=qe&&qe.byteLength||0,it=Math.floor(Ze/1024),pt=Y.getTile(G).tileSize,vt=512/Math.min(pt,512)*(G.overscaledZ/N.transform.zoom)*.5,Mt=G.canonical.toString();G.overscaledZ!==G.canonical.z&&(Mt+=" => "+G.overscaledZ),function(Ct,Et){Ct.initDebugOverlayCanvas();var jt=Ct.debugOverlayCanvas,zt=Ct.context.gl,Qt=Ct.debugOverlayCanvas.getContext("2d");Qt.clearRect(0,0,jt.width,jt.height),Qt.shadowColor="white",Qt.shadowBlur=2,Qt.lineWidth=1.5,Qt.strokeStyle="white",Qt.textBaseline="top",Qt.font="bold 36px Open Sans, sans-serif",Qt.fillText(Et,5,5),Qt.strokeText(Et,5,5),Ct.debugOverlayTexture.update(jt),Ct.debugOverlayTexture.bind(zt.LINEAR,zt.CLAMP_TO_EDGE)}(N,Mt+" "+it+"kb"),ne.draw(C,q.TRIANGLES,he,xe,Ke.alphaBlended,Ve.disabled,Lu($,r.Color.transparent,vt),Fe,N.debugBuffer,N.quadTriangleIndexBuffer,N.debugSegments)}var Zl={symbol:function(N,Y,G,C,q){if(N.renderPass==="translucent"){var $=Xe.disabled,ne=N.colorModeForRenderPass();G.layout.get("text-variable-anchor")&&function(he,xe,Pe,Fe,qe,Ze,it){for(var pt=xe.transform,vt=qe==="map",Mt=Ze==="map",Ct=0,Et=he;Ct<Et.length;Ct+=1){var jt=Et[Ct],zt=Fe.getTile(jt),Qt=zt.getBucket(Pe);if(Qt&&Qt.text&&Qt.text.segments.get().length){var Wt=Qt.textSizeData,Vt=r.evaluateSizeForZoom(Wt,pt.zoom),gn=$n(zt,1,xe.transform.zoom),xn=An(jt.posMatrix,Mt,vt,xe.transform,gn),On=Pe.layout.get("icon-text-fit")!=="none"&&Qt.hasIconData();if(Vt){var Dn=Math.pow(2,pt.zoom-zt.tileID.overscaledZ);Gl(Qt,vt,Mt,it,r.symbolSize,pt,xn,jt.posMatrix,Dn,Vt,On)}}}}(C,N,G,Y,G.layout.get("text-rotation-alignment"),G.layout.get("text-pitch-alignment"),q),G.paint.get("icon-opacity").constantOr(1)!==0&&fs(N,Y,G,C,!1,G.paint.get("icon-translate"),G.paint.get("icon-translate-anchor"),G.layout.get("icon-rotation-alignment"),G.layout.get("icon-pitch-alignment"),G.layout.get("icon-keep-upright"),$,ne),G.paint.get("text-opacity").constantOr(1)!==0&&fs(N,Y,G,C,!0,G.paint.get("text-translate"),G.paint.get("text-translate-anchor"),G.layout.get("text-rotation-alignment"),G.layout.get("text-pitch-alignment"),G.layout.get("text-keep-upright"),$,ne),Y.map.showCollisionBoxes&&(Xs(N,Y,G,C,G.paint.get("text-translate"),G.paint.get("text-translate-anchor"),!0),Xs(N,Y,G,C,G.paint.get("icon-translate"),G.paint.get("icon-translate-anchor"),!1))}},circle:function(N,Y,G,C){if(N.renderPass==="translucent"){var q=G.paint.get("circle-opacity"),$=G.paint.get("circle-stroke-width"),ne=G.paint.get("circle-stroke-opacity"),he=G.layout.get("circle-sort-key").constantOr(1)!==void 0;if(q.constantOr(1)!==0||$.constantOr(1)!==0&&ne.constantOr(1)!==0){for(var xe=N.context,Pe=xe.gl,Fe=N.depthModeForSublayer(0,Ft.ReadOnly),qe=Xe.disabled,Ze=N.colorModeForRenderPass(),it=[],pt=0;pt<C.length;pt++){var vt=C[pt],Mt=Y.getTile(vt),Ct=Mt.getBucket(G);if(Ct){var Et=Ct.programConfigurations.get(G.id),jt={programConfiguration:Et,program:N.useProgram("circle",Et),layoutVertexBuffer:Ct.layoutVertexBuffer,indexBuffer:Ct.indexBuffer,uniformValues:Hl(N,vt,Mt,G)};if(he)for(var zt=0,Qt=Ct.segments.get();zt<Qt.length;zt+=1){var Wt=Qt[zt];it.push({segments:new r.SegmentVector([Wt]),sortKey:Wt.sortKey,state:jt})}else it.push({segments:Ct.segments,sortKey:0,state:jt})}}he&&it.sort(function(kr,Rr){return kr.sortKey-Rr.sortKey});for(var Vt=0,gn=it;Vt<gn.length;Vt+=1){var xn=gn[Vt],On=xn.state,Dn=On.programConfiguration,Wn=On.program,ar=On.layoutVertexBuffer,vr=On.indexBuffer,Jn=On.uniformValues,dr=xn.segments;Wn.draw(xe,Pe.TRIANGLES,Fe,qe,Ze,Ve.disabled,Jn,G.id,ar,vr,dr,G.paint,N.transform.zoom,Dn)}}}},heatmap:function(N,Y,G,C){if(G.paint.get("heatmap-opacity")!==0)if(N.renderPass==="offscreen"){var q=N.context,$=q.gl,ne=Xe.disabled,he=new Ke([$.ONE,$.ONE],r.Color.transparent,[!0,!0,!0,!0]);(function(vt,Mt,Ct){var Et=vt.gl;vt.activeTexture.set(Et.TEXTURE1),vt.viewport.set([0,0,Mt.width/4,Mt.height/4]);var jt=Ct.heatmapFbo;if(jt)Et.bindTexture(Et.TEXTURE_2D,jt.colorAttachment.get()),vt.bindFramebuffer.set(jt.framebuffer);else{var zt=Et.createTexture();Et.bindTexture(Et.TEXTURE_2D,zt),Et.texParameteri(Et.TEXTURE_2D,Et.TEXTURE_WRAP_S,Et.CLAMP_TO_EDGE),Et.texParameteri(Et.TEXTURE_2D,Et.TEXTURE_WRAP_T,Et.CLAMP_TO_EDGE),Et.texParameteri(Et.TEXTURE_2D,Et.TEXTURE_MIN_FILTER,Et.LINEAR),Et.texParameteri(Et.TEXTURE_2D,Et.TEXTURE_MAG_FILTER,Et.LINEAR),jt=Ct.heatmapFbo=vt.createFramebuffer(Mt.width/4,Mt.height/4,!1),function(Qt,Wt,Vt,gn){var xn=Qt.gl,On=Qt.extRenderToTextureHalfFloat?Qt.extTextureHalfFloat.HALF_FLOAT_OES:xn.UNSIGNED_BYTE;xn.texImage2D(xn.TEXTURE_2D,0,xn.RGBA,Wt.width/4,Wt.height/4,0,xn.RGBA,On,null),gn.colorAttachment.set(Vt)}(vt,Mt,zt,jt)}})(q,N,G),q.clear({color:r.Color.transparent});for(var xe=0;xe<C.length;xe++){var Pe=C[xe];if(!Y.hasRenderableParent(Pe)){var Fe=Y.getTile(Pe),qe=Fe.getBucket(G);if(qe){var Ze=qe.programConfigurations.get(G.id),it=N.useProgram("heatmap",Ze),pt=N.transform.zoom;it.draw(q,$.TRIANGLES,Ft.disabled,ne,he,Ve.disabled,Cu(Pe.posMatrix,Fe,pt,G.paint.get("heatmap-intensity")),G.id,qe.layoutVertexBuffer,qe.indexBuffer,qe.segments,G.paint,N.transform.zoom,Ze)}}}q.viewport.set([0,0,N.width,N.height])}else N.renderPass==="translucent"&&(N.context.setColorMode(N.colorModeForRenderPass()),function(vt,Mt){var Ct=vt.context,Et=Ct.gl,jt=Mt.heatmapFbo;if(jt){Ct.activeTexture.set(Et.TEXTURE0),Et.bindTexture(Et.TEXTURE_2D,jt.colorAttachment.get()),Ct.activeTexture.set(Et.TEXTURE1);var zt=Mt.colorRampTexture;zt||(zt=Mt.colorRampTexture=new r.Texture(Ct,Mt.colorRamp,Et.RGBA)),zt.bind(Et.LINEAR,Et.CLAMP_TO_EDGE),vt.useProgram("heatmapTexture").draw(Ct,Et.TRIANGLES,Ft.disabled,Xe.disabled,vt.colorModeForRenderPass(),Ve.disabled,Gu(vt,Mt,0,1),Mt.id,vt.viewportBuffer,vt.quadTriangleIndexBuffer,vt.viewportSegments,Mt.paint,vt.transform.zoom)}}(N,G))},line:function(N,Y,G,C){if(N.renderPass==="translucent"){var q=G.paint.get("line-opacity"),$=G.paint.get("line-width");if(q.constantOr(1)!==0&&$.constantOr(1)!==0)for(var ne=N.depthModeForSublayer(0,Ft.ReadOnly),he=N.colorModeForRenderPass(),xe=G.paint.get("line-dasharray"),Pe=G.paint.get("line-pattern"),Fe=Pe.constantOr(1),qe=G.paint.get("line-gradient"),Ze=G.getCrossfadeParameters(),it=Fe?"linePattern":xe?"lineSDF":qe?"lineGradient":"line",pt=N.context,vt=pt.gl,Mt=!0,Ct=0,Et=C;Ct<Et.length;Ct+=1){var jt=Et[Ct],zt=Y.getTile(jt);if(!Fe||zt.patternsLoaded()){var Qt=zt.getBucket(G);if(Qt){var Wt=Qt.programConfigurations.get(G.id),Vt=N.context.program.get(),gn=N.useProgram(it,Wt),xn=Mt||gn.program!==Vt,On=Pe.constantOr(null);if(On&&zt.imageAtlas){var Dn=zt.imageAtlas,Wn=Dn.patternPositions[On.to.toString()],ar=Dn.patternPositions[On.from.toString()];Wn&&ar&&Wt.setConstantPatternPositions(Wn,ar)}var vr=Fe?Ps(N,zt,G,Ze):xe?ml(N,zt,G,xe,Ze):qe?Ws(N,zt,G,Qt.lineClipsArray.length):Ro(N,zt,G);if(Fe)pt.activeTexture.set(vt.TEXTURE0),zt.imageAtlasTexture.bind(vt.LINEAR,vt.CLAMP_TO_EDGE),Wt.updatePaintBuffers(Ze);else if(xe&&(xn||N.lineAtlas.dirty))pt.activeTexture.set(vt.TEXTURE0),N.lineAtlas.bind(pt);else if(qe){var Jn=Qt.gradients[G.id],dr=Jn.texture;if(G.gradientVersion!==Jn.version){var kr=256;if(G.stepInterpolant){var Rr=Y.getSource().maxzoom,rr=jt.canonical.z===Rr?Math.ceil(1<<N.transform.maxZoom-jt.canonical.z):1,pr=Qt.maxLineLength/r.EXTENT*1024*rr;kr=r.clamp(r.nextPowerOfTwo(pr),256,pt.maxTextureSize)}Jn.gradient=r.renderColorRamp({expression:G.gradientExpression(),evaluationKey:"lineProgress",resolution:kr,image:Jn.gradient||void 0,clips:Qt.lineClipsArray}),Jn.texture?Jn.texture.update(Jn.gradient):Jn.texture=new r.Texture(pt,Jn.gradient,vt.RGBA),Jn.version=G.gradientVersion,dr=Jn.texture}pt.activeTexture.set(vt.TEXTURE0),dr.bind(G.stepInterpolant?vt.NEAREST:vt.LINEAR,vt.CLAMP_TO_EDGE)}gn.draw(pt,vt.TRIANGLES,ne,N.stencilModeForClipping(jt),he,Ve.disabled,vr,G.id,Qt.layoutVertexBuffer,Qt.indexBuffer,Qt.segments,G.paint,N.transform.zoom,Wt,Qt.layoutVertexBuffer2),Mt=!1}}}}},fill:function(N,Y,G,C){var q=G.paint.get("fill-color"),$=G.paint.get("fill-opacity");if($.constantOr(1)!==0){var ne=N.colorModeForRenderPass(),he=G.paint.get("fill-pattern"),xe=N.opaquePassEnabledForLayer()&&!he.constantOr(1)&&q.constantOr(r.Color.transparent).a===1&&$.constantOr(0)===1?"opaque":"translucent";if(N.renderPass===xe){var Pe=N.depthModeForSublayer(1,N.renderPass==="opaque"?Ft.ReadWrite:Ft.ReadOnly);Jo(N,Y,G,C,Pe,ne,!1)}if(N.renderPass==="translucent"&&G.paint.get("fill-antialias")){var Fe=N.depthModeForSublayer(G.getPaintProperty("fill-outline-color")?2:0,Ft.ReadOnly);Jo(N,Y,G,C,Fe,ne,!0)}}},"fill-extrusion":function(N,Y,G,C){var q=G.paint.get("fill-extrusion-opacity");if(q!==0&&N.renderPass==="translucent"){var $=new Ft(N.context.gl.LEQUAL,Ft.ReadWrite,N.depthRangeFor3D);if(q!==1||G.paint.get("fill-extrusion-pattern").constantOr(1))To(N,Y,G,C,$,Xe.disabled,Ke.disabled),To(N,Y,G,C,$,N.stencilModeFor3D(),N.colorModeForRenderPass());else{var ne=N.colorModeForRenderPass();To(N,Y,G,C,$,Xe.disabled,ne)}}},hillshade:function(N,Y,G,C){if(N.renderPass==="offscreen"||N.renderPass==="translucent"){for(var q=N.context,$=N.depthModeForSublayer(0,Ft.ReadOnly),ne=N.colorModeForRenderPass(),he=N.renderPass==="translucent"?N.stencilConfigForOverlap(C):[{},C],xe=he[0],Pe=0,Fe=he[1];Pe<Fe.length;Pe+=1){var qe=Fe[Pe],Ze=Y.getTile(qe);Ze.needsHillshadePrepare&&N.renderPass==="offscreen"?Pu(N,Ze,G,$,Xe.disabled,ne):N.renderPass==="translucent"&&Js(N,Ze,G,$,xe[qe.overscaledZ],ne)}q.viewport.set([0,0,N.width,N.height])}},raster:function(N,Y,G,C){if(N.renderPass==="translucent"&&G.paint.get("raster-opacity")!==0&&C.length)for(var q=N.context,$=q.gl,ne=Y.getSource(),he=N.useProgram("raster"),xe=N.colorModeForRenderPass(),Pe=ne instanceof F?[{},C]:N.stencilConfigForOverlap(C),Fe=Pe[0],qe=Pe[1],Ze=qe[qe.length-1].overscaledZ,it=!N.options.moving,pt=0,vt=qe;pt<vt.length;pt+=1){var Mt=vt[pt],Ct=N.depthModeForSublayer(Mt.overscaledZ-Ze,G.paint.get("raster-opacity")===1?Ft.ReadWrite:Ft.ReadOnly,$.LESS),Et=Y.getTile(Mt),jt=N.transform.calculatePosMatrix(Mt.toUnwrapped(),it);Et.registerFadeDuration(G.paint.get("raster-fade-duration"));var zt=Y.findLoadedParent(Mt,0),Qt=yl(Et,zt,Y,G,N.transform),Wt=void 0,Vt=void 0,gn=G.paint.get("raster-resampling")==="nearest"?$.NEAREST:$.LINEAR;q.activeTexture.set($.TEXTURE0),Et.texture.bind(gn,$.CLAMP_TO_EDGE,$.LINEAR_MIPMAP_NEAREST),q.activeTexture.set($.TEXTURE1),zt?(zt.texture.bind(gn,$.CLAMP_TO_EDGE,$.LINEAR_MIPMAP_NEAREST),Wt=Math.pow(2,zt.tileID.overscaledZ-Et.tileID.overscaledZ),Vt=[Et.tileID.canonical.x*Wt%1,Et.tileID.canonical.y*Wt%1]):Et.texture.bind(gn,$.CLAMP_TO_EDGE,$.LINEAR_MIPMAP_NEAREST);var xn=lu(jt,Vt||[0,0],Wt||1,Qt,G);ne instanceof F?he.draw(q,$.TRIANGLES,Ct,Xe.disabled,xe,Ve.disabled,xn,G.id,ne.boundsBuffer,N.quadTriangleIndexBuffer,ne.boundsSegments):he.draw(q,$.TRIANGLES,Ct,Fe[Mt.overscaledZ],xe,Ve.disabled,xn,G.id,N.rasterBoundsBuffer,N.quadTriangleIndexBuffer,N.rasterBoundsSegments)}},background:function(N,Y,G){var C=G.paint.get("background-color"),q=G.paint.get("background-opacity");if(q!==0){var $=N.context,ne=$.gl,he=N.transform,xe=he.tileSize,Pe=G.paint.get("background-pattern");if(!N.isPatternMissing(Pe)){var Fe=!Pe&&C.a===1&&q===1&&N.opaquePassEnabledForLayer()?"opaque":"translucent";if(N.renderPass===Fe){var qe=Xe.disabled,Ze=N.depthModeForSublayer(0,Fe==="opaque"?Ft.ReadWrite:Ft.ReadOnly),it=N.colorModeForRenderPass(),pt=N.useProgram(Pe?"backgroundPattern":"background"),vt=he.coveringTiles({tileSize:xe});Pe&&($.activeTexture.set(ne.TEXTURE0),N.imageManager.bind(N.context));for(var Mt=G.getCrossfadeParameters(),Ct=0,Et=vt;Ct<Et.length;Ct+=1){var jt=Et[Ct],zt=N.transform.calculatePosMatrix(jt.toUnwrapped()),Qt=Pe?Wu(zt,q,N,Pe,{tileID:jt,tileSize:xe},Mt):Zs(zt,q,C);pt.draw($,ne.TRIANGLES,Ze,qe,it,Ve.disabled,Qt,G.id,N.tileExtentBuffer,N.quadTriangleIndexBuffer,N.tileExtentSegments)}}}}},debug:function(N,Y,G){for(var C=0;C<G.length;C++)xl(N,Y,G[C])},custom:function(N,Y,G){var C=N.context,q=G.implementation;if(N.renderPass==="offscreen"){var $=q.prerender;$&&(N.setCustomLayerDefaults(),C.setColorMode(N.colorModeForRenderPass()),$.call(q,C.gl,N.transform.customLayerMatrix()),C.setDirty(),N.setBaseState())}else if(N.renderPass==="translucent"){N.setCustomLayerDefaults(),C.setColorMode(N.colorModeForRenderPass()),C.setStencilMode(Xe.disabled);var ne=q.renderingMode==="3d"?new Ft(N.context.gl.LEQUAL,Ft.ReadWrite,N.depthRangeFor3D):N.depthModeForSublayer(0,Ft.ReadOnly);C.setDepthMode(ne),q.render(C.gl,N.transform.customLayerMatrix()),C.setDirty(),N.setBaseState(),C.bindFramebuffer.set(null)}}},vi=function(N,Y){this.context=new Je(N),this.transform=Y,this._tileTextures={},this.setup(),this.numSublayers=ct.maxUnderzooming+ct.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Hn,this.gpuTimers={}};vi.prototype.resize=function(N,Y){if(this.width=N*r.browser.devicePixelRatio,this.height=Y*r.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var G=0,C=this.style._order;G<C.length;G+=1){var q=C[G];this.style._layers[q].resize()}},vi.prototype.setup=function(){var N=this.context,Y=new r.StructArrayLayout2i4;Y.emplaceBack(0,0),Y.emplaceBack(r.EXTENT,0),Y.emplaceBack(0,r.EXTENT),Y.emplaceBack(r.EXTENT,r.EXTENT),this.tileExtentBuffer=N.createVertexBuffer(Y,Qn.members),this.tileExtentSegments=r.SegmentVector.simpleSegment(0,0,4,2);var G=new r.StructArrayLayout2i4;G.emplaceBack(0,0),G.emplaceBack(r.EXTENT,0),G.emplaceBack(0,r.EXTENT),G.emplaceBack(r.EXTENT,r.EXTENT),this.debugBuffer=N.createVertexBuffer(G,Qn.members),this.debugSegments=r.SegmentVector.simpleSegment(0,0,4,5);var C=new r.StructArrayLayout4i8;C.emplaceBack(0,0,0,0),C.emplaceBack(r.EXTENT,0,r.EXTENT,0),C.emplaceBack(0,r.EXTENT,0,r.EXTENT),C.emplaceBack(r.EXTENT,r.EXTENT,r.EXTENT,r.EXTENT),this.rasterBoundsBuffer=N.createVertexBuffer(C,W.members),this.rasterBoundsSegments=r.SegmentVector.simpleSegment(0,0,4,2);var q=new r.StructArrayLayout2i4;q.emplaceBack(0,0),q.emplaceBack(1,0),q.emplaceBack(0,1),q.emplaceBack(1,1),this.viewportBuffer=N.createVertexBuffer(q,Qn.members),this.viewportSegments=r.SegmentVector.simpleSegment(0,0,4,2);var $=new r.StructArrayLayout1ui2;$.emplaceBack(0),$.emplaceBack(1),$.emplaceBack(3),$.emplaceBack(2),$.emplaceBack(0),this.tileBorderIndexBuffer=N.createIndexBuffer($);var ne=new r.StructArrayLayout3ui6;ne.emplaceBack(0,1,2),ne.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=N.createIndexBuffer(ne),this.emptyTexture=new r.Texture(N,{width:1,height:1,data:new Uint8Array([0,0,0,0])},N.gl.RGBA);var he=this.context.gl;this.stencilClearMode=new Xe({func:he.ALWAYS,mask:0},0,255,he.ZERO,he.ZERO,he.ZERO)},vi.prototype.clearStencil=function(){var N=this.context,Y=N.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var G=r.create();r.ortho(G,0,this.width,this.height,0,0,1),r.scale(G,G,[Y.drawingBufferWidth,Y.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(N,Y.TRIANGLES,Ft.disabled,this.stencilClearMode,Ke.disabled,Ve.disabled,Cs(G),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},vi.prototype._renderTileClippingMasks=function(N,Y){if(this.currentStencilSource!==N.source&&N.isTileClipped()&&Y&&Y.length){this.currentStencilSource=N.source;var G=this.context,C=G.gl;this.nextStencilID+Y.length>256&&this.clearStencil(),G.setColorMode(Ke.disabled),G.setDepthMode(Ft.disabled);var q=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var $=0,ne=Y;$<ne.length;$+=1){var he=ne[$],xe=this._tileClippingMaskIDs[he.key]=this.nextStencilID++;q.draw(G,C.TRIANGLES,Ft.disabled,new Xe({func:C.ALWAYS,mask:0},xe,255,C.KEEP,C.KEEP,C.REPLACE),Ke.disabled,Ve.disabled,Cs(he.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},vi.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var N=this.nextStencilID++,Y=this.context.gl;return new Xe({func:Y.NOTEQUAL,mask:255},N,255,Y.KEEP,Y.KEEP,Y.REPLACE)},vi.prototype.stencilModeForClipping=function(N){var Y=this.context.gl;return new Xe({func:Y.EQUAL,mask:255},this._tileClippingMaskIDs[N.key],0,Y.KEEP,Y.KEEP,Y.REPLACE)},vi.prototype.stencilConfigForOverlap=function(N){var Y,G=this.context.gl,C=N.sort(function(xe,Pe){return Pe.overscaledZ-xe.overscaledZ}),q=C[C.length-1].overscaledZ,$=C[0].overscaledZ-q+1;if($>1){this.currentStencilSource=void 0,this.nextStencilID+$>256&&this.clearStencil();for(var ne={},he=0;he<$;he++)ne[he+q]=new Xe({func:G.GEQUAL,mask:255},he+this.nextStencilID,255,G.KEEP,G.KEEP,G.REPLACE);return this.nextStencilID+=$,[ne,C]}return[(Y={},Y[q]=Xe.disabled,Y),C]},vi.prototype.colorModeForRenderPass=function(){var N=this.context.gl;if(this._showOverdrawInspector){var Y=.125;return new Ke([N.CONSTANT_COLOR,N.ONE],new r.Color(Y,Y,Y,0),[!0,!0,!0,!0])}return this.renderPass==="opaque"?Ke.unblended:Ke.alphaBlended},vi.prototype.depthModeForSublayer=function(N,Y,G){if(!this.opaquePassEnabledForLayer())return Ft.disabled;var C=1-((1+this.currentLayer)*this.numSublayers+N)*this.depthEpsilon;return new Ft(G||this.context.gl.LEQUAL,Y,[C,C])},vi.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},vi.prototype.render=function(N,Y){var G=this;this.style=N,this.options=Y,this.lineAtlas=N.lineAtlas,this.imageManager=N.imageManager,this.glyphManager=N.glyphManager,this.symbolFadeChange=N.placement.symbolFadeChange(r.browser.now()),this.imageManager.beginFrame();var C=this.style._order,q=this.style.sourceCaches;for(var $ in q){var ne=q[$];ne.used&&ne.prepare(this.context)}var he,xe,Pe={},Fe={},qe={};for(var Ze in q){var it=q[Ze];Pe[Ze]=it.getVisibleCoordinates(),Fe[Ze]=Pe[Ze].slice().reverse(),qe[Ze]=it.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var pt=0;pt<C.length;pt++){var vt=C[pt];if(this.style._layers[vt].is3D()){this.opaquePassCutoff=pt;break}}this.renderPass="offscreen";for(var Mt=0,Ct=C;Mt<Ct.length;Mt+=1){var Et=Ct[Mt],jt=this.style._layers[Et];if(jt.hasOffscreenPass()&&!jt.isHidden(this.transform.zoom)){var zt=Fe[jt.source];(jt.type==="custom"||zt.length)&&this.renderLayer(this,q[jt.source],jt,zt)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:Y.showOverdrawInspector?r.Color.black:r.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=Y.showOverdrawInspector,this.depthRangeFor3D=[0,1-(N._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=C.length-1;this.currentLayer>=0;this.currentLayer--){var Qt=this.style._layers[C[this.currentLayer]],Wt=q[Qt.source],Vt=Pe[Qt.source];this._renderTileClippingMasks(Qt,Vt),this.renderLayer(this,Wt,Qt,Vt)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<C.length;this.currentLayer++){var gn=this.style._layers[C[this.currentLayer]],xn=q[gn.source],On=(gn.type==="symbol"?qe:Fe)[gn.source];this._renderTileClippingMasks(gn,Pe[gn.source]),this.renderLayer(this,xn,gn,On)}this.options.showTileBoundaries&&(r.values(this.style._layers).forEach(function(Dn){Dn.source&&!Dn.isHidden(G.transform.zoom)&&(Dn.source!==(xe&&xe.id)&&(xe=G.style.sourceCaches[Dn.source]),(!he||he.getSource().maxzoom<xe.getSource().maxzoom)&&(he=xe))}),he&&Zl.debug(this,he,he.getVisibleCoordinates())),this.options.showPadding&&zs(this),this.context.setDefault()},vi.prototype.renderLayer=function(N,Y,G,C){G.isHidden(this.transform.zoom)||(G.type==="background"||G.type==="custom"||C.length)&&(this.id=G.id,this.gpuTimingStart(G),Zl[G.type](N,Y,G,C,this.style.placement.variableOffsets),this.gpuTimingEnd())},vi.prototype.gpuTimingStart=function(N){if(this.options.gpuTiming){var Y=this.context.extTimerQuery,G=this.gpuTimers[N.id];G||(G=this.gpuTimers[N.id]={calls:0,cpuTime:0,query:Y.createQueryEXT()}),G.calls++,Y.beginQueryEXT(Y.TIME_ELAPSED_EXT,G.query)}},vi.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var N=this.context.extTimerQuery;N.endQueryEXT(N.TIME_ELAPSED_EXT)}},vi.prototype.collectGpuTimers=function(){var N=this.gpuTimers;return this.gpuTimers={},N},vi.prototype.queryGpuTimers=function(N){var Y={};for(var G in N){var C=N[G],q=this.context.extTimerQuery,$=q.getQueryObjectEXT(C.query,q.QUERY_RESULT_EXT)/1e6;q.deleteQueryEXT(C.query),Y[G]=$}return Y},vi.prototype.translatePosMatrix=function(N,Y,G,C,q){if(!G[0]&&!G[1])return N;var $=q?C==="map"?this.transform.angle:0:C==="viewport"?-this.transform.angle:0;if($){var ne=Math.sin($),he=Math.cos($);G=[G[0]*he-G[1]*ne,G[0]*ne+G[1]*he]}var xe=[q?G[0]:$n(Y,G[0],this.transform.zoom),q?G[1]:$n(Y,G[1],this.transform.zoom),0],Pe=new Float32Array(16);return r.translate(Pe,N,xe),Pe},vi.prototype.saveTileTexture=function(N){var Y=this._tileTextures[N.size[0]];Y?Y.push(N):this._tileTextures[N.size[0]]=[N]},vi.prototype.getTileTexture=function(N){var Y=this._tileTextures[N];return Y&&Y.length>0?Y.pop():null},vi.prototype.isPatternMissing=function(N){if(!N)return!1;if(!N.from||!N.to)return!0;var Y=this.imageManager.getPattern(N.from.toString()),G=this.imageManager.getPattern(N.to.toString());return!Y||!G},vi.prototype.useProgram=function(N,Y){this.cache=this.cache||{};var G=""+N+(Y?Y.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[G]||(this.cache[G]=new _o(this.context,N,ca[N],Y,ql[N],this._showOverdrawInspector)),this.cache[G]},vi.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},vi.prototype.setBaseState=function(){var N=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(N.FUNC_ADD)},vi.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=r.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var N=this.context.gl;this.debugOverlayTexture=new r.Texture(this.context,this.debugOverlayCanvas,N.RGBA)}},vi.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var hs=function(N,Y){this.points=N,this.planes=Y};hs.fromInvProjectionMatrix=function(N,Y,G){var C=Math.pow(2,G),q=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(ne){return r.transformMat4([],ne,N)}).map(function(ne){return r.scale$1([],ne,1/ne[3]/Y*C)}),$=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(ne){var he=r.sub([],q[ne[0]],q[ne[1]]),xe=r.sub([],q[ne[2]],q[ne[1]]),Pe=r.normalize([],r.cross([],he,xe)),Fe=-r.dot(Pe,q[ne[1]]);return Pe.concat(Fe)});return new hs(q,$)};var ka=function(N,Y){this.min=N,this.max=Y,this.center=r.scale$2([],r.add([],this.min,this.max),.5)};ka.prototype.quadrant=function(N){for(var Y=[N%2==0,N<2],G=r.clone$2(this.min),C=r.clone$2(this.max),q=0;q<Y.length;q++)G[q]=Y[q]?this.min[q]:this.center[q],C[q]=Y[q]?this.center[q]:this.max[q];return C[2]=this.max[2],new ka(G,C)},ka.prototype.distanceX=function(N){return Math.max(Math.min(this.max[0],N[0]),this.min[0])-N[0]},ka.prototype.distanceY=function(N){return Math.max(Math.min(this.max[1],N[1]),this.min[1])-N[1]},ka.prototype.intersects=function(N){for(var Y=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],G=!0,C=0;C<N.planes.length;C++){for(var q=N.planes[C],$=0,ne=0;ne<Y.length;ne++)$+=r.dot$1(q,Y[ne])>=0;if($===0)return 0;$!==Y.length&&(G=!1)}if(G)return 2;for(var he=0;he<3;he++){for(var xe=Number.MAX_VALUE,Pe=-Number.MAX_VALUE,Fe=0;Fe<N.points.length;Fe++){var qe=N.points[Fe][he]-this.min[he];xe=Math.min(xe,qe),Pe=Math.max(Pe,qe)}if(Pe<0||xe>this.max[he]-this.min[he])return 0}return 1};var ko=function(N,Y,G,C){if(N===void 0&&(N=0),Y===void 0&&(Y=0),G===void 0&&(G=0),C===void 0&&(C=0),isNaN(N)||N<0||isNaN(Y)||Y<0||isNaN(G)||G<0||isNaN(C)||C<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=N,this.bottom=Y,this.left=G,this.right=C};ko.prototype.interpolate=function(N,Y,G){return Y.top!=null&&N.top!=null&&(this.top=r.number(N.top,Y.top,G)),Y.bottom!=null&&N.bottom!=null&&(this.bottom=r.number(N.bottom,Y.bottom,G)),Y.left!=null&&N.left!=null&&(this.left=r.number(N.left,Y.left,G)),Y.right!=null&&N.right!=null&&(this.right=r.number(N.right,Y.right,G)),this},ko.prototype.getCenter=function(N,Y){var G=r.clamp((this.left+N-this.right)/2,0,N),C=r.clamp((this.top+Y-this.bottom)/2,0,Y);return new r.Point(G,C)},ko.prototype.equals=function(N){return this.top===N.top&&this.bottom===N.bottom&&this.left===N.left&&this.right===N.right},ko.prototype.clone=function(){return new ko(this.top,this.bottom,this.left,this.right)},ko.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var ui=function(N,Y,G,C,q){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=q===void 0||q,this._minZoom=N||0,this._maxZoom=Y||22,this._minPitch=G??0,this._maxPitch=C??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new r.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new ko,this._posMatrixCache={},this._alignedPosMatrixCache={}},gi={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};ui.prototype.clone=function(){var N=new ui(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return N.tileSize=this.tileSize,N.latRange=this.latRange,N.width=this.width,N.height=this.height,N._center=this._center,N.zoom=this.zoom,N.angle=this.angle,N._fov=this._fov,N._pitch=this._pitch,N._unmodified=this._unmodified,N._edgeInsets=this._edgeInsets.clone(),N._calcMatrices(),N},gi.minZoom.get=function(){return this._minZoom},gi.minZoom.set=function(N){this._minZoom!==N&&(this._minZoom=N,this.zoom=Math.max(this.zoom,N))},gi.maxZoom.get=function(){return this._maxZoom},gi.maxZoom.set=function(N){this._maxZoom!==N&&(this._maxZoom=N,this.zoom=Math.min(this.zoom,N))},gi.minPitch.get=function(){return this._minPitch},gi.minPitch.set=function(N){this._minPitch!==N&&(this._minPitch=N,this.pitch=Math.max(this.pitch,N))},gi.maxPitch.get=function(){return this._maxPitch},gi.maxPitch.set=function(N){this._maxPitch!==N&&(this._maxPitch=N,this.pitch=Math.min(this.pitch,N))},gi.renderWorldCopies.get=function(){return this._renderWorldCopies},gi.renderWorldCopies.set=function(N){N===void 0?N=!0:N===null&&(N=!1),this._renderWorldCopies=N},gi.worldSize.get=function(){return this.tileSize*this.scale},gi.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},gi.size.get=function(){return new r.Point(this.width,this.height)},gi.bearing.get=function(){return-this.angle/Math.PI*180},gi.bearing.set=function(N){var Y=-r.wrap(N,-180,180)*Math.PI/180;this.angle!==Y&&(this._unmodified=!1,this.angle=Y,this._calcMatrices(),this.rotationMatrix=r.create$2(),r.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},gi.pitch.get=function(){return this._pitch/Math.PI*180},gi.pitch.set=function(N){var Y=r.clamp(N,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==Y&&(this._unmodified=!1,this._pitch=Y,this._calcMatrices())},gi.fov.get=function(){return this._fov/Math.PI*180},gi.fov.set=function(N){N=Math.max(.01,Math.min(60,N)),this._fov!==N&&(this._unmodified=!1,this._fov=N/180*Math.PI,this._calcMatrices())},gi.zoom.get=function(){return this._zoom},gi.zoom.set=function(N){var Y=Math.min(Math.max(N,this.minZoom),this.maxZoom);this._zoom!==Y&&(this._unmodified=!1,this._zoom=Y,this.scale=this.zoomScale(Y),this.tileZoom=Math.floor(Y),this.zoomFraction=Y-this.tileZoom,this._constrain(),this._calcMatrices())},gi.center.get=function(){return this._center},gi.center.set=function(N){N.lat===this._center.lat&&N.lng===this._center.lng||(this._unmodified=!1,this._center=N,this._constrain(),this._calcMatrices())},gi.padding.get=function(){return this._edgeInsets.toJSON()},gi.padding.set=function(N){this._edgeInsets.equals(N)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,N,1),this._calcMatrices())},gi.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},ui.prototype.isPaddingEqual=function(N){return this._edgeInsets.equals(N)},ui.prototype.interpolatePadding=function(N,Y,G){this._unmodified=!1,this._edgeInsets.interpolate(N,Y,G),this._constrain(),this._calcMatrices()},ui.prototype.coveringZoomLevel=function(N){var Y=(N.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/N.tileSize));return Math.max(0,Y)},ui.prototype.getVisibleUnwrappedCoordinates=function(N){var Y=[new r.UnwrappedTileID(0,N)];if(this._renderWorldCopies)for(var G=this.pointCoordinate(new r.Point(0,0)),C=this.pointCoordinate(new r.Point(this.width,0)),q=this.pointCoordinate(new r.Point(this.width,this.height)),$=this.pointCoordinate(new r.Point(0,this.height)),ne=Math.floor(Math.min(G.x,C.x,q.x,$.x)),he=Math.floor(Math.max(G.x,C.x,q.x,$.x)),xe=ne-1;xe<=he+1;xe++)xe!==0&&Y.push(new r.UnwrappedTileID(xe,N));return Y},ui.prototype.coveringTiles=function(N){var Y=this.coveringZoomLevel(N),G=Y;if(N.minzoom!==void 0&&Y<N.minzoom)return[];N.maxzoom!==void 0&&Y>N.maxzoom&&(Y=N.maxzoom);var C=r.MercatorCoordinate.fromLngLat(this.center),q=Math.pow(2,Y),$=[q*C.x,q*C.y,0],ne=hs.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,Y),he=N.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(he=Y);var xe=function(On){return{aabb:new ka([On*q,0,0],[(On+1)*q,q,0]),zoom:0,x:0,y:0,wrap:On,fullyVisible:!1}},Pe=[],Fe=[],qe=Y,Ze=N.reparseOverscaled?G:Y;if(this._renderWorldCopies)for(var it=1;it<=3;it++)Pe.push(xe(-it)),Pe.push(xe(it));for(Pe.push(xe(0));Pe.length>0;){var pt=Pe.pop(),vt=pt.x,Mt=pt.y,Ct=pt.fullyVisible;if(!Ct){var Et=pt.aabb.intersects(ne);if(Et===0)continue;Ct=Et===2}var jt=pt.aabb.distanceX($),zt=pt.aabb.distanceY($),Qt=Math.max(Math.abs(jt),Math.abs(zt)),Wt=3+(1<<qe-pt.zoom)-2;if(pt.zoom===qe||Qt>Wt&&pt.zoom>=he)Fe.push({tileID:new r.OverscaledTileID(pt.zoom===qe?Ze:pt.zoom,pt.wrap,pt.zoom,vt,Mt),distanceSq:r.sqrLen([$[0]-.5-vt,$[1]-.5-Mt])});else for(var Vt=0;Vt<4;Vt++){var gn=(vt<<1)+Vt%2,xn=(Mt<<1)+(Vt>>1);Pe.push({aabb:pt.aabb.quadrant(Vt),zoom:pt.zoom+1,x:gn,y:xn,wrap:pt.wrap,fullyVisible:Ct})}}return Fe.sort(function(On,Dn){return On.distanceSq-Dn.distanceSq}).map(function(On){return On.tileID})},ui.prototype.resize=function(N,Y){this.width=N,this.height=Y,this.pixelsToGLUnits=[2/N,-2/Y],this._constrain(),this._calcMatrices()},gi.unmodified.get=function(){return this._unmodified},ui.prototype.zoomScale=function(N){return Math.pow(2,N)},ui.prototype.scaleZoom=function(N){return Math.log(N)/Math.LN2},ui.prototype.project=function(N){var Y=r.clamp(N.lat,-this.maxValidLatitude,this.maxValidLatitude);return new r.Point(r.mercatorXfromLng(N.lng)*this.worldSize,r.mercatorYfromLat(Y)*this.worldSize)},ui.prototype.unproject=function(N){return new r.MercatorCoordinate(N.x/this.worldSize,N.y/this.worldSize).toLngLat()},gi.point.get=function(){return this.project(this.center)},ui.prototype.setLocationAtPoint=function(N,Y){var G=this.pointCoordinate(Y),C=this.pointCoordinate(this.centerPoint),q=this.locationCoordinate(N),$=new r.MercatorCoordinate(q.x-(G.x-C.x),q.y-(G.y-C.y));this.center=this.coordinateLocation($),this._renderWorldCopies&&(this.center=this.center.wrap())},ui.prototype.locationPoint=function(N){return this.coordinatePoint(this.locationCoordinate(N))},ui.prototype.pointLocation=function(N){return this.coordinateLocation(this.pointCoordinate(N))},ui.prototype.locationCoordinate=function(N){return r.MercatorCoordinate.fromLngLat(N)},ui.prototype.coordinateLocation=function(N){return N.toLngLat()},ui.prototype.pointCoordinate=function(N){var Y=[N.x,N.y,0,1],G=[N.x,N.y,1,1];r.transformMat4(Y,Y,this.pixelMatrixInverse),r.transformMat4(G,G,this.pixelMatrixInverse);var C=Y[3],q=G[3],$=Y[0]/C,ne=G[0]/q,he=Y[1]/C,xe=G[1]/q,Pe=Y[2]/C,Fe=G[2]/q,qe=Pe===Fe?0:(0-Pe)/(Fe-Pe);return new r.MercatorCoordinate(r.number($,ne,qe)/this.worldSize,r.number(he,xe,qe)/this.worldSize)},ui.prototype.coordinatePoint=function(N){var Y=[N.x*this.worldSize,N.y*this.worldSize,0,1];return r.transformMat4(Y,Y,this.pixelMatrix),new r.Point(Y[0]/Y[3],Y[1]/Y[3])},ui.prototype.getBounds=function(){return new r.LngLatBounds().extend(this.pointLocation(new r.Point(0,0))).extend(this.pointLocation(new r.Point(this.width,0))).extend(this.pointLocation(new r.Point(this.width,this.height))).extend(this.pointLocation(new r.Point(0,this.height)))},ui.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new r.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},ui.prototype.setMaxBounds=function(N){N?(this.lngRange=[N.getWest(),N.getEast()],this.latRange=[N.getSouth(),N.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},ui.prototype.calculatePosMatrix=function(N,Y){Y===void 0&&(Y=!1);var G=N.key,C=Y?this._alignedPosMatrixCache:this._posMatrixCache;if(C[G])return C[G];var q=N.canonical,$=this.worldSize/this.zoomScale(q.z),ne=q.x+Math.pow(2,q.z)*N.wrap,he=r.identity(new Float64Array(16));return r.translate(he,he,[ne*$,q.y*$,0]),r.scale(he,he,[$/r.EXTENT,$/r.EXTENT,1]),r.multiply(he,Y?this.alignedProjMatrix:this.projMatrix,he),C[G]=new Float32Array(he),C[G]},ui.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},ui.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var N,Y,G,C,q=-90,$=90,ne=-180,he=180,xe=this.size,Pe=this._unmodified;if(this.latRange){var Fe=this.latRange;q=r.mercatorYfromLat(Fe[1])*this.worldSize,N=($=r.mercatorYfromLat(Fe[0])*this.worldSize)-q<xe.y?xe.y/($-q):0}if(this.lngRange){var qe=this.lngRange;ne=r.mercatorXfromLng(qe[0])*this.worldSize,Y=(he=r.mercatorXfromLng(qe[1])*this.worldSize)-ne<xe.x?xe.x/(he-ne):0}var Ze=this.point,it=Math.max(Y||0,N||0);if(it)return this.center=this.unproject(new r.Point(Y?(he+ne)/2:Ze.x,N?($+q)/2:Ze.y)),this.zoom+=this.scaleZoom(it),this._unmodified=Pe,void(this._constraining=!1);if(this.latRange){var pt=Ze.y,vt=xe.y/2;pt-vt<q&&(C=q+vt),pt+vt>$&&(C=$-vt)}if(this.lngRange){var Mt=Ze.x,Ct=xe.x/2;Mt-Ct<ne&&(G=ne+Ct),Mt+Ct>he&&(G=he-Ct)}G===void 0&&C===void 0||(this.center=this.unproject(new r.Point(G!==void 0?G:Ze.x,C!==void 0?C:Ze.y))),this._unmodified=Pe,this._constraining=!1}},ui.prototype._calcMatrices=function(){if(this.height){var N=this._fov/2,Y=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(N)*this.height;var G=Math.PI/2+this._pitch,C=this._fov*(.5+Y.y/this.height),q=Math.sin(C)*this.cameraToCenterDistance/Math.sin(r.clamp(Math.PI-G-C,.01,Math.PI-.01)),$=this.point,ne=$.x,he=$.y,xe=1.01*(Math.cos(Math.PI/2-this._pitch)*q+this.cameraToCenterDistance),Pe=this.height/50,Fe=new Float64Array(16);r.perspective(Fe,this._fov,this.width/this.height,Pe,xe),Fe[8]=2*-Y.x/this.width,Fe[9]=2*Y.y/this.height,r.scale(Fe,Fe,[1,-1,1]),r.translate(Fe,Fe,[0,0,-this.cameraToCenterDistance]),r.rotateX(Fe,Fe,this._pitch),r.rotateZ(Fe,Fe,this.angle),r.translate(Fe,Fe,[-ne,-he,0]),this.mercatorMatrix=r.scale([],Fe,[this.worldSize,this.worldSize,this.worldSize]),r.scale(Fe,Fe,[1,1,r.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Fe,this.invProjMatrix=r.invert([],this.projMatrix);var qe=this.width%2/2,Ze=this.height%2/2,it=Math.cos(this.angle),pt=Math.sin(this.angle),vt=ne-Math.round(ne)+it*qe+pt*Ze,Mt=he-Math.round(he)+it*Ze+pt*qe,Ct=new Float64Array(Fe);if(r.translate(Ct,Ct,[vt>.5?vt-1:vt,Mt>.5?Mt-1:Mt,0]),this.alignedProjMatrix=Ct,Fe=r.create(),r.scale(Fe,Fe,[this.width/2,-this.height/2,1]),r.translate(Fe,Fe,[1,-1,0]),this.labelPlaneMatrix=Fe,Fe=r.create(),r.scale(Fe,Fe,[1,-1,1]),r.translate(Fe,Fe,[-1,-1,0]),r.scale(Fe,Fe,[2/this.width,2/this.height,1]),this.glCoordMatrix=Fe,this.pixelMatrix=r.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(Fe=r.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=Fe,this._posMatrixCache={},this._alignedPosMatrixCache={}}},ui.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var N=this.pointCoordinate(new r.Point(0,0)),Y=[N.x*this.worldSize,N.y*this.worldSize,0,1];return r.transformMat4(Y,Y,this.pixelMatrix)[3]/this.cameraToCenterDistance},ui.prototype.getCameraPoint=function(){var N=this._pitch,Y=Math.tan(N)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new r.Point(0,Y))},ui.prototype.getCameraQueryGeometry=function(N){var Y=this.getCameraPoint();if(N.length===1)return[N[0],Y];for(var G=Y.x,C=Y.y,q=Y.x,$=Y.y,ne=0,he=N;ne<he.length;ne+=1){var xe=he[ne];G=Math.min(G,xe.x),C=Math.min(C,xe.y),q=Math.max(q,xe.x),$=Math.max($,xe.y)}return[new r.Point(G,C),new r.Point(q,C),new r.Point(q,$),new r.Point(G,$),new r.Point(G,C)]},Object.defineProperties(ui.prototype,gi);var io=function(N){var Y,G,C,q,$;this._hashName=N&&encodeURIComponent(N),r.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(Y=this._updateHashUnthrottled.bind(this),G=300,C=!1,q=null,$=function(){q=null,C&&(Y(),q=setTimeout($,G),C=!1)},function(){return C=!0,q||$(),q})};io.prototype.addTo=function(N){return this._map=N,r.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},io.prototype.remove=function(){return r.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},io.prototype.getHashString=function(N){var Y=this._map.getCenter(),G=Math.round(100*this._map.getZoom())/100,C=Math.ceil((G*Math.LN2+Math.log(512/360/.5))/Math.LN10),q=Math.pow(10,C),$=Math.round(Y.lng*q)/q,ne=Math.round(Y.lat*q)/q,he=this._map.getBearing(),xe=this._map.getPitch(),Pe="";if(Pe+=N?"/"+$+"/"+ne+"/"+G:G+"/"+ne+"/"+$,(he||xe)&&(Pe+="/"+Math.round(10*he)/10),xe&&(Pe+="/"+Math.round(xe)),this._hashName){var Fe=this._hashName,qe=!1,Ze=r.window.location.hash.slice(1).split("&").map(function(it){var pt=it.split("=")[0];return pt===Fe?(qe=!0,pt+"="+Pe):it}).filter(function(it){return it});return qe||Ze.push(Fe+"="+Pe),"#"+Ze.join("&")}return"#"+Pe},io.prototype._getCurrentHash=function(){var N,Y=this,G=r.window.location.hash.replace("#","");return this._hashName?(G.split("&").map(function(C){return C.split("=")}).forEach(function(C){C[0]===Y._hashName&&(N=C)}),(N&&N[1]||"").split("/")):G.split("/")},io.prototype._onHashChange=function(){var N=this._getCurrentHash();if(N.length>=3&&!N.some(function(G){return isNaN(G)})){var Y=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(N[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+N[2],+N[1]],zoom:+N[0],bearing:Y,pitch:+(N[4]||0)}),!0}return!1},io.prototype._updateHashUnthrottled=function(){var N=r.window.location.href.replace(/(#.+)?$/,this.getHashString());try{r.window.history.replaceState(r.window.history.state,null,N)}catch{}};var $s={linearity:.3,easing:r.bezier(0,0,.3,1)},bl=r.extend({deceleration:2500,maxSpeed:1400},$s),Xl=r.extend({deceleration:20,maxSpeed:1400},$s),_l=r.extend({deceleration:1e3,maxSpeed:360},$s),wl=r.extend({deceleration:1e3,maxSpeed:90},$s),co=function(N){this._map=N,this.clear()};function ps(N,Y){(!N.duration||N.duration<Y.duration)&&(N.duration=Y.duration,N.easing=Y.easing)}function ds(N,Y,G){var C=G.maxSpeed,q=G.linearity,$=G.deceleration,ne=r.clamp(N*q/(Y/1e3),-C,C),he=Math.abs(ne)/($*q);return{easing:G.easing,duration:1e3*he,amount:ne*(he/2)}}co.prototype.clear=function(){this._inertiaBuffer=[]},co.prototype.record=function(N){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:r.browser.now(),settings:N})},co.prototype._drainInertiaBuffer=function(){for(var N=this._inertiaBuffer,Y=r.browser.now();N.length>0&&Y-N[0].time>160;)N.shift()},co.prototype._onMoveEnd=function(N){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var Y={zoom:0,bearing:0,pitch:0,pan:new r.Point(0,0),pinchAround:void 0,around:void 0},G=0,C=this._inertiaBuffer;G<C.length;G+=1){var q=C[G].settings;Y.zoom+=q.zoomDelta||0,Y.bearing+=q.bearingDelta||0,Y.pitch+=q.pitchDelta||0,q.panDelta&&Y.pan._add(q.panDelta),q.around&&(Y.around=q.around),q.pinchAround&&(Y.pinchAround=q.pinchAround)}var $=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,ne={};if(Y.pan.mag()){var he=ds(Y.pan.mag(),$,r.extend({},bl,N||{}));ne.offset=Y.pan.mult(he.amount/Y.pan.mag()),ne.center=this._map.transform.center,ps(ne,he)}if(Y.zoom){var xe=ds(Y.zoom,$,Xl);ne.zoom=this._map.transform.zoom+xe.amount,ps(ne,xe)}if(Y.bearing){var Pe=ds(Y.bearing,$,_l);ne.bearing=this._map.transform.bearing+r.clamp(Pe.amount,-179,179),ps(ne,Pe)}if(Y.pitch){var Fe=ds(Y.pitch,$,wl);ne.pitch=this._map.transform.pitch+Fe.amount,ps(ne,Fe)}if(ne.zoom||ne.bearing){var qe=Y.pinchAround===void 0?Y.around:Y.pinchAround;ne.around=qe?this._map.unproject(qe):this._map.getCenter()}return this.clear(),r.extend(ne,{noMoveStart:!0})}};var Ca=function(N){function Y(C,q,$,ne){ne===void 0&&(ne={});var he=v.mousePos(q.getCanvasContainer(),$),xe=q.unproject(he);N.call(this,C,r.extend({point:he,lngLat:xe,originalEvent:$},ne)),this._defaultPrevented=!1,this.target=q}N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y;var G={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},G.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,G),Y}(r.Event),Tl=function(N){function Y(C,q,$){var ne=C==="touchend"?$.changedTouches:$.touches,he=v.touchPos(q.getCanvasContainer(),ne),xe=he.map(function(qe){return q.unproject(qe)}),Pe=he.reduce(function(qe,Ze,it,pt){return qe.add(Ze.div(pt.length))},new r.Point(0,0)),Fe=q.unproject(Pe);N.call(this,C,{points:he,point:Pe,lngLats:xe,lngLat:Fe,originalEvent:$}),this._defaultPrevented=!1}N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y;var G={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},G.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,G),Y}(r.Event),fo=function(N){function Y(C,q,$){N.call(this,C,{originalEvent:$}),this._defaultPrevented=!1}N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y;var G={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},G.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,G),Y}(r.Event),fa=function(N,Y){this._map=N,this._clickTolerance=Y.clickTolerance};fa.prototype.reset=function(){delete this._mousedownPos},fa.prototype.wheel=function(N){return this._firePreventable(new fo(N.type,this._map,N))},fa.prototype.mousedown=function(N,Y){return this._mousedownPos=Y,this._firePreventable(new Ca(N.type,this._map,N))},fa.prototype.mouseup=function(N){this._map.fire(new Ca(N.type,this._map,N))},fa.prototype.click=function(N,Y){this._mousedownPos&&this._mousedownPos.dist(Y)>=this._clickTolerance||this._map.fire(new Ca(N.type,this._map,N))},fa.prototype.dblclick=function(N){return this._firePreventable(new Ca(N.type,this._map,N))},fa.prototype.mouseover=function(N){this._map.fire(new Ca(N.type,this._map,N))},fa.prototype.mouseout=function(N){this._map.fire(new Ca(N.type,this._map,N))},fa.prototype.touchstart=function(N){return this._firePreventable(new Tl(N.type,this._map,N))},fa.prototype.touchmove=function(N){this._map.fire(new Tl(N.type,this._map,N))},fa.prototype.touchend=function(N){this._map.fire(new Tl(N.type,this._map,N))},fa.prototype.touchcancel=function(N){this._map.fire(new Tl(N.type,this._map,N))},fa.prototype._firePreventable=function(N){if(this._map.fire(N),N.defaultPrevented)return{}},fa.prototype.isEnabled=function(){return!0},fa.prototype.isActive=function(){return!1},fa.prototype.enable=function(){},fa.prototype.disable=function(){};var va=function(N){this._map=N};va.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},va.prototype.mousemove=function(N){this._map.fire(new Ca(N.type,this._map,N))},va.prototype.mousedown=function(){this._delayContextMenu=!0},va.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ca("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},va.prototype.contextmenu=function(N){this._delayContextMenu?this._contextMenuEvent=N:this._map.fire(new Ca(N.type,this._map,N)),this._map.listens("contextmenu")&&N.preventDefault()},va.prototype.isEnabled=function(){return!0},va.prototype.isActive=function(){return!1},va.prototype.enable=function(){},va.prototype.disable=function(){};var Mi=function(N,Y){this._map=N,this._el=N.getCanvasContainer(),this._container=N.getContainer(),this._clickTolerance=Y.clickTolerance||1};function ma(N,Y){for(var G={},C=0;C<N.length;C++)G[N[C].identifier]=Y[C];return G}Mi.prototype.isEnabled=function(){return!!this._enabled},Mi.prototype.isActive=function(){return!!this._active},Mi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Mi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Mi.prototype.mousedown=function(N,Y){this.isEnabled()&&N.shiftKey&&N.button===0&&(v.disableDrag(),this._startPos=this._lastPos=Y,this._active=!0)},Mi.prototype.mousemoveWindow=function(N,Y){if(this._active){var G=Y;if(!(this._lastPos.equals(G)||!this._box&&G.dist(this._startPos)<this._clickTolerance)){var C=this._startPos;this._lastPos=G,this._box||(this._box=v.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",N));var q=Math.min(C.x,G.x),$=Math.max(C.x,G.x),ne=Math.min(C.y,G.y),he=Math.max(C.y,G.y);v.setTransform(this._box,"translate("+q+"px,"+ne+"px)"),this._box.style.width=$-q+"px",this._box.style.height=he-ne+"px"}}},Mi.prototype.mouseupWindow=function(N,Y){var G=this;if(this._active&&N.button===0){var C=this._startPos,q=Y;if(this.reset(),v.suppressClick(),C.x!==q.x||C.y!==q.y)return this._map.fire(new r.Event("boxzoomend",{originalEvent:N})),{cameraAnimation:function($){return $.fitScreenCoordinates(C,q,G._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",N)}},Mi.prototype.keydown=function(N){this._active&&N.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",N))},Mi.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(v.remove(this._box),this._box=null),v.enableDrag(),delete this._startPos,delete this._lastPos},Mi.prototype._fireEvent=function(N,Y){return this._map.fire(new r.Event(N,{originalEvent:Y}))};var Fo=function(N){this.reset(),this.numTouches=N.numTouches};Fo.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Fo.prototype.touchstart=function(N,Y,G){(this.centroid||G.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=N.timeStamp),G.length===this.numTouches&&(this.centroid=function(C){for(var q=new r.Point(0,0),$=0,ne=C;$<ne.length;$+=1){var he=ne[$];q._add(he)}return q.div(C.length)}(Y),this.touches=ma(G,Y)))},Fo.prototype.touchmove=function(N,Y,G){if(!this.aborted&&this.centroid){var C=ma(G,Y);for(var q in this.touches){var $=this.touches[q],ne=C[q];(!ne||ne.dist($)>30)&&(this.aborted=!0)}}},Fo.prototype.touchend=function(N,Y,G){if((!this.centroid||N.timeStamp-this.startTime>500)&&(this.aborted=!0),G.length===0){var C=!this.aborted&&this.centroid;if(this.reset(),C)return C}};var Bs=function(N){this.singleTap=new Fo(N),this.numTaps=N.numTaps,this.reset()};Bs.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Bs.prototype.touchstart=function(N,Y,G){this.singleTap.touchstart(N,Y,G)},Bs.prototype.touchmove=function(N,Y,G){this.singleTap.touchmove(N,Y,G)},Bs.prototype.touchend=function(N,Y,G){var C=this.singleTap.touchend(N,Y,G);if(C){var q=N.timeStamp-this.lastTime<500,$=!this.lastTap||this.lastTap.dist(C)<30;if(q&&$||this.reset(),this.count++,this.lastTime=N.timeStamp,this.lastTap=C,this.count===this.numTaps)return this.reset(),C}};var Mo=function(){this._zoomIn=new Bs({numTouches:1,numTaps:2}),this._zoomOut=new Bs({numTouches:2,numTaps:1}),this.reset()};Mo.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Mo.prototype.touchstart=function(N,Y,G){this._zoomIn.touchstart(N,Y,G),this._zoomOut.touchstart(N,Y,G)},Mo.prototype.touchmove=function(N,Y,G){this._zoomIn.touchmove(N,Y,G),this._zoomOut.touchmove(N,Y,G)},Mo.prototype.touchend=function(N,Y,G){var C=this,q=this._zoomIn.touchend(N,Y,G),$=this._zoomOut.touchend(N,Y,G);return q?(this._active=!0,N.preventDefault(),setTimeout(function(){return C.reset()},0),{cameraAnimation:function(ne){return ne.easeTo({duration:300,zoom:ne.getZoom()+1,around:ne.unproject(q)},{originalEvent:N})}}):$?(this._active=!0,N.preventDefault(),setTimeout(function(){return C.reset()},0),{cameraAnimation:function(ne){return ne.easeTo({duration:300,zoom:ne.getZoom()-1,around:ne.unproject($)},{originalEvent:N})}}):void 0},Mo.prototype.touchcancel=function(){this.reset()},Mo.prototype.enable=function(){this._enabled=!0},Mo.prototype.disable=function(){this._enabled=!1,this.reset()},Mo.prototype.isEnabled=function(){return this._enabled},Mo.prototype.isActive=function(){return this._active};var gs={};gs[0]=1,gs[2]=2;var ja=function(N){this.reset(),this._clickTolerance=N.clickTolerance||1};ja.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},ja.prototype._correctButton=function(N,Y){return!1},ja.prototype._move=function(N,Y){return{}},ja.prototype.mousedown=function(N,Y){if(!this._lastPoint){var G=v.mouseButton(N);this._correctButton(N,G)&&(this._lastPoint=Y,this._eventButton=G)}},ja.prototype.mousemoveWindow=function(N,Y){var G=this._lastPoint;if(G){if(N.preventDefault(),function(C,q){var $=gs[q];return C.buttons===void 0||(C.buttons&$)!==$}(N,this._eventButton))this.reset();else if(this._moved||!(Y.dist(G)<this._clickTolerance))return this._moved=!0,this._lastPoint=Y,this._move(G,Y)}},ja.prototype.mouseupWindow=function(N){this._lastPoint&&v.mouseButton(N)===this._eventButton&&(this._moved&&v.suppressClick(),this.reset())},ja.prototype.enable=function(){this._enabled=!0},ja.prototype.disable=function(){this._enabled=!1,this.reset()},ja.prototype.isEnabled=function(){return this._enabled},ja.prototype.isActive=function(){return this._active};var Ns=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.mousedown=function(G,C){N.prototype.mousedown.call(this,G,C),this._lastPoint&&(this._active=!0)},Y.prototype._correctButton=function(G,C){return C===0&&!G.ctrlKey},Y.prototype._move=function(G,C){return{around:C,panDelta:C.sub(G)}},Y}(ja),Ko=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype._correctButton=function(G,C){return C===0&&G.ctrlKey||C===2},Y.prototype._move=function(G,C){var q=.8*(C.x-G.x);if(q)return this._active=!0,{bearingDelta:q}},Y.prototype.contextmenu=function(G){G.preventDefault()},Y}(ja),ho=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype._correctButton=function(G,C){return C===0&&G.ctrlKey||C===2},Y.prototype._move=function(G,C){var q=-.5*(C.y-G.y);if(q)return this._active=!0,{pitchDelta:q}},Y.prototype.contextmenu=function(G){G.preventDefault()},Y}(ja),po=function(N){this._minTouches=1,this._clickTolerance=N.clickTolerance||1,this.reset()};po.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new r.Point(0,0)},po.prototype.touchstart=function(N,Y,G){return this._calculateTransform(N,Y,G)},po.prototype.touchmove=function(N,Y,G){if(this._active&&!(G.length<this._minTouches))return N.preventDefault(),this._calculateTransform(N,Y,G)},po.prototype.touchend=function(N,Y,G){this._calculateTransform(N,Y,G),this._active&&G.length<this._minTouches&&this.reset()},po.prototype.touchcancel=function(){this.reset()},po.prototype._calculateTransform=function(N,Y,G){G.length>0&&(this._active=!0);var C=ma(G,Y),q=new r.Point(0,0),$=new r.Point(0,0),ne=0;for(var he in C){var xe=C[he],Pe=this._touches[he];Pe&&(q._add(xe),$._add(xe.sub(Pe)),ne++,C[he]=xe)}if(this._touches=C,!(ne<this._minTouches)&&$.mag()){var Fe=$.div(ne);if(this._sum._add(Fe),!(this._sum.mag()<this._clickTolerance))return{around:q.div(ne),panDelta:Fe}}},po.prototype.enable=function(){this._enabled=!0},po.prototype.disable=function(){this._enabled=!1,this.reset()},po.prototype.isEnabled=function(){return this._enabled},po.prototype.isActive=function(){return this._active};var Si=function(){this.reset()};function Ao(N,Y,G){for(var C=0;C<N.length;C++)if(N[C].identifier===G)return Y[C]}Si.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Si.prototype._start=function(N){},Si.prototype._move=function(N,Y,G){return{}},Si.prototype.touchstart=function(N,Y,G){this._firstTwoTouches||G.length<2||(this._firstTwoTouches=[G[0].identifier,G[1].identifier],this._start([Y[0],Y[1]]))},Si.prototype.touchmove=function(N,Y,G){if(this._firstTwoTouches){N.preventDefault();var C=this._firstTwoTouches,q=C[0],$=C[1],ne=Ao(G,Y,q),he=Ao(G,Y,$);if(ne&&he){var xe=this._aroundCenter?null:ne.add(he).div(2);return this._move([ne,he],xe,N)}}},Si.prototype.touchend=function(N,Y,G){if(this._firstTwoTouches){var C=this._firstTwoTouches,q=C[0],$=C[1],ne=Ao(G,Y,q),he=Ao(G,Y,$);ne&&he||(this._active&&v.suppressClick(),this.reset())}},Si.prototype.touchcancel=function(){this.reset()},Si.prototype.enable=function(N){this._enabled=!0,this._aroundCenter=!!N&&N.around==="center"},Si.prototype.disable=function(){this._enabled=!1,this.reset()},Si.prototype.isEnabled=function(){return this._enabled},Si.prototype.isActive=function(){return this._active};function Ir(N,Y){return Math.log(N/Y)/Math.LN2}var kl=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.reset=function(){N.prototype.reset.call(this),delete this._distance,delete this._startDistance},Y.prototype._start=function(G){this._startDistance=this._distance=G[0].dist(G[1])},Y.prototype._move=function(G,C){var q=this._distance;if(this._distance=G[0].dist(G[1]),this._active||!(Math.abs(Ir(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ir(this._distance,q),pinchAround:C}},Y}(Si);function uu(N,Y){return 180*N.angleWith(Y)/Math.PI}var vs=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.reset=function(){N.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},Y.prototype._start=function(G){this._startVector=this._vector=G[0].sub(G[1]),this._minDiameter=G[0].dist(G[1])},Y.prototype._move=function(G,C){var q=this._vector;if(this._vector=G[0].sub(G[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:uu(this._vector,q),pinchAround:C}},Y.prototype._isBelowThreshold=function(G){this._minDiameter=Math.min(this._minDiameter,G.mag());var C=25/(Math.PI*this._minDiameter)*360,q=uu(G,this._startVector);return Math.abs(q)<C},Y}(Si);function ms(N){return Math.abs(N.y)>Math.abs(N.x)}var js=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.reset=function(){N.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},Y.prototype._start=function(G){this._lastPoints=G,ms(G[0].sub(G[1]))&&(this._valid=!1)},Y.prototype._move=function(G,C,q){var $=G[0].sub(this._lastPoints[0]),ne=G[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically($,ne,q.timeStamp),this._valid)return this._lastPoints=G,this._active=!0,{pitchDelta:($.y+ne.y)/2*-.5}},Y.prototype.gestureBeginsVertically=function(G,C,q){if(this._valid!==void 0)return this._valid;var $=G.mag()>=2,ne=C.mag()>=2;if($||ne){if(!$||!ne)return this._firstMove===void 0&&(this._firstMove=q),q-this._firstMove<100&&void 0;var he=G.y>0==C.y>0;return ms(G)&&ms(C)&&he}},Y}(Si),el={panStep:100,bearingStep:15,pitchStep:10},Tr=function(){var N=el;this._panStep=N.panStep,this._bearingStep=N.bearingStep,this._pitchStep=N.pitchStep,this._rotationDisabled=!1};function Ml(N){return N*(2-N)}Tr.prototype.reset=function(){this._active=!1},Tr.prototype.keydown=function(N){var Y=this;if(!(N.altKey||N.ctrlKey||N.metaKey)){var G=0,C=0,q=0,$=0,ne=0;switch(N.keyCode){case 61:case 107:case 171:case 187:G=1;break;case 189:case 109:case 173:G=-1;break;case 37:N.shiftKey?C=-1:(N.preventDefault(),$=-1);break;case 39:N.shiftKey?C=1:(N.preventDefault(),$=1);break;case 38:N.shiftKey?q=1:(N.preventDefault(),ne=-1);break;case 40:N.shiftKey?q=-1:(N.preventDefault(),ne=1);break;default:return}return this._rotationDisabled&&(C=0,q=0),{cameraAnimation:function(he){var xe=he.getZoom();he.easeTo({duration:300,easeId:"keyboardHandler",easing:Ml,zoom:G?Math.round(xe)+G*(N.shiftKey?2:1):xe,bearing:he.getBearing()+C*Y._bearingStep,pitch:he.getPitch()+q*Y._pitchStep,offset:[-$*Y._panStep,-ne*Y._panStep],center:he.getCenter()},{originalEvent:N})}}}},Tr.prototype.enable=function(){this._enabled=!0},Tr.prototype.disable=function(){this._enabled=!1,this.reset()},Tr.prototype.isEnabled=function(){return this._enabled},Tr.prototype.isActive=function(){return this._active},Tr.prototype.disableRotation=function(){this._rotationDisabled=!0},Tr.prototype.enableRotation=function(){this._rotationDisabled=!1};var Qo=4.000244140625,ha=function(N,Y){this._map=N,this._el=N.getCanvasContainer(),this._handler=Y,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,r.bindAll(["_onTimeout"],this)};ha.prototype.setZoomRate=function(N){this._defaultZoomRate=N},ha.prototype.setWheelZoomRate=function(N){this._wheelZoomRate=N},ha.prototype.isEnabled=function(){return!!this._enabled},ha.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},ha.prototype.isZooming=function(){return!!this._zooming},ha.prototype.enable=function(N){this.isEnabled()||(this._enabled=!0,this._aroundCenter=N&&N.around==="center")},ha.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ha.prototype.wheel=function(N){if(this.isEnabled()){var Y=N.deltaMode===r.window.WheelEvent.DOM_DELTA_LINE?40*N.deltaY:N.deltaY,G=r.browser.now(),C=G-(this._lastWheelEventTime||0);this._lastWheelEventTime=G,Y!==0&&Y%Qo==0?this._type="wheel":Y!==0&&Math.abs(Y)<4?this._type="trackpad":C>400?(this._type=null,this._lastValue=Y,this._timeout=setTimeout(this._onTimeout,40,N)):this._type||(this._type=Math.abs(C*Y)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,Y+=this._lastValue)),N.shiftKey&&Y&&(Y/=4),this._type&&(this._lastWheelEvent=N,this._delta-=Y,this._active||this._start(N)),N.preventDefault()}},ha.prototype._onTimeout=function(N){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(N)},ha.prototype._start=function(N){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var Y=v.mousePos(this._el,N);this._around=r.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(Y)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},ha.prototype.renderFrame=function(){var N=this;if(this._frameId&&(this._frameId=null,this.isActive())){var Y=this._map.transform;if(this._delta!==0){var G=this._type==="wheel"&&Math.abs(this._delta)>Qo?this._wheelZoomRate:this._defaultZoomRate,C=2/(1+Math.exp(-Math.abs(this._delta*G)));this._delta<0&&C!==0&&(C=1/C);var q=typeof this._targetZoom=="number"?Y.zoomScale(this._targetZoom):Y.scale;this._targetZoom=Math.min(Y.maxZoom,Math.max(Y.minZoom,Y.scaleZoom(q*C))),this._type==="wheel"&&(this._startZoom=Y.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var $,ne=typeof this._targetZoom=="number"?this._targetZoom:Y.zoom,he=this._startZoom,xe=this._easing,Pe=!1;if(this._type==="wheel"&&he&&xe){var Fe=Math.min((r.browser.now()-this._lastWheelEventTime)/200,1),qe=xe(Fe);$=r.number(he,ne,qe),Fe<1?this._frameId||(this._frameId=!0):Pe=!0}else $=ne,Pe=!0;return this._active=!0,Pe&&(this._active=!1,this._finishTimeout=setTimeout(function(){N._zooming=!1,N._handler._triggerRenderFrame(),delete N._targetZoom,delete N._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Pe,zoomDelta:$-Y.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},ha.prototype._smoothOutEasing=function(N){var Y=r.ease;if(this._prevEase){var G=this._prevEase,C=(r.browser.now()-G.start)/G.duration,q=G.easing(C+.01)-G.easing(C),$=.27/Math.sqrt(q*q+1e-4)*.01,ne=Math.sqrt(.0729-$*$);Y=r.bezier($,ne,.25,1)}return this._prevEase={start:r.browser.now(),duration:N,easing:Y},Y},ha.prototype.reset=function(){this._active=!1};var ys=function(N,Y){this._clickZoom=N,this._tapZoom=Y};ys.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ys.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ys.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ys.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var So=function(){this.reset()};So.prototype.reset=function(){this._active=!1},So.prototype.dblclick=function(N,Y){return N.preventDefault(),{cameraAnimation:function(G){G.easeTo({duration:300,zoom:G.getZoom()+(N.shiftKey?-1:1),around:G.unproject(Y)},{originalEvent:N})}}},So.prototype.enable=function(){this._enabled=!0},So.prototype.disable=function(){this._enabled=!1,this.reset()},So.prototype.isEnabled=function(){return this._enabled},So.prototype.isActive=function(){return this._active};var go=function(){this._tap=new Bs({numTouches:1,numTaps:1}),this.reset()};go.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},go.prototype.touchstart=function(N,Y,G){this._swipePoint||(this._tapTime&&N.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?G.length>0&&(this._swipePoint=Y[0],this._swipeTouch=G[0].identifier):this._tap.touchstart(N,Y,G))},go.prototype.touchmove=function(N,Y,G){if(this._tapTime){if(this._swipePoint){if(G[0].identifier!==this._swipeTouch)return;var C=Y[0],q=C.y-this._swipePoint.y;return this._swipePoint=C,N.preventDefault(),this._active=!0,{zoomDelta:q/128}}}else this._tap.touchmove(N,Y,G)},go.prototype.touchend=function(N,Y,G){this._tapTime?this._swipePoint&&G.length===0&&this.reset():this._tap.touchend(N,Y,G)&&(this._tapTime=N.timeStamp)},go.prototype.touchcancel=function(){this.reset()},go.prototype.enable=function(){this._enabled=!0},go.prototype.disable=function(){this._enabled=!1,this.reset()},go.prototype.isEnabled=function(){return this._enabled},go.prototype.isActive=function(){return this._active};var Oa=function(N,Y,G){this._el=N,this._mousePan=Y,this._touchPan=G};Oa.prototype.enable=function(N){this._inertiaOptions=N||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Oa.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Oa.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Oa.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Bo=function(N,Y,G){this._pitchWithRotate=N.pitchWithRotate,this._mouseRotate=Y,this._mousePitch=G};Bo.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Bo.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Bo.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Bo.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var vo=function(N,Y,G,C){this._el=N,this._touchZoom=Y,this._touchRotate=G,this._tapDragZoom=C,this._rotationDisabled=!1,this._enabled=!0};vo.prototype.enable=function(N){this._touchZoom.enable(N),this._rotationDisabled||this._touchRotate.enable(N),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},vo.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},vo.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},vo.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},vo.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},vo.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var $o=function(N){return N.zoom||N.drag||N.pitch||N.rotate},Al=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y}(r.Event);function xs(N){return N.panDelta&&N.panDelta.mag()||N.zoomDelta||N.bearingDelta||N.pitchDelta}var oi=function(N,Y){this._map=N,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new co(N),this._bearingSnap=Y.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(Y),r.bindAll(["handleEvent","handleWindowEvent"],this);var G=this._el;this._listeners=[[G,"touchstart",{passive:!0}],[G,"touchmove",{passive:!1}],[G,"touchend",void 0],[G,"touchcancel",void 0],[G,"mousedown",void 0],[G,"mousemove",void 0],[G,"mouseup",void 0],[r.window.document,"mousemove",{capture:!0}],[r.window.document,"mouseup",void 0],[G,"mouseover",void 0],[G,"mouseout",void 0],[G,"dblclick",void 0],[G,"click",void 0],[G,"keydown",{capture:!1}],[G,"keyup",void 0],[G,"wheel",{passive:!1}],[G,"contextmenu",void 0],[r.window,"blur",void 0]];for(var C=0,q=this._listeners;C<q.length;C+=1){var $=q[C],ne=$[0],he=$[1],xe=$[2];v.addEventListener(ne,he,ne===r.window.document?this.handleWindowEvent:this.handleEvent,xe)}};oi.prototype.destroy=function(){for(var N=0,Y=this._listeners;N<Y.length;N+=1){var G=Y[N],C=G[0],q=G[1],$=G[2];v.removeEventListener(C,q,C===r.window.document?this.handleWindowEvent:this.handleEvent,$)}},oi.prototype._addDefaultHandlers=function(N){var Y=this._map,G=Y.getCanvasContainer();this._add("mapEvent",new fa(Y,N));var C=Y.boxZoom=new Mi(Y,N);this._add("boxZoom",C);var q=new Mo,$=new So;Y.doubleClickZoom=new ys($,q),this._add("tapZoom",q),this._add("clickZoom",$);var ne=new go;this._add("tapDragZoom",ne);var he=Y.touchPitch=new js;this._add("touchPitch",he);var xe=new Ko(N),Pe=new ho(N);Y.dragRotate=new Bo(N,xe,Pe),this._add("mouseRotate",xe,["mousePitch"]),this._add("mousePitch",Pe,["mouseRotate"]);var Fe=new Ns(N),qe=new po(N);Y.dragPan=new Oa(G,Fe,qe),this._add("mousePan",Fe),this._add("touchPan",qe,["touchZoom","touchRotate"]);var Ze=new vs,it=new kl;Y.touchZoomRotate=new vo(G,it,Ze,ne),this._add("touchRotate",Ze,["touchPan","touchZoom"]),this._add("touchZoom",it,["touchPan","touchRotate"]);var pt=Y.scrollZoom=new ha(Y,this);this._add("scrollZoom",pt,["mousePan"]);var vt=Y.keyboard=new Tr;this._add("keyboard",vt),this._add("blockableMapEvent",new va(Y));for(var Mt=0,Ct=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Mt<Ct.length;Mt+=1){var Et=Ct[Mt];N.interactive&&N[Et]&&Y[Et].enable(N[Et])}},oi.prototype._add=function(N,Y,G){this._handlers.push({handlerName:N,handler:Y,allowed:G}),this._handlersById[N]=Y},oi.prototype.stop=function(N){if(!this._updatingCamera){for(var Y=0,G=this._handlers;Y<G.length;Y+=1)G[Y].handler.reset();this._inertia.clear(),this._fireEvents({},{},N),this._changes=[]}},oi.prototype.isActive=function(){for(var N=0,Y=this._handlers;N<Y.length;N+=1)if(Y[N].handler.isActive())return!0;return!1},oi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},oi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},oi.prototype.isMoving=function(){return!!$o(this._eventsInProgress)||this.isZooming()},oi.prototype._blockedByActive=function(N,Y,G){for(var C in N)if(C!==G&&(!Y||Y.indexOf(C)<0))return!0;return!1},oi.prototype.handleWindowEvent=function(N){this.handleEvent(N,N.type+"Window")},oi.prototype._getMapTouches=function(N){for(var Y=[],G=0,C=N;G<C.length;G+=1){var q=C[G],$=q.target;this._el.contains($)&&Y.push(q)}return Y},oi.prototype.handleEvent=function(N,Y){if(N.type!=="blur"){this._updatingCamera=!0;for(var G=N.type==="renderFrame"?void 0:N,C={needsRenderFrame:!1},q={},$={},ne=N.touches?this._getMapTouches(N.touches):void 0,he=ne?v.touchPos(this._el,ne):v.mousePos(this._el,N),xe=0,Pe=this._handlers;xe<Pe.length;xe+=1){var Fe=Pe[xe],qe=Fe.handlerName,Ze=Fe.handler,it=Fe.allowed;if(Ze.isEnabled()){var pt=void 0;this._blockedByActive($,it,qe)?Ze.reset():Ze[Y||N.type]&&(pt=Ze[Y||N.type](N,he,ne),this.mergeHandlerResult(C,q,pt,qe,G),pt&&pt.needsRenderFrame&&this._triggerRenderFrame()),(pt||Ze.isActive())&&($[qe]=Ze)}}var vt={};for(var Mt in this._previousActiveHandlers)$[Mt]||(vt[Mt]=G);this._previousActiveHandlers=$,(Object.keys(vt).length||xs(C))&&(this._changes.push([C,q,vt]),this._triggerRenderFrame()),(Object.keys($).length||xs(C))&&this._map._stop(!0),this._updatingCamera=!1;var Ct=C.cameraAnimation;Ct&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ct(this._map))}else this.stop(!0)},oi.prototype.mergeHandlerResult=function(N,Y,G,C,q){if(G){r.extend(N,G);var $={handlerName:C,originalEvent:G.originalEvent||q};G.zoomDelta!==void 0&&(Y.zoom=$),G.panDelta!==void 0&&(Y.drag=$),G.pitchDelta!==void 0&&(Y.pitch=$),G.bearingDelta!==void 0&&(Y.rotate=$)}},oi.prototype._applyChanges=function(){for(var N={},Y={},G={},C=0,q=this._changes;C<q.length;C+=1){var $=q[C],ne=$[0],he=$[1],xe=$[2];ne.panDelta&&(N.panDelta=(N.panDelta||new r.Point(0,0))._add(ne.panDelta)),ne.zoomDelta&&(N.zoomDelta=(N.zoomDelta||0)+ne.zoomDelta),ne.bearingDelta&&(N.bearingDelta=(N.bearingDelta||0)+ne.bearingDelta),ne.pitchDelta&&(N.pitchDelta=(N.pitchDelta||0)+ne.pitchDelta),ne.around!==void 0&&(N.around=ne.around),ne.pinchAround!==void 0&&(N.pinchAround=ne.pinchAround),ne.noInertia&&(N.noInertia=ne.noInertia),r.extend(Y,he),r.extend(G,xe)}this._updateMapTransform(N,Y,G),this._changes=[]},oi.prototype._updateMapTransform=function(N,Y,G){var C=this._map,q=C.transform;if(!xs(N))return this._fireEvents(Y,G,!0);var $=N.panDelta,ne=N.zoomDelta,he=N.bearingDelta,xe=N.pitchDelta,Pe=N.around,Fe=N.pinchAround;Fe!==void 0&&(Pe=Fe),C._stop(!0),Pe=Pe||C.transform.centerPoint;var qe=q.pointLocation($?Pe.sub($):Pe);he&&(q.bearing+=he),xe&&(q.pitch+=xe),ne&&(q.zoom+=ne),q.setLocationAtPoint(qe,Pe),this._map._update(),N.noInertia||this._inertia.record(N),this._fireEvents(Y,G,!0)},oi.prototype._fireEvents=function(N,Y,G){var C=this,q=$o(this._eventsInProgress),$=$o(N),ne={};for(var he in N){var xe=N[he].originalEvent;this._eventsInProgress[he]||(ne[he+"start"]=xe),this._eventsInProgress[he]=N[he]}for(var Pe in!q&&$&&this._fireEvent("movestart",$.originalEvent),ne)this._fireEvent(Pe,ne[Pe]);for(var Fe in $&&this._fireEvent("move",$.originalEvent),N){var qe=N[Fe].originalEvent;this._fireEvent(Fe,qe)}var Ze,it={};for(var pt in this._eventsInProgress){var vt=this._eventsInProgress[pt],Mt=vt.handlerName,Ct=vt.originalEvent;this._handlersById[Mt].isActive()||(delete this._eventsInProgress[pt],Ze=Y[Mt]||Ct,it[pt+"end"]=Ze)}for(var Et in it)this._fireEvent(Et,it[Et]);var jt=$o(this._eventsInProgress);if(G&&(q||$)&&!jt){this._updatingCamera=!0;var zt=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Qt=function(Wt){return Wt!==0&&-C._bearingSnap<Wt&&Wt<C._bearingSnap};zt?(Qt(zt.bearing||this._map.getBearing())&&(zt.bearing=0),this._map.easeTo(zt,{originalEvent:Ze})):(this._map.fire(new r.Event("moveend",{originalEvent:Ze})),Qt(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},oi.prototype._fireEvent=function(N,Y){this._map.fire(new r.Event(N,Y?{originalEvent:Y}:{}))},oi.prototype._requestFrame=function(){var N=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(Y){delete N._frameId,N.handleEvent(new Al("renderFrame",{timeStamp:Y})),N._applyChanges()})},oi.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var ya=function(N){function Y(G,C){N.call(this),this._moving=!1,this._zooming=!1,this.transform=G,this._bearingSnap=C.bearingSnap,r.bindAll(["_renderFrameCallback"],this)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getCenter=function(){return new r.LngLat(this.transform.center.lng,this.transform.center.lat)},Y.prototype.setCenter=function(G,C){return this.jumpTo({center:G},C)},Y.prototype.panBy=function(G,C,q){return G=r.Point.convert(G).mult(-1),this.panTo(this.transform.center,r.extend({offset:G},C),q)},Y.prototype.panTo=function(G,C,q){return this.easeTo(r.extend({center:G},C),q)},Y.prototype.getZoom=function(){return this.transform.zoom},Y.prototype.setZoom=function(G,C){return this.jumpTo({zoom:G},C),this},Y.prototype.zoomTo=function(G,C,q){return this.easeTo(r.extend({zoom:G},C),q)},Y.prototype.zoomIn=function(G,C){return this.zoomTo(this.getZoom()+1,G,C),this},Y.prototype.zoomOut=function(G,C){return this.zoomTo(this.getZoom()-1,G,C),this},Y.prototype.getBearing=function(){return this.transform.bearing},Y.prototype.setBearing=function(G,C){return this.jumpTo({bearing:G},C),this},Y.prototype.getPadding=function(){return this.transform.padding},Y.prototype.setPadding=function(G,C){return this.jumpTo({padding:G},C),this},Y.prototype.rotateTo=function(G,C,q){return this.easeTo(r.extend({bearing:G},C),q)},Y.prototype.resetNorth=function(G,C){return this.rotateTo(0,r.extend({duration:1e3},G),C),this},Y.prototype.resetNorthPitch=function(G,C){return this.easeTo(r.extend({bearing:0,pitch:0,duration:1e3},G),C),this},Y.prototype.snapToNorth=function(G,C){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(G,C):this},Y.prototype.getPitch=function(){return this.transform.pitch},Y.prototype.setPitch=function(G,C){return this.jumpTo({pitch:G},C),this},Y.prototype.cameraForBounds=function(G,C){G=r.LngLatBounds.convert(G);var q=C&&C.bearing||0;return this._cameraForBoxAndBearing(G.getNorthWest(),G.getSouthEast(),q,C)},Y.prototype._cameraForBoxAndBearing=function(G,C,q,$){var ne={top:0,bottom:0,right:0,left:0};if(typeof($=r.extend({padding:ne,offset:[0,0],maxZoom:this.transform.maxZoom},$)).padding=="number"){var he=$.padding;$.padding={top:he,bottom:he,right:he,left:he}}$.padding=r.extend(ne,$.padding);var xe=this.transform,Pe=xe.padding,Fe=xe.project(r.LngLat.convert(G)),qe=xe.project(r.LngLat.convert(C)),Ze=Fe.rotate(-q*Math.PI/180),it=qe.rotate(-q*Math.PI/180),pt=new r.Point(Math.max(Ze.x,it.x),Math.max(Ze.y,it.y)),vt=new r.Point(Math.min(Ze.x,it.x),Math.min(Ze.y,it.y)),Mt=pt.sub(vt),Ct=(xe.width-(Pe.left+Pe.right+$.padding.left+$.padding.right))/Mt.x,Et=(xe.height-(Pe.top+Pe.bottom+$.padding.top+$.padding.bottom))/Mt.y;if(!(Et<0||Ct<0)){var jt=Math.min(xe.scaleZoom(xe.scale*Math.min(Ct,Et)),$.maxZoom),zt=typeof $.offset.x=="number"?new r.Point($.offset.x,$.offset.y):r.Point.convert($.offset),Qt=($.padding.left-$.padding.right)/2,Wt=($.padding.top-$.padding.bottom)/2,Vt=new r.Point(Qt,Wt).rotate(q*Math.PI/180),gn=zt.add(Vt).mult(xe.scale/xe.zoomScale(jt));return{center:xe.unproject(Fe.add(qe).div(2).sub(gn)),zoom:jt,bearing:q}}r.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},Y.prototype.fitBounds=function(G,C,q){return this._fitInternal(this.cameraForBounds(G,C),C,q)},Y.prototype.fitScreenCoordinates=function(G,C,q,$,ne){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(r.Point.convert(G)),this.transform.pointLocation(r.Point.convert(C)),q,$),$,ne)},Y.prototype._fitInternal=function(G,C,q){return G?(delete(C=r.extend(G,C)).padding,C.linear?this.easeTo(C,q):this.flyTo(C,q)):this},Y.prototype.jumpTo=function(G,C){this.stop();var q=this.transform,$=!1,ne=!1,he=!1;return"zoom"in G&&q.zoom!==+G.zoom&&($=!0,q.zoom=+G.zoom),G.center!==void 0&&(q.center=r.LngLat.convert(G.center)),"bearing"in G&&q.bearing!==+G.bearing&&(ne=!0,q.bearing=+G.bearing),"pitch"in G&&q.pitch!==+G.pitch&&(he=!0,q.pitch=+G.pitch),G.padding==null||q.isPaddingEqual(G.padding)||(q.padding=G.padding),this.fire(new r.Event("movestart",C)).fire(new r.Event("move",C)),$&&this.fire(new r.Event("zoomstart",C)).fire(new r.Event("zoom",C)).fire(new r.Event("zoomend",C)),ne&&this.fire(new r.Event("rotatestart",C)).fire(new r.Event("rotate",C)).fire(new r.Event("rotateend",C)),he&&this.fire(new r.Event("pitchstart",C)).fire(new r.Event("pitch",C)).fire(new r.Event("pitchend",C)),this.fire(new r.Event("moveend",C))},Y.prototype.easeTo=function(G,C){var q=this;this._stop(!1,G.easeId),((G=r.extend({offset:[0,0],duration:500,easing:r.ease},G)).animate===!1||!G.essential&&r.browser.prefersReducedMotion)&&(G.duration=0);var $=this.transform,ne=this.getZoom(),he=this.getBearing(),xe=this.getPitch(),Pe=this.getPadding(),Fe="zoom"in G?+G.zoom:ne,qe="bearing"in G?this._normalizeBearing(G.bearing,he):he,Ze="pitch"in G?+G.pitch:xe,it="padding"in G?G.padding:$.padding,pt=r.Point.convert(G.offset),vt=$.centerPoint.add(pt),Mt=$.pointLocation(vt),Ct=r.LngLat.convert(G.center||Mt);this._normalizeCenter(Ct);var Et,jt,zt=$.project(Mt),Qt=$.project(Ct).sub(zt),Wt=$.zoomScale(Fe-ne);G.around&&(Et=r.LngLat.convert(G.around),jt=$.locationPoint(Et));var Vt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Fe!==ne,this._rotating=this._rotating||he!==qe,this._pitching=this._pitching||Ze!==xe,this._padding=!$.isPaddingEqual(it),this._easeId=G.easeId,this._prepareEase(C,G.noMoveStart,Vt),this._ease(function(gn){if(q._zooming&&($.zoom=r.number(ne,Fe,gn)),q._rotating&&($.bearing=r.number(he,qe,gn)),q._pitching&&($.pitch=r.number(xe,Ze,gn)),q._padding&&($.interpolatePadding(Pe,it,gn),vt=$.centerPoint.add(pt)),Et)$.setLocationAtPoint(Et,jt);else{var xn=$.zoomScale($.zoom-ne),On=Fe>ne?Math.min(2,Wt):Math.max(.5,Wt),Dn=Math.pow(On,1-gn),Wn=$.unproject(zt.add(Qt.mult(gn*Dn)).mult(xn));$.setLocationAtPoint($.renderWorldCopies?Wn.wrap():Wn,vt)}q._fireMoveEvents(C)},function(gn){q._afterEase(C,gn)},G),this},Y.prototype._prepareEase=function(G,C,q){q===void 0&&(q={}),this._moving=!0,C||q.moving||this.fire(new r.Event("movestart",G)),this._zooming&&!q.zooming&&this.fire(new r.Event("zoomstart",G)),this._rotating&&!q.rotating&&this.fire(new r.Event("rotatestart",G)),this._pitching&&!q.pitching&&this.fire(new r.Event("pitchstart",G))},Y.prototype._fireMoveEvents=function(G){this.fire(new r.Event("move",G)),this._zooming&&this.fire(new r.Event("zoom",G)),this._rotating&&this.fire(new r.Event("rotate",G)),this._pitching&&this.fire(new r.Event("pitch",G))},Y.prototype._afterEase=function(G,C){if(!this._easeId||!C||this._easeId!==C){delete this._easeId;var q=this._zooming,$=this._rotating,ne=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,q&&this.fire(new r.Event("zoomend",G)),$&&this.fire(new r.Event("rotateend",G)),ne&&this.fire(new r.Event("pitchend",G)),this.fire(new r.Event("moveend",G))}},Y.prototype.flyTo=function(G,C){var q=this;if(!G.essential&&r.browser.prefersReducedMotion){var $=r.pick(G,["center","zoom","bearing","pitch","around"]);return this.jumpTo($,C)}this.stop(),G=r.extend({offset:[0,0],speed:1.2,curve:1.42,easing:r.ease},G);var ne=this.transform,he=this.getZoom(),xe=this.getBearing(),Pe=this.getPitch(),Fe=this.getPadding(),qe="zoom"in G?r.clamp(+G.zoom,ne.minZoom,ne.maxZoom):he,Ze="bearing"in G?this._normalizeBearing(G.bearing,xe):xe,it="pitch"in G?+G.pitch:Pe,pt="padding"in G?G.padding:ne.padding,vt=ne.zoomScale(qe-he),Mt=r.Point.convert(G.offset),Ct=ne.centerPoint.add(Mt),Et=ne.pointLocation(Ct),jt=r.LngLat.convert(G.center||Et);this._normalizeCenter(jt);var zt=ne.project(Et),Qt=ne.project(jt).sub(zt),Wt=G.curve,Vt=Math.max(ne.width,ne.height),gn=Vt/vt,xn=Qt.mag();if("minZoom"in G){var On=r.clamp(Math.min(G.minZoom,he,qe),ne.minZoom,ne.maxZoom),Dn=Vt/ne.zoomScale(On-he);Wt=Math.sqrt(Dn/xn*2)}var Wn=Wt*Wt;function ar(mr){var Dr=(gn*gn-Vt*Vt+(mr?-1:1)*Wn*Wn*xn*xn)/(2*(mr?gn:Vt)*Wn*xn);return Math.log(Math.sqrt(Dr*Dr+1)-Dr)}function vr(mr){return(Math.exp(mr)-Math.exp(-mr))/2}function Jn(mr){return(Math.exp(mr)+Math.exp(-mr))/2}var dr=ar(0),kr=function(mr){return Jn(dr)/Jn(dr+Wt*mr)},Rr=function(mr){return Vt*((Jn(dr)*(vr(Dr=dr+Wt*mr)/Jn(Dr))-vr(dr))/Wn)/xn;var Dr},rr=(ar(1)-dr)/Wt;if(Math.abs(xn)<1e-6||!isFinite(rr)){if(Math.abs(Vt-gn)<1e-6)return this.easeTo(G,C);var pr=gn<Vt?-1:1;rr=Math.abs(Math.log(gn/Vt))/Wt,Rr=function(){return 0},kr=function(mr){return Math.exp(pr*Wt*mr)}}if("duration"in G)G.duration=+G.duration;else{var Er="screenSpeed"in G?+G.screenSpeed/Wt:+G.speed;G.duration=1e3*rr/Er}return G.maxDuration&&G.duration>G.maxDuration&&(G.duration=0),this._zooming=!0,this._rotating=xe!==Ze,this._pitching=it!==Pe,this._padding=!ne.isPaddingEqual(pt),this._prepareEase(C,!1),this._ease(function(mr){var Dr=mr*rr,jr=1/kr(Dr);ne.zoom=mr===1?qe:he+ne.scaleZoom(jr),q._rotating&&(ne.bearing=r.number(xe,Ze,mr)),q._pitching&&(ne.pitch=r.number(Pe,it,mr)),q._padding&&(ne.interpolatePadding(Fe,pt,mr),Ct=ne.centerPoint.add(Mt));var Xr=mr===1?jt:ne.unproject(zt.add(Qt.mult(Rr(Dr))).mult(jr));ne.setLocationAtPoint(ne.renderWorldCopies?Xr.wrap():Xr,Ct),q._fireMoveEvents(C)},function(){return q._afterEase(C)},G),this},Y.prototype.isEasing=function(){return!!this._easeFrameId},Y.prototype.stop=function(){return this._stop()},Y.prototype._stop=function(G,C){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var q=this._onEaseEnd;delete this._onEaseEnd,q.call(this,C)}if(!G){var $=this.handlers;$&&$.stop(!1)}return this},Y.prototype._ease=function(G,C,q){q.animate===!1||q.duration===0?(G(1),C()):(this._easeStart=r.browser.now(),this._easeOptions=q,this._onEaseFrame=G,this._onEaseEnd=C,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},Y.prototype._renderFrameCallback=function(){var G=Math.min((r.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(G)),G<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},Y.prototype._normalizeBearing=function(G,C){G=r.wrap(G,-180,180);var q=Math.abs(G-C);return Math.abs(G-360-C)<q&&(G-=360),Math.abs(G+360-C)<q&&(G+=360),G},Y.prototype._normalizeCenter=function(G){var C=this.transform;if(C.renderWorldCopies&&!C.lngRange){var q=G.lng-C.center.lng;G.lng+=q>180?-360:q<-180?360:0}},Y}(r.Evented),Ua=function(N){N===void 0&&(N={}),this.options=N,r.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Ua.prototype.getDefaultPosition=function(){return"bottom-right"},Ua.prototype.onAdd=function(N){var Y=this.options&&this.options.compact;return this._map=N,this._container=v.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=v.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=v.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),Y&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),Y===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Ua.prototype.onRemove=function(){v.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Ua.prototype._setElementTitle=function(N,Y){var G=this._map._getUIString("AttributionControl."+Y);N.title=G,N.setAttribute("aria-label",G)},Ua.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Ua.prototype._updateEditLink=function(){var N=this._editLink;N||(N=this._editLink=this._container.querySelector(".mapbox-improve-map"));var Y=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||r.config.ACCESS_TOKEN}];if(N){var G=Y.reduce(function(C,q,$){return q.value&&(C+=q.key+"="+q.value+($<Y.length-1?"&":"")),C},"?");N.href=r.config.FEEDBACK_URL+"/"+G+(this._map._hash?this._map._hash.getHashString(!0):""),N.rel="noopener nofollow",this._setElementTitle(N,"MapFeedback")}},Ua.prototype._updateData=function(N){!N||N.sourceDataType!=="metadata"&&N.sourceDataType!=="visibility"&&N.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},Ua.prototype._updateAttributions=function(){if(this._map.style){var N=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?N=N.concat(this.options.customAttribution.map(function(he){return typeof he!="string"?"":he})):typeof this.options.customAttribution=="string"&&N.push(this.options.customAttribution)),this._map.style.stylesheet){var Y=this._map.style.stylesheet;this.styleOwner=Y.owner,this.styleId=Y.id}var G=this._map.style.sourceCaches;for(var C in G){var q=G[C];if(q.used){var $=q.getSource();$.attribution&&N.indexOf($.attribution)<0&&N.push($.attribution)}}N.sort(function(he,xe){return he.length-xe.length});var ne=(N=N.filter(function(he,xe){for(var Pe=xe+1;Pe<N.length;Pe++)if(N[Pe].indexOf(he)>=0)return!1;return!0})).join(" | ");ne!==this._attribHTML&&(this._attribHTML=ne,N.length?(this._innerContainer.innerHTML=ne,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Ua.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var No=function(){r.bindAll(["_updateLogo"],this),r.bindAll(["_updateCompact"],this)};No.prototype.onAdd=function(N){this._map=N,this._container=v.create("div","mapboxgl-ctrl");var Y=v.create("a","mapboxgl-ctrl-logo");return Y.target="_blank",Y.rel="noopener nofollow",Y.href="https://www.mapbox.com/",Y.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),Y.setAttribute("rel","noopener nofollow"),this._container.appendChild(Y),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},No.prototype.onRemove=function(){v.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},No.prototype.getDefaultPosition=function(){return"bottom-left"},No.prototype._updateLogo=function(N){N&&N.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},No.prototype._logoRequired=function(){if(this._map.style){var N=this._map.style.sourceCaches;for(var Y in N)if(N[Y].getSource().mapbox_logo)return!0;return!1}},No.prototype._updateCompact=function(){var N=this._container.children;if(N.length){var Y=N[0];this._map.getCanvasContainer().offsetWidth<250?Y.classList.add("mapboxgl-compact"):Y.classList.remove("mapboxgl-compact")}};var Va=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Va.prototype.add=function(N){var Y=++this._id;return this._queue.push({callback:N,id:Y,cancelled:!1}),Y},Va.prototype.remove=function(N){for(var Y=this._currentlyRunning,G=0,C=Y?this._queue.concat(Y):this._queue;G<C.length;G+=1){var q=C[G];if(q.id===N)return void(q.cancelled=!0)}},Va.prototype.run=function(N){N===void 0&&(N=0);var Y=this._currentlyRunning=this._queue;this._queue=[];for(var G=0,C=Y;G<C.length;G+=1){var q=C[G];if(!q.cancelled&&(q.callback(N),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Va.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var tl={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},nl=r.window.HTMLImageElement,Ha=r.window.HTMLElement,ii=r.window.ImageBitmap,jo=60,Us={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:jo,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Eo=function(N){function Y(C){var q=this;if((C=r.extend({},Us,C)).minZoom!=null&&C.maxZoom!=null&&C.minZoom>C.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(C.minPitch!=null&&C.maxPitch!=null&&C.minPitch>C.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(C.minPitch!=null&&C.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(C.maxPitch!=null&&C.maxPitch>jo)throw new Error("maxPitch must be less than or equal to 60");var $=new ui(C.minZoom,C.maxZoom,C.minPitch,C.maxPitch,C.renderWorldCopies);if(N.call(this,$,C),this._interactive=C.interactive,this._maxTileCacheSize=C.maxTileCacheSize,this._failIfMajorPerformanceCaveat=C.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=C.preserveDrawingBuffer,this._antialias=C.antialias,this._trackResize=C.trackResize,this._bearingSnap=C.bearingSnap,this._refreshExpiredTiles=C.refreshExpiredTiles,this._fadeDuration=C.fadeDuration,this._crossSourceCollisions=C.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=C.collectResourceTiming,this._renderTaskQueue=new Va,this._controls=[],this._mapId=r.uniqueId(),this._locale=r.extend({},tl,C.locale),this._clickTolerance=C.clickTolerance,this._requestManager=new r.RequestManager(C.transformRequest,C.accessToken),typeof C.container=="string"){if(this._container=r.window.document.getElementById(C.container),!this._container)throw new Error("Container '"+C.container+"' not found.")}else{if(!(C.container instanceof Ha))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=C.container}if(C.maxBounds&&this.setMaxBounds(C.maxBounds),r.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return q._update(!1)}),this.on("moveend",function(){return q._update(!1)}),this.on("zoom",function(){return q._update(!0)}),r.window!==void 0&&(r.window.addEventListener("online",this._onWindowOnline,!1),r.window.addEventListener("resize",this._onWindowResize,!1),r.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new oi(this,C);var ne=typeof C.hash=="string"&&C.hash||void 0;this._hash=C.hash&&new io(ne).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:C.center,zoom:C.zoom,bearing:C.bearing,pitch:C.pitch}),C.bounds&&(this.resize(),this.fitBounds(C.bounds,r.extend({},C.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=C.localIdeographFontFamily,C.style&&this.setStyle(C.style,{localIdeographFontFamily:C.localIdeographFontFamily}),C.attributionControl&&this.addControl(new Ua({customAttribution:C.customAttribution})),this.addControl(new No,C.logoPosition),this.on("style.load",function(){q.transform.unmodified&&q.jumpTo(q.style.stylesheet)}),this.on("data",function(he){q._update(he.dataType==="style"),q.fire(new r.Event(he.dataType+"data",he))}),this.on("dataloading",function(he){q.fire(new r.Event(he.dataType+"dataloading",he))})}N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y;var G={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return Y.prototype._getMapId=function(){return this._mapId},Y.prototype.addControl=function(C,q){if(q===void 0&&(q=C.getDefaultPosition?C.getDefaultPosition():"top-right"),!C||!C.onAdd)return this.fire(new r.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var $=C.onAdd(this);this._controls.push(C);var ne=this._controlPositions[q];return q.indexOf("bottom")!==-1?ne.insertBefore($,ne.firstChild):ne.appendChild($),this},Y.prototype.removeControl=function(C){if(!C||!C.onRemove)return this.fire(new r.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var q=this._controls.indexOf(C);return q>-1&&this._controls.splice(q,1),C.onRemove(this),this},Y.prototype.hasControl=function(C){return this._controls.indexOf(C)>-1},Y.prototype.resize=function(C){var q=this._containerDimensions(),$=q[0],ne=q[1];this._resizeCanvas($,ne),this.transform.resize($,ne),this.painter.resize($,ne);var he=!this._moving;return he&&(this.stop(),this.fire(new r.Event("movestart",C)).fire(new r.Event("move",C))),this.fire(new r.Event("resize",C)),he&&this.fire(new r.Event("moveend",C)),this},Y.prototype.getBounds=function(){return this.transform.getBounds()},Y.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},Y.prototype.setMaxBounds=function(C){return this.transform.setMaxBounds(r.LngLatBounds.convert(C)),this._update()},Y.prototype.setMinZoom=function(C){if((C=C??-2)>=-2&&C<=this.transform.maxZoom)return this.transform.minZoom=C,this._update(),this.getZoom()<C&&this.setZoom(C),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},Y.prototype.getMinZoom=function(){return this.transform.minZoom},Y.prototype.setMaxZoom=function(C){if((C=C??22)>=this.transform.minZoom)return this.transform.maxZoom=C,this._update(),this.getZoom()>C&&this.setZoom(C),this;throw new Error("maxZoom must be greater than the current minZoom")},Y.prototype.getMaxZoom=function(){return this.transform.maxZoom},Y.prototype.setMinPitch=function(C){if((C=C??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(C>=0&&C<=this.transform.maxPitch)return this.transform.minPitch=C,this._update(),this.getPitch()<C&&this.setPitch(C),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},Y.prototype.getMinPitch=function(){return this.transform.minPitch},Y.prototype.setMaxPitch=function(C){if((C=C??jo)>jo)throw new Error("maxPitch must be less than or equal to 60");if(C>=this.transform.minPitch)return this.transform.maxPitch=C,this._update(),this.getPitch()>C&&this.setPitch(C),this;throw new Error("maxPitch must be greater than the current minPitch")},Y.prototype.getMaxPitch=function(){return this.transform.maxPitch},Y.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},Y.prototype.setRenderWorldCopies=function(C){return this.transform.renderWorldCopies=C,this._update()},Y.prototype.project=function(C){return this.transform.locationPoint(r.LngLat.convert(C))},Y.prototype.unproject=function(C){return this.transform.pointLocation(r.Point.convert(C))},Y.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},Y.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},Y.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},Y.prototype._createDelegatedListener=function(C,q,$){var ne,he=this;if(C==="mouseenter"||C==="mouseover"){var xe=!1;return{layer:q,listener:$,delegates:{mousemove:function(Fe){var qe=he.getLayer(q)?he.queryRenderedFeatures(Fe.point,{layers:[q]}):[];qe.length?xe||(xe=!0,$.call(he,new Ca(C,he,Fe.originalEvent,{features:qe}))):xe=!1},mouseout:function(){xe=!1}}}}if(C==="mouseleave"||C==="mouseout"){var Pe=!1;return{layer:q,listener:$,delegates:{mousemove:function(Fe){(he.getLayer(q)?he.queryRenderedFeatures(Fe.point,{layers:[q]}):[]).length?Pe=!0:Pe&&(Pe=!1,$.call(he,new Ca(C,he,Fe.originalEvent)))},mouseout:function(Fe){Pe&&(Pe=!1,$.call(he,new Ca(C,he,Fe.originalEvent)))}}}}return{layer:q,listener:$,delegates:(ne={},ne[C]=function(Fe){var qe=he.getLayer(q)?he.queryRenderedFeatures(Fe.point,{layers:[q]}):[];qe.length&&(Fe.features=qe,$.call(he,Fe),delete Fe.features)},ne)}},Y.prototype.on=function(C,q,$){if($===void 0)return N.prototype.on.call(this,C,q);var ne=this._createDelegatedListener(C,q,$);for(var he in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[C]=this._delegatedListeners[C]||[],this._delegatedListeners[C].push(ne),ne.delegates)this.on(he,ne.delegates[he]);return this},Y.prototype.once=function(C,q,$){if($===void 0)return N.prototype.once.call(this,C,q);var ne=this._createDelegatedListener(C,q,$);for(var he in ne.delegates)this.once(he,ne.delegates[he]);return this},Y.prototype.off=function(C,q,$){var ne=this;return $===void 0?N.prototype.off.call(this,C,q):(this._delegatedListeners&&this._delegatedListeners[C]&&function(he){for(var xe=he[C],Pe=0;Pe<xe.length;Pe++){var Fe=xe[Pe];if(Fe.layer===q&&Fe.listener===$){for(var qe in Fe.delegates)ne.off(qe,Fe.delegates[qe]);return xe.splice(Pe,1),ne}}}(this._delegatedListeners),this)},Y.prototype.queryRenderedFeatures=function(C,q){if(!this.style)return[];var $;if(q!==void 0||C===void 0||C instanceof r.Point||Array.isArray(C)||(q=C,C=void 0),q=q||{},(C=C||[[0,0],[this.transform.width,this.transform.height]])instanceof r.Point||typeof C[0]=="number")$=[r.Point.convert(C)];else{var ne=r.Point.convert(C[0]),he=r.Point.convert(C[1]);$=[ne,new r.Point(he.x,ne.y),he,new r.Point(ne.x,he.y),ne]}return this.style.queryRenderedFeatures($,q,this.transform)},Y.prototype.querySourceFeatures=function(C,q){return this.style.querySourceFeatures(C,q)},Y.prototype.setStyle=function(C,q){return(q=r.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},q)).diff!==!1&&q.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&C?(this._diffStyle(C,q),this):(this._localIdeographFontFamily=q.localIdeographFontFamily,this._updateStyle(C,q))},Y.prototype._getUIString=function(C){var q=this._locale[C];if(q==null)throw new Error("Missing UI string '"+C+"'");return q},Y.prototype._updateStyle=function(C,q){return this.style&&(this.style.setEventedParent(null),this.style._remove()),C?(this.style=new nr(this,q||{}),this.style.setEventedParent(this,{style:this.style}),typeof C=="string"?this.style.loadURL(C):this.style.loadJSON(C),this):(delete this.style,this)},Y.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new nr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},Y.prototype._diffStyle=function(C,q){var $=this;if(typeof C=="string"){var ne=this._requestManager.normalizeStyleURL(C),he=this._requestManager.transformRequest(ne,r.ResourceType.Style);r.getJSON(he,function(xe,Pe){xe?$.fire(new r.ErrorEvent(xe)):Pe&&$._updateDiff(Pe,q)})}else typeof C=="object"&&this._updateDiff(C,q)},Y.prototype._updateDiff=function(C,q){try{this.style.setState(C)&&this._update(!0)}catch($){r.warnOnce("Unable to perform style diff: "+($.message||$.error||$)+".  Rebuilding the style from scratch."),this._updateStyle(C,q)}},Y.prototype.getStyle=function(){if(this.style)return this.style.serialize()},Y.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():r.warnOnce("There is no style added to the map.")},Y.prototype.addSource=function(C,q){return this._lazyInitEmptyStyle(),this.style.addSource(C,q),this._update(!0)},Y.prototype.isSourceLoaded=function(C){var q=this.style&&this.style.sourceCaches[C];if(q!==void 0)return q.loaded();this.fire(new r.ErrorEvent(new Error("There is no source with ID '"+C+"'")))},Y.prototype.areTilesLoaded=function(){var C=this.style&&this.style.sourceCaches;for(var q in C){var $=C[q]._tiles;for(var ne in $){var he=$[ne];if(he.state!=="loaded"&&he.state!=="errored")return!1}}return!0},Y.prototype.addSourceType=function(C,q,$){return this._lazyInitEmptyStyle(),this.style.addSourceType(C,q,$)},Y.prototype.removeSource=function(C){return this.style.removeSource(C),this._update(!0)},Y.prototype.getSource=function(C){return this.style.getSource(C)},Y.prototype.addImage=function(C,q,$){$===void 0&&($={});var ne=$.pixelRatio;ne===void 0&&(ne=1);var he=$.sdf;he===void 0&&(he=!1);var xe=$.stretchX,Pe=$.stretchY,Fe=$.content;if(this._lazyInitEmptyStyle(),q instanceof nl||ii&&q instanceof ii){var qe=r.browser.getImageData(q),Ze=qe.width,it=qe.height,pt=qe.data;this.style.addImage(C,{data:new r.RGBAImage({width:Ze,height:it},pt),pixelRatio:ne,stretchX:xe,stretchY:Pe,content:Fe,sdf:he,version:0})}else{if(q.width===void 0||q.height===void 0)return this.fire(new r.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var vt=q.width,Mt=q.height,Ct=q.data,Et=q;this.style.addImage(C,{data:new r.RGBAImage({width:vt,height:Mt},new Uint8Array(Ct)),pixelRatio:ne,stretchX:xe,stretchY:Pe,content:Fe,sdf:he,version:0,userImage:Et}),Et.onAdd&&Et.onAdd(this,C)}},Y.prototype.updateImage=function(C,q){var $=this.style.getImage(C);if(!$)return this.fire(new r.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ne=q instanceof nl||ii&&q instanceof ii?r.browser.getImageData(q):q,he=ne.width,xe=ne.height,Pe=ne.data;if(he===void 0||xe===void 0)return this.fire(new r.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(he!==$.data.width||xe!==$.data.height)return this.fire(new r.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var Fe=!(q instanceof nl||ii&&q instanceof ii);$.data.replace(Pe,Fe),this.style.updateImage(C,$)},Y.prototype.hasImage=function(C){return C?!!this.style.getImage(C):(this.fire(new r.ErrorEvent(new Error("Missing required image id"))),!1)},Y.prototype.removeImage=function(C){this.style.removeImage(C)},Y.prototype.loadImage=function(C,q){r.getImage(this._requestManager.transformRequest(C,r.ResourceType.Image),q)},Y.prototype.listImages=function(){return this.style.listImages()},Y.prototype.addLayer=function(C,q){return this._lazyInitEmptyStyle(),this.style.addLayer(C,q),this._update(!0)},Y.prototype.moveLayer=function(C,q){return this.style.moveLayer(C,q),this._update(!0)},Y.prototype.removeLayer=function(C){return this.style.removeLayer(C),this._update(!0)},Y.prototype.getLayer=function(C){return this.style.getLayer(C)},Y.prototype.setLayerZoomRange=function(C,q,$){return this.style.setLayerZoomRange(C,q,$),this._update(!0)},Y.prototype.setFilter=function(C,q,$){return $===void 0&&($={}),this.style.setFilter(C,q,$),this._update(!0)},Y.prototype.getFilter=function(C){return this.style.getFilter(C)},Y.prototype.setPaintProperty=function(C,q,$,ne){return ne===void 0&&(ne={}),this.style.setPaintProperty(C,q,$,ne),this._update(!0)},Y.prototype.getPaintProperty=function(C,q){return this.style.getPaintProperty(C,q)},Y.prototype.setLayoutProperty=function(C,q,$,ne){return ne===void 0&&(ne={}),this.style.setLayoutProperty(C,q,$,ne),this._update(!0)},Y.prototype.getLayoutProperty=function(C,q){return this.style.getLayoutProperty(C,q)},Y.prototype.setLight=function(C,q){return q===void 0&&(q={}),this._lazyInitEmptyStyle(),this.style.setLight(C,q),this._update(!0)},Y.prototype.getLight=function(){return this.style.getLight()},Y.prototype.setFeatureState=function(C,q){return this.style.setFeatureState(C,q),this._update()},Y.prototype.removeFeatureState=function(C,q){return this.style.removeFeatureState(C,q),this._update()},Y.prototype.getFeatureState=function(C){return this.style.getFeatureState(C)},Y.prototype.getContainer=function(){return this._container},Y.prototype.getCanvasContainer=function(){return this._canvasContainer},Y.prototype.getCanvas=function(){return this._canvas},Y.prototype._containerDimensions=function(){var C=0,q=0;return this._container&&(C=this._container.clientWidth||400,q=this._container.clientHeight||300),[C,q]},Y.prototype._detectMissingCSS=function(){r.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&r.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},Y.prototype._setupContainer=function(){var C=this._container;C.classList.add("mapboxgl-map"),(this._missingCSSCanary=v.create("div","mapboxgl-canary",C)).style.visibility="hidden",this._detectMissingCSS();var q=this._canvasContainer=v.create("div","mapboxgl-canvas-container",C);this._interactive&&q.classList.add("mapboxgl-interactive"),this._canvas=v.create("canvas","mapboxgl-canvas",q),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var $=this._containerDimensions();this._resizeCanvas($[0],$[1]);var ne=this._controlContainer=v.create("div","mapboxgl-control-container",C),he=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(xe){he[xe]=v.create("div","mapboxgl-ctrl-"+xe,ne)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},Y.prototype._resizeCanvas=function(C,q){var $=r.browser.devicePixelRatio||1;this._canvas.width=$*C,this._canvas.height=$*q,this._canvas.style.width=C+"px",this._canvas.style.height=q+"px"},Y.prototype._setupPainter=function(){var C=r.extend({},_.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),q=this._canvas.getContext("webgl",C)||this._canvas.getContext("experimental-webgl",C);q?(this.painter=new vi(q,this.transform),r.webpSupported.testSupport(q)):this.fire(new r.ErrorEvent(new Error("Failed to initialize WebGL")))},Y.prototype._contextLost=function(C){C.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new r.Event("webglcontextlost",{originalEvent:C}))},Y.prototype._contextRestored=function(C){this._setupPainter(),this.resize(),this._update(),this.fire(new r.Event("webglcontextrestored",{originalEvent:C}))},Y.prototype._onMapScroll=function(C){if(C.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},Y.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},Y.prototype._update=function(C){return this.style?(this._styleDirty=this._styleDirty||C,this._sourcesDirty=!0,this.triggerRepaint(),this):this},Y.prototype._requestRenderFrame=function(C){return this._update(),this._renderTaskQueue.add(C)},Y.prototype._cancelRenderFrame=function(C){this._renderTaskQueue.remove(C)},Y.prototype._render=function(C){var q,$=this,ne=0,he=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(q=he.createQueryEXT(),he.beginQueryEXT(he.TIME_ELAPSED_EXT,q),ne=r.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(C),!this._removed){var xe=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Pe=this.transform.zoom,Fe=r.browser.now();this.style.zoomHistory.update(Pe,Fe);var qe=new r.EvaluationParameters(Pe,{now:Fe,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Ze=qe.crossFadingFactor();Ze===1&&Ze===this._crossFadingFactor||(xe=!0,this._crossFadingFactor=Ze),this.style.update(qe)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new r.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new r.Event("load"))),this.style&&(this.style.hasTransitions()||xe)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var it=r.browser.now()-ne;he.endQueryEXT(he.TIME_ELAPSED_EXT,q),setTimeout(function(){var Mt=he.getQueryObjectEXT(q,he.QUERY_RESULT_EXT)/1e6;he.deleteQueryEXT(q),$.fire(new r.Event("gpu-timing-frame",{cpuTime:it,gpuTime:Mt}))},50)}if(this.listens("gpu-timing-layer")){var pt=this.painter.collectGpuTimers();setTimeout(function(){var Mt=$.painter.queryGpuTimers(pt);$.fire(new r.Event("gpu-timing-layer",{layerTimes:Mt}))},50)}var vt=this._sourcesDirty||this._styleDirty||this._placementDirty;return vt||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new r.Event("idle")),!this._loaded||this._fullyLoaded||vt||(this._fullyLoaded=!0),this}},Y.prototype.remove=function(){this._hash&&this._hash.remove();for(var C=0,q=this._controls;C<q.length;C+=1)q[C].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),r.window!==void 0&&(r.window.removeEventListener("resize",this._onWindowResize,!1),r.window.removeEventListener("orientationchange",this._onWindowResize,!1),r.window.removeEventListener("online",this._onWindowOnline,!1));var $=this.painter.context.gl.getExtension("WEBGL_lose_context");$&&$.loseContext&&$.loseContext(),rl(this._canvasContainer),rl(this._controlContainer),rl(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new r.Event("remove"))},Y.prototype.triggerRepaint=function(){var C=this;this.style&&!this._frame&&(this._frame=r.browser.frame(function(q){C._frame=null,C._render(q)}))},Y.prototype._onWindowOnline=function(){this._update()},Y.prototype._onWindowResize=function(C){this._trackResize&&this.resize({originalEvent:C})._update()},G.showTileBoundaries.get=function(){return!!this._showTileBoundaries},G.showTileBoundaries.set=function(C){this._showTileBoundaries!==C&&(this._showTileBoundaries=C,this._update())},G.showPadding.get=function(){return!!this._showPadding},G.showPadding.set=function(C){this._showPadding!==C&&(this._showPadding=C,this._update())},G.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},G.showCollisionBoxes.set=function(C){this._showCollisionBoxes!==C&&(this._showCollisionBoxes=C,C?this.style._generateCollisionBoxes():this._update())},G.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},G.showOverdrawInspector.set=function(C){this._showOverdrawInspector!==C&&(this._showOverdrawInspector=C,this._update())},G.repaint.get=function(){return!!this._repaint},G.repaint.set=function(C){this._repaint!==C&&(this._repaint=C,this.triggerRepaint())},G.vertices.get=function(){return!!this._vertices},G.vertices.set=function(C){this._vertices=C,this._update()},Y.prototype._setCacheLimits=function(C,q){r.setCacheLimits(C,q)},G.version.get=function(){return r.version},Object.defineProperties(Y.prototype,G),Y}(ya);function rl(N){N.parentNode&&N.parentNode.removeChild(N)}var il={showCompass:!0,showZoom:!0,visualizePitch:!1},Lo=function(N){var Y=this;this.options=r.extend({},il,N),this._container=v.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(G){return G.preventDefault()}),this.options.showZoom&&(r.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(G){return Y._map.zoomIn({},{originalEvent:G})}),v.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(G){return Y._map.zoomOut({},{originalEvent:G})}),v.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(r.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(G){Y.options.visualizePitch?Y._map.resetNorthPitch({},{originalEvent:G}):Y._map.resetNorth({},{originalEvent:G})}),this._compassIcon=v.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Lo.prototype._updateZoomButtons=function(){var N=this._map.getZoom(),Y=N===this._map.getMaxZoom(),G=N===this._map.getMinZoom();this._zoomInButton.disabled=Y,this._zoomOutButton.disabled=G,this._zoomInButton.setAttribute("aria-disabled",Y.toString()),this._zoomOutButton.setAttribute("aria-disabled",G.toString())},Lo.prototype._rotateCompassArrow=function(){var N=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=N},Lo.prototype.onAdd=function(N){return this._map=N,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ei(this._map,this._compass,this.options.visualizePitch)),this._container},Lo.prototype.onRemove=function(){v.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Lo.prototype._createButton=function(N,Y){var G=v.create("button",N,this._container);return G.type="button",G.addEventListener("click",Y),G},Lo.prototype._setButtonTitle=function(N,Y){var G=this._map._getUIString("NavigationControl."+Y);N.title=G,N.setAttribute("aria-label",G)};var Ei=function(N,Y,G){G===void 0&&(G=!1),this._clickTolerance=10,this.element=Y,this.mouseRotate=new Ko({clickTolerance:N.dragRotate._mouseRotate._clickTolerance}),this.map=N,G&&(this.mousePitch=new ho({clickTolerance:N.dragRotate._mousePitch._clickTolerance})),r.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),v.addEventListener(Y,"mousedown",this.mousedown),v.addEventListener(Y,"touchstart",this.touchstart,{passive:!1}),v.addEventListener(Y,"touchmove",this.touchmove),v.addEventListener(Y,"touchend",this.touchend),v.addEventListener(Y,"touchcancel",this.reset)};function Vs(N,Y,G){if(N=new r.LngLat(N.lng,N.lat),Y){var C=new r.LngLat(N.lng-360,N.lat),q=new r.LngLat(N.lng+360,N.lat),$=G.locationPoint(N).distSqr(Y);G.locationPoint(C).distSqr(Y)<$?N=C:G.locationPoint(q).distSqr(Y)<$&&(N=q)}for(;Math.abs(N.lng-G.center.lng)>180;){var ne=G.locationPoint(N);if(ne.x>=0&&ne.y>=0&&ne.x<=G.width&&ne.y<=G.height)break;N.lng>G.center.lng?N.lng-=360:N.lng+=360}return N}Ei.prototype.down=function(N,Y){this.mouseRotate.mousedown(N,Y),this.mousePitch&&this.mousePitch.mousedown(N,Y),v.disableDrag()},Ei.prototype.move=function(N,Y){var G=this.map,C=this.mouseRotate.mousemoveWindow(N,Y);if(C&&C.bearingDelta&&G.setBearing(G.getBearing()+C.bearingDelta),this.mousePitch){var q=this.mousePitch.mousemoveWindow(N,Y);q&&q.pitchDelta&&G.setPitch(G.getPitch()+q.pitchDelta)}},Ei.prototype.off=function(){var N=this.element;v.removeEventListener(N,"mousedown",this.mousedown),v.removeEventListener(N,"touchstart",this.touchstart,{passive:!1}),v.removeEventListener(N,"touchmove",this.touchmove),v.removeEventListener(N,"touchend",this.touchend),v.removeEventListener(N,"touchcancel",this.reset),this.offTemp()},Ei.prototype.offTemp=function(){v.enableDrag(),v.removeEventListener(r.window,"mousemove",this.mousemove),v.removeEventListener(r.window,"mouseup",this.mouseup)},Ei.prototype.mousedown=function(N){this.down(r.extend({},N,{ctrlKey:!0,preventDefault:function(){return N.preventDefault()}}),v.mousePos(this.element,N)),v.addEventListener(r.window,"mousemove",this.mousemove),v.addEventListener(r.window,"mouseup",this.mouseup)},Ei.prototype.mousemove=function(N){this.move(N,v.mousePos(this.element,N))},Ei.prototype.mouseup=function(N){this.mouseRotate.mouseupWindow(N),this.mousePitch&&this.mousePitch.mouseupWindow(N),this.offTemp()},Ei.prototype.touchstart=function(N){N.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=v.touchPos(this.element,N.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return N.preventDefault()}},this._startPos))},Ei.prototype.touchmove=function(N){N.targetTouches.length!==1?this.reset():(this._lastPos=v.touchPos(this.element,N.targetTouches)[0],this.move({preventDefault:function(){return N.preventDefault()}},this._lastPos))},Ei.prototype.touchend=function(N){N.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Ei.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var zr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Hr(N,Y,G){var C=N.classList;for(var q in zr)C.remove("mapboxgl-"+G+"-anchor-"+q);C.add("mapboxgl-"+G+"-anchor-"+Y)}var ao,Uo=function(N){function Y(G,C){if(N.call(this),(G instanceof r.window.HTMLElement||C)&&(G=r.extend({element:G},C)),r.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=G&&G.anchor||"center",this._color=G&&G.color||"#3FB1CE",this._scale=G&&G.scale||1,this._draggable=G&&G.draggable||!1,this._clickTolerance=G&&G.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=G&&G.rotation||0,this._rotationAlignment=G&&G.rotationAlignment||"auto",this._pitchAlignment=G&&G.pitchAlignment&&G.pitchAlignment!=="auto"?G.pitchAlignment:this._rotationAlignment,G&&G.element)this._element=G.element,this._offset=r.Point.convert(G&&G.offset||[0,0]);else{this._defaultMarker=!0,this._element=v.create("div"),this._element.setAttribute("aria-label","Map marker");var q=v.createNS("http://www.w3.org/2000/svg","svg");q.setAttributeNS(null,"display","block"),q.setAttributeNS(null,"height","41px"),q.setAttributeNS(null,"width","27px"),q.setAttributeNS(null,"viewBox","0 0 27 41");var $=v.createNS("http://www.w3.org/2000/svg","g");$.setAttributeNS(null,"stroke","none"),$.setAttributeNS(null,"stroke-width","1"),$.setAttributeNS(null,"fill","none"),$.setAttributeNS(null,"fill-rule","evenodd");var ne=v.createNS("http://www.w3.org/2000/svg","g");ne.setAttributeNS(null,"fill-rule","nonzero");var he=v.createNS("http://www.w3.org/2000/svg","g");he.setAttributeNS(null,"transform","translate(3.0, 29.0)"),he.setAttributeNS(null,"fill","#000000");for(var xe=0,Pe=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];xe<Pe.length;xe+=1){var Fe=Pe[xe],qe=v.createNS("http://www.w3.org/2000/svg","ellipse");qe.setAttributeNS(null,"opacity","0.04"),qe.setAttributeNS(null,"cx","10.5"),qe.setAttributeNS(null,"cy","5.80029008"),qe.setAttributeNS(null,"rx",Fe.rx),qe.setAttributeNS(null,"ry",Fe.ry),he.appendChild(qe)}var Ze=v.createNS("http://www.w3.org/2000/svg","g");Ze.setAttributeNS(null,"fill",this._color);var it=v.createNS("http://www.w3.org/2000/svg","path");it.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Ze.appendChild(it);var pt=v.createNS("http://www.w3.org/2000/svg","g");pt.setAttributeNS(null,"opacity","0.25"),pt.setAttributeNS(null,"fill","#000000");var vt=v.createNS("http://www.w3.org/2000/svg","path");vt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),pt.appendChild(vt);var Mt=v.createNS("http://www.w3.org/2000/svg","g");Mt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Mt.setAttributeNS(null,"fill","#FFFFFF");var Ct=v.createNS("http://www.w3.org/2000/svg","g");Ct.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Et=v.createNS("http://www.w3.org/2000/svg","circle");Et.setAttributeNS(null,"fill","#000000"),Et.setAttributeNS(null,"opacity","0.25"),Et.setAttributeNS(null,"cx","5.5"),Et.setAttributeNS(null,"cy","5.5"),Et.setAttributeNS(null,"r","5.4999962");var jt=v.createNS("http://www.w3.org/2000/svg","circle");jt.setAttributeNS(null,"fill","#FFFFFF"),jt.setAttributeNS(null,"cx","5.5"),jt.setAttributeNS(null,"cy","5.5"),jt.setAttributeNS(null,"r","5.4999962"),Ct.appendChild(Et),Ct.appendChild(jt),ne.appendChild(he),ne.appendChild(Ze),ne.appendChild(pt),ne.appendChild(Mt),ne.appendChild(Ct),q.appendChild(ne),q.setAttributeNS(null,"height",41*this._scale+"px"),q.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(q),this._offset=r.Point.convert(G&&G.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(zt){zt.preventDefault()}),this._element.addEventListener("mousedown",function(zt){zt.preventDefault()}),Hr(this._element,this._anchor,"marker"),this._popup=null}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.addTo=function(G){return this.remove(),this._map=G,G.getCanvasContainer().appendChild(this._element),G.on("move",this._update),G.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},Y.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),v.remove(this._element),this._popup&&this._popup.remove(),this},Y.prototype.getLngLat=function(){return this._lngLat},Y.prototype.setLngLat=function(G){return this._lngLat=r.LngLat.convert(G),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Y.prototype.getElement=function(){return this._element},Y.prototype.setPopup=function(G){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),G){if(!("offset"in G.options)){var C=13.5,q=Math.sqrt(Math.pow(C,2)/2);G.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[q,-1*(24.6+q)],"bottom-right":[-q,-1*(24.6+q)],left:[C,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=G,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},Y.prototype._onKeyPress=function(G){var C=G.code,q=G.charCode||G.keyCode;C!=="Space"&&C!=="Enter"&&q!==32&&q!==13||this.togglePopup()},Y.prototype._onMapClick=function(G){var C=G.originalEvent.target,q=this._element;this._popup&&(C===q||q.contains(C))&&this.togglePopup()},Y.prototype.getPopup=function(){return this._popup},Y.prototype.togglePopup=function(){var G=this._popup;return G?(G.isOpen()?G.remove():G.addTo(this._map),this):this},Y.prototype._update=function(G){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Vs(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var C="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?C="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(C="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var q="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?q="rotateX(0deg)":this._pitchAlignment==="map"&&(q="rotateX("+this._map.getPitch()+"deg)"),G&&G.type!=="moveend"||(this._pos=this._pos.round()),v.setTransform(this._element,zr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+q+" "+C)}},Y.prototype.getOffset=function(){return this._offset},Y.prototype.setOffset=function(G){return this._offset=r.Point.convert(G),this._update(),this},Y.prototype._onMove=function(G){if(!this._isDragging){var C=this._clickTolerance||this._map._clickTolerance;this._isDragging=G.point.dist(this._pointerdownPos)>=C}this._isDragging&&(this._pos=G.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new r.Event("dragstart"))),this.fire(new r.Event("drag")))},Y.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new r.Event("dragend")),this._state="inactive"},Y.prototype._addDragHandler=function(G){this._element.contains(G.originalEvent.target)&&(G.preventDefault(),this._positionDelta=G.point.sub(this._pos).add(this._offset),this._pointerdownPos=G.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},Y.prototype.setDraggable=function(G){return this._draggable=!!G,this._map&&(G?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},Y.prototype.isDraggable=function(){return this._draggable},Y.prototype.setRotation=function(G){return this._rotation=G||0,this._update(),this},Y.prototype.getRotation=function(){return this._rotation},Y.prototype.setRotationAlignment=function(G){return this._rotationAlignment=G||"auto",this._update(),this},Y.prototype.getRotationAlignment=function(){return this._rotationAlignment},Y.prototype.setPitchAlignment=function(G){return this._pitchAlignment=G&&G!=="auto"?G:this._rotationAlignment,this._update(),this},Y.prototype.getPitchAlignment=function(){return this._pitchAlignment},Y}(r.Evented),es={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},na=0,Vo=!1,mi=function(N){function Y(G){N.call(this),this.options=r.extend({},es,G),r.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.onAdd=function(G){return this._map=G,this._container=v.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),C=this._setupUI,ao!==void 0?C(ao):r.window.navigator.permissions!==void 0?r.window.navigator.permissions.query({name:"geolocation"}).then(function(q){ao=q.state!=="denied",C(ao)}):(ao=!!r.window.navigator.geolocation,C(ao)),this._container;var C},Y.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(r.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),v.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,na=0,Vo=!1},Y.prototype._isOutOfMapMaxBounds=function(G){var C=this._map.getMaxBounds(),q=G.coords;return C&&(q.longitude<C.getWest()||q.longitude>C.getEast()||q.latitude<C.getSouth()||q.latitude>C.getNorth())},Y.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},Y.prototype._onSuccess=function(G){if(this._map){if(this._isOutOfMapMaxBounds(G))return this._setErrorState(),this.fire(new r.Event("outofmaxbounds",G)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=G,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(G),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(G),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new r.Event("geolocate",G)),this._finish()}},Y.prototype._updateCamera=function(G){var C=new r.LngLat(G.coords.longitude,G.coords.latitude),q=G.coords.accuracy,$=this._map.getBearing(),ne=r.extend({bearing:$},this.options.fitBoundsOptions);this._map.fitBounds(C.toBounds(q),ne,{geolocateSource:!0})},Y.prototype._updateMarker=function(G){if(G){var C=new r.LngLat(G.coords.longitude,G.coords.latitude);this._accuracyCircleMarker.setLngLat(C).addTo(this._map),this._userLocationDotMarker.setLngLat(C).addTo(this._map),this._accuracy=G.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},Y.prototype._updateCircleRadius=function(){var G=this._map._container.clientHeight/2,C=this._map.unproject([0,G]),q=this._map.unproject([1,G]),$=C.distanceTo(q),ne=Math.ceil(2*this._accuracy/$);this._circleElement.style.width=ne+"px",this._circleElement.style.height=ne+"px"},Y.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},Y.prototype._onError=function(G){if(this._map){if(this.options.trackUserLocation)if(G.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var C=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=C,this._geolocateButton.setAttribute("aria-label",C),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(G.code===3&&Vo)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new r.Event("error",G)),this._finish()}},Y.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},Y.prototype._setupUI=function(G){var C=this;if(this._container.addEventListener("contextmenu",function(ne){return ne.preventDefault()}),this._geolocateButton=v.create("button","mapboxgl-ctrl-geolocate",this._container),v.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",G===!1){r.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var q=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=q,this._geolocateButton.setAttribute("aria-label",q)}else{var $=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=$,this._geolocateButton.setAttribute("aria-label",$)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=v.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Uo(this._dotElement),this._circleElement=v.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Uo({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ne){var he=ne.originalEvent&&ne.originalEvent.type==="resize";ne.geolocateSource||C._watchState!=="ACTIVE_LOCK"||he||(C._watchState="BACKGROUND",C._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),C._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),C.fire(new r.Event("trackuserlocationend")))})},Y.prototype.trigger=function(){if(!this._setup)return r.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new r.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":na--,Vo=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new r.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new r.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var G;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++na>1?(G={maximumAge:6e5,timeout:0},Vo=!0):(G=this.options.positionOptions,Vo=!1),this._geolocationWatchID=r.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,G)}}else r.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},Y.prototype._clearWatch=function(){r.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},Y}(r.Evented),Du={maxWidth:100,unit:"metric"},oo=function(N){this.options=r.extend({},Du,N),r.bindAll(["_onMove","setUnit"],this)};function _i(N,Y,G){var C=G&&G.maxWidth||100,q=N._container.clientHeight/2,$=N.unproject([0,q]),ne=N.unproject([C,q]),he=$.distanceTo(ne);if(G&&G.unit==="imperial"){var xe=3.2808*he;xe>5280?zi(Y,C,xe/5280,N._getUIString("ScaleControl.Miles")):zi(Y,C,xe,N._getUIString("ScaleControl.Feet"))}else G&&G.unit==="nautical"?zi(Y,C,he/1852,N._getUIString("ScaleControl.NauticalMiles")):he>=1e3?zi(Y,C,he/1e3,N._getUIString("ScaleControl.Kilometers")):zi(Y,C,he,N._getUIString("ScaleControl.Meters"))}function zi(N,Y,G,C){var q,$,ne,he=(q=G,($=Math.pow(10,(""+Math.floor(q)).length-1))*((ne=q/$)>=10?10:ne>=5?5:ne>=3?3:ne>=2?2:ne>=1?1:function(Pe){var Fe=Math.pow(10,Math.ceil(-Math.log(Pe)/Math.LN10));return Math.round(Pe*Fe)/Fe}(ne))),xe=he/G;N.style.width=Y*xe+"px",N.innerHTML=he+"&nbsp;"+C}oo.prototype.getDefaultPosition=function(){return"bottom-left"},oo.prototype._onMove=function(){_i(this._map,this._container,this.options)},oo.prototype.onAdd=function(N){return this._map=N,this._container=v.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",N.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},oo.prototype.onRemove=function(){v.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},oo.prototype.setUnit=function(N){this.options.unit=N,_i(this._map,this._container,this.options)};var Ka=function(N){this._fullscreen=!1,N&&N.container&&(N.container instanceof r.window.HTMLElement?this._container=N.container:r.warnOnce("Full screen control 'container' must be a DOM element.")),r.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in r.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in r.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in r.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in r.window.document&&(this._fullscreenchange="MSFullscreenChange")};Ka.prototype.onAdd=function(N){return this._map=N,this._container||(this._container=this._map.getContainer()),this._controlContainer=v.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",r.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Ka.prototype.onRemove=function(){v.remove(this._controlContainer),this._map=null,r.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Ka.prototype._checkFullscreenSupport=function(){return!!(r.window.document.fullscreenEnabled||r.window.document.mozFullScreenEnabled||r.window.document.msFullscreenEnabled||r.window.document.webkitFullscreenEnabled)},Ka.prototype._setupUI=function(){var N=this._fullscreenButton=v.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);v.create("span","mapboxgl-ctrl-icon",N).setAttribute("aria-hidden",!0),N.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),r.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Ka.prototype._updateTitle=function(){var N=this._getTitle();this._fullscreenButton.setAttribute("aria-label",N),this._fullscreenButton.title=N},Ka.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Ka.prototype._isFullscreen=function(){return this._fullscreen},Ka.prototype._changeIcon=function(){(r.window.document.fullscreenElement||r.window.document.mozFullScreenElement||r.window.document.webkitFullscreenElement||r.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Ka.prototype._onClickFullscreen=function(){this._isFullscreen()?r.window.document.exitFullscreen?r.window.document.exitFullscreen():r.window.document.mozCancelFullScreen?r.window.document.mozCancelFullScreen():r.window.document.msExitFullscreen?r.window.document.msExitFullscreen():r.window.document.webkitCancelFullScreen&&r.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var bs={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},cu=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),$e=function(N){function Y(G){N.call(this),this.options=r.extend(Object.create(bs),G),r.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.addTo=function(G){return this._map&&this.remove(),this._map=G,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new r.Event("open")),this},Y.prototype.isOpen=function(){return!!this._map},Y.prototype.remove=function(){return this._content&&v.remove(this._content),this._container&&(v.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new r.Event("close")),this},Y.prototype.getLngLat=function(){return this._lngLat},Y.prototype.setLngLat=function(G){return this._lngLat=r.LngLat.convert(G),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},Y.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},Y.prototype.getElement=function(){return this._container},Y.prototype.setText=function(G){return this.setDOMContent(r.window.document.createTextNode(G))},Y.prototype.setHTML=function(G){var C,q=r.window.document.createDocumentFragment(),$=r.window.document.createElement("body");for($.innerHTML=G;C=$.firstChild;)q.appendChild(C);return this.setDOMContent(q)},Y.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},Y.prototype.setMaxWidth=function(G){return this.options.maxWidth=G,this._update(),this},Y.prototype.setDOMContent=function(G){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=v.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(G),this._createCloseButton(),this._update(),this._focusFirstElement(),this},Y.prototype.addClassName=function(G){this._container&&this._container.classList.add(G)},Y.prototype.removeClassName=function(G){this._container&&this._container.classList.remove(G)},Y.prototype.setOffset=function(G){return this.options.offset=G,this._update(),this},Y.prototype.toggleClassName=function(G){if(this._container)return this._container.classList.toggle(G)},Y.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=v.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},Y.prototype._onMouseUp=function(G){this._update(G.point)},Y.prototype._onMouseMove=function(G){this._update(G.point)},Y.prototype._onDrag=function(G){this._update(G.point)},Y.prototype._update=function(G){var C=this,q=this._lngLat||this._trackPointer;if(this._map&&q&&this._content&&(this._container||(this._container=v.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=v.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Ze){return C._container.classList.add(Ze)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Vs(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||G)){var $=this._pos=this._trackPointer&&G?G:this._map.project(this._lngLat),ne=this.options.anchor,he=nt(this.options.offset);if(!ne){var xe,Pe=this._container.offsetWidth,Fe=this._container.offsetHeight;xe=$.y+he.bottom.y<Fe?["top"]:$.y>this._map.transform.height-Fe?["bottom"]:[],$.x<Pe/2?xe.push("left"):$.x>this._map.transform.width-Pe/2&&xe.push("right"),ne=xe.length===0?"bottom":xe.join("-")}var qe=$.add(he[ne]).round();v.setTransform(this._container,zr[ne]+" translate("+qe.x+"px,"+qe.y+"px)"),Hr(this._container,ne,"popup")}},Y.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var G=this._container.querySelector(cu);G&&G.focus()}},Y.prototype._onClose=function(){this.remove()},Y}(r.Evented);function nt(N){if(N){if(typeof N=="number"){var Y=Math.round(Math.sqrt(.5*Math.pow(N,2)));return{center:new r.Point(0,0),top:new r.Point(0,N),"top-left":new r.Point(Y,Y),"top-right":new r.Point(-Y,Y),bottom:new r.Point(0,-N),"bottom-left":new r.Point(Y,-Y),"bottom-right":new r.Point(-Y,-Y),left:new r.Point(N,0),right:new r.Point(-N,0)}}if(N instanceof r.Point||Array.isArray(N)){var G=r.Point.convert(N);return{center:G,top:G,"top-left":G,"top-right":G,bottom:G,"bottom-left":G,"bottom-right":G,left:G,right:G}}return{center:r.Point.convert(N.center||[0,0]),top:r.Point.convert(N.top||[0,0]),"top-left":r.Point.convert(N["top-left"]||[0,0]),"top-right":r.Point.convert(N["top-right"]||[0,0]),bottom:r.Point.convert(N.bottom||[0,0]),"bottom-left":r.Point.convert(N["bottom-left"]||[0,0]),"bottom-right":r.Point.convert(N["bottom-right"]||[0,0]),left:r.Point.convert(N.left||[0,0]),right:r.Point.convert(N.right||[0,0])}}return nt(new r.Point(0,0))}var ft={version:r.version,supported:_,setRTLTextPlugin:r.setRTLTextPlugin,getRTLTextPluginStatus:r.getRTLTextPluginStatus,Map:Eo,NavigationControl:Lo,GeolocateControl:mi,AttributionControl:Ua,ScaleControl:oo,FullscreenControl:Ka,Popup:$e,Marker:Uo,Style:nr,LngLat:r.LngLat,LngLatBounds:r.LngLatBounds,Point:r.Point,MercatorCoordinate:r.MercatorCoordinate,Evented:r.Evented,config:r.config,prewarm:function(){xt().acquire(lt)},clearPrewarmedResources:function(){var N=gt;N&&(N.isPreloaded()&&N.numActive()===1?(N.release(lt),gt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return r.config.ACCESS_TOKEN},set accessToken(N){r.config.ACCESS_TOKEN=N},get baseApiUrl(){return r.config.API_URL},set baseApiUrl(N){r.config.API_URL=N},get workerCount(){return Qe.workerCount},set workerCount(N){Qe.workerCount=N},get maxParallelImageRequests(){return r.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(N){r.config.MAX_PARALLEL_IMAGE_REQUESTS=N},clearStorage:function(N){r.clearTileCache(N)},workerUrl:""};return ft}),k}()},3108:function(B,L,e){B.exports=e(26099)},26099:function(B,L,e){var k=e(64928),w=e(32420),r=e(51160),_=e(76752),v=e(55616),f=e(31264),s=e(47520),t=e(18400),a=e(72512),n=e(76244);function i(l,o){for(var u=o[0],h=o[1],c=1/(o[2]-u),b=1/(o[3]-h),d=new Array(l.length),g=0,m=l.length/2;g<m;g++)d[2*g]=w((l[2*g]-u)*c,0,1),d[2*g+1]=w((l[2*g+1]-h)*b,0,1);return d}B.exports=function(l,o){o||(o={}),l=s(l,"float64"),o=v(o,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var u=f(o.maxDepth,255),h=f(o.bounds,_(l,2));h[0]===h[2]&&h[2]++,h[1]===h[3]&&h[3]++;var c,b=i(l,h),d=l.length>>>1;o.dtype||(o.dtype="array"),typeof o.dtype=="string"?c=new(a(o.dtype))(d):o.dtype&&(c=o.dtype,Array.isArray(c)&&(c.length=d));for(var g=0;g<d;++g)c[g]=g;var m=[],y=[],x=[],T=[];(function R(U,z,j,W,F,V){if(!W.length)return null;var H=m[F]||(m[F]=[]),te=x[F]||(x[F]=[]),Q=y[F]||(y[F]=[]),K=H.length;if(++F>u||V>1073741824){for(var X=0;X<W.length;X++)H.push(W[X]),te.push(V),Q.push(null,null,null,null);return K}if(H.push(W[0]),te.push(V),W.length<=1)return Q.push(null,null,null,null),K;for(var J=.5*j,ee=U+J,ie=z+J,oe=[],ae=[],ce=[],ge=[],ve=1,be=W.length;ve<be;ve++){var we=W[ve],ye=b[2*we],me=b[2*we+1];ye<ee?me<ie?oe.push(we):ae.push(we):me<ie?ce.push(we):ge.push(we)}return V<<=2,Q.push(R(U,z,J,oe,F,V),R(U,ie,J,ae,F,V+1),R(ee,z,J,ce,F,V+2),R(ee,ie,J,ge,F,V+3)),K})(0,0,1,c,0,1);for(var p=0,S=0;S<m.length;S++){var M=m[S];if(c.set)c.set(M,p);else for(var E=0,P=M.length;E<P;E++)c[E+p]=M[E];var O=p+m[S].length;T[S]=[p,O],p=O}return c.range=function(){for(var R,U=[],z=arguments.length;z--;)U[z]=arguments[z];if(t(U[U.length-1])){var j=U.pop();U.length||j.x==null&&j.l==null&&j.left==null||(U=[j],R={}),R=v(j,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else R={};U.length||(U=h);var W,F=r.apply(void 0,U),V=[Math.min(F.x,F.x+F.width),Math.min(F.y,F.y+F.height),Math.max(F.x,F.x+F.width),Math.max(F.y,F.y+F.height)],H=V[0],te=V[1],Q=V[2],K=V[3],X=i([H,te,Q,K],h),J=X[0],ee=X[1],ie=X[2],oe=X[3],ae=f(R.level,m.length);if(R.d!=null&&(typeof R.d=="number"?W=[R.d,R.d]:R.d.length&&(W=R.d),ae=Math.min(Math.max(Math.ceil(-n(Math.abs(W[0])/(h[2]-h[0]))),Math.ceil(-n(Math.abs(W[1])/(h[3]-h[1])))),ae)),ae=Math.min(ae,m.length),R.lod)return function(ge,ve,be,we,ye){for(var me=[],Ae=0;Ae<ye;Ae++){var ke=x[Ae],fe=T[Ae][0],le=I(ge,ve,Ae),de=I(be,we,Ae),Ce=k.ge(ke,le),Me=k.gt(ke,de,Ce,ke.length-1);me[Ae]=[Ce+fe,Me+fe]}return me}(J,ee,ie,oe,ae);var ce=[];return function ge(ve,be,we,ye,me,Ae){if(me!==null&&Ae!==null&&!(J>ve+we||ee>be+we||ie<ve||oe<be||ye>=ae||me===Ae)){var ke=m[ye];Ae===void 0&&(Ae=ke.length);for(var fe=me;fe<Ae;fe++){var le=ke[fe],de=l[2*le],Ce=l[2*le+1];de>=H&&de<=Q&&Ce>=te&&Ce<=K&&ce.push(le)}var Me=y[ye],Le=Me[4*me+0],Oe=Me[4*me+1],Be=Me[4*me+2],pe=Me[4*me+3],_e=function(Ne,ze){for(var Ge=null,Ye=0;Ge===null;)if(Ge=Ne[4*ze+Ye],++Ye>Ne.length)return null;return Ge}(Me,me+1),Te=.5*we,Re=ye+1;ge(ve,be,Te,Re,Le,Oe||Be||pe||_e),ge(ve,be+Te,Te,Re,Oe,Be||pe||_e),ge(ve+Te,be,Te,Re,Be,pe||_e),ge(ve+Te,be+Te,Te,Re,pe,_e)}}(0,0,1,0,0,1),ce},c;function I(R,U,z){for(var j=1,W=.5,F=.5,V=.5,H=0;H<z;H++)j<<=2,j+=R<W?U<F?0:1:U<F?2:3,V*=.5,W+=R<W?-V:V,F+=U<F?-V:V;return j}}},40440:function(B,L,e){Object.defineProperty(L,"__esModule",{value:!0});var k=e(3256),w=6378137;function r(f){var s=0;if(f&&f.length>0){s+=Math.abs(_(f[0]));for(var t=1;t<f.length;t++)s-=Math.abs(_(f[t]))}return s}function _(f){var s,t,a,n,i,l,o=0,u=f.length;if(u>2){for(l=0;l<u;l++)l===u-2?(a=u-2,n=u-1,i=0):l===u-1?(a=u-1,n=0,i=1):(a=l,n=l+1,i=l+2),s=f[a],t=f[n],o+=(v(f[i][0])-v(s[0]))*Math.sin(v(t[1]));o=o*w*w/2}return o}function v(f){return f*Math.PI/180}L.default=function(f){return k.geomReduce(f,function(s,t){return s+function(a){var n,i=0;switch(a.type){case"Polygon":return r(a.coordinates);case"MultiPolygon":for(n=0;n<a.coordinates.length;n++)i+=r(a.coordinates[n]);return i;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)},0)}},46284:function(B,L){function e(l,o,u){u===void 0&&(u={});var h={type:"Feature"};return(u.id===0||u.id)&&(h.id=u.id),u.bbox&&(h.bbox=u.bbox),h.properties=o||{},h.geometry=l,h}function k(l,o,u){if(u===void 0&&(u={}),!l)throw new Error("coordinates is required");if(!Array.isArray(l))throw new Error("coordinates must be an Array");if(l.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!i(l[0])||!i(l[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:l},o,u)}function w(l,o,u){u===void 0&&(u={});for(var h=0,c=l;h<c.length;h++){var b=c[h];if(b.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var d=0;d<b[b.length-1].length;d++)if(b[b.length-1][d]!==b[0][d])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:l},o,u)}function r(l,o,u){if(u===void 0&&(u={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:l},o,u)}function _(l,o){o===void 0&&(o={});var u={type:"FeatureCollection"};return o.id&&(u.id=o.id),o.bbox&&(u.bbox=o.bbox),u.features=l,u}function v(l,o,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:l},o,u)}function f(l,o,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:l},o,u)}function s(l,o,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:l},o,u)}function t(l,o){o===void 0&&(o="kilometers");var u=L.factors[o];if(!u)throw new Error(o+" units is invalid");return l*u}function a(l,o){o===void 0&&(o="kilometers");var u=L.factors[o];if(!u)throw new Error(o+" units is invalid");return l/u}function n(l){return l%(2*Math.PI)*180/Math.PI}function i(l){return!isNaN(l)&&l!==null&&!Array.isArray(l)}Object.defineProperty(L,"__esModule",{value:!0}),L.earthRadius=63710088e-1,L.factors={centimeters:100*L.earthRadius,centimetres:100*L.earthRadius,degrees:L.earthRadius/111325,feet:3.28084*L.earthRadius,inches:39.37*L.earthRadius,kilometers:L.earthRadius/1e3,kilometres:L.earthRadius/1e3,meters:L.earthRadius,metres:L.earthRadius,miles:L.earthRadius/1609.344,millimeters:1e3*L.earthRadius,millimetres:1e3*L.earthRadius,nauticalmiles:L.earthRadius/1852,radians:1,yards:1.0936*L.earthRadius},L.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/L.earthRadius,yards:1.0936133},L.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},L.feature=e,L.geometry=function(l,o,u){switch(l){case"Point":return k(o).geometry;case"LineString":return r(o).geometry;case"Polygon":return w(o).geometry;case"MultiPoint":return f(o).geometry;case"MultiLineString":return v(o).geometry;case"MultiPolygon":return s(o).geometry;default:throw new Error(l+" is invalid")}},L.point=k,L.points=function(l,o,u){return u===void 0&&(u={}),_(l.map(function(h){return k(h,o)}),u)},L.polygon=w,L.polygons=function(l,o,u){return u===void 0&&(u={}),_(l.map(function(h){return w(h,o)}),u)},L.lineString=r,L.lineStrings=function(l,o,u){return u===void 0&&(u={}),_(l.map(function(h){return r(h,o)}),u)},L.featureCollection=_,L.multiLineString=v,L.multiPoint=f,L.multiPolygon=s,L.geometryCollection=function(l,o,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:l},o,u)},L.round=function(l,o){if(o===void 0&&(o=0),o&&!(o>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,o||0);return Math.round(l*u)/u},L.radiansToLength=t,L.lengthToRadians=a,L.lengthToDegrees=function(l,o){return n(a(l,o))},L.bearingToAzimuth=function(l){var o=l%360;return o<0&&(o+=360),o},L.radiansToDegrees=n,L.degreesToRadians=function(l){return l%360*Math.PI/180},L.convertLength=function(l,o,u){if(o===void 0&&(o="kilometers"),u===void 0&&(u="kilometers"),!(l>=0))throw new Error("length must be a positive number");return t(a(l,o),u)},L.convertArea=function(l,o,u){if(o===void 0&&(o="meters"),u===void 0&&(u="kilometers"),!(l>=0))throw new Error("area must be a positive number");var h=L.areaFactors[o];if(!h)throw new Error("invalid original units");var c=L.areaFactors[u];if(!c)throw new Error("invalid final units");return l/h*c},L.isNumber=i,L.isObject=function(l){return!!l&&l.constructor===Object},L.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(l.length!==4&&l.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(o){if(!i(o))throw new Error("bbox must only contain numbers")})},L.validateId=function(l){if(!l)throw new Error("id is required");if(["string","number"].indexOf(typeof l)===-1)throw new Error("id must be a number or a string")}},3256:function(B,L,e){Object.defineProperty(L,"__esModule",{value:!0});var k=e(46284);function w(a,n,i){if(a!==null)for(var l,o,u,h,c,b,d,g,m=0,y=0,x=a.type,T=x==="FeatureCollection",p=x==="Feature",S=T?a.features.length:1,M=0;M<S;M++){c=(g=!!(d=T?a.features[M].geometry:p?a.geometry:a)&&d.type==="GeometryCollection")?d.geometries.length:1;for(var E=0;E<c;E++){var P=0,O=0;if((h=g?d.geometries[E]:d)!==null){b=h.coordinates;var I=h.type;switch(m=!i||I!=="Polygon"&&I!=="MultiPolygon"?0:1,I){case null:break;case"Point":if(n(b,y,M,P,O)===!1)return!1;y++,P++;break;case"LineString":case"MultiPoint":for(l=0;l<b.length;l++){if(n(b[l],y,M,P,O)===!1)return!1;y++,I==="MultiPoint"&&P++}I==="LineString"&&P++;break;case"Polygon":case"MultiLineString":for(l=0;l<b.length;l++){for(o=0;o<b[l].length-m;o++){if(n(b[l][o],y,M,P,O)===!1)return!1;y++}I==="MultiLineString"&&P++,I==="Polygon"&&O++}I==="Polygon"&&P++;break;case"MultiPolygon":for(l=0;l<b.length;l++){for(O=0,o=0;o<b[l].length;o++){for(u=0;u<b[l][o].length-m;u++){if(n(b[l][o][u],y,M,P,O)===!1)return!1;y++}O++}P++}break;case"GeometryCollection":for(l=0;l<h.geometries.length;l++)if(w(h.geometries[l],n,i)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function r(a,n){var i;switch(a.type){case"FeatureCollection":for(i=0;i<a.features.length&&n(a.features[i].properties,i)!==!1;i++);break;case"Feature":n(a.properties,0)}}function _(a,n){if(a.type==="Feature")n(a,0);else if(a.type==="FeatureCollection")for(var i=0;i<a.features.length&&n(a.features[i],i)!==!1;i++);}function v(a,n){var i,l,o,u,h,c,b,d,g,m,y=0,x=a.type==="FeatureCollection",T=a.type==="Feature",p=x?a.features.length:1;for(i=0;i<p;i++){for(c=x?a.features[i].geometry:T?a.geometry:a,d=x?a.features[i].properties:T?a.properties:{},g=x?a.features[i].bbox:T?a.bbox:void 0,m=x?a.features[i].id:T?a.id:void 0,h=(b=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,o=0;o<h;o++)if((u=b?c.geometries[o]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(n(u,y,d,g,m)===!1)return!1;break;case"GeometryCollection":for(l=0;l<u.geometries.length;l++)if(n(u.geometries[l],y,d,g,m)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(n(null,y,d,g,m)===!1)return!1;y++}}function f(a,n){v(a,function(i,l,o,u,h){var c,b=i===null?null:i.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return n(k.feature(i,o,{bbox:u,id:h}),l,0)!==!1&&void 0}switch(b){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var d=0;d<i.coordinates.length;d++){var g={type:c,coordinates:i.coordinates[d]};if(n(k.feature(g,o),l,d)===!1)return!1}})}function s(a,n){f(a,function(i,l,o){var u=0;if(i.geometry){var h=i.geometry.type;if(h!=="Point"&&h!=="MultiPoint"){var c,b=0,d=0,g=0;return w(i,function(m,y,x,T,p){if(c===void 0||l>b||T>d||p>g)return c=m,b=l,d=T,g=p,void(u=0);var S=k.lineString([c,m],i.properties);if(n(S,l,o,p,u)===!1)return!1;u++,c=m})!==!1&&void 0}}})}function t(a,n){if(!a)throw new Error("geojson is required");f(a,function(i,l,o){if(i.geometry!==null){var u=i.geometry.type,h=i.geometry.coordinates;switch(u){case"LineString":if(n(i,l,o,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<h.length;c++)if(n(k.lineString(h[c],i.properties),l,o,c)===!1)return!1}}})}L.coordEach=w,L.coordReduce=function(a,n,i,l){var o=i;return w(a,function(u,h,c,b,d){o=h===0&&i===void 0?u:n(o,u,h,c,b,d)},l),o},L.propEach=r,L.propReduce=function(a,n,i){var l=i;return r(a,function(o,u){l=u===0&&i===void 0?o:n(l,o,u)}),l},L.featureEach=_,L.featureReduce=function(a,n,i){var l=i;return _(a,function(o,u){l=u===0&&i===void 0?o:n(l,o,u)}),l},L.coordAll=function(a){var n=[];return w(a,function(i){n.push(i)}),n},L.geomEach=v,L.geomReduce=function(a,n,i){var l=i;return v(a,function(o,u,h,c,b){l=u===0&&i===void 0?o:n(l,o,u,h,c,b)}),l},L.flattenEach=f,L.flattenReduce=function(a,n,i){var l=i;return f(a,function(o,u,h){l=u===0&&h===0&&i===void 0?o:n(l,o,u,h)}),l},L.segmentEach=s,L.segmentReduce=function(a,n,i){var l=i,o=!1;return s(a,function(u,h,c,b,d){l=o===!1&&i===void 0?u:n(l,u,h,c,b,d),o=!0}),l},L.lineEach=t,L.lineReduce=function(a,n,i){var l=i;return t(a,function(o,u,h,c){l=u===0&&i===void 0?o:n(l,o,u,h,c)}),l},L.findSegment=function(a,n){if(n=n||{},!k.isObject(n))throw new Error("options is invalid");var i,l=n.featureIndex||0,o=n.multiFeatureIndex||0,u=n.geometryIndex||0,h=n.segmentIndex||0,c=n.properties;switch(a.type){case"FeatureCollection":l<0&&(l=a.features.length+l),c=c||a.features[l].properties,i=a.features[l].geometry;break;case"Feature":c=c||a.properties,i=a.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=a;break;default:throw new Error("geojson is invalid")}if(i===null)return null;var b=i.coordinates;switch(i.type){case"Point":case"MultiPoint":return null;case"LineString":return h<0&&(h=b.length+h-1),k.lineString([b[h],b[h+1]],c,n);case"Polygon":return u<0&&(u=b.length+u),h<0&&(h=b[u].length+h-1),k.lineString([b[u][h],b[u][h+1]],c,n);case"MultiLineString":return o<0&&(o=b.length+o),h<0&&(h=b[o].length+h-1),k.lineString([b[o][h],b[o][h+1]],c,n);case"MultiPolygon":return o<0&&(o=b.length+o),u<0&&(u=b[o].length+u),h<0&&(h=b[o][u].length-h-1),k.lineString([b[o][u][h],b[o][u][h+1]],c,n)}throw new Error("geojson is invalid")},L.findPoint=function(a,n){if(n=n||{},!k.isObject(n))throw new Error("options is invalid");var i,l=n.featureIndex||0,o=n.multiFeatureIndex||0,u=n.geometryIndex||0,h=n.coordIndex||0,c=n.properties;switch(a.type){case"FeatureCollection":l<0&&(l=a.features.length+l),c=c||a.features[l].properties,i=a.features[l].geometry;break;case"Feature":c=c||a.properties,i=a.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=a;break;default:throw new Error("geojson is invalid")}if(i===null)return null;var b=i.coordinates;switch(i.type){case"Point":return k.point(b,c,n);case"MultiPoint":return o<0&&(o=b.length+o),k.point(b[o],c,n);case"LineString":return h<0&&(h=b.length+h),k.point(b[h],c,n);case"Polygon":return u<0&&(u=b.length+u),h<0&&(h=b[u].length+h),k.point(b[u][h],c,n);case"MultiLineString":return o<0&&(o=b.length+o),h<0&&(h=b[o].length+h),k.point(b[o][h],c,n);case"MultiPolygon":return o<0&&(o=b.length+o),u<0&&(u=b[o].length+u),h<0&&(h=b[o][u].length-h),k.point(b[o][u][h],c,n)}throw new Error("geojson is invalid")}},42428:function(B,L,e){Object.defineProperty(L,"__esModule",{value:!0});var k=e(84880);function w(r){var _=[1/0,1/0,-1/0,-1/0];return k.coordEach(r,function(v){_[0]>v[0]&&(_[0]=v[0]),_[1]>v[1]&&(_[1]=v[1]),_[2]<v[0]&&(_[2]=v[0]),_[3]<v[1]&&(_[3]=v[1])}),_}w.default=w,L.default=w},76796:function(B,L){function e(l,o,u){u===void 0&&(u={});var h={type:"Feature"};return(u.id===0||u.id)&&(h.id=u.id),u.bbox&&(h.bbox=u.bbox),h.properties=o||{},h.geometry=l,h}function k(l,o,u){if(u===void 0&&(u={}),!l)throw new Error("coordinates is required");if(!Array.isArray(l))throw new Error("coordinates must be an Array");if(l.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!i(l[0])||!i(l[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:l},o,u)}function w(l,o,u){u===void 0&&(u={});for(var h=0,c=l;h<c.length;h++){var b=c[h];if(b.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var d=0;d<b[b.length-1].length;d++)if(b[b.length-1][d]!==b[0][d])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:l},o,u)}function r(l,o,u){if(u===void 0&&(u={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:l},o,u)}function _(l,o){o===void 0&&(o={});var u={type:"FeatureCollection"};return o.id&&(u.id=o.id),o.bbox&&(u.bbox=o.bbox),u.features=l,u}function v(l,o,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:l},o,u)}function f(l,o,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:l},o,u)}function s(l,o,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:l},o,u)}function t(l,o){o===void 0&&(o="kilometers");var u=L.factors[o];if(!u)throw new Error(o+" units is invalid");return l*u}function a(l,o){o===void 0&&(o="kilometers");var u=L.factors[o];if(!u)throw new Error(o+" units is invalid");return l/u}function n(l){return l%(2*Math.PI)*180/Math.PI}function i(l){return!isNaN(l)&&l!==null&&!Array.isArray(l)}Object.defineProperty(L,"__esModule",{value:!0}),L.earthRadius=63710088e-1,L.factors={centimeters:100*L.earthRadius,centimetres:100*L.earthRadius,degrees:L.earthRadius/111325,feet:3.28084*L.earthRadius,inches:39.37*L.earthRadius,kilometers:L.earthRadius/1e3,kilometres:L.earthRadius/1e3,meters:L.earthRadius,metres:L.earthRadius,miles:L.earthRadius/1609.344,millimeters:1e3*L.earthRadius,millimetres:1e3*L.earthRadius,nauticalmiles:L.earthRadius/1852,radians:1,yards:1.0936*L.earthRadius},L.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/L.earthRadius,yards:1.0936133},L.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},L.feature=e,L.geometry=function(l,o,u){switch(l){case"Point":return k(o).geometry;case"LineString":return r(o).geometry;case"Polygon":return w(o).geometry;case"MultiPoint":return f(o).geometry;case"MultiLineString":return v(o).geometry;case"MultiPolygon":return s(o).geometry;default:throw new Error(l+" is invalid")}},L.point=k,L.points=function(l,o,u){return u===void 0&&(u={}),_(l.map(function(h){return k(h,o)}),u)},L.polygon=w,L.polygons=function(l,o,u){return u===void 0&&(u={}),_(l.map(function(h){return w(h,o)}),u)},L.lineString=r,L.lineStrings=function(l,o,u){return u===void 0&&(u={}),_(l.map(function(h){return r(h,o)}),u)},L.featureCollection=_,L.multiLineString=v,L.multiPoint=f,L.multiPolygon=s,L.geometryCollection=function(l,o,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:l},o,u)},L.round=function(l,o){if(o===void 0&&(o=0),o&&!(o>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,o||0);return Math.round(l*u)/u},L.radiansToLength=t,L.lengthToRadians=a,L.lengthToDegrees=function(l,o){return n(a(l,o))},L.bearingToAzimuth=function(l){var o=l%360;return o<0&&(o+=360),o},L.radiansToDegrees=n,L.degreesToRadians=function(l){return l%360*Math.PI/180},L.convertLength=function(l,o,u){if(o===void 0&&(o="kilometers"),u===void 0&&(u="kilometers"),!(l>=0))throw new Error("length must be a positive number");return t(a(l,o),u)},L.convertArea=function(l,o,u){if(o===void 0&&(o="meters"),u===void 0&&(u="kilometers"),!(l>=0))throw new Error("area must be a positive number");var h=L.areaFactors[o];if(!h)throw new Error("invalid original units");var c=L.areaFactors[u];if(!c)throw new Error("invalid final units");return l/h*c},L.isNumber=i,L.isObject=function(l){return!!l&&l.constructor===Object},L.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(l.length!==4&&l.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(o){if(!i(o))throw new Error("bbox must only contain numbers")})},L.validateId=function(l){if(!l)throw new Error("id is required");if(["string","number"].indexOf(typeof l)===-1)throw new Error("id must be a number or a string")}},84880:function(B,L,e){Object.defineProperty(L,"__esModule",{value:!0});var k=e(76796);function w(a,n,i){if(a!==null)for(var l,o,u,h,c,b,d,g,m=0,y=0,x=a.type,T=x==="FeatureCollection",p=x==="Feature",S=T?a.features.length:1,M=0;M<S;M++){c=(g=!!(d=T?a.features[M].geometry:p?a.geometry:a)&&d.type==="GeometryCollection")?d.geometries.length:1;for(var E=0;E<c;E++){var P=0,O=0;if((h=g?d.geometries[E]:d)!==null){b=h.coordinates;var I=h.type;switch(m=!i||I!=="Polygon"&&I!=="MultiPolygon"?0:1,I){case null:break;case"Point":if(n(b,y,M,P,O)===!1)return!1;y++,P++;break;case"LineString":case"MultiPoint":for(l=0;l<b.length;l++){if(n(b[l],y,M,P,O)===!1)return!1;y++,I==="MultiPoint"&&P++}I==="LineString"&&P++;break;case"Polygon":case"MultiLineString":for(l=0;l<b.length;l++){for(o=0;o<b[l].length-m;o++){if(n(b[l][o],y,M,P,O)===!1)return!1;y++}I==="MultiLineString"&&P++,I==="Polygon"&&O++}I==="Polygon"&&P++;break;case"MultiPolygon":for(l=0;l<b.length;l++){for(O=0,o=0;o<b[l].length;o++){for(u=0;u<b[l][o].length-m;u++){if(n(b[l][o][u],y,M,P,O)===!1)return!1;y++}O++}P++}break;case"GeometryCollection":for(l=0;l<h.geometries.length;l++)if(w(h.geometries[l],n,i)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function r(a,n){var i;switch(a.type){case"FeatureCollection":for(i=0;i<a.features.length&&n(a.features[i].properties,i)!==!1;i++);break;case"Feature":n(a.properties,0)}}function _(a,n){if(a.type==="Feature")n(a,0);else if(a.type==="FeatureCollection")for(var i=0;i<a.features.length&&n(a.features[i],i)!==!1;i++);}function v(a,n){var i,l,o,u,h,c,b,d,g,m,y=0,x=a.type==="FeatureCollection",T=a.type==="Feature",p=x?a.features.length:1;for(i=0;i<p;i++){for(c=x?a.features[i].geometry:T?a.geometry:a,d=x?a.features[i].properties:T?a.properties:{},g=x?a.features[i].bbox:T?a.bbox:void 0,m=x?a.features[i].id:T?a.id:void 0,h=(b=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,o=0;o<h;o++)if((u=b?c.geometries[o]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(n(u,y,d,g,m)===!1)return!1;break;case"GeometryCollection":for(l=0;l<u.geometries.length;l++)if(n(u.geometries[l],y,d,g,m)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(n(null,y,d,g,m)===!1)return!1;y++}}function f(a,n){v(a,function(i,l,o,u,h){var c,b=i===null?null:i.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return n(k.feature(i,o,{bbox:u,id:h}),l,0)!==!1&&void 0}switch(b){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var d=0;d<i.coordinates.length;d++){var g={type:c,coordinates:i.coordinates[d]};if(n(k.feature(g,o),l,d)===!1)return!1}})}function s(a,n){f(a,function(i,l,o){var u=0;if(i.geometry){var h=i.geometry.type;if(h!=="Point"&&h!=="MultiPoint"){var c,b=0,d=0,g=0;return w(i,function(m,y,x,T,p){if(c===void 0||l>b||T>d||p>g)return c=m,b=l,d=T,g=p,void(u=0);var S=k.lineString([c,m],i.properties);if(n(S,l,o,p,u)===!1)return!1;u++,c=m})!==!1&&void 0}}})}function t(a,n){if(!a)throw new Error("geojson is required");f(a,function(i,l,o){if(i.geometry!==null){var u=i.geometry.type,h=i.geometry.coordinates;switch(u){case"LineString":if(n(i,l,o,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<h.length;c++)if(n(k.lineString(h[c],i.properties),l,o,c)===!1)return!1}}})}L.coordEach=w,L.coordReduce=function(a,n,i,l){var o=i;return w(a,function(u,h,c,b,d){o=h===0&&i===void 0?u:n(o,u,h,c,b,d)},l),o},L.propEach=r,L.propReduce=function(a,n,i){var l=i;return r(a,function(o,u){l=u===0&&i===void 0?o:n(l,o,u)}),l},L.featureEach=_,L.featureReduce=function(a,n,i){var l=i;return _(a,function(o,u){l=u===0&&i===void 0?o:n(l,o,u)}),l},L.coordAll=function(a){var n=[];return w(a,function(i){n.push(i)}),n},L.geomEach=v,L.geomReduce=function(a,n,i){var l=i;return v(a,function(o,u,h,c,b){l=u===0&&i===void 0?o:n(l,o,u,h,c,b)}),l},L.flattenEach=f,L.flattenReduce=function(a,n,i){var l=i;return f(a,function(o,u,h){l=u===0&&h===0&&i===void 0?o:n(l,o,u,h)}),l},L.segmentEach=s,L.segmentReduce=function(a,n,i){var l=i,o=!1;return s(a,function(u,h,c,b,d){l=o===!1&&i===void 0?u:n(l,u,h,c,b,d),o=!0}),l},L.lineEach=t,L.lineReduce=function(a,n,i){var l=i;return t(a,function(o,u,h,c){l=u===0&&i===void 0?o:n(l,o,u,h,c)}),l},L.findSegment=function(a,n){if(n=n||{},!k.isObject(n))throw new Error("options is invalid");var i,l=n.featureIndex||0,o=n.multiFeatureIndex||0,u=n.geometryIndex||0,h=n.segmentIndex||0,c=n.properties;switch(a.type){case"FeatureCollection":l<0&&(l=a.features.length+l),c=c||a.features[l].properties,i=a.features[l].geometry;break;case"Feature":c=c||a.properties,i=a.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=a;break;default:throw new Error("geojson is invalid")}if(i===null)return null;var b=i.coordinates;switch(i.type){case"Point":case"MultiPoint":return null;case"LineString":return h<0&&(h=b.length+h-1),k.lineString([b[h],b[h+1]],c,n);case"Polygon":return u<0&&(u=b.length+u),h<0&&(h=b[u].length+h-1),k.lineString([b[u][h],b[u][h+1]],c,n);case"MultiLineString":return o<0&&(o=b.length+o),h<0&&(h=b[o].length+h-1),k.lineString([b[o][h],b[o][h+1]],c,n);case"MultiPolygon":return o<0&&(o=b.length+o),u<0&&(u=b[o].length+u),h<0&&(h=b[o][u].length-h-1),k.lineString([b[o][u][h],b[o][u][h+1]],c,n)}throw new Error("geojson is invalid")},L.findPoint=function(a,n){if(n=n||{},!k.isObject(n))throw new Error("options is invalid");var i,l=n.featureIndex||0,o=n.multiFeatureIndex||0,u=n.geometryIndex||0,h=n.coordIndex||0,c=n.properties;switch(a.type){case"FeatureCollection":l<0&&(l=a.features.length+l),c=c||a.features[l].properties,i=a.features[l].geometry;break;case"Feature":c=c||a.properties,i=a.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=a;break;default:throw new Error("geojson is invalid")}if(i===null)return null;var b=i.coordinates;switch(i.type){case"Point":return k.point(b,c,n);case"MultiPoint":return o<0&&(o=b.length+o),k.point(b[o],c,n);case"LineString":return h<0&&(h=b.length+h),k.point(b[h],c,n);case"Polygon":return u<0&&(u=b.length+u),h<0&&(h=b[u].length+h),k.point(b[u][h],c,n);case"MultiLineString":return o<0&&(o=b.length+o),h<0&&(h=b[o].length+h),k.point(b[o][h],c,n);case"MultiPolygon":return o<0&&(o=b.length+o),u<0&&(u=b[o].length+u),h<0&&(h=b[o][u].length-h),k.point(b[o][u][h],c,n)}throw new Error("geojson is invalid")}},77844:function(B,L,e){Object.defineProperty(L,"__esModule",{value:!0});var k=e(43752),w=e(49840);L.default=function(r,_){_===void 0&&(_={});var v=0,f=0,s=0;return k.coordEach(r,function(t){v+=t[0],f+=t[1],s++}),w.point([v/s,f/s],_.properties)}},49840:function(B,L){function e(l,o,u){u===void 0&&(u={});var h={type:"Feature"};return(u.id===0||u.id)&&(h.id=u.id),u.bbox&&(h.bbox=u.bbox),h.properties=o||{},h.geometry=l,h}function k(l,o,u){return u===void 0&&(u={}),e({type:"Point",coordinates:l},o,u)}function w(l,o,u){u===void 0&&(u={});for(var h=0,c=l;h<c.length;h++){var b=c[h];if(b.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var d=0;d<b[b.length-1].length;d++)if(b[b.length-1][d]!==b[0][d])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:l},o,u)}function r(l,o,u){if(u===void 0&&(u={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:l},o,u)}function _(l,o){o===void 0&&(o={});var u={type:"FeatureCollection"};return o.id&&(u.id=o.id),o.bbox&&(u.bbox=o.bbox),u.features=l,u}function v(l,o,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:l},o,u)}function f(l,o,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:l},o,u)}function s(l,o,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:l},o,u)}function t(l,o){o===void 0&&(o="kilometers");var u=L.factors[o];if(!u)throw new Error(o+" units is invalid");return l*u}function a(l,o){o===void 0&&(o="kilometers");var u=L.factors[o];if(!u)throw new Error(o+" units is invalid");return l/u}function n(l){return l%(2*Math.PI)*180/Math.PI}function i(l){return!isNaN(l)&&l!==null&&!Array.isArray(l)&&!/^\s*$/.test(l)}Object.defineProperty(L,"__esModule",{value:!0}),L.earthRadius=63710088e-1,L.factors={centimeters:100*L.earthRadius,centimetres:100*L.earthRadius,degrees:L.earthRadius/111325,feet:3.28084*L.earthRadius,inches:39.37*L.earthRadius,kilometers:L.earthRadius/1e3,kilometres:L.earthRadius/1e3,meters:L.earthRadius,metres:L.earthRadius,miles:L.earthRadius/1609.344,millimeters:1e3*L.earthRadius,millimetres:1e3*L.earthRadius,nauticalmiles:L.earthRadius/1852,radians:1,yards:L.earthRadius/1.0936},L.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/L.earthRadius,yards:.91441111923921},L.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},L.feature=e,L.geometry=function(l,o,u){switch(l){case"Point":return k(o).geometry;case"LineString":return r(o).geometry;case"Polygon":return w(o).geometry;case"MultiPoint":return f(o).geometry;case"MultiLineString":return v(o).geometry;case"MultiPolygon":return s(o).geometry;default:throw new Error(l+" is invalid")}},L.point=k,L.points=function(l,o,u){return u===void 0&&(u={}),_(l.map(function(h){return k(h,o)}),u)},L.polygon=w,L.polygons=function(l,o,u){return u===void 0&&(u={}),_(l.map(function(h){return w(h,o)}),u)},L.lineString=r,L.lineStrings=function(l,o,u){return u===void 0&&(u={}),_(l.map(function(h){return r(h,o)}),u)},L.featureCollection=_,L.multiLineString=v,L.multiPoint=f,L.multiPolygon=s,L.geometryCollection=function(l,o,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:l},o,u)},L.round=function(l,o){if(o===void 0&&(o=0),o&&!(o>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,o||0);return Math.round(l*u)/u},L.radiansToLength=t,L.lengthToRadians=a,L.lengthToDegrees=function(l,o){return n(a(l,o))},L.bearingToAzimuth=function(l){var o=l%360;return o<0&&(o+=360),o},L.radiansToDegrees=n,L.degreesToRadians=function(l){return l%360*Math.PI/180},L.convertLength=function(l,o,u){if(o===void 0&&(o="kilometers"),u===void 0&&(u="kilometers"),!(l>=0))throw new Error("length must be a positive number");return t(a(l,o),u)},L.convertArea=function(l,o,u){if(o===void 0&&(o="meters"),u===void 0&&(u="kilometers"),!(l>=0))throw new Error("area must be a positive number");var h=L.areaFactors[o];if(!h)throw new Error("invalid original units");var c=L.areaFactors[u];if(!c)throw new Error("invalid final units");return l/h*c},L.isNumber=i,L.isObject=function(l){return!!l&&l.constructor===Object},L.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(l.length!==4&&l.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(o){if(!i(o))throw new Error("bbox must only contain numbers")})},L.validateId=function(l){if(!l)throw new Error("id is required");if(["string","number"].indexOf(typeof l)===-1)throw new Error("id must be a number or a string")},L.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},L.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},L.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},L.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},L.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},L.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},L.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},43752:function(B,L,e){Object.defineProperty(L,"__esModule",{value:!0});var k=e(49840);function w(a,n,i){if(a!==null)for(var l,o,u,h,c,b,d,g,m=0,y=0,x=a.type,T=x==="FeatureCollection",p=x==="Feature",S=T?a.features.length:1,M=0;M<S;M++){c=(g=!!(d=T?a.features[M].geometry:p?a.geometry:a)&&d.type==="GeometryCollection")?d.geometries.length:1;for(var E=0;E<c;E++){var P=0,O=0;if((h=g?d.geometries[E]:d)!==null){b=h.coordinates;var I=h.type;switch(m=!i||I!=="Polygon"&&I!=="MultiPolygon"?0:1,I){case null:break;case"Point":if(n(b,y,M,P,O)===!1)return!1;y++,P++;break;case"LineString":case"MultiPoint":for(l=0;l<b.length;l++){if(n(b[l],y,M,P,O)===!1)return!1;y++,I==="MultiPoint"&&P++}I==="LineString"&&P++;break;case"Polygon":case"MultiLineString":for(l=0;l<b.length;l++){for(o=0;o<b[l].length-m;o++){if(n(b[l][o],y,M,P,O)===!1)return!1;y++}I==="MultiLineString"&&P++,I==="Polygon"&&O++}I==="Polygon"&&P++;break;case"MultiPolygon":for(l=0;l<b.length;l++){for(O=0,o=0;o<b[l].length;o++){for(u=0;u<b[l][o].length-m;u++){if(n(b[l][o][u],y,M,P,O)===!1)return!1;y++}O++}P++}break;case"GeometryCollection":for(l=0;l<h.geometries.length;l++)if(w(h.geometries[l],n,i)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function r(a,n){var i;switch(a.type){case"FeatureCollection":for(i=0;i<a.features.length&&n(a.features[i].properties,i)!==!1;i++);break;case"Feature":n(a.properties,0)}}function _(a,n){if(a.type==="Feature")n(a,0);else if(a.type==="FeatureCollection")for(var i=0;i<a.features.length&&n(a.features[i],i)!==!1;i++);}function v(a,n){var i,l,o,u,h,c,b,d,g,m,y=0,x=a.type==="FeatureCollection",T=a.type==="Feature",p=x?a.features.length:1;for(i=0;i<p;i++){for(c=x?a.features[i].geometry:T?a.geometry:a,d=x?a.features[i].properties:T?a.properties:{},g=x?a.features[i].bbox:T?a.bbox:void 0,m=x?a.features[i].id:T?a.id:void 0,h=(b=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,o=0;o<h;o++)if((u=b?c.geometries[o]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(n(u,y,d,g,m)===!1)return!1;break;case"GeometryCollection":for(l=0;l<u.geometries.length;l++)if(n(u.geometries[l],y,d,g,m)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(n(null,y,d,g,m)===!1)return!1;y++}}function f(a,n){v(a,function(i,l,o,u,h){var c,b=i===null?null:i.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return n(k.feature(i,o,{bbox:u,id:h}),l,0)!==!1&&void 0}switch(b){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var d=0;d<i.coordinates.length;d++){var g={type:c,coordinates:i.coordinates[d]};if(n(k.feature(g,o),l,d)===!1)return!1}})}function s(a,n){f(a,function(i,l,o){var u=0;if(i.geometry){var h=i.geometry.type;if(h!=="Point"&&h!=="MultiPoint"){var c,b=0,d=0,g=0;return w(i,function(m,y,x,T,p){if(c===void 0||l>b||T>d||p>g)return c=m,b=l,d=T,g=p,void(u=0);var S=k.lineString([c,m],i.properties);if(n(S,l,o,p,u)===!1)return!1;u++,c=m})!==!1&&void 0}}})}function t(a,n){if(!a)throw new Error("geojson is required");f(a,function(i,l,o){if(i.geometry!==null){var u=i.geometry.type,h=i.geometry.coordinates;switch(u){case"LineString":if(n(i,l,o,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<h.length;c++)if(n(k.lineString(h[c],i.properties),l,o,c)===!1)return!1}}})}L.coordEach=w,L.coordReduce=function(a,n,i,l){var o=i;return w(a,function(u,h,c,b,d){o=h===0&&i===void 0?u:n(o,u,h,c,b,d)},l),o},L.propEach=r,L.propReduce=function(a,n,i){var l=i;return r(a,function(o,u){l=u===0&&i===void 0?o:n(l,o,u)}),l},L.featureEach=_,L.featureReduce=function(a,n,i){var l=i;return _(a,function(o,u){l=u===0&&i===void 0?o:n(l,o,u)}),l},L.coordAll=function(a){var n=[];return w(a,function(i){n.push(i)}),n},L.geomEach=v,L.geomReduce=function(a,n,i){var l=i;return v(a,function(o,u,h,c,b){l=u===0&&i===void 0?o:n(l,o,u,h,c,b)}),l},L.flattenEach=f,L.flattenReduce=function(a,n,i){var l=i;return f(a,function(o,u,h){l=u===0&&h===0&&i===void 0?o:n(l,o,u,h)}),l},L.segmentEach=s,L.segmentReduce=function(a,n,i){var l=i,o=!1;return s(a,function(u,h,c,b,d){l=o===!1&&i===void 0?u:n(l,u,h,c,b,d),o=!0}),l},L.lineEach=t,L.lineReduce=function(a,n,i){var l=i;return t(a,function(o,u,h,c){l=u===0&&i===void 0?o:n(l,o,u,h,c)}),l},L.findSegment=function(a,n){if(n=n||{},!k.isObject(n))throw new Error("options is invalid");var i,l=n.featureIndex||0,o=n.multiFeatureIndex||0,u=n.geometryIndex||0,h=n.segmentIndex||0,c=n.properties;switch(a.type){case"FeatureCollection":l<0&&(l=a.features.length+l),c=c||a.features[l].properties,i=a.features[l].geometry;break;case"Feature":c=c||a.properties,i=a.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=a;break;default:throw new Error("geojson is invalid")}if(i===null)return null;var b=i.coordinates;switch(i.type){case"Point":case"MultiPoint":return null;case"LineString":return h<0&&(h=b.length+h-1),k.lineString([b[h],b[h+1]],c,n);case"Polygon":return u<0&&(u=b.length+u),h<0&&(h=b[u].length+h-1),k.lineString([b[u][h],b[u][h+1]],c,n);case"MultiLineString":return o<0&&(o=b.length+o),h<0&&(h=b[o].length+h-1),k.lineString([b[o][h],b[o][h+1]],c,n);case"MultiPolygon":return o<0&&(o=b.length+o),u<0&&(u=b[o].length+u),h<0&&(h=b[o][u].length-h-1),k.lineString([b[o][u][h],b[o][u][h+1]],c,n)}throw new Error("geojson is invalid")},L.findPoint=function(a,n){if(n=n||{},!k.isObject(n))throw new Error("options is invalid");var i,l=n.featureIndex||0,o=n.multiFeatureIndex||0,u=n.geometryIndex||0,h=n.coordIndex||0,c=n.properties;switch(a.type){case"FeatureCollection":l<0&&(l=a.features.length+l),c=c||a.features[l].properties,i=a.features[l].geometry;break;case"Feature":c=c||a.properties,i=a.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=a;break;default:throw new Error("geojson is invalid")}if(i===null)return null;var b=i.coordinates;switch(i.type){case"Point":return k.point(b,c,n);case"MultiPoint":return o<0&&(o=b.length+o),k.point(b[o],c,n);case"LineString":return h<0&&(h=b.length+h),k.point(b[h],c,n);case"Polygon":return u<0&&(u=b.length+u),h<0&&(h=b[u].length+h),k.point(b[u][h],c,n);case"MultiLineString":return o<0&&(o=b.length+o),h<0&&(h=b[o].length+h),k.point(b[o][h],c,n);case"MultiPolygon":return o<0&&(o=b.length+o),u<0&&(u=b[o].length+u),h<0&&(h=b[o][u].length-h),k.point(b[o][u][h],c,n)}throw new Error("geojson is invalid")}},49972:function(B){B.exports=function(L){var e=0,k=0,w=0,r=0;return L.map(function(_){var v=(_=_.slice())[0],f=v.toUpperCase();if(v!=f)switch(_[0]=f,v){case"a":_[6]+=w,_[7]+=r;break;case"v":_[1]+=r;break;case"h":_[1]+=w;break;default:for(var s=1;s<_.length;)_[s++]+=w,_[s++]+=r}switch(f){case"Z":w=e,r=k;break;case"H":w=_[1];break;case"V":r=_[1];break;case"M":w=e=_[1],r=k=_[2];break;default:w=_[_.length-2],r=_[_.length-1]}return _})}},76752:function(B){B.exports=function(L,e){if(!L||L.length==null)throw Error("Argument should be an array");e=e==null?1:Math.floor(e);for(var k=Array(2*e),w=0;w<e;w++){for(var r=-1/0,_=1/0,v=w,f=L.length;v<f;v+=e)L[v]>r&&(r=L[v]),L[v]<_&&(_=L[v]);k[w]=_,k[e+w]=r}return k}},10272:function(B){B.exports=function(L,e,k){if(typeof Array.prototype.findIndex=="function")return L.findIndex(e,k);if(typeof e!="function")throw new TypeError("predicate must be a function");var w=Object(L),r=w.length;if(r===0)return-1;for(var _=0;_<r;_++)if(e.call(k,w[_],_,w))return _;return-1}},71152:function(B,L,e){var k=e(76752);B.exports=function(w,r,_){if(!w||w.length==null)throw Error("Argument should be an array");r==null&&(r=1),_==null&&(_=k(w,r));for(var v=0;v<r;v++){var f=_[r+v],s=_[v],t=v,a=w.length;if(f===1/0&&s===-1/0)for(t=v;t<a;t+=r)w[t]=w[t]===f?1:w[t]===s?0:.5;else if(f===1/0)for(t=v;t<a;t+=r)w[t]=w[t]===f?1:0;else if(s===-1/0)for(t=v;t<a;t+=r)w[t]=w[t]===s?0:1;else{var n=f-s;for(t=v;t<a;t+=r)isNaN(w[t])||(w[t]=n===0?.5:(w[t]-s)/n)}}return w}},67752:function(B){B.exports=function(L,e){var k=typeof L=="number",w=typeof e=="number";k&&!w?(e=L,L=0):k||w||(L=0,e=0);var r=(e|=0)-(L|=0);if(r<0)throw new Error("array length must be positive");for(var _=new Array(r),v=0,f=L;v<r;v++,f++)_[v]=f;return _}},45408:function(B,L,e){var k=e(4168);function w(z){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},w(z)}var r,_,v=e(86832).codes,f=v.ERR_AMBIGUOUS_ARGUMENT,s=v.ERR_INVALID_ARG_TYPE,t=v.ERR_INVALID_ARG_VALUE,a=v.ERR_INVALID_RETURN_VALUE,n=v.ERR_MISSING_ARGS,i=e(26144),l=e(35840).inspect,o=e(35840).types,u=o.isPromise,h=o.isRegExp,c=Object.assign?Object.assign:e(60964).assign,b=Object.is?Object.is:e(39896);function d(){var z=e(25116);r=z.isDeepEqual,_=z.isDeepStrictEqual}var g=!1,m=B.exports=p,y={};function x(z){throw z.message instanceof Error?z.message:new i(z)}function T(z,j,W,F){if(!W){var V=!1;if(j===0)V=!0,F="No value argument passed to `assert.ok()`";else if(F instanceof Error)throw F;var H=new i({actual:W,expected:!0,message:F,operator:"==",stackStartFn:z});throw H.generatedMessage=V,H}}function p(){for(var z=arguments.length,j=new Array(z),W=0;W<z;W++)j[W]=arguments[W];T.apply(void 0,[p,j.length].concat(j))}m.fail=function z(j,W,F,V,H){var te,Q=arguments.length;if(Q===0?te="Failed":Q===1?(F=j,j=void 0):(g===!1&&(g=!0,(k.emitWarning?k.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),Q===2&&(V="!=")),F instanceof Error)throw F;var K={actual:j,expected:W,operator:V===void 0?"fail":V,stackStartFn:H||z};F!==void 0&&(K.message=F);var X=new i(K);throw te&&(X.message=te,X.generatedMessage=!0),X},m.AssertionError=i,m.ok=p,m.equal=function z(j,W,F){if(arguments.length<2)throw new n("actual","expected");j!=W&&x({actual:j,expected:W,message:F,operator:"==",stackStartFn:z})},m.notEqual=function z(j,W,F){if(arguments.length<2)throw new n("actual","expected");j==W&&x({actual:j,expected:W,message:F,operator:"!=",stackStartFn:z})},m.deepEqual=function z(j,W,F){if(arguments.length<2)throw new n("actual","expected");r===void 0&&d(),r(j,W)||x({actual:j,expected:W,message:F,operator:"deepEqual",stackStartFn:z})},m.notDeepEqual=function z(j,W,F){if(arguments.length<2)throw new n("actual","expected");r===void 0&&d(),r(j,W)&&x({actual:j,expected:W,message:F,operator:"notDeepEqual",stackStartFn:z})},m.deepStrictEqual=function z(j,W,F){if(arguments.length<2)throw new n("actual","expected");r===void 0&&d(),_(j,W)||x({actual:j,expected:W,message:F,operator:"deepStrictEqual",stackStartFn:z})},m.notDeepStrictEqual=function z(j,W,F){if(arguments.length<2)throw new n("actual","expected");r===void 0&&d(),_(j,W)&&x({actual:j,expected:W,message:F,operator:"notDeepStrictEqual",stackStartFn:z})},m.strictEqual=function z(j,W,F){if(arguments.length<2)throw new n("actual","expected");b(j,W)||x({actual:j,expected:W,message:F,operator:"strictEqual",stackStartFn:z})},m.notStrictEqual=function z(j,W,F){if(arguments.length<2)throw new n("actual","expected");b(j,W)&&x({actual:j,expected:W,message:F,operator:"notStrictEqual",stackStartFn:z})};var S=function z(j,W,F){var V=this;(function(H,te){if(!(H instanceof te))throw new TypeError("Cannot call a class as a function")})(this,z),W.forEach(function(H){H in j&&(F!==void 0&&typeof F[H]=="string"&&h(j[H])&&j[H].test(F[H])?V[H]=F[H]:V[H]=j[H])})};function M(z,j,W,F){if(typeof j!="function"){if(h(j))return j.test(z);if(arguments.length===2)throw new s("expected",["Function","RegExp"],j);if(w(z)!=="object"||z===null){var V=new i({actual:z,expected:j,message:W,operator:"deepStrictEqual",stackStartFn:F});throw V.operator=F.name,V}var H=Object.keys(j);if(j instanceof Error)H.push("name","message");else if(H.length===0)throw new t("error",j,"may not be an empty object");return r===void 0&&d(),H.forEach(function(te){typeof z[te]=="string"&&h(j[te])&&j[te].test(z[te])||function(Q,K,X,J,ee,ie){if(!(X in Q)||!_(Q[X],K[X])){if(!J){var oe=new S(Q,ee),ae=new S(K,ee,Q),ce=new i({actual:oe,expected:ae,operator:"deepStrictEqual",stackStartFn:ie});throw ce.actual=Q,ce.expected=K,ce.operator=ie.name,ce}x({actual:Q,expected:K,message:J,operator:ie.name,stackStartFn:ie})}}(z,j,te,W,H,F)}),!0}return j.prototype!==void 0&&z instanceof j||!Error.isPrototypeOf(j)&&j.call({},z)===!0}function E(z){if(typeof z!="function")throw new s("fn","Function",z);try{z()}catch(j){return j}return y}function P(z){return u(z)||z!==null&&w(z)==="object"&&typeof z.then=="function"&&typeof z.catch=="function"}function O(z){return Promise.resolve().then(function(){var j;if(typeof z=="function"){if(!P(j=z()))throw new a("instance of Promise","promiseFn",j)}else{if(!P(z))throw new s("promiseFn",["Function","Promise"],z);j=z}return Promise.resolve().then(function(){return j}).then(function(){return y}).catch(function(W){return W})})}function I(z,j,W,F){if(typeof W=="string"){if(arguments.length===4)throw new s("error",["Object","Error","Function","RegExp"],W);if(w(j)==="object"&&j!==null){if(j.message===W)throw new f("error/message",'The error message "'.concat(j.message,'" is identical to the message.'))}else if(j===W)throw new f("error/message",'The error "'.concat(j,'" is identical to the message.'));F=W,W=void 0}else if(W!=null&&w(W)!=="object"&&typeof W!="function")throw new s("error",["Object","Error","Function","RegExp"],W);if(j===y){var V="";W&&W.name&&(V+=" (".concat(W.name,")")),V+=F?": ".concat(F):".";var H=z.name==="rejects"?"rejection":"exception";x({actual:void 0,expected:W,operator:z.name,message:"Missing expected ".concat(H).concat(V),stackStartFn:z})}if(W&&!M(j,W,F,z))throw j}function R(z,j,W,F){if(j!==y){if(typeof W=="string"&&(F=W,W=void 0),!W||M(j,W)){var V=F?": ".concat(F):".",H=z.name==="doesNotReject"?"rejection":"exception";x({actual:j,expected:W,operator:z.name,message:"Got unwanted ".concat(H).concat(V,`
`)+'Actual message: "'.concat(j&&j.message,'"'),stackStartFn:z})}throw j}}function U(){for(var z=arguments.length,j=new Array(z),W=0;W<z;W++)j[W]=arguments[W];T.apply(void 0,[U,j.length].concat(j))}m.throws=function z(j){for(var W=arguments.length,F=new Array(W>1?W-1:0),V=1;V<W;V++)F[V-1]=arguments[V];I.apply(void 0,[z,E(j)].concat(F))},m.rejects=function z(j){for(var W=arguments.length,F=new Array(W>1?W-1:0),V=1;V<W;V++)F[V-1]=arguments[V];return O(j).then(function(H){return I.apply(void 0,[z,H].concat(F))})},m.doesNotThrow=function z(j){for(var W=arguments.length,F=new Array(W>1?W-1:0),V=1;V<W;V++)F[V-1]=arguments[V];R.apply(void 0,[z,E(j)].concat(F))},m.doesNotReject=function z(j){for(var W=arguments.length,F=new Array(W>1?W-1:0),V=1;V<W;V++)F[V-1]=arguments[V];return O(j).then(function(H){return R.apply(void 0,[z,H].concat(F))})},m.ifError=function z(j){if(j!=null){var W="ifError got unwanted exception: ";w(j)==="object"&&typeof j.message=="string"?j.message.length===0&&j.constructor?W+=j.constructor.name:W+=j.message:W+=l(j);var F=new i({actual:j,expected:null,operator:"ifError",message:W,stackStartFn:z}),V=j.stack;if(typeof V=="string"){var H=V.split(`
`);H.shift();for(var te=F.stack.split(`
`),Q=0;Q<H.length;Q++){var K=te.indexOf(H[Q]);if(K!==-1){te=te.slice(0,K);break}}F.stack="".concat(te.join(`
`),`
`).concat(H.join(`
`))}throw F}},m.strict=c(U,m,{equal:m.strictEqual,deepEqual:m.deepStrictEqual,notEqual:m.notStrictEqual,notDeepEqual:m.notDeepStrictEqual}),m.strict.strict=m.strict},26144:function(B,L,e){var k=e(4168);function w(x,T,p){return T in x?Object.defineProperty(x,T,{value:p,enumerable:!0,configurable:!0,writable:!0}):x[T]=p,x}function r(x,T){for(var p=0;p<T.length;p++){var S=T[p];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}function _(x,T){return!T||n(T)!=="object"&&typeof T!="function"?v(x):T}function v(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function f(x){var T=typeof Map=="function"?new Map:void 0;return f=function(p){if(p===null||(S=p,Function.toString.call(S).indexOf("[native code]")===-1))return p;var S;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(T!==void 0){if(T.has(p))return T.get(p);T.set(p,M)}function M(){return s(p,arguments,a(this).constructor)}return M.prototype=Object.create(p.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),t(M,p)},f(x)}function s(x,T,p){return s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(S,M,E){var P=[null];P.push.apply(P,M);var O=new(Function.bind.apply(S,P));return E&&t(O,E.prototype),O},s.apply(null,arguments)}function t(x,T){return t=Object.setPrototypeOf||function(p,S){return p.__proto__=S,p},t(x,T)}function a(x){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},a(x)}function n(x){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},n(x)}var i=e(35840).inspect,l=e(86832).codes.ERR_INVALID_ARG_TYPE;function o(x,T,p){return(p===void 0||p>x.length)&&(p=x.length),x.substring(p-T.length,p)===T}var u="",h="",c="",b="",d={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function g(x){var T=Object.keys(x),p=Object.create(Object.getPrototypeOf(x));return T.forEach(function(S){p[S]=x[S]}),Object.defineProperty(p,"message",{value:x.message}),p}function m(x){return i(x,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var y=function(x){function T(M){var E;if(function(te,Q){if(!(te instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,T),n(M)!=="object"||M===null)throw new l("options","Object",M);var P=M.message,O=M.operator,I=M.stackStartFn,R=M.actual,U=M.expected,z=Error.stackTraceLimit;if(Error.stackTraceLimit=0,P!=null)E=_(this,a(T).call(this,String(P)));else if(k.stderr&&k.stderr.isTTY&&(k.stderr&&k.stderr.getColorDepth&&k.stderr.getColorDepth()!==1?(u="\x1B[34m",h="\x1B[32m",b="\x1B[39m",c="\x1B[31m"):(u="",h="",b="",c="")),n(R)==="object"&&R!==null&&n(U)==="object"&&U!==null&&"stack"in R&&R instanceof Error&&"stack"in U&&U instanceof Error&&(R=g(R),U=g(U)),O==="deepStrictEqual"||O==="strictEqual")E=_(this,a(T).call(this,function(te,Q,K){var X="",J="",ee=0,ie="",oe=!1,ae=m(te),ce=ae.split(`
`),ge=m(Q).split(`
`),ve=0,be="";if(K==="strictEqual"&&n(te)==="object"&&n(Q)==="object"&&te!==null&&Q!==null&&(K="strictEqualObject"),ce.length===1&&ge.length===1&&ce[0]!==ge[0]){var we=ce[0].length+ge[0].length;if(we<=10){if(!(n(te)==="object"&&te!==null||n(Q)==="object"&&Q!==null||te===0&&Q===0))return"".concat(d[K],`

`)+"".concat(ce[0]," !== ").concat(ge[0],`
`)}else if(K!=="strictEqualObject"&&we<(k.stderr&&k.stderr.isTTY?k.stderr.columns:80)){for(;ce[0][ve]===ge[0][ve];)ve++;ve>2&&(be=`
  `.concat(function(Be,pe){if(pe=Math.floor(pe),Be.length==0||pe==0)return"";var _e=Be.length*pe;for(pe=Math.floor(Math.log(pe)/Math.log(2));pe;)Be+=Be,pe--;return Be+Be.substring(0,_e-Be.length)}(" ",ve),"^"),ve=0)}}for(var ye=ce[ce.length-1],me=ge[ge.length-1];ye===me&&(ve++<2?ie=`
  `.concat(ye).concat(ie):X=ye,ce.pop(),ge.pop(),ce.length!==0&&ge.length!==0);)ye=ce[ce.length-1],me=ge[ge.length-1];var Ae=Math.max(ce.length,ge.length);if(Ae===0){var ke=ae.split(`
`);if(ke.length>30)for(ke[26]="".concat(u,"...").concat(b);ke.length>27;)ke.pop();return"".concat(d.notIdentical,`

`).concat(ke.join(`
`),`
`)}ve>3&&(ie=`
`.concat(u,"...").concat(b).concat(ie),oe=!0),X!==""&&(ie=`
  `.concat(X).concat(ie),X="");var fe=0,le=d[K]+`
`.concat(h,"+ actual").concat(b," ").concat(c,"- expected").concat(b),de=" ".concat(u,"...").concat(b," Lines skipped");for(ve=0;ve<Ae;ve++){var Ce=ve-ee;if(ce.length<ve+1)Ce>1&&ve>2&&(Ce>4?(J+=`
`.concat(u,"...").concat(b),oe=!0):Ce>3&&(J+=`
  `.concat(ge[ve-2]),fe++),J+=`
  `.concat(ge[ve-1]),fe++),ee=ve,X+=`
`.concat(c,"-").concat(b," ").concat(ge[ve]),fe++;else if(ge.length<ve+1)Ce>1&&ve>2&&(Ce>4?(J+=`
`.concat(u,"...").concat(b),oe=!0):Ce>3&&(J+=`
  `.concat(ce[ve-2]),fe++),J+=`
  `.concat(ce[ve-1]),fe++),ee=ve,J+=`
`.concat(h,"+").concat(b," ").concat(ce[ve]),fe++;else{var Me=ge[ve],Le=ce[ve],Oe=Le!==Me&&(!o(Le,",")||Le.slice(0,-1)!==Me);Oe&&o(Me,",")&&Me.slice(0,-1)===Le&&(Oe=!1,Le+=","),Oe?(Ce>1&&ve>2&&(Ce>4?(J+=`
`.concat(u,"...").concat(b),oe=!0):Ce>3&&(J+=`
  `.concat(ce[ve-2]),fe++),J+=`
  `.concat(ce[ve-1]),fe++),ee=ve,J+=`
`.concat(h,"+").concat(b," ").concat(Le),X+=`
`.concat(c,"-").concat(b," ").concat(Me),fe+=2):(J+=X,X="",Ce!==1&&ve!==0||(J+=`
  `.concat(Le),fe++))}if(fe>20&&ve<Ae-2)return"".concat(le).concat(de,`
`).concat(J,`
`).concat(u,"...").concat(b).concat(X,`
`)+"".concat(u,"...").concat(b)}return"".concat(le).concat(oe?de:"",`
`).concat(J).concat(X).concat(ie).concat(be)}(R,U,O)));else if(O==="notDeepStrictEqual"||O==="notStrictEqual"){var j=d[O],W=m(R).split(`
`);if(O==="notStrictEqual"&&n(R)==="object"&&R!==null&&(j=d.notStrictEqualObject),W.length>30)for(W[26]="".concat(u,"...").concat(b);W.length>27;)W.pop();E=W.length===1?_(this,a(T).call(this,"".concat(j," ").concat(W[0]))):_(this,a(T).call(this,"".concat(j,`

`).concat(W.join(`
`),`
`)))}else{var F=m(R),V="",H=d[O];O==="notDeepEqual"||O==="notEqual"?(F="".concat(d[O],`

`).concat(F)).length>1024&&(F="".concat(F.slice(0,1021),"...")):(V="".concat(m(U)),F.length>512&&(F="".concat(F.slice(0,509),"...")),V.length>512&&(V="".concat(V.slice(0,509),"...")),O==="deepEqual"||O==="equal"?F="".concat(H,`

`).concat(F,`

should equal

`):V=" ".concat(O," ").concat(V)),E=_(this,a(T).call(this,"".concat(F).concat(V)))}return Error.stackTraceLimit=z,E.generatedMessage=!P,Object.defineProperty(v(E),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),E.code="ERR_ASSERTION",E.actual=R,E.expected=U,E.operator=O,Error.captureStackTrace&&Error.captureStackTrace(v(E),I),E.stack,E.name="AssertionError",_(E)}var p,S;return function(M,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(E&&E.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),E&&t(M,E)}(T,x),p=T,S=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:i.custom,value:function(M,E){return i(this,function(P){for(var O=1;O<arguments.length;O++){var I=arguments[O]!=null?arguments[O]:{},R=Object.keys(I);typeof Object.getOwnPropertySymbols=="function"&&(R=R.concat(Object.getOwnPropertySymbols(I).filter(function(U){return Object.getOwnPropertyDescriptor(I,U).enumerable}))),R.forEach(function(U){w(P,U,I[U])})}return P}({},E,{customInspect:!1,depth:0}))}}],S&&r(p.prototype,S),T}(f(Error));B.exports=y},86832:function(B,L,e){function k(a){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},k(a)}function w(a){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},w(a)}function r(a,n){return r=Object.setPrototypeOf||function(i,l){return i.__proto__=l,i},r(a,n)}var _,v,f={};function s(a,n,i){i||(i=Error);var l=function(o){function u(h,c,b){var d;return function(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}(this,u),d=function(g,m){return!m||k(m)!=="object"&&typeof m!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(g):m}(this,w(u).call(this,function(g,m,y){return typeof n=="string"?n:n(g,m,y)}(h,c,b))),d.code=a,d}return function(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),c&&r(h,c)}(u,o),u}(i);f[a]=l}function t(a,n){if(Array.isArray(a)){var i=a.length;return a=a.map(function(l){return String(l)}),i>2?"one of ".concat(n," ").concat(a.slice(0,i-1).join(", "),", or ")+a[i-1]:i===2?"one of ".concat(n," ").concat(a[0]," or ").concat(a[1]):"of ".concat(n," ").concat(a[0])}return"of ".concat(n," ").concat(String(a))}s("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),s("ERR_INVALID_ARG_TYPE",function(a,n,i){var l,o,u,h,c;if(_===void 0&&(_=e(45408)),_(typeof a=="string","'name' must be a string"),typeof n=="string"&&(o="not ",n.substr(0,4)===o)?(l="must not be",n=n.replace(/^not /,"")):l="must be",function(d,g,m){return(m===void 0||m>d.length)&&(m=d.length),d.substring(m-9,m)===g}(a," argument"))u="The ".concat(a," ").concat(l," ").concat(t(n,"type"));else{var b=(typeof c!="number"&&(c=0),c+1>(h=a).length||h.indexOf(".",c)===-1?"argument":"property");u='The "'.concat(a,'" ').concat(b," ").concat(l," ").concat(t(n,"type"))}return u+". Received type ".concat(k(i))},TypeError),s("ERR_INVALID_ARG_VALUE",function(a,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";v===void 0&&(v=e(35840));var l=v.inspect(n);return l.length>128&&(l="".concat(l.slice(0,128),"...")),"The argument '".concat(a,"' ").concat(i,". Received ").concat(l)},TypeError),s("ERR_INVALID_RETURN_VALUE",function(a,n,i){var l;return l=i&&i.constructor&&i.constructor.name?"instance of ".concat(i.constructor.name):"type ".concat(k(i)),"Expected ".concat(a,' to be returned from the "').concat(n,'"')+" function but got ".concat(l,".")},TypeError),s("ERR_MISSING_ARGS",function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];_===void 0&&(_=e(45408)),_(n.length>0,"At least one arg needs to be specified");var l="The ",o=n.length;switch(n=n.map(function(u){return'"'.concat(u,'"')}),o){case 1:l+="".concat(n[0]," argument");break;case 2:l+="".concat(n[0]," and ").concat(n[1]," arguments");break;default:l+=n.slice(0,o-1).join(", "),l+=", and ".concat(n[o-1]," arguments")}return"".concat(l," must be specified")},TypeError),B.exports.codes=f},25116:function(B,L,e){function k(ee,ie){return function(oe){if(Array.isArray(oe))return oe}(ee)||function(oe,ae){var ce=[],ge=!0,ve=!1,be=void 0;try{for(var we,ye=oe[Symbol.iterator]();!(ge=(we=ye.next()).done)&&(ce.push(we.value),!ae||ce.length!==ae);ge=!0);}catch(me){ve=!0,be=me}finally{try{ge||ye.return==null||ye.return()}finally{if(ve)throw be}}return ce}(ee,ie)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function w(ee){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},w(ee)}var r=/a/g.flags!==void 0,_=function(ee){var ie=[];return ee.forEach(function(oe){return ie.push(oe)}),ie},v=function(ee){var ie=[];return ee.forEach(function(oe,ae){return ie.push([ae,oe])}),ie},f=Object.is?Object.is:e(39896),s=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},t=Number.isNaN?Number.isNaN:e(1560);function a(ee){return ee.call.bind(ee)}var n=a(Object.prototype.hasOwnProperty),i=a(Object.prototype.propertyIsEnumerable),l=a(Object.prototype.toString),o=e(35840).types,u=o.isAnyArrayBuffer,h=o.isArrayBufferView,c=o.isDate,b=o.isMap,d=o.isRegExp,g=o.isSet,m=o.isNativeError,y=o.isBoxedPrimitive,x=o.isNumberObject,T=o.isStringObject,p=o.isBooleanObject,S=o.isBigIntObject,M=o.isSymbolObject,E=o.isFloat32Array,P=o.isFloat64Array;function O(ee){if(ee.length===0||ee.length>10)return!0;for(var ie=0;ie<ee.length;ie++){var oe=ee.charCodeAt(ie);if(oe<48||oe>57)return!0}return ee.length===10&&ee>=Math.pow(2,32)}function I(ee){return Object.keys(ee).filter(O).concat(s(ee).filter(Object.prototype.propertyIsEnumerable.bind(ee)))}function R(ee,ie){if(ee===ie)return 0;for(var oe=ee.length,ae=ie.length,ce=0,ge=Math.min(oe,ae);ce<ge;++ce)if(ee[ce]!==ie[ce]){oe=ee[ce],ae=ie[ce];break}return oe<ae?-1:ae<oe?1:0}var U=0,z=1,j=2,W=3;function F(ee,ie,oe,ae){if(ee===ie)return ee!==0||!oe||f(ee,ie);if(oe){if(w(ee)!=="object")return typeof ee=="number"&&t(ee)&&t(ie);if(w(ie)!=="object"||ee===null||ie===null||Object.getPrototypeOf(ee)!==Object.getPrototypeOf(ie))return!1}else{if(ee===null||w(ee)!=="object")return(ie===null||w(ie)!=="object")&&ee==ie;if(ie===null||w(ie)!=="object")return!1}var ce,ge,ve,be,we=l(ee);if(we!==l(ie))return!1;if(Array.isArray(ee)){if(ee.length!==ie.length)return!1;var ye=I(ee),me=I(ie);return ye.length===me.length&&H(ee,ie,oe,ae,z,ye)}if(we==="[object Object]"&&(!b(ee)&&b(ie)||!g(ee)&&g(ie)))return!1;if(c(ee)){if(!c(ie)||Date.prototype.getTime.call(ee)!==Date.prototype.getTime.call(ie))return!1}else if(d(ee)){if(!d(ie)||(ve=ee,be=ie,!(r?ve.source===be.source&&ve.flags===be.flags:RegExp.prototype.toString.call(ve)===RegExp.prototype.toString.call(be))))return!1}else if(m(ee)||ee instanceof Error){if(ee.message!==ie.message||ee.name!==ie.name)return!1}else{if(h(ee)){if(oe||!E(ee)&&!P(ee)){if(!function(fe,le){return fe.byteLength===le.byteLength&&R(new Uint8Array(fe.buffer,fe.byteOffset,fe.byteLength),new Uint8Array(le.buffer,le.byteOffset,le.byteLength))===0}(ee,ie))return!1}else if(!function(fe,le){if(fe.byteLength!==le.byteLength)return!1;for(var de=0;de<fe.byteLength;de++)if(fe[de]!==le[de])return!1;return!0}(ee,ie))return!1;var Ae=I(ee),ke=I(ie);return Ae.length===ke.length&&H(ee,ie,oe,ae,U,Ae)}if(g(ee))return!(!g(ie)||ee.size!==ie.size)&&H(ee,ie,oe,ae,j);if(b(ee))return!(!b(ie)||ee.size!==ie.size)&&H(ee,ie,oe,ae,W);if(u(ee)){if(ge=ie,(ce=ee).byteLength!==ge.byteLength||R(new Uint8Array(ce),new Uint8Array(ge))!==0)return!1}else if(y(ee)&&!function(fe,le){return x(fe)?x(le)&&f(Number.prototype.valueOf.call(fe),Number.prototype.valueOf.call(le)):T(fe)?T(le)&&String.prototype.valueOf.call(fe)===String.prototype.valueOf.call(le):p(fe)?p(le)&&Boolean.prototype.valueOf.call(fe)===Boolean.prototype.valueOf.call(le):S(fe)?S(le)&&BigInt.prototype.valueOf.call(fe)===BigInt.prototype.valueOf.call(le):M(le)&&Symbol.prototype.valueOf.call(fe)===Symbol.prototype.valueOf.call(le)}(ee,ie))return!1}return H(ee,ie,oe,ae,U)}function V(ee,ie){return ie.filter(function(oe){return i(ee,oe)})}function H(ee,ie,oe,ae,ce,ge){if(arguments.length===5){ge=Object.keys(ee);var ve=Object.keys(ie);if(ge.length!==ve.length)return!1}for(var be=0;be<ge.length;be++)if(!n(ie,ge[be]))return!1;if(oe&&arguments.length===5){var we=s(ee);if(we.length!==0){var ye=0;for(be=0;be<we.length;be++){var me=we[be];if(i(ee,me)){if(!i(ie,me))return!1;ge.push(me),ye++}else if(i(ie,me))return!1}var Ae=s(ie);if(we.length!==Ae.length&&V(ie,Ae).length!==ye)return!1}else{var ke=s(ie);if(ke.length!==0&&V(ie,ke).length!==0)return!1}}if(ge.length===0&&(ce===U||ce===z&&ee.length===0||ee.size===0))return!0;if(ae===void 0)ae={val1:new Map,val2:new Map,position:0};else{var fe=ae.val1.get(ee);if(fe!==void 0){var le=ae.val2.get(ie);if(le!==void 0)return fe===le}ae.position++}ae.val1.set(ee,ae.position),ae.val2.set(ie,ae.position);var de=function(Ce,Me,Le,Oe,Be,pe){var _e=0;if(pe===j){if(!function(ze,Ge,Ye,et){for(var ut=null,ot=_(ze),yt=0;yt<ot.length;yt++){var wt=ot[yt];if(w(wt)==="object"&&wt!==null)ut===null&&(ut=new Set),ut.add(wt);else if(!Ge.has(wt)){if(Ye||!K(ze,Ge,wt))return!1;ut===null&&(ut=new Set),ut.add(wt)}}if(ut!==null){for(var bt=_(Ge),at=0;at<bt.length;at++){var rt=bt[at];if(w(rt)==="object"&&rt!==null){if(!te(ut,rt,Ye,et))return!1}else if(!Ye&&!ze.has(rt)&&!te(ut,rt,Ye,et))return!1}return ut.size===0}return!0}(Ce,Me,Le,Be))return!1}else if(pe===W){if(!function(ze,Ge,Ye,et){for(var ut=null,ot=v(ze),yt=0;yt<ot.length;yt++){var wt=k(ot[yt],2),bt=wt[0],at=wt[1];if(w(bt)==="object"&&bt!==null)ut===null&&(ut=new Set),ut.add(bt);else{var rt=Ge.get(bt);if(rt===void 0&&!Ge.has(bt)||!F(at,rt,Ye,et)){if(Ye||!X(ze,Ge,bt,at,et))return!1;ut===null&&(ut=new Set),ut.add(bt)}}}if(ut!==null){for(var At=v(Ge),Rt=0;Rt<At.length;Rt++){var Ft=k(At[Rt],2),Dt=(bt=Ft[0],Ft[1]);if(w(bt)==="object"&&bt!==null){if(!J(ut,ze,bt,Dt,Ye,et))return!1}else if(!(Ye||ze.has(bt)&&F(ze.get(bt),Dt,!1,et)||J(ut,ze,bt,Dt,!1,et)))return!1}return ut.size===0}return!0}(Ce,Me,Le,Be))return!1}else if(pe===z)for(;_e<Ce.length;_e++){if(!n(Ce,_e)){if(n(Me,_e))return!1;for(var Te=Object.keys(Ce);_e<Te.length;_e++){var Re=Te[_e];if(!n(Me,Re)||!F(Ce[Re],Me[Re],Le,Be))return!1}return Te.length===Object.keys(Me).length}if(!n(Me,_e)||!F(Ce[_e],Me[_e],Le,Be))return!1}for(_e=0;_e<Oe.length;_e++){var Ne=Oe[_e];if(!F(Ce[Ne],Me[Ne],Le,Be))return!1}return!0}(ee,ie,oe,ge,ae,ce);return ae.val1.delete(ee),ae.val2.delete(ie),de}function te(ee,ie,oe,ae){for(var ce=_(ee),ge=0;ge<ce.length;ge++){var ve=ce[ge];if(F(ie,ve,oe,ae))return ee.delete(ve),!0}return!1}function Q(ee){switch(w(ee)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":ee=+ee;case"number":if(t(ee))return!1}return!0}function K(ee,ie,oe){var ae=Q(oe);return ae??(ie.has(ae)&&!ee.has(ae))}function X(ee,ie,oe,ae,ce){var ge=Q(oe);if(ge!=null)return ge;var ve=ie.get(ge);return!(ve===void 0&&!ie.has(ge)||!F(ae,ve,!1,ce))&&!ee.has(ge)&&F(ae,ve,!1,ce)}function J(ee,ie,oe,ae,ce,ge){for(var ve=_(ee),be=0;be<ve.length;be++){var we=ve[be];if(F(oe,we,ce,ge)&&F(ae,ie.get(we),ce,ge))return ee.delete(we),!0}return!1}B.exports={isDeepEqual:function(ee,ie){return F(ee,ie,!1)},isDeepStrictEqual:function(ee,ie){return F(ee,ie,!0)}}},83160:function(B,L,e){e.r(L),e.d(L,{decode:function(){return v},encode:function(){return _}});for(var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=typeof Uint8Array>"u"?[]:new Uint8Array(256),r=0;r<64;r++)w[k.charCodeAt(r)]=r;var _=function(f){var s,t=new Uint8Array(f),a=t.length,n="";for(s=0;s<a;s+=3)n+=k[t[s]>>2],n+=k[(3&t[s])<<4|t[s+1]>>4],n+=k[(15&t[s+1])<<2|t[s+2]>>6],n+=k[63&t[s+2]];return a%3==2?n=n.substring(0,n.length-1)+"=":a%3==1&&(n=n.substring(0,n.length-2)+"=="),n},v=function(f){var s,t,a,n,i,l=.75*f.length,o=f.length,u=0;f[f.length-1]==="="&&(l--,f[f.length-2]==="="&&l--);var h=new ArrayBuffer(l),c=new Uint8Array(h);for(s=0;s<o;s+=4)t=w[f.charCodeAt(s)],a=w[f.charCodeAt(s+1)],n=w[f.charCodeAt(s+2)],i=w[f.charCodeAt(s+3)],c[u++]=t<<2|a>>4,c[u++]=(15&a)<<4|n>>2,c[u++]=(3&n)<<6|63&i;return h}},59968:function(B,L){L.byteLength=function(s){var t=v(s),a=t[0],n=t[1];return 3*(a+n)/4-n},L.toByteArray=function(s){var t,a,n=v(s),i=n[0],l=n[1],o=new w(function(c,b,d){return 3*(b+d)/4-d}(0,i,l)),u=0,h=l>0?i-4:i;for(a=0;a<h;a+=4)t=k[s.charCodeAt(a)]<<18|k[s.charCodeAt(a+1)]<<12|k[s.charCodeAt(a+2)]<<6|k[s.charCodeAt(a+3)],o[u++]=t>>16&255,o[u++]=t>>8&255,o[u++]=255&t;return l===2&&(t=k[s.charCodeAt(a)]<<2|k[s.charCodeAt(a+1)]>>4,o[u++]=255&t),l===1&&(t=k[s.charCodeAt(a)]<<10|k[s.charCodeAt(a+1)]<<4|k[s.charCodeAt(a+2)]>>2,o[u++]=t>>8&255,o[u++]=255&t),o},L.fromByteArray=function(s){for(var t,a=s.length,n=a%3,i=[],l=16383,o=0,u=a-n;o<u;o+=l)i.push(f(s,o,o+l>u?u:o+l));return n===1?(t=s[a-1],i.push(e[t>>2]+e[t<<4&63]+"==")):n===2&&(t=(s[a-2]<<8)+s[a-1],i.push(e[t>>10]+e[t>>4&63]+e[t<<2&63]+"=")),i.join("")};for(var e=[],k=[],w=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=0;_<64;++_)e[_]=r[_],k[r.charCodeAt(_)]=_;function v(s){var t=s.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=s.indexOf("=");return a===-1&&(a=t),[a,a===t?0:4-a%4]}function f(s,t,a){for(var n,i,l=[],o=t;o<a;o+=3)n=(s[o]<<16&16711680)+(s[o+1]<<8&65280)+(255&s[o+2]),l.push(e[(i=n)>>18&63]+e[i>>12&63]+e[i>>6&63]+e[63&i]);return l.join("")}k["-".charCodeAt(0)]=62,k["_".charCodeAt(0)]=63},64928:function(B){function L(v,f,s,t,a){for(var n=a+1;t<=a;){var i=t+a>>>1,l=v[i];(s!==void 0?s(l,f):l-f)>=0?(n=i,a=i-1):t=i+1}return n}function e(v,f,s,t,a){for(var n=a+1;t<=a;){var i=t+a>>>1,l=v[i];(s!==void 0?s(l,f):l-f)>0?(n=i,a=i-1):t=i+1}return n}function k(v,f,s,t,a){for(var n=t-1;t<=a;){var i=t+a>>>1,l=v[i];(s!==void 0?s(l,f):l-f)<0?(n=i,t=i+1):a=i-1}return n}function w(v,f,s,t,a){for(var n=t-1;t<=a;){var i=t+a>>>1,l=v[i];(s!==void 0?s(l,f):l-f)<=0?(n=i,t=i+1):a=i-1}return n}function r(v,f,s,t,a){for(;t<=a;){var n=t+a>>>1,i=v[n],l=s!==void 0?s(i,f):i-f;if(l===0)return n;l<=0?t=n+1:a=n-1}return-1}function _(v,f,s,t,a,n){return typeof s=="function"?n(v,f,s,t===void 0?0:0|t,a===void 0?v.length-1:0|a):n(v,f,void 0,s===void 0?0:0|s,t===void 0?v.length-1:0|t)}B.exports={ge:function(v,f,s,t,a){return _(v,f,s,t,a,L)},gt:function(v,f,s,t,a){return _(v,f,s,t,a,e)},lt:function(v,f,s,t,a){return _(v,f,s,t,a,k)},le:function(v,f,s,t,a){return _(v,f,s,t,a,w)},eq:function(v,f,s,t,a){return _(v,f,s,t,a,r)}}},308:function(B,L){function e(w){var r=32;return(w&=-w)&&r--,65535&w&&(r-=16),16711935&w&&(r-=8),252645135&w&&(r-=4),858993459&w&&(r-=2),1431655765&w&&(r-=1),r}L.INT_BITS=32,L.INT_MAX=2147483647,L.INT_MIN=-2147483648,L.sign=function(w){return(w>0)-(w<0)},L.abs=function(w){var r=w>>31;return(w^r)-r},L.min=function(w,r){return r^(w^r)&-(w<r)},L.max=function(w,r){return w^(w^r)&-(w<r)},L.isPow2=function(w){return!(w&w-1||!w)},L.log2=function(w){var r,_;return r=(w>65535)<<4,r|=_=((w>>>=r)>255)<<3,r|=_=((w>>>=_)>15)<<2,(r|=_=((w>>>=_)>3)<<1)|(w>>>=_)>>1},L.log10=function(w){return w>=1e9?9:w>=1e8?8:w>=1e7?7:w>=1e6?6:w>=1e5?5:w>=1e4?4:w>=1e3?3:w>=100?2:w>=10?1:0},L.popCount=function(w){return 16843009*((w=(858993459&(w-=w>>>1&1431655765))+(w>>>2&858993459))+(w>>>4)&252645135)>>>24},L.countTrailingZeros=e,L.nextPow2=function(w){return w+=w===0,--w,w|=w>>>1,w|=w>>>2,w|=w>>>4,w|=w>>>8,1+(w|=w>>>16)},L.prevPow2=function(w){return w|=w>>>1,w|=w>>>2,w|=w>>>4,w|=w>>>8,(w|=w>>>16)-(w>>>1)},L.parity=function(w){return w^=w>>>16,w^=w>>>8,w^=w>>>4,27030>>>(w&=15)&1};var k=new Array(256);(function(w){for(var r=0;r<256;++r){var _=r,v=r,f=7;for(_>>>=1;_;_>>>=1)v<<=1,v|=1&_,--f;w[r]=v<<f&255}})(k),L.reverse=function(w){return k[255&w]<<24|k[w>>>8&255]<<16|k[w>>>16&255]<<8|k[w>>>24&255]},L.interleave2=function(w,r){return(w=1431655765&((w=858993459&((w=252645135&((w=16711935&((w&=65535)|w<<8))|w<<4))|w<<2))|w<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))<<1},L.deinterleave2=function(w,r){return(w=65535&((w=16711935&((w=252645135&((w=858993459&((w=w>>>r&1431655765)|w>>>1))|w>>>2))|w>>>4))|w>>>16))<<16>>16},L.interleave3=function(w,r,_){return w=1227133513&((w=3272356035&((w=251719695&((w=4278190335&((w&=1023)|w<<16))|w<<8))|w<<4))|w<<2),(w|=(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<1)|(_=1227133513&((_=3272356035&((_=251719695&((_=4278190335&((_&=1023)|_<<16))|_<<8))|_<<4))|_<<2))<<2},L.deinterleave3=function(w,r){return(w=1023&((w=4278190335&((w=251719695&((w=3272356035&((w=w>>>r&1227133513)|w>>>2))|w>>>4))|w>>>8))|w>>>16))<<22>>22},L.nextCombination=function(w){var r=w|w-1;return r+1|(~r&-~r)-1>>>e(w)+1}},29620:function(B,L,e){var k=e(32420);B.exports=function(v,f){f||(f={});var s,t,a,n,i,l,o,u,h,c,b,d=f.cutoff==null?.25:f.cutoff,g=f.radius==null?8:f.radius,m=f.channel||0;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!f.width||!f.height)throw Error("For raw data width and height should be provided by options");s=f.width,t=f.height,n=v,l=f.stride?f.stride:Math.floor(v.length/s/t)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(o=(u=v).getContext("2d"),s=u.width,t=u.height,n=(h=o.getImageData(0,0,s,t)).data,l=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(o=v,s=(u=v.canvas).width,t=u.height,n=(h=o.getImageData(0,0,s,t)).data,l=4):window.ImageData&&v instanceof window.ImageData&&(h=v,s=v.width,t=v.height,n=h.data,l=4);if(a=Math.max(s,t),window.Uint8ClampedArray&&n instanceof window.Uint8ClampedArray||window.Uint8Array&&n instanceof window.Uint8Array)for(i=n,n=Array(s*t),c=0,b=i.length;c<b;c++)n[c]=i[c*l+m]/255;else if(l!==1)throw Error("Raw data can have only 1 value per pixel");var y=Array(s*t),x=Array(s*t),T=Array(a),p=Array(a),S=Array(a+1),M=Array(a);for(c=0,b=s*t;c<b;c++){var E=n[c];y[c]=E===1?0:E===0?w:Math.pow(Math.max(0,.5-E),2),x[c]=E===1?w:E===0?0:Math.pow(Math.max(0,E-.5),2)}r(y,s,t,T,p,M,S),r(x,s,t,T,p,M,S);var P=window.Float32Array?new Float32Array(s*t):new Array(s*t);for(c=0,b=s*t;c<b;c++)P[c]=k(1-((y[c]-x[c])/g+d),0,1);return P};var w=1e20;function r(v,f,s,t,a,n,i){for(var l=0;l<f;l++){for(var o=0;o<s;o++)t[o]=v[o*f+l];for(_(t,a,n,i,s),o=0;o<s;o++)v[o*f+l]=a[o]}for(o=0;o<s;o++){for(l=0;l<f;l++)t[l]=v[o*f+l];for(_(t,a,n,i,f),l=0;l<f;l++)v[o*f+l]=Math.sqrt(a[l])}}function _(v,f,s,t,a){s[0]=0,t[0]=-w,t[1]=+w;for(var n=1,i=0;n<a;n++){for(var l=(v[n]+n*n-(v[s[i]]+s[i]*s[i]))/(2*n-2*s[i]);l<=t[i];)i--,l=(v[n]+n*n-(v[s[i]]+s[i]*s[i]))/(2*n-2*s[i]);s[++i]=n,t[i]=l,t[i+1]=+w}for(n=0,i=0;n<a;n++){for(;t[i+1]<n;)i++;f[n]=(n-s[i])*(n-s[i])+v[s[i]]}}},99676:function(B,L,e){var k=e(53664),w=e(57916),r=w(k("String.prototype.indexOf"));B.exports=function(_,v){var f=k(_,!!v);return typeof f=="function"&&r(_,".prototype.")>-1?w(f):f}},57916:function(B,L,e){var k=e(8844),w=e(53664),r=e(14500),_=w("%TypeError%"),v=w("%Function.prototype.apply%"),f=w("%Function.prototype.call%"),s=w("%Reflect.apply%",!0)||k.call(f,v),t=w("%Object.defineProperty%",!0),a=w("%Math.max%");if(t)try{t({},"a",{value:1})}catch{t=null}B.exports=function(i){if(typeof i!="function")throw new _("a function is required");var l=s(k,f,arguments);return r(l,1+a(0,i.length-(arguments.length-1)),!0)};var n=function(){return s(k,v,arguments)};t?t(B.exports,"apply",{value:n}):B.exports.apply=n},32420:function(B){B.exports=function(L,e,k){return e<k?L<e?e:L>k?k:L:L<k?k:L>e?e:L}},3808:function(B,L,e){var k=e(32420);function w(r,_){_==null&&(_=!0);var v=r[0],f=r[1],s=r[2],t=r[3];return t==null&&(t=_?1:255),_&&(v*=255,f*=255,s*=255,t*=255),16777216*(v=255&k(v,0,255))+((f=255&k(f,0,255))<<16)+((s=255&k(s,0,255))<<8)+(255&k(t,0,255))}B.exports=w,B.exports.to=w,B.exports.from=function(r,_){var v=(r=+r)>>>24,f=(16711680&r)>>>16,s=(65280&r)>>>8,t=255&r;return _===!1?[v,f,s,t]:[v/255,f/255,s/255,t/255]}},17592:function(B){B.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(B,L,e){var k=e(96824),w=e(32420),r=e(72512);B.exports=function(_,v){v!=="float"&&v||(v="array"),v==="uint"&&(v="uint8"),v==="uint_clamped"&&(v="uint8_clamped");var f=new(r(v))(4),s=v!=="uint8"&&v!=="uint8_clamped";return _.length&&typeof _!="string"||((_=k(_))[0]/=255,_[1]/=255,_[2]/=255),function(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||!!(Array.isArray(t)&&(t[0]>1||t[0]===0)&&(t[1]>1||t[1]===0)&&(t[2]>1||t[2]===0)&&(!t[3]||t[3]>1))}(_)?(f[0]=_[0],f[1]=_[1],f[2]=_[2],f[3]=_[3]!=null?_[3]:255,s&&(f[0]/=255,f[1]/=255,f[2]/=255,f[3]/=255),f):(s?(f[0]=_[0],f[1]=_[1],f[2]=_[2],f[3]=_[3]!=null?_[3]:1):(f[0]=w(Math.floor(255*_[0]),0,255),f[1]=w(Math.floor(255*_[1]),0,255),f[2]=w(Math.floor(255*_[2]),0,255),f[3]=_[3]==null?255:w(Math.floor(255*_[3]),0,255)),f)}},96824:function(B,L,e){var k=e(95532),w=e(53576),r=e(32420);B.exports=function(_){var v,f=k(_);return f.space?((v=Array(3))[0]=r(f.values[0],0,255),v[1]=r(f.values[1],0,255),v[2]=r(f.values[2],0,255),f.space[0]==="h"&&(v=w.rgb(v)),v.push(r(f.alpha,0,1)),v):[]}},95532:function(B,L,e){var k=e(17592);B.exports=function(r){var _,v,f=[],s=1;if(typeof r=="string")if(r=r.toLowerCase(),k[r])f=k[r].slice(),v="rgb";else if(r==="transparent")s=0,v="rgb",f=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(r)){var t=r.slice(1);s=1,(i=t.length)<=4?(f=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],i===4&&(s=parseInt(t[3]+t[3],16)/255)):(f=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],i===8&&(s=parseInt(t[6]+t[7],16)/255)),f[0]||(f[0]=0),f[1]||(f[1]=0),f[2]||(f[2]=0),v="rgb"}else if(_=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(r)){var a=_[1],n=a==="rgb";v=t=a.replace(/a$/,"");var i=t==="cmyk"?4:t==="gray"?1:3;f=_[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(l,o){if(/%$/.test(l))return o===i?parseFloat(l)/100:t==="rgb"?255*parseFloat(l)/100:parseFloat(l);if(t[o]==="h"){if(/deg$/.test(l))return parseFloat(l);if(w[l]!==void 0)return w[l]}return parseFloat(l)}),a===t&&f.push(1),s=n||f[i]===void 0?1:f[i],f=f.slice(0,i)}else r.length>10&&/[0-9](?:\s|\/)/.test(r)&&(f=r.match(/([0-9]+)/g).map(function(l){return parseFloat(l)}),v=r.match(/([a-z])/gi).join("").toLowerCase());else isNaN(r)?Array.isArray(r)||r.length?(f=[r[0],r[1],r[2]],v="rgb",s=r.length===4?r[3]:1):r instanceof Object&&(r.r!=null||r.red!=null||r.R!=null?(v="rgb",f=[r.r||r.red||r.R||0,r.g||r.green||r.G||0,r.b||r.blue||r.B||0]):(v="hsl",f=[r.h||r.hue||r.H||0,r.s||r.saturation||r.S||0,r.l||r.lightness||r.L||r.b||r.brightness]),s=r.a||r.alpha||r.opacity||1,r.opacity!=null&&(s/=100)):(v="rgb",f=[r>>>16,(65280&r)>>>8,255&r]);return{space:v,values:f,alpha:s}};var w={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},53576:function(B,L,e){var k=e(19336);B.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(w){var r,_,v,f,s,t=w[0]/360,a=w[1]/100,n=w[2]/100;if(a===0)return[s=255*n,s,s];r=2*n-(_=n<.5?n*(1+a):n+a-n*a),f=[0,0,0];for(var i=0;i<3;i++)(v=t+.3333333333333333*-(i-1))<0?v++:v>1&&v--,s=6*v<1?r+6*(_-r)*v:2*v<1?_:3*v<2?r+(_-r)*(.6666666666666666-v)*6:r,f[i]=255*s;return f}},k.hsl=function(w){var r,_,v=w[0]/255,f=w[1]/255,s=w[2]/255,t=Math.min(v,f,s),a=Math.max(v,f,s),n=a-t;return a===t?r=0:v===a?r=(f-s)/n:f===a?r=2+(s-v)/n:s===a&&(r=4+(v-f)/n),(r=Math.min(60*r,360))<0&&(r+=360),_=(t+a)/2,[r,100*(a===t?0:_<=.5?n/(a+t):n/(2-a-t)),100*_]}},19336:function(B){B.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(B){B.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(B,L,e){B.exports={parse:e(46416),stringify:e(49395)}},8744:function(B,L,e){var k=e(30584);B.exports={isSize:function(w){return/^[\d\.]/.test(w)||w.indexOf("/")!==-1||k.indexOf(w)!==-1}}},46416:function(B,L,e){var k=e(92384),w=e(68194),r=e(3748),_=e(2904),v=e(47916),f=e(7294),s=e(39956),t=e(8744).isSize;B.exports=n;var a=n.cache={};function n(l){if(typeof l!="string")throw new Error("Font argument must be a string.");if(a[l])return a[l];if(l==="")throw new Error("Cannot parse an empty string.");if(r.indexOf(l)!==-1)return a[l]={system:l};for(var o,u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},h=s(l,/\s+/);o=h.shift();){if(w.indexOf(o)!==-1)return["style","variant","weight","stretch"].forEach(function(b){u[b]=o}),a[l]=u;if(v.indexOf(o)===-1)if(o!=="normal"&&o!=="small-caps")if(f.indexOf(o)===-1){if(_.indexOf(o)===-1){if(t(o)){var c=s(o,"/");if(u.size=c[0],c[1]!=null?u.lineHeight=i(c[1]):h[0]==="/"&&(h.shift(),u.lineHeight=i(h.shift())),!h.length)throw new Error("Missing required font-family.");return u.family=s(h.join(" "),/\s*,\s*/).map(k),a[l]=u}throw new Error("Unknown or unsupported font token: "+o)}u.weight=o}else u.stretch=o;else u.variant=o;else u.style=o}throw new Error("Missing required font-size.")}function i(l){var o=parseFloat(l);return o.toString()===l?o:l}},49395:function(B,L,e){var k=e(55616),w=e(8744).isSize,r=l(e(68194)),_=l(e(3748)),v=l(e(2904)),f=l(e(47916)),s=l(e(7294)),t={normal:1,"small-caps":1},a={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},n="serif";function i(o,u){if(o&&!u[o]&&!r[o])throw Error("Unknown keyword `"+o+"`");return o}function l(o){for(var u={},h=0;h<o.length;h++)u[o[h]]=1;return u}B.exports=function(o){if((o=k(o,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return o.system&&i(o.system,_),o.system;if(i(o.style,f),i(o.variant,t),i(o.weight,v),i(o.stretch,s),o.size==null&&(o.size="1rem"),typeof o.size=="number"&&(o.size+="px"),!w)throw Error("Bad size value `"+o.size+"`");o.family||(o.family=n),Array.isArray(o.family)&&(o.family.length||(o.family=[n]),o.family=o.family.map(function(h){return a[h]?h:'"'+h+'"'}).join(", "));var u=[];return u.push(o.style),o.variant!==o.style&&u.push(o.variant),o.weight!==o.variant&&o.weight!==o.style&&u.push(o.weight),o.stretch!==o.weight&&o.stretch!==o.variant&&o.stretch!==o.style&&u.push(o.stretch),u.push(o.size+(o.lineHeight==null||o.lineHeight==="normal"||o.lineHeight+""=="1"?"":"/"+o.lineHeight)),u.push(o.family),u.filter(Boolean).join(" ")}},27940:function(B,L,e){var k,w=e(81680),r=e(18496),_=e(87396),v=e(95920),f=e(50868),s=e(84323),t=Function.prototype.bind,a=Object.defineProperty,n=Object.prototype.hasOwnProperty;k=function(i,l,o){var u,h=r(l)&&_(l.value);return delete(u=v(l)).writable,delete u.value,u.get=function(){return!o.overwriteDefinition&&n.call(this,i)?h:(l.value=t.call(h,o.resolveContext?o.resolveContext(this):this),a(this,i,l),this[i])},u},B.exports=function(i){var l=f(arguments[1]);return w(l.resolveContext)&&_(l.resolveContext),s(i,function(o,u){return k(u,o,l)})}},21092:function(B,L,e){var k=e(81680),w=e(85488),r=e(38452),_=e(50868),v=e(71056),f=B.exports=function(s,t){var a,n,i,l,o;return arguments.length<2||typeof s!="string"?(l=t,t=s,s=null):l=arguments[2],k(s)?(a=v.call(s,"c"),n=v.call(s,"e"),i=v.call(s,"w")):(a=i=!0,n=!1),o={value:t,configurable:a,enumerable:n,writable:i},l?r(_(l),o):o};f.gs=function(s,t,a){var n,i,l,o;return typeof s!="string"?(l=a,a=t,t=s,s=null):l=arguments[3],k(t)?w(t)?k(a)?w(a)||(l=a,a=void 0):a=void 0:(l=t,t=a=void 0):t=void 0,k(s)?(n=v.call(s,"c"),i=v.call(s,"e")):(n=!0,i=!1),o={get:t,set:a,configurable:n,enumerable:i},l?r(_(l),o):o}},84706:function(B,L,e){function k(i,l){return i<l?-1:i>l?1:i>=l?0:NaN}e.d(L,{XE:function(){return k},kv:function(){return _},mo:function(){return f},Uf:function(){return s},SY:function(){return t},ik:function(){return a},oh:function(){return n}}),(w=k).length===1&&(r=w,w=function(i,l){return k(r(i),l)});var w,r;function _(i,l){var o,u,h=i.length,c=-1;if(l==null){for(;++c<h;)if((o=i[c])!=null&&o>=o)for(u=o;++c<h;)(o=i[c])!=null&&o>u&&(u=o)}else for(;++c<h;)if((o=l(i[c],c,i))!=null&&o>=o)for(u=o;++c<h;)(o=l(i[c],c,i))!=null&&o>u&&(u=o);return u}function v(i){return i===null?NaN:+i}function f(i,l){var o,u=i.length,h=u,c=-1,b=0;if(l==null)for(;++c<u;)isNaN(o=v(i[c]))?--h:b+=o;else for(;++c<u;)isNaN(o=v(l(i[c],c,i)))?--h:b+=o;if(h)return b/h}function s(i){for(var l,o,u,h=i.length,c=-1,b=0;++c<h;)b+=i[c].length;for(o=new Array(b);--h>=0;)for(l=(u=i[h]).length;--l>=0;)o[--b]=u[l];return o}function t(i,l){var o,u,h=i.length,c=-1;if(l==null){for(;++c<h;)if((o=i[c])!=null&&o>=o)for(u=o;++c<h;)(o=i[c])!=null&&u>o&&(u=o)}else for(;++c<h;)if((o=l(i[c],c,i))!=null&&o>=o)for(u=o;++c<h;)(o=l(i[c],c,i))!=null&&u>o&&(u=o);return u}function a(i,l,o){i=+i,l=+l,o=(h=arguments.length)<2?(l=i,i=0,1):h<3?1:+o;for(var u=-1,h=0|Math.max(0,Math.ceil((l-i)/o)),c=new Array(h);++u<h;)c[u]=i+u*o;return c}function n(i,l){var o,u=i.length,h=-1,c=0;if(l==null)for(;++h<u;)(o=+i[h])&&(c+=o);else for(;++h<u;)(o=+l(i[h],h,i))&&(c+=o);return c}},34712:function(B,L,e){e.d(L,{kH:function(){return _},UJ:function(){return v}});var k="$";function w(){}function r(l,o){var u=new w;if(l instanceof w)l.each(function(g,m){u.set(m,g)});else if(Array.isArray(l)){var h,c=-1,b=l.length;if(o==null)for(;++c<b;)u.set(c,l[c]);else for(;++c<b;)u.set(o(h=l[c],c,l),h)}else if(l)for(var d in l)u.set(d,l[d]);return u}w.prototype=r.prototype={constructor:w,has:function(l){return k+l in this},get:function(l){return this[k+l]},set:function(l,o){return this[k+l]=o,this},remove:function(l){var o=k+l;return o in this&&delete this[o]},clear:function(){for(var l in this)l[0]===k&&delete this[l]},keys:function(){var l=[];for(var o in this)o[0]===k&&l.push(o.slice(1));return l},values:function(){var l=[];for(var o in this)o[0]===k&&l.push(this[o]);return l},entries:function(){var l=[];for(var o in this)o[0]===k&&l.push({key:o.slice(1),value:this[o]});return l},size:function(){var l=0;for(var o in this)o[0]===k&&++l;return l},empty:function(){for(var l in this)if(l[0]===k)return!1;return!0},each:function(l){for(var o in this)o[0]===k&&l(this[o],o.slice(1),this)}};var _=r;function v(){var l,o,u,h=[],c=[];function b(g,m,y,x){if(m>=h.length)return l!=null&&g.sort(l),o!=null?o(g):g;for(var T,p,S,M=-1,E=g.length,P=h[m++],O=_(),I=y();++M<E;)(S=O.get(T=P(p=g[M])+""))?S.push(p):O.set(T,[p]);return O.each(function(R,U){x(I,U,b(R,m,y,x))}),I}function d(g,m){if(++m>h.length)return g;var y,x=c[m-1];return o!=null&&m>=h.length?y=g.entries():(y=[],g.each(function(T,p){y.push({key:p,values:d(T,m)})})),x!=null?y.sort(function(T,p){return x(T.key,p.key)}):y}return u={object:function(g){return b(g,0,f,s)},map:function(g){return b(g,0,t,a)},entries:function(g){return d(b(g,0,t,a),0)},key:function(g){return h.push(g),u},sortKeys:function(g){return c[h.length-1]=g,u},sortValues:function(g){return l=g,u},rollup:function(g){return o=g,u}}}function f(){return{}}function s(l,o,u){l[o]=u}function t(){return _()}function a(l,o,u){l.set(o,u)}function n(){}var i=_.prototype;n.prototype={constructor:n,has:i.has,add:function(l){return this[k+(l+="")]=l,this},remove:i.remove,clear:i.clear,values:i.keys,size:i.size,empty:i.empty,each:i.each}},49812:function(B,L,e){function k(we,ye){var me;function Ae(){var ke,fe,le=me.length,de=0,Ce=0;for(ke=0;ke<le;++ke)de+=(fe=me[ke]).x,Ce+=fe.y;for(de=de/le-we,Ce=Ce/le-ye,ke=0;ke<le;++ke)(fe=me[ke]).x-=de,fe.y-=Ce}return we==null&&(we=0),ye==null&&(ye=0),Ae.initialize=function(ke){me=ke},Ae.x=function(ke){return arguments.length?(we=+ke,Ae):we},Ae.y=function(ke){return arguments.length?(ye=+ke,Ae):ye},Ae}function w(we){return function(){return we}}function r(){return 1e-6*(Math.random()-.5)}function _(we,ye,me,Ae){if(isNaN(ye)||isNaN(me))return we;var ke,fe,le,de,Ce,Me,Le,Oe,Be,pe=we._root,_e={data:Ae},Te=we._x0,Re=we._y0,Ne=we._x1,ze=we._y1;if(!pe)return we._root=_e,we;for(;pe.length;)if((Me=ye>=(fe=(Te+Ne)/2))?Te=fe:Ne=fe,(Le=me>=(le=(Re+ze)/2))?Re=le:ze=le,ke=pe,!(pe=pe[Oe=Le<<1|Me]))return ke[Oe]=_e,we;if(de=+we._x.call(null,pe.data),Ce=+we._y.call(null,pe.data),ye===de&&me===Ce)return _e.next=pe,ke?ke[Oe]=_e:we._root=_e,we;do ke=ke?ke[Oe]=new Array(4):we._root=new Array(4),(Me=ye>=(fe=(Te+Ne)/2))?Te=fe:Ne=fe,(Le=me>=(le=(Re+ze)/2))?Re=le:ze=le;while((Oe=Le<<1|Me)==(Be=(Ce>=le)<<1|de>=fe));return ke[Be]=pe,ke[Oe]=_e,we}function v(we,ye,me,Ae,ke){this.node=we,this.x0=ye,this.y0=me,this.x1=Ae,this.y1=ke}function f(we){return we[0]}function s(we){return we[1]}function t(we,ye,me){var Ae=new a(ye??f,me??s,NaN,NaN,NaN,NaN);return we==null?Ae:Ae.addAll(we)}function a(we,ye,me,Ae,ke,fe){this._x=we,this._y=ye,this._x0=me,this._y0=Ae,this._x1=ke,this._y1=fe,this._root=void 0}function n(we){for(var ye={data:we.data},me=ye;we=we.next;)me=me.next={data:we.data};return ye}e.r(L),e.d(L,{forceCenter:function(){return k},forceCollide:function(){return u},forceLink:function(){return d},forceManyBody:function(){return ce},forceRadial:function(){return ge},forceSimulation:function(){return ae},forceX:function(){return ve},forceY:function(){return be}});var i=t.prototype=a.prototype;function l(we){return we.x+we.vx}function o(we){return we.y+we.vy}function u(we){var ye,me,Ae=1,ke=1;function fe(){for(var Ce,Me,Le,Oe,Be,pe,_e,Te=ye.length,Re=0;Re<ke;++Re)for(Me=t(ye,l,o).visitAfter(le),Ce=0;Ce<Te;++Ce)Le=ye[Ce],pe=me[Le.index],_e=pe*pe,Oe=Le.x+Le.vx,Be=Le.y+Le.vy,Me.visit(Ne);function Ne(ze,Ge,Ye,et,ut){var ot=ze.data,yt=ze.r,wt=pe+yt;if(!ot)return Ge>Oe+wt||et<Oe-wt||Ye>Be+wt||ut<Be-wt;if(ot.index>Le.index){var bt=Oe-ot.x-ot.vx,at=Be-ot.y-ot.vy,rt=bt*bt+at*at;rt<wt*wt&&(bt===0&&(rt+=(bt=r())*bt),at===0&&(rt+=(at=r())*at),rt=(wt-(rt=Math.sqrt(rt)))/rt*Ae,Le.vx+=(bt*=rt)*(wt=(yt*=yt)/(_e+yt)),Le.vy+=(at*=rt)*wt,ot.vx-=bt*(wt=1-wt),ot.vy-=at*wt)}}}function le(Ce){if(Ce.data)return Ce.r=me[Ce.data.index];for(var Me=Ce.r=0;Me<4;++Me)Ce[Me]&&Ce[Me].r>Ce.r&&(Ce.r=Ce[Me].r)}function de(){if(ye){var Ce,Me,Le=ye.length;for(me=new Array(Le),Ce=0;Ce<Le;++Ce)Me=ye[Ce],me[Me.index]=+we(Me,Ce,ye)}}return typeof we!="function"&&(we=w(we==null?1:+we)),fe.initialize=function(Ce){ye=Ce,de()},fe.iterations=function(Ce){return arguments.length?(ke=+Ce,fe):ke},fe.strength=function(Ce){return arguments.length?(Ae=+Ce,fe):Ae},fe.radius=function(Ce){return arguments.length?(we=typeof Ce=="function"?Ce:w(+Ce),de(),fe):we},fe}i.copy=function(){var we,ye,me=new a(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Ae=this._root;if(!Ae)return me;if(!Ae.length)return me._root=n(Ae),me;for(we=[{source:Ae,target:me._root=new Array(4)}];Ae=we.pop();)for(var ke=0;ke<4;++ke)(ye=Ae.source[ke])&&(ye.length?we.push({source:ye,target:Ae.target[ke]=new Array(4)}):Ae.target[ke]=n(ye));return me},i.add=function(we){var ye=+this._x.call(null,we),me=+this._y.call(null,we);return _(this.cover(ye,me),ye,me,we)},i.addAll=function(we){var ye,me,Ae,ke,fe=we.length,le=new Array(fe),de=new Array(fe),Ce=1/0,Me=1/0,Le=-1/0,Oe=-1/0;for(me=0;me<fe;++me)isNaN(Ae=+this._x.call(null,ye=we[me]))||isNaN(ke=+this._y.call(null,ye))||(le[me]=Ae,de[me]=ke,Ae<Ce&&(Ce=Ae),Ae>Le&&(Le=Ae),ke<Me&&(Me=ke),ke>Oe&&(Oe=ke));if(Ce>Le||Me>Oe)return this;for(this.cover(Ce,Me).cover(Le,Oe),me=0;me<fe;++me)_(this,le[me],de[me],we[me]);return this},i.cover=function(we,ye){if(isNaN(we=+we)||isNaN(ye=+ye))return this;var me=this._x0,Ae=this._y0,ke=this._x1,fe=this._y1;if(isNaN(me))ke=(me=Math.floor(we))+1,fe=(Ae=Math.floor(ye))+1;else{for(var le,de,Ce=ke-me,Me=this._root;me>we||we>=ke||Ae>ye||ye>=fe;)switch(de=(ye<Ae)<<1|we<me,(le=new Array(4))[de]=Me,Me=le,Ce*=2,de){case 0:ke=me+Ce,fe=Ae+Ce;break;case 1:me=ke-Ce,fe=Ae+Ce;break;case 2:ke=me+Ce,Ae=fe-Ce;break;case 3:me=ke-Ce,Ae=fe-Ce}this._root&&this._root.length&&(this._root=Me)}return this._x0=me,this._y0=Ae,this._x1=ke,this._y1=fe,this},i.data=function(){var we=[];return this.visit(function(ye){if(!ye.length)do we.push(ye.data);while(ye=ye.next)}),we},i.extent=function(we){return arguments.length?this.cover(+we[0][0],+we[0][1]).cover(+we[1][0],+we[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},i.find=function(we,ye,me){var Ae,ke,fe,le,de,Ce,Me,Le=this._x0,Oe=this._y0,Be=this._x1,pe=this._y1,_e=[],Te=this._root;for(Te&&_e.push(new v(Te,Le,Oe,Be,pe)),me==null?me=1/0:(Le=we-me,Oe=ye-me,Be=we+me,pe=ye+me,me*=me);Ce=_e.pop();)if(!(!(Te=Ce.node)||(ke=Ce.x0)>Be||(fe=Ce.y0)>pe||(le=Ce.x1)<Le||(de=Ce.y1)<Oe))if(Te.length){var Re=(ke+le)/2,Ne=(fe+de)/2;_e.push(new v(Te[3],Re,Ne,le,de),new v(Te[2],ke,Ne,Re,de),new v(Te[1],Re,fe,le,Ne),new v(Te[0],ke,fe,Re,Ne)),(Me=(ye>=Ne)<<1|we>=Re)&&(Ce=_e[_e.length-1],_e[_e.length-1]=_e[_e.length-1-Me],_e[_e.length-1-Me]=Ce)}else{var ze=we-+this._x.call(null,Te.data),Ge=ye-+this._y.call(null,Te.data),Ye=ze*ze+Ge*Ge;if(Ye<me){var et=Math.sqrt(me=Ye);Le=we-et,Oe=ye-et,Be=we+et,pe=ye+et,Ae=Te.data}}return Ae},i.remove=function(we){if(isNaN(fe=+this._x.call(null,we))||isNaN(le=+this._y.call(null,we)))return this;var ye,me,Ae,ke,fe,le,de,Ce,Me,Le,Oe,Be,pe=this._root,_e=this._x0,Te=this._y0,Re=this._x1,Ne=this._y1;if(!pe)return this;if(pe.length)for(;;){if((Me=fe>=(de=(_e+Re)/2))?_e=de:Re=de,(Le=le>=(Ce=(Te+Ne)/2))?Te=Ce:Ne=Ce,ye=pe,!(pe=pe[Oe=Le<<1|Me]))return this;if(!pe.length)break;(ye[Oe+1&3]||ye[Oe+2&3]||ye[Oe+3&3])&&(me=ye,Be=Oe)}for(;pe.data!==we;)if(Ae=pe,!(pe=pe.next))return this;return(ke=pe.next)&&delete pe.next,Ae?(ke?Ae.next=ke:delete Ae.next,this):ye?(ke?ye[Oe]=ke:delete ye[Oe],(pe=ye[0]||ye[1]||ye[2]||ye[3])&&pe===(ye[3]||ye[2]||ye[1]||ye[0])&&!pe.length&&(me?me[Be]=pe:this._root=pe),this):(this._root=ke,this)},i.removeAll=function(we){for(var ye=0,me=we.length;ye<me;++ye)this.remove(we[ye]);return this},i.root=function(){return this._root},i.size=function(){var we=0;return this.visit(function(ye){if(!ye.length)do++we;while(ye=ye.next)}),we},i.visit=function(we){var ye,me,Ae,ke,fe,le,de=[],Ce=this._root;for(Ce&&de.push(new v(Ce,this._x0,this._y0,this._x1,this._y1));ye=de.pop();)if(!we(Ce=ye.node,Ae=ye.x0,ke=ye.y0,fe=ye.x1,le=ye.y1)&&Ce.length){var Me=(Ae+fe)/2,Le=(ke+le)/2;(me=Ce[3])&&de.push(new v(me,Me,Le,fe,le)),(me=Ce[2])&&de.push(new v(me,Ae,Le,Me,le)),(me=Ce[1])&&de.push(new v(me,Me,ke,fe,Le)),(me=Ce[0])&&de.push(new v(me,Ae,ke,Me,Le))}return this},i.visitAfter=function(we){var ye,me=[],Ae=[];for(this._root&&me.push(new v(this._root,this._x0,this._y0,this._x1,this._y1));ye=me.pop();){var ke=ye.node;if(ke.length){var fe,le=ye.x0,de=ye.y0,Ce=ye.x1,Me=ye.y1,Le=(le+Ce)/2,Oe=(de+Me)/2;(fe=ke[0])&&me.push(new v(fe,le,de,Le,Oe)),(fe=ke[1])&&me.push(new v(fe,Le,de,Ce,Oe)),(fe=ke[2])&&me.push(new v(fe,le,Oe,Le,Me)),(fe=ke[3])&&me.push(new v(fe,Le,Oe,Ce,Me))}Ae.push(ye)}for(;ye=Ae.pop();)we(ye.node,ye.x0,ye.y0,ye.x1,ye.y1);return this},i.x=function(we){return arguments.length?(this._x=we,this):this._x},i.y=function(we){return arguments.length?(this._y=we,this):this._y};var h=e(34712);function c(we){return we.index}function b(we,ye){var me=we.get(ye);if(!me)throw new Error("missing: "+ye);return me}function d(we){var ye,me,Ae,ke,fe,le=c,de=function(_e){return 1/Math.min(ke[_e.source.index],ke[_e.target.index])},Ce=w(30),Me=1;function Le(_e){for(var Te=0,Re=we.length;Te<Me;++Te)for(var Ne,ze,Ge,Ye,et,ut,ot,yt=0;yt<Re;++yt)ze=(Ne=we[yt]).source,Ye=(Ge=Ne.target).x+Ge.vx-ze.x-ze.vx||r(),et=Ge.y+Ge.vy-ze.y-ze.vy||r(),Ye*=ut=((ut=Math.sqrt(Ye*Ye+et*et))-me[yt])/ut*_e*ye[yt],et*=ut,Ge.vx-=Ye*(ot=fe[yt]),Ge.vy-=et*ot,ze.vx+=Ye*(ot=1-ot),ze.vy+=et*ot}function Oe(){if(Ae){var _e,Te,Re=Ae.length,Ne=we.length,ze=(0,h.kH)(Ae,le);for(_e=0,ke=new Array(Re);_e<Ne;++_e)(Te=we[_e]).index=_e,typeof Te.source!="object"&&(Te.source=b(ze,Te.source)),typeof Te.target!="object"&&(Te.target=b(ze,Te.target)),ke[Te.source.index]=(ke[Te.source.index]||0)+1,ke[Te.target.index]=(ke[Te.target.index]||0)+1;for(_e=0,fe=new Array(Ne);_e<Ne;++_e)Te=we[_e],fe[_e]=ke[Te.source.index]/(ke[Te.source.index]+ke[Te.target.index]);ye=new Array(Ne),Be(),me=new Array(Ne),pe()}}function Be(){if(Ae)for(var _e=0,Te=we.length;_e<Te;++_e)ye[_e]=+de(we[_e],_e,we)}function pe(){if(Ae)for(var _e=0,Te=we.length;_e<Te;++_e)me[_e]=+Ce(we[_e],_e,we)}return we==null&&(we=[]),Le.initialize=function(_e){Ae=_e,Oe()},Le.links=function(_e){return arguments.length?(we=_e,Oe(),Le):we},Le.id=function(_e){return arguments.length?(le=_e,Le):le},Le.iterations=function(_e){return arguments.length?(Me=+_e,Le):Me},Le.strength=function(_e){return arguments.length?(de=typeof _e=="function"?_e:w(+_e),Be(),Le):de},Le.distance=function(_e){return arguments.length?(Ce=typeof _e=="function"?_e:w(+_e),pe(),Le):Ce},Le}var g={value:function(){}};function m(){for(var we,ye=0,me=arguments.length,Ae={};ye<me;++ye){if(!(we=arguments[ye]+"")||we in Ae||/[\s.]/.test(we))throw new Error("illegal type: "+we);Ae[we]=[]}return new y(Ae)}function y(we){this._=we}function x(we,ye){for(var me,Ae=0,ke=we.length;Ae<ke;++Ae)if((me=we[Ae]).name===ye)return me.value}function T(we,ye,me){for(var Ae=0,ke=we.length;Ae<ke;++Ae)if(we[Ae].name===ye){we[Ae]=g,we=we.slice(0,Ae).concat(we.slice(Ae+1));break}return me!=null&&we.push({name:ye,value:me}),we}y.prototype=m.prototype={constructor:y,on:function(we,ye){var me,Ae,ke=this._,fe=(Ae=ke,(we+"").trim().split(/^|\s+/).map(function(Ce){var Me="",Le=Ce.indexOf(".");if(Le>=0&&(Me=Ce.slice(Le+1),Ce=Ce.slice(0,Le)),Ce&&!Ae.hasOwnProperty(Ce))throw new Error("unknown type: "+Ce);return{type:Ce,name:Me}})),le=-1,de=fe.length;if(!(arguments.length<2)){if(ye!=null&&typeof ye!="function")throw new Error("invalid callback: "+ye);for(;++le<de;)if(me=(we=fe[le]).type)ke[me]=T(ke[me],we.name,ye);else if(ye==null)for(me in ke)ke[me]=T(ke[me],we.name,null);return this}for(;++le<de;)if((me=(we=fe[le]).type)&&(me=x(ke[me],we.name)))return me},copy:function(){var we={},ye=this._;for(var me in ye)we[me]=ye[me].slice();return new y(we)},call:function(we,ye){if((me=arguments.length-2)>0)for(var me,Ae,ke=new Array(me),fe=0;fe<me;++fe)ke[fe]=arguments[fe+2];if(!this._.hasOwnProperty(we))throw new Error("unknown type: "+we);for(fe=0,me=(Ae=this._[we]).length;fe<me;++fe)Ae[fe].value.apply(ye,ke)},apply:function(we,ye,me){if(!this._.hasOwnProperty(we))throw new Error("unknown type: "+we);for(var Ae=this._[we],ke=0,fe=Ae.length;ke<fe;++ke)Ae[ke].value.apply(ye,me)}};var p,S,M=m,E=0,P=0,O=0,I=1e3,R=0,U=0,z=0,j=typeof performance=="object"&&performance.now?performance:Date,W=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(we){setTimeout(we,17)};function F(){return U||(W(V),U=j.now()+z)}function V(){U=0}function H(){this._call=this._time=this._next=null}function te(we,ye,me){var Ae=new H;return Ae.restart(we,ye,me),Ae}function Q(){U=(R=j.now())+z,E=P=0;try{(function(){F(),++E;for(var we,ye=p;ye;)(we=U-ye._time)>=0&&ye._call.call(null,we),ye=ye._next;--E})()}finally{E=0,function(){for(var we,ye,me=p,Ae=1/0;me;)me._call?(Ae>me._time&&(Ae=me._time),we=me,me=me._next):(ye=me._next,me._next=null,me=we?we._next=ye:p=ye);S=we,X(Ae)}(),U=0}}function K(){var we=j.now(),ye=we-R;ye>I&&(z-=ye,R=we)}function X(we){E||(P&&(P=clearTimeout(P)),we-U>24?(we<1/0&&(P=setTimeout(Q,we-j.now()-z)),O&&(O=clearInterval(O))):(O||(R=j.now(),O=setInterval(K,I)),E=1,W(Q)))}function J(we){return we.x}function ee(we){return we.y}H.prototype=te.prototype={constructor:H,restart:function(we,ye,me){if(typeof we!="function")throw new TypeError("callback is not a function");me=(me==null?F():+me)+(ye==null?0:+ye),this._next||S===this||(S?S._next=this:p=this,S=this),this._call=we,this._time=me,X()},stop:function(){this._call&&(this._call=null,this._time=1/0,X())}};var ie=10,oe=Math.PI*(3-Math.sqrt(5));function ae(we){var ye,me=1,Ae=.001,ke=1-Math.pow(Ae,1/300),fe=0,le=.6,de=(0,h.kH)(),Ce=te(Le),Me=M("tick","end");function Le(){Oe(),Me.call("tick",ye),me<Ae&&(Ce.stop(),Me.call("end",ye))}function Oe(_e){var Te,Re,Ne=we.length;_e===void 0&&(_e=1);for(var ze=0;ze<_e;++ze)for(me+=(fe-me)*ke,de.each(function(Ge){Ge(me)}),Te=0;Te<Ne;++Te)(Re=we[Te]).fx==null?Re.x+=Re.vx*=le:(Re.x=Re.fx,Re.vx=0),Re.fy==null?Re.y+=Re.vy*=le:(Re.y=Re.fy,Re.vy=0);return ye}function Be(){for(var _e,Te=0,Re=we.length;Te<Re;++Te){if((_e=we[Te]).index=Te,_e.fx!=null&&(_e.x=_e.fx),_e.fy!=null&&(_e.y=_e.fy),isNaN(_e.x)||isNaN(_e.y)){var Ne=ie*Math.sqrt(Te),ze=Te*oe;_e.x=Ne*Math.cos(ze),_e.y=Ne*Math.sin(ze)}(isNaN(_e.vx)||isNaN(_e.vy))&&(_e.vx=_e.vy=0)}}function pe(_e){return _e.initialize&&_e.initialize(we),_e}return we==null&&(we=[]),Be(),ye={tick:Oe,restart:function(){return Ce.restart(Le),ye},stop:function(){return Ce.stop(),ye},nodes:function(_e){return arguments.length?(we=_e,Be(),de.each(pe),ye):we},alpha:function(_e){return arguments.length?(me=+_e,ye):me},alphaMin:function(_e){return arguments.length?(Ae=+_e,ye):Ae},alphaDecay:function(_e){return arguments.length?(ke=+_e,ye):+ke},alphaTarget:function(_e){return arguments.length?(fe=+_e,ye):fe},velocityDecay:function(_e){return arguments.length?(le=1-_e,ye):1-le},force:function(_e,Te){return arguments.length>1?(Te==null?de.remove(_e):de.set(_e,pe(Te)),ye):de.get(_e)},find:function(_e,Te,Re){var Ne,ze,Ge,Ye,et,ut=0,ot=we.length;for(Re==null?Re=1/0:Re*=Re,ut=0;ut<ot;++ut)(Ge=(Ne=_e-(Ye=we[ut]).x)*Ne+(ze=Te-Ye.y)*ze)<Re&&(et=Ye,Re=Ge);return et},on:function(_e,Te){return arguments.length>1?(Me.on(_e,Te),ye):Me.on(_e)}}}function ce(){var we,ye,me,Ae,ke=w(-30),fe=1,le=1/0,de=.81;function Ce(Be){var pe,_e=we.length,Te=t(we,J,ee).visitAfter(Le);for(me=Be,pe=0;pe<_e;++pe)ye=we[pe],Te.visit(Oe)}function Me(){if(we){var Be,pe,_e=we.length;for(Ae=new Array(_e),Be=0;Be<_e;++Be)pe=we[Be],Ae[pe.index]=+ke(pe,Be,we)}}function Le(Be){var pe,_e,Te,Re,Ne,ze=0,Ge=0;if(Be.length){for(Te=Re=Ne=0;Ne<4;++Ne)(pe=Be[Ne])&&(_e=Math.abs(pe.value))&&(ze+=pe.value,Ge+=_e,Te+=_e*pe.x,Re+=_e*pe.y);Be.x=Te/Ge,Be.y=Re/Ge}else{(pe=Be).x=pe.data.x,pe.y=pe.data.y;do ze+=Ae[pe.data.index];while(pe=pe.next)}Be.value=ze}function Oe(Be,pe,_e,Te){if(!Be.value)return!0;var Re=Be.x-ye.x,Ne=Be.y-ye.y,ze=Te-pe,Ge=Re*Re+Ne*Ne;if(ze*ze/de<Ge)return Ge<le&&(Re===0&&(Ge+=(Re=r())*Re),Ne===0&&(Ge+=(Ne=r())*Ne),Ge<fe&&(Ge=Math.sqrt(fe*Ge)),ye.vx+=Re*Be.value*me/Ge,ye.vy+=Ne*Be.value*me/Ge),!0;if(!(Be.length||Ge>=le)){(Be.data!==ye||Be.next)&&(Re===0&&(Ge+=(Re=r())*Re),Ne===0&&(Ge+=(Ne=r())*Ne),Ge<fe&&(Ge=Math.sqrt(fe*Ge)));do Be.data!==ye&&(ze=Ae[Be.data.index]*me/Ge,ye.vx+=Re*ze,ye.vy+=Ne*ze);while(Be=Be.next)}}return Ce.initialize=function(Be){we=Be,Me()},Ce.strength=function(Be){return arguments.length?(ke=typeof Be=="function"?Be:w(+Be),Me(),Ce):ke},Ce.distanceMin=function(Be){return arguments.length?(fe=Be*Be,Ce):Math.sqrt(fe)},Ce.distanceMax=function(Be){return arguments.length?(le=Be*Be,Ce):Math.sqrt(le)},Ce.theta=function(Be){return arguments.length?(de=Be*Be,Ce):Math.sqrt(de)},Ce}function ge(we,ye,me){var Ae,ke,fe,le=w(.1);function de(Me){for(var Le=0,Oe=Ae.length;Le<Oe;++Le){var Be=Ae[Le],pe=Be.x-ye||1e-6,_e=Be.y-me||1e-6,Te=Math.sqrt(pe*pe+_e*_e),Re=(fe[Le]-Te)*ke[Le]*Me/Te;Be.vx+=pe*Re,Be.vy+=_e*Re}}function Ce(){if(Ae){var Me,Le=Ae.length;for(ke=new Array(Le),fe=new Array(Le),Me=0;Me<Le;++Me)fe[Me]=+we(Ae[Me],Me,Ae),ke[Me]=isNaN(fe[Me])?0:+le(Ae[Me],Me,Ae)}}return typeof we!="function"&&(we=w(+we)),ye==null&&(ye=0),me==null&&(me=0),de.initialize=function(Me){Ae=Me,Ce()},de.strength=function(Me){return arguments.length?(le=typeof Me=="function"?Me:w(+Me),Ce(),de):le},de.radius=function(Me){return arguments.length?(we=typeof Me=="function"?Me:w(+Me),Ce(),de):we},de.x=function(Me){return arguments.length?(ye=+Me,de):ye},de.y=function(Me){return arguments.length?(me=+Me,de):me},de}function ve(we){var ye,me,Ae,ke=w(.1);function fe(de){for(var Ce,Me=0,Le=ye.length;Me<Le;++Me)(Ce=ye[Me]).vx+=(Ae[Me]-Ce.x)*me[Me]*de}function le(){if(ye){var de,Ce=ye.length;for(me=new Array(Ce),Ae=new Array(Ce),de=0;de<Ce;++de)me[de]=isNaN(Ae[de]=+we(ye[de],de,ye))?0:+ke(ye[de],de,ye)}}return typeof we!="function"&&(we=w(we==null?0:+we)),fe.initialize=function(de){ye=de,le()},fe.strength=function(de){return arguments.length?(ke=typeof de=="function"?de:w(+de),le(),fe):ke},fe.x=function(de){return arguments.length?(we=typeof de=="function"?de:w(+de),le(),fe):we},fe}function be(we){var ye,me,Ae,ke=w(.1);function fe(de){for(var Ce,Me=0,Le=ye.length;Me<Le;++Me)(Ce=ye[Me]).vy+=(Ae[Me]-Ce.y)*me[Me]*de}function le(){if(ye){var de,Ce=ye.length;for(me=new Array(Ce),Ae=new Array(Ce),de=0;de<Ce;++de)me[de]=isNaN(Ae[de]=+we(ye[de],de,ye))?0:+ke(ye[de],de,ye)}}return typeof we!="function"&&(we=w(we==null?0:+we)),fe.initialize=function(de){ye=de,le()},fe.strength=function(de){return arguments.length?(ke=typeof de=="function"?de:w(+de),le(),fe):ke},fe.y=function(de){return arguments.length?(we=typeof de=="function"?de:w(+de),le(),fe):we},fe}},57624:function(B,L,e){function k(u,h){if((c=(u=h?u.toExponential(h-1):u.toExponential()).indexOf("e"))<0)return null;var c,b=u.slice(0,c);return[b.length>1?b[0]+b.slice(2):b,+u.slice(c+1)]}e.d(L,{E9:function(){return n},SO:function(){return o}});var w,r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _(u){if(!(h=r.exec(u)))throw new Error("invalid format: "+u);var h;return new v({fill:h[1],align:h[2],sign:h[3],symbol:h[4],zero:h[5],width:h[6],comma:h[7],precision:h[8]&&h[8].slice(1),trim:h[9],type:h[10]})}function v(u){this.fill=u.fill===void 0?" ":u.fill+"",this.align=u.align===void 0?">":u.align+"",this.sign=u.sign===void 0?"-":u.sign+"",this.symbol=u.symbol===void 0?"":u.symbol+"",this.zero=!!u.zero,this.width=u.width===void 0?void 0:+u.width,this.comma=!!u.comma,this.precision=u.precision===void 0?void 0:+u.precision,this.trim=!!u.trim,this.type=u.type===void 0?"":u.type+""}function f(u,h){var c=k(u,h);if(!c)return u+"";var b=c[0],d=c[1];return d<0?"0."+new Array(-d).join("0")+b:b.length>d+1?b.slice(0,d+1)+"."+b.slice(d+1):b+new Array(d-b.length+2).join("0")}_.prototype=v.prototype,v.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var s={"%":function(u,h){return(100*u).toFixed(h)},b:function(u){return Math.round(u).toString(2)},c:function(u){return u+""},d:function(u){return Math.abs(u=Math.round(u))>=1e21?u.toLocaleString("en").replace(/,/g,""):u.toString(10)},e:function(u,h){return u.toExponential(h)},f:function(u,h){return u.toFixed(h)},g:function(u,h){return u.toPrecision(h)},o:function(u){return Math.round(u).toString(8)},p:function(u,h){return f(100*u,h)},r:f,s:function(u,h){var c=k(u,h);if(!c)return u+"";var b=c[0],d=c[1],g=d-(w=3*Math.max(-8,Math.min(8,Math.floor(d/3))))+1,m=b.length;return g===m?b:g>m?b+new Array(g-m+1).join("0"):g>0?b.slice(0,g)+"."+b.slice(g):"0."+new Array(1-g).join("0")+k(u,Math.max(0,h+g-1))[0]},X:function(u){return Math.round(u).toString(16).toUpperCase()},x:function(u){return Math.round(u).toString(16)}};function t(u){return u}var a,n,i=Array.prototype.map,l=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function o(u){var h,c,b=u.grouping===void 0||u.thousands===void 0?t:(h=i.call(u.grouping,Number),c=u.thousands+"",function(M,E){for(var P=M.length,O=[],I=0,R=h[0],U=0;P>0&&R>0&&(U+R+1>E&&(R=Math.max(1,E-U)),O.push(M.substring(P-=R,P+R)),!((U+=R+1)>E));)R=h[I=(I+1)%h.length];return O.reverse().join(c)}),d=u.currency===void 0?"":u.currency[0]+"",g=u.currency===void 0?"":u.currency[1]+"",m=u.decimal===void 0?".":u.decimal+"",y=u.numerals===void 0?t:function(M){return function(E){return E.replace(/[0-9]/g,function(P){return M[+P]})}}(i.call(u.numerals,String)),x=u.percent===void 0?"%":u.percent+"",T=u.minus===void 0?"-":u.minus+"",p=u.nan===void 0?"NaN":u.nan+"";function S(M){var E=(M=_(M)).fill,P=M.align,O=M.sign,I=M.symbol,R=M.zero,U=M.width,z=M.comma,j=M.precision,W=M.trim,F=M.type;F==="n"?(z=!0,F="g"):s[F]||(j===void 0&&(j=12),W=!0,F="g"),(R||E==="0"&&P==="=")&&(R=!0,E="0",P="=");var V=I==="$"?d:I==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",H=I==="$"?g:/[%p]/.test(F)?x:"",te=s[F],Q=/[defgprs%]/.test(F);function K(X){var J,ee,ie,oe=V,ae=H;if(F==="c")ae=te(X)+ae,X="";else{var ce=(X=+X)<0||1/X<0;if(X=isNaN(X)?p:te(Math.abs(X),j),W&&(X=function(be){e:for(var we,ye=be.length,me=1,Ae=-1;me<ye;++me)switch(be[me]){case".":Ae=we=me;break;case"0":Ae===0&&(Ae=me),we=me;break;default:if(!+be[me])break e;Ae>0&&(Ae=0)}return Ae>0?be.slice(0,Ae)+be.slice(we+1):be}(X)),ce&&+X==0&&O!=="+"&&(ce=!1),oe=(ce?O==="("?O:T:O==="-"||O==="("?"":O)+oe,ae=(F==="s"?l[8+w/3]:"")+ae+(ce&&O==="("?")":""),Q){for(J=-1,ee=X.length;++J<ee;)if(48>(ie=X.charCodeAt(J))||ie>57){ae=(ie===46?m+X.slice(J+1):X.slice(J))+ae,X=X.slice(0,J);break}}}z&&!R&&(X=b(X,1/0));var ge=oe.length+X.length+ae.length,ve=ge<U?new Array(U-ge+1).join(E):"";switch(z&&R&&(X=b(ve+X,ve.length?U-ae.length:1/0),ve=""),P){case"<":X=oe+X+ae+ve;break;case"=":X=oe+ve+X+ae;break;case"^":X=ve.slice(0,ge=ve.length>>1)+oe+X+ae+ve.slice(ge);break;default:X=ve+oe+X+ae}return y(X)}return j=j===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j)),K.toString=function(){return M+""},K}return{format:S,formatPrefix:function(M,E){var P,O=S(((M=_(M)).type="f",M)),I=3*Math.max(-8,Math.min(8,Math.floor((P=E,((P=k(Math.abs(P)))?P[1]:NaN)/3)))),R=Math.pow(10,-I),U=l[8+I/3];return function(z){return O(R*z)+U}}}}a=o({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),n=a.format,a.formatPrefix},87108:function(B,L,e){e.r(L),e.d(L,{geoAiry:function(){return z},geoAiryRaw:function(){return U},geoAitoff:function(){return W},geoAitoffRaw:function(){return j},geoArmadillo:function(){return V},geoArmadilloRaw:function(){return F},geoAugust:function(){return te},geoAugustRaw:function(){return H},geoBaker:function(){return J},geoBakerRaw:function(){return X},geoBerghaus:function(){return oe},geoBerghausRaw:function(){return ie},geoBertin1953:function(){return me},geoBertin1953Raw:function(){return ye},geoBoggs:function(){return Le},geoBoggsRaw:function(){return Me},geoBonne:function(){return Te},geoBonneRaw:function(){return _e},geoBottomley:function(){return Ne},geoBottomleyRaw:function(){return Re},geoBromley:function(){return Ge},geoBromleyRaw:function(){return ze},geoChamberlin:function(){return rt},geoChamberlinAfrica:function(){return at},geoChamberlinRaw:function(){return wt},geoCollignon:function(){return Rt},geoCollignonRaw:function(){return At},geoCraig:function(){return Dt},geoCraigRaw:function(){return Ft},geoCraster:function(){return Ve},geoCrasterRaw:function(){return Ke},geoCylindricalEqualArea:function(){return ct},geoCylindricalEqualAreaRaw:function(){return Je},geoCylindricalStereographic:function(){return je},geoCylindricalStereographicRaw:function(){return st},geoEckert1:function(){return lt},geoEckert1Raw:function(){return Ue},geoEckert2:function(){return gt},geoEckert2Raw:function(){return Qe},geoEckert3:function(){return xt},geoEckert3Raw:function(){return mt},geoEckert4:function(){return Lt},geoEckert4Raw:function(){return dt},geoEckert5:function(){return _t},geoEckert5Raw:function(){return kt},geoEckert6:function(){return Pt},geoEckert6Raw:function(){return Ot},geoEisenlohr:function(){return on},geoEisenlohrRaw:function(){return Jt},geoFahey:function(){return nn},geoFaheyRaw:function(){return Gt},geoFoucaut:function(){return An},geoFoucautRaw:function(){return Cn},geoFoucautSinusoidal:function(){return Kt},geoFoucautSinusoidalRaw:function(){return dn},geoGilbert:function(){return Sn},geoGingery:function(){return Gn},geoGingeryRaw:function(){return Rn},geoGinzburg4:function(){return lr},geoGinzburg4Raw:function(){return or},geoGinzburg5:function(){return $n},geoGinzburg5Raw:function(){return cr},geoGinzburg6:function(){return Ht},geoGinzburg6Raw:function(){return Ar},geoGinzburg8:function(){return _n},geoGinzburg8Raw:function(){return an},geoGinzburg9:function(){return En},geoGinzburg9Raw:function(){return vn},geoGringorten:function(){return jn},geoGringortenQuincuncial:function(){return ja},geoGringortenRaw:function(){return Fn},geoGuyou:function(){return It},geoGuyouRaw:function(){return mn},geoHammer:function(){return ve},geoHammerRaw:function(){return ce},geoHammerRetroazimuthal:function(){return yn},geoHammerRetroazimuthalRaw:function(){return tn},geoHealpix:function(){return Hn},geoHealpixRaw:function(){return ln},geoHill:function(){return er},geoHillRaw:function(){return qn},geoHomolosine:function(){return fr},geoHomolosineRaw:function(){return yr},geoHufnagel:function(){return sr},geoHufnagelRaw:function(){return gr},geoHyperelliptical:function(){return ki},geoHyperellipticalRaw:function(){return Yr},geoInterrupt:function(){return bi},geoInterruptedBoggs:function(){return Ba},geoInterruptedHomolosine:function(){return Ss},geoInterruptedMollweide:function(){return dl},geoInterruptedMollweideHemispheres:function(){return Nl},geoInterruptedQuarticAuthalic:function(){return Zu},geoInterruptedSinuMollweide:function(){return jl},geoInterruptedSinusoidal:function(){return Vl},geoKavrayskiy7:function(){return as},geoKavrayskiy7Raw:function(){return Go},geoLagrange:function(){return Di},geoLagrangeRaw:function(){return Es},geoLarrivee:function(){return Io},geoLarriveeRaw:function(){return Yo},geoLaskowski:function(){return os},geoLaskowskiRaw:function(){return _o},geoLittrow:function(){return ss},geoLittrowRaw:function(){return Do},geoLoximuthal:function(){return ls},geoLoximuthalRaw:function(){return Wo},geoMiller:function(){return su},geoMillerRaw:function(){return zo},geoModifiedStereographic:function(){return Ps},geoModifiedStereographicAlaska:function(){return Gu},geoModifiedStereographicGs48:function(){return Yu},geoModifiedStereographicGs50:function(){return Os},geoModifiedStereographicLee:function(){return Ws},geoModifiedStereographicMiller:function(){return Ro},geoModifiedStereographicRaw:function(){return Hl},geoMollweide:function(){return le},geoMollweideRaw:function(){return fe},geoMtFlatPolarParabolic:function(){return lu},geoMtFlatPolarParabolicRaw:function(){return wo},geoMtFlatPolarQuartic:function(){return Zo},geoMtFlatPolarQuarticRaw:function(){return us},geoMtFlatPolarSinusoidal:function(){return cs},geoMtFlatPolarSinusoidalRaw:function(){return Xo},geoNaturalEarth:function(){return ri.c},geoNaturalEarth2:function(){return Wu},geoNaturalEarth2Raw:function(){return Zs},geoNaturalEarthRaw:function(){return ri.g},geoNellHammer:function(){return Xs},geoNellHammerRaw:function(){return ql},geoNicolosi:function(){return Xu},geoNicolosiRaw:function(){return Gl},geoPatterson:function(){return Iu},geoPattersonRaw:function(){return Wl},geoPeirceQuincuncial:function(){return Ns},geoPierceQuincuncial:function(){return Ns},geoPolyconic:function(){return zs},geoPolyconicRaw:function(){return Ks},geoPolyhedral:function(){return vi},geoPolyhedralButterfly:function(){return $s},geoPolyhedralCollignon:function(){return _l},geoPolyhedralWaterman:function(){return wl},geoProject:function(){return Tl},geoQuantize:function(){return Ko},geoQuincuncial:function(){return gs},geoRectangularPolyconic:function(){return po},geoRectangularPolyconicRaw:function(){return ho},geoRobinson:function(){return Ir},geoRobinsonRaw:function(){return Ao},geoSatellite:function(){return uu},geoSatelliteRaw:function(){return kl},geoSinuMollweide:function(){return Qn},geoSinuMollweideRaw:function(){return nr},geoSinusoidal:function(){return pe},geoSinusoidalRaw:function(){return Be},geoStitch:function(){return ya},geoTimes:function(){return No},geoTimesRaw:function(){return Ua},geoTwoPointAzimuthal:function(){return Ha},geoTwoPointAzimuthalRaw:function(){return tl},geoTwoPointAzimuthalUsa:function(){return nl},geoTwoPointEquidistant:function(){return Us},geoTwoPointEquidistantRaw:function(){return ii},geoTwoPointEquidistantUsa:function(){return jo},geoVanDerGrinten:function(){return rl},geoVanDerGrinten2:function(){return Lo},geoVanDerGrinten2Raw:function(){return il},geoVanDerGrinten3:function(){return Vs},geoVanDerGrinten3Raw:function(){return Ei},geoVanDerGrinten4:function(){return Hr},geoVanDerGrinten4Raw:function(){return zr},geoVanDerGrintenRaw:function(){return Eo},geoWagner:function(){return Uo},geoWagner4:function(){return Du},geoWagner4Raw:function(){return mi},geoWagner6:function(){return _i},geoWagner6Raw:function(){return oo},geoWagner7:function(){return es},geoWagnerRaw:function(){return ao},geoWiechel:function(){return Ka},geoWiechelRaw:function(){return zi},geoWinkel3:function(){return cu},geoWinkel3Raw:function(){return bs}});var k=e(87952),w=Math.abs,r=Math.atan,_=Math.atan2,v=Math.cos,f=Math.exp,s=Math.floor,t=Math.log,a=Math.max,n=Math.min,i=Math.pow,l=Math.round,o=Math.sign||function($e){return $e>0?1:$e<0?-1:0},u=Math.sin,h=Math.tan,c=1e-6,b=1e-12,d=Math.PI,g=d/2,m=d/4,y=Math.SQRT1_2,x=O(2),T=O(d),p=2*d,S=180/d,M=d/180;function E($e){return $e>1?g:$e<-1?-g:Math.asin($e)}function P($e){return $e>1?0:$e<-1?d:Math.acos($e)}function O($e){return $e>0?Math.sqrt($e):0}function I($e){return(f($e)-f(-$e))/2}function R($e){return(f($e)+f(-$e))/2}function U($e){var nt=h($e/2),ft=2*t(v($e/2))/(nt*nt);function N(Y,G){var C=v(Y),q=v(G),$=u(G),ne=q*C,he=-((1-ne?t((1+ne)/2)/(1-ne):-.5)+ft/(1+ne));return[he*q*u(Y),he*$]}return N.invert=function(Y,G){var C,q=O(Y*Y+G*G),$=-$e/2,ne=50;if(!q)return[0,0];do{var he=$/2,xe=v(he),Pe=u(he),Fe=Pe/xe,qe=-t(w(xe));$-=C=(2/Fe*qe-ft*Fe-q)/(-qe/(Pe*Pe)+1-ft/(2*xe*xe))*(xe<0?.7:1)}while(w(C)>c&&--ne>0);var Ze=u($);return[_(Y*Ze,q*v($)),E(G*Ze/q)]},N}function z(){var $e=g,nt=(0,k.U)(U),ft=nt($e);return ft.radius=function(N){return arguments.length?nt($e=N*M):$e*S},ft.scale(179.976).clipAngle(147)}function j($e,nt){var ft=v(nt),N=function(Y){return Y?Y/Math.sin(Y):1}(P(ft*v($e/=2)));return[2*ft*u($e)*N,u(nt)*N]}function W(){return(0,k.c)(j).scale(152.63)}function F($e){var nt=u($e),ft=v($e),N=$e>=0?1:-1,Y=h(N*$e),G=(1+nt-ft)/2;function C(q,$){var ne=v($),he=v(q/=2);return[(1+ne)*u(q),(N*$>-_(he,Y)-.001?0:10*-N)+G+u($)*ft-(1+ne)*nt*he]}return C.invert=function(q,$){var ne=0,he=0,xe=50;do{var Pe=v(ne),Fe=u(ne),qe=v(he),Ze=u(he),it=1+qe,pt=it*Fe-q,vt=G+Ze*ft-it*nt*Pe-$,Mt=it*Pe/2,Ct=-Fe*Ze,Et=nt*it*Fe/2,jt=ft*qe+nt*Pe*Ze,zt=Ct*Et-jt*Mt,Qt=(vt*Ct-pt*jt)/zt/2,Wt=(pt*Et-vt*Mt)/zt;w(Wt)>2&&(Wt/=2),ne-=Qt,he-=Wt}while((w(Qt)>c||w(Wt)>c)&&--xe>0);return N*he>-_(v(ne),Y)-.001?[2*ne,he]:null},C}function V(){var $e=20*M,nt=$e>=0?1:-1,ft=h(nt*$e),N=(0,k.U)(F),Y=N($e),G=Y.stream;return Y.parallel=function(C){return arguments.length?(ft=h((nt=($e=C*M)>=0?1:-1)*$e),N($e)):$e*S},Y.stream=function(C){var q=Y.rotate(),$=G(C),ne=(Y.rotate([0,0]),G(C)),he=Y.precision();return Y.rotate(q),$.sphere=function(){ne.polygonStart(),ne.lineStart();for(var xe=-180*nt;nt*xe<180;xe+=90*nt)ne.point(xe,90*nt);if($e)for(;nt*(xe-=3*nt*he)>=-180;)ne.point(xe,nt*-_(v(xe*M/2),ft)*S);ne.lineEnd(),ne.polygonEnd()},$},Y.scale(218.695).center([0,28.0974])}function H($e,nt){var ft=h(nt/2),N=O(1-ft*ft),Y=1+N*v($e/=2),G=u($e)*N/Y,C=ft/Y,q=G*G,$=C*C;return[1.3333333333333333*G*(3+q-3*$),1.3333333333333333*C*(3+3*q-$)]}function te(){return(0,k.c)(H).scale(66.1603)}j.invert=function($e,nt){if(!($e*$e+4*nt*nt>d*d+c)){var ft=$e,N=nt,Y=25;do{var G,C=u(ft),q=u(ft/2),$=v(ft/2),ne=u(N),he=v(N),xe=u(2*N),Pe=ne*ne,Fe=he*he,qe=q*q,Ze=1-Fe*$*$,it=Ze?P(he*$)*O(G=1/Ze):G=0,pt=2*it*he*q-$e,vt=it*ne-nt,Mt=G*(Fe*qe+it*he*$*Pe),Ct=G*(.5*C*xe-2*it*ne*q),Et=.25*G*(xe*q-it*ne*Fe*C),jt=G*(Pe*$+it*qe*he),zt=Ct*Et-jt*Mt;if(!zt)break;var Qt=(vt*Ct-pt*jt)/zt,Wt=(pt*Et-vt*Mt)/zt;ft-=Qt,N-=Wt}while((w(Qt)>c||w(Wt)>c)&&--Y>0);return[ft,N]}},H.invert=function($e,nt){if(nt*=.375,!($e*=.375)&&w(nt)>1)return null;var ft=1+$e*$e+nt*nt,N=O((ft-O(ft*ft-4*nt*nt))/2),Y=E(N)/3,G=N?function(ne){return t(ne+O(ne*ne-1))}(w(nt/N))/3:function(ne){return t(ne+O(ne*ne+1))}(w($e))/3,C=v(Y),q=R(G),$=q*q-C*C;return[2*o($e)*_(I(G)*C,.25-$),2*o(nt)*_(q*u(Y),.25+$)]};var Q=O(8),K=t(1+x);function X($e,nt){var ft=w(nt);return ft<m?[$e,t(h(m+nt/2))]:[$e*v(ft)*(2*x-1/u(ft)),o(nt)*(2*x*(ft-m)-t(h(ft/2)))]}function J(){return(0,k.c)(X).scale(112.314)}X.invert=function($e,nt){if((N=w(nt))<K)return[$e,2*r(f(nt))-g];var ft,N,Y=m,G=25;do{var C=v(Y/2),q=h(Y/2);Y-=ft=(Q*(Y-m)-t(q)-N)/(Q-C*C/(2*q))}while(w(ft)>b&&--G>0);return[$e/(v(Y)*(Q-1/u(Y))),o(nt)*Y]};var ee=e(69020);function ie($e){var nt=2*d/$e;function ft(N,Y){var G=(0,ee.O)(N,Y);if(w(N)>g){var C=_(G[1],G[0]),q=O(G[0]*G[0]+G[1]*G[1]),$=nt*l((C-g)/nt)+g,ne=_(u(C-=$),2-v(C));C=$+E(d/q*u(ne))-ne,G[0]=q*v(C),G[1]=q*u(C)}return G}return ft.invert=function(N,Y){var G=O(N*N+Y*Y);if(G>g){var C=_(Y,N),q=nt*l((C-g)/nt)+g,$=C>q?-1:1,ne=G*v(q-C),he=1/h($*P((ne-d)/O(d*(d-2*ne)+G*G)));C=q+2*r((he+$*O(he*he-3))/3),N=G*v(C),Y=G*u(C)}return ee.O.invert(N,Y)},ft}function oe(){var $e=5,nt=(0,k.U)(ie),ft=nt($e),N=ft.stream,Y=.01,G=-v(Y*M),C=u(Y*M);return ft.lobes=function(q){return arguments.length?nt($e=+q):$e},ft.stream=function(q){var $=ft.rotate(),ne=N(q),he=(ft.rotate([0,0]),N(q));return ft.rotate($),ne.sphere=function(){he.polygonStart(),he.lineStart();for(var xe=0,Pe=360/$e,Fe=2*d/$e,qe=90-180/$e,Ze=g;xe<$e;++xe,qe-=Pe,Ze-=Fe)he.point(_(C*v(Ze),G)*S,E(C*u(Ze))*S),qe<-90?(he.point(-90,-180-qe-Y),he.point(-90,-180-qe+Y)):(he.point(90,qe+Y),he.point(90,qe-Y));he.lineEnd(),he.polygonEnd()},ne},ft.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var ae=e(54724);function ce($e,nt){if(arguments.length<2&&(nt=$e),nt===1)return ae.y;if(nt===1/0)return ge;function ft(N,Y){var G=(0,ae.y)(N/nt,Y);return G[0]*=$e,G}return ft.invert=function(N,Y){var G=ae.y.invert(N/$e,Y);return G[0]*=nt,G},ft}function ge($e,nt){return[$e*v(nt)/v(nt/=2),2*u(nt)]}function ve(){var $e=2,nt=(0,k.U)(ce),ft=nt($e);return ft.coefficient=function(N){return arguments.length?nt($e=+N):$e},ft.scale(169.529)}function be($e,nt,ft){var N,Y,G,C=100;ft=ft===void 0?0:+ft,nt=+nt;do(Y=$e(ft))===(G=$e(ft+c))&&(G=Y+c),ft-=N=-1*c*(Y-nt)/(Y-G);while(C-- >0&&w(N)>c);return C<0?NaN:ft}function we($e,nt,ft){return nt===void 0&&(nt=40),ft===void 0&&(ft=b),function(N,Y,G,C){var q,$,ne;G=G===void 0?0:+G,C=C===void 0?0:+C;for(var he=0;he<nt;he++){var xe=$e(G,C),Pe=xe[0]-N,Fe=xe[1]-Y;if(w(Pe)<ft&&w(Fe)<ft)break;var qe=Pe*Pe+Fe*Fe;if(qe>q)G-=$/=2,C-=ne/=2;else{q=qe;var Ze=(G>0?-1:1)*ft,it=(C>0?-1:1)*ft,pt=$e(G+Ze,C),vt=$e(G,C+it),Mt=(pt[0]-xe[0])/Ze,Ct=(pt[1]-xe[1])/Ze,Et=(vt[0]-xe[0])/it,jt=(vt[1]-xe[1])/it,zt=jt*Mt-Ct*Et,Qt=(w(zt)<.5?.5:1)/zt;if(G+=$=(Fe*Et-Pe*jt)*Qt,C+=ne=(Pe*Ct-Fe*Mt)*Qt,w($)<ft&&w(ne)<ft)break}}return[G,C]}}function ye(){var $e=ce(1.68,2);function nt(ft,N){if(ft+N<-1.4){var Y=(ft-N+1.6)*(ft+N+1.4)/8;ft+=Y,N-=.8*Y*u(N+d/2)}var G=$e(ft,N),C=(1-v(ft*N))/12;return G[1]<0&&(G[0]*=1+C),G[1]>0&&(G[1]*=1+C/1.5*G[0]*G[0]),G}return nt.invert=we(nt),nt}function me(){return(0,k.c)(ye()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Ae($e,nt){var ft,N=$e*u(nt),Y=30;do nt-=ft=(nt+u(nt)-N)/(1+v(nt));while(w(ft)>c&&--Y>0);return nt/2}function ke($e,nt,ft){function N(Y,G){return[$e*Y*v(G=Ae(ft,G)),nt*u(G)]}return N.invert=function(Y,G){return G=E(G/nt),[Y/($e*v(G)),E((2*G+u(2*G))/ft)]},N}ge.invert=function($e,nt){var ft=2*E(nt/2);return[$e*v(ft/2)/v(ft),ft]};var fe=ke(x/g,x,d);function le(){return(0,k.c)(fe).scale(169.529)}var de=2.00276,Ce=1.11072;function Me($e,nt){var ft=Ae(d,nt);return[de*$e/(1/v(nt)+Ce/v(ft)),(nt+x*u(ft))/de]}function Le(){return(0,k.c)(Me).scale(160.857)}function Oe($e){var nt=0,ft=(0,k.U)($e),N=ft(nt);return N.parallel=function(Y){return arguments.length?ft(nt=Y*M):nt*S},N}function Be($e,nt){return[$e*v(nt),nt]}function pe(){return(0,k.c)(Be).scale(152.63)}function _e($e){if(!$e)return Be;var nt=1/h($e);function ft(N,Y){var G=nt+$e-Y,C=G&&N*v(Y)/G;return[G*u(C),nt-G*v(C)]}return ft.invert=function(N,Y){var G=O(N*N+(Y=nt-Y)*Y),C=nt+$e-G;return[G/v(C)*_(N,Y),C]},ft}function Te(){return Oe(_e).scale(123.082).center([0,26.1441]).parallel(45)}function Re($e){function nt(ft,N){var Y=g-N,G=Y&&ft*$e*u(Y)/Y;return[Y*u(G)/$e,g-Y*v(G)]}return nt.invert=function(ft,N){var Y=ft*$e,G=g-N,C=O(Y*Y+G*G),q=_(Y,G);return[(C?C/u(C):1)*q/$e,g-C]},nt}function Ne(){var $e=.5,nt=(0,k.U)(Re),ft=nt($e);return ft.fraction=function(N){return arguments.length?nt($e=+N):$e},ft.scale(158.837)}Me.invert=function($e,nt){var ft,N,Y=de*nt,G=nt<0?-m:m,C=25;do N=Y-x*u(G),G-=ft=(u(2*G)+2*G-d*u(N))/(2*v(2*G)+2+d*v(N)*x*v(G));while(w(ft)>c&&--C>0);return N=Y-x*u(G),[$e*(1/v(N)+Ce/v(G))/de,N]},Be.invert=function($e,nt){return[$e/v(nt),nt]};var ze=ke(1,4/d,d);function Ge(){return(0,k.c)(ze).scale(152.63)}var Ye=e(24052),et=e(92992);function ut($e,nt,ft,N,Y,G){var C,q=v(G);if(w($e)>1||w(G)>1)C=P(ft*Y+nt*N*q);else{var $=u($e/2),ne=u(G/2);C=2*E(O($*$+nt*N*ne*ne))}return w(C)>c?[C,_(N*u(G),nt*Y-ft*N*q)]:[0,0]}function ot($e,nt,ft){return P(($e*$e+nt*nt-ft*ft)/(2*$e*nt))}function yt($e){return $e-2*d*s(($e+d)/(2*d))}function wt($e,nt,ft){for(var N,Y=[[$e[0],$e[1],u($e[1]),v($e[1])],[nt[0],nt[1],u(nt[1]),v(nt[1])],[ft[0],ft[1],u(ft[1]),v(ft[1])]],G=Y[2],C=0;C<3;++C,G=N)N=Y[C],G.v=ut(N[1]-G[1],G[3],G[2],N[3],N[2],N[0]-G[0]),G.point=[0,0];var q=ot(Y[0].v[0],Y[2].v[0],Y[1].v[0]),$=ot(Y[0].v[0],Y[1].v[0],Y[2].v[0]),ne=d-q;Y[2].point[1]=0,Y[0].point[0]=-(Y[1].point[0]=Y[0].v[0]/2);var he=[Y[2].point[0]=Y[0].point[0]+Y[2].v[0]*v(q),2*(Y[0].point[1]=Y[1].point[1]=Y[2].v[0]*u(q))];return function(xe,Pe){var Fe,qe=u(Pe),Ze=v(Pe),it=new Array(3);for(Fe=0;Fe<3;++Fe){var pt=Y[Fe];if(it[Fe]=ut(Pe-pt[1],pt[3],pt[2],Ze,qe,xe-pt[0]),!it[Fe][0])return pt.point;it[Fe][1]=yt(it[Fe][1]-pt.v[1])}var vt=he.slice();for(Fe=0;Fe<3;++Fe){var Mt=Fe==2?0:Fe+1,Ct=ot(Y[Fe].v[0],it[Fe][0],it[Mt][0]);it[Fe][1]<0&&(Ct=-Ct),Fe?Fe==1?(Ct=$-Ct,vt[0]-=it[Fe][0]*v(Ct),vt[1]-=it[Fe][0]*u(Ct)):(Ct=ne-Ct,vt[0]+=it[Fe][0]*v(Ct),vt[1]+=it[Fe][0]*u(Ct)):(vt[0]+=it[Fe][0]*v(Ct),vt[1]-=it[Fe][0]*u(Ct))}return vt[0]/=3,vt[1]/=3,vt}}function bt($e){return $e[0]*=M,$e[1]*=M,$e}function at(){return rt([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function rt($e,nt,ft){var N=(0,Ye.c)({type:"MultiPoint",coordinates:[$e,nt,ft]}),Y=[-N[0],-N[1]],G=(0,et.c)(Y),C=wt(bt(G($e)),bt(G(nt)),bt(G(ft)));C.invert=we(C);var q=(0,k.c)(C).rotate(Y),$=q.center;return delete q.rotate,q.center=function(ne){return arguments.length?$(G(ne)):G.invert($())},q.clipAngle(90)}function At($e,nt){var ft=O(1-u(nt));return[2/T*$e*ft,T*(1-ft)]}function Rt(){return(0,k.c)(At).scale(95.6464).center([0,30])}function Ft($e){var nt=h($e);function ft(N,Y){return[N,(N?N/u(N):1)*(u(Y)*v(N)-nt*v(Y))]}return ft.invert=nt?function(N,Y){N&&(Y*=u(N)/N);var G=v(N);return[N,2*_(O(G*G+nt*nt-Y*Y)-G,nt-Y)]}:function(N,Y){return[N,E(N?Y*h(N)/N:Y)]},ft}function Dt(){return Oe(Ft).scale(249.828).clipAngle(90)}At.invert=function($e,nt){var ft=(ft=nt/T-1)*ft;return[ft>0?$e*O(d/ft)/2:0,E(1-ft)]};var Xe=O(3);function Ke($e,nt){return[Xe*$e*(2*v(2*nt/3)-1)/T,Xe*T*u(nt/3)]}function Ve(){return(0,k.c)(Ke).scale(156.19)}function Je($e){var nt=v($e);function ft(N,Y){return[N*nt,u(Y)/nt]}return ft.invert=function(N,Y){return[N/nt,E(Y*nt)]},ft}function ct(){return Oe(Je).parallel(38.58).scale(195.044)}function st($e){var nt=v($e);function ft(N,Y){return[N*nt,(1+nt)*h(Y/2)]}return ft.invert=function(N,Y){return[N/nt,2*r(Y/(1+nt))]},ft}function je(){return Oe(st).scale(124.75)}function Ue($e,nt){var ft=O(8/(3*d));return[ft*$e*(1-w(nt)/d),ft*nt]}function lt(){return(0,k.c)(Ue).scale(165.664)}function Qe($e,nt){var ft=O(4-3*u(w(nt)));return[2/O(6*d)*$e*ft,o(nt)*O(2*d/3)*(2-ft)]}function gt(){return(0,k.c)(Qe).scale(165.664)}function mt($e,nt){var ft=O(d*(4+d));return[2/ft*$e*(1+O(1-4*nt*nt/(d*d))),4/ft*nt]}function xt(){return(0,k.c)(mt).scale(180.739)}function dt($e,nt){var ft=(2+g)*u(nt);nt/=2;for(var N=0,Y=1/0;N<10&&w(Y)>c;N++){var G=v(nt);nt-=Y=(nt+u(nt)*(G+2)-ft)/(2*G*(1+G))}return[2/O(d*(4+d))*$e*(1+v(nt)),2*O(d/(4+d))*u(nt)]}function Lt(){return(0,k.c)(dt).scale(180.739)}function kt($e,nt){return[$e*(1+v(nt))/O(2+d),2*nt/O(2+d)]}function _t(){return(0,k.c)(kt).scale(173.044)}function Ot($e,nt){for(var ft=(1+g)*u(nt),N=0,Y=1/0;N<10&&w(Y)>c;N++)nt-=Y=(nt+u(nt)-ft)/(1+v(nt));return ft=O(2+d),[$e*(1+v(nt))/ft,2*nt/ft]}function Pt(){return(0,k.c)(Ot).scale(173.044)}Ke.invert=function($e,nt){var ft=3*E(nt/(Xe*T));return[T*$e/(Xe*(2*v(2*ft/3)-1)),ft]},Ue.invert=function($e,nt){var ft=O(8/(3*d)),N=nt/ft;return[$e/(ft*(1-w(N)/d)),N]},Qe.invert=function($e,nt){var ft=2-w(nt)/O(2*d/3);return[$e*O(6*d)/(2*ft),o(nt)*E((4-ft*ft)/3)]},mt.invert=function($e,nt){var ft=O(d*(4+d))/2;return[$e*ft/(1+O(1-nt*nt*(4+d)/(4*d))),nt*ft/2]},dt.invert=function($e,nt){var ft=nt*O((4+d)/d)/2,N=E(ft),Y=v(N);return[$e/(2/O(d*(4+d))*(1+Y)),E((N+ft*(Y+2))/(2+g))]},kt.invert=function($e,nt){var ft=O(2+d),N=nt*ft/2;return[ft*$e/(1+v(N)),N]},Ot.invert=function($e,nt){var ft=1+g,N=O(ft/2);return[2*$e*N/(1+v(nt*=N)),E((nt+u(nt))/ft)]};var Bt=3+2*x;function Jt($e,nt){var ft=u($e/=2),N=v($e),Y=O(v(nt)),G=v(nt/=2),C=u(nt)/(G+x*N*Y),q=O(2/(1+C*C)),$=O((x*G+(N+ft)*Y)/(x*G+(N-ft)*Y));return[Bt*(q*($-1/$)-2*t($)),Bt*(q*C*($+1/$)-2*r(C))]}function on(){return(0,k.c)(Jt).scale(62.5271)}Jt.invert=function($e,nt){if(!(ft=H.invert($e/1.2,1.065*nt)))return null;var ft,N=ft[0],Y=ft[1],G=20;$e/=Bt,nt/=Bt;do{var C=N/2,q=Y/2,$=u(C),ne=v(C),he=u(q),xe=v(q),Pe=v(Y),Fe=O(Pe),qe=he/(xe+x*ne*Fe),Ze=qe*qe,it=O(2/(1+Ze)),pt=(x*xe+(ne+$)*Fe)/(x*xe+(ne-$)*Fe),vt=O(pt),Mt=vt-1/vt,Ct=vt+1/vt,Et=it*Mt-2*t(vt)-$e,jt=it*qe*Ct-2*r(qe)-nt,zt=he&&y*Fe*$*Ze/he,Qt=(x*ne*xe+Fe)/(2*(xe+x*ne*Fe)*(xe+x*ne*Fe)*Fe),Wt=-.5*qe*it*it*it,Vt=Wt*zt,gn=Wt*Qt,xn=(xn=2*xe+x*Fe*(ne-$))*xn*vt,On=(x*ne*xe*Fe+Pe)/xn,Dn=-x*$*he/(Fe*xn),Wn=Mt*Vt-2*On/vt+it*(On+On/pt),ar=Mt*gn-2*Dn/vt+it*(Dn+Dn/pt),vr=qe*Ct*Vt-2*zt/(1+Ze)+it*Ct*zt+it*qe*(On-On/pt),Jn=qe*Ct*gn-2*Qt/(1+Ze)+it*Ct*Qt+it*qe*(Dn-Dn/pt),dr=ar*vr-Jn*Wn;if(!dr)break;var kr=(jt*ar-Et*Jn)/dr,Rr=(Et*vr-jt*Wn)/dr;N-=kr,Y=a(-g,n(g,Y-Rr))}while((w(kr)>c||w(Rr)>c)&&--G>0);return w(w(Y)-g)<c?[0,Y]:G&&[N,Y]};var qt=v(35*M);function Gt($e,nt){var ft=h(nt/2);return[$e*qt*O(1-ft*ft),(1+qt)*ft]}function nn(){return(0,k.c)(Gt).scale(137.152)}function Cn($e,nt){var ft=nt/2,N=v(ft);return[2*$e/T*v(nt)*N*N,T*h(ft)]}function An(){return(0,k.c)(Cn).scale(135.264)}function dn($e){var nt=1-$e,ft=Y(d,0)[0]-Y(-d,0)[0],N=O(2*(Y(0,g)[1]-Y(0,-g)[1])/ft);function Y(q,$){var ne=v($),he=u($);return[ne/(nt+$e*ne)*q,nt*$+$e*he]}function G(q,$){var ne=Y(q,$);return[ne[0]*N,ne[1]/N]}function C(q){return G(0,q)[1]}return G.invert=function(q,$){var ne=be(C,$);return[q/N*($e+nt/v(ne)),ne]},G}function Kt(){var $e=.5,nt=(0,k.U)(dn),ft=nt($e);return ft.alpha=function(N){return arguments.length?nt($e=+N):$e},ft.scale(168.725)}Gt.invert=function($e,nt){var ft=nt/(1+qt);return[$e&&$e/(qt*O(1-ft*ft)),2*r(ft)]},Cn.invert=function($e,nt){var ft=r(nt/T),N=v(ft),Y=2*ft;return[$e*T/2/(v(Y)*N*N),Y]};var un=e(4888),rn=e(69604);function hn($e){return[$e[0]/2,E(h($e[1]/2*M))*S]}function kn($e){return[2*$e[0],2*r(u($e[1]*M))*S]}function Sn($e){$e==null&&($e=un.c);var nt=$e(),ft=(0,rn.c)().scale(S).precision(0).clipAngle(null).translate([0,0]);function N(G){return nt(hn(G))}function Y(G){N[G]=function(){return arguments.length?(nt[G].apply(nt,arguments),N):nt[G]()}}return nt.invert&&(N.invert=function(G){return kn(nt.invert(G))}),N.stream=function(G){var C=nt.stream(G),q=ft.stream({point:function($,ne){C.point($/2,E(h(-ne/2*M))*S)},lineStart:function(){C.lineStart()},lineEnd:function(){C.lineEnd()},polygonStart:function(){C.polygonStart()},polygonEnd:function(){C.polygonEnd()}});return q.sphere=C.sphere,q},N.rotate=function(G){return arguments.length?(ft.rotate(G),N):ft.rotate()},N.center=function(G){return arguments.length?(nt.center(hn(G)),N):kn(nt.center())},Y("angle"),Y("clipAngle"),Y("clipExtent"),Y("fitExtent"),Y("fitHeight"),Y("fitSize"),Y("fitWidth"),Y("scale"),Y("translate"),Y("precision"),N.scale(249.5)}function Rn($e,nt){var ft=2*d/nt,N=$e*$e;function Y(G,C){var q=(0,ee.O)(G,C),$=q[0],ne=q[1],he=$*$+ne*ne;if(he>N){var xe=O(he),Pe=_(ne,$),Fe=ft*l(Pe/ft),qe=Pe-Fe,Ze=$e*v(qe),it=($e*u(qe)-qe*u(Ze))/(g-Ze),pt=zn(qe,it),vt=(d-$e)/Pn(pt,Ze,d);$=xe;var Mt,Ct=50;do $-=Mt=($e+Pn(pt,Ze,$)*vt-xe)/(pt($)*vt);while(w(Mt)>c&&--Ct>0);ne=qe*u($),$<g&&(ne-=it*($-g));var Et=u(Fe),jt=v(Fe);q[0]=$*jt-ne*Et,q[1]=$*Et+ne*jt}return q}return Y.invert=function(G,C){var q=G*G+C*C;if(q>N){var $=O(q),ne=_(C,G),he=ft*l(ne/ft),xe=ne-he;G=$*v(xe),C=$*u(xe);for(var Pe=G-g,Fe=u(G),qe=C/Fe,Ze=G<g?1/0:0,it=10;;){var pt=$e*u(qe),vt=$e*v(qe),Mt=u(vt),Ct=g-vt,Et=(pt-qe*Mt)/Ct,jt=zn(qe,Et);if(w(Ze)<b||!--it)break;qe-=Ze=(qe*Fe-Et*Pe-C)/(Fe-2*Pe*(Ct*(vt+qe*pt*v(vt)-Mt)-pt*(pt-qe*Mt))/(Ct*Ct))}G=($=$e+Pn(jt,vt,G)*(d-$e)/Pn(jt,vt,d))*v(ne=he+qe),C=$*u(ne)}return ee.O.invert(G,C)},Y}function zn($e,nt){return function(ft){var N=$e*v(ft);return ft<g&&(N-=nt),O(1+N*N)}}function Pn($e,nt,ft){for(var N=(ft-nt)/50,Y=$e(nt)+$e(ft),G=1,C=nt;G<50;++G)Y+=2*$e(C+=N);return .5*Y*N}function Gn(){var $e=6,nt=30*M,ft=v(nt),N=u(nt),Y=(0,k.U)(Rn),G=Y(nt,$e),C=G.stream,q=-v(.01*M),$=u(.01*M);return G.radius=function(ne){return arguments.length?(ft=v(nt=ne*M),N=u(nt),Y(nt,$e)):nt*S},G.lobes=function(ne){return arguments.length?Y(nt,$e=+ne):$e},G.stream=function(ne){var he=G.rotate(),xe=C(ne),Pe=(G.rotate([0,0]),C(ne));return G.rotate(he),xe.sphere=function(){Pe.polygonStart(),Pe.lineStart();for(var Fe=0,qe=2*d/$e,Ze=0;Fe<$e;++Fe,Ze-=qe)Pe.point(_($*v(Ze),q)*S,E($*u(Ze))*S),Pe.point(_(N*v(Ze-qe/2),ft)*S,E(N*u(Ze-qe/2))*S);Pe.lineEnd(),Pe.polygonEnd()},xe},G.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Nn($e,nt,ft,N,Y,G,C,q){function $(ne,he){if(!he)return[$e*ne/d,0];var xe=he*he,Pe=$e+xe*(nt+xe*(ft+xe*N)),Fe=he*(Y-1+xe*(G-q+xe*C)),qe=(Pe*Pe+Fe*Fe)/(2*Fe),Ze=ne*E(Pe/qe)/d;return[qe*u(Ze),he*(1+xe*q)+qe*(1-v(Ze))]}return arguments.length<8&&(q=0),$.invert=function(ne,he){var xe,Pe,Fe=d*ne/$e,qe=he,Ze=50;do{var it=qe*qe,pt=$e+it*(nt+it*(ft+it*N)),vt=qe*(Y-1+it*(G-q+it*C)),Mt=pt*pt+vt*vt,Ct=2*vt,Et=Mt/Ct,jt=Et*Et,zt=E(pt/Et)/d,Qt=Fe*zt,Wt=pt*pt,Vt=(2*nt+it*(4*ft+6*it*N))*qe,gn=Y+it*(3*G+5*it*C),xn=(2*(pt*Vt+vt*(gn-1))*Ct-Mt*(2*(gn-1)))/(Ct*Ct),On=v(Qt),Dn=u(Qt),Wn=Et*On,ar=Et*Dn,vr=Fe/d*(1/O(1-Wt/jt))*(Vt*Et-pt*xn)/jt,Jn=ar-ne,dr=qe*(1+it*q)+Et-Wn-he,kr=xn*Dn+Wn*vr,Rr=Wn*zt,rr=1+xn-(xn*On-ar*vr),pr=ar*zt,Er=kr*pr-rr*Rr;if(!Er)break;Fe-=xe=(dr*kr-Jn*rr)/Er,qe-=Pe=(Jn*pr-dr*Rr)/Er}while((w(xe)>c||w(Pe)>c)&&--Ze>0);return[Fe,qe]},$}var or=Nn(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function lr(){return(0,k.c)(or).scale(149.995)}var cr=Nn(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function $n(){return(0,k.c)(cr).scale(153.93)}var Ar=Nn(5/6*d,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Ht(){return(0,k.c)(Ar).scale(130.945)}function an($e,nt){var ft=$e*$e,N=nt*nt;return[$e*(1-.162388*N)*(.87-952426e-9*ft*ft),nt*(1+N/12)]}function _n(){return(0,k.c)(an).scale(131.747)}an.invert=function($e,nt){var ft,N=$e,Y=nt,G=50;do{var C=Y*Y;Y-=ft=(Y*(1+C/12)-nt)/(1+C/4)}while(w(ft)>c&&--G>0);G=50,$e/=1-.162388*C;do{var q=(q=N*N)*q;N-=ft=(N*(.87-952426e-9*q)-$e)/(.87-.00476213*q)}while(w(ft)>c&&--G>0);return[N,Y]};var vn=Nn(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function En(){return(0,k.c)(vn).scale(131.087)}function Yn($e){var nt=$e(g,0)[0]-$e(-g,0)[0];function ft(N,Y){var G=N>0?-.5:.5,C=$e(N+G*d,Y);return C[0]-=G*nt,C}return $e.invert&&(ft.invert=function(N,Y){var G=N>0?-.5:.5,C=$e.invert(N+G*nt,Y),q=C[0]-G*d;return q<-d?q+=2*d:q>d&&(q-=2*d),C[0]=q,C}),ft}function Fn($e,nt){var ft=o($e),N=o(nt),Y=v(nt),G=v($e)*Y,C=u($e)*Y,q=u(N*nt);$e=w(_(C,q)),nt=E(G),w($e-g)>c&&($e%=g);var $=function(ne,he){if(he===g)return[0,0];var xe,Pe,Fe=u(he),qe=Fe*Fe,Ze=qe*qe,it=1+Ze,pt=1+3*Ze,vt=1-Ze,Mt=E(1/O(it)),Ct=vt+qe*it*Mt,Et=(1-Fe)/Ct,jt=O(Et),zt=Et*it,Qt=O(zt),Wt=jt*vt;if(ne===0)return[0,-(Wt+qe*Qt)];var Vt,gn=v(he),xn=1/gn,On=2*Fe*gn,Dn=(-Ct*gn-(1-Fe)*((-3*qe+Mt*pt)*On))/(Ct*Ct),Wn=-xn*On,ar=-xn*(qe*it*Dn+Et*pt*On),vr=-2*xn*(vt*(.5*Dn/jt)-2*qe*jt*On),Jn=4*ne/d;if(ne>.222*d||he<d/4&&ne>.175*d){if(xe=(Wt+qe*O(zt*(1+Ze)-Wt*Wt))/(1+Ze),ne>d/4)return[xe,xe];var dr=xe,kr=.5*xe;xe=.5*(kr+dr),Pe=50;do{var Rr=xe*(vr+Wn*O(zt-xe*xe))+ar*E(xe/Qt)-Jn;if(!Rr)break;Rr<0?kr=xe:dr=xe,xe=.5*(kr+dr)}while(w(dr-kr)>c&&--Pe>0)}else{xe=c,Pe=25;do{var rr=xe*xe,pr=O(zt-rr),Er=vr+Wn*pr,mr=xe*Er+ar*E(xe/Qt)-Jn;xe-=Vt=pr?mr/(Er+(ar-Wn*rr)/pr):0}while(w(Vt)>c&&--Pe>0)}return[xe,-Wt-qe*O(zt-xe*xe)]}($e>d/4?g-$e:$e,nt);return $e>d/4&&(q=$[0],$[0]=-$[1],$[1]=-q),$[0]*=ft,$[1]*=-N,$}function jn(){return(0,k.c)(Yn(Fn)).scale(239.75)}function ir($e,nt){var ft,N,Y,G,C,q;if(nt<c)return[(G=u($e))-(ft=nt*($e-G*(N=v($e)))/4)*N,N+ft*G,1-nt*G*G/2,$e-ft];if(nt>=1-c)return ft=(1-nt)/4,Y=1/(N=R($e)),[(G=((q=f(2*(q=$e)))-1)/(q+1))+ft*((C=N*I($e))-$e)/(N*N),Y-ft*G*Y*(C-$e),Y+ft*G*Y*(C+$e),2*r(f($e))-g+ft*(C-$e)/N];var $=[1,0,0,0,0,0,0,0,0],ne=[O(nt),0,0,0,0,0,0,0,0],he=0;for(N=O(1-nt),C=1;w(ne[he]/$[he])>c&&he<8;)ft=$[he++],ne[he]=(ft-N)/2,$[he]=(ft+N)/2,N=O(ft*N),C*=2;Y=C*$[he]*$e;do Y=(E(G=ne[he]*u(N=Y)/$[he])+Y)/2;while(--he);return[u(Y),G=v(Y),G/v(Y-N),Y]}function Zt($e,nt){if(!nt)return $e;if(nt===1)return t(h($e/2+m));for(var ft=1,N=O(1-nt),Y=O(nt),G=0;w(Y)>c;G++){if($e%d){var C=r(N*h($e)/ft);C<0&&(C+=d),$e+=C+~~($e/d)*d}else $e+=$e;Y=(ft+N)/2,N=O(ft*N),Y=((ft=Y)-N)/2}return $e/(i(2,G)*ft)}function mn($e,nt){var ft=(x-1)/(x+1),N=O(1-ft*ft),Y=Zt(g,N*N),G=t(h(d/4+w(nt)/2)),C=f(-1*G)/O(ft),q=function(ne,he){var xe=ne*ne,Pe=he+1,Fe=1-xe-he*he;return[.5*((ne>=0?g:-g)-_(Fe,2*ne)),-.25*t(Fe*Fe+4*xe)+.5*t(Pe*Pe+xe)]}(C*v(-1*$e),C*u(-1*$e)),$=function(ne,he,xe){var Pe=w(ne),Fe=I(w(he));if(Pe){var qe=1/u(Pe),Ze=1/(h(Pe)*h(Pe)),it=-(Ze+xe*(Fe*Fe*qe*qe)-1+xe),pt=(-it+O(it*it-(xe-1)*Ze*4))/2;return[Zt(r(1/O(pt)),xe)*o(ne),Zt(r(O((pt/Ze-1)/xe)),1-xe)*o(he)]}return[0,Zt(r(Fe),1-xe)*o(he)]}(q[0],q[1],N*N);return[-$[1],(nt>=0?1:-1)*(.5*Y-$[0])]}function It(){return(0,k.c)(Yn(mn)).scale(151.496)}Fn.invert=function($e,nt){w($e)>1&&($e=2*o($e)-$e),w(nt)>1&&(nt=2*o(nt)-nt);var ft=o($e),N=o(nt),Y=-ft*$e,G=-N*nt,C=G/Y<1,q=function(xe,Pe){for(var Fe=0,qe=1,Ze=.5,it=50;;){var pt=Ze*Ze,vt=O(Ze),Mt=E(1/O(1+pt)),Ct=1-pt+Ze*(1+pt)*Mt,Et=(1-vt)/Ct,jt=O(Et),zt=Et*(1+pt),Qt=jt*(1-pt),Wt=O(zt-xe*xe),Vt=Pe+Qt+Ze*Wt;if(w(qe-Fe)<b||--it==0||Vt===0)break;Vt>0?Fe=Ze:qe=Ze,Ze=.5*(Fe+qe)}if(!it)return null;var gn=E(vt),xn=v(gn),On=1/xn,Dn=2*vt*xn,Wn=(-Ct*xn-(-3*Ze+Mt*(1+3*pt))*Dn*(1-vt))/(Ct*Ct);return[d/4*(xe*(-2*On*((1-pt)*(.5*Wn/jt)-2*Ze*jt*Dn)+-On*Dn*Wt)+-On*(Ze*(1+pt)*Wn+Et*(1+3*pt)*Dn)*E(xe/O(zt))),gn]}(C?G:Y,C?Y:G),$=q[0],ne=q[1],he=v(ne);return C&&($=-g-$),[ft*(_(u($)*he,-u(ne))+d),N*E(v($)*he)]},mn.invert=function($e,nt){var ft,N,Y,G,C,q,$=(x-1)/(x+1),ne=O(1-$*$),he=(N=-$e,Y=ne*ne,(ft=.5*Zt(g,ne*ne)-nt)?(G=ir(ft,Y),N?(q=(C=ir(N,1-Y))[1]*C[1]+Y*G[0]*G[0]*C[0]*C[0],[[G[0]*C[2]/q,G[1]*G[2]*C[0]*C[1]/q],[G[1]*C[1]/q,-G[0]*G[2]*C[0]*C[2]/q],[G[2]*C[1]*C[2]/q,-Y*G[0]*G[1]*C[0]/q]]):[[G[0],0],[G[1],0],[G[2],0]]):[[0,(C=ir(N,1-Y))[0]/C[1]],[1/C[1],0],[C[2]/C[1],0]]),xe=function(Pe,Fe){var qe=Fe[0]*Fe[0]+Fe[1]*Fe[1];return[(Pe[0]*Fe[0]+Pe[1]*Fe[1])/qe,(Pe[1]*Fe[0]-Pe[0]*Fe[1])/qe]}(he[0],he[1]);return[_(xe[1],xe[0])/-1,2*r(f(-.5*t($*xe[0]*xe[0]+$*xe[1]*xe[1])))-g]};var Xt=e(61780);function tn($e){var nt=u($e),ft=v($e),N=bn($e);function Y(G,C){var q=N(G,C);G=q[0],C=q[1];var $=u(C),ne=v(C),he=v(G),xe=P(nt*$+ft*ne*he),Pe=u(xe),Fe=w(Pe)>c?xe/Pe:1;return[Fe*ft*u(G),(w(G)>g?Fe:-Fe)*(nt*ne-ft*$*he)]}return N.invert=bn(-$e),Y.invert=function(G,C){var q=O(G*G+C*C),$=-u(q),ne=v(q),he=q*ne,xe=-C*$,Pe=q*nt,Fe=O(he*he+xe*xe-Pe*Pe),qe=_(he*Pe+xe*Fe,xe*Pe-he*Fe),Ze=(q>g?-1:1)*_(G*$,q*v(qe)*ne+C*u(qe)*$);return N.invert(Ze,qe)},Y}function bn($e){var nt=u($e),ft=v($e);return function(N,Y){var G=v(Y),C=v(N)*G,q=u(N)*G,$=u(Y);return[_(q,C*ft-$*nt),E($*ft+C*nt)]}}function yn(){var $e=0,nt=(0,k.U)(tn),ft=nt($e),N=ft.rotate,Y=ft.stream,G=(0,Xt.c)();return ft.parallel=function(C){if(!arguments.length)return $e*S;var q=ft.rotate();return nt($e=C*M).rotate(q)},ft.rotate=function(C){return arguments.length?(N.call(ft,[C[0],C[1]-$e*S]),G.center([-C[0],-C[1]]),ft):((C=N.call(ft))[1]+=$e*S,C)},ft.stream=function(C){return(C=Y(C)).sphere=function(){C.polygonStart();var q,$=G.radius(89.99)().coordinates[0],ne=$.length-1,he=-1;for(C.lineStart();++he<ne;)C.point((q=$[he])[0],q[1]);for(C.lineEnd(),ne=($=G.radius(90.01)().coordinates[0]).length-1,C.lineStart();--he>=0;)C.point((q=$[he])[0],q[1]);C.lineEnd(),C.polygonEnd()},C},ft.scale(79.4187).parallel(45).clipAngle(179.999)}var Tn=e(84706),fn=e(16016),$t=E(1-1/3)*S,en=Je(0);function ln($e){var nt=$t*M,ft=At(d,nt)[0]-At(-d,nt)[0],N=en(0,nt)[1],Y=At(0,nt)[1],G=T-Y,C=p/$e,q=4/p,$=N+G*G*4/p;function ne(he,xe){var Pe,Fe=w(xe);if(Fe>nt){var qe=n($e-1,a(0,s((he+d)/C)));(Pe=At(he+=d*($e-1)/$e-qe*C,Fe))[0]=Pe[0]*p/ft-p*($e-1)/(2*$e)+qe*p/$e,Pe[1]=N+4*(Pe[1]-Y)*G/p,xe<0&&(Pe[1]=-Pe[1])}else Pe=en(he,xe);return Pe[0]*=q,Pe[1]/=$,Pe}return ne.invert=function(he,xe){he/=q;var Pe=w(xe*=$);if(Pe>N){var Fe=n($e-1,a(0,s((he+d)/C)));he=(he+d*($e-1)/$e-Fe*C)*ft/p;var qe=At.invert(he,.25*(Pe-N)*p/G+Y);return qe[0]-=d*($e-1)/$e-Fe*C,xe<0&&(qe[1]=-qe[1]),qe}return en.invert(he,xe)},ne}function pn($e,nt){return[$e,1&nt?90-c:$t]}function Ln($e,nt){return[$e,1&nt?-90+c:-$t]}function In($e){return[$e[0]*(1-c),$e[1]]}function Hn(){var $e=4,nt=(0,k.U)(ln),ft=nt($e),N=ft.stream;return ft.lobes=function(Y){return arguments.length?nt($e=+Y):$e},ft.stream=function(Y){var G=ft.rotate(),C=N(Y),q=(ft.rotate([0,0]),N(Y));return ft.rotate(G),C.sphere=function(){var $,ne;(0,fn.c)(($=180/$e,ne=[].concat((0,Tn.ik)(-180,180+$/2,$).map(pn),(0,Tn.ik)(180,-180-$/2,-$).map(Ln)),{type:"Polygon",coordinates:[$===180?ne.map(In):ne]}),q)},C},ft.scale(239.75)}function qn($e){var nt,ft=1+$e,N=E(u(1/ft)),Y=2*O(d/(nt=d+4*N*ft)),G=.5*Y*(ft+O($e*(2+$e))),C=$e*$e,q=ft*ft;function $(ne,he){var xe,Pe,Fe=1-u(he);if(Fe&&Fe<2){var qe,Ze=g-he,it=25;do{var pt=u(Ze),vt=v(Ze),Mt=N+_(pt,ft-vt),Ct=1+q-2*ft*vt;Ze-=qe=(Ze-C*N-ft*pt+Ct*Mt-.5*Fe*nt)/(2*ft*pt*Mt)}while(w(qe)>b&&--it>0);xe=Y*O(Ct),Pe=ne*Mt/d}else xe=Y*($e+Fe),Pe=ne*N/d;return[xe*u(Pe),G-xe*v(Pe)]}return $.invert=function(ne,he){var xe=ne*ne+(he-=G)*he,Pe=(1+q-xe/(Y*Y))/(2*ft),Fe=P(Pe),qe=u(Fe),Ze=N+_(qe,ft-Pe);return[E(ne/O(xe))*d/Ze,E(1-2*(Fe-C*N-ft*qe+(1+q-2*ft*Pe)*Ze)/nt)]},$}function er(){var $e=1,nt=(0,k.U)(qn),ft=nt($e);return ft.ratio=function(N){return arguments.length?nt($e=+N):$e},ft.scale(167.774).center([0,18.67])}var Zn=.7109889596207567,tr=.0528035274542;function nr($e,nt){return nt>-Zn?(($e=fe($e,nt))[1]+=tr,$e):Be($e,nt)}function Qn(){return(0,k.c)(nr).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function yr($e,nt){return w(nt)>Zn?(($e=fe($e,nt))[1]-=nt>0?tr:-tr,$e):Be($e,nt)}function fr(){return(0,k.c)(yr).scale(152.63)}function gr($e,nt,ft,N){var Y=O(4*d/(2*ft+(1+$e-nt/2)*u(2*ft)+($e+nt)/2*u(4*ft)+nt/2*u(6*ft))),G=O(N*u(ft)*O((1+$e*v(2*ft)+nt*v(4*ft))/(1+$e+nt))),C=ft*$(1);function q(xe){return O(1+$e*v(2*xe)+nt*v(4*xe))}function $(xe){var Pe=xe*ft;return(2*Pe+(1+$e-nt/2)*u(2*Pe)+($e+nt)/2*u(4*Pe)+nt/2*u(6*Pe))/ft}function ne(xe){return q(xe)*u(xe)}var he=function(xe,Pe){var Fe=ft*be($,C*u(Pe)/ft,Pe/d);isNaN(Fe)&&(Fe=ft*o(Pe));var qe=Y*q(Fe);return[qe*G*xe/d*v(Fe),qe/G*u(Fe)]};return he.invert=function(xe,Pe){var Fe=be(ne,Pe*G/Y);return[xe*d/(v(Fe)*Y*G*q(Fe)),E(ft*$(Fe/ft)/C)]},ft===0&&(Y=O(N/d),(he=function(xe,Pe){return[xe*Y,u(Pe)/Y]}).invert=function(xe,Pe){return[xe/Y,E(Pe*Y)]}),he}function sr(){var $e=1,nt=0,ft=45*M,N=2,Y=(0,k.U)(gr),G=Y($e,nt,ft,N);return G.a=function(C){return arguments.length?Y($e=+C,nt,ft,N):$e},G.b=function(C){return arguments.length?Y($e,nt=+C,ft,N):nt},G.psiMax=function(C){return arguments.length?Y($e,nt,ft=+C*M,N):ft*S},G.ratio=function(C){return arguments.length?Y($e,nt,ft,N=+C):N},G.scale(180.739)}function br($e,nt,ft,N,Y,G,C,q,$,ne,he){if(he.nanEncountered)return NaN;var xe,Pe,Fe,qe,Ze,it,pt,vt,Mt,Ct;if(Pe=$e(nt+.25*(xe=ft-nt)),Fe=$e(ft-.25*xe),isNaN(Pe))he.nanEncountered=!0;else{if(!isNaN(Fe))return Ct=((it=(qe=xe*(N+4*Pe+Y)/12)+(Ze=xe*(Y+4*Fe+G)/12))-C)/15,ne>$?(he.maxDepthCount++,it+Ct):Math.abs(Ct)<q?it+Ct:(vt=br($e,nt,pt=nt+.5*xe,N,Pe,Y,qe,.5*q,$,ne+1,he),isNaN(vt)?(he.nanEncountered=!0,NaN):(Mt=br($e,pt,ft,Y,Fe,G,Ze,.5*q,$,ne+1,he),isNaN(Mt)?(he.nanEncountered=!0,NaN):vt+Mt));he.nanEncountered=!0}}function Pr($e,nt,ft,N,Y){N===void 0&&(N=1e-8),Y===void 0&&(Y=20);var G=$e(nt),C=$e(.5*(nt+ft)),q=$e(ft);return br($e,nt,ft,G,C,q,(G+4*C+q)*(ft-nt)/6,N,Y,1,{maxDepthCount:0,nanEncountered:!1})}function Yr($e,nt,ft){function N(Fe){return $e+(1-$e)*i(1-i(Fe,nt),1/nt)}function Y(Fe){return Pr(N,0,Fe,1e-4)}for(var G=1/Y(1),C=1e3,q=1.00000001*G,$=[],ne=0;ne<=C;ne++)$.push(Y(ne/C)*q);function he(Fe){var qe=0,Ze=C,it=500;do $[it]>Fe?Ze=it:qe=it,it=qe+Ze>>1;while(it>qe);var pt=$[it+1]-$[it];return pt&&(pt=(Fe-$[it+1])/pt),(it+1+pt)/C}var xe=2*he(1)/d*G/ft,Pe=function(Fe,qe){var Ze=he(w(u(qe))),it=N(Ze)*Fe;return Ze/=xe,[it,qe>=0?Ze:-Ze]};return Pe.invert=function(Fe,qe){var Ze;return w(qe*=xe)<1&&(Ze=o(qe)*E(Y(w(qe))*G)),[Fe/N(w(qe)),Ze]},Pe}function ki(){var $e=0,nt=2.5,ft=1.183136,N=(0,k.U)(Yr),Y=N($e,nt,ft);return Y.alpha=function(G){return arguments.length?N($e=+G,nt,ft):$e},Y.k=function(G){return arguments.length?N($e,nt=+G,ft):nt},Y.gamma=function(G){return arguments.length?N($e,nt,ft=+G):ft},Y.scale(152.63)}function Ai($e,nt){return w($e[0]-nt[0])<c&&w($e[1]-nt[1])<c}function aa($e,nt){for(var ft,N,Y,G=-1,C=$e.length,q=$e[0],$=[];++G<C;){N=((ft=$e[G])[0]-q[0])/nt,Y=(ft[1]-q[1])/nt;for(var ne=0;ne<nt;++ne)$.push([q[0]+ne*N,q[1]+ne*Y]);q=ft}return $.push(ft),$}function bi($e,nt,ft){var N,Y;function G($,ne){for(var he=ne<0?-1:1,xe=nt[+(ne<0)],Pe=0,Fe=xe.length-1;Pe<Fe&&$>xe[Pe][2][0];++Pe);var qe=$e($-xe[Pe][1][0],ne);return qe[0]+=$e(xe[Pe][1][0],he*ne>he*xe[Pe][0][1]?xe[Pe][0][1]:ne)[0],qe}ft?G.invert=ft(G):$e.invert&&(G.invert=function($,ne){for(var he=Y[+(ne<0)],xe=nt[+(ne<0)],Pe=0,Fe=he.length;Pe<Fe;++Pe){var qe=he[Pe];if(qe[0][0]<=$&&$<qe[1][0]&&qe[0][1]<=ne&&ne<qe[1][1]){var Ze=$e.invert($-$e(xe[Pe][1][0],0)[0],ne);return Ze[0]+=xe[Pe][1][0],Ai(G(Ze[0],Ze[1]),[$,ne])?Ze:null}}});var C=(0,k.c)(G),q=C.stream;return C.stream=function($){var ne=C.rotate(),he=q($),xe=(C.rotate([0,0]),q($));return C.rotate(ne),he.sphere=function(){(0,fn.c)(N,xe)},he},C.lobes=function($){return arguments.length?(N=function(ne){var he,xe,Pe,Fe,qe,Ze,it,pt=[],vt=ne[0].length;for(it=0;it<vt;++it)xe=(he=ne[0][it])[0][0],Pe=he[0][1],Fe=he[1][1],qe=he[2][0],Ze=he[2][1],pt.push(aa([[xe+c,Pe+c],[xe+c,Fe-c],[qe-c,Fe-c],[qe-c,Ze+c]],30));for(it=ne[1].length-1;it>=0;--it)xe=(he=ne[1][it])[0][0],Pe=he[0][1],Fe=he[1][1],qe=he[2][0],Ze=he[2][1],pt.push(aa([[qe-c,Ze-c],[qe-c,Fe+c],[xe+c,Fe+c],[xe+c,Pe-c]],30));return{type:"Polygon",coordinates:[(0,Tn.Uf)(pt)]}}($),nt=$.map(function(ne){return ne.map(function(he){return[[he[0][0]*M,he[0][1]*M],[he[1][0]*M,he[1][1]*M],[he[2][0]*M,he[2][1]*M]]})}),Y=nt.map(function(ne){return ne.map(function(he){var xe,Pe=$e(he[0][0],he[0][1])[0],Fe=$e(he[2][0],he[2][1])[0],qe=$e(he[1][0],he[0][1])[1],Ze=$e(he[1][0],he[1][1])[1];return qe>Ze&&(xe=qe,qe=Ze,Ze=xe),[[Pe,qe],[Fe,Ze]]})}),C):nt.map(function(ne){return ne.map(function(he){return[[he[0][0]*S,he[0][1]*S],[he[1][0]*S,he[1][1]*S],[he[2][0]*S,he[2][1]*S]]})})},nt!=null&&C.lobes(nt),C}nr.invert=function($e,nt){return nt>-Zn?fe.invert($e,nt-tr):Be.invert($e,nt)},yr.invert=function($e,nt){return w(nt)>Zn?fe.invert($e,nt+(nt>0?tr:-tr)):Be.invert($e,nt)};var Ji=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Ba(){return bi(Me,Ji).scale(160.857)}var Na=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Ss(){return bi(yr,Na).scale(152.63)}var qu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function dl(){return bi(fe,qu).scale(169.529)}var vl=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Nl(){return bi(fe,vl).scale(169.529).rotate([20,0])}var bo=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function jl(){return bi(nr,bo,we).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Ul=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Vl(){return bi(Be,Ul).scale(152.63).rotate([-20,0])}function Go($e,nt){return[3/p*$e*O(d*d/3-nt*nt),nt]}function as(){return(0,k.c)(Go).scale(158.837)}function Es($e){function nt(ft,N){if(w(w(N)-g)<c)return[0,N<0?-2:2];var Y=u(N),G=i((1+Y)/(1-Y),$e/2),C=.5*(G+1/G)+v(ft*=$e);return[2*u(ft)/C,(G-1/G)/C]}return nt.invert=function(ft,N){var Y=w(N);if(w(Y-2)<c)return ft?null:[0,o(N)*g];if(Y>2)return null;var G=(ft/=2)*ft,C=(N/=2)*N,q=2*N/(1+G+C);return q=i((1+q)/(1-q),1/$e),[_(2*ft,1-G-C)/$e,E((q-1)/(q+1))]},nt}function Di(){var $e=.5,nt=(0,k.U)(Es),ft=nt($e);return ft.spacing=function(N){return arguments.length?nt($e=+N):$e},ft.scale(124.75)}Go.invert=function($e,nt){return[p/3*$e/O(d*d/3-nt*nt),nt]};var ca=d/x;function Yo($e,nt){return[$e*(1+O(v(nt)))/2,nt/(v(nt/2)*v($e/6))]}function Io(){return(0,k.c)(Yo).scale(97.2672)}function _o($e,nt){var ft=$e*$e,N=nt*nt;return[$e*(.975534+N*(-.0143059*ft-.119161+-.0547009*N)),nt*(1.00384+ft*(.0802894+-.02855*N+199025e-9*ft)+N*(.0998909+-.0491032*N))]}function os(){return(0,k.c)(_o).scale(139.98)}function Do($e,nt){return[u($e)/v(nt),h(nt)*v($e)]}function ss(){return(0,k.c)(Do).scale(144.049).clipAngle(89.999)}function Wo($e){var nt=v($e),ft=h(m+$e/2);function N(Y,G){var C=G-$e,q=w(C)<c?Y*nt:w(q=m+G/2)<c||w(w(q)-g)<c?0:Y*C/t(h(q)/ft);return[q,C]}return N.invert=function(Y,G){var C,q=G+$e;return[w(G)<c?Y/nt:w(C=m+q/2)<c||w(w(C)-g)<c?0:Y*t(h(C)/ft)/G,q]},N}function ls(){return Oe(Wo).parallel(40).scale(158.837)}function zo($e,nt){return[$e,1.25*t(h(m+.4*nt))]}function su(){return(0,k.c)(zo).scale(108.318)}function Hl($e){var nt=$e.length-1;function ft(N,Y){for(var G,C=v(Y),q=2/(1+C*v(N)),$=q*C*u(N),ne=q*u(Y),he=nt,xe=$e[he],Pe=xe[0],Fe=xe[1];--he>=0;)Pe=(xe=$e[he])[0]+$*(G=Pe)-ne*Fe,Fe=xe[1]+$*Fe+ne*G;return[Pe=$*(G=Pe)-ne*Fe,Fe=$*Fe+ne*G]}return ft.invert=function(N,Y){var G=20,C=N,q=Y;do{for(var $,ne=nt,he=$e[ne],xe=he[0],Pe=he[1],Fe=0,qe=0;--ne>=0;)Fe=xe+C*($=Fe)-q*qe,qe=Pe+C*qe+q*$,xe=(he=$e[ne])[0]+C*($=xe)-q*Pe,Pe=he[1]+C*Pe+q*$;var Ze,it,pt=(Fe=xe+C*($=Fe)-q*qe)*Fe+(qe=Pe+C*qe+q*$)*qe;C-=Ze=((xe=C*($=xe)-q*Pe-N)*Fe+(Pe=C*Pe+q*$-Y)*qe)/pt,q-=it=(Pe*Fe-xe*qe)/pt}while(w(Ze)+w(it)>c*c&&--G>0);if(G){var vt=O(C*C+q*q),Mt=2*r(.5*vt),Ct=u(Mt);return[_(C*Ct,vt*v(Mt)),vt?E(q*Ct/vt):0]}},ft}Yo.invert=function($e,nt){var ft=w($e),N=w(nt),Y=c,G=g;N<ca?G*=N/ca:Y+=6*P(ca/N);for(var C=0;C<25;C++){var q=u(G),$=O(v(G)),ne=u(G/2),he=v(G/2),xe=u(Y/6),Pe=v(Y/6),Fe=.5*Y*(1+$)-ft,qe=G/(he*Pe)-N,Ze=$?-.25*Y*q/$:0,it=.5*(1+$),pt=(1+.5*G*ne/he)/(he*Pe),vt=G/he*(xe/6)/(Pe*Pe),Mt=Ze*vt-pt*it,Ct=(Fe*vt-qe*it)/Mt,Et=(qe*Ze-Fe*pt)/Mt;if(G-=Ct,Y-=Et,w(Ct)<c&&w(Et)<c)break}return[$e<0?-Y:Y,nt<0?-G:G]},_o.invert=function($e,nt){var ft=o($e)*d,N=nt/2,Y=50;do{var G=ft*ft,C=N*N,q=ft*N,$=ft*(.975534+C*(-.0143059*G-.119161+-.0547009*C))-$e,ne=N*(1.00384+G*(.0802894+-.02855*C+199025e-9*G)+C*(.0998909+-.0491032*C))-nt,he=.975534-C*(.119161+3*G*.0143059+.0547009*C),xe=-q*(.238322+.2188036*C+.0286118*G),Pe=q*(.1605788+7961e-7*G+-.0571*C),Fe=1.00384+G*(.0802894+199025e-9*G)+C*(3*(.0998909-.02855*G)-.245516*C),qe=xe*Pe-Fe*he,Ze=(ne*xe-$*Fe)/qe,it=($*Pe-ne*he)/qe;ft-=Ze,N-=it}while((w(Ze)>c||w(it)>c)&&--Y>0);return Y&&[ft,N]},Do.invert=function($e,nt){var ft=$e*$e,N=nt*nt+1,Y=ft+N,G=$e?y*O((Y-O(Y*Y-4*ft))/ft):1/O(N);return[E($e*G),o(nt)*P(G)]},zo.invert=function($e,nt){return[$e,2.5*r(f(.8*nt))-.625*d]};var Ls=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Eu=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Lu=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Cs=[[.9245,0],[0,0],[.01943,0]],Cu=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Gu(){return Ps(Ls,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Yu(){return Ps(Eu,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Os(){return Ps(Lu,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Ro(){return Ps(Cs,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Ws(){return Ps(Cu,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Ps($e,nt){var ft=(0,k.c)(Hl($e)).rotate(nt).clipAngle(90),N=(0,et.c)(nt),Y=ft.center;return delete ft.rotate,ft.center=function(G){return arguments.length?Y(N(G)):N.invert(Y())},ft}var ml=O(6),Is=O(7);function wo($e,nt){var ft=E(7*u(nt)/(3*ml));return[ml*$e*(2*v(2*ft/3)-1)/Is,9*u(ft/3)/Is]}function lu(){return(0,k.c)(wo).scale(164.859)}function us($e,nt){for(var ft,N=(1+y)*u(nt),Y=nt,G=0;G<25&&(Y-=ft=(u(Y/2)+u(Y)-N)/(.5*v(Y/2)+v(Y)),!(w(ft)<c));G++);return[$e*(1+2*v(Y)/v(Y/2))/(3*x),2*O(3)*u(Y/2)/O(2+x)]}function Zo(){return(0,k.c)(us).scale(188.209)}function Xo($e,nt){for(var ft,N=O(6/(4+d)),Y=(1+d/4)*u(nt),G=nt/2,C=0;C<25&&(G-=ft=(G/2+u(G)-Y)/(.5+v(G)),!(w(ft)<c));C++);return[N*(.5+v(G))*$e/1.5,N*G]}function cs(){return(0,k.c)(Xo).scale(166.518)}wo.invert=function($e,nt){var ft=3*E(nt*Is/9);return[$e*Is/(ml*(2*v(2*ft/3)-1)),E(3*u(ft)*ml/7)]},us.invert=function($e,nt){var ft=nt*O(2+x)/(2*O(3)),N=2*E(ft);return[3*x*$e/(1+2*v(N)/v(N/2)),E((ft+u(N))/(1+y))]},Xo.invert=function($e,nt){var ft=O(6/(4+d)),N=nt/ft;return w(w(N)-g)<c&&(N=N<0?-g:g),[1.5*$e/(ft*(.5+v(N))),E((N/2+u(N))/(1+d/4))]};var ri=e(47984);function Zs($e,nt){var ft=nt*nt,N=ft*ft,Y=ft*N;return[$e*(.84719-.13063*ft+Y*Y*(.05494*ft-.04515-.02326*N+.00331*Y)),nt*(1.01183+N*N*(.01926*ft-.02625-.00396*N))]}function Wu(){return(0,k.c)(Zs).scale(175.295)}function ql($e,nt){return[$e*(1+v(nt))/2,2*(nt-h(nt/2))]}function Xs(){return(0,k.c)(ql).scale(152.63)}Zs.invert=function($e,nt){var ft,N,Y,G,C=nt,q=25;do C-=ft=(C*(1.01183+(Y=(N=C*C)*N)*Y*(.01926*N-.02625-.00396*Y))-nt)/(1.01183+Y*Y*(.21186*N-.23625+-.05148*Y));while(w(ft)>b&&--q>0);return[$e/(.84719-.13063*(N=C*C)+(G=N*(Y=N*N))*G*(.05494*N-.04515-.02326*Y+.00331*G)),C]},ql.invert=function($e,nt){for(var ft=nt/2,N=0,Y=1/0;N<10&&w(Y)>c;++N){var G=v(nt/2);nt-=Y=(nt-h(nt/2)-ft)/(1-.5/(G*G))}return[2*$e/(1+v(nt)),nt]};var Ou=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Zu(){return bi(ce(1/0),Ou).rotate([20,0]).scale(152.63)}function Gl($e,nt){var ft=u(nt),N=v(nt),Y=o($e);if($e===0||w(nt)===g)return[0,nt];if(nt===0)return[$e,0];if(w($e)===g)return[$e*N,g*ft];var G=d/(2*$e)-2*$e/d,C=2*nt/d,q=(1-C*C)/(ft-C),$=G*G,ne=q*q,he=1+$/ne,xe=1+ne/$,Pe=(G*ft/q-G/2)/he,Fe=(ne*ft/$+q/2)/xe,qe=Fe*Fe-(ne*ft*ft/$+q*ft-1)/xe;return[g*(Pe+O(Pe*Pe+N*N/he)*Y),g*(Fe+O(qe<0?0:qe)*o(-nt*G)*Y)]}function Xu(){return(0,k.c)(Gl).scale(127.267)}Gl.invert=function($e,nt){var ft=($e/=g)*$e,N=ft+(nt/=g)*nt,Y=d*d;return[$e?(N-1+O((1-N)*(1-N)+4*ft))/(2*$e)*g:0,be(function(G){return N*(d*u(G)-2*G)*d+4*G*G*(nt-u(G))+2*d*G-Y*nt},0)]};var fs=1.0148,Ds=.23185,Jo=-.14499,To=.02406,Js=fs,Pu=5*Ds,yl=7*Jo,Yl=9*To,ro=1.790857183;function Wl($e,nt){var ft=nt*nt;return[$e,nt*(fs+ft*ft*(Ds+ft*(Jo+To*ft)))]}function Iu(){return(0,k.c)(Wl).scale(139.319)}function Ks($e,nt){if(w(nt)<c)return[$e,0];var ft=h(nt),N=$e*u(nt);return[u(N)/ft,nt+(1-v(N))/ft]}function zs(){return(0,k.c)(Ks).scale(103.74)}Wl.invert=function($e,nt){nt>ro?nt=ro:nt<-1.790857183&&(nt=-1.790857183);var ft,N=nt;do{var Y=N*N;N-=ft=(N*(fs+Y*Y*(Ds+Y*(Jo+To*Y)))-nt)/(Js+Y*Y*(Pu+Y*(yl+Yl*Y)))}while(w(ft)>c);return[$e,N]},Ks.invert=function($e,nt){if(w(nt)<c)return[$e,0];var ft,N=$e*$e+nt*nt,Y=.5*nt,G=10;do{var C=h(Y),q=1/v(Y),$=N-2*nt*Y+Y*Y;Y-=ft=(C*$+2*(Y-nt))/(2+$*q*q+2*(Y-nt)*C)}while(w(ft)>c&&--G>0);return C=h(Y),[(w(nt)<w(Y+1/C)?E($e*C):o(nt)*o($e)*(P(w($e*C))+g))/u(Y),Y]};var Qs=e(13696),Rs=e(27284);function Fs($e,nt){return[$e[0]*nt[0]+$e[1]*nt[3],$e[0]*nt[1]+$e[1]*nt[4],$e[0]*nt[2]+$e[1]*nt[5]+$e[2],$e[3]*nt[0]+$e[4]*nt[3],$e[3]*nt[1]+$e[4]*nt[4],$e[3]*nt[2]+$e[4]*nt[5]+$e[5]]}function xl($e,nt){return[$e[0]-nt[0],$e[1]-nt[1]]}function Zl($e){return O($e[0]*$e[0]+$e[1]*$e[1])}function vi($e,nt,ft){function N(q,$){var ne,he=nt(q,$),xe=he.project([q*S,$*S]);return(ne=he.transform)?[ne[0]*xe[0]+ne[1]*xe[1]+ne[2],-(ne[3]*xe[0]+ne[4]*xe[1]+ne[5])]:(xe[1]=-xe[1],xe)}function Y(q,$){var ne=q.project.invert,he=q.transform,xe=$;if(he&&(he=function(it){var pt=1/(it[0]*it[4]-it[1]*it[3]);return[pt*it[4],-pt*it[1],pt*(it[1]*it[5]-it[2]*it[4]),-pt*it[3],pt*it[0],pt*(it[2]*it[3]-it[0]*it[5])]}(he),xe=[he[0]*xe[0]+he[1]*xe[1]+he[2],he[3]*xe[0]+he[4]*xe[1]+he[5]]),ne&&q===function(it){return nt(it[0]*M,it[1]*M)}(Pe=ne(xe)))return Pe;for(var Pe,Fe=q.children,qe=0,Ze=Fe&&Fe.length;qe<Ze;++qe)if(Pe=Y(Fe[qe],$))return Pe}(function q($,ne){if($.edges=function(Et){for(var jt=Et.length,zt=[],Qt=Et[jt-1],Wt=0;Wt<jt;++Wt)zt.push([Qt,Qt=Et[Wt]]);return zt}($.face),ne.face){var he=$.shared=function(Et,jt){for(var zt,Qt,Wt=Et.length,Vt=null,gn=0;gn<Wt;++gn){zt=Et[gn];for(var xn=jt.length;--xn>=0;)if(Qt=jt[xn],zt[0]===Qt[0]&&zt[1]===Qt[1]){if(Vt)return[Vt,zt];Vt=zt}}}($.face,ne.face),xe=(Ze=he.map(ne.project),it=he.map($.project),pt=xl(Ze[1],Ze[0]),vt=xl(it[1],it[0]),Mt=function(Et,jt){return _(Et[0]*jt[1]-Et[1]*jt[0],Et[0]*jt[0]+Et[1]*jt[1])}(pt,vt),Ct=Zl(pt)/Zl(vt),Fs([1,0,Ze[0][0],0,1,Ze[0][1]],Fs([Ct,0,0,0,Ct,0],Fs([v(Mt),u(Mt),0,-u(Mt),v(Mt),0],[1,0,-it[0][0],0,1,-it[0][1]]))));$.transform=ne.transform?Fs(ne.transform,xe):xe;for(var Pe=ne.edges,Fe=0,qe=Pe.length;Fe<qe;++Fe)ka(he[0],Pe[Fe][1])&&ka(he[1],Pe[Fe][0])&&(Pe[Fe]=$),ka(he[0],Pe[Fe][0])&&ka(he[1],Pe[Fe][1])&&(Pe[Fe]=$);for(Fe=0,qe=(Pe=$.edges).length;Fe<qe;++Fe)ka(he[0],Pe[Fe][0])&&ka(he[1],Pe[Fe][1])&&(Pe[Fe]=ne),ka(he[0],Pe[Fe][1])&&ka(he[1],Pe[Fe][0])&&(Pe[Fe]=ne)}else $.transform=ne.transform;var Ze,it,pt,vt,Mt,Ct;return $.children&&$.children.forEach(function(Et){q(Et,$)}),$})($e,{transform:null}),ko($e)&&(N.invert=function(q,$){var ne=Y($e,[q,-$]);return ne&&(ne[0]*=M,ne[1]*=M,ne)});var G=(0,k.c)(N),C=G.stream;return G.stream=function(q){var $=G.rotate(),ne=C(q),he=(G.rotate([0,0]),C(q));return G.rotate($),ne.sphere=function(){he.polygonStart(),he.lineStart(),hs(he,$e),he.lineEnd(),he.polygonEnd()},ne},G.angle(ft==null?-30:ft*S)}function hs($e,nt,ft){var N,Y,G=nt.edges,C=G.length,q={type:"MultiPoint",coordinates:nt.face},$=nt.face.filter(function(Ze){return w(Ze[1])!==90}),ne=(0,Qs.c)({type:"MultiPoint",coordinates:$}),he=!1,xe=-1,Pe=ne[1][0]-ne[0][0],Fe=Pe===180||Pe===360?[(ne[0][0]+ne[1][0])/2,(ne[0][1]+ne[1][1])/2]:(0,Ye.c)(q);if(ft)for(;++xe<C&&G[xe]!==ft;);++xe;for(var qe=0;qe<C;++qe)Y=G[(qe+xe)%C],Array.isArray(Y)?(he||($e.point((N=(0,Rs.c)(Y[0],Fe)(c))[0],N[1]),he=!0),$e.point((N=(0,Rs.c)(Y[1],Fe)(c))[0],N[1])):(he=!1,Y!==ft&&hs($e,Y,nt))}function ka($e,nt){return $e&&nt&&$e[0]===nt[0]&&$e[1]===nt[1]}function ko($e){return $e.project.invert||$e.children&&$e.children.some(ko)}var ui=e(53285),gi=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],io=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function($e){return $e.map(function(nt){return gi[nt]})});function $s($e){$e=$e||function(ft){var N=(0,Ye.c)({type:"MultiPoint",coordinates:ft});return(0,ui.c)().scale(1).translate([0,0]).rotate([-N[0],-N[1]])};var nt=io.map(function(ft){return{face:ft,project:$e(ft)}});return[-1,0,0,1,0,1,4,5].forEach(function(ft,N){var Y=nt[ft];Y&&(Y.children||(Y.children=[])).push(nt[N])}),vi(nt[0],function(ft,N){return nt[ft<-d/2?N<0?6:4:ft<0?N<0?2:0:ft<d/2?N<0?3:1:N<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var bl=2/O(3);function Xl($e,nt){var ft=At($e,nt);return[ft[0]*bl,ft[1]]}function _l($e){$e=$e||function(ft){var N=(0,Ye.c)({type:"MultiPoint",coordinates:ft});return(0,k.c)(Xl).translate([0,0]).scale(1).rotate(N[1]>0?[-N[0],0]:[180-N[0],180])};var nt=io.map(function(ft){return{face:ft,project:$e(ft)}});return[-1,0,0,1,0,1,4,5].forEach(function(ft,N){var Y=nt[ft];Y&&(Y.children||(Y.children=[])).push(nt[N])}),vi(nt[0],function(ft,N){return nt[ft<-d/2?N<0?6:4:ft<0?N<0?2:0:ft<d/2?N<0?3:1:N<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function wl($e){$e=$e||function(G){var C=G.length===6?(0,Ye.c)({type:"MultiPoint",coordinates:G}):G[0];return(0,ui.c)().scale(1).translate([0,0]).rotate([-C[0],-C[1]])};var nt=io.map(function(G){for(var C,q=G.map(ds),$=q.length,ne=q[$-1],he=[],xe=0;xe<$;++xe)C=q[xe],he.push(ps([.9486832980505138*ne[0]+.31622776601683794*C[0],.9486832980505138*ne[1]+.31622776601683794*C[1],.9486832980505138*ne[2]+.31622776601683794*C[2]]),ps([.9486832980505138*C[0]+.31622776601683794*ne[0],.9486832980505138*C[1]+.31622776601683794*ne[1],.9486832980505138*C[2]+.31622776601683794*ne[2]])),ne=C;return he}),ft=[],N=[-1,0,0,1,0,1,4,5];nt.forEach(function(G,C){for(var q,$,ne=io[C],he=ne.length,xe=ft[C]=[],Pe=0;Pe<he;++Pe)nt.push([ne[Pe],G[(2*Pe+2)%(2*he)],G[(2*Pe+1)%(2*he)]]),N.push(C),xe.push((q=ds(G[(2*Pe+2)%(2*he)]),$=ds(G[(2*Pe+1)%(2*he)]),[q[1]*$[2]-q[2]*$[1],q[2]*$[0]-q[0]*$[2],q[0]*$[1]-q[1]*$[0]]))});var Y=nt.map(function(G){return{project:$e(G),face:G}});return N.forEach(function(G,C){var q=Y[G];q&&(q.children||(q.children=[])).push(Y[C])}),vi(Y[0],function(G,C){var q=v(C),$=[q*v(G),q*u(G),u(C)],ne=G<-d/2?C<0?6:4:G<0?C<0?2:0:G<d/2?C<0?3:1:C<0?7:5,he=ft[ne];return Y[co(he[0],$)<0?8+3*ne:co(he[1],$)<0?8+3*ne+1:co(he[2],$)<0?8+3*ne+2:ne]}).angle(-30).scale(110.625).center([0,45])}function co($e,nt){for(var ft=0,N=$e.length,Y=0;ft<N;++ft)Y+=$e[ft]*nt[ft];return Y}function ps($e){return[_($e[1],$e[0])*S,E(a(-1,n(1,$e[2])))*S]}function ds($e){var nt=$e[0]*M,ft=$e[1]*M,N=v(ft);return[N*v(nt),N*u(nt),u(ft)]}function Ca(){}function Tl($e,nt){var ft,N=nt.stream;if(!N)throw new Error("invalid projection");switch($e&&$e.type){case"Feature":ft=fa;break;case"FeatureCollection":ft=fo;break;default:ft=va}return ft($e,N)}function fo($e,nt){return{type:"FeatureCollection",features:$e.features.map(function(ft){return fa(ft,nt)})}}function fa($e,nt){return{type:"Feature",id:$e.id,properties:$e.properties,geometry:va($e.geometry,nt)}}function va($e,nt){if(!$e)return null;if($e.type==="GeometryCollection")return function(N,Y){return{type:"GeometryCollection",geometries:N.geometries.map(function(G){return va(G,Y)})}}($e,nt);var ft;switch($e.type){case"Point":case"MultiPoint":ft=Fo;break;case"LineString":case"MultiLineString":ft=Bs;break;case"Polygon":case"MultiPolygon":case"Sphere":ft=Mo;break;default:return null}return(0,fn.c)($e,nt(ft)),ft.result()}Xl.invert=function($e,nt){return At.invert($e/bl,nt)};var Mi=[],ma=[],Fo={point:function($e,nt){Mi.push([$e,nt])},result:function(){var $e=Mi.length?Mi.length<2?{type:"Point",coordinates:Mi[0]}:{type:"MultiPoint",coordinates:Mi}:null;return Mi=[],$e}},Bs={lineStart:Ca,point:function($e,nt){Mi.push([$e,nt])},lineEnd:function(){Mi.length&&(ma.push(Mi),Mi=[])},result:function(){var $e=ma.length?ma.length<2?{type:"LineString",coordinates:ma[0]}:{type:"MultiLineString",coordinates:ma}:null;return ma=[],$e}},Mo={polygonStart:Ca,lineStart:Ca,point:function($e,nt){Mi.push([$e,nt])},lineEnd:function(){var $e=Mi.length;if($e){do Mi.push(Mi[0].slice());while(++$e<4);ma.push(Mi),Mi=[]}},polygonEnd:Ca,result:function(){if(!ma.length)return null;var $e=[],nt=[];return ma.forEach(function(ft){(function(N){if((Y=N.length)<4)return!1;for(var Y,G=0,C=N[Y-1][1]*N[0][0]-N[Y-1][0]*N[0][1];++G<Y;)C+=N[G-1][1]*N[G][0]-N[G-1][0]*N[G][1];return C<=0})(ft)?$e.push([ft]):nt.push(ft)}),nt.forEach(function(ft){var N=ft[0];$e.some(function(Y){if(function(G,C){for(var q=C[0],$=C[1],ne=!1,he=0,xe=G.length,Pe=xe-1;he<xe;Pe=he++){var Fe=G[he],qe=Fe[0],Ze=Fe[1],it=G[Pe],pt=it[0],vt=it[1];Ze>$^vt>$&&q<(pt-qe)*($-Ze)/(vt-Ze)+qe&&(ne=!ne)}return ne}(Y[0],N))return Y.push(ft),!0})||$e.push([ft])}),ma=[],$e.length?$e.length>1?{type:"MultiPolygon",coordinates:$e}:{type:"Polygon",coordinates:$e[0]}:null}};function gs($e){var nt=$e(g,0)[0]-$e(-g,0)[0];function ft(N,Y){var G=w(N)<g,C=$e(G?N:N>0?N-d:N+d,Y),q=(C[0]-C[1])*y,$=(C[0]+C[1])*y;if(G)return[q,$];var ne=nt*y,he=q>0^$>0?-1:1;return[he*q-o($)*ne,he*$-o(q)*ne]}return $e.invert&&(ft.invert=function(N,Y){var G=(N+Y)*y,C=(Y-N)*y,q=w(G)<.5*nt&&w(C)<.5*nt;if(!q){var $=nt*y,ne=G>0^C>0?-1:1,he=-ne*N+(C>0?1:-1)*$,xe=-ne*Y+(G>0?1:-1)*$;G=(-he-xe)*y,C=(he-xe)*y}var Pe=$e.invert(G,C);return q||(Pe[0]+=G>0?d:-d),Pe}),(0,k.c)(ft).rotate([-90,-90,45]).clipAngle(179.999)}function ja(){return gs(Fn).scale(176.423)}function Ns(){return gs(mn).scale(111.48)}function Ko($e,nt){if(!(0<=(nt=+nt)&&nt<=20))throw new Error("invalid digits");function ft(ne){var he=ne.length,xe=2,Pe=new Array(he);for(Pe[0]=+ne[0].toFixed(nt),Pe[1]=+ne[1].toFixed(nt);xe<he;)Pe[xe]=ne[xe],++xe;return Pe}function N(ne){return ne.map(ft)}function Y(ne){for(var he=ft(ne[0]),xe=[he],Pe=1;Pe<ne.length;Pe++){var Fe=ft(ne[Pe]);(Fe.length>2||Fe[0]!=he[0]||Fe[1]!=he[1])&&(xe.push(Fe),he=Fe)}return xe.length===1&&ne.length>1&&xe.push(ft(ne[ne.length-1])),xe}function G(ne){return ne.map(Y)}function C(ne){if(ne==null)return ne;var he;switch(ne.type){case"GeometryCollection":he={type:"GeometryCollection",geometries:ne.geometries.map(C)};break;case"Point":he={type:"Point",coordinates:ft(ne.coordinates)};break;case"MultiPoint":he={type:ne.type,coordinates:N(ne.coordinates)};break;case"LineString":he={type:ne.type,coordinates:Y(ne.coordinates)};break;case"MultiLineString":case"Polygon":he={type:ne.type,coordinates:G(ne.coordinates)};break;case"MultiPolygon":he={type:"MultiPolygon",coordinates:ne.coordinates.map(G)};break;default:return ne}return ne.bbox!=null&&(he.bbox=ne.bbox),he}function q(ne){var he={type:"Feature",properties:ne.properties,geometry:C(ne.geometry)};return ne.id!=null&&(he.id=ne.id),ne.bbox!=null&&(he.bbox=ne.bbox),he}if($e!=null)switch($e.type){case"Feature":return q($e);case"FeatureCollection":var $={type:"FeatureCollection",features:$e.features.map(q)};return $e.bbox!=null&&($.bbox=$e.bbox),$;default:return C($e)}return $e}function ho($e){var nt=u($e);function ft(N,Y){var G=nt?h(N*nt/2)/nt:N/2;if(!Y)return[2*G,-$e];var C=2*r(G*u(Y)),q=1/h(Y);return[u(C)*q,Y+(1-v(C))*q-$e]}return ft.invert=function(N,Y){if(w(Y+=$e)<c)return[nt?2*r(nt*N/2)/nt:N,0];var G,C=N*N+Y*Y,q=0,$=10;do{var ne=h(q),he=1/v(q),xe=C-2*Y*q+q*q;q-=G=(ne*xe+2*(q-Y))/(2+xe*he*he+2*(q-Y)*ne)}while(w(G)>c&&--$>0);var Pe=N*(ne=h(q)),Fe=h(w(Y)<w(q+1/ne)?.5*E(Pe):.5*P(Pe)+d/4)/u(q);return[nt?2*r(nt*Fe)/nt:2*Fe,q]},ft}function po(){return Oe(ho).scale(131.215)}var Si=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function Ao($e,nt){var ft,N=n(18,36*w(nt)/d),Y=s(N),G=N-Y,C=(ft=Si[Y])[0],q=ft[1],$=(ft=Si[++Y])[0],ne=ft[1],he=(ft=Si[n(19,++Y)])[0],xe=ft[1];return[$e*($+G*(he-C)/2+G*G*(he-2*$+C)/2),(nt>0?g:-g)*(ne+G*(xe-q)/2+G*G*(xe-2*ne+q)/2)]}function Ir(){return(0,k.c)(Ao).scale(152.63)}function kl($e,nt){var ft=function(C){function q($,ne){var he=v(ne),xe=(C-1)/(C-he*v($));return[xe*he*u($),xe*u(ne)]}return q.invert=function($,ne){var he=$*$+ne*ne,xe=O(he),Pe=(C-O(1-he*(C+1)/(C-1)))/((C-1)/xe+xe/(C-1));return[_($*Pe,xe*O(1-Pe*Pe)),xe?E(ne*Pe/xe):0]},q}($e);if(!nt)return ft;var N=v(nt),Y=u(nt);function G(C,q){var $=ft(C,q),ne=$[1],he=ne*Y/($e-1)+N;return[$[0]*N/he,ne/he]}return G.invert=function(C,q){var $=($e-1)/($e-1-q*Y);return ft.invert($*C,$*q*N)},G}function uu(){var $e=2,nt=0,ft=(0,k.U)(kl),N=ft($e,nt);return N.distance=function(Y){return arguments.length?ft($e=+Y,nt):$e},N.tilt=function(Y){return arguments.length?ft($e,nt=Y*M):nt*S},N.scale(432.147).clipAngle(P(1/$e)*S-1e-6)}Si.forEach(function($e){$e[1]*=1.0144}),Ao.invert=function($e,nt){var ft=nt/g,N=90*ft,Y=n(18,w(N/5)),G=a(0,s(Y));do{var C=Si[G][1],q=Si[G+1][1],$=Si[n(19,G+2)][1],ne=$-C,he=$-2*q+C,xe=2*(w(ft)-q)/ne,Pe=he/ne,Fe=xe*(1-Pe*xe*(1-2*Pe*xe));if(Fe>=0||G===1){N=(nt>=0?5:-5)*(Fe+Y);var qe,Ze=50;do Fe=(Y=n(18,w(N)/5))-(G=s(Y)),C=Si[G][1],q=Si[G+1][1],$=Si[n(19,G+2)][1],N-=(qe=(nt>=0?g:-g)*(q+Fe*($-C)/2+Fe*Fe*($-2*q+C)/2)-nt)*S;while(w(qe)>b&&--Ze>0);break}}while(--G>=0);var it=Si[G][0],pt=Si[G+1][0],vt=Si[n(19,G+2)][0];return[$e/(pt+Fe*(vt-it)/2+Fe*Fe*(vt-2*pt+it)/2),N*M]};var vs=1e-4,ms=1e4,js=-180,el=js+vs,Tr=180,Ml=Tr-vs,Qo=-90,ha=Qo+vs,ys=90,So=ys-vs;function go($e){return $e.length>0}function Oa($e){return $e===Qo||$e===ys?[0,$e]:[js,(nt=$e,Math.floor(nt*ms)/ms)];var nt}function Bo($e){var nt=$e[0],ft=$e[1],N=!1;return nt<=el?(nt=js,N=!0):nt>=Ml&&(nt=Tr,N=!0),ft<=ha?(ft=Qo,N=!0):ft>=So&&(ft=ys,N=!0),N?[nt,ft]:$e}function vo($e){return $e.map(Bo)}function $o($e,nt,ft){for(var N=0,Y=$e.length;N<Y;++N){var G=$e[N].slice();ft.push({index:-1,polygon:nt,ring:G});for(var C=0,q=G.length;C<q;++C){var $=G[C],ne=$[0],he=$[1];if(ne<=el||ne>=Ml||he<=ha||he>=So){G[C]=Bo($);for(var xe=C+1;xe<q;++xe){var Pe=G[xe],Fe=Pe[0],qe=Pe[1];if(Fe>el&&Fe<Ml&&qe>ha&&qe<So)break}if(xe===C+1)continue;if(C){var Ze={index:-1,polygon:nt,ring:G.slice(0,C+1)};Ze.ring[Ze.ring.length-1]=Oa(he),ft[ft.length-1]=Ze}else ft.pop();if(xe>=q)break;ft.push({index:-1,polygon:nt,ring:G=G.slice(xe-1)}),G[0]=Oa(G[0][1]),C=-1,q=G.length}}}}function Al($e){var nt,ft,N,Y,G,C,q=$e.length,$={},ne={};for(nt=0;nt<q;++nt)N=(ft=$e[nt]).ring[0],G=ft.ring[ft.ring.length-1],N[0]!==G[0]||N[1]!==G[1]?(ft.index=nt,$[N]=ne[G]=ft):(ft.polygon.push(ft.ring),$e[nt]=null);for(nt=0;nt<q;++nt)if(ft=$e[nt]){if(N=ft.ring[0],G=ft.ring[ft.ring.length-1],Y=ne[N],C=$[G],delete $[N],delete ne[G],N[0]===G[0]&&N[1]===G[1]){ft.polygon.push(ft.ring);continue}Y?(delete ne[N],delete $[Y.ring[0]],Y.ring.pop(),$e[Y.index]=null,ft={index:-1,polygon:Y.polygon,ring:Y.ring.concat(ft.ring)},Y===C?ft.polygon.push(ft.ring):(ft.index=q++,$e.push($[ft.ring[0]]=ne[ft.ring[ft.ring.length-1]]=ft))):C?(delete $[G],delete ne[C.ring[C.ring.length-1]],ft.ring.pop(),ft={index:q++,polygon:C.polygon,ring:ft.ring.concat(C.ring)},$e[C.index]=null,$e.push($[ft.ring[0]]=ne[ft.ring[ft.ring.length-1]]=ft)):(ft.ring.push(ft.ring[0]),ft.polygon.push(ft.ring))}}function xs($e){var nt={type:"Feature",geometry:oi($e.geometry)};return $e.id!=null&&(nt.id=$e.id),$e.bbox!=null&&(nt.bbox=$e.bbox),$e.properties!=null&&(nt.properties=$e.properties),nt}function oi($e){if($e==null)return $e;var nt,ft,N,Y;switch($e.type){case"GeometryCollection":nt={type:"GeometryCollection",geometries:$e.geometries.map(oi)};break;case"Point":nt={type:"Point",coordinates:Bo($e.coordinates)};break;case"MultiPoint":case"LineString":nt={type:$e.type,coordinates:vo($e.coordinates)};break;case"MultiLineString":nt={type:"MultiLineString",coordinates:$e.coordinates.map(vo)};break;case"Polygon":var G=[];$o($e.coordinates,G,ft=[]),Al(ft),nt={type:"Polygon",coordinates:G};break;case"MultiPolygon":ft=[],N=-1,Y=$e.coordinates.length;for(var C=new Array(Y);++N<Y;)$o($e.coordinates[N],C[N]=[],ft);Al(ft),nt={type:"MultiPolygon",coordinates:C.filter(go)};break;default:return $e}return $e.bbox!=null&&(nt.bbox=$e.bbox),nt}function ya($e){if($e==null)return $e;switch($e.type){case"Feature":return xs($e);case"FeatureCollection":var nt={type:"FeatureCollection",features:$e.features.map(xs)};return $e.bbox!=null&&(nt.bbox=$e.bbox),nt;default:return oi($e)}}function Ua($e,nt){var ft=h(nt/2),N=u(m*ft);return[$e*(.74482-.34588*N*N),1.70711*ft]}function No(){return(0,k.c)(Ua).scale(146.153)}function Va($e,nt,ft){var N=(0,Rs.c)(nt,ft),Y=N(.5),G=(0,et.c)([-Y[0],-Y[1]])(nt),C=N.distance/2,q=-E(u(G[1]*M)/u(C)),$=[-Y[0],-Y[1],-(G[0]>0?d-q:q)*S],ne=(0,k.c)($e(C)).rotate($),he=(0,et.c)($),xe=ne.center;return delete ne.rotate,ne.center=function(Pe){return arguments.length?xe(he(Pe)):he.invert(xe())},ne.clipAngle(90)}function tl($e){var nt=v($e);function ft(N,Y){var G=(0,ui.Y)(N,Y);return G[0]*=nt,G}return ft.invert=function(N,Y){return ui.Y.invert(N/nt,Y)},ft}function nl(){return Ha([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Ha($e,nt){return Va(tl,$e,nt)}function ii($e){if(!($e*=2))return ee.O;var nt=-$e/2,ft=-nt,N=$e*$e,Y=h(ft),G=.5/u(ft);function C(q,$){var ne=P(v($)*v(q-nt)),he=P(v($)*v(q-ft));return[((ne*=ne)-(he*=he))/(2*$e),($<0?-1:1)*O(4*N*he-(N-ne+he)*(N-ne+he))/(2*$e)]}return C.invert=function(q,$){var ne,he,xe=$*$,Pe=v(O(xe+(ne=q+nt)*ne)),Fe=v(O(xe+(ne=q+ft)*ne));return[_(he=Pe-Fe,ne=(Pe+Fe)*Y),($<0?-1:1)*P(O(ne*ne+he*he)*G)]},C}function jo(){return Us([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Us($e,nt){return Va(ii,$e,nt)}function Eo($e,nt){if(w(nt)<c)return[$e,0];var ft=w(nt/g),N=E(ft);if(w($e)<c||w(w(nt)-g)<c)return[0,o(nt)*d*h(N/2)];var Y=v(N),G=w(d/$e-$e/d)/2,C=G*G,q=Y/(ft+Y-1),$=q*(2/ft-1),ne=$*$,he=ne+C,xe=q-ne,Pe=C+q;return[o($e)*d*(G*xe+O(C*xe*xe-he*(q*q-ne)))/he,o(nt)*d*($*Pe-G*O((C+1)*he-Pe*Pe))/he]}function rl(){return(0,k.c)(Eo).scale(79.4183)}function il($e,nt){if(w(nt)<c)return[$e,0];var ft=w(nt/g),N=E(ft);if(w($e)<c||w(w(nt)-g)<c)return[0,o(nt)*d*h(N/2)];var Y=v(N),G=w(d/$e-$e/d)/2,C=G*G,q=Y*(O(1+C)-G*Y)/(1+C*ft*ft);return[o($e)*d*q,o(nt)*d*O(1-q*(2*G+q))]}function Lo(){return(0,k.c)(il).scale(79.4183)}function Ei($e,nt){if(w(nt)<c)return[$e,0];var ft=nt/g,N=E(ft);if(w($e)<c||w(w(nt)-g)<c)return[0,d*h(N/2)];var Y=(d/$e-$e/d)/2,G=ft/(1+v(N));return[d*(o($e)*O(Y*Y+1-G*G)-Y),d*G]}function Vs(){return(0,k.c)(Ei).scale(79.4183)}function zr($e,nt){if(!nt)return[$e,0];var ft=w(nt);if(!$e||ft===g)return[0,nt];var N=ft/g,Y=N*N,G=(8*N-Y*(Y+2)-5)/(2*Y*(N-1)),C=G*G,q=N*G,$=Y+C+2*q,ne=N+3*G,he=$e/g,xe=he+1/he,Pe=o(w($e)-g)*O(xe*xe-4),Fe=Pe*Pe,qe=(Pe*($+C-1)+2*O($*(Y+C*Fe-1)+(1-Y)*(Y*(ne*ne+4*C)+12*q*C+4*C*C)))/(4*$+Fe);return[o($e)*g*qe,o(nt)*g*O(1+Pe*w(qe)-qe*qe)]}function Hr(){return(0,k.c)(zr).scale(127.16)}function ao($e,nt,ft,N){var Y=d/3;$e=a($e,c),nt=a(nt,c),$e=n($e,g),nt=n(nt,d-c),ft=a(ft,0),ft=n(ft,100-c);var G=(N=a(N,c))/100,C=P((ft/100+1)*v(Y))/Y,q=u($e)/u(C*g),$=nt/d,ne=O(G*u($e/2)/u(nt/2));return function(he,xe,Pe,Fe,qe){function Ze(it,pt){var vt=Pe*u(Fe*pt),Mt=O(1-vt*vt),Ct=O(2/(1+Mt*v(it*=qe)));return[he*Mt*Ct*u(it),xe*vt*Ct]}return Ze.invert=function(it,pt){var vt=it/he,Mt=pt/xe,Ct=O(vt*vt+Mt*Mt),Et=2*E(Ct/2);return[_(it*h(Et),he*Ct)/qe,Ct&&E(pt*u(Et)/(xe*Pe*Ct))/Fe]},Ze}(ne/O($*q*C),1/(ne*O($*q*C)),q,C,$)}function Uo(){var $e=65*M,nt=60*M,ft=20,N=200,Y=(0,k.U)(ao),G=Y($e,nt,ft,N);return G.poleline=function(C){return arguments.length?Y($e=+C*M,nt,ft,N):$e*S},G.parallels=function(C){return arguments.length?Y($e,nt=+C*M,ft,N):nt*S},G.inflation=function(C){return arguments.length?Y($e,nt,ft=+C,N):ft},G.ratio=function(C){return arguments.length?Y($e,nt,ft,N=+C):N},G.scale(163.775)}function es(){return Uo().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}Ua.invert=function($e,nt){var ft=nt/1.70711,N=u(m*ft);return[$e/(.74482-.34588*N*N),2*r(ft)]},Eo.invert=function($e,nt){if(w(nt)<c)return[$e,0];if(w($e)<c)return[0,g*u(2*r(nt/d))];var ft=($e/=d)*$e,N=(nt/=d)*nt,Y=ft+N,G=Y*Y,C=-w(nt)*(1+Y),q=C-2*N+ft,$=-2*C+1+2*N+G,ne=N/$+(2*q*q*q/($*$*$)-9*C*q/($*$))/27,he=(C-q*q/(3*$))/$,xe=2*O(-he/3),Pe=P(3*ne/(he*xe))/3;return[d*(Y-1+O(1+2*(ft-N)+G))/(2*$e),o(nt)*d*(-xe*v(Pe+d/3)-q/(3*$))]},il.invert=function($e,nt){if(!$e)return[0,g*u(2*r(nt/d))];var ft=w($e/d),N=(1-ft*ft-(nt/=d)*nt)/(2*ft),Y=O(N*N+1);return[o($e)*d*(Y-N),o(nt)*g*u(2*_(O((1-2*N*ft)*(N+Y)-ft),O(Y+N+ft)))]},Ei.invert=function($e,nt){if(!nt)return[$e,0];var ft=nt/d,N=(d*d*(1-ft*ft)-$e*$e)/(2*d*$e);return[$e?d*(o($e)*O(N*N+1)-N):0,g*u(2*r(ft))]},zr.invert=function($e,nt){var ft;if(!$e||!nt)return[$e,nt];nt/=d;var N=o($e)*$e/g,Y=(N*N-1+4*nt*nt)/w(N),G=Y*Y,C=2*nt,q=50;do{var $=C*C,ne=(8*C-$*($+2)-5)/(2*$*(C-1)),he=(3*C-$*C-10)/(2*$*C),xe=ne*ne,Pe=C*ne,Fe=C+ne,qe=Fe*Fe,Ze=C+3*ne,it=-2*Fe*(4*Pe*xe+(1-4*$+3*$*$)*(1+he)+xe*(14*$-6-G+(8*$-8-2*G)*he)+Pe*(12*$-8+(10*$-10-G)*he)),pt=O(qe*($+xe*G-1)+(1-$)*($*(Ze*Ze+4*xe)+xe*(12*Pe+4*xe)));C-=ft=(Y*(qe+xe-1)+2*pt-N*(4*qe+G))/(Y*(2*ne*he+2*Fe*(1+he))+it/pt-8*Fe*(Y*(-1+xe+qe)+2*pt)*(1+he)/(G+4*qe))}while(ft>c&&--q>0);return[o($e)*(O(Y*Y+4)+Y)*d/4,g*C]};var na=4*d+3*O(3),Vo=2*O(2*d*O(3)/na),mi=ke(Vo*O(3)/d,Vo,na/6);function Du(){return(0,k.c)(mi).scale(176.84)}function oo($e,nt){return[$e*O(1-3*nt*nt/(d*d)),nt]}function _i(){return(0,k.c)(oo).scale(152.63)}function zi($e,nt){var ft=v(nt),N=v($e)*ft,Y=1-N,G=v($e=_(u($e)*ft,-u(nt))),C=u($e);return[C*(ft=O(1-N*N))-G*Y,-G*ft-C*Y]}function Ka(){return(0,k.c)(zi).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function bs($e,nt){var ft=j($e,nt);return[(ft[0]+$e/g)/2,(ft[1]+nt)/2]}function cu(){return(0,k.c)(bs).scale(158.837)}oo.invert=function($e,nt){return[$e/O(1-3*nt*nt/(d*d)),nt]},zi.invert=function($e,nt){var ft=($e*$e+nt*nt)/-2,N=O(-ft*(2+ft)),Y=nt*ft+$e*N,G=$e*ft-nt*N,C=O(G*G+Y*Y);return[_(N*Y,C*(1+ft)),C?-E(N*G/C):0]},bs.invert=function($e,nt){var ft=$e,N=nt,Y=25;do{var G,C=v(N),q=u(N),$=u(2*N),ne=q*q,he=C*C,xe=u(ft),Pe=v(ft/2),Fe=u(ft/2),qe=Fe*Fe,Ze=1-he*Pe*Pe,it=Ze?P(C*Pe)*O(G=1/Ze):G=0,pt=.5*(2*it*C*Fe+ft/g)-$e,vt=.5*(it*q+N)-nt,Mt=.5*G*(he*qe+it*C*Pe*ne)+.5/g,Ct=G*(xe*$/4-it*q*Fe),Et=.125*G*($*Fe-it*q*he*xe),jt=.5*G*(ne*Pe+it*qe*C)+.5,zt=Ct*Et-jt*Mt,Qt=(vt*Ct-pt*jt)/zt,Wt=(pt*Et-vt*Mt)/zt;ft-=Qt,N-=Wt}while((w(Qt)>c||w(Wt)>c)&&--Y>0);return[ft,N]}},88728:function(B,L,e){function k(){return new w}function w(){this.reset()}e.d(L,{c:function(){return k}}),w.prototype={constructor:w,reset:function(){this.s=this.t=0},add:function(v){_(r,v,this.t),_(this,r.s,this.s),this.s?this.t+=r.t:this.s=r.t},valueOf:function(){return this.s}};var r=new w;function _(v,f,s){var t=v.s=f+s,a=t-f,n=t-a;v.t=f-n+(s-a)}},95384:function(B,L,e){e.d(L,{cp:function(){return b},mQ:function(){return n},oB:function(){return l}});var k,w,r,_,v,f=e(88728),s=e(64528),t=e(70932),a=e(16016),n=(0,f.c)(),i=(0,f.c)(),l={point:t.c,lineStart:t.c,lineEnd:t.c,polygonStart:function(){n.reset(),l.lineStart=o,l.lineEnd=u},polygonEnd:function(){var d=+n;i.add(d<0?s.kD+d:d),this.lineStart=this.lineEnd=this.point=t.c},sphere:function(){i.add(s.kD)}};function o(){l.point=h}function u(){c(k,w)}function h(d,g){l.point=c,k=d,w=g,d*=s.qw,g*=s.qw,r=d,_=(0,s.W8)(g=g/2+s.wL),v=(0,s.g$)(g)}function c(d,g){d*=s.qw,g=(g*=s.qw)/2+s.wL;var m=d-r,y=m>=0?1:-1,x=y*m,T=(0,s.W8)(g),p=(0,s.g$)(g),S=v*p,M=_*T+S*(0,s.W8)(x),E=S*y*(0,s.g$)(x);n.add((0,s.WE)(E,M)),r=d,_=T,v=p}function b(d){return i.reset(),(0,a.c)(d,l),2*i}},13696:function(B,L,e){e.d(L,{c:function(){return P}});var k,w,r,_,v,f,s,t,a,n,i=e(88728),l=e(95384),o=e(84220),u=e(64528),h=e(16016),c=(0,i.c)(),b={point:d,lineStart:m,lineEnd:y,polygonStart:function(){b.point=x,b.lineStart=T,b.lineEnd=p,c.reset(),l.oB.polygonStart()},polygonEnd:function(){l.oB.polygonEnd(),b.point=d,b.lineStart=m,b.lineEnd=y,l.mQ<0?(k=-(r=180),w=-(_=90)):c>u.Gg?_=90:c<-u.Gg&&(w=-90),n[0]=k,n[1]=r},sphere:function(){k=-(r=180),w=-(_=90)}};function d(O,I){a.push(n=[k=O,r=O]),I<w&&(w=I),I>_&&(_=I)}function g(O,I){var R=(0,o.ux)([O*u.qw,I*u.qw]);if(t){var U=(0,o.CW)(t,R),z=[U[1],-U[0],0],j=(0,o.CW)(z,U);(0,o.cJ)(j),j=(0,o.G)(j);var W,F=O-v,V=F>0?1:-1,H=j[0]*u.oh*V,te=(0,u.a2)(F)>180;te^(V*v<H&&H<V*O)?(W=j[1]*u.oh)>_&&(_=W):te^(V*v<(H=(H+360)%360-180)&&H<V*O)?(W=-j[1]*u.oh)<w&&(w=W):(I<w&&(w=I),I>_&&(_=I)),te?O<v?S(k,O)>S(k,r)&&(r=O):S(O,r)>S(k,r)&&(k=O):r>=k?(O<k&&(k=O),O>r&&(r=O)):O>v?S(k,O)>S(k,r)&&(r=O):S(O,r)>S(k,r)&&(k=O)}else a.push(n=[k=O,r=O]);I<w&&(w=I),I>_&&(_=I),t=R,v=O}function m(){b.point=g}function y(){n[0]=k,n[1]=r,b.point=d,t=null}function x(O,I){if(t){var R=O-v;c.add((0,u.a2)(R)>180?R+(R>0?360:-360):R)}else f=O,s=I;l.oB.point(O,I),g(O,I)}function T(){l.oB.lineStart()}function p(){x(f,s),l.oB.lineEnd(),(0,u.a2)(c)>u.Gg&&(k=-(r=180)),n[0]=k,n[1]=r,t=null}function S(O,I){return(I-=O)<0?I+360:I}function M(O,I){return O[0]-I[0]}function E(O,I){return O[0]<=O[1]?O[0]<=I&&I<=O[1]:I<O[0]||O[1]<I}function P(O){var I,R,U,z,j,W,F;if(_=r=-(k=w=1/0),a=[],(0,h.c)(O,b),R=a.length){for(a.sort(M),I=1,j=[U=a[0]];I<R;++I)E(U,(z=a[I])[0])||E(U,z[1])?(S(U[0],z[1])>S(U[0],U[1])&&(U[1]=z[1]),S(z[0],U[1])>S(U[0],U[1])&&(U[0]=z[0])):j.push(U=z);for(W=-1/0,I=0,U=j[R=j.length-1];I<=R;U=z,++I)z=j[I],(F=S(U[1],z[0]))>W&&(W=F,k=z[0],r=U[1])}return a=n=null,k===1/0||w===1/0?[[NaN,NaN],[NaN,NaN]]:[[k,w],[r,_]]}},84220:function(B,L,e){e.d(L,{CW:function(){return v},Ez:function(){return _},G:function(){return w},cJ:function(){return t},mg:function(){return f},ux:function(){return r},wx:function(){return s}});var k=e(64528);function w(a){return[(0,k.WE)(a[1],a[0]),(0,k.qR)(a[2])]}function r(a){var n=a[0],i=a[1],l=(0,k.W8)(i);return[l*(0,k.W8)(n),l*(0,k.g$)(n),(0,k.g$)(i)]}function _(a,n){return a[0]*n[0]+a[1]*n[1]+a[2]*n[2]}function v(a,n){return[a[1]*n[2]-a[2]*n[1],a[2]*n[0]-a[0]*n[2],a[0]*n[1]-a[1]*n[0]]}function f(a,n){a[0]+=n[0],a[1]+=n[1],a[2]+=n[2]}function s(a,n){return[a[0]*n,a[1]*n,a[2]*n]}function t(a){var n=(0,k._I)(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=n,a[1]/=n,a[2]/=n}},24052:function(B,L,e){e.d(L,{c:function(){return R}});var k,w,r,_,v,f,s,t,a,n,i,l,o,u,h,c,b=e(64528),d=e(70932),g=e(16016),m={sphere:d.c,point:y,lineStart:T,lineEnd:M,polygonStart:function(){m.lineStart=E,m.lineEnd=P},polygonEnd:function(){m.lineStart=T,m.lineEnd=M}};function y(U,z){U*=b.qw,z*=b.qw;var j=(0,b.W8)(z);x(j*(0,b.W8)(U),j*(0,b.g$)(U),(0,b.g$)(z))}function x(U,z,j){++k,r+=(U-r)/k,_+=(z-_)/k,v+=(j-v)/k}function T(){m.point=p}function p(U,z){U*=b.qw,z*=b.qw;var j=(0,b.W8)(z);u=j*(0,b.W8)(U),h=j*(0,b.g$)(U),c=(0,b.g$)(z),m.point=S,x(u,h,c)}function S(U,z){U*=b.qw,z*=b.qw;var j=(0,b.W8)(z),W=j*(0,b.W8)(U),F=j*(0,b.g$)(U),V=(0,b.g$)(z),H=(0,b.WE)((0,b._I)((H=h*V-c*F)*H+(H=c*W-u*V)*H+(H=u*F-h*W)*H),u*W+h*F+c*V);w+=H,f+=H*(u+(u=W)),s+=H*(h+(h=F)),t+=H*(c+(c=V)),x(u,h,c)}function M(){m.point=y}function E(){m.point=O}function P(){I(l,o),m.point=y}function O(U,z){l=U,o=z,U*=b.qw,z*=b.qw,m.point=I;var j=(0,b.W8)(z);u=j*(0,b.W8)(U),h=j*(0,b.g$)(U),c=(0,b.g$)(z),x(u,h,c)}function I(U,z){U*=b.qw,z*=b.qw;var j=(0,b.W8)(z),W=j*(0,b.W8)(U),F=j*(0,b.g$)(U),V=(0,b.g$)(z),H=h*V-c*F,te=c*W-u*V,Q=u*F-h*W,K=(0,b._I)(H*H+te*te+Q*Q),X=(0,b.qR)(K),J=K&&-X/K;a+=J*H,n+=J*te,i+=J*Q,w+=X,f+=X*(u+(u=W)),s+=X*(h+(h=F)),t+=X*(c+(c=V)),x(u,h,c)}function R(U){k=w=r=_=v=f=s=t=a=n=i=0,(0,g.c)(U,m);var z=a,j=n,W=i,F=z*z+j*j+W*W;return F<b.a8&&(z=f,j=s,W=t,w<b.Gg&&(z=r,j=_,W=v),(F=z*z+j*j+W*W)<b.a8)?[NaN,NaN]:[(0,b.WE)(j,z)*b.oh,(0,b.qR)(W/(0,b._I)(F))*b.oh]}},61780:function(B,L,e){e.d(L,{Q:function(){return v},c:function(){return s}});var k=e(84220);function w(t){return function(){return t}}var r=e(64528),_=e(92992);function v(t,a,n,i,l,o){if(n){var u=(0,r.W8)(a),h=(0,r.g$)(a),c=i*n;l==null?(l=a+i*r.kD,o=a-c/2):(l=f(u,l),o=f(u,o),(i>0?l<o:l>o)&&(l+=i*r.kD));for(var b,d=l;i>0?d>o:d<o;d-=c)b=(0,k.G)([u,-h*(0,r.W8)(d),-h*(0,r.g$)(d)]),t.point(b[0],b[1])}}function f(t,a){(a=(0,k.ux)(a))[0]-=t,(0,k.cJ)(a);var n=(0,r.mE)(-a[1]);return((-a[2]<0?-n:n)+r.kD-r.Gg)%r.kD}function s(){var t,a,n=w([0,0]),i=w(90),l=w(6),o={point:function(h,c){t.push(h=a(h,c)),h[0]*=r.oh,h[1]*=r.oh}};function u(){var h=n.apply(this,arguments),c=i.apply(this,arguments)*r.qw,b=l.apply(this,arguments)*r.qw;return t=[],a=(0,_.O)(-h[0]*r.qw,-h[1]*r.qw,0).invert,v(o,c,b,1),h={type:"Polygon",coordinates:[t]},t=a=null,h}return u.center=function(h){return arguments.length?(n=typeof h=="function"?h:w([+h[0],+h[1]]),u):n},u.radius=function(h){return arguments.length?(i=typeof h=="function"?h:w(+h),u):i},u.precision=function(h){return arguments.length?(l=typeof h=="function"?h:w(+h),u):l},u}},78284:function(B,L,e){var k=e(14229),w=e(64528);L.c=(0,k.c)(function(){return!0},function(r){var _,v=NaN,f=NaN,s=NaN;return{lineStart:function(){r.lineStart(),_=1},point:function(t,a){var n=t>0?w.pi:-w.pi,i=(0,w.a2)(t-v);(0,w.a2)(i-w.pi)<w.Gg?(r.point(v,f=(f+a)/2>0?w.or:-w.or),r.point(s,f),r.lineEnd(),r.lineStart(),r.point(n,f),r.point(t,f),_=0):s!==n&&i>=w.pi&&((0,w.a2)(v-s)<w.Gg&&(v-=s*w.Gg),(0,w.a2)(t-n)<w.Gg&&(t-=n*w.Gg),f=function(l,o,u,h){var c,b,d=(0,w.g$)(l-u);return(0,w.a2)(d)>w.Gg?(0,w.MQ)(((0,w.g$)(o)*(b=(0,w.W8)(h))*(0,w.g$)(u)-(0,w.g$)(h)*(c=(0,w.W8)(o))*(0,w.g$)(l))/(c*b*d)):(o+h)/2}(v,f,t,a),r.point(s,f),r.lineEnd(),r.lineStart(),r.point(n,f),_=0),r.point(v=t,f=a),s=n},lineEnd:function(){r.lineEnd(),v=f=NaN},clean:function(){return 2-_}}},function(r,_,v,f){var s;if(r==null)s=v*w.or,f.point(-w.pi,s),f.point(0,s),f.point(w.pi,s),f.point(w.pi,0),f.point(w.pi,-s),f.point(0,-s),f.point(-w.pi,-s),f.point(-w.pi,0),f.point(-w.pi,s);else if((0,w.a2)(r[0]-_[0])>w.Gg){var t=r[0]<_[0]?w.pi:-w.pi;s=v*t/2,f.point(-t,s),f.point(0,s),f.point(t,s)}else f.point(_[0],_[1])},[-w.pi,-w.or])},97208:function(B,L,e){e.d(L,{c:function(){return w}});var k=e(70932);function w(){var r,_=[];return{point:function(v,f,s){r.push([v,f,s])},lineStart:function(){_.push(r=[])},lineEnd:k.c,rejoin:function(){_.length>1&&_.push(_.pop().concat(_.shift()))},result:function(){var v=_;return _=[],r=null,v}}}},2728:function(B,L,e){e.d(L,{c:function(){return f}});var k=e(84220),w=e(61780),r=e(64528),_=e(41860),v=e(14229);function f(s){var t=(0,r.W8)(s),a=6*r.qw,n=t>0,i=(0,r.a2)(t)>r.Gg;function l(h,c){return(0,r.W8)(h)*(0,r.W8)(c)>t}function o(h,c,b){var d=(0,k.ux)(h),g=(0,k.ux)(c),m=[1,0,0],y=(0,k.CW)(d,g),x=(0,k.Ez)(y,y),T=y[0],p=x-T*T;if(!p)return!b&&h;var S=t*x/p,M=-t*T/p,E=(0,k.CW)(m,y),P=(0,k.wx)(m,S),O=(0,k.wx)(y,M);(0,k.mg)(P,O);var I=E,R=(0,k.Ez)(P,I),U=(0,k.Ez)(I,I),z=R*R-U*((0,k.Ez)(P,P)-1);if(!(z<0)){var j=(0,r._I)(z),W=(0,k.wx)(I,(-R-j)/U);if((0,k.mg)(W,P),W=(0,k.G)(W),!b)return W;var F,V=h[0],H=c[0],te=h[1],Q=c[1];H<V&&(F=V,V=H,H=F);var K=H-V,X=(0,r.a2)(K-r.pi)<r.Gg;if(!X&&Q<te&&(F=te,te=Q,Q=F),X||K<r.Gg?X?te+Q>0^W[1]<((0,r.a2)(W[0]-V)<r.Gg?te:Q):te<=W[1]&&W[1]<=Q:K>r.pi^(V<=W[0]&&W[0]<=H)){var J=(0,k.wx)(I,(-R+j)/U);return(0,k.mg)(J,P),[W,(0,k.G)(J)]}}}function u(h,c){var b=n?s:r.pi-s,d=0;return h<-b?d|=1:h>b&&(d|=2),c<-b?d|=4:c>b&&(d|=8),d}return(0,v.c)(l,function(h){var c,b,d,g,m;return{lineStart:function(){g=d=!1,m=1},point:function(y,x){var T,p=[y,x],S=l(y,x),M=n?S?0:u(y,x):S?u(y+(y<0?r.pi:-r.pi),x):0;if(!c&&(g=d=S)&&h.lineStart(),S!==d&&(!(T=o(c,p))||(0,_.c)(c,T)||(0,_.c)(p,T))&&(p[2]=1),S!==d)m=0,S?(h.lineStart(),T=o(p,c),h.point(T[0],T[1])):(T=o(c,p),h.point(T[0],T[1],2),h.lineEnd()),c=T;else if(i&&c&&n^S){var E;M&b||!(E=o(p,c,!0))||(m=0,n?(h.lineStart(),h.point(E[0][0],E[0][1]),h.point(E[1][0],E[1][1]),h.lineEnd()):(h.point(E[1][0],E[1][1]),h.lineEnd(),h.lineStart(),h.point(E[0][0],E[0][1],3)))}!S||c&&(0,_.c)(c,p)||h.point(p[0],p[1]),c=p,d=S,b=M},lineEnd:function(){d&&h.lineEnd(),c=null},clean:function(){return m|(g&&d)<<1}}},function(h,c,b,d){(0,w.Q)(d,s,a,b,h,c)},n?[0,-s]:[-r.pi,s-r.pi])}},14229:function(B,L,e){e.d(L,{c:function(){return f}});var k=e(97208),w=e(32232),r=e(64528),_=e(58196),v=e(84706);function f(a,n,i,l){return function(o){var u,h,c,b=n(o),d=(0,k.c)(),g=n(d),m=!1,y={point:x,lineStart:p,lineEnd:S,polygonStart:function(){y.point=M,y.lineStart=E,y.lineEnd=P,h=[],u=[]},polygonEnd:function(){y.point=x,y.lineStart=p,y.lineEnd=S,h=(0,v.Uf)(h);var O=(0,_.c)(u,l);h.length?(m||(o.polygonStart(),m=!0),(0,w.c)(h,t,O,i,o)):O&&(m||(o.polygonStart(),m=!0),o.lineStart(),i(null,null,1,o),o.lineEnd()),m&&(o.polygonEnd(),m=!1),h=u=null},sphere:function(){o.polygonStart(),o.lineStart(),i(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function x(O,I){a(O,I)&&o.point(O,I)}function T(O,I){b.point(O,I)}function p(){y.point=T,b.lineStart()}function S(){y.point=x,b.lineEnd()}function M(O,I){c.push([O,I]),g.point(O,I)}function E(){g.lineStart(),c=[]}function P(){M(c[0][0],c[0][1]),g.lineEnd();var O,I,R,U,z=g.clean(),j=d.result(),W=j.length;if(c.pop(),u.push(c),c=null,W)if(1&z){if((I=(R=j[0]).length-1)>0){for(m||(o.polygonStart(),m=!0),o.lineStart(),O=0;O<I;++O)o.point((U=R[O])[0],U[1]);o.lineEnd()}}else W>1&&2&z&&j.push(j.pop().concat(j.shift())),h.push(j.filter(s))}return y}}function s(a){return a.length>1}function t(a,n){return((a=a.x)[0]<0?a[1]-r.or-r.Gg:r.or-a[1])-((n=n.x)[0]<0?n[1]-r.or-r.Gg:r.or-n[1])}},21676:function(B,L,e){e.d(L,{c:function(){return s}});var k=e(64528),w=e(97208),r=e(32232),_=e(84706),v=1e9,f=-v;function s(t,a,n,i){function l(b,d){return t<=b&&b<=n&&a<=d&&d<=i}function o(b,d,g,m){var y=0,x=0;if(b==null||(y=u(b,g))!==(x=u(d,g))||c(b,d)<0^g>0)do m.point(y===0||y===3?t:n,y>1?i:a);while((y=(y+g+4)%4)!==x);else m.point(d[0],d[1])}function u(b,d){return(0,k.a2)(b[0]-t)<k.Gg?d>0?0:3:(0,k.a2)(b[0]-n)<k.Gg?d>0?2:1:(0,k.a2)(b[1]-a)<k.Gg?d>0?1:0:d>0?3:2}function h(b,d){return c(b.x,d.x)}function c(b,d){var g=u(b,1),m=u(d,1);return g!==m?g-m:g===0?d[1]-b[1]:g===1?b[0]-d[0]:g===2?b[1]-d[1]:d[0]-b[0]}return function(b){var d,g,m,y,x,T,p,S,M,E,P,O=b,I=(0,w.c)(),R={point:U,lineStart:function(){R.point=z,g&&g.push(m=[]),E=!0,M=!1,p=S=NaN},lineEnd:function(){d&&(z(y,x),T&&M&&I.rejoin(),d.push(I.result())),R.point=U,M&&O.lineEnd()},polygonStart:function(){O=I,d=[],g=[],P=!0},polygonEnd:function(){var j=function(){for(var V=0,H=0,te=g.length;H<te;++H)for(var Q,K,X=g[H],J=1,ee=X.length,ie=X[0],oe=ie[0],ae=ie[1];J<ee;++J)Q=oe,K=ae,oe=(ie=X[J])[0],ae=ie[1],K<=i?ae>i&&(oe-Q)*(i-K)>(ae-K)*(t-Q)&&++V:ae<=i&&(oe-Q)*(i-K)<(ae-K)*(t-Q)&&--V;return V}(),W=P&&j,F=(d=(0,_.Uf)(d)).length;(W||F)&&(b.polygonStart(),W&&(b.lineStart(),o(null,null,1,b),b.lineEnd()),F&&(0,r.c)(d,h,j,o,b),b.polygonEnd()),O=b,d=g=m=null}};function U(j,W){l(j,W)&&O.point(j,W)}function z(j,W){var F=l(j,W);if(g&&m.push([j,W]),E)y=j,x=W,T=F,E=!1,F&&(O.lineStart(),O.point(j,W));else if(F&&M)O.point(j,W);else{var V=[p=Math.max(f,Math.min(v,p)),S=Math.max(f,Math.min(v,S))],H=[j=Math.max(f,Math.min(v,j)),W=Math.max(f,Math.min(v,W))];(function(te,Q,K,X,J,ee){var ie,oe=te[0],ae=te[1],ce=0,ge=1,ve=Q[0]-oe,be=Q[1]-ae;if(ie=K-oe,ve||!(ie>0)){if(ie/=ve,ve<0){if(ie<ce)return;ie<ge&&(ge=ie)}else if(ve>0){if(ie>ge)return;ie>ce&&(ce=ie)}if(ie=J-oe,ve||!(ie<0)){if(ie/=ve,ve<0){if(ie>ge)return;ie>ce&&(ce=ie)}else if(ve>0){if(ie<ce)return;ie<ge&&(ge=ie)}if(ie=X-ae,be||!(ie>0)){if(ie/=be,be<0){if(ie<ce)return;ie<ge&&(ge=ie)}else if(be>0){if(ie>ge)return;ie>ce&&(ce=ie)}if(ie=ee-ae,be||!(ie<0)){if(ie/=be,be<0){if(ie>ge)return;ie>ce&&(ce=ie)}else if(be>0){if(ie<ce)return;ie<ge&&(ge=ie)}return ce>0&&(te[0]=oe+ce*ve,te[1]=ae+ce*be),ge<1&&(Q[0]=oe+ge*ve,Q[1]=ae+ge*be),!0}}}}})(V,H,t,a,n,i)?(M||(O.lineStart(),O.point(V[0],V[1])),O.point(H[0],H[1]),F||O.lineEnd(),P=!1):F&&(O.lineStart(),O.point(j,W),P=!1)}p=j,S=W,M=F}return R}}},32232:function(B,L,e){e.d(L,{c:function(){return _}});var k=e(41860),w=e(64528);function r(f,s,t,a){this.x=f,this.z=s,this.o=t,this.e=a,this.v=!1,this.n=this.p=null}function _(f,s,t,a,n){var i,l,o=[],u=[];if(f.forEach(function(m){if(!((y=m.length-1)<=0)){var y,x,T=m[0],p=m[y];if((0,k.c)(T,p)){if(!T[2]&&!p[2]){for(n.lineStart(),i=0;i<y;++i)n.point((T=m[i])[0],T[1]);return void n.lineEnd()}p[0]+=2*w.Gg}o.push(x=new r(T,m,null,!0)),u.push(x.o=new r(T,null,x,!1)),o.push(x=new r(p,m,null,!1)),u.push(x.o=new r(p,null,x,!0))}}),o.length){for(u.sort(s),v(o),v(u),i=0,l=u.length;i<l;++i)u[i].e=t=!t;for(var h,c,b=o[0];;){for(var d=b,g=!0;d.v;)if((d=d.n)===b)return;h=d.z,n.lineStart();do{if(d.v=d.o.v=!0,d.e){if(g)for(i=0,l=h.length;i<l;++i)n.point((c=h[i])[0],c[1]);else a(d.x,d.n.x,1,n);d=d.n}else{if(g)for(h=d.p.z,i=h.length-1;i>=0;--i)n.point((c=h[i])[0],c[1]);else a(d.x,d.p.x,-1,n);d=d.p}h=(d=d.o).z,g=!g}while(!d.v);n.lineEnd()}}}function v(f){if(s=f.length){for(var s,t,a=0,n=f[0];++a<s;)n.n=t=f[a],t.p=n,n=t;n.n=t=f[0],t.p=n}}},68120:function(B,L,e){function k(w,r){function _(v,f){return v=w(v,f),r(v[0],v[1])}return w.invert&&r.invert&&(_.invert=function(v,f){return(v=r.invert(v,f))&&w.invert(v[0],v[1])}),_}e.d(L,{c:function(){return k}})},7376:function(B,L,e){function k(w){return w}e.d(L,{c:function(){return k}})},83356:function(B,L,e){e.r(L),e.d(L,{geoAlbers:function(){return xt},geoAlbersUsa:function(){return Lt},geoArea:function(){return k.cp},geoAzimuthalEqualArea:function(){return kt.c},geoAzimuthalEqualAreaRaw:function(){return kt.y},geoAzimuthalEquidistant:function(){return _t.c},geoAzimuthalEquidistantRaw:function(){return _t.O},geoBounds:function(){return w.c},geoCentroid:function(){return r.c},geoCircle:function(){return _.c},geoClipAntimeridian:function(){return v.c},geoClipCircle:function(){return f.c},geoClipExtent:function(){return t},geoClipRectangle:function(){return s.c},geoConicConformal:function(){return Gt},geoConicConformalRaw:function(){return qt},geoConicEqualArea:function(){return mt},geoConicEqualAreaRaw:function(){return gt},geoConicEquidistant:function(){return An},geoConicEquidistantRaw:function(){return Cn},geoContains:function(){return j},geoDistance:function(){return S},geoEqualEarth:function(){return Sn},geoEqualEarthRaw:function(){return kn},geoEquirectangular:function(){return nn.c},geoEquirectangularRaw:function(){return nn.u},geoGnomonic:function(){return Rn.c},geoGnomonicRaw:function(){return Rn.Y},geoGraticule:function(){return H},geoGraticule10:function(){return te},geoIdentity:function(){return Pn},geoInterpolate:function(){return ee.c},geoLength:function(){return x},geoMercator:function(){return Bt},geoMercatorRaw:function(){return Pt},geoNaturalEarth1:function(){return Gn.c},geoNaturalEarth1Raw:function(){return Gn.g},geoOrthographic:function(){return Nn.c},geoOrthographicRaw:function(){return Nn.t},geoPath:function(){return Ue},geoProjection:function(){return lt.c},geoProjectionMutator:function(){return lt.U},geoRotation:function(){return Ot.c},geoStereographic:function(){return cr},geoStereographicRaw:function(){return lr},geoStream:function(){return c.c},geoTransform:function(){return zn.c},geoTransverseMercator:function(){return Ar},geoTransverseMercatorRaw:function(){return $n}});var k=e(95384),w=e(13696),r=e(24052),_=e(61780),v=e(78284),f=e(2728),s=e(21676);function t(){var Ht,an,_n,vn=0,En=0,Yn=960,Fn=500;return _n={stream:function(jn){return Ht&&an===jn?Ht:Ht=(0,s.c)(vn,En,Yn,Fn)(an=jn)},extent:function(jn){return arguments.length?(vn=+jn[0][0],En=+jn[0][1],Yn=+jn[1][0],Fn=+jn[1][1],Ht=an=null,_n):[[vn,En],[Yn,Fn]]}}}var a,n,i,l=e(58196),o=e(88728),u=e(64528),h=e(70932),c=e(16016),b=(0,o.c)(),d={sphere:h.c,point:h.c,lineStart:function(){d.point=m,d.lineEnd=g},lineEnd:h.c,polygonStart:h.c,polygonEnd:h.c};function g(){d.point=d.lineEnd=h.c}function m(Ht,an){Ht*=u.qw,an*=u.qw,a=Ht,n=(0,u.g$)(an),i=(0,u.W8)(an),d.point=y}function y(Ht,an){Ht*=u.qw,an*=u.qw;var _n=(0,u.g$)(an),vn=(0,u.W8)(an),En=(0,u.a2)(Ht-a),Yn=(0,u.W8)(En),Fn=vn*(0,u.g$)(En),jn=i*_n-n*vn*Yn,ir=n*_n+i*vn*Yn;b.add((0,u.WE)((0,u._I)(Fn*Fn+jn*jn),ir)),a=Ht,n=_n,i=vn}function x(Ht){return b.reset(),(0,c.c)(Ht,d),+b}var T=[null,null],p={type:"LineString",coordinates:T};function S(Ht,an){return T[0]=Ht,T[1]=an,x(p)}var M={Feature:function(Ht,an){return P(Ht.geometry,an)},FeatureCollection:function(Ht,an){for(var _n=Ht.features,vn=-1,En=_n.length;++vn<En;)if(P(_n[vn].geometry,an))return!0;return!1}},E={Sphere:function(){return!0},Point:function(Ht,an){return O(Ht.coordinates,an)},MultiPoint:function(Ht,an){for(var _n=Ht.coordinates,vn=-1,En=_n.length;++vn<En;)if(O(_n[vn],an))return!0;return!1},LineString:function(Ht,an){return I(Ht.coordinates,an)},MultiLineString:function(Ht,an){for(var _n=Ht.coordinates,vn=-1,En=_n.length;++vn<En;)if(I(_n[vn],an))return!0;return!1},Polygon:function(Ht,an){return R(Ht.coordinates,an)},MultiPolygon:function(Ht,an){for(var _n=Ht.coordinates,vn=-1,En=_n.length;++vn<En;)if(R(_n[vn],an))return!0;return!1},GeometryCollection:function(Ht,an){for(var _n=Ht.geometries,vn=-1,En=_n.length;++vn<En;)if(P(_n[vn],an))return!0;return!1}};function P(Ht,an){return!(!Ht||!E.hasOwnProperty(Ht.type))&&E[Ht.type](Ht,an)}function O(Ht,an){return S(Ht,an)===0}function I(Ht,an){for(var _n,vn,En,Yn=0,Fn=Ht.length;Yn<Fn;Yn++){if((vn=S(Ht[Yn],an))===0||Yn>0&&(En=S(Ht[Yn],Ht[Yn-1]))>0&&_n<=En&&vn<=En&&(_n+vn-En)*(1-Math.pow((_n-vn)/En,2))<u.a8*En)return!0;_n=vn}return!1}function R(Ht,an){return!!(0,l.c)(Ht.map(U),z(an))}function U(Ht){return(Ht=Ht.map(z)).pop(),Ht}function z(Ht){return[Ht[0]*u.qw,Ht[1]*u.qw]}function j(Ht,an){return(Ht&&M.hasOwnProperty(Ht.type)?M[Ht.type]:P)(Ht,an)}var W=e(84706);function F(Ht,an,_n){var vn=(0,W.ik)(Ht,an-u.Gg,_n).concat(an);return function(En){return vn.map(function(Yn){return[En,Yn]})}}function V(Ht,an,_n){var vn=(0,W.ik)(Ht,an-u.Gg,_n).concat(an);return function(En){return vn.map(function(Yn){return[Yn,En]})}}function H(){var Ht,an,_n,vn,En,Yn,Fn,jn,ir,Zt,mn,It,Xt=10,tn=Xt,bn=90,yn=360,Tn=2.5;function fn(){return{type:"MultiLineString",coordinates:$t()}}function $t(){return(0,W.ik)((0,u.Km)(vn/bn)*bn,_n,bn).map(mn).concat((0,W.ik)((0,u.Km)(jn/yn)*yn,Fn,yn).map(It)).concat((0,W.ik)((0,u.Km)(an/Xt)*Xt,Ht,Xt).filter(function(en){return(0,u.a2)(en%bn)>u.Gg}).map(ir)).concat((0,W.ik)((0,u.Km)(Yn/tn)*tn,En,tn).filter(function(en){return(0,u.a2)(en%yn)>u.Gg}).map(Zt))}return fn.lines=function(){return $t().map(function(en){return{type:"LineString",coordinates:en}})},fn.outline=function(){return{type:"Polygon",coordinates:[mn(vn).concat(It(Fn).slice(1),mn(_n).reverse().slice(1),It(jn).reverse().slice(1))]}},fn.extent=function(en){return arguments.length?fn.extentMajor(en).extentMinor(en):fn.extentMinor()},fn.extentMajor=function(en){return arguments.length?(vn=+en[0][0],_n=+en[1][0],jn=+en[0][1],Fn=+en[1][1],vn>_n&&(en=vn,vn=_n,_n=en),jn>Fn&&(en=jn,jn=Fn,Fn=en),fn.precision(Tn)):[[vn,jn],[_n,Fn]]},fn.extentMinor=function(en){return arguments.length?(an=+en[0][0],Ht=+en[1][0],Yn=+en[0][1],En=+en[1][1],an>Ht&&(en=an,an=Ht,Ht=en),Yn>En&&(en=Yn,Yn=En,En=en),fn.precision(Tn)):[[an,Yn],[Ht,En]]},fn.step=function(en){return arguments.length?fn.stepMajor(en).stepMinor(en):fn.stepMinor()},fn.stepMajor=function(en){return arguments.length?(bn=+en[0],yn=+en[1],fn):[bn,yn]},fn.stepMinor=function(en){return arguments.length?(Xt=+en[0],tn=+en[1],fn):[Xt,tn]},fn.precision=function(en){return arguments.length?(Tn=+en,ir=F(Yn,En,90),Zt=V(an,Ht,Tn),mn=F(jn,Fn,90),It=V(vn,_n,Tn),fn):Tn},fn.extentMajor([[-180,-90+u.Gg],[180,90-u.Gg]]).extentMinor([[-180,-80-u.Gg],[180,80+u.Gg]])}function te(){return H()()}var Q,K,X,J,ee=e(27284),ie=e(7376),oe=(0,o.c)(),ae=(0,o.c)(),ce={point:h.c,lineStart:h.c,lineEnd:h.c,polygonStart:function(){ce.lineStart=ge,ce.lineEnd=we},polygonEnd:function(){ce.lineStart=ce.lineEnd=ce.point=h.c,oe.add((0,u.a2)(ae)),ae.reset()},result:function(){var Ht=oe/2;return oe.reset(),Ht}};function ge(){ce.point=ve}function ve(Ht,an){ce.point=be,Q=X=Ht,K=J=an}function be(Ht,an){ae.add(J*Ht-X*an),X=Ht,J=an}function we(){be(Q,K)}var ye,me,Ae,ke,fe=ce,le=e(73784),de=0,Ce=0,Me=0,Le=0,Oe=0,Be=0,pe=0,_e=0,Te=0,Re={point:Ne,lineStart:ze,lineEnd:et,polygonStart:function(){Re.lineStart=ut,Re.lineEnd=ot},polygonEnd:function(){Re.point=Ne,Re.lineStart=ze,Re.lineEnd=et},result:function(){var Ht=Te?[pe/Te,_e/Te]:Be?[Le/Be,Oe/Be]:Me?[de/Me,Ce/Me]:[NaN,NaN];return de=Ce=Me=Le=Oe=Be=pe=_e=Te=0,Ht}};function Ne(Ht,an){de+=Ht,Ce+=an,++Me}function ze(){Re.point=Ge}function Ge(Ht,an){Re.point=Ye,Ne(Ae=Ht,ke=an)}function Ye(Ht,an){var _n=Ht-Ae,vn=an-ke,En=(0,u._I)(_n*_n+vn*vn);Le+=En*(Ae+Ht)/2,Oe+=En*(ke+an)/2,Be+=En,Ne(Ae=Ht,ke=an)}function et(){Re.point=Ne}function ut(){Re.point=yt}function ot(){wt(ye,me)}function yt(Ht,an){Re.point=wt,Ne(ye=Ae=Ht,me=ke=an)}function wt(Ht,an){var _n=Ht-Ae,vn=an-ke,En=(0,u._I)(_n*_n+vn*vn);Le+=En*(Ae+Ht)/2,Oe+=En*(ke+an)/2,Be+=En,pe+=(En=ke*Ht-Ae*an)*(Ae+Ht),_e+=En*(ke+an),Te+=3*En,Ne(Ae=Ht,ke=an)}var bt=Re;function at(Ht){this._context=Ht}at.prototype={_radius:4.5,pointRadius:function(Ht){return this._radius=Ht,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Ht,an){switch(this._point){case 0:this._context.moveTo(Ht,an),this._point=1;break;case 1:this._context.lineTo(Ht,an);break;default:this._context.moveTo(Ht+this._radius,an),this._context.arc(Ht,an,this._radius,0,u.kD)}},result:h.c};var rt,At,Rt,Ft,Dt,Xe=(0,o.c)(),Ke={point:h.c,lineStart:function(){Ke.point=Ve},lineEnd:function(){rt&&Je(At,Rt),Ke.point=h.c},polygonStart:function(){rt=!0},polygonEnd:function(){rt=null},result:function(){var Ht=+Xe;return Xe.reset(),Ht}};function Ve(Ht,an){Ke.point=Je,At=Ft=Ht,Rt=Dt=an}function Je(Ht,an){Ft-=Ht,Dt-=an,Xe.add((0,u._I)(Ft*Ft+Dt*Dt)),Ft=Ht,Dt=an}var ct=Ke;function st(){this._string=[]}function je(Ht){return"m0,"+Ht+"a"+Ht+","+Ht+" 0 1,1 0,"+-2*Ht+"a"+Ht+","+Ht+" 0 1,1 0,"+2*Ht+"z"}function Ue(Ht,an){var _n,vn,En=4.5;function Yn(Fn){return Fn&&(typeof En=="function"&&vn.pointRadius(+En.apply(this,arguments)),(0,c.c)(Fn,_n(vn))),vn.result()}return Yn.area=function(Fn){return(0,c.c)(Fn,_n(fe)),fe.result()},Yn.measure=function(Fn){return(0,c.c)(Fn,_n(ct)),ct.result()},Yn.bounds=function(Fn){return(0,c.c)(Fn,_n(le.c)),le.c.result()},Yn.centroid=function(Fn){return(0,c.c)(Fn,_n(bt)),bt.result()},Yn.projection=function(Fn){return arguments.length?(_n=Fn==null?(Ht=null,ie.c):(Ht=Fn).stream,Yn):Ht},Yn.context=function(Fn){return arguments.length?(vn=Fn==null?(an=null,new st):new at(an=Fn),typeof En!="function"&&vn.pointRadius(En),Yn):an},Yn.pointRadius=function(Fn){return arguments.length?(En=typeof Fn=="function"?Fn:(vn.pointRadius(+Fn),+Fn),Yn):En},Yn.projection(Ht).context(an)}st.prototype={_radius:4.5,_circle:je(4.5),pointRadius:function(Ht){return(Ht=+Ht)!==this._radius&&(this._radius=Ht,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Ht,an){switch(this._point){case 0:this._string.push("M",Ht,",",an),this._point=1;break;case 1:this._string.push("L",Ht,",",an);break;default:this._circle==null&&(this._circle=je(this._radius)),this._string.push("M",Ht,",",an,this._circle)}},result:function(){if(this._string.length){var Ht=this._string.join("");return this._string=[],Ht}return null}};var lt=e(87952);function Qe(Ht){var an=0,_n=u.pi/3,vn=(0,lt.U)(Ht),En=vn(an,_n);return En.parallels=function(Yn){return arguments.length?vn(an=Yn[0]*u.qw,_n=Yn[1]*u.qw):[an*u.oh,_n*u.oh]},En}function gt(Ht,an){var _n=(0,u.g$)(Ht),vn=(_n+(0,u.g$)(an))/2;if((0,u.a2)(vn)<u.Gg)return function(jn){var ir=(0,u.W8)(jn);function Zt(mn,It){return[mn*ir,(0,u.g$)(It)/ir]}return Zt.invert=function(mn,It){return[mn/ir,(0,u.qR)(It*ir)]},Zt}(Ht);var En=1+_n*(2*vn-_n),Yn=(0,u._I)(En)/vn;function Fn(jn,ir){var Zt=(0,u._I)(En-2*vn*(0,u.g$)(ir))/vn;return[Zt*(0,u.g$)(jn*=vn),Yn-Zt*(0,u.W8)(jn)]}return Fn.invert=function(jn,ir){var Zt=Yn-ir,mn=(0,u.WE)(jn,(0,u.a2)(Zt))*(0,u.kq)(Zt);return Zt*vn<0&&(mn-=u.pi*(0,u.kq)(jn)*(0,u.kq)(Zt)),[mn/vn,(0,u.qR)((En-(jn*jn+Zt*Zt)*vn*vn)/(2*vn))]},Fn}function mt(){return Qe(gt).scale(155.424).center([0,33.6442])}function xt(){return mt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var dt=e(86420);function Lt(){var Ht,an,_n,vn,En,Yn,Fn=xt(),jn=mt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),ir=mt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Zt={point:function(Xt,tn){Yn=[Xt,tn]}};function mn(Xt){var tn=Xt[0],bn=Xt[1];return Yn=null,_n.point(tn,bn),Yn||(vn.point(tn,bn),Yn)||(En.point(tn,bn),Yn)}function It(){return Ht=an=null,mn}return mn.invert=function(Xt){var tn=Fn.scale(),bn=Fn.translate(),yn=(Xt[0]-bn[0])/tn,Tn=(Xt[1]-bn[1])/tn;return(Tn>=.12&&Tn<.234&&yn>=-.425&&yn<-.214?jn:Tn>=.166&&Tn<.234&&yn>=-.214&&yn<-.115?ir:Fn).invert(Xt)},mn.stream=function(Xt){return Ht&&an===Xt?Ht:(tn=[Fn.stream(an=Xt),jn.stream(Xt),ir.stream(Xt)],bn=tn.length,Ht={point:function(yn,Tn){for(var fn=-1;++fn<bn;)tn[fn].point(yn,Tn)},sphere:function(){for(var yn=-1;++yn<bn;)tn[yn].sphere()},lineStart:function(){for(var yn=-1;++yn<bn;)tn[yn].lineStart()},lineEnd:function(){for(var yn=-1;++yn<bn;)tn[yn].lineEnd()},polygonStart:function(){for(var yn=-1;++yn<bn;)tn[yn].polygonStart()},polygonEnd:function(){for(var yn=-1;++yn<bn;)tn[yn].polygonEnd()}});var tn,bn},mn.precision=function(Xt){return arguments.length?(Fn.precision(Xt),jn.precision(Xt),ir.precision(Xt),It()):Fn.precision()},mn.scale=function(Xt){return arguments.length?(Fn.scale(Xt),jn.scale(.35*Xt),ir.scale(Xt),mn.translate(Fn.translate())):Fn.scale()},mn.translate=function(Xt){if(!arguments.length)return Fn.translate();var tn=Fn.scale(),bn=+Xt[0],yn=+Xt[1];return _n=Fn.translate(Xt).clipExtent([[bn-.455*tn,yn-.238*tn],[bn+.455*tn,yn+.238*tn]]).stream(Zt),vn=jn.translate([bn-.307*tn,yn+.201*tn]).clipExtent([[bn-.425*tn+u.Gg,yn+.12*tn+u.Gg],[bn-.214*tn-u.Gg,yn+.234*tn-u.Gg]]).stream(Zt),En=ir.translate([bn-.205*tn,yn+.212*tn]).clipExtent([[bn-.214*tn+u.Gg,yn+.166*tn+u.Gg],[bn-.115*tn-u.Gg,yn+.234*tn-u.Gg]]).stream(Zt),It()},mn.fitExtent=function(Xt,tn){return(0,dt.QX)(mn,Xt,tn)},mn.fitSize=function(Xt,tn){return(0,dt.UV)(mn,Xt,tn)},mn.fitWidth=function(Xt,tn){return(0,dt.Qx)(mn,Xt,tn)},mn.fitHeight=function(Xt,tn){return(0,dt.OW)(mn,Xt,tn)},mn.scale(1070)}var kt=e(54724),_t=e(69020),Ot=e(92992);function Pt(Ht,an){return[Ht,(0,u.Yz)((0,u.a6)((u.or+an)/2))]}function Bt(){return Jt(Pt).scale(961/u.kD)}function Jt(Ht){var an,_n,vn,En=(0,lt.c)(Ht),Yn=En.center,Fn=En.scale,jn=En.translate,ir=En.clipExtent,Zt=null;function mn(){var It=u.pi*Fn(),Xt=En((0,Ot.c)(En.rotate()).invert([0,0]));return ir(Zt==null?[[Xt[0]-It,Xt[1]-It],[Xt[0]+It,Xt[1]+It]]:Ht===Pt?[[Math.max(Xt[0]-It,Zt),an],[Math.min(Xt[0]+It,_n),vn]]:[[Zt,Math.max(Xt[1]-It,an)],[_n,Math.min(Xt[1]+It,vn)]])}return En.scale=function(It){return arguments.length?(Fn(It),mn()):Fn()},En.translate=function(It){return arguments.length?(jn(It),mn()):jn()},En.center=function(It){return arguments.length?(Yn(It),mn()):Yn()},En.clipExtent=function(It){return arguments.length?(It==null?Zt=an=_n=vn=null:(Zt=+It[0][0],an=+It[0][1],_n=+It[1][0],vn=+It[1][1]),mn()):Zt==null?null:[[Zt,an],[_n,vn]]},mn()}function on(Ht){return(0,u.a6)((u.or+Ht)/2)}function qt(Ht,an){var _n=(0,u.W8)(Ht),vn=Ht===an?(0,u.g$)(Ht):(0,u.Yz)(_n/(0,u.W8)(an))/(0,u.Yz)(on(an)/on(Ht)),En=_n*(0,u.g3)(on(Ht),vn)/vn;if(!vn)return Pt;function Yn(Fn,jn){En>0?jn<-u.or+u.Gg&&(jn=-u.or+u.Gg):jn>u.or-u.Gg&&(jn=u.or-u.Gg);var ir=En/(0,u.g3)(on(jn),vn);return[ir*(0,u.g$)(vn*Fn),En-ir*(0,u.W8)(vn*Fn)]}return Yn.invert=function(Fn,jn){var ir=En-jn,Zt=(0,u.kq)(vn)*(0,u._I)(Fn*Fn+ir*ir),mn=(0,u.WE)(Fn,(0,u.a2)(ir))*(0,u.kq)(ir);return ir*vn<0&&(mn-=u.pi*(0,u.kq)(Fn)*(0,u.kq)(ir)),[mn/vn,2*(0,u.MQ)((0,u.g3)(En/Zt,1/vn))-u.or]},Yn}function Gt(){return Qe(qt).scale(109.5).parallels([30,30])}Pt.invert=function(Ht,an){return[Ht,2*(0,u.MQ)((0,u.oN)(an))-u.or]};var nn=e(69604);function Cn(Ht,an){var _n=(0,u.W8)(Ht),vn=Ht===an?(0,u.g$)(Ht):(_n-(0,u.W8)(an))/(an-Ht),En=_n/vn+Ht;if((0,u.a2)(vn)<u.Gg)return nn.u;function Yn(Fn,jn){var ir=En-jn,Zt=vn*Fn;return[ir*(0,u.g$)(Zt),En-ir*(0,u.W8)(Zt)]}return Yn.invert=function(Fn,jn){var ir=En-jn,Zt=(0,u.WE)(Fn,(0,u.a2)(ir))*(0,u.kq)(ir);return ir*vn<0&&(Zt-=u.pi*(0,u.kq)(Fn)*(0,u.kq)(ir)),[Zt/vn,En-(0,u.kq)(vn)*(0,u._I)(Fn*Fn+ir*ir)]},Yn}function An(){return Qe(Cn).scale(131.154).center([0,13.9389])}var dn=1.340264,Kt=-.081106,un=893e-6,rn=.003796,hn=(0,u._I)(3)/2;function kn(Ht,an){var _n=(0,u.qR)(hn*(0,u.g$)(an)),vn=_n*_n,En=vn*vn*vn;return[Ht*(0,u.W8)(_n)/(hn*(dn+3*Kt*vn+En*(7*un+9*rn*vn))),_n*(dn+Kt*vn+En*(un+rn*vn))]}function Sn(){return(0,lt.c)(kn).scale(177.158)}kn.invert=function(Ht,an){for(var _n,vn=an,En=vn*vn,Yn=En*En*En,Fn=0;Fn<12&&(Yn=(En=(vn-=_n=(vn*(dn+Kt*En+Yn*(un+rn*En))-an)/(dn+3*Kt*En+Yn*(7*un+9*rn*En)))*vn)*En*En,!((0,u.a2)(_n)<u.a8));++Fn);return[hn*Ht*(dn+3*Kt*En+Yn*(7*un+9*rn*En))/(0,u.W8)(vn),(0,u.qR)((0,u.g$)(vn)/hn)]};var Rn=e(53285),zn=e(15196);function Pn(){var Ht,an,_n,vn,En,Yn,Fn,jn=1,ir=0,Zt=0,mn=1,It=1,Xt=0,tn=null,bn=1,yn=1,Tn=(0,zn.s)({point:function(ln,pn){var Ln=en([ln,pn]);this.stream.point(Ln[0],Ln[1])}}),fn=ie.c;function $t(){return bn=jn*mn,yn=jn*It,Yn=Fn=null,en}function en(ln){var pn=ln[0]*bn,Ln=ln[1]*yn;if(Xt){var In=Ln*Ht-pn*an;pn=pn*Ht+Ln*an,Ln=In}return[pn+ir,Ln+Zt]}return en.invert=function(ln){var pn=ln[0]-ir,Ln=ln[1]-Zt;if(Xt){var In=Ln*Ht+pn*an;pn=pn*Ht-Ln*an,Ln=In}return[pn/bn,Ln/yn]},en.stream=function(ln){return Yn&&Fn===ln?Yn:Yn=Tn(fn(Fn=ln))},en.postclip=function(ln){return arguments.length?(fn=ln,tn=_n=vn=En=null,$t()):fn},en.clipExtent=function(ln){return arguments.length?(fn=ln==null?(tn=_n=vn=En=null,ie.c):(0,s.c)(tn=+ln[0][0],_n=+ln[0][1],vn=+ln[1][0],En=+ln[1][1]),$t()):tn==null?null:[[tn,_n],[vn,En]]},en.scale=function(ln){return arguments.length?(jn=+ln,$t()):jn},en.translate=function(ln){return arguments.length?(ir=+ln[0],Zt=+ln[1],$t()):[ir,Zt]},en.angle=function(ln){return arguments.length?(Xt=ln%360*u.qw,an=(0,u.g$)(Xt),Ht=(0,u.W8)(Xt),$t()):Xt*u.oh},en.reflectX=function(ln){return arguments.length?(mn=ln?-1:1,$t()):mn<0},en.reflectY=function(ln){return arguments.length?(It=ln?-1:1,$t()):It<0},en.fitExtent=function(ln,pn){return(0,dt.QX)(en,ln,pn)},en.fitSize=function(ln,pn){return(0,dt.UV)(en,ln,pn)},en.fitWidth=function(ln,pn){return(0,dt.Qx)(en,ln,pn)},en.fitHeight=function(ln,pn){return(0,dt.OW)(en,ln,pn)},en}var Gn=e(47984),Nn=e(4888),or=e(62280);function lr(Ht,an){var _n=(0,u.W8)(an),vn=1+(0,u.W8)(Ht)*_n;return[_n*(0,u.g$)(Ht)/vn,(0,u.g$)(an)/vn]}function cr(){return(0,lt.c)(lr).scale(250).clipAngle(142)}function $n(Ht,an){return[(0,u.Yz)((0,u.a6)((u.or+an)/2)),-Ht]}function Ar(){var Ht=Jt($n),an=Ht.center,_n=Ht.rotate;return Ht.center=function(vn){return arguments.length?an([-vn[1],vn[0]]):[(vn=an())[1],-vn[0]]},Ht.rotate=function(vn){return arguments.length?_n([vn[0],vn[1],vn.length>2?vn[2]+90:90]):[(vn=_n())[0],vn[1],vn[2]-90]},_n([0,0,90]).scale(159.155)}lr.invert=(0,or.g)(function(Ht){return 2*(0,u.MQ)(Ht)}),$n.invert=function(Ht,an){return[-an,2*(0,u.MQ)((0,u.oN)(Ht))-u.or]}},27284:function(B,L,e){e.d(L,{c:function(){return w}});var k=e(64528);function w(r,_){var v=r[0]*k.qw,f=r[1]*k.qw,s=_[0]*k.qw,t=_[1]*k.qw,a=(0,k.W8)(f),n=(0,k.g$)(f),i=(0,k.W8)(t),l=(0,k.g$)(t),o=a*(0,k.W8)(v),u=a*(0,k.g$)(v),h=i*(0,k.W8)(s),c=i*(0,k.g$)(s),b=2*(0,k.qR)((0,k._I)((0,k.SD)(t-f)+a*i*(0,k.SD)(s-v))),d=(0,k.g$)(b),g=b?function(m){var y=(0,k.g$)(m*=b)/d,x=(0,k.g$)(b-m)/d,T=x*o+y*h,p=x*u+y*c,S=x*n+y*l;return[(0,k.WE)(p,T)*k.oh,(0,k.WE)(S,(0,k._I)(T*T+p*p))*k.oh]}:function(){return[v*k.oh,f*k.oh]};return g.distance=b,g}},64528:function(B,L,e){e.d(L,{Gg:function(){return k},Km:function(){return o},MQ:function(){return n},SD:function(){return T},W8:function(){return l},WE:function(){return i},Yz:function(){return h},_I:function(){return g},a2:function(){return a},a6:function(){return m},a8:function(){return w},g$:function(){return b},g3:function(){return c},kD:function(){return f},kq:function(){return d},mE:function(){return y},oN:function(){return u},oh:function(){return s},or:function(){return _},pi:function(){return r},qR:function(){return x},qw:function(){return t},wL:function(){return v}});var k=1e-6,w=1e-12,r=Math.PI,_=r/2,v=r/4,f=2*r,s=180/r,t=r/180,a=Math.abs,n=Math.atan,i=Math.atan2,l=Math.cos,o=Math.ceil,u=Math.exp,h=Math.log,c=Math.pow,b=Math.sin,d=Math.sign||function(p){return p>0?1:p<0?-1:0},g=Math.sqrt,m=Math.tan;function y(p){return p>1?0:p<-1?r:Math.acos(p)}function x(p){return p>1?_:p<-1?-_:Math.asin(p)}function T(p){return(p=b(p/2))*p}},70932:function(B,L,e){function k(){}e.d(L,{c:function(){return k}})},73784:function(B,L,e){var k=e(70932),w=1/0,r=w,_=-w,v=_,f={point:function(s,t){s<w&&(w=s),s>_&&(_=s),t<r&&(r=t),t>v&&(v=t)},lineStart:k.c,lineEnd:k.c,polygonStart:k.c,polygonEnd:k.c,result:function(){var s=[[w,r],[_,v]];return _=v=-(r=w=1/0),s}};L.c=f},41860:function(B,L,e){e.d(L,{c:function(){return w}});var k=e(64528);function w(r,_){return(0,k.a2)(r[0]-_[0])<k.Gg&&(0,k.a2)(r[1]-_[1])<k.Gg}},58196:function(B,L,e){e.d(L,{c:function(){return f}});var k=e(88728),w=e(84220),r=e(64528),_=(0,k.c)();function v(s){return(0,r.a2)(s[0])<=r.pi?s[0]:(0,r.kq)(s[0])*(((0,r.a2)(s[0])+r.pi)%r.kD-r.pi)}function f(s,t){var a=v(t),n=t[1],i=(0,r.g$)(n),l=[(0,r.g$)(a),-(0,r.W8)(a),0],o=0,u=0;_.reset(),i===1?n=r.or+r.Gg:i===-1&&(n=-r.or-r.Gg);for(var h=0,c=s.length;h<c;++h)if(d=(b=s[h]).length)for(var b,d,g=b[d-1],m=v(g),y=g[1]/2+r.wL,x=(0,r.g$)(y),T=(0,r.W8)(y),p=0;p<d;++p,m=M,x=P,T=O,g=S){var S=b[p],M=v(S),E=S[1]/2+r.wL,P=(0,r.g$)(E),O=(0,r.W8)(E),I=M-m,R=I>=0?1:-1,U=R*I,z=U>r.pi,j=x*P;if(_.add((0,r.WE)(j*R*(0,r.g$)(U),T*O+j*(0,r.W8)(U))),o+=z?I+R*r.kD:I,z^m>=a^M>=a){var W=(0,w.CW)((0,w.ux)(g),(0,w.ux)(S));(0,w.cJ)(W);var F=(0,w.CW)(l,W);(0,w.cJ)(F);var V=(z^I>=0?-1:1)*(0,r.qR)(F[2]);(n>V||n===V&&(W[0]||W[1]))&&(u+=z^I>=0?1:-1)}}return(o<-r.Gg||o<r.Gg&&_<-r.Gg)^1&u}},62280:function(B,L,e){e.d(L,{a:function(){return w},g:function(){return r}});var k=e(64528);function w(_){return function(v,f){var s=(0,k.W8)(v),t=(0,k.W8)(f),a=_(s*t);return[a*t*(0,k.g$)(v),a*(0,k.g$)(f)]}}function r(_){return function(v,f){var s=(0,k._I)(v*v+f*f),t=_(s),a=(0,k.g$)(t),n=(0,k.W8)(t);return[(0,k.WE)(v*a,s*n),(0,k.qR)(s&&f*a/s)]}}},54724:function(B,L,e){e.d(L,{c:function(){return v},y:function(){return _}});var k=e(64528),w=e(62280),r=e(87952),_=(0,w.a)(function(f){return(0,k._I)(2/(1+f))});function v(){return(0,r.c)(_).scale(124.75).clipAngle(179.999)}_.invert=(0,w.g)(function(f){return 2*(0,k.qR)(f/2)})},69020:function(B,L,e){e.d(L,{O:function(){return _},c:function(){return v}});var k=e(64528),w=e(62280),r=e(87952),_=(0,w.a)(function(f){return(f=(0,k.mE)(f))&&f/(0,k.g$)(f)});function v(){return(0,r.c)(_).scale(79.4188).clipAngle(179.999)}_.invert=(0,w.g)(function(f){return f})},69604:function(B,L,e){e.d(L,{c:function(){return r},u:function(){return w}});var k=e(87952);function w(_,v){return[_,v]}function r(){return(0,k.c)(w).scale(152.63)}w.invert=w},86420:function(B,L,e){e.d(L,{OW:function(){return s},QX:function(){return _},Qx:function(){return f},UV:function(){return v}});var k=e(16016),w=e(73784);function r(t,a,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),(0,k.c)(n,t.stream(w.c)),a(w.c.result()),i!=null&&t.clipExtent(i),t}function _(t,a,n){return r(t,function(i){var l=a[1][0]-a[0][0],o=a[1][1]-a[0][1],u=Math.min(l/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),h=+a[0][0]+(l-u*(i[1][0]+i[0][0]))/2,c=+a[0][1]+(o-u*(i[1][1]+i[0][1]))/2;t.scale(150*u).translate([h,c])},n)}function v(t,a,n){return _(t,[[0,0],a],n)}function f(t,a,n){return r(t,function(i){var l=+a,o=l/(i[1][0]-i[0][0]),u=(l-o*(i[1][0]+i[0][0]))/2,h=-o*i[0][1];t.scale(150*o).translate([u,h])},n)}function s(t,a,n){return r(t,function(i){var l=+a,o=l/(i[1][1]-i[0][1]),u=-o*i[0][0],h=(l-o*(i[1][1]+i[0][1]))/2;t.scale(150*o).translate([u,h])},n)}},53285:function(B,L,e){e.d(L,{Y:function(){return _},c:function(){return v}});var k=e(64528),w=e(62280),r=e(87952);function _(f,s){var t=(0,k.W8)(s),a=(0,k.W8)(f)*t;return[t*(0,k.g$)(f)/a,(0,k.g$)(s)/a]}function v(){return(0,r.c)(_).scale(144.049).clipAngle(60)}_.invert=(0,w.g)(k.MQ)},87952:function(B,L,e){e.d(L,{c:function(){return b},U:function(){return d}});var k=e(78284),w=e(2728),r=e(21676),_=e(68120),v=e(7376),f=e(64528),s=e(92992),t=e(15196),a=e(86420),n=e(84220),i=16,l=(0,f.W8)(30*f.qw);function o(g,m){return+m?function(y,x){function T(p,S,M,E,P,O,I,R,U,z,j,W,F,V){var H=I-p,te=R-S,Q=H*H+te*te;if(Q>4*x&&F--){var K=E+z,X=P+j,J=O+W,ee=(0,f._I)(K*K+X*X+J*J),ie=(0,f.qR)(J/=ee),oe=(0,f.a2)((0,f.a2)(J)-1)<f.Gg||(0,f.a2)(M-U)<f.Gg?(M+U)/2:(0,f.WE)(X,K),ae=y(oe,ie),ce=ae[0],ge=ae[1],ve=ce-p,be=ge-S,we=te*ve-H*be;(we*we/Q>x||(0,f.a2)((H*ve+te*be)/Q-.5)>.3||E*z+P*j+O*W<l)&&(T(p,S,M,E,P,O,ce,ge,oe,K/=ee,X/=ee,J,F,V),V.point(ce,ge),T(ce,ge,oe,K,X,J,I,R,U,z,j,W,F,V))}}return function(p){var S,M,E,P,O,I,R,U,z,j,W,F,V={point:H,lineStart:te,lineEnd:K,polygonStart:function(){p.polygonStart(),V.lineStart=X},polygonEnd:function(){p.polygonEnd(),V.lineStart=te}};function H(ie,oe){ie=y(ie,oe),p.point(ie[0],ie[1])}function te(){U=NaN,V.point=Q,p.lineStart()}function Q(ie,oe){var ae=(0,n.ux)([ie,oe]),ce=y(ie,oe);T(U,z,R,j,W,F,U=ce[0],z=ce[1],R=ie,j=ae[0],W=ae[1],F=ae[2],i,p),p.point(U,z)}function K(){V.point=H,p.lineEnd()}function X(){te(),V.point=J,V.lineEnd=ee}function J(ie,oe){Q(S=ie,oe),M=U,E=z,P=j,O=W,I=F,V.point=Q}function ee(){T(U,z,R,j,W,F,M,E,S,P,O,I,i,p),V.lineEnd=K,K()}return V}}(g,m):function(y){return(0,t.s)({point:function(x,T){x=y(x,T),this.stream.point(x[0],x[1])}})}(g)}var u=(0,t.s)({point:function(g,m){this.stream.point(g*f.qw,m*f.qw)}});function h(g,m,y,x,T){function p(S,M){return[m+g*(S*=x),y-g*(M*=T)]}return p.invert=function(S,M){return[(S-m)/g*x,(y-M)/g*T]},p}function c(g,m,y,x,T,p){var S=(0,f.W8)(p),M=(0,f.g$)(p),E=S*g,P=M*g,O=S/g,I=M/g,R=(M*y-S*m)/g,U=(M*m+S*y)/g;function z(j,W){return[E*(j*=x)-P*(W*=T)+m,y-P*j-E*W]}return z.invert=function(j,W){return[x*(O*j-I*W+R),T*(U-I*j-O*W)]},z}function b(g){return d(function(){return g})()}function d(g){var m,y,x,T,p,S,M,E,P,O,I=150,R=480,U=250,z=0,j=0,W=0,F=0,V=0,H=0,te=1,Q=1,K=null,X=k.c,J=null,ee=v.c,ie=.5;function oe(ve){return E(ve[0]*f.qw,ve[1]*f.qw)}function ae(ve){return(ve=E.invert(ve[0],ve[1]))&&[ve[0]*f.oh,ve[1]*f.oh]}function ce(){var ve=c(I,0,0,te,Q,H).apply(null,m(z,j)),be=(H?c:h)(I,R-ve[0],U-ve[1],te,Q,H);return y=(0,s.O)(W,F,V),M=(0,_.c)(m,be),E=(0,_.c)(y,M),S=o(M,ie),ge()}function ge(){return P=O=null,oe}return oe.stream=function(ve){return P&&O===ve?P:P=u(function(be){return(0,t.s)({point:function(we,ye){var me=be(we,ye);return this.stream.point(me[0],me[1])}})}(y)(X(S(ee(O=ve)))))},oe.preclip=function(ve){return arguments.length?(X=ve,K=void 0,ge()):X},oe.postclip=function(ve){return arguments.length?(ee=ve,J=x=T=p=null,ge()):ee},oe.clipAngle=function(ve){return arguments.length?(X=+ve?(0,w.c)(K=ve*f.qw):(K=null,k.c),ge()):K*f.oh},oe.clipExtent=function(ve){return arguments.length?(ee=ve==null?(J=x=T=p=null,v.c):(0,r.c)(J=+ve[0][0],x=+ve[0][1],T=+ve[1][0],p=+ve[1][1]),ge()):J==null?null:[[J,x],[T,p]]},oe.scale=function(ve){return arguments.length?(I=+ve,ce()):I},oe.translate=function(ve){return arguments.length?(R=+ve[0],U=+ve[1],ce()):[R,U]},oe.center=function(ve){return arguments.length?(z=ve[0]%360*f.qw,j=ve[1]%360*f.qw,ce()):[z*f.oh,j*f.oh]},oe.rotate=function(ve){return arguments.length?(W=ve[0]%360*f.qw,F=ve[1]%360*f.qw,V=ve.length>2?ve[2]%360*f.qw:0,ce()):[W*f.oh,F*f.oh,V*f.oh]},oe.angle=function(ve){return arguments.length?(H=ve%360*f.qw,ce()):H*f.oh},oe.reflectX=function(ve){return arguments.length?(te=ve?-1:1,ce()):te<0},oe.reflectY=function(ve){return arguments.length?(Q=ve?-1:1,ce()):Q<0},oe.precision=function(ve){return arguments.length?(S=o(M,ie=ve*ve),ge()):(0,f._I)(ie)},oe.fitExtent=function(ve,be){return(0,a.QX)(oe,ve,be)},oe.fitSize=function(ve,be){return(0,a.UV)(oe,ve,be)},oe.fitWidth=function(ve,be){return(0,a.Qx)(oe,ve,be)},oe.fitHeight=function(ve,be){return(0,a.OW)(oe,ve,be)},function(){return m=g.apply(this,arguments),oe.invert=m.invert&&ae,ce()}}},47984:function(B,L,e){e.d(L,{c:function(){return _},g:function(){return r}});var k=e(87952),w=e(64528);function r(v,f){var s=f*f,t=s*s;return[v*(.8707-.131979*s+t*(t*(.003971*s-.001529*t)-.013791)),f*(1.007226+s*(.015085+t*(.028874*s-.044475-.005916*t)))]}function _(){return(0,k.c)(r).scale(175.295)}r.invert=function(v,f){var s,t=f,a=25;do{var n=t*t,i=n*n;t-=s=(t*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))-f)/(1.007226+n*(.045255+i*(.259866*n-.311325-.06507600000000001*i)))}while((0,w.a2)(s)>w.Gg&&--a>0);return[v/(.8707+(n=t*t)*(n*(n*n*n*(.003971-.001529*n)-.013791)-.131979)),t]}},4888:function(B,L,e){e.d(L,{c:function(){return v},t:function(){return _}});var k=e(64528),w=e(62280),r=e(87952);function _(f,s){return[(0,k.W8)(s)*(0,k.g$)(f),(0,k.g$)(s)]}function v(){return(0,r.c)(_).scale(249.5).clipAngle(90+k.Gg)}_.invert=(0,w.g)(k.qR)},92992:function(B,L,e){e.d(L,{O:function(){return _},c:function(){return t}});var k=e(68120),w=e(64528);function r(a,n){return[(0,w.a2)(a)>w.pi?a+Math.round(-a/w.kD)*w.kD:a,n]}function _(a,n,i){return(a%=w.kD)?n||i?(0,k.c)(f(a),s(n,i)):f(a):n||i?s(n,i):r}function v(a){return function(n,i){return[(n+=a)>w.pi?n-w.kD:n<-w.pi?n+w.kD:n,i]}}function f(a){var n=v(a);return n.invert=v(-a),n}function s(a,n){var i=(0,w.W8)(a),l=(0,w.g$)(a),o=(0,w.W8)(n),u=(0,w.g$)(n);function h(c,b){var d=(0,w.W8)(b),g=(0,w.W8)(c)*d,m=(0,w.g$)(c)*d,y=(0,w.g$)(b),x=y*i+g*l;return[(0,w.WE)(m*o-x*u,g*i-y*l),(0,w.qR)(x*o+m*u)]}return h.invert=function(c,b){var d=(0,w.W8)(b),g=(0,w.W8)(c)*d,m=(0,w.g$)(c)*d,y=(0,w.g$)(b),x=y*o-m*u;return[(0,w.WE)(m*o+y*u,g*i+x*l),(0,w.qR)(x*i-g*l)]},h}function t(a){function n(i){return(i=a(i[0]*w.qw,i[1]*w.qw))[0]*=w.oh,i[1]*=w.oh,i}return a=_(a[0]*w.qw,a[1]*w.qw,a.length>2?a[2]*w.qw:0),n.invert=function(i){return(i=a.invert(i[0]*w.qw,i[1]*w.qw))[0]*=w.oh,i[1]*=w.oh,i},n}r.invert=r},16016:function(B,L,e){function k(s,t){s&&r.hasOwnProperty(s.type)&&r[s.type](s,t)}e.d(L,{c:function(){return f}});var w={Feature:function(s,t){k(s.geometry,t)},FeatureCollection:function(s,t){for(var a=s.features,n=-1,i=a.length;++n<i;)k(a[n].geometry,t)}},r={Sphere:function(s,t){t.sphere()},Point:function(s,t){s=s.coordinates,t.point(s[0],s[1],s[2])},MultiPoint:function(s,t){for(var a=s.coordinates,n=-1,i=a.length;++n<i;)s=a[n],t.point(s[0],s[1],s[2])},LineString:function(s,t){_(s.coordinates,t,0)},MultiLineString:function(s,t){for(var a=s.coordinates,n=-1,i=a.length;++n<i;)_(a[n],t,0)},Polygon:function(s,t){v(s.coordinates,t)},MultiPolygon:function(s,t){for(var a=s.coordinates,n=-1,i=a.length;++n<i;)v(a[n],t)},GeometryCollection:function(s,t){for(var a=s.geometries,n=-1,i=a.length;++n<i;)k(a[n],t)}};function _(s,t,a){var n,i=-1,l=s.length-a;for(t.lineStart();++i<l;)n=s[i],t.point(n[0],n[1],n[2]);t.lineEnd()}function v(s,t){var a=-1,n=s.length;for(t.polygonStart();++a<n;)_(s[a],t,1);t.polygonEnd()}function f(s,t){s&&w.hasOwnProperty(s.type)?w[s.type](s,t):k(s,t)}},15196:function(B,L,e){function k(_){return{stream:w(_)}}function w(_){return function(v){var f=new r;for(var s in _)f[s]=_[s];return f.stream=v,f}}function r(){}e.d(L,{c:function(){return k},s:function(){return w}}),r.prototype={constructor:r,point:function(_,v){this.stream.point(_,v)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(B,L,e){function k(le,de){return le.parent===de.parent?1:2}function w(le,de){return le+de.x}function r(le,de){return Math.max(le,de.y)}function _(){var le=k,de=1,Ce=1,Me=!1;function Le(Oe){var Be,pe=0;Oe.eachAfter(function(ze){var Ge=ze.children;Ge?(ze.x=function(Ye){return Ye.reduce(w,0)/Ye.length}(Ge),ze.y=function(Ye){return 1+Ye.reduce(r,0)}(Ge)):(ze.x=Be?pe+=le(ze,Be):0,ze.y=0,Be=ze)});var _e=function(ze){for(var Ge;Ge=ze.children;)ze=Ge[0];return ze}(Oe),Te=function(ze){for(var Ge;Ge=ze.children;)ze=Ge[Ge.length-1];return ze}(Oe),Re=_e.x-le(_e,Te)/2,Ne=Te.x+le(Te,_e)/2;return Oe.eachAfter(Me?function(ze){ze.x=(ze.x-Oe.x)*de,ze.y=(Oe.y-ze.y)*Ce}:function(ze){ze.x=(ze.x-Re)/(Ne-Re)*de,ze.y=(1-(Oe.y?ze.y/Oe.y:1))*Ce})}return Le.separation=function(Oe){return arguments.length?(le=Oe,Le):le},Le.size=function(Oe){return arguments.length?(Me=!1,de=+Oe[0],Ce=+Oe[1],Le):Me?null:[de,Ce]},Le.nodeSize=function(Oe){return arguments.length?(Me=!0,de=+Oe[0],Ce=+Oe[1],Le):Me?[de,Ce]:null},Le}function v(le){var de=0,Ce=le.children,Me=Ce&&Ce.length;if(Me)for(;--Me>=0;)de+=Ce[Me].value;else de=1;le.value=de}function f(le,de){var Ce,Me,Le,Oe,Be,pe=new n(le),_e=+le.value&&(pe.value=le.value),Te=[pe];for(de==null&&(de=s);Ce=Te.pop();)if(_e&&(Ce.value=+Ce.data.value),(Le=de(Ce.data))&&(Be=Le.length))for(Ce.children=new Array(Be),Oe=Be-1;Oe>=0;--Oe)Te.push(Me=Ce.children[Oe]=new n(Le[Oe])),Me.parent=Ce,Me.depth=Ce.depth+1;return pe.eachBefore(a)}function s(le){return le.children}function t(le){le.data=le.data.data}function a(le){var de=0;do le.height=de;while((le=le.parent)&&le.height<++de)}function n(le){this.data=le,this.depth=this.height=0,this.parent=null}e.r(L),e.d(L,{cluster:function(){return _},hierarchy:function(){return f},pack:function(){return I},packEnclose:function(){return l},packSiblings:function(){return S},partition:function(){return F},stratify:function(){return X},tree:function(){return ge},treemap:function(){return me},treemapBinary:function(){return Ae},treemapDice:function(){return W},treemapResquarify:function(){return fe},treemapSlice:function(){return ve},treemapSliceDice:function(){return ke},treemapSquarify:function(){return ye}}),n.prototype=f.prototype={constructor:n,count:function(){return this.eachAfter(v)},each:function(le){var de,Ce,Me,Le,Oe=this,Be=[Oe];do for(de=Be.reverse(),Be=[];Oe=de.pop();)if(le(Oe),Ce=Oe.children)for(Me=0,Le=Ce.length;Me<Le;++Me)Be.push(Ce[Me]);while(Be.length);return this},eachAfter:function(le){for(var de,Ce,Me,Le=this,Oe=[Le],Be=[];Le=Oe.pop();)if(Be.push(Le),de=Le.children)for(Ce=0,Me=de.length;Ce<Me;++Ce)Oe.push(de[Ce]);for(;Le=Be.pop();)le(Le);return this},eachBefore:function(le){for(var de,Ce,Me=this,Le=[Me];Me=Le.pop();)if(le(Me),de=Me.children)for(Ce=de.length-1;Ce>=0;--Ce)Le.push(de[Ce]);return this},sum:function(le){return this.eachAfter(function(de){for(var Ce=+le(de.data)||0,Me=de.children,Le=Me&&Me.length;--Le>=0;)Ce+=Me[Le].value;de.value=Ce})},sort:function(le){return this.eachBefore(function(de){de.children&&de.children.sort(le)})},path:function(le){for(var de=this,Ce=function(Oe,Be){if(Oe===Be)return Oe;var pe=Oe.ancestors(),_e=Be.ancestors(),Te=null;for(Oe=pe.pop(),Be=_e.pop();Oe===Be;)Te=Oe,Oe=pe.pop(),Be=_e.pop();return Te}(de,le),Me=[de];de!==Ce;)de=de.parent,Me.push(de);for(var Le=Me.length;le!==Ce;)Me.splice(Le,0,le),le=le.parent;return Me},ancestors:function(){for(var le=this,de=[le];le=le.parent;)de.push(le);return de},descendants:function(){var le=[];return this.each(function(de){le.push(de)}),le},leaves:function(){var le=[];return this.eachBefore(function(de){de.children||le.push(de)}),le},links:function(){var le=this,de=[];return le.each(function(Ce){Ce!==le&&de.push({source:Ce.parent,target:Ce})}),de},copy:function(){return f(this).eachBefore(t)}};var i=Array.prototype.slice;function l(le){for(var de,Ce,Me=0,Le=(le=function(Be){for(var pe,_e,Te=Be.length;Te;)_e=Math.random()*Te--|0,pe=Be[Te],Be[Te]=Be[_e],Be[_e]=pe;return Be}(i.call(le))).length,Oe=[];Me<Le;)de=le[Me],Ce&&h(Ce,de)?++Me:(Ce=b(Oe=o(Oe,de)),Me=0);return Ce}function o(le,de){var Ce,Me;if(c(de,le))return[de];for(Ce=0;Ce<le.length;++Ce)if(u(de,le[Ce])&&c(d(le[Ce],de),le))return[le[Ce],de];for(Ce=0;Ce<le.length-1;++Ce)for(Me=Ce+1;Me<le.length;++Me)if(u(d(le[Ce],le[Me]),de)&&u(d(le[Ce],de),le[Me])&&u(d(le[Me],de),le[Ce])&&c(g(le[Ce],le[Me],de),le))return[le[Ce],le[Me],de];throw new Error}function u(le,de){var Ce=le.r-de.r,Me=de.x-le.x,Le=de.y-le.y;return Ce<0||Ce*Ce<Me*Me+Le*Le}function h(le,de){var Ce=le.r-de.r+1e-6,Me=de.x-le.x,Le=de.y-le.y;return Ce>0&&Ce*Ce>Me*Me+Le*Le}function c(le,de){for(var Ce=0;Ce<de.length;++Ce)if(!h(le,de[Ce]))return!1;return!0}function b(le){switch(le.length){case 1:return{x:(de=le[0]).x,y:de.y,r:de.r};case 2:return d(le[0],le[1]);case 3:return g(le[0],le[1],le[2])}var de}function d(le,de){var Ce=le.x,Me=le.y,Le=le.r,Oe=de.x,Be=de.y,pe=de.r,_e=Oe-Ce,Te=Be-Me,Re=pe-Le,Ne=Math.sqrt(_e*_e+Te*Te);return{x:(Ce+Oe+_e/Ne*Re)/2,y:(Me+Be+Te/Ne*Re)/2,r:(Ne+Le+pe)/2}}function g(le,de,Ce){var Me=le.x,Le=le.y,Oe=le.r,Be=de.x,pe=de.y,_e=de.r,Te=Ce.x,Re=Ce.y,Ne=Ce.r,ze=Me-Be,Ge=Me-Te,Ye=Le-pe,et=Le-Re,ut=_e-Oe,ot=Ne-Oe,yt=Me*Me+Le*Le-Oe*Oe,wt=yt-Be*Be-pe*pe+_e*_e,bt=yt-Te*Te-Re*Re+Ne*Ne,at=Ge*Ye-ze*et,rt=(Ye*bt-et*wt)/(2*at)-Me,At=(et*ut-Ye*ot)/at,Rt=(Ge*wt-ze*bt)/(2*at)-Le,Ft=(ze*ot-Ge*ut)/at,Dt=At*At+Ft*Ft-1,Xe=2*(Oe+rt*At+Rt*Ft),Ke=rt*rt+Rt*Rt-Oe*Oe,Ve=-(Dt?(Xe+Math.sqrt(Xe*Xe-4*Dt*Ke))/(2*Dt):Ke/Xe);return{x:Me+rt+At*Ve,y:Le+Rt+Ft*Ve,r:Ve}}function m(le,de,Ce){var Me,Le,Oe,Be,pe=le.x-de.x,_e=le.y-de.y,Te=pe*pe+_e*_e;Te?(Le=de.r+Ce.r,Le*=Le,Be=le.r+Ce.r,Le>(Be*=Be)?(Me=(Te+Be-Le)/(2*Te),Oe=Math.sqrt(Math.max(0,Be/Te-Me*Me)),Ce.x=le.x-Me*pe-Oe*_e,Ce.y=le.y-Me*_e+Oe*pe):(Me=(Te+Le-Be)/(2*Te),Oe=Math.sqrt(Math.max(0,Le/Te-Me*Me)),Ce.x=de.x+Me*pe-Oe*_e,Ce.y=de.y+Me*_e+Oe*pe)):(Ce.x=de.x+Ce.r,Ce.y=de.y)}function y(le,de){var Ce=le.r+de.r-1e-6,Me=de.x-le.x,Le=de.y-le.y;return Ce>0&&Ce*Ce>Me*Me+Le*Le}function x(le){var de=le._,Ce=le.next._,Me=de.r+Ce.r,Le=(de.x*Ce.r+Ce.x*de.r)/Me,Oe=(de.y*Ce.r+Ce.y*de.r)/Me;return Le*Le+Oe*Oe}function T(le){this._=le,this.next=null,this.previous=null}function p(le){if(!(Le=le.length))return 0;var de,Ce,Me,Le,Oe,Be,pe,_e,Te,Re,Ne;if((de=le[0]).x=0,de.y=0,!(Le>1))return de.r;if(Ce=le[1],de.x=-Ce.r,Ce.x=de.r,Ce.y=0,!(Le>2))return de.r+Ce.r;m(Ce,de,Me=le[2]),de=new T(de),Ce=new T(Ce),Me=new T(Me),de.next=Me.previous=Ce,Ce.next=de.previous=Me,Me.next=Ce.previous=de;e:for(pe=3;pe<Le;++pe){m(de._,Ce._,Me=le[pe]),Me=new T(Me),_e=Ce.next,Te=de.previous,Re=Ce._.r,Ne=de._.r;do if(Re<=Ne){if(y(_e._,Me._)){Ce=_e,de.next=Ce,Ce.previous=de,--pe;continue e}Re+=_e._.r,_e=_e.next}else{if(y(Te._,Me._)){(de=Te).next=Ce,Ce.previous=de,--pe;continue e}Ne+=Te._.r,Te=Te.previous}while(_e!==Te.next);for(Me.previous=de,Me.next=Ce,de.next=Ce.previous=Ce=Me,Oe=x(de);(Me=Me.next)!==Ce;)(Be=x(Me))<Oe&&(de=Me,Oe=Be);Ce=de.next}for(de=[Ce._],Me=Ce;(Me=Me.next)!==Ce;)de.push(Me._);for(Me=l(de),pe=0;pe<Le;++pe)(de=le[pe]).x-=Me.x,de.y-=Me.y;return Me.r}function S(le){return p(le),le}function M(le){if(typeof le!="function")throw new Error;return le}function E(){return 0}function P(le){return function(){return le}}function O(le){return Math.sqrt(le.value)}function I(){var le=null,de=1,Ce=1,Me=E;function Le(Oe){return Oe.x=de/2,Oe.y=Ce/2,le?Oe.eachBefore(R(le)).eachAfter(U(Me,.5)).eachBefore(z(1)):Oe.eachBefore(R(O)).eachAfter(U(E,1)).eachAfter(U(Me,Oe.r/Math.min(de,Ce))).eachBefore(z(Math.min(de,Ce)/(2*Oe.r))),Oe}return Le.radius=function(Oe){return arguments.length?(le=(Be=Oe)==null?null:M(Be),Le):le;var Be},Le.size=function(Oe){return arguments.length?(de=+Oe[0],Ce=+Oe[1],Le):[de,Ce]},Le.padding=function(Oe){return arguments.length?(Me=typeof Oe=="function"?Oe:P(+Oe),Le):Me},Le}function R(le){return function(de){de.children||(de.r=Math.max(0,+le(de)||0))}}function U(le,de){return function(Ce){if(Me=Ce.children){var Me,Le,Oe,Be=Me.length,pe=le(Ce)*de||0;if(pe)for(Le=0;Le<Be;++Le)Me[Le].r+=pe;if(Oe=p(Me),pe)for(Le=0;Le<Be;++Le)Me[Le].r-=pe;Ce.r=Oe+pe}}}function z(le){return function(de){var Ce=de.parent;de.r*=le,Ce&&(de.x=Ce.x+le*de.x,de.y=Ce.y+le*de.y)}}function j(le){le.x0=Math.round(le.x0),le.y0=Math.round(le.y0),le.x1=Math.round(le.x1),le.y1=Math.round(le.y1)}function W(le,de,Ce,Me,Le){for(var Oe,Be=le.children,pe=-1,_e=Be.length,Te=le.value&&(Me-de)/le.value;++pe<_e;)(Oe=Be[pe]).y0=Ce,Oe.y1=Le,Oe.x0=de,Oe.x1=de+=Oe.value*Te}function F(){var le=1,de=1,Ce=0,Me=!1;function Le(Oe){var Be=Oe.height+1;return Oe.x0=Oe.y0=Ce,Oe.x1=le,Oe.y1=de/Be,Oe.eachBefore(function(pe,_e){return function(Te){Te.children&&W(Te,Te.x0,pe*(Te.depth+1)/_e,Te.x1,pe*(Te.depth+2)/_e);var Re=Te.x0,Ne=Te.y0,ze=Te.x1-Ce,Ge=Te.y1-Ce;ze<Re&&(Re=ze=(Re+ze)/2),Ge<Ne&&(Ne=Ge=(Ne+Ge)/2),Te.x0=Re,Te.y0=Ne,Te.x1=ze,Te.y1=Ge}}(de,Be)),Me&&Oe.eachBefore(j),Oe}return Le.round=function(Oe){return arguments.length?(Me=!!Oe,Le):Me},Le.size=function(Oe){return arguments.length?(le=+Oe[0],de=+Oe[1],Le):[le,de]},Le.padding=function(Oe){return arguments.length?(Ce=+Oe,Le):Ce},Le}var V="$",H={depth:-1},te={};function Q(le){return le.id}function K(le){return le.parentId}function X(){var le=Q,de=K;function Ce(Me){var Le,Oe,Be,pe,_e,Te,Re,Ne=Me.length,ze=new Array(Ne),Ge={};for(Oe=0;Oe<Ne;++Oe)Le=Me[Oe],_e=ze[Oe]=new n(Le),(Te=le(Le,Oe,Me))!=null&&(Te+="")&&(Ge[Re=V+(_e.id=Te)]=Re in Ge?te:_e);for(Oe=0;Oe<Ne;++Oe)if(_e=ze[Oe],(Te=de(Me[Oe],Oe,Me))!=null&&(Te+="")){if(!(pe=Ge[V+Te]))throw new Error("missing: "+Te);if(pe===te)throw new Error("ambiguous: "+Te);pe.children?pe.children.push(_e):pe.children=[_e],_e.parent=pe}else{if(Be)throw new Error("multiple roots");Be=_e}if(!Be)throw new Error("no root");if(Be.parent=H,Be.eachBefore(function(Ye){Ye.depth=Ye.parent.depth+1,--Ne}).eachBefore(a),Be.parent=null,Ne>0)throw new Error("cycle");return Be}return Ce.id=function(Me){return arguments.length?(le=M(Me),Ce):le},Ce.parentId=function(Me){return arguments.length?(de=M(Me),Ce):de},Ce}function J(le,de){return le.parent===de.parent?1:2}function ee(le){var de=le.children;return de?de[0]:le.t}function ie(le){var de=le.children;return de?de[de.length-1]:le.t}function oe(le,de,Ce){var Me=Ce/(de.i-le.i);de.c-=Me,de.s+=Ce,le.c+=Me,de.z+=Ce,de.m+=Ce}function ae(le,de,Ce){return le.a.parent===de.parent?le.a:Ce}function ce(le,de){this._=le,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=de}function ge(){var le=J,de=1,Ce=1,Me=null;function Le(_e){var Te=function(ot){for(var yt,wt,bt,at,rt,At=new ce(ot,0),Rt=[At];yt=Rt.pop();)if(bt=yt._.children)for(yt.children=new Array(rt=bt.length),at=rt-1;at>=0;--at)Rt.push(wt=yt.children[at]=new ce(bt[at],at)),wt.parent=yt;return(At.parent=new ce(null,0)).children=[At],At}(_e);if(Te.eachAfter(Oe),Te.parent.m=-Te.z,Te.eachBefore(Be),Me)_e.eachBefore(pe);else{var Re=_e,Ne=_e,ze=_e;_e.eachBefore(function(ot){ot.x<Re.x&&(Re=ot),ot.x>Ne.x&&(Ne=ot),ot.depth>ze.depth&&(ze=ot)});var Ge=Re===Ne?1:le(Re,Ne)/2,Ye=Ge-Re.x,et=de/(Ne.x+Ge+Ye),ut=Ce/(ze.depth||1);_e.eachBefore(function(ot){ot.x=(ot.x+Ye)*et,ot.y=ot.depth*ut})}return _e}function Oe(_e){var Te=_e.children,Re=_e.parent.children,Ne=_e.i?Re[_e.i-1]:null;if(Te){(function(Ge){for(var Ye,et=0,ut=0,ot=Ge.children,yt=ot.length;--yt>=0;)(Ye=ot[yt]).z+=et,Ye.m+=et,et+=Ye.s+(ut+=Ye.c)})(_e);var ze=(Te[0].z+Te[Te.length-1].z)/2;Ne?(_e.z=Ne.z+le(_e._,Ne._),_e.m=_e.z-ze):_e.z=ze}else Ne&&(_e.z=Ne.z+le(_e._,Ne._));_e.parent.A=function(Ge,Ye,et){if(Ye){for(var ut,ot=Ge,yt=Ge,wt=Ye,bt=ot.parent.children[0],at=ot.m,rt=yt.m,At=wt.m,Rt=bt.m;wt=ie(wt),ot=ee(ot),wt&&ot;)bt=ee(bt),(yt=ie(yt)).a=Ge,(ut=wt.z+At-ot.z-at+le(wt._,ot._))>0&&(oe(ae(wt,Ge,et),Ge,ut),at+=ut,rt+=ut),At+=wt.m,at+=ot.m,Rt+=bt.m,rt+=yt.m;wt&&!ie(yt)&&(yt.t=wt,yt.m+=At-rt),ot&&!ee(bt)&&(bt.t=ot,bt.m+=at-Rt,et=Ge)}return et}(_e,Ne,_e.parent.A||Re[0])}function Be(_e){_e._.x=_e.z+_e.parent.m,_e.m+=_e.parent.m}function pe(_e){_e.x*=de,_e.y=_e.depth*Ce}return Le.separation=function(_e){return arguments.length?(le=_e,Le):le},Le.size=function(_e){return arguments.length?(Me=!1,de=+_e[0],Ce=+_e[1],Le):Me?null:[de,Ce]},Le.nodeSize=function(_e){return arguments.length?(Me=!0,de=+_e[0],Ce=+_e[1],Le):Me?[de,Ce]:null},Le}function ve(le,de,Ce,Me,Le){for(var Oe,Be=le.children,pe=-1,_e=Be.length,Te=le.value&&(Le-Ce)/le.value;++pe<_e;)(Oe=Be[pe]).x0=de,Oe.x1=Me,Oe.y0=Ce,Oe.y1=Ce+=Oe.value*Te}ce.prototype=Object.create(n.prototype);var be=(1+Math.sqrt(5))/2;function we(le,de,Ce,Me,Le,Oe){for(var Be,pe,_e,Te,Re,Ne,ze,Ge,Ye,et,ut,ot=[],yt=de.children,wt=0,bt=0,at=yt.length,rt=de.value;wt<at;){_e=Le-Ce,Te=Oe-Me;do Re=yt[bt++].value;while(!Re&&bt<at);for(Ne=ze=Re,ut=Re*Re*(et=Math.max(Te/_e,_e/Te)/(rt*le)),Ye=Math.max(ze/ut,ut/Ne);bt<at;++bt){if(Re+=pe=yt[bt].value,pe<Ne&&(Ne=pe),pe>ze&&(ze=pe),ut=Re*Re*et,(Ge=Math.max(ze/ut,ut/Ne))>Ye){Re-=pe;break}Ye=Ge}ot.push(Be={value:Re,dice:_e<Te,children:yt.slice(wt,bt)}),Be.dice?W(Be,Ce,Me,Le,rt?Me+=Te*Re/rt:Oe):ve(Be,Ce,Me,rt?Ce+=_e*Re/rt:Le,Oe),rt-=Re,wt=bt}return ot}var ye=function le(de){function Ce(Me,Le,Oe,Be,pe){we(de,Me,Le,Oe,Be,pe)}return Ce.ratio=function(Me){return le((Me=+Me)>1?Me:1)},Ce}(be);function me(){var le=ye,de=!1,Ce=1,Me=1,Le=[0],Oe=E,Be=E,pe=E,_e=E,Te=E;function Re(ze){return ze.x0=ze.y0=0,ze.x1=Ce,ze.y1=Me,ze.eachBefore(Ne),Le=[0],de&&ze.eachBefore(j),ze}function Ne(ze){var Ge=Le[ze.depth],Ye=ze.x0+Ge,et=ze.y0+Ge,ut=ze.x1-Ge,ot=ze.y1-Ge;ut<Ye&&(Ye=ut=(Ye+ut)/2),ot<et&&(et=ot=(et+ot)/2),ze.x0=Ye,ze.y0=et,ze.x1=ut,ze.y1=ot,ze.children&&(Ge=Le[ze.depth+1]=Oe(ze)/2,Ye+=Te(ze)-Ge,et+=Be(ze)-Ge,(ut-=pe(ze)-Ge)<Ye&&(Ye=ut=(Ye+ut)/2),(ot-=_e(ze)-Ge)<et&&(et=ot=(et+ot)/2),le(ze,Ye,et,ut,ot))}return Re.round=function(ze){return arguments.length?(de=!!ze,Re):de},Re.size=function(ze){return arguments.length?(Ce=+ze[0],Me=+ze[1],Re):[Ce,Me]},Re.tile=function(ze){return arguments.length?(le=M(ze),Re):le},Re.padding=function(ze){return arguments.length?Re.paddingInner(ze).paddingOuter(ze):Re.paddingInner()},Re.paddingInner=function(ze){return arguments.length?(Oe=typeof ze=="function"?ze:P(+ze),Re):Oe},Re.paddingOuter=function(ze){return arguments.length?Re.paddingTop(ze).paddingRight(ze).paddingBottom(ze).paddingLeft(ze):Re.paddingTop()},Re.paddingTop=function(ze){return arguments.length?(Be=typeof ze=="function"?ze:P(+ze),Re):Be},Re.paddingRight=function(ze){return arguments.length?(pe=typeof ze=="function"?ze:P(+ze),Re):pe},Re.paddingBottom=function(ze){return arguments.length?(_e=typeof ze=="function"?ze:P(+ze),Re):_e},Re.paddingLeft=function(ze){return arguments.length?(Te=typeof ze=="function"?ze:P(+ze),Re):Te},Re}function Ae(le,de,Ce,Me,Le){var Oe,Be,pe=le.children,_e=pe.length,Te=new Array(_e+1);for(Te[0]=Be=Oe=0;Oe<_e;++Oe)Te[Oe+1]=Be+=pe[Oe].value;(function Re(Ne,ze,Ge,Ye,et,ut,ot){if(Ne>=ze-1){var yt=pe[Ne];return yt.x0=Ye,yt.y0=et,yt.x1=ut,void(yt.y1=ot)}for(var wt=Te[Ne],bt=Ge/2+wt,at=Ne+1,rt=ze-1;at<rt;){var At=at+rt>>>1;Te[At]<bt?at=At+1:rt=At}bt-Te[at-1]<Te[at]-bt&&Ne+1<at&&--at;var Rt=Te[at]-wt,Ft=Ge-Rt;if(ut-Ye>ot-et){var Dt=(Ye*Ft+ut*Rt)/Ge;Re(Ne,at,Rt,Ye,et,Dt,ot),Re(at,ze,Ft,Dt,et,ut,ot)}else{var Xe=(et*Ft+ot*Rt)/Ge;Re(Ne,at,Rt,Ye,et,ut,Xe),Re(at,ze,Ft,Ye,Xe,ut,ot)}})(0,_e,le.value,de,Ce,Me,Le)}function ke(le,de,Ce,Me,Le){(1&le.depth?ve:W)(le,de,Ce,Me,Le)}var fe=function le(de){function Ce(Me,Le,Oe,Be,pe){if((_e=Me._squarify)&&_e.ratio===de)for(var _e,Te,Re,Ne,ze,Ge=-1,Ye=_e.length,et=Me.value;++Ge<Ye;){for(Re=(Te=_e[Ge]).children,Ne=Te.value=0,ze=Re.length;Ne<ze;++Ne)Te.value+=Re[Ne].value;Te.dice?W(Te,Le,Oe,Be,Oe+=(pe-Oe)*Te.value/et):ve(Te,Le,Oe,Le+=(Be-Le)*Te.value/et,pe),et-=Te.value}else Me._squarify=_e=we(de,Me,Le,Oe,Be,pe),_e.ratio=de}return Ce.ratio=function(Me){return le((Me=+Me)>1?Me:1)},Ce}(be)},10132:function(B,L,e){e.d(L,{ak:function(){return h}});var k=Math.PI,w=2*k,r=1e-6,_=w-r;function v(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function f(){return new v}v.prototype=f.prototype={constructor:v,moveTo:function(c,b){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+b)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(c,b){this._+="L"+(this._x1=+c)+","+(this._y1=+b)},quadraticCurveTo:function(c,b,d,g){this._+="Q"+ +c+","+ +b+","+(this._x1=+d)+","+(this._y1=+g)},bezierCurveTo:function(c,b,d,g,m,y){this._+="C"+ +c+","+ +b+","+ +d+","+ +g+","+(this._x1=+m)+","+(this._y1=+y)},arcTo:function(c,b,d,g,m){c=+c,b=+b,d=+d,g=+g,m=+m;var y=this._x1,x=this._y1,T=d-c,p=g-b,S=y-c,M=x-b,E=S*S+M*M;if(m<0)throw new Error("negative radius: "+m);if(this._x1===null)this._+="M"+(this._x1=c)+","+(this._y1=b);else if(E>r)if(Math.abs(M*T-p*S)>r&&m){var P=d-y,O=g-x,I=T*T+p*p,R=P*P+O*O,U=Math.sqrt(I),z=Math.sqrt(E),j=m*Math.tan((k-Math.acos((I+E-R)/(2*U*z)))/2),W=j/z,F=j/U;Math.abs(W-1)>r&&(this._+="L"+(c+W*S)+","+(b+W*M)),this._+="A"+m+","+m+",0,0,"+ +(M*P>S*O)+","+(this._x1=c+F*T)+","+(this._y1=b+F*p)}else this._+="L"+(this._x1=c)+","+(this._y1=b)},arc:function(c,b,d,g,m,y){c=+c,b=+b,y=!!y;var x=(d=+d)*Math.cos(g),T=d*Math.sin(g),p=c+x,S=b+T,M=1^y,E=y?g-m:m-g;if(d<0)throw new Error("negative radius: "+d);this._x1===null?this._+="M"+p+","+S:(Math.abs(this._x1-p)>r||Math.abs(this._y1-S)>r)&&(this._+="L"+p+","+S),d&&(E<0&&(E=E%w+w),E>_?this._+="A"+d+","+d+",0,1,"+M+","+(c-x)+","+(b-T)+"A"+d+","+d+",0,1,"+M+","+(this._x1=p)+","+(this._y1=S):E>r&&(this._+="A"+d+","+d+",0,"+ +(E>=k)+","+M+","+(this._x1=c+d*Math.cos(m))+","+(this._y1=b+d*Math.sin(m))))},rect:function(c,b,d,g){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+b)+"h"+ +d+"v"+ +g+"h"+-d+"Z"},toString:function(){return this._}};var s=f,t=Array.prototype.slice;function a(c){return function(){return c}}function n(c){return c[0]}function i(c){return c[1]}function l(c){return c.source}function o(c){return c.target}function u(c,b,d,g,m){c.moveTo(b,d),c.bezierCurveTo(b=(b+g)/2,d,b,m,g,m)}function h(){return function(c){var b=l,d=o,g=n,m=i,y=null;function x(){var T,p=t.call(arguments),S=b.apply(this,p),M=d.apply(this,p);if(y||(y=T=s()),c(y,+g.apply(this,(p[0]=S,p)),+m.apply(this,p),+g.apply(this,(p[0]=M,p)),+m.apply(this,p)),T)return y=null,T+""||null}return x.source=function(T){return arguments.length?(b=T,x):b},x.target=function(T){return arguments.length?(d=T,x):d},x.x=function(T){return arguments.length?(g=typeof T=="function"?T:a(+T),x):g},x.y=function(T){return arguments.length?(m=typeof T=="function"?T:a(+T),x):m},x.context=function(T){return arguments.length?(y=T??null,x):y},x}(u)}},94336:function(B,L,e){e.d(L,{Yn:function(){return l},m_:function(){return n},E9:function(){return o}});var k=e(8208),w=e(58931),r=e(46192),_=e(68936),v=e(32171),f=e(53528);function s(at){if(0<=at.y&&at.y<100){var rt=new Date(-1,at.m,at.d,at.H,at.M,at.S,at.L);return rt.setFullYear(at.y),rt}return new Date(at.y,at.m,at.d,at.H,at.M,at.S,at.L)}function t(at){if(0<=at.y&&at.y<100){var rt=new Date(Date.UTC(-1,at.m,at.d,at.H,at.M,at.S,at.L));return rt.setUTCFullYear(at.y),rt}return new Date(Date.UTC(at.y,at.m,at.d,at.H,at.M,at.S,at.L))}function a(at,rt,At){return{y:at,m:rt,d:At,H:0,M:0,S:0,L:0}}function n(at){var rt=at.dateTime,At=at.date,Rt=at.time,Ft=at.periods,Dt=at.days,Xe=at.shortDays,Ke=at.months,Ve=at.shortMonths,Je=m(Ft),ct=y(Ft),st=m(Dt),je=y(Dt),Ue=m(Xe),lt=y(Xe),Qe=m(Ke),gt=y(Ke),mt=m(Ve),xt=y(Ve),dt={a:function(Bt){return Xe[Bt.getDay()]},A:function(Bt){return Dt[Bt.getDay()]},b:function(Bt){return Ve[Bt.getMonth()]},B:function(Bt){return Ke[Bt.getMonth()]},c:null,d:X,e:X,f:ae,H:J,I:ee,j:ie,L:oe,m:ce,M:ge,p:function(Bt){return Ft[+(Bt.getHours()>=12)]},q:function(Bt){return 1+~~(Bt.getMonth()/3)},Q:wt,s:bt,S:ve,u:be,U:we,V:ye,w:me,W:Ae,x:null,X:null,y:ke,Y:fe,Z:le,"%":yt},Lt={a:function(Bt){return Xe[Bt.getUTCDay()]},A:function(Bt){return Dt[Bt.getUTCDay()]},b:function(Bt){return Ve[Bt.getUTCMonth()]},B:function(Bt){return Ke[Bt.getUTCMonth()]},c:null,d:de,e:de,f:Be,H:Ce,I:Me,j:Le,L:Oe,m:pe,M:_e,p:function(Bt){return Ft[+(Bt.getUTCHours()>=12)]},q:function(Bt){return 1+~~(Bt.getUTCMonth()/3)},Q:wt,s:bt,S:Te,u:Re,U:Ne,V:ze,w:Ge,W:Ye,x:null,X:null,y:et,Y:ut,Z:ot,"%":yt},kt={a:function(Bt,Jt,on){var qt=Ue.exec(Jt.slice(on));return qt?(Bt.w=lt[qt[0].toLowerCase()],on+qt[0].length):-1},A:function(Bt,Jt,on){var qt=st.exec(Jt.slice(on));return qt?(Bt.w=je[qt[0].toLowerCase()],on+qt[0].length):-1},b:function(Bt,Jt,on){var qt=mt.exec(Jt.slice(on));return qt?(Bt.m=xt[qt[0].toLowerCase()],on+qt[0].length):-1},B:function(Bt,Jt,on){var qt=Qe.exec(Jt.slice(on));return qt?(Bt.m=gt[qt[0].toLowerCase()],on+qt[0].length):-1},c:function(Bt,Jt,on){return Pt(Bt,rt,Jt,on)},d:U,e:U,f:H,H:j,I:j,j:z,L:V,m:R,M:W,p:function(Bt,Jt,on){var qt=Je.exec(Jt.slice(on));return qt?(Bt.p=ct[qt[0].toLowerCase()],on+qt[0].length):-1},q:I,Q,s:K,S:F,u:T,U:p,V:S,w:x,W:M,x:function(Bt,Jt,on){return Pt(Bt,At,Jt,on)},X:function(Bt,Jt,on){return Pt(Bt,Rt,Jt,on)},y:P,Y:E,Z:O,"%":te};function _t(Bt,Jt){return function(on){var qt,Gt,nn,Cn=[],An=-1,dn=0,Kt=Bt.length;for(on instanceof Date||(on=new Date(+on));++An<Kt;)Bt.charCodeAt(An)===37&&(Cn.push(Bt.slice(dn,An)),(Gt=u[qt=Bt.charAt(++An)])!=null?qt=Bt.charAt(++An):Gt=qt==="e"?" ":"0",(nn=Jt[qt])&&(qt=nn(on,Gt)),Cn.push(qt),dn=An+1);return Cn.push(Bt.slice(dn,An)),Cn.join("")}}function Ot(Bt,Jt){return function(on){var qt,Gt,nn=a(1900,void 0,1);if(Pt(nn,Bt,on+="",0)!=on.length)return null;if("Q"in nn)return new Date(nn.Q);if("s"in nn)return new Date(1e3*nn.s+("L"in nn?nn.L:0));if(Jt&&!("Z"in nn)&&(nn.Z=0),"p"in nn&&(nn.H=nn.H%12+12*nn.p),nn.m===void 0&&(nn.m="q"in nn?nn.q:0),"V"in nn){if(nn.V<1||nn.V>53)return null;"w"in nn||(nn.w=1),"Z"in nn?(Gt=(qt=t(a(nn.y,0,1))).getUTCDay(),qt=Gt>4||Gt===0?k.ot.ceil(qt):(0,k.ot)(qt),qt=w.c.offset(qt,7*(nn.V-1)),nn.y=qt.getUTCFullYear(),nn.m=qt.getUTCMonth(),nn.d=qt.getUTCDate()+(nn.w+6)%7):(Gt=(qt=s(a(nn.y,0,1))).getDay(),qt=Gt>4||Gt===0?r.qT.ceil(qt):(0,r.qT)(qt),qt=_.c.offset(qt,7*(nn.V-1)),nn.y=qt.getFullYear(),nn.m=qt.getMonth(),nn.d=qt.getDate()+(nn.w+6)%7)}else("W"in nn||"U"in nn)&&("w"in nn||(nn.w="u"in nn?nn.u%7:"W"in nn?1:0),Gt="Z"in nn?t(a(nn.y,0,1)).getUTCDay():s(a(nn.y,0,1)).getDay(),nn.m=0,nn.d="W"in nn?(nn.w+6)%7+7*nn.W-(Gt+5)%7:nn.w+7*nn.U-(Gt+6)%7);return"Z"in nn?(nn.H+=nn.Z/100|0,nn.M+=nn.Z%100,t(nn)):s(nn)}}function Pt(Bt,Jt,on,qt){for(var Gt,nn,Cn=0,An=Jt.length,dn=on.length;Cn<An;){if(qt>=dn)return-1;if((Gt=Jt.charCodeAt(Cn++))===37){if(Gt=Jt.charAt(Cn++),!(nn=kt[Gt in u?Jt.charAt(Cn++):Gt])||(qt=nn(Bt,on,qt))<0)return-1}else if(Gt!=on.charCodeAt(qt++))return-1}return qt}return dt.x=_t(At,dt),dt.X=_t(Rt,dt),dt.c=_t(rt,dt),Lt.x=_t(At,Lt),Lt.X=_t(Rt,Lt),Lt.c=_t(rt,Lt),{format:function(Bt){var Jt=_t(Bt+="",dt);return Jt.toString=function(){return Bt},Jt},parse:function(Bt){var Jt=Ot(Bt+="",!1);return Jt.toString=function(){return Bt},Jt},utcFormat:function(Bt){var Jt=_t(Bt+="",Lt);return Jt.toString=function(){return Bt},Jt},utcParse:function(Bt){var Jt=Ot(Bt+="",!0);return Jt.toString=function(){return Bt},Jt}}}var i,l,o,u={"-":"",_:" ",0:"0"},h=/^\s*\d+/,c=/^%/,b=/[\\^$*+?|[\]().{}]/g;function d(at,rt,At){var Rt=at<0?"-":"",Ft=(Rt?-at:at)+"",Dt=Ft.length;return Rt+(Dt<At?new Array(At-Dt+1).join(rt)+Ft:Ft)}function g(at){return at.replace(b,"\\$&")}function m(at){return new RegExp("^(?:"+at.map(g).join("|")+")","i")}function y(at){for(var rt={},At=-1,Rt=at.length;++At<Rt;)rt[at[At].toLowerCase()]=At;return rt}function x(at,rt,At){var Rt=h.exec(rt.slice(At,At+1));return Rt?(at.w=+Rt[0],At+Rt[0].length):-1}function T(at,rt,At){var Rt=h.exec(rt.slice(At,At+1));return Rt?(at.u=+Rt[0],At+Rt[0].length):-1}function p(at,rt,At){var Rt=h.exec(rt.slice(At,At+2));return Rt?(at.U=+Rt[0],At+Rt[0].length):-1}function S(at,rt,At){var Rt=h.exec(rt.slice(At,At+2));return Rt?(at.V=+Rt[0],At+Rt[0].length):-1}function M(at,rt,At){var Rt=h.exec(rt.slice(At,At+2));return Rt?(at.W=+Rt[0],At+Rt[0].length):-1}function E(at,rt,At){var Rt=h.exec(rt.slice(At,At+4));return Rt?(at.y=+Rt[0],At+Rt[0].length):-1}function P(at,rt,At){var Rt=h.exec(rt.slice(At,At+2));return Rt?(at.y=+Rt[0]+(+Rt[0]>68?1900:2e3),At+Rt[0].length):-1}function O(at,rt,At){var Rt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(rt.slice(At,At+6));return Rt?(at.Z=Rt[1]?0:-(Rt[2]+(Rt[3]||"00")),At+Rt[0].length):-1}function I(at,rt,At){var Rt=h.exec(rt.slice(At,At+1));return Rt?(at.q=3*Rt[0]-3,At+Rt[0].length):-1}function R(at,rt,At){var Rt=h.exec(rt.slice(At,At+2));return Rt?(at.m=Rt[0]-1,At+Rt[0].length):-1}function U(at,rt,At){var Rt=h.exec(rt.slice(At,At+2));return Rt?(at.d=+Rt[0],At+Rt[0].length):-1}function z(at,rt,At){var Rt=h.exec(rt.slice(At,At+3));return Rt?(at.m=0,at.d=+Rt[0],At+Rt[0].length):-1}function j(at,rt,At){var Rt=h.exec(rt.slice(At,At+2));return Rt?(at.H=+Rt[0],At+Rt[0].length):-1}function W(at,rt,At){var Rt=h.exec(rt.slice(At,At+2));return Rt?(at.M=+Rt[0],At+Rt[0].length):-1}function F(at,rt,At){var Rt=h.exec(rt.slice(At,At+2));return Rt?(at.S=+Rt[0],At+Rt[0].length):-1}function V(at,rt,At){var Rt=h.exec(rt.slice(At,At+3));return Rt?(at.L=+Rt[0],At+Rt[0].length):-1}function H(at,rt,At){var Rt=h.exec(rt.slice(At,At+6));return Rt?(at.L=Math.floor(Rt[0]/1e3),At+Rt[0].length):-1}function te(at,rt,At){var Rt=c.exec(rt.slice(At,At+1));return Rt?At+Rt[0].length:-1}function Q(at,rt,At){var Rt=h.exec(rt.slice(At));return Rt?(at.Q=+Rt[0],At+Rt[0].length):-1}function K(at,rt,At){var Rt=h.exec(rt.slice(At));return Rt?(at.s=+Rt[0],At+Rt[0].length):-1}function X(at,rt){return d(at.getDate(),rt,2)}function J(at,rt){return d(at.getHours(),rt,2)}function ee(at,rt){return d(at.getHours()%12||12,rt,2)}function ie(at,rt){return d(1+_.c.count((0,v.c)(at),at),rt,3)}function oe(at,rt){return d(at.getMilliseconds(),rt,3)}function ae(at,rt){return oe(at,rt)+"000"}function ce(at,rt){return d(at.getMonth()+1,rt,2)}function ge(at,rt){return d(at.getMinutes(),rt,2)}function ve(at,rt){return d(at.getSeconds(),rt,2)}function be(at){var rt=at.getDay();return rt===0?7:rt}function we(at,rt){return d(r.uU.count((0,v.c)(at)-1,at),rt,2)}function ye(at,rt){var At=at.getDay();return at=At>=4||At===0?(0,r.kD)(at):r.kD.ceil(at),d(r.kD.count((0,v.c)(at),at)+((0,v.c)(at).getDay()===4),rt,2)}function me(at){return at.getDay()}function Ae(at,rt){return d(r.qT.count((0,v.c)(at)-1,at),rt,2)}function ke(at,rt){return d(at.getFullYear()%100,rt,2)}function fe(at,rt){return d(at.getFullYear()%1e4,rt,4)}function le(at){var rt=at.getTimezoneOffset();return(rt>0?"-":(rt*=-1,"+"))+d(rt/60|0,"0",2)+d(rt%60,"0",2)}function de(at,rt){return d(at.getUTCDate(),rt,2)}function Ce(at,rt){return d(at.getUTCHours(),rt,2)}function Me(at,rt){return d(at.getUTCHours()%12||12,rt,2)}function Le(at,rt){return d(1+w.c.count((0,f.c)(at),at),rt,3)}function Oe(at,rt){return d(at.getUTCMilliseconds(),rt,3)}function Be(at,rt){return Oe(at,rt)+"000"}function pe(at,rt){return d(at.getUTCMonth()+1,rt,2)}function _e(at,rt){return d(at.getUTCMinutes(),rt,2)}function Te(at,rt){return d(at.getUTCSeconds(),rt,2)}function Re(at){var rt=at.getUTCDay();return rt===0?7:rt}function Ne(at,rt){return d(k.EV.count((0,f.c)(at)-1,at),rt,2)}function ze(at,rt){var At=at.getUTCDay();return at=At>=4||At===0?(0,k.yA)(at):k.yA.ceil(at),d(k.yA.count((0,f.c)(at),at)+((0,f.c)(at).getUTCDay()===4),rt,2)}function Ge(at){return at.getUTCDay()}function Ye(at,rt){return d(k.ot.count((0,f.c)(at)-1,at),rt,2)}function et(at,rt){return d(at.getUTCFullYear()%100,rt,2)}function ut(at,rt){return d(at.getUTCFullYear()%1e4,rt,4)}function ot(){return"+0000"}function yt(){return"%"}function wt(at){return+at}function bt(at){return Math.floor(+at/1e3)}i=n({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),l=i.format,i.parse,o=i.utcFormat,i.utcParse},68936:function(B,L,e){e.d(L,{m:function(){return _}});var k=e(81628),w=e(69792),r=(0,k.c)(function(v){v.setHours(0,0,0,0)},function(v,f){v.setDate(v.getDate()+f)},function(v,f){return(f-v-(f.getTimezoneOffset()-v.getTimezoneOffset())*w.iy)/w.SK},function(v){return v.getDate()-1});L.c=r;var _=r.range},69792:function(B,L,e){e.d(L,{KK:function(){return v},SK:function(){return _},cg:function(){return r},iy:function(){return w},yc:function(){return k}});var k=1e3,w=6e4,r=36e5,_=864e5,v=6048e5},73220:function(B,L,e){e.r(L),e.d(L,{timeDay:function(){return h.c},timeDays:function(){return h.m},timeFriday:function(){return c.iB},timeFridays:function(){return c.sJ},timeHour:function(){return o},timeHours:function(){return u},timeInterval:function(){return k.c},timeMillisecond:function(){return r},timeMilliseconds:function(){return _},timeMinute:function(){return n},timeMinutes:function(){return i},timeMonday:function(){return c.qT},timeMondays:function(){return c.QP},timeMonth:function(){return d},timeMonths:function(){return g},timeSaturday:function(){return c.Wc},timeSaturdays:function(){return c.aI},timeSecond:function(){return s},timeSeconds:function(){return t},timeSunday:function(){return c.uU},timeSundays:function(){return c.Ab},timeThursday:function(){return c.kD},timeThursdays:function(){return c.eC},timeTuesday:function(){return c.Mf},timeTuesdays:function(){return c.Oc},timeWednesday:function(){return c.eg},timeWednesdays:function(){return c.sn},timeWeek:function(){return c.uU},timeWeeks:function(){return c.Ab},timeYear:function(){return m.c},timeYears:function(){return m.Q},utcDay:function(){return E.c},utcDays:function(){return E.o},utcFriday:function(){return P.od},utcFridays:function(){return P.iG},utcHour:function(){return S},utcHours:function(){return M},utcMillisecond:function(){return r},utcMilliseconds:function(){return _},utcMinute:function(){return x},utcMinutes:function(){return T},utcMonday:function(){return P.ot},utcMondays:function(){return P.iO},utcMonth:function(){return I},utcMonths:function(){return R},utcSaturday:function(){return P.Ad},utcSaturdays:function(){return P.K8},utcSecond:function(){return s},utcSeconds:function(){return t},utcSunday:function(){return P.EV},utcSundays:function(){return P.Wq},utcThursday:function(){return P.yA},utcThursdays:function(){return P.ob},utcTuesday:function(){return P.sG},utcTuesdays:function(){return P.kl},utcWednesday:function(){return P._6},utcWednesdays:function(){return P.W_},utcWeek:function(){return P.EV},utcWeeks:function(){return P.Wq},utcYear:function(){return U.c},utcYears:function(){return U.i}});var k=e(81628),w=(0,k.c)(function(){},function(z,j){z.setTime(+z+j)},function(z,j){return j-z});w.every=function(z){return z=Math.floor(z),isFinite(z)&&z>0?z>1?(0,k.c)(function(j){j.setTime(Math.floor(j/z)*z)},function(j,W){j.setTime(+j+W*z)},function(j,W){return(W-j)/z}):w:null};var r=w,_=w.range,v=e(69792),f=(0,k.c)(function(z){z.setTime(z-z.getMilliseconds())},function(z,j){z.setTime(+z+j*v.yc)},function(z,j){return(j-z)/v.yc},function(z){return z.getUTCSeconds()}),s=f,t=f.range,a=(0,k.c)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*v.yc)},function(z,j){z.setTime(+z+j*v.iy)},function(z,j){return(j-z)/v.iy},function(z){return z.getMinutes()}),n=a,i=a.range,l=(0,k.c)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*v.yc-z.getMinutes()*v.iy)},function(z,j){z.setTime(+z+j*v.cg)},function(z,j){return(j-z)/v.cg},function(z){return z.getHours()}),o=l,u=l.range,h=e(68936),c=e(46192),b=(0,k.c)(function(z){z.setDate(1),z.setHours(0,0,0,0)},function(z,j){z.setMonth(z.getMonth()+j)},function(z,j){return j.getMonth()-z.getMonth()+12*(j.getFullYear()-z.getFullYear())},function(z){return z.getMonth()}),d=b,g=b.range,m=e(32171),y=(0,k.c)(function(z){z.setUTCSeconds(0,0)},function(z,j){z.setTime(+z+j*v.iy)},function(z,j){return(j-z)/v.iy},function(z){return z.getUTCMinutes()}),x=y,T=y.range,p=(0,k.c)(function(z){z.setUTCMinutes(0,0,0)},function(z,j){z.setTime(+z+j*v.cg)},function(z,j){return(j-z)/v.cg},function(z){return z.getUTCHours()}),S=p,M=p.range,E=e(58931),P=e(8208),O=(0,k.c)(function(z){z.setUTCDate(1),z.setUTCHours(0,0,0,0)},function(z,j){z.setUTCMonth(z.getUTCMonth()+j)},function(z,j){return j.getUTCMonth()-z.getUTCMonth()+12*(j.getUTCFullYear()-z.getUTCFullYear())},function(z){return z.getUTCMonth()}),I=O,R=O.range,U=e(53528)},81628:function(B,L,e){e.d(L,{c:function(){return r}});var k=new Date,w=new Date;function r(_,v,f,s){function t(a){return _(a=arguments.length===0?new Date:new Date(+a)),a}return t.floor=function(a){return _(a=new Date(+a)),a},t.ceil=function(a){return _(a=new Date(a-1)),v(a,1),_(a),a},t.round=function(a){var n=t(a),i=t.ceil(a);return a-n<i-a?n:i},t.offset=function(a,n){return v(a=new Date(+a),n==null?1:Math.floor(n)),a},t.range=function(a,n,i){var l,o=[];if(a=t.ceil(a),i=i==null?1:Math.floor(i),!(a<n&&i>0))return o;do o.push(l=new Date(+a)),v(a,i),_(a);while(l<a&&a<n);return o},t.filter=function(a){return r(function(n){if(n>=n)for(;_(n),!a(n);)n.setTime(n-1)},function(n,i){if(n>=n)if(i<0)for(;++i<=0;)for(;v(n,-1),!a(n););else for(;--i>=0;)for(;v(n,1),!a(n););})},f&&(t.count=function(a,n){return k.setTime(+a),w.setTime(+n),_(k),_(w),Math.floor(f(k,w))},t.every=function(a){return a=Math.floor(a),isFinite(a)&&a>0?a>1?t.filter(s?function(n){return s(n)%a==0}:function(n){return t.count(0,n)%a==0}):t:null}),t}},58931:function(B,L,e){e.d(L,{o:function(){return _}});var k=e(81628),w=e(69792),r=(0,k.c)(function(v){v.setUTCHours(0,0,0,0)},function(v,f){v.setUTCDate(v.getUTCDate()+f)},function(v,f){return(f-v)/w.SK},function(v){return v.getUTCDate()-1});L.c=r;var _=r.range},8208:function(B,L,e){e.d(L,{Ad:function(){return n},EV:function(){return _},K8:function(){return b},W_:function(){return u},Wq:function(){return i},_6:function(){return s},iG:function(){return c},iO:function(){return l},kl:function(){return o},ob:function(){return h},od:function(){return a},ot:function(){return v},sG:function(){return f},yA:function(){return t}});var k=e(81628),w=e(69792);function r(d){return(0,k.c)(function(g){g.setUTCDate(g.getUTCDate()-(g.getUTCDay()+7-d)%7),g.setUTCHours(0,0,0,0)},function(g,m){g.setUTCDate(g.getUTCDate()+7*m)},function(g,m){return(m-g)/w.KK})}var _=r(0),v=r(1),f=r(2),s=r(3),t=r(4),a=r(5),n=r(6),i=_.range,l=v.range,o=f.range,u=s.range,h=t.range,c=a.range,b=n.range},53528:function(B,L,e){e.d(L,{i:function(){return r}});var k=e(81628),w=(0,k.c)(function(_){_.setUTCMonth(0,1),_.setUTCHours(0,0,0,0)},function(_,v){_.setUTCFullYear(_.getUTCFullYear()+v)},function(_,v){return v.getUTCFullYear()-_.getUTCFullYear()},function(_){return _.getUTCFullYear()});w.every=function(_){return isFinite(_=Math.floor(_))&&_>0?(0,k.c)(function(v){v.setUTCFullYear(Math.floor(v.getUTCFullYear()/_)*_),v.setUTCMonth(0,1),v.setUTCHours(0,0,0,0)},function(v,f){v.setUTCFullYear(v.getUTCFullYear()+f*_)}):null},L.c=w;var r=w.range},46192:function(B,L,e){e.d(L,{Ab:function(){return i},Mf:function(){return f},Oc:function(){return o},QP:function(){return l},Wc:function(){return n},aI:function(){return b},eC:function(){return h},eg:function(){return s},iB:function(){return a},kD:function(){return t},qT:function(){return v},sJ:function(){return c},sn:function(){return u},uU:function(){return _}});var k=e(81628),w=e(69792);function r(d){return(0,k.c)(function(g){g.setDate(g.getDate()-(g.getDay()+7-d)%7),g.setHours(0,0,0,0)},function(g,m){g.setDate(g.getDate()+7*m)},function(g,m){return(m-g-(m.getTimezoneOffset()-g.getTimezoneOffset())*w.iy)/w.KK})}var _=r(0),v=r(1),f=r(2),s=r(3),t=r(4),a=r(5),n=r(6),i=_.range,l=v.range,o=f.range,u=s.range,h=t.range,c=a.range,b=n.range},32171:function(B,L,e){e.d(L,{Q:function(){return r}});var k=e(81628),w=(0,k.c)(function(_){_.setMonth(0,1),_.setHours(0,0,0,0)},function(_,v){_.setFullYear(_.getFullYear()+v)},function(_,v){return v.getFullYear()-_.getFullYear()},function(_){return _.getFullYear()});w.every=function(_){return isFinite(_=Math.floor(_))&&_>0?(0,k.c)(function(v){v.setFullYear(Math.floor(v.getFullYear()/_)*_),v.setMonth(0,1),v.setHours(0,0,0,0)},function(v,f){v.setFullYear(v.getFullYear()+f*_)}):null},L.c=w;var r=w.range},64348:function(B,L,e){var k=e(39640)(),w=e(53664),r=k&&w("%Object.defineProperty%",!0);if(r)try{r({},"a",{value:1})}catch{r=!1}var _=w("%SyntaxError%"),v=w("%TypeError%"),f=e(2304);B.exports=function(s,t,a){if(!s||typeof s!="object"&&typeof s!="function")throw new v("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new v("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new v("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new v("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new v("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new v("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,o=arguments.length>6&&arguments[6],u=!!f&&f(s,t);if(r)r(s,t,{configurable:l===null&&u?u.configurable:!l,enumerable:n===null&&u?u.enumerable:!n,value:a,writable:i===null&&u?u.writable:!i});else{if(!o&&(n||i||l))throw new _("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");s[t]=a}}},81288:function(B,L,e){var k=e(41820),w=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",r=Object.prototype.toString,_=Array.prototype.concat,v=Object.defineProperty,f=e(39640)(),s=v&&f,t=function(n,i,l,o){if(i in n){if(o===!0){if(n[i]===l)return}else if(typeof(u=o)!="function"||r.call(u)!=="[object Function]"||!o())return}var u;s?v(n,i,{configurable:!0,enumerable:!1,value:l,writable:!0}):n[i]=l},a=function(n,i){var l=arguments.length>2?arguments[2]:{},o=k(i);w&&(o=_.call(o,Object.getOwnPropertySymbols(i)));for(var u=0;u<o.length;u+=1)t(n,o[u],i[o[u]],l[o[u]])};a.supportsDescriptors=!!s,B.exports=a},31264:function(B){B.exports=function(){for(var L=0;L<arguments.length;L++)if(arguments[L]!==void 0)return arguments[L]}},63768:function(B){B.exports=k;var L=(k.canvas=document.createElement("canvas")).getContext("2d"),e=w([32,126]);function k(r,_){Array.isArray(r)&&(r=r.join(", "));var v,f={},s=16,t=.05;_&&(_.length===2&&typeof _[0]=="number"?v=w(_):Array.isArray(_)?v=_:(_.o?v=w(_.o):_.pairs&&(v=_.pairs),_.fontSize&&(s=_.fontSize),_.threshold!=null&&(t=_.threshold))),v||(v=e),L.font=s+"px "+r;for(var a=0;a<v.length;a++){var n=v[a],i=L.measureText(n[0]).width+L.measureText(n[1]).width,l=L.measureText(n).width;if(Math.abs(i-l)>s*t){var o=(l-i)/s;f[n]=1e3*o}}return f}function w(r){for(var _=[],v=r[0];v<=r[1];v++)for(var f=String.fromCharCode(v),s=r[0];s<r[1];s++){var t=f+String.fromCharCode(s);_.push(t)}return _}k.createPairs=w,k.ascii=e},22235:function(B,L,e){var k=e(49972),w=e(48816),r={M:"moveTo",C:"bezierCurveTo"};B.exports=function(_,v){_.beginPath(),w(k(v)).forEach(function(f){var s=f[0],t=f.slice(1);_[r[s]].apply(_,t)}),_.closePath()}},72512:function(B){B.exports=function(L){switch(L){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(B){function L(e,k,w){var r=0|e[w];if(r<=0)return[];var _,v=new Array(r);if(w===e.length-1)for(_=0;_<r;++_)v[_]=k;else for(_=0;_<r;++_)v[_]=L(e,k,w+1);return v}B.exports=function(e,k){switch(k===void 0&&(k=0),typeof e){case"number":if(e>0)return function(w,r){var _,v;for(_=new Array(w),v=0;v<w;++v)_[v]=r;return _}(0|e,k);break;case"object":if(typeof e.length=="number")return L(e,k,0)}return[]}},28912:function(B){function L(S,M,E){E=E||2;var P,O,I,R,U,z,j,W=M&&M.length,F=W?M[0]*E:S.length,V=e(S,0,F,E,!0),H=[];if(!V||V.next===V.prev)return H;if(W&&(V=function(Q,K,X,J){var ee,ie,oe,ae=[];for(ee=0,ie=K.length;ee<ie;ee++)(oe=e(Q,K[ee]*J,ee<ie-1?K[ee+1]*J:Q.length,J,!1))===oe.next&&(oe.steiner=!0),ae.push(i(oe));for(ae.sort(s),ee=0;ee<ae.length;ee++)t(ae[ee],X),X=k(X,X.next);return X}(S,M,V,E)),S.length>80*E){P=I=S[0],O=R=S[1];for(var te=E;te<F;te+=E)(U=S[te])<P&&(P=U),(z=S[te+1])<O&&(O=z),U>I&&(I=U),z>R&&(R=z);j=(j=Math.max(I-P,R-O))!==0?1/j:0}return w(V,H,E,P,O,j),H}function e(S,M,E,P,O){var I,R;if(O===p(S,M,E,P)>0)for(I=M;I<E;I+=P)R=y(I,S[I],S[I+1],R);else for(I=E-P;I>=M;I-=P)R=y(I,S[I],S[I+1],R);return R&&h(R,R.next)&&(x(R),R=R.next),R}function k(S,M){if(!S)return S;M||(M=S);var E,P=S;do if(E=!1,P.steiner||!h(P,P.next)&&u(P.prev,P,P.next)!==0)P=P.next;else{if(x(P),(P=M=P.prev)===P.next)break;E=!0}while(E||P!==M);return M}function w(S,M,E,P,O,I,R){if(S){!R&&I&&function(W,F,V,H){var te=W;do te.z===null&&(te.z=n(te.x,te.y,F,V,H)),te.prevZ=te.prev,te.nextZ=te.next,te=te.next;while(te!==W);te.prevZ.nextZ=null,te.prevZ=null,function(Q){var K,X,J,ee,ie,oe,ae,ce,ge=1;do{for(X=Q,Q=null,ie=null,oe=0;X;){for(oe++,J=X,ae=0,K=0;K<ge&&(ae++,J=J.nextZ);K++);for(ce=ge;ae>0||ce>0&&J;)ae!==0&&(ce===0||!J||X.z<=J.z)?(ee=X,X=X.nextZ,ae--):(ee=J,J=J.nextZ,ce--),ie?ie.nextZ=ee:Q=ee,ee.prevZ=ie,ie=ee;X=J}ie.nextZ=null,ge*=2}while(oe>1)}(te)}(S,P,O,I);for(var U,z,j=S;S.prev!==S.next;)if(U=S.prev,z=S.next,I?_(S,P,O,I):r(S))M.push(U.i/E),M.push(S.i/E),M.push(z.i/E),x(S),S=z.next,j=z.next;else if((S=z)===j){R?R===1?w(S=v(k(S),M,E),M,E,P,O,I,2):R===2&&f(S,M,E,P,O,I):w(k(S),M,E,P,O,I,1);break}}}function r(S){var M=S.prev,E=S,P=S.next;if(u(M,E,P)>=0)return!1;for(var O=S.next.next;O!==S.prev;){if(l(M.x,M.y,E.x,E.y,P.x,P.y,O.x,O.y)&&u(O.prev,O,O.next)>=0)return!1;O=O.next}return!0}function _(S,M,E,P){var O=S.prev,I=S,R=S.next;if(u(O,I,R)>=0)return!1;for(var U=O.x<I.x?O.x<R.x?O.x:R.x:I.x<R.x?I.x:R.x,z=O.y<I.y?O.y<R.y?O.y:R.y:I.y<R.y?I.y:R.y,j=O.x>I.x?O.x>R.x?O.x:R.x:I.x>R.x?I.x:R.x,W=O.y>I.y?O.y>R.y?O.y:R.y:I.y>R.y?I.y:R.y,F=n(U,z,M,E,P),V=n(j,W,M,E,P),H=S.prevZ,te=S.nextZ;H&&H.z>=F&&te&&te.z<=V;){if(H!==S.prev&&H!==S.next&&l(O.x,O.y,I.x,I.y,R.x,R.y,H.x,H.y)&&u(H.prev,H,H.next)>=0||(H=H.prevZ,te!==S.prev&&te!==S.next&&l(O.x,O.y,I.x,I.y,R.x,R.y,te.x,te.y)&&u(te.prev,te,te.next)>=0))return!1;te=te.nextZ}for(;H&&H.z>=F;){if(H!==S.prev&&H!==S.next&&l(O.x,O.y,I.x,I.y,R.x,R.y,H.x,H.y)&&u(H.prev,H,H.next)>=0)return!1;H=H.prevZ}for(;te&&te.z<=V;){if(te!==S.prev&&te!==S.next&&l(O.x,O.y,I.x,I.y,R.x,R.y,te.x,te.y)&&u(te.prev,te,te.next)>=0)return!1;te=te.nextZ}return!0}function v(S,M,E){var P=S;do{var O=P.prev,I=P.next.next;!h(O,I)&&c(O,P,P.next,I)&&g(O,I)&&g(I,O)&&(M.push(O.i/E),M.push(P.i/E),M.push(I.i/E),x(P),x(P.next),P=S=I),P=P.next}while(P!==S);return k(P)}function f(S,M,E,P,O,I){var R=S;do{for(var U=R.next.next;U!==R.prev;){if(R.i!==U.i&&o(R,U)){var z=m(R,U);return R=k(R,R.next),z=k(z,z.next),w(R,M,E,P,O,I),void w(z,M,E,P,O,I)}U=U.next}R=R.next}while(R!==S)}function s(S,M){return S.x-M.x}function t(S,M){if(M=function(P,O){var I,R=O,U=P.x,z=P.y,j=-1/0;do{if(z<=R.y&&z>=R.next.y&&R.next.y!==R.y){var W=R.x+(z-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(W<=U&&W>j){if(j=W,W===U){if(z===R.y)return R;if(z===R.next.y)return R.next}I=R.x<R.next.x?R:R.next}}R=R.next}while(R!==O);if(!I)return null;if(U===j)return I;var F,V=I,H=I.x,te=I.y,Q=1/0;R=I;do U>=R.x&&R.x>=H&&U!==R.x&&l(z<te?U:j,z,H,te,z<te?j:U,z,R.x,R.y)&&(F=Math.abs(z-R.y)/(U-R.x),g(R,P)&&(F<Q||F===Q&&(R.x>I.x||R.x===I.x&&a(I,R)))&&(I=R,Q=F)),R=R.next;while(R!==V);return I}(S,M),M){var E=m(M,S);k(M,M.next),k(E,E.next)}}function a(S,M){return u(S.prev,S,M.prev)<0&&u(M.next,S,S.next)<0}function n(S,M,E,P,O){return(S=1431655765&((S=858993459&((S=252645135&((S=16711935&((S=32767*(S-E)*O)|S<<8))|S<<4))|S<<2))|S<<1))|(M=1431655765&((M=858993459&((M=252645135&((M=16711935&((M=32767*(M-P)*O)|M<<8))|M<<4))|M<<2))|M<<1))<<1}function i(S){var M=S,E=S;do(M.x<E.x||M.x===E.x&&M.y<E.y)&&(E=M),M=M.next;while(M!==S);return E}function l(S,M,E,P,O,I,R,U){return(O-R)*(M-U)-(S-R)*(I-U)>=0&&(S-R)*(P-U)-(E-R)*(M-U)>=0&&(E-R)*(I-U)-(O-R)*(P-U)>=0}function o(S,M){return S.next.i!==M.i&&S.prev.i!==M.i&&!function(E,P){var O=E;do{if(O.i!==E.i&&O.next.i!==E.i&&O.i!==P.i&&O.next.i!==P.i&&c(O,O.next,E,P))return!0;O=O.next}while(O!==E);return!1}(S,M)&&(g(S,M)&&g(M,S)&&function(E,P){var O=E,I=!1,R=(E.x+P.x)/2,U=(E.y+P.y)/2;do O.y>U!=O.next.y>U&&O.next.y!==O.y&&R<(O.next.x-O.x)*(U-O.y)/(O.next.y-O.y)+O.x&&(I=!I),O=O.next;while(O!==E);return I}(S,M)&&(u(S.prev,S,M.prev)||u(S,M.prev,M))||h(S,M)&&u(S.prev,S,S.next)>0&&u(M.prev,M,M.next)>0)}function u(S,M,E){return(M.y-S.y)*(E.x-M.x)-(M.x-S.x)*(E.y-M.y)}function h(S,M){return S.x===M.x&&S.y===M.y}function c(S,M,E,P){var O=d(u(S,M,E)),I=d(u(S,M,P)),R=d(u(E,P,S)),U=d(u(E,P,M));return O!==I&&R!==U||!(O!==0||!b(S,E,M))||!(I!==0||!b(S,P,M))||!(R!==0||!b(E,S,P))||!(U!==0||!b(E,M,P))}function b(S,M,E){return M.x<=Math.max(S.x,E.x)&&M.x>=Math.min(S.x,E.x)&&M.y<=Math.max(S.y,E.y)&&M.y>=Math.min(S.y,E.y)}function d(S){return S>0?1:S<0?-1:0}function g(S,M){return u(S.prev,S,S.next)<0?u(S,M,S.next)>=0&&u(S,S.prev,M)>=0:u(S,M,S.prev)<0||u(S,S.next,M)<0}function m(S,M){var E=new T(S.i,S.x,S.y),P=new T(M.i,M.x,M.y),O=S.next,I=M.prev;return S.next=M,M.prev=S,E.next=O,O.prev=E,P.next=E,E.prev=P,I.next=P,P.prev=I,P}function y(S,M,E,P){var O=new T(S,M,E);return P?(O.next=P.next,O.prev=P,P.next.prev=O,P.next=O):(O.prev=O,O.next=O),O}function x(S){S.next.prev=S.prev,S.prev.next=S.next,S.prevZ&&(S.prevZ.nextZ=S.nextZ),S.nextZ&&(S.nextZ.prevZ=S.prevZ)}function T(S,M,E){this.i=S,this.x=M,this.y=E,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function p(S,M,E,P){for(var O=0,I=M,R=E-P;I<E;I+=P)O+=(S[R]-S[I])*(S[I+1]+S[R+1]),R=I;return O}B.exports=L,B.exports.default=L,L.deviation=function(S,M,E,P){var O=M&&M.length,I=O?M[0]*E:S.length,R=Math.abs(p(S,0,I,E));if(O)for(var U=0,z=M.length;U<z;U++){var j=M[U]*E,W=U<z-1?M[U+1]*E:S.length;R-=Math.abs(p(S,j,W,E))}var F=0;for(U=0;U<P.length;U+=3){var V=P[U]*E,H=P[U+1]*E,te=P[U+2]*E;F+=Math.abs((S[V]-S[te])*(S[H+1]-S[V+1])-(S[V]-S[H])*(S[te+1]-S[V+1]))}return R===0&&F===0?0:Math.abs((F-R)/R)},L.flatten=function(S){for(var M=S[0][0].length,E={vertices:[],holes:[],dimensions:M},P=0,O=0;O<S.length;O++){for(var I=0;I<S[O].length;I++)for(var R=0;R<M;R++)E.vertices.push(S[O][I][R]);O>0&&(P+=S[O-1].length,E.holes.push(P))}return E}},6688:function(B,L,e){var k=e(78484);B.exports=function(w,r){var _,v=[],f=[],s=[],t={},a=[];function n(g){s[g]=!1,t.hasOwnProperty(g)&&Object.keys(t[g]).forEach(function(m){delete t[g][m],s[m]&&n(m)})}function i(g){var m,y,x=!1;for(f.push(g),s[g]=!0,m=0;m<a[g].length;m++)(y=a[g][m])===_?(l(_,f),x=!0):s[y]||(x=i(y));if(x)n(g);else for(m=0;m<a[g].length;m++){y=a[g][m];var T=t[y];T||(T={},t[y]=T),T[y]=!0}return f.pop(),x}function l(g,m){var y=[].concat(m).concat(g);r?r(i):v.push(y)}function o(g){(function(E){for(var P=0;P<w.length;P++)P<E&&(w[P]=[]),w[P]=w[P].filter(function(O){return O>=E})})(g);for(var m,y=k(w).components.filter(function(E){return E.length>1}),x=1/0,T=0;T<y.length;T++)for(var p=0;p<y[T].length;p++)y[T][p]<x&&(x=y[T][p],m=T);var S=y[m];if(!S)return!1;var M=w.map(function(E,P){return S.indexOf(P)===-1?[]:E.filter(function(O){return S.indexOf(O)!==-1})});return{leastVertex:x,adjList:M}}_=0;for(var u=w.length;_<u;){var h=o(_);if(_=h.leastVertex,a=h.adjList){for(var c=0;c<a.length;c++)for(var b=0;b<a[c].length;b++){var d=a[c][b];s[+d]=!1,t[d]={}}i(_),_+=1}else _=u}return r?void 0:v}},41476:function(B,L,e){var k=e(9252);B.exports=function(){return k(this).length=0,this}},74772:function(B,L,e){B.exports=e(44716)()?Array.from:e(80816)},44716:function(B){B.exports=function(){var L,e,k=Array.from;return typeof k=="function"&&(e=k(L=["raz","dwa"]),!!(e&&e!==L&&e[1]==="dwa"))}},80816:function(B,L,e){var k=e(92664).iterator,w=e(60948),r=e(17024),_=e(81304),v=e(34044),f=e(9252),s=e(42584),t=e(29768),a=Array.isArray,n=Function.prototype.call,i={configurable:!0,enumerable:!0,writable:!0,value:null},l=Object.defineProperty;B.exports=function(o){var u,h,c,b,d,g,m,y,x,T,p=arguments[1],S=arguments[2];if(o=Object(f(o)),s(p)&&v(p),this&&this!==Array&&r(this))u=this;else{if(!p){if(w(o))return(d=o.length)!==1?Array.apply(null,o):((b=new Array(1))[0]=o[0],b);if(a(o)){for(b=new Array(d=o.length),h=0;h<d;++h)b[h]=o[h];return b}}b=[]}if(!a(o)){if((x=o[k])!==void 0){for(m=v(x).call(o),u&&(b=new u),y=m.next(),h=0;!y.done;)T=p?n.call(p,S,y.value,h):y.value,u?(i.value=T,l(b,h,i)):b[h]=T,y=m.next(),++h;d=h}else if(t(o)){for(d=o.length,u&&(b=new u),h=0,c=0;h<d;++h)T=o[h],h+1<d&&(g=T.charCodeAt(0))>=55296&&g<=56319&&(T+=o[++h]),T=p?n.call(p,S,T,c):T,u?(i.value=T,l(b,c,i)):b[c]=T,++c;d=c}}if(d===void 0)for(d=_(o.length),u&&(b=new u(d)),h=0;h<d;++h)T=p?n.call(p,S,o[h],h):o[h],u?(i.value=T,l(b,h,i)):b[h]=T;return u&&(i.value=null,b.length=d),b}},60948:function(B){var L=Object.prototype.toString,e=L.call(function(){return arguments}());B.exports=function(k){return L.call(k)===e}},17024:function(B){var L=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);B.exports=function(k){return typeof k=="function"&&e(L.call(k))}},33208:function(B){B.exports=function(){}},85608:function(B,L,e){B.exports=e(37328)()?Math.sign:e(92928)},37328:function(B){B.exports=function(){var L=Math.sign;return typeof L=="function"&&L(10)===1&&L(-20)===-1}},92928:function(B){B.exports=function(L){return L=Number(L),isNaN(L)||L===0?L:L>0?1:-1}},96936:function(B,L,e){var k=e(85608),w=Math.abs,r=Math.floor;B.exports=function(_){return isNaN(_)?0:(_=Number(_))!==0&&isFinite(_)?k(_)*r(w(_)):_}},81304:function(B,L,e){var k=e(96936),w=Math.max;B.exports=function(r){return w(0,k(r))}},14428:function(B,L,e){var k=e(34044),w=e(9252),r=Function.prototype.bind,_=Function.prototype.call,v=Object.keys,f=Object.prototype.propertyIsEnumerable;B.exports=function(s,t){return function(a,n){var i,l=arguments[2],o=arguments[3];return a=Object(w(a)),k(n),i=v(a),o&&i.sort(typeof o=="function"?r.call(o,a):void 0),typeof s!="function"&&(s=i[s]),_.call(s,i,function(u,h){return f.call(a,u)?_.call(n,l,a[u],u,a,h):t})}}},38452:function(B,L,e){B.exports=e(96276)()?Object.assign:e(81892)},96276:function(B){B.exports=function(){var L,e=Object.assign;return typeof e=="function"&&(e(L={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),L.foo+L.bar+L.trzy==="razdwatrzy")}},81892:function(B,L,e){var k=e(54768),w=e(9252),r=Math.max;B.exports=function(_,v){var f,s,t,a=r(arguments.length,2);for(_=Object(w(_)),t=function(n){try{_[n]=v[n]}catch(i){f||(f=i)}},s=1;s<a;++s)k(v=arguments[s]).forEach(t);if(f!==void 0)throw f;return _}},95920:function(B,L,e){var k=e(74772),w=e(38452),r=e(9252);B.exports=function(_){var v=Object(r(_)),f=arguments[1],s=Object(arguments[2]);if(v!==_&&!f)return v;var t={};return f?k(f,function(a){(s.ensure||a in _)&&(t[a]=_[a])}):w(t,_),t}},14452:function(B,L,e){var k,w,r,_,v=Object.create;e(63092)()||(k=e(8672)),B.exports=k?k.level!==1?v:(w={},r={},_={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(f){r[f]=f!=="__proto__"?_:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(w,r),Object.defineProperty(k,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:w}),function(f,s){return v(f===null?w:f,s)}):v},42748:function(B,L,e){B.exports=e(14428)("forEach")},69127:function(B,L,e){var k=e(42584),w={function:!0,object:!0};B.exports=function(r){return k(r)&&w[typeof r]||!1}},42584:function(B,L,e){var k=e(33208)();B.exports=function(w){return w!==k&&w!==null}},54768:function(B,L,e){B.exports=e(87888)()?Object.keys:e(89592)},87888:function(B){B.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(B,L,e){var k=e(42584),w=Object.keys;B.exports=function(r){return w(k(r)?Object(r):r)}},84323:function(B,L,e){var k=e(34044),w=e(42748),r=Function.prototype.call;B.exports=function(_,v){var f={},s=arguments[2];return k(v),w(_,function(t,a,n,i){f[a]=r.call(v,s,t,a,n,i)}),f}},50868:function(B,L,e){var k=e(42584),w=Array.prototype.forEach,r=Object.create;B.exports=function(_){var v=r(null);return w.call(arguments,function(f){k(f)&&function(s,t){var a;for(a in s)t[a]=s[a]}(Object(f),v)}),v}},69932:function(B,L,e){B.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(B){var L=Object.create,e=Object.getPrototypeOf,k={};B.exports=function(){var w=Object.setPrototypeOf;return typeof w=="function"&&e(w((arguments[0]||L)(null),k))===k}},8672:function(B,L,e){var k,w,r,_,v=e(69127),f=e(9252),s=Object.prototype.isPrototypeOf,t=Object.defineProperty,a={configurable:!0,enumerable:!1,writable:!0,value:void 0};k=function(n,i){if(f(n),i===null||v(i))return n;throw new TypeError("Prototype must be null or an object")},B.exports=(w=function(){var n,i=Object.create(null),l={},o=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(o){try{(n=o.set).call(i,l)}catch{}if(Object.getPrototypeOf(i)===l)return{set:n,level:2}}return i.__proto__=l,Object.getPrototypeOf(i)===l?{level:2}:((i={}).__proto__=l,Object.getPrototypeOf(i)===l&&{level:1})}(),w?(w.level===2?w.set?(_=w.set,r=function(n,i){return _.call(k(n,i),i),n}):r=function(n,i){return k(n,i).__proto__=i,n}:r=function n(i,l){var o;return k(i,l),(o=s.call(n.nullPolyfill,i))&&delete n.nullPolyfill.__proto__,l===null&&(l=n.nullPolyfill),i.__proto__=l,o&&t(n.nullPolyfill,"__proto__",a),i},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:w.level})):null),e(14452)},34044:function(B){B.exports=function(L){if(typeof L!="function")throw new TypeError(L+" is not a function");return L}},92584:function(B,L,e){var k=e(69127);B.exports=function(w){if(!k(w))throw new TypeError(w+" is not an Object");return w}},9252:function(B,L,e){var k=e(42584);B.exports=function(w){if(!k(w))throw new TypeError("Cannot use null or undefined");return w}},71056:function(B,L,e){B.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(B){var L="razdwatrzy";B.exports=function(){return typeof L.contains=="function"&&L.contains("dwa")===!0&&L.contains("foo")===!1}},93040:function(B){var L=String.prototype.indexOf;B.exports=function(e){return L.call(this,e,arguments[1])>-1}},29768:function(B){var L=Object.prototype.toString,e=L.call("");B.exports=function(k){return typeof k=="string"||k&&typeof k=="object"&&(k instanceof String||L.call(k)===e)||!1}},82252:function(B){var L=Object.create(null),e=Math.random;B.exports=function(){var k;do k=e().toString(36).slice(2);while(L[k]);return k}},52104:function(B,L,e){var k,w=e(69932),r=e(71056),_=e(21092),v=e(92664),f=e(85512),s=Object.defineProperty;k=B.exports=function(t,a){if(!(this instanceof k))throw new TypeError("Constructor requires 'new'");f.call(this,t),a=a?r.call(a,"key+value")?"key+value":r.call(a,"key")?"key":"value":"value",s(this,"__kind__",_("",a))},w&&w(k,f),delete k.prototype.constructor,k.prototype=Object.create(f.prototype,{_resolve:_(function(t){return this.__kind__==="value"?this.__list__[t]:this.__kind__==="key+value"?[t,this.__list__[t]]:t})}),s(k.prototype,v.toStringTag,_("c","Array Iterator"))},76024:function(B,L,e){var k=e(60948),w=e(34044),r=e(29768),_=e(76252),v=Array.isArray,f=Function.prototype.call,s=Array.prototype.some;B.exports=function(t,a){var n,i,l,o,u,h,c,b,d=arguments[2];if(v(t)||k(t)?n="array":r(t)?n="string":t=_(t),w(a),l=function(){o=!0},n!=="array")if(n!=="string")for(i=t.next();!i.done;){if(f.call(a,d,i.value,l),o)return;i=t.next()}else for(h=t.length,u=0;u<h&&(c=t[u],u+1<h&&(b=c.charCodeAt(0))>=55296&&b<=56319&&(c+=t[++u]),f.call(a,d,c,l),!o);++u);else s.call(t,function(g){return f.call(a,d,g,l),o})}},76252:function(B,L,e){var k=e(60948),w=e(29768),r=e(52104),_=e(80940),v=e(52891),f=e(92664).iterator;B.exports=function(s){return typeof v(s)[f]=="function"?s[f]():k(s)?new r(s):w(s)?new _(s):new r(s)}},85512:function(B,L,e){var k,w=e(41476),r=e(38452),_=e(34044),v=e(9252),f=e(21092),s=e(27940),t=e(92664),a=Object.defineProperty,n=Object.defineProperties;B.exports=k=function(i,l){if(!(this instanceof k))throw new TypeError("Constructor requires 'new'");n(this,{__list__:f("w",v(i)),__context__:f("w",l),__nextIndex__:f("w",0)}),l&&(_(l.on),l.on("_add",this._onAdd),l.on("_delete",this._onDelete),l.on("_clear",this._onClear))},delete k.prototype.constructor,n(k.prototype,r({_next:f(function(){var i;if(this.__list__)return this.__redo__&&(i=this.__redo__.shift())!==void 0?i:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:f(function(){return this._createResult(this._next())}),_createResult:f(function(i){return i===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(i)}}),_resolve:f(function(i){return this.__list__[i]}),_unBind:f(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:f(function(){return"[object "+(this[t.toStringTag]||"Object")+"]"})},s({_onAdd:f(function(i){i>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(l,o){l>=i&&(this.__redo__[o]=++l)},this),this.__redo__.push(i)):a(this,"__redo__",f("c",[i])))}),_onDelete:f(function(i){var l;i>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&((l=this.__redo__.indexOf(i))!==-1&&this.__redo__.splice(l,1),this.__redo__.forEach(function(o,u){o>i&&(this.__redo__[u]=--o)},this)))}),_onClear:f(function(){this.__redo__&&w.call(this.__redo__),this.__nextIndex__=0})}))),a(k.prototype,t.iterator,f(function(){return this}))},76368:function(B,L,e){var k=e(60948),w=e(42584),r=e(29768),_=e(92664).iterator,v=Array.isArray;B.exports=function(f){return!(!w(f)||!v(f)&&!r(f)&&!k(f)&&typeof f[_]!="function")}},80940:function(B,L,e){var k,w=e(69932),r=e(21092),_=e(92664),v=e(85512),f=Object.defineProperty;k=B.exports=function(s){if(!(this instanceof k))throw new TypeError("Constructor requires 'new'");s=String(s),v.call(this,s),f(this,"__length__",r("",s.length))},w&&w(k,v),delete k.prototype.constructor,k.prototype=Object.create(v.prototype,{_next:r(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:r(function(s){var t,a=this.__list__[s];return this.__nextIndex__===this.__length__?a:(t=a.charCodeAt(0))>=55296&&t<=56319?a+this.__list__[this.__nextIndex__++]:a})}),f(k.prototype,_.toStringTag,r("c","String Iterator"))},52891:function(B,L,e){var k=e(76368);B.exports=function(w){if(!k(w))throw new TypeError(w+" is not iterable");return w}},60964:function(B){function L(e,k){if(e==null)throw new TypeError("Cannot convert first argument to object");for(var w=Object(e),r=1;r<arguments.length;r++){var _=arguments[r];if(_!=null)for(var v=Object.keys(Object(_)),f=0,s=v.length;f<s;f++){var t=v[f],a=Object.getOwnPropertyDescriptor(_,t);a!==void 0&&a.enumerable&&(w[t]=_[t])}}return w}B.exports={assign:L,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:L})}}},92664:function(B,L,e){B.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(B,L,e){var k=e(12296),w={object:!0,symbol:!0};B.exports=function(){var r,_=k.Symbol;if(typeof _!="function")return!1;r=_("test symbol");try{String(r)}catch{return!1}return!!w[typeof _.iterator]&&!!w[typeof _.toPrimitive]&&!!w[typeof _.toStringTag]}},53908:function(B){B.exports=function(L){return!!L&&(typeof L=="symbol"||!!L.constructor&&L.constructor.name==="Symbol"&&L[L.constructor.toStringTag]==="Symbol")}},96863:function(B,L,e){var k=e(21092),w=Object.create,r=Object.defineProperty,_=Object.prototype,v=w(null);B.exports=function(f){for(var s,t,a=0;v[f+(a||"")];)++a;return v[f+=a||""]=!0,r(_,s="@@"+f,k.gs(null,function(n){t||(t=!0,r(this,s,k(n)),t=!1)})),s}},53540:function(B,L,e){var k=e(21092),w=e(12296).Symbol;B.exports=function(r){return Object.defineProperties(r,{hasInstance:k("",w&&w.hasInstance||r("hasInstance")),isConcatSpreadable:k("",w&&w.isConcatSpreadable||r("isConcatSpreadable")),iterator:k("",w&&w.iterator||r("iterator")),match:k("",w&&w.match||r("match")),replace:k("",w&&w.replace||r("replace")),search:k("",w&&w.search||r("search")),species:k("",w&&w.species||r("species")),split:k("",w&&w.split||r("split")),toPrimitive:k("",w&&w.toPrimitive||r("toPrimitive")),toStringTag:k("",w&&w.toStringTag||r("toStringTag")),unscopables:k("",w&&w.unscopables||r("unscopables"))})}},73852:function(B,L,e){var k=e(21092),w=e(63948),r=Object.create(null);B.exports=function(_){return Object.defineProperties(_,{for:k(function(v){return r[v]?r[v]:r[v]=_(String(v))}),keyFor:k(function(v){var f;for(f in w(v),r)if(r[f]===v)return f})})}},18376:function(B,L,e){var k,w,r,_=e(21092),v=e(63948),f=e(12296).Symbol,s=e(96863),t=e(53540),a=e(73852),n=Object.create,i=Object.defineProperties,l=Object.defineProperty;if(typeof f=="function")try{String(f()),r=!0}catch{}else f=null;w=function(o){if(this instanceof w)throw new TypeError("Symbol is not a constructor");return k(o)},B.exports=k=function o(u){var h;if(this instanceof o)throw new TypeError("Symbol is not a constructor");return r?f(u):(h=n(w.prototype),u=u===void 0?"":String(u),i(h,{__description__:_("",u),__name__:_("",s(u))}))},t(k),a(k),i(w.prototype,{constructor:_(k),toString:_("",function(){return this.__name__})}),i(k.prototype,{toString:_(function(){return"Symbol ("+v(this).__description__+")"}),valueOf:_(function(){return v(this)})}),l(k.prototype,k.toPrimitive,_("",function(){var o=v(this);return typeof o=="symbol"?o:o.toString()})),l(k.prototype,k.toStringTag,_("c","Symbol")),l(w.prototype,k.toStringTag,_("c",k.prototype[k.toStringTag])),l(w.prototype,k.toPrimitive,_("c",k.prototype[k.toPrimitive]))},63948:function(B,L,e){var k=e(53908);B.exports=function(w){if(!k(w))throw new TypeError(w+" is not a symbol");return w}},60463:function(B,L,e){B.exports=e(96979)()?WeakMap:e(64864)},96979:function(B){B.exports=function(){var L,e;if(typeof WeakMap!="function")return!1;try{L=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return String(L)==="[object WeakMap]"&&typeof L.set=="function"&&L.set({},1)===L&&typeof L.delete=="function"&&typeof L.has=="function"&&L.get(e)==="one"}},69876:function(B){B.exports=typeof WeakMap=="function"&&Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"},64864:function(B,L,e){var k,w=e(42584),r=e(69932),_=e(92584),v=e(9252),f=e(82252),s=e(21092),t=e(76252),a=e(76024),n=e(92664).toStringTag,i=e(69876),l=Array.isArray,o=Object.defineProperty,u=Object.prototype.hasOwnProperty,h=Object.getPrototypeOf;B.exports=k=function(){var c,b=arguments[0];if(!(this instanceof k))throw new TypeError("Constructor requires 'new'");return c=i&&r&&WeakMap!==k?r(new WeakMap,h(this)):this,w(b)&&(l(b)||(b=t(b))),o(c,"__weakMapData__",s("c","$weakMap$"+f())),b&&a(b,function(d){v(d),c.set(d[0],d[1])}),c},i&&(r&&r(k,WeakMap),k.prototype=Object.create(WeakMap.prototype,{constructor:s(k)})),Object.defineProperties(k.prototype,{delete:s(function(c){return!!u.call(_(c),this.__weakMapData__)&&(delete c[this.__weakMapData__],!0)}),get:s(function(c){if(u.call(_(c),this.__weakMapData__))return c[this.__weakMapData__]}),has:s(function(c){return u.call(_(c),this.__weakMapData__)}),set:s(function(c,b){return o(_(c),this.__weakMapData__,s("c",b)),this}),toString:s(function(){return"[object WeakMap]"})}),o(k.prototype,n,s("c","WeakMap"))},61252:function(B){var L,e=typeof Reflect=="object"?Reflect:null,k=e&&typeof e.apply=="function"?e.apply:function(u,h,c){return Function.prototype.apply.call(u,h,c)};L=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(u){return Object.getOwnPropertyNames(u).concat(Object.getOwnPropertySymbols(u))}:function(u){return Object.getOwnPropertyNames(u)};var w=Number.isNaN||function(u){return u!=u};function r(){r.init.call(this)}B.exports=r,B.exports.once=function(u,h){return new Promise(function(c,b){function d(m){u.removeListener(h,g),b(m)}function g(){typeof u.removeListener=="function"&&u.removeListener("error",d),c([].slice.call(arguments))}o(u,h,g,{once:!0}),h!=="error"&&function(m,y,x){typeof m.on=="function"&&o(m,"error",y,{once:!0})}(u,d)})},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var _=10;function v(u){if(typeof u!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}function f(u){return u._maxListeners===void 0?r.defaultMaxListeners:u._maxListeners}function s(u,h,c,b){var d,g,m,y;if(v(c),(g=u._events)===void 0?(g=u._events=Object.create(null),u._eventsCount=0):(g.newListener!==void 0&&(u.emit("newListener",h,c.listener?c.listener:c),g=u._events),m=g[h]),m===void 0)m=g[h]=c,++u._eventsCount;else if(typeof m=="function"?m=g[h]=b?[c,m]:[m,c]:b?m.unshift(c):m.push(c),(d=f(u))>0&&m.length>d&&!m.warned){m.warned=!0;var x=new Error("Possible EventEmitter memory leak detected. "+m.length+" "+String(h)+" listeners added. Use emitter.setMaxListeners() to increase limit");x.name="MaxListenersExceededWarning",x.emitter=u,x.type=h,x.count=m.length,y=x,console&&console.warn&&console.warn(y)}return u}function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function a(u,h,c){var b={fired:!1,wrapFn:void 0,target:u,type:h,listener:c},d=t.bind(b);return d.listener=c,b.wrapFn=d,d}function n(u,h,c){var b=u._events;if(b===void 0)return[];var d=b[h];return d===void 0?[]:typeof d=="function"?c?[d.listener||d]:[d]:c?function(g){for(var m=new Array(g.length),y=0;y<m.length;++y)m[y]=g[y].listener||g[y];return m}(d):l(d,d.length)}function i(u){var h=this._events;if(h!==void 0){var c=h[u];if(typeof c=="function")return 1;if(c!==void 0)return c.length}return 0}function l(u,h){for(var c=new Array(h),b=0;b<h;++b)c[b]=u[b];return c}function o(u,h,c,b){if(typeof u.on=="function")b.once?u.once(h,c):u.on(h,c);else{if(typeof u.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u);u.addEventListener(h,function d(g){b.once&&u.removeEventListener(h,d),c(g)})}}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return _},set:function(u){if(typeof u!="number"||u<0||w(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");_=u}}),r.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(u){if(typeof u!="number"||u<0||w(u))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+u+".");return this._maxListeners=u,this},r.prototype.getMaxListeners=function(){return f(this)},r.prototype.emit=function(u){for(var h=[],c=1;c<arguments.length;c++)h.push(arguments[c]);var b=u==="error",d=this._events;if(d!==void 0)b=b&&d.error===void 0;else if(!b)return!1;if(b){var g;if(h.length>0&&(g=h[0]),g instanceof Error)throw g;var m=new Error("Unhandled error."+(g?" ("+g.message+")":""));throw m.context=g,m}var y=d[u];if(y===void 0)return!1;if(typeof y=="function")k(y,this,h);else{var x=y.length,T=l(y,x);for(c=0;c<x;++c)k(T[c],this,h)}return!0},r.prototype.addListener=function(u,h){return s(this,u,h,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(u,h){return s(this,u,h,!0)},r.prototype.once=function(u,h){return v(h),this.on(u,a(this,u,h)),this},r.prototype.prependOnceListener=function(u,h){return v(h),this.prependListener(u,a(this,u,h)),this},r.prototype.removeListener=function(u,h){var c,b,d,g,m;if(v(h),(b=this._events)===void 0)return this;if((c=b[u])===void 0)return this;if(c===h||c.listener===h)--this._eventsCount==0?this._events=Object.create(null):(delete b[u],b.removeListener&&this.emit("removeListener",u,c.listener||h));else if(typeof c!="function"){for(d=-1,g=c.length-1;g>=0;g--)if(c[g]===h||c[g].listener===h){m=c[g].listener,d=g;break}if(d<0)return this;d===0?c.shift():function(y,x){for(;x+1<y.length;x++)y[x]=y[x+1];y.pop()}(c,d),c.length===1&&(b[u]=c[0]),b.removeListener!==void 0&&this.emit("removeListener",u,m||h)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(u){var h,c,b;if((c=this._events)===void 0)return this;if(c.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):c[u]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete c[u]),this;if(arguments.length===0){var d,g=Object.keys(c);for(b=0;b<g.length;++b)(d=g[b])!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(h=c[u])=="function")this.removeListener(u,h);else if(h!==void 0)for(b=h.length-1;b>=0;b--)this.removeListener(u,h[b]);return this},r.prototype.listeners=function(u){return n(this,u,!0)},r.prototype.rawListeners=function(u){return n(this,u,!1)},r.listenerCount=function(u,h){return typeof u.listenerCount=="function"?u.listenerCount(h):i.call(u,h)},r.prototype.listenerCount=i,r.prototype.eventNames=function(){return this._eventsCount>0?L(this._events):[]}},39072:function(B){var L=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};B.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return L()}try{return __global__||L()}finally{delete Object.prototype.__global__}}()},12296:function(B,L,e){B.exports=e(45072)()?globalThis:e(39072)},45072:function(B){B.exports=function(){return typeof globalThis=="object"&&!!globalThis&&globalThis.Array===Array}},38248:function(B,L,e){var k=e(94576);B.exports=function(w){var r=typeof w;if(r==="string"){var _=w;if((w=+w)==0&&k(_))return!1}else if(r!=="number")return!1;return w-w<1}},47520:function(B,L,e){var k=e(72512);B.exports=function(w,r,_){if(!w)throw new TypeError("must specify data as first parameter");if(_=0|+(_||0),Array.isArray(w)&&w[0]&&typeof w[0][0]=="number"){var v,f,s,t,a=w[0].length,n=w.length*a;r&&typeof r!="string"||(r=new(k(r||"float32"))(n+_));var i=r.length-_;if(n!==i)throw new Error("source length "+n+" ("+a+"x"+w.length+") does not match destination length "+i);for(v=0,s=_;v<w.length;v++)for(f=0;f<a;f++)r[s++]=w[v][f]===null?NaN:w[v][f]}else if(r&&typeof r!="string")r.set(w,_);else{var l=k(r||"float32");if(Array.isArray(w)||r==="array")for(v=0,s=_,t=(r=new l(w.length+_)).length;s<t;s++,v++)r[s]=w[v]===null?NaN:w[v];else _===0?r=new l(w):(r=new l(w.length+_)).set(w,_)}return r}},33888:function(B,L,e){var k=e(49395),w=[32,126];B.exports=function(r){var _=(r=r||{}).shape?r.shape:r.canvas?[r.canvas.width,r.canvas.height]:[512,512],v=r.canvas||document.createElement("canvas"),f=r.font,s=typeof r.step=="number"?[r.step,r.step]:r.step||[32,32],t=r.chars||w;if(f&&typeof f!="string"&&(f=k(f)),Array.isArray(t)){if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var a=[],n=t[0],i=0;n<=t[1];n++)a[i++]=String.fromCharCode(n);t=a}}else t=String(t).split("");_=_.slice(),v.width=_[0],v.height=_[1];var l=v.getContext("2d");l.fillStyle="#000",l.fillRect(0,0,v.width,v.height),l.font=f,l.textAlign="center",l.textBaseline="middle",l.fillStyle="#fff";var o=s[0]/2,u=s[1]/2;for(n=0;n<t.length;n++)l.fillText(t[n],o,u),(o+=s[0])>_[0]-s[0]/2&&(o=s[0]/2,u+=s[1]);return v}},71920:function(B){function L(r,_){_||(_={}),(typeof r=="string"||Array.isArray(r))&&(_.family=r);var v=Array.isArray(_.family)?_.family.join(", "):_.family;if(!v)throw Error("`family` must be defined");var f=_.size||_.fontSize||_.em||48,s=_.weight||_.fontWeight||"",t=(r=[_.style||_.fontStyle||"",s,f].join(" ")+"px "+v,_.origin||"top");if(L.cache[v]&&f<=L.cache[v].em)return e(L.cache[v],t);var a=_.canvas||L.canvas,n=a.getContext("2d"),i={upper:_.upper!==void 0?_.upper:"H",lower:_.lower!==void 0?_.lower:"x",descent:_.descent!==void 0?_.descent:"p",ascent:_.ascent!==void 0?_.ascent:"h",tittle:_.tittle!==void 0?_.tittle:"i",overshoot:_.overshoot!==void 0?_.overshoot:"O"},l=Math.ceil(1.5*f);a.height=l,a.width=.5*l,n.font=r;var o="H",u={top:0};n.clearRect(0,0,l,l),n.textBaseline="top",n.fillStyle="black",n.fillText(o,0,0);var h=k(n.getImageData(0,0,l,l));n.clearRect(0,0,l,l),n.textBaseline="bottom",n.fillText(o,0,l);var c=k(n.getImageData(0,0,l,l));u.lineHeight=u.bottom=l-c+h,n.clearRect(0,0,l,l),n.textBaseline="alphabetic",n.fillText(o,0,l);var b=l-k(n.getImageData(0,0,l,l))-1+h;u.baseline=u.alphabetic=b,n.clearRect(0,0,l,l),n.textBaseline="middle",n.fillText(o,0,.5*l);var d=k(n.getImageData(0,0,l,l));u.median=u.middle=l-d-1+h-.5*l,n.clearRect(0,0,l,l),n.textBaseline="hanging",n.fillText(o,0,.5*l);var g=k(n.getImageData(0,0,l,l));u.hanging=l-g-1+h-.5*l,n.clearRect(0,0,l,l),n.textBaseline="ideographic",n.fillText(o,0,l);var m=k(n.getImageData(0,0,l,l));if(u.ideographic=l-m-1+h,i.upper&&(n.clearRect(0,0,l,l),n.textBaseline="top",n.fillText(i.upper,0,0),u.upper=k(n.getImageData(0,0,l,l)),u.capHeight=u.baseline-u.upper),i.lower&&(n.clearRect(0,0,l,l),n.textBaseline="top",n.fillText(i.lower,0,0),u.lower=k(n.getImageData(0,0,l,l)),u.xHeight=u.baseline-u.lower),i.tittle&&(n.clearRect(0,0,l,l),n.textBaseline="top",n.fillText(i.tittle,0,0),u.tittle=k(n.getImageData(0,0,l,l))),i.ascent&&(n.clearRect(0,0,l,l),n.textBaseline="top",n.fillText(i.ascent,0,0),u.ascent=k(n.getImageData(0,0,l,l))),i.descent&&(n.clearRect(0,0,l,l),n.textBaseline="top",n.fillText(i.descent,0,0),u.descent=w(n.getImageData(0,0,l,l))),i.overshoot){n.clearRect(0,0,l,l),n.textBaseline="top",n.fillText(i.overshoot,0,0);var y=w(n.getImageData(0,0,l,l));u.overshoot=y-b}for(var x in u)u[x]/=f;return u.em=f,L.cache[v]=u,e(u,t)}function e(r,_){var v={};for(var f in typeof _=="string"&&(_=r[_]),r)f!=="em"&&(v[f]=r[f]-_);return v}function k(r){for(var _=r.height,v=r.data,f=3;f<v.length;f+=4)if(v[f]!==0)return Math.floor(.25*(f-3)/_)}function w(r){for(var _=r.height,v=r.data,f=v.length-1;f>0;f-=4)if(v[f]!==0)return Math.floor(.25*(f-3)/_)}B.exports=L,L.canvas=document.createElement("canvas"),L.cache={}},46492:function(B,L,e){var k=e(90720),w=Object.prototype.toString,r=Object.prototype.hasOwnProperty;B.exports=function(_,v,f){if(!k(v))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=f),w.call(_)==="[object Array]"?function(t,a,n){for(var i=0,l=t.length;i<l;i++)r.call(t,i)&&(n==null?a(t[i],i,t):a.call(n,t[i],i,t))}(_,v,s):typeof _=="string"?function(t,a,n){for(var i=0,l=t.length;i<l;i++)n==null?a(t.charAt(i),i,t):a.call(n,t.charAt(i),i,t)}(_,v,s):function(t,a,n){for(var i in t)r.call(t,i)&&(n==null?a(t[i],i,t):a.call(n,t[i],i,t))}(_,v,s)}},74336:function(B){var L=Object.prototype.toString,e=Math.max,k=function(w,r){for(var _=[],v=0;v<w.length;v+=1)_[v]=w[v];for(var f=0;f<r.length;f+=1)_[f+w.length]=r[f];return _};B.exports=function(w){var r=this;if(typeof r!="function"||L.apply(r)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var _,v=function(n,i){for(var l=[],o=1,u=0;o<n.length;o+=1,u+=1)l[u]=n[o];return l}(arguments),f=e(0,r.length-v.length),s=[],t=0;t<f;t++)s[t]="$"+t;if(_=Function("binder","return function ("+function(n,i){for(var l="",o=0;o<n.length;o+=1)l+=n[o],o+1<n.length&&(l+=",");return l}(s)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof _){var n=r.apply(this,k(v,arguments));return Object(n)===n?n:this}return r.apply(w,k(v,arguments))}),r.prototype){var a=function(){};a.prototype=r.prototype,_.prototype=new a,a.prototype=null}return _}},8844:function(B,L,e){var k=e(74336);B.exports=Function.prototype.bind||k},13380:function(B){B.exports=function(L,e){if(typeof L!="string")throw new TypeError("must specify type string");if(e=e||{},typeof document>"u"&&!e.canvas)return null;var k=e.canvas||document.createElement("canvas");typeof e.width=="number"&&(k.width=e.width),typeof e.height=="number"&&(k.height=e.height);var w,r=e;try{var _=[L];L.indexOf("webgl")===0&&_.push("experimental-"+L);for(var v=0;v<_.length;v++)if(w=k.getContext(_[v],r))return w}catch{w=null}return w||null}},53664:function(B,L,e){var k,w=SyntaxError,r=Function,_=TypeError,v=function(P){try{return r('"use strict"; return ('+P+").constructor;")()}catch{}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var s=function(){throw new _},t=f?function(){try{return s}catch{try{return f(arguments,"callee").get}catch{return s}}}():s,a=e(71080)(),n=e(69572)(),i=Object.getPrototypeOf||(n?function(P){return P.__proto__}:null),l={},o=typeof Uint8Array<"u"&&i?i(Uint8Array):k,u={"%AggregateError%":typeof AggregateError>"u"?k:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?k:ArrayBuffer,"%ArrayIteratorPrototype%":a&&i?i([][Symbol.iterator]()):k,"%AsyncFromSyncIteratorPrototype%":k,"%AsyncFunction%":l,"%AsyncGenerator%":l,"%AsyncGeneratorFunction%":l,"%AsyncIteratorPrototype%":l,"%Atomics%":typeof Atomics>"u"?k:Atomics,"%BigInt%":typeof BigInt>"u"?k:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?k:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?k:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?k:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?k:Float32Array,"%Float64Array%":typeof Float64Array>"u"?k:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?k:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":l,"%Int8Array%":typeof Int8Array>"u"?k:Int8Array,"%Int16Array%":typeof Int16Array>"u"?k:Int16Array,"%Int32Array%":typeof Int32Array>"u"?k:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":a&&i?i(i([][Symbol.iterator]())):k,"%JSON%":typeof JSON=="object"?JSON:k,"%Map%":typeof Map>"u"?k:Map,"%MapIteratorPrototype%":typeof Map<"u"&&a&&i?i(new Map()[Symbol.iterator]()):k,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?k:Promise,"%Proxy%":typeof Proxy>"u"?k:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?k:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?k:Set,"%SetIteratorPrototype%":typeof Set<"u"&&a&&i?i(new Set()[Symbol.iterator]()):k,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?k:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":a&&i?i(""[Symbol.iterator]()):k,"%Symbol%":a?Symbol:k,"%SyntaxError%":w,"%ThrowTypeError%":t,"%TypedArray%":o,"%TypeError%":_,"%Uint8Array%":typeof Uint8Array>"u"?k:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?k:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?k:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?k:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?k:WeakMap,"%WeakRef%":typeof WeakRef>"u"?k:WeakRef,"%WeakSet%":typeof WeakSet>"u"?k:WeakSet};if(i)try{null.error}catch(P){var h=i(i(P));u["%Error.prototype%"]=h}var c=function P(O){var I;if(O==="%AsyncFunction%")I=v("async function () {}");else if(O==="%GeneratorFunction%")I=v("function* () {}");else if(O==="%AsyncGeneratorFunction%")I=v("async function* () {}");else if(O==="%AsyncGenerator%"){var R=P("%AsyncGeneratorFunction%");R&&(I=R.prototype)}else if(O==="%AsyncIteratorPrototype%"){var U=P("%AsyncGenerator%");U&&i&&(I=i(U.prototype))}return u[O]=I,I},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},d=e(8844),g=e(92064),m=d.call(Function.call,Array.prototype.concat),y=d.call(Function.apply,Array.prototype.splice),x=d.call(Function.call,String.prototype.replace),T=d.call(Function.call,String.prototype.slice),p=d.call(Function.call,RegExp.prototype.exec),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,E=function(P,O){var I,R=P;if(g(b,R)&&(R="%"+(I=b[R])[0]+"%"),g(u,R)){var U=u[R];if(U===l&&(U=c(R)),U===void 0&&!O)throw new _("intrinsic "+P+" exists, but is not available. Please file an issue!");return{alias:I,name:R,value:U}}throw new w("intrinsic "+P+" does not exist!")};B.exports=function(P,O){if(typeof P!="string"||P.length===0)throw new _("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof O!="boolean")throw new _('"allowMissing" argument must be a boolean');if(p(/^%?[^%]*%?$/,P)===null)throw new w("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var I=function(J){var ee=T(J,0,1),ie=T(J,-1);if(ee==="%"&&ie!=="%")throw new w("invalid intrinsic syntax, expected closing `%`");if(ie==="%"&&ee!=="%")throw new w("invalid intrinsic syntax, expected opening `%`");var oe=[];return x(J,S,function(ae,ce,ge,ve){oe[oe.length]=ge?x(ve,M,"$1"):ce||ae}),oe}(P),R=I.length>0?I[0]:"",U=E("%"+R+"%",O),z=U.name,j=U.value,W=!1,F=U.alias;F&&(R=F[0],y(I,m([0,1],F)));for(var V=1,H=!0;V<I.length;V+=1){var te=I[V],Q=T(te,0,1),K=T(te,-1);if((Q==='"'||Q==="'"||Q==="`"||K==='"'||K==="'"||K==="`")&&Q!==K)throw new w("property names with quotes must have matching quotes");if(te!=="constructor"&&H||(W=!0),g(u,z="%"+(R+="."+te)+"%"))j=u[z];else if(j!=null){if(!(te in j)){if(!O)throw new _("base intrinsic for "+P+" exists, but the property is not available.");return}if(f&&V+1>=I.length){var X=f(j,te);j=(H=!!X)&&"get"in X&&!("originalValue"in X.get)?X.get:j[te]}else H=g(j,te),j=j[te];H&&!W&&(u[z]=j)}}return j}},12408:function(B){B.exports=function(L,e){var k=e[0],w=e[1],r=e[2],_=e[3],v=e[4],f=e[5],s=e[6],t=e[7],a=e[8],n=e[9],i=e[10],l=e[11],o=e[12],u=e[13],h=e[14],c=e[15];return L[0]=f*(i*c-l*h)-n*(s*c-t*h)+u*(s*l-t*i),L[1]=-(w*(i*c-l*h)-n*(r*c-_*h)+u*(r*l-_*i)),L[2]=w*(s*c-t*h)-f*(r*c-_*h)+u*(r*t-_*s),L[3]=-(w*(s*l-t*i)-f*(r*l-_*i)+n*(r*t-_*s)),L[4]=-(v*(i*c-l*h)-a*(s*c-t*h)+o*(s*l-t*i)),L[5]=k*(i*c-l*h)-a*(r*c-_*h)+o*(r*l-_*i),L[6]=-(k*(s*c-t*h)-v*(r*c-_*h)+o*(r*t-_*s)),L[7]=k*(s*l-t*i)-v*(r*l-_*i)+a*(r*t-_*s),L[8]=v*(n*c-l*u)-a*(f*c-t*u)+o*(f*l-t*n),L[9]=-(k*(n*c-l*u)-a*(w*c-_*u)+o*(w*l-_*n)),L[10]=k*(f*c-t*u)-v*(w*c-_*u)+o*(w*t-_*f),L[11]=-(k*(f*l-t*n)-v*(w*l-_*n)+a*(w*t-_*f)),L[12]=-(v*(n*h-i*u)-a*(f*h-s*u)+o*(f*i-s*n)),L[13]=k*(n*h-i*u)-a*(w*h-r*u)+o*(w*i-r*n),L[14]=-(k*(f*h-s*u)-v*(w*h-r*u)+o*(w*s-r*f)),L[15]=k*(f*i-s*n)-v*(w*i-r*n)+a*(w*s-r*f),L}},76860:function(B){B.exports=function(L){var e=new Float32Array(16);return e[0]=L[0],e[1]=L[1],e[2]=L[2],e[3]=L[3],e[4]=L[4],e[5]=L[5],e[6]=L[6],e[7]=L[7],e[8]=L[8],e[9]=L[9],e[10]=L[10],e[11]=L[11],e[12]=L[12],e[13]=L[13],e[14]=L[14],e[15]=L[15],e}},64492:function(B){B.exports=function(L,e){return L[0]=e[0],L[1]=e[1],L[2]=e[2],L[3]=e[3],L[4]=e[4],L[5]=e[5],L[6]=e[6],L[7]=e[7],L[8]=e[8],L[9]=e[9],L[10]=e[10],L[11]=e[11],L[12]=e[12],L[13]=e[13],L[14]=e[14],L[15]=e[15],L}},54212:function(B){B.exports=function(){var L=new Float32Array(16);return L[0]=1,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=1,L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[10]=1,L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L}},70800:function(B){B.exports=function(L){var e=L[0],k=L[1],w=L[2],r=L[3],_=L[4],v=L[5],f=L[6],s=L[7],t=L[8],a=L[9],n=L[10],i=L[11],l=L[12],o=L[13],u=L[14],h=L[15];return(e*v-k*_)*(n*h-i*u)-(e*f-w*_)*(a*h-i*o)+(e*s-r*_)*(a*u-n*o)+(k*f-w*v)*(t*h-i*l)-(k*s-r*v)*(t*u-n*l)+(w*s-r*f)*(t*o-a*l)}},61784:function(B){B.exports=function(L,e){var k=e[0],w=e[1],r=e[2],_=e[3],v=k+k,f=w+w,s=r+r,t=k*v,a=w*v,n=w*f,i=r*v,l=r*f,o=r*s,u=_*v,h=_*f,c=_*s;return L[0]=1-n-o,L[1]=a+c,L[2]=i-h,L[3]=0,L[4]=a-c,L[5]=1-t-o,L[6]=l+u,L[7]=0,L[8]=i+h,L[9]=l-u,L[10]=1-t-n,L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L}},91616:function(B){B.exports=function(L,e,k){var w,r,_,v=k[0],f=k[1],s=k[2],t=Math.sqrt(v*v+f*f+s*s);return Math.abs(t)<1e-6?null:(v*=t=1/t,f*=t,s*=t,w=Math.sin(e),_=1-(r=Math.cos(e)),L[0]=v*v*_+r,L[1]=f*v*_+s*w,L[2]=s*v*_-f*w,L[3]=0,L[4]=v*f*_-s*w,L[5]=f*f*_+r,L[6]=s*f*_+v*w,L[7]=0,L[8]=v*s*_+f*w,L[9]=f*s*_-v*w,L[10]=s*s*_+r,L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L)}},51944:function(B){B.exports=function(L,e,k){var w=e[0],r=e[1],_=e[2],v=e[3],f=w+w,s=r+r,t=_+_,a=w*f,n=w*s,i=w*t,l=r*s,o=r*t,u=_*t,h=v*f,c=v*s,b=v*t;return L[0]=1-(l+u),L[1]=n+b,L[2]=i-c,L[3]=0,L[4]=n-b,L[5]=1-(a+u),L[6]=o+h,L[7]=0,L[8]=i+c,L[9]=o-h,L[10]=1-(a+l),L[11]=0,L[12]=k[0],L[13]=k[1],L[14]=k[2],L[15]=1,L}},69444:function(B){B.exports=function(L,e){return L[0]=e[0],L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=e[1],L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[10]=e[2],L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L}},48268:function(B){B.exports=function(L,e){return L[0]=1,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=1,L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[10]=1,L[11]=0,L[12]=e[0],L[13]=e[1],L[14]=e[2],L[15]=1,L}},21856:function(B){B.exports=function(L,e){var k=Math.sin(e),w=Math.cos(e);return L[0]=1,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=w,L[6]=k,L[7]=0,L[8]=0,L[9]=-k,L[10]=w,L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L}},79216:function(B){B.exports=function(L,e){var k=Math.sin(e),w=Math.cos(e);return L[0]=w,L[1]=0,L[2]=-k,L[3]=0,L[4]=0,L[5]=1,L[6]=0,L[7]=0,L[8]=k,L[9]=0,L[10]=w,L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L}},57736:function(B){B.exports=function(L,e){var k=Math.sin(e),w=Math.cos(e);return L[0]=w,L[1]=k,L[2]=0,L[3]=0,L[4]=-k,L[5]=w,L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[10]=1,L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L}},38848:function(B){B.exports=function(L,e,k,w,r,_,v){var f=1/(k-e),s=1/(r-w),t=1/(_-v);return L[0]=2*_*f,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=2*_*s,L[6]=0,L[7]=0,L[8]=(k+e)*f,L[9]=(r+w)*s,L[10]=(v+_)*t,L[11]=-1,L[12]=0,L[13]=0,L[14]=v*_*2*t,L[15]=0,L}},36635:function(B){B.exports=function(L){return L[0]=1,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=1,L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[10]=1,L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L}},36524:function(B,L,e){B.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(B){B.exports=function(L,e){var k=e[0],w=e[1],r=e[2],_=e[3],v=e[4],f=e[5],s=e[6],t=e[7],a=e[8],n=e[9],i=e[10],l=e[11],o=e[12],u=e[13],h=e[14],c=e[15],b=k*f-w*v,d=k*s-r*v,g=k*t-_*v,m=w*s-r*f,y=w*t-_*f,x=r*t-_*s,T=a*u-n*o,p=a*h-i*o,S=a*c-l*o,M=n*h-i*u,E=n*c-l*u,P=i*c-l*h,O=b*P-d*E+g*M+m*S-y*p+x*T;return O?(O=1/O,L[0]=(f*P-s*E+t*M)*O,L[1]=(r*E-w*P-_*M)*O,L[2]=(u*x-h*y+c*m)*O,L[3]=(i*y-n*x-l*m)*O,L[4]=(s*S-v*P-t*p)*O,L[5]=(k*P-r*S+_*p)*O,L[6]=(h*g-o*x-c*d)*O,L[7]=(a*x-i*g+l*d)*O,L[8]=(v*E-f*S+t*T)*O,L[9]=(w*S-k*E-_*T)*O,L[10]=(o*y-u*g+c*b)*O,L[11]=(n*g-a*y-l*b)*O,L[12]=(f*p-v*M-s*T)*O,L[13]=(k*M-w*p+r*T)*O,L[14]=(u*d-o*m-h*b)*O,L[15]=(a*m-n*d+i*b)*O,L):null}},56508:function(B,L,e){var k=e(36635);B.exports=function(w,r,_,v){var f,s,t,a,n,i,l,o,u,h,c=r[0],b=r[1],d=r[2],g=v[0],m=v[1],y=v[2],x=_[0],T=_[1],p=_[2];return Math.abs(c-x)<1e-6&&Math.abs(b-T)<1e-6&&Math.abs(d-p)<1e-6?k(w):(l=c-x,o=b-T,u=d-p,f=m*(u*=h=1/Math.sqrt(l*l+o*o+u*u))-y*(o*=h),s=y*(l*=h)-g*u,t=g*o-m*l,(h=Math.sqrt(f*f+s*s+t*t))?(f*=h=1/h,s*=h,t*=h):(f=0,s=0,t=0),a=o*t-u*s,n=u*f-l*t,i=l*s-o*f,(h=Math.sqrt(a*a+n*n+i*i))?(a*=h=1/h,n*=h,i*=h):(a=0,n=0,i=0),w[0]=f,w[1]=a,w[2]=l,w[3]=0,w[4]=s,w[5]=n,w[6]=o,w[7]=0,w[8]=t,w[9]=i,w[10]=u,w[11]=0,w[12]=-(f*c+s*b+t*d),w[13]=-(a*c+n*b+i*d),w[14]=-(l*c+o*b+u*d),w[15]=1,w)}},80944:function(B){B.exports=function(L,e,k){var w=e[0],r=e[1],_=e[2],v=e[3],f=e[4],s=e[5],t=e[6],a=e[7],n=e[8],i=e[9],l=e[10],o=e[11],u=e[12],h=e[13],c=e[14],b=e[15],d=k[0],g=k[1],m=k[2],y=k[3];return L[0]=d*w+g*f+m*n+y*u,L[1]=d*r+g*s+m*i+y*h,L[2]=d*_+g*t+m*l+y*c,L[3]=d*v+g*a+m*o+y*b,d=k[4],g=k[5],m=k[6],y=k[7],L[4]=d*w+g*f+m*n+y*u,L[5]=d*r+g*s+m*i+y*h,L[6]=d*_+g*t+m*l+y*c,L[7]=d*v+g*a+m*o+y*b,d=k[8],g=k[9],m=k[10],y=k[11],L[8]=d*w+g*f+m*n+y*u,L[9]=d*r+g*s+m*i+y*h,L[10]=d*_+g*t+m*l+y*c,L[11]=d*v+g*a+m*o+y*b,d=k[12],g=k[13],m=k[14],y=k[15],L[12]=d*w+g*f+m*n+y*u,L[13]=d*r+g*s+m*i+y*h,L[14]=d*_+g*t+m*l+y*c,L[15]=d*v+g*a+m*o+y*b,L}},97688:function(B){B.exports=function(L,e,k,w,r,_,v){var f=1/(e-k),s=1/(w-r),t=1/(_-v);return L[0]=-2*f,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=-2*s,L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[10]=2*t,L[11]=0,L[12]=(e+k)*f,L[13]=(r+w)*s,L[14]=(v+_)*t,L[15]=1,L}},51296:function(B){B.exports=function(L,e,k,w,r){var _=1/Math.tan(e/2),v=1/(w-r);return L[0]=_/k,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=_,L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[10]=(r+w)*v,L[11]=-1,L[12]=0,L[13]=0,L[14]=2*r*w*v,L[15]=0,L}},63688:function(B){B.exports=function(L,e,k,w){var r=Math.tan(e.upDegrees*Math.PI/180),_=Math.tan(e.downDegrees*Math.PI/180),v=Math.tan(e.leftDegrees*Math.PI/180),f=Math.tan(e.rightDegrees*Math.PI/180),s=2/(v+f),t=2/(r+_);return L[0]=s,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=t,L[6]=0,L[7]=0,L[8]=-(v-f)*s*.5,L[9]=(r-_)*t*.5,L[10]=w/(k-w),L[11]=-1,L[12]=0,L[13]=0,L[14]=w*k/(k-w),L[15]=0,L}},30016:function(B){B.exports=function(L,e,k,w){var r,_,v,f,s,t,a,n,i,l,o,u,h,c,b,d,g,m,y,x,T,p,S,M,E=w[0],P=w[1],O=w[2],I=Math.sqrt(E*E+P*P+O*O);return Math.abs(I)<1e-6?null:(E*=I=1/I,P*=I,O*=I,r=Math.sin(k),v=1-(_=Math.cos(k)),f=e[0],s=e[1],t=e[2],a=e[3],n=e[4],i=e[5],l=e[6],o=e[7],u=e[8],h=e[9],c=e[10],b=e[11],d=E*E*v+_,g=P*E*v+O*r,m=O*E*v-P*r,y=E*P*v-O*r,x=P*P*v+_,T=O*P*v+E*r,p=E*O*v+P*r,S=P*O*v-E*r,M=O*O*v+_,L[0]=f*d+n*g+u*m,L[1]=s*d+i*g+h*m,L[2]=t*d+l*g+c*m,L[3]=a*d+o*g+b*m,L[4]=f*y+n*x+u*T,L[5]=s*y+i*x+h*T,L[6]=t*y+l*x+c*T,L[7]=a*y+o*x+b*T,L[8]=f*p+n*S+u*M,L[9]=s*p+i*S+h*M,L[10]=t*p+l*S+c*M,L[11]=a*p+o*S+b*M,e!==L&&(L[12]=e[12],L[13]=e[13],L[14]=e[14],L[15]=e[15]),L)}},15456:function(B){B.exports=function(L,e,k){var w=Math.sin(k),r=Math.cos(k),_=e[4],v=e[5],f=e[6],s=e[7],t=e[8],a=e[9],n=e[10],i=e[11];return e!==L&&(L[0]=e[0],L[1]=e[1],L[2]=e[2],L[3]=e[3],L[12]=e[12],L[13]=e[13],L[14]=e[14],L[15]=e[15]),L[4]=_*r+t*w,L[5]=v*r+a*w,L[6]=f*r+n*w,L[7]=s*r+i*w,L[8]=t*r-_*w,L[9]=a*r-v*w,L[10]=n*r-f*w,L[11]=i*r-s*w,L}},64840:function(B){B.exports=function(L,e,k){var w=Math.sin(k),r=Math.cos(k),_=e[0],v=e[1],f=e[2],s=e[3],t=e[8],a=e[9],n=e[10],i=e[11];return e!==L&&(L[4]=e[4],L[5]=e[5],L[6]=e[6],L[7]=e[7],L[12]=e[12],L[13]=e[13],L[14]=e[14],L[15]=e[15]),L[0]=_*r-t*w,L[1]=v*r-a*w,L[2]=f*r-n*w,L[3]=s*r-i*w,L[8]=_*w+t*r,L[9]=v*w+a*r,L[10]=f*w+n*r,L[11]=s*w+i*r,L}},4192:function(B){B.exports=function(L,e,k){var w=Math.sin(k),r=Math.cos(k),_=e[0],v=e[1],f=e[2],s=e[3],t=e[4],a=e[5],n=e[6],i=e[7];return e!==L&&(L[8]=e[8],L[9]=e[9],L[10]=e[10],L[11]=e[11],L[12]=e[12],L[13]=e[13],L[14]=e[14],L[15]=e[15]),L[0]=_*r+t*w,L[1]=v*r+a*w,L[2]=f*r+n*w,L[3]=s*r+i*w,L[4]=t*r-_*w,L[5]=a*r-v*w,L[6]=n*r-f*w,L[7]=i*r-s*w,L}},68152:function(B){B.exports=function(L,e,k){var w=k[0],r=k[1],_=k[2];return L[0]=e[0]*w,L[1]=e[1]*w,L[2]=e[2]*w,L[3]=e[3]*w,L[4]=e[4]*r,L[5]=e[5]*r,L[6]=e[6]*r,L[7]=e[7]*r,L[8]=e[8]*_,L[9]=e[9]*_,L[10]=e[10]*_,L[11]=e[11]*_,L[12]=e[12],L[13]=e[13],L[14]=e[14],L[15]=e[15],L}},89412:function(B){B.exports=function(L){return"mat4("+L[0]+", "+L[1]+", "+L[2]+", "+L[3]+", "+L[4]+", "+L[5]+", "+L[6]+", "+L[7]+", "+L[8]+", "+L[9]+", "+L[10]+", "+L[11]+", "+L[12]+", "+L[13]+", "+L[14]+", "+L[15]+")"}},35176:function(B){B.exports=function(L,e,k){var w,r,_,v,f,s,t,a,n,i,l,o,u=k[0],h=k[1],c=k[2];return e===L?(L[12]=e[0]*u+e[4]*h+e[8]*c+e[12],L[13]=e[1]*u+e[5]*h+e[9]*c+e[13],L[14]=e[2]*u+e[6]*h+e[10]*c+e[14],L[15]=e[3]*u+e[7]*h+e[11]*c+e[15]):(w=e[0],r=e[1],_=e[2],v=e[3],f=e[4],s=e[5],t=e[6],a=e[7],n=e[8],i=e[9],l=e[10],o=e[11],L[0]=w,L[1]=r,L[2]=_,L[3]=v,L[4]=f,L[5]=s,L[6]=t,L[7]=a,L[8]=n,L[9]=i,L[10]=l,L[11]=o,L[12]=w*u+f*h+n*c+e[12],L[13]=r*u+s*h+i*c+e[13],L[14]=_*u+t*h+l*c+e[14],L[15]=v*u+a*h+o*c+e[15]),L}},86520:function(B){B.exports=function(L,e){if(L===e){var k=e[1],w=e[2],r=e[3],_=e[6],v=e[7],f=e[11];L[1]=e[4],L[2]=e[8],L[3]=e[12],L[4]=k,L[6]=e[9],L[7]=e[13],L[8]=w,L[9]=_,L[11]=e[14],L[12]=r,L[13]=v,L[14]=f}else L[0]=e[0],L[1]=e[4],L[2]=e[8],L[3]=e[12],L[4]=e[1],L[5]=e[5],L[6]=e[9],L[7]=e[13],L[8]=e[2],L[9]=e[6],L[10]=e[10],L[11]=e[14],L[12]=e[3],L[13]=e[7],L[14]=e[11],L[15]=e[15];return L}},23352:function(B,L,e){var k=e(42771),w=e(55616),r=e(28624),_=e(55212),v=e(60463),f=e(72160),s=e(33888),t=e(14144),a=e(51160),n=e(58908),i=e(65819),l=e(23464),o=e(63768),u=e(50896),h=e(71920),c=e(47520),b=e(308).nextPow2,d=new v,g=!1;if(document.body){var m=document.body.appendChild(document.createElement("div"));m.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(m).fontStretch&&(g=!0),document.body.removeChild(m)}var y=function(x){(function(T){return typeof T=="function"&&T._gl&&T.prop&&T.texture&&T.buffer})(x)?(x={regl:x},this.gl=x.regl._gl):this.gl=_(x),this.shader=d.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=x.regl||r({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),d.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(n(x)?x:{})};y.prototype.createShader=function(){var x=this.regl,T=x({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:x.prop("count"),offset:x.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:x.this("sizeBuffer")},width:{offset:0,stride:8,buffer:x.this("sizeBuffer")},char:x.this("charBuffer"),position:x.this("position")},uniforms:{atlasSize:function(p,S){return[S.atlas.width,S.atlas.height]},atlasDim:function(p,S){return[S.atlas.cols,S.atlas.rows]},atlas:function(p,S){return S.atlas.texture},charStep:function(p,S){return S.atlas.step},em:function(p,S){return S.atlas.em},color:x.prop("color"),opacity:x.prop("opacity"),viewport:x.this("viewportArray"),scale:x.this("scale"),align:x.prop("align"),baseline:x.prop("baseline"),translate:x.this("translate"),positionOffset:x.prop("positionOffset")},primitive:"points",viewport:x.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`});return{regl:x,draw:T,atlas:{}}},y.prototype.update=function(x){var T=this;if(typeof x=="string")x={text:x};else if(!x)return;(x=w(x,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity!=null&&(Array.isArray(x.opacity)?this.opacity=x.opacity.map(function(de){return parseFloat(de)}):this.opacity=parseFloat(x.opacity)),x.viewport!=null&&(this.viewport=a(x.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),x.kerning!=null&&(this.kerning=x.kerning),x.offset!=null&&(typeof x.offset=="number"&&(x.offset=[x.offset,0]),this.positionOffset=c(x.offset)),x.direction&&(this.direction=x.direction),x.range&&(this.range=x.range,this.scale=[1/(x.range[2]-x.range[0]),1/(x.range[3]-x.range[1])],this.translate=[-x.range[0],-x.range[1]]),x.scale&&(this.scale=x.scale),x.translate&&(this.translate=x.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||x.font||(x.font=y.baseFontSize+"px sans-serif");var p,S=!1,M=!1;if(x.font&&(Array.isArray(x.font)?x.font:[x.font]).forEach(function(de,Ce){if(typeof de=="string")try{de=k.parse(de)}catch{de=k.parse(y.baseFontSize+"px "+de)}else de=k.parse(k.stringify(de));var Me=k.stringify({size:y.baseFontSize,family:de.family,stretch:g?de.stretch:void 0,variant:de.variant,weight:de.weight,style:de.style}),Le=i(de.size),Oe=Math.round(Le[0]*l(Le[1]));if(Oe!==T.fontSize[Ce]&&(M=!0,T.fontSize[Ce]=Oe),!(T.font[Ce]&&Me==T.font[Ce].baseString||(S=!0,T.font[Ce]=y.fonts[Me],T.font[Ce]))){var Be=de.family.join(", "),pe=[de.style];de.style!=de.variant&&pe.push(de.variant),de.variant!=de.weight&&pe.push(de.weight),g&&de.weight!=de.stretch&&pe.push(de.stretch),T.font[Ce]={baseString:Me,family:Be,weight:de.weight,stretch:de.stretch,style:de.style,variant:de.variant,width:{},kerning:{},metrics:h(Be,{origin:"top",fontSize:y.baseFontSize,fontStyle:pe.join(" ")})},y.fonts[Me]=T.font[Ce]}}),(S||M)&&this.font.forEach(function(de,Ce){var Me=k.stringify({size:T.fontSize[Ce],family:de.family,stretch:g?de.stretch:void 0,variant:de.variant,weight:de.weight,style:de.style});if(T.fontAtlas[Ce]=T.shader.atlas[Me],!T.fontAtlas[Ce]){var Le=de.metrics;T.shader.atlas[Me]=T.fontAtlas[Ce]={fontString:Me,step:2*Math.ceil(T.fontSize[Ce]*Le.bottom*.5),em:T.fontSize[Ce],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:T.regl.texture()}}x.text==null&&(x.text=T.text)}),typeof x.text=="string"&&x.position&&x.position.length>2){for(var E=Array(.5*x.position.length),P=0;P<E.length;P++)E[P]=x.text;x.text=E}if(x.text!=null||S){if(this.textOffsets=[0],Array.isArray(x.text)){this.count=x.text[0].length,this.counts=[this.count];for(var O=1;O<x.text.length;O++)this.textOffsets[O]=this.textOffsets[O-1]+x.text[O-1].length,this.count+=x.text[O].length,this.counts.push(x.text[O].length);this.text=x.text.join("")}else this.text=x.text,this.count=this.text.length,this.counts=[this.count];p=[],this.font.forEach(function(de,Ce){y.atlasContext.font=de.baseString;for(var Me=T.fontAtlas[Ce],Le=0;Le<T.text.length;Le++){var Oe=T.text.charAt(Le);if(Me.ids[Oe]==null&&(Me.ids[Oe]=Me.chars.length,Me.chars.push(Oe),p.push(Oe)),de.width[Oe]==null&&(de.width[Oe]=y.atlasContext.measureText(Oe).width/y.baseFontSize,T.kerning)){var Be=[];for(var pe in de.width)Be.push(pe+Oe,Oe+pe);u(de.kerning,o(de.family,{pairs:Be}))}}})}if(x.position)if(x.position.length>2){for(var I=!x.position[0].length,R=t.mallocFloat(2*this.count),U=0,z=0;U<this.counts.length;U++){var j=this.counts[U];if(I)for(var W=0;W<j;W++)R[z++]=x.position[2*U],R[z++]=x.position[2*U+1];else for(var F=0;F<j;F++)R[z++]=x.position[U][0],R[z++]=x.position[U][1]}this.position.call?this.position({type:"float",data:R}):this.position=this.regl.buffer({type:"float",data:R}),t.freeFloat(R)}else this.position.destroy&&this.position.destroy(),this.position={constant:x.position};if(x.text||S){var V=t.mallocUint8(this.count),H=t.mallocFloat(2*this.count);this.textWidth=[];for(var te=0,Q=0;te<this.counts.length;te++){for(var K=this.counts[te],X=this.font[te]||this.font[0],J=this.fontAtlas[te]||this.fontAtlas[0],ee=0;ee<K;ee++){var ie=this.text.charAt(Q),oe=this.text.charAt(Q-1);if(V[Q]=J.ids[ie],H[2*Q]=X.width[ie],ee){var ae=H[2*Q-2],ce=H[2*Q],ge=H[2*Q-1]+.5*ae+.5*ce;if(this.kerning){var ve=X.kerning[oe+ie];ve&&(ge+=.001*ve)}H[2*Q+1]=ge}else H[2*Q+1]=.5*H[2*Q];Q++}this.textWidth.push(H.length?.5*H[2*Q-2]+H[2*Q-1]:0)}x.align||(x.align=this.align),this.charBuffer({data:V,type:"uint8",usage:"stream"}),this.sizeBuffer({data:H,type:"float",usage:"stream"}),t.freeUint8(V),t.freeFloat(H),p.length&&this.font.forEach(function(de,Ce){var Me=T.fontAtlas[Ce],Le=Me.step,Oe=Math.floor(y.maxAtlasSize/Le),Be=Math.min(Oe,Me.chars.length),pe=Math.ceil(Me.chars.length/Be),_e=b(Be*Le),Te=b(pe*Le);Me.width=_e,Me.height=Te,Me.rows=pe,Me.cols=Be,Me.em&&Me.texture({data:s({canvas:y.atlasCanvas,font:Me.fontString,chars:Me.chars,shape:[_e,Te],step:[Le,Le]})})})}if(x.align&&(this.align=x.align,this.alignOffset=this.textWidth.map(function(de,Ce){var Me=Array.isArray(T.align)?T.align.length>1?T.align[Ce]:T.align[0]:T.align;if(typeof Me=="number")return Me;switch(Me){case"right":case"end":return-de;case"center":case"centre":case"middle":return .5*-de}return 0})),this.baseline==null&&x.baseline==null&&(x.baseline=0),x.baseline!=null&&(this.baseline=x.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(de,Ce){var Me=(T.font[Ce]||T.font[0]).metrics,Le=0;return Le+=.5*Me.bottom,-1*(Le+=typeof de=="number"?de-Me.baseline:-Me[de])})),x.color!=null)if(x.color||(x.color="transparent"),typeof x.color!="string"&&isNaN(x.color)){var be;if(typeof x.color[0]=="number"&&x.color.length>this.counts.length){var we=x.color.length;be=t.mallocUint8(we);for(var ye=(x.color.subarray||x.color.slice).bind(x.color),me=0;me<we;me+=4)be.set(f(ye(me,me+4),"uint8"),me)}else{var Ae=x.color.length;be=t.mallocUint8(4*Ae);for(var ke=0;ke<Ae;ke++)be.set(f(x.color[ke]||0,"uint8"),4*ke)}this.color=be}else this.color=f(x.color,"uint8");if(x.position||x.text||x.color||x.baseline||x.align||x.font||x.offset||x.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var fe=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(fe);for(var le=0;le<this.batch.length;le++)this.batch[le]={count:this.counts.length>1?this.counts[le]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[le]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*le,4*le+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[le]:this.opacity,baseline:this.baselineOffset[le]!=null?this.baselineOffset[le]:this.baselineOffset[0],align:this.align?this.alignOffset[le]!=null?this.alignOffset[le]:this.alignOffset[0]:0,atlas:this.fontAtlas[le]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*le,2*le+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]},y.prototype.destroy=function(){},y.prototype.kerning=!0,y.prototype.position={constant:new Float32Array(2)},y.prototype.translate=null,y.prototype.scale=null,y.prototype.font=null,y.prototype.text="",y.prototype.positionOffset=[0,0],y.prototype.opacity=1,y.prototype.color=new Uint8Array([0,0,0,255]),y.prototype.alignOffset=[0,0],y.maxAtlasSize=1024,y.atlasCanvas=document.createElement("canvas"),y.atlasContext=y.atlasCanvas.getContext("2d",{alpha:!1}),y.baseFontSize=64,y.fonts={},B.exports=y},55212:function(B,L,e){var k=e(55616);function w(v){if(v.container)if(v.container==document.body)document.body.style.width||(v.canvas.width=v.width||v.pixelRatio*e.g.innerWidth),document.body.style.height||(v.canvas.height=v.height||v.pixelRatio*e.g.innerHeight);else{var f=v.container.getBoundingClientRect();v.canvas.width=v.width||f.right-f.left,v.canvas.height=v.height||f.bottom-f.top}}function r(v){return typeof v.getContext=="function"&&"width"in v&&"height"in v}function _(){var v=document.createElement("canvas");return v.style.position="absolute",v.style.top=0,v.style.left=0,v}B.exports=function(v){var f;if(v?typeof v=="string"&&(v={container:v}):v={},(v=r(v)||typeof(f=v).nodeName=="string"&&typeof f.appendChild=="function"&&typeof f.getBoundingClientRect=="function"?{container:v}:function(t){return typeof t.drawArrays=="function"||typeof t.drawElements=="function"}(v)?{gl:v}:k(v,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0)).pixelRatio||(v.pixelRatio=e.g.pixelRatio||1),v.gl)return v.gl;if(v.canvas&&(v.container=v.canvas.parentNode),v.container){if(typeof v.container=="string"){var s=document.querySelector(v.container);if(!s)throw Error("Element "+v.container+" is not found");v.container=s}r(v.container)?(v.canvas=v.container,v.container=v.canvas.parentNode):v.canvas||(v.canvas=_(),v.container.appendChild(v.canvas),w(v))}else if(!v.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");v.container=document.body||document.documentElement,v.canvas=_(),v.container.appendChild(v.canvas),w(v)}return v.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(t){try{v.gl=v.canvas.getContext(t,v.attrs)}catch{}return v.gl}),v.gl}},26444:function(B){B.exports=function(L){typeof L=="string"&&(L=[L]);for(var e=[].slice.call(arguments,1),k=[],w=0;w<L.length-1;w++)k.push(L[w],e[w]||"");return k.push(L[w]),k.join("")}},2304:function(B,L,e){var k=e(53664)("%Object.getOwnPropertyDescriptor%",!0);if(k)try{k([],"length")}catch{k=null}B.exports=k},52264:function(B,L,e){var k,w=e(24200);k=typeof e.g.matchMedia=="function"?!e.g.matchMedia("(hover: none)").matches:w,B.exports=k},89184:function(B,L,e){var k=e(24200);B.exports=k&&function(){var w=!1;try{var r=Object.defineProperty({},"passive",{get:function(){w=!0}});window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch{w=!1}return w}()},39640:function(B,L,e){var k=e(53664)("%Object.defineProperty%",!0),w=function(){if(k)try{return k({},"a",{value:1}),!0}catch{return!1}return!1};w.hasArrayLengthDefineBug=function(){if(!w())return null;try{return k([],"length",{value:1}).length!==1}catch{return!0}},B.exports=w},69572:function(B){var L={foo:{}},e=Object;B.exports=function(){return{__proto__:L}.foo===L.foo&&!({__proto__:null}instanceof e)}},71080:function(B,L,e){var k=typeof Symbol<"u"&&Symbol,w=e(89320);B.exports=function(){return typeof k=="function"&&typeof Symbol=="function"&&typeof k("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&w()}},89320:function(B){B.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var L={},e=Symbol("test"),k=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(k)!=="[object Symbol]")return!1;for(e in L[e]=42,L)return!1;if(typeof Object.keys=="function"&&Object.keys(L).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(L).length!==0)return!1;var w=Object.getOwnPropertySymbols(L);if(w.length!==1||w[0]!==e||!Object.prototype.propertyIsEnumerable.call(L,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var r=Object.getOwnPropertyDescriptor(L,e);if(r.value!==42||r.enumerable!==!0)return!1}return!0}},46672:function(B,L,e){var k=e(89320);B.exports=function(){return k()&&!!Symbol.toStringTag}},92064:function(B,L,e){var k=Function.prototype.call,w=Object.prototype.hasOwnProperty,r=e(8844);B.exports=r.call(k,w)},35984:function(B,L){L.read=function(e,k,w,r,_){var v,f,s=8*_-r-1,t=(1<<s)-1,a=t>>1,n=-7,i=w?_-1:0,l=w?-1:1,o=e[k+i];for(i+=l,v=o&(1<<-n)-1,o>>=-n,n+=s;n>0;v=256*v+e[k+i],i+=l,n-=8);for(f=v&(1<<-n)-1,v>>=-n,n+=r;n>0;f=256*f+e[k+i],i+=l,n-=8);if(v===0)v=1-a;else{if(v===t)return f?NaN:1/0*(o?-1:1);f+=Math.pow(2,r),v-=a}return(o?-1:1)*f*Math.pow(2,v-r)},L.write=function(e,k,w,r,_,v){var f,s,t,a=8*v-_-1,n=(1<<a)-1,i=n>>1,l=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,o=r?0:v-1,u=r?1:-1,h=k<0||k===0&&1/k<0?1:0;for(k=Math.abs(k),isNaN(k)||k===1/0?(s=isNaN(k)?1:0,f=n):(f=Math.floor(Math.log(k)/Math.LN2),k*(t=Math.pow(2,-f))<1&&(f--,t*=2),(k+=f+i>=1?l/t:l*Math.pow(2,1-i))*t>=2&&(f++,t/=2),f+i>=n?(s=0,f=n):f+i>=1?(s=(k*t-1)*Math.pow(2,_),f+=i):(s=k*Math.pow(2,i-1)*Math.pow(2,_),f=0));_>=8;e[w+o]=255&s,o+=u,s/=256,_-=8);for(f=f<<_|s,a+=_;a>0;e[w+o]=255&f,o+=u,f/=256,a-=8);e[w+o-u]|=128*h}},6768:function(B){typeof Object.create=="function"?B.exports=function(L,e){e&&(L.super_=e,L.prototype=Object.create(e.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}))}:B.exports=function(L,e){if(e){L.super_=e;var k=function(){};k.prototype=e.prototype,L.prototype=new k,L.prototype.constructor=L}}},91148:function(B,L,e){var k=e(46672)(),w=e(99676)("Object.prototype.toString"),r=function(f){return!(k&&f&&typeof f=="object"&&Symbol.toStringTag in f)&&w(f)==="[object Arguments]"},_=function(f){return!!r(f)||f!==null&&typeof f=="object"&&typeof f.length=="number"&&f.length>=0&&w(f)!=="[object Array]"&&w(f.callee)==="[object Function]"},v=function(){return r(arguments)}();r.isLegacyArguments=_,B.exports=v?r:_},24200:function(B){B.exports=!0},90720:function(B){var L,e,k=Function.prototype.toString,w=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof w=="function"&&typeof Object.defineProperty=="function")try{L=Object.defineProperty({},"length",{get:function(){throw e}}),e={},w(function(){throw 42},null,L)}catch(i){i!==e&&(w=null)}else w=null;var r=/^\s*class\b/,_=function(i){try{var l=k.call(i);return r.test(l)}catch{return!1}},v=function(i){try{return!_(i)&&(k.call(i),!0)}catch{return!1}},f=Object.prototype.toString,s=typeof Symbol=="function"&&!!Symbol.toStringTag,t=!(0 in[,]),a=function(){return!1};if(typeof document=="object"){var n=document.all;f.call(n)===f.call(document.all)&&(a=function(i){if((t||!i)&&(i===void 0||typeof i=="object"))try{var l=f.call(i);return(l==="[object HTMLAllCollection]"||l==="[object HTML document.all class]"||l==="[object HTMLCollection]"||l==="[object Object]")&&i("")==null}catch{}return!1})}B.exports=w?function(i){if(a(i))return!0;if(!i||typeof i!="function"&&typeof i!="object")return!1;try{w(i,null,L)}catch(l){if(l!==e)return!1}return!_(i)&&v(i)}:function(i){if(a(i))return!0;if(!i||typeof i!="function"&&typeof i!="object")return!1;if(s)return v(i);if(_(i))return!1;var l=f.call(i);return!(l!=="[object Function]"&&l!=="[object GeneratorFunction]"&&!/^\[object HTML/.test(l))&&v(i)}},84420:function(B,L,e){var k,w=Object.prototype.toString,r=Function.prototype.toString,_=/^\s*(?:function)?\*/,v=e(46672)(),f=Object.getPrototypeOf;B.exports=function(s){if(typeof s!="function")return!1;if(_.test(r.call(s)))return!0;if(!v)return w.call(s)==="[object GeneratorFunction]";if(!f)return!1;if(k===void 0){var t=function(){if(!v)return!1;try{return Function("return function*() {}")()}catch{}}();k=!!t&&f(t)}return f(s)===k}},96604:function(B){B.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(B){B.exports=function(L){return L!=L}},1560:function(B,L,e){var k=e(57916),w=e(81288),r=e(85992),_=e(57740),v=e(59736),f=k(_(),Number);w(f,{getPolyfill:_,implementation:r,shim:v}),B.exports=f},57740:function(B,L,e){var k=e(85992);B.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:k}},59736:function(B,L,e){var k=e(81288),w=e(57740);B.exports=function(){var r=w();return k(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r}},18400:function(B){B.exports=function(L){var e=typeof L;return L!==null&&(e==="object"||e==="function")}},58908:function(B){var L=Object.prototype.toString;B.exports=function(e){var k;return L.call(e)==="[object Object]"&&((k=Object.getPrototypeOf(e))===null||k===Object.getPrototypeOf({}))}},94576:function(B){B.exports=function(L){for(var e,k=L.length,w=0;w<k;w++)if(((e=L.charCodeAt(w))<9||e>13)&&e!==32&&e!==133&&e!==160&&e!==5760&&e!==6158&&(e<8192||e>8205)&&e!==8232&&e!==8233&&e!==8239&&e!==8287&&e!==8288&&e!==12288&&e!==65279)return!1;return!0}},53520:function(B){B.exports=function(L){return typeof L=="string"&&(L=L.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(L)&&/[\dz]$/i.test(L)&&L.length>4))}},7728:function(B,L,e){var k=e(46492),w=e(63436),r=e(99676),_=r("Object.prototype.toString"),v=e(46672)(),f=e(2304),s=typeof globalThis>"u"?e.g:globalThis,t=w(),a=r("Array.prototype.indexOf",!0)||function(o,u){for(var h=0;h<o.length;h+=1)if(o[h]===u)return h;return-1},n=r("String.prototype.slice"),i={},l=Object.getPrototypeOf;v&&f&&l&&k(t,function(o){var u=new s[o];if(Symbol.toStringTag in u){var h=l(u),c=f(h,Symbol.toStringTag);if(!c){var b=l(h);c=f(b,Symbol.toStringTag)}i[o]=c.get}}),B.exports=function(o){if(!o||typeof o!="object")return!1;if(!v||!(Symbol.toStringTag in o)){var u=n(_(o),8,-1);return a(t,u)>-1}return!!f&&function(h){var c=!1;return k(i,function(b,d){if(!c)try{c=b.call(h)===d}catch{}}),c}(o)}},76244:function(B){B.exports=Math.log2||function(L){return Math.log(L)*Math.LOG2E}},62644:function(B,L,e){B.exports=function(w,r){r||(r=w,w=window);var _=0,v=0,f=0,s={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function a(g){var m=!1;return"altKey"in g&&(m=m||g.altKey!==s.alt,s.alt=!!g.altKey),"shiftKey"in g&&(m=m||g.shiftKey!==s.shift,s.shift=!!g.shiftKey),"ctrlKey"in g&&(m=m||g.ctrlKey!==s.control,s.control=!!g.ctrlKey),"metaKey"in g&&(m=m||g.metaKey!==s.meta,s.meta=!!g.metaKey),m}function n(g,m){var y=k.x(m),x=k.y(m);"buttons"in m&&(g=0|m.buttons),(g!==_||y!==v||x!==f||a(m))&&(_=0|g,v=y||0,f=x||0,r&&r(_,v,f,s))}function i(g){n(0,g)}function l(){(_||v||f||s.shift||s.alt||s.meta||s.control)&&(v=f=0,_=0,s.shift=s.alt=s.control=s.meta=!1,r&&r(0,0,0,s))}function o(g){a(g)&&r&&r(_,v,f,s)}function u(g){k.buttons(g)===0?n(0,g):n(_,g)}function h(g){n(_|k.buttons(g),g)}function c(g){n(_&~k.buttons(g),g)}function b(){t||(t=!0,w.addEventListener("mousemove",u),w.addEventListener("mousedown",h),w.addEventListener("mouseup",c),w.addEventListener("mouseleave",i),w.addEventListener("mouseenter",i),w.addEventListener("mouseout",i),w.addEventListener("mouseover",i),w.addEventListener("blur",l),w.addEventListener("keyup",o),w.addEventListener("keydown",o),w.addEventListener("keypress",o),w!==window&&(window.addEventListener("blur",l),window.addEventListener("keyup",o),window.addEventListener("keydown",o),window.addEventListener("keypress",o)))}b();var d={element:w};return Object.defineProperties(d,{enabled:{get:function(){return t},set:function(g){g?b():t&&(t=!1,w.removeEventListener("mousemove",u),w.removeEventListener("mousedown",h),w.removeEventListener("mouseup",c),w.removeEventListener("mouseleave",i),w.removeEventListener("mouseenter",i),w.removeEventListener("mouseout",i),w.removeEventListener("mouseover",i),w.removeEventListener("blur",l),w.removeEventListener("keyup",o),w.removeEventListener("keydown",o),w.removeEventListener("keypress",o),w!==window&&(window.removeEventListener("blur",l),window.removeEventListener("keyup",o),window.removeEventListener("keydown",o),window.removeEventListener("keypress",o)))},enumerable:!0},buttons:{get:function(){return _},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return f},enumerable:!0},mods:{get:function(){return s},enumerable:!0}}),d};var k=e(93784)},29128:function(B){var L={left:0,top:0};B.exports=function(e,k,w){k=k||e.currentTarget||e.srcElement,Array.isArray(w)||(w=[0,0]);var r,_=e.clientX||0,v=e.clientY||0,f=(r=k)===window||r===document||r===document.body?L:r.getBoundingClientRect();return w[0]=_-f.left,w[1]=v-f.top,w}},93784:function(B,L){function e(k){return k.target||k.srcElement||window}L.buttons=function(k){if(typeof k=="object"){if("buttons"in k)return k.buttons;if("which"in k){if((w=k.which)===2)return 4;if(w===3)return 2;if(w>0)return 1<<w-1}else if("button"in k){var w;if((w=k.button)===1)return 4;if(w===2)return 2;if(w>=0)return 1<<w}}return 0},L.element=e,L.x=function(k){if(typeof k=="object"){if("offsetX"in k)return k.offsetX;var w=e(k).getBoundingClientRect();return k.clientX-w.left}return 0},L.y=function(k){if(typeof k=="object"){if("offsetY"in k)return k.offsetY;var w=e(k).getBoundingClientRect();return k.clientY-w.top}return 0}},97264:function(B,L,e){var k=e(23464);B.exports=function(w,r,_){typeof w=="function"&&(_=!!r,r=w,w=window);var v=k("ex",w),f=function(s){_&&s.preventDefault();var t=s.deltaX||0,a=s.deltaY||0,n=s.deltaZ||0,i=1;switch(s.deltaMode){case 1:i=v;break;case 2:i=window.innerHeight}if(a*=i,n*=i,(t*=i)||a||n)return r(t,a,n,s)};return w.addEventListener("wheel",f),f}},88324:function(B,L,e){var k;(function(w,r,_){r[w]=r[w]||function(){var v,f,s,t=Object.prototype.toString,a=typeof setImmediate<"u"?function(y){return setImmediate(y)}:setTimeout;try{Object.defineProperty({},"x",{}),v=function(y,x,T,p){return Object.defineProperty(y,x,{value:T,writable:!0,configurable:p!==!1})}}catch{v=function(x,T,p){return x[T]=p,x}}function n(y,x){s.add(y,x),f||(f=a(s.drain))}function i(y){var x,T=typeof y;return y==null||T!="object"&&T!="function"||(x=y.then),typeof x=="function"&&x}function l(){for(var y=0;y<this.chain.length;y++)o(this,this.state===1?this.chain[y].success:this.chain[y].failure,this.chain[y]);this.chain.length=0}function o(y,x,T){var p,S;try{x===!1?T.reject(y.msg):(p=x===!0?y.msg:x.call(void 0,y.msg))===T.promise?T.reject(TypeError("Promise-chain cycle")):(S=i(p))?S.call(p,T.resolve,T.reject):T.resolve(p)}catch(M){T.reject(M)}}function u(y){var x,T=this;if(!T.triggered){T.triggered=!0,T.def&&(T=T.def);try{(x=i(y))?n(function(){var p=new b(T);try{x.call(y,function(){u.apply(p,arguments)},function(){h.apply(p,arguments)})}catch(S){h.call(p,S)}}):(T.msg=y,T.state=1,T.chain.length>0&&n(l,T))}catch(p){h.call(new b(T),p)}}}function h(y){var x=this;x.triggered||(x.triggered=!0,x.def&&(x=x.def),x.msg=y,x.state=2,x.chain.length>0&&n(l,x))}function c(y,x,T,p){for(var S=0;S<x.length;S++)(function(M){y.resolve(x[M]).then(function(E){T(M,E)},p)})(S)}function b(y){this.def=y,this.triggered=!1}function d(y){this.promise=y,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function g(y){if(typeof y!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var x=new d(this);this.then=function(T,p){var S={success:typeof T!="function"||T,failure:typeof p=="function"&&p};return S.promise=new this.constructor(function(M,E){if(typeof M!="function"||typeof E!="function")throw TypeError("Not a function");S.resolve=M,S.reject=E}),x.chain.push(S),x.state!==0&&n(l,x),S.promise},this.catch=function(T){return this.then(void 0,T)};try{y.call(void 0,function(T){u.call(x,T)},function(T){h.call(x,T)})}catch(T){h.call(x,T)}}s=function(){var y,x,T;function p(S,M){this.fn=S,this.self=M,this.next=void 0}return{add:function(S,M){T=new p(S,M),x?x.next=T:y=T,x=T,T=void 0},drain:function(){var S=y;for(y=x=f=void 0;S;)S.fn.call(S.self),S=S.next}}}();var m=v({},"constructor",g,!1);return g.prototype=m,v(m,"__NPO__",0,!1),v(g,"resolve",function(y){return y&&typeof y=="object"&&y.__NPO__===1?y:new this(function(x,T){if(typeof x!="function"||typeof T!="function")throw TypeError("Not a function");x(y)})}),v(g,"reject",function(y){return new this(function(x,T){if(typeof x!="function"||typeof T!="function")throw TypeError("Not a function");T(y)})}),v(g,"all",function(y){var x=this;return t.call(y)!="[object Array]"?x.reject(TypeError("Not an array")):y.length===0?x.resolve([]):new x(function(T,p){if(typeof T!="function"||typeof p!="function")throw TypeError("Not a function");var S=y.length,M=Array(S),E=0;c(x,y,function(P,O){M[P]=O,++E===S&&T(M)},p)})}),v(g,"race",function(y){var x=this;return t.call(y)!="[object Array]"?x.reject(TypeError("Not an array")):new x(function(T,p){if(typeof T!="function"||typeof p!="function")throw TypeError("Not a function");c(x,y,function(S,M){T(M)},p)})}),g}(),B.exports?B.exports=r[w]:(k=(function(){return r[w]}).call(L,e,L,B))===void 0||(B.exports=k)})("Promise",e.g!==void 0?e.g:this)},48816:function(B){var L=Math.PI,e=v(120);function k(f,s,t,a){return["C",f,s,t,a,t,a]}function w(f,s,t,a,n,i){return["C",f/3+.6666666666666666*t,s/3+.6666666666666666*a,n/3+.6666666666666666*t,i/3+.6666666666666666*a,n,i]}function r(f,s,t,a,n,i,l,o,u,h){if(h)S=h[0],M=h[1],T=h[2],p=h[3];else{var c=_(f,s,-n);f=c.x,s=c.y;var b=(f-(o=(c=_(o,u,-n)).x))/2,d=(s-(u=c.y))/2,g=b*b/(t*t)+d*d/(a*a);g>1&&(t*=g=Math.sqrt(g),a*=g);var m=t*t,y=a*a,x=(i==l?-1:1)*Math.sqrt(Math.abs((m*y-m*d*d-y*b*b)/(m*d*d+y*b*b)));x==1/0&&(x=1);var T=x*t*d/a+(f+o)/2,p=x*-a*b/t+(s+u)/2,S=Math.asin(((s-p)/a).toFixed(9)),M=Math.asin(((u-p)/a).toFixed(9));(S=f<T?L-S:S)<0&&(S=2*L+S),(M=o<T?L-M:M)<0&&(M=2*L+M),l&&S>M&&(S-=2*L),!l&&M>S&&(M-=2*L)}if(Math.abs(M-S)>e){var E=M,P=o,O=u;M=S+e*(l&&M>S?1:-1);var I=r(o=T+t*Math.cos(M),u=p+a*Math.sin(M),t,a,n,0,l,P,O,[M,E,T,p])}var R=Math.tan((M-S)/4),U=4/3*t*R,z=4/3*a*R,j=[2*f-(f+U*Math.sin(S)),2*s-(s-z*Math.cos(S)),o+U*Math.sin(M),u-z*Math.cos(M),o,u];if(h)return j;I&&(j=j.concat(I));for(var W=0;W<j.length;){var F=_(j[W],j[W+1],n);j[W++]=F.x,j[W++]=F.y}return j}function _(f,s,t){return{x:f*Math.cos(t)-s*Math.sin(t),y:f*Math.sin(t)+s*Math.cos(t)}}function v(f){return f*(L/180)}B.exports=function(f){for(var s,t=[],a=0,n=0,i=0,l=0,o=null,u=null,h=0,c=0,b=0,d=f.length;b<d;b++){var g=f[b],m=g[0];switch(m){case"M":i=g[1],l=g[2];break;case"A":(g=r(h,c,g[1],g[2],v(g[3]),g[4],g[5],g[6],g[7])).unshift("C"),g.length>7&&(t.push(g.splice(0,7)),g.unshift("C"));break;case"S":var y=h,x=c;s!="C"&&s!="S"||(y+=y-a,x+=x-n),g=["C",y,x,g[1],g[2],g[3],g[4]];break;case"T":s=="Q"||s=="T"?(o=2*h-o,u=2*c-u):(o=h,u=c),g=w(h,c,o,u,g[1],g[2]);break;case"Q":o=g[1],u=g[2],g=w(h,c,g[1],g[2],g[3],g[4]);break;case"L":g=k(h,c,g[1],g[2]);break;case"H":g=k(h,c,g[1],c);break;case"V":g=k(h,c,h,g[1]);break;case"Z":g=k(h,c,i,l)}s=m,h=g[g.length-2],c=g[g.length-1],g.length>4?(a=g[g.length-4],n=g[g.length-3]):(a=h,n=c),t.push(g)}return t}},50896:function(B){var L=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;B.exports=function(){try{if(!Object.assign)return!1;var w=new String("abc");if(w[5]="de",Object.getOwnPropertyNames(w)[0]==="5")return!1;for(var r={},_=0;_<10;_++)r["_"+String.fromCharCode(_)]=_;if(Object.getOwnPropertyNames(r).map(function(f){return r[f]}).join("")!=="0123456789")return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(f){v[f]=f}),Object.keys(Object.assign({},v)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(w,r){for(var _,v,f=function(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}(w),s=1;s<arguments.length;s++){for(var t in _=Object(arguments[s]))e.call(_,t)&&(f[t]=_[t]);if(L){v=L(_);for(var a=0;a<v.length;a++)k.call(_,v[a])&&(f[v[a]]=_[v[a]])}}return f}},76835:function(B){var L=function(e){return e!=e};B.exports=function(e,k){return e===0&&k===0?1/e==1/k:e===k||!(!L(e)||!L(k))}},39896:function(B,L,e){var k=e(81288),w=e(57916),r=e(76835),_=e(66148),v=e(16408),f=w(_(),Object);k(f,{getPolyfill:_,implementation:r,shim:v}),B.exports=f},66148:function(B,L,e){var k=e(76835);B.exports=function(){return typeof Object.is=="function"?Object.is:k}},16408:function(B,L,e){var k=e(66148),w=e(81288);B.exports=function(){var r=k();return w(Object,{is:r},{is:function(){return Object.is!==r}}),r}},32764:function(B,L,e){var k;if(!Object.keys){var w=Object.prototype.hasOwnProperty,r=Object.prototype.toString,_=e(97344),v=Object.prototype.propertyIsEnumerable,f=!v.call({toString:null},"toString"),s=v.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=function(l){var o=l.constructor;return o&&o.prototype===l},n={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},i=function(){if(typeof window>"u")return!1;for(var l in window)try{if(!n["$"+l]&&w.call(window,l)&&window[l]!==null&&typeof window[l]=="object")try{a(window[l])}catch{return!0}}catch{return!0}return!1}();k=function(l){var o=l!==null&&typeof l=="object",u=r.call(l)==="[object Function]",h=_(l),c=o&&r.call(l)==="[object String]",b=[];if(!o&&!u&&!h)throw new TypeError("Object.keys called on a non-object");var d=s&&u;if(c&&l.length>0&&!w.call(l,0))for(var g=0;g<l.length;++g)b.push(String(g));if(h&&l.length>0)for(var m=0;m<l.length;++m)b.push(String(m));else for(var y in l)d&&y==="prototype"||!w.call(l,y)||b.push(String(y));if(f)for(var x=function(p){if(typeof window>"u"||!i)return a(p);try{return a(p)}catch{return!1}}(l),T=0;T<t.length;++T)x&&t[T]==="constructor"||!w.call(l,t[T])||b.push(t[T]);return b}}B.exports=k},41820:function(B,L,e){var k=Array.prototype.slice,w=e(97344),r=Object.keys,_=r?function(f){return r(f)}:e(32764),v=Object.keys;_.shim=function(){if(Object.keys){var f=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);f||(Object.keys=function(s){return w(s)?v(k.call(s)):v(s)})}else Object.keys=_;return Object.keys||_},B.exports=_},97344:function(B){var L=Object.prototype.toString;B.exports=function(e){var k=L.call(e),w=k==="[object Arguments]";return w||(w=k!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&L.call(e.callee)==="[object Function]"),w}},32868:function(B){function L(w,r){if(typeof w!="string")return[w];var _=[w];typeof r=="string"||Array.isArray(r)?r={brackets:r}:r||(r={});var v=r.brackets?Array.isArray(r.brackets)?r.brackets:[r.brackets]:["{}","[]","()"],f=r.escape||"___",s=!!r.flat;v.forEach(function(a){var n=new RegExp(["\\",a[0],"[^\\",a[0],"\\",a[1],"]*\\",a[1]].join("")),i=[];function l(o,u,h){var c=_.push(o.slice(a[0].length,-a[1].length))-1;return i.push(c),f+c+f}_.forEach(function(o,u){for(var h,c=0;o!=h;)if(h=o,o=o.replace(n,l),c++>1e4)throw Error("References have circular dependency. Please, check them.");_[u]=o}),i=i.reverse(),_=_.map(function(o){return i.forEach(function(u){o=o.replace(new RegExp("(\\"+f+u+"\\"+f+")","g"),a[0]+"$1"+a[1])}),o})});var t=new RegExp("\\"+f+"([0-9]+)\\"+f);return s?_:function a(n,i,l){for(var o,u=[],h=0;o=t.exec(n);){if(h++>1e4)throw Error("Circular references in parenthesis");u.push(n.slice(0,o.index)),u.push(a(i[o[1]],i)),n=n.slice(o.index+o[0].length)}return u.push(n),u}(_[0],_)}function e(w,r){if(r&&r.flat){var _,v=r&&r.escape||"___",f=w[0];if(!f)return"";for(var s=new RegExp("\\"+v+"([0-9]+)\\"+v),t=0;f!=_;){if(t++>1e4)throw Error("Circular references in "+w);_=f,f=f.replace(s,a)}return f}return w.reduce(function n(i,l){return Array.isArray(l)&&(l=l.reduce(n,"")),i+l},"");function a(n,i){if(w[i]==null)throw Error("Reference "+i+"is undefined");return w[i]}}function k(w,r){return Array.isArray(w)?e(w,r):L(w,r)}k.parse=L,k.stringify=e,B.exports=k},51160:function(B,L,e){var k=e(55616);B.exports=function(w){var r;return arguments.length>1&&(w=arguments),typeof w=="string"?w=w.split(/\s/).map(parseFloat):typeof w=="number"&&(w=[w]),w.length&&typeof w[0]=="number"?r=w.length===1?{width:w[0],height:w[0],x:0,y:0}:w.length===2?{width:w[0],height:w[1],x:0,y:0}:{x:w[0],y:w[1],width:w[2]-w[0]||0,height:w[3]-w[1]||0}:w&&(r={x:(w=k(w,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:w.top||0},w.width==null?w.right?r.width=w.right-r.x:r.width=0:r.width=w.width,w.height==null?w.bottom?r.height=w.bottom-r.y:r.height=0:r.height=w.height),r}},21984:function(B){B.exports=function(w){var r=[];return w.replace(e,function(_,v,f){var s=v.toLowerCase();for(f=function(t){var a=t.match(k);return a?a.map(Number):[]}(f),s=="m"&&f.length>2&&(r.push([v].concat(f.splice(0,2))),s="l",v=v=="m"?"l":"L");;){if(f.length==L[s])return f.unshift(v),r.push(f);if(f.length<L[s])throw new Error("malformed path data");r.push([v].concat(f.splice(0,L[s])))}}),r};var L={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/gi,k=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},65819:function(B){B.exports=function(L,e){e||(e=[0,""]),L=String(L);var k=parseFloat(L,10);return e[0]=k,e[1]=L.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},41984:function(B,L,e){var k=e(4168);(function(){var w,r,_,v,f,s;typeof performance<"u"&&performance!==null&&performance.now?B.exports=function(){return performance.now()}:k!=null&&k.hrtime?(B.exports=function(){return(w()-f)/1e6},r=k.hrtime,v=(w=function(){var t;return 1e9*(t=r())[0]+t[1]})(),s=1e9*k.uptime(),f=v-s):Date.now?(B.exports=function(){return Date.now()-_},_=Date.now()):(B.exports=function(){return new Date().getTime()-_},_=new Date().getTime())}).call(this)},55616:function(B){B.exports=function(k,w,r){var _,v,f={};if(typeof w=="string"&&(w=e(w)),Array.isArray(w)){var s={};for(v=0;v<w.length;v++)s[w[v]]=!0;w=s}for(_ in w)w[_]=e(w[_]);var t={};for(_ in w){var a=w[_];if(Array.isArray(a))for(v=0;v<a.length;v++){var n=a[v];if(r&&(t[n]=!0),n in k){if(f[_]=k[n],r)for(var i=v;i<a.length;i++)t[a[i]]=!0;break}}else _ in k&&(w[_]&&(f[_]=k[_]),r&&(t[_]=!0))}if(r)for(_ in k)t[_]||(f[_]=k[_]);return f};var L={};function e(k){return L[k]?L[k]:(typeof k=="string"&&(k=L[k]=k.split(/\s*,\s*|\s+/)),k)}},61456:function(B){B.exports=function(L,e,k,w){var r=L[0],_=L[1],v=!1;k===void 0&&(k=0),w===void 0&&(w=e.length);for(var f=w-k,s=0,t=f-1;s<f;t=s++){var a=e[s+k][0],n=e[s+k][1],i=e[t+k][0],l=e[t+k][1];n>_!=l>_&&r<(i-a)*(_-n)/(l-n)+a&&(v=!v)}return v}},14756:function(B,L,e){var k,w=e(7688),r=e(28648),_=e(72200),v=e(11403),f=e(82368),s=e(17792),t=!1,a=r();function n(i,l,o){var u=k.segments(i),h=k.segments(l),c=o(k.combine(u,h));return k.polygon(c)}k={buildLog:function(i){return i===!0?t=w():i===!1&&(t=!1),t!==!1&&t.list},epsilon:function(i){return a.epsilon(i)},segments:function(i){var l=_(!0,a,t);return i.regions.forEach(l.addRegion),{segments:l.calculate(i.inverted),inverted:i.inverted}},combine:function(i,l){return{combined:_(!1,a,t).calculate(i.segments,i.inverted,l.segments,l.inverted),inverted1:i.inverted,inverted2:l.inverted}},selectUnion:function(i){return{segments:f.union(i.combined,t),inverted:i.inverted1||i.inverted2}},selectIntersect:function(i){return{segments:f.intersect(i.combined,t),inverted:i.inverted1&&i.inverted2}},selectDifference:function(i){return{segments:f.difference(i.combined,t),inverted:i.inverted1&&!i.inverted2}},selectDifferenceRev:function(i){return{segments:f.differenceRev(i.combined,t),inverted:!i.inverted1&&i.inverted2}},selectXor:function(i){return{segments:f.xor(i.combined,t),inverted:i.inverted1!==i.inverted2}},polygon:function(i){return{regions:v(i.segments,a,t),inverted:i.inverted}},polygonFromGeoJSON:function(i){return s.toPolygon(k,i)},polygonToGeoJSON:function(i){return s.fromPolygon(k,a,i)},union:function(i,l){return n(i,l,k.selectUnion)},intersect:function(i,l){return n(i,l,k.selectIntersect)},difference:function(i,l){return n(i,l,k.selectDifference)},differenceRev:function(i,l){return n(i,l,k.selectDifferenceRev)},xor:function(i,l){return n(i,l,k.selectXor)}},typeof window=="object"&&(window.PolyBool=k),B.exports=k},7688:function(B){B.exports=function(){var L,e=0,k=!1;function w(r,_){return L.list.push({type:r,data:_?JSON.parse(JSON.stringify(_)):void 0}),L}return L={list:[],segmentId:function(){return e++},checkIntersection:function(r,_){return w("check",{seg1:r,seg2:_})},segmentChop:function(r,_){return w("div_seg",{seg:r,pt:_}),w("chop",{seg:r,pt:_})},statusRemove:function(r){return w("pop_seg",{seg:r})},segmentUpdate:function(r){return w("seg_update",{seg:r})},segmentNew:function(r,_){return w("new_seg",{seg:r,primary:_})},segmentRemove:function(r){return w("rem_seg",{seg:r})},tempStatus:function(r,_,v){return w("temp_status",{seg:r,above:_,below:v})},rewind:function(r){return w("rewind",{seg:r})},status:function(r,_,v){return w("status",{seg:r,above:_,below:v})},vert:function(r){return r===k?L:(k=r,w("vert",{x:r}))},log:function(r){return typeof r!="string"&&(r=JSON.stringify(r,!1,"  ")),w("log",{txt:r})},reset:function(){return w("reset")},selected:function(r){return w("selected",{segs:r})},chainStart:function(r){return w("chain_start",{seg:r})},chainRemoveHead:function(r,_){return w("chain_rem_head",{index:r,pt:_})},chainRemoveTail:function(r,_){return w("chain_rem_tail",{index:r,pt:_})},chainNew:function(r,_){return w("chain_new",{pt1:r,pt2:_})},chainMatch:function(r){return w("chain_match",{index:r})},chainClose:function(r){return w("chain_close",{index:r})},chainAddHead:function(r,_){return w("chain_add_head",{index:r,pt:_})},chainAddTail:function(r,_){return w("chain_add_tail",{index:r,pt:_})},chainConnect:function(r,_){return w("chain_con",{index1:r,index2:_})},chainReverse:function(r){return w("chain_rev",{index:r})},chainJoin:function(r,_){return w("chain_join",{index1:r,index2:_})},done:function(){return w("done")}}}},28648:function(B){B.exports=function(L){typeof L!="number"&&(L=1e-10);var e={epsilon:function(k){return typeof k=="number"&&(L=k),L},pointAboveOrOnLine:function(k,w,r){var _=w[0],v=w[1],f=r[0],s=r[1],t=k[0];return(f-_)*(k[1]-v)-(s-v)*(t-_)>=-L},pointBetween:function(k,w,r){var _=k[1]-w[1],v=r[0]-w[0],f=k[0]-w[0],s=r[1]-w[1],t=f*v+_*s;return!(t<L||t-(v*v+s*s)>-L)},pointsSameX:function(k,w){return Math.abs(k[0]-w[0])<L},pointsSameY:function(k,w){return Math.abs(k[1]-w[1])<L},pointsSame:function(k,w){return e.pointsSameX(k,w)&&e.pointsSameY(k,w)},pointsCompare:function(k,w){return e.pointsSameX(k,w)?e.pointsSameY(k,w)?0:k[1]<w[1]?-1:1:k[0]<w[0]?-1:1},pointsCollinear:function(k,w,r){var _=k[0]-w[0],v=k[1]-w[1],f=w[0]-r[0],s=w[1]-r[1];return Math.abs(_*s-f*v)<L},linesIntersect:function(k,w,r,_){var v=w[0]-k[0],f=w[1]-k[1],s=_[0]-r[0],t=_[1]-r[1],a=v*t-f*s;if(Math.abs(a)<L)return!1;var n=k[0]-r[0],i=k[1]-r[1],l=(s*i-t*n)/a,o=(v*i-f*n)/a,u={alongA:0,alongB:0,pt:[k[0]+l*v,k[1]+l*f]};return u.alongA=l<=-L?-2:l<L?-1:l-1<=-L?0:l-1<L?1:2,u.alongB=o<=-L?-2:o<L?-1:o-1<=-L?0:o-1<L?1:2,u},pointInsideRegion:function(k,w){for(var r=k[0],_=k[1],v=w[w.length-1][0],f=w[w.length-1][1],s=!1,t=0;t<w.length;t++){var a=w[t][0],n=w[t][1];n-_>L!=f-_>L&&(v-a)*(_-n)/(f-n)+a-r>L&&(s=!s),v=a,f=n}return s}};return e}},17792:function(B){var L={toPolygon:function(e,k){function w(v){if(v.length<=0)return e.segments({inverted:!1,regions:[]});function f(a){var n=a.slice(0,a.length-1);return e.segments({inverted:!1,regions:[n]})}for(var s=f(v[0]),t=1;t<v.length;t++)s=e.selectDifference(e.combine(s,f(v[t])));return s}if(k.type==="Polygon")return e.polygon(w(k.coordinates));if(k.type==="MultiPolygon"){for(var r=e.segments({inverted:!1,regions:[]}),_=0;_<k.coordinates.length;_++)r=e.selectUnion(e.combine(r,w(k.coordinates[_])));return e.polygon(r)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,k,w){function r(o,u){return k.pointInsideRegion([.5*(o[0][0]+o[1][0]),.5*(o[0][1]+o[1][1])],u)}function _(o){return{region:o,children:[]}}w=e.polygon(e.segments(w));var v=_(null);function f(o,u){for(var h=0;h<o.children.length;h++)if(r(u,(b=o.children[h]).region))return void f(b,u);var c=_(u);for(h=0;h<o.children.length;h++){var b;r((b=o.children[h]).region,u)&&(c.children.push(b),o.children.splice(h,1),h--)}o.children.push(c)}for(var s=0;s<w.regions.length;s++){var t=w.regions[s];t.length<3||f(v,t)}function a(o,u){for(var h=0,c=o[o.length-1][0],b=o[o.length-1][1],d=[],g=0;g<o.length;g++){var m=o[g][0],y=o[g][1];d.push([m,y]),h+=y*c-m*b,c=m,b=y}return h<0!==u&&d.reverse(),d.push([d[0][0],d[0][1]]),d}var n=[];function i(o){var u=[a(o.region,!1)];n.push(u);for(var h=0;h<o.children.length;h++)u.push(l(o.children[h]))}function l(o){for(var u=0;u<o.children.length;u++)i(o.children[u]);return a(o.region,!0)}for(s=0;s<v.children.length;s++)i(v.children[s]);return n.length<=0?{type:"Polygon",coordinates:[]}:n.length==1?{type:"Polygon",coordinates:n[0]}:{type:"MultiPolygon",coordinates:n}}};B.exports=L},72200:function(B,L,e){var k=e(48088);B.exports=function(w,r,_){function v(i,l,o){return{id:_?_.segmentId():-1,start:i,end:l,myFill:{above:o.myFill.above,below:o.myFill.below},otherFill:null}}var f=k.create();function s(i,l){f.insertBefore(i,function(o){return u=i.isStart,h=i.pt,c=l,b=o.isStart,d=o.pt,g=o.other.pt,((m=r.pointsCompare(h,d))!==0?m:r.pointsSame(c,g)?0:u!==b?u?1:-1:r.pointAboveOrOnLine(c,b?d:g,b?g:d)?1:-1)<0;var u,h,c,b,d,g,m})}function t(i,l){var o=function(u,h){var c=k.node({isStart:!0,pt:u.start,seg:u,primary:h,other:null,status:null});return s(c,u.end),c}(i,l);return function(u,h,c){var b=k.node({isStart:!1,pt:h.end,seg:h,primary:c,other:u,status:null});u.other=b,s(b,u.pt)}(o,i,l),o}function a(i,l){var o=v(l,i.seg.end,i.seg);return function(u,h){_&&_.segmentChop(u.seg,h),u.other.remove(),u.seg.end=h,u.other.pt=h,s(u.other,u.pt)}(i,l),t(o,i.primary)}function n(i,l){var o=k.create();function u(E){return o.findTransition(function(P){var O,I,R,U,z,j;return O=E,I=P.ev,R=O.seg.start,U=O.seg.end,z=I.seg.start,j=I.seg.end,(r.pointsCollinear(R,z,j)?r.pointsCollinear(U,z,j)||r.pointAboveOrOnLine(U,z,j)?1:-1:r.pointAboveOrOnLine(R,z,j)?1:-1)>0})}function h(E,P){var O=E.seg,I=P.seg,R=O.start,U=O.end,z=I.start,j=I.end;_&&_.checkIntersection(O,I);var W=r.linesIntersect(R,U,z,j);if(W===!1){if(!r.pointsCollinear(R,U,z)||r.pointsSame(R,j)||r.pointsSame(U,z))return!1;var F=r.pointsSame(R,z),V=r.pointsSame(U,j);if(F&&V)return P;var H=!F&&r.pointBetween(R,z,j),te=!V&&r.pointBetween(U,z,j);if(F)return te?a(P,U):a(E,j),P;H&&(V||(te?a(P,U):a(E,j)),a(P,R))}else W.alongA===0&&(W.alongB===-1?a(E,z):W.alongB===0?a(E,W.pt):W.alongB===1&&a(E,j)),W.alongB===0&&(W.alongA===-1?a(P,R):W.alongA===0?a(P,W.pt):W.alongA===1&&a(P,U));return!1}for(var c=[];!f.isEmpty();){var b=f.getHead();if(_&&_.vert(b.pt[0]),b.isStart){let E=function(){if(g){var P=h(b,g);if(P)return P}return!!m&&h(b,m)};var M=E;_&&_.segmentNew(b.seg,b.primary);var d=u(b),g=d.before?d.before.ev:null,m=d.after?d.after.ev:null;_&&_.tempStatus(b.seg,!!g&&g.seg,!!m&&m.seg);var y,x,T=E();if(T&&(w?(x=b.seg.myFill.below===null||b.seg.myFill.above!==b.seg.myFill.below)&&(T.seg.myFill.above=!T.seg.myFill.above):T.seg.otherFill=b.seg.myFill,_&&_.segmentUpdate(T.seg),b.other.remove(),b.remove()),f.getHead()!==b){_&&_.rewind(b.seg);continue}w?(x=b.seg.myFill.below===null||b.seg.myFill.above!==b.seg.myFill.below,b.seg.myFill.below=m?m.seg.myFill.above:i,b.seg.myFill.above=x?!b.seg.myFill.below:b.seg.myFill.below):b.seg.otherFill===null&&(y=m?b.primary===m.primary?m.seg.otherFill.above:m.seg.myFill.above:b.primary?l:i,b.seg.otherFill={above:y,below:y}),_&&_.status(b.seg,!!g&&g.seg,!!m&&m.seg),b.other.status=d.insert(k.node({ev:b}))}else{var p=b.status;if(p===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(o.exists(p.prev)&&o.exists(p.next)&&h(p.prev.ev,p.next.ev),_&&_.statusRemove(p.ev.seg),p.remove(),!b.primary){var S=b.seg.myFill;b.seg.myFill=b.seg.otherFill,b.seg.otherFill=S}c.push(b.seg)}f.getHead().remove()}return _&&_.done(),c}return w?{addRegion:function(i){for(var l,o,u,h=i[i.length-1],c=0;c<i.length;c++){l=h,h=i[c];var b=r.pointsCompare(l,h);b!==0&&t((o=b<0?l:h,u=b<0?h:l,{id:_?_.segmentId():-1,start:o,end:u,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(i){return n(i,!1)}}:{calculate:function(i,l,o,u){return i.forEach(function(h){t(v(h.start,h.end,h),!0)}),o.forEach(function(h){t(v(h.start,h.end,h),!1)}),n(l,u)}}}},48088:function(B){B.exports={create:function(){var L={root:{root:!0,next:null},exists:function(e){return e!==null&&e!==L.root},isEmpty:function(){return L.root.next===null},getHead:function(){return L.root.next},insertBefore:function(e,k){for(var w=L.root,r=L.root.next;r!==null;){if(k(r))return e.prev=r.prev,e.next=r,r.prev.next=e,void(r.prev=e);w=r,r=r.next}w.next=e,e.prev=w,e.next=null},findTransition:function(e){for(var k=L.root,w=L.root.next;w!==null&&!e(w);)k=w,w=w.next;return{before:k===L.root?null:k,after:w,insert:function(r){return r.prev=k,r.next=w,k.next=r,w!==null&&(w.prev=r),r}}}};return L},node:function(L){return L.prev=null,L.next=null,L.remove=function(){L.prev.next=L.next,L.next&&(L.next.prev=L.prev),L.prev=null,L.next=null},L}}},11403:function(B){B.exports=function(L,e,k){var w=[],r=[];return L.forEach(function(_){var v=_.start,f=_.end;if(e.pointsSame(v,f))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{k&&k.chainStart(_);for(var s={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},a=s,n=0;n<w.length;n++){var i=(c=w[n])[0],l=(c[1],c[c.length-1]);if(c[c.length-2],e.pointsSame(i,v)){if(p(n,!0,!0))break}else if(e.pointsSame(i,f)){if(p(n,!0,!1))break}else if(e.pointsSame(l,v)){if(p(n,!1,!0))break}else if(e.pointsSame(l,f)&&p(n,!1,!1))break}if(a===s)return w.push([v,f]),void(k&&k.chainNew(v,f));if(a===t){k&&k.chainMatch(s.index);var o=s.index,u=s.matches_pt1?f:v,h=s.matches_head,c=w[o],b=h?c[0]:c[c.length-1],d=h?c[1]:c[c.length-2],g=h?c[c.length-1]:c[0],m=h?c[c.length-2]:c[1];return e.pointsCollinear(d,b,u)&&(h?(k&&k.chainRemoveHead(s.index,u),c.shift()):(k&&k.chainRemoveTail(s.index,u),c.pop()),b=d),e.pointsSame(g,u)?(w.splice(o,1),e.pointsCollinear(m,g,b)&&(h?(k&&k.chainRemoveTail(s.index,b),c.pop()):(k&&k.chainRemoveHead(s.index,b),c.shift())),k&&k.chainClose(s.index),void r.push(c)):void(h?(k&&k.chainAddHead(s.index,u),c.unshift(u)):(k&&k.chainAddTail(s.index,u),c.push(u)))}var y=s.index,x=t.index;k&&k.chainConnect(y,x);var T=w[y].length<w[x].length;s.matches_head?t.matches_head?T?(S(y),M(y,x)):(S(x),M(x,y)):M(x,y):t.matches_head?M(y,x):T?(S(y),M(x,y)):(S(x),M(y,x))}function p(E,P,O){return a.index=E,a.matches_head=P,a.matches_pt1=O,a===s?(a=t,!1):(a=null,!0)}function S(E){k&&k.chainReverse(E),w[E].reverse()}function M(E,P){var O=w[E],I=w[P],R=O[O.length-1],U=O[O.length-2],z=I[0],j=I[1];e.pointsCollinear(U,R,z)&&(k&&k.chainRemoveTail(E,R),O.pop(),R=U),e.pointsCollinear(R,z,j)&&(k&&k.chainRemoveHead(P,z),I.shift()),k&&k.chainJoin(E,P),w[E]=O.concat(I),w.splice(P,1)}}),r}},82368:function(B){function L(k,w,r){var _=[];return k.forEach(function(v){var f=(v.myFill.above?8:0)+(v.myFill.below?4:0)+(v.otherFill&&v.otherFill.above?2:0)+(v.otherFill&&v.otherFill.below?1:0);w[f]!==0&&_.push({id:r?r.segmentId():-1,start:v.start,end:v.end,myFill:{above:w[f]===1,below:w[f]===2},otherFill:null})}),r&&r.selected(_),_}var e={union:function(k,w){return L(k,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],w)},intersect:function(k,w){return L(k,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],w)},difference:function(k,w){return L(k,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],w)},differenceRev:function(k,w){return L(k,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],w)},xor:function(k,w){return L(k,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],w)}};B.exports=e},9696:function(B,L,e){var k=e(29936).Transform,w=e(55619);function r(){k.call(this,{readableObjectMode:!0})}function _(v,f,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=v,f&&(this.code=f),s&&(this.statusCode=s)}r.prototype=Object.create(k.prototype),r.prototype.constructor=r,w(r.prototype),L.gS=function(v,f,s){for(var t=f,a=0;a<s.length;)if(v[t++]!==s[a++])return!1;return!0},L.wR=function(v,f){var s=[],t=0;if(f&&f==="hex")for(;t<v.length;)s.push(parseInt(v.slice(t,t+2),16)),t+=2;else for(;t<v.length;t++)s.push(255&v.charCodeAt(t));return s},L.Bz=function(v,f){return v[f]|v[f+1]<<8},L.eW=function(v,f){return v[f+1]|v[f]<<8},L.st=function(v,f){return v[f]|v[f+1]<<8|v[f+2]<<16|16777216*v[f+3]},L.eI=function(v,f){return v[f+3]|v[f+2]<<8|v[f+1]<<16|16777216*v[f]},_.prototype=Object.create(Error.prototype),_.prototype.constructor=_},11688:function(B){function L(w,r){var _=new Error(w);return _.code=r,_}function e(w){try{return decodeURIComponent(escape(w))}catch{return w}}function k(w,r,_){this.input=w.subarray(r,_),this.start=r;var v=String.fromCharCode.apply(null,this.input.subarray(0,4));if(v!=="II*\0"&&v!=="MM\0*")throw L("invalid TIFF signature","EBADDATA");this.big_endian=v[0]==="M"}k.prototype.each=function(w){this.aborted=!1;var r=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:r}];this.ifds_to_read.length>0&&!this.aborted;){var _=this.ifds_to_read.shift();_.offset&&this.scan_ifd(_.id,_.offset,w)}},k.prototype.read_uint16=function(w){var r=this.input;if(w+2>r.length)throw L("unexpected EOF","EBADDATA");return this.big_endian?256*r[w]+r[w+1]:r[w]+256*r[w+1]},k.prototype.read_uint32=function(w){var r=this.input;if(w+4>r.length)throw L("unexpected EOF","EBADDATA");return this.big_endian?16777216*r[w]+65536*r[w+1]+256*r[w+2]+r[w+3]:r[w]+256*r[w+1]+65536*r[w+2]+16777216*r[w+3]},k.prototype.is_subifd_link=function(w,r){return w===0&&r===34665||w===0&&r===34853||w===34665&&r===40965},k.prototype.exif_format_length=function(w){switch(w){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},k.prototype.exif_format_read=function(w,r){var _;switch(w){case 1:case 2:return this.input[r];case 6:return(_=this.input[r])|33554430*(128&_);case 3:return this.read_uint16(r);case 8:return(_=this.read_uint16(r))|131070*(32768&_);case 4:return this.read_uint32(r);case 9:return 0|this.read_uint32(r);default:return null}},k.prototype.scan_ifd=function(w,r,_){var v=this.read_uint16(r);r+=2;for(var f=0;f<v;f++){var s=this.read_uint16(r),t=this.read_uint16(r+2),a=this.read_uint32(r+4),n=this.exif_format_length(t),i=a*n,l=i<=4?r+8:this.read_uint32(r+8),o=!1;if(l+i>this.input.length)throw L("unexpected EOF","EBADDATA");for(var u=[],h=l,c=0;c<a;c++,h+=n){var b=this.exif_format_read(t,h);if(b===null){u=null;break}u.push(b)}if(Array.isArray(u)&&t===2&&(u=e(String.fromCharCode.apply(null,u)))&&u[u.length-1]==="\0"&&(u=u.slice(0,-1)),this.is_subifd_link(w,s)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:s,offset:u[0]}),o=!0),_({is_big_endian:this.big_endian,ifd:w,tag:s,format:t,count:a,entry_offset:r+this.start,data_length:i,data_offset:l+this.start,value:u,is_subifd_link:o})===!1)return void(this.aborted=!0);r+=12}w===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(r)})},B.exports.ExifParser=k,B.exports.get_orientation=function(w){var r=0;try{return new k(w,0,w.length).each(function(_){if(_.ifd===0&&_.tag===274&&Array.isArray(_.value))return r=_.value[0],!1}),r}catch{return-1}}},44600:function(B,L,e){var k=e(9696).eW,w=e(9696).eI;function r(a,n){if(a.length<4+n)return null;var i=w(a,n);return a.length<i+n||i<8?null:{boxtype:String.fromCharCode.apply(null,a.slice(n+4,n+8)),data:a.slice(n+8,n+i),end:n+i}}function _(a,n){for(var i=0;;){var l=r(a,i);if(!l)break;switch(l.boxtype){case"ispe":n.sizes.push({width:w(l.data,4),height:w(l.data,8)});break;case"irot":n.transforms.push({type:"irot",value:3&l.data[0]});break;case"imir":n.transforms.push({type:"imir",value:1&l.data[0]})}i=l.end}}function v(a,n,i){for(var l=0,o=0;o<i;o++)l=256*l+(a[n+o]||0);return l}function f(a,n){for(var i=a[4]>>4&15,l=15&a[4],o=a[5]>>4&15,u=k(a,6),h=8,c=0;c<u;c++){var b=k(a,h),d=k(a,h+=2),g=v(a,h+=2,o),m=k(a,h+=o);if(h+=2,d===0&&m===1){var y=v(a,h,i),x=v(a,h+i,l);n.item_loc[b]={length:x,offset:y+g}}h+=m*(i+l)}}function s(a,n){for(var i=k(a,4),l=6,o=0;o<i;o++){var u=r(a,l);if(!u)break;if(u.boxtype==="infe"){for(var h=k(u.data,4),c="",b=8;b<u.data.length&&u.data[b];b++)c+=String.fromCharCode(u.data[b]);n.item_inf[c]=h}l=u.end}}function t(a,n){for(var i=0;;){var l=r(a,i);if(!l)break;l.boxtype==="ipco"&&_(l.data,n),i=l.end}}B.exports.unbox=r,B.exports.readSizeFromMeta=function(a){var n={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function(b,d){for(var g=4;;){var m=r(b,g);if(!m)break;m.boxtype==="iprp"&&t(m.data,d),m.boxtype==="iloc"&&f(m.data,d),m.boxtype==="iinf"&&s(m.data,d),g=m.end}}(a,n),n.sizes.length){var i,l,o,u=(l=(i=n.sizes).reduce(function(b,d){return b.width>d.width||b.width===d.width&&b.height>d.height?b:d}),o=i.reduce(function(b,d){return b.height>d.height||b.height===d.height&&b.width>d.width?b:d}),l.width>o.height||l.width===o.height&&l.height>o.width?l:o),h=1;n.transforms.forEach(function(b){var d={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},g={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(b.type==="imir"&&(h=b.value===0?g[h]:d[h=d[h=g[h]]]),b.type==="irot")for(var m=0;m<b.value;m++)h=d[h]});var c=null;return n.item_inf.Exif&&(c=n.item_loc[n.item_inf.Exif]),{width:u.width,height:u.height,orientation:n.transforms.length?h:null,variants:n.sizes,exif_location:c}}},B.exports.getMimeType=function(a){var n=String.fromCharCode.apply(null,a.slice(0,4)),i={};i[n]=!0;for(var l=8;l<a.length;l+=4)i[String.fromCharCode.apply(null,a.slice(l,l+4))]=!0;if(i.mif1||i.msf1||i.miaf)return n==="avif"||n==="avis"||n==="avio"?{type:"avif",mime:"image/avif"}:n==="heic"||n==="heix"?{type:"heic",mime:"image/heic"}:n==="hevc"||n==="hevx"?{type:"heic",mime:"image/heic-sequence"}:i.avif||i.avis?{type:"avif",mime:"image/avif"}:i.heic||i.heix||i.hevc||i.hevx||i.heis?i.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(B,L,e){var k=e(9696).wR,w=e(9696).gS,r=e(9696).eI,_=e(44600),v=e(11688),f=k("ftyp");B.exports=function(s){if(w(s,4,f)){var t=_.unbox(s,0);if(t){var a=_.getMimeType(t.data);if(a){for(var n,i=t.end;;){var l=_.unbox(s,i);if(!l)break;if(i=l.end,l.boxtype==="mdat")return;if(l.boxtype==="meta"){n=l.data;break}}if(n){var o=_.readSizeFromMeta(n);if(o){var u={width:o.width,height:o.height,type:a.type,mime:a.mime,wUnits:"px",hUnits:"px"};if(o.variants.length>1&&(u.variants=o.variants),o.orientation&&(u.orientation=o.orientation),o.exif_location&&o.exif_location.offset+o.exif_location.length<=s.length){var h=r(s,o.exif_location.offset),c=s.slice(o.exif_location.offset+h+4,o.exif_location.offset+o.exif_location.length),b=v.get_orientation(c);b>0&&(u.orientation=b)}return u}}}}}}},38728:function(B,L,e){var k=e(9696).wR,w=e(9696).gS,r=e(9696).Bz,_=k("BM");B.exports=function(v){if(!(v.length<26)&&w(v,0,_))return{width:r(v,18),height:r(v,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(B,L,e){var k=e(9696).wR,w=e(9696).gS,r=e(9696).Bz,_=k("GIF87a"),v=k("GIF89a");B.exports=function(f){if(!(f.length<10)&&(w(f,0,_)||w(f,0,v)))return{width:r(f,6),height:r(f,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(B,L,e){var k=e(9696).Bz;B.exports=function(w){var r=k(w,0),_=k(w,2),v=k(w,4);if(r===0&&_===1&&v){for(var f=[],s={width:0,height:0},t=0;t<v;t++){var a=w[6+16*t]||256,n=w[6+16*t+1]||256,i={width:a,height:n};f.push(i),(a>s.width||n>s.height)&&(s=i)}return{width:s.width,height:s.height,variants:f,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(B,L,e){var k=e(9696).eW,w=e(9696).wR,r=e(9696).gS,_=e(11688),v=w("Exif\0\0");B.exports=function(f){if(!(f.length<2)&&f[0]===255&&f[1]===216&&f[2]===255)for(var s=2;;){for(;;){if(f.length-s<2)return;if(f[s++]===255)break}for(var t,a,n=f[s++];n===255;)n=f[s++];if(208<=n&&n<=217||n===1)t=0;else{if(!(192<=n&&n<=254)||f.length-s<2)return;t=k(f,s)-2,s+=2}if(n===217||n===218)return;if(n===225&&t>=10&&r(f,s,v)&&(a=_.get_orientation(f.slice(s+6,s+t))),t>=5&&192<=n&&n<=207&&n!==196&&n!==200&&n!==204){if(f.length-s<t)return;var i={width:k(f,s+3),height:k(f,s+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return a>0&&(i.orientation=a),i}s+=t}}},37276:function(B,L,e){var k=e(9696).wR,w=e(9696).gS,r=e(9696).eI,_=k(`PNG\r

`),v=k("IHDR");B.exports=function(f){if(!(f.length<24)&&w(f,0,_)&&w(f,12,v))return{width:r(f,16),height:r(f,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(B,L,e){var k=e(9696).wR,w=e(9696).gS,r=e(9696).eI,_=k("8BPS\0");B.exports=function(v){if(!(v.length<22)&&w(v,0,_))return{width:r(v,18),height:r(v,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(B){function L(s){return typeof s=="number"&&isFinite(s)&&s>0}var e=/<[-_.:a-zA-Z0-9][^>]*>/,k=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,w=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,r=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,_=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,v=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function f(s){return v.test(s)?s.match(v)[0]:"px"}B.exports=function(s){if(function(g){var m,y=0,x=g.length;for(g[0]===239&&g[1]===187&&g[2]===191&&(y=3);y<x&&((m=g[y])===32||m===9||m===13||m===10);)y++;return y!==x&&g[y]===60}(s)){for(var t="",a=0;a<s.length;a++)t+=String.fromCharCode(s[a]);var n=(t.match(e)||[""])[0];if(k.test(n)){var i=function(g){var m=g.match(w),y=g.match(r),x=g.match(_);return{width:m&&(m[1]||m[2]),height:y&&(y[1]||y[2]),viewbox:x&&(x[1]||x[2])}}(n),l=parseFloat(i.width),o=parseFloat(i.height);if(i.width&&i.height)return!L(l)||!L(o)?void 0:{width:l,height:o,type:"svg",mime:"image/svg+xml",wUnits:f(i.width),hUnits:f(i.height)};var u=(i.viewbox||"").split(" "),h={width:u[2],height:u[3]},c=parseFloat(h.width),b=parseFloat(h.height);if(L(c)&&L(b)&&f(h.width)===f(h.height)){var d=c/b;return i.width?L(l)?{width:l,height:l/d,type:"svg",mime:"image/svg+xml",wUnits:f(i.width),hUnits:f(i.width)}:void 0:i.height?L(o)?{width:o*d,height:o,type:"svg",mime:"image/svg+xml",wUnits:f(i.height),hUnits:f(i.height)}:void 0:{width:c,height:b,type:"svg",mime:"image/svg+xml",wUnits:f(h.width),hUnits:f(h.height)}}}}}},98792:function(B,L,e){var k=e(9696).wR,w=e(9696).gS,r=e(9696).Bz,_=e(9696).eW,v=e(9696).st,f=e(9696).eI,s=k("II*\0"),t=k("MM\0*");function a(l,o,u){return u?_(l,o):r(l,o)}function n(l,o,u){return u?f(l,o):v(l,o)}function i(l,o,u){var h=a(l,o+2,u);return n(l,o+4,u)!==1||h!==3&&h!==4?null:h===3?a(l,o+8,u):n(l,o+8,u)}B.exports=function(l){if(!(l.length<8)&&(w(l,0,s)||w(l,0,t))){var o=l[0]===77,u=n(l,4,o)-8;if(!(u<0)){var h=u+8;if(!(l.length-h<2)){var c=12*a(l,h+0,o);if(!(c<=0||(h+=2,l.length-h<c))){var b,d,g,m;for(b=0;b<c;b+=12)(m=a(l,h+b,o))===256?d=i(l,h+b,o):m===257&&(g=i(l,h+b,o));return d&&g?{width:d,height:g,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}:void 0}}}}}},20704:function(B,L,e){var k=e(9696).wR,w=e(9696).gS,r=e(9696).Bz,_=e(9696).st,v=e(11688),f=k("RIFF"),s=k("WEBP");function t(i,l){if(i[l+3]===157&&i[l+4]===1&&i[l+5]===42)return{width:16383&r(i,l+6),height:16383&r(i,l+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function a(i,l){if(i[l]===47){var o=_(i,l+1);return{width:1+(16383&o),height:1+(o>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function n(i,l){return{width:1+(i[l+6]<<16|i[l+5]<<8|i[l+4]),height:1+(i[l+9]<<l|i[l+8]<<8|i[l+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}B.exports=function(i){if(!(i.length<16)&&(w(i,0,f)||w(i,8,s))){var l=12,o=null,u=0,h=_(i,4)+8;if(!(h>i.length)){for(;l+8<h;)if(i[l]!==0){var c=String.fromCharCode.apply(null,i.slice(l,l+4)),b=_(i,l+4);c==="VP8 "&&b>=10?o=o||t(i,l+8):c==="VP8L"&&b>=9?o=o||a(i,l+8):c==="VP8X"&&b>=10?o=o||n(i,l+8):c==="EXIF"&&(u=v.get_orientation(i.slice(l+8,l+8+b)),l=1/0),l+=8+b}else l++;if(o)return u>0&&(o.orientation=u),o}}}},87480:function(B,L,e){B.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(B,L,e){var k=e(87480);B.exports=function(w){return function(r){for(var _=Object.keys(k),v=0;v<_.length;v++){var f=k[_[v]](r);if(f)return f}return null}(w)},B.exports.parsers=k},4168:function(B){var L,e,k=B.exports={};function w(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function _(o){if(L===setTimeout)return setTimeout(o,0);if((L===w||!L)&&setTimeout)return L=setTimeout,setTimeout(o,0);try{return L(o,0)}catch{try{return L.call(null,o,0)}catch{return L.call(this,o,0)}}}(function(){try{L=typeof setTimeout=="function"?setTimeout:w}catch{L=w}try{e=typeof clearTimeout=="function"?clearTimeout:r}catch{e=r}})();var v,f=[],s=!1,t=-1;function a(){s&&v&&(s=!1,v.length?f=v.concat(f):t=-1,f.length&&n())}function n(){if(!s){var o=_(a);s=!0;for(var u=f.length;u;){for(v=f,f=[];++t<u;)v&&v[t].run();t=-1,u=f.length}v=null,s=!1,function(h){if(e===clearTimeout)return clearTimeout(h);if((e===r||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(h);try{return e(h)}catch{try{return e.call(null,h)}catch{return e.call(this,h)}}}(o)}}function i(o,u){this.fun=o,this.array=u}function l(){}k.nextTick=function(o){var u=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)u[h-1]=arguments[h];f.push(new i(o,u)),f.length!==1||s||_(n)},i.prototype.run=function(){this.fun.apply(null,this.array)},k.title="browser",k.browser=!0,k.env={},k.argv=[],k.version="",k.versions={},k.on=l,k.addListener=l,k.once=l,k.off=l,k.removeListener=l,k.removeAllListeners=l,k.emit=l,k.prependListener=l,k.prependOnceListener=l,k.listeners=function(o){return[]},k.binding=function(o){throw new Error("process.binding is not supported")},k.cwd=function(){return"/"},k.chdir=function(o){throw new Error("process.chdir is not supported")},k.umask=function(){return 0}},3951:function(B,L,e){for(var k=e(41984),w=typeof window>"u"?e.g:window,r=["moz","webkit"],_="AnimationFrame",v=w["request"+_],f=w["cancel"+_]||w["cancelRequest"+_],s=0;!v&&s<r.length;s++)v=w[r[s]+"Request"+_],f=w[r[s]+"Cancel"+_]||w[r[s]+"CancelRequest"+_];if(!v||!f){var t=0,a=0,n=[];v=function(i){if(n.length===0){var l=k(),o=Math.max(0,16.666666666666668-(l-t));t=o+l,setTimeout(function(){var u=n.slice(0);n.length=0;for(var h=0;h<u.length;h++)if(!u[h].cancelled)try{u[h].callback(t)}catch(c){setTimeout(function(){throw c},0)}},Math.round(o))}return n.push({handle:++a,callback:i,cancelled:!1}),a},f=function(i){for(var l=0;l<n.length;l++)n[l].handle===i&&(n[l].cancelled=!0)}}B.exports=function(i){return v.call(w,i)},B.exports.cancel=function(){f.apply(w,arguments)},B.exports.polyfill=function(i){i||(i=w),i.requestAnimationFrame=v,i.cancelAnimationFrame=f}},24544:function(B,L,e){var k=e(76752),w=e(72160),r=e(45223),_=e(55616),v=e(50896),f=e(47520),s=e(37816),t=s.float32,a=s.fract32;B.exports=function(i,l){if(typeof i=="function"?(l||(l={}),l.regl=i):l=i,l.length&&(l.positions=l),!(i=l.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var o,u,h,c,b,d,g=i._gl,m={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},y=[];return c=i.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),u=i.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),h=i.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),b=i.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=i.buffer({usage:"static",type:"float",data:n}),S(l),o=i({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:i.prop("range"),lineWidth:i.prop("lineWidth"),capSize:i.prop("capSize"),opacity:i.prop("opacity"),scale:i.prop("scale"),translate:i.prop("translate"),scaleFract:i.prop("scaleFract"),translateFract:i.prop("translateFract"),viewport:function(E,P){return[P.viewport.x,P.viewport.y,E.viewportWidth,E.viewportHeight]}},attributes:{color:{buffer:c,offset:function(E,P){return 4*P.offset},divisor:1},position:{buffer:u,offset:function(E,P){return 8*P.offset},divisor:1},positionFract:{buffer:h,offset:function(E,P){return 8*P.offset},divisor:1},error:{buffer:b,offset:function(E,P){return 16*P.offset},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:i.prop("viewport")},viewport:i.prop("viewport"),stencil:!1,instances:i.prop("count"),count:n.length}),v(x,{update:S,draw:T,destroy:M,regl:i,gl:g,canvas:g.canvas,groups:y}),x;function x(E){E?S(E):E===null&&M(),T()}function T(E){if(typeof E=="number")return p(E);E&&!Array.isArray(E)&&(E=[E]),i._refresh(),y.forEach(function(P,O){P&&(E&&(E[O]?P.draw=!0:P.draw=!1),P.draw?p(O):P.draw=!0)})}function p(E){typeof E=="number"&&(E=y[E]),E!=null&&E&&E.count&&E.color&&E.opacity&&E.positions&&E.positions.length>1&&(E.scaleRatio=[E.scale[0]*E.viewport.width,E.scale[1]*E.viewport.height],o(E),E.after&&E.after(E))}function S(E){if(E){E.length!=null?typeof E[0]=="number"&&(E=[{positions:E}]):Array.isArray(E)||(E=[E]);var P=0,O=0;if(x.groups=y=E.map(function(F,V){var H=y[V];return F&&(typeof F=="function"?F={after:F}:typeof F[0]=="number"&&(F={positions:F}),F=_(F,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),H||(y[V]=H={id:V,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},F=v({},m,F)),r(H,F,[{lineWidth:function(te){return .5*+te},capSize:function(te){return .5*+te},opacity:parseFloat,errors:function(te){return te=f(te),O+=te.length,te},positions:function(te,Q){return te=f(te,"float64"),Q.count=Math.floor(te.length/2),Q.bounds=k(te,2),Q.offset=P,P+=Q.count,te}},{color:function(te,Q){var K=Q.count;if(te||(te="transparent"),!Array.isArray(te)||typeof te[0]=="number"){var X=te;te=Array(K);for(var J=0;J<K;J++)te[J]=X}if(te.length<K)throw Error("Not enough colors");for(var ee=new Uint8Array(4*K),ie=0;ie<K;ie++){var oe=w(te[ie],"uint8");ee.set(oe,4*ie)}return ee},range:function(te,Q,K){var X=Q.bounds;return te||(te=X),Q.scale=[1/(te[2]-te[0]),1/(te[3]-te[1])],Q.translate=[-te[0],-te[1]],Q.scaleFract=a(Q.scale),Q.translateFract=a(Q.translate),te},viewport:function(te){var Q;return Array.isArray(te)?Q={x:te[0],y:te[1],width:te[2]-te[0],height:te[3]-te[1]}:te?(Q={x:te.x||te.left||0,y:te.y||te.top||0},te.right?Q.width=te.right-Q.x:Q.width=te.w||te.width||0,te.bottom?Q.height=te.bottom-Q.y:Q.height=te.h||te.height||0):Q={x:0,y:0,width:g.drawingBufferWidth,height:g.drawingBufferHeight},Q}}])),H}),P||O){var I=y.reduce(function(F,V,H){return F+(V?V.count:0)},0),R=new Float64Array(2*I),U=new Uint8Array(4*I),z=new Float32Array(4*I);y.forEach(function(F,V){if(F){var H=F.positions,te=F.count,Q=F.offset,K=F.color,X=F.errors;te&&(U.set(K,4*Q),z.set(X,4*Q),R.set(H,2*Q))}});var j=t(R);u(j);var W=a(R,j);h(W),c(U),b(z)}}}function M(){u.destroy(),h.destroy(),c.destroy(),b.destroy(),d.destroy()}};var n=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},13472:function(B,L,e){var k=e(72160),w=e(76752),r=e(50896),_=e(55616),v=e(47520),f=e(28912),s=e(71152),t=e(37816),a=t.float32,n=t.fract32,i=e(60463),l=e(51160),o=e(10272);function u(h,c){if(!(this instanceof u))return new u(h,c);if(typeof h=="function"?(c||(c={}),c.regl=h):c=h,c.length&&(c.positions=c),!(h=c.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=h._gl,this.regl=h,this.passes=[],this.shaders=u.shaders.has(h)?u.shaders.get(h):u.shaders.set(h,u.createShaders(h)).get(h),this.update(c)}B.exports=u,u.dashMult=2,u.maxPatternLength=256,u.precisionThreshold=3e6,u.maxPoints=1e4,u.maxLines=2048,u.shaders=new i,u.createShaders=function(h){var c,b=h.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),d={primitive:"triangle strip",instances:h.prop("count"),count:4,offset:0,uniforms:{miterMode:function(m,y){return y.join==="round"?2:1},miterLimit:h.prop("miterLimit"),scale:h.prop("scale"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),thickness:h.prop("thickness"),dashTexture:h.prop("dashTexture"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),dashLength:h.prop("dashLength"),viewport:function(m,y){return[y.viewport.x,y.viewport.y,m.viewportWidth,m.viewportHeight]},depth:h.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(m,y){return!y.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:h.prop("viewport")},viewport:h.prop("viewport")},g=h(r({vert:`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,frag:`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,attributes:{lineEnd:{buffer:b,divisor:0,stride:8,offset:0},lineTop:{buffer:b,divisor:0,stride:8,offset:4},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},d));try{c=h(r({cull:{enable:!0,face:"back"},vert:`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,frag:`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,attributes:{lineEnd:{buffer:b,divisor:0,stride:8,offset:0},lineTop:{buffer:b,divisor:0,stride:8,offset:4},aColor:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:h.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},d))}catch{c=g}return{fill:h({primitive:"triangle",elements:function(m,y){return y.triangles},offset:0,vert:`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,frag:`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,uniforms:{scale:h.prop("scale"),color:h.prop("fill"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),viewport:function(m,y){return[y.viewport.x,y.viewport.y,m.viewportWidth,m.viewportHeight]}},attributes:{position:{buffer:h.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8}},blend:d.blend,depth:{enable:!1},scissor:d.scissor,stencil:d.stencil,viewport:d.viewport}),rect:g,miter:c}},u.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},u.prototype.render=function(){for(var h,c=[],b=arguments.length;b--;)c[b]=arguments[b];c.length&&(h=this).update.apply(h,c),this.draw()},u.prototype.draw=function(){for(var h=this,c=[],b=arguments.length;b--;)c[b]=arguments[b];return(c.length?c:this.passes).forEach(function(d,g){var m;if(d&&Array.isArray(d))return(m=h).draw.apply(m,d);typeof d=="number"&&(d=h.passes[d]),d&&d.count>1&&d.opacity&&(h.regl._refresh(),d.fill&&d.triangles&&d.triangles.length>2&&h.shaders.fill(d),d.thickness&&(d.scale[0]*d.viewport.width>u.precisionThreshold||d.scale[1]*d.viewport.height>u.precisionThreshold||d.join==="rect"||!d.join&&(d.thickness<=2||d.count>=u.maxPoints)?h.shaders.rect(d):h.shaders.miter(d)))}),this},u.prototype.update=function(h){var c=this;if(h){h.length!=null?typeof h[0]=="number"&&(h=[{positions:h}]):Array.isArray(h)||(h=[h]);var b=this.regl,d=this.gl;if(h.forEach(function(T,p){var S=c.passes[p];if(T!==void 0)if(T!==null){if(typeof T[0]=="number"&&(T={positions:T}),T=_(T,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),S||(c.passes[p]=S={id:p,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:b.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:b.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:b.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:b.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},T=r({},u.defaults,T)),T.thickness!=null&&(S.thickness=parseFloat(T.thickness)),T.opacity!=null&&(S.opacity=parseFloat(T.opacity)),T.miterLimit!=null&&(S.miterLimit=parseFloat(T.miterLimit)),T.overlay!=null&&(S.overlay=!!T.overlay,p<u.maxLines&&(S.depth=2*(u.maxLines-1-p%u.maxLines)/u.maxLines-1)),T.join!=null&&(S.join=T.join),T.hole!=null&&(S.hole=T.hole),T.fill!=null&&(S.fill=T.fill?k(T.fill,"uint8"):null),T.viewport!=null&&(S.viewport=l(T.viewport)),S.viewport||(S.viewport=l([d.drawingBufferWidth,d.drawingBufferHeight])),T.close!=null&&(S.close=T.close),T.positions===null&&(T.positions=[]),T.positions){var M,E;if(T.positions.x&&T.positions.y){var P=T.positions.x,O=T.positions.y;E=S.count=Math.max(P.length,O.length),M=new Float64Array(2*E);for(var I=0;I<E;I++)M[2*I]=P[I],M[2*I+1]=O[I]}else M=v(T.positions,"float64"),E=S.count=Math.floor(M.length/2);var R=S.bounds=w(M,2);if(S.fill){for(var U=[],z={},j=0,W=0,F=0,V=S.count;W<V;W++){var H=M[2*W],te=M[2*W+1];isNaN(H)||isNaN(te)||H==null||te==null?(H=M[2*j],te=M[2*j+1],z[W]=j):j=W,U[F++]=H,U[F++]=te}if(T.splitNull){S.count-1 in z||(z[S.count]=S.count-1);var Q=Object.keys(z).map(Number).sort(function(wt,bt){return wt-bt}),K=[],X=0,J=S.hole!=null?S.hole[0]:null;if(J!=null){var ee=o(Q,function(wt){return wt>=J});(Q=Q.slice(0,ee)).push(J)}for(var ie=function(wt){var bt=U.slice(2*X,2*Q[wt]).concat(J?U.slice(2*J):[]),at=(S.hole||[]).map(function(At){return At-J+(Q[wt]-X)}),rt=f(bt,at);rt=rt.map(function(At){return At+X+(At+X<Q[wt]?0:J-Q[wt])}),K.push.apply(K,rt),X=Q[wt]+1},oe=0;oe<Q.length;oe++)ie(oe);for(var ae=0,ce=K.length;ae<ce;ae++)z[K[ae]]!=null&&(K[ae]=z[K[ae]]);S.triangles=K}else{for(var ge=f(U,S.hole||[]),ve=0,be=ge.length;ve<be;ve++)z[ge[ve]]!=null&&(ge[ve]=z[ge[ve]]);S.triangles=ge}}var we=new Float64Array(M);s(we,2,R);var ye=new Float64Array(2*E+6);S.close?M[0]===M[2*E-2]&&M[1]===M[2*E-1]?(ye[0]=we[2*E-4],ye[1]=we[2*E-3]):(ye[0]=we[2*E-2],ye[1]=we[2*E-1]):(ye[0]=we[0],ye[1]=we[1]),ye.set(we,2),S.close?M[0]===M[2*E-2]&&M[1]===M[2*E-1]?(ye[2*E+2]=we[2],ye[2*E+3]=we[3],S.count-=1):(ye[2*E+2]=we[0],ye[2*E+3]=we[1],ye[2*E+4]=we[2],ye[2*E+5]=we[3]):(ye[2*E+2]=we[2*E-2],ye[2*E+3]=we[2*E-1],ye[2*E+4]=we[2*E-2],ye[2*E+5]=we[2*E-1]);var me=a(ye);S.positionBuffer(me);var Ae=n(ye,me);S.positionFractBuffer(Ae)}if(T.range?S.range=T.range:S.range||(S.range=S.bounds),(T.range||T.positions)&&S.count){var ke=S.bounds,fe=ke[2]-ke[0],le=ke[3]-ke[1],de=S.range[2]-S.range[0],Ce=S.range[3]-S.range[1];S.scale=[fe/de,le/Ce],S.translate=[-S.range[0]/de+ke[0]/de||0,-S.range[1]/Ce+ke[1]/Ce||0],S.scaleFract=n(S.scale),S.translateFract=n(S.translate)}if(T.dashes){var Me,Le=0;if(!T.dashes||T.dashes.length<2)Le=1,Me=new Uint8Array([255,255,255,255,255,255,255,255]);else{Le=0;for(var Oe=0;Oe<T.dashes.length;++Oe)Le+=T.dashes[Oe];Me=new Uint8Array(Le*u.dashMult);for(var Be=0,pe=255,_e=0;_e<2;_e++)for(var Te=0;Te<T.dashes.length;++Te){for(var Re=0,Ne=T.dashes[Te]*u.dashMult*.5;Re<Ne;++Re)Me[Be++]=pe;pe^=255}}S.dashLength=Le,S.dashTexture({channels:1,data:Me,width:Me.length,height:1,mag:"linear",min:"linear"},0,0)}if(T.color){var ze=S.count,Ge=T.color;Ge||(Ge="transparent");var Ye=new Uint8Array(4*ze+4);if(Array.isArray(Ge)&&typeof Ge[0]!="number"){for(var et=0;et<ze;et++){var ut=k(Ge[et],"uint8");Ye.set(ut,4*et)}Ye.set(k(Ge[0],"uint8"),4*ze)}else for(var ot=k(Ge,"uint8"),yt=0;yt<ze+1;yt++)Ye.set(ot,4*yt);S.colorBuffer({usage:"dynamic",type:"uint8",data:Ye})}}else c.passes[p]=null}),h.length<this.passes.length){for(var g=h.length;g<this.passes.length;g++){var m=this.passes[g];m&&(m.colorBuffer.destroy(),m.positionBuffer.destroy(),m.dashTexture.destroy())}this.passes.length=h.length}for(var y=[],x=0;x<this.passes.length;x++)this.passes[x]!==null&&y.push(this.passes[x]);return this.passes=y,this}},u.prototype.destroy=function(){return this.passes.forEach(function(h){h.colorBuffer.destroy(),h.positionBuffer.destroy(),h.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(B,L,e){function k(g,m){return function(y){if(Array.isArray(y))return y}(g)||function(y,x){var T=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(T!=null){var p,S,M,E,P=[],O=!0,I=!1;try{if(M=(T=T.call(y)).next,x===0){if(Object(T)!==T)return;O=!1}else for(;!(O=(p=M.call(T)).done)&&(P.push(p.value),P.length!==x);O=!0);}catch(R){I=!0,S=R}finally{try{if(!O&&T.return!=null&&(E=T.return(),Object(E)!==E))return}finally{if(I)throw S}}return P}}(g,m)||w(g,m)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w(g,m){if(g){if(typeof g=="string")return r(g,m);var y=Object.prototype.toString.call(g).slice(8,-1);return y==="Object"&&g.constructor&&(y=g.constructor.name),y==="Map"||y==="Set"?Array.from(g):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?r(g,m):void 0}}function r(g,m){(m==null||m>g.length)&&(m=g.length);for(var y=0,x=new Array(m);y<m;y++)x[y]=g[y];return x}var _=e(72160),v=e(76752),f=e(3808),s=e(3108),t=e(50896),a=e(26444),n=e(55616),i=e(45223),l=e(47520),o=e(96604),u=e(37816),h=e(51160),c=b;function b(g,m){var y=this;if(!(this instanceof b))return new b(g,m);typeof g=="function"?(m||(m={}),m.regl=g):(m=g,g=null),m&&m.length&&(m.positions=m);var x,T=(g=m.regl)._gl,p=[];this.tooManyColors=o,x=g.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),t(this,{regl:g,gl:T,groups:[],markerCache:[null],markerTextures:[null],palette:p,paletteIds:{},paletteTexture:x,maxColors:255,maxSize:100,canvas:T.canvas}),this.update(m);var S={uniforms:{constPointSize:!!m.constPointSize,opacity:g.prop("opacity"),paletteSize:function(P,O){return[y.tooManyColors?0:255,x.height]},pixelRatio:g.context("pixelRatio"),scale:g.prop("scale"),scaleFract:g.prop("scaleFract"),translate:g.prop("translate"),translateFract:g.prop("translateFract"),markerTexture:g.prop("markerTexture"),paletteTexture:x},attributes:{x:function(P,O){return O.xAttr||{buffer:O.positionBuffer,stride:8,offset:0}},y:function(P,O){return O.yAttr||{buffer:O.positionBuffer,stride:8,offset:4}},xFract:function(P,O){return O.xAttr?{constant:[0,0]}:{buffer:O.positionFractBuffer,stride:8,offset:0}},yFract:function(P,O){return O.yAttr?{constant:[0,0]}:{buffer:O.positionFractBuffer,stride:8,offset:4}},size:function(P,O){return O.size.length?{buffer:O.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*O.size/y.maxSize)]}},borderSize:function(P,O){return O.borderSize.length?{buffer:O.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*O.borderSize/y.maxSize)]}},colorId:function(P,O){return O.color.length?{buffer:O.colorBuffer,stride:y.tooManyColors?8:4,offset:0}:{constant:y.tooManyColors?p.slice(4*O.color,4*O.color+4):[O.color]}},borderColorId:function(P,O){return O.borderColor.length?{buffer:O.colorBuffer,stride:y.tooManyColors?8:4,offset:y.tooManyColors?4:2}:{constant:y.tooManyColors?p.slice(4*O.borderColor,4*O.borderColor+4):[O.borderColor]}},isActive:function(P,O){return O.activation===!0?{constant:[1]}:O.activation?O.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:g.prop("viewport")},viewport:g.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:g.prop("elements"),count:g.prop("count"),offset:g.prop("offset"),primitive:"points"},M=t({},S);M.frag=a([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),M.vert=a([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=g(M);var E=t({},S);E.frag=a([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),E.vert=a([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),o&&(E.frag=E.frag.replace("smoothstep","smoothStep"),M.frag=M.frag.replace("smoothstep","smoothStep")),this.drawCircle=g(E)}b.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},b.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},b.prototype.draw=function(){for(var g=this,m=arguments.length,y=new Array(m),x=0;x<m;x++)y[x]=arguments[x];var T=this.groups;if(y.length===1&&Array.isArray(y[0])&&(y[0][0]===null||Array.isArray(y[0][0]))&&(y=y[0]),this.regl._refresh(),y.length)for(var p=0;p<y.length;p++)this.drawItem(p,y[p]);else T.forEach(function(S,M){g.drawItem(M)});return this},b.prototype.drawItem=function(g,m){var y,x=this.groups,T=x[g];if(typeof m=="number"&&(g=m,T=x[m],m=null),T&&T.count&&T.opacity){T.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,T,m));for(var p=[],S=1;S<T.activation.length;S++)T.activation[S]&&(T.activation[S]===!0||T.activation[S].data.length)&&p.push.apply(p,function(M){if(Array.isArray(M))return r(M)}(y=this.getMarkerDrawOptions(S,T,m))||function(M){if(typeof Symbol<"u"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)}(y)||w(y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());p.length&&this.drawMarker(p)}},b.prototype.getMarkerDrawOptions=function(g,m,y){var x=m.range,T=m.tree,p=m.viewport,S=m.activation,M=m.selectionBuffer,E=m.count;if(this.regl,!T)return y?[t({},m,{markerTexture:this.markerTextures[g],activation:S[g],count:y.length,elements:y,offset:0})]:[t({},m,{markerTexture:this.markerTextures[g],activation:S[g],offset:0})];var P=[],O=T.range(x,{lod:!0,px:[(x[2]-x[0])/p.width,(x[3]-x[1])/p.height]});if(y){for(var I=S[g].data,R=new Uint8Array(E),U=0;U<y.length;U++){var z=y[U];R[z]=I?I[z]:1}M.subdata(R)}for(var j=O.length;j--;){var W=k(O[j],2),F=W[0],V=W[1];P.push(t({},m,{markerTexture:this.markerTextures[g],activation:y?M:S[g],offset:F,count:V-F}))}return P},b.prototype.update=function(){for(var g=this,m=arguments.length,y=new Array(m),x=0;x<m;x++)y[x]=arguments[x];if(y.length){y.length===1&&Array.isArray(y[0])&&(y=y[0]);var T=this.groups,p=this.gl,S=this.regl,M=this.maxSize,E=this.maxColors,P=this.palette;this.groups=T=y.map(function(O,I){var R=T[I];if(O===void 0)return R;O===null?O={positions:null}:typeof O=="function"?O={ondraw:O}:typeof O[0]=="number"&&(O={positions:O}),(O=n(O,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions===null&&(O.positions=[]),O.tooManyColors!=null&&(g.tooManyColors=O.tooManyColors),R||(T[I]=R={id:I,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:S.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},O=t({},b.defaults,O)),O.positions&&!("marker"in O)&&(O.marker=R.marker,delete R.marker),O.marker&&!("positions"in O)&&(O.positions=R.positions,delete R.positions);var U=0,z=0;if(i(R,O,[{snap:!0,size:function(be,we){return be==null&&(be=b.defaults.size),U+=be&&be.length?1:0,be},borderSize:function(be,we){return be==null&&(be=b.defaults.borderSize),U+=be&&be.length?1:0,be},opacity:parseFloat,color:function(be,we){return be==null&&(be=b.defaults.color),be=g.updateColor(be),z++,be},borderColor:function(be,we){return be==null&&(be=b.defaults.borderColor),be=g.updateColor(be),z++,be},bounds:function(be,we,ye){return"range"in ye||(ye.range=null),be},positions:function(be,we,ye){var me=we.snap,Ae=we.positionBuffer,ke=we.positionFractBuffer,fe=we.selectionBuffer;if(be.x||be.y)return be.x.length?we.xAttr={buffer:S.buffer(be.x),offset:0,stride:4,count:be.x.length}:we.xAttr={buffer:be.x.buffer,offset:4*be.x.offset||0,stride:4*(be.x.stride||1),count:be.x.count},be.y.length?we.yAttr={buffer:S.buffer(be.y),offset:0,stride:4,count:be.y.length}:we.yAttr={buffer:be.y.buffer,offset:4*be.y.offset||0,stride:4*(be.y.stride||1),count:be.y.count},we.count=Math.max(we.xAttr.count,we.yAttr.count),be;be=l(be,"float64");var le=we.count=Math.floor(be.length/2),de=we.bounds=le?v(be,2):null;if(ye.range||we.range||(delete we.range,ye.range=de),ye.marker||we.marker||(delete we.marker,ye.marker=null),me&&(me===!0||le>me)?we.tree=s(be,{bounds:de}):me&&me.length&&(we.tree=me),we.tree){var Ce={primitive:"points",usage:"static",data:we.tree,type:"uint32"};we.elements?we.elements(Ce):we.elements=S.elements(Ce)}var Me=u.float32(be);return Ae({data:Me,usage:"dynamic"}),ke({data:u.fract32(be,Me),usage:"dynamic"}),fe({data:new Uint8Array(le),type:"uint8",usage:"stream"}),be}},{marker:function(be,we,ye){var me=we.activation;if(me.forEach(function(Me){return Me&&Me.destroy&&Me.destroy()}),me.length=0,be&&typeof be[0]!="number"){for(var Ae=[],ke=0,fe=Math.min(be.length,we.count);ke<fe;ke++){var le=g.addMarker(be[ke]);Ae[le]||(Ae[le]=new Uint8Array(we.count)),Ae[le][ke]=1}for(var de=0;de<Ae.length;de++)if(Ae[de]){var Ce={data:Ae[de],type:"uint8",usage:"static"};me[de]?me[de](Ce):me[de]=S.buffer(Ce),me[de].data=Ae[de]}}else me[g.addMarker(be)]=!0;return be},range:function(be,we,ye){var me=we.bounds;if(me)return be||(be=me),we.scale=[1/(be[2]-be[0]),1/(be[3]-be[1])],we.translate=[-be[0],-be[1]],we.scaleFract=u.fract(we.scale),we.translateFract=u.fract(we.translate),be},viewport:function(be){return h(be||[p.drawingBufferWidth,p.drawingBufferHeight])}}]),U){var j=R,W=j.count,F=j.size,V=j.borderSize,H=j.sizeBuffer,te=new Uint8Array(2*W);if(F.length||V.length)for(var Q=0;Q<W;Q++)te[2*Q]=Math.round(255*(F[Q]==null?F:F[Q])/M),te[2*Q+1]=Math.round(255*(V[Q]==null?V:V[Q])/M);H({data:te,usage:"dynamic"})}if(z){var K,X=R,J=X.count,ee=X.color,ie=X.borderColor,oe=X.colorBuffer;if(g.tooManyColors){if(ee.length||ie.length){K=new Uint8Array(8*J);for(var ae=0;ae<J;ae++){var ce=ee[ae];K[8*ae]=P[4*ce],K[8*ae+1]=P[4*ce+1],K[8*ae+2]=P[4*ce+2],K[8*ae+3]=P[4*ce+3];var ge=ie[ae];K[8*ae+4]=P[4*ge],K[8*ae+5]=P[4*ge+1],K[8*ae+6]=P[4*ge+2],K[8*ae+7]=P[4*ge+3]}}}else if(ee.length||ie.length){K=new Uint8Array(4*J+2);for(var ve=0;ve<J;ve++)ee[ve]!=null&&(K[4*ve]=ee[ve]%E,K[4*ve+1]=Math.floor(ee[ve]/E)),ie[ve]!=null&&(K[4*ve+2]=ie[ve]%E,K[4*ve+3]=Math.floor(ie[ve]/E))}oe({data:K||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return R})}},b.prototype.addMarker=function(g){var m,y=this.markerTextures,x=this.regl,T=this.markerCache,p=g==null?0:T.indexOf(g);if(p>=0)return p;if(g instanceof Uint8Array||g instanceof Uint8ClampedArray)m=g;else{m=new Uint8Array(g.length);for(var S=0,M=g.length;S<M;S++)m[S]=255*g[S]}var E=Math.floor(Math.sqrt(m.length));return p=y.length,T.push(g),y.push(x.texture({channels:1,data:m,radius:E,mag:"linear",min:"linear"})),p},b.prototype.updateColor=function(g){var m=this.paletteIds,y=this.palette,x=this.maxColors;Array.isArray(g)||(g=[g]);var T=[];if(typeof g[0]=="number"){var p=[];if(Array.isArray(g))for(var S=0;S<g.length;S+=4)p.push(g.slice(S,S+4));else for(var M=0;M<g.length;M+=4)p.push(g.subarray(M,M+4));g=p}for(var E=0;E<g.length;E++){var P=g[E];P=_(P,"uint8");var O=f(P,!1);if(m[O]==null){var I=y.length;m[O]=Math.floor(I/4),y[I]=P[0],y[I+1]=P[1],y[I+2]=P[2],y[I+3]=P[3]}T[E]=m[O]}return!this.tooManyColors&&y.length>4*x&&(this.tooManyColors=!0),this.updatePalette(y),T.length===1?T[0]:T},b.prototype.updatePalette=function(g){if(!this.tooManyColors){var m=this.maxColors,y=this.paletteTexture,x=Math.ceil(.25*g.length/m);if(x>1)for(var T=.25*(g=g.slice()).length%m;T<x*m;T++)g.push(0,0,0,0);y.height<x&&y.resize(m,x),y.subimage({width:Math.min(.25*g.length,m),height:x,data:g},0,0)}},b.prototype.destroy=function(){return this.groups.forEach(function(g){g.sizeBuffer.destroy(),g.positionBuffer.destroy(),g.positionFractBuffer.destroy(),g.colorBuffer.destroy(),g.activation.forEach(function(m){return m&&m.destroy&&m.destroy()}),g.selectionBuffer.destroy(),g.elements&&g.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(g){return g&&g.destroy&&g.destroy()}),this};var d=e(50896);B.exports=function(g,m){var y=new c(g,m),x=y.render.bind(y);return d(x,{render:x,update:y.update.bind(y),draw:y.draw.bind(y),destroy:y.destroy.bind(y),regl:y.regl,gl:y.gl,canvas:y.gl.canvas,groups:y.groups,markers:y.markerCache,palette:y.palette}),x}},55795:function(B,L,e){var k=e(38540),w=e(55616),r=e(76752),_=e(3951),v=e(67752),f=e(51160),s=e(47520);function t(l,o){if(!(this instanceof t))return new t(l);this.traces=[],this.passes={},this.regl=l,this.scatter=k(l),this.canvas=this.scatter.canvas}function a(l,o,u){return(l.id!=null?l.id:l)<<16|(255&o)<<8|255&u}function n(l,o,u){var h,c,b,d,g=l[o],m=l[u];return g.length>2?(g[0],g[2],h=g[1],c=g[3]):g.length?(h=g[0],c=g[1]):(g.x,h=g.y,g.x,g.width,c=g.y+g.height),m.length>2?(b=m[0],d=m[2],m[1],m[3]):m.length?(b=m[0],d=m[1]):(b=m.x,m.y,d=m.x+m.width,m.y,m.height),[b,h,d,c]}function i(l){if(typeof l=="number")return[l,l,l,l];if(l.length===2)return[l[0],l[1],l[0],l[1]];var o=f(l);return[o.x,o.y,o.x+o.width,o.y+o.height]}B.exports=t,t.prototype.render=function(){for(var l,o=this,u=[],h=arguments.length;h--;)u[h]=arguments[h];return u.length&&(l=this).update.apply(l,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=_(function(){o.draw(),o.dirty=!0,o.planned=null})):(this.draw(),this.dirty=!0,_(function(){o.dirty=!1})),this)},t.prototype.update=function(){for(var l,o=[],u=arguments.length;u--;)o[u]=arguments[u];if(o.length){for(var h=0;h<o.length;h++)this.updateItem(h,o[h]);this.traces=this.traces.filter(Boolean);for(var c=[],b=0,d=0;d<this.traces.length;d++){for(var g=this.traces[d],m=this.traces[d].passes,y=0;y<m.length;y++)c.push(this.passes[m[y]]);g.passOffset=b,b+=g.passes.length}return(l=this.scatter).update.apply(l,c),this}},t.prototype.updateItem=function(l,o){var u=this.regl;if(o===null)return this.traces[l]=null,this;if(!o)return this;var h,c=w(o,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),b=this.traces[l]||(this.traces[l]={id:l,buffer:u.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:f([u._gl.drawingBufferWidth,u._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(c.color!=null&&(b.color=c.color),c.size!=null&&(b.size=c.size),c.marker!=null&&(b.marker=c.marker),c.borderColor!=null&&(b.borderColor=c.borderColor),c.borderSize!=null&&(b.borderSize=c.borderSize),c.opacity!=null&&(b.opacity=c.opacity),c.viewport&&(b.viewport=f(c.viewport)),c.diagonal!=null&&(b.diagonal=c.diagonal),c.upper!=null&&(b.upper=c.upper),c.lower!=null&&(b.lower=c.lower),c.data){b.buffer(s(c.data)),b.columns=c.data.length,b.count=c.data[0].length,b.bounds=[];for(var d=0;d<b.columns;d++)b.bounds[d]=r(c.data[d],1)}c.range&&(b.range=c.range,h=b.range&&typeof b.range[0]!="number"),c.domain&&(b.domain=c.domain);var g=!1;c.padding!=null&&(Array.isArray(c.padding)&&c.padding.length===b.columns&&typeof c.padding[c.padding.length-1]=="number"?(b.padding=c.padding.map(i),g=!0):b.padding=i(c.padding));var m=b.columns,y=b.count,x=b.viewport.width,T=b.viewport.height,p=b.viewport.x,S=b.viewport.y,M=x/m,E=T/m;b.passes=[];for(var P=0;P<m;P++)for(var O=0;O<m;O++)if((b.diagonal||O!==P)&&(b.upper||!(P>O))&&(b.lower||!(P<O))){var I=a(b.id,P,O),R=this.passes[I]||(this.passes[I]={});if(c.data&&(c.transpose?R.positions={x:{buffer:b.buffer,offset:O,count:y,stride:m},y:{buffer:b.buffer,offset:P,count:y,stride:m}}:R.positions={x:{buffer:b.buffer,offset:O*y,count:y},y:{buffer:b.buffer,offset:P*y,count:y}},R.bounds=n(b.bounds,P,O)),c.domain||c.viewport||c.data){var U=g?n(b.padding,P,O):b.padding;if(b.domain){var z=n(b.domain,P,O),j=z[0],W=z[1],F=z[2],V=z[3];R.viewport=[p+j*x+U[0],S+W*T+U[1],p+F*x-U[2],S+V*T-U[3]]}else R.viewport=[p+O*M+M*U[0],S+P*E+E*U[1],p+(O+1)*M-M*U[2],S+(P+1)*E-E*U[3]]}c.color&&(R.color=b.color),c.size&&(R.size=b.size),c.marker&&(R.marker=b.marker),c.borderSize&&(R.borderSize=b.borderSize),c.borderColor&&(R.borderColor=b.borderColor),c.opacity&&(R.opacity=b.opacity),c.range&&(R.range=h?n(b.range,P,O):b.range||R.bounds),b.passes.push(I)}return this},t.prototype.draw=function(){for(var l,o=[],u=arguments.length;u--;)o[u]=arguments[u];if(o.length){for(var h=[],c=0;c<o.length;c++)if(typeof o[c]=="number"){var b=this.traces[o[c]],d=b.passes,g=b.passOffset;h.push.apply(h,v(g,g+d.length))}else if(o[c].length){var m=o[c],y=this.traces[c],x=y.passes,T=y.passOffset;x=x.map(function(p,S){h[T+S]=m})}(l=this.scatter).draw.apply(l,h)}else this.scatter.draw();return this},t.prototype.destroy=function(){return this.traces.forEach(function(l){l.buffer&&l.buffer.destroy&&l.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},28624:function(B){B.exports=function(){function L(Ve,Je){this.id=ie++,this.type=Ve,this.data=Je}function e(Ve){if(Ve.length===0)return[];var Je=Ve.charAt(0),ct=Ve.charAt(Ve.length-1);if(1<Ve.length&&Je===ct&&(Je==='"'||Je==="'"))return['"'+Ve.substr(1,Ve.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Je=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Ve))return e(Ve.substr(0,Je.index)).concat(e(Je[1])).concat(e(Ve.substr(Je.index+Je[0].length)));if((Je=Ve.split(".")).length===1)return['"'+Ve.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(Ve=[],ct=0;ct<Je.length;++ct)Ve=Ve.concat(e(Je[ct]));return Ve}function k(Ve){return"["+e(Ve).join("][")+"]"}function w(Ve){return typeof Ve=="string"?Ve.split():Ve}function r(Ve){return typeof Ve=="string"?document.querySelector(Ve):Ve}function _(Ve){var Je,ct,st,je,Ue=Ve||{};Ve={};var lt=[],Qe=[],gt=typeof window>"u"?1:window.devicePixelRatio,mt=!1,xt={},dt=function(kt){},Lt=function(){};if(typeof Ue=="string"?Je=document.querySelector(Ue):typeof Ue=="object"&&(typeof Ue.nodeName=="string"&&typeof Ue.appendChild=="function"&&typeof Ue.getBoundingClientRect=="function"?Je=Ue:typeof Ue.drawArrays=="function"||typeof Ue.drawElements=="function"?st=(je=Ue).canvas:("gl"in Ue?je=Ue.gl:"canvas"in Ue?st=r(Ue.canvas):"container"in Ue&&(ct=r(Ue.container)),"attributes"in Ue&&(Ve=Ue.attributes),"extensions"in Ue&&(lt=w(Ue.extensions)),"optionalExtensions"in Ue&&(Qe=w(Ue.optionalExtensions)),"onDone"in Ue&&(dt=Ue.onDone),"profile"in Ue&&(mt=!!Ue.profile),"pixelRatio"in Ue&&(gt=+Ue.pixelRatio),"cachedCode"in Ue&&(xt=Ue.cachedCode))),Je&&(Je.nodeName.toLowerCase()==="canvas"?st=Je:ct=Je),!je){if(!st){if(!(Je=function(kt,_t,Ot){function Pt(){var on=window.innerWidth,qt=window.innerHeight;kt!==document.body&&(on=(qt=Jt.getBoundingClientRect()).right-qt.left,qt=qt.bottom-qt.top),Jt.width=Ot*on,Jt.height=Ot*qt}var Bt,Jt=document.createElement("canvas");return ee(Jt.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),kt.appendChild(Jt),kt===document.body&&(Jt.style.position="absolute",ee(kt.style,{margin:0,padding:0})),kt!==document.body&&typeof ResizeObserver=="function"?(Bt=new ResizeObserver(function(){setTimeout(Pt)})).observe(kt):window.addEventListener("resize",Pt,!1),Pt(),{canvas:Jt,onDestroy:function(){Bt?Bt.disconnect():window.removeEventListener("resize",Pt),kt.removeChild(Jt)}}}(ct||document.body,0,gt)))return null;st=Je.canvas,Lt=Je.onDestroy}Ve.premultipliedAlpha===void 0&&(Ve.premultipliedAlpha=!0),je=function(kt,_t){function Ot(Pt){try{return kt.getContext(Pt,_t)}catch{return null}}return Ot("webgl")||Ot("experimental-webgl")||Ot("webgl-experimental")}(st,Ve)}return je?{gl:je,canvas:st,container:ct,extensions:lt,optionalExtensions:Qe,pixelRatio:gt,profile:mt,cachedCode:xt,onDone:dt,onDestroy:Lt}:(Lt(),dt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function v(Ve,Je){for(var ct=Array(Ve),st=0;st<Ve;++st)ct[st]=Je(st);return ct}function f(Ve){var Je,ct;return Je=(65535<Ve)<<4,Je|=ct=(255<(Ve>>>=Je))<<3,(Je|=ct=(15<(Ve>>>=ct))<<2)|(ct=(3<(Ve>>>=ct))<<1)|Ve>>>ct>>1}function s(){function Ve(st){e:{for(var je=16;268435456>=je;je*=16)if(st<=je){st=je;break e}st=0}return 0<(je=ct[f(st)>>2]).length?je.pop():new ArrayBuffer(st)}function Je(st){ct[f(st.byteLength)>>2].push(st)}var ct=v(8,function(){return[]});return{alloc:Ve,free:Je,allocType:function(st,je){var Ue=null;switch(st){case 5120:Ue=new Int8Array(Ve(je),0,je);break;case 5121:Ue=new Uint8Array(Ve(je),0,je);break;case 5122:Ue=new Int16Array(Ve(2*je),0,je);break;case 5123:Ue=new Uint16Array(Ve(2*je),0,je);break;case 5124:Ue=new Int32Array(Ve(4*je),0,je);break;case 5125:Ue=new Uint32Array(Ve(4*je),0,je);break;case 5126:Ue=new Float32Array(Ve(4*je),0,je);break;default:return null}return Ue.length!==je?Ue.subarray(0,je):Ue},freeType:function(st){Je(st.buffer)}}}function t(Ve){return!!Ve&&typeof Ve=="object"&&Array.isArray(Ve.shape)&&Array.isArray(Ve.stride)&&typeof Ve.offset=="number"&&Ve.shape.length===Ve.stride.length&&(Array.isArray(Ve.data)||be(Ve.data))}function a(Ve,Je,ct,st,je,Ue){for(var lt=0;lt<Je;++lt)for(var Qe=Ve[lt],gt=0;gt<ct;++gt)for(var mt=Qe[gt],xt=0;xt<st;++xt)je[Ue++]=mt[xt]}function n(Ve,Je,ct,st,je){for(var Ue=1,lt=ct+1;lt<Je.length;++lt)Ue*=Je[lt];var Qe=Je[ct];if(Je.length-ct==4){var gt=Je[ct+1],mt=Je[ct+2];for(Je=Je[ct+3],lt=0;lt<Qe;++lt)a(Ve[lt],gt,mt,Je,st,je),je+=Ue}else for(lt=0;lt<Qe;++lt)n(Ve[lt],Je,ct+1,st,je),je+=Ue}function i(Ve){return 0|me[Object.prototype.toString.call(Ve)]}function l(Ve,Je){for(var ct=0;ct<Je.length;++ct)Ve[ct]=Je[ct]}function o(Ve,Je,ct,st,je,Ue,lt){for(var Qe=0,gt=0;gt<ct;++gt)for(var mt=0;mt<st;++mt)Ve[Qe++]=Je[je*gt+Ue*mt+lt]}function u(Ve,Je,ct,st){function je(dt){this.id=gt++,this.buffer=Ve.createBuffer(),this.type=dt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,ct.profile&&(this.stats={size:0})}function Ue(dt,Lt,kt){dt.byteLength=Lt.byteLength,Ve.bufferData(dt.type,Lt,kt)}function lt(dt,Lt,kt,_t,Ot,Pt){if(dt.usage=kt,Array.isArray(Lt)){if(dt.dtype=_t||5126,0<Lt.length)if(Array.isArray(Lt[0])){Ot=le(Lt);for(var Bt=_t=1;Bt<Ot.length;++Bt)_t*=Ot[Bt];dt.dimension=_t,Ue(dt,Lt=fe(Lt,Ot,dt.dtype),kt),Pt?dt.persistentData=Lt:ge.freeType(Lt)}else typeof Lt[0]=="number"?(dt.dimension=Ot,l(Ot=ge.allocType(dt.dtype,Lt.length),Lt),Ue(dt,Ot,kt),Pt?dt.persistentData=Ot:ge.freeType(Ot)):be(Lt[0])&&(dt.dimension=Lt[0].length,dt.dtype=_t||i(Lt[0])||5126,Ue(dt,Lt=fe(Lt,[Lt.length,Lt[0].length],dt.dtype),kt),Pt?dt.persistentData=Lt:ge.freeType(Lt))}else if(be(Lt))dt.dtype=_t||i(Lt),dt.dimension=Ot,Ue(dt,Lt,kt),Pt&&(dt.persistentData=new Uint8Array(new Uint8Array(Lt.buffer)));else if(t(Lt)){Ot=Lt.shape;var Jt=Lt.stride,on=(Bt=Lt.offset,0),qt=0,Gt=0,nn=0;Ot.length===1?(on=Ot[0],qt=1,Gt=Jt[0],nn=0):Ot.length===2&&(on=Ot[0],qt=Ot[1],Gt=Jt[0],nn=Jt[1]),dt.dtype=_t||i(Lt.data)||5126,dt.dimension=qt,o(Ot=ge.allocType(dt.dtype,on*qt),Lt.data,on,qt,Gt,nn,Bt),Ue(dt,Ot,kt),Pt?dt.persistentData=Ot:ge.freeType(Ot)}else Lt instanceof ArrayBuffer&&(dt.dtype=5121,dt.dimension=Ot,Ue(dt,Lt,kt),Pt&&(dt.persistentData=new Uint8Array(new Uint8Array(Lt))))}function Qe(dt){Je.bufferCount--,st(dt),Ve.deleteBuffer(dt.buffer),dt.buffer=null,delete mt[dt.id]}var gt=0,mt={};je.prototype.bind=function(){Ve.bindBuffer(this.type,this.buffer)},je.prototype.destroy=function(){Qe(this)};var xt=[];return ct.profile&&(Je.getTotalBufferSize=function(){var dt=0;return Object.keys(mt).forEach(function(Lt){dt+=mt[Lt].stats.size}),dt}),{create:function(dt,Lt,kt,_t){function Ot(Bt){var Jt=35044,on=null,qt=0,Gt=0,nn=1;return Array.isArray(Bt)||be(Bt)||t(Bt)||Bt instanceof ArrayBuffer?on=Bt:typeof Bt=="number"?qt=0|Bt:Bt&&("data"in Bt&&(on=Bt.data),"usage"in Bt&&(Jt=ke[Bt.usage]),"type"in Bt&&(Gt=Ae[Bt.type]),"dimension"in Bt&&(nn=0|Bt.dimension),"length"in Bt&&(qt=0|Bt.length)),Pt.bind(),on?lt(Pt,on,Jt,Gt,nn,_t):(qt&&Ve.bufferData(Pt.type,qt,Jt),Pt.dtype=Gt||5121,Pt.usage=Jt,Pt.dimension=nn,Pt.byteLength=qt),ct.profile&&(Pt.stats.size=Pt.byteLength*de[Pt.dtype]),Ot}Je.bufferCount++;var Pt=new je(Lt);return mt[Pt.id]=Pt,kt||Ot(dt),Ot._reglType="buffer",Ot._buffer=Pt,Ot.subdata=function(Bt,Jt){var on,qt=0|(Jt||0);if(Pt.bind(),be(Bt)||Bt instanceof ArrayBuffer)Ve.bufferSubData(Pt.type,qt,Bt);else if(Array.isArray(Bt)){if(0<Bt.length)if(typeof Bt[0]=="number"){var Gt=ge.allocType(Pt.dtype,Bt.length);l(Gt,Bt),Ve.bufferSubData(Pt.type,qt,Gt),ge.freeType(Gt)}else(Array.isArray(Bt[0])||be(Bt[0]))&&(on=le(Bt),Gt=fe(Bt,on,Pt.dtype),Ve.bufferSubData(Pt.type,qt,Gt),ge.freeType(Gt))}else if(t(Bt)){on=Bt.shape;var nn=Bt.stride,Cn=Gt=0,An=0,dn=0;on.length===1?(Gt=on[0],Cn=1,An=nn[0],dn=0):on.length===2&&(Gt=on[0],Cn=on[1],An=nn[0],dn=nn[1]),on=Array.isArray(Bt.data)?Pt.dtype:i(Bt.data),o(on=ge.allocType(on,Gt*Cn),Bt.data,Gt,Cn,An,dn,Bt.offset),Ve.bufferSubData(Pt.type,qt,on),ge.freeType(on)}return Ot},ct.profile&&(Ot.stats=Pt.stats),Ot.destroy=function(){Qe(Pt)},Ot},createStream:function(dt,Lt){var kt=xt.pop();return kt||(kt=new je(dt)),kt.bind(),lt(kt,Lt,35040,0,1,!1),kt},destroyStream:function(dt){xt.push(dt)},clear:function(){we(mt).forEach(Qe),xt.forEach(Qe)},getBuffer:function(dt){return dt&&dt._buffer instanceof je?dt._buffer:null},restore:function(){we(mt).forEach(function(dt){dt.buffer=Ve.createBuffer(),Ve.bindBuffer(dt.type,dt.buffer),Ve.bufferData(dt.type,dt.persistentData||dt.byteLength,dt.usage)})},_initBuffer:lt}}function h(Ve,Je,ct,st){function je(dt){this.id=gt++,Qe[this.id]=this,this.buffer=dt,this.primType=4,this.type=this.vertCount=0}function Ue(dt,Lt,kt,_t,Ot,Pt,Bt){var Jt;if(dt.buffer.bind(),Lt?((Jt=Bt)||be(Lt)&&(!t(Lt)||be(Lt.data))||(Jt=Je.oes_element_index_uint?5125:5123),ct._initBuffer(dt.buffer,Lt,kt,Jt,3)):(Ve.bufferData(34963,Pt,kt),dt.buffer.dtype=Jt||5121,dt.buffer.usage=kt,dt.buffer.dimension=3,dt.buffer.byteLength=Pt),Jt=Bt,!Bt){switch(dt.buffer.dtype){case 5121:case 5120:Jt=5121;break;case 5123:case 5122:Jt=5123;break;case 5125:case 5124:Jt=5125}dt.buffer.dtype=Jt}dt.type=Jt,0>(Lt=Ot)&&(Lt=dt.buffer.byteLength,Jt===5123?Lt>>=1:Jt===5125&&(Lt>>=2)),dt.vertCount=Lt,Lt=_t,0>_t&&(Lt=4,(_t=dt.buffer.dimension)===1&&(Lt=0),_t===2&&(Lt=1),_t===3&&(Lt=4)),dt.primType=Lt}function lt(dt){st.elementsCount--,delete Qe[dt.id],dt.buffer.destroy(),dt.buffer=null}var Qe={},gt=0,mt={uint8:5121,uint16:5123};Je.oes_element_index_uint&&(mt.uint32=5125),je.prototype.bind=function(){this.buffer.bind()};var xt=[];return{create:function(dt,Lt){function kt(Pt){if(Pt)if(typeof Pt=="number")_t(Pt),Ot.primType=4,Ot.vertCount=0|Pt,Ot.type=5121;else{var Bt=null,Jt=35044,on=-1,qt=-1,Gt=0,nn=0;Array.isArray(Pt)||be(Pt)||t(Pt)?Bt=Pt:("data"in Pt&&(Bt=Pt.data),"usage"in Pt&&(Jt=ke[Pt.usage]),"primitive"in Pt&&(on=Ce[Pt.primitive]),"count"in Pt&&(qt=0|Pt.count),"type"in Pt&&(nn=mt[Pt.type]),"length"in Pt?Gt=0|Pt.length:(Gt=qt,nn===5123||nn===5122?Gt*=2:nn!==5125&&nn!==5124||(Gt*=4))),Ue(Ot,Bt,Jt,on,qt,Gt,nn)}else _t(),Ot.primType=4,Ot.vertCount=0,Ot.type=5121;return kt}var _t=ct.create(null,34963,!0),Ot=new je(_t._buffer);return st.elementsCount++,kt(dt),kt._reglType="elements",kt._elements=Ot,kt.subdata=function(Pt,Bt){return _t.subdata(Pt,Bt),kt},kt.destroy=function(){lt(Ot)},kt},createStream:function(dt){var Lt=xt.pop();return Lt||(Lt=new je(ct.create(null,34963,!0,!1)._buffer)),Ue(Lt,dt,35040,-1,-1,0,0),Lt},destroyStream:function(dt){xt.push(dt)},getElements:function(dt){return typeof dt=="function"&&dt._elements instanceof je?dt._elements:null},clear:function(){we(Qe).forEach(lt)}}}function c(Ve){for(var Je=ge.allocType(5123,Ve.length),ct=0;ct<Ve.length;++ct)if(isNaN(Ve[ct]))Je[ct]=65535;else if(Ve[ct]===1/0)Je[ct]=31744;else if(Ve[ct]===-1/0)Je[ct]=64512;else{Me[0]=Ve[ct];var st=(Ue=Le[0])>>>31<<15,je=(Ue<<1>>>24)-127,Ue=Ue>>13&1023;Je[ct]=-24>je?st:-14>je?st+(Ue+1024>>-14-je):15<je?st+31744:st+(je+15<<10)+Ue}return Je}function b(Ve){return Array.isArray(Ve)||be(Ve)}function d(Ve){return"[object "+Ve+"]"}function g(Ve){return Array.isArray(Ve)&&(Ve.length===0||typeof Ve[0]=="number")}function m(Ve){return!(!Array.isArray(Ve)||Ve.length===0||!b(Ve[0]))}function y(Ve){return Object.prototype.toString.call(Ve)}function x(Ve){if(!Ve)return!1;var Je=y(Ve);return 0<=Ye.indexOf(Je)||g(Ve)||m(Ve)||t(Ve)}function T(Ve,Je){Ve.type===36193?(Ve.data=c(Je),ge.freeType(Je)):Ve.data=Je}function p(Ve,Je,ct,st,je,Ue){if(Ve=ut[Ve]!==void 0?ut[Ve]:pe[Ve]*et[Je],Ue&&(Ve*=6),je){for(st=0;1<=ct;)st+=Ve*ct*ct,ct/=2;return st}return Ve*ct*st}function S(Ve,Je,ct,st,je,Ue,lt){function Qe(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function gt(Zt,mn){Zt.internalformat=mn.internalformat,Zt.format=mn.format,Zt.type=mn.type,Zt.compressed=mn.compressed,Zt.premultiplyAlpha=mn.premultiplyAlpha,Zt.flipY=mn.flipY,Zt.unpackAlignment=mn.unpackAlignment,Zt.colorSpace=mn.colorSpace,Zt.width=mn.width,Zt.height=mn.height,Zt.channels=mn.channels}function mt(Zt,mn){if(typeof mn=="object"&&mn){"premultiplyAlpha"in mn&&(Zt.premultiplyAlpha=mn.premultiplyAlpha),"flipY"in mn&&(Zt.flipY=mn.flipY),"alignment"in mn&&(Zt.unpackAlignment=mn.alignment),"colorSpace"in mn&&(Zt.colorSpace=zn[mn.colorSpace]),"type"in mn&&(Zt.type=Pn[mn.type]);var It=Zt.width,Xt=Zt.height,tn=Zt.channels,bn=!1;"shape"in mn?(It=mn.shape[0],Xt=mn.shape[1],mn.shape.length===3&&(tn=mn.shape[2],bn=!0)):("radius"in mn&&(It=Xt=mn.radius),"width"in mn&&(It=mn.width),"height"in mn&&(Xt=mn.height),"channels"in mn&&(tn=mn.channels,bn=!0)),Zt.width=0|It,Zt.height=0|Xt,Zt.channels=0|tn,It=!1,"format"in mn&&(It=mn.format,Xt=Zt.internalformat=Gn[It],Zt.format=_n[Xt],It in Pn&&!("type"in mn)&&(Zt.type=Pn[It]),It in Nn&&(Zt.compressed=!0),It=!0),!bn&&It?Zt.channels=pe[Zt.format]:bn&&!It&&Zt.channels!==Be[Zt.format]&&(Zt.format=Zt.internalformat=Be[Zt.channels])}}function xt(Zt){Ve.pixelStorei(37440,Zt.flipY),Ve.pixelStorei(37441,Zt.premultiplyAlpha),Ve.pixelStorei(37443,Zt.colorSpace),Ve.pixelStorei(3317,Zt.unpackAlignment)}function dt(){Qe.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Lt(Zt,mn){var It=null;if(x(mn)?It=mn:mn&&(mt(Zt,mn),"x"in mn&&(Zt.xOffset=0|mn.x),"y"in mn&&(Zt.yOffset=0|mn.y),x(mn.data)&&(It=mn.data)),mn.copy){var Xt=je.viewportWidth,tn=je.viewportHeight;Zt.width=Zt.width||Xt-Zt.xOffset,Zt.height=Zt.height||tn-Zt.yOffset,Zt.needsCopy=!0}else if(It){if(be(It))Zt.channels=Zt.channels||4,Zt.data=It,"type"in mn||Zt.type!==5121||(Zt.type=0|me[Object.prototype.toString.call(It)]);else if(g(It)){switch(Zt.channels=Zt.channels||4,tn=(Xt=It).length,Zt.type){case 5121:case 5123:case 5125:case 5126:(tn=ge.allocType(Zt.type,tn)).set(Xt),Zt.data=tn;break;case 36193:Zt.data=c(Xt)}Zt.alignment=1,Zt.needsFree=!0}else if(t(It)){Xt=It.data,Array.isArray(Xt)||Zt.type!==5121||(Zt.type=0|me[Object.prototype.toString.call(Xt)]),tn=It.shape;var bn,yn,Tn,fn,$t=It.stride;tn.length===3?(Tn=tn[2],fn=$t[2]):fn=Tn=1,bn=tn[0],yn=tn[1],tn=$t[0],$t=$t[1],Zt.alignment=1,Zt.width=bn,Zt.height=yn,Zt.channels=Tn,Zt.format=Zt.internalformat=Be[Tn],Zt.needsFree=!0,bn=fn,It=It.offset,Tn=Zt.width,fn=Zt.height,yn=Zt.channels;for(var en=ge.allocType(Zt.type===36193?5126:Zt.type,Tn*fn*yn),ln=0,pn=0;pn<fn;++pn)for(var Ln=0;Ln<Tn;++Ln)for(var In=0;In<yn;++In)en[ln++]=Xt[tn*Ln+$t*pn+bn*In+It];T(Zt,en)}else if(y(It)===_e||y(It)===Te||y(It)===Re)y(It)===_e||y(It)===Te?Zt.element=It:Zt.element=It.canvas,Zt.width=Zt.element.width,Zt.height=Zt.element.height,Zt.channels=4;else if(y(It)===Ne)Zt.element=It,Zt.width=It.width,Zt.height=It.height,Zt.channels=4;else if(y(It)===ze)Zt.element=It,Zt.width=It.naturalWidth,Zt.height=It.naturalHeight,Zt.channels=4;else if(y(It)===Ge)Zt.element=It,Zt.width=It.videoWidth,Zt.height=It.videoHeight,Zt.channels=4;else if(m(It)){for(Xt=Zt.width||It[0].length,tn=Zt.height||It.length,$t=Zt.channels,$t=b(It[0][0])?$t||It[0][0].length:$t||1,bn=ye.shape(It),Tn=1,fn=0;fn<bn.length;++fn)Tn*=bn[fn];Tn=ge.allocType(Zt.type===36193?5126:Zt.type,Tn),ye.flatten(It,bn,"",Tn),T(Zt,Tn),Zt.alignment=1,Zt.width=Xt,Zt.height=tn,Zt.channels=$t,Zt.format=Zt.internalformat=Be[$t],Zt.needsFree=!0}}else Zt.width=Zt.width||1,Zt.height=Zt.height||1,Zt.channels=Zt.channels||4}function kt(Zt,mn,It,Xt,tn){var bn=Zt.element,yn=Zt.data,Tn=Zt.internalformat,fn=Zt.format,$t=Zt.type,en=Zt.width,ln=Zt.height;xt(Zt),bn?Ve.texSubImage2D(mn,tn,It,Xt,fn,$t,bn):Zt.compressed?Ve.compressedTexSubImage2D(mn,tn,It,Xt,Tn,en,ln,yn):Zt.needsCopy?(st(),Ve.copyTexSubImage2D(mn,tn,It,Xt,Zt.xOffset,Zt.yOffset,en,ln)):Ve.texSubImage2D(mn,tn,It,Xt,en,ln,fn,$t,yn)}function _t(){return vn.pop()||new dt}function Ot(Zt){Zt.needsFree&&ge.freeType(Zt.data),dt.call(Zt),vn.push(Zt)}function Pt(){Qe.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Bt(Zt,mn,It){var Xt=Zt.images[0]=_t();Zt.mipmask=1,Xt.width=Zt.width=mn,Xt.height=Zt.height=It,Xt.channels=Zt.channels=4}function Jt(Zt,mn){var It=null;if(x(mn))gt(It=Zt.images[0]=_t(),Zt),Lt(It,mn),Zt.mipmask=1;else if(mt(Zt,mn),Array.isArray(mn.mipmap))for(var Xt=mn.mipmap,tn=0;tn<Xt.length;++tn)gt(It=Zt.images[tn]=_t(),Zt),It.width>>=tn,It.height>>=tn,Lt(It,Xt[tn]),Zt.mipmask|=1<<tn;else gt(It=Zt.images[0]=_t(),Zt),Lt(It,mn),Zt.mipmask=1;gt(Zt,Zt.images[0])}function on(Zt,mn){for(var It=Zt.images,Xt=0;Xt<It.length&&It[Xt];++Xt){var tn=It[Xt],bn=mn,yn=Xt,Tn=tn.element,fn=tn.data,$t=tn.internalformat,en=tn.format,ln=tn.type,pn=tn.width,Ln=tn.height;xt(tn),Tn?Ve.texImage2D(bn,yn,en,en,ln,Tn):tn.compressed?Ve.compressedTexImage2D(bn,yn,$t,pn,Ln,0,fn):tn.needsCopy?(st(),Ve.copyTexImage2D(bn,yn,en,tn.xOffset,tn.yOffset,pn,Ln,0)):Ve.texImage2D(bn,yn,en,pn,Ln,0,en,ln,fn||null)}}function qt(){var Zt=En.pop()||new Pt;Qe.call(Zt);for(var mn=Zt.mipmask=0;16>mn;++mn)Zt.images[mn]=null;return Zt}function Gt(Zt){for(var mn=Zt.images,It=0;It<mn.length;++It)mn[It]&&Ot(mn[It]),mn[It]=null;En.push(Zt)}function nn(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function Cn(Zt,mn){"min"in mn&&(Zt.minFilter=Rn[mn.min],0<=Oe.indexOf(Zt.minFilter)&&!("faces"in mn)&&(Zt.genMipmaps=!0)),"mag"in mn&&(Zt.magFilter=Sn[mn.mag]);var It=Zt.wrapS,Xt=Zt.wrapT;if("wrap"in mn){var tn=mn.wrap;typeof tn=="string"?It=Xt=kn[tn]:Array.isArray(tn)&&(It=kn[tn[0]],Xt=kn[tn[1]])}else"wrapS"in mn&&(It=kn[mn.wrapS]),"wrapT"in mn&&(Xt=kn[mn.wrapT]);if(Zt.wrapS=It,Zt.wrapT=Xt,"anisotropic"in mn&&(Zt.anisotropic=mn.anisotropic),"mipmap"in mn){switch(It=!1,typeof mn.mipmap){case"string":Zt.mipmapHint=hn[mn.mipmap],It=Zt.genMipmaps=!0;break;case"boolean":It=Zt.genMipmaps=mn.mipmap;break;case"object":Zt.genMipmaps=!1,It=!0}!It||"min"in mn||(Zt.minFilter=9984)}}function An(Zt,mn){Ve.texParameteri(mn,10241,Zt.minFilter),Ve.texParameteri(mn,10240,Zt.magFilter),Ve.texParameteri(mn,10242,Zt.wrapS),Ve.texParameteri(mn,10243,Zt.wrapT),Je.ext_texture_filter_anisotropic&&Ve.texParameteri(mn,34046,Zt.anisotropic),Zt.genMipmaps&&(Ve.hint(33170,Zt.mipmapHint),Ve.generateMipmap(mn))}function dn(Zt){Qe.call(this),this.mipmask=0,this.internalformat=6408,this.id=Yn++,this.refCount=1,this.target=Zt,this.texture=Ve.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new nn,lt.profile&&(this.stats={size:0})}function Kt(Zt){Ve.activeTexture(33984),Ve.bindTexture(Zt.target,Zt.texture)}function un(){var Zt=ir[0];Zt?Ve.bindTexture(Zt.target,Zt.texture):Ve.bindTexture(3553,null)}function rn(Zt){var mn=Zt.texture,It=Zt.unit,Xt=Zt.target;0<=It&&(Ve.activeTexture(33984+It),Ve.bindTexture(Xt,null),ir[It]=null),Ve.deleteTexture(mn),Zt.texture=null,Zt.params=null,Zt.pixels=null,Zt.refCount=0,delete Fn[Zt.id],Ue.textureCount--}var hn={"don't care":4352,"dont care":4352,nice:4354,fast:4353},kn={repeat:10497,clamp:33071,mirror:33648},Sn={nearest:9728,linear:9729},Rn=ee({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Sn),zn={none:0,browser:37444},Pn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Gn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Nn={};Je.ext_srgb&&(Gn.srgb=35904,Gn.srgba=35906),Je.oes_texture_float&&(Pn.float32=Pn.float=5126),Je.oes_texture_half_float&&(Pn.float16=Pn["half float"]=36193),Je.webgl_depth_texture&&(ee(Gn,{depth:6402,"depth stencil":34041}),ee(Pn,{uint16:5123,uint32:5125,"depth stencil":34042})),Je.webgl_compressed_texture_s3tc&&ee(Nn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Je.webgl_compressed_texture_atc&&ee(Nn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Je.webgl_compressed_texture_pvrtc&&ee(Nn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Je.webgl_compressed_texture_etc1&&(Nn["rgb etc1"]=36196);var or=Array.prototype.slice.call(Ve.getParameter(34467));Object.keys(Nn).forEach(function(Zt){var mn=Nn[Zt];0<=or.indexOf(mn)&&(Gn[Zt]=mn)});var lr=Object.keys(Gn);ct.textureFormats=lr;var cr=[];Object.keys(Gn).forEach(function(Zt){cr[Gn[Zt]]=Zt});var $n=[];Object.keys(Pn).forEach(function(Zt){$n[Pn[Zt]]=Zt});var Ar=[];Object.keys(Sn).forEach(function(Zt){Ar[Sn[Zt]]=Zt});var Ht=[];Object.keys(Rn).forEach(function(Zt){Ht[Rn[Zt]]=Zt});var an=[];Object.keys(kn).forEach(function(Zt){an[kn[Zt]]=Zt});var _n=lr.reduce(function(Zt,mn){var It=Gn[mn];return It===6409||It===6406||It===6409||It===6410||It===6402||It===34041||Je.ext_srgb&&(It===35904||It===35906)?Zt[It]=It:It===32855||0<=mn.indexOf("rgba")?Zt[It]=6408:Zt[It]=6407,Zt},{}),vn=[],En=[],Yn=0,Fn={},jn=ct.maxTextureUnits,ir=Array(jn).map(function(){return null});return ee(dn.prototype,{bind:function(){this.bindCount+=1;var Zt=this.unit;if(0>Zt){for(var mn=0;mn<jn;++mn){var It=ir[mn];if(It){if(0<It.bindCount)continue;It.unit=-1}ir[mn]=this,Zt=mn;break}lt.profile&&Ue.maxTextureUnits<Zt+1&&(Ue.maxTextureUnits=Zt+1),this.unit=Zt,Ve.activeTexture(33984+Zt),Ve.bindTexture(this.target,this.texture)}return Zt},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&rn(this)}}),lt.profile&&(Ue.getTotalTextureSize=function(){var Zt=0;return Object.keys(Fn).forEach(function(mn){Zt+=Fn[mn].stats.size}),Zt}),{create2D:function(Zt,mn){function It(tn,bn){var yn=Xt.texInfo;nn.call(yn);var Tn=qt();return typeof tn=="number"?Bt(Tn,0|tn,typeof bn=="number"?0|bn:0|tn):tn?(Cn(yn,tn),Jt(Tn,tn)):Bt(Tn,1,1),yn.genMipmaps&&(Tn.mipmask=(Tn.width<<1)-1),Xt.mipmask=Tn.mipmask,gt(Xt,Tn),Xt.internalformat=Tn.internalformat,It.width=Tn.width,It.height=Tn.height,Kt(Xt),on(Tn,3553),An(yn,3553),un(),Gt(Tn),lt.profile&&(Xt.stats.size=p(Xt.internalformat,Xt.type,Tn.width,Tn.height,yn.genMipmaps,!1)),It.format=cr[Xt.internalformat],It.type=$n[Xt.type],It.mag=Ar[yn.magFilter],It.min=Ht[yn.minFilter],It.wrapS=an[yn.wrapS],It.wrapT=an[yn.wrapT],It}var Xt=new dn(3553);return Fn[Xt.id]=Xt,Ue.textureCount++,It(Zt,mn),It.subimage=function(tn,bn,yn,Tn){bn|=0,yn|=0,Tn|=0;var fn=_t();return gt(fn,Xt),fn.width=0,fn.height=0,Lt(fn,tn),fn.width=fn.width||(Xt.width>>Tn)-bn,fn.height=fn.height||(Xt.height>>Tn)-yn,Kt(Xt),kt(fn,3553,bn,yn,Tn),un(),Ot(fn),It},It.resize=function(tn,bn){var yn=0|tn,Tn=0|bn||yn;if(yn===Xt.width&&Tn===Xt.height)return It;It.width=Xt.width=yn,It.height=Xt.height=Tn,Kt(Xt);for(var fn=0;Xt.mipmask>>fn;++fn){var $t=yn>>fn,en=Tn>>fn;if(!$t||!en)break;Ve.texImage2D(3553,fn,Xt.format,$t,en,0,Xt.format,Xt.type,null)}return un(),lt.profile&&(Xt.stats.size=p(Xt.internalformat,Xt.type,yn,Tn,!1,!1)),It},It._reglType="texture2d",It._texture=Xt,lt.profile&&(It.stats=Xt.stats),It.destroy=function(){Xt.decRef()},It},createCube:function(Zt,mn,It,Xt,tn,bn){function yn($t,en,ln,pn,Ln,In){var Hn,qn=Tn.texInfo;for(nn.call(qn),Hn=0;6>Hn;++Hn)fn[Hn]=qt();if(typeof $t!="number"&&$t){if(typeof $t=="object")if(en)Jt(fn[0],$t),Jt(fn[1],en),Jt(fn[2],ln),Jt(fn[3],pn),Jt(fn[4],Ln),Jt(fn[5],In);else if(Cn(qn,$t),mt(Tn,$t),"faces"in $t)for($t=$t.faces,Hn=0;6>Hn;++Hn)gt(fn[Hn],Tn),Jt(fn[Hn],$t[Hn]);else for(Hn=0;6>Hn;++Hn)Jt(fn[Hn],$t)}else for($t=0|$t||1,Hn=0;6>Hn;++Hn)Bt(fn[Hn],$t,$t);for(gt(Tn,fn[0]),Tn.mipmask=qn.genMipmaps?(fn[0].width<<1)-1:fn[0].mipmask,Tn.internalformat=fn[0].internalformat,yn.width=fn[0].width,yn.height=fn[0].height,Kt(Tn),Hn=0;6>Hn;++Hn)on(fn[Hn],34069+Hn);for(An(qn,34067),un(),lt.profile&&(Tn.stats.size=p(Tn.internalformat,Tn.type,yn.width,yn.height,qn.genMipmaps,!0)),yn.format=cr[Tn.internalformat],yn.type=$n[Tn.type],yn.mag=Ar[qn.magFilter],yn.min=Ht[qn.minFilter],yn.wrapS=an[qn.wrapS],yn.wrapT=an[qn.wrapT],Hn=0;6>Hn;++Hn)Gt(fn[Hn]);return yn}var Tn=new dn(34067);Fn[Tn.id]=Tn,Ue.cubeCount++;var fn=Array(6);return yn(Zt,mn,It,Xt,tn,bn),yn.subimage=function($t,en,ln,pn,Ln){ln|=0,pn|=0,Ln|=0;var In=_t();return gt(In,Tn),In.width=0,In.height=0,Lt(In,en),In.width=In.width||(Tn.width>>Ln)-ln,In.height=In.height||(Tn.height>>Ln)-pn,Kt(Tn),kt(In,34069+$t,ln,pn,Ln),un(),Ot(In),yn},yn.resize=function($t){if(($t|=0)!==Tn.width){yn.width=Tn.width=$t,yn.height=Tn.height=$t,Kt(Tn);for(var en=0;6>en;++en)for(var ln=0;Tn.mipmask>>ln;++ln)Ve.texImage2D(34069+en,ln,Tn.format,$t>>ln,$t>>ln,0,Tn.format,Tn.type,null);return un(),lt.profile&&(Tn.stats.size=p(Tn.internalformat,Tn.type,yn.width,yn.height,!1,!0)),yn}},yn._reglType="textureCube",yn._texture=Tn,lt.profile&&(yn.stats=Tn.stats),yn.destroy=function(){Tn.decRef()},yn},clear:function(){for(var Zt=0;Zt<jn;++Zt)Ve.activeTexture(33984+Zt),Ve.bindTexture(3553,null),ir[Zt]=null;we(Fn).forEach(rn),Ue.cubeCount=0,Ue.textureCount=0},getTexture:function(Zt){return null},restore:function(){for(var Zt=0;Zt<jn;++Zt){var mn=ir[Zt];mn&&(mn.bindCount=0,mn.unit=-1,ir[Zt]=null)}we(Fn).forEach(function(It){It.texture=Ve.createTexture(),Ve.bindTexture(It.target,It.texture);for(var Xt=0;32>Xt;++Xt)if(It.mipmask&1<<Xt)if(It.target===3553)Ve.texImage2D(3553,Xt,It.internalformat,It.width>>Xt,It.height>>Xt,0,It.internalformat,It.type,null);else for(var tn=0;6>tn;++tn)Ve.texImage2D(34069+tn,Xt,It.internalformat,It.width>>Xt,It.height>>Xt,0,It.internalformat,It.type,null);An(It.texInfo,It.target)})},refresh:function(){for(var Zt=0;Zt<jn;++Zt){var mn=ir[Zt];mn&&(mn.bindCount=0,mn.unit=-1,ir[Zt]=null),Ve.activeTexture(33984+Zt),Ve.bindTexture(3553,null),Ve.bindTexture(34067,null)}}}}function M(Ve,Je,ct,st,je,Ue){function lt(dn,Kt,un){this.target=dn,this.texture=Kt,this.renderbuffer=un;var rn=dn=0;Kt?(dn=Kt.width,rn=Kt.height):un&&(dn=un.width,rn=un.height),this.width=dn,this.height=rn}function Qe(dn){dn&&(dn.texture&&dn.texture._texture.decRef(),dn.renderbuffer&&dn.renderbuffer._renderbuffer.decRef())}function gt(dn,Kt,un){dn&&(dn.texture?dn.texture._texture.refCount+=1:dn.renderbuffer._renderbuffer.refCount+=1)}function mt(dn,Kt){Kt&&(Kt.texture?Ve.framebufferTexture2D(36160,dn,Kt.target,Kt.texture._texture.texture,0):Ve.framebufferRenderbuffer(36160,dn,36161,Kt.renderbuffer._renderbuffer.renderbuffer))}function xt(dn){var Kt=3553,un=null,rn=null,hn=dn;return typeof dn=="object"&&(hn=dn.data,"target"in dn&&(Kt=0|dn.target)),(dn=hn._reglType)==="texture2d"||dn==="textureCube"?un=hn:dn==="renderbuffer"&&(rn=hn,Kt=36161),new lt(Kt,un,rn)}function dt(dn,Kt,un,rn,hn){return un?((dn=st.create2D({width:dn,height:Kt,format:rn,type:hn}))._texture.refCount=0,new lt(3553,dn,null)):((dn=je.create({width:dn,height:Kt,format:rn}))._renderbuffer.refCount=0,new lt(36161,null,dn))}function Lt(dn){return dn&&(dn.texture||dn.renderbuffer)}function kt(dn,Kt,un){dn&&(dn.texture?dn.texture.resize(Kt,un):dn.renderbuffer&&dn.renderbuffer.resize(Kt,un),dn.width=Kt,dn.height=un)}function _t(){this.id=Cn++,An[this.id]=this,this.framebuffer=Ve.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function Ot(dn){dn.colorAttachments.forEach(Qe),Qe(dn.depthAttachment),Qe(dn.stencilAttachment),Qe(dn.depthStencilAttachment)}function Pt(dn){Ve.deleteFramebuffer(dn.framebuffer),dn.framebuffer=null,Ue.framebufferCount--,delete An[dn.id]}function Bt(dn){var Kt;Ve.bindFramebuffer(36160,dn.framebuffer);var un=dn.colorAttachments;for(Kt=0;Kt<un.length;++Kt)mt(36064+Kt,un[Kt]);for(Kt=un.length;Kt<ct.maxColorAttachments;++Kt)Ve.framebufferTexture2D(36160,36064+Kt,3553,null,0);Ve.framebufferTexture2D(36160,33306,3553,null,0),Ve.framebufferTexture2D(36160,36096,3553,null,0),Ve.framebufferTexture2D(36160,36128,3553,null,0),mt(36096,dn.depthAttachment),mt(36128,dn.stencilAttachment),mt(33306,dn.depthStencilAttachment),Ve.checkFramebufferStatus(36160),Ve.isContextLost(),Ve.bindFramebuffer(36160,on.next?on.next.framebuffer:null),on.cur=on.next,Ve.getError()}function Jt(dn,Kt){function un(hn,kn){var Sn,Rn=0,zn=0,Pn=!0,Gn=!0;Sn=null;var Nn=!0,or="rgba",lr="uint8",cr=1,$n=null,Ar=null,Ht=null,an=!1;typeof hn=="number"?(Rn=0|hn,zn=0|kn||Rn):hn?("shape"in hn?(Rn=(zn=hn.shape)[0],zn=zn[1]):("radius"in hn&&(Rn=zn=hn.radius),"width"in hn&&(Rn=hn.width),"height"in hn&&(zn=hn.height)),("color"in hn||"colors"in hn)&&(Sn=hn.color||hn.colors,Array.isArray(Sn)),Sn||("colorCount"in hn&&(cr=0|hn.colorCount),"colorTexture"in hn&&(Nn=!!hn.colorTexture,or="rgba4"),"colorType"in hn&&(lr=hn.colorType,!Nn)&&(lr==="half float"||lr==="float16"?or="rgba16f":lr!=="float"&&lr!=="float32"||(or="rgba32f")),"colorFormat"in hn&&(or=hn.colorFormat,0<=qt.indexOf(or)?Nn=!0:0<=Gt.indexOf(or)&&(Nn=!1))),("depthTexture"in hn||"depthStencilTexture"in hn)&&(an=!(!hn.depthTexture&&!hn.depthStencilTexture)),"depth"in hn&&(typeof hn.depth=="boolean"?Pn=hn.depth:($n=hn.depth,Gn=!1)),"stencil"in hn&&(typeof hn.stencil=="boolean"?Gn=hn.stencil:(Ar=hn.stencil,Pn=!1)),"depthStencil"in hn&&(typeof hn.depthStencil=="boolean"?Pn=Gn=hn.depthStencil:(Ht=hn.depthStencil,Gn=Pn=!1))):Rn=zn=1;var _n=null,vn=null,En=null,Yn=null;if(Array.isArray(Sn))_n=Sn.map(xt);else if(Sn)_n=[xt(Sn)];else for(_n=Array(cr),Sn=0;Sn<cr;++Sn)_n[Sn]=dt(Rn,zn,Nn,or,lr);for(Rn=Rn||_n[0].width,zn=zn||_n[0].height,$n?vn=xt($n):Pn&&!Gn&&(vn=dt(Rn,zn,an,"depth","uint32")),Ar?En=xt(Ar):Gn&&!Pn&&(En=dt(Rn,zn,!1,"stencil","uint8")),Ht?Yn=xt(Ht):!$n&&!Ar&&Gn&&Pn&&(Yn=dt(Rn,zn,an,"depth stencil","depth stencil")),Pn=null,Sn=0;Sn<_n.length;++Sn)gt(_n[Sn]),_n[Sn]&&_n[Sn].texture&&(Gn=wt[_n[Sn].texture._texture.format]*bt[_n[Sn].texture._texture.type],Pn===null&&(Pn=Gn));return gt(vn),gt(En),gt(Yn),Ot(rn),rn.width=Rn,rn.height=zn,rn.colorAttachments=_n,rn.depthAttachment=vn,rn.stencilAttachment=En,rn.depthStencilAttachment=Yn,un.color=_n.map(Lt),un.depth=Lt(vn),un.stencil=Lt(En),un.depthStencil=Lt(Yn),un.width=rn.width,un.height=rn.height,Bt(rn),un}var rn=new _t;return Ue.framebufferCount++,un(dn,Kt),ee(un,{resize:function(hn,kn){var Sn=Math.max(0|hn,1),Rn=Math.max(0|kn||Sn,1);if(Sn===rn.width&&Rn===rn.height)return un;for(var zn=rn.colorAttachments,Pn=0;Pn<zn.length;++Pn)kt(zn[Pn],Sn,Rn);return kt(rn.depthAttachment,Sn,Rn),kt(rn.stencilAttachment,Sn,Rn),kt(rn.depthStencilAttachment,Sn,Rn),rn.width=un.width=Sn,rn.height=un.height=Rn,Bt(rn),un},_reglType:"framebuffer",_framebuffer:rn,destroy:function(){Pt(rn),Ot(rn)},use:function(hn){on.setFBO({framebuffer:un},hn)}})}var on={cur:null,next:null,dirty:!1,setFBO:null},qt=["rgba"],Gt=["rgba4","rgb565","rgb5 a1"];Je.ext_srgb&&Gt.push("srgba"),Je.ext_color_buffer_half_float&&Gt.push("rgba16f","rgb16f"),Je.webgl_color_buffer_float&&Gt.push("rgba32f");var nn=["uint8"];Je.oes_texture_half_float&&nn.push("half float","float16"),Je.oes_texture_float&&nn.push("float","float32");var Cn=0,An={};return ee(on,{getFramebuffer:function(dn){return typeof dn=="function"&&dn._reglType==="framebuffer"&&(dn=dn._framebuffer)instanceof _t?dn:null},create:Jt,createCube:function(dn){function Kt(rn){var hn,kn={color:null},Sn=0,Rn=null;hn="rgba";var zn="uint8",Pn=1;if(typeof rn=="number"?Sn=0|rn:rn?("shape"in rn?Sn=rn.shape[0]:("radius"in rn&&(Sn=0|rn.radius),"width"in rn?Sn=0|rn.width:"height"in rn&&(Sn=0|rn.height)),("color"in rn||"colors"in rn)&&(Rn=rn.color||rn.colors,Array.isArray(Rn)),Rn||("colorCount"in rn&&(Pn=0|rn.colorCount),"colorType"in rn&&(zn=rn.colorType),"colorFormat"in rn&&(hn=rn.colorFormat)),"depth"in rn&&(kn.depth=rn.depth),"stencil"in rn&&(kn.stencil=rn.stencil),"depthStencil"in rn&&(kn.depthStencil=rn.depthStencil)):Sn=1,Rn)if(Array.isArray(Rn))for(rn=[],hn=0;hn<Rn.length;++hn)rn[hn]=Rn[hn];else rn=[Rn];else for(rn=Array(Pn),Rn={radius:Sn,format:hn,type:zn},hn=0;hn<Pn;++hn)rn[hn]=st.createCube(Rn);for(kn.color=Array(rn.length),hn=0;hn<rn.length;++hn)Pn=rn[hn],Sn=Sn||Pn.width,kn.color[hn]={target:34069,data:rn[hn]};for(hn=0;6>hn;++hn){for(Pn=0;Pn<rn.length;++Pn)kn.color[Pn].target=34069+hn;0<hn&&(kn.depth=un[0].depth,kn.stencil=un[0].stencil,kn.depthStencil=un[0].depthStencil),un[hn]?un[hn](kn):un[hn]=Jt(kn)}return ee(Kt,{width:Sn,height:Sn,color:rn})}var un=Array(6);return Kt(dn),ee(Kt,{faces:un,resize:function(rn){var hn=0|rn;if(hn===Kt.width)return Kt;var kn=Kt.color;for(rn=0;rn<kn.length;++rn)kn[rn].resize(hn);for(rn=0;6>rn;++rn)un[rn].resize(hn);return Kt.width=Kt.height=hn,Kt},_reglType:"framebufferCube",destroy:function(){un.forEach(function(rn){rn.destroy()})}})},clear:function(){we(An).forEach(Pt)},restore:function(){on.cur=null,on.next=null,on.dirty=!0,we(An).forEach(function(dn){dn.framebuffer=Ve.createFramebuffer(),Bt(dn)})}})}function E(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function P(Ve,Je,ct,st,je,Ue,lt){function Qe(){this.id=++xt,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var kt=Je.oes_vertex_array_object;this.vao=kt?kt.createVertexArrayOES():null,dt[this.id]=this,this.buffers=[]}var gt=ct.maxAttributes,mt=Array(gt);for(ct=0;ct<gt;++ct)mt[ct]=new E;var xt=0,dt={},Lt={Record:E,scope:{},state:mt,currentVAO:null,targetVAO:null,restore:Je.oes_vertex_array_object?function(){Je.oes_vertex_array_object&&we(dt).forEach(function(kt){kt.refresh()})}:function(){},createVAO:function(kt){function _t(Pt){var Bt;Array.isArray(Pt)?(Bt=Pt,Ot.elements&&Ot.ownsElements&&Ot.elements.destroy(),Ot.elements=null,Ot.ownsElements=!1,Ot.offset=0,Ot.count=0,Ot.instances=-1,Ot.primitive=4):(Pt.elements?(Bt=Pt.elements,Ot.ownsElements?(typeof Bt=="function"&&Bt._reglType==="elements"?Ot.elements.destroy():Ot.elements(Bt),Ot.ownsElements=!1):Ue.getElements(Pt.elements)?(Ot.elements=Pt.elements,Ot.ownsElements=!1):(Ot.elements=Ue.create(Pt.elements),Ot.ownsElements=!0)):(Ot.elements=null,Ot.ownsElements=!1),Bt=Pt.attributes,Ot.offset=0,Ot.count=-1,Ot.instances=-1,Ot.primitive=4,Ot.elements&&(Ot.count=Ot.elements._elements.vertCount,Ot.primitive=Ot.elements._elements.primType),"offset"in Pt&&(Ot.offset=0|Pt.offset),"count"in Pt&&(Ot.count=0|Pt.count),"instances"in Pt&&(Ot.instances=0|Pt.instances),"primitive"in Pt&&(Ot.primitive=Ce[Pt.primitive])),Pt={};var Jt=Ot.attributes;Jt.length=Bt.length;for(var on=0;on<Bt.length;++on){var qt,Gt=Bt[on],nn=Jt[on]=new E,Cn=Gt.data||Gt;Array.isArray(Cn)||be(Cn)||t(Cn)?(Ot.buffers[on]&&(qt=Ot.buffers[on],be(Cn)&&qt._buffer.byteLength>=Cn.byteLength?qt.subdata(Cn):(qt.destroy(),Ot.buffers[on]=null)),Ot.buffers[on]||(qt=Ot.buffers[on]=je.create(Gt,34962,!1,!0)),nn.buffer=je.getBuffer(qt),nn.size=0|nn.buffer.dimension,nn.normalized=!1,nn.type=nn.buffer.dtype,nn.offset=0,nn.stride=0,nn.divisor=0,nn.state=1,Pt[on]=1):je.getBuffer(Gt)?(nn.buffer=je.getBuffer(Gt),nn.size=0|nn.buffer.dimension,nn.normalized=!1,nn.type=nn.buffer.dtype,nn.offset=0,nn.stride=0,nn.divisor=0,nn.state=1):je.getBuffer(Gt.buffer)?(nn.buffer=je.getBuffer(Gt.buffer),nn.size=0|(+Gt.size||nn.buffer.dimension),nn.normalized=!!Gt.normalized||!1,nn.type="type"in Gt?Ae[Gt.type]:nn.buffer.dtype,nn.offset=0|(Gt.offset||0),nn.stride=0|(Gt.stride||0),nn.divisor=0|(Gt.divisor||0),nn.state=1):"x"in Gt&&(nn.x=+Gt.x||0,nn.y=+Gt.y||0,nn.z=+Gt.z||0,nn.w=+Gt.w||0,nn.state=2)}for(qt=0;qt<Ot.buffers.length;++qt)!Pt[qt]&&Ot.buffers[qt]&&(Ot.buffers[qt].destroy(),Ot.buffers[qt]=null);return Ot.refresh(),_t}var Ot=new Qe;return st.vaoCount+=1,_t.destroy=function(){for(var Pt=0;Pt<Ot.buffers.length;++Pt)Ot.buffers[Pt]&&Ot.buffers[Pt].destroy();Ot.buffers.length=0,Ot.ownsElements&&(Ot.elements.destroy(),Ot.elements=null,Ot.ownsElements=!1),Ot.destroy()},_t._vao=Ot,_t._reglType="vao",_t(kt)},getVAO:function(kt){return typeof kt=="function"&&kt._vao?kt._vao:null},destroyBuffer:function(kt){for(var _t=0;_t<mt.length;++_t){var Ot=mt[_t];Ot.buffer===kt&&(Ve.disableVertexAttribArray(_t),Ot.buffer=null)}},setVAO:Je.oes_vertex_array_object?function(kt){if(kt!==Lt.currentVAO){var _t=Je.oes_vertex_array_object;kt?_t.bindVertexArrayOES(kt.vao):_t.bindVertexArrayOES(null),Lt.currentVAO=kt}}:function(kt){if(kt!==Lt.currentVAO){if(kt)kt.bindAttrs();else{for(var _t=Je.angle_instanced_arrays,Ot=0;Ot<mt.length;++Ot){var Pt=mt[Ot];Pt.buffer?(Ve.enableVertexAttribArray(Ot),Pt.buffer.bind(),Ve.vertexAttribPointer(Ot,Pt.size,Pt.type,Pt.normalized,Pt.stride,Pt.offfset),_t&&Pt.divisor&&_t.vertexAttribDivisorANGLE(Ot,Pt.divisor)):(Ve.disableVertexAttribArray(Ot),Ve.vertexAttrib4f(Ot,Pt.x,Pt.y,Pt.z,Pt.w))}lt.elements?Ve.bindBuffer(34963,lt.elements.buffer.buffer):Ve.bindBuffer(34963,null)}Lt.currentVAO=kt}},clear:Je.oes_vertex_array_object?function(){we(dt).forEach(function(kt){kt.destroy()})}:function(){}};return Qe.prototype.bindAttrs=function(){for(var kt=Je.angle_instanced_arrays,_t=this.attributes,Ot=0;Ot<_t.length;++Ot){var Pt=_t[Ot];Pt.buffer?(Ve.enableVertexAttribArray(Ot),Ve.bindBuffer(34962,Pt.buffer.buffer),Ve.vertexAttribPointer(Ot,Pt.size,Pt.type,Pt.normalized,Pt.stride,Pt.offset),kt&&Pt.divisor&&kt.vertexAttribDivisorANGLE(Ot,Pt.divisor)):(Ve.disableVertexAttribArray(Ot),Ve.vertexAttrib4f(Ot,Pt.x,Pt.y,Pt.z,Pt.w))}for(kt=_t.length;kt<gt;++kt)Ve.disableVertexAttribArray(kt);(kt=Ue.getElements(this.elements))?Ve.bindBuffer(34963,kt.buffer.buffer):Ve.bindBuffer(34963,null)},Qe.prototype.refresh=function(){var kt=Je.oes_vertex_array_object;kt&&(kt.bindVertexArrayOES(this.vao),this.bindAttrs(),Lt.currentVAO=null,kt.bindVertexArrayOES(null))},Qe.prototype.destroy=function(){if(this.vao){var kt=Je.oes_vertex_array_object;this===Lt.currentVAO&&(Lt.currentVAO=null,kt.bindVertexArrayOES(null)),kt.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),dt[this.id]&&(delete dt[this.id],--st.vaoCount)},Lt}function O(Ve,Je,ct,st){function je(_t,Ot,Pt,Bt){this.name=_t,this.id=Ot,this.location=Pt,this.info=Bt}function Ue(_t,Ot){for(var Pt=0;Pt<_t.length;++Pt)if(_t[Pt].id===Ot.id)return void(_t[Pt].location=Ot.location);_t.push(Ot)}function lt(_t,Ot,Pt){if(!(Jt=(Pt=_t===35632?mt:xt)[Ot])){var Bt=Je.str(Ot),Jt=Ve.createShader(_t);Ve.shaderSource(Jt,Bt),Ve.compileShader(Jt),Pt[Ot]=Jt}return Jt}function Qe(_t,Ot){this.id=kt++,this.fragId=_t,this.vertId=Ot,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,st.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function gt(_t,Ot,Pt){var Bt;Bt=lt(35632,_t.fragId);var Jt=lt(35633,_t.vertId);if(Ot=_t.program=Ve.createProgram(),Ve.attachShader(Ot,Bt),Ve.attachShader(Ot,Jt),Pt)for(Bt=0;Bt<Pt.length;++Bt)Jt=Pt[Bt],Ve.bindAttribLocation(Ot,Jt[0],Jt[1]);Ve.linkProgram(Ot),Jt=Ve.getProgramParameter(Ot,35718),st.profile&&(_t.stats.uniformsCount=Jt);var on=_t.uniforms;for(Bt=0;Bt<Jt;++Bt)if(Pt=Ve.getActiveUniform(Ot,Bt))if(1<Pt.size)for(var qt=0;qt<Pt.size;++qt){var Gt=Pt.name.replace("[0]","["+qt+"]");Ue(on,new je(Gt,Je.id(Gt),Ve.getUniformLocation(Ot,Gt),Pt))}else Ue(on,new je(Pt.name,Je.id(Pt.name),Ve.getUniformLocation(Ot,Pt.name),Pt));for(Jt=Ve.getProgramParameter(Ot,35721),st.profile&&(_t.stats.attributesCount=Jt),_t=_t.attributes,Bt=0;Bt<Jt;++Bt)(Pt=Ve.getActiveAttrib(Ot,Bt))&&Ue(_t,new je(Pt.name,Je.id(Pt.name),Ve.getAttribLocation(Ot,Pt.name),Pt))}var mt={},xt={},dt={},Lt=[],kt=0;return st.profile&&(ct.getMaxUniformsCount=function(){var _t=0;return Lt.forEach(function(Ot){Ot.stats.uniformsCount>_t&&(_t=Ot.stats.uniformsCount)}),_t},ct.getMaxAttributesCount=function(){var _t=0;return Lt.forEach(function(Ot){Ot.stats.attributesCount>_t&&(_t=Ot.stats.attributesCount)}),_t}),{clear:function(){var _t=Ve.deleteShader.bind(Ve);we(mt).forEach(_t),mt={},we(xt).forEach(_t),xt={},Lt.forEach(function(Ot){Ve.deleteProgram(Ot.program)}),Lt.length=0,dt={},ct.shaderCount=0},program:function(_t,Ot,Pt,Bt){var Jt=dt[Ot];Jt||(Jt=dt[Ot]={});var on=Jt[_t];if(on&&(on.refCount++,!Bt))return on;var qt=new Qe(Ot,_t);return ct.shaderCount++,gt(qt,Pt,Bt),on||(Jt[_t]=qt),Lt.push(qt),ee(qt,{destroy:function(){if(qt.refCount--,0>=qt.refCount){Ve.deleteProgram(qt.program);var Gt=Lt.indexOf(qt);Lt.splice(Gt,1),ct.shaderCount--}0>=Jt[qt.vertId].refCount&&(Ve.deleteShader(xt[qt.vertId]),delete xt[qt.vertId],delete dt[qt.fragId][qt.vertId]),Object.keys(dt[qt.fragId]).length||(Ve.deleteShader(mt[qt.fragId]),delete mt[qt.fragId],delete dt[qt.fragId])}})},restore:function(){mt={},xt={};for(var _t=0;_t<Lt.length;++_t)gt(Lt[_t],null,Lt[_t].attributes.map(function(Ot){return[Ot.location,Ot.name]}))},shader:lt,frag:-1,vert:-1}}function I(Ve,Je,ct,st,je,Ue,lt){function Qe(gt){var mt;mt=Je.next===null?5121:Je.next.colorAttachments[0].texture._texture.type;var xt=0,dt=0,Lt=st.framebufferWidth,kt=st.framebufferHeight,_t=null;return be(gt)?_t=gt:gt&&(xt=0|gt.x,dt=0|gt.y,Lt=0|(gt.width||st.framebufferWidth-xt),kt=0|(gt.height||st.framebufferHeight-dt),_t=gt.data||null),ct(),gt=Lt*kt*4,_t||(mt===5121?_t=new Uint8Array(gt):mt===5126&&(_t=_t||new Float32Array(gt))),Ve.pixelStorei(3333,4),Ve.readPixels(xt,dt,Lt,kt,6408,mt,_t),_t}return function(gt){return gt&&"framebuffer"in gt?function(mt){var xt;return Je.setFBO({framebuffer:mt.framebuffer},function(){xt=Qe(mt)}),xt}(gt):Qe(gt)}}function R(Ve,Je){return Ve>>>Je|Ve<<32-Je}function U(Ve,Je){var ct=(65535&Ve)+(65535&Je);return(Ve>>16)+(Je>>16)+(ct>>16)<<16|65535&ct}function z(Ve){return Array.prototype.slice.call(Ve)}function j(Ve){return z(Ve).join("")}function W(Ve){function Je(){var xt=[],dt=[];return ee(function(){xt.push.apply(xt,z(arguments))},{def:function(){var Lt="v"+je++;return dt.push(Lt),0<arguments.length&&(xt.push(Lt,"="),xt.push.apply(xt,z(arguments)),xt.push(";")),Lt},toString:function(){return j([0<dt.length?"var "+dt.join(",")+";":"",j(xt)])}})}function ct(){function xt(Ot,Pt){Lt(Ot,Pt,"=",dt.def(Ot,Pt),";")}var dt=Je(),Lt=Je(),kt=dt.toString,_t=Lt.toString;return ee(function(){dt.apply(dt,z(arguments))},{def:dt.def,entry:dt,exit:Lt,save:xt,set:function(Ot,Pt,Bt){xt(Ot,Pt),dt(Ot,Pt,"=",Bt,";")},toString:function(){return kt()+_t()}})}var st=Ve&&Ve.cache,je=0,Ue=[],lt=[],Qe=[],gt=Je(),mt={};return{global:gt,link:function(xt,dt){var Lt=dt&&dt.stable;if(!Lt){for(var kt=0;kt<lt.length;++kt)if(lt[kt]===xt&&!Qe[kt])return Ue[kt]}return kt="g"+je++,Ue.push(kt),lt.push(xt),Qe.push(Lt),kt},block:Je,proc:function(xt,dt){function Lt(){var Pt="a"+kt.length;return kt.push(Pt),Pt}var kt=[];dt=dt||0;for(var _t=0;_t<dt;++_t)Lt();var Ot=(_t=ct()).toString;return mt[xt]=ee(_t,{arg:Lt,toString:function(){return j(["function(",kt.join(),"){",Ot(),"}"])}})},scope:ct,cond:function(){var xt=j(arguments),dt=ct(),Lt=ct(),kt=dt.toString,_t=Lt.toString;return ee(dt,{then:function(){return dt.apply(dt,z(arguments)),this},else:function(){return Lt.apply(Lt,z(arguments)),this},toString:function(){var Ot=_t();return Ot&&(Ot="else{"+Ot+"}"),j(["if(",xt,"){",kt(),"}",Ot])}})},compile:function(){var xt=['"use strict";',gt,"return {"];Object.keys(mt).forEach(function(kt){xt.push('"',kt,'":',mt[kt].toString(),",")}),xt.push("}");var dt,Lt=j(xt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`);return st&&(dt=function(kt){for(var _t,Ot="",Pt=0;Pt<kt.length;Pt++)_t=kt.charCodeAt(Pt),Ot+="0123456789abcdef".charAt(_t>>>4&15)+"0123456789abcdef".charAt(15&_t);return Ot}(function(kt){for(var _t=Array(kt.length>>2),Ot=0;Ot<_t.length;Ot++)_t[Ot]=0;for(Ot=0;Ot<8*kt.length;Ot+=8)_t[Ot>>5]|=(255&kt.charCodeAt(Ot/8))<<24-Ot%32;var Pt,Bt,Jt,on,qt,Gt,nn,Cn,An,dn,Kt,un=8*kt.length;for(kt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Ot=Array(64),_t[un>>5]|=128<<24-un%32,_t[15+(un+64>>9<<4)]=un,Cn=0;Cn<_t.length;Cn+=16){for(un=kt[0],Pt=kt[1],Bt=kt[2],Jt=kt[3],on=kt[4],qt=kt[5],Gt=kt[6],nn=kt[7],An=0;64>An;An++){var rn;16>An?Ot[An]=_t[An+Cn]:(dn=An,Kt=U(Kt=R(Kt=Ot[An-2],17)^R(Kt,19)^Kt>>>10,Ot[An-7]),rn=R(rn=Ot[An-15],7)^R(rn,18)^rn>>>3,Ot[dn]=U(U(Kt,rn),Ot[An-16])),dn=U(U(U(U(nn,dn=R(dn=on,6)^R(dn,11)^R(dn,25)),on&qt^~on&Gt),at[An]),Ot[An]),Kt=U(nn=R(nn=un,2)^R(nn,13)^R(nn,22),un&Pt^un&Bt^Pt&Bt),nn=Gt,Gt=qt,qt=on,on=U(Jt,dn),Jt=Bt,Bt=Pt,Pt=un,un=U(dn,Kt)}kt[0]=U(un,kt[0]),kt[1]=U(Pt,kt[1]),kt[2]=U(Bt,kt[2]),kt[3]=U(Jt,kt[3]),kt[4]=U(on,kt[4]),kt[5]=U(qt,kt[5]),kt[6]=U(Gt,kt[6]),kt[7]=U(nn,kt[7])}for(_t="",Ot=0;Ot<32*kt.length;Ot+=8)_t+=String.fromCharCode(kt[Ot>>5]>>>24-Ot%32&255);return _t}(function(kt){for(var _t,Ot,Pt="",Bt=-1;++Bt<kt.length;)_t=kt.charCodeAt(Bt),Ot=Bt+1<kt.length?kt.charCodeAt(Bt+1):0,55296<=_t&&56319>=_t&&56320<=Ot&&57343>=Ot&&(_t=65536+((1023&_t)<<10)+(1023&Ot),Bt++),127>=_t?Pt+=String.fromCharCode(_t):2047>=_t?Pt+=String.fromCharCode(192|_t>>>6&31,128|63&_t):65535>=_t?Pt+=String.fromCharCode(224|_t>>>12&15,128|_t>>>6&63,128|63&_t):2097151>=_t&&(Pt+=String.fromCharCode(240|_t>>>18&7,128|_t>>>12&63,128|_t>>>6&63,128|63&_t));return Pt}(Lt))),st[dt])?st[dt].apply(null,lt):(Lt=Function.apply(null,Ue.concat(Lt)),st&&(st[dt]=Lt),Lt.apply(null,lt))}}}function F(Ve){return Array.isArray(Ve)||be(Ve)||t(Ve)}function V(Ve){return Ve.sort(function(Je,ct){return Je==="viewport"?-1:ct==="viewport"?1:Je<ct?-1:1})}function H(Ve,Je,ct,st){this.thisDep=Ve,this.contextDep=Je,this.propDep=ct,this.append=st}function te(Ve){return Ve&&!(Ve.thisDep||Ve.contextDep||Ve.propDep)}function Q(Ve){return new H(!1,!1,!1,Ve)}function K(Ve,Je){var ct=Ve.type;if(ct===0)return new H(!0,1<=(ct=Ve.data.length),2<=ct,Je);if(ct===4)return new H((ct=Ve.data).thisDep,ct.contextDep,ct.propDep,Je);if(ct===5)return new H(!1,!1,!1,Je);if(ct===6){for(var st=ct=!1,je=!1,Ue=0;Ue<Ve.data.length;++Ue){var lt=Ve.data[Ue];lt.type===1?je=!0:lt.type===2?st=!0:lt.type===3?ct=!0:lt.type===0?(ct=!0,1<=(lt=lt.data)&&(st=!0),2<=lt&&(je=!0)):lt.type===4&&(ct=ct||lt.data.thisDep,st=st||lt.data.contextDep,je=je||lt.data.propDep)}return new H(ct,st,je,Je)}return new H(ct===3,ct===2,ct===1,Je)}function X(Ve,Je,ct,st,je,Ue,lt,Qe,gt,mt,xt,dt,Lt,kt,_t,Ot){function Pt(It){return It.replace(".","_")}function Bt(It,Xt,tn){var bn=Pt(It);Yn.push(It),En[bn]=vn[bn]=!!tn,Fn[bn]=Xt}function Jt(It,Xt,tn){var bn=Pt(It);Yn.push(It),Array.isArray(tn)?(vn[bn]=tn.slice(),En[bn]=tn.slice()):vn[bn]=En[bn]=tn,jn[bn]=Xt}function on(){var It=W({cache:_t}),Xt=It.link,tn=It.global;It.id=mn++,It.batchId="0";var bn=Xt(ir),yn=It.shared={props:"a0"};Object.keys(ir).forEach(function(ln){yn[ln]=tn.def(bn,".",ln)});var Tn=It.next={},fn=It.current={};Object.keys(jn).forEach(function(ln){Array.isArray(vn[ln])&&(Tn[ln]=tn.def(yn.next,".",ln),fn[ln]=tn.def(yn.current,".",ln))});var $t=It.constants={};Object.keys(Zt).forEach(function(ln){$t[ln]=tn.def(JSON.stringify(Zt[ln]))}),It.invoke=function(ln,pn){switch(pn.type){case 0:var Ln=["this",yn.context,yn.props,It.batchId];return ln.def(Xt(pn.data),".call(",Ln.slice(0,Math.max(pn.data.length+1,4)),")");case 1:return ln.def(yn.props,pn.data);case 2:return ln.def(yn.context,pn.data);case 3:return ln.def("this",pn.data);case 4:return pn.data.append(It,ln),pn.data.ref;case 5:return pn.data.toString();case 6:return pn.data.map(function(In){return It.invoke(ln,In)})}},It.attribCache={};var en={};return It.scopeAttrib=function(ln){if((ln=Je.id(ln))in en)return en[ln];var pn=mt.scope[ln];return pn||(pn=mt.scope[ln]=new $n),en[ln]=Xt(pn)},It}function qt(It,Xt){var tn=It.static,bn=It.dynamic;if("framebuffer"in tn){var yn=tn.framebuffer;return yn?(yn=Qe.getFramebuffer(yn),Q(function(fn,$t){var en=fn.link(yn),ln=fn.shared;return $t.set(ln.framebuffer,".next",en),ln=ln.context,$t.set(ln,".framebufferWidth",en+".width"),$t.set(ln,".framebufferHeight",en+".height"),en})):Q(function(fn,$t){var en=fn.shared;return $t.set(en.framebuffer,".next","null"),en=en.context,$t.set(en,".framebufferWidth",en+".drawingBufferWidth"),$t.set(en,".framebufferHeight",en+".drawingBufferHeight"),"null"})}if("framebuffer"in bn){var Tn=bn.framebuffer;return K(Tn,function(fn,$t){var en=fn.invoke($t,Tn),ln=fn.shared,pn=ln.framebuffer;return en=$t.def(pn,".getFramebuffer(",en,")"),$t.set(pn,".next",en),ln=ln.context,$t.set(ln,".framebufferWidth",en+"?"+en+".width:"+ln+".drawingBufferWidth"),$t.set(ln,".framebufferHeight",en+"?"+en+".height:"+ln+".drawingBufferHeight"),en})}return null}function Gt(It,Xt,tn){function bn(ln){if(ln in yn){var pn=Je.id(yn[ln]);return(ln=Q(function(){return pn})).id=pn,ln}if(ln in Tn){var Ln=Tn[ln];return K(Ln,function(In,Hn){var qn=In.invoke(Hn,Ln);return Hn.def(In.shared.strings,".id(",qn,")")})}return null}var yn=It.static,Tn=It.dynamic,fn=bn("frag"),$t=bn("vert"),en=null;return te(fn)&&te($t)?(en=xt.program($t.id,fn.id,null,tn),It=Q(function(ln,pn){return ln.link(en)})):It=new H(fn&&fn.thisDep||$t&&$t.thisDep,fn&&fn.contextDep||$t&&$t.contextDep,fn&&fn.propDep||$t&&$t.propDep,function(ln,pn){var Ln,In,Hn=ln.shared.shader;return Ln=fn?fn.append(ln,pn):pn.def(Hn,".","frag"),In=$t?$t.append(ln,pn):pn.def(Hn,".","vert"),pn.def(Hn+".program("+In+","+Ln+")")}),{frag:fn,vert:$t,progVar:It,program:en}}function nn(It,Xt){function tn(qn,er){if(qn in bn){var Zn=0|bn[qn];return er?Tn.offset=Zn:Tn.instances=Zn,Q(function(nr,Qn){return er&&(nr.OFFSET=Zn),Zn})}if(qn in yn){var tr=yn[qn];return K(tr,function(nr,Qn){var yr=nr.invoke(Qn,tr);return er&&(nr.OFFSET=yr),yr})}if(er){if(en)return Q(function(nr,Qn){return nr.OFFSET=0});if(fn)return new H($t.thisDep,$t.contextDep,$t.propDep,function(nr,Qn){return Qn.def(nr.shared.vao+".currentVAO?"+nr.shared.vao+".currentVAO.offset:0")})}else if(fn)return new H($t.thisDep,$t.contextDep,$t.propDep,function(nr,Qn){return Qn.def(nr.shared.vao+".currentVAO?"+nr.shared.vao+".currentVAO.instances:-1")});return null}var bn=It.static,yn=It.dynamic,Tn={},fn=!1,$t=function(){if("vao"in bn){var qn=bn.vao;return qn!==null&&mt.getVAO(qn)===null&&(qn=mt.createVAO(qn)),fn=!0,Tn.vao=qn,Q(function(Zn){var tr=mt.getVAO(qn);return tr?Zn.link(tr):"null"})}if("vao"in yn){fn=!0;var er=yn.vao;return K(er,function(Zn,tr){var nr=Zn.invoke(tr,er);return tr.def(Zn.shared.vao+".getVAO("+nr+")")})}return null}(),en=!1,ln=function(){if("elements"in bn){var qn=bn.elements;if(Tn.elements=qn,F(qn)){var er=Tn.elements=Ue.create(qn,!0);qn=Ue.getElements(er),en=!0}else qn&&(qn=Ue.getElements(qn),en=!0);return er=Q(function(tr,nr){if(qn){var Qn=tr.link(qn);return tr.ELEMENTS=Qn}return tr.ELEMENTS=null}),er.value=qn,er}if("elements"in yn){en=!0;var Zn=yn.elements;return K(Zn,function(tr,nr){var Qn=(yr=tr.shared).isBufferArgs,yr=yr.elements,fr=tr.invoke(nr,Zn),gr=nr.def("null");return Qn=nr.def(Qn,"(",fr,")"),fr=tr.cond(Qn).then(gr,"=",yr,".createStream(",fr,");").else(gr,"=",yr,".getElements(",fr,");"),nr.entry(fr),nr.exit(tr.cond(Qn).then(yr,".destroyStream(",gr,");")),tr.ELEMENTS=gr})}return fn?new H($t.thisDep,$t.contextDep,$t.propDep,function(tr,nr){return nr.def(tr.shared.vao+".currentVAO?"+tr.shared.elements+".getElements("+tr.shared.vao+".currentVAO.elements):null")}):null}(),pn=tn("offset",!0),Ln=function(){if("primitive"in bn){var qn=bn.primitive;return Tn.primitive=qn,Q(function(Zn,tr){return Ce[qn]})}if("primitive"in yn){var er=yn.primitive;return K(er,function(Zn,tr){var nr=Zn.constants.primTypes,Qn=Zn.invoke(tr,er);return tr.def(nr,"[",Qn,"]")})}return en?te(ln)?ln.value?Q(function(Zn,tr){return tr.def(Zn.ELEMENTS,".primType")}):Q(function(){return 4}):new H(ln.thisDep,ln.contextDep,ln.propDep,function(Zn,tr){var nr=Zn.ELEMENTS;return tr.def(nr,"?",nr,".primType:",4)}):fn?new H($t.thisDep,$t.contextDep,$t.propDep,function(Zn,tr){return tr.def(Zn.shared.vao+".currentVAO?"+Zn.shared.vao+".currentVAO.primitive:4")}):null}(),In=function(){if("count"in bn){var qn=0|bn.count;return Tn.count=qn,Q(function(){return qn})}if("count"in yn){var er=yn.count;return K(er,function(Zn,tr){return Zn.invoke(tr,er)})}return en?te(ln)?ln?pn?new H(pn.thisDep,pn.contextDep,pn.propDep,function(Zn,tr){return tr.def(Zn.ELEMENTS,".vertCount-",Zn.OFFSET)}):Q(function(Zn,tr){return tr.def(Zn.ELEMENTS,".vertCount")}):Q(function(){return-1}):new H(ln.thisDep||pn.thisDep,ln.contextDep||pn.contextDep,ln.propDep||pn.propDep,function(Zn,tr){var nr=Zn.ELEMENTS;return Zn.OFFSET?tr.def(nr,"?",nr,".vertCount-",Zn.OFFSET,":-1"):tr.def(nr,"?",nr,".vertCount:-1")}):fn?new H($t.thisDep,$t.contextDep,$t.propDep,function(Zn,tr){return tr.def(Zn.shared.vao,".currentVAO?",Zn.shared.vao,".currentVAO.count:-1")}):null}(),Hn=tn("instances",!1);return{elements:ln,primitive:Ln,count:In,instances:Hn,offset:pn,vao:$t,vaoActive:fn,elementsActive:en,static:Tn}}function Cn(It,Xt){var tn=It.static,bn=It.dynamic,yn={};return Object.keys(tn).forEach(function(Tn){var fn=tn[Tn],$t=Je.id(Tn),en=new $n;if(F(fn))en.state=1,en.buffer=je.getBuffer(je.create(fn,34962,!1,!0)),en.type=0;else if(pn=je.getBuffer(fn))en.state=1,en.buffer=pn,en.type=0;else if("constant"in fn){var ln=fn.constant;en.buffer="null",en.state=2,typeof ln=="number"?en.x=ln:rt.forEach(function(Zn,tr){tr<ln.length&&(en[Zn]=ln[tr])})}else{var pn=F(fn.buffer)?je.getBuffer(je.create(fn.buffer,34962,!1,!0)):je.getBuffer(fn.buffer),Ln=0|fn.offset,In=0|fn.stride,Hn=0|fn.size,qn=!!fn.normalized,er=0;"type"in fn&&(er=Ae[fn.type]),fn=0|fn.divisor,en.buffer=pn,en.state=1,en.size=Hn,en.normalized=qn,en.type=er||pn.dtype,en.offset=Ln,en.stride=In,en.divisor=fn}yn[Tn]=Q(function(Zn,tr){var nr=Zn.attribCache;if($t in nr)return nr[$t];var Qn={isStream:!1};return Object.keys(en).forEach(function(yr){Qn[yr]=en[yr]}),en.buffer&&(Qn.buffer=Zn.link(en.buffer),Qn.type=Qn.type||Qn.buffer+".dtype"),nr[$t]=Qn})}),Object.keys(bn).forEach(function(Tn){var fn=bn[Tn];yn[Tn]=K(fn,function($t,en){function ln(nr){en(qn[nr],"=",pn,".",nr,"|0;")}var pn=$t.invoke(en,fn),Ln=$t.shared,In=$t.constants,Hn=Ln.isBufferArgs,qn=(Ln=Ln.buffer,{isStream:en.def(!1)}),er=new $n;er.state=1,Object.keys(er).forEach(function(nr){qn[nr]=en.def(""+er[nr])});var Zn=qn.buffer,tr=qn.type;return en("if(",Hn,"(",pn,")){",qn.isStream,"=true;",Zn,"=",Ln,".createStream(",34962,",",pn,");",tr,"=",Zn,".dtype;","}else{",Zn,"=",Ln,".getBuffer(",pn,");","if(",Zn,"){",tr,"=",Zn,".dtype;",'}else if("constant" in ',pn,"){",qn.state,"=",2,";","if(typeof "+pn+'.constant === "number"){',qn[rt[0]],"=",pn,".constant;",rt.slice(1).map(function(nr){return qn[nr]}).join("="),"=0;","}else{",rt.map(function(nr,Qn){return qn[nr]+"="+pn+".constant.length>"+Qn+"?"+pn+".constant["+Qn+"]:0;"}).join(""),"}}else{","if(",Hn,"(",pn,".buffer)){",Zn,"=",Ln,".createStream(",34962,",",pn,".buffer);","}else{",Zn,"=",Ln,".getBuffer(",pn,".buffer);","}",tr,'="type" in ',pn,"?",In.glTypes,"[",pn,".type]:",Zn,".dtype;",qn.normalized,"=!!",pn,".normalized;"),ln("size"),ln("offset"),ln("stride"),ln("divisor"),en("}}"),en.exit("if(",qn.isStream,"){",Ln,".destroyStream(",Zn,");","}"),qn})}),yn}function An(It,Xt,tn,bn,yn){function Tn(er){var Zn=$t[er];Zn&&(ln[er]=Zn)}var fn=function(er,Zn){if(typeof(tr=er.static).frag=="string"&&typeof tr.vert=="string"){if(0<Object.keys(Zn.dynamic).length)return null;var tr=Zn.static,nr=Object.keys(tr);if(0<nr.length&&typeof tr[nr[0]]=="number"){for(var Qn=[],yr=0;yr<nr.length;++yr)Qn.push([0|tr[nr[yr]],nr[yr]]);return Qn}}return null}(It,Xt),$t=function(er,Zn,tr){function nr(gr){if(gr in Qn){var sr=Qn[gr];gr=!0;var br,Pr,Yr=0|sr.x,ki=0|sr.y;return"width"in sr?br=0|sr.width:gr=!1,"height"in sr?Pr=0|sr.height:gr=!1,new H(!gr&&Zn&&Zn.thisDep,!gr&&Zn&&Zn.contextDep,!gr&&Zn&&Zn.propDep,function(aa,bi){var Ji=aa.shared.context,Ba=br;"width"in sr||(Ba=bi.def(Ji,".","framebufferWidth","-",Yr));var Na=Pr;return"height"in sr||(Na=bi.def(Ji,".","framebufferHeight","-",ki)),[Yr,ki,Ba,Na]})}if(gr in yr){var Ai=yr[gr];return gr=K(Ai,function(aa,bi){var Ji=aa.invoke(bi,Ai),Ba=aa.shared.context,Na=bi.def(Ji,".x|0"),Ss=bi.def(Ji,".y|0");return[Na,Ss,bi.def('"width" in ',Ji,"?",Ji,".width|0:","(",Ba,".","framebufferWidth","-",Na,")"),Ji=bi.def('"height" in ',Ji,"?",Ji,".height|0:","(",Ba,".","framebufferHeight","-",Ss,")")]}),Zn&&(gr.thisDep=gr.thisDep||Zn.thisDep,gr.contextDep=gr.contextDep||Zn.contextDep,gr.propDep=gr.propDep||Zn.propDep),gr}return Zn?new H(Zn.thisDep,Zn.contextDep,Zn.propDep,function(aa,bi){var Ji=aa.shared.context;return[0,0,bi.def(Ji,".","framebufferWidth"),bi.def(Ji,".","framebufferHeight")]}):null}var Qn=er.static,yr=er.dynamic;if(er=nr("viewport")){var fr=er;er=new H(er.thisDep,er.contextDep,er.propDep,function(gr,sr){var br=fr.append(gr,sr),Pr=gr.shared.context;return sr.set(Pr,".viewportWidth",br[2]),sr.set(Pr,".viewportHeight",br[3]),br})}return{viewport:er,scissor_box:nr("scissor.box")}}(It,Ln=qt(It)),en=nn(It),ln=function(er,Zn){var tr=er.static,nr=er.dynamic,Qn={};return Yn.forEach(function(yr){function fr(sr,br){if(yr in tr){var Pr=sr(tr[yr]);Qn[gr]=Q(function(){return Pr})}else if(yr in nr){var Yr=nr[yr];Qn[gr]=K(Yr,function(ki,Ai){return br(ki,Ai,ki.invoke(Ai,Yr))})}}var gr=Pt(yr);switch(yr){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return fr(function(sr){return sr},function(sr,br,Pr){return Pr});case"depth.func":return fr(function(sr){return Ft[sr]},function(sr,br,Pr){return br.def(sr.constants.compareFuncs,"[",Pr,"]")});case"depth.range":return fr(function(sr){return sr},function(sr,br,Pr){return[br.def("+",Pr,"[0]"),br=br.def("+",Pr,"[1]")]});case"blend.func":return fr(function(sr){return[Rt["srcRGB"in sr?sr.srcRGB:sr.src],Rt["dstRGB"in sr?sr.dstRGB:sr.dst],Rt["srcAlpha"in sr?sr.srcAlpha:sr.src],Rt["dstAlpha"in sr?sr.dstAlpha:sr.dst]]},function(sr,br,Pr){function Yr(bi,Ji){return br.def('"',bi,Ji,'" in ',Pr,"?",Pr,".",bi,Ji,":",Pr,".",bi)}sr=sr.constants.blendFuncs;var ki=Yr("src","RGB"),Ai=Yr("dst","RGB"),aa=(ki=br.def(sr,"[",ki,"]"),br.def(sr,"[",Yr("src","Alpha"),"]"));return[ki,Ai=br.def(sr,"[",Ai,"]"),aa,sr=br.def(sr,"[",Yr("dst","Alpha"),"]")]});case"blend.equation":return fr(function(sr){return typeof sr=="string"?[Ar[sr],Ar[sr]]:typeof sr=="object"?[Ar[sr.rgb],Ar[sr.alpha]]:void 0},function(sr,br,Pr){var Yr=sr.constants.blendEquations,ki=br.def(),Ai=br.def();return(sr=sr.cond("typeof ",Pr,'==="string"')).then(ki,"=",Ai,"=",Yr,"[",Pr,"];"),sr.else(ki,"=",Yr,"[",Pr,".rgb];",Ai,"=",Yr,"[",Pr,".alpha];"),br(sr),[ki,Ai]});case"blend.color":return fr(function(sr){return v(4,function(br){return+sr[br]})},function(sr,br,Pr){return v(4,function(Yr){return br.def("+",Pr,"[",Yr,"]")})});case"stencil.mask":return fr(function(sr){return 0|sr},function(sr,br,Pr){return br.def(Pr,"|0")});case"stencil.func":return fr(function(sr){return[Ft[sr.cmp||"keep"],sr.ref||0,"mask"in sr?sr.mask:-1]},function(sr,br,Pr){return[sr=br.def('"cmp" in ',Pr,"?",sr.constants.compareFuncs,"[",Pr,".cmp]",":",7680),br.def(Pr,".ref|0"),br=br.def('"mask" in ',Pr,"?",Pr,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return fr(function(sr){return[yr==="stencil.opBack"?1029:1028,Dt[sr.fail||"keep"],Dt[sr.zfail||"keep"],Dt[sr.zpass||"keep"]]},function(sr,br,Pr){function Yr(Ai){return br.def('"',Ai,'" in ',Pr,"?",ki,"[",Pr,".",Ai,"]:",7680)}var ki=sr.constants.stencilOps;return[yr==="stencil.opBack"?1029:1028,Yr("fail"),Yr("zfail"),Yr("zpass")]});case"polygonOffset.offset":return fr(function(sr){return[0|sr.factor,0|sr.units]},function(sr,br,Pr){return[br.def(Pr,".factor|0"),br=br.def(Pr,".units|0")]});case"cull.face":return fr(function(sr){var br=0;return sr==="front"?br=1028:sr==="back"&&(br=1029),br},function(sr,br,Pr){return br.def(Pr,'==="front"?',1028,":",1029)});case"frontFace":return fr(function(sr){return Xe[sr]},function(sr,br,Pr){return br.def(Pr+'==="cw"?2304:2305')});case"colorMask":return fr(function(sr){return sr.map(function(br){return!!br})},function(sr,br,Pr){return v(4,function(Yr){return"!!"+Pr+"["+Yr+"]"})});case"sample.coverage":return fr(function(sr){return["value"in sr?sr.value:1,!!sr.invert]},function(sr,br,Pr){return[br.def('"value" in ',Pr,"?+",Pr,".value:1"),br=br.def("!!",Pr,".invert")]})}}),Qn}(It),pn=Gt(It,0,fn);Tn("viewport"),Tn(Pt("scissor.box"));var Ln,In=0<Object.keys(ln).length;if((Ln={framebuffer:Ln,draw:en,shader:pn,state:ln,dirty:In,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(er){var Zn,tr=er.static;if(er=er.dynamic,"profile"in tr){var nr=!!tr.profile;(Zn=Q(function(yr,fr){return nr})).enable=nr}else if("profile"in er){var Qn=er.profile;Zn=K(Qn,function(yr,fr){return yr.invoke(fr,Qn)})}return Zn}(It),Ln.uniforms=function(er,Zn){var tr=er.static,nr=er.dynamic,Qn={};return Object.keys(tr).forEach(function(yr){var fr,gr=tr[yr];if(typeof gr=="number"||typeof gr=="boolean")fr=Q(function(){return gr});else if(typeof gr=="function"){var sr=gr._reglType;sr==="texture2d"||sr==="textureCube"?fr=Q(function(br){return br.link(gr)}):sr!=="framebuffer"&&sr!=="framebufferCube"||(fr=Q(function(br){return br.link(gr.color[0])}))}else b(gr)&&(fr=Q(function(br){return br.global.def("[",v(gr.length,function(Pr){return gr[Pr]}),"]")}));fr.value=gr,Qn[yr]=fr}),Object.keys(nr).forEach(function(yr){var fr=nr[yr];Qn[yr]=K(fr,function(gr,sr){return gr.invoke(sr,fr)})}),Qn}(tn),Ln.drawVAO=Ln.scopeVAO=en.vao,!Ln.drawVAO&&pn.program&&!fn&&ct.angle_instanced_arrays&&en.static.elements){var Hn=!0;if(It=pn.program.attributes.map(function(er){return er=Xt.static[er],Hn=Hn&&!!er,er}),Hn&&0<It.length){var qn=mt.getVAO(mt.createVAO({attributes:It,elements:en.static.elements}));Ln.drawVAO=new H(null,null,null,function(er,Zn){return er.link(qn)}),Ln.useVAO=!0}}return fn?Ln.useVAO=!0:Ln.attributes=Cn(Xt),Ln.context=function(er){var Zn=er.static,tr=er.dynamic,nr={};return Object.keys(Zn).forEach(function(Qn){var yr=Zn[Qn];nr[Qn]=Q(function(fr,gr){return typeof yr=="number"||typeof yr=="boolean"?""+yr:fr.link(yr)})}),Object.keys(tr).forEach(function(Qn){var yr=tr[Qn];nr[Qn]=K(yr,function(fr,gr){return fr.invoke(gr,yr)})}),nr}(bn),Ln}function dn(It,Xt,tn){var bn=It.shared.context,yn=It.scope();Object.keys(tn).forEach(function(Tn){Xt.save(bn,"."+Tn);var fn=tn[Tn].append(It,Xt);Array.isArray(fn)?yn(bn,".",Tn,"=[",fn.join(),"];"):yn(bn,".",Tn,"=",fn,";")}),Xt(yn)}function Kt(It,Xt,tn,bn){var yn,Tn=($t=It.shared).gl,fn=$t.framebuffer;an&&(yn=Xt.def($t.extensions,".webgl_draw_buffers"));var $t=(en=It.constants).drawBuffer,en=en.backBuffer;It=tn?tn.append(It,Xt):Xt.def(fn,".next"),bn||Xt("if(",It,"!==",fn,".cur){"),Xt("if(",It,"){",Tn,".bindFramebuffer(",36160,",",It,".framebuffer);"),an&&Xt(yn,".drawBuffersWEBGL(",$t,"[",It,".colorAttachments.length]);"),Xt("}else{",Tn,".bindFramebuffer(",36160,",null);"),an&&Xt(yn,".drawBuffersWEBGL(",en,");"),Xt("}",fn,".cur=",It,";"),bn||Xt("}")}function un(It,Xt,tn){var bn=It.shared,yn=bn.gl,Tn=It.current,fn=It.next,$t=bn.current,en=bn.next,ln=It.cond($t,".dirty");Yn.forEach(function(pn){var Ln,In;if(!((pn=Pt(pn))in tn.state))if(pn in fn){Ln=fn[pn],In=Tn[pn];var Hn=v(vn[pn].length,function(qn){return ln.def(Ln,"[",qn,"]")});ln(It.cond(Hn.map(function(qn,er){return qn+"!=="+In+"["+er+"]"}).join("||")).then(yn,".",jn[pn],"(",Hn,");",Hn.map(function(qn,er){return In+"["+er+"]="+qn}).join(";"),";"))}else Ln=ln.def(en,".",pn),Hn=It.cond(Ln,"!==",$t,".",pn),ln(Hn),pn in Fn?Hn(It.cond(Ln).then(yn,".enable(",Fn[pn],");").else(yn,".disable(",Fn[pn],");"),$t,".",pn,"=",Ln,";"):Hn(yn,".",jn[pn],"(",Ln,");",$t,".",pn,"=",Ln,";")}),Object.keys(tn.state).length===0&&ln($t,".dirty=false;"),Xt(ln)}function rn(It,Xt,tn,bn){var yn,Tn=It.shared,fn=It.current,$t=Tn.current,en=Tn.gl;V(Object.keys(tn)).forEach(function(ln){var pn=tn[ln];if(!bn||bn(pn)){var Ln=pn.append(It,Xt);if(Fn[ln]){var In=Fn[ln];te(pn)?(yn=It.link(Ln,{stable:!0}),Xt(It.cond(yn).then(en,".enable(",In,");").else(en,".disable(",In,");")),Xt($t,".",ln,"=",yn,";")):(Xt(It.cond(Ln).then(en,".enable(",In,");").else(en,".disable(",In,");")),Xt($t,".",ln,"=",Ln,";"))}else if(b(Ln)){var Hn=fn[ln];Xt(en,".",jn[ln],"(",Ln,");",Ln.map(function(qn,er){return Hn+"["+er+"]="+qn}).join(";"),";")}else te(pn)?(yn=It.link(Ln,{stable:!0}),Xt(en,".",jn[ln],"(",yn,");",$t,".",ln,"=",yn,";")):Xt(en,".",jn[ln],"(",Ln,");",$t,".",ln,"=",Ln,";")}})}function hn(It,Xt){Ht&&(It.instancing=Xt.def(It.shared.extensions,".angle_instanced_arrays"))}function kn(It,Xt,tn,bn,yn){function Tn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function fn(er){er(ln=Xt.def(),"=",Tn(),";"),typeof yn=="string"?er(In,".count+=",yn,";"):er(In,".count++;"),kt&&(bn?er(pn=Xt.def(),"=",qn,".getNumPendingQueries();"):er(qn,".beginQuery(",In,");"))}function $t(er){er(In,".cpuTime+=",Tn(),"-",ln,";"),kt&&(bn?er(qn,".pushScopeStats(",pn,",",qn,".getNumPendingQueries(),",In,");"):er(qn,".endQuery();"))}function en(er){var Zn=Xt.def(Hn,".profile");Xt(Hn,".profile=",er,";"),Xt.exit(Hn,".profile=",Zn,";")}var ln,pn,Ln=It.shared,In=It.stats,Hn=Ln.current,qn=Ln.timer;if(tn=tn.profile){if(te(tn))return void(tn.enable?(fn(Xt),$t(Xt.exit),en("true")):en("false"));en(tn=tn.append(It,Xt))}else tn=Xt.def(Hn,".profile");fn(Ln=It.block()),Xt("if(",tn,"){",Ln,"}"),$t(It=It.block()),Xt.exit("if(",tn,"){",It,"}")}function Sn(It,Xt,tn,bn,yn){function Tn($t,en,ln){function pn(){Xt("if(!",qn,".buffer){",In,".enableVertexAttribArray(",Hn,");}");var nr,Qn=ln.type;nr=ln.size?Xt.def(ln.size,"||",en):en,Xt("if(",qn,".type!==",Qn,"||",qn,".size!==",nr,"||",tr.map(function(yr){return qn+"."+yr+"!=="+ln[yr]}).join("||"),"){",In,".bindBuffer(",34962,",",er,".buffer);",In,".vertexAttribPointer(",[Hn,nr,Qn,ln.normalized,ln.stride,ln.offset],");",qn,".type=",Qn,";",qn,".size=",nr,";",tr.map(function(yr){return qn+"."+yr+"="+ln[yr]+";"}).join(""),"}"),Ht&&(Qn=ln.divisor,Xt("if(",qn,".divisor!==",Qn,"){",It.instancing,".vertexAttribDivisorANGLE(",[Hn,Qn],");",qn,".divisor=",Qn,";}"))}function Ln(){Xt("if(",qn,".buffer){",In,".disableVertexAttribArray(",Hn,");",qn,".buffer=null;","}if(",rt.map(function(nr,Qn){return qn+"."+nr+"!=="+Zn[Qn]}).join("||"),"){",In,".vertexAttrib4f(",Hn,",",Zn,");",rt.map(function(nr,Qn){return qn+"."+nr+"="+Zn[Qn]+";"}).join(""),"}")}var In=fn.gl,Hn=Xt.def($t,".location"),qn=Xt.def(fn.attributes,"[",Hn,"]");$t=ln.state;var er=ln.buffer,Zn=[ln.x,ln.y,ln.z,ln.w],tr=["buffer","normalized","offset","stride"];$t===1?pn():$t===2?Ln():(Xt("if(",$t,"===",1,"){"),pn(),Xt("}else{"),Ln(),Xt("}"))}var fn=It.shared;bn.forEach(function($t){var en,ln=$t.name,pn=tn.attributes[ln];if(pn){if(!yn(pn))return;en=pn.append(It,Xt)}else{if(!yn(Ke))return;var Ln=It.scopeAttrib(ln);en={},Object.keys(new $n).forEach(function(In){en[In]=Xt.def(Ln,".",In)})}Tn(It.link($t),function(In){switch(In){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}($t.info.type),en)})}function Rn(It,Xt,tn,bn,yn,Tn){for(var fn,$t=It.shared,en=$t.gl,ln=0;ln<bn.length;++ln){var pn,Ln=(qn=bn[ln]).name,In=qn.info.type,Hn=tn.uniforms[Ln],qn=It.link(qn)+".location";if(Hn){if(!yn(Hn))continue;if(te(Hn)){if(Ln=Hn.value,In===35678||In===35680)Xt(en,".uniform1i(",qn,",",(In=It.link(Ln._texture||Ln.color[0]._texture))+".bind());"),Xt.exit(In,".unbind();");else if(In===35674||In===35675||In===35676)Hn=2,In===35675?Hn=3:In===35676&&(Hn=4),Xt(en,".uniformMatrix",Hn,"fv(",qn,",false,",Ln=It.global.def("new Float32Array(["+Array.prototype.slice.call(Ln)+"])"),");");else{switch(In){case 5126:fn="1f";break;case 35664:fn="2f";break;case 35665:fn="3f";break;case 35666:fn="4f";break;case 35670:case 5124:fn="1i";break;case 35671:case 35667:fn="2i";break;case 35672:case 35668:fn="3i";break;case 35673:case 35669:fn="4i"}Xt(en,".uniform",fn,"(",qn,",",b(Ln)?Array.prototype.slice.call(Ln):Ln,");")}continue}pn=Hn.append(It,Xt)}else{if(!yn(Ke))continue;pn=Xt.def($t.uniforms,"[",Je.id(Ln),"]")}switch(In===35678?Xt("if(",pn,"&&",pn,'._reglType==="framebuffer"){',pn,"=",pn,".color[0];","}"):In===35680&&Xt("if(",pn,"&&",pn,'._reglType==="framebufferCube"){',pn,"=",pn,".color[0];","}"),Ln=1,In){case 35678:case 35680:In=Xt.def(pn,"._texture"),Xt(en,".uniform1i(",qn,",",In,".bind());"),Xt.exit(In,".unbind();");continue;case 5124:case 35670:fn="1i";break;case 35667:case 35671:fn="2i",Ln=2;break;case 35668:case 35672:fn="3i",Ln=3;break;case 35669:case 35673:fn="4i",Ln=4;break;case 5126:fn="1f";break;case 35664:fn="2f",Ln=2;break;case 35665:fn="3f",Ln=3;break;case 35666:fn="4f",Ln=4;break;case 35674:fn="Matrix2fv";break;case 35675:fn="Matrix3fv";break;case 35676:fn="Matrix4fv"}if(fn.charAt(0)==="M"){Xt(en,".uniform",fn,"(",qn,","),qn=Math.pow(In-35674+2,2);var er=It.global.def("new Float32Array(",qn,")");Array.isArray(pn)?Xt("false,(",v(qn,function(tr){return er+"["+tr+"]="+pn[tr]}),",",er,")"):Xt("false,(Array.isArray(",pn,")||",pn," instanceof Float32Array)?",pn,":(",v(qn,function(tr){return er+"["+tr+"]="+pn+"["+tr+"]"}),",",er,")"),Xt(");")}else{if(1<Ln){In=[];var Zn=[];for(Hn=0;Hn<Ln;++Hn)Array.isArray(pn)?Zn.push(pn[Hn]):Zn.push(Xt.def(pn+"["+Hn+"]")),Tn&&In.push(Xt.def());Tn&&Xt("if(!",It.batchId,"||",In.map(function(tr,nr){return tr+"!=="+Zn[nr]}).join("||"),"){",In.map(function(tr,nr){return tr+"="+Zn[nr]+";"}).join("")),Xt(en,".uniform",fn,"(",qn,",",Zn.join(","),");")}else Tn&&(In=Xt.def(),Xt("if(!",It.batchId,"||",In,"!==",pn,"){",In,"=",pn,";")),Xt(en,".uniform",fn,"(",qn,",",pn,");");Tn&&Xt("}")}}}function zn(It,Xt,tn,bn){function yn(Qn){var yr=In[Qn];return yr?yr.contextDep&&bn.contextDynamic||yr.propDep?yr.append(It,tn):yr.append(It,Xt):Xt.def(Ln,".",Qn)}function Tn(){function Qn(){tn(en,".drawElementsInstancedANGLE(",[qn,Zn,tr,er+"<<(("+tr+"-5121)>>1)",$t],");")}function yr(){tn(en,".drawArraysInstancedANGLE(",[qn,er,Zn,$t],");")}Hn&&Hn!=="null"?nr?Qn():(tn("if(",Hn,"){"),Qn(),tn("}else{"),yr(),tn("}")):yr()}function fn(){function Qn(){tn(pn+".drawElements("+[qn,Zn,tr,er+"<<(("+tr+"-5121)>>1)"]+");")}function yr(){tn(pn+".drawArrays("+[qn,er,Zn]+");")}Hn&&Hn!=="null"?nr?Qn():(tn("if(",Hn,"){"),Qn(),tn("}else{"),yr(),tn("}")):yr()}var $t,en,ln=It.shared,pn=ln.gl,Ln=ln.draw,In=bn.draw,Hn=function(){var Qn=In.elements,yr=Xt;return Qn?((Qn.contextDep&&bn.contextDynamic||Qn.propDep)&&(yr=tn),Qn=Qn.append(It,yr),In.elementsActive&&yr("if("+Qn+")"+pn+".bindBuffer(34963,"+Qn+".buffer.buffer);")):(Qn=yr.def(),yr(Qn,"=",Ln,".","elements",";","if(",Qn,"){",pn,".bindBuffer(",34963,",",Qn,".buffer.buffer);}","else if(",ln.vao,".currentVAO){",Qn,"=",It.shared.elements+".getElements("+ln.vao,".currentVAO.elements);",_n?"":"if("+Qn+")"+pn+".bindBuffer(34963,"+Qn+".buffer.buffer);","}")),Qn}(),qn=yn("primitive"),er=yn("offset"),Zn=function(){var Qn=In.count,yr=Xt;return Qn?((Qn.contextDep&&bn.contextDynamic||Qn.propDep)&&(yr=tn),Qn=Qn.append(It,yr)):Qn=yr.def(Ln,".","count"),Qn}();if(typeof Zn=="number"){if(Zn===0)return}else tn("if(",Zn,"){"),tn.exit("}");Ht&&($t=yn("instances"),en=It.instancing);var tr=Hn+".type",nr=In.elements&&te(In.elements)&&!In.vaoActive;Ht&&(typeof $t!="number"||0<=$t)?typeof $t=="string"?(tn("if(",$t,">0){"),Tn(),tn("}else if(",$t,"<0){"),fn(),tn("}")):Tn():fn()}function Pn(It,Xt,tn,bn,yn){return yn=(Xt=on()).proc("body",yn),Ht&&(Xt.instancing=yn.def(Xt.shared.extensions,".angle_instanced_arrays")),It(Xt,yn,tn,bn),Xt.compile().body}function Gn(It,Xt,tn,bn){hn(It,Xt),tn.useVAO?tn.drawVAO?Xt(It.shared.vao,".setVAO(",tn.drawVAO.append(It,Xt),");"):Xt(It.shared.vao,".setVAO(",It.shared.vao,".targetVAO);"):(Xt(It.shared.vao,".setVAO(null);"),Sn(It,Xt,tn,bn.attributes,function(){return!0})),Rn(It,Xt,tn,bn.uniforms,function(){return!0},!1),zn(It,Xt,Xt,tn)}function Nn(It,Xt,tn,bn){function yn(){return!0}It.batchId="a1",hn(It,Xt),Sn(It,Xt,tn,bn.attributes,yn),Rn(It,Xt,tn,bn.uniforms,yn,!1),zn(It,Xt,Xt,tn)}function or(It,Xt,tn,bn){function yn(Ln){return Ln.contextDep&&fn||Ln.propDep}function Tn(Ln){return!yn(Ln)}hn(It,Xt);var fn=tn.contextDep,$t=Xt.def(),en=Xt.def();It.shared.props=en,It.batchId=$t;var ln=It.scope(),pn=It.scope();Xt(ln.entry,"for(",$t,"=0;",$t,"<","a1",";++",$t,"){",en,"=","a0","[",$t,"];",pn,"}",ln.exit),tn.needsContext&&dn(It,pn,tn.context),tn.needsFramebuffer&&Kt(It,pn,tn.framebuffer),rn(It,pn,tn.state,yn),tn.profile&&yn(tn.profile)&&kn(It,pn,tn,!1,!0),bn?(tn.useVAO?tn.drawVAO?yn(tn.drawVAO)?pn(It.shared.vao,".setVAO(",tn.drawVAO.append(It,pn),");"):ln(It.shared.vao,".setVAO(",tn.drawVAO.append(It,ln),");"):ln(It.shared.vao,".setVAO(",It.shared.vao,".targetVAO);"):(ln(It.shared.vao,".setVAO(null);"),Sn(It,ln,tn,bn.attributes,Tn),Sn(It,pn,tn,bn.attributes,yn)),Rn(It,ln,tn,bn.uniforms,Tn,!1),Rn(It,pn,tn,bn.uniforms,yn,!0),zn(It,ln,pn,tn)):(Xt=It.global.def("{}"),bn=tn.shader.progVar.append(It,pn),en=pn.def(bn,".id"),ln=pn.def(Xt,"[",en,"]"),pn(It.shared.gl,".useProgram(",bn,".program);","if(!",ln,"){",ln,"=",Xt,"[",en,"]=",It.link(function(Ln){return Pn(Nn,It,tn,Ln,2)}),"(",bn,");}",ln,".call(this,a0[",$t,"],",$t,");"))}function lr(It,Xt){function tn($t){var en=Xt.shader[$t];en&&(en=en.append(It,bn),isNaN(en)?bn.set(yn.shader,"."+$t,en):bn.set(yn.shader,"."+$t,It.link(en,{stable:!0})))}var bn=It.proc("scope",3);It.batchId="a2";var yn=It.shared,Tn=yn.current;if(dn(It,bn,Xt.context),Xt.framebuffer&&Xt.framebuffer.append(It,bn),V(Object.keys(Xt.state)).forEach(function($t){var en=Xt.state[$t],ln=en.append(It,bn);b(ln)?ln.forEach(function(pn,Ln){isNaN(pn)?bn.set(It.next[$t],"["+Ln+"]",pn):bn.set(It.next[$t],"["+Ln+"]",It.link(pn,{stable:!0}))}):te(en)?bn.set(yn.next,"."+$t,It.link(ln,{stable:!0})):bn.set(yn.next,"."+$t,ln)}),kn(It,bn,Xt,!0,!0),["elements","offset","count","instances","primitive"].forEach(function($t){var en=Xt.draw[$t];en&&(en=en.append(It,bn),isNaN(en)?bn.set(yn.draw,"."+$t,en):bn.set(yn.draw,"."+$t,It.link(en),{stable:!0}))}),Object.keys(Xt.uniforms).forEach(function($t){var en=Xt.uniforms[$t].append(It,bn);Array.isArray(en)&&(en="["+en.map(function(ln){return isNaN(ln)?ln:It.link(ln,{stable:!0})})+"]"),bn.set(yn.uniforms,"["+It.link(Je.id($t),{stable:!0})+"]",en)}),Object.keys(Xt.attributes).forEach(function($t){var en=Xt.attributes[$t].append(It,bn),ln=It.scopeAttrib($t);Object.keys(new $n).forEach(function(pn){bn.set(ln,"."+pn,en[pn])})}),Xt.scopeVAO){var fn=Xt.scopeVAO.append(It,bn);isNaN(fn)?bn.set(yn.vao,".targetVAO",fn):bn.set(yn.vao,".targetVAO",It.link(fn,{stable:!0}))}tn("vert"),tn("frag"),0<Object.keys(Xt.state).length&&(bn(Tn,".dirty=true;"),bn.exit(Tn,".dirty=true;")),bn("a1(",It.shared.context,",a0,",It.batchId,");")}function cr(It,Xt,tn){var bn=Xt.static[tn];if(bn&&function(pn){if(typeof pn=="object"&&!b(pn)){for(var Ln=Object.keys(pn),In=0;In<Ln.length;++In)if(oe.isDynamic(pn[Ln[In]]))return!0;return!1}}(bn)){var yn=It.global,Tn=Object.keys(bn),fn=!1,$t=!1,en=!1,ln=It.global.def("{}");Tn.forEach(function(pn){var Ln=bn[pn];if(oe.isDynamic(Ln))typeof Ln=="function"&&(Ln=bn[pn]=oe.unbox(Ln)),pn=K(Ln,null),fn=fn||pn.thisDep,en=en||pn.propDep,$t=$t||pn.contextDep;else{switch(yn(ln,".",pn,"="),typeof Ln){case"number":yn(Ln);break;case"string":yn('"',Ln,'"');break;case"object":Array.isArray(Ln)&&yn("[",Ln.join(),"]");break;default:yn(It.link(Ln))}yn(";")}}),Xt.dynamic[tn]=new oe.DynamicVariable(4,{thisDep:fn,contextDep:$t,propDep:en,ref:ln,append:function(pn,Ln){Tn.forEach(function(In){var Hn=bn[In];oe.isDynamic(Hn)&&(Hn=pn.invoke(Ln,Hn),Ln(ln,".",In,"=",Hn,";"))})}}),delete Xt.static[tn]}}var $n=mt.Record,Ar={add:32774,subtract:32778,"reverse subtract":32779};ct.ext_blend_minmax&&(Ar.min=32775,Ar.max=32776);var Ht=ct.angle_instanced_arrays,an=ct.webgl_draw_buffers,_n=ct.oes_vertex_array_object,vn={dirty:!0,profile:Ot.profile},En={},Yn=[],Fn={},jn={};Bt("dither",3024),Bt("blend.enable",3042),Jt("blend.color","blendColor",[0,0,0,0]),Jt("blend.equation","blendEquationSeparate",[32774,32774]),Jt("blend.func","blendFuncSeparate",[1,0,1,0]),Bt("depth.enable",2929,!0),Jt("depth.func","depthFunc",513),Jt("depth.range","depthRange",[0,1]),Jt("depth.mask","depthMask",!0),Jt("colorMask","colorMask",[!0,!0,!0,!0]),Bt("cull.enable",2884),Jt("cull.face","cullFace",1029),Jt("frontFace","frontFace",2305),Jt("lineWidth","lineWidth",1),Bt("polygonOffset.enable",32823),Jt("polygonOffset.offset","polygonOffset",[0,0]),Bt("sample.alpha",32926),Bt("sample.enable",32928),Jt("sample.coverage","sampleCoverage",[1,!1]),Bt("stencil.enable",2960),Jt("stencil.mask","stencilMask",-1),Jt("stencil.func","stencilFunc",[519,0,-1]),Jt("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Jt("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Bt("scissor.enable",3089),Jt("scissor.box","scissor",[0,0,Ve.drawingBufferWidth,Ve.drawingBufferHeight]),Jt("viewport","viewport",[0,0,Ve.drawingBufferWidth,Ve.drawingBufferHeight]);var ir={gl:Ve,context:Lt,strings:Je,next:En,current:vn,draw:dt,elements:Ue,buffer:je,shader:xt,attributes:mt.state,vao:mt,uniforms:gt,framebuffer:Qe,extensions:ct,timer:kt,isBufferArgs:F},Zt={primTypes:Ce,compareFuncs:Ft,blendFuncs:Rt,blendEquations:Ar,stencilOps:Dt,glTypes:Ae,orientationType:Xe};an&&(Zt.backBuffer=[1029],Zt.drawBuffer=v(st.maxDrawbuffers,function(It){return It===0?[0]:v(It,function(Xt){return 36064+Xt})}));var mn=0;return{next:En,current:vn,procs:function(){var It=on(),Xt=It.proc("poll"),tn=It.proc("refresh"),bn=It.block();Xt(bn),tn(bn);var yn,Tn=(en=It.shared).gl,fn=en.next,$t=en.current;bn($t,".dirty=false;"),Kt(It,Xt),Kt(It,tn,null,!0),Ht&&(yn=It.link(Ht)),ct.oes_vertex_array_object&&tn(It.link(ct.oes_vertex_array_object),".bindVertexArrayOES(null);");var en=tn.def(en.attributes),ln=tn.def(0),pn=It.cond(ln,".buffer");pn.then(Tn,".enableVertexAttribArray(i);",Tn,".bindBuffer(",34962,",",ln,".buffer.buffer);",Tn,".vertexAttribPointer(i,",ln,".size,",ln,".type,",ln,".normalized,",ln,".stride,",ln,".offset);").else(Tn,".disableVertexAttribArray(i);",Tn,".vertexAttrib4f(i,",ln,".x,",ln,".y,",ln,".z,",ln,".w);",ln,".buffer=null;");var Ln=It.link(st.maxAttributes,{stable:!0});return tn("for(var i=0;i<",Ln,";++i){",ln,"=",en,"[i];",pn,"}"),Ht&&tn("for(var i=0;i<",Ln,";++i){",yn,".vertexAttribDivisorANGLE(i,",en,"[i].divisor);","}"),tn(It.shared.vao,".currentVAO=null;",It.shared.vao,".setVAO(",It.shared.vao,".targetVAO);"),Object.keys(Fn).forEach(function(In){var Hn=Fn[In],qn=bn.def(fn,".",In),er=It.block();er("if(",qn,"){",Tn,".enable(",Hn,")}else{",Tn,".disable(",Hn,")}",$t,".",In,"=",qn,";"),tn(er),Xt("if(",qn,"!==",$t,".",In,"){",er,"}")}),Object.keys(jn).forEach(function(In){var Hn,qn,er=jn[In],Zn=vn[In],tr=It.block();tr(Tn,".",er,"("),b(Zn)?(er=Zn.length,Hn=It.global.def(fn,".",In),qn=It.global.def($t,".",In),tr(v(er,function(nr){return Hn+"["+nr+"]"}),");",v(er,function(nr){return qn+"["+nr+"]="+Hn+"["+nr+"];"}).join("")),Xt("if(",v(er,function(nr){return Hn+"["+nr+"]!=="+qn+"["+nr+"]"}).join("||"),"){",tr,"}")):(Hn=bn.def(fn,".",In),qn=bn.def($t,".",In),tr(Hn,");",$t,".",In,"=",Hn,";"),Xt("if(",Hn,"!==",qn,"){",tr,"}")),tn(tr)}),It.compile()}(),compile:function(It,Xt,tn,bn,yn){var Tn=on();Tn.stats=Tn.link(yn),Object.keys(Xt.static).forEach(function($t){cr(Tn,Xt,$t)}),At.forEach(function($t){cr(Tn,It,$t)});var fn=An(It,Xt,tn,bn);return fn.shader.program&&(fn.shader.program.attributes.sort(function($t,en){return $t.name<en.name?-1:1}),fn.shader.program.uniforms.sort(function($t,en){return $t.name<en.name?-1:1})),function($t,en){var ln=$t.proc("draw",1);hn($t,ln),dn($t,ln,en.context),Kt($t,ln,en.framebuffer),un($t,ln,en),rn($t,ln,en.state),kn($t,ln,en,!1,!0);var pn=en.shader.progVar.append($t,ln);if(ln($t.shared.gl,".useProgram(",pn,".program);"),en.shader.program)Gn($t,ln,en,en.shader.program);else{ln($t.shared.vao,".setVAO(null);");var Ln=$t.global.def("{}"),In=ln.def(pn,".id"),Hn=ln.def(Ln,"[",In,"]");ln($t.cond(Hn).then(Hn,".call(this,a0);").else(Hn,"=",Ln,"[",In,"]=",$t.link(function(qn){return Pn(Gn,$t,en,qn,1)}),"(",pn,");",Hn,".call(this,a0);"))}0<Object.keys(en.state).length&&ln($t.shared.current,".dirty=true;"),$t.shared.vao&&ln($t.shared.vao,".setVAO(null);")}(Tn,fn),lr(Tn,fn),function($t,en){function ln(Zn){return Zn.contextDep&&Ln||Zn.propDep}var pn=$t.proc("batch",2);$t.batchId="0",hn($t,pn);var Ln=!1,In=!0;Object.keys(en.context).forEach(function(Zn){Ln=Ln||en.context[Zn].propDep}),Ln||(dn($t,pn,en.context),In=!1);var Hn=!1;if((qn=en.framebuffer)?(qn.propDep?Ln=Hn=!0:qn.contextDep&&Ln&&(Hn=!0),Hn||Kt($t,pn,qn)):Kt($t,pn,null),en.state.viewport&&en.state.viewport.propDep&&(Ln=!0),un($t,pn,en),rn($t,pn,en.state,function(Zn){return!ln(Zn)}),en.profile&&ln(en.profile)||kn($t,pn,en,!1,"a1"),en.contextDep=Ln,en.needsContext=In,en.needsFramebuffer=Hn,(In=en.shader.progVar).contextDep&&Ln||In.propDep)or($t,pn,en,null);else if(In=In.append($t,pn),pn($t.shared.gl,".useProgram(",In,".program);"),en.shader.program)or($t,pn,en,en.shader.program);else{pn($t.shared.vao,".setVAO(null);");var qn=$t.global.def("{}"),er=(Hn=pn.def(In,".id"),pn.def(qn,"[",Hn,"]"));pn($t.cond(er).then(er,".call(this,a0,a1);").else(er,"=",qn,"[",Hn,"]=",$t.link(function(Zn){return Pn(or,$t,en,Zn,2)}),"(",In,");",er,".call(this,a0,a1);"))}0<Object.keys(en.state).length&&pn($t.shared.current,".dirty=true;"),$t.shared.vao&&pn($t.shared.vao,".setVAO(null);")}(Tn,fn),ee(Tn.compile(),{destroy:function(){fn.shader.program.destroy()}})}}}function J(Ve,Je){for(var ct=0;ct<Ve.length;++ct)if(Ve[ct]===Je)return ct;return-1}var ee=function(Ve,Je){for(var ct=Object.keys(Je),st=0;st<ct.length;++st)Ve[ct[st]]=Je[ct[st]];return Ve},ie=0,oe={DynamicVariable:L,define:function(Ve,Je){return new L(Ve,k(Je+""))},isDynamic:function(Ve){return typeof Ve=="function"&&!Ve._reglType||Ve instanceof L},unbox:function Ve(Je,ct){return typeof Je=="function"?new L(0,Je):typeof Je=="number"||typeof Je=="boolean"?new L(5,Je):Array.isArray(Je)?new L(6,Je.map(function(st,je){return Ve(st)})):Je instanceof L?Je:void 0},accessor:k},ae={next:typeof requestAnimationFrame=="function"?function(Ve){return requestAnimationFrame(Ve)}:function(Ve){return setTimeout(Ve,16)},cancel:typeof cancelAnimationFrame=="function"?function(Ve){return cancelAnimationFrame(Ve)}:clearTimeout},ce=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},ge=s();ge.zero=s();var ve=function(Ve,Je){var ct=1;Je.ext_texture_filter_anisotropic&&(ct=Ve.getParameter(34047));var st=1,je=1;Je.webgl_draw_buffers&&(st=Ve.getParameter(34852),je=Ve.getParameter(36063));var Ue=!!Je.oes_texture_float;if(Ue){Ue=Ve.createTexture(),Ve.bindTexture(3553,Ue),Ve.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var lt=Ve.createFramebuffer();if(Ve.bindFramebuffer(36160,lt),Ve.framebufferTexture2D(36160,36064,3553,Ue,0),Ve.bindTexture(3553,null),Ve.checkFramebufferStatus(36160)!==36053)Ue=!1;else{Ve.viewport(0,0,1,1),Ve.clearColor(1,0,0,1),Ve.clear(16384);var Qe=ge.allocType(5126,4);Ve.readPixels(0,0,1,1,6408,5126,Qe),Ve.getError()?Ue=!1:(Ve.deleteFramebuffer(lt),Ve.deleteTexture(Ue),Ue=Qe[0]===1),ge.freeType(Qe)}}return Qe=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(Qe=Ve.createTexture(),lt=ge.allocType(5121,36),Ve.activeTexture(33984),Ve.bindTexture(34067,Qe),Ve.texImage2D(34069,0,6408,3,3,0,6408,5121,lt),ge.freeType(lt),Ve.bindTexture(34067,null),Ve.deleteTexture(Qe),Qe=!Ve.getError()),{colorBits:[Ve.getParameter(3410),Ve.getParameter(3411),Ve.getParameter(3412),Ve.getParameter(3413)],depthBits:Ve.getParameter(3414),stencilBits:Ve.getParameter(3415),subpixelBits:Ve.getParameter(3408),extensions:Object.keys(Je).filter(function(gt){return!!Je[gt]}),maxAnisotropic:ct,maxDrawbuffers:st,maxColorAttachments:je,pointSizeDims:Ve.getParameter(33901),lineWidthDims:Ve.getParameter(33902),maxViewportDims:Ve.getParameter(3386),maxCombinedTextureUnits:Ve.getParameter(35661),maxCubeMapSize:Ve.getParameter(34076),maxRenderbufferSize:Ve.getParameter(34024),maxTextureUnits:Ve.getParameter(34930),maxTextureSize:Ve.getParameter(3379),maxAttributes:Ve.getParameter(34921),maxVertexUniforms:Ve.getParameter(36347),maxVertexTextureUnits:Ve.getParameter(35660),maxVaryingVectors:Ve.getParameter(36348),maxFragmentUniforms:Ve.getParameter(36349),glsl:Ve.getParameter(35724),renderer:Ve.getParameter(7937),vendor:Ve.getParameter(7936),version:Ve.getParameter(7938),readFloat:Ue,npotTextureCube:Qe}},be=function(Ve){return Ve instanceof Uint8Array||Ve instanceof Uint16Array||Ve instanceof Uint32Array||Ve instanceof Int8Array||Ve instanceof Int16Array||Ve instanceof Int32Array||Ve instanceof Float32Array||Ve instanceof Float64Array||Ve instanceof Uint8ClampedArray},we=function(Ve){return Object.keys(Ve).map(function(Je){return Ve[Je]})},ye={shape:function(Ve){for(var Je=[];Ve.length;Ve=Ve[0])Je.push(Ve.length);return Je},flatten:function(Ve,Je,ct,st){var je=1;if(Je.length)for(var Ue=0;Ue<Je.length;++Ue)je*=Je[Ue];else je=0;switch(ct=st||ge.allocType(ct,je),Je.length){case 0:break;case 1:for(st=Je[0],Je=0;Je<st;++Je)ct[Je]=Ve[Je];break;case 2:for(st=Je[0],Je=Je[1],Ue=je=0;Ue<st;++Ue)for(var lt=Ve[Ue],Qe=0;Qe<Je;++Qe)ct[je++]=lt[Qe];break;case 3:a(Ve,Je[0],Je[1],Je[2],ct,0);break;default:n(Ve,Je,0,ct,0)}return ct}},me={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ae={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},ke={dynamic:35048,stream:35040,static:35044},fe=ye.flatten,le=ye.shape,de=[];de[5120]=1,de[5122]=2,de[5124]=4,de[5121]=1,de[5123]=2,de[5125]=4,de[5126]=4;var Ce={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Me=new Float32Array(1),Le=new Uint32Array(Me.buffer),Oe=[9984,9986,9985,9987],Be=[0,6409,6410,6407,6408],pe={};pe[6409]=pe[6406]=pe[6402]=1,pe[34041]=pe[6410]=2,pe[6407]=pe[35904]=3,pe[6408]=pe[35906]=4;var _e=d("HTMLCanvasElement"),Te=d("OffscreenCanvas"),Re=d("CanvasRenderingContext2D"),Ne=d("ImageBitmap"),ze=d("HTMLImageElement"),Ge=d("HTMLVideoElement"),Ye=Object.keys(me).concat([_e,Te,Re,Ne,ze,Ge]),et=[];et[5121]=1,et[5126]=4,et[36193]=2,et[5123]=2,et[5125]=4;var ut=[];ut[32854]=2,ut[32855]=2,ut[36194]=2,ut[34041]=4,ut[33776]=.5,ut[33777]=.5,ut[33778]=1,ut[33779]=1,ut[35986]=.5,ut[35987]=1,ut[34798]=1,ut[35840]=.5,ut[35841]=.25,ut[35842]=.5,ut[35843]=.25,ut[36196]=.5;var ot=[];ot[32854]=2,ot[32855]=2,ot[36194]=2,ot[33189]=2,ot[36168]=1,ot[34041]=4,ot[35907]=4,ot[34836]=16,ot[34842]=8,ot[34843]=6;var yt=function(Ve,Je,ct,st,je){function Ue(dt){this.id=mt++,this.refCount=1,this.renderbuffer=dt,this.format=32854,this.height=this.width=0,je.profile&&(this.stats={size:0})}function lt(dt){var Lt=dt.renderbuffer;Ve.bindRenderbuffer(36161,null),Ve.deleteRenderbuffer(Lt),dt.renderbuffer=null,dt.refCount=0,delete xt[dt.id],st.renderbufferCount--}var Qe={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Je.ext_srgb&&(Qe.srgba=35907),Je.ext_color_buffer_half_float&&(Qe.rgba16f=34842,Qe.rgb16f=34843),Je.webgl_color_buffer_float&&(Qe.rgba32f=34836);var gt=[];Object.keys(Qe).forEach(function(dt){gt[Qe[dt]]=dt});var mt=0,xt={};return Ue.prototype.decRef=function(){0>=--this.refCount&&lt(this)},je.profile&&(st.getTotalRenderbufferSize=function(){var dt=0;return Object.keys(xt).forEach(function(Lt){dt+=xt[Lt].stats.size}),dt}),{create:function(dt,Lt){function kt(Ot,Pt){var Bt=0,Jt=0,on=32854;if(typeof Ot=="object"&&Ot?("shape"in Ot?(Bt=0|(Jt=Ot.shape)[0],Jt=0|Jt[1]):("radius"in Ot&&(Bt=Jt=0|Ot.radius),"width"in Ot&&(Bt=0|Ot.width),"height"in Ot&&(Jt=0|Ot.height)),"format"in Ot&&(on=Qe[Ot.format])):typeof Ot=="number"?(Bt=0|Ot,Jt=typeof Pt=="number"?0|Pt:Bt):Ot||(Bt=Jt=1),Bt!==_t.width||Jt!==_t.height||on!==_t.format)return kt.width=_t.width=Bt,kt.height=_t.height=Jt,_t.format=on,Ve.bindRenderbuffer(36161,_t.renderbuffer),Ve.renderbufferStorage(36161,on,Bt,Jt),je.profile&&(_t.stats.size=ot[_t.format]*_t.width*_t.height),kt.format=gt[_t.format],kt}var _t=new Ue(Ve.createRenderbuffer());return xt[_t.id]=_t,st.renderbufferCount++,kt(dt,Lt),kt.resize=function(Ot,Pt){var Bt=0|Ot,Jt=0|Pt||Bt;return Bt===_t.width&&Jt===_t.height||(kt.width=_t.width=Bt,kt.height=_t.height=Jt,Ve.bindRenderbuffer(36161,_t.renderbuffer),Ve.renderbufferStorage(36161,_t.format,Bt,Jt),je.profile&&(_t.stats.size=ot[_t.format]*_t.width*_t.height)),kt},kt._reglType="renderbuffer",kt._renderbuffer=_t,je.profile&&(kt.stats=_t.stats),kt.destroy=function(){_t.decRef()},kt},clear:function(){we(xt).forEach(lt)},restore:function(){we(xt).forEach(function(dt){dt.renderbuffer=Ve.createRenderbuffer(),Ve.bindRenderbuffer(36161,dt.renderbuffer),Ve.renderbufferStorage(36161,dt.format,dt.width,dt.height)}),Ve.bindRenderbuffer(36161,null)}}},wt=[];wt[6408]=4,wt[6407]=3;var bt=[];bt[5121]=1,bt[5126]=4,bt[36193]=2;var at=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],rt=["x","y","z","w"],At="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Rt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ft={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Dt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Xe={cw:2304,ccw:2305},Ke=new H(!1,!1,!1,function(){});return function(Ve){function Je(){if(Nn.length===0)qt&&qt.update(),$n=null;else{$n=ae.next(Je),xt();for(var Ht=Nn.length-1;0<=Ht;--Ht){var an=Nn[Ht];an&&an(An,null,0)}kt.flush(),qt&&qt.update()}}function ct(){!$n&&0<Nn.length&&($n=ae.next(Je))}function st(){$n&&(ae.cancel(Je),$n=null)}function je(Ht){Ht.preventDefault(),st(),or.forEach(function(an){an()})}function Ue(Ht){kt.getError(),Ot.restore(),hn.restore(),Kt.restore(),kn.restore(),Sn.restore(),Rn.restore(),rn.restore(),qt&&qt.restore(),zn.procs.refresh(),ct(),lr.forEach(function(an){an()})}function lt(Ht){function an(It,Xt){var tn={},bn={};return Object.keys(It).forEach(function(yn){var Tn=It[yn];if(oe.isDynamic(Tn))bn[yn]=oe.unbox(Tn,yn);else{if(Xt&&Array.isArray(Tn)){for(var fn=0;fn<Tn.length;++fn)if(oe.isDynamic(Tn[fn]))return void(bn[yn]=oe.unbox(Tn,yn))}tn[yn]=Tn}}),{dynamic:bn,static:tn}}var _n=an(Ht.context||{},!0),vn=an(Ht.uniforms||{},!0),En=an(Ht.attributes||{},!1);Ht=an(function(It){function Xt(bn){if(bn in tn){var yn=tn[bn];delete tn[bn],Object.keys(yn).forEach(function(Tn){tn[bn+"."+Tn]=yn[Tn]})}}var tn=ee({},It);return delete tn.uniforms,delete tn.attributes,delete tn.context,delete tn.vao,"stencil"in tn&&tn.stencil.op&&(tn.stencil.opBack=tn.stencil.opFront=tn.stencil.op,delete tn.stencil.op),Xt("blend"),Xt("depth"),Xt("cull"),Xt("stencil"),Xt("polygonOffset"),Xt("scissor"),Xt("sample"),"vao"in It&&(tn.vao=It.vao),tn}(Ht),!1);var Yn={gpuTime:0,cpuTime:0,count:0},Fn=zn.compile(Ht,En,vn,_n,Yn),jn=Fn.draw,ir=Fn.batch,Zt=Fn.scope,mn=[];return ee(function(It,Xt){var tn;if(typeof It=="function")return Zt.call(this,null,It,0);if(typeof Xt=="function")if(typeof It=="number")for(tn=0;tn<It;++tn)Zt.call(this,null,Xt,tn);else{if(!Array.isArray(It))return Zt.call(this,It,Xt,0);for(tn=0;tn<It.length;++tn)Zt.call(this,It[tn],Xt,tn)}else if(typeof It=="number"){if(0<It)return ir.call(this,function(bn){for(;mn.length<bn;)mn.push(null);return mn}(0|It),0|It)}else{if(!Array.isArray(It))return jn.call(this,It);if(It.length)return ir.call(this,It,It.length)}},{stats:Yn,destroy:function(){Fn.destroy()}})}function Qe(Ht,an){var _n=0;zn.procs.poll();var vn=an.color;vn&&(kt.clearColor(+vn[0]||0,+vn[1]||0,+vn[2]||0,+vn[3]||0),_n|=16384),"depth"in an&&(kt.clearDepth(+an.depth),_n|=256),"stencil"in an&&(kt.clearStencil(0|an.stencil),_n|=1024),kt.clear(_n)}function gt(Ht){return Nn.push(Ht),ct(),{cancel:function(){var an=J(Nn,Ht);Nn[an]=function _n(){var vn=J(Nn,_n);Nn[vn]=Nn[Nn.length-1],--Nn.length,0>=Nn.length&&st()}}}}function mt(){var Ht=Pn.viewport,an=Pn.scissor_box;Ht[0]=Ht[1]=an[0]=an[1]=0,An.viewportWidth=An.framebufferWidth=An.drawingBufferWidth=Ht[2]=an[2]=kt.drawingBufferWidth,An.viewportHeight=An.framebufferHeight=An.drawingBufferHeight=Ht[3]=an[3]=kt.drawingBufferHeight}function xt(){An.tick+=1,An.time=Lt(),mt(),zn.procs.poll()}function dt(){kn.refresh(),mt(),zn.procs.refresh(),qt&&qt.update()}function Lt(){return(ce()-Gt)/1e3}if(!(Ve=_(Ve)))return null;var kt=Ve.gl,_t=kt.getContextAttributes();kt.isContextLost();var Ot=function(Ht,an){function _n(Fn){var jn;Fn=Fn.toLowerCase();try{jn=vn[Fn]=Ht.getExtension(Fn)}catch{}return!!jn}for(var vn={},En=0;En<an.extensions.length;++En){var Yn=an.extensions[En];if(!_n(Yn))return an.onDestroy(),an.onDone('"'+Yn+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return an.optionalExtensions.forEach(_n),{extensions:vn,restore:function(){Object.keys(vn).forEach(function(Fn){if(vn[Fn]&&!_n(Fn))throw Error("(regl): error restoring extension "+Fn)})}}}(kt,Ve);if(!Ot)return null;var Pt=function(){var Ht={"":0},an=[""];return{id:function(_n){var vn=Ht[_n];return vn||(vn=Ht[_n]=an.length,an.push(_n),vn)},str:function(_n){return an[_n]}}}(),Bt={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Jt=Ve.cachedCode||{},on=Ot.extensions,qt=function(Ht,an){function _n(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function vn(mn,It,Xt){var tn=Fn.pop()||new _n;tn.startQueryIndex=mn,tn.endQueryIndex=It,tn.sum=0,tn.stats=Xt,jn.push(tn)}if(!an.ext_disjoint_timer_query)return null;var En=[],Yn=[],Fn=[],jn=[],ir=[],Zt=[];return{beginQuery:function(mn){var It=En.pop()||an.ext_disjoint_timer_query.createQueryEXT();an.ext_disjoint_timer_query.beginQueryEXT(35007,It),Yn.push(It),vn(Yn.length-1,Yn.length,mn)},endQuery:function(){an.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:vn,update:function(){var mn,It;if((mn=Yn.length)!==0){Zt.length=Math.max(Zt.length,mn+1),ir.length=Math.max(ir.length,mn+1),ir[0]=0;var Xt=Zt[0]=0;for(It=mn=0;It<Yn.length;++It){var tn=Yn[It];an.ext_disjoint_timer_query.getQueryObjectEXT(tn,34919)?(Xt+=an.ext_disjoint_timer_query.getQueryObjectEXT(tn,34918),En.push(tn)):Yn[mn++]=tn,ir[It+1]=Xt,Zt[It+1]=mn}for(Yn.length=mn,It=mn=0;It<jn.length;++It){var bn=(Xt=jn[It]).startQueryIndex;tn=Xt.endQueryIndex,Xt.sum+=ir[tn]-ir[bn],bn=Zt[bn],(tn=Zt[tn])===bn?(Xt.stats.gpuTime+=Xt.sum/1e6,Fn.push(Xt)):(Xt.startQueryIndex=bn,Xt.endQueryIndex=tn,jn[mn++]=Xt)}jn.length=mn}},getNumPendingQueries:function(){return Yn.length},clear:function(){En.push.apply(En,Yn);for(var mn=0;mn<En.length;mn++)an.ext_disjoint_timer_query.deleteQueryEXT(En[mn]);Yn.length=0,En.length=0},restore:function(){Yn.length=0,En.length=0}}}(0,on),Gt=ce(),nn=kt.drawingBufferWidth,Cn=kt.drawingBufferHeight,An={tick:0,time:0,viewportWidth:nn,viewportHeight:Cn,framebufferWidth:nn,framebufferHeight:Cn,drawingBufferWidth:nn,drawingBufferHeight:Cn,pixelRatio:Ve.pixelRatio},dn=(nn={elements:null,primitive:4,count:-1,offset:0,instances:-1},ve(kt,on)),Kt=u(kt,Bt,Ve,function(Ht){return rn.destroyBuffer(Ht)}),un=h(kt,on,Kt,Bt),rn=P(kt,on,dn,Bt,Kt,un,nn),hn=O(kt,Pt,Bt,Ve),kn=S(kt,on,dn,function(){zn.procs.poll()},An,Bt,Ve),Sn=yt(kt,on,0,Bt,Ve),Rn=M(kt,on,dn,kn,Sn,Bt),zn=X(kt,Pt,on,dn,Kt,un,0,Rn,{},rn,hn,nn,An,qt,Jt,Ve),Pn=(Pt=I(kt,Rn,zn.procs.poll,An),zn.next),Gn=kt.canvas,Nn=[],or=[],lr=[],cr=[Ve.onDestroy],$n=null;Gn&&(Gn.addEventListener("webglcontextlost",je,!1),Gn.addEventListener("webglcontextrestored",Ue,!1));var Ar=Rn.setFBO=lt({framebuffer:oe.define.call(null,1,"framebuffer")});return dt(),_t=ee(lt,{clear:function(Ht){if("framebuffer"in Ht)if(Ht.framebuffer&&Ht.framebuffer_reglType==="framebufferCube")for(var an=0;6>an;++an)Ar(ee({framebuffer:Ht.framebuffer.faces[an]},Ht),Qe);else Ar(Ht,Qe);else Qe(0,Ht)},prop:oe.define.bind(null,1),context:oe.define.bind(null,2),this:oe.define.bind(null,3),draw:lt({}),buffer:function(Ht){return Kt.create(Ht,34962,!1,!1)},elements:function(Ht){return un.create(Ht,!1)},texture:kn.create2D,cube:kn.createCube,renderbuffer:Sn.create,framebuffer:Rn.create,framebufferCube:Rn.createCube,vao:rn.createVAO,attributes:_t,frame:gt,on:function(Ht,an){var _n;switch(Ht){case"frame":return gt(an);case"lost":_n=or;break;case"restore":_n=lr;break;case"destroy":_n=cr}return _n.push(an),{cancel:function(){for(var vn=0;vn<_n.length;++vn)if(_n[vn]===an){_n[vn]=_n[_n.length-1],_n.pop();break}}}},limits:dn,hasExtension:function(Ht){return 0<=dn.extensions.indexOf(Ht.toLowerCase())},read:Pt,destroy:function(){Nn.length=0,st(),Gn&&(Gn.removeEventListener("webglcontextlost",je),Gn.removeEventListener("webglcontextrestored",Ue)),hn.clear(),Rn.clear(),Sn.clear(),rn.clear(),kn.clear(),un.clear(),Kt.clear(),qt&&qt.clear(),cr.forEach(function(Ht){Ht()})},_gl:kt,_refresh:dt,poll:function(){xt(),qt&&qt.update()},now:Lt,stats:Bt,getCachedCode:function(){return Jt},preloadCachedCode:function(Ht){Object.entries(Ht).forEach(function(an){Jt[an[0]]=an[1]})}}),Ve.onDone(null,_t),_t}}()},30456:function(B,L,e){var k=e(33576),w=k.Buffer;function r(v,f){for(var s in v)f[s]=v[s]}function _(v,f,s){return w(v,f,s)}w.from&&w.alloc&&w.allocUnsafe&&w.allocUnsafeSlow?B.exports=k:(r(k,L),L.Buffer=_),_.prototype=Object.create(w.prototype),r(w,_),_.from=function(v,f,s){if(typeof v=="number")throw new TypeError("Argument must not be a number");return w(v,f,s)},_.alloc=function(v,f,s){if(typeof v!="number")throw new TypeError("Argument must be a number");var t=w(v);return f!==void 0?typeof s=="string"?t.fill(f,s):t.fill(f):t.fill(0),t},_.allocUnsafe=function(v){if(typeof v!="number")throw new TypeError("Argument must be a number");return w(v)},_.allocUnsafeSlow=function(v){if(typeof v!="number")throw new TypeError("Argument must be a number");return k.SlowBuffer(v)}},14500:function(B,L,e){var k=e(53664),w=e(64348),r=e(39640)(),_=e(2304),v=k("%TypeError%"),f=k("%Math.floor%");B.exports=function(s,t){if(typeof s!="function")throw new v("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||f(t)!==t)throw new v("`length` must be a positive 32-bit integer");var a=arguments.length>2&&!!arguments[2],n=!0,i=!0;if("length"in s&&_){var l=_(s,"length");l&&!l.configurable&&(n=!1),l&&!l.writable&&(i=!1)}return(n||i||!a)&&(r?w(s,"length",t,!0,!0):w(s,"length",t)),s}},29936:function(B,L,e){B.exports=w;var k=e(61252).EventEmitter;function w(){k.call(this)}e(6768)(w,k),w.Readable=e(12348),w.Writable=e(11288),w.Duplex=e(15316),w.Transform=e(22477),w.PassThrough=e(27136),w.finished=e(15932),w.pipeline=e(38180),w.Stream=w,w.prototype.pipe=function(r,_){var v=this;function f(o){r.writable&&r.write(o)===!1&&v.pause&&v.pause()}function s(){v.readable&&v.resume&&v.resume()}v.on("data",f),r.on("drain",s),r._isStdio||_&&_.end===!1||(v.on("end",a),v.on("close",n));var t=!1;function a(){t||(t=!0,r.end())}function n(){t||(t=!0,typeof r.destroy=="function"&&r.destroy())}function i(o){if(l(),k.listenerCount(this,"error")===0)throw o}function l(){v.removeListener("data",f),r.removeListener("drain",s),v.removeListener("end",a),v.removeListener("close",n),v.removeListener("error",i),r.removeListener("error",i),v.removeListener("end",l),v.removeListener("close",l),r.removeListener("close",l)}return v.on("error",i),r.on("error",i),v.on("end",l),v.on("close",l),r.on("close",l),r.emit("pipe",v),r}},92784:function(B){var L={};function e(w,r,_){_||(_=Error);var v=function(f){var s,t;function a(n,i,l){return f.call(this,function(o,u,h){return typeof r=="string"?r:r(o,u,h)}(n,i,l))||this}return t=f,(s=a).prototype=Object.create(t.prototype),s.prototype.constructor=s,s.__proto__=t,a}(_);v.prototype.name=_.name,v.prototype.code=w,L[w]=v}function k(w,r){if(Array.isArray(w)){var _=w.length;return w=w.map(function(v){return String(v)}),_>2?"one of ".concat(r," ").concat(w.slice(0,_-1).join(", "),", or ")+w[_-1]:_===2?"one of ".concat(r," ").concat(w[0]," or ").concat(w[1]):"of ".concat(r," ").concat(w[0])}return"of ".concat(r," ").concat(String(w))}e("ERR_INVALID_OPT_VALUE",function(w,r){return'The value "'+r+'" is invalid for option "'+w+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(w,r,_){var v,f,s,t,a;if(typeof r=="string"&&(f="not ",r.substr(0,4)===f)?(v="must not be",r=r.replace(/^not /,"")):v="must be",function(i,l,o){return(o===void 0||o>i.length)&&(o=i.length),i.substring(o-9,o)===l}(w," argument"))s="The ".concat(w," ").concat(v," ").concat(k(r,"type"));else{var n=(typeof a!="number"&&(a=0),a+1>(t=w).length||t.indexOf(".",a)===-1?"argument":"property");s='The "'.concat(w,'" ').concat(n," ").concat(v," ").concat(k(r,"type"))}return s+". Received type ".concat(typeof _)},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(w){return"The "+w+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(w){return"Cannot call "+w+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(w){return"Unknown encoding: "+w},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),B.exports.i=L},15316:function(B,L,e){var k=e(4168),w=Object.keys||function(i){var l=[];for(var o in i)l.push(o);return l};B.exports=t;var r=e(12348),_=e(11288);e(6768)(t,r);for(var v=w(_.prototype),f=0;f<v.length;f++){var s=v[f];t.prototype[s]||(t.prototype[s]=_.prototype[s])}function t(i){if(!(this instanceof t))return new t(i);r.call(this,i),_.call(this,i),this.allowHalfOpen=!0,i&&(i.readable===!1&&(this.readable=!1),i.writable===!1&&(this.writable=!1),i.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}function a(){this._writableState.ended||k.nextTick(n,this)}function n(i){i.end()}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(i){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=i,this._writableState.destroyed=i)}})},27136:function(B,L,e){B.exports=w;var k=e(22477);function w(r){if(!(this instanceof w))return new w(r);k.call(this,r)}e(6768)(w,k),w.prototype._transform=function(r,_,v){v(null,r)}},12348:function(B,L,e){var k,w=e(4168);B.exports=T,T.ReadableState=x,e(61252).EventEmitter;var r,_=function(Q,K){return Q.listeners(K).length},v=e(4776),f=e(33576).Buffer,s=e.g.Uint8Array||function(){},t=e(19768);r=t&&t.debuglog?t.debuglog("stream"):function(){};var a,n,i,l=e(47264),o=e(55324),u=e(24888).getHighWaterMark,h=e(92784).i,c=h.ERR_INVALID_ARG_TYPE,b=h.ERR_STREAM_PUSH_AFTER_EOF,d=h.ERR_METHOD_NOT_IMPLEMENTED,g=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e(6768)(T,v);var m=o.errorOrDestroy,y=["error","close","destroy","pause","resume"];function x(Q,K,X){k=k||e(15316),Q=Q||{},typeof X!="boolean"&&(X=K instanceof k),this.objectMode=!!Q.objectMode,X&&(this.objectMode=this.objectMode||!!Q.readableObjectMode),this.highWaterMark=u(this,Q,"readableHighWaterMark",X),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.destroyed=!1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Q.encoding&&(a||(a=e(86032).o),this.decoder=new a(Q.encoding),this.encoding=Q.encoding)}function T(Q){if(k=k||e(15316),!(this instanceof T))return new T(Q);var K=this instanceof k;this._readableState=new x(Q,this,K),this.readable=!0,Q&&(typeof Q.read=="function"&&(this._read=Q.read),typeof Q.destroy=="function"&&(this._destroy=Q.destroy)),v.call(this)}function p(Q,K,X,J,ee){r("readableAddChunk",K);var ie,oe=Q._readableState;if(K===null)oe.reading=!1,function(ae,ce){if(r("onEofChunk"),!ce.ended){if(ce.decoder){var ge=ce.decoder.end();ge&&ge.length&&(ce.buffer.push(ge),ce.length+=ce.objectMode?1:ge.length)}ce.ended=!0,ce.sync?P(ae):(ce.needReadable=!1,ce.emittedReadable||(ce.emittedReadable=!0,O(ae)))}}(Q,oe);else if(ee||(ie=function(ae,ce){var ge,ve;return ve=ce,f.isBuffer(ve)||ve instanceof s||typeof ce=="string"||ce===void 0||ae.objectMode||(ge=new c("chunk",["string","Buffer","Uint8Array"],ce)),ge}(oe,K)),ie)m(Q,ie);else if(oe.objectMode||K&&K.length>0)if(typeof K=="string"||oe.objectMode||Object.getPrototypeOf(K)===f.prototype||(K=function(ae){return f.from(ae)}(K)),J)oe.endEmitted?m(Q,new g):S(Q,oe,K,!0);else if(oe.ended)m(Q,new b);else{if(oe.destroyed)return!1;oe.reading=!1,oe.decoder&&!X?(K=oe.decoder.write(K),oe.objectMode||K.length!==0?S(Q,oe,K,!1):I(Q,oe)):S(Q,oe,K,!1)}else J||(oe.reading=!1,I(Q,oe));return!oe.ended&&(oe.length<oe.highWaterMark||oe.length===0)}function S(Q,K,X,J){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,Q.emit("data",X)):(K.length+=K.objectMode?1:X.length,J?K.buffer.unshift(X):K.buffer.push(X),K.needReadable&&P(Q)),I(Q,K)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Q){this._readableState&&(this._readableState.destroyed=Q)}}),T.prototype.destroy=o.destroy,T.prototype._undestroy=o.undestroy,T.prototype._destroy=function(Q,K){K(Q)},T.prototype.push=function(Q,K){var X,J=this._readableState;return J.objectMode?X=!0:typeof Q=="string"&&((K=K||J.defaultEncoding)!==J.encoding&&(Q=f.from(Q,K),K=""),X=!0),p(this,Q,K,!1,X)},T.prototype.unshift=function(Q){return p(this,Q,null,!0,!1)},T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(Q){a||(a=e(86032).o);var K=new a(Q);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var X=this._readableState.buffer.head,J="";X!==null;)J+=K.write(X.data),X=X.next;return this._readableState.buffer.clear(),J!==""&&this._readableState.buffer.push(J),this._readableState.length=J.length,this};var M=1073741824;function E(Q,K){return Q<=0||K.length===0&&K.ended?0:K.objectMode?1:Q!=Q?K.flowing&&K.length?K.buffer.head.data.length:K.length:(Q>K.highWaterMark&&(K.highWaterMark=function(X){return X>=M?X=M:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X}(Q)),Q<=K.length?Q:K.ended?K.length:(K.needReadable=!0,0))}function P(Q){var K=Q._readableState;r("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(r("emitReadable",K.flowing),K.emittedReadable=!0,w.nextTick(O,Q))}function O(Q){var K=Q._readableState;r("emitReadable_",K.destroyed,K.length,K.ended),K.destroyed||!K.length&&!K.ended||(Q.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,W(Q)}function I(Q,K){K.readingMore||(K.readingMore=!0,w.nextTick(R,Q,K))}function R(Q,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var X=K.length;if(r("maybeReadMore read 0"),Q.read(0),X===K.length)break}K.readingMore=!1}function U(Q){var K=Q._readableState;K.readableListening=Q.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:Q.listenerCount("data")>0&&Q.resume()}function z(Q){r("readable nexttick read 0"),Q.read(0)}function j(Q,K){r("resume",K.reading),K.reading||Q.read(0),K.resumeScheduled=!1,Q.emit("resume"),W(Q),K.flowing&&!K.reading&&Q.read(0)}function W(Q){var K=Q._readableState;for(r("flow",K.flowing);K.flowing&&Q.read()!==null;);}function F(Q,K){return K.length===0?null:(K.objectMode?X=K.buffer.shift():!Q||Q>=K.length?(X=K.decoder?K.buffer.join(""):K.buffer.length===1?K.buffer.first():K.buffer.concat(K.length),K.buffer.clear()):X=K.buffer.consume(Q,K.decoder),X);var X}function V(Q){var K=Q._readableState;r("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,w.nextTick(H,K,Q))}function H(Q,K){if(r("endReadableNT",Q.endEmitted,Q.length),!Q.endEmitted&&Q.length===0&&(Q.endEmitted=!0,K.readable=!1,K.emit("end"),Q.autoDestroy)){var X=K._writableState;(!X||X.autoDestroy&&X.finished)&&K.destroy()}}function te(Q,K){for(var X=0,J=Q.length;X<J;X++)if(Q[X]===K)return X;return-1}T.prototype.read=function(Q){r("read",Q),Q=parseInt(Q,10);var K=this._readableState,X=Q;if(Q!==0&&(K.emittedReadable=!1),Q===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return r("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?V(this):P(this),null;if((Q=E(Q,K))===0&&K.ended)return K.length===0&&V(this),null;var J,ee=K.needReadable;return r("need readable",ee),(K.length===0||K.length-Q<K.highWaterMark)&&r("length less than watermark",ee=!0),K.ended||K.reading?r("reading or ended",ee=!1):ee&&(r("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(Q=E(X,K))),(J=Q>0?F(Q,K):null)===null?(K.needReadable=K.length<=K.highWaterMark,Q=0):(K.length-=Q,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),X!==Q&&K.ended&&V(this)),J!==null&&this.emit("data",J),J},T.prototype._read=function(Q){m(this,new d("_read()"))},T.prototype.pipe=function(Q,K){var X=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=Q;break;case 1:J.pipes=[J.pipes,Q];break;default:J.pipes.push(Q)}J.pipesCount+=1,r("pipe count=%d opts=%j",J.pipesCount,K);var ee=K&&K.end===!1||Q===w.stdout||Q===w.stderr?we:ie;function ie(){r("onend"),Q.end()}J.endEmitted?w.nextTick(ee):X.once("end",ee),Q.on("unpipe",function ye(me,Ae){r("onunpipe"),me===X&&Ae&&Ae.hasUnpiped===!1&&(Ae.hasUnpiped=!0,r("cleanup"),Q.removeListener("close",ve),Q.removeListener("finish",be),Q.removeListener("drain",oe),Q.removeListener("error",ge),Q.removeListener("unpipe",ye),X.removeListener("end",ie),X.removeListener("end",we),X.removeListener("data",ce),ae=!0,!J.awaitDrain||Q._writableState&&!Q._writableState.needDrain||oe())});var oe=function(ye){return function(){var me=ye._readableState;r("pipeOnDrain",me.awaitDrain),me.awaitDrain&&me.awaitDrain--,me.awaitDrain===0&&_(ye,"data")&&(me.flowing=!0,W(ye))}}(X);Q.on("drain",oe);var ae=!1;function ce(ye){r("ondata");var me=Q.write(ye);r("dest.write",me),me===!1&&((J.pipesCount===1&&J.pipes===Q||J.pipesCount>1&&te(J.pipes,Q)!==-1)&&!ae&&(r("false write response, pause",J.awaitDrain),J.awaitDrain++),X.pause())}function ge(ye){r("onerror",ye),we(),Q.removeListener("error",ge),_(Q,"error")===0&&m(Q,ye)}function ve(){Q.removeListener("finish",be),we()}function be(){r("onfinish"),Q.removeListener("close",ve),we()}function we(){r("unpipe"),X.unpipe(Q)}return X.on("data",ce),function(ye,me,Ae){if(typeof ye.prependListener=="function")return ye.prependListener(me,Ae);ye._events&&ye._events[me]?Array.isArray(ye._events[me])?ye._events[me].unshift(Ae):ye._events[me]=[Ae,ye._events[me]]:ye.on(me,Ae)}(Q,"error",ge),Q.once("close",ve),Q.once("finish",be),Q.emit("pipe",X),J.flowing||(r("pipe resume"),X.resume()),Q},T.prototype.unpipe=function(Q){var K=this._readableState,X={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return Q&&Q!==K.pipes||(Q||(Q=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,Q&&Q.emit("unpipe",this,X)),this;if(!Q){var J=K.pipes,ee=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var ie=0;ie<ee;ie++)J[ie].emit("unpipe",this,{hasUnpiped:!1});return this}var oe=te(K.pipes,Q);return oe===-1||(K.pipes.splice(oe,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),Q.emit("unpipe",this,X)),this},T.prototype.on=function(Q,K){var X=v.prototype.on.call(this,Q,K),J=this._readableState;return Q==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):Q==="readable"&&(J.endEmitted||J.readableListening||(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,r("on readable",J.length,J.reading),J.length?P(this):J.reading||w.nextTick(z,this))),X},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(Q,K){var X=v.prototype.removeListener.call(this,Q,K);return Q==="readable"&&w.nextTick(U,this),X},T.prototype.removeAllListeners=function(Q){var K=v.prototype.removeAllListeners.apply(this,arguments);return Q!=="readable"&&Q!==void 0||w.nextTick(U,this),K},T.prototype.resume=function(){var Q=this._readableState;return Q.flowing||(r("resume"),Q.flowing=!Q.readableListening,function(K,X){X.resumeScheduled||(X.resumeScheduled=!0,w.nextTick(j,K,X))}(this,Q)),Q.paused=!1,this},T.prototype.pause=function(){return r("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(r("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},T.prototype.wrap=function(Q){var K=this,X=this._readableState,J=!1;for(var ee in Q.on("end",function(){if(r("wrapped end"),X.decoder&&!X.ended){var oe=X.decoder.end();oe&&oe.length&&K.push(oe)}K.push(null)}),Q.on("data",function(oe){r("wrapped data"),X.decoder&&(oe=X.decoder.write(oe)),X.objectMode&&oe==null||(X.objectMode||oe&&oe.length)&&(K.push(oe)||(J=!0,Q.pause()))}),Q)this[ee]===void 0&&typeof Q[ee]=="function"&&(this[ee]=function(oe){return function(){return Q[oe].apply(Q,arguments)}}(ee));for(var ie=0;ie<y.length;ie++)Q.on(y[ie],this.emit.bind(this,y[ie]));return this._read=function(oe){r("wrapped _read",oe),J&&(J=!1,Q.resume())},this},typeof Symbol=="function"&&(T.prototype[Symbol.asyncIterator]=function(){return n===void 0&&(n=e(60328)),n(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Q){this._readableState&&(this._readableState.flowing=Q)}}),T._fromList=F,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(T.from=function(Q,K){return i===void 0&&(i=e(90555)),i(T,Q,K)})},22477:function(B,L,e){B.exports=t;var k=e(92784).i,w=k.ERR_METHOD_NOT_IMPLEMENTED,r=k.ERR_MULTIPLE_CALLBACK,_=k.ERR_TRANSFORM_ALREADY_TRANSFORMING,v=k.ERR_TRANSFORM_WITH_LENGTH_0,f=e(15316);function s(i,l){var o=this._transformState;o.transforming=!1;var u=o.writecb;if(u===null)return this.emit("error",new r);o.writechunk=null,o.writecb=null,l!=null&&this.push(l),u(i);var h=this._readableState;h.reading=!1,(h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}function t(i){if(!(this instanceof t))return new t(i);f.call(this,i),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,i&&(typeof i.transform=="function"&&(this._transform=i.transform),typeof i.flush=="function"&&(this._flush=i.flush)),this.on("prefinish",a)}function a(){var i=this;typeof this._flush!="function"||this._readableState.destroyed?n(this,null,null):this._flush(function(l,o){n(i,l,o)})}function n(i,l,o){if(l)return i.emit("error",l);if(o!=null&&i.push(o),i._writableState.length)throw new v;if(i._transformState.transforming)throw new _;return i.push(null)}e(6768)(t,f),t.prototype.push=function(i,l){return this._transformState.needTransform=!1,f.prototype.push.call(this,i,l)},t.prototype._transform=function(i,l,o){o(new w("_transform()"))},t.prototype._write=function(i,l,o){var u=this._transformState;if(u.writecb=o,u.writechunk=i,u.writeencoding=l,!u.transforming){var h=this._readableState;(u.needTransform||h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}},t.prototype._read=function(i){var l=this._transformState;l.writechunk===null||l.transforming?l.needTransform=!0:(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform))},t.prototype._destroy=function(i,l){f.prototype._destroy.call(this,i,function(o){l(o)})}},11288:function(B,L,e){var k,w=e(4168);function r(I){var R=this;this.next=null,this.entry=null,this.finish=function(){(function(U,z,j){var W=U.entry;for(U.entry=null;W;){var F=W.callback;z.pendingcb--,F(void 0),W=W.next}z.corkedRequestsFree.next=U})(R,I)}}B.exports=T,T.WritableState=x;var _,v={deprecate:e(96656)},f=e(4776),s=e(33576).Buffer,t=e.g.Uint8Array||function(){},a=e(55324),n=e(24888).getHighWaterMark,i=e(92784).i,l=i.ERR_INVALID_ARG_TYPE,o=i.ERR_METHOD_NOT_IMPLEMENTED,u=i.ERR_MULTIPLE_CALLBACK,h=i.ERR_STREAM_CANNOT_PIPE,c=i.ERR_STREAM_DESTROYED,b=i.ERR_STREAM_NULL_VALUES,d=i.ERR_STREAM_WRITE_AFTER_END,g=i.ERR_UNKNOWN_ENCODING,m=a.errorOrDestroy;function y(){}function x(I,R,U){k=k||e(15316),I=I||{},typeof U!="boolean"&&(U=R instanceof k),this.objectMode=!!I.objectMode,U&&(this.objectMode=this.objectMode||!!I.writableObjectMode),this.highWaterMark=n(this,I,"writableHighWaterMark",U),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var z=I.decodeStrings===!1;this.decodeStrings=!z,this.defaultEncoding=I.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(j){(function(W,F){var V=W._writableState,H=V.sync,te=V.writecb;if(typeof te!="function")throw new u;if(function(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}(V),F)(function(K,X,J,ee,ie){--X.pendingcb,J?(w.nextTick(ie,ee),w.nextTick(O,K,X),K._writableState.errorEmitted=!0,m(K,ee)):(ie(ee),K._writableState.errorEmitted=!0,m(K,ee),O(K,X))})(W,V,H,F,te);else{var Q=E(V)||W.destroyed;Q||V.corked||V.bufferProcessing||!V.bufferedRequest||M(W,V),H?w.nextTick(S,W,V,Q,te):S(W,V,Q,te)}})(R,j)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function T(I){var R=this instanceof(k=k||e(15316));if(!R&&!_.call(T,this))return new T(I);this._writableState=new x(I,this,R),this.writable=!0,I&&(typeof I.write=="function"&&(this._write=I.write),typeof I.writev=="function"&&(this._writev=I.writev),typeof I.destroy=="function"&&(this._destroy=I.destroy),typeof I.final=="function"&&(this._final=I.final)),f.call(this)}function p(I,R,U,z,j,W,F){R.writelen=z,R.writecb=F,R.writing=!0,R.sync=!0,R.destroyed?R.onwrite(new c("write")):U?I._writev(j,R.onwrite):I._write(j,W,R.onwrite),R.sync=!1}function S(I,R,U,z){U||function(j,W){W.length===0&&W.needDrain&&(W.needDrain=!1,j.emit("drain"))}(I,R),R.pendingcb--,z(),O(I,R)}function M(I,R){R.bufferProcessing=!0;var U=R.bufferedRequest;if(I._writev&&U&&U.next){var z=R.bufferedRequestCount,j=new Array(z),W=R.corkedRequestsFree;W.entry=U;for(var F=0,V=!0;U;)j[F]=U,U.isBuf||(V=!1),U=U.next,F+=1;j.allBuffers=V,p(I,R,!0,R.length,j,"",W.finish),R.pendingcb++,R.lastBufferedRequest=null,W.next?(R.corkedRequestsFree=W.next,W.next=null):R.corkedRequestsFree=new r(R),R.bufferedRequestCount=0}else{for(;U;){var H=U.chunk,te=U.encoding,Q=U.callback;if(p(I,R,!1,R.objectMode?1:H.length,H,te,Q),U=U.next,R.bufferedRequestCount--,R.writing)break}U===null&&(R.lastBufferedRequest=null)}R.bufferedRequest=U,R.bufferProcessing=!1}function E(I){return I.ending&&I.length===0&&I.bufferedRequest===null&&!I.finished&&!I.writing}function P(I,R){I._final(function(U){R.pendingcb--,U&&m(I,U),R.prefinished=!0,I.emit("prefinish"),O(I,R)})}function O(I,R){var U=E(R);if(U&&(function(j,W){W.prefinished||W.finalCalled||(typeof j._final!="function"||W.destroyed?(W.prefinished=!0,j.emit("prefinish")):(W.pendingcb++,W.finalCalled=!0,w.nextTick(P,j,W)))}(I,R),R.pendingcb===0&&(R.finished=!0,I.emit("finish"),R.autoDestroy))){var z=I._readableState;(!z||z.autoDestroy&&z.endEmitted)&&I.destroy()}return U}e(6768)(T,f),x.prototype.getBuffer=function(){for(var I=this.bufferedRequest,R=[];I;)R.push(I),I=I.next;return R},function(){try{Object.defineProperty(x.prototype,"buffer",{get:v.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(I){return!!_.call(this,I)||this===T&&I&&I._writableState instanceof x}})):_=function(I){return I instanceof this},T.prototype.pipe=function(){m(this,new h)},T.prototype.write=function(I,R,U){var z,j=this._writableState,W=!1,F=!j.objectMode&&(z=I,s.isBuffer(z)||z instanceof t);return F&&!s.isBuffer(I)&&(I=function(V){return s.from(V)}(I)),typeof R=="function"&&(U=R,R=null),F?R="buffer":R||(R=j.defaultEncoding),typeof U!="function"&&(U=y),j.ending?function(V,H){var te=new d;m(V,te),w.nextTick(H,te)}(this,U):(F||function(V,H,te,Q){var K;return te===null?K=new b:typeof te=="string"||H.objectMode||(K=new l("chunk",["string","Buffer"],te)),!K||(m(V,K),w.nextTick(Q,K),!1)}(this,j,I,U))&&(j.pendingcb++,W=function(V,H,te,Q,K,X){if(!te){var J=function(ae,ce,ge){return ae.objectMode||ae.decodeStrings===!1||typeof ce!="string"||(ce=s.from(ce,ge)),ce}(H,Q,K);Q!==J&&(te=!0,K="buffer",Q=J)}var ee=H.objectMode?1:Q.length;H.length+=ee;var ie=H.length<H.highWaterMark;if(ie||(H.needDrain=!0),H.writing||H.corked){var oe=H.lastBufferedRequest;H.lastBufferedRequest={chunk:Q,encoding:K,isBuf:te,callback:X,next:null},oe?oe.next=H.lastBufferedRequest:H.bufferedRequest=H.lastBufferedRequest,H.bufferedRequestCount+=1}else p(V,H,!1,ee,Q,K,X);return ie}(this,j,F,I,R,U)),W},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var I=this._writableState;I.corked&&(I.corked--,I.writing||I.corked||I.bufferProcessing||!I.bufferedRequest||M(this,I))},T.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new g(I);return this._writableState.defaultEncoding=I,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(I,R,U){U(new o("_write()"))},T.prototype._writev=null,T.prototype.end=function(I,R,U){var z=this._writableState;return typeof I=="function"?(U=I,I=null,R=null):typeof R=="function"&&(U=R,R=null),I!=null&&this.write(I,R),z.corked&&(z.corked=1,this.uncork()),z.ending||function(j,W,F){W.ending=!0,O(j,W),F&&(W.finished?w.nextTick(F):j.once("finish",F)),W.ended=!0,j.writable=!1}(this,z,U),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(I){this._writableState&&(this._writableState.destroyed=I)}}),T.prototype.destroy=a.destroy,T.prototype._undestroy=a.undestroy,T.prototype._destroy=function(I,R){R(I)}},60328:function(B,L,e){var k,w=e(4168);function r(b,d,g){return d in b?Object.defineProperty(b,d,{value:g,enumerable:!0,configurable:!0,writable:!0}):b[d]=g,b}var _=e(15932),v=Symbol("lastResolve"),f=Symbol("lastReject"),s=Symbol("error"),t=Symbol("ended"),a=Symbol("lastPromise"),n=Symbol("handlePromise"),i=Symbol("stream");function l(b,d){return{value:b,done:d}}function o(b){var d=b[v];if(d!==null){var g=b[i].read();g!==null&&(b[a]=null,b[v]=null,b[f]=null,d(l(g,!1)))}}function u(b){w.nextTick(o,b)}var h=Object.getPrototypeOf(function(){}),c=Object.setPrototypeOf((r(k={get stream(){return this[i]},next:function(){var b=this,d=this[s];if(d!==null)return Promise.reject(d);if(this[t])return Promise.resolve(l(void 0,!0));if(this[i].destroyed)return new Promise(function(x,T){w.nextTick(function(){b[s]?T(b[s]):x(l(void 0,!0))})});var g,m=this[a];if(m)g=new Promise(function(x,T){return function(p,S){x.then(function(){T[t]?p(l(void 0,!0)):T[n](p,S)},S)}}(m,this));else{var y=this[i].read();if(y!==null)return Promise.resolve(l(y,!1));g=new Promise(this[n])}return this[a]=g,g}},Symbol.asyncIterator,function(){return this}),r(k,"return",function(){var b=this;return new Promise(function(d,g){b[i].destroy(null,function(m){m?g(m):d(l(void 0,!0))})})}),k),h);B.exports=function(b){var d,g=Object.create(c,(r(d={},i,{value:b,writable:!0}),r(d,v,{value:null,writable:!0}),r(d,f,{value:null,writable:!0}),r(d,s,{value:null,writable:!0}),r(d,t,{value:b._readableState.endEmitted,writable:!0}),r(d,n,{value:function(m,y){var x=g[i].read();x?(g[a]=null,g[v]=null,g[f]=null,m(l(x,!1))):(g[v]=m,g[f]=y)},writable:!0}),d));return g[a]=null,_(b,function(m){if(m&&m.code!=="ERR_STREAM_PREMATURE_CLOSE"){var y=g[f];return y!==null&&(g[a]=null,g[v]=null,g[f]=null,y(m)),void(g[s]=m)}var x=g[v];x!==null&&(g[a]=null,g[v]=null,g[f]=null,x(l(void 0,!0))),g[t]=!0}),b.on("readable",u.bind(null,g)),g}},47264:function(B,L,e){function k(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),a.push.apply(a,n)}return a}function w(s,t,a){return t in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function r(s,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(s,n.key,n)}}var _=e(33576).Buffer,v=e(21576).inspect,f=v&&v.custom||"inspect";B.exports=function(){function s(){(function(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")})(this,s),this.head=null,this.tail=null,this.length=0}var t,a;return t=s,a=[{key:"push",value:function(n){var i={data:n,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(n){var i={data:n,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var n=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,n}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(n){if(this.length===0)return"";for(var i=this.head,l=""+i.data;i=i.next;)l+=n+i.data;return l}},{key:"concat",value:function(n){if(this.length===0)return _.alloc(0);for(var i,l,o,u=_.allocUnsafe(n>>>0),h=this.head,c=0;h;)i=h.data,l=u,o=c,_.prototype.copy.call(i,l,o),c+=h.data.length,h=h.next;return u}},{key:"consume",value:function(n,i){var l;return n<this.head.data.length?(l=this.head.data.slice(0,n),this.head.data=this.head.data.slice(n)):l=n===this.head.data.length?this.shift():i?this._getString(n):this._getBuffer(n),l}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(n){var i=this.head,l=1,o=i.data;for(n-=o.length;i=i.next;){var u=i.data,h=n>u.length?u.length:n;if(h===u.length?o+=u:o+=u.slice(0,n),(n-=h)==0){h===u.length?(++l,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=u.slice(h));break}++l}return this.length-=l,o}},{key:"_getBuffer",value:function(n){var i=_.allocUnsafe(n),l=this.head,o=1;for(l.data.copy(i),n-=l.data.length;l=l.next;){var u=l.data,h=n>u.length?u.length:n;if(u.copy(i,i.length-n,0,h),(n-=h)==0){h===u.length?(++o,l.next?this.head=l.next:this.head=this.tail=null):(this.head=l,l.data=u.slice(h));break}++o}return this.length-=o,i}},{key:f,value:function(n,i){return v(this,function(l){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?k(Object(u),!0).forEach(function(h){w(l,h,u[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):k(Object(u)).forEach(function(h){Object.defineProperty(l,h,Object.getOwnPropertyDescriptor(u,h))})}return l}({},i,{depth:0,customInspect:!1}))}}],a&&r(t.prototype,a),s}()},55324:function(B,L,e){var k=e(4168);function w(v,f){_(v,f),r(v)}function r(v){v._writableState&&!v._writableState.emitClose||v._readableState&&!v._readableState.emitClose||v.emit("close")}function _(v,f){v.emit("error",f)}B.exports={destroy:function(v,f){var s=this,t=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return t||a?(f?f(v):v&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,k.nextTick(_,this,v)):k.nextTick(_,this,v)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(v||null,function(n){!f&&n?s._writableState?s._writableState.errorEmitted?k.nextTick(r,s):(s._writableState.errorEmitted=!0,k.nextTick(w,s,n)):k.nextTick(w,s,n):f?(k.nextTick(r,s),f(n)):k.nextTick(r,s)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(v,f){var s=v._readableState,t=v._writableState;s&&s.autoDestroy||t&&t.autoDestroy?v.destroy(f):v.emit("error",f)}}},15932:function(B,L,e){var k=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function w(){}B.exports=function r(_,v,f){if(typeof v=="function")return r(_,null,v);v||(v={}),f=function(b){var d=!1;return function(){if(!d){d=!0;for(var g=arguments.length,m=new Array(g),y=0;y<g;y++)m[y]=arguments[y];b.apply(this,m)}}}(f||w);var s=v.readable||v.readable!==!1&&_.readable,t=v.writable||v.writable!==!1&&_.writable,a=function(){_.writable||i()},n=_._writableState&&_._writableState.finished,i=function(){t=!1,n=!0,s||f.call(_)},l=_._readableState&&_._readableState.endEmitted,o=function(){s=!1,l=!0,t||f.call(_)},u=function(b){f.call(_,b)},h=function(){var b;return s&&!l?(_._readableState&&_._readableState.ended||(b=new k),f.call(_,b)):t&&!n?(_._writableState&&_._writableState.ended||(b=new k),f.call(_,b)):void 0},c=function(){_.req.on("finish",i)};return function(b){return b.setHeader&&typeof b.abort=="function"}(_)?(_.on("complete",i),_.on("abort",h),_.req?c():_.on("request",c)):t&&!_._writableState&&(_.on("end",a),_.on("close",a)),_.on("end",o),_.on("finish",i),v.error!==!1&&_.on("error",u),_.on("close",h),function(){_.removeListener("complete",i),_.removeListener("abort",h),_.removeListener("request",c),_.req&&_.req.removeListener("finish",i),_.removeListener("end",a),_.removeListener("close",a),_.removeListener("finish",i),_.removeListener("end",o),_.removeListener("error",u),_.removeListener("close",h)}}},90555:function(B){B.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(B,L,e){var k,w=e(92784).i,r=w.ERR_MISSING_ARGS,_=w.ERR_STREAM_DESTROYED;function v(t){if(t)throw t}function f(t){t()}function s(t,a){return t.pipe(a)}B.exports=function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];var i,l=function(u){return u.length?typeof u[u.length-1]!="function"?v:u.pop():v}(a);if(Array.isArray(a[0])&&(a=a[0]),a.length<2)throw new r("streams");var o=a.map(function(u,h){var c=h<a.length-1;return function(b,d,g,m){m=function(T){var p=!1;return function(){p||(p=!0,T.apply(void 0,arguments))}}(m);var y=!1;b.on("close",function(){y=!0}),k===void 0&&(k=e(15932)),k(b,{readable:d,writable:g},function(T){if(T)return m(T);y=!0,m()});var x=!1;return function(T){if(!y&&!x)return x=!0,function(p){return p.setHeader&&typeof p.abort=="function"}(b)?b.abort():typeof b.destroy=="function"?b.destroy():void m(T||new _("pipe"))}}(u,c,h>0,function(b){i||(i=b),b&&o.forEach(f),c||(o.forEach(f),l(i))})});return a.reduce(s)}},24888:function(B,L,e){var k=e(92784).i.ERR_INVALID_OPT_VALUE;B.exports={getHighWaterMark:function(w,r,_,v){var f=function(s,t,a){return s.highWaterMark!=null?s.highWaterMark:t?s[a]:null}(r,v,_);if(f!=null){if(!isFinite(f)||Math.floor(f)!==f||f<0)throw new k(v?_:"highWaterMark",f);return Math.floor(f)}return w.objectMode?16:16384}}},4776:function(B,L,e){B.exports=e(61252).EventEmitter},86032:function(B,L,e){var k=e(30456).Buffer,w=k.isEncoding||function(l){switch((l=""+l)&&l.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(l){var o;switch(this.encoding=function(u){var h=function(c){if(!c)return"utf8";for(var b;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(b)return;c=(""+c).toLowerCase(),b=!0}}(u);if(typeof h!="string"&&(k.isEncoding===w||!w(u)))throw new Error("Unknown encoding: "+u);return h||u}(l),this.encoding){case"utf16le":this.text=f,this.end=s,o=4;break;case"utf8":this.fillLast=v,o=4;break;case"base64":this.text=t,this.end=a,o=3;break;default:return this.write=n,void(this.end=i)}this.lastNeed=0,this.lastTotal=0,this.lastChar=k.allocUnsafe(o)}function _(l){return l<=127?0:l>>5==6?2:l>>4==14?3:l>>3==30?4:l>>6==2?-1:-2}function v(l){var o=this.lastTotal-this.lastNeed,u=function(h,c,b){if((192&c[0])!=128)return h.lastNeed=0,"";if(h.lastNeed>1&&c.length>1){if((192&c[1])!=128)return h.lastNeed=1,"";if(h.lastNeed>2&&c.length>2&&(192&c[2])!=128)return h.lastNeed=2,""}}(this,l);return u!==void 0?u:this.lastNeed<=l.length?(l.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(l.copy(this.lastChar,o,0,l.length),void(this.lastNeed-=l.length))}function f(l,o){if((l.length-o)%2==0){var u=l.toString("utf16le",o);if(u){var h=u.charCodeAt(u.length-1);if(h>=55296&&h<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1],u.slice(0,-1)}return u}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=l[l.length-1],l.toString("utf16le",o,l.length-1)}function s(l){var o=l&&l.length?this.write(l):"";if(this.lastNeed){var u=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,u)}return o}function t(l,o){var u=(l.length-o)%3;return u===0?l.toString("base64",o):(this.lastNeed=3-u,this.lastTotal=3,u===1?this.lastChar[0]=l[l.length-1]:(this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1]),l.toString("base64",o,l.length-u))}function a(l){var o=l&&l.length?this.write(l):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function n(l){return l.toString(this.encoding)}function i(l){return l&&l.length?this.write(l):""}L.o=r,r.prototype.write=function(l){if(l.length===0)return"";var o,u;if(this.lastNeed){if((o=this.fillLast(l))===void 0)return"";u=this.lastNeed,this.lastNeed=0}else u=0;return u<l.length?o?o+this.text(l,u):this.text(l,u):o||""},r.prototype.end=function(l){var o=l&&l.length?this.write(l):"";return this.lastNeed?o+"":o},r.prototype.text=function(l,o){var u=function(c,b,d){var g=b.length-1;if(g<d)return 0;var m=_(b[g]);return m>=0?(m>0&&(c.lastNeed=m-1),m):--g<d||m===-2?0:(m=_(b[g]))>=0?(m>0&&(c.lastNeed=m-2),m):--g<d||m===-2?0:(m=_(b[g]))>=0?(m>0&&(m===2?m=0:c.lastNeed=m-3),m):0}(this,l,o);if(!this.lastNeed)return l.toString("utf8",o);this.lastTotal=u;var h=l.length-(u-this.lastNeed);return l.copy(this.lastChar,0,h),l.toString("utf8",o,h)},r.prototype.fillLast=function(l){if(this.lastNeed<=l.length)return l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,l.length),this.lastNeed-=l.length}},55619:function(B,L,e){var k=e(45408),w=e(86844)("stream-parser");B.exports=function(c){var b=c&&typeof c._transform=="function",d=c&&typeof c._write=="function";if(!b&&!d)throw new Error("must pass a Writable or Transform stream in");w("extending Parser into stream"),c._bytes=t,c._skipBytes=a,b&&(c._passthrough=n),b?c._transform=l:c._write=i};var r=-1,_=0,v=1,f=2;function s(c){w("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=r,c._parserCallback=null,typeof c.push=="function"&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,b){k(!this._parserCallback,'there is already a "callback" set!'),k(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||s(this),w("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=b,this._parserState=_}function a(c,b){k(!this._parserCallback,'there is already a "callback" set!'),k(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||s(this),w("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=b,this._parserState=v}function n(c,b){k(!this._parserCallback,'There is already a "callback" set!'),k(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||s(this),w("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=b,this._parserState=f}function i(c,b,d){this._parserInit||s(this),w("write(%o bytes)",c.length),typeof b=="function"&&(d=b),u(this,c,null,d)}function l(c,b,d){this._parserInit||s(this),w("transform(%o bytes)",c.length),typeof b!="function"&&(b=this._parserOutput),u(this,c,b,d)}function o(c,b,d,g){if(c._parserBytesLeft-=b.length,w("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===_?(c._parserBuffers.push(b),c._parserBuffered+=b.length):c._parserState===f&&d(b),c._parserBytesLeft!==0)return g;var m=c._parserCallback;if(m&&c._parserState===_&&c._parserBuffers.length>1&&(b=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==_&&(b=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=r,c._parserBuffers.splice(0),m){var y=[];b&&y.push(b),d&&y.push(d);var x=m.length>y.length;x&&y.push(h(g));var T=m.apply(c,y);if(!x||g===T)return g}}var u=h(function c(b,d,g,m){return b._parserBytesLeft<=0?m(new Error("got data but not currently parsing anything")):d.length<=b._parserBytesLeft?function(){return o(b,d,g,m)}:function(){var y=d.slice(0,b._parserBytesLeft);return o(b,y,g,function(x){return x?m(x):d.length>y.length?function(){return c(b,d.slice(y.length),g,m)}:void 0})}});function h(c){return function(){for(var b=c.apply(this,arguments);typeof b=="function";)b=b();return b}}},86844:function(B,L,e){var k=e(4168);function w(){var r;try{r=L.storage.debug}catch{}return!r&&k!==void 0&&"env"in k&&(r=k.env.DEBUG),r}(L=B.exports=e(89416)).log=function(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},L.formatArgs=function(r){var _=this.useColors;if(r[0]=(_?"%c":"")+this.namespace+(_?" %c":" ")+r[0]+(_?"%c ":" ")+"+"+L.humanize(this.diff),_){var v="color: "+this.color;r.splice(1,0,v,"color: inherit");var f=0,s=0;r[0].replace(/%[a-zA-Z%]/g,function(t){t!=="%%"&&(f++,t==="%c"&&(s=f))}),r.splice(s,0,v)}},L.save=function(r){try{r==null?L.storage.removeItem("debug"):L.storage.debug=r}catch{}},L.load=w,L.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},L.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),L.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],L.formatters.j=function(r){try{return JSON.stringify(r)}catch(_){return"[UnexpectedJSONParseError]: "+_.message}},L.enable(w())},89416:function(B,L,e){var k;function w(r){function _(){if(_.enabled){var v=_,f=+new Date,s=f-(k||f);v.diff=s,v.prev=k,v.curr=f,k=f;for(var t=new Array(arguments.length),a=0;a<t.length;a++)t[a]=arguments[a];t[0]=L.coerce(t[0]),typeof t[0]!="string"&&t.unshift("%O");var n=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(i,l){if(i==="%%")return i;n++;var o=L.formatters[l];if(typeof o=="function"){var u=t[n];i=o.call(v,u),t.splice(n,1),n--}return i}),L.formatArgs.call(v,t),(_.log||L.log||console.log.bind(console)).apply(v,t)}}return _.namespace=r,_.enabled=L.enabled(r),_.useColors=L.useColors(),_.color=function(v){var f,s=0;for(f in v)s=(s<<5)-s+v.charCodeAt(f),s|=0;return L.colors[Math.abs(s)%L.colors.length]}(r),typeof L.init=="function"&&L.init(_),_}(L=B.exports=w.debug=w.default=w).coerce=function(r){return r instanceof Error?r.stack||r.message:r},L.disable=function(){L.enable("")},L.enable=function(r){L.save(r),L.names=[],L.skips=[];for(var _=(typeof r=="string"?r:"").split(/[\s,]+/),v=_.length,f=0;f<v;f++)_[f]&&((r=_[f].replace(/\*/g,".*?"))[0]==="-"?L.skips.push(new RegExp("^"+r.substr(1)+"$")):L.names.push(new RegExp("^"+r+"$")))},L.enabled=function(r){var _,v;for(_=0,v=L.skips.length;_<v;_++)if(L.skips[_].test(r))return!1;for(_=0,v=L.names.length;_<v;_++)if(L.names[_].test(r))return!0;return!1},L.humanize=e(93744),L.names=[],L.skips=[],L.formatters={}},93744:function(B){var L=1e3,e=60*L,k=60*e,w=24*k;function r(_,v,f){if(!(_<v))return _<1.5*v?Math.floor(_/v)+" "+f:Math.ceil(_/v)+" "+f+"s"}B.exports=function(_,v){v=v||{};var f,s=typeof _;if(s==="string"&&_.length>0)return function(t){if(!((t=String(t)).length>100)){var a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(a){var n=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*w;case"hours":case"hour":case"hrs":case"hr":case"h":return n*k;case"minutes":case"minute":case"mins":case"min":case"m":return n*e;case"seconds":case"second":case"secs":case"sec":case"s":return n*L;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(_);if(s==="number"&&isNaN(_)===!1)return v.long?r(f=_,w,"day")||r(f,k,"hour")||r(f,e,"minute")||r(f,L,"second")||f+" ms":function(t){return t>=w?Math.round(t/w)+"d":t>=k?Math.round(t/k)+"h":t>=e?Math.round(t/e)+"m":t>=L?Math.round(t/L)+"s":t+"ms"}(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))}},39956:function(B,L,e){var k=e(32868);B.exports=function(w,r,_){if(w==null)throw Error("First argument should be a string");if(r==null)throw Error("Separator should be a string or a RegExp");_?(typeof _=="string"||Array.isArray(_))&&(_={ignore:_}):_={},_.escape==null&&(_.escape=!0),_.ignore==null?_.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof _.ignore=="string"&&(_.ignore=[_.ignore]),_.ignore=_.ignore.map(function(i){return i.length===1&&(i+=i),i}));var v=k.parse(w,{flat:!0,brackets:_.ignore}),f=v[0].split(r);if(_.escape){for(var s=[],t=0;t<f.length;t++){var a=f[t],n=f[t+1];a[a.length-1]==="\\"&&a[a.length-2]!=="\\"?(s.push(a+r+n),t++):s.push(a)}f=s}for(t=0;t<f.length;t++)v[0]=f[t],f[t]=k.stringify(v,{flat:!0});return f}},78484:function(B){B.exports=function(L){for(var e=L.length,k=new Array(e),w=new Array(e),r=new Array(e),_=new Array(e),v=new Array(e),f=new Array(e),s=0;s<e;++s)k[s]=-1,w[s]=0,r[s]=!1,_[s]=0,v[s]=-1,f[s]=[];var t,a=0,n=[],i=[];function l(h){var c=[h],b=[h];for(k[h]=w[h]=a,r[h]=!0,a+=1;b.length>0;){h=b[b.length-1];var d=L[h];if(_[h]<d.length){for(var g=_[h];g<d.length;++g){var m=d[g];if(k[m]<0){k[m]=w[m]=a,r[m]=!0,a+=1,c.push(m),b.push(m);break}r[m]&&(w[h]=0|Math.min(w[h],w[m])),v[m]>=0&&f[h].push(v[m])}_[h]=g}else{if(w[h]===k[h]){var y=[],x=[],T=0;for(g=c.length-1;g>=0;--g){var p=c[g];if(r[p]=!1,y.push(p),x.push(f[p]),T+=f[p].length,v[p]=n.length,p===h){c.length=g;break}}n.push(y);var S=new Array(T);for(g=0;g<x.length;g++)for(var M=0;M<x[g].length;M++)S[--T]=x[g][M];i.push(S)}b.pop()}}}for(s=0;s<e;++s)k[s]<0&&l(s);for(s=0;s<i.length;s++){var o=i[s];if(o.length!==0){o.sort(function(h,c){return h-c}),t=[o[0]];for(var u=1;u<o.length;u++)o[u]!==o[u-1]&&t.push(o[u]);i[s]=t}}return{components:n,adjacencyList:i}}},92848:function(B,L,e){e.r(L);var k=2*Math.PI,w=function(v,f,s,t,a,n,i){var l=v.x,o=v.y;return{x:t*(l*=f)-a*(o*=s)+n,y:a*l+t*o+i}},r=function(v,f){var s=f===1.5707963267948966?.551915024494:f===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(f/4),t=Math.cos(v),a=Math.sin(v),n=Math.cos(v+f),i=Math.sin(v+f);return[{x:t-a*s,y:a+t*s},{x:n+i*s,y:i-n*s},{x:n,y:i}]},_=function(v,f,s,t){var a=v*s+f*t;return a>1&&(a=1),a<-1&&(a=-1),(v*t-f*s<0?-1:1)*Math.acos(a)};L.default=function(v){var f=v.px,s=v.py,t=v.cx,a=v.cy,n=v.rx,i=v.ry,l=v.xAxisRotation,o=l===void 0?0:l,u=v.largeArcFlag,h=u===void 0?0:u,c=v.sweepFlag,b=c===void 0?0:c,d=[];if(n===0||i===0)return[];var g=Math.sin(o*k/360),m=Math.cos(o*k/360),y=m*(f-t)/2+g*(s-a)/2,x=-g*(f-t)/2+m*(s-a)/2;if(y===0&&x===0)return[];n=Math.abs(n),i=Math.abs(i);var T=Math.pow(y,2)/Math.pow(n,2)+Math.pow(x,2)/Math.pow(i,2);T>1&&(n*=Math.sqrt(T),i*=Math.sqrt(T));var p=function(z,j,W,F,V,H,te,Q,K,X,J,ee){var ie=Math.pow(V,2),oe=Math.pow(H,2),ae=Math.pow(J,2),ce=Math.pow(ee,2),ge=ie*oe-ie*ce-oe*ae;ge<0&&(ge=0),ge/=ie*ce+oe*ae;var ve=(ge=Math.sqrt(ge)*(te===Q?-1:1))*V/H*ee,be=ge*-H/V*J,we=X*ve-K*be+(z+W)/2,ye=K*ve+X*be+(j+F)/2,me=(J-ve)/V,Ae=(ee-be)/H,ke=(-J-ve)/V,fe=(-ee-be)/H,le=_(1,0,me,Ae),de=_(me,Ae,ke,fe);return Q===0&&de>0&&(de-=k),Q===1&&de<0&&(de+=k),[we,ye,le,de]}(f,s,t,a,n,i,h,b,g,m,y,x),S=function(z,j){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return function(W,F){var V=[],H=!0,te=!1,Q=void 0;try{for(var K,X=W[Symbol.iterator]();!(H=(K=X.next()).done)&&(V.push(K.value),!F||V.length!==F);H=!0);}catch(J){te=!0,Q=J}finally{try{!H&&X.return&&X.return()}finally{if(te)throw Q}}return V}(z,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(p,4),M=S[0],E=S[1],P=S[2],O=S[3],I=Math.abs(O)/(k/4);Math.abs(1-I)<1e-7&&(I=1);var R=Math.max(Math.ceil(I),1);O/=R;for(var U=0;U<R;U++)d.push(r(P,O)),P+=O;return d.map(function(z){var j=w(z[0],n,i,m,g,M,E),W=j.x,F=j.y,V=w(z[1],n,i,m,g,M,E),H=V.x,te=V.y,Q=w(z[2],n,i,m,g,M,E);return{x1:W,y1:F,x2:H,y2:te,x:Q.x,y:Q.y}})}},74840:function(B,L,e){var k=e(21984),w=e(49972),r=e(41976),_=e(53520),v=e(45408);B.exports=function(f){if(Array.isArray(f)&&f.length===1&&typeof f[0]=="string"&&(f=f[0]),typeof f=="string"&&(v(_(f),"String is not an SVG path."),f=k(f)),v(Array.isArray(f),"Argument should be a string or an array of path segments."),f=w(f),!(f=r(f)).length)return[0,0,0,0];for(var s=[1/0,1/0,-1/0,-1/0],t=0,a=f.length;t<a;t++)for(var n=f[t].slice(1),i=0;i<n.length;i+=2)n[i+0]<s[0]&&(s[0]=n[i+0]),n[i+1]<s[1]&&(s[1]=n[i+1]),n[i+0]>s[2]&&(s[2]=n[i+0]),n[i+1]>s[3]&&(s[3]=n[i+1]);return s}},41976:function(B,L,e){B.exports=function(_){for(var v,f=[],s=0,t=0,a=0,n=0,i=null,l=null,o=0,u=0,h=0,c=_.length;h<c;h++){var b=_[h],d=b[0];switch(d){case"M":a=b[1],n=b[2];break;case"A":var g=k({px:o,py:u,cx:b[6],cy:b[7],rx:b[1],ry:b[2],xAxisRotation:b[3],largeArcFlag:b[4],sweepFlag:b[5]});if(!g.length)continue;for(var m,y=0;y<g.length;y++)b=["C",(m=g[y]).x1,m.y1,m.x2,m.y2,m.x,m.y],y<g.length-1&&f.push(b);break;case"S":var x=o,T=u;v!="C"&&v!="S"||(x+=x-s,T+=T-t),b=["C",x,T,b[1],b[2],b[3],b[4]];break;case"T":v=="Q"||v=="T"?(i=2*o-i,l=2*u-l):(i=o,l=u),b=r(o,u,i,l,b[1],b[2]);break;case"Q":i=b[1],l=b[2],b=r(o,u,b[1],b[2],b[3],b[4]);break;case"L":b=w(o,u,b[1],b[2]);break;case"H":b=w(o,u,b[1],u);break;case"V":b=w(o,u,o,b[1]);break;case"Z":b=w(o,u,a,n)}v=d,o=b[b.length-2],u=b[b.length-1],b.length>4?(s=b[b.length-4],t=b[b.length-3]):(s=o,t=u),f.push(b)}return f};var k=e(92848);function w(_,v,f,s){return["C",_,v,f,s,f,s]}function r(_,v,f,s,t,a){return["C",_/3+.6666666666666666*f,v/3+.6666666666666666*s,t/3+.6666666666666666*f,a/3+.6666666666666666*s,t,a]}},20472:function(B,L,e){var k,w=e(74840),r=e(21984),_=e(22235),v=e(53520),f=e(29620),s=document.createElement("canvas"),t=s.getContext("2d");B.exports=function(a,n){if(!v(a))throw Error("Argument should be valid svg path string");var i,l;n||(n={}),n.shape?(i=n.shape[0],l=n.shape[1]):(i=s.width=n.w||n.width||200,l=s.height=n.h||n.height||200);var o=Math.min(i,l),u=n.stroke||0,h=n.viewbox||n.viewBox||w(a),c=[i/(h[2]-h[0]),l/(h[3]-h[1])],b=Math.min(c[0]||0,c[1]||0)/2;if(t.fillStyle="black",t.fillRect(0,0,i,l),t.fillStyle="white",u&&(typeof u!="number"&&(u=1),t.strokeStyle=u>0?"white":"black",t.lineWidth=Math.abs(u)),t.translate(.5*i,.5*l),t.scale(b,b),function(){if(k!=null)return k;var m=document.createElement("canvas").getContext("2d");if(m.canvas.width=m.canvas.height=1,!window.Path2D)return k=!1;var y=new Path2D("M0,0h1v1h-1v-1Z");m.fillStyle="black",m.fill(y);var x=m.getImageData(0,0,1,1);return k=x&&x.data&&x.data[3]===255}()){var d=new Path2D(a);t.fill(d),u&&t.stroke(d)}else{var g=r(a);_(t,g),t.fill(),u&&t.stroke()}return t.setTransform(1,0,0,1,0,0),f(t,{cutoff:n.cutoff!=null?n.cutoff:.5,radius:n.radius!=null?n.radius:.5*o})}},49760:function(B,L,e){var k;(function(w){var r=/^\s+/,_=/\s+$/,v=0,f=w.round,s=w.min,t=w.max,a=w.random;function n(J,ee){if(ee=ee||{},(J=J||"")instanceof n)return J;if(!(this instanceof n))return new n(J,ee);var ie=function(oe){var ae,ce,ge,ve={r:0,g:0,b:0},be=1,we=null,ye=null,me=null,Ae=!1,ke=!1;return typeof oe=="string"&&(oe=function(fe){fe=fe.replace(r,"").replace(_,"").toLowerCase();var le,de=!1;if(P[fe])fe=P[fe],de=!0;else if(fe=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(le=K.rgb.exec(fe))?{r:le[1],g:le[2],b:le[3]}:(le=K.rgba.exec(fe))?{r:le[1],g:le[2],b:le[3],a:le[4]}:(le=K.hsl.exec(fe))?{h:le[1],s:le[2],l:le[3]}:(le=K.hsla.exec(fe))?{h:le[1],s:le[2],l:le[3],a:le[4]}:(le=K.hsv.exec(fe))?{h:le[1],s:le[2],v:le[3]}:(le=K.hsva.exec(fe))?{h:le[1],s:le[2],v:le[3],a:le[4]}:(le=K.hex8.exec(fe))?{r:z(le[1]),g:z(le[2]),b:z(le[3]),a:V(le[4]),format:de?"name":"hex8"}:(le=K.hex6.exec(fe))?{r:z(le[1]),g:z(le[2]),b:z(le[3]),format:de?"name":"hex"}:(le=K.hex4.exec(fe))?{r:z(le[1]+""+le[1]),g:z(le[2]+""+le[2]),b:z(le[3]+""+le[3]),a:V(le[4]+""+le[4]),format:de?"name":"hex8"}:!!(le=K.hex3.exec(fe))&&{r:z(le[1]+""+le[1]),g:z(le[2]+""+le[2]),b:z(le[3]+""+le[3]),format:de?"name":"hex"}}(oe)),typeof oe=="object"&&(X(oe.r)&&X(oe.g)&&X(oe.b)?(ae=oe.r,ce=oe.g,ge=oe.b,ve={r:255*R(ae,255),g:255*R(ce,255),b:255*R(ge,255)},Ae=!0,ke=String(oe.r).substr(-1)==="%"?"prgb":"rgb"):X(oe.h)&&X(oe.s)&&X(oe.v)?(we=W(oe.s),ye=W(oe.v),ve=function(fe,le,de){fe=6*R(fe,360),le=R(le,100),de=R(de,100);var Ce=w.floor(fe),Me=fe-Ce,Le=de*(1-le),Oe=de*(1-Me*le),Be=de*(1-(1-Me)*le),pe=Ce%6;return{r:255*[de,Oe,Le,Le,Be,de][pe],g:255*[Be,de,de,Oe,Le,Le][pe],b:255*[Le,Le,Be,de,de,Oe][pe]}}(oe.h,we,ye),Ae=!0,ke="hsv"):X(oe.h)&&X(oe.s)&&X(oe.l)&&(we=W(oe.s),me=W(oe.l),ve=function(fe,le,de){var Ce,Me,Le;function Oe(_e,Te,Re){return Re<0&&(Re+=1),Re>1&&(Re-=1),Re<1/6?_e+6*(Te-_e)*Re:Re<.5?Te:Re<2/3?_e+(Te-_e)*(2/3-Re)*6:_e}if(fe=R(fe,360),le=R(le,100),de=R(de,100),le===0)Ce=Me=Le=de;else{var Be=de<.5?de*(1+le):de+le-de*le,pe=2*de-Be;Ce=Oe(pe,Be,fe+1/3),Me=Oe(pe,Be,fe),Le=Oe(pe,Be,fe-1/3)}return{r:255*Ce,g:255*Me,b:255*Le}}(oe.h,we,me),Ae=!0,ke="hsl"),oe.hasOwnProperty("a")&&(be=oe.a)),be=I(be),{ok:Ae,format:oe.format||ke,r:s(255,t(ve.r,0)),g:s(255,t(ve.g,0)),b:s(255,t(ve.b,0)),a:be}}(J);this._originalInput=J,this._r=ie.r,this._g=ie.g,this._b=ie.b,this._a=ie.a,this._roundA=f(100*this._a)/100,this._format=ee.format||ie.format,this._gradientType=ee.gradientType,this._r<1&&(this._r=f(this._r)),this._g<1&&(this._g=f(this._g)),this._b<1&&(this._b=f(this._b)),this._ok=ie.ok,this._tc_id=v++}function i(J,ee,ie){J=R(J,255),ee=R(ee,255),ie=R(ie,255);var oe,ae,ce=t(J,ee,ie),ge=s(J,ee,ie),ve=(ce+ge)/2;if(ce==ge)oe=ae=0;else{var be=ce-ge;switch(ae=ve>.5?be/(2-ce-ge):be/(ce+ge),ce){case J:oe=(ee-ie)/be+(ee<ie?6:0);break;case ee:oe=(ie-J)/be+2;break;case ie:oe=(J-ee)/be+4}oe/=6}return{h:oe,s:ae,l:ve}}function l(J,ee,ie){J=R(J,255),ee=R(ee,255),ie=R(ie,255);var oe,ae,ce=t(J,ee,ie),ge=s(J,ee,ie),ve=ce,be=ce-ge;if(ae=ce===0?0:be/ce,ce==ge)oe=0;else{switch(ce){case J:oe=(ee-ie)/be+(ee<ie?6:0);break;case ee:oe=(ie-J)/be+2;break;case ie:oe=(J-ee)/be+4}oe/=6}return{h:oe,s:ae,v:ve}}function o(J,ee,ie,oe){var ae=[j(f(J).toString(16)),j(f(ee).toString(16)),j(f(ie).toString(16))];return oe&&ae[0].charAt(0)==ae[0].charAt(1)&&ae[1].charAt(0)==ae[1].charAt(1)&&ae[2].charAt(0)==ae[2].charAt(1)?ae[0].charAt(0)+ae[1].charAt(0)+ae[2].charAt(0):ae.join("")}function u(J,ee,ie,oe){return[j(F(oe)),j(f(J).toString(16)),j(f(ee).toString(16)),j(f(ie).toString(16))].join("")}function h(J,ee){ee=ee===0?0:ee||10;var ie=n(J).toHsl();return ie.s-=ee/100,ie.s=U(ie.s),n(ie)}function c(J,ee){ee=ee===0?0:ee||10;var ie=n(J).toHsl();return ie.s+=ee/100,ie.s=U(ie.s),n(ie)}function b(J){return n(J).desaturate(100)}function d(J,ee){ee=ee===0?0:ee||10;var ie=n(J).toHsl();return ie.l+=ee/100,ie.l=U(ie.l),n(ie)}function g(J,ee){ee=ee===0?0:ee||10;var ie=n(J).toRgb();return ie.r=t(0,s(255,ie.r-f(-ee/100*255))),ie.g=t(0,s(255,ie.g-f(-ee/100*255))),ie.b=t(0,s(255,ie.b-f(-ee/100*255))),n(ie)}function m(J,ee){ee=ee===0?0:ee||10;var ie=n(J).toHsl();return ie.l-=ee/100,ie.l=U(ie.l),n(ie)}function y(J,ee){var ie=n(J).toHsl(),oe=(ie.h+ee)%360;return ie.h=oe<0?360+oe:oe,n(ie)}function x(J){var ee=n(J).toHsl();return ee.h=(ee.h+180)%360,n(ee)}function T(J){var ee=n(J).toHsl(),ie=ee.h;return[n(J),n({h:(ie+120)%360,s:ee.s,l:ee.l}),n({h:(ie+240)%360,s:ee.s,l:ee.l})]}function p(J){var ee=n(J).toHsl(),ie=ee.h;return[n(J),n({h:(ie+90)%360,s:ee.s,l:ee.l}),n({h:(ie+180)%360,s:ee.s,l:ee.l}),n({h:(ie+270)%360,s:ee.s,l:ee.l})]}function S(J){var ee=n(J).toHsl(),ie=ee.h;return[n(J),n({h:(ie+72)%360,s:ee.s,l:ee.l}),n({h:(ie+216)%360,s:ee.s,l:ee.l})]}function M(J,ee,ie){ee=ee||6,ie=ie||30;var oe=n(J).toHsl(),ae=360/ie,ce=[n(J)];for(oe.h=(oe.h-(ae*ee>>1)+720)%360;--ee;)oe.h=(oe.h+ae)%360,ce.push(n(oe));return ce}function E(J,ee){ee=ee||6;for(var ie=n(J).toHsv(),oe=ie.h,ae=ie.s,ce=ie.v,ge=[],ve=1/ee;ee--;)ge.push(n({h:oe,s:ae,v:ce})),ce=(ce+ve)%1;return ge}n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var J=this.toRgb();return(299*J.r+587*J.g+114*J.b)/1e3},getLuminance:function(){var J,ee,ie,oe=this.toRgb();return J=oe.r/255,ee=oe.g/255,ie=oe.b/255,.2126*(J<=.03928?J/12.92:w.pow((J+.055)/1.055,2.4))+.7152*(ee<=.03928?ee/12.92:w.pow((ee+.055)/1.055,2.4))+.0722*(ie<=.03928?ie/12.92:w.pow((ie+.055)/1.055,2.4))},setAlpha:function(J){return this._a=I(J),this._roundA=f(100*this._a)/100,this},toHsv:function(){var J=l(this._r,this._g,this._b);return{h:360*J.h,s:J.s,v:J.v,a:this._a}},toHsvString:function(){var J=l(this._r,this._g,this._b),ee=f(360*J.h),ie=f(100*J.s),oe=f(100*J.v);return this._a==1?"hsv("+ee+", "+ie+"%, "+oe+"%)":"hsva("+ee+", "+ie+"%, "+oe+"%, "+this._roundA+")"},toHsl:function(){var J=i(this._r,this._g,this._b);return{h:360*J.h,s:J.s,l:J.l,a:this._a}},toHslString:function(){var J=i(this._r,this._g,this._b),ee=f(360*J.h),ie=f(100*J.s),oe=f(100*J.l);return this._a==1?"hsl("+ee+", "+ie+"%, "+oe+"%)":"hsla("+ee+", "+ie+"%, "+oe+"%, "+this._roundA+")"},toHex:function(J){return o(this._r,this._g,this._b,J)},toHexString:function(J){return"#"+this.toHex(J)},toHex8:function(J){return function(ee,ie,oe,ae,ce){var ge=[j(f(ee).toString(16)),j(f(ie).toString(16)),j(f(oe).toString(16)),j(F(ae))];return ce&&ge[0].charAt(0)==ge[0].charAt(1)&&ge[1].charAt(0)==ge[1].charAt(1)&&ge[2].charAt(0)==ge[2].charAt(1)&&ge[3].charAt(0)==ge[3].charAt(1)?ge[0].charAt(0)+ge[1].charAt(0)+ge[2].charAt(0)+ge[3].charAt(0):ge.join("")}(this._r,this._g,this._b,this._a,J)},toHex8String:function(J){return"#"+this.toHex8(J)},toRgb:function(){return{r:f(this._r),g:f(this._g),b:f(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+f(this._r)+", "+f(this._g)+", "+f(this._b)+")":"rgba("+f(this._r)+", "+f(this._g)+", "+f(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:f(100*R(this._r,255))+"%",g:f(100*R(this._g,255))+"%",b:f(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+f(100*R(this._r,255))+"%, "+f(100*R(this._g,255))+"%, "+f(100*R(this._b,255))+"%)":"rgba("+f(100*R(this._r,255))+"%, "+f(100*R(this._g,255))+"%, "+f(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(O[o(this._r,this._g,this._b,!0)]||!1)},toFilter:function(J){var ee="#"+u(this._r,this._g,this._b,this._a),ie=ee,oe=this._gradientType?"GradientType = 1, ":"";if(J){var ae=n(J);ie="#"+u(ae._r,ae._g,ae._b,ae._a)}return"progid:DXImageTransform.Microsoft.gradient("+oe+"startColorstr="+ee+",endColorstr="+ie+")"},toString:function(J){var ee=!!J;J=J||this._format;var ie=!1,oe=this._a<1&&this._a>=0;return ee||!oe||J!=="hex"&&J!=="hex6"&&J!=="hex3"&&J!=="hex4"&&J!=="hex8"&&J!=="name"?(J==="rgb"&&(ie=this.toRgbString()),J==="prgb"&&(ie=this.toPercentageRgbString()),J!=="hex"&&J!=="hex6"||(ie=this.toHexString()),J==="hex3"&&(ie=this.toHexString(!0)),J==="hex4"&&(ie=this.toHex8String(!0)),J==="hex8"&&(ie=this.toHex8String()),J==="name"&&(ie=this.toName()),J==="hsl"&&(ie=this.toHslString()),J==="hsv"&&(ie=this.toHsvString()),ie||this.toHexString()):J==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return n(this.toString())},_applyModification:function(J,ee){var ie=J.apply(null,[this].concat([].slice.call(ee)));return this._r=ie._r,this._g=ie._g,this._b=ie._b,this.setAlpha(ie._a),this},lighten:function(){return this._applyModification(d,arguments)},brighten:function(){return this._applyModification(g,arguments)},darken:function(){return this._applyModification(m,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(J,ee){return J.apply(null,[this].concat([].slice.call(ee)))},analogous:function(){return this._applyCombination(M,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(T,arguments)},tetrad:function(){return this._applyCombination(p,arguments)}},n.fromRatio=function(J,ee){if(typeof J=="object"){var ie={};for(var oe in J)J.hasOwnProperty(oe)&&(ie[oe]=oe==="a"?J[oe]:W(J[oe]));J=ie}return n(J,ee)},n.equals=function(J,ee){return!(!J||!ee)&&n(J).toRgbString()==n(ee).toRgbString()},n.random=function(){return n.fromRatio({r:a(),g:a(),b:a()})},n.mix=function(J,ee,ie){ie=ie===0?0:ie||50;var oe=n(J).toRgb(),ae=n(ee).toRgb(),ce=ie/100;return n({r:(ae.r-oe.r)*ce+oe.r,g:(ae.g-oe.g)*ce+oe.g,b:(ae.b-oe.b)*ce+oe.b,a:(ae.a-oe.a)*ce+oe.a})},n.readability=function(J,ee){var ie=n(J),oe=n(ee);return(w.max(ie.getLuminance(),oe.getLuminance())+.05)/(w.min(ie.getLuminance(),oe.getLuminance())+.05)},n.isReadable=function(J,ee,ie){var oe,ae,ce,ge,ve,be=n.readability(J,ee);switch(ae=!1,(ce=ie,(ge=((ce=ce||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&ge!=="AAA"&&(ge="AA"),(ve=(ce.size||"small").toLowerCase())!=="small"&&ve!=="large"&&(ve="small"),oe={level:ge,size:ve}).level+oe.size){case"AAsmall":case"AAAlarge":ae=be>=4.5;break;case"AAlarge":ae=be>=3;break;case"AAAsmall":ae=be>=7}return ae},n.mostReadable=function(J,ee,ie){var oe,ae,ce,ge,ve=null,be=0;ae=(ie=ie||{}).includeFallbackColors,ce=ie.level,ge=ie.size;for(var we=0;we<ee.length;we++)(oe=n.readability(J,ee[we]))>be&&(be=oe,ve=n(ee[we]));return n.isReadable(J,ve,{level:ce,size:ge})||!ae?ve:(ie.includeFallbackColors=!1,n.mostReadable(J,["#fff","#000"],ie))};var P=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=n.hexNames=function(J){var ee={};for(var ie in J)J.hasOwnProperty(ie)&&(ee[J[ie]]=ie);return ee}(P);function I(J){return J=parseFloat(J),(isNaN(J)||J<0||J>1)&&(J=1),J}function R(J,ee){(function(oe){return typeof oe=="string"&&oe.indexOf(".")!=-1&&parseFloat(oe)===1})(J)&&(J="100%");var ie=function(oe){return typeof oe=="string"&&oe.indexOf("%")!=-1}(J);return J=s(ee,t(0,parseFloat(J))),ie&&(J=parseInt(J*ee,10)/100),w.abs(J-ee)<1e-6?1:J%ee/parseFloat(ee)}function U(J){return s(1,t(0,J))}function z(J){return parseInt(J,16)}function j(J){return J.length==1?"0"+J:""+J}function W(J){return J<=1&&(J=100*J+"%"),J}function F(J){return w.round(255*parseFloat(J)).toString(16)}function V(J){return z(J)/255}var H,te,Q,K=(te="[\\s|\\(]+("+(H="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+H+")[,|\\s]+("+H+")\\s*\\)?",Q="[\\s|\\(]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")\\s*\\)?",{CSS_UNIT:new RegExp(H),rgb:new RegExp("rgb"+te),rgba:new RegExp("rgba"+Q),hsl:new RegExp("hsl"+te),hsla:new RegExp("hsla"+Q),hsv:new RegExp("hsv"+te),hsva:new RegExp("hsva"+Q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function X(J){return!!K.CSS_UNIT.exec(J)}B.exports?B.exports=n:(k=(function(){return n}).call(L,e,L,B))===void 0||(B.exports=k)})(Math)},37816:function(B){B.exports=e,B.exports.float32=B.exports.float=e,B.exports.fract32=B.exports.fract=function(k,w){if(k.length){if(k instanceof Float32Array)return new Float32Array(k.length);w instanceof Float32Array||(w=e(k));for(var r=0,_=w.length;r<_;r++)w[r]=k[r]-w[r];return w}return e(k-e(k))};var L=new Float32Array(1);function e(k){return k.length?k instanceof Float32Array?k:new Float32Array(k):(L[0]=k,L[0])}},23464:function(B,L,e){var k=e(65819);B.exports=_;var w=96;function r(v,f){var s=k(getComputedStyle(v).getPropertyValue(f));return s[0]*_(s[1],v)}function _(v,f){switch(f=f||document.body,v=(v||"px").trim().toLowerCase(),f!==window&&f!==document||(f=document.body),v){case"%":return f.clientHeight/100;case"ch":case"ex":return function(s,t){var a=document.createElement("div");a.style["font-size"]="128"+s,t.appendChild(a);var n=r(a,"font-size")/128;return t.removeChild(a),n}(v,f);case"em":return r(f,"font-size");case"rem":return r(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return w;case"cm":return w/2.54;case"mm":return w/25.4;case"pt":return w/72;case"pc":return w/6}return 1}},55712:function(B,L,e){function k(_){return _}function w(_,v){return typeof v=="string"&&(v=_.objects[v]),v.type==="GeometryCollection"?{type:"FeatureCollection",features:v.geometries.map(function(f){return r(_,f)})}:r(_,v)}function r(_,v){var f=v.id,s=v.bbox,t=v.properties==null?{}:v.properties,a=function(n,i){var l=function(g){if(g==null)return k;var m,y,x=g.scale[0],T=g.scale[1],p=g.translate[0],S=g.translate[1];return function(M,E){E||(m=y=0);var P=2,O=M.length,I=new Array(O);for(I[0]=(m+=M[0])*x+p,I[1]=(y+=M[1])*T+S;P<O;)I[P]=M[P],++P;return I}}(n.transform),o=n.arcs;function u(g,m){m.length&&m.pop();for(var y=o[g<0?~g:g],x=0,T=y.length;x<T;++x)m.push(l(y[x],x));g<0&&function(p,S){for(var M,E=p.length,P=E-S;P<--E;)M=p[P],p[P++]=p[E],p[E]=M}(m,T)}function h(g){return l(g)}function c(g){for(var m=[],y=0,x=g.length;y<x;++y)u(g[y],m);return m.length<2&&m.push(m[0]),m}function b(g){for(var m=c(g);m.length<4;)m.push(m[0]);return m}function d(g){return g.map(b)}return function g(m){var y,x=m.type;switch(x){case"GeometryCollection":return{type:x,geometries:m.geometries.map(g)};case"Point":y=h(m.coordinates);break;case"MultiPoint":y=m.coordinates.map(h);break;case"LineString":y=c(m.arcs);break;case"MultiLineString":y=m.arcs.map(c);break;case"Polygon":y=d(m.arcs);break;case"MultiPolygon":y=m.arcs.map(d);break;default:return null}return{type:x,coordinates:y}}(i)}(_,v);return f==null&&s==null?{type:"Feature",properties:t,geometry:a}:s==null?{type:"Feature",id:f,properties:t,geometry:a}:{type:"Feature",id:f,bbox:s,properties:t,geometry:a}}e.d(L,{NO:function(){return w}})},73384:function(B,L,e){var k=e(54612);B.exports=function(w){if(typeof w!="function"||!hasOwnProperty.call(w,"length"))return!1;try{if(typeof w.length!="number"||typeof w.call!="function"||typeof w.apply!="function")return!1}catch{return!1}return!k(w)}},57980:function(B,L,e){var k=e(81680),w=e(7328),r=e(33940),_=e(18856),v=function(f,s){return f.replace("%v",_(s))};B.exports=function(f,s,t){if(!w(t))throw new TypeError(v(s,f));if(!k(f)){if("default"in t)return t.default;if(t.isOptional)return null}var a=r(t.errorMessage);throw k(a)||(a=s),new TypeError(v(a,f))}},32336:function(B){B.exports=function(L){try{return L.toString()}catch{try{return String(L)}catch{return null}}}},18856:function(B,L,e){var k=e(32336),w=/[\n\r\u2028\u2029]/g;B.exports=function(r){var _=k(r);return _===null?"<Non-coercible to string value>":(_.length>100&&(_=_.slice(0,99)+""),_=_.replace(w,function(v){switch(v){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},7328:function(B,L,e){var k=e(81680),w={object:!0,function:!0,undefined:!0};B.exports=function(r){return!!k(r)&&hasOwnProperty.call(w,typeof r)}},87396:function(B,L,e){var k=e(57980),w=e(85488);B.exports=function(r){return w(r)?r:k(r,"%v is not a plain function",arguments[1])}},85488:function(B,L,e){var k=e(73384),w=/^\s*class[\s{/}]/,r=Function.prototype.toString;B.exports=function(_){return!!k(_)&&!w.test(r.call(_))}},54612:function(B,L,e){var k=e(7328);B.exports=function(w){if(!k(w))return!1;try{return!!w.constructor&&w.constructor.prototype===w}catch{return!1}}},33940:function(B,L,e){var k=e(81680),w=e(7328),r=Object.prototype.toString;B.exports=function(_){if(!k(_))return null;if(w(_)){var v=_.toString;if(typeof v!="function"||v===r)return null}try{return""+_}catch{return null}}},18496:function(B,L,e){var k=e(57980),w=e(81680);B.exports=function(r){return w(r)?r:k(r,"Cannot use %v",arguments[1])}},81680:function(B){B.exports=function(L){return L!=null}},14144:function(B,L,e){var k=e(308),w=e(10352),r=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:w([32,0]),UINT16:w([32,0]),UINT32:w([32,0]),BIGUINT64:w([32,0]),INT8:w([32,0]),INT16:w([32,0]),INT32:w([32,0]),BIGINT64:w([32,0]),FLOAT:w([32,0]),DOUBLE:w([32,0]),DATA:w([32,0]),UINT8C:w([32,0]),BUFFER:w([32,0])});var _=typeof Uint8ClampedArray<"u",v=typeof BigUint64Array<"u",f=typeof BigInt64Array<"u",s=e.g.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=w([32,0])),s.BIGUINT64||(s.BIGUINT64=w([32,0])),s.BIGINT64||(s.BIGINT64=w([32,0])),s.BUFFER||(s.BUFFER=w([32,0]));var t=s.DATA,a=s.BUFFER;function n(S){if(S){var M=S.length||S.byteLength,E=k.log2(M);t[E].push(S)}}function i(S){S=k.nextPow2(S);var M=k.log2(S),E=t[M];return E.length>0?E.pop():new ArrayBuffer(S)}function l(S){return new Uint8Array(i(S),0,S)}function o(S){return new Uint16Array(i(2*S),0,S)}function u(S){return new Uint32Array(i(4*S),0,S)}function h(S){return new Int8Array(i(S),0,S)}function c(S){return new Int16Array(i(2*S),0,S)}function b(S){return new Int32Array(i(4*S),0,S)}function d(S){return new Float32Array(i(4*S),0,S)}function g(S){return new Float64Array(i(8*S),0,S)}function m(S){return _?new Uint8ClampedArray(i(S),0,S):l(S)}function y(S){return v?new BigUint64Array(i(8*S),0,S):null}function x(S){return f?new BigInt64Array(i(8*S),0,S):null}function T(S){return new DataView(i(S),0,S)}function p(S){S=k.nextPow2(S);var M=k.log2(S),E=a[M];return E.length>0?E.pop():new r(S)}L.free=function(S){if(r.isBuffer(S))a[k.log2(S.length)].push(S);else{if(Object.prototype.toString.call(S)!=="[object ArrayBuffer]"&&(S=S.buffer),!S)return;var M=S.length||S.byteLength,E=0|k.log2(M);t[E].push(S)}},L.freeUint8=L.freeUint16=L.freeUint32=L.freeBigUint64=L.freeInt8=L.freeInt16=L.freeInt32=L.freeBigInt64=L.freeFloat32=L.freeFloat=L.freeFloat64=L.freeDouble=L.freeUint8Clamped=L.freeDataView=function(S){n(S.buffer)},L.freeArrayBuffer=n,L.freeBuffer=function(S){a[k.log2(S.length)].push(S)},L.malloc=function(S,M){if(M===void 0||M==="arraybuffer")return i(S);switch(M){case"uint8":return l(S);case"uint16":return o(S);case"uint32":return u(S);case"int8":return h(S);case"int16":return c(S);case"int32":return b(S);case"float":case"float32":return d(S);case"double":case"float64":return g(S);case"uint8_clamped":return m(S);case"bigint64":return x(S);case"biguint64":return y(S);case"buffer":return p(S);case"data":case"dataview":return T(S);default:return null}return null},L.mallocArrayBuffer=i,L.mallocUint8=l,L.mallocUint16=o,L.mallocUint32=u,L.mallocInt8=h,L.mallocInt16=c,L.mallocInt32=b,L.mallocFloat32=L.mallocFloat=d,L.mallocFloat64=L.mallocDouble=g,L.mallocUint8Clamped=m,L.mallocBigUint64=y,L.mallocBigInt64=x,L.mallocDataView=T,L.mallocBuffer=p,L.clearCache=function(){for(var S=0;S<32;++S)s.UINT8[S].length=0,s.UINT16[S].length=0,s.UINT32[S].length=0,s.INT8[S].length=0,s.INT16[S].length=0,s.INT32[S].length=0,s.FLOAT[S].length=0,s.DOUBLE[S].length=0,s.BIGUINT64[S].length=0,s.BIGINT64[S].length=0,s.UINT8C[S].length=0,t[S].length=0,a[S].length=0}},92384:function(B){var L=/[\'\"]/;B.exports=function(e){return e?(L.test(e.charAt(0))&&(e=e.substr(1)),L.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""}},45223:function(B){B.exports=function(L,e,k){Array.isArray(k)||(k=[].slice.call(arguments,2));for(var w=0,r=k.length;w<r;w++){var _=k[w];for(var v in _)if((e[v]===void 0||Array.isArray(e[v])||L[v]!==e[v])&&v in e){var f;if(_[v]===!0)f=e[v];else if(_[v]===!1||typeof _[v]=="function"&&(f=_[v](e[v],L,e))===void 0)continue;L[v]=f}}return L}},96656:function(B,L,e){function k(w){try{if(!e.g.localStorage)return!1}catch{return!1}var r=e.g.localStorage[w];return r!=null&&String(r).toLowerCase()==="true"}B.exports=function(w,r){if(k("noDeprecation"))return w;var _=!1;return function(){if(!_){if(k("throwDeprecation"))throw new Error(r);k("traceDeprecation")?console.trace(r):console.warn(r),_=!0}return w.apply(this,arguments)}}},75272:function(B){B.exports=function(L){return L&&typeof L=="object"&&typeof L.copy=="function"&&typeof L.fill=="function"&&typeof L.readUInt8=="function"}},41088:function(B,L,e){var k=e(91148),w=e(84420),r=e(96632),_=e(7728);function v(R){return R.call.bind(R)}var f=typeof BigInt<"u",s=typeof Symbol<"u",t=v(Object.prototype.toString),a=v(Number.prototype.valueOf),n=v(String.prototype.valueOf),i=v(Boolean.prototype.valueOf);if(f)var l=v(BigInt.prototype.valueOf);if(s)var o=v(Symbol.prototype.valueOf);function u(R,U){if(typeof R!="object")return!1;try{return U(R),!0}catch{return!1}}function h(R){return t(R)==="[object Map]"}function c(R){return t(R)==="[object Set]"}function b(R){return t(R)==="[object WeakMap]"}function d(R){return t(R)==="[object WeakSet]"}function g(R){return t(R)==="[object ArrayBuffer]"}function m(R){return typeof ArrayBuffer<"u"&&(g.working?g(R):R instanceof ArrayBuffer)}function y(R){return t(R)==="[object DataView]"}function x(R){return typeof DataView<"u"&&(y.working?y(R):R instanceof DataView)}L.isArgumentsObject=k,L.isGeneratorFunction=w,L.isTypedArray=_,L.isPromise=function(R){return typeof Promise<"u"&&R instanceof Promise||R!==null&&typeof R=="object"&&typeof R.then=="function"&&typeof R.catch=="function"},L.isArrayBufferView=function(R){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(R):_(R)||x(R)},L.isUint8Array=function(R){return r(R)==="Uint8Array"},L.isUint8ClampedArray=function(R){return r(R)==="Uint8ClampedArray"},L.isUint16Array=function(R){return r(R)==="Uint16Array"},L.isUint32Array=function(R){return r(R)==="Uint32Array"},L.isInt8Array=function(R){return r(R)==="Int8Array"},L.isInt16Array=function(R){return r(R)==="Int16Array"},L.isInt32Array=function(R){return r(R)==="Int32Array"},L.isFloat32Array=function(R){return r(R)==="Float32Array"},L.isFloat64Array=function(R){return r(R)==="Float64Array"},L.isBigInt64Array=function(R){return r(R)==="BigInt64Array"},L.isBigUint64Array=function(R){return r(R)==="BigUint64Array"},h.working=typeof Map<"u"&&h(new Map),L.isMap=function(R){return typeof Map<"u"&&(h.working?h(R):R instanceof Map)},c.working=typeof Set<"u"&&c(new Set),L.isSet=function(R){return typeof Set<"u"&&(c.working?c(R):R instanceof Set)},b.working=typeof WeakMap<"u"&&b(new WeakMap),L.isWeakMap=function(R){return typeof WeakMap<"u"&&(b.working?b(R):R instanceof WeakMap)},d.working=typeof WeakSet<"u"&&d(new WeakSet),L.isWeakSet=function(R){return d(R)},g.working=typeof ArrayBuffer<"u"&&g(new ArrayBuffer),L.isArrayBuffer=m,y.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&y(new DataView(new ArrayBuffer(1),0,1)),L.isDataView=x;var T=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function p(R){return t(R)==="[object SharedArrayBuffer]"}function S(R){return T!==void 0&&(p.working===void 0&&(p.working=p(new T)),p.working?p(R):R instanceof T)}function M(R){return u(R,a)}function E(R){return u(R,n)}function P(R){return u(R,i)}function O(R){return f&&u(R,l)}function I(R){return s&&u(R,o)}L.isSharedArrayBuffer=S,L.isAsyncFunction=function(R){return t(R)==="[object AsyncFunction]"},L.isMapIterator=function(R){return t(R)==="[object Map Iterator]"},L.isSetIterator=function(R){return t(R)==="[object Set Iterator]"},L.isGeneratorObject=function(R){return t(R)==="[object Generator]"},L.isWebAssemblyCompiledModule=function(R){return t(R)==="[object WebAssembly.Module]"},L.isNumberObject=M,L.isStringObject=E,L.isBooleanObject=P,L.isBigIntObject=O,L.isSymbolObject=I,L.isBoxedPrimitive=function(R){return M(R)||E(R)||P(R)||O(R)||I(R)},L.isAnyArrayBuffer=function(R){return typeof Uint8Array<"u"&&(m(R)||S(R))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(R){Object.defineProperty(L,R,{enumerable:!1,value:function(){throw new Error(R+" is not supported in userland")}})})},35840:function(B,L,e){var k=e(4168),w=Object.getOwnPropertyDescriptors||function(I){for(var R=Object.keys(I),U={},z=0;z<R.length;z++)U[R[z]]=Object.getOwnPropertyDescriptor(I,R[z]);return U},r=/%[sdj%]/g;L.format=function(I){if(!b(I)){for(var R=[],U=0;U<arguments.length;U++)R.push(s(arguments[U]));return R.join(" ")}U=1;for(var z=arguments,j=z.length,W=String(I).replace(r,function(V){if(V==="%%")return"%";if(U>=j)return V;switch(V){case"%s":return String(z[U++]);case"%d":return Number(z[U++]);case"%j":try{return JSON.stringify(z[U++])}catch{return"[Circular]"}default:return V}}),F=z[U];U<j;F=z[++U])h(F)||!m(F)?W+=" "+F:W+=" "+s(F);return W},L.deprecate=function(I,R){if(k!==void 0&&k.noDeprecation===!0)return I;if(k===void 0)return function(){return L.deprecate(I,R).apply(this,arguments)};var U=!1;return function(){if(!U){if(k.throwDeprecation)throw new Error(R);k.traceDeprecation?console.trace(R):console.error(R),U=!0}return I.apply(this,arguments)}};var _={},v=/^$/;if(k.env.NODE_DEBUG){var f=k.env.NODE_DEBUG;f=f.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),v=new RegExp("^"+f+"$","i")}function s(I,R){var U={seen:[],stylize:a};return arguments.length>=3&&(U.depth=arguments[2]),arguments.length>=4&&(U.colors=arguments[3]),u(R)?U.showHidden=R:R&&L._extend(U,R),d(U.showHidden)&&(U.showHidden=!1),d(U.depth)&&(U.depth=2),d(U.colors)&&(U.colors=!1),d(U.customInspect)&&(U.customInspect=!0),U.colors&&(U.stylize=t),n(U,I,U.depth)}function t(I,R){var U=s.styles[R];return U?"\x1B["+s.colors[U][0]+"m"+I+"\x1B["+s.colors[U][1]+"m":I}function a(I,R){return I}function n(I,R,U){if(I.customInspect&&R&&T(R.inspect)&&R.inspect!==L.inspect&&(!R.constructor||R.constructor.prototype!==R)){var z=R.inspect(U,I);return b(z)||(z=n(I,z,U)),z}var j=function(X,J){if(d(J))return X.stylize("undefined","undefined");if(b(J)){var ee="'"+JSON.stringify(J).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return X.stylize(ee,"string")}return c(J)?X.stylize(""+J,"number"):u(J)?X.stylize(""+J,"boolean"):h(J)?X.stylize("null","null"):void 0}(I,R);if(j)return j;var W=Object.keys(R),F=function(X){var J={};return X.forEach(function(ee,ie){J[ee]=!0}),J}(W);if(I.showHidden&&(W=Object.getOwnPropertyNames(R)),x(R)&&(W.indexOf("message")>=0||W.indexOf("description")>=0))return i(R);if(W.length===0){if(T(R)){var V=R.name?": "+R.name:"";return I.stylize("[Function"+V+"]","special")}if(g(R))return I.stylize(RegExp.prototype.toString.call(R),"regexp");if(y(R))return I.stylize(Date.prototype.toString.call(R),"date");if(x(R))return i(R)}var H,te="",Q=!1,K=["{","}"];return o(R)&&(Q=!0,K=["[","]"]),T(R)&&(te=" [Function"+(R.name?": "+R.name:"")+"]"),g(R)&&(te=" "+RegExp.prototype.toString.call(R)),y(R)&&(te=" "+Date.prototype.toUTCString.call(R)),x(R)&&(te=" "+i(R)),W.length!==0||Q&&R.length!=0?U<0?g(R)?I.stylize(RegExp.prototype.toString.call(R),"regexp"):I.stylize("[Object]","special"):(I.seen.push(R),H=Q?function(X,J,ee,ie,oe){for(var ae=[],ce=0,ge=J.length;ce<ge;++ce)E(J,String(ce))?ae.push(l(X,J,ee,ie,String(ce),!0)):ae.push("");return oe.forEach(function(ve){ve.match(/^\d+$/)||ae.push(l(X,J,ee,ie,ve,!0))}),ae}(I,R,U,F,W):W.map(function(X){return l(I,R,U,F,X,Q)}),I.seen.pop(),function(X,J,ee){return X.reduce(function(ie,oe){return oe.indexOf(`
`),ie+oe.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?ee[0]+(J===""?"":J+`
 `)+" "+X.join(`,
  `)+" "+ee[1]:ee[0]+J+" "+X.join(", ")+" "+ee[1]}(H,te,K)):K[0]+te+K[1]}function i(I){return"["+Error.prototype.toString.call(I)+"]"}function l(I,R,U,z,j,W){var F,V,H;if((H=Object.getOwnPropertyDescriptor(R,j)||{value:R[j]}).get?V=H.set?I.stylize("[Getter/Setter]","special"):I.stylize("[Getter]","special"):H.set&&(V=I.stylize("[Setter]","special")),E(z,j)||(F="["+j+"]"),V||(I.seen.indexOf(H.value)<0?(V=h(U)?n(I,H.value,null):n(I,H.value,U-1)).indexOf(`
`)>-1&&(V=W?V.split(`
`).map(function(te){return"  "+te}).join(`
`).slice(2):`
`+V.split(`
`).map(function(te){return"   "+te}).join(`
`)):V=I.stylize("[Circular]","special")),d(F)){if(W&&j.match(/^\d+$/))return V;(F=JSON.stringify(""+j)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(F=F.slice(1,-1),F=I.stylize(F,"name")):(F=F.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),F=I.stylize(F,"string"))}return F+": "+V}function o(I){return Array.isArray(I)}function u(I){return typeof I=="boolean"}function h(I){return I===null}function c(I){return typeof I=="number"}function b(I){return typeof I=="string"}function d(I){return I===void 0}function g(I){return m(I)&&p(I)==="[object RegExp]"}function m(I){return typeof I=="object"&&I!==null}function y(I){return m(I)&&p(I)==="[object Date]"}function x(I){return m(I)&&(p(I)==="[object Error]"||I instanceof Error)}function T(I){return typeof I=="function"}function p(I){return Object.prototype.toString.call(I)}function S(I){return I<10?"0"+I.toString(10):I.toString(10)}L.debuglog=function(I){if(I=I.toUpperCase(),!_[I])if(v.test(I)){var R=k.pid;_[I]=function(){var U=L.format.apply(L,arguments);console.error("%s %d: %s",I,R,U)}}else _[I]=function(){};return _[I]},L.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},L.types=e(41088),L.isArray=o,L.isBoolean=u,L.isNull=h,L.isNullOrUndefined=function(I){return I==null},L.isNumber=c,L.isString=b,L.isSymbol=function(I){return typeof I=="symbol"},L.isUndefined=d,L.isRegExp=g,L.types.isRegExp=g,L.isObject=m,L.isDate=y,L.types.isDate=y,L.isError=x,L.types.isNativeError=x,L.isFunction=T,L.isPrimitive=function(I){return I===null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||typeof I=="symbol"||I===void 0},L.isBuffer=e(75272);var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(I,R){return Object.prototype.hasOwnProperty.call(I,R)}L.log=function(){var I,R;console.log("%s - %s",(R=[S((I=new Date).getHours()),S(I.getMinutes()),S(I.getSeconds())].join(":"),[I.getDate(),M[I.getMonth()],R].join(" ")),L.format.apply(L,arguments))},L.inherits=e(6768),L._extend=function(I,R){if(!R||!m(R))return I;for(var U=Object.keys(R),z=U.length;z--;)I[U[z]]=R[U[z]];return I};var P=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function O(I,R){if(!I){var U=new Error("Promise was rejected with a falsy value");U.reason=I,I=U}return R(I)}L.promisify=function(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');if(P&&I[P]){var R;if(typeof(R=I[P])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(R,P,{value:R,enumerable:!1,writable:!1,configurable:!0}),R}function R(){for(var U,z,j=new Promise(function(V,H){U=V,z=H}),W=[],F=0;F<arguments.length;F++)W.push(arguments[F]);W.push(function(V,H){V?z(V):U(H)});try{I.apply(this,W)}catch(V){z(V)}return j}return Object.setPrototypeOf(R,Object.getPrototypeOf(I)),P&&Object.defineProperty(R,P,{value:R,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(R,w(I))},L.promisify.custom=P,L.callbackify=function(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');function R(){for(var U=[],z=0;z<arguments.length;z++)U.push(arguments[z]);var j=U.pop();if(typeof j!="function")throw new TypeError("The last argument must be of type Function");var W=this,F=function(){return j.apply(W,arguments)};I.apply(this,U).then(function(V){k.nextTick(F.bind(null,null,V))},function(V){k.nextTick(O.bind(null,V,F))})}return Object.setPrototypeOf(R,Object.getPrototypeOf(I)),Object.defineProperties(R,w(I)),R}},5408:function(B,L,e){var k=e(13380);B.exports=function(w){return k("webgl",w)}},96632:function(B,L,e){var k=e(46492),w=e(63436),r=e(57916),_=e(99676),v=e(2304),f=_("Object.prototype.toString"),s=e(46672)(),t=typeof globalThis>"u"?e.g:globalThis,a=w(),n=_("String.prototype.slice"),i=Object.getPrototypeOf,l=_("Array.prototype.indexOf",!0)||function(u,h){for(var c=0;c<u.length;c+=1)if(u[c]===h)return c;return-1},o={__proto__:null};k(a,s&&v&&i?function(u){var h=new t[u];if(Symbol.toStringTag in h){var c=i(h),b=v(c,Symbol.toStringTag);if(!b){var d=i(c);b=v(d,Symbol.toStringTag)}o["$"+u]=r(b.get)}}:function(u){var h=new t[u],c=h.slice||h.set;c&&(o["$"+u]=r(c))}),B.exports=function(u){if(!u||typeof u!="object")return!1;if(!s){var h=n(f(u),8,-1);return l(a,h)>-1?h:h==="Object"&&function(c){var b=!1;return k(o,function(d,g){if(!b)try{d(c),b=n(g,1)}catch{}}),b}(u)}return v?function(c){var b=!1;return k(o,function(d,g){if(!b)try{"$"+d(c)===g&&(b=n(g,1))}catch{}}),b}(u):null}},67020:function(B,L,e){var k=e(38700),w=e(50896),r=k.instance();function _(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}_.prototype=new k.baseCalendar,w(_.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(i,l){if(typeof i=="string"){var o=i.match(f);return o?o[0]:""}var u=this._validateYear(i),h=i.month(),c=""+this.toChineseMonth(u,h);return l&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(u,h)&&(c+="i"),c},monthNames:function(i){if(typeof i=="string"){var l=i.match(s);return l?l[0]:""}var o=this._validateYear(i),u=i.month(),h=["","","","","","","","","","","",""][this.toChineseMonth(o,u)-1];return this.isIntercalaryMonth(o,u)&&(h=""+h),h},monthNamesShort:function(i){if(typeof i=="string"){var l=i.match(t);return l?l[0]:""}var o=this._validateYear(i),u=i.month(),h=["","","","","","","","","","","",""][this.toChineseMonth(o,u)-1];return this.isIntercalaryMonth(o,u)&&(h=""+h),h},parseMonth:function(i,l){i=this._validateYear(i);var o,u=parseInt(l);if(isNaN(u))l[0]===""&&(o=!0,l=l.substring(1)),l[l.length-1]===""&&(l=l.substring(0,l.length-1)),u=1+["","","","","","","","","","","",""].indexOf(l);else{var h=l[l.length-1];o=h==="i"||h==="I"}return this.toMonthIndex(i,u,o)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(i,l){if(i.year&&(i=i.year()),typeof i!="number"||i<1888||i>2111)throw l.replace(/\{0\}/,this.local.name);return i},toMonthIndex:function(i,l,o){var u=this.intercalaryMonth(i);if(o&&l!==u||l<1||l>12)throw k.local.invalidMonth.replace(/\{0\}/,this.local.name);return u?!o&&l<=u?l-1:l:l-1},toChineseMonth:function(i,l){i.year&&(l=(i=i.year()).month());var o=this.intercalaryMonth(i);if(l<0||l>(o?12:11))throw k.local.invalidMonth.replace(/\{0\}/,this.local.name);return o?l<o?l+1:l:l+1},intercalaryMonth:function(i){return i=this._validateYear(i),a[i-a[0]]>>13},isIntercalaryMonth:function(i,l){i.year&&(l=(i=i.year()).month());var o=this.intercalaryMonth(i);return!!o&&o===l},leapYear:function(i){return this.intercalaryMonth(i)!==0},weekOfYear:function(i,l,o){var u,h=this._validateYear(i,k.local.invalidyear),c=n[h-n[0]],b=c>>9&4095,d=c>>5&15,g=31&c;(u=r.newDate(b,d,g)).add(4-(u.dayOfWeek()||7),"d");var m=this.toJD(i,l,o)-u.toJD();return 1+Math.floor(m/7)},monthsInYear:function(i){return this.leapYear(i)?13:12},daysInMonth:function(i,l){i.year&&(l=i.month(),i=i.year()),i=this._validateYear(i);var o=a[i-a[0]];if(l>(o>>13?12:11))throw k.local.invalidMonth.replace(/\{0\}/,this.local.name);return o&1<<12-l?30:29},weekDay:function(i,l,o){return(this.dayOfWeek(i,l,o)||7)<6},toJD:function(i,l,o){var u=this._validate(i,c,o,k.local.invalidDate);i=this._validateYear(u.year()),l=u.month(),o=u.day();var h=this.isIntercalaryMonth(i,l),c=this.toChineseMonth(i,l),b=function(d,g,m,y,x){var T,p,S;if(typeof d=="object")p=d,T=g||{};else{var M;if(!(typeof d=="number"&&d>=1888&&d<=2111))throw new Error("Lunar year outside range 1888-2111");if(!(typeof g=="number"&&g>=1&&g<=12))throw new Error("Lunar month outside range 1 - 12");if(!(typeof m=="number"&&m>=1&&m<=30))throw new Error("Lunar day outside range 1 - 30");typeof y=="object"?(M=!1,T=y):(M=!!y,T={}),p={year:d,month:g,day:m,isIntercalary:M}}S=p.day-1;var E,P=a[p.year-a[0]],O=P>>13;E=O&&(p.month>O||p.isIntercalary)?p.month:p.month-1;for(var I=0;I<E;I++)S+=P&1<<12-I?30:29;var R=n[p.year-n[0]],U=new Date(R>>9&4095,(R>>5&15)-1,(31&R)+S);return T.year=U.getFullYear(),T.month=1+U.getMonth(),T.day=U.getDate(),T}(i,c,o,h);return r.toJD(b.year,b.month,b.day)},fromJD:function(i){var l=r.fromJD(i),o=function(h,c,b,d){var g,m;if(typeof h=="object")g=h,m=c||{};else{if(!(typeof h=="number"&&h>=1888&&h<=2111))throw new Error("Solar year outside range 1888-2111");if(!(typeof c=="number"&&c>=1&&c<=12))throw new Error("Solar month outside range 1 - 12");if(!(typeof b=="number"&&b>=1&&b<=31))throw new Error("Solar day outside range 1 - 31");g={year:h,month:c,day:b},m={}}var y=n[g.year-n[0]],x=g.year<<9|g.month<<5|g.day;m.year=x>=y?g.year:g.year-1,y=n[m.year-n[0]];var T,p=new Date(y>>9&4095,(y>>5&15)-1,31&y),S=new Date(g.year,g.month-1,g.day);T=Math.round((S-p)/864e5);var M,E=a[m.year-a[0]];for(M=0;M<13;M++){var P=E&1<<12-M?30:29;if(T<P)break;T-=P}var O=E>>13;return!O||M<O?(m.isIntercalary=!1,m.month=1+M):M===O?(m.isIntercalary=!0,m.month=M):(m.isIntercalary=!1,m.month=M),m.day=1+T,m}(l.year(),l.month(),l.day()),u=this.toMonthIndex(o.year,o.month,o.isIntercalary);return this.newDate(o.year,u,o.day)},fromString:function(i){var l=i.match(v),o=this._validateYear(+l[1]),u=+l[2],h=!!l[3],c=this.toMonthIndex(o,u,h),b=+l[4];return this.newDate(o,c,b)},add:function(i,l,o){var u=i.year(),h=i.month(),c=this.isIntercalaryMonth(u,h),b=this.toChineseMonth(u,h),d=Object.getPrototypeOf(_.prototype).add.call(this,i,l,o);if(o==="y"){var g=d.year(),m=d.month(),y=this.isIntercalaryMonth(g,b),x=c&&y?this.toMonthIndex(g,b,!0):this.toMonthIndex(g,b,!1);x!==m&&d.month(x)}return d}});var v=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,f=/^\d?\d[iI]?/m,s=/^??[]?/m,t=/^??[]?/m;k.calendars.chinese=_;var a=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],n=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},89792:function(B,L,e){var k=e(38700),w=e(50896);function r(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}r.prototype=new k.baseCalendar,w(r.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(_){var v=this._validate(_,this.minMonth,this.minDay,k.local.invalidYear);return(_=v.year()+(v.year()<0?1:0))%4==3||_%4==-1},monthsInYear:function(_){return this._validate(_,this.minMonth,this.minDay,k.local.invalidYear||k.regionalOptions[""].invalidYear),13},weekOfYear:function(_,v,f){var s=this.newDate(_,v,f);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(_,v){var f=this._validate(_,v,this.minDay,k.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===13&&this.leapYear(f.year())?1:0)},weekDay:function(_,v,f){return(this.dayOfWeek(_,v,f)||7)<6},toJD:function(_,v,f){var s=this._validate(_,v,f,k.local.invalidDate);return(_=s.year())<0&&_++,s.day()+30*(s.month()-1)+365*(_-1)+Math.floor(_/4)+this.jdEpoch-1},fromJD:function(_){var v=Math.floor(_)+.5-this.jdEpoch,f=Math.floor((v-Math.floor((v+366)/1461))/365)+1;f<=0&&f--,v=Math.floor(_)+.5-this.newDate(f,1,1).toJD();var s=Math.floor(v/30)+1,t=v-30*(s-1)+1;return this.newDate(f,s,t)}}),k.calendars.coptic=r},55668:function(B,L,e){var k=e(38700),w=e(50896);function r(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}r.prototype=new k.baseCalendar,w(r.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,k.local.invalidYear),!1},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,k.local.invalidYear),13},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,k.local.invalidYear),400},weekOfYear:function(v,f,s){var t=this.newDate(v,f,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(v,f){var s=this._validate(v,f,this.minDay,k.local.invalidMonth);return this.daysPerMonth[s.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(v,f,s){return(this._validate(v,f,s,k.local.invalidDate).day()+1)%8},weekDay:function(v,f,s){var t=this.dayOfWeek(v,f,s);return t>=2&&t<=6},extraInfo:function(v,f,s){var t=this._validate(v,f,s,k.local.invalidDate);return{century:_[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(v,f,s){var t=this._validate(v,f,s,k.local.invalidDate);return v=t.year()+(t.year()<0?1:0),f=t.month(),(s=t.day())+(f>1?16:0)+(f>2?32*(f-2):0)+400*(v-1)+this.jdEpoch-1},fromJD:function(v){v=Math.floor(v+.5)-Math.floor(this.jdEpoch)-1;var f=Math.floor(v/400)+1;v-=400*(f-1),v+=v>15?16:0;var s=Math.floor(v/32)+1,t=v-32*(s-1)+1;return this.newDate(f<=0?f-1:f,s,t)}});var _={20:"Fruitbat",21:"Anchovy"};k.calendars.discworld=r},65168:function(B,L,e){var k=e(38700),w=e(50896);function r(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}r.prototype=new k.baseCalendar,w(r.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(_){var v=this._validate(_,this.minMonth,this.minDay,k.local.invalidYear);return(_=v.year()+(v.year()<0?1:0))%4==3||_%4==-1},monthsInYear:function(_){return this._validate(_,this.minMonth,this.minDay,k.local.invalidYear||k.regionalOptions[""].invalidYear),13},weekOfYear:function(_,v,f){var s=this.newDate(_,v,f);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(_,v){var f=this._validate(_,v,this.minDay,k.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===13&&this.leapYear(f.year())?1:0)},weekDay:function(_,v,f){return(this.dayOfWeek(_,v,f)||7)<6},toJD:function(_,v,f){var s=this._validate(_,v,f,k.local.invalidDate);return(_=s.year())<0&&_++,s.day()+30*(s.month()-1)+365*(_-1)+Math.floor(_/4)+this.jdEpoch-1},fromJD:function(_){var v=Math.floor(_)+.5-this.jdEpoch,f=Math.floor((v-Math.floor((v+366)/1461))/365)+1;f<=0&&f--,v=Math.floor(_)+.5-this.newDate(f,1,1).toJD();var s=Math.floor(v/30)+1,t=v-30*(s-1)+1;return this.newDate(f,s,t)}}),k.calendars.ethiopian=r},2084:function(B,L,e){var k=e(38700),w=e(50896);function r(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}function _(v,f){return v-f*Math.floor(v/f)}r.prototype=new k.baseCalendar,w(r.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var f=this._validate(v,this.minMonth,this.minDay,k.local.invalidYear);return this._leapYear(f.year())},_leapYear:function(v){return _(7*(v=v<0?v+1:v)+1,19)<7},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,k.local.invalidYear),this._leapYear(v.year?v.year():v)?13:12},weekOfYear:function(v,f,s){var t=this.newDate(v,f,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(v){return v=this._validate(v,this.minMonth,this.minDay,k.local.invalidYear).year(),this.toJD(v===-1?1:v+1,7,1)-this.toJD(v,7,1)},daysInMonth:function(v,f){return v.year&&(f=v.month(),v=v.year()),this._validate(v,f,this.minDay,k.local.invalidMonth),f===12&&this.leapYear(v)||f===8&&_(this.daysInYear(v),10)===5?30:f===9&&_(this.daysInYear(v),10)===3?29:this.daysPerMonth[f-1]},weekDay:function(v,f,s){return this.dayOfWeek(v,f,s)!==6},extraInfo:function(v,f,s){var t=this._validate(v,f,s,k.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(v,f,s){var t=this._validate(v,f,s,k.local.invalidDate);v=t.year(),f=t.month(),s=t.day();var a=v<=0?v+1:v,n=this.jdEpoch+this._delay1(a)+this._delay2(a)+s+1;if(f<7){for(var i=7;i<=this.monthsInYear(v);i++)n+=this.daysInMonth(v,i);for(i=1;i<f;i++)n+=this.daysInMonth(v,i)}else for(i=7;i<f;i++)n+=this.daysInMonth(v,i);return n},_delay1:function(v){var f=Math.floor((235*v-234)/19),s=12084+13753*f,t=29*f+Math.floor(s/25920);return _(3*(t+1),7)<3&&t++,t},_delay2:function(v){var f=this._delay1(v-1),s=this._delay1(v);return this._delay1(v+1)-s==356?2:s-f==382?1:0},fromJD:function(v){v=Math.floor(v)+.5;for(var f=Math.floor(98496*(v-this.jdEpoch)/35975351)-1;v>=this.toJD(f===-1?1:f+1,7,1);)f++;for(var s=v<this.toJD(f,1,1)?7:1;v>this.toJD(f,s,this.daysInMonth(f,s));)s++;var t=v-this.toJD(f,s,1)+1;return this.newDate(f,s,t)}}),k.calendars.hebrew=r},26368:function(B,L,e){var k=e(38700),w=e(50896);function r(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}r.prototype=new k.baseCalendar,w(r.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(_){return(11*this._validate(_,this.minMonth,this.minDay,k.local.invalidYear).year()+14)%30<11},weekOfYear:function(_,v,f){var s=this.newDate(_,v,f);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(_){return this.leapYear(_)?355:354},daysInMonth:function(_,v){var f=this._validate(_,v,this.minDay,k.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===12&&this.leapYear(f.year())?1:0)},weekDay:function(_,v,f){return this.dayOfWeek(_,v,f)!==5},toJD:function(_,v,f){var s=this._validate(_,v,f,k.local.invalidDate);return _=s.year(),v=s.month(),_=_<=0?_+1:_,(f=s.day())+Math.ceil(29.5*(v-1))+354*(_-1)+Math.floor((3+11*_)/30)+this.jdEpoch-1},fromJD:function(_){_=Math.floor(_)+.5;var v=Math.floor((30*(_-this.jdEpoch)+10646)/10631);v=v<=0?v-1:v;var f=Math.min(12,Math.ceil((_-29-this.toJD(v,1,1))/29.5)+1),s=_-this.toJD(v,f,1)+1;return this.newDate(v,f,s)}}),k.calendars.islamic=r},24747:function(B,L,e){var k=e(38700),w=e(50896);function r(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}r.prototype=new k.baseCalendar,w(r.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(_){var v=this._validate(_,this.minMonth,this.minDay,k.local.invalidYear);return(_=v.year()<0?v.year()+1:v.year())%4==0},weekOfYear:function(_,v,f){var s=this.newDate(_,v,f);return s.add(4-(s.dayOfWeek()||7),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(_,v){var f=this._validate(_,v,this.minDay,k.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===2&&this.leapYear(f.year())?1:0)},weekDay:function(_,v,f){return(this.dayOfWeek(_,v,f)||7)<6},toJD:function(_,v,f){var s=this._validate(_,v,f,k.local.invalidDate);return _=s.year(),v=s.month(),f=s.day(),_<0&&_++,v<=2&&(_--,v+=12),Math.floor(365.25*(_+4716))+Math.floor(30.6001*(v+1))+f-1524.5},fromJD:function(_){var v=Math.floor(_+.5)+1524,f=Math.floor((v-122.1)/365.25),s=Math.floor(365.25*f),t=Math.floor((v-s)/30.6001),a=t-Math.floor(t<14?1:13),n=f-Math.floor(a>2?4716:4715),i=v-s-Math.floor(30.6001*t);return n<=0&&n--,this.newDate(n,a,i)}}),k.calendars.julian=r},65616:function(B,L,e){var k=e(38700),w=e(50896);function r(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}function _(f,s){return f-s*Math.floor(f/s)}function v(f,s){return _(f-1,s)+1}r.prototype=new k.baseCalendar,w(r.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(f){return this._validate(f,this.minMonth,this.minDay,k.local.invalidYear),!1},formatYear:function(f){f=this._validate(f,this.minMonth,this.minDay,k.local.invalidYear).year();var s=Math.floor(f/400);return f%=400,f+=f<0?400:0,s+"."+Math.floor(f/20)+"."+f%20},forYear:function(f){if((f=f.split(".")).length<3)throw"Invalid Mayan year";for(var s=0,t=0;t<f.length;t++){var a=parseInt(f[t],10);if(Math.abs(a)>19||t>0&&a<0)throw"Invalid Mayan year";s=20*s+a}return s},monthsInYear:function(f){return this._validate(f,this.minMonth,this.minDay,k.local.invalidYear),18},weekOfYear:function(f,s,t){return this._validate(f,s,t,k.local.invalidDate),0},daysInYear:function(f){return this._validate(f,this.minMonth,this.minDay,k.local.invalidYear),360},daysInMonth:function(f,s){return this._validate(f,s,this.minDay,k.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(f,s,t){return this._validate(f,s,t,k.local.invalidDate).day()},weekDay:function(f,s,t){return this._validate(f,s,t,k.local.invalidDate),!0},extraInfo:function(f,s,t){var a=this._validate(f,s,t,k.local.invalidDate).toJD(),n=this._toHaab(a),i=this._toTzolkin(a);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[i[0]-1],tzolkinDay:i[0],tzolkinTrecena:i[1]}},_toHaab:function(f){var s=_(8+(f-=this.jdEpoch)+340,365);return[Math.floor(s/20)+1,_(s,20)]},_toTzolkin:function(f){return[v(20+(f-=this.jdEpoch),20),v(f+4,13)]},toJD:function(f,s,t){var a=this._validate(f,s,t,k.local.invalidDate);return a.day()+20*a.month()+360*a.year()+this.jdEpoch},fromJD:function(f){f=Math.floor(f)+.5-this.jdEpoch;var s=Math.floor(f/360);f%=360,f+=f<0?360:0;var t=Math.floor(f/20),a=f%20;return this.newDate(s,t,a)}}),k.calendars.mayan=r},30632:function(B,L,e){var k=e(38700),w=e(50896);function r(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}r.prototype=new k.baseCalendar;var _=k.instance("gregorian");w(r.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var f=this._validate(v,this.minMonth,this.minDay,k.local.invalidYear||k.regionalOptions[""].invalidYear);return _.leapYear(f.year()+(f.year()<1?1:0)+1469)},weekOfYear:function(v,f,s){var t=this.newDate(v,f,s);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(v,f){var s=this._validate(v,f,this.minDay,k.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===12&&this.leapYear(s.year())?1:0)},weekDay:function(v,f,s){return(this.dayOfWeek(v,f,s)||7)<6},toJD:function(v,f,s){var t=this._validate(v,f,s,k.local.invalidMonth);(v=t.year())<0&&v++;for(var a=t.day(),n=1;n<t.month();n++)a+=this.daysPerMonth[n-1];return a+_.toJD(v+1468,3,13)},fromJD:function(v){v=Math.floor(v+.5);for(var f=Math.floor((v-(this.jdEpoch-1))/366);v>=this.toJD(f+1,1,1);)f++;for(var s=v-Math.floor(this.toJD(f,1,1)+.5)+1,t=1;s>this.daysInMonth(f,t);)s-=this.daysInMonth(f,t),t++;return this.newDate(f,t,s)}}),k.calendars.nanakshahi=r},73040:function(B,L,e){var k=e(38700),w=e(50896);function r(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}r.prototype=new k.baseCalendar,w(r.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(_){return this.daysInYear(_)!==this.daysPerYear},weekOfYear:function(_,v,f){var s=this.newDate(_,v,f);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(_){if(_=this._validate(_,this.minMonth,this.minDay,k.local.invalidYear).year(),this.NEPALI_CALENDAR_DATA[_]===void 0)return this.daysPerYear;for(var v=0,f=this.minMonth;f<=12;f++)v+=this.NEPALI_CALENDAR_DATA[_][f];return v},daysInMonth:function(_,v){return _.year&&(v=_.month(),_=_.year()),this._validate(_,v,this.minDay,k.local.invalidMonth),this.NEPALI_CALENDAR_DATA[_]===void 0?this.daysPerMonth[v-1]:this.NEPALI_CALENDAR_DATA[_][v]},weekDay:function(_,v,f){return this.dayOfWeek(_,v,f)!==6},toJD:function(_,v,f){var s=this._validate(_,v,f,k.local.invalidDate);_=s.year(),v=s.month(),f=s.day();var t=k.instance(),a=0,n=v,i=_;this._createMissingCalendarData(_);var l=_-(n>9||n===9&&f>=this.NEPALI_CALENDAR_DATA[i][0]?56:57);for(v!==9&&(a=f,n--);n!==9;)n<=0&&(n=12,i--),a+=this.NEPALI_CALENDAR_DATA[i][n],n--;return v===9?(a+=f-this.NEPALI_CALENDAR_DATA[i][0])<0&&(a+=t.daysInYear(l)):a+=this.NEPALI_CALENDAR_DATA[i][9]-this.NEPALI_CALENDAR_DATA[i][0],t.newDate(l,1,1).add(a,"d").toJD()},fromJD:function(_){var v=k.instance().fromJD(_),f=v.year(),s=v.dayOfYear(),t=f+56;this._createMissingCalendarData(t);for(var a=9,n=this.NEPALI_CALENDAR_DATA[t][0],i=this.NEPALI_CALENDAR_DATA[t][a]-n+1;s>i;)++a>12&&(a=1,t++),i+=this.NEPALI_CALENDAR_DATA[t][a];var l=this.NEPALI_CALENDAR_DATA[t][a]-(i-s);return this.newDate(t,a,l)},_createMissingCalendarData:function(_){var v=this.daysPerMonth.slice(0);v.unshift(17);for(var f=_-1;f<_+2;f++)this.NEPALI_CALENDAR_DATA[f]===void 0&&(this.NEPALI_CALENDAR_DATA[f]=v)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),k.calendars.nepali=r},1104:function(B,L,e){var k=e(38700),w=e(50896);function r(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}function _(v,f){return v-f*Math.floor(v/f)}r.prototype=new k.baseCalendar,w(r.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(v){var f=this._validate(v,this.minMonth,this.minDay,k.local.invalidYear);return 682*((f.year()-(f.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(v,f,s){var t=this.newDate(v,f,s);return t.add(-(t.dayOfWeek()+1)%7,"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(v,f){var s=this._validate(v,f,this.minDay,k.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===12&&this.leapYear(s.year())?1:0)},weekDay:function(v,f,s){return this.dayOfWeek(v,f,s)!==5},toJD:function(v,f,s){var t=this._validate(v,f,s,k.local.invalidDate);v=t.year(),f=t.month(),s=t.day();var a=v-(v>=0?474:473),n=474+_(a,2820);return s+(f<=7?31*(f-1):30*(f-1)+6)+Math.floor((682*n-110)/2816)+365*(n-1)+1029983*Math.floor(a/2820)+this.jdEpoch-1},fromJD:function(v){var f=(v=Math.floor(v)+.5)-this.toJD(475,1,1),s=Math.floor(f/1029983),t=_(f,1029983),a=2820;if(t!==1029982){var n=Math.floor(t/366),i=_(t,366);a=Math.floor((2134*n+2816*i+2815)/1028522)+n+1}var l=a+2820*s+474;l=l<=0?l-1:l;var o=v-this.toJD(l,1,1)+1,u=o<=186?Math.ceil(o/31):Math.ceil((o-6)/30),h=v-this.toJD(l,u,1)+1;return this.newDate(l,u,h)}}),k.calendars.persian=r,k.calendars.jalali=r},51456:function(B,L,e){var k=e(38700),w=e(50896),r=k.instance();function _(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}_.prototype=new k.baseCalendar,w(_.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(v){var f=this._validate(v,this.minMonth,this.minDay,k.local.invalidYear);return v=this._t2gYear(f.year()),r.leapYear(v)},weekOfYear:function(v,f,s){var t=this._validate(v,this.minMonth,this.minDay,k.local.invalidYear);return v=this._t2gYear(t.year()),r.weekOfYear(v,t.month(),t.day())},daysInMonth:function(v,f){var s=this._validate(v,f,this.minDay,k.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(v,f,s){return(this.dayOfWeek(v,f,s)||7)<6},toJD:function(v,f,s){var t=this._validate(v,f,s,k.local.invalidDate);return v=this._t2gYear(t.year()),r.toJD(v,t.month(),t.day())},fromJD:function(v){var f=r.fromJD(v),s=this._g2tYear(f.year());return this.newDate(s,f.month(),f.day())},_t2gYear:function(v){return v+this.yearsOffset+(v>=-this.yearsOffset&&v<=-1?1:0)},_g2tYear:function(v){return v-this.yearsOffset-(v>=1&&v<=this.yearsOffset?1:0)}}),k.calendars.taiwan=_},4592:function(B,L,e){var k=e(38700),w=e(50896),r=k.instance();function _(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}_.prototype=new k.baseCalendar,w(_.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var f=this._validate(v,this.minMonth,this.minDay,k.local.invalidYear);return v=this._t2gYear(f.year()),r.leapYear(v)},weekOfYear:function(v,f,s){var t=this._validate(v,this.minMonth,this.minDay,k.local.invalidYear);return v=this._t2gYear(t.year()),r.weekOfYear(v,t.month(),t.day())},daysInMonth:function(v,f){var s=this._validate(v,f,this.minDay,k.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(v,f,s){return(this.dayOfWeek(v,f,s)||7)<6},toJD:function(v,f,s){var t=this._validate(v,f,s,k.local.invalidDate);return v=this._t2gYear(t.year()),r.toJD(v,t.month(),t.day())},fromJD:function(v){var f=r.fromJD(v),s=this._g2tYear(f.year());return this.newDate(s,f.month(),f.day())},_t2gYear:function(v){return v-this.yearsOffset-(v>=1&&v<=this.yearsOffset?1:0)},_g2tYear:function(v){return v+this.yearsOffset+(v>=-this.yearsOffset&&v<=-1?1:0)}}),k.calendars.thai=_},45348:function(B,L,e){var k=e(38700),w=e(50896);function r(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}r.prototype=new k.baseCalendar,w(r.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(v){var f=this._validate(v,this.minMonth,this.minDay,k.local.invalidYear);return this.daysInYear(f.year())===355},weekOfYear:function(v,f,s){var t=this.newDate(v,f,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(v){for(var f=0,s=1;s<=12;s++)f+=this.daysInMonth(v,s);return f},daysInMonth:function(v,f){for(var s=this._validate(v,f,this.minDay,k.local.invalidMonth).toJD()-24e5+.5,t=0,a=0;a<_.length;a++){if(_[a]>s)return _[t]-_[t-1];t++}return 30},weekDay:function(v,f,s){return this.dayOfWeek(v,f,s)!==5},toJD:function(v,f,s){var t=this._validate(v,f,s,k.local.invalidDate),a=12*(t.year()-1)+t.month()-15292;return t.day()+_[a-1]-1+24e5-.5},fromJD:function(v){for(var f=v-24e5+.5,s=0,t=0;t<_.length&&!(_[t]>f);t++)s++;var a=s+15292,n=Math.floor((a-1)/12),i=n+1,l=a-12*n,o=f-_[s-1]+1;return this.newDate(i,l,o)},isValid:function(v,f,s){var t=k.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(t=(v=v.year!=null?v.year:v)>=1276&&v<=1500),t},_validate:function(v,f,s,t){var a=k.baseCalendar.prototype._validate.apply(this,arguments);if(a.year<1276||a.year>1500)throw t.replace(/\{0\}/,this.local.name);return a}}),k.calendars.ummalqura=r;var _=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(B,L,e){var k=e(50896);function w(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function r(t,a,n,i){if(this._calendar=t,this._year=a,this._month=n,this._day=i,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function _(t,a){return"000000".substring(0,a-(t=""+t).length)+t}function v(){this.shortYearCutoff="+10"}function f(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}k(w.prototype,{instance:function(t,a){t=(t||"gregorian").toLowerCase(),a=a||"";var n=this._localCals[t+"-"+a];if(!n&&this.calendars[t]&&(n=new this.calendars[t](a),this._localCals[t+"-"+a]=n),!n)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return n},newDate:function(t,a,n,i,l){return(i=(t!=null&&t.year?t.calendar():typeof i=="string"?this.instance(i,l):i)||this.instance()).newDate(t,a,n)},substituteDigits:function(t){return function(a){return(a+"").replace(/[0-9]/g,function(n){return t[n]})}},substituteChineseDigits:function(t,a){return function(n){for(var i="",l=0;n>0;){var o=n%10;i=(o===0?"":t[o]+a[l])+i,l++,n=Math.floor(n/10)}return i.indexOf(t[1]+a[1])===0&&(i=i.substr(1)),i||t[0]}}}),k(r.prototype,{newDate:function(t,a,n){return this._calendar.newDate(t??this,a,n)},year:function(t){return arguments.length===0?this._year:this.set(t,"y")},month:function(t){return arguments.length===0?this._month:this.set(t,"m")},day:function(t){return arguments.length===0?this._day:this.set(t,"d")},date:function(t,a,n){if(!this._calendar.isValid(t,a,n))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=a,this._day=n,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,a){return this._calendar.add(this,t,a)},set:function(t,a){return this._calendar.set(this,t,a)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var a=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return a===0?0:a<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+_(Math.abs(this.year()),4)+"-"+_(this.month(),2)+"-"+_(this.day(),2)}}),k(v.prototype,{_validateLevel:0,newDate:function(t,a,n){return t==null?this.today():(t.year&&(this._validate(t,a,n,s.local.invalidDate||s.regionalOptions[""].invalidDate),n=t.day(),a=t.month(),t=t.year()),new r(this,t,a,n))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){return this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var a=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(a.year()<0?"-":"")+_(Math.abs(a.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),12},monthOfYear:function(t,a){var n=this._validate(t,a,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return(n.month()+this.monthsInYear(n)-this.firstMonth)%this.monthsInYear(n)+this.minMonth},fromMonthOfYear:function(t,a){var n=(a+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,n,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth),n},daysInYear:function(t){var a=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return this.leapYear(a)?366:365},dayOfYear:function(t,a,n){var i=this._validate(t,a,n,s.local.invalidDate||s.regionalOptions[""].invalidDate);return i.toJD()-this.newDate(i.year(),this.fromMonthOfYear(i.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,a,n){var i=this._validate(t,a,n,s.local.invalidDate||s.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(i))+2)%this.daysInWeek()},extraInfo:function(t,a,n){return this._validate(t,a,n,s.local.invalidDate||s.regionalOptions[""].invalidDate),{}},add:function(t,a,n){return this._validate(t,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,a,n),a,n)},_add:function(t,a,n){if(this._validateLevel++,n==="d"||n==="w"){var i=t.toJD()+a*(n==="w"?this.daysInWeek():1),l=t.calendar().fromJD(i);return this._validateLevel--,[l.year(),l.month(),l.day()]}try{var o=t.year()+(n==="y"?a:0),u=t.monthOfYear()+(n==="m"?a:0);l=t.day(),n==="y"?(t.month()!==this.fromMonthOfYear(o,u)&&(u=this.newDate(o,t.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(o)),l=Math.min(l,this.daysInMonth(o,this.fromMonthOfYear(o,u)))):n==="m"&&(function(c){for(;u<c.minMonth;)o--,u+=c.monthsInYear(o);for(var b=c.monthsInYear(o);u>b-1+c.minMonth;)o++,u-=b,b=c.monthsInYear(o)}(this),l=Math.min(l,this.daysInMonth(o,this.fromMonthOfYear(o,u))));var h=[o,this.fromMonthOfYear(o,u),l];return this._validateLevel--,h}catch(c){throw this._validateLevel--,c}},_correctAdd:function(t,a,n,i){if(!(this.hasYearZero||i!=="y"&&i!=="m"||a[0]!==0&&t.year()>0==a[0]>0)){var l={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[i],o=n<0?-1:1;a=this._add(t,n*l[0]+o*l[1],l[2])}return t.date(a[0],a[1],a[2])},set:function(t,a,n){this._validate(t,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate);var i=n==="y"?a:t.year(),l=n==="m"?a:t.month(),o=n==="d"?a:t.day();return n!=="y"&&n!=="m"||(o=Math.min(o,this.daysInMonth(i,l))),t.date(i,l,o)},isValid:function(t,a,n){this._validateLevel++;var i=this.hasYearZero||t!==0;if(i){var l=this.newDate(t,a,this.minDay);i=a>=this.minMonth&&a-this.minMonth<this.monthsInYear(l)&&n>=this.minDay&&n-this.minDay<this.daysInMonth(l)}return this._validateLevel--,i},toJSDate:function(t,a,n){var i=this._validate(t,a,n,s.local.invalidDate||s.regionalOptions[""].invalidDate);return s.instance().fromJD(this.toJD(i)).toJSDate()},fromJSDate:function(t){return this.fromJD(s.instance().fromJSDate(t).toJD())},_validate:function(t,a,n,i){if(t.year){if(this._validateLevel===0&&this.name!==t.calendar().name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(t,a,n))throw i.replace(/\{0\}/,this.local.name);var l=this.newDate(t,a,n);return this._validateLevel--,l}catch(o){throw this._validateLevel--,o}}}),f.prototype=new v,k(f.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var a=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(t=a.year()+(a.year()<0?1:0))%4==0&&(t%100!=0||t%400==0)},weekOfYear:function(t,a,n){var i=this.newDate(t,a,n);return i.add(4-(i.dayOfWeek()||7),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(t,a){var n=this._validate(t,a,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===2&&this.leapYear(n.year())?1:0)},weekDay:function(t,a,n){return(this.dayOfWeek(t,a,n)||7)<6},toJD:function(t,a,n){var i=this._validate(t,a,n,s.local.invalidDate||s.regionalOptions[""].invalidDate);t=i.year(),a=i.month(),n=i.day(),t<0&&t++,a<3&&(a+=12,t--);var l=Math.floor(t/100),o=2-l+Math.floor(l/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(a+1))+n+o-1524.5},fromJD:function(t){var a=Math.floor(t+.5),n=Math.floor((a-186721625e-2)/36524.25),i=1524+(n=a+1+n-Math.floor(n/4)),l=Math.floor((i-122.1)/365.25),o=Math.floor(365.25*l),u=Math.floor((i-o)/30.6001),h=i-o-Math.floor(30.6001*u),c=u-(u>13.5?13:1),b=l-(c>2.5?4716:4715);return b<=0&&b--,this.newDate(b,c,h)},toJSDate:function(t,a,n){var i=this._validate(t,a,n,s.local.invalidDate||s.regionalOptions[""].invalidDate),l=new Date(i.year(),i.month()-1,i.day());return l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0),l.setHours(l.getHours()>12?l.getHours()+2:0),l},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var s=B.exports=new w;s.cdate=r,s.baseCalendar=v,s.calendars.gregorian=f},15168:function(B,L,e){var k=e(50896),w=e(38700);k(w.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),w.local=w.regionalOptions[""],k(w.cdate.prototype,{formatDate:function(r,_){return typeof r!="string"&&(_=r,r=""),this._calendar.formatDate(r||"",this,_)}}),k(w.baseCalendar.prototype,{UNIX_EPOCH:w.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:w.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(r,_,v){if(typeof r!="string"&&(v=_,_=r,r=""),!_)return"";if(_.calendar()!==this)throw w.local.invalidFormat||w.regionalOptions[""].invalidFormat;r=r||this.local.dateFormat;for(var f,s,t,a=(v=v||{}).dayNamesShort||this.local.dayNamesShort,n=v.dayNames||this.local.dayNames,i=v.monthNumbers||this.local.monthNumbers,l=v.monthNamesShort||this.local.monthNamesShort,o=v.monthNames||this.local.monthNames,u=(v.calculateWeek||this.local.calculateWeek,function(p,S){for(var M=1;T+M<r.length&&r.charAt(T+M)===p;)M++;return T+=M-1,Math.floor(M/(S||1))>1}),h=function(p,S,M,E){var P=""+S;if(u(p,E))for(;P.length<M;)P="0"+P;return P},c=this,b=function(p){return typeof i=="function"?i.call(c,p,u("m")):m(h("m",p.month(),2))},d=function(p,S){return S?typeof o=="function"?o.call(c,p):o[p.month()-c.minMonth]:typeof l=="function"?l.call(c,p):l[p.month()-c.minMonth]},g=this.local.digits,m=function(p){return v.localNumbers&&g?g(p):p},y="",x=!1,T=0;T<r.length;T++)if(x)r.charAt(T)!=="'"||u("'")?y+=r.charAt(T):x=!1;else switch(r.charAt(T)){case"d":y+=m(h("d",_.day(),2));break;case"D":y+=(f=_.dayOfWeek(),s=a,t=n,u("D")?t[f]:s[f]);break;case"o":y+=h("o",_.dayOfYear(),3);break;case"w":y+=h("w",_.weekOfYear(),2);break;case"m":y+=b(_);break;case"M":y+=d(_,u("M"));break;case"y":y+=u("y",2)?_.year():(_.year()%100<10?"0":"")+_.year()%100;break;case"Y":u("Y",2),y+=_.formatYear();break;case"J":y+=_.toJD();break;case"@":y+=(_.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":y+=(_.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":u("'")?y+="'":x=!0;break;default:y+=r.charAt(T)}return y},parseDate:function(r,_,v){if(_==null)throw w.local.invalidArguments||w.regionalOptions[""].invalidArguments;if((_=typeof _=="object"?_.toString():_+"")==="")return null;r=r||this.local.dateFormat;var f=(v=v||{}).shortYearCutoff||this.shortYearCutoff;f=typeof f!="string"?f:this.today().year()%100+parseInt(f,10);for(var s=v.dayNamesShort||this.local.dayNamesShort,t=v.dayNames||this.local.dayNames,a=v.parseMonth||this.local.parseMonth,n=v.monthNumbers||this.local.monthNumbers,i=v.monthNamesShort||this.local.monthNamesShort,l=v.monthNames||this.local.monthNames,o=-1,u=-1,h=-1,c=-1,b=-1,d=!1,g=!1,m=function(R,U){for(var z=1;P+z<r.length&&r.charAt(P+z)===R;)z++;return P+=z-1,Math.floor(z/(U||1))>1},y=function(R,U){var z=m(R,U),j=[2,3,z?4:2,z?4:2,10,11,20]["oyYJ@!".indexOf(R)+1],W=new RegExp("^-?\\d{1,"+j+"}"),F=_.substring(E).match(W);if(!F)throw(w.local.missingNumberAt||w.regionalOptions[""].missingNumberAt).replace(/\{0\}/,E);return E+=F[0].length,parseInt(F[0],10)},x=this,T=function(){if(typeof n=="function"){m("m");var R=n.call(x,_.substring(E));return E+=R.length,R}return y("m")},p=function(R,U,z,j){for(var W=m(R,j)?z:U,F=0;F<W.length;F++)if(_.substr(E,W[F].length).toLowerCase()===W[F].toLowerCase())return E+=W[F].length,F+x.minMonth;throw(w.local.unknownNameAt||w.regionalOptions[""].unknownNameAt).replace(/\{0\}/,E)},S=function(){if(typeof l=="function"){var R=m("M")?l.call(x,_.substring(E)):i.call(x,_.substring(E));return E+=R.length,R}return p("M",i,l)},M=function(){if(_.charAt(E)!==r.charAt(P))throw(w.local.unexpectedLiteralAt||w.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,E);E++},E=0,P=0;P<r.length;P++)if(g)r.charAt(P)!=="'"||m("'")?M():g=!1;else switch(r.charAt(P)){case"d":c=y("d");break;case"D":p("D",s,t);break;case"o":b=y("o");break;case"w":y("w");break;case"m":h=T();break;case"M":h=S();break;case"y":var O=P;d=!m("y",2),P=O,u=y("y",2);break;case"Y":u=y("Y",2);break;case"J":o=y("J")+.5,_.charAt(E)==="."&&(E++,y("J"));break;case"@":o=y("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":o=y("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":E=_.length;break;case"'":m("'")?M():g=!0;break;default:M()}if(E<_.length)throw w.local.unexpectedText||w.regionalOptions[""].unexpectedText;if(u===-1?u=this.today().year():u<100&&d&&(u+=f===-1?1900:this.today().year()-this.today().year()%100-(u<=f?0:100)),typeof h=="string"&&(h=a.call(this,u,h)),b>-1){h=1,c=b;for(var I=this.daysInMonth(u,h);c>I;I=this.daysInMonth(u,h))h++,c-=I}return o>-1?this.fromJD(o):this.newDate(u,h,c)},determineDate:function(r,_,v,f,s){v&&typeof v!="object"&&(s=f,f=v,v=null),typeof f!="string"&&(s=f,f="");var t=this;return _=_?_.newDate():null,r==null?_:typeof r=="string"?function(a){try{return t.parseDate(f,a,s)}catch{}for(var n=((a=a.toLowerCase()).match(/^c/)&&v?v.newDate():null)||t.today(),i=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,l=i.exec(a);l;)n.add(parseInt(l[1],10),l[2]||"d"),l=i.exec(a);return n}(r):typeof r=="number"?isNaN(r)||r===1/0||r===-1/0?_:t.today().add(r,"d"):t.newDate(r)}})},21576:function(){},19768:function(){},63436:function(B,L,e){var k=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],w=typeof globalThis>"u"?e.g:globalThis;B.exports=function(){for(var r=[],_=0;_<k.length;_++)typeof w[k[_]]=="function"&&(r[r.length]=k[_]);return r}},67756:function(B,L,e){function k(ge,ve,be){ge.prototype=ve.prototype=be,be.constructor=ge}function w(ge,ve){var be=Object.create(ge.prototype);for(var we in ve)be[we]=ve[we];return be}function r(){}e.d(L,{qy:function(){return ce},Gz:function(){return Q}});var _=.7,v=1/_,f="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",a=/^#([0-9a-f]{3,8})$/,n=new RegExp("^rgb\\(".concat(f,",").concat(f,",").concat(f,"\\)$")),i=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),l=new RegExp("^rgba\\(".concat(f,",").concat(f,",").concat(f,",").concat(s,"\\)$")),o=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(s,"\\)$")),u=new RegExp("^hsl\\(".concat(s,",").concat(t,",").concat(t,"\\)$")),h=new RegExp("^hsla\\(".concat(s,",").concat(t,",").concat(t,",").concat(s,"\\)$")),c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function b(){return this.rgb().formatHex()}function d(){return this.rgb().formatRgb()}function g(ge){var ve,be;return ge=(ge+"").trim().toLowerCase(),(ve=a.exec(ge))?(be=ve[1].length,ve=parseInt(ve[1],16),be===6?m(ve):be===3?new T(ve>>8&15|ve>>4&240,ve>>4&15|240&ve,(15&ve)<<4|15&ve,1):be===8?y(ve>>24&255,ve>>16&255,ve>>8&255,(255&ve)/255):be===4?y(ve>>12&15|ve>>8&240,ve>>8&15|ve>>4&240,ve>>4&15|240&ve,((15&ve)<<4|15&ve)/255):null):(ve=n.exec(ge))?new T(ve[1],ve[2],ve[3],1):(ve=i.exec(ge))?new T(255*ve[1]/100,255*ve[2]/100,255*ve[3]/100,1):(ve=l.exec(ge))?y(ve[1],ve[2],ve[3],ve[4]):(ve=o.exec(ge))?y(255*ve[1]/100,255*ve[2]/100,255*ve[3]/100,ve[4]):(ve=u.exec(ge))?O(ve[1],ve[2]/100,ve[3]/100,1):(ve=h.exec(ge))?O(ve[1],ve[2]/100,ve[3]/100,ve[4]):c.hasOwnProperty(ge)?m(c[ge]):ge==="transparent"?new T(NaN,NaN,NaN,0):null}function m(ge){return new T(ge>>16&255,ge>>8&255,255&ge,1)}function y(ge,ve,be,we){return we<=0&&(ge=ve=be=NaN),new T(ge,ve,be,we)}function x(ge,ve,be,we){return arguments.length===1?((ye=ge)instanceof r||(ye=g(ye)),ye?new T((ye=ye.rgb()).r,ye.g,ye.b,ye.opacity):new T):new T(ge,ve,be,we??1);var ye}function T(ge,ve,be,we){this.r=+ge,this.g=+ve,this.b=+be,this.opacity=+we}function p(){return"#".concat(P(this.r)).concat(P(this.g)).concat(P(this.b))}function S(){var ge=M(this.opacity);return"".concat(ge===1?"rgb(":"rgba(").concat(E(this.r),", ").concat(E(this.g),", ").concat(E(this.b)).concat(ge===1?")":", ".concat(ge,")"))}function M(ge){return isNaN(ge)?1:Math.max(0,Math.min(1,ge))}function E(ge){return Math.max(0,Math.min(255,Math.round(ge)||0))}function P(ge){return((ge=E(ge))<16?"0":"")+ge.toString(16)}function O(ge,ve,be,we){return we<=0?ge=ve=be=NaN:be<=0||be>=1?ge=ve=NaN:ve<=0&&(ge=NaN),new R(ge,ve,be,we)}function I(ge){if(ge instanceof R)return new R(ge.h,ge.s,ge.l,ge.opacity);if(ge instanceof r||(ge=g(ge)),!ge)return new R;if(ge instanceof R)return ge;var ve=(ge=ge.rgb()).r/255,be=ge.g/255,we=ge.b/255,ye=Math.min(ve,be,we),me=Math.max(ve,be,we),Ae=NaN,ke=me-ye,fe=(me+ye)/2;return ke?(Ae=ve===me?(be-we)/ke+6*(be<we):be===me?(we-ve)/ke+2:(ve-be)/ke+4,ke/=fe<.5?me+ye:2-me-ye,Ae*=60):ke=fe>0&&fe<1?0:Ae,new R(Ae,ke,fe,ge.opacity)}function R(ge,ve,be,we){this.h=+ge,this.s=+ve,this.l=+be,this.opacity=+we}function U(ge){return(ge=(ge||0)%360)<0?ge+360:ge}function z(ge){return Math.max(0,Math.min(1,ge||0))}function j(ge,ve,be){return 255*(ge<60?ve+(be-ve)*ge/60:ge<180?be:ge<240?ve+(be-ve)*(240-ge)/60:ve)}k(r,g,{copy:function(ge){return Object.assign(new this.constructor,this,ge)},displayable:function(){return this.rgb().displayable()},hex:b,formatHex:b,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return I(this).formatHsl()},formatRgb:d,toString:d}),k(T,x,w(r,{brighter:function(ge){return ge=ge==null?v:Math.pow(v,ge),new T(this.r*ge,this.g*ge,this.b*ge,this.opacity)},darker:function(ge){return ge=ge==null?_:Math.pow(_,ge),new T(this.r*ge,this.g*ge,this.b*ge,this.opacity)},rgb:function(){return this},clamp:function(){return new T(E(this.r),E(this.g),E(this.b),M(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p,formatHex:p,formatHex8:function(){return"#".concat(P(this.r)).concat(P(this.g)).concat(P(this.b)).concat(P(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:S,toString:S})),k(R,function(ge,ve,be,we){return arguments.length===1?I(ge):new R(ge,ve,be,we??1)},w(r,{brighter:function(ge){return ge=ge==null?v:Math.pow(v,ge),new R(this.h,this.s,this.l*ge,this.opacity)},darker:function(ge){return ge=ge==null?_:Math.pow(_,ge),new R(this.h,this.s,this.l*ge,this.opacity)},rgb:function(){var ge=this.h%360+360*(this.h<0),ve=isNaN(ge)||isNaN(this.s)?0:this.s,be=this.l,we=be+(be<.5?be:1-be)*ve,ye=2*be-we;return new T(j(ge>=240?ge-240:ge+120,ye,we),j(ge,ye,we),j(ge<120?ge+240:ge-120,ye,we),this.opacity)},clamp:function(){return new R(U(this.h),z(this.s),z(this.l),M(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var ge=M(this.opacity);return"".concat(ge===1?"hsl(":"hsla(").concat(U(this.h),", ").concat(100*z(this.s),"%, ").concat(100*z(this.l),"%").concat(ge===1?")":", ".concat(ge,")"))}}));var W=function(ge){return function(){return ge}};function F(ge,ve){var be=ve-ge;return be?function(we,ye){return function(me){return we+me*ye}}(ge,be):W(isNaN(ge)?ve:ge)}var V=function ge(ve){var be=function(ye){return(ye=+ye)==1?F:function(me,Ae){return Ae-me?function(ke,fe,le){return ke=Math.pow(ke,le),fe=Math.pow(fe,le)-ke,le=1/le,function(de){return Math.pow(ke+de*fe,le)}}(me,Ae,ye):W(isNaN(me)?Ae:me)}}(ve);function we(ye,me){var Ae=be((ye=x(ye)).r,(me=x(me)).r),ke=be(ye.g,me.g),fe=be(ye.b,me.b),le=F(ye.opacity,me.opacity);return function(de){return ye.r=Ae(de),ye.g=ke(de),ye.b=fe(de),ye.opacity=le(de),ye+""}}return we.gamma=ge,we}(1);function H(ge,ve){var be,we=ve?ve.length:0,ye=ge?Math.min(we,ge.length):0,me=new Array(ye),Ae=new Array(we);for(be=0;be<ye;++be)me[be]=ce(ge[be],ve[be]);for(;be<we;++be)Ae[be]=ve[be];return function(ke){for(be=0;be<ye;++be)Ae[be]=me[be](ke);return Ae}}function te(ge,ve){var be=new Date;return ge=+ge,ve=+ve,function(we){return be.setTime(ge*(1-we)+ve*we),be}}function Q(ge,ve){return ge=+ge,ve=+ve,function(be){return ge*(1-be)+ve*be}}function K(ge){return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ve){return typeof ve}:function(ve){return ve&&typeof Symbol=="function"&&ve.constructor===Symbol&&ve!==Symbol.prototype?"symbol":typeof ve},K(ge)}function X(ge,ve){var be,we={},ye={};for(be in ge!==null&&K(ge)==="object"||(ge={}),ve!==null&&K(ve)==="object"||(ve={}),ve)be in ge?we[be]=ce(ge[be],ve[be]):ye[be]=ve[be];return function(me){for(be in we)ye[be]=we[be](me);return ye}}var J=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ee=new RegExp(J.source,"g");function ie(ge,ve){var be,we,ye,me=J.lastIndex=ee.lastIndex=0,Ae=-1,ke=[],fe=[];for(ge+="",ve+="";(be=J.exec(ge))&&(we=ee.exec(ve));)(ye=we.index)>me&&(ye=ve.slice(me,ye),ke[Ae]?ke[Ae]+=ye:ke[++Ae]=ye),(be=be[0])===(we=we[0])?ke[Ae]?ke[Ae]+=we:ke[++Ae]=we:(ke[++Ae]=null,fe.push({i:Ae,x:Q(be,we)})),me=ee.lastIndex;return me<ve.length&&(ye=ve.slice(me),ke[Ae]?ke[Ae]+=ye:ke[++Ae]=ye),ke.length<2?fe[0]?function(le){return function(de){return le(de)+""}}(fe[0].x):function(le){return function(){return le}}(ve):(ve=fe.length,function(le){for(var de,Ce=0;Ce<ve;++Ce)ke[(de=fe[Ce]).i]=de.x(le);return ke.join("")})}function oe(ge,ve){ve||(ve=[]);var be,we=ge?Math.min(ve.length,ge.length):0,ye=ve.slice();return function(me){for(be=0;be<we;++be)ye[be]=ge[be]*(1-me)+ve[be]*me;return ye}}function ae(ge){return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ve){return typeof ve}:function(ve){return ve&&typeof Symbol=="function"&&ve.constructor===Symbol&&ve!==Symbol.prototype?"symbol":typeof ve},ae(ge)}function ce(ge,ve){var be,we,ye=ae(ve);return ve==null||ye==="boolean"?W(ve):(ye==="number"?Q:ye==="string"?(be=g(ve))?(ve=be,V):ie:ve instanceof g?V:ve instanceof Date?te:(we=ve,!ArrayBuffer.isView(we)||we instanceof DataView?Array.isArray(ve)?H:typeof ve.valueOf!="function"&&typeof ve.toString!="function"||isNaN(ve)?X:Q:oe))(ge,ve)}},30584:function(B){B.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(B){B.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(B){B.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(B){B.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(B){B.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(B){B.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},De={};function We(B){var L=De[B];if(L!==void 0)return L.exports;var e=De[B]={exports:{}};return Se[B].call(e.exports,e,e.exports,We),e.exports}return We.n=function(B){var L=B&&B.__esModule?function(){return B.default}:function(){return B};return We.d(L,{a:L}),L},We.d=function(B,L){for(var e in L)We.o(L,e)&&!We.o(B,e)&&Object.defineProperty(B,e,{enumerable:!0,get:L[e]})},We.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),We.o=function(B,L){return Object.prototype.hasOwnProperty.call(B,L)},We.r=function(B){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(B,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(B,"__esModule",{value:!0})},We(13792)}()})})(uv);var C3=uv.exports;const Gc=g3(C3);function O3(re){let se,Se;return{c(){se=_r("div"),Se=_r("div"),Vn(Se,"id","plotDiv"),Vn(Se,"class","svelte-1wq0m82"),Vn(se,"class","container svelte-1wq0m82"),Ms(se,"hidden",!re[0])},m(De,We){Cr(De,se,We),hr(se,Se),re[5](Se)},p(De,[We]){We&1&&Ms(se,"hidden",!De[0])},i:xi,o:xi,d(De){De&&Lr(se),re[5](null)}}}function P3(re,se,Se){function De(v){var s;const f={};for(let t=0;t<v.extraction.length;t++){if(!(w in v.extraction[t].params))continue;const a=v.extraction[t].params[w];typeof a.value=="number"&&(f[s=a.value]||(f[s]=0),f[a.value]+=1)}return f}function We(v){const f=Object.keys(v).sort(),s=Array(f.length).fill(0);for(const t of f)s[f.indexOf(t)]=v[t];Gc.newPlot(e,[{x:f,y:s,type:"bar",marker:{color:r}}],{title:!1,hovermode:"closest",plot_bgcolor:"transparent",paper_bgcolor:"transparent",margin:{t:0,l:40,b:40,r:20},autosize:!0,dragmode:!1,yaxis:{gridcolor:"gray",showgrid:!1},xaxis:{fixedrange:!0}},{responsive:!0,showSendToCloud:!1,displayModeBar:!1})}function B(){if(e)try{Gc.restyle(e,{"marker.color":r})}catch{}}let L=!1,e;Mu(async()=>{const v=De(k);Object.keys(v).length!==0&&(Se(0,L=!0),We(v),window.dispatchEvent(new Event("resize")))});let{data:k,token:w,hex:r}=se;function _(v){Ja[v?"unshift":"push"](()=>{e=v,Se(1,e)})}return re.$$set=v=>{"data"in v&&Se(2,k=v.data),"token"in v&&Se(3,w=v.token),"hex"in v&&Se(4,r=v.hex)},re.$$.update=()=>{re.$$.dirty&16&&r&&B()},[L,e,k,w,r,_]}class I3 extends Fa{constructor(se){super(),Ra(this,se,P3,O3,za,{data:2,token:3,hex:4})}}function D3(re){let se,Se;return{c(){se=_r("div"),Se=_r("div"),Vn(Se,"id","plotDiv"),Vn(Se,"class","svelte-bbthu8"),Vn(se,"class","container svelte-bbthu8")},m(De,We){Cr(De,se,We),hr(se,Se),re[4](Se)},p:xi,i:xi,o:xi,d(De){De&&Lr(se),re[4](null)}}}function z3(re,se){const Se=se.map(B=>new Date(B).getTime()),De=Array(se.length).fill(0);for(let B=0;B<re.length;B++){const L={index:-1,diff:Number.MAX_VALUE},e=re[B].getTime();for(let k=0;k<Se.length;k++){const w=Math.abs(Se[k]-e);if(w<L.diff)L.index=k,L.diff=w;else break}De[L.index]+=1}return[se.map(B=>new Date(B)),De]}function R3(re,se,Se){const De=lv.extendMoment(Br);function We(v){const f=[];for(let s=0;s<v.extraction.length;s++){if(!(w in v.extraction[s].params))continue;const t=v.extraction[s].params[w].value;f.push(new Date(t))}return f}function B(){const v=We(k).sort((n,i)=>n.getTime()-i.getTime()),f=De.range(v[0],v[v.length-1]),s=Array.from(f.by("minutes",{step:20})),[t,a]=z3(v,s);Gc.newPlot(e,[{x:t,y:a,type:"bar",marker:{color:r}}],{title:!1,hovermode:"closest",plot_bgcolor:"transparent",paper_bgcolor:"transparent",margin:{t:0,l:50,b:30,r:10},autosize:!0,dragmode:!1,height:300,yaxis:{gridcolor:"gray",showgrid:!1},xaxis:{fixedrange:!0}},{responsive:!0,showSendToCloud:!1,displayModeBar:!1})}function L(){e&&Gc.restyle(e,{"marker.color":r})}let e;Mu(async()=>{B()});let{data:k,token:w,hex:r}=se;function _(v){Ja[v?"unshift":"push"](()=>{e=v,Se(0,e)})}return re.$$set=v=>{"data"in v&&Se(1,k=v.data),"token"in v&&Se(2,w=v.token),"hex"in v&&Se(3,r=v.hex)},re.$$.update=()=>{re.$$.dirty&8&&r&&L()},[e,k,w,r,_]}class F3 extends Fa{constructor(se){super(),Ra(this,se,R3,D3,za,{data:1,token:2,hex:3})}}function B3(re){let se,Se;return{c(){se=_r("div"),Se=_r("div"),Vn(Se,"id","plotDiv"),Vn(Se,"class","svelte-1gnvj1i"),Vn(se,"class","container svelte-1gnvj1i"),Ms(se,"hidden",!F1(re[0],re[1]))},m(De,We){Cr(De,se,We),hr(se,Se),re[4](Se)},p(De,[We]){We&3&&Ms(se,"hidden",!F1(De[0],De[1]))},i:xi,o:xi,d(De){De&&Lr(se),re[4](null)}}}function F1(re,se){for(let Se=0;Se<re.extraction.length;Se++){const De=re.extraction[Se].params;if(se in De&&De[se].type==="ip"&&De[se].value in re.locations)return!0}return!1}function N3(re){const se=[],Se=[];for(const[De,We]of Object.entries(re))se.push(De),Se.push(We);return[se,Se]}function j3(re,se,Se){function De(v){const f={};for(let s=0;s<v.extraction.length;s++){const t=v.extraction[s].params;if(w in t&&t[w].type==="ip"){const a=v.locations[t[w].value];f[a]||(f[a]=0),f[a]+=1}}return f}function We(){const v=De(k),[f,s]=N3(v);e=[{type:"choropleth",locations:f,z:s,text:f,locationmode:"country names",colorscale:[[0,r],[.4,r],[1,"#101010"]],autocolorscale:!1,reversescale:!0,marker:{line:{color:"rgb(90,90,90)",width:.1}},tick0:0,zmin:0,colorbar:{autotic:!1}}],Gc.newPlot(L,e,{title:!1,hovermode:"closest",plot_bgcolor:"transparent",paper_bgcolor:"transparent",margin:{t:50,l:0,b:0,r:0},autosize:!0,height:600,dragmode:!1,yaxis:{gridcolor:"gray",showgrid:!1},xaxis:{fixedrange:!0},geo:{showframe:!1,countrycolor:"rgb(255, 255, 255)",showland:!0,landcolor:"#111",showlakes:!0,lakecolor:"black",lonaxis:{},lataxis:{},bgcolor:"transparent"},mapbox:{style:"dark"}},{responsive:!0,showSendToCloud:!1,displayModeBar:!1})}function B(){L&&(e[0].colorscale[0][1]=r,e[0].colorscale[1][1]=r,Gc.redraw(L))}let L,e;Mu(async()=>{We()});let{data:k,token:w,hex:r}=se;function _(v){Ja[v?"unshift":"push"](()=>{L=v,Se(2,L)})}return re.$$set=v=>{"data"in v&&Se(0,k=v.data),"token"in v&&Se(1,w=v.token),"hex"in v&&Se(3,r=v.hex)},re.$$.update=()=>{re.$$.dirty&8&&r&&B()},[k,w,L,r,_]}class U3 extends Fa{constructor(se){super(),Ra(this,se,j3,B3,za,{data:0,token:1,hex:3})}}function B1(re,se,Se){const De=re.slice();return De[5]=se[Se],De}function N1(re,se,Se){const De=re.slice();return De[8]=se[Se],De}function j1(re,se,Se){const De=re.slice();return De[11]=se[Se],De}function U1(re){let se,Se=no(re[0].slice(0,10)),De=[];for(let We=0;We<Se.length;We+=1)De[We]=q1(B1(re,Se,We));return{c(){se=_r("div");for(let We=0;We<De.length;We+=1)De[We].c();Vn(se,"class","freq-graph svelte-mzx7y3")},m(We,B){Cr(We,se,B);for(let L=0;L<De.length;L+=1)De[L]&&De[L].m(se,null)},p(We,B){if(B&1){Se=no(We[0].slice(0,10));let L;for(L=0;L<Se.length;L+=1){const e=B1(We,Se,L);De[L]?De[L].p(e,B):(De[L]=q1(e),De[L].c(),De[L].m(se,null))}for(;L<De.length;L+=1)De[L].d(1);De.length=Se.length}},d(We){We&&Lr(se),iu(De,We)}}}function V1(re){let se,Se,De=re[11].dependentTokenValue+"",We,B,L;return{c(){se=_r("div"),Se=_r("div"),We=li(De),B=qr(),Vn(Se,"class","bar svelte-mzx7y3"),Xa(Se,"width",re[11].width+"%"),Vn(se,"class","token-frequency svelte-mzx7y3"),Vn(se,"title",L=re[11].count.toString())},m(e,k){Cr(e,se,k),hr(se,Se),hr(Se,We),hr(se,B)},p(e,k){k&1&&De!==(De=e[11].dependentTokenValue+"")&&Pi(We,De),k&1&&Xa(Se,"width",e[11].width+"%"),k&1&&L!==(L=e[11].count.toString())&&Vn(se,"title",L)},d(e){e&&Lr(se)}}}function H1(re){let se,Se=re[8]+"",De,We,B,L=no(re[5][re[8]]),e=[];for(let k=0;k<L.length;k+=1)e[k]=V1(j1(re,L,k));return{c(){se=_r("div"),De=li(Se),We=qr();for(let k=0;k<e.length;k+=1)e[k].c();B=As(),Vn(se,"class","value-name svelte-mzx7y3")},m(k,w){Cr(k,se,w),hr(se,De),Cr(k,We,w);for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(k,w);Cr(k,B,w)},p(k,w){if(w&1&&Se!==(Se=k[8]+"")&&Pi(De,Se),w&1){L=no(k[5][k[8]]);let r;for(r=0;r<L.length;r+=1){const _=j1(k,L,r);e[r]?e[r].p(_,w):(e[r]=V1(_),e[r].c(),e[r].m(B.parentNode,B))}for(;r<e.length;r+=1)e[r].d(1);e.length=L.length}},d(k){k&&(Lr(se),Lr(We),Lr(B)),iu(e,k)}}}function q1(re){let se,Se=no(Object.keys(re[5])),De=[];for(let We=0;We<Se.length;We+=1)De[We]=H1(N1(re,Se,We));return{c(){for(let We=0;We<De.length;We+=1)De[We].c();se=As()},m(We,B){for(let L=0;L<De.length;L+=1)De[L]&&De[L].m(We,B);Cr(We,se,B)},p(We,B){if(B&1){Se=no(Object.keys(We[5]));let L;for(L=0;L<Se.length;L+=1){const e=N1(We,Se,L);De[L]?De[L].p(e,B):(De[L]=H1(e),De[L].c(),De[L].m(se.parentNode,se))}for(;L<De.length;L+=1)De[L].d(1);De.length=Se.length}},d(We){We&&Lr(se),iu(De,We)}}}function V3(re){let se,Se=re[0].length>0&&U1(re);return{c(){Se&&Se.c(),se=As()},m(De,We){Se&&Se.m(De,We),Cr(De,se,We)},p(De,[We]){De[0].length>0?Se?Se.p(De,We):(Se=U1(De),Se.c(),Se.m(se.parentNode,se)):Se&&(Se.d(1),Se=null)},i:xi,o:xi,d(De){De&&Lr(se),Se&&Se.d(De)}}}const H3=10;function q3(re){const se={};for(const B of Object.values(re))for(const L of Object.values(B))for(const[e,k]of Object.entries(L))for(const[w,r]of Object.entries(k))se[e]||(se[e]=[]),se[e].push({dependentTokenValue:w,count:r,width:0});for(const B in se)se[B].sort((L,e)=>e.count-L.count);let Se=0;for(const B in se)for(let L=0;L<se[B].length;L++)se[B][L].count>Se&&(Se=se[B][L].count);for(const B in se){for(let L=0;L<se[B].length;L++)se[B][L].width=se[B][L].count/Se*100;se[B]=se[B].slice(0,H3)}const De={};for(const B in se){const L=se[B].reduce((e,k)=>e+k.count,0);De[B]=L}const We=[];for(const B in se){const L={};L[B]=se[B],We.push(L)}return We.sort((B,L)=>{const e=Object.keys(B).reduce((w,r)=>w+De[r],0);return Object.keys(L).reduce((w,r)=>w+De[r],0)-e}),We}function G3(re,se,Se){var We,B,L;const De={};for(let e=0;e<re.extraction.length;e++)if(se in re.extraction[e].params&&Se in re.extraction[e].params){const k=re.extraction[e].params[se].value,w=re.extraction[e].params[Se].value;De[se]||(De[se]={}),(We=De[se])[Se]||(We[Se]={}),(B=De[se][Se])[k]||(B[k]={}),(L=De[se][Se][k])[w]||(L[w]=0),De[se][Se][k][w]+=1}return De}function Y3(re,se,Se){let De=[];function We(k){Se(0,De=q3(k))}Mu(()=>{const k=G3(B,L,e);We(k)});let{data:B,token:L,dependentToken:e}=se;return re.$$set=k=>{"data"in k&&Se(1,B=k.data),"token"in k&&Se(2,L=k.token),"dependentToken"in k&&Se(3,e=k.dependentToken)},[De,B,L,e]}class W3 extends Fa{constructor(se){super(),Ra(this,se,Y3,V3,za,{data:1,token:2,dependentToken:3})}}function Z3(re){let se;return{c(){se=li(re[1])},m(Se,De){Cr(Se,se,De)},p(Se,De){De&2&&Pi(se,Se[1])},d(Se){Se&&Lr(se)}}}function X3(re){let se,Se,De;return{c(){se=li(re[1]),Se=li(" & "),De=li(re[2])},m(We,B){Cr(We,se,B),Cr(We,Se,B),Cr(We,De,B)},p(We,B){B&2&&Pi(se,We[1]),B&4&&Pi(De,We[2])},d(We){We&&(Lr(se),Lr(Se),Lr(De))}}}function J3(re){let se,Se,De,We,B,L,e,k,w,r;return se=new L3({props:{data:re[0],token:re[1]}}),De=new I3({props:{data:re[0],token:re[1],hex:re[5]}}),B=new hx({props:{data:re[0],token:re[1]}}),e=new k3({props:{data:re[0],token:re[1],timestampToken:re[4]}}),w=new U3({props:{data:re[0],token:re[1],hex:re[5]}}),{c(){ta(se.$$.fragment),Se=qr(),ta(De.$$.fragment),We=qr(),ta(B.$$.fragment),L=qr(),ta(e.$$.fragment),k=qr(),ta(w.$$.fragment)},m(_,v){Zi(se,_,v),Cr(_,Se,v),Zi(De,_,v),Cr(_,We,v),Zi(B,_,v),Cr(_,L,v),Zi(e,_,v),Cr(_,k,v),Zi(w,_,v),r=!0},p(_,v){const f={};v&1&&(f.data=_[0]),v&2&&(f.token=_[1]),se.$set(f);const s={};v&1&&(s.data=_[0]),v&2&&(s.token=_[1]),v&32&&(s.hex=_[5]),De.$set(s);const t={};v&1&&(t.data=_[0]),v&2&&(t.token=_[1]),B.$set(t);const a={};v&1&&(a.data=_[0]),v&2&&(a.token=_[1]),v&16&&(a.timestampToken=_[4]),e.$set(a);const n={};v&1&&(n.data=_[0]),v&2&&(n.token=_[1]),v&32&&(n.hex=_[5]),w.$set(n)},i(_){r||(Qr(se.$$.fragment,_),Qr(De.$$.fragment,_),Qr(B.$$.fragment,_),Qr(e.$$.fragment,_),Qr(w.$$.fragment,_),r=!0)},o(_){ti(se.$$.fragment,_),ti(De.$$.fragment,_),ti(B.$$.fragment,_),ti(e.$$.fragment,_),ti(w.$$.fragment,_),r=!1},d(_){_&&(Lr(Se),Lr(We),Lr(L),Lr(k)),Xi(se,_),Xi(De,_),Xi(B,_),Xi(e,_),Xi(w,_)}}}function K3(re){let se,Se;return se=new F3({props:{data:re[0],token:re[1],hex:re[5]}}),{c(){ta(se.$$.fragment)},m(De,We){Zi(se,De,We),Se=!0},p(De,We){const B={};We&1&&(B.data=De[0]),We&2&&(B.token=De[1]),We&32&&(B.hex=De[5]),se.$set(B)},i(De){Se||(Qr(se.$$.fragment,De),Se=!0)},o(De){ti(se.$$.fragment,De),Se=!1},d(De){Xi(se,De)}}}function Q3(re){let se,Se;return se=new W3({props:{data:re[0],token:re[1],dependentToken:re[2]}}),{c(){ta(se.$$.fragment)},m(De,We){Zi(se,De,We),Se=!0},p(De,We){const B={};We&1&&(B.data=De[0]),We&2&&(B.token=De[1]),We&4&&(B.dependentToken=De[2]),se.$set(B)},i(De){Se||(Qr(se.$$.fragment,De),Se=!0)},o(De){ti(se.$$.fragment,De),Se=!1},d(De){Xi(se,De)}}}function $3(re){let se,Se,De,We,B,L=re[3].toLocaleString()+"",e,k,w,r,_,v;function f(l,o){return l[2]?X3:Z3}let s=f(re),t=s(re);const a=[Q3,K3,J3],n=[];function i(l,o){return l[2]?0:l[1]===l[4]?1:2}return r=i(re),_=n[r]=a[r](re),{c(){se=_r("div"),Se=_r("div"),De=_r("div"),t.c(),We=qr(),B=_r("div"),e=li(L),k=li(" lines"),w=qr(),_.c(),Vn(De,"class","title svelte-9aim4u"),Vn(B,"class","line-count svelte-9aim4u"),Vn(Se,"class","header svelte-9aim4u"),Vn(se,"class","card svelte-9aim4u")},m(l,o){Cr(l,se,o),hr(se,Se),hr(Se,De),t.m(De,null),hr(Se,We),hr(Se,B),hr(B,e),hr(B,k),hr(se,w),n[r].m(se,null),v=!0},p(l,[o]){s===(s=f(l))&&t?t.p(l,o):(t.d(1),t=s(l),t&&(t.c(),t.m(De,null))),(!v||o&8)&&L!==(L=l[3].toLocaleString()+"")&&Pi(e,L);let u=r;r=i(l),r===u?n[r].p(l,o):(qs(),ti(n[u],1,1,()=>{n[u]=null}),Gs(),_=n[r],_?_.p(l,o):(_=n[r]=a[r](l),_.c()),Qr(_,1),_.m(se,null))},i(l){v||(Qr(_),v=!0)},o(l){ti(_),v=!1},d(l){l&&Lr(se),t.d(),n[r].d()}}}function ew(re,se,Se){let{data:De,token:We,dependentToken:B,lineCount:L,timestampToken:e,hex:k}=se;return re.$$set=w=>{"data"in w&&Se(0,De=w.data),"token"in w&&Se(1,We=w.token),"dependentToken"in w&&Se(2,B=w.dependentToken),"lineCount"in w&&Se(3,L=w.lineCount),"timestampToken"in w&&Se(4,e=w.timestampToken),"hex"in w&&Se(5,k=w.hex)},[De,We,B,L,e,k]}class tw extends Fa{constructor(se){super(),Ra(this,se,ew,$3,za,{data:0,token:1,dependentToken:2,lineCount:3,timestampToken:4,hex:5})}}function G1(re,se,Se){const De=re.slice();return De[1]=se[Se][0],De[2]=se[Se][1],De}function Y1(re){let se,Se=no(Object.entries(re[0]).slice(0,100)),De=[];for(let We=0;We<Se.length;We+=1)De[We]=W1(G1(re,Se,We));return{c(){se=_r("div");for(let We=0;We<De.length;We+=1)De[We].c();Vn(se,"class","card svelte-y530d")},m(We,B){Cr(We,se,B);for(let L=0;L<De.length;L+=1)De[L]&&De[L].m(se,null)},p(We,B){if(B&1){Se=no(Object.entries(We[0]).slice(0,100));let L;for(L=0;L<Se.length;L+=1){const e=G1(We,Se,L);De[L]?De[L].p(e,B):(De[L]=W1(e),De[L].c(),De[L].m(se,null))}for(;L<De.length;L+=1)De[L].d(1);De.length=Se.length}},d(We){We&&Lr(se),iu(De,We)}}}function W1(re){let se,Se,De=re[1]+"",We,B,L,e=re[2]+"",k,w;return{c(){se=_r("div"),Se=_r("div"),We=li(De),B=qr(),L=_r("div"),k=li(e),w=qr(),Vn(Se,"class","lineNumber svelte-y530d"),Vn(L,"class","line svelte-y530d"),Vn(se,"class","line-container svelte-y530d")},m(r,_){Cr(r,se,_),hr(se,Se),hr(Se,We),hr(se,B),hr(se,L),hr(L,k),hr(se,w)},p(r,_){_&1&&De!==(De=r[1]+"")&&Pi(We,De),_&1&&e!==(e=r[2]+"")&&Pi(k,e)},d(r){r&&Lr(se)}}}function nw(re){let se=Object.keys(re[0]).length>0,Se,De=se&&Y1(re);return{c(){De&&De.c(),Se=As()},m(We,B){De&&De.m(We,B),Cr(We,Se,B)},p(We,[B]){B&1&&(se=Object.keys(We[0]).length>0),se?De?De.p(We,B):(De=Y1(We),De.c(),De.m(Se.parentNode,Se)):De&&(De.d(1),De=null)},i:xi,o:xi,d(We){We&&Lr(Se),De&&De.d(We)}}}function rw(re,se,Se){let{failedLines:De}=se;return re.$$set=We=>{"failedLines"in We&&Se(0,De=We.failedLines)},[De]}class iw extends Fa{constructor(se){super(),Ra(this,se,rw,nw,za,{failedLines:0})}}function Z1(re,se,Se){const De=re.slice();return De[5]=se[Se][0],De[6]=se[Se][1],De}function X1(re,se,Se){const De=re.slice();return De[9]=se[Se][0],De[10]=se[Se][1],De}function J1(re){let se,Se=no(Object.entries(re[1][re[5]])),De=[];for(let We=0;We<Se.length;We+=1)De[We]=K1(X1(re,Se,We));return{c(){for(let We=0;We<De.length;We+=1)De[We].c();se=As()},m(We,B){for(let L=0;L<De.length;L+=1)De[L]&&De[L].m(We,B);Cr(We,se,B)},p(We,B){if(B&3){Se=no(Object.entries(We[1][We[5]]));let L;for(L=0;L<Se.length;L+=1){const e=X1(We,Se,L);De[L]?De[L].p(e,B):(De[L]=K1(e),De[L].c(),De[L].m(se.parentNode,se))}for(;L<De.length;L+=1)De[L].d(1);De.length=Se.length}},d(We){We&&Lr(se),iu(De,We)}}}function K1(re){let se,Se,De,We=re[9]+"",B,L,e,k=re[10].line+"",w,r,_,v,f=re[10].pattern+"",s,t;return{c(){se=_r("div"),Se=_r("div"),De=_r("b"),B=li(We),L=qr(),e=_r("div"),w=li(k),r=qr(),_=_r("div"),v=li("Pattern: "),s=li(f),t=qr(),Vn(Se,"class","token"),Vn(e,"class","example-line svelte-u6ym3t"),Vn(_,"class","example-pattern svelte-u6ym3t"),Vn(se,"class","examples svelte-u6ym3t")},m(a,n){Cr(a,se,n),hr(se,Se),hr(Se,De),hr(De,B),hr(se,L),hr(se,e),hr(e,w),hr(se,r),hr(se,_),hr(_,v),hr(_,s),hr(se,t)},p(a,n){n&3&&We!==(We=a[9]+"")&&Pi(B,We),n&3&&k!==(k=a[10].line+"")&&Pi(w,k),n&3&&f!==(f=a[10].pattern+"")&&Pi(s,f)},d(a){a&&Lr(se)}}}function Q1(re){let se,Se,De,We=re[5]+"",B,L,e=Object.keys(re[6]).length+"",k,w,r=$1(re[6])+"",_,v,f,s=re[1]!==void 0&&J1(re);return{c(){se=_r("div"),Se=_r("div"),De=_r("b"),B=li(We),L=li(" has "),k=li(e),w=li(" data types - "),_=li(r),v=qr(),s&&s.c(),f=qr(),Vn(Se,"class","lineNumber svelte-u6ym3t"),Vn(se,"class","line-container svelte-u6ym3t")},m(t,a){Cr(t,se,a),hr(se,Se),hr(Se,De),hr(De,B),hr(Se,L),hr(Se,k),hr(Se,w),hr(Se,_),hr(se,v),s&&s.m(se,null),hr(se,f)},p(t,a){a&1&&We!==(We=t[5]+"")&&Pi(B,We),a&1&&e!==(e=Object.keys(t[6]).length+"")&&Pi(k,e),a&1&&r!==(r=$1(t[6])+"")&&Pi(_,r),t[1]!==void 0?s?s.p(t,a):(s=J1(t),s.c(),s.m(se,f)):s&&(s.d(1),s=null)},d(t){t&&Lr(se),s&&s.d()}}}function aw(re){let se,Se=no(Object.entries(re[0])),De=[];for(let We=0;We<Se.length;We+=1)De[We]=Q1(Z1(re,Se,We));return{c(){se=_r("div");for(let We=0;We<De.length;We+=1)De[We].c();Vn(se,"class","card svelte-u6ym3t"),Ms(se,"hidden",Object.keys(re[0]).length===0)},m(We,B){Cr(We,se,B);for(let L=0;L<De.length;L+=1)De[L]&&De[L].m(se,null)},p(We,[B]){if(B&3){Se=no(Object.entries(We[0]));let L;for(L=0;L<Se.length;L+=1){const e=Z1(We,Se,L);De[L]?De[L].p(e,B):(De[L]=Q1(e),De[L].c(),De[L].m(se,null))}for(;L<De.length;L+=1)De[L].d(1);De.length=Se.length}B&1&&Ms(se,"hidden",Object.keys(We[0]).length===0)},i:xi,o:xi,d(We){We&&Lr(se),iu(De,We)}}}function $1(re){let se="";for(const[Se,De]of Object.entries(re))se+=Se+": "+De.toLocaleString()+", ";return se=se.slice(0,-2),se}function ow(re,se,Se){function De(k,w){const r={};for(const _ in w)if(!(_ in r))for(const v of L.extraction)!(k in v.params)||v.params[k].type!=_||(r[v.params[k].type]={line:v.line,pattern:v.pattern});return r}function We(k){const w={};for(const[r,_]of Object.entries(k))w[r]=De(r,_);return w}let B;Mu(()=>{Se(1,B=We(e))});let{data:L,multiTypes:e}=se;return re.$$set=k=>{"data"in k&&Se(2,L=k.data),"multiTypes"in k&&Se(0,e=k.multiTypes)},[e,B,L]}class sw extends Fa{constructor(se){super(),Ra(this,se,ow,aw,za,{data:2,multiTypes:0})}}function lw(re){let se;return{c(){se=_r("div"),se.innerHTML='<a class="github-logo-container" href="https://github.com/tom-draper/log-analyzer"><img class="github-icon svelte-i06q5a" src="./github.png" alt=""/></a> <div class="logo-container svelte-i06q5a"><div>Log Analyzer</div> <img class="icon svelte-i06q5a" src="./icon.png" alt=""/></div>',Vn(se,"class","footer svelte-i06q5a")},m(Se,De){Cr(Se,se,De)},p:xi,i:xi,o:xi,d(Se){Se&&Lr(se)}}}class uw extends Fa{constructor(se){super(),Ra(this,se,null,lw,za,{})}}function eg(re,se,Se){const De=re.slice();return De[10]=se[Se],De}function tg(re){let se,Se,De,We,B,L,e,k,w,r,_;function v(n){re[6](n)}let f={failedLines:re[1],multiTypeTokens:re[2],lineCount:re[0].extraction.length};re[5]!==void 0&&(f.hex=re[5]),Se=new sx({props:f}),Ja.push(()=>nu(Se,"hex",v));let s=no(re[3]),t=[];for(let n=0;n<s.length;n+=1)t[n]=ng(eg(re,s,n));const a=n=>ti(t[n],1,1,()=>{t[n]=null});return L=new sw({props:{data:re[0],multiTypes:re[2]}}),k=new iw({props:{failedLines:re[1]}}),r=new uw({}),{c(){se=_r("div"),ta(Se.$$.fragment),We=qr();for(let n=0;n<t.length;n+=1)t[n].c();B=qr(),ta(L.$$.fragment),e=qr(),ta(k.$$.fragment),w=qr(),ta(r.$$.fragment),Vn(se,"class","content svelte-13ecet7")},m(n,i){Cr(n,se,i),Zi(Se,se,null),hr(se,We);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(se,null);hr(se,B),Zi(L,se,null),hr(se,e),Zi(k,se,null),hr(se,w),Zi(r,se,null),_=!0},p(n,i){const l={};if(i&2&&(l.failedLines=n[1]),i&4&&(l.multiTypeTokens=n[2]),i&1&&(l.lineCount=n[0].extraction.length),!De&&i&32&&(De=!0,l.hex=n[5],hc(()=>De=!1)),Se.$set(l),i&57){s=no(n[3]);let h;for(h=0;h<s.length;h+=1){const c=eg(n,s,h);t[h]?(t[h].p(c,i),Qr(t[h],1)):(t[h]=ng(c),t[h].c(),Qr(t[h],1),t[h].m(se,B))}for(qs(),h=s.length;h<t.length;h+=1)a(h);Gs()}const o={};i&1&&(o.data=n[0]),i&4&&(o.multiTypes=n[2]),L.$set(o);const u={};i&2&&(u.failedLines=n[1]),k.$set(u)},i(n){if(!_){Qr(Se.$$.fragment,n);for(let i=0;i<s.length;i+=1)Qr(t[i]);Qr(L.$$.fragment,n),Qr(k.$$.fragment,n),Qr(r.$$.fragment,n),_=!0}},o(n){ti(Se.$$.fragment,n),t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)ti(t[i]);ti(L.$$.fragment,n),ti(k.$$.fragment,n),ti(r.$$.fragment,n),_=!1},d(n){n&&Lr(se),Xi(Se),iu(t,n),Xi(L),Xi(k),Xi(r)}}}function ng(re){let se,Se;return se=new tw({props:{data:re[0],token:re[10].token,dependentToken:re[10].dependentToken??null,lineCount:re[10].count,timestampToken:re[4],hex:re[5]}}),{c(){ta(se.$$.fragment)},m(De,We){Zi(se,De,We),Se=!0},p(De,We){const B={};We&1&&(B.data=De[0]),We&8&&(B.token=De[10].token),We&8&&(B.dependentToken=De[10].dependentToken??null),We&8&&(B.lineCount=De[10].count),We&16&&(B.timestampToken=De[4]),We&32&&(B.hex=De[5]),se.$set(B)},i(De){Se||(Qr(se.$$.fragment,De),Se=!0)},o(De){ti(se.$$.fragment,De),Se=!1},d(De){Xi(se,De)}}}function cw(re){let se,Se,De=re[3]!==void 0&&tg(re);return{c(){se=_r("main"),De&&De.c()},m(We,B){Cr(We,se,B),De&&De.m(se,null),Se=!0},p(We,[B]){We[3]!==void 0?De?(De.p(We,B),B&8&&Qr(De,1)):(De=tg(We),De.c(),Qr(De,1),De.m(se,null)):De&&(qs(),ti(De,1,1,()=>{De=null}),Gs())},i(We){Se||(Qr(De),Se=!0)},o(We){ti(De),Se=!1},d(We){We&&Lr(se),De&&De.d()}}}function fw(re){const se={};for(let De=0;De<re.extraction.length;De++)for(const[We,B]of Object.entries(re.extraction[De].params))se[We]||(se[We]=0),B.type==="time"&&(se[We]+=1);const Se={token:null,total:0};for(const[De,We]of Object.entries(se))We>Se.total&&(Se.token=De,Se.total=We);return Se.total<re.extraction.length*.5?null:Se.token}function hw(re){if(re.config.conversions!==void 0)for(let se=0;se<re.extraction.length;se++){const Se=re.extraction[se].params;for(let[De,We]of Object.entries(re.config.conversions)){if(!(De in Se)||typeof Se[De]!="number")continue;const B=Se[De];typeof B=="number"&&(Se[We.token].value=We.multiplier*B,delete Se[De])}}}function pw(re){const se={};for(let Se=0;Se<re.extraction.length;Se++)re.extraction[Se].pattern===""&&(se[re.extraction[Se].lineNumber]=re.extraction[Se].line);return se}function dw(re){var Se,De;const se={};for(let We=0;We<re.extraction.length;We++)for(const[B,L]of Object.entries(re.extraction[We].params))se[B]||(se[B]={}),(Se=se[B])[De=L.type]||(Se[De]=0),se[B][L.type]+=1;return se}function gw(re){const se={};for(const[Se,De]of Object.entries(re))Object.keys(De).length>1&&(se[Se]=De);return se}function vw(re,se,Se){function De(v){const f={};for(let t=0;t<v.extraction.length;t++)for(const a in v.extraction[t].params)f[a]||(f[a]=0),f[a]+=1;const s=[];for(const[t,a]of Object.entries(f))s.push({token:t,count:a});return s.sort((t,a)=>t.token===w?Number.MIN_SAFE_INTEGER:a.count-t.count),s}function We(v){if(v.config.dependencies===void 0)return[];const f=new Map;for(const t in v.config.dependencies)for(const a of v.config.dependencies[t]){const n=[t,a];for(let i=0;i<v.extraction.length;i++)t in v.extraction[i].params&&a in v.extraction[i].params&&(f.has(n)||f.set(n,0),f.set(n,(f.get(n)??0)+1))}const s=[];for(const[[t,a],n]of f.entries())s.push({token:t,dependentToken:a,count:n});return s.sort((t,a)=>t.token===w?Number.MIN_SAFE_INTEGER:a.count-t.count),s}let B,L,e,k,w,r="#ffdfaf";Mu(async()=>{{const s=await fetch("/data");Se(0,B=await s.json())}hw(B),console.log(B),Se(4,w=fw(B)),Se(1,L=pw(B));const v=dw(B);Se(2,e=gw(v)),Se(3,k=De(B));const f=We(B);k.push(...f)});function _(v){r=v,Se(5,r)}return[B,L,e,k,w,r,_]}class mw extends Fa{constructor(se){super(),Ra(this,se,vw,cw,za,{})}}new mw({target:document.getElementById("app")})});export default yw();
