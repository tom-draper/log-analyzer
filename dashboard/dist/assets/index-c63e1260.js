var cm=Object.defineProperty;var fm=(ge,Le,Ve)=>Le in ge?cm(ge,Le,{enumerable:!0,configurable:!0,writable:!0,value:Ve}):ge[Le]=Ve;var hm=(ge,Le)=>()=>(Le||ge((Le={exports:{}}).exports,Le),Le.exports);var bp=(ge,Le,Ve)=>(fm(ge,typeof Le!="symbol"?Le+"":Le,Ve),Ve);var R_=hm((F_,gh)=>{(function(){const Le=document.createElement("link").relList;if(Le&&Le.supports&&Le.supports("modulepreload"))return;for(const tt of document.querySelectorAll('link[rel="modulepreload"]'))Ge(tt);new MutationObserver(tt=>{for(const q of tt)if(q.type==="childList")for(const C of q.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&Ge(C)}).observe(document,{childList:!0,subtree:!0});function Ve(tt){const q={};return tt.integrity&&(q.integrity=tt.integrity),tt.referrerPolicy&&(q.referrerPolicy=tt.referrerPolicy),tt.crossOrigin==="use-credentials"?q.credentials="include":tt.crossOrigin==="anonymous"?q.credentials="omit":q.credentials="same-origin",q}function Ge(tt){if(tt.ep)return;tt.ep=!0;const q=Ve(tt);fetch(tt.href,q)}})();function ra(){}function k1(ge){return ge()}function B0(){return Object.create(null)}function mf(ge){ge.forEach(k1)}function M1(ge){return typeof ge=="function"}function Is(ge,Le){return ge!=ge?Le==Le:ge!==Le||ge&&typeof ge=="object"||typeof ge=="function"}function pm(ge){return Object.keys(ge).length===0}function xr(ge,Le){ge.appendChild(Le)}function ei(ge,Le,Ve){ge.insertBefore(Le,Ve||null)}function $r(ge){ge.parentNode&&ge.parentNode.removeChild(ge)}function ql(ge,Le){for(let Ve=0;Ve<ge.length;Ve+=1)ge[Ve]&&ge[Ve].d(Le)}function Ur(ge){return document.createElement(ge)}function xi(ge){return document.createTextNode(ge)}function hi(){return xi(" ")}function Lu(){return xi("")}function A1(ge,Le,Ve,Ge){return ge.addEventListener(Le,Ve,Ge),()=>ge.removeEventListener(Le,Ve,Ge)}function Fr(ge,Le,Ve){Ve==null?ge.removeAttribute(Le):ge.getAttribute(Le)!==Ve&&ge.setAttribute(Le,Ve)}function dm(ge){return Array.from(ge.childNodes)}function Qi(ge,Le){Le=""+Le,ge.data!==Le&&(ge.data=Le)}function vh(ge,Le,Ve,Ge){Ve==null?ge.style.removeProperty(Le):ge.style.setProperty(Le,Ve,Ge?"important":"")}function Lc(ge,Le,Ve){ge.classList.toggle(Le,!!Ve)}let ff;function uf(ge){ff=ge}function gm(){if(!ff)throw new Error("Function called outside component initialization");return ff}function cu(ge){gm().$$.on_mount.push(ge)}const wc=[],hf=[];let Mc=[];const N0=[],vm=Promise.resolve();let Ap=!1;function mm(){Ap||(Ap=!0,vm.then(S1))}function Sp(ge){Mc.push(ge)}const _p=new Set;let bc=0;function S1(){if(bc!==0)return;const ge=ff;do{try{for(;bc<wc.length;){const Le=wc[bc];bc++,uf(Le),ym(Le.$$)}}catch(Le){throw wc.length=0,bc=0,Le}for(uf(null),wc.length=0,bc=0;hf.length;)hf.pop()();for(let Le=0;Le<Mc.length;Le+=1){const Ve=Mc[Le];_p.has(Ve)||(_p.add(Ve),Ve())}Mc.length=0}while(wc.length);for(;N0.length;)N0.pop()();Ap=!1,_p.clear(),uf(ge)}function ym(ge){if(ge.fragment!==null){ge.update(),mf(ge.before_update);const Le=ge.dirty;ge.dirty=[-1],ge.fragment&&ge.fragment.p(ge.ctx,Le),ge.after_update.forEach(Sp)}}function xm(ge){const Le=[],Ve=[];Mc.forEach(Ge=>ge.indexOf(Ge)===-1?Le.push(Ge):Ve.push(Ge)),Ve.forEach(Ge=>Ge()),Mc=Le}const fh=new Set;let Zu;function Rp(){Zu={r:0,c:[],p:Zu}}function zp(){Zu.r||mf(Zu.c),Zu=Zu.p}function ja(ge,Le){ge&&ge.i&&(fh.delete(ge),ge.i(Le))}function lo(ge,Le,Ve,Ge){if(ge&&ge.o){if(fh.has(ge))return;fh.add(ge),Zu.c.push(()=>{fh.delete(ge),Ge&&(Ve&&ge.d(1),Ge())}),ge.o(Le)}else Ge&&Ge()}function Ya(ge){return(ge==null?void 0:ge.length)!==void 0?ge:Array.from(ge)}function el(ge){ge&&ge.c()}function Os(ge,Le,Ve){const{fragment:Ge,after_update:tt}=ge.$$;Ge&&Ge.m(Le,Ve),Sp(()=>{const q=ge.$$.on_mount.map(k1).filter(M1);ge.$$.on_destroy?ge.$$.on_destroy.push(...q):mf(q),ge.$$.on_mount=[]}),tt.forEach(Sp)}function Ps(ge,Le){const Ve=ge.$$;Ve.fragment!==null&&(xm(Ve.after_update),mf(Ve.on_destroy),Ve.fragment&&Ve.fragment.d(Le),Ve.on_destroy=Ve.fragment=null,Ve.ctx=[])}function bm(ge,Le){ge.$$.dirty[0]===-1&&(wc.push(ge),mm(),ge.$$.dirty.fill(0)),ge.$$.dirty[Le/31|0]|=1<<Le%31}function Ds(ge,Le,Ve,Ge,tt,q,C=null,e=[-1]){const M=ff;uf(ge);const k=ge.$$={fragment:null,ctx:[],props:q,update:ra,not_equal:tt,bound:B0(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(Le.context||(M?M.$$.context:[])),callbacks:B0(),dirty:e,skip_bound:!1,root:Le.target||M.$$.root};C&&C(k.root);let a=!1;if(k.ctx=Ve?Ve(ge,Le.props||{},(_,b,...h)=>{const o=h.length?h[0]:b;return k.ctx&&tt(k.ctx[_],k.ctx[_]=o)&&(!k.skip_bound&&k.bound[_]&&k.bound[_](o),a&&bm(ge,_)),b}):[],k.update(),a=!0,mf(k.before_update),k.fragment=Ge?Ge(k.ctx):!1,Le.target){if(Le.hydrate){const _=dm(Le.target);k.fragment&&k.fragment.l(_),_.forEach($r)}else k.fragment&&k.fragment.c();Le.intro&&ja(ge.$$.fragment),Os(ge,Le.target,Le.anchor),S1()}uf(M)}class Rs{constructor(){bp(this,"$$");bp(this,"$$set")}$destroy(){Ps(this,1),this.$destroy=ra}$on(Le,Ve){if(!M1(Ve))return ra;const Ge=this.$$.callbacks[Le]||(this.$$.callbacks[Le]=[]);return Ge.push(Ve),()=>{const tt=Ge.indexOf(Ve);tt!==-1&&Ge.splice(tt,1)}}$set(Le){this.$$set&&!pm(Le)&&(this.$$.skip_bound=!0,this.$$set(Le),this.$$.skip_bound=!1)}}const _m="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(_m);function j0(ge){let Le,Ve=Object.keys(ge[0]).length+"",Ge,tt,q=Object.keys(ge[0]).length==1?"warning":"warnings",C,e,M;return{c(){Le=Ur("button"),Ge=xi(Ve),tt=hi(),C=xi(q),Fr(Le,"class","warning svelte-7gshzh")},m(k,a){ei(k,Le,a),xr(Le,Ge),xr(Le,tt),xr(Le,C),e||(M=A1(Le,"click",E1),e=!0)},p(k,a){a&1&&Ve!==(Ve=Object.keys(k[0]).length+"")&&Qi(Ge,Ve),a&1&&q!==(q=Object.keys(k[0]).length==1?"warning":"warnings")&&Qi(C,q)},d(k){k&&$r(Le),e=!1,M()}}}function U0(ge){let Le,Ve=Object.keys(ge[1]).length+"",Ge,tt,q=Object.keys(ge[1]).length==1?"error":"errors",C,e,M;return{c(){Le=Ur("button"),Ge=xi(Ve),tt=hi(),C=xi(q),Fr(Le,"class","error svelte-7gshzh")},m(k,a){ei(k,Le,a),xr(Le,Ge),xr(Le,tt),xr(Le,C),e||(M=A1(Le,"click",E1),e=!0)},p(k,a){a&2&&Ve!==(Ve=Object.keys(k[1]).length+"")&&Qi(Ge,Ve),a&2&&q!==(q=Object.keys(k[1]).length==1?"error":"errors")&&Qi(C,q)},d(k){k&&$r(Le),e=!1,M()}}}function wm(ge){let Le,Ve,Ge,tt,q,C=ge[2].toLocaleString()+"",e,M,k,a,_=Object.keys(ge[0]).length>=1,b,h=Object.keys(ge[1]).length>=1,o=_&&j0(ge),t=h&&U0(ge);return{c(){Le=Ur("div"),Ve=Ur("div"),Ge=Ur("div"),Ge.innerHTML='<div class="logo svelte-7gshzh">Log Analyzer</div>',tt=hi(),q=Ur("div"),e=xi(C),M=xi(" lines"),k=hi(),a=Ur("div"),o&&o.c(),b=hi(),t&&t.c(),Fr(Ge,"class","logo-container svelte-7gshzh"),Fr(q,"class","line-count svelte-7gshzh"),Fr(Ve,"class","title svelte-7gshzh"),Fr(a,"class","notifications svelte-7gshzh"),Fr(Le,"class","header svelte-7gshzh")},m(i,n){ei(i,Le,n),xr(Le,Ve),xr(Ve,Ge),xr(Ve,tt),xr(Ve,q),xr(q,e),xr(q,M),xr(Le,k),xr(Le,a),o&&o.m(a,null),xr(a,b),t&&t.m(a,null)},p(i,[n]){n&4&&C!==(C=i[2].toLocaleString()+"")&&Qi(e,C),n&1&&(_=Object.keys(i[0]).length>=1),_?o?o.p(i,n):(o=j0(i),o.c(),o.m(a,b)):o&&(o.d(1),o=null),n&2&&(h=Object.keys(i[1]).length>=1),h?t?t.p(i,n):(t=U0(i),t.c(),t.m(a,null)):t&&(t.d(1),t=null)},i:ra,o:ra,d(i){i&&$r(Le),o&&o.d(),t&&t.d()}}}function E1(){window.scrollTo(0,document.body.scrollHeight)}function Tm(ge,Le,Ve){let{multiTypeTokens:Ge,failedLines:tt,lineCount:q}=Le;return ge.$$set=C=>{"multiTypeTokens"in C&&Ve(0,Ge=C.multiTypeTokens),"failedLines"in C&&Ve(1,tt=C.failedLines),"lineCount"in C&&Ve(2,q=C.lineCount)},[Ge,tt,q]}class km extends Rs{constructor(Le){super(),Ds(this,Le,Tm,wm,Is,{multiTypeTokens:0,failedLines:1,lineCount:2})}}function V0(ge,Le,Ve){const Ge=ge.slice();return Ge[4]=Le[Ve],Ge}function H0(ge){let Le,Ve=Ya(ge[0]),Ge=[];for(let tt=0;tt<Ve.length;tt+=1)Ge[tt]=G0(V0(ge,Ve,tt));return{c(){Le=Ur("div");for(let tt=0;tt<Ge.length;tt+=1)Ge[tt].c();Fr(Le,"class","freq-graph svelte-s2d8o8")},m(tt,q){ei(tt,Le,q);for(let C=0;C<Ge.length;C+=1)Ge[C]&&Ge[C].m(Le,null)},p(tt,q){if(q&1){Ve=Ya(tt[0]);let C;for(C=0;C<Ve.length;C+=1){const e=V0(tt,Ve,C);Ge[C]?Ge[C].p(e,q):(Ge[C]=G0(e),Ge[C].c(),Ge[C].m(Le,null))}for(;C<Ge.length;C+=1)Ge[C].d(1);Ge.length=Ve.length}},d(tt){tt&&$r(Le),ql(Ge,tt)}}}function G0(ge){let Le,Ve,Ge=ge[4].token+"",tt,q,C;return{c(){Le=Ur("div"),Ve=Ur("div"),tt=xi(Ge),q=hi(),Fr(Ve,"class","bar svelte-s2d8o8"),vh(Ve,"width",ge[4].width+"%"),Fr(Le,"class","token-frequency svelte-s2d8o8"),Fr(Le,"title",C=ge[4].count.toLocaleString())},m(e,M){ei(e,Le,M),xr(Le,Ve),xr(Ve,tt),xr(Le,q)},p(e,M){M&1&&Ge!==(Ge=e[4].token+"")&&Qi(tt,Ge),M&1&&vh(Ve,"width",e[4].width+"%"),M&1&&C!==(C=e[4].count.toLocaleString())&&Fr(Le,"title",C)},d(e){e&&$r(Le)}}}function Mm(ge){let Le,Ve=ge[0].length>0&&H0(ge);return{c(){Ve&&Ve.c(),Le=Lu()},m(Ge,tt){Ve&&Ve.m(Ge,tt),ei(Ge,Le,tt)},p(Ge,[tt]){Ge[0].length>0?Ve?Ve.p(Ge,tt):(Ve=H0(Ge),Ve.c(),Ve.m(Le.parentNode,Le)):Ve&&(Ve.d(1),Ve=null)},i:ra,o:ra,d(Ge){Ge&&$r(Le),Ve&&Ve.d(Ge)}}}const q0=10;function Am(ge){let Le=[];for(const[tt,q]of Object.entries(ge))Le.push({token:tt,count:q,width:0});Le.sort((tt,q)=>q.count-tt.count);let Ve=0;for(let tt=q0;tt<Le.length;tt++)Ve+=Le[tt].count;Le=Le.slice(0,q0),Ve>0&&Le.push({token:"Others",count:Ve,width:0});let Ge=0;for(let tt=0;tt<Le.length;tt++)Le[tt].count>Ge&&(Ge=Le[tt].count);for(let tt=0;tt<Le.length;tt++)Le[tt].width=Le[tt].count/Ge*100;return Le}function Sm(ge,Le){var Ge;const Ve={};for(let tt=0;tt<ge.extraction.length;tt++){const q=ge.extraction[tt].params;Le in q&&(Ve[Ge=q[Le].value]||(Ve[Ge]=0),Ve[q[Le].value]+=1)}return Ve}function Em(ge,Le,Ve){let Ge=[];function tt(e){Ve(0,Ge=Am(e))}cu(()=>{const e=Sm(q,C);tt(e)});let{data:q,token:C}=Le;return ge.$$set=e=>{"data"in e&&Ve(1,q=e.data),"token"in e&&Ve(2,C=e.token)},[Ge,q,C]}class Lm extends Rs{constructor(Le){super(),Ds(this,Le,Em,Mm,Is,{data:1,token:2})}}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var L1;function Dr(){return L1.apply(null,arguments)}function Cm(ge){L1=ge}function kl(ge){return ge instanceof Array||Object.prototype.toString.call(ge)==="[object Array]"}function Ju(ge){return ge!=null&&Object.prototype.toString.call(ge)==="[object Object]"}function zi(ge,Le){return Object.prototype.hasOwnProperty.call(ge,Le)}function Fp(ge){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(ge).length===0;var Le;for(Le in ge)if(zi(ge,Le))return!1;return!0}function ds(ge){return ge===void 0}function uu(ge){return typeof ge=="number"||Object.prototype.toString.call(ge)==="[object Number]"}function yf(ge){return ge instanceof Date||Object.prototype.toString.call(ge)==="[object Date]"}function C1(ge,Le){var Ve=[],Ge,tt=ge.length;for(Ge=0;Ge<tt;++Ge)Ve.push(Le(ge[Ge],Ge));return Ve}function Au(ge,Le){for(var Ve in Le)zi(Le,Ve)&&(ge[Ve]=Le[Ve]);return zi(Le,"toString")&&(ge.toString=Le.toString),zi(Le,"valueOf")&&(ge.valueOf=Le.valueOf),ge}function Yl(ge,Le,Ve,Ge){return Q1(ge,Le,Ve,Ge,!0).utc()}function Om(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function si(ge){return ge._pf==null&&(ge._pf=Om()),ge._pf}var Ep;Array.prototype.some?Ep=Array.prototype.some:Ep=function(ge){var Le=Object(this),Ve=Le.length>>>0,Ge;for(Ge=0;Ge<Ve;Ge++)if(Ge in Le&&ge.call(this,Le[Ge],Ge,Le))return!0;return!1};function Bp(ge){var Le=null,Ve=!1,Ge=ge._d&&!isNaN(ge._d.getTime());if(Ge&&(Le=si(ge),Ve=Ep.call(Le.parsedDateParts,function(tt){return tt!=null}),Ge=Le.overflow<0&&!Le.empty&&!Le.invalidEra&&!Le.invalidMonth&&!Le.invalidWeekday&&!Le.weekdayMismatch&&!Le.nullInput&&!Le.invalidFormat&&!Le.userInvalidated&&(!Le.meridiem||Le.meridiem&&Ve),ge._strict&&(Ge=Ge&&Le.charsLeftOver===0&&Le.unusedTokens.length===0&&Le.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(ge))ge._isValid=Ge;else return Ge;return ge._isValid}function wh(ge){var Le=Yl(NaN);return ge!=null?Au(si(Le),ge):si(Le).userInvalidated=!0,Le}var Y0=Dr.momentProperties=[],wp=!1;function Np(ge,Le){var Ve,Ge,tt,q=Y0.length;if(ds(Le._isAMomentObject)||(ge._isAMomentObject=Le._isAMomentObject),ds(Le._i)||(ge._i=Le._i),ds(Le._f)||(ge._f=Le._f),ds(Le._l)||(ge._l=Le._l),ds(Le._strict)||(ge._strict=Le._strict),ds(Le._tzm)||(ge._tzm=Le._tzm),ds(Le._isUTC)||(ge._isUTC=Le._isUTC),ds(Le._offset)||(ge._offset=Le._offset),ds(Le._pf)||(ge._pf=si(Le)),ds(Le._locale)||(ge._locale=Le._locale),q>0)for(Ve=0;Ve<q;Ve++)Ge=Y0[Ve],tt=Le[Ge],ds(tt)||(ge[Ge]=tt);return ge}function xf(ge){Np(this,ge),this._d=new Date(ge._d!=null?ge._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),wp===!1&&(wp=!0,Dr.updateOffset(this),wp=!1)}function Ml(ge){return ge instanceof xf||ge!=null&&ge._isAMomentObject!=null}function O1(ge){Dr.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+ge)}function tl(ge,Le){var Ve=!0;return Au(function(){if(Dr.deprecationHandler!=null&&Dr.deprecationHandler(null,ge),Ve){var Ge=[],tt,q,C,e=arguments.length;for(q=0;q<e;q++){if(tt="",typeof arguments[q]=="object"){tt+=`
[`+q+"] ";for(C in arguments[0])zi(arguments[0],C)&&(tt+=C+": "+arguments[0][C]+", ");tt=tt.slice(0,-2)}else tt=arguments[q];Ge.push(tt)}O1(ge+`
Arguments: `+Array.prototype.slice.call(Ge).join("")+`
`+new Error().stack),Ve=!1}return Le.apply(this,arguments)},Le)}var W0={};function P1(ge,Le){Dr.deprecationHandler!=null&&Dr.deprecationHandler(ge,Le),W0[ge]||(O1(Le),W0[ge]=!0)}Dr.suppressDeprecationWarnings=!1;Dr.deprecationHandler=null;function Wl(ge){return typeof Function<"u"&&ge instanceof Function||Object.prototype.toString.call(ge)==="[object Function]"}function Pm(ge){var Le,Ve;for(Ve in ge)zi(ge,Ve)&&(Le=ge[Ve],Wl(Le)?this[Ve]=Le:this["_"+Ve]=Le);this._config=ge,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Lp(ge,Le){var Ve=Au({},ge),Ge;for(Ge in Le)zi(Le,Ge)&&(Ju(ge[Ge])&&Ju(Le[Ge])?(Ve[Ge]={},Au(Ve[Ge],ge[Ge]),Au(Ve[Ge],Le[Ge])):Le[Ge]!=null?Ve[Ge]=Le[Ge]:delete Ve[Ge]);for(Ge in ge)zi(ge,Ge)&&!zi(Le,Ge)&&Ju(ge[Ge])&&(Ve[Ge]=Au({},Ve[Ge]));return Ve}function jp(ge){ge!=null&&this.set(ge)}var Cp;Object.keys?Cp=Object.keys:Cp=function(ge){var Le,Ve=[];for(Le in ge)zi(ge,Le)&&Ve.push(Le);return Ve};var Im={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Dm(ge,Le,Ve){var Ge=this._calendar[ge]||this._calendar.sameElse;return Wl(Ge)?Ge.call(Le,Ve):Ge}function Gl(ge,Le,Ve){var Ge=""+Math.abs(ge),tt=Le-Ge.length,q=ge>=0;return(q?Ve?"+":"":"-")+Math.pow(10,Math.max(0,tt)).toString().substr(1)+Ge}var Up=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,lh=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Tp={},Ac={};function Wr(ge,Le,Ve,Ge){var tt=Ge;typeof Ge=="string"&&(tt=function(){return this[Ge]()}),ge&&(Ac[ge]=tt),Le&&(Ac[Le[0]]=function(){return Gl(tt.apply(this,arguments),Le[1],Le[2])}),Ve&&(Ac[Ve]=function(){return this.localeData().ordinal(tt.apply(this,arguments),ge)})}function Rm(ge){return ge.match(/\[[\s\S]/)?ge.replace(/^\[|\]$/g,""):ge.replace(/\\/g,"")}function zm(ge){var Le=ge.match(Up),Ve,Ge;for(Ve=0,Ge=Le.length;Ve<Ge;Ve++)Ac[Le[Ve]]?Le[Ve]=Ac[Le[Ve]]:Le[Ve]=Rm(Le[Ve]);return function(tt){var q="",C;for(C=0;C<Ge;C++)q+=Wl(Le[C])?Le[C].call(tt,ge):Le[C];return q}}function hh(ge,Le){return ge.isValid()?(Le=I1(Le,ge.localeData()),Tp[Le]=Tp[Le]||zm(Le),Tp[Le](ge)):ge.localeData().invalidDate()}function I1(ge,Le){var Ve=5;function Ge(tt){return Le.longDateFormat(tt)||tt}for(lh.lastIndex=0;Ve>=0&&lh.test(ge);)ge=ge.replace(lh,Ge),lh.lastIndex=0,Ve-=1;return ge}var Fm={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Bm(ge){var Le=this._longDateFormat[ge],Ve=this._longDateFormat[ge.toUpperCase()];return Le||!Ve?Le:(this._longDateFormat[ge]=Ve.match(Up).map(function(Ge){return Ge==="MMMM"||Ge==="MM"||Ge==="DD"||Ge==="dddd"?Ge.slice(1):Ge}).join(""),this._longDateFormat[ge])}var Nm="Invalid date";function jm(){return this._invalidDate}var Um="%d",Vm=/\d{1,2}/;function Hm(ge){return this._ordinal.replace("%d",ge)}var Gm={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function qm(ge,Le,Ve,Ge){var tt=this._relativeTime[Ve];return Wl(tt)?tt(ge,Le,Ve,Ge):tt.replace(/%d/i,ge)}function Ym(ge,Le){var Ve=this._relativeTime[ge>0?"future":"past"];return Wl(Ve)?Ve(Le):Ve.replace(/%s/i,Le)}var Z0={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function nl(ge){return typeof ge=="string"?Z0[ge]||Z0[ge.toLowerCase()]:void 0}function Vp(ge){var Le={},Ve,Ge;for(Ge in ge)zi(ge,Ge)&&(Ve=nl(Ge),Ve&&(Le[Ve]=ge[Ge]));return Le}var Wm={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Zm(ge){var Le=[],Ve;for(Ve in ge)zi(ge,Ve)&&Le.push({unit:Ve,priority:Wm[Ve]});return Le.sort(function(Ge,tt){return Ge.priority-tt.priority}),Le}var D1=/\d/,zs=/\d\d/,R1=/\d{3}/,Hp=/\d{4}/,Th=/[+-]?\d{6}/,va=/\d\d?/,z1=/\d\d\d\d?/,F1=/\d\d\d\d\d\d?/,kh=/\d{1,3}/,Gp=/\d{1,4}/,Mh=/[+-]?\d{1,6}/,Cc=/\d+/,Ah=/[+-]?\d+/,Xm=/Z|[+-]\d\d:?\d\d/gi,Sh=/Z|[+-]\d\d(?::?\d\d)?/gi,Jm=/[+-]?\d+(\.\d{1,3})?/,bf=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Oc=/^[1-9]\d?/,qp=/^([1-9]\d|\d)/,mh;mh={};function Nr(ge,Le,Ve){mh[ge]=Wl(Le)?Le:function(Ge,tt){return Ge&&Ve?Ve:Le}}function Km(ge,Le){return zi(mh,ge)?mh[ge](Le._strict,Le._locale):new RegExp($m(ge))}function $m(ge){return su(ge.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(Le,Ve,Ge,tt,q){return Ve||Ge||tt||q}))}function su(ge){return ge.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Qs(ge){return ge<0?Math.ceil(ge)||0:Math.floor(ge)}function bi(ge){var Le=+ge,Ve=0;return Le!==0&&isFinite(Le)&&(Ve=Qs(Le)),Ve}var Op={};function ea(ge,Le){var Ve,Ge=Le,tt;for(typeof ge=="string"&&(ge=[ge]),uu(Le)&&(Ge=function(q,C){C[Le]=bi(q)}),tt=ge.length,Ve=0;Ve<tt;Ve++)Op[ge[Ve]]=Ge}function _f(ge,Le){ea(ge,function(Ve,Ge,tt,q){tt._w=tt._w||{},Le(Ve,tt._w,tt,q)})}function Qm(ge,Le,Ve){Le!=null&&zi(Op,ge)&&Op[ge](Le,Ve._a,Ve,ge)}function Eh(ge){return ge%4===0&&ge%100!==0||ge%400===0}var Do=0,au=1,Hl=2,Qa=3,Tl=4,ou=5,Xu=6,ey=7,ty=8;Wr("Y",0,0,function(){var ge=this.year();return ge<=9999?Gl(ge,4):"+"+ge});Wr(0,["YY",2],0,function(){return this.year()%100});Wr(0,["YYYY",4],0,"year");Wr(0,["YYYYY",5],0,"year");Wr(0,["YYYYYY",6,!0],0,"year");Nr("Y",Ah);Nr("YY",va,zs);Nr("YYYY",Gp,Hp);Nr("YYYYY",Mh,Th);Nr("YYYYYY",Mh,Th);ea(["YYYYY","YYYYYY"],Do);ea("YYYY",function(ge,Le){Le[Do]=ge.length===2?Dr.parseTwoDigitYear(ge):bi(ge)});ea("YY",function(ge,Le){Le[Do]=Dr.parseTwoDigitYear(ge)});ea("Y",function(ge,Le){Le[Do]=parseInt(ge,10)});function cf(ge){return Eh(ge)?366:365}Dr.parseTwoDigitYear=function(ge){return bi(ge)+(bi(ge)>68?1900:2e3)};var B1=Pc("FullYear",!0);function ny(){return Eh(this.year())}function Pc(ge,Le){return function(Ve){return Ve!=null?(N1(this,ge,Ve),Dr.updateOffset(this,Le),this):pf(this,ge)}}function pf(ge,Le){if(!ge.isValid())return NaN;var Ve=ge._d,Ge=ge._isUTC;switch(Le){case"Milliseconds":return Ge?Ve.getUTCMilliseconds():Ve.getMilliseconds();case"Seconds":return Ge?Ve.getUTCSeconds():Ve.getSeconds();case"Minutes":return Ge?Ve.getUTCMinutes():Ve.getMinutes();case"Hours":return Ge?Ve.getUTCHours():Ve.getHours();case"Date":return Ge?Ve.getUTCDate():Ve.getDate();case"Day":return Ge?Ve.getUTCDay():Ve.getDay();case"Month":return Ge?Ve.getUTCMonth():Ve.getMonth();case"FullYear":return Ge?Ve.getUTCFullYear():Ve.getFullYear();default:return NaN}}function N1(ge,Le,Ve){var Ge,tt,q,C,e;if(!(!ge.isValid()||isNaN(Ve))){switch(Ge=ge._d,tt=ge._isUTC,Le){case"Milliseconds":return void(tt?Ge.setUTCMilliseconds(Ve):Ge.setMilliseconds(Ve));case"Seconds":return void(tt?Ge.setUTCSeconds(Ve):Ge.setSeconds(Ve));case"Minutes":return void(tt?Ge.setUTCMinutes(Ve):Ge.setMinutes(Ve));case"Hours":return void(tt?Ge.setUTCHours(Ve):Ge.setHours(Ve));case"Date":return void(tt?Ge.setUTCDate(Ve):Ge.setDate(Ve));case"FullYear":break;default:return}q=Ve,C=ge.month(),e=ge.date(),e=e===29&&C===1&&!Eh(q)?28:e,tt?Ge.setUTCFullYear(q,C,e):Ge.setFullYear(q,C,e)}}function ry(ge){return ge=nl(ge),Wl(this[ge])?this[ge]():this}function iy(ge,Le){if(typeof ge=="object"){ge=Vp(ge);var Ve=Zm(ge),Ge,tt=Ve.length;for(Ge=0;Ge<tt;Ge++)this[Ve[Ge].unit](ge[Ve[Ge].unit])}else if(ge=nl(ge),Wl(this[ge]))return this[ge](Le);return this}function ay(ge,Le){return(ge%Le+Le)%Le}var Na;Array.prototype.indexOf?Na=Array.prototype.indexOf:Na=function(ge){var Le;for(Le=0;Le<this.length;++Le)if(this[Le]===ge)return Le;return-1};function Yp(ge,Le){if(isNaN(ge)||isNaN(Le))return NaN;var Ve=ay(Le,12);return ge+=(Le-Ve)/12,Ve===1?Eh(ge)?29:28:31-Ve%7%2}Wr("M",["MM",2],"Mo",function(){return this.month()+1});Wr("MMM",0,0,function(ge){return this.localeData().monthsShort(this,ge)});Wr("MMMM",0,0,function(ge){return this.localeData().months(this,ge)});Nr("M",va,Oc);Nr("MM",va,zs);Nr("MMM",function(ge,Le){return Le.monthsShortRegex(ge)});Nr("MMMM",function(ge,Le){return Le.monthsRegex(ge)});ea(["M","MM"],function(ge,Le){Le[au]=bi(ge)-1});ea(["MMM","MMMM"],function(ge,Le,Ve,Ge){var tt=Ve._locale.monthsParse(ge,Ge,Ve._strict);tt!=null?Le[au]=tt:si(Ve).invalidMonth=ge});var oy="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),j1="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),U1=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,sy=bf,ly=bf;function uy(ge,Le){return ge?kl(this._months)?this._months[ge.month()]:this._months[(this._months.isFormat||U1).test(Le)?"format":"standalone"][ge.month()]:kl(this._months)?this._months:this._months.standalone}function cy(ge,Le){return ge?kl(this._monthsShort)?this._monthsShort[ge.month()]:this._monthsShort[U1.test(Le)?"format":"standalone"][ge.month()]:kl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function fy(ge,Le,Ve){var Ge,tt,q,C=ge.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Ge=0;Ge<12;++Ge)q=Yl([2e3,Ge]),this._shortMonthsParse[Ge]=this.monthsShort(q,"").toLocaleLowerCase(),this._longMonthsParse[Ge]=this.months(q,"").toLocaleLowerCase();return Ve?Le==="MMM"?(tt=Na.call(this._shortMonthsParse,C),tt!==-1?tt:null):(tt=Na.call(this._longMonthsParse,C),tt!==-1?tt:null):Le==="MMM"?(tt=Na.call(this._shortMonthsParse,C),tt!==-1?tt:(tt=Na.call(this._longMonthsParse,C),tt!==-1?tt:null)):(tt=Na.call(this._longMonthsParse,C),tt!==-1?tt:(tt=Na.call(this._shortMonthsParse,C),tt!==-1?tt:null))}function hy(ge,Le,Ve){var Ge,tt,q;if(this._monthsParseExact)return fy.call(this,ge,Le,Ve);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Ge=0;Ge<12;Ge++){if(tt=Yl([2e3,Ge]),Ve&&!this._longMonthsParse[Ge]&&(this._longMonthsParse[Ge]=new RegExp("^"+this.months(tt,"").replace(".","")+"$","i"),this._shortMonthsParse[Ge]=new RegExp("^"+this.monthsShort(tt,"").replace(".","")+"$","i")),!Ve&&!this._monthsParse[Ge]&&(q="^"+this.months(tt,"")+"|^"+this.monthsShort(tt,""),this._monthsParse[Ge]=new RegExp(q.replace(".",""),"i")),Ve&&Le==="MMMM"&&this._longMonthsParse[Ge].test(ge))return Ge;if(Ve&&Le==="MMM"&&this._shortMonthsParse[Ge].test(ge))return Ge;if(!Ve&&this._monthsParse[Ge].test(ge))return Ge}}function V1(ge,Le){if(!ge.isValid())return ge;if(typeof Le=="string"){if(/^\d+$/.test(Le))Le=bi(Le);else if(Le=ge.localeData().monthsParse(Le),!uu(Le))return ge}var Ve=Le,Ge=ge.date();return Ge=Ge<29?Ge:Math.min(Ge,Yp(ge.year(),Ve)),ge._isUTC?ge._d.setUTCMonth(Ve,Ge):ge._d.setMonth(Ve,Ge),ge}function H1(ge){return ge!=null?(V1(this,ge),Dr.updateOffset(this,!0),this):pf(this,"Month")}function py(){return Yp(this.year(),this.month())}function dy(ge){return this._monthsParseExact?(zi(this,"_monthsRegex")||G1.call(this),ge?this._monthsShortStrictRegex:this._monthsShortRegex):(zi(this,"_monthsShortRegex")||(this._monthsShortRegex=sy),this._monthsShortStrictRegex&&ge?this._monthsShortStrictRegex:this._monthsShortRegex)}function gy(ge){return this._monthsParseExact?(zi(this,"_monthsRegex")||G1.call(this),ge?this._monthsStrictRegex:this._monthsRegex):(zi(this,"_monthsRegex")||(this._monthsRegex=ly),this._monthsStrictRegex&&ge?this._monthsStrictRegex:this._monthsRegex)}function G1(){function ge(M,k){return k.length-M.length}var Le=[],Ve=[],Ge=[],tt,q,C,e;for(tt=0;tt<12;tt++)q=Yl([2e3,tt]),C=su(this.monthsShort(q,"")),e=su(this.months(q,"")),Le.push(C),Ve.push(e),Ge.push(e),Ge.push(C);Le.sort(ge),Ve.sort(ge),Ge.sort(ge),this._monthsRegex=new RegExp("^("+Ge.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+Ve.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+Le.join("|")+")","i")}function vy(ge,Le,Ve,Ge,tt,q,C){var e;return ge<100&&ge>=0?(e=new Date(ge+400,Le,Ve,Ge,tt,q,C),isFinite(e.getFullYear())&&e.setFullYear(ge)):e=new Date(ge,Le,Ve,Ge,tt,q,C),e}function df(ge){var Le,Ve;return ge<100&&ge>=0?(Ve=Array.prototype.slice.call(arguments),Ve[0]=ge+400,Le=new Date(Date.UTC.apply(null,Ve)),isFinite(Le.getUTCFullYear())&&Le.setUTCFullYear(ge)):Le=new Date(Date.UTC.apply(null,arguments)),Le}function yh(ge,Le,Ve){var Ge=7+Le-Ve,tt=(7+df(ge,0,Ge).getUTCDay()-Le)%7;return-tt+Ge-1}function q1(ge,Le,Ve,Ge,tt){var q=(7+Ve-Ge)%7,C=yh(ge,Ge,tt),e=1+7*(Le-1)+q+C,M,k;return e<=0?(M=ge-1,k=cf(M)+e):e>cf(ge)?(M=ge+1,k=e-cf(ge)):(M=ge,k=e),{year:M,dayOfYear:k}}function gf(ge,Le,Ve){var Ge=yh(ge.year(),Le,Ve),tt=Math.floor((ge.dayOfYear()-Ge-1)/7)+1,q,C;return tt<1?(C=ge.year()-1,q=tt+lu(C,Le,Ve)):tt>lu(ge.year(),Le,Ve)?(q=tt-lu(ge.year(),Le,Ve),C=ge.year()+1):(C=ge.year(),q=tt),{week:q,year:C}}function lu(ge,Le,Ve){var Ge=yh(ge,Le,Ve),tt=yh(ge+1,Le,Ve);return(cf(ge)-Ge+tt)/7}Wr("w",["ww",2],"wo","week");Wr("W",["WW",2],"Wo","isoWeek");Nr("w",va,Oc);Nr("ww",va,zs);Nr("W",va,Oc);Nr("WW",va,zs);_f(["w","ww","W","WW"],function(ge,Le,Ve,Ge){Le[Ge.substr(0,1)]=bi(ge)});function my(ge){return gf(ge,this._week.dow,this._week.doy).week}var yy={dow:0,doy:6};function xy(){return this._week.dow}function by(){return this._week.doy}function _y(ge){var Le=this.localeData().week(this);return ge==null?Le:this.add((ge-Le)*7,"d")}function wy(ge){var Le=gf(this,1,4).week;return ge==null?Le:this.add((ge-Le)*7,"d")}Wr("d",0,"do","day");Wr("dd",0,0,function(ge){return this.localeData().weekdaysMin(this,ge)});Wr("ddd",0,0,function(ge){return this.localeData().weekdaysShort(this,ge)});Wr("dddd",0,0,function(ge){return this.localeData().weekdays(this,ge)});Wr("e",0,0,"weekday");Wr("E",0,0,"isoWeekday");Nr("d",va);Nr("e",va);Nr("E",va);Nr("dd",function(ge,Le){return Le.weekdaysMinRegex(ge)});Nr("ddd",function(ge,Le){return Le.weekdaysShortRegex(ge)});Nr("dddd",function(ge,Le){return Le.weekdaysRegex(ge)});_f(["dd","ddd","dddd"],function(ge,Le,Ve,Ge){var tt=Ve._locale.weekdaysParse(ge,Ge,Ve._strict);tt!=null?Le.d=tt:si(Ve).invalidWeekday=ge});_f(["d","e","E"],function(ge,Le,Ve,Ge){Le[Ge]=bi(ge)});function Ty(ge,Le){return typeof ge!="string"?ge:isNaN(ge)?(ge=Le.weekdaysParse(ge),typeof ge=="number"?ge:null):parseInt(ge,10)}function ky(ge,Le){return typeof ge=="string"?Le.weekdaysParse(ge)%7||7:isNaN(ge)?null:ge}function Wp(ge,Le){return ge.slice(Le,7).concat(ge.slice(0,Le))}var My="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Y1="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ay="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Sy=bf,Ey=bf,Ly=bf;function Cy(ge,Le){var Ve=kl(this._weekdays)?this._weekdays:this._weekdays[ge&&ge!==!0&&this._weekdays.isFormat.test(Le)?"format":"standalone"];return ge===!0?Wp(Ve,this._week.dow):ge?Ve[ge.day()]:Ve}function Oy(ge){return ge===!0?Wp(this._weekdaysShort,this._week.dow):ge?this._weekdaysShort[ge.day()]:this._weekdaysShort}function Py(ge){return ge===!0?Wp(this._weekdaysMin,this._week.dow):ge?this._weekdaysMin[ge.day()]:this._weekdaysMin}function Iy(ge,Le,Ve){var Ge,tt,q,C=ge.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Ge=0;Ge<7;++Ge)q=Yl([2e3,1]).day(Ge),this._minWeekdaysParse[Ge]=this.weekdaysMin(q,"").toLocaleLowerCase(),this._shortWeekdaysParse[Ge]=this.weekdaysShort(q,"").toLocaleLowerCase(),this._weekdaysParse[Ge]=this.weekdays(q,"").toLocaleLowerCase();return Ve?Le==="dddd"?(tt=Na.call(this._weekdaysParse,C),tt!==-1?tt:null):Le==="ddd"?(tt=Na.call(this._shortWeekdaysParse,C),tt!==-1?tt:null):(tt=Na.call(this._minWeekdaysParse,C),tt!==-1?tt:null):Le==="dddd"?(tt=Na.call(this._weekdaysParse,C),tt!==-1||(tt=Na.call(this._shortWeekdaysParse,C),tt!==-1)?tt:(tt=Na.call(this._minWeekdaysParse,C),tt!==-1?tt:null)):Le==="ddd"?(tt=Na.call(this._shortWeekdaysParse,C),tt!==-1||(tt=Na.call(this._weekdaysParse,C),tt!==-1)?tt:(tt=Na.call(this._minWeekdaysParse,C),tt!==-1?tt:null)):(tt=Na.call(this._minWeekdaysParse,C),tt!==-1||(tt=Na.call(this._weekdaysParse,C),tt!==-1)?tt:(tt=Na.call(this._shortWeekdaysParse,C),tt!==-1?tt:null))}function Dy(ge,Le,Ve){var Ge,tt,q;if(this._weekdaysParseExact)return Iy.call(this,ge,Le,Ve);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Ge=0;Ge<7;Ge++){if(tt=Yl([2e3,1]).day(Ge),Ve&&!this._fullWeekdaysParse[Ge]&&(this._fullWeekdaysParse[Ge]=new RegExp("^"+this.weekdays(tt,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Ge]=new RegExp("^"+this.weekdaysShort(tt,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Ge]=new RegExp("^"+this.weekdaysMin(tt,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Ge]||(q="^"+this.weekdays(tt,"")+"|^"+this.weekdaysShort(tt,"")+"|^"+this.weekdaysMin(tt,""),this._weekdaysParse[Ge]=new RegExp(q.replace(".",""),"i")),Ve&&Le==="dddd"&&this._fullWeekdaysParse[Ge].test(ge))return Ge;if(Ve&&Le==="ddd"&&this._shortWeekdaysParse[Ge].test(ge))return Ge;if(Ve&&Le==="dd"&&this._minWeekdaysParse[Ge].test(ge))return Ge;if(!Ve&&this._weekdaysParse[Ge].test(ge))return Ge}}function Ry(ge){if(!this.isValid())return ge!=null?this:NaN;var Le=pf(this,"Day");return ge!=null?(ge=Ty(ge,this.localeData()),this.add(ge-Le,"d")):Le}function zy(ge){if(!this.isValid())return ge!=null?this:NaN;var Le=(this.day()+7-this.localeData()._week.dow)%7;return ge==null?Le:this.add(ge-Le,"d")}function Fy(ge){if(!this.isValid())return ge!=null?this:NaN;if(ge!=null){var Le=ky(ge,this.localeData());return this.day(this.day()%7?Le:Le-7)}else return this.day()||7}function By(ge){return this._weekdaysParseExact?(zi(this,"_weekdaysRegex")||Zp.call(this),ge?this._weekdaysStrictRegex:this._weekdaysRegex):(zi(this,"_weekdaysRegex")||(this._weekdaysRegex=Sy),this._weekdaysStrictRegex&&ge?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ny(ge){return this._weekdaysParseExact?(zi(this,"_weekdaysRegex")||Zp.call(this),ge?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(zi(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ey),this._weekdaysShortStrictRegex&&ge?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function jy(ge){return this._weekdaysParseExact?(zi(this,"_weekdaysRegex")||Zp.call(this),ge?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(zi(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ly),this._weekdaysMinStrictRegex&&ge?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Zp(){function ge(a,_){return _.length-a.length}var Le=[],Ve=[],Ge=[],tt=[],q,C,e,M,k;for(q=0;q<7;q++)C=Yl([2e3,1]).day(q),e=su(this.weekdaysMin(C,"")),M=su(this.weekdaysShort(C,"")),k=su(this.weekdays(C,"")),Le.push(e),Ve.push(M),Ge.push(k),tt.push(e),tt.push(M),tt.push(k);Le.sort(ge),Ve.sort(ge),Ge.sort(ge),tt.sort(ge),this._weekdaysRegex=new RegExp("^("+tt.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Ge.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+Ve.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+Le.join("|")+")","i")}function Xp(){return this.hours()%12||12}function Uy(){return this.hours()||24}Wr("H",["HH",2],0,"hour");Wr("h",["hh",2],0,Xp);Wr("k",["kk",2],0,Uy);Wr("hmm",0,0,function(){return""+Xp.apply(this)+Gl(this.minutes(),2)});Wr("hmmss",0,0,function(){return""+Xp.apply(this)+Gl(this.minutes(),2)+Gl(this.seconds(),2)});Wr("Hmm",0,0,function(){return""+this.hours()+Gl(this.minutes(),2)});Wr("Hmmss",0,0,function(){return""+this.hours()+Gl(this.minutes(),2)+Gl(this.seconds(),2)});function W1(ge,Le){Wr(ge,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),Le)})}W1("a",!0);W1("A",!1);function Z1(ge,Le){return Le._meridiemParse}Nr("a",Z1);Nr("A",Z1);Nr("H",va,qp);Nr("h",va,Oc);Nr("k",va,Oc);Nr("HH",va,zs);Nr("hh",va,zs);Nr("kk",va,zs);Nr("hmm",z1);Nr("hmmss",F1);Nr("Hmm",z1);Nr("Hmmss",F1);ea(["H","HH"],Qa);ea(["k","kk"],function(ge,Le,Ve){var Ge=bi(ge);Le[Qa]=Ge===24?0:Ge});ea(["a","A"],function(ge,Le,Ve){Ve._isPm=Ve._locale.isPM(ge),Ve._meridiem=ge});ea(["h","hh"],function(ge,Le,Ve){Le[Qa]=bi(ge),si(Ve).bigHour=!0});ea("hmm",function(ge,Le,Ve){var Ge=ge.length-2;Le[Qa]=bi(ge.substr(0,Ge)),Le[Tl]=bi(ge.substr(Ge)),si(Ve).bigHour=!0});ea("hmmss",function(ge,Le,Ve){var Ge=ge.length-4,tt=ge.length-2;Le[Qa]=bi(ge.substr(0,Ge)),Le[Tl]=bi(ge.substr(Ge,2)),Le[ou]=bi(ge.substr(tt)),si(Ve).bigHour=!0});ea("Hmm",function(ge,Le,Ve){var Ge=ge.length-2;Le[Qa]=bi(ge.substr(0,Ge)),Le[Tl]=bi(ge.substr(Ge))});ea("Hmmss",function(ge,Le,Ve){var Ge=ge.length-4,tt=ge.length-2;Le[Qa]=bi(ge.substr(0,Ge)),Le[Tl]=bi(ge.substr(Ge,2)),Le[ou]=bi(ge.substr(tt))});function Vy(ge){return(ge+"").toLowerCase().charAt(0)==="p"}var Hy=/[ap]\.?m?\.?/i,Gy=Pc("Hours",!0);function qy(ge,Le,Ve){return ge>11?Ve?"pm":"PM":Ve?"am":"AM"}var X1={calendar:Im,longDateFormat:Fm,invalidDate:Nm,ordinal:Um,dayOfMonthOrdinalParse:Vm,relativeTime:Gm,months:oy,monthsShort:j1,week:yy,weekdays:My,weekdaysMin:Ay,weekdaysShort:Y1,meridiemParse:Hy},ma={},sf={},vf;function Yy(ge,Le){var Ve,Ge=Math.min(ge.length,Le.length);for(Ve=0;Ve<Ge;Ve+=1)if(ge[Ve]!==Le[Ve])return Ve;return Ge}function X0(ge){return ge&&ge.toLowerCase().replace("_","-")}function Wy(ge){for(var Le=0,Ve,Ge,tt,q;Le<ge.length;){for(q=X0(ge[Le]).split("-"),Ve=q.length,Ge=X0(ge[Le+1]),Ge=Ge?Ge.split("-"):null;Ve>0;){if(tt=Lh(q.slice(0,Ve).join("-")),tt)return tt;if(Ge&&Ge.length>=Ve&&Yy(q,Ge)>=Ve-1)break;Ve--}Le++}return vf}function Zy(ge){return!!(ge&&ge.match("^[^/\\\\]*$"))}function Lh(ge){var Le=null,Ve;if(ma[ge]===void 0&&typeof gh<"u"&&gh&&gh.exports&&Zy(ge))try{Le=vf._abbr,Ve=require,Ve("./locale/"+ge),Eu(Le)}catch{ma[ge]=null}return ma[ge]}function Eu(ge,Le){var Ve;return ge&&(ds(Le)?Ve=fu(ge):Ve=Jp(ge,Le),Ve?vf=Ve:typeof console<"u"&&console.warn&&console.warn("Locale "+ge+" not found. Did you forget to load it?")),vf._abbr}function Jp(ge,Le){if(Le!==null){var Ve,Ge=X1;if(Le.abbr=ge,ma[ge]!=null)P1("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Ge=ma[ge]._config;else if(Le.parentLocale!=null)if(ma[Le.parentLocale]!=null)Ge=ma[Le.parentLocale]._config;else if(Ve=Lh(Le.parentLocale),Ve!=null)Ge=Ve._config;else return sf[Le.parentLocale]||(sf[Le.parentLocale]=[]),sf[Le.parentLocale].push({name:ge,config:Le}),null;return ma[ge]=new jp(Lp(Ge,Le)),sf[ge]&&sf[ge].forEach(function(tt){Jp(tt.name,tt.config)}),Eu(ge),ma[ge]}else return delete ma[ge],null}function Xy(ge,Le){if(Le!=null){var Ve,Ge,tt=X1;ma[ge]!=null&&ma[ge].parentLocale!=null?ma[ge].set(Lp(ma[ge]._config,Le)):(Ge=Lh(ge),Ge!=null&&(tt=Ge._config),Le=Lp(tt,Le),Ge==null&&(Le.abbr=ge),Ve=new jp(Le),Ve.parentLocale=ma[ge],ma[ge]=Ve),Eu(ge)}else ma[ge]!=null&&(ma[ge].parentLocale!=null?(ma[ge]=ma[ge].parentLocale,ge===Eu()&&Eu(ge)):ma[ge]!=null&&delete ma[ge]);return ma[ge]}function fu(ge){var Le;if(ge&&ge._locale&&ge._locale._abbr&&(ge=ge._locale._abbr),!ge)return vf;if(!kl(ge)){if(Le=Lh(ge),Le)return Le;ge=[ge]}return Wy(ge)}function Jy(){return Cp(ma)}function Kp(ge){var Le,Ve=ge._a;return Ve&&si(ge).overflow===-2&&(Le=Ve[au]<0||Ve[au]>11?au:Ve[Hl]<1||Ve[Hl]>Yp(Ve[Do],Ve[au])?Hl:Ve[Qa]<0||Ve[Qa]>24||Ve[Qa]===24&&(Ve[Tl]!==0||Ve[ou]!==0||Ve[Xu]!==0)?Qa:Ve[Tl]<0||Ve[Tl]>59?Tl:Ve[ou]<0||Ve[ou]>59?ou:Ve[Xu]<0||Ve[Xu]>999?Xu:-1,si(ge)._overflowDayOfYear&&(Le<Do||Le>Hl)&&(Le=Hl),si(ge)._overflowWeeks&&Le===-1&&(Le=ey),si(ge)._overflowWeekday&&Le===-1&&(Le=ty),si(ge).overflow=Le),ge}var Ky=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,$y=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Qy=/Z|[+-]\d\d(?::?\d\d)?/,uh=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],kp=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ex=/^\/?Date\((-?\d+)/i,tx=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,nx={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function J1(ge){var Le,Ve,Ge=ge._i,tt=Ky.exec(Ge)||$y.exec(Ge),q,C,e,M,k=uh.length,a=kp.length;if(tt){for(si(ge).iso=!0,Le=0,Ve=k;Le<Ve;Le++)if(uh[Le][1].exec(tt[1])){C=uh[Le][0],q=uh[Le][2]!==!1;break}if(C==null){ge._isValid=!1;return}if(tt[3]){for(Le=0,Ve=a;Le<Ve;Le++)if(kp[Le][1].exec(tt[3])){e=(tt[2]||" ")+kp[Le][0];break}if(e==null){ge._isValid=!1;return}}if(!q&&e!=null){ge._isValid=!1;return}if(tt[4])if(Qy.exec(tt[4]))M="Z";else{ge._isValid=!1;return}ge._f=C+(e||"")+(M||""),Qp(ge)}else ge._isValid=!1}function rx(ge,Le,Ve,Ge,tt,q){var C=[ix(ge),j1.indexOf(Le),parseInt(Ve,10),parseInt(Ge,10),parseInt(tt,10)];return q&&C.push(parseInt(q,10)),C}function ix(ge){var Le=parseInt(ge,10);return Le<=49?2e3+Le:Le<=999?1900+Le:Le}function ax(ge){return ge.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ox(ge,Le,Ve){if(ge){var Ge=Y1.indexOf(ge),tt=new Date(Le[0],Le[1],Le[2]).getDay();if(Ge!==tt)return si(Ve).weekdayMismatch=!0,Ve._isValid=!1,!1}return!0}function sx(ge,Le,Ve){if(ge)return nx[ge];if(Le)return 0;var Ge=parseInt(Ve,10),tt=Ge%100,q=(Ge-tt)/100;return q*60+tt}function K1(ge){var Le=tx.exec(ax(ge._i)),Ve;if(Le){if(Ve=rx(Le[4],Le[3],Le[2],Le[5],Le[6],Le[7]),!ox(Le[1],Ve,ge))return;ge._a=Ve,ge._tzm=sx(Le[8],Le[9],Le[10]),ge._d=df.apply(null,ge._a),ge._d.setUTCMinutes(ge._d.getUTCMinutes()-ge._tzm),si(ge).rfc2822=!0}else ge._isValid=!1}function lx(ge){var Le=ex.exec(ge._i);if(Le!==null){ge._d=new Date(+Le[1]);return}if(J1(ge),ge._isValid===!1)delete ge._isValid;else return;if(K1(ge),ge._isValid===!1)delete ge._isValid;else return;ge._strict?ge._isValid=!1:Dr.createFromInputFallback(ge)}Dr.createFromInputFallback=tl("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(ge){ge._d=new Date(ge._i+(ge._useUTC?" UTC":""))});function Tc(ge,Le,Ve){return ge??Le??Ve}function ux(ge){var Le=new Date(Dr.now());return ge._useUTC?[Le.getUTCFullYear(),Le.getUTCMonth(),Le.getUTCDate()]:[Le.getFullYear(),Le.getMonth(),Le.getDate()]}function $p(ge){var Le,Ve,Ge=[],tt,q,C;if(!ge._d){for(tt=ux(ge),ge._w&&ge._a[Hl]==null&&ge._a[au]==null&&cx(ge),ge._dayOfYear!=null&&(C=Tc(ge._a[Do],tt[Do]),(ge._dayOfYear>cf(C)||ge._dayOfYear===0)&&(si(ge)._overflowDayOfYear=!0),Ve=df(C,0,ge._dayOfYear),ge._a[au]=Ve.getUTCMonth(),ge._a[Hl]=Ve.getUTCDate()),Le=0;Le<3&&ge._a[Le]==null;++Le)ge._a[Le]=Ge[Le]=tt[Le];for(;Le<7;Le++)ge._a[Le]=Ge[Le]=ge._a[Le]==null?Le===2?1:0:ge._a[Le];ge._a[Qa]===24&&ge._a[Tl]===0&&ge._a[ou]===0&&ge._a[Xu]===0&&(ge._nextDay=!0,ge._a[Qa]=0),ge._d=(ge._useUTC?df:vy).apply(null,Ge),q=ge._useUTC?ge._d.getUTCDay():ge._d.getDay(),ge._tzm!=null&&ge._d.setUTCMinutes(ge._d.getUTCMinutes()-ge._tzm),ge._nextDay&&(ge._a[Qa]=24),ge._w&&typeof ge._w.d<"u"&&ge._w.d!==q&&(si(ge).weekdayMismatch=!0)}}function cx(ge){var Le,Ve,Ge,tt,q,C,e,M,k;Le=ge._w,Le.GG!=null||Le.W!=null||Le.E!=null?(q=1,C=4,Ve=Tc(Le.GG,ge._a[Do],gf(ga(),1,4).year),Ge=Tc(Le.W,1),tt=Tc(Le.E,1),(tt<1||tt>7)&&(M=!0)):(q=ge._locale._week.dow,C=ge._locale._week.doy,k=gf(ga(),q,C),Ve=Tc(Le.gg,ge._a[Do],k.year),Ge=Tc(Le.w,k.week),Le.d!=null?(tt=Le.d,(tt<0||tt>6)&&(M=!0)):Le.e!=null?(tt=Le.e+q,(Le.e<0||Le.e>6)&&(M=!0)):tt=q),Ge<1||Ge>lu(Ve,q,C)?si(ge)._overflowWeeks=!0:M!=null?si(ge)._overflowWeekday=!0:(e=q1(Ve,Ge,tt,q,C),ge._a[Do]=e.year,ge._dayOfYear=e.dayOfYear)}Dr.ISO_8601=function(){};Dr.RFC_2822=function(){};function Qp(ge){if(ge._f===Dr.ISO_8601){J1(ge);return}if(ge._f===Dr.RFC_2822){K1(ge);return}ge._a=[],si(ge).empty=!0;var Le=""+ge._i,Ve,Ge,tt,q,C,e=Le.length,M=0,k,a;for(tt=I1(ge._f,ge._locale).match(Up)||[],a=tt.length,Ve=0;Ve<a;Ve++)q=tt[Ve],Ge=(Le.match(Km(q,ge))||[])[0],Ge&&(C=Le.substr(0,Le.indexOf(Ge)),C.length>0&&si(ge).unusedInput.push(C),Le=Le.slice(Le.indexOf(Ge)+Ge.length),M+=Ge.length),Ac[q]?(Ge?si(ge).empty=!1:si(ge).unusedTokens.push(q),Qm(q,Ge,ge)):ge._strict&&!Ge&&si(ge).unusedTokens.push(q);si(ge).charsLeftOver=e-M,Le.length>0&&si(ge).unusedInput.push(Le),ge._a[Qa]<=12&&si(ge).bigHour===!0&&ge._a[Qa]>0&&(si(ge).bigHour=void 0),si(ge).parsedDateParts=ge._a.slice(0),si(ge).meridiem=ge._meridiem,ge._a[Qa]=fx(ge._locale,ge._a[Qa],ge._meridiem),k=si(ge).era,k!==null&&(ge._a[Do]=ge._locale.erasConvertYear(k,ge._a[Do])),$p(ge),Kp(ge)}function fx(ge,Le,Ve){var Ge;return Ve==null?Le:ge.meridiemHour!=null?ge.meridiemHour(Le,Ve):(ge.isPM!=null&&(Ge=ge.isPM(Ve),Ge&&Le<12&&(Le+=12),!Ge&&Le===12&&(Le=0)),Le)}function hx(ge){var Le,Ve,Ge,tt,q,C,e=!1,M=ge._f.length;if(M===0){si(ge).invalidFormat=!0,ge._d=new Date(NaN);return}for(tt=0;tt<M;tt++)q=0,C=!1,Le=Np({},ge),ge._useUTC!=null&&(Le._useUTC=ge._useUTC),Le._f=ge._f[tt],Qp(Le),Bp(Le)&&(C=!0),q+=si(Le).charsLeftOver,q+=si(Le).unusedTokens.length*10,si(Le).score=q,e?q<Ge&&(Ge=q,Ve=Le):(Ge==null||q<Ge||C)&&(Ge=q,Ve=Le,C&&(e=!0));Au(ge,Ve||Le)}function px(ge){if(!ge._d){var Le=Vp(ge._i),Ve=Le.day===void 0?Le.date:Le.day;ge._a=C1([Le.year,Le.month,Ve,Le.hour,Le.minute,Le.second,Le.millisecond],function(Ge){return Ge&&parseInt(Ge,10)}),$p(ge)}}function dx(ge){var Le=new xf(Kp($1(ge)));return Le._nextDay&&(Le.add(1,"d"),Le._nextDay=void 0),Le}function $1(ge){var Le=ge._i,Ve=ge._f;return ge._locale=ge._locale||fu(ge._l),Le===null||Ve===void 0&&Le===""?wh({nullInput:!0}):(typeof Le=="string"&&(ge._i=Le=ge._locale.preparse(Le)),Ml(Le)?new xf(Kp(Le)):(yf(Le)?ge._d=Le:kl(Ve)?hx(ge):Ve?Qp(ge):gx(ge),Bp(ge)||(ge._d=null),ge))}function gx(ge){var Le=ge._i;ds(Le)?ge._d=new Date(Dr.now()):yf(Le)?ge._d=new Date(Le.valueOf()):typeof Le=="string"?lx(ge):kl(Le)?(ge._a=C1(Le.slice(0),function(Ve){return parseInt(Ve,10)}),$p(ge)):Ju(Le)?px(ge):uu(Le)?ge._d=new Date(Le):Dr.createFromInputFallback(ge)}function Q1(ge,Le,Ve,Ge,tt){var q={};return(Le===!0||Le===!1)&&(Ge=Le,Le=void 0),(Ve===!0||Ve===!1)&&(Ge=Ve,Ve=void 0),(Ju(ge)&&Fp(ge)||kl(ge)&&ge.length===0)&&(ge=void 0),q._isAMomentObject=!0,q._useUTC=q._isUTC=tt,q._l=Ve,q._i=ge,q._f=Le,q._strict=Ge,dx(q)}function ga(ge,Le,Ve,Ge){return Q1(ge,Le,Ve,Ge,!1)}var vx=tl("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var ge=ga.apply(null,arguments);return this.isValid()&&ge.isValid()?ge<this?this:ge:wh()}),mx=tl("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var ge=ga.apply(null,arguments);return this.isValid()&&ge.isValid()?ge>this?this:ge:wh()});function eg(ge,Le){var Ve,Ge;if(Le.length===1&&kl(Le[0])&&(Le=Le[0]),!Le.length)return ga();for(Ve=Le[0],Ge=1;Ge<Le.length;++Ge)(!Le[Ge].isValid()||Le[Ge][ge](Ve))&&(Ve=Le[Ge]);return Ve}function yx(){var ge=[].slice.call(arguments,0);return eg("isBefore",ge)}function xx(){var ge=[].slice.call(arguments,0);return eg("isAfter",ge)}var bx=function(){return Date.now?Date.now():+new Date},lf=["year","quarter","month","week","day","hour","minute","second","millisecond"];function _x(ge){var Le,Ve=!1,Ge,tt=lf.length;for(Le in ge)if(zi(ge,Le)&&!(Na.call(lf,Le)!==-1&&(ge[Le]==null||!isNaN(ge[Le]))))return!1;for(Ge=0;Ge<tt;++Ge)if(ge[lf[Ge]]){if(Ve)return!1;parseFloat(ge[lf[Ge]])!==bi(ge[lf[Ge]])&&(Ve=!0)}return!0}function wx(){return this._isValid}function Tx(){return Al(NaN)}function Ch(ge){var Le=Vp(ge),Ve=Le.year||0,Ge=Le.quarter||0,tt=Le.month||0,q=Le.week||Le.isoWeek||0,C=Le.day||0,e=Le.hour||0,M=Le.minute||0,k=Le.second||0,a=Le.millisecond||0;this._isValid=_x(Le),this._milliseconds=+a+k*1e3+M*6e4+e*1e3*60*60,this._days=+C+q*7,this._months=+tt+Ge*3+Ve*12,this._data={},this._locale=fu(),this._bubble()}function ph(ge){return ge instanceof Ch}function Pp(ge){return ge<0?Math.round(-1*ge)*-1:Math.round(ge)}function kx(ge,Le,Ve){var Ge=Math.min(ge.length,Le.length),tt=Math.abs(ge.length-Le.length),q=0,C;for(C=0;C<Ge;C++)(Ve&&ge[C]!==Le[C]||!Ve&&bi(ge[C])!==bi(Le[C]))&&q++;return q+tt}function tg(ge,Le){Wr(ge,0,0,function(){var Ve=this.utcOffset(),Ge="+";return Ve<0&&(Ve=-Ve,Ge="-"),Ge+Gl(~~(Ve/60),2)+Le+Gl(~~Ve%60,2)})}tg("Z",":");tg("ZZ","");Nr("Z",Sh);Nr("ZZ",Sh);ea(["Z","ZZ"],function(ge,Le,Ve){Ve._useUTC=!0,Ve._tzm=ed(Sh,ge)});var Mx=/([\+\-]|\d\d)/gi;function ed(ge,Le){var Ve=(Le||"").match(ge),Ge,tt,q;return Ve===null?null:(Ge=Ve[Ve.length-1]||[],tt=(Ge+"").match(Mx)||["-",0,0],q=+(tt[1]*60)+bi(tt[2]),q===0?0:tt[0]==="+"?q:-q)}function td(ge,Le){var Ve,Ge;return Le._isUTC?(Ve=Le.clone(),Ge=(Ml(ge)||yf(ge)?ge.valueOf():ga(ge).valueOf())-Ve.valueOf(),Ve._d.setTime(Ve._d.valueOf()+Ge),Dr.updateOffset(Ve,!1),Ve):ga(ge).local()}function Ip(ge){return-Math.round(ge._d.getTimezoneOffset())}Dr.updateOffset=function(){};function Ax(ge,Le,Ve){var Ge=this._offset||0,tt;if(!this.isValid())return ge!=null?this:NaN;if(ge!=null){if(typeof ge=="string"){if(ge=ed(Sh,ge),ge===null)return this}else Math.abs(ge)<16&&!Ve&&(ge=ge*60);return!this._isUTC&&Le&&(tt=Ip(this)),this._offset=ge,this._isUTC=!0,tt!=null&&this.add(tt,"m"),Ge!==ge&&(!Le||this._changeInProgress?ig(this,Al(ge-Ge,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Dr.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?Ge:Ip(this)}function Sx(ge,Le){return ge!=null?(typeof ge!="string"&&(ge=-ge),this.utcOffset(ge,Le),this):-this.utcOffset()}function Ex(ge){return this.utcOffset(0,ge)}function Lx(ge){return this._isUTC&&(this.utcOffset(0,ge),this._isUTC=!1,ge&&this.subtract(Ip(this),"m")),this}function Cx(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var ge=ed(Xm,this._i);ge!=null?this.utcOffset(ge):this.utcOffset(0,!0)}return this}function Ox(ge){return this.isValid()?(ge=ge?ga(ge).utcOffset():0,(this.utcOffset()-ge)%60===0):!1}function Px(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ix(){if(!ds(this._isDSTShifted))return this._isDSTShifted;var ge={},Le;return Np(ge,this),ge=$1(ge),ge._a?(Le=ge._isUTC?Yl(ge._a):ga(ge._a),this._isDSTShifted=this.isValid()&&kx(ge._a,Le.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Dx(){return this.isValid()?!this._isUTC:!1}function Rx(){return this.isValid()?this._isUTC:!1}function ng(){return this.isValid()?this._isUTC&&this._offset===0:!1}var zx=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Fx=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Al(ge,Le){var Ve=ge,Ge=null,tt,q,C;return ph(ge)?Ve={ms:ge._milliseconds,d:ge._days,M:ge._months}:uu(ge)||!isNaN(+ge)?(Ve={},Le?Ve[Le]=+ge:Ve.milliseconds=+ge):(Ge=zx.exec(ge))?(tt=Ge[1]==="-"?-1:1,Ve={y:0,d:bi(Ge[Hl])*tt,h:bi(Ge[Qa])*tt,m:bi(Ge[Tl])*tt,s:bi(Ge[ou])*tt,ms:bi(Pp(Ge[Xu]*1e3))*tt}):(Ge=Fx.exec(ge))?(tt=Ge[1]==="-"?-1:1,Ve={y:Wu(Ge[2],tt),M:Wu(Ge[3],tt),w:Wu(Ge[4],tt),d:Wu(Ge[5],tt),h:Wu(Ge[6],tt),m:Wu(Ge[7],tt),s:Wu(Ge[8],tt)}):Ve==null?Ve={}:typeof Ve=="object"&&("from"in Ve||"to"in Ve)&&(C=Bx(ga(Ve.from),ga(Ve.to)),Ve={},Ve.ms=C.milliseconds,Ve.M=C.months),q=new Ch(Ve),ph(ge)&&zi(ge,"_locale")&&(q._locale=ge._locale),ph(ge)&&zi(ge,"_isValid")&&(q._isValid=ge._isValid),q}Al.fn=Ch.prototype;Al.invalid=Tx;function Wu(ge,Le){var Ve=ge&&parseFloat(ge.replace(",","."));return(isNaN(Ve)?0:Ve)*Le}function J0(ge,Le){var Ve={};return Ve.months=Le.month()-ge.month()+(Le.year()-ge.year())*12,ge.clone().add(Ve.months,"M").isAfter(Le)&&--Ve.months,Ve.milliseconds=+Le-+ge.clone().add(Ve.months,"M"),Ve}function Bx(ge,Le){var Ve;return ge.isValid()&&Le.isValid()?(Le=td(Le,ge),ge.isBefore(Le)?Ve=J0(ge,Le):(Ve=J0(Le,ge),Ve.milliseconds=-Ve.milliseconds,Ve.months=-Ve.months),Ve):{milliseconds:0,months:0}}function rg(ge,Le){return function(Ve,Ge){var tt,q;return Ge!==null&&!isNaN(+Ge)&&(P1(Le,"moment()."+Le+"(period, number) is deprecated. Please use moment()."+Le+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),q=Ve,Ve=Ge,Ge=q),tt=Al(Ve,Ge),ig(this,tt,ge),this}}function ig(ge,Le,Ve,Ge){var tt=Le._milliseconds,q=Pp(Le._days),C=Pp(Le._months);ge.isValid()&&(Ge=Ge??!0,C&&V1(ge,pf(ge,"Month")+C*Ve),q&&N1(ge,"Date",pf(ge,"Date")+q*Ve),tt&&ge._d.setTime(ge._d.valueOf()+tt*Ve),Ge&&Dr.updateOffset(ge,q||C))}var Nx=rg(1,"add"),jx=rg(-1,"subtract");function ag(ge){return typeof ge=="string"||ge instanceof String}function Ux(ge){return Ml(ge)||yf(ge)||ag(ge)||uu(ge)||Hx(ge)||Vx(ge)||ge===null||ge===void 0}function Vx(ge){var Le=Ju(ge)&&!Fp(ge),Ve=!1,Ge=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],tt,q,C=Ge.length;for(tt=0;tt<C;tt+=1)q=Ge[tt],Ve=Ve||zi(ge,q);return Le&&Ve}function Hx(ge){var Le=kl(ge),Ve=!1;return Le&&(Ve=ge.filter(function(Ge){return!uu(Ge)&&ag(ge)}).length===0),Le&&Ve}function Gx(ge){var Le=Ju(ge)&&!Fp(ge),Ve=!1,Ge=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],tt,q;for(tt=0;tt<Ge.length;tt+=1)q=Ge[tt],Ve=Ve||zi(ge,q);return Le&&Ve}function qx(ge,Le){var Ve=ge.diff(Le,"days",!0);return Ve<-6?"sameElse":Ve<-1?"lastWeek":Ve<0?"lastDay":Ve<1?"sameDay":Ve<2?"nextDay":Ve<7?"nextWeek":"sameElse"}function Yx(ge,Le){arguments.length===1&&(arguments[0]?Ux(arguments[0])?(ge=arguments[0],Le=void 0):Gx(arguments[0])&&(Le=arguments[0],ge=void 0):(ge=void 0,Le=void 0));var Ve=ge||ga(),Ge=td(Ve,this).startOf("day"),tt=Dr.calendarFormat(this,Ge)||"sameElse",q=Le&&(Wl(Le[tt])?Le[tt].call(this,Ve):Le[tt]);return this.format(q||this.localeData().calendar(tt,this,ga(Ve)))}function Wx(){return new xf(this)}function Zx(ge,Le){var Ve=Ml(ge)?ge:ga(ge);return this.isValid()&&Ve.isValid()?(Le=nl(Le)||"millisecond",Le==="millisecond"?this.valueOf()>Ve.valueOf():Ve.valueOf()<this.clone().startOf(Le).valueOf()):!1}function Xx(ge,Le){var Ve=Ml(ge)?ge:ga(ge);return this.isValid()&&Ve.isValid()?(Le=nl(Le)||"millisecond",Le==="millisecond"?this.valueOf()<Ve.valueOf():this.clone().endOf(Le).valueOf()<Ve.valueOf()):!1}function Jx(ge,Le,Ve,Ge){var tt=Ml(ge)?ge:ga(ge),q=Ml(Le)?Le:ga(Le);return this.isValid()&&tt.isValid()&&q.isValid()?(Ge=Ge||"()",(Ge[0]==="("?this.isAfter(tt,Ve):!this.isBefore(tt,Ve))&&(Ge[1]===")"?this.isBefore(q,Ve):!this.isAfter(q,Ve))):!1}function Kx(ge,Le){var Ve=Ml(ge)?ge:ga(ge),Ge;return this.isValid()&&Ve.isValid()?(Le=nl(Le)||"millisecond",Le==="millisecond"?this.valueOf()===Ve.valueOf():(Ge=Ve.valueOf(),this.clone().startOf(Le).valueOf()<=Ge&&Ge<=this.clone().endOf(Le).valueOf())):!1}function $x(ge,Le){return this.isSame(ge,Le)||this.isAfter(ge,Le)}function Qx(ge,Le){return this.isSame(ge,Le)||this.isBefore(ge,Le)}function e2(ge,Le,Ve){var Ge,tt,q;if(!this.isValid())return NaN;if(Ge=td(ge,this),!Ge.isValid())return NaN;switch(tt=(Ge.utcOffset()-this.utcOffset())*6e4,Le=nl(Le),Le){case"year":q=dh(this,Ge)/12;break;case"month":q=dh(this,Ge);break;case"quarter":q=dh(this,Ge)/3;break;case"second":q=(this-Ge)/1e3;break;case"minute":q=(this-Ge)/6e4;break;case"hour":q=(this-Ge)/36e5;break;case"day":q=(this-Ge-tt)/864e5;break;case"week":q=(this-Ge-tt)/6048e5;break;default:q=this-Ge}return Ve?q:Qs(q)}function dh(ge,Le){if(ge.date()<Le.date())return-dh(Le,ge);var Ve=(Le.year()-ge.year())*12+(Le.month()-ge.month()),Ge=ge.clone().add(Ve,"months"),tt,q;return Le-Ge<0?(tt=ge.clone().add(Ve-1,"months"),q=(Le-Ge)/(Ge-tt)):(tt=ge.clone().add(Ve+1,"months"),q=(Le-Ge)/(tt-Ge)),-(Ve+q)||0}Dr.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Dr.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function t2(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function n2(ge){if(!this.isValid())return null;var Le=ge!==!0,Ve=Le?this.clone().utc():this;return Ve.year()<0||Ve.year()>9999?hh(Ve,Le?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Wl(Date.prototype.toISOString)?Le?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",hh(Ve,"Z")):hh(Ve,Le?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function r2(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var ge="moment",Le="",Ve,Ge,tt,q;return this.isLocal()||(ge=this.utcOffset()===0?"moment.utc":"moment.parseZone",Le="Z"),Ve="["+ge+'("]',Ge=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",tt="-MM-DD[T]HH:mm:ss.SSS",q=Le+'[")]',this.format(Ve+Ge+tt+q)}function i2(ge){ge||(ge=this.isUtc()?Dr.defaultFormatUtc:Dr.defaultFormat);var Le=hh(this,ge);return this.localeData().postformat(Le)}function a2(ge,Le){return this.isValid()&&(Ml(ge)&&ge.isValid()||ga(ge).isValid())?Al({to:this,from:ge}).locale(this.locale()).humanize(!Le):this.localeData().invalidDate()}function o2(ge){return this.from(ga(),ge)}function s2(ge,Le){return this.isValid()&&(Ml(ge)&&ge.isValid()||ga(ge).isValid())?Al({from:this,to:ge}).locale(this.locale()).humanize(!Le):this.localeData().invalidDate()}function l2(ge){return this.to(ga(),ge)}function og(ge){var Le;return ge===void 0?this._locale._abbr:(Le=fu(ge),Le!=null&&(this._locale=Le),this)}var sg=tl("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(ge){return ge===void 0?this.localeData():this.locale(ge)});function lg(){return this._locale}var xh=1e3,Sc=60*xh,bh=60*Sc,ug=(365*400+97)*24*bh;function Ec(ge,Le){return(ge%Le+Le)%Le}function cg(ge,Le,Ve){return ge<100&&ge>=0?new Date(ge+400,Le,Ve)-ug:new Date(ge,Le,Ve).valueOf()}function fg(ge,Le,Ve){return ge<100&&ge>=0?Date.UTC(ge+400,Le,Ve)-ug:Date.UTC(ge,Le,Ve)}function u2(ge){var Le,Ve;if(ge=nl(ge),ge===void 0||ge==="millisecond"||!this.isValid())return this;switch(Ve=this._isUTC?fg:cg,ge){case"year":Le=Ve(this.year(),0,1);break;case"quarter":Le=Ve(this.year(),this.month()-this.month()%3,1);break;case"month":Le=Ve(this.year(),this.month(),1);break;case"week":Le=Ve(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":Le=Ve(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":Le=Ve(this.year(),this.month(),this.date());break;case"hour":Le=this._d.valueOf(),Le-=Ec(Le+(this._isUTC?0:this.utcOffset()*Sc),bh);break;case"minute":Le=this._d.valueOf(),Le-=Ec(Le,Sc);break;case"second":Le=this._d.valueOf(),Le-=Ec(Le,xh);break}return this._d.setTime(Le),Dr.updateOffset(this,!0),this}function c2(ge){var Le,Ve;if(ge=nl(ge),ge===void 0||ge==="millisecond"||!this.isValid())return this;switch(Ve=this._isUTC?fg:cg,ge){case"year":Le=Ve(this.year()+1,0,1)-1;break;case"quarter":Le=Ve(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":Le=Ve(this.year(),this.month()+1,1)-1;break;case"week":Le=Ve(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":Le=Ve(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":Le=Ve(this.year(),this.month(),this.date()+1)-1;break;case"hour":Le=this._d.valueOf(),Le+=bh-Ec(Le+(this._isUTC?0:this.utcOffset()*Sc),bh)-1;break;case"minute":Le=this._d.valueOf(),Le+=Sc-Ec(Le,Sc)-1;break;case"second":Le=this._d.valueOf(),Le+=xh-Ec(Le,xh)-1;break}return this._d.setTime(Le),Dr.updateOffset(this,!0),this}function f2(){return this._d.valueOf()-(this._offset||0)*6e4}function h2(){return Math.floor(this.valueOf()/1e3)}function p2(){return new Date(this.valueOf())}function d2(){var ge=this;return[ge.year(),ge.month(),ge.date(),ge.hour(),ge.minute(),ge.second(),ge.millisecond()]}function g2(){var ge=this;return{years:ge.year(),months:ge.month(),date:ge.date(),hours:ge.hours(),minutes:ge.minutes(),seconds:ge.seconds(),milliseconds:ge.milliseconds()}}function v2(){return this.isValid()?this.toISOString():null}function m2(){return Bp(this)}function y2(){return Au({},si(this))}function x2(){return si(this).overflow}function b2(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Wr("N",0,0,"eraAbbr");Wr("NN",0,0,"eraAbbr");Wr("NNN",0,0,"eraAbbr");Wr("NNNN",0,0,"eraName");Wr("NNNNN",0,0,"eraNarrow");Wr("y",["y",1],"yo","eraYear");Wr("y",["yy",2],0,"eraYear");Wr("y",["yyy",3],0,"eraYear");Wr("y",["yyyy",4],0,"eraYear");Nr("N",nd);Nr("NN",nd);Nr("NNN",nd);Nr("NNNN",O2);Nr("NNNNN",P2);ea(["N","NN","NNN","NNNN","NNNNN"],function(ge,Le,Ve,Ge){var tt=Ve._locale.erasParse(ge,Ge,Ve._strict);tt?si(Ve).era=tt:si(Ve).invalidEra=ge});Nr("y",Cc);Nr("yy",Cc);Nr("yyy",Cc);Nr("yyyy",Cc);Nr("yo",I2);ea(["y","yy","yyy","yyyy"],Do);ea(["yo"],function(ge,Le,Ve,Ge){var tt;Ve._locale._eraYearOrdinalRegex&&(tt=ge.match(Ve._locale._eraYearOrdinalRegex)),Ve._locale.eraYearOrdinalParse?Le[Do]=Ve._locale.eraYearOrdinalParse(ge,tt):Le[Do]=parseInt(ge,10)});function _2(ge,Le){var Ve,Ge,tt,q=this._eras||fu("en")._eras;for(Ve=0,Ge=q.length;Ve<Ge;++Ve){switch(typeof q[Ve].since){case"string":tt=Dr(q[Ve].since).startOf("day"),q[Ve].since=tt.valueOf();break}switch(typeof q[Ve].until){case"undefined":q[Ve].until=1/0;break;case"string":tt=Dr(q[Ve].until).startOf("day").valueOf(),q[Ve].until=tt.valueOf();break}}return q}function w2(ge,Le,Ve){var Ge,tt,q=this.eras(),C,e,M;for(ge=ge.toUpperCase(),Ge=0,tt=q.length;Ge<tt;++Ge)if(C=q[Ge].name.toUpperCase(),e=q[Ge].abbr.toUpperCase(),M=q[Ge].narrow.toUpperCase(),Ve)switch(Le){case"N":case"NN":case"NNN":if(e===ge)return q[Ge];break;case"NNNN":if(C===ge)return q[Ge];break;case"NNNNN":if(M===ge)return q[Ge];break}else if([C,e,M].indexOf(ge)>=0)return q[Ge]}function T2(ge,Le){var Ve=ge.since<=ge.until?1:-1;return Le===void 0?Dr(ge.since).year():Dr(ge.since).year()+(Le-ge.offset)*Ve}function k2(){var ge,Le,Ve,Ge=this.localeData().eras();for(ge=0,Le=Ge.length;ge<Le;++ge)if(Ve=this.clone().startOf("day").valueOf(),Ge[ge].since<=Ve&&Ve<=Ge[ge].until||Ge[ge].until<=Ve&&Ve<=Ge[ge].since)return Ge[ge].name;return""}function M2(){var ge,Le,Ve,Ge=this.localeData().eras();for(ge=0,Le=Ge.length;ge<Le;++ge)if(Ve=this.clone().startOf("day").valueOf(),Ge[ge].since<=Ve&&Ve<=Ge[ge].until||Ge[ge].until<=Ve&&Ve<=Ge[ge].since)return Ge[ge].narrow;return""}function A2(){var ge,Le,Ve,Ge=this.localeData().eras();for(ge=0,Le=Ge.length;ge<Le;++ge)if(Ve=this.clone().startOf("day").valueOf(),Ge[ge].since<=Ve&&Ve<=Ge[ge].until||Ge[ge].until<=Ve&&Ve<=Ge[ge].since)return Ge[ge].abbr;return""}function S2(){var ge,Le,Ve,Ge,tt=this.localeData().eras();for(ge=0,Le=tt.length;ge<Le;++ge)if(Ve=tt[ge].since<=tt[ge].until?1:-1,Ge=this.clone().startOf("day").valueOf(),tt[ge].since<=Ge&&Ge<=tt[ge].until||tt[ge].until<=Ge&&Ge<=tt[ge].since)return(this.year()-Dr(tt[ge].since).year())*Ve+tt[ge].offset;return this.year()}function E2(ge){return zi(this,"_erasNameRegex")||rd.call(this),ge?this._erasNameRegex:this._erasRegex}function L2(ge){return zi(this,"_erasAbbrRegex")||rd.call(this),ge?this._erasAbbrRegex:this._erasRegex}function C2(ge){return zi(this,"_erasNarrowRegex")||rd.call(this),ge?this._erasNarrowRegex:this._erasRegex}function nd(ge,Le){return Le.erasAbbrRegex(ge)}function O2(ge,Le){return Le.erasNameRegex(ge)}function P2(ge,Le){return Le.erasNarrowRegex(ge)}function I2(ge,Le){return Le._eraYearOrdinalRegex||Cc}function rd(){var ge=[],Le=[],Ve=[],Ge=[],tt,q,C,e,M,k=this.eras();for(tt=0,q=k.length;tt<q;++tt)C=su(k[tt].name),e=su(k[tt].abbr),M=su(k[tt].narrow),Le.push(C),ge.push(e),Ve.push(M),Ge.push(C),Ge.push(e),Ge.push(M);this._erasRegex=new RegExp("^("+Ge.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+Le.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+ge.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+Ve.join("|")+")","i")}Wr(0,["gg",2],0,function(){return this.weekYear()%100});Wr(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Oh(ge,Le){Wr(0,[ge,ge.length],0,Le)}Oh("gggg","weekYear");Oh("ggggg","weekYear");Oh("GGGG","isoWeekYear");Oh("GGGGG","isoWeekYear");Nr("G",Ah);Nr("g",Ah);Nr("GG",va,zs);Nr("gg",va,zs);Nr("GGGG",Gp,Hp);Nr("gggg",Gp,Hp);Nr("GGGGG",Mh,Th);Nr("ggggg",Mh,Th);_f(["gggg","ggggg","GGGG","GGGGG"],function(ge,Le,Ve,Ge){Le[Ge.substr(0,2)]=bi(ge)});_f(["gg","GG"],function(ge,Le,Ve,Ge){Le[Ge]=Dr.parseTwoDigitYear(ge)});function D2(ge){return hg.call(this,ge,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function R2(ge){return hg.call(this,ge,this.isoWeek(),this.isoWeekday(),1,4)}function z2(){return lu(this.year(),1,4)}function F2(){return lu(this.isoWeekYear(),1,4)}function B2(){var ge=this.localeData()._week;return lu(this.year(),ge.dow,ge.doy)}function N2(){var ge=this.localeData()._week;return lu(this.weekYear(),ge.dow,ge.doy)}function hg(ge,Le,Ve,Ge,tt){var q;return ge==null?gf(this,Ge,tt).year:(q=lu(ge,Ge,tt),Le>q&&(Le=q),j2.call(this,ge,Le,Ve,Ge,tt))}function j2(ge,Le,Ve,Ge,tt){var q=q1(ge,Le,Ve,Ge,tt),C=df(q.year,0,q.dayOfYear);return this.year(C.getUTCFullYear()),this.month(C.getUTCMonth()),this.date(C.getUTCDate()),this}Wr("Q",0,"Qo","quarter");Nr("Q",D1);ea("Q",function(ge,Le){Le[au]=(bi(ge)-1)*3});function U2(ge){return ge==null?Math.ceil((this.month()+1)/3):this.month((ge-1)*3+this.month()%3)}Wr("D",["DD",2],"Do","date");Nr("D",va,Oc);Nr("DD",va,zs);Nr("Do",function(ge,Le){return ge?Le._dayOfMonthOrdinalParse||Le._ordinalParse:Le._dayOfMonthOrdinalParseLenient});ea(["D","DD"],Hl);ea("Do",function(ge,Le){Le[Hl]=bi(ge.match(va)[0])});var pg=Pc("Date",!0);Wr("DDD",["DDDD",3],"DDDo","dayOfYear");Nr("DDD",kh);Nr("DDDD",R1);ea(["DDD","DDDD"],function(ge,Le,Ve){Ve._dayOfYear=bi(ge)});function V2(ge){var Le=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return ge==null?Le:this.add(ge-Le,"d")}Wr("m",["mm",2],0,"minute");Nr("m",va,qp);Nr("mm",va,zs);ea(["m","mm"],Tl);var H2=Pc("Minutes",!1);Wr("s",["ss",2],0,"second");Nr("s",va,qp);Nr("ss",va,zs);ea(["s","ss"],ou);var G2=Pc("Seconds",!1);Wr("S",0,0,function(){return~~(this.millisecond()/100)});Wr(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Wr(0,["SSS",3],0,"millisecond");Wr(0,["SSSS",4],0,function(){return this.millisecond()*10});Wr(0,["SSSSS",5],0,function(){return this.millisecond()*100});Wr(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Wr(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Wr(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Wr(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Nr("S",kh,D1);Nr("SS",kh,zs);Nr("SSS",kh,R1);var Su,dg;for(Su="SSSS";Su.length<=9;Su+="S")Nr(Su,Cc);function q2(ge,Le){Le[Xu]=bi(("0."+ge)*1e3)}for(Su="S";Su.length<=9;Su+="S")ea(Su,q2);dg=Pc("Milliseconds",!1);Wr("z",0,0,"zoneAbbr");Wr("zz",0,0,"zoneName");function Y2(){return this._isUTC?"UTC":""}function W2(){return this._isUTC?"Coordinated Universal Time":""}var Tr=xf.prototype;Tr.add=Nx;Tr.calendar=Yx;Tr.clone=Wx;Tr.diff=e2;Tr.endOf=c2;Tr.format=i2;Tr.from=a2;Tr.fromNow=o2;Tr.to=s2;Tr.toNow=l2;Tr.get=ry;Tr.invalidAt=x2;Tr.isAfter=Zx;Tr.isBefore=Xx;Tr.isBetween=Jx;Tr.isSame=Kx;Tr.isSameOrAfter=$x;Tr.isSameOrBefore=Qx;Tr.isValid=m2;Tr.lang=sg;Tr.locale=og;Tr.localeData=lg;Tr.max=mx;Tr.min=vx;Tr.parsingFlags=y2;Tr.set=iy;Tr.startOf=u2;Tr.subtract=jx;Tr.toArray=d2;Tr.toObject=g2;Tr.toDate=p2;Tr.toISOString=n2;Tr.inspect=r2;typeof Symbol<"u"&&Symbol.for!=null&&(Tr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Tr.toJSON=v2;Tr.toString=t2;Tr.unix=h2;Tr.valueOf=f2;Tr.creationData=b2;Tr.eraName=k2;Tr.eraNarrow=M2;Tr.eraAbbr=A2;Tr.eraYear=S2;Tr.year=B1;Tr.isLeapYear=ny;Tr.weekYear=D2;Tr.isoWeekYear=R2;Tr.quarter=Tr.quarters=U2;Tr.month=H1;Tr.daysInMonth=py;Tr.week=Tr.weeks=_y;Tr.isoWeek=Tr.isoWeeks=wy;Tr.weeksInYear=B2;Tr.weeksInWeekYear=N2;Tr.isoWeeksInYear=z2;Tr.isoWeeksInISOWeekYear=F2;Tr.date=pg;Tr.day=Tr.days=Ry;Tr.weekday=zy;Tr.isoWeekday=Fy;Tr.dayOfYear=V2;Tr.hour=Tr.hours=Gy;Tr.minute=Tr.minutes=H2;Tr.second=Tr.seconds=G2;Tr.millisecond=Tr.milliseconds=dg;Tr.utcOffset=Ax;Tr.utc=Ex;Tr.local=Lx;Tr.parseZone=Cx;Tr.hasAlignedHourOffset=Ox;Tr.isDST=Px;Tr.isLocal=Dx;Tr.isUtcOffset=Rx;Tr.isUtc=ng;Tr.isUTC=ng;Tr.zoneAbbr=Y2;Tr.zoneName=W2;Tr.dates=tl("dates accessor is deprecated. Use date instead.",pg);Tr.months=tl("months accessor is deprecated. Use month instead",H1);Tr.years=tl("years accessor is deprecated. Use year instead",B1);Tr.zone=tl("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Sx);Tr.isDSTShifted=tl("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ix);function Z2(ge){return ga(ge*1e3)}function X2(){return ga.apply(null,arguments).parseZone()}function gg(ge){return ge}var Fi=jp.prototype;Fi.calendar=Dm;Fi.longDateFormat=Bm;Fi.invalidDate=jm;Fi.ordinal=Hm;Fi.preparse=gg;Fi.postformat=gg;Fi.relativeTime=qm;Fi.pastFuture=Ym;Fi.set=Pm;Fi.eras=_2;Fi.erasParse=w2;Fi.erasConvertYear=T2;Fi.erasAbbrRegex=L2;Fi.erasNameRegex=E2;Fi.erasNarrowRegex=C2;Fi.months=uy;Fi.monthsShort=cy;Fi.monthsParse=hy;Fi.monthsRegex=gy;Fi.monthsShortRegex=dy;Fi.week=my;Fi.firstDayOfYear=by;Fi.firstDayOfWeek=xy;Fi.weekdays=Cy;Fi.weekdaysMin=Py;Fi.weekdaysShort=Oy;Fi.weekdaysParse=Dy;Fi.weekdaysRegex=By;Fi.weekdaysShortRegex=Ny;Fi.weekdaysMinRegex=jy;Fi.isPM=Vy;Fi.meridiem=qy;function _h(ge,Le,Ve,Ge){var tt=fu(),q=Yl().set(Ge,Le);return tt[Ve](q,ge)}function vg(ge,Le,Ve){if(uu(ge)&&(Le=ge,ge=void 0),ge=ge||"",Le!=null)return _h(ge,Le,Ve,"month");var Ge,tt=[];for(Ge=0;Ge<12;Ge++)tt[Ge]=_h(ge,Ge,Ve,"month");return tt}function id(ge,Le,Ve,Ge){typeof ge=="boolean"?(uu(Le)&&(Ve=Le,Le=void 0),Le=Le||""):(Le=ge,Ve=Le,ge=!1,uu(Le)&&(Ve=Le,Le=void 0),Le=Le||"");var tt=fu(),q=ge?tt._week.dow:0,C,e=[];if(Ve!=null)return _h(Le,(Ve+q)%7,Ge,"day");for(C=0;C<7;C++)e[C]=_h(Le,(C+q)%7,Ge,"day");return e}function J2(ge,Le){return vg(ge,Le,"months")}function K2(ge,Le){return vg(ge,Le,"monthsShort")}function $2(ge,Le,Ve){return id(ge,Le,Ve,"weekdays")}function Q2(ge,Le,Ve){return id(ge,Le,Ve,"weekdaysShort")}function eb(ge,Le,Ve){return id(ge,Le,Ve,"weekdaysMin")}Eu("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(ge){var Le=ge%10,Ve=bi(ge%100/10)===1?"th":Le===1?"st":Le===2?"nd":Le===3?"rd":"th";return ge+Ve}});Dr.lang=tl("moment.lang is deprecated. Use moment.locale instead.",Eu);Dr.langData=tl("moment.langData is deprecated. Use moment.localeData instead.",fu);var ru=Math.abs;function tb(){var ge=this._data;return this._milliseconds=ru(this._milliseconds),this._days=ru(this._days),this._months=ru(this._months),ge.milliseconds=ru(ge.milliseconds),ge.seconds=ru(ge.seconds),ge.minutes=ru(ge.minutes),ge.hours=ru(ge.hours),ge.months=ru(ge.months),ge.years=ru(ge.years),this}function mg(ge,Le,Ve,Ge){var tt=Al(Le,Ve);return ge._milliseconds+=Ge*tt._milliseconds,ge._days+=Ge*tt._days,ge._months+=Ge*tt._months,ge._bubble()}function nb(ge,Le){return mg(this,ge,Le,1)}function rb(ge,Le){return mg(this,ge,Le,-1)}function K0(ge){return ge<0?Math.floor(ge):Math.ceil(ge)}function ib(){var ge=this._milliseconds,Le=this._days,Ve=this._months,Ge=this._data,tt,q,C,e,M;return ge>=0&&Le>=0&&Ve>=0||ge<=0&&Le<=0&&Ve<=0||(ge+=K0(Dp(Ve)+Le)*864e5,Le=0,Ve=0),Ge.milliseconds=ge%1e3,tt=Qs(ge/1e3),Ge.seconds=tt%60,q=Qs(tt/60),Ge.minutes=q%60,C=Qs(q/60),Ge.hours=C%24,Le+=Qs(C/24),M=Qs(yg(Le)),Ve+=M,Le-=K0(Dp(M)),e=Qs(Ve/12),Ve%=12,Ge.days=Le,Ge.months=Ve,Ge.years=e,this}function yg(ge){return ge*4800/146097}function Dp(ge){return ge*146097/4800}function ab(ge){if(!this.isValid())return NaN;var Le,Ve,Ge=this._milliseconds;if(ge=nl(ge),ge==="month"||ge==="quarter"||ge==="year")switch(Le=this._days+Ge/864e5,Ve=this._months+yg(Le),ge){case"month":return Ve;case"quarter":return Ve/3;case"year":return Ve/12}else switch(Le=this._days+Math.round(Dp(this._months)),ge){case"week":return Le/7+Ge/6048e5;case"day":return Le+Ge/864e5;case"hour":return Le*24+Ge/36e5;case"minute":return Le*1440+Ge/6e4;case"second":return Le*86400+Ge/1e3;case"millisecond":return Math.floor(Le*864e5)+Ge;default:throw new Error("Unknown unit "+ge)}}function hu(ge){return function(){return this.as(ge)}}var xg=hu("ms"),ob=hu("s"),sb=hu("m"),lb=hu("h"),ub=hu("d"),cb=hu("w"),fb=hu("M"),hb=hu("Q"),pb=hu("y"),db=xg;function gb(){return Al(this)}function vb(ge){return ge=nl(ge),this.isValid()?this[ge+"s"]():NaN}function Ku(ge){return function(){return this.isValid()?this._data[ge]:NaN}}var mb=Ku("milliseconds"),yb=Ku("seconds"),xb=Ku("minutes"),bb=Ku("hours"),_b=Ku("days"),wb=Ku("months"),Tb=Ku("years");function kb(){return Qs(this.days()/7)}var iu=Math.round,kc={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Mb(ge,Le,Ve,Ge,tt){return tt.relativeTime(Le||1,!!Ve,ge,Ge)}function Ab(ge,Le,Ve,Ge){var tt=Al(ge).abs(),q=iu(tt.as("s")),C=iu(tt.as("m")),e=iu(tt.as("h")),M=iu(tt.as("d")),k=iu(tt.as("M")),a=iu(tt.as("w")),_=iu(tt.as("y")),b=q<=Ve.ss&&["s",q]||q<Ve.s&&["ss",q]||C<=1&&["m"]||C<Ve.m&&["mm",C]||e<=1&&["h"]||e<Ve.h&&["hh",e]||M<=1&&["d"]||M<Ve.d&&["dd",M];return Ve.w!=null&&(b=b||a<=1&&["w"]||a<Ve.w&&["ww",a]),b=b||k<=1&&["M"]||k<Ve.M&&["MM",k]||_<=1&&["y"]||["yy",_],b[2]=Le,b[3]=+ge>0,b[4]=Ge,Mb.apply(null,b)}function Sb(ge){return ge===void 0?iu:typeof ge=="function"?(iu=ge,!0):!1}function Eb(ge,Le){return kc[ge]===void 0?!1:Le===void 0?kc[ge]:(kc[ge]=Le,ge==="s"&&(kc.ss=Le-1),!0)}function Lb(ge,Le){if(!this.isValid())return this.localeData().invalidDate();var Ve=!1,Ge=kc,tt,q;return typeof ge=="object"&&(Le=ge,ge=!1),typeof ge=="boolean"&&(Ve=ge),typeof Le=="object"&&(Ge=Object.assign({},kc,Le),Le.s!=null&&Le.ss==null&&(Ge.ss=Le.s-1)),tt=this.localeData(),q=Ab(this,!Ve,Ge,tt),Ve&&(q=tt.pastFuture(+this,q)),tt.postformat(q)}var Mp=Math.abs;function _c(ge){return(ge>0)-(ge<0)||+ge}function Ph(){if(!this.isValid())return this.localeData().invalidDate();var ge=Mp(this._milliseconds)/1e3,Le=Mp(this._days),Ve=Mp(this._months),Ge,tt,q,C,e=this.asSeconds(),M,k,a,_;return e?(Ge=Qs(ge/60),tt=Qs(Ge/60),ge%=60,Ge%=60,q=Qs(Ve/12),Ve%=12,C=ge?ge.toFixed(3).replace(/\.?0+$/,""):"",M=e<0?"-":"",k=_c(this._months)!==_c(e)?"-":"",a=_c(this._days)!==_c(e)?"-":"",_=_c(this._milliseconds)!==_c(e)?"-":"",M+"P"+(q?k+q+"Y":"")+(Ve?k+Ve+"M":"")+(Le?a+Le+"D":"")+(tt||Ge||ge?"T":"")+(tt?_+tt+"H":"")+(Ge?_+Ge+"M":"")+(ge?_+C+"S":"")):"P0D"}var Li=Ch.prototype;Li.isValid=wx;Li.abs=tb;Li.add=nb;Li.subtract=rb;Li.as=ab;Li.asMilliseconds=xg;Li.asSeconds=ob;Li.asMinutes=sb;Li.asHours=lb;Li.asDays=ub;Li.asWeeks=cb;Li.asMonths=fb;Li.asQuarters=hb;Li.asYears=pb;Li.valueOf=db;Li._bubble=ib;Li.clone=gb;Li.get=vb;Li.milliseconds=mb;Li.seconds=yb;Li.minutes=xb;Li.hours=bb;Li.days=_b;Li.weeks=kb;Li.months=wb;Li.years=Tb;Li.humanize=Lb;Li.toISOString=Ph;Li.toString=Ph;Li.toJSON=Ph;Li.locale=og;Li.localeData=lg;Li.toIsoString=tl("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ph);Li.lang=sg;Wr("X",0,0,"unix");Wr("x",0,0,"valueOf");Nr("x",Ah);Nr("X",Jm);ea("X",function(ge,Le,Ve){Ve._d=new Date(parseFloat(ge)*1e3)});ea("x",function(ge,Le,Ve){Ve._d=new Date(bi(ge))});//! moment.js
Dr.version="2.30.1";Cm(ga);Dr.fn=Tr;Dr.min=yx;Dr.max=xx;Dr.now=bx;Dr.utc=Yl;Dr.unix=Z2;Dr.months=J2;Dr.isDate=yf;Dr.locale=Eu;Dr.invalid=wh;Dr.duration=Al;Dr.isMoment=Ml;Dr.weekdays=$2;Dr.parseZone=X2;Dr.localeData=fu;Dr.isDuration=ph;Dr.monthsShort=K2;Dr.weekdaysMin=eb;Dr.defineLocale=Jp;Dr.updateLocale=Xy;Dr.locales=Jy;Dr.weekdaysShort=Q2;Dr.normalizeUnits=nl;Dr.relativeTimeRounding=Sb;Dr.relativeTimeThreshold=Eb;Dr.calendarFormat=qx;Dr.prototype=Tr;Dr.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Cb=Object.freeze(Object.defineProperty({__proto__:null,default:Dr},Symbol.toStringTag,{value:"Module"}));var Ob=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pb(ge){return ge&&ge.__esModule&&Object.prototype.hasOwnProperty.call(ge,"default")?ge.default:ge}function Ib(ge){if(ge.__esModule)return ge;var Le=ge.default;if(typeof Le=="function"){var Ve=function Ge(){return this instanceof Ge?Reflect.construct(Le,arguments,this.constructor):Le.apply(this,arguments)};Ve.prototype=Le.prototype}else Ve={};return Object.defineProperty(Ve,"__esModule",{value:!0}),Object.keys(ge).forEach(function(Ge){var tt=Object.getOwnPropertyDescriptor(ge,Ge);Object.defineProperty(Ve,Ge,tt.get?tt:{enumerable:!0,get:function(){return ge[Ge]}})}),Ve}var bg={exports:{}};const Db=Ib(Cb);(function(ge,Le){(function(Ve,Ge){ge.exports=Ge(Db)})(Ob,function(Ve){return function(Ge){function tt(C){if(q[C])return q[C].exports;var e=q[C]={i:C,l:!1,exports:{}};return Ge[C].call(e.exports,e,e.exports,tt),e.l=!0,e.exports}var q={};return tt.m=Ge,tt.c=q,tt.i=function(C){return C},tt.d=function(C,e,M){tt.o(C,e)||Object.defineProperty(C,e,{configurable:!1,enumerable:!0,get:M})},tt.n=function(C){var e=C&&C.__esModule?function(){return C.default}:function(){return C};return tt.d(e,"a",e),e},tt.o=function(C,e){return Object.prototype.hasOwnProperty.call(C,e)},tt.p="",tt(tt.s=3)}([function(Ge,tt,q){var C=q(5)();Ge.exports=function(e){return e!==C&&e!==null}},function(Ge,tt,q){Ge.exports=q(18)()?Symbol:q(20)},function(Ge,tt){Ge.exports=Ve},function(Ge,tt,q){function C(s){return s&&s.__esModule?s:{default:s}}function e(s,u,p){return u in s?Object.defineProperty(s,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[u]=p,s}function M(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")}function k(s){return s.range=function(u,p){var c=this;return typeof u=="string"&&r.hasOwnProperty(u)?new l(s(c).startOf(u),s(c).endOf(u)):new l(u,p)},s.rangeFromInterval=function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s();if(s.isMoment(c)||(c=s(c)),!c.isValid())throw new Error("Invalid date.");var x=c.clone().add(p,u),g=[];return g.push(s.min(c,x)),g.push(s.max(c,x)),new l(g)},s.rangeFromISOString=function(u){var p=a(u),c=s.parseZone(p[0]),x=s.parseZone(p[1]);return new l(c,x)},s.parseZoneRange=s.rangeFromISOString,s.fn.range=s.range,s.range.constructor=l,s.isRange=function(u){return u instanceof l},s.fn.within=function(u){return u.contains(this.toDate())},s}function a(s){return s.split("/")}Object.defineProperty(tt,"__esModule",{value:!0}),tt.DateRange=void 0;var _=function(){function s(u,p){var c=[],x=!0,g=!1,d=void 0;try{for(var v,y=u[Symbol.iterator]();!(x=(v=y.next()).done)&&(c.push(v.value),!p||c.length!==p);x=!0);}catch(m){g=!0,d=m}finally{try{!x&&y.return&&y.return()}finally{if(g)throw d}}return c}return function(u,p){if(Array.isArray(u))return u;if(Symbol.iterator in Object(u))return s(u,p);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},h=function(){function s(u,p){for(var c=0;c<p.length;c++){var x=p[c];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(u,x.key,x)}}return function(u,p,c){return p&&s(u.prototype,p),c&&s(u,c),u}}();tt.extendMoment=k;var o=q(2),t=C(o),i=q(1),n=C(i),r={year:!0,quarter:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0},l=tt.DateRange=function(){function s(u,p){M(this,s);var c=u,x=p;if(arguments.length===1||p===void 0){if((u===void 0?"undefined":b(u))==="object"&&u.length===2){var g=_(u,2);c=g[0],x=g[1]}else if(typeof u=="string"){var d=a(u),v=_(d,2);c=v[0],x=v[1]}}this.start=c||c===0?(0,t.default)(c):(0,t.default)(-864e13),this.end=x||x===0?(0,t.default)(x):(0,t.default)(864e13)}return h(s,[{key:"adjacent",value:function(u){var p=this.start.isSame(u.end),c=this.end.isSame(u.start);return p&&u.start.valueOf()<=this.start.valueOf()||c&&u.end.valueOf()>=this.end.valueOf()}},{key:"add",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{adjacent:!1};return this.overlaps(u,p)?new this.constructor(t.default.min(this.start,u.start),t.default.max(this.end,u.end)):null}},{key:"by",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{excludeEnd:!1,step:1},c=this;return e({},n.default.iterator,function(){var x=p.step||1,g=Math.abs(c.start.diff(c.end,u))/x,d=p.excludeEnd||!1,v=0;return p.hasOwnProperty("exclusive")&&(d=p.exclusive),{next:function(){var y=c.start.clone().add(v*x,u),m=d?!(v<g):!(v<=g);return v++,{done:m,value:m?void 0:y}}}})}},{key:"byRange",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{excludeEnd:!1,step:1},c=this,x=p.step||1,g=this.valueOf()/u.valueOf()/x,d=Math.floor(g),v=p.excludeEnd||!1,y=0;return p.hasOwnProperty("exclusive")&&(v=p.exclusive),e({},n.default.iterator,function(){return d===1/0?{done:!0}:{next:function(){var m=(0,t.default)(c.start.valueOf()+u.valueOf()*y*x),w=d===g&&v?!(y<d):!(y<=d);return y++,{done:w,value:w?void 0:m}}}})}},{key:"center",value:function(){var u=this.start.valueOf()+this.diff()/2;return(0,t.default)(u)}},{key:"clone",value:function(){return new this.constructor(this.start.clone(),this.end.clone())}},{key:"contains",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{excludeStart:!1,excludeEnd:!1},c=this.start.valueOf(),x=this.end.valueOf(),g=u.valueOf(),d=u.valueOf(),v=p.excludeStart||!1,y=p.excludeEnd||!1;p.hasOwnProperty("exclusive")&&(v=y=p.exclusive),u instanceof s&&(g=u.start.valueOf(),d=u.end.valueOf());var m=c<g||c<=g&&!v,w=x>d||x>=d&&!y;return m&&w}},{key:"diff",value:function(u,p){return this.end.diff(this.start,u,p)}},{key:"duration",value:function(u,p){return this.diff(u,p)}},{key:"intersect",value:function(u){var p=this.start.valueOf(),c=this.end.valueOf(),x=u.start.valueOf(),g=u.end.valueOf(),d=p==c,v=x==g;if(d){var y=p;if(y==x||y==g)return null;if(y>x&&y<g)return this.clone()}else if(v){var m=x;if(m==p||m==c)return null;if(m>p&&m<c)return new this.constructor(m,m)}return p<=x&&x<c&&c<g?new this.constructor(x,c):x<p&&p<g&&g<=c?new this.constructor(p,g):x<p&&p<=c&&c<g?this.clone():p<=x&&x<=g&&g<=c?new this.constructor(x,g):null}},{key:"isEqual",value:function(u){return this.start.isSame(u.start)&&this.end.isSame(u.end)}},{key:"isSame",value:function(u){return this.isEqual(u)}},{key:"overlaps",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{adjacent:!1},c=this.intersect(u)!==null;return p.adjacent&&!c?this.adjacent(u):c}},{key:"reverseBy",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{excludeStart:!1,step:1},c=this;return e({},n.default.iterator,function(){var x=p.step||1,g=Math.abs(c.start.diff(c.end,u))/x,d=p.excludeStart||!1,v=0;return p.hasOwnProperty("exclusive")&&(d=p.exclusive),{next:function(){var y=c.end.clone().subtract(v*x,u),m=d?!(v<g):!(v<=g);return v++,{done:m,value:m?void 0:y}}}})}},{key:"reverseByRange",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{excludeStart:!1,step:1},c=this,x=p.step||1,g=this.valueOf()/u.valueOf()/x,d=Math.floor(g),v=p.excludeStart||!1,y=0;return p.hasOwnProperty("exclusive")&&(v=p.exclusive),e({},n.default.iterator,function(){return d===1/0?{done:!0}:{next:function(){var m=(0,t.default)(c.end.valueOf()-u.valueOf()*y*x),w=d===g&&v?!(y<d):!(y<=d);return y++,{done:w,value:w?void 0:m}}}})}},{key:"snapTo",value:function(u){var p=this.clone();return p.start.isSame((0,t.default)(-864e13))||(p.start=p.start.startOf(u)),p.end.isSame((0,t.default)(864e13))||(p.end=p.end.endOf(u)),p}},{key:"subtract",value:function(u){var p=this.start.valueOf(),c=this.end.valueOf(),x=u.start.valueOf(),g=u.end.valueOf();return this.intersect(u)===null?[this]:x<=p&&p<c&&c<=g?[]:x<=p&&p<g&&g<c?[new this.constructor(g,c)]:p<x&&x<c&&c<=g?[new this.constructor(p,x)]:p<x&&x<g&&g<c?[new this.constructor(p,x),new this.constructor(g,c)]:p<x&&x<c&&g<c?[new this.constructor(p,x),new this.constructor(x,c)]:[]}},{key:"toDate",value:function(){return[this.start.toDate(),this.end.toDate()]}},{key:"toString",value:function(){return this.start.format()+"/"+this.end.format()}},{key:"valueOf",value:function(){return this.end.valueOf()-this.start.valueOf()}}]),s}()},function(Ge,tt,q){var C,e=q(6),M=q(13),k=q(9),a=q(15);C=Ge.exports=function(_,b){var h,o,t,i,n;return arguments.length<2||typeof _!="string"?(i=b,b=_,_=null):i=arguments[2],_==null?(h=t=!0,o=!1):(h=a.call(_,"c"),o=a.call(_,"e"),t=a.call(_,"w")),n={value:b,configurable:h,enumerable:o,writable:t},i?e(M(i),n):n},C.gs=function(_,b,h){var o,t,i,n;return typeof _!="string"?(i=h,h=b,b=_,_=null):i=arguments[3],b==null?b=void 0:k(b)?h==null?h=void 0:k(h)||(i=h,h=void 0):(i=b,b=h=void 0),_==null?(o=!0,t=!1):(o=a.call(_,"c"),t=a.call(_,"e")),n={get:b,set:h,configurable:o,enumerable:t},i?e(M(i),n):n}},function(Ge,tt,q){Ge.exports=function(){}},function(Ge,tt,q){Ge.exports=q(7)()?Object.assign:q(8)},function(Ge,tt,q){Ge.exports=function(){var C,e=Object.assign;return typeof e=="function"&&(C={foo:"raz"},e(C,{bar:"dwa"},{trzy:"trzy"}),C.foo+C.bar+C.trzy==="razdwatrzy")}},function(Ge,tt,q){var C=q(10),e=q(14),M=Math.max;Ge.exports=function(k,a){var _,b,h,o=M(arguments.length,2);for(k=Object(e(k)),h=function(t){try{k[t]=a[t]}catch(i){_||(_=i)}},b=1;b<o;++b)a=arguments[b],C(a).forEach(h);if(_!==void 0)throw _;return k}},function(Ge,tt,q){Ge.exports=function(C){return typeof C=="function"}},function(Ge,tt,q){Ge.exports=q(11)()?Object.keys:q(12)},function(Ge,tt,q){Ge.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},function(Ge,tt,q){var C=q(0),e=Object.keys;Ge.exports=function(M){return e(C(M)?Object(M):M)}},function(Ge,tt,q){var C=q(0),e=Array.prototype.forEach,M=Object.create,k=function(a,_){var b;for(b in a)_[b]=a[b]};Ge.exports=function(a){var _=M(null);return e.call(arguments,function(b){C(b)&&k(Object(b),_)}),_}},function(Ge,tt,q){var C=q(0);Ge.exports=function(e){if(!C(e))throw new TypeError("Cannot use null or undefined");return e}},function(Ge,tt,q){Ge.exports=q(16)()?String.prototype.contains:q(17)},function(Ge,tt,q){var C="razdwatrzy";Ge.exports=function(){return typeof C.contains=="function"&&C.contains("dwa")===!0&&C.contains("foo")===!1}},function(Ge,tt,q){var C=String.prototype.indexOf;Ge.exports=function(e){return C.call(this,e,arguments[1])>-1}},function(Ge,tt,q){var C={object:!0,symbol:!0};Ge.exports=function(){var e;if(typeof Symbol!="function")return!1;e=Symbol("test symbol");try{String(e)}catch{return!1}return!!C[typeof Symbol.iterator]&&!!C[typeof Symbol.toPrimitive]&&!!C[typeof Symbol.toStringTag]}},function(Ge,tt,q){Ge.exports=function(C){return!!C&&(typeof C=="symbol"||!!C.constructor&&C.constructor.name==="Symbol"&&C[C.constructor.toStringTag]==="Symbol")}},function(Ge,tt,q){var C,e,M,k,a=q(4),_=q(21),b=Object.create,h=Object.defineProperties,o=Object.defineProperty,t=Object.prototype,i=b(null);if(typeof Symbol=="function"){C=Symbol;try{String(C()),k=!0}catch{}}var n=function(){var r=b(null);return function(l){for(var s,u,p=0;r[l+(p||"")];)++p;return l+=p||"",r[l]=!0,s="@@"+l,o(t,s,a.gs(null,function(c){u||(u=!0,o(this,s,a(c)),u=!1)})),s}}();M=function(r){if(this instanceof M)throw new TypeError("Symbol is not a constructor");return e(r)},Ge.exports=e=function r(l){var s;if(this instanceof r)throw new TypeError("Symbol is not a constructor");return k?C(l):(s=b(M.prototype),l=l===void 0?"":String(l),h(s,{__description__:a("",l),__name__:a("",n(l))}))},h(e,{for:a(function(r){return i[r]?i[r]:i[r]=e(String(r))}),keyFor:a(function(r){var l;_(r);for(l in i)if(i[l]===r)return l}),hasInstance:a("",C&&C.hasInstance||e("hasInstance")),isConcatSpreadable:a("",C&&C.isConcatSpreadable||e("isConcatSpreadable")),iterator:a("",C&&C.iterator||e("iterator")),match:a("",C&&C.match||e("match")),replace:a("",C&&C.replace||e("replace")),search:a("",C&&C.search||e("search")),species:a("",C&&C.species||e("species")),split:a("",C&&C.split||e("split")),toPrimitive:a("",C&&C.toPrimitive||e("toPrimitive")),toStringTag:a("",C&&C.toStringTag||e("toStringTag")),unscopables:a("",C&&C.unscopables||e("unscopables"))}),h(M.prototype,{constructor:a(e),toString:a("",function(){return this.__name__})}),h(e.prototype,{toString:a(function(){return"Symbol ("+_(this).__description__+")"}),valueOf:a(function(){return _(this)})}),o(e.prototype,e.toPrimitive,a("",function(){var r=_(this);return typeof r=="symbol"?r:r.toString()})),o(e.prototype,e.toStringTag,a("c","Symbol")),o(M.prototype,e.toStringTag,a("c",e.prototype[e.toStringTag])),o(M.prototype,e.toPrimitive,a("c",e.prototype[e.toPrimitive]))},function(Ge,tt,q){var C=q(19);Ge.exports=function(e){if(!C(e))throw new TypeError(e+" is not a symbol");return e}}])})})(bg);var _g=bg.exports;function $0(ge,Le,Ve){const Ge=ge.slice();return Ge[8]=Le[Ve],Ge}function Q0(ge,Le,Ve){const Ge=ge.slice();return Ge[11]=Le[Ve],Ge[13]=Ve,Ge}function e1(ge){let Le,Ve,Ge,tt,q=ge[3][0].toLocaleString()+"",C,e,M,k=ge[3][ge[3].length-1].toLocaleString()+"",a,_=Ya(ge[0].slice(0,10)),b=[];for(let h=0;h<_.length;h+=1)b[h]=n1($0(ge,_,h));return{c(){Le=Ur("div");for(let h=0;h<b.length;h+=1)b[h].c();Ve=hi(),Ge=Ur("div"),tt=Ur("div"),C=xi(q),e=hi(),M=Ur("div"),a=xi(k),Fr(Le,"class","freq-graph svelte-1mjf5ze"),Fr(tt,"class","time svelte-1mjf5ze"),Fr(M,"class","time max-time svelte-1mjf5ze"),Fr(Ge,"class","time-range svelte-1mjf5ze")},m(h,o){ei(h,Le,o);for(let t=0;t<b.length;t+=1)b[t]&&b[t].m(Le,null);ei(h,Ve,o),ei(h,Ge,o),xr(Ge,tt),xr(tt,C),xr(Ge,e),xr(Ge,M),xr(M,a)},p(h,o){if(o&15){_=Ya(h[0].slice(0,10));let t;for(t=0;t<_.length;t+=1){const i=$0(h,_,t);b[t]?b[t].p(i,o):(b[t]=n1(i),b[t].c(),b[t].m(Le,null))}for(;t<b.length;t+=1)b[t].d(1);b.length=_.length}o&8&&q!==(q=h[3][0].toLocaleString()+"")&&Qi(C,q),o&8&&k!==(k=h[3][h[3].length-1].toLocaleString()+"")&&Qi(a,k)},d(h){h&&($r(Le),$r(Ve),$r(Ge)),ql(b,h)}}}function t1(ge){let Le,Ve,Ge;return{c(){Le=Ur("div"),Fr(Le,"class","day svelte-1mjf5ze"),Fr(Le,"title",Ve=`${ge[11].toLocaleString()}
${ge[1][ge[8].value][ge[13]]} occurances`),Fr(Le,"style",Ge=ge[1][ge[8].value][ge[13]]==0?"background: #101010":`opacity: ${ge[1][ge[8].value][ge[13]]/ge[2][ge[8].value]*100}%`)},m(tt,q){ei(tt,Le,q)},p(tt,q){q&11&&Ve!==(Ve=`${tt[11].toLocaleString()}
${tt[1][tt[8].value][tt[13]]} occurances`)&&Fr(Le,"title",Ve),q&7&&Ge!==(Ge=tt[1][tt[8].value][tt[13]]==0?"background: #101010":`opacity: ${tt[1][tt[8].value][tt[13]]/tt[2][tt[8].value]*100}%`)&&Fr(Le,"style",Ge)},d(tt){tt&&$r(Le)}}}function n1(ge){let Le,Ve=ge[8].value+"",Ge,tt,q,C,e=Ya(ge[3]),M=[];for(let k=0;k<e.length;k+=1)M[k]=t1(Q0(ge,e,k));return{c(){Le=Ur("div"),Ge=xi(Ve),tt=hi(),q=Ur("div");for(let k=0;k<M.length;k+=1)M[k].c();C=hi(),Fr(Le,"class","value-name svelte-1mjf5ze"),Fr(q,"class","days svelte-1mjf5ze")},m(k,a){ei(k,Le,a),xr(Le,Ge),ei(k,tt,a),ei(k,q,a);for(let _=0;_<M.length;_+=1)M[_]&&M[_].m(q,null);xr(q,C)},p(k,a){if(a&1&&Ve!==(Ve=k[8].value+"")&&Qi(Ge,Ve),a&15){e=Ya(k[3]);let _;for(_=0;_<e.length;_+=1){const b=Q0(k,e,_);M[_]?M[_].p(b,a):(M[_]=t1(b),M[_].c(),M[_].m(q,C))}for(;_<M.length;_+=1)M[_].d(1);M.length=e.length}},d(k){k&&($r(Le),$r(tt),$r(q)),ql(M,k)}}}function Rb(ge){let Le,Ve=ge[2]!=null&&e1(ge);return{c(){Ve&&Ve.c(),Le=Lu()},m(Ge,tt){Ve&&Ve.m(Ge,tt),ei(Ge,Le,tt)},p(Ge,[tt]){Ge[2]!=null?Ve?Ve.p(Ge,tt):(Ve=e1(Ge),Ve.c(),Ve.m(Le.parentNode,Le)):Ve&&(Ve.d(1),Ve=null)},i:ra,o:ra,d(Ge){Ge&&$r(Le),Ve&&Ve.d(Ge)}}}function zb(ge,Le,Ve,Ge){if(Ve===null)return{};const tt=Ge.map(C=>new Date(C).getTime()),q={};for(let C=0;C<ge.extraction.length;C++){const e=ge.extraction[C].params;if(!(Le in e))continue;const M=new Date(e[Ve].value).getTime(),k={index:-1,diff:Number.MAX_VALUE};for(let _=0;_<tt.length;_++){const b=Math.abs(tt[_]-M);if(b<k.diff)k.index=_,k.diff=b;else break}const a=e[Le].value;q[a]||(q[a]=Array(Ge.length).fill(0)),q[a][k.index]+=1}return q}function Fb(ge){const Le=[];for(let[Ve,Ge]of Object.entries(ge)){const tt=Ge.reduce((q,C)=>q+C,0);Le.push({value:Ve,total:tt})}return Le.sort((Ve,Ge)=>Ge.total-Ve.total),Le}function Bb(ge){const Le={};for(const Ve in ge)Le[Ve]=Math.max(...ge[Ve]);return Le}function Nb(ge,Le){if(Le===null)return[null,null];let Ve=new Date(-864e13),Ge=new Date(864e13);for(let tt=0;tt<ge.extraction.length;tt++){const q=ge.extraction[tt].params;if(!(Le in q))continue;const C=new Date(q[Le].value);C>Ve&&(Ve=C),C<Ge&&(Ge=C)}return[Ge,Ve]}function jb(ge,Le,Ve){const Ge=_g.extendMoment(Dr);let tt,q,C,e;cu(()=>{const[_,b]=Nb(M,a);if(_===null||b===null)return;const h=Ge.range(_,b);Ve(3,e=Array.from(h.by("minutes",{step:50}))),Ve(1,q=zb(M,k,a,e)),Ve(0,tt=Fb(q)),Ve(2,C=Bb(q))});let{data:M,token:k,timestampToken:a}=Le;return ge.$$set=_=>{"data"in _&&Ve(4,M=_.data),"token"in _&&Ve(5,k=_.token),"timestampToken"in _&&Ve(6,a=_.timestampToken)},[tt,q,C,e,M,k,a]}class Ub extends Rs{constructor(Le){super(),Ds(this,Le,jb,Rb,Is,{data:4,token:5,timestampToken:6})}}function r1(ge){let Le,Ve,Ge,tt=ge[0].lq.toLocaleString()+"",q,C,e,M,k,a,_=ge[0].median.toLocaleString()+"",b,h,o,t,i,n,r=ge[0].uq.toLocaleString()+"",l,s,u,p,c,x,g=ge[0].p95.toLocaleString()+"",d,v,y,m,w,f,S=ge[0].p99.toLocaleString()+"",T,E,O;return{c(){Le=Ur("div"),Ve=Ur("div"),Ge=Ur("div"),q=xi(tt),C=hi(),e=Ur("div"),e.textContent="LQ",M=hi(),k=Ur("div"),a=Ur("div"),b=xi(_),h=hi(),o=Ur("div"),o.textContent="Median",t=hi(),i=Ur("div"),n=Ur("div"),l=xi(r),s=hi(),u=Ur("div"),u.textContent="UQ",p=hi(),c=Ur("div"),x=Ur("div"),d=xi(g),v=hi(),y=Ur("div"),y.textContent="p95",m=hi(),w=Ur("div"),f=Ur("div"),T=xi(S),E=hi(),O=Ur("div"),O.textContent="p99",Fr(Ge,"class","value svelte-17mz8c8"),Fr(e,"class","label svelte-17mz8c8"),Fr(Ve,"class","statistic svelte-17mz8c8"),Fr(a,"class","value svelte-17mz8c8"),Fr(o,"class","label svelte-17mz8c8"),Fr(k,"class","statistic svelte-17mz8c8"),Fr(n,"class","value svelte-17mz8c8"),Fr(u,"class","label svelte-17mz8c8"),Fr(i,"class","statistic svelte-17mz8c8"),Fr(x,"class","value svelte-17mz8c8"),Fr(y,"class","label svelte-17mz8c8"),Fr(c,"class","statistic svelte-17mz8c8"),Fr(f,"class","value svelte-17mz8c8"),Fr(O,"class","label svelte-17mz8c8"),Fr(w,"class","statistic svelte-17mz8c8"),Fr(Le,"class","container svelte-17mz8c8")},m(P,I){ei(P,Le,I),xr(Le,Ve),xr(Ve,Ge),xr(Ge,q),xr(Ve,C),xr(Ve,e),xr(Le,M),xr(Le,k),xr(k,a),xr(a,b),xr(k,h),xr(k,o),xr(Le,t),xr(Le,i),xr(i,n),xr(n,l),xr(i,s),xr(i,u),xr(Le,p),xr(Le,c),xr(c,x),xr(x,d),xr(c,v),xr(c,y),xr(Le,m),xr(Le,w),xr(w,f),xr(f,T),xr(w,E),xr(w,O)},p(P,I){I&1&&tt!==(tt=P[0].lq.toLocaleString()+"")&&Qi(q,tt),I&1&&_!==(_=P[0].median.toLocaleString()+"")&&Qi(b,_),I&1&&r!==(r=P[0].uq.toLocaleString()+"")&&Qi(l,r),I&1&&g!==(g=P[0].p95.toLocaleString()+"")&&Qi(d,g),I&1&&S!==(S=P[0].p99.toLocaleString()+"")&&Qi(T,S)},d(P){P&&$r(Le)}}}function Vb(ge){let Le,Ve=ge[0]&&r1(ge);return{c(){Ve&&Ve.c(),Le=Lu()},m(Ge,tt){Ve&&Ve.m(Ge,tt),ei(Ge,Le,tt)},p(Ge,[tt]){Ge[0]?Ve?Ve.p(Ge,tt):(Ve=r1(Ge),Ve.c(),Ve.m(Le.parentNode,Le)):Ve&&(Ve.d(1),Ve=null)},i:ra,o:ra,d(Ge){Ge&&$r(Le),Ve&&Ve.d(Ge)}}}function Hb(ge){return ge.sort((Le,Ve)=>Le-Ve)}function ch(ge,Le){const Ve=Hb(ge),Ge=(Ve.length-1)*Le,tt=Math.floor(Ge),q=Ge-tt;return Ve[tt+1]!==void 0?Ve[tt]+q*(Ve[tt+1]-Ve[tt]):Ve[tt]!==void 0?Ve[tt]:0}function Gb(ge,Le){const Ve=[];for(let Ge=0;Ge<ge.extraction.length;Ge++){if(!(Le in ge.extraction[Ge].params))continue;const tt=ge.extraction[Ge].params[Le].value;typeof tt=="number"&&Ve.push(tt)}return Ve}function qb(ge,Le,Ve){let Ge;cu(()=>{const C=Gb(tt,q);C.sort(),C.length!=0&&Ve(0,Ge={median:C[Math.floor(C.length/2)],lq:ch(C,.25),uq:ch(C,.75),p95:ch(C,.95),p99:ch(C,.99)})});let{data:tt,token:q}=Le;return ge.$$set=C=>{"data"in C&&Ve(1,tt=C.data),"token"in C&&Ve(2,q=C.token)},[Ge,tt,q]}class Yb extends Rs{constructor(Le){super(),Ds(this,Le,qb,Vb,Is,{data:1,token:2})}}var wg={exports:{}};(function(ge,Le){/*! For license information please see plotly.min.js.LICENSE.txt */(function(Ve,Ge){ge.exports=Ge()})(self,function(){return function(){var Ve={98847:function(q,C,e){var M=e(71828),k={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in k){var _=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");M.addStyleRule(_,k[a])}},98222:function(q,C,e){q.exports=e(82887)},27206:function(q,C,e){q.exports=e(60822)},59893:function(q,C,e){q.exports=e(23381)},5224:function(q,C,e){q.exports=e(83832)},59509:function(q,C,e){q.exports=e(72201)},75557:function(q,C,e){q.exports=e(91815)},40338:function(q,C,e){q.exports=e(21462)},35080:function(q,C,e){q.exports=e(51319)},61396:function(q,C,e){q.exports=e(57516)},40549:function(q,C,e){q.exports=e(98128)},49866:function(q,C,e){q.exports=e(99442)},36089:function(q,C,e){q.exports=e(93740)},19548:function(q,C,e){q.exports=e(8729)},35831:function(q,C,e){q.exports=e(93814)},61039:function(q,C,e){q.exports=e(14382)},97040:function(q,C,e){q.exports=e(51759)},77986:function(q,C,e){q.exports=e(10421)},24296:function(q,C,e){q.exports=e(43102)},58872:function(q,C,e){q.exports=e(92165)},29626:function(q,C,e){q.exports=e(3325)},65591:function(q,C,e){q.exports=e(36071)},69738:function(q,C,e){q.exports=e(43905)},92650:function(q,C,e){q.exports=e(35902)},35630:function(q,C,e){q.exports=e(69816)},73434:function(q,C,e){q.exports=e(94507)},27909:function(q,C,e){var M=e(19548);M.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),q.exports=M},46163:function(q,C,e){q.exports=e(15154)},96881:function(q,C,e){q.exports=e(64943)},50581:function(q,C,e){q.exports=e(21164)},55334:function(q,C,e){q.exports=e(54186)},65317:function(q,C,e){q.exports=e(94873)},10021:function(q,C,e){q.exports=e(67618)},54201:function(q,C,e){q.exports=e(58810)},5861:function(q,C,e){q.exports=e(20593)},16122:function(q,C,e){q.exports=e(29396)},83043:function(q,C,e){q.exports=e(13551)},48131:function(q,C,e){q.exports=e(46858)},47582:function(q,C,e){q.exports=e(17988)},21641:function(q,C,e){q.exports=e(68868)},96268:function(q,C,e){q.exports=e(20467)},19440:function(q,C,e){q.exports=e(91271)},99488:function(q,C,e){q.exports=e(21461)},97393:function(q,C,e){q.exports=e(85956)},25743:function(q,C,e){q.exports=e(52979)},66398:function(q,C,e){q.exports=e(32275)},17280:function(q,C,e){q.exports=e(6419)},77900:function(q,C,e){q.exports=e(61510)},81299:function(q,C,e){q.exports=e(87619)},93005:function(q,C,e){q.exports=e(93601)},40344:function(q,C,e){q.exports=e(96595)},47645:function(q,C,e){q.exports=e(70954)},6197:function(q,C,e){q.exports=e(47462)},4534:function(q,C,e){q.exports=e(17659)},85461:function(q,C,e){q.exports=e(19990)},82884:function(q){q.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(q,C,e){var M=e(82884),k=e(41940),a=e(85555),_=e(44467).templatedArray;e(24695),q.exports=_("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:k({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:M.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:M.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:k({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(q,C,e){var M=e(71828),k=e(89298),a=e(92605).draw;function _(h){var o=h._fullLayout;M.filterVisible(o.annotations).forEach(function(t){var i=k.getFromId(h,t.xref),n=k.getFromId(h,t.yref),r=k.getRefType(t.xref),l=k.getRefType(t.yref);t._extremes={},r==="range"&&b(t,i),l==="range"&&b(t,n)})}function b(h,o){var t,i=o._id,n=i.charAt(0),r=h[n],l=h["a"+n],s=h[n+"ref"],u=h["a"+n+"ref"],p=h["_"+n+"padplus"],c=h["_"+n+"padminus"],x={x:1,y:-1}[n]*h[n+"shift"],g=3*h.arrowsize*h.arrowwidth||0,d=g+x,v=g-x,y=3*h.startarrowsize*h.arrowwidth||0,m=y+x,w=y-x;if(u===s){var f=k.findExtremes(o,[o.r2c(r)],{ppadplus:d,ppadminus:v}),S=k.findExtremes(o,[o.r2c(l)],{ppadplus:Math.max(p,m),ppadminus:Math.max(c,w)});t={min:[f.min[0],S.min[0]],max:[f.max[0],S.max[0]]}}else m=l?m+l:m,w=l?w-l:w,t=k.findExtremes(o,[o.r2c(r)],{ppadplus:Math.max(p,d,m),ppadminus:Math.max(c,v,w)});h._extremes[i]=t}q.exports=function(h){var o=h._fullLayout;if(M.filterVisible(o.annotations).length&&h._fullData.length)return M.syncOrAsync([a,_],h)}},44317:function(q,C,e){var M=e(71828),k=e(73972),a=e(44467).arrayEditor;function _(h,o){var t,i,n,r,l,s,u,p=h._fullLayout.annotations,c=[],x=[],g=[],d=(o||[]).length;for(t=0;t<p.length;t++)if(r=(n=p[t]).clicktoshow){for(i=0;i<d;i++)if(s=(l=o[i]).xaxis,u=l.yaxis,s._id===n.xref&&u._id===n.yref&&s.d2r(l.x)===b(n._xclick,s)&&u.d2r(l.y)===b(n._yclick,u)){(n.visible?r==="onout"?x:g:c).push(t);break}i===d&&n.visible&&r==="onout"&&x.push(t)}return{on:c,off:x,explicitOff:g}}function b(h,o){return o.type==="log"?o.l2r(h):o.d2r(h)}q.exports={hasClickToShow:function(h,o){var t=_(h,o);return t.on.length>0||t.explicitOff.length>0},onClick:function(h,o){var t,i,n=_(h,o),r=n.on,l=n.off.concat(n.explicitOff),s={},u=h._fullLayout.annotations;if(r.length||l.length){for(t=0;t<r.length;t++)(i=a(h.layout,"annotations",u[r[t]])).modifyItem("visible",!0),M.extendFlat(s,i.getUpdateObj());for(t=0;t<l.length;t++)(i=a(h.layout,"annotations",u[l[t]])).modifyItem("visible",!1),M.extendFlat(s,i.getUpdateObj());return k.call("update",h,{},s)}}}},25625:function(q,C,e){var M=e(71828),k=e(7901);q.exports=function(a,_,b,h){h("opacity");var o=h("bgcolor"),t=h("bordercolor"),i=k.opacity(t);h("borderpad");var n=h("borderwidth"),r=h("showarrow");if(h("text",r?" ":b._dfltTitle.annotation),h("textangle"),M.coerceFont(h,"font",b.font),h("width"),h("align"),h("height")&&h("valign"),r){var l,s,u=h("arrowside");u.indexOf("end")!==-1&&(l=h("arrowhead"),s=h("arrowsize")),u.indexOf("start")!==-1&&(h("startarrowhead",l),h("startarrowsize",s)),h("arrowcolor",i?_.bordercolor:k.defaultLine),h("arrowwidth",2*(i&&n||1)),h("standoff"),h("startstandoff")}var p=h("hovertext"),c=b.hoverlabel||{};if(p){var x=h("hoverlabel.bgcolor",c.bgcolor||(k.opacity(o)?k.rgb(o):k.defaultLine)),g=h("hoverlabel.bordercolor",c.bordercolor||k.contrast(x));M.coerceFont(h,"hoverlabel.font",{family:c.font.family,size:c.font.size,color:c.font.color||g})}h("captureevents",!!p)}},94128:function(q,C,e){var M=e(92770),k=e(58163);q.exports=function(a,_,b,h){_=_||{};var o=b==="log"&&_.type==="linear",t=b==="linear"&&_.type==="log";if(o||t)for(var i,n,r=a._fullLayout.annotations,l=_._id.charAt(0),s=0;s<r.length;s++)i=r[s],n="annotations["+s+"].",i[l+"ref"]===_._id&&u(l),i["a"+l+"ref"]===_._id&&u("a"+l);function u(p){var c=i[p],x=null;x=o?k(c,_.range):Math.pow(10,c),M(x)||(x=null),h(n+p,x)}}},84046:function(q,C,e){var M=e(71828),k=e(89298),a=e(85501),_=e(25625),b=e(50215);function h(o,t,i){function n(S,T){return M.coerce(o,t,b,S,T)}var r=n("visible"),l=n("clicktoshow");if(r||l){_(o,t,i,n);for(var s=t.showarrow,u=["x","y"],p=[-10,-30],c={_fullLayout:i},x=0;x<2;x++){var g=u[x],d=k.coerceRef(o,t,c,g,"","paper");if(d!=="paper"&&k.getFromId(c,d)._annIndices.push(t._index),k.coercePosition(t,c,n,d,g,.5),s){var v="a"+g,y=k.coerceRef(o,t,c,v,"pixel",["pixel","paper"]);y!=="pixel"&&y!==d&&(y=t[v]="pixel");var m=y==="pixel"?p[x]:.4;k.coercePosition(t,c,n,y,v,m)}n(g+"anchor"),n(g+"shift")}if(M.noneOrAll(o,t,["x","y"]),s&&M.noneOrAll(o,t,["ax","ay"]),l){var w=n("xclick"),f=n("yclick");t._xclick=w===void 0?t.x:k.cleanPosition(w,c,t.xref),t._yclick=f===void 0?t.y:k.cleanPosition(f,c,t.yref)}}}q.exports=function(o,t){a(o,t,{name:"annotations",handleItemDefaults:h})}},92605:function(q,C,e){var M=e(39898),k=e(73972),a=e(74875),_=e(71828),b=_.strTranslate,h=e(89298),o=e(7901),t=e(91424),i=e(30211),n=e(63893),r=e(6964),l=e(28569),s=e(44467).arrayEditor,u=e(13011);function p(g,d){var v=g._fullLayout.annotations[d]||{},y=h.getFromId(g,v.xref),m=h.getFromId(g,v.yref);y&&y.setScale(),m&&m.setScale(),x(g,v,d,!1,y,m)}function c(g,d,v,y,m){var w=m[v],f=m[v+"ref"],S=v.indexOf("y")!==-1,T=h.getRefType(f)==="domain",E=S?y.h:y.w;return g?T?w+(S?-d:d)/g._length:g.p2r(g.r2p(w)+d):w+(S?-d:d)/E}function x(g,d,v,y,m,w){var f,S,T=g._fullLayout,E=g._fullLayout._size,O=g._context.edits;y?(f="annotation-"+y,S=y+".annotations"):(f="annotation",S="annotations");var P=s(g.layout,S,d),I=P.modifyBase,z=P.modifyItem,j=P.getUpdateObj;T._infolayer.selectAll("."+f+'[data-index="'+v+'"]').remove();var R="clip"+T._uid+"_ann"+v;if(d._input&&d.visible!==!1){var N={x:{},y:{}},Z=+d.textangle||0,F=T._infolayer.append("g").classed(f,!0).attr("data-index",String(v)).style("opacity",d.opacity),U=F.append("g").classed("annotation-text-g",!0),V=O[d.showarrow?"annotationTail":"annotationPosition"],te=d.captureevents||O.annotationText||V,Q=U.append("g").style("pointer-events",te?"all":null).call(r,"pointer").on("click",function(){g._dragging=!1,g.emit("plotly_clickannotation",de(M.event))});d.hovertext&&Q.on("mouseover",function(){var me=d.hoverlabel,Ee=me.font,Te=this.getBoundingClientRect(),we=g.getBoundingClientRect();i.loneHover({x0:Te.left-we.left,x1:Te.right-we.left,y:(Te.top+Te.bottom)/2-we.top,text:d.hovertext,color:me.bgcolor,borderColor:me.bordercolor,fontFamily:Ee.family,fontSize:Ee.size,fontColor:Ee.color},{container:T._hoverlayer.node(),outerContainer:T._paper.node(),gd:g})}).on("mouseout",function(){i.loneUnhover(T._hoverlayer.node())});var J=d.borderwidth,X=d.borderpad,K=J+X,ee=Q.append("rect").attr("class","bg").style("stroke-width",J+"px").call(o.stroke,d.bordercolor).call(o.fill,d.bgcolor),re=d.width||d.height,ie=T._topclips.selectAll("#"+R).data(re?[0]:[]);ie.enter().append("clipPath").classed("annclip",!0).attr("id",R).append("rect"),ie.exit().remove();var ae=d.font,ue=T._meta?_.templateString(d.text,T._meta):d.text,pe=Q.append("text").classed("annotation-text",!0).text(ue);O.annotationText?pe.call(n.makeEditable,{delegate:Q,gd:g}).call(ye).on("edit",function(me){d.text=me,this.call(ye),z("text",me),m&&m.autorange&&I(m._name+".autorange",!0),w&&w.autorange&&I(w._name+".autorange",!0),k.call("_guiRelayout",g,j())}):pe.call(ye)}else M.selectAll("#"+R).remove();function de(me){var Ee={index:v,annotation:d._input,fullAnnotation:d,event:me};return y&&(Ee.subplotId=y),Ee}function ye(me){return me.call(t.font,ae).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),n.convertToTspans(me,g,be),me}function be(){var me=pe.selectAll("a");me.size()===1&&me.text()===pe.text()&&Q.insert("a",":first-child").attr({"xlink:xlink:href":me.attr("xlink:href"),"xlink:xlink:show":me.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(ee.node());var Ee=Q.select(".annotation-text-math-group"),Te=!Ee.empty(),we=t.bBox((Te?Ee:pe).node()),oe=we.width,se=we.height,he=d.width||oe,Se=d.height||se,_e=Math.round(he+2*K),Ae=Math.round(Se+2*K);function Ce(xt,dt){return dt==="auto"&&(dt=xt<.3333333333333333?"left":xt>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[dt]}for(var Re=!1,fe=["x","y"],xe=0;xe<fe.length;xe++){var ke,Ie,Fe,ze,qe,Ye=fe[xe],Qe=d[Ye+"ref"]||Ye,ft=d["a"+Ye+"ref"],ht={x:m,y:w}[Ye],mt=(Z+(Ye==="x"?0:-90))*Math.PI/180,Mt=_e*Math.cos(mt),_t=Ae*Math.sin(mt),it=Math.abs(Mt)+Math.abs(_t),st=d[Ye+"anchor"],St=d[Ye+"shift"]*(Ye==="x"?1:-1),zt=N[Ye],Ft=h.getRefType(Qe);if(ht&&Ft!=="domain"){var Pt=ht.r2fraction(d[Ye]);(Pt<0||Pt>1)&&(ft===Qe?((Pt=ht.r2fraction(d["a"+Ye]))<0||Pt>1)&&(Re=!0):Re=!0),ke=ht._offset+ht.r2p(d[Ye]),ze=.5}else{var Ze=Ft==="domain";Ye==="x"?(Fe=d[Ye],ke=Ze?ht._offset+ht._length*Fe:ke=E.l+E.w*Fe):(Fe=1-d[Ye],ke=Ze?ht._offset+ht._length*Fe:ke=E.t+E.h*Fe),ze=d.showarrow?.5:Fe}if(d.showarrow){zt.head=ke;var Je=d["a"+Ye];if(qe=Mt*Ce(.5,d.xanchor)-_t*Ce(.5,d.yanchor),ft===Qe){var Ue=h.getRefType(ft);Ue==="domain"?(Ye==="y"&&(Je=1-Je),zt.tail=ht._offset+ht._length*Je):Ue==="paper"?Ye==="y"?(Je=1-Je,zt.tail=E.t+E.h*Je):zt.tail=E.l+E.w*Je:zt.tail=ht._offset+ht.r2p(Je),Ie=qe}else zt.tail=ke+Je,Ie=qe+Je;zt.text=zt.tail+qe;var Xe=T[Ye==="x"?"width":"height"];if(Qe==="paper"&&(zt.head=_.constrain(zt.head,1,Xe-1)),ft==="pixel"){var lt=-Math.max(zt.tail-3,zt.text),ot=Math.min(zt.tail+3,zt.text)-Xe;lt>0?(zt.tail+=lt,zt.text+=lt):ot>0&&(zt.tail-=ot,zt.text-=ot)}zt.tail+=St,zt.head+=St}else Ie=qe=it*Ce(ze,st),zt.text=ke+qe;zt.text+=St,qe+=St,Ie+=St,d["_"+Ye+"padplus"]=it/2+Ie,d["_"+Ye+"padminus"]=it/2-Ie,d["_"+Ye+"size"]=it,d["_"+Ye+"shift"]=qe}if(Re)Q.remove();else{var Be=0,Ne=0;if(d.align!=="left"&&(Be=(he-oe)*(d.align==="center"?.5:1)),d.valign!=="top"&&(Ne=(Se-se)*(d.valign==="middle"?.5:1)),Te)Ee.select("svg").attr({x:K+Be-1,y:K+Ne}).call(t.setClipUrl,re?R:null,g);else{var at=K+Ne-we.top,$e=K+Be-we.left;pe.call(n.positionText,$e,at).call(t.setClipUrl,re?R:null,g)}ie.select("rect").call(t.setRect,K,K,he,Se),ee.call(t.setRect,J/2,J/2,_e-J,Ae-J),Q.call(t.setTranslate,Math.round(N.x.text-_e/2),Math.round(N.y.text-Ae/2)),U.attr({transform:"rotate("+Z+","+N.x.text+","+N.y.text+")"});var gt,yt=function(xt,dt){F.selectAll(".annotation-arrow-g").remove();var Lt=N.x.head,Tt=N.y.head,bt=N.x.tail+xt,Ct=N.y.tail+dt,Dt=N.x.text+xt,Bt=N.y.text+dt,Xt=_.rotationXYMatrix(Z,Dt,Bt),an=_.apply2DTransform(Xt),Wt=_.apply2DTransform2(Xt),Vt=+ee.attr("width"),on=+ee.attr("height"),Sn=Dt-.5*Vt,Ln=Sn+Vt,fn=Bt-.5*on,Zt=fn+on,ln=[[Sn,fn,Sn,Zt],[Sn,Zt,Ln,Zt],[Ln,Zt,Ln,fn],[Ln,fn,Sn,fn]].map(Wt);if(!ln.reduce(function(rr,Xn){return rr^!!_.segmentsIntersect(Lt,Tt,Lt+1e6,Tt+1e6,Xn[0],Xn[1],Xn[2],Xn[3])},!1)){ln.forEach(function(rr){var Xn=_.segmentsIntersect(bt,Ct,Lt,Tt,rr[0],rr[1],rr[2],rr[3]);Xn&&(bt=Xn.x,Ct=Xn.y)});var nn=d.arrowwidth,cn=d.arrowcolor,kn=d.arrowside,An=F.append("g").style({opacity:o.opacity(cn)}).classed("annotation-arrow-g",!0),wn=An.append("path").attr("d","M"+bt+","+Ct+"L"+Lt+","+Tt).style("stroke-width",nn+"px").call(o.stroke,o.rgb(cn));if(u(wn,kn,d),O.annotationPosition&&wn.node().parentNode&&!y){var Cn=Lt,_n=Tt;if(d.standoff){var zn=Math.sqrt(Math.pow(Lt-bt,2)+Math.pow(Tt-Ct,2));Cn+=d.standoff*(bt-Lt)/zn,_n+=d.standoff*(Ct-Tt)/zn}var Hn,ar,fr=An.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(bt-Cn)+","+(Ct-_n),transform:b(Cn,_n)}).style("stroke-width",nn+6+"px").call(o.stroke,"rgba(0,0,0,0)").call(o.fill,"rgba(0,0,0,0)");l.init({element:fr.node(),gd:g,prepFn:function(){var rr=t.getTranslate(Q);Hn=rr.x,ar=rr.y,m&&m.autorange&&I(m._name+".autorange",!0),w&&w.autorange&&I(w._name+".autorange",!0)},moveFn:function(rr,Xn){var gr=an(Hn,ar),Gt=gr[0]+rr,tn=gr[1]+Xn;Q.call(t.setTranslate,Gt,tn),z("x",c(m,rr,"x",E,d)),z("y",c(w,Xn,"y",E,d)),d.axref===d.xref&&z("ax",c(m,rr,"ax",E,d)),d.ayref===d.yref&&z("ay",c(w,Xn,"ay",E,d)),An.attr("transform",b(rr,Xn)),U.attr({transform:"rotate("+Z+","+Gt+","+tn+")"})},doneFn:function(){k.call("_guiRelayout",g,j());var rr=document.querySelector(".js-notes-box-panel");rr&&rr.redraw(rr.selectedObj)}})}}};d.showarrow&&yt(0,0),V&&l.init({element:Q.node(),gd:g,prepFn:function(){gt=U.attr("transform")},moveFn:function(xt,dt){var Lt="pointer";if(d.showarrow)d.axref===d.xref?z("ax",c(m,xt,"ax",E,d)):z("ax",d.ax+xt),d.ayref===d.yref?z("ay",c(w,dt,"ay",E.w,d)):z("ay",d.ay+dt),yt(xt,dt);else{if(y)return;var Tt,bt;if(m)Tt=c(m,xt,"x",E,d);else{var Ct=d._xsize/E.w,Dt=d.x+(d._xshift-d.xshift)/E.w-Ct/2;Tt=l.align(Dt+xt/E.w,Ct,0,1,d.xanchor)}if(w)bt=c(w,dt,"y",E,d);else{var Bt=d._ysize/E.h,Xt=d.y-(d._yshift+d.yshift)/E.h-Bt/2;bt=l.align(Xt-dt/E.h,Bt,0,1,d.yanchor)}z("x",Tt),z("y",bt),m&&w||(Lt=l.getCursor(m?.5:Tt,w?.5:bt,d.xanchor,d.yanchor))}U.attr({transform:b(xt,dt)+gt}),r(Q,Lt)},clickFn:function(xt,dt){d.captureevents&&g.emit("plotly_clickannotation",de(dt))},doneFn:function(){r(Q),k.call("_guiRelayout",g,j());var xt=document.querySelector(".js-notes-box-panel");xt&&xt.redraw(xt.selectedObj)}})}}}q.exports={draw:function(g){var d=g._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var v=0;v<d.annotations.length;v++)d.annotations[v].visible&&p(g,v);return a.previousPromises(g)},drawOne:p,drawRaw:x}},13011:function(q,C,e){var M=e(39898),k=e(7901),a=e(82884),_=e(71828),b=_.strScale,h=_.strRotate,o=_.strTranslate;q.exports=function(t,i,n){var r,l,s,u,p=t.node(),c=a[n.arrowhead||0],x=a[n.startarrowhead||0],g=(n.arrowwidth||1)*(n.arrowsize||1),d=(n.arrowwidth||1)*(n.startarrowsize||1),v=i.indexOf("start")>=0,y=i.indexOf("end")>=0,m=c.backoff*g+n.standoff,w=x.backoff*d+n.startstandoff;if(p.nodeName==="line"){r={x:+t.attr("x1"),y:+t.attr("y1")},l={x:+t.attr("x2"),y:+t.attr("y2")};var f=r.x-l.x,S=r.y-l.y;if(u=(s=Math.atan2(S,f))+Math.PI,m&&w&&m+w>Math.sqrt(f*f+S*S))return void F();if(m){if(m*m>f*f+S*S)return void F();var T=m*Math.cos(s),E=m*Math.sin(s);l.x+=T,l.y+=E,t.attr({x2:l.x,y2:l.y})}if(w){if(w*w>f*f+S*S)return void F();var O=w*Math.cos(s),P=w*Math.sin(s);r.x-=O,r.y-=P,t.attr({x1:r.x,y1:r.y})}}else if(p.nodeName==="path"){var I=p.getTotalLength(),z="";if(I<m+w)return void F();var j=p.getPointAtLength(0),R=p.getPointAtLength(.1);s=Math.atan2(j.y-R.y,j.x-R.x),r=p.getPointAtLength(Math.min(w,I)),z="0px,"+w+"px,";var N=p.getPointAtLength(I),Z=p.getPointAtLength(I-.1);u=Math.atan2(N.y-Z.y,N.x-Z.x),l=p.getPointAtLength(Math.max(0,I-m)),z+=I-(z?w+m:m)+"px,"+I+"px",t.style("stroke-dasharray",z)}function F(){t.style("stroke-dasharray","0px,100px")}function U(V,te,Q,J){V.path&&(V.noRotate&&(Q=0),M.select(p.parentNode).append("path").attr({class:t.attr("class"),d:V.path,transform:o(te.x,te.y)+h(180*Q/Math.PI)+b(J)}).style({fill:k.rgb(n.arrowcolor),"stroke-width":0}))}v&&U(x,r,s,d),y&&U(c,l,u,g)}},32745:function(q,C,e){var M=e(92605),k=e(44317);q.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:M.draw,drawOne:M.drawOne,drawRaw:M.drawRaw,hasClickToShow:k.hasClickToShow,onClick:k.onClick,convertCoords:e(94128)}},26997:function(q,C,e){var M=e(50215),k=e(30962).overrideAll,a=e(44467).templatedArray;q.exports=k(a("annotation",{visible:M.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:M.xanchor,xshift:M.xshift,yanchor:M.yanchor,yshift:M.yshift,text:M.text,textangle:M.textangle,font:M.font,width:M.width,height:M.height,opacity:M.opacity,align:M.align,valign:M.valign,bgcolor:M.bgcolor,bordercolor:M.bordercolor,borderpad:M.borderpad,borderwidth:M.borderwidth,showarrow:M.showarrow,arrowcolor:M.arrowcolor,arrowhead:M.arrowhead,startarrowhead:M.startarrowhead,arrowside:M.arrowside,arrowsize:M.arrowsize,startarrowsize:M.startarrowsize,arrowwidth:M.arrowwidth,standoff:M.standoff,startstandoff:M.startstandoff,hovertext:M.hovertext,hoverlabel:M.hoverlabel,captureevents:M.captureevents}),"calc","from-root")},5485:function(q,C,e){var M=e(71828),k=e(89298);function a(_,b){var h=b.fullSceneLayout.domain,o=b.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};_._xa={},M.extendFlat(_._xa,t),k.setConvert(_._xa),_._xa._offset=o.l+h.x[0]*o.w,_._xa.l2p=function(){return .5*(1+_._pdata[0]/_._pdata[3])*o.w*(h.x[1]-h.x[0])},_._ya={},M.extendFlat(_._ya,t),k.setConvert(_._ya),_._ya._offset=o.t+(1-h.y[1])*o.h,_._ya.l2p=function(){return .5*(1-_._pdata[1]/_._pdata[3])*o.h*(h.y[1]-h.y[0])}}q.exports=function(_){for(var b=_.fullSceneLayout.annotations,h=0;h<b.length;h++)a(b[h],_);_.fullLayout._infolayer.selectAll(".annotation-"+_.id).remove()}},20226:function(q,C,e){var M=e(71828),k=e(89298),a=e(85501),_=e(25625),b=e(26997);function h(o,t,i,n){function r(s,u){return M.coerce(o,t,b,s,u)}function l(s){var u=s+"axis",p={_fullLayout:{}};return p._fullLayout[u]=i[u],k.coercePosition(t,p,r,s,s,.5)}r("visible")&&(_(o,t,n.fullLayout,r),l("x"),l("y"),l("z"),M.noneOrAll(o,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",r("xanchor"),r("yanchor"),r("xshift"),r("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",r("ax",-10),r("ay",-30),M.noneOrAll(o,t,["ax","ay"])))}q.exports=function(o,t,i){a(o,t,{name:"annotations",handleItemDefaults:h,fullLayout:i.fullLayout})}},82188:function(q,C,e){var M=e(92605).drawRaw,k=e(63538),a=["x","y","z"];q.exports=function(_){for(var b=_.fullSceneLayout,h=_.dataScale,o=b.annotations,t=0;t<o.length;t++){for(var i=o[t],n=!1,r=0;r<3;r++){var l=a[r],s=i[l],u=b[l+"axis"].r2fraction(s);if(u<0||u>1){n=!0;break}}n?_.fullLayout._infolayer.select(".annotation-"+_.id+'[data-index="'+t+'"]').remove():(i._pdata=k(_.glplot.cameraParams,[b.xaxis.r2l(i.x)*h[0],b.yaxis.r2l(i.y)*h[1],b.zaxis.r2l(i.z)*h[2]]),M(_.graphDiv,i,t,_.id,i._xa,i._ya))}}},2468:function(q,C,e){var M=e(73972),k=e(71828);q.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:function(a,_){var b=M.subplotsRegistry.gl3d;if(b)for(var h=b.attrRegex,o=Object.keys(a),t=0;t<o.length;t++){var i=o[t];h.test(i)&&(a[i].annotations||[]).length&&(k.pushUnique(_._basePlotModules,b),k.pushUnique(_._subplots.gl3d,i))}},convert:e(5485),draw:e(82188)}},7561:function(q,C,e){q.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(q,C,e){var M=e(7561),k=e(71828),a=e(50606),_=a.EPOCHJD,b=a.ONEDAY,h={valType:"enumerated",values:k.sortObjectKeys(M.calendars),editType:"calc",dflt:"gregorian"},o=function(g,d,v,y){var m={};return m[v]=h,k.coerce(g,d,m,v,y)},t="##",i={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:t,w:t,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},n={};function r(g){var d=n[g];return d||(n[g]=M.instance(g))}function l(g){return k.extendFlat({},h,{description:g})}function s(g){return"Sets the calendar system to use with `"+g+"` date data."}var u={xcalendar:l(s("x"))},p=k.extendFlat({},u,{ycalendar:l(s("y"))}),c=k.extendFlat({},p,{zcalendar:l(s("z"))}),x=l(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));q.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:p,bar:p,box:p,heatmap:p,contour:p,histogram:p,histogram2d:p,histogram2dcontour:p,scatter3d:c,surface:c,mesh3d:c,scattergl:p,ohlc:u,candlestick:u},layout:{calendar:l(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:x},yaxis:{calendar:x},scene:{xaxis:{calendar:x},yaxis:{calendar:x},zaxis:{calendar:x}},polar:{radialaxis:{calendar:x}}},transforms:{filter:{valuecalendar:l(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:l(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:h,handleDefaults:o,handleTraceDefaults:function(g,d,v,y){for(var m=0;m<v.length;m++)o(g,d,v[m]+"calendar",y.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:r,worldCalFmt:function(g,d,v){for(var y,m,w,f,S,T=Math.floor((d+.05)/b)+_,E=r(v).fromJD(T),O=0;(O=g.indexOf("%",O))!==-1;)(y=g.charAt(O+1))==="0"||y==="-"||y==="_"?(w=3,m=g.charAt(O+2),y==="_"&&(y="-")):(m=y,y="0",w=2),(f=i[m])?(S=f===t?t:E.formatDate(f[y]),g=g.substr(0,O)+S+g.substr(O+w),O+=S.length):O+=w;return g}}},22399:function(q,C){C.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],C.defaultLine="#444",C.lightLine="#eee",C.background="#fff",C.borderLine="#BEC8D9",C.lightFraction=90.9090909090909},7901:function(q,C,e){var M=e(84267),k=e(92770),a=e(73627).isTypedArray,_=q.exports={},b=e(22399);_.defaults=b.defaults;var h=_.defaultLine=b.defaultLine;_.lightLine=b.lightLine;var o=_.background=b.background;function t(i){if(k(i)||typeof i!="string")return i;var n=i.trim();if(n.substr(0,3)!=="rgb")return i;var r=n.match(/^rgba?\s*\(([^()]*)\)$/);if(!r)return i;var l=r[1].trim().split(/\s*[\s,]\s*/),s=n.charAt(3)==="a"&&l.length===4;if(!s&&l.length!==3)return i;for(var u=0;u<l.length;u++){if(!l[u].length||(l[u]=Number(l[u]),!(l[u]>=0)))return i;if(u===3)l[u]>1&&(l[u]=1);else if(l[u]>=1)return i}var p=Math.round(255*l[0])+", "+Math.round(255*l[1])+", "+Math.round(255*l[2]);return s?"rgba("+p+", "+l[3]+")":"rgb("+p+")"}_.tinyRGB=function(i){var n=i.toRgb();return"rgb("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+")"},_.rgb=function(i){return _.tinyRGB(M(i))},_.opacity=function(i){return i?M(i).getAlpha():0},_.addOpacity=function(i,n){var r=M(i).toRgb();return"rgba("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+", "+n+")"},_.combine=function(i,n){var r=M(i).toRgb();if(r.a===1)return M(i).toRgbString();var l=M(n||o).toRgb(),s=l.a===1?l:{r:255*(1-l.a)+l.r*l.a,g:255*(1-l.a)+l.g*l.a,b:255*(1-l.a)+l.b*l.a},u={r:s.r*(1-r.a)+r.r*r.a,g:s.g*(1-r.a)+r.g*r.a,b:s.b*(1-r.a)+r.b*r.a};return M(u).toRgbString()},_.contrast=function(i,n,r){var l=M(i);return l.getAlpha()!==1&&(l=M(_.combine(i,o))),(l.isDark()?n?l.lighten(n):o:r?l.darken(r):h).toString()},_.stroke=function(i,n){var r=M(n);i.style({stroke:_.tinyRGB(r),"stroke-opacity":r.getAlpha()})},_.fill=function(i,n){var r=M(n);i.style({fill:_.tinyRGB(r),"fill-opacity":r.getAlpha()})},_.clean=function(i){if(i&&typeof i=="object"){var n,r,l,s,u=Object.keys(i);for(n=0;n<u.length;n++)if(s=i[l=u[n]],l.substr(l.length-5)==="color")if(Array.isArray(s))for(r=0;r<s.length;r++)s[r]=t(s[r]);else i[l]=t(s);else if(l.substr(l.length-10)==="colorscale"&&Array.isArray(s))for(r=0;r<s.length;r++)Array.isArray(s[r])&&(s[r][1]=t(s[r][1]));else if(Array.isArray(s)){var p=s[0];if(!Array.isArray(p)&&p&&typeof p=="object")for(r=0;r<s.length;r++)_.clean(s[r])}else s&&typeof s=="object"&&!a(s)&&_.clean(s)}}},63583:function(q,C,e){var M=e(13838),k=e(41940),a=e(1426).extendFlat,_=e(30962).overrideAll;q.exports=_({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:M.linecolor,outlinewidth:M.linewidth,bordercolor:M.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:M.minor.tickmode,nticks:M.nticks,tick0:M.tick0,dtick:M.dtick,tickvals:M.tickvals,ticktext:M.ticktext,ticks:a({},M.ticks,{dflt:""}),ticklabeloverflow:a({},M.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:M.ticklen,tickwidth:M.tickwidth,tickcolor:M.tickcolor,ticklabelstep:M.ticklabelstep,showticklabels:M.showticklabels,labelalias:M.labelalias,tickfont:k({}),tickangle:M.tickangle,tickformat:M.tickformat,tickformatstops:M.tickformatstops,tickprefix:M.tickprefix,showtickprefix:M.showtickprefix,ticksuffix:M.ticksuffix,showticksuffix:M.showticksuffix,separatethousands:M.separatethousands,exponentformat:M.exponentformat,minexponent:M.minexponent,showexponent:M.showexponent,title:{text:{valType:"string"},font:k({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:k({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(q){q.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(q,C,e){var M=e(71828),k=e(44467),a=e(26218),_=e(38701),b=e(96115),h=e(89426),o=e(63583);q.exports=function(t,i,n){var r=k.newContainer(i,"colorbar"),l=t.colorbar||{};function s(z,j){return M.coerce(l,r,o,z,j)}var u=n.margin||{t:0,b:0,l:0,r:0},p=n.width-u.l-u.r,c=n.height-u.t-u.b,x=s("orientation")==="v",g=s("thicknessmode");s("thickness",g==="fraction"?30/(x?p:c):30);var d=s("lenmode");s("len",d==="fraction"?1:x?c:p);var v,y,m,w=s("yref")==="paper",f=s("xref")==="paper",S="left";x?(m="middle",S=f?"left":"right",v=f?1.02:1,y=.5):(m=w?"bottom":"top",S="center",v=.5,y=w?1.02:1),M.coerce(l,r,{x:{valType:"number",min:f?-2:0,max:f?3:1,dflt:v}},"x"),M.coerce(l,r,{y:{valType:"number",min:w?-2:0,max:w?3:1,dflt:y}},"y"),s("xanchor",S),s("xpad"),s("yanchor",m),s("ypad"),M.noneOrAll(l,r,["x","y"]),s("outlinecolor"),s("outlinewidth"),s("bordercolor"),s("borderwidth"),s("bgcolor");var T=M.coerce(l,r,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:x?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");s("ticklabeloverflow",T.indexOf("inside")!==-1?"hide past domain":"hide past div"),a(l,r,s,"linear");var E=n.font,O={outerTicks:!1,font:E};T.indexOf("inside")!==-1&&(O.bgColor="black"),h(l,r,s,"linear",O),b(l,r,s,"linear",O),_(l,r,s,"linear",O),s("title.text",n._dfltTitle.colorbar);var P=r.showticklabels?r.tickfont:E,I=M.extendFlat({},P,{color:E.color,size:M.bigFont(P.size)});M.coerceFont(s,"title.font",I),s("title.side",x?"top":"right")}},98981:function(q,C,e){var M=e(39898),k=e(84267),a=e(74875),_=e(73972),b=e(89298),h=e(28569),o=e(71828),t=o.strTranslate,i=e(1426).extendFlat,n=e(6964),r=e(91424),l=e(7901),s=e(92998),u=e(63893),p=e(52075).flipScale,c=e(71453),x=e(52830),g=e(13838),d=e(18783),v=d.LINE_SPACING,y=d.FROM_TL,m=d.FROM_BR,w=e(30939).cn;q.exports={draw:function(f){var S=f._fullLayout._infolayer.selectAll("g."+w.colorbar).data(function(T){var E,O,P,I,z=T._fullLayout,j=T.calcdata,R=[];function N(re){return i(re,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function Z(){typeof I.calc=="function"?I.calc(T,P,E):(E._fillgradient=O.reversescale?p(O.colorscale):O.colorscale,E._zrange=[O[I.min],O[I.max]])}for(var F=0;F<j.length;F++){var U=j[F];if((P=U[0].trace)._module){var V=P._module.colorbar;if(P.visible===!0&&V)for(var te=Array.isArray(V),Q=te?V:[V],J=0;J<Q.length;J++){var X=(I=Q[J]).container;(O=X?P[X]:P)&&O.showscale&&((E=N(O.colorbar))._id="cb"+P.uid+(te&&X?"-"+X:""),E._traceIndex=P.index,E._propPrefix=(X?X+".":"")+"colorbar.",E._meta=P._meta,Z(),R.push(E))}}}for(var K in z._colorAxes)if((O=z[K]).showscale){var ee=z._colorAxes[K];(E=N(O.colorbar))._id="cb"+K,E._propPrefix=K+".colorbar.",E._meta=z._meta,I={min:"cmin",max:"cmax"},ee[0]!=="heatmap"&&(P=ee[1],I.calc=P._module.colorbar.calc),Z(),R.push(E)}return R}(f),function(T){return T._id});S.enter().append("g").attr("class",function(T){return T._id}).classed(w.colorbar,!0),S.each(function(T){var E=M.select(this);o.ensureSingle(E,"rect",w.cbbg),o.ensureSingle(E,"g",w.cbfills),o.ensureSingle(E,"g",w.cblines),o.ensureSingle(E,"g",w.cbaxis,function(P){P.classed(w.crisp,!0)}),o.ensureSingle(E,"g",w.cbtitleunshift,function(P){P.append("g").classed(w.cbtitle,!0)}),o.ensureSingle(E,"rect",w.cboutline);var O=function(P,I,z){var j=I.orientation==="v",R=I.len,N=I.lenmode,Z=I.thickness,F=I.thicknessmode,U=I.outlinewidth,V=I.borderwidth,te=I.bgcolor,Q=I.xanchor,J=I.yanchor,X=I.xpad,K=I.ypad,ee=I.x,re=j?I.y:1-I.y,ie=I.yref==="paper",ae=I.xref==="paper",ue=z._fullLayout,pe=ue._size,de=I._fillcolor,ye=I._line,be=I.title,me=be.side,Ee=I._zrange||M.extent((typeof de=="function"?de:ye.color).domain()),Te=typeof ye.color=="function"?ye.color:function(){return ye.color},we=typeof de=="function"?de:function(){return de},oe=I._levels,se=function(Ue,Xe,lt){var ot,Be,Ne=Xe._levels,at=[],$e=[],gt=Ne.end+Ne.size/100,yt=Ne.size,xt=1.001*lt[0]-.001*lt[1],dt=1.001*lt[1]-.001*lt[0];for(Be=0;Be<1e5&&(ot=Ne.start+Be*yt,!(yt>0?ot>=gt:ot<=gt));Be++)ot>xt&&ot<dt&&at.push(ot);if(Xe._fillgradient)$e=[0];else if(typeof Xe._fillcolor=="function"){var Lt=Xe._filllevels;if(Lt)for(gt=Lt.end+Lt.size/100,yt=Lt.size,Be=0;Be<1e5&&(ot=Lt.start+Be*yt,!(yt>0?ot>=gt:ot<=gt));Be++)ot>lt[0]&&ot<lt[1]&&$e.push(ot);else($e=at.map(function(Tt){return Tt-Ne.size/2})).push($e[$e.length-1]+Ne.size)}else Xe._fillcolor&&typeof Xe._fillcolor=="string"&&($e=[0]);return Ne.size<0&&(at.reverse(),$e.reverse()),{line:at,fill:$e}}(0,I,Ee),he=se.fill,Se=se.line,_e=Math.round(Z*(F==="fraction"?j?pe.w:pe.h:1)),Ae=_e/(j?pe.w:pe.h),Ce=Math.round(R*(N==="fraction"?j?pe.h:pe.w:1)),Re=Ce/(j?pe.h:pe.w),fe=ae?pe.w:z._fullLayout.width,xe=ie?pe.h:z._fullLayout.height,ke=Math.round(j?ee*fe+X:re*xe+K),Ie={center:.5,right:1}[Q]||0,Fe={top:1,middle:.5}[J]||0,ze=j?ee-Ie*Ae:re-Fe*Ae,qe=j?re-Fe*Re:ee-Ie*Re,Ye=Math.round(j?xe*(1-qe):fe*qe);I._lenFrac=Re,I._thickFrac=Ae,I._uFrac=ze,I._vFrac=qe;var Qe=I._axis=function(Ue,Xe,lt){var ot=Ue._fullLayout,Be=Xe.orientation==="v",Ne={type:"linear",range:lt,tickmode:Xe.tickmode,nticks:Xe.nticks,tick0:Xe.tick0,dtick:Xe.dtick,tickvals:Xe.tickvals,ticktext:Xe.ticktext,ticks:Xe.ticks,ticklen:Xe.ticklen,tickwidth:Xe.tickwidth,tickcolor:Xe.tickcolor,showticklabels:Xe.showticklabels,labelalias:Xe.labelalias,ticklabelposition:Xe.ticklabelposition,ticklabeloverflow:Xe.ticklabeloverflow,ticklabelstep:Xe.ticklabelstep,tickfont:Xe.tickfont,tickangle:Xe.tickangle,tickformat:Xe.tickformat,exponentformat:Xe.exponentformat,minexponent:Xe.minexponent,separatethousands:Xe.separatethousands,showexponent:Xe.showexponent,showtickprefix:Xe.showtickprefix,tickprefix:Xe.tickprefix,showticksuffix:Xe.showticksuffix,ticksuffix:Xe.ticksuffix,title:Xe.title,showline:!0,anchor:"free",side:Be?"right":"bottom",position:1},at=Be?"y":"x",$e={type:"linear",_id:at+Xe._id},gt={letter:at,font:ot.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:ot.calendar};function yt(xt,dt){return o.coerce(Ne,$e,g,xt,dt)}return c(Ne,$e,yt,gt,ot),x(Ne,$e,yt,gt),$e}(z,I,Ee);Qe.position=Ae+(j?ee+X/pe.w:re+K/pe.h);var ft=["top","bottom"].indexOf(me)!==-1;if(j&&ft&&(Qe.title.side=me,Qe.titlex=ee+X/pe.w,Qe.titley=qe+(be.side==="top"?Re-K/pe.h:K/pe.h)),j||ft||(Qe.title.side=me,Qe.titley=re+K/pe.h,Qe.titlex=qe+X/pe.w),ye.color&&I.tickmode==="auto"){Qe.tickmode="linear",Qe.tick0=oe.start;var ht=oe.size,mt=o.constrain(Ce/50,4,15)+1,Mt=(Ee[1]-Ee[0])/((I.nticks||mt)*ht);if(Mt>1){var _t=Math.pow(10,Math.floor(Math.log(Mt)/Math.LN10));ht*=_t*o.roundUp(Mt/_t,[2,5,10]),(Math.abs(oe.start)/oe.size+1e-6)%1<2e-6&&(Qe.tick0=0)}Qe.dtick=ht}Qe.domain=j?[qe+K/pe.h,qe+Re-K/pe.h]:[qe+X/pe.w,qe+Re-X/pe.w],Qe.setScale(),P.attr("transform",t(Math.round(pe.l),Math.round(pe.t)));var it,st=P.select("."+w.cbtitleunshift).attr("transform",t(-Math.round(pe.l),-Math.round(pe.t))),St=Qe.ticklabelposition,zt=Qe.title.font.size,Ft=P.select("."+w.cbaxis),Pt=0,Ze=0;function Je(Ue,Xe){var lt={propContainer:Qe,propName:I._propPrefix+"title",traceIndex:I._traceIndex,_meta:I._meta,placeholder:ue._dfltTitle.colorbar,containerGroup:P.select("."+w.cbtitle)},ot=Ue.charAt(0)==="h"?Ue.substr(1):"h"+Ue;P.selectAll("."+ot+",."+ot+"-math-group").remove(),s.draw(z,Ue,i(lt,Xe||{}))}return o.syncOrAsync([a.previousPromises,function(){var Ue,Xe;(j&&ft||!j&&!ft)&&(me==="top"&&(Ue=X+pe.l+fe*ee,Xe=K+pe.t+xe*(1-qe-Re)+3+.75*zt),me==="bottom"&&(Ue=X+pe.l+fe*ee,Xe=K+pe.t+xe*(1-qe)-3-.25*zt),me==="right"&&(Xe=K+pe.t+xe*re+3+.75*zt,Ue=X+pe.l+fe*qe),Je(Qe._id+"title",{attributes:{x:Ue,y:Xe,"text-anchor":j?"start":"middle"}}))},function(){if(!j&&!ft||j&&ft){var Ue,Xe=P.select("."+w.cbtitle),lt=Xe.select("text"),ot=[-U/2,U/2],Be=Xe.select(".h"+Qe._id+"title-math-group").node(),Ne=15.6;if(lt.node()&&(Ne=parseInt(lt.node().style.fontSize,10)*v),Be?(Ue=r.bBox(Be),Ze=Ue.width,(Pt=Ue.height)>Ne&&(ot[1]-=(Pt-Ne)/2)):lt.node()&&!lt.classed(w.jsPlaceholder)&&(Ue=r.bBox(lt.node()),Ze=Ue.width,Pt=Ue.height),j){if(Pt){if(Pt+=5,me==="top")Qe.domain[1]-=Pt/pe.h,ot[1]*=-1;else{Qe.domain[0]+=Pt/pe.h;var at=u.lineCount(lt);ot[1]+=(1-at)*Ne}Xe.attr("transform",t(ot[0],ot[1])),Qe.setScale()}}else Ze&&(me==="right"&&(Qe.domain[0]+=(Ze+zt/2)/pe.w),Xe.attr("transform",t(ot[0],ot[1])),Qe.setScale())}P.selectAll("."+w.cbfills+",."+w.cblines).attr("transform",j?t(0,Math.round(pe.h*(1-Qe.domain[1]))):t(Math.round(pe.w*Qe.domain[0]),0)),Ft.attr("transform",j?t(0,Math.round(-pe.t)):t(Math.round(-pe.l),0));var $e=P.select("."+w.cbfills).selectAll("rect."+w.cbfill).attr("style","").data(he);$e.enter().append("rect").classed(w.cbfill,!0).attr("style",""),$e.exit().remove();var gt=Ee.map(Qe.c2p).map(Math.round).sort(function(Tt,bt){return Tt-bt});$e.each(function(Tt,bt){var Ct=[bt===0?Ee[0]:(he[bt]+he[bt-1])/2,bt===he.length-1?Ee[1]:(he[bt]+he[bt+1])/2].map(Qe.c2p).map(Math.round);j&&(Ct[1]=o.constrain(Ct[1]+(Ct[1]>Ct[0])?1:-1,gt[0],gt[1]));var Dt=M.select(this).attr(j?"x":"y",ke).attr(j?"y":"x",M.min(Ct)).attr(j?"width":"height",Math.max(_e,2)).attr(j?"height":"width",Math.max(M.max(Ct)-M.min(Ct),2));if(I._fillgradient)r.gradient(Dt,z,I._id,j?"vertical":"horizontalreversed",I._fillgradient,"fill");else{var Bt=we(Tt).replace("e-","");Dt.attr("fill",k(Bt).toHexString())}});var yt=P.select("."+w.cblines).selectAll("path."+w.cbline).data(ye.color&&ye.width?Se:[]);yt.enter().append("path").classed(w.cbline,!0),yt.exit().remove(),yt.each(function(Tt){var bt=ke,Ct=Math.round(Qe.c2p(Tt))+ye.width/2%1;M.select(this).attr("d","M"+(j?bt+","+Ct:Ct+","+bt)+(j?"h":"v")+_e).call(r.lineGroupStyle,ye.width,Te(Tt),ye.dash)}),Ft.selectAll("g."+Qe._id+"tick,path").remove();var xt=ke+_e+(U||0)/2-(I.ticks==="outside"?1:0),dt=b.calcTicks(Qe),Lt=b.getTickSigns(Qe)[2];return b.drawTicks(z,Qe,{vals:Qe.ticks==="inside"?b.clipEnds(Qe,dt):dt,layer:Ft,path:b.makeTickPath(Qe,xt,Lt),transFn:b.makeTransTickFn(Qe)}),b.drawLabels(z,Qe,{vals:dt,layer:Ft,transFn:b.makeTransTickLabelFn(Qe),labelFns:b.makeLabelFns(Qe,xt)})},function(){if(j&&!ft||!j&&ft){var Ue,Xe,lt=Qe.position||0,ot=Qe._offset+Qe._length/2;if(me==="right")Xe=ot,Ue=pe.l+fe*lt+10+zt*(Qe.showticklabels?1:.5);else if(Ue=ot,me==="bottom"&&(Xe=pe.t+xe*lt+10+(St.indexOf("inside")===-1?Qe.tickfont.size:0)+(Qe.ticks!=="intside"&&I.ticklen||0)),me==="top"){var Be=be.text.split("<br>").length;Xe=pe.t+xe*lt+10-_e-v*zt*Be}Je((j?"h":"v")+Qe._id+"title",{avoid:{selection:M.select(z).selectAll("g."+Qe._id+"tick"),side:me,offsetTop:j?0:pe.t,offsetLeft:j?pe.l:0,maxShift:j?ue.width:ue.height},attributes:{x:Ue,y:Xe,"text-anchor":"middle"},transform:{rotate:j?-90:0,offset:0}})}},a.previousPromises,function(){var Ue,Xe=_e+U/2;St.indexOf("inside")===-1&&(Ue=r.bBox(Ft.node()),Xe+=j?Ue.width:Ue.height),it=st.select("text");var lt=0,ot=j&&me==="top",Be=!j&&me==="right",Ne=0;if(it.node()&&!it.classed(w.jsPlaceholder)){var at,$e=st.select(".h"+Qe._id+"title-math-group").node();$e&&(j&&ft||!j&&!ft)?(lt=(Ue=r.bBox($e)).width,at=Ue.height):(lt=(Ue=r.bBox(st.node())).right-pe.l-(j?ke:Ye),at=Ue.bottom-pe.t-(j?Ye:ke),j||me!=="top"||(Xe+=Ue.height,Ne=Ue.height)),Be&&(it.attr("transform",t(lt/2+zt/2,0)),lt*=2),Xe=Math.max(Xe,j?lt:at)}var gt=2*(j?X:K)+Xe+V+U/2,yt=0;!j&&be.text&&J==="bottom"&&re<=0&&(gt+=yt=gt/2,Ne+=yt),ue._hColorbarMoveTitle=yt,ue._hColorbarMoveCBTitle=Ne;var xt=V+U,dt=(j?ke:Ye)-xt/2-(j?X:0),Lt=(j?Ye:ke)-(j?Ce:K+Ne-yt);P.select("."+w.cbbg).attr("x",dt).attr("y",Lt).attr(j?"width":"height",Math.max(gt-yt,2)).attr(j?"height":"width",Math.max(Ce+xt,2)).call(l.fill,te).call(l.stroke,I.bordercolor).style("stroke-width",V);var Tt=Be?Math.max(lt-10,0):0;P.selectAll("."+w.cboutline).attr("x",(j?ke:Ye+X)+Tt).attr("y",(j?Ye+K-Ce:ke)+(ot?Pt:0)).attr(j?"width":"height",Math.max(_e,2)).attr(j?"height":"width",Math.max(Ce-(j?2*K+Pt:2*X+Tt),2)).call(l.stroke,I.outlinecolor).style({fill:"none","stroke-width":U});var bt=j?Ie*gt:0,Ct=j?0:(1-Fe)*gt-Ne;if(bt=ae?pe.l-bt:-bt,Ct=ie?pe.t-Ct:-Ct,P.attr("transform",t(bt,Ct)),!j&&(V||k(te).getAlpha()&&!k.equals(ue.paper_bgcolor,te))){var Dt=Ft.selectAll("text"),Bt=Dt[0].length,Xt=P.select("."+w.cbbg).node(),an=r.bBox(Xt),Wt=r.getTranslate(P);Dt.each(function(kn,An){var wn=Bt-1;if(An===0||An===wn){var Cn,_n=r.bBox(this),zn=r.getTranslate(this);if(An===wn){var Hn=_n.right+zn.x;(Cn=an.right+Wt.x+Ye-V-2+ee-Hn)>0&&(Cn=0)}else if(An===0){var ar=_n.left+zn.x;(Cn=an.left+Wt.x+Ye+V+2-ar)<0&&(Cn=0)}Cn&&(Bt<3?this.setAttribute("transform","translate("+Cn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Vt={},on=y[Q],Sn=m[Q],Ln=y[J],fn=m[J],Zt=gt-_e;j?(N==="pixels"?(Vt.y=re,Vt.t=Ce*Ln,Vt.b=Ce*fn):(Vt.t=Vt.b=0,Vt.yt=re+R*Ln,Vt.yb=re-R*fn),F==="pixels"?(Vt.x=ee,Vt.l=gt*on,Vt.r=gt*Sn):(Vt.l=Zt*on,Vt.r=Zt*Sn,Vt.xl=ee-Z*on,Vt.xr=ee+Z*Sn)):(N==="pixels"?(Vt.x=ee,Vt.l=Ce*on,Vt.r=Ce*Sn):(Vt.l=Vt.r=0,Vt.xl=ee+R*on,Vt.xr=ee-R*Sn),F==="pixels"?(Vt.y=1-re,Vt.t=gt*Ln,Vt.b=gt*fn):(Vt.t=Zt*Ln,Vt.b=Zt*fn,Vt.yt=re-Z*Ln,Vt.yb=re+Z*fn));var ln=I.y<.5?"b":"t",nn=I.x<.5?"l":"r";z._fullLayout._reservedMargin[I._id]={};var cn={r:ue.width-dt-bt,l:dt+Vt.r,b:ue.height-Lt-Ct,t:Lt+Vt.b};ae&&ie?a.autoMargin(z,I._id,Vt):ae?z._fullLayout._reservedMargin[I._id][ln]=cn[ln]:ie||j?z._fullLayout._reservedMargin[I._id][nn]=cn[nn]:z._fullLayout._reservedMargin[I._id][ln]=cn[ln]}],z)}(E,T,f);O&&O.then&&(f._promises||[]).push(O),f._context.edits.colorbarPosition&&function(P,I,z){var j,R,N,Z=I.orientation==="v",F=z._fullLayout._size;h.init({element:P.node(),gd:z,prepFn:function(){j=P.attr("transform"),n(P)},moveFn:function(U,V){P.attr("transform",j+t(U,V)),R=h.align((Z?I._uFrac:I._vFrac)+U/F.w,Z?I._thickFrac:I._lenFrac,0,1,I.xanchor),N=h.align((Z?I._vFrac:1-I._uFrac)-V/F.h,Z?I._lenFrac:I._thickFrac,0,1,I.yanchor);var te=h.getCursor(R,N,I.xanchor,I.yanchor);n(P,te)},doneFn:function(){if(n(P),R!==void 0&&N!==void 0){var U={};U[I._propPrefix+"x"]=R,U[I._propPrefix+"y"]=N,I._traceIndex!==void 0?_.call("_guiRestyle",z,U,I._traceIndex):_.call("_guiRelayout",z,U)}}})}(E,T,f)}),S.exit().each(function(T){a.autoMargin(f,T._id)}).remove(),S.order()}}},76228:function(q,C,e){var M=e(71828);q.exports=function(k){return M.isPlainObject(k.colorbar)}},12311:function(q,C,e){q.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(q,C,e){var M=e(63583),k=e(30587).counter,a=e(78607),_=e(63282).scales;function b(h){return"`"+h+"`"}a(_),q.exports=function(h,o){h=h||"";var t,i=(o=o||{}).cLetter||"c",n=("onlyIfNumerical"in o&&o.onlyIfNumerical,"noScale"in o?o.noScale:h==="marker.line"),r="showScaleDflt"in o?o.showScaleDflt:i==="z",l=typeof o.colorscaleDflt=="string"?_[o.colorscaleDflt]:null,s=o.editTypeOverride||"",u=h?h+".":"";"colorAttr"in o?(t=o.colorAttr,o.colorAttr):b(u+(t={z:"z",c:"color"}[i]));var p=i+"auto",c=i+"min",x=i+"max",g=i+"mid",d={};d[c]=d[x]=void 0;var v={};v[p]=!1;var y={};return t==="color"&&(y.color={valType:"color",arrayOk:!0,editType:s||"style"},o.anim&&(y.color.anim=!0)),y[p]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:d},y[c]={valType:"number",dflt:null,editType:s||"plot",impliedEdits:v},y[x]={valType:"number",dflt:null,editType:s||"plot",impliedEdits:v},y[g]={valType:"number",dflt:null,editType:"calc",impliedEdits:d},y.colorscale={valType:"colorscale",editType:"calc",dflt:l,impliedEdits:{autocolorscale:!1}},y.autocolorscale={valType:"boolean",dflt:o.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},y.reversescale={valType:"boolean",dflt:!1,editType:"plot"},n||(y.showscale={valType:"boolean",dflt:r,editType:"calc"},y.colorbar=M),o.noColorAxis||(y.coloraxis={valType:"subplotid",regex:k("coloraxis"),dflt:null,editType:"calc"}),y}},78803:function(q,C,e){var M=e(92770),k=e(71828),a=e(52075).extractOpts;q.exports=function(_,b,h){var o,t=_._fullLayout,i=h.vals,n=h.containerStr,r=n?k.nestedProperty(b,n).get():b,l=a(r),s=l.auto!==!1,u=l.min,p=l.max,c=l.mid,x=function(){return k.aggNums(Math.min,null,i)},g=function(){return k.aggNums(Math.max,null,i)};u===void 0?u=x():s&&(u=r._colorAx&&M(u)?Math.min(u,x()):x()),p===void 0?p=g():s&&(p=r._colorAx&&M(p)?Math.max(p,g()):g()),s&&c!==void 0&&(p-c>c-u?u=c-(p-c):p-c<c-u&&(p=c+(c-u))),u===p&&(u-=.5,p+=.5),l._sync("min",u),l._sync("max",p),l.autocolorscale&&(o=u*p<0?t.colorscale.diverging:u>=0?t.colorscale.sequential:t.colorscale.sequentialminus,l._sync("colorscale",o))}},33046:function(q,C,e){var M=e(71828),k=e(52075).hasColorscale,a=e(52075).extractOpts;q.exports=function(_,b){function h(s,u){var p=s["_"+u];p!==void 0&&(s[u]=p)}function o(s,u){var p=u.container?M.nestedProperty(s,u.container).get():s;if(p)if(p.coloraxis)p._colorAx=b[p.coloraxis];else{var c=a(p),x=c.auto;(x||c.min===void 0)&&h(p,u.min),(x||c.max===void 0)&&h(p,u.max),c.autocolorscale&&h(p,"colorscale")}}for(var t=0;t<_.length;t++){var i=_[t],n=i._module.colorbar;if(n)if(Array.isArray(n))for(var r=0;r<n.length;r++)o(i,n[r]);else o(i,n);k(i,"marker.line")&&o(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var l in b._colorAxes)o(b[l],{min:"cmin",max:"cmax"})}},1586:function(q,C,e){var M=e(92770),k=e(71828),a=e(76228),_=e(62499),b=e(63282).isValid,h=e(73972).traceIs;function o(t,i){var n=i.slice(0,i.length-1);return i?k.nestedProperty(t,n).get()||{}:t}q.exports=function t(i,n,r,l,s){var u=s.prefix,p=s.cLetter,c="_module"in n,x=o(i,u),g=o(n,u),d=o(n._template||{},u)||{},v=function(){return delete i.coloraxis,delete n.coloraxis,t(i,n,r,l,s)};if(c){var y=r._colorAxes||{},m=l(u+"coloraxis");if(m){var w=h(n,"contour")&&k.nestedProperty(n,"contours.coloring").get()||"heatmap",f=y[m];return void(f?(f[2].push(v),f[0]!==w&&(f[0]=!1,k.warn(["Ignoring coloraxis:",m,"setting","as it is linked to incompatible colorscales."].join(" ")))):y[m]=[w,n,[v]])}}var S=x[p+"min"],T=x[p+"max"],E=M(S)&&M(T)&&S<T;l(u+p+"auto",!E)?l(u+p+"mid"):(l(u+p+"min"),l(u+p+"max"));var O,P,I=x.colorscale,z=d.colorscale;I!==void 0&&(O=!b(I)),z!==void 0&&(O=!b(z)),l(u+"autocolorscale",O),l(u+"colorscale"),l(u+"reversescale"),u!=="marker.line."&&(u&&c&&(P=a(x)),l(u+"showscale",P)&&(u&&d&&(g._template=d),_(x,g,r)))}},52075:function(q,C,e){var M=e(39898),k=e(84267),a=e(92770),_=e(71828),b=e(7901),h=e(63282).isValid,o=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function i(u){var p,c,x,g=u._colorAx,d=g||u,v={};for(c=0;c<o.length;c++)v[x=o[c]]=d[x];if(g)for(p="c",c=0;c<t.length;c++)v[x=t[c]]=d["c"+x];else{var y;for(c=0;c<t.length;c++)((y="c"+(x=t[c]))in d||(y="z"+x)in d)&&(v[x]=d[y]);p=y.charAt(0)}return v._sync=function(m,w){var f=t.indexOf(m)!==-1?p+m:m;d[f]=d["_"+f]=w},v}function n(u){for(var p=i(u),c=p.min,x=p.max,g=p.reversescale?r(p.colorscale):p.colorscale,d=g.length,v=new Array(d),y=new Array(d),m=0;m<d;m++){var w=g[m];v[m]=c+w[0]*(x-c),y[m]=w[1]}return{domain:v,range:y}}function r(u){for(var p=u.length,c=new Array(p),x=p-1,g=0;x>=0;x--,g++){var d=u[x];c[g]=[1-d[0],d[1]]}return c}function l(u,p){p=p||{};for(var c=u.domain,x=u.range,g=x.length,d=new Array(g),v=0;v<g;v++){var y=k(x[v]).toRgb();d[v]=[y.r,y.g,y.b,y.a]}var m,w=M.scale.linear().domain(c).range(d).clamp(!0),f=p.noNumericCheck,S=p.returnArray;return(m=f&&S?w:f?function(T){return s(w(T))}:S?function(T){return a(T)?w(T):k(T).isValid()?T:b.defaultLine}:function(T){return a(T)?s(w(T)):k(T).isValid()?T:b.defaultLine}).domain=w.domain,m.range=function(){return x},m}function s(u){var p={r:u[0],g:u[1],b:u[2],a:u[3]};return k(p).toRgbString()}q.exports={hasColorscale:function(u,p,c){var x=p?_.nestedProperty(u,p).get()||{}:u,g=x[c||"color"];g&&g._inputArray&&(g=g._inputArray);var d=!1;if(_.isArrayOrTypedArray(g)){for(var v=0;v<g.length;v++)if(a(g[v])){d=!0;break}}return _.isPlainObject(x)&&(d||x.showscale===!0||a(x.cmin)&&a(x.cmax)||h(x.colorscale)||_.isPlainObject(x.colorbar))},extractOpts:i,extractScale:n,flipScale:r,makeColorScaleFunc:l,makeColorScaleFuncFromTrace:function(u,p){return l(n(u),p)}}},21081:function(q,C,e){var M=e(63282),k=e(52075);q.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:M.scales,defaultScale:M.defaultScale,getScale:M.get,isValidScale:M.isValid,hasColorscale:k.hasColorscale,extractOpts:k.extractOpts,extractScale:k.extractScale,flipScale:k.flipScale,makeColorScaleFunc:k.makeColorScaleFunc,makeColorScaleFuncFromTrace:k.makeColorScaleFuncFromTrace}},72673:function(q,C,e){var M=e(1426).extendFlat,k=e(50693),a=e(63282).scales;q.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:M({_isSubplotObj:!0,editType:"calc"},k("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(q,C,e){var M=e(71828),k=e(44467),a=e(72673),_=e(1586);q.exports=function(b,h){function o(p,c){return M.coerce(b,h,a,p,c)}o("colorscale.sequential"),o("colorscale.sequentialminus"),o("colorscale.diverging");var t,i,n=h._colorAxes;function r(p,c){return M.coerce(t,i,a.coloraxis,p,c)}for(var l in n){var s=n[l];if(s[0])t=b[l]||{},(i=k.newContainer(h,l,"coloraxis"))._name=l,_(t,i,h,r,{prefix:"",cLetter:"c"});else{for(var u=0;u<s[2].length;u++)s[2][u]();delete h._colorAxes[l]}}}},63282:function(q,C,e){var M=e(84267),k={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=k.RdBu;function _(b){var h=0;if(!Array.isArray(b)||b.length<2||!b[0]||!b[b.length-1]||+b[0][0]!=0||+b[b.length-1][0]!=1)return!1;for(var o=0;o<b.length;o++){var t=b[o];if(t.length!==2||+t[0]<h||!M(t[1]).isValid())return!1;h=+t[0]}return!0}q.exports={scales:k,defaultScale:a,get:function(b,h){if(h||(h=a),!b)return h;function o(){try{b=k[b]||JSON.parse(b)}catch{b=h}}return typeof b=="string"&&(o(),typeof b=="string"&&o()),_(b)?b:h},isValid:function(b){return k[b]!==void 0||_(b)}}},92807:function(q){q.exports=function(C,e,M,k,a){var _=(C-M)/(k-M),b=_+e/(k-M),h=(_+b)/2;return a==="left"||a==="bottom"?_:a==="center"||a==="middle"?h:a==="right"||a==="top"?b:_<.6666666666666666-h?_:b>1.3333333333333333-h?b:h}},70461:function(q,C,e){var M=e(71828),k=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];q.exports=function(a,_,b,h){return a=b==="left"?0:b==="center"?1:b==="right"?2:M.constrain(Math.floor(3*a),0,2),_=h==="bottom"?0:h==="middle"?1:h==="top"?2:M.constrain(Math.floor(3*_),0,2),k[_][a]}},64505:function(q,C){C.selectMode=function(e){return e==="lasso"||e==="select"},C.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},C.openMode=function(e){return e==="drawline"||e==="drawopenpath"},C.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},C.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},C.selectingOrDrawing=function(e){return C.freeMode(e)||C.rectMode(e)}},28569:function(q,C,e){var M=e(48956),k=e(57035),a=e(38520),_=e(71828).removeElement,b=e(85555),h=q.exports={};h.align=e(92807),h.getCursor=e(70461);var o=e(26041);function t(){var n=document.createElement("div");n.className="dragcover";var r=n.style;return r.position="fixed",r.left=0,r.right=0,r.top=0,r.bottom=0,r.zIndex=999999999,r.background="none",document.body.appendChild(n),n}function i(n){return M(n.changedTouches?n.changedTouches[0]:n,document.body)}h.unhover=o.wrapped,h.unhoverRaw=o.raw,h.init=function(n){var r,l,s,u,p,c,x,g,d=n.gd,v=1,y=d._context.doubleClickDelay,m=n.element;d._mouseDownTime||(d._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=f,a?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=f,m.addEventListener("touchstart",f,{passive:!1})):m.ontouchstart=f;var w=n.clampFn||function(E,O,P){return Math.abs(E)<P&&(E=0),Math.abs(O)<P&&(O=0),[E,O]};function f(E){d._dragged=!1,d._dragging=!0;var O=i(E);r=O[0],l=O[1],x=E.target,c=E,g=E.buttons===2||E.ctrlKey,E.clientX===void 0&&E.clientY===void 0&&(E.clientX=r,E.clientY=l),(s=new Date().getTime())-d._mouseDownTime<y?v+=1:(v=1,d._mouseDownTime=s),n.prepFn&&n.prepFn(E,r,l),k&&!g?(p=t()).style.cursor=window.getComputedStyle(m).cursor:k||(p=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",T),document.addEventListener("touchend",T),n.dragmode!==!1&&(E.preventDefault(),document.addEventListener("mousemove",S),document.addEventListener("touchmove",S,{passive:!1}))}function S(E){E.preventDefault();var O=i(E),P=n.minDrag||b.MINDRAG,I=w(O[0]-r,O[1]-l,P),z=I[0],j=I[1];(z||j)&&(d._dragged=!0,h.unhover(d,E)),d._dragged&&n.moveFn&&!g&&(d._dragdata={element:m,dx:z,dy:j},n.moveFn(z,j))}function T(E){if(delete d._dragdata,n.dragmode!==!1&&(E.preventDefault(),document.removeEventListener("mousemove",S),document.removeEventListener("touchmove",S)),document.removeEventListener("mouseup",T),document.removeEventListener("touchend",T),k?_(p):u&&(p.documentElement.style.cursor=u,u=null),d._dragging){if(d._dragging=!1,new Date().getTime()-d._mouseDownTime>y&&(v=Math.max(v-1,1)),d._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(v,c),!g){var O;try{O=new MouseEvent("click",E)}catch{var P=i(E);(O=document.createEvent("MouseEvents")).initMouseEvent("click",E.bubbles,E.cancelable,E.view,E.detail,E.screenX,E.screenY,P[0],P[1],E.ctrlKey,E.altKey,E.shiftKey,E.metaKey,E.button,E.relatedTarget)}x.dispatchEvent(O)}d._dragging=!1,d._dragged=!1}else d._dragged=!1}},h.coverSlip=t},26041:function(q,C,e){var M=e(11086),k=e(79990),a=e(24401).getGraphDiv,_=e(26675),b=q.exports={};b.wrapped=function(h,o,t){(h=a(h))._fullLayout&&k.clear(h._fullLayout._uid+_.HOVERID),b.raw(h,o,t)},b.raw=function(h,o){var t=h._fullLayout,i=h._hoverdata;o||(o={}),o.target&&!h._dragged&&M.triggerHandler(h,"plotly_beforehover",o)===!1||(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),h._hoverdata=void 0,o.target&&i&&h.emit("plotly_unhover",{event:o,points:i}))}},79952:function(q,C){C.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},C.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(q,C,e){var M=e(39898),k=e(71828),a=k.numberFormat,_=e(92770),b=e(84267),h=e(73972),o=e(7901),t=e(21081),i=k.strTranslate,n=e(63893),r=e(77922),l=e(18783).LINE_SPACING,s=e(37822).DESELECTDIM,u=e(34098),p=e(39984),c=e(23469).appendArrayPointValue,x=q.exports={};function g(Te,we,oe){var se=we.fillpattern,he=se&&x.getPatternAttr(se.shape,0,"");if(he){var Se=x.getPatternAttr(se.bgcolor,0,null),_e=x.getPatternAttr(se.fgcolor,0,null),Ae=se.fgopacity,Ce=x.getPatternAttr(se.size,0,8),Re=x.getPatternAttr(se.solidity,0,.3),fe=we.uid;x.pattern(Te,"point",oe,fe,he,Ce,Re,void 0,se.fillmode,Se,_e,Ae)}else we.fillcolor&&Te.call(o.fill,we.fillcolor)}x.font=function(Te,we,oe,se){k.isPlainObject(we)&&(se=we.color,oe=we.size,we=we.family),we&&Te.style("font-family",we),oe+1&&Te.style("font-size",oe+"px"),se&&Te.call(o.fill,se)},x.setPosition=function(Te,we,oe){Te.attr("x",we).attr("y",oe)},x.setSize=function(Te,we,oe){Te.attr("width",we).attr("height",oe)},x.setRect=function(Te,we,oe,se,he){Te.call(x.setPosition,we,oe).call(x.setSize,se,he)},x.translatePoint=function(Te,we,oe,se){var he=oe.c2p(Te.x),Se=se.c2p(Te.y);return!!(_(he)&&_(Se)&&we.node())&&(we.node().nodeName==="text"?we.attr("x",he).attr("y",Se):we.attr("transform",i(he,Se)),!0)},x.translatePoints=function(Te,we,oe){Te.each(function(se){var he=M.select(this);x.translatePoint(se,he,we,oe)})},x.hideOutsideRangePoint=function(Te,we,oe,se,he,Se){we.attr("display",oe.isPtWithinRange(Te,he)&&se.isPtWithinRange(Te,Se)?null:"none")},x.hideOutsideRangePoints=function(Te,we){if(we._hasClipOnAxisFalse){var oe=we.xaxis,se=we.yaxis;Te.each(function(he){var Se=he[0].trace,_e=Se.xcalendar,Ae=Se.ycalendar,Ce=h.traceIs(Se,"bar-like")?".bartext":".point,.textpoint";Te.selectAll(Ce).each(function(Re){x.hideOutsideRangePoint(Re,M.select(this),oe,se,_e,Ae)})})}},x.crispRound=function(Te,we,oe){return we&&_(we)?Te._context.staticPlot?we:we<1?1:Math.round(we):oe||0},x.singleLineStyle=function(Te,we,oe,se,he){we.style("fill","none");var Se=(((Te||[])[0]||{}).trace||{}).line||{},_e=oe||Se.width||0,Ae=he||Se.dash||"";o.stroke(we,se||Se.color),x.dashLine(we,Ae,_e)},x.lineGroupStyle=function(Te,we,oe,se){Te.style("fill","none").each(function(he){var Se=(((he||[])[0]||{}).trace||{}).line||{},_e=we||Se.width||0,Ae=se||Se.dash||"";M.select(this).call(o.stroke,oe||Se.color).call(x.dashLine,Ae,_e)})},x.dashLine=function(Te,we,oe){oe=+oe||0,we=x.dashStyle(we,oe),Te.style({"stroke-dasharray":we,"stroke-width":oe+"px"})},x.dashStyle=function(Te,we){we=+we||1;var oe=Math.max(we,3);return Te==="solid"?Te="":Te==="dot"?Te=oe+"px,"+oe+"px":Te==="dash"?Te=3*oe+"px,"+3*oe+"px":Te==="longdash"?Te=5*oe+"px,"+5*oe+"px":Te==="dashdot"?Te=3*oe+"px,"+oe+"px,"+oe+"px,"+oe+"px":Te==="longdashdot"&&(Te=5*oe+"px,"+2*oe+"px,"+oe+"px,"+2*oe+"px"),Te},x.singleFillStyle=function(Te,we){var oe=M.select(Te.node());g(Te,((oe.data()[0]||[])[0]||{}).trace||{},we)},x.fillGroupStyle=function(Te,we){Te.style("stroke-width",0).each(function(oe){var se=M.select(this);oe[0].trace&&g(se,oe[0].trace,we)})};var d=e(90998);x.symbolNames=[],x.symbolFuncs=[],x.symbolBackOffs=[],x.symbolNeedLines={},x.symbolNoDot={},x.symbolNoFill={},x.symbolList=[],Object.keys(d).forEach(function(Te){var we=d[Te],oe=we.n;x.symbolList.push(oe,String(oe),Te,oe+100,String(oe+100),Te+"-open"),x.symbolNames[oe]=Te,x.symbolFuncs[oe]=we.f,x.symbolBackOffs[oe]=we.backoff||0,we.needLine&&(x.symbolNeedLines[oe]=!0),we.noDot?x.symbolNoDot[oe]=!0:x.symbolList.push(oe+200,String(oe+200),Te+"-dot",oe+300,String(oe+300),Te+"-open-dot"),we.noFill&&(x.symbolNoFill[oe]=!0)});var v=x.symbolNames.length;function y(Te,we,oe,se){var he=Te%100;return x.symbolFuncs[he](we,oe,se)+(Te>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}x.symbolNumber=function(Te){if(_(Te))Te=+Te;else if(typeof Te=="string"){var we=0;Te.indexOf("-open")>0&&(we=100,Te=Te.replace("-open","")),Te.indexOf("-dot")>0&&(we+=200,Te=Te.replace("-dot","")),(Te=x.symbolNames.indexOf(Te))>=0&&(Te+=we)}return Te%100>=v||Te>=400?0:Math.floor(Math.max(Te,0))};var m={x1:1,x2:0,y1:0,y2:0},w={x1:0,x2:0,y1:1,y2:0},f=a("~f"),S={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:m},horizontalreversed:{node:"linearGradient",attrs:m,reversed:!0},vertical:{node:"linearGradient",attrs:w},verticalreversed:{node:"linearGradient",attrs:w,reversed:!0}};x.gradient=function(Te,we,oe,se,he,Se){for(var _e=he.length,Ae=S[se],Ce=new Array(_e),Re=0;Re<_e;Re++)Ae.reversed?Ce[_e-1-Re]=[f(100*(1-he[Re][0])),he[Re][1]]:Ce[Re]=[f(100*he[Re][0]),he[Re][1]];var fe=we._fullLayout,xe="g"+fe._uid+"-"+oe,ke=fe._defs.select(".gradients").selectAll("#"+xe).data([se+Ce.join(";")],k.identity);ke.exit().remove(),ke.enter().append(Ae.node).each(function(){var Ie=M.select(this);Ae.attrs&&Ie.attr(Ae.attrs),Ie.attr("id",xe);var Fe=Ie.selectAll("stop").data(Ce);Fe.exit().remove(),Fe.enter().append("stop"),Fe.each(function(ze){var qe=b(ze[1]);M.select(this).attr({offset:ze[0]+"%","stop-color":o.tinyRGB(qe),"stop-opacity":qe.getAlpha()})})}),Te.style(Se,Q(xe,we)).style(Se+"-opacity",null),Te.classed("gradient_filled",!0)},x.pattern=function(Te,we,oe,se,he,Se,_e,Ae,Ce,Re,fe,xe){var ke=we==="legend";Ae&&(Ce==="overlay"?(Re=Ae,fe=o.contrast(Re)):(Re=void 0,fe=Ae));var Ie,Fe,ze,qe,Ye,Qe,ft,ht,mt,Mt=oe._fullLayout,_t="p"+Mt._uid+"-"+se,it={},st=b(fe),St=o.tinyRGB(st),zt=xe*st.getAlpha();switch(he){case"/":Ie=Se*Math.sqrt(2),Fe=Se*Math.sqrt(2),Qe="path",it={d:ze="M-"+Ie/4+","+Fe/4+"l"+Ie/2+",-"+Fe/2+"M0,"+Fe+"L"+Ie+",0M"+Ie/4*3+","+Fe/4*5+"l"+Ie/2+",-"+Fe/2,opacity:zt,stroke:St,"stroke-width":(qe=_e*Se)+"px"};break;case"\\":Ie=Se*Math.sqrt(2),Fe=Se*Math.sqrt(2),Qe="path",it={d:ze="M"+Ie/4*3+",-"+Fe/4+"l"+Ie/2+","+Fe/2+"M0,0L"+Ie+","+Fe+"M-"+Ie/4+","+Fe/4*3+"l"+Ie/2+","+Fe/2,opacity:zt,stroke:St,"stroke-width":(qe=_e*Se)+"px"};break;case"x":Ie=Se*Math.sqrt(2),Fe=Se*Math.sqrt(2),ze="M-"+Ie/4+","+Fe/4+"l"+Ie/2+",-"+Fe/2+"M0,"+Fe+"L"+Ie+",0M"+Ie/4*3+","+Fe/4*5+"l"+Ie/2+",-"+Fe/2+"M"+Ie/4*3+",-"+Fe/4+"l"+Ie/2+","+Fe/2+"M0,0L"+Ie+","+Fe+"M-"+Ie/4+","+Fe/4*3+"l"+Ie/2+","+Fe/2,qe=Se-Se*Math.sqrt(1-_e),Qe="path",it={d:ze,opacity:zt,stroke:St,"stroke-width":qe+"px"};break;case"|":Qe="path",Qe="path",it={d:ze="M"+(Ie=Se)/2+",0L"+Ie/2+","+(Fe=Se),opacity:zt,stroke:St,"stroke-width":(qe=_e*Se)+"px"};break;case"-":Qe="path",Qe="path",it={d:ze="M0,"+(Fe=Se)/2+"L"+(Ie=Se)+","+Fe/2,opacity:zt,stroke:St,"stroke-width":(qe=_e*Se)+"px"};break;case"+":Qe="path",ze="M"+(Ie=Se)/2+",0L"+Ie/2+","+(Fe=Se)+"M0,"+Fe/2+"L"+Ie+","+Fe/2,qe=Se-Se*Math.sqrt(1-_e),Qe="path",it={d:ze,opacity:zt,stroke:St,"stroke-width":qe+"px"};break;case".":Ie=Se,Fe=Se,_e<Math.PI/4?Ye=Math.sqrt(_e*Se*Se/Math.PI):(ft=_e,ht=Math.PI/4,Ye=(mt=Se/2)+(Se/Math.sqrt(2)-mt)*(ft-ht)/(1-ht)),Qe="circle",it={cx:Ie/2,cy:Fe/2,r:Ye,opacity:zt,fill:St}}var Ft=[he||"noSh",Re||"noBg",fe||"noFg",Se,_e].join(";"),Pt=Mt._defs.select(".patterns").selectAll("#"+_t).data([Ft],k.identity);Pt.exit().remove(),Pt.enter().append("pattern").each(function(){var Ze=M.select(this);if(Ze.attr({id:_t,width:Ie+"px",height:Fe+"px",patternUnits:"userSpaceOnUse",patternTransform:ke?"scale(0.8)":""}),Re){var Je=b(Re),Ue=o.tinyRGB(Je),Xe=Je.getAlpha(),lt=Ze.selectAll("rect").data([0]);lt.exit().remove(),lt.enter().append("rect").attr({width:Ie+"px",height:Fe+"px",fill:Ue,"fill-opacity":Xe})}var ot=Ze.selectAll(Qe).data([0]);ot.exit().remove(),ot.enter().append(Qe).attr(it)}),Te.style("fill",Q(_t,oe)).style("fill-opacity",null),Te.classed("pattern_filled",!0)},x.initGradients=function(Te){var we=Te._fullLayout;k.ensureSingle(we._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),M.select(Te).selectAll(".gradient_filled").classed("gradient_filled",!1)},x.initPatterns=function(Te){var we=Te._fullLayout;k.ensureSingle(we._defs,"g","patterns").selectAll("pattern").remove(),M.select(Te).selectAll(".pattern_filled").classed("pattern_filled",!1)},x.getPatternAttr=function(Te,we,oe){return Te&&k.isArrayOrTypedArray(Te)?we<Te.length?Te[we]:oe:Te},x.pointStyle=function(Te,we,oe,se){if(Te.size()){var he=x.makePointStyleFns(we);Te.each(function(Se){x.singlePointStyle(Se,M.select(this),we,he,oe,se)})}},x.singlePointStyle=function(Te,we,oe,se,he,Se){var _e=oe.marker,Ae=_e.line;if(Se&&Se.i>=0&&Te.i===void 0&&(Te.i=Se.i),we.style("opacity",se.selectedOpacityFn?se.selectedOpacityFn(Te):Te.mo===void 0?_e.opacity:Te.mo),se.ms2mrc){var Ce;Ce=Te.ms==="various"||_e.size==="various"?3:se.ms2mrc(Te.ms),Te.mrc=Ce,se.selectedSizeFn&&(Ce=Te.mrc=se.selectedSizeFn(Te));var Re=x.symbolNumber(Te.mx||_e.symbol)||0;Te.om=Re%200>=100;var fe=Ee(Te,oe),xe=K(Te,oe);we.attr("d",y(Re,Ce,fe,xe))}var ke,Ie,Fe,ze=!1;if(Te.so)Fe=Ae.outlierwidth,Ie=Ae.outliercolor,ke=_e.outliercolor;else{var qe=(Ae||{}).width;Fe=(Te.mlw+1||qe+1||(Te.trace?(Te.trace.marker.line||{}).width:0)+1)-1||0,Ie="mlc"in Te?Te.mlcc=se.lineScale(Te.mlc):k.isArrayOrTypedArray(Ae.color)?o.defaultLine:Ae.color,k.isArrayOrTypedArray(_e.color)&&(ke=o.defaultLine,ze=!0),ke="mc"in Te?Te.mcc=se.markerScale(Te.mc):_e.color||_e.colors||"rgba(0,0,0,0)",se.selectedColorFn&&(ke=se.selectedColorFn(Te))}if(Te.om)we.call(o.stroke,ke).style({"stroke-width":(Fe||1)+"px",fill:"none"});else{we.style("stroke-width",(Te.isBlank?0:Fe)+"px");var Ye=_e.gradient,Qe=Te.mgt;Qe?ze=!0:Qe=Ye&&Ye.type,k.isArrayOrTypedArray(Qe)&&(Qe=Qe[0],S[Qe]||(Qe=0));var ft=_e.pattern,ht=ft&&x.getPatternAttr(ft.shape,Te.i,"");if(Qe&&Qe!=="none"){var mt=Te.mgc;mt?ze=!0:mt=Ye.color;var Mt=oe.uid;ze&&(Mt+="-"+Te.i),x.gradient(we,he,Mt,Qe,[[0,mt],[1,ke]],"fill")}else if(ht){var _t=!1,it=ft.fgcolor;!it&&Se&&Se.color&&(it=Se.color,_t=!0);var st=x.getPatternAttr(it,Te.i,Se&&Se.color||null),St=x.getPatternAttr(ft.bgcolor,Te.i,null),zt=ft.fgopacity,Ft=x.getPatternAttr(ft.size,Te.i,8),Pt=x.getPatternAttr(ft.solidity,Te.i,.3);_t=_t||Te.mcc||k.isArrayOrTypedArray(ft.shape)||k.isArrayOrTypedArray(ft.bgcolor)||k.isArrayOrTypedArray(ft.fgcolor)||k.isArrayOrTypedArray(ft.size)||k.isArrayOrTypedArray(ft.solidity);var Ze=oe.uid;_t&&(Ze+="-"+Te.i),x.pattern(we,"point",he,Ze,ht,Ft,Pt,Te.mcc,ft.fillmode,St,st,zt)}else k.isArrayOrTypedArray(ke)?o.fill(we,ke[Te.i]):o.fill(we,ke);Fe&&o.stroke(we,Ie)}},x.makePointStyleFns=function(Te){var we={},oe=Te.marker;return we.markerScale=x.tryColorscale(oe,""),we.lineScale=x.tryColorscale(oe,"line"),h.traceIs(Te,"symbols")&&(we.ms2mrc=u.isBubble(Te)?p(Te):function(){return(oe.size||6)/2}),Te.selectedpoints&&k.extendFlat(we,x.makeSelectedPointStyleFns(Te)),we},x.makeSelectedPointStyleFns=function(Te){var we={},oe=Te.selected||{},se=Te.unselected||{},he=Te.marker||{},Se=oe.marker||{},_e=se.marker||{},Ae=he.opacity,Ce=Se.opacity,Re=_e.opacity,fe=Ce!==void 0,xe=Re!==void 0;(k.isArrayOrTypedArray(Ae)||fe||xe)&&(we.selectedOpacityFn=function(ht){var mt=ht.mo===void 0?he.opacity:ht.mo;return ht.selected?fe?Ce:mt:xe?Re:s*mt});var ke=he.color,Ie=Se.color,Fe=_e.color;(Ie||Fe)&&(we.selectedColorFn=function(ht){var mt=ht.mcc||ke;return ht.selected?Ie||mt:Fe||mt});var ze=he.size,qe=Se.size,Ye=_e.size,Qe=qe!==void 0,ft=Ye!==void 0;return h.traceIs(Te,"symbols")&&(Qe||ft)&&(we.selectedSizeFn=function(ht){var mt=ht.mrc||ze/2;return ht.selected?Qe?qe/2:mt:ft?Ye/2:mt}),we},x.makeSelectedTextStyleFns=function(Te){var we={},oe=Te.selected||{},se=Te.unselected||{},he=Te.textfont||{},Se=oe.textfont||{},_e=se.textfont||{},Ae=he.color,Ce=Se.color,Re=_e.color;return we.selectedTextColorFn=function(fe){var xe=fe.tc||Ae;return fe.selected?Ce||xe:Re||(Ce?xe:o.addOpacity(xe,s))},we},x.selectedPointStyle=function(Te,we){if(Te.size()&&we.selectedpoints){var oe=x.makeSelectedPointStyleFns(we),se=we.marker||{},he=[];oe.selectedOpacityFn&&he.push(function(Se,_e){Se.style("opacity",oe.selectedOpacityFn(_e))}),oe.selectedColorFn&&he.push(function(Se,_e){o.fill(Se,oe.selectedColorFn(_e))}),oe.selectedSizeFn&&he.push(function(Se,_e){var Ae=_e.mx||se.symbol||0,Ce=oe.selectedSizeFn(_e);Se.attr("d",y(x.symbolNumber(Ae),Ce,Ee(_e,we),K(_e,we))),_e.mrc2=Ce}),he.length&&Te.each(function(Se){for(var _e=M.select(this),Ae=0;Ae<he.length;Ae++)he[Ae](_e,Se)})}},x.tryColorscale=function(Te,we){var oe=we?k.nestedProperty(Te,we).get():Te;if(oe){var se=oe.color;if((oe.colorscale||oe._colorAx)&&k.isArrayOrTypedArray(se))return t.makeColorScaleFuncFromTrace(oe)}return k.identity};var T,E,O={start:1,end:-1,middle:0,bottom:1,top:-1};function P(Te,we,oe,se,he){var Se=M.select(Te.node().parentNode),_e=we.indexOf("top")!==-1?"top":we.indexOf("bottom")!==-1?"bottom":"middle",Ae=we.indexOf("left")!==-1?"end":we.indexOf("right")!==-1?"start":"middle",Ce=se?se/.8+1:0,Re=(n.lineCount(Te)-1)*l+1,fe=O[Ae]*Ce,xe=.75*oe+O[_e]*Ce+(O[_e]-1)*Re*oe/2;Te.attr("text-anchor",Ae),he||Se.attr("transform",i(fe,xe))}function I(Te,we){var oe=Te.ts||we.textfont.size;return _(oe)&&oe>0?oe:0}function z(Te,we,oe){return oe&&(Te=U(Te)),we?R(Te[1]):j(Te[0])}function j(Te){var we=M.round(Te,2);return T=we,we}function R(Te){var we=M.round(Te,2);return E=we,we}function N(Te,we,oe,se){var he=Te[0]-we[0],Se=Te[1]-we[1],_e=oe[0]-we[0],Ae=oe[1]-we[1],Ce=Math.pow(he*he+Se*Se,.25),Re=Math.pow(_e*_e+Ae*Ae,.25),fe=(Re*Re*he-Ce*Ce*_e)*se,xe=(Re*Re*Se-Ce*Ce*Ae)*se,ke=3*Re*(Ce+Re),Ie=3*Ce*(Ce+Re);return[[j(we[0]+(ke&&fe/ke)),R(we[1]+(ke&&xe/ke))],[j(we[0]-(Ie&&fe/Ie)),R(we[1]-(Ie&&xe/Ie))]]}x.textPointStyle=function(Te,we,oe){if(Te.size()){var se;if(we.selectedpoints){var he=x.makeSelectedTextStyleFns(we);se=he.selectedTextColorFn}var Se=we.texttemplate,_e=oe._fullLayout;Te.each(function(Ae){var Ce=M.select(this),Re=Se?k.extractOption(Ae,we,"txt","texttemplate"):k.extractOption(Ae,we,"tx","text");if(Re||Re===0){if(Se){var fe=we._module.formatLabels,xe=fe?fe(Ae,we,_e):{},ke={};c(ke,we,Ae.i);var Ie=we._meta||{};Re=k.texttemplateString(Re,xe,_e._d3locale,ke,Ae,Ie)}var Fe=Ae.tp||we.textposition,ze=I(Ae,we),qe=se?se(Ae):Ae.tc||we.textfont.color;Ce.call(x.font,Ae.tf||we.textfont.family,ze,qe).text(Re).call(n.convertToTspans,oe).call(P,Fe,ze,Ae.mrc)}else Ce.remove()})}},x.selectedTextStyle=function(Te,we){if(Te.size()&&we.selectedpoints){var oe=x.makeSelectedTextStyleFns(we);Te.each(function(se){var he=M.select(this),Se=oe.selectedTextColorFn(se),_e=se.tp||we.textposition,Ae=I(se,we);o.fill(he,Se);var Ce=h.traceIs(we,"bar-like");P(he,_e,Ae,se.mrc2||se.mrc,Ce)})}},x.smoothopen=function(Te,we){if(Te.length<3)return"M"+Te.join("L");var oe,se="M"+Te[0],he=[];for(oe=1;oe<Te.length-1;oe++)he.push(N(Te[oe-1],Te[oe],Te[oe+1],we));for(se+="Q"+he[0][0]+" "+Te[1],oe=2;oe<Te.length-1;oe++)se+="C"+he[oe-2][1]+" "+he[oe-1][0]+" "+Te[oe];return se+"Q"+he[Te.length-3][1]+" "+Te[Te.length-1]},x.smoothclosed=function(Te,we){if(Te.length<3)return"M"+Te.join("L")+"Z";var oe,se="M"+Te[0],he=Te.length-1,Se=[N(Te[he],Te[0],Te[1],we)];for(oe=1;oe<he;oe++)Se.push(N(Te[oe-1],Te[oe],Te[oe+1],we));for(Se.push(N(Te[he-1],Te[he],Te[0],we)),oe=1;oe<=he;oe++)se+="C"+Se[oe-1][1]+" "+Se[oe][0]+" "+Te[oe];return se+"C"+Se[he][1]+" "+Se[0][0]+" "+Te[0]+"Z"};var Z={hv:function(Te,we,oe){return"H"+j(we[0])+"V"+z(we,1,oe)},vh:function(Te,we,oe){return"V"+R(we[1])+"H"+z(we,0,oe)},hvh:function(Te,we,oe){return"H"+j((Te[0]+we[0])/2)+"V"+R(we[1])+"H"+z(we,0,oe)},vhv:function(Te,we,oe){return"V"+R((Te[1]+we[1])/2)+"H"+j(we[0])+"V"+z(we,1,oe)}},F=function(Te,we,oe){return"L"+z(we,0,oe)+","+z(we,1,oe)};function U(Te,we){var oe=Te.backoff,se=Te.trace,he=Te.d,Se=Te.i;if(oe&&se&&se.marker&&se.marker.angle%360==0&&se.line&&se.line.shape!=="spline"){var _e=k.isArrayOrTypedArray(oe),Ae=Te,Ce=we?we[0]:T||0,Re=we?we[1]:E||0,fe=Ae[0],xe=Ae[1],ke=fe-Ce,Ie=xe-Re,Fe=Math.atan2(Ie,ke),ze=_e?oe[Se]:oe;if(ze==="auto"){var qe=Ae.i;se.type==="scatter"&&qe--;var Ye=Ae.marker,Qe=Ye.symbol;k.isArrayOrTypedArray(Qe)&&(Qe=Qe[qe]);var ft=Ye.size;k.isArrayOrTypedArray(ft)&&(ft=ft[qe]),ze=Ye?x.symbolBackOffs[x.symbolNumber(Qe)]*ft:0,ze+=x.getMarkerStandoff(he[qe],se)||0}var ht=fe-ze*Math.cos(Fe),mt=xe-ze*Math.sin(Fe);(ht<=fe&&ht>=Ce||ht>=fe&&ht<=Ce)&&(mt<=xe&&mt>=Re||mt>=xe&&mt<=Re)&&(Te=[ht,mt])}return Te}x.steps=function(Te){var we=Z[Te]||F;return function(oe){for(var se="M"+j(oe[0][0])+","+R(oe[0][1]),he=oe.length,Se=1;Se<he;Se++)se+=we(oe[Se-1],oe[Se],Se===he-1);return se}},x.applyBackoff=U,x.makeTester=function(){var Te=k.ensureSingleById(M.select("body"),"svg","js-plotly-tester",function(oe){oe.attr(r.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),we=k.ensureSingle(Te,"path","js-reference-point",function(oe){oe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});x.tester=Te,x.testref=we},x.savedBBoxes={};var V=0;function te(Te){var we=Te.getAttribute("data-unformatted");if(we!==null)return we+Te.getAttribute("data-math")+Te.getAttribute("text-anchor")+Te.getAttribute("style")}function Q(Te,we){if(!Te)return null;var oe=we._context,se=oe._exportedPlot?"":oe._baseUrl||"";return se?"url('"+se+"#"+Te+"')":"url(#"+Te+")"}x.bBox=function(Te,we,oe){var se,he,Se;if(oe||(oe=te(Te)),oe){if(se=x.savedBBoxes[oe])return k.extendFlat({},se)}else if(Te.childNodes.length===1){var _e=Te.childNodes[0];if(oe=te(_e)){var Ae=+_e.getAttribute("x")||0,Ce=+_e.getAttribute("y")||0,Re=_e.getAttribute("transform");if(!Re){var fe=x.bBox(_e,!1,oe);return Ae&&(fe.left+=Ae,fe.right+=Ae),Ce&&(fe.top+=Ce,fe.bottom+=Ce),fe}if(oe+="~"+Ae+"~"+Ce+"~"+Re,se=x.savedBBoxes[oe])return k.extendFlat({},se)}}we?he=Te:(Se=x.tester.node(),he=Te.cloneNode(!0),Se.appendChild(he)),M.select(he).attr("transform",null).call(n.positionText,0,0);var xe=he.getBoundingClientRect(),ke=x.testref.node().getBoundingClientRect();we||Se.removeChild(he);var Ie={height:xe.height,width:xe.width,left:xe.left-ke.left,top:xe.top-ke.top,right:xe.right-ke.left,bottom:xe.bottom-ke.top};return V>=1e4&&(x.savedBBoxes={},V=0),oe&&(x.savedBBoxes[oe]=Ie),V++,k.extendFlat({},Ie)},x.setClipUrl=function(Te,we,oe){Te.attr("clip-path",Q(we,oe))},x.getTranslate=function(Te){var we=(Te[Te.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(oe,se,he){return[se,he].join(" ")}).split(" ");return{x:+we[0]||0,y:+we[1]||0}},x.setTranslate=function(Te,we,oe){var se=Te.attr?"attr":"getAttribute",he=Te.attr?"attr":"setAttribute",Se=Te[se]("transform")||"";return we=we||0,oe=oe||0,Se=Se.replace(/(\btranslate\(.*?\);?)/,"").trim(),Se=(Se+=i(we,oe)).trim(),Te[he]("transform",Se),Se},x.getScale=function(Te){var we=(Te[Te.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(oe,se,he){return[se,he].join(" ")}).split(" ");return{x:+we[0]||1,y:+we[1]||1}},x.setScale=function(Te,we,oe){var se=Te.attr?"attr":"getAttribute",he=Te.attr?"attr":"setAttribute",Se=Te[se]("transform")||"";return we=we||1,oe=oe||1,Se=Se.replace(/(\bscale\(.*?\);?)/,"").trim(),Se=(Se+="scale("+we+","+oe+")").trim(),Te[he]("transform",Se),Se};var J=/\s*sc.*/;x.setPointGroupScale=function(Te,we,oe){if(we=we||1,oe=oe||1,Te){var se=we===1&&oe===1?"":"scale("+we+","+oe+")";Te.each(function(){var he=(this.getAttribute("transform")||"").replace(J,"");he=(he+=se).trim(),this.setAttribute("transform",he)})}};var X=/translate\([^)]*\)\s*$/;function K(Te,we){var oe;return Te&&(oe=Te.mf),oe===void 0&&(oe=we.marker&&we.marker.standoff||0),we._geo||we._xA?oe:-oe}x.setTextPointsScale=function(Te,we,oe){Te&&Te.each(function(){var se,he=M.select(this),Se=he.select("text");if(Se.node()){var _e=parseFloat(Se.attr("x")||0),Ae=parseFloat(Se.attr("y")||0),Ce=(he.attr("transform")||"").match(X);se=we===1&&oe===1?[]:[i(_e,Ae),"scale("+we+","+oe+")",i(-_e,-Ae)],Ce&&se.push(Ce),he.attr("transform",se.join(""))}})},x.getMarkerStandoff=K;var ee,re,ie,ae,ue,pe,de=Math.atan2,ye=Math.cos,be=Math.sin;function me(Te,we){var oe=we[0],se=we[1];return[oe*ye(Te)-se*be(Te),oe*be(Te)+se*ye(Te)]}function Ee(Te,we){var oe,se,he=Te.ma;he===void 0&&((he=we.marker.angle)&&!k.isArrayOrTypedArray(he)||(he=0));var Se=we.marker.angleref;if(Se==="previous"||Se==="north"){if(we._geo){var _e=we._geo.project(Te.lonlat);oe=_e[0],se=_e[1]}else{var Ae=we._xA,Ce=we._yA;if(!Ae||!Ce)return 90;oe=Ae.c2p(Te.x),se=Ce.c2p(Te.y)}if(we._geo){var Re,fe=Te.lonlat[0],xe=Te.lonlat[1],ke=we._geo.project([fe,xe+1e-5]),Ie=we._geo.project([fe+1e-5,xe]),Fe=de(Ie[1]-se,Ie[0]-oe),ze=de(ke[1]-se,ke[0]-oe);if(Se==="north")Re=he/180*Math.PI;else if(Se==="previous"){var qe=fe/180*Math.PI,Ye=xe/180*Math.PI,Qe=ee/180*Math.PI,ft=re/180*Math.PI,ht=Qe-qe,mt=ye(ft)*be(ht),Mt=be(ft)*ye(Ye)-ye(ft)*be(Ye)*ye(ht);Re=-de(mt,Mt)-Math.PI,ee=fe,re=xe}var _t=me(Fe,[ye(Re),0]),it=me(ze,[be(Re),0]);he=de(_t[1]+it[1],_t[0]+it[0])/Math.PI*180,Se!=="previous"||pe===we.uid&&Te.i===ue+1||(he=null)}if(Se==="previous"&&!we._geo)if(pe===we.uid&&Te.i===ue+1&&_(oe)&&_(se)){var st=oe-ie,St=se-ae,zt=we.line&&we.line.shape||"",Ft=zt.slice(zt.length-1);Ft==="h"&&(St=0),Ft==="v"&&(st=0),he+=de(St,st)/Math.PI*180+90}else he=null}return ie=oe,ae=se,ue=Te.i,pe=we.uid,he}x.getMarkerAngle=Ee},90998:function(q,C,e){var M,k,a,_,b=e(95616),h=e(39898).round,o="M0,0Z",t=Math.sqrt(2),i=Math.sqrt(3),n=Math.PI,r=Math.cos,l=Math.sin;function s(p){return p===null}function u(p,c,x){if(!(p&&p%360!=0||c))return x;if(a===p&&_===c&&M===x)return k;function g(z,j){var R=r(z),N=l(z),Z=j[0],F=j[1]+(c||0);return[Z*R-F*N,Z*N+F*R]}a=p,_=c,M=x;for(var d=p/180*n,v=0,y=0,m=b(x),w="",f=0;f<m.length;f++){var S=m[f],T=S[0],E=v,O=y;if(T==="M"||T==="L")v=+S[1],y=+S[2];else if(T==="m"||T==="l")v+=+S[1],y+=+S[2];else if(T==="H")v=+S[1];else if(T==="h")v+=+S[1];else if(T==="V")y=+S[1];else if(T==="v")y+=+S[1];else if(T==="A"){v=+S[1],y=+S[2];var P=g(d,[+S[6],+S[7]]);S[6]=P[0],S[7]=P[1],S[3]=+S[3]+p}T!=="H"&&T!=="V"||(T="L"),T!=="h"&&T!=="v"||(T="l"),T!=="m"&&T!=="l"||(v-=E,y-=O);var I=g(d,[v,y]);T!=="H"&&T!=="V"||(T="L"),T!=="M"&&T!=="L"&&T!=="m"&&T!=="l"||(S[1]=I[0],S[2]=I[1]),S[0]=T,w+=S[0]+S.slice(1).join(",")}return k=w,w}q.exports={circle:{n:0,f:function(p,c,x){if(s(c))return o;var g=h(p,2),d="M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z";return x?u(c,x,d):d}},square:{n:1,f:function(p,c,x){if(s(c))return o;var g=h(p,2);return u(c,x,"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")}},diamond:{n:2,f:function(p,c,x){if(s(c))return o;var g=h(1.3*p,2);return u(c,x,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"Z")}},cross:{n:3,f:function(p,c,x){if(s(c))return o;var g=h(.4*p,2),d=h(1.2*p,2);return u(c,x,"M"+d+","+g+"H"+g+"V"+d+"H-"+g+"V"+g+"H-"+d+"V-"+g+"H-"+g+"V-"+d+"H"+g+"V-"+g+"H"+d+"Z")}},x:{n:4,f:function(p,c,x){if(s(c))return o;var g=h(.8*p/t,2),d="l"+g+","+g,v="l"+g+",-"+g,y="l-"+g+",-"+g,m="l-"+g+","+g;return u(c,x,"M0,"+g+d+v+y+v+y+m+y+m+d+m+d+"Z")}},"triangle-up":{n:5,f:function(p,c,x){if(s(c))return o;var g=h(2*p/i,2);return u(c,x,"M-"+g+","+h(p/2,2)+"H"+g+"L0,-"+h(p,2)+"Z")}},"triangle-down":{n:6,f:function(p,c,x){if(s(c))return o;var g=h(2*p/i,2);return u(c,x,"M-"+g+",-"+h(p/2,2)+"H"+g+"L0,"+h(p,2)+"Z")}},"triangle-left":{n:7,f:function(p,c,x){if(s(c))return o;var g=h(2*p/i,2);return u(c,x,"M"+h(p/2,2)+",-"+g+"V"+g+"L-"+h(p,2)+",0Z")}},"triangle-right":{n:8,f:function(p,c,x){if(s(c))return o;var g=h(2*p/i,2);return u(c,x,"M-"+h(p/2,2)+",-"+g+"V"+g+"L"+h(p,2)+",0Z")}},"triangle-ne":{n:9,f:function(p,c,x){if(s(c))return o;var g=h(.6*p,2),d=h(1.2*p,2);return u(c,x,"M-"+d+",-"+g+"H"+g+"V"+d+"Z")}},"triangle-se":{n:10,f:function(p,c,x){if(s(c))return o;var g=h(.6*p,2),d=h(1.2*p,2);return u(c,x,"M"+g+",-"+d+"V"+g+"H-"+d+"Z")}},"triangle-sw":{n:11,f:function(p,c,x){if(s(c))return o;var g=h(.6*p,2),d=h(1.2*p,2);return u(c,x,"M"+d+","+g+"H-"+g+"V-"+d+"Z")}},"triangle-nw":{n:12,f:function(p,c,x){if(s(c))return o;var g=h(.6*p,2),d=h(1.2*p,2);return u(c,x,"M-"+g+","+d+"V-"+g+"H"+d+"Z")}},pentagon:{n:13,f:function(p,c,x){if(s(c))return o;var g=h(.951*p,2),d=h(.588*p,2),v=h(-p,2),y=h(-.309*p,2);return u(c,x,"M"+g+","+y+"L"+d+","+h(.809*p,2)+"H-"+d+"L-"+g+","+y+"L0,"+v+"Z")}},hexagon:{n:14,f:function(p,c,x){if(s(c))return o;var g=h(p,2),d=h(p/2,2),v=h(p*i/2,2);return u(c,x,"M"+v+",-"+d+"V"+d+"L0,"+g+"L-"+v+","+d+"V-"+d+"L0,-"+g+"Z")}},hexagon2:{n:15,f:function(p,c,x){if(s(c))return o;var g=h(p,2),d=h(p/2,2),v=h(p*i/2,2);return u(c,x,"M-"+d+","+v+"H"+d+"L"+g+",0L"+d+",-"+v+"H-"+d+"L-"+g+",0Z")}},octagon:{n:16,f:function(p,c,x){if(s(c))return o;var g=h(.924*p,2),d=h(.383*p,2);return u(c,x,"M-"+d+",-"+g+"H"+d+"L"+g+",-"+d+"V"+d+"L"+d+","+g+"H-"+d+"L-"+g+","+d+"V-"+d+"Z")}},star:{n:17,f:function(p,c,x){if(s(c))return o;var g=1.4*p,d=h(.225*g,2),v=h(.951*g,2),y=h(.363*g,2),m=h(.588*g,2),w=h(-g,2),f=h(-.309*g,2),S=h(.118*g,2),T=h(.809*g,2);return u(c,x,"M"+d+","+f+"H"+v+"L"+y+","+S+"L"+m+","+T+"L0,"+h(.382*g,2)+"L-"+m+","+T+"L-"+y+","+S+"L-"+v+","+f+"H-"+d+"L0,"+w+"Z")}},hexagram:{n:18,f:function(p,c,x){if(s(c))return o;var g=h(.66*p,2),d=h(.38*p,2),v=h(.76*p,2);return u(c,x,"M-"+v+",0l-"+d+",-"+g+"h"+v+"l"+d+",-"+g+"l"+d+","+g+"h"+v+"l-"+d+","+g+"l"+d+","+g+"h-"+v+"l-"+d+","+g+"l-"+d+",-"+g+"h-"+v+"Z")}},"star-triangle-up":{n:19,f:function(p,c,x){if(s(c))return o;var g=h(p*i*.8,2),d=h(.8*p,2),v=h(1.6*p,2),y=h(4*p,2),m="A "+y+","+y+" 0 0 1 ";return u(c,x,"M-"+g+","+d+m+g+","+d+m+"0,-"+v+m+"-"+g+","+d+"Z")}},"star-triangle-down":{n:20,f:function(p,c,x){if(s(c))return o;var g=h(p*i*.8,2),d=h(.8*p,2),v=h(1.6*p,2),y=h(4*p,2),m="A "+y+","+y+" 0 0 1 ";return u(c,x,"M"+g+",-"+d+m+"-"+g+",-"+d+m+"0,"+v+m+g+",-"+d+"Z")}},"star-square":{n:21,f:function(p,c,x){if(s(c))return o;var g=h(1.1*p,2),d=h(2*p,2),v="A "+d+","+d+" 0 0 1 ";return u(c,x,"M-"+g+",-"+g+v+"-"+g+","+g+v+g+","+g+v+g+",-"+g+v+"-"+g+",-"+g+"Z")}},"star-diamond":{n:22,f:function(p,c,x){if(s(c))return o;var g=h(1.4*p,2),d=h(1.9*p,2),v="A "+d+","+d+" 0 0 1 ";return u(c,x,"M-"+g+",0"+v+"0,"+g+v+g+",0"+v+"0,-"+g+v+"-"+g+",0Z")}},"diamond-tall":{n:23,f:function(p,c,x){if(s(c))return o;var g=h(.7*p,2),d=h(1.4*p,2);return u(c,x,"M0,"+d+"L"+g+",0L0,-"+d+"L-"+g+",0Z")}},"diamond-wide":{n:24,f:function(p,c,x){if(s(c))return o;var g=h(1.4*p,2),d=h(.7*p,2);return u(c,x,"M0,"+d+"L"+g+",0L0,-"+d+"L-"+g+",0Z")}},hourglass:{n:25,f:function(p,c,x){if(s(c))return o;var g=h(p,2);return u(c,x,"M"+g+","+g+"H-"+g+"L"+g+",-"+g+"H-"+g+"Z")},noDot:!0},bowtie:{n:26,f:function(p,c,x){if(s(c))return o;var g=h(p,2);return u(c,x,"M"+g+","+g+"V-"+g+"L-"+g+","+g+"V-"+g+"Z")},noDot:!0},"circle-cross":{n:27,f:function(p,c,x){if(s(c))return o;var g=h(p,2);return u(c,x,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(p,c,x){if(s(c))return o;var g=h(p,2),d=h(p/t,2);return u(c,x,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d+"M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(p,c,x){if(s(c))return o;var g=h(p,2);return u(c,x,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(p,c,x){if(s(c))return o;var g=h(p,2);return u(c,x,"M"+g+","+g+"L-"+g+",-"+g+"M"+g+",-"+g+"L-"+g+","+g+"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(p,c,x){if(s(c))return o;var g=h(1.3*p,2);return u(c,x,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"ZM0,-"+g+"V"+g+"M-"+g+",0H"+g)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(p,c,x){if(s(c))return o;var g=h(1.3*p,2),d=h(.65*p,2);return u(c,x,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"ZM-"+d+",-"+d+"L"+d+","+d+"M-"+d+","+d+"L"+d+",-"+d)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(p,c,x){if(s(c))return o;var g=h(1.4*p,2);return u(c,x,"M0,"+g+"V-"+g+"M"+g+",0H-"+g)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(p,c,x){if(s(c))return o;var g=h(p,2);return u(c,x,"M"+g+","+g+"L-"+g+",-"+g+"M"+g+",-"+g+"L-"+g+","+g)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(p,c,x){if(s(c))return o;var g=h(1.2*p,2),d=h(.85*p,2);return u(c,x,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(p,c,x){if(s(c))return o;var g=h(p/2,2),d=h(p,2);return u(c,x,"M"+g+","+d+"V-"+d+"M"+(g-d)+",-"+d+"V"+d+"M"+d+","+g+"H-"+d+"M-"+d+","+(g-d)+"H"+d)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(p,c,x){if(s(c))return o;var g=h(1.2*p,2),d=h(1.6*p,2),v=h(.8*p,2);return u(c,x,"M-"+g+","+v+"L0,0M"+g+","+v+"L0,0M0,-"+d+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(p,c,x){if(s(c))return o;var g=h(1.2*p,2),d=h(1.6*p,2),v=h(.8*p,2);return u(c,x,"M-"+g+",-"+v+"L0,0M"+g+",-"+v+"L0,0M0,"+d+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(p,c,x){if(s(c))return o;var g=h(1.2*p,2),d=h(1.6*p,2),v=h(.8*p,2);return u(c,x,"M"+v+","+g+"L0,0M"+v+",-"+g+"L0,0M-"+d+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(p,c,x){if(s(c))return o;var g=h(1.2*p,2),d=h(1.6*p,2),v=h(.8*p,2);return u(c,x,"M-"+v+","+g+"L0,0M-"+v+",-"+g+"L0,0M"+d+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(p,c,x){if(s(c))return o;var g=h(1.4*p,2);return u(c,x,"M"+g+",0H-"+g)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(p,c,x){if(s(c))return o;var g=h(1.4*p,2);return u(c,x,"M0,"+g+"V-"+g)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(p,c,x){if(s(c))return o;var g=h(p,2);return u(c,x,"M"+g+",-"+g+"L-"+g+","+g)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(p,c,x){if(s(c))return o;var g=h(p,2);return u(c,x,"M"+g+","+g+"L-"+g+",-"+g)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(p,c,x){if(s(c))return o;var g=h(p,2);return u(c,x,"M0,0L-"+g+","+h(2*p,2)+"H"+g+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(p,c,x){if(s(c))return o;var g=h(p,2);return u(c,x,"M0,0L-"+g+",-"+h(2*p,2)+"H"+g+"Z")},noDot:!0},"arrow-left":{n:47,f:function(p,c,x){if(s(c))return o;var g=h(2*p,2),d=h(p,2);return u(c,x,"M0,0L"+g+",-"+d+"V"+d+"Z")},noDot:!0},"arrow-right":{n:48,f:function(p,c,x){if(s(c))return o;var g=h(2*p,2),d=h(p,2);return u(c,x,"M0,0L-"+g+",-"+d+"V"+d+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(p,c,x){if(s(c))return o;var g=h(p,2);return u(c,x,"M-"+g+",0H"+g+"M0,0L-"+g+","+h(2*p,2)+"H"+g+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(p,c,x){if(s(c))return o;var g=h(p,2);return u(c,x,"M-"+g+",0H"+g+"M0,0L-"+g+",-"+h(2*p,2)+"H"+g+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(p,c,x){if(s(c))return o;var g=h(2*p,2),d=h(p,2);return u(c,x,"M0,-"+d+"V"+d+"M0,0L"+g+",-"+d+"V"+d+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(p,c,x){if(s(c))return o;var g=h(2*p,2),d=h(p,2);return u(c,x,"M0,-"+d+"V"+d+"M0,0L-"+g+",-"+d+"V"+d+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(p,c,x){if(s(c))return o;var g=n/2.5,d=2*p*r(g),v=2*p*l(g);return u(c,x,"M0,0L"+-d+","+v+"L"+d+","+v+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(p,c,x){if(s(c))return o;var g=n/4,d=2*p*r(g),v=2*p*l(g);return u(c,x,"M0,0L"+-d+","+v+"A "+2*p+","+2*p+" 0 0 1 "+d+","+v+"Z")},backoff:.4,noDot:!0}}},25673:function(q){q.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(q,C,e){var M=e(92770),k=e(73972),a=e(89298),_=e(71828),b=e(45827);function h(o,t,i,n){var r=t["error_"+n]||{},l=[];if(r.visible&&["linear","log"].indexOf(i.type)!==-1){for(var s=b(r),u=0;u<o.length;u++){var p=o[u],c=p.i;if(c===void 0)c=u;else if(c===null)continue;var x=p[n];if(M(i.c2l(x))){var g=s(x,c);if(M(g[0])&&M(g[1])){var d=p[n+"s"]=x-g[0],v=p[n+"h"]=x+g[1];l.push(d,v)}}}var y=i._id,m=t._extremes[y],w=a.findExtremes(i,l,_.extendFlat({tozero:m.opts.tozero},{padded:!0}));m.min=m.min.concat(w.min),m.max=m.max.concat(w.max)}}q.exports=function(o){for(var t=o.calcdata,i=0;i<t.length;i++){var n=t[i],r=n[0].trace;if(r.visible===!0&&k.traceIs(r,"errorBarsOK")){var l=a.getFromId(o,r.xaxis),s=a.getFromId(o,r.yaxis);h(n,r,l,"x"),h(n,r,s,"y")}}}},45827:function(q){function C(e,M){return e==="percent"?function(k){return Math.abs(k*M/100)}:e==="constant"?function(){return Math.abs(M)}:e==="sqrt"?function(k){return Math.sqrt(Math.abs(k))}:void 0}q.exports=function(e){var M=e.type,k=e.symmetric;if(M==="data"){var a=e.array||[];if(k)return function(o,t){var i=+a[t];return[i,i]};var _=e.arrayminus||[];return function(o,t){var i=+a[t],n=+_[t];return isNaN(i)&&isNaN(n)?[NaN,NaN]:[n||0,i||0]}}var b=C(M,e.value),h=C(M,e.valueminus);return k||e.valueminus===void 0?function(o){var t=b(o);return[t,t]}:function(o){return[h(o),b(o)]}}},97587:function(q,C,e){var M=e(92770),k=e(73972),a=e(71828),_=e(44467),b=e(25673);q.exports=function(h,o,t,i){var n="error_"+i.axis,r=_.newContainer(o,n),l=h[n]||{};function s(x,g){return a.coerce(l,r,b,x,g)}if(s("visible",l.array!==void 0||l.value!==void 0||l.type==="sqrt")!==!1){var u=s("type","array"in l?"data":"percent"),p=!0;u!=="sqrt"&&(p=s("symmetric",!((u==="data"?"arrayminus":"valueminus")in l))),u==="data"?(s("array"),s("traceref"),p||(s("arrayminus"),s("tracerefminus"))):u!=="percent"&&u!=="constant"||(s("value"),p||s("valueminus"));var c="copy_"+i.inherit+"style";i.inherit&&(o["error_"+i.inherit]||{}).visible&&s(c,!(l.color||M(l.thickness)||M(l.width))),i.inherit&&r[c]||(s("color",t),s("thickness"),s("width",k.traceIs(o,"gl3d")?0:4))}}},37369:function(q,C,e){var M=e(71828),k=e(30962).overrideAll,a=e(25673),_={error_x:M.extendFlat({},a),error_y:M.extendFlat({},a)};delete _.error_x.copy_zstyle,delete _.error_y.copy_zstyle,delete _.error_y.copy_ystyle;var b={error_x:M.extendFlat({},a),error_y:M.extendFlat({},a),error_z:M.extendFlat({},a)};delete b.error_x.copy_ystyle,delete b.error_y.copy_ystyle,delete b.error_z.copy_ystyle,delete b.error_z.copy_zstyle,q.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:_,bar:_,histogram:_,scatter3d:k(b,"calc","nested"),scattergl:k(_,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:function(h,o,t){(o.error_y||{}).visible&&(t.yerr=h.yh-h.y,o.error_y.symmetric||(t.yerrneg=h.y-h.ys)),(o.error_x||{}).visible&&(t.xerr=h.xh-h.x,o.error_x.symmetric||(t.xerrneg=h.x-h.xs))}}},19398:function(q,C,e){var M=e(39898),k=e(92770),a=e(91424),_=e(34098);q.exports=function(b,h,o,t){var i=o.xaxis,n=o.yaxis,r=t&&t.duration>0,l=b._context.staticPlot;h.each(function(s){var u,p=s[0].trace,c=p.error_x||{},x=p.error_y||{};p.ids&&(u=function(y){return y.id});var g=_.hasMarkers(p)&&p.marker.maxdisplayed>0;x.visible||c.visible||(s=[]);var d=M.select(this).selectAll("g.errorbar").data(s,u);if(d.exit().remove(),s.length){c.visible||d.selectAll("path.xerror").remove(),x.visible||d.selectAll("path.yerror").remove(),d.style("opacity",1);var v=d.enter().append("g").classed("errorbar",!0);r&&v.style("opacity",0).transition().duration(t.duration).style("opacity",1),a.setClipUrl(d,o.layerClipId,b),d.each(function(y){var m=M.select(this),w=function(P,I,z){var j={x:I.c2p(P.x),y:z.c2p(P.y)};return P.yh!==void 0&&(j.yh=z.c2p(P.yh),j.ys=z.c2p(P.ys),k(j.ys)||(j.noYS=!0,j.ys=z.c2p(P.ys,!0))),P.xh!==void 0&&(j.xh=I.c2p(P.xh),j.xs=I.c2p(P.xs),k(j.xs)||(j.noXS=!0,j.xs=I.c2p(P.xs,!0))),j}(y,i,n);if(!g||y.vis){var f,S=m.select("path.yerror");if(x.visible&&k(w.x)&&k(w.yh)&&k(w.ys)){var T=x.width;f="M"+(w.x-T)+","+w.yh+"h"+2*T+"m-"+T+",0V"+w.ys,w.noYS||(f+="m-"+T+",0h"+2*T),S.size()?r&&(S=S.transition().duration(t.duration).ease(t.easing)):S=m.append("path").style("vector-effect",l?"none":"non-scaling-stroke").classed("yerror",!0),S.attr("d",f)}else S.remove();var E=m.select("path.xerror");if(c.visible&&k(w.y)&&k(w.xh)&&k(w.xs)){var O=(c.copy_ystyle?x:c).width;f="M"+w.xh+","+(w.y-O)+"v"+2*O+"m0,-"+O+"H"+w.xs,w.noXS||(f+="m0,-"+O+"v"+2*O),E.size()?r&&(E=E.transition().duration(t.duration).ease(t.easing)):E=m.append("path").style("vector-effect",l?"none":"non-scaling-stroke").classed("xerror",!0),E.attr("d",f)}else E.remove()}})}})}},62662:function(q,C,e){var M=e(39898),k=e(7901);q.exports=function(a){a.each(function(_){var b=_[0].trace,h=b.error_y||{},o=b.error_x||{},t=M.select(this);t.selectAll("path.yerror").style("stroke-width",h.thickness+"px").call(k.stroke,h.color),o.copy_ystyle&&(o=h),t.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(k.stroke,o.color)})}},77914:function(q,C,e){var M=e(41940),k=e(528).hoverlabel,a=e(1426).extendFlat;q.exports={hoverlabel:{bgcolor:a({},k.bgcolor,{arrayOk:!0}),bordercolor:a({},k.bordercolor,{arrayOk:!0}),font:M({arrayOk:!0,editType:"none"}),align:a({},k.align,{arrayOk:!0}),namelength:a({},k.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(q,C,e){var M=e(71828),k=e(73972);function a(_,b,h,o){o=o||M.identity,Array.isArray(_)&&(b[0][h]=o(_))}q.exports=function(_){var b=_.calcdata,h=_._fullLayout;function o(l){return function(s){return M.coerceHoverinfo({hoverinfo:s},{_module:l._module},h)}}for(var t=0;t<b.length;t++){var i=b[t],n=i[0].trace;if(!k.traceIs(n,"pie-like")){var r=k.traceIs(n,"2dMap")?a:M.fillArray;r(n.hoverinfo,i,"hi",o(n)),n.hovertemplate&&r(n.hovertemplate,i,"ht"),n.hoverlabel&&(r(n.hoverlabel.bgcolor,i,"hbg"),r(n.hoverlabel.bordercolor,i,"hbc"),r(n.hoverlabel.font.size,i,"hts"),r(n.hoverlabel.font.color,i,"htc"),r(n.hoverlabel.font.family,i,"htf"),r(n.hoverlabel.namelength,i,"hnl"),r(n.hoverlabel.align,i,"hta"))}}}},75914:function(q,C,e){var M=e(73972),k=e(88335).hover;q.exports=function(a,_,b){var h=M.getComponentMethod("annotations","onClick")(a,a._hoverdata);function o(){a.emit("plotly_click",{points:a._hoverdata,event:_})}b!==void 0&&k(a,_,b,!0),a._hoverdata&&_&&_.target&&(h&&h.then?h.then(o):o(),_.stopImmediatePropagation&&_.stopImmediatePropagation())}},26675:function(q){q.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(q,C,e){var M=e(71828),k=e(77914),a=e(38048);q.exports=function(_,b,h,o){var t=M.extendFlat({},o.hoverlabel);b.hovertemplate&&(t.namelength=-1),a(_,b,function(i,n){return M.coerce(_,b,k,i,n)},t)}},23469:function(q,C,e){var M=e(71828);C.getSubplot=function(o){return o.subplot||o.xaxis+o.yaxis||o.geo},C.isTraceInSubplots=function(o,t){if(o.type==="splom"){for(var i=o.xaxes||[],n=o.yaxes||[],r=0;r<i.length;r++)for(var l=0;l<n.length;l++)if(t.indexOf(i[r]+n[l])!==-1)return!0;return!1}return t.indexOf(C.getSubplot(o))!==-1},C.flat=function(o,t){for(var i=new Array(o.length),n=0;n<o.length;n++)i[n]=t;return i},C.p2c=function(o,t){for(var i=new Array(o.length),n=0;n<o.length;n++)i[n]=o[n].p2c(t);return i},C.getDistanceFunction=function(o,t,i,n){return o==="closest"?n||C.quadrature(t,i):o.charAt(0)==="x"?t:i},C.getClosest=function(o,t,i){if(i.index!==!1)i.index>=0&&i.index<o.length?i.distance=0:i.index=!1;else for(var n=0;n<o.length;n++){var r=t(o[n]);r<=i.distance&&(i.index=n,i.distance=r)}return i},C.inbox=function(o,t,i){return o*t<0||o===0?i:1/0},C.quadrature=function(o,t){return function(i){var n=o(i),r=t(i);return Math.sqrt(n*n+r*r)}},C.makeEventData=function(o,t,i){var n="index"in o?o.index:o.pointNumber,r={data:t._input,fullData:t,curveNumber:t.index,pointNumber:n};if(t._indexToPoints){var l=t._indexToPoints[n];l.length===1?r.pointIndex=l[0]:r.pointIndices=l}else r.pointIndex=n;return t._module.eventData?r=t._module.eventData(r,o,t,i,n):("xVal"in o?r.x=o.xVal:"x"in o&&(r.x=o.x),"yVal"in o?r.y=o.yVal:"y"in o&&(r.y=o.y),o.xa&&(r.xaxis=o.xa),o.ya&&(r.yaxis=o.ya),o.zLabelVal!==void 0&&(r.z=o.zLabelVal)),C.appendArrayPointValue(r,t,n),r},C.appendArrayPointValue=function(o,t,i){var n=t._arrayAttrs;if(n)for(var r=0;r<n.length;r++){var l=n[r],s=a(l);if(o[s]===void 0){var u=_(M.nestedProperty(t,l).get(),i);u!==void 0&&(o[s]=u)}}},C.appendArrayMultiPointValues=function(o,t,i){var n=t._arrayAttrs;if(n)for(var r=0;r<n.length;r++){var l=n[r],s=a(l);if(o[s]===void 0){for(var u=M.nestedProperty(t,l).get(),p=new Array(i.length),c=0;c<i.length;c++)p[c]=_(u,i[c]);o[s]=p}}};var k={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(o){return k[o]||o}function _(o,t){return Array.isArray(t)?Array.isArray(o)&&Array.isArray(o[t[0]])?o[t[0]][t[1]]:void 0:o[t]}var b={x:!0,y:!0},h={"x unified":!0,"y unified":!0};C.isUnifiedHover=function(o){return typeof o=="string"&&!!h[o]},C.isXYhover=function(o){return typeof o=="string"&&!!b[o]}},88335:function(q,C,e){var M=e(39898),k=e(92770),a=e(84267),_=e(71828),b=_.strTranslate,h=_.strRotate,o=e(11086),t=e(63893),i=e(39918),n=e(91424),r=e(7901),l=e(28569),s=e(89298),u=e(73972),p=e(23469),c=e(26675),x=e(99017),g=e(43969),d=c.YANGLE,v=Math.PI*d/180,y=1/Math.sin(v),m=Math.cos(v),w=Math.sin(v),f=c.HOVERARROWSIZE,S=c.HOVERTEXTPAD,T={box:!0,ohlc:!0,violin:!0,candlestick:!0},E={scatter:!0,scattergl:!0,splom:!0};function O(X){return[X.trace.index,X.index,X.x0,X.y0,X.name,X.attr,X.xa?X.xa._id:"",X.ya?X.ya._id:""].join(",")}C.hover=function(X,K,ee,re){X=_.getGraphDiv(X);var ie=K.target;_.throttle(X._fullLayout._uid+c.HOVERID,c.HOVERMINTIME,function(){(function(ae,ue,pe,de,ye){pe||(pe="xy");var be=Array.isArray(pe)?pe:[pe],me=ae._fullLayout,Ee=me._plots||[],Te=Ee[pe],we=me._has("cartesian");if(Te){var oe=Te.overlays.map(function(Gt){return Gt.id});be=be.concat(oe)}for(var se=be.length,he=new Array(se),Se=new Array(se),_e=!1,Ae=0;Ae<se;Ae++){var Ce=be[Ae];if(Ee[Ce])_e=!0,he[Ae]=Ee[Ce].xaxis,Se[Ae]=Ee[Ce].yaxis;else{if(!me[Ce]||!me[Ce]._subplot)return void _.warn("Unrecognized subplot: "+Ce);var Re=me[Ce]._subplot;he[Ae]=Re.xaxis,Se[Ae]=Re.yaxis}}var fe=ue.hovermode||me.hovermode;if(fe&&!_e&&(fe="closest"),["x","y","closest","x unified","y unified"].indexOf(fe)===-1||!ae.calcdata||ae.querySelector(".zoombox")||ae._dragging)return l.unhoverRaw(ae,ue);var xe=me.hoverdistance;xe===-1&&(xe=1/0);var ke=me.spikedistance;ke===-1&&(ke=1/0);var Ie,Fe,ze,qe,Ye,Qe,ft,ht,mt,Mt,_t,it,st,St=[],zt=[],Ft={hLinePoint:null,vLinePoint:null},Pt=!1;if(Array.isArray(ue))for(fe="array",ze=0;ze<ue.length;ze++)(Ye=ae.calcdata[ue[ze].curveNumber||0])&&(Qe=Ye[0].trace,Ye[0].trace.hoverinfo!=="skip"&&(zt.push(Ye),Qe.orientation==="h"&&(Pt=!0)));else{for(qe=0;qe<ae.calcdata.length;qe++)Ye=ae.calcdata[qe],(Qe=Ye[0].trace).hoverinfo!=="skip"&&p.isTraceInSubplots(Qe,be)&&(zt.push(Ye),Qe.orientation==="h"&&(Pt=!0));var Ze,Je;if(ye){if(o.triggerHandler(ae,"plotly_beforehover",ue)===!1)return;var Ue=ye.getBoundingClientRect();Ze=ue.clientX-Ue.left,Je=ue.clientY-Ue.top,me._calcInverseTransform(ae);var Xe=_.apply3DTransform(me._invTransform)(Ze,Je);if(Ze=Xe[0],Je=Xe[1],Ze<0||Ze>he[0]._length||Je<0||Je>Se[0]._length)return l.unhoverRaw(ae,ue)}else Ze="xpx"in ue?ue.xpx:he[0]._length/2,Je="ypx"in ue?ue.ypx:Se[0]._length/2;if(ue.pointerX=Ze+he[0]._offset,ue.pointerY=Je+Se[0]._offset,Ie="xval"in ue?p.flat(be,ue.xval):p.p2c(he,Ze),Fe="yval"in ue?p.flat(be,ue.yval):p.p2c(Se,Je),!k(Ie[0])||!k(Fe[0]))return _.warn("Fx.hover failed",ue,ae),l.unhoverRaw(ae,ue)}var lt=1/0;function ot(Gt,tn){for(qe=0;qe<zt.length;qe++)if((Ye=zt[qe])&&Ye[0]&&Ye[0].trace&&(Qe=Ye[0].trace).visible===!0&&Qe._length!==0&&["carpet","contourcarpet"].indexOf(Qe._module.name)===-1){if(Qe.type==="splom"?ft=be[ht=0]:(ft=p.getSubplot(Qe),ht=be.indexOf(ft)),mt=fe,p.isUnifiedHover(mt)&&(mt=mt.charAt(0)),it={cd:Ye,trace:Qe,xa:he[ht],ya:Se[ht],maxHoverDistance:xe,maxSpikeDistance:ke,index:!1,distance:Math.min(lt,xe),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:r.defaultLine,name:Qe.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},me[ft]&&(it.subplot=me[ft]._subplot),me._splomScenes&&me._splomScenes[Qe.uid]&&(it.scene=me._splomScenes[Qe.uid]),st=St.length,mt==="array"){var dn=ue[qe];"pointNumber"in dn?(it.index=dn.pointNumber,mt="closest"):(mt="","xval"in dn&&(Mt=dn.xval,mt="x"),"yval"in dn&&(_t=dn.yval,mt=mt?"closest":"y"))}else Gt!==void 0&&tn!==void 0?(Mt=Gt,_t=tn):(Mt=Ie[ht],_t=Fe[ht]);if(xe!==0)if(Qe._module&&Qe._module.hoverPoints){var vn=Qe._module.hoverPoints(it,Mt,_t,mt,{finiteRange:!0,hoverLayer:me._hoverlayer});if(vn)for(var On,Vn=0;Vn<vn.length;Vn++)On=vn[Vn],k(On.x0)&&k(On.y0)&&St.push(N(On,fe))}else _.log("Unrecognized trace type in hover:",Qe);if(fe==="closest"&&St.length>st&&(St.splice(0,st),lt=St[0].distance),we&&ke!==0&&St.length===0){it.distance=ke,it.index=!1;var Bn=Qe._module.hoverPoints(it,Mt,_t,"closest",{hoverLayer:me._hoverlayer});if(Bn&&(Bn=Bn.filter(function(Kt){return Kt.spikeDistance<=ke})),Bn&&Bn.length){var Un,tr=Bn.filter(function(Kt){return Kt.xa.showspikes&&Kt.xa.spikesnap!=="hovered data"});if(tr.length){var $t=tr[0];k($t.x0)&&k($t.y0)&&(Un=Ne($t),(!Ft.vLinePoint||Ft.vLinePoint.spikeDistance>Un.spikeDistance)&&(Ft.vLinePoint=Un))}var bn=Bn.filter(function(Kt){return Kt.ya.showspikes&&Kt.ya.spikesnap!=="hovered data"});if(bn.length){var Rt=bn[0];k(Rt.x0)&&k(Rt.y0)&&(Un=Ne(Rt),(!Ft.hLinePoint||Ft.hLinePoint.spikeDistance>Un.spikeDistance)&&(Ft.hLinePoint=Un))}}}}}function Be(Gt,tn,dn){for(var vn,On=null,Vn=1/0,Bn=0;Bn<Gt.length;Bn++)vn=Gt[Bn].spikeDistance,dn&&Bn===0&&(vn=-1/0),vn<=Vn&&vn<=tn&&(On=Gt[Bn],Vn=vn);return On}function Ne(Gt){return Gt?{xa:Gt.xa,ya:Gt.ya,x:Gt.xSpike!==void 0?Gt.xSpike:(Gt.x0+Gt.x1)/2,y:Gt.ySpike!==void 0?Gt.ySpike:(Gt.y0+Gt.y1)/2,distance:Gt.distance,spikeDistance:Gt.spikeDistance,curveNumber:Gt.trace.index,color:Gt.color,pointNumber:Gt.index}:null}ot();var at={fullLayout:me,container:me._hoverlayer,event:ue},$e=ae._spikepoints,gt={vLinePoint:Ft.vLinePoint,hLinePoint:Ft.hLinePoint};ae._spikepoints=gt;var yt=function(){St.sort(function(Gt,tn){return Gt.distance-tn.distance}),St=function(Gt,tn){for(var dn=tn.charAt(0),vn=[],On=[],Vn=[],Bn=0;Bn<Gt.length;Bn++){var Un=Gt[Bn];u.traceIs(Un.trace,"bar-like")||u.traceIs(Un.trace,"box-violin")?Vn.push(Un):Un.trace[dn+"period"]?On.push(Un):vn.push(Un)}return vn.concat(On).concat(Vn)}(St,fe)};yt();var xt=fe.charAt(0),dt=(xt==="x"||xt==="y")&&St[0]&&E[St[0].trace.type];if(we&&ke!==0&&St.length!==0){var Lt=Be(St.filter(function(Gt){return Gt.ya.showspikes}),ke,dt);Ft.hLinePoint=Ne(Lt);var Tt=Be(St.filter(function(Gt){return Gt.xa.showspikes}),ke,dt);Ft.vLinePoint=Ne(Tt)}if(St.length===0){var bt=l.unhoverRaw(ae,ue);return!we||Ft.hLinePoint===null&&Ft.vLinePoint===null||F($e)&&Z(ae,Ft,at),bt}if(we&&F($e)&&Z(ae,Ft,at),p.isXYhover(mt)&&St[0].length!==0&&St[0].trace.type!=="splom"){var Ct=St[0],Dt=(St=T[Ct.trace.type]?St.filter(function(Gt){return Gt.trace.index===Ct.trace.index}):[Ct]).length;ot(V("x",Ct,me),V("y",Ct,me));var Bt,Xt=[],an={},Wt=0,Vt=function(Gt){var tn=T[Gt.trace.type]?O(Gt):Gt.trace.index;if(an[tn]){var dn=an[tn]-1,vn=Xt[dn];dn>0&&Math.abs(Gt.distance)<Math.abs(vn.distance)&&(Xt[dn]=Gt)}else Wt++,an[tn]=Wt,Xt.push(Gt)};for(Bt=0;Bt<Dt;Bt++)Vt(St[Bt]);for(Bt=St.length-1;Bt>Dt-1;Bt--)Vt(St[Bt]);St=Xt,yt()}var on=ae._hoverdata,Sn=[],Ln=te(ae),fn=Q(ae);for(ze=0;ze<St.length;ze++){var Zt=St[ze],ln=p.makeEventData(Zt,Zt.trace,Zt.cd);if(Zt.hovertemplate!==!1){var nn=!1;Zt.cd[Zt.index]&&Zt.cd[Zt.index].ht&&(nn=Zt.cd[Zt.index].ht),Zt.hovertemplate=nn||Zt.trace.hovertemplate||!1}if(Zt.xa&&Zt.ya){var cn=Zt.x0+Zt.xa._offset,kn=Zt.x1+Zt.xa._offset,An=Zt.y0+Zt.ya._offset,wn=Zt.y1+Zt.ya._offset,Cn=Math.min(cn,kn),_n=Math.max(cn,kn),zn=Math.min(An,wn),Hn=Math.max(An,wn);ln.bbox={x0:Cn+fn,x1:_n+fn,y0:zn+Ln,y1:Hn+Ln}}Zt.eventData=[ln],Sn.push(ln)}ae._hoverdata=Sn;var ar=fe==="y"&&(zt.length>1||St.length>1)||fe==="closest"&&Pt&&St.length>1,fr=r.combine(me.plot_bgcolor||r.background,me.paper_bgcolor),rr=I(St,{gd:ae,hovermode:fe,rotateLabels:ar,bgColor:fr,container:me._hoverlayer,outerContainer:me._paper.node(),commonLabelOpts:me.hoverlabel,hoverdistance:me.hoverdistance}),Xn=rr.hoverLabels;if(p.isUnifiedHover(fe)||(function(Gt,tn,dn,vn){var On,Vn,Bn,Un,tr,$t,bn,Rt=tn?"xa":"ya",Kt=tn?"ya":"xa",rn=0,xn=1,Tn=Gt.size(),Pn=new Array(Tn),pn=0,Qt=vn.minX,en=vn.maxX,hn=vn.minY,gn=vn.maxY,Dn=function(vr){return vr*dn._invScaleX},Fn=function(vr){return vr*dn._invScaleY};function Wn(vr){var Lr=vr[0],or=vr[vr.length-1];if(Vn=Lr.pmin-Lr.pos-Lr.dp+Lr.size,Bn=or.pos+or.dp+or.size-Lr.pmax,Vn>.01){for(tr=vr.length-1;tr>=0;tr--)vr[tr].dp+=Vn;On=!1}if(!(Bn<.01)){if(Vn<-.01){for(tr=vr.length-1;tr>=0;tr--)vr[tr].dp-=Bn;On=!1}if(On){var wr=0;for(Un=0;Un<vr.length;Un++)($t=vr[Un]).pos+$t.dp+$t.size>Lr.pmax&&wr++;for(Un=vr.length-1;Un>=0&&!(wr<=0);Un--)($t=vr[Un]).pos>Lr.pmax-1&&($t.del=!0,wr--);for(Un=0;Un<vr.length&&!(wr<=0);Un++)if(($t=vr[Un]).pos<Lr.pmin+1)for($t.del=!0,wr--,Bn=2*$t.size,tr=vr.length-1;tr>=0;tr--)vr[tr].dp-=Bn;for(Un=vr.length-1;Un>=0&&!(wr<=0);Un--)($t=vr[Un]).pos+$t.dp+$t.size>Lr.pmax&&($t.del=!0,wr--)}}}for(Gt.each(function(vr){var Lr=vr[Rt],or=vr[Kt],wr=Lr._id.charAt(0)==="x",Ir=Lr.range;pn===0&&Ir&&Ir[0]>Ir[1]!==wr&&(xn=-1);var Gr=0,_i=wr?dn.width:dn.height;if(dn.hovermode==="x"||dn.hovermode==="y"){var Ti,Ki,vi=j(vr,tn),Hi=vr.anchor,La=Hi==="end"?-1:1;if(Hi==="middle")Ki=(Ti=vr.crossPos+(wr?Fn(vi.y-vr.by/2):Dn(vr.bx/2+vr.tx2width/2)))+(wr?Fn(vr.by):Dn(vr.bx));else if(wr)Ki=(Ti=vr.crossPos+Fn(f+vi.y)-Fn(vr.by/2-f))+Fn(vr.by);else{var Ca=Dn(La*f+vi.x),gs=Ca+Dn(La*vr.bx);Ti=vr.crossPos+Math.min(Ca,gs),Ki=vr.crossPos+Math.max(Ca,gs)}wr?hn!==void 0&&gn!==void 0&&Math.min(Ki,gn)-Math.max(Ti,hn)>1&&(or.side==="left"?(Gr=or._mainLinePosition,_i=dn.width):_i=or._mainLinePosition):Qt!==void 0&&en!==void 0&&Math.min(Ki,en)-Math.max(Ti,Qt)>1&&(or.side==="top"?(Gr=or._mainLinePosition,_i=dn.height):_i=or._mainLinePosition)}Pn[pn++]=[{datum:vr,traceIndex:vr.trace.index,dp:0,pos:vr.pos,posref:vr.posref,size:vr.by*(wr?y:1)/2,pmin:Gr,pmax:_i}]}),Pn.sort(function(vr,Lr){return vr[0].posref-Lr[0].posref||xn*(Lr[0].traceIndex-vr[0].traceIndex)});!On&&rn<=Tn;){for(rn++,On=!0,Un=0;Un<Pn.length-1;){var Yn=Pn[Un],er=Pn[Un+1],Kn=Yn[Yn.length-1],ir=er[0];if((Vn=Kn.pos+Kn.dp+Kn.size-ir.pos-ir.dp+ir.size)>.01&&Kn.pmin===ir.pmin&&Kn.pmax===ir.pmax){for(tr=er.length-1;tr>=0;tr--)er[tr].dp+=Vn;for(Yn.push.apply(Yn,er),Pn.splice(Un+1,1),bn=0,tr=Yn.length-1;tr>=0;tr--)bn+=Yn[tr].dp;for(Bn=bn/Yn.length,tr=Yn.length-1;tr>=0;tr--)Yn[tr].dp-=Bn;On=!1}else Un++}Pn.forEach(Wn)}for(Un=Pn.length-1;Un>=0;Un--){var cr=Pn[Un];for(tr=cr.length-1;tr>=0;tr--){var ur=cr[tr],mr=ur.datum;mr.offset=ur.dp,mr.del=ur.del}}}(Xn,ar,me,rr.commonLabelBoundingBox),R(Xn,ar,me._invScaleX,me._invScaleY)),ye&&ye.tagName){var gr=u.getComponentMethod("annotations","hasClickToShow")(ae,Sn);i(M.select(ye),gr?"pointer":"")}ye&&!de&&function(Gt,tn,dn){if(!dn||dn.length!==Gt._hoverdata.length)return!0;for(var vn=dn.length-1;vn>=0;vn--){var On=dn[vn],Vn=Gt._hoverdata[vn];if(On.curveNumber!==Vn.curveNumber||String(On.pointNumber)!==String(Vn.pointNumber)||String(On.pointNumbers)!==String(Vn.pointNumbers))return!0}return!1}(ae,0,on)&&(on&&ae.emit("plotly_unhover",{event:ue,points:on}),ae.emit("plotly_hover",{event:ue,points:ae._hoverdata,xaxes:he,yaxes:Se,xvals:Ie,yvals:Fe}))})(X,K,ee,re,ie)})},C.loneHover=function(X,K){var ee=!0;Array.isArray(X)||(ee=!1,X=[X]);var re=K.gd,ie=te(re),ae=Q(re),ue=I(X.map(function(ye){var be=ye._x0||ye.x0||ye.x||0,me=ye._x1||ye.x1||ye.x||0,Ee=ye._y0||ye.y0||ye.y||0,Te=ye._y1||ye.y1||ye.y||0,we=ye.eventData;if(we){var oe=Math.min(be,me),se=Math.max(be,me),he=Math.min(Ee,Te),Se=Math.max(Ee,Te),_e=ye.trace;if(u.traceIs(_e,"gl3d")){var Ae=re._fullLayout[_e.scene]._scene.container,Ce=Ae.offsetLeft,Re=Ae.offsetTop;oe+=Ce,se+=Ce,he+=Re,Se+=Re}we.bbox={x0:oe+ae,x1:se+ae,y0:he+ie,y1:Se+ie},K.inOut_bbox&&K.inOut_bbox.push(we.bbox)}else we=!1;return{color:ye.color||r.defaultLine,x0:ye.x0||ye.x||0,x1:ye.x1||ye.x||0,y0:ye.y0||ye.y||0,y1:ye.y1||ye.y||0,xLabel:ye.xLabel,yLabel:ye.yLabel,zLabel:ye.zLabel,text:ye.text,name:ye.name,idealAlign:ye.idealAlign,borderColor:ye.borderColor,fontFamily:ye.fontFamily,fontSize:ye.fontSize,fontColor:ye.fontColor,nameLength:ye.nameLength,textAlign:ye.textAlign,trace:ye.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:ye.hovertemplate||!1,hovertemplateLabels:ye.hovertemplateLabels||!1,eventData:we}}),{gd:re,hovermode:"closest",rotateLabels:!1,bgColor:K.bgColor||r.background,container:M.select(K.container),outerContainer:K.outerContainer||K.container}).hoverLabels,pe=0,de=0;return ue.sort(function(ye,be){return ye.y0-be.y0}).each(function(ye,be){var me=ye.y0-ye.by/2;ye.offset=me-5<pe?pe-me+5:0,pe=me+ye.by+ye.offset,be===K.anchorIndex&&(de=ye.offset)}).each(function(ye){ye.offset-=de}),R(ue,!1,re._fullLayout._invScaleX,re._fullLayout._invScaleY),ee?ue:ue.node()};var P=/<extra>([\s\S]*)<\/extra>/;function I(X,K){var ee=K.gd,re=ee._fullLayout,ie=K.hovermode,ae=K.rotateLabels,ue=K.bgColor,pe=K.container,de=K.outerContainer,ye=K.commonLabelOpts||{};if(X.length===0)return[[]];var be=K.fontFamily||c.HOVERFONT,me=K.fontSize||c.HOVERFONTSIZE,Ee=X[0],Te=Ee.xa,we=Ee.ya,oe=ie.charAt(0),se=oe+"Label",he=Ee[se];if(he===void 0&&Te.type==="multicategory")for(var Se=0;Se<X.length&&(he=X[Se][se])===void 0;Se++);var _e=J(ee,de),Ae=_e.top,Ce=_e.width,Re=_e.height,fe=he!==void 0&&Ee.distance<=K.hoverdistance&&(ie==="x"||ie==="y");if(fe){var xe,ke,Ie=!0;for(xe=0;xe<X.length;xe++)if(Ie&&X[xe].zLabel===void 0&&(Ie=!1),ke=X[xe].hoverinfo||X[xe].trace.hoverinfo){var Fe=Array.isArray(ke)?ke:ke.split("+");if(Fe.indexOf("all")===-1&&Fe.indexOf(ie)===-1){fe=!1;break}}Ie&&(fe=!1)}var ze=pe.selectAll("g.axistext").data(fe?[0]:[]);ze.enter().append("g").classed("axistext",!0),ze.exit().remove();var qe={minX:0,maxX:0,minY:0,maxY:0};if(ze.each(function(){var bt=M.select(this),Ct=_.ensureSingle(bt,"path","",function(zn){zn.style({"stroke-width":"1px"})}),Dt=_.ensureSingle(bt,"text","",function(zn){zn.attr("data-notex",1)}),Bt=ye.bgcolor||r.defaultLine,Xt=ye.bordercolor||r.contrast(Bt),an=r.contrast(Bt),Wt={family:ye.font.family||be,size:ye.font.size||me,color:ye.font.color||an};Ct.style({fill:Bt,stroke:Xt}),Dt.text(he).call(n.font,Wt).call(t.positionText,0,0).call(t.convertToTspans,ee),bt.attr("transform","");var Vt,on,Sn=J(ee,Dt.node());if(ie==="x"){var Ln=Te.side==="top"?"-":"";Dt.attr("text-anchor","middle").call(t.positionText,0,Te.side==="top"?Ae-Sn.bottom-f-S:Ae-Sn.top+f+S),Vt=Te._offset+(Ee.x0+Ee.x1)/2,on=we._offset+(Te.side==="top"?0:we._length);var fn=Sn.width/2+S;Vt<fn?(Vt=fn,Ct.attr("d","M-"+(fn-f)+",0L-"+(fn-2*f)+","+Ln+f+"H"+fn+"v"+Ln+(2*S+Sn.height)+"H-"+fn+"V"+Ln+f+"Z")):Vt>re.width-fn?(Vt=re.width-fn,Ct.attr("d","M"+(fn-f)+",0L"+fn+","+Ln+f+"v"+Ln+(2*S+Sn.height)+"H-"+fn+"V"+Ln+f+"H"+(fn-2*f)+"Z")):Ct.attr("d","M0,0L"+f+","+Ln+f+"H"+fn+"v"+Ln+(2*S+Sn.height)+"H-"+fn+"V"+Ln+f+"H-"+f+"Z"),qe.minX=Vt-fn,qe.maxX=Vt+fn,Te.side==="top"?(qe.minY=on-(2*S+Sn.height),qe.maxY=on-S):(qe.minY=on+S,qe.maxY=on+(2*S+Sn.height))}else{var Zt,ln,nn;we.side==="right"?(Zt="start",ln=1,nn="",Vt=Te._offset+Te._length):(Zt="end",ln=-1,nn="-",Vt=Te._offset),on=we._offset+(Ee.y0+Ee.y1)/2,Dt.attr("text-anchor",Zt),Ct.attr("d","M0,0L"+nn+f+","+f+"V"+(S+Sn.height/2)+"h"+nn+(2*S+Sn.width)+"V-"+(S+Sn.height/2)+"H"+nn+f+"V-"+f+"Z"),qe.minY=on-(S+Sn.height/2),qe.maxY=on+(S+Sn.height/2),we.side==="right"?(qe.minX=Vt+f,qe.maxX=Vt+f+(2*S+Sn.width)):(qe.minX=Vt-f-(2*S+Sn.width),qe.maxX=Vt-f);var cn,kn=Sn.height/2,An=Ae-Sn.top-kn,wn="clip"+re._uid+"commonlabel"+we._id;if(Vt<Sn.width+2*S+f){cn="M-"+(f+S)+"-"+kn+"h-"+(Sn.width-S)+"V"+kn+"h"+(Sn.width-S)+"Z";var Cn=Sn.width-Vt+S;t.positionText(Dt,Cn,An),Zt==="end"&&Dt.selectAll("tspan").each(function(){var zn=M.select(this),Hn=n.tester.append("text").text(zn.text()).call(n.font,Wt),ar=J(ee,Hn.node());Math.round(ar.width)<Math.round(Sn.width)&&zn.attr("x",Cn-ar.width),Hn.remove()})}else t.positionText(Dt,ln*(S+f),An),cn=null;var _n=re._topclips.selectAll("#"+wn).data(cn?[0]:[]);_n.enter().append("clipPath").attr("id",wn).append("path"),_n.exit().remove(),_n.select("path").attr("d",cn),n.setClipUrl(Dt,cn?wn:null,ee)}bt.attr("transform",b(Vt,on))}),p.isUnifiedHover(ie)){pe.selectAll("g.hovertext").remove();var Ye=X.filter(function(bt){return bt.hoverinfo!=="none"});if(Ye.length===0)return[];var Qe=re.hoverlabel,ft=Qe.font,ht={showlegend:!0,legend:{title:{text:he,font:ft},font:ft,bgcolor:Qe.bgcolor,bordercolor:Qe.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:re.legend?re.legend.traceorder:void 0,orientation:"v"}},mt={font:ft};x(ht,mt,ee._fullData);var Mt=mt.legend;Mt.entries=[];for(var _t=0;_t<Ye.length;_t++){var it=Ye[_t];if(it.hoverinfo!=="none"){var st=z(it,!0,ie,re,he),St=st[0],zt=st[1];it.name=zt,it.text=zt!==""?zt+" : "+St:St;var Ft=it.cd[it.index];Ft&&(Ft.mc&&(it.mc=Ft.mc),Ft.mcc&&(it.mc=Ft.mcc),Ft.mlc&&(it.mlc=Ft.mlc),Ft.mlcc&&(it.mlc=Ft.mlcc),Ft.mlw&&(it.mlw=Ft.mlw),Ft.mrc&&(it.mrc=Ft.mrc),Ft.dir&&(it.dir=Ft.dir)),it._distinct=!0,Mt.entries.push([it])}}Mt.entries.sort(function(bt,Ct){return bt[0].trace.index-Ct[0].trace.index}),Mt.layer=pe,Mt._inHover=!0,Mt._groupTitleFont=Qe.grouptitlefont,g(ee,Mt);var Pt,Ze,Je,Ue,Xe=pe.select("g.legend"),lt=J(ee,Xe.node()),ot=lt.width+2*S,Be=lt.height+2*S,Ne=Ye[0],at=(Ne.x0+Ne.x1)/2,$e=(Ne.y0+Ne.y1)/2,gt=!(u.traceIs(Ne.trace,"bar-like")||u.traceIs(Ne.trace,"box-violin"));oe==="y"?gt?(Ze=$e-S,Pt=$e+S):(Ze=Math.min.apply(null,Ye.map(function(bt){return Math.min(bt.y0,bt.y1)})),Pt=Math.max.apply(null,Ye.map(function(bt){return Math.max(bt.y0,bt.y1)}))):Ze=Pt=_.mean(Ye.map(function(bt){return(bt.y0+bt.y1)/2}))-Be/2,oe==="x"?gt?(Je=at+S,Ue=at-S):(Je=Math.max.apply(null,Ye.map(function(bt){return Math.max(bt.x0,bt.x1)})),Ue=Math.min.apply(null,Ye.map(function(bt){return Math.min(bt.x0,bt.x1)}))):Je=Ue=_.mean(Ye.map(function(bt){return(bt.x0+bt.x1)/2}))-ot/2;var yt,xt,dt=Te._offset,Lt=we._offset;return Ue+=dt-ot,Ze+=Lt-Be,yt=(Je+=dt)+ot<Ce&&Je>=0?Je:Ue+ot<Ce&&Ue>=0?Ue:dt+ot<Ce?dt:Je-at<at-Ue+ot?Ce-ot:0,yt+=S,xt=(Pt+=Lt)+Be<Re&&Pt>=0?Pt:Ze+Be<Re&&Ze>=0?Ze:Lt+Be<Re?Lt:Pt-$e<$e-Ze+Be?Re-Be:0,xt+=S,Xe.attr("transform",b(yt-1,xt-1)),Xe}var Tt=pe.selectAll("g.hovertext").data(X,function(bt){return O(bt)});return Tt.enter().append("g").classed("hovertext",!0).each(function(){var bt=M.select(this);bt.append("rect").call(r.fill,r.addOpacity(ue,.8)),bt.append("text").classed("name",!0),bt.append("path").style("stroke-width","1px"),bt.append("text").classed("nums",!0).call(n.font,be,me)}),Tt.exit().remove(),Tt.each(function(bt){var Ct=M.select(this).attr("transform",""),Dt=bt.color;Array.isArray(Dt)&&(Dt=Dt[bt.eventData[0].pointNumber]);var Bt=bt.bgcolor||Dt,Xt=r.combine(r.opacity(Bt)?Bt:r.defaultLine,ue),an=r.combine(r.opacity(Dt)?Dt:r.defaultLine,ue),Wt=bt.borderColor||r.contrast(Xt),Vt=z(bt,fe,ie,re,he,Ct),on=Vt[0],Sn=Vt[1],Ln=Ct.select("text.nums").call(n.font,bt.fontFamily||be,bt.fontSize||me,bt.fontColor||Wt).text(on).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,ee),fn=Ct.select("text.name"),Zt=0,ln=0;if(Sn&&Sn!==on){fn.call(n.font,bt.fontFamily||be,bt.fontSize||me,an).text(Sn).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,ee);var nn=J(ee,fn.node());Zt=nn.width+2*S,ln=nn.height+2*S}else fn.remove(),Ct.select("rect").remove();Ct.select("path").style({fill:Xt,stroke:Wt});var cn=bt.xa._offset+(bt.x0+bt.x1)/2,kn=bt.ya._offset+(bt.y0+bt.y1)/2,An=Math.abs(bt.x1-bt.x0),wn=Math.abs(bt.y1-bt.y0),Cn=J(ee,Ln.node()),_n=Cn.width/re._invScaleX,zn=Cn.height/re._invScaleY;bt.ty0=(Ae-Cn.top)/re._invScaleY,bt.bx=_n+2*S,bt.by=Math.max(zn+2*S,ln),bt.anchor="start",bt.txwidth=_n,bt.tx2width=Zt,bt.offset=0;var Hn,ar,fr=(_n+f+S+Zt)*re._invScaleX;if(ae)bt.pos=cn,Hn=kn+wn/2+fr<=Re,ar=kn-wn/2-fr>=0,bt.idealAlign!=="top"&&Hn||!ar?Hn?(kn+=wn/2,bt.anchor="start"):bt.anchor="middle":(kn-=wn/2,bt.anchor="end"),bt.crossPos=kn;else{if(bt.pos=kn,Hn=cn+An/2+fr<=Ce,ar=cn-An/2-fr>=0,bt.idealAlign!=="left"&&Hn||!ar)if(Hn)cn+=An/2,bt.anchor="start";else{bt.anchor="middle";var rr=fr/2,Xn=cn+rr-Ce,gr=cn-rr;Xn>0&&(cn-=Xn),gr<0&&(cn+=-gr)}else cn-=An/2,bt.anchor="end";bt.crossPos=cn}Ln.attr("text-anchor",bt.anchor),Zt&&fn.attr("text-anchor",bt.anchor),Ct.attr("transform",b(cn,kn)+(ae?h(d):""))}),{hoverLabels:Tt,commonLabelBoundingBox:qe}}function z(X,K,ee,re,ie,ae){var ue="",pe="";X.nameOverride!==void 0&&(X.name=X.nameOverride),X.name&&(X.trace._meta&&(X.name=_.templateString(X.name,X.trace._meta)),ue=U(X.name,X.nameLength));var de=ee.charAt(0),ye=de==="x"?"y":"x";X.zLabel!==void 0?(X.xLabel!==void 0&&(pe+="x: "+X.xLabel+"<br>"),X.yLabel!==void 0&&(pe+="y: "+X.yLabel+"<br>"),X.trace.type!=="choropleth"&&X.trace.type!=="choroplethmapbox"&&(pe+=(pe?"z: ":"")+X.zLabel)):K&&X[de+"Label"]===ie?pe=X[ye+"Label"]||"":X.xLabel===void 0?X.yLabel!==void 0&&X.trace.type!=="scattercarpet"&&(pe=X.yLabel):pe=X.yLabel===void 0?X.xLabel:"("+X.xLabel+", "+X.yLabel+")",!X.text&&X.text!==0||Array.isArray(X.text)||(pe+=(pe?"<br>":"")+X.text),X.extraText!==void 0&&(pe+=(pe?"<br>":"")+X.extraText),ae&&pe===""&&!X.hovertemplate&&(ue===""&&ae.remove(),pe=ue);var be=X.hovertemplate||!1;if(be){var me=X.hovertemplateLabels||X;X[de+"Label"]!==ie&&(me[de+"other"]=me[de+"Val"],me[de+"otherLabel"]=me[de+"Label"]),pe=(pe=_.hovertemplateString(be,me,re._d3locale,X.eventData[0]||{},X.trace._meta)).replace(P,function(Ee,Te){return ue=U(Te,X.nameLength),""})}return[pe,ue]}function j(X,K){var ee=0,re=X.offset;return K&&(re*=-w,ee=X.offset*m),{x:ee,y:re}}function R(X,K,ee,re){var ie=function(ue){return ue*ee},ae=function(ue){return ue*re};X.each(function(ue){var pe=M.select(this);if(ue.del)return pe.remove();var de,ye,be,me,Ee=pe.select("text.nums"),Te=ue.anchor,we=Te==="end"?-1:1,oe=(me=(be=(ye={start:1,end:-1,middle:0}[(de=ue).anchor])*(f+S))+ye*(de.txwidth+S),de.anchor==="middle"&&(be-=de.tx2width/2,me+=de.txwidth/2+S),{alignShift:ye,textShiftX:be,text2ShiftX:me}),se=j(ue,K),he=se.x,Se=se.y,_e=Te==="middle";pe.select("path").attr("d",_e?"M-"+ie(ue.bx/2+ue.tx2width/2)+","+ae(Se-ue.by/2)+"h"+ie(ue.bx)+"v"+ae(ue.by)+"h-"+ie(ue.bx)+"Z":"M0,0L"+ie(we*f+he)+","+ae(f+Se)+"v"+ae(ue.by/2-f)+"h"+ie(we*ue.bx)+"v-"+ae(ue.by)+"H"+ie(we*f+he)+"V"+ae(Se-f)+"Z");var Ae=he+oe.textShiftX,Ce=Se+ue.ty0-ue.by/2+S,Re=ue.textAlign||"auto";Re!=="auto"&&(Re==="left"&&Te!=="start"?(Ee.attr("text-anchor","start"),Ae=_e?-ue.bx/2-ue.tx2width/2+S:-ue.bx-S):Re==="right"&&Te!=="end"&&(Ee.attr("text-anchor","end"),Ae=_e?ue.bx/2-ue.tx2width/2-S:ue.bx+S)),Ee.call(t.positionText,ie(Ae),ae(Ce)),ue.tx2width&&(pe.select("text.name").call(t.positionText,ie(oe.text2ShiftX+oe.alignShift*S+he),ae(Se+ue.ty0-ue.by/2+S)),pe.select("rect").call(n.setRect,ie(oe.text2ShiftX+(oe.alignShift-1)*ue.tx2width/2+he),ae(Se-ue.by/2-1),ie(ue.tx2width),ae(ue.by+2)))})}function N(X,K){var ee=X.index,re=X.trace||{},ie=X.cd[0],ae=X.cd[ee]||{};function ue(Ee){return Ee||k(Ee)&&Ee===0}var pe=Array.isArray(ee)?function(Ee,Te){var we=_.castOption(ie,ee,Ee);return ue(we)?we:_.extractOption({},re,"",Te)}:function(Ee,Te){return _.extractOption(ae,re,Ee,Te)};function de(Ee,Te,we){var oe=pe(Te,we);ue(oe)&&(X[Ee]=oe)}if(de("hoverinfo","hi","hoverinfo"),de("bgcolor","hbg","hoverlabel.bgcolor"),de("borderColor","hbc","hoverlabel.bordercolor"),de("fontFamily","htf","hoverlabel.font.family"),de("fontSize","hts","hoverlabel.font.size"),de("fontColor","htc","hoverlabel.font.color"),de("nameLength","hnl","hoverlabel.namelength"),de("textAlign","hta","hoverlabel.align"),X.posref=K==="y"||K==="closest"&&re.orientation==="h"?X.xa._offset+(X.x0+X.x1)/2:X.ya._offset+(X.y0+X.y1)/2,X.x0=_.constrain(X.x0,0,X.xa._length),X.x1=_.constrain(X.x1,0,X.xa._length),X.y0=_.constrain(X.y0,0,X.ya._length),X.y1=_.constrain(X.y1,0,X.ya._length),X.xLabelVal!==void 0&&(X.xLabel="xLabel"in X?X.xLabel:s.hoverLabelText(X.xa,X.xLabelVal,re.xhoverformat),X.xVal=X.xa.c2d(X.xLabelVal)),X.yLabelVal!==void 0&&(X.yLabel="yLabel"in X?X.yLabel:s.hoverLabelText(X.ya,X.yLabelVal,re.yhoverformat),X.yVal=X.ya.c2d(X.yLabelVal)),X.zLabelVal!==void 0&&X.zLabel===void 0&&(X.zLabel=String(X.zLabelVal)),!(isNaN(X.xerr)||X.xa.type==="log"&&X.xerr<=0)){var ye=s.tickText(X.xa,X.xa.c2l(X.xerr),"hover").text;X.xerrneg!==void 0?X.xLabel+=" +"+ye+" / -"+s.tickText(X.xa,X.xa.c2l(X.xerrneg),"hover").text:X.xLabel+="  "+ye,K==="x"&&(X.distance+=1)}if(!(isNaN(X.yerr)||X.ya.type==="log"&&X.yerr<=0)){var be=s.tickText(X.ya,X.ya.c2l(X.yerr),"hover").text;X.yerrneg!==void 0?X.yLabel+=" +"+be+" / -"+s.tickText(X.ya,X.ya.c2l(X.yerrneg),"hover").text:X.yLabel+="  "+be,K==="y"&&(X.distance+=1)}var me=X.hoverinfo||X.trace.hoverinfo;return me&&me!=="all"&&((me=Array.isArray(me)?me:me.split("+")).indexOf("x")===-1&&(X.xLabel=void 0),me.indexOf("y")===-1&&(X.yLabel=void 0),me.indexOf("z")===-1&&(X.zLabel=void 0),me.indexOf("text")===-1&&(X.text=void 0),me.indexOf("name")===-1&&(X.name=void 0)),X}function Z(X,K,ee){var re,ie,ae=ee.container,ue=ee.fullLayout,pe=ue._size,de=ee.event,ye=!!K.hLinePoint,be=!!K.vLinePoint;if(ae.selectAll(".spikeline").remove(),be||ye){var me=r.combine(ue.plot_bgcolor,ue.paper_bgcolor);if(ye){var Ee,Te,we=K.hLinePoint;re=we&&we.xa,(ie=we&&we.ya).spikesnap==="cursor"?(Ee=de.pointerX,Te=de.pointerY):(Ee=re._offset+we.x,Te=ie._offset+we.y);var oe,se,he=a.readability(we.color,me)<1.5?r.contrast(me):we.color,Se=ie.spikemode,_e=ie.spikethickness,Ae=ie.spikecolor||he,Ce=s.getPxPosition(X,ie);if(Se.indexOf("toaxis")!==-1||Se.indexOf("across")!==-1){if(Se.indexOf("toaxis")!==-1&&(oe=Ce,se=Ee),Se.indexOf("across")!==-1){var Re=ie._counterDomainMin,fe=ie._counterDomainMax;ie.anchor==="free"&&(Re=Math.min(Re,ie.position),fe=Math.max(fe,ie.position)),oe=pe.l+Re*pe.w,se=pe.l+fe*pe.w}ae.insert("line",":first-child").attr({x1:oe,x2:se,y1:Te,y2:Te,"stroke-width":_e,stroke:Ae,"stroke-dasharray":n.dashStyle(ie.spikedash,_e)}).classed("spikeline",!0).classed("crisp",!0),ae.insert("line",":first-child").attr({x1:oe,x2:se,y1:Te,y2:Te,"stroke-width":_e+2,stroke:me}).classed("spikeline",!0).classed("crisp",!0)}Se.indexOf("marker")!==-1&&ae.insert("circle",":first-child").attr({cx:Ce+(ie.side!=="right"?_e:-_e),cy:Te,r:_e,fill:Ae}).classed("spikeline",!0)}if(be){var xe,ke,Ie=K.vLinePoint;re=Ie&&Ie.xa,ie=Ie&&Ie.ya,re.spikesnap==="cursor"?(xe=de.pointerX,ke=de.pointerY):(xe=re._offset+Ie.x,ke=ie._offset+Ie.y);var Fe,ze,qe=a.readability(Ie.color,me)<1.5?r.contrast(me):Ie.color,Ye=re.spikemode,Qe=re.spikethickness,ft=re.spikecolor||qe,ht=s.getPxPosition(X,re);if(Ye.indexOf("toaxis")!==-1||Ye.indexOf("across")!==-1){if(Ye.indexOf("toaxis")!==-1&&(Fe=ht,ze=ke),Ye.indexOf("across")!==-1){var mt=re._counterDomainMin,Mt=re._counterDomainMax;re.anchor==="free"&&(mt=Math.min(mt,re.position),Mt=Math.max(Mt,re.position)),Fe=pe.t+(1-Mt)*pe.h,ze=pe.t+(1-mt)*pe.h}ae.insert("line",":first-child").attr({x1:xe,x2:xe,y1:Fe,y2:ze,"stroke-width":Qe,stroke:ft,"stroke-dasharray":n.dashStyle(re.spikedash,Qe)}).classed("spikeline",!0).classed("crisp",!0),ae.insert("line",":first-child").attr({x1:xe,x2:xe,y1:Fe,y2:ze,"stroke-width":Qe+2,stroke:me}).classed("spikeline",!0).classed("crisp",!0)}Ye.indexOf("marker")!==-1&&ae.insert("circle",":first-child").attr({cx:xe,cy:ht-(re.side!=="top"?Qe:-Qe),r:Qe,fill:ft}).classed("spikeline",!0)}}}function F(X,K){return!K||K.vLinePoint!==X._spikepoints.vLinePoint||K.hLinePoint!==X._spikepoints.hLinePoint}function U(X,K){return t.plainText(X||"",{len:K,allowedTags:["br","sub","sup","b","i","em"]})}function V(X,K,ee){var re=K[X+"a"],ie=K[X+"Val"],ae=K.cd[0];if(re.type==="category"||re.type==="multicategory")ie=re._categoriesMap[ie];else if(re.type==="date"){var ue=K.trace[X+"periodalignment"];if(ue){var pe=K.cd[K.index],de=pe[X+"Start"];de===void 0&&(de=pe[X]);var ye=pe[X+"End"];ye===void 0&&(ye=pe[X]);var be=ye-de;ue==="end"?ie+=be:ue==="middle"&&(ie+=be/2)}ie=re.d2c(ie)}return ae&&ae.t&&ae.t.posLetter===re._id&&(ee.boxmode!=="group"&&ee.violinmode!=="group"||(ie+=ae.t.dPos)),ie}function te(X){return X.offsetTop+X.clientTop}function Q(X){return X.offsetLeft+X.clientLeft}function J(X,K){var ee=X._fullLayout,re=K.getBoundingClientRect(),ie=re.left,ae=re.top,ue=ie+re.width,pe=ae+re.height,de=_.apply3DTransform(ee._invTransform)(ie,ae),ye=_.apply3DTransform(ee._invTransform)(ue,pe),be=de[0],me=de[1],Ee=ye[0],Te=ye[1];return{x:be,y:me,width:Ee-be,height:Te-me,top:Math.min(me,Te),left:Math.min(be,Ee),right:Math.max(be,Ee),bottom:Math.max(me,Te)}}},38048:function(q,C,e){var M=e(71828),k=e(7901),a=e(23469).isUnifiedHover;q.exports=function(_,b,h,o){o=o||{};var t=b.legend;function i(n){o.font[n]||(o.font[n]=t?b.legend.font[n]:b.font[n])}b&&a(b.hovermode)&&(o.font||(o.font={}),i("size"),i("family"),i("color"),t?(o.bgcolor||(o.bgcolor=k.combine(b.legend.bgcolor,b.paper_bgcolor)),o.bordercolor||(o.bordercolor=b.legend.bordercolor)):o.bgcolor||(o.bgcolor=b.paper_bgcolor)),h("hoverlabel.bgcolor",o.bgcolor),h("hoverlabel.bordercolor",o.bordercolor),h("hoverlabel.namelength",o.namelength),M.coerceFont(h,"hoverlabel.font",o.font),h("hoverlabel.align",o.align)}},98212:function(q,C,e){var M=e(71828),k=e(528);q.exports=function(a,_){function b(h,o){return _[h]!==void 0?_[h]:M.coerce(a,_,k,h,o)}return b("clickmode"),b("hovermode")}},30211:function(q,C,e){var M=e(39898),k=e(71828),a=e(28569),_=e(23469),b=e(528),h=e(88335);q.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:b},attributes:e(77914),layoutAttributes:b,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:_.getDistanceFunction,getClosest:_.getClosest,inbox:_.inbox,quadrature:_.quadrature,appendArrayPointValue:_.appendArrayPointValue,castHoverOption:function(o,t,i){return k.castOption(o,t,"hoverlabel."+i)},castHoverinfo:function(o,t,i){return k.castOption(o,i,"hoverinfo",function(n){return k.coerceHoverinfo({hoverinfo:n},{_module:o._module},t)})},hover:h.hover,unhover:a.unhover,loneHover:h.loneHover,loneUnhover:function(o){var t=k.isD3Selection(o)?o:M.select(o);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:e(75914)}},528:function(q,C,e){var M=e(26675),k=e(41940),a=k({editType:"none"});a.family.dflt=M.HOVERFONT,a.size.dflt=M.HOVERFONTSIZE,q.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:k({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(q,C,e){var M=e(71828),k=e(528),a=e(98212),_=e(38048);q.exports=function(b,h){function o(r,l){return M.coerce(b,h,k,r,l)}a(b,h)&&(o("hoverdistance"),o("spikedistance")),o("dragmode")==="select"&&o("selectdirection");var t=h._has("mapbox"),i=h._has("geo"),n=h._basePlotModules.length;h.dragmode==="zoom"&&((t||i)&&n===1||t&&i&&n===2)&&(h.dragmode="pan"),_(b,h,o),M.coerceFont(o,"hoverlabel.grouptitlefont",h.hoverlabel.font)}},22774:function(q,C,e){var M=e(71828),k=e(38048),a=e(528);q.exports=function(_,b){k(_,b,function(h,o){return M.coerce(_,b,a,h,o)})}},83312:function(q,C,e){var M=e(71828),k=e(30587).counter,a=e(27670).Y,_=e(85555).idRegex,b=e(44467),h={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[k("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[_.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[_.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function o(n,r,l){var s=r[l+"axes"],u=Object.keys((n._splomAxes||{})[l]||{});return Array.isArray(s)?s:u.length?u:void 0}function t(n,r,l,s,u,p){var c=r(n+"gap",l),x=r("domain."+n);r(n+"side",s);for(var g=new Array(u),d=x[0],v=(x[1]-d)/(u-c),y=v*(1-c),m=0;m<u;m++){var w=d+v*m;g[p?u-1-m:m]=[w,w+y]}return g}function i(n,r,l,s,u){var p,c=new Array(l);function x(g,d){r.indexOf(d)!==-1&&s[d]===void 0?(c[g]=d,s[d]=g):c[g]=""}if(Array.isArray(n))for(p=0;p<l;p++)x(p,n[p]);else for(x(0,u),p=1;p<l;p++)x(p,u+(p+1));return c}q.exports={moduleType:"component",name:"grid",schema:{layout:{grid:h}},layoutAttributes:h,sizeDefaults:function(n,r){var l=n.grid||{},s=o(r,l,"x"),u=o(r,l,"y");if(n.grid||s||u){var p,c,x=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),g=Array.isArray(s),d=Array.isArray(u),v=g&&s!==l.xaxes&&d&&u!==l.yaxes;x?(p=l.subplots.length,c=l.subplots[0].length):(d&&(p=u.length),g&&(c=s.length));var y=b.newContainer(r,"grid"),m=P("rows",p),w=P("columns",c);if(m*w>1){x||g||d||P("pattern")==="independent"&&(x=!0),y._hasSubplotGrid=x;var f,S,T=P("roworder")==="top to bottom",E=x?.2:.1,O=x?.3:.1;v&&r._splomGridDflt&&(f=r._splomGridDflt.xside,S=r._splomGridDflt.yside),y._domains={x:t("x",P,E,f,w),y:t("y",P,O,S,m,T)}}else delete r.grid}function P(I,z){return M.coerce(l,y,h,I,z)}},contentDefaults:function(n,r){var l=r.grid;if(l&&l._domains){var s,u,p,c,x,g,d,v=n.grid||{},y=r._subplots,m=l._hasSubplotGrid,w=l.rows,f=l.columns,S=l.pattern==="independent",T=l._axisMap={};if(m){var E=v.subplots||[];g=l.subplots=new Array(w);var O=1;for(s=0;s<w;s++){var P=g[s]=new Array(f),I=E[s]||[];for(u=0;u<f;u++)if(S?(x=O===1?"xy":"x"+O+"y"+O,O++):x=I[u],P[u]="",y.cartesian.indexOf(x)!==-1){if(d=x.indexOf("y"),p=x.slice(0,d),c=x.slice(d),T[p]!==void 0&&T[p]!==u||T[c]!==void 0&&T[c]!==s)continue;P[u]=x,T[p]=u,T[c]=s}}}else{var z=o(r,v,"x"),j=o(r,v,"y");l.xaxes=i(z,y.xaxis,f,T,"x"),l.yaxes=i(j,y.yaxis,w,T,"y")}var R=l._anchors={},N=l.roworder==="top to bottom";for(var Z in T){var F,U,V,te=Z.charAt(0),Q=l[te+"side"];if(Q.length<8)R[Z]="free";else if(te==="x"){if(Q.charAt(0)==="t"===N?(F=0,U=1,V=w):(F=w-1,U=-1,V=-1),m){var J=T[Z];for(s=F;s!==V;s+=U)if((x=g[s][J])&&(d=x.indexOf("y"),x.slice(0,d)===Z)){R[Z]=x.slice(d);break}}else for(s=F;s!==V;s+=U)if(c=l.yaxes[s],y.cartesian.indexOf(Z+c)!==-1){R[Z]=c;break}}else if(Q.charAt(0)==="l"?(F=0,U=1,V=f):(F=f-1,U=-1,V=-1),m){var X=T[Z];for(s=F;s!==V;s+=U)if((x=g[X][s])&&(d=x.indexOf("y"),x.slice(d)===Z)){R[Z]=x.slice(0,d);break}}else for(s=F;s!==V;s+=U)if(p=l.xaxes[s],y.cartesian.indexOf(p+Z)!==-1){R[Z]=p;break}}}}}},69819:function(q,C,e){var M=e(85555),k=e(44467).templatedArray;e(24695),q.exports=k("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",M.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",M.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(q,C,e){var M=e(92770),k=e(58163);q.exports=function(a,_,b,h){_=_||{};var o=b==="log"&&_.type==="linear",t=b==="linear"&&_.type==="log";if(o||t){for(var i,n,r=a._fullLayout.images,l=_._id.charAt(0),s=0;s<r.length;s++)if(n="images["+s+"].",(i=r[s])[l+"ref"]===_._id){var u=i[l],p=i["size"+l],c=null,x=null;if(o){c=k(u,_.range);var g=p/Math.pow(10,c)/2;x=2*Math.log(g+Math.sqrt(1+g*g))/Math.LN10}else x=(c=Math.pow(10,u))*(Math.pow(10,p/2)-Math.pow(10,-p/2));M(c)?M(x)||(x=null):(c=null,x=null),h(n+l,c),h(n+"size"+l,x)}}}},81603:function(q,C,e){var M=e(71828),k=e(89298),a=e(85501),_=e(69819);function b(h,o,t){function i(c,x){return M.coerce(h,o,_,c,x)}var n=i("source");if(!i("visible",!!n))return o;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var r={_fullLayout:t},l=["x","y"],s=0;s<2;s++){var u=l[s],p=k.coerceRef(h,o,r,u,"paper",void 0);p!=="paper"&&k.getFromId(r,p)._imgIndices.push(o._index),k.coercePosition(o,r,i,p,u,0)}return o}q.exports=function(h,o){a(h,o,{name:"images",handleItemDefaults:b})}},80750:function(q,C,e){var M=e(39898),k=e(91424),a=e(89298),_=e(41675),b=e(77922);q.exports=function(h){var o,t,i=h._fullLayout,n=[],r={},l=[];for(t=0;t<i.images.length;t++){var s=i.images[t];if(s.visible)if(s.layer==="below"&&s.xref!=="paper"&&s.yref!=="paper"){o=_.ref2id(s.xref)+_.ref2id(s.yref);var u=i._plots[o];if(!u){l.push(s);continue}u.mainplot&&(o=u.mainplot.id),r[o]||(r[o]=[]),r[o].push(s)}else s.layer==="above"?n.push(s):l.push(s)}var p={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},c={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function x(f){var S=M.select(this);if(this._imgSrc!==f.source)if(S.attr("xmlns",b.svg),f.source&&f.source.slice(0,5)==="data:")S.attr("xlink:href",f.source),this._imgSrc=f.source;else{var T=new Promise((function(E){var O=new Image;function P(){S.remove(),E()}this.img=O,O.setAttribute("crossOrigin","anonymous"),O.onerror=P,O.onload=function(){var I=document.createElement("canvas");I.width=this.width,I.height=this.height,I.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var z=I.toDataURL("image/png");S.attr("xlink:href",z),E()},S.on("error",P),O.src=f.source,this._imgSrc=f.source}).bind(this));h._promises.push(T)}}function g(f){var S,T,E=M.select(this),O=a.getFromId(h,f.xref),P=a.getFromId(h,f.yref),I=a.getRefType(f.xref)==="domain",z=a.getRefType(f.yref)==="domain",j=i._size;S=O!==void 0?typeof f.xref=="string"&&I?O._length*f.sizex:Math.abs(O.l2p(f.sizex)-O.l2p(0)):f.sizex*j.w,T=P!==void 0?typeof f.yref=="string"&&z?P._length*f.sizey:Math.abs(P.l2p(f.sizey)-P.l2p(0)):f.sizey*j.h;var R,N,Z=S*p[f.xanchor].offset,F=T*c[f.yanchor].offset,U=p[f.xanchor].sizing+c[f.yanchor].sizing;switch(R=O!==void 0?typeof f.xref=="string"&&I?O._length*f.x+O._offset:O.r2p(f.x)+O._offset:f.x*j.w+j.l,R+=Z,N=P!==void 0?typeof f.yref=="string"&&z?P._length*(1-f.y)+P._offset:P.r2p(f.y)+P._offset:j.h-f.y*j.h+j.t,N+=F,f.sizing){case"fill":U+=" slice";break;case"stretch":U="none"}E.attr({x:R,y:N,width:S,height:T,preserveAspectRatio:U,opacity:f.opacity});var V=(O&&a.getRefType(f.xref)!=="domain"?O._id:"")+(P&&a.getRefType(f.yref)!=="domain"?P._id:"");k.setClipUrl(E,V?"clip"+i._uid+V:null,h)}var d=i._imageLowerLayer.selectAll("image").data(l),v=i._imageUpperLayer.selectAll("image").data(n);d.enter().append("image"),v.enter().append("image"),d.exit().remove(),v.exit().remove(),d.each(function(f){x.bind(this)(f),g.bind(this)(f)}),v.each(function(f){x.bind(this)(f),g.bind(this)(f)});var y=Object.keys(i._plots);for(t=0;t<y.length;t++){o=y[t];var m=i._plots[o];if(m.imagelayer){var w=m.imagelayer.selectAll("image").data(r[o]||[]);w.enter().append("image"),w.exit().remove(),w.each(function(f){x.bind(this)(f),g.bind(this)(f)})}}}},68804:function(q,C,e){q.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(q,C,e){var M=e(41940),k=e(22399);q.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:k.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:M({editType:"legend"}),grouptitlefont:M({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:M({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(q){q.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(q,C,e){var M=e(73972),k=e(71828),a=e(44467),_=e(9012),b=e(33030),h=e(10820),o=e(10130);function t(i,n,r,l){var s=n[i]||{},u=a.newContainer(r,i);function p(U,V){return k.coerce(s,u,b,U,V)}var c=k.coerceFont(p,"font",r.font);if(p("bgcolor",r.paper_bgcolor),p("bordercolor"),p("visible")){for(var x,g=function(U,V){var te=x._input,Q=x;return k.coerce(te,Q,_,U,V)},d=r.font||{},v=k.coerceFont(p,"grouptitlefont",k.extendFlat({},d,{size:Math.round(1.1*d.size)})),y=0,m=!1,w="normal",f=(r.shapes||[]).filter(function(U){return U.showlegend}),S=l.concat(f).filter(function(U){return i===(U.legend||"legend")}),T=0;T<S.length;T++)if((x=S[T]).visible){var E=x._isShape;(x.showlegend||x._dfltShowLegend&&!(x._module&&x._module.attributes&&x._module.attributes.showlegend&&x._module.attributes.showlegend.dflt===!1))&&(y++,x.showlegend&&(m=!0,(!E&&M.traceIs(x,"pie-like")||x._input.showlegend===!0)&&y++),k.coerceFont(g,"legendgrouptitle.font",v)),(!E&&M.traceIs(x,"bar")&&r.barmode==="stack"||["tonextx","tonexty"].indexOf(x.fill)!==-1)&&(w=o.isGrouped({traceorder:w})?"grouped+reversed":"reversed"),x.legendgroup!==void 0&&x.legendgroup!==""&&(w=o.isReversed({traceorder:w})?"reversed+grouped":"grouped")}var O=k.coerce(n,r,h,"showlegend",m&&y>(i==="legend"?1:0));if(O===!1&&(r[i]=void 0),(O!==!1||s.uirevision)&&(p("uirevision",r.uirevision),O!==!1)){p("borderwidth");var P,I,z,j=p("orientation")==="h",R=p("yref")==="paper",N=p("xref")==="paper",Z="left";if(j?(P=0,M.getComponentMethod("rangeslider","isVisible")(n.xaxis)?R?(I=1.1,z="bottom"):(I=1,z="top"):R?(I=-.1,z="top"):(I=0,z="bottom")):(I=1,z="auto",N?P=1.02:(P=1,Z="right")),k.coerce(s,u,{x:{valType:"number",editType:"legend",min:N?-2:0,max:N?3:1,dflt:P}},"x"),k.coerce(s,u,{y:{valType:"number",editType:"legend",min:R?-2:0,max:R?3:1,dflt:I}},"y"),p("traceorder",w),o.isGrouped(r[i])&&p("tracegroupgap"),p("entrywidth"),p("entrywidthmode"),p("itemsizing"),p("itemwidth"),p("itemclick"),p("itemdoubleclick"),p("groupclick"),p("xanchor",Z),p("yanchor",z),p("valign"),k.noneOrAll(s,u,["x","y"]),p("title.text")){p("title.side",j?"left":"top");var F=k.extendFlat({},c,{size:k.bigFont(c.size)});k.coerceFont(p,"title.font",F)}}}}q.exports=function(i,n,r){var l,s=r.slice(),u=n.shapes;if(u)for(l=0;l<u.length;l++){var p=u[l];if(p.showlegend){var c={_input:p._input,visible:p.visible,showlegend:p.showlegend,legend:p.legend};s.push(c)}}var x=["legend"];for(l=0;l<s.length;l++)k.pushUnique(x,s[l].legend);for(n._legends=[],l=0;l<x.length;l++){var g=x[l];t(g,i,n,s),n[g]&&n[g].visible&&(n[g]._id=g),n._legends.push(g)}}},43969:function(q,C,e){var M=e(39898),k=e(71828),a=e(74875),_=e(73972),b=e(11086),h=e(28569),o=e(91424),t=e(7901),i=e(63893),n=e(85167),r=e(14928),l=e(18783),s=l.LINE_SPACING,u=l.FROM_TL,p=l.FROM_BR,c=e(82424),x=e(53630),g=e(10130),d=1,v=/^legend[0-9]*$/;function y(z,j){var R,N,Z=j||{},F=z._fullLayout,U=I(Z),V=Z._inHover;if(V?(N=Z.layer,R="hover"):(N=F._infolayer,R=U),N){var te;if(R+=F._uid,z._legendMouseDownTime||(z._legendMouseDownTime=0),V){if(!Z.entries)return;te=c(Z.entries,Z)}else{for(var Q=(z.calcdata||[]).slice(),J=F.shapes,X=0;X<J.length;X++){var K=J[X];if(K.showlegend){var ee={_isShape:!0,_fullInput:K,index:K._index,name:K.name||K.label.text||"shape "+K._index,legend:K.legend,legendgroup:K.legendgroup,legendgrouptitle:K.legendgrouptitle,legendrank:K.legendrank,legendwidth:K.legendwidth,showlegend:K.showlegend,visible:K.visible,opacity:K.opacity,mode:K.type==="line"?"lines":"markers",line:K.line,marker:{line:K.line,color:K.fillcolor,size:12,symbol:K.type==="rect"?"square":K.type==="circle"?"circle":"hexagon2"}};Q.push([{trace:ee}])}}te=F.showlegend&&c(Q,Z,F._legends.length>1)}var re=F.hiddenlabels||[];if(!(V||F.showlegend&&te.length))return N.selectAll("."+U).remove(),F._topdefs.select("#"+R).remove(),a.autoMargin(z,U);var ie=k.ensureSingle(N,"g",U,function(Te){V||Te.attr("pointer-events","all")}),ae=k.ensureSingleById(F._topdefs,"clipPath",R,function(Te){Te.append("rect")}),ue=k.ensureSingle(ie,"rect","bg",function(Te){Te.attr("shape-rendering","crispEdges")});ue.call(t.stroke,Z.bordercolor).call(t.fill,Z.bgcolor).style("stroke-width",Z.borderwidth+"px");var pe,de=k.ensureSingle(ie,"g","scrollbox"),ye=Z.title;Z._titleWidth=0,Z._titleHeight=0,ye.text?((pe=k.ensureSingle(de,"text",U+"titletext")).attr("text-anchor","start").call(o.font,ye.font).text(ye.text),E(pe,de,z,Z,d)):de.selectAll("."+U+"titletext").remove();var be=k.ensureSingle(ie,"rect","scrollbar",function(Te){Te.attr(r.scrollBarEnterAttrs).call(t.fill,r.scrollBarColor)}),me=de.selectAll("g.groups").data(te);me.enter().append("g").attr("class","groups"),me.exit().remove();var Ee=me.selectAll("g.traces").data(k.identity);Ee.enter().append("g").attr("class","traces"),Ee.exit().remove(),Ee.style("opacity",function(Te){var we=Te[0].trace;return _.traceIs(we,"pie-like")?re.indexOf(Te[0].label)!==-1?.5:1:we.visible==="legendonly"?.5:1}).each(function(){M.select(this).call(f,z,Z)}).call(x,z,Z).each(function(){V||M.select(this).call(T,z,U)}),k.syncOrAsync([a.previousPromises,function(){return function(Te,we,oe,se){var he=Te._fullLayout,Se=I(se);se||(se=he[Se]);var _e=he._size,Ae=g.isVertical(se),Ce=g.isGrouped(se),Re=se.entrywidthmode==="fraction",fe=se.borderwidth,xe=2*fe,ke=r.itemGap,Ie=se.itemwidth+2*ke,Fe=2*(fe+ke),ze=P(se),qe=se.y<0||se.y===0&&ze==="top",Ye=se.y>1||se.y===1&&ze==="bottom",Qe=se.tracegroupgap,ft={};se._maxHeight=Math.max(qe||Ye?he.height/2:_e.h,30);var ht=0;se._width=0,se._height=0;var mt=function(yt){var xt=0,dt=0,Lt=yt.title.side;return Lt&&(Lt.indexOf("left")!==-1&&(xt=yt._titleWidth),Lt.indexOf("top")!==-1&&(dt=yt._titleHeight)),[xt,dt]}(se);if(Ae)oe.each(function(yt){var xt=yt[0].height;o.setTranslate(this,fe+mt[0],fe+mt[1]+se._height+xt/2+ke),se._height+=xt,se._width=Math.max(se._width,yt[0].width)}),ht=Ie+se._width,se._width+=ke+Ie+xe,se._height+=Fe,Ce&&(we.each(function(yt,xt){o.setTranslate(this,0,xt*se.tracegroupgap)}),se._height+=(se._lgroupsLength-1)*se.tracegroupgap);else{var Mt=O(se),_t=se.x<0||se.x===0&&Mt==="right",it=se.x>1||se.x===1&&Mt==="left",st=Ye||qe,St=he.width/2;se._maxWidth=Math.max(_t?st&&Mt==="left"?_e.l+_e.w:St:it?st&&Mt==="right"?_e.r+_e.w:St:_e.w,2*Ie);var zt=0,Ft=0;oe.each(function(yt){var xt=m(yt,se,Ie);zt=Math.max(zt,xt),Ft+=xt}),ht=null;var Pt=0;if(Ce){var Ze=0,Je=0,Ue=0;we.each(function(){var yt=0,xt=0;M.select(this).selectAll("g.traces").each(function(Lt){var Tt=m(Lt,se,Ie),bt=Lt[0].height;o.setTranslate(this,mt[0],mt[1]+fe+ke+bt/2+xt),xt+=bt,yt=Math.max(yt,Tt),ft[Lt[0].trace.legendgroup]=yt});var dt=yt+ke;Je>0&&dt+fe+Je>se._maxWidth?(Pt=Math.max(Pt,Je),Je=0,Ue+=Ze+Qe,Ze=xt):Ze=Math.max(Ze,xt),o.setTranslate(this,Je,Ue),Je+=dt}),se._width=Math.max(Pt,Je)+fe,se._height=Ue+Ze+Fe}else{var Xe=oe.size(),lt=Ft+xe+(Xe-1)*ke<se._maxWidth,ot=0,Be=0,Ne=0,at=0;oe.each(function(yt){var xt=yt[0].height,dt=m(yt,se,Ie),Lt=lt?dt:zt;Re||(Lt+=ke),Lt+fe+Be-ke>=se._maxWidth&&(Pt=Math.max(Pt,at),Be=0,Ne+=ot,se._height+=ot,ot=0),o.setTranslate(this,mt[0]+fe+Be,mt[1]+fe+Ne+xt/2+ke),at=Be+dt+ke,Be+=Lt,ot=Math.max(ot,xt)}),lt?(se._width=Be+xe,se._height=ot+Fe):(se._width=Math.max(Pt,at)+xe,se._height+=ot+Fe)}}se._width=Math.ceil(Math.max(se._width+mt[0],se._titleWidth+2*(fe+r.titlePad))),se._height=Math.ceil(Math.max(se._height+mt[1],se._titleHeight+2*(fe+r.itemGap))),se._effHeight=Math.min(se._height,se._maxHeight);var $e=Te._context.edits,gt=$e.legendText||$e.legendPosition;oe.each(function(yt){var xt=M.select(this).select("."+Se+"toggle"),dt=yt[0].height,Lt=yt[0].trace.legendgroup,Tt=m(yt,se,Ie);Ce&&Lt!==""&&(Tt=ft[Lt]);var bt=gt?Ie:ht||Tt;Ae||Re||(bt+=ke/2),o.setRect(xt,0,-dt/2,bt,dt)})}(z,me,Ee,Z)},function(){var Te,we,oe,se,he=F._size,Se=Z.borderwidth,_e=Z.xref==="paper",Ae=Z.yref==="paper";if(ye.text&&function(st,St,zt){if(St.title.side==="top center"||St.title.side==="top right"){var Ft=St.title.font.size*s,Pt=0,Ze=st.node(),Je=o.bBox(Ze).width;St.title.side==="top center"?Pt=.5*(St._width-2*zt-2*r.titlePad-Je):St.title.side==="top right"&&(Pt=St._width-2*zt-2*r.titlePad-Je),i.positionText(st,zt+r.titlePad+Pt,zt+Ft)}}(pe,Z,Se),!V){var Ce,Re;Ce=_e?he.l+he.w*Z.x-u[O(Z)]*Z._width:F.width*Z.x-u[O(Z)]*Z._width,Re=Ae?he.t+he.h*(1-Z.y)-u[P(Z)]*Z._effHeight:F.height*(1-Z.y)-u[P(Z)]*Z._effHeight;var fe=function(st,St,zt,Ft){var Pt=st._fullLayout,Ze=Pt[St],Je=O(Ze),Ue=P(Ze),Xe=Ze.xref==="paper",lt=Ze.yref==="paper";st._fullLayout._reservedMargin[St]={};var ot=Ze.y<.5?"b":"t",Be=Ze.x<.5?"l":"r",Ne={r:Pt.width-zt,l:zt+Ze._width,b:Pt.height-Ft,t:Ft+Ze._effHeight};if(Xe&&lt)return a.autoMargin(st,St,{x:Ze.x,y:Ze.y,l:Ze._width*u[Je],r:Ze._width*p[Je],b:Ze._effHeight*p[Ue],t:Ze._effHeight*u[Ue]});Xe?st._fullLayout._reservedMargin[St][ot]=Ne[ot]:lt||Ze.orientation==="v"?st._fullLayout._reservedMargin[St][Be]=Ne[Be]:st._fullLayout._reservedMargin[St][ot]=Ne[ot]}(z,U,Ce,Re);if(fe)return;if(F.margin.autoexpand){var xe=Ce,ke=Re;Ce=_e?k.constrain(Ce,0,F.width-Z._width):xe,Re=Ae?k.constrain(Re,0,F.height-Z._effHeight):ke,Ce!==xe&&k.log("Constrain "+U+".x to make legend fit inside graph"),Re!==ke&&k.log("Constrain "+U+".y to make legend fit inside graph")}o.setTranslate(ie,Ce,Re)}if(be.on(".drag",null),ie.on("wheel",null),V||Z._height<=Z._maxHeight||z._context.staticPlot){var Ie=Z._effHeight;V&&(Ie=Z._height),ue.attr({width:Z._width-Se,height:Ie-Se,x:Se/2,y:Se/2}),o.setTranslate(de,0,0),ae.select("rect").attr({width:Z._width-2*Se,height:Ie-2*Se,x:Se,y:Se}),o.setClipUrl(de,R,z),o.setRect(be,0,0,0,0),delete Z._scrollY}else{var Fe,ze,qe,Ye=Math.max(r.scrollBarMinHeight,Z._effHeight*Z._effHeight/Z._height),Qe=Z._effHeight-Ye-2*r.scrollBarMargin,ft=Z._height-Z._effHeight,ht=Qe/ft,mt=Math.min(Z._scrollY||0,ft);ue.attr({width:Z._width-2*Se+r.scrollBarWidth+r.scrollBarMargin,height:Z._effHeight-Se,x:Se/2,y:Se/2}),ae.select("rect").attr({width:Z._width-2*Se+r.scrollBarWidth+r.scrollBarMargin,height:Z._effHeight-2*Se,x:Se,y:Se+mt}),o.setClipUrl(de,R,z),it(mt,Ye,ht),ie.on("wheel",function(){it(mt=k.constrain(Z._scrollY+M.event.deltaY/Qe*ft,0,ft),Ye,ht),mt!==0&&mt!==ft&&M.event.preventDefault()});var Mt=M.behavior.drag().on("dragstart",function(){var st=M.event.sourceEvent;Fe=st.type==="touchstart"?st.changedTouches[0].clientY:st.clientY,qe=mt}).on("drag",function(){var st=M.event.sourceEvent;st.buttons===2||st.ctrlKey||(ze=st.type==="touchmove"?st.changedTouches[0].clientY:st.clientY,mt=function(St,zt,Ft){var Pt=(Ft-zt)/ht+St;return k.constrain(Pt,0,ft)}(qe,Fe,ze),it(mt,Ye,ht))});be.call(Mt);var _t=M.behavior.drag().on("dragstart",function(){var st=M.event.sourceEvent;st.type==="touchstart"&&(Fe=st.changedTouches[0].clientY,qe=mt)}).on("drag",function(){var st=M.event.sourceEvent;st.type==="touchmove"&&(ze=st.changedTouches[0].clientY,mt=function(St,zt,Ft){var Pt=(zt-Ft)/ht+St;return k.constrain(Pt,0,ft)}(qe,Fe,ze),it(mt,Ye,ht))});de.call(_t)}function it(st,St,zt){Z._scrollY=z._fullLayout[U]._scrollY=st,o.setTranslate(de,0,-st),o.setRect(be,Z._width,r.scrollBarMargin+st*zt,r.scrollBarWidth,St),ae.select("rect").attr("y",Se+st)}z._context.edits.legendPosition&&(ie.classed("cursor-move",!0),h.init({element:ie.node(),gd:z,prepFn:function(){var st=o.getTranslate(ie);oe=st.x,se=st.y},moveFn:function(st,St){var zt=oe+st,Ft=se+St;o.setTranslate(ie,zt,Ft),Te=h.align(zt,Z._width,he.l,he.l+he.w,Z.xanchor),we=h.align(Ft+Z._height,-Z._height,he.t+he.h,he.t,Z.yanchor)},doneFn:function(){if(Te!==void 0&&we!==void 0){var st={};st[U+".x"]=Te,st[U+".y"]=we,_.call("_guiRelayout",z,st)}},clickFn:function(st,St){var zt=N.selectAll("g.traces").filter(function(){var Ft=this.getBoundingClientRect();return St.clientX>=Ft.left&&St.clientX<=Ft.right&&St.clientY>=Ft.top&&St.clientY<=Ft.bottom});zt.size()>0&&w(z,ie,zt,st,St)}}))}],z)}}function m(z,j,R){var N=z[0],Z=N.width,F=j.entrywidthmode,U=N.trace.legendwidth||j.entrywidth;return F==="fraction"?j._maxWidth*U:R+(U||Z)}function w(z,j,R,N,Z){var F=R.data()[0][0].trace,U={event:Z,node:R.node(),curveNumber:F.index,expandedIndex:F._expandedIndex,data:z.data,layout:z.layout,frames:z._transitionData._frames,config:z._context,fullData:z._fullData,fullLayout:z._fullLayout};F._group&&(U.group=F._group),_.traceIs(F,"pie-like")&&(U.label=R.datum()[0].label);var V=b.triggerHandler(z,"plotly_legendclick",U);if(N===1){if(V===!1)return;j._clickTimeout=setTimeout(function(){z._fullLayout&&n(R,z,N)},z._context.doubleClickDelay)}else N===2&&(j._clickTimeout&&clearTimeout(j._clickTimeout),z._legendMouseDownTime=0,b.triggerHandler(z,"plotly_legenddoubleclick",U)!==!1&&V!==!1&&n(R,z,N))}function f(z,j,R){var N,Z,F=I(R),U=z.data()[0][0],V=U.trace,te=_.traceIs(V,"pie-like"),Q=!R._inHover&&j._context.edits.legendText&&!te,J=R._maxNameLength;U.groupTitle?(N=U.groupTitle.text,Z=U.groupTitle.font):(Z=R.font,R.entries?N=U.text:(N=te?U.label:V.name,V._meta&&(N=k.templateString(N,V._meta))));var X=k.ensureSingle(z,"text",F+"text");X.attr("text-anchor","start").call(o.font,Z).text(Q?S(N,J):N);var K=R.itemwidth+2*r.itemGap;i.positionText(X,K,0),Q?X.call(i.makeEditable,{gd:j,text:N}).call(E,z,j,R).on("edit",function(ee){this.text(S(ee,J)).call(E,z,j,R);var re=U.trace._fullInput||{},ie={};if(_.hasTransform(re,"groupby")){var ae=_.getTransformIndices(re,"groupby"),ue=ae[ae.length-1],pe=k.keyedContainer(re,"transforms["+ue+"].styles","target","value.name");pe.set(U.trace._group,ee),ie=pe.constructUpdate()}else ie.name=ee;return re._isShape?_.call("_guiRelayout",j,"shapes["+V.index+"].name",ie.name):_.call("_guiRestyle",j,ie,V.index)}):E(X,z,j,R)}function S(z,j){var R=Math.max(4,j);if(z&&z.trim().length>=R/2)return z;for(var N=R-(z=z||"").length;N>0;N--)z+=" ";return z}function T(z,j,R){var N,Z=j._context.doubleClickDelay,F=1,U=k.ensureSingle(z,"rect",R+"toggle",function(V){j._context.staticPlot||V.style("cursor","pointer").attr("pointer-events","all"),V.call(t.fill,"rgba(0,0,0,0)")});j._context.staticPlot||(U.on("mousedown",function(){(N=new Date().getTime())-j._legendMouseDownTime<Z?F+=1:(F=1,j._legendMouseDownTime=N)}),U.on("mouseup",function(){if(!j._dragged&&!j._editing){var V=j._fullLayout[R];new Date().getTime()-j._legendMouseDownTime>Z&&(F=Math.max(F-1,1)),w(j,V,z,F,M.event)}}))}function E(z,j,R,N,Z){N._inHover&&z.attr("data-notex",!0),i.convertToTspans(z,R,function(){(function(F,U,V,te){var Q=F.data()[0][0];if(V._inHover||!Q||Q.trace.showlegend){var J=F.select("g[class*=math-group]"),X=J.node(),K=I(V);V||(V=U._fullLayout[K]);var ee,re,ie=V.borderwidth,ae=(te===d?V.title.font:Q.groupTitle?Q.groupTitle.font:V.font).size*s;if(X){var ue=o.bBox(X);ee=ue.height,re=ue.width,te===d?o.setTranslate(J,ie,ie+.75*ee):o.setTranslate(J,0,.25*ee)}else{var pe="."+K+(te===d?"title":"")+"text",de=F.select(pe),ye=i.lineCount(de),be=de.node();if(ee=ae*ye,re=be?o.bBox(be).width:0,te===d)V.title.side==="left"&&(re+=2*r.itemGap),i.positionText(de,ie+r.titlePad,ie+ae);else{var me=2*r.itemGap+V.itemwidth;Q.groupTitle&&(me=r.itemGap,re-=V.itemwidth),i.positionText(de,me,-ae*((ye-1)/2-.3))}}te===d?(V._titleWidth=re,V._titleHeight=ee):(Q.lineHeight=ae,Q.height=Math.max(ee,16)+3,Q.width=re)}else F.remove()})(j,R,N,Z)})}function O(z){return k.isRightAnchor(z)?"right":k.isCenterAnchor(z)?"center":"left"}function P(z){return k.isBottomAnchor(z)?"bottom":k.isMiddleAnchor(z)?"middle":"top"}function I(z){return z._id||"legend"}q.exports=function(z,j){if(j)y(z,j);else{var R=z._fullLayout,N=R._legends;R._infolayer.selectAll('[class^="legend"]').each(function(){var U=M.select(this),V=U.attr("class").split(" ")[0];V.match(v)&&N.indexOf(V)===-1&&U.remove()});for(var Z=0;Z<N.length;Z++){var F=N[Z];y(z,z._fullLayout[F])}}}},82424:function(q,C,e){var M=e(73972),k=e(10130);q.exports=function(a,_,b){var h,o,t=_._inHover,i=k.isGrouped(_),n=k.isReversed(_),r={},l=[],s=!1,u={},p=0,c=0;function x(N,Z,F){if(_.visible!==!1&&(!b||N===_._id))if(Z!==""&&k.isGrouped(_))l.indexOf(Z)===-1?(l.push(Z),s=!0,r[Z]=[F]):r[Z].push(F);else{var U="~~i"+p;l.push(U),r[U]=[F],p++}}for(h=0;h<a.length;h++){var g=a[h],d=g[0],v=d.trace,y=v.legend,m=v.legendgroup;if(t||v.visible&&v.showlegend)if(M.traceIs(v,"pie-like"))for(u[m]||(u[m]={}),o=0;o<g.length;o++){var w=g[o].label;u[m][w]||(x(y,m,{label:w,color:g[o].color,i:g[o].i,trace:v,pts:g[o].pts}),u[m][w]=!0,c=Math.max(c,(w||"").length))}else x(y,m,d),c=Math.max(c,(v.name||"").length)}if(!l.length)return[];var f=!s||!i,S=[];for(h=0;h<l.length;h++){var T=r[l[h]];f?S.push(T[0]):S.push(T)}for(f&&(S=[S]),h=0;h<S.length;h++){var E=1/0;for(o=0;o<S[h].length;o++){var O=S[h][o].trace.legendrank;E>O&&(E=O)}S[h][0]._groupMinRank=E,S[h][0]._preGroupSort=h}var P=function(N,Z){return N.trace.legendrank-Z.trace.legendrank||N._preSort-Z._preSort};for(S.forEach(function(N,Z){N[0]._preGroupSort=Z}),S.sort(function(N,Z){return N[0]._groupMinRank-Z[0]._groupMinRank||N[0]._preGroupSort-Z[0]._preGroupSort}),h=0;h<S.length;h++){S[h].forEach(function(N,Z){N._preSort=Z}),S[h].sort(P);var I=S[h][0].trace,z=null;for(o=0;o<S[h].length;o++){var j=S[h][o].trace.legendgrouptitle;if(j&&j.text){z=j,t&&(j.font=_._groupTitleFont);break}}if(n&&S[h].reverse(),z){var R=!1;for(o=0;o<S[h].length;o++)if(M.traceIs(S[h][o].trace,"pie-like")){R=!0;break}S[h].unshift({i:-1,groupTitle:z,noClick:R,trace:{showlegend:I.showlegend,legendgroup:I.legendgroup,visible:_.groupclick==="toggleitem"||I.visible}})}for(o=0;o<S[h].length;o++)S[h][o]=[S[h][o]]}return _._lgroupsLength=S.length,_._maxNameLength=c,S}},85167:function(q,C,e){var M=e(73972),k=e(71828),a=k.pushUnique,_=!0;q.exports=function(b,h,o){var t=h._fullLayout;if(!h._dragged&&!h._editing){var i,n=t.legend.itemclick,r=t.legend.itemdoubleclick,l=t.legend.groupclick;if(o===1&&n==="toggle"&&r==="toggleothers"&&_&&h.data&&h._context.showTips&&k.notifier(k._(h,"Double-click on legend to isolate one trace"),"long"),_=!1,o===1?i=n:o===2&&(i=r),i){var s=l==="togglegroup",u=t.hiddenlabels?t.hiddenlabels.slice():[],p=b.data()[0][0];if(!p.groupTitle||!p.noClick){var c=h._fullData,x=(t.shapes||[]).filter(function(we){return we.showlegend}),g=c.concat(x),d=p.trace;d._isShape&&(d=d._fullInput);var v,y,m,w,f,S=d.legendgroup,T={},E=[],O=[],P=[],I=(t.shapes||[]).map(function(we){return we._input}),z=!1,j=d.legend,R=d._fullInput;if(R&&R._isShape||!M.traceIs(d,"pie-like")){var N,Z=S&&S.length,F=[];if(Z)for(v=0;v<g.length;v++)(N=g[v]).visible&&N.legendgroup===S&&F.push(v);if(i==="toggle"){var U;switch(d.visible){case!0:U="legendonly";break;case!1:U=!1;break;case"legendonly":U=!0}if(Z)if(s)for(v=0;v<g.length;v++){var V=g[v];V.visible!==!1&&V.legendgroup===S&&Te(V,U)}else Te(d,U);else Te(d,U)}else if(i==="toggleothers"){var te,Q,J,X,K=!0;for(v=0;v<g.length;v++)if(te=(X=g[v])===d,Q=X.showlegend!==!0,!(te||Q||Z&&X.legendgroup===S||X.legend!==j||X.visible!==!0||M.traceIs(X,"notLegendIsolatable"))){K=!1;break}for(v=0;v<g.length;v++)if((X=g[v]).visible!==!1&&X.legend===j&&!M.traceIs(X,"notLegendIsolatable"))switch(d.visible){case"legendonly":Te(X,!0);break;case!0:J=!!K||"legendonly",te=X===d,Q=X.showlegend!==!0&&!X.legendgroup,Te(X,!!(te||Z&&X.legendgroup===S||Q)||J)}}for(v=0;v<O.length;v++)if(m=O[v]){var ee=m.constructUpdate(),re=Object.keys(ee);for(y=0;y<re.length;y++)w=re[y],(T[w]=T[w]||[])[P[v]]=ee[w]}for(f=Object.keys(T),v=0;v<f.length;v++)for(w=f[v],y=0;y<E.length;y++)T[w].hasOwnProperty(y)||(T[w][y]=void 0);z?M.call("_guiUpdate",h,T,{shapes:I},E):M.call("_guiRestyle",h,T,E)}else{var ie=p.label,ae=u.indexOf(ie);if(i==="toggle")ae===-1?u.push(ie):u.splice(ae,1);else if(i==="toggleothers"){var ue=ae!==-1,pe=[];for(v=0;v<h.calcdata.length;v++){var de=h.calcdata[v];for(y=0;y<de.length;y++){var ye=de[y].label;j===de[0].trace.legend&&ie!==ye&&(u.indexOf(ye)===-1&&(ue=!0),a(u,ye),pe.push(ye))}}if(!ue)for(var be=0;be<pe.length;be++){var me=u.indexOf(pe[be]);me!==-1&&u.splice(me,1)}}M.call("_guiRelayout",h,"hiddenlabels",u)}}}}function Ee(we,oe){var se=E.indexOf(we),he=T.visible;return he||(he=T.visible=[]),E.indexOf(we)===-1&&(E.push(we),se=E.length-1),he[se]=oe,se}function Te(we,oe){if(!p.groupTitle||s){var se,he=we._fullInput||we,Se=he._isShape,_e=he.index;if(_e===void 0&&(_e=he._index),M.hasTransform(he,"groupby")){var Ae=O[_e];if(!Ae){var Ce=M.getTransformIndices(he,"groupby"),Re=Ce[Ce.length-1];Ae=k.keyedContainer(he,"transforms["+Re+"].styles","target","value.visible"),O[_e]=Ae}var fe=Ae.get(we._group);fe===void 0&&(fe=!0),fe!==!1&&Ae.set(we._group,oe),P[_e]=Ee(_e,he.visible!==!1)}else{var xe=he.visible!==!1&&oe;Se?(se=xe,I[_e].visible=se,z=!0):Ee(_e,xe)}}}}},10130:function(q,C){C.isGrouped=function(e){return(e.traceorder||"").indexOf("grouped")!==-1},C.isVertical=function(e){return e.orientation!=="h"},C.isReversed=function(e){return(e.traceorder||"").indexOf("reversed")!==-1}},2199:function(q,C,e){q.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(q,C,e){var M=e(39898),k=e(73972),a=e(71828),_=a.strTranslate,b=e(91424),h=e(7901),o=e(52075).extractOpts,t=e(34098),i=e(63463),n=e(53581).castOption,r=e(14928);function l(p,c){return(c?"radial":"horizontal")+(p?"":"reversed")}function s(p){var c=p[0].trace,x=c.contours,g=t.hasLines(c),d=t.hasMarkers(c),v=c.visible&&c.fill&&c.fill!=="none",y=!1,m=!1;if(x){var w=x.coloring;w==="lines"?y=!0:g=w==="none"||w==="heatmap"||x.showlines,x.type==="constraint"?v=x._operation!=="=":w!=="fill"&&w!=="heatmap"||(m=!0)}return{showMarker:d,showLine:g,showFill:v,showGradientLine:y,showGradientFill:m,anyLine:g||y,anyFill:v||m}}function u(p,c,x){return p&&a.isArrayOrTypedArray(p)?c:p>x?x:p}q.exports=function(p,c,x){var g=c._fullLayout;x||(x=g.legend);var d=x.itemsizing==="constant",v=x.itemwidth,y=(v+2*r.itemGap)/2,m=_(y,0),w=function(T,E,O,P){var I;if(T+1)I=T;else{if(!(E&&E.width>0))return 0;I=E.width}return d?P:Math.min(I,O)};function f(T,E,O){var P=T[0].trace,I=P.marker||{},z=I.line||{},j=O?P.visible&&P.type===O:k.traceIs(P,"bar"),R=M.select(E).select("g.legendpoints").selectAll("path.legend"+O).data(j?[T]:[]);R.enter().append("path").classed("legend"+O,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",m),R.exit().remove(),R.each(function(N){var Z=M.select(this),F=N[0],U=w(F.mlw,I.line,5,2);Z.style("stroke-width",U+"px");var V=F.mcc;if(!x._inHover&&"mc"in F){var te=o(I),Q=te.mid;Q===void 0&&(Q=(te.max+te.min)/2),V=b.tryColorscale(I,"")(Q)}var J=V||F.mc||I.color,X=I.pattern,K=X&&b.getPatternAttr(X.shape,0,"");if(K){var ee=b.getPatternAttr(X.bgcolor,0,null),re=b.getPatternAttr(X.fgcolor,0,null),ie=X.fgopacity,ae=u(X.size,8,10),ue=u(X.solidity,.5,1),pe="legend-"+P.uid;Z.call(b.pattern,"legend",c,pe,K,ae,ue,V,X.fillmode,ee,re,ie)}else Z.call(h.fill,J);U&&h.stroke(Z,F.mlc||z.color)})}function S(T,E,O){var P=T[0],I=P.trace,z=O?I.visible&&I.type===O:k.traceIs(I,O),j=M.select(E).select("g.legendpoints").selectAll("path.legend"+O).data(z?[T]:[]);if(j.enter().append("path").classed("legend"+O,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",m),j.exit().remove(),j.size()){var R=I.marker||{},N=w(n(R.line.width,P.pts),R.line,5,2),Z="pieLike",F=a.minExtend(I,{marker:{line:{width:N}}},Z),U=a.minExtend(P,{trace:F},Z);i(j,U,F,c)}}p.each(function(T){var E=M.select(this),O=a.ensureSingle(E,"g","layers");O.style("opacity",T[0].trace.opacity);var P=x.valign,I=T[0].lineHeight,z=T[0].height;if(P!=="middle"&&I&&z){var j={top:1,bottom:-1}[P]*(.5*(I-z+3));O.attr("transform",_(0,j))}else O.attr("transform",null);O.selectAll("g.legendfill").data([T]).enter().append("g").classed("legendfill",!0),O.selectAll("g.legendlines").data([T]).enter().append("g").classed("legendlines",!0);var R=O.selectAll("g.legendsymbols").data([T]);R.enter().append("g").classed("legendsymbols",!0),R.selectAll("g.legendpoints").data([T]).enter().append("g").classed("legendpoints",!0)}).each(function(T){var E,O=T[0].trace,P=[];if(O.visible)switch(O.type){case"histogram2d":case"heatmap":P=[["M-15,-2V4H15V-2Z"]],E=!0;break;case"choropleth":case"choroplethmapbox":P=[["M-6,-6V6H6V-6Z"]],E=!0;break;case"densitymapbox":P=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],E="radial";break;case"cone":P=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],E=!1;break;case"streamtube":P=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],E=!1;break;case"surface":P=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],E=!0;break;case"mesh3d":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],E=!1;break;case"volume":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],E=!0;break;case"isosurface":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],E=!1}var I=M.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(P);I.enter().append("path").classed("legend3dandfriends",!0).attr("transform",m).style("stroke-miterlimit",1),I.exit().remove(),I.each(function(z,j){var R,N=M.select(this),Z=o(O),F=Z.colorscale,U=Z.reversescale;if(F){if(!E){var V=F.length;R=j===0?F[U?V-1:0][1]:j===1?F[U?0:V-1][1]:F[Math.floor((V-1)/2)][1]}}else{var te=O.vertexcolor||O.facecolor||O.color;R=a.isArrayOrTypedArray(te)?te[j]||te[0]:te}N.attr("d",z[0]),R?N.call(h.fill,R):N.call(function(Q){if(Q.size()){var J="legendfill-"+O.uid;b.gradient(Q,c,J,l(U,E==="radial"),F,"fill")}})})}).each(function(T){var E=T[0].trace,O=E.type==="waterfall";if(T[0]._distinct&&O){var P=T[0].trace[T[0].dir].marker;return T[0].mc=P.color,T[0].mlw=P.line.width,T[0].mlc=P.line.color,f(T,this,"waterfall")}var I=[];E.visible&&O&&(I=T[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var z=M.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(I);z.enter().append("path").classed("legendwaterfall",!0).attr("transform",m).style("stroke-miterlimit",1),z.exit().remove(),z.each(function(j){var R=M.select(this),N=E[j[0]].marker,Z=w(void 0,N.line,5,2);R.attr("d",j[1]).style("stroke-width",Z+"px").call(h.fill,N.color),Z&&R.call(h.stroke,N.line.color)})}).each(function(T){f(T,this,"funnel")}).each(function(T){f(T,this)}).each(function(T){var E=T[0].trace,O=M.select(this).select("g.legendpoints").selectAll("path.legendbox").data(E.visible&&k.traceIs(E,"box-violin")?[T]:[]);O.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",m),O.exit().remove(),O.each(function(){var P=M.select(this);if(E.boxpoints!=="all"&&E.points!=="all"||h.opacity(E.fillcolor)!==0||h.opacity((E.line||{}).color)!==0){var I=w(void 0,E.line,5,2);P.style("stroke-width",I+"px").call(h.fill,E.fillcolor),I&&h.stroke(P,E.line.color)}else{var z=a.minExtend(E,{marker:{size:d?12:a.constrain(E.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});O.call(b.pointStyle,z,c)}})}).each(function(T){S(T,this,"funnelarea")}).each(function(T){S(T,this,"pie")}).each(function(T){var E,O,P=s(T),I=P.showFill,z=P.showLine,j=P.showGradientLine,R=P.showGradientFill,N=P.anyFill,Z=P.anyLine,F=T[0],U=F.trace,V=o(U),te=V.colorscale,Q=V.reversescale,J=t.hasMarkers(U)||!N?"M5,0":Z?"M5,-2":"M5,-3",X=M.select(this),K=X.select(".legendfill").selectAll("path").data(I||R?[T]:[]);if(K.enter().append("path").classed("js-fill",!0),K.exit().remove(),K.attr("d",J+"h"+v+"v6h-"+v+"z").call(function(ie){if(ie.size())if(I)b.fillGroupStyle(ie,c);else{var ae="legendfill-"+U.uid;b.gradient(ie,c,ae,l(Q),te,"fill")}}),z||j){var ee=w(void 0,U.line,10,5);O=a.minExtend(U,{line:{width:ee}}),E=[a.minExtend(F,{trace:O})]}var re=X.select(".legendlines").selectAll("path").data(z||j?[E]:[]);re.enter().append("path").classed("js-line",!0),re.exit().remove(),re.attr("d",J+(j?"l"+v+",0.0001":"h"+v)).call(z?b.lineGroupStyle:function(ie){if(ie.size()){var ae="legendline-"+U.uid;b.lineGroupStyle(ie),b.gradient(ie,c,ae,l(Q),te,"stroke")}})}).each(function(T){var E,O,P=s(T),I=P.anyFill,z=P.anyLine,j=P.showLine,R=P.showMarker,N=T[0],Z=N.trace,F=!R&&!z&&!I&&t.hasText(Z);function U(re,ie,ae,ue){var pe=a.nestedProperty(Z,re).get(),de=a.isArrayOrTypedArray(pe)&&ie?ie(pe):pe;if(d&&de&&ue!==void 0&&(de=ue),ae){if(de<ae[0])return ae[0];if(de>ae[1])return ae[1]}return de}function V(re){return N._distinct&&N.index&&re[N.index]?re[N.index]:re[0]}if(R||F||j){var te={},Q={};if(R){te.mc=U("marker.color",V),te.mx=U("marker.symbol",V),te.mo=U("marker.opacity",a.mean,[.2,1]),te.mlc=U("marker.line.color",V),te.mlw=U("marker.line.width",a.mean,[0,5],2),Q.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var J=U("marker.size",a.mean,[2,16],12);te.ms=J,Q.marker.size=J}j&&(Q.line={width:U("line.width",V,[0,10],5)}),F&&(te.tx="Aa",te.tp=U("textposition",V),te.ts=10,te.tc=U("textfont.color",V),te.tf=U("textfont.family",V)),E=[a.minExtend(N,te)],(O=a.minExtend(Z,Q)).selectedpoints=null,O.texttemplate=null}var X=M.select(this).select("g.legendpoints"),K=X.selectAll("path.scatterpts").data(R?E:[]);K.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",m),K.exit().remove(),K.call(b.pointStyle,O,c),R&&(E[0].mrc=3);var ee=X.selectAll("g.pointtext").data(F?E:[]);ee.enter().append("g").classed("pointtext",!0).append("text").attr("transform",m),ee.exit().remove(),ee.selectAll("text").call(b.textPointStyle,O,c)}).each(function(T){var E=T[0].trace,O=M.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(E.visible&&E.type==="candlestick"?[T,T]:[]);O.enter().append("path").classed("legendcandle",!0).attr("d",function(P,I){return I?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",m).style("stroke-miterlimit",1),O.exit().remove(),O.each(function(P,I){var z=M.select(this),j=E[I?"increasing":"decreasing"],R=w(void 0,j.line,5,2);z.style("stroke-width",R+"px").call(h.fill,j.fillcolor),R&&h.stroke(z,j.line.color)})}).each(function(T){var E=T[0].trace,O=M.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(E.visible&&E.type==="ohlc"?[T,T]:[]);O.enter().append("path").classed("legendohlc",!0).attr("d",function(P,I){return I?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",m).style("stroke-miterlimit",1),O.exit().remove(),O.each(function(P,I){var z=M.select(this),j=E[I?"increasing":"decreasing"],R=w(void 0,j.line,5,2);z.style("fill","none").call(b.dashLine,j.line.dash,R),R&&h.stroke(z,j.line.color)})})}},42068:function(q,C,e){e(93348),q.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(q,C,e){var M=e(73972),k=e(74875),a=e(41675),_=e(24255),b=e(34031).eraseActiveShape,h=e(71828),o=h._,t=q.exports={};function i(g,d){var v,y,m=d.currentTarget,w=m.getAttribute("data-attr"),f=m.getAttribute("data-val")||!0,S=g._fullLayout,T={},E=a.list(g,null,!0),O=S._cartesianSpikesEnabled;if(w==="zoom"){var P,I=f==="in"?.5:2,z=(1+I)/2,j=(1-I)/2;for(y=0;y<E.length;y++)if(!(v=E[y]).fixedrange)if(P=v._name,f==="auto")T[P+".autorange"]=!0;else if(f==="reset")v._rangeInitial0===void 0&&v._rangeInitial1===void 0?T[P+".autorange"]=!0:v._rangeInitial0===void 0?(T[P+".autorange"]=v._autorangeInitial,T[P+".range"]=[null,v._rangeInitial1]):v._rangeInitial1===void 0?(T[P+".range"]=[v._rangeInitial0,null],T[P+".autorange"]=v._autorangeInitial):T[P+".range"]=[v._rangeInitial0,v._rangeInitial1],v._showSpikeInitial!==void 0&&(T[P+".showspikes"]=v._showSpikeInitial,O!=="on"||v._showSpikeInitial||(O="off"));else{var R=[v.r2l(v.range[0]),v.r2l(v.range[1])],N=[z*R[0]+j*R[1],z*R[1]+j*R[0]];T[P+".range[0]"]=v.l2r(N[0]),T[P+".range[1]"]=v.l2r(N[1])}}else w!=="hovermode"||f!=="x"&&f!=="y"||(f=S._isHoriz?"y":"x",m.setAttribute("data-val",f)),T[w]=f;S._cartesianSpikesEnabled=O,M.call("_guiRelayout",g,T)}function n(g,d){for(var v=d.currentTarget,y=v.getAttribute("data-attr"),m=v.getAttribute("data-val")||!0,w=g._fullLayout._subplots.gl3d||[],f={},S=y.split("."),T=0;T<w.length;T++)f[w[T]+"."+S[1]]=m;var E=m==="pan"?m:"zoom";f.dragmode=E,M.call("_guiRelayout",g,f)}function r(g,d){for(var v=d.currentTarget.getAttribute("data-attr"),y=v==="resetLastSave",m=v==="resetDefault",w=g._fullLayout,f=w._subplots.gl3d||[],S={},T=0;T<f.length;T++){var E,O=f[T],P=O+".camera",I=O+".aspectratio",z=O+".aspectmode",j=w[O]._scene;y?(S[P+".up"]=j.viewInitial.up,S[P+".eye"]=j.viewInitial.eye,S[P+".center"]=j.viewInitial.center,E=!0):m&&(S[P+".up"]=null,S[P+".eye"]=null,S[P+".center"]=null,E=!0),E&&(S[I+".x"]=j.viewInitial.aspectratio.x,S[I+".y"]=j.viewInitial.aspectratio.y,S[I+".z"]=j.viewInitial.aspectratio.z,S[z]=j.viewInitial.aspectmode)}M.call("_guiRelayout",g,S)}function l(g,d){var v=d.currentTarget,y=v._previousVal,m=g._fullLayout,w=m._subplots.gl3d||[],f=["xaxis","yaxis","zaxis"],S={},T={};if(y)T=y,v._previousVal=null;else{for(var E=0;E<w.length;E++){var O=w[E],P=m[O],I=O+".hovermode";S[I]=P.hovermode,T[I]=!1;for(var z=0;z<3;z++){var j=f[z],R=O+"."+j+".showspikes";T[R]=!1,S[R]=P[j].showspikes}}v._previousVal=S}return T}function s(g,d){for(var v=d.currentTarget,y=v.getAttribute("data-attr"),m=v.getAttribute("data-val")||!0,w=g._fullLayout,f=w._subplots.geo||[],S=0;S<f.length;S++){var T=f[S],E=w[T];if(y==="zoom"){var O=E.projection.scale,P=m==="in"?2*O:.5*O;M.call("_guiRelayout",g,T+".projection.scale",P)}}y==="reset"&&x(g,"geo")}function u(g){var d=g._fullLayout;return!d.hovermode&&(d._has("cartesian")?d._isHoriz?"y":"x":"closest")}function p(g){var d=u(g);M.call("_guiRelayout",g,"hovermode",d)}function c(g,d){for(var v=d.currentTarget.getAttribute("data-val"),y=g._fullLayout,m=y._subplots.mapbox||[],w={},f=0;f<m.length;f++){var S=m[f],T=y[S].zoom,E=v==="in"?1.05*T:T/1.05;w[S+".zoom"]=E}M.call("_guiRelayout",g,w)}function x(g,d){for(var v=g._fullLayout,y=v._subplots[d]||[],m={},w=0;w<y.length;w++)for(var f=y[w],S=v[f]._subplot.viewInitial,T=Object.keys(S),E=0;E<T.length;E++){var O=T[E];m[f+"."+O]=S[O]}M.call("_guiRelayout",g,m)}t.toImage={name:"toImage",title:function(g){var d=(g._context.toImageButtonOptions||{}).format||"png";return o(g,d==="png"?"Download plot as a png":"Download plot")},icon:_.camera,click:function(g){var d=g._context.toImageButtonOptions,v={format:d.format||"png"};h.notifier(o(g,"Taking snapshot - this may take a few seconds"),"long"),v.format!=="svg"&&h.isIE()&&(h.notifier(o(g,"IE only supports svg.  Changing format to svg."),"long"),v.format="svg"),["filename","width","height","scale"].forEach(function(y){y in d&&(v[y]=d[y])}),M.call("downloadImage",g,v).then(function(y){h.notifier(o(g,"Snapshot succeeded")+" - "+y,"long")}).catch(function(){h.notifier(o(g,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(g){return o(g,"Edit in Chart Studio")},icon:_.disk,click:function(g){k.sendDataToCloud(g)}},t.editInChartStudio={name:"editInChartStudio",title:function(g){return o(g,"Edit in Chart Studio")},icon:_.pencil,click:function(g){k.sendDataToCloud(g)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(g){return o(g,"Zoom")},attr:"dragmode",val:"zoom",icon:_.zoombox,click:i},t.pan2d={name:"pan2d",_cat:"pan",title:function(g){return o(g,"Pan")},attr:"dragmode",val:"pan",icon:_.pan,click:i},t.select2d={name:"select2d",_cat:"select",title:function(g){return o(g,"Box Select")},attr:"dragmode",val:"select",icon:_.selectbox,click:i},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(g){return o(g,"Lasso Select")},attr:"dragmode",val:"lasso",icon:_.lasso,click:i},t.drawclosedpath={name:"drawclosedpath",title:function(g){return o(g,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:_.drawclosedpath,click:i},t.drawopenpath={name:"drawopenpath",title:function(g){return o(g,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:_.drawopenpath,click:i},t.drawline={name:"drawline",title:function(g){return o(g,"Draw line")},attr:"dragmode",val:"drawline",icon:_.drawline,click:i},t.drawrect={name:"drawrect",title:function(g){return o(g,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:_.drawrect,click:i},t.drawcircle={name:"drawcircle",title:function(g){return o(g,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:_.drawcircle,click:i},t.eraseshape={name:"eraseshape",title:function(g){return o(g,"Erase active shape")},icon:_.eraseshape,click:b},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(g){return o(g,"Zoom in")},attr:"zoom",val:"in",icon:_.zoom_plus,click:i},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(g){return o(g,"Zoom out")},attr:"zoom",val:"out",icon:_.zoom_minus,click:i},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(g){return o(g,"Autoscale")},attr:"zoom",val:"auto",icon:_.autoscale,click:i},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(g){return o(g,"Reset axes")},attr:"zoom",val:"reset",icon:_.home,click:i},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(g){return o(g,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:_.tooltip_basic,gravity:"ne",click:i},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(g){return o(g,"Compare data on hover")},attr:"hovermode",val:function(g){return g._fullLayout._isHoriz?"y":"x"},icon:_.tooltip_compare,gravity:"ne",click:i},t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(g){return o(g,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:_.zoombox,click:n},t.pan3d={name:"pan3d",_cat:"pan",title:function(g){return o(g,"Pan")},attr:"scene.dragmode",val:"pan",icon:_.pan,click:n},t.orbitRotation={name:"orbitRotation",title:function(g){return o(g,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:_["3d_rotate"],click:n},t.tableRotation={name:"tableRotation",title:function(g){return o(g,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:_["z-axis"],click:n},t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(g){return o(g,"Reset camera to default")},attr:"resetDefault",icon:_.home,click:r},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(g){return o(g,"Reset camera to last save")},attr:"resetLastSave",icon:_.movie,click:r},t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(g){return o(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:_.tooltip_basic,gravity:"ne",click:function(g,d){var v=l(g,d);M.call("_guiRelayout",g,v)}},t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(g){return o(g,"Zoom in")},attr:"zoom",val:"in",icon:_.zoom_plus,click:s},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(g){return o(g,"Zoom out")},attr:"zoom",val:"out",icon:_.zoom_minus,click:s},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(g){return o(g,"Reset")},attr:"reset",val:null,icon:_.autoscale,click:s},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(g){return o(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:_.tooltip_basic,gravity:"ne",click:p},t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(g){return o(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:_.tooltip_basic,gravity:"ne",click:p},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(g){return o(g,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:_.tooltip_basic,gravity:"ne",click:p},t.resetViewSankey={name:"resetSankeyGroup",title:function(g){return o(g,"Reset view")},icon:_.home,click:function(g){for(var d={"node.groups":[],"node.x":[],"node.y":[]},v=0;v<g._fullData.length;v++){var y=g._fullData[v]._viewInitial;d["node.groups"].push(y.node.groups.slice()),d["node.x"].push(y.node.x.slice()),d["node.y"].push(y.node.y.slice())}M.call("restyle",g,d)}},t.toggleHover={name:"toggleHover",title:function(g){return o(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:_.tooltip_basic,gravity:"ne",click:function(g,d){var v=l(g,d);v.hovermode=u(g),M.call("_guiRelayout",g,v)}},t.resetViews={name:"resetViews",title:function(g){return o(g,"Reset views")},icon:_.home,click:function(g,d){var v=d.currentTarget;v.setAttribute("data-attr","zoom"),v.setAttribute("data-val","reset"),i(g,d),v.setAttribute("data-attr","resetLastSave"),r(g,d),x(g,"geo"),x(g,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(g){return o(g,"Toggle Spike Lines")},icon:_.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(g){var d=g._fullLayout,v=d._cartesianSpikesEnabled;d._cartesianSpikesEnabled=v==="on"?"off":"on",M.call("_guiRelayout",g,function(y){for(var m=y._fullLayout._cartesianSpikesEnabled==="on",w=a.list(y,null,!0),f={},S=0;S<w.length;S++){var T=w[S];f[T._name+".showspikes"]=!!m||T._showSpikeInitial}return f}(g))}},t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(g){return o(g,"Reset view")},attr:"reset",icon:_.home,click:function(g){x(g,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(g){return o(g,"Zoom in")},attr:"zoom",val:"in",icon:_.zoom_plus,click:c},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(g){return o(g,"Zoom out")},attr:"zoom",val:"out",icon:_.zoom_minus,click:c}},93348:function(q,C,e){var M=e(26023),k=Object.keys(M),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],_=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),b=[];k.forEach(function(h){(function(o){if(_.indexOf(o._cat||o.name)===-1){var t=o.name,i=(o._cat||o.name).toLowerCase();b.indexOf(t)===-1&&b.push(t),b.indexOf(i)===-1&&b.push(i)}})(M[h])}),b.sort(),q.exports={DRAW_MODES:a,backButtons:_,foreButtons:b}},35750:function(q,C,e){var M=e(71828),k=e(7901),a=e(44467),_=e(42068);q.exports=function(b,h){var o=b.modebar||{},t=a.newContainer(h,"modebar");function i(r,l){return M.coerce(o,t,_,r,l)}i("orientation"),i("bgcolor",k.addOpacity(h.paper_bgcolor,.5));var n=k.contrast(k.rgb(h.modebar.bgcolor));i("color",k.addOpacity(n,.3)),i("activecolor",k.addOpacity(n,.7)),i("uirevision",h.uirevision),i("add"),i("remove")}},64168:function(q,C,e){q.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(q,C,e){var M=e(41675),k=e(34098),a=e(73972),_=e(23469).isUnifiedHover,b=e(37676),h=e(26023),o=e(93348).DRAW_MODES,t=e(71828).extendDeep;q.exports=function(i){var n=i._fullLayout,r=i._context,l=n._modeBar;if(r.displayModeBar||r.watermark){if(!Array.isArray(r.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(r.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var s,u=r.modeBarButtons;s=Array.isArray(u)&&u.length?function(p){for(var c=t([],p),x=0;x<c.length;x++)for(var g=c[x],d=0;d<g.length;d++){var v=g[d];if(typeof v=="string"){if(h[v]===void 0)throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));c[x][d]=h[v]}}return c}(u):!r.displayModeBar&&r.watermark?[]:function(p){var c=p._fullLayout,x=p._fullData,g=p._context;function d(pe,de){if(typeof de=="string"){if(de.toLowerCase()===pe.toLowerCase())return!0}else{var ye=de.name,be=de._cat||de.name;if(ye===pe||be===pe.toLowerCase())return!0}return!1}var v=c.modebar.add;typeof v=="string"&&(v=[v]);var y=c.modebar.remove;typeof y=="string"&&(y=[y]);var m=g.modeBarButtonsToAdd.concat(v.filter(function(pe){for(var de=0;de<g.modeBarButtonsToRemove.length;de++)if(d(pe,g.modeBarButtonsToRemove[de]))return!1;return!0})),w=g.modeBarButtonsToRemove.concat(y.filter(function(pe){for(var de=0;de<g.modeBarButtonsToAdd.length;de++)if(d(pe,g.modeBarButtonsToAdd[de]))return!1;return!0})),f=c._has("cartesian"),S=c._has("gl3d"),T=c._has("geo"),E=c._has("pie"),O=c._has("funnelarea"),P=c._has("gl2d"),I=c._has("ternary"),z=c._has("mapbox"),j=c._has("polar"),R=c._has("smith"),N=c._has("sankey"),Z=function(pe){for(var de=M.list({_fullLayout:pe},null,!0),ye=0;ye<de.length;ye++)if(!de[ye].fixedrange)return!1;return!0}(c),F=_(c.hovermode),U=[];function V(pe){if(pe.length){for(var de=[],ye=0;ye<pe.length;ye++){for(var be=pe[ye],me=h[be],Ee=me.name.toLowerCase(),Te=(me._cat||me.name).toLowerCase(),we=!1,oe=0;oe<w.length;oe++){var se=w[oe].toLowerCase();if(se===Ee||se===Te){we=!0;break}}we||de.push(h[be])}U.push(de)}}var te=["toImage"];g.showEditInChartStudio?te.push("editInChartStudio"):g.showSendToCloud&&te.push("sendDataToCloud"),V(te);var Q=[],J=[],X=[],K=[];(f||P||E||O||I)+T+S+z+j+R>1?(J=["toggleHover"],X=["resetViews"]):T?(Q=["zoomInGeo","zoomOutGeo"],J=["hoverClosestGeo"],X=["resetGeo"]):S?(J=["hoverClosest3d"],X=["resetCameraDefault3d","resetCameraLastSave3d"]):z?(Q=["zoomInMapbox","zoomOutMapbox"],J=["toggleHover"],X=["resetViewMapbox"]):P?J=["hoverClosestGl2d"]:E?J=["hoverClosestPie"]:N?(J=["hoverClosestCartesian","hoverCompareCartesian"],X=["resetViewSankey"]):J=["toggleHover"],f&&(J=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(pe){for(var de=0;de<pe.length;de++)if(!a.traceIs(pe[de],"noHover"))return!1;return!0}(x)||F)&&(J=[]),!f&&!P||Z||(Q=["zoomIn2d","zoomOut2d","autoScale2d"],X[0]!=="resetViews"&&(X=["resetScale2d"])),S?K=["zoom3d","pan3d","orbitRotation","tableRotation"]:(f||P)&&!Z||I?K=["zoom2d","pan2d"]:z||T?K=["pan2d"]:j&&(K=["zoom2d"]),function(pe){for(var de=!1,ye=0;ye<pe.length&&!de;ye++){var be=pe[ye];be._module&&be._module.selectPoints&&(a.traceIs(be,"scatter-like")?(k.hasMarkers(be)||k.hasText(be))&&(de=!0):a.traceIs(be,"box-violin")&&be.boxpoints!=="all"&&be.points!=="all"||(de=!0))}return de}(x)&&K.push("select2d","lasso2d");var ee=[],re=function(pe){ee.indexOf(pe)===-1&&J.indexOf(pe)!==-1&&ee.push(pe)};if(Array.isArray(m)){for(var ie=[],ae=0;ae<m.length;ae++){var ue=m[ae];typeof ue=="string"?(ue=ue.toLowerCase(),o.indexOf(ue)!==-1?(c._has("mapbox")||c._has("cartesian"))&&K.push(ue):ue==="togglespikelines"?re("toggleSpikelines"):ue==="togglehover"?re("toggleHover"):ue==="hovercompare"?re("hoverCompareCartesian"):ue==="hoverclosest"?(re("hoverClosestCartesian"),re("hoverClosestGeo"),re("hoverClosest3d"),re("hoverClosestGl2d"),re("hoverClosestPie")):ue==="v1hovermode"&&(re("toggleHover"),re("hoverClosestCartesian"),re("hoverCompareCartesian"),re("hoverClosestGeo"),re("hoverClosest3d"),re("hoverClosestGl2d"),re("hoverClosestPie"))):ie.push(ue)}m=ie}return V(K),V(Q.concat(X)),V(ee),function(pe,de){if(de.length)if(Array.isArray(de[0]))for(var ye=0;ye<de.length;ye++)pe.push(de[ye]);else pe.push(de);return pe}(U,m)}(i),l?l.update(i,s):n._modeBar=b(i,s)}else l&&(l.destroy(),delete n._modeBar)}},37676:function(q,C,e){var M=e(39898),k=e(92770),a=e(71828),_=e(24255),b=e(11506).version,h=new DOMParser;function o(i){this.container=i.container,this.element=document.createElement("div"),this.update(i.graphInfo,i.buttons),this.container.appendChild(this.element)}var t=o.prototype;t.update=function(i,n){this.graphInfo=i;var r=this.graphInfo._context,l=this.graphInfo._fullLayout,s="modebar-"+l._uid;this.element.setAttribute("id",s),this._uid=s,this.element.className="modebar",r.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),l.modebar.orientation==="v"&&(this.element.className+=" vertical",n=n.reverse());var u=l.modebar,p=r.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(s),a.addRelatedStyleRule(s,p+"#"+s+" .modebar-group","background-color: "+u.bgcolor),a.addRelatedStyleRule(s,"#"+s+" .modebar-btn .icon path","fill: "+u.color),a.addRelatedStyleRule(s,"#"+s+" .modebar-btn:hover .icon path","fill: "+u.activecolor),a.addRelatedStyleRule(s,"#"+s+" .modebar-btn.active .icon path","fill: "+u.activecolor);var c=!this.hasButtons(n),x=this.hasLogo!==r.displaylogo,g=this.locale!==r.locale;if(this.locale=r.locale,(c||x||g)&&(this.removeAllButtons(),this.updateButtons(n),r.watermark||r.displaylogo)){var d=this.getLogo();r.watermark&&(d.className=d.className+" watermark"),l.modebar.orientation==="v"?this.element.insertBefore(d,this.element.childNodes[0]):this.element.appendChild(d),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(i){var n=this;this.buttons=i,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(r){var l=n.createGroup();r.forEach(function(s){var u=s.name;if(!u)throw new Error("must provide button 'name' in button config");if(n.buttonsNames.indexOf(u)!==-1)throw new Error("button name '"+u+"' is taken");n.buttonsNames.push(u);var p=n.createButton(s);n.buttonElements.push(p),l.appendChild(p)}),n.element.appendChild(l)})},t.createGroup=function(){var i=document.createElement("div");return i.className="modebar-group",i},t.createButton=function(i){var n=this,r=document.createElement("a");r.setAttribute("rel","tooltip"),r.className="modebar-btn";var l=i.title;l===void 0?l=i.name:typeof l=="function"&&(l=l(this.graphInfo)),(l||l===0)&&r.setAttribute("data-title",l),i.attr!==void 0&&r.setAttribute("data-attr",i.attr);var s=i.val;if(s!==void 0&&(typeof s=="function"&&(s=s(this.graphInfo)),r.setAttribute("data-val",s)),typeof i.click!="function")throw new Error("must provide button 'click' function in button config");r.addEventListener("click",function(p){i.click(n.graphInfo,p),n.updateActiveButton(p.currentTarget)}),r.setAttribute("data-toggle",i.toggle||!1),i.toggle&&M.select(r).classed("active",!0);var u=i.icon;return typeof u=="function"?r.appendChild(u()):r.appendChild(this.createIcon(u||_.question)),r.setAttribute("data-gravity",i.gravity||"n"),r},t.createIcon=function(i){var n,r=k(i.height)?Number(i.height):i.ascent-i.descent,l="http://www.w3.org/2000/svg";if(i.path){(n=document.createElementNS(l,"svg")).setAttribute("viewBox",[0,0,i.width,r].join(" ")),n.setAttribute("class","icon");var s=document.createElementNS(l,"path");s.setAttribute("d",i.path),i.transform?s.setAttribute("transform",i.transform):i.ascent!==void 0&&s.setAttribute("transform","matrix(1 0 0 -1 0 "+i.ascent+")"),n.appendChild(s)}return i.svg&&(n=h.parseFromString(i.svg,"application/xml").childNodes[0]),n.setAttribute("height","1em"),n.setAttribute("width","1em"),n},t.updateActiveButton=function(i){var n=this.graphInfo._fullLayout,r=i!==void 0?i.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var s=l.getAttribute("data-val")||!0,u=l.getAttribute("data-attr"),p=l.getAttribute("data-toggle")==="true",c=M.select(l);if(p)u===r&&c.classed("active",!c.classed("active"));else{var x=u===null?u:a.nestedProperty(n,u).get();c.classed("active",x===s)}})},t.hasButtons=function(i){var n=this.buttons;if(!n||i.length!==n.length)return!1;for(var r=0;r<i.length;++r){if(i[r].length!==n[r].length)return!1;for(var l=0;l<i[r].length;l++)if(i[r][l].name!==n[r][l].name)return!1}return!0},t.getLogo=function(){var i=this.createGroup(),n=document.createElement("a");return n.href="https://plotly.com/",n.target="_blank",n.setAttribute("data-title",a._(this.graphInfo,"Produced with Plotly.js")+" (v"+b+")"),n.className="modebar-btn plotlyjsicon modebar-btn--logo",n.appendChild(this.createIcon(_.newplotlylogo)),i.appendChild(n),i},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)},q.exports=function(i,n){var r=i._fullLayout,l=new o({graphInfo:i,container:r._modebardiv.node(),buttons:n});return r._privateplot&&M.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}},37113:function(q,C,e){var M=e(41940),k=e(22399),a=(0,e(44467).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});q.exports={visible:{valType:"boolean",editType:"plot"},buttons:a,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:M({editType:"plot"}),bgcolor:{valType:"color",dflt:k.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:k.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(q){q.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(q,C,e){var M=e(71828),k=e(7901),a=e(44467),_=e(85501),b=e(37113),h=e(89573);function o(t,i,n,r){var l=r.calendar;function s(p,c){return M.coerce(t,i,b.buttons,p,c)}if(s("visible")){var u=s("step");u!=="all"&&(!l||l==="gregorian"||u!=="month"&&u!=="year"?s("stepmode"):i.stepmode="backward",s("count")),s("label")}}q.exports=function(t,i,n,r,l){var s=t.rangeselector||{},u=a.newContainer(i,"rangeselector");function p(g,d){return M.coerce(s,u,b,g,d)}if(p("visible",_(s,u,{name:"buttons",handleItemDefaults:o,calendar:l}).length>0)){var c=function(g,d,v){for(var y=v.filter(function(S){return d[S].anchor===g._id}),m=0,w=0;w<y.length;w++){var f=d[y[w]].domain;f&&(m=Math.max(f[1],m))}return[g.domain[0],m+h.yPad]}(i,n,r);p("x",c[0]),p("y",c[1]),M.noneOrAll(t,i,["x","y"]),p("xanchor"),p("yanchor"),M.coerceFont(p,"font",n.font);var x=p("bgcolor");p("activecolor",k.contrast(x,h.lightAmount,h.darkAmount)),p("bordercolor"),p("borderwidth")}}},21598:function(q,C,e){var M=e(39898),k=e(73972),a=e(74875),_=e(7901),b=e(91424),h=e(71828),o=h.strTranslate,t=e(63893),i=e(41675),n=e(18783),r=n.LINE_SPACING,l=n.FROM_TL,s=n.FROM_BR,u=e(89573),p=e(70565);function c(d){return d._id}function x(d,v,y){var m=h.ensureSingle(d,"rect","selector-rect",function(w){w.attr("shape-rendering","crispEdges")});m.attr({rx:u.rx,ry:u.ry}),m.call(_.stroke,v.bordercolor).call(_.fill,function(w,f){return f._isActive||f._isHovered?w.activecolor:w.bgcolor}(v,y)).style("stroke-width",v.borderwidth+"px")}function g(d,v,y,m){var w,f;h.ensureSingle(d,"text","selector-text",function(S){S.attr("text-anchor","middle")}).call(b.font,v.font).text((w=y,f=m._fullLayout._meta,w.label?f?h.templateString(w.label,f):w.label:w.step==="all"?"all":w.count+w.step.charAt(0))).call(function(S){t.convertToTspans(S,m)})}q.exports=function(d){var v=d._fullLayout._infolayer.selectAll(".rangeselector").data(function(y){for(var m=i.list(y,"x",!0),w=[],f=0;f<m.length;f++){var S=m[f];S.rangeselector&&S.rangeselector.visible&&w.push(S)}return w}(d),c);v.enter().append("g").classed("rangeselector",!0),v.exit().remove(),v.style({cursor:"pointer","pointer-events":"all"}),v.each(function(y){var m=M.select(this),w=y,f=w.rangeselector,S=m.selectAll("g.button").data(h.filterVisible(f.buttons));S.enter().append("g").classed("button",!0),S.exit().remove(),S.each(function(T){var E=M.select(this),O=p(w,T);T._isActive=function(P,I,z){if(I.step==="all")return P.autorange===!0;var j=Object.keys(z);return P.range[0]===z[j[0]]&&P.range[1]===z[j[1]]}(w,T,O),E.call(x,f,T),E.call(g,f,T,d),E.on("click",function(){d._dragged||k.call("_guiRelayout",d,O)}),E.on("mouseover",function(){T._isHovered=!0,E.call(x,f,T)}),E.on("mouseout",function(){T._isHovered=!1,E.call(x,f,T)})}),function(T,E,O,P,I){var z=0,j=0,R=O.borderwidth;E.each(function(){var te=M.select(this).select(".selector-text"),Q=O.font.size*r,J=Math.max(Q*t.lineCount(te),16)+3;j=Math.max(j,J)}),E.each(function(){var te=M.select(this),Q=te.select(".selector-rect"),J=te.select(".selector-text"),X=J.node()&&b.bBox(J.node()).width,K=O.font.size*r,ee=t.lineCount(J),re=Math.max(X+10,u.minButtonWidth);te.attr("transform",o(R+z,R)),Q.attr({x:0,y:0,width:re,height:j}),t.positionText(J,re/2,j/2-(ee-1)*K/2+3),z+=re+5});var N=T._fullLayout._size,Z=N.l+N.w*O.x,F=N.t+N.h*(1-O.y),U="left";h.isRightAnchor(O)&&(Z-=z,U="right"),h.isCenterAnchor(O)&&(Z-=z/2,U="center");var V="top";h.isBottomAnchor(O)&&(F-=j,V="bottom"),h.isMiddleAnchor(O)&&(F-=j/2,V="middle"),z=Math.ceil(z),j=Math.ceil(j),Z=Math.round(Z),F=Math.round(F),a.autoMargin(T,P+"-range-selector",{x:O.x,y:O.y,l:z*l[U],r:z*s[U],b:j*s[V],t:j*l[V]}),I.attr("transform",o(Z,F))}(d,S,f,w._name,m)})}},70565:function(q,C,e){var M=e(81041),k=e(71828).titleCase;q.exports=function(a,_){var b=a._name,h={};if(_.step==="all")h[b+".autorange"]=!0;else{var o=function(t,i){var n,r=t.range,l=new Date(t.r2l(r[1])),s=i.step,u=M["utc"+k(s)],p=i.count;switch(i.stepmode){case"backward":n=t.l2r(+u.offset(l,-p));break;case"todate":var c=u.offset(l,-p);n=t.l2r(+u.ceil(c))}return[n,r[1]]}(a,_);h[b+".range[0]"]=o[0],h[b+".range[1]"]=o[1]}return h}},97218:function(q,C,e){q.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(q,C,e){var M=e(22399);q.exports={bgcolor:{valType:"color",dflt:M.background,editType:"plot"},bordercolor:{valType:"color",dflt:M.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(q,C,e){var M=e(41675).list,k=e(71739).getAutoRange,a=e(73251);q.exports=function(_){for(var b=M(_,"x",!0),h=0;h<b.length;h++){var o=b[h],t=o[a.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=k(_,o))}}},73251:function(q){q.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(q,C,e){var M=e(71828),k=e(44467),a=e(41675),_=e(75148),b=e(47850);q.exports=function(h,o,t){var i=h[t],n=o[t];if(i.rangeslider||o._requestRangeslider[n._id]){M.isPlainObject(i.rangeslider)||(i.rangeslider={});var r,l,s=i.rangeslider,u=k.newContainer(n,"rangeslider");if(m("visible")){m("bgcolor",o.plot_bgcolor),m("bordercolor"),m("borderwidth"),m("thickness"),m("autorange",!n.isValidRange(s.range)),m("range");var p=o._subplots;if(p)for(var c=p.cartesian.filter(function(f){return f.substr(0,f.indexOf("y"))===a.name2id(t)}).map(function(f){return f.substr(f.indexOf("y"),f.length)}),x=M.simpleMap(c,a.id2name),g=0;g<x.length;g++){var d=x[g];r=s[d]||{},l=k.newContainer(u,d,"yaxis");var v,y=o[d];r.range&&y.isValidRange(r.range)&&(v="fixed"),w("rangemode",v)!=="match"&&w("range",y.range.slice())}u._input=s}}function m(f,S){return M.coerce(s,u,_,f,S)}function w(f,S){return M.coerce(r,l,b,f,S)}}},72413:function(q,C,e){var M=e(39898),k=e(73972),a=e(74875),_=e(71828),b=_.strTranslate,h=e(91424),o=e(7901),t=e(92998),i=e(93612),n=e(41675),r=e(28569),l=e(6964),s=e(73251);function u(y){return typeof y.clientX=="number"?y.clientX:y.touches&&y.touches.length>0?y.touches[0].clientX:0}function p(y,m,w,f){var S=_.ensureSingle(y,"rect",s.bgClassName,function(P){P.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),T=f.borderwidth%2==0?f.borderwidth:f.borderwidth-1,E=-f._offsetShift,O=h.crispRound(m,f.borderwidth);S.attr({width:f._width+T,height:f._height+T,transform:b(E,E),"stroke-width":O}).call(o.stroke,f.bordercolor).call(o.fill,f.bgcolor)}function c(y,m,w,f){var S=m._fullLayout;_.ensureSingleById(S._topdefs,"clipPath",f._clipId,function(T){T.append("rect").attr({x:0,y:0})}).select("rect").attr({width:f._width,height:f._height})}function x(y,m,w,f){var S,T=m.calcdata,E=y.selectAll("g."+s.rangePlotClassName).data(w._subplotsWith,_.identity);E.enter().append("g").attr("class",function(O){return s.rangePlotClassName+" "+O}).call(h.setClipUrl,f._clipId,m),E.order(),E.exit().remove(),E.each(function(O,P){var I=M.select(this),z=P===0,j=n.getFromId(m,O,"y"),R=j._name,N=f[R],Z={data:[],layout:{xaxis:{type:w.type,domain:[0,1],range:f.range.slice(),calendar:w.calendar},width:f._width,height:f._height,margin:{t:0,b:0,l:0,r:0}},_context:m._context};w.rangebreaks&&(Z.layout.xaxis.rangebreaks=w.rangebreaks),Z.layout[R]={type:j.type,domain:[0,1],range:N.rangemode!=="match"?N.range.slice():j.range.slice(),calendar:j.calendar},j.rangebreaks&&(Z.layout[R].rangebreaks=j.rangebreaks),a.supplyDefaults(Z);var F=Z._fullLayout.xaxis,U=Z._fullLayout[R];F.clearCalc(),F.setScale(),U.clearCalc(),U.setScale();var V={id:O,plotgroup:I,xaxis:F,yaxis:U,isRangePlot:!0};z?S=V:(V.mainplot="xy",V.mainplotinfo=S),i.rangePlot(m,V,function(te,Q){for(var J=[],X=0;X<te.length;X++){var K=te[X],ee=K[0].trace;ee.xaxis+ee.yaxis===Q&&J.push(K)}return J}(T,O))})}function g(y,m,w,f,S){_.ensureSingle(y,"rect",s.maskMinClassName,function(T){T.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",f._height).call(o.fill,s.maskColor),_.ensureSingle(y,"rect",s.maskMaxClassName,function(T){T.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",f._height).call(o.fill,s.maskColor),S.rangemode!=="match"&&(_.ensureSingle(y,"rect",s.maskMinOppAxisClassName,function(T){T.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",f._width).call(o.fill,s.maskOppAxisColor),_.ensureSingle(y,"rect",s.maskMaxOppAxisClassName,function(T){T.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",f._width).style("border-top",s.maskOppBorder).call(o.fill,s.maskOppAxisColor))}function d(y,m,w,f){m._context.staticPlot||_.ensureSingle(y,"rect",s.slideBoxClassName,function(S){S.attr({y:0,cursor:s.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:f._height,fill:s.slideBoxFill})}function v(y,m,w,f){var S=_.ensureSingle(y,"g",s.grabberMinClassName),T=_.ensureSingle(y,"g",s.grabberMaxClassName),E={x:0,width:s.handleWidth,rx:s.handleRadius,fill:o.background,stroke:o.defaultLine,"stroke-width":s.handleStrokeWidth,"shape-rendering":"crispEdges"},O={y:Math.round(f._height/4),height:Math.round(f._height/2)};_.ensureSingle(S,"rect",s.handleMinClassName,function(I){I.attr(E)}).attr(O),_.ensureSingle(T,"rect",s.handleMaxClassName,function(I){I.attr(E)}).attr(O);var P={width:s.grabAreaWidth,x:0,y:0,fill:s.grabAreaFill,cursor:m._context.staticPlot?void 0:s.grabAreaCursor};_.ensureSingle(S,"rect",s.grabAreaMinClassName,function(I){I.attr(P)}).attr("height",f._height),_.ensureSingle(T,"rect",s.grabAreaMaxClassName,function(I){I.attr(P)}).attr("height",f._height)}q.exports=function(y){for(var m=y._fullLayout,w=m._rangeSliderData,f=0;f<w.length;f++){var S=w[f][s.name];S._clipId=S._id+"-"+m._uid}var T=m._infolayer.selectAll("g."+s.containerClassName).data(w,function(E){return E._name});T.exit().each(function(E){var O=E[s.name];m._topdefs.select("#"+O._clipId).remove()}).remove(),w.length!==0&&(T.enter().append("g").classed(s.containerClassName,!0).attr("pointer-events","all"),T.each(function(E){var O=M.select(this),P=E[s.name],I=m[n.id2name(E.anchor)],z=P[n.id2name(E.anchor)];if(P.range){var j,R=_.simpleMap(P.range,E.r2l),N=_.simpleMap(E.range,E.r2l);j=N[0]<N[1]?[Math.min(R[0],N[0]),Math.max(R[1],N[1])]:[Math.max(R[0],N[0]),Math.min(R[1],N[1])],P.range=P._input.range=_.simpleMap(j,E.l2r)}E.cleanRange("rangeslider.range");var Z=m._size,F=E.domain;P._width=Z.w*(F[1]-F[0]);var U=Math.round(Z.l+Z.w*F[0]),V=Math.round(Z.t+Z.h*(1-E._counterDomainMin)+(E.side==="bottom"?E._depth:0)+P._offsetShift+s.extraPad);O.attr("transform",b(U,V)),P._rl=_.simpleMap(P.range,E.r2l);var te=P._rl[0],Q=P._rl[1],J=Q-te;if(P.p2d=function(de){return de/P._width*J+te},P.d2p=function(de){return(de-te)/J*P._width},E.rangebreaks){var X=E.locateBreaks(te,Q);if(X.length){var K,ee,re=0;for(K=0;K<X.length;K++)re+=(ee=X[K]).max-ee.min;var ie=P._width/(Q-te-re),ae=[-ie*te];for(K=0;K<X.length;K++)ee=X[K],ae.push(ae[ae.length-1]-ie*(ee.max-ee.min));for(P.d2p=function(de){for(var ye=ae[0],be=0;be<X.length;be++){var me=X[be];if(de>=me.max)ye=ae[be+1];else if(de<me.min)break}return ye+ie*de},K=0;K<X.length;K++)(ee=X[K]).pmin=P.d2p(ee.min),ee.pmax=P.d2p(ee.max);P.p2d=function(de){for(var ye=ae[0],be=0;be<X.length;be++){var me=X[be];if(de>=me.pmax)ye=ae[be+1];else if(de<me.pmin)break}return(de-ye)/ie}}}if(z.rangemode!=="match"){var ue=I.r2l(z.range[0]),pe=I.r2l(z.range[1])-ue;P.d2pOppAxis=function(de){return(de-ue)/pe*P._height}}O.call(p,y,E,P).call(c,y,E,P).call(x,y,E,P).call(g,y,E,P,z).call(d,y,E,P).call(v,y,E,P),function(de,ye,be,me){if(!ye._context.staticPlot){var Ee=de.select("rect."+s.slideBoxClassName).node(),Te=de.select("rect."+s.grabAreaMinClassName).node(),we=de.select("rect."+s.grabAreaMaxClassName).node();de.on("mousedown",oe),de.on("touchstart",oe)}function oe(){var se=M.event,he=se.target,Se=u(se),_e=Se-de.node().getBoundingClientRect().left,Ae=me.d2p(be._rl[0]),Ce=me.d2p(be._rl[1]),Re=r.coverSlip();function fe(ke){var Ie,Fe,ze,qe=+u(ke)-Se;switch(he){case Ee:if(ze="ew-resize",Ae+qe>be._length||Ce+qe<0)return;Ie=Ae+qe,Fe=Ce+qe;break;case Te:if(ze="col-resize",Ae+qe>be._length)return;Ie=Ae+qe,Fe=Ce;break;case we:if(ze="col-resize",Ce+qe<0)return;Ie=Ae,Fe=Ce+qe;break;default:ze="ew-resize",Ie=_e,Fe=_e+qe}if(Fe<Ie){var Ye=Fe;Fe=Ie,Ie=Ye}me._pixelMin=Ie,me._pixelMax=Fe,l(M.select(Re),ze),function(Qe,ft,ht,mt){function Mt(st){return ht.l2r(_.constrain(st,mt._rl[0],mt._rl[1]))}var _t=Mt(mt.p2d(mt._pixelMin)),it=Mt(mt.p2d(mt._pixelMax));window.requestAnimationFrame(function(){k.call("_guiRelayout",ft,ht._name+".range",[_t,it])})}(0,ye,be,me)}function xe(){Re.removeEventListener("mousemove",fe),Re.removeEventListener("mouseup",xe),this.removeEventListener("touchmove",fe),this.removeEventListener("touchend",xe),_.removeElement(Re)}this.addEventListener("touchmove",fe),this.addEventListener("touchend",xe),Re.addEventListener("mousemove",fe),Re.addEventListener("mouseup",xe)}}(O,y,E,P),function(de,ye,be,me,Ee,Te){var we=s.handleWidth/2;function oe(ke){return _.constrain(ke,0,me._width)}function se(ke){return _.constrain(ke,0,me._height)}function he(ke){return _.constrain(ke,-we,me._width+we)}var Se=oe(me.d2p(be._rl[0])),_e=oe(me.d2p(be._rl[1]));if(de.select("rect."+s.slideBoxClassName).attr("x",Se).attr("width",_e-Se),de.select("rect."+s.maskMinClassName).attr("width",Se),de.select("rect."+s.maskMaxClassName).attr("x",_e).attr("width",me._width-_e),Te.rangemode!=="match"){var Ae=me._height-se(me.d2pOppAxis(Ee._rl[1])),Ce=me._height-se(me.d2pOppAxis(Ee._rl[0]));de.select("rect."+s.maskMinOppAxisClassName).attr("x",Se).attr("height",Ae).attr("width",_e-Se),de.select("rect."+s.maskMaxOppAxisClassName).attr("x",Se).attr("y",Ce).attr("height",me._height-Ce).attr("width",_e-Se),de.select("rect."+s.slideBoxClassName).attr("y",Ae).attr("height",Ce-Ae)}var Re=.5,fe=Math.round(he(Se-we))-Re,xe=Math.round(he(_e-we))+Re;de.select("g."+s.grabberMinClassName).attr("transform",b(fe,Re)),de.select("g."+s.grabberMaxClassName).attr("transform",b(xe,Re))}(O,0,E,P,I,z),E.side==="bottom"&&t.draw(y,E._id+"title",{propContainer:E,propName:E._name+".title",placeholder:m._dfltTitle.x,attributes:{x:E._offset+E._length/2,y:V+P._height+P._offsetShift+10+1.5*E.title.font.size,"text-anchor":"middle"}})}))}},549:function(q,C,e){var M=e(41675),k=e(63893),a=e(73251),_=e(18783).LINE_SPACING,b=a.name;function h(o){var t=o&&o[b];return t&&t.visible}C.isVisible=h,C.makeData=function(o){var t=M.list({_fullLayout:o},"x",!0),i=o.margin,n=[];if(!o._has("gl2d"))for(var r=0;r<t.length;r++){var l=t[r];if(h(l)){n.push(l);var s=l[b];s._id=b+l._id,s._height=(o.height-i.b-i.t)*s.thickness,s._offsetShift=Math.floor(s.borderwidth/2)}}o._rangeSliderData=n},C.autoMarginOpts=function(o,t){var i=o._fullLayout,n=t[b],r=t._id.charAt(0),l=0,s=0;return t.side==="bottom"&&(l=t._depth,t.title.text!==i._dfltTitle[r]&&(s=1.5*t.title.font.size+10+n._offsetShift,s+=(t.title.text.match(k.BR_TAG_ALL)||[]).length*t.title.font.size*_)),{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:n._height+l+Math.max(i.margin.b,s),pad:a.extraPad+2*n._offsetShift}}},13137:function(q,C,e){var M=e(71828),k=e(75148),a=e(47850),_=e(549);q.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:M.extendFlat({},k,{yaxis:a})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:_.isVisible,makeData:_.makeData,autoMarginOpts:_.autoMarginOpts}},47850:function(q){q.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(q,C,e){var M=e(50215),k=e(82196).line,a=e(79952).P,_=e(1426).extendFlat,b=e(30962).overrideAll,h=e(44467).templatedArray;e(24695),q.exports=b(h("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:_({},M.xref,{}),yref:_({},M.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:k.color,width:_({},k.width,{min:1,dflt:1}),dash:_({},a,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(q){q.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(q,C,e){var M=e(71828),k=e(89298),a=e(85501),_=e(8389),b=e(30477);function h(o,t,i){function n(E,O){return M.coerce(o,t,_,E,O)}var r=n("path"),l=n("type",r?"path":"rect")!=="path";l&&delete t.path,n("opacity"),n("line.color"),n("line.width"),n("line.dash");for(var s=["x","y"],u=0;u<2;u++){var p,c,x,g=s[u],d={_fullLayout:i},v=k.coerceRef(o,t,d,g);if((p=k.getFromId(d,v))._selectionIndices.push(t._index),x=b.rangeToShapePosition(p),c=b.shapePositionToRange(p),l){var y=g+"0",m=g+"1",w=o[y],f=o[m];o[y]=c(o[y],!0),o[m]=c(o[m],!0),k.coercePosition(t,d,n,v,y),k.coercePosition(t,d,n,v,m);var S=t[y],T=t[m];S!==void 0&&T!==void 0&&(t[y]=x(S),t[m]=x(T),o[y]=w,o[m]=f)}}l&&M.noneOrAll(o,t,["x0","x1","y0","y1"])}q.exports=function(o,t){a(o,t,{name:"selections",handleItemDefaults:h});for(var i=t.selections,n=0;n<i.length;n++){var r=i[n];r&&r.path===void 0&&(r.x0!==void 0&&r.x1!==void 0&&r.y0!==void 0&&r.y1!==void 0||(t.selections[n]=null))}}},32485:function(q,C,e){var M=e(60165).readPaths,k=e(42359),a=e(51873).clearOutlineControllers,_=e(7901),b=e(91424),h=e(44467).arrayEditor,o=e(30477),t=o.getPathString;function i(u){var p=u._fullLayout;for(var c in a(u),p._selectionLayer.selectAll("path").remove(),p._plots){var x=p._plots[c].selectionLayer;x&&x.selectAll("path").remove()}for(var g=0;g<p.selections.length;g++)r(u,g)}function n(u){return u._context.editSelection}function r(u,p){u._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+p+'"]').remove();var c=o.makeSelectionsOptionsAndPlotinfo(u,p),x=c.options,g=c.plotinfo;x._input&&function(d){var v=t(u,x),y={"data-index":p,"fill-rule":"evenodd",d:v},m=x.opacity,w="rgba(0,0,0,0)",f=x.line.color||_.contrast(u._fullLayout.plot_bgcolor),S=x.line.width,T=x.line.dash;S||(S=5,T="solid");var E=n(u)&&u._fullLayout._activeSelectionIndex===p;E&&(w=u._fullLayout.activeselection.fillcolor,m=u._fullLayout.activeselection.opacity);for(var O=[],P=1;P>=0;P--){var I=d.append("path").attr(y).style("opacity",P?.1:m).call(_.stroke,f).call(_.fill,w).call(b.dashLine,P?"solid":T,P?4+S:S);if(l(I,u,x),E){var z=h(u.layout,"selections",x);I.style({cursor:"move"});var j={element:I.node(),plotinfo:g,gd:u,editHelpers:z,isActiveSelection:!0},R=M(v,u);k(R,I,j)}else I.style("pointer-events",P?"all":"none");O[P]=I}var N=O[0];O[1].node().addEventListener("click",function(){return function(Z,F){if(n(Z)){var U=+F.node().getAttribute("data-index");if(U>=0){if(U===Z._fullLayout._activeSelectionIndex)return void s(Z);Z._fullLayout._activeSelectionIndex=U,Z._fullLayout._deactivateSelection=s,i(Z)}}}(u,N)})}(u._fullLayout._selectionLayer)}function l(u,p,c){var x=c.xref+c.yref;b.setClipUrl(u,"clip"+p._fullLayout._uid+x,p)}function s(u){n(u)&&u._fullLayout._activeSelectionIndex>=0&&(a(u),delete u._fullLayout._activeSelectionIndex,i(u))}q.exports={draw:i,drawOne:r,activateLastSelection:function(u){if(n(u)){var p=u._fullLayout.selections.length-1;u._fullLayout._activeSelectionIndex=p,u._fullLayout._deactivateSelection=s,i(u)}}}},53777:function(q,C,e){var M=e(79952).P,k=e(1426).extendFlat;q.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:k({},M,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(q){q.exports=function(C,e,M){M("newselection.mode"),M("newselection.line.width")&&(M("newselection.line.color"),M("newselection.line.dash")),M("activeselection.fillcolor"),M("activeselection.opacity")}},35855:function(q,C,e){var M=e(64505).selectMode,k=e(51873).clearOutline,a=e(60165),_=a.readPaths,b=a.writePaths,h=a.fixDatesForPaths;q.exports=function(o,t){if(o.length){var i=o[0][0];if(i){var n=i.getAttribute("d"),r=t.gd,l=r._fullLayout.newselection,s=t.plotinfo,u=s.xaxis,p=s.yaxis,c=t.isActiveSelection,x=t.dragmode,g=(r.layout||{}).selections||[];if(!M(x)&&c!==void 0){var d=r._fullLayout._activeSelectionIndex;if(d<g.length)switch(r._fullLayout.selections[d].type){case"rect":x="select";break;case"path":x="lasso"}}var v,y=_(n,r,s,c),m={xref:u._id,yref:p._id,opacity:l.opacity,line:{color:l.line.color,width:l.line.width,dash:l.line.dash}};y.length===1&&(v=y[0]),v&&v.length===5&&x==="select"?(m.type="rect",m.x0=v[0][1],m.y0=v[0][2],m.x1=v[2][1],m.y1=v[2][2]):(m.type="path",u&&p&&h(y,u,p),m.path=b(y),v=null),k(r);for(var w=t.editHelpers,f=(w||{}).modifyItem,S=[],T=0;T<g.length;T++){var E=r._fullLayout.selections[T];if(E){if(S[T]=E._input,c!==void 0&&T===r._fullLayout._activeSelectionIndex){var O=m;switch(E.type){case"rect":f("x0",O.x0),f("x1",O.x1),f("y0",O.y0),f("y1",O.y1);break;case"path":f("path",O.path)}}}else S[T]=E}return c===void 0?(S.push(m),S):w?w.getUpdateObj():{}}}}},75549:function(q,C,e){var M=e(71828).strTranslate;function k(a,_){switch(a.type){case"log":return a.p2d(_);case"date":return a.p2r(_,0,a.calendar);default:return a.p2r(_)}}q.exports={p2r:k,r2p:function(a,_){switch(a.type){case"log":return a.d2p(_);case"date":return a.r2p(_,0,a.calendar);default:return a.r2p(_)}},axValue:function(a){var _=a._id.charAt(0)==="y"?1:0;return function(b){return k(a,b[_])}},getTransform:function(a){return M(a.xaxis._offset,a.yaxis._offset)}}},47322:function(q,C,e){var M=e(32485),k=e(3937);q.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:M.draw,drawOne:M.drawOne,reselect:k.reselect,prepSelect:k.prepSelect,clearOutline:k.clearOutline,clearSelectionsCache:k.clearSelectionsCache,selectOnClick:k.selectOnClick}},3937:function(q,C,e){var M=e(52142),k=e(38258),a=e(73972),_=e(91424).dashStyle,b=e(7901),h=e(30211),o=e(23469).makeEventData,t=e(64505),i=t.freeMode,n=t.rectMode,r=t.drawMode,l=t.openMode,s=t.selectMode,u=e(30477),p=e(21459),c=e(42359),x=e(51873).clearOutline,g=e(60165),d=g.handleEllipse,v=g.readPaths,y=e(90551).newShapes,m=e(35855),w=e(32485).activateLastSelection,f=e(71828),S=f.sorterAsc,T=e(61082),E=e(79990),O=e(41675).getFromId,P=e(33306),I=e(61549).redrawReglTraces,z=e(34122),j=z.MINSELECT,R=T.filter,N=T.tester,Z=e(75549),F=Z.p2r,U=Z.axValue,V=Z.getTransform;function te(fe){return fe.subplot!==void 0}function Q(fe,xe,ke,Ie,Fe,ze,qe){var Ye,Qe,ft,ht,mt,Mt,_t,it,st,St=xe._hoverdata,zt=xe._fullLayout.clickmode.indexOf("event")>-1,Ft=[];if(function(Xe){return Xe&&Array.isArray(Xe)&&Xe[0].hoverOnBox!==!0}(St)){ee(fe,xe,ze);var Pt=function(Xe,lt){var ot,Be,Ne=Xe[0],at=-1,$e=[];for(Be=0;Be<lt.length;Be++)if(ot=lt[Be],Ne.fullData._expandedIndex===ot.cd[0].trace._expandedIndex){if(Ne.hoverOnBox===!0)break;Ne.pointNumber!==void 0?at=Ne.pointNumber:Ne.binNumber!==void 0&&(at=Ne.binNumber,$e=Ne.pointNumbers);break}return{pointNumber:at,pointNumbers:$e,searchInfo:ot}}(St,Ye=ae(xe,ke,Ie,Fe));if(Pt.pointNumbers.length>0?function(Xe,lt){var ot,Be,Ne,at=[];for(Ne=0;Ne<Xe.length;Ne++)(ot=Xe[Ne]).cd[0].trace.selectedpoints&&ot.cd[0].trace.selectedpoints.length>0&&at.push(ot);if(at.length===1&&at[0]===lt.searchInfo&&(Be=lt.searchInfo.cd[0].trace).selectedpoints.length===lt.pointNumbers.length){for(Ne=0;Ne<lt.pointNumbers.length;Ne++)if(Be.selectedpoints.indexOf(lt.pointNumbers[Ne])<0)return!1;return!0}return!1}(Ye,Pt):function(Xe){var lt,ot,Be=0;for(ot=0;ot<Xe.length;ot++)if((lt=Xe[ot].cd[0].trace).selectedpoints&&(lt.selectedpoints.length>1||(Be+=lt.selectedpoints.length)>1))return!1;return Be===1}(Ye)&&(Mt=pe(Pt))){for(qe&&qe.remove(),st=0;st<Ye.length;st++)(Qe=Ye[st])._module.selectPoints(Qe,!1);de(xe,Ye),re(ze),zt&&Re(xe)}else{for(_t=fe.shiftKey&&(Mt!==void 0?Mt:pe(Pt)),ft=function(Xe,lt,ot){return{pointNumber:Xe,searchInfo:lt,subtract:!!ot}}(Pt.pointNumber,Pt.searchInfo,_t),ht=K(ze.selectionDefs.concat([ft])),st=0;st<Ye.length;st++)if(mt=be(Ye[st]._module.selectPoints(Ye[st],ht),Ye[st]),Ft.length)for(var Ze=0;Ze<mt.length;Ze++)Ft.push(mt[Ze]);else Ft=mt;if(de(xe,Ye,it={points:Ft}),ft&&ze&&ze.selectionDefs.push(ft),qe){var Je=ze.mergedPolygons,Ue=l(ze.dragmode);c(me(Je,Ue),qe,ze)}zt&&Ce(xe,it)}}}function J(fe){return"pointNumber"in fe&&"searchInfo"in fe}function X(fe){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(xe,ke,Ie,Fe){var ze=fe.searchInfo.cd[0].trace._expandedIndex;return Fe.cd[0].trace._expandedIndex===ze&&Ie===fe.pointNumber},isRect:!1,degenerate:!1,subtract:!!fe.subtract}}function K(fe){if(fe.length){for(var xe=[],ke=J(fe[0])?0:fe[0][0][0],Ie=ke,Fe=J(fe[0])?0:fe[0][0][1],ze=Fe,qe=0;qe<fe.length;qe++)if(J(fe[qe]))xe.push(X(fe[qe]));else{var Ye=N(fe[qe]);Ye.subtract=!!fe[qe].subtract,xe.push(Ye),ke=Math.min(ke,Ye.xmin),Ie=Math.max(Ie,Ye.xmax),Fe=Math.min(Fe,Ye.ymin),ze=Math.max(ze,Ye.ymax)}return{xmin:ke,xmax:Ie,ymin:Fe,ymax:ze,pts:[],contains:function(Qe,ft,ht,mt){for(var Mt=!1,_t=0;_t<xe.length;_t++)xe[_t].contains(Qe,ft,ht,mt)&&(Mt=!xe[_t].subtract);return Mt},isRect:!1,degenerate:!1}}}function ee(fe,xe,ke){var Ie=xe._fullLayout,Fe=ke.plotinfo,ze=ke.dragmode,qe=Ie._lastSelectedSubplot&&Ie._lastSelectedSubplot===Fe.id,Ye=(fe.shiftKey||fe.altKey)&&!(r(ze)&&l(ze));qe&&Ye&&Fe.selection&&Fe.selection.selectionDefs&&!ke.selectionDefs?(ke.selectionDefs=Fe.selection.selectionDefs,ke.mergedPolygons=Fe.selection.mergedPolygons):Ye&&Fe.selection||re(ke),qe||(x(xe),Ie._lastSelectedSubplot=Fe.id)}function re(fe,xe){var ke=fe.dragmode,Ie=fe.plotinfo,Fe=fe.gd;(function(mt){return mt._fullLayout._activeShapeIndex>=0})(Fe)&&Fe._fullLayout._deactivateShape(Fe),function(mt){return mt._fullLayout._activeSelectionIndex>=0}(Fe)&&Fe._fullLayout._deactivateSelection(Fe);var ze=Fe._fullLayout._zoomlayer,qe=r(ke),Ye=s(ke);if(qe||Ye){var Qe,ft,ht=ze.selectAll(".select-outline-"+Ie.id);ht&&Fe._fullLayout._outlining&&(qe&&(Qe=y(ht,fe)),Qe&&a.call("_guiRelayout",Fe,{shapes:Qe}),Ye&&!te(fe)&&(ft=m(ht,fe)),ft&&(Fe._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",Fe,{selections:ft}).then(function(){xe&&w(Fe)})),Fe._fullLayout._outlining=!1)}Ie.selection={},Ie.selection.selectionDefs=fe.selectionDefs=[],Ie.selection.mergedPolygons=fe.mergedPolygons=[]}function ie(fe){return fe._id}function ae(fe,xe,ke,Ie){if(!fe.calcdata)return[];var Fe,ze,qe,Ye=[],Qe=xe.map(ie),ft=ke.map(ie);for(qe=0;qe<fe.calcdata.length;qe++)if((ze=(Fe=fe.calcdata[qe])[0].trace).visible===!0&&ze._module&&ze._module.selectPoints)if(!te({subplot:Ie})||ze.subplot!==Ie&&ze.geo!==Ie)if(ze.type==="splom"){if(ze._xaxes[Qe[0]]&&ze._yaxes[ft[0]]){var ht=ue(ze._module,Fe,xe[0],ke[0]);ht.scene=fe._fullLayout._splomScenes[ze.uid],Ye.push(ht)}}else if(ze.type==="sankey"){var mt=ue(ze._module,Fe,xe[0],ke[0]);Ye.push(mt)}else{if(Qe.indexOf(ze.xaxis)===-1||ft.indexOf(ze.yaxis)===-1)continue;Ye.push(ue(ze._module,Fe,O(fe,ze.xaxis),O(fe,ze.yaxis)))}else Ye.push(ue(ze._module,Fe,xe[0],ke[0]));return Ye}function ue(fe,xe,ke,Ie){return{_module:fe,cd:xe,xaxis:ke,yaxis:Ie}}function pe(fe){var xe=fe.searchInfo.cd[0].trace,ke=fe.pointNumber,Ie=fe.pointNumbers,Fe=Ie.length>0?Ie[0]:ke;return!!xe.selectedpoints&&xe.selectedpoints.indexOf(Fe)>-1}function de(fe,xe,ke){var Ie,Fe;for(Ie=0;Ie<xe.length;Ie++){var ze=xe[Ie].cd[0].trace._fullInput,qe=fe._fullLayout._tracePreGUI[ze.uid]||{};qe.selectedpoints===void 0&&(qe.selectedpoints=ze._input.selectedpoints||null)}if(ke){var Ye=ke.points||[];for(Ie=0;Ie<xe.length;Ie++)(Fe=xe[Ie].cd[0].trace)._input.selectedpoints=Fe._fullInput.selectedpoints=[],Fe._fullInput!==Fe&&(Fe.selectedpoints=[]);for(var Qe=0;Qe<Ye.length;Qe++){var ft=Ye[Qe],ht=ft.data,mt=ft.fullData,Mt=ft.pointIndex,_t=ft.pointIndices;_t?([].push.apply(ht.selectedpoints,_t),Fe._fullInput!==Fe&&[].push.apply(mt.selectedpoints,_t)):(ht.selectedpoints.push(Mt),Fe._fullInput!==Fe&&mt.selectedpoints.push(Mt))}}else for(Ie=0;Ie<xe.length;Ie++)delete(Fe=xe[Ie].cd[0].trace).selectedpoints,delete Fe._input.selectedpoints,Fe._fullInput!==Fe&&delete Fe._fullInput.selectedpoints;(function(it,st){for(var St=!1,zt=0;zt<st.length;zt++){var Ft=st[zt],Pt=Ft.cd;a.traceIs(Pt[0].trace,"regl")&&(St=!0);var Ze=Ft._module,Je=Ze.styleOnSelect||Ze.style;Je&&(Je(it,Pt,Pt[0].node3),Pt[0].nodeRangePlot3&&Je(it,Pt,Pt[0].nodeRangePlot3))}St&&(P(it),I(it))})(fe,xe)}function ye(fe,xe,ke){for(var Ie=(ke?M.difference:M.union)({regions:fe},{regions:[xe]}).regions.reverse(),Fe=0;Fe<Ie.length;Fe++){var ze=Ie[Fe];ze.subtract=he(ze,Ie.slice(0,Fe))}return Ie}function be(fe,xe){if(Array.isArray(fe))for(var ke=xe.cd,Ie=xe.cd[0].trace,Fe=0;Fe<fe.length;Fe++)fe[Fe]=o(fe[Fe],Ie,ke);return fe}function me(fe,xe){for(var ke=[],Ie=0;Ie<fe.length;Ie++){ke[Ie]=[];for(var Fe=0;Fe<fe[Ie].length;Fe++){ke[Ie][Fe]=[],ke[Ie][Fe][0]=Fe?"L":"M";for(var ze=0;ze<fe[Ie][Fe].length;ze++)ke[Ie][Fe].push(fe[Ie][Fe][ze])}xe||ke[Ie].push(["Z",ke[Ie][0][1],ke[Ie][0][2]])}return ke}function Ee(fe,xe){for(var ke,Ie,Fe=[],ze=[],qe=0;qe<xe.length;qe++){var Ye=xe[qe];Ie=Ye._module.selectPoints(Ye,fe),ze.push(Ie),ke=be(Ie,Ye),Fe=Fe.concat(ke)}return Fe}function Te(fe,xe,ke,Ie,Fe){var ze,qe,Ye,Qe=!!Ie;Fe&&(ze=Fe.plotinfo,qe=Fe.xaxes[0]._id,Ye=Fe.yaxes[0]._id);var ft=[],ht=[],mt=se(fe),Mt=fe._fullLayout;if(ze){var _t=Mt._zoomlayer,it=Mt.dragmode,st=r(it),St=s(it);if(st||St){var zt=O(fe,qe,"x"),Ft=O(fe,Ye,"y");if(zt&&Ft){var Pt=_t.selectAll(".select-outline-"+ze.id);if(Pt&&fe._fullLayout._outlining&&Pt.length){for(var Ze=Pt[0][0].getAttribute("d"),Je=v(Ze,fe,ze),Ue=[],Xe=0;Xe<Je.length;Xe++){for(var lt=Je[Xe],ot=[],Be=0;Be<lt.length;Be++)ot.push([Se(zt,lt[Be][1]),Se(Ft,lt[Be][2])]);ot.xref=qe,ot.yref=Ye,ot.subtract=he(ot,Ue),Ue.push(ot)}mt=mt.concat(Ue)}}}}var Ne=qe&&Ye?[qe+Ye]:Mt._subplots.cartesian;(function(wn){var Cn=wn.calcdata;if(Cn)for(var _n=0;_n<Cn.length;_n++){var zn=Cn[_n][0].trace,Hn=wn._fullLayout._splomScenes;if(Hn){var ar=Hn[zn.uid];ar&&(ar.selectBatch=[])}}})(fe);for(var at={},$e=0;$e<Ne.length;$e++){var gt=Ne[$e],yt=gt.indexOf("y"),xt=gt.slice(0,yt),dt=gt.slice(yt),Lt=qe&&Ye?ke:void 0;if(Lt=oe(mt,xt,dt,Lt)){var Tt=Ie;if(!Qe){var bt=O(fe,xt,"x"),Ct=O(fe,dt,"y");Tt=ae(fe,[bt],[Ct],gt);for(var Dt=0;Dt<Tt.length;Dt++){var Bt=Tt[Dt],Xt=Bt.cd[0],an=Xt.trace;if(Bt._module.name==="scattergl"&&!Xt.t.xpx){var Wt=an.x,Vt=an.y,on=an._length;Xt.t.xpx=[],Xt.t.ypx=[];for(var Sn=0;Sn<on;Sn++)Xt.t.xpx[Sn]=bt.c2p(Wt[Sn]),Xt.t.ypx[Sn]=Ct.c2p(Vt[Sn])}Bt._module.name==="splom"&&(at[an.uid]||(at[an.uid]=!0))}}var Ln=Ee(Lt,Tt);ft=ft.concat(Ln),ht=ht.concat(Tt)}}var fn={points:ft};de(fe,ht,fn);var Zt=Mt.clickmode.indexOf("event")>-1&&xe;if(!ze&&xe){var ln=se(fe,!0);if(ln.length){var nn=ln[0].xref,cn=ln[0].yref;if(nn&&cn){var kn=_e(ln);Ae([O(fe,nn,"x"),O(fe,cn,"y")])(fn,kn)}}fe._fullLayout._noEmitSelectedAtStart?fe._fullLayout._noEmitSelectedAtStart=!1:Zt&&Ce(fe,fn),Mt._reselect=!1}if(!ze&&Mt._deselect){var An=Mt._deselect;(function(wn,Cn,_n){for(var zn=0;zn<_n.length;zn++){var Hn=_n[zn];if(Hn.xaxis&&Hn.xaxis._id===wn&&Hn.yaxis&&Hn.yaxis._id===Cn)return!0}return!1})(qe=An.xref,Ye=An.yref,ht)||we(fe,qe,Ye,Ie),Zt&&(fn.points.length?Ce(fe,fn):Re(fe)),Mt._deselect=!1}return{eventData:fn,selectionTesters:ke}}function we(fe,xe,ke,Ie){Ie=ae(fe,[O(fe,xe,"x")],[O(fe,ke,"y")],xe+ke);for(var Fe=0;Fe<Ie.length;Fe++){var ze=Ie[Fe];ze._module.selectPoints(ze,!1)}de(fe,Ie)}function oe(fe,xe,ke,Ie){for(var Fe,ze=0;ze<fe.length;ze++){var qe=fe[ze];xe===qe.xref&&ke===qe.yref&&(Fe?Ie=K(Fe=ye(Fe,qe,!!qe.subtract)):(Fe=[qe],Ie=N(qe)))}return Ie}function se(fe,xe){for(var ke=[],Ie=fe._fullLayout,Fe=Ie.selections,ze=Fe.length,qe=0;qe<ze;qe++)if(!xe||qe===Ie._activeSelectionIndex){var Ye=Fe[qe];if(Ye){var Qe,ft,ht,mt,Mt,_t=Ye.xref,it=Ye.yref,st=O(fe,_t,"x"),St=O(fe,it,"y");if(Ye.type==="rect"){Mt=[];var zt=Se(st,Ye.x0),Ft=Se(st,Ye.x1),Pt=Se(St,Ye.y0),Ze=Se(St,Ye.y1);Mt=[[zt,Pt],[zt,Ze],[Ft,Ze],[Ft,Pt]],Qe=Math.min(zt,Ft),ft=Math.max(zt,Ft),ht=Math.min(Pt,Ze),mt=Math.max(Pt,Ze),Mt.xmin=Qe,Mt.xmax=ft,Mt.ymin=ht,Mt.ymax=mt,Mt.xref=_t,Mt.yref=it,Mt.subtract=!1,Mt.isRect=!0,ke.push(Mt)}else if(Ye.type==="path")for(var Je=Ye.path.split("Z"),Ue=[],Xe=0;Xe<Je.length;Xe++){var lt=Je[Xe];if(lt){lt+="Z";var ot=u.extractPathCoords(lt,p.paramIsX,"raw"),Be=u.extractPathCoords(lt,p.paramIsY,"raw");Qe=1/0,ft=-1/0,ht=1/0,mt=-1/0,Mt=[];for(var Ne=0;Ne<ot.length;Ne++){var at=Se(st,ot[Ne]),$e=Se(St,Be[Ne]);Mt.push([at,$e]),Qe=Math.min(at,Qe),ft=Math.max(at,ft),ht=Math.min($e,ht),mt=Math.max($e,mt)}Mt.xmin=Qe,Mt.xmax=ft,Mt.ymin=ht,Mt.ymax=mt,Mt.xref=_t,Mt.yref=it,Mt.subtract=he(Mt,Ue),Ue.push(Mt),ke.push(Mt)}}}}return ke}function he(fe,xe){for(var ke=!1,Ie=0;Ie<xe.length;Ie++)for(var Fe=xe[Ie],ze=0;ze<fe.length;ze++)if(k(fe[ze],Fe)){ke=!ke;break}return ke}function Se(fe,xe){return fe.type==="date"&&(xe=xe.replace("_"," ")),fe.type==="log"?fe.c2p(xe):fe.r2p(xe,null,fe.calendar)}function _e(fe){for(var xe=fe.length,ke=[],Ie=0;Ie<xe;Ie++){var Fe=fe[Ie];ke=(ke=ke.concat(Fe)).concat([Fe[0]])}return(ze=ke).isRect=ze.length===5&&ze[0][0]===ze[4][0]&&ze[0][1]===ze[4][1]&&ze[0][0]===ze[1][0]&&ze[2][0]===ze[3][0]&&ze[0][1]===ze[3][1]&&ze[1][1]===ze[2][1]||ze[0][1]===ze[1][1]&&ze[2][1]===ze[3][1]&&ze[0][0]===ze[3][0]&&ze[1][0]===ze[2][0],ze.isRect&&(ze.xmin=Math.min(ze[0][0],ze[2][0]),ze.xmax=Math.max(ze[0][0],ze[2][0]),ze.ymin=Math.min(ze[0][1],ze[2][1]),ze.ymax=Math.max(ze[0][1],ze[2][1])),ze;var ze}function Ae(fe){return function(xe,ke){for(var Ie,Fe,ze=0;ze<fe.length;ze++){var qe=fe[ze],Ye=qe._id,Qe=Ye.charAt(0);if(ke.isRect){Ie||(Ie={});var ft=ke[Qe+"min"],ht=ke[Qe+"max"];ft!==void 0&&ht!==void 0&&(Ie[Ye]=[F(qe,ft),F(qe,ht)].sort(S))}else Fe||(Fe={}),Fe[Ye]=ke.map(U(qe))}Ie&&(xe.range=Ie),Fe&&(xe.lassoPoints=Fe)}}function Ce(fe,xe){xe&&(xe.selections=(fe.layout||{}).selections||[]),fe.emit("plotly_selected",xe)}function Re(fe){fe.emit("plotly_deselect",null)}q.exports={reselect:Te,prepSelect:function(fe,xe,ke,Ie,Fe){var ze=!te(Ie),qe=i(Fe),Ye=n(Fe),Qe=l(Fe),ft=r(Fe),ht=s(Fe),mt=Fe==="drawcircle",Mt=Fe==="drawline"||mt,_t=Ie.gd,it=_t._fullLayout,st=ht&&it.newselection.mode==="immediate"&&ze,St=it._zoomlayer,zt=Ie.element.getBoundingClientRect(),Ft=Ie.plotinfo,Pt=V(Ft),Ze=xe-zt.left,Je=ke-zt.top;it._calcInverseTransform(_t);var Ue=f.apply3DTransform(it._invTransform)(Ze,Je);Ze=Ue[0],Je=Ue[1];var Xe,lt,ot,Be,Ne,at,$e,gt=it._invScaleX,yt=it._invScaleY,xt=Ze,dt=Je,Lt="M"+Ze+","+Je,Tt=Ie.xaxes[0],bt=Ie.yaxes[0],Ct=Tt._length,Dt=bt._length,Bt=fe.altKey&&!(r(Fe)&&Qe);ee(fe,_t,Ie),qe&&(Xe=R([[Ze,Je]],z.BENDPX));var Xt=St.selectAll("path.select-outline-"+Ft.id).data([1]),an=ft?it.newshape:it.newselection;ft&&(Ie.hasText=an.label.text||an.label.texttemplate);var Wt=ft&&!Qe?an.fillcolor:"rgba(0,0,0,0)",Vt=an.line.color||(ze?b.contrast(_t._fullLayout.plot_bgcolor):"#7f7f7f");Xt.enter().append("path").attr("class","select-outline select-outline-"+Ft.id).style({opacity:ft?an.opacity/2:1,"stroke-dasharray":_(an.line.dash,an.line.width),"stroke-width":an.line.width+"px","shape-rendering":"crispEdges"}).call(b.stroke,Vt).call(b.fill,Wt).attr("fill-rule","evenodd").classed("cursor-move",!!ft).attr("transform",Pt).attr("d",Lt+"Z");var on=St.append("path").attr("class","zoombox-corners").style({fill:b.background,stroke:b.defaultLine,"stroke-width":1}).attr("transform",Pt).attr("d","M0,0Z");if(ft&&Ie.hasText){var Sn=St.select(".label-temp");Sn.empty()&&(Sn=St.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Ln=it._uid+z.SELECTID,fn=[],Zt=ae(_t,Ie.xaxes,Ie.yaxes,Ie.subplot);st&&!fe.shiftKey&&(Ie._clearSubplotSelections=function(){if(ze){var nn=Tt._id,cn=bt._id;we(_t,nn,cn,Zt);for(var kn=(_t.layout||{}).selections||[],An=[],wn=!1,Cn=0;Cn<kn.length;Cn++){var _n=it.selections[Cn];_n.xref!==nn||_n.yref!==cn?An.push(kn[Cn]):wn=!0}wn&&(_t._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",_t,{selections:An}))}});var ln=function(nn){return nn.plotinfo.fillRangeItems||Ae(nn.xaxes.concat(nn.yaxes))}(Ie);Ie.moveFn=function(nn,cn){Ie._clearSubplotSelections&&(Ie._clearSubplotSelections(),Ie._clearSubplotSelections=void 0),xt=Math.max(0,Math.min(Ct,gt*nn+Ze)),dt=Math.max(0,Math.min(Dt,yt*cn+Je));var kn=Math.abs(xt-Ze),An=Math.abs(dt-Je);if(Ye){var wn,Cn,_n;if(ht){var zn=it.selectdirection;switch(wn=zn==="any"?An<Math.min(.6*kn,j)?"h":kn<Math.min(.6*An,j)?"v":"d":zn){case"h":Cn=mt?Dt/2:0,_n=Dt;break;case"v":Cn=mt?Ct/2:0,_n=Ct}}if(ft)switch(it.newshape.drawdirection){case"vertical":wn="h",Cn=mt?Dt/2:0,_n=Dt;break;case"horizontal":wn="v",Cn=mt?Ct/2:0,_n=Ct;break;case"ortho":kn<An?(wn="h",Cn=Je,_n=dt):(wn="v",Cn=Ze,_n=xt);break;default:wn="d"}wn==="h"?((Be=Mt?d(mt,[xt,Cn],[xt,_n]):[[Ze,Cn],[Ze,_n],[xt,_n],[xt,Cn]]).xmin=Mt?xt:Math.min(Ze,xt),Be.xmax=Mt?xt:Math.max(Ze,xt),Be.ymin=Math.min(Cn,_n),Be.ymax=Math.max(Cn,_n),on.attr("d","M"+Be.xmin+","+(Je-j)+"h-4v"+2*j+"h4ZM"+(Be.xmax-1)+","+(Je-j)+"h4v"+2*j+"h-4Z")):wn==="v"?((Be=Mt?d(mt,[Cn,dt],[_n,dt]):[[Cn,Je],[Cn,dt],[_n,dt],[_n,Je]]).xmin=Math.min(Cn,_n),Be.xmax=Math.max(Cn,_n),Be.ymin=Mt?dt:Math.min(Je,dt),Be.ymax=Mt?dt:Math.max(Je,dt),on.attr("d","M"+(Ze-j)+","+Be.ymin+"v-4h"+2*j+"v4ZM"+(Ze-j)+","+(Be.ymax-1)+"v4h"+2*j+"v-4Z")):wn==="d"&&((Be=Mt?d(mt,[Ze,Je],[xt,dt]):[[Ze,Je],[Ze,dt],[xt,dt],[xt,Je]]).xmin=Math.min(Ze,xt),Be.xmax=Math.max(Ze,xt),Be.ymin=Math.min(Je,dt),Be.ymax=Math.max(Je,dt),on.attr("d","M0,0Z"))}else qe&&(Xe.addPt([xt,dt]),Be=Xe.filtered);if(Ie.selectionDefs&&Ie.selectionDefs.length?(ot=ye(Ie.mergedPolygons,Be,Bt),Be.subtract=Bt,lt=K(Ie.selectionDefs.concat([Be]))):(ot=[Be],lt=N(Be)),c(me(ot,Qe),Xt,Ie),ht){var Hn,ar=Te(_t,!1),fr=ar.eventData?ar.eventData.points.slice():[];ar=Te(_t,!1,lt,Zt,Ie),lt=ar.selectionTesters,$e=ar.eventData,Hn=Xe?Xe.filtered:_e(ot),E.throttle(Ln,z.SELECTDELAY,function(){for(var rr=(fn=Ee(lt,Zt)).slice(),Xn=0;Xn<fr.length;Xn++){for(var gr=fr[Xn],Gt=!1,tn=0;tn<rr.length;tn++)if(rr[tn].curveNumber===gr.curveNumber&&rr[tn].pointNumber===gr.pointNumber){Gt=!0;break}Gt||rr.push(gr)}rr.length&&($e||($e={}),$e.points=rr),ln($e,Hn),function(dn,vn){dn.emit("plotly_selecting",vn)}(_t,$e)})}},Ie.clickFn=function(nn,cn){if(on.remove(),_t._fullLayout._activeShapeIndex>=0)_t._fullLayout._deactivateShape(_t);else if(!ft){var kn=it.clickmode;E.done(Ln).then(function(){if(E.clear(Ln),nn===2){for(Xt.remove(),Ne=0;Ne<Zt.length;Ne++)(at=Zt[Ne])._module.selectPoints(at,!1);if(de(_t,Zt),re(Ie),Re(_t),Zt.length){var An=Zt[0].xaxis,wn=Zt[0].yaxis;if(An&&wn){for(var Cn=[],_n=_t._fullLayout.selections,zn=0;zn<_n.length;zn++){var Hn=_n[zn];Hn&&(Hn.xref===An._id&&Hn.yref===wn._id||Cn.push(Hn))}Cn.length<_n.length&&(_t._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",_t,{selections:Cn}))}}}else kn.indexOf("select")>-1&&Q(cn,_t,Ie.xaxes,Ie.yaxes,Ie.subplot,Ie,Xt),kn==="event"&&Ce(_t,void 0);h.click(_t,cn,Ft.id)}).catch(f.error)}},Ie.doneFn=function(){on.remove(),E.done(Ln).then(function(){E.clear(Ln),!st&&Be&&Ie.selectionDefs&&(Be.subtract=Bt,Ie.selectionDefs.push(Be),Ie.mergedPolygons.length=0,[].push.apply(Ie.mergedPolygons,ot)),(st||ft)&&re(Ie,st),Ie.doneFnCompleted&&Ie.doneFnCompleted(fn),ht&&Ce(_t,$e)}).catch(f.error)}},clearOutline:x,clearSelectionsCache:re,selectOnClick:Q}},89827:function(q,C,e){var M=e(50215),k=e(41940),a=e(82196).line,_=e(79952).P,b=e(1426).extendFlat,h=e(44467).templatedArray,o=(e(24695),e(9012)),t=e(5386).R,i=e(37281);q.exports=h("shape",{visible:b({},o.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:b({},o.legend,{editType:"calc+arraydraw"}),legendgroup:b({},o.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:b({},o.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:k({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:b({},o.legendrank,{editType:"calc+arraydraw"}),legendwidth:b({},o.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:b({},M.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:b({},M.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:b({},a.color,{editType:"arraydraw"}),width:b({},a.width,{editType:"calc+arraydraw"}),dash:b({},_,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:t({},{keys:Object.keys(i)}),font:k({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(q,C,e){var M=e(71828),k=e(89298),a=e(21459),_=e(30477);function b(i){return o(i.line.width,i.xsizemode,i.x0,i.x1,i.path,!1)}function h(i){return o(i.line.width,i.ysizemode,i.y0,i.y1,i.path,!0)}function o(i,n,r,l,s,u){var p=i/2,c=u;if(n==="pixel"){var x=s?_.extractPathCoords(s,u?a.paramIsY:a.paramIsX):[r,l],g=M.aggNums(Math.max,null,x),d=M.aggNums(Math.min,null,x),v=d<0?Math.abs(d)+p:p,y=g>0?g+p:p;return{ppad:p,ppadplus:c?v:y,ppadminus:c?y:v}}return{ppad:p}}function t(i,n,r,l,s){var u=i.type==="category"||i.type==="multicategory"?i.r2c:i.d2c;if(n!==void 0)return[u(n),u(r)];if(l){var p,c,x,g,d=1/0,v=-1/0,y=l.match(a.segmentRE);for(i.type==="date"&&(u=_.decodeDate(u)),p=0;p<y.length;p++)(c=s[y[p].charAt(0)].drawn)!==void 0&&(!(x=y[p].substr(1).match(a.paramRE))||x.length<c||((g=u(x[c]))<d&&(d=g),g>v&&(v=g)));return v>=d?[d,v]:void 0}}q.exports=function(i){var n=i._fullLayout,r=M.filterVisible(n.shapes);if(r.length&&i._fullData.length)for(var l=0;l<r.length;l++){var s,u,p=r[l];p._extremes={};var c=k.getRefType(p.xref),x=k.getRefType(p.yref);if(p.xref!=="paper"&&c!=="domain"){var g=p.xsizemode==="pixel"?p.xanchor:p.x0,d=p.xsizemode==="pixel"?p.xanchor:p.x1;(u=t(s=k.getFromId(i,p.xref),g,d,p.path,a.paramIsX))&&(p._extremes[s._id]=k.findExtremes(s,u,b(p)))}if(p.yref!=="paper"&&x!=="domain"){var v=p.ysizemode==="pixel"?p.yanchor:p.y0,y=p.ysizemode==="pixel"?p.yanchor:p.y1;(u=t(s=k.getFromId(i,p.yref),v,y,p.path,a.paramIsY))&&(p._extremes[s._id]=k.findExtremes(s,u,h(p)))}}}},21459:function(q){q.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(q,C,e){var M=e(71828),k=e(89298),a=e(85501),_=e(89827),b=e(30477);function h(o,t,i){function n(Z,F){return M.coerce(o,t,_,Z,F)}if(t._isShape=!0,n("visible")){n("showlegend")&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),M.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var r=n("path"),l=n("type",r?"path":"rect"),s=l!=="path";s&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule"),n("line.width")&&(n("line.color"),n("line.dash"));for(var u=n("xsizemode"),p=n("ysizemode"),c=["x","y"],x=0;x<2;x++){var g,d,v,y=c[x],m=y+"anchor",w=y==="x"?u:p,f={_fullLayout:i},S=k.coerceRef(o,t,f,y,void 0,"paper");if(k.getRefType(S)==="range"?((g=k.getFromId(f,S))._shapeIndices.push(t._index),v=b.rangeToShapePosition(g),d=b.shapePositionToRange(g)):d=v=M.identity,s){var T=y+"0",E=y+"1",O=o[T],P=o[E];o[T]=d(o[T],!0),o[E]=d(o[E],!0),w==="pixel"?(n(T,0),n(E,10)):(k.coercePosition(t,f,n,S,T,.25),k.coercePosition(t,f,n,S,E,.75)),t[T]=v(t[T]),t[E]=v(t[E]),o[T]=O,o[E]=P}if(w==="pixel"){var I=o[m];o[m]=d(o[m],!0),k.coercePosition(t,f,n,S,m,.25),t[m]=v(t[m]),o[m]=I}}s&&M.noneOrAll(o,t,["x0","x1","y0","y1"]);var z,j,R=l==="line";if(s&&(z=n("label.texttemplate")),z||(j=n("label.text")),j||z){n("label.textangle");var N=n("label.textposition",R?"middle":"middle center");n("label.xanchor"),n("label.yanchor",function(Z,F){return Z?"bottom":F.indexOf("top")!==-1?"top":F.indexOf("bottom")!==-1?"bottom":"middle"}(R,N)),n("label.padding"),M.coerceFont(n,"label.font",i.font)}}}q.exports=function(o,t){a(o,t,{name:"shapes",handleItemDefaults:h})}},48100:function(q,C,e){var M=e(71828),k=e(89298),a=e(63893),_=e(91424),b=e(60165).readPaths,h=e(30477),o=h.getPathString,t=e(37281),i=e(18783).FROM_TL;q.exports=function(n,r,l,s){if(s.selectAll(".shape-label").remove(),l.label.text||l.label.texttemplate){var u;if(l.label.texttemplate){var p={};if(l.type!=="path"){var c=k.getFromId(n,l.xref),x=k.getFromId(n,l.yref);for(var g in t){var d=t[g](l,c,x);d!==void 0&&(p[g]=d)}}u=M.texttemplateStringForShapes(l.label.texttemplate,{},n._fullLayout._d3locale,p)}else u=l.label.text;var v,y,m,w,f={"data-index":r},S=l.label.font,T=s.append("g").attr(f).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(u);if(l.path){var E=o(n,l),O=b(E,n);v=1/0,m=1/0,y=-1/0,w=-1/0;for(var P=0;P<O.length;P++)for(var I=0;I<O[P].length;I++)for(var z=O[P][I],j=1;j<z.length;j+=2){var R=z[j],N=z[j+1];v=Math.min(v,R),y=Math.max(y,R),m=Math.min(m,N),w=Math.max(w,N)}}else{var Z=k.getFromId(n,l.xref),F=k.getRefType(l.xref),U=k.getFromId(n,l.yref),V=k.getRefType(l.yref),te=h.getDataToPixel(n,Z,!1,F),Q=h.getDataToPixel(n,U,!0,V);v=te(l.x0),y=te(l.x1),m=Q(l.y0),w=Q(l.y1)}var J=l.label.textangle;J==="auto"&&(J=l.type==="line"?function(ie,ae,ue,pe){var de,ye;return ye=Math.abs(ue-ie),de=ue>=ie?ae-pe:pe-ae,-180/Math.PI*Math.atan2(de,ye)}(v,m,y,w):0),T.call(function(ie){return ie.call(_.font,S).attr({}),a.convertToTspans(ie,n),ie});var X=function(ie,ae,ue,pe,de,ye,be){var me,Ee,Te,we,oe=de.label.textposition,se=de.label.textangle,he=de.label.padding,Se=de.type,_e=Math.PI/180*ye,Ae=Math.sin(_e),Ce=Math.cos(_e),Re=de.label.xanchor,fe=de.label.yanchor;if(Se==="line"){oe==="start"?(me=ie,Ee=ae):oe==="end"?(me=ue,Ee=pe):(me=(ie+ue)/2,Ee=(ae+pe)/2),Re==="auto"&&(Re=oe==="start"?se==="auto"?ue>ie?"left":ue<ie?"right":"center":ue>ie?"right":ue<ie?"left":"center":oe==="end"?se==="auto"?ue>ie?"right":ue<ie?"left":"center":ue>ie?"left":ue<ie?"right":"center":"center");var xe={bottom:-1,middle:0,top:1};if(se==="auto"){var ke=xe[fe];Te=-he*Ae*ke,we=he*Ce*ke}else Te=he*{left:1,center:0,right:-1}[Re],we=he*xe[fe];me+=Te,Ee+=we}else Te=he+3,oe.indexOf("right")!==-1?(me=Math.max(ie,ue)-Te,Re==="auto"&&(Re="right")):oe.indexOf("left")!==-1?(me=Math.min(ie,ue)+Te,Re==="auto"&&(Re="left")):(me=(ie+ue)/2,Re==="auto"&&(Re="center")),Ee=oe.indexOf("top")!==-1?Math.min(ae,pe):oe.indexOf("bottom")!==-1?Math.max(ae,pe):(ae+pe)/2,we=he,fe==="bottom"?Ee-=we:fe==="top"&&(Ee+=we);var Ie=i[fe],Fe=de.label.font.size,ze=be.height;return{textx:me+(ze*Ie-Fe)*Ae,texty:Ee+-(ze*Ie-Fe)*Ce,xanchor:Re}}(v,m,y,w,l,J,_.bBox(T.node())),K=X.textx,ee=X.texty,re=X.xanchor;T.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[re],y:ee,x:K,transform:"rotate("+J+","+K+","+ee+")"}).call(a.positionText,K,ee)}}},42359:function(q,C,e){var M=e(71828).strTranslate,k=e(28569),a=e(64505),_=a.drawMode,b=a.selectMode,h=e(73972),o=e(7901),t=e(89995),i=t.i000,n=t.i090,r=t.i180,l=t.i270,s=e(51873).clearOutlineControllers,u=e(60165),p=u.pointsOnRectangle,c=u.pointsOnEllipse,x=u.writePaths,g=e(90551).newShapes,d=e(90551).createShapeObj,v=e(35855),y=e(48100);function m(w,f){var S,T,E,O=w[f][1],P=w[f][2],I=w.length;return T=w[S=(f+1)%I][1],E=w[S][2],T===O&&E===P&&(T=w[S=(f+2)%I][1],E=w[S][2]),[S,T,E]}q.exports=function w(f,S,T,E){E||(E=0);var O=T.gd;function P(){w(f,S,T,E++),(c(f[0])||T.hasText)&&I({redrawing:!0})}function I(de){var ye={};T.isActiveShape!==void 0&&(T.isActiveShape=!1,ye=g(S,T)),T.isActiveSelection!==void 0&&(T.isActiveSelection=!1,ye=v(S,T),O._fullLayout._reselect=!0),Object.keys(ye).length&&h.call((de||{}).redrawing?"relayout":"_guiRelayout",O,ye)}var z,j,R,N,Z,F=O._fullLayout._zoomlayer,U=T.dragmode,V=_(U),te=b(U);if((V||te)&&(O._fullLayout._outlining=!0),s(O),S.attr("d",x(f)),E||!T.isActiveShape&&!T.isActiveSelection||(Z=function(de,ye){for(var be=0;be<ye.length;be++){var me=ye[be];de[be]=[];for(var Ee=0;Ee<me.length;Ee++){de[be][Ee]=[];for(var Te=0;Te<me[Ee].length;Te++)de[be][Ee][Te]=me[Ee][Te]}}return de}([],f),function(de){z=[];for(var ye=0;ye<f.length;ye++){var be=f[ye],me=p(be),Ee=!me&&c(be);z[ye]=[];for(var Te=be.length,we=0;we<Te;we++)if(be[we][0]!=="Z"&&(!Ee||we===i||we===n||we===r||we===l)){var oe,se=me&&T.isActiveSelection;se&&(oe=m(be,we));var he=be[we][1],Se=be[we][2],_e=de.append(se?"rect":"circle").attr("data-i",ye).attr("data-j",we).style({fill:o.background,stroke:o.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(se){var Ae=oe[1]-he,Ce=oe[2]-Se,Re=Ce?5:Math.max(Math.min(25,Math.abs(Ae)-5),5),fe=Ae?5:Math.max(Math.min(25,Math.abs(Ce)-5),5);_e.classed(Ce?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Re).attr("height",fe).attr("x",he-Re/2).attr("y",Se-fe/2).attr("transform",M(Ae/2,Ce/2))}else _e.classed("cursor-grab",!0).attr("r",5).attr("cx",he).attr("cy",Se);z[ye][we]={element:_e.node(),gd:O,prepFn:X,doneFn:ee,clickFn:re},k.init(z[ye][we])}}}(F.append("g").attr("class","outline-controllers")),function(){j=[],f.length&&(j[0]={element:S[0][0],gd:O,prepFn:ae,doneFn:ue,clickFn:pe},k.init(j[0]))}()),V&&T.hasText){var Q=F.select(".label-temp"),J=d(S,T,T.dragmode);y(O,"label-temp",J,Q)}function X(de){R=+de.srcElement.getAttribute("data-i"),N=+de.srcElement.getAttribute("data-j"),z[R][N].moveFn=K}function K(de,ye){if(f.length){var be=Z[R][N][1],me=Z[R][N][2],Ee=f[R],Te=Ee.length;if(p(Ee)){var we=de,oe=ye;T.isActiveSelection&&(m(Ee,N)[1]===Ee[N][1]?oe=0:we=0);for(var se=0;se<Te;se++)if(se!==N){var he=Ee[se];he[1]===Ee[N][1]&&(he[1]=be+we),he[2]===Ee[N][2]&&(he[2]=me+oe)}if(Ee[N][1]=be+we,Ee[N][2]=me+oe,!p(Ee))for(var Se=0;Se<Te;Se++)for(var _e=0;_e<Ee[Se].length;_e++)Ee[Se][_e]=Z[R][Se][_e]}else Ee[N][1]=be+de,Ee[N][2]=me+ye;P()}}function ee(){I()}function re(de,ye){if(de===2){R=+ye.srcElement.getAttribute("data-i"),N=+ye.srcElement.getAttribute("data-j");var be=f[R];p(be)||c(be)||function(){if(f.length&&f[R]&&f[R].length){for(var me=[],Ee=0;Ee<f[R].length;Ee++)Ee!==N&&me.push(f[R][Ee]);me.length>1&&(me.length!==2||me[1][0]!=="Z")&&(N===0&&(me[0][0]="M"),f[R]=me,P(),I())}}()}}function ie(de,ye){(function(be,me){if(f.length)for(var Ee=0;Ee<f.length;Ee++)for(var Te=0;Te<f[Ee].length;Te++)for(var we=0;we+2<f[Ee][Te].length;we+=2)f[Ee][Te][we+1]=Z[Ee][Te][we+1]+be,f[Ee][Te][we+2]=Z[Ee][Te][we+2]+me})(de,ye),P()}function ae(de){(R=+de.srcElement.getAttribute("data-i"))||(R=0),j[R].moveFn=ie}function ue(){I()}function pe(de){de===2&&function(ye){if(b(ye._fullLayout.dragmode)){s(ye);var be=ye._fullLayout._activeSelectionIndex,me=(ye.layout||{}).selections||[];if(be<me.length){for(var Ee=[],Te=0;Te<me.length;Te++)Te!==be&&Ee.push(me[Te]);delete ye._fullLayout._activeSelectionIndex;var we=ye._fullLayout.selections[be];ye._fullLayout._deselect={xref:we.xref,yref:we.yref},h.call("_guiRelayout",ye,{selections:Ee})}}}(O)}}},34031:function(q,C,e){var M=e(39898),k=e(73972),a=e(71828),_=e(89298),b=e(60165).readPaths,h=e(42359),o=e(48100),t=e(51873).clearOutlineControllers,i=e(7901),n=e(91424),r=e(44467).arrayEditor,l=e(28569),s=e(6964),u=e(21459),p=e(30477),c=p.getPathString;function x(f){var S=f._fullLayout;for(var T in S._shapeUpperLayer.selectAll("path").remove(),S._shapeLowerLayer.selectAll("path").remove(),S._shapeUpperLayer.selectAll("text").remove(),S._shapeLowerLayer.selectAll("text").remove(),S._plots){var E=S._plots[T].shapelayer;E&&(E.selectAll("path").remove(),E.selectAll("text").remove())}for(var O=0;O<S.shapes.length;O++)S.shapes[O].visible===!0&&v(f,O)}function g(f){return!!f._fullLayout._outlining}function d(f){return!f._context.edits.shapePosition}function v(f,S){f._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+S+'"]').remove();var T=p.makeShapesOptionsAndPlotinfo(f,S),E=T.options,O=T.plotinfo;function P(I){var z=c(f,E),j={"data-index":S,"fill-rule":E.fillrule,d:z},R=E.opacity,N=E.fillcolor,Z=E.line.width?E.line.color:"rgba(0,0,0,0)",F=E.line.width,U=E.line.dash;F||E.editable!==!0||(F=5,U="solid");var V=z[z.length-1]!=="Z",te=d(f)&&E.editable&&f._fullLayout._activeShapeIndex===S;te&&(N=V?"rgba(0,0,0,0)":f._fullLayout.activeshape.fillcolor,R=f._fullLayout.activeshape.opacity);var Q,J=I.append("g").classed("shape-group",!0).attr({"data-index":S}),X=J.append("path").attr(j).style("opacity",R).call(i.stroke,Z).call(i.fill,N).call(n.dashLine,U,F);if(y(J,f,E),o(f,S,E,J),(te||f._context.edits.shapePosition)&&(Q=r(f.layout,"shapes",E)),te){X.style({cursor:"move"});var K={element:X.node(),plotinfo:O,gd:f,editHelpers:Q,hasText:E.label.text||E.label.texttemplate,isActiveShape:!0},ee=b(z,f);h(ee,X,K)}else f._context.edits.shapePosition?function(re,ie,ae,ue,pe,de){var ye,be,me,Ee,Te,we,oe,se,he,Se,_e,Ae,Ce,Re,fe,xe,ke=10,Ie=10,Fe=ae.xsizemode==="pixel",ze=ae.ysizemode==="pixel",qe=ae.type==="line",Ye=ae.type==="path",Qe=de.modifyItem,ft=M.select(ie.node().parentNode),ht=_.getFromId(re,ae.xref),mt=_.getRefType(ae.xref),Mt=_.getFromId(re,ae.yref),_t=_.getRefType(ae.yref),it=p.getDataToPixel(re,ht,!1,mt),st=p.getDataToPixel(re,Mt,!0,_t),St=p.getPixelToData(re,ht,!1,mt),zt=p.getPixelToData(re,Mt,!0,_t),Ft=qe?function(){var ot=10,Be=Math.max(ae.line.width,ot),Ne=pe.append("g").attr("data-index",ue).attr("drag-helper",!0);Ne.append("path").attr("d",ie.attr("d")).style({cursor:"move","stroke-width":Be,"stroke-opacity":"0"});var at={"fill-opacity":"0"},$e=Math.max(Be/2,ot);return Ne.append("circle").attr({"data-line-point":"start-point",cx:Fe?it(ae.xanchor)+ae.x0:it(ae.x0),cy:ze?st(ae.yanchor)-ae.y0:st(ae.y0),r:$e}).style(at).classed("cursor-grab",!0),Ne.append("circle").attr({"data-line-point":"end-point",cx:Fe?it(ae.xanchor)+ae.x1:it(ae.x1),cy:ze?st(ae.yanchor)-ae.y1:st(ae.y1),r:$e}).style(at).classed("cursor-grab",!0),Ne}():ie,Pt={element:Ft.node(),gd:re,prepFn:function(ot){g(re)||(Fe&&(Te=it(ae.xanchor)),ze&&(we=st(ae.yanchor)),ae.type==="path"?fe=ae.path:(ye=Fe?ae.x0:it(ae.x0),be=ze?ae.y0:st(ae.y0),me=Fe?ae.x1:it(ae.x1),Ee=ze?ae.y1:st(ae.y1)),ye<me?(he=ye,Ce="x0",Se=me,Re="x1"):(he=me,Ce="x1",Se=ye,Re="x0"),!ze&&be<Ee||ze&&be>Ee?(oe=be,_e="y0",se=Ee,Ae="y1"):(oe=Ee,_e="y1",se=be,Ae="y0"),Ze(ot),Xe(pe,ae),function(Be,Ne,at){var $e=Ne.xref,gt=Ne.yref,yt=_.getFromId(at,$e),xt=_.getFromId(at,gt),dt="";$e==="paper"||yt.autorange||(dt+=$e),gt==="paper"||xt.autorange||(dt+=gt),n.setClipUrl(Be,dt?"clip"+at._fullLayout._uid+dt:null,at)}(ie,ae,re),Pt.moveFn=xe==="move"?Je:Ue,Pt.altKey=ot.altKey)},doneFn:function(){g(re)||(s(ie),lt(pe),y(ie,re,ae),k.call("_guiRelayout",re,de.getUpdateObj()))},clickFn:function(){g(re)||lt(pe)}};function Ze(ot){if(g(re))xe=null;else if(qe)xe=ot.target.tagName==="path"?"move":ot.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Be=Pt.element.getBoundingClientRect(),Ne=Be.right-Be.left,at=Be.bottom-Be.top,$e=ot.clientX-Be.left,gt=ot.clientY-Be.top,yt=!Ye&&Ne>ke&&at>Ie&&!ot.shiftKey?l.getCursor($e/Ne,1-gt/at):"move";s(ie,yt),xe=yt.split("-")[0]}}function Je(ot,Be){if(ae.type==="path"){var Ne=function(gt){return gt},at=Ne,$e=Ne;Fe?Qe("xanchor",ae.xanchor=St(Te+ot)):(at=function(gt){return St(it(gt)+ot)},ht&&ht.type==="date"&&(at=p.encodeDate(at))),ze?Qe("yanchor",ae.yanchor=zt(we+Be)):($e=function(gt){return zt(st(gt)+Be)},Mt&&Mt.type==="date"&&($e=p.encodeDate($e))),Qe("path",ae.path=m(fe,at,$e))}else Fe?Qe("xanchor",ae.xanchor=St(Te+ot)):(Qe("x0",ae.x0=St(ye+ot)),Qe("x1",ae.x1=St(me+ot))),ze?Qe("yanchor",ae.yanchor=zt(we+Be)):(Qe("y0",ae.y0=zt(be+Be)),Qe("y1",ae.y1=zt(Ee+Be)));ie.attr("d",c(re,ae)),Xe(pe,ae),o(re,ue,ae,ft)}function Ue(ot,Be){if(Ye){var Ne=function(Vt){return Vt},at=Ne,$e=Ne;Fe?Qe("xanchor",ae.xanchor=St(Te+ot)):(at=function(Vt){return St(it(Vt)+ot)},ht&&ht.type==="date"&&(at=p.encodeDate(at))),ze?Qe("yanchor",ae.yanchor=zt(we+Be)):($e=function(Vt){return zt(st(Vt)+Be)},Mt&&Mt.type==="date"&&($e=p.encodeDate($e))),Qe("path",ae.path=m(fe,at,$e))}else if(qe){if(xe==="resize-over-start-point"){var gt=ye+ot,yt=ze?be-Be:be+Be;Qe("x0",ae.x0=Fe?gt:St(gt)),Qe("y0",ae.y0=ze?yt:zt(yt))}else if(xe==="resize-over-end-point"){var xt=me+ot,dt=ze?Ee-Be:Ee+Be;Qe("x1",ae.x1=Fe?xt:St(xt)),Qe("y1",ae.y1=ze?dt:zt(dt))}}else{var Lt=function(Vt){return xe.indexOf(Vt)!==-1},Tt=Lt("n"),bt=Lt("s"),Ct=Lt("w"),Dt=Lt("e"),Bt=Tt?oe+Be:oe,Xt=bt?se+Be:se,an=Ct?he+ot:he,Wt=Dt?Se+ot:Se;ze&&(Tt&&(Bt=oe-Be),bt&&(Xt=se-Be)),(!ze&&Xt-Bt>Ie||ze&&Bt-Xt>Ie)&&(Qe(_e,ae[_e]=ze?Bt:zt(Bt)),Qe(Ae,ae[Ae]=ze?Xt:zt(Xt))),Wt-an>ke&&(Qe(Ce,ae[Ce]=Fe?an:St(an)),Qe(Re,ae[Re]=Fe?Wt:St(Wt)))}ie.attr("d",c(re,ae)),Xe(pe,ae),o(re,ue,ae,ft)}function Xe(ot,Be){(Fe||ze)&&function(){var Ne=Be.type!=="path",at=ot.selectAll(".visual-cue").data([0]);at.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var $e=it(Fe?Be.xanchor:a.midRange(Ne?[Be.x0,Be.x1]:p.extractPathCoords(Be.path,u.paramIsX))),gt=st(ze?Be.yanchor:a.midRange(Ne?[Be.y0,Be.y1]:p.extractPathCoords(Be.path,u.paramIsY)));if($e=p.roundPositionForSharpStrokeRendering($e,1),gt=p.roundPositionForSharpStrokeRendering(gt,1),Fe&&ze){var yt="M"+($e-1-1)+","+(gt-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";at.attr("d",yt)}else if(Fe){var xt="M"+($e-1-1)+","+(gt-9-1)+"v18 h2 v-18 Z";at.attr("d",xt)}else{var dt="M"+($e-9-1)+","+(gt-1-1)+"h18 v2 h-18 Z";at.attr("d",dt)}}()}function lt(ot){ot.selectAll(".visual-cue").remove()}l.init(Pt),Ft.node().onmousemove=Ze}(f,X,E,S,I,Q):E.editable===!0&&X.style("pointer-events",V||i.opacity(N)*R<=.5?"stroke":"all");X.node().addEventListener("click",function(){return function(re,ie){if(d(re)){var ae=+ie.node().getAttribute("data-index");if(ae>=0){if(ae===re._fullLayout._activeShapeIndex)return void w(re);re._fullLayout._activeShapeIndex=ae,re._fullLayout._deactivateShape=w,x(re)}}}(f,X)})}E._input&&E.visible===!0&&(E.layer!=="below"?P(f._fullLayout._shapeUpperLayer):E.xref==="paper"||E.yref==="paper"?P(f._fullLayout._shapeLowerLayer):O._hadPlotinfo?P((O.mainplotinfo||O).shapelayer):P(f._fullLayout._shapeLowerLayer))}function y(f,S,T){var E=(T.xref+T.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");n.setClipUrl(f,E?"clip"+S._fullLayout._uid+E:null,S)}function m(f,S,T){return f.replace(u.segmentRE,function(E){var O=0,P=E.charAt(0),I=u.paramIsX[P],z=u.paramIsY[P],j=u.numParams[P];return P+E.substr(1).replace(u.paramRE,function(R){return O>=j||(I[O]?R=S(R):z[O]&&(R=T(R)),O++),R})})}function w(f){d(f)&&f._fullLayout._activeShapeIndex>=0&&(t(f),delete f._fullLayout._activeShapeIndex,x(f))}q.exports={draw:x,drawOne:v,eraseActiveShape:function(f){if(d(f)){t(f);var S=f._fullLayout._activeShapeIndex,T=(f.layout||{}).shapes||[];if(S<T.length){for(var E=[],O=0;O<T.length;O++)O!==S&&E.push(T[O]);return delete f._fullLayout._activeShapeIndex,k.call("_guiRelayout",f,{shapes:E})}}},drawLabel:o}},29241:function(q,C,e){var M=e(30962).overrideAll,k=e(9012),a=e(41940),_=e(79952).P,b=e(1426).extendFlat,h=e(5386).R,o=e(37281);q.exports=M({newshape:{visible:b({},k.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:b({},k.legend,{}),legendgroup:b({},k.legendgroup,{}),legendgrouptitle:{text:b({},k.legendgrouptitle.text,{}),font:a({})},legendrank:b({},k.legendrank,{}),legendwidth:b({},k.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:b({},_,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:b({},k.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:h({newshape:!0},{keys:Object.keys(o)}),font:a({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},89995:function(q){q.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(q,C,e){var M=e(7901),k=e(71828);q.exports=function(a,_,b){if(b("newshape.visible"),b("newshape.name"),b("newshape.showlegend"),b("newshape.legend"),b("newshape.legendwidth"),b("newshape.legendgroup"),b("newshape.legendgrouptitle.text"),k.coerceFont(b,"newshape.legendgrouptitle.font"),b("newshape.legendrank"),b("newshape.drawdirection"),b("newshape.layer"),b("newshape.fillcolor"),b("newshape.fillrule"),b("newshape.opacity"),b("newshape.line.width")){var h=(a||{}).plot_bgcolor||"#FFF";b("newshape.line.color",M.contrast(h)),b("newshape.line.dash")}var o=a.dragmode==="drawline",t=b("newshape.label.text"),i=b("newshape.label.texttemplate");if(t||i){b("newshape.label.textangle");var n=b("newshape.label.textposition",o?"middle":"middle center");b("newshape.label.xanchor"),b("newshape.label.yanchor",function(r,l){return r?"bottom":l.indexOf("top")!==-1?"top":l.indexOf("bottom")!==-1?"bottom":"middle"}(o,n)),b("newshape.label.padding"),k.coerceFont(b,"newshape.label.font",_.font)}b("activeshape.fillcolor"),b("activeshape.opacity")}},60165:function(q,C,e){var M=e(95616),k=e(89995),a=k.CIRCLE_SIDES,_=k.SQRT2,b=e(75549),h=b.p2r,o=b.r2p,t=[0,3,4,5,6,1,2],i=[0,3,4,1,2];function n(l,s){return Math.abs(l-s)<=1e-6}function r(l,s){var u=s[1]-l[1],p=s[2]-l[2];return Math.sqrt(u*u+p*p)}C.writePaths=function(l){var s=l.length;if(!s)return"M0,0Z";for(var u="",p=0;p<s;p++)for(var c=l[p].length,x=0;x<c;x++){var g=l[p][x][0];if(g==="Z")u+="Z";else for(var d=l[p][x].length,v=0;v<d;v++){var y=v;g==="Q"||g==="S"?y=i[v]:g==="C"&&(y=t[v]),u+=l[p][x][y],v>0&&v<d-1&&(u+=",")}}return u},C.readPaths=function(l,s,u,p){var c,x,g,d=M(l),v=[],y=-1,m=0,w=0,f=function(){x=m,g=w};f();for(var S=0;S<d.length;S++){var T,E,O,P,I=[],z=d[S][0],j=z;switch(z){case"M":v[++y]=[],m=+d[S][1],w=+d[S][2],I.push([j,m,w]),f();break;case"Q":case"S":T=+d[S][1],O=+d[S][2],m=+d[S][3],w=+d[S][4],I.push([j,m,w,T,O]);break;case"C":T=+d[S][1],O=+d[S][2],E=+d[S][3],P=+d[S][4],m=+d[S][5],w=+d[S][6],I.push([j,m,w,T,O,E,P]);break;case"T":case"L":m=+d[S][1],w=+d[S][2],I.push([j,m,w]);break;case"H":j="L",m=+d[S][1],I.push([j,m,w]);break;case"V":j="L",w=+d[S][1],I.push([j,m,w]);break;case"A":j="L";var R=+d[S][1],N=+d[S][2];+d[S][4]||(R=-R,N=-N);var Z=m-R,F=w;for(c=1;c<=a/2;c++){var U=2*Math.PI*c/a;I.push([j,Z+R*Math.cos(U),F+N*Math.sin(U)])}break;case"Z":m===x&&w===g||(m=x,w=g,I.push([j,m,w]))}for(var V=(u||{}).domain,te=s._fullLayout._size,Q=u&&u.xsizemode==="pixel",J=u&&u.ysizemode==="pixel",X=p===!1,K=0;K<I.length;K++){for(c=0;c+2<7;c+=2){var ee=I[K][c+1],re=I[K][c+2];ee!==void 0&&re!==void 0&&(m=ee,w=re,u&&(u.xaxis&&u.xaxis.p2r?(X&&(ee-=u.xaxis._offset),ee=Q?o(u.xaxis,u.xanchor)+ee:h(u.xaxis,ee)):(X&&(ee-=te.l),V?ee=V.x[0]+ee/te.w:ee/=te.w),u.yaxis&&u.yaxis.p2r?(X&&(re-=u.yaxis._offset),re=J?o(u.yaxis,u.yanchor)-re:h(u.yaxis,re)):(X&&(re-=te.t),re=V?V.y[1]-re/te.h:1-re/te.h)),I[K][c+1]=ee,I[K][c+2]=re)}v[y].push(I[K].slice())}}return v},C.pointsOnRectangle=function(l){if(l.length!==5)return!1;for(var s=1;s<3;s++)if(!n(l[0][s]-l[1][s],l[3][s]-l[2][s])||!n(l[0][s]-l[3][s],l[1][s]-l[2][s]))return!1;return!(!n(l[0][1],l[1][1])&&!n(l[0][1],l[3][1])||!(r(l[0],l[1])*r(l[0],l[3])))},C.pointsOnEllipse=function(l){var s=l.length;if(s!==a+1)return!1;s=a;for(var u=0;u<s;u++){var p=(2*s-u)%s,c=(s/2+p)%s,x=(s/2+u)%s;if(!n(r(l[u],l[x]),r(l[p],l[c])))return!1}return!0},C.handleEllipse=function(l,s,u){if(!l)return[s,u];var p=C.ellipseOver({x0:s[0],y0:s[1],x1:u[0],y1:u[1]}),c=(p.x1+p.x0)/2,x=(p.y1+p.y0)/2,g=(p.x1-p.x0)/2,d=(p.y1-p.y0)/2;g||(g=d/=_),d||(d=g/=_);for(var v=[],y=0;y<a;y++){var m=2*y*Math.PI/a;v.push([c+g*Math.cos(m),x+d*Math.sin(m)])}return v},C.ellipseOver=function(l){var s=l.x0,u=l.y0,p=l.x1,c=l.y1,x=p-s,g=c-u,d=((s-=x)+p)/2,v=((u-=g)+c)/2;return{x0:d-(x*=_),y0:v-(g*=_),x1:d+x,y1:v+g}},C.fixDatesForPaths=function(l,s,u){var p=s.type==="date",c=u.type==="date";if(!p&&!c)return l;for(var x=0;x<l.length;x++)for(var g=0;g<l[x].length;g++)for(var d=0;d+2<l[x][g].length;d+=2)p&&(l[x][g][d+1]=l[x][g][d+1].replace(" ","_")),c&&(l[x][g][d+2]=l[x][g][d+2].replace(" ","_"));return l}},90551:function(q,C,e){var M=e(64505),k=M.drawMode,a=M.openMode,_=e(89995),b=_.i000,h=_.i090,o=_.i180,t=_.i270,i=_.cos45,n=_.sin45,r=e(75549),l=r.p2r,s=r.r2p,u=e(51873).clearOutline,p=e(60165),c=p.readPaths,x=p.writePaths,g=p.ellipseOver,d=p.fixDatesForPaths;function v(y,m,w){var f,S=y[0][0],T=m.gd,E=S.getAttribute("d"),O=T._fullLayout.newshape,P=m.plotinfo,I=m.isActiveShape,z=P.xaxis,j=P.yaxis,R=!!P.domain||!P.xaxis,N=!!P.domain||!P.yaxis,Z=a(w),F=c(E,T,P,I),U={editable:!0,visible:O.visible,name:O.name,showlegend:O.showlegend,legend:O.legend,legendwidth:O.legendwidth,legendgroup:O.legendgroup,legendgrouptitle:{text:O.legendgrouptitle.text,font:O.legendgrouptitle.font},legendrank:O.legendrank,label:O.label,xref:R?"paper":z._id,yref:N?"paper":j._id,layer:O.layer,opacity:O.opacity,line:{color:O.line.color,width:O.line.width,dash:O.line.dash}};if(Z||(U.fillcolor=O.fillcolor,U.fillrule=O.fillrule),F.length===1&&(f=F[0]),f&&f.length===5&&w==="drawrect")U.type="rect",U.x0=f[0][1],U.y0=f[0][2],U.x1=f[2][1],U.y1=f[2][2];else if(f&&w==="drawline")U.type="line",U.x0=f[0][1],U.y0=f[0][2],U.x1=f[1][1],U.y1=f[1][2];else if(f&&w==="drawcircle"){U.type="circle";var V=f[b][1],te=f[h][1],Q=f[o][1],J=f[t][1],X=f[b][2],K=f[h][2],ee=f[o][2],re=f[t][2],ie=P.xaxis&&(P.xaxis.type==="date"||P.xaxis.type==="log"),ae=P.yaxis&&(P.yaxis.type==="date"||P.yaxis.type==="log");ie&&(V=s(P.xaxis,V),te=s(P.xaxis,te),Q=s(P.xaxis,Q),J=s(P.xaxis,J)),ae&&(X=s(P.yaxis,X),K=s(P.yaxis,K),ee=s(P.yaxis,ee),re=s(P.yaxis,re));var ue=(te+J)/2,pe=(X+ee)/2,de=g({x0:ue,y0:pe,x1:ue+(J-te+Q-V)/2*i,y1:pe+(re-K+ee-X)/2*n});ie&&(de.x0=l(P.xaxis,de.x0),de.x1=l(P.xaxis,de.x1)),ae&&(de.y0=l(P.yaxis,de.y0),de.y1=l(P.yaxis,de.y1)),U.x0=de.x0,U.y0=de.y0,U.x1=de.x1,U.y1=de.y1}else U.type="path",z&&j&&d(F,z,j),U.path=x(F),f=null;return U}q.exports={newShapes:function(y,m){if(y.length&&y[0][0]){var w=m.gd,f=m.isActiveShape,S=m.dragmode,T=(w.layout||{}).shapes||[];if(!k(S)&&f!==void 0){var E=w._fullLayout._activeShapeIndex;if(E<T.length)switch(w._fullLayout.shapes[E].type){case"rect":S="drawrect";break;case"circle":S="drawcircle";break;case"line":S="drawline";break;case"path":var O=T[E].path||"";S=O[O.length-1]==="Z"?"drawclosedpath":"drawopenpath"}}var P=v(y,m,S);u(w);for(var I=m.editHelpers,z=(I||{}).modifyItem,j=[],R=0;R<T.length;R++){var N=w._fullLayout.shapes[R];if(j[R]=N._input,f!==void 0&&R===w._fullLayout._activeShapeIndex){var Z=P;switch(N.type){case"line":case"rect":case"circle":z("x0",Z.x0),z("x1",Z.x1),z("y0",Z.y0),z("y1",Z.y1);break;case"path":z("path",Z.path)}}}return f===void 0?(j.push(P),j):I?I.getUpdateObj():{}}},createShapeObj:v}},51873:function(q){q.exports={clearOutlineControllers:function(C){var e=C._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()},clearOutline:function(C){var e=C._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),C._fullLayout._outlining=!1}}},30477:function(q,C,e){var M=e(21459),k=e(71828),a=e(89298);C.rangeToShapePosition=function(_){return _.type==="log"?_.r2d:function(b){return b}},C.shapePositionToRange=function(_){return _.type==="log"?_.d2r:function(b){return b}},C.decodeDate=function(_){return function(b){return b.replace&&(b=b.replace("_"," ")),_(b)}},C.encodeDate=function(_){return function(b){return _(b).replace(" ","_")}},C.extractPathCoords=function(_,b,h){var o=[];return _.match(M.segmentRE).forEach(function(t){var i=b[t.charAt(0)].drawn;if(i!==void 0){var n=t.substr(1).match(M.paramRE);if(n&&!(n.length<i)){var r=n[i],l=h?r:k.cleanNumber(r);o.push(l)}}}),o},C.getDataToPixel=function(_,b,h,o){var t,i=_._fullLayout._size;if(b)if(o==="domain")t=function(r){return b._length*(h?1-r:r)+b._offset};else{var n=C.shapePositionToRange(b);t=function(r){return b._offset+b.r2p(n(r,!0))},b.type==="date"&&(t=C.decodeDate(t))}else t=h?function(r){return i.t+i.h*(1-r)}:function(r){return i.l+i.w*r};return t},C.getPixelToData=function(_,b,h,o){var t,i=_._fullLayout._size;if(b)if(o==="domain")t=function(r){var l=(r-b._offset)/b._length;return h?1-l:l};else{var n=C.rangeToShapePosition(b);t=function(r){return n(b.p2r(r-b._offset))}}else t=h?function(r){return 1-(r-i.t)/i.h}:function(r){return(r-i.l)/i.w};return t},C.roundPositionForSharpStrokeRendering=function(_,b){var h=Math.round(b%2)===1,o=Math.round(_);return h?o+.5:o},C.makeShapesOptionsAndPlotinfo=function(_,b){var h=_._fullLayout.shapes[b]||{},o=_._fullLayout._plots[h.xref+h.yref];return o?o._hadPlotinfo=!0:(o={},h.xref&&h.xref!=="paper"&&(o.xaxis=_._fullLayout[h.xref+"axis"]),h.yref&&h.yref!=="paper"&&(o.yaxis=_._fullLayout[h.yref+"axis"])),o.xsizemode=h.xsizemode,o.ysizemode=h.ysizemode,o.xanchor=h.xanchor,o.yanchor=h.yanchor,{options:h,plotinfo:o}},C.makeSelectionsOptionsAndPlotinfo=function(_,b){var h=_._fullLayout.selections[b]||{},o=_._fullLayout._plots[h.xref+h.yref];return o?o._hadPlotinfo=!0:(o={},h.xref&&(o.xaxis=_._fullLayout[h.xref+"axis"]),h.yref&&(o.yaxis=_._fullLayout[h.yref+"axis"])),{options:h,plotinfo:o}},C.getPathString=function(_,b){var h,o,t,i,n,r,l,s,u=b.type,p=a.getRefType(b.xref),c=a.getRefType(b.yref),x=a.getFromId(_,b.xref),g=a.getFromId(_,b.yref),d=_._fullLayout._size;if(x?p==="domain"?o=function(O){return x._offset+x._length*O}:(h=C.shapePositionToRange(x),o=function(O){return x._offset+x.r2p(h(O,!0))}):o=function(O){return d.l+d.w*O},g?c==="domain"?i=function(O){return g._offset+g._length*(1-O)}:(t=C.shapePositionToRange(g),i=function(O){return g._offset+g.r2p(t(O,!0))}):i=function(O){return d.t+d.h*(1-O)},u==="path")return x&&x.type==="date"&&(o=C.decodeDate(o)),g&&g.type==="date"&&(i=C.decodeDate(i)),function(O,P,I){var z=O.path,j=O.xsizemode,R=O.ysizemode,N=O.xanchor,Z=O.yanchor;return z.replace(M.segmentRE,function(F){var U=0,V=F.charAt(0),te=M.paramIsX[V],Q=M.paramIsY[V],J=M.numParams[V],X=F.substr(1).replace(M.paramRE,function(K){return te[U]?K=j==="pixel"?P(N)+Number(K):P(K):Q[U]&&(K=R==="pixel"?I(Z)-Number(K):I(K)),++U>J&&(K="X"),K});return U>J&&(X=X.replace(/[\s,]*X.*/,""),k.log("Ignoring extra params in segment "+F)),V+X})}(b,o,i);if(b.xsizemode==="pixel"){var v=o(b.xanchor);n=v+b.x0,r=v+b.x1}else n=o(b.x0),r=o(b.x1);if(b.ysizemode==="pixel"){var y=i(b.yanchor);l=y-b.y0,s=y-b.y1}else l=i(b.y0),s=i(b.y1);if(u==="line")return"M"+n+","+l+"L"+r+","+s;if(u==="rect")return"M"+n+","+l+"H"+r+"V"+s+"H"+n+"Z";var m=(n+r)/2,w=(l+s)/2,f=Math.abs(m-n),S=Math.abs(w-l),T="A"+f+","+S,E=m+f+","+w;return"M"+E+T+" 0 1,1 "+m+","+(w-S)+T+" 0 0,1 "+E+"Z"}},89853:function(q,C,e){var M=e(34031);q.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:M.draw,drawOne:M.drawOne}},37281:function(q){function C(a,_){return _?_.d2l(a):a}function e(a,_){return _?_.l2d(a):a}function M(a,_){return C(a.x1,_)-C(a.x0,_)}function k(a,_,b){return C(a.y1,b)-C(a.y0,b)}q.exports={x0:function(a){return a.x0},x1:function(a){return a.x1},y0:function(a){return a.y0},y1:function(a){return a.y1},slope:function(a,_,b){return a.type!=="line"?void 0:k(a,0,b)/M(a,_)},dx:M,dy:k,width:function(a,_){return Math.abs(M(a,_))},height:function(a,_,b){return Math.abs(k(a,0,b))},length:function(a,_,b){return a.type!=="line"?void 0:Math.sqrt(Math.pow(M(a,_),2)+Math.pow(k(a,0,b),2))},xcenter:function(a,_){return e((C(a.x1,_)+C(a.x0,_))/2,_)},ycenter:function(a,_,b){return e((C(a.y1,b)+C(a.y0,b))/2,b)}}},75067:function(q,C,e){var M=e(41940),k=e(35025),a=e(1426).extendDeepAll,_=e(30962).overrideAll,b=e(85594),h=e(44467).templatedArray,o=e(98292),t=h("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});q.exports=_(h("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(k({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:b.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:M({})},font:M({}),activebgcolor:{valType:"color",dflt:o.gripBgActiveColor},bgcolor:{valType:"color",dflt:o.railBgColor},bordercolor:{valType:"color",dflt:o.railBorderColor},borderwidth:{valType:"number",min:0,dflt:o.railBorderWidth},ticklen:{valType:"number",min:0,dflt:o.tickLength},tickcolor:{valType:"color",dflt:o.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:o.minorTickLength}}),"arraydraw","from-root")},98292:function(q){q.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(q,C,e){var M=e(71828),k=e(85501),a=e(75067),_=e(98292).name,b=a.steps;function h(t,i,n){function r(c,x){return M.coerce(t,i,a,c,x)}for(var l=k(t,i,{name:"steps",handleItemDefaults:o}),s=0,u=0;u<l.length;u++)l[u].visible&&s++;if(s<2?i.visible=!1:r("visible")){i._stepCount=s;var p=i._visibleSteps=M.filterVisible(l);(l[r("active")]||{}).visible||(i.active=p[0]._index),r("x"),r("y"),M.noneOrAll(t,i,["x","y"]),r("xanchor"),r("yanchor"),r("len"),r("lenmode"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),M.coerceFont(r,"font",n.font),r("currentvalue.visible")&&(r("currentvalue.xanchor"),r("currentvalue.prefix"),r("currentvalue.suffix"),r("currentvalue.offset"),M.coerceFont(r,"currentvalue.font",i.font)),r("transition.duration"),r("transition.easing"),r("bgcolor"),r("activebgcolor"),r("bordercolor"),r("borderwidth"),r("ticklen"),r("tickwidth"),r("tickcolor"),r("minorticklen")}}function o(t,i){function n(l,s){return M.coerce(t,i,b,l,s)}if(t.method==="skip"||Array.isArray(t.args)?n("visible"):i.visible=!1){n("method"),n("args");var r=n("label","step-"+i._index);n("value",r),n("execute")}}q.exports=function(t,i){k(t,i,{name:_,handleItemDefaults:h})}},44504:function(q,C,e){var M=e(39898),k=e(74875),a=e(7901),_=e(91424),b=e(71828),h=b.strTranslate,o=e(63893),t=e(44467).arrayEditor,i=e(98292),n=e(18783),r=n.LINE_SPACING,l=n.FROM_TL,s=n.FROM_BR;function u(I){return i.autoMarginIdRoot+I._index}function p(I){return I._index}function c(I,z){var j=_.tester.selectAll("g."+i.labelGroupClass).data(z._visibleSteps);j.enter().append("g").classed(i.labelGroupClass,!0);var R=0,N=0;j.each(function(K){var ee=d(M.select(this),{step:K},z).node();if(ee){var re=_.bBox(ee);N=Math.max(N,re.height),R=Math.max(R,re.width)}}),j.remove();var Z=z._dims={};Z.inputAreaWidth=Math.max(i.railWidth,i.gripHeight);var F=I._fullLayout._size;Z.lx=F.l+F.w*z.x,Z.ly=F.t+F.h*(1-z.y),z.lenmode==="fraction"?Z.outerLength=Math.round(F.w*z.len):Z.outerLength=z.len,Z.inputAreaStart=0,Z.inputAreaLength=Math.round(Z.outerLength-z.pad.l-z.pad.r);var U=(Z.inputAreaLength-2*i.stepInset)/(z._stepCount-1),V=R+i.labelPadding;if(Z.labelStride=Math.max(1,Math.ceil(V/U)),Z.labelHeight=N,Z.currentValueMaxWidth=0,Z.currentValueHeight=0,Z.currentValueTotalHeight=0,Z.currentValueMaxLines=1,z.currentvalue.visible){var te=_.tester.append("g");j.each(function(K){var ee=x(te,z,K.label),re=ee.node()&&_.bBox(ee.node())||{width:0,height:0},ie=o.lineCount(ee);Z.currentValueMaxWidth=Math.max(Z.currentValueMaxWidth,Math.ceil(re.width)),Z.currentValueHeight=Math.max(Z.currentValueHeight,Math.ceil(re.height)),Z.currentValueMaxLines=Math.max(Z.currentValueMaxLines,ie)}),Z.currentValueTotalHeight=Z.currentValueHeight+z.currentvalue.offset,te.remove()}Z.height=Z.currentValueTotalHeight+i.tickOffset+z.ticklen+i.labelOffset+Z.labelHeight+z.pad.t+z.pad.b;var Q="left";b.isRightAnchor(z)&&(Z.lx-=Z.outerLength,Q="right"),b.isCenterAnchor(z)&&(Z.lx-=Z.outerLength/2,Q="center");var J="top";b.isBottomAnchor(z)&&(Z.ly-=Z.height,J="bottom"),b.isMiddleAnchor(z)&&(Z.ly-=Z.height/2,J="middle"),Z.outerLength=Math.ceil(Z.outerLength),Z.height=Math.ceil(Z.height),Z.lx=Math.round(Z.lx),Z.ly=Math.round(Z.ly);var X={y:z.y,b:Z.height*s[J],t:Z.height*l[J]};z.lenmode==="fraction"?(X.l=0,X.xl=z.x-z.len*l[Q],X.r=0,X.xr=z.x+z.len*s[Q]):(X.x=z.x,X.l=Z.outerLength*l[Q],X.r=Z.outerLength*s[Q]),k.autoMargin(I,u(z),X)}function x(I,z,j){if(z.currentvalue.visible){var R,N,Z=z._dims;switch(z.currentvalue.xanchor){case"right":R=Z.inputAreaLength-i.currentValueInset-Z.currentValueMaxWidth,N="left";break;case"center":R=.5*Z.inputAreaLength,N="middle";break;default:R=i.currentValueInset,N="left"}var F=b.ensureSingle(I,"text",i.labelClass,function(X){X.attr({"text-anchor":N,"data-notex":1})}),U=z.currentvalue.prefix?z.currentvalue.prefix:"";if(typeof j=="string")U+=j;else{var V=z.steps[z.active].label,te=z._gd._fullLayout._meta;te&&(V=b.templateString(V,te)),U+=V}z.currentvalue.suffix&&(U+=z.currentvalue.suffix),F.call(_.font,z.currentvalue.font).text(U).call(o.convertToTspans,z._gd);var Q=o.lineCount(F),J=(Z.currentValueMaxLines+1-Q)*z.currentvalue.font.size*r;return o.positionText(F,R,J),F}}function g(I,z,j){b.ensureSingle(I,"rect",i.gripRectClass,function(R){R.call(w,z,I,j).style("pointer-events","all")}).attr({width:i.gripWidth,height:i.gripHeight,rx:i.gripRadius,ry:i.gripRadius}).call(a.stroke,j.bordercolor).call(a.fill,j.bgcolor).style("stroke-width",j.borderwidth+"px")}function d(I,z,j){var R=b.ensureSingle(I,"text",i.labelClass,function(F){F.attr({"text-anchor":"middle","data-notex":1})}),N=z.step.label,Z=j._gd._fullLayout._meta;return Z&&(N=b.templateString(N,Z)),R.call(_.font,j.font).text(N).call(o.convertToTspans,j._gd),R}function v(I,z){var j=b.ensureSingle(I,"g",i.labelsClass),R=z._dims,N=j.selectAll("g."+i.labelGroupClass).data(R.labelSteps);N.enter().append("g").classed(i.labelGroupClass,!0),N.exit().remove(),N.each(function(Z){var F=M.select(this);F.call(d,Z,z),_.setTranslate(F,T(z,Z.fraction),i.tickOffset+z.ticklen+z.font.size*r+i.labelOffset+R.currentValueTotalHeight)})}function y(I,z,j,R,N){var Z=Math.round(R*(j._stepCount-1)),F=j._visibleSteps[Z]._index;F!==j.active&&m(I,z,j,F,!0,N)}function m(I,z,j,R,N,Z){var F=j.active;j.active=R,t(I.layout,i.name,j).applyUpdate("active",R);var U=j.steps[j.active];z.call(S,j,Z),z.call(x,j),I.emit("plotly_sliderchange",{slider:j,step:j.steps[j.active],interaction:N,previousActive:F}),U&&U.method&&N&&(z._nextMethod?(z._nextMethod.step=U,z._nextMethod.doCallback=N,z._nextMethod.doTransition=Z):(z._nextMethod={step:U,doCallback:N,doTransition:Z},z._nextMethodRaf=window.requestAnimationFrame(function(){var V=z._nextMethod.step;V.method&&(V.execute&&k.executeAPICommand(I,V.method,V.args),z._nextMethod=null,z._nextMethodRaf=null)})))}function w(I,z,j){if(!z._context.staticPlot){var R=j.node(),N=M.select(z);I.on("mousedown",F),I.on("touchstart",F)}function Z(){return j.data()[0]}function F(){var U=Z();z.emit("plotly_sliderstart",{slider:U});var V=j.select("."+i.gripRectClass);M.event.stopPropagation(),M.event.preventDefault(),V.call(a.fill,U.activebgcolor);var te=E(U,M.mouse(R)[0]);function Q(){var X=Z(),K=E(X,M.mouse(R)[0]);y(z,j,X,K,!1)}function J(){var X=Z();X._dragging=!1,V.call(a.fill,X.bgcolor),N.on("mouseup",null),N.on("mousemove",null),N.on("touchend",null),N.on("touchmove",null),z.emit("plotly_sliderend",{slider:X,step:X.steps[X.active]})}y(z,j,U,te,!0),U._dragging=!0,N.on("mousemove",Q),N.on("touchmove",Q),N.on("mouseup",J),N.on("touchend",J)}}function f(I,z){var j=I.selectAll("rect."+i.tickRectClass).data(z._visibleSteps),R=z._dims;j.enter().append("rect").classed(i.tickRectClass,!0),j.exit().remove(),j.attr({width:z.tickwidth+"px","shape-rendering":"crispEdges"}),j.each(function(N,Z){var F=Z%R.labelStride==0,U=M.select(this);U.attr({height:F?z.ticklen:z.minorticklen}).call(a.fill,z.tickcolor),_.setTranslate(U,T(z,Z/(z._stepCount-1))-.5*z.tickwidth,(F?i.tickOffset:i.minorTickOffset)+R.currentValueTotalHeight)})}function S(I,z,j){for(var R=I.select("rect."+i.gripRectClass),N=0,Z=0;Z<z._stepCount;Z++)if(z._visibleSteps[Z]._index===z.active){N=Z;break}var F=T(z,N/(z._stepCount-1));if(!z._invokingCommand){var U=R;j&&z.transition.duration>0&&(U=U.transition().duration(z.transition.duration).ease(z.transition.easing)),U.attr("transform",h(F-.5*i.gripWidth,z._dims.currentValueTotalHeight))}}function T(I,z){var j=I._dims;return j.inputAreaStart+i.stepInset+(j.inputAreaLength-2*i.stepInset)*Math.min(1,Math.max(0,z))}function E(I,z){var j=I._dims;return Math.min(1,Math.max(0,(z-i.stepInset-j.inputAreaStart)/(j.inputAreaLength-2*i.stepInset-2*j.inputAreaStart)))}function O(I,z,j){var R=j._dims,N=b.ensureSingle(I,"rect",i.railTouchRectClass,function(Z){Z.call(w,z,I,j).style("pointer-events","all")});N.attr({width:R.inputAreaLength,height:Math.max(R.inputAreaWidth,i.tickOffset+j.ticklen+R.labelHeight)}).call(a.fill,j.bgcolor).attr("opacity",0),_.setTranslate(N,0,R.currentValueTotalHeight)}function P(I,z){var j=z._dims,R=j.inputAreaLength-2*i.railInset,N=b.ensureSingle(I,"rect",i.railRectClass);N.attr({width:R,height:i.railWidth,rx:i.railRadius,ry:i.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,z.bordercolor).call(a.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px"),_.setTranslate(N,i.railInset,.5*(j.inputAreaWidth-i.railWidth)+j.currentValueTotalHeight)}q.exports=function(I){var z=I._context.staticPlot,j=I._fullLayout,R=function(te,Q){for(var J=te[i.name],X=[],K=0;K<J.length;K++){var ee=J[K];ee.visible&&(ee._gd=Q,X.push(ee))}return X}(j,I),N=j._infolayer.selectAll("g."+i.containerClassName).data(R.length>0?[0]:[]);function Z(te){te._commandObserver&&(te._commandObserver.remove(),delete te._commandObserver),k.autoMargin(I,u(te))}if(N.enter().append("g").classed(i.containerClassName,!0).style("cursor",z?null:"ew-resize"),N.exit().each(function(){M.select(this).selectAll("g."+i.groupClassName).each(Z)}).remove(),R.length!==0){var F=N.selectAll("g."+i.groupClassName).data(R,p);F.enter().append("g").classed(i.groupClassName,!0),F.exit().each(Z).remove();for(var U=0;U<R.length;U++){var V=R[U];c(I,V)}F.each(function(te){var Q=M.select(this);(function(J){var X=J._dims;X.labelSteps=[];for(var K=J._stepCount,ee=0;ee<K;ee+=X.labelStride)X.labelSteps.push({fraction:ee/(K-1),step:J._visibleSteps[ee]})})(te),k.manageCommandObserver(I,te,te._visibleSteps,function(J){var X=Q.data()[0];X.active!==J.index&&(X._dragging||m(I,Q,X,J.index,!1,!0))}),function(J,X,K){(K.steps[K.active]||{}).visible||(K.active=K._visibleSteps[0]._index),X.call(x,K).call(P,K).call(v,K).call(f,K).call(O,J,K).call(g,J,K);var ee=K._dims;_.setTranslate(X,ee.lx+K.pad.l,ee.ly+K.pad.t),X.call(S,K,!1),X.call(x,K)}(I,M.select(this),te)})}}},23243:function(q,C,e){var M=e(98292);q.exports={moduleType:"component",name:M.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(q,C,e){var M=e(39898),k=e(92770),a=e(74875),_=e(73972),b=e(71828),h=b.strTranslate,o=e(91424),t=e(7901),i=e(63893),n=e(37822),r=e(18783).OPPOSITE_SIDE,l=/ [XY][0-9]* /;q.exports={draw:function(s,u,p){var c,x=p.propContainer,g=p.propName,d=p.placeholder,v=p.traceIndex,y=p.avoid||{},m=p.attributes,w=p.transform,f=p.containerGroup,S=s._fullLayout,T=1,E=!1,O=x.title,P=(O&&O.text?O.text:"").trim(),I=O&&O.font?O.font:{},z=I.family,j=I.size,R=I.color;g==="title.text"?c="titleText":g.indexOf("axis")!==-1?c="axisTitleText":g.indexOf(!0)&&(c="colorbarTitleText");var N=s._context.edits[c];P===""?T=0:P.replace(l," % ")===d.replace(l," % ")&&(T=.2,E=!0,N||(P="")),p._meta?P=b.templateString(P,p._meta):S._meta&&(P=b.templateString(P,S._meta));var Z,F=P||N;f||(f=b.ensureSingle(S._infolayer,"g","g-"+u),Z=S._hColorbarMoveTitle);var U=f.selectAll("text").data(F?[0]:[]);if(U.enter().append("text"),U.text(P).attr("class",u),U.exit().remove(),!F)return f;function V(J){b.syncOrAsync([te,Q],J)}function te(J){var X;return!w&&Z&&(w={}),w?(X="",w.rotate&&(X+="rotate("+[w.rotate,m.x,m.y]+")"),(w.offset||Z)&&(X+=h(0,(w.offset||0)-(Z||0)))):X=null,J.attr("transform",X),J.style({"font-family":z,"font-size":M.round(j,2)+"px",fill:t.rgb(R),opacity:T*t.opacity(R),"font-weight":a.fontWeight}).attr(m).call(i.convertToTspans,s),a.previousPromises(s)}function Q(J){var X=M.select(J.node().parentNode);if(y&&y.selection&&y.side&&P){X.attr("transform",null);var K=r[y.side],ee=y.side==="left"||y.side==="top"?-1:1,re=k(y.pad)?y.pad:2,ie=o.bBox(X.node()),ae={t:0,b:0,l:0,r:0},ue=s._fullLayout._reservedMargin;for(var pe in ue)for(var de in ue[pe]){var ye=ue[pe][de];ae[de]=Math.max(ae[de],ye)}var be={left:ae.l,top:ae.t,right:S.width-ae.r,bottom:S.height-ae.b},me=y.maxShift||ee*(be[y.side]-ie[y.side]),Ee=0;if(me<0)Ee=me;else{var Te=y.offsetLeft||0,we=y.offsetTop||0;ie.left-=Te,ie.right-=Te,ie.top-=we,ie.bottom-=we,y.selection.each(function(){var se=o.bBox(this);b.bBoxIntersect(ie,se,re)&&(Ee=Math.max(Ee,ee*(se[y.side]-ie[K])+re))}),Ee=Math.min(me,Ee),x._titleScoot=Math.abs(Ee)}if(Ee>0||me<0){var oe={left:[-Ee,0],right:[Ee,0],top:[0,-Ee],bottom:[0,Ee]}[y.side];X.attr("transform",h(oe[0],oe[1]))}}}return U.call(V),N&&(P?U.on(".opacity",null):(T=0,E=!0,U.text(d).on("mouseover.opacity",function(){M.select(this).transition().duration(n.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){M.select(this).transition().duration(n.HIDE_PLACEHOLDER).style("opacity",0)})),U.call(i.makeEditable,{gd:s}).on("edit",function(J){v!==void 0?_.call("_guiRestyle",s,g,J,v):_.call("_guiRelayout",s,g,J)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(V)}).on("input",function(J){this.text(J||" ").call(i.positionText,m.x,m.y)})),U.classed("js-placeholder",E),f}}},7163:function(q,C,e){var M=e(41940),k=e(22399),a=e(1426).extendFlat,_=e(30962).overrideAll,b=e(35025),h=e(44467).templatedArray,o=h("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});q.exports=_(h("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:o,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(b({editType:"arraydraw"}),{}),font:M({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:k.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(q){q.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},64897:function(q,C,e){var M=e(71828),k=e(85501),a=e(7163),_=e(75909).name,b=a.buttons;function h(t,i,n){function r(l,s){return M.coerce(t,i,a,l,s)}r("visible",k(t,i,{name:"buttons",handleItemDefaults:o}).length>0)&&(r("active"),r("direction"),r("type"),r("showactive"),r("x"),r("y"),M.noneOrAll(t,i,["x","y"]),r("xanchor"),r("yanchor"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),M.coerceFont(r,"font",n.font),r("bgcolor",n.paper_bgcolor),r("bordercolor"),r("borderwidth"))}function o(t,i){function n(r,l){return M.coerce(t,i,b,r,l)}n("visible",t.method==="skip"||Array.isArray(t.args))&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}q.exports=function(t,i){k(t,i,{name:_,handleItemDefaults:h})}},13689:function(q,C,e){var M=e(39898),k=e(74875),a=e(7901),_=e(91424),b=e(71828),h=e(63893),o=e(44467).arrayEditor,t=e(18783).LINE_SPACING,i=e(75909),n=e(25849);function r(T){return T._index}function l(T,E){return+T.attr(i.menuIndexAttrName)===E._index}function s(T,E,O,P,I,z,j,R){E.active=j,o(T.layout,i.name,E).applyUpdate("active",j),E.type==="buttons"?p(T,P,null,null,E):E.type==="dropdown"&&(I.attr(i.menuIndexAttrName,"-1"),u(T,P,I,z,E),R||p(T,P,I,z,E))}function u(T,E,O,P,I){var z=b.ensureSingle(E,"g",i.headerClassName,function(U){U.style("pointer-events","all")}),j=I._dims,R=I.active,N=I.buttons[R]||i.blankHeaderOpts,Z={y:I.pad.t,yPad:0,x:I.pad.l,xPad:0,index:0},F={width:j.headerWidth,height:j.headerHeight};z.call(c,I,N,T).call(f,I,Z,F),b.ensureSingle(E,"text",i.headerArrowClassName,function(U){U.attr("text-anchor","end").call(_.font,I.font).text(i.arrowSymbol[I.direction])}).attr({x:j.headerWidth-i.arrowOffsetX+I.pad.l,y:j.headerHeight/2+i.textOffsetY+I.pad.t}),z.on("click",function(){O.call(S,String(l(O,I)?-1:I._index)),p(T,E,O,P,I)}),z.on("mouseover",function(){z.call(v)}),z.on("mouseout",function(){z.call(y,I)}),_.setTranslate(E,j.lx,j.ly)}function p(T,E,O,P,I){O||(O=E).attr("pointer-events","all");var z=function(X){return+X.attr(i.menuIndexAttrName)==-1}(O)&&I.type!=="buttons"?[]:I.buttons,j=I.type==="dropdown"?i.dropdownButtonClassName:i.buttonClassName,R=O.selectAll("g."+j).data(b.filterVisible(z)),N=R.enter().append("g").classed(j,!0),Z=R.exit();I.type==="dropdown"?(N.attr("opacity","0").transition().attr("opacity","1"),Z.transition().attr("opacity","0").remove()):Z.remove();var F=0,U=0,V=I._dims,te=["up","down"].indexOf(I.direction)!==-1;I.type==="dropdown"&&(te?U=V.headerHeight+i.gapButtonHeader:F=V.headerWidth+i.gapButtonHeader),I.type==="dropdown"&&I.direction==="up"&&(U=-i.gapButtonHeader+i.gapButton-V.openHeight),I.type==="dropdown"&&I.direction==="left"&&(F=-i.gapButtonHeader+i.gapButton-V.openWidth);var Q={x:V.lx+F+I.pad.l,y:V.ly+U+I.pad.t,yPad:i.gapButton,xPad:i.gapButton,index:0},J={l:Q.x+I.borderwidth,t:Q.y+I.borderwidth};R.each(function(X,K){var ee=M.select(this);ee.call(c,I,X,T).call(f,I,Q),ee.on("click",function(){M.event.defaultPrevented||(X.execute&&(X.args2&&I.active===K?(s(T,I,0,E,O,P,-1),k.executeAPICommand(T,X.method,X.args2)):(s(T,I,0,E,O,P,K),k.executeAPICommand(T,X.method,X.args))),T.emit("plotly_buttonclicked",{menu:I,button:X,active:I.active}))}),ee.on("mouseover",function(){ee.call(v)}),ee.on("mouseout",function(){ee.call(y,I),R.call(d,I)})}),R.call(d,I),te?(J.w=Math.max(V.openWidth,V.headerWidth),J.h=Q.y-J.t):(J.w=Q.x-J.l,J.h=Math.max(V.openHeight,V.headerHeight)),J.direction=I.direction,P&&(R.size()?function(X,K,ee,re,ie,ae){var ue,pe,de,ye=ie.direction,be=ye==="up"||ye==="down",me=ie._dims,Ee=ie.active;if(be)for(pe=0,de=0;de<Ee;de++)pe+=me.heights[de]+i.gapButton;else for(ue=0,de=0;de<Ee;de++)ue+=me.widths[de]+i.gapButton;re.enable(ae,ue,pe),re.hbar&&re.hbar.attr("opacity","0").transition().attr("opacity","1"),re.vbar&&re.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,P,I,J):function(X){var K=!!X.hbar,ee=!!X.vbar;K&&X.hbar.transition().attr("opacity","0").each("end",function(){K=!1,ee||X.disable()}),ee&&X.vbar.transition().attr("opacity","0").each("end",function(){ee=!1,K||X.disable()})}(P))}function c(T,E,O,P){T.call(x,E).call(g,E,O,P)}function x(T,E){b.ensureSingle(T,"rect",i.itemRectClassName,function(O){O.attr({rx:i.rx,ry:i.ry,"shape-rendering":"crispEdges"})}).call(a.stroke,E.bordercolor).call(a.fill,E.bgcolor).style("stroke-width",E.borderwidth+"px")}function g(T,E,O,P){var I=b.ensureSingle(T,"text",i.itemTextClassName,function(R){R.attr({"text-anchor":"start","data-notex":1})}),z=O.label,j=P._fullLayout._meta;j&&(z=b.templateString(z,j)),I.call(_.font,E.font).text(z).call(h.convertToTspans,P)}function d(T,E){var O=E.active;T.each(function(P,I){var z=M.select(this);I===O&&E.showactive&&z.select("rect."+i.itemRectClassName).call(a.fill,i.activeColor)})}function v(T){T.select("rect."+i.itemRectClassName).call(a.fill,i.hoverColor)}function y(T,E){T.select("rect."+i.itemRectClassName).call(a.fill,E.bgcolor)}function m(T,E){var O=E._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},P=_.tester.selectAll("g."+i.dropdownButtonClassName).data(b.filterVisible(E.buttons));P.enter().append("g").classed(i.dropdownButtonClassName,!0);var I=["up","down"].indexOf(E.direction)!==-1;P.each(function(F,U){var V=M.select(this);V.call(c,E,F,T);var te=V.select("."+i.itemTextClassName),Q=te.node()&&_.bBox(te.node()).width,J=Math.max(Q+i.textPadX,i.minWidth),X=E.font.size*t,K=h.lineCount(te),ee=Math.max(X*K,i.minHeight)+i.textOffsetY;ee=Math.ceil(ee),J=Math.ceil(J),O.widths[U]=J,O.heights[U]=ee,O.height1=Math.max(O.height1,ee),O.width1=Math.max(O.width1,J),I?(O.totalWidth=Math.max(O.totalWidth,J),O.openWidth=O.totalWidth,O.totalHeight+=ee+i.gapButton,O.openHeight+=ee+i.gapButton):(O.totalWidth+=J+i.gapButton,O.openWidth+=J+i.gapButton,O.totalHeight=Math.max(O.totalHeight,ee),O.openHeight=O.totalHeight)}),I?O.totalHeight-=i.gapButton:O.totalWidth-=i.gapButton,O.headerWidth=O.width1+i.arrowPadX,O.headerHeight=O.height1,E.type==="dropdown"&&(I?(O.width1+=i.arrowPadX,O.totalHeight=O.height1):O.totalWidth=O.width1,O.totalWidth+=i.arrowPadX),P.remove();var z=O.totalWidth+E.pad.l+E.pad.r,j=O.totalHeight+E.pad.t+E.pad.b,R=T._fullLayout._size;O.lx=R.l+R.w*E.x,O.ly=R.t+R.h*(1-E.y);var N="left";b.isRightAnchor(E)&&(O.lx-=z,N="right"),b.isCenterAnchor(E)&&(O.lx-=z/2,N="center");var Z="top";b.isBottomAnchor(E)&&(O.ly-=j,Z="bottom"),b.isMiddleAnchor(E)&&(O.ly-=j/2,Z="middle"),O.totalWidth=Math.ceil(O.totalWidth),O.totalHeight=Math.ceil(O.totalHeight),O.lx=Math.round(O.lx),O.ly=Math.round(O.ly),k.autoMargin(T,w(E),{x:E.x,y:E.y,l:z*({right:1,center:.5}[N]||0),r:z*({left:1,center:.5}[N]||0),b:j*({top:1,middle:.5}[Z]||0),t:j*({bottom:1,middle:.5}[Z]||0)})}function w(T){return i.autoMarginIdRoot+T._index}function f(T,E,O,P){P=P||{};var I=T.select("."+i.itemRectClassName),z=T.select("."+i.itemTextClassName),j=E.borderwidth,R=O.index,N=E._dims;_.setTranslate(T,j+O.x,j+O.y);var Z=["up","down"].indexOf(E.direction)!==-1,F=P.height||(Z?N.heights[R]:N.height1);I.attr({x:0,y:0,width:P.width||(Z?N.width1:N.widths[R]),height:F});var U=E.font.size*t,V=(h.lineCount(z)-1)*U/2;h.positionText(z,i.textOffsetX,F/2-V+i.textOffsetY),Z?O.y+=N.heights[R]+O.yPad:O.x+=N.widths[R]+O.xPad,O.index++}function S(T,E){T.attr(i.menuIndexAttrName,E||"-1").selectAll("g."+i.dropdownButtonClassName).remove()}q.exports=function(T){var E=T._fullLayout,O=b.filterVisible(E[i.name]);function P(U){k.autoMargin(T,w(U))}var I=E._menulayer.selectAll("g."+i.containerClassName).data(O.length>0?[0]:[]);if(I.enter().append("g").classed(i.containerClassName,!0).style("cursor","pointer"),I.exit().each(function(){M.select(this).selectAll("g."+i.headerGroupClassName).each(P)}).remove(),O.length!==0){var z=I.selectAll("g."+i.headerGroupClassName).data(O,r);z.enter().append("g").classed(i.headerGroupClassName,!0);for(var j=b.ensureSingle(I,"g",i.dropdownButtonGroupClassName,function(U){U.style("pointer-events","all")}),R=0;R<O.length;R++){var N=O[R];m(T,N)}var Z="updatemenus"+E._uid,F=new n(T,j,Z);z.enter().size()&&(j.node().parentNode.appendChild(j.node()),j.call(S)),z.exit().each(function(U){j.call(S),P(U)}).remove(),z.each(function(U){var V=M.select(this),te=U.type==="dropdown"?j:null;k.manageCommandObserver(T,U,U.buttons,function(Q){s(T,U,U.buttons[Q.index],V,te,F,Q.index,!0)}),U.type==="dropdown"?(u(T,V,j,F,U),l(j,U)&&p(T,V,j,F,U)):p(T,V,null,null,U)})}}},20763:function(q,C,e){var M=e(75909);q.exports={moduleType:"component",name:M.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(q,C,e){q.exports=b;var M=e(39898),k=e(7901),a=e(91424),_=e(71828);function b(h,o,t){this.gd=h,this.container=o,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}b.barWidth=2,b.barLength=20,b.barRadius=2,b.barPad=1,b.barColor="#808BA4",b.prototype.enable=function(h,o,t){var i=this.gd._fullLayout,n=i.width,r=i.height;this.position=h;var l,s,u,p,c=this.position.l,x=this.position.w,g=this.position.t,d=this.position.h,v=this.position.direction,y=v==="down",m=v==="left",w=v==="up",f=x,S=d;y||m||v==="right"||w||(this.position.direction="down",y=!0),y||w?(s=(l=c)+f,y?(u=g,S=(p=Math.min(u+S,r))-u):S=(p=g+S)-(u=Math.max(p-S,0))):(p=(u=g)+S,m?f=(s=c+f)-(l=Math.max(s-f,0)):(l=c,f=(s=Math.min(l+f,n))-l)),this._box={l,t:u,w:f,h:S};var T=x>f,E=b.barLength+2*b.barPad,O=b.barWidth+2*b.barPad,P=c,I=g+d;I+O>r&&(I=r-O);var z=this.container.selectAll("rect.scrollbar-horizontal").data(T?[0]:[]);z.exit().on(".drag",null).remove(),z.enter().append("rect").classed("scrollbar-horizontal",!0).call(k.fill,b.barColor),T?(this.hbar=z.attr({rx:b.barRadius,ry:b.barRadius,x:P,y:I,width:E,height:O}),this._hbarXMin=P+E/2,this._hbarTranslateMax=f-E):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var j=d>S,R=b.barWidth+2*b.barPad,N=b.barLength+2*b.barPad,Z=c+x,F=g;Z+R>n&&(Z=n-R);var U=this.container.selectAll("rect.scrollbar-vertical").data(j?[0]:[]);U.exit().on(".drag",null).remove(),U.enter().append("rect").classed("scrollbar-vertical",!0).call(k.fill,b.barColor),j?(this.vbar=U.attr({rx:b.barRadius,ry:b.barRadius,x:Z,y:F,width:R,height:N}),this._vbarYMin=F+N/2,this._vbarTranslateMax=S-N):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var V=this.id,te=l-.5,Q=j?s+R+.5:s+.5,J=u-.5,X=T?p+O+.5:p+.5,K=i._topdefs.selectAll("#"+V).data(T||j?[0]:[]);if(K.exit().remove(),K.enter().append("clipPath").attr("id",V).append("rect"),T||j?(this._clipRect=K.select("rect").attr({x:Math.floor(te),y:Math.floor(J),width:Math.ceil(Q)-Math.floor(te),height:Math.ceil(X)-Math.floor(J)}),this.container.call(a.setClipUrl,V,this.gd),this.bg.attr({x:c,y:g,width:x,height:d})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),T||j){var ee=M.behavior.drag().on("dragstart",function(){M.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(ee);var re=M.behavior.drag().on("dragstart",function(){M.event.sourceEvent.preventDefault(),M.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));T&&this.hbar.on(".drag",null).call(re),j&&this.vbar.on(".drag",null).call(re)}this.setTranslate(o,t)},b.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},b.prototype._onBoxDrag=function(){var h=this.translateX,o=this.translateY;this.hbar&&(h-=M.event.dx),this.vbar&&(o-=M.event.dy),this.setTranslate(h,o)},b.prototype._onBoxWheel=function(){var h=this.translateX,o=this.translateY;this.hbar&&(h+=M.event.deltaY),this.vbar&&(o+=M.event.deltaY),this.setTranslate(h,o)},b.prototype._onBarDrag=function(){var h=this.translateX,o=this.translateY;if(this.hbar){var t=h+this._hbarXMin,i=t+this._hbarTranslateMax;h=(_.constrain(M.event.x,t,i)-t)/(i-t)*(this.position.w-this._box.w)}if(this.vbar){var n=o+this._vbarYMin,r=n+this._vbarTranslateMax;o=(_.constrain(M.event.y,n,r)-n)/(r-n)*(this.position.h-this._box.h)}this.setTranslate(h,o)},b.prototype.setTranslate=function(h,o){var t=this.position.w-this._box.w,i=this.position.h-this._box.h;if(h=_.constrain(h||0,0,t),o=_.constrain(o||0,0,i),this.translateX=h,this.translateY=o,this.container.call(a.setTranslate,this._box.l-this.position.l-h,this._box.t-this.position.t-o),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+h-.5),y:Math.floor(this.position.t+o-.5)}),this.hbar){var n=h/t;this.hbar.call(a.setTranslate,h+n*this._hbarTranslateMax,o)}if(this.vbar){var r=o/i;this.vbar.call(a.setTranslate,h,o+r*this._vbarTranslateMax)}}},18783:function(q){q.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(q){q.exports={axisRefDescription:function(C,e,M){return["If set to a",C,"axis id (e.g. *"+C+"* or","*"+C+"2*), the `"+C+"` position refers to a",C,"coordinate. If set to *paper*, the `"+C+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+M+"). If set to a",C,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+C+"2 domain* refers to the domain of the second",C," axis and a",C,"position of 0.5 refers to the","point between the",e,"and the",M,"of the domain of the","second",C,"axis."].join(" ")}}},22372:function(q){q.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},31562:function(q){q.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(q){q.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(q){q.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(q){q.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},37822:function(q){q.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(q){q.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},32396:function(q,C){C.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],C.STYLE=C.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},77922:function(q,C){C.xmlns="http://www.w3.org/2000/xmlns/",C.svg="http://www.w3.org/2000/svg",C.xlink="http://www.w3.org/1999/xlink",C.svgAttrs={xmlns:C.svg,"xmlns:xlink":C.xlink}},8729:function(q,C,e){C.version=e(11506).version,e(7417),e(98847);for(var M=e(73972),k=C.register=M.register,a=e(10641),_=Object.keys(a),b=0;b<_.length;b++){var h=_[b];h.charAt(0)!=="_"&&(C[h]=a[h]),k({moduleType:"apiMethod",name:h,fn:a[h]})}k(e(67368)),k([e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(2199),e(30211),e(64168)]),k([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(k(window.PlotlyLocales),delete window.PlotlyLocales),C.Icons=e(24255);var o=e(30211),t=e(74875);C.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},C.Fx={hover:o.hover,unhover:o.unhover,loneHover:o.loneHover,loneUnhover:o.loneUnhover},C.Snapshot=e(44511),C.PlotSchema=e(86281)},24255:function(q){q.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(q,C){C.isLeftAnchor=function(e){return e.xanchor==="left"||e.xanchor==="auto"&&e.x<=.3333333333333333},C.isCenterAnchor=function(e){return e.xanchor==="center"||e.xanchor==="auto"&&e.x>.3333333333333333&&e.x<.6666666666666666},C.isRightAnchor=function(e){return e.xanchor==="right"||e.xanchor==="auto"&&e.x>=.6666666666666666},C.isTopAnchor=function(e){return e.yanchor==="top"||e.yanchor==="auto"&&e.y>=.6666666666666666},C.isMiddleAnchor=function(e){return e.yanchor==="middle"||e.yanchor==="auto"&&e.y>.3333333333333333&&e.y<.6666666666666666},C.isBottomAnchor=function(e){return e.yanchor==="bottom"||e.yanchor==="auto"&&e.y<=.3333333333333333}},26348:function(q,C,e){var M=e(64872),k=M.mod,a=M.modHalf,_=Math.PI,b=2*_;function h(n){return Math.abs(n[1]-n[0])>b-1e-14}function o(n,r){return a(r-n,b)}function t(n,r){if(h(r))return!0;var l,s;r[0]<r[1]?(l=r[0],s=r[1]):(l=r[1],s=r[0]),(l=k(l,b))>(s=k(s,b))&&(s+=b);var u=k(n,b),p=u+b;return u>=l&&u<=s||p>=l&&p<=s}function i(n,r,l,s,u,p,c){u=u||0,p=p||0;var x,g,d,v,y,m=h([l,s]);function w(E,O){return[E*Math.cos(O)+u,p-E*Math.sin(O)]}m?(x=0,g=_,d=b):l<s?(x=l,d=s):(x=s,d=l),n<r?(v=n,y=r):(v=r,y=n);var f,S=Math.abs(d-x)<=_?0:1;function T(E,O,P){return"A"+[E,E]+" "+[0,S,P]+" "+w(E,O)}return m?f=v===null?"M"+w(y,x)+T(y,g,0)+T(y,d,0)+"Z":"M"+w(v,x)+T(v,g,0)+T(v,d,0)+"ZM"+w(y,x)+T(y,g,1)+T(y,d,1)+"Z":v===null?(f="M"+w(y,x)+T(y,d,0),c&&(f+="L0,0Z")):f="M"+w(v,x)+"L"+w(y,x)+T(y,d,0)+"L"+w(v,d)+T(v,x,1)+"Z",f}q.exports={deg2rad:function(n){return n/180*_},rad2deg:function(n){return n/_*180},angleDelta:o,angleDist:function(n,r){return Math.abs(o(n,r))},isFullCircle:h,isAngleInsideSector:t,isPtInsideSector:function(n,r,l,s){return!!t(r,s)&&(l[0]<l[1]?(u=l[0],p=l[1]):(u=l[1],p=l[0]),n>=u&&n<=p);var u,p},pathArc:function(n,r,l,s,u){return i(null,n,r,l,s,u,0)},pathSector:function(n,r,l,s,u){return i(null,n,r,l,s,u,1)},pathAnnulus:function(n,r,l,s,u,p){return i(n,r,l,s,u,p,1)}}},73627:function(q,C,e){var M=e(11631).decode,k=e(41965),a=Array.isArray,_=ArrayBuffer,b=DataView;function h(r){return _.isView(r)&&!(r instanceof b)}function o(r){return a(r)||h(r)}C.isTypedArray=h,C.isArrayOrTypedArray=o,C.isArray1D=function(r){return!o(r[0])},C.ensureArray=function(r,l){return a(r)||(r=[]),r.length=l,r};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};function i(r){return r.constructor===ArrayBuffer}function n(r,l,s){if(o(r)){if(o(r[0])){for(var u=s,p=0;p<r.length;p++)u=l(u,r[p].length);return u}return r.length}return 0}t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8,C.isArrayBuffer=i,C.decodeTypedArraySpec=function(r){var l=[],s=function(E){return{bdata:E.bdata,dtype:E.dtype,shape:E.shape}}(r),u=s.dtype,p=t[u];if(!p)throw new Error('Error in dtype: "'+u+'"');var c=p.BYTES_PER_ELEMENT,x=s.bdata;i(x)||(x=M(x));var g=s.shape===void 0?[x.byteLength/c]:(""+s.shape).split(",");g.reverse();var d,v,y=g.length,m=+g[0],w=c*m,f=0;if(y===1)l=new p(x);else if(y===2)for(d=+g[1],v=0;v<d;v++)l[v]=new p(x,f,m),f+=w;else{if(y!==3)throw new Error("ndim: "+y+'is not supported with the shape:"'+s.shape+'"');d=+g[1];for(var S=+g[2],T=0;T<S;T++)for(l[T]=[],v=0;v<d;v++)l[T][v]=new p(x,f,m),f+=w}return l.bdata=s.bdata,l.dtype=s.dtype,l.shape=g.reverse().join(","),r._inputArray=l,l},C.isTypedArraySpec=function(r){return k(r)&&r.hasOwnProperty("dtype")&&typeof r.dtype=="string"&&r.hasOwnProperty("bdata")&&(typeof r.bdata=="string"||i(r.bdata))&&(r.shape===void 0||r.hasOwnProperty("shape")&&(typeof r.shape=="string"||typeof r.shape=="number"))},C.concat=function(){var r,l,s,u,p,c,x,g,d=[],v=!0,y=0;for(s=0;s<arguments.length;s++)(c=(u=arguments[s]).length)&&(l?d.push(u):(l=u,p=c),a(u)?r=!1:(v=!1,y?r!==u.constructor&&(r=!1):r=u.constructor),y+=c);if(!y)return[];if(!d.length)return l;if(v)return l.concat.apply(l,d);if(r){for((x=new r(y)).set(l),s=0;s<d.length;s++)u=d[s],x.set(u,p),p+=u.length;return x}for(x=new Array(y),g=0;g<l.length;g++)x[g]=l[g];for(s=0;s<d.length;s++){for(u=d[s],g=0;g<u.length;g++)x[p+g]=u[g];p+=g}return x},C.maxRowLength=function(r){return n(r,Math.max,0)},C.minRowLength=function(r){return n(r,Math.min,1/0)}},95218:function(q,C,e){var M=e(92770),k=e(50606).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;q.exports=function(_){return typeof _=="string"&&(_=_.replace(a,"")),M(_)?Number(_):k}},33306:function(q){q.exports=function(C){var e=C._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each(function(M){M.regl&&M.regl.clear({color:!0,depth:!0})})}},86367:function(q){q.exports=function(C){C._responsiveChartHandler&&(window.removeEventListener("resize",C._responsiveChartHandler),delete C._responsiveChartHandler)}},96554:function(q,C,e){var M=e(92770),k=e(84267),a=e(9012),_=e(63282),b=e(7901),h=e(37822).DESELECTDIM,o=e(65487),t=e(30587).counter,i=e(64872).modHalf,n=e(73627).isArrayOrTypedArray,r=e(73627).isTypedArraySpec,l=e(73627).decodeTypedArraySpec;function s(u,p){var c=C.valObjectMeta[p.valType];if(p.arrayOk&&n(u))return!0;if(c.validateFunction)return c.validateFunction(u,p);var x={},g=x,d={set:function(v){g=v}};return c.coerceFunction(u,d,x,p),g!==x}C.valObjectMeta={data_array:{coerceFunction:function(u,p,c){p.set(n(u)?u:r(u)?l(u):c)}},enumerated:{coerceFunction:function(u,p,c,x){x.coerceNumber&&(u=+u),x.values.indexOf(u)===-1?p.set(c):p.set(u)},validateFunction:function(u,p){p.coerceNumber&&(u=+u);for(var c=p.values,x=0;x<c.length;x++){var g=String(c[x]);if(g.charAt(0)==="/"&&g.charAt(g.length-1)==="/"){if(new RegExp(g.substr(1,g.length-2)).test(u))return!0}else if(u===c[x])return!0}return!1}},boolean:{coerceFunction:function(u,p,c){u===!0||u===!1?p.set(u):p.set(c)}},number:{coerceFunction:function(u,p,c,x){!M(u)||x.min!==void 0&&u<x.min||x.max!==void 0&&u>x.max?p.set(c):p.set(+u)}},integer:{coerceFunction:function(u,p,c,x){u%1||!M(u)||x.min!==void 0&&u<x.min||x.max!==void 0&&u>x.max?p.set(c):p.set(+u)}},string:{coerceFunction:function(u,p,c,x){if(typeof u!="string"){var g=typeof u=="number";x.strict!==!0&&g?p.set(String(u)):p.set(c)}else x.noBlank&&!u?p.set(c):p.set(u)}},color:{coerceFunction:function(u,p,c){k(u).isValid()?p.set(u):p.set(c)}},colorlist:{coerceFunction:function(u,p,c){Array.isArray(u)&&u.length&&u.every(function(x){return k(x).isValid()})?p.set(u):p.set(c)}},colorscale:{coerceFunction:function(u,p,c){p.set(_.get(u,c))}},angle:{coerceFunction:function(u,p,c){u==="auto"?p.set("auto"):M(u)?p.set(i(+u,360)):p.set(c)}},subplotid:{coerceFunction:function(u,p,c,x){var g=x.regex||t(c);typeof u=="string"&&g.test(u)?p.set(u):p.set(c)},validateFunction:function(u,p){var c=p.dflt;return u===c||typeof u=="string"&&!!t(c).test(u)}},flaglist:{coerceFunction:function(u,p,c,x){if((x.extras||[]).indexOf(u)===-1)if(typeof u=="string"){for(var g=u.split("+"),d=0;d<g.length;){var v=g[d];x.flags.indexOf(v)===-1||g.indexOf(v)<d?g.splice(d,1):d++}g.length?p.set(g.join("+")):p.set(c)}else p.set(c);else p.set(u)}},any:{coerceFunction:function(u,p,c){u===void 0?p.set(c):p.set(r(u)?l(u):u)}},info_array:{coerceFunction:function(u,p,c,x){function g(j,R,N){var Z,F={set:function(U){Z=U}};return N===void 0&&(N=R.dflt),C.valObjectMeta[R.valType].coerceFunction(j,F,N,R),Z}if(r(u)&&(u=l(u)),n(u)){var d,v,y,m,w,f,S=x.dimensions===2||x.dimensions==="1-2"&&Array.isArray(u)&&n(u[0]),T=x.items,E=[],O=Array.isArray(T),P=O&&S&&n(T[0]),I=S&&O&&!P,z=O&&!I?T.length:u.length;if(c=Array.isArray(c)?c:[],S)for(d=0;d<z;d++)for(E[d]=[],y=n(u[d])?u[d]:[],w=I?T.length:O?T[d].length:y.length,v=0;v<w;v++)m=I?T[v]:O?T[d][v]:T,(f=g(y[v],m,(c[d]||[])[v]))!==void 0&&(E[d][v]=f);else for(d=0;d<z;d++)(f=g(u[d],O?T[d]:T,c[d]))!==void 0&&(E[d]=f);p.set(E)}else p.set(c)},validateFunction:function(u,p){if(!n(u))return!1;var c=p.items,x=Array.isArray(c),g=p.dimensions===2;if(!p.freeLength&&u.length!==c.length)return!1;for(var d=0;d<u.length;d++)if(g){if(!n(u[d])||!p.freeLength&&u[d].length!==c[d].length)return!1;for(var v=0;v<u[d].length;v++)if(!s(u[d][v],x?c[d][v]:c))return!1}else if(!s(u[d],x?c[d]:c))return!1;return!0}}},C.coerce=function(u,p,c,x,g){var d=o(c,x).get(),v=o(u,x),y=o(p,x),m=v.get(),w=p._template;if(m===void 0&&w&&(m=o(w,x).get(),w=0),g===void 0&&(g=d.dflt),d.arrayOk){if(n(m))return y.set(m),m;if(r(m))return m=l(m),y.set(m),m}var f=C.valObjectMeta[d.valType].coerceFunction;f(m,y,g,d);var S=y.get();return w&&S===g&&!s(m,d)&&(f(m=o(w,x).get(),y,g,d),S=y.get()),S},C.coerce2=function(u,p,c,x,g){var d=o(u,x),v=C.coerce(u,p,c,x,g);return d.get()!=null&&v},C.coerceFont=function(u,p,c){var x={};return c=c||{},x.family=u(p+".family",c.family),x.size=u(p+".size",c.size),x.color=u(p+".color",c.color),x},C.coercePattern=function(u,p,c,x){if(u(p+".shape")){u(p+".solidity"),u(p+".size");var g=u(p+".fillmode")==="overlay";if(!x){var d=u(p+".bgcolor",g?c:void 0);u(p+".fgcolor",g?b.contrast(d):c)}u(p+".fgopacity",g?.5:1)}},C.coerceHoverinfo=function(u,p,c){var x,g=p._module.attributes,d=g.hoverinfo?g:a,v=d.hoverinfo;if(c._dataLength===1){var y=v.dflt==="all"?v.flags.slice():v.dflt.split("+");y.splice(y.indexOf("name"),1),x=y.join("+")}return C.coerce(u,p,d,"hoverinfo",x)},C.coerceSelectionMarkerOpacity=function(u,p){if(u.marker){var c,x,g=u.marker.opacity;g!==void 0&&(n(g)||u.selected||u.unselected||(c=g,x=h*g),p("selected.marker.opacity",c),p("unselected.marker.opacity",x))}},C.validate=s},41631:function(q,C,e){var M,k,a=e(84096).i$,_=e(92770),b=e(47769),h=e(64872).mod,o=e(50606),t=o.BADNUM,i=o.ONEDAY,n=o.ONEHOUR,r=o.ONEMIN,l=o.ONESEC,s=o.EPOCHJD,u=e(73972),p=e(84096).g0,c=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,x=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,g=new Date().getFullYear()-70;function d(z){return z&&u.componentsRegistry.calendars&&typeof z=="string"&&z!=="gregorian"}function v(z,j){return String(z+Math.pow(10,j)).substr(1)}C.dateTick0=function(z,j){var R=function(Z,F){return d(Z)?F?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[Z]:u.getComponentMethod("calendars","CANONICAL_TICK")[Z]:F?"2000-01-02":"2000-01-01"}(z,!!j);if(j<2)return R;var N=C.dateTime2ms(R,z);return N+=i*(j-1),C.ms2DateTime(N,0,z)},C.dfltRange=function(z){return d(z)?u.getComponentMethod("calendars","DFLTRANGE")[z]:["2000-01-01","2001-01-01"]},C.isJSDate=function(z){return typeof z=="object"&&z!==null&&typeof z.getTime=="function"},C.dateTime2ms=function(z,j){if(C.isJSDate(z)){var R=z.getTimezoneOffset()*r,N=(z.getUTCMinutes()-z.getMinutes())*r+(z.getUTCSeconds()-z.getSeconds())*l+(z.getUTCMilliseconds()-z.getMilliseconds());if(N){var Z=3*r;R=R-Z/2+h(N-R+Z/2,Z)}return(z=Number(z)-R)>=M&&z<=k?z:t}if(typeof z!="string"&&typeof z!="number")return t;z=String(z);var F=d(j),U=z.charAt(0);!F||U!=="G"&&U!=="g"||(z=z.substr(1),j="");var V=F&&j.substr(0,7)==="chinese",te=z.match(V?x:c);if(!te)return t;var Q=te[1],J=te[3]||"1",X=Number(te[5]||1),K=Number(te[7]||0),ee=Number(te[9]||0),re=Number(te[11]||0);if(F){if(Q.length===2)return t;var ie;Q=Number(Q);try{var ae=u.getComponentMethod("calendars","getCal")(j);if(V){var ue=J.charAt(J.length-1)==="i";J=parseInt(J,10),ie=ae.newDate(Q,ae.toMonthIndex(Q,J,ue),X)}else ie=ae.newDate(Q,Number(J),X)}catch{return t}return ie?(ie.toJD()-s)*i+K*n+ee*r+re*l:t}Q=Q.length===2?(Number(Q)+2e3-g)%100+g:Number(Q),J-=1;var pe=new Date(Date.UTC(2e3,J,X,K,ee));return pe.setUTCFullYear(Q),pe.getUTCMonth()!==J||pe.getUTCDate()!==X?t:pe.getTime()+re*l},M=C.MIN_MS=C.dateTime2ms("-9999"),k=C.MAX_MS=C.dateTime2ms("9999-12-31 23:59:59.9999"),C.isDateTime=function(z,j){return C.dateTime2ms(z,j)!==t};var y=90*i,m=3*n,w=5*r;function f(z,j,R,N,Z){if((j||R||N||Z)&&(z+=" "+v(j,2)+":"+v(R,2),(N||Z)&&(z+=":"+v(N,2),Z))){for(var F=4;Z%10==0;)F-=1,Z/=10;z+="."+v(Z,F)}return z}C.ms2DateTime=function(z,j,R){if(typeof z!="number"||!(z>=M&&z<=k))return t;j||(j=0);var N,Z,F,U,V,te,Q=Math.floor(10*h(z+.05,1)),J=Math.round(z-Q/10);if(d(R)){var X=Math.floor(J/i)+s,K=Math.floor(h(z,i));try{N=u.getComponentMethod("calendars","getCal")(R).fromJD(X).formatDate("yyyy-mm-dd")}catch{N=p("G%Y-%m-%d")(new Date(J))}if(N.charAt(0)==="-")for(;N.length<11;)N="-0"+N.substr(1);else for(;N.length<10;)N="0"+N;Z=j<y?Math.floor(K/n):0,F=j<y?Math.floor(K%n/r):0,U=j<m?Math.floor(K%r/l):0,V=j<w?K%l*10+Q:0}else te=new Date(J),N=p("%Y-%m-%d")(te),Z=j<y?te.getUTCHours():0,F=j<y?te.getUTCMinutes():0,U=j<m?te.getUTCSeconds():0,V=j<w?10*te.getUTCMilliseconds()+Q:0;return f(N,Z,F,U,V)},C.ms2DateTimeLocal=function(z){if(!(z>=M+i&&z<=k-i))return t;var j=Math.floor(10*h(z+.05,1)),R=new Date(Math.round(z-j/10));return f(a("%Y-%m-%d")(R),R.getHours(),R.getMinutes(),R.getSeconds(),10*R.getUTCMilliseconds()+j)},C.cleanDate=function(z,j,R){if(z===t)return j;if(C.isJSDate(z)||typeof z=="number"&&isFinite(z)){if(d(R))return b.error("JS Dates and milliseconds are incompatible with world calendars",z),j;if(!(z=C.ms2DateTimeLocal(+z))&&j!==void 0)return j}else if(!C.isDateTime(z,R))return b.error("unrecognized date",z),j;return z};var S=/%\d?f/g,T=/%h/g,E={1:"1",2:"1",3:"2",4:"2"};function O(z,j,R,N){z=z.replace(S,function(F){var U=Math.min(+F.charAt(1)||6,6);return(j/1e3%1+2).toFixed(U).substr(2).replace(/0+$/,"")||"0"});var Z=new Date(Math.floor(j+.05));if(z=z.replace(T,function(){return E[R("%q")(Z)]}),d(N))try{z=u.getComponentMethod("calendars","worldCalFmt")(z,j,N)}catch{return"Invalid"}return R(z)(Z)}var P=[59,59.9,59.99,59.999,59.9999];C.formatDate=function(z,j,R,N,Z,F){if(Z=d(Z)&&Z,!j)if(R==="y")j=F.year;else if(R==="m")j=F.month;else{if(R!=="d")return function(U,V){var te=h(U+.05,i),Q=v(Math.floor(te/n),2)+":"+v(h(Math.floor(te/r),60),2);if(V!=="M"){_(V)||(V=0);var J=(100+Math.min(h(U/l,60),P[V])).toFixed(V).substr(1);V>0&&(J=J.replace(/0+$/,"").replace(/[\.]$/,"")),Q+=":"+J}return Q}(z,R)+`
`+O(F.dayMonthYear,z,N,Z);j=F.dayMonth+`
`+F.year}return O(j,z,N,Z)};var I=3*i;C.incrementMonth=function(z,j,R){R=d(R)&&R;var N=h(z,i);if(z=Math.round(z-N),R)try{var Z=Math.round(z/i)+s,F=u.getComponentMethod("calendars","getCal")(R),U=F.fromJD(Z);return j%12?F.add(U,j,"m"):F.add(U,j/12,"y"),(U.toJD()-s)*i+N}catch{b.error("invalid ms "+z+" in calendar "+R)}var V=new Date(z+I);return V.setUTCMonth(V.getUTCMonth()+j)+N-I},C.findExactDates=function(z,j){for(var R,N,Z=0,F=0,U=0,V=0,te=d(j)&&u.getComponentMethod("calendars","getCal")(j),Q=0;Q<z.length;Q++)if(N=z[Q],_(N)){if(!(N%i))if(te)try{(R=te.fromJD(N/i+s)).day()===1?R.month()===1?Z++:F++:U++}catch{}else(R=new Date(N)).getUTCDate()===1?R.getUTCMonth()===0?Z++:F++:U++}else V++;U+=F+=Z;var J=z.length-V;return{exactYears:Z/J,exactMonths:F/J,exactDays:U/J}}},24401:function(q,C,e){var M=e(39898),k=e(47769),a=e(35657),_=e(79576);function b(n){var r=n&&n.parentNode;r&&r.removeChild(n)}function h(n,r,l){var s="plotly.js-style-"+n,u=document.getElementById(s);u||((u=document.createElement("style")).setAttribute("id",s),u.appendChild(document.createTextNode("")),document.head.appendChild(u));var p=u.sheet;p.insertRule?p.insertRule(r+"{"+l+"}",0):p.addRule?p.addRule(r,l,0):k.warn("addStyleRule failed")}function o(n){var r=window.getComputedStyle(n,null),l=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("-moz-transform")||r.getPropertyValue("-ms-transform")||r.getPropertyValue("-o-transform")||r.getPropertyValue("transform");return l==="none"?null:l.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(s){return+s})}function t(n){for(var r=[];i(n);)r.push(n),n=n.parentNode;return r}function i(n){return n&&(n instanceof Element||n instanceof HTMLElement)}q.exports={getGraphDiv:function(n){var r;if(typeof n=="string"){if((r=document.getElementById(n))===null)throw new Error("No DOM element with id '"+n+"' exists on the page.");return r}if(n==null)throw new Error("DOM element provided is null or undefined");return n},isPlotDiv:function(n){var r=M.select(n);return r.node()instanceof HTMLElement&&r.size()&&r.classed("js-plotly-plot")},removeElement:b,addStyleRule:function(n,r){h("global",n,r)},addRelatedStyleRule:h,deleteRelatedStyleRule:function(n){var r="plotly.js-style-"+n,l=document.getElementById(r);l&&b(l)},getFullTransformMatrix:function(n){var r=t(n),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return r.forEach(function(s){var u=o(s);if(u){var p=a.convertCssMatrix(u);l=_.multiply(l,l,p)}}),l},getElementTransformMatrix:o,getElementAndAncestors:t,equalDomRects:function(n,r){return n&&r&&n.top===r.top&&n.left===r.left&&n.right===r.right&&n.bottom===r.bottom}}},11086:function(q,C,e){var M=e(15398).EventEmitter,k={init:function(a){if(a._ev instanceof M)return a;var _=new M,b=new M;return a._ev=_,a._internalEv=b,a.on=_.on.bind(_),a.once=_.once.bind(_),a.removeListener=_.removeListener.bind(_),a.removeAllListeners=_.removeAllListeners.bind(_),a._internalOn=b.on.bind(b),a._internalOnce=b.once.bind(b),a._removeInternalListener=b.removeListener.bind(b),a._removeAllInternalListeners=b.removeAllListeners.bind(b),a.emit=function(h,o){typeof jQuery<"u"&&jQuery(a).trigger(h,o),_.emit(h,o),b.emit(h,o)},a},triggerHandler:function(a,_,b){var h,o;typeof jQuery<"u"&&(h=jQuery(a).triggerHandler(_,b));var t=a._ev;if(!t)return h;var i,n=t._events[_];if(!n)return h;function r(l){return l.listener?(t.removeListener(_,l.listener),l.fired?void 0:(l.fired=!0,l.listener.apply(t,[b]))):l.apply(t,[b])}for(n=Array.isArray(n)?n:[n],i=0;i<n.length-1;i++)r(n[i]);return o=r(n[i]),h!==void 0?h:o},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};q.exports=k},1426:function(q,C,e){var M=e(41965),k=Array.isArray;function a(_,b,h,o){var t,i,n,r,l,s,u,p=_[0],c=_.length;if(c===2&&k(p)&&k(_[1])&&p.length===0){if(u=function(g,d){var v,y;for(v=0;v<g.length;v++){if((y=g[v])!==null&&typeof y=="object")return!1;y!==void 0&&(d[v]=y)}return!0}(_[1],p),u)return p;p.splice(0,p.length)}for(var x=1;x<c;x++)for(i in t=_[x])n=p[i],r=t[i],o&&k(r)?p[i]=r:b&&r&&(M(r)||(l=k(r)))?(l?(l=!1,s=n&&k(n)?n:[]):s=n&&M(n)?n:{},p[i]=a([s,r],b,h,o)):(r!==void 0||h)&&(p[i]=r);return p}C.extendFlat=function(){return a(arguments,!1,!1,!1)},C.extendDeep=function(){return a(arguments,!0,!1,!1)},C.extendDeepAll=function(){return a(arguments,!0,!0,!1)},C.extendDeepNoArrays=function(){return a(arguments,!0,!1,!0)}},75744:function(q){q.exports=function(C){for(var e={},M=[],k=0,a=0;a<C.length;a++){var _=C[a];e[_]!==1&&(e[_]=1,M[k++]=_)}return M}},76756:function(q){function C(M){return M.visible===!0}function e(M){var k=M[0].trace;return k.visible===!0&&k._length!==0}q.exports=function(M){for(var k,a=(k=M,Array.isArray(k)&&Array.isArray(k[0])&&k[0][0]&&k[0][0].trace?e:C),_=[],b=0;b<M.length;b++){var h=M[b];a(h)&&_.push(h)}return _}},41327:function(q,C,e){var M=e(39898),k=e(24138),a=e(30774),_=e(29261),b=e(85268),h=e(23389),o=e(47769),t=e(41965),i=e(65487),n=e(61082),r=Object.keys(k),l={"ISO-3":h,"USA-states":h,"country names":function(u){for(var p=0;p<r.length;p++){var c=r[p];if(new RegExp(k[c]).test(u.trim().toLowerCase()))return c}return o.log("Unrecognized country name: "+u+"."),!1}};function s(u){var p=u.geojson,c=window.PlotlyGeoAssets||{},x=typeof p=="string"?c[p]:p;return t(x)?x:(o.error("Oops ... something went wrong when fetching "+p),!1)}q.exports={locationToFeature:function(u,p,c){if(!p||typeof p!="string")return!1;var x,g,d,v=l[u](p);if(v){if(u==="USA-states")for(x=[],d=0;d<c.length;d++)(g=c[d]).properties&&g.properties.gu&&g.properties.gu==="USA"&&x.push(g);else x=c;for(d=0;d<x.length;d++)if((g=x[d]).id===v)return g;o.log(["Location with id",v,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function(u){var p,c,x,g,d=u.geometry,v=d.coordinates,y=u.id,m=[];function w(f){for(var S=0;S<f.length-1;S++)if(f[S][0]>0&&f[S+1][0]<0)return S;return null}switch(p=y==="RUS"||y==="FJI"?function(f){var S;if(w(f)===null)S=f;else for(S=new Array(f.length),g=0;g<f.length;g++)S[g]=[f[g][0]<0?f[g][0]+360:f[g][0],f[g][1]];m.push(n.tester(S))}:y==="ATA"?function(f){var S=w(f);if(S===null)return m.push(n.tester(f));var T=new Array(f.length+1),E=0;for(g=0;g<f.length;g++)g>S?T[E++]=[f[g][0]+360,f[g][1]]:g===S?(T[E++]=f[g],T[E++]=[f[g][0],-90]):T[E++]=f[g];var O=n.tester(T);O.pts.pop(),m.push(O)}:function(f){m.push(n.tester(f))},d.type){case"MultiPolygon":for(c=0;c<v.length;c++)for(x=0;x<v[c].length;x++)p(v[c][x]);break;case"Polygon":for(c=0;c<v.length;c++)p(v[c])}return m},getTraceGeojson:s,extractTraceFeature:function(u){var p=u[0].trace,c=s(p);if(!c)return!1;var x,g={},d=[];for(x=0;x<p._length;x++){var v=u[x];(v.loc||v.loc===0)&&(g[v.loc]=v)}function y(f){var S=i(f,p.featureidkey||"id").get(),T=g[S];if(T){var E=f.geometry;if(E.type==="Polygon"||E.type==="MultiPolygon"){var O={type:"Feature",id:S,geometry:E,properties:{}};O.properties.ct=function(P){var I,z=P.geometry;if(z.type==="MultiPolygon")for(var j=z.coordinates,R=0,N=0;N<j.length;N++){var Z={type:"Polygon",coordinates:j[N]},F=a.default(Z);F>R&&(R=F,I=Z)}else I=z;return _.default(I).geometry.coordinates}(O),T.fIn=f,T.fOut=O,d.push(O)}else o.log(["Location",T.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete g[S]}switch(c.type){case"FeatureCollection":var m=c.features;for(x=0;x<m.length;x++)y(m[x]);break;case"Feature":y(c);break;default:return o.warn(["Invalid GeoJSON type",(c.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var w in g)o.log(["Location *"+w+"*","does not have a matching feature with id-key","*"+p.featureidkey+"*."].join(" "));return d},fetchTraceGeoData:function(u){var p=window.PlotlyGeoAssets||{},c=[];function x(y){return new Promise(function(m,w){M.json(y,function(f,S){if(f){delete p[y];var T=f.status===404?'GeoJSON at URL "'+y+'" does not exist.':"Unexpected error while fetching from "+y;return w(new Error(T))}return p[y]=S,m(S)})})}function g(y){return new Promise(function(m,w){var f=0,S=setInterval(function(){return p[y]&&p[y]!=="pending"?(clearInterval(S),m(p[y])):f>100?(clearInterval(S),w("Unexpected error while fetching from "+y)):void f++},50)})}for(var d=0;d<u.length;d++){var v=u[d][0].trace.geojson;typeof v=="string"&&(p[v]?p[v]==="pending"&&c.push(g(v)):(p[v]="pending",c.push(x(v))))}return c},computeBbox:function(u){return b.default(u)}}},18214:function(q,C,e){var M=e(50606).BADNUM;C.calcTraceToLineCoords=function(k){for(var a=k[0].trace.connectgaps,_=[],b=[],h=0;h<k.length;h++){var o=k[h].lonlat;o[0]!==M?b.push(o):!a&&b.length>0&&(_.push(b),b=[])}return b.length>0&&_.push(b),_},C.makeLine=function(k){return k.length===1?{type:"LineString",coordinates:k[0]}:{type:"MultiLineString",coordinates:k}},C.makePolygon=function(k){if(k.length===1)return{type:"Polygon",coordinates:k};for(var a=new Array(k.length),_=0;_<k.length;_++)a[_]=[k[_]];return{type:"MultiPolygon",coordinates:a}},C.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(q,C,e){var M,k,a,_=e(64872).mod;function b(o,t,i,n,r,l,s,u){var p=i-o,c=r-o,x=s-r,g=n-t,d=l-t,v=u-l,y=p*v-x*g;if(y===0)return null;var m=(c*v-x*d)/y,w=(c*g-p*d)/y;return w<0||w>1||m<0||m>1?null:{x:o+p*m,y:t+g*m}}function h(o,t,i,n,r){var l=n*o+r*t;if(l<0)return n*n+r*r;if(l>i){var s=n-o,u=r-t;return s*s+u*u}var p=n*t-r*o;return p*p/i}C.segmentsIntersect=b,C.segmentDistance=function(o,t,i,n,r,l,s,u){if(b(o,t,i,n,r,l,s,u))return 0;var p=i-o,c=n-t,x=s-r,g=u-l,d=p*p+c*c,v=x*x+g*g,y=Math.min(h(p,c,d,r-o,l-t),h(p,c,d,s-o,u-t),h(x,g,v,o-r,t-l),h(x,g,v,i-r,n-l));return Math.sqrt(y)},C.getTextLocation=function(o,t,i,n){if(o===k&&n===a||(M={},k=o,a=n),M[i])return M[i];var r=o.getPointAtLength(_(i-n/2,t)),l=o.getPointAtLength(_(i+n/2,t)),s=Math.atan((l.y-r.y)/(l.x-r.x)),u=o.getPointAtLength(_(i,t)),p={x:(4*u.x+r.x+l.x)/6,y:(4*u.y+r.y+l.y)/6,theta:s};return M[i]=p,p},C.clearLocationCache=function(){k=null},C.getVisibleSegment=function(o,t,i){var n,r,l=t.left,s=t.right,u=t.top,p=t.bottom,c=0,x=o.getTotalLength(),g=x;function d(y){var m=o.getPointAtLength(y);y===0?n=m:y===x&&(r=m);var w=m.x<l?l-m.x:m.x>s?m.x-s:0,f=m.y<u?u-m.y:m.y>p?m.y-p:0;return Math.sqrt(w*w+f*f)}for(var v=d(c);v;){if((c+=v+i)>g)return;v=d(c)}for(v=d(g);v;){if(c>(g-=v+i))return;v=d(g)}return{min:c,max:g,len:g-c,total:x,isClosed:c===0&&g===x&&Math.abs(n.x-r.x)<.1&&Math.abs(n.y-r.y)<.1}},C.findPointOnPath=function(o,t,i,n){for(var r,l,s,u=(n=n||{}).pathLength||o.getTotalLength(),p=n.tolerance||.001,c=n.iterationLimit||30,x=o.getPointAtLength(0)[i]>o.getPointAtLength(u)[i]?-1:1,g=0,d=0,v=u;g<c;){if(r=(d+v)/2,s=(l=o.getPointAtLength(r))[i]-t,Math.abs(s)<p)return l;x*s>0?v=r:d=r,g++}return l}},81697:function(q,C,e){var M=e(92770),k=e(84267),a=e(25075),_=e(21081),b=e(22399).defaultLine,h=e(73627).isArrayOrTypedArray,o=a(b);function t(r,l){var s=r;return s[3]*=l,s}function i(r){if(M(r))return o;var l=a(r);return l.length?l:o}function n(r){return M(r)?r:1}q.exports={formatColor:function(r,l,s){var u=r.color;u&&u._inputArray&&(u=u._inputArray);var p,c,x,g,d,v=h(u),y=h(l),m=_.extractOpts(r),w=[];if(p=m.colorscale!==void 0?_.makeColorScaleFuncFromTrace(r):i,c=v?function(S,T){return S[T]===void 0?o:a(p(S[T]))}:i,x=y?function(S,T){return S[T]===void 0?1:n(S[T])}:n,v||y)for(var f=0;f<s;f++)g=c(u,f),d=x(l,f),w[f]=t(g,d);else w=t(a(u),l);return w},parseColorScale:function(r){var l=_.extractOpts(r),s=l.colorscale;return l.reversescale&&(s=_.flipScale(l.colorscale)),s.map(function(u){var p=u[0],c=k(u[1]).toRgb();return{index:p,rgb:[c.r,c.g,c.b,c.a]}})}}},28984:function(q,C,e){var M=e(23389);function k(a){return[a]}q.exports={keyFun:function(a){return a.key},repeat:k,descend:M,wrap:k,unwrap:function(a){return a[0]}}},23389:function(q){q.exports=function(C){return C}},39240:function(q){q.exports=function(C,e){if(!e)return C;var M=1/Math.abs(e),k=M>1?(M*C+M*e)/M:C+e,a=String(k).length;if(a>16){var _=String(e).length;if(a>=String(C).length+_){var b=parseFloat(k).toPrecision(12);b.indexOf("e+")===-1&&(k=+b)}}return k}},71828:function(q,C,e){var M=e(39898),k=e(84096).g0,a=e(60721).WU,_=e(92770),b=e(50606),h=b.FP_SAFE,o=-h,t=b.BADNUM,i=q.exports={};i.adjustFormat=function(K){return!K||/^\d[.]\df/.test(K)||/[.]\d%/.test(K)?K:K==="0.f"?"~f":/^\d%/.test(K)?"~%":/^\ds/.test(K)?"~s":!/^[~,.0$]/.test(K)&&/[&fps]/.test(K)?"~"+K:K};var n={};i.warnBadFormat=function(K){var ee=String(K);n[ee]||(n[ee]=1,i.warn('encountered bad format: "'+ee+'"'))},i.noFormat=function(K){return String(K)},i.numberFormat=function(K){var ee;try{ee=a(i.adjustFormat(K))}catch{return i.warnBadFormat(K),i.noFormat}return ee},i.nestedProperty=e(65487),i.keyedContainer=e(66636),i.relativeAttr=e(6962),i.isPlainObject=e(41965),i.toLogRange=e(58163),i.relinkPrivateKeys=e(51332);var r=e(73627);i.isArrayBuffer=r.isArrayBuffer,i.isTypedArray=r.isTypedArray,i.isArrayOrTypedArray=r.isArrayOrTypedArray,i.isArray1D=r.isArray1D,i.ensureArray=r.ensureArray,i.concat=r.concat,i.maxRowLength=r.maxRowLength,i.minRowLength=r.minRowLength;var l=e(64872);i.mod=l.mod,i.modHalf=l.modHalf;var s=e(96554);i.valObjectMeta=s.valObjectMeta,i.coerce=s.coerce,i.coerce2=s.coerce2,i.coerceFont=s.coerceFont,i.coercePattern=s.coercePattern,i.coerceHoverinfo=s.coerceHoverinfo,i.coerceSelectionMarkerOpacity=s.coerceSelectionMarkerOpacity,i.validate=s.validate;var u=e(41631);i.dateTime2ms=u.dateTime2ms,i.isDateTime=u.isDateTime,i.ms2DateTime=u.ms2DateTime,i.ms2DateTimeLocal=u.ms2DateTimeLocal,i.cleanDate=u.cleanDate,i.isJSDate=u.isJSDate,i.formatDate=u.formatDate,i.incrementMonth=u.incrementMonth,i.dateTick0=u.dateTick0,i.dfltRange=u.dfltRange,i.findExactDates=u.findExactDates,i.MIN_MS=u.MIN_MS,i.MAX_MS=u.MAX_MS;var p=e(65888);i.findBin=p.findBin,i.sorterAsc=p.sorterAsc,i.sorterDes=p.sorterDes,i.distinctVals=p.distinctVals,i.roundUp=p.roundUp,i.sort=p.sort,i.findIndexOfMin=p.findIndexOfMin,i.sortObjectKeys=e(78607);var c=e(80038);i.aggNums=c.aggNums,i.len=c.len,i.mean=c.mean,i.median=c.median,i.midRange=c.midRange,i.variance=c.variance,i.stdev=c.stdev,i.interp=c.interp;var x=e(35657);i.init2dArray=x.init2dArray,i.transposeRagged=x.transposeRagged,i.dot=x.dot,i.translationMatrix=x.translationMatrix,i.rotationMatrix=x.rotationMatrix,i.rotationXYMatrix=x.rotationXYMatrix,i.apply3DTransform=x.apply3DTransform,i.apply2DTransform=x.apply2DTransform,i.apply2DTransform2=x.apply2DTransform2,i.convertCssMatrix=x.convertCssMatrix,i.inverseTransformMatrix=x.inverseTransformMatrix;var g=e(26348);i.deg2rad=g.deg2rad,i.rad2deg=g.rad2deg,i.angleDelta=g.angleDelta,i.angleDist=g.angleDist,i.isFullCircle=g.isFullCircle,i.isAngleInsideSector=g.isAngleInsideSector,i.isPtInsideSector=g.isPtInsideSector,i.pathArc=g.pathArc,i.pathSector=g.pathSector,i.pathAnnulus=g.pathAnnulus;var d=e(99863);i.isLeftAnchor=d.isLeftAnchor,i.isCenterAnchor=d.isCenterAnchor,i.isRightAnchor=d.isRightAnchor,i.isTopAnchor=d.isTopAnchor,i.isMiddleAnchor=d.isMiddleAnchor,i.isBottomAnchor=d.isBottomAnchor;var v=e(87642);i.segmentsIntersect=v.segmentsIntersect,i.segmentDistance=v.segmentDistance,i.getTextLocation=v.getTextLocation,i.clearLocationCache=v.clearLocationCache,i.getVisibleSegment=v.getVisibleSegment,i.findPointOnPath=v.findPointOnPath;var y=e(1426);i.extendFlat=y.extendFlat,i.extendDeep=y.extendDeep,i.extendDeepAll=y.extendDeepAll,i.extendDeepNoArrays=y.extendDeepNoArrays;var m=e(47769);i.log=m.log,i.warn=m.warn,i.error=m.error;var w=e(30587);i.counterRegex=w.counter;var f=e(79990);i.throttle=f.throttle,i.throttleDone=f.done,i.clearThrottle=f.clear;var S=e(24401);function T(K){var ee={};for(var re in K)for(var ie=K[re],ae=0;ae<ie.length;ae++)ee[ie[ae]]=+re;return ee}i.getGraphDiv=S.getGraphDiv,i.isPlotDiv=S.isPlotDiv,i.removeElement=S.removeElement,i.addStyleRule=S.addStyleRule,i.addRelatedStyleRule=S.addRelatedStyleRule,i.deleteRelatedStyleRule=S.deleteRelatedStyleRule,i.getFullTransformMatrix=S.getFullTransformMatrix,i.getElementTransformMatrix=S.getElementTransformMatrix,i.getElementAndAncestors=S.getElementAndAncestors,i.equalDomRects=S.equalDomRects,i.clearResponsive=e(86367),i.preserveDrawingBuffer=e(45142),i.makeTraceGroups=e(77310),i._=e(15867),i.notifier=e(75046),i.filterUnique=e(75744),i.filterVisible=e(76756),i.pushUnique=e(75138),i.increment=e(39240),i.cleanNumber=e(95218),i.ensureNumber=function(K){return _(K)?(K=Number(K))>h||K<o?t:K:t},i.isIndex=function(K,ee){return!(ee!==void 0&&K>=ee)&&_(K)&&K>=0&&K%1==0},i.noop=e(64213),i.identity=e(23389),i.repeat=function(K,ee){for(var re=new Array(ee),ie=0;ie<ee;ie++)re[ie]=K;return re},i.swapAttrs=function(K,ee,re,ie){re||(re="x"),ie||(ie="y");for(var ae=0;ae<ee.length;ae++){var ue=ee[ae],pe=i.nestedProperty(K,ue.replace("?",re)),de=i.nestedProperty(K,ue.replace("?",ie)),ye=pe.get();pe.set(de.get()),de.set(ye)}},i.raiseToTop=function(K){K.parentNode.appendChild(K)},i.cancelTransition=function(K){return K.transition().duration(0)},i.constrain=function(K,ee,re){return ee>re?Math.max(re,Math.min(ee,K)):Math.max(ee,Math.min(re,K))},i.bBoxIntersect=function(K,ee,re){return re=re||0,K.left<=ee.right+re&&ee.left<=K.right+re&&K.top<=ee.bottom+re&&ee.top<=K.bottom+re},i.simpleMap=function(K,ee,re,ie,ae){for(var ue=K.length,pe=new Array(ue),de=0;de<ue;de++)pe[de]=ee(K[de],re,ie,ae);return pe},i.randstr=function K(ee,re,ie,ae){if(ie||(ie=16),re===void 0&&(re=24),re<=0)return"0";var ue,pe,de=Math.log(Math.pow(2,re))/Math.log(ie),ye="";for(ue=2;de===1/0;ue*=2)de=Math.log(Math.pow(2,re/ue))/Math.log(ie)*ue;var be=de-Math.floor(de);for(ue=0;ue<Math.floor(de);ue++)ye=Math.floor(Math.random()*ie).toString(ie)+ye;be&&(pe=Math.pow(ie,be),ye=Math.floor(Math.random()*pe).toString(ie)+ye);var me=parseInt(ye,ie);return ee&&ee[ye]||me!==1/0&&me>=Math.pow(2,re)?ae>10?(i.warn("randstr failed uniqueness"),ye):K(ee,re,ie,(ae||0)+1):ye},i.OptionControl=function(K,ee){K||(K={}),ee||(ee="opt");var re={optionList:[],_newoption:function(ie){ie[ee]=K,re[ie.name]=ie,re.optionList.push(ie)}};return re["_"+ee]=K,re},i.smooth=function(K,ee){if((ee=Math.round(ee)||0)<2)return K;var re,ie,ae,ue,pe=K.length,de=2*pe,ye=2*ee-1,be=new Array(ye),me=new Array(pe);for(re=0;re<ye;re++)be[re]=(1-Math.cos(Math.PI*(re+1)/ee))/(2*ee);for(re=0;re<pe;re++){for(ue=0,ie=0;ie<ye;ie++)(ae=re+ie+1-ee)<-pe?ae-=de*Math.round(ae/de):ae>=de&&(ae-=de*Math.floor(ae/de)),ae<0?ae=-1-ae:ae>=pe&&(ae=de-1-ae),ue+=K[ae]*be[ie];me[re]=ue}return me},i.syncOrAsync=function(K,ee,re){var ie;function ae(){return i.syncOrAsync(K,ee,re)}for(;K.length;)if((ie=(0,K.splice(0,1)[0])(ee))&&ie.then)return ie.then(ae);return re&&re(ee)},i.stripTrailingSlash=function(K){return K.substr(-1)==="/"?K.substr(0,K.length-1):K},i.noneOrAll=function(K,ee,re){if(K){var ie,ae=!1,ue=!0;for(ie=0;ie<re.length;ie++)K[re[ie]]!=null?ae=!0:ue=!1;if(ae&&!ue)for(ie=0;ie<re.length;ie++)K[re[ie]]=ee[re[ie]]}},i.mergeArray=function(K,ee,re,ie){var ae=typeof ie=="function";if(i.isArrayOrTypedArray(K))for(var ue=Math.min(K.length,ee.length),pe=0;pe<ue;pe++){var de=K[pe];ee[pe][re]=ae?ie(de):de}},i.mergeArrayCastPositive=function(K,ee,re){return i.mergeArray(K,ee,re,function(ie){var ae=+ie;return isFinite(ae)&&ae>0?ae:0})},i.fillArray=function(K,ee,re,ie){if(ie=ie||i.identity,i.isArrayOrTypedArray(K))for(var ae=0;ae<ee.length;ae++)ee[ae][re]=ie(K[ae])},i.castOption=function(K,ee,re,ie){ie=ie||i.identity;var ae=i.nestedProperty(K,re).get();return i.isArrayOrTypedArray(ae)?Array.isArray(ee)&&i.isArrayOrTypedArray(ae[ee[0]])?ie(ae[ee[0]][ee[1]]):ie(ae[ee]):ae},i.extractOption=function(K,ee,re,ie){if(re in K)return K[re];var ae=i.nestedProperty(ee,ie).get();return Array.isArray(ae)?void 0:ae},i.tagSelected=function(K,ee,re){var ie,ae,ue=ee.selectedpoints,pe=ee._indexToPoints;pe&&(ie=T(pe));for(var de=0;de<ue.length;de++){var ye=ue[de];if(i.isIndex(ye)||i.isArrayOrTypedArray(ye)&&i.isIndex(ye[0])&&i.isIndex(ye[1])){var be=ie?ie[ye]:ye,me=re?re[be]:be;(ae=me)!==void 0&&ae<K.length&&(K[me].selected=1)}}},i.selIndices2selPoints=function(K){var ee=K.selectedpoints,re=K._indexToPoints;if(re){for(var ie=T(re),ae=[],ue=0;ue<ee.length;ue++){var pe=ee[ue];if(i.isIndex(pe)){var de=ie[pe];i.isIndex(de)&&ae.push(de)}}return ae}return ee},i.getTargetArray=function(K,ee){var re=ee.target;if(typeof re=="string"&&re){var ie=i.nestedProperty(K,re).get();return!!i.isArrayOrTypedArray(ie)&&ie}return!!i.isArrayOrTypedArray(re)&&re},i.minExtend=function K(ee,re,ie){var ae={};typeof re!="object"&&(re={});var ue,pe,de,ye=ie==="pieLike"?-1:3,be=Object.keys(ee);for(ue=0;ue<be.length;ue++)de=ee[pe=be[ue]],pe.charAt(0)!=="_"&&typeof de!="function"&&(pe==="module"?ae[pe]=de:Array.isArray(de)?ae[pe]=pe==="colorscale"||ye===-1?de.slice():de.slice(0,ye):i.isTypedArray(de)?ae[pe]=ye===-1?de.subarray():de.subarray(0,ye):ae[pe]=de&&typeof de=="object"?K(ee[pe],re[pe],ie):de);for(be=Object.keys(re),ue=0;ue<be.length;ue++)typeof(de=re[pe=be[ue]])=="object"&&pe in ae&&typeof ae[pe]=="object"||(ae[pe]=de);return ae},i.titleCase=function(K){return K.charAt(0).toUpperCase()+K.substr(1)},i.containsAny=function(K,ee){for(var re=0;re<ee.length;re++)if(K.indexOf(ee[re])!==-1)return!0;return!1},i.isIE=function(){return window.navigator.msSaveBlob!==void 0};var E=/Version\/[\d\.]+.*Safari/;i.isSafari=function(){return E.test(window.navigator.userAgent)};var O=/iPad|iPhone|iPod/;i.isIOS=function(){return O.test(window.navigator.userAgent)};var P=/Firefox\/(\d+)\.\d+/;i.getFirefoxVersion=function(){var K=P.exec(window.navigator.userAgent);if(K&&K.length===2){var ee=parseInt(K[1]);if(!isNaN(ee))return ee}return null},i.isD3Selection=function(K){return K instanceof M.selection},i.ensureSingle=function(K,ee,re,ie){var ae=K.select(ee+(re?"."+re:""));if(ae.size())return ae;var ue=K.append(ee);return re&&ue.classed(re,!0),ie&&ue.call(ie),ue},i.ensureSingleById=function(K,ee,re,ie){var ae=K.select(ee+"#"+re);if(ae.size())return ae;var ue=K.append(ee).attr("id",re);return ie&&ue.call(ie),ue},i.objectFromPath=function(K,ee){for(var re,ie=K.split("."),ae=re={},ue=0;ue<ie.length;ue++){var pe=ie[ue],de=null,ye=ie[ue].match(/(.*)\[([0-9]+)\]/);ye?(pe=ye[1],de=ye[2],re=re[pe]=[],ue===ie.length-1?re[de]=ee:re[de]={},re=re[de]):(ue===ie.length-1?re[pe]=ee:re[pe]={},re=re[pe])}return ae};var I=/^([^\[\.]+)\.(.+)?/,z=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function j(K){return K.slice(0,2)==="__"}i.expandObjectPaths=function(K){var ee,re,ie,ae,ue,pe,de;if(typeof K=="object"&&!Array.isArray(K)){for(re in K)if(K.hasOwnProperty(re))if(ee=re.match(I)){if(ae=K[re],j(ie=ee[1]))continue;delete K[re],K[ie]=i.extendDeepNoArrays(K[ie]||{},i.objectFromPath(re,i.expandObjectPaths(ae))[ie])}else if(ee=re.match(z)){if(ae=K[re],j(ie=ee[1]))continue;if(ue=parseInt(ee[2]),delete K[re],K[ie]=K[ie]||[],ee[3]===".")de=ee[4],pe=K[ie][ue]=K[ie][ue]||{},i.extendDeepNoArrays(pe,i.objectFromPath(de,i.expandObjectPaths(ae)));else{if(j(ie))continue;K[ie][ue]=i.expandObjectPaths(ae)}}else{if(j(re))continue;K[re]=i.expandObjectPaths(K[re])}}return K},i.numSeparate=function(K,ee,re){if(re||(re=!1),typeof ee!="string"||ee.length===0)throw new Error("Separator string required for formatting!");typeof K=="number"&&(K=String(K));var ie=/(\d+)(\d{3})/,ae=ee.charAt(0),ue=ee.charAt(1),pe=K.split("."),de=pe[0],ye=pe.length>1?ae+pe[1]:"";if(ue&&(pe.length>1||de.length>4||re))for(;ie.test(de);)de=de.replace(ie,"$1"+ue+"$2");return de+ye},i.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var R=/^\w*$/;i.templateString=function(K,ee){var re={};return K.replace(i.TEMPLATE_STRING_REGEX,function(ie,ae){var ue;return R.test(ae)?ue=ee[ae]:(re[ae]=re[ae]||i.nestedProperty(ee,ae).get,ue=re[ae]()),i.isValidTextValue(ue)?ue:""})};var N={max:10,count:0,name:"hovertemplate"};i.hovertemplateString=function(){return te.apply(N,arguments)};var Z={max:10,count:0,name:"texttemplate"};i.texttemplateString=function(){return te.apply(Z,arguments)};var F=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,U={max:10,count:0,name:"texttemplate",parseMultDiv:!0};i.texttemplateStringForShapes=function(){return te.apply(U,arguments)};var V=/^[:|\|]/;function te(K,ee,re){var ie=this,ae=arguments;ee||(ee={});var ue={};return K.replace(i.TEMPLATE_STRING_REGEX,function(pe,de,ye){var be=de==="_xother"||de==="_yother",me=de==="_xother_"||de==="_yother_",Ee=de==="xother_"||de==="yother_",Te=de==="xother"||de==="yother"||be||Ee||me,we=de;(be||me)&&(we=we.substring(1)),(Ee||me)&&(we=we.substring(0,we.length-1));var oe,se,he,Se=null,_e=null;if(ie.parseMultDiv){var Ae=function(xe){var ke=xe.match(F);return ke?{key:ke[1],op:ke[2],number:Number(ke[3])}:{key:xe,op:null,number:null}}(we);we=Ae.key,Se=Ae.op,_e=Ae.number}if(Te){if((oe=ee[we])===void 0)return""}else for(he=3;he<ae.length;he++)if(se=ae[he]){if(se.hasOwnProperty(we)){oe=se[we];break}if(R.test(we)||(oe=i.nestedProperty(se,we).get(),(oe=ue[we]||i.nestedProperty(se,we).get())&&(ue[we]=oe)),oe!==void 0)break}if(oe!==void 0&&(Se==="*"&&(oe*=_e),Se==="/"&&(oe/=_e)),oe===void 0&&ie)return ie.count<ie.max&&(i.warn("Variable '"+we+"' in "+ie.name+" could not be found!"),oe=pe),ie.count===ie.max&&i.warn("Too many "+ie.name+" warnings - additional warnings will be suppressed"),ie.count++,pe;if(ye){var Ce;if(ye[0]===":"&&(oe=(Ce=re?re.numberFormat:i.numberFormat)(ye.replace(V,""))(oe)),ye[0]==="|"){Ce=re?re.timeFormat:k;var Re=i.dateTime2ms(oe);oe=i.formatDate(Re,ye.replace(V,""),!1,Ce)}}else{var fe=we+"Label";ee.hasOwnProperty(fe)&&(oe=ee[fe])}return Te&&(oe="("+oe+")",(be||me)&&(oe=" "+oe),(Ee||me)&&(oe+=" ")),oe})}i.subplotSort=function(K,ee){for(var re=Math.min(K.length,ee.length)+1,ie=0,ae=0,ue=0;ue<re;ue++){var pe=K.charCodeAt(ue)||0,de=ee.charCodeAt(ue)||0,ye=pe>=48&&pe<=57,be=de>=48&&de<=57;if(ye&&(ie=10*ie+pe-48),be&&(ae=10*ae+de-48),!ye||!be){if(ie!==ae)return ie-ae;if(pe!==de)return pe-de}}return ae-ie};var Q=2e9;i.seedPseudoRandom=function(){Q=2e9},i.pseudoRandom=function(){var K=Q;return Q=(69069*Q+1)%4294967296,Math.abs(Q-K)<429496729?i.pseudoRandom():Q/4294967296},i.fillText=function(K,ee,re){var ie=Array.isArray(re)?function(pe){re.push(pe)}:function(pe){re.text=pe},ae=i.extractOption(K,ee,"htx","hovertext");if(i.isValidTextValue(ae))return ie(ae);var ue=i.extractOption(K,ee,"tx","text");return i.isValidTextValue(ue)?ie(ue):void 0},i.isValidTextValue=function(K){return K||K===0},i.formatPercent=function(K,ee){ee=ee||0;for(var re=(Math.round(100*K*Math.pow(10,ee))*Math.pow(.1,ee)).toFixed(ee)+"%",ie=0;ie<ee;ie++)re.indexOf(".")!==-1&&(re=(re=re.replace("0%","%")).replace(".%","%"));return re},i.isHidden=function(K){var ee=window.getComputedStyle(K).display;return!ee||ee==="none"},i.strTranslate=function(K,ee){return K||ee?"translate("+K+","+ee+")":""},i.strRotate=function(K){return K?"rotate("+K+")":""},i.strScale=function(K){return K!==1?"scale("+K+")":""},i.getTextTransform=function(K){var ee=K.noCenter,re=K.textX,ie=K.textY,ae=K.targetX,ue=K.targetY,pe=K.anchorX||0,de=K.anchorY||0,ye=K.rotate,be=K.scale;return be?be>1&&(be=1):be=0,i.strTranslate(ae-be*(re+pe),ue-be*(ie+de))+i.strScale(be)+(ye?"rotate("+ye+(ee?"":" "+re+" "+ie)+")":"")},i.setTransormAndDisplay=function(K,ee){K.attr("transform",i.getTextTransform(ee)),K.style("display",ee.scale?null:"none")},i.ensureUniformFontSize=function(K,ee){var re=i.extendFlat({},ee);return re.size=Math.max(ee.size,K._fullLayout.uniformtext.minsize||0),re},i.join2=function(K,ee,re){var ie=K.length;return ie>1?K.slice(0,-1).join(ee)+re+K[ie-1]:K.join(ee)},i.bigFont=function(K){return Math.round(1.2*K)};var J=i.getFirefoxVersion(),X=J!==null&&J<86;i.getPositionFromD3Event=function(){return X?[M.event.layerX,M.event.layerY]:[M.event.offsetX,M.event.offsetY]}},41965:function(q){q.exports=function(C){return window&&window.process&&window.process.versions?Object.prototype.toString.call(C)==="[object Object]":Object.prototype.toString.call(C)==="[object Object]"&&Object.getPrototypeOf(C).hasOwnProperty("hasOwnProperty")}},66636:function(q,C,e){var M=e(65487),k=/^\w*$/;q.exports=function(a,_,b,h){var o,t,i;b=b||"name",h=h||"value";var n={};_&&_.length?(i=M(a,_),t=i.get()):t=a,_=_||"";var r={};if(t)for(o=0;o<t.length;o++)r[t[o][b]]=o;var l=k.test(h),s={set:function(u,p){var c=p===null?4:0;if(!t){if(!i||c===4)return;t=[],i.set(t)}var x=r[u];if(x===void 0){if(c===4)return;c|=3,x=t.length,r[u]=x}else p!==(l?t[x][h]:M(t[x],h).get())&&(c|=2);var g=t[x]=t[x]||{};return g[b]=u,l?g[h]=p:M(g,h).set(p),p!==null&&(c&=-5),n[x]=n[x]|c,s},get:function(u){if(t){var p=r[u];return p===void 0?void 0:l?t[p][h]:M(t[p],h).get()}},rename:function(u,p){var c=r[u];return c===void 0||(n[c]=1|n[c],r[p]=c,delete r[u],t[c][b]=p),s},remove:function(u){var p=r[u];if(p===void 0)return s;var c=t[p];if(Object.keys(c).length>2)return n[p]=2|n[p],s.set(u,null);if(l){for(o=p;o<t.length;o++)n[o]=3|n[o];for(o=p;o<t.length;o++)r[t[o][b]]--;t.splice(p,1),delete r[u]}else M(c,h).set(null),n[p]=6|n[p];return s},constructUpdate:function(){for(var u,p,c={},x=Object.keys(n),g=0;g<x.length;g++)p=x[g],u=_+"["+p+"]",t[p]?(1&n[p]&&(c[u+"."+b]=t[p][b]),2&n[p]&&(c[u+"."+h]=l?4&n[p]?null:t[p][h]:4&n[p]?null:M(t[p],h).get())):c[u]=null;return c}};return s}},15867:function(q,C,e){var M=e(73972);q.exports=function(k,a){for(var _=k._context.locale,b=0;b<2;b++){for(var h=k._context.locales,o=0;o<2;o++){var t=(h[_]||{}).dictionary;if(t){var i=t[a];if(i)return i}h=M.localeRegistry}var n=_.split("-")[0];if(n===_)break;_=n}return a}},47769:function(q,C,e){var M=e(72075).dfltConfig,k=e(75046),a=q.exports={};a.log=function(){var _;if(M.logging>1){var b=["LOG:"];for(_=0;_<arguments.length;_++)b.push(arguments[_]);console.trace.apply(console,b)}if(M.notifyOnLogging>1){var h=[];for(_=0;_<arguments.length;_++)h.push(arguments[_]);k(h.join("<br>"),"long")}},a.warn=function(){var _;if(M.logging>0){var b=["WARN:"];for(_=0;_<arguments.length;_++)b.push(arguments[_]);console.trace.apply(console,b)}if(M.notifyOnLogging>0){var h=[];for(_=0;_<arguments.length;_++)h.push(arguments[_]);k(h.join("<br>"),"stick")}},a.error=function(){var _;if(M.logging>0){var b=["ERROR:"];for(_=0;_<arguments.length;_++)b.push(arguments[_]);console.error.apply(console,b)}if(M.notifyOnLogging>0){var h=[];for(_=0;_<arguments.length;_++)h.push(arguments[_]);k(h.join("<br>"),"stick")}}},77310:function(q,C,e){var M=e(39898);q.exports=function(k,a,_){var b=k.selectAll("g."+_.replace(/\s/g,".")).data(a,function(o){return o[0].trace.uid});b.exit().remove(),b.enter().append("g").attr("class",_),b.order();var h=k.classed("rangeplot")?"nodeRangePlot3":"node3";return b.each(function(o){o[0][h]=M.select(this)}),b}},35657:function(q,C,e){var M=e(79576);C.init2dArray=function(k,a){for(var _=new Array(k),b=0;b<k;b++)_[b]=new Array(a);return _},C.transposeRagged=function(k){var a,_,b=0,h=k.length;for(a=0;a<h;a++)b=Math.max(b,k[a].length);var o=new Array(b);for(a=0;a<b;a++)for(o[a]=new Array(h),_=0;_<h;_++)o[a][_]=k[_][a];return o},C.dot=function(k,a){if(!k.length||!a.length||k.length!==a.length)return null;var _,b,h=k.length;if(k[0].length)for(_=new Array(h),b=0;b<h;b++)_[b]=C.dot(k[b],a);else if(a[0].length){var o=C.transposeRagged(a);for(_=new Array(o.length),b=0;b<o.length;b++)_[b]=C.dot(k,o[b])}else for(_=0,b=0;b<h;b++)_+=k[b]*a[b];return _},C.translationMatrix=function(k,a){return[[1,0,k],[0,1,a],[0,0,1]]},C.rotationMatrix=function(k){var a=k*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},C.rotationXYMatrix=function(k,a,_){return C.dot(C.dot(C.translationMatrix(a,_),C.rotationMatrix(k)),C.translationMatrix(-a,-_))},C.apply3DTransform=function(k){return function(){var a=arguments,_=arguments.length===1?a[0]:[a[0],a[1],a[2]||0];return C.dot(k,[_[0],_[1],_[2],1]).slice(0,3)}},C.apply2DTransform=function(k){return function(){var a=arguments;a.length===3&&(a=a[0]);var _=arguments.length===1?a[0]:[a[0],a[1]];return C.dot(k,[_[0],_[1],1]).slice(0,2)}},C.apply2DTransform2=function(k){var a=C.apply2DTransform(k);return function(_){return a(_.slice(0,2)).concat(a(_.slice(2,4)))}},C.convertCssMatrix=function(k){if(k){var a=k.length;if(a===16)return k;if(a===6)return[k[0],k[1],0,0,k[2],k[3],0,0,0,0,1,0,k[4],k[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},C.inverseTransformMatrix=function(k){var a=[];return M.invert(a,k),[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}},64872:function(q){q.exports={mod:function(C,e){var M=C%e;return M<0?M+e:M},modHalf:function(C,e){return Math.abs(C)>e/2?C-Math.round(C/e)*e:C}}},65487:function(q,C,e){var M=e(92770),k=e(73627).isArrayOrTypedArray;function a(n,r){return function(){var l,s,u,p,c,x=n;for(p=0;p<r.length-1;p++){if((l=r[p])===-1){for(s=!0,u=[],c=0;c<x.length;c++)u[c]=a(x[c],r.slice(p+1))(),u[c]!==u[0]&&(s=!1);return s?u[0]:u}if(typeof l=="number"&&!k(x)||typeof(x=x[l])!="object"||x===null)return}if(typeof x=="object"&&x!==null&&(u=x[r[p]])!==null)return u}}q.exports=function(n,r){if(M(r))r=String(r);else if(typeof r!="string"||r.substr(r.length-4)==="[-1]")throw"bad property string";var l,s,u,p,c=r.split(".");for(p=0;p<c.length;p++)if(String(c[p]).slice(0,2)==="__")throw"bad property string";for(p=0;p<c.length;){if(l=String(c[p]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(l[1])c[p]=l[1];else{if(p!==0)throw"bad property string";c.splice(0,1)}for(s=l[2].substr(1,l[2].length-2).split("]["),u=0;u<s.length;u++)p++,c.splice(p,0,Number(s[u]))}p++}return typeof n!="object"?function(x,g,d){return{set:function(){throw"bad container"},get:function(){},astr:g,parts:d,obj:x}}(n,r,c):{set:h(n,c,r),get:a(n,c),astr:r,parts:c,obj:n}};var _=/(^|\.)args\[/;function b(n,r){return n===void 0||n===null&&!r.match(_)}function h(n,r,l){return function(s){var u,p,c=n,x="",g=b(s,l);for(p=0;p<r.length-1;p++){if(typeof(u=r[p])=="number"&&!k(c))throw"array index but container is not an array";if(u===-1){if(g=!t(c,r.slice(p+1),s,l))break;return}if(!i(c,u,r[p+1],g))break;if(typeof(c=c[u])!="object"||c===null)throw"container is not an object";x=o(x,u)}if(g){if(p===r.length-1&&(delete c[r[p]],Array.isArray(c)&&+r[p]==c.length-1))for(;c.length&&c[c.length-1]===void 0;)c.pop()}else c[r[p]]=s}}function o(n,r){var l=r;return M(r)?l="["+r+"]":n&&(l="."+r),n+l}function t(n,r,l,s){var u,p=k(l),c=!0,x=l,g=s.replace("-1",0),d=!p&&b(l,g),v=r[0];for(u=0;u<n.length;u++)g=s.replace("-1",u),p&&(d=b(x=l[u%l.length],g)),d&&(c=!1),i(n,u,v,d)&&h(n[u],r,s.replace("-1",u))(x);return c}function i(n,r,l,s){if(n[r]===void 0){if(s)return!1;n[r]=typeof l=="number"?[]:{}}return!0}},64213:function(q){q.exports=function(){}},75046:function(q,C,e){var M=e(39898),k=e(92770),a=[];q.exports=function(_,b){if(a.indexOf(_)===-1){a.push(_);var h=1e3;k(b)?h=b:b==="long"&&(h=3e3);var o=M.select("body").selectAll(".plotly-notifier").data([0]);o.enter().append("div").classed("plotly-notifier",!0),o.selectAll(".notifier-note").data(a).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var n=M.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(t)});for(var r=n.append("p"),l=i.split(/<br\s*\/?>/g),s=0;s<l.length;s++)s&&r.append("br"),r.append("span").text(l[s]);b==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(h).call(t)})}function t(i){i.duration(700).style("opacity",0).each("end",function(n){var r=a.indexOf(n);r!==-1&&a.splice(r,1),M.select(this).remove()})}}},39918:function(q,C,e){var M=e(6964),k="data-savedcursor";q.exports=function(a,_){var b=a.attr(k);if(_){if(!b){for(var h=(a.attr("class")||"").split(" "),o=0;o<h.length;o++){var t=h[o];t.indexOf("cursor-")===0&&a.attr(k,t.substr(7)).classed(t,!1)}a.attr(k)||a.attr(k,"!!")}M(a,_)}else b&&(a.attr(k,null),b==="!!"?M(a):M(a,b))}},61082:function(q,C,e){var M=e(35657).dot,k=e(50606).BADNUM,a=q.exports={};a.tester=function(_){var b,h=_.slice(),o=h[0][0],t=o,i=h[0][1],n=i;for(h[h.length-1][0]===h[0][0]&&h[h.length-1][1]===h[0][1]||h.push(h[0]),b=1;b<h.length;b++)o=Math.min(o,h[b][0]),t=Math.max(t,h[b][0]),i=Math.min(i,h[b][1]),n=Math.max(n,h[b][1]);var r,l=!1;h.length===5&&(h[0][0]===h[1][0]?h[2][0]===h[3][0]&&h[0][1]===h[3][1]&&h[1][1]===h[2][1]&&(l=!0,r=function(p){return p[0]===h[0][0]}):h[0][1]===h[1][1]&&h[2][1]===h[3][1]&&h[0][0]===h[3][0]&&h[1][0]===h[2][0]&&(l=!0,r=function(p){return p[1]===h[0][1]}));var s=!0,u=h[0];for(b=1;b<h.length;b++)if(u[0]!==h[b][0]||u[1]!==h[b][1]){s=!1;break}return{xmin:o,xmax:t,ymin:i,ymax:n,pts:h,contains:l?function(p,c){var x=p[0],g=p[1];return!(x===k||x<o||x>t||g===k||g<i||g>n||c&&r(p))}:function(p,c){var x=p[0],g=p[1];if(x===k||x<o||x>t||g===k||g<i||g>n)return!1;var d,v,y,m,w,f=h.length,S=h[0][0],T=h[0][1],E=0;for(d=1;d<f;d++)if(v=S,y=T,S=h[d][0],T=h[d][1],!(x<(m=Math.min(v,S))||x>Math.max(v,S)||g>Math.max(y,T)))if(g<Math.min(y,T))x!==m&&E++;else{if(g===(w=S===v?g:y+(x-v)*(T-y)/(S-v)))return d!==1||!c;g<=w&&x!==m&&E++}return E%2==1},isRect:l,degenerate:s}},a.isSegmentBent=function(_,b,h,o){var t,i,n,r=_[b],l=[_[h][0]-r[0],_[h][1]-r[1]],s=M(l,l),u=Math.sqrt(s),p=[-l[1]/u,l[0]/u];for(t=b+1;t<h;t++)if(i=[_[t][0]-r[0],_[t][1]-r[1]],(n=M(i,l))<0||n>s||Math.abs(M(i,p))>o)return!0;return!1},a.filter=function(_,b){var h=[_[0]],o=0,t=0;function i(n){_.push(n);var r=h.length,l=o;h.splice(t+1);for(var s=l+1;s<_.length;s++)(s===_.length-1||a.isSegmentBent(_,l,s+1,b))&&(h.push(_[s]),h.length<r-2&&(o=s,t=h.length-1),l=s)}return _.length>1&&i(_.pop()),{addPt:i,raw:_,filtered:h}}},79749:function(q,C,e){var M=e(58617),k=e(98580);q.exports=function(a,_,b){var h=a._fullLayout,o=!0;return h._glcanvas.each(function(t){if(t.regl)t.regl.preloadCachedCode(b);else if(!t.pick||h._has("parcoords")){try{t.regl=k({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:a._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:_||[],cachedCode:b||{}})}catch{o=!1}t.regl||(o=!1),o&&this.addEventListener("webglcontextlost",function(i){a&&a.emit&&a.emit("plotly_webglcontextlost",{event:i,layer:t.key})},!1)}}),o||M({container:h._glcontainer.node()}),o}},45142:function(q,C,e){var M=e(92770),k=e(35791);q.exports=function(a){var _;if(typeof(_=a&&a.hasOwnProperty("userAgent")?a.userAgent:function(){var r;return typeof navigator<"u"&&(r=navigator.userAgent),r&&r.headers&&typeof r.headers["user-agent"]=="string"&&(r=r.headers["user-agent"]),r}())!="string")return!0;var b=k({ua:{headers:{"user-agent":_}},tablet:!0,featureDetect:!1});if(!b){for(var h=_.split(" "),o=1;o<h.length;o++)if(h[o].indexOf("Safari")!==-1)for(var t=o-1;t>-1;t--){var i=h[t];if(i.substr(0,8)==="Version/"){var n=i.substr(8).split(".")[0];if(M(n)&&(n=+n),n>=13)return!0}}}return b}},75138:function(q){q.exports=function(C,e){if(e instanceof RegExp){for(var M=e.toString(),k=0;k<C.length;k++)if(C[k]instanceof RegExp&&C[k].toString()===M)return C;C.push(e)}else!e&&e!==0||C.indexOf(e)!==-1||C.push(e);return C}},10847:function(q,C,e){var M=e(71828),k=e(72075).dfltConfig,a={add:function(_,b,h,o,t){var i,n;_.undoQueue=_.undoQueue||{index:0,queue:[],sequence:!1},n=_.undoQueue.index,_.autoplay?_.undoQueue.inSequence||(_.autoplay=!1):(!_.undoQueue.sequence||_.undoQueue.beginSequence?(i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},_.undoQueue.queue.splice(n,_.undoQueue.queue.length-n,i),_.undoQueue.index+=1):i=_.undoQueue.queue[n-1],_.undoQueue.beginSequence=!1,i&&(i.undo.calls.unshift(b),i.undo.args.unshift(h),i.redo.calls.push(o),i.redo.args.push(t)),_.undoQueue.queue.length>k.queueLength&&(_.undoQueue.queue.shift(),_.undoQueue.index--))},startSequence:function(_){_.undoQueue=_.undoQueue||{index:0,queue:[],sequence:!1},_.undoQueue.sequence=!0,_.undoQueue.beginSequence=!0},stopSequence:function(_){_.undoQueue=_.undoQueue||{index:0,queue:[],sequence:!1},_.undoQueue.sequence=!1,_.undoQueue.beginSequence=!1},undo:function(_){var b,h;if(!(_.undoQueue===void 0||isNaN(_.undoQueue.index)||_.undoQueue.index<=0)){for(_.undoQueue.index--,b=_.undoQueue.queue[_.undoQueue.index],_.undoQueue.inSequence=!0,h=0;h<b.undo.calls.length;h++)a.plotDo(_,b.undo.calls[h],b.undo.args[h]);_.undoQueue.inSequence=!1,_.autoplay=!1}},redo:function(_){var b,h;if(!(_.undoQueue===void 0||isNaN(_.undoQueue.index)||_.undoQueue.index>=_.undoQueue.queue.length)){for(b=_.undoQueue.queue[_.undoQueue.index],_.undoQueue.inSequence=!0,h=0;h<b.redo.calls.length;h++)a.plotDo(_,b.redo.calls[h],b.redo.args[h]);_.undoQueue.inSequence=!1,_.autoplay=!1,_.undoQueue.index++}},plotDo:function(_,b,h){_.autoplay=!0,h=function(o,t){for(var i,n=[],r=0;r<t.length;r++)i=t[r],n[r]=i===o?i:typeof i=="object"?Array.isArray(i)?M.extendDeep([],i):M.extendDeepAll({},i):i;return n}(_,h),b.apply(null,h)}};q.exports=a},30587:function(q,C){C.counter=function(e,M,k,a){var _=(M||"")+(k?"":"$"),b=a===!1?"":"^";return e==="xy"?new RegExp(b+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+_):new RegExp(b+e+"([2-9]|[1-9][0-9]+)?"+_)}},6962:function(q){var C=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;q.exports=function(M,k){for(;k;){var a=M.match(C);if(a)M=a[1];else{if(!M.match(e))throw new Error("bad relativeAttr call:"+[M,k]);M=""}if(k.charAt(0)!=="^")break;k=k.slice(1)}return M&&k.charAt(0)!=="["?M+"."+k:M+k}},51332:function(q,C,e){var M=e(73627).isArrayOrTypedArray,k=e(41965);q.exports=function a(_,b){for(var h in b){var o=b[h],t=_[h];if(t!==o)if(h.charAt(0)==="_"||typeof o=="function"){if(h in _)continue;_[h]=o}else if(M(o)&&M(t)&&k(o[0])){if(h==="customdata"||h==="ids")continue;for(var i=Math.min(o.length,t.length),n=0;n<i;n++)t[n]!==o[n]&&k(o[n])&&k(t[n])&&a(t[n],o[n])}else k(o)&&k(t)&&(a(t,o),Object.keys(t).length||delete _[h])}}},65888:function(q,C,e){var M=e(92770),k=e(47769),a=e(23389),_=e(50606).BADNUM,b=1e-9;function h(n,r){return n<r}function o(n,r){return n<=r}function t(n,r){return n>r}function i(n,r){return n>=r}C.findBin=function(n,r,l){if(M(r.start))return l?Math.ceil((n-r.start)/r.size-b)-1:Math.floor((n-r.start)/r.size+b);var s,u,p=0,c=r.length,x=0,g=c>1?(r[c-1]-r[0])/(c-1):1;for(u=g>=0?l?h:o:l?i:t,n+=g*b*(l?-1:1)*(g>=0?1:-1);p<c&&x++<100;)u(r[s=Math.floor((p+c)/2)],n)?p=s+1:c=s;return x>90&&k.log("Long binary search..."),p-1},C.sorterAsc=function(n,r){return n-r},C.sorterDes=function(n,r){return r-n},C.distinctVals=function(n){var r,l=n.slice();for(l.sort(C.sorterAsc),r=l.length-1;r>-1&&l[r]===_;r--);for(var s,u=l[r]-l[0]||1,p=u/(r||1)/1e4,c=[],x=0;x<=r;x++){var g=l[x],d=g-s;s===void 0?(c.push(g),s=g):d>p&&(u=Math.min(u,d),c.push(g),s=g)}return{vals:c,minDiff:u}},C.roundUp=function(n,r,l){for(var s,u=0,p=r.length-1,c=0,x=l?0:1,g=l?1:0,d=l?Math.ceil:Math.floor;u<p&&c++<100;)r[s=d((u+p)/2)]<=n?u=s+x:p=s-g;return r[u]},C.sort=function(n,r){for(var l=0,s=0,u=1;u<n.length;u++){var p=r(n[u],n[u-1]);if(p<0?l=1:p>0&&(s=1),l&&s)return n.sort(r)}return s?n:n.reverse()},C.findIndexOfMin=function(n,r){r=r||a;for(var l,s=1/0,u=0;u<n.length;u++){var p=r(n[u]);p<s&&(s=p,l=u)}return l}},6964:function(q){q.exports=function(C,e){(C.attr("class")||"").split(" ").forEach(function(M){M.indexOf("cursor-")===0&&C.classed(M,!1)}),e&&C.classed("cursor-"+e,!0)}},58617:function(q,C,e){var M=e(7901),k=function(){};q.exports=function(a){for(var _ in a)typeof a[_]=="function"&&(a[_]=k);a.destroy=function(){a.container.parentNode.removeChild(a.container)};var b=document.createElement("div");b.className="no-webgl",b.style.cursor="pointer",b.style.fontSize="24px",b.style.color=M.defaults[0],b.style.position="absolute",b.style.left=b.style.top="0px",b.style.width=b.style.height="100%",b.style["background-color"]=M.lightLine,b.style["z-index"]=30;var h=document.createElement("p");return h.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",h.style.position="relative",h.style.top="50%",h.style.left="50%",h.style.height="30%",h.style.width="50%",h.style.margin="-15% 0 0 -25%",b.appendChild(h),a.container.appendChild(b),a.container.style.background="#FFFFFF",a.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(q){q.exports=function(C){return Object.keys(C).sort()}},80038:function(q,C,e){var M=e(92770),k=e(73627).isArrayOrTypedArray;C.aggNums=function(a,_,b,h){var o,t;if((!h||h>b.length)&&(h=b.length),M(_)||(_=!1),k(b[0])){for(t=new Array(h),o=0;o<h;o++)t[o]=C.aggNums(a,_,b[o]);b=t}for(o=0;o<h;o++)M(_)?M(b[o])&&(_=a(+_,+b[o])):_=b[o];return _},C.len=function(a){return C.aggNums(function(_){return _+1},0,a)},C.mean=function(a,_){return _||(_=C.len(a)),C.aggNums(function(b,h){return b+h},0,a)/_},C.midRange=function(a){if(a!==void 0&&a.length!==0)return(C.aggNums(Math.max,null,a)+C.aggNums(Math.min,null,a))/2},C.variance=function(a,_,b){return _||(_=C.len(a)),M(b)||(b=C.mean(a,_)),C.aggNums(function(h,o){return h+Math.pow(o-b,2)},0,a)/_},C.stdev=function(a,_,b){return Math.sqrt(C.variance(a,_,b))},C.median=function(a){var _=a.slice().sort();return C.interp(_,.5)},C.interp=function(a,_){if(!M(_))throw"n should be a finite number";if((_=_*a.length-.5)<0)return a[0];if(_>a.length-1)return a[a.length-1];var b=_%1;return b*a[Math.ceil(_)]+(1-b)*a[Math.floor(_)]}},78614:function(q,C,e){var M=e(25075);q.exports=function(k){return k?M(k):[0,0,0,1]}},3883:function(q,C,e){var M=e(32396),k=e(91424),a=e(71828),_=null;q.exports=function(){if(_!==null)return _;_=!1;var b=a.isIE()||a.isSafari()||a.isIOS();if(window.navigator.userAgent&&!b){var h=Array.from(M.CSS_DECLARATIONS).reverse(),o=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof o=="function")_=h.some(function(n){return o.apply(null,n)});else{var t=k.tester.append("image").attr("style",M.STYLE),i=window.getComputedStyle(t.node()).imageRendering;_=h.some(function(n){var r=n[1];return i===r||i===r.toLowerCase()}),t.remove()}}return _}},63893:function(q,C,e){var M=e(39898),k=e(71828),a=k.strTranslate,_=e(77922),b=e(18783).LINE_SPACING,h=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;C.convertToTspans=function(z,j,R){var N=z.text(),Z=!z.attr("data-notex")&&j&&j._context.typesetMath&&typeof MathJax<"u"&&N.match(h),F=M.select(z.node().parentNode);if(!F.empty()){var U=z.attr("class")?z.attr("class").split(" ")[0]:"text";return U+="-math",F.selectAll("svg."+U).remove(),F.selectAll("g."+U+"-group").remove(),z.style("display",null).attr({"data-unformatted":N,"data-math":"N"}),Z?(j&&j._promises||[]).push(new Promise(function(te){z.style("display","none");var Q=parseInt(z.node().style.fontSize,10),J={fontSize:Q};(function(X,K,ee){var re,ie,ae,ue,pe=parseInt((MathJax.version||"").split(".")[0]);if(pe===2||pe===3){var de=function(){var be="math-output-"+k.randstr({},64),me=(ue=M.select("body").append("div").attr({id:be}).style({visibility:"hidden",position:"absolute","font-size":K.fontSize+"px"}).text(X.replace(o,"\\lt ").replace(t,"\\gt "))).node();return pe===2?MathJax.Hub.Typeset(me):MathJax.typeset([me])},ye=function(){var be=ue.select(pe===2?".MathJax_SVG":".MathJax"),me=!be.empty()&&ue.select("svg").node();if(me){var Ee,Te=me.getBoundingClientRect();Ee=pe===2?M.select("body").select("#MathJax_SVG_glyphs"):be.select("defs"),ee(be,Ee,Te)}else k.log("There was an error in the tex syntax.",X),ee();ue.remove()};pe===2?MathJax.Hub.Queue(function(){return ie=k.extendDeepAll({},MathJax.Hub.config),ae=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:i},displayAlign:"left"})},function(){if((re=MathJax.Hub.config.menuSettings.renderer)!=="SVG")return MathJax.Hub.setRenderer("SVG")},de,ye,function(){if(re!=="SVG")return MathJax.Hub.setRenderer(re)},function(){return ae!==void 0&&(MathJax.Hub.processSectionDelay=ae),MathJax.Hub.Config(ie)}):pe===3&&(ie=k.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=i,(re=MathJax.config.startup.output)!=="svg"&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){de(),ye(),re!=="svg"&&(MathJax.config.startup.output=re),MathJax.config=ie}))}else k.warn("No MathJax version:",MathJax.version)})(Z[2],J,function(X,K,ee){F.selectAll("svg."+U).remove(),F.selectAll("g."+U+"-group").remove();var re=X&&X.select("svg");if(!re||!re.node())return V(),void te();var ie=F.append("g").classed(U+"-group",!0).attr({"pointer-events":"none","data-unformatted":N,"data-math":"Y"});ie.node().appendChild(re.node()),K&&K.node()&&re.node().insertBefore(K.node().cloneNode(!0),re.node().firstChild);var ae=ee.width,ue=ee.height;re.attr({class:U,height:ue,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var pe=z.node().style.fill||"black",de=re.select("g");de.attr({fill:pe,stroke:pe});var ye=de.node().getBoundingClientRect(),be=ye.width,me=ye.height;(be>ae||me>ue)&&(re.style("overflow","hidden"),be=(ye=re.node().getBoundingClientRect()).width,me=ye.height);var Ee=+z.attr("x"),Te=+z.attr("y"),we=-(Q||z.node().getBoundingClientRect().height)/4;if(U[0]==="y")ie.attr({transform:"rotate("+[-90,Ee,Te]+")"+a(-be/2,we-me/2)});else if(U[0]==="l")Te=we-me/2;else if(U[0]==="a"&&U.indexOf("atitle")!==0)Ee=0,Te=we;else{var oe=z.attr("text-anchor");Ee-=be*(oe==="middle"?.5:oe==="end"?1:0),Te=Te+we-me/2}re.attr({x:Ee,y:Te}),R&&R.call(z,ie),te(ie)})})):V(),z}function V(){F.empty()||(U=z.attr("class")+"-math",F.select("svg."+U).remove()),z.text("").style("white-space","pre");var te=function(Q,J){J=J.replace(p," ");var X,K=!1,ee=[],re=-1;function ie(){re++;var _e=document.createElementNS(_.svg,"tspan");M.select(_e).attr({class:"line",dy:re*b+"em"}),Q.appendChild(_e),X=_e;var Ae=ee;if(ee=[{node:_e}],Ae.length>1)for(var Ce=1;Ce<Ae.length;Ce++)ae(Ae[Ce])}function ae(_e){var Ae,Ce=_e.type,Re={};if(Ce==="a"){Ae="a";var fe=_e.target,xe=_e.href,ke=_e.popup;xe&&(Re={"xlink:xlink:show":fe==="_blank"||fe.charAt(0)!=="_"?"new":"replace",target:fe,"xlink:xlink:href":xe},ke&&(Re.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+ke+'");return false;'))}else Ae="tspan";_e.style&&(Re.style=_e.style);var Ie=document.createElementNS(_.svg,Ae);if(Ce==="sup"||Ce==="sub"){ue(X,s),X.appendChild(Ie);var Fe=document.createElementNS(_.svg,"tspan");ue(Fe,s),M.select(Fe).attr("dy",l[Ce]),Re.dy=r[Ce],X.appendChild(Ie),X.appendChild(Fe)}else X.appendChild(Ie);M.select(Ie).attr(Re),X=_e.node=Ie,ee.push(_e)}function ue(_e,Ae){_e.appendChild(document.createTextNode(Ae))}function pe(_e){if(ee.length!==1){var Ae=ee.pop();_e!==Ae.type&&k.log("Start tag <"+Ae.type+"> doesnt match end tag <"+_e+">. Pretending it did match.",J),X=ee[ee.length-1].node}else k.log("Ignoring unexpected end tag </"+_e+">.",J)}g.test(J)?ie():(X=Q,ee=[{node:Q}]);for(var de=J.split(c),ye=0;ye<de.length;ye++){var be=de[ye],me=be.match(x),Ee=me&&me[2].toLowerCase(),Te=n[Ee];if(Ee==="br")ie();else if(Te===void 0)ue(X,E(be));else if(me[1])pe(Ee);else{var we=me[4],oe={type:Ee},se=w(we,d);if(se?(se=se.replace(f,"$1 fill:"),Te&&(se+=";"+Te)):Te&&(se=Te),se&&(oe.style=se),Ee==="a"){K=!0;var he=w(we,v);if(he){var Se=O(he);Se&&(oe.href=Se,oe.target=w(we,y)||"_blank",oe.popup=w(we,m))}}ae(oe)}}return K}(z.node(),N);te&&z.style("pointer-events","all"),C.positionText(z),R&&R.call(z)}};var o=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g,i=[["$","$"],["\\(","\\)"]],n={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},r={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},s="",u=["http:","https:","mailto:","",void 0,":"],p=C.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,x=/<(\/?)([^ >]*)(\s+(.*))?>/i,g=/<br(\s+.*)?>/i;C.BR_TAG_ALL=/<br(\s+.*)?>/gi;var d=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,v=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,y=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,m=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function w(z,j){if(!z)return null;var R=z.match(j),N=R&&(R[3]||R[4]);return N&&E(N)}var f=/(^|;)\s*color:/;C.plainText=function(z,j){for(var R=(j=j||{}).len!==void 0&&j.len!==-1?j.len:1/0,N=j.allowedTags!==void 0?j.allowedTags:["br"],Z=z.split(c),F=[],U="",V=0,te=0;te<Z.length;te++){var Q=Z[te],J=Q.match(x),X=J&&J[2].toLowerCase();if(X)N.indexOf(X)!==-1&&(F.push(Q),U=X);else{var K=Q.length;if(V+K<R)F.push(Q),V+=K;else if(V<R){var ee=R-V;U&&(U!=="br"||ee<=3||K<=3)&&F.pop(),R>3?F.push(Q.substr(0,ee-3)+"..."):F.push(Q.substr(0,ee));break}U=""}}return F.join("")};var S={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},T=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function E(z){return z.replace(T,function(j,R){return(R.charAt(0)==="#"?function(N){if(!(N>1114111)){var Z=String.fromCodePoint;if(Z)return Z(N);var F=String.fromCharCode;return N<=65535?F(N):F(55232+(N>>10),N%1024+56320)}}(R.charAt(1)==="x"?parseInt(R.substr(2),16):parseInt(R.substr(1),10)):S[R])||j})}function O(z){var j=encodeURI(decodeURI(z)),R=document.createElement("a"),N=document.createElement("a");R.href=z,N.href=j;var Z=R.protocol,F=N.protocol;return u.indexOf(Z)!==-1&&u.indexOf(F)!==-1?j:""}function P(z,j,R){var N,Z,F,U=R.horizontalAlign,V=R.verticalAlign||"top",te=z.node().getBoundingClientRect(),Q=j.node().getBoundingClientRect();return Z=V==="bottom"?function(){return te.bottom-N.height}:V==="middle"?function(){return te.top+(te.height-N.height)/2}:function(){return te.top},F=U==="right"?function(){return te.right-N.width}:U==="center"?function(){return te.left+(te.width-N.width)/2}:function(){return te.left},function(){N=this.node().getBoundingClientRect();var J=F()-Q.left,X=Z()-Q.top,K=R.gd||{};if(R.gd){K._fullLayout._calcInverseTransform(K);var ee=k.apply3DTransform(K._fullLayout._invTransform)(J,X);J=ee[0],X=ee[1]}return this.style({top:X+"px",left:J+"px","z-index":1e3}),this}}C.convertEntities=E,C.sanitizeHTML=function(z){z=z.replace(p," ");for(var j=document.createElement("p"),R=j,N=[],Z=z.split(c),F=0;F<Z.length;F++){var U=Z[F],V=U.match(x),te=V&&V[2].toLowerCase();if(te in n)if(V[1])N.length&&(R=N.pop());else{var Q=V[4],J=w(Q,d),X=J?{style:J}:{};if(te==="a"){var K=w(Q,v);if(K){var ee=O(K);if(ee){X.href=ee;var re=w(Q,y);re&&(X.target=re)}}}var ie=document.createElement(te);R.appendChild(ie),M.select(ie).attr(X),R=ie,N.push(ie)}else R.appendChild(document.createTextNode(E(U)))}return j.innerHTML},C.lineCount=function(z){return z.selectAll("tspan.line").size()||1},C.positionText=function(z,j,R){return z.each(function(){var N=M.select(this);function Z(V,te){return te===void 0?(te=N.attr(V))===null&&(N.attr(V,0),te=0):N.attr(V,te),te}var F=Z("x",j),U=Z("y",R);this.nodeName==="text"&&N.selectAll("tspan.line").attr({x:F,y:U})})};var I="1px ";C.makeTextShadow=function(z){return I+I+I+z+", -"+I+"-"+I+I+z+", "+I+"-"+I+I+z+", -"+I+I+I+z},C.makeEditable=function(z,j){var R=j.gd,N=j.delegate,Z=M.dispatch("edit","input","cancel"),F=N||z;if(z.style({"pointer-events":N?"none":"all"}),z.size()!==1)throw new Error("boo");function U(){var te,Q,J,X,K;te=M.select(R).select(".svg-container"),Q=te.append("div"),J=z.node().style,X=parseFloat(J.fontSize||12),(K=j.text)===void 0&&(K=z.attr("data-unformatted")),Q.classed("plugin-editable editable",!0).style({position:"absolute","font-family":J.fontFamily||"Arial","font-size":X,color:j.fill||J.fill||"black",opacity:1,"background-color":j.background||"transparent",outline:"#ffffff33 1px solid",margin:[-X/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(K).call(P(z,te,j)).on("blur",function(){R._editing=!1,z.text(this.textContent).style({opacity:1});var ie,ae=M.select(this).attr("class");(ie=ae?"."+ae.split(" ")[0]+"-math-group":"[class*=-math-group]")&&M.select(z.node().parentNode).select(ie).style({opacity:0});var ue=this.textContent;M.select(this).transition().duration(0).remove(),M.select(document).on("mouseup",null),Z.edit.call(z,ue)}).on("focus",function(){var ie=this;R._editing=!0,M.select(document).on("mouseup",function(){if(M.event.target===ie)return!1;document.activeElement===Q.node()&&Q.node().blur()})}).on("keyup",function(){M.event.which===27?(R._editing=!1,z.style({opacity:1}),M.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),Z.cancel.call(z,this.textContent)):(Z.input.call(z,this.textContent),M.select(this).call(P(z,te,j)))}).on("keydown",function(){M.event.which===13&&this.blur()}).call(V),z.style({opacity:0});var ee,re=F.attr("class");(ee=re?"."+re.split(" ")[0]+"-math-group":"[class*=-math-group]")&&M.select(z.node().parentNode).select(ee).style({opacity:0})}function V(te){var Q=te.node(),J=document.createRange();J.selectNodeContents(Q);var X=window.getSelection();X.removeAllRanges(),X.addRange(J),Q.focus()}return j.immediate?U():F.on("click",U),M.rebind(z,Z,"on")}},79990:function(q,C){var e={};function M(k){k&&k.timer!==null&&(clearTimeout(k.timer),k.timer=null)}C.throttle=function(k,a,_){var b=e[k],h=Date.now();if(!b){for(var o in e)e[o].ts<h-6e4&&delete e[o];b=e[k]={ts:0,timer:null}}function t(){_(),b.ts=Date.now(),b.onDone&&(b.onDone(),b.onDone=null)}M(b),h>b.ts+a?t():b.timer=setTimeout(function(){t(),b.timer=null},a)},C.done=function(k){var a=e[k];return a&&a.timer?new Promise(function(_){var b=a.onDone;a.onDone=function(){b&&b(),_(),a.onDone=null}}):Promise.resolve()},C.clear=function(k){if(k)M(e[k]),delete e[k];else for(var a in e)C.clear(a)}},58163:function(q,C,e){var M=e(92770);q.exports=function(k,a){if(k>0)return Math.log(k)/Math.LN10;var _=Math.log(Math.min(a[0],a[1]))/Math.LN10;return M(_)||(_=Math.log(Math.max(a[0],a[1]))/Math.LN10-6),_}},90973:function(q,C,e){var M=q.exports={},k=e(78776).locationmodeToLayer,a=e(96892).zL;M.getTopojsonName=function(_){return[_.scope.replace(/ /g,"-"),"_",_.resolution.toString(),"m"].join("")},M.getTopojsonPath=function(_,b){return _+b+".json"},M.getTopojsonFeatures=function(_,b){var h=k[_.locationmode],o=b.objects[h];return a(b,o).features}},37815:function(q){q.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(q){q.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(q,C,e){var M=e(73972);q.exports=function(k){for(var a,_,b=M.layoutArrayContainers,h=M.layoutArrayRegexes,o=k.split("[")[0],t=0;t<h.length;t++)if((_=k.match(h[t]))&&_.index===0){a=_[0];break}if(a||(a=b[b.indexOf(o)]),!a)return!1;var i=k.substr(a.length);return i?!!(_=i.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:a,index:Number(_[1]),property:_[3]||""}:{array:a,index:"",property:""}}},30962:function(q,C,e){var M=e(1426).extendFlat,k=e(41965),a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},_={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},b=a.flags.slice().concat(["fullReplot"]),h=_.flags.slice().concat("layoutReplot");function o(n){for(var r={},l=0;l<n.length;l++)r[n[l]]=!1;return r}function t(n,r,l){var s=M({},n);for(var u in s){var p=s[u];k(p)&&(s[u]=i(p,r,0,u))}return l==="from-root"&&(s.editType=r),s}function i(n,r,l,s){if(n.valType){var u=M({},n);if(u.editType=r,Array.isArray(n.items)){u.items=new Array(n.items.length);for(var p=0;p<n.items.length;p++)u.items[p]=i(n.items[p],r)}return u}return t(n,r,s.charAt(0)==="_"?"nested":"from-root")}q.exports={traces:a,layout:_,traceFlags:function(){return o(b)},layoutFlags:function(){return o(h)},update:function(n,r){var l=r.editType;if(l&&l!=="none")for(var s=l.split("+"),u=0;u<s.length;u++)n[s[u]]=!0},overrideAll:t}},58377:function(q,C,e){var M=e(92770),k=e(27812),a=e(73972),_=e(71828),b=e(74875),h=e(41675),o=e(7901),t=h.cleanId,i=h.getFromTrace,n=a.traceIs;function r(v,y){var m=v[y],w=y.charAt(0);m&&m!=="paper"&&(v[y]=t(m,w,!0))}function l(v){function y(m,w){var f=v[m],S=v.title&&v.title[w];f&&!S&&(v.title||(v.title={}),v.title[w]=v[m],delete v[m])}v&&(typeof v.title!="string"&&typeof v.title!="number"||(v.title={text:v.title}),y("titlefont","font"),y("titleposition","position"),y("titleside","side"),y("titleoffset","offset"))}function s(v){if(!_.isPlainObject(v))return!1;var y=v.name;return delete v.name,delete v.showlegend,(typeof y=="string"||typeof y=="number")&&String(y)}function u(v,y,m,w){if(m&&!w)return v;if(w&&!m||!v.trim())return y;if(!y.trim())return v;var f,S=Math.min(v.length,y.length);for(f=0;f<S&&v.charAt(f)===y.charAt(f);f++);return v.substr(0,f).trim()}function p(v){var y="middle",m="center";return typeof v=="string"&&(v.indexOf("top")!==-1?y="top":v.indexOf("bottom")!==-1&&(y="bottom"),v.indexOf("left")!==-1?m="left":v.indexOf("right")!==-1&&(m="right")),y+" "+m}function c(v,y){return y in v&&typeof v[y]=="object"&&Object.keys(v[y]).length===0}C.clearPromiseQueue=function(v){Array.isArray(v._promises)&&v._promises.length>0&&_.log("Clearing previous rejected promises from queue."),v._promises=[]},C.cleanLayout=function(v){var y,m;v||(v={}),v.xaxis1&&(v.xaxis||(v.xaxis=v.xaxis1),delete v.xaxis1),v.yaxis1&&(v.yaxis||(v.yaxis=v.yaxis1),delete v.yaxis1),v.scene1&&(v.scene||(v.scene=v.scene1),delete v.scene1);var w=(b.subplotsRegistry.cartesian||{}).attrRegex,f=(b.subplotsRegistry.polar||{}).attrRegex,S=(b.subplotsRegistry.ternary||{}).attrRegex,T=(b.subplotsRegistry.gl3d||{}).attrRegex,E=Object.keys(v);for(y=0;y<E.length;y++){var O=E[y];if(w&&w.test(O)){var P=v[O];P.anchor&&P.anchor!=="free"&&(P.anchor=t(P.anchor)),P.overlaying&&(P.overlaying=t(P.overlaying)),P.type||(P.isdate?P.type="date":P.islog?P.type="log":P.isdate===!1&&P.islog===!1&&(P.type="linear")),P.autorange!=="withzero"&&P.autorange!=="tozero"||(P.autorange=!0,P.rangemode="tozero"),P.insiderange&&delete P.range,delete P.islog,delete P.isdate,delete P.categories,c(P,"domain")&&delete P.domain,P.autotick!==void 0&&(P.tickmode===void 0&&(P.tickmode=P.autotick?"auto":"linear"),delete P.autotick),l(P)}else if(f&&f.test(O))l(v[O].radialaxis);else if(S&&S.test(O)){var I=v[O];l(I.aaxis),l(I.baxis),l(I.caxis)}else if(T&&T.test(O)){var z=v[O],j=z.cameraposition;if(Array.isArray(j)&&j[0].length===4){var R=j[0],N=j[1],Z=j[2],F=k([],R),U=[];for(m=0;m<3;++m)U[m]=N[m]+Z*F[2+4*m];z.camera={eye:{x:U[0],y:U[1],z:U[2]},center:{x:N[0],y:N[1],z:N[2]},up:{x:0,y:0,z:1}},delete z.cameraposition}l(z.xaxis),l(z.yaxis),l(z.zaxis)}}var V=Array.isArray(v.annotations)?v.annotations.length:0;for(y=0;y<V;y++){var te=v.annotations[y];_.isPlainObject(te)&&(te.ref&&(te.ref==="paper"?(te.xref="paper",te.yref="paper"):te.ref==="data"&&(te.xref="x",te.yref="y"),delete te.ref),r(te,"xref"),r(te,"yref"))}var Q=Array.isArray(v.shapes)?v.shapes.length:0;for(y=0;y<Q;y++){var J=v.shapes[y];_.isPlainObject(J)&&(r(J,"xref"),r(J,"yref"))}var X=Array.isArray(v.images)?v.images.length:0;for(y=0;y<X;y++){var K=v.images[y];_.isPlainObject(K)&&(r(K,"xref"),r(K,"yref"))}var ee=v.legend;return ee&&(ee.x>3?(ee.x=1.02,ee.xanchor="left"):ee.x<-2&&(ee.x=-.02,ee.xanchor="right"),ee.y>3?(ee.y=1.02,ee.yanchor="bottom"):ee.y<-2&&(ee.y=-.02,ee.yanchor="top")),l(v),v.dragmode==="rotate"&&(v.dragmode="orbit"),o.clean(v),v.template&&v.template.layout&&C.cleanLayout(v.template.layout),v},C.cleanData=function(v){for(var y=0;y<v.length;y++){var m,w=v[y];if(w.type==="histogramy"&&"xbins"in w&&!("ybins"in w)&&(w.ybins=w.xbins,delete w.xbins),w.error_y&&"opacity"in w.error_y){var f=o.defaults,S=w.error_y.color||(n(w,"bar")?o.defaultLine:f[y%f.length]);w.error_y.color=o.addOpacity(o.rgb(S),o.opacity(S)*w.error_y.opacity),delete w.error_y.opacity}if("bardir"in w&&(w.bardir!=="h"||!n(w,"bar")&&w.type.substr(0,9)!=="histogram"||(w.orientation="h",C.swapXYData(w)),delete w.bardir),w.type==="histogramy"&&C.swapXYData(w),w.type!=="histogramx"&&w.type!=="histogramy"||(w.type="histogram"),"scl"in w&&!("colorscale"in w)&&(w.colorscale=w.scl,delete w.scl),"reversescl"in w&&!("reversescale"in w)&&(w.reversescale=w.reversescl,delete w.reversescl),w.xaxis&&(w.xaxis=t(w.xaxis,"x")),w.yaxis&&(w.yaxis=t(w.yaxis,"y")),n(w,"gl3d")&&w.scene&&(w.scene=b.subplotsRegistry.gl3d.cleanId(w.scene)),!n(w,"pie-like")&&!n(w,"bar-like"))if(Array.isArray(w.textposition))for(m=0;m<w.textposition.length;m++)w.textposition[m]=p(w.textposition[m]);else w.textposition&&(w.textposition=p(w.textposition));var T=a.getModule(w);if(T&&T.colorbar){var E=T.colorbar.container,O=E?w[E]:w;O&&O.colorscale&&(O.colorscale==="YIGnBu"&&(O.colorscale="YlGnBu"),O.colorscale==="YIOrRd"&&(O.colorscale="YlOrRd"))}if(w.type==="surface"&&_.isPlainObject(w.contours)){var P=["x","y","z"];for(m=0;m<P.length;m++){var I=w.contours[P[m]];_.isPlainObject(I)&&(I.highlightColor&&(I.highlightcolor=I.highlightColor,delete I.highlightColor),I.highlightWidth&&(I.highlightwidth=I.highlightWidth,delete I.highlightWidth))}}if(w.type==="candlestick"||w.type==="ohlc"){var z=(w.increasing||{}).showlegend!==!1,j=(w.decreasing||{}).showlegend!==!1,R=s(w.increasing),N=s(w.decreasing);if(R!==!1&&N!==!1){var Z=u(R,N,z,j);Z&&(w.name=Z)}else!R&&!N||w.name||(w.name=R||N)}if(Array.isArray(w.transforms)){var F=w.transforms;for(m=0;m<F.length;m++){var U=F[m];if(_.isPlainObject(U))switch(U.type){case"filter":U.filtersrc&&(U.target=U.filtersrc,delete U.filtersrc),U.calendar&&(U.valuecalendar||(U.valuecalendar=U.calendar),delete U.calendar);break;case"groupby":if(U.styles=U.styles||U.style,U.styles&&!Array.isArray(U.styles)){var V=U.styles,te=Object.keys(V);U.styles=[];for(var Q=0;Q<te.length;Q++)U.styles.push({target:te[Q],value:V[te[Q]]})}}}}c(w,"line")&&delete w.line,"marker"in w&&(c(w.marker,"line")&&delete w.marker.line,c(w,"marker")&&delete w.marker),o.clean(w),w.autobinx&&(delete w.autobinx,delete w.xbins),w.autobiny&&(delete w.autobiny,delete w.ybins),l(w),w.colorbar&&l(w.colorbar),w.marker&&w.marker.colorbar&&l(w.marker.colorbar),w.line&&w.line.colorbar&&l(w.line.colorbar),w.aaxis&&l(w.aaxis),w.baxis&&l(w.baxis)}},C.swapXYData=function(v){var y;if(_.swapAttrs(v,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(v.z)&&Array.isArray(v.z[0])&&(v.transpose?delete v.transpose:v.transpose=!0),v.error_x&&v.error_y){var m=v.error_y,w="copy_ystyle"in m?m.copy_ystyle:!(m.color||m.thickness||m.width);_.swapAttrs(v,["error_?.copy_ystyle"]),w&&_.swapAttrs(v,["error_?.color","error_?.thickness","error_?.width"])}if(typeof v.hoverinfo=="string"){var f=v.hoverinfo.split("+");for(y=0;y<f.length;y++)f[y]==="x"?f[y]="y":f[y]==="y"&&(f[y]="x");v.hoverinfo=f.join("+")}},C.coerceTraceIndices=function(v,y){if(M(y))return[y];if(!Array.isArray(y)||!y.length)return v.data.map(function(f,S){return S});if(Array.isArray(y)){for(var m=[],w=0;w<y.length;w++)_.isIndex(y[w],v.data.length)?m.push(y[w]):_.warn("trace index (",y[w],") is not a number or is out of bounds");return m}return y},C.manageArrayContainers=function(v,y,m){var w=v.obj,f=v.parts,S=f.length,T=f[S-1],E=M(T);if(E&&y===null){var O=f.slice(0,S-1).join(".");_.nestedProperty(w,O).get().splice(T,1)}else E&&v.get()===void 0&&v.get()===void 0&&(m[v.astr]=null),v.set(y)};var x=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function g(v){var y=v.search(x);if(y>0)return v.substr(0,y)}C.hasParent=function(v,y){for(var m=g(y);m;){if(m in v)return!0;m=g(m)}return!1};var d=["x","y","z"];C.clearAxisTypes=function(v,y,m){for(var w=0;w<y.length;w++)for(var f=v._fullData[w],S=0;S<3;S++){var T=i(v,f,d[S]);if(T&&T.type!=="log"){var E=T._name,O=T._id.substr(1);if(O.substr(0,5)==="scene"){if(m[O]!==void 0)continue;E=O+"."+E}var P=E+".type";m[E]===void 0&&m[P]===void 0&&_.nestedProperty(v.layout,P).set(null)}}}},10641:function(q,C,e){var M=e(72391);C._doPlot=M._doPlot,C.newPlot=M.newPlot,C.restyle=M.restyle,C.relayout=M.relayout,C.redraw=M.redraw,C.update=M.update,C._guiRestyle=M._guiRestyle,C._guiRelayout=M._guiRelayout,C._guiUpdate=M._guiUpdate,C._storeDirectGUIEdit=M._storeDirectGUIEdit,C.react=M.react,C.extendTraces=M.extendTraces,C.prependTraces=M.prependTraces,C.addTraces=M.addTraces,C.deleteTraces=M.deleteTraces,C.moveTraces=M.moveTraces,C.purge=M.purge,C.addFrames=M.addFrames,C.deleteFrames=M.deleteFrames,C.animate=M.animate,C.setPlotConfig=M.setPlotConfig;var k=e(24401).getGraphDiv,a=e(34031).eraseActiveShape;C.deleteActiveShape=function(b){return a(k(b))},C.toImage=e(403),C.validate=e(84936),C.downloadImage=e(7239);var _=e(96318);C.makeTemplate=_.makeTemplate,C.validateTemplate=_.validateTemplate},6611:function(q,C,e){var M=e(41965),k=e(64213),a=e(47769),_=e(65888).sorterAsc,b=e(73972);C.containerArrayMatch=e(14458);var h=C.isAddVal=function(t){return t==="add"||M(t)},o=C.isRemoveVal=function(t){return t===null||t==="remove"};C.applyContainerArrayChanges=function(t,i,n,r,l){var s=i.astr,u=b.getComponentMethod(s,"supplyLayoutDefaults"),p=b.getComponentMethod(s,"draw"),c=b.getComponentMethod(s,"drawOne"),x=r.replot||r.recalc||u===k||p===k,g=t.layout,d=t._fullLayout;if(n[""]){Object.keys(n).length>1&&a.warn("Full array edits are incompatible with other edits",s);var v=n[""][""];if(o(v))i.set(null);else{if(!Array.isArray(v))return a.warn("Unrecognized full array edit value",s,v),!0;i.set(v)}return!x&&(u(g,d),p(t),!0)}var y,m,w,f,S,T,E,O,P=Object.keys(n).map(Number).sort(_),I=i.get(),z=I||[],j=l(d,s).get(),R=[],N=-1,Z=z.length;for(y=0;y<P.length;y++)if(f=n[w=P[y]],S=Object.keys(f),T=f[""],E=h(T),w<0||w>z.length-(E?0:1))a.warn("index out of range",s,w);else if(T!==void 0)S.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",s,w),o(T)?R.push(w):E?(T==="add"&&(T={}),z.splice(w,0,T),j&&j.splice(w,0,{})):a.warn("Unrecognized full object edit value",s,w,T),N===-1&&(N=w);else for(m=0;m<S.length;m++)O=s+"["+w+"].",l(z[w],S[m],O).set(f[S[m]]);for(y=R.length-1;y>=0;y--)z.splice(R[y],1),j&&j.splice(R[y],1);if(z.length?I||i.set(z):i.set(null),x)return!1;if(u(g,d),c!==k){var F;if(N===-1)F=P;else{for(Z=Math.max(z.length,Z),F=[],y=0;y<P.length&&!((w=P[y])>=N);y++)F.push(w);for(y=N;y<Z;y++)F.push(y)}for(y=0;y<F.length;y++)c(t,F[y])}else p(t);return!0}},72391:function(q,C,e){var M=e(39898),k=e(92770),a=e(57035),_=e(71828),b=_.nestedProperty,h=e(11086),o=e(10847),t=e(73972),i=e(86281),n=e(74875),r=e(89298),l=e(23608),s=e(13838),u=e(91424),p=e(7901),c=e(4305).initInteractions,x=e(77922),g=e(47322).clearOutline,d=e(72075).dfltConfig,v=e(6611),y=e(58377),m=e(61549),w=e(30962),f=e(85555).AX_NAME_PATTERN,S=0;function T(_e){var Ae=_e._fullLayout;Ae._redrawFromAutoMarginCount?Ae._redrawFromAutoMarginCount--:_e.emit("plotly_afterplot")}function E(_e,Ae){try{_e._fullLayout._paper.style("background",Ae)}catch(Ce){_.error(Ce)}}function O(_e,Ae){E(_e,p.combine(Ae,"white"))}function P(_e,Ae){if(!_e._context){_e._context=_.extendDeep({},d);var Ce=M.select("base");_e._context._baseUrl=Ce.size()&&Ce.attr("href")?window.location.href.split("#")[0]:""}var Re,fe,xe,ke=_e._context;if(Ae){for(fe=Object.keys(Ae),Re=0;Re<fe.length;Re++)(xe=fe[Re])!=="editable"&&xe!=="edits"&&xe in ke&&(xe==="setBackground"&&Ae[xe]==="opaque"?ke[xe]=O:ke[xe]=Ae[xe]);Ae.plot3dPixelRatio&&!ke.plotGlPixelRatio&&(ke.plotGlPixelRatio=ke.plot3dPixelRatio);var Ie=Ae.editable;if(Ie!==void 0)for(ke.editable=Ie,fe=Object.keys(ke.edits),Re=0;Re<fe.length;Re++)ke.edits[fe[Re]]=Ie;if(Ae.edits)for(fe=Object.keys(Ae.edits),Re=0;Re<fe.length;Re++)(xe=fe[Re])in ke.edits&&(ke.edits[xe]=Ae.edits[xe]);ke._exportedPlot=Ae._exportedPlot}ke.staticPlot&&(ke.editable=!1,ke.edits={},ke.autosizable=!1,ke.scrollZoom=!1,ke.doubleClick=!1,ke.showTips=!1,ke.showLink=!1,ke.displayModeBar=!1),ke.displayModeBar!=="hover"||a||(ke.displayModeBar=!0),ke.setBackground!=="transparent"&&typeof ke.setBackground=="function"||(ke.setBackground=E),ke._hasZeroHeight=ke._hasZeroHeight||_e.clientHeight===0,ke._hasZeroWidth=ke._hasZeroWidth||_e.clientWidth===0;var Fe=ke.scrollZoom,ze=ke._scrollZoom={};if(Fe===!0)ze.cartesian=1,ze.gl3d=1,ze.geo=1,ze.mapbox=1;else if(typeof Fe=="string"){var qe=Fe.split("+");for(Re=0;Re<qe.length;Re++)ze[qe[Re]]=1}else Fe!==!1&&(ze.gl3d=1,ze.geo=1,ze.mapbox=1)}function I(_e,Ae){var Ce,Re,fe=Ae+1,xe=[];for(Ce=0;Ce<_e.length;Ce++)(Re=_e[Ce])<0?xe.push(fe+Re):xe.push(Re);return xe}function z(_e,Ae,Ce){var Re,fe;for(Re=0;Re<Ae.length;Re++){if((fe=Ae[Re])!==parseInt(fe,10))throw new Error("all values in "+Ce+" must be integers");if(fe>=_e.data.length||fe<-_e.data.length)throw new Error(Ce+" must be valid indices for gd.data.");if(Ae.indexOf(fe,Re+1)>-1||fe>=0&&Ae.indexOf(-_e.data.length+fe)>-1||fe<0&&Ae.indexOf(_e.data.length+fe)>-1)throw new Error("each index in "+Ce+" must be unique.")}}function j(_e,Ae,Ce){if(!Array.isArray(_e.data))throw new Error("gd.data must be an array.");if(Ae===void 0)throw new Error("currentIndices is a required argument.");if(Array.isArray(Ae)||(Ae=[Ae]),z(_e,Ae,"currentIndices"),Ce===void 0||Array.isArray(Ce)||(Ce=[Ce]),Ce!==void 0&&z(_e,Ce,"newIndices"),Ce!==void 0&&Ae.length!==Ce.length)throw new Error("current and new indices must be of equal length.")}function R(_e,Ae,Ce,Re,fe){(function(Qe,ft,ht,mt){var Mt=_.isPlainObject(mt);if(!Array.isArray(Qe.data))throw new Error("gd.data must be an array");if(!_.isPlainObject(ft))throw new Error("update must be a key:value object");if(ht===void 0)throw new Error("indices must be an integer or array of integers");for(var _t in z(Qe,ht,"indices"),ft){if(!Array.isArray(ft[_t])||ft[_t].length!==ht.length)throw new Error("attribute "+_t+" must be an array of length equal to indices array length");if(Mt&&(!(_t in mt)||!Array.isArray(mt[_t])||mt[_t].length!==ft[_t].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}})(_e,Ae,Ce,Re);for(var xe=function(Qe,ft,ht,mt){var Mt,_t,it,st,St,zt=_.isPlainObject(mt),Ft=[];for(var Pt in Array.isArray(ht)||(ht=[ht]),ht=I(ht,Qe.data.length-1),ft)for(var Ze=0;Ze<ht.length;Ze++){if(Mt=Qe.data[ht[Ze]],_t=(it=b(Mt,Pt)).get(),st=ft[Pt][Ze],!_.isArrayOrTypedArray(st))throw new Error("attribute: "+Pt+" index: "+Ze+" must be an array");if(!_.isArrayOrTypedArray(_t))throw new Error("cannot extend missing or non-array attribute: "+Pt);if(_t.constructor!==st.constructor)throw new Error("cannot extend array with an array of a different type: "+Pt);St=zt?mt[Pt][Ze]:mt,k(St)||(St=-1),Ft.push({prop:it,target:_t,insert:st,maxp:Math.floor(St)})}return Ft}(_e,Ae,Ce,Re),ke={},Ie={},Fe=0;Fe<xe.length;Fe++){var ze=xe[Fe].prop,qe=xe[Fe].maxp,Ye=fe(xe[Fe].target,xe[Fe].insert,qe);ze.set(Ye[0]),Array.isArray(ke[ze.astr])||(ke[ze.astr]=[]),ke[ze.astr].push(Ye[1]),Array.isArray(Ie[ze.astr])||(Ie[ze.astr]=[]),Ie[ze.astr].push(xe[Fe].target.length)}return{update:ke,maxPoints:Ie}}function N(_e,Ae){var Ce=new _e.constructor(_e.length+Ae.length);return Ce.set(_e),Ce.set(Ae,_e.length),Ce}function Z(_e,Ae,Ce,Re){_e=_.getGraphDiv(_e),y.clearPromiseQueue(_e);var fe={};if(typeof Ae=="string")fe[Ae]=Ce;else{if(!_.isPlainObject(Ae))return _.warn("Restyle fail.",Ae,Ce,Re),Promise.reject();fe=_.extendFlat({},Ae),Re===void 0&&(Re=Ce)}Object.keys(fe).length&&(_e.changed=!0);var xe=y.coerceTraceIndices(_e,Re),ke=te(_e,fe,xe),Ie=ke.flags;Ie.calc&&(_e.calcdata=void 0),Ie.clearAxisTypes&&y.clearAxisTypes(_e,xe,{});var Fe=[];Ie.fullReplot?Fe.push(C._doPlot):(Fe.push(n.previousPromises),n.supplyDefaults(_e),Ie.markerSize&&(n.doCalcdata(_e),K(Fe)),Ie.style&&Fe.push(m.doTraceStyle),Ie.colorbars&&Fe.push(m.doColorBars),Fe.push(T)),Fe.push(n.rehover,n.redrag,n.reselect),o.add(_e,Z,[_e,ke.undoit,ke.traces],Z,[_e,ke.redoit,ke.traces]);var ze=_.syncOrAsync(Fe,_e);return ze&&ze.then||(ze=Promise.resolve()),ze.then(function(){return _e.emit("plotly_restyle",ke.eventData),_e})}function F(_e){return _e===void 0?null:_e}function U(_e,Ae){return Ae?function(Ce,Re,fe){var xe=b(Ce,Re),ke=xe.set;return xe.set=function(Ie){V((fe||"")+Re,xe.get(),Ie,_e),ke(Ie)},xe}:b}function V(_e,Ae,Ce,Re){if(Array.isArray(Ae)||Array.isArray(Ce))for(var fe=Array.isArray(Ae)?Ae:[],xe=Array.isArray(Ce)?Ce:[],ke=Math.max(fe.length,xe.length),Ie=0;Ie<ke;Ie++)V(_e+"["+Ie+"]",fe[Ie],xe[Ie],Re);else if(_.isPlainObject(Ae)||_.isPlainObject(Ce)){var Fe=_.isPlainObject(Ae)?Ae:{},ze=_.isPlainObject(Ce)?Ce:{},qe=_.extendFlat({},Fe,ze);for(var Ye in qe)V(_e+"."+Ye,Fe[Ye],ze[Ye],Re)}else Re[_e]===void 0&&(Re[_e]=F(Ae))}function te(_e,Ae,Ce){var Re,fe=_e._fullLayout,xe=_e._fullData,ke=_e.data,Ie=fe._guiEditing,Fe=U(fe._preGUI,Ie),ze=_.extendDeepAll({},Ae);Q(Ae);var qe,Ye=w.traceFlags(),Qe={},ft={};function ht(){return Ce.map(function(){})}function mt(Wt){var Vt=r.id2name(Wt);qe.indexOf(Vt)===-1&&qe.push(Vt)}function Mt(Wt){return"LAYOUT"+Wt+".autorange"}function _t(Wt){return"LAYOUT"+Wt+".range"}function it(Wt){for(var Vt=Wt;Vt<xe.length;Vt++)if(xe[Vt]._input===ke[Wt])return xe[Vt]}function st(Wt,Vt,on){if(Array.isArray(Wt))Wt.forEach(function(fn){st(fn,Vt,on)});else if(!(Wt in Ae)&&!y.hasParent(Ae,Wt)){var Sn;if(Wt.substr(0,6)==="LAYOUT")Sn=Fe(_e.layout,Wt.replace("LAYOUT",""));else{var Ln=Ce[on];Sn=U(fe._tracePreGUI[it(Ln)._fullInput.uid],Ie)(ke[Ln],Wt)}Wt in ft||(ft[Wt]=ht()),ft[Wt][on]===void 0&&(ft[Wt][on]=F(Sn.get())),Vt!==void 0&&Sn.set(Vt)}}function St(Wt){return function(Vt){return xe[Vt][Wt]}}function zt(Wt){return function(Vt,on){return Vt===!1?xe[Ce[on]][Wt]:null}}for(var Ft in Ae){if(y.hasParent(Ae,Ft))throw new Error("cannot set "+Ft+" and a parent attribute simultaneously");var Pt,Ze,Je,Ue,Xe,lt,ot=Ae[Ft];if(Ft!=="autobinx"&&Ft!=="autobiny"||(Ft=Ft.charAt(Ft.length-1)+"bins",ot=Array.isArray(ot)?ot.map(zt(Ft)):ot===!1?Ce.map(St(Ft)):null),Qe[Ft]=ot,Ft.substr(0,6)!=="LAYOUT"){for(ft[Ft]=ht(),Re=0;Re<Ce.length;Re++)if(Pt=ke[Ce[Re]],Ze=it(Ce[Re]),Ue=(Je=U(fe._tracePreGUI[Ze._fullInput.uid],Ie)(Pt,Ft)).get(),(Xe=Array.isArray(ot)?ot[Re%ot.length]:ot)!==void 0){var Be=Je.parts[Je.parts.length-1],Ne=Ft.substr(0,Ft.length-Be.length-1),at=Ne?Ne+".":"",$e=Ne?b(Ze,Ne).get():Ze;if((lt=i.getTraceValObject(Ze,Je.parts))&&lt.impliedEdits&&Xe!==null)for(var gt in lt.impliedEdits)st(_.relativeAttr(Ft,gt),lt.impliedEdits[gt],Re);else if(Be!=="thicknessmode"&&Be!=="lenmode"||Ue===Xe||Xe!=="fraction"&&Xe!=="pixels"||!$e){if(Ft==="type"&&(Xe==="pie"!=(Ue==="pie")||Xe==="funnelarea"!=(Ue==="funnelarea"))){var yt="x",xt="y";Xe!=="bar"&&Ue!=="bar"||Pt.orientation!=="h"||(yt="y",xt="x"),_.swapAttrs(Pt,["?","?src"],"labels",yt),_.swapAttrs(Pt,["d?","?0"],"label",yt),_.swapAttrs(Pt,["?","?src"],"values",xt),Ue==="pie"||Ue==="funnelarea"?(b(Pt,"marker.color").set(b(Pt,"marker.colors").get()),fe._pielayer.selectAll("g.trace").remove()):t.traceIs(Pt,"cartesian")&&b(Pt,"marker.colors").set(b(Pt,"marker.color").get())}}else{var dt=fe._size,Lt=$e.orient,Tt=Lt==="top"||Lt==="bottom";if(Be==="thicknessmode"){var bt=Tt?dt.h:dt.w;st(at+"thickness",$e.thickness*(Xe==="fraction"?1/bt:bt),Re)}else{var Ct=Tt?dt.w:dt.h;st(at+"len",$e.len*(Xe==="fraction"?1/Ct:Ct),Re)}}if(ft[Ft][Re]=F(Ue),["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Ft)!==-1){if(Ft==="orientation"){Je.set(Xe);var Dt=Pt.x&&!Pt.y?"h":"v";if((Je.get()||Dt)===Ze.orientation)continue}else Ft==="orientationaxes"&&(Pt.orientation={v:"h",h:"v"}[Ze.orientation]);y.swapXYData(Pt),Ye.calc=Ye.clearAxisTypes=!0}else n.dataArrayContainers.indexOf(Je.parts[0])!==-1?(y.manageArrayContainers(Je,Xe,ft),Ye.calc=!0):(lt?lt.arrayOk&&!t.traceIs(Ze,"regl")&&(_.isArrayOrTypedArray(Xe)||_.isArrayOrTypedArray(Ue))?Ye.calc=!0:w.update(Ye,lt):Ye.calc=!0,Je.set(Xe))}if(["swapxyaxes","orientationaxes"].indexOf(Ft)!==-1&&r.swap(_e,Ce),Ft==="orientationaxes"){var Bt=b(_e.layout,"hovermode"),Xt=Bt.get();Xt==="x"?Bt.set("y"):Xt==="y"?Bt.set("x"):Xt==="x unified"?Bt.set("y unified"):Xt==="y unified"&&Bt.set("x unified")}if(["orientation","type"].indexOf(Ft)!==-1){for(qe=[],Re=0;Re<Ce.length;Re++){var an=ke[Ce[Re]];t.traceIs(an,"cartesian")&&(mt(an.xaxis||"x"),mt(an.yaxis||"y"))}st(qe.map(Mt),!0,0),st(qe.map(_t),[0,1],0)}}else Je=Fe(_e.layout,Ft.replace("LAYOUT","")),ft[Ft]=[F(Je.get())],Je.set(Array.isArray(ot)?ot[0]:ot),Ye.calc=!0}return(Ye.calc||Ye.plot)&&(Ye.fullReplot=!0),{flags:Ye,undoit:ft,redoit:Qe,traces:Ce,eventData:_.extendDeepNoArrays([],[ze,Ce])}}function Q(_e){var Ae,Ce,Re,fe=_.counterRegex("axis",".title",!1,!1),xe=/colorbar\.title$/,ke=Object.keys(_e);for(Ae=0;Ae<ke.length;Ae++)Ce=ke[Ae],Re=_e[Ce],Ce!=="title"&&!fe.test(Ce)&&!xe.test(Ce)||typeof Re!="string"&&typeof Re!="number"?Ce.indexOf("titlefont")>-1&&Ce.indexOf("grouptitlefont")===-1?Ie(Ce,Ce.replace("titlefont","title.font")):Ce.indexOf("titleposition")>-1?Ie(Ce,Ce.replace("titleposition","title.position")):Ce.indexOf("titleside")>-1?Ie(Ce,Ce.replace("titleside","title.side")):Ce.indexOf("titleoffset")>-1&&Ie(Ce,Ce.replace("titleoffset","title.offset")):Ie(Ce,Ce.replace("title","title.text"));function Ie(Fe,ze){_e[ze]=_e[Fe],delete _e[Fe]}}function J(_e,Ae,Ce){_e=_.getGraphDiv(_e),y.clearPromiseQueue(_e);var Re={};if(typeof Ae=="string")Re[Ae]=Ce;else{if(!_.isPlainObject(Ae))return _.warn("Relayout fail.",Ae,Ce),Promise.reject();Re=_.extendFlat({},Ae)}Object.keys(Re).length&&(_e.changed=!0);var fe=ae(_e,Re),xe=fe.flags;xe.calc&&(_e.calcdata=void 0);var ke=[n.previousPromises];xe.layoutReplot?ke.push(m.layoutReplot):Object.keys(Re).length&&(X(_e,xe,fe)||n.supplyDefaults(_e),xe.legend&&ke.push(m.doLegend),xe.layoutstyle&&ke.push(m.layoutStyles),xe.axrange&&K(ke,fe.rangesAltered),xe.ticks&&ke.push(m.doTicksRelayout),xe.modebar&&ke.push(m.doModeBar),xe.camera&&ke.push(m.doCamera),xe.colorbars&&ke.push(m.doColorBars),ke.push(T)),ke.push(n.rehover,n.redrag,n.reselect),o.add(_e,J,[_e,fe.undoit],J,[_e,fe.redoit]);var Ie=_.syncOrAsync(ke,_e);return Ie&&Ie.then||(Ie=Promise.resolve(_e)),Ie.then(function(){return _e.emit("plotly_relayout",fe.eventData),_e})}function X(_e,Ae,Ce){var Re,fe,xe=_e._fullLayout;if(!Ae.axrange)return!1;for(var ke in Ae)if(ke!=="axrange"&&Ae[ke])return!1;var Ie=function(ft,ht){return _.coerce(Re,fe,s,ft,ht)},Fe={};for(var ze in Ce.rangesAltered){var qe=r.id2name(ze);if(Re=_e.layout[qe],fe=xe[qe],l(Re,fe,Ie,Fe),fe._matchGroup){for(var Ye in fe._matchGroup)if(Ye!==ze){var Qe=xe[r.id2name(Ye)];Qe.autorange=fe.autorange,Qe.range=fe.range.slice(),Qe._input.range=fe.range.slice()}}}return!0}function K(_e,Ae){var Ce=Ae?function(Re){var fe=[];for(var xe in Ae){var ke=r.getFromId(Re,xe);if(fe.push(xe),(ke.ticklabelposition||"").indexOf("inside")!==-1&&ke._anchorAxis&&fe.push(ke._anchorAxis._id),ke._matchGroup)for(var Ie in ke._matchGroup)Ae[Ie]||fe.push(Ie)}return r.draw(Re,fe,{skipTitle:!0})}:function(Re){return r.draw(Re,"redraw")};_e.push(g,m.doAutoRangeAndConstraints,Ce,m.drawData,m.finalDraw)}var ee=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,re=/^[xyz]axis[0-9]*\.autorange$/,ie=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function ae(_e,Ae){var Ce,Re,fe,xe=_e.layout,ke=_e._fullLayout,Ie=ke._guiEditing,Fe=U(ke._preGUI,Ie),ze=Object.keys(Ae),qe=r.list(_e),Ye=_.extendDeepAll({},Ae),Qe={};for(Q(Ae),ze=Object.keys(Ae),Re=0;Re<ze.length;Re++)if(ze[Re].indexOf("allaxes")===0){for(fe=0;fe<qe.length;fe++){var ft=qe[fe]._id.substr(1),ht=ft.indexOf("scene")!==-1?ft+".":"",mt=ze[Re].replace("allaxes",ht+qe[fe]._name);Ae[mt]||(Ae[mt]=Ae[ze[Re]])}delete Ae[ze[Re]]}var Mt=w.layoutFlags(),_t={},it={};function st(fn,Zt){if(Array.isArray(fn))fn.forEach(function(nn){st(nn,Zt)});else if(!(fn in Ae)&&!y.hasParent(Ae,fn)){var ln=Fe(xe,fn);fn in it||(it[fn]=F(ln.get())),Zt!==void 0&&ln.set(Zt)}}var St,zt={};function Ft(fn){var Zt=r.name2id(fn.split(".")[0]);return zt[Zt]=1,Zt}for(var Pt in Ae){if(y.hasParent(Ae,Pt))throw new Error("cannot set "+Pt+" and a parent attribute simultaneously");for(var Ze=Fe(xe,Pt),Je=Ae[Pt],Ue=Ze.parts.length-1;Ue>0&&typeof Ze.parts[Ue]!="string";)Ue--;var Xe=Ze.parts[Ue],lt=Ze.parts[Ue-1]+"."+Xe,ot=Ze.parts.slice(0,Ue).join("."),Be=b(_e.layout,ot).get(),Ne=b(ke,ot).get(),at=Ze.get();if(Je!==void 0){_t[Pt]=Je,it[Pt]=Xe==="reverse"?Je:F(at);var $e=i.getLayoutValObject(ke,Ze.parts);if($e&&$e.impliedEdits&&Je!==null)for(var gt in $e.impliedEdits)st(_.relativeAttr(Pt,gt),$e.impliedEdits[gt]);if(["width","height"].indexOf(Pt)!==-1)if(Je){st("autosize",null);var yt=Pt==="height"?"width":"height";st(yt,ke[yt])}else ke[Pt]=_e._initialAutoSize[Pt];else if(Pt==="autosize")st("width",Je?null:ke.width),st("height",Je?null:ke.height);else if(lt.match(ee))Ft(lt),b(ke,ot+"._inputRange").set(null);else if(lt.match(re)){Ft(lt),b(ke,ot+"._inputRange").set(null);var xt=b(ke,ot).get();xt._inputDomain&&(xt._input.domain=xt._inputDomain.slice())}else lt.match(ie)&&b(ke,ot+"._inputDomain").set(null);if(Xe==="type"){St=Be;var dt=Ne.type==="linear"&&Je==="log",Lt=Ne.type==="log"&&Je==="linear";if(dt||Lt){if(St&&St.range)if(Ne.autorange)dt&&(St.range=St.range[1]>St.range[0]?[1,2]:[2,1]);else{var Tt=St.range[0],bt=St.range[1];dt?(Tt<=0&&bt<=0&&st(ot+".autorange",!0),Tt<=0?Tt=bt/1e6:bt<=0&&(bt=Tt/1e6),st(ot+".range[0]",Math.log(Tt)/Math.LN10),st(ot+".range[1]",Math.log(bt)/Math.LN10)):(st(ot+".range[0]",Math.pow(10,Tt)),st(ot+".range[1]",Math.pow(10,bt)))}else st(ot+".autorange",!0);Array.isArray(ke._subplots.polar)&&ke._subplots.polar.length&&ke[Ze.parts[0]]&&Ze.parts[1]==="radialaxis"&&delete ke[Ze.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(_e,Ne,Je,st),t.getComponentMethod("images","convertCoords")(_e,Ne,Je,st)}else st(ot+".autorange",!0),st(ot+".range",null);b(ke,ot+"._inputRange").set(null)}else if(Xe.match(f)){var Ct=b(ke,Pt).get(),Dt=(Je||{}).type;Dt&&Dt!=="-"||(Dt="linear"),t.getComponentMethod("annotations","convertCoords")(_e,Ct,Dt,st),t.getComponentMethod("images","convertCoords")(_e,Ct,Dt,st)}var Bt=v.containerArrayMatch(Pt);if(Bt){Ce=Bt.array,Re=Bt.index;var Xt=Bt.property,an=$e||{editType:"calc"};Re!==""&&Xt===""&&(v.isAddVal(Je)?it[Pt]=null:v.isRemoveVal(Je)?it[Pt]=(b(xe,Ce).get()||[])[Re]:_.warn("unrecognized full object value",Ae)),w.update(Mt,an),Qe[Ce]||(Qe[Ce]={});var Wt=Qe[Ce][Re];Wt||(Wt=Qe[Ce][Re]={}),Wt[Xt]=Je,delete Ae[Pt]}else Xe==="reverse"?(Be.range?Be.range.reverse():(st(ot+".autorange",!0),Be.range=[1,0]),Ne.autorange?Mt.calc=!0:Mt.plot=!0):(Pt==="dragmode"&&(Je===!1&&at!==!1||Je!==!1&&at===!1)||ke._has("scatter-like")&&ke._has("regl")&&Pt==="dragmode"&&(Je==="lasso"||Je==="select")&&at!=="lasso"&&at!=="select"||ke._has("gl2d")?Mt.plot=!0:$e?w.update(Mt,$e):Mt.calc=!0,Ze.set(Je))}}for(Ce in Qe)v.applyContainerArrayChanges(_e,Fe(xe,Ce),Qe[Ce],Mt,Fe)||(Mt.plot=!0);for(var Vt in zt){var on=(St=r.getFromId(_e,Vt))&&St._constraintGroup;if(on)for(var Sn in Mt.calc=!0,on)zt[Sn]||(r.getFromId(_e,Sn)._constraintShrinkable=!0)}(ue(_e)||Ae.height||Ae.width)&&(Mt.plot=!0);var Ln=ke.shapes;for(Re=0;Re<Ln.length;Re++)if(Ln[Re].showlegend){Mt.calc=!0;break}return(Mt.plot||Mt.calc)&&(Mt.layoutReplot=!0),{flags:Mt,rangesAltered:zt,undoit:it,redoit:_t,eventData:Ye}}function ue(_e){var Ae=_e._fullLayout,Ce=Ae.width,Re=Ae.height;return _e.layout.autosize&&n.plotAutoSize(_e,_e.layout,Ae),Ae.width!==Ce||Ae.height!==Re}function pe(_e,Ae,Ce,Re){_e=_.getGraphDiv(_e),y.clearPromiseQueue(_e),_.isPlainObject(Ae)||(Ae={}),_.isPlainObject(Ce)||(Ce={}),Object.keys(Ae).length&&(_e.changed=!0),Object.keys(Ce).length&&(_e.changed=!0);var fe=y.coerceTraceIndices(_e,Re),xe=te(_e,_.extendFlat({},Ae),fe),ke=xe.flags,Ie=ae(_e,_.extendFlat({},Ce)),Fe=Ie.flags;(ke.calc||Fe.calc)&&(_e.calcdata=void 0),ke.clearAxisTypes&&y.clearAxisTypes(_e,fe,Ce);var ze=[];Fe.layoutReplot?ze.push(m.layoutReplot):ke.fullReplot?ze.push(C._doPlot):(ze.push(n.previousPromises),X(_e,Fe,Ie)||n.supplyDefaults(_e),ke.style&&ze.push(m.doTraceStyle),(ke.colorbars||Fe.colorbars)&&ze.push(m.doColorBars),Fe.legend&&ze.push(m.doLegend),Fe.layoutstyle&&ze.push(m.layoutStyles),Fe.axrange&&K(ze,Ie.rangesAltered),Fe.ticks&&ze.push(m.doTicksRelayout),Fe.modebar&&ze.push(m.doModeBar),Fe.camera&&ze.push(m.doCamera),ze.push(T)),ze.push(n.rehover,n.redrag,n.reselect),o.add(_e,pe,[_e,xe.undoit,Ie.undoit,xe.traces],pe,[_e,xe.redoit,Ie.redoit,xe.traces]);var qe=_.syncOrAsync(ze,_e);return qe&&qe.then||(qe=Promise.resolve(_e)),qe.then(function(){return _e.emit("plotly_update",{data:xe.eventData,layout:Ie.eventData}),_e})}function de(_e){return function(Ae){Ae._fullLayout._guiEditing=!0;var Ce=_e.apply(null,arguments);return Ae._fullLayout._guiEditing=!1,Ce}}var ye=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],be=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function me(_e,Ae){for(var Ce=0;Ce<Ae.length;Ce++){var Re=Ae[Ce],fe=_e.match(Re.pattern);if(fe){var xe=fe[1]||"";return{head:xe,tail:_e.substr(xe.length+1),attr:Re.attr}}}}function Ee(_e,Ae){var Ce=b(Ae,_e).get();if(Ce!==void 0)return Ce;var Re=_e.split(".");for(Re.pop();Re.length>1;)if(Re.pop(),(Ce=b(Ae,Re.join(".")+".uirevision").get())!==void 0)return Ce;return Ae.uirevision}function Te(_e,Ae){for(var Ce=0;Ce<Ae.length;Ce++)if(Ae[Ce]._fullInput.uid===_e)return Ce;return-1}function we(_e,Ae,Ce){for(var Re=0;Re<Ae.length;Re++)if(Ae[Re].uid===_e)return Re;return!Ae[Ce]||Ae[Ce].uid?-1:Ce}function oe(_e,Ae){var Ce=_.isPlainObject(_e),Re=Array.isArray(_e);return Ce||Re?(Ce&&_.isPlainObject(Ae)||Re&&Array.isArray(Ae))&&JSON.stringify(_e)===JSON.stringify(Ae):_e===Ae}function se(_e,Ae,Ce,Re){var fe,xe,ke,Ie=Re.getValObject,Fe=Re.flags,ze=Re.immutable,qe=Re.inArray,Ye=Re.arrayIndex;function Qe(){var Be=fe.editType;qe&&Be.indexOf("arraydraw")!==-1?_.pushUnique(Fe.arrays[qe],Ye):(w.update(Fe,fe),Be!=="none"&&Fe.nChanges++,Re.transition&&fe.anim&&Fe.nChangesAnim++,(ee.test(ke)||re.test(ke))&&(Fe.rangesAltered[Ce[0]]=1),ie.test(ke)&&b(Ae,"_inputDomain").set(null),xe==="datarevision"&&(Fe.newDataRevision=1))}function ft(Be){return Be.valType==="data_array"||Be.arrayOk}for(xe in _e){if(Fe.calc&&!Re.transition)return;var ht=_e[xe],mt=Ae[xe],Mt=Ce.concat(xe);if(ke=Mt.join("."),xe.charAt(0)!=="_"&&typeof ht!="function"&&ht!==mt){if((xe==="tick0"||xe==="dtick")&&Ce[0]!=="geo"){var _t=Ae.tickmode;if(_t==="auto"||_t==="array"||!_t)continue}if((xe!=="range"||!Ae.autorange)&&(xe!=="zmin"&&xe!=="zmax"||Ae.type!=="contourcarpet")&&(fe=Ie(Mt))&&(!fe._compareAsJSON||JSON.stringify(ht)!==JSON.stringify(mt))){var it,st=fe.valType,St=ft(fe),zt=Array.isArray(ht),Ft=Array.isArray(mt);if(zt&&Ft){var Pt="_input_"+xe,Ze=_e[Pt],Je=Ae[Pt];if(Array.isArray(Ze)&&Ze===Je)continue}if(mt===void 0)St&&zt?Fe.calc=!0:Qe();else if(fe._isLinkedToArray){var Ue=[],Xe=!1;qe||(Fe.arrays[xe]=Ue);var lt=Math.min(ht.length,mt.length),ot=Math.max(ht.length,mt.length);if(lt!==ot){if(fe.editType!=="arraydraw"){Qe();continue}Xe=!0}for(it=0;it<lt;it++)se(ht[it],mt[it],Mt.concat(it),_.extendFlat({inArray:xe,arrayIndex:it},Re));if(Xe)for(it=lt;it<ot;it++)Ue.push(it)}else!st&&_.isPlainObject(ht)?se(ht,mt,Mt,Re):St?zt&&Ft?(ze&&(Fe.calc=!0),(ze||Re.newDataRevision)&&Qe()):zt!==Ft?Fe.calc=!0:Qe():zt&&Ft&&ht.length===mt.length&&String(ht)===String(mt)||Qe()}}}for(xe in Ae)if(!(xe in _e)&&xe.charAt(0)!=="_"&&typeof Ae[xe]!="function"){if(ft(fe=Ie(Ce.concat(xe)))&&Array.isArray(Ae[xe]))return void(Fe.calc=!0);Qe()}}function he(_e,Ae){var Ce;for(Ce in _e)if(Ce.charAt(0)!=="_"){var Re=_e[Ce],fe=Ae[Ce];if(Re!==fe)if(_.isPlainObject(Re)&&_.isPlainObject(fe)){if(he(Re,fe))return!0}else{if(!Array.isArray(Re)||!Array.isArray(fe)||Re.length!==fe.length)return!0;for(var xe=0;xe<Re.length;xe++)if(Re[xe]!==fe[xe]&&(!_.isPlainObject(Re[xe])||!_.isPlainObject(fe[xe])||he(Re[xe],fe[xe])))return!0}}}function Se(_e){var Ae=_e._fullLayout,Ce=_e.getBoundingClientRect();if(!_.equalDomRects(Ce,Ae._lastBBox)){var Re=Ae._invTransform=_.inverseTransformMatrix(_.getFullTransformMatrix(_e));Ae._invScaleX=Math.sqrt(Re[0][0]*Re[0][0]+Re[0][1]*Re[0][1]+Re[0][2]*Re[0][2]),Ae._invScaleY=Math.sqrt(Re[1][0]*Re[1][0]+Re[1][1]*Re[1][1]+Re[1][2]*Re[1][2]),Ae._lastBBox=Ce}}C.animate=function(_e,Ae,Ce){if(_e=_.getGraphDiv(_e),!_.isPlotDiv(_e))throw new Error("This element is not a Plotly plot: "+_e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Re=_e._transitionData;Re._frameQueue||(Re._frameQueue=[]);var fe=(Ce=n.supplyAnimationDefaults(Ce)).transition,xe=Ce.frame;function ke(ze){return Array.isArray(fe)?ze>=fe.length?fe[0]:fe[ze]:fe}function Ie(ze){return Array.isArray(xe)?ze>=xe.length?xe[0]:xe[ze]:xe}function Fe(ze,qe){var Ye=0;return function(){if(ze&&++Ye===qe)return ze()}}return Re._frameWaitingCnt===void 0&&(Re._frameWaitingCnt=0),new Promise(function(ze,qe){function Ye(){_e.emit("plotly_animating"),Re._lastFrameAt=-1/0,Re._timeToNext=0,Re._runningTransitions=0,Re._currentFrame=null;var Pt=function(){Re._animationRaf=window.requestAnimationFrame(Pt),Date.now()-Re._lastFrameAt>Re._timeToNext&&function(){Re._currentFrame&&Re._currentFrame.onComplete&&Re._currentFrame.onComplete();var Ze=Re._currentFrame=Re._frameQueue.shift();if(Ze){var Je=Ze.name?Ze.name.toString():null;_e._fullLayout._currentFrame=Je,Re._lastFrameAt=Date.now(),Re._timeToNext=Ze.frameOpts.duration,n.transition(_e,Ze.frame.data,Ze.frame.layout,y.coerceTraceIndices(_e,Ze.frame.traces),Ze.frameOpts,Ze.transitionOpts).then(function(){Ze.onComplete&&Ze.onComplete()}),_e.emit("plotly_animatingframe",{name:Je,frame:Ze.frame,animation:{frame:Ze.frameOpts,transition:Ze.transitionOpts}})}else _e.emit("plotly_animated"),window.cancelAnimationFrame(Re._animationRaf),Re._animationRaf=null}()};Pt()}var Qe,ft,ht=0;function mt(Pt){return Array.isArray(fe)?ht>=fe.length?Pt.transitionOpts=fe[ht]:Pt.transitionOpts=fe[0]:Pt.transitionOpts=fe,ht++,Pt}var Mt=[],_t=Ae==null,it=Array.isArray(Ae);if(_t||it||!_.isPlainObject(Ae)){if(_t||["string","number"].indexOf(typeof Ae)!==-1)for(Qe=0;Qe<Re._frames.length;Qe++)(ft=Re._frames[Qe])&&(_t||String(ft.group)===String(Ae))&&Mt.push({type:"byname",name:String(ft.name),data:mt({name:ft.name})});else if(it)for(Qe=0;Qe<Ae.length;Qe++){var st=Ae[Qe];["number","string"].indexOf(typeof st)!==-1?(st=String(st),Mt.push({type:"byname",name:st,data:mt({name:st})})):_.isPlainObject(st)&&Mt.push({type:"object",data:mt(_.extendFlat({},st))})}}else Mt.push({type:"object",data:mt(_.extendFlat({},Ae))});for(Qe=0;Qe<Mt.length;Qe++)if((ft=Mt[Qe]).type==="byname"&&!Re._frameHash[ft.data.name])return _.warn('animate failure: frame not found: "'+ft.data.name+'"'),void qe();["next","immediate"].indexOf(Ce.mode)!==-1&&function(){if(Re._frameQueue.length!==0){for(;Re._frameQueue.length;){var Pt=Re._frameQueue.pop();Pt.onInterrupt&&Pt.onInterrupt()}_e.emit("plotly_animationinterrupted",[])}}(),Ce.direction==="reverse"&&Mt.reverse();var St=_e._fullLayout._currentFrame;if(St&&Ce.fromcurrent){var zt=-1;for(Qe=0;Qe<Mt.length;Qe++)if((ft=Mt[Qe]).type==="byname"&&ft.name===St){zt=Qe;break}if(zt>0&&zt<Mt.length-1){var Ft=[];for(Qe=0;Qe<Mt.length;Qe++)ft=Mt[Qe],(Mt[Qe].type!=="byname"||Qe>zt)&&Ft.push(ft);Mt=Ft}}Mt.length>0?function(Pt){if(Pt.length!==0){for(var Ze=0;Ze<Pt.length;Ze++){var Je;Je=Pt[Ze].type==="byname"?n.computeFrame(_e,Pt[Ze].name):Pt[Ze].data;var Ue=Ie(Ze),Xe=ke(Ze);Xe.duration=Math.min(Xe.duration,Ue.duration);var lt={frame:Je,name:Pt[Ze].name,frameOpts:Ue,transitionOpts:Xe};Ze===Pt.length-1&&(lt.onComplete=Fe(ze,2),lt.onInterrupt=qe),Re._frameQueue.push(lt)}Ce.mode==="immediate"&&(Re._lastFrameAt=-1/0),Re._animationRaf||Ye()}}(Mt):(_e.emit("plotly_animated"),ze())})},C.addFrames=function(_e,Ae,Ce){if(_e=_.getGraphDiv(_e),Ae==null)return Promise.resolve();if(!_.isPlotDiv(_e))throw new Error("This element is not a Plotly plot: "+_e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Re,fe,xe,ke,Ie=_e._transitionData._frames,Fe=_e._transitionData._frameHash;if(!Array.isArray(Ae))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Ae);var ze=Ie.length+2*Ae.length,qe=[],Ye={};for(Re=Ae.length-1;Re>=0;Re--)if(_.isPlainObject(Ae[Re])){var Qe=Ae[Re].name,ft=(Fe[Qe]||Ye[Qe]||{}).name,ht=Ae[Re].name,mt=Fe[ft]||Ye[ft];ft&&ht&&typeof ht=="number"&&mt&&S<5&&(S++,_.warn('addFrames: overwriting frame "'+(Fe[ft]||Ye[ft]).name+'" with a frame whose name of type "number" also equates to "'+ft+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),S===5&&_.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Ye[Qe]={name:Qe},qe.push({frame:n.supplyFrameDefaults(Ae[Re]),index:Ce&&Ce[Re]!==void 0&&Ce[Re]!==null?Ce[Re]:ze+Re})}qe.sort(function(Pt,Ze){return Pt.index>Ze.index?-1:Pt.index<Ze.index?1:0});var Mt=[],_t=[],it=Ie.length;for(Re=qe.length-1;Re>=0;Re--){if(typeof(fe=qe[Re].frame).name=="number"&&_.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!fe.name)for(;Fe[fe.name="frame "+_e._transitionData._counter++];);if(Fe[fe.name]){for(xe=0;xe<Ie.length&&(Ie[xe]||{}).name!==fe.name;xe++);Mt.push({type:"replace",index:xe,value:fe}),_t.unshift({type:"replace",index:xe,value:Ie[xe]})}else ke=Math.max(0,Math.min(qe[Re].index,it)),Mt.push({type:"insert",index:ke,value:fe}),_t.unshift({type:"delete",index:ke}),it++}var st=n.modifyFrames,St=n.modifyFrames,zt=[_e,_t],Ft=[_e,Mt];return o&&o.add(_e,st,zt,St,Ft),n.modifyFrames(_e,Mt)},C.deleteFrames=function(_e,Ae){if(_e=_.getGraphDiv(_e),!_.isPlotDiv(_e))throw new Error("This element is not a Plotly plot: "+_e);var Ce,Re,fe=_e._transitionData._frames,xe=[],ke=[];if(!Ae)for(Ae=[],Ce=0;Ce<fe.length;Ce++)Ae.push(Ce);for((Ae=Ae.slice()).sort(),Ce=Ae.length-1;Ce>=0;Ce--)Re=Ae[Ce],xe.push({type:"delete",index:Re}),ke.unshift({type:"insert",index:Re,value:fe[Re]});var Ie=n.modifyFrames,Fe=n.modifyFrames,ze=[_e,ke],qe=[_e,xe];return o&&o.add(_e,Ie,ze,Fe,qe),n.modifyFrames(_e,xe)},C.addTraces=function _e(Ae,Ce,Re){Ae=_.getGraphDiv(Ae);var fe,xe,ke=[],Ie=C.deleteTraces,Fe=_e,ze=[Ae,ke],qe=[Ae,Ce];for(function(Ye,Qe,ft){var ht,mt;if(!Array.isArray(Ye.data))throw new Error("gd.data must be an array.");if(Qe===void 0)throw new Error("traces must be defined.");for(Array.isArray(Qe)||(Qe=[Qe]),ht=0;ht<Qe.length;ht++)if(typeof(mt=Qe[ht])!="object"||Array.isArray(mt)||mt===null)throw new Error("all values in traces array must be non-array objects");if(ft===void 0||Array.isArray(ft)||(ft=[ft]),ft!==void 0&&ft.length!==Qe.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(Ae,Ce,Re),Array.isArray(Ce)||(Ce=[Ce]),Ce=Ce.map(function(Ye){return _.extendFlat({},Ye)}),y.cleanData(Ce),fe=0;fe<Ce.length;fe++)Ae.data.push(Ce[fe]);for(fe=0;fe<Ce.length;fe++)ke.push(-Ce.length+fe);if(Re===void 0)return xe=C.redraw(Ae),o.add(Ae,Ie,ze,Fe,qe),xe;Array.isArray(Re)||(Re=[Re]);try{j(Ae,ke,Re)}catch(Ye){throw Ae.data.splice(Ae.data.length-Ce.length,Ce.length),Ye}return o.startSequence(Ae),o.add(Ae,Ie,ze,Fe,qe),xe=C.moveTraces(Ae,ke,Re),o.stopSequence(Ae),xe},C.deleteTraces=function _e(Ae,Ce){Ae=_.getGraphDiv(Ae);var Re,fe,xe=[],ke=C.addTraces,Ie=_e,Fe=[Ae,xe,Ce],ze=[Ae,Ce];if(Ce===void 0)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Ce)||(Ce=[Ce]),z(Ae,Ce,"indices"),(Ce=I(Ce,Ae.data.length-1)).sort(_.sorterDes),Re=0;Re<Ce.length;Re+=1)fe=Ae.data.splice(Ce[Re],1)[0],xe.push(fe);var qe=C.redraw(Ae);return o.add(Ae,ke,Fe,Ie,ze),qe},C.extendTraces=function _e(Ae,Ce,Re,fe){var xe=R(Ae=_.getGraphDiv(Ae),Ce,Re,fe,function(Fe,ze,qe){var Ye,Qe;if(_.isTypedArray(Fe))if(qe<0){var ft=new Fe.constructor(0),ht=N(Fe,ze);qe<0?(Ye=ht,Qe=ft):(Ye=ft,Qe=ht)}else if(Ye=new Fe.constructor(qe),Qe=new Fe.constructor(Fe.length+ze.length-qe),qe===ze.length)Ye.set(ze),Qe.set(Fe);else if(qe<ze.length){var mt=ze.length-qe;Ye.set(ze.subarray(mt)),Qe.set(Fe),Qe.set(ze.subarray(0,mt),Fe.length)}else{var Mt=qe-ze.length,_t=Fe.length-Mt;Ye.set(Fe.subarray(_t)),Ye.set(ze,Mt),Qe.set(Fe.subarray(0,_t))}else Ye=Fe.concat(ze),Qe=qe>=0&&qe<Ye.length?Ye.splice(0,Ye.length-qe):[];return[Ye,Qe]}),ke=C.redraw(Ae),Ie=[Ae,xe.update,Re,xe.maxPoints];return o.add(Ae,C.prependTraces,Ie,_e,arguments),ke},C.moveTraces=function _e(Ae,Ce,Re){var fe,xe=[],ke=[],Ie=_e,Fe=_e,ze=[Ae=_.getGraphDiv(Ae),Re,Ce],qe=[Ae,Ce,Re];if(j(Ae,Ce,Re),Ce=Array.isArray(Ce)?Ce:[Ce],Re===void 0)for(Re=[],fe=0;fe<Ce.length;fe++)Re.push(-Ce.length+fe);for(Re=Array.isArray(Re)?Re:[Re],Ce=I(Ce,Ae.data.length-1),Re=I(Re,Ae.data.length-1),fe=0;fe<Ae.data.length;fe++)Ce.indexOf(fe)===-1&&xe.push(Ae.data[fe]);for(fe=0;fe<Ce.length;fe++)ke.push({newIndex:Re[fe],trace:Ae.data[Ce[fe]]});for(ke.sort(function(Qe,ft){return Qe.newIndex-ft.newIndex}),fe=0;fe<ke.length;fe+=1)xe.splice(ke[fe].newIndex,0,ke[fe].trace);Ae.data=xe;var Ye=C.redraw(Ae);return o.add(Ae,Ie,ze,Fe,qe),Ye},C.prependTraces=function _e(Ae,Ce,Re,fe){var xe=R(Ae=_.getGraphDiv(Ae),Ce,Re,fe,function(Fe,ze,qe){var Ye,Qe;if(_.isTypedArray(Fe))if(qe<=0){var ft=new Fe.constructor(0),ht=N(ze,Fe);qe<0?(Ye=ht,Qe=ft):(Ye=ft,Qe=ht)}else if(Ye=new Fe.constructor(qe),Qe=new Fe.constructor(Fe.length+ze.length-qe),qe===ze.length)Ye.set(ze),Qe.set(Fe);else if(qe<ze.length){var mt=ze.length-qe;Ye.set(ze.subarray(0,mt)),Qe.set(ze.subarray(mt)),Qe.set(Fe,mt)}else{var Mt=qe-ze.length;Ye.set(ze),Ye.set(Fe.subarray(0,Mt),ze.length),Qe.set(Fe.subarray(Mt))}else Ye=ze.concat(Fe),Qe=qe>=0&&qe<Ye.length?Ye.splice(qe,Ye.length):[];return[Ye,Qe]}),ke=C.redraw(Ae),Ie=[Ae,xe.update,Re,xe.maxPoints];return o.add(Ae,C.extendTraces,Ie,_e,arguments),ke},C.newPlot=function(_e,Ae,Ce,Re){return _e=_.getGraphDiv(_e),n.cleanPlot([],{},_e._fullData||[],_e._fullLayout||{}),n.purge(_e),C._doPlot(_e,Ae,Ce,Re)},C._doPlot=function(_e,Ae,Ce,Re){var fe;if(_e=_.getGraphDiv(_e),h.init(_e),_.isPlainObject(Ae)){var xe=Ae;Ae=xe.data,Ce=xe.layout,Re=xe.config,fe=xe.frames}if(h.triggerHandler(_e,"plotly_beforeplot",[Ae,Ce,Re])===!1)return Promise.reject();Ae||Ce||_.isPlotDiv(_e)||_.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",_e),P(_e,Re),Ce||(Ce={}),M.select(_e).classed("js-plotly-plot",!0),u.makeTester(),Array.isArray(_e._promises)||(_e._promises=[]);var ke=(_e.data||[]).length===0&&Array.isArray(Ae);Array.isArray(Ae)&&(y.cleanData(Ae),ke?_e.data=Ae:_e.data.push.apply(_e.data,Ae),_e.empty=!1),_e.layout&&!ke||(_e.layout=y.cleanLayout(Ce)),n.supplyDefaults(_e);var Ie=_e._fullLayout,Fe=Ie._has("cartesian");Ie._replotting=!0,(ke||Ie._shouldCreateBgLayer)&&(function(_t){var it=M.select(_t),st=_t._fullLayout;if(st._calcInverseTransform=Se,st._calcInverseTransform(_t),st._container=it.selectAll(".plot-container").data([0]),st._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),st._paperdiv=st._container.selectAll(".svg-container").data([0]),st._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),st._glcontainer=st._paperdiv.selectAll(".gl-container").data([{}]),st._glcontainer.enter().append("div").classed("gl-container",!0),st._paperdiv.selectAll(".main-svg").remove(),st._paperdiv.select(".modebar-container").remove(),st._paper=st._paperdiv.insert("svg",":first-child").classed("main-svg",!0),st._toppaper=st._paperdiv.append("svg").classed("main-svg",!0),st._modebardiv=st._paperdiv.append("div"),delete st._modeBar,st._hoverpaper=st._paperdiv.append("svg").classed("main-svg",!0),!st._uid){var St={};M.selectAll("defs").each(function(){this.id&&(St[this.id.split("-")[1]]=1)}),st._uid=_.randstr(St)}st._paperdiv.selectAll(".main-svg").attr(x.svgAttrs),st._defs=st._paper.append("defs").attr("id","defs-"+st._uid),st._clips=st._defs.append("g").classed("clips",!0),st._topdefs=st._toppaper.append("defs").attr("id","topdefs-"+st._uid),st._topclips=st._topdefs.append("g").classed("clips",!0),st._bgLayer=st._paper.append("g").classed("bglayer",!0),st._draggers=st._paper.append("g").classed("draglayer",!0);var zt=st._paper.append("g").classed("layer-below",!0);st._imageLowerLayer=zt.append("g").classed("imagelayer",!0),st._shapeLowerLayer=zt.append("g").classed("shapelayer",!0),st._cartesianlayer=st._paper.append("g").classed("cartesianlayer",!0),st._polarlayer=st._paper.append("g").classed("polarlayer",!0),st._smithlayer=st._paper.append("g").classed("smithlayer",!0),st._ternarylayer=st._paper.append("g").classed("ternarylayer",!0),st._geolayer=st._paper.append("g").classed("geolayer",!0),st._funnelarealayer=st._paper.append("g").classed("funnelarealayer",!0),st._pielayer=st._paper.append("g").classed("pielayer",!0),st._iciclelayer=st._paper.append("g").classed("iciclelayer",!0),st._treemaplayer=st._paper.append("g").classed("treemaplayer",!0),st._sunburstlayer=st._paper.append("g").classed("sunburstlayer",!0),st._indicatorlayer=st._toppaper.append("g").classed("indicatorlayer",!0),st._glimages=st._paper.append("g").classed("glimages",!0);var Ft=st._toppaper.append("g").classed("layer-above",!0);st._imageUpperLayer=Ft.append("g").classed("imagelayer",!0),st._shapeUpperLayer=Ft.append("g").classed("shapelayer",!0),st._selectionLayer=st._toppaper.append("g").classed("selectionlayer",!0),st._infolayer=st._toppaper.append("g").classed("infolayer",!0),st._menulayer=st._toppaper.append("g").classed("menulayer",!0),st._zoomlayer=st._toppaper.append("g").classed("zoomlayer",!0),st._hoverlayer=st._hoverpaper.append("g").classed("hoverlayer",!0),st._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),_t.emit("plotly_framework")}(_e),Ie._shouldCreateBgLayer&&delete Ie._shouldCreateBgLayer),u.initGradients(_e),u.initPatterns(_e),ke&&r.saveShowSpikeInitial(_e);var ze=!_e.calcdata||_e.calcdata.length!==(_e._fullData||[]).length;ze&&n.doCalcdata(_e);for(var qe=0;qe<_e.calcdata.length;qe++)_e.calcdata[qe][0].trace=_e._fullData[qe];_e._context.responsive?_e._responsiveChartHandler||(_e._responsiveChartHandler=function(){_.isHidden(_e)||n.resize(_e)},window.addEventListener("resize",_e._responsiveChartHandler)):_.clearResponsive(_e);var Ye=_.extendFlat({},Ie._size),Qe=0;function ft(){if(n.clearAutoMarginIds(_e),m.drawMarginPushers(_e),r.allowAutoMargin(_e),_e._fullLayout.title.text&&_e._fullLayout.title.automargin&&n.allowAutoMargin(_e,"title.automargin"),Ie._has("pie"))for(var _t=_e._fullData,it=0;it<_t.length;it++){var st=_t[it];st.type==="pie"&&st.automargin&&n.allowAutoMargin(_e,"pie."+st.uid+".automargin")}return n.doAutoMargin(_e),n.previousPromises(_e)}function ht(){_e._transitioning||(m.doAutoRangeAndConstraints(_e),ke&&r.saveRangeInitial(_e),t.getComponentMethod("rangeslider","calcAutorange")(_e))}var mt=[n.previousPromises,function(){if(fe)return C.addFrames(_e,fe)},function _t(){for(var it=Ie._basePlotModules,st=0;st<it.length;st++)it[st].drawFramework&&it[st].drawFramework(_e);!Ie._glcanvas&&Ie._has("gl")&&(Ie._glcanvas=Ie._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Pt){return Pt.key}),Ie._glcanvas.enter().append("canvas").attr("class",function(Pt){return"gl-canvas gl-canvas-"+Pt.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var St=_e._context.plotGlPixelRatio;if(Ie._glcanvas){Ie._glcanvas.attr("width",Ie.width*St).attr("height",Ie.height*St).style("width",Ie.width+"px").style("height",Ie.height+"px");var zt=Ie._glcanvas.data()[0].regl;if(zt&&(Math.floor(Ie.width*St)!==zt._gl.drawingBufferWidth||Math.floor(Ie.height*St)!==zt._gl.drawingBufferHeight)){var Ft="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Qe)return _.log(Ft+" Clearing graph and plotting again."),n.cleanPlot([],{},_e._fullData,Ie),n.supplyDefaults(_e),Ie=_e._fullLayout,n.doCalcdata(_e),Qe++,_t();_.error(Ft)}}return Ie.modebar.orientation==="h"?Ie._modebardiv.style("height",null).style("width","100%"):Ie._modebardiv.style("width",null).style("height",Ie.height+"px"),n.previousPromises(_e)},ft,function(){if(n.didMarginChange(Ye,Ie._size))return _.syncOrAsync([ft,m.layoutStyles],_e)}];Fe&&mt.push(function(){if(ze)return _.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),ht],_e);ht()}),mt.push(m.layoutStyles),Fe&&mt.push(function(){return r.draw(_e,ke?"":"redraw")},function(_t){var it=_t._fullLayout._insideTickLabelsUpdaterange;if(it)return _t._fullLayout._insideTickLabelsUpdaterange=void 0,J(_t,it).then(function(){r.saveRangeInitial(_t,!0)})}),mt.push(m.drawData,m.finalDraw,c,n.addLinks,n.rehover,n.redrag,n.reselect,n.doAutoMargin,n.previousPromises);var Mt=_.syncOrAsync(mt,_e);return Mt&&Mt.then||(Mt=Promise.resolve()),Mt.then(function(){return T(_e),_e})},C.purge=function(_e){var Ae=(_e=_.getGraphDiv(_e))._fullLayout||{},Ce=_e._fullData||[];return n.cleanPlot([],{},Ce,Ae),n.purge(_e),h.purge(_e),Ae._container&&Ae._container.remove(),delete _e._context,_e},C.react=function(_e,Ae,Ce,Re){var fe,xe;_e=_.getGraphDiv(_e),y.clearPromiseQueue(_e);var ke=_e._fullData,Ie=_e._fullLayout;if(_.isPlotDiv(_e)&&ke&&Ie){if(_.isPlainObject(Ae)){var Fe=Ae;Ae=Fe.data,Ce=Fe.layout,Re=Fe.config,fe=Fe.frames}var ze=!1;if(Re){var qe=_.extendDeep({},_e._context);_e._context=void 0,P(_e,Re),ze=he(qe,_e._context)}_e.data=Ae||[],y.cleanData(_e.data),_e.layout=Ce||{},y.cleanLayout(_e.layout),function(ot,Be,Ne,at){var $e,gt,yt,xt,dt,Lt,Tt,bt,Ct,Dt,Bt=at._preGUI,Xt=[],an={},Wt={};for($e in Bt){if(dt=me($e,ye)){if(Ct=dt.head,Dt=dt.tail,gt=dt.attr||Ct+".uirevision",(xt=(yt=b(at,gt).get())&&Ee(gt,Be))&&xt===yt){if((Lt=Bt[$e])===null&&(Lt=void 0),oe(bt=(Tt=b(Be,$e)).get(),Lt)){bt===void 0&&Dt==="autorange"&&Xt.push(Ct),Tt.set(F(b(at,$e).get()));continue}if(Dt==="autorange"||Dt.substr(0,6)==="range["){var Vt=Bt[Ct+".range[0]"],on=Bt[Ct+".range[1]"],Sn=Bt[Ct+".autorange"];if(Sn||Sn===null&&Vt===null&&on===null){if(!(Ct in an)){var Ln=b(Be,Ct).get();an[Ct]=Ln&&(Ln.autorange||Ln.autorange!==!1&&(!Ln.range||Ln.range.length!==2))}if(an[Ct]){Tt.set(F(b(at,$e).get()));continue}}}}}else _.warn("unrecognized GUI edit: "+$e);delete Bt[$e],dt&&dt.tail.substr(0,6)==="range["&&(Wt[dt.head]=1)}for(var fn=0;fn<Xt.length;fn++){var Zt=Xt[fn];if(Wt[Zt]){var ln=b(Be,Zt).get();ln&&delete ln.autorange}}var nn=at._tracePreGUI;for(var cn in nn){var kn,An=nn[cn],wn=null;for($e in An){if(!wn){var Cn=Te(cn,Ne);if(Cn<0){delete nn[cn];break}var _n=we(cn,ot,(kn=Ne[Cn]._fullInput).index);if(_n<0){delete nn[cn];break}wn=ot[_n]}if(dt=me($e,be)){if(dt.attr?xt=(yt=b(at,dt.attr).get())&&Ee(dt.attr,Be):(yt=kn.uirevision,(xt=wn.uirevision)===void 0&&(xt=Be.uirevision)),xt&&xt===yt&&((Lt=An[$e])===null&&(Lt=void 0),oe(bt=(Tt=b(wn,$e)).get(),Lt))){Tt.set(F(b(kn,$e).get()));continue}}else _.warn("unrecognized GUI edit: "+$e+" in trace uid "+cn);delete An[$e]}}}(_e.data,_e.layout,ke,Ie),n.supplyDefaults(_e,{skipUpdateCalc:!0});var Ye=_e._fullData,Qe=_e._fullLayout,ft=Qe.datarevision===void 0,ht=Qe.transition,mt=function(ot,Be,Ne,at,$e){var gt=w.layoutFlags();return gt.arrays={},gt.rangesAltered={},gt.nChanges=0,gt.nChangesAnim=0,se(Be,Ne,[],{getValObject:function(yt){return i.getLayoutValObject(Ne,yt)},flags:gt,immutable:at,transition:$e,gd:ot}),(gt.plot||gt.calc)&&(gt.layoutReplot=!0),$e&&gt.nChanges&&gt.nChangesAnim&&(gt.anim=gt.nChanges===gt.nChangesAnim?"all":"some"),gt}(_e,Ie,Qe,ft,ht),Mt=mt.newDataRevision,_t=function(ot,Be,Ne,at,$e,gt){var yt=Be.length===Ne.length;if(!$e&&!yt)return{fullReplot:!0,calc:!0};var xt,dt,Lt=w.traceFlags();Lt.arrays={},Lt.nChanges=0,Lt.nChangesAnim=0;var Tt={getValObject:function(Ct){var Dt=i.getTraceValObject(dt,Ct);return!dt._module.animatable&&Dt.anim&&(Dt.anim=!1),Dt},flags:Lt,immutable:at,transition:$e,newDataRevision:gt,gd:ot},bt={};for(xt=0;xt<Be.length;xt++)if(Ne[xt]){if(dt=Ne[xt]._fullInput,n.hasMakesDataTransform(dt)&&(dt=Ne[xt]),bt[dt.uid])continue;bt[dt.uid]=1,se(Be[xt]._fullInput,dt,[],Tt)}return(Lt.calc||Lt.plot)&&(Lt.fullReplot=!0),$e&&Lt.nChanges&&Lt.nChangesAnim&&(Lt.anim=Lt.nChanges===Lt.nChangesAnim&&yt?"all":"some"),Lt}(_e,ke,Ye,ft,ht,Mt);if(ue(_e)&&(mt.layoutReplot=!0),_t.calc||mt.calc){_e.calcdata=void 0;for(var it=Object.getOwnPropertyNames(Qe),st=0;st<it.length;st++){var St=it[st],zt=St.substring(0,5);if(zt==="xaxis"||zt==="yaxis"){var Ft=Qe[St]._emptyCategories;Ft&&Ft()}}}else n.supplyDefaultsUpdateCalc(_e.calcdata,Ye);var Pt=[];if(fe&&(_e._transitionData={},n.createTransitionData(_e),Pt.push(function(){return C.addFrames(_e,fe)})),Qe.transition&&!ze&&(_t.anim||mt.anim))mt.ticks&&Pt.push(m.doTicksRelayout),n.doCalcdata(_e),m.doAutoRangeAndConstraints(_e),Pt.push(function(){return n.transitionFromReact(_e,_t,mt,Ie)});else if(_t.fullReplot||mt.layoutReplot||ze)_e._fullLayout._skipDefaults=!0,Pt.push(C._doPlot);else{for(var Ze in mt.arrays){var Je=mt.arrays[Ze];if(Je.length){var Ue=t.getComponentMethod(Ze,"drawOne");if(Ue!==_.noop)for(var Xe=0;Xe<Je.length;Xe++)Ue(_e,Je[Xe]);else{var lt=t.getComponentMethod(Ze,"draw");if(lt===_.noop)throw new Error("cannot draw components: "+Ze);lt(_e)}}}Pt.push(n.previousPromises),_t.style&&Pt.push(m.doTraceStyle),(_t.colorbars||mt.colorbars)&&Pt.push(m.doColorBars),mt.legend&&Pt.push(m.doLegend),mt.layoutstyle&&Pt.push(m.layoutStyles),mt.axrange&&K(Pt),mt.ticks&&Pt.push(m.doTicksRelayout),mt.modebar&&Pt.push(m.doModeBar),mt.camera&&Pt.push(m.doCamera),Pt.push(T)}Pt.push(n.rehover,n.redrag,n.reselect),(xe=_.syncOrAsync(Pt,_e))&&xe.then||(xe=Promise.resolve(_e))}else xe=C.newPlot(_e,Ae,Ce,Re);return xe.then(function(){return _e.emit("plotly_react",{data:Ae,layout:Ce}),_e})},C.redraw=function(_e){if(_e=_.getGraphDiv(_e),!_.isPlotDiv(_e))throw new Error("This element is not a Plotly plot: "+_e);return y.cleanData(_e.data),y.cleanLayout(_e.layout),_e.calcdata=void 0,C._doPlot(_e).then(function(){return _e.emit("plotly_redraw"),_e})},C.relayout=J,C.restyle=Z,C.setPlotConfig=function(_e){return _.extendFlat(d,_e)},C.update=pe,C._guiRelayout=de(J),C._guiRestyle=de(Z),C._guiUpdate=de(pe),C._storeDirectGUIEdit=function(_e,Ae,Ce){for(var Re in Ce)V(Re,b(_e,Re).get(),Ce[Re],Ae)}},72075:function(q){var C={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};(function M(k,a){for(var _ in k){var b=k[_];b.valType?a[_]=b.dflt:(a[_]||(a[_]={}),M(b,a[_]))}})(C,e),q.exports={configAttributes:C,dfltConfig:e}},86281:function(q,C,e){var M=e(73972),k=e(71828),a=e(9012),_=e(10820),b=e(31391),h=e(85594),o=e(72075).configAttributes,t=e(30962),i=k.extendDeepAll,n=k.isPlainObject,r=k.isArrayOrTypedArray,l=k.nestedProperty,s=k.valObjectMeta,u="_isSubplotObj",p="_isLinkedToArray",c="_deprecated",x=[u,p,"_arrayAttrRegexps",c];function g(f,S,T){if(!f)return!1;if(f._isLinkedToArray){if(d(S[T]))T++;else if(T<S.length)return!1}for(;T<S.length;T++){var E=f[S[T]];if(!n(E)||(f=E,T===S.length-1))break;if(f._isLinkedToArray){if(!d(S[++T]))return!1}else if(f.valType==="info_array"){var O=S[++T];if(!d(O))return!1;var P=f.items;if(Array.isArray(P)){if(O>=P.length)return!1;if(f.dimensions===2){if(T++,S.length===T)return f;var I=S[T];if(!d(I))return!1;f=P[O][I]}else f=P[O]}else f=P}}return f}function d(f){return f===Math.round(f)&&f>=0}function v(){var f,S,T={};for(f in i(T,_),M.subplotsRegistry)if((S=M.subplotsRegistry[f]).layoutAttributes)if(Array.isArray(S.attr))for(var E=0;E<S.attr.length;E++)m(T,S,S.attr[E]);else m(T,S,S.attr==="subplot"?S.name:S.attr);for(f in M.componentsRegistry){var O=(S=M.componentsRegistry[f]).schema;if(O&&(O.subplots||O.layout)){var P=O.subplots;if(P&&P.xaxis&&!P.yaxis)for(var I in P.xaxis)delete T.yaxis[I];delete T.xaxis.shift,delete T.xaxis.autoshift}else S.name==="colorscale"?i(T,S.layoutAttributes):S.layoutAttributes&&w(T,S.layoutAttributes,S.name)}return{layoutAttributes:y(T)}}function y(f){return function(S){C.crawl(S,function(T,E,O){C.isValObject(T)?T.arrayOk!==!0&&T.valType!=="data_array"||(O[E+"src"]={valType:"string",editType:"none"}):n(T)&&(T.role="object")})}(f),function(S){C.crawl(S,function(T,E,O){if(T){var P=T[p];P&&(delete T[p],O[E]={items:{}},O[E].items[P]=T,O[E].role="object")}})}(f),function(S){(function T(E){for(var O in E)if(n(E[O]))T(E[O]);else if(Array.isArray(E[O]))for(var P=0;P<E[O].length;P++)T(E[O][P]);else E[O]instanceof RegExp&&(E[O]=E[O].toString())})(S)}(f),f}function m(f,S,T){var E=l(f,T),O=i({},S.layoutAttributes);O[u]=!0,E.set(O)}function w(f,S,T){var E=l(f,T);E.set(i(E.get()||{},S))}C.IS_SUBPLOT_OBJ=u,C.IS_LINKED_TO_ARRAY=p,C.DEPRECATED=c,C.UNDERSCORE_ATTRS=x,C.get=function(){var f={};M.allTypes.forEach(function(E){f[E]=function(O){var P,I;I=(P=M.modules[O]._module).basePlotModule;var z={type:null},j=i({},a),R=i({},P.attributes);C.crawl(R,function(F,U,V,te,Q){l(j,Q).set(void 0),F===void 0&&l(R,Q).set(void 0)}),i(z,j),M.traceIs(O,"noOpacity")&&delete z.opacity,M.traceIs(O,"showLegend")||(delete z.showlegend,delete z.legendgroup),M.traceIs(O,"noHover")&&(delete z.hoverinfo,delete z.hoverlabel),P.selectPoints||delete z.selectedpoints,i(z,R),I.attributes&&i(z,I.attributes),z.type=O;var N={meta:P.meta||{},categories:P.categories||{},animatable:!!P.animatable,type:O,attributes:y(z)};if(P.layoutAttributes){var Z={};i(Z,P.layoutAttributes),N.layoutAttributes=y(Z)}return P.animatable||C.crawl(N,function(F){C.isValObject(F)&&"anim"in F&&delete F.anim}),N}(E)});var S,T={};return Object.keys(M.transformsRegistry).forEach(function(E){T[E]=function(O){var P=M.transformsRegistry[O],I=i({},P.attributes);return Object.keys(M.componentsRegistry).forEach(function(z){var j=M.componentsRegistry[z];j.schema&&j.schema.transforms&&j.schema.transforms[O]&&Object.keys(j.schema.transforms[O]).forEach(function(R){w(I,j.schema.transforms[O][R],R)})}),{attributes:y(I)}}(E)}),{defs:{valObjects:s,metaKeys:x.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:f,layout:v(),transforms:T,frames:(S={frames:i({},b)},y(S),S.frames),animation:y(h),config:y(o)}},C.crawl=function(f,S,T,E){var O=T||0;E=E||"",Object.keys(f).forEach(function(P){var I=f[P];if(x.indexOf(P)===-1){var z=(E?E+".":"")+P;S(I,P,f,O,z),C.isValObject(I)||n(I)&&P!=="impliedEdits"&&C.crawl(I,S,O+1,z)}})},C.isValObject=function(f){return f&&f.valType!==void 0},C.findArrayAttributes=function(f){var S,T,E=[],O=[],P=[];function I(F,U,V,te){O=O.slice(0,te).concat([U]),P=P.slice(0,te).concat([F&&F._isLinkedToArray]),F&&(F.valType==="data_array"||F.arrayOk===!0)&&(O[te-1]!=="colorbar"||U!=="ticktext"&&U!=="tickvals")&&z(S,0,"")}function z(F,U,V){var te=F[O[U]],Q=V+O[U];if(U===O.length-1)r(te)&&E.push(T+Q);else if(P[U]){if(Array.isArray(te))for(var J=0;J<te.length;J++)n(te[J])&&z(te[J],U+1,Q+"["+J+"].")}else n(te)&&z(te,U+1,Q+".")}S=f,T="",C.crawl(a,I),f._module&&f._module.attributes&&C.crawl(f._module.attributes,I);var j=f.transforms;if(j)for(var R=0;R<j.length;R++){var N=j[R],Z=N._module;Z&&(T="transforms["+R+"].",S=N,C.crawl(Z.attributes,I))}return E},C.getTraceValObject=function(f,S){var T,E,O=S[0],P=1;if(O==="transforms"){if(S.length===1)return a.transforms;var I=f.transforms;if(!Array.isArray(I)||!I.length)return!1;var z=S[1];if(!d(z)||z>=I.length)return!1;E=(T=(M.transformsRegistry[I[z].type]||{}).attributes)&&T[S[2]],P=3}else{var j=f._module;if(j||(j=(M.modules[f.type||a.type.dflt]||{})._module),!j)return!1;if(!(E=(T=j.attributes)&&T[O])){var R=j.basePlotModule;R&&R.attributes&&(E=R.attributes[O])}E||(E=a[O])}return g(E,S,P)},C.getLayoutValObject=function(f,S){var T=function(E,O){var P,I,z,j,R=E._basePlotModules;if(R){var N;for(P=0;P<R.length;P++){if((z=R[P]).attrRegex&&z.attrRegex.test(O)){if(z.layoutAttrOverrides)return z.layoutAttrOverrides;!N&&z.layoutAttributes&&(N=z.layoutAttributes)}var Z=z.baseLayoutAttrOverrides;if(Z&&O in Z)return Z[O]}if(N)return N}var F=E._modules;if(F){for(P=0;P<F.length;P++)if((j=F[P].layoutAttributes)&&O in j)return j[O]}for(I in M.componentsRegistry){if((z=M.componentsRegistry[I]).name==="colorscale"&&O.indexOf("coloraxis")===0)return z.layoutAttributes[O];if(!z.schema&&O===z.name)return z.layoutAttributes}return O in _&&_[O]}(f,S[0]);return g(T,S,1)}},44467:function(q,C,e){var M=e(71828),k=e(9012),a="templateitemname",_={name:{valType:"string",editType:"none"}};function b(o){return o&&typeof o=="string"}function h(o){var t=o.length-1;return o.charAt(t)!=="s"&&M.warn("bad argument to arrayDefaultKey: "+o),o.substr(0,o.length-1)+"defaults"}_[a]={valType:"string",editType:"calc"},C.templatedArray=function(o,t){return t._isLinkedToArray=o,t.name=_.name,t[a]=_[a],t},C.traceTemplater=function(o){var t,i,n={};for(t in o)i=o[t],Array.isArray(i)&&i.length&&(n[t]=0);return{newTrace:function(r){var l={type:t=M.coerce(r,{},k,"type"),_template:null};if(t in n){i=o[t];var s=n[t]%i.length;n[t]++,l._template=i[s]}return l}}},C.newContainer=function(o,t,i){var n=o._template,r=n&&(n[t]||i&&n[i]);return M.isPlainObject(r)||(r=null),o[t]={_template:r}},C.arrayTemplater=function(o,t,i){var n=o._template,r=n&&n[h(t)],l=n&&n[t];Array.isArray(l)&&l.length||(l=[]);var s={};return{newItem:function(u){var p={name:u.name,_input:u},c=p[a]=u[a];if(!b(c))return p._template=r,p;for(var x=0;x<l.length;x++){var g=l[x];if(g.name===c)return s[c]=1,p._template=g,p}return p[i]=u[i]||!1,p._template=!1,p},defaultItems:function(){for(var u=[],p=0;p<l.length;p++){var c=l[p],x=c.name;if(b(x)&&!s[x]){var g={_template:c,name:x,_input:{_templateitemname:x}};g[a]=c[a],u.push(g),s[x]=1}}return u}}},C.arrayDefaultKey=h,C.arrayEditor=function(o,t,i){var n=(M.nestedProperty(o,t).get()||[]).length,r=i._index,l=r>=n&&(i._input||{})._templateitemname;l&&(r=n);var s,u=t+"["+r+"]";function p(){s={},l&&(s[u]={},s[u][a]=l)}function c(g,d){l?M.nestedProperty(s[u],g).set(d):s[u+"."+g]=d}function x(){var g=s;return p(),g}return p(),{modifyBase:function(g,d){s[g]=d},modifyItem:c,getUpdateObj:x,applyUpdate:function(g,d){g&&c(g,d);var v=x();for(var y in v)M.nestedProperty(o,y).set(v[y])}}}},61549:function(q,C,e){var M=e(39898),k=e(73972),a=e(74875),_=e(71828),b=e(63893),h=e(33306),o=e(7901),t=e(91424),i=e(92998),n=e(64168),r=e(89298),l=e(18783),s=e(99082),u=s.enforce,p=s.clean,c=e(71739).doAutoRange,x="start";function g(w,f,S){for(var T=0;T<S.length;T++){var E=S[T][0],O=S[T][1];if(!(E[0]>=w[1]||E[1]<=w[0])&&O[0]<f[1]&&O[1]>f[0])return!0}return!1}function d(w){var f,S,T,E,O,P,I=w._fullLayout,z=I._size,j=z.p,R=r.list(w,"",!0);if(I._paperdiv.style({width:w._context.responsive&&I.autosize&&!w._context._hasZeroWidth&&!w.layout.width?"100%":I.width+"px",height:w._context.responsive&&I.autosize&&!w._context._hasZeroHeight&&!w.layout.height?"100%":I.height+"px"}).selectAll(".main-svg").call(t.setSize,I.width,I.height),w._context.setBackground(w,I.paper_bgcolor),C.drawMainTitle(w),n.manage(w),!I._has("cartesian"))return a.previousPromises(w);function N(ze,qe,Ye){var Qe=ze._lw/2;return ze._id.charAt(0)==="x"?qe?Ye==="top"?qe._offset-j-Qe:qe._offset+qe._length+j+Qe:z.t+z.h*(1-(ze.position||0))+Qe%1:qe?Ye==="right"?qe._offset+qe._length+j+Qe:qe._offset-j-Qe:z.l+z.w*(ze.position||0)+Qe%1}for(f=0;f<R.length;f++){var Z=(E=R[f])._anchorAxis;E._linepositions={},E._lw=t.crispRound(w,E.linewidth,1),E._mainLinePosition=N(E,Z,E.side),E._mainMirrorPosition=E.mirror&&Z?N(E,Z,l.OPPOSITE_SIDE[E.side]):null}var F=[],U=[],V=[],te=o.opacity(I.paper_bgcolor)===1&&o.opacity(I.plot_bgcolor)===1&&I.paper_bgcolor===I.plot_bgcolor;for(S in I._plots)if((T=I._plots[S]).mainplot)T.bg&&T.bg.remove(),T.bg=void 0;else{var Q=T.xaxis.domain,J=T.yaxis.domain,X=T.plotgroup;if(g(Q,J,V)){var K=X.node(),ee=T.bg=_.ensureSingle(X,"rect","bg");K.insertBefore(ee.node(),K.childNodes[0]),U.push(S)}else X.select("rect.bg").remove(),V.push([Q,J]),te||(F.push(S),U.push(S))}var re,ie,ae,ue,pe,de,ye,be,me,Ee,Te,we,oe,se=I._bgLayer.selectAll(".bg").data(F);for(se.enter().append("rect").classed("bg",!0),se.exit().remove(),se.each(function(ze){I._plots[ze].bg=M.select(this)}),f=0;f<U.length;f++)T=I._plots[U[f]],O=T.xaxis,P=T.yaxis,T.bg&&O._offset!==void 0&&P._offset!==void 0&&T.bg.call(t.setRect,O._offset-j,P._offset-j,O._length+2*j,P._length+2*j).call(o.fill,I.plot_bgcolor).style("stroke-width",0);if(!I._hasOnlyLargeSploms)for(S in I._plots){T=I._plots[S],O=T.xaxis,P=T.yaxis;var he,Se,_e=T.clipId="clip"+I._uid+S+"plot",Ae=_.ensureSingleById(I._clips,"clipPath",_e,function(ze){ze.classed("plotclip",!0).append("rect")});T.clipRect=Ae.select("rect").attr({width:O._length,height:P._length}),t.setTranslate(T.plot,O._offset,P._offset),T._hasClipOnAxisFalse?(he=null,Se=_e):(he=_e,Se=null),t.setClipUrl(T.plot,he,w),T.layerClipId=Se}function Ce(ze){return"M"+re+","+ze+"H"+ie}function Re(ze){return"M"+O._offset+","+ze+"h"+O._length}function fe(ze){return"M"+ze+","+be+"V"+ye}function xe(ze){return P._shift!==void 0&&(ze+=P._shift),"M"+ze+","+P._offset+"v"+P._length}function ke(ze,qe,Ye){if(!ze.showline||S!==ze._mainSubplot)return"";if(!ze._anchorAxis)return Ye(ze._mainLinePosition);var Qe=qe(ze._mainLinePosition);return ze.mirror&&(Qe+=qe(ze._mainMirrorPosition)),Qe}for(S in I._plots){T=I._plots[S],O=T.xaxis,P=T.yaxis;var Ie="M0,0";v(O,S)&&(pe=m(O,"left",P,R),re=O._offset-(pe?j+pe:0),de=m(O,"right",P,R),ie=O._offset+O._length+(de?j+de:0),ae=N(O,P,"bottom"),ue=N(O,P,"top"),!(oe=!O._anchorAxis||S!==O._mainSubplot)||O.mirror!=="allticks"&&O.mirror!=="all"||(O._linepositions[S]=[ae,ue]),Ie=ke(O,Ce,Re),oe&&O.showline&&(O.mirror==="all"||O.mirror==="allticks")&&(Ie+=Ce(ae)+Ce(ue)),T.xlines.style("stroke-width",O._lw+"px").call(o.stroke,O.showline?O.linecolor:"rgba(0,0,0,0)")),T.xlines.attr("d",Ie);var Fe="M0,0";v(P,S)&&(Te=m(P,"bottom",O,R),ye=P._offset+P._length+(Te?j:0),we=m(P,"top",O,R),be=P._offset-(we?j:0),me=N(P,O,"left"),Ee=N(P,O,"right"),!(oe=!P._anchorAxis||S!==P._mainSubplot)||P.mirror!=="allticks"&&P.mirror!=="all"||(P._linepositions[S]=[me,Ee]),Fe=ke(P,fe,xe),oe&&P.showline&&(P.mirror==="all"||P.mirror==="allticks")&&(Fe+=fe(me)+fe(Ee)),T.ylines.style("stroke-width",P._lw+"px").call(o.stroke,P.showline?P.linecolor:"rgba(0,0,0,0)")),T.ylines.attr("d",Fe)}return r.makeClipPaths(w),a.previousPromises(w)}function v(w,f){return(w.ticks||w.showline)&&(f===w._mainSubplot||w.mirror==="all"||w.mirror==="allticks")}function y(w,f,S){if(!S.showline||!S._lw)return!1;if(S.mirror==="all"||S.mirror==="allticks")return!0;var T=S._anchorAxis;if(!T)return!1;var E=l.FROM_BL[f];return S.side===f?T.domain[E]===w.domain[E]:S.mirror&&T.domain[1-E]===w.domain[1-E]}function m(w,f,S,T){if(y(w,f,S))return S._lw;for(var E=0;E<T.length;E++){var O=T[E];if(O._mainAxis===S._mainAxis&&y(w,f,O))return O._lw}return 0}C.layoutStyles=function(w){return _.syncOrAsync([a.doAutoMargin,d],w)},C.drawMainTitle=function(w){var f,S=w._fullLayout.title,T=w._fullLayout,E=function(F){var U=F.title,V="middle";return _.isRightAnchor(U)?V="end":_.isLeftAnchor(U)&&(V=x),V}(T),O=function(F){var U=F.title,V="0em";return _.isTopAnchor(U)?V=l.CAP_SHIFT+"em":_.isMiddleAnchor(U)&&(V=l.MID_SHIFT+"em"),V}(T),P=function(F,U){var V=F.title,te=F._size,Q=0;return U!=="0em"&&U?U===l.CAP_SHIFT+"em"&&(Q=V.pad.t):Q=-V.pad.b,V.y==="auto"?te.t/2:V.yref==="paper"?te.t+te.h-te.h*V.y+Q:F.height-F.height*V.y+Q}(T,O),I=function(F,U){var V=F.title,te=F._size,Q=0;return U===x?Q=V.pad.l:U==="end"&&(Q=-V.pad.r),V.xref==="paper"?te.l+te.w*V.x+Q:F.width*V.x+Q}(T,E);if(i.draw(w,"gtitle",{propContainer:T,propName:"title.text",placeholder:T._dfltTitle.plot,attributes:{x:I,y:P,"text-anchor":E,dy:O}}),S.text&&S.automargin){var z=M.selectAll(".gtitle"),j=t.bBox(z.node()).height,R=function(F,U,V){var te=U.y,Q=U.yanchor,J=te>.5?"t":"b",X=F._fullLayout.margin[J],K=0;return U.yref==="paper"?K=V+U.pad.t+U.pad.b:U.yref==="container"&&(K=function(ee,re,ie,ae,ue){var pe=0;return ie==="middle"&&(pe+=ue/2),ee==="t"?(ie==="top"&&(pe+=ue),pe+=ae-re*ae):(ie==="bottom"&&(pe+=ue),pe+=re*ae),pe}(J,te,Q,F._fullLayout.height,V)+U.pad.t+U.pad.b),K>X?K:0}(w,S,j);if(R>0){(function(F,U,V,te){var Q="title.automargin",J=F._fullLayout.title,X=J.y>.5?"t":"b",K={x:J.x,y:J.y,t:0,b:0},ee={};J.yref==="paper"&&function(re,ie,ae,ue,pe){var de=ie.yref==="paper"?re._fullLayout._size.h:re._fullLayout.height,ye=_.isTopAnchor(ie)?ue:ue-pe,be=ae==="b"?de-ye:ye;return!(_.isTopAnchor(ie)&&ae==="t"||_.isBottomAnchor(ie)&&ae==="b")&&be<pe}(F,J,X,U,te)?K[X]=V:J.yref==="container"&&(ee[X]=V,F._fullLayout._reservedMargin[Q]=ee),a.allowAutoMargin(F,Q),a.autoMargin(F,Q,K)})(w,P,R,j),z.attr({x:I,y:P,"text-anchor":E,dy:(f=S.yanchor,f==="top"?l.CAP_SHIFT+.3+"em":f==="bottom"?"-0.3em":l.MID_SHIFT+"em")}).call(b.positionText,I,P);var N=(S.text.match(b.BR_TAG_ALL)||[]).length;if(N){var Z=l.LINE_SPACING*N+l.MID_SHIFT;S.y===0&&(Z=-Z),z.selectAll(".line").each(function(){var F=+this.getAttribute("dy").slice(0,-2)-Z+"em";this.setAttribute("dy",F)})}}}},C.doTraceStyle=function(w){var f,S=w.calcdata,T=[];for(f=0;f<S.length;f++){var E=S[f],O=E[0]||{},P=O.trace||{},I=P._module||{},z=I.arraysToCalcdata;z&&z(E,P);var j=I.editStyle;j&&T.push({fn:j,cd0:O})}if(T.length){for(f=0;f<T.length;f++){var R=T[f];R.fn(w,R.cd0)}h(w),C.redrawReglTraces(w)}return a.style(w),k.getComponentMethod("legend","draw")(w),a.previousPromises(w)},C.doColorBars=function(w){return k.getComponentMethod("colorbar","draw")(w),a.previousPromises(w)},C.layoutReplot=function(w){var f=w.layout;return w.layout=void 0,k.call("_doPlot",w,"",f)},C.doLegend=function(w){return k.getComponentMethod("legend","draw")(w),a.previousPromises(w)},C.doTicksRelayout=function(w){return r.draw(w,"redraw"),w._fullLayout._hasOnlyLargeSploms&&(k.subplotsRegistry.splom.updateGrid(w),h(w),C.redrawReglTraces(w)),C.drawMainTitle(w),a.previousPromises(w)},C.doModeBar=function(w){var f=w._fullLayout;n.manage(w);for(var S=0;S<f._basePlotModules.length;S++){var T=f._basePlotModules[S].updateFx;T&&T(w)}return a.previousPromises(w)},C.doCamera=function(w){for(var f=w._fullLayout,S=f._subplots.gl3d,T=0;T<S.length;T++){var E=f[S[T]];E._scene.setViewport(E)}},C.drawData=function(w){var f=w._fullLayout;h(w);for(var S=f._basePlotModules,T=0;T<S.length;T++)S[T].plot(w);return C.redrawReglTraces(w),a.style(w),k.getComponentMethod("selections","draw")(w),k.getComponentMethod("shapes","draw")(w),k.getComponentMethod("annotations","draw")(w),k.getComponentMethod("images","draw")(w),f._replotting=!1,a.previousPromises(w)},C.redrawReglTraces=function(w){var f=w._fullLayout;if(f._has("regl")){var S,T,E=w._fullData,O=[],P=[];for(f._hasOnlyLargeSploms&&f._splomGrid.draw(),S=0;S<E.length;S++){var I=E[S];I.visible===!0&&I._length!==0&&(I.type==="splom"?f._splomScenes[I.uid].draw():I.type==="scattergl"?_.pushUnique(O,I.xaxis+I.yaxis):I.type==="scatterpolargl"&&_.pushUnique(P,I.subplot))}for(S=0;S<O.length;S++)(T=f._plots[O[S]])._scene&&T._scene.draw();for(S=0;S<P.length;S++)(T=f[P[S]]._subplot)._scene&&T._scene.draw()}},C.doAutoRangeAndConstraints=function(w){for(var f,S=r.list(w,"",!0),T={},E=0;E<S.length;E++)if(!T[(f=S[E])._id]){T[f._id]=1,p(w,f),c(w,f);var O=f._matchGroup;if(O)for(var P in O){var I=r.getFromId(w,P);c(w,I,f.range),T[P]=1}}u(w)},C.finalDraw=function(w){k.getComponentMethod("rangeslider","draw")(w),k.getComponentMethod("rangeselector","draw")(w)},C.drawMarginPushers=function(w){k.getComponentMethod("legend","draw")(w),k.getComponentMethod("rangeselector","draw")(w),k.getComponentMethod("sliders","draw")(w),k.getComponentMethod("updatemenus","draw")(w),k.getComponentMethod("colorbar","draw")(w)}},96318:function(q,C,e){var M=e(71828),k=M.isPlainObject,a=e(86281),_=e(74875),b=e(9012),h=e(44467),o=e(72075).dfltConfig;function t(c,x){c=M.extendDeep({},c);var g,d,v=Object.keys(c).sort();function y(T,E,O){if(k(E)&&k(T))t(T,E);else if(Array.isArray(E)&&Array.isArray(T)){var P=h.arrayTemplater({_template:c},O);for(d=0;d<E.length;d++){var I=E[d],z=P.newItem(I)._template;z&&t(z,I)}var j=P.defaultItems();for(d=0;d<j.length;d++)E.push(j[d]._template);for(d=0;d<E.length;d++)delete E[d].templateitemname}}for(g=0;g<v.length;g++){var m=v[g],w=c[m];if(m in x?y(w,x[m],m):x[m]=w,i(m)===m)for(var f in x){var S=i(f);f===S||S!==m||f in c||y(w,x[f],m)}}}function i(c){return c.replace(/[0-9]+$/,"")}function n(c,x,g,d,v){var y=v&&g(v);for(var m in c){var w=c[m],f=s(c,m,d),S=s(c,m,v),T=g(S);if(!T){var E=i(m);E!==m&&(T=g(S=s(c,E,v)))}if(!(y&&y===T||!T||T._noTemplating||T.valType==="data_array"||T.arrayOk&&Array.isArray(w)))if(!T.valType&&k(w))n(w,x,g,f,S);else if(T._isLinkedToArray&&Array.isArray(w))for(var O=!1,P=0,I={},z=0;z<w.length;z++){var j=w[z];if(k(j)){var R=j.name;if(R)I[R]||(n(j,x,g,s(w,P,f),s(w,P,S)),P++,I[R]=1);else if(!O){var N=s(c,h.arrayDefaultKey(m),d),Z=s(w,P,f);n(j,x,g,Z,s(w,P,S));var F=M.nestedProperty(x,Z);M.nestedProperty(x,N).set(F.get()),F.set(null),O=!0}}}else M.nestedProperty(x,f).set(w)}}function r(c,x){return a.getLayoutValObject(c,M.nestedProperty({},x).parts)}function l(c,x){return a.getTraceValObject(c,M.nestedProperty({},x).parts)}function s(c,x,g){return g?Array.isArray(c)?g+"["+x+"]":g+"."+x:x}function u(c){for(var x=0;x<c.length;x++)if(k(c[x]))return!0}function p(c){var x;switch(c.code){case"data":x="The template has no key data.";break;case"layout":x="The template has no key layout.";break;case"missing":x=c.path?"There are no templates for item "+c.path+" with name "+c.templateitemname:"There are no templates for trace "+c.index+", of type "+c.traceType+".";break;case"unused":x=c.path?"The template item at "+c.path+" was not used in constructing the plot.":c.dataCount?"Some of the templates of type "+c.traceType+" were not used. The template has "+c.templateCount+" traces, the data only has "+c.dataCount+" of this type.":"The template has "+c.templateCount+" traces of type "+c.traceType+" but there are none in the data.";break;case"reused":x="Some of the templates of type "+c.traceType+" were used more than once. The template has "+c.templateCount+" traces, the data has "+c.dataCount+" of this type."}return c.msg=x,c}C.makeTemplate=function(c){c=M.isPlainObject(c)?c:M.getGraphDiv(c),c=M.extendDeep({_context:o},{data:c.data,layout:c.layout}),_.supplyDefaults(c);var x=c.data||[],g=c.layout||{};g._basePlotModules=c._fullLayout._basePlotModules,g._modules=c._fullLayout._modules;var d={data:{},layout:{}};x.forEach(function(P){var I={};n(P,I,l.bind(null,P));var z=M.coerce(P,{},b,"type"),j=d.data[z];j||(j=d.data[z]=[]),j.push(I)}),n(g,d.layout,r.bind(null,g)),delete d.layout.template;var v=g.template;if(k(v)){var y,m,w,f,S,T,E=v.layout;k(E)&&t(E,d.layout);var O=v.data;if(k(O)){for(m in d.data)if(w=O[m],Array.isArray(w)){for(T=(S=d.data[m]).length,f=w.length,y=0;y<T;y++)t(w[y%f],S[y]);for(y=T;y<f;y++)S.push(M.extendDeep({},w[y]))}for(m in O)m in d.data||(d.data[m]=M.extendDeep([],O[m]))}}return d},C.validateTemplate=function(c,x){var g=M.extendDeep({},{_context:o,data:c.data,layout:c.layout}),d=g.layout||{};k(x)||(x=d.template||{});var v=x.layout,y=x.data,m=[];g.layout=d,g.layout.template=x,_.supplyDefaults(g);var w=g._fullLayout,f=g._fullData,S={};if(k(v)?(function j(R,N){for(var Z in R)if(Z.charAt(0)!=="_"&&k(R[Z])){var F,U=i(Z),V=[];for(F=0;F<N.length;F++)V.push(s(R,Z,N[F])),U!==Z&&V.push(s(R,U,N[F]));for(F=0;F<V.length;F++)S[V[F]]=1;j(R[Z],V)}}(w,["layout"]),function j(R,N){for(var Z in R)if(Z.indexOf("defaults")===-1&&k(R[Z])){var F=s(R,Z,N);S[F]?j(R[Z],F):m.push({code:"unused",path:F})}}(v,"layout")):m.push({code:"layout"}),k(y)){for(var T,E={},O=0;O<f.length;O++){var P=f[O];E[T=P.type]=(E[T]||0)+1,P._fullInput._template||m.push({code:"missing",index:P._fullInput.index,traceType:T})}for(T in y){var I=y[T].length,z=E[T]||0;I>z?m.push({code:"unused",traceType:T,templateCount:I,dataCount:z}):z>I&&m.push({code:"reused",traceType:T,templateCount:I,dataCount:z})}}else m.push({code:"data"});if(function j(R,N){for(var Z in R)if(Z.charAt(0)!=="_"){var F=R[Z],U=s(R,Z,N);k(F)?(Array.isArray(R)&&F._template===!1&&F.templateitemname&&m.push({code:"missing",path:U,templateitemname:F.templateitemname}),j(F,U)):Array.isArray(F)&&u(F)&&j(F,U)}}({data:f,layout:w},""),m.length)return m.map(p)}},403:function(q,C,e){var M=e(92770),k=e(72391),a=e(74875),_=e(71828),b=e(25095),h=e(5900),o=e(70942),t=e(11506).version,i={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};q.exports=function(n,r){var l,s,u,p;function c(z){return!(z in r)||_.validate(r[z],i[z])}if(r=r||{},_.isPlainObject(n)?(l=n.data||[],s=n.layout||{},u=n.config||{},p={}):(n=_.getGraphDiv(n),l=_.extendDeep([],n.data),s=_.extendDeep({},n.layout),u=n._context,p=n._fullLayout||{}),!c("width")&&r.width!==null||!c("height")&&r.height!==null)throw new Error("Height and width should be pixel values.");if(!c("format"))throw new Error("Export format is not "+_.join2(i.format.values,", "," or ")+".");var x={};function g(z,j){return _.coerce(r,x,i,z,j)}var d=g("format"),v=g("width"),y=g("height"),m=g("scale"),w=g("setBackground"),f=g("imageDataOnly"),S=document.createElement("div");S.style.position="absolute",S.style.left="-5000px",document.body.appendChild(S);var T=_.extendFlat({},s);v?T.width=v:r.width===null&&M(p.width)&&(T.width=p.width),y?T.height=y:r.height===null&&M(p.height)&&(T.height=p.height);var E=_.extendFlat({},u,{_exportedPlot:!0,staticPlot:!0,setBackground:w}),O=b.getRedrawFunc(S);function P(){return new Promise(function(z){setTimeout(z,b.getDelay(S._fullLayout))})}function I(){return new Promise(function(z,j){var R=h(S,d,m),N=S._fullLayout.width,Z=S._fullLayout.height;function F(){k.purge(S),document.body.removeChild(S)}if(d==="full-json"){var U=a.graphJson(S,!1,"keepdata","object",!0,!0);return U.version=t,U=JSON.stringify(U),F(),z(f?U:b.encodeJSON(U))}if(F(),d==="svg")return z(f?R:b.encodeSVG(R));var V=document.createElement("canvas");V.id=_.randstr(),o({format:d,width:N,height:Z,scale:m,canvas:V,svg:R,promise:!0}).then(z).catch(j)})}return new Promise(function(z,j){k.newPlot(S,l,T,E).then(O).then(P).then(I).then(function(R){z(function(N){return f?N.replace(b.IMAGE_URL_PREFIX,""):N}(R))}).catch(function(R){j(R)})})}},84936:function(q,C,e){var M=e(71828),k=e(74875),a=e(86281),_=e(72075).dfltConfig,b=M.isPlainObject,h=Array.isArray,o=M.isArrayOrTypedArray;function t(c,x,g,d,v,y){y=y||[];for(var m=Object.keys(c),w=0;w<m.length;w++){var f=m[w];if(f!=="transforms"){var S=y.slice();S.push(f);var T=c[f],E=x[f],O=s(g,f),P=(O||{}).valType,I=P==="info_array",z=P==="colorscale",j=(O||{}).items;if(l(g,f))if(b(T)&&b(E)&&P!=="any")t(T,E,O,d,v,S);else if(I&&h(T)){T.length>E.length&&d.push(r("unused",v,S.concat(E.length)));var R,N,Z,F,U,V=E.length,te=Array.isArray(j);if(te&&(V=Math.min(V,j.length)),O.dimensions===2)for(N=0;N<V;N++)if(h(T[N])){T[N].length>E[N].length&&d.push(r("unused",v,S.concat(N,E[N].length)));var Q=E[N].length;for(R=0;R<(te?Math.min(Q,j[N].length):Q);R++)Z=te?j[N][R]:j,F=T[N][R],U=E[N][R],M.validate(F,Z)?U!==F&&U!==+F&&d.push(r("dynamic",v,S.concat(N,R),F,U)):d.push(r("value",v,S.concat(N,R),F))}else d.push(r("array",v,S.concat(N),T[N]));else for(N=0;N<V;N++)Z=te?j[N]:j,F=T[N],U=E[N],M.validate(F,Z)?U!==F&&U!==+F&&d.push(r("dynamic",v,S.concat(N),F,U)):d.push(r("value",v,S.concat(N),F))}else if(O.items&&!I&&h(T)){var J,X,K=j[Object.keys(j)[0]],ee=[];for(J=0;J<E.length;J++){var re=E[J]._index||J;if((X=S.slice()).push(re),b(T[re])&&b(E[J])){ee.push(re);var ie=T[re],ae=E[J];b(ie)&&ie.visible!==!1&&ae.visible===!1?d.push(r("invisible",v,X)):t(ie,ae,K,d,v,X)}}for(J=0;J<T.length;J++)(X=S.slice()).push(J),b(T[J])?ee.indexOf(J)===-1&&d.push(r("unused",v,X)):d.push(r("object",v,X,T[J]))}else!b(T)&&b(E)?d.push(r("object",v,S,T)):o(T)||!o(E)||I||z?f in x?M.validate(T,O)?O.valType==="enumerated"&&(O.coerceNumber&&T!==+E||T!==E)&&d.push(r("dynamic",v,S,T,E)):d.push(r("value",v,S,T)):d.push(r("unused",v,S,T)):d.push(r("array",v,S,T));else d.push(r("schema",v,S))}}return d}q.exports=function(c,x){c===void 0&&(c=[]),x===void 0&&(x={});var g,d,v=a.get(),y=[],m={_context:M.extendFlat({},_)};h(c)?(m.data=M.extendDeep([],c),g=c):(m.data=[],g=[],y.push(r("array","data"))),b(x)?(m.layout=M.extendDeep({},x),d=x):(m.layout={},d={},arguments.length>1&&y.push(r("object","layout"))),k.supplyDefaults(m);for(var w=m._fullData,f=g.length,S=0;S<f;S++){var T=g[S],E=["data",S];if(b(T)){var O=w[S],P=O.type,I=v.traces[P].attributes;I.type={valType:"enumerated",values:[P]},O.visible===!1&&T.visible!==!1&&y.push(r("invisible",E)),t(T,O,I,y,E);var z=T.transforms,j=O.transforms;if(z){h(z)||y.push(r("array",E,["transforms"])),E.push("transforms");for(var R=0;R<z.length;R++){var N=["transforms",R],Z=z[R].type;if(b(z[R])){var F=v.transforms[Z]?v.transforms[Z].attributes:{};F.type={valType:"enumerated",values:Object.keys(v.transforms)},t(z[R],j[R],F,y,E,N)}else y.push(r("object",E,N))}}}else y.push(r("object",E))}var U=m._fullLayout,V=function(te,Q){for(var J=te.layout.layoutAttributes,X=0;X<Q.length;X++){var K=Q[X],ee=te.traces[K.type],re=ee.layoutAttributes;re&&(K.subplot?M.extendFlat(J[ee.attributes.subplot.dflt],re):M.extendFlat(J,re))}return J}(v,w);return t(d,U,V,y,"layout"),y.length===0?void 0:y};var i={object:function(c,x){return(c==="layout"&&x===""?"The layout argument":c[0]==="data"&&x===""?"Trace "+c[1]+" in the data argument":n(c)+"key "+x)+" must be linked to an object container"},array:function(c,x){return(c==="data"?"The data argument":n(c)+"key "+x)+" must be linked to an array container"},schema:function(c,x){return n(c)+"key "+x+" is not part of the schema"},unused:function(c,x,g){var d=b(g)?"container":"key";return n(c)+d+" "+x+" did not get coerced"},dynamic:function(c,x,g,d){return[n(c)+"key",x,"(set to '"+g+"')","got reset to","'"+d+"'","during defaults."].join(" ")},invisible:function(c,x){return(x?n(c)+"item "+x:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,x,g){return[n(c)+"key "+x,"is set to an invalid value ("+g+")"].join(" ")}};function n(c){return h(c)?"In data trace "+c[1]+", ":"In "+c+", "}function r(c,x,g,d,v){var y,m;g=g||"",h(x)?(y=x[0],m=x[1]):(y=x,m=null);var w=function(S){if(!h(S))return String(S);for(var T="",E=0;E<S.length;E++){var O=S[E];typeof O=="number"?T=T.substr(0,T.length-1)+"["+O+"]":T+=O,E<S.length-1&&(T+=".")}return T}(g),f=i[c](x,w,d,v);return M.log(f),{code:c,container:y,trace:m,path:g,astr:w,msg:f}}function l(c,x){var g=p(x),d=g.keyMinusId,v=g.id;return!!(d in c&&c[d]._isSubplotObj&&v)||x in c}function s(c,x){return x in c?c[x]:c[p(x).keyMinusId]}var u=M.counterRegex("([a-z]+)");function p(c){var x=c.match(u);return{keyMinusId:x&&x[1],id:x&&x[2]}}},85594:function(q){q.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(q,C,e){var M=e(71828),k=e(44467);q.exports=function(a,_,b){var h,o,t=b.name,i=b.inclusionAttr||"visible",n=_[t],r=M.isArrayOrTypedArray(a[t])?a[t]:[],l=_[t]=[],s=k.arrayTemplater(_,t,i);for(h=0;h<r.length;h++){var u=r[h];M.isPlainObject(u)?o=s.newItem(u):(o=s.newItem({}))[i]=!1,o._index=h,o[i]!==!1&&b.handleItemDefaults(u,o,_,b),l.push(o)}var p=s.defaultItems();for(h=0;h<p.length;h++)(o=p[h])._index=l.length,b.handleItemDefaults({},o,_,b,{}),l.push(o);if(M.isArrayOrTypedArray(n)){var c=Math.min(n.length,l.length);for(h=0;h<c;h++)M.relinkPrivateKeys(l[h],n[h])}return l}},9012:function(q,C,e){var M=e(41940),k=e(77914);q.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:M({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:k.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(q,C,e){var M=e(92770),k=e(71828),a=k.dateTime2ms,_=k.incrementMonth,b=e(50606).ONEAVGMONTH;q.exports=function(h,o,t,i){if(o.type!=="date")return{vals:i};var n=h[t+"periodalignment"];if(!n)return{vals:i};var r,l=h[t+"period"];if(M(l)){if((l=+l)<=0)return{vals:i}}else if(typeof l=="string"&&l.charAt(0)==="M"){var s=+l.substring(1);if(!(s>0&&Math.round(s)===s))return{vals:i};r=s}for(var u=o.calendar,p=n==="start",c=n==="end",x=h[t+"period0"],g=a(x,u)||0,d=[],v=[],y=[],m=i.length,w=0;w<m;w++){var f,S,T,E=i[w];if(r){for(f=Math.round((E-g)/(r*b)),T=_(g,r*f,u);T>E;)T=_(T,-r,u);for(;T<=E;)T=_(T,r,u);S=_(T,-r,u)}else{for(T=g+(f=Math.round((E-g)/l))*l;T>E;)T-=l;for(;T<=E;)T+=l;S=T-l}d[w]=p?S:c?T:(S+T)/2,v[w]=S,y[w]=T}return{vals:d,starts:v,ends:y}}},89502:function(q){q.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(q,C,e){var M=e(39898),k=e(92770),a=e(71828),_=e(50606).FP_SAFE,b=e(73972),h=e(91424),o=e(41675),t=o.getFromId,i=o.isLinked;function n(w,f){var S,T,E=[],O=w._fullLayout,P=l(O,f,0),I=l(O,f,1),z=u(w,f),j=z.min,R=z.max;if(j.length===0||R.length===0)return a.simpleMap(f.range,f.r2l);var N=j[0].val,Z=R[0].val;for(S=1;S<j.length&&N===Z;S++)N=Math.min(N,j[S].val);for(S=1;S<R.length&&N===Z;S++)Z=Math.max(Z,R[S].val);var F=f.autorange,U=F==="reversed"||F==="min reversed"||F==="max reversed";if(!U&&f.range){var V=a.simpleMap(f.range,f.r2l);U=V[1]<V[0]}f.autorange==="reversed"&&(f.autorange=!0);var te,Q,J,X,K,ee,re=f.rangemode,ie=re==="tozero",ae=re==="nonnegative",ue=f._length,pe=ue/10,de=0;for(S=0;S<j.length;S++)for(te=j[S],T=0;T<R.length;T++)(ee=(Q=R[T]).val-te.val-r(f,te.val,Q.val))>0&&((K=ue-P(te)-I(Q))>pe?ee/K>de&&(J=te,X=Q,de=ee/K):ee/ue>de&&(J={val:te.val,nopad:1},X={val:Q.val,nopad:1},de=ee/ue));if(N===Z){var ye=N-1,be=N+1;if(ie)if(N===0)E=[0,1];else{var me=(N>0?R:j).reduce(function(Te,we){return Math.max(Te,I(we))},0),Ee=N/(1-Math.min(.5,me/ue));E=N>0?[0,Ee]:[Ee,0]}else E=ae?[Math.max(0,ye),Math.max(1,be)]:[ye,be]}else ie?(J.val>=0&&(J={val:0,nopad:1}),X.val<=0&&(X={val:0,nopad:1})):ae&&(J.val-de*P(J)<0&&(J={val:0,nopad:1}),X.val<=0&&(X={val:1,nopad:1})),de=(X.val-J.val-r(f,te.val,Q.val))/(ue-P(J)-I(X)),E=[J.val-de*P(J),X.val+de*I(X)];return E=m(E,f),f.limitRange&&f.limitRange(),U&&E.reverse(),a.simpleMap(E,f.l2r||Number)}function r(w,f,S){var T=0;if(w.rangebreaks)for(var E=w.locateBreaks(f,S),O=0;O<E.length;O++){var P=E[O];T+=P.max-P.min}return T}function l(w,f,S){var T=.05*f._length,E=f._anchorAxis||{};if((f.ticklabelposition||"").indexOf("inside")!==-1||(E.ticklabelposition||"").indexOf("inside")!==-1){var O=f.isReversed();if(!O){var P=a.simpleMap(f.range,f.r2l);O=P[1]<P[0]}O&&(S=!S)}var I=0;return i(w,f._id)||(I=function(z,j,R){var N=0,Z=j._id.charAt(0)==="x";for(var F in z._plots){var U=z._plots[F];if(j._id===U.xaxis._id||j._id===U.yaxis._id){var V=(Z?U.yaxis:U.xaxis)||{};if((V.ticklabelposition||"").indexOf("inside")!==-1&&(!R&&(V.side==="left"||V.side==="bottom")||R&&(V.side==="top"||V.side==="right"))){if(V._vals){var te=a.deg2rad(V._tickAngles[V._id+"tick"]||0),Q=Math.abs(Math.cos(te)),J=Math.abs(Math.sin(te));if(!V._vals[0].bb){var X=V._id+"tick";V._selections[X].each(function(ae){var ue=M.select(this);ue.select(".text-math-group").empty()&&(ae.bb=h.bBox(ue.node()))})}for(var K=0;K<V._vals.length;K++){var ee=V._vals[K].bb;if(ee){var re=2*s+ee.width,ie=2*s+ee.height;N=Math.max(N,Z?Math.max(re*Q,ie*J):Math.max(ie*Q,re*J))}}}V.ticks==="inside"&&V.ticklabelposition==="inside"&&(N+=V.ticklen||0)}}}return N}(w,f,S)),T=Math.max(I,T),f.constrain==="domain"&&f._inputDomain&&(T*=(f._inputDomain[1]-f._inputDomain[0])/(f.domain[1]-f.domain[0])),function(z){return z.nopad?0:z.pad+(z.extrapad?T:I)}}q.exports={applyAutorangeOptions:m,getAutoRange:n,makePadFn:l,doAutoRange:function(w,f,S){if(f.setScale(),f.autorange){f.range=S?S.slice():n(w,f),f._r=f.range.slice(),f._rl=a.simpleMap(f._r,f.r2l);var T=f._input,E={};E[f._attr+".range"]=f.range,E[f._attr+".autorange"]=f.autorange,b.call("_storeDirectGUIEdit",w.layout,w._fullLayout._preGUI,E),T.range=f.range.slice(),T.autorange=f.autorange}var O=f._anchorAxis;if(O&&O.rangeslider){var P=O.rangeslider[f._name];P&&P.rangemode==="auto"&&(P.range=n(w,f)),O._input.rangeslider[f._name]=a.extendFlat({},P)}},findExtremes:function(w,f,S){S||(S={}),w._m||w.setScale();var T,E,O,P,I,z,j,R,N,Z=[],F=[],U=f.length,V=S.padded||!1,te=S.tozero&&(w.type==="linear"||w.type==="-"),Q=w.type==="log",J=!1,X=S.vpadLinearized||!1;function K(ye){if(Array.isArray(ye))return J=!0,function(me){return Math.max(Number(ye[me]||0),0)};var be=Math.max(Number(ye||0),0);return function(){return be}}var ee=K((w._m>0?S.ppadplus:S.ppadminus)||S.ppad||0),re=K((w._m>0?S.ppadminus:S.ppadplus)||S.ppad||0),ie=K(S.vpadplus||S.vpad),ae=K(S.vpadminus||S.vpad);if(!J){if(R=1/0,N=-1/0,Q)for(T=0;T<U;T++)(E=f[T])<R&&E>0&&(R=E),E>N&&E<_&&(N=E);else for(T=0;T<U;T++)(E=f[T])<R&&E>-_&&(R=E),E>N&&E<_&&(N=E);f=[R,N],U=2}var ue={tozero:te,extrapad:V};function pe(ye){O=f[ye],k(O)&&(z=ee(ye),j=re(ye),X?(P=w.c2l(O)-ae(ye),I=w.c2l(O)+ie(ye)):(R=O-ae(ye),N=O+ie(ye),Q&&R<N/10&&(R=N/10),P=w.c2l(R),I=w.c2l(N)),te&&(P=Math.min(0,P),I=Math.max(0,I)),g(P)&&p(Z,P,j,ue),g(I)&&c(F,I,z,ue))}var de=Math.min(6,U);for(T=0;T<de;T++)pe(T);for(T=U-1;T>=de;T--)pe(T);return{min:Z,max:F,opts:S}},concatExtremes:u};var s=3;function u(w,f,S){var T,E,O,P=f._id,I=w._fullData,z=w._fullLayout,j=[],R=[];function N(te,Q){for(T=0;T<Q.length;T++){var J=te[Q[T]],X=(J._extremes||{})[P];if(J.visible===!0&&X){for(E=0;E<X.min.length;E++)O=X.min[E],p(j,O.val,O.pad,{extrapad:O.extrapad});for(E=0;E<X.max.length;E++)O=X.max[E],c(R,O.val,O.pad,{extrapad:O.extrapad})}}}if(N(I,f._traceIndices),N(z.annotations||[],f._annIndices||[]),N(z.shapes||[],f._shapeIndices||[]),f._matchGroup&&!S){for(var Z in f._matchGroup)if(Z!==f._id){var F=t(w,Z),U=u(w,F,!0),V=f._length/F._length;for(E=0;E<U.min.length;E++)O=U.min[E],p(j,O.val,O.pad*V,{extrapad:O.extrapad});for(E=0;E<U.max.length;E++)O=U.max[E],c(R,O.val,O.pad*V,{extrapad:O.extrapad})}}return{min:j,max:R}}function p(w,f,S,T){x(w,f,S,T,d)}function c(w,f,S,T){x(w,f,S,T,v)}function x(w,f,S,T,E){for(var O=T.tozero,P=T.extrapad,I=!0,z=0;z<w.length&&I;z++){var j=w[z];if(E(j.val,f)&&j.pad>=S&&(j.extrapad||!P)){I=!1;break}E(f,j.val)&&j.pad<=S&&(P||!j.extrapad)&&(w.splice(z,1),z--)}if(I){var R=O&&f===0;w.push({val:f,pad:R?0:S,extrapad:!R&&P})}}function g(w){return k(w)&&Math.abs(w)<_}function d(w,f){return w<=f}function v(w,f){return w>=f}function y(w,f,S){return f===void 0||S===void 0||(f=w.d2l(f))<w.d2l(S)}function m(w,f){if(!f||!f.autorangeoptions)return w;var S=w[0],T=w[1],E=f.autorangeoptions.include;if(E!==void 0){var O=f.d2l(S),P=f.d2l(T);a.isArrayOrTypedArray(E)||(E=[E]);for(var I=0;I<E.length;I++){var z=f.d2l(E[I]);O>=z&&(O=z,S=z),P<=z&&(P=z,T=z)}}return S=function(j,R){var N=R.autorangeoptions;return N&&N.minallowed!==void 0&&y(R,N.minallowed,N.maxallowed)?N.minallowed:N&&N.clipmin!==void 0&&y(R,N.clipmin,N.clipmax)?Math.max(j,R.d2l(N.clipmin)):j}(S,f),T=function(j,R){var N=R.autorangeoptions;return N&&N.maxallowed!==void 0&&y(R,N.minallowed,N.maxallowed)?N.maxallowed:N&&N.clipmax!==void 0&&y(R,N.clipmin,N.clipmax)?Math.min(j,R.d2l(N.clipmax)):j}(T,f),[S,T]}},23074:function(q){q.exports=function(C,e,M){var k,a;if(M){var _=e==="reversed"||e==="min reversed"||e==="max reversed";k=M[_?1:0],a=M[_?0:1]}var b=C("autorangeoptions.minallowed",a===null?k:void 0),h=C("autorangeoptions.maxallowed",k===null?a:void 0);b===void 0&&C("autorangeoptions.clipmin"),h===void 0&&C("autorangeoptions.clipmax"),C("autorangeoptions.include")}},89298:function(q,C,e){var M=e(39898),k=e(92770),a=e(74875),_=e(73972),b=e(71828),h=b.strTranslate,o=e(63893),t=e(92998),i=e(7901),n=e(91424),r=e(13838),l=e(66287),s=e(50606),u=s.ONEMAXYEAR,p=s.ONEAVGYEAR,c=s.ONEMINYEAR,x=s.ONEMAXQUARTER,g=s.ONEAVGQUARTER,d=s.ONEMINQUARTER,v=s.ONEMAXMONTH,y=s.ONEAVGMONTH,m=s.ONEMINMONTH,w=s.ONEWEEK,f=s.ONEDAY,S=f/2,T=s.ONEHOUR,E=s.ONEMIN,O=s.ONESEC,P=s.MINUS_SIGN,I=s.BADNUM,z={K:"zeroline"},j={K:"gridline",L:"path"},R={K:"minor-gridline",L:"path"},N={K:"tick",L:"path"},Z={K:"tick",L:"text"},F={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},U=e(18783),V=U.MID_SHIFT,te=U.CAP_SHIFT,Q=U.LINE_SPACING,J=U.OPPOSITE_SIDE,X=q.exports={};X.setConvert=e(21994);var K=e(4322),ee=e(41675),re=ee.idSort,ie=ee.isLinked;X.id2name=ee.id2name,X.name2id=ee.name2id,X.cleanId=ee.cleanId,X.list=ee.list,X.listIds=ee.listIds,X.getFromId=ee.getFromId,X.getFromTrace=ee.getFromTrace;var ae=e(71739);X.getAutoRange=ae.getAutoRange,X.findExtremes=ae.findExtremes;var ue=1e-4;function pe(Be){var Ne=(Be[1]-Be[0])*ue;return[Be[0]-Ne,Be[1]+Ne]}X.coerceRef=function(Be,Ne,at,$e,gt,yt){var xt=$e.charAt($e.length-1),dt=at._fullLayout._subplots[xt+"axis"],Lt=$e+"ref",Tt={};return gt||(gt=dt[0]||(typeof yt=="string"?yt:yt[0])),yt||(yt=gt),dt=dt.concat(dt.map(function(bt){return bt+" domain"})),Tt[Lt]={valType:"enumerated",values:dt.concat(yt?typeof yt=="string"?[yt]:yt:[]),dflt:gt},b.coerce(Be,Ne,Tt,Lt)},X.getRefType=function(Be){return Be===void 0?Be:Be==="paper"?"paper":Be==="pixel"?"pixel":/( domain)$/.test(Be)?"domain":"range"},X.coercePosition=function(Be,Ne,at,$e,gt,yt){var xt,dt;if(X.getRefType($e)!=="range")xt=b.ensureNumber,dt=at(gt,yt);else{var Lt=X.getFromId(Ne,$e);dt=at(gt,yt=Lt.fraction2r(yt)),xt=Lt.cleanPos}Be[gt]=xt(dt)},X.cleanPosition=function(Be,Ne,at){return(at==="paper"||at==="pixel"?b.ensureNumber:X.getFromId(Ne,at).cleanPos)(Be)},X.redrawComponents=function(Be,Ne){Ne=Ne||X.listIds(Be);var at=Be._fullLayout;function $e(gt,yt,xt,dt){for(var Lt=_.getComponentMethod(gt,yt),Tt={},bt=0;bt<Ne.length;bt++)for(var Ct=at[X.id2name(Ne[bt])][xt],Dt=0;Dt<Ct.length;Dt++){var Bt=Ct[Dt];if(!Tt[Bt]&&(Lt(Be,Bt),Tt[Bt]=1,dt))return}}$e("annotations","drawOne","_annIndices"),$e("shapes","drawOne","_shapeIndices"),$e("images","draw","_imgIndices",!0),$e("selections","drawOne","_selectionIndices")};var de=X.getDataConversions=function(Be,Ne,at,$e){var gt,yt=at==="x"||at==="y"||at==="z"?at:$e;if(b.isArrayOrTypedArray(yt)){if(gt={type:K($e,void 0,{autotypenumbers:Be._fullLayout.autotypenumbers}),_categories:[]},X.setConvert(gt),gt.type==="category")for(var xt=0;xt<$e.length;xt++)gt.d2c($e[xt])}else gt=X.getFromTrace(Be,Ne,yt);return gt?{d2c:gt.d2c,c2d:gt.c2d}:yt==="ids"?{d2c:be,c2d:be}:{d2c:ye,c2d:ye}};function ye(Be){return+Be}function be(Be){return String(Be)}function me(Be,Ne){return Math.abs((Be/Ne+.5)%1-.5)<.001}function Ee(Be,Ne){return Math.abs(Be/Ne-1)<.001}function Te(Be){return+Be.substring(1)}function we(Be,Ne){return Be.rangebreaks&&(Ne=Ne.filter(function(at){return Be.maskBreaks(at.x)!==I})),Ne}function oe(Be){var Ne=Be._mainAxis,at=[];if(Ne._vals){for(var $e=0;$e<Ne._vals.length;$e++)if(!Ne._vals[$e].noTick){var gt=Ne.l2p(Ne._vals[$e].x),yt=Be.p2l(gt),xt=X.tickText(Be,yt);Ne._vals[$e].minor&&(xt.minor=!0,xt.text=""),at.push(xt)}}return we(Be,at)}function se(Be,Ne){var at=pe(b.simpleMap(Be.range,Be.r2l)),$e=Math.min(at[0],at[1]),gt=Math.max(at[0],at[1]),yt=Be.type==="category"?Be.d2l_noadd:Be.d2l;Be.type==="log"&&String(Be.dtick).charAt(0)!=="L"&&(Be.dtick="L"+Math.pow(10,Math.floor(Math.min(Be.range[0],Be.range[1]))-1));for(var xt=[],dt=0;dt<=1;dt++)if((Ne===void 0||!(Ne&&dt||Ne===!1&&!dt))&&(!dt||Be.minor)){var Lt=dt?Be.minor.tickvals:Be.tickvals,Tt=dt?[]:Be.ticktext;if(Lt){b.isArrayOrTypedArray(Tt)||(Tt=[]);for(var bt=0;bt<Lt.length;bt++){var Ct=yt(Lt[bt]);if(Ct>$e&&Ct<gt){var Dt=Tt[bt]===void 0?X.tickText(Be,Ct):Ie(Be,Ct,String(Tt[bt]));dt&&(Dt.minor=!0,Dt.text=""),xt.push(Dt)}}}}return we(Be,xt)}X.getDataToCoordFunc=function(Be,Ne,at,$e){return de(Be,Ne,at,$e).d2c},X.counterLetter=function(Be){var Ne=Be.charAt(0);return Ne==="x"?"y":Ne==="y"?"x":void 0},X.minDtick=function(Be,Ne,at,$e){["log","category","multicategory"].indexOf(Be.type)===-1&&$e?Be._minDtick===void 0?(Be._minDtick=Ne,Be._forceTick0=at):Be._minDtick&&((Be._minDtick/Ne+1e-6)%1<2e-6&&((at-Be._forceTick0)/Ne%1+1.000001)%1<2e-6?(Be._minDtick=Ne,Be._forceTick0=at):((Ne/Be._minDtick+1e-6)%1>2e-6||((at-Be._forceTick0)/Be._minDtick%1+1.000001)%1>2e-6)&&(Be._minDtick=0)):Be._minDtick=0},X.saveRangeInitial=function(Be,Ne){for(var at=X.list(Be,"",!0),$e=!1,gt=0;gt<at.length;gt++){var yt=at[gt],xt=yt._rangeInitial0===void 0&&yt._rangeInitial1===void 0,dt=xt||yt.range[0]!==yt._rangeInitial0||yt.range[1]!==yt._rangeInitial1,Lt=yt.autorange;(xt&&Lt!==!0||Ne&&dt)&&(yt._rangeInitial0=Lt==="min"||Lt==="max reversed"?void 0:yt.range[0],yt._rangeInitial1=Lt==="max"||Lt==="min reversed"?void 0:yt.range[1],yt._autorangeInitial=Lt,$e=!0)}return $e},X.saveShowSpikeInitial=function(Be,Ne){for(var at=X.list(Be,"",!0),$e=!1,gt="on",yt=0;yt<at.length;yt++){var xt=at[yt],dt=xt._showSpikeInitial===void 0,Lt=dt||xt.showspikes!==xt._showspikes;(dt||Ne&&Lt)&&(xt._showSpikeInitial=xt.showspikes,$e=!0),gt!=="on"||xt.showspikes||(gt="off")}return Be._fullLayout._cartesianSpikesEnabled=gt,$e},X.autoBin=function(Be,Ne,at,$e,gt,yt){var xt,dt=b.aggNums(Math.min,null,Be),Lt=b.aggNums(Math.max,null,Be);if(Ne.type==="category"||Ne.type==="multicategory")return{start:dt-.5,end:Lt+.5,size:Math.max(1,Math.round(yt)||1),_dataSpan:Lt-dt};if(gt||(gt=Ne.calendar),xt=Ne.type==="log"?{type:"linear",range:[dt,Lt]}:{type:Ne.type,range:b.simpleMap([dt,Lt],Ne.c2r,0,gt),calendar:gt},X.setConvert(xt),yt=yt&&l.dtick(yt,xt.type))xt.dtick=yt,xt.tick0=l.tick0(void 0,xt.type,gt);else{var Tt;if(at)Tt=(Lt-dt)/at;else{var bt=b.distinctVals(Be),Ct=Math.pow(10,Math.floor(Math.log(bt.minDiff)/Math.LN10)),Dt=Ct*b.roundUp(bt.minDiff/Ct,[.9,1.9,4.9,9.9],!0);Tt=Math.max(Dt,2*b.stdev(Be)/Math.pow(Be.length,$e?.25:.4)),k(Tt)||(Tt=1)}X.autoTicks(xt,Tt)}var Bt,Xt=xt.dtick,an=X.tickIncrement(X.tickFirst(xt),Xt,"reverse",gt);if(typeof Xt=="number")an=function(Wt,Vt,on,Sn,Ln){var fn=0,Zt=0,ln=0,nn=0;function cn(Cn){return(1+100*(Cn-Wt)/on.dtick)%100<2}for(var kn=0;kn<Vt.length;kn++)Vt[kn]%1==0?ln++:k(Vt[kn])||nn++,cn(Vt[kn])&&fn++,cn(Vt[kn]+on.dtick/2)&&Zt++;var An=Vt.length-nn;if(ln===An&&on.type!=="date")on.dtick<1?Wt=Sn-.5*on.dtick:(Wt-=.5)+on.dtick<Sn&&(Wt+=on.dtick);else if(Zt<.1*An&&(fn>.3*An||cn(Sn)||cn(Ln))){var wn=on.dtick/2;Wt+=Wt+wn<Sn?wn:-wn}return Wt}(an,Be,xt,dt,Lt),Bt=an+(1+Math.floor((Lt-an)/Xt))*Xt;else for(xt.dtick.charAt(0)==="M"&&(an=function(Wt,Vt,on,Sn,Ln){var fn=b.findExactDates(Vt,Ln);if(fn.exactDays>.8){var Zt=Number(on.substr(1));fn.exactYears>.8&&Zt%12==0?Wt=X.tickIncrement(Wt,"M6","reverse")+1.5*f:fn.exactMonths>.8?Wt=X.tickIncrement(Wt,"M1","reverse")+15.5*f:Wt-=S;var ln=X.tickIncrement(Wt,on);if(ln<=Sn)return ln}return Wt}(an,Be,Xt,dt,gt)),Bt=an;Bt<=Lt;)Bt=X.tickIncrement(Bt,Xt,!1,gt);return{start:Ne.c2r(an,0,gt),end:Ne.c2r(Bt,0,gt),size:Xt,_dataSpan:Lt-dt}},X.prepMinorTicks=function(Be,Ne,at){if(!Ne.minor.dtick){delete Be.dtick;var $e,gt=Ne.dtick&&k(Ne._tmin);if(gt){var yt=X.tickIncrement(Ne._tmin,Ne.dtick,!0);$e=[Ne._tmin,.99*yt+.01*Ne._tmin]}else{var xt=b.simpleMap(Ne.range,Ne.r2l);$e=[xt[0],.8*xt[0]+.2*xt[1]]}if(Be.range=b.simpleMap($e,Ne.l2r),Be._isMinor=!0,X.prepTicks(Be,at),gt){var dt=k(Ne.dtick),Lt=k(Be.dtick),Tt=dt?Ne.dtick:+Ne.dtick.substring(1),bt=Lt?Be.dtick:+Be.dtick.substring(1);dt&&Lt?me(Tt,bt)?Tt===2*w&&bt===2*f&&(Be.dtick=w):Tt===2*w&&bt===3*f?Be.dtick=w:Tt!==w||(Ne._input.minor||{}).nticks?Ee(Tt/bt,2.5)?Be.dtick=Tt/2:Be.dtick=Tt:Be.dtick=f:String(Ne.dtick).charAt(0)==="M"?Lt?Be.dtick="M1":me(Tt,bt)?Tt>=12&&bt===2&&(Be.dtick="M3"):Be.dtick=Ne.dtick:String(Be.dtick).charAt(0)==="L"?String(Ne.dtick).charAt(0)==="L"?me(Tt,bt)||(Be.dtick=Ee(Tt/bt,2.5)?Ne.dtick/2:Ne.dtick):Be.dtick="D1":Be.dtick==="D2"&&+Ne.dtick>1&&(Be.dtick=1)}Be.range=Ne.range}Ne.minor._tick0Init===void 0&&(Be.tick0=Ne.tick0)},X.prepTicks=function(Be,Ne){var at=b.simpleMap(Be.range,Be.r2l,void 0,void 0,Ne);if(Be.tickmode==="auto"||!Be.dtick){var $e,gt=Be.nticks;gt||(Be.type==="category"||Be.type==="multicategory"?($e=Be.tickfont?b.bigFont(Be.tickfont.size||12):15,gt=Be._length/$e):($e=Be._id.charAt(0)==="y"?40:80,gt=b.constrain(Be._length/$e,4,9)+1),Be._name==="radialaxis"&&(gt*=2)),Be.minor&&Be.minor.tickmode!=="array"||Be.tickmode==="array"&&(gt*=100),Be._roughDTick=Math.abs(at[1]-at[0])/gt,X.autoTicks(Be,Be._roughDTick),Be._minDtick>0&&Be.dtick<2*Be._minDtick&&(Be.dtick=Be._minDtick,Be.tick0=Be.l2r(Be._forceTick0))}Be.ticklabelmode==="period"&&function(yt){var xt;function dt(){return!(k(yt.dtick)||yt.dtick.charAt(0)!=="M")}var Lt=dt(),Tt=X.getTickFormat(yt);if(Tt){var bt=yt._dtickInit!==yt.dtick;/%[fLQsSMX]/.test(Tt)||(/%[HI]/.test(Tt)?(xt=T,bt&&!Lt&&yt.dtick<T&&(yt.dtick=T)):/%p/.test(Tt)?(xt=S,bt&&!Lt&&yt.dtick<S&&(yt.dtick=S)):/%[Aadejuwx]/.test(Tt)?(xt=f,bt&&!Lt&&yt.dtick<f&&(yt.dtick=f)):/%[UVW]/.test(Tt)?(xt=w,bt&&!Lt&&yt.dtick<w&&(yt.dtick=w)):/%[Bbm]/.test(Tt)?(xt=y,bt&&(Lt?Te(yt.dtick)<1:yt.dtick<m)&&(yt.dtick="M1")):/%[q]/.test(Tt)?(xt=g,bt&&(Lt?Te(yt.dtick)<3:yt.dtick<d)&&(yt.dtick="M3")):/%[Yy]/.test(Tt)&&(xt=p,bt&&(Lt?Te(yt.dtick)<12:yt.dtick<c)&&(yt.dtick="M12")))}(Lt=dt())&&yt.tick0===yt._dowTick0&&(yt.tick0=yt._rawTick0),yt._definedDelta=xt}(Be),Be.tick0||(Be.tick0=Be.type==="date"?"2000-01-01":0),Be.type==="date"&&Be.dtick<.1&&(Be.dtick=.1),ke(Be)},X.calcTicks=function(Be,Ne){for(var at,$e,gt=Be.type,yt=Be.calendar,xt=Be.ticklabelstep,dt=Be.ticklabelmode==="period",Lt=b.simpleMap(Be.range,Be.r2l,void 0,void 0,Ne),Tt=Lt[1]<Lt[0],bt=Math.min(Lt[0],Lt[1]),Ct=Math.max(Lt[0],Lt[1]),Dt=Math.max(1e3,Be._length||0),Bt=[],Xt=[],an=[],Wt=[],Vt=Be.minor&&(Be.minor.ticks||Be.minor.showgrid),on=1;on>=(Vt?0:1);on--){var Sn=!on;on?(Be._dtickInit=Be.dtick,Be._tick0Init=Be.tick0):(Be.minor._dtickInit=Be.minor.dtick,Be.minor._tick0Init=Be.minor.tick0);var Ln=on?Be:b.extendFlat({},Be,Be.minor);if(Sn?X.prepMinorTicks(Ln,Be,Ne):X.prepTicks(Ln,Ne),Ln.tickmode!=="array")if(Ln.tickmode!=="sync"){var fn=pe(Lt),Zt=fn[0],ln=fn[1],nn=k(Ln.dtick),cn=gt==="log"&&!(nn||Ln.dtick.charAt(0)==="L"),kn=X.tickFirst(Ln,Ne);if(on){if(Be._tmin=kn,kn<Zt!==Tt)break;gt!=="category"&&gt!=="multicategory"||(ln=Tt?Math.max(-.5,ln):Math.min(Be._categories.length-.5,ln))}var An,wn,Cn=null,_n=kn;on&&(nn?wn=Be.dtick:gt==="date"?typeof Be.dtick=="string"&&Be.dtick.charAt(0)==="M"&&(wn=y*Be.dtick.substring(1)):wn=Be._roughDTick,An=Math.round((Be.r2l(_n)-Be.r2l(Be.tick0))/wn)-1);var zn=Ln.dtick;for(Ln.rangebreaks&&Ln._tick0Init!==Ln.tick0&&(_n=Ue(_n,Be),Tt||(_n=X.tickIncrement(_n,zn,!Tt,yt))),on&&dt&&(_n=X.tickIncrement(_n,zn,!Tt,yt),An--);Tt?_n>=ln:_n<=ln;_n=X.tickIncrement(_n,zn,Tt,yt)){if(on&&An++,Ln.rangebreaks&&!Tt){if(_n<Zt)continue;if(Ln.maskBreaks(_n)===I&&Ue(_n,Ln)>=Ct)break}if(an.length>Dt||_n===Cn)break;Cn=_n;var Hn={value:_n};on?(cn&&_n!==(0|_n)&&(Hn.simpleLabel=!0),xt>1&&An%xt&&(Hn.skipLabel=!0),an.push(Hn)):(Hn.minor=!0,Wt.push(Hn))}}else an=[],Bt=oe(Be);else on?(an=[],Bt=se(Be,!Sn)):(Wt=[],Xt=se(Be,!Sn))}if(Vt&&!(Be.minor.ticks==="inside"&&Be.ticks==="outside"||Be.minor.ticks==="outside"&&Be.ticks==="inside")){for(var ar=an.map(function(Rt){return Rt.value}),fr=[],rr=0;rr<Wt.length;rr++){var Xn=Wt[rr],gr=Xn.value;if(ar.indexOf(gr)===-1){for(var Gt=!1,tn=0;!Gt&&tn<an.length;tn++)1e7+an[tn].value===1e7+gr&&(Gt=!0);Gt||fr.push(Xn)}}Wt=fr}if(dt&&function(Rt,Kt,rn){for(var xn=0;xn<Rt.length;xn++){var Tn=Rt[xn].value,Pn=xn,pn=xn+1;xn<Rt.length-1?(Pn=xn,pn=xn+1):xn>0?(Pn=xn-1,pn=xn):(Pn=xn,pn=xn);var Qt,en=Rt[Pn].value,hn=Rt[pn].value,gn=Math.abs(hn-en),Dn=rn||gn,Fn=0;Dn>=c?Fn=gn>=c&&gn<=u?gn:p:rn===g&&Dn>=d?Fn=gn>=d&&gn<=x?gn:g:Dn>=m?Fn=gn>=m&&gn<=v?gn:y:rn===w&&Dn>=w?Fn=w:Dn>=f?Fn=f:rn===S&&Dn>=S?Fn=S:rn===T&&Dn>=T&&(Fn=T),Fn>=gn&&(Fn=gn,Qt=!0);var Wn=Tn+Fn;if(Kt.rangebreaks&&Fn>0){for(var Yn=0,er=0;er<84;er++){var Kn=(er+.5)/84;Kt.maskBreaks(Tn*(1-Kn)+Kn*Wn)!==I&&Yn++}(Fn*=Yn/84)||(Rt[xn].drop=!0),Qt&&gn>w&&(Fn=gn)}(Fn>0||xn===0)&&(Rt[xn].periodX=Tn+Fn/2)}}(an,Be,Be._definedDelta),Be.rangebreaks){var dn=Be._id.charAt(0)==="y",vn=1;Be.tickmode==="auto"&&(vn=Be.tickfont?Be.tickfont.size:12);var On=NaN;for(at=an.length-1;at>-1;at--)if(an[at].drop)an.splice(at,1);else{an[at].value=Ue(an[at].value,Be);var Vn=Be.c2p(an[at].value);(dn?On>Vn-vn:On<Vn+vn)?an.splice(Tt?at+1:at,1):On=Vn}}Je(Be)&&Math.abs(Lt[1]-Lt[0])===360&&an.pop(),Be._tmax=(an[an.length-1]||{}).value,Be._prevDateHead="",Be._inCalcTicks=!0;var Bn,Un,tr=function(Rt){Rt.text="",Be._prevDateHead=$e};for(an=an.concat(Wt),at=0;at<an.length;at++){var $t=an[at].minor,bn=an[at].value;$t?Xt.push({x:bn,minor:!0}):($e=Be._prevDateHead,Bn=X.tickText(Be,bn,!1,an[at].simpleLabel),(Un=an[at].periodX)!==void 0&&(Bn.periodX=Un,(Un>Ct||Un<bt)&&(Un>Ct&&(Bn.periodX=Ct),Un<bt&&(Bn.periodX=bt),tr(Bn))),an[at].skipLabel&&tr(Bn),Bt.push(Bn))}return Bt=Bt.concat(Xt),Be._inCalcTicks=!1,dt&&Bt.length&&(Bt[0].noTick=!0),Bt};var he=[2,5,10],Se=[1,2,3,6,12],_e=[1,2,5,10,15,30],Ae=[1,2,3,7,14],Ce=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Re=[-.301,0,.301,.699,1],fe=[15,30,45,90,180];function xe(Be,Ne,at){return Ne*b.roundUp(Be/Ne,at)}function ke(Be){var Ne=Be.dtick;if(Be._tickexponent=0,k(Ne)||typeof Ne=="string"||(Ne=1),Be.type!=="category"&&Be.type!=="multicategory"||(Be._tickround=null),Be.type==="date"){var at=Be.r2l(Be.tick0),$e=Be.l2r(at).replace(/(^-|i)/g,""),gt=$e.length;if(String(Ne).charAt(0)==="M")gt>10||$e.substr(5)!=="01-01"?Be._tickround="d":Be._tickround=+Ne.substr(1)%12==0?"y":"m";else if(Ne>=f&&gt<=10||Ne>=15*f)Be._tickround="d";else if(Ne>=E&&gt<=16||Ne>=T)Be._tickround="M";else if(Ne>=O&&gt<=19||Ne>=E)Be._tickround="S";else{var yt=Be.l2r(at+Ne).replace(/^-/,"").length;Be._tickround=Math.max(gt,yt)-20,Be._tickround<0&&(Be._tickround=4)}}else if(k(Ne)||Ne.charAt(0)==="L"){var xt=Be.range.map(Be.r2d||Number);k(Ne)||(Ne=Number(Ne.substr(1))),Be._tickround=2-Math.floor(Math.log(Ne)/Math.LN10+.01);var dt=Math.max(Math.abs(xt[0]),Math.abs(xt[1])),Lt=Math.floor(Math.log(dt)/Math.LN10+.01),Tt=Be.minexponent===void 0?3:Be.minexponent;Math.abs(Lt)>Tt&&(ze(Be.exponentformat)&&!qe(Lt)?Be._tickexponent=3*Math.round((Lt-1)/3):Be._tickexponent=Lt)}else Be._tickround=null}function Ie(Be,Ne,at){var $e=Be.tickfont||{};return{x:Ne,dx:0,dy:0,text:at||"",fontSize:$e.size,font:$e.family,fontColor:$e.color}}X.autoTicks=function(Be,Ne,at){var $e;function gt(Ct){return Math.pow(Ct,Math.floor(Math.log(Ne)/Math.LN10))}if(Be.type==="date"){Be.tick0=b.dateTick0(Be.calendar,0);var yt=2*Ne;if(yt>p)Ne/=p,$e=gt(10),Be.dtick="M"+12*xe(Ne,$e,he);else if(yt>y)Ne/=y,Be.dtick="M"+xe(Ne,1,Se);else if(yt>f){if(Be.dtick=xe(Ne,f,Be._hasDayOfWeekBreaks?[1,2,7,14]:Ae),!at){var xt=X.getTickFormat(Be),dt=Be.ticklabelmode==="period";dt&&(Be._rawTick0=Be.tick0),/%[uVW]/.test(xt)?Be.tick0=b.dateTick0(Be.calendar,2):Be.tick0=b.dateTick0(Be.calendar,1),dt&&(Be._dowTick0=Be.tick0)}}else yt>T?Be.dtick=xe(Ne,T,Se):yt>E?Be.dtick=xe(Ne,E,_e):yt>O?Be.dtick=xe(Ne,O,_e):($e=gt(10),Be.dtick=xe(Ne,$e,he))}else if(Be.type==="log"){Be.tick0=0;var Lt=b.simpleMap(Be.range,Be.r2l);if(Be._isMinor&&(Ne*=1.5),Ne>.7)Be.dtick=Math.ceil(Ne);else if(Math.abs(Lt[1]-Lt[0])<1){var Tt=1.5*Math.abs((Lt[1]-Lt[0])/Ne);Ne=Math.abs(Math.pow(10,Lt[1])-Math.pow(10,Lt[0]))/Tt,$e=gt(10),Be.dtick="L"+xe(Ne,$e,he)}else Be.dtick=Ne>.3?"D2":"D1"}else Be.type==="category"||Be.type==="multicategory"?(Be.tick0=0,Be.dtick=Math.ceil(Math.max(Ne,1))):Je(Be)?(Be.tick0=0,$e=1,Be.dtick=xe(Ne,$e,fe)):(Be.tick0=0,$e=gt(10),Be.dtick=xe(Ne,$e,he));if(Be.dtick===0&&(Be.dtick=1),!k(Be.dtick)&&typeof Be.dtick!="string"){var bt=Be.dtick;throw Be.dtick=1,"ax.dtick error: "+String(bt)}},X.tickIncrement=function(Be,Ne,at,$e){var gt=at?-1:1;if(k(Ne))return b.increment(Be,gt*Ne);var yt=Ne.charAt(0),xt=gt*Number(Ne.substr(1));if(yt==="M")return b.incrementMonth(Be,xt,$e);if(yt==="L")return Math.log(Math.pow(10,Be)+xt)/Math.LN10;if(yt==="D"){var dt=Ne==="D2"?Re:Ce,Lt=Be+.01*gt,Tt=b.roundUp(b.mod(Lt,1),dt,at);return Math.floor(Lt)+Math.log(M.round(Math.pow(10,Tt),1))/Math.LN10}throw"unrecognized dtick "+String(Ne)},X.tickFirst=function(Be,Ne){var at=Be.r2l||Number,$e=b.simpleMap(Be.range,at,void 0,void 0,Ne),gt=$e[1]<$e[0],yt=gt?Math.floor:Math.ceil,xt=pe($e)[0],dt=Be.dtick,Lt=at(Be.tick0);if(k(dt)){var Tt=yt((xt-Lt)/dt)*dt+Lt;return Be.type!=="category"&&Be.type!=="multicategory"||(Tt=b.constrain(Tt,0,Be._categories.length-1)),Tt}var bt=dt.charAt(0),Ct=Number(dt.substr(1));if(bt==="M"){for(var Dt,Bt,Xt,an=0,Wt=Lt;an<10;){if(((Dt=X.tickIncrement(Wt,dt,gt,Be.calendar))-xt)*(Wt-xt)<=0)return gt?Math.min(Wt,Dt):Math.max(Wt,Dt);Bt=(xt-(Wt+Dt)/2)/(Dt-Wt),Xt=bt+(Math.abs(Math.round(Bt))||1)*Ct,Wt=X.tickIncrement(Wt,Xt,Bt<0?!gt:gt,Be.calendar),an++}return b.error("tickFirst did not converge",Be),Wt}if(bt==="L")return Math.log(yt((Math.pow(10,xt)-Lt)/Ct)*Ct+Lt)/Math.LN10;if(bt==="D"){var Vt=dt==="D2"?Re:Ce,on=b.roundUp(b.mod(xt,1),Vt,gt);return Math.floor(xt)+Math.log(M.round(Math.pow(10,on),1))/Math.LN10}throw"unrecognized dtick "+String(dt)},X.tickText=function(Be,Ne,at,$e){var gt,yt=Ie(Be,Ne),xt=Be.tickmode==="array",dt=at||xt,Lt=Be.type,Tt=Lt==="category"?Be.d2l_noadd:Be.d2l;if(xt&&b.isArrayOrTypedArray(Be.ticktext)){var bt=b.simpleMap(Be.range,Be.r2l),Ct=(Math.abs(bt[1]-bt[0])-(Be._lBreaks||0))/1e4;for(gt=0;gt<Be.ticktext.length&&!(Math.abs(Ne-Tt(Be.tickvals[gt]))<Ct);gt++);if(gt<Be.ticktext.length)return yt.text=String(Be.ticktext[gt]),yt}function Dt(Wt){if(Wt===void 0)return!0;if(at)return Wt==="none";var Vt={first:Be._tmin,last:Be._tmax}[Wt];return Wt!=="all"&&Ne!==Vt}var Bt=at?"never":Be.exponentformat!=="none"&&Dt(Be.showexponent)?"hide":"";if(Lt==="date"?function(Wt,Vt,on,Sn){var Ln=Wt._tickround,fn=on&&Wt.hoverformat||X.getTickFormat(Wt);(Sn=!fn&&Sn)&&(Ln=k(Ln)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[Ln]);var Zt,ln=b.formatDate(Vt.x,fn,Ln,Wt._dateFormat,Wt.calendar,Wt._extraFormat),nn=ln.indexOf(`
`);if(nn!==-1&&(Zt=ln.substr(nn+1),ln=ln.substr(0,nn)),Sn&&(Zt===void 0||ln!=="00:00:00"&&ln!=="00:00"?ln.length===8&&(ln=ln.replace(/:00$/,"")):(ln=Zt,Zt="")),Zt)if(on)Ln==="d"?ln+=", "+Zt:ln=Zt+(ln?", "+ln:"");else if(Wt._inCalcTicks&&Wt._prevDateHead===Zt){var cn=Xe(Wt),kn=Wt._trueSide||Wt.side;(!cn&&kn==="top"||cn&&kn==="bottom")&&(ln+="<br> ")}else Wt._prevDateHead=Zt,ln+="<br>"+Zt;Vt.text=ln}(Be,yt,at,dt):Lt==="log"?function(Wt,Vt,on,Sn,Ln){var fn=Wt.dtick,Zt=Vt.x,ln=Wt.tickformat,nn=typeof fn=="string"&&fn.charAt(0);if(Ln==="never"&&(Ln=""),Sn&&nn!=="L"&&(fn="L3",nn="L"),ln||nn==="L")Vt.text=Ye(Math.pow(10,Zt),Wt,Ln,Sn);else if(k(fn)||nn==="D"&&b.mod(Zt+.01,1)<.1){var cn=Math.round(Zt),kn=Math.abs(cn),An=Wt.exponentformat;An==="power"||ze(An)&&qe(cn)?(Vt.text=cn===0?1:cn===1?"10":"10<sup>"+(cn>1?"":P)+kn+"</sup>",Vt.fontSize*=1.25):(An==="e"||An==="E")&&kn>2?Vt.text="1"+An+(cn>0?"+":P)+kn:(Vt.text=Ye(Math.pow(10,Zt),Wt,"","fakehover"),fn==="D1"&&Wt._id.charAt(0)==="y"&&(Vt.dy-=Vt.fontSize/6))}else{if(nn!=="D")throw"unrecognized dtick "+String(fn);Vt.text=String(Math.round(Math.pow(10,b.mod(Zt,1)))),Vt.fontSize*=.75}if(Wt.dtick==="D1"){var wn=String(Vt.text).charAt(0);wn!=="0"&&wn!=="1"||(Wt._id.charAt(0)==="y"?Vt.dx-=Vt.fontSize/4:(Vt.dy+=Vt.fontSize/2,Vt.dx+=(Wt.range[1]>Wt.range[0]?1:-1)*Vt.fontSize*(Zt<0?.5:.25)))}}(Be,yt,0,dt,Bt):Lt==="category"?function(Wt,Vt){var on=Wt._categories[Math.round(Vt.x)];on===void 0&&(on=""),Vt.text=String(on)}(Be,yt):Lt==="multicategory"?function(Wt,Vt,on){var Sn=Math.round(Vt.x),Ln=Wt._categories[Sn]||[],fn=Ln[1]===void 0?"":String(Ln[1]),Zt=Ln[0]===void 0?"":String(Ln[0]);on?Vt.text=Zt+" - "+fn:(Vt.text=fn,Vt.text2=Zt)}(Be,yt,at):Je(Be)?function(Wt,Vt,on,Sn,Ln){if(Wt.thetaunit!=="radians"||on)Vt.text=Ye(Vt.x,Wt,Ln,Sn);else{var fn=Vt.x/180;if(fn===0)Vt.text="0";else{var Zt=function(nn){function cn(Cn,_n){return Math.abs(Cn-_n)<=1e-6}var kn=function(Cn){for(var _n=1;!cn(Math.round(Cn*_n)/_n,Cn);)_n*=10;return _n}(nn),An=nn*kn,wn=Math.abs(function Cn(_n,zn){return cn(zn,0)?_n:Cn(zn,_n%zn)}(An,kn));return[Math.round(An/wn),Math.round(kn/wn)]}(fn);if(Zt[1]>=100)Vt.text=Ye(b.deg2rad(Vt.x),Wt,Ln,Sn);else{var ln=Vt.x<0;Zt[1]===1?Zt[0]===1?Vt.text="":Vt.text=Zt[0]+"":Vt.text=["<sup>",Zt[0],"</sup>","","<sub>",Zt[1],"</sub>",""].join(""),ln&&(Vt.text=P+Vt.text)}}}}(Be,yt,at,dt,Bt):function(Wt,Vt,on,Sn,Ln){Ln==="never"?Ln="":Wt.showexponent==="all"&&Math.abs(Vt.x/Wt.dtick)<1e-6&&(Ln="hide"),Vt.text=Ye(Vt.x,Wt,Ln,Sn)}(Be,yt,0,dt,Bt),$e||(Be.tickprefix&&!Dt(Be.showtickprefix)&&(yt.text=Be.tickprefix+yt.text),Be.ticksuffix&&!Dt(Be.showticksuffix)&&(yt.text+=Be.ticksuffix)),Be.labelalias&&Be.labelalias.hasOwnProperty(yt.text)){var Xt=Be.labelalias[yt.text];typeof Xt=="string"&&(yt.text=Xt)}if(Be.tickson==="boundaries"||Be.showdividers){var an=function(Wt){var Vt=Be.l2p(Wt);return Vt>=0&&Vt<=Be._length?Wt:null};yt.xbnd=[an(yt.x-.5),an(yt.x+Be.dtick-.5)]}return yt},X.hoverLabelText=function(Be,Ne,at){at&&(Be=b.extendFlat({},Be,{hoverformat:at}));var $e=b.isArrayOrTypedArray(Ne)?Ne[0]:Ne,gt=b.isArrayOrTypedArray(Ne)?Ne[1]:void 0;if(gt!==void 0&&gt!==$e)return X.hoverLabelText(Be,$e,at)+" - "+X.hoverLabelText(Be,gt,at);var yt=Be.type==="log"&&$e<=0,xt=X.tickText(Be,Be.c2l(yt?-$e:$e),"hover").text;return yt?$e===0?"0":P+xt:xt};var Fe=["f","p","n","","m","","k","M","G","T"];function ze(Be){return Be==="SI"||Be==="B"}function qe(Be){return Be>14||Be<-15}function Ye(Be,Ne,at,$e){var gt=Be<0,yt=Ne._tickround,xt=at||Ne.exponentformat||"B",dt=Ne._tickexponent,Lt=X.getTickFormat(Ne),Tt=Ne.separatethousands;if($e){var bt={exponentformat:xt,minexponent:Ne.minexponent,dtick:Ne.showexponent==="none"?Ne.dtick:k(Be)&&Math.abs(Be)||1,range:Ne.showexponent==="none"?Ne.range.map(Ne.r2d):[0,Be||1]};ke(bt),yt=(Number(bt._tickround)||0)+4,dt=bt._tickexponent,Ne.hoverformat&&(Lt=Ne.hoverformat)}if(Lt)return Ne._numFormat(Lt)(Be).replace(/-/g,P);var Ct,Dt=Math.pow(10,-yt)/2;if(xt==="none"&&(dt=0),(Be=Math.abs(Be))<Dt)Be="0",gt=!1;else{if(Be+=Dt,dt&&(Be*=Math.pow(10,-dt),yt+=dt),yt===0)Be=String(Math.floor(Be));else if(yt<0){Be=(Be=String(Math.round(Be))).substr(0,Be.length+yt);for(var Bt=yt;Bt<0;Bt++)Be+="0"}else{var Xt=(Be=String(Be)).indexOf(".")+1;Xt&&(Be=Be.substr(0,Xt+yt).replace(/\.?0+$/,""))}Be=b.numSeparate(Be,Ne._separators,Tt)}return dt&&xt!=="hide"&&(ze(xt)&&qe(dt)&&(xt="power"),Ct=dt<0?P+-dt:xt!=="power"?"+"+dt:String(dt),xt==="e"||xt==="E"?Be+=xt+Ct:xt==="power"?Be+="10<sup>"+Ct+"</sup>":xt==="B"&&dt===9?Be+="B":ze(xt)&&(Be+=Fe[dt/3+5])),gt?P+Be:Be}function Qe(Be,Ne){if(Be){var at=Object.keys(F).reduce(function($e,gt){return Ne.indexOf(gt)!==-1&&F[gt].forEach(function(yt){$e[yt]=1}),$e},{});Object.keys(Be).forEach(function($e){at[$e]||($e.length===1?Be[$e]=0:delete Be[$e])})}}function ft(Be,Ne){for(var at=[],$e={},gt=0;gt<Ne.length;gt++){var yt=Ne[gt];$e[yt.text2]?$e[yt.text2].push(yt.x):$e[yt.text2]=[yt.x]}for(var xt in $e)at.push(Ie(Be,b.interp($e[xt],.5),xt));return at}function ht(Be){return Be.periodX!==void 0?Be.periodX:Be.x}function mt(Be){return[Be.text,Be.x,Be.axInfo,Be.font,Be.fontSize,Be.fontColor].join("_")}function Mt(Be){var Ne=Be.title.font.size,at=(Be.title.text.match(o.BR_TAG_ALL)||[]).length;return Be.title.hasOwnProperty("standoff")?at?Ne*(te+at*Q):Ne*te:at?Ne*(at+1)*Q:Ne}function _t(Be,Ne){var at=Be.l2p(Ne);return at>1&&at<Be._length-1}function it(Be){var Ne=M.select(Be),at=Ne.select(".text-math-group");return at.empty()?Ne.select("text"):at}function st(Be){return Be._id+".automargin"}function St(Be){return st(Be)+".mirror"}function zt(Be){return Be._id+".rangeslider"}function Ft(Be,Ne){for(var at=0;at<Ne.length;at++)Be.indexOf(Ne[at])===-1&&Be.push(Ne[at])}function Pt(Be,Ne,at){var $e,gt,yt=[],xt=[],dt=Be.layout;for($e=0;$e<Ne.length;$e++)yt.push(X.getFromId(Be,Ne[$e]));for($e=0;$e<at.length;$e++)xt.push(X.getFromId(Be,at[$e]));var Lt=Object.keys(r),Tt=["anchor","domain","overlaying","position","side","tickangle","editType"],bt=["linear","log"];for($e=0;$e<Lt.length;$e++){var Ct=Lt[$e],Dt=yt[0][Ct],Bt=xt[0][Ct],Xt=!0,an=!1,Wt=!1;if(Ct.charAt(0)!=="_"&&typeof Dt!="function"&&Tt.indexOf(Ct)===-1){for(gt=1;gt<yt.length&&Xt;gt++){var Vt=yt[gt][Ct];Ct==="type"&&bt.indexOf(Dt)!==-1&&bt.indexOf(Vt)!==-1&&Dt!==Vt?an=!0:Vt!==Dt&&(Xt=!1)}for(gt=1;gt<xt.length&&Xt;gt++){var on=xt[gt][Ct];Ct==="type"&&bt.indexOf(Bt)!==-1&&bt.indexOf(on)!==-1&&Bt!==on?Wt=!0:xt[gt][Ct]!==Bt&&(Xt=!1)}Xt&&(an&&(dt[yt[0]._name].type="linear"),Wt&&(dt[xt[0]._name].type="linear"),Ze(dt,Ct,yt,xt,Be._fullLayout._dfltTitle))}}for($e=0;$e<Be._fullLayout.annotations.length;$e++){var Sn=Be._fullLayout.annotations[$e];Ne.indexOf(Sn.xref)!==-1&&at.indexOf(Sn.yref)!==-1&&b.swapAttrs(dt.annotations[$e],["?"])}}function Ze(Be,Ne,at,$e,gt){var yt,xt=b.nestedProperty,dt=xt(Be[at[0]._name],Ne).get(),Lt=xt(Be[$e[0]._name],Ne).get();for(Ne==="title"&&(dt&&dt.text===gt.x&&(dt.text=gt.y),Lt&&Lt.text===gt.y&&(Lt.text=gt.x)),yt=0;yt<at.length;yt++)xt(Be,at[yt]._name+"."+Ne).set(Lt);for(yt=0;yt<$e.length;yt++)xt(Be,$e[yt]._name+"."+Ne).set(dt)}function Je(Be){return Be._id==="angularaxis"}function Ue(Be,Ne){for(var at=Ne._rangebreaks.length,$e=0;$e<at;$e++){var gt=Ne._rangebreaks[$e];if(Be>=gt.min&&Be<gt.max)return gt.max}return Be}function Xe(Be){return(Be.ticklabelposition||"").indexOf("inside")!==-1}function lt(Be,Ne){Xe(Be._anchorAxis||{})&&Be._hideCounterAxisInsideTickLabels&&Be._hideCounterAxisInsideTickLabels(Ne)}function ot(Be,Ne,at,$e){var gt,yt=Be.anchor==="free"||Be.overlaying!==void 0&&Be.overlaying!==!1?Be.overlaying:Be._id;gt=$e?Be.side==="right"?Ne:-Ne:Ne,yt in at||(at[yt]={}),Be.side in at[yt]||(at[yt][Be.side]=0),at[yt][Be.side]+=gt}X.getTickFormat=function(Be){var Ne,at,$e,gt,yt,xt,dt,Lt;function Tt(Dt){return typeof Dt!="string"?Dt:Number(Dt.replace("M",""))*y}function bt(Dt,Bt){var Xt=["L","D"];if(typeof Dt==typeof Bt){if(typeof Dt=="number")return Dt-Bt;var an=Xt.indexOf(Dt.charAt(0)),Wt=Xt.indexOf(Bt.charAt(0));return an===Wt?Number(Dt.replace(/(L|D)/g,""))-Number(Bt.replace(/(L|D)/g,"")):an-Wt}return typeof Dt=="number"?1:-1}function Ct(Dt,Bt){var Xt=Bt[0]===null,an=Bt[1]===null,Wt=bt(Dt,Bt[0])>=0,Vt=bt(Dt,Bt[1])<=0;return(Xt||Wt)&&(an||Vt)}if(Be.tickformatstops&&Be.tickformatstops.length>0)switch(Be.type){case"date":case"linear":for(Ne=0;Ne<Be.tickformatstops.length;Ne++)if(($e=Be.tickformatstops[Ne]).enabled&&(gt=Be.dtick,yt=$e.dtickrange,xt=void 0,dt=void 0,Lt=void 0,xt=Tt||function(Dt){return Dt},dt=yt[0],Lt=yt[1],(!dt&&typeof dt!="number"||xt(dt)<=xt(gt))&&(!Lt&&typeof Lt!="number"||xt(Lt)>=xt(gt)))){at=$e;break}break;case"log":for(Ne=0;Ne<Be.tickformatstops.length;Ne++)if(($e=Be.tickformatstops[Ne]).enabled&&Ct(Be.dtick,$e.dtickrange)){at=$e;break}}return at?at.value:Be.tickformat},X.getSubplots=function(Be,Ne){var at=Be._fullLayout._subplots,$e=at.cartesian.concat(at.gl2d||[]),gt=Ne?X.findSubplotsWithAxis($e,Ne):$e;return gt.sort(function(yt,xt){var dt=yt.substr(1).split("y"),Lt=xt.substr(1).split("y");return dt[0]===Lt[0]?+dt[1]-+Lt[1]:+dt[0]-+Lt[0]}),gt},X.findSubplotsWithAxis=function(Be,Ne){for(var at=new RegExp(Ne._id.charAt(0)==="x"?"^"+Ne._id+"y":Ne._id+"$"),$e=[],gt=0;gt<Be.length;gt++){var yt=Be[gt];at.test(yt)&&$e.push(yt)}return $e},X.makeClipPaths=function(Be){var Ne=Be._fullLayout;if(!Ne._hasOnlyLargeSploms){var at,$e,gt={_offset:0,_length:Ne.width,_id:""},yt={_offset:0,_length:Ne.height,_id:""},xt=X.list(Be,"x",!0),dt=X.list(Be,"y",!0),Lt=[];for(at=0;at<xt.length;at++)for(Lt.push({x:xt[at],y:yt}),$e=0;$e<dt.length;$e++)at===0&&Lt.push({x:gt,y:dt[$e]}),Lt.push({x:xt[at],y:dt[$e]});var Tt=Ne._clips.selectAll(".axesclip").data(Lt,function(bt){return bt.x._id+bt.y._id});Tt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(bt){return"clip"+Ne._uid+bt.x._id+bt.y._id}).append("rect"),Tt.exit().remove(),Tt.each(function(bt){M.select(this).select("rect").attr({x:bt.x._offset||0,y:bt.y._offset||0,width:bt.x._length||1,height:bt.y._length||1})})}},X.draw=function(Be,Ne,at){var $e=Be._fullLayout;Ne==="redraw"&&$e._paper.selectAll("g.subplot").each(function(dt){var Lt=dt[0],Tt=$e._plots[Lt];if(Tt){var bt=Tt.xaxis,Ct=Tt.yaxis;Tt.xaxislayer.selectAll("."+bt._id+"tick").remove(),Tt.yaxislayer.selectAll("."+Ct._id+"tick").remove(),Tt.xaxislayer.selectAll("."+bt._id+"tick2").remove(),Tt.yaxislayer.selectAll("."+Ct._id+"tick2").remove(),Tt.xaxislayer.selectAll("."+bt._id+"divider").remove(),Tt.yaxislayer.selectAll("."+Ct._id+"divider").remove(),Tt.minorGridlayer&&Tt.minorGridlayer.selectAll("path").remove(),Tt.gridlayer&&Tt.gridlayer.selectAll("path").remove(),Tt.zerolinelayer&&Tt.zerolinelayer.selectAll("path").remove(),$e._infolayer.select(".g-"+bt._id+"title").remove(),$e._infolayer.select(".g-"+Ct._id+"title").remove()}});var gt=Ne&&Ne!=="redraw"?Ne:X.listIds(Be),yt=X.list(Be).filter(function(dt){return dt.autoshift}).map(function(dt){return dt.overlaying});gt.map(function(dt){var Lt=X.getFromId(Be,dt);if(Lt.tickmode==="sync"&&Lt.overlaying){var Tt=gt.findIndex(function(bt){return bt===Lt.overlaying});Tt>=0&&gt.unshift(gt.splice(Tt,1).shift())}});var xt={false:{left:0,right:0}};return b.syncOrAsync(gt.map(function(dt){return function(){if(dt){var Lt=X.getFromId(Be,dt);at||(at={}),at.axShifts=xt,at.overlayingShiftedAx=yt;var Tt=X.drawOne(Be,Lt,at);return Lt._shiftPusher&&ot(Lt,Lt._fullDepth||0,xt,!0),Lt._r=Lt.range.slice(),Lt._rl=b.simpleMap(Lt._r,Lt.r2l),Tt}}}))},X.drawOne=function(Be,Ne,at){var $e,gt,yt,xt=(at=at||{}).axShifts||{},dt=at.overlayingShiftedAx||[];Ne.setScale();var Lt=Be._fullLayout,Tt=Ne._id,bt=Tt.charAt(0),Ct=X.counterLetter(Tt),Dt=Lt._plots[Ne._mainSubplot];if(Dt){if(Ne._shiftPusher=Ne.autoshift||dt.indexOf(Ne._id)!==-1||dt.indexOf(Ne.overlaying)!==-1,Ne._shiftPusher&Ne.anchor==="free"){var Bt=Ne.linewidth/2||0;Ne.ticks==="inside"&&(Bt+=Ne.ticklen),ot(Ne,Bt,xt,!0),ot(Ne,Ne.shift||0,xt,!1)}at.skipTitle===!0&&Ne._shift!==void 0||(Ne._shift=function(pn,Qt){return pn.autoshift?Qt[pn.overlaying][pn.side]:pn.shift||0}(Ne,xt));var Xt=Dt[bt+"axislayer"],an=Ne._mainLinePosition,Wt=an+=Ne._shift,Vt=Ne._mainMirrorPosition,on=Ne._vals=X.calcTicks(Ne),Sn=[Ne.mirror,Wt,Vt].join("_");for($e=0;$e<on.length;$e++)on[$e].axInfo=Sn;Ne._selections={},Ne._tickAngles&&(Ne._prevTickAngles=Ne._tickAngles),Ne._tickAngles={},Ne._depth=null;var Ln={};if(Ne.visible){var fn,Zt,ln=X.makeTransTickFn(Ne),nn=X.makeTransTickLabelFn(Ne),cn=Ne.ticks==="inside",kn=Ne.ticks==="outside";if(Ne.tickson==="boundaries"){var An=function(pn,Qt){var en,hn=[],gn=function(Dn,Fn){var Wn=Dn.xbnd[Fn];Wn!==null&&hn.push(b.extendFlat({},Dn,{x:Wn}))};if(Qt.length){for(en=0;en<Qt.length;en++)gn(Qt[en],0);gn(Qt[en-1],1)}return hn}(0,on);Zt=X.clipEnds(Ne,An),fn=cn?Zt:An}else Zt=X.clipEnds(Ne,on),fn=cn&&Ne.ticklabelmode!=="period"?Zt:on;var wn,Cn=Ne._gridVals=Zt,_n=function(pn,Qt){var en,hn,gn=[],Dn=Qt.length&&Qt[Qt.length-1].x<Qt[0].x,Fn=function(Yn,er){var Kn=Yn.xbnd[er];Kn!==null&&gn.push(b.extendFlat({},Yn,{x:Kn}))};if(pn.showdividers&&Qt.length){for(en=0;en<Qt.length;en++){var Wn=Qt[en];Wn.text2!==hn&&Fn(Wn,Dn?1:0),hn=Wn.text2}Fn(Qt[en-1],Dn?0:1)}return gn}(Ne,on);if(!Lt._hasOnlyLargeSploms){var zn=Ne._subplotsWith,Hn={};for($e=0;$e<zn.length;$e++){gt=zn[$e];var ar=(yt=Lt._plots[gt])[Ct+"axis"],fr=ar._mainAxis._id;if(!Hn[fr]){Hn[fr]=1;var rr=bt==="x"?"M0,"+ar._offset+"v"+ar._length:"M"+ar._offset+",0h"+ar._length;X.drawGrid(Be,Ne,{vals:Cn,counterAxis:ar,layer:yt.gridlayer.select("."+Tt),minorLayer:yt.minorGridlayer.select("."+Tt),path:rr,transFn:ln}),X.drawZeroLine(Be,Ne,{counterAxis:ar,layer:yt.zerolinelayer,path:rr,transFn:ln})}}}var Xn=X.getTickSigns(Ne),gr=X.getTickSigns(Ne,"minor");if(Ne.ticks||Ne.minor&&Ne.minor.ticks){var Gt,tn,dn,vn,On=X.makeTickPath(Ne,Wt,Xn[2]),Vn=X.makeTickPath(Ne,Wt,gr[2],{minor:!0});if(Ne._anchorAxis&&Ne.mirror&&Ne.mirror!==!0?(Gt=X.makeTickPath(Ne,Vt,Xn[3]),tn=X.makeTickPath(Ne,Vt,gr[3],{minor:!0}),dn=On+Gt,vn=Vn+tn):(Gt="",tn="",dn=On,vn=Vn),Ne.showdividers&&kn&&Ne.tickson==="boundaries"){var Bn={};for($e=0;$e<_n.length;$e++)Bn[_n[$e].x]=1;wn=function(pn){return Bn[pn.x]?Gt:dn}}else wn=function(pn){return pn.minor?vn:dn}}if(X.drawTicks(Be,Ne,{vals:fn,layer:Xt,path:wn,transFn:ln}),Ne.mirror==="allticks"){var Un=Object.keys(Ne._linepositions||{});for($e=0;$e<Un.length;$e++){gt=Un[$e],yt=Lt._plots[gt];var tr=Ne._linepositions[gt]||[],$t=tr[0],bn=tr[1],Rt=tr[2],Kt=X.makeTickPath(Ne,$t,Rt?Xn[0]:gr[0],{minor:Rt})+X.makeTickPath(Ne,bn,Rt?Xn[1]:gr[1],{minor:Rt});X.drawTicks(Be,Ne,{vals:fn,layer:yt[bt+"axislayer"],path:Kt,transFn:ln})}}var rn=[];if(rn.push(function(){return X.drawLabels(Be,Ne,{vals:on,layer:Xt,plotinfo:yt,transFn:nn,labelFns:X.makeLabelFns(Ne,Wt)})}),Ne.type==="multicategory"){var xn={x:2,y:10}[bt];rn.push(function(){var pn={x:"height",y:"width"}[bt],Qt=Pn()[pn]+xn+(Ne._tickAngles[Tt+"tick"]?Ne.tickfont.size*Q:0);return X.drawLabels(Be,Ne,{vals:ft(Ne,on),layer:Xt,cls:Tt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:ln,labelFns:X.makeLabelFns(Ne,Wt+Qt*Xn[4])})}),rn.push(function(){return Ne._depth=Xn[4]*(Pn("tick2")[Ne.side]-Wt),function(pn,Qt,en){var hn=Qt._id+"divider",gn=en.vals,Dn=en.layer.selectAll("path."+hn).data(gn,mt);Dn.exit().remove(),Dn.enter().insert("path",":first-child").classed(hn,1).classed("crisp",1).call(i.stroke,Qt.dividercolor).style("stroke-width",n.crispRound(pn,Qt.dividerwidth,1)+"px"),Dn.attr("transform",en.transFn).attr("d",en.path)}(Be,Ne,{vals:_n,layer:Xt,path:X.makeTickPath(Ne,Wt,Xn[4],{len:Ne._depth}),transFn:ln})})}else Ne.title.hasOwnProperty("standoff")&&rn.push(function(){Ne._depth=Xn[4]*(Pn()[Ne.side]-Wt)});var Tn=_.getComponentMethod("rangeslider","isVisible")(Ne);return at.skipTitle||Tn&&Ne.side==="bottom"||rn.push(function(){return function(pn,Qt){var en,hn=pn._fullLayout,gn=Qt._id,Dn=gn.charAt(0),Fn=Qt.title.font.size;if(Qt.title.hasOwnProperty("standoff"))en=Qt._depth+Qt.title.standoff+Mt(Qt);else{var Wn=Xe(Qt);if(Qt.type==="multicategory")en=Qt._depth;else{var Yn=1.5*Fn;Wn&&(Yn=.5*Fn,Qt.ticks==="outside"&&(Yn+=Qt.ticklen)),en=10+Yn+(Qt.linewidth?Qt.linewidth-1:0)}Wn||(en+=Dn==="x"?Qt.side==="top"?Fn*(Qt.showticklabels?1:0):Fn*(Qt.showticklabels?1.5:.5):Qt.side==="right"?Fn*(Qt.showticklabels?1:.5):Fn*(Qt.showticklabels?.5:0))}var er,Kn,ir,cr,ur=X.getPxPosition(pn,Qt);if(Dn==="x"?(Kn=Qt._offset+Qt._length/2,ir=Qt.side==="top"?ur-en:ur+en):(ir=Qt._offset+Qt._length/2,Kn=Qt.side==="right"?ur+en:ur-en,er={rotate:"-90",offset:0}),Qt.type!=="multicategory"){var mr=Qt._selections[Qt._id+"tick"];if(cr={selection:mr,side:Qt.side},mr&&mr.node()&&mr.node().parentNode){var vr=n.getTranslate(mr.node().parentNode);cr.offsetLeft=vr.x,cr.offsetTop=vr.y}Qt.title.hasOwnProperty("standoff")&&(cr.pad=0)}return Qt._titleStandoff=en,t.draw(pn,gn+"title",{propContainer:Qt,propName:Qt._name+".title.text",placeholder:hn._dfltTitle[Dn],avoid:cr,transform:er,attributes:{x:Kn,y:ir,"text-anchor":"middle"}})}(Be,Ne)}),rn.push(function(){var pn,Qt,en,hn,gn=Ne.side.charAt(0),Dn=J[Ne.side].charAt(0),Fn=X.getPxPosition(Be,Ne),Wn=kn?Ne.ticklen:0;(Ne.automargin||Tn||Ne._shiftPusher)&&(Ne.type==="multicategory"?pn=Pn("tick2"):(pn=Pn(),bt==="x"&&gn==="b"&&(Ne._depth=Math.max(pn.width>0?pn.bottom-Fn:0,Wn))));var Yn=0,er=0;if(Ne._shiftPusher&&(Yn=Math.max(Wn,pn.height>0?gn==="l"?Fn-pn.left:pn.right-Fn:0),Ne.title.text!==Lt._dfltTitle[bt]&&(er=(Ne._titleStandoff||0)+(Ne._titleScoot||0),gn==="l"&&(er+=Mt(Ne))),Ne._fullDepth=Math.max(Yn,er)),Ne.automargin){Qt={x:0,y:0,r:0,l:0,t:0,b:0};var Kn=[0,1],ir=typeof Ne._shift=="number"?Ne._shift:0;if(bt==="x"){if(gn==="b"?Qt[gn]=Ne._depth:(Qt[gn]=Ne._depth=Math.max(pn.width>0?Fn-pn.top:0,Wn),Kn.reverse()),pn.width>0){var cr=pn.right-(Ne._offset+Ne._length);cr>0&&(Qt.xr=1,Qt.r=cr);var ur=Ne._offset-pn.left;ur>0&&(Qt.xl=0,Qt.l=ur)}}else if(gn==="l"?(Ne._depth=Math.max(pn.height>0?Fn-pn.left:0,Wn),Qt[gn]=Ne._depth-ir):(Ne._depth=Math.max(pn.height>0?pn.right-Fn:0,Wn),Qt[gn]=Ne._depth+ir,Kn.reverse()),pn.height>0){var mr=pn.bottom-(Ne._offset+Ne._length);mr>0&&(Qt.yb=0,Qt.b=mr);var vr=Ne._offset-pn.top;vr>0&&(Qt.yt=1,Qt.t=vr)}Qt[Ct]=Ne.anchor==="free"?Ne.position:Ne._anchorAxis.domain[Kn[0]],Ne.title.text!==Lt._dfltTitle[bt]&&(Qt[gn]+=Mt(Ne)+(Ne.title.standoff||0)),Ne.mirror&&Ne.anchor!=="free"&&((en={x:0,y:0,r:0,l:0,t:0,b:0})[Dn]=Ne.linewidth,Ne.mirror&&Ne.mirror!==!0&&(en[Dn]+=Wn),Ne.mirror===!0||Ne.mirror==="ticks"?en[Ct]=Ne._anchorAxis.domain[Kn[1]]:Ne.mirror!=="all"&&Ne.mirror!=="allticks"||(en[Ct]=[Ne._counterDomainMin,Ne._counterDomainMax][Kn[1]]))}Tn&&(hn=_.getComponentMethod("rangeslider","autoMarginOpts")(Be,Ne)),typeof Ne.automargin=="string"&&(Qe(Qt,Ne.automargin),Qe(en,Ne.automargin)),a.autoMargin(Be,st(Ne),Qt),a.autoMargin(Be,St(Ne),en),a.autoMargin(Be,zt(Ne),hn)}),b.syncOrAsync(rn)}}function Pn(pn){var Qt=Tt+(pn||"tick");return Ln[Qt]||(Ln[Qt]=function(en,hn){var gn,Dn,Fn,Wn;return en._selections[hn].size()?(gn=1/0,Dn=-1/0,Fn=1/0,Wn=-1/0,en._selections[hn].each(function(){var Yn=it(this),er=n.bBox(Yn.node().parentNode);gn=Math.min(gn,er.top),Dn=Math.max(Dn,er.bottom),Fn=Math.min(Fn,er.left),Wn=Math.max(Wn,er.right)})):(gn=0,Dn=0,Fn=0,Wn=0),{top:gn,bottom:Dn,left:Fn,right:Wn,height:Dn-gn,width:Wn-Fn}}(Ne,Qt)),Ln[Qt]}},X.getTickSigns=function(Be,Ne){var at=Be._id.charAt(0),$e={x:"top",y:"right"}[at],gt=Be.side===$e?1:-1,yt=[-1,1,gt,-gt];return(Ne?(Be.minor||{}).ticks:Be.ticks)!=="inside"==(at==="x")&&(yt=yt.map(function(xt){return-xt})),Be.side&&yt.push({l:-1,t:-1,r:1,b:1}[Be.side.charAt(0)]),yt},X.makeTransTickFn=function(Be){return Be._id.charAt(0)==="x"?function(Ne){return h(Be._offset+Be.l2p(Ne.x),0)}:function(Ne){return h(0,Be._offset+Be.l2p(Ne.x))}},X.makeTransTickLabelFn=function(Be){var Ne=function(gt){var yt=gt.ticklabelposition||"",xt=function(Vt){return yt.indexOf(Vt)!==-1},dt=xt("top"),Lt=xt("left"),Tt=xt("right"),bt=xt("bottom"),Ct=xt("inside"),Dt=bt||Lt||dt||Tt;if(!Dt&&!Ct)return[0,0];var Bt=gt.side,Xt=Dt?(gt.tickwidth||0)/2:0,an=3,Wt=gt.tickfont?gt.tickfont.size:12;return(bt||dt)&&(Xt+=Wt*te,an+=(gt.linewidth||0)/2),(Lt||Tt)&&(Xt+=(gt.linewidth||0)/2,an+=3),Ct&&Bt==="top"&&(an-=Wt*(1-te)),(Lt||dt)&&(Xt=-Xt),Bt!=="bottom"&&Bt!=="right"||(an=-an),[Dt?Xt:0,Ct?an:0]}(Be),at=Ne[0],$e=Ne[1];return Be._id.charAt(0)==="x"?function(gt){return h(at+Be._offset+Be.l2p(ht(gt)),$e)}:function(gt){return h($e,at+Be._offset+Be.l2p(ht(gt)))}},X.makeTickPath=function(Be,Ne,at,$e){$e||($e={});var gt=$e.minor;if(gt&&!Be.minor)return"";var yt=$e.len!==void 0?$e.len:gt?Be.minor.ticklen:Be.ticklen,xt=Be._id.charAt(0),dt=(Be.linewidth||1)/2;return xt==="x"?"M0,"+(Ne+dt*at)+"v"+yt*at:"M"+(Ne+dt*at)+",0h"+yt*at},X.makeLabelFns=function(Be,Ne,at){var $e=Be.ticklabelposition||"",gt=function(An){return $e.indexOf(An)!==-1},yt=gt("top"),xt=gt("left"),dt=gt("right"),Lt=gt("bottom")||xt||yt||dt,Tt=gt("inside"),bt=$e==="inside"&&Be.ticks==="inside"||!Tt&&Be.ticks==="outside"&&Be.tickson!=="boundaries",Ct=0,Dt=0,Bt=bt?Be.ticklen:0;if(Tt?Bt*=-1:Lt&&(Bt=0),bt&&(Ct+=Bt,at)){var Xt=b.deg2rad(at);Ct=Bt*Math.cos(Xt)+1,Dt=Bt*Math.sin(Xt)}Be.showticklabels&&(bt||Be.showline)&&(Ct+=.2*Be.tickfont.size);var an,Wt,Vt,on,Sn,Ln={labelStandoff:Ct+=(Be.linewidth||1)/2*(Tt?-1:1),labelShift:Dt},fn=0,Zt=Be.side,ln=Be._id.charAt(0),nn=Be.tickangle;if(ln==="x")on=(Sn=!Tt&&Zt==="bottom"||Tt&&Zt==="top")?1:-1,Tt&&(on*=-1),an=Dt*on,Wt=Ne+Ct*on,Vt=Sn?1:-.2,Math.abs(nn)===90&&(Tt?Vt+=V:Vt=nn===-90&&Zt==="bottom"?te:nn===90&&Zt==="top"?V:.5,fn=V/2*(nn/90)),Ln.xFn=function(An){return An.dx+an+fn*An.fontSize},Ln.yFn=function(An){return An.dy+Wt+An.fontSize*Vt},Ln.anchorFn=function(An,wn){if(Lt){if(xt)return"end";if(dt)return"start"}return k(wn)&&wn!==0&&wn!==180?wn*on<0!==Tt?"end":"start":"middle"},Ln.heightFn=function(An,wn,Cn){return wn<-60||wn>60?-.5*Cn:Be.side==="top"!==Tt?-Cn:0};else if(ln==="y"){if(on=(Sn=!Tt&&Zt==="left"||Tt&&Zt==="right")?1:-1,Tt&&(on*=-1),an=Ct,Wt=Dt*on,Vt=0,Tt||Math.abs(nn)!==90||(Vt=nn===-90&&Zt==="left"||nn===90&&Zt==="right"?te:.5),Tt){var cn=k(nn)?+nn:0;if(cn!==0){var kn=b.deg2rad(cn);fn=Math.abs(Math.sin(kn))*te*on,Vt=0}}Ln.xFn=function(An){return An.dx+Ne-(an+An.fontSize*Vt)*on+fn*An.fontSize},Ln.yFn=function(An){return An.dy+Wt+An.fontSize*V},Ln.anchorFn=function(An,wn){return k(wn)&&Math.abs(wn)===90?"middle":Sn?"end":"start"},Ln.heightFn=function(An,wn,Cn){return Be.side==="right"&&(wn*=-1),wn<-30?-Cn:wn<30?-.5*Cn:0}}return Ln},X.drawTicks=function(Be,Ne,at){at=at||{};var $e=Ne._id+"tick",gt=[].concat(Ne.minor&&Ne.minor.ticks?at.vals.filter(function(xt){return xt.minor&&!xt.noTick}):[]).concat(Ne.ticks?at.vals.filter(function(xt){return!xt.minor&&!xt.noTick}):[]),yt=at.layer.selectAll("path."+$e).data(gt,mt);yt.exit().remove(),yt.enter().append("path").classed($e,1).classed("ticks",1).classed("crisp",at.crisp!==!1).each(function(xt){return i.stroke(M.select(this),xt.minor?Ne.minor.tickcolor:Ne.tickcolor)}).style("stroke-width",function(xt){return n.crispRound(Be,xt.minor?Ne.minor.tickwidth:Ne.tickwidth,1)+"px"}).attr("d",at.path).style("display",null),lt(Ne,[N]),yt.attr("transform",at.transFn)},X.drawGrid=function(Be,Ne,at){if(at=at||{},Ne.tickmode!=="sync"){var $e=Ne._id+"grid",gt=Ne.minor&&Ne.minor.showgrid,yt=gt?at.vals.filter(function(Vt){return Vt.minor}):[],xt=Ne.showgrid?at.vals.filter(function(Vt){return!Vt.minor}):[],dt=at.counterAxis;if(dt&&X.shouldShowZeroLine(Be,Ne,dt))for(var Lt=Ne.tickmode==="array",Tt=0;Tt<xt.length;Tt++){var bt=xt[Tt].x;if(Lt?!bt:Math.abs(bt)<Ne.dtick/100){if(xt=xt.slice(0,Tt).concat(xt.slice(Tt+1)),!Lt)break;Tt--}}Ne._gw=n.crispRound(Be,Ne.gridwidth,1);for(var Ct=gt?n.crispRound(Be,Ne.minor.gridwidth,1):0,Dt=at.layer,Bt=at.minorLayer,Xt=1;Xt>=0;Xt--){var an=Xt?Dt:Bt;if(an){var Wt=an.selectAll("path."+$e).data(Xt?xt:yt,mt);Wt.exit().remove(),Wt.enter().append("path").classed($e,1).classed("crisp",at.crisp!==!1),Wt.attr("transform",at.transFn).attr("d",at.path).each(function(Vt){return i.stroke(M.select(this),Vt.minor?Ne.minor.gridcolor:Ne.gridcolor||"#ddd")}).style("stroke-dasharray",function(Vt){return n.dashStyle(Vt.minor?Ne.minor.griddash:Ne.griddash,Vt.minor?Ne.minor.gridwidth:Ne.gridwidth)}).style("stroke-width",function(Vt){return(Vt.minor?Ct:Ne._gw)+"px"}).style("display",null),typeof at.path=="function"&&Wt.attr("d",at.path)}}lt(Ne,[j,R])}},X.drawZeroLine=function(Be,Ne,at){at=at||at;var $e=Ne._id+"zl",gt=X.shouldShowZeroLine(Be,Ne,at.counterAxis),yt=at.layer.selectAll("path."+$e).data(gt?[{x:0,id:Ne._id}]:[]);yt.exit().remove(),yt.enter().append("path").classed($e,1).classed("zl",1).classed("crisp",at.crisp!==!1).each(function(){at.layer.selectAll("path").sort(function(xt,dt){return re(xt.id,dt.id)})}),yt.attr("transform",at.transFn).attr("d",at.path).call(i.stroke,Ne.zerolinecolor||i.defaultLine).style("stroke-width",n.crispRound(Be,Ne.zerolinewidth,Ne._gw||1)+"px").style("display",null),lt(Ne,[z])},X.drawLabels=function(Be,Ne,at){at=at||{};var $e=Be._fullLayout,gt=Ne._id,yt=gt.charAt(0),xt=at.cls||gt+"tick",dt=at.vals.filter(function(wn){return wn.text}),Lt=at.labelFns,Tt=at.secondary?0:Ne.tickangle,bt=(Ne._prevTickAngles||{})[xt],Ct=at.layer.selectAll("g."+xt).data(Ne.showticklabels?dt:[],mt),Dt=[];function Bt(wn,Cn){wn.each(function(_n){var zn=M.select(this),Hn=zn.select(".text-math-group"),ar=Lt.anchorFn(_n,Cn),fr=at.transFn.call(zn.node(),_n)+(k(Cn)&&+Cn!=0?" rotate("+Cn+","+Lt.xFn(_n)+","+(Lt.yFn(_n)-_n.fontSize/2)+")":""),rr=o.lineCount(zn),Xn=Q*_n.fontSize,gr=Lt.heightFn(_n,k(Cn)?+Cn:0,(rr-1)*Xn);if(gr&&(fr+=h(0,gr)),Hn.empty()){var Gt=zn.select("text");Gt.attr({transform:fr,"text-anchor":ar}),Gt.style("opacity",1),Ne._adjustTickLabelsOverflow&&Ne._adjustTickLabelsOverflow()}else{var tn=n.bBox(Hn.node()).width*{end:-.5,start:.5}[ar];Hn.attr("transform",fr+h(tn,0))}})}Ct.enter().append("g").classed(xt,1).append("text").attr("text-anchor","middle").each(function(wn){var Cn=M.select(this),_n=Be._promises.length;Cn.call(o.positionText,Lt.xFn(wn),Lt.yFn(wn)).call(n.font,wn.font,wn.fontSize,wn.fontColor).text(wn.text).call(o.convertToTspans,Be),Be._promises[_n]?Dt.push(Be._promises.pop().then(function(){Bt(Cn,Tt)})):Bt(Cn,Tt)}),lt(Ne,[Z]),Ct.exit().remove(),at.repositionOnUpdate&&Ct.each(function(wn){M.select(this).select("text").call(o.positionText,Lt.xFn(wn),Lt.yFn(wn))}),Ne._adjustTickLabelsOverflow=function(){var wn=Ne.ticklabeloverflow;if(wn&&wn!=="allow"){var Cn=wn.indexOf("hide")!==-1,_n=Ne._id.charAt(0)==="x",zn=0,Hn=_n?Be._fullLayout.width:Be._fullLayout.height;if(wn.indexOf("domain")!==-1){var ar=b.simpleMap(Ne.range,Ne.r2l);zn=Ne.l2p(ar[0])+Ne._offset,Hn=Ne.l2p(ar[1])+Ne._offset}var fr=Math.min(zn,Hn),rr=Math.max(zn,Hn),Xn=Ne.side,gr=1/0,Gt=-1/0;for(var tn in Ct.each(function(On){var Vn=M.select(this);if(Vn.select(".text-math-group").empty()){var Bn=n.bBox(Vn.node()),Un=0;_n?(Bn.right>rr||Bn.left<fr)&&(Un=1):(Bn.bottom>rr||Bn.top+(Ne.tickangle?0:On.fontSize/4)<fr)&&(Un=1);var tr=Vn.select("text");Un?Cn&&tr.style("opacity",0):(tr.style("opacity",1),gr=Xn==="bottom"||Xn==="right"?Math.min(gr,_n?Bn.top:Bn.left):-1/0,Gt=Xn==="top"||Xn==="left"?Math.max(Gt,_n?Bn.bottom:Bn.right):1/0)}}),$e._plots){var dn=$e._plots[tn];if(Ne._id===dn.xaxis._id||Ne._id===dn.yaxis._id){var vn=_n?dn.yaxis:dn.xaxis;vn&&(vn["_visibleLabelMin_"+Ne._id]=gr,vn["_visibleLabelMax_"+Ne._id]=Gt)}}}},Ne._hideCounterAxisInsideTickLabels=function(wn){var Cn=Ne._id.charAt(0)==="x",_n=[];for(var zn in $e._plots){var Hn=$e._plots[zn];Ne._id!==Hn.xaxis._id&&Ne._id!==Hn.yaxis._id||_n.push(Cn?Hn.yaxis:Hn.xaxis)}_n.forEach(function(ar,fr){ar&&Xe(ar)&&(wn||[z,R,j,N,Z]).forEach(function(rr){var Xn=rr.K==="tick"&&rr.L==="text"&&Ne.ticklabelmode==="period",gr=$e._plots[Ne._mainSubplot];(rr.K===z.K?gr.zerolinelayer.selectAll("."+Ne._id+"zl"):rr.K===R.K?gr.minorGridlayer.selectAll("."+Ne._id):rr.K===j.K?gr.gridlayer.selectAll("."+Ne._id):gr[Ne._id.charAt(0)+"axislayer"]).each(function(){var Gt=M.select(this);rr.L&&(Gt=Gt.selectAll(rr.L)),Gt.each(function(tn){var dn=Ne.l2p(Xn?ht(tn):tn.x)+Ne._offset,vn=M.select(this);dn<Ne["_visibleLabelMax_"+ar._id]&&dn>Ne["_visibleLabelMin_"+ar._id]?vn.style("display","none"):rr.K!=="tick"||fr||vn.style("display",null)})})})})},Bt(Ct,bt+1?bt:Tt);var Xt=null;Ne._selections&&(Ne._selections[xt]=Ct);var an=[function(){return Dt.length&&Promise.all(Dt)}];Ne.automargin&&$e._redrawFromAutoMarginCount&&bt===90?(Xt=90,an.push(function(){Bt(Ct,bt)})):an.push(function(){if(Bt(Ct,Tt),dt.length&&yt==="x"&&!k(Tt)&&(Ne.type!=="log"||String(Ne.dtick).charAt(0)!=="D")){Xt=0;var wn,Cn=0,_n=[];if(Ct.each(function(Vn){Cn=Math.max(Cn,Vn.fontSize);var Bn=Ne.l2p(Vn.x),Un=it(this),tr=n.bBox(Un.node());_n.push({top:0,bottom:10,height:10,left:Bn-tr.width/2,right:Bn+tr.width/2+2,width:tr.width+2})}),Ne.tickson!=="boundaries"&&!Ne.showdividers||at.secondary){var zn=dt.length,Hn=Math.abs((dt[zn-1].x-dt[0].x)*Ne._m)/(zn-1),ar=Ne.ticklabelposition||"",fr=function(Vn){return ar.indexOf(Vn)!==-1},rr=fr("top"),Xn=fr("left"),gr=fr("right"),Gt=fr("bottom")||Xn||rr||gr?(Ne.tickwidth||0)+6:0,tn=Hn<2.5*Cn||Ne.type==="multicategory"||Ne._name==="realaxis";for(wn=0;wn<_n.length-1;wn++)if(b.bBoxIntersect(_n[wn],_n[wn+1],Gt)){Xt=tn?90:30;break}}else{var dn=2;for(Ne.ticks&&(dn+=Ne.tickwidth/2),wn=0;wn<_n.length;wn++){var vn=dt[wn].xbnd,On=_n[wn];if(vn[0]!==null&&On.left-Ne.l2p(vn[0])<dn||vn[1]!==null&&Ne.l2p(vn[1])-On.right<dn){Xt=90;break}}}Xt&&Bt(Ct,Xt)}}),Ne._tickAngles&&an.push(function(){Ne._tickAngles[xt]=Xt===null?k(Tt)?Tt:0:Xt});var Wt=function(){var wn=0,Cn=0;return Ct.each(function(_n,zn){var Hn,ar=it(this);ar.select(".text-math-group").empty()&&(Ne._vals[zn]&&(Hn=Ne._vals[zn].bb||n.bBox(ar.node()),Ne._vals[zn].bb=Hn),wn=Math.max(wn,Hn.width),Cn=Math.max(Cn,Hn.height))}),{labelsMaxW:wn,labelsMaxH:Cn}},Vt=Ne._anchorAxis;if(Vt&&(Vt.autorange||Vt.insiderange)&&Xe(Ne)&&!ie($e,Ne._id)&&($e._insideTickLabelsUpdaterange||($e._insideTickLabelsUpdaterange={}),Vt.autorange&&($e._insideTickLabelsUpdaterange[Vt._name+".autorange"]=Vt.autorange,an.push(Wt)),Vt.insiderange)){var on=Wt(),Sn=Ne._id.charAt(0)==="y"?on.labelsMaxW:on.labelsMaxH;Sn+=6,Ne.ticklabelposition==="inside"&&(Sn+=Ne.ticklen||0);var Ln=Ne.side==="right"||Ne.side==="top"?1:-1,fn=Ln===1?1:0,Zt=Ln===1?0:1,ln=[];ln[Zt]=Vt.range[Zt];var nn=Vt.d2p(Vt.range[fn]),cn=Vt.d2p(Vt.range[Zt]),kn=Math.abs(cn-nn);kn-Sn>0?Sn*=1+Sn/(kn-=Sn):Sn=0,Ne._id.charAt(0)!=="y"&&(Sn=-Sn),ln[fn]=Vt.p2d(Vt.d2p(Vt.range[fn])+Ln*Sn),Vt.autorange==="min"||Vt.autorange==="max reversed"?(ln[0]=null,Vt._rangeInitial0=void 0,Vt._rangeInitial1=void 0):Vt.autorange!=="max"&&Vt.autorange!=="min reversed"||(ln[1]=null,Vt._rangeInitial0=void 0,Vt._rangeInitial1=void 0),$e._insideTickLabelsUpdaterange[Vt._name+".range"]=ln}var An=b.syncOrAsync(an);return An&&An.then&&Be._promises.push(An),An},X.getPxPosition=function(Be,Ne){var at,$e=Be._fullLayout._size,gt=Ne._id.charAt(0),yt=Ne.side;return Ne.anchor!=="free"?at=Ne._anchorAxis:gt==="x"?at={_offset:$e.t+(1-(Ne.position||0))*$e.h,_length:0}:gt==="y"&&(at={_offset:$e.l+(Ne.position||0)*$e.w+Ne._shift,_length:0}),yt==="top"||yt==="left"?at._offset:yt==="bottom"||yt==="right"?at._offset+at._length:void 0},X.shouldShowZeroLine=function(Be,Ne,at){var $e=b.simpleMap(Ne.range,Ne.r2l);return $e[0]*$e[1]<=0&&Ne.zeroline&&(Ne.type==="linear"||Ne.type==="-")&&!(Ne.rangebreaks&&Ne.maskBreaks(0)===I)&&(_t(Ne,0)||!function(gt,yt,xt,dt){var Lt=xt._mainAxis;if(Lt){var Tt=gt._fullLayout,bt=yt._id.charAt(0),Ct=X.counterLetter(yt._id),Dt=yt._offset+(Math.abs(dt[0])<Math.abs(dt[1])==(bt==="x")?0:yt._length),Bt=Tt._plots[xt._mainSubplot];if(!(Bt.mainplotinfo||Bt).overlays.length)return Vt(xt);for(var Xt=X.list(gt,Ct),an=0;an<Xt.length;an++){var Wt=Xt[an];if(Wt._mainAxis===Lt&&Vt(Wt))return!0}}function Vt(on){if(!on.showline||!on.linewidth)return!1;var Sn=Math.max((on.linewidth+yt.zerolinewidth)/2,1);function Ln(ln){return typeof ln=="number"&&Math.abs(ln-Dt)<Sn}if(Ln(on._mainLinePosition)||Ln(on._mainMirrorPosition))return!0;var fn=on._linepositions||{};for(var Zt in fn)if(Ln(fn[Zt][0])||Ln(fn[Zt][1]))return!0}}(Be,Ne,at,$e)||function(gt,yt){for(var xt=gt._fullData,dt=yt._mainSubplot,Lt=yt._id.charAt(0),Tt=0;Tt<xt.length;Tt++){var bt=xt[Tt];if(bt.visible===!0&&bt.xaxis+bt.yaxis===dt&&(_.traceIs(bt,"bar-like")&&bt.orientation==={x:"h",y:"v"}[Lt]||bt.fill&&bt.fill.charAt(bt.fill.length-1)===Lt))return!0}return!1}(Be,Ne))},X.clipEnds=function(Be,Ne){return Ne.filter(function(at){return _t(Be,at.x)})},X.allowAutoMargin=function(Be){for(var Ne=X.list(Be,"",!0),at=0;at<Ne.length;at++){var $e=Ne[at];$e.automargin&&(a.allowAutoMargin(Be,st($e)),$e.mirror&&a.allowAutoMargin(Be,St($e))),_.getComponentMethod("rangeslider","isVisible")($e)&&a.allowAutoMargin(Be,zt($e))}},X.swap=function(Be,Ne){for(var at=function(gt,yt){var xt,dt,Lt=[];for(xt=0;xt<yt.length;xt++){var Tt=[],bt=gt._fullData[yt[xt]].xaxis,Ct=gt._fullData[yt[xt]].yaxis;if(bt&&Ct){for(dt=0;dt<Lt.length;dt++)Lt[dt].x.indexOf(bt)===-1&&Lt[dt].y.indexOf(Ct)===-1||Tt.push(dt);if(Tt.length){var Dt,Bt=Lt[Tt[0]];if(Tt.length>1)for(dt=1;dt<Tt.length;dt++)Dt=Lt[Tt[dt]],Ft(Bt.x,Dt.x),Ft(Bt.y,Dt.y);Ft(Bt.x,[bt]),Ft(Bt.y,[Ct])}else Lt.push({x:[bt],y:[Ct]})}}return Lt}(Be,Ne),$e=0;$e<at.length;$e++)Pt(Be,at[$e].x,at[$e].y)}},4322:function(q,C,e){var M=e(92770),k=e(71828),a=e(50606).BADNUM,_=k.isArrayOrTypedArray,b=k.isDateTime,h=k.cleanNumber,o=Math.round;function t(n,r){return r?M(n):typeof n=="number"}function i(n){return Math.max(1,(n-1)/1e3)}q.exports=function(n,r,l){var s=n,u=l.noMultiCategory;if(_(s)&&!s.length)return"-";if(!u&&function(d){return _(d[0])&&_(d[1])}(s))return"multicategory";if(u&&Array.isArray(s[0])){for(var p=[],c=0;c<s.length;c++)if(_(s[c]))for(var x=0;x<s[c].length;x++)p.push(s[c][x]);s=p}if(function(d,v){for(var y=d.length,m=i(y),w=0,f=0,S={},T=0;T<y;T+=m){var E=d[o(T)],O=String(E);S[O]||(S[O]=1,b(E,v)&&w++,M(E)&&f++)}return w>2*f}(s,r))return"date";var g=l.autotypenumbers!=="strict";return function(d,v){for(var y=d.length,m=i(y),w=0,f=0,S={},T=0;T<y;T+=m){var E=d[o(T)],O=String(E);if(!S[O]){S[O]=1;var P=typeof E;P==="boolean"?f++:(v?h(E)!==a:P==="number")?w++:P==="string"&&f++}}return f>2*w}(s,g)?"category":function(d,v){for(var y=d.length,m=0;m<y;m++)if(t(d[m],v))return!0;return!1}(s,g)?"linear":"-"}},71453:function(q,C,e){var M=e(92770),k=e(73972),a=e(71828),_=e(44467),b=e(85501),h=e(13838),o=e(26218),t=e(38701),i=e(96115),n=e(89426),r=e(15258),l=e(92128),s=e(23608),u=e(21994),p=e(85555).WEEKDAY_PATTERN,c=e(85555).HOUR_PATTERN;function x(v,y,m){function w(z,j){return a.coerce(v,y,h.rangebreaks,z,j)}if(w("enabled")){var f=w("bounds");if(f&&f.length>=2){var S,T,E="";if(f.length===2){for(S=0;S<2;S++)if(T=d(f[S])){E=p;break}}var O=w("pattern",E);if(O===p)for(S=0;S<2;S++)(T=d(f[S]))&&(y.bounds[S]=f[S]=T-1);if(O)for(S=0;S<2;S++)switch(T=f[S],O){case p:if(!M(T)||(T=+T)!==Math.floor(T)||T<0||T>=7)return void(y.enabled=!1);y.bounds[S]=f[S]=T;break;case c:if(!M(T)||(T=+T)<0||T>24)return void(y.enabled=!1);y.bounds[S]=f[S]=T}if(m.autorange===!1){var P=m.range;if(P[0]<P[1]){if(f[0]<P[0]&&f[1]>P[1])return void(y.enabled=!1)}else if(f[0]>P[0]&&f[1]<P[1])return void(y.enabled=!1)}}else{var I=w("values");if(!I||!I.length)return void(y.enabled=!1);w("dvalue")}}}q.exports=function(v,y,m,w,f){var S,T=w.letter,E=w.font||{},O=w.splomStash||{},P=m("visible",!w.visibleDflt),I=y._template||{},z=y.type||I.type||"-";z==="date"&&(k.getComponentMethod("calendars","handleDefaults")(v,y,"calendar",w.calendar),w.noTicklabelmode||(S=m("ticklabelmode")));var j="";w.noTicklabelposition&&z!=="multicategory"||(j=a.coerce(v,y,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:S==="period"?["outside","inside"]:T==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),w.noTicklabeloverflow||m("ticklabeloverflow",j.indexOf("inside")!==-1?"hide past domain":z==="category"||z==="multicategory"?"allow":"hide past div"),u(y,f),s(v,y,m,w),r(v,y,m,w),z==="category"||w.noHover||m("hoverformat");var R=m("color"),N=R!==h.color.dflt?R:E.color,Z=O.label||f._dfltTitle[T];if(n(v,y,m,z,w),!P)return y;m("title.text",Z),a.coerceFont(m,"title.font",{family:E.family,size:a.bigFont(E.size),color:N}),o(v,y,m,z);var F=w.hasMinor;if(F&&(_.newContainer(y,"minor"),o(v,y,m,z,{isMinor:!0})),i(v,y,m,z,w),t(v,y,m,w),F){var U=w.isMinor;w.isMinor=!0,t(v,y,m,w),w.isMinor=U}l(v,y,m,{dfltColor:R,bgColor:w.bgColor,showGrid:w.showGrid,hasMinor:F,attributes:h}),!F||y.minor.ticks||y.minor.showgrid||delete y.minor,(y.showline||y.ticks)&&m("mirror");var V,te=z==="multicategory";if(w.noTickson||z!=="category"&&!te||!y.ticks&&!y.showgrid||(te&&(V="boundaries"),m("tickson",V)==="boundaries"&&delete y.ticklabelposition),te&&m("showdividers")&&(m("dividercolor"),m("dividerwidth")),z==="date")if(b(v,y,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:x}),y.rangebreaks.length){for(var Q=0;Q<y.rangebreaks.length;Q++)if(y.rangebreaks[Q].pattern===p){y._hasDayOfWeekBreaks=!0;break}if(u(y,f),f._has("scattergl")||f._has("splom"))for(var J=0;J<w.data.length;J++){var X=w.data[J];X.type!=="scattergl"&&X.type!=="splom"||(X.visible=!1,a.warn(X.type+" traces do not work on axes with rangebreaks. Setting trace "+X.index+" to `visible: false`."))}}else delete y.rangebreaks;return y};var g={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function d(v){if(typeof v=="string")return g[v.substr(0,3).toLowerCase()]}},12663:function(q,C,e){var M=e(31562),k=M.FORMAT_LINK,a=M.DATE_FORMAT_LINK;function _(h,o){return["Sets the "+h+" formatting rule"+(o?"for `"+o+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+k+"."].join(" ")}function b(h,o){return _(h,o)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}q.exports={axisHoverFormat:function(h,o){return{valType:"string",dflt:"",editType:"none",description:(o?_:b)("hover text",h)+["By default the values are formatted using "+(o?"generic number format":"`"+h+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:_,descriptionWithDates:b}},41675:function(q,C,e){var M=e(73972),k=e(85555);function a(_,b){if(b&&b.length){for(var h=0;h<b.length;h++)if(b[h][_])return!0}return!1}C.id2name=function(_){if(typeof _=="string"&&_.match(k.AX_ID_PATTERN)){var b=_.split(" ")[0].substr(1);return b==="1"&&(b=""),_.charAt(0)+"axis"+b}},C.name2id=function(_){if(_.match(k.AX_NAME_PATTERN)){var b=_.substr(5);return b==="1"&&(b=""),_.charAt(0)+b}},C.cleanId=function(_,b,h){var o=/( domain)$/.test(_);if(typeof _=="string"&&_.match(k.AX_ID_PATTERN)&&(!b||_.charAt(0)===b)&&(!o||h)){var t=_.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),_.charAt(0)+t+(o&&h?" domain":"")}},C.list=function(_,b,h){var o=_._fullLayout;if(!o)return[];var t,i=C.listIds(_,b),n=new Array(i.length);for(t=0;t<i.length;t++){var r=i[t];n[t]=o[r.charAt(0)+"axis"+r.substr(1)]}if(!h){var l=o._subplots.gl3d||[];for(t=0;t<l.length;t++){var s=o[l[t]];b?n.push(s[b+"axis"]):n.push(s.xaxis,s.yaxis,s.zaxis)}}return n},C.listIds=function(_,b){var h=_._fullLayout;if(!h)return[];var o=h._subplots;return b?o[b+"axis"]:o.xaxis.concat(o.yaxis)},C.getFromId=function(_,b,h){var o=_._fullLayout;return b=b===void 0||typeof b!="string"?b:b.replace(" domain",""),h==="x"?b=b.replace(/y[0-9]*/,""):h==="y"&&(b=b.replace(/x[0-9]*/,"")),o[C.id2name(b)]},C.getFromTrace=function(_,b,h){var o=_._fullLayout,t=null;if(M.traceIs(b,"gl3d")){var i=b.scene;i.substr(0,5)==="scene"&&(t=o[i][h+"axis"])}else t=C.getFromId(_,b[h+"axis"]||h);return t},C.idSort=function(_,b){var h=_.charAt(0),o=b.charAt(0);return h!==o?h>o?1:-1:+(_.substr(1)||1)-+(b.substr(1)||1)},C.ref2id=function(_){return!!/^[xyz]/.test(_)&&_.split(" ")[0]},C.isLinked=function(_,b){return a(b,_._axisMatchGroups)||a(b,_._axisConstraintGroups)}},15258:function(q,C,e){var M=e(73627).isTypedArraySpec;q.exports=function(k,a,_,b){if(a.type==="category"){var h,o=k.categoryarray,t=Array.isArray(o)&&o.length>0||M(o);t&&(h="array");var i,n=_("categoryorder",h);n==="array"&&(i=_("categoryarray")),t||n!=="array"||(n=a.categoryorder="trace"),n==="trace"?a._initialCategories=[]:n==="array"?a._initialCategories=i.slice():(i=function(r,l){var s,u,p,c=l.dataAttr||r._id.charAt(0),x={};if(l.axData)s=l.axData;else for(s=[],u=0;u<l.data.length;u++){var g=l.data[u];g[c+"axis"]===r._id&&s.push(g)}for(u=0;u<s.length;u++){var d=s[u][c];for(p=0;p<d.length;p++){var v=d[p];v!=null&&(x[v]=1)}}return Object.keys(x)}(a,b).sort(),n==="category ascending"?a._initialCategories=i:n==="category descending"&&(a._initialCategories=i.reverse()))}}},66287:function(q,C,e){var M=e(92770),k=e(71828),a=e(50606),_=a.ONEDAY,b=a.ONEWEEK;C.dtick=function(h,o){var t=o==="log",i=o==="date",n=o==="category",r=i?_:1;if(!h)return r;if(M(h))return(h=Number(h))<=0?r:n?Math.max(1,Math.round(h)):i?Math.max(.1,h):h;if(typeof h!="string"||!i&&!t)return r;var l=h.charAt(0),s=h.substr(1);return(s=M(s)?Number(s):0)<=0||!(i&&l==="M"&&s===Math.round(s)||t&&l==="L"||t&&l==="D"&&(s===1||s===2))?r:h},C.tick0=function(h,o,t,i){return o==="date"?k.cleanDate(h,k.dateTick0(t,i%b==0?1:0)):i!=="D1"&&i!=="D2"?M(h)?Number(h):0:void 0}},85555:function(q,C,e){var M=e(30587).counter;q.exports={idRegex:{x:M("x","( domain)?"),y:M("y","( domain)?")},attrRegex:M("[xy]axis"),xAxisMatch:M("xaxis"),yAxisMatch:M("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(q,C,e){var M=e(71828),k=e(71739),a=e(41675).id2name,_=e(13838),b=e(42449),h=e(21994),o=e(50606).ALMOST_EQUAL,t=e(18783).FROM_BL;function i(c,x,g){var d=g.axIds,v=g.layoutOut,y=g.hasImage,m=v._axisConstraintGroups,w=v._axisMatchGroups,f=x._id,S=f.charAt(0),T=((v._splomAxes||{})[S]||{})[f]||{},E=x._id,O=E.charAt(0)==="x";function P(K,ee){return M.coerce(c,x,_,K,ee)}x._matchGroup=null,x._constraintGroup=null,P("constrain",y?"domain":"range"),M.coerce(c,x,{constraintoward:{valType:"enumerated",values:O?["left","center","right"]:["bottom","middle","top"],dflt:O?"center":"middle"}},"constraintoward");var I,z,j=x.type,R=[];for(I=0;I<d.length;I++)(z=d[I])!==E&&v[a(z)].type===j&&R.push(z);var N=r(m,E);if(N){var Z=[];for(I=0;I<R.length;I++)N[z=R[I]]||Z.push(z);R=Z}var F,U,V=R.length;V&&(c.matches||T.matches)&&(F=M.coerce(c,x,{matches:{valType:"enumerated",values:R,dflt:R.indexOf(T.matches)!==-1?T.matches:void 0}},"matches"));var te=y&&!O?x.anchor:void 0;if(V&&!F&&(c.scaleanchor||te)&&(U=M.coerce(c,x,{scaleanchor:{valType:"enumerated",values:R.concat([!1])}},"scaleanchor",te)),F){x._matchGroup=l(w,E,F,1);var Q=v[a(F)],J=n(v,x)/n(v,Q);O!==(F.charAt(0)==="x")&&(J=(O?"x":"y")+J),l(m,E,F,J)}else c.matches&&d.indexOf(c.matches)!==-1&&M.warn("ignored "+x._name+'.matches: "'+c.matches+'" to avoid an infinite loop');if(U){var X=P("scaleratio");X||(X=x.scaleratio=1),l(m,E,U,X)}else c.scaleanchor&&d.indexOf(c.scaleanchor)!==-1&&M.warn("ignored "+x._name+'.scaleanchor: "'+c.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function n(c,x){var g=x.domain;return g||(g=c[a(x.overlaying)].domain),g[1]-g[0]}function r(c,x){for(var g=0;g<c.length;g++)if(c[g][x])return c[g];return null}function l(c,x,g,d){var v,y,m,w,f,S=r(c,x);S===null?((S={})[x]=1,f=c.length,c.push(S)):f=c.indexOf(S);var T=Object.keys(S);for(v=0;v<c.length;v++)if(m=c[v],v!==f&&m[g]){var E=m[g];for(y=0;y<T.length;y++)m[w=T[y]]=s(E,s(d,S[w]));return void c.splice(f,1)}if(d!==1)for(y=0;y<T.length;y++){var O=T[y];S[O]=s(d,S[O])}S[g]=1}function s(c,x){var g,d,v="",y="";typeof c=="string"&&(g=(v=c.match(/^[xy]*/)[0]).length,c=+c.substr(g)),typeof x=="string"&&(d=(y=x.match(/^[xy]*/)[0]).length,x=+x.substr(d));var m=c*x;return g||d?g&&d&&v.charAt(0)!==y.charAt(0)?g===d?m:(g>d?v.substr(d):y.substr(g))+m:v+y+c*x:m}function u(c,x){for(var g=x._size,d=g.h/g.w,v={},y=Object.keys(c),m=0;m<y.length;m++){var w=y[m],f=c[w];if(typeof f=="string"){var S=f.match(/^[xy]*/)[0],T=S.length;f=+f.substr(T);for(var E=S.charAt(0)==="y"?d:1/d,O=0;O<T;O++)f*=E}v[w]=f}return v}function p(c,x){var g=c._inputDomain,d=t[c.constraintoward],v=g[0]+(g[1]-g[0])*d;c.domain=c._input.domain=[v+(g[0]-v)/x,v+(g[1]-v)/x],c.setScale()}C.handleDefaults=function(c,x,g){var d,v,y,m,w,f,S,T,E=g.axIds,O=g.axHasImage,P=x._axisConstraintGroups=[],I=x._axisMatchGroups=[];for(d=0;d<E.length;d++)i(w=c[m=a(E[d])],f=x[m],{axIds:E,layoutOut:x,hasImage:O[m]});function z(Q,J){for(d=0;d<Q.length;d++)for(y in v=Q[d])x[a(y)][J]=v}for(z(I,"_matchGroup"),d=0;d<P.length;d++)for(y in v=P[d])if((f=x[a(y)]).fixedrange){for(var j in v){var R=a(j);(c[R]||{}).fixedrange===!1&&M.warn("fixedrange was specified as false for axis "+R+" but was overridden because another axis in its constraint group has fixedrange true"),x[R].fixedrange=!0}break}for(d=0;d<P.length;){for(y in v=P[d]){(f=x[a(y)])._matchGroup&&Object.keys(f._matchGroup).length===Object.keys(v).length&&(P.splice(d,1),d--);break}d++}z(P,"_constraintGroup");var N=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],Z=!1,F=!1;function U(){T=f[S],S==="rangebreaks"&&(F=f._hasDayOfWeekBreaks)}for(d=0;d<I.length;d++){v=I[d];for(var V=0;V<N.length;V++){var te;for(y in S=N[V],T=null,v)if(w=c[m=a(y)],f=x[m],S in f){if(!f.matches&&(te=f,S in w)){U();break}T===null&&S in w&&U()}if(S==="range"&&T&&w.range&&w.range.length===2&&w.range[0]!==null&&w.range[1]!==null&&(Z=!0),S==="autorange"&&T===null&&Z&&(T=!1),T===null&&S in te&&(T=te[S]),T!==null)for(y in v)(f=x[a(y)])[S]=S==="range"?T.slice():T,S==="rangebreaks"&&(f._hasDayOfWeekBreaks=F,h(f,x))}}},C.enforce=function(c){var x,g,d,v,y,m,w,f,S=c._fullLayout,T=S._axisConstraintGroups||[];for(x=0;x<T.length;x++){d=u(T[x],S);var E=Object.keys(d),O=1/0,P=0,I=1/0,z={},j={},R=!1;for(g=0;g<E.length;g++)j[v=E[g]]=y=S[a(v)],y._inputDomain?y.domain=y._inputDomain.slice():y._inputDomain=y.domain.slice(),y._inputRange||(y._inputRange=y.range.slice()),y.setScale(),z[v]=m=Math.abs(y._m)/d[v],O=Math.min(O,m),y.constrain!=="domain"&&y._constraintShrinkable||(I=Math.min(I,m)),delete y._constraintShrinkable,P=Math.max(P,m),y.constrain==="domain"&&(R=!0);if(!(O>o*P)||R){for(g=0;g<E.length;g++)if(m=z[v=E[g]],w=(y=j[v]).constrain,m!==I||w==="domain")if(f=m/I,w==="range")b(y,f);else{var N=y._inputDomain,Z=(y.domain[1]-y.domain[0])/(N[1]-N[0]),F=(y.r2l(y.range[1])-y.r2l(y.range[0]))/(y.r2l(y._inputRange[1])-y.r2l(y._inputRange[0]));if((f/=Z)*F<1){y.domain=y._input.domain=N.slice(),b(y,f);continue}if(F<1&&(y.range=y._input.range=y._inputRange.slice(),f*=F),y.autorange){var U=y.r2l(y.range[0]),V=y.r2l(y.range[1]),te=(U+V)/2,Q=te,J=te,X=Math.abs(V-te),K=te-X*f*1.0001,ee=te+X*f*1.0001,re=k.makePadFn(S,y,0),ie=k.makePadFn(S,y,1);p(y,f);var ae,ue,pe=Math.abs(y._m),de=k.concatExtremes(c,y),ye=de.min,be=de.max;for(ue=0;ue<ye.length;ue++)(ae=ye[ue].val-re(ye[ue])/pe)>K&&ae<Q&&(Q=ae);for(ue=0;ue<be.length;ue++)(ae=be[ue].val+ie(be[ue])/pe)<ee&&ae>J&&(J=ae);f/=(J-Q)/(2*X),Q=y.l2r(Q),J=y.l2r(J),y.range=y._input.range=U<V?[Q,J]:[J,Q]}p(y,f)}}}},C.getAxisGroup=function(c,x){for(var g=c._axisMatchGroups,d=0;d<g.length;d++)if(g[d][x])return"g"+d;return x},C.clean=function(c,x){if(x._inputDomain){for(var g=!1,d=x._id,v=c._fullLayout._axisConstraintGroups,y=0;y<v.length;y++)if(v[y][d]){g=!0;break}g&&x.constrain==="domain"||(x._input.domain=x.domain=x._inputDomain,delete x._inputDomain)}}},29323:function(q,C,e){var M=e(39898),k=e(71828),a=k.numberFormat,_=e(84267),b=e(38520),h=e(73972),o=k.strTranslate,t=e(63893),i=e(7901),n=e(91424),r=e(30211),l=e(89298),s=e(6964),u=e(28569),p=e(64505),c=p.selectingOrDrawing,x=p.freeMode,g=e(18783).FROM_TL,d=e(33306),v=e(61549).redrawReglTraces,y=e(74875),m=e(41675).getFromId,w=e(47322).prepSelect,f=e(47322).clearOutline,S=e(47322).selectOnClick,T=e(42449),E=e(85555),O=E.MINDRAG,P=E.MINZOOM,I=!0;function z(ae,ue,pe,de){var ye=k.ensureSingle(ae.draglayer,ue,pe,function(be){be.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ae.id)});return ye.call(s,de),ye.node()}function j(ae,ue,pe,de,ye,be,me){var Ee=z(ae,"rect",ue,pe);return M.select(Ee).call(n.setRect,de,ye,be,me),Ee}function R(ae,ue){for(var pe=0;pe<ae.length;pe++)if(!ae[pe].fixedrange)return ue;return""}function N(ae,ue,pe,de,ye){for(var be=0;be<ae.length;be++){var me=ae[be];if(!me.fixedrange)if(me.rangebreaks){var Ee=me._id.charAt(0)==="y",Te=Ee?1-ue:ue,we=Ee?1-pe:pe;de[me._name+".range[0]"]=me.l2r(me.p2l(Te*me._length)),de[me._name+".range[1]"]=me.l2r(me.p2l(we*me._length))}else{var oe=me._rl[0],se=me._rl[1]-oe;de[me._name+".range[0]"]=me.l2r(oe+se*ue),de[me._name+".range[1]"]=me.l2r(oe+se*pe)}}if(ye&&ye.length){var he=(ue+(1-pe))/2;N(ye,he,1-he,de,[])}}function Z(ae,ue){for(var pe=0;pe<ae.length;pe++){var de=ae[pe];if(!de.fixedrange){if(de.rangebreaks){var ye=de._length,be=(de.p2l(0+ue)-de.p2l(0)+(de.p2l(ye+ue)-de.p2l(ye)))/2;de.range=[de.l2r(de._rl[0]-be),de.l2r(de._rl[1]-be)]}else de.range=[de.l2r(de._rl[0]-ue/de._m),de.l2r(de._rl[1]-ue/de._m)];de.limitRange&&de.limitRange()}}}function F(ae){return 1-(ae>=0?Math.min(ae,.9):1/(1/Math.max(ae,-.3)+3.222))}function U(ae,ue,pe,de,ye){return ae.append("path").attr("class","zoombox").style({fill:ue>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",o(pe,de)).attr("d",ye+"Z")}function V(ae,ue,pe){return ae.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1,opacity:0}).attr("transform",o(ue,pe)).attr("d","M0,0Z")}function te(ae,ue,pe,de,ye,be){ae.attr("d",de+"M"+pe.l+","+pe.t+"v"+pe.h+"h"+pe.w+"v-"+pe.h+"h-"+pe.w+"Z"),Q(ae,ue,ye,be)}function Q(ae,ue,pe,de){pe||(ae.transition().style("fill",de>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ue.transition().style("opacity",1).duration(200))}function J(ae){M.select(ae).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function X(ae){I&&ae.data&&ae._context.showTips&&(k.notifier(k._(ae,"Double-click to zoom back out"),"long"),I=!1)}function K(ae){var ue=Math.floor(Math.min(ae.b-ae.t,ae.r-ae.l,P)/2);return"M"+(ae.l-3.5)+","+(ae.t-.5+ue)+"h3v"+-ue+"h"+ue+"v-3h-"+(ue+3)+"ZM"+(ae.r+3.5)+","+(ae.t-.5+ue)+"h-3v"+-ue+"h"+-ue+"v-3h"+(ue+3)+"ZM"+(ae.r+3.5)+","+(ae.b+.5-ue)+"h-3v"+ue+"h"+-ue+"v3h"+(ue+3)+"ZM"+(ae.l-3.5)+","+(ae.b+.5-ue)+"h3v"+ue+"h"+ue+"v3h-"+(ue+3)+"Z"}function ee(ae,ue,pe,de,ye){for(var be,me,Ee,Te,we=!1,oe={},se={},he=(ye||{}).xaHash,Se=(ye||{}).yaHash,_e=0;_e<ue.length;_e++){var Ae=ue[_e];for(be in pe)if(Ae[be]){for(Ee in Ae)ye&&(he[Ee]||Se[Ee])||(Ee.charAt(0)==="x"?pe:de)[Ee]||(oe[Ee]=be);for(me in de)ye&&(he[me]||Se[me])||!Ae[me]||(we=!0)}for(me in de)if(Ae[me])for(Te in Ae)ye&&(he[Te]||Se[Te])||(Te.charAt(0)==="x"?pe:de)[Te]||(se[Te]=me)}we&&(k.extendFlat(oe,se),se={});var Ce={},Re=[];for(Ee in oe){var fe=m(ae,Ee);Re.push(fe),Ce[fe._id]=fe}var xe={},ke=[];for(Te in se){var Ie=m(ae,Te);ke.push(Ie),xe[Ie._id]=Ie}return{xaHash:Ce,yaHash:xe,xaxes:Re,yaxes:ke,xLinks:oe,yLinks:se,isSubplotConstrained:we}}function re(ae,ue){if(b){var pe=ae.onwheel!==void 0?"wheel":"mousewheel";ae._onwheel&&ae.removeEventListener(pe,ae._onwheel),ae._onwheel=ue,ae.addEventListener(pe,ue,{passive:!1})}else ae.onwheel!==void 0?ae.onwheel=ue:ae.onmousewheel!==void 0?ae.onmousewheel=ue:ae.isAddedWheelEvent||(ae.isAddedWheelEvent=!0,ae.addEventListener("wheel",ue,{passive:!1}))}function ie(ae){var ue=[];for(var pe in ae)ue.push(ae[pe]);return ue}q.exports={makeDragBox:function(ae,ue,pe,de,ye,be,me,Ee){var Te,we,oe,se,he,Se,_e,Ae,Ce,Re,fe,xe,ke,Ie,Fe,ze,qe,Ye,Qe,ft,ht,mt,Mt,_t=ae._fullLayout._zoomlayer,it=me+Ee==="nsew",st=(me+Ee).length===1;function St(){if(Te=ue.xaxis,we=ue.yaxis,Ce=Te._length,Re=we._length,_e=Te._offset,Ae=we._offset,(oe={})[Te._id]=Te,(se={})[we._id]=we,me&&Ee)for(var Zt=ue.overlays,ln=0;ln<Zt.length;ln++){var nn=Zt[ln].xaxis;oe[nn._id]=nn;var cn=Zt[ln].yaxis;se[cn._id]=cn}he=ie(oe),Se=ie(se),ke=R(he,Ee),Ie=R(Se,me),Fe=!Ie&&!ke,xe=ee(ae,ae._fullLayout._axisMatchGroups,oe,se);var kn=(fe=ee(ae,ae._fullLayout._axisConstraintGroups,oe,se,xe)).isSubplotConstrained||xe.isSubplotConstrained;ze=Ee||kn,qe=me||kn;var An=ae._fullLayout;Ye=An._has("scattergl"),Qe=An._has("splom"),ft=An._has("svg")}pe+=ue.yaxis._shift,St();var zt=function(Zt,ln,nn){return Zt?Zt==="nsew"?nn?"":ln==="pan"?"move":"crosshair":Zt.toLowerCase()+"-resize":"pointer"}(Ie+ke,ae._fullLayout.dragmode,it),Ft=j(ue,me+Ee+"drag",zt,pe,de,ye,be);if(Fe&&!it)return Ft.onmousedown=null,Ft.style.pointerEvents="none",Ft;var Pt,Ze,Je,Ue,Xe,lt,ot,Be,Ne,at,$e={element:Ft,gd:ae,plotinfo:ue};function gt(){$e.plotinfo.selection=!1,f(ae)}function yt(Zt,ln){var nn=$e.gd;if(nn._fullLayout._activeShapeIndex>=0)nn._fullLayout._deactivateShape(nn);else{var cn=nn._fullLayout.clickmode;if(J(nn),Zt!==2||st||Wt(),it)cn.indexOf("select")>-1&&S(ln,nn,he,Se,ue.id,$e),cn.indexOf("event")>-1&&r.click(nn,ln,ue.id);else if(Zt===1&&st){var kn=me?we:Te,An=me==="s"||Ee==="w"?0:1,wn=kn._name+".range["+An+"]",Cn=function(Hn,ar){var fr,rr=Hn.range[ar],Xn=Math.abs(rr-Hn.range[1-ar]);return Hn.type==="date"?rr:Hn.type==="log"?(fr=Math.ceil(Math.max(0,-Math.log(Xn)/Math.LN10))+3,a("."+fr+"g")(Math.pow(10,rr))):(fr=Math.floor(Math.log(Math.abs(rr))/Math.LN10)-Math.floor(Math.log(Xn)/Math.LN10)+4,a("."+String(fr)+"g")(rr))}(kn,An),_n="left",zn="middle";if(kn.fixedrange)return;me?(zn=me==="n"?"top":"bottom",kn.side==="right"&&(_n="right")):Ee==="e"&&(_n="right"),nn._context.showAxisRangeEntryBoxes&&M.select(Ft).call(t.makeEditable,{gd:nn,immediate:!0,background:nn._fullLayout.paper_bgcolor,text:String(Cn),fill:kn.tickfont?kn.tickfont.color:"#444",horizontalAlign:_n,verticalAlign:zn}).on("edit",function(Hn){var ar=kn.d2r(Hn);ar!==void 0&&h.call("_guiRelayout",nn,wn,ar)})}}}function xt(Zt,ln){if(ae._transitioningWithDuration)return!1;var nn=Math.max(0,Math.min(Ce,mt*Zt+Pt)),cn=Math.max(0,Math.min(Re,Mt*ln+Ze)),kn=Math.abs(nn-Pt),An=Math.abs(cn-Ze);function wn(){ot="",Je.r=Je.l,Je.t=Je.b,Ne.attr("d","M0,0Z")}if(Je.l=Math.min(Pt,nn),Je.r=Math.max(Pt,nn),Je.t=Math.min(Ze,cn),Je.b=Math.max(Ze,cn),fe.isSubplotConstrained)kn>P||An>P?(ot="xy",kn/Ce>An/Re?(An=kn*Re/Ce,Ze>cn?Je.t=Ze-An:Je.b=Ze+An):(kn=An*Ce/Re,Pt>nn?Je.l=Pt-kn:Je.r=Pt+kn),Ne.attr("d",K(Je))):wn();else if(xe.isSubplotConstrained)if(kn>P||An>P){ot="xy";var Cn=Math.min(Je.l/Ce,(Re-Je.b)/Re),_n=Math.max(Je.r/Ce,(Re-Je.t)/Re);Je.l=Cn*Ce,Je.r=_n*Ce,Je.b=(1-Cn)*Re,Je.t=(1-_n)*Re,Ne.attr("d",K(Je))}else wn();else!Ie||An<Math.min(Math.max(.6*kn,O),P)?kn<O||!ke?wn():(Je.t=0,Je.b=Re,ot="x",Ne.attr("d",function(zn,Hn){return"M"+(zn.l-.5)+","+(Hn-P-.5)+"h-3v"+(2*P+1)+"h3ZM"+(zn.r+.5)+","+(Hn-P-.5)+"h3v"+(2*P+1)+"h-3Z"}(Je,Ze))):!ke||kn<Math.min(.6*An,P)?(Je.l=0,Je.r=Ce,ot="y",Ne.attr("d",function(zn,Hn){return"M"+(Hn-P-.5)+","+(zn.t-.5)+"v-3h"+(2*P+1)+"v3ZM"+(Hn-P-.5)+","+(zn.b+.5)+"v3h"+(2*P+1)+"v-3Z"}(Je,Pt))):(ot="xy",Ne.attr("d",K(Je)));Je.w=Je.r-Je.l,Je.h=Je.b-Je.t,ot&&(at=!0),ae._dragged=at,te(Be,Ne,Je,Xe,lt,Ue),dt(),ae.emit("plotly_relayouting",ht),lt=!0}function dt(){ht={},ot!=="xy"&&ot!=="x"||(N(he,Je.l/Ce,Je.r/Ce,ht,fe.xaxes),Xt("x",ht)),ot!=="xy"&&ot!=="y"||(N(Se,(Re-Je.b)/Re,(Re-Je.t)/Re,ht,fe.yaxes),Xt("y",ht))}function Lt(){dt(),J(ae),Vt(),X(ae)}$e.prepFn=function(Zt,ln,nn){var cn=$e.dragmode,kn=ae._fullLayout.dragmode;kn!==cn&&($e.dragmode=kn),St(),mt=ae._fullLayout._invScaleX,Mt=ae._fullLayout._invScaleY,Fe||(it?Zt.shiftKey?kn==="pan"?kn="zoom":c(kn)||(kn="pan"):Zt.ctrlKey&&(kn="pan"):kn="pan"),x(kn)?$e.minDrag=1:$e.minDrag=void 0,c(kn)?($e.xaxes=he,$e.yaxes=Se,w(Zt,ln,nn,$e,kn)):($e.clickFn=yt,c(cn)&&gt(),Fe||(kn==="zoom"?($e.moveFn=xt,$e.doneFn=Lt,$e.minDrag=1,function(An,wn,Cn){var _n=Ft.getBoundingClientRect();Pt=wn-_n.left,Ze=Cn-_n.top,ae._fullLayout._calcInverseTransform(ae);var zn=k.apply3DTransform(ae._fullLayout._invTransform)(Pt,Ze);Pt=zn[0],Ze=zn[1],Je={l:Pt,r:Pt,w:0,t:Ze,b:Ze,h:0},Ue=ae._hmpixcount?ae._hmlumcount/ae._hmpixcount:_(ae._fullLayout.plot_bgcolor).getLuminance(),lt=!1,ot="xy",at=!1,Be=U(_t,Ue,_e,Ae,Xe="M0,0H"+Ce+"V"+Re+"H0V0"),Ne=V(_t,_e,Ae)}(0,ln,nn)):kn==="pan"&&($e.moveFn=Bt,$e.doneFn=Vt))),ae._fullLayout._redrag=function(){var An=ae._dragdata;if(An&&An.element===Ft){var wn=ae._fullLayout.dragmode;c(wn)||(St(),on([0,0,Ce,Re]),$e.moveFn(An.dx,An.dy))}}},u.init($e);var Tt=[0,0,Ce,Re],bt=null,Ct=E.REDRAWDELAY,Dt=ue.mainplot?ae._fullLayout._plots[ue.mainplot]:ue;function Bt(Zt,ln){if(Zt*=mt,ln*=Mt,!ae._transitioningWithDuration){if(ae._fullLayout._replotting=!0,ke==="ew"||Ie==="ns"){var nn=ke?-Zt:0,cn=Ie?-ln:0;if(xe.isSubplotConstrained){if(ke&&Ie){var kn=(Zt/Ce-ln/Re)/2;nn=-(Zt=kn*Ce),cn=-(ln=-kn*Re)}Ie?nn=-cn*Ce/Re:cn=-nn*Re/Ce}return ke&&(Z(he,Zt),Xt("x")),Ie&&(Z(Se,ln),Xt("y")),on([nn,cn,Ce,Re]),an(),void ae.emit("plotly_relayouting",ht)}var An,wn,Cn=ke==="w"==(Ie==="n")?1:-1;if(ke&&Ie&&(fe.isSubplotConstrained||xe.isSubplotConstrained)){var _n=(Zt/Ce+Cn*ln/Re)/2;Zt=_n*Ce,ln=Cn*_n*Re}if(ke==="w"?Zt=fr(he,0,Zt):ke==="e"?Zt=fr(he,1,-Zt):ke||(Zt=0),Ie==="n"?ln=fr(Se,1,ln):Ie==="s"?ln=fr(Se,0,-ln):Ie||(ln=0),An=ke==="w"?Zt:0,wn=Ie==="n"?ln:0,fe.isSubplotConstrained&&!xe.isSubplotConstrained||xe.isSubplotConstrained&&ke&&Ie&&Cn>0){var zn;if(xe.isSubplotConstrained||!ke&&Ie.length===1){for(zn=0;zn<he.length;zn++)he[zn].range=he[zn]._r.slice(),T(he[zn],1-ln/Re);An=(Zt=ln*Ce/Re)/2}if(xe.isSubplotConstrained||!Ie&&ke.length===1){for(zn=0;zn<Se.length;zn++)Se[zn].range=Se[zn]._r.slice(),T(Se[zn],1-Zt/Ce);wn=(ln=Zt*Re/Ce)/2}}xe.isSubplotConstrained&&Ie||Xt("x"),xe.isSubplotConstrained&&ke||Xt("y");var Hn=Ce-Zt,ar=Re-ln;!xe.isSubplotConstrained||ke&&Ie||(ke?(wn=An?0:Zt*Re/Ce,ar=Hn*Re/Ce):(An=wn?0:ln*Ce/Re,Hn=ar*Ce/Re)),on([An,wn,Hn,ar]),an(),ae.emit("plotly_relayouting",ht)}function fr(rr,Xn,gr){for(var Gt,tn,dn=1-Xn,vn=0;vn<rr.length;vn++){var On=rr[vn];if(!On.fixedrange){Gt=On,tn=On._rl[dn]+(On._rl[Xn]-On._rl[dn])/F(gr/On._length);var Vn=On.l2r(tn);Vn!==!1&&Vn!==void 0&&(On.range[Xn]=Vn)}}return Gt._length*(Gt._rl[Xn]-tn)/(Gt._rl[Xn]-Gt._rl[dn])}}function Xt(Zt,ln){for(var nn=xe.isSubplotConstrained?{x:Se,y:he}[Zt]:xe[Zt+"axes"],cn=xe.isSubplotConstrained?{x:he,y:Se}[Zt]:[],kn=0;kn<nn.length;kn++){var An=nn[kn],wn=An._id,Cn=xe.xLinks[wn]||xe.yLinks[wn],_n=cn[0]||oe[Cn]||se[Cn];_n&&(ln?(ln[An._name+".range[0]"]=ln[_n._name+".range[0]"],ln[An._name+".range[1]"]=ln[_n._name+".range[1]"]):An.range=_n.range.slice())}}function an(){var Zt,ln=[];function nn(wn){for(Zt=0;Zt<wn.length;Zt++)wn[Zt].fixedrange||ln.push(wn[Zt]._id)}function cn(wn,Cn){for(Zt=0;Zt<wn.length;Zt++){var _n=wn[Zt],zn=_n[Cn];_n.fixedrange||zn.tickmode!=="sync"||ln.push(zn._id)}}for(ze&&(nn(he),nn(fe.xaxes),nn(xe.xaxes),cn(ue.overlays,"xaxis")),qe&&(nn(Se),nn(fe.yaxes),nn(xe.yaxes),cn(ue.overlays,"yaxis")),ht={},Zt=0;Zt<ln.length;Zt++){var kn=ln[Zt],An=m(ae,kn);l.drawOne(ae,An,{skipTitle:!0}),ht[An._name+".range[0]"]=An.range[0],ht[An._name+".range[1]"]=An.range[1]}l.redrawComponents(ae,ln)}function Wt(){if(!ae._transitioningWithDuration){var Zt=ae._context.doubleClick,ln=[];ke&&(ln=ln.concat(he)),Ie&&(ln=ln.concat(Se)),xe.xaxes&&(ln=ln.concat(xe.xaxes)),xe.yaxes&&(ln=ln.concat(xe.yaxes));var nn,cn,kn={};if(Zt==="reset+autosize")for(Zt="autosize",cn=0;cn<ln.length;cn++){var An=(nn=ln[cn])._rangeInitial0,wn=nn._rangeInitial1,Cn=An!==void 0||wn!==void 0;if(Cn&&(An!==void 0&&An!==nn.range[0]||wn!==void 0&&wn!==nn.range[1])||!Cn&&nn.autorange!==!0){Zt="reset";break}}if(Zt==="autosize")for(cn=0;cn<ln.length;cn++)(nn=ln[cn]).fixedrange||(kn[nn._name+".autorange"]=!0);else if(Zt==="reset"){for((ke||fe.isSubplotConstrained)&&(ln=ln.concat(fe.xaxes)),Ie&&!fe.isSubplotConstrained&&(ln=ln.concat(fe.yaxes)),fe.isSubplotConstrained&&(ke?Ie||(ln=ln.concat(Se)):ln=ln.concat(he)),cn=0;cn<ln.length;cn++)if(!(nn=ln[cn]).fixedrange){var _n=nn._name,zn=nn._autorangeInitial;nn._rangeInitial0===void 0&&nn._rangeInitial1===void 0?kn[_n+".autorange"]=!0:nn._rangeInitial0===void 0?(kn[_n+".autorange"]=zn,kn[_n+".range"]=[null,nn._rangeInitial1]):nn._rangeInitial1===void 0?(kn[_n+".range"]=[nn._rangeInitial0,null],kn[_n+".autorange"]=zn):kn[_n+".range"]=[nn._rangeInitial0,nn._rangeInitial1]}}ae.emit("plotly_doubleclick",null),h.call("_guiRelayout",ae,kn)}}function Vt(){on([0,0,Ce,Re]),k.syncOrAsync([y.previousPromises,function(){ae._fullLayout._replotting=!1,h.call("_guiRelayout",ae,ht)}],ae)}function on(Zt){var ln,nn,cn,kn,An=ae._fullLayout,wn=An._plots,Cn=An._subplots.cartesian;if(Qe&&h.subplotsRegistry.splom.drag(ae),Ye){for(ln=0;ln<Cn.length;ln++)if(cn=(nn=wn[Cn[ln]]).xaxis,kn=nn.yaxis,nn._scene){var _n=k.simpleMap(cn.range,cn.r2l),zn=k.simpleMap(kn.range,kn.r2l);cn.limitRange&&cn.limitRange(),kn.limitRange&&kn.limitRange(),_n=cn.range,zn=kn.range,nn._scene.update({range:[_n[0],zn[0],_n[1],zn[1]]})}}if((Qe||Ye)&&(d(ae),v(ae)),ft){var Hn=Zt[2]/Te._length,ar=Zt[3]/we._length;for(ln=0;ln<Cn.length;ln++){cn=(nn=wn[Cn[ln]]).xaxis,kn=nn.yaxis;var fr,rr,Xn,gr,Gt=(ze||xe.isSubplotConstrained)&&!cn.fixedrange&&oe[cn._id],tn=(qe||xe.isSubplotConstrained)&&!kn.fixedrange&&se[kn._id];if(Gt?(fr=Hn,Xn=Ee||xe.isSubplotConstrained?Zt[0]:fn(cn,fr)):xe.xaHash[cn._id]?(fr=Hn,Xn=Zt[0]*cn._length/Te._length):xe.yaHash[cn._id]?(fr=ar,Xn=Ie==="ns"?-Zt[1]*cn._length/we._length:fn(cn,fr,{n:"top",s:"bottom"}[Ie])):Xn=Ln(cn,fr=Sn(cn,Hn,ar)),fr>1&&(cn.maxallowed!==void 0&&ze===(cn.range[0]<cn.range[1]?"e":"w")||cn.minallowed!==void 0&&ze===(cn.range[0]<cn.range[1]?"w":"e"))&&(fr=1,Xn=0),tn?(rr=ar,gr=me||xe.isSubplotConstrained?Zt[1]:fn(kn,rr)):xe.yaHash[kn._id]?(rr=ar,gr=Zt[1]*kn._length/we._length):xe.xaHash[kn._id]?(rr=Hn,gr=ke==="ew"?-Zt[0]*kn._length/Te._length:fn(kn,rr,{e:"right",w:"left"}[ke])):gr=Ln(kn,rr=Sn(kn,Hn,ar)),rr>1&&(kn.maxallowed!==void 0&&qe===(kn.range[0]<kn.range[1]?"n":"s")||kn.minallowed!==void 0&&qe===(kn.range[0]<kn.range[1]?"s":"n"))&&(rr=1,gr=0),fr||rr){fr||(fr=1),rr||(rr=1);var dn=cn._offset-Xn/fr,vn=kn._offset-gr/rr;nn.clipRect.call(n.setTranslate,Xn,gr).call(n.setScale,fr,rr),nn.plot.call(n.setTranslate,dn,vn).call(n.setScale,1/fr,1/rr),fr===nn.xScaleFactor&&rr===nn.yScaleFactor||(n.setPointGroupScale(nn.zoomScalePts,fr,rr),n.setTextPointsScale(nn.zoomScaleTxt,fr,rr)),n.hideOutsideRangePoints(nn.clipOnAxisFalseTraces,nn),nn.xScaleFactor=fr,nn.yScaleFactor=rr}}}}function Sn(Zt,ln,nn){return Zt.fixedrange?0:ze&&fe.xaHash[Zt._id]?ln:qe&&(fe.isSubplotConstrained?fe.xaHash:fe.yaHash)[Zt._id]?nn:0}function Ln(Zt,ln){return ln?(Zt.range=Zt._r.slice(),T(Zt,ln),fn(Zt,ln)):0}function fn(Zt,ln,nn){return Zt._length*(1-ln)*g[nn||Zt.constraintoward||"middle"]}return me.length*Ee.length!=1&&re(Ft,function(Zt){if(ae._context._scrollZoom.cartesian||ae._fullLayout._enablescrollzoom){if(gt(),ae._transitioningWithDuration)return Zt.preventDefault(),void Zt.stopPropagation();St(),clearTimeout(bt);var ln=-Zt.deltaY;if(isFinite(ln)||(ln=Zt.wheelDelta/10),isFinite(ln)){var nn,cn=Math.exp(-Math.min(Math.max(ln,-20),20)/200),kn=Dt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),An=(Zt.clientX-kn.left)/kn.width,wn=(kn.bottom-Zt.clientY)/kn.height;if(ze){for(Ee||(An=.5),nn=0;nn<he.length;nn++)Cn(he[nn],An,cn);Xt("x"),Tt[2]*=cn,Tt[0]+=Tt[2]*An*(1/cn-1)}if(qe){for(me||(wn=.5),nn=0;nn<Se.length;nn++)Cn(Se[nn],wn,cn);Xt("y"),Tt[3]*=cn,Tt[1]+=Tt[3]*(1-wn)*(1/cn-1)}on(Tt),an(),ae.emit("plotly_relayouting",ht),bt=setTimeout(function(){ae._fullLayout&&(Tt=[0,0,Ce,Re],Vt())},Ct),Zt.preventDefault()}else k.log("Did not find wheel motion attributes: ",Zt)}function Cn(_n,zn,Hn){if(!_n.fixedrange){var ar=k.simpleMap(_n.range,_n.r2l),fr=ar[0]+(ar[1]-ar[0])*zn;_n.range=ar.map(function(rr){return _n.l2r(fr+(rr-fr)*Hn)})}}}),Ft},makeDragger:z,makeRectDragger:j,makeZoombox:U,makeCorners:V,updateZoombox:te,xyCorners:K,transitionZoombox:Q,removeZoombox:J,showDoubleClickNotifier:X,attachWheelEventHandler:re}},4305:function(q,C,e){var M=e(39898),k=e(30211),a=e(28569),_=e(6964),b=e(29323).makeDragBox,h=e(85555).DRAGGERSIZE;C.initInteractions=function(o){var t=o._fullLayout;if(o._context.staticPlot)M.select(o).selectAll(".drag").remove();else if(t._has("cartesian")||t._has("splom")){Object.keys(t._plots||{}).sort(function(n,r){if((t._plots[n].mainplot&&!0)===(t._plots[r].mainplot&&!0)){var l=n.split("y"),s=r.split("y");return l[0]===s[0]?Number(l[1]||1)-Number(s[1]||1):Number(l[0]||1)-Number(s[0]||1)}return t._plots[n].mainplot?1:-1}).forEach(function(n){var r=t._plots[n],l=r.xaxis,s=r.yaxis;if(!r.mainplot){var u=b(o,r,l._offset,s._offset,l._length,s._length,"ns","ew");u.onmousemove=function(x){o._fullLayout._rehover=function(){o._fullLayout._hoversubplot===n&&o._fullLayout._plots[n]&&k.hover(o,x,n)},k.hover(o,x,n),o._fullLayout._lasthover=u,o._fullLayout._hoversubplot=n},u.onmouseout=function(x){o._dragging||(o._fullLayout._hoversubplot=null,a.unhover(o,x))},o._context.showAxisDragHandles&&(b(o,r,l._offset-h,s._offset-h,h,h,"n","w"),b(o,r,l._offset+l._length,s._offset-h,h,h,"n","e"),b(o,r,l._offset-h,s._offset+s._length,h,h,"s","w"),b(o,r,l._offset+l._length,s._offset+s._length,h,h,"s","e"))}if(o._context.showAxisDragHandles){if(n===l._mainSubplot){var p=l._mainLinePosition;l.side==="top"&&(p-=h),b(o,r,l._offset+.1*l._length,p,.8*l._length,h,"","ew"),b(o,r,l._offset,p,.1*l._length,h,"","w"),b(o,r,l._offset+.9*l._length,p,.1*l._length,h,"","e")}if(n===s._mainSubplot){var c=s._mainLinePosition;s.side!=="right"&&(c-=h),b(o,r,c,s._offset+.1*s._length,h,.8*s._length,"ns",""),b(o,r,c,s._offset+.9*s._length,h,.1*s._length,"s",""),b(o,r,c,s._offset,h,.1*s._length,"n","")}}});var i=t._hoverlayer.node();i.onmousemove=function(n){n.target=o._fullLayout._lasthover,k.hover(o,n,t._hoversubplot)},i.onclick=function(n){n.target=o._fullLayout._lasthover,k.click(o,n)},i.onmousedown=function(n){o._fullLayout._lasthover.onmousedown(n)},C.updateFx(o)}},C.updateFx=function(o){var t=o._fullLayout,i=t.dragmode==="pan"?"move":"crosshair";_(t._draggers,i)}},76325:function(q,C,e){var M=e(73972),k=e(71828),a=e(41675);q.exports=function(_){return function(b,h){var o=b[_];if(Array.isArray(o))for(var t=M.subplotsRegistry.cartesian,i=t.idRegex,n=h._subplots,r=n.xaxis,l=n.yaxis,s=n.cartesian,u=h._has("cartesian")||h._has("gl2d"),p=0;p<o.length;p++){var c=o[p];if(k.isPlainObject(c)){var x=a.cleanId(c.xref,"x",!1),g=a.cleanId(c.yref,"y",!1),d=i.x.test(x),v=i.y.test(g);if(d||v){u||k.pushUnique(h._basePlotModules,t);var y=!1;d&&r.indexOf(x)===-1&&(r.push(x),y=!0),v&&l.indexOf(g)===-1&&(l.push(g),y=!0),y&&d&&v&&s.push(x+g)}}}}}},93612:function(q,C,e){var M=e(39898),k=e(73972),a=e(71828),_=e(74875),b=e(91424),h=e(27659).a0,o=e(41675),t=e(85555),i=e(77922),n=a.ensureSingle;function r(c,x,g){return a.ensureSingle(c,x,g,function(d){d.datum(g)})}function l(c,x,g,d,v){for(var y,m,w,f=t.traceLayerClasses,S=c._fullLayout,T=S._modules,E=[],O=[],P=0;P<T.length;P++){var I=(y=T[P]).name,z=k.modules[I].categories;if(z.svg){var j=y.layerName||I+"layer",R=y.plot;w=(m=h(g,R))[0],g=m[1],w.length&&E.push({i:f.indexOf(j),className:j,plotMethod:R,cdModule:w}),z.zoomScale&&O.push("."+j)}}E.sort(function(F,U){return F.i-U.i});var N=x.plot.selectAll("g.mlayer").data(E,function(F){return F.className});if(N.enter().append("g").attr("class",function(F){return F.className}).classed("mlayer",!0).classed("rangeplot",x.isRangePlot),N.exit().remove(),N.order(),N.each(function(F){var U=M.select(this),V=F.className;F.plotMethod(c,x,F.cdModule,U,d,v),t.clipOnAxisFalseQuery.indexOf("."+V)===-1&&b.setClipUrl(U,x.layerClipId,c)}),S._has("scattergl")&&(y=k.getModule("scattergl"),w=h(g,y)[0],y.plot(c,x,w)),!c._context.staticPlot&&(x._hasClipOnAxisFalse&&(x.clipOnAxisFalseTraces=x.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),O.length)){var Z=x.plot.selectAll(O.join(",")).selectAll(".trace");x.zoomScalePts=Z.selectAll("path.point"),x.zoomScaleTxt=Z.selectAll(".textpoint")}}function s(c,x){var g=x.plotgroup,d=x.id,v=t.layerValue2layerClass[x.xaxis.layer],y=t.layerValue2layerClass[x.yaxis.layer],m=c._fullLayout._hasOnlyLargeSploms;if(x.mainplot){var w=x.mainplotinfo,f=w.plotgroup,S=d+"-x",T=d+"-y";x.minorGridlayer=w.minorGridlayer,x.gridlayer=w.gridlayer,x.zerolinelayer=w.zerolinelayer,n(w.overlinesBelow,"path",S),n(w.overlinesBelow,"path",T),n(w.overaxesBelow,"g",S),n(w.overaxesBelow,"g",T),x.plot=n(w.overplot,"g",d),n(w.overlinesAbove,"path",S),n(w.overlinesAbove,"path",T),n(w.overaxesAbove,"g",S),n(w.overaxesAbove,"g",T),x.xlines=f.select(".overlines-"+v).select("."+S),x.ylines=f.select(".overlines-"+y).select("."+T),x.xaxislayer=f.select(".overaxes-"+v).select("."+S),x.yaxislayer=f.select(".overaxes-"+y).select("."+T)}else if(m)x.xlines=n(g,"path","xlines-above"),x.ylines=n(g,"path","ylines-above"),x.xaxislayer=n(g,"g","xaxislayer-above"),x.yaxislayer=n(g,"g","yaxislayer-above");else{var E=n(g,"g","layer-subplot");x.shapelayer=n(E,"g","shapelayer"),x.imagelayer=n(E,"g","imagelayer"),x.minorGridlayer=n(g,"g","minor-gridlayer"),x.gridlayer=n(g,"g","gridlayer"),x.zerolinelayer=n(g,"g","zerolinelayer"),n(g,"path","xlines-below"),n(g,"path","ylines-below"),x.overlinesBelow=n(g,"g","overlines-below"),n(g,"g","xaxislayer-below"),n(g,"g","yaxislayer-below"),x.overaxesBelow=n(g,"g","overaxes-below"),x.plot=n(g,"g","plot"),x.overplot=n(g,"g","overplot"),x.xlines=n(g,"path","xlines-above"),x.ylines=n(g,"path","ylines-above"),x.overlinesAbove=n(g,"g","overlines-above"),n(g,"g","xaxislayer-above"),n(g,"g","yaxislayer-above"),x.overaxesAbove=n(g,"g","overaxes-above"),x.xlines=g.select(".xlines-"+v),x.ylines=g.select(".ylines-"+y),x.xaxislayer=g.select(".xaxislayer-"+v),x.yaxislayer=g.select(".yaxislayer-"+y)}m||(r(x.minorGridlayer,"g",x.xaxis._id),r(x.minorGridlayer,"g",x.yaxis._id),x.minorGridlayer.selectAll("g").map(function(O){return O[0]}).sort(o.idSort),r(x.gridlayer,"g",x.xaxis._id),r(x.gridlayer,"g",x.yaxis._id),x.gridlayer.selectAll("g").map(function(O){return O[0]}).sort(o.idSort)),x.xlines.style("fill","none").classed("crisp",!0),x.ylines.style("fill","none").classed("crisp",!0)}function u(c,x){if(c){var g={};for(var d in c.each(function(w){var f=w[0];M.select(this).remove(),p(f,x),g[f]=!0}),x._plots)for(var v=x._plots[d].overlays||[],y=0;y<v.length;y++){var m=v[y];g[m.id]&&m.plot.selectAll(".trace").remove()}}}function p(c,x){x._draggers.selectAll("g."+c).remove(),x._defs.select("#clip"+x._uid+c+"plot").remove()}C.name="cartesian",C.attr=["xaxis","yaxis"],C.idRoot=["x","y"],C.idRegex=t.idRegex,C.attrRegex=t.attrRegex,C.attributes=e(89502),C.layoutAttributes=e(13838),C.supplyLayoutDefaults=e(86763),C.transitionAxes=e(66847),C.finalizeSubplots=function(c,x){var g,d,v,y=x._subplots,m=y.xaxis,w=y.yaxis,f=y.cartesian,S=f.concat(y.gl2d||[]),T={},E={};for(g=0;g<S.length;g++){var O=S[g].split("y");T[O[0]]=1,E["y"+O[1]]=1}for(g=0;g<m.length;g++)T[d=m[g]]||(v=(c[o.id2name(d)]||{}).anchor,t.idRegex.y.test(v)||(v="y"),f.push(d+v),S.push(d+v),E[v]||(E[v]=1,a.pushUnique(w,v)));for(g=0;g<w.length;g++)E[v=w[g]]||(d=(c[o.id2name(v)]||{}).anchor,t.idRegex.x.test(d)||(d="x"),f.push(d+v),S.push(d+v),T[d]||(T[d]=1,a.pushUnique(m,d)));if(!S.length){for(var P in d="",v="",c)t.attrRegex.test(P)&&(P.charAt(0)==="x"?(!d||+P.substr(5)<+d.substr(5))&&(d=P):(!v||+P.substr(5)<+v.substr(5))&&(v=P));d=d?o.name2id(d):"x",v=v?o.name2id(v):"y",m.push(d),w.push(v),f.push(d+v)}},C.plot=function(c,x,g,d){var v,y=c._fullLayout,m=y._subplots.cartesian,w=c.calcdata;if(!Array.isArray(x))for(x=[],v=0;v<w.length;v++)x.push(v);for(v=0;v<m.length;v++){for(var f,S=m[v],T=y._plots[S],E=[],O=0;O<w.length;O++){var P=w[O],I=P[0].trace;I.xaxis+I.yaxis===S&&((x.indexOf(I.index)!==-1||I.carpet)&&(f&&f[0].trace.xaxis+f[0].trace.yaxis===S&&["tonextx","tonexty","tonext"].indexOf(I.fill)!==-1&&E.indexOf(f)===-1&&E.push(f),E.push(P)),f=P)}l(c,T,E,g,d)}},C.clean=function(c,x,g,d){var v,y,m,w=d._plots||{},f=x._plots||{},S=d._subplots||{};if(d._hasOnlyLargeSploms&&!x._hasOnlyLargeSploms)for(m in w)(v=w[m]).plotgroup&&v.plotgroup.remove();var T=d._has&&d._has("gl"),E=x._has&&x._has("gl");if(T&&!E)for(m in w)(v=w[m])._scene&&v._scene.destroy();if(S.xaxis&&S.yaxis){var O=o.listIds({_fullLayout:d});for(y=0;y<O.length;y++){var P=O[y];x[o.id2name(P)]||d._infolayer.selectAll(".g-"+P+"title").remove()}}var I=d._has&&d._has("cartesian"),z=x._has&&x._has("cartesian");if(I&&!z)u(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(S.cartesian)for(y=0;y<S.cartesian.length;y++){var j=S.cartesian[y];if(!f[j]){var R="."+j+",."+j+"-x,."+j+"-y";d._cartesianlayer.selectAll(R).remove(),p(j,d)}}},C.drawFramework=function(c){var x=c._fullLayout,g=function(v){var y,m,w,f,S,T,E=v._fullLayout,O=E._subplots.cartesian,P=O.length,I=[],z=[];for(y=0;y<P;y++){w=O[y],S=(f=E._plots[w]).xaxis,T=f.yaxis;var j=S._mainAxis,R=T._mainAxis,N=j._id+R._id,Z=E._plots[N];f.overlays=[],N!==w&&Z?(f.mainplot=N,f.mainplotinfo=Z,z.push(w)):(f.mainplot=void 0,f.mainplotinfo=void 0,I.push(w))}for(y=0;y<z.length;y++)w=z[y],(f=E._plots[w]).mainplotinfo.overlays.push(f);var F=I.concat(z),U=new Array(P);for(y=0;y<P;y++){w=F[y],S=(f=E._plots[w]).xaxis,T=f.yaxis;var V=[w,S.layer,T.layer,S.overlaying||"",T.overlaying||""];for(m=0;m<f.overlays.length;m++)V.push(f.overlays[m].id);U[y]=V}return U}(c),d=x._cartesianlayer.selectAll(".subplot").data(g,String);d.enter().append("g").attr("class",function(v){return"subplot "+v[0]}),d.order(),d.exit().call(u,x),d.each(function(v){var y=v[0],m=x._plots[y];m.plotgroup=M.select(this),s(c,m),m.draglayer=n(x._draggers,"g",y)})},C.rangePlot=function(c,x,g){s(c,x),l(c,x,g),_.style(c)},C.toSVG=function(c){var x=c._fullLayout._glimages,g=M.select(c).selectAll(".svg-container");g.filter(function(d,v){return v===g.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var d=this,v=d.toDataURL("image/png");x.append("svg:image").attr({xmlns:i.svg,"xlink:href":v,preserveAspectRatio:"none",x:0,y:0,width:d.style.width,height:d.style.height})})},C.updateFx=e(4305).updateFx},13838:function(q,C,e){var M=e(41940),k=e(22399),a=e(79952).P,_=e(1426).extendFlat,b=e(44467).templatedArray,h=e(12663).descriptionWithDates,o=e(50606).ONEDAY,t=e(85555),i=t.HOUR_PATTERN,n=t.WEEKDAY_PATTERN,r={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},l=_({},r,{values:r.values.slice().concat(["sync"])});function s(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},p={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},c={valType:"data_array",editType:"ticks"},x={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function g(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=5),T}function d(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=1),T}var v={valType:"color",dflt:k.defaultLine,editType:"ticks"},y={valType:"color",dflt:k.lightLine,editType:"ticks"};function m(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=1),T}var w=_({},a,{editType:"ticks"}),f={valType:"boolean",editType:"ticks"};q.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:k.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:M({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:b("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[n,i,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:o},editType:"calc"}),tickmode:l,nticks:s(),tick0:u,dtick:p,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:c,ticktext:{valType:"data_array",editType:"ticks"},ticks:x,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:g(),tickwidth:d(),tickcolor:v,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:_({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:M({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:h("tick label")},tickformatstops:b("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:h("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:k.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:f,gridcolor:y,gridwidth:m(),griddash:w,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:k.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:k.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:r,nticks:s("minor"),tick0:u,dtick:p,tickvals:c,ticks:x,ticklen:g("minor"),tickwidth:d("minor"),tickcolor:v,gridcolor:y,gridwidth:m("minor"),griddash:w,showgrid:f,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:M({editType:"ticks"})}}},86763:function(q,C,e){var M=e(71828),k=e(7901),a=e(23469).isUnifiedHover,_=e(98212),b=e(44467),h=e(10820),o=e(13838),t=e(951),i=e(71453),n=e(99082),r=e(52830),l=e(41675),s=l.id2name,u=l.name2id,p=e(85555).AX_ID_PATTERN,c=e(73972),x=c.traceIs,g=c.getComponentMethod;function d(v,y,m){Array.isArray(v[y])?v[y].push(m):v[y]=[m]}q.exports=function(v,y,m){var w,f,S=y.autotypenumbers,T={},E={},O={},P={},I={},z={},j={},R={},N={},Z={};for(w=0;w<m.length;w++){var F=m[w];if(x(F,"cartesian")||x(F,"gl2d")){var U,V;if(F.xaxis)U=s(F.xaxis),d(T,U,F);else if(F.xaxes)for(f=0;f<F.xaxes.length;f++)d(T,s(F.xaxes[f]),F);if(F.yaxis)V=s(F.yaxis),d(T,V,F);else if(F.yaxes)for(f=0;f<F.yaxes.length;f++)d(T,s(F.yaxes[f]),F);F.type==="funnel"?F.orientation==="h"?(U&&(E[U]=!0),V&&(j[V]=!0)):V&&(O[V]=!0):F.type==="image"?(V&&(R[V]=!0),U&&(R[U]=!0)):(V&&(I[V]=!0,z[V]=!0),x(F,"carpet")&&(F.type!=="carpet"||F._cheater)||U&&(P[U]=!0)),F.type==="carpet"&&F._cheater&&U&&(E[U]=!0),x(F,"2dMap")&&(N[U]=!0,N[V]=!0),x(F,"oriented")&&(Z[F.orientation==="h"?V:U]=!0)}}var te=y._subplots,Q=te.xaxis,J=te.yaxis,X=M.simpleMap(Q,s),K=M.simpleMap(J,s),ee=X.concat(K),re=k.background;Q.length&&J.length&&(re=M.coerce(v,y,h,"plot_bgcolor"));var ie,ae,ue,pe,de,ye=k.combine(re,y.paper_bgcolor);function be(){var st=T[ie]||[];de._traceIndices=st.map(function(St){return St._expandedIndex}),de._annIndices=[],de._shapeIndices=[],de._selectionIndices=[],de._imgIndices=[],de._subplotsWith=[],de._counterAxes=[],de._name=de._attr=ie,de._id=ae}function me(st,St){return M.coerce(pe,de,o,st,St)}function Ee(st,St){return M.coerce2(pe,de,o,st,St)}function Te(st){return st==="x"?J:Q}function we(st,St){for(var zt=st==="x"?X:K,Ft=[],Pt=0;Pt<zt.length;Pt++){var Ze=zt[Pt];Ze===St||(v[Ze]||{}).overlaying||Ft.push(u(Ze))}return Ft}var oe={x:Te("x"),y:Te("y")},se=oe.x.concat(oe.y),he={},Se=[];function _e(){var st=pe.matches;p.test(st)&&se.indexOf(st)===-1&&(he[st]=pe.type,Se=Object.keys(he))}var Ae=_(v,y),Ce=a(Ae);for(w=0;w<ee.length;w++){ie=ee[w],ae=u(ie),ue=ie.charAt(0),M.isPlainObject(v[ie])||(v[ie]={}),pe=v[ie],de=b.newContainer(y,ie,ue+"axis"),be();var Re=ue==="x"&&!P[ie]&&E[ie]||ue==="y"&&!I[ie]&&O[ie],fe=ue==="y"&&(!z[ie]&&j[ie]||R[ie]),xe={hasMinor:!0,letter:ue,font:y.font,outerTicks:N[ie],showGrid:!Z[ie],data:T[ie]||[],bgColor:ye,calendar:y.calendar,automargin:!0,visibleDflt:Re,reverseDflt:fe,autotypenumbersDflt:S,splomStash:((y._splomAxes||{})[ue]||{})[ae]};me("uirevision",y.uirevision),t(pe,de,me,xe),i(pe,de,me,xe,y);var ke=Ce&&ue===Ae.charAt(0),Ie=Ee("spikecolor",Ce?de.color:void 0),Fe=Ee("spikethickness",Ce?1.5:void 0),ze=Ee("spikedash",Ce?"dot":void 0),qe=Ee("spikemode",Ce?"across":void 0),Ye=Ee("spikesnap");me("showspikes",!!(ke||Ie||Fe||ze||qe||Ye))||(delete de.spikecolor,delete de.spikethickness,delete de.spikedash,delete de.spikemode,delete de.spikesnap);var Qe=s(pe.overlaying),ft=[0,1];if(y[Qe]!==void 0){var ht=s(y[Qe].anchor);y[ht]!==void 0&&(ft=y[ht].domain)}r(pe,de,me,{letter:ue,counterAxes:oe[ue],overlayableAxes:we(ue,ie),grid:y.grid,overlayingDomain:ft}),me("title.standoff"),_e(),de._input=pe}for(w=0;w<Se.length;){ae=Se[w++],ue=(ie=s(ae)).charAt(0),M.isPlainObject(v[ie])||(v[ie]={}),pe=v[ie],de=b.newContainer(y,ie,ue+"axis"),be();var mt={letter:ue,font:y.font,outerTicks:N[ie],showGrid:!Z[ie],data:[],bgColor:ye,calendar:y.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:S,splomStash:((y._splomAxes||{})[ue]||{})[ae]};me("uirevision",y.uirevision),de.type=he[ae]||"linear",i(pe,de,me,mt,y),r(pe,de,me,{letter:ue,counterAxes:oe[ue],overlayableAxes:we(ue,ie),grid:y.grid}),me("fixedrange"),_e(),de._input=pe}var Mt=g("rangeslider","handleDefaults"),_t=g("rangeselector","handleDefaults");for(w=0;w<X.length;w++)ie=X[w],pe=v[ie],de=y[ie],Mt(v,y,ie),de.type==="date"&&_t(pe,de,y,K,de.calendar),me("fixedrange");for(w=0;w<K.length;w++){ie=K[w],pe=v[ie],de=y[ie];var it=y[s(de.anchor)];me("fixedrange",g("rangeslider","isVisible")(it))}n.handleDefaults(v,y,{axIds:se.concat(Se).sort(l.idSort),axHasImage:R})}},92128:function(q,C,e){var M=e(84267).mix,k=e(22399),a=e(71828);q.exports=function(_,b,h,o){var t=(o=o||{}).dfltColor;function i(v,y){return a.coerce2(_,b,o.attributes,v,y)}var n=i("linecolor",t),r=i("linewidth");h("showline",o.showLine||!!n||!!r)||(delete b.linecolor,delete b.linewidth);var l=i("gridcolor",M(t,o.bgColor,o.blend||k.lightFraction).toRgbString()),s=i("gridwidth"),u=i("griddash");if(h("showgrid",o.showGrid||!!l||!!s||!!u)||(delete b.gridcolor,delete b.gridwidth,delete b.griddash),o.hasMinor){var p=i("minor.gridcolor",M(b.gridcolor,o.bgColor,67).toRgbString()),c=i("minor.gridwidth",b.gridwidth||1),x=i("minor.griddash",b.griddash||"solid");h("minor.showgrid",!!p||!!c||!!x)||(delete b.minor.gridcolor,delete b.minor.gridwidth,delete b.minor.griddash)}if(!o.noZeroLine){var g=i("zerolinecolor",t),d=i("zerolinewidth");h("zeroline",o.showGrid||!!g||!!d)||(delete b.zerolinecolor,delete b.zerolinewidth)}}},52830:function(q,C,e){var M=e(92770),k=e(71828);q.exports=function(a,_,b,h){var o,t,i,n,r,l,s=h.counterAxes||[],u=h.overlayableAxes||[],p=h.letter,c=h.grid,x=h.overlayingDomain;c&&(t=c._domains[p][c._axisMap[_._id]],o=c._anchors[_._id],t&&(i=c[p+"side"].split(" ")[0],n=c.domain[p][i==="right"||i==="top"?1:0])),t=t||[0,1],o=o||(M(a.position)?"free":s[0]||"free"),i=i||(p==="x"?"bottom":"left"),n=n||0,r=0,l=!1;var g=k.coerce(a,_,{anchor:{valType:"enumerated",values:["free"].concat(s),dflt:o}},"anchor"),d=k.coerce(a,_,{side:{valType:"enumerated",values:p==="x"?["bottom","top"]:["left","right"],dflt:i}},"side");g==="free"&&(p==="y"&&(b("autoshift")&&(n=d==="left"?x[0]:x[1],l=!_.automargin||_.automargin,r=d==="left"?-3:3),b("shift",r)),b("position",n)),b("automargin",l);var v=!1;if(u.length&&(v=k.coerce(a,_,{overlaying:{valType:"enumerated",values:[!1].concat(u),dflt:!1}},"overlaying")),!v){var y=b("domain",t);y[0]>y[1]-.000244140625&&(_.domain=t),k.noneOrAll(a.domain,_.domain,t),_.tickmode==="sync"&&(_.tickmode="auto")}return b("layer"),_}},89426:function(q,C,e){var M=e(59652);q.exports=function(k,a,_,b,h){h||(h={});var o=h.tickSuffixDflt,t=M(k);_("tickprefix")&&_("showtickprefix",t),_("ticksuffix",o)&&_("showticksuffix",t)}},23608:function(q,C,e){var M=e(23074);q.exports=function(k,a,_,b){var h=a._template||{},o=a.type||h.type||"-";_("minallowed"),_("maxallowed");var t,i=_("range");i||b.noInsiderange||o==="log"||(!(t=_("insiderange"))||t[0]!==null&&t[1]!==null||(a.insiderange=!1,t=void 0),t&&(i=_("range",t)));var n,r=a.getAutorangeDflt(i,b),l=_("autorange",r);!i||(i[0]!==null||i[1]!==null)&&(i[0]!==null&&i[1]!==null||l!=="reversed"&&l!==!0)&&(i[0]===null||l!=="min"&&l!=="max reversed")&&(i[1]===null||l!=="max"&&l!=="min reversed")||(i=void 0,delete a.range,a.autorange=!0,n=!0),n||(l=_("autorange",r=a.getAutorangeDflt(i,b))),l&&(M(_,l,i),o!=="linear"&&o!=="-"||_("rangemode")),a.cleanRange()}},42449:function(q,C,e){var M=e(18783).FROM_BL;q.exports=function(k,a,_){_===void 0&&(_=M[k.constraintoward||"center"]);var b=[k.r2l(k.range[0]),k.r2l(k.range[1])],h=b[0]+(b[1]-b[0])*_;k.range=k._input.range=[k.l2r(h+(b[0]-h)*a),k.l2r(h+(b[1]-h)*a)],k.setScale()}},21994:function(q,C,e){var M=e(39898),k=e(84096).g0,a=e(71828),_=a.numberFormat,b=e(92770),h=a.cleanNumber,o=a.ms2DateTime,t=a.dateTime2ms,i=a.ensureNumber,n=a.isArrayOrTypedArray,r=e(50606),l=r.FP_SAFE,s=r.BADNUM,u=r.LOG_CLIP,p=r.ONEWEEK,c=r.ONEDAY,x=r.ONEHOUR,g=r.ONEMIN,d=r.ONESEC,v=e(41675),y=e(85555),m=y.HOUR_PATTERN,w=y.WEEKDAY_PATTERN;function f(T){return Math.pow(10,T)}function S(T){return T!=null}q.exports=function(T,E){E=E||{};var O=T._id||"x",P=O.charAt(0);function I(ee,re){if(ee>0)return Math.log(ee)/Math.LN10;if(ee<=0&&re&&T.range&&T.range.length===2){var ie=T.range[0],ae=T.range[1];return .5*(ie+ae-2*u*Math.abs(ie-ae))}return s}function z(ee,re,ie,ae){if((ae||{}).msUTC&&b(ee))return+ee;var ue=t(ee,ie||T.calendar);if(ue===s){if(!b(ee))return s;ee=+ee;var pe=Math.floor(10*a.mod(ee+.05,1)),de=Math.round(ee-pe/10);ue=t(new Date(de))+pe/10}return ue}function j(ee,re,ie){return o(ee,re,ie||T.calendar)}function R(ee){return T._categories[Math.round(ee)]}function N(ee){if(S(ee)){if(T._categoriesMap===void 0&&(T._categoriesMap={}),T._categoriesMap[ee]!==void 0)return T._categoriesMap[ee];T._categories.push(typeof ee=="number"?String(ee):ee);var re=T._categories.length-1;return T._categoriesMap[ee]=re,re}return s}function Z(ee){if(T._categoriesMap)return T._categoriesMap[ee]}function F(ee){var re=Z(ee);return re!==void 0?re:b(ee)?+ee:void 0}function U(ee){return b(ee)?+ee:Z(ee)}function V(ee,re,ie){return M.round(ie+re*ee,2)}function te(ee,re,ie){return(ee-ie)/re}var Q=function(ee){return b(ee)?V(ee,T._m,T._b):s},J=function(ee){return te(ee,T._m,T._b)};if(T.rangebreaks){var X=P==="y";Q=function(ee){if(!b(ee))return s;var re=T._rangebreaks.length;if(!re)return V(ee,T._m,T._b);var ie=X;T.range[0]>T.range[1]&&(ie=!ie);for(var ae=ie?-1:1,ue=ae*ee,pe=0,de=0;de<re;de++){var ye=ae*T._rangebreaks[de].min,be=ae*T._rangebreaks[de].max;if(ue<ye)break;if(!(ue>be)){pe=ue<(ye+be)/2?de:de+1;break}pe=de+1}var me=T._B[pe]||0;return isFinite(me)?V(ee,T._m2,me):0},J=function(ee){var re=T._rangebreaks.length;if(!re)return te(ee,T._m,T._b);for(var ie=0,ae=0;ae<re&&!(ee<T._rangebreaks[ae].pmin);ae++)ee>T._rangebreaks[ae].pmax&&(ie=ae+1);return te(ee,T._m2,T._B[ie])}}T.c2l=T.type==="log"?I:i,T.l2c=T.type==="log"?f:i,T.l2p=Q,T.p2l=J,T.c2p=T.type==="log"?function(ee,re){return Q(I(ee,re))}:Q,T.p2c=T.type==="log"?function(ee){return f(J(ee))}:J,["linear","-"].indexOf(T.type)!==-1?(T.d2r=T.r2d=T.d2c=T.r2c=T.d2l=T.r2l=h,T.c2d=T.c2r=T.l2d=T.l2r=i,T.d2p=T.r2p=function(ee){return T.l2p(h(ee))},T.p2d=T.p2r=J,T.cleanPos=i):T.type==="log"?(T.d2r=T.d2l=function(ee,re){return I(h(ee),re)},T.r2d=T.r2c=function(ee){return f(h(ee))},T.d2c=T.r2l=h,T.c2d=T.l2r=i,T.c2r=I,T.l2d=f,T.d2p=function(ee,re){return T.l2p(T.d2r(ee,re))},T.p2d=function(ee){return f(J(ee))},T.r2p=function(ee){return T.l2p(h(ee))},T.p2r=J,T.cleanPos=i):T.type==="date"?(T.d2r=T.r2d=a.identity,T.d2c=T.r2c=T.d2l=T.r2l=z,T.c2d=T.c2r=T.l2d=T.l2r=j,T.d2p=T.r2p=function(ee,re,ie){return T.l2p(z(ee,0,ie))},T.p2d=T.p2r=function(ee,re,ie){return j(J(ee),re,ie)},T.cleanPos=function(ee){return a.cleanDate(ee,s,T.calendar)}):T.type==="category"?(T.d2c=T.d2l=N,T.r2d=T.c2d=T.l2d=R,T.d2r=T.d2l_noadd=F,T.r2c=function(ee){var re=U(ee);return re!==void 0?re:T.fraction2r(.5)},T.l2r=T.c2r=i,T.r2l=U,T.d2p=function(ee){return T.l2p(T.r2c(ee))},T.p2d=function(ee){return R(J(ee))},T.r2p=T.d2p,T.p2r=J,T.cleanPos=function(ee){return typeof ee=="string"&&ee!==""?ee:i(ee)}):T.type==="multicategory"&&(T.r2d=T.c2d=T.l2d=R,T.d2r=T.d2l_noadd=F,T.r2c=function(ee){var re=F(ee);return re!==void 0?re:T.fraction2r(.5)},T.r2c_just_indices=Z,T.l2r=T.c2r=i,T.r2l=F,T.d2p=function(ee){return T.l2p(T.r2c(ee))},T.p2d=function(ee){return R(J(ee))},T.r2p=T.d2p,T.p2r=J,T.cleanPos=function(ee){return Array.isArray(ee)||typeof ee=="string"&&ee!==""?ee:i(ee)},T.setupMultiCategory=function(ee){var re,ie,ae=T._traceIndices,ue=T._matchGroup;if(ue&&T._categories.length===0){for(var pe in ue)if(pe!==O){var de=E[v.id2name(pe)];ae=ae.concat(de._traceIndices)}}var ye=[[0,{}],[0,{}]],be=[];for(re=0;re<ae.length;re++){var me=ee[ae[re]];if(P in me){var Ee=me[P],Te=me._length||a.minRowLength(Ee);if(n(Ee[0])&&n(Ee[1]))for(ie=0;ie<Te;ie++){var we=Ee[0][ie],oe=Ee[1][ie];S(we)&&S(oe)&&(be.push([we,oe]),we in ye[0][1]||(ye[0][1][we]=ye[0][0]++),oe in ye[1][1]||(ye[1][1][oe]=ye[1][0]++))}}}for(be.sort(function(se,he){var Se=ye[0][1],_e=Se[se[0]]-Se[he[0]];if(_e)return _e;var Ae=ye[1][1];return Ae[se[1]]-Ae[he[1]]}),re=0;re<be.length;re++)N(be[re])}),T.fraction2r=function(ee){var re=T.r2l(T.range[0]),ie=T.r2l(T.range[1]);return T.l2r(re+ee*(ie-re))},T.r2fraction=function(ee){var re=T.r2l(T.range[0]),ie=T.r2l(T.range[1]);return(T.r2l(ee)-re)/(ie-re)},T.limitRange=function(ee){var re=T.minallowed,ie=T.maxallowed;if(re!==void 0||ie!==void 0){ee||(ee="range");var ae=a.nestedProperty(T,ee).get(),ue=a.simpleMap(ae,T.r2l),pe=ue[1]<ue[0];pe&&ue.reverse();var de=a.simpleMap([re,ie],T.r2l);if(re!==void 0&&ue[0]<de[0]&&(ae[pe?1:0]=re),ie!==void 0&&ue[1]>de[1]&&(ae[pe?0:1]=ie),ae[0]===ae[1]){var ye=T.l2r(re),be=T.l2r(ie);if(re!==void 0){var me=ye+1;ie!==void 0&&(me=Math.min(me,be)),ae[pe?1:0]=me}if(ie!==void 0){var Ee=be+1;re!==void 0&&(Ee=Math.max(Ee,ye)),ae[pe?0:1]=Ee}}}},T.cleanRange=function(ee,re){T._cleanRange(ee,re),T.limitRange(ee)},T._cleanRange=function(ee,re){re||(re={}),ee||(ee="range");var ie,ae,ue=a.nestedProperty(T,ee).get();if(ae=(ae=T.type==="date"?a.dfltRange(T.calendar):P==="y"?y.DFLTRANGEY:T._name==="realaxis"?[0,1]:re.dfltRange||y.DFLTRANGEX).slice(),T.rangemode!=="tozero"&&T.rangemode!=="nonnegative"||(ae[0]=0),ue&&ue.length===2){var pe=ue[0]===null,de=ue[1]===null;for(T.type!=="date"||T.autorange||(ue[0]=a.cleanDate(ue[0],s,T.calendar),ue[1]=a.cleanDate(ue[1],s,T.calendar)),ie=0;ie<2;ie++)if(T.type==="date"){if(!a.isDateTime(ue[ie],T.calendar)){T[ee]=ae;break}if(T.r2l(ue[0])===T.r2l(ue[1])){var ye=a.constrain(T.r2l(ue[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);ue[0]=T.l2r(ye-1e3),ue[1]=T.l2r(ye+1e3);break}}else{if(!b(ue[ie])){if(pe||de||!b(ue[1-ie])){T[ee]=ae;break}ue[ie]=ue[1-ie]*(ie?10:.1)}if(ue[ie]<-l?ue[ie]=-l:ue[ie]>l&&(ue[ie]=l),ue[0]===ue[1]){var be=Math.max(1,Math.abs(1e-6*ue[0]));ue[0]-=be,ue[1]+=be}}}else a.nestedProperty(T,ee).set(ae)},T.setScale=function(ee){var re=E._size;if(T.overlaying){var ie=v.getFromId({_fullLayout:E},T.overlaying);T.domain=ie.domain}var ae=ee&&T._r?"_r":"range",ue=T.calendar;T.cleanRange(ae);var pe,de,ye=T.r2l(T[ae][0],ue),be=T.r2l(T[ae][1],ue),me=P==="y";if(me?(T._offset=re.t+(1-T.domain[1])*re.h,T._length=re.h*(T.domain[1]-T.domain[0]),T._m=T._length/(ye-be),T._b=-T._m*be):(T._offset=re.l+T.domain[0]*re.w,T._length=re.w*(T.domain[1]-T.domain[0]),T._m=T._length/(be-ye),T._b=-T._m*ye),T._rangebreaks=[],T._lBreaks=0,T._m2=0,T._B=[],T.rangebreaks&&(T._rangebreaks=T.locateBreaks(Math.min(ye,be),Math.max(ye,be)),T._rangebreaks.length)){for(pe=0;pe<T._rangebreaks.length;pe++)de=T._rangebreaks[pe],T._lBreaks+=Math.abs(de.max-de.min);var Ee=me;ye>be&&(Ee=!Ee),Ee&&T._rangebreaks.reverse();var Te=Ee?-1:1;for(T._m2=Te*T._length/(Math.abs(be-ye)-T._lBreaks),T._B.push(-T._m2*(me?be:ye)),pe=0;pe<T._rangebreaks.length;pe++)de=T._rangebreaks[pe],T._B.push(T._B[T._B.length-1]-Te*T._m2*(de.max-de.min));for(pe=0;pe<T._rangebreaks.length;pe++)(de=T._rangebreaks[pe]).pmin=Q(de.min),de.pmax=Q(de.max)}if(!isFinite(T._m)||!isFinite(T._b)||T._length<0)throw E._replotting=!1,new Error("Something went wrong with axis scaling")},T.maskBreaks=function(ee){var re,ie,ae,ue,pe,de=T.rangebreaks||[];de._cachedPatterns||(de._cachedPatterns=de.map(function(we){return we.enabled&&we.bounds?a.simpleMap(we.bounds,we.pattern?h:T.d2c):null})),de._cachedValues||(de._cachedValues=de.map(function(we){return we.enabled&&we.values?a.simpleMap(we.values,T.d2c).sort(a.sorterAsc):null}));for(var ye=0;ye<de.length;ye++){var be=de[ye];if(be.enabled){if(be.bounds){var me=be.pattern;switch(ie=(re=de._cachedPatterns[ye])[0],ae=re[1],me){case w:ue=(pe=new Date(ee)).getUTCDay(),ie>ae&&(ae+=7,ue<ie&&(ue+=7));break;case m:ue=(pe=new Date(ee)).getUTCHours()+(pe.getUTCMinutes()/60+pe.getUTCSeconds()/3600+pe.getUTCMilliseconds()/36e5),ie>ae&&(ae+=24,ue<ie&&(ue+=24));break;case"":ue=ee}if(ue>=ie&&ue<ae)return s}else for(var Ee=de._cachedValues[ye],Te=0;Te<Ee.length;Te++)if(ae=(ie=Ee[Te])+be.dvalue,ee>=ie&&ee<ae)return s}}return ee},T.locateBreaks=function(ee,re){var ie,ae,ue,pe,de=[];if(!T.rangebreaks)return de;var ye=T.rangebreaks.slice().sort(function(Ae,Ce){return Ae.pattern===w&&Ce.pattern===m?-1:Ce.pattern===w&&Ae.pattern===m?1:0}),be=function(Ae,Ce){if((Ae=a.constrain(Ae,ee,re))!==(Ce=a.constrain(Ce,ee,re))){for(var Re=!0,fe=0;fe<de.length;fe++){var xe=de[fe];Ae<xe.max&&Ce>=xe.min&&(Ae<xe.min&&(xe.min=Ae),Ce>xe.max&&(xe.max=Ce),Re=!1)}Re&&de.push({min:Ae,max:Ce})}};for(ie=0;ie<ye.length;ie++){var me=ye[ie];if(me.enabled)if(me.bounds){var Ee=ee,Te=re;me.pattern&&(Ee=Math.floor(Ee)),ue=(ae=a.simpleMap(me.bounds,me.pattern?h:T.r2l))[0],pe=ae[1];var we,oe,se=new Date(Ee);switch(me.pattern){case w:oe=p,we=(pe-ue+(pe<ue?7:0))*c,Ee+=ue*c-(se.getUTCDay()*c+se.getUTCHours()*x+se.getUTCMinutes()*g+se.getUTCSeconds()*d+se.getUTCMilliseconds());break;case m:oe=c,we=(pe-ue+(pe<ue?24:0))*x,Ee+=ue*x-(se.getUTCHours()*x+se.getUTCMinutes()*g+se.getUTCSeconds()*d+se.getUTCMilliseconds());break;default:Ee=Math.min(ae[0],ae[1]),we=oe=(Te=Math.max(ae[0],ae[1]))-Ee}for(var he=Ee;he<Te;he+=oe)be(he,he+we)}else for(var Se=a.simpleMap(me.values,T.d2c),_e=0;_e<Se.length;_e++)be(ue=Se[_e],pe=ue+me.dvalue)}return de.sort(function(Ae,Ce){return Ae.min-Ce.min}),de},T.makeCalcdata=function(ee,re,ie){var ae,ue,pe,de,ye=T.type,be=ye==="date"&&ee[re+"calendar"];if(re in ee){if(ae=ee[re],de=ee._length||a.minRowLength(ae),a.isTypedArray(ae)&&(ye==="linear"||ye==="log")){if(de===ae.length)return ae;if(ae.subarray)return ae.subarray(0,de)}if(ye==="multicategory")return function(Te,we){for(var oe=new Array(we),se=0;se<we;se++){var he=(Te[0]||[])[se],Se=(Te[1]||[])[se];oe[se]=Z([he,Se])}return oe}(ae,de);for(ue=new Array(de),pe=0;pe<de;pe++)ue[pe]=T.d2c(ae[pe],0,be,ie)}else{var me=re+"0"in ee?T.d2c(ee[re+"0"],0,be):0,Ee=ee["d"+re]?Number(ee["d"+re]):1;for(ae=ee[{x:"y",y:"x"}[re]],de=ee._length||ae.length,ue=new Array(de),pe=0;pe<de;pe++)ue[pe]=me+pe*Ee}if(T.rangebreaks)for(pe=0;pe<de;pe++)ue[pe]=T.maskBreaks(ue[pe]);return ue},T.isValidRange=function(ee,re){return Array.isArray(ee)&&ee.length===2&&(re&&ee[0]===null||b(T.r2l(ee[0])))&&(re&&ee[1]===null||b(T.r2l(ee[1])))},T.getAutorangeDflt=function(ee,re){var ie=!T.isValidRange(ee,"nullOk");return ie&&re&&re.reverseDflt?ie="reversed":ee&&(ee[0]===null&&ee[1]===null?ie=!0:ee[0]===null&&ee[1]!==null?ie="min":ee[0]!==null&&ee[1]===null&&(ie="max")),ie},T.isReversed=function(){var ee=T.autorange;return ee==="reversed"||ee==="min reversed"||ee==="max reversed"},T.isPtWithinRange=function(ee,re){var ie=T.c2l(ee[P],null,re),ae=T.r2l(T.range[0]),ue=T.r2l(T.range[1]);return ae<ue?ae<=ie&&ie<=ue:ue<=ie&&ie<=ae},T._emptyCategories=function(){T._categories=[],T._categoriesMap={}},T.clearCalc=function(){var ee=T._matchGroup;if(ee){var re=null,ie=null;for(var ae in ee){var ue=E[v.id2name(ae)];if(ue._categories){re=ue._categories,ie=ue._categoriesMap;break}}re&&ie?(T._categories=re,T._categoriesMap=ie):T._emptyCategories()}else T._emptyCategories();if(T._initialCategories)for(var pe=0;pe<T._initialCategories.length;pe++)N(T._initialCategories[pe])},T.sortByInitialCategories=function(){var ee=[];if(T._emptyCategories(),T._initialCategories)for(var re=0;re<T._initialCategories.length;re++)N(T._initialCategories[re]);ee=ee.concat(T._traceIndices);var ie=T._matchGroup;for(var ae in ie)if(O!==ae){var ue=E[v.id2name(ae)];ue._categories=T._categories,ue._categoriesMap=T._categoriesMap,ee=ee.concat(ue._traceIndices)}return ee};var K=E._d3locale;T.type==="date"&&(T._dateFormat=K?K.timeFormat:k,T._extraFormat=E._extraFormat),T._separators=E.separators,T._numFormat=K?K.numberFormat:_,delete T._minDtick,delete T._forceTick0}},59652:function(q){q.exports=function(C){var e=["showexponent","showtickprefix","showticksuffix"].filter(function(M){return C[M]!==void 0});if(e.every(function(M){return C[M]===C[e[0]]})||e.length===1)return C[e[0]]}},96115:function(q,C,e){var M=e(71828),k=e(7901).contrast,a=e(13838),_=e(59652),b=e(85501);function h(o,t){function i(n,r){return M.coerce(o,t,a.tickformatstops,n,r)}i("enabled")&&(i("dtickrange"),i("value"))}q.exports=function(o,t,i,n,r){r||(r={});var l=i("labelalias");M.isPlainObject(l)||delete t.labelalias;var s=_(o);if(i("showticklabels")){var u=r.font||{},p=t.color,c=(t.ticklabelposition||"").indexOf("inside")!==-1?k(r.bgColor):p&&p!==a.color.dflt?p:u.color;if(M.coerceFont(i,"tickfont",{family:u.family,size:u.size,color:c}),r.noTicklabelstep||n==="multicategory"||n==="log"||i("ticklabelstep"),r.noAng||i("tickangle"),n!=="category"){var x=i("tickformat");b(o,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:h}),t.tickformatstops.length||delete t.tickformatstops,r.noExp||x||n==="date"||(i("showexponent",s),i("exponentformat"),i("minexponent"),i("separatethousands"))}}}},38701:function(q,C,e){var M=e(71828),k=e(13838);q.exports=function(a,_,b,h){var o=h.isMinor,t=o?a.minor||{}:a,i=o?_.minor:_,n=o?k.minor:k,r=o?"minor.":"",l=M.coerce2(t,i,n,"ticklen",o?.6*(_.ticklen||5):void 0),s=M.coerce2(t,i,n,"tickwidth",o?_.tickwidth||1:void 0),u=M.coerce2(t,i,n,"tickcolor",(o?_.tickcolor:void 0)||i.color);b(r+"ticks",!o&&h.outerTicks||l||s||u?"outside":"")||(delete i.ticklen,delete i.tickwidth,delete i.tickcolor)}},26218:function(q,C,e){var M=e(66287),k=e(71828).isArrayOrTypedArray,a=e(73627).isTypedArraySpec,_=e(73627).decodeTypedArraySpec;q.exports=function(b,h,o,t,i){i||(i={});var n=i.isMinor,r=n?b.minor||{}:b,l=n?h.minor:h,s=n?"minor.":"";function u(v){var y=r[v];return a(y)&&(y=_(y)),y!==void 0?y:(l._template||{})[v]}var p=u("tick0"),c=u("dtick"),x=u("tickvals"),g=o(s+"tickmode",k(x)?"array":c?"linear":"auto");if(g==="auto"||g==="sync")o(s+"nticks");else if(g==="linear"){var d=l.dtick=M.dtick(c,t);l.tick0=M.tick0(p,t,h.calendar,d)}else t!=="multicategory"&&(o(s+"tickvals")===void 0?l.tickmode="auto":n||o("ticktext"))}},66847:function(q,C,e){var M=e(39898),k=e(73972),a=e(71828),_=e(91424),b=e(89298);q.exports=function(h,o,t,i){var n=h._fullLayout;if(o.length!==0){var r,l,s,u;i&&(r=i());var p=M.ease(t.easing);return h._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(u),u=null,function(){for(var g={},d=0;d<o.length;d++){var v=o[d],y=v.plotinfo.xaxis,m=v.plotinfo.yaxis;v.xr0&&(g[y._name+".range"]=v.xr0.slice()),v.yr0&&(g[m._name+".range"]=v.yr0.slice())}return k.call("relayout",h,g).then(function(){for(var w=0;w<o.length;w++)c(o[w].plotinfo)})}()}),l=Date.now(),u=window.requestAnimationFrame(function g(){s=Date.now();for(var d=Math.min(1,(s-l)/t.duration),v=p(d),y=0;y<o.length;y++)x(o[y],v);s-l>t.duration?(function(){for(var m={},w=0;w<o.length;w++){var f=o[w],S=f.plotinfo.xaxis,T=f.plotinfo.yaxis;f.xr1&&(m[S._name+".range"]=f.xr1.slice()),f.yr1&&(m[T._name+".range"]=f.yr1.slice())}r&&r(),k.call("relayout",h,m).then(function(){for(var E=0;E<o.length;E++)c(o[E].plotinfo)})}(),u=window.cancelAnimationFrame(g)):u=window.requestAnimationFrame(g)}),Promise.resolve()}function c(g){var d=g.xaxis,v=g.yaxis;n._defs.select("#"+g.clipId+"> rect").call(_.setTranslate,0,0).call(_.setScale,1,1),g.plot.call(_.setTranslate,d._offset,v._offset).call(_.setScale,1,1);var y=g.plot.selectAll(".scatterlayer .trace");y.selectAll(".point").call(_.setPointGroupScale,1,1),y.selectAll(".textpoint").call(_.setTextPointsScale,1,1),y.call(_.hideOutsideRangePoints,g)}function x(g,d){var v=g.plotinfo,y=v.xaxis,m=v.yaxis,w=y._length,f=m._length,S=!!g.xr1,T=!!g.yr1,E=[];if(S){var O=a.simpleMap(g.xr0,y.r2l),P=a.simpleMap(g.xr1,y.r2l),I=O[1]-O[0],z=P[1]-P[0];E[0]=(O[0]*(1-d)+d*P[0]-O[0])/(O[1]-O[0])*w,E[2]=w*(1-d+d*z/I),y.range[0]=y.l2r(O[0]*(1-d)+d*P[0]),y.range[1]=y.l2r(O[1]*(1-d)+d*P[1])}else E[0]=0,E[2]=w;if(T){var j=a.simpleMap(g.yr0,m.r2l),R=a.simpleMap(g.yr1,m.r2l),N=j[1]-j[0],Z=R[1]-R[0];E[1]=(j[1]*(1-d)+d*R[1]-j[1])/(j[0]-j[1])*f,E[3]=f*(1-d+d*Z/N),m.range[0]=y.l2r(j[0]*(1-d)+d*R[0]),m.range[1]=m.l2r(j[1]*(1-d)+d*R[1])}else E[1]=0,E[3]=f;b.drawOne(h,y,{skipTitle:!0}),b.drawOne(h,m,{skipTitle:!0}),b.redrawComponents(h,[y._id,m._id]);var F=S?w/E[2]:1,U=T?f/E[3]:1,V=S?E[0]:0,te=T?E[1]:0,Q=S?E[0]/E[2]*w:0,J=T?E[1]/E[3]*f:0,X=y._offset-Q,K=m._offset-J;v.clipRect.call(_.setTranslate,V,te).call(_.setScale,1/F,1/U),v.plot.call(_.setTranslate,X,K).call(_.setScale,F,U),_.setPointGroupScale(v.zoomScalePts,1/F,1/U),_.setTextPointsScale(v.zoomScaleTxt,1/F,1/U)}b.redrawComponents(h)}},951:function(q,C,e){var M=e(73972).traceIs,k=e(4322);function a(b){return{v:"x",h:"y"}[b.orientation||"v"]}function _(b,h){var o=a(b),t=M(b,"box-violin"),i=M(b._fullInput||{},"candlestick");return t&&!i&&h===o&&b[o]===void 0&&b[o+"0"]===void 0}q.exports=function(b,h,o,t){o("autotypenumbers",t.autotypenumbersDflt),o("type",(t.splomStash||{}).type)==="-"&&(function(i,n){if(i.type==="-"){var r,l=i._id,s=l.charAt(0);l.indexOf("scene")!==-1&&(l=s);var u=function(m,w,f){for(var S=0;S<m.length;S++){var T=m[S];if(T.type==="splom"&&T._length>0&&(T["_"+f+"axes"]||{})[w]||(T[f+"axis"]||f)===w&&(_(T,f)||(T[f]||[]).length||T[f+"0"]))return T}}(n,l,s);if(u)if(u.type!=="histogram"||s!=={v:"y",h:"x"}[u.orientation||"v"]){var p=s+"calendar",c=u[p],x={noMultiCategory:!M(u,"cartesian")||M(u,"noMultiCategory")};if(u.type==="box"&&u._hasPreCompStats&&s==={h:"x",v:"y"}[u.orientation||"v"]&&(x.noMultiCategory=!0),x.autotypenumbers=i.autotypenumbers,_(u,s)){var g=a(u),d=[];for(r=0;r<n.length;r++){var v=n[r];M(v,"box-violin")&&(v[s+"axis"]||s)===l&&(v[g]!==void 0?d.push(v[g][0]):v.name!==void 0?d.push(v.name):d.push("text"),v[p]!==c&&(c=void 0))}i.type=k(d,c,x)}else if(u.type==="splom"){var y=u.dimensions[u._axesDim[l]];y.visible&&(i.type=k(y.values,c,x))}else i.type=k(u[s]||[u[s+"0"]],c,x)}else i.type="linear"}}(h,t.data),h.type==="-"?h.type="linear":b.type=h.type)}},31137:function(q,C,e){var M=e(73972),k=e(71828);function a(o,t,i){var n,r,l,s=!1;if(t.type==="data")n=o._fullData[t.traces!==null?t.traces[0]:0];else{if(t.type!=="layout")return!1;n=o._fullLayout}return r=k.nestedProperty(n,t.prop).get(),(l=i[t.type]=i[t.type]||{}).hasOwnProperty(t.prop)&&l[t.prop]!==r&&(s=!0),l[t.prop]=r,{changed:s,value:r}}function _(o,t){var i=[],n=t[0],r={};if(typeof n=="string")r[n]=t[1];else{if(!k.isPlainObject(n))return i;r=n}return h(r,function(l,s,u){i.push({type:"layout",prop:l,value:u})},"",0),i}function b(o,t){var i,n,r,l,s=[];if(n=t[0],r=t[1],i=t[2],l={},typeof n=="string")l[n]=r;else{if(!k.isPlainObject(n))return s;l=n,i===void 0&&(i=r)}return i===void 0&&(i=null),h(l,function(u,p,c){var x,g;if(Array.isArray(c)){g=c.slice();var d=Math.min(g.length,o.data.length);i&&(d=Math.min(d,i.length)),x=[];for(var v=0;v<d;v++)x[v]=i?i[v]:v}else g=c,x=i?i.slice():null;if(x===null)Array.isArray(g)&&(g=g[0]);else if(Array.isArray(x)){if(!Array.isArray(g)){var y=g;g=[];for(var m=0;m<x.length;m++)g[m]=y}g.length=Math.min(x.length,g.length)}s.push({type:"data",prop:u,traces:x,value:g})},"",0),s}function h(o,t,i,n){Object.keys(o).forEach(function(r){var l=o[r];if(r[0]!=="_"){var s=i+(n>0?".":"")+r;k.isPlainObject(l)?h(l,t,s,n+1):t(s,r,l)}})}C.manageCommandObserver=function(o,t,i,n){var r={},l=!0;t&&t._commandObserver&&(r=t._commandObserver),r.cache||(r.cache={}),r.lookupTable={};var s=C.hasSimpleAPICommandBindings(o,i,r.lookupTable);if(t&&t._commandObserver){if(s)return r;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,r}if(s){a(o,s,r.cache),r.check=function(){if(l){var c=a(o,s,r.cache);return c.changed&&n&&r.lookupTable[c.value]!==void 0&&(r.disable(),Promise.resolve(n({value:c.value,type:s.type,prop:s.prop,traces:s.traces,index:r.lookupTable[c.value]})).then(r.enable,r.enable)),c.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],p=0;p<u.length;p++)o._internalOn(u[p],r.check);r.remove=function(){for(var c=0;c<u.length;c++)o._removeInternalListener(u[c],r.check)}}else k.log("Unable to automatically bind plot updates to API command"),r.lookupTable={},r.remove=function(){};return r.disable=function(){l=!1},r.enable=function(){l=!0},t&&(t._commandObserver=r),r},C.hasSimpleAPICommandBindings=function(o,t,i){var n,r,l=t.length;for(n=0;n<l;n++){var s,u=t[n],p=u.method,c=u.args;if(Array.isArray(c)||(c=[]),!p)return!1;var x=C.computeAPICommandBindings(o,p,c);if(x.length!==1)return!1;if(r){if((s=x[0]).type!==r.type||s.prop!==r.prop)return!1;if(Array.isArray(r.traces)){if(!Array.isArray(s.traces))return!1;s.traces.sort();for(var g=0;g<r.traces.length;g++)if(r.traces[g]!==s.traces[g])return!1}else if(s.prop!==r.prop)return!1}else r=x[0],Array.isArray(r.traces)&&r.traces.sort();var d=(s=x[0]).value;if(Array.isArray(d)){if(d.length!==1)return!1;d=d[0]}i&&(i[d]=n)}return r},C.executeAPICommand=function(o,t,i){if(t==="skip")return Promise.resolve();var n=M.apiMethodRegistry[t],r=[o];Array.isArray(i)||(i=[]);for(var l=0;l<i.length;l++)r.push(i[l]);return n.apply(null,r).catch(function(s){return k.warn("API call to Plotly."+t+" rejected.",s),Promise.reject(s)})},C.computeAPICommandBindings=function(o,t,i){var n;switch(Array.isArray(i)||(i=[]),t){case"restyle":n=b(o,i);break;case"relayout":n=_(0,i);break;case"update":n=b(o,[i[0],i[2]]).concat(_(0,[i[1]]));break;case"animate":n=function(r,l){return Array.isArray(l[0])&&l[0].length===1&&["string","number"].indexOf(typeof l[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:l[0][0].toString()}]:[]}(0,i);break;default:n=[]}return n}},27670:function(q,C,e){var M=e(1426).extendFlat;C.Y=function(k,a){a=a||{};var _={valType:"info_array",editType:(k=k||{}).editType,items:[{valType:"number",min:0,max:1,editType:k.editType},{valType:"number",min:0,max:1,editType:k.editType}],dflt:[0,1]},b=(k.name&&k.name,k.trace,a.description&&a.description,{x:M({},_,{}),y:M({},_,{}),editType:k.editType});return k.noGridCell||(b.row={valType:"integer",min:0,dflt:0,editType:k.editType},b.column={valType:"integer",min:0,dflt:0,editType:k.editType}),b},C.c=function(k,a,_,b){var h=b&&b.x||[0,1],o=b&&b.y||[0,1],t=a.grid;if(t){var i=_("domain.column");i!==void 0&&(i<t.columns?h=t._domains.x[i]:delete k.domain.column);var n=_("domain.row");n!==void 0&&(n<t.rows?o=t._domains.y[n]:delete k.domain.row)}var r=_("domain.x",h),l=_("domain.y",o);r[0]<r[1]||(k.domain.x=h.slice()),l[0]<l[1]||(k.domain.y=o.slice())}},41940:function(q){q.exports=function(C){var e=C.editType,M=C.colorEditType;M===void 0&&(M=e);var k={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:M},editType:e};return C.autoSize&&(k.size.dflt="auto"),C.autoColor&&(k.color.dflt="auto"),C.arrayOk&&(k.family.arrayOk=!0,k.size.arrayOk=!0,k.color.arrayOk=!0),k}},31391:function(q){q.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(q,C){C.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},C.axesNames=["lonaxis","lataxis"],C.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},C.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},C.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},C.clipPad=.001,C.precision=.1,C.landColor="#F0DC82",C.waterColor="#3399FF",C.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},C.sphereSVG={type:"Sphere"},C.fillLayers={ocean:1,land:1,lakes:1},C.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},C.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],C.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],C.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(q,C,e){var M=e(39898),k=e(27362),a=k.geoPath,_=k.geoDistance,b=e(65704),h=e(73972),o=e(71828),t=o.strTranslate,i=e(7901),n=e(91424),r=e(30211),l=e(74875),s=e(89298),u=e(71739).getAutoRange,p=e(28569),c=e(47322).prepSelect,x=e(47322).clearOutline,g=e(47322).selectOnClick,d=e(74455),v=e(78776),y=e(41327),m=e(90973),w=e(96892).zL;function f(E){this.id=E.id,this.graphDiv=E.graphDiv,this.container=E.container,this.topojsonURL=E.topojsonURL,this.isStatic=E.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var S=f.prototype;function T(E,O){var P=v.clipPad,I=E[0]+P,z=E[1]-P,j=O[0]+P,R=O[1]-P;I>0&&z<0&&(z+=360);var N=(z-I)/4;return{type:"Polygon",coordinates:[[[I,j],[I,R],[I+N,R],[I+2*N,R],[I+3*N,R],[z,R],[z,j],[z-N,j],[z-2*N,j],[z-3*N,j],[I,j]]]}}q.exports=function(E){return new f(E)},S.plot=function(E,O,P,I){var z=this;if(I)return z.update(E,O,!0);z._geoCalcData=E,z._fullLayout=O;var j=O[this.id],R=[],N=!1;for(var Z in v.layerNameToAdjective)if(Z!=="frame"&&j["show"+Z]){N=!0;break}for(var F=!1,U=0;U<E.length;U++){var V=E[0][0].trace;V._geo=z,V.locationmode&&(N=!0);var te=V.marker;if(te){var Q=te.angle,J=te.angleref;(Q||J==="north"||J==="previous")&&(F=!0)}}if(this._hasMarkerAngles=F,N){var X=m.getTopojsonName(j);z.topojson!==null&&X===z.topojsonName||(z.topojsonName=X,PlotlyGeoAssets.topojson[z.topojsonName]===void 0&&R.push(z.fetchTopojson()))}R=R.concat(y.fetchTraceGeoData(E)),P.push(new Promise(function(K,ee){Promise.all(R).then(function(){z.topojson=PlotlyGeoAssets.topojson[z.topojsonName],z.update(E,O),K()}).catch(ee)}))},S.fetchTopojson=function(){var E=this,O=m.getTopojsonPath(E.topojsonURL,E.topojsonName);return new Promise(function(P,I){M.json(O,function(z,j){if(z)return z.status===404?I(new Error(["plotly.js could not find topojson file at",O+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):I(new Error(["unexpected error while fetching topojson file at",O].join(" ")));PlotlyGeoAssets.topojson[E.topojsonName]=j,P()})})},S.update=function(E,O,P){var I=O[this.id];this.hasChoropleth=!1;for(var z=0;z<E.length;z++){var j=E[z],R=j[0].trace;R.type==="choropleth"&&(this.hasChoropleth=!0),R.visible===!0&&R._length>0&&R._module.calcGeoJSON(j,O)}if(!P){if(this.updateProjection(E,O))return;this.viewInitial&&this.scope===I.scope||this.saveViewInitial(I)}this.scope=I.scope,this.updateBaseLayers(O,I),this.updateDims(O,I),this.updateFx(O,I),l.generalUpdatePerTraceModule(this.graphDiv,this,E,I);var N=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=N.selectAll(".point"),this.dataPoints.text=N.selectAll("text"),this.dataPaths.line=N.selectAll(".js-line");var Z=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=Z.selectAll("path"),this._render()},S.updateProjection=function(E,O){var P=this.graphDiv,I=O[this.id],z=O._size,j=I.domain,R=I.projection,N=I.lonaxis,Z=I.lataxis,F=N._ax,U=Z._ax,V=this.projection=function(se){var he=se.projection,Se=he.type,_e=v.projNames[Se];_e="geo"+o.titleCase(_e);for(var Ae=(k[_e]||b[_e])(),Ce=se._isSatellite?180*Math.acos(1/he.distance)/Math.PI:se._isClipped?v.lonaxisSpan[Se]/2:null,Re=["center","rotate","parallels","clipExtent"],fe=function(Ie){return Ie?Ae:[]},xe=0;xe<Re.length;xe++){var ke=Re[xe];typeof Ae[ke]!="function"&&(Ae[ke]=fe)}return Ae.isLonLatOverEdges=function(Ie){if(Ae(Ie)===null)return!0;if(Ce){var Fe=Ae.rotate();return _(Ie,[-Fe[0],-Fe[1]])>Ce*Math.PI/180}return!1},Ae.getPath=function(){return a().projection(Ae)},Ae.getBounds=function(Ie){return Ae.getPath().bounds(Ie)},Ae.precision(v.precision),se._isSatellite&&Ae.tilt(he.tilt).distance(he.distance),Ce&&Ae.clipAngle(Ce-v.clipPad),Ae}(I),te=[[z.l+z.w*j.x[0],z.t+z.h*(1-j.y[1])],[z.l+z.w*j.x[1],z.t+z.h*(1-j.y[0])]],Q=I.center||{},J=R.rotation||{},X=N.range||[],K=Z.range||[];if(I.fitbounds){F._length=te[1][0]-te[0][0],U._length=te[1][1]-te[0][1],F.range=u(P,F),U.range=u(P,U);var ee=(F.range[0]+F.range[1])/2,re=(U.range[0]+U.range[1])/2;if(I._isScoped)Q={lon:ee,lat:re};else if(I._isClipped){Q={lon:ee,lat:re},J={lon:ee,lat:re,roll:J.roll};var ie=R.type,ae=v.lonaxisSpan[ie]/2||180,ue=v.lataxisSpan[ie]/2||90;X=[ee-ae,ee+ae],K=[re-ue,re+ue]}else Q={lon:ee,lat:re},J={lon:ee,lat:J.lat,roll:J.roll}}V.center([Q.lon-J.lon,Q.lat-J.lat]).rotate([-J.lon,-J.lat,J.roll]).parallels(R.parallels);var pe=T(X,K);V.fitExtent(te,pe);var de=this.bounds=V.getBounds(pe),ye=this.fitScale=V.scale(),be=V.translate();if(I.fitbounds){var me=V.getBounds(T(F.range,U.range)),Ee=Math.min((de[1][0]-de[0][0])/(me[1][0]-me[0][0]),(de[1][1]-de[0][1])/(me[1][1]-me[0][1]));isFinite(Ee)?V.scale(Ee*ye):o.warn("Something went wrong during"+this.id+"fitbounds computations.")}else V.scale(R.scale*ye);var Te=this.midPt=[(de[0][0]+de[1][0])/2,(de[0][1]+de[1][1])/2];if(V.translate([be[0]+(Te[0]-be[0]),be[1]+(Te[1]-be[1])]).clipExtent(de),I._isAlbersUsa){var we=V([Q.lon,Q.lat]),oe=V.translate();V.translate([oe[0]-(we[0]-oe[0]),oe[1]-(we[1]-oe[1])])}},S.updateBaseLayers=function(E,O){var P=this,I=P.topojson,z=P.layers,j=P.basePaths;function R(V){return V==="lonaxis"||V==="lataxis"}function N(V){return!!v.lineLayers[V]}function Z(V){return!!v.fillLayers[V]}var F=(this.hasChoropleth?v.layersForChoropleth:v.layers).filter(function(V){return N(V)||Z(V)?O["show"+V]:!R(V)||O[V].showgrid}),U=P.framework.selectAll(".layer").data(F,String);U.exit().each(function(V){delete z[V],delete j[V],M.select(this).remove()}),U.enter().append("g").attr("class",function(V){return"layer "+V}).each(function(V){var te=z[V]=M.select(this);V==="bg"?P.bgRect=te.append("rect").style("pointer-events","all"):R(V)?j[V]=te.append("path").style("fill","none"):V==="backplot"?te.append("g").classed("choroplethlayer",!0):V==="frontplot"?te.append("g").classed("scatterlayer",!0):N(V)?j[V]=te.append("path").style("fill","none").style("stroke-miterlimit",2):Z(V)&&(j[V]=te.append("path").style("stroke","none"))}),U.order(),U.each(function(V){var te=j[V],Q=v.layerNameToAdjective[V];V==="frame"?te.datum(v.sphereSVG):N(V)||Z(V)?te.datum(w(I,I.objects[V])):R(V)&&te.datum(function(J,X,K){var ee,re,ie,ae=X[J],ue=v.scopeDefaults[X.scope];J==="lonaxis"?(ee=ue.lonaxisRange,re=ue.lataxisRange,ie=function(oe,se){return[oe,se]}):J==="lataxis"&&(ee=ue.lataxisRange,re=ue.lonaxisRange,ie=function(oe,se){return[se,oe]});var pe={type:"linear",range:[ee[0],ee[1]-1e-6],tick0:ae.tick0,dtick:ae.dtick};s.setConvert(pe,K);var de=s.calcTicks(pe);X.isScoped||J!=="lonaxis"||de.pop();for(var ye=de.length,be=new Array(ye),me=0;me<ye;me++)for(var Ee=de[me].x,Te=be[me]=[],we=re[0];we<re[1]+2.5;we+=2.5)Te.push(ie(Ee,we));return{type:"MultiLineString",coordinates:be}}(V,O,E)).call(i.stroke,O[V].gridcolor).call(n.dashLine,O[V].griddash,O[V].gridwidth),N(V)?te.call(i.stroke,O[Q+"color"]).call(n.dashLine,"",O[Q+"width"]):Z(V)&&te.call(i.fill,O[Q+"color"])})},S.updateDims=function(E,O){var P=this.bounds,I=(O.framewidth||0)/2,z=P[0][0]-I,j=P[0][1]-I,R=P[1][0]-z+I,N=P[1][1]-j+I;n.setRect(this.clipRect,z,j,R,N),this.bgRect.call(n.setRect,z,j,R,N).call(i.fill,O.bgcolor),this.xaxis._offset=z,this.xaxis._length=R,this.yaxis._offset=j,this.yaxis._length=N},S.updateFx=function(E,O){var P=this,I=P.graphDiv,z=P.bgRect,j=E.dragmode,R=E.clickmode;if(!P.isStatic){var N={element:P.bgRect.node(),gd:I,plotinfo:{id:P.id,xaxis:P.xaxis,yaxis:P.yaxis,fillRangeItems:function(F,U){U.isRect?(F.range={})[P.id]=[Z([U.xmin,U.ymin]),Z([U.xmax,U.ymax])]:(F.lassoPoints={})[P.id]=U.map(Z)}},xaxes:[P.xaxis],yaxes:[P.yaxis],subplot:P.id,clickFn:function(F){F===2&&x(I)}};j==="pan"?(z.node().onmousedown=null,z.call(d(P,O)),z.on("dblclick.zoom",function(){var F=P.viewInitial,U={};for(var V in F)U[P.id+"."+V]=F[V];h.call("_guiRelayout",I,U),I.emit("plotly_doubleclick",null)}),I._context._scrollZoom.geo||z.on("wheel.zoom",null)):j!=="select"&&j!=="lasso"||(z.on(".zoom",null),N.prepFn=function(F,U,V){c(F,U,V,N,j)},p.init(N)),z.on("mousemove",function(){var F=P.projection.invert(o.getPositionFromD3Event());if(!F)return p.unhover(I,M.event);P.xaxis.p2c=function(){return F[0]},P.yaxis.p2c=function(){return F[1]},r.hover(I,M.event,P.id)}),z.on("mouseout",function(){I._dragging||p.unhover(I,M.event)}),z.on("click",function(){j!=="select"&&j!=="lasso"&&(R.indexOf("select")>-1&&g(M.event,I,[P.xaxis],[P.yaxis],P.id,N),R.indexOf("event")>-1&&r.click(I,M.event))})}function Z(F){return P.projection.invert([F[0]+P.xaxis._offset,F[1]+P.yaxis._offset])}},S.makeFramework=function(){var E=this,O=E.graphDiv,P=O._fullLayout,I="clip"+P._uid+E.id;E.clipDef=P._clips.append("clipPath").attr("id",I),E.clipRect=E.clipDef.append("rect"),E.framework=M.select(E.container).append("g").attr("class","geo "+E.id).call(n.setClipUrl,I,O),E.project=function(z){var j=E.projection(z);return j?[j[0]-E.xaxis._offset,j[1]-E.yaxis._offset]:[null,null]},E.xaxis={_id:"x",c2p:function(z){return E.project(z)[0]}},E.yaxis={_id:"y",c2p:function(z){return E.project(z)[1]}},E.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},s.setConvert(E.mockAxis,P)},S.saveViewInitial=function(E){var O,P=E.center||{},I=E.projection,z=I.rotation||{};this.viewInitial={fitbounds:E.fitbounds,"projection.scale":I.scale},O=E._isScoped?{"center.lon":P.lon,"center.lat":P.lat}:E._isClipped?{"projection.rotation.lon":z.lon,"projection.rotation.lat":z.lat}:{"center.lon":P.lon,"center.lat":P.lat,"projection.rotation.lon":z.lon},o.extendFlat(this.viewInitial,O)},S.render=function(E){this._hasMarkerAngles&&E?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},S._render=function(){var E,O=this.projection,P=O.getPath();function I(j){var R=O(j.lonlat);return R?t(R[0],R[1]):null}function z(j){return O.isLonLatOverEdges(j.lonlat)?"none":null}for(E in this.basePaths)this.basePaths[E].attr("d",P);for(E in this.dataPaths)this.dataPaths[E].attr("d",function(j){return P(j.geojson)});for(E in this.dataPoints)this.dataPoints[E].attr("display",z).attr("transform",I)}},44622:function(q,C,e){var M=e(27659).AU,k=e(71828).counterRegex,a=e(69082),_="geo",b=k(_),h={};h[_]={valType:"subplotid",dflt:_,editType:"calc"},q.exports={attr:_,name:_,idRoot:_,idRegex:b,attrRegex:b,attributes:h,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:function(o){for(var t=o._fullLayout,i=o.calcdata,n=t._subplots[_],r=0;r<n.length;r++){var l=n[r],s=M(i,_,l),u=t[l]._subplot;u||(u=a({id:l,graphDiv:o,container:t._geolayer.node(),topojsonURL:o._context.topojsonURL,staticPlot:o._context.staticPlot}),t[l]._subplot=u),u.plot(s,t,o._promises)}},updateFx:function(o){for(var t=o._fullLayout,i=t._subplots[_],n=0;n<i.length;n++){var r=t[i[n]];r._subplot.updateFx(t,r)}},clean:function(o,t,i,n){for(var r=n._subplots[_]||[],l=0;l<r.length;l++){var s=r[l],u=n[s]._subplot;!t[s]&&u&&(u.framework.remove(),u.clipDef.remove())}}}},77519:function(q,C,e){var M=e(22399),k=e(27670).Y,a=e(79952).P,_=e(78776),b=e(30962).overrideAll,h=e(78607),o={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:M.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:a};(q.exports=b({domain:k({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:h(_.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:h(_.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:M.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:_.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:_.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:_.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:_.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:M.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:M.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:M.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:M.background},lonaxis:o,lataxis:o},"plot","from-root")).uirevision={valType:"any",editType:"none"}},82161:function(q,C,e){var M=e(71828),k=e(49119),a=e(27659).NG,_=e(78776),b=e(77519),h=_.axesNames;function o(t,i,n,r){var l=a(r.fullData,"geo",r.id).map(function(J){return J._expandedIndex}),s=n("resolution"),u=n("scope"),p=_.scopeDefaults[u],c=n("projection.type",p.projType),x=i._isAlbersUsa=c==="albers usa";x&&(u=i.scope="usa");var g=i._isScoped=u!=="world",d=i._isSatellite=c==="satellite",v=i._isConic=c.indexOf("conic")!==-1||c==="albers",y=i._isClipped=!!_.lonaxisSpan[c];if(t.visible===!1){var m=M.extendDeep({},i._template);m.showcoastlines=!1,m.showcountries=!1,m.showframe=!1,m.showlakes=!1,m.showland=!1,m.showocean=!1,m.showrivers=!1,m.showsubunits=!1,m.lonaxis&&(m.lonaxis.showgrid=!1),m.lataxis&&(m.lataxis.showgrid=!1),i._template=m}for(var w=n("visible"),f=0;f<h.length;f++){var S,T=h[f],E=[30,10][f];if(g)S=p[T+"Range"];else{var O=_[T+"Span"],P=(O[c]||O["*"])/2,I=n("projection.rotation."+T.substr(0,3),p.projRotate[f]);S=[I-P,I+P]}var z=n(T+".range",S);n(T+".tick0"),n(T+".dtick",E),n(T+".showgrid",!!w&&void 0)&&(n(T+".gridcolor"),n(T+".gridwidth"),n(T+".griddash")),i[T]._ax={type:"linear",_id:T.slice(0,3),_traceIndices:l,setScale:M.identity,c2l:M.identity,r2l:M.identity,autorange:!0,range:z.slice(),_m:1,_input:{}}}var j=i.lonaxis.range,R=i.lataxis.range,N=j[0],Z=j[1];N>0&&Z<0&&(Z+=360);var F,U,V,te=(N+Z)/2;if(!x){var Q=g?p.projRotate:[te,0,0];F=n("projection.rotation.lon",Q[0]),n("projection.rotation.lat",Q[1]),n("projection.rotation.roll",Q[2]),n("showcoastlines",!g&&w)&&(n("coastlinecolor"),n("coastlinewidth")),n("showocean",!!w&&void 0)&&n("oceancolor")}x?(U=-96.6,V=38.7):(U=g?te:F,V=(R[0]+R[1])/2),n("center.lon",U),n("center.lat",V),d&&(n("projection.tilt"),n("projection.distance")),v&&n("projection.parallels",p.projParallels||[0,60]),n("projection.scale"),n("showland",!!w&&void 0)&&n("landcolor"),n("showlakes",!!w&&void 0)&&n("lakecolor"),n("showrivers",!!w&&void 0)&&(n("rivercolor"),n("riverwidth")),n("showcountries",g&&u!=="usa"&&w)&&(n("countrycolor"),n("countrywidth")),(u==="usa"||u==="north america"&&s===50)&&(n("showsubunits",w),n("subunitcolor"),n("subunitwidth")),g||n("showframe",w)&&(n("framecolor"),n("framewidth")),n("bgcolor"),n("fitbounds")&&(delete i.projection.scale,g?(delete i.center.lon,delete i.center.lat):y?(delete i.center.lon,delete i.center.lat,delete i.projection.rotation.lon,delete i.projection.rotation.lat,delete i.lonaxis.range,delete i.lataxis.range):(delete i.center.lon,delete i.center.lat,delete i.projection.rotation.lon))}q.exports=function(t,i,n){k(t,i,n,{type:"geo",attributes:b,handleDefaults:o,fullData:n,partition:"y"})}},74455:function(q,C,e){var M=e(39898),k=e(71828),a=e(73972),_=Math.PI/180,b=180/Math.PI,h={cursor:"pointer"},o={cursor:"auto"};function t(g,d){return M.behavior.zoom().translate(d.translate()).scale(d.scale())}function i(g,d,v){var y=g.id,m=g.graphDiv,w=m.layout,f=w[y],S=m._fullLayout,T=S[y],E={},O={};function P(I,z){E[y+"."+I]=k.nestedProperty(f,I).get(),a.call("_storeDirectGUIEdit",w,S._preGUI,E);var j=k.nestedProperty(T,I);j.get()!==z&&(j.set(z),k.nestedProperty(f,I).set(z),O[y+"."+I]=z)}v(P),P("projection.scale",d.scale()/g.fitScale),P("fitbounds",!1),m.emit("plotly_relayout",O)}function n(g,d){var v=t(0,d);function y(m){var w=d.invert(g.midPt);m("center.lon",w[0]),m("center.lat",w[1])}return v.on("zoomstart",function(){M.select(this).style(h)}).on("zoom",function(){d.scale(M.event.scale).translate(M.event.translate),g.render(!0);var m=d.invert(g.midPt);g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":d.scale()/g.fitScale,"geo.center.lon":m[0],"geo.center.lat":m[1]})}).on("zoomend",function(){M.select(this).style(o),i(g,d,y)}),v}function r(g,d){var v,y,m,w,f,S,T,E,O,P=t(0,d);function I(j){return d.invert(j)}function z(j){var R=d.rotate(),N=d.invert(g.midPt);j("projection.rotation.lon",-R[0]),j("center.lon",N[0]),j("center.lat",N[1])}return P.on("zoomstart",function(){M.select(this).style(h),v=M.mouse(this),y=d.rotate(),m=d.translate(),w=y,f=I(v)}).on("zoom",function(){if(S=M.mouse(this),function(N){var Z=I(N);if(!Z)return!0;var F=d(Z);return Math.abs(F[0]-N[0])>2||Math.abs(F[1]-N[1])>2}(v))return P.scale(d.scale()),void P.translate(d.translate());d.scale(M.event.scale),d.translate([m[0],M.event.translate[1]]),f?I(S)&&(E=I(S),T=[w[0]+(E[0]-f[0]),y[1],y[2]],d.rotate(T),w=T):f=I(v=S),O=!0,g.render(!0);var j=d.rotate(),R=d.invert(g.midPt);g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":d.scale()/g.fitScale,"geo.center.lon":R[0],"geo.center.lat":R[1],"geo.projection.rotation.lon":-j[0]})}).on("zoomend",function(){M.select(this).style(o),O&&i(g,d,z)}),P}function l(g,d){var v;d.rotate(),d.scale();var y=t(0,d),m=function(T){for(var E=0,O=arguments.length,P=[];++E<O;)P.push(arguments[E]);var I=M.dispatch.apply(null,P);return I.of=function(z,j){return function(R){var N;try{N=R.sourceEvent=M.event,R.target=T,M.event=R,I[R.type].apply(z,j)}finally{M.event=N}}},I}(y,"zoomstart","zoom","zoomend"),w=0,f=y.on;function S(T){var E=d.rotate();T("projection.rotation.lon",-E[0]),T("projection.rotation.lat",-E[1])}return y.on("zoomstart",function(){M.select(this).style(h);var T,E,O,P,I,z,j,R,N,Z,F,U=M.mouse(this),V=d.rotate(),te=V,Q=d.translate(),J=(E=.5*(T=V)[0]*_,O=.5*T[1]*_,P=.5*T[2]*_,I=Math.sin(E),z=Math.cos(E),j=Math.sin(O),R=Math.cos(O),N=Math.sin(P),[z*R*(Z=Math.cos(P))+I*j*N,I*R*Z-z*j*N,z*j*Z+I*R*N,z*R*N-I*j*Z]);v=s(d,U),f.call(y,"zoom",function(){var X,K,ee,re,ie,ae,ue,pe,de,ye,be=M.mouse(this);if(d.scale(M.event.scale),v){if(s(d,be)){d.rotate(V).translate(Q);var me=s(d,be),Ee=function(oe,se){if(oe&&se){var he=function(Ce,Re){return[Ce[1]*Re[2]-Ce[2]*Re[1],Ce[2]*Re[0]-Ce[0]*Re[2],Ce[0]*Re[1]-Ce[1]*Re[0]]}(oe,se),Se=Math.sqrt(x(he,he)),_e=.5*Math.acos(Math.max(-1,Math.min(1,x(oe,se)))),Ae=Math.sin(_e)/Se;return Se&&[Math.cos(_e),he[2]*Ae,-he[1]*Ae,he[0]*Ae]}}(v,me),Te=function(oe){return[Math.atan2(2*(oe[0]*oe[1]+oe[2]*oe[3]),1-2*(oe[1]*oe[1]+oe[2]*oe[2]))*b,Math.asin(Math.max(-1,Math.min(1,2*(oe[0]*oe[2]-oe[3]*oe[1]))))*b,Math.atan2(2*(oe[0]*oe[3]+oe[1]*oe[2]),1-2*(oe[2]*oe[2]+oe[3]*oe[3]))*b]}((ee=(X=J)[0],re=X[1],ie=X[2],ae=X[3],[ee*(ue=(K=Ee)[0])-re*(pe=K[1])-ie*(de=K[2])-ae*(ye=K[3]),ee*pe+re*ue+ie*ye-ae*de,ee*de-re*ye+ie*ue+ae*pe,ee*ye+re*de-ie*pe+ae*ue])),we=function(oe,se,he){var Se=c(se,2,oe[0]);Se=c(Se,1,oe[1]),Se=c(Se,0,oe[2]-he[2]);var _e,Ae,Ce=se[0],Re=se[1],fe=se[2],xe=Se[0],ke=Se[1],Ie=Se[2],Fe=Math.atan2(Re,Ce)*b,ze=Math.sqrt(Ce*Ce+Re*Re);Math.abs(ke)>ze?(Ae=(ke>0?90:-90)-Fe,_e=0):(Ae=Math.asin(ke/ze)*b-Fe,_e=Math.sqrt(ze*ze-ke*ke));var qe=180-Ae-2*Fe,Ye=(Math.atan2(Ie,xe)-Math.atan2(fe,_e))*b,Qe=(Math.atan2(Ie,xe)-Math.atan2(fe,-_e))*b;return u(he[0],he[1],Ae,Ye)<=u(he[0],he[1],qe,Qe)?[Ae,Ye,he[2]]:[qe,Qe,he[2]]}(Te,v,te);isFinite(we[0])&&isFinite(we[1])&&isFinite(we[2])||(we=te),d.rotate(we),te=we}}else v=s(d,U=be);m.of(this,arguments)({type:"zoom"})}),F=m.of(this,arguments),w++||F({type:"zoomstart"})}).on("zoomend",function(){var T;M.select(this).style(o),f.call(y,"zoom",null),T=m.of(this,arguments),--w||T({type:"zoomend"}),i(g,d,S)}).on("zoom.redraw",function(){g.render(!0);var T=d.rotate();g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":d.scale()/g.fitScale,"geo.projection.rotation.lon":-T[0],"geo.projection.rotation.lat":-T[1]})}),M.rebind(y,m,"on")}function s(g,d){var v=g.invert(d);return v&&isFinite(v[0])&&isFinite(v[1])&&function(y){var m=y[0]*_,w=y[1]*_,f=Math.cos(w);return[f*Math.cos(m),f*Math.sin(m),Math.sin(w)]}(v)}function u(g,d,v,y){var m=p(v-g),w=p(y-d);return Math.sqrt(m*m+w*w)}function p(g){return(g%360+540)%360-180}function c(g,d,v){var y=v*_,m=g.slice(),w=d===0?1:0,f=d===2?1:2,S=Math.cos(y),T=Math.sin(y);return m[w]=g[w]*S-g[f]*T,m[f]=g[f]*S+g[w]*T,m}function x(g,d){for(var v=0,y=0,m=g.length;y<m;++y)v+=g[y]*d[y];return v}q.exports=function(g,d){var v=g.projection;return(d._isScoped?n:d._isClipped?l:r)(g,v)}},27659:function(q,C,e){var M=e(73972),k=e(85555).SUBPLOT_PATTERN;C.AU=function(a,_,b){var h=M.subplotsRegistry[_];if(!h)return[];for(var o=h.attr,t=[],i=0;i<a.length;i++){var n=a[i];n[0].trace[o]===b&&t.push(n)}return t},C.a0=function(a,_){var b,h=[],o=[];if(!(b=typeof _=="string"?M.getModule(_).plot:typeof _=="function"?_:_.plot))return[h,a];for(var t=0;t<a.length;t++){var i=a[t],n=i[0].trace;n.visible===!0&&n._length!==0&&(n._module&&n._module.plot===b?h.push(i):o.push(i))}return[h,o]},C.NG=function(a,_,b){if(!M.subplotsRegistry[_])return[];var h,o,t,i=M.subplotsRegistry[_].attr,n=[];if(_==="gl2d"){var r=b.match(k);o="x"+r[1],t="y"+r[2]}for(var l=0;l<a.length;l++)h=a[l],_==="gl2d"&&M.traceIs(h,"gl2d")?h[i[0]]===o&&h[i[1]]===t&&n.push(h):h[i]===b&&n.push(h);return n}},75071:function(q,C,e){var M=e(16825),k=e(1195),a=e(48956),_=e(85555),b=e(38520);function h(o,t){this.element=o,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}q.exports=function(o){var t=o.mouseContainer,i=o.glplot,n=new h(t,i);function r(){o.xaxis.autorange=!1,o.yaxis.autorange=!1}function l(s,u,p){var c,x,g=o.calcDataBox(),d=i.viewBox,v=n.lastPos[0],y=n.lastPos[1],m=_.MINDRAG*i.pixelRatio,w=_.MINZOOM*i.pixelRatio;function f(I,z,j){var R=Math.min(z,j),N=Math.max(z,j);R!==N?(g[I]=R,g[I+2]=N,n.dataBox=g,o.setRanges(g)):(o.selectBox.selectBox=[0,0,1,1],o.glplot.setDirty())}switch(u*=i.pixelRatio,p*=i.pixelRatio,p=d[3]-d[1]-p,o.fullLayout.dragmode){case"zoom":if(s){var S=u/(d[2]-d[0])*(g[2]-g[0])+g[0],T=p/(d[3]-d[1])*(g[3]-g[1])+g[1];n.boxInited||(n.boxStart[0]=S,n.boxStart[1]=T,n.dragStart[0]=u,n.dragStart[1]=p),n.boxEnd[0]=S,n.boxEnd[1]=T,n.boxInited=!0,n.boxEnabled||n.boxStart[0]===n.boxEnd[0]&&n.boxStart[1]===n.boxEnd[1]||(n.boxEnabled=!0);var E=Math.abs(n.dragStart[0]-u)<w,O=Math.abs(n.dragStart[1]-p)<w;if(!function(){for(var I=o.graphDiv._fullLayout._axisConstraintGroups,z=o.xaxis._id,j=o.yaxis._id,R=0;R<I.length;R++)if(I[R][z]!==-1){if(I[R][j]!==-1)return!0;break}return!1}()||E&&O)E&&(n.boxEnd[0]=n.boxStart[0]),O&&(n.boxEnd[1]=n.boxStart[1]);else{c=n.boxEnd[0]-n.boxStart[0],x=n.boxEnd[1]-n.boxStart[1];var P=(g[3]-g[1])/(g[2]-g[0]);Math.abs(c*P)>Math.abs(x)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(c)*P*(x>=0?1:-1),n.boxEnd[1]<g[1]?(n.boxEnd[1]=g[1],n.boxEnd[0]=n.boxStart[0]+(g[1]-n.boxStart[1])/Math.abs(P)):n.boxEnd[1]>g[3]&&(n.boxEnd[1]=g[3],n.boxEnd[0]=n.boxStart[0]+(g[3]-n.boxStart[1])/Math.abs(P))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(x)/P*(c>=0?1:-1),n.boxEnd[0]<g[0]?(n.boxEnd[0]=g[0],n.boxEnd[1]=n.boxStart[1]+(g[0]-n.boxStart[0])*Math.abs(P)):n.boxEnd[0]>g[2]&&(n.boxEnd[0]=g[2],n.boxEnd[1]=n.boxStart[1]+(g[2]-n.boxStart[0])*Math.abs(P)))}}else n.boxEnabled?(c=n.boxStart[0]!==n.boxEnd[0],x=n.boxStart[1]!==n.boxEnd[1],c||x?(c&&(f(0,n.boxStart[0],n.boxEnd[0]),o.xaxis.autorange=!1),x&&(f(1,n.boxStart[1],n.boxEnd[1]),o.yaxis.autorange=!1),o.relayoutCallback()):o.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,s?(n.panning||(n.dragStart[0]=u,n.dragStart[1]=p),Math.abs(n.dragStart[0]-u)<m&&(u=n.dragStart[0]),Math.abs(n.dragStart[1]-p)<m&&(p=n.dragStart[1]),c=(v-u)*(g[2]-g[0])/(i.viewBox[2]-i.viewBox[0]),x=(y-p)*(g[3]-g[1])/(i.viewBox[3]-i.viewBox[1]),g[0]+=c,g[2]+=c,g[1]+=x,g[3]+=x,o.setRanges(g),n.panning=!0,n.lastInputTime=Date.now(),r(),o.cameraChanged(),o.handleAnnotations()):n.panning&&(n.panning=!1,o.relayoutCallback())}n.lastPos[0]=u,n.lastPos[1]=p}return n.mouseListener=M(t,l),t.addEventListener("touchstart",function(s){var u=a(s.changedTouches[0],t);l(0,u[0],u[1]),l(1,u[0],u[1]),s.preventDefault()},!!b&&{passive:!1}),t.addEventListener("touchmove",function(s){s.preventDefault();var u=a(s.changedTouches[0],t);l(1,u[0],u[1]),s.preventDefault()},!!b&&{passive:!1}),t.addEventListener("touchend",function(s){l(0,n.lastPos[0],n.lastPos[1]),s.preventDefault()},!!b&&{passive:!1}),n.wheelListener=k(t,function(s,u){if(!o.scrollZoom)return!1;var p=o.calcDataBox(),c=i.viewBox,x=n.lastPos[0],g=n.lastPos[1],d=Math.exp(5*u/(c[3]-c[1])),v=x/(c[2]-c[0])*(p[2]-p[0])+p[0],y=g/(c[3]-c[1])*(p[3]-p[1])+p[1];return p[0]=(p[0]-v)*d+v,p[2]=(p[2]-v)*d+v,p[1]=(p[1]-y)*d+y,p[3]=(p[3]-y)*d+y,o.setRanges(p),n.lastInputTime=Date.now(),r(),o.cameraChanged(),o.handleAnnotations(),o.relayoutCallback(),!0},!0),n}},82961:function(q,C,e){var M=e(89298),k=e(78614);function a(h){this.scene=h,this.gl=h.gl,this.pixelRatio=h.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var _=a.prototype,b=["xaxis","yaxis"];_.merge=function(h){var o,t,i,n,r,l,s,u,p,c,x;for(this.titleEnable=!1,this.backgroundColor=k(h.plot_bgcolor),c=0;c<2;++c){var g=(o=b[c]).charAt(0);for(i=(t=h[this.scene[o]._name]).title.text===this.scene.fullLayout._dfltTitle[g]?"":t.title.text,x=0;x<=2;x+=2)this.labelEnable[c+x]=!1,this.labels[c+x]=i,this.labelColor[c+x]=k(t.title.font.color),this.labelFont[c+x]=t.title.font.family,this.labelSize[c+x]=t.title.font.size,this.labelPad[c+x]=this.getLabelPad(o,t),this.tickEnable[c+x]=!1,this.tickColor[c+x]=k((t.tickfont||{}).color),this.tickAngle[c+x]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[c+x]=this.getTickPad(t),this.tickMarkLength[c+x]=0,this.tickMarkWidth[c+x]=t.tickwidth||0,this.tickMarkColor[c+x]=k(t.tickcolor),this.borderLineEnable[c+x]=!1,this.borderLineColor[c+x]=k(t.linecolor),this.borderLineWidth[c+x]=t.linewidth||0;s=this.hasSharedAxis(t),r=this.hasAxisInDfltPos(o,t)&&!s,l=this.hasAxisInAltrPos(o,t)&&!s,n=t.mirror||!1,u=s?String(n).indexOf("all")!==-1:!!n,p=s?n==="allticks":String(n).indexOf("ticks")!==-1,r?this.labelEnable[c]=!0:l&&(this.labelEnable[c+2]=!0),r?this.tickEnable[c]=t.showticklabels:l&&(this.tickEnable[c+2]=t.showticklabels),(r||u)&&(this.borderLineEnable[c]=t.showline),(l||u)&&(this.borderLineEnable[c+2]=t.showline),(r||p)&&(this.tickMarkLength[c]=this.getTickMarkLength(t)),(l||p)&&(this.tickMarkLength[c+2]=this.getTickMarkLength(t)),this.gridLineEnable[c]=t.showgrid,this.gridLineColor[c]=k(t.gridcolor),this.gridLineWidth[c]=t.gridwidth,this.zeroLineEnable[c]=t.zeroline,this.zeroLineColor[c]=k(t.zerolinecolor),this.zeroLineWidth[c]=t.zerolinewidth}},_.hasSharedAxis=function(h){var o=this.scene,t=o.fullLayout._subplots.gl2d;return M.findSubplotsWithAxis(t,h).indexOf(o.id)!==0},_.hasAxisInDfltPos=function(h,o){var t=o.side;return h==="xaxis"?t==="bottom":h==="yaxis"?t==="left":void 0},_.hasAxisInAltrPos=function(h,o){var t=o.side;return h==="xaxis"?t==="top":h==="yaxis"?t==="right":void 0},_.getLabelPad=function(h,o){var t=1.5,i=o.title.font.size,n=o.showticklabels;return h==="xaxis"?o.side==="top"?i*(t+(n?1:0))-10:i*(t+(n?.5:0))-10:h==="yaxis"?o.side==="right"?10+i*(t+(n?1:.5)):10+i*(t+(n?.5:0)):void 0},_.getTickPad=function(h){return h.ticks==="outside"?10+h.ticklen:15},_.getTickMarkLength=function(h){if(!h.ticks)return 0;var o=h.ticklen;return h.ticks==="inside"?-o:o},q.exports=function(h){return new a(h)}},4796:function(q,C,e){var M=e(30962).overrideAll,k=e(92918),a=e(10820),_=e(77922),b=e(85555),h=e(93612),o=e(528),t=e(27659).NG;C.name="gl2d",C.attr=["xaxis","yaxis"],C.idRoot=["x","y"],C.idRegex=b.idRegex,C.attrRegex=b.attrRegex,C.attributes=e(89502),C.supplyLayoutDefaults=function(i,n,r){n._has("cartesian")||h.supplyLayoutDefaults(i,n,r)},C.layoutAttrOverrides=M(h.layoutAttributes,"plot","from-root"),C.baseLayoutAttrOverrides=M({plot_bgcolor:a.plot_bgcolor,hoverlabel:o.hoverlabel},"plot","nested"),C.plot=function(i){for(var n=i._fullLayout,r=i._fullData,l=n._subplots.gl2d,s=0;s<l.length;s++){var u=l[s],p=n._plots[u],c=t(r,"gl2d",u),x=p._scene2d;x===void 0&&(x=new k({id:u,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio},n),p._scene2d=x),x.plot(c,i.calcdata,n,i.layout)}},C.clean=function(i,n,r,l){for(var s=l._subplots.gl2d||[],u=0;u<s.length;u++){var p=s[u],c=l._plots[p];c._scene2d&&t(i,"gl2d",p).length===0&&(c._scene2d.destroy(),delete l._plots[p])}h.clean.apply(this,arguments)},C.drawFramework=function(i){i._context.staticPlot||h.drawFramework(i)},C.toSVG=function(i){for(var n=i._fullLayout,r=n._subplots.gl2d,l=0;l<r.length;l++){var s=n._plots[r[l]]._scene2d,u=s.toImage("png");n._glimages.append("svg:image").attr({xmlns:_.svg,"xlink:href":u,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),s.destroy()}},C.updateFx=function(i){for(var n=i._fullLayout,r=n._subplots.gl2d,l=0;l<r.length;l++)n._plots[r[l]]._scene2d.updateFx(n.dragmode)}},92918:function(q,C,e){var M,k,a=e(73972),_=e(89298),b=e(30211),h=e(9330).gl_plot2d,o=e(9330).gl_spikes2d,t=e(9330).gl_select_box,i=e(40372),n=e(82961),r=e(75071),l=e(58617),s=e(99082),u=s.enforce,p=s.clean,c=e(71739).doAutoRange,x=e(64505),g=x.drawMode,d=x.selectMode,v=["xaxis","yaxis"],y=e(85555).SUBPLOT_PATTERN;function m(f,S){this.container=f.container,this.graphDiv=f.graphDiv,this.pixelRatio=f.plotGlPixelRatio||window.devicePixelRatio,this.id=f.id,this.staticPlot=!!f.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(S),this.makeFramework(),this.stopped||(this.glplotOptions=n(this),this.glplotOptions.merge(S),this.glplot=h(this.glplotOptions),this.camera=r(this),this.traces={},this.spikes=o(this.glplot),this.selectBox=t(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}q.exports=m;var w=m.prototype;w.makeFramework=function(){if(this.staticPlot){if(!(k||(M=document.createElement("canvas"),k=i({canvas:M,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=M,this.gl=k}else{var f=this.container.querySelector(".gl-canvas-focus"),S=i({canvas:f,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!S)return l(this),void(this.stopped=!0);this.canvas=f,this.gl=S}var T=this.canvas;T.style.width="100%",T.style.height="100%",T.style.position="absolute",T.style.top="0px",T.style.left="0px",T.style["pointer-events"]="none",this.updateSize(T);var E=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");E.style.position="absolute",E.style.top=E.style.left="0px",E.style.width=E.style.height="100%",E.style["z-index"]=20,E.style["pointer-events"]="none";var O=this.mouseContainer=document.createElement("div");O.style.position="absolute",O.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var P=this.container;P.appendChild(E),P.appendChild(O);var I=this;O.addEventListener("mouseout",function(){I.isMouseOver=!1,I.unhover()}),O.addEventListener("mouseover",function(){I.isMouseOver=!0})},w.toImage=function(f){f||(f="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(M),this.updateSize(this.canvas);var S=this.glplot.gl,T=S.drawingBufferWidth,E=S.drawingBufferHeight;S.clearColor(1,1,1,0),S.clear(S.COLOR_BUFFER_BIT|S.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),S.bindFramebuffer(S.FRAMEBUFFER,null);var O=new Uint8Array(T*E*4);S.readPixels(0,0,T,E,S.RGBA,S.UNSIGNED_BYTE,O);for(var P=0,I=E-1;P<I;++P,--I)for(var z=0;z<T;++z)for(var j=0;j<4;++j){var R=O[4*(T*P+z)+j];O[4*(T*P+z)+j]=O[4*(T*I+z)+j],O[4*(T*I+z)+j]=R}var N=document.createElement("canvas");N.width=T,N.height=E;var Z,F=N.getContext("2d",{willReadFrequently:!0}),U=F.createImageData(T,E);switch(U.data.set(O),F.putImageData(U,0,0),f){case"jpeg":Z=N.toDataURL("image/jpeg");break;case"webp":Z=N.toDataURL("image/webp");break;default:Z=N.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(M),Z},w.updateSize=function(f){f||(f=this.canvas);var S=this.pixelRatio,T=this.fullLayout,E=T.width,O=T.height,P=0|Math.ceil(S*E),I=0|Math.ceil(S*O);return f.width===P&&f.height===I||(f.width=P,f.height=I),f},w.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var f=[_.calcTicks(this.xaxis),_.calcTicks(this.yaxis)],S=0;S<2;++S)for(var T=0;T<f[S].length;++T)f[S][T].text=f[S][T].text+"";return f},w.updateRefs=function(f){this.fullLayout=f;var S=this.id.match(y),T="xaxis"+S[1],E="yaxis"+S[2];this.xaxis=this.fullLayout[T],this.yaxis=this.fullLayout[E]},w.relayoutCallback=function(){var f=this.graphDiv,S=this.xaxis,T=this.yaxis,E=f.layout,O={},P=O[S._name+".range"]=S.range.slice(),I=O[T._name+".range"]=T.range.slice();O[S._name+".autorange"]=S.autorange,O[T._name+".autorange"]=T.autorange,a.call("_storeDirectGUIEdit",f.layout,f._fullLayout._preGUI,O);var z=E[S._name];z.range=P,z.autorange=S.autorange;var j=E[T._name];j.range=I,j.autorange=T.autorange,O.lastInputTime=this.camera.lastInputTime,f.emit("plotly_relayout",O)},w.cameraChanged=function(){var f=this.camera;this.glplot.setDataBox(this.calcDataBox());var S=this.computeTickMarks();(function(T,E){for(var O=0;O<2;++O){var P=T[O],I=E[O];if(P.length!==I.length)return!0;for(var z=0;z<P.length;++z)if(P[z].x!==I[z].x)return!0}return!1})(S,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=S,this.glplotOptions.dataBox=f.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},w.handleAnnotations=function(){for(var f=this.graphDiv,S=this.fullLayout.annotations,T=0;T<S.length;T++){var E=S[T];E.xref===this.xaxis._id&&E.yref===this.yaxis._id&&a.getComponentMethod("annotations","drawOne")(f,T)}},w.destroy=function(){if(this.glplot){var f=this.traces;f&&Object.keys(f).map(function(S){f[S].dispose(),delete f[S]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},w.plot=function(f,S,T){var E=this.glplot;this.updateRefs(T),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(f,S),this.updateFx(T.dragmode);var O=T.width,P=T.height;this.updateSize(this.canvas);var I=this.glplotOptions;I.merge(T),I.screenBox=[0,0,O,P];var z={_fullLayout:{_axisConstraintGroups:T._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:T._size}};p(z,this.xaxis),p(z,this.yaxis);var j,R,N=T._size,Z=this.xaxis.domain,F=this.yaxis.domain;for(I.viewBox=[N.l+Z[0]*N.w,N.b+F[0]*N.h,O-N.r-(1-Z[1])*N.w,P-N.t-(1-F[1])*N.h],this.mouseContainer.style.width=N.w*(Z[1]-Z[0])+"px",this.mouseContainer.style.height=N.h*(F[1]-F[0])+"px",this.mouseContainer.height=N.h*(F[1]-F[0]),this.mouseContainer.style.left=N.l+Z[0]*N.w+"px",this.mouseContainer.style.top=N.t+(1-F[1])*N.h+"px",R=0;R<2;++R)(j=this[v[R]])._length=I.viewBox[R+2]-I.viewBox[R],c(this.graphDiv,j),j.setScale();u(z),I.ticks=this.computeTickMarks(),I.dataBox=this.calcDataBox(),I.merge(T),E.update(I),this.glplot.draw()},w.calcDataBox=function(){var f=this.xaxis,S=this.yaxis,T=f.range,E=S.range,O=f.r2l,P=S.r2l;return[O(T[0]),P(E[0]),O(T[1]),P(E[1])]},w.setRanges=function(f){var S=this.xaxis,T=this.yaxis,E=S.l2r,O=T.l2r;S.range=[E(f[0]),E(f[2])],T.range=[O(f[1]),O(f[3])]},w.updateTraces=function(f,S){var T,E,O,P=Object.keys(this.traces);this.fullData=f;e:for(T=0;T<P.length;T++){var I=P[T],z=this.traces[I];for(E=0;E<f.length;E++)if((O=f[E]).uid===I&&O.type===z.type)continue e;z.dispose(),delete this.traces[I]}for(T=0;T<f.length;T++){O=f[T];var j=S[T],R=this.traces[O.uid];R?R.update(O,j):(R=O._module.plot(this,O,j),this.traces[O.uid]=R)}this.glplot.objects.sort(function(N,Z){return N._trace.index-Z._trace.index})},w.updateFx=function(f){d(f)||g(f)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor=f==="pan"?"move":f==="zoom"?"crosshair":null},w.emitPointAction=function(f,S){for(var T,E=f.trace.uid,O=f.pointIndex,P=0;P<this.fullData.length;P++)this.fullData[P].uid===E&&(T=this.fullData[P]);var I={x:f.traceCoord[0],y:f.traceCoord[1],curveNumber:T.index,pointNumber:O,data:T._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};b.appendArrayPointValue(I,T,O),this.graphDiv.emit(S,{points:[I]})},w.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var f=this.glplot,S=this.camera,T=S.mouseListener,E=this.lastButtonState===1&&T.buttons===0,O=this.fullLayout;this.lastButtonState=T.buttons,this.cameraChanged();var P,I=T.x*f.pixelRatio,z=this.canvas.height-f.pixelRatio*T.y;if(S.boxEnabled&&O.dragmode==="zoom"){this.selectBox.enabled=!0;for(var j=this.selectBox.selectBox=[Math.min(S.boxStart[0],S.boxEnd[0]),Math.min(S.boxStart[1],S.boxEnd[1]),Math.max(S.boxStart[0],S.boxEnd[0]),Math.max(S.boxStart[1],S.boxEnd[1])],R=0;R<2;R++)S.boxStart[R]===S.boxEnd[R]&&(j[R]=f.dataBox[R],j[R+2]=f.dataBox[R+2]);f.setDirty()}else if(!S.panning&&this.isMouseOver){this.selectBox.enabled=!1;var N=O._size,Z=this.xaxis.domain,F=this.yaxis.domain,U=(P=f.pick(I/f.pixelRatio+N.l+Z[0]*N.w,z/f.pixelRatio-(N.t+(1-F[1])*N.h)))&&P.object._trace.handlePick(P);if(U&&E&&this.emitPointAction(U,"plotly_click"),P&&P.object._trace.hoverinfo!=="skip"&&O.hovermode&&U&&(!this.lastPickResult||this.lastPickResult.traceUid!==U.trace.uid||this.lastPickResult.dataCoord[0]!==U.dataCoord[0]||this.lastPickResult.dataCoord[1]!==U.dataCoord[1])){var V=U;this.lastPickResult={traceUid:U.trace?U.trace.uid:null,dataCoord:U.dataCoord.slice()},this.spikes.update({center:P.dataCoord}),V.screenCoord=[((f.viewBox[2]-f.viewBox[0])*(P.dataCoord[0]-f.dataBox[0])/(f.dataBox[2]-f.dataBox[0])+f.viewBox[0])/f.pixelRatio,(this.canvas.height-(f.viewBox[3]-f.viewBox[1])*(P.dataCoord[1]-f.dataBox[1])/(f.dataBox[3]-f.dataBox[1])-f.viewBox[1])/f.pixelRatio],this.emitPointAction(U,"plotly_hover");var te=this.fullData[V.trace.index]||{},Q=V.pointIndex,J=b.castHoverinfo(te,O,Q);if(J&&J!=="all"){var X=J.split("+");X.indexOf("x")===-1&&(V.traceCoord[0]=void 0),X.indexOf("y")===-1&&(V.traceCoord[1]=void 0),X.indexOf("z")===-1&&(V.traceCoord[2]=void 0),X.indexOf("text")===-1&&(V.textLabel=void 0),X.indexOf("name")===-1&&(V.name=void 0)}b.loneHover({x:V.screenCoord[0],y:V.screenCoord[1],xLabel:this.hoverFormatter("xaxis",V.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",V.traceCoord[1]),zLabel:V.traceCoord[2],text:V.textLabel,name:V.name,color:b.castHoverOption(te,Q,"bgcolor")||V.color,borderColor:b.castHoverOption(te,Q,"bordercolor"),fontFamily:b.castHoverOption(te,Q,"font.family"),fontSize:b.castHoverOption(te,Q,"font.size"),fontColor:b.castHoverOption(te,Q,"font.color"),nameLength:b.castHoverOption(te,Q,"namelength"),textAlign:b.castHoverOption(te,Q,"align")},{container:this.svgContainer,gd:this.graphDiv})}}P||this.unhover(),f.draw()}},w.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),b.loneUnhover(this.svgContainer))},w.hoverFormatter=function(f,S){if(S!==void 0){var T=this[f];return _.tickText(T,T.c2l(S),"hover").text}}},58547:function(q,C,e){var M=e(30962).overrideAll,k=e(528),a=e(33539),_=e(27659).NG,b=e(71828),h=e(77922),o="gl3d",t="scene";C.name=o,C.attr=t,C.idRoot=t,C.idRegex=C.attrRegex=b.counterRegex("scene"),C.attributes=e(59084),C.layoutAttributes=e(65500),C.baseLayoutAttrOverrides=M({hoverlabel:k.hoverlabel},"plot","nested"),C.supplyLayoutDefaults=e(24682),C.plot=function(i){for(var n=i._fullLayout,r=i._fullData,l=n._subplots[o],s=0;s<l.length;s++){var u=l[s],p=_(r,o,u),c=n[u],x=c.camera,g=c._scene;g||(g=new a({id:u,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio,camera:x},n),c._scene=g),g.viewInitial||(g.viewInitial={up:{x:x.up.x,y:x.up.y,z:x.up.z},eye:{x:x.eye.x,y:x.eye.y,z:x.eye.z},center:{x:x.center.x,y:x.center.y,z:x.center.z}}),g.plot(p,n,i.layout)}},C.clean=function(i,n,r,l){for(var s=l._subplots[o]||[],u=0;u<s.length;u++){var p=s[u];!n[p]&&l[p]._scene&&(l[p]._scene.destroy(),l._infolayer&&l._infolayer.selectAll(".annotation-"+p).remove())}},C.toSVG=function(i){for(var n=i._fullLayout,r=n._subplots[o],l=n._size,s=0;s<r.length;s++){var u=n[r[s]],p=u.domain,c=u._scene,x=c.toImage("png");n._glimages.append("svg:image").attr({xmlns:h.svg,"xlink:href":x,x:l.l+l.w*p.x[0],y:l.t+l.h*(1-p.y[1]),width:l.w*(p.x[1]-p.x[0]),height:l.h*(p.y[1]-p.y[0]),preserveAspectRatio:"none"}),c.destroy()}},C.cleanId=function(i){if(i.match(/^scene[0-9]*$/)){var n=i.substr(5);return n==="1"&&(n=""),t+n}},C.updateFx=function(i){for(var n=i._fullLayout,r=n._subplots[o],l=0;l<r.length;l++)n[r[l]]._scene.updateFx(n.dragmode,n.hovermode)}},59084:function(q){q.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(q,C,e){var M=e(7901),k=e(13838),a=e(1426).extendFlat,_=e(30962).overrideAll;q.exports=_({visible:k.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:M.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:k.color,categoryorder:k.categoryorder,categoryarray:k.categoryarray,title:{text:k.title.text,font:k.title.font},type:a({},k.type,{values:["-","linear","log","date","category"]}),autotypenumbers:k.autotypenumbers,autorange:k.autorange,autorangeoptions:{minallowed:k.autorangeoptions.minallowed,maxallowed:k.autorangeoptions.maxallowed,clipmin:k.autorangeoptions.clipmin,clipmax:k.autorangeoptions.clipmax,include:k.autorangeoptions.include,editType:"plot"},rangemode:k.rangemode,minallowed:k.minallowed,maxallowed:k.maxallowed,range:a({},k.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:k.minor.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:k.ticks,mirror:k.mirror,ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,showticklabels:k.showticklabels,labelalias:k.labelalias,tickfont:k.tickfont,tickangle:k.tickangle,tickprefix:k.tickprefix,showtickprefix:k.showtickprefix,ticksuffix:k.ticksuffix,showticksuffix:k.showticksuffix,showexponent:k.showexponent,exponentformat:k.exponentformat,minexponent:k.minexponent,separatethousands:k.separatethousands,tickformat:k.tickformat,tickformatstops:k.tickformatstops,hoverformat:k.hoverformat,showline:k.showline,linecolor:k.linecolor,linewidth:k.linewidth,showgrid:k.showgrid,gridcolor:a({},k.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:k.gridwidth,zeroline:k.zeroline,zerolinecolor:k.zerolinecolor,zerolinewidth:k.zerolinewidth,_deprecated:{title:k._deprecated.title,titlefont:k._deprecated.titlefont}},"plot","from-root")},3277:function(q,C,e){var M=e(84267).mix,k=e(71828),a=e(44467),_=e(77894),b=e(951),h=e(71453),o=["xaxis","yaxis","zaxis"];q.exports=function(t,i,n){var r,l;function s(c,x){return k.coerce(r,l,_,c,x)}for(var u=0;u<o.length;u++){var p=o[u];r=t[p]||{},(l=a.newContainer(i,p))._id=p[0]+n.scene,l._name=p,b(r,l,s,n),h(r,l,s,{font:n.font,letter:p[0],data:n.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:n.bgColor,calendar:n.calendar},n.fullLayout),s("gridcolor",M(l.color,n.bgColor,72.72727272727273).toRgbString()),s("title.text",p[0]),l.setScale=k.noop,s("showspikes")&&(s("spikesides"),s("spikethickness"),s("spikecolor",l.color)),s("showaxeslabels"),s("showbackground")&&s("backgroundcolor")}}},30422:function(q,C,e){var M=e(78614),k=e(71828),a=["xaxis","yaxis","zaxis"];function _(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}_.prototype.merge=function(b,h){for(var o=this,t=0;t<3;++t){var i=h[a[t]];i.visible?(o.labels[t]=b._meta?k.templateString(i.title.text,b._meta):i.title.text,"font"in i.title&&(i.title.font.color&&(o.labelColor[t]=M(i.title.font.color)),i.title.font.family&&(o.labelFont[t]=i.title.font.family),i.title.font.size&&(o.labelSize[t]=i.title.font.size)),"showline"in i&&(o.lineEnable[t]=i.showline),"linecolor"in i&&(o.lineColor[t]=M(i.linecolor)),"linewidth"in i&&(o.lineWidth[t]=i.linewidth),"showgrid"in i&&(o.gridEnable[t]=i.showgrid),"gridcolor"in i&&(o.gridColor[t]=M(i.gridcolor)),"gridwidth"in i&&(o.gridWidth[t]=i.gridwidth),i.type==="log"?o.zeroEnable[t]=!1:"zeroline"in i&&(o.zeroEnable[t]=i.zeroline),"zerolinecolor"in i&&(o.zeroLineColor[t]=M(i.zerolinecolor)),"zerolinewidth"in i&&(o.zeroLineWidth[t]=i.zerolinewidth),"ticks"in i&&i.ticks?o.lineTickEnable[t]=!0:o.lineTickEnable[t]=!1,"ticklen"in i&&(o.lineTickLength[t]=o._defaultLineTickLength[t]=i.ticklen),"tickcolor"in i&&(o.lineTickColor[t]=M(i.tickcolor)),"tickwidth"in i&&(o.lineTickWidth[t]=i.tickwidth),"tickangle"in i&&(o.tickAngle[t]=i.tickangle==="auto"?-3600:Math.PI*-i.tickangle/180),"showticklabels"in i&&(o.tickEnable[t]=i.showticklabels),"tickfont"in i&&(i.tickfont.color&&(o.tickColor[t]=M(i.tickfont.color)),i.tickfont.family&&(o.tickFont[t]=i.tickfont.family),i.tickfont.size&&(o.tickSize[t]=i.tickfont.size)),"mirror"in i?["ticks","all","allticks"].indexOf(i.mirror)!==-1?(o.lineTickMirror[t]=!0,o.lineMirror[t]=!0):i.mirror===!0?(o.lineTickMirror[t]=!1,o.lineMirror[t]=!0):(o.lineTickMirror[t]=!1,o.lineMirror[t]=!1):o.lineMirror[t]=!1,"showbackground"in i&&i.showbackground!==!1?(o.backgroundEnable[t]=!0,o.backgroundColor[t]=M(i.backgroundcolor)):o.backgroundEnable[t]=!1):(o.tickEnable[t]=!1,o.labelEnable[t]=!1,o.lineEnable[t]=!1,o.lineTickEnable[t]=!1,o.gridEnable[t]=!1,o.zeroEnable[t]=!1,o.backgroundEnable[t]=!1)}},q.exports=function(b,h){var o=new _;return o.merge(b,h),o}},24682:function(q,C,e){var M=e(71828),k=e(7901),a=e(73972),_=e(49119),b=e(3277),h=e(65500),o=e(27659).NG,t="gl3d";function i(n,r,l,s){for(var u=l("bgcolor"),p=k.combine(u,s.paper_bgcolor),c=["up","center","eye"],x=0;x<c.length;x++)l("camera."+c[x]+".x"),l("camera."+c[x]+".y"),l("camera."+c[x]+".z");l("camera.projection.type");var g=!!l("aspectratio.x")&&!!l("aspectratio.y")&&!!l("aspectratio.z"),d=l("aspectmode",g?"manual":"auto");g||(n.aspectratio=r.aspectratio={x:1,y:1,z:1},d==="manual"&&(r.aspectmode="auto"),n.aspectmode=r.aspectmode);var v=o(s.fullData,t,s.id);b(n,r,{font:s.font,scene:s.id,data:v,bgColor:p,calendar:s.calendar,autotypenumbersDflt:s.autotypenumbersDflt,fullLayout:s.fullLayout}),a.getComponentMethod("annotations3d","handleDefaults")(n,r,s);var y=s.getDfltFromLayout("dragmode");if(y!==!1&&!y)if(y="orbit",n.camera&&n.camera.up){var m=n.camera.up.x,w=n.camera.up.y,f=n.camera.up.z;f!==0&&(m&&w&&f?f/Math.sqrt(m*m+w*w+f*f)>.999&&(y="turntable"):y="turntable")}else y="turntable";l("dragmode",y),l("hovermode",s.getDfltFromLayout("hovermode"))}q.exports=function(n,r,l){var s=r._basePlotModules.length>1;_(n,r,l,{type:t,attributes:h,handleDefaults:i,fullLayout:r,font:r.font,fullData:l,getDfltFromLayout:function(u){if(!s)return M.validate(n[u],h[u])?n[u]:void 0},autotypenumbersDflt:r.autotypenumbers,paper_bgcolor:r.paper_bgcolor,calendar:r.calendar})}},65500:function(q,C,e){var M=e(77894),k=e(27670).Y,a=e(1426).extendFlat,_=e(71828).counterRegex;function b(h,o,t){return{x:{valType:"number",dflt:h,editType:"camera"},y:{valType:"number",dflt:o,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}q.exports={_arrayAttrRegexps:[_("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:a(b(0,0,1),{}),center:a(b(0,0,0),{}),eye:a(b(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:k({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:M,yaxis:M,zaxis:M,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(q,C,e){var M=e(78614),k=["xaxis","yaxis","zaxis"];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}a.prototype.merge=function(_){for(var b=0;b<3;++b){var h=_[k[b]];h.visible?(this.enabled[b]=h.showspikes,this.colors[b]=M(h.spikecolor),this.drawSides[b]=h.spikesides,this.lineWidth[b]=h.spikethickness):(this.enabled[b]=!1,this.drawSides[b]=!1)}},q.exports=function(_){var b=new a;return b.merge(_),b}},96085:function(q,C,e){q.exports=function(b){for(var h=b.axesOptions,o=b.glplot.axesPixels,t=b.fullSceneLayout,i=[[],[],[]],n=0;n<3;++n){var r=t[a[n]];if(r._length=(o[n].hi-o[n].lo)*o[n].pixelsPerDataUnit/b.dataScale[n],Math.abs(r._length)===1/0||isNaN(r._length))i[n]=[];else{r._input_range=r.range.slice(),r.range[0]=o[n].lo/b.dataScale[n],r.range[1]=o[n].hi/b.dataScale[n],r._m=1/(b.dataScale[n]*o[n].pixelsPerDataUnit),r.range[0]===r.range[1]&&(r.range[0]-=1,r.range[1]+=1);var l=r.tickmode;if(r.tickmode==="auto"){r.tickmode="linear";var s=r.nticks||k.constrain(r._length/40,4,9);M.autoTicks(r,Math.abs(r.range[1]-r.range[0])/s)}for(var u=M.calcTicks(r,{msUTC:!0}),p=0;p<u.length;++p)u[p].x=u[p].x*b.dataScale[n],r.type==="date"&&(u[p].text=u[p].text.replace(/\<br\>/g," "));i[n]=u,r.tickmode=l}}for(h.ticks=i,n=0;n<3;++n)for(_[n]=.5*(b.glplot.bounds[0][n]+b.glplot.bounds[1][n]),p=0;p<2;++p)h.bounds[p][n]=b.glplot.bounds[p][n];b.contourLevels=function(c){for(var x=new Array(3),g=0;g<3;++g){for(var d=c[g],v=new Array(d.length),y=0;y<d.length;++y)v[y]=d[y].x;x[g]=v}return x}(i)};var M=e(89298),k=e(71828),a=["xaxis","yaxis","zaxis"],_=[0,0,0]},63538:function(q){function C(e,M){var k,a,_=[0,0,0,0];for(k=0;k<4;++k)for(a=0;a<4;++a)_[a]+=e[4*k+a]*M[k];return _}q.exports=function(e,M){return C(e.projection,C(e.view,C(e.model,[M[0],M[1],M[2],1])))}},33539:function(q,C,e){var M,k,a=e(9330).gl_plot3d,_=a.createCamera,b=a.createScene,h=e(40372),o=e(38520),t=e(73972),i=e(71828),n=i.preserveDrawingBuffer(),r=e(89298),l=e(30211),s=e(78614),u=e(58617),p=e(63538),c=e(30422),x=e(13133),g=e(96085),d=e(71739).applyAutorangeOptions,v=!1;function y(T,E){var O=document.createElement("div"),P=T.container;this.graphDiv=T.graphDiv;var I=document.createElementNS("http://www.w3.org/2000/svg","svg");I.style.position="absolute",I.style.top=I.style.left="0px",I.style.width=I.style.height="100%",I.style["z-index"]=20,I.style["pointer-events"]="none",O.appendChild(I),this.svgContainer=I,O.id=T.id,O.style.position="absolute",O.style.top=O.style.left="0px",O.style.width=O.style.height="100%",P.appendChild(O),this.fullLayout=E,this.id=T.id||"scene",this.fullSceneLayout=E[this.id],this.plotArgs=[[],{},{}],this.axesOptions=c(E,E[this.id]),this.spikeOptions=x(E[this.id]),this.container=O,this.staticMode=!!T.staticPlot,this.pixelRatio=this.pixelRatio||T.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=t.getComponentMethod("annotations3d","convert"),this.drawAnnotations=t.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var m=y.prototype;m.prepareOptions=function(){var T=this,E={canvas:T.canvas,gl:T.gl,glOptions:{preserveDrawingBuffer:n,premultipliedAlpha:!0,antialias:!0},container:T.container,axes:T.axesOptions,spikes:T.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:T.camera,pixelRatio:T.pixelRatio};if(T.staticMode){if(!(k||(M=document.createElement("canvas"),k=h({canvas:M,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");E.gl=k,E.canvas=M}return E};var w=!0;m.tryCreatePlot=function(){var T=this,E=T.prepareOptions(),O=!0;try{T.glplot=b(E)}catch{if(T.staticMode||!w||n)O=!1;else{i.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{n=E.glOptions.preserveDrawingBuffer=!0,T.glplot=b(E)}catch{n=E.glOptions.preserveDrawingBuffer=!1,O=!1}}}return w=!1,O},m.initializeGLCamera=function(){var T=this,E=T.fullSceneLayout.camera,O=E.projection.type==="orthographic";T.camera=_(T.container,{center:[E.center.x,E.center.y,E.center.z],eye:[E.eye.x,E.eye.y,E.eye.z],up:[E.up.x,E.up.y,E.up.z],_ortho:O,zoomMin:.01,zoomMax:100,mode:"orbit"})},m.initializeGLPlot=function(){var T=this;if(T.initializeGLCamera(),!T.tryCreatePlot())return u(T);T.traces={},T.make4thDimension();var E=T.graphDiv,O=E.layout,P=function(){var z={};return T.isCameraChanged(O)&&(z[T.id+".camera"]=T.getCamera()),T.isAspectChanged(O)&&(z[T.id+".aspectratio"]=T.glplot.getAspectratio(),O[T.id].aspectmode!=="manual"&&(T.fullSceneLayout.aspectmode=O[T.id].aspectmode=z[T.id+".aspectmode"]="manual")),z},I=function(z){if(z.fullSceneLayout.dragmode!==!1){var j=P();z.saveLayout(O),z.graphDiv.emit("plotly_relayout",j)}};return T.glplot.canvas&&(T.glplot.canvas.addEventListener("mouseup",function(){I(T)}),T.glplot.canvas.addEventListener("touchstart",function(){v=!0}),T.glplot.canvas.addEventListener("wheel",function(z){if(E._context._scrollZoom.gl3d){if(T.camera._ortho){var j=z.deltaX>z.deltaY?1.1:.9090909090909091,R=T.glplot.getAspectratio();T.glplot.setAspectratio({x:j*R.x,y:j*R.y,z:j*R.z})}I(T)}},!!o&&{passive:!1}),T.glplot.canvas.addEventListener("mousemove",function(){if(T.fullSceneLayout.dragmode!==!1&&T.camera.mouseListener.buttons!==0){var z=P();T.graphDiv.emit("plotly_relayouting",z)}}),T.staticMode||T.glplot.canvas.addEventListener("webglcontextlost",function(z){E&&E.emit&&E.emit("plotly_webglcontextlost",{event:z,layer:T.id})},!1)),T.glplot.oncontextloss=function(){T.recoverContext()},T.glplot.onrender=function(){T.render()},!0},m.render=function(){var T,E=this,O=E.graphDiv,P=E.svgContainer,I=E.container.getBoundingClientRect();O._fullLayout._calcInverseTransform(O);var z=O._fullLayout._invScaleX,j=O._fullLayout._invScaleY,R=I.width*z,N=I.height*j;P.setAttributeNS(null,"viewBox","0 0 "+R+" "+N),P.setAttributeNS(null,"width",R),P.setAttributeNS(null,"height",N),g(E),E.glplot.axes.update(E.axesOptions);for(var Z=Object.keys(E.traces),F=null,U=E.glplot.selection,V=0;V<Z.length;++V)(T=E.traces[Z[V]]).data.hoverinfo!=="skip"&&T.handlePick(U)&&(F=T),T.setContourLevels&&T.setContourLevels();function te(be,me,Ee){var Te=E.fullSceneLayout[be+"axis"];return Te.type!=="log"&&(me=Te.d2l(me)),r.hoverLabelText(Te,me,Ee)}if(F!==null){var Q=p(E.glplot.cameraParams,U.dataCoordinate);T=F.data;var J,X=O._fullData[T.index],K=U.index,ee={xLabel:te("x",U.traceCoordinate[0],T.xhoverformat),yLabel:te("y",U.traceCoordinate[1],T.yhoverformat),zLabel:te("z",U.traceCoordinate[2],T.zhoverformat)},re=l.castHoverinfo(X,E.fullLayout,K),ie=(re||"").split("+"),ae=re&&re==="all";X.hovertemplate||ae||(ie.indexOf("x")===-1&&(ee.xLabel=void 0),ie.indexOf("y")===-1&&(ee.yLabel=void 0),ie.indexOf("z")===-1&&(ee.zLabel=void 0),ie.indexOf("text")===-1&&(U.textLabel=void 0),ie.indexOf("name")===-1&&(F.name=void 0));var ue=[];T.type==="cone"||T.type==="streamtube"?(ee.uLabel=te("x",U.traceCoordinate[3],T.uhoverformat),(ae||ie.indexOf("u")!==-1)&&ue.push("u: "+ee.uLabel),ee.vLabel=te("y",U.traceCoordinate[4],T.vhoverformat),(ae||ie.indexOf("v")!==-1)&&ue.push("v: "+ee.vLabel),ee.wLabel=te("z",U.traceCoordinate[5],T.whoverformat),(ae||ie.indexOf("w")!==-1)&&ue.push("w: "+ee.wLabel),ee.normLabel=U.traceCoordinate[6].toPrecision(3),(ae||ie.indexOf("norm")!==-1)&&ue.push("norm: "+ee.normLabel),T.type==="streamtube"&&(ee.divergenceLabel=U.traceCoordinate[7].toPrecision(3),(ae||ie.indexOf("divergence")!==-1)&&ue.push("divergence: "+ee.divergenceLabel)),U.textLabel&&ue.push(U.textLabel),J=ue.join("<br>")):T.type==="isosurface"||T.type==="volume"?(ee.valueLabel=r.hoverLabelText(E._mockAxis,E._mockAxis.d2l(U.traceCoordinate[3]),T.valuehoverformat),ue.push("value: "+ee.valueLabel),U.textLabel&&ue.push(U.textLabel),J=ue.join("<br>")):J=U.textLabel;var pe={x:U.traceCoordinate[0],y:U.traceCoordinate[1],z:U.traceCoordinate[2],data:X._input,fullData:X,curveNumber:X.index,pointNumber:K};l.appendArrayPointValue(pe,X,K),T._module.eventData&&(pe=X._module.eventData(pe,U,X,{},K));var de={points:[pe]};if(E.fullSceneLayout.hovermode){var ye=[];l.loneHover({trace:X,x:(.5+.5*Q[0]/Q[3])*R,y:(.5-.5*Q[1]/Q[3])*N,xLabel:ee.xLabel,yLabel:ee.yLabel,zLabel:ee.zLabel,text:J,name:F.name,color:l.castHoverOption(X,K,"bgcolor")||F.color,borderColor:l.castHoverOption(X,K,"bordercolor"),fontFamily:l.castHoverOption(X,K,"font.family"),fontSize:l.castHoverOption(X,K,"font.size"),fontColor:l.castHoverOption(X,K,"font.color"),nameLength:l.castHoverOption(X,K,"namelength"),textAlign:l.castHoverOption(X,K,"align"),hovertemplate:i.castOption(X,K,"hovertemplate"),hovertemplateLabels:i.extendFlat({},pe,ee),eventData:[pe]},{container:P,gd:O,inOut_bbox:ye}),pe.bbox=ye[0]}U.distance<5&&(U.buttons||v)?O.emit("plotly_click",de):O.emit("plotly_hover",de),this.oldEventData=de}else l.loneUnhover(P),this.oldEventData&&O.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;E.drawAnnotations(E)},m.recoverContext=function(){var T=this;T.glplot.dispose();var E=function(){T.glplot.gl.isContextLost()?requestAnimationFrame(E):T.initializeGLPlot()?T.plot.apply(T,T.plotArgs):i.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(E)};var f=["xaxis","yaxis","zaxis"];function S(T,E,O){for(var P=T.fullSceneLayout,I=0;I<3;I++){var z=f[I],j=z.charAt(0),R=P[z],N=E[j],Z=E[j+"calendar"],F=E["_"+j+"length"];if(i.isArrayOrTypedArray(N))for(var U,V=0;V<(F||N.length);V++)if(i.isArrayOrTypedArray(N[V]))for(var te=0;te<N[V].length;++te)U=R.d2l(N[V][te],0,Z),!isNaN(U)&&isFinite(U)&&(O[0][I]=Math.min(O[0][I],U),O[1][I]=Math.max(O[1][I],U));else U=R.d2l(N[V],0,Z),!isNaN(U)&&isFinite(U)&&(O[0][I]=Math.min(O[0][I],U),O[1][I]=Math.max(O[1][I],U));else O[0][I]=Math.min(O[0][I],0),O[1][I]=Math.max(O[1][I],F-1)}}m.plot=function(T,E,O){var P=this;if(P.plotArgs=[T,E,O],!P.glplot.contextLost){var I,z,j,R,N,Z,F=E[P.id],U=O[P.id];P.fullLayout=E,P.fullSceneLayout=F,P.axesOptions.merge(E,F),P.spikeOptions.merge(F),P.setViewport(F),P.updateFx(F.dragmode,F.hovermode),P.camera.enableWheel=P.graphDiv._context._scrollZoom.gl3d,P.glplot.setClearColor(s(F.bgcolor)),P.setConvert(N),T?Array.isArray(T)||(T=[T]):T=[];var V=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(j=0;j<T.length;++j)(I=T[j]).visible===!0&&I._length!==0&&S(this,I,V);(function(Ce,Re){for(var fe=Ce.fullSceneLayout,xe=fe.annotations||[],ke=0;ke<3;ke++)for(var Ie=f[ke],Fe=Ie.charAt(0),ze=fe[Ie],qe=0;qe<xe.length;qe++){var Ye=xe[qe];if(Ye.visible){var Qe=ze.r2l(Ye[Fe]);!isNaN(Qe)&&isFinite(Qe)&&(Re[0][ke]=Math.min(Re[0][ke],Qe),Re[1][ke]=Math.max(Re[1][ke],Qe))}}})(this,V);var te=[1,1,1];for(R=0;R<3;++R)V[1][R]===V[0][R]?te[R]=1:te[R]=1/(V[1][R]-V[0][R]);for(P.dataScale=te,P.convertAnnotations(this),j=0;j<T.length;++j)(I=T[j]).visible===!0&&I._length!==0&&((z=P.traces[I.uid])?z.data.type===I.type?z.update(I):(z.dispose(),z=I._module.plot(this,I),P.traces[I.uid]=z):(z=I._module.plot(this,I),P.traces[I.uid]=z),z.name=I.name);var Q=Object.keys(P.traces);e:for(j=0;j<Q.length;++j){for(R=0;R<T.length;++R)if(T[R].uid===Q[j]&&T[R].visible===!0&&T[R]._length!==0)continue e;(z=P.traces[Q[j]]).dispose(),delete P.traces[Q[j]]}P.glplot.objects.sort(function(Ce,Re){return Ce._trace.data.index-Re._trace.data.index});var J,X=[[0,0,0],[0,0,0]],K=[],ee={};for(j=0;j<3;++j){var re;if((Z=(N=F[f[j]]).type)in ee?(ee[Z].acc*=te[j],ee[Z].count+=1):ee[Z]={acc:te[j],count:1},N.autorange){X[0][j]=1/0,X[1][j]=-1/0;var ie=P.glplot.objects,ae=P.fullSceneLayout.annotations||[],ue=N._name.charAt(0);for(R=0;R<ie.length;R++){var pe=ie[R],de=pe.bounds,ye=pe._trace.data._pad||0;pe.constructor.name==="ErrorBars"&&N._lowerLogErrorBound?X[0][j]=Math.min(X[0][j],N._lowerLogErrorBound):X[0][j]=Math.min(X[0][j],de[0][j]/te[j]-ye),X[1][j]=Math.max(X[1][j],de[1][j]/te[j]+ye)}for(R=0;R<ae.length;R++){var be=ae[R];if(be.visible){var me=N.r2l(be[ue]);X[0][j]=Math.min(X[0][j],me),X[1][j]=Math.max(X[1][j],me)}}if("rangemode"in N&&N.rangemode==="tozero"&&(X[0][j]=Math.min(X[0][j],0),X[1][j]=Math.max(X[1][j],0)),X[0][j]>X[1][j])X[0][j]=-1,X[1][j]=1;else{var Ee=X[1][j]-X[0][j];X[0][j]-=Ee/32,X[1][j]+=Ee/32}if(re=[X[0][j],X[1][j]],re=d(re,N),X[0][j]=re[0],X[1][j]=re[1],N.isReversed()){var Te=X[0][j];X[0][j]=X[1][j],X[1][j]=Te}}else re=N.range,X[0][j]=N.r2l(re[0]),X[1][j]=N.r2l(re[1]);X[0][j]===X[1][j]&&(X[0][j]-=1,X[1][j]+=1),K[j]=X[1][j]-X[0][j],N.range=[X[0][j],X[1][j]],N.limitRange(),P.glplot.setBounds(j,{min:N.range[0]*te[j],max:N.range[1]*te[j]})}var we=F.aspectmode;if(we==="cube")J=[1,1,1];else if(we==="manual"){var oe=F.aspectratio;J=[oe.x,oe.y,oe.z]}else{if(we!=="auto"&&we!=="data")throw new Error("scene.js aspectRatio was not one of the enumerated types");var se=[1,1,1];for(j=0;j<3;++j){var he=ee[Z=(N=F[f[j]]).type];se[j]=Math.pow(he.acc,1/he.count)/te[j]}J=we==="data"||Math.max.apply(null,se)/Math.min.apply(null,se)<=4?se:[1,1,1]}F.aspectratio.x=U.aspectratio.x=J[0],F.aspectratio.y=U.aspectratio.y=J[1],F.aspectratio.z=U.aspectratio.z=J[2],P.glplot.setAspectratio(F.aspectratio),P.viewInitial.aspectratio||(P.viewInitial.aspectratio={x:F.aspectratio.x,y:F.aspectratio.y,z:F.aspectratio.z}),P.viewInitial.aspectmode||(P.viewInitial.aspectmode=F.aspectmode);var Se=F.domain||null,_e=E._size||null;if(Se&&_e){var Ae=P.container.style;Ae.position="absolute",Ae.left=_e.l+Se.x[0]*_e.w+"px",Ae.top=_e.t+(1-Se.y[1])*_e.h+"px",Ae.width=_e.w*(Se.x[1]-Se.x[0])+"px",Ae.height=_e.h*(Se.y[1]-Se.y[0])+"px"}P.glplot.redraw()}},m.destroy=function(){var T=this;T.glplot&&(T.camera.mouseListener.enabled=!1,T.container.removeEventListener("wheel",T.camera.wheelListener),T.camera=null,T.glplot.dispose(),T.container.parentNode.removeChild(T.container),T.glplot=null)},m.getCamera=function(){var T,E=this;return E.camera.view.recalcMatrix(E.camera.view.lastT()),{up:{x:(T=E.camera).up[0],y:T.up[1],z:T.up[2]},center:{x:T.center[0],y:T.center[1],z:T.center[2]},eye:{x:T.eye[0],y:T.eye[1],z:T.eye[2]},projection:{type:T._ortho===!0?"orthographic":"perspective"}}},m.setViewport=function(T){var E,O=this,P=T.camera;O.camera.lookAt.apply(this,[[(E=P).eye.x,E.eye.y,E.eye.z],[E.center.x,E.center.y,E.center.z],[E.up.x,E.up.y,E.up.z]]),O.glplot.setAspectratio(T.aspectratio),P.projection.type==="orthographic"!==O.camera._ortho&&(O.glplot.redraw(),O.glplot.clearRGBA(),O.glplot.dispose(),O.initializeGLPlot())},m.isCameraChanged=function(T){var E=this.getCamera(),O=i.nestedProperty(T,this.id+".camera").get();function P(R,N,Z,F){var U=["up","center","eye"],V=["x","y","z"];return N[U[Z]]&&R[U[Z]][V[F]]===N[U[Z]][V[F]]}var I=!1;if(O===void 0)I=!0;else{for(var z=0;z<3;z++)for(var j=0;j<3;j++)if(!P(E,O,z,j)){I=!0;break}(!O.projection||E.projection&&E.projection.type!==O.projection.type)&&(I=!0)}return I},m.isAspectChanged=function(T){var E=this.glplot.getAspectratio(),O=i.nestedProperty(T,this.id+".aspectratio").get();return O===void 0||O.x!==E.x||O.y!==E.y||O.z!==E.z},m.saveLayout=function(T){var E,O,P,I,z,j,R=this,N=R.fullLayout,Z=R.isCameraChanged(T),F=R.isAspectChanged(T),U=Z||F;if(U){var V={};Z&&(E=R.getCamera(),P=(O=i.nestedProperty(T,R.id+".camera")).get(),V[R.id+".camera"]=P),F&&(I=R.glplot.getAspectratio(),j=(z=i.nestedProperty(T,R.id+".aspectratio")).get(),V[R.id+".aspectratio"]=j),t.call("_storeDirectGUIEdit",T,N._preGUI,V),Z&&(O.set(E),i.nestedProperty(N,R.id+".camera").set(E)),F&&(z.set(I),i.nestedProperty(N,R.id+".aspectratio").set(I),R.glplot.redraw())}return U},m.updateFx=function(T,E){var O=this,P=O.camera;if(P)if(T==="orbit")P.mode="orbit",P.keyBindingMode="rotate";else if(T==="turntable"){P.up=[0,0,1],P.mode="turntable",P.keyBindingMode="rotate";var I=O.graphDiv,z=I._fullLayout,j=O.fullSceneLayout.camera,R=j.up.x,N=j.up.y,Z=j.up.z;if(Z/Math.sqrt(R*R+N*N+Z*Z)<.999){var F=O.id+".camera.up",U={x:0,y:0,z:1},V={};V[F]=U;var te=I.layout;t.call("_storeDirectGUIEdit",te,z._preGUI,V),j.up=U,i.nestedProperty(te,F).set(U)}}else P.keyBindingMode=T;O.fullSceneLayout.hovermode=E},m.toImage=function(T){var E=this;T||(T="png"),E.staticMode&&E.container.appendChild(M),E.glplot.redraw();var O=E.glplot.gl,P=O.drawingBufferWidth,I=O.drawingBufferHeight;O.bindFramebuffer(O.FRAMEBUFFER,null);var z=new Uint8Array(P*I*4);O.readPixels(0,0,P,I,O.RGBA,O.UNSIGNED_BYTE,z),function(F,U,V){for(var te=0,Q=V-1;te<Q;++te,--Q)for(var J=0;J<U;++J)for(var X=0;X<4;++X){var K=4*(U*te+J)+X,ee=4*(U*Q+J)+X,re=F[K];F[K]=F[ee],F[ee]=re}}(z,P,I),function(F,U,V){for(var te=0;te<V;++te)for(var Q=0;Q<U;++Q){var J=4*(U*te+Q),X=F[J+3];if(X>0)for(var K=255/X,ee=0;ee<3;++ee)F[J+ee]=Math.min(K*F[J+ee],255)}}(z,P,I);var j=document.createElement("canvas");j.width=P,j.height=I;var R,N=j.getContext("2d",{willReadFrequently:!0}),Z=N.createImageData(P,I);switch(Z.data.set(z),N.putImageData(Z,0,0),T){case"jpeg":R=j.toDataURL("image/jpeg");break;case"webp":R=j.toDataURL("image/webp");break;default:R=j.toDataURL("image/png")}return E.staticMode&&E.container.removeChild(M),R},m.setConvert=function(){for(var T=0;T<3;T++){var E=this.fullSceneLayout[f[T]];r.setConvert(E,this.fullLayout),E.setScale=i.noop}},m.make4thDimension=function(){var T=this,E=T.graphDiv._fullLayout;T._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},r.setConvert(T._mockAxis,E)},q.exports=y},90060:function(q){q.exports=function(C,e,M,k){k=k||C.length;for(var a=new Array(k),_=0;_<k;_++)a[_]=[C[_],e[_],M[_]];return a}},10820:function(q,C,e){var M=e(41940),k=e(85594),a=e(22399),_=e(29241),b=e(53777),h=e(35025),o=e(1426).extendFlat,t=M({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=a.defaultLine,q.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:M({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:o(h({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:_.newshape,activeshape:_.activeshape,newselection:b.newselection,activeselection:b.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:o({},k.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:M({editType:"layoutstyle"})}}},77734:function(q,C,e){var M=e(78607),k="1.13.4",a=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',_=[' <a target="_blank" href="https://carto.com/">Carto</a>',a].join(" "),b=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),h={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:a,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:_,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:_,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:b,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:b,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},o=M(h);q.exports={requiredVersion:k,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:h,styleValuesNonMapbox:o,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+k+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",o.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},13056:function(q,C,e){var M=e(71828);q.exports=function(k,a){var _=k.split(" "),b=_[0],h=_[1],o=M.isArrayOrTypedArray(a)?M.mean(a):a,t=.5+o/100,i=1.5+o/100,n=["",""],r=[0,0];switch(b){case"top":n[0]="top",r[1]=-i;break;case"bottom":n[0]="bottom",r[1]=i}switch(h){case"left":n[1]="right",r[0]=-t;break;case"right":n[1]="left",r[0]=t}return{anchor:n[0]&&n[1]?n.join("-"):n[0]?n[0]:n[1]?n[1]:"center",offset:r}}},50101:function(q,C,e){var M=e(97433),k=e(71828),a=k.strTranslate,_=k.strScale,b=e(27659).AU,h=e(77922),o=e(39898),t=e(91424),i=e(63893),n=e(10481),r="mapbox",l=C.constants=e(77734);function s(u){return typeof u=="string"&&(l.styleValuesMapbox.indexOf(u)!==-1||u.indexOf("mapbox://")===0||u.indexOf("stamen")===0)}C.name=r,C.attr="subplot",C.idRoot=r,C.idRegex=C.attrRegex=k.counterRegex(r),C.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},C.layoutAttributes=e(23585),C.supplyLayoutDefaults=e(77882),C.plot=function(u){var p=u._fullLayout,c=u.calcdata,x=p._subplots[r];if(M.version!==l.requiredVersion)throw new Error(l.wrongVersionErrorMsg);var g=function(f,S){var T=f._fullLayout;if(f._context.mapboxAccessToken==="")return"";for(var E=[],O=[],P=!1,I=!1,z=0;z<S.length;z++){var j=T[S[z]],R=j.accesstoken;s(j.style)&&(R?k.pushUnique(E,R):(s(j._input.style)&&(k.error("Uses Mapbox map style, but did not set an access token."),P=!0),I=!0)),R&&k.pushUnique(O,R)}if(I){var N=P?l.noAccessTokenErrorMsg:l.missingStyleErrorMsg;throw k.error(N),new Error(N)}return E.length?(E.length>1&&k.warn(l.multipleTokensErrorMsg),E[0]):(O.length&&k.log(["Listed mapbox access token(s)",O.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(u,x);M.accessToken=g;for(var d=0;d<x.length;d++){var v=x[d],y=b(c,r,v),m=p[v],w=m._subplot;w||(w=new n(u,v),p[v]._subplot=w),w.viewInitial||(w.viewInitial={center:k.extendFlat({},m.center),zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),w.plot(y,p,u._promises)}},C.clean=function(u,p,c,x){for(var g=x._subplots[r]||[],d=0;d<g.length;d++){var v=g[d];!p[v]&&x[v]._subplot&&x[v]._subplot.destroy()}},C.toSVG=function(u){for(var p=u._fullLayout,c=p._subplots[r],x=p._size,g=0;g<c.length;g++){var d=p[c[g]],v=d.domain,y=d._subplot.toImage("png");p._glimages.append("svg:image").attr({xmlns:h.svg,"xlink:href":y,x:x.l+x.w*v.x[0],y:x.t+x.h*(1-v.y[1]),width:x.w*(v.x[1]-v.x[0]),height:x.h*(v.y[1]-v.y[0]),preserveAspectRatio:"none"});var m=o.select(d._subplot.div);if(m.select(".mapboxgl-ctrl-logo").node().offsetParent!==null){var w=p._glimages.append("g");w.attr("transform",a(x.l+x.w*v.x[0]+10,x.t+x.h*(1-v.y[0])-31)),w.append("path").attr("d",l.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),w.append("path").attr("d",l.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),w.append("path").attr("d",l.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),w.append("polygon").attr("points",l.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var f=m.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),S=p._glimages.append("g"),T=S.append("text");T.text(f).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":f});var E=t.bBox(T.node()),O=x.w*(v.x[1]-v.x[0]);if(E.width>O/2){var P=f.split("|").join("<br>");T.text(P).attr("data-unformatted",P).call(i.convertToTspans,u),E=t.bBox(T.node())}T.attr("transform",a(-3,8-E.height)),S.insert("rect",".static-attribution").attr({x:-E.width-6,y:-E.height-3,width:E.width+6,height:E.height+3,fill:"rgba(255, 255, 255, 0.75)"});var I=1;E.width+6>O&&(I=O/(E.width+6));var z=[x.l+x.w*v.x[1],x.t+x.h*(1-v.y[0])];S.attr("transform",a(z[0],z[1])+_(I))}},C.updateFx=function(u){for(var p=u._fullLayout,c=p._subplots[r],x=0;x<c.length;x++)p[c[x]]._subplot.updateFx(p)}},67911:function(q,C,e){var M=e(71828),k=e(63893).sanitizeHTML,a=e(13056),_=e(77734);function b(i,n){this.subplot=i,this.uid=i.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=_.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var h=b.prototype;function o(i){if(!i.visible)return!1;var n=i.source;if(Array.isArray(n)&&n.length>0){for(var r=0;r<n.length;r++)if(typeof n[r]!="string"||n[r].length===0)return!1;return!0}return M.isPlainObject(n)||typeof n=="string"&&n.length>0}function t(i){var n={},r={};switch(i.type){case"circle":M.extendFlat(r,{"circle-radius":i.circle.radius,"circle-color":i.color,"circle-opacity":i.opacity});break;case"line":M.extendFlat(r,{"line-width":i.line.width,"line-color":i.color,"line-opacity":i.opacity,"line-dasharray":i.line.dash});break;case"fill":M.extendFlat(r,{"fill-color":i.color,"fill-outline-color":i.fill.outlinecolor,"fill-opacity":i.opacity});break;case"symbol":var l=i.symbol,s=a(l.textposition,l.iconsize);M.extendFlat(n,{"icon-image":l.icon+"-15","icon-size":l.iconsize/10,"text-field":l.text,"text-size":l.textfont.size,"text-anchor":s.anchor,"text-offset":s.offset,"symbol-placement":l.placement}),M.extendFlat(r,{"icon-color":i.color,"text-color":l.textfont.color,"text-opacity":i.opacity});break;case"raster":M.extendFlat(r,{"raster-fade-duration":0,"raster-opacity":i.opacity})}return{layout:n,paint:r}}h.update=function(i){this.visible?this.needsNewImage(i)?this.updateImage(i):this.needsNewSource(i)?(this.removeLayer(),this.updateSource(i),this.updateLayer(i)):this.needsNewLayer(i)?this.updateLayer(i):this.updateStyle(i):(this.updateSource(i),this.updateLayer(i)),this.visible=o(i)},h.needsNewImage=function(i){return this.subplot.map.getSource(this.idSource)&&this.sourceType==="image"&&i.sourcetype==="image"&&(this.source!==i.source||JSON.stringify(this.coordinates)!==JSON.stringify(i.coordinates))},h.needsNewSource=function(i){return this.sourceType!==i.sourcetype||JSON.stringify(this.source)!==JSON.stringify(i.source)||this.layerType!==i.type},h.needsNewLayer=function(i){return this.layerType!==i.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},h.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},h.updateImage=function(i){this.subplot.map.getSource(this.idSource).updateImage({url:i.source,coordinates:i.coordinates});var n=this.findFollowingMapboxLayerId(this.lookupBelow());n!==null&&this.subplot.map.moveLayer(this.idLayer,n)},h.updateSource=function(i){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=i.sourcetype,this.source=i.source,o(i)){var r=function(l){var s,u=l.sourcetype,p=l.source,c={type:u};return u==="geojson"?s="data":u==="vector"?s=typeof p=="string"?"url":"tiles":u==="raster"?(s="tiles",c.tileSize=256):u==="image"&&(s="url",c.coordinates=l.coordinates),c[s]=p,l.sourceattribution&&(c.attribution=k(l.sourceattribution)),c}(i);n.addSource(this.idSource,r)}},h.findFollowingMapboxLayerId=function(i){if(i==="traces")for(var n=this.subplot.getMapLayers(),r=0;r<n.length;r++){var l=n[r].id;if(typeof l=="string"&&l.indexOf(_.traceLayerPrefix)===0){i=l;break}}return i},h.updateLayer=function(i){var n=this.subplot,r=t(i),l=this.lookupBelow(),s=this.findFollowingMapboxLayerId(l);this.removeLayer(),o(i)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":i.sourcelayer||"",type:i.type,minzoom:i.minzoom,maxzoom:i.maxzoom,layout:r.layout,paint:r.paint},s),this.layerType=i.type,this.below=l},h.updateStyle=function(i){if(o(i)){var n=t(i);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},h.removeLayer=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer)},h.dispose=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer),i.getSource(this.idSource)&&i.removeSource(this.idSource)},q.exports=function(i,n,r){var l=new b(i,n);return l.update(r),l}},23585:function(q,C,e){var M=e(71828),k=e(7901).defaultLine,a=e(27670).Y,_=e(41940),b=e(82196).textposition,h=e(30962).overrideAll,o=e(44467).templatedArray,t=e(77734),i=_({});i.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(q.exports=h({_arrayAttrRegexps:[M.counterRegex("mapbox",".layers",!0)],domain:a({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:o("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:k},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:k}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:i,textposition:M.extendFlat({},b,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},77882:function(q,C,e){var M=e(71828),k=e(49119),a=e(85501),_=e(23585);function b(o,t,i,n){i("accesstoken",n.accessToken),i("style"),i("center.lon"),i("center.lat"),i("zoom"),i("bearing"),i("pitch");var r=i("bounds.west"),l=i("bounds.east"),s=i("bounds.south"),u=i("bounds.north");r!==void 0&&l!==void 0&&s!==void 0&&u!==void 0||delete t.bounds,a(o,t,{name:"layers",handleItemDefaults:h}),t._input=o}function h(o,t){function i(u,p){return M.coerce(o,t,_.layers,u,p)}if(i("visible")){var n,r=i("sourcetype"),l=r==="raster"||r==="image";i("source"),i("sourceattribution"),r==="vector"&&i("sourcelayer"),r==="image"&&i("coordinates"),l&&(n="raster");var s=i("type",n);l&&s!=="raster"&&(s=t.type="raster",M.log("Source types *raster* and *image* must drawn *raster* layer type.")),i("below"),i("color"),i("opacity"),i("minzoom"),i("maxzoom"),s==="circle"&&i("circle.radius"),s==="line"&&(i("line.width"),i("line.dash")),s==="fill"&&i("fill.outlinecolor"),s==="symbol"&&(i("symbol.icon"),i("symbol.iconsize"),i("symbol.text"),M.coerceFont(i,"symbol.textfont"),i("symbol.textposition"),i("symbol.placement"))}}q.exports=function(o,t,i){k(o,t,i,{type:"mapbox",attributes:_,handleDefaults:b,partition:"y",accessToken:t._mapboxAccessToken})}},10481:function(q,C,e){var M=e(97433),k=e(71828),a=e(41327),_=e(73972),b=e(89298),h=e(28569),o=e(30211),t=e(64505),i=t.drawMode,n=t.selectMode,r=e(47322).prepSelect,l=e(47322).clearOutline,s=e(47322).clearSelectionsCache,u=e(47322).selectOnClick,p=e(77734),c=e(67911);function x(w,f){this.id=f,this.gd=w;var S=w._fullLayout,T=w._context;this.container=S._glcontainer.node(),this.isStatic=T.staticPlot,this.uid=S._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(S),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var g=x.prototype;g.plot=function(w,f,S){var T,E=this,O=f[E.id];E.map&&O.accesstoken!==E.accessToken&&(E.map.remove(),E.map=null,E.styleObj=null,E.traceHash={},E.layerList=[]),T=E.map?new Promise(function(P,I){E.updateMap(w,f,P,I)}):new Promise(function(P,I){E.createMap(w,f,P,I)}),S.push(T)},g.createMap=function(w,f,S,T){var E=this,O=f[E.id],P=E.styleObj=v(O.style,f);E.accessToken=O.accesstoken;var I=O.bounds,z=I?[[I.west,I.south],[I.east,I.north]]:null,j=E.map=new M.Map({container:E.div,style:P.style,center:m(O.center),zoom:O.zoom,bearing:O.bearing,pitch:O.pitch,maxBounds:z,interactive:!E.isStatic,preserveDrawingBuffer:E.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new M.AttributionControl({compact:!0}));j._canvas.style.left="0px",j._canvas.style.top="0px",E.rejectOnError(T),E.isStatic||E.initFx(w,f);var R=[];R.push(new Promise(function(N){j.once("load",N)})),R=R.concat(a.fetchTraceGeoData(w)),Promise.all(R).then(function(){E.fillBelowLookup(w,f),E.updateData(w),E.updateLayout(f),E.resolveOnRender(S)}).catch(T)},g.updateMap=function(w,f,S,T){var E=this,O=E.map,P=f[this.id];E.rejectOnError(T);var I=[],z=v(P.style,f);JSON.stringify(E.styleObj)!==JSON.stringify(z)&&(E.styleObj=z,O.setStyle(z.style),E.traceHash={},I.push(new Promise(function(j){O.once("styledata",j)}))),I=I.concat(a.fetchTraceGeoData(w)),Promise.all(I).then(function(){E.fillBelowLookup(w,f),E.updateData(w),E.updateLayout(f),E.resolveOnRender(S)}).catch(T)},g.fillBelowLookup=function(w,f){var S,T,E=f[this.id].layers,O=this.belowLookup={},P=!1;for(S=0;S<w.length;S++){var I=w[S][0].trace,z=I._module;typeof I.below=="string"?T=I.below:z.getBelow&&(T=z.getBelow(I,this)),T===""&&(P=!0),O["trace-"+I.uid]=T||""}for(S=0;S<E.length;S++){var j=E[S];T=typeof j.below=="string"?j.below:P?"traces":"",O["layout-"+S]=T}var R,N,Z={};for(R in O)Z[T=O[R]]?Z[T].push(R):Z[T]=[R];for(T in Z){var F=Z[T];if(F.length>1)for(S=0;S<F.length;S++)(R=F[S]).indexOf("trace-")===0?(N=R.split("trace-")[1],this.traceHash[N]&&(this.traceHash[N].below=null)):R.indexOf("layout-")===0&&(N=R.split("layout-")[1],this.layerList[N]&&(this.layerList[N].below=null))}};var d={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function v(w,f){var S={};if(k.isPlainObject(w))S.id=w.id,S.style=w;else if(typeof w=="string")if(S.id=w,p.styleValuesMapbox.indexOf(w)!==-1)S.style=y(w);else if(p.stylesNonMapbox[w]){S.style=p.stylesNonMapbox[w];var T=S.style.sources["plotly-"+w],E=T?T.tiles:void 0;E&&E[0]&&E[0].slice(-9)==="?api_key="&&(E[0]+=f._mapboxAccessToken)}else S.style=w;else S.id=p.styleValueDflt,S.style=y(p.styleValueDflt);return S.transition={duration:0,delay:0},S}function y(w){return p.styleUrlPrefix+w+"-"+p.styleUrlSuffix}function m(w){return[w.lon,w.lat]}g.updateData=function(w){var f,S,T,E,O=this.traceHash,P=w.slice().sort(function(N,Z){return d[N[0].trace.type]-d[Z[0].trace.type]});for(T=0;T<P.length;T++){var I=P[T],z=!1;(f=O[(S=I[0].trace).uid])&&(f.type===S.type?(f.update(I),z=!0):f.dispose()),!z&&S._module&&(O[S.uid]=S._module.plot(this,I))}var j=Object.keys(O);e:for(T=0;T<j.length;T++){var R=j[T];for(E=0;E<w.length;E++)if(R===(S=w[E][0].trace).uid)continue e;(f=O[R]).dispose(),delete O[R]}},g.updateLayout=function(w){var f=this.map,S=w[this.id];this.dragging||this.wheeling||(f.setCenter(m(S.center)),f.setZoom(S.zoom),f.setBearing(S.bearing),f.setPitch(S.pitch)),this.updateLayers(w),this.updateFramework(w),this.updateFx(w),this.map.resize(),this.gd._context._scrollZoom.mapbox?f.scrollZoom.enable():f.scrollZoom.disable()},g.resolveOnRender=function(w){var f=this.map;f.on("render",function S(){f.loaded()&&(f.off("render",S),setTimeout(w,10))})},g.rejectOnError=function(w){var f=this.map;function S(){w(new Error(p.mapOnErrorMsg))}f.once("error",S),f.once("style.error",S),f.once("source.error",S),f.once("tile.error",S),f.once("layer.error",S)},g.createFramework=function(w){var f=this,S=f.div=document.createElement("div");S.id=f.uid,S.style.position="absolute",f.container.appendChild(S),f.xaxis={_id:"x",c2p:function(T){return f.project(T).x}},f.yaxis={_id:"y",c2p:function(T){return f.project(T).y}},f.updateFramework(w),f.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},b.setConvert(f.mockAxis,w)},g.initFx=function(w,f){var S=this,T=S.gd,E=S.map;function O(){o.loneUnhover(f._hoverlayer)}function P(){var I=S.getView();T.emit("plotly_relayouting",S.getViewEditsWithDerived(I))}E.on("moveend",function(I){if(S.map){var z=T._fullLayout;if(I.originalEvent||S.wheeling){var j=z[S.id];_.call("_storeDirectGUIEdit",T.layout,z._preGUI,S.getViewEdits(j));var R=S.getView();j._input.center=j.center=R.center,j._input.zoom=j.zoom=R.zoom,j._input.bearing=j.bearing=R.bearing,j._input.pitch=j.pitch=R.pitch,T.emit("plotly_relayout",S.getViewEditsWithDerived(R))}I.originalEvent&&I.originalEvent.type==="mouseup"?S.dragging=!1:S.wheeling&&(S.wheeling=!1),z._rehover&&z._rehover()}}),E.on("wheel",function(){S.wheeling=!0}),E.on("mousemove",function(I){var z=S.div.getBoundingClientRect(),j=[I.originalEvent.offsetX,I.originalEvent.offsetY];I.target.getBoundingClientRect=function(){return z},S.xaxis.p2c=function(){return E.unproject(j).lng},S.yaxis.p2c=function(){return E.unproject(j).lat},T._fullLayout._rehover=function(){T._fullLayout._hoversubplot===S.id&&T._fullLayout[S.id]&&o.hover(T,I,S.id)},o.hover(T,I,S.id),T._fullLayout._hoversubplot=S.id}),E.on("dragstart",function(){S.dragging=!0,O()}),E.on("zoomstart",O),E.on("mouseout",function(){T._fullLayout._hoversubplot=null}),E.on("drag",P),E.on("zoom",P),E.on("dblclick",function(){var I=T._fullLayout[S.id];_.call("_storeDirectGUIEdit",T.layout,T._fullLayout._preGUI,S.getViewEdits(I));var z=S.viewInitial;E.setCenter(m(z.center)),E.setZoom(z.zoom),E.setBearing(z.bearing),E.setPitch(z.pitch);var j=S.getView();I._input.center=I.center=j.center,I._input.zoom=I.zoom=j.zoom,I._input.bearing=I.bearing=j.bearing,I._input.pitch=I.pitch=j.pitch,T.emit("plotly_doubleclick",null),T.emit("plotly_relayout",S.getViewEditsWithDerived(j))}),S.clearOutline=function(){s(S.dragOptions),l(S.dragOptions.gd)},S.onClickInPanFn=function(I){return function(z){var j=T._fullLayout.clickmode;j.indexOf("select")>-1&&u(z.originalEvent,T,[S.xaxis],[S.yaxis],S.id,I),j.indexOf("event")>-1&&o.click(T,z.originalEvent)}}},g.updateFx=function(w){var f=this,S=f.map,T=f.gd;if(!f.isStatic){var E,O=w.dragmode;E=function(z,j){j.isRect?(z.range={})[f.id]=[I([j.xmin,j.ymin]),I([j.xmax,j.ymax])]:(z.lassoPoints={})[f.id]=j.map(I)};var P=f.dragOptions;f.dragOptions=k.extendDeep(P||{},{dragmode:w.dragmode,element:f.div,gd:T,plotinfo:{id:f.id,domain:w[f.id].domain,xaxis:f.xaxis,yaxis:f.yaxis,fillRangeItems:E},xaxes:[f.xaxis],yaxes:[f.yaxis],subplot:f.id}),S.off("click",f.onClickInPanHandler),n(O)||i(O)?(S.dragPan.disable(),S.on("zoomstart",f.clearOutline),f.dragOptions.prepFn=function(z,j,R){r(z,j,R,f.dragOptions,O)},h.init(f.dragOptions)):(S.dragPan.enable(),S.off("zoomstart",f.clearOutline),f.div.onmousedown=null,f.div.ontouchstart=null,f.div.removeEventListener("touchstart",f.div._ontouchstart),f.onClickInPanHandler=f.onClickInPanFn(f.dragOptions),S.on("click",f.onClickInPanHandler))}function I(z){var j=f.map.unproject(z);return[j.lng,j.lat]}},g.updateFramework=function(w){var f=w[this.id].domain,S=w._size,T=this.div.style;T.width=S.w*(f.x[1]-f.x[0])+"px",T.height=S.h*(f.y[1]-f.y[0])+"px",T.left=S.l+f.x[0]*S.w+"px",T.top=S.t+(1-f.y[1])*S.h+"px",this.xaxis._offset=S.l+f.x[0]*S.w,this.xaxis._length=S.w*(f.x[1]-f.x[0]),this.yaxis._offset=S.t+(1-f.y[1])*S.h,this.yaxis._length=S.h*(f.y[1]-f.y[0])},g.updateLayers=function(w){var f,S=w[this.id].layers,T=this.layerList;if(S.length!==T.length){for(f=0;f<T.length;f++)T[f].dispose();for(T=this.layerList=[],f=0;f<S.length;f++)T.push(c(this,f,S[f]))}else for(f=0;f<S.length;f++)T[f].update(S[f])},g.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},g.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},g.setOptions=function(w,f,S){for(var T in S)this.map[f](w,T,S[T])},g.getMapLayers=function(){return this.map.getStyle().layers},g.addLayer=function(w,f){var S=this.map;if(typeof f=="string"){if(f==="")return void S.addLayer(w,f);for(var T=this.getMapLayers(),E=0;E<T.length;E++)if(f===T[E].id)return void S.addLayer(w,f);k.warn(["Trying to add layer with *below* value",f,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}S.addLayer(w)},g.project=function(w){return this.map.project(new M.LngLat(w[0],w[1]))},g.getView=function(){var w=this.map,f=w.getCenter(),S={lon:f.lng,lat:f.lat},T=w.getCanvas(),E=parseInt(T.style.width),O=parseInt(T.style.height);return{center:S,zoom:w.getZoom(),bearing:w.getBearing(),pitch:w.getPitch(),_derived:{coordinates:[w.unproject([0,0]).toArray(),w.unproject([E,0]).toArray(),w.unproject([E,O]).toArray(),w.unproject([0,O]).toArray()]}}},g.getViewEdits=function(w){for(var f=this.id,S=["center","zoom","bearing","pitch"],T={},E=0;E<S.length;E++){var O=S[E];T[f+"."+O]=w[O]}return T},g.getViewEditsWithDerived=function(w){var f=this.id,S=this.getViewEdits(w);return S[f+"._derived"]=w._derived,S},q.exports=x},35025:function(q){q.exports=function(C){var e=C.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(q,C,e){var M=e(39898),k=e(84096).Dq,a=e(60721).FF,_=e(92770),b=e(11631),h=e(73972),o=e(86281),t=e(44467),i=e(71828),n=e(7901),r=e(50606).BADNUM,l=e(41675),s=e(51873).clearOutline,u=e(21479),p=e(85594),c=e(31391),x=e(27659).a0,g=i.relinkPrivateKeys,d=i._,v=q.exports={};i.extendFlat(v,h),v.attributes=e(9012),v.attributes.type.values=v.allTypes,v.fontAttrs=e(41940),v.layoutAttributes=e(10820),v.fontWeight="normal";var y=v.transformsRegistry,m=e(31137);v.executeAPICommand=m.executeAPICommand,v.computeAPICommandBindings=m.computeAPICommandBindings,v.manageCommandObserver=m.manageCommandObserver,v.hasSimpleAPICommandBindings=m.hasSimpleAPICommandBindings,v.redrawText=function(F){return F=i.getGraphDiv(F),new Promise(function(U){setTimeout(function(){F._fullLayout&&(h.getComponentMethod("annotations","draw")(F),h.getComponentMethod("legend","draw")(F),h.getComponentMethod("colorbar","draw")(F),U(v.previousPromises(F)))},300)})},v.resize=function(F){var U;F=i.getGraphDiv(F);var V=new Promise(function(te,Q){F&&!i.isHidden(F)||Q(new Error("Resize must be passed a displayed plot div element.")),F._redrawTimer&&clearTimeout(F._redrawTimer),F._resolveResize&&(U=F._resolveResize),F._resolveResize=te,F._redrawTimer=setTimeout(function(){if(!F.layout||F.layout.width&&F.layout.height||i.isHidden(F))te(F);else{delete F.layout.width,delete F.layout.height;var J=F.changed;F.autoplay=!0,h.call("relayout",F,{autosize:!0}).then(function(){F.changed=J,F._resolveResize===te&&(delete F._resolveResize,te(F))})}},100)});return U&&U(V),V},v.previousPromises=function(F){if((F._promises||[]).length)return Promise.all(F._promises).then(function(){F._promises=[]})},v.addLinks=function(F){if(F._context.showLink||F._context.showSources){var U=F._fullLayout,V=i.ensureSingle(U._paper,"text","js-plot-link-container",function(ee){ee.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:n.defaultLine,"pointer-events":"all"}).each(function(){var re=M.select(this);re.append("tspan").classed("js-link-to-tool",!0),re.append("tspan").classed("js-link-spacer",!0),re.append("tspan").classed("js-sourcelinks",!0)})}),te=V.node(),Q={y:U._paper.attr("height")-9};document.body.contains(te)&&te.getComputedTextLength()>=U.width-20?(Q["text-anchor"]="start",Q.x=5):(Q["text-anchor"]="end",Q.x=U._paper.attr("width")-7),V.attr(Q);var J=V.select(".js-link-to-tool"),X=V.select(".js-link-spacer"),K=V.select(".js-sourcelinks");F._context.showSources&&F._context.showSources(F),F._context.showLink&&function(ee,re){re.text("");var ie=re.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(ee._context.linkText+" "+String.fromCharCode(187));if(ee._context.sendData)ie.on("click",function(){v.sendDataToCloud(ee)});else{var ae=window.location.pathname.split("/"),ue=window.location.search;ie.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+ae[2].split(".")[0]+"/"+ae[1]+ue})}}(F,J),X.text(J.text()&&K.text()?" - ":"")}},v.sendDataToCloud=function(F){var U=(window.PLOTLYENV||{}).BASE_URL||F._context.plotlyServerURL;if(U){F.emit("plotly_beforeexport");var V=M.select(F).append("div").attr("id","hiddenform").style("display","none"),te=V.append("form").attr({action:U+"/external",method:"post",target:"_blank"});return te.append("input").attr({type:"text",name:"data"}).node().value=v.graphJson(F,!1,"keepdata"),te.node().submit(),V.remove(),F.emit("plotly_afterexport"),!1}};var w=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],f=["year","month","dayMonth","dayMonthYear"];function S(F,U){var V=F._context.locale;V||(V="en-US");var te=!1,Q={};function J(ae){for(var ue=!0,pe=0;pe<U.length;pe++){var de=U[pe];Q[de]||(ae[de]?Q[de]=ae[de]:ue=!1)}ue&&(te=!0)}for(var X=0;X<2;X++){for(var K=F._context.locales,ee=0;ee<2;ee++){var re=(K[V]||{}).format;if(re&&(J(re),te))break;K=h.localeRegistry}var ie=V.split("-")[0];if(te||ie===V)break;V=ie}return te||J(h.localeRegistry.en.format),Q}function T(F,U){var V={_fullLayout:U},te=F._id.charAt(0)==="x",Q=F._mainAxis._anchorAxis,J="",X="",K="";if(Q&&(K=Q._mainAxis._id,J=te?F._id+K:K+F._id),!J||!U._plots[J]){J="";for(var ee=F._counterAxes,re=0;re<ee.length;re++){var ie=ee[re],ae=te?F._id+ie:ie+F._id;X||(X=ae);var ue=l.getFromId(V,ie);if(K&&ue.overlaying===K){J=ae;break}}}return J||X}function E(F){var U=F.transforms;if(Array.isArray(U)&&U.length)for(var V=0;V<U.length;V++){var te=U[V],Q=te._module||y[te.type];if(Q&&Q.makesData)return!0}return!1}function O(F,U,V,te){for(var Q=F.transforms,J=[F],X=0;X<Q.length;X++){var K=Q[X],ee=y[K.type];ee&&ee.transform&&(J=ee.transform(J,{transform:K,fullTrace:F,fullData:U,layout:V,fullLayout:te,transformIndex:X}))}return J}function P(F){return typeof F=="string"&&F.substr(F.length-2)==="px"&&parseFloat(F)}function I(F){var U=F.margin;if(!F._size){var V=F._size={l:Math.round(U.l),r:Math.round(U.r),t:Math.round(U.t),b:Math.round(U.b),p:Math.round(U.pad)};V.w=Math.round(F.width)-V.l-V.r,V.h=Math.round(F.height)-V.t-V.b}F._pushmargin||(F._pushmargin={}),F._pushmarginIds||(F._pushmarginIds={}),F._reservedMargin||(F._reservedMargin={})}v.supplyDefaults=function(F,U){var V=U&&U.skipUpdateCalc,te=F._fullLayout||{};if(te._skipDefaults)delete te._skipDefaults;else{var Q,J=F._fullLayout={},X=F.layout||{},K=F._fullData||[],ee=F._fullData=[],re=F.data||[],ie=F.calcdata||[],ae=F._context||{};F._transitionData||v.createTransitionData(F),J._dfltTitle={plot:d(F,"Click to enter Plot title"),x:d(F,"Click to enter X axis title"),y:d(F,"Click to enter Y axis title"),colorbar:d(F,"Click to enter Colorscale title"),annotation:d(F,"new text")},J._traceWord=d(F,"trace");var ue=S(F,w);if(J._mapboxAccessToken=ae.mapboxAccessToken,te._initialAutoSizeIsDone){var pe=te.width,de=te.height;v.supplyLayoutGlobalDefaults(X,J,ue),X.width||(J.width=pe),X.height||(J.height=de),v.sanitizeMargins(J)}else{v.supplyLayoutGlobalDefaults(X,J,ue);var ye=!X.width||!X.height,be=J.autosize,me=ae.autosizable;ye&&(be||me)?v.plotAutoSize(F,X,J):ye&&v.sanitizeMargins(J),!be&&ye&&(X.width=J.width,X.height=J.height)}J._d3locale=function(ze,qe){return ze.decimal=qe.charAt(0),ze.thousands=qe.charAt(1),{numberFormat:function(Ye){try{Ye=a(ze).format(i.adjustFormat(Ye))}catch{return i.warnBadFormat(Ye),i.noFormat}return Ye},timeFormat:k(ze).utcFormat}}(ue,J.separators),J._extraFormat=S(F,f),J._initialAutoSizeIsDone=!0,J._dataLength=re.length,J._modules=[],J._visibleModules=[],J._basePlotModules=[];var Ee=J._subplots=function(){var ze,qe,Ye=h.collectableSubplotTypes,Qe={};if(!Ye){Ye=[];var ft=h.subplotsRegistry;for(var ht in ft){var mt=ft[ht].attr;if(mt&&(Ye.push(ht),Array.isArray(mt)))for(qe=0;qe<mt.length;qe++)i.pushUnique(Ye,mt[qe])}}for(ze=0;ze<Ye.length;ze++)Qe[Ye[ze]]=[];return Qe}(),Te=J._splomAxes={x:{},y:{}},we=J._splomSubplots={};J._splomGridDflt={},J._scatterStackOpts={},J._firstScatter={},J._alignmentOpts={},J._colorAxes={},J._requestRangeslider={},J._traceUids=function(ze,qe){var Ye,Qe,ft=qe.length,ht=[];for(Ye=0;Ye<ze.length;Ye++){var mt=ze[Ye]._fullInput;mt!==Qe&&ht.push(mt),Qe=mt}var Mt=ht.length,_t=new Array(ft),it={};function st(Ft,Pt){_t[Pt]=Ft,it[Ft]=1}function St(Ft,Pt){if(Ft&&typeof Ft=="string"&&!it[Ft])return st(Ft,Pt),!0}for(Ye=0;Ye<ft;Ye++){var zt=qe[Ye].uid;typeof zt=="number"&&(zt=String(zt)),St(zt,Ye)||Ye<Mt&&St(ht[Ye].uid,Ye)||st(i.randstr(it),Ye)}return _t}(K,re),J._globalTransforms=(F._context||{}).globalTransforms,v.supplyDataDefaults(re,ee,X,J);var oe=Object.keys(Te.x),se=Object.keys(Te.y);if(oe.length>1&&se.length>1){for(h.getComponentMethod("grid","sizeDefaults")(X,J),Q=0;Q<oe.length;Q++)i.pushUnique(Ee.xaxis,oe[Q]);for(Q=0;Q<se.length;Q++)i.pushUnique(Ee.yaxis,se[Q]);for(var he in we)i.pushUnique(Ee.cartesian,he)}if(J._has=v._hasPlotType.bind(J),K.length===ee.length)for(Q=0;Q<ee.length;Q++)g(ee[Q],K[Q]);v.supplyLayoutModuleDefaults(X,J,ee,F._transitionData);var Se=J._visibleModules,_e=[];for(Q=0;Q<Se.length;Q++){var Ae=Se[Q].crossTraceDefaults;Ae&&i.pushUnique(_e,Ae)}for(Q=0;Q<_e.length;Q++)_e[Q](ee,J);J._hasOnlyLargeSploms=J._basePlotModules.length===1&&J._basePlotModules[0].name==="splom"&&oe.length>15&&se.length>15&&J.shapes.length===0&&J.images.length===0,v.linkSubplots(ee,J,K,te),v.cleanPlot(ee,J,K,te);var Ce=!(!te._has||!te._has("gl2d")),Re=!(!J._has||!J._has("gl2d")),fe=!(!te._has||!te._has("cartesian"))||Ce,xe=!(!J._has||!J._has("cartesian"))||Re;fe&&!xe?te._bgLayer.remove():xe&&!fe&&(J._shouldCreateBgLayer=!0),te._zoomlayer&&!F._dragging&&s({_fullLayout:te}),function(ze,qe){var Ye,Qe=[];qe.meta&&(Ye=qe._meta={meta:qe.meta,layout:{meta:qe.meta}});for(var ft=0;ft<ze.length;ft++){var ht=ze[ft];ht.meta?Qe[ht.index]=ht._meta={meta:ht.meta}:qe.meta&&(ht._meta={meta:qe.meta}),qe.meta&&(ht._meta.layout={meta:qe.meta})}Qe.length&&(Ye||(Ye=qe._meta={}),Ye.data=Qe)}(ee,J),g(J,te),h.getComponentMethod("colorscale","crossTraceDefaults")(ee,J),J._preGUI||(J._preGUI={}),J._tracePreGUI||(J._tracePreGUI={});var ke,Ie=J._tracePreGUI,Fe={};for(ke in Ie)Fe[ke]="old";for(Q=0;Q<ee.length;Q++)Fe[ke=ee[Q]._fullInput.uid]||(Ie[ke]={}),Fe[ke]="new";for(ke in Fe)Fe[ke]==="old"&&delete Ie[ke];I(J),h.getComponentMethod("rangeslider","makeData")(J),V||ie.length!==ee.length||v.supplyDefaultsUpdateCalc(ie,ee)}},v.supplyDefaultsUpdateCalc=function(F,U){for(var V=0;V<U.length;V++){var te=U[V],Q=(F[V]||[])[0];if(Q&&Q.trace){var J=Q.trace;if(J._hasCalcTransform){var X,K,ee,re=J._arrayAttrs;for(X=0;X<re.length;X++)K=re[X],ee=i.nestedProperty(J,K).get().slice(),i.nestedProperty(te,K).set(ee)}Q.trace=te}}},v.createTransitionData=function(F){F._transitionData||(F._transitionData={}),F._transitionData._frames||(F._transitionData._frames=[]),F._transitionData._frameHash||(F._transitionData._frameHash={}),F._transitionData._counter||(F._transitionData._counter=0),F._transitionData._interruptCallbacks||(F._transitionData._interruptCallbacks=[])},v._hasPlotType=function(F){var U,V=this._basePlotModules||[];for(U=0;U<V.length;U++)if(V[U].name===F)return!0;var te=this._modules||[];for(U=0;U<te.length;U++){var Q=te[U].name;if(Q===F)return!0;var J=h.modules[Q];if(J&&J.categories[F])return!0}return!1},v.cleanPlot=function(F,U,V,te){var Q,J,X=te._basePlotModules||[];for(Q=0;Q<X.length;Q++){var K=X[Q];K.clean&&K.clean(F,U,V,te)}var ee=te._has&&te._has("gl"),re=U._has&&U._has("gl");ee&&!re&&te._glcontainer!==void 0&&(te._glcontainer.selectAll(".gl-canvas").remove(),te._glcontainer.selectAll(".no-webgl").remove(),te._glcanvas=null);var ie=!!te._infolayer;e:for(Q=0;Q<V.length;Q++){var ae=V[Q].uid;for(J=0;J<F.length;J++)if(ae===F[J].uid)continue e;ie&&te._infolayer.select(".cb"+ae).remove()}},v.linkSubplots=function(F,U,V,te){var Q,J,X=te._plots||{},K=U._plots={},ee=U._subplots,re={_fullData:F,_fullLayout:U},ie=ee.cartesian.concat(ee.gl2d||[]);for(Q=0;Q<ie.length;Q++){var ae,ue=ie[Q],pe=X[ue],de=l.getFromId(re,ue,"x"),ye=l.getFromId(re,ue,"y");for(pe?ae=K[ue]=pe:(ae=K[ue]={}).id=ue,de._counterAxes.push(ye._id),ye._counterAxes.push(de._id),de._subplotsWith.push(ue),ye._subplotsWith.push(ue),ae.xaxis=de,ae.yaxis=ye,ae._hasClipOnAxisFalse=!1,J=0;J<F.length;J++){var be=F[J];if(be.xaxis===ae.xaxis._id&&be.yaxis===ae.yaxis._id&&be.cliponaxis===!1){ae._hasClipOnAxisFalse=!0;break}}}var me,Ee=l.list(re,null,!0);for(Q=0;Q<Ee.length;Q++){var Te=null;(me=Ee[Q]).overlaying&&(Te=l.getFromId(re,me.overlaying))&&Te.overlaying&&(me.overlaying=!1,Te=null),me._mainAxis=Te||me,Te&&(me.domain=Te.domain.slice()),me._anchorAxis=me.anchor==="free"?null:l.getFromId(re,me.anchor)}for(Q=0;Q<Ee.length;Q++)if((me=Ee[Q])._counterAxes.sort(l.idSort),me._subplotsWith.sort(i.subplotSort),me._mainSubplot=T(me,U),me._counterAxes.length&&(me.spikemode&&me.spikemode.indexOf("across")!==-1||me.automargin&&me.mirror&&me.anchor!=="free"||h.getComponentMethod("rangeslider","isVisible")(me))){var we=1,oe=0;for(J=0;J<me._counterAxes.length;J++){var se=l.getFromId(re,me._counterAxes[J]);we=Math.min(we,se.domain[0]),oe=Math.max(oe,se.domain[1])}we<oe&&(me._counterDomainMin=we,me._counterDomainMax=oe)}},v.clearExpandedTraceDefaultColors=function(F){var U,V,te;for(V=[],(U=F._module._colorAttrs)||(F._module._colorAttrs=U=[],o.crawl(F._module.attributes,function(Q,J,X,K){V[K]=J,V.length=K+1,Q.valType==="color"&&Q.dflt===void 0&&U.push(V.join("."))})),te=0;te<U.length;te++)i.nestedProperty(F,"_input."+U[te]).get()||i.nestedProperty(F,U[te]).set(null)},v.supplyDataDefaults=function(F,U,V,te){var Q,J,X,K=te._modules,ee=te._visibleModules,re=te._basePlotModules,ie=0,ae=0;function ue(he){U.push(he);var Se=he._module;Se&&(i.pushUnique(K,Se),he.visible===!0&&i.pushUnique(ee,Se),i.pushUnique(re,he._module.basePlotModule),ie++,he._input.visible!==!1&&ae++)}te._transformModules=[];var pe={},de=[],ye=(V.template||{}).data||{},be=t.traceTemplater(ye);for(Q=0;Q<F.length;Q++){if(X=F[Q],(J=be.newTrace(X)).uid=te._traceUids[Q],v.supplyTraceDefaults(X,J,ae,te,Q),J.index=Q,J._input=X,J._expandedIndex=ie,J.transforms&&J.transforms.length)for(var me=X.visible!==!1&&J.visible===!1,Ee=O(J,U,V,te),Te=0;Te<Ee.length;Te++){var we=Ee[Te],oe={_template:J._template,type:J.type,uid:J.uid+Te};me&&we.visible===!1&&delete we.visible,v.supplyTraceDefaults(we,oe,ie,te,Q),g(oe,we),oe.index=Q,oe._input=X,oe._fullInput=J,oe._expandedIndex=ie,oe._expandedInput=we,ue(oe)}else J._fullInput=J,J._expandedInput=J,ue(J);h.traceIs(J,"carpetAxis")&&(pe[J.carpet]=J),h.traceIs(J,"carpetDependent")&&de.push(Q)}for(Q=0;Q<de.length;Q++)if((J=U[de[Q]]).visible){var se=pe[J.carpet];J._carpet=se,se&&se.visible?(J.xaxis=se.xaxis,J.yaxis=se.yaxis):J.visible=!1}},v.supplyAnimationDefaults=function(F){var U;F=F||{};var V={};function te(Q,J){return i.coerce(F||{},V,p,Q,J)}if(te("mode"),te("direction"),te("fromcurrent"),Array.isArray(F.frame))for(V.frame=[],U=0;U<F.frame.length;U++)V.frame[U]=v.supplyAnimationFrameDefaults(F.frame[U]||{});else V.frame=v.supplyAnimationFrameDefaults(F.frame||{});if(Array.isArray(F.transition))for(V.transition=[],U=0;U<F.transition.length;U++)V.transition[U]=v.supplyAnimationTransitionDefaults(F.transition[U]||{});else V.transition=v.supplyAnimationTransitionDefaults(F.transition||{});return V},v.supplyAnimationFrameDefaults=function(F){var U={};function V(te,Q){return i.coerce(F||{},U,p.frame,te,Q)}return V("duration"),V("redraw"),U},v.supplyAnimationTransitionDefaults=function(F){var U={};function V(te,Q){return i.coerce(F||{},U,p.transition,te,Q)}return V("duration"),V("easing"),U},v.supplyFrameDefaults=function(F){var U={};function V(te,Q){return i.coerce(F,U,c,te,Q)}return V("group"),V("name"),V("traces"),V("baseframe"),V("data"),V("layout"),U},v.supplyTraceDefaults=function(F,U,V,te,Q){var J,X=te.colorway||n.defaults,K=X[V%X.length];function ee(Te,we){return i.coerce(F,U,v.attributes,Te,we)}var re=ee("visible");ee("type"),ee("name",te._traceWord+" "+Q),ee("uirevision",te.uirevision);var ie=v.getModule(U);if(U._module=ie,ie){var ae=ie.basePlotModule,ue=ae.attr,pe=ae.attributes;if(ue&&pe){var de=te._subplots,ye="";if(re||ae.name!=="gl2d"){if(Array.isArray(ue))for(J=0;J<ue.length;J++){var be=ue[J],me=i.coerce(F,U,pe,be);de[be]&&i.pushUnique(de[be],me),ye+=me}else ye=i.coerce(F,U,pe,ue);de[ae.name]&&i.pushUnique(de[ae.name],ye)}}}if(re){if(ee("customdata"),ee("ids"),ee("meta"),h.traceIs(U,"showLegend")?(i.coerce(F,U,ie.attributes.showlegend?ie.attributes:v.attributes,"showlegend"),ee("legend"),ee("legendwidth"),ee("legendgroup"),ee("legendgrouptitle.text"),ee("legendrank"),U._dfltShowLegend=!0):U._dfltShowLegend=!1,ie&&ie.supplyDefaults(F,U,K,te),h.traceIs(U,"noOpacity")||ee("opacity"),h.traceIs(U,"notLegendIsolatable")&&(U.visible=!!U.visible),h.traceIs(U,"noHover")||(U.hovertemplate||i.coerceHoverinfo(F,U,te),U.type!=="parcats"&&h.getComponentMethod("fx","supplyDefaults")(F,U,K,te)),ie&&ie.selectPoints){var Ee=ee("selectedpoints");i.isTypedArray(Ee)&&(U.selectedpoints=Array.from(Ee))}v.supplyTransformDefaults(F,U,te)}return U},v.hasMakesDataTransform=E,v.supplyTransformDefaults=function(F,U,V){if(U._length||E(F)){var te=V._globalTransforms||[],Q=V._transformModules||[];if(Array.isArray(F.transforms)||te.length!==0)for(var J=F.transforms||[],X=te.concat(J),K=U.transforms=[],ee=0;ee<X.length;ee++){var re,ie=X[ee],ae=ie.type,ue=y[ae],pe=!(ie._module&&ie._module===ue),de=ue&&typeof ue.transform=="function";ue||i.warn("Unrecognized transform type "+ae+"."),ue&&ue.supplyDefaults&&(pe||de)?((re=ue.supplyDefaults(ie,U,V,F)).type=ae,re._module=ue,i.pushUnique(Q,ue)):re=i.extendFlat({},ie),K.push(re)}}},v.supplyLayoutGlobalDefaults=function(F,U,V){function te(ie,ae){return i.coerce(F,U,v.layoutAttributes,ie,ae)}var Q=F.template;i.isPlainObject(Q)&&(U.template=Q,U._template=Q.layout,U._dataTemplate=Q.data),te("autotypenumbers");var J=i.coerceFont(te,"font"),X=J.size;i.coerceFont(te,"title.font",i.extendFlat({},J,{size:Math.round(1.4*X)})),te("title.text",U._dfltTitle.plot),te("title.xref");var K=te("title.yref");te("title.pad.t"),te("title.pad.r"),te("title.pad.b"),te("title.pad.l");var ee=te("title.automargin");te("title.x"),te("title.xanchor"),te("title.y"),te("title.yanchor"),ee&&(K==="paper"&&(U.title.y!==0&&(U.title.y=1),U.title.yanchor==="auto"&&(U.title.yanchor=U.title.y===0?"top":"bottom")),K==="container"&&(U.title.y==="auto"&&(U.title.y=1),U.title.yanchor==="auto"&&(U.title.yanchor=U.title.y<.5?"bottom":"top"))),te("uniformtext.mode")&&te("uniformtext.minsize"),te("autosize",!(F.width&&F.height)),te("width"),te("height"),te("minreducedwidth"),te("minreducedheight"),te("margin.l"),te("margin.r"),te("margin.t"),te("margin.b"),te("margin.pad"),te("margin.autoexpand"),F.width&&F.height&&v.sanitizeMargins(U),h.getComponentMethod("grid","sizeDefaults")(F,U),te("paper_bgcolor"),te("separators",V.decimal+V.thousands),te("hidesources"),te("colorway"),te("datarevision");var re=te("uirevision");te("editrevision",re),te("selectionrevision",re),h.getComponentMethod("modebar","supplyLayoutDefaults")(F,U),h.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(F,U,te),h.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(F,U,te),te("meta"),i.isPlainObject(F.transition)&&(te("transition.duration"),te("transition.easing"),te("transition.ordering")),h.getComponentMethod("calendars","handleDefaults")(F,U,"calendar"),h.getComponentMethod("fx","supplyLayoutGlobalDefaults")(F,U,te),i.coerce(F,U,u,"scattermode")},v.plotAutoSize=function(F,U,V){var te,Q,J=F._context||{},X=J.frameMargins,K=i.isPlotDiv(F);if(K&&F.emit("plotly_autosize"),J.fillFrame)te=window.innerWidth,Q=window.innerHeight,document.body.style.overflow="hidden";else{var ee=K?window.getComputedStyle(F):{};if(te=P(ee.width)||P(ee.maxWidth)||V.width,Q=P(ee.height)||P(ee.maxHeight)||V.height,_(X)&&X>0){var re=1-2*X;te=Math.round(re*te),Q=Math.round(re*Q)}}var ie=v.layoutAttributes.width.min,ae=v.layoutAttributes.height.min;te<ie&&(te=ie),Q<ae&&(Q=ae);var ue=!U.width&&Math.abs(V.width-te)>1,pe=!U.height&&Math.abs(V.height-Q)>1;(pe||ue)&&(ue&&(V.width=te),pe&&(V.height=Q)),F._initialAutoSize||(F._initialAutoSize={width:te,height:Q}),v.sanitizeMargins(V)},v.supplyLayoutModuleDefaults=function(F,U,V,te){var Q,J,X,K=h.componentsRegistry,ee=U._basePlotModules,re=h.subplotsRegistry.cartesian;for(Q in K)(X=K[Q]).includeBasePlot&&X.includeBasePlot(F,U);for(var ie in ee.length||ee.push(re),U._has("cartesian")&&(h.getComponentMethod("grid","contentDefaults")(F,U),re.finalizeSubplots(F,U)),U._subplots)U._subplots[ie].sort(i.subplotSort);for(J=0;J<ee.length;J++)(X=ee[J]).supplyLayoutDefaults&&X.supplyLayoutDefaults(F,U,V);var ae=U._modules;for(J=0;J<ae.length;J++)(X=ae[J]).supplyLayoutDefaults&&X.supplyLayoutDefaults(F,U,V);var ue=U._transformModules;for(J=0;J<ue.length;J++)(X=ue[J]).supplyLayoutDefaults&&X.supplyLayoutDefaults(F,U,V,te);for(Q in K)(X=K[Q]).supplyLayoutDefaults&&X.supplyLayoutDefaults(F,U,V)},v.purge=function(F){var U=F._fullLayout||{};U._glcontainer!==void 0&&(U._glcontainer.selectAll(".gl-canvas").remove(),U._glcontainer.remove(),U._glcanvas=null),U._modeBar&&U._modeBar.destroy(),F._transitionData&&(F._transitionData._interruptCallbacks&&(F._transitionData._interruptCallbacks.length=0),F._transitionData._animationRaf&&window.cancelAnimationFrame(F._transitionData._animationRaf)),i.clearThrottle(),i.clearResponsive(F),delete F.data,delete F.layout,delete F._fullData,delete F._fullLayout,delete F.calcdata,delete F.empty,delete F.fid,delete F.undoqueue,delete F.undonum,delete F.autoplay,delete F.changed,delete F._promises,delete F._redrawTimer,delete F._hmlumcount,delete F._hmpixcount,delete F._transitionData,delete F._transitioning,delete F._initialAutoSize,delete F._transitioningWithDuration,delete F._dragging,delete F._dragged,delete F._dragdata,delete F._hoverdata,delete F._snapshotInProgress,delete F._editing,delete F._mouseDownTime,delete F._legendMouseDownTime,F.removeAllListeners&&F.removeAllListeners()},v.style=function(F){var U,V=F._fullLayout._visibleModules,te=[];for(U=0;U<V.length;U++){var Q=V[U];Q.style&&i.pushUnique(te,Q.style)}for(U=0;U<te.length;U++)te[U](F)},v.sanitizeMargins=function(F){if(F&&F.margin){var U,V=F.width,te=F.height,Q=F.margin,J=V-(Q.l+Q.r),X=te-(Q.t+Q.b);J<0&&(U=(V-1)/(Q.l+Q.r),Q.l=Math.floor(U*Q.l),Q.r=Math.floor(U*Q.r)),X<0&&(U=(te-1)/(Q.t+Q.b),Q.t=Math.floor(U*Q.t),Q.b=Math.floor(U*Q.b))}},v.clearAutoMarginIds=function(F){F._fullLayout._pushmarginIds={}},v.allowAutoMargin=function(F,U){F._fullLayout._pushmarginIds[U]=1},v.autoMargin=function(F,U,V){var te=F._fullLayout,Q=te.width,J=te.height,X=te.margin,K=te.minreducedwidth,ee=te.minreducedheight,re=i.constrain(Q-X.l-X.r,2,K),ie=i.constrain(J-X.t-X.b,2,ee),ae=Math.max(0,Q-re),ue=Math.max(0,J-ie),pe=te._pushmargin,de=te._pushmarginIds;if(X.autoexpand!==!1){if(V){var ye=V.pad;if(ye===void 0&&(ye=Math.min(12,X.l,X.r,X.t,X.b)),ae){var be=(V.l+V.r)/ae;be>1&&(V.l/=be,V.r/=be)}if(ue){var me=(V.t+V.b)/ue;me>1&&(V.t/=me,V.b/=me)}var Ee=V.xl!==void 0?V.xl:V.x,Te=V.xr!==void 0?V.xr:V.x,we=V.yt!==void 0?V.yt:V.y,oe=V.yb!==void 0?V.yb:V.y;pe[U]={l:{val:Ee,size:V.l+ye},r:{val:Te,size:V.r+ye},b:{val:oe,size:V.b+ye},t:{val:we,size:V.t+ye}},de[U]=1}else delete pe[U],delete de[U];if(!te._replotting)return v.doAutoMargin(F)}},v.doAutoMargin=function(F){var U=F._fullLayout,V=U.width,te=U.height;U._size||(U._size={}),I(U);var Q=U._size,J=U.margin,X={t:0,b:0,l:0,r:0},K=i.extendFlat({},Q),ee=J.l,re=J.r,ie=J.t,ae=J.b,ue=U._pushmargin,pe=U._pushmarginIds,de=U.minreducedwidth,ye=U.minreducedheight;if(J.autoexpand!==!1){for(var be in ue)pe[be]||delete ue[be];var me=F._fullLayout._reservedMargin;for(var Ee in me)for(var Te in me[Ee]){var we=me[Ee][Te];X[Te]=Math.max(X[Te],we)}for(var oe in ue.base={l:{val:0,size:ee},r:{val:1,size:re},t:{val:1,size:ie},b:{val:0,size:ae}},X){var se=0;for(var he in ue)he!=="base"&&_(ue[he][oe].size)&&(se=ue[he][oe].size>se?ue[he][oe].size:se);var Se=Math.max(0,J[oe]-se);X[oe]=Math.max(0,X[oe]-Se)}for(var _e in ue){var Ae=ue[_e].l||{},Ce=ue[_e].b||{},Re=Ae.val,fe=Ae.size,xe=Ce.val,ke=Ce.size,Ie=V-X.r-X.l,Fe=te-X.t-X.b;for(var ze in ue){if(_(fe)&&ue[ze].r){var qe=ue[ze].r.val,Ye=ue[ze].r.size;if(qe>Re){var Qe=(fe*qe+(Ye-Ie)*Re)/(qe-Re),ft=(Ye*(1-Re)+(fe-Ie)*(1-qe))/(qe-Re);Qe+ft>ee+re&&(ee=Qe,re=ft)}}if(_(ke)&&ue[ze].t){var ht=ue[ze].t.val,mt=ue[ze].t.size;if(ht>xe){var Mt=(ke*ht+(mt-Fe)*xe)/(ht-xe),_t=(mt*(1-xe)+(ke-Fe)*(1-ht))/(ht-xe);Mt+_t>ae+ie&&(ae=Mt,ie=_t)}}}}}var it=i.constrain(V-J.l-J.r,2,de),st=i.constrain(te-J.t-J.b,2,ye),St=Math.max(0,V-it),zt=Math.max(0,te-st);if(St){var Ft=(ee+re)/St;Ft>1&&(ee/=Ft,re/=Ft)}if(zt){var Pt=(ae+ie)/zt;Pt>1&&(ae/=Pt,ie/=Pt)}if(Q.l=Math.round(ee)+X.l,Q.r=Math.round(re)+X.r,Q.t=Math.round(ie)+X.t,Q.b=Math.round(ae)+X.b,Q.p=Math.round(J.pad),Q.w=Math.round(V)-Q.l-Q.r,Q.h=Math.round(te)-Q.t-Q.b,!U._replotting&&(v.didMarginChange(K,Q)||function(Je){if("_redrawFromAutoMarginCount"in Je._fullLayout)return!1;var Ue=l.list(Je,"",!0);for(var Xe in Ue)if(Ue[Xe].autoshift||Ue[Xe].shift)return!0;return!1}(F))){"_redrawFromAutoMarginCount"in U?U._redrawFromAutoMarginCount++:U._redrawFromAutoMarginCount=1;var Ze=3*(1+Object.keys(pe).length);if(U._redrawFromAutoMarginCount<Ze)return h.call("_doPlot",F);U._size=K,i.warn("Too many auto-margin redraws.")}(function(Je){var Ue=l.list(Je,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Xe){for(var lt=0;lt<Ue.length;lt++){var ot=Ue[lt][Xe];ot&&ot()}})})(F)};var z=["l","r","t","b","p","w","h"];function j(F,U,V){var te=!1,Q=[v.previousPromises,function(){if(F._transitionData)return F._transitioning=!1,function(X){var K=Promise.resolve();if(!X)return K;for(;X.length;)K=K.then(X.shift());return K}(F._transitionData._interruptCallbacks)},V.prepareFn,v.rehover,v.reselect,function(){return F.emit("plotly_transitioning",[]),new Promise(function(X){F._transitioning=!0,U.duration>0&&(F._transitioningWithDuration=!0),F._transitionData._interruptCallbacks.push(function(){te=!0}),V.redraw&&F._transitionData._interruptCallbacks.push(function(){return h.call("redraw",F)}),F._transitionData._interruptCallbacks.push(function(){F.emit("plotly_transitioninterrupted",[])});var K=0,ee=0;function re(){return K++,function(){var ie;ee++,te||ee!==K||(ie=X,F._transitionData&&(function(ae){if(ae)for(;ae.length;)ae.shift()}(F._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(V.redraw)return h.call("redraw",F)}).then(function(){F._transitioning=!1,F._transitioningWithDuration=!1,F.emit("plotly_transitioned",[])}).then(ie)))}}V.runFn(re),setTimeout(re())})}],J=i.syncOrAsync(Q,F);return J&&J.then||(J=Promise.resolve()),J.then(function(){return F})}v.didMarginChange=function(F,U){for(var V=0;V<z.length;V++){var te=z[V],Q=F[te],J=U[te];if(!_(Q)||Math.abs(J-Q)>1)return!0}return!1},v.graphJson=function(F,U,V,te,Q,J){(Q&&U&&!F._fullData||Q&&!U&&!F._fullLayout)&&v.supplyDefaults(F);var X=Q?F._fullData:F.data,K=Q?F._fullLayout:F.layout,ee=(F._transitionData||{})._frames;function re(ue,pe){if(typeof ue=="function")return pe?"_function_":null;if(i.isPlainObject(ue)){var de,ye={};return Object.keys(ue).sort().forEach(function(Te){if(["_","["].indexOf(Te.charAt(0))===-1)if(typeof ue[Te]!="function"){if(V==="keepdata"){if(Te.substr(Te.length-3)==="src")return}else if(V==="keepstream"){if(typeof(de=ue[Te+"src"])=="string"&&de.indexOf(":")>0&&!i.isPlainObject(ue.stream))return}else if(V!=="keepall"&&typeof(de=ue[Te+"src"])=="string"&&de.indexOf(":")>0)return;ye[Te]=re(ue[Te],pe)}else pe&&(ye[Te]="_function")}),ye}var be=Array.isArray(ue),me=i.isTypedArray(ue);if((be||me)&&ue.dtype&&ue.shape){var Ee=ue.bdata;return re({dtype:ue.dtype,shape:ue.shape,bdata:i.isArrayBuffer(Ee)?b.encode(Ee):Ee},pe)}return be?ue.map(function(Te){return re(Te,pe)}):me?i.simpleMap(ue,i.identity):i.isJSDate(ue)?i.ms2DateTimeLocal(+ue):ue}var ie={data:(X||[]).map(function(ue){var pe=re(ue);return U&&delete pe.fit,pe})};if(!U&&(ie.layout=re(K),Q)){var ae=K._size;ie.layout.computed={margin:{b:ae.b,l:ae.l,r:ae.r,t:ae.t}}}return ee&&(ie.frames=re(ee)),J&&(ie.config=re(F._context,!0)),te==="object"?ie:JSON.stringify(ie)},v.modifyFrames=function(F,U){var V,te,Q,J=F._transitionData._frames,X=F._transitionData._frameHash;for(V=0;V<U.length;V++)switch((te=U[V]).type){case"replace":Q=te.value;var K=(J[te.index]||{}).name,ee=Q.name;J[te.index]=X[ee]=Q,ee!==K&&(delete X[K],X[ee]=Q);break;case"insert":X[(Q=te.value).name]=Q,J.splice(te.index,0,Q);break;case"delete":delete X[(Q=J[te.index]).name],J.splice(te.index,1)}return Promise.resolve()},v.computeFrame=function(F,U){var V,te,Q,J,X=F._transitionData._frameHash;if(!U)throw new Error("computeFrame must be given a string frame name");var K=X[U.toString()];if(!K)return!1;for(var ee=[K],re=[K.name];K.baseframe&&(K=X[K.baseframe.toString()])&&re.indexOf(K.name)===-1;)ee.push(K),re.push(K.name);for(var ie={};K=ee.pop();)if(K.layout&&(ie.layout=v.extendLayout(ie.layout,K.layout)),K.data){if(ie.data||(ie.data=[]),!(te=K.traces))for(te=[],V=0;V<K.data.length;V++)te[V]=V;for(ie.traces||(ie.traces=[]),V=0;V<K.data.length;V++)(Q=te[V])!=null&&((J=ie.traces.indexOf(Q))===-1&&(J=ie.data.length,ie.traces[J]=Q),ie.data[J]=v.extendTrace(ie.data[J],K.data[V]))}return ie},v.recomputeFrameHash=function(F){for(var U=F._transitionData._frameHash={},V=F._transitionData._frames,te=0;te<V.length;te++){var Q=V[te];Q&&Q.name&&(U[Q.name]=Q)}},v.extendObjectWithContainers=function(F,U,V){var te,Q,J,X,K,ee,re,ie=i.extendDeepNoArrays({},U||{}),ae=i.expandObjectPaths(ie),ue={};if(V&&V.length)for(J=0;J<V.length;J++)(Q=(te=i.nestedProperty(ae,V[J])).get())===void 0?i.nestedProperty(ue,V[J]).set(null):(te.set(null),i.nestedProperty(ue,V[J]).set(Q));if(F=i.extendDeepNoArrays(F||{},ae),V&&V.length){for(J=0;J<V.length;J++)if(ee=i.nestedProperty(ue,V[J]).get()){for(re=(K=i.nestedProperty(F,V[J])).get(),Array.isArray(re)||(re=[],K.set(re)),X=0;X<ee.length;X++){var pe=ee[X];re[X]=pe===null?null:v.extendObjectWithContainers(re[X],pe)}K.set(re)}}return F},v.dataArrayContainers=["transforms","dimensions"],v.layoutArrayContainers=h.layoutArrayContainers,v.extendTrace=function(F,U){return v.extendObjectWithContainers(F,U,v.dataArrayContainers)},v.extendLayout=function(F,U){return v.extendObjectWithContainers(F,U,v.layoutArrayContainers)},v.transition=function(F,U,V,te,Q,J){var X={redraw:Q.redraw},K={},ee=[];return X.prepareFn=function(){for(var re=Array.isArray(U)?U.length:0,ie=te.slice(0,re),ae=0;ae<ie.length;ae++){var ue=ie[ae],pe=F._fullData[ue]._module;if(pe){if(pe.animatable){var de=pe.basePlotModule.name;K[de]||(K[de]=[]),K[de].push(ue)}F.data[ie[ae]]=v.extendTrace(F.data[ie[ae]],U[ae])}}var ye=i.expandObjectPaths(i.extendDeepNoArrays({},V)),be=/^[xy]axis[0-9]*$/;for(var me in ye)be.test(me)&&delete ye[me].range;v.extendLayout(F.layout,ye),delete F.calcdata,v.supplyDefaults(F),v.doCalcdata(F);var Ee=i.expandObjectPaths(V);if(Ee){var Te=F._fullLayout._plots;for(var we in Te){var oe=Te[we],se=oe.xaxis,he=oe.yaxis,Se=se.range.slice(),_e=he.range.slice(),Ae=null,Ce=null,Re=null,fe=null;Array.isArray(Ee[se._name+".range"])?Ae=Ee[se._name+".range"].slice():Array.isArray((Ee[se._name]||{}).range)&&(Ae=Ee[se._name].range.slice()),Array.isArray(Ee[he._name+".range"])?Ce=Ee[he._name+".range"].slice():Array.isArray((Ee[he._name]||{}).range)&&(Ce=Ee[he._name].range.slice()),Se&&Ae&&(se.r2l(Se[0])!==se.r2l(Ae[0])||se.r2l(Se[1])!==se.r2l(Ae[1]))&&(Re={xr0:Se,xr1:Ae}),_e&&Ce&&(he.r2l(_e[0])!==he.r2l(Ce[0])||he.r2l(_e[1])!==he.r2l(Ce[1]))&&(fe={yr0:_e,yr1:Ce}),(Re||fe)&&ee.push(i.extendFlat({plotinfo:oe},Re,fe))}}return Promise.resolve()},X.runFn=function(re){var ie,ae,ue=F._fullLayout._basePlotModules,pe=ee.length;if(V)for(ae=0;ae<ue.length;ae++)ue[ae].transitionAxes&&ue[ae].transitionAxes(F,ee,J,re);for(var de in pe?((ie=i.extendFlat({},J)).duration=0,delete K.cartesian):ie=J,K){var ye=K[de];F._fullData[ye[0]]._module.basePlotModule.plot(F,ye,ie,re)}},j(F,J,X)},v.transitionFromReact=function(F,U,V,te){var Q=F._fullLayout,J=Q.transition,X={},K=[];return X.prepareFn=function(){var ee=Q._plots;for(var re in X.redraw=!1,U.anim==="some"&&(X.redraw=!0),V.anim==="some"&&(X.redraw=!0),ee){var ie=ee[re],ae=ie.xaxis,ue=ie.yaxis,pe=te[ae._name].range.slice(),de=te[ue._name].range.slice(),ye=ae.range.slice(),be=ue.range.slice();ae.setScale(),ue.setScale();var me=null,Ee=null;ae.r2l(pe[0])===ae.r2l(ye[0])&&ae.r2l(pe[1])===ae.r2l(ye[1])||(me={xr0:pe,xr1:ye}),ue.r2l(de[0])===ue.r2l(be[0])&&ue.r2l(de[1])===ue.r2l(be[1])||(Ee={yr0:de,yr1:be}),(me||Ee)&&K.push(i.extendFlat({plotinfo:ie},me,Ee))}return Promise.resolve()},X.runFn=function(ee){for(var re,ie,ae,ue=F._fullData,pe=F._fullLayout._basePlotModules,de=[],ye=0;ye<ue.length;ye++)de.push(ye);function be(){if(F._fullLayout)for(var Ee=0;Ee<pe.length;Ee++)pe[Ee].transitionAxes&&pe[Ee].transitionAxes(F,K,re,ee)}function me(){if(F._fullLayout)for(var Ee=0;Ee<pe.length;Ee++)pe[Ee].plot(F,ae,ie,ee)}K.length&&U.anim?J.ordering==="traces first"?(re=i.extendFlat({},J,{duration:0}),ae=de,ie=J,setTimeout(be,J.duration),me()):(re=J,ae=null,ie=i.extendFlat({},J,{duration:0}),setTimeout(me,re.duration),be()):K.length?(re=J,be()):U.anim&&(ae=de,ie=J,me())},j(F,J,X)},v.doCalcdata=function(F,U){var V,te,Q,J,X=l.list(F),K=F._fullData,ee=F._fullLayout,re=new Array(K.length),ie=(F.calcdata||[]).slice();for(F.calcdata=re,ee._numBoxes=0,ee._numViolins=0,ee._violinScaleGroupStats={},F._hmpixcount=0,F._hmlumcount=0,ee._piecolormap={},ee._sunburstcolormap={},ee._treemapcolormap={},ee._iciclecolormap={},ee._funnelareacolormap={},Q=0;Q<K.length;Q++)Array.isArray(U)&&U.indexOf(Q)===-1&&(re[Q]=ie[Q]);for(Q=0;Q<K.length;Q++)(V=K[Q])._arrayAttrs=o.findArrayAttributes(V),V._extremes={};var ae=ee._subplots.polar||[];for(Q=0;Q<ae.length;Q++)X.push(ee[ae[Q]].radialaxis,ee[ae[Q]].angularaxis);for(var ue in ee._colorAxes){var pe=ee[ue];pe.cauto!==!1&&(delete pe.cmin,delete pe.cmax)}var de=!1;function ye(Ee){if(V=K[Ee],te=V._module,V.visible===!0&&V.transforms){if(te&&te.calc){var Te=te.calc(F,V);Te[0]&&Te[0].t&&Te[0].t._scene&&delete Te[0].t._scene.dirty}for(J=0;J<V.transforms.length;J++){var we=V.transforms[J];(te=y[we.type])&&te.calcTransform&&(V._hasCalcTransform=!0,de=!0,te.calcTransform(F,V,we))}}}function be(Ee,Te){if(V=K[Ee],!!(te=V._module).isContainer===Te){var we=[];if(V.visible===!0&&V._length!==0){delete V._indexToPoints;var oe=V.transforms||[];for(J=oe.length-1;J>=0;J--)if(oe[J].enabled){V._indexToPoints=oe[J]._indexToPoints;break}te&&te.calc&&(we=te.calc(F,V))}Array.isArray(we)&&we[0]||(we=[{x:r,y:r}]),we[0].t||(we[0].t={}),we[0].trace=V,re[Ee]=we}}for(N(X,K,ee),Q=0;Q<K.length;Q++)be(Q,!0);for(Q=0;Q<K.length;Q++)ye(Q);for(de&&N(X,K,ee),Q=0;Q<K.length;Q++)be(Q,!0);for(Q=0;Q<K.length;Q++)be(Q,!1);Z(F);var me=function(Ee,Te){var we,oe,se,he,Se,_e=[];function Ae(Xe,lt,ot){var Be=lt._id.charAt(0);if(Xe==="histogram2dcontour"){var Ne=lt._counterAxes[0],at=l.getFromId(Te,Ne),$e=Be==="x"||Ne==="x"&&at.type==="category",gt=Be==="y"||Ne==="y"&&at.type==="category";return function(yt,xt){return yt===0||xt===0||$e&&yt===ot[xt].length-1||gt&&xt===ot.length-1?-1:(Be==="y"?xt:yt)-1}}return function(yt,xt){return Be==="y"?xt:yt}}var Ce={min:function(Xe){return i.aggNums(Math.min,null,Xe)},max:function(Xe){return i.aggNums(Math.max,null,Xe)},sum:function(Xe){return i.aggNums(function(lt,ot){return lt+ot},null,Xe)},total:function(Xe){return i.aggNums(function(lt,ot){return lt+ot},null,Xe)},mean:function(Xe){return i.mean(Xe)},median:function(Xe){return i.median(Xe)}};function Re(Xe,lt){return Xe[1]-lt[1]}function fe(Xe,lt){return lt[1]-Xe[1]}for(we=0;we<Ee.length;we++){var xe=Ee[we];if(xe.type==="category"){var ke=xe.categoryorder.match(R);if(ke){var Ie=ke[1],Fe=ke[2],ze=xe._id.charAt(0),qe=ze==="x",Ye=[];for(oe=0;oe<xe._categories.length;oe++)Ye.push([xe._categories[oe],[]]);for(oe=0;oe<xe._traceIndices.length;oe++){var Qe=xe._traceIndices[oe],ft=Te._fullData[Qe];if(ft.visible===!0){var ht=ft.type;h.traceIs(ft,"histogram")&&(delete ft._xautoBinFinished,delete ft._yautoBinFinished);var mt=ht==="splom",Mt=ht==="scattergl",_t=Te.calcdata[Qe];for(se=0;se<_t.length;se++){var it,st,St=_t[se];if(mt){var zt=ft._axesDim[xe._id];if(!qe){var Ft=ft._diag[zt][0];Ft&&(xe=Te._fullLayout[l.id2name(Ft)])}var Pt=St.trace.dimensions[zt].values;for(he=0;he<Pt.length;he++)for(it=xe._categoriesMap[Pt[he]],Se=0;Se<St.trace.dimensions.length;Se++)if(Se!==zt){var Ze=St.trace.dimensions[Se];Ye[it][1].push(Ze.values[he])}}else if(Mt){for(he=0;he<St.t.x.length;he++)qe?(it=St.t.x[he],st=St.t.y[he]):(it=St.t.y[he],st=St.t.x[he]),Ye[it][1].push(st);St.t&&St.t._scene&&delete St.t._scene.dirty}else if(St.hasOwnProperty("z")){st=St.z;var Je=Ae(ft.type,xe,st);for(he=0;he<st.length;he++)for(Se=0;Se<st[he].length;Se++)(it=Je(Se,he))+1&&Ye[it][1].push(st[he][Se])}else for((it=St.p)===void 0&&(it=St[ze]),(st=St.s)===void 0&&(st=St.v),st===void 0&&(st=qe?St.y:St.x),Array.isArray(st)||(st=st===void 0?[]:[st]),he=0;he<st.length;he++)Ye[it][1].push(st[he])}}}xe._categoriesValue=Ye;var Ue=[];for(oe=0;oe<Ye.length;oe++)Ue.push([Ye[oe][0],Ce[Ie](Ye[oe][1])]);Ue.sort(Fe==="descending"?fe:Re),xe._categoriesAggregatedValue=Ue,xe._initialCategories=Ue.map(function(Xe){return Xe[0]}),_e=_e.concat(xe.sortByInitialCategories())}}}return _e}(X,F);if(me.length){for(ee._numBoxes=0,ee._numViolins=0,Q=0;Q<me.length;Q++)be(me[Q],!0);for(Q=0;Q<me.length;Q++)be(me[Q],!1);Z(F)}h.getComponentMethod("fx","calc")(F),h.getComponentMethod("errorbars","calc")(F)};var R=/(total|sum|min|max|mean|median) (ascending|descending)/;function N(F,U,V){var te={};function Q(ee){ee.clearCalc(),ee.type==="multicategory"&&ee.setupMultiCategory(U),te[ee._id]=1}i.simpleMap(F,Q);for(var J=V._axisMatchGroups||[],X=0;X<J.length;X++)for(var K in J[X])te[K]||Q(V[l.id2name(K)])}function Z(F){var U,V,te,Q=F._fullLayout,J=Q._visibleModules,X={};for(V=0;V<J.length;V++){var K=J[V],ee=K.crossTraceCalc;if(ee){var re=K.basePlotModule.name;X[re]?i.pushUnique(X[re],ee):X[re]=[ee]}}for(te in X){var ie=X[te],ae=Q._subplots[te];if(Array.isArray(ae))for(U=0;U<ae.length;U++){var ue=ae[U],pe=te==="cartesian"?Q._plots[ue]:Q[ue];for(V=0;V<ie.length;V++)ie[V](F,pe,ue)}else for(V=0;V<ie.length;V++)ie[V](F)}}v.rehover=function(F){F._fullLayout._rehover&&F._fullLayout._rehover()},v.redrag=function(F){F._fullLayout._redrag&&F._fullLayout._redrag()},v.reselect=function(F){var U=F._fullLayout,V=(F.layout||{}).selections,te=U._previousSelections;U._previousSelections=V;var Q=U._reselect||JSON.stringify(V)!==JSON.stringify(te);h.getComponentMethod("selections","reselect")(F,Q)},v.generalUpdatePerTraceModule=function(F,U,V,te){var Q,J=U.traceHash,X={};for(Q=0;Q<V.length;Q++){var K=V[Q],ee=K[0].trace;ee.visible&&(X[ee.type]=X[ee.type]||[],X[ee.type].push(K))}for(var re in J)if(!X[re]){var ie=J[re][0];ie[0].trace.visible=!1,X[re]=[ie]}for(var ae in X){var ue=X[ae];ue[0][0].trace._module.plot(F,U,i.filterVisible(ue),te)}U.traceHash=X},v.plotBasePlot=function(F,U,V,te,Q){var J=h.getModule(F),X=x(U.calcdata,J)[0];J.plot(U,X,te,Q)},v.cleanBasePlot=function(F,U,V,te,Q){var J=Q._has&&Q._has(F),X=V._has&&V._has(F);J&&!X&&Q["_"+F+"layer"].selectAll("g.trace").remove()}},9813:function(q){q.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(q,C,e){var M=e(71828),k=e(61082).tester,a=M.findIndexOfMin,_=M.isAngleInsideSector,b=M.angleDelta,h=M.angleDist;function o(r,l,s,u){var p,c,x=u[0],g=u[1],d=i(Math.sin(l)-Math.sin(r)),v=i(Math.cos(l)-Math.cos(r)),y=Math.tan(s),m=i(1/y),w=d/v,f=g-w*x;return m?d&&v?c=y*(p=f/(y-w)):v?(p=g*m,c=g):(p=x,c=x*y):d&&v?(p=0,c=f):v?(p=0,c=g):p=c=NaN,[p,c]}function t(r,l,s,u){return M.isFullCircle([l,s])?function(p,c){var x,g=c.length,d=new Array(g+1);for(x=0;x<g;x++){var v=c[x];d[x]=[p*Math.cos(v),p*Math.sin(v)]}return d[x]=d[0].slice(),d}(r,u):function(p,c,x,g){var d,v,y=g.length,m=[];function w(j){return[p*Math.cos(j),p*Math.sin(j)]}function f(j,R,N){return o(j,R,N,w(j))}function S(j){return M.mod(j,y)}function T(j){return _(j,[c,x])}var E=a(g,function(j){return T(j)?h(j,c):1/0}),O=f(g[E],g[S(E-1)],c);for(m.push(O),d=E,v=0;v<y;d++,v++){var P=g[S(d)];if(!T(P))break;m.push(w(P))}var I=a(g,function(j){return T(j)?h(j,x):1/0}),z=f(g[I],g[S(I+1)],x);return m.push(z),m.push([0,0]),m.push(m[0].slice()),m}(r,l,s,u)}function i(r){return Math.abs(r)>1e-10?r:0}function n(r,l,s){l=l||0,s=s||0;for(var u=r.length,p=new Array(u),c=0;c<u;c++){var x=r[c];p[c]=[l+x[0],s-x[1]]}return p}q.exports={isPtInsidePolygon:function(r,l,s,u,p){if(!_(l,u))return!1;var c,x;s[0]<s[1]?(c=s[0],x=s[1]):(c=s[1],x=s[0]);var g=k(t(c,u[0],u[1],p)),d=k(t(x,u[0],u[1],p)),v=[r*Math.cos(l),r*Math.sin(l)];return d.contains(v)&&!g.contains(v)},findPolygonOffset:function(r,l,s,u){for(var p=1/0,c=1/0,x=t(r,l,s,u),g=0;g<x.length;g++){var d=x[g];p=Math.min(p,d[0]),c=Math.min(c,-d[1])}return[p,c]},findEnclosingVertexAngles:function(r,l){var s=a(l,function(p){var c=b(p,r);return c>0?c:1/0}),u=M.mod(s+1,l.length);return[l[s],l[u]]},findIntersectionXY:o,findXYatLength:function(r,l,s,u){var p=-l*s,c=l*l+1,x=2*(l*p-s),g=p*p+s*s-r*r,d=Math.sqrt(x*x-4*c*g),v=(-x+d)/(2*c),y=(-x-d)/(2*c);return[[v,l*v+p+u],[y,l*y+p+u]]},clampTiny:i,pathPolygon:function(r,l,s,u,p,c){return"M"+n(t(r,l,s,u),p,c).join("L")},pathPolygonAnnulus:function(r,l,s,u,p,c,x){var g,d;r<l?(g=r,d=l):(g=l,d=r);var v=n(t(g,s,u,p),c,x);return"M"+n(t(d,s,u,p),c,x).reverse().join("L")+"M"+v.join("L")}}},23580:function(q,C,e){var M=e(27659).AU,k=e(71828).counterRegex,a=e(77997),_=e(9813),b=_.attr,h=_.name,o=k(h),t={};t[b]={valType:"subplotid",dflt:h,editType:"calc"},q.exports={attr:b,name:h,idRoot:h,idRegex:o,attrRegex:o,attributes:t,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:function(i){for(var n=i._fullLayout,r=i.calcdata,l=n._subplots[h],s=0;s<l.length;s++){var u=l[s],p=M(r,h,u),c=n[u]._subplot;c||(c=a(i,u),n[u]._subplot=c),c.plot(p,n,i._promises)}},clean:function(i,n,r,l){for(var s=l._subplots[h]||[],u=l._has&&l._has("gl"),p=n._has&&n._has("gl"),c=u&&!p,x=0;x<s.length;x++){var g=s[x],d=l[g]._subplot;if(!n[g]&&d)for(var v in d.framework.remove(),d.layers["radial-axis-title"].remove(),d.clipPaths)d.clipPaths[v].remove();c&&d._scene&&(d._scene.destroy(),d._scene=null)}},toSVG:e(93612).toSVG}},73812:function(q,C,e){var M=e(22399),k=e(13838),a=e(27670).Y,_=e(71828).extendFlat,b=e(30962).overrideAll,h=b({color:k.color,showline:_({},k.showline,{dflt:!0}),linecolor:k.linecolor,linewidth:k.linewidth,showgrid:_({},k.showgrid,{dflt:!0}),gridcolor:k.gridcolor,gridwidth:k.gridwidth,griddash:k.griddash},"plot","from-root"),o=b({tickmode:k.minor.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:k.ticks,ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,ticklabelstep:k.ticklabelstep,showticklabels:k.showticklabels,labelalias:k.labelalias,showtickprefix:k.showtickprefix,tickprefix:k.tickprefix,showticksuffix:k.showticksuffix,ticksuffix:k.ticksuffix,showexponent:k.showexponent,exponentformat:k.exponentformat,minexponent:k.minexponent,separatethousands:k.separatethousands,tickfont:k.tickfont,tickangle:k.tickangle,tickformat:k.tickformat,tickformatstops:k.tickformatstops,layer:k.layer},"plot","from-root"),t={visible:_({},k.visible,{dflt:!0}),type:_({},k.type,{values:["-","linear","log","date","category"]}),autotypenumbers:k.autotypenumbers,autorangeoptions:{minallowed:k.autorangeoptions.minallowed,maxallowed:k.autorangeoptions.maxallowed,clipmin:k.autorangeoptions.clipmin,clipmax:k.autorangeoptions.clipmax,include:k.autorangeoptions.include,editType:"plot"},autorange:_({},k.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:_({},k.minallowed,{editType:"plot"}),maxallowed:_({},k.maxallowed,{editType:"plot"}),range:_({},k.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:k.categoryorder,categoryarray:k.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:_({},k.title.text,{editType:"plot",dflt:""}),font:_({},k.title.font,{editType:"plot"}),editType:"plot"},hoverformat:k.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:k._deprecated.title,titlefont:k._deprecated.titlefont}};_(t,h,o);var i={visible:_({},k.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:k.autotypenumbers,categoryorder:k.categoryorder,categoryarray:k.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:k.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};_(i,h,o),q.exports={domain:a({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:M.background},radialaxis:t,angularaxis:i,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(q,C,e){var M=e(71828),k=e(7901),a=e(44467),_=e(49119),b=e(27659).NG,h=e(26218),o=e(38701),t=e(96115),i=e(89426),n=e(15258),r=e(92128),l=e(23074),s=e(4322),u=e(73812),p=e(12101),c=e(9813),x=c.axisNames;function g(v,y,m,w){var f=m("bgcolor");w.bgColor=k.combine(f,w.paper_bgcolor);var S=m("sector");m("hole");var T,E=b(w.fullData,c.name,w.id),O=w.layoutOut;function P(ae,ue){return m(T+"."+ae,ue)}for(var I=0;I<x.length;I++){T=x[I],M.isPlainObject(v[T])||(v[T]={});var z=v[T],j=a.newContainer(y,T);j._id=j._name=T,j._attr=w.id+"."+T,j._traceIndices=E.map(function(ae){return ae._expandedIndex});var R=c.axisName2dataArray[T],N=d(z,j,P,E,R,w);n(z,j,P,{axData:E,dataAttr:R});var Z=P("visible");switch(p(j,y,O),P("uirevision",y.uirevision),j._m=1,T){case"radialaxis":P("minallowed"),P("maxallowed");var F,U=P("range"),V=j.getAutorangeDflt(U),te=P("autorange",V);!U||(U[0]!==null||U[1]!==null)&&(U[0]!==null&&U[1]!==null||te!=="reversed"&&te!==!0)&&(U[0]===null||te!=="min"&&te!=="max reversed")&&(U[1]===null||te!=="max"&&te!=="min reversed")||(U=void 0,delete j.range,j.autorange=!0,F=!0),F||(te=P("autorange",V=j.getAutorangeDflt(U))),z.autorange=te,te&&(l(P,te,U),N!=="linear"&&N!=="-"||P("rangemode"),j.isReversed()&&(j._m=-1)),j.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(N==="date"){M.log("Polar plots do not support date angular axes yet.");for(var Q=0;Q<E.length;Q++)E[Q].visible=!1;N=z.type=j.type="linear"}P(N==="linear"?"thetaunit":"period");var J=P("direction");P("rotation",{counterclockwise:0,clockwise:90}[J])}if(i(z,j,P,j.type,{tickSuffixDflt:j.thetaunit==="degrees"?"":void 0}),Z){var X,K,ee,re,ie=w.font||{};K=(X=P("color"))===z.color?X:ie.color,ee=ie.size,re=ie.family,h(z,j,P,j.type),t(z,j,P,j.type,{font:{color:K,size:ee,family:re}}),o(z,j,P,{outerTicks:!0}),r(z,j,P,{dfltColor:X,bgColor:w.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[T]}),P("layer"),T==="radialaxis"&&(P("side"),P("angle",S[0]),P("title.text"),M.coerceFont(P,"title.font",{color:K,size:M.bigFont(ee),family:re}))}N!=="category"&&P("hoverformat"),j._input=z}y.angularaxis.type==="category"&&m("gridshape")}function d(v,y,m,w,f,S){var T=m("autotypenumbers",S.autotypenumbersDflt);if(m("type")==="-"){for(var E,O=0;O<w.length;O++)if(w[O].visible){E=w[O];break}E&&E[f]&&(y.type=s(E[f],"gregorian",{noMultiCategory:!0,autotypenumbers:T})),y.type==="-"?y.type="linear":v.type=y.type}return y.type}q.exports=function(v,y,m){_(v,y,m,{type:c.name,attributes:u,handleDefaults:g,font:y.font,autotypenumbersDflt:y.autotypenumbers,paper_bgcolor:y.paper_bgcolor,fullData:m,layoutOut:y})}},77997:function(q,C,e){var M=e(39898),k=e(84267),a=e(73972),_=e(71828),b=_.strRotate,h=_.strTranslate,o=e(7901),t=e(91424),i=e(74875),n=e(89298),r=e(21994),l=e(12101),s=e(71739).doAutoRange,u=e(29323),p=e(28569),c=e(30211),x=e(92998),g=e(47322).prepSelect,d=e(47322).selectOnClick,v=e(47322).clearOutline,y=e(6964),m=e(33306),w=e(61549).redrawReglTraces,f=e(18783).MID_SHIFT,S=e(9813),T=e(10869),E=e(23893),O=E.smith,P=E.reactanceArc,I=E.resistanceArc,z=E.smithTransform,j=_._,R=_.mod,N=_.deg2rad,Z=_.rad2deg;function F(J,X,K){this.isSmith=K||!1,this.id=X,this.gd=J,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var ee=J._fullLayout,re="clip"+ee._uid+X;this.clipIds.forTraces=re+"-for-traces",this.clipPaths.forTraces=ee._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=ee["_"+(K?"smith":"polar")+"layer"].append("g").attr("class",X),this.getHole=function(ie){return this.isSmith?0:ie.hole},this.getSector=function(ie){return this.isSmith?[0,360]:ie.sector},this.getRadial=function(ie){return this.isSmith?ie.realaxis:ie.radialaxis},this.getAngular=function(ie){return this.isSmith?ie.imaginaryaxis:ie.angularaxis},K||(this.radialTickLayout=null,this.angularTickLayout=null)}var U=F.prototype;function V(J){var X=J.ticks+String(J.ticklen)+String(J.showticklabels);return"side"in J&&(X+=J.side),X}function te(J,X){return X[_.findIndexOfMin(X,function(K){return _.angleDist(J,K)})]}function Q(J,X,K){return X?(J.attr("display",null),J.attr(K)):J&&J.attr("display","none"),J}q.exports=function(J,X,K){return new F(J,X,K)},U.plot=function(J,X){for(var K=this,ee=X[K.id],re=!1,ie=0;ie<J.length;ie++)if(J[ie][0].trace.cliponaxis===!1){re=!0;break}K._hasClipOnAxisFalse=re,K.updateLayers(X,ee),K.updateLayout(X,ee),i.generalUpdatePerTraceModule(K.gd,K,J,ee),K.updateFx(X,ee),K.isSmith&&(delete ee.realaxis.range,delete ee.imaginaryaxis.range)},U.updateLayers=function(J,X){var K=this,ee=K.isSmith,re=K.layers,ie=K.getRadial(X),ae=K.getAngular(X),ue=S.layerNames,pe=ue.indexOf("frontplot"),de=ue.slice(0,pe),ye=ae.layer==="below traces",be=ie.layer==="below traces";ye&&de.push("angular-line"),be&&de.push("radial-line"),ye&&de.push("angular-axis"),be&&de.push("radial-axis"),de.push("frontplot"),ye||de.push("angular-line"),be||de.push("radial-line"),ye||de.push("angular-axis"),be||de.push("radial-axis");var me=(ee?"smith":"polar")+"sublayer",Ee=K.framework.selectAll("."+me).data(de,String);Ee.enter().append("g").attr("class",function(Te){return me+" "+Te}).each(function(Te){var we=re[Te]=M.select(this);switch(Te){case"frontplot":ee||we.append("g").classed("barlayer",!0),we.append("g").classed("scatterlayer",!0);break;case"backplot":we.append("g").classed("maplayer",!0);break;case"plotbg":re.bg=we.append("path");break;case"radial-grid":case"angular-grid":we.style("fill","none");break;case"radial-line":we.append("line").style("fill","none");break;case"angular-line":we.append("path").style("fill","none")}}),Ee.order()},U.updateLayout=function(J,X){var K=this,ee=K.layers,re=J._size,ie=K.getRadial(X),ae=K.getAngular(X),ue=X.domain.x,pe=X.domain.y;K.xOffset=re.l+re.w*ue[0],K.yOffset=re.t+re.h*(1-pe[1]);var de=K.xLength=re.w*(ue[1]-ue[0]),ye=K.yLength=re.h*(pe[1]-pe[0]),be=K.getSector(X);K.sectorInRad=be.map(N);var me,Ee,Te,we,oe,se=K.sectorBBox=function(ft){var ht,mt=ft[0],Mt=ft[1]-mt,_t=R(mt,360),it=_t+Mt,st=Math.cos(N(_t)),St=Math.sin(N(_t)),zt=Math.cos(N(it)),Ft=Math.sin(N(it));return ht=_t<=90&&it>=90||_t>90&&it>=450?1:St<=0&&Ft<=0?0:Math.max(St,Ft),[_t<=180&&it>=180||_t>180&&it>=540?-1:st>=0&&zt>=0?0:Math.min(st,zt),_t<=270&&it>=270||_t>270&&it>=630?-1:St>=0&&Ft>=0?0:Math.min(St,Ft),it>=360?1:st<=0&&zt<=0?0:Math.max(st,zt),ht]}(be),he=se[2]-se[0],Se=se[3]-se[1],_e=ye/de,Ae=Math.abs(Se/he);_e>Ae?(me=de,oe=(ye-(Ee=de*Ae))/re.h/2,Te=[ue[0],ue[1]],we=[pe[0]+oe,pe[1]-oe]):(Ee=ye,oe=(de-(me=ye/Ae))/re.w/2,Te=[ue[0]+oe,ue[1]-oe],we=[pe[0],pe[1]]),K.xLength2=me,K.yLength2=Ee,K.xDomain2=Te,K.yDomain2=we;var Ce,Re=K.xOffset2=re.l+re.w*Te[0],fe=K.yOffset2=re.t+re.h*(1-we[1]),xe=K.radius=me/he,ke=K.innerRadius=K.getHole(X)*xe,Ie=K.cx=Re-xe*se[0],Fe=K.cy=fe+xe*se[3],ze=K.cxx=Ie-Re,qe=K.cyy=Fe-fe,Ye=ie.side;Ye==="counterclockwise"?(Ce=Ye,Ye="top"):Ye==="clockwise"&&(Ce=Ye,Ye="bottom"),K.radialAxis=K.mockAxis(J,X,ie,{_id:"x",side:Ye,_trueSide:Ce,domain:[ke/re.w,xe/re.w]}),K.angularAxis=K.mockAxis(J,X,ae,{side:"right",domain:[0,Math.PI],autorange:!1}),K.doAutoRange(J,X),K.updateAngularAxis(J,X),K.updateRadialAxis(J,X),K.updateRadialAxisTitle(J,X),K.xaxis=K.mockCartesianAxis(J,X,{_id:"x",domain:Te}),K.yaxis=K.mockCartesianAxis(J,X,{_id:"y",domain:we});var Qe=K.pathSubplot();K.clipPaths.forTraces.select("path").attr("d",Qe).attr("transform",h(ze,qe)),ee.frontplot.attr("transform",h(Re,fe)).call(t.setClipUrl,K._hasClipOnAxisFalse?null:K.clipIds.forTraces,K.gd),ee.bg.attr("d",Qe).attr("transform",h(Ie,Fe)).call(o.fill,X.bgcolor)},U.mockAxis=function(J,X,K,ee){var re=_.extendFlat({},K,ee);return l(re,X,J),re},U.mockCartesianAxis=function(J,X,K){var ee=this,re=ee.isSmith,ie=K._id,ae=_.extendFlat({type:"linear"},K);r(ae,J);var ue={x:[0,2],y:[1,3]};return ae.setRange=function(){var pe=ee.sectorBBox,de=ue[ie],ye=ee.radialAxis._rl,be=(ye[1]-ye[0])/(1-ee.getHole(X));ae.range=[pe[de[0]]*be,pe[de[1]]*be]},ae.isPtWithinRange=ie!=="x"||re?function(){return!0}:function(pe){return ee.isPtInside(pe)},ae.setRange(),ae.setScale(),ae},U.doAutoRange=function(J,X){var K=this,ee=K.gd,re=K.radialAxis,ie=K.getRadial(X);s(ee,re);var ae=re.range;if(ie.range=ae.slice(),ie._input.range=ae.slice(),re._rl=[re.r2l(ae[0],null,"gregorian"),re.r2l(ae[1],null,"gregorian")],re.minallowed!==void 0){var ue=re.r2l(re.minallowed);re._rl[0]>re._rl[1]?re._rl[1]=Math.max(re._rl[1],ue):re._rl[0]=Math.max(re._rl[0],ue)}if(re.maxallowed!==void 0){var pe=re.r2l(re.maxallowed);re._rl[0]<re._rl[1]?re._rl[1]=Math.min(re._rl[1],pe):re._rl[0]=Math.min(re._rl[0],pe)}},U.updateRadialAxis=function(J,X){var K=this,ee=K.gd,re=K.layers,ie=K.radius,ae=K.innerRadius,ue=K.cx,pe=K.cy,de=K.getRadial(X),ye=R(K.getSector(X)[0],360),be=K.radialAxis,me=ae<ie,Ee=K.isSmith;Ee||(K.fillViewInitialKey("radialaxis.angle",de.angle),K.fillViewInitialKey("radialaxis.range",be.range.slice()),be.setGeometry()),be.tickangle==="auto"&&ye>90&&ye<=270&&(be.tickangle=180);var Te=Ee?function(fe){var xe=z(K,O([fe.x,0]));return h(xe[0]-ue,xe[1]-pe)}:function(fe){return h(be.l2p(fe.x)+ae,0)},we=Ee?function(fe){return I(K,fe.x,-1/0,1/0)}:function(fe){return K.pathArc(be.r2p(fe.x)+ae)},oe=V(de);if(K.radialTickLayout!==oe&&(re["radial-axis"].selectAll(".xtick").remove(),K.radialTickLayout=oe),me){be.setScale();var se=0,he=Ee?(be.tickvals||[]).filter(function(fe){return fe>=0}).map(function(fe){return n.tickText(be,fe,!0,!1)}):n.calcTicks(be),Se=Ee?he:n.clipEnds(be,he),_e=n.getTickSigns(be)[2];Ee&&((be.ticks==="top"&&be.side==="bottom"||be.ticks==="bottom"&&be.side==="top")&&(_e=-_e),be.ticks==="top"&&be.side==="top"&&(se=-be.ticklen),be.ticks==="bottom"&&be.side==="bottom"&&(se=be.ticklen)),n.drawTicks(ee,be,{vals:he,layer:re["radial-axis"],path:n.makeTickPath(be,0,_e),transFn:Te,crisp:!1}),n.drawGrid(ee,be,{vals:Se,layer:re["radial-grid"],path:we,transFn:_.noop,crisp:!1}),n.drawLabels(ee,be,{vals:he,layer:re["radial-axis"],transFn:Te,labelFns:n.makeLabelFns(be,se)})}var Ae=K.radialAxisAngle=K.vangles?Z(te(N(de.angle),K.vangles)):de.angle,Ce=h(ue,pe),Re=Ce+b(-Ae);Q(re["radial-axis"],me&&(de.showticklabels||de.ticks),{transform:Re}),Q(re["radial-grid"],me&&de.showgrid,{transform:Ee?"":Ce}),Q(re["radial-line"].select("line"),me&&de.showline,{x1:Ee?-ie:ae,y1:0,x2:ie,y2:0,transform:Re}).attr("stroke-width",de.linewidth).call(o.stroke,de.linecolor)},U.updateRadialAxisTitle=function(J,X,K){if(!this.isSmith){var ee=this,re=ee.gd,ie=ee.radius,ae=ee.cx,ue=ee.cy,pe=ee.getRadial(X),de=ee.id+"title",ye=0;if(pe.title){var be=t.bBox(ee.layers["radial-axis"].node()).height,me=pe.title.font.size,Ee=pe.side;ye=Ee==="top"?me:Ee==="counterclockwise"?-(be+.4*me):be+.8*me}var Te=K!==void 0?K:ee.radialAxisAngle,we=N(Te),oe=Math.cos(we),se=Math.sin(we),he=ae+ie/2*oe+ye*se,Se=ue-ie/2*se+ye*oe;ee.layers["radial-axis-title"]=x.draw(re,de,{propContainer:pe,propName:ee.id+".radialaxis.title",placeholder:j(re,"Click to enter radial axis title"),attributes:{x:he,y:Se,"text-anchor":"middle"},transform:{rotate:-Te}})}},U.updateAngularAxis=function(J,X){var K=this,ee=K.gd,re=K.layers,ie=K.radius,ae=K.innerRadius,ue=K.cx,pe=K.cy,de=K.getAngular(X),ye=K.angularAxis,be=K.isSmith;be||(K.fillViewInitialKey("angularaxis.rotation",de.rotation),ye.setGeometry(),ye.setScale());var me=be?function(fe){var xe=z(K,O([0,fe.x]));return Math.atan2(xe[0]-ue,xe[1]-pe)-Math.PI/2}:function(fe){return ye.t2g(fe.x)};ye.type==="linear"&&ye.thetaunit==="radians"&&(ye.tick0=Z(ye.tick0),ye.dtick=Z(ye.dtick));var Ee=function(fe){return h(ue+ie*Math.cos(fe),pe-ie*Math.sin(fe))},Te=be?function(fe){var xe=z(K,O([0,fe.x]));return h(xe[0],xe[1])}:function(fe){return Ee(me(fe))},we=be?function(fe){var xe=z(K,O([0,fe.x])),ke=Math.atan2(xe[0]-ue,xe[1]-pe)-Math.PI/2;return h(xe[0],xe[1])+b(-Z(ke))}:function(fe){var xe=me(fe);return Ee(xe)+b(-Z(xe))},oe=be?function(fe){return P(K,fe.x,0,1/0)}:function(fe){var xe=me(fe),ke=Math.cos(xe),Ie=Math.sin(xe);return"M"+[ue+ae*ke,pe-ae*Ie]+"L"+[ue+ie*ke,pe-ie*Ie]},se=n.makeLabelFns(ye,0).labelStandoff,he={xFn:function(fe){var xe=me(fe);return Math.cos(xe)*se},yFn:function(fe){var xe=me(fe),ke=Math.sin(xe)>0?.2:1;return-Math.sin(xe)*(se+fe.fontSize*ke)+Math.abs(Math.cos(xe))*(fe.fontSize*f)},anchorFn:function(fe){var xe=me(fe),ke=Math.cos(xe);return Math.abs(ke)<.1?"middle":ke>0?"start":"end"},heightFn:function(fe,xe,ke){var Ie=me(fe);return-.5*(1+Math.sin(Ie))*ke}},Se=V(de);K.angularTickLayout!==Se&&(re["angular-axis"].selectAll("."+ye._id+"tick").remove(),K.angularTickLayout=Se);var _e,Ae=be?[1/0].concat(ye.tickvals||[]).map(function(fe){return n.tickText(ye,fe,!0,!1)}):n.calcTicks(ye);if(be&&(Ae[0].text="",Ae[0].fontSize*=1.75),X.gridshape==="linear"?(_e=Ae.map(me),_.angleDelta(_e[0],_e[1])<0&&(_e=_e.slice().reverse())):_e=null,K.vangles=_e,ye.type==="category"&&(Ae=Ae.filter(function(fe){return _.isAngleInsideSector(me(fe),K.sectorInRad)})),ye.visible){var Ce=ye.ticks==="inside"?-1:1,Re=(ye.linewidth||1)/2;n.drawTicks(ee,ye,{vals:Ae,layer:re["angular-axis"],path:"M"+Ce*Re+",0h"+Ce*ye.ticklen,transFn:we,crisp:!1}),n.drawGrid(ee,ye,{vals:Ae,layer:re["angular-grid"],path:oe,transFn:_.noop,crisp:!1}),n.drawLabels(ee,ye,{vals:Ae,layer:re["angular-axis"],repositionOnUpdate:!0,transFn:Te,labelFns:he})}Q(re["angular-line"].select("path"),de.showline,{d:K.pathSubplot(),transform:h(ue,pe)}).attr("stroke-width",de.linewidth).call(o.stroke,de.linecolor)},U.updateFx=function(J,X){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(J),this.updateRadialDrag(J,X,0),this.updateRadialDrag(J,X,1)),this.updateHoverAndMainDrag(J))},U.updateHoverAndMainDrag=function(J){var X,K,ee=this,re=ee.isSmith,ie=ee.gd,ae=ee.layers,ue=J._zoomlayer,pe=S.MINZOOM,de=S.OFFEDGE,ye=ee.radius,be=ee.innerRadius,me=ee.cx,Ee=ee.cy,Te=ee.cxx,we=ee.cyy,oe=ee.sectorInRad,se=ee.vangles,he=ee.radialAxis,Se=T.clampTiny,_e=T.findXYatLength,Ae=T.findEnclosingVertexAngles,Ce=S.cornerHalfWidth,Re=S.cornerLen/2,fe=u.makeDragger(ae,"path","maindrag",J.dragmode===!1?"none":"crosshair");M.select(fe).attr("d",ee.pathSubplot()).attr("transform",h(me,Ee)),fe.onmousemove=function(ot){c.hover(ie,ot,ee.id),ie._fullLayout._lasthover=fe,ie._fullLayout._hoversubplot=ee.id},fe.onmouseout=function(ot){ie._dragging||p.unhover(ie,ot)};var xe,ke,Ie,Fe,ze,qe,Ye,Qe,ft,ht={element:fe,gd:ie,subplot:ee.id,plotinfo:{id:ee.id,xaxis:ee.xaxis,yaxis:ee.yaxis},xaxes:[ee.xaxis],yaxes:[ee.yaxis]};function mt(ot,Be){return Math.sqrt(ot*ot+Be*Be)}function Mt(ot,Be){return mt(ot-Te,Be-we)}function _t(ot,Be){return Math.atan2(we-Be,ot-Te)}function it(ot,Be){return[ot*Math.cos(Be),ot*Math.sin(-Be)]}function st(ot,Be){if(ot===0)return ee.pathSector(2*Ce);var Ne=Re/ot,at=Be-Ne,$e=Be+Ne,gt=Math.max(0,Math.min(ot,ye)),yt=gt-Ce,xt=gt+Ce;return"M"+it(yt,at)+"A"+[yt,yt]+" 0,0,0 "+it(yt,$e)+"L"+it(xt,$e)+"A"+[xt,xt]+" 0,0,1 "+it(xt,at)+"Z"}function St(ot,Be,Ne){if(ot===0)return ee.pathSector(2*Ce);var at,$e,gt=it(ot,Be),yt=it(ot,Ne),xt=Se((gt[0]+yt[0])/2),dt=Se((gt[1]+yt[1])/2);if(xt&&dt){var Lt=dt/xt,Tt=-1/Lt,bt=_e(Ce,Lt,xt,dt);at=_e(Re,Tt,bt[0][0],bt[0][1]),$e=_e(Re,Tt,bt[1][0],bt[1][1])}else{var Ct,Dt;dt?(Ct=Re,Dt=Ce):(Ct=Ce,Dt=Re),at=[[xt-Ct,dt-Dt],[xt+Ct,dt-Dt]],$e=[[xt-Ct,dt+Dt],[xt+Ct,dt+Dt]]}return"M"+at.join("L")+"L"+$e.reverse().join("L")+"Z"}function zt(ot,Be){return Be=Math.max(Math.min(Be,ye),be),ot<de?ot=0:ye-ot<de?ot=ye:Be<de?Be=0:ye-Be<de&&(Be=ye),Math.abs(Be-ot)>pe?(ot<Be?(Ie=ot,Fe=Be):(Ie=Be,Fe=ot),!0):(Ie=null,Fe=null,!1)}function Ft(ot,Be){ot=ot||ze,Be=Be||"M0,0Z",Qe.attr("d",ot),ft.attr("d",Be),u.transitionZoombox(Qe,ft,qe,Ye),qe=!0;var Ne={};Xe(Ne),ie.emit("plotly_relayouting",Ne)}function Pt(ot,Be){var Ne,at,$e=xe+(ot*=X),gt=ke+(Be*=K),yt=Mt(xe,ke),xt=Math.min(Mt($e,gt),ye),dt=_t(xe,ke);zt(yt,xt)&&(Ne=ze+ee.pathSector(Fe),Ie&&(Ne+=ee.pathSector(Ie)),at=st(Ie,dt)+st(Fe,dt)),Ft(Ne,at)}function Ze(ot,Be,Ne,at){var $e=T.findIntersectionXY(Ne,at,Ne,[ot-Te,we-Be]);return mt($e[0],$e[1])}function Je(ot,Be){var Ne,at,$e=xe+ot,gt=ke+Be,yt=_t(xe,ke),xt=_t($e,gt),dt=Ae(yt,se),Lt=Ae(xt,se);zt(Ze(xe,ke,dt[0],dt[1]),Math.min(Ze($e,gt,Lt[0],Lt[1]),ye))&&(Ne=ze+ee.pathSector(Fe),Ie&&(Ne+=ee.pathSector(Ie)),at=[St(Ie,dt[0],dt[1]),St(Fe,dt[0],dt[1])].join(" ")),Ft(Ne,at)}function Ue(){if(u.removeZoombox(ie),Ie!==null&&Fe!==null){var ot={};Xe(ot),u.showDoubleClickNotifier(ie),a.call("_guiRelayout",ie,ot)}}function Xe(ot){var Be=he._rl,Ne=(Be[1]-Be[0])/(1-be/ye)/ye,at=[Be[0]+(Ie-be)*Ne,Be[0]+(Fe-be)*Ne];ot[ee.id+".radialaxis.range"]=at}function lt(ot,Be){var Ne=ie._fullLayout.clickmode;if(u.removeZoombox(ie),ot===2){var at={};for(var $e in ee.viewInitial)at[ee.id+"."+$e]=ee.viewInitial[$e];ie.emit("plotly_doubleclick",null),a.call("_guiRelayout",ie,at)}Ne.indexOf("select")>-1&&ot===1&&d(Be,ie,[ee.xaxis],[ee.yaxis],ee.id,ht),Ne.indexOf("event")>-1&&c.click(ie,Be,ee.id)}ht.prepFn=function(ot,Be,Ne){var at=ie._fullLayout.dragmode,$e=fe.getBoundingClientRect();ie._fullLayout._calcInverseTransform(ie);var gt=ie._fullLayout._invTransform;X=ie._fullLayout._invScaleX,K=ie._fullLayout._invScaleY;var yt=_.apply3DTransform(gt)(Be-$e.left,Ne-$e.top);if(xe=yt[0],ke=yt[1],se){var xt=T.findPolygonOffset(ye,oe[0],oe[1],se);xe+=Te+xt[0],ke+=we+xt[1]}switch(at){case"zoom":ht.clickFn=lt,re||(ht.moveFn=se?Je:Pt,ht.doneFn=Ue,function(){Ie=null,Fe=null,ze=ee.pathSubplot(),qe=!1;var dt=ie._fullLayout[ee.id];Ye=k(dt.bgcolor).getLuminance(),(Qe=u.makeZoombox(ue,Ye,me,Ee,ze)).attr("fill-rule","evenodd"),ft=u.makeCorners(ue,me,Ee),v(ie)}());break;case"select":case"lasso":g(ot,Be,Ne,ht,at)}},p.init(ht)},U.updateRadialDrag=function(J,X,K){var ee=this,re=ee.gd,ie=ee.layers,ae=ee.radius,ue=ee.innerRadius,pe=ee.cx,de=ee.cy,ye=ee.radialAxis,be=S.radialDragBoxSize,me=be/2;if(ye.visible){var Ee,Te,we,oe=N(ee.radialAxisAngle),se=ye._rl,he=se[0],Se=se[1],_e=se[K],Ae=.75*(se[1]-se[0])/(1-ee.getHole(X))/ae;K?(Ee=pe+(ae+me)*Math.cos(oe),Te=de-(ae+me)*Math.sin(oe),we="radialdrag"):(Ee=pe+(ue-me)*Math.cos(oe),Te=de-(ue-me)*Math.sin(oe),we="radialdrag-inner");var Ce,Re,fe,xe=u.makeRectDragger(ie,we,"crosshair",-me,-me,be,be),ke={element:xe,gd:re};J.dragmode===!1&&(ke.dragmode=!1),Q(M.select(xe),ye.visible&&ue<ae,{transform:h(Ee,Te)}),ke.prepFn=function(){Ce=null,Re=null,fe=null,ke.moveFn=Ie,ke.doneFn=Fe,v(re)},ke.clampFn=function(Ye,Qe){return Math.sqrt(Ye*Ye+Qe*Qe)<S.MINDRAG&&(Ye=0,Qe=0),[Ye,Qe]},p.init(ke)}function Ie(Ye,Qe){if(Ce)Ce(Ye,Qe);else{var ft=[Ye,-Qe],ht=[Math.cos(oe),Math.sin(oe)],mt=Math.abs(_.dot(ft,ht)/Math.sqrt(_.dot(ft,ft)));isNaN(mt)||(Ce=mt<.5?ze:qe)}var Mt={};(function(_t){Re!==null?_t[ee.id+".radialaxis.angle"]=Re:fe!==null&&(_t[ee.id+".radialaxis.range["+K+"]"]=fe)})(Mt),re.emit("plotly_relayouting",Mt)}function Fe(){Re!==null?a.call("_guiRelayout",re,ee.id+".radialaxis.angle",Re):fe!==null&&a.call("_guiRelayout",re,ee.id+".radialaxis.range["+K+"]",fe)}function ze(Ye,Qe){if(K!==0){var ft=Ee+Ye,ht=Te+Qe;Re=Math.atan2(de-ht,ft-pe),ee.vangles&&(Re=te(Re,ee.vangles)),Re=Z(Re);var mt=h(pe,de)+b(-Re);ie["radial-axis"].attr("transform",mt),ie["radial-line"].select("line").attr("transform",mt);var Mt=ee.gd._fullLayout,_t=Mt[ee.id];ee.updateRadialAxisTitle(Mt,_t,Re)}}function qe(Ye,Qe){var ft=_.dot([Ye,-Qe],[Math.cos(oe),Math.sin(oe)]);if(fe=_e-Ae*ft,Ae>0==(K?fe>he:fe<Se)){var ht=re._fullLayout,mt=ht[ee.id];ye.range[K]=fe,ye._rl[K]=fe,ee.updateRadialAxis(ht,mt),ee.xaxis.setRange(),ee.xaxis.setScale(),ee.yaxis.setRange(),ee.yaxis.setScale();var Mt=!1;for(var _t in ee.traceHash){var it=ee.traceHash[_t],st=_.filterVisible(it);it[0][0].trace._module.plot(re,ee,st,mt),a.traceIs(_t,"gl")&&st.length&&(Mt=!0)}Mt&&(m(re),w(re))}else fe=null}},U.updateAngularDrag=function(J){var X=this,K=X.gd,ee=X.layers,re=X.radius,ie=X.angularAxis,ae=X.cx,ue=X.cy,pe=X.cxx,de=X.cyy,ye=S.angularDragBoxSize,be=u.makeDragger(ee,"path","angulardrag",J.dragmode===!1?"none":"move"),me={element:be,gd:K};function Ee(ke,Ie){return Math.atan2(de+ye-Ie,ke-pe-ye)}J.dragmode===!1?me.dragmode=!1:M.select(be).attr("d",X.pathAnnulus(re,re+ye)).attr("transform",h(ae,ue)).call(y,"move");var Te,we,oe,se,he,Se,_e=ee.frontplot.select(".scatterlayer").selectAll(".trace"),Ae=_e.selectAll(".point"),Ce=_e.selectAll(".textpoint");function Re(ke,Ie){var Fe=X.gd._fullLayout,ze=Fe[X.id],qe=Ee(Te+ke*J._invScaleX,we+Ie*J._invScaleY),Ye=Z(qe-Se);if(se=oe+Ye,ee.frontplot.attr("transform",h(X.xOffset2,X.yOffset2)+b([-Ye,pe,de])),X.vangles){he=X.radialAxisAngle+Ye;var Qe=h(ae,ue)+b(-Ye),ft=h(ae,ue)+b(-he);ee.bg.attr("transform",Qe),ee["radial-grid"].attr("transform",Qe),ee["radial-axis"].attr("transform",ft),ee["radial-line"].select("line").attr("transform",ft),X.updateRadialAxisTitle(Fe,ze,he)}else X.clipPaths.forTraces.select("path").attr("transform",h(pe,de)+b(Ye));Ae.each(function(){var st=M.select(this),St=t.getTranslate(st);st.attr("transform",h(St.x,St.y)+b([Ye]))}),Ce.each(function(){var st=M.select(this),St=st.select("text"),zt=t.getTranslate(st);st.attr("transform",b([Ye,St.attr("x"),St.attr("y")])+h(zt.x,zt.y))}),ie.rotation=_.modHalf(se,360),X.updateAngularAxis(Fe,ze),X._hasClipOnAxisFalse&&!_.isFullCircle(X.sectorInRad)&&_e.call(t.hideOutsideRangePoints,X);var ht=!1;for(var mt in X.traceHash)if(a.traceIs(mt,"gl")){var Mt=X.traceHash[mt],_t=_.filterVisible(Mt);Mt[0][0].trace._module.plot(K,X,_t,ze),_t.length&&(ht=!0)}ht&&(m(K),w(K));var it={};fe(it),K.emit("plotly_relayouting",it)}function fe(ke){ke[X.id+".angularaxis.rotation"]=se,X.vangles&&(ke[X.id+".radialaxis.angle"]=he)}function xe(){Ce.select("text").attr("transform",null);var ke={};fe(ke),a.call("_guiRelayout",K,ke)}me.prepFn=function(ke,Ie,Fe){var ze=J[X.id];oe=ze.angularaxis.rotation;var qe=be.getBoundingClientRect();Te=Ie-qe.left,we=Fe-qe.top,K._fullLayout._calcInverseTransform(K);var Ye=_.apply3DTransform(J._invTransform)(Te,we);Te=Ye[0],we=Ye[1],Se=Ee(Te,we),me.moveFn=Re,me.doneFn=xe,v(K)},X.vangles&&!_.isFullCircle(X.sectorInRad)&&(me.prepFn=_.noop,y(M.select(be),null)),p.init(me)},U.isPtInside=function(J){if(this.isSmith)return!0;var X=this.sectorInRad,K=this.vangles,ee=this.angularAxis.c2g(J.theta),re=this.radialAxis,ie=re.c2l(J.r),ae=re._rl;return(K?T.isPtInsidePolygon:_.isPtInsideSector)(ie,ee,ae,X,K)},U.pathArc=function(J){var X=this.sectorInRad,K=this.vangles;return(K?T.pathPolygon:_.pathArc)(J,X[0],X[1],K)},U.pathSector=function(J){var X=this.sectorInRad,K=this.vangles;return(K?T.pathPolygon:_.pathSector)(J,X[0],X[1],K)},U.pathAnnulus=function(J,X){var K=this.sectorInRad,ee=this.vangles;return(ee?T.pathPolygonAnnulus:_.pathAnnulus)(J,X,K[0],K[1],ee)},U.pathSubplot=function(){var J=this.innerRadius,X=this.radius;return J?this.pathAnnulus(J,X):this.pathSector(X)},U.fillViewInitialKey=function(J,X){J in this.viewInitial||(this.viewInitial[J]=X)}},12101:function(q,C,e){var M=e(71828),k=e(21994),a=M.deg2rad,_=M.rad2deg;q.exports=function(b,h,o){switch(k(b,o),b._id){case"x":case"radialaxis":(function(t,i){var n=i._subplot;t.setGeometry=function(){var r=t._rl[0],l=t._rl[1],s=n.innerRadius,u=(n.radius-s)/(l-r),p=s/u,c=r>l?function(x){return x<=0}:function(x){return x>=0};t.c2g=function(x){var g=t.c2l(x)-r;return(c(g)?g:0)+p},t.g2c=function(x){return t.l2c(x+r-p)},t.g2p=function(x){return x*u},t.c2p=function(x){return t.g2p(t.c2g(x))}}})(b,h);break;case"angularaxis":(function(t,i){var n=t.type;if(n==="linear"){var r=t.d2c,l=t.c2d;t.d2c=function(s,u){return function(p,c){return c==="degrees"?a(p):p}(r(s),u)},t.c2d=function(s,u){return l(function(p,c){return c==="degrees"?_(p):p}(s,u))}}t.makeCalcdata=function(s,u){var p,c,x=s[u],g=s._length,d=function(f){return t.d2c(f,s.thetaunit)};if(x)for(p=new Array(g),c=0;c<g;c++)p[c]=d(x[c]);else{var v=u+"0",y="d"+u,m=v in s?d(s[v]):0,w=s[y]?d(s[y]):(t.period||2*Math.PI)/g;for(p=new Array(g),c=0;c<g;c++)p[c]=m+c*w}return p},t.setGeometry=function(){var s,u,p,c,x=i.sector,g=x.map(a),d={clockwise:-1,counterclockwise:1}[t.direction],v=a(t.rotation),y=function(S){return d*S+v},m=function(S){return(S-v)/d};switch(n){case"linear":u=s=M.identity,c=a,p=_,t.range=M.isFullCircle(g)?[x[0],x[0]+360]:g.map(m).map(_);break;case"category":var w=t._categories.length,f=t.period?Math.max(t.period,w):w;f===0&&(f=1),u=c=function(S){return 2*S*Math.PI/f},s=p=function(S){return S*f/Math.PI/2},t.range=[0,f]}t.c2g=function(S){return y(u(S))},t.g2c=function(S){return s(m(S))},t.t2g=function(S){return y(c(S))},t.g2t=function(S){return p(m(S))}}})(b,h)}}},39779:function(q){q.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(q){function C(a){return a<0?-1:a>0?1:0}function e(a){var _=a[0],b=a[1];if(!isFinite(_)||!isFinite(b))return[1,0];var h=(_+1)*(_+1)+b*b;return[(_*_+b*b-1)/h,2*b/h]}function M(a,_){var b=_[0],h=_[1];return[b*a.radius+a.cx,-h*a.radius+a.cy]}function k(a,_){return _*a.radius}q.exports={smith:e,reactanceArc:function(a,_,b,h){var o=M(a,e([b,_])),t=o[0],i=o[1],n=M(a,e([h,_])),r=n[0],l=n[1];if(_===0)return["M"+t+","+i,"L"+r+","+l].join(" ");var s=k(a,1/Math.abs(_));return["M"+t+","+i,"A"+s+","+s+" 0 0,"+(_<0?1:0)+" "+r+","+l].join(" ")},resistanceArc:function(a,_,b,h){var o=k(a,1/(_+1)),t=M(a,e([_,b])),i=t[0],n=t[1],r=M(a,e([_,h])),l=r[0],s=r[1];if(C(b)!==C(h)){var u=M(a,e([_,0]));return["M"+i+","+n,"A"+o+","+o+" 0 0,"+(0<b?0:1)+" "+u[0]+","+u[1],"A"+o+","+o+" 0 0,"+(h<0?0:1)+l+","+s].join(" ")}return["M"+i+","+n,"A"+o+","+o+" 0 0,"+(h<b?0:1)+" "+l+","+s].join(" ")},smithTransform:M}},7504:function(q,C,e){var M=e(27659).AU,k=e(71828).counterRegex,a=e(77997),_=e(39779),b=_.attr,h=_.name,o=k(h),t={};t[b]={valType:"subplotid",dflt:h,editType:"calc"},q.exports={attr:b,name:h,idRoot:h,idRegex:o,attrRegex:o,attributes:t,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:function(i){for(var n=i._fullLayout,r=i.calcdata,l=n._subplots[h],s=0;s<l.length;s++){var u=l[s],p=M(r,h,u),c=n[u]._subplot;c||(c=a(i,u,!0),n[u]._subplot=c),c.plot(p,n,i._promises)}},clean:function(i,n,r,l){for(var s=l._subplots[h]||[],u=0;u<s.length;u++){var p=s[u],c=l[p]._subplot;if(!n[p]&&c)for(var x in c.framework.remove(),c.clipPaths)c.clipPaths[x].remove()}},toSVG:e(93612).toSVG}},33419:function(q,C,e){var M=e(22399),k=e(13838),a=e(27670).Y,_=e(71828).extendFlat,b=e(30962).overrideAll,h=b({color:k.color,showline:_({},k.showline,{dflt:!0}),linecolor:k.linecolor,linewidth:k.linewidth,showgrid:_({},k.showgrid,{dflt:!0}),gridcolor:k.gridcolor,gridwidth:k.gridwidth,griddash:k.griddash},"plot","from-root"),o=b({ticklen:k.ticklen,tickwidth:_({},k.tickwidth,{dflt:2}),tickcolor:k.tickcolor,showticklabels:k.showticklabels,labelalias:k.labelalias,showtickprefix:k.showtickprefix,tickprefix:k.tickprefix,showticksuffix:k.showticksuffix,ticksuffix:k.ticksuffix,tickfont:k.tickfont,tickformat:k.tickformat,hoverformat:k.hoverformat,layer:k.layer},"plot","from-root"),t=_({visible:_({},k.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:_({},k.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},h,o),i=_({visible:_({},k.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:k.ticks,editType:"calc"},h,o);q.exports={domain:a({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:M.background},realaxis:t,imaginaryaxis:i,editType:"calc"}},9558:function(q,C,e){var M,k,a,_=e(71828),b=e(7901),h=e(44467),o=e(49119),t=e(27659).NG,i=e(89426),n=e(96115),r=e(92128),l=e(21994),s=e(33419),u=e(39779),p=u.axisNames,c=(M=function(g){return _.isTypedArray(g)&&(g=Array.from(g)),g.slice().reverse().map(function(d){return-d}).concat([0]).concat(g)},k=String,a={},function(g){var d=k?k(g):g;if(d in a)return a[d];var v=M(g);return a[d]=v,v});function x(g,d,v,y){var m=v("bgcolor");y.bgColor=b.combine(m,y.paper_bgcolor);var w,f=t(y.fullData,u.name,y.id),S=y.layoutOut;function T(U,V){return v(w+"."+U,V)}for(var E=0;E<p.length;E++){w=p[E],_.isPlainObject(g[w])||(g[w]={});var O=g[w],P=h.newContainer(d,w);P._id=P._name=w,P._attr=y.id+"."+w,P._traceIndices=f.map(function(U){return U._expandedIndex});var I=T("visible");if(P.type="linear",l(P,S),i(O,P,T,P.type),I){var z,j,R,N,Z=w==="realaxis";Z&&T("side"),Z?T("tickvals"):T("tickvals",c(d.realaxis.tickvals||s.realaxis.tickvals.dflt)),_.isTypedArray(P.tickvals)&&(P.tickvals=Array.from(P.tickvals));var F=y.font||{};I&&(j=(z=T("color"))===O.color?z:F.color,R=F.size,N=F.family),n(O,P,T,P.type,{noTicklabelstep:!0,noAng:!Z,noExp:!0,font:{color:j,size:R,family:N}}),_.coerce2(g,d,s,w+".ticklen"),_.coerce2(g,d,s,w+".tickwidth"),_.coerce2(g,d,s,w+".tickcolor",d.color),T("ticks")||(delete d[w].ticklen,delete d[w].tickwidth,delete d[w].tickcolor),r(O,P,T,{dfltColor:z,bgColor:y.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:s[w]}),T("layer")}T("hoverformat"),delete P.type,P._input=O}}q.exports=function(g,d,v){o(g,d,v,{noUirevision:!0,type:u.name,attributes:s,handleDefaults:x,font:d.font,paper_bgcolor:d.paper_bgcolor,fullData:v,layoutOut:d})}},49119:function(q,C,e){var M=e(71828),k=e(44467),a=e(27670).c;q.exports=function(_,b,h,o){var t,i,n=o.type,r=o.attributes,l=o.handleDefaults,s=o.partition||"x",u=b._subplots[n],p=u.length,c=p&&u[0].replace(/\d+$/,"");function x(y,m){return M.coerce(t,i,r,y,m)}for(var g=0;g<p;g++){var d=u[g];t=_[d]?_[d]:_[d]={},i=k.newContainer(b,d,c),o.noUirevision||x("uirevision",b.uirevision);var v={};v[s]=[g/p,(g+1)/p],a(i,b,x,v),o.id=d,l(t,i,x,o)}}},5386:function(q,C,e){var M=e(31562);function k(a){var _=a.description?" "+a.description:"",b=a.keys||[];if(b.length>0){for(var h=[],o=0;o<b.length;o++)h[o]="`"+b[o]+"`";_+="Finally, the template string has access to ",_=b.length===1?_+"variable "+h[0]:_+"variables "+h.slice(0,-1).join(", ")+" and "+h.slice(-1)+"."}return _}M.FORMAT_LINK,M.DATE_FORMAT_LINK,C.fF=function(a,_){a=a||{},k(_=_||{});var b={valType:"string",dflt:"",editType:a.editType||"none"};return a.arrayOk!==!1&&(b.arrayOk=!0),b},C.si=function(a,_){a=a||{},k(_=_||{});var b={valType:"string",dflt:"",editType:a.editType||"calc"};return a.arrayOk!==!1&&(b.arrayOk=!0),b},C.R=function(a,_){return _=_||{},(a=a||{}).newshape,k(_),{valType:"string",dflt:"",editType:a.editType||"arraydraw"}}},61639:function(q,C,e){var M=e(64380),k=e(27659).AU,a=e(71828).counterRegex,_="ternary";C.name=_;var b=C.attr="subplot";C.idRoot=_,C.idRegex=C.attrRegex=a(_),(C.attributes={})[b]={valType:"subplotid",dflt:"ternary",editType:"calc"},C.layoutAttributes=e(81367),C.supplyLayoutDefaults=e(25369),C.plot=function(h){for(var o=h._fullLayout,t=h.calcdata,i=o._subplots[_],n=0;n<i.length;n++){var r=i[n],l=k(t,_,r),s=o[r]._subplot;s||(s=new M({id:r,graphDiv:h,container:o._ternarylayer.node()},o),o[r]._subplot=s),s.plot(l,o,h._promises)}},C.clean=function(h,o,t,i){for(var n=i._subplots[_]||[],r=0;r<n.length;r++){var l=n[r],s=i[l]._subplot;!o[l]&&s&&(s.plotContainer.remove(),s.clipDef.remove(),s.clipDefRelative.remove(),s.layers["a-title"].remove(),s.layers["b-title"].remove(),s.layers["c-title"].remove())}}},81367:function(q,C,e){var M=e(22399),k=e(27670).Y,a=e(13838),_=e(30962).overrideAll,b=e(1426).extendFlat,h={title:{text:a.title.text,font:a.title.font},color:a.color,tickmode:a.minor.tickmode,nticks:b({},a.nticks,{dflt:6,min:1}),tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:a.ticks,ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,showtickprefix:a.showtickprefix,tickprefix:a.tickprefix,showticksuffix:a.showticksuffix,ticksuffix:a.ticksuffix,showexponent:a.showexponent,exponentformat:a.exponentformat,minexponent:a.minexponent,separatethousands:a.separatethousands,tickfont:a.tickfont,tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,hoverformat:a.hoverformat,showline:b({},a.showline,{dflt:!0}),linecolor:a.linecolor,linewidth:a.linewidth,showgrid:b({},a.showgrid,{dflt:!0}),gridcolor:a.gridcolor,gridwidth:a.gridwidth,griddash:a.griddash,layer:a.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:a._deprecated.title,titlefont:a._deprecated.titlefont}},o=q.exports=_({domain:k({name:"ternary"}),bgcolor:{valType:"color",dflt:M.background},sum:{valType:"number",dflt:1,min:0},aaxis:h,baxis:h,caxis:h},"plot","from-root");o.uirevision={valType:"any",editType:"none"},o.aaxis.uirevision=o.baxis.uirevision=o.caxis.uirevision={valType:"any",editType:"none"}},25369:function(q,C,e){var M=e(7901),k=e(44467),a=e(71828),_=e(49119),b=e(96115),h=e(89426),o=e(38701),t=e(26218),i=e(92128),n=e(81367),r=["aaxis","baxis","caxis"];function l(u,p,c,x){var g,d,v,y=c("bgcolor"),m=c("sum");x.bgColor=M.combine(y,x.paper_bgcolor);for(var w=0;w<r.length;w++)d=u[g=r[w]]||{},(v=k.newContainer(p,g))._name=g,s(d,v,x,p);var f=p.aaxis,S=p.baxis,T=p.caxis;f.min+S.min+T.min>=m&&(f.min=0,S.min=0,T.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function s(u,p,c,x){var g=n[p._name];function d(S,T){return a.coerce(u,p,g,S,T)}d("uirevision",x.uirevision),p.type="linear";var v=d("color"),y=v!==g.color.dflt?v:c.font.color,m=p._name.charAt(0).toUpperCase(),w="Component "+m,f=d("title.text",w);p._hovertitle=f===w?f:m,a.coerceFont(d,"title.font",{family:c.font.family,size:a.bigFont(c.font.size),color:y}),d("min"),t(u,p,d,"linear"),h(u,p,d,"linear"),b(u,p,d,"linear"),o(u,p,d,{outerTicks:!0}),d("showticklabels")&&(a.coerceFont(d,"tickfont",{family:c.font.family,size:c.font.size,color:y}),d("tickangle"),d("tickformat")),i(u,p,d,{dfltColor:v,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:g}),d("hoverformat"),d("layer")}q.exports=function(u,p,c){_(u,p,c,{type:"ternary",attributes:n,handleDefaults:l,font:p.font,paper_bgcolor:p.paper_bgcolor})}},64380:function(q,C,e){var M=e(39898),k=e(84267),a=e(73972),_=e(71828),b=_.strTranslate,h=_._,o=e(7901),t=e(91424),i=e(21994),n=e(1426).extendFlat,r=e(74875),l=e(89298),s=e(28569),u=e(30211),p=e(64505),c=p.freeMode,x=p.rectMode,g=e(92998),d=e(47322).prepSelect,v=e(47322).selectOnClick,y=e(47322).clearOutline,m=e(47322).clearSelectionsCache,w=e(85555);function f(R,N){this.id=R.id,this.graphDiv=R.graphDiv,this.init(N),this.makeFramework(N),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}q.exports=f;var S=f.prototype;S.init=function(R){this.container=R._ternarylayer,this.defs=R._defs,this.layoutId=R._uid,this.traceHash={},this.layers={}},S.plot=function(R,N){var Z=this,F=N[Z.id],U=N._size;Z._hasClipOnAxisFalse=!1;for(var V=0;V<R.length;V++)if(R[V][0].trace.cliponaxis===!1){Z._hasClipOnAxisFalse=!0;break}Z.updateLayers(F),Z.adjustLayout(F,U),r.generalUpdatePerTraceModule(Z.graphDiv,Z,R,F),Z.layers.plotbg.select("path").call(o.fill,F.bgcolor)},S.makeFramework=function(R){var N=this,Z=N.graphDiv,F=R[N.id],U=N.clipId="clip"+N.layoutId+N.id,V=N.clipIdRelative="clip-relative"+N.layoutId+N.id;N.clipDef=_.ensureSingleById(R._clips,"clipPath",U,function(te){te.append("path").attr("d","M0,0Z")}),N.clipDefRelative=_.ensureSingleById(R._clips,"clipPath",V,function(te){te.append("path").attr("d","M0,0Z")}),N.plotContainer=_.ensureSingle(N.container,"g",N.id),N.updateLayers(F),t.setClipUrl(N.layers.backplot,U,Z),t.setClipUrl(N.layers.grids,U,Z)},S.updateLayers=function(R){var N=this.layers,Z=["draglayer","plotbg","backplot","grids"];R.aaxis.layer==="below traces"&&Z.push("aaxis","aline"),R.baxis.layer==="below traces"&&Z.push("baxis","bline"),R.caxis.layer==="below traces"&&Z.push("caxis","cline"),Z.push("frontplot"),R.aaxis.layer==="above traces"&&Z.push("aaxis","aline"),R.baxis.layer==="above traces"&&Z.push("baxis","bline"),R.caxis.layer==="above traces"&&Z.push("caxis","cline");var F=this.plotContainer.selectAll("g.toplevel").data(Z,String),U=["agrid","bgrid","cgrid"];F.enter().append("g").attr("class",function(V){return"toplevel "+V}).each(function(V){var te=M.select(this);N[V]=te,V==="frontplot"?te.append("g").classed("scatterlayer",!0):V==="backplot"?te.append("g").classed("maplayer",!0):V==="plotbg"?te.append("path").attr("d","M0,0Z"):V==="aline"||V==="bline"||V==="cline"?te.append("path"):V==="grids"&&U.forEach(function(Q){N[Q]=te.append("g").classed("grid "+Q,!0)})}),F.order()};var T=Math.sqrt(4/3);S.adjustLayout=function(R,N){var Z,F,U,V,te,Q,J=this,X=R.domain,K=(X.x[0]+X.x[1])/2,ee=(X.y[0]+X.y[1])/2,re=X.x[1]-X.x[0],ie=X.y[1]-X.y[0],ae=re*N.w,ue=ie*N.h,pe=R.sum,de=R.aaxis.min,ye=R.baxis.min,be=R.caxis.min;ae>T*ue?U=(V=ue)*T:V=(U=ae)/T,te=re*U/ae,Q=ie*V/ue,Z=N.l+N.w*K-U/2,F=N.t+N.h*(1-ee)-V/2,J.x0=Z,J.y0=F,J.w=U,J.h=V,J.sum=pe,J.xaxis={type:"linear",range:[de+2*be-pe,pe-de-2*ye],domain:[K-te/2,K+te/2],_id:"x"},i(J.xaxis,J.graphDiv._fullLayout),J.xaxis.setScale(),J.xaxis.isPtWithinRange=function(Ce){return Ce.a>=J.aaxis.range[0]&&Ce.a<=J.aaxis.range[1]&&Ce.b>=J.baxis.range[1]&&Ce.b<=J.baxis.range[0]&&Ce.c>=J.caxis.range[1]&&Ce.c<=J.caxis.range[0]},J.yaxis={type:"linear",range:[de,pe-ye-be],domain:[ee-Q/2,ee+Q/2],_id:"y"},i(J.yaxis,J.graphDiv._fullLayout),J.yaxis.setScale(),J.yaxis.isPtWithinRange=function(){return!0};var me=J.yaxis.domain[0],Ee=J.aaxis=n({},R.aaxis,{range:[de,pe-ye-be],side:"left",tickangle:(+R.aaxis.tickangle||0)-30,domain:[me,me+Q*T],anchor:"free",position:0,_id:"y",_length:U});i(Ee,J.graphDiv._fullLayout),Ee.setScale();var Te=J.baxis=n({},R.baxis,{range:[pe-de-be,ye],side:"bottom",domain:J.xaxis.domain,anchor:"free",position:0,_id:"x",_length:U});i(Te,J.graphDiv._fullLayout),Te.setScale();var we=J.caxis=n({},R.caxis,{range:[pe-de-ye,be],side:"right",tickangle:(+R.caxis.tickangle||0)+30,domain:[me,me+Q*T],anchor:"free",position:0,_id:"y",_length:U});i(we,J.graphDiv._fullLayout),we.setScale();var oe="M"+Z+","+(F+V)+"h"+U+"l-"+U/2+",-"+V+"Z";J.clipDef.select("path").attr("d",oe),J.layers.plotbg.select("path").attr("d",oe);var se="M0,"+V+"h"+U+"l-"+U/2+",-"+V+"Z";J.clipDefRelative.select("path").attr("d",se);var he=b(Z,F);J.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",he),J.clipDefRelative.select("path").attr("transform",null);var Se=b(Z-Te._offset,F+V);J.layers.baxis.attr("transform",Se),J.layers.bgrid.attr("transform",Se);var _e=b(Z+U/2,F)+"rotate(30)"+b(0,-Ee._offset);J.layers.aaxis.attr("transform",_e),J.layers.agrid.attr("transform",_e);var Ae=b(Z+U/2,F)+"rotate(-30)"+b(0,-we._offset);J.layers.caxis.attr("transform",Ae),J.layers.cgrid.attr("transform",Ae),J.drawAxes(!0),J.layers.aline.select("path").attr("d",Ee.showline?"M"+Z+","+(F+V)+"l"+U/2+",-"+V:"M0,0").call(o.stroke,Ee.linecolor||"#000").style("stroke-width",(Ee.linewidth||0)+"px"),J.layers.bline.select("path").attr("d",Te.showline?"M"+Z+","+(F+V)+"h"+U:"M0,0").call(o.stroke,Te.linecolor||"#000").style("stroke-width",(Te.linewidth||0)+"px"),J.layers.cline.select("path").attr("d",we.showline?"M"+(Z+U/2)+","+F+"l"+U/2+","+V:"M0,0").call(o.stroke,we.linecolor||"#000").style("stroke-width",(we.linewidth||0)+"px"),J.graphDiv._context.staticPlot||J.initInteractions(),t.setClipUrl(J.layers.frontplot,J._hasClipOnAxisFalse?null:J.clipId,J.graphDiv)},S.drawAxes=function(R){var N=this,Z=N.graphDiv,F=N.id.substr(7)+"title",U=N.layers,V=N.aaxis,te=N.baxis,Q=N.caxis;if(N.drawAx(V),N.drawAx(te),N.drawAx(Q),R){var J=Math.max(V.showticklabels?V.tickfont.size/2:0,(Q.showticklabels?.75*Q.tickfont.size:0)+(Q.ticks==="outside"?.87*Q.ticklen:0)),X=(te.showticklabels?te.tickfont.size:0)+(te.ticks==="outside"?te.ticklen:0)+3;U["a-title"]=g.draw(Z,"a"+F,{propContainer:V,propName:N.id+".aaxis.title",placeholder:h(Z,"Click to enter Component A title"),attributes:{x:N.x0+N.w/2,y:N.y0-V.title.font.size/3-J,"text-anchor":"middle"}}),U["b-title"]=g.draw(Z,"b"+F,{propContainer:te,propName:N.id+".baxis.title",placeholder:h(Z,"Click to enter Component B title"),attributes:{x:N.x0-X,y:N.y0+N.h+.83*te.title.font.size+X,"text-anchor":"middle"}}),U["c-title"]=g.draw(Z,"c"+F,{propContainer:Q,propName:N.id+".caxis.title",placeholder:h(Z,"Click to enter Component C title"),attributes:{x:N.x0+N.w+X,y:N.y0+N.h+.83*Q.title.font.size+X,"text-anchor":"middle"}})}},S.drawAx=function(R){var N,Z=this,F=Z.graphDiv,U=R._name,V=U.charAt(0),te=R._id,Q=Z.layers[U],J=V+"tickLayout",X=(N=R).ticks+String(N.ticklen)+String(N.showticklabels);Z[J]!==X&&(Q.selectAll("."+te+"tick").remove(),Z[J]=X),R.setScale();var K=l.calcTicks(R),ee=l.clipEnds(R,K),re=l.makeTransTickFn(R),ie=l.getTickSigns(R)[2],ae=_.deg2rad(30),ue=ie*(R.linewidth||1)/2,pe=ie*R.ticklen,de=Z.w,ye=Z.h,be=V==="b"?"M0,"+ue+"l"+Math.sin(ae)*pe+","+Math.cos(ae)*pe:"M"+ue+",0l"+Math.cos(ae)*pe+","+-Math.sin(ae)*pe,me={a:"M0,0l"+ye+",-"+de/2,b:"M0,0l-"+de/2+",-"+ye,c:"M0,0l-"+ye+","+de/2}[V];l.drawTicks(F,R,{vals:R.ticks==="inside"?ee:K,layer:Q,path:be,transFn:re,crisp:!1}),l.drawGrid(F,R,{vals:ee,layer:Z.layers[V+"grid"],path:me,transFn:re,crisp:!1}),l.drawLabels(F,R,{vals:K,layer:Q,transFn:re,labelFns:l.makeLabelFns(R,0,30)})};var E=w.MINZOOM/2+.87,O="m-0.87,.5h"+E+"v3h-"+(E+5.2)+"l"+(E/2+2.6)+",-"+(.87*E+4.5)+"l2.6,1.5l-"+E/2+","+.87*E+"Z",P="m0.87,.5h-"+E+"v3h"+(E+5.2)+"l-"+(E/2+2.6)+",-"+(.87*E+4.5)+"l-2.6,1.5l"+E/2+","+.87*E+"Z",I="m0,1l"+E/2+","+.87*E+"l2.6,-1.5l-"+(E/2+2.6)+",-"+(.87*E+4.5)+"l-"+(E/2+2.6)+","+(.87*E+4.5)+"l2.6,1.5l"+E/2+",-"+.87*E+"Z",z=!0;function j(R){M.select(R).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}S.clearOutline=function(){m(this.dragOptions),y(this.dragOptions.gd)},S.initInteractions=function(){var R,N,Z,F,U,V,te,Q,J,X,K,ee,re=this,ie=re.layers.plotbg.select("path").node(),ae=re.graphDiv,ue=ae._fullLayout._zoomlayer;function pe(se){var he={};return he[re.id+".aaxis.min"]=se.a,he[re.id+".baxis.min"]=se.b,he[re.id+".caxis.min"]=se.c,he}function de(se,he){var Se=ae._fullLayout.clickmode;j(ae),se===2&&(ae.emit("plotly_doubleclick",null),a.call("_guiRelayout",ae,pe({a:0,b:0,c:0}))),Se.indexOf("select")>-1&&se===1&&v(he,ae,[re.xaxis],[re.yaxis],re.id,re.dragOptions),Se.indexOf("event")>-1&&u.click(ae,he,re.id)}function ye(se,he){return 1-he/re.h}function be(se,he){return 1-(se+(re.h-he)/Math.sqrt(3))/re.w}function me(se,he){return(se-(re.h-he)/Math.sqrt(3))/re.w}function Ee(se,he){var Se=Z+se*R,_e=F+he*N,Ae=Math.max(0,Math.min(1,ye(0,F),ye(0,_e))),Ce=Math.max(0,Math.min(1,be(Z,F),be(Se,_e))),Re=Math.max(0,Math.min(1,me(Z,F),me(Se,_e))),fe=(Ae/2+Re)*re.w,xe=(1-Ae/2-Ce)*re.w,ke=(fe+xe)/2,Ie=xe-fe,Fe=(1-Ae)*re.h,ze=Fe-Ie/T;Ie<w.MINZOOM?(te=U,K.attr("d",J),ee.attr("d","M0,0Z")):(te={a:U.a+Ae*V,b:U.b+Ce*V,c:U.c+Re*V},K.attr("d",J+"M"+fe+","+Fe+"H"+xe+"L"+ke+","+ze+"L"+fe+","+Fe+"Z"),ee.attr("d","M"+Z+","+F+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+fe+","+Fe+O+"M"+xe+","+Fe+P+"M"+ke+","+ze+I)),X||(K.transition().style("fill",Q>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ee.transition().style("opacity",1).duration(200),X=!0),ae.emit("plotly_relayouting",pe(te))}function Te(){j(ae),te!==U&&(a.call("_guiRelayout",ae,pe(te)),z&&ae.data&&ae._context.showTips&&(_.notifier(h(ae,"Double-click to zoom back out"),"long"),z=!1))}function we(se,he){var Se=se/re.xaxis._m,_e=he/re.yaxis._m,Ae=[(te={a:U.a-_e,b:U.b+(Se+_e)/2,c:U.c-(Se-_e)/2}).a,te.b,te.c].sort(_.sorterAsc),Ce=Ae.indexOf(te.a),Re=Ae.indexOf(te.b),fe=Ae.indexOf(te.c);Ae[0]<0&&(Ae[1]+Ae[0]/2<0?(Ae[2]+=Ae[0]+Ae[1],Ae[0]=Ae[1]=0):(Ae[2]+=Ae[0]/2,Ae[1]+=Ae[0]/2,Ae[0]=0),te={a:Ae[Ce],b:Ae[Re],c:Ae[fe]},he=(U.a-te.a)*re.yaxis._m,se=(U.c-te.c-U.b+te.b)*re.xaxis._m);var xe=b(re.x0+se,re.y0+he);re.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",xe);var ke=b(-se,-he);re.clipDefRelative.select("path").attr("transform",ke),re.aaxis.range=[te.a,re.sum-te.b-te.c],re.baxis.range=[re.sum-te.a-te.c,te.b],re.caxis.range=[re.sum-te.a-te.b,te.c],re.drawAxes(!1),re._hasClipOnAxisFalse&&re.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,re),ae.emit("plotly_relayouting",pe(te))}function oe(){a.call("_guiRelayout",ae,pe(te))}this.dragOptions={element:ie,gd:ae,plotinfo:{id:re.id,domain:ae._fullLayout[re.id].domain,xaxis:re.xaxis,yaxis:re.yaxis},subplot:re.id,prepFn:function(se,he,Se){re.dragOptions.xaxes=[re.xaxis],re.dragOptions.yaxes=[re.yaxis],R=ae._fullLayout._invScaleX,N=ae._fullLayout._invScaleY;var _e=re.dragOptions.dragmode=ae._fullLayout.dragmode;c(_e)?re.dragOptions.minDrag=1:re.dragOptions.minDrag=void 0,_e==="zoom"?(re.dragOptions.moveFn=Ee,re.dragOptions.clickFn=de,re.dragOptions.doneFn=Te,function(Ae,Ce,Re){var fe=ie.getBoundingClientRect();Z=Ce-fe.left,F=Re-fe.top,ae._fullLayout._calcInverseTransform(ae);var xe=ae._fullLayout._invTransform,ke=_.apply3DTransform(xe)(Z,F);Z=ke[0],F=ke[1],U={a:re.aaxis.range[0],b:re.baxis.range[1],c:re.caxis.range[1]},te=U,V=re.aaxis.range[1]-U.a,Q=k(re.graphDiv._fullLayout[re.id].bgcolor).getLuminance(),J="M0,"+re.h+"L"+re.w/2+", 0L"+re.w+","+re.h+"Z",X=!1,K=ue.append("path").attr("class","zoombox").attr("transform",b(re.x0,re.y0)).style({fill:Q>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",J),ee=ue.append("path").attr("class","zoombox-corners").attr("transform",b(re.x0,re.y0)).style({fill:o.background,stroke:o.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),re.clearOutline(ae)}(0,he,Se)):_e==="pan"?(re.dragOptions.moveFn=we,re.dragOptions.clickFn=de,re.dragOptions.doneFn=oe,U={a:re.aaxis.range[0],b:re.baxis.range[1],c:re.caxis.range[1]},te=U,re.clearOutline(ae)):(x(_e)||c(_e))&&d(se,he,Se,re.dragOptions,_e)}},ie.onmousemove=function(se){u.hover(ae,se,re.id),ae._fullLayout._lasthover=ie,ae._fullLayout._hoversubplot=re.id},ie.onmouseout=function(se){ae._dragging||s.unhover(ae,se)},s.init(this.dragOptions)}},73972:function(q,C,e){var M=e(47769),k=e(64213),a=e(75138),_=e(41965),b=e(24401).addStyleRule,h=e(1426),o=e(9012),t=e(10820),i=h.extendFlat,n=h.extendDeepAll;function r(v){var y=v.name,m=v.categories,w=v.meta;if(C.modules[y])M.log("Type "+y+" already registered");else{C.subplotsRegistry[v.basePlotModule.name]||function(z){var j=z.name;if(C.subplotsRegistry[j])M.log("Plot type "+j+" already registered.");else for(var R in p(z),C.subplotsRegistry[j]=z,C.componentsRegistry)g(R,z.name)}(v.basePlotModule);for(var f={},S=0;S<m.length;S++)f[m[S]]=!0,C.allCategories[m[S]]=!0;for(var T in C.modules[y]={_module:v,categories:f},w&&Object.keys(w).length&&(C.modules[y].meta=w),C.allTypes.push(y),C.componentsRegistry)c(T,y);v.layoutAttributes&&i(C.traceLayoutAttributes,v.layoutAttributes);var E=v.basePlotModule,O=E.name;if(O==="mapbox"){var P=E.constants.styleRules;for(var I in P)b(".js-plotly-plot .plotly .mapboxgl-"+I,P[I])}O!=="geo"&&O!=="mapbox"||window.PlotlyGeoAssets!==void 0||(window.PlotlyGeoAssets={topojson:{}})}}function l(v){if(typeof v.name!="string")throw new Error("Component module *name* must be a string.");var y=v.name;for(var m in C.componentsRegistry[y]=v,v.layoutAttributes&&(v.layoutAttributes._isLinkedToArray&&a(C.layoutArrayContainers,y),p(v)),C.modules)c(y,m);for(var w in C.subplotsRegistry)g(y,w);for(var f in C.transformsRegistry)x(y,f);v.schema&&v.schema.layout&&n(t,v.schema.layout)}function s(v){if(typeof v.name!="string")throw new Error("Transform module *name* must be a string.");var y="Transform module "+v.name,m=typeof v.transform=="function",w=typeof v.calcTransform=="function";if(!m&&!w)throw new Error(y+" is missing a *transform* or *calcTransform* method.");for(var f in m&&w&&M.log([y+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),_(v.attributes)||M.log(y+" registered without an *attributes* object."),typeof v.supplyDefaults!="function"&&M.log(y+" registered without a *supplyDefaults* method."),C.transformsRegistry[v.name]=v,C.componentsRegistry)x(f,v.name)}function u(v){var y=v.name,m=y.split("-")[0],w=v.dictionary,f=v.format,S=w&&Object.keys(w).length,T=f&&Object.keys(f).length,E=C.localeRegistry,O=E[y];if(O||(E[y]=O={}),m!==y){var P=E[m];P||(E[m]=P={}),S&&P.dictionary===O.dictionary&&(P.dictionary=w),T&&P.format===O.format&&(P.format=f)}S&&(O.dictionary=w),T&&(O.format=f)}function p(v){if(v.layoutAttributes){var y=v.layoutAttributes._arrayAttrRegexps;if(y)for(var m=0;m<y.length;m++)a(C.layoutArrayRegexes,y[m])}}function c(v,y){var m=C.componentsRegistry[v].schema;if(m&&m.traces){var w=m.traces[y];w&&n(C.modules[y]._module.attributes,w)}}function x(v,y){var m=C.componentsRegistry[v].schema;if(m&&m.transforms){var w=m.transforms[y];w&&n(C.transformsRegistry[y].attributes,w)}}function g(v,y){var m=C.componentsRegistry[v].schema;if(m&&m.subplots){var w=C.subplotsRegistry[y],f=w.layoutAttributes,S=w.attr==="subplot"?w.name:w.attr;Array.isArray(S)&&(S=S[0]);var T=m.subplots[S];f&&T&&n(f,T)}}function d(v){return typeof v=="object"&&(v=v.type),v}C.modules={},C.allCategories={},C.allTypes=[],C.subplotsRegistry={},C.transformsRegistry={},C.componentsRegistry={},C.layoutArrayContainers=[],C.layoutArrayRegexes=[],C.traceLayoutAttributes={},C.localeRegistry={},C.apiMethodRegistry={},C.collectableSubplotTypes=null,C.register=function(v){if(C.collectableSubplotTypes=null,!v)throw new Error("No argument passed to Plotly.register.");v&&!Array.isArray(v)&&(v=[v]);for(var y=0;y<v.length;y++){var m=v[y];if(!m)throw new Error("Invalid module was attempted to be registered!");switch(m.moduleType){case"trace":r(m);break;case"transform":s(m);break;case"component":l(m);break;case"locale":u(m);break;case"apiMethod":var w=m.name;C.apiMethodRegistry[w]=m.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},C.getModule=function(v){var y=C.modules[d(v)];return!!y&&y._module},C.traceIs=function(v,y){if((v=d(v))==="various")return!1;var m=C.modules[v];return m||(v&&M.log("Unrecognized trace type "+v+"."),m=C.modules[o.type.dflt]),!!m.categories[y]},C.getTransformIndices=function(v,y){for(var m=[],w=v.transforms||[],f=0;f<w.length;f++)w[f].type===y&&m.push(f);return m},C.hasTransform=function(v,y){for(var m=v.transforms||[],w=0;w<m.length;w++)if(m[w].type===y)return!0;return!1},C.getComponentMethod=function(v,y){var m=C.componentsRegistry[v];return m&&m[y]||k},C.call=function(){var v=arguments[0],y=[].slice.call(arguments,1);return C.apiMethodRegistry[v].apply(null,y)}},61914:function(q,C,e){var M=e(73972),k=e(71828),a=k.extendFlat,_=k.extendDeep;function b(h){var o;switch(h){case"themes__thumb":o={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":o={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:o={}}return o}q.exports=function(h,o){var t,i,n=h.data,r=h.layout,l=_([],n),s=_({},r,b(o.tileClass)),u=h._context||{};if(o.width&&(s.width=o.width),o.height&&(s.height=o.height),o.tileClass==="thumbnail"||o.tileClass==="themes__thumb"){s.annotations=[];var p=Object.keys(s);for(t=0;t<p.length;t++)i=p[t],["xaxis","yaxis","zaxis"].indexOf(i.slice(0,5))>-1&&(s[p[t]].title={text:""});for(t=0;t<l.length;t++){var c=l[t];c.showscale=!1,c.marker&&(c.marker.showscale=!1),M.traceIs(c,"pie-like")&&(c.textposition="none")}}if(Array.isArray(o.annotations))for(t=0;t<o.annotations.length;t++)s.annotations.push(o.annotations[t]);var x=Object.keys(s).filter(function(m){return m.match(/^scene\d*$/)});if(x.length){var g={};for(o.tileClass==="thumbnail"&&(g={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),t=0;t<x.length;t++){var d=s[x[t]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),a(d.xaxis,g),a(d.yaxis,g),a(d.zaxis,g),d._scene=null}}var v=document.createElement("div");o.tileClass&&(v.className=o.tileClass);var y={gd:v,td:v,layout:s,data:l,config:{staticPlot:o.staticPlot===void 0||o.staticPlot,plotGlPixelRatio:o.plotGlPixelRatio===void 0?2:o.plotGlPixelRatio,displaylogo:o.displaylogo||!1,showLink:o.showLink||!1,showTips:o.showTips||!1,mapboxAccessToken:u.mapboxAccessToken}};return o.setBackground!=="transparent"&&(y.config.setBackground=o.setBackground||"opaque"),y.gd.defaultLayout=b(o.tileClass),y}},7239:function(q,C,e){var M=e(71828),k=e(403),a=e(22435),_=e(25095);q.exports=function(b,h){var o;return M.isPlainObject(b)||(o=M.getGraphDiv(b)),(h=h||{}).format=h.format||"png",h.width=h.width||null,h.height=h.height||null,h.imageDataOnly=!0,new Promise(function(t,i){o&&o._snapshotInProgress&&i(new Error("Snapshotting already in progress.")),M.isIE()&&h.format!=="svg"&&i(new Error(_.MSG_IE_BAD_FORMAT)),o&&(o._snapshotInProgress=!0);var n=k(b,h),r=h.filename||b.fn||"newplot";r+="."+h.format.replace("-","."),n.then(function(l){return o&&(o._snapshotInProgress=!1),a(l,r,h.format)}).then(function(l){t(l)}).catch(function(l){o&&(o._snapshotInProgress=!1),i(l)})})}},22435:function(q,C,e){var M=e(71828),k=e(25095);q.exports=function(a,_,b){var h=document.createElement("a"),o="download"in h;return new Promise(function(t,i){var n,r;if(M.isIE())return n=k.createBlob(a,"svg"),window.navigator.msSaveBlob(n,_),n=null,t(_);if(o)return n=k.createBlob(a,b),r=k.createObjectURL(n),h.href=r,h.download=_,document.body.appendChild(h),h.click(),document.body.removeChild(h),k.revokeObjectURL(r),n=null,t(_);if(M.isSafari()){var l=b==="svg"?",":";base64,";return k.octetStream(l+encodeURIComponent(a)),t(_)}i(new Error("download error"))})}},25095:function(q,C,e){var M=e(73972);C.getDelay=function(a){return a._has&&(a._has("gl3d")||a._has("gl2d")||a._has("mapbox"))?500:0},C.getRedrawFunc=function(a){return function(){M.getComponentMethod("colorbar","draw")(a)}},C.encodeSVG=function(a){return"data:image/svg+xml,"+encodeURIComponent(a)},C.encodeJSON=function(a){return"data:application/json,"+encodeURIComponent(a)};var k=window.URL||window.webkitURL;C.createObjectURL=function(a){return k.createObjectURL(a)},C.revokeObjectURL=function(a){return k.revokeObjectURL(a)},C.createBlob=function(a,_){if(_==="svg")return new window.Blob([a],{type:"image/svg+xml;charset=utf-8"});if(_==="full-json")return new window.Blob([a],{type:"application/json;charset=utf-8"});var b=function(h){for(var o=h.length,t=new ArrayBuffer(o),i=new Uint8Array(t),n=0;n<o;n++)i[n]=h.charCodeAt(n);return t}(window.atob(a));return new window.Blob([b],{type:"image/"+_})},C.octetStream=function(a){document.location.href="data:application/octet-stream"+a},C.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,C.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(q,C,e){var M=e(25095),k={getDelay:M.getDelay,getRedrawFunc:M.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};q.exports=k},70942:function(q,C,e){var M=e(71828),k=e(15398).EventEmitter,a=e(25095);q.exports=function(_){var b=_.emitter||new k,h=new Promise(function(o,t){var i=window.Image,n=_.svg,r=_.format||"png";if(M.isIE()&&r!=="svg"){var l=new Error(a.MSG_IE_BAD_FORMAT);return t(l),_.promise?h:b.emit("error",l)}var s,u,p=_.canvas,c=_.scale||1,x=_.width||300,g=_.height||150,d=c*x,v=c*g,y=p.getContext("2d",{willReadFrequently:!0}),m=new i;r==="svg"||M.isSafari()?u=a.encodeSVG(n):(s=a.createBlob(n,"svg"),u=a.createObjectURL(s)),p.width=d,p.height=v,m.onload=function(){var w;switch(s=null,a.revokeObjectURL(u),r!=="svg"&&y.drawImage(m,0,0,d,v),r){case"jpeg":w=p.toDataURL("image/jpeg");break;case"png":w=p.toDataURL("image/png");break;case"webp":w=p.toDataURL("image/webp");break;case"svg":w=u;break;default:var f="Image format is not jpeg, png, svg or webp.";if(t(new Error(f)),!_.promise)return b.emit("error",f)}o(w),_.promise||b.emit("success",w)},m.onerror=function(w){if(s=null,a.revokeObjectURL(u),t(w),!_.promise)return b.emit("error",w)},m.src=u});return _.promise?h:b}},56395:function(q,C,e){var M=e(15398).EventEmitter,k=e(73972),a=e(71828),_=e(25095),b=e(61914),h=e(5900),o=e(70942);q.exports=function(t,i){var n=new M,r=b(t,{format:"png"}),l=r.gd;l.style.position="absolute",l.style.left="-5000px",document.body.appendChild(l);var s=_.getRedrawFunc(l);return k.call("_doPlot",l,r.data,r.layout,r.config).then(s).then(function(){var u=_.getDelay(l._fullLayout);setTimeout(function(){var p=h(l),c=document.createElement("canvas");c.id=a.randstr(),(n=o({format:i.format,width:l._fullLayout.width,height:l._fullLayout.height,canvas:c,emitter:n,svg:p})).clean=function(){l&&document.body.removeChild(l)}},u)}).catch(function(u){n.emit("error",u)}),n}},5900:function(q,C,e){var M=e(39898),k=e(71828),a=e(91424),_=e(7901),b=e(77922),h=/"/g,o="TOBESTRIPPED",t=new RegExp('("'+o+")|("+o+'")',"g");q.exports=function(i,n,r){var l,s=i._fullLayout,u=s._paper,p=s._toppaper,c=s.width,x=s.height;u.insert("rect",":first-child").call(a.setRect,0,0,c,x).call(_.fill,s.paper_bgcolor);var g=s._basePlotModules||[];for(l=0;l<g.length;l++){var d=g[l];d.toSVG&&d.toSVG(i)}if(p){var v=p.node().childNodes,y=Array.prototype.slice.call(v);for(l=0;l<y.length;l++){var m=y[l];m.childNodes.length&&u.node().appendChild(m)}}s._draggers&&s._draggers.remove(),u.node().style.background="",u.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var f=M.select(this);if(this.style.visibility!=="hidden"&&this.style.display!=="none"){f.style({visibility:null,display:null});var S=this.style.fontFamily;S&&S.indexOf('"')!==-1&&f.style("font-family",S.replace(h,o))}else f.remove()}),u.selectAll(".gradient_filled,.pattern_filled").each(function(){var f=M.select(this),S=this.style.fill;S&&S.indexOf("url(")!==-1&&f.style("fill",S.replace(h,o));var T=this.style.stroke;T&&T.indexOf("url(")!==-1&&f.style("stroke",T.replace(h,o))}),n!=="pdf"&&n!=="eps"||u.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),u.node().setAttributeNS(b.xmlns,"xmlns",b.svg),u.node().setAttributeNS(b.xmlns,"xmlns:xlink",b.xlink),n==="svg"&&r&&(u.attr("width",r*c),u.attr("height",r*x),u.attr("viewBox","0 0 "+c+" "+x));var w=new window.XMLSerializer().serializeToString(u.node());return w=(w=(w=function(f){var S=M.select("body").append("div").style({display:"none"}).html(""),T=f.replace(/(&[^;]*;)/gi,function(E){return E==="&lt;"?"&#60;":E==="&rt;"?"&#62;":E.indexOf("<")!==-1||E.indexOf(">")!==-1?"":S.html(E).text()});return S.remove(),T}(w)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(t,"'"),k.isIE()&&(w=(w=(w=w.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),w}},75341:function(q,C,e){var M=e(71828);q.exports=function(k,a){for(var _=0;_<k.length;_++)k[_].i=_;M.mergeArray(a.text,k,"tx"),M.mergeArray(a.hovertext,k,"htx");var b=a.marker;if(b){M.mergeArray(b.opacity,k,"mo",!0),M.mergeArray(b.color,k,"mc");var h=b.line;h&&(M.mergeArray(h.color,k,"mlc"),M.mergeArrayCastPositive(h.width,k,"mlw"))}}},1486:function(q,C,e){var M=e(82196),k=e(12663).axisHoverFormat,a=e(5386).fF,_=e(5386).si,b=e(50693),h=e(41940),o=e(97313),t=e(79952).u,i=e(1426).extendFlat,n=h({editType:"calc",arrayOk:!0,colorEditType:"style"}),r=i({},M.marker.line.width,{dflt:0}),l=i({width:r,editType:"calc"},b("marker.line")),s=i({line:l,editType:"calc"},b("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t});q.exports={x:M.x,x0:M.x0,dx:M.dx,y:M.y,y0:M.y0,dy:M.dy,xperiod:M.xperiod,yperiod:M.yperiod,xperiod0:M.xperiod0,yperiod0:M.yperiod0,xperiodalignment:M.xperiodalignment,yperiodalignment:M.yperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),text:M.text,texttemplate:_({editType:"plot"},{keys:o.eventDataKeys}),hovertext:M.hovertext,hovertemplate:a({},{keys:o.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:i({},n,{}),insidetextfont:i({},n,{}),outsidetextfont:i({},n,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:i({},M.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:s,offsetgroup:M.offsetgroup,alignmentgroup:M.alignmentgroup,selected:{marker:{opacity:M.selected.marker.opacity,color:M.selected.marker.color,editType:"style"},textfont:M.selected.textfont,editType:"style"},unselected:{marker:{opacity:M.unselected.marker.opacity,color:M.unselected.marker.color,editType:"style"},textfont:M.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(q,C,e){var M=e(89298),k=e(42973),a=e(52075).hasColorscale,_=e(78803),b=e(75341),h=e(66279);q.exports=function(o,t){var i,n,r,l,s,u,p=M.getFromId(o,t.xaxis||"x"),c=M.getFromId(o,t.yaxis||"y"),x={msUTC:!(!t.base&&t.base!==0)};t.orientation==="h"?(i=p.makeCalcdata(t,"x",x),r=c.makeCalcdata(t,"y"),l=k(t,c,"y",r),s=!!t.yperiodalignment,u="y"):(i=c.makeCalcdata(t,"y",x),r=p.makeCalcdata(t,"x"),l=k(t,p,"x",r),s=!!t.xperiodalignment,u="x"),n=l.vals;for(var g=Math.min(n.length,i.length),d=new Array(g),v=0;v<g;v++)d[v]={p:n[v],s:i[v]},s&&(d[v].orig_p=r[v],d[v][u+"End"]=l.ends[v],d[v][u+"Start"]=l.starts[v]),t.ids&&(d[v].id=String(t.ids[v]));return a(t,"marker")&&_(o,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),a(t,"marker.line")&&_(o,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),b(d,t),h(d,t),d}},97313:function(q){q.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(q,C,e){var M=e(92770),k=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,_=e(73972),b=e(89298),h=e(99082).getAxisGroup,o=e(61546);function t(g,d,v,y,m){if(y.length){var w,f,S,T;switch(function(E,O){var P,I;for(P=0;P<O.length;P++){var z,j=O[P],R=j[0].trace,N=R.type==="funnel"?R._base:R.base,Z=R.orientation==="h"?R.xcalendar:R.ycalendar,F=E.type==="category"||E.type==="multicategory"?function(){return null}:E.d2c;if(k(N)){for(I=0;I<Math.min(N.length,j.length);I++)z=F(N[I],0,Z),M(z)?(j[I].b=+z,j[I].hasB=1):j[I].b=0;for(;I<j.length;I++)j[I].b=0}else{z=F(N,0,Z);var U=M(z);for(z=U?z:0,I=0;I<j.length;I++)j[I].b=z,U&&(j[I].hasB=1)}}}(v,y),m.mode){case"overlay":i(d,v,y,m);break;case"group":for(w=[],f=[],S=0;S<y.length;S++)(T=y[S])[0].trace.offset===void 0?f.push(T):w.push(T);f.length&&function(E,O,P,I,z){var j=new o(I,{posAxis:O,sepNegVal:!1,overlapNoMerge:!z.norm});(function(R,N,Z,F){for(var U=R._fullLayout,V=Z.positions,te=Z.distinctPositions,Q=Z.minDiff,J=Z.traces,X=J.length,K=V.length!==te.length,ee=Q*(1-F.gap),re=h(U,N._id)+J[0][0].trace.orientation,ie=U._alignmentOpts[re]||{},ae=0;ae<X;ae++){var ue,pe,de=J[ae],ye=de[0].trace,be=ie[ye.alignmentgroup]||{},me=Object.keys(be.offsetGroups||{}).length,Ee=(ue=me?ee/me:K?ee/X:ee)*(1-(F.groupgap||0));pe=me?((2*ye._offsetIndex+1-me)*ue-Ee)/2:K?((2*ae+1-X)*ue-Ee)/2:-Ee/2;var Te=de[0].t;Te.barwidth=Ee,Te.poffset=pe,Te.bargroupwidth=ee,Te.bardelta=Q}Z.binWidth=J[0][0].t.barwidth/100,r(Z),l(N,Z),s(N,Z,K)})(E,O,j,z),function(R,N){for(var Z=R.traces,F=0;F<Z.length;F++){var U=Z[F];if(U[0].trace.base===void 0)for(var V=new o([U],{posAxis:N,sepNegVal:!0,overlapNoMerge:!0}),te=0;te<U.length;te++){var Q=U[te];if(Q.p!==a){var J=V.put(Q.p,Q.b+Q.s);J&&(Q.b=J)}}}}(j,O),z.norm?(p(j),c(P,j,z)):u(P,j)}(g,d,v,f,m),w.length&&i(d,v,w,m);break;case"stack":case"relative":for(w=[],f=[],S=0;S<y.length;S++)(T=y[S])[0].trace.base===void 0?f.push(T):w.push(T);f.length&&function(E,O,P,I,z){var j=new o(I,{posAxis:O,sepNegVal:z.mode==="relative",overlapNoMerge:!(z.norm||z.mode==="stack"||z.mode==="relative")});n(O,j,z),function(U,V,te){var Q,J,X,K,ee,re,ie=x(U),ae=V.traces;for(K=0;K<ae.length;K++)if((J=(Q=ae[K])[0].trace).type==="funnel")for(ee=0;ee<Q.length;ee++)(re=Q[ee]).s!==a&&V.put(re.p,-.5*re.s);for(K=0;K<ae.length;K++){X=(J=(Q=ae[K])[0].trace).type==="funnel";var ue=[];for(ee=0;ee<Q.length;ee++)if((re=Q[ee]).s!==a){var pe;pe=X?re.s:re.s+re.b;var de=V.put(re.p,pe),ye=de+pe;re.b=de,re[ie]=ye,te.norm||(ue.push(ye),re.hasB&&ue.push(de))}te.norm||(J._extremes[U._id]=b.findExtremes(U,ue,{tozero:!0,padded:!0}))}}(P,j,z);for(var R=0;R<I.length;R++)for(var N=I[R],Z=0;Z<N.length;Z++){var F=N[Z];F.s!==a&&F.b+F.s===j.get(F.p,F.s)&&(F._outmost=!0)}z.norm&&c(P,j,z)}(0,d,v,f,m),w.length&&i(d,v,w,m)}(function(E,O){var P,I,z,j=x(O),R={},N=1/0,Z=-1/0;for(P=0;P<E.length;P++)for(z=E[P],I=0;I<z.length;I++){var F=z[I].p;M(F)&&(N=Math.min(N,F),Z=Math.max(Z,F))}var U=1e4/(Z-N),V=R.round=function(re){return String(Math.round(U*(re-N)))};for(P=0;P<E.length;P++){(z=E[P])[0].t.extents=R;var te=z[0].t.poffset,Q=k(te);for(I=0;I<z.length;I++){var J=z[I],X=J[j]-J.w/2;if(M(X)){var K=J[j]+J.w/2,ee=V(J.p);R[ee]?R[ee]=[Math.min(X,R[ee][0]),Math.max(K,R[ee][1])]:R[ee]=[X,K]}J.p0=J.p+(Q?te[I]:te),J.p1=J.p0+J.w,J.s0=J.b,J.s1=J.s0+J.s}}})(y,d)}}function i(g,d,v,y){for(var m=0;m<v.length;m++){var w=v[m],f=new o([w],{posAxis:g,sepNegVal:!1,overlapNoMerge:!y.norm});n(g,f,y),y.norm?(p(f),c(d,f,y)):u(d,f)}}function n(g,d,v){for(var y=d.minDiff,m=d.traces,w=y*(1-v.gap),f=w*(1-(v.groupgap||0)),S=-f/2,T=0;T<m.length;T++){var E=m[T][0].t;E.barwidth=f,E.poffset=S,E.bargroupwidth=w,E.bardelta=y}d.binWidth=m[0][0].t.barwidth/100,r(d),l(g,d),s(g,d)}function r(g){var d,v,y=g.traces;for(d=0;d<y.length;d++){var m,w=y[d],f=w[0],S=f.trace,T=f.t,E=S._offset||S.offset,O=T.poffset;if(k(E)){for(m=Array.prototype.slice.call(E,0,w.length),v=0;v<m.length;v++)M(m[v])||(m[v]=O);for(v=m.length;v<w.length;v++)m.push(O);T.poffset=m}else E!==void 0&&(T.poffset=E);var P=S._width||S.width,I=T.barwidth;if(k(P)){var z=Array.prototype.slice.call(P,0,w.length);for(v=0;v<z.length;v++)M(z[v])||(z[v]=I);for(v=z.length;v<w.length;v++)z.push(I);if(T.barwidth=z,E===void 0){for(m=[],v=0;v<w.length;v++)m.push(O+(I-z[v])/2);T.poffset=m}}else P!==void 0&&(T.barwidth=P,E===void 0&&(T.poffset=O+(I-P)/2))}}function l(g,d){for(var v=d.traces,y=x(g),m=0;m<v.length;m++)for(var w=v[m],f=w[0].t,S=f.poffset,T=k(S),E=f.barwidth,O=k(E),P=0;P<w.length;P++){var I=w[P],z=I.w=O?E[P]:E;I.p===void 0&&(I.p=I[y],I["orig_"+y]=I[y]);var j=(T?S[P]:S)+z/2;I[y]=I.p+j}}function s(g,d,v){var y=d.traces,m=d.minDiff/2;b.minDtick(g,d.minDiff,d.distinctPositions[0],v);for(var w=0;w<y.length;w++){var f,S,T,E,O=y[w],P=O[0],I=P.trace,z=[];for(E=0;E<O.length;E++)S=(f=O[E]).p-m,T=f.p+m,z.push(S,T);if(I.width||I.offset){var j=P.t,R=j.poffset,N=j.barwidth,Z=k(R),F=k(N);for(E=0;E<O.length;E++){f=O[E];var U=Z?R[E]:R,V=F?N[E]:N;T=(S=f.p+U)+V,z.push(S,T)}}I._extremes[g._id]=b.findExtremes(g,z,{padded:!1})}}function u(g,d){for(var v=d.traces,y=x(g),m=0;m<v.length;m++){for(var w=v[m],f=w[0].trace,S=f.type==="scatter",T=f.orientation==="v",E=[],O=!1,P=0;P<w.length;P++){var I=w[P],z=S?0:I.b,j=S?T?I.y:I.x:z+I.s;I[y]=j,E.push(j),I.hasB&&E.push(z),I.hasB&&I.b||(O=!0)}f._extremes[g._id]=b.findExtremes(g,E,{tozero:O,padded:!0})}}function p(g){for(var d=g.traces,v=0;v<d.length;v++)for(var y=d[v],m=0;m<y.length;m++){var w=y[m];w.s!==a&&g.put(w.p,w.b+w.s)}}function c(g,d,v){var y=d.traces,m=x(g),w=v.norm==="fraction"?1:100,f=w/1e9,S=g.l2c(g.c2l(0)),T=v.mode==="stack"?w:S;function E(te){return M(g.c2l(te))&&(te<S-f||te>T+f||!M(S))}for(var O=0;O<y.length;O++){for(var P=y[O],I=P[0].trace,z=[],j=!1,R=!1,N=0;N<P.length;N++){var Z=P[N];if(Z.s!==a){var F=Math.abs(w/d.get(Z.p,Z.s));Z.b*=F,Z.s*=F;var U=Z.b,V=U+Z.s;Z[m]=V,z.push(V),R=R||E(V),Z.hasB&&(z.push(U),R=R||E(U)),Z.hasB&&Z.b||(j=!0)}}I._extremes[g._id]=b.findExtremes(g,z,{tozero:j,padded:R})}}function x(g){return g._id.charAt(0)}q.exports={crossTraceCalc:function(g,d){for(var v=d.xaxis,y=d.yaxis,m=g._fullLayout,w=g._fullData,f=g.calcdata,S=[],T=[],E=0;E<w.length;E++){var O=w[E];if(O.visible===!0&&_.traceIs(O,"bar")&&O.xaxis===v._id&&O.yaxis===y._id&&(O.orientation==="h"?S.push(f[E]):T.push(f[E]),O._computePh))for(var P=g.calcdata[E],I=0;I<P.length;I++)typeof P[I].ph0=="function"&&(P[I].ph0=P[I].ph0()),typeof P[I].ph1=="function"&&(P[I].ph1=P[I].ph1())}var z={xCat:v.type==="category"||v.type==="multicategory",yCat:y.type==="category"||y.type==="multicategory",mode:m.barmode,norm:m.barnorm,gap:m.bargap,groupgap:m.bargroupgap};t(g,v,y,T,z),t(g,y,v,S,z)},setGroupPositions:t}},90769:function(q,C,e){var M=e(71828),k=e(7901),a=e(73972),_=e(67513),b=e(73927),h=e(98340),o=e(26125),t=e(1486),i=M.coerceFont;function n(r,l,s,u,p,c){var x=(c=c||{}).moduleHasSelected!==!1,g=c.moduleHasUnselected!==!1,d=c.moduleHasConstrain!==!1,v=c.moduleHasCliponaxis!==!1,y=c.moduleHasTextangle!==!1,m=c.moduleHasInsideanchor!==!1,w=!!c.hasPathbar,f=Array.isArray(p)||p==="auto",S=f||p==="inside",T=f||p==="outside";if(S||T){var E=i(u,"textfont",s.font),O=M.extendFlat({},E),P=!(r.textfont&&r.textfont.color);if(P&&delete O.color,i(u,"insidetextfont",O),w){var I=M.extendFlat({},E);P&&delete I.color,i(u,"pathbar.textfont",I)}T&&i(u,"outsidetextfont",E),x&&u("selected.textfont.color"),g&&u("unselected.textfont.color"),d&&u("constraintext"),v&&u("cliponaxis"),y&&u("textangle"),u("texttemplate")}S&&m&&u("insidetextanchor")}q.exports={supplyDefaults:function(r,l,s,u){function p(d,v){return M.coerce(r,l,t,d,v)}if(_(r,l,u,p)){b(r,l,u,p),p("xhoverformat"),p("yhoverformat"),p("orientation",l.x&&!l.y?"h":"v"),p("base"),p("offset"),p("width"),p("text"),p("hovertext"),p("hovertemplate");var c=p("textposition");n(r,0,u,p,c,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h(r,l,p,s,u);var x=(l.marker.line||{}).color,g=a.getComponentMethod("errorbars","supplyDefaults");g(r,l,x||k.defaultLine,{axis:"y"}),g(r,l,x||k.defaultLine,{axis:"x",inherit:"y"}),M.coerceSelectionMarkerOpacity(l,p)}else l.visible=!1},crossTraceDefaults:function(r,l){var s,u;function p(x){return M.coerce(u._input,u,t,x)}if(l.barmode==="group")for(var c=0;c<r.length;c++)(u=r[c]).type==="bar"&&(s=u._input,o(s,u,l,p))},handleText:n}},58065:function(q){q.exports=function(C,e,M){return C.x="xVal"in e?e.xVal:e.x,C.y="yVal"in e?e.yVal:e.y,e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),M.orientation==="h"?(C.label=C.y,C.value=C.x):(C.label=C.x,C.value=C.y),C}},69383:function(q,C,e){var M=e(92770),k=e(84267),a=e(71828).isArrayOrTypedArray;C.coerceString=function(_,b,h){if(typeof b=="string"){if(b||!_.noBlank)return b}else if((typeof b=="number"||b===!0)&&!_.strict)return String(b);return h!==void 0?h:_.dflt},C.coerceNumber=function(_,b,h){if(M(b)){b=+b;var o=_.min,t=_.max;if(!(o!==void 0&&b<o||t!==void 0&&b>t))return b}return h!==void 0?h:_.dflt},C.coerceColor=function(_,b,h){return k(b).isValid()?b:h!==void 0?h:_.dflt},C.coerceEnumerated=function(_,b,h){return _.coerceNumber&&(b=+b),_.values.indexOf(b)!==-1?b:h!==void 0?h:_.dflt},C.getValue=function(_,b){var h;return a(_)?b<_.length&&(h=_[b]):h=_,h},C.getLineWidth=function(_,b){return 0<b.mlw?b.mlw:a(_.marker.line.width)?0:_.marker.line.width}},95423:function(q,C,e){var M=e(30211),k=e(73972),a=e(7901),_=e(71828).fillText,b=e(69383).getLineWidth,h=e(89298).hoverLabelText,o=e(50606).BADNUM;function t(n,r,l,s,u){var p,c,x,g,d,v,y,m=n.cd,w=m[0].trace,f=m[0].t,S=s==="closest",T=w.type==="waterfall",E=n.maxHoverDistance,O=n.maxSpikeDistance;w.orientation==="h"?(p=l,c=r,x="y",g="x",d=Q,v=V):(p=r,c=l,x="x",g="y",v=Q,d=V);var P=w[x+"period"],I=S||P;function z(ue){return R(ue,-1)}function j(ue){return R(ue,1)}function R(ue,pe){var de=ue.w;return ue[x]+pe*de/2}function N(ue){return ue[x+"End"]-ue[x+"Start"]}var Z=S?z:P?function(ue){return ue.p-N(ue)/2}:function(ue){return Math.min(z(ue),ue.p-f.bardelta/2)},F=S?j:P?function(ue){return ue.p+N(ue)/2}:function(ue){return Math.max(j(ue),ue.p+f.bardelta/2)};function U(ue,pe,de){return u.finiteRange&&(de=0),M.inbox(ue-p,pe-p,de+Math.min(1,Math.abs(pe-ue)/y)-1)}function V(ue){return U(Z(ue),F(ue),E)}function te(ue){var pe=ue[g];if(T){var de=Math.abs(ue.rawS)||0;c>0?pe+=de:c<0&&(pe-=de)}return pe}function Q(ue){var pe=c,de=ue.b,ye=te(ue);return M.inbox(de-pe,ye-pe,E+(ye-pe)/(ye-de)-1)}var J=n[x+"a"],X=n[g+"a"];y=Math.abs(J.r2c(J.range[1])-J.r2c(J.range[0]));var K=M.getDistanceFunction(s,d,v,function(ue){return(d(ue)+v(ue))/2});if(M.getClosest(m,K,n),n.index!==!1&&m[n.index].p!==o){I||(Z=function(ue){return Math.min(z(ue),ue.p-f.bargroupwidth/2)},F=function(ue){return Math.max(j(ue),ue.p+f.bargroupwidth/2)});var ee=m[n.index],re=w.base?ee.b+ee.s:ee.s;n[g+"0"]=n[g+"1"]=X.c2p(ee[g],!0),n[g+"LabelVal"]=re;var ie=f.extents[f.extents.round(ee.p)];n[x+"0"]=J.c2p(S?Z(ee):ie[0],!0),n[x+"1"]=J.c2p(S?F(ee):ie[1],!0);var ae=ee.orig_p!==void 0;return n[x+"LabelVal"]=ae?ee.orig_p:ee.p,n.labelLabel=h(J,n[x+"LabelVal"],w[x+"hoverformat"]),n.valueLabel=h(X,n[g+"LabelVal"],w[g+"hoverformat"]),n.baseLabel=h(X,ee.b,w[g+"hoverformat"]),n.spikeDistance=(function(ue){var pe=c,de=ue.b,ye=te(ue);return M.inbox(de-pe,ye-pe,O+(ye-pe)/(ye-de)-1)}(ee)+function(ue){return U(z(ue),j(ue),O)}(ee))/2,n[x+"Spike"]=J.c2p(ee.p,!0),_(ee,w,n),n.hovertemplate=w.hovertemplate,n}}function i(n,r){var l=r.mcc||n.marker.color,s=r.mlcc||n.marker.line.color,u=b(n,r);return a.opacity(l)?l:a.opacity(s)&&u?s:void 0}q.exports={hoverPoints:function(n,r,l,s,u){var p=t(n,r,l,s,u);if(p){var c=p.cd,x=c[0].trace,g=c[p.index];return p.color=i(x,g),k.getComponentMethod("errorbars","hoverInfo")(g,x,p),[p]}},hoverOnBars:t,getTraceColor:i}},60822:function(q,C,e){q.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(q){q.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(q,C,e){var M=e(73972),k=e(89298),a=e(71828),_=e(43641);q.exports=function(b,h,o){function t(x,g){return a.coerce(b,h,_,x,g)}for(var i=!1,n=!1,r=!1,l={},s=t("barmode"),u=0;u<o.length;u++){var p=o[u];if(M.traceIs(p,"bar")&&p.visible){if(i=!0,s==="group"){var c=p.xaxis+p.yaxis;l[c]&&(r=!0),l[c]=!0}p.visible&&p.type==="histogram"&&k.getFromId({_fullLayout:h},p[p.orientation==="v"?"xaxis":"yaxis"]).type!=="category"&&(n=!0)}}i?(s!=="overlay"&&t("barnorm"),t("bargap",n&&!r?0:.2),t("bargroupgap")):delete h.barmode}},17295:function(q,C,e){var M=e(39898),k=e(92770),a=e(71828),_=e(63893),b=e(7901),h=e(91424),o=e(73972),t=e(89298).tickText,i=e(72597),n=i.recordMinTextSize,r=i.clearMinTextSize,l=e(16688),s=e(69383),u=e(97313),p=e(1486),c=p.text,x=p.textposition,g=e(23469).appendArrayPointValue,d=u.TEXTPAD;function v(O){return O.id}function y(O){if(O.ids)return v}function m(O,P){return O<P?1:-1}function w(O,P,I,z){var j;return!P.uniformtext.mode&&f(I)?(z&&(j=z()),O.transition().duration(I.duration).ease(I.easing).each("end",function(){j&&j()}).each("interrupt",function(){j&&j()})):O}function f(O){return O&&O.duration>0}function S(O){return O==="auto"?0:O}function T(O,P){var I=Math.PI/180*P,z=Math.abs(Math.sin(I)),j=Math.abs(Math.cos(I));return{x:O.width*j+O.height*z,y:O.width*z+O.height*j}}function E(O,P,I,z,j,R){var N=!!R.isHorizontal,Z=!!R.constrained,F=R.angle||0,U=R.anchor||"end",V=U==="end",te=U==="start",Q=((R.leftToRight||0)+1)/2,J=1-Q,X=j.width,K=j.height,ee=Math.abs(P-O),re=Math.abs(z-I),ie=ee>2*d&&re>2*d?d:0;ee-=2*ie,re-=2*ie;var ae=S(F);F!=="auto"||X<=ee&&K<=re||!(X>ee||K>re)||(X>re||K>ee)&&X<K==ee<re||(ae+=90);var ue=T(j,ae),pe=1;Z&&(pe=Math.min(1,ee/ue.x,re/ue.y));var de=j.left*J+j.right*Q,ye=(j.top+j.bottom)/2,be=(O+d)*J+(P-d)*Q,me=(I+z)/2,Ee=0,Te=0;if(te||V){var we=(N?ue.x:ue.y)/2,oe=N?m(O,P):m(I,z);N?te?(be=O+oe*ie,Ee=-oe*we):(be=P-oe*ie,Ee=oe*we):te?(me=I+oe*ie,Te=-oe*we):(me=z-oe*ie,Te=oe*we)}return{textX:de,textY:ye,targetX:be,targetY:me,anchorX:Ee,anchorY:Te,scale:pe,rotate:ae}}q.exports={plot:function(O,P,I,z,j,R){var N=P.xaxis,Z=P.yaxis,F=O._fullLayout,U=O._context.staticPlot;j||(j={mode:F.barmode,norm:F.barmode,gap:F.bargap,groupgap:F.bargroupgap},r("bar",F));var V=a.makeTraceGroups(z,I,"trace bars").each(function(te){var Q=M.select(this),J=te[0].trace,X=J.type==="waterfall",K=J.type==="funnel",ee=J.type==="bar"||K,re=0;X&&J.connector.visible&&J.connector.mode==="between"&&(re=J.connector.line.width/2);var ie=J.orientation==="h",ae=f(j),ue=a.ensureSingle(Q,"g","points"),pe=y(J),de=ue.selectAll("g.point").data(a.identity,pe);de.enter().append("g").classed("point",!0),de.exit().remove(),de.each(function(be,me){var Ee,Te,we=M.select(this),oe=function(Ie,Fe,ze,qe){var Ye=[],Qe=[],ft=qe?Fe:ze,ht=qe?ze:Fe;return Ye[0]=ft.c2p(Ie.s0,!0),Qe[0]=ht.c2p(Ie.p0,!0),Ye[1]=ft.c2p(Ie.s1,!0),Qe[1]=ht.c2p(Ie.p1,!0),qe?[Ye,Qe]:[Qe,Ye]}(be,N,Z,ie),se=oe[0][0],he=oe[0][1],Se=oe[1][0],_e=oe[1][1],Ae=(ie?he-se:_e-Se)==0;if(Ae&&ee&&s.getLineWidth(J,be)&&(Ae=!1),Ae||(Ae=!(k(se)&&k(he)&&k(Se)&&k(_e))),be.isBlank=Ae,Ae&&(ie?he=se:_e=Se),re&&!Ae&&(ie?(se-=m(se,he)*re,he+=m(se,he)*re):(Se-=m(Se,_e)*re,_e+=m(Se,_e)*re)),J.type==="waterfall"){if(!Ae){var Ce=J[be.dir].marker;Ee=Ce.line.width,Te=Ce.color}}else Ee=s.getLineWidth(J,be),Te=be.mc||J.marker.color;function Re(Ie){var Fe=M.round(Ee/2%1,2);return j.gap===0&&j.groupgap===0?M.round(Math.round(Ie)-Fe,2):Ie}if(!O._context.staticPlot){var fe=b.opacity(Te)<1||Ee>.01?Re:function(Ie,Fe,ze){return ze&&Ie===Fe?Ie:Math.abs(Ie-Fe)>=2?Re(Ie):Ie>Fe?Math.ceil(Ie):Math.floor(Ie)};se=fe(se,he,ie),he=fe(he,se,ie),Se=fe(Se,_e,!ie),_e=fe(_e,Se,!ie)}var xe=w(a.ensureSingle(we,"path"),F,j,R);if(xe.style("vector-effect",U?"none":"non-scaling-stroke").attr("d",isNaN((he-se)*(_e-Se))||Ae&&O._context.staticPlot?"M0,0Z":"M"+se+","+Se+"V"+_e+"H"+he+"V"+Se+"Z").call(h.setClipUrl,P.layerClipId,O),!F.uniformtext.mode&&ae){var ke=h.makePointStyleFns(J);h.singlePointStyle(be,xe,J,ke,O)}(function(Ie,Fe,ze,qe,Ye,Qe,ft,ht,mt,Mt,_t){var it,st=Fe.xaxis,St=Fe.yaxis,zt=Ie._fullLayout;function Ft(an,Wt,Vt){return a.ensureSingle(an,"text").text(Wt).attr({class:"bartext bartext-"+it,"text-anchor":"middle","data-notex":1}).call(h.font,Vt).call(_.convertToTspans,Ie)}var Pt=qe[0].trace,Ze=Pt.orientation==="h",Je=function(an,Wt,Vt,on,Sn){var Ln,fn=Wt[0].trace;return Ln=fn.texttemplate?function(Zt,ln,nn,cn,kn){var An=ln[0].trace,wn=a.castOption(An,nn,"texttemplate");if(!wn)return"";var Cn,_n,zn,Hn,ar=An.type==="histogram",fr=An.type==="waterfall",rr=An.type==="funnel",Xn=An.orientation==="h";function gr(Bn){return t(Hn,Hn.c2l(Bn),!0).text}Xn?(Cn="y",_n=kn,zn="x",Hn=cn):(Cn="x",_n=cn,zn="y",Hn=kn);var Gt,tn=ln[nn],dn={};dn.label=tn.p,dn.labelLabel=dn[Cn+"Label"]=(Gt=tn.p,t(_n,_n.c2l(Gt),!0).text);var vn=a.castOption(An,tn.i,"text");(vn===0||vn)&&(dn.text=vn),dn.value=tn.s,dn.valueLabel=dn[zn+"Label"]=gr(tn.s);var On={};g(On,An,tn.i),(ar||On.x===void 0)&&(On.x=Xn?dn.value:dn.label),(ar||On.y===void 0)&&(On.y=Xn?dn.label:dn.value),(ar||On.xLabel===void 0)&&(On.xLabel=Xn?dn.valueLabel:dn.labelLabel),(ar||On.yLabel===void 0)&&(On.yLabel=Xn?dn.labelLabel:dn.valueLabel),fr&&(dn.delta=+tn.rawS||tn.s,dn.deltaLabel=gr(dn.delta),dn.final=tn.v,dn.finalLabel=gr(dn.final),dn.initial=dn.final-dn.delta,dn.initialLabel=gr(dn.initial)),rr&&(dn.value=tn.s,dn.valueLabel=gr(dn.value),dn.percentInitial=tn.begR,dn.percentInitialLabel=a.formatPercent(tn.begR),dn.percentPrevious=tn.difR,dn.percentPreviousLabel=a.formatPercent(tn.difR),dn.percentTotal=tn.sumR,dn.percenTotalLabel=a.formatPercent(tn.sumR));var Vn=a.castOption(An,tn.i,"customdata");return Vn&&(dn.customdata=Vn),a.texttemplateString(wn,dn,Zt._d3locale,On,dn,An._meta||{})}(an,Wt,Vt,on,Sn):fn.textinfo?function(Zt,ln,nn,cn){var kn=Zt[0].trace,An=kn.orientation==="h",wn=kn.type==="waterfall",Cn=kn.type==="funnel";function _n(Vn){return t(An?nn:cn,+Vn,!0).text}var zn,Hn,ar=kn.textinfo,fr=Zt[ln],rr=ar.split("+"),Xn=[],gr=function(Vn){return rr.indexOf(Vn)!==-1};if(gr("label")&&Xn.push((Hn=Zt[ln].p,t(An?cn:nn,Hn,!0).text)),gr("text")&&((zn=a.castOption(kn,fr.i,"text"))===0||zn)&&Xn.push(zn),wn){var Gt=+fr.rawS||fr.s,tn=fr.v,dn=tn-Gt;gr("initial")&&Xn.push(_n(dn)),gr("delta")&&Xn.push(_n(Gt)),gr("final")&&Xn.push(_n(tn))}if(Cn){gr("value")&&Xn.push(_n(fr.s));var vn=0;gr("percent initial")&&vn++,gr("percent previous")&&vn++,gr("percent total")&&vn++;var On=vn>1;gr("percent initial")&&(zn=a.formatPercent(fr.begR),On&&(zn+=" of initial"),Xn.push(zn)),gr("percent previous")&&(zn=a.formatPercent(fr.difR),On&&(zn+=" of previous"),Xn.push(zn)),gr("percent total")&&(zn=a.formatPercent(fr.sumR),On&&(zn+=" of total"),Xn.push(zn))}return Xn.join("<br>")}(Wt,Vt,on,Sn):s.getValue(fn.text,Vt),s.coerceString(c,Ln)}(zt,qe,Ye,st,St);it=function(an,Wt){var Vt=s.getValue(an.textposition,Wt);return s.coerceEnumerated(x,Vt)}(Pt,Ye);var Ue=Mt.mode==="stack"||Mt.mode==="relative",Xe=qe[Ye],lt=!Ue||Xe._outmost;if(Je&&it!=="none"&&(!Xe.isBlank&&Qe!==ft&&ht!==mt||it!=="auto"&&it!=="inside")){var ot=zt.font,Be=l.getBarColor(qe[Ye],Pt),Ne=l.getInsideTextFont(Pt,Ye,ot,Be),at=l.getOutsideTextFont(Pt,Ye,ot),$e=ze.datum();Ze?st.type==="log"&&$e.s0<=0&&(Qe=st.range[0]<st.range[1]?0:st._length):St.type==="log"&&$e.s0<=0&&(ht=St.range[0]<St.range[1]?St._length:0);var gt,yt,xt,dt,Lt,Tt=Math.abs(ft-Qe)-2*d,bt=Math.abs(mt-ht)-2*d;if(it==="outside"&&(lt||Xe.hasB||(it="inside")),it==="auto"&&(lt?(it="inside",gt=Ft(ze,Je,Lt=a.ensureUniformFontSize(Ie,Ne)),xt=(yt=h.bBox(gt.node())).width,dt=yt.height,xt>0&&dt>0&&(xt<=Tt&&dt<=bt||xt<=bt&&dt<=Tt||(Ze?Tt>=xt*(bt/dt):bt>=dt*(Tt/xt)))?it="inside":(it="outside",gt.remove(),gt=null)):it="inside"),!gt){var Ct=(gt=Ft(ze,Je,Lt=a.ensureUniformFontSize(Ie,it==="outside"?at:Ne))).attr("transform");if(gt.attr("transform",""),xt=(yt=h.bBox(gt.node())).width,dt=yt.height,gt.attr("transform",Ct),xt<=0||dt<=0)return void gt.remove()}var Dt,Bt=Pt.textangle;Dt=it==="outside"?function(an,Wt,Vt,on,Sn,Ln){var fn,Zt=!!Ln.isHorizontal,ln=!!Ln.constrained,nn=Ln.angle||0,cn=Sn.width,kn=Sn.height,An=Math.abs(Wt-an),wn=Math.abs(on-Vt);fn=Zt?wn>2*d?d:0:An>2*d?d:0;var Cn=1;ln&&(Cn=Zt?Math.min(1,wn/kn):Math.min(1,An/cn));var _n=S(nn),zn=T(Sn,_n),Hn=(Zt?zn.x:zn.y)/2,ar=(Sn.left+Sn.right)/2,fr=(Sn.top+Sn.bottom)/2,rr=(an+Wt)/2,Xn=(Vt+on)/2,gr=0,Gt=0,tn=Zt?m(Wt,an):m(Vt,on);return Zt?(rr=Wt-tn*fn,gr=tn*Hn):(Xn=on+tn*fn,Gt=-tn*Hn),{textX:ar,textY:fr,targetX:rr,targetY:Xn,anchorX:gr,anchorY:Gt,scale:Cn,rotate:_n}}(Qe,ft,ht,mt,yt,{isHorizontal:Ze,constrained:Pt.constraintext==="both"||Pt.constraintext==="outside",angle:Bt}):E(Qe,ft,ht,mt,yt,{isHorizontal:Ze,constrained:Pt.constraintext==="both"||Pt.constraintext==="inside",angle:Bt,anchor:Pt.insidetextanchor}),Dt.fontSize=Lt.size,n(Pt.type==="histogram"?"bar":Pt.type,Dt,zt),Xe.transform=Dt;var Xt=w(gt,zt,Mt,_t);a.setTransormAndDisplay(Xt,Dt)}else ze.select("text").remove()})(O,P,we,te,me,se,he,Se,_e,j,R),P.layerClipId&&h.hideOutsideRangePoint(be,we.select("text"),N,Z,J.xcalendar,J.ycalendar)});var ye=J.cliponaxis===!1;h.setClipUrl(Q,ye?null:P.layerClipId,O)});o.getComponentMethod("errorbars","plot")(O,V,P,j)},toMoveInsideBar:E}},81974:function(q){function C(e,M,k,a,_){var b=M.c2p(a?e.s0:e.p0,!0),h=M.c2p(a?e.s1:e.p1,!0),o=k.c2p(a?e.p0:e.s0,!0),t=k.c2p(a?e.p1:e.s1,!0);return _?[(b+h)/2,(o+t)/2]:a?[h,(o+t)/2]:[(b+h)/2,t]}q.exports=function(e,M){var k,a=e.cd,_=e.xaxis,b=e.yaxis,h=a[0].trace,o=h.type==="funnel",t=h.orientation==="h",i=[];if(M===!1)for(k=0;k<a.length;k++)a[k].selected=0;else for(k=0;k<a.length;k++){var n=a[k],r="ct"in n?n.ct:C(n,_,b,t,o);M.contains(r,!1,k,e)?(i.push({pointNumber:k,x:_.c2d(n.x),y:b.c2d(n.y)}),n.selected=1):n.selected=0}return i}},61546:function(q,C,e){q.exports=k;var M=e(71828).distinctVals;function k(a,_){this.traces=a,this.sepNegVal=_.sepNegVal,this.overlapNoMerge=_.overlapNoMerge;for(var b=1/0,h=_.posAxis._id.charAt(0),o=[],t=0;t<a.length;t++){for(var i=a[t],n=0;n<i.length;n++){var r=i[n],l=r.p;l===void 0&&(l=r[h]),l!==void 0&&o.push(l)}i[0]&&i[0].width1&&(b=Math.min(i[0].width1,b))}this.positions=o;var s=M(o);this.distinctPositions=s.vals,s.vals.length===1&&b!==1/0?this.minDiff=b:this.minDiff=Math.min(s.minDiff,b);var u=(_.posAxis||{}).type;u!=="category"&&u!=="multicategory"||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}k.prototype.put=function(a,_){var b=this.getLabel(a,_),h=this.bins[b]||0;return this.bins[b]=h+_,h},k.prototype.get=function(a,_){var b=this.getLabel(a,_);return this.bins[b]||0},k.prototype.getLabel=function(a,_){return(_<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?a:Math.round(a/this.binWidth))}},16688:function(q,C,e){var M=e(39898),k=e(7901),a=e(91424),_=e(71828),b=e(73972),h=e(72597).resizeText,o=e(1486),t=o.textfont,i=o.insidetextfont,n=o.outsidetextfont,r=e(69383);function l(v,y,m){a.pointStyle(v.selectAll("path"),y,m),s(v,y,m)}function s(v,y,m){v.selectAll("text").each(function(w){var f=M.select(this),S=_.ensureUniformFontSize(m,u(f,w,y,m));a.font(f,S)})}function u(v,y,m,w){var f=w._fullLayout.font,S=m.textfont;if(v.classed("bartext-inside")){var T=d(y,m);S=c(m,y.i,f,T)}else v.classed("bartext-outside")&&(S=x(m,y.i,f));return S}function p(v,y,m){return g(t,v.textfont,y,m)}function c(v,y,m,w){var f=p(v,y,m);return(v._input.textfont===void 0||v._input.textfont.color===void 0||Array.isArray(v.textfont.color)&&v.textfont.color[y]===void 0)&&(f={color:k.contrast(w),family:f.family,size:f.size}),g(i,v.insidetextfont,y,f)}function x(v,y,m){var w=p(v,y,m);return g(n,v.outsidetextfont,y,w)}function g(v,y,m,w){y=y||{};var f=r.getValue(y.family,m),S=r.getValue(y.size,m),T=r.getValue(y.color,m);return{family:r.coerceString(v.family,f,w.family),size:r.coerceNumber(v.size,S,w.size),color:r.coerceColor(v.color,T,w.color)}}function d(v,y){return y.type==="waterfall"?y[v.dir].marker.color:v.mcc||v.mc||y.marker.color}q.exports={style:function(v){var y=M.select(v).selectAll("g.barlayer").selectAll("g.trace");h(v,y,"bar");var m=y.size(),w=v._fullLayout;y.style("opacity",function(f){return f[0].trace.opacity}).each(function(f){(w.barmode==="stack"&&m>1||w.bargap===0&&w.bargroupgap===0&&!f[0].trace.marker.line.width)&&M.select(this).attr("shape-rendering","crispEdges")}),y.selectAll("g.points").each(function(f){l(M.select(this),f[0].trace,v)}),b.getComponentMethod("errorbars","style")(y)},styleTextPoints:s,styleOnSelect:function(v,y,m){var w=y[0].trace;w.selectedpoints?function(f,S,T){a.selectedPointStyle(f.selectAll("path"),S),function(E,O,P){E.each(function(I){var z,j=M.select(this);if(I.selected){z=_.ensureUniformFontSize(P,u(j,I,O,P));var R=O.selected.textfont&&O.selected.textfont.color;R&&(z.color=R),a.font(j,z)}else a.selectedTextStyle(j,O)})}(f.selectAll("text"),S,T)}(m,w,v):(l(m,w,v),b.getComponentMethod("errorbars","style")(m))},getInsideTextFont:c,getOutsideTextFont:x,getBarColor:d,resizeText:h}},98340:function(q,C,e){var M=e(7901),k=e(52075).hasColorscale,a=e(1586),_=e(71828).coercePattern;q.exports=function(b,h,o,t,i){var n=o("marker.color",t),r=k(b,"marker");r&&a(b,h,i,o,{prefix:"marker.",cLetter:"c"}),o("marker.line.color",M.defaultLine),k(b,"marker.line")&&a(b,h,i,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width"),o("marker.opacity"),_(o,"marker.pattern",n,r),o("selected.marker.color"),o("unselected.marker.color")}},72597:function(q,C,e){var M=e(39898),k=e(71828);function a(_){return"_"+_+"Text_minsize"}q.exports={recordMinTextSize:function(_,b,h){if(h.uniformtext.mode){var o=a(_),t=h.uniformtext.minsize,i=b.scale*b.fontSize;b.hide=i<t,h[o]=h[o]||1/0,b.hide||(h[o]=Math.min(h[o],Math.max(i,t)))}},clearMinTextSize:function(_,b){b[a(_)]=void 0},resizeText:function(_,b,h){var o=_._fullLayout,t=o["_"+h+"Text_minsize"];if(t){var i,n=o.uniformtext.mode==="hide";switch(h){case"funnelarea":case"pie":case"sunburst":i="g.slice";break;case"treemap":case"icicle":i="g.slice, g.pathbar";break;default:i="g.points > g.point"}b.selectAll(i).each(function(r){var l=r.transform;if(l){l.scale=n&&l.hide?0:t/l.fontSize;var s=M.select(this).select("text");k.setTransormAndDisplay(s,l)}})}}}},55023:function(q,C,e){var M=e(5386).fF,k=e(1426).extendFlat,a=e(81245),_=e(1486);q.exports={r:a.r,theta:a.theta,r0:a.r0,dr:a.dr,theta0:a.theta0,dtheta:a.dtheta,thetaunit:a.thetaunit,base:k({},_.base,{}),offset:k({},_.offset,{}),width:k({},_.width,{}),text:k({},_.text,{}),hovertext:k({},_.hovertext,{}),marker:_.marker,hoverinfo:a.hoverinfo,hovertemplate:M(),selected:_.selected,unselected:_.unselected}},74692:function(q,C,e){var M=e(52075).hasColorscale,k=e(78803),a=e(71828).isArrayOrTypedArray,_=e(75341),b=e(11661).setGroupPositions,h=e(66279),o=e(73972).traceIs,t=e(71828).extendFlat;q.exports={calc:function(i,n){for(var r=i._fullLayout,l=n.subplot,s=r[l].radialaxis,u=r[l].angularaxis,p=s.makeCalcdata(n,"r"),c=u.makeCalcdata(n,"theta"),x=n._length,g=new Array(x),d=p,v=c,y=0;y<x;y++)g[y]={p:v[y],s:d[y]};function m(w){var f=n[w];f!==void 0&&(n["_"+w]=a(f)?u.makeCalcdata(n,w):u.d2c(f,n.thetaunit))}return u.type==="linear"&&(m("width"),m("offset")),M(n,"marker")&&k(i,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),M(n,"marker.line")&&k(i,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}),_(g,n),h(g,n),g},crossTraceCalc:function(i,n,r){for(var l=i.calcdata,s=[],u=0;u<l.length;u++){var p=l[u],c=p[0].trace;c.visible===!0&&o(c,"bar")&&c.subplot===r&&s.push(p)}var x=t({},n.radialaxis,{_id:"x"}),g=n.angularaxis;b(i,g,x,s,{mode:n.barmode,norm:n.barnorm,gap:n.bargap,groupgap:n.bargroupgap})}}},6135:function(q,C,e){var M=e(71828),k=e(22184).handleRThetaDefaults,a=e(98340),_=e(55023);q.exports=function(b,h,o,t){function i(n,r){return M.coerce(b,h,_,n,r)}k(b,h,t,i)?(i("thetaunit"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate"),a(b,h,i,o,t),M.coerceSelectionMarkerOpacity(h,i)):h.visible=!1}},27379:function(q,C,e){var M=e(30211),k=e(71828),a=e(95423).getTraceColor,_=k.fillText,b=e(59150).makeHoverPointText,h=e(10869).isPtInsidePolygon;q.exports=function(o,t,i){var n=o.cd,r=n[0].trace,l=o.subplot,s=l.radialAxis,u=l.angularAxis,p=l.vangles,c=p?h:k.isPtInsideSector,x=o.maxHoverDistance,g=u._period||2*Math.PI,d=Math.abs(s.g2p(Math.sqrt(t*t+i*i))),v=Math.atan2(i,t);if(s.range[0]>s.range[1]&&(v+=Math.PI),M.getClosest(n,function(w){return c(d,v,[w.rp0,w.rp1],[w.thetag0,w.thetag1],p)?x+Math.min(1,Math.abs(w.thetag1-w.thetag0)/g)-1+(w.rp1-d)/(w.rp1-w.rp0)-1:1/0},o),o.index!==!1){var y=n[o.index];o.x0=o.x1=y.ct[0],o.y0=o.y1=y.ct[1];var m=k.extendFlat({},y,{r:y.s,theta:y.p});return _(y,r,o),b(m,r,l,o),o.hovertemplate=r.hovertemplate,o.color=a(r,y),o.xLabelVal=o.yLabelVal=void 0,y.s<0&&(o.idealAlign="left"),[o]}}},23381:function(q,C,e){q.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(q){q.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(q,C,e){var M=e(71828),k=e(40151);q.exports=function(a,_,b){var h,o={};function t(r,l){return M.coerce(a[h]||{},_[h],k,r,l)}for(var i=0;i<b.length;i++){var n=b[i];n.type==="barpolar"&&n.visible===!0&&(o[h=n.subplot]||(t("barmode"),t("bargap"),o[h]=1))}}},60173:function(q,C,e){var M=e(39898),k=e(92770),a=e(71828),_=e(91424),b=e(10869);q.exports=function(h,o,t){var i=h._context.staticPlot,n=o.xaxis,r=o.yaxis,l=o.radialAxis,s=o.angularAxis,u=function(c){var x=c.cxx,g=c.cyy;return c.vangles?function(d,v,y,m){var w,f;a.angleDelta(y,m)>0?(w=y,f=m):(w=m,f=y);var S=[b.findEnclosingVertexAngles(w,c.vangles)[0],(w+f)/2,b.findEnclosingVertexAngles(f,c.vangles)[1]];return b.pathPolygonAnnulus(d,v,w,f,S,x,g)}:function(d,v,y,m){return a.pathAnnulus(d,v,y,m,x,g)}}(o),p=o.layers.frontplot.select("g.barlayer");a.makeTraceGroups(p,t,"trace bars").each(function(){var c=M.select(this),x=a.ensureSingle(c,"g","points").selectAll("g.point").data(a.identity);x.enter().append("g").style("vector-effect",i?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),x.exit().remove(),x.each(function(g){var d,v=M.select(this),y=g.rp0=l.c2p(g.s0),m=g.rp1=l.c2p(g.s1),w=g.thetag0=s.c2g(g.p0),f=g.thetag1=s.c2g(g.p1);if(k(y)&&k(m)&&k(w)&&k(f)&&y!==m&&w!==f){var S=l.c2g(g.s1),T=(w+f)/2;g.ct=[n.c2p(S*Math.cos(T)),r.c2p(S*Math.sin(T))],d=u(y,m,w,f)}else d="M0,0Z";a.ensureSingle(v,"path").attr("d",d)}),_.setClipUrl(c,o._hasClipOnAxisFalse?o.clipIds.forTraces:null,h)})}},53522:function(q,C,e){var M=e(82196),k=e(1486),a=e(22399),_=e(12663).axisHoverFormat,b=e(5386).fF,h=e(1426).extendFlat,o=M.marker,t=o.line;q.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:M.xperiod,yperiod:M.yperiod,xperiod0:M.xperiod0,yperiod0:M.yperiod0,xperiodalignment:M.xperiodalignment,yperiodalignment:M.yperiodalignment,xhoverformat:_("x"),yhoverformat:_("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:h({},o.symbol,{arrayOk:!1,editType:"plot"}),opacity:h({},o.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:h({},o.angle,{arrayOk:!1,editType:"calc"}),size:h({},o.size,{arrayOk:!1,editType:"calc"}),color:h({},o.color,{arrayOk:!1,editType:"style"}),line:{color:h({},t.color,{arrayOk:!1,dflt:a.defaultLine,editType:"style"}),width:h({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:M.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup,selected:{marker:M.selected.marker,editType:"style"},unselected:{marker:M.unselected.marker,editType:"style"},text:h({},M.text,{}),hovertext:h({},M.hovertext,{}),hovertemplate:b({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(q,C,e){var M=e(92770),k=e(89298),a=e(42973),_=e(71828),b=e(50606).BADNUM,h=_._;q.exports=function(c,x){var g,d,v,y,m,w,f,S=c._fullLayout,T=k.getFromId(c,x.xaxis||"x"),E=k.getFromId(c,x.yaxis||"y"),O=[],P=x.type==="violin"?"_numViolins":"_numBoxes";x.orientation==="h"?(v=T,y="x",m=E,w="y",f=!!x.yperiodalignment):(v=E,y="y",m=T,w="x",f=!!x.xperiodalignment);var I,z,j,R,N,Z,F=function(Fe,ze,qe,Ye){var Qe,ft=ze+"0"in Fe;if(ze in Fe||ft&&"d"+ze in Fe){var ht=qe.makeCalcdata(Fe,ze);return[a(Fe,qe,ze,ht).vals,ht]}Qe=ft?Fe[ze+"0"]:"name"in Fe&&(qe.type==="category"||M(Fe.name)&&["linear","log"].indexOf(qe.type)!==-1||_.isDateTime(Fe.name)&&qe.type==="date")?Fe.name:Ye;for(var mt=qe.type==="multicategory"?qe.r2c_just_indices(Qe):qe.d2c(Qe,0,Fe[ze+"calendar"]),Mt=Fe._length,_t=new Array(Mt),it=0;it<Mt;it++)_t[it]=mt;return[_t]}(x,w,m,S[P]),U=F[0],V=F[1],te=_.distinctVals(U,m),Q=te.vals,J=te.minDiff/2,X=(x.boxpoints||x.points)==="all"?_.identity:function(Fe){return Fe.v<I.lf||Fe.v>I.uf};if(x._hasPreCompStats){var K=x[y],ee=function(Fe){return v.d2c((x[Fe]||[])[g])},re=1/0,ie=-1/0;for(g=0;g<x._length;g++){var ae=U[g];if(M(ae)){if((I={}).pos=I[w]=ae,f&&V&&(I.orig_p=V[g]),I.q1=ee("q1"),I.med=ee("median"),I.q3=ee("q3"),z=[],K&&_.isArrayOrTypedArray(K[g]))for(d=0;d<K[g].length;d++)(Z=v.d2c(K[g][d]))!==b&&(t(N={v:Z,i:[g,d]},x,[g,d]),z.push(N));if(I.pts=z.sort(i),R=(j=I[y]=z.map(n)).length,I.med!==b&&I.q1!==b&&I.q3!==b&&I.med>=I.q1&&I.q3>=I.med){var ue=ee("lowerfence");I.lf=ue!==b&&ue<=I.q1?ue:r(I,j,R);var pe=ee("upperfence");I.uf=pe!==b&&pe>=I.q3?pe:l(I,j,R);var de=ee("mean");I.mean=de!==b?de:R?_.mean(j,R):(I.q1+I.q3)/2;var ye=ee("sd");I.sd=de!==b&&ye>=0?ye:R?_.stdev(j,R,I.mean):I.q3-I.q1,I.lo=s(I),I.uo=u(I);var be=ee("notchspan");be=be!==b&&be>0?be:p(I,R),I.ln=I.med-be,I.un=I.med+be;var me=I.lf,Ee=I.uf;x.boxpoints&&j.length&&(me=Math.min(me,j[0]),Ee=Math.max(Ee,j[R-1])),x.notched&&(me=Math.min(me,I.ln),Ee=Math.max(Ee,I.un)),I.min=me,I.max=Ee}else{var Te;_.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+I.q1,"median = "+I.med,"q3 = "+I.q3].join(`
`)),Te=I.med!==b?I.med:I.q1!==b?I.q3!==b?(I.q1+I.q3)/2:I.q1:I.q3!==b?I.q3:0,I.med=Te,I.q1=I.q3=Te,I.lf=I.uf=Te,I.mean=I.sd=Te,I.ln=I.un=Te,I.min=I.max=Te}re=Math.min(re,I.min),ie=Math.max(ie,I.max),I.pts2=z.filter(X),O.push(I)}}x._extremes[v._id]=k.findExtremes(v,[re,ie],{padded:!0})}else{var we=v.makeCalcdata(x,y),oe=function(Fe,ze){for(var qe=Fe.length,Ye=new Array(qe+1),Qe=0;Qe<qe;Qe++)Ye[Qe]=Fe[Qe]-ze;return Ye[qe]=Fe[qe-1]+ze,Ye}(Q,J),se=Q.length,he=function(Fe){for(var ze=new Array(Fe),qe=0;qe<Fe;qe++)ze[qe]=[];return ze}(se);for(g=0;g<x._length;g++)if(Z=we[g],M(Z)){var Se=_.findBin(U[g],oe);Se>=0&&Se<se&&(t(N={v:Z,i:g},x,g),he[Se].push(N))}var _e=1/0,Ae=-1/0,Ce=x.quartilemethod,Re=Ce==="exclusive",fe=Ce==="inclusive";for(g=0;g<se;g++)if(he[g].length>0){var xe,ke;(I={}).pos=I[w]=Q[g],z=I.pts=he[g].sort(i),R=(j=I[y]=z.map(n)).length,I.min=j[0],I.max=j[R-1],I.mean=_.mean(j,R),I.sd=_.stdev(j,R,I.mean)*x.sdmultiple,I.med=_.interp(j,.5),R%2&&(Re||fe)?(Re?(xe=j.slice(0,R/2),ke=j.slice(R/2+1)):fe&&(xe=j.slice(0,R/2+1),ke=j.slice(R/2)),I.q1=_.interp(xe,.5),I.q3=_.interp(ke,.5)):(I.q1=_.interp(j,.25),I.q3=_.interp(j,.75)),I.lf=r(I,j,R),I.uf=l(I,j,R),I.lo=s(I),I.uo=u(I);var Ie=p(I,R);I.ln=I.med-Ie,I.un=I.med+Ie,_e=Math.min(_e,I.ln),Ae=Math.max(Ae,I.un),I.pts2=z.filter(X),O.push(I)}x.notched&&_.isTypedArray(we)&&(we=Array.from(we)),x._extremes[v._id]=k.findExtremes(v,x.notched?we.concat([_e,Ae]):we,{padded:!0})}return function(Fe,ze){if(_.isArrayOrTypedArray(ze.selectedpoints))for(var qe=0;qe<Fe.length;qe++){for(var Ye=Fe[qe].pts||[],Qe={},ft=0;ft<Ye.length;ft++)Qe[Ye[ft].i]=ft;_.tagSelected(Ye,ze,Qe)}}(O,x),O.length>0?(O[0].t={num:S[P],dPos:J,posLetter:w,valLetter:y,labels:{med:h(c,"median:"),min:h(c,"min:"),q1:h(c,"q1:"),q3:h(c,"q3:"),max:h(c,"max:"),mean:x.boxmean==="sd"||x.sizemode==="sd"?h(c,"mean  :").replace("",x.sdmultiple===1?"":x.sdmultiple+""):h(c,"mean:"),lf:h(c,"lower fence:"),uf:h(c,"upper fence:")}},S[P]++,O):[{t:{empty:!0}}]};var o={text:"tx",hovertext:"htx"};function t(c,x,g){for(var d in o)_.isArrayOrTypedArray(x[d])&&(Array.isArray(g)?_.isArrayOrTypedArray(x[d][g[0]])&&(c[o[d]]=x[d][g[0]][g[1]]):c[o[d]]=x[d][g])}function i(c,x){return c.v-x.v}function n(c){return c.v}function r(c,x,g){return g===0?c.q1:Math.min(c.q1,x[Math.min(_.findBin(2.5*c.q1-1.5*c.q3,x,!0)+1,g-1)])}function l(c,x,g){return g===0?c.q3:Math.max(c.q3,x[Math.max(_.findBin(2.5*c.q3-1.5*c.q1,x),0)])}function s(c){return 4*c.q1-3*c.q3}function u(c){return 4*c.q3-3*c.q1}function p(c,x){return x===0?0:1.57*(c.q3-c.q1)/Math.sqrt(x)}},37188:function(q,C,e){var M=e(89298),k=e(71828),a=e(99082).getAxisGroup,_=["v","h"];function b(h,o,t,i){var n,r,l,s=o.calcdata,u=o._fullLayout,p=i._id,c=p.charAt(0),x=[],g=0;for(n=0;n<t.length;n++)for(l=s[t[n]],r=0;r<l.length;r++)x.push(i.c2l(l[r].pos,!0)),g+=(l[r].pts2||[]).length;if(x.length){var d=k.distinctVals(x);i.type!=="category"&&i.type!=="multicategory"||(d.minDiff=1);var v=d.minDiff/2;M.minDtick(i,d.minDiff,d.vals[0],!0);var y=u[h==="violin"?"_numViolins":"_numBoxes"],m=u[h+"mode"]==="group"&&y>1,w=1-u[h+"gap"],f=1-u[h+"groupgap"];for(n=0;n<t.length;n++){var S,T,E,O,P,I,z=(l=s[t[n]])[0].trace,j=l[0].t,R=z.width,N=z.side;if(R)S=T=O=R/2,E=0;else if(S=v,m){var Z=a(u,i._id)+z.orientation,F=(u._alignmentOpts[Z]||{})[z.alignmentgroup]||{},U=Object.keys(F.offsetGroups||{}).length,V=U||y;T=S*w*f/V,E=2*S*(((U?z._offsetIndex:j.num)+.5)/V-.5)*w,O=S*w/V}else T=S*w*f,E=0,O=S;j.dPos=S,j.bPos=E,j.bdPos=T,j.wHover=O;var te,Q,J,X,K,ee,re=E+T,ie=!!R;if(N==="positive"?(P=S*(R?1:.5),te=re,I=te=E):N==="negative"?(P=te=E,I=S*(R?1:.5),Q=re):(P=I=S,te=Q=re),(z.boxpoints||z.points)&&g>0){var ae=z.pointpos,ue=z.jitter,pe=z.marker.size/2,de=0;ae+ue>=0&&((de=re*(ae+ue))>P?(ie=!0,K=pe,J=de):de>te&&(K=pe,J=P)),de<=P&&(J=P);var ye=0;ae-ue<=0&&((ye=-re*(ae-ue))>I?(ie=!0,ee=pe,X=ye):ye>Q&&(ee=pe,X=I)),ye<=I&&(X=I)}else J=P,X=I;var be=new Array(l.length);for(r=0;r<l.length;r++)be[r]=l[r].pos;z._extremes[p]=M.findExtremes(i,be,{padded:ie,vpadminus:X,vpadplus:J,vpadLinearized:!0,ppadminus:{x:ee,y:K}[c],ppadplus:{x:K,y:ee}[c]})}}}q.exports={crossTraceCalc:function(h,o){for(var t=h.calcdata,i=o.xaxis,n=o.yaxis,r=0;r<_.length;r++){for(var l=_[r],s=l==="h"?n:i,u=[],p=0;p<t.length;p++){var c=t[p],x=c[0].t,g=c[0].trace;g.visible!==!0||g.type!=="box"&&g.type!=="candlestick"||x.empty||(g.orientation||"v")!==l||g.xaxis!==i._id||g.yaxis!==n._id||u.push(p)}b("box",h,u,s)}},setPositionOffset:b}},36411:function(q,C,e){var M=e(71828),k=e(73972),a=e(7901),_=e(73927),b=e(26125),h=e(4322),o=e(53522);function t(n,r,l,s){function u(N){var Z=0;return N&&N.length&&(Z+=1,M.isArrayOrTypedArray(N[0])&&N[0].length&&(Z+=1)),Z}function p(N){return M.validate(n[N],o[N])}var c,x=l("y"),g=l("x");if(r.type==="box"){var d=l("q1"),v=l("median"),y=l("q3");r._hasPreCompStats=d&&d.length&&v&&v.length&&y&&y.length,c=Math.min(M.minRowLength(d),M.minRowLength(v),M.minRowLength(y))}var m,w,f=u(x),S=u(g),T=f&&M.minRowLength(x),E=S&&M.minRowLength(g),O=s.calendar,P={autotypenumbers:s.autotypenumbers};if(r._hasPreCompStats)switch(String(S)+String(f)){case"00":var I=p("x0")||p("dx");m=!p("y0")&&!p("dy")||I?"v":"h",w=c;break;case"10":m="v",w=Math.min(c,E);break;case"20":m="h",w=Math.min(c,g.length);break;case"01":m="h",w=Math.min(c,T);break;case"02":m="v",w=Math.min(c,x.length);break;case"12":m="v",w=Math.min(c,E,x.length);break;case"21":m="h",w=Math.min(c,g.length,T);break;case"11":w=0;break;case"22":var z,j=!1;for(z=0;z<g.length;z++)if(h(g[z],O,P)==="category"){j=!0;break}if(j)m="v",w=Math.min(c,E,x.length);else{for(z=0;z<x.length;z++)if(h(x[z],O,P)==="category"){j=!0;break}j?(m="h",w=Math.min(c,g.length,T)):(m="v",w=Math.min(c,E,x.length))}}else f>0?(m="v",w=S>0?Math.min(E,T):Math.min(T)):S>0?(m="h",w=Math.min(E)):w=0;if(w){r._length=w;var R=l("orientation",m);r._hasPreCompStats?R==="v"&&S===0?(l("x0",0),l("dx",1)):R==="h"&&f===0&&(l("y0",0),l("dy",1)):R==="v"&&S===0?l("x0"):R==="h"&&f===0&&l("y0"),k.getComponentMethod("calendars","handleTraceDefaults")(n,r,["x","y"],s)}else r.visible=!1}function i(n,r,l,s){var u=s.prefix,p=M.coerce2(n,r,o,"marker.outliercolor"),c=l("marker.line.outliercolor"),x="outliers";r._hasPreCompStats?x="all":(p||c)&&(x="suspectedoutliers");var g=l(u+"points",x);g?(l("jitter",g==="all"?.3:0),l("pointpos",g==="all"?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",r.line.color),l("marker.line.color"),l("marker.line.width"),g==="suspectedoutliers"&&(l("marker.line.outliercolor",r.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete r.marker;var d=l("hoveron");d!=="all"&&d.indexOf("points")===-1||l("hovertemplate"),M.coerceSelectionMarkerOpacity(r,l)}q.exports={supplyDefaults:function(n,r,l,s){function u(w,f){return M.coerce(n,r,o,w,f)}if(t(n,r,u,s),r.visible!==!1){_(n,r,s,u),u("xhoverformat"),u("yhoverformat");var p=r._hasPreCompStats;p&&(u("lowerfence"),u("upperfence")),u("line.color",(n.marker||{}).color||l),u("line.width"),u("fillcolor",a.addOpacity(r.line.color,.5));var c=!1;if(p){var x=u("mean"),g=u("sd");x&&x.length&&(c=!0,g&&g.length&&(c="sd"))}u("whiskerwidth");var d,v=u("sizemode");v==="quartiles"&&(d=u("boxmean",c)),u("showwhiskers",v==="quartiles"),v!=="sd"&&d!=="sd"||u("sdmultiple"),u("width"),u("quartilemethod");var y=!1;if(p){var m=u("notchspan");m&&m.length&&(y=!0)}else M.validate(n.notchwidth,o.notchwidth)&&(y=!0);u("notched",y)&&u("notchwidth"),i(n,r,u,{prefix:"box"})}},crossTraceDefaults:function(n,r){var l,s;function u(x){return M.coerce(s._input,s,o,x)}for(var p=0;p<n.length;p++){var c=(s=n[p]).type;c!=="box"&&c!=="violin"||(l=s._input,r[c+"mode"]==="group"&&b(l,s,r,u))}},handleSampleDefaults:t,handlePointsDefaults:i}},74907:function(q){q.exports=function(C,e){return e.hoverOnBox&&(C.hoverOnBox=e.hoverOnBox),"xVal"in e&&(C.x=e.xVal),"yVal"in e&&(C.y=e.yVal),e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),C}},41868:function(q,C,e){var M=e(89298),k=e(71828),a=e(30211),_=e(7901),b=k.fillText;function h(t,i,n,r){var l,s,u,p,c,x,g,d,v,y,m,w,f,S,T=t.cd,E=t.xa,O=t.ya,P=T[0].trace,I=T[0].t,z=P.type==="violin",j=I.bdPos,R=I.wHover,N=function(Te){return u.c2l(Te.pos)+I.bPos-u.c2l(x)};z&&P.side!=="both"?(P.side==="positive"&&(v=function(Te){var we=N(Te);return a.inbox(we,we+R,y)},w=j,f=0),P.side==="negative"&&(v=function(Te){var we=N(Te);return a.inbox(we-R,we,y)},w=0,f=j)):(v=function(Te){var we=N(Te);return a.inbox(we-R,we+R,y)},w=f=j),S=z?function(Te){return a.inbox(Te.span[0]-c,Te.span[1]-c,y)}:function(Te){return a.inbox(Te.min-c,Te.max-c,y)},P.orientation==="h"?(c=i,x=n,g=S,d=v,l="y",u=O,s="x",p=E):(c=n,x=i,g=v,d=S,l="x",u=E,s="y",p=O);var Z=Math.min(1,j/Math.abs(u.r2c(u.range[1])-u.r2c(u.range[0])));function F(Te){return(g(Te)+d(Te))/2}y=t.maxHoverDistance-Z,m=t.maxSpikeDistance-Z;var U=a.getDistanceFunction(r,g,d,F);if(a.getClosest(T,U,t),t.index===!1)return[];var V=T[t.index],te=P.line.color,Q=(P.marker||{}).color;_.opacity(te)&&P.line.width?t.color=te:_.opacity(Q)&&P.boxpoints?t.color=Q:t.color=P.fillcolor,t[l+"0"]=u.c2p(V.pos+I.bPos-f,!0),t[l+"1"]=u.c2p(V.pos+I.bPos+w,!0),t[l+"LabelVal"]=V.orig_p!==void 0?V.orig_p:V.pos;var J=l+"Spike";t.spikeDistance=F(V)*m/y,t[J]=u.c2p(V.pos,!0);var X=P.boxmean||P.sizemode==="sd"||(P.meanline||{}).visible,K=P.boxpoints||P.points,ee=K&&X?["max","uf","q3","med","mean","q1","lf","min"]:K&&!X?["max","uf","q3","med","q1","lf","min"]:!K&&X?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],re=p.range[1]<p.range[0];P.orientation===(re?"v":"h")&&ee.reverse();for(var ie=t.spikeDistance,ae=t[J],ue=[],pe=0;pe<ee.length;pe++){var de=ee[pe];if(de in V){var ye=V[de],be=p.c2p(ye,!0),me=k.extendFlat({},t);me.attr=de,me[s+"0"]=me[s+"1"]=be,me[s+"LabelVal"]=ye,me[s+"Label"]=(I.labels?I.labels[de]+" ":"")+M.hoverLabelText(p,ye,P[s+"hoverformat"]),me.hoverOnBox=!0,de!=="mean"||!("sd"in V)||P.boxmean!=="sd"&&P.sizemode!=="sd"||(me[s+"err"]=V.sd),me.hovertemplate=!1,ue.push(me)}}t.name="",t.spikeDistance=void 0,t[J]=void 0;for(var Ee=0;Ee<ue.length;Ee++)ue[Ee].attr!=="med"?(ue[Ee].name="",ue[Ee].spikeDistance=void 0,ue[Ee][J]=void 0):(ue[Ee].spikeDistance=ie,ue[Ee][J]=ae);return ue}function o(t,i,n){for(var r,l,s,u=t.cd,p=t.xa,c=t.ya,x=u[0].trace,g=p.c2p(i),d=c.c2p(n),v=a.quadrature(function(z){var j=Math.max(3,z.mrc||0);return Math.max(Math.abs(p.c2p(z.x)-g)-j,1-3/j)},function(z){var j=Math.max(3,z.mrc||0);return Math.max(Math.abs(c.c2p(z.y)-d)-j,1-3/j)}),y=!1,m=0;m<u.length;m++){l=u[m];for(var w=0;w<(l.pts||[]).length;w++){var f=v(s=l.pts[w]);f<=t.distance&&(t.distance=f,y=[m,w])}}if(!y)return!1;s=(l=u[y[0]]).pts[y[1]];var S=p.c2p(s.x,!0),T=c.c2p(s.y,!0),E=s.mrc||1;r=k.extendFlat({},t,{index:s.i,color:(x.marker||{}).color,name:x.name,x0:S-E,x1:S+E,y0:T-E,y1:T+E,spikeDistance:t.distance,hovertemplate:x.hovertemplate});var O,P=l.orig_p,I=P!==void 0?P:l.pos;return x.orientation==="h"?(O=c,r.xLabelVal=s.x,r.yLabelVal=I):(O=p,r.xLabelVal=I,r.yLabelVal=s.y),r[O._id.charAt(0)+"Spike"]=O.c2p(l.pos,!0),b(s,x,r),r}q.exports={hoverPoints:function(t,i,n,r){var l,s=t.cd[0].trace.hoveron,u=[];return s.indexOf("boxes")!==-1&&(u=u.concat(h(t,i,n,r))),s.indexOf("points")!==-1&&(l=o(t,i,n)),r==="closest"?l?[l]:u:(l&&u.push(l),u)},hoverOnBoxes:h,hoverOnPoints:o}},83832:function(q,C,e){q.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(q){q.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(q,C,e){var M=e(73972),k=e(71828),a=e(40094);function _(b,h,o,t,i){for(var n=i+"Layout",r=!1,l=0;l<o.length;l++){var s=o[l];if(M.traceIs(s,n)){r=!0;break}}r&&(t(i+"mode"),t(i+"gap"),t(i+"groupgap"))}q.exports={supplyLayoutDefaults:function(b,h,o){_(0,0,o,function(t,i){return k.coerce(b,h,a,t,i)},"box")},_supply:_}},86047:function(q,C,e){var M=e(39898),k=e(71828),a=e(91424);function _(o,t,i,n,r){var l,s,u=i.orientation==="h",p=t.val,c=t.pos,x=!!c.rangebreaks,g=n.bPos,d=n.wdPos||0,v=n.bPosPxOffset||0,y=i.whiskerwidth||0,m=i.showwhiskers!==!1,w=i.notched||!1,f=w?1-2*i.notchwidth:1;Array.isArray(n.bdPos)?(l=n.bdPos[0],s=n.bdPos[1]):(l=n.bdPos,s=n.bdPos);var S=o.selectAll("path.box").data(i.type!=="violin"||i.box.visible?k.identity:[]);S.enter().append("path").style("vector-effect",r?"none":"non-scaling-stroke").attr("class","box"),S.exit().remove(),S.each(function(T){if(T.empty)return M.select(this).attr("d","M0,0Z");var E=c.c2l(T.pos+g,!0),O=c.l2p(E-l)+v,P=c.l2p(E+s)+v,I=x?(O+P)/2:c.l2p(E)+v,z=i.whiskerwidth,j=x?O*z+(1-z)*I:c.l2p(E-d)+v,R=x?P*z+(1-z)*I:c.l2p(E+d)+v,N=c.l2p(E-l*f)+v,Z=c.l2p(E+s*f)+v,F=i.sizemode==="sd",U=p.c2p(F?T.mean-T.sd:T.q1,!0),V=F?p.c2p(T.mean+T.sd,!0):p.c2p(T.q3,!0),te=k.constrain(F?p.c2p(T.mean,!0):p.c2p(T.med,!0),Math.min(U,V)+1,Math.max(U,V)-1),Q=T.lf===void 0||i.boxpoints===!1||F,J=p.c2p(Q?T.min:T.lf,!0),X=p.c2p(Q?T.max:T.uf,!0),K=p.c2p(T.ln,!0),ee=p.c2p(T.un,!0);u?M.select(this).attr("d","M"+te+","+N+"V"+Z+"M"+U+","+O+"V"+P+(w?"H"+K+"L"+te+","+Z+"L"+ee+","+P:"")+"H"+V+"V"+O+(w?"H"+ee+"L"+te+","+N+"L"+K+","+O:"")+"Z"+(m?"M"+U+","+I+"H"+J+"M"+V+","+I+"H"+X+(y===0?"":"M"+J+","+j+"V"+R+"M"+X+","+j+"V"+R):"")):M.select(this).attr("d","M"+N+","+te+"H"+Z+"M"+O+","+U+"H"+P+(w?"V"+K+"L"+Z+","+te+"L"+P+","+ee:"")+"V"+V+"H"+O+(w?"V"+ee+"L"+N+","+te+"L"+O+","+K:"")+"Z"+(m?"M"+I+","+U+"V"+J+"M"+I+","+V+"V"+X+(y===0?"":"M"+j+","+J+"H"+R+"M"+j+","+X+"H"+R):""))})}function b(o,t,i,n){var r=t.x,l=t.y,s=n.bdPos,u=n.bPos,p=i.boxpoints||i.points;k.seedPseudoRandom();var c=o.selectAll("g.points").data(p?function(g){return g.forEach(function(d){d.t=n,d.trace=i}),g}:[]);c.enter().append("g").attr("class","points"),c.exit().remove();var x=c.selectAll("path").data(function(g){var d,v,y=g.pts2,m=Math.max((g.max-g.min)/10,g.q3-g.q1),w=1e-9*m,f=.01*m,S=[],T=0;if(i.jitter){if(m===0)for(T=1,S=new Array(y.length),d=0;d<y.length;d++)S[d]=1;else for(d=0;d<y.length;d++){var E=Math.max(0,d-5),O=y[E].v,P=Math.min(y.length-1,d+5),I=y[P].v;p!=="all"&&(y[d].v<g.lf?I=Math.min(I,g.lf):O=Math.max(O,g.uf));var z=Math.sqrt(f*(P-E)/(I-O+w))||0;z=k.constrain(Math.abs(z),0,1),S.push(z),T=Math.max(z,T)}v=2*i.jitter/(T||1)}for(d=0;d<y.length;d++){var j=y[d],R=j.v,N=i.jitter?v*S[d]*(k.pseudoRandom()-.5):0,Z=g.pos+u+s*(i.pointpos+N);i.orientation==="h"?(j.y=Z,j.x=R):(j.x=Z,j.y=R),p==="suspectedoutliers"&&R<g.uo&&R>g.lo&&(j.so=!0)}return y});x.enter().append("path").classed("point",!0),x.exit().remove(),x.call(a.translatePoints,r,l)}function h(o,t,i,n){var r,l,s=t.val,u=t.pos,p=!!u.rangebreaks,c=n.bPos,x=n.bPosPxOffset||0,g=i.boxmean||(i.meanline||{}).visible;Array.isArray(n.bdPos)?(r=n.bdPos[0],l=n.bdPos[1]):(r=n.bdPos,l=n.bdPos);var d=o.selectAll("path.mean").data(i.type==="box"&&i.boxmean||i.type==="violin"&&i.box.visible&&i.meanline.visible?k.identity:[]);d.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),d.exit().remove(),d.each(function(v){var y=u.c2l(v.pos+c,!0),m=u.l2p(y-r)+x,w=u.l2p(y+l)+x,f=p?(m+w)/2:u.l2p(y)+x,S=s.c2p(v.mean,!0),T=s.c2p(v.mean-v.sd,!0),E=s.c2p(v.mean+v.sd,!0);i.orientation==="h"?M.select(this).attr("d","M"+S+","+m+"V"+w+(g==="sd"?"m0,0L"+T+","+f+"L"+S+","+m+"L"+E+","+f+"Z":"")):M.select(this).attr("d","M"+m+","+S+"H"+w+(g==="sd"?"m0,0L"+f+","+T+"L"+m+","+S+"L"+f+","+E+"Z":""))})}q.exports={plot:function(o,t,i,n){var r=o._context.staticPlot,l=t.xaxis,s=t.yaxis;k.makeTraceGroups(n,i,"trace boxes").each(function(u){var p,c,x=M.select(this),g=u[0],d=g.t,v=g.trace;d.wdPos=d.bdPos*v.whiskerwidth,v.visible!==!0||d.empty?x.remove():(v.orientation==="h"?(p=s,c=l):(p=l,c=s),_(x,{pos:p,val:c},v,d,r),b(x,{x:l,y:s},v,d),h(x,{pos:p,val:c},v,d))})},plotBoxAndWhiskers:_,plotPoints:b,plotBoxMean:h}},24626:function(q){q.exports=function(C,e){var M,k,a=C.cd,_=C.xaxis,b=C.yaxis,h=[];if(e===!1)for(M=0;M<a.length;M++)for(k=0;k<(a[M].pts||[]).length;k++)a[M].pts[k].selected=0;else for(M=0;M<a.length;M++)for(k=0;k<(a[M].pts||[]).length;k++){var o=a[M].pts[k],t=_.c2p(o.x),i=b.c2p(o.y);e.contains([t,i],null,o.i,C)?(h.push({pointNumber:o.i,x:_.c2d(o.x),y:b.c2d(o.y)}),o.selected=1):o.selected=0}return h}},58063:function(q,C,e){var M=e(39898),k=e(7901),a=e(91424);q.exports={style:function(_,b,h){var o=h||M.select(_).selectAll("g.trace.boxes");o.style("opacity",function(t){return t[0].trace.opacity}),o.each(function(t){var i=M.select(this),n=t[0].trace,r=n.line.width;function l(p,c,x,g){p.style("stroke-width",c+"px").call(k.stroke,x).call(k.fill,g)}var s=i.selectAll("path.box");if(n.type==="candlestick")s.each(function(p){if(!p.empty){var c=M.select(this),x=n[p.dir];l(c,x.line.width,x.line.color,x.fillcolor),c.style("opacity",n.selectedpoints&&!p.selected?.3:1)}});else{l(s,r,n.line.color,n.fillcolor),i.selectAll("path.mean").style({"stroke-width":r,"stroke-dasharray":2*r+"px,"+r+"px"}).call(k.stroke,n.line.color);var u=i.selectAll("path.point");a.pointStyle(u,n,_)}})},styleOnSelect:function(_,b,h){var o=b[0].trace,t=h.selectAll("path.point");o.selectedpoints?a.selectedPointStyle(t,o):a.pointStyle(t,o,_)}}},75343:function(q,C,e){var M=e(71828).extendFlat,k=e(12663).axisHoverFormat,a=e(2522),_=e(53522);function b(h){return{line:{color:M({},_.line.color,{dflt:h}),width:_.line.width,editType:"style"},fillcolor:_.fillcolor,editType:"style"}}q.exports={xperiod:a.xperiod,xperiod0:a.xperiod0,xperiodalignment:a.xperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),x:a.x,open:a.open,high:a.high,low:a.low,close:a.close,line:{width:M({},_.line.width,{}),editType:"style"},increasing:b(a.increasing.line.color.dflt),decreasing:b(a.decreasing.line.color.dflt),text:a.text,hovertext:a.hovertext,whiskerwidth:M({},_.whiskerwidth,{dflt:0}),hoverlabel:a.hoverlabel}},41197:function(q,C,e){var M=e(71828),k=e(89298),a=e(42973),_=e(3485).calcCommon;function b(h,o,t,i){return{min:t,q1:Math.min(h,i),med:i,q3:Math.max(h,i),max:o}}q.exports=function(h,o){var t=h._fullLayout,i=k.getFromId(h,o.xaxis),n=k.getFromId(h,o.yaxis),r=i.makeCalcdata(o,"x"),l=a(o,i,"x",r).vals,s=_(h,o,r,l,n,b);return s.length?(M.extendFlat(s[0].t,{num:t._numBoxes,dPos:M.distinctVals(l).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,s):[{t:{empty:!0}}]}},1026:function(q,C,e){var M=e(71828),k=e(7901),a=e(14555),_=e(73927),b=e(75343);function h(o,t,i,n){var r=i(n+".line.color");i(n+".line.width",t.line.width),i(n+".fillcolor",k.addOpacity(r,.5))}q.exports=function(o,t,i,n){function r(l,s){return M.coerce(o,t,b,l,s)}a(o,t,r,n)?(_(o,t,n,r,{x:!0}),r("xhoverformat"),r("yhoverformat"),r("line.width"),h(0,t,r,"increasing"),h(0,t,r,"decreasing"),r("text"),r("hovertext"),r("whiskerwidth"),n._requestRangeslider[t.xaxis]=!0):t.visible=!1}},91815:function(q,C,e){q.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(q,C,e){var M=e(11500),k=e(44467);q.exports=function(a,_,b,h,o){h("a")||(h("da"),h("a0")),h("b")||(h("db"),h("b0")),function(t,i,n,r){["aaxis","baxis"].forEach(function(l){var s=l.charAt(0),u=t[l]||{},p=k.newContainer(i,l),c={noTicklabelstep:!0,tickfont:"x",id:s+"axis",letter:s,font:i.font,name:l,data:t[s],calendar:i.calendar,dfltColor:r,bgColor:n.paper_bgcolor,autotypenumbersDflt:n.autotypenumbers,fullLayout:n};M(u,p,c),p._categories=p._categories||[],t[l]||u.type==="-"||(t[l]={type:u.type})})}(a,_,b,o)}},402:function(q,C,e){var M=e(71828).isArrayOrTypedArray;function k(a,_){if(!M(a)||_>=10)return null;for(var b=1/0,h=-1/0,o=a.length,t=0;t<o;t++){var i=a[t];if(M(i)){var n=k(i,_+1);n&&(b=Math.min(n[0],b),h=Math.max(n[1],h))}else b=Math.min(i,b),h=Math.max(i,h)}return[b,h]}q.exports=function(a){return k(a,0)}},99798:function(q,C,e){var M=e(41940),k=e(1928),a=e(22399),_=M({editType:"calc"});_.family.dflt='"Open Sans", verdana, arial, sans-serif',_.size.dflt=12,_.color.dflt=a.defaultLine,q.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:k,baxis:k,font:_,color:{valType:"color",dflt:a.defaultLine,editType:"plot"},transforms:void 0}},4536:function(q,C,e){var M=e(71828).isArrayOrTypedArray;q.exports=function(k,a,_,b){var h,o,t,i,n,r,l,s,u,p,c,x,g,d=M(_)?"a":"b",v=(d==="a"?k.aaxis:k.baxis).smoothing,y=d==="a"?k.a2i:k.b2j,m=d==="a"?_:b,w=d==="a"?b:_,f=d==="a"?a.a.length:a.b.length,S=d==="a"?a.b.length:a.a.length,T=Math.floor(d==="a"?k.b2j(w):k.a2i(w)),E=d==="a"?function(te){return k.evalxy([],te,T)}:function(te){return k.evalxy([],T,te)};v&&(t=Math.max(0,Math.min(S-2,T)),i=T-t,o=d==="a"?function(te,Q){return k.dxydi([],te,t,Q,i)}:function(te,Q){return k.dxydj([],t,te,i,Q)});var O=y(m[0]),P=y(m[1]),I=O<P?1:-1,z=1e-8*(P-O),j=I>0?Math.floor:Math.ceil,R=I>0?Math.ceil:Math.floor,N=I>0?Math.min:Math.max,Z=I>0?Math.max:Math.min,F=j(O+z),U=R(P-z),V=[[l=E(O)]];for(h=F;h*I<U*I;h+=I)n=[],c=Z(O,h),g=(x=N(P,h+I))-c,r=Math.max(0,Math.min(f-2,Math.floor(.5*(c+x)))),s=E(x),v&&(u=o(r,c-r),p=o(r,x-r),n.push([l[0]+u[0]/3*g,l[1]+u[1]/3*g]),n.push([s[0]-p[0]/3*g,s[1]-p[1]/3*g])),n.push(s),V.push(n),l=s;return V}},1928:function(q,C,e){var M=e(41940),k=e(22399),a=e(13838),_=e(12663).descriptionWithDates,b=e(30962).overrideAll,h=e(79952).P,o=e(1426).extendFlat;q.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:M({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:a.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:o({},a.labelalias,{editType:"calc"}),tickfont:M({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:_("tick label")},tickformatstops:b(a.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:k.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:o({},h,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:o({},h,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:k.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:M({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(q,C,e){var M=e(99798),k=e(7901).addOpacity,a=e(73972),_=e(71828),b=e(26218),h=e(96115),o=e(89426),t=e(15258),i=e(21994),n=e(4322);q.exports=function(r,l,s){var u=s.letter,p=s.font||{},c=M[u+"axis"];function x(I,z){return _.coerce(r,l,c,I,z)}function g(I,z){return _.coerce2(r,l,c,I,z)}s.name&&(l._name=s.name,l._id=s.name),x("autotypenumbers",s.autotypenumbersDflt);var d=x("type");d==="-"&&(s.data&&function(I,z){if(I.type==="-"){var j=I._id.charAt(0),R=I[j+"calendar"];I.type=n(z,R,{autotypenumbers:I.autotypenumbers})}}(l,s.data),l.type==="-"?l.type="linear":d=r.type=l.type),x("smoothing"),x("cheatertype"),x("showticklabels"),x("labelprefix",u+" = "),x("labelsuffix"),x("showtickprefix"),x("showticksuffix"),x("separatethousands"),x("tickformat"),x("exponentformat"),x("minexponent"),x("showexponent"),x("categoryorder"),x("tickmode"),x("tickvals"),x("ticktext"),x("tick0"),x("dtick"),l.tickmode==="array"&&(x("arraytick0"),x("arraydtick")),x("labelpadding"),l._hovertitle=u,d==="date"&&a.getComponentMethod("calendars","handleDefaults")(r,l,"calendar",s.calendar),i(l,s.fullLayout),l.c2p=_.identity;var v=x("color",s.dfltColor),y=v===r.color?v:p.color;x("title.text")&&(_.coerceFont(x,"title.font",{family:p.family,size:_.bigFont(p.size),color:y}),x("title.offset")),x("tickangle"),x("autorange",!l.isValidRange(r.range))&&x("rangemode"),x("range"),l.cleanRange(),x("fixedrange"),b(r,l,x,d),o(r,l,x,d,s),h(r,l,x,d,s),t(r,l,x,{data:s.data,dataAttr:u});var m=g("gridcolor",k(v,.3)),w=g("gridwidth"),f=g("griddash"),S=x("showgrid");S||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var T=g("startlinecolor",v),E=g("startlinewidth",w);x("startline",l.showgrid||!!T||!!E)||(delete l.startlinecolor,delete l.startlinewidth);var O=g("endlinecolor",v),P=g("endlinewidth",w);return x("endline",l.showgrid||!!O||!!P)||(delete l.endlinecolor,delete l.endlinewidth),S?(x("minorgridcount"),x("minorgridwidth",w),x("minorgriddash",f),x("minorgridcolor",k(m,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),l.showticklabels==="none"&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,x("tickmode"),l}},25281:function(q,C,e){var M=e(89298),k=e(71828).isArray1D,a=e(53824),_=e(402),b=e(20347),h=e(83311),o=e(44807),t=e(4742),i=e(72505),n=e(68296),r=e(11435);q.exports=function(l,s){var u=M.getFromId(l,s.xaxis),p=M.getFromId(l,s.yaxis),c=s.aaxis,x=s.baxis,g=s.x,d=s.y,v=[];g&&k(g)&&v.push("x"),d&&k(d)&&v.push("y"),v.length&&n(s,c,x,"a","b",v);var y=s._a=s._a||s.a,m=s._b=s._b||s.b;g=s._x||s.x,d=s._y||s.y;var w={};if(s._cheater){var f=c.cheatertype==="index"?y.length:y,S=x.cheatertype==="index"?m.length:m;g=a(f,S,s.cheaterslope)}s._x=g=t(g),s._y=d=t(d),i(g,y,m),i(d,y,m),r(s),s.setScale();var T=_(g),E=_(d),O=.5*(T[1]-T[0]),P=.5*(T[1]+T[0]),I=.5*(E[1]-E[0]),z=.5*(E[1]+E[0]),j=1.3;return T=[P-O*j,P+O*j],E=[z-I*j,z+I*j],s._extremes[u._id]=M.findExtremes(u,T,{padded:!0}),s._extremes[p._id]=M.findExtremes(p,E,{padded:!0}),b(s,"a","b"),b(s,"b","a"),h(s,c),h(s,x),w.clipsegments=o(s._xctrl,s._yctrl,c,x),w.x=g,w.y=d,w.a=y,w.b=m,[w]}},44807:function(q){q.exports=function(C,e,M,k){var a,_,b,h=[],o=!!M.smoothing,t=!!k.smoothing,i=C[0].length-1,n=C.length-1;for(a=0,_=[],b=[];a<=i;a++)_[a]=C[0][a],b[a]=e[0][a];for(h.push({x:_,y:b,bicubic:o}),a=0,_=[],b=[];a<=n;a++)_[a]=C[a][i],b[a]=e[a][i];for(h.push({x:_,y:b,bicubic:t}),a=i,_=[],b=[];a>=0;a--)_[i-a]=C[n][a],b[i-a]=e[n][a];for(h.push({x:_,y:b,bicubic:o}),a=n,_=[],b=[];a>=0;a--)_[n-a]=C[a][0],b[n-a]=e[a][0];return h.push({x:_,y:b,bicubic:t}),h}},20347:function(q,C,e){var M=e(89298),k=e(1426).extendFlat;q.exports=function(a,_,b){var h,o,t,i,n,r,l,s,u,p,c,x,g,d,v=a["_"+_],y=a[_+"axis"],m=y._gridlines=[],w=y._minorgridlines=[],f=y._boundarylines=[],S=a["_"+b],T=a[b+"axis"];y.tickmode==="array"&&(y.tickvals=v.slice());var E=a._xctrl,O=a._yctrl,P=E[0].length,I=E.length,z=a._a.length,j=a._b.length;M.prepTicks(y),y.tickmode==="array"&&delete y.tickvals;var R=y.smoothing?3:1;function N(F){var U,V,te,Q,J,X,K,ee,re,ie,ae,ue,pe=[],de=[],ye={};if(_==="b")for(V=a.b2j(F),te=Math.floor(Math.max(0,Math.min(j-2,V))),Q=V-te,ye.length=j,ye.crossLength=z,ye.xy=function(be){return a.evalxy([],be,V)},ye.dxy=function(be,me){return a.dxydi([],be,te,me,Q)},U=0;U<z;U++)X=Math.min(z-2,U),K=U-X,ee=a.evalxy([],U,V),T.smoothing&&U>0&&(re=a.dxydi([],U-1,te,0,Q),pe.push(J[0]+re[0]/3),de.push(J[1]+re[1]/3),ie=a.dxydi([],U-1,te,1,Q),pe.push(ee[0]-ie[0]/3),de.push(ee[1]-ie[1]/3)),pe.push(ee[0]),de.push(ee[1]),J=ee;else for(U=a.a2i(F),X=Math.floor(Math.max(0,Math.min(z-2,U))),K=U-X,ye.length=z,ye.crossLength=j,ye.xy=function(be){return a.evalxy([],U,be)},ye.dxy=function(be,me){return a.dxydj([],X,be,K,me)},V=0;V<j;V++)te=Math.min(j-2,V),Q=V-te,ee=a.evalxy([],U,V),T.smoothing&&V>0&&(ae=a.dxydj([],X,V-1,K,0),pe.push(J[0]+ae[0]/3),de.push(J[1]+ae[1]/3),ue=a.dxydj([],X,V-1,K,1),pe.push(ee[0]-ue[0]/3),de.push(ee[1]-ue[1]/3)),pe.push(ee[0]),de.push(ee[1]),J=ee;return ye.axisLetter=_,ye.axis=y,ye.crossAxis=T,ye.value=F,ye.constvar=b,ye.index=s,ye.x=pe,ye.y=de,ye.smoothing=T.smoothing,ye}function Z(F){var U,V,te,Q,J,X=[],K=[],ee={};if(ee.length=v.length,ee.crossLength=S.length,_==="b")for(te=Math.max(0,Math.min(j-2,F)),J=Math.min(1,Math.max(0,F-te)),ee.xy=function(re){return a.evalxy([],re,F)},ee.dxy=function(re,ie){return a.dxydi([],re,te,ie,J)},U=0;U<P;U++)X[U]=E[F*R][U],K[U]=O[F*R][U];else for(V=Math.max(0,Math.min(z-2,F)),Q=Math.min(1,Math.max(0,F-V)),ee.xy=function(re){return a.evalxy([],F,re)},ee.dxy=function(re,ie){return a.dxydj([],V,re,Q,ie)},U=0;U<I;U++)X[U]=E[U][F*R],K[U]=O[U][F*R];return ee.axisLetter=_,ee.axis=y,ee.crossAxis=T,ee.value=v[F],ee.constvar=b,ee.index=F,ee.x=X,ee.y=K,ee.smoothing=T.smoothing,ee}if(y.tickmode==="array"){for(i=5e-15,r=(n=[Math.floor((v.length-1-y.arraytick0)/y.arraydtick*(1+i)),Math.ceil(-y.arraytick0/y.arraydtick/(1+i))].sort(function(F,U){return F-U}))[0]-1,l=n[1]+1,s=r;s<l;s++)(o=y.arraytick0+y.arraydtick*s)<0||o>v.length-1||m.push(k(Z(o),{color:y.gridcolor,width:y.gridwidth,dash:y.griddash}));for(s=r;s<l;s++)if(t=y.arraytick0+y.arraydtick*s,c=Math.min(t+y.arraydtick,v.length-1),!(t<0||t>v.length-1||c<0||c>v.length-1))for(x=v[t],g=v[c],h=0;h<y.minorgridcount;h++)(d=c-t)<=0||(p=x+(g-x)*(h+1)/(y.minorgridcount+1)*(y.arraydtick/d))<v[0]||p>v[v.length-1]||w.push(k(N(p),{color:y.minorgridcolor,width:y.minorgridwidth,dash:y.minorgriddash}));y.startline&&f.push(k(Z(0),{color:y.startlinecolor,width:y.startlinewidth})),y.endline&&f.push(k(Z(v.length-1),{color:y.endlinecolor,width:y.endlinewidth}))}else{for(i=5e-15,r=(n=[Math.floor((v[v.length-1]-y.tick0)/y.dtick*(1+i)),Math.ceil((v[0]-y.tick0)/y.dtick/(1+i))].sort(function(F,U){return F-U}))[0],l=n[1],s=r;s<=l;s++)u=y.tick0+y.dtick*s,m.push(k(N(u),{color:y.gridcolor,width:y.gridwidth,dash:y.griddash}));for(s=r-1;s<l+1;s++)for(u=y.tick0+y.dtick*s,h=0;h<y.minorgridcount;h++)(p=u+y.dtick*(h+1)/(y.minorgridcount+1))<v[0]||p>v[v.length-1]||w.push(k(N(p),{color:y.minorgridcolor,width:y.minorgridwidth,dash:y.minorgriddash}));y.startline&&f.push(k(N(v[0]),{color:y.startlinecolor,width:y.startlinewidth})),y.endline&&f.push(k(N(v[v.length-1]),{color:y.endlinecolor,width:y.endlinewidth}))}}},83311:function(q,C,e){var M=e(89298),k=e(1426).extendFlat;q.exports=function(a,_){var b,h,o,t=_._labels=[],i=_._gridlines;for(b=0;b<i.length;b++)o=i[b],["start","both"].indexOf(_.showticklabels)!==-1&&(h=M.tickText(_,o.value),k(h,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:o.xy(0),dxy:o.dxy(0,0),axis:o.axis,length:o.crossAxis.length,font:o.axis.tickfont,isFirst:b===0,isLast:b===i.length-1}),t.push(h)),["end","both"].indexOf(_.showticklabels)!==-1&&(h=M.tickText(_,o.value),k(h,{endAnchor:!1,xy:o.xy(o.crossLength-1),dxy:o.dxy(o.crossLength-2,1),axis:o.axis,length:o.crossAxis.length,font:o.axis.tickfont,isFirst:b===0,isLast:b===i.length-1}),t.push(h))}},42048:function(q){q.exports=function(C,e,M,k){var a=C[0]-e[0],_=C[1]-e[1],b=M[0]-e[0],h=M[1]-e[1],o=Math.pow(a*a+_*_,.25),t=Math.pow(b*b+h*h,.25),i=(t*t*a-o*o*b)*k,n=(t*t*_-o*o*h)*k,r=t*(o+t)*3,l=o*(o+t)*3;return[[e[0]+(r&&i/r),e[1]+(r&&n/r)],[e[0]-(l&&i/l),e[1]-(l&&n/l)]]}},53824:function(q,C,e){var M=e(71828).isArrayOrTypedArray;q.exports=function(k,a,_){var b,h,o,t,i,n,r=[],l=M(k)?k.length:k,s=M(a)?a.length:a,u=M(k)?k:null,p=M(a)?a:null;u&&(o=(u.length-1)/(u[u.length-1]-u[0])/(l-1)),p&&(t=(p.length-1)/(p[p.length-1]-p[0])/(s-1));var c=1/0,x=-1/0;for(h=0;h<s;h++)for(r[h]=[],i=p?(p[h]-p[0])*t:h/(s-1),b=0;b<l;b++)n=(u?(u[b]-u[0])*o:b/(l-1))-i*_,c=Math.min(n,c),x=Math.max(n,x),r[h][b]=n;var g=1/(x-c),d=-c*g;for(h=0;h<s;h++)for(b=0;b<l;b++)r[h][b]=g*r[h][b]+d;return r}},45664:function(q,C,e){var M=e(42048),k=e(71828).ensureArray;function a(_,b,h){var o=-.5*h[0]+1.5*b[0],t=-.5*h[1]+1.5*b[1];return[(2*o+_[0])/3,(2*t+_[1])/3]}q.exports=function(_,b,h,o,t,i){var n,r,l,s,u,p,c,x,g,d,v=h[0].length,y=h.length,m=t?3*v-2:v,w=i?3*y-2:y;for(_=k(_,w),b=k(b,w),l=0;l<w;l++)_[l]=k(_[l],m),b[l]=k(b[l],m);for(r=0,s=0;r<y;r++,s+=i?3:1)for(u=_[s],p=b[s],c=h[r],x=o[r],n=0,l=0;n<v;n++,l+=t?3:1)u[l]=c[n],p[l]=x[n];if(t)for(r=0,s=0;r<y;r++,s+=i?3:1){for(n=1,l=3;n<v-1;n++,l+=3)g=M([h[r][n-1],o[r][n-1]],[h[r][n],o[r][n]],[h[r][n+1],o[r][n+1]],t),_[s][l-1]=g[0][0],b[s][l-1]=g[0][1],_[s][l+1]=g[1][0],b[s][l+1]=g[1][1];d=a([_[s][0],b[s][0]],[_[s][2],b[s][2]],[_[s][3],b[s][3]]),_[s][1]=d[0],b[s][1]=d[1],d=a([_[s][m-1],b[s][m-1]],[_[s][m-3],b[s][m-3]],[_[s][m-4],b[s][m-4]]),_[s][m-2]=d[0],b[s][m-2]=d[1]}if(i)for(l=0;l<m;l++){for(s=3;s<w-3;s+=3)g=M([_[s-3][l],b[s-3][l]],[_[s][l],b[s][l]],[_[s+3][l],b[s+3][l]],i),_[s-1][l]=g[0][0],b[s-1][l]=g[0][1],_[s+1][l]=g[1][0],b[s+1][l]=g[1][1];d=a([_[0][l],b[0][l]],[_[2][l],b[2][l]],[_[3][l],b[3][l]]),_[1][l]=d[0],b[1][l]=d[1],d=a([_[w-1][l],b[w-1][l]],[_[w-3][l],b[w-3][l]],[_[w-4][l],b[w-4][l]]),_[w-2][l]=d[0],b[w-2][l]=d[1]}if(t&&i)for(s=1;s<w;s+=(s+1)%3==0?2:1){for(l=3;l<m-3;l+=3)g=M([_[s][l-3],b[s][l-3]],[_[s][l],b[s][l]],[_[s][l+3],b[s][l+3]],t),_[s][l-1]=.5*(_[s][l-1]+g[0][0]),b[s][l-1]=.5*(b[s][l-1]+g[0][1]),_[s][l+1]=.5*(_[s][l+1]+g[1][0]),b[s][l+1]=.5*(b[s][l+1]+g[1][1]);d=a([_[s][0],b[s][0]],[_[s][2],b[s][2]],[_[s][3],b[s][3]]),_[s][1]=.5*(_[s][1]+d[0]),b[s][1]=.5*(b[s][1]+d[1]),d=a([_[s][m-1],b[s][m-1]],[_[s][m-3],b[s][m-3]],[_[s][m-4],b[s][m-4]]),_[s][m-2]=.5*(_[s][m-2]+d[0]),b[s][m-2]=.5*(b[s][m-2]+d[1])}return[_,b]}},35509:function(q){q.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(q){q.exports=function(C,e,M){return e&&M?function(k,a,_,b,h){var o,t,i,n,r,l;k||(k=[]),a*=3,_*=3;var s=b*b,u=1-b,p=u*u,c=u*b*2,x=-3*p,g=3*(p-c),d=3*(c-s),v=3*s,y=h*h,m=y*h,w=1-h,f=w*w,S=f*w;for(l=0;l<C.length;l++)o=x*(r=C[l])[_][a]+g*r[_][a+1]+d*r[_][a+2]+v*r[_][a+3],t=x*r[_+1][a]+g*r[_+1][a+1]+d*r[_+1][a+2]+v*r[_+1][a+3],i=x*r[_+2][a]+g*r[_+2][a+1]+d*r[_+2][a+2]+v*r[_+2][a+3],n=x*r[_+3][a]+g*r[_+3][a+1]+d*r[_+3][a+2]+v*r[_+3][a+3],k[l]=S*o+3*(f*h*t+w*y*i)+m*n;return k}:e?function(k,a,_,b,h){var o,t,i,n;k||(k=[]),a*=3;var r=b*b,l=1-b,s=l*l,u=l*b*2,p=-3*s,c=3*(s-u),x=3*(u-r),g=3*r,d=1-h;for(i=0;i<C.length;i++)o=p*(n=C[i])[_][a]+c*n[_][a+1]+x*n[_][a+2]+g*n[_][a+3],t=p*n[_+1][a]+c*n[_+1][a+1]+x*n[_+1][a+2]+g*n[_+1][a+3],k[i]=d*o+h*t;return k}:M?function(k,a,_,b,h){var o,t,i,n,r,l;k||(k=[]),_*=3;var s=h*h,u=s*h,p=1-h,c=p*p,x=c*p;for(r=0;r<C.length;r++)o=(l=C[r])[_][a+1]-l[_][a],t=l[_+1][a+1]-l[_+1][a],i=l[_+2][a+1]-l[_+2][a],n=l[_+3][a+1]-l[_+3][a],k[r]=x*o+3*(c*h*t+p*s*i)+u*n;return k}:function(k,a,_,b,h){var o,t,i,n;k||(k=[]);var r=1-h;for(i=0;i<C.length;i++)o=(n=C[i])[_][a+1]-n[_][a],t=n[_+1][a+1]-n[_+1][a],k[i]=r*o+h*t;return k}}},73057:function(q){q.exports=function(C,e,M){return e&&M?function(k,a,_,b,h){var o,t,i,n,r,l;k||(k=[]),a*=3,_*=3;var s=b*b,u=s*b,p=1-b,c=p*p,x=c*p,g=h*h,d=1-h,v=d*d,y=d*h*2,m=-3*v,w=3*(v-y),f=3*(y-g),S=3*g;for(l=0;l<C.length;l++)o=m*(r=C[l])[_][a]+w*r[_+1][a]+f*r[_+2][a]+S*r[_+3][a],t=m*r[_][a+1]+w*r[_+1][a+1]+f*r[_+2][a+1]+S*r[_+3][a+1],i=m*r[_][a+2]+w*r[_+1][a+2]+f*r[_+2][a+2]+S*r[_+3][a+2],n=m*r[_][a+3]+w*r[_+1][a+3]+f*r[_+2][a+3]+S*r[_+3][a+3],k[l]=x*o+3*(c*b*t+p*s*i)+u*n;return k}:e?function(k,a,_,b,h){var o,t,i,n,r,l;k||(k=[]),a*=3;var s=h*h,u=s*h,p=1-h,c=p*p,x=c*p;for(r=0;r<C.length;r++)o=(l=C[r])[_+1][a]-l[_][a],t=l[_+1][a+1]-l[_][a+1],i=l[_+1][a+2]-l[_][a+2],n=l[_+1][a+3]-l[_][a+3],k[r]=x*o+3*(c*h*t+p*s*i)+u*n;return k}:M?function(k,a,_,b,h){var o,t,i,n;k||(k=[]),_*=3;var r=1-b,l=h*h,s=1-h,u=s*s,p=s*h*2,c=-3*u,x=3*(u-p),g=3*(p-l),d=3*l;for(i=0;i<C.length;i++)o=c*(n=C[i])[_][a]+x*n[_+1][a]+g*n[_+2][a]+d*n[_+3][a],t=c*n[_][a+1]+x*n[_+1][a+1]+g*n[_+2][a+1]+d*n[_+3][a+1],k[i]=r*o+b*t;return k}:function(k,a,_,b,h){var o,t,i,n;k||(k=[]);var r=1-b;for(i=0;i<C.length;i++)o=(n=C[i])[_+1][a]-n[_][a],t=n[_+1][a+1]-n[_][a+1],k[i]=r*o+b*t;return k}}},20349:function(q){q.exports=function(C,e,M,k,a){var _=e-2,b=M-2;return k&&a?function(h,o,t){var i,n,r,l,s,u;h||(h=[]);var p=Math.max(0,Math.min(Math.floor(o),_)),c=Math.max(0,Math.min(Math.floor(t),b)),x=Math.max(0,Math.min(1,o-p)),g=Math.max(0,Math.min(1,t-c));p*=3,c*=3;var d=x*x,v=d*x,y=1-x,m=y*y,w=m*y,f=g*g,S=f*g,T=1-g,E=T*T,O=E*T;for(u=0;u<C.length;u++)i=w*(s=C[u])[c][p]+3*(m*x*s[c][p+1]+y*d*s[c][p+2])+v*s[c][p+3],n=w*s[c+1][p]+3*(m*x*s[c+1][p+1]+y*d*s[c+1][p+2])+v*s[c+1][p+3],r=w*s[c+2][p]+3*(m*x*s[c+2][p+1]+y*d*s[c+2][p+2])+v*s[c+2][p+3],l=w*s[c+3][p]+3*(m*x*s[c+3][p+1]+y*d*s[c+3][p+2])+v*s[c+3][p+3],h[u]=O*i+3*(E*g*n+T*f*r)+S*l;return h}:k?function(h,o,t){h||(h=[]);var i,n,r,l,s,u,p=Math.max(0,Math.min(Math.floor(o),_)),c=Math.max(0,Math.min(Math.floor(t),b)),x=Math.max(0,Math.min(1,o-p)),g=Math.max(0,Math.min(1,t-c));p*=3;var d=x*x,v=d*x,y=1-x,m=y*y,w=m*y,f=1-g;for(s=0;s<C.length;s++)i=f*(u=C[s])[c][p]+g*u[c+1][p],n=f*u[c][p+1]+g*u[c+1][p+1],r=f*u[c][p+2]+g*u[c+1][p+1],l=f*u[c][p+3]+g*u[c+1][p+1],h[s]=w*i+3*(m*x*n+y*d*r)+v*l;return h}:a?function(h,o,t){h||(h=[]);var i,n,r,l,s,u,p=Math.max(0,Math.min(Math.floor(o),_)),c=Math.max(0,Math.min(Math.floor(t),b)),x=Math.max(0,Math.min(1,o-p)),g=Math.max(0,Math.min(1,t-c));c*=3;var d=g*g,v=d*g,y=1-g,m=y*y,w=m*y,f=1-x;for(s=0;s<C.length;s++)i=f*(u=C[s])[c][p]+x*u[c][p+1],n=f*u[c+1][p]+x*u[c+1][p+1],r=f*u[c+2][p]+x*u[c+2][p+1],l=f*u[c+3][p]+x*u[c+3][p+1],h[s]=w*i+3*(m*g*n+y*d*r)+v*l;return h}:function(h,o,t){h||(h=[]);var i,n,r,l,s=Math.max(0,Math.min(Math.floor(o),_)),u=Math.max(0,Math.min(Math.floor(t),b)),p=Math.max(0,Math.min(1,o-s)),c=Math.max(0,Math.min(1,t-u)),x=1-c,g=1-p;for(r=0;r<C.length;r++)i=g*(l=C[r])[u][s]+p*l[u][s+1],n=g*l[u+1][s]+p*l[u+1][s+1],h[r]=x*i+c*n;return h}}},92087:function(q,C,e){var M=e(71828),k=e(19237),a=e(13145),_=e(99798),b=e(22399);q.exports=function(h,o,t,i){function n(l,s){return M.coerce(h,o,_,l,s)}o._clipPathId="clip"+o.uid+"carpet";var r=n("color",b.defaultLine);M.coerceFont(n,"font"),n("carpet"),a(h,o,i,n,r),o.a&&o.b?(o.a.length<3&&(o.aaxis.smoothing=0),o.b.length<3&&(o.baxis.smoothing=0),k(h,o,n)||(o.visible=!1),o._cheater&&n("cheaterslope")):o.visible=!1}},21462:function(q,C,e){q.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(q){q.exports=function(C,e){for(var M,k=C._fullData.length,a=0;a<k;a++){var _=C._fullData[a];if(_.index!==e.index&&_.type==="carpet"&&(M||(M=_),_.carpet===e.carpet))return _}return M}},67961:function(q){q.exports=function(C,e,M){if(C.length===0)return"";var k,a=[],_=M?3:1;for(k=0;k<C.length;k+=_)a.push(C[k]+","+e[k]),M&&k<C.length-_&&(a.push("C"),a.push([C[k+1]+","+e[k+1],C[k+2]+","+e[k+2]+" "].join(" ")));return a.join(M?"":"L")}},27669:function(q,C,e){var M=e(71828).isArrayOrTypedArray;q.exports=function(k,a,_){var b;for(M(k)?k.length>a.length&&(k=k.slice(0,a.length)):k=[],b=0;b<a.length;b++)k[b]=_(a[b]);return k}},11651:function(q){q.exports=function(C,e,M,k,a,_){var b=a[0]*C.dpdx(e),h=a[1]*C.dpdy(M),o=1,t=1;if(_){var i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),n=Math.sqrt(_[0]*_[0]+_[1]*_[1]),r=(a[0]*_[0]+a[1]*_[1])/i/n;t=Math.max(0,r)}var l=180*Math.atan2(h,b)/Math.PI;return l<-90?(l+=180,o=-o):l>90&&(l-=180,o=-o),{angle:l,flip:o,p:C.c2p(k,e,M),offsetMultplier:t}}},89740:function(q,C,e){var M=e(39898),k=e(91424),a=e(27669),_=e(67961),b=e(11651),h=e(63893),o=e(71828),t=o.strRotate,i=o.strTranslate,n=e(18783);function r(c,x,g,d,v,y,m){var w="const-"+v+"-lines",f=g.selectAll("."+w).data(y);f.enter().append("path").classed(w,!0).style("vector-effect",m?"none":"non-scaling-stroke"),f.each(function(S){var T=S,E=T.x,O=T.y,P=a([],E,c.c2p),I=a([],O,x.c2p),z="M"+_(P,I,T.smoothing);M.select(this).attr("d",z).style("stroke-width",T.width).style("stroke",T.color).style("stroke-dasharray",k.dashStyle(T.dash,T.width)).style("fill","none")}),f.exit().remove()}function l(c,x,g,d,v,y,m,w){var f=y.selectAll("text."+w).data(m);f.enter().append("text").classed(w,!0);var S=0,T={};return f.each(function(E,O){var P;if(E.axis.tickangle==="auto")P=b(d,x,g,E.xy,E.dxy);else{var I=(E.axis.tickangle+180)*Math.PI/180;P=b(d,x,g,E.xy,[Math.cos(I),Math.sin(I)])}O||(T={angle:P.angle,flip:P.flip});var z=(E.endAnchor?-1:1)*P.flip,j=M.select(this).attr({"text-anchor":z>0?"start":"end","data-notex":1}).call(k.font,E.font).text(E.text).call(h.convertToTspans,c),R=k.bBox(this);j.attr("transform",i(P.p[0],P.p[1])+t(P.angle)+i(E.axis.labelpadding*z,.3*R.height)),S=Math.max(S,R.width+E.axis.labelpadding)}),f.exit().remove(),T.maxExtent=S,T}q.exports=function(c,x,g,d){var v=c._context.staticPlot,y=x.xaxis,m=x.yaxis,w=c._fullLayout._clips;o.makeTraceGroups(d,g,"trace").each(function(f){var S=M.select(this),T=f[0],E=T.trace,O=E.aaxis,P=E.baxis,I=o.ensureSingle(S,"g","minorlayer"),z=o.ensureSingle(S,"g","majorlayer"),j=o.ensureSingle(S,"g","boundarylayer"),R=o.ensureSingle(S,"g","labellayer");S.style("opacity",E.opacity),r(y,m,z,0,"a",O._gridlines,!0),r(y,m,z,0,"b",P._gridlines,!0),r(y,m,I,0,"a",O._minorgridlines,!0),r(y,m,I,0,"b",P._minorgridlines,!0),r(y,m,j,0,"a-boundary",O._boundarylines,v),r(y,m,j,0,"b-boundary",P._boundarylines,v);var N=l(c,y,m,E,0,R,O._labels,"a-label"),Z=l(c,y,m,E,0,R,P._labels,"b-label");(function(F,U,V,te,Q,J,X,K){var ee,re,ie,ae,ue=o.aggNums(Math.min,null,V.a),pe=o.aggNums(Math.max,null,V.a),de=o.aggNums(Math.min,null,V.b),ye=o.aggNums(Math.max,null,V.b);ee=.5*(ue+pe),re=de,ie=V.ab2xy(ee,re,!0),ae=V.dxyda_rough(ee,re),X.angle===void 0&&o.extendFlat(X,b(V,Q,J,ie,V.dxydb_rough(ee,re))),p(F,U,V,0,ie,ae,V.aaxis,Q,J,X,"a-title"),ee=ue,re=.5*(de+ye),ie=V.ab2xy(ee,re,!0),ae=V.dxydb_rough(ee,re),K.angle===void 0&&o.extendFlat(K,b(V,Q,J,ie,V.dxyda_rough(ee,re))),p(F,U,V,0,ie,ae,V.baxis,Q,J,K,"b-title")})(c,R,E,0,y,m,N,Z),function(F,U,V,te,Q){var J,X,K,ee,re=V.select("#"+F._clipPathId);re.size()||(re=V.append("clipPath").classed("carpetclip",!0));var ie=o.ensureSingle(re,"path","carpetboundary"),ae=U.clipsegments,ue=[];for(ee=0;ee<ae.length;ee++)J=ae[ee],X=a([],J.x,te.c2p),K=a([],J.y,Q.c2p),ue.push(_(X,K,J.bicubic));var pe="M"+ue.join("L")+"Z";re.attr("id",F._clipPathId),ie.attr("d",pe)}(E,T,w,y,m)})};var s=n.LINE_SPACING,u=(1-n.MID_SHIFT)/s+1;function p(c,x,g,d,v,y,m,w,f,S,T){var E=[];m.title.text&&E.push(m.title.text);var O=x.selectAll("text."+T).data(E),P=S.maxExtent;O.enter().append("text").classed(T,!0),O.each(function(){var I=b(g,w,f,v,y);["start","both"].indexOf(m.showticklabels)===-1&&(P=0);var z=m.title.font.size;P+=z+m.title.offset;var j=(S.angle+(S.flip<0?180:0)-I.angle+450)%360,R=j>90&&j<270,N=M.select(this);N.text(m.title.text).call(h.convertToTspans,c),R&&(P=(-h.lineCount(N)+u)*s*z-P),N.attr("transform",i(I.p[0],I.p[1])+t(I.angle)+i(0,P)).attr("text-anchor","middle").call(k.font,m.title.font)}),O.exit().remove()}},11435:function(q,C,e){var M=e(35509),k=e(65888).findBin,a=e(45664),_=e(20349),b=e(54495),h=e(73057);q.exports=function(o){var t=o._a,i=o._b,n=t.length,r=i.length,l=o.aaxis,s=o.baxis,u=t[0],p=t[n-1],c=i[0],x=i[r-1],g=t[t.length-1]-t[0],d=i[i.length-1]-i[0],v=g*M.RELATIVE_CULL_TOLERANCE,y=d*M.RELATIVE_CULL_TOLERANCE;u-=v,p+=v,c-=y,x+=y,o.isVisible=function(m,w){return m>u&&m<p&&w>c&&w<x},o.isOccluded=function(m,w){return m<u||m>p||w<c||w>x},o.setScale=function(){var m=o._x,w=o._y,f=a(o._xctrl,o._yctrl,m,w,l.smoothing,s.smoothing);o._xctrl=f[0],o._yctrl=f[1],o.evalxy=_([o._xctrl,o._yctrl],n,r,l.smoothing,s.smoothing),o.dxydi=b([o._xctrl,o._yctrl],l.smoothing,s.smoothing),o.dxydj=h([o._xctrl,o._yctrl],l.smoothing,s.smoothing)},o.i2a=function(m){var w=Math.max(0,Math.floor(m[0]),n-2),f=m[0]-w;return(1-f)*t[w]+f*t[w+1]},o.j2b=function(m){var w=Math.max(0,Math.floor(m[1]),n-2),f=m[1]-w;return(1-f)*i[w]+f*i[w+1]},o.ij2ab=function(m){return[o.i2a(m[0]),o.j2b(m[1])]},o.a2i=function(m){var w=Math.max(0,Math.min(k(m,t),n-2)),f=t[w],S=t[w+1];return Math.max(0,Math.min(n-1,w+(m-f)/(S-f)))},o.b2j=function(m){var w=Math.max(0,Math.min(k(m,i),r-2)),f=i[w],S=i[w+1];return Math.max(0,Math.min(r-1,w+(m-f)/(S-f)))},o.ab2ij=function(m){return[o.a2i(m[0]),o.b2j(m[1])]},o.i2c=function(m,w){return o.evalxy([],m,w)},o.ab2xy=function(m,w,f){if(!f&&(m<t[0]||m>t[n-1]|w<i[0]||w>i[r-1]))return[!1,!1];var S=o.a2i(m),T=o.b2j(w),E=o.evalxy([],S,T);if(f){var O,P,I,z,j=0,R=0,N=[];m<t[0]?(O=0,P=0,j=(m-t[0])/(t[1]-t[0])):m>t[n-1]?(O=n-2,P=1,j=(m-t[n-1])/(t[n-1]-t[n-2])):P=S-(O=Math.max(0,Math.min(n-2,Math.floor(S)))),w<i[0]?(I=0,z=0,R=(w-i[0])/(i[1]-i[0])):w>i[r-1]?(I=r-2,z=1,R=(w-i[r-1])/(i[r-1]-i[r-2])):z=T-(I=Math.max(0,Math.min(r-2,Math.floor(T)))),j&&(o.dxydi(N,O,I,P,z),E[0]+=N[0]*j,E[1]+=N[1]*j),R&&(o.dxydj(N,O,I,P,z),E[0]+=N[0]*R,E[1]+=N[1]*R)}return E},o.c2p=function(m,w,f){return[w.c2p(m[0]),f.c2p(m[1])]},o.p2x=function(m,w,f){return[w.p2c(m[0]),f.p2c(m[1])]},o.dadi=function(m){var w=Math.max(0,Math.min(t.length-2,m));return t[w+1]-t[w]},o.dbdj=function(m){var w=Math.max(0,Math.min(i.length-2,m));return i[w+1]-i[w]},o.dxyda=function(m,w,f,S){var T=o.dxydi(null,m,w,f,S),E=o.dadi(m,f);return[T[0]/E,T[1]/E]},o.dxydb=function(m,w,f,S){var T=o.dxydj(null,m,w,f,S),E=o.dbdj(w,S);return[T[0]/E,T[1]/E]},o.dxyda_rough=function(m,w,f){var S=g*(f||.1),T=o.ab2xy(m+S,w,!0),E=o.ab2xy(m-S,w,!0);return[.5*(T[0]-E[0])/S,.5*(T[1]-E[1])/S]},o.dxydb_rough=function(m,w,f){var S=d*(f||.1),T=o.ab2xy(m,w+S,!0),E=o.ab2xy(m,w-S,!0);return[.5*(T[0]-E[0])/S,.5*(T[1]-E[1])/S]},o.dpdx=function(m){return m._m},o.dpdy=function(m){return m._m}}},72505:function(q,C,e){var M=e(71828);q.exports=function(k,a,_){var b,h,o,t=[],i=[],n=k[0].length,r=k.length;function l(F,U){var V,te=0,Q=0;return F>0&&(V=k[U][F-1])!==void 0&&(Q++,te+=V),F<n-1&&(V=k[U][F+1])!==void 0&&(Q++,te+=V),U>0&&(V=k[U-1][F])!==void 0&&(Q++,te+=V),U<r-1&&(V=k[U+1][F])!==void 0&&(Q++,te+=V),te/Math.max(1,Q)}var s,u,p,c,x,g,d,v,y,m,w,f=0;for(b=0;b<n;b++)for(h=0;h<r;h++)k[h][b]===void 0&&(t.push(b),i.push(h),k[h][b]=l(b,h)),f=Math.max(f,Math.abs(k[h][b]));if(!t.length)return k;var S=0,T=0,E=t.length;do{for(S=0,o=0;o<E;o++){b=t[o],h=i[o];var O,P,I,z,j,R,N=0,Z=0;b===0?(I=a[j=Math.min(n-1,2)],z=a[1],O=k[h][j],Z+=(P=k[h][1])+(P-O)*(a[0]-z)/(z-I),N++):b===n-1&&(I=a[j=Math.max(0,n-3)],z=a[n-2],O=k[h][j],Z+=(P=k[h][n-2])+(P-O)*(a[n-1]-z)/(z-I),N++),(b===0||b===n-1)&&h>0&&h<r-1&&(s=_[h+1]-_[h],Z+=((u=_[h]-_[h-1])*k[h+1][b]+s*k[h-1][b])/(u+s),N++),h===0?(I=_[R=Math.min(r-1,2)],z=_[1],O=k[R][b],Z+=(P=k[1][b])+(P-O)*(_[0]-z)/(z-I),N++):h===r-1&&(I=_[R=Math.max(0,r-3)],z=_[r-2],O=k[R][b],Z+=(P=k[r-2][b])+(P-O)*(_[r-1]-z)/(z-I),N++),(h===0||h===r-1)&&b>0&&b<n-1&&(s=a[b+1]-a[b],Z+=((u=a[b]-a[b-1])*k[h][b+1]+s*k[h][b-1])/(u+s),N++),N?Z/=N:(p=a[b+1]-a[b],c=a[b]-a[b-1],v=(x=_[h+1]-_[h])*(g=_[h]-_[h-1])*(x+g),Z=((d=p*c*(p+c))*(g*k[h+1][b]+x*k[h-1][b])+v*(c*k[h][b+1]+p*k[h][b-1]))/(v*(c+p)+d*(g+x))),S+=(m=(y=Z-k[h][b])/f)*m,w=N?0:.85,k[h][b]+=y*(1+w)}S=Math.sqrt(S)}while(T++<100&&S>1e-5);return M.log("Smoother converged to",S,"after",T,"iterations"),k}},19237:function(q,C,e){var M=e(71828).isArray1D;q.exports=function(k,a,_){var b=_("x"),h=b&&b.length,o=_("y"),t=o&&o.length;if(!h&&!t)return!1;if(a._cheater=!b,h&&!M(b)||t&&!M(o))a._length=null;else{var i=h?b.length:1/0;t&&(i=Math.min(i,o.length)),a.a&&a.a.length&&(i=Math.min(i,a.a.length)),a.b&&a.b.length&&(i=Math.min(i,a.b.length)),a._length=i}return!0}},69568:function(q,C,e){var M=e(5386).fF,k=e(19316),a=e(50693),_=e(9012),b=e(22399).defaultLine,h=e(1426).extendFlat,o=k.marker.line;q.exports=h({locations:{valType:"data_array",editType:"calc"},locationmode:k.locationmode,z:{valType:"data_array",editType:"calc"},geojson:h({},k.geojson,{}),featureidkey:k.featureidkey,text:h({},k.text,{}),hovertext:h({},k.hovertext,{}),marker:{line:{color:h({},o.color,{dflt:b}),width:h({},o.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:k.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:k.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:h({},_.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:M(),showlegend:h({},_.showlegend,{dflt:!1})},a("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(q,C,e){var M=e(92770),k=e(50606).BADNUM,a=e(78803),_=e(75225),b=e(66279);function h(o){return o&&typeof o=="string"}q.exports=function(o,t){var i,n=t._length,r=new Array(n);i=t.geojson?function(c){return h(c)||M(c)}:h;for(var l=0;l<n;l++){var s=r[l]={},u=t.locations[l],p=t.z[l];i(u)&&M(p)?(s.loc=u,s.z=p):(s.loc=null,s.z=k),s.index=l}return _(r,t),a(o,t,{vals:t.z,containerStr:"",cLetter:"z"}),b(r,t),r}},61869:function(q,C,e){var M=e(71828),k=e(1586),a=e(69568);q.exports=function(_,b,h,o){function t(s,u){return M.coerce(_,b,a,s,u)}var i=t("locations"),n=t("z");if(i&&i.length&&M.isArrayOrTypedArray(n)&&n.length){b._length=Math.min(i.length,n.length);var r,l=t("geojson");(typeof l=="string"&&l!==""||M.isPlainObject(l))&&(r="geojson-id"),t("locationmode",r)==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),k(_,b,o,t,{prefix:"",cLetter:"z"}),M.coerceSelectionMarkerOpacity(b,t)}else b.visible=!1}},92069:function(q){q.exports=function(C,e,M,k,a){C.location=e.location,C.z=e.z;var _=k[a];return _.fIn&&_.fIn.properties&&(C.properties=_.fIn.properties),C.ct=_.ct,C}},42300:function(q,C,e){var M=e(89298),k=e(69568),a=e(71828).fillText;q.exports=function(_,b,h){var o,t,i,n,r=_.cd,l=r[0].trace,s=_.subplot,u=[b,h],p=[b+360,h];for(t=0;t<r.length;t++)if(n=!1,(o=r[t])._polygons){for(i=0;i<o._polygons.length;i++)o._polygons[i].contains(u)&&(n=!n),o._polygons[i].contains(p)&&(n=!n);if(n)break}if(n&&o)return _.x0=_.x1=_.xa.c2p(o.ct),_.y0=_.y1=_.ya.c2p(o.ct),_.index=o.index,_.location=o.loc,_.z=o.z,_.zLabel=M.tickText(s.mockAxis,s.mockAxis.c2l(o.z),"hover").text,_.hovertemplate=o.hovertemplate,function(c,x,g){if(!x.hovertemplate){var d=g.hi||x.hoverinfo,v=String(g.loc),y=d==="all"?k.hoverinfo.flags:d.split("+"),m=y.indexOf("name")!==-1,w=y.indexOf("location")!==-1,f=y.indexOf("z")!==-1,S=y.indexOf("text")!==-1,T=[];!m&&w?c.nameOverride=v:(m&&(c.nameOverride=x.name),w&&T.push(v)),f&&T.push(c.zLabel),S&&a(g,x,T),c.extraText=T.join("<br>")}}(_,l,o),[_]}},51319:function(q,C,e){q.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(q,C,e){var M=e(39898),k=e(71828),a=e(41327),_=e(90973).getTopojsonFeatures,b=e(71739).findExtremes,h=e(99636).style;q.exports={calcGeoJSON:function(o,t){for(var i=o[0].trace,n=t[i.geo],r=n._subplot,l=i.locationmode,s=i._length,u=l==="geojson-id"?a.extractTraceFeature(o):_(i,r.topojson),p=[],c=[],x=0;x<s;x++){var g=o[x],d=l==="geojson-id"?g.fOut:a.locationToFeature(l,g.loc,u);if(d){g.geojson=d,g.ct=d.properties.ct,g._polygons=a.feature2polygons(d);var v=a.computeBbox(d);p.push(v[0],v[2]),c.push(v[1],v[3])}else g.geojson=null}if(n.fitbounds==="geojson"&&l==="geojson-id"){var y=a.computeBbox(a.getTraceGeojson(i));p=[y[0],y[2]],c=[y[1],y[3]]}var m={padded:!0};i._extremes.lon=b(n.lonaxis._ax,p,m),i._extremes.lat=b(n.lataxis._ax,c,m)},plot:function(o,t,i){var n=t.layers.backplot.select(".choroplethlayer");k.makeTraceGroups(n,i,"trace choropleth").each(function(r){var l=M.select(this).selectAll("path.choroplethlocation").data(k.identity);l.enter().append("path").classed("choroplethlocation",!0),l.exit().remove(),h(o,r)})}}},81253:function(q){q.exports=function(C,e){var M,k,a,_,b,h=C.cd,o=C.xaxis,t=C.yaxis,i=[];if(e===!1)for(M=0;M<h.length;M++)h[M].selected=0;else for(M=0;M<h.length;M++)(a=(k=h[M]).ct)&&(_=o.c2p(a),b=t.c2p(a),e.contains([_,b],null,M,C)?(i.push({pointNumber:M,lon:a[0],lat:a[1]}),k.selected=1):k.selected=0);return i}},99636:function(q,C,e){var M=e(39898),k=e(7901),a=e(91424),_=e(21081);function b(h,o){var t=o[0].trace,i=o[0].node3.selectAll(".choroplethlocation"),n=t.marker||{},r=n.line||{},l=_.makeColorScaleFuncFromTrace(t);i.each(function(s){M.select(this).attr("fill",l(s.z)).call(k.stroke,s.mlc||r.color).call(a.dashLine,"",s.mlw||r.width||0).style("opacity",n.opacity)}),a.selectedPointStyle(i,t)}q.exports={style:function(h,o){o&&b(0,o)},styleOnSelect:function(h,o){var t=o[0].node3,i=o[0].trace;i.selectedpoints?a.selectedPointStyle(t.selectAll(".choroplethlocation"),i):b(0,o)}}},64496:function(q,C,e){var M=e(69568),k=e(50693),a=e(5386).fF,_=e(9012),b=e(1426).extendFlat;q.exports=b({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:b({},M.featureidkey,{}),below:{valType:"string",editType:"plot"},text:M.text,hovertext:M.hovertext,marker:{line:{color:b({},M.marker.line.color,{editType:"plot"}),width:b({},M.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:b({},M.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:b({},M.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:b({},M.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:M.hoverinfo,hovertemplate:a({},{keys:["properties"]}),showlegend:b({},_.showlegend,{dflt:!1})},k("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(q,C,e){var M=e(92770),k=e(71828),a=e(21081),_=e(91424),b=e(18214).makeBlank,h=e(41327);function o(t){var i,n=t[0].trace,r=n._opts;if(n.selectedpoints){for(var l=_.makeSelectedPointStyleFns(n),s=0;s<t.length;s++){var u=t[s];u.fOut&&(u.fOut.properties.mo2=l.selectedOpacityFn(u))}i={type:"identity",property:"mo2"}}else i=k.isArrayOrTypedArray(n.marker.opacity)?{type:"identity",property:"mo"}:n.marker.opacity;return k.extendFlat(r.fill.paint,{"fill-opacity":i}),k.extendFlat(r.line.paint,{"line-opacity":i}),r}q.exports={convert:function(t){var i=t[0].trace,n=i.visible===!0&&i._length!==0,r={layout:{visibility:"none"},paint:{}},l={layout:{visibility:"none"},paint:{}},s=i._opts={fill:r,line:l,geojson:b()};if(!n)return s;var u=h.extractTraceFeature(t);if(!u)return s;var p,c,x,g=a.makeColorScaleFuncFromTrace(i),d=i.marker,v=d.line||{};k.isArrayOrTypedArray(d.opacity)&&(p=function(T){var E=T.mo;return M(E)?+k.constrain(E,0,1):0}),k.isArrayOrTypedArray(v.color)&&(c=function(T){return T.mlc}),k.isArrayOrTypedArray(v.width)&&(x=function(T){return T.mlw});for(var y=0;y<t.length;y++){var m=t[y],w=m.fOut;if(w){var f=w.properties;f.fc=g(m.z),p&&(f.mo=p(m)),c&&(f.mlc=c(m)),x&&(f.mlw=x(m)),m.ct=f.ct,m._polygons=h.feature2polygons(w)}}var S=p?{type:"identity",property:"mo"}:d.opacity;return k.extendFlat(r.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":S}),k.extendFlat(l.paint,{"line-color":c?{type:"identity",property:"mlc"}:v.color,"line-width":x?{type:"identity",property:"mlw"}:v.width,"line-opacity":S}),r.layout.visibility="visible",l.layout.visibility="visible",s.geojson={type:"FeatureCollection",features:u},o(t),s},convertOnSelect:o}},22654:function(q,C,e){var M=e(71828),k=e(1586),a=e(64496);q.exports=function(_,b,h,o){function t(l,s){return M.coerce(_,b,a,l,s)}var i=t("locations"),n=t("z"),r=t("geojson");M.isArrayOrTypedArray(i)&&i.length&&M.isArrayOrTypedArray(n)&&n.length&&(typeof r=="string"&&r!==""||M.isPlainObject(r))?(t("featureidkey"),b._length=Math.min(i.length,n.length),t("below"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),k(_,b,o,t,{prefix:"",cLetter:"z"}),M.coerceSelectionMarkerOpacity(b,t)):b.visible=!1}},57516:function(q,C,e){q.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(M,k){k&&k[0].trace._glTrace.updateOnSelect(k)},getBelow:function(M,k){for(var a=k.getMapLayers(),_=a.length-2;_>=0;_--){var b=a[_].id;if(typeof b=="string"&&b.indexOf("water")===0){for(var h=_+1;h<a.length;h++)if(typeof(b=a[h].id)=="string"&&b.indexOf("plotly-")===-1)return b}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(q,C,e){var M=e(82004).convert,k=e(82004).convertOnSelect,a=e(77734).traceLayerPrefix;function _(h,o){this.type="choroplethmapbox",this.subplot=h,this.uid=o,this.sourceId="source-"+o,this.layerList=[["fill",a+o+"-fill"],["line",a+o+"-line"]],this.below=null}var b=_.prototype;b.update=function(h){this._update(M(h)),h[0].trace._glTrace=this},b.updateOnSelect=function(h){this._update(k(h))},b._update=function(h){var o=this.subplot,t=this.layerList,i=o.belowLookup["trace-"+this.uid];o.map.getSource(this.sourceId).setData(h.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(h,i),this.below=i);for(var n=0;n<t.length;n++){var r=t[n],l=r[0],s=r[1],u=h[l];o.setOptions(s,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&o.setOptions(s,"setPaintProperty",u.paint)}},b._addLayers=function(h,o){for(var t=this.subplot,i=this.layerList,n=this.sourceId,r=0;r<i.length;r++){var l=i[r],s=l[0],u=h[s];t.addLayer({type:s,id:l[1],source:n,layout:u.layout,paint:u.paint},o)}},b._removeLayers=function(){for(var h=this.subplot.map,o=this.layerList,t=o.length-1;t>=0;t--)h.removeLayer(o[t][1])},b.dispose=function(){var h=this.subplot.map;this._removeLayers(),h.removeSource(this.sourceId)},q.exports=function(h,o){var t=o[0].trace,i=new _(h,t.uid),n=i.sourceId,r=M(o),l=i.below=h.belowLookup["trace-"+t.uid];return h.map.addSource(n,{type:"geojson",data:r.geojson}),i._addLayers(r,l),o[0].trace._glTrace=i,i}},12674:function(q,C,e){var M=e(50693),k=e(12663).axisHoverFormat,a=e(5386).fF,_=e(2418),b=e(9012),h=e(1426).extendFlat,o={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["norm"]}),uhoverformat:k("u",1),vhoverformat:k("v",1),whoverformat:k("w",1),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),showlegend:h({},b.showlegend,{dflt:!1})};h(o,M("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){o[t]=_[t]}),o.hoverinfo=h({},b.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),o.transforms=void 0,q.exports=o},31371:function(q,C,e){var M=e(78803);q.exports=function(k,a){for(var _=a.u,b=a.v,h=a.w,o=Math.min(a.x.length,a.y.length,a.z.length,_.length,b.length,h.length),t=-1/0,i=1/0,n=0;n<o;n++){var r=_[n],l=b[n],s=h[n],u=Math.sqrt(r*r+l*l+s*s);t=Math.max(t,u),i=Math.min(i,u)}a._len=o,a._normMax=t,M(k,a,{vals:[i,t],containerStr:"",cLetter:"c"})}},5453:function(q,C,e){var M=e(9330).gl_cone3d,k=e(9330).gl_cone3d.createConeMesh,a=e(71828).simpleMap,_=e(81697).parseColorScale,b=e(21081).extractOpts,h=e(71828).isArrayOrTypedArray,o=e(90060);function t(u,p){this.scene=u,this.uid=p,this.mesh=null,this.data=null}var i=t.prototype;i.handlePick=function(u){if(u.object===this.mesh){var p=u.index=u.data.index,c=this.data.x[p],x=this.data.y[p],g=this.data.z[p],d=this.data.u[p],v=this.data.v[p],y=this.data.w[p];u.traceCoordinate=[c,x,g,d,v,y,Math.sqrt(d*d+v*v+y*y)];var m=this.data.hovertext||this.data.text;return h(m)&&m[p]!==void 0?u.textLabel=m[p]:m&&(u.textLabel=m),!0}};var n={xaxis:0,yaxis:1,zaxis:2},r={tip:1,tail:0,cm:.25,center:.5},l={tip:1,tail:1,cm:.75,center:.5};function s(u,p){var c=u.fullSceneLayout,x=u.dataScale,g={};function d(w,f){var S=c[f],T=x[n[f]];return a(w,function(E){return S.d2l(E)*T})}g.vectors=o(d(p.u,"xaxis"),d(p.v,"yaxis"),d(p.w,"zaxis"),p._len),g.positions=o(d(p.x,"xaxis"),d(p.y,"yaxis"),d(p.z,"zaxis"),p._len);var v=b(p);g.colormap=_(p),g.vertexIntensityBounds=[v.min/p._normMax,v.max/p._normMax],g.coneOffset=r[p.anchor],p.sizemode==="scaled"?g.coneSize=p.sizeref||.5:g.coneSize=p.sizeref&&p._normMax?p.sizeref/p._normMax:.5;var y=M(g),m=p.lightposition;return y.lightPosition=[m.x,m.y,m.z],y.ambient=p.lighting.ambient,y.diffuse=p.lighting.diffuse,y.specular=p.lighting.specular,y.roughness=p.lighting.roughness,y.fresnel=p.lighting.fresnel,y.opacity=p.opacity,p._pad=l[p.anchor]*y.vectorScale*y.coneScale*p._normMax,y}i.update=function(u){this.data=u;var p=s(this.scene,u);this.mesh.update(p)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},q.exports=function(u,p){var c=u.glplot.gl,x=s(u,p),g=k(c,x),d=new t(u,p.uid);return d.mesh=g,d.data=p,g._trace=d,u.glplot.add(g),d}},91750:function(q,C,e){var M=e(71828),k=e(1586),a=e(12674);q.exports=function(_,b,h,o){function t(p,c){return M.coerce(_,b,a,p,c)}var i=t("u"),n=t("v"),r=t("w"),l=t("x"),s=t("y"),u=t("z");i&&i.length&&n&&n.length&&r&&r.length&&l&&l.length&&s&&s.length&&u&&u.length?(t("sizeref"),t("sizemode"),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),k(_,b,o,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),b._length=null):b.visible=!1}},98128:function(q,C,e){q.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(M,k){return M.norm=k.traceCoordinate[6],M},meta:{}}},70600:function(q,C,e){var M=e(21606),k=e(82196),a=e(12663),_=a.axisHoverFormat,b=a.descriptionOnlyNumbers,h=e(50693),o=e(79952).P,t=e(41940),i=e(1426).extendFlat,n=e(74808),r=n.COMPARISON_OPS2,l=n.INTERVAL_OPS,s=k.line;q.exports=i({z:M.z,x:M.x,x0:M.x0,dx:M.dx,y:M.y,y0:M.y0,dy:M.dy,xperiod:M.xperiod,yperiod:M.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:M.xperiodalignment,yperiodalignment:M.yperiodalignment,text:M.text,hovertext:M.hovertext,transpose:M.transpose,xtype:M.xtype,ytype:M.ytype,xhoverformat:_("x"),yhoverformat:_("y"),zhoverformat:_("z",1),hovertemplate:M.hovertemplate,texttemplate:i({},M.texttemplate,{}),textfont:i({},M.textfont,{}),hoverongaps:M.hoverongaps,connectgaps:i({},M.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:b("contour label")},operation:{valType:"enumerated",values:[].concat(r).concat(l),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:i({},s.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:o,smoothing:i({},s.smoothing,{}),editType:"plot"}},h("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(q,C,e){var M=e(21081),k=e(90757),a=e(18670),_=e(53572);q.exports=function(b,h){var o=k(b,h),t=o[0].z;a(h,t);var i,n=h.contours,r=M.extractOpts(h);if(n.coloring==="heatmap"&&r.auto&&h.autocontour===!1){var l=n.start,s=_(n),u=n.size||1,p=Math.floor((s-l)/u)+1;isFinite(u)||(u=1,p=1);var c=l-u/2;i=[c,c+p*u]}else i=t;return M.calc(b,h,{vals:i,cLetter:"z"}),o}},20083:function(q){q.exports=function(C,e){var M,k=C[0],a=k.z;switch(e.type){case"levels":var _=Math.min(a[0][0],a[0][1]);for(M=0;M<C.length;M++){var b=C[M];b.prefixBoundary=!b.edgepaths.length&&(_>b.level||b.starts.length&&_===b.level)}break;case"constraint":if(k.prefixBoundary=!1,k.edgepaths.length)return;var h=k.x.length,o=k.y.length,t=-1/0,i=1/0;for(M=0;M<o;M++)i=Math.min(i,a[M][0]),i=Math.min(i,a[M][h-1]),t=Math.max(t,a[M][0]),t=Math.max(t,a[M][h-1]);for(M=1;M<h-1;M++)i=Math.min(i,a[0][M]),i=Math.min(i,a[o-1][M]),t=Math.max(t,a[0][M]),t=Math.max(t,a[o-1][M]);var n,r,l=e.value;switch(e._operation){case">":l>t&&(k.prefixBoundary=!0);break;case"<":(l<i||k.starts.length&&l===i)&&(k.prefixBoundary=!0);break;case"[]":n=Math.min(l[0],l[1]),((r=Math.max(l[0],l[1]))<i||n>t||k.starts.length&&r===i)&&(k.prefixBoundary=!0);break;case"][":n=Math.min(l[0],l[1]),r=Math.max(l[0],l[1]),n<i&&r>t&&(k.prefixBoundary=!0)}}}},90654:function(q,C,e){var M=e(21081),k=e(86068),a=e(53572);q.exports={min:"zmin",max:"zmax",calc:function(_,b,h){var o=b.contours,t=b.line,i=o.size||1,n=o.coloring,r=k(b,{isColorbar:!0});if(n==="heatmap"){var l=M.extractOpts(b);h._fillgradient=l.reversescale?M.flipScale(l.colorscale):l.colorscale,h._zrange=[l.min,l.max]}else n==="fill"&&(h._fillcolor=r);h._line={color:n==="lines"?r:t.color,width:o.showlines!==!1?t.width:0,dash:t.dash},h._levels={start:o.start,end:a(o),size:i}}}},36914:function(q){q.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(q,C,e){var M=e(92770),k=e(14523),a=e(7901),_=a.addOpacity,b=a.opacity,h=e(74808),o=e(71828).isArrayOrTypedArray,t=h.CONSTRAINT_REDUCTION,i=h.COMPARISON_OPS2;q.exports=function(n,r,l,s,u,p){var c,x,g,d=r.contours,v=l("contours.operation");d._operation=t[v],function(y,m){var w;i.indexOf(m.operation)===-1?(y("contours.value",[0,1]),o(m.value)?m.value.length>2?m.value=m.value.slice(2):m.length===0?m.value=[0,1]:m.length<2?(w=parseFloat(m.value[0]),m.value=[w,w+1]):m.value=[parseFloat(m.value[0]),parseFloat(m.value[1])]:M(m.value)&&(w=parseFloat(m.value),m.value=[w,w+1])):(y("contours.value",0),M(m.value)||(o(m.value)?m.value=parseFloat(m.value[0]):m.value=0))}(l,d),v==="="?c=d.showlines=!0:(c=l("contours.showlines"),g=l("fillcolor",_((n.line||{}).color||u,.5))),c&&(x=l("line.color",g&&b(g)?_(r.fillcolor,1):u),l("line.width",2),l("line.dash")),l("line.smoothing"),k(l,s,x,p)}},64237:function(q,C,e){var M=e(74808),k=e(92770);function a(h,o){var t,i=Array.isArray(o);function n(r){return k(r)?+r:null}return M.COMPARISON_OPS2.indexOf(h)!==-1?t=n(i?o[0]:o):M.INTERVAL_OPS.indexOf(h)!==-1?t=i?[n(o[0]),n(o[1])]:[n(o),n(o)]:M.SET_OPS.indexOf(h)!==-1&&(t=i?o.map(n):[n(o)]),t}function _(h){return function(o){o=a(h,o);var t=Math.min(o[0],o[1]),i=Math.max(o[0],o[1]);return{start:t,end:i,size:i-t}}}function b(h){return function(o){return{start:o=a(h,o),end:1/0,size:1/0}}}q.exports={"[]":_("[]"),"][":_("]["),">":b(">"),"<":b("<"),"=":b("=")}},67217:function(q){q.exports=function(C,e,M,k){var a=k("contours.start"),_=k("contours.end"),b=a===!1||_===!1,h=M("contours.size");!(b?e.autocontour=!0:M("autocontour",!1))&&h||M("ncontours")}},84857:function(q,C,e){var M=e(71828);function k(a){return M.extendFlat({},a,{edgepaths:M.extendDeep([],a.edgepaths),paths:M.extendDeep([],a.paths),starts:M.extendDeep([],a.starts)})}q.exports=function(a,_){var b,h,o,t=function(r){return r.reverse()},i=function(r){return r};switch(_){case"=":case"<":return a;case">":for(a.length!==1&&M.warn("Contour data invalid for the specified inequality operation."),h=a[0],b=0;b<h.edgepaths.length;b++)h.edgepaths[b]=t(h.edgepaths[b]);for(b=0;b<h.paths.length;b++)h.paths[b]=t(h.paths[b]);for(b=0;b<h.starts.length;b++)h.starts[b]=t(h.starts[b]);return a;case"][":var n=t;t=i,i=n;case"[]":for(a.length!==2&&M.warn("Contour data invalid for the specified inequality range operation."),h=k(a[0]),o=k(a[1]),b=0;b<h.edgepaths.length;b++)h.edgepaths[b]=t(h.edgepaths[b]);for(b=0;b<h.paths.length;b++)h.paths[b]=t(h.paths[b]);for(b=0;b<h.starts.length;b++)h.starts[b]=t(h.starts[b]);for(;o.edgepaths.length;)h.edgepaths.push(i(o.edgepaths.shift()));for(;o.paths.length;)h.paths.push(i(o.paths.shift()));for(;o.starts.length;)h.starts.push(i(o.starts.shift()));return[h]}}},13031:function(q,C,e){var M=e(71828),k=e(67684),a=e(73927),_=e(83179),b=e(67217),h=e(8724),o=e(58623),t=e(70600);q.exports=function(i,n,r,l){function s(p,c){return M.coerce(i,n,t,p,c)}if(k(i,n,s,l)){a(i,n,l,s),s("xhoverformat"),s("yhoverformat"),s("text"),s("hovertext"),s("hoverongaps"),s("hovertemplate");var u=s("contours.type")==="constraint";s("connectgaps",M.isArray1D(n.z)),u?_(i,n,s,l,r):(b(i,n,s,function(p){return M.coerce2(i,n,t,p)}),h(i,n,s,l)),n.contours&&n.contours.coloring==="heatmap"&&o(s,l)}else n.visible=!1}},87558:function(q,C,e){var M=e(71828),k=e(64237),a=e(53572);q.exports=function(_,b,h){for(var o=_.type==="constraint"?k[_._operation](_.value):_,t=o.size,i=[],n=a(o),r=h.trace._carpetTrace,l=r?{xaxis:r.aaxis,yaxis:r.baxis,x:h.a,y:h.b}:{xaxis:b.xaxis,yaxis:b.yaxis,x:h.x,y:h.y},s=o.start;s<n;s+=t)if(i.push(M.extendFlat({level:s,crossings:{},starts:[],edgepaths:[],paths:[],z:h.z,smoothing:h.trace.line.smoothing},l)),i.length>1e3){M.warn("Too many contours, clipping at 1000",_);break}return i}},53572:function(q){q.exports=function(C){return C.end+C.size/1e6}},81696:function(q,C,e){var M=e(71828),k=e(36914);function a(h,o,t,i){return Math.abs(h[0]-o[0])<t&&Math.abs(h[1]-o[1])<i}function _(h,o,t,i,n){var r,l=o.join(","),s=h.crossings[l],u=function(re,ie,ae){var ue=0,pe=0;return re>20&&ie?re===208||re===1114?ue=ae[0]===0?1:-1:pe=ae[1]===0?1:-1:k.BOTTOMSTART.indexOf(re)!==-1?pe=1:k.LEFTSTART.indexOf(re)!==-1?ue=1:k.TOPSTART.indexOf(re)!==-1?pe=-1:ue=-1,[ue,pe]}(s,t,o),p=[b(h,o,[-u[0],-u[1]])],c=h.z.length,x=h.z[0].length,g=o.slice(),d=u.slice();for(r=0;r<1e4;r++){if(s>20?(s=k.CHOOSESADDLE[s][(u[0]||u[1])<0?0:1],h.crossings[l]=k.SADDLEREMAINDER[s]):delete h.crossings[l],!(u=k.NEWDELTA[s])){M.log("Found bad marching index:",s,o,h.level);break}p.push(b(h,o,u)),o[0]+=u[0],o[1]+=u[1],l=o.join(","),a(p[p.length-1],p[p.length-2],i,n)&&p.pop();var v=u[0]&&(o[0]<0||o[0]>x-2)||u[1]&&(o[1]<0||o[1]>c-2);if(o[0]===g[0]&&o[1]===g[1]&&u[0]===d[0]&&u[1]===d[1]||t&&v)break;s=h.crossings[l]}r===1e4&&M.log("Infinite loop in contour?");var y,m,w,f,S,T,E,O,P,I,z,j,R,N,Z,F=a(p[0],p[p.length-1],i,n),U=0,V=.2*h.smoothing,te=[],Q=0;for(r=1;r<p.length;r++)j=p[r],R=p[r-1],N=j[2]-R[2],Z=j[3]-R[3],U+=E=Math.sqrt(N*N+Z*Z),te.push(E);var J=U/te.length*V;function X(re){return p[re%p.length]}for(r=p.length-2;r>=Q;r--)if((y=te[r])<J){for(w=0,m=r-1;m>=Q&&y+te[m]<J;m--)y+=te[m];if(F&&r===p.length-2)for(w=0;w<m&&y+te[w]<J;w++)y+=te[w];S=r-m+w+1,T=Math.floor((r+m+w+2)/2),f=F||r!==p.length-2?F||m!==-1?S%2?X(T):[(X(T)[0]+X(T+1)[0])/2,(X(T)[1]+X(T+1)[1])/2]:p[0]:p[p.length-1],p.splice(m+1,r-m+1,f),r=m+1,w&&(Q=w),F&&(r===p.length-2?p[w]=p[p.length-1]:r===0&&(p[p.length-1]=p[0]))}for(p.splice(0,Q),r=0;r<p.length;r++)p[r].length=2;if(!(p.length<2))if(F)p.pop(),h.paths.push(p);else{t||M.log("Unclosed interior contour?",h.level,g.join(","),p.join("L"));var K=!1;for(O=0;O<h.edgepaths.length;O++)if(I=h.edgepaths[O],!K&&a(I[0],p[p.length-1],i,n)){p.pop(),K=!0;var ee=!1;for(P=0;P<h.edgepaths.length;P++)if(a((z=h.edgepaths[P])[z.length-1],p[0],i,n)){ee=!0,p.shift(),h.edgepaths.splice(O,1),P===O?h.paths.push(p.concat(z)):(P>O&&P--,h.edgepaths[P]=z.concat(p,I));break}ee||(h.edgepaths[O]=p.concat(I))}for(O=0;O<h.edgepaths.length&&!K;O++)a((I=h.edgepaths[O])[I.length-1],p[0],i,n)&&(p.shift(),h.edgepaths[O]=I.concat(p),K=!0);K||h.edgepaths.push(p)}}function b(h,o,t){var i=o[0]+Math.max(t[0],0),n=o[1]+Math.max(t[1],0),r=h.z[n][i],l=h.xaxis,s=h.yaxis;if(t[1]){var u=(h.level-r)/(h.z[n][i+1]-r),p=(u!==1?(1-u)*l.c2l(h.x[i]):0)+(u!==0?u*l.c2l(h.x[i+1]):0);return[l.c2p(l.l2c(p),!0),s.c2p(h.y[n],!0),i+u,n]}var c=(h.level-r)/(h.z[n+1][i]-r),x=(c!==1?(1-c)*s.c2l(h.y[n]):0)+(c!==0?c*s.c2l(h.y[n+1]):0);return[l.c2p(h.x[i],!0),s.c2p(s.l2c(x),!0),i,n+c]}q.exports=function(h,o,t){var i,n,r,l;for(o=o||.01,t=t||.01,n=0;n<h.length;n++){for(r=h[n],l=0;l<r.starts.length;l++)_(r,r.starts[l],"edge",o,t);for(i=0;Object.keys(r.crossings).length&&i<1e4;)i++,_(r,Object.keys(r.crossings)[0].split(",").map(Number),void 0,o,t);i===1e4&&M.log("Infinite loop in contour?")}}},52421:function(q,C,e){var M=e(7901),k=e(46248);q.exports=function(a,_,b,h,o){o||(o={}),o.isContour=!0;var t=k(a,_,b,h,o);return t&&t.forEach(function(i){var n=i.trace;n.contours.type==="constraint"&&(n.fillcolor&&M.opacity(n.fillcolor)?i.color=M.addOpacity(n.fillcolor,1):n.contours.showlines&&M.opacity(n.line.color)&&(i.color=M.addOpacity(n.line.color,1)))}),t}},99442:function(q,C,e){q.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(q,C,e){var M=e(71828);q.exports=function(k,a,_,b){if(b||(b={}),k("contours.showlabels")){var h=a.font;M.coerceFont(k,"contours.labelfont",{family:h.family,size:h.size,color:_}),k("contours.labelformat")}b.hasHover!==!1&&k("zhoverformat")}},86068:function(q,C,e){var M=e(39898),k=e(21081),a=e(53572);q.exports=function(_){var b=_.contours,h=b.start,o=a(b),t=b.size||1,i=Math.floor((o-h)/t)+1,n=b.coloring==="lines"?0:1,r=k.extractOpts(_);isFinite(t)||(t=1,i=1);var l,s,u=r.reversescale?k.flipScale(r.colorscale):r.colorscale,p=u.length,c=new Array(p),x=new Array(p),g=r.min,d=r.max;if(b.coloring==="heatmap"){for(s=0;s<p;s++)l=u[s],c[s]=l[0]*(d-g)+g,x[s]=l[1];var v=M.extent([g,d,b.start,b.start+t*(i-1)]),y=v[g<d?0:1],m=v[g<d?1:0];y!==g&&(c.splice(0,0,y),x.splice(0,0,x[0])),m!==d&&(c.push(m),x.push(x[x.length-1]))}else{var w=_._input&&typeof _._input.zmin=="number"&&typeof _._input.zmax=="number";for(w&&(h<=g||o>=d)&&(h<=g&&(h=g),o>=d&&(o=d),i=Math.floor((o-h)/t)+1,n=0),s=0;s<p;s++)l=u[s],c[s]=(l[0]*(i+n-1)-n/2)*t+h,x[s]=l[1];(w||_.autocontour)&&(c[0]>g&&(c.unshift(g),x.unshift(x[0])),c[c.length-1]<d&&(c.push(d),x.push(x[x.length-1])))}return k.makeColorScaleFunc({domain:c,range:x},{noNumericCheck:!0})}},87678:function(q,C,e){var M=e(36914);function k(a,_){var b=(_[0][0]>a?0:1)+(_[0][1]>a?0:2)+(_[1][1]>a?0:4)+(_[1][0]>a?0:8);return b===5||b===10?a>(_[0][0]+_[0][1]+_[1][0]+_[1][1])/4?b===5?713:1114:b===5?104:208:b===15?0:b}q.exports=function(a){var _,b,h,o,t,i,n,r,l,s=a[0].z,u=s.length,p=s[0].length,c=u===2||p===2;for(b=0;b<u-1;b++)for(o=[],b===0&&(o=o.concat(M.BOTTOMSTART)),b===u-2&&(o=o.concat(M.TOPSTART)),_=0;_<p-1;_++)for(h=o.slice(),_===0&&(h=h.concat(M.LEFTSTART)),_===p-2&&(h=h.concat(M.RIGHTSTART)),t=_+","+b,i=[[s[b][_],s[b][_+1]],[s[b+1][_],s[b+1][_+1]]],l=0;l<a.length;l++)(n=k((r=a[l]).level,i))&&(r.crossings[t]=n,h.indexOf(n)!==-1&&(r.starts.push([_,b]),c&&h.indexOf(n,h.indexOf(n)+1)!==-1&&r.starts.push([_,b])))}},29854:function(q,C,e){var M=e(39898),k=e(71828),a=e(91424),_=e(21081),b=e(63893),h=e(89298),o=e(21994),t=e(50347),i=e(87678),n=e(81696),r=e(87558),l=e(84857),s=e(20083),u=e(36914),p=u.LABELOPTIMIZER;function c(d,v){var y,m,w,f,S,T,E,O="",P=0,I=d.edgepaths.map(function(F,U){return U}),z=!0;function j(F){return Math.abs(F[1]-v[2][1])<.01}function R(F){return Math.abs(F[0]-v[0][0])<.01}function N(F){return Math.abs(F[0]-v[2][0])<.01}for(;I.length;){for(T=a.smoothopen(d.edgepaths[P],d.smoothing),O+=z?T:T.replace(/^M/,"L"),I.splice(I.indexOf(P),1),y=d.edgepaths[P][d.edgepaths[P].length-1],f=-1,w=0;w<4;w++){if(!y){k.log("Missing end?",P,d);break}for(E=y,Math.abs(E[1]-v[0][1])<.01&&!N(y)?m=v[1]:R(y)?m=v[0]:j(y)?m=v[3]:N(y)&&(m=v[2]),S=0;S<d.edgepaths.length;S++){var Z=d.edgepaths[S][0];Math.abs(y[0]-m[0])<.01?Math.abs(y[0]-Z[0])<.01&&(Z[1]-y[1])*(m[1]-Z[1])>=0&&(m=Z,f=S):Math.abs(y[1]-m[1])<.01?Math.abs(y[1]-Z[1])<.01&&(Z[0]-y[0])*(m[0]-Z[0])>=0&&(m=Z,f=S):k.log("endpt to newendpt is not vert. or horz.",y,m,Z)}if(y=m,f>=0)break;O+="L"+m}if(f===d.edgepaths.length){k.log("unclosed perimeter path");break}P=f,(z=I.indexOf(P)===-1)&&(P=I[0],O+="Z")}for(P=0;P<d.paths.length;P++)O+=a.smoothclosed(d.paths[P],d.smoothing);return O}function x(d,v,y,m){var w=v.width/2,f=v.height/2,S=d.x,T=d.y,E=d.theta,O=Math.cos(E)*w,P=Math.sin(E)*w,I=(S>m.center?m.right-S:S-m.left)/(O+Math.abs(Math.sin(E)*f)),z=(T>m.middle?m.bottom-T:T-m.top)/(Math.abs(P)+Math.cos(E)*f);if(I<1||z<1)return 1/0;var j=p.EDGECOST*(1/(I-1)+1/(z-1));j+=p.ANGLECOST*E*E;for(var R=S-O,N=T-P,Z=S+O,F=T+P,U=0;U<y.length;U++){var V=y[U],te=Math.cos(V.theta)*V.width/2,Q=Math.sin(V.theta)*V.width/2,J=2*k.segmentDistance(R,N,Z,F,V.x-te,V.y-Q,V.x+te,V.y+Q)/(v.height+V.height),X=V.level===v.level,K=X?p.SAMELEVELDISTANCE:1;if(J<=K)return 1/0;j+=p.NEIGHBORCOST*(X?p.SAMELEVELFACTOR:1)/(J-K)}return j}function g(d){var v,y,m=d.trace._emptypoints,w=[],f=d.z.length,S=d.z[0].length,T=[];for(v=0;v<S;v++)T.push(1);for(v=0;v<f;v++)w.push(T.slice());for(v=0;v<m.length;v++)w[(y=m[v])[0]][y[1]]=0;return d.zmask=w,w}C.plot=function(d,v,y,m){var w=v.xaxis,f=v.yaxis;k.makeTraceGroups(m,y,"contour").each(function(S){var T=M.select(this),E=S[0],O=E.trace,P=E.x,I=E.y,z=O.contours,j=r(z,v,E),R=k.ensureSingle(T,"g","heatmapcoloring"),N=[];z.coloring==="heatmap"&&(N=[S]),t(d,v,N,R),i(j),n(j);var Z=w.c2p(P[0],!0),F=w.c2p(P[P.length-1],!0),U=f.c2p(I[0],!0),V=f.c2p(I[I.length-1],!0),te=[[Z,V],[F,V],[F,U],[Z,U]],Q=j;z.type==="constraint"&&(Q=l(j,z._operation)),function(J,X,K){var ee=k.ensureSingle(J,"g","contourbg").selectAll("path").data(K.coloring==="fill"?[0]:[]);ee.enter().append("path"),ee.exit().remove(),ee.attr("d","M"+X.join("L")+"Z").style("stroke","none")}(T,te,z),function(J,X,K,ee){var re=ee.coloring==="fill"||ee.type==="constraint"&&ee._operation!=="=",ie="M"+K.join("L")+"Z";re&&s(X,ee);var ae=k.ensureSingle(J,"g","contourfill").selectAll("path").data(re?X:[]);ae.enter().append("path"),ae.exit().remove(),ae.each(function(ue){var pe=(ue.prefixBoundary?ie:"")+c(ue,K);pe?M.select(this).attr("d",pe).style("stroke","none"):M.select(this).remove()})}(T,Q,te,z),function(J,X,K,ee,re){var ie=K._context.staticPlot,ae=k.ensureSingle(J,"g","contourlines"),ue=re.showlines!==!1,pe=re.showlabels,de=ue&&pe,ye=C.createLines(ae,ue||pe,X,ie),be=C.createLineClip(ae,de,K,ee.trace.uid),me=J.selectAll("g.contourlabels").data(pe?[0]:[]);if(me.exit().remove(),me.enter().append("g").classed("contourlabels",!0),pe){var Ee=[],Te=[];k.clearLocationCache();var we=C.labelFormatter(K,ee),oe=a.tester.append("text").attr("data-notex",1).call(a.font,re.labelfont),se=X[0].xaxis,he=X[0].yaxis,Se=se._length,_e=he._length,Ae=se.range,Ce=he.range,Re=k.aggNums(Math.min,null,ee.x),fe=k.aggNums(Math.max,null,ee.x),xe=k.aggNums(Math.min,null,ee.y),ke=k.aggNums(Math.max,null,ee.y),Ie=Math.max(se.c2p(Re,!0),0),Fe=Math.min(se.c2p(fe,!0),Se),ze=Math.max(he.c2p(ke,!0),0),qe=Math.min(he.c2p(xe,!0),_e),Ye={};Ae[0]<Ae[1]?(Ye.left=Ie,Ye.right=Fe):(Ye.left=Fe,Ye.right=Ie),Ce[0]<Ce[1]?(Ye.top=ze,Ye.bottom=qe):(Ye.top=qe,Ye.bottom=ze),Ye.middle=(Ye.top+Ye.bottom)/2,Ye.center=(Ye.left+Ye.right)/2,Ee.push([[Ye.left,Ye.top],[Ye.right,Ye.top],[Ye.right,Ye.bottom],[Ye.left,Ye.bottom]]);var Qe=Math.sqrt(Se*Se+_e*_e),ft=u.LABELDISTANCE*Qe/Math.max(1,X.length/u.LABELINCREASE);ye.each(function(ht){var mt=C.calcTextOpts(ht.level,we,oe,K);M.select(this).selectAll("path").each(function(){var Mt=k.getVisibleSegment(this,Ye,mt.height/2);if(Mt&&!(Mt.len<(mt.width+mt.height)*u.LABELMIN))for(var _t=Math.min(Math.ceil(Mt.len/ft),u.LABELMAX),it=0;it<_t;it++){var st=C.findBestTextLocation(this,Mt,mt,Te,Ye);if(!st)break;C.addLabelData(st,mt,Te,Ee)}})}),oe.remove(),C.drawLabels(me,Te,K,be,de?Ee:null)}pe&&!ue&&ye.remove()}(T,j,d,E,z),function(J,X,K,ee,re){var ie=ee.trace,ae=K._fullLayout._clips,ue="clip"+ie.uid,pe=ae.selectAll("#"+ue).data(ie.connectgaps?[]:[0]);if(pe.enter().append("clipPath").classed("contourclip",!0).attr("id",ue),pe.exit().remove(),ie.connectgaps===!1){var de={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:X.xaxis,yaxis:X.yaxis,x:ee.x,y:ee.y,z:g(ee),smoothing:0};i([de]),n([de]),s([de],{type:"levels"}),k.ensureSingle(pe,"path","").attr("d",(de.prefixBoundary?"M"+re.join("L")+"Z":"")+c(de,re))}else ue=null;a.setClipUrl(J,ue,K)}(T,v,d,E,te)})},C.createLines=function(d,v,y,m){var w=y[0].smoothing,f=d.selectAll("g.contourlevel").data(v?y:[]);if(f.exit().remove(),f.enter().append("g").classed("contourlevel",!0),v){var S=f.selectAll("path.openline").data(function(E){return E.pedgepaths||E.edgepaths});S.exit().remove(),S.enter().append("path").classed("openline",!0),S.attr("d",function(E){return a.smoothopen(E,w)}).style("stroke-miterlimit",1).style("vector-effect",m?"none":"non-scaling-stroke");var T=f.selectAll("path.closedline").data(function(E){return E.ppaths||E.paths});T.exit().remove(),T.enter().append("path").classed("closedline",!0),T.attr("d",function(E){return a.smoothclosed(E,w)}).style("stroke-miterlimit",1).style("vector-effect",m?"none":"non-scaling-stroke")}return f},C.createLineClip=function(d,v,y,m){var w=v?"clipline"+m:null,f=y._fullLayout._clips.selectAll("#"+w).data(v?[0]:[]);return f.exit().remove(),f.enter().append("clipPath").classed("contourlineclip",!0).attr("id",w),a.setClipUrl(d,w,y),f},C.labelFormatter=function(d,v){var y=d._fullLayout,m=v.trace,w=m.contours,f={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(w.labelformat)f.tickformat=w.labelformat,o(f,y);else{var S=_.extractOpts(m);if(S&&S.colorbar&&S.colorbar._axis)f=S.colorbar._axis;else{if(w.type==="constraint"){var T=w.value;k.isArrayOrTypedArray(T)?f.range=[T[0],T[T.length-1]]:f.range=[T,T]}else f.range=[w.start,w.end],f.nticks=(w.end-w.start)/w.size;f.range[0]===f.range[1]&&(f.range[1]+=f.range[0]||1),f.nticks||(f.nticks=1e3),o(f,y),h.prepTicks(f),f._tmin=null,f._tmax=null}}return function(E){return h.tickText(f,E).text}},C.calcTextOpts=function(d,v,y,m){var w=v(d);y.text(w).call(b.convertToTspans,m);var f=y.node(),S=a.bBox(f,!0);return{text:w,width:S.width,height:S.height,fontSize:+f.style["font-size"].replace("px",""),level:d,dy:(S.top+S.bottom)/2}},C.findBestTextLocation=function(d,v,y,m,w){var f,S,T,E,O,P=y.width;v.isClosed?(S=v.len/p.INITIALSEARCHPOINTS,f=v.min+S/2,T=v.max):(S=(v.len-P)/(p.INITIALSEARCHPOINTS+1),f=v.min+S+P/2,T=v.max-(S+P)/2);for(var I=1/0,z=0;z<p.ITERATIONS;z++){for(var j=f;j<T;j+=S){var R=k.getTextLocation(d,v.total,j,P),N=x(R,y,m,w);N<I&&(I=N,O=R,E=j)}if(I>2*p.MAXCOST)break;z&&(S/=2),T=(f=E-S/2)+1.5*S}if(I<=p.MAXCOST)return O},C.addLabelData=function(d,v,y,m){var w=v.fontSize,f=v.width+w/3,S=Math.max(0,v.height-w/3),T=d.x,E=d.y,O=d.theta,P=Math.sin(O),I=Math.cos(O),z=function(R,N){return[T+R*I-N*P,E+R*P+N*I]},j=[z(-f/2,-S/2),z(-f/2,S/2),z(f/2,S/2),z(f/2,-S/2)];y.push({text:v.text,x:T,y:E,dy:v.dy,theta:O,level:v.level,width:f,height:S}),m.push(j)},C.drawLabels=function(d,v,y,m,w){var f=d.selectAll("text").data(v,function(E){return E.text+","+E.x+","+E.y+","+E.theta});if(f.exit().remove(),f.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(E){var O=E.x+Math.sin(E.theta)*E.dy,P=E.y-Math.cos(E.theta)*E.dy;M.select(this).text(E.text).attr({x:O,y:P,transform:"rotate("+180*E.theta/Math.PI+" "+O+" "+P+")"}).call(b.convertToTspans,y)}),w){for(var S="",T=0;T<w.length;T++)S+="M"+w[T].join("L")+"Z";k.ensureSingle(m,"path","").attr("d",S)}}},18670:function(q,C,e){var M=e(89298),k=e(71828);function a(_,b,h){var o={type:"linear",range:[_,b]};return M.autoTicks(o,(b-_)/(h||15)),o}q.exports=function(_,b){var h=_.contours;if(_.autocontour){var o=_.zmin,t=_.zmax;(_.zauto||o===void 0)&&(o=k.aggNums(Math.min,null,b)),(_.zauto||t===void 0)&&(t=k.aggNums(Math.max,null,b));var i=a(o,t,_.ncontours);h.size=i.dtick,h.start=M.tickFirst(i),i.range.reverse(),h.end=M.tickFirst(i),h.start===o&&(h.start+=h.size),h.end===t&&(h.end-=h.size),h.start>h.end&&(h.start=h.end=(h.start+h.end)/2),_._input.contours||(_._input.contours={}),k.extendFlat(_._input.contours,{start:h.start,end:h.end,size:h.size}),_._input.autocontour=!0}else if(h.type!=="constraint"){var n,r=h.start,l=h.end,s=_._input.contours;r>l&&(h.start=s.start=l,l=h.end=s.end=r,r=h.start),h.size>0||(n=r===l?1:a(r,l,_.ncontours).dtick,s.size=h.size=n)}}},84426:function(q,C,e){var M=e(39898),k=e(91424),a=e(70035),_=e(86068);q.exports=function(b){var h=M.select(b).selectAll("g.contour");h.style("opacity",function(o){return o[0].trace.opacity}),h.each(function(o){var t=M.select(this),i=o[0].trace,n=i.contours,r=i.line,l=n.size||1,s=n.start,u=n.type==="constraint",p=!u&&n.coloring==="lines",c=!u&&n.coloring==="fill",x=p||c?_(i):null;t.selectAll("g.contourlevel").each(function(v){M.select(this).selectAll("path").call(k.lineGroupStyle,r.width,p?x(v.level):r.color,r.dash)});var g=n.labelfont;if(t.selectAll("g.contourlabels text").each(function(v){k.font(M.select(this),{family:g.family,size:g.size,color:g.color||(p?x(v.level):r.color)})}),u)t.selectAll("g.contourfill path").style("fill",i.fillcolor);else if(c){var d;t.selectAll("g.contourfill path").style("fill",function(v){return d===void 0&&(d=v.level),x(v.level+.5*l)}),d===void 0&&(d=s),t.selectAll("g.contourbg path").style("fill",x(d-.5*l))}}),a(b)}},8724:function(q,C,e){var M=e(1586),k=e(14523);q.exports=function(a,_,b,h,o){var t,i=b("contours.coloring"),n="";i==="fill"&&(t=b("contours.showlines")),t!==!1&&(i!=="lines"&&(n=b("line.color","#000")),b("line.width",.5),b("line.dash")),i!=="none"&&(a.showlegend!==!0&&(_.showlegend=!1),_._dfltShowLegend=!1,M(a,_,h,b,{prefix:"",cLetter:"z"})),b("line.smoothing"),k(b,h,n,o)}},88085:function(q,C,e){var M=e(21606),k=e(70600),a=e(50693),_=e(1426).extendFlat,b=k.contours;q.exports=_({carpet:{valType:"string",editType:"calc"},z:M.z,a:M.x,a0:M.x0,da:M.dx,b:M.y,b0:M.y0,db:M.dy,text:M.text,hovertext:M.hovertext,transpose:M.transpose,atype:M.xtype,btype:M.ytype,fillcolor:k.fillcolor,autocontour:k.autocontour,ncontours:k.ncontours,contours:{type:b.type,start:b.start,end:b.end,size:b.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:b.showlines,showlabels:b.showlabels,labelfont:b.labelfont,labelformat:b.labelformat,operation:b.operation,value:b.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:k.line.color,width:k.line.width,dash:k.line.dash,smoothing:k.line.smoothing,editType:"plot"},transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},59885:function(q,C,e){var M=e(78803),k=e(71828),a=e(68296),_=e(4742),b=e(824),h=e(43907),o=e(70769),t=e(75005),i=e(22882),n=e(18670);q.exports=function(r,l){var s=l._carpetTrace=i(r,l);if(s&&s.visible&&s.visible!=="legendonly"){if(!l.a||!l.b){var u=r.data[s.index],p=r.data[l.index];p.a||(p.a=u.a),p.b||(p.b=u.b),t(p,l,l._defaultColor,r._fullLayout)}var c=function(x,g){var d,v,y,m,w,f,S,T=g._carpetTrace,E=T.aaxis,O=T.baxis;E._minDtick=0,O._minDtick=0,k.isArray1D(g.z)&&a(g,E,O,"a","b",["z"]),d=g._a=g._a||g.a,m=g._b=g._b||g.b,d=d?E.makeCalcdata(g,"_a"):[],m=m?O.makeCalcdata(g,"_b"):[],v=g.a0||0,y=g.da||1,w=g.b0||0,f=g.db||1,S=g._z=_(g._z||g.z,g.transpose),g._emptypoints=h(S),b(S,g._emptypoints);var P=k.maxRowLength(S),I=g.xtype==="scaled"?"":d,z=o(g,I,v,y,P,E),j=g.ytype==="scaled"?"":m,R={a:z,b:o(g,j,w,f,S.length,O),z:S};return g.contours.type==="levels"&&g.contours.coloring!=="none"&&M(x,g,{vals:S,containerStr:"",cLetter:"z"}),[R]}(r,l);return n(l,l._z),c}}},75005:function(q,C,e){var M=e(71828),k=e(67684),a=e(88085),_=e(83179),b=e(67217),h=e(8724);q.exports=function(o,t,i,n){function r(l,s){return M.coerce(o,t,a,l,s)}if(r("carpet"),o.a&&o.b){if(!k(o,t,r,n,"a","b"))return void(t.visible=!1);r("text"),r("contours.type")==="constraint"?_(o,t,r,n,i,{hasHover:!1}):(b(o,t,r,function(l){return M.coerce2(o,t,a,l)}),h(o,t,r,n,{hasHover:!1}))}else t._defaultColor=i,t._length=null}},93740:function(q,C,e){q.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(q,C,e){var M=e(39898),k=e(27669),a=e(67961),_=e(91424),b=e(71828),h=e(87678),o=e(81696),t=e(29854),i=e(36914),n=e(84857),r=e(87558),l=e(20083),s=e(22882),u=e(4536);function p(g,d,v){var y=g.getPointAtLength(d),m=g.getPointAtLength(v),w=m.x-y.x,f=m.y-y.y,S=Math.sqrt(w*w+f*f);return[w/S,f/S]}function c(g){var d=Math.sqrt(g[0]*g[0]+g[1]*g[1]);return[g[0]/d,g[1]/d]}function x(g,d){var v=Math.abs(g[0]*d[0]+g[1]*d[1]);return Math.sqrt(1-v*v)/v}q.exports=function(g,d,v,y){var m=d.xaxis,w=d.yaxis;b.makeTraceGroups(y,v,"contour").each(function(f){var S=M.select(this),T=f[0],E=T.trace,O=E._carpetTrace=s(g,E),P=g.calcdata[O.index][0];if(O.visible&&O.visible!=="legendonly"){var I=T.a,z=T.b,j=E.contours,R=r(j,d,T),N=j.type==="constraint",Z=j._operation,F=N?Z==="="?"lines":"fill":j.coloring,U=[[I[0],z[z.length-1]],[I[I.length-1],z[z.length-1]],[I[I.length-1],z[0]],[I[0],z[0]]];h(R);var V=1e-8*(I[I.length-1]-I[0]),te=1e-8*(z[z.length-1]-z[0]);o(R,V,te);var Q,J,X,K,ee=R;j.type==="constraint"&&(ee=n(R,Z)),function(ue,pe){var de,ye,be,me,Ee,Te,we,oe,se;for(de=0;de<ue.length;de++){for(Ee=(me=ue[de]).pedgepaths=[],Te=me.ppaths=[],ye=0;ye<me.edgepaths.length;ye++){for(se=me.edgepaths[ye],we=[],be=0;be<se.length;be++)we[be]=pe(se[be]);Ee.push(we)}for(ye=0;ye<me.paths.length;ye++){for(se=me.paths[ye],oe=[],be=0;be<se.length;be++)oe[be]=pe(se[be]);Te.push(oe)}}}(R,ae);var re=[];for(K=P.clipsegments.length-1;K>=0;K--)Q=P.clipsegments[K],J=k([],Q.x,m.c2p),X=k([],Q.y,w.c2p),J.reverse(),X.reverse(),re.push(a(J,X,Q.bicubic));var ie="M"+re.join("L")+"Z";(function(ue,pe,de,ye,be,me){var Ee,Te,we,oe,se=b.ensureSingle(ue,"g","contourbg").selectAll("path").data(me!=="fill"||be?[]:[0]);se.enter().append("path"),se.exit().remove();var he=[];for(oe=0;oe<pe.length;oe++)Ee=pe[oe],Te=k([],Ee.x,de.c2p),we=k([],Ee.y,ye.c2p),he.push(a(Te,we,Ee.bicubic));se.attr("d","M"+he.join("L")+"Z").style("stroke","none")})(S,P.clipsegments,m,w,N,F),function(ue,pe,de,ye,be,me,Ee,Te,we,oe,se){var he=oe==="fill";he&&l(be,ue.contours);var Se=b.ensureSingle(pe,"g","contourfill").selectAll("path").data(he?be:[]);Se.enter().append("path"),Se.exit().remove(),Se.each(function(_e){var Ae=(_e.prefixBoundary?se:"")+function(Ce,Re,fe,xe,ke,Ie,Fe,ze){var qe,Ye,Qe,ft,ht,mt,Mt,_t="",it=Re.edgepaths.map(function(ot,Be){return Be}),st=!0,St=1e-4*Math.abs(fe[0][0]-fe[2][0]),zt=1e-4*Math.abs(fe[0][1]-fe[2][1]);function Ft(ot){return Math.abs(ot[1]-fe[0][1])<zt}function Pt(ot){return Math.abs(ot[1]-fe[2][1])<zt}function Ze(ot){return Math.abs(ot[0]-fe[0][0])<St}function Je(ot){return Math.abs(ot[0]-fe[2][0])<St}function Ue(ot,Be){var Ne,at,$e,gt,yt="";for(Ft(ot)&&!Je(ot)||Pt(ot)&&!Ze(ot)?(gt=ke.aaxis,$e=u(ke,Ie,[ot[0],Be[0]],.5*(ot[1]+Be[1]))):(gt=ke.baxis,$e=u(ke,Ie,.5*(ot[0]+Be[0]),[ot[1],Be[1]])),Ne=1;Ne<$e.length;Ne++)for(yt+=gt.smoothing?"C":"L",at=0;at<$e[Ne].length;at++){var xt=$e[Ne][at];yt+=[Fe.c2p(xt[0]),ze.c2p(xt[1])]+" "}return yt}for(qe=0,Ye=null;it.length;){var Xe=Re.edgepaths[qe][0];for(Ye&&(_t+=Ue(Ye,Xe)),Mt=_.smoothopen(Re.edgepaths[qe].map(xe),Re.smoothing),_t+=st?Mt:Mt.replace(/^M/,"L"),it.splice(it.indexOf(qe),1),Ye=Re.edgepaths[qe][Re.edgepaths[qe].length-1],ht=-1,ft=0;ft<4;ft++){if(!Ye){b.log("Missing end?",qe,Re);break}for(Ft(Ye)&&!Je(Ye)?Qe=fe[1]:Ze(Ye)?Qe=fe[0]:Pt(Ye)?Qe=fe[3]:Je(Ye)&&(Qe=fe[2]),mt=0;mt<Re.edgepaths.length;mt++){var lt=Re.edgepaths[mt][0];Math.abs(Ye[0]-Qe[0])<St?Math.abs(Ye[0]-lt[0])<St&&(lt[1]-Ye[1])*(Qe[1]-lt[1])>=0&&(Qe=lt,ht=mt):Math.abs(Ye[1]-Qe[1])<zt?Math.abs(Ye[1]-lt[1])<zt&&(lt[0]-Ye[0])*(Qe[0]-lt[0])>=0&&(Qe=lt,ht=mt):b.log("endpt to newendpt is not vert. or horz.",Ye,Qe,lt)}if(ht>=0)break;_t+=Ue(Ye,Qe),Ye=Qe}if(ht===Re.edgepaths.length){b.log("unclosed perimeter path");break}qe=ht,(st=it.indexOf(qe)===-1)&&(qe=it[0],_t+=Ue(Ye,Qe)+"Z",Ye=null)}for(qe=0;qe<Re.paths.length;qe++)_t+=_.smoothclosed(Re.paths[qe].map(xe),Re.smoothing);return _t}(0,_e,me,Ee,Te,we,de,ye);Ae?M.select(this).attr("d",Ae).style("stroke","none"):M.select(this).remove()})}(E,S,m,w,ee,U,ae,O,P,F,ie),function(ue,pe,de,ye,be,me,Ee){var Te=de._context.staticPlot,we=b.ensureSingle(ue,"g","contourlines"),oe=be.showlines!==!1,se=be.showlabels,he=oe&&se,Se=t.createLines(we,oe||se,pe,Te),_e=t.createLineClip(we,he,de,ye.trace.uid),Ae=ue.selectAll("g.contourlabels").data(se?[0]:[]);if(Ae.exit().remove(),Ae.enter().append("g").classed("contourlabels",!0),se){var Ce=me.xaxis,Re=me.yaxis,fe=Ce._length,xe=Re._length,ke=[[[0,0],[fe,0],[fe,xe],[0,xe]]],Ie=[];b.clearLocationCache();var Fe=t.labelFormatter(de,ye),ze=_.tester.append("text").attr("data-notex",1).call(_.font,be.labelfont),qe={left:0,right:fe,center:fe/2,top:0,bottom:xe,middle:xe/2},Ye=Math.sqrt(fe*fe+xe*xe),Qe=i.LABELDISTANCE*Ye/Math.max(1,pe.length/i.LABELINCREASE);Se.each(function(ft){var ht=t.calcTextOpts(ft.level,Fe,ze,de);M.select(this).selectAll("path").each(function(mt){var Mt=this,_t=b.getVisibleSegment(Mt,qe,ht.height/2);if(_t&&(function(zt,Ft,Pt,Ze,Je,Ue){for(var Xe,lt=0;lt<Pt.pedgepaths.length;lt++)Ft===Pt.pedgepaths[lt]&&(Xe=Pt.edgepaths[lt]);if(Xe){var ot=Je.a[0],Be=Je.a[Je.a.length-1],Ne=Je.b[0],at=Je.b[Je.b.length-1],$e=p(zt,0,1),gt=p(zt,Ze.total,Ze.total-1),yt=dt(Xe[0],$e),xt=Ze.total-dt(Xe[Xe.length-1],gt);Ze.min<yt&&(Ze.min=yt),Ze.max>xt&&(Ze.max=xt),Ze.len=Ze.max-Ze.min}function dt(Lt,Tt){var bt,Ct=0,Dt=.1;return(Math.abs(Lt[0]-ot)<Dt||Math.abs(Lt[0]-Be)<Dt)&&(bt=c(Je.dxydb_rough(Lt[0],Lt[1],Dt)),Ct=Math.max(Ct,Ue*x(Tt,bt)/2)),(Math.abs(Lt[1]-Ne)<Dt||Math.abs(Lt[1]-at)<Dt)&&(bt=c(Je.dxyda_rough(Lt[0],Lt[1],Dt)),Ct=Math.max(Ct,Ue*x(Tt,bt)/2)),Ct}}(Mt,mt,ft,_t,Ee,ht.height),!(_t.len<(ht.width+ht.height)*i.LABELMIN)))for(var it=Math.min(Math.ceil(_t.len/Qe),i.LABELMAX),st=0;st<it;st++){var St=t.findBestTextLocation(Mt,_t,ht,Ie,qe);if(!St)break;t.addLabelData(St,ht,Ie,ke)}})}),ze.remove(),t.drawLabels(Ae,Ie,de,_e,he?ke:null)}se&&!oe&&Se.remove()}(S,R,g,T,j,d,O),_.setClipUrl(S,O._clipPathId,g)}function ae(ue){var pe=O.ab2xy(ue[0],ue[1],!0);return[m.c2p(pe[0]),w.c2p(pe[1])]}})}},64096:function(q,C,e){var M=e(50693),k=e(5386).fF,a=e(9012),_=e(99181),b=e(1426).extendFlat;q.exports=b({lon:_.lon,lat:_.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:_.text,hovertext:_.hovertext,hoverinfo:b({},a.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:k(),showlegend:b({},a.showlegend,{dflt:!1})},M("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(q,C,e){var M=e(92770),k=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,_=e(78803),b=e(71828)._;q.exports=function(h,o){for(var t=o._length,i=new Array(t),n=o.z,r=k(n)&&n.length,l=0;l<t;l++){var s=i[l]={},u=o.lon[l],p=o.lat[l];if(s.lonlat=M(u)&&M(p)?[+u,+p]:[a,a],r){var c=n[l];s.z=M(c)?c:a}}return _(h,o,{vals:r?n:[0,1],containerStr:"",cLetter:"z"}),t&&(i[0].t={labels:{lat:b(h,"lat:")+" ",lon:b(h,"lon:")+" "}}),i}},52414:function(q,C,e){var M=e(92770),k=e(71828),a=e(7901),_=e(21081),b=e(50606).BADNUM,h=e(18214).makeBlank;q.exports=function(o){var t=o[0].trace,i=t.visible===!0&&t._length!==0,n=t._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:h()};if(!i)return n;var r,l=[],s=t.z,u=t.radius,p=k.isArrayOrTypedArray(s)&&s.length,c=k.isArrayOrTypedArray(u);for(r=0;r<o.length;r++){var x=o[r],g=x.lonlat;if(g[0]!==b){var d={};if(p){var v=x.z;d.z=v!==b?v:0}c&&(d.r=M(u[r])&&u[r]>0?+u[r]:0),l.push({type:"Feature",geometry:{type:"Point",coordinates:g},properties:d})}}var y=_.extractOpts(t),m=y.reversescale?_.flipScale(y.colorscale):y.colorscale,w=m[0][1],f=["interpolate",["linear"],["heatmap-density"],0,a.opacity(w)<1?w:a.addOpacity(w,0)];for(r=1;r<m.length;r++)f.push(m[r][0],m[r][1]);var S=["interpolate",["linear"],["get","z"],y.min,0,y.max,1];return k.extendFlat(n.heatmap.paint,{"heatmap-weight":p?S:1/(y.max-y.min),"heatmap-color":f,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),n.geojson={type:"FeatureCollection",features:l},n.heatmap.layout.visibility="visible",n}},79429:function(q,C,e){var M=e(71828),k=e(1586),a=e(64096);q.exports=function(_,b,h,o){function t(l,s){return M.coerce(_,b,a,l,s)}var i=t("lon")||[],n=t("lat")||[],r=Math.min(i.length,n.length);r?(b._length=r,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),k(_,b,o,t,{prefix:"",cLetter:"z"})):b.visible=!1}},62474:function(q){q.exports=function(C,e){return C.lon=e.lon,C.lat=e.lat,C.z=e.z,C}},84684:function(q,C,e){var M=e(89298),k=e(28178).hoverPoints,a=e(28178).getExtraText;q.exports=function(_,b,h){var o=k(_,b,h);if(o){var t=o[0],i=t.cd,n=i[0].trace,r=i[t.index];if(delete t.color,"z"in r){var l=t.subplot.mockAxis;t.z=r.z,t.zLabel=M.tickText(l,l.c2l(r.z),"hover").text}return t.extraText=a(n,r,i[0].t.labels),[t]}}},93814:function(q,C,e){q.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(M,k){for(var a=k.getMapLayers(),_=0;_<a.length;_++){var b=a[_],h=b.id;if(b.type==="symbol"&&typeof h=="string"&&h.indexOf("plotly-")===-1)return h}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(q,C,e){var M=e(52414),k=e(77734).traceLayerPrefix;function a(b,h){this.type="densitymapbox",this.subplot=b,this.uid=h,this.sourceId="source-"+h,this.layerList=[["heatmap",k+h+"-heatmap"]],this.below=null}var _=a.prototype;_.update=function(b){var h=this.subplot,o=this.layerList,t=M(b),i=h.belowLookup["trace-"+this.uid];h.map.getSource(this.sourceId).setData(t.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(t,i),this.below=i);for(var n=0;n<o.length;n++){var r=o[n],l=r[0],s=r[1],u=t[l];h.setOptions(s,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&h.setOptions(s,"setPaintProperty",u.paint)}},_._addLayers=function(b,h){for(var o=this.subplot,t=this.layerList,i=this.sourceId,n=0;n<t.length;n++){var r=t[n],l=r[0],s=b[l];o.addLayer({type:l,id:r[1],source:i,layout:s.layout,paint:s.paint},h)}},_._removeLayers=function(){for(var b=this.subplot.map,h=this.layerList,o=h.length-1;o>=0;o--)b.removeLayer(h[o][1])},_.dispose=function(){var b=this.subplot.map;this._removeLayers(),b.removeSource(this.sourceId)},q.exports=function(b,h){var o=h[0].trace,t=new a(b,o.uid),i=t.sourceId,n=M(h),r=t.below=b.belowLookup["trace-"+o.uid];return b.map.addSource(i,{type:"geojson",data:n.geojson}),t._addLayers(n,r),t}},49789:function(q,C,e){var M=e(71828);q.exports=function(k,a){for(var _=0;_<k.length;_++)k[_].i=_;M.mergeArray(a.text,k,"tx"),M.mergeArray(a.hovertext,k,"htx");var b=a.marker;if(b){M.mergeArray(b.opacity,k,"mo"),M.mergeArray(b.color,k,"mc");var h=b.line;h&&(M.mergeArray(h.color,k,"mlc"),M.mergeArrayCastPositive(h.width,k,"mlw"))}}},1285:function(q,C,e){var M,k=e(1486),a=e(82196).line,_=e(9012),b=e(12663).axisHoverFormat,h=e(5386).fF,o=e(5386).si,t=e(18517),i=e(1426).extendFlat,n=e(7901);q.exports={x:k.x,x0:k.x0,dx:k.dx,y:k.y,y0:k.y0,dy:k.dy,xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,xhoverformat:b("x"),yhoverformat:b("y"),hovertext:k.hovertext,hovertemplate:h({},{keys:t.eventDataKeys}),hoverinfo:i({},_.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:o({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),text:k.text,textposition:k.textposition,insidetextanchor:i({},k.insidetextanchor,{dflt:"middle"}),textangle:i({},k.textangle,{dflt:0}),textfont:k.textfont,insidetextfont:k.insidetextfont,outsidetextfont:k.outsidetextfont,constraintext:k.constraintext,cliponaxis:k.cliponaxis,orientation:i({},k.orientation,{}),offset:i({},k.offset,{arrayOk:!1}),width:i({},k.width,{arrayOk:!1}),marker:(M=i({},k.marker),delete M.pattern,M),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:i({},a.color,{dflt:n.defaultLine}),width:i({},a.width,{dflt:0,editType:"plot"}),dash:a.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup}},9532:function(q,C,e){var M=e(89298),k=e(42973),a=e(49789),_=e(66279),b=e(50606).BADNUM;function h(o){return o===b?0:o}q.exports=function(o,t){var i,n,r,l,s,u,p,c,x=M.getFromId(o,t.xaxis||"x"),g=M.getFromId(o,t.yaxis||"y");t.orientation==="h"?(i=x.makeCalcdata(t,"x"),r=g.makeCalcdata(t,"y"),l=k(t,g,"y",r),s=!!t.yperiodalignment,u="y"):(i=g.makeCalcdata(t,"y"),r=x.makeCalcdata(t,"x"),l=k(t,x,"x",r),s=!!t.xperiodalignment,u="x"),n=l.vals;var d,v=Math.min(n.length,i.length),y=new Array(v);for(t._base=[],p=0;p<v;p++){i[p]<0&&(i[p]=b);var m=!1;i[p]!==b&&p+1<v&&i[p+1]!==b&&(m=!0),c=y[p]={p:n[p],s:i[p],cNext:m},t._base[p]=-.5*c.s,s&&(y[p].orig_p=r[p],y[p][u+"End"]=l.ends[p],y[p][u+"Start"]=l.starts[p]),t.ids&&(c.id=String(t.ids[p])),p===0&&(y[0].vTotal=0),y[0].vTotal+=h(c.s),c.begR=h(c.s)/h(y[0].s)}for(p=0;p<v;p++)(c=y[p]).s!==b&&(c.sumR=c.s/y[0].vTotal,c.difR=d!==void 0?c.s/d:1,d=c.s);return a(y,t),_(y,t),y}},18517:function(q){q.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(q,C,e){var M=e(11661).setGroupPositions;q.exports=function(k,a){var _,b,h=k._fullLayout,o=k._fullData,t=k.calcdata,i=a.xaxis,n=a.yaxis,r=[],l=[],s=[];for(b=0;b<o.length;b++){var u=o[b],p=u.orientation==="h";u.visible===!0&&u.xaxis===i._id&&u.yaxis===n._id&&u.type==="funnel"&&(_=t[b],p?s.push(_):l.push(_),r.push(_))}var c={mode:h.funnelmode,norm:h.funnelnorm,gap:h.funnelgap,groupgap:h.funnelgroupgap};for(M(k,i,n,l,c),M(k,n,i,s,c),b=0;b<r.length;b++){_=r[b];for(var x=0;x<_.length;x++)x+1<_.length&&(_[x].nextP0=_[x+1].p0,_[x].nextS0=_[x+1].s0,_[x].nextP1=_[x+1].p1,_[x].nextS1=_[x+1].s1)}}},26199:function(q,C,e){var M=e(71828),k=e(26125),a=e(90769).handleText,_=e(67513),b=e(73927),h=e(1285),o=e(7901);q.exports={supplyDefaults:function(t,i,n,r){function l(c,x){return M.coerce(t,i,h,c,x)}if(_(t,i,r,l)){b(t,i,r,l),l("xhoverformat"),l("yhoverformat"),l("orientation",i.y&&!i.x?"v":"h"),l("offset"),l("width");var s=l("text");l("hovertext"),l("hovertemplate");var u=l("textposition");a(t,i,r,l,u,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),i.textposition==="none"||i.texttemplate||l("textinfo",M.isArrayOrTypedArray(s)?"text+value":"value");var p=l("marker.color",n);l("marker.line.color",o.defaultLine),l("marker.line.width"),l("connector.visible")&&(l("connector.fillcolor",function(c){var x=M.isArrayOrTypedArray(c)?"#000":c;return o.addOpacity(x,.5*o.opacity(x))}(p)),l("connector.line.width")&&(l("connector.line.color"),l("connector.line.dash")))}else i.visible=!1},crossTraceDefaults:function(t,i){var n,r;function l(u){return M.coerce(r._input,r,h,u)}if(i.funnelmode==="group")for(var s=0;s<t.length;s++)n=(r=t[s])._input,k(n,r,i,l)}}},34598:function(q){q.exports=function(C,e){return C.x="xVal"in e?e.xVal:e.x,C.y="yVal"in e?e.yVal:e.y,"percentInitial"in e&&(C.percentInitial=e.percentInitial),"percentPrevious"in e&&(C.percentPrevious=e.percentPrevious),"percentTotal"in e&&(C.percentTotal=e.percentTotal),e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),C}},63341:function(q,C,e){var M=e(7901).opacity,k=e(95423).hoverOnBars,a=e(71828).formatPercent;q.exports=function(_,b,h,o,t){var i=k(_,b,h,o,t);if(i){var n=i.cd,r=n[0].trace,l=r.orientation==="h",s=n[i.index];i[(l?"x":"y")+"LabelVal"]=s.s,i.percentInitial=s.begR,i.percentInitialLabel=a(s.begR,1),i.percentPrevious=s.difR,i.percentPreviousLabel=a(s.difR,1),i.percentTotal=s.sumR,i.percentTotalLabel=a(s.sumR,1);var u=s.hi||r.hoverinfo,p=[];if(u&&u!=="none"&&u!=="skip"){var c=u==="all",x=u.split("+"),g=function(d){return c||x.indexOf(d)!==-1};g("percent initial")&&p.push(i.percentInitialLabel+" of initial"),g("percent previous")&&p.push(i.percentPreviousLabel+" of previous"),g("percent total")&&p.push(i.percentTotalLabel+" of total")}return i.extraText=p.join("<br>"),i.color=function(d,v){var y=d.marker,m=v.mc||y.color,w=v.mlc||y.line.color,f=v.mlw||y.line.width;return M(m)?m:M(w)&&f?w:void 0}(r,s),[i]}}},51759:function(q,C,e){q.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(q){q.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(q,C,e){var M=e(71828),k=e(10440);q.exports=function(a,_,b){var h=!1;function o(n,r){return M.coerce(a,_,k,n,r)}for(var t=0;t<b.length;t++){var i=b[t];if(i.visible&&i.type==="funnel"){h=!0;break}}h&&(o("funnelmode"),o("funnelgap",.2),o("funnelgroupgap"))}},80461:function(q,C,e){var M=e(39898),k=e(71828),a=e(91424),_=e(50606).BADNUM,b=e(17295),h=e(72597).clearMinTextSize;function o(t,i,n,r){var l=[],s=[],u=r?i:n,p=r?n:i;return l[0]=u.c2p(t.s0,!0),s[0]=p.c2p(t.p0,!0),l[1]=u.c2p(t.s1,!0),s[1]=p.c2p(t.p1,!0),l[2]=u.c2p(t.nextS0,!0),s[2]=p.c2p(t.nextP0,!0),l[3]=u.c2p(t.nextS1,!0),s[3]=p.c2p(t.nextP1,!0),r?[l,s]:[s,l]}q.exports=function(t,i,n,r){var l=t._fullLayout;h("funnel",l),function(s,u,p,c){var x=u.xaxis,g=u.yaxis;k.makeTraceGroups(c,p,"trace bars").each(function(d){var v=M.select(this),y=d[0].trace,m=k.ensureSingle(v,"g","regions");if(y.connector&&y.connector.visible){var w=y.orientation==="h",f=m.selectAll("g.region").data(k.identity);f.enter().append("g").classed("region",!0),f.exit().remove();var S=f.size();f.each(function(T,E){if(E===S-1||T.cNext){var O=o(T,x,g,w),P=O[0],I=O[1],z="";P[0]!==_&&I[0]!==_&&P[1]!==_&&I[1]!==_&&P[2]!==_&&I[2]!==_&&P[3]!==_&&I[3]!==_&&(z+=w?"M"+P[0]+","+I[1]+"L"+P[2]+","+I[2]+"H"+P[3]+"L"+P[1]+","+I[1]+"Z":"M"+P[1]+","+I[1]+"L"+P[2]+","+I[3]+"V"+I[2]+"L"+P[1]+","+I[0]+"Z"),z===""&&(z="M0,0Z"),k.ensureSingle(M.select(this),"path").attr("d",z).call(a.setClipUrl,u.layerClipId,s)}})}else m.remove()})}(t,i,n,r),function(s,u,p,c){var x=u.xaxis,g=u.yaxis;k.makeTraceGroups(c,p,"trace bars").each(function(d){var v=M.select(this),y=d[0].trace,m=k.ensureSingle(v,"g","lines");if(y.connector&&y.connector.visible&&y.connector.line.width){var w=y.orientation==="h",f=m.selectAll("g.line").data(k.identity);f.enter().append("g").classed("line",!0),f.exit().remove();var S=f.size();f.each(function(T,E){if(E===S-1||T.cNext){var O=o(T,x,g,w),P=O[0],I=O[1],z="";P[3]!==void 0&&I[3]!==void 0&&(w?(z+="M"+P[0]+","+I[1]+"L"+P[2]+","+I[2],z+="M"+P[1]+","+I[1]+"L"+P[3]+","+I[2]):(z+="M"+P[1]+","+I[1]+"L"+P[2]+","+I[3],z+="M"+P[1]+","+I[0]+"L"+P[2]+","+I[2])),z===""&&(z="M0,0Z"),k.ensureSingle(M.select(this),"path").attr("d",z).call(a.setClipUrl,u.layerClipId,s)}})}else m.remove()})}(t,i,n,r),b.plot(t,i,n,r,{mode:l.funnelmode,norm:l.funnelmode,gap:l.funnelgap,groupgap:l.funnelgroupgap})}},68266:function(q,C,e){var M=e(39898),k=e(91424),a=e(7901),_=e(37822).DESELECTDIM,b=e(16688),h=e(72597).resizeText,o=b.styleTextPoints;q.exports={style:function(t,i,n){var r=n||M.select(t).selectAll("g.funnellayer").selectAll("g.trace");h(t,r,"funnel"),r.style("opacity",function(l){return l[0].trace.opacity}),r.each(function(l){var s=M.select(this),u=l[0].trace;s.selectAll(".point > path").each(function(p){if(!p.isBlank){var c=u.marker;M.select(this).call(a.fill,p.mc||c.color).call(a.stroke,p.mlc||c.line.color).call(k.dashLine,c.line.dash,p.mlw||c.line.width).style("opacity",u.selectedpoints&&!p.selected?_:1)}}),o(s,u,t),s.selectAll(".regions").each(function(){M.select(this).selectAll("path").style("stroke-width",0).call(a.fill,u.connector.fillcolor)}),s.selectAll(".lines").each(function(){var p=u.connector.line;k.lineGroupStyle(M.select(this).selectAll("path"),p.width,p.color,p.dash)})})}}},86807:function(q,C,e){var M=e(34e3),k=e(9012),a=e(27670).Y,_=e(5386).fF,b=e(5386).si,h=e(1426).extendFlat;q.exports={labels:M.labels,label0:M.label0,dlabel:M.dlabel,values:M.values,marker:{colors:M.marker.colors,line:{color:h({},M.marker.line.color,{dflt:null}),width:h({},M.marker.line.width,{dflt:1}),editType:"calc"},pattern:M.marker.pattern,editType:"calc"},text:M.text,hovertext:M.hovertext,scalegroup:h({},M.scalegroup,{}),textinfo:h({},M.textinfo,{flags:["label","text","value","percent"]}),texttemplate:b({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:h({},k.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:_({},{keys:["label","color","value","text","percent"]}),textposition:h({},M.textposition,{values:["inside","none"],dflt:"inside"}),textfont:M.textfont,insidetextfont:M.insidetextfont,title:{text:M.title.text,font:M.title.font,position:h({},M.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:a({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(q,C,e){var M=e(74875);C.name="funnelarea",C.plot=function(k,a,_,b){M.plotBasePlot(C.name,k,a,_,b)},C.clean=function(k,a,_,b){M.cleanBasePlot(C.name,k,a,_,b)}},89574:function(q,C,e){var M=e(32354);q.exports={calc:function(k,a){return M.calc(k,a)},crossTraceCalc:function(k){M.crossTraceCalc(k,{type:"funnelarea"})}}},86282:function(q,C,e){var M=e(71828),k=e(86807),a=e(27670).c,_=e(90769).handleText,b=e(37434).handleLabelsAndValues,h=e(37434).handleMarkerDefaults;q.exports=function(o,t,i,n){function r(v,y){return M.coerce(o,t,k,v,y)}var l=r("labels"),s=r("values"),u=b(l,s),p=u.len;if(t._hasLabels=u.hasLabels,t._hasValues=u.hasValues,!t._hasLabels&&t._hasValues&&(r("label0"),r("dlabel")),p){t._length=p,h(o,t,n,r),r("scalegroup");var c,x=r("text"),g=r("texttemplate");if(g||(c=r("textinfo",Array.isArray(x)?"text+percent":"percent")),r("hovertext"),r("hovertemplate"),g||c&&c!=="none"){var d=r("textposition");_(o,t,n,r,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}a(t,n,r),r("title.text")&&(r("title.position"),M.coerceFont(r,"title.font",n.font)),r("aspectratio"),r("baseratio")}else t.visible=!1}},10421:function(q,C,e){q.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(q,C,e){var M=e(92774).hiddenlabels;q.exports={hiddenlabels:M,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(q,C,e){var M=e(71828),k=e(80097);q.exports=function(a,_){function b(h,o){return M.coerce(a,_,k,h,o)}b("hiddenlabels"),b("funnelareacolorway",_.colorway),b("extendfunnelareacolors")}},79187:function(q,C,e){var M=e(39898),k=e(91424),a=e(71828),_=a.strScale,b=a.strTranslate,h=e(63893),o=e(17295).toMoveInsideBar,t=e(72597),i=t.recordMinTextSize,n=t.clearMinTextSize,r=e(53581),l=e(14575),s=l.attachFxHandlers,u=l.determineInsideTextFont,p=l.layoutAreas,c=l.prerenderTitles,x=l.positionTitleOutside,g=l.formatSliceLabel;function d(v,y){return"l"+(y[0]-v[0])+","+(y[1]-v[1])}q.exports=function(v,y){var m=v._context.staticPlot,w=v._fullLayout;n("funnelarea",w),c(y,v),p(y,w._size),a.makeTraceGroups(w._funnelarealayer,y,"trace").each(function(f){var S=M.select(this),T=f[0],E=T.trace;(function(O){if(O.length){var P=O[0],I=P.trace,z=I.aspectratio,j=I.baseratio;j>.999&&(j=.999);var R,N,Z,F=Math.pow(j,2),U=P.vTotal,V=U,te=U*F/(1-F)/U,Q=[];for(Q.push(we()),N=O.length-1;N>-1;N--)if(!(Z=O[N]).hidden){var J=Z.v/V;te+=J,Q.push(we())}var X=1/0,K=-1/0;for(N=0;N<Q.length;N++)R=Q[N],X=Math.min(X,R[1]),K=Math.max(K,R[1]);for(N=0;N<Q.length;N++)Q[N][1]-=(K+X)/2;var ee=Q[Q.length-1][0],re=P.r,ie=(K-X)/2,ae=re/ee,ue=re/ie*z;for(P.r=ue*ie,N=0;N<Q.length;N++)Q[N][0]*=ae,Q[N][1]*=ue;var pe,de,ye=[-(R=Q[0])[0],R[1]],be=[R[0],R[1]],me=0;for(N=O.length-1;N>-1;N--)if(!(Z=O[N]).hidden){var Ee=Q[me+=1][0],Te=Q[me][1];Z.TL=[-Ee,Te],Z.TR=[Ee,Te],Z.BL=ye,Z.BR=be,Z.pxmid=(pe=Z.TR,de=Z.BR,[.5*(pe[0]+de[0]),.5*(pe[1]+de[1])]),ye=Z.TL,be=Z.TR}}function we(){var oe,se={x:oe=Math.sqrt(te),y:-oe};return[se.x,se.y]}})(f),S.each(function(){var O=M.select(this).selectAll("g.slice").data(f);O.enter().append("g").classed("slice",!0),O.exit().remove(),O.each(function(I,z){if(I.hidden)M.select(this).selectAll("path,g").remove();else{I.pointNumber=I.i,I.curveNumber=E.index;var j=T.cx,R=T.cy,N=M.select(this),Z=N.selectAll("path.surface").data([I]);Z.enter().append("path").classed("surface",!0).style({"pointer-events":m?"none":"all"}),N.call(s,v,f);var F="M"+(j+I.TR[0])+","+(R+I.TR[1])+d(I.TR,I.BR)+d(I.BR,I.BL)+d(I.BL,I.TL)+"Z";Z.attr("d",F),g(v,I,T);var U=r.castOption(E.textposition,I.pts),V=N.selectAll("g.slicetext").data(I.text&&U!=="none"?[0]:[]);V.enter().append("g").classed("slicetext",!0),V.exit().remove(),V.each(function(){var te=a.ensureSingle(M.select(this),"text","",function(ae){ae.attr("data-notex",1)}),Q=a.ensureUniformFontSize(v,u(E,I,w.font));te.text(I.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(k.font,Q).call(h.convertToTspans,v);var J,X,K,ee=k.bBox(te.node()),re=Math.min(I.BL[1],I.BR[1])+R,ie=Math.max(I.TL[1],I.TR[1])+R;X=Math.max(I.TL[0],I.BL[0])+j,K=Math.min(I.TR[0],I.BR[0])+j,(J=o(X,K,re,ie,ee,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=Q.size,i(E.type,J,w),f[z].transform=J,a.setTransormAndDisplay(te,J)})}});var P=M.select(this).selectAll("g.titletext").data(E.title.text?[0]:[]);P.enter().append("g").classed("titletext",!0),P.exit().remove(),P.each(function(){var I=a.ensureSingle(M.select(this),"text","",function(R){R.attr("data-notex",1)}),z=E.title.text;E._meta&&(z=a.templateString(z,E._meta)),I.text(z).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(k.font,E.title.font).call(h.convertToTspans,v);var j=x(T,w._size);I.attr("transform",b(j.x,j.y)+_(Math.min(1,j.scale))+b(j.tx,j.ty))})})})}},71858:function(q,C,e){var M=e(39898),k=e(63463),a=e(72597).resizeText;q.exports=function(_){var b=_._fullLayout._funnelarealayer.selectAll(".trace");a(_,b,"funnelarea"),b.each(function(h){var o=h[0].trace,t=M.select(this);t.style({opacity:o.opacity}),t.selectAll("path.surface").each(function(i){M.select(this).call(k,i,o,_)})})}},21606:function(q,C,e){var M=e(82196),k=e(9012),a=e(41940),_=e(12663).axisHoverFormat,b=e(5386).fF,h=e(5386).si,o=e(50693),t=e(1426).extendFlat;q.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},M.x,{impliedEdits:{xtype:"array"}}),x0:t({},M.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},M.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},M.y,{impliedEdits:{ytype:"array"}}),y0:t({},M.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},M.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},M.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},M.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},M.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},M.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},M.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},M.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:_("x"),yhoverformat:_("y"),zhoverformat:_("z",1),hovertemplate:b(),texttemplate:h({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:a({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},k.showlegend,{dflt:!1})},{transforms:void 0},o("",{cLetter:"z",autoColorDflt:!1}))},90757:function(q,C,e){var M=e(73972),k=e(71828),a=e(89298),_=e(42973),b=e(17562),h=e(78803),o=e(68296),t=e(4742),i=e(824),n=e(43907),r=e(70769),l=e(50606).BADNUM;function s(u){for(var p=[],c=u.length,x=0;x<c;x++){var g=u[x];g!==l&&p.push(g)}return p}q.exports=function(u,p){var c,x,g,d,v,y,m,w,f,S,T,E=a.getFromId(u,p.xaxis||"x"),O=a.getFromId(u,p.yaxis||"y"),P=M.traceIs(p,"contour"),I=M.traceIs(p,"histogram"),z=M.traceIs(p,"gl2d"),j=P?"best":p.zsmooth;if(E._minDtick=0,O._minDtick=0,I)d=(T=b(u,p)).orig_x,c=T.x,x=T.x0,g=T.dx,w=T.orig_y,v=T.y,y=T.y0,m=T.dy,f=T.z;else{var R=p.z;k.isArray1D(R)?(o(p,E,O,"x","y",["z"]),c=p._x,v=p._y,R=p._z):(d=p.x?E.makeCalcdata(p,"x"):[],w=p.y?O.makeCalcdata(p,"y"):[],c=_(p,E,"x",d).vals,v=_(p,O,"y",w).vals,p._x=c,p._y=v),x=p.x0,g=p.dx,y=p.y0,m=p.dy,f=t(R,p,E,O)}function N(K){j=p._input.zsmooth=p.zsmooth=!1,k.warn('cannot use zsmooth: "fast": '+K)}function Z(K){if(K.length>1){var ee=(K[K.length-1]-K[0])/(K.length-1),re=Math.abs(ee/100);for(S=0;S<K.length-1;S++)if(Math.abs(K[S+1]-K[S]-ee)>re)return!1}return!0}(E.rangebreaks||O.rangebreaks)&&(f=function(K,ee,re){for(var ie=[],ae=-1,ue=0;ue<re.length;ue++)if(ee[ue]!==l){ie[++ae]=[];for(var pe=0;pe<re[ue].length;pe++)K[pe]!==l&&ie[ae].push(re[ue][pe])}return ie}(c,v,f),I||(c=s(c),v=s(v),p._x=c,p._y=v)),I||!P&&!p.connectgaps||(p._emptypoints=n(f),i(f,p._emptypoints)),p._islinear=!1,E.type==="log"||O.type==="log"?j==="fast"&&N("log axis found"):Z(c)?Z(v)?p._islinear=!0:j==="fast"&&N("y scale is not linear"):j==="fast"&&N("x scale is not linear");var F=k.maxRowLength(f),U=p.xtype==="scaled"?"":c,V=r(p,U,x,g,F,E),te=p.ytype==="scaled"?"":v,Q=r(p,te,y,m,f.length,O);z||(p._extremes[E._id]=a.findExtremes(E,V),p._extremes[O._id]=a.findExtremes(O,Q));var J={x:V,y:Q,z:f,text:p._text||p.text,hovertext:p._hovertext||p.hovertext};if(p.xperiodalignment&&d&&(J.orig_x=d),p.yperiodalignment&&w&&(J.orig_y=w),U&&U.length===V.length-1&&(J.xCenter=U),te&&te.length===Q.length-1&&(J.yCenter=te),I&&(J.xRanges=T.xRanges,J.yRanges=T.yRanges,J.pts=T.pts),P||h(u,p,{vals:f,cLetter:"z"}),P&&p.contours&&p.contours.coloring==="heatmap"){var X={type:p.type==="contour"?"heatmap":"histogram2d",xcalendar:p.xcalendar,ycalendar:p.ycalendar};J.xfill=r(X,U,x,g,F,E),J.yfill=r(X,te,y,m,f.length,O)}return[J]}},4742:function(q,C,e){var M=e(92770),k=e(71828),a=e(50606).BADNUM;q.exports=function(_,b,h,o){var t,i,n,r,l,s;function u(v){if(M(v))return+v}if(b&&b.transpose){for(t=0,l=0;l<_.length;l++)t=Math.max(t,_[l].length);if(t===0)return!1;n=function(v){return v.length},r=function(v,y,m){return(v[m]||[])[y]}}else t=_.length,n=function(v,y){return v[y].length},r=function(v,y,m){return(v[y]||[])[m]};var p=function(v,y,m){return y===a||m===a?a:r(v,y,m)};function c(v){if(b&&b.type!=="carpet"&&b.type!=="contourcarpet"&&v&&v.type==="category"&&b["_"+v._id.charAt(0)].length){var y=v._id.charAt(0),m={},w=b["_"+y+"CategoryMap"]||b[y];for(l=0;l<w.length;l++)m[w[l]]=l;return function(f){var S=m[v._categories[f]];return S+1?S:a}}return k.identity}var x=c(h),g=c(o);o&&o.type==="category"&&(t=o._categories.length);var d=new Array(t);for(l=0;l<t;l++)for(i=h&&h.type==="category"?h._categories.length:n(_,l),d[l]=new Array(i),s=0;s<i;s++)d[l][s]=u(p(_,g(l),x(s)));return d}},61243:function(q){q.exports={min:"zmin",max:"zmax"}},68296:function(q,C,e){var M=e(71828),k=e(50606).BADNUM,a=e(42973);q.exports=function(_,b,h,o,t,i){var n=_._length,r=b.makeCalcdata(_,o),l=h.makeCalcdata(_,t);r=a(_,b,o,r).vals,l=a(_,h,t,l).vals;var s,u,p,c,x=_.text,g=x!==void 0&&M.isArray1D(x),d=_.hovertext,v=d!==void 0&&M.isArray1D(d),y=M.distinctVals(r),m=y.vals,w=M.distinctVals(l),f=w.vals,S=[],T=f.length,E=m.length;for(s=0;s<i.length;s++)S[s]=M.init2dArray(T,E);g&&(p=M.init2dArray(T,E)),v&&(c=M.init2dArray(T,E));var O=M.init2dArray(T,E);for(s=0;s<n;s++)if(r[s]!==k&&l[s]!==k){var P=M.findBin(r[s]+y.minDiff/2,m),I=M.findBin(l[s]+w.minDiff/2,f);for(u=0;u<i.length;u++){var z=_[i[u]];S[u][I][P]=z[s],O[I][P]=s}g&&(p[I][P]=x[s]),v&&(c[I][P]=d[s])}for(_["_"+o]=m,_["_"+t]=f,u=0;u<i.length;u++)_["_"+i[u]]=S[u];g&&(_._text=p),v&&(_._hovertext=c),b&&b.type==="category"&&(_["_"+o+"CategoryMap"]=m.map(function(j){return b._categories[j]})),h&&h.type==="category"&&(_["_"+t+"CategoryMap"]=f.map(function(j){return h._categories[j]})),_._after2before=O}},76382:function(q,C,e){var M=e(71828),k=e(67684),a=e(58623),_=e(73927),b=e(49901),h=e(1586),o=e(21606);q.exports=function(t,i,n,r){function l(s,u){return M.coerce(t,i,o,s,u)}k(t,i,l,r)?(_(t,i,r,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hovertemplate"),a(l,r),b(t,i,l,r),l("hoverongaps"),l("connectgaps",M.isArray1D(i.z)&&i.zsmooth!==!1),h(t,i,r,l,{prefix:"",cLetter:"z"})):i.visible=!1}},43907:function(q,C,e){var M=e(71828).maxRowLength;q.exports=function(k){var a,_,b,h,o,t,i,n,r=[],l={},s=[],u=k[0],p=[],c=[0,0,0],x=M(k);for(_=0;_<k.length;_++)for(a=p,p=u,u=k[_+1]||[],b=0;b<x;b++)p[b]===void 0&&((t=(p[b-1]!==void 0?1:0)+(p[b+1]!==void 0?1:0)+(a[b]!==void 0?1:0)+(u[b]!==void 0?1:0))?(_===0&&t++,b===0&&t++,_===k.length-1&&t++,b===p.length-1&&t++,t<4&&(l[[_,b]]=[_,b,t]),r.push([_,b,t])):s.push([_,b]));for(;s.length;){for(i={},n=!1,o=s.length-1;o>=0;o--)(t=((l[[(_=(h=s[o])[0])-1,b=h[1]]]||c)[2]+(l[[_+1,b]]||c)[2]+(l[[_,b-1]]||c)[2]+(l[[_,b+1]]||c)[2])/20)&&(i[h]=[_,b,t],s.splice(o,1),n=!0);if(!n)throw"findEmpties iterated with no new neighbors";for(h in i)l[h]=i[h],r.push(i[h])}return r.sort(function(g,d){return d[2]-g[2]})}},46248:function(q,C,e){var M=e(30211),k=e(71828),a=k.isArrayOrTypedArray,_=e(89298),b=e(21081).extractOpts;q.exports=function(h,o,t,i,n){n||(n={});var r,l,s,u,p=n.isContour,c=h.cd[0],x=c.trace,g=h.xa,d=h.ya,v=c.x,y=c.y,m=c.z,w=c.xCenter,f=c.yCenter,S=c.zmask,T=x.zhoverformat,E=v,O=y;if(h.index!==!1){try{s=Math.round(h.index[1]),u=Math.round(h.index[0])}catch{return void k.error("Error hovering on heatmap, pointNumber must be [row,col], found:",h.index)}if(s<0||s>=m[0].length||u<0||u>m.length)return}else{if(M.inbox(o-v[0],o-v[v.length-1],0)>0||M.inbox(t-y[0],t-y[y.length-1],0)>0)return;if(p){var P;for(E=[2*v[0]-v[1]],P=1;P<v.length;P++)E.push((v[P]+v[P-1])/2);for(E.push([2*v[v.length-1]-v[v.length-2]]),O=[2*y[0]-y[1]],P=1;P<y.length;P++)O.push((y[P]+y[P-1])/2);O.push([2*y[y.length-1]-y[y.length-2]])}s=Math.max(0,Math.min(E.length-2,k.findBin(o,E))),u=Math.max(0,Math.min(O.length-2,k.findBin(t,O)))}var I,z,j=g.c2p(v[s]),R=g.c2p(v[s+1]),N=d.c2p(y[u]),Z=d.c2p(y[u+1]);p?(I=c.orig_x||v,z=c.orig_y||y,R=j,r=I[s],Z=N,l=z[u]):(I=c.orig_x||w||v,z=c.orig_y||f||y,r=w?I[s]:(I[s]+I[s+1])/2,l=f?z[u]:(z[u]+z[u+1])/2,g&&g.type==="category"&&(r=v[s]),d&&d.type==="category"&&(l=y[u]),x.zsmooth&&(j=R=g.c2p(r),N=Z=d.c2p(l)));var F=m[u][s];if(S&&!S[u][s]&&(F=void 0),F!==void 0||x.hoverongaps){var U;a(c.hovertext)&&a(c.hovertext[u])?U=c.hovertext[u][s]:a(c.text)&&a(c.text[u])&&(U=c.text[u][s]);var V=b(x),te={type:"linear",range:[V.min,V.max],hoverformat:T,_separators:g._separators,_numFormat:g._numFormat},Q=_.tickText(te,F,"hover").text;return[k.extendFlat(h,{index:x._after2before?x._after2before[u][s]:[u,s],distance:h.maxHoverDistance,spikeDistance:h.maxSpikeDistance,x0:j,x1:R,y0:N,y1:Z,xLabelVal:r,yLabelVal:l,zLabelVal:F,zLabel:Q,text:U})]}}},92165:function(q,C,e){q.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(q,C,e){var M=e(71828),k=[[-1,0],[1,0],[0,-1],[0,1]];function a(b){return .5-.25*Math.min(1,.5*b)}function _(b,h,o){var t,i,n,r,l,s,u,p,c,x,g,d,v,y=0;for(r=0;r<h.length;r++){for(i=(t=h[r])[0],n=t[1],g=b[i][n],x=0,c=0,l=0;l<4;l++)(u=b[i+(s=k[l])[0]])&&(p=u[n+s[1]])!==void 0&&(x===0?d=v=p:(d=Math.min(d,p),v=Math.max(v,p)),c++,x+=p);if(c===0)throw"iterateInterp2d order is wrong: no defined neighbors";b[i][n]=x/c,g===void 0?c<4&&(y=1):(b[i][n]=(1+o)*b[i][n]-o*g,v>d&&(y=Math.max(y,Math.abs(b[i][n]-g)/(v-d))))}return y}q.exports=function(b,h){var o,t=1;for(_(b,h),o=0;o<h.length&&!(h[o][2]<4);o++);for(h=h.slice(o),o=0;o<100&&t>.01;o++)t=_(b,h,a(t));return t>.01&&M.log("interp2d didn't converge quickly",t),b}},58623:function(q,C,e){var M=e(71828);q.exports=function(k,a){k("texttemplate");var _=M.extendFlat({},a.font,{color:"auto",size:"auto"});M.coerceFont(k,"textfont",_)}},70769:function(q,C,e){var M=e(73972),k=e(71828).isArrayOrTypedArray;q.exports=function(a,_,b,h,o,t){var i,n,r,l=[],s=M.traceIs(a,"contour"),u=M.traceIs(a,"histogram"),p=M.traceIs(a,"gl2d");if(k(_)&&_.length>1&&!u&&t.type!=="category"){var c=_.length;if(!(c<=o))return s?_.slice(0,o):_.slice(0,o+1);if(s||p)l=Array.from(_).slice(0,o);else if(o===1)l=[_[0]-.5,_[0]+.5];else{for(l=[1.5*_[0]-.5*_[1]],r=1;r<c;r++)l.push(.5*(_[r-1]+_[r]));l.push(1.5*_[c-1]-.5*_[c-2])}if(c<o){var x=l[l.length-1],g=x-l[l.length-2];for(r=c;r<o;r++)x+=g,l.push(x)}}else{var d=a[t._id.charAt(0)+"calendar"];for(i=u?t.r2c(b,0,d):k(_)&&_.length===1?_[0]:b===void 0?0:(t.type==="log"?t.d2c:t.r2c)(b,0,d),n=h||1,r=s||p?0:-.5;r<o;r++)l.push(i+n*r)}return l}},50347:function(q,C,e){var M=e(39898),k=e(84267),a=e(73972),_=e(91424),b=e(89298),h=e(71828),o=e(63893),t=e(8225),i=e(7901),n=e(21081).extractOpts,r=e(21081).makeColorScaleFuncFromTrace,l=e(77922),s=e(18783).LINE_SPACING,u=e(3883),p=e(32396).STYLE,c="heatmap-label";function x(m){return m.selectAll("g."+c)}function g(m){x(m).remove()}function d(m,w){var f=w.length-2,S=h.constrain(h.findBin(m,w),0,f),T=w[S],E=w[S+1],O=h.constrain(S+(m-T)/(E-T)-.5,0,f),P=Math.round(O),I=Math.abs(O-P);return O&&O!==f&&I?{bin0:P,frac:I,bin1:Math.round(P+I/(O-P))}:{bin0:P,bin1:P,frac:0}}function v(m,w){var f=w.length-1,S=h.constrain(h.findBin(m,w),0,f),T=w[S],E=(m-T)/(w[S+1]-T)||0;return E<=0?{bin0:S,bin1:S,frac:0}:E<.5?{bin0:S,bin1:S+1,frac:E}:{bin0:S+1,bin1:S,frac:1-E}}function y(m,w,f){m[w]=f[0],m[w+1]=f[1],m[w+2]=f[2],m[w+3]=Math.round(255*f[3])}q.exports=function(m,w,f,S){var T=w.xaxis,E=w.yaxis;h.makeTraceGroups(S,f,"hm").each(function(O){var P,I,z,j,R,N,Z,F,U=M.select(this),V=O[0],te=V.trace,Q=te.xgap||0,J=te.ygap||0,X=V.z,K=V.x,ee=V.y,re=V.xCenter,ie=V.yCenter,ae=a.traceIs(te,"contour"),ue=ae?"best":te.zsmooth,pe=X.length,de=h.maxRowLength(X),ye=!1,be=!1;for(N=0;P===void 0&&N<K.length-1;)P=T.c2p(K[N]),N++;for(N=K.length-1;I===void 0&&N>0;)I=T.c2p(K[N]),N--;for(I<P&&(z=I,I=P,P=z,ye=!0),N=0;j===void 0&&N<ee.length-1;)j=E.c2p(ee[N]),N++;for(N=ee.length-1;R===void 0&&N>0;)R=E.c2p(ee[N]),N--;R<j&&(z=j,j=R,R=z,be=!0),ae&&(re=K,ie=ee,K=V.xfill,ee=V.yfill);var me="default";if(ue?me=ue==="best"?"smooth":"fast":te._islinear&&Q===0&&J===0&&u()&&(me="fast"),me!=="fast"){var Ee=ue==="best"?0:.5;P=Math.max(-Ee*T._length,P),I=Math.min((1+Ee)*T._length,I),j=Math.max(-Ee*E._length,j),R=Math.min((1+Ee)*E._length,R)}var Te,we,oe=Math.round(I-P),se=Math.round(R-j);if(P>=T._length||I<=0||j>=E._length||R<=0)return U.selectAll("image").data([]).exit().remove(),void g(U);me==="fast"?(Te=de,we=pe):(Te=oe,we=se);var he=document.createElement("canvas");he.width=Te,he.height=we;var Se,_e,Ae=he.getContext("2d",{willReadFrequently:!0}),Ce=r(te,{noNumericCheck:!0,returnArray:!0});me==="fast"?(Se=ye?function(Gt){return de-1-Gt}:h.identity,_e=be?function(Gt){return pe-1-Gt}:h.identity):(Se=function(Gt){return h.constrain(Math.round(T.c2p(K[Gt])-P),0,oe)},_e=function(Gt){return h.constrain(Math.round(E.c2p(ee[Gt])-j),0,se)});var Re,fe,xe,ke,Ie=_e(0),Fe=[Ie,Ie],ze=ye?0:1,qe=be?0:1,Ye=0,Qe=0,ft=0,ht=0;function mt(Gt,tn){if(Gt!==void 0){var dn=Ce(Gt);return dn[0]=Math.round(dn[0]),dn[1]=Math.round(dn[1]),dn[2]=Math.round(dn[2]),Ye+=tn,Qe+=dn[0]*tn,ft+=dn[1]*tn,ht+=dn[2]*tn,dn}return[0,0,0,0]}function Mt(Gt,tn,dn,vn){var On=Gt[dn.bin0];if(On===void 0)return mt(void 0,1);var Vn,Bn=Gt[dn.bin1],Un=tn[dn.bin0],tr=tn[dn.bin1],$t=Bn-On||0,bn=Un-On||0;return Vn=Bn===void 0?tr===void 0?0:Un===void 0?2*(tr-On):2*(2*tr-Un-On)/3:tr===void 0?Un===void 0?0:2*(2*On-Bn-Un)/3:Un===void 0?2*(2*tr-Bn-On)/3:tr+On-Bn-Un,mt(On+dn.frac*$t+vn.frac*(bn+dn.frac*Vn))}if(me!=="default"){var _t,it=0;try{_t=new Uint8Array(Te*we*4)}catch{_t=new Array(Te*we*4)}if(me==="smooth"){var st,St,zt,Ft=re||K,Pt=ie||ee,Ze=new Array(Ft.length),Je=new Array(Pt.length),Ue=new Array(oe),Xe=re?v:d,lt=ie?v:d;for(N=0;N<Ft.length;N++)Ze[N]=Math.round(T.c2p(Ft[N])-P);for(N=0;N<Pt.length;N++)Je[N]=Math.round(E.c2p(Pt[N])-j);for(N=0;N<oe;N++)Ue[N]=Xe(N,Ze);for(Z=0;Z<se;Z++)for(St=X[(st=lt(Z,Je)).bin0],zt=X[st.bin1],N=0;N<oe;N++,it+=4)y(_t,it,ke=Mt(St,zt,Ue[N],st))}else for(Z=0;Z<pe;Z++)for(xe=X[Z],Fe=_e(Z),N=0;N<de;N++)ke=mt(xe[N],1),y(_t,it=4*(Fe*de+Se(N)),ke);var ot=Ae.createImageData(Te,we);try{ot.data.set(_t)}catch{var Be=ot.data,Ne=Be.length;for(Z=0;Z<Ne;Z++)Be[Z]=_t[Z]}Ae.putImageData(ot,0,0)}else{var at=Math.floor(Q/2),$e=Math.floor(J/2);for(Z=0;Z<pe;Z++)if(xe=X[Z],Fe.reverse(),Fe[qe]=_e(Z+1),Fe[0]!==Fe[1]&&Fe[0]!==void 0&&Fe[1]!==void 0)for(Re=[fe=Se(0),fe],N=0;N<de;N++)Re.reverse(),Re[ze]=Se(N+1),Re[0]!==Re[1]&&Re[0]!==void 0&&Re[1]!==void 0&&(ke=mt(xe[N],(Re[1]-Re[0])*(Fe[1]-Fe[0])),Ae.fillStyle="rgba("+ke.join(",")+")",Ae.fillRect(Re[0]+at,Fe[0]+$e,Re[1]-Re[0]-Q,Fe[1]-Fe[0]-J))}Qe=Math.round(Qe/Ye),ft=Math.round(ft/Ye),ht=Math.round(ht/Ye);var gt=k("rgb("+Qe+","+ft+","+ht+")");m._hmpixcount=(m._hmpixcount||0)+Ye,m._hmlumcount=(m._hmlumcount||0)+Ye*gt.getLuminance();var yt=U.selectAll("image").data(O);yt.enter().append("svg:image").attr({xmlns:l.svg,preserveAspectRatio:"none"}),yt.attr({height:se,width:oe,x:P,y:j,"xlink:href":he.toDataURL("image/png")}),me!=="fast"||ue||yt.attr("style",p),g(U);var xt=te.texttemplate;if(xt){var dt=n(te),Lt={type:"linear",range:[dt.min,dt.max],_separators:T._separators,_numFormat:T._numFormat},Tt=te.type==="histogram2dcontour",bt=te.type==="contour",Ct=bt?pe-1:pe,Dt=bt?1:0,Bt=bt?de-1:de,Xt=[];for(N=bt?1:0;N<Ct;N++){var an;if(bt)an=V.y[N];else if(Tt){if(N===0||N===pe-1)continue;an=V.y[N]}else if(V.yCenter)an=V.yCenter[N];else{if(N+1===pe&&V.y[N+1]===void 0)continue;an=(V.y[N]+V.y[N+1])/2}var Wt=Math.round(E.c2p(an));if(!(0>Wt||Wt>E._length))for(Z=Dt;Z<Bt;Z++){var Vt;if(bt)Vt=V.x[Z];else if(Tt){if(Z===0||Z===de-1)continue;Vt=V.x[Z]}else if(V.xCenter)Vt=V.xCenter[Z];else{if(Z+1===de&&V.x[Z+1]===void 0)continue;Vt=(V.x[Z]+V.x[Z+1])/2}var on=Math.round(T.c2p(Vt));if(!(0>on||on>T._length)){var Sn=t({x:Vt,y:an},te,m._fullLayout);Sn.x=Vt,Sn.y=an;var Ln=V.z[N][Z];Ln===void 0?(Sn.z="",Sn.zLabel=""):(Sn.z=Ln,Sn.zLabel=b.tickText(Lt,Ln,"hover").text);var fn=V.text&&V.text[N]&&V.text[N][Z];fn!==void 0&&fn!==!1||(fn=""),Sn.text=fn;var Zt=h.texttemplateString(xt,Sn,m._fullLayout._d3locale,Sn,te._meta||{});if(Zt){var ln=Zt.split("<br>"),nn=ln.length,cn=0;for(F=0;F<nn;F++)cn=Math.max(cn,ln[F].length);Xt.push({l:nn,c:cn,t:Zt,x:on,y:Wt,z:Ln})}}}}var kn=te.textfont,An=kn.family,wn=kn.size,Cn=m._fullLayout.font.size;if(!wn||wn==="auto"){var _n=1/0,zn=1/0,Hn=0,ar=0;for(F=0;F<Xt.length;F++){var fr=Xt[F];if(Hn=Math.max(Hn,fr.l),ar=Math.max(ar,fr.c),F<Xt.length-1){var rr=Xt[F+1],Xn=Math.abs(rr.x-fr.x),gr=Math.abs(rr.y-fr.y);Xn&&(_n=Math.min(_n,Xn)),gr&&(zn=Math.min(zn,gr))}}isFinite(_n)&&isFinite(zn)?(_n-=Q,zn-=J,_n/=ar,zn/=Hn,_n/=s/2,zn/=s,wn=Math.min(Math.floor(_n),Math.floor(zn),Cn)):wn=Cn}if(wn<=0||!isFinite(wn))return;x(U).data(Xt).enter().append("g").classed(c,1).append("text").attr("text-anchor","middle").each(function(Gt){var tn=M.select(this),dn=kn.color;dn&&dn!=="auto"||(dn=i.contrast("rgba("+Ce(Gt.z).join()+")")),tn.attr("data-notex",1).call(o.positionText,function(vn){return vn.x}(Gt),function(vn){return vn.y-wn*(vn.l*s/2-1)}(Gt)).call(_.font,An,wn,dn).text(Gt.t).call(o.convertToTspans,m)})}})}},70035:function(q,C,e){var M=e(39898);q.exports=function(k){M.select(k).selectAll(".hm image").style("opacity",function(a){return a.trace.opacity})}},49901:function(q){q.exports=function(C,e,M){M("zsmooth")===!1&&(M("xgap"),M("ygap")),M("zhoverformat")}},67684:function(q,C,e){var M=e(92770),k=e(71828),a=e(73972);function _(b,h){var o=h(b);return(o?h(b+"type","array"):"scaled")==="scaled"&&(h(b+"0"),h("d"+b)),o}q.exports=function(b,h,o,t,i,n){var r,l,s=o("z");if(i=i||"x",n=n||"y",s===void 0||!s.length)return 0;if(k.isArray1D(s)){r=o(i),l=o(n);var u=k.minRowLength(r),p=k.minRowLength(l);if(u===0||p===0)return 0;h._length=Math.min(u,p,s.length)}else{if(r=_(i,o),l=_(n,o),!function(c){for(var x,g=!0,d=!1,v=!1,y=0;y<c.length;y++){if(x=c[y],!k.isArrayOrTypedArray(x)){g=!1;break}x.length>0&&(d=!0);for(var m=0;m<x.length;m++)if(M(x[m])){v=!0;break}}return g&&d&&v}(s))return 0;o("transpose"),h._length=null}return b.type==="heatmapgl"||a.getComponentMethod("calendars","handleTraceDefaults")(b,h,[i,n],t),!0}},16063:function(q,C,e){for(var M=e(21606),k=e(50693),a=e(1426).extendFlat,_=e(30962).overrideAll,b=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],h={},o=0;o<b.length;o++){var t=b[o];h[t]=M[t]}h.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},a(h,k("",{cLetter:"z",autoColorDflt:!1})),q.exports=_(h,"calc","nested")},59560:function(q,C,e){var M=e(9330).gl_heatmap2d,k=e(89298),a=e(78614);function _(h,o){this.scene=h,this.uid=o,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=M(h.glplot,this.options),this.heatmap._trace=this}var b=_.prototype;b.handlePick=function(h){var o=this.options,t=o.shape,i=h.pointId,n=i%t[0],r=Math.floor(i/t[0]),l=i;return{trace:this,dataCoord:h.dataCoord,traceCoord:[o.x[n],o.y[r],o.z[l]],textLabel:this.textLabels[i],name:this.name,pointIndex:[r,n],hoverinfo:this.hoverinfo}},b.update=function(h,o){var t=o[0];this.index=h.index,this.name=h.name,this.hoverinfo=h.hoverinfo;var i=t.z;this.options.z=[].concat.apply([],i);var n=i[0].length,r=i.length;this.options.shape=[n,r],this.options.x=t.x,this.options.y=t.y,this.options.zsmooth=h.zsmooth;var l=function(x){for(var g=x.colorscale,d=x.zmin,v=x.zmax,y=g.length,m=new Array(y),w=new Array(4*y),f=0;f<y;f++){var S=g[f],T=a(S[1]);m[f]=d+S[0]*(v-d);for(var E=0;E<4;E++)w[4*f+E]=T[E]}return{colorLevels:m,colorValues:w}}(h);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],h.text),this.heatmap.update(this.options);var s,u,p=this.scene.xaxis,c=this.scene.yaxis;h.zsmooth===!1&&(s={ppad:t.x[1]-t.x[0]},u={ppad:t.y[1]-t.y[0]}),h._extremes[p._id]=k.findExtremes(p,t.x,s),h._extremes[c._id]=k.findExtremes(c,t.y,u)},b.dispose=function(){this.heatmap.dispose()},q.exports=function(h,o,t){var i=new _(h,o.uid);return i.update(o,t),i}},19600:function(q,C,e){var M=e(71828),k=e(67684),a=e(1586),_=e(16063);q.exports=function(b,h,o,t){function i(n,r){return M.coerce(b,h,_,n,r)}k(b,h,i,t)?(i("text"),i("zsmooth"),a(b,h,t,i,{prefix:"",cLetter:"z"})):h.visible=!1}},3325:function(q,C,e){q.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(q,C,e){var M=e(1486),k=e(12663).axisHoverFormat,a=e(5386).fF,_=e(5386).si,b=e(41940),h=e(17656),o=e(72406),t=e(1426).extendFlat;q.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:k("x"),yhoverformat:k("y"),text:t({},M.text,{}),hovertext:t({},M.hovertext,{}),orientation:M.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:h("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:h("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({},{keys:o.eventDataKeys}),texttemplate:_({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},M.textposition,{arrayOk:!1}),textfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:M.insidetextanchor,textangle:M.textangle,cliponaxis:M.cliponaxis,constraintext:M.constraintext,marker:M.marker,offsetgroup:M.offsetgroup,alignmentgroup:M.alignmentgroup,selected:M.selected,unselected:M.unselected,_deprecated:{bardir:M._deprecated.bardir}}},42174:function(q){q.exports=function(C,e){for(var M=C.length,k=0,a=0;a<M;a++)e[a]?(C[a]/=e[a],k+=C[a]):C[a]=null;return k}},17656:function(q){q.exports=function(C,e){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(q,C,e){var M=e(92770);q.exports={count:function(k,a,_){return _[k]++,1},sum:function(k,a,_,b){var h=b[a];return M(h)?(h=Number(h),_[k]+=h,h):0},avg:function(k,a,_,b,h){var o=b[a];return M(o)&&(o=Number(o),_[k]+=o,h[k]++),0},min:function(k,a,_,b){var h=b[a];if(M(h)){if(h=Number(h),!M(_[k]))return _[k]=h,h;if(_[k]>h){var o=h-_[k];return _[k]=h,o}}return 0},max:function(k,a,_,b){var h=b[a];if(M(h)){if(h=Number(h),!M(_[k]))return _[k]=h,h;if(_[k]<h){var o=h-_[k];return _[k]=h,o}}return 0}}},40965:function(q,C,e){var M=e(50606),k=M.ONEAVGYEAR,a=M.ONEAVGMONTH,_=M.ONEDAY,b=M.ONEHOUR,h=M.ONEMIN,o=M.ONESEC,t=e(89298).tickIncrement;function i(s,u,p,c){if(s*u<=0)return 1/0;for(var x=Math.abs(u-s),g=p.type==="date",d=n(x,g),v=0;v<10;v++){var y=n(80*d,g);if(d===y||!r(y,s,u,g,p,c))break;d=y}return d}function n(s,u){return u&&s>o?s>_?s>1.1*k?k:s>1.1*a?a:_:s>b?b:s>h?h:o:Math.pow(10,Math.floor(Math.log(s)/Math.LN10))}function r(s,u,p,c,x,g){if(c&&s>_){var d=l(u,x,g),v=l(p,x,g),y=s===k?0:1;return d[y]!==v[y]}return Math.floor(p/s)-Math.floor(u/s)>.1}function l(s,u,p){var c=u.c2d(s,k,p).split("-");return c[0]===""&&(c.unshift(),c[0]="-"+c[0]),c}q.exports=function(s,u,p,c,x){var g,d,v=-1.1*u,y=-.1*u,m=s-y,w=p[0],f=p[1],S=Math.min(i(w+y,w+m,c,x),i(f+y,f+m,c,x)),T=Math.min(i(w+v,w+y,c,x),i(f+v,f+y,c,x));if(S>T&&T<Math.abs(f-w)/4e3?(g=S,d=!1):(g=Math.min(S,T),d=!0),c.type==="date"&&g>_){var E=g===k?1:6,O=g===k?"M12":"M1";return function(P,I){var z=c.c2d(P,k,x),j=z.indexOf("-",E);j>0&&(z=z.substr(0,j));var R=c.d2c(z,0,x);if(R<P){var N=t(R,O,!1,x);(R+N)/2<P+s&&(R=N)}return I&&d?t(R,O,!0,x):R}}return function(P,I){var z=g*Math.round(P/g);return z+g/10<P&&z+.9*g<P+s&&(z+=g),I&&d&&(z-=g),z}}},72138:function(q,C,e){var M=e(92770),k=e(71828),a=e(73972),_=e(89298),b=e(75341),h=e(59575),o=e(36362),t=e(42174),i=e(40965);function n(r,l,s,u,p){var c,x,g,d,v,y,m,w=u+"bins",f=r._fullLayout,S=l["_"+u+"bingroup"],T=f._histogramBinOpts[S],E=f.barmode==="overlay",O=function(be){return s.r2c(be,0,d)},P=function(be){return s.c2r(be,0,d)},I=s.type==="date"?function(be){return be||be===0?k.cleanDate(be,null,d):null}:function(be){return M(be)?Number(be):null};function z(be,me,Ee){me[be+"Found"]?(me[be]=I(me[be]),me[be]===null&&(me[be]=Ee[be])):(y[be]=me[be]=Ee[be],k.nestedProperty(x[0],w+"."+be).set(Ee[be]))}if(l["_"+u+"autoBinFinished"])delete l["_"+u+"autoBinFinished"];else{x=T.traces;var j=[],R=!0,N=!1,Z=!1;for(c=0;c<x.length;c++)if((g=x[c]).visible){var F=T.dirs[c];v=g["_"+F+"pos0"]=s.makeCalcdata(g,F),j=k.concat(j,v),delete g["_"+u+"autoBinFinished"],l.visible===!0&&(R?R=!1:(delete g._autoBin,g["_"+u+"autoBinFinished"]=1),a.traceIs(g,"2dMap")&&(N=!0),g.type==="histogram2dcontour"&&(Z=!0))}d=x[0][u+"calendar"];var U=_.autoBin(j,s,T.nbins,N,d,T.sizeFound&&T.size),V=x[0]._autoBin={};if(y=V[T.dirs[0]]={},Z&&(T.size||(U.start=P(_.tickIncrement(O(U.start),U.size,!0,d))),T.end===void 0&&(U.end=P(_.tickIncrement(O(U.end),U.size,!1,d)))),E&&!a.traceIs(l,"2dMap")&&U._dataSpan===0&&s.type!=="category"&&s.type!=="multicategory"&&l.bingroup===""&&l.xbins===void 0){if(p)return[U,v,!0];U=function(be,me,Ee,Te,we){var oe,se,he,Se=be._fullLayout,_e=function(Qe,ft){for(var ht=ft.xaxis,mt=ft.yaxis,Mt=ft.orientation,_t=[],it=Qe._fullData,st=0;st<it.length;st++){var St=it[st];St.type==="histogram"&&St.visible===!0&&St.orientation===Mt&&St.xaxis===ht&&St.yaxis===mt&&_t.push(St)}return _t}(be,me),Ae=!1,Ce=1/0,Re=[me];for(oe=0;oe<_e.length;oe++)if((se=_e[oe])===me)Ae=!0;else if(Ae){var fe=n(be,se,Ee,Te,!0),xe=fe[0],ke=fe[2];se["_"+Te+"autoBinFinished"]=1,se["_"+Te+"pos0"]=fe[1],ke?Re.push(se):Ce=Math.min(Ce,xe.size)}else he=Se._histogramBinOpts[se["_"+Te+"bingroup"]],Ce=Math.min(Ce,he.size||se[we].size);var Ie=new Array(Re.length);for(oe=0;oe<Re.length;oe++)for(var Fe=Re[oe]["_"+Te+"pos0"],ze=0;ze<Fe.length;ze++)if(Fe[ze]!==void 0){Ie[oe]=Fe[ze];break}for(isFinite(Ce)||(Ce=k.distinctVals(Ie).minDiff),oe=0;oe<Re.length;oe++){var qe=(se=Re[oe])[Te+"calendar"],Ye={start:Ee.c2r(Ie[oe]-Ce/2,0,qe),end:Ee.c2r(Ie[oe]+Ce/2,0,qe),size:Ce};se._input[we]=se[we]=Ye,(he=Se._histogramBinOpts[se["_"+Te+"bingroup"]])&&k.extendFlat(he,Ye)}return me[we]}(r,l,s,u,w)}(m=g.cumulative||{}).enabled&&m.currentbin!=="include"&&(m.direction==="decreasing"?U.start=P(_.tickIncrement(O(U.start),U.size,!0,d)):U.end=P(_.tickIncrement(O(U.end),U.size,!1,d))),T.size=U.size,T.sizeFound||(y.size=U.size,k.nestedProperty(x[0],w+".size").set(U.size)),z("start",T,U),z("end",T,U)}v=l["_"+u+"pos0"],delete l["_"+u+"pos0"];var te=l._input[w]||{},Q=k.extendFlat({},T),J=T.start,X=s.r2l(te.start),K=X!==void 0;if((T.startFound||K)&&X!==s.r2l(J)){var ee=K?X:k.aggNums(Math.min,null,v),re={type:s.type==="category"||s.type==="multicategory"?"linear":s.type,r2l:s.r2l,dtick:T.size,tick0:J,calendar:d,range:[ee,_.tickIncrement(ee,T.size,!1,d)].map(s.l2r)},ie=_.tickFirst(re);ie>s.r2l(ee)&&(ie=_.tickIncrement(ie,T.size,!0,d)),Q.start=s.l2r(ie),K||k.nestedProperty(l,w+".start").set(Q.start)}var ae=T.end,ue=s.r2l(te.end),pe=ue!==void 0;if((T.endFound||pe)&&ue!==s.r2l(ae)){var de=pe?ue:k.aggNums(Math.max,null,v);Q.end=s.l2r(de),pe||k.nestedProperty(l,w+".start").set(Q.end)}var ye="autobin"+u;return l._input[ye]===!1&&(l._input[w]=k.extendFlat({},l[w]||{}),delete l._input[ye],delete l[ye]),[Q,v]}q.exports={calc:function(r,l){var s,u,p,c,x=[],g=[],d=l.orientation==="h",v=_.getFromId(r,d?l.yaxis:l.xaxis),y=d?"y":"x",m={x:"y",y:"x"}[y],w=l[y+"calendar"],f=l.cumulative,S=n(r,l,v,y),T=S[0],E=S[1],O=typeof T.size=="string",P=[],I=O?P:T,z=[],j=[],R=[],N=0,Z=l.histnorm,F=l.histfunc,U=Z.indexOf("density")!==-1;f.enabled&&U&&(Z=Z.replace(/ ?density$/,""),U=!1);var V,te=F==="max"||F==="min"?null:0,Q=h.count,J=o[Z],X=!1,K=function(se){return v.r2c(se,0,w)};for(k.isArrayOrTypedArray(l[m])&&F!=="count"&&(V=l[m],X=F==="avg",Q=h[F]),s=K(T.start),p=K(T.end)+(s-_.tickIncrement(s,T.size,!1,w))/1e6;s<p&&x.length<1e6&&(u=_.tickIncrement(s,T.size,!1,w),x.push((s+u)/2),g.push(te),R.push([]),P.push(s),U&&z.push(1/(u-s)),X&&j.push(0),!(u<=s));)s=u;P.push(s),O||v.type!=="date"||(I={start:K(I.start),end:K(I.end),size:I.size}),r._fullLayout._roundFnOpts||(r._fullLayout._roundFnOpts={});var ee=l["_"+y+"bingroup"],re={leftGap:1/0,rightGap:1/0};ee&&(r._fullLayout._roundFnOpts[ee]||(r._fullLayout._roundFnOpts[ee]=re),re=r._fullLayout._roundFnOpts[ee]);var ie,ae=g.length,ue=!0,pe=re.leftGap,de=re.rightGap,ye={};for(s=0;s<E.length;s++){var be=E[s];(c=k.findBin(be,I))>=0&&c<ae&&(N+=Q(c,s,g,V,j),ue&&R[c].length&&be!==E[R[c][0]]&&(ue=!1),R[c].push(s),ye[s]=c,pe=Math.min(pe,be-P[c]),de=Math.min(de,P[c+1]-be))}re.leftGap=pe,re.rightGap=de,ue||(ie=function(se,he){return function(){var Se=r._fullLayout._roundFnOpts[ee];return i(Se.leftGap,Se.rightGap,P,v,w)(se,he)}}),X&&(N=t(g,j)),J&&J(g,N,z),f.enabled&&function(se,he,Se){var _e,Ae,Ce;function Re(xe){Ce=se[xe],se[xe]/=2}function fe(xe){Ae=se[xe],se[xe]=Ce+Ae/2,Ce+=Ae}if(Se==="half")if(he==="increasing")for(Re(0),_e=1;_e<se.length;_e++)fe(_e);else for(Re(se.length-1),_e=se.length-2;_e>=0;_e--)fe(_e);else if(he==="increasing"){for(_e=1;_e<se.length;_e++)se[_e]+=se[_e-1];Se==="exclude"&&(se.unshift(0),se.pop())}else{for(_e=se.length-2;_e>=0;_e--)se[_e]+=se[_e+1];Se==="exclude"&&(se.push(0),se.shift())}}(g,f.direction,f.currentbin);var me=Math.min(x.length,g.length),Ee=[],Te=0,we=me-1;for(s=0;s<me;s++)if(g[s]){Te=s;break}for(s=me-1;s>=Te;s--)if(g[s]){we=s;break}for(s=Te;s<=we;s++)if(M(x[s])&&M(g[s])){var oe={p:x[s],s:g[s],b:0};f.enabled||(oe.pts=R[s],ue?oe.ph0=oe.ph1=R[s].length?E[R[s][0]]:x[s]:(l._computePh=!0,oe.ph0=ie(P[s]),oe.ph1=ie(P[s+1],!0))),Ee.push(oe)}return Ee.length===1&&(Ee[0].width1=_.tickIncrement(Ee[0].p,T.size,!1,w)-Ee[0].p),b(Ee,l),k.isArrayOrTypedArray(l.selectedpoints)&&k.tagSelected(Ee,l,ye),Ee},calcAllAutoBins:n}},72406:function(q){q.exports={eventDataKeys:["binNumber"]}},82222:function(q,C,e){var M=e(71828),k=e(41675),a=e(73972).traceIs,_=e(26125),b=M.nestedProperty,h=e(99082).getAxisGroup,o=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];q.exports=function(i,n){var r,l,s,u,p,c,x,g=n._histogramBinOpts={},d=[],v={},y=[];function m(U,V){return M.coerce(r._input,r,r._module.attributes,U,V)}function w(U){return U.orientation==="v"?"x":"y"}function f(U,V,te){var Q=U.uid+"__"+te;V||(V=Q);var J=function(re,ie){return k.getFromTrace({_fullLayout:n},re,ie).type}(U,te),X=U[te+"calendar"]||"",K=g[V],ee=!0;K&&(J===K.axType&&X===K.calendar?(ee=!1,K.traces.push(U),K.dirs.push(te)):(V=Q,J!==K.axType&&M.warn(["Attempted to group the bins of trace",U.index,"set on a","type:"+J,"axis","with bins on","type:"+K.axType,"axis."].join(" ")),X!==K.calendar&&M.warn(["Attempted to group the bins of trace",U.index,"set with a",X,"calendar","with bins",K.calendar?"on a "+K.calendar+" calendar":"w/o a set calendar"].join(" ")))),ee&&(g[V]={traces:[U],dirs:[te],axType:J,calendar:U[te+"calendar"]||""}),U["_"+te+"bingroup"]=V}for(p=0;p<i.length;p++)r=i[p],a(r,"histogram")&&(d.push(r),delete r._xautoBinFinished,delete r._yautoBinFinished,a(r,"2dMap")||_(r._input,r,n,m));var S=n._alignmentOpts||{};for(p=0;p<d.length;p++){if(r=d[p],s="",!a(r,"2dMap")){if(u=w(r),n.barmode==="group"&&r.alignmentgroup){var T=r[u+"axis"],E=h(n,T)+r.orientation;(S[E]||{})[r.alignmentgroup]&&(s=E)}s||n.barmode==="overlay"||(s=h(n,r.xaxis)+h(n,r.yaxis)+w(r))}s?(v[s]||(v[s]=[]),v[s].push(r)):y.push(r)}for(s in v)if((l=v[s]).length!==1){var O=!1;for(l.length&&(r=l[0],O=m("bingroup")),s=O||s,p=0;p<l.length;p++){var P=(r=l[p])._input.bingroup;P&&P!==s&&M.warn(["Trace",r.index,"must match","within bingroup",s+".","Ignoring its bingroup:",P,"setting."].join(" ")),r.bingroup=s,f(r,s,w(r))}}else y.push(l[0]);for(p=0;p<y.length;p++){r=y[p];var I=m("bingroup");if(a(r,"2dMap"))for(x=0;x<2;x++){var z=m((u=t[x])+"bingroup",I?I+"__"+u:null);f(r,z,u)}else f(r,I,w(r))}for(s in g){var j=g[s];for(l=j.traces,c=0;c<o.length;c++){var R,N,Z=o[c],F=Z.name;if(F!=="nbins"||!j.sizeFound){for(p=0;p<l.length;p++){if(r=l[p],u=j.dirs[p],R=Z.aStr[u],b(r._input,R).get()!==void 0){j[F]=m(R),j[F+"Found"]=!0;break}(N=(r._autoBin||{})[u]||{})[F]&&b(r,R).set(N[F])}if(F==="start"||F==="end")for(;p<l.length;p++)(r=l[p])["_"+u+"bingroup"]&&m(R,(N=(r._autoBin||{})[u]||{})[F]);F!=="nbins"||j.sizeFound||j.nbinsFound||(r=l[0],j[F]=m(R))}}}}},11385:function(q,C,e){var M=e(73972),k=e(71828),a=e(7901),_=e(90769).handleText,b=e(98340),h=e(7745);q.exports=function(o,t,i,n){function r(y,m){return k.coerce(o,t,h,y,m)}var l=r("x"),s=r("y");r("cumulative.enabled")&&(r("cumulative.direction"),r("cumulative.currentbin")),r("text");var u=r("textposition");_(o,t,n,r,u,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),r("hovertext"),r("hovertemplate"),r("xhoverformat"),r("yhoverformat");var p=r("orientation",s&&!l?"h":"v"),c=p==="v"?"x":"y",x=p==="v"?"y":"x",g=l&&s?Math.min(k.minRowLength(l)&&k.minRowLength(s)):k.minRowLength(t[c]||[]);if(g){t._length=g,M.getComponentMethod("calendars","handleTraceDefaults")(o,t,["x","y"],n),t[x]&&r("histfunc"),r("histnorm"),r("autobin"+c),b(o,t,r,i,n),k.coerceSelectionMarkerOpacity(t,r);var d=(t.marker.line||{}).color,v=M.getComponentMethod("errorbars","supplyDefaults");v(o,t,d||a.defaultLine,{axis:"y"}),v(o,t,d||a.defaultLine,{axis:"x",inherit:"y"})}else t.visible=!1}},84402:function(q){q.exports=function(C,e,M,k,a){if(C.x="xVal"in e?e.xVal:e.x,C.y="yVal"in e?e.yVal:e.y,"zLabelVal"in e&&(C.z=e.zLabelVal),e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),!(M.cumulative||{}).enabled){var _,b=Array.isArray(a)?k[0].pts[a[0]][a[1]]:k[a].pts;if(C.pointNumbers=b,C.binNumber=C.pointNumber,delete C.pointNumber,delete C.pointIndex,M._indexToPoints){_=[];for(var h=0;h<b.length;h++)_=_.concat(M._indexToPoints[b[h]])}else _=b;C.pointIndices=_}return C}},76440:function(q,C,e){var M=e(95423).hoverPoints,k=e(89298).hoverLabelText;q.exports=function(a,_,b,h,o){var t=M(a,_,b,h,o);if(t){var i=(a=t[0]).cd[a.index],n=a.cd[0].trace;if(!n.cumulative.enabled){var r=n.orientation==="h"?"y":"x";a[r+"Label"]=k(a[r+"a"],[i.ph0,i.ph1],n[r+"hoverformat"])}return t}}},36071:function(q,C,e){q.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(q){q.exports={percent:function(C,e){for(var M=C.length,k=100/e,a=0;a<M;a++)C[a]*=k},probability:function(C,e){for(var M=C.length,k=0;k<M;k++)C[k]/=e},density:function(C,e,M,k){var a=C.length;k=k||1;for(var _=0;_<a;_++)C[_]*=M[_]*k},"probability density":function(C,e,M,k){var a=C.length;k&&(e/=k);for(var _=0;_<a;_++)C[_]*=M[_]/e}}},35361:function(q,C,e){var M=e(7745),k=e(17656),a=e(21606),_=e(9012),b=e(12663).axisHoverFormat,h=e(5386).fF,o=e(5386).si,t=e(50693),i=e(1426).extendFlat;q.exports=i({x:M.x,y:M.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:M.histnorm,histfunc:M.histfunc,nbinsx:M.nbinsx,xbins:k("x"),nbinsy:M.nbinsy,ybins:k("y"),autobinx:M.autobinx,autobiny:M.autobiny,bingroup:i({},M.bingroup,{}),xbingroup:i({},M.bingroup,{}),ybingroup:i({},M.bingroup,{}),xgap:a.xgap,ygap:a.ygap,zsmooth:a.zsmooth,xhoverformat:b("x"),yhoverformat:b("y"),zhoverformat:b("z",1),hovertemplate:h({},{keys:"z"}),texttemplate:o({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:a.textfont,showlegend:i({},_.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},17562:function(q,C,e){var M=e(71828),k=e(89298),a=e(59575),_=e(36362),b=e(42174),h=e(40965),o=e(72138).calcAllAutoBins;function t(r,l,s,u){var p,c=new Array(r);if(u)for(p=0;p<r;p++)c[p]=1/(l[p+1]-l[p]);else{var x=1/s;for(p=0;p<r;p++)c[p]=x}return c}function i(r,l){return{start:r(l.start),end:r(l.end),size:l.size}}function n(r,l,s,u,p,c){var x,g=r.length-1,d=new Array(g),v=h(s,u,r,p,c);for(x=0;x<g;x++){var y=(l||[])[x];d[x]=y===void 0?[v(r[x]),v(r[x+1],!0)]:[y,y]}return d}q.exports=function(r,l){var s,u,p,c,x=k.getFromId(r,l.xaxis),g=k.getFromId(r,l.yaxis),d=l.xcalendar,v=l.ycalendar,y=function(mt){return x.r2c(mt,0,d)},m=function(mt){return g.r2c(mt,0,v)},w=o(r,l,x,"x"),f=w[0],S=w[1],T=o(r,l,g,"y"),E=T[0],O=T[1],P=l._length;S.length>P&&S.splice(P,S.length-P),O.length>P&&O.splice(P,O.length-P);var I=[],z=[],j=[],R=typeof f.size=="string",N=typeof E.size=="string",Z=[],F=[],U=R?Z:f,V=N?F:E,te=0,Q=[],J=[],X=l.histnorm,K=l.histfunc,ee=X.indexOf("density")!==-1,re=K==="max"||K==="min"?null:0,ie=a.count,ae=_[X],ue=!1,pe=[],de=[],ye="z"in l?l.z:"marker"in l&&Array.isArray(l.marker.color)?l.marker.color:"";ye&&K!=="count"&&(ue=K==="avg",ie=a[K]);var be=f.size,me=y(f.start),Ee=y(f.end)+(me-k.tickIncrement(me,be,!1,d))/1e6;for(s=me;s<Ee;s=k.tickIncrement(s,be,!1,d))z.push(re),Z.push(s),ue&&j.push(0);Z.push(s);var Te,we=z.length,oe=(s-me)/we,se=(Te=me+oe/2,x.c2r(Te,0,d)),he=E.size,Se=m(E.start),_e=m(E.end)+(Se-k.tickIncrement(Se,he,!1,v))/1e6;for(s=Se;s<_e;s=k.tickIncrement(s,he,!1,v)){I.push(z.slice()),F.push(s);var Ae=new Array(we);for(u=0;u<we;u++)Ae[u]=[];J.push(Ae),ue&&Q.push(j.slice())}F.push(s);var Ce=I.length,Re=(s-Se)/Ce,fe=function(mt){return g.c2r(mt,0,v)}(Se+Re/2);ee&&(pe=t(z.length,U,oe,R),de=t(I.length,V,Re,N)),R||x.type!=="date"||(U=i(y,U)),N||g.type!=="date"||(V=i(m,V));var xe=!0,ke=!0,Ie=new Array(we),Fe=new Array(Ce),ze=1/0,qe=1/0,Ye=1/0,Qe=1/0;for(s=0;s<P;s++){var ft=S[s],ht=O[s];p=M.findBin(ft,U),c=M.findBin(ht,V),p>=0&&p<we&&c>=0&&c<Ce&&(te+=ie(p,s,I[c],ye,Q[c]),J[c][p].push(s),xe&&(Ie[p]===void 0?Ie[p]=ft:Ie[p]!==ft&&(xe=!1)),ke&&(Fe[c]===void 0?Fe[c]=ht:Fe[c]!==ht&&(ke=!1)),ze=Math.min(ze,ft-Z[p]),qe=Math.min(qe,Z[p+1]-ft),Ye=Math.min(Ye,ht-F[c]),Qe=Math.min(Qe,F[c+1]-ht))}if(ue)for(c=0;c<Ce;c++)te+=b(I[c],Q[c]);if(ae)for(c=0;c<Ce;c++)ae(I[c],te,pe,de[c]);return{x:S,xRanges:n(Z,xe&&Ie,ze,qe,x,d),x0:se,dx:oe,y:O,yRanges:n(F,ke&&Fe,Ye,Qe,g,v),y0:fe,dy:Re,z:I,pts:J}}},93888:function(q,C,e){var M=e(71828),k=e(75238),a=e(49901),_=e(1586),b=e(58623),h=e(35361);q.exports=function(o,t,i,n){function r(l,s){return M.coerce(o,t,h,l,s)}k(o,t,r,n),t.visible!==!1&&(a(o,t,r,n),_(o,t,n,r,{prefix:"",cLetter:"z"}),r("hovertemplate"),b(r,n),r("xhoverformat"),r("yhoverformat"))}},76128:function(q,C,e){var M=e(46248),k=e(89298).hoverLabelText;q.exports=function(a,_,b,h,o){var t=M(a,_,b,h,o);if(t){var i=(a=t[0]).index,n=i[0],r=i[1],l=a.cd[0],s=l.trace,u=l.xRanges[r],p=l.yRanges[n];return a.xLabel=k(a.xa,[u[0],u[1]],s.xhoverformat),a.yLabel=k(a.ya,[p[0],p[1]],s.yhoverformat),t}}},43905:function(q,C,e){q.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(q,C,e){var M=e(73972),k=e(71828);q.exports=function(a,_,b,h){var o=b("x"),t=b("y"),i=k.minRowLength(o),n=k.minRowLength(t);i&&n?(_._length=Math.min(i,n),M.getComponentMethod("calendars","handleTraceDefaults")(a,_,["x","y"],h),(b("z")||b("marker.color"))&&b("histfunc"),b("histnorm"),b("autobinx"),b("autobiny")):_.visible=!1}},99066:function(q,C,e){var M=e(35361),k=e(70600),a=e(50693),_=e(12663).axisHoverFormat,b=e(1426).extendFlat;q.exports=b({x:M.x,y:M.y,z:M.z,marker:M.marker,histnorm:M.histnorm,histfunc:M.histfunc,nbinsx:M.nbinsx,xbins:M.xbins,nbinsy:M.nbinsy,ybins:M.ybins,autobinx:M.autobinx,autobiny:M.autobiny,bingroup:M.bingroup,xbingroup:M.xbingroup,ybingroup:M.ybingroup,autocontour:k.autocontour,ncontours:k.ncontours,contours:k.contours,line:{color:k.line.color,width:b({},k.line.width,{dflt:.5}),dash:k.line.dash,smoothing:k.line.smoothing,editType:"plot"},xhoverformat:_("x"),yhoverformat:_("y"),zhoverformat:_("z",1),hovertemplate:M.hovertemplate,texttemplate:k.texttemplate,textfont:k.textfont},a("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(q,C,e){var M=e(71828),k=e(75238),a=e(67217),_=e(8724),b=e(58623),h=e(99066);q.exports=function(o,t,i,n){function r(l,s){return M.coerce(o,t,h,l,s)}k(o,t,r,n),t.visible!==!1&&(a(o,t,r,function(l){return M.coerce2(o,t,h,l)}),_(o,t,r,n),r("xhoverformat"),r("yhoverformat"),r("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&b(r,n))}},35902:function(q,C,e){q.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(q,C,e){var M=e(5386).fF,k=e(5386).si,a=e(50693),_=e(27670).Y,b=e(34e3),h=e(57564),o=e(45802),t=e(43473),i=e(1426).extendFlat,n=e(79952).u;q.exports={labels:h.labels,parents:h.parents,values:h.values,branchvalues:h.branchvalues,count:h.count,level:h.level,maxdepth:h.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:o.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:i({colors:h.marker.colors,line:h.marker.line,pattern:n,editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),leaf:h.leaf,pathbar:o.pathbar,text:b.text,textinfo:h.textinfo,texttemplate:k({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:b.hovertext,hoverinfo:h.hoverinfo,hovertemplate:M({},{keys:t.eventDataKeys}),textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:o.outsidetextfont,textposition:o.textposition,sort:b.sort,root:h.root,domain:_({name:"icicle",trace:!0,editType:"calc"})}},96346:function(q,C,e){var M=e(74875);C.name="icicle",C.plot=function(k,a,_,b){M.plotBasePlot(C.name,k,a,_,b)},C.clean=function(k,a,_,b){M.cleanBasePlot(C.name,k,a,_,b)}},46584:function(q,C,e){var M=e(52147);C.y=function(k,a){return M.calc(k,a)},C.T=function(k){return M._runCrossTraceCalc("icicle",k)}},56524:function(q,C,e){var M=e(71828),k=e(46291),a=e(7901),_=e(27670).c,b=e(90769).handleText,h=e(97313).TEXTPAD,o=e(37434).handleMarkerDefaults,t=e(21081),i=t.hasColorscale,n=t.handleDefaults;q.exports=function(r,l,s,u){function p(m,w){return M.coerce(r,l,k,m,w)}var c=p("labels"),x=p("parents");if(c&&c.length&&x&&x.length){var g=p("values");g&&g.length?p("branchvalues"):p("count"),p("level"),p("maxdepth"),p("tiling.orientation"),p("tiling.flip"),p("tiling.pad");var d=p("text");p("texttemplate"),l.texttemplate||p("textinfo",M.isArrayOrTypedArray(d)?"text+label":"label"),p("hovertext"),p("hovertemplate");var v=p("pathbar.visible");b(r,l,u,p,"auto",{hasPathbar:v,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),p("textposition"),o(r,l,u,p);var y=l._hasColorscale=i(r,"marker","colors")||(r.marker||{}).coloraxis;y&&n(r,l,u,p,{prefix:"marker.",cLetter:"c"}),p("leaf.opacity",y?1:.7),l._hovered={marker:{line:{width:2,color:a.contrast(u.paper_bgcolor)}}},v&&(p("pathbar.thickness",l.pathbar.textfont.size+2*h),p("pathbar.side"),p("pathbar.edgeshape")),p("sort"),p("root.color"),_(l,u,p),l._length=null}else l.visible=!1}},90666:function(q,C,e){var M=e(39898),k=e(71828),a=e(91424),_=e(63893),b=e(21538),h=e(82454).styleOne,o=e(43473),t=e(2791),i=e(83523),n=e(24714).formatSliceLabel,r=!1;q.exports=function(l,s,u,p,c){var x=c.width,g=c.height,d=c.viewX,v=c.viewY,y=c.pathSlice,m=c.toMoveInsideSlice,w=c.strTransform,f=c.hasTransition,S=c.handleSlicesExit,T=c.makeUpdateSliceInterpolator,E=c.makeUpdateTextInterpolator,O=c.prevEntry,P=l._context.staticPlot,I=l._fullLayout,z=s[0].trace,j=z.textposition.indexOf("left")!==-1,R=z.textposition.indexOf("right")!==-1,N=z.textposition.indexOf("bottom")!==-1,Z=b(u,[x,g],{flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,orientation:z.tiling.orientation,pad:{inner:z.tiling.pad},maxDepth:z._maxDepth}).descendants(),F=1/0,U=-1/0;Z.forEach(function(X){var K=X.depth;K>=z._maxDepth?(X.x0=X.x1=(X.x0+X.x1)/2,X.y0=X.y1=(X.y0+X.y1)/2):(F=Math.min(F,K),U=Math.max(U,K))}),p=p.data(Z,t.getPtId),z._maxVisibleLayers=isFinite(U)?U-F+1:0,p.enter().append("g").classed("slice",!0),S(p,r,{},[x,g],y),p.order();var V=null;if(f&&O){var te=t.getPtId(O);p.each(function(X){V===null&&t.getPtId(X)===te&&(V={x0:X.x0,x1:X.x1,y0:X.y0,y1:X.y1})})}var Q=function(){return V||{x0:0,x1:x,y0:0,y1:g}},J=p;return f&&(J=J.transition().each("end",function(){var X=M.select(this);t.setSliceCursor(X,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),J.each(function(X){X._x0=d(X.x0),X._x1=d(X.x1),X._y0=v(X.y0),X._y1=v(X.y1),X._hoverX=d(X.x1-z.tiling.pad),X._hoverY=v(N?X.y1-z.tiling.pad/2:X.y0+z.tiling.pad/2);var K=M.select(this),ee=k.ensureSingle(K,"path","surface",function(ue){ue.style("pointer-events",P?"none":"all")});f?ee.transition().attrTween("d",function(ue){var pe=T(ue,r,Q(),[x,g],{orientation:z.tiling.orientation,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1});return function(de){return y(pe(de))}}):ee.attr("d",y),K.call(i,u,l,s,{styleOne:h,eventDataKeys:o.eventDataKeys,transitionTime:o.CLICK_TRANSITION_TIME,transitionEasing:o.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,l,{isTransitioning:l._transitioning}),ee.call(h,X,z,l,{hovered:!1}),X.x0===X.x1||X.y0===X.y1?X._text="":X._text=n(X,u,z,s,I)||"";var re=k.ensureSingle(K,"g","slicetext"),ie=k.ensureSingle(re,"text","",function(ue){ue.attr("data-notex",1)}),ae=k.ensureUniformFontSize(l,t.determineTextFont(z,X,I.font));ie.text(X._text||" ").classed("slicetext",!0).attr("text-anchor",R?"end":j?"start":"middle").call(a.font,ae).call(_.convertToTspans,l),X.textBB=a.bBox(ie.node()),X.transform=m(X,{fontSize:ae.size}),X.transform.fontSize=ae.size,f?ie.transition().attrTween("transform",function(ue){var pe=E(ue,r,Q(),[x,g]);return function(de){return w(pe(de))}}):ie.attr("transform",w(X))}),V}},69816:function(q,C,e){q.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(q){q.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(q,C,e){var M=e(71828),k=e(92894);q.exports=function(a,_){function b(h,o){return M.coerce(a,_,k,h,o)}b("iciclecolorway",_.colorway),b("extendiciclecolors")}},21538:function(q,C,e){var M=e(674),k=e(14102);q.exports=function(a,_,b){var h=b.flipX,o=b.flipY,t=b.orientation==="h",i=b.maxDepth,n=_[0],r=_[1];i&&(n=(a.height+1)*_[0]/Math.min(a.height+1,i),r=(a.height+1)*_[1]/Math.min(a.height+1,i));var l=M.partition().padding(b.pad.inner).size(t?[_[1],n]:[_[0],r])(a);return(t||h||o)&&k(l,_,{swapXY:t,flipX:h,flipY:o}),l}},85596:function(q,C,e){var M=e(80694),k=e(90666);q.exports=function(a,_,b,h){return M(a,_,b,h,{type:"icicle",drawDescendants:k})}},82454:function(q,C,e){var M=e(39898),k=e(7901),a=e(71828),_=e(72597).resizeText,b=e(43467);function h(o,t,i,n){var r=t.data.data,l=!t.children,s=r.i,u=a.castOption(i,s,"marker.line.color")||k.defaultLine,p=a.castOption(i,s,"marker.line.width")||0;o.call(b,t,i,n).style("stroke-width",p).call(k.stroke,u).style("opacity",l?i.leaf.opacity:null)}q.exports={style:function(o){var t=o._fullLayout._iciclelayer.selectAll(".trace");_(o,t,"icicle"),t.each(function(i){var n=M.select(this),r=i[0].trace;n.style("opacity",r.opacity),n.selectAll("path.surface").each(function(l){M.select(this).call(h,l,r,o)})})},styleOne:h}},17230:function(q,C,e){for(var M=e(9012),k=e(5386).fF,a=e(1426).extendFlat,_=e(51877).colormodel,b=["rgb","rgba","rgba256","hsl","hsla"],h=[],o=[],t=0;t<b.length;t++){var i=_[b[t]];h.push("For the `"+b[t]+"` colormodel, it is ["+(i.zminDflt||i.min).join(", ")+"]."),o.push("For the `"+b[t]+"` colormodel, it is ["+(i.zmaxDflt||i.max).join(", ")+"].")}q.exports=a({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:b,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:a({},M.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:k({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(q,C,e){var M=e(71828),k=e(51877),a=e(92770),_=e(89298),b=e(71828).maxRowLength,h=e(67395).A;function o(i,n,r,l){return function(s){return M.constrain((s-i)*n,r,l)}}function t(i,n){return function(r){return M.constrain(r,i,n)}}q.exports=function(i,n){var r,l;if(n._hasZ)r=n.z.length,l=b(n.z);else if(n._hasSource){var s=h(n.source);r=s.height,l=s.width}var u,p=_.getFromId(i,n.xaxis||"x"),c=_.getFromId(i,n.yaxis||"y"),x=p.d2c(n.x0)-n.dx/2,g=c.d2c(n.y0)-n.dy/2,d=[x,x+l*n.dx],v=[g,g+r*n.dy];if(p&&p.type==="log")for(u=0;u<l;u++)d.push(x+u*n.dx);if(c&&c.type==="log")for(u=0;u<r;u++)v.push(g+u*n.dy);return n._extremes[p._id]=_.findExtremes(p,d),n._extremes[c._id]=_.findExtremes(c,v),n._scaler=function(y){var m=k.colormodel[y.colormodel],w=(m.colormodel||y.colormodel).length;y._sArray=[];for(var f=0;f<w;f++)m.min[f]!==y.zmin[f]||m.max[f]!==y.zmax[f]?y._sArray.push(o(y.zmin[f],(m.max[f]-m.min[f])/(y.zmax[f]-y.zmin[f]),m.min[f],m.max[f])):y._sArray.push(t(m.min[f],m.max[f]));return function(S){for(var T=S.slice(0,w),E=0;E<w;E++){var O=T[E];if(!a(O))return!1;T[E]=y._sArray[E](O)}return T}}(n),[{x0:x,y0:g,z:n.z,w:l,h:r}]}},51877:function(q){q.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(C){return C.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(C){return C.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(C){return C.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(C){var e=C.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(C){var e=C.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%",""]}}}},13245:function(q,C,e){var M=e(71828),k=e(17230),a=e(51877),_=e(25095).IMAGE_URL_PREFIX;q.exports=function(b,h){function o(n,r){return M.coerce(b,h,k,n,r)}o("source"),h.source&&!h.source.match(_)&&delete h.source,h._hasSource=!!h.source;var t,i=o("z");h._hasZ=!(i===void 0||!i.length||!i[0]||!i[0].length),h._hasZ||h._hasSource?(o("x0"),o("y0"),o("dx"),o("dy"),h._hasZ?(o("colormodel","rgb"),o("zmin",(t=a.colormodel[h.colormodel]).zminDflt||t.min),o("zmax",t.zmaxDflt||t.max)):h._hasSource&&(h.colormodel="rgba256",t=a.colormodel[h.colormodel],h.zmin=t.zminDflt,h.zmax=t.zmaxDflt),o("zsmooth"),o("text"),o("hovertext"),o("hovertemplate"),h._length=null):h.visible=!1}},30835:function(q){q.exports=function(C,e){return"xVal"in e&&(C.x=e.xVal),"yVal"in e&&(C.y=e.yVal),e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),C.color=e.color,C.colormodel=e.trace.colormodel,C.z||(C.z=e.color),C}},67395:function(q,C,e){var M=e(33575),k=e(25095).IMAGE_URL_PREFIX,a=e(12856).Buffer;C.A=function(_){var b=_.replace(k,""),h=new a(b,"base64");return M(h)}},28749:function(q,C,e){var M=e(30211),k=e(71828),a=k.isArrayOrTypedArray,_=e(51877);q.exports=function(b,h,o){var t=b.cd[0],i=t.trace,n=b.xa,r=b.ya;if(!(M.inbox(h-t.x0,h-(t.x0+t.w*i.dx),0)>0||M.inbox(o-t.y0,o-(t.y0+t.h*i.dy),0)>0)){var l,s=Math.floor((h-t.x0)/i.dx),u=Math.floor(Math.abs(o-t.y0)/i.dy);if(i._hasZ?l=t.z[u][s]:i._hasSource&&(l=i._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(s,u,1,1).data),l){var p,c=t.hi||i.hoverinfo;if(c){var x=c.split("+");x.indexOf("all")!==-1&&(x=["color"]),x.indexOf("color")!==-1&&(p=!0)}var g,d=_.colormodel[i.colormodel],v=d.colormodel||i.colormodel,y=v.length,m=i._scaler(l),w=d.suffix,f=[];(i.hovertemplate||p)&&(f.push("["+[m[0]+w[0],m[1]+w[1],m[2]+w[2]].join(", ")),y===4&&f.push(", "+m[3]+w[3]),f.push("]"),f=f.join(""),b.extraText=v.toUpperCase()+": "+f),a(i.hovertext)&&a(i.hovertext[u])?g=i.hovertext[u][s]:a(i.text)&&a(i.text[u])&&(g=i.text[u][s]);var S=r.c2p(t.y0+(u+.5)*i.dy),T=t.x0+(s+.5)*i.dx,E=t.y0+(u+.5)*i.dy,O="["+l.slice(0,i.colormodel.length).join(", ")+"]";return[k.extendFlat(b,{index:[u,s],x0:n.c2p(t.x0+s*i.dx),x1:n.c2p(t.x0+(s+1)*i.dx),y0:S,y1:S,color:m,xVal:T,xLabelVal:T,yVal:E,yLabelVal:E,zLabelVal:O,text:g,hovertemplateLabels:{zLabel:O,colorLabel:f,"color[0]Label":m[0]+w[0],"color[1]Label":m[1]+w[1],"color[2]Label":m[2]+w[2],"color[3]Label":m[3]+w[3]}})]}}}},94507:function(q,C,e){q.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(q,C,e){var M=e(39898),k=e(71828),a=k.strTranslate,_=e(77922),b=e(51877),h=e(3883),o=e(32396).STYLE;q.exports=function(t,i,n,r){var l=i.xaxis,s=i.yaxis,u=!t._context._exportedPlot&&h();k.makeTraceGroups(r,n,"im").each(function(p){var c=M.select(this),x=p[0],g=x.trace,d=(g.zsmooth==="fast"||g.zsmooth===!1&&u)&&!g._hasZ&&g._hasSource&&l.type==="linear"&&s.type==="linear";g._realImage=d;var v,y,m,w,f,S,T=x.z,E=x.x0,O=x.y0,P=x.w,I=x.h,z=g.dx,j=g.dy;for(S=0;v===void 0&&S<P;)v=l.c2p(E+S*z),S++;for(S=P;y===void 0&&S>0;)y=l.c2p(E+S*z),S--;for(S=0;w===void 0&&S<I;)w=s.c2p(O+S*j),S++;for(S=I;f===void 0&&S>0;)f=s.c2p(O+S*j),S--;y<v&&(m=y,y=v,v=m),f<w&&(m=w,w=f,f=m),d||(v=Math.max(-.5*l._length,v),y=Math.min(1.5*l._length,y),w=Math.max(-.5*s._length,w),f=Math.min(1.5*s._length,f));var R=Math.round(y-v),N=Math.round(f-w);if(R<=0||N<=0)c.selectAll("image").data([]).exit().remove();else{var Z=c.selectAll("image").data([p]);Z.enter().append("svg:image").attr({xmlns:_.svg,preserveAspectRatio:"none"}),Z.exit().remove();var F=g.zsmooth===!1?o:"";if(d){var U=k.simpleMap(l.range,l.r2l),V=k.simpleMap(s.range,s.r2l),te=U[1]<U[0],Q=V[1]>V[0];if(te||Q){var J=v+R/2,X=w+N/2;F+="transform:"+a(J+"px",X+"px")+"scale("+(te?-1:1)+","+(Q?-1:1)+")"+a(-J+"px",-X+"px")+";"}}Z.attr("style",F);var K=new Promise(function(re){if(g._hasZ)re();else if(g._hasSource)if(g._canvas&&g._canvas.el.width===P&&g._canvas.el.height===I&&g._canvas.source===g.source)re();else{var ie=document.createElement("canvas");ie.width=P,ie.height=I;var ae=ie.getContext("2d",{willReadFrequently:!0});g._image=g._image||new Image;var ue=g._image;ue.onload=function(){ae.drawImage(ue,0,0),g._canvas={el:ie,source:g.source},re()},ue.setAttribute("src",g.source)}}).then(function(){var re,ie;if(g._hasZ)ie=ee(function(ue,pe){var de=T[pe][ue];return k.isTypedArray(de)&&(de=Array.from(de)),de}),re=ie.toDataURL("image/png");else if(g._hasSource)if(d)re=g.source;else{var ae=g._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,P,I).data;ie=ee(function(ue,pe){var de=4*(pe*P+ue);return[ae[de],ae[de+1],ae[de+2],ae[de+3]]}),re=ie.toDataURL("image/png")}Z.attr({"xlink:href":re,height:N,width:R,x:v,y:w})});t._promises.push(K)}function ee(re){var ie=document.createElement("canvas");ie.width=R,ie.height=N;var ae,ue=ie.getContext("2d",{willReadFrequently:!0}),pe=function(he){return k.constrain(Math.round(l.c2p(E+he*z)-v),0,R)},de=function(he){return k.constrain(Math.round(s.c2p(O+he*j)-w),0,N)},ye=b.colormodel[g.colormodel],be=ye.colormodel||g.colormodel,me=ye.fmt;for(S=0;S<x.w;S++){var Ee=pe(S),Te=pe(S+1);if(Te!==Ee&&!isNaN(Te)&&!isNaN(Ee))for(var we=0;we<x.h;we++){var oe=de(we),se=de(we+1);se===oe||isNaN(se)||isNaN(oe)||!re(S,we)||(ae=g._scaler(re(S,we)),ue.fillStyle=ae?be+"("+me(ae).join(",")+")":"rgba(0,0,0,0)",ue.fillRect(Ee,oe,Te-Ee,se-oe))}}return ie}})}},12826:function(q,C,e){var M=e(39898);q.exports=function(k){M.select(k).selectAll(".im image").style("opacity",function(a){return a[0].trace.opacity})}},54846:function(q,C,e){var M=e(1426).extendFlat,k=e(1426).extendDeep,a=e(30962).overrideAll,_=e(41940),b=e(22399),h=e(27670).Y,o=e(13838),t=e(44467).templatedArray,i=e(22372),n=e(12663).descriptionOnlyNumbers,r=_({editType:"plot",colorEditType:"plot"}),l={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:b.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},s={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=t("step",k({},l,{range:s}));q.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:h({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:M({},r,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:n("value")},font:M({},r,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:n("value")},increasing:{symbol:{valType:"string",dflt:i.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:i.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:i.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:i.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:M({},r,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:k({},l,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:b.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:a({range:s,visible:M({},o.visible,{dflt:!0}),tickmode:o.minor.tickmode,nticks:o.nticks,tick0:o.tick0,dtick:o.dtick,tickvals:o.tickvals,ticktext:o.ticktext,ticks:M({},o.ticks,{dflt:"outside"}),ticklen:o.ticklen,tickwidth:o.tickwidth,tickcolor:o.tickcolor,ticklabelstep:o.ticklabelstep,showticklabels:o.showticklabels,labelalias:o.labelalias,tickfont:_({}),tickangle:o.tickangle,tickformat:o.tickformat,tickformatstops:o.tickformatstops,tickprefix:o.tickprefix,showtickprefix:o.showtickprefix,ticksuffix:o.ticksuffix,showticksuffix:o.showticksuffix,separatethousands:o.separatethousands,exponentformat:o.exponentformat,minexponent:o.minexponent,showexponent:o.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:M({},l.line.color,{}),width:M({},l.line.width,{dflt:1}),editType:"plot"},thickness:M({},l.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(q,C,e){var M=e(74875);C.name="indicator",C.plot=function(k,a,_,b){M.plotBasePlot(C.name,k,a,_,b)},C.clean=function(k,a,_,b){M.cleanBasePlot(C.name,k,a,_,b)}},24667:function(q){q.exports={calc:function(C,e){var M=[],k=e.value;typeof e._lastValue!="number"&&(e._lastValue=e.value);var a=e._lastValue,_=a;return e._hasDelta&&typeof e.delta.reference=="number"&&(_=e.delta.reference),M[0]={y:k,lastY:a,delta:k-_,relativeDelta:(k-_)/_},M}}},84577:function(q){q.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(q,C,e){var M=e(71828),k=e(54846),a=e(27670).c,_=e(44467),b=e(85501),h=e(84577),o=e(26218),t=e(38701),i=e(96115),n=e(89426);function r(l,s){function u(p,c){return M.coerce(l,s,k.gauge.steps,p,c)}u("color"),u("line.color"),u("line.width"),u("range"),u("thickness")}q.exports={supplyDefaults:function(l,s,u,p){function c(O,P){return M.coerce(l,s,k,O,P)}a(s,p,c),c("mode"),s._hasNumber=s.mode.indexOf("number")!==-1,s._hasDelta=s.mode.indexOf("delta")!==-1,s._hasGauge=s.mode.indexOf("gauge")!==-1;var x=c("value");s._range=[0,typeof x=="number"?1.5*x:1];var g,d,v,y,m,w,f=new Array(2);function S(O,P){return M.coerce(v,y,k.gauge,O,P)}function T(O,P){return M.coerce(m,w,k.gauge.axis,O,P)}if(s._hasNumber&&(c("number.valueformat"),c("number.font.color",p.font.color),c("number.font.family",p.font.family),c("number.font.size"),s.number.font.size===void 0&&(s.number.font.size=h.defaultNumberFontSize,f[0]=!0),c("number.prefix"),c("number.suffix"),g=s.number.font.size),s._hasDelta&&(c("delta.font.color",p.font.color),c("delta.font.family",p.font.family),c("delta.font.size"),s.delta.font.size===void 0&&(s.delta.font.size=(s._hasNumber?.5:1)*(g||h.defaultNumberFontSize),f[1]=!0),c("delta.reference",s.value),c("delta.relative"),c("delta.valueformat",s.delta.relative?"2%":""),c("delta.increasing.symbol"),c("delta.increasing.color"),c("delta.decreasing.symbol"),c("delta.decreasing.color"),c("delta.position"),c("delta.prefix"),c("delta.suffix"),d=s.delta.font.size),s._scaleNumbers=(!s._hasNumber||f[0])&&(!s._hasDelta||f[1])||!1,c("title.font.color",p.font.color),c("title.font.family",p.font.family),c("title.font.size",.25*(g||d||h.defaultNumberFontSize)),c("title.text"),s._hasGauge){(v=l.gauge)||(v={}),y=_.newContainer(s,"gauge"),S("shape"),(s._isBullet=s.gauge.shape==="bullet")||c("title.align","center"),(s._isAngular=s.gauge.shape==="angular")||c("align","center"),S("bgcolor",p.paper_bgcolor),S("borderwidth"),S("bordercolor"),S("bar.color"),S("bar.line.color"),S("bar.line.width"),S("bar.thickness",h.valueThickness*(s.gauge.shape==="bullet"?.5:1)),b(v,y,{name:"steps",handleItemDefaults:r}),S("threshold.value"),S("threshold.thickness"),S("threshold.line.width"),S("threshold.line.color"),m={},v&&(m=v.axis||{}),w=_.newContainer(y,"axis"),T("visible"),s._range=T("range",s._range);var E={outerTicks:!0};o(m,w,T,"linear"),n(m,w,T,"linear",E),i(m,w,T,"linear",E),t(m,w,T,E)}else c("title.align","center"),c("align","center"),s._isAngular=s._isBullet=!1;s._length=null}}},15154:function(q,C,e){q.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(q,C,e){var M=e(39898),k=e(81684).sX,a=e(81684).k4,_=e(71828),b=_.strScale,h=_.strTranslate,o=_.rad2deg,t=e(18783).MID_SHIFT,i=e(91424),n=e(84577),r=e(63893),l=e(89298),s=e(71453),u=e(52830),p=e(13838),c=e(7901),x={left:"start",center:"middle",right:"end"},g={left:0,center:.5,right:1},d=/[yzafpnmkMGTPEZY]/;function v(T){return T&&T.duration>0}function y(T){T.each(function(E){c.stroke(M.select(this),E.line.color)}).each(function(E){c.fill(M.select(this),E.color)}).style("stroke-width",function(E){return E.line.width})}function m(T,E,O){var P=T._fullLayout,I=_.extendFlat({type:"linear",ticks:"outside",range:O,showline:!0},E),z={type:"linear",_id:"x"+E._id},j={letter:"x",font:P.font,noHover:!0,noTickson:!0};function R(N,Z){return _.coerce(I,z,p,N,Z)}return s(I,z,R,j,P),u(I,z,R,j),z}function w(T,E,O){return[Math.min(E/T.width,O/T.height),T,E+"x"+O]}function f(T,E,O,P){var I=document.createElementNS("http://www.w3.org/2000/svg","text"),z=M.select(I);return z.text(T).attr("x",0).attr("y",0).attr("text-anchor",O).attr("data-unformatted",T).call(r.convertToTspans,P).call(i.font,E),i.bBox(z.node())}function S(T,E,O,P,I,z){var j="_cache"+E;T[j]&&T[j].key===I||(T[j]={key:I,value:O});var R=_.aggNums(z,null,[T[j].value,P],2);return T[j].value=R,R}q.exports=function(T,E,O,P){var I,z=T._fullLayout;v(O)&&P&&(I=P()),_.makeTraceGroups(z._indicatorlayer,E,"trace").each(function(j){var R,N,Z,F,U,V=j[0].trace,te=M.select(this),Q=V._hasGauge,J=V._isAngular,X=V._isBullet,K=V.domain,ee={w:z._size.w*(K.x[1]-K.x[0]),h:z._size.h*(K.y[1]-K.y[0]),l:z._size.l+z._size.w*K.x[0],r:z._size.r+z._size.w*(1-K.x[1]),t:z._size.t+z._size.h*(1-K.y[1]),b:z._size.b+z._size.h*K.y[0]},re=ee.l+ee.w/2,ie=ee.t+ee.h/2,ae=Math.min(ee.w/2,ee.h),ue=n.innerRadius*ae,pe=V.align||"center";if(N=ie,Q){if(J&&(R=re,N=ie+ae/2,Z=function(oe){return function(se,he){return[he/Math.sqrt(se.width/2*(se.width/2)+se.height*se.height),se,he]}(oe,.9*ue)}),X){var de=n.bulletPadding,ye=1-n.bulletNumberDomainSize+de;R=ee.l+(ye+(1-ye)*g[pe])*ee.w,Z=function(oe){return w(oe,(n.bulletNumberDomainSize-de)*ee.w,ee.h)}}}else R=ee.l+g[pe]*ee.w,Z=function(oe){return w(oe,ee.w,ee.h)};(function(oe,se,he,Se){var _e,Ae,Ce,Re=he[0].trace,fe=Se.numbersX,xe=Se.numbersY,ke=Re.align||"center",Ie=x[ke],Fe=Se.transitionOpts,ze=Se.onComplete,qe=_.ensureSingle(se,"g","numbers"),Ye=[];Re._hasNumber&&Ye.push("number"),Re._hasDelta&&(Ye.push("delta"),Re.delta.position==="left"&&Ye.reverse());var Qe=qe.selectAll("text").data(Ye);function ft(zt,Ft,Pt,Ze){if(!zt.match("s")||Pt>=0==Ze>=0||Ft(Pt).slice(-1).match(d)||Ft(Ze).slice(-1).match(d))return Ft;var Je=zt.slice().replace("s","f").replace(/\d+/,function(Xe){return parseInt(Xe)-1}),Ue=m(oe,{tickformat:Je});return function(Xe){return Math.abs(Xe)<1?l.tickText(Ue,Xe).text:Ft(Xe)}}Qe.enter().append("text"),Qe.attr("text-anchor",function(){return Ie}).attr("class",function(zt){return zt}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),Qe.exit().remove();var ht,mt=Re.mode+Re.align;if(Re._hasDelta&&(ht=function(){var zt=m(oe,{tickformat:Re.delta.valueformat},Re._range);zt.setScale(),l.prepTicks(zt);var Ft=function(Be){return l.tickText(zt,Be).text},Pt=Re.delta.suffix,Ze=Re.delta.prefix,Je=function(Be){return Re.delta.relative?Be.relativeDelta:Be.delta},Ue=function(Be,Ne){return Be===0||typeof Be!="number"||isNaN(Be)?"-":(Be>0?Re.delta.increasing.symbol:Re.delta.decreasing.symbol)+Ze+Ne(Be)+Pt},Xe=function(Be){return Be.delta>=0?Re.delta.increasing.color:Re.delta.decreasing.color};Re._deltaLastValue===void 0&&(Re._deltaLastValue=Je(he[0]));var lt=qe.select("text.delta");function ot(){lt.text(Ue(Je(he[0]),Ft)).call(c.fill,Xe(he[0])).call(r.convertToTspans,oe)}return lt.call(i.font,Re.delta.font).call(c.fill,Xe({delta:Re._deltaLastValue})),v(Fe)?lt.transition().duration(Fe.duration).ease(Fe.easing).tween("text",function(){var Be=M.select(this),Ne=Je(he[0]),at=Re._deltaLastValue,$e=ft(Re.delta.valueformat,Ft,at,Ne),gt=a(at,Ne);return Re._deltaLastValue=Ne,function(yt){Be.text(Ue(gt(yt),$e)),Be.call(c.fill,Xe({delta:gt(yt)}))}}).each("end",function(){ot(),ze&&ze()}).each("interrupt",function(){ot(),ze&&ze()}):ot(),Ae=f(Ue(Je(he[0]),Ft),Re.delta.font,Ie,oe),lt}(),mt+=Re.delta.position+Re.delta.font.size+Re.delta.font.family+Re.delta.valueformat,mt+=Re.delta.increasing.symbol+Re.delta.decreasing.symbol,Ce=Ae),Re._hasNumber&&(function(){var zt=m(oe,{tickformat:Re.number.valueformat},Re._range);zt.setScale(),l.prepTicks(zt);var Ft=function(Xe){return l.tickText(zt,Xe).text},Pt=Re.number.suffix,Ze=Re.number.prefix,Je=qe.select("text.number");function Ue(){var Xe=typeof he[0].y=="number"?Ze+Ft(he[0].y)+Pt:"-";Je.text(Xe).call(i.font,Re.number.font).call(r.convertToTspans,oe)}v(Fe)?Je.transition().duration(Fe.duration).ease(Fe.easing).each("end",function(){Ue(),ze&&ze()}).each("interrupt",function(){Ue(),ze&&ze()}).attrTween("text",function(){var Xe=M.select(this),lt=a(he[0].lastY,he[0].y);Re._lastValue=he[0].y;var ot=ft(Re.number.valueformat,Ft,he[0].lastY,he[0].y);return function(Be){Xe.text(Ze+ot(lt(Be))+Pt)}}):Ue(),_e=f(Ze+Ft(he[0].y)+Pt,Re.number.font,Ie,oe)}(),mt+=Re.number.font.size+Re.number.font.family+Re.number.valueformat+Re.number.suffix+Re.number.prefix,Ce=_e),Re._hasDelta&&Re._hasNumber){var Mt,_t,it=[(_e.left+_e.right)/2,(_e.top+_e.bottom)/2],st=[(Ae.left+Ae.right)/2,(Ae.top+Ae.bottom)/2],St=.75*Re.delta.font.size;Re.delta.position==="left"&&(Mt=S(Re,"deltaPos",0,-1*(_e.width*g[Re.align]+Ae.width*(1-g[Re.align])+St),mt,Math.min),_t=it[1]-st[1],Ce={width:_e.width+Ae.width+St,height:Math.max(_e.height,Ae.height),left:Ae.left+Mt,right:_e.right,top:Math.min(_e.top,Ae.top+_t),bottom:Math.max(_e.bottom,Ae.bottom+_t)}),Re.delta.position==="right"&&(Mt=S(Re,"deltaPos",0,_e.width*(1-g[Re.align])+Ae.width*g[Re.align]+St,mt,Math.max),_t=it[1]-st[1],Ce={width:_e.width+Ae.width+St,height:Math.max(_e.height,Ae.height),left:_e.left,right:Ae.right+Mt,top:Math.min(_e.top,Ae.top+_t),bottom:Math.max(_e.bottom,Ae.bottom+_t)}),Re.delta.position==="bottom"&&(Mt=null,_t=Ae.height,Ce={width:Math.max(_e.width,Ae.width),height:_e.height+Ae.height,left:Math.min(_e.left,Ae.left),right:Math.max(_e.right,Ae.right),top:_e.bottom-_e.height,bottom:_e.bottom+Ae.height}),Re.delta.position==="top"&&(Mt=null,_t=_e.top,Ce={width:Math.max(_e.width,Ae.width),height:_e.height+Ae.height,left:Math.min(_e.left,Ae.left),right:Math.max(_e.right,Ae.right),top:_e.bottom-_e.height-Ae.height,bottom:_e.bottom}),ht.attr({dx:Mt,dy:_t})}(Re._hasNumber||Re._hasDelta)&&qe.attr("transform",function(){var zt=Se.numbersScaler(Ce);mt+=zt[2];var Ft,Pt=S(Re,"numbersScale",1,zt[0],mt,Math.min);Re._scaleNumbers||(Pt=1),Ft=Re._isAngular?xe-Pt*Ce.bottom:xe-Pt*(Ce.top+Ce.bottom)/2,Re._numbersTop=Pt*Ce.top+Ft;var Ze=Ce[ke];ke==="center"&&(Ze=(Ce.left+Ce.right)/2);var Je=fe-Pt*Ze;return Je=S(Re,"numbersTranslate",0,Je,mt,Math.max),h(Je,Ft)+b(Pt)})})(T,te,j,{numbersX:R,numbersY:N,numbersScaler:Z,transitionOpts:O,onComplete:I}),Q&&(F={range:V.gauge.axis.range,color:V.gauge.bgcolor,line:{color:V.gauge.bordercolor,width:0},thickness:1},U={range:V.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:V.gauge.bordercolor,width:V.gauge.borderwidth},thickness:1});var be=te.selectAll("g.angular").data(J?j:[]);be.exit().remove();var me=te.selectAll("g.angularaxis").data(J?j:[]);me.exit().remove(),J&&function(oe,se,he,Se){var _e,Ae,Ce,Re,fe=he[0].trace,xe=Se.size,ke=Se.radius,Ie=Se.innerRadius,Fe=Se.gaugeBg,ze=Se.gaugeOutline,qe=[xe.l+xe.w/2,xe.t+xe.h/2+ke/2],Ye=Se.gauge,Qe=Se.layer,ft=Se.transitionOpts,ht=Se.onComplete,mt=Math.PI/2;function Mt(yt){var xt=fe.gauge.axis.range[0],dt=(yt-xt)/(fe.gauge.axis.range[1]-xt)*Math.PI-mt;return dt<-mt?-mt:dt>mt?mt:dt}function _t(yt){return M.svg.arc().innerRadius((Ie+ke)/2-yt/2*(ke-Ie)).outerRadius((Ie+ke)/2+yt/2*(ke-Ie)).startAngle(-mt)}function it(yt){yt.attr("d",function(xt){return _t(xt.thickness).startAngle(Mt(xt.range[0])).endAngle(Mt(xt.range[1]))()})}Ye.enter().append("g").classed("angular",!0),Ye.attr("transform",h(qe[0],qe[1])),Qe.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),Qe.selectAll("g.xangularaxistick,path,text").remove(),(_e=m(oe,fe.gauge.axis)).type="linear",_e.range=fe.gauge.axis.range,_e._id="xangularaxis",_e.ticklabeloverflow="allow",_e.setScale();var st=function(yt){return(_e.range[0]-yt.x)/(_e.range[1]-_e.range[0])*Math.PI+Math.PI},St={},zt=l.makeLabelFns(_e,0).labelStandoff;St.xFn=function(yt){var xt=st(yt);return Math.cos(xt)*zt},St.yFn=function(yt){var xt=st(yt),dt=Math.sin(xt)>0?.2:1;return-Math.sin(xt)*(zt+yt.fontSize*dt)+Math.abs(Math.cos(xt))*(yt.fontSize*t)},St.anchorFn=function(yt){var xt=st(yt),dt=Math.cos(xt);return Math.abs(dt)<.1?"middle":dt>0?"start":"end"},St.heightFn=function(yt,xt,dt){var Lt=st(yt);return-.5*(1+Math.sin(Lt))*dt};var Ft=function(yt){return h(qe[0]+ke*Math.cos(yt),qe[1]-ke*Math.sin(yt))};if(Ce=function(yt){return Ft(st(yt))},Ae=l.calcTicks(_e),Re=l.getTickSigns(_e)[2],_e.visible){Re=_e.ticks==="inside"?-1:1;var Pt=(_e.linewidth||1)/2;l.drawTicks(oe,_e,{vals:Ae,layer:Qe,path:"M"+Re*Pt+",0h"+Re*_e.ticklen,transFn:function(yt){var xt=st(yt);return Ft(xt)+"rotate("+-o(xt)+")"}}),l.drawLabels(oe,_e,{vals:Ae,layer:Qe,transFn:Ce,labelFns:St})}var Ze=[Fe].concat(fe.gauge.steps),Je=Ye.selectAll("g.bg-arc").data(Ze);Je.enter().append("g").classed("bg-arc",!0).append("path"),Je.select("path").call(it).call(y),Je.exit().remove();var Ue=_t(fe.gauge.bar.thickness),Xe=Ye.selectAll("g.value-arc").data([fe.gauge.bar]);Xe.enter().append("g").classed("value-arc",!0).append("path");var lt,ot,Be,Ne=Xe.select("path");v(ft)?(Ne.transition().duration(ft.duration).ease(ft.easing).each("end",function(){ht&&ht()}).each("interrupt",function(){ht&&ht()}).attrTween("d",(lt=Ue,ot=Mt(he[0].lastY),Be=Mt(he[0].y),function(){var yt=k(ot,Be);return function(xt){return lt.endAngle(yt(xt))()}})),fe._lastValue=he[0].y):Ne.attr("d",typeof he[0].y=="number"?Ue.endAngle(Mt(he[0].y)):"M0,0Z"),Ne.call(y),Xe.exit().remove(),Ze=[];var at=fe.gauge.threshold.value;(at||at===0)&&Ze.push({range:[at,at],color:fe.gauge.threshold.color,line:{color:fe.gauge.threshold.line.color,width:fe.gauge.threshold.line.width},thickness:fe.gauge.threshold.thickness});var $e=Ye.selectAll("g.threshold-arc").data(Ze);$e.enter().append("g").classed("threshold-arc",!0).append("path"),$e.select("path").call(it).call(y),$e.exit().remove();var gt=Ye.selectAll("g.gauge-outline").data([ze]);gt.enter().append("g").classed("gauge-outline",!0).append("path"),gt.select("path").call(it).call(y),gt.exit().remove()}(T,0,j,{radius:ae,innerRadius:ue,gauge:be,layer:me,size:ee,gaugeBg:F,gaugeOutline:U,transitionOpts:O,onComplete:I});var Ee=te.selectAll("g.bullet").data(X?j:[]);Ee.exit().remove();var Te=te.selectAll("g.bulletaxis").data(X?j:[]);Te.exit().remove(),X&&function(oe,se,he,Se){var _e,Ae,Ce,Re,fe,xe=he[0].trace,ke=Se.gauge,Ie=Se.layer,Fe=Se.gaugeBg,ze=Se.gaugeOutline,qe=Se.size,Ye=xe.domain,Qe=Se.transitionOpts,ft=Se.onComplete;ke.enter().append("g").classed("bullet",!0),ke.attr("transform",h(qe.l,qe.t)),Ie.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),Ie.selectAll("g.xbulletaxistick,path,text").remove();var ht=qe.h,mt=xe.gauge.bar.thickness*ht,Mt=Ye.x[0],_t=Ye.x[0]+(Ye.x[1]-Ye.x[0])*(xe._hasNumber||xe._hasDelta?1-n.bulletNumberDomainSize:1);function it(Je){Je.attr("width",function(Ue){return Math.max(0,_e.c2p(Ue.range[1])-_e.c2p(Ue.range[0]))}).attr("x",function(Ue){return _e.c2p(Ue.range[0])}).attr("y",function(Ue){return .5*(1-Ue.thickness)*ht}).attr("height",function(Ue){return Ue.thickness*ht})}(_e=m(oe,xe.gauge.axis))._id="xbulletaxis",_e.domain=[Mt,_t],_e.setScale(),Ae=l.calcTicks(_e),Ce=l.makeTransTickFn(_e),Re=l.getTickSigns(_e)[2],fe=qe.t+qe.h,_e.visible&&(l.drawTicks(oe,_e,{vals:_e.ticks==="inside"?l.clipEnds(_e,Ae):Ae,layer:Ie,path:l.makeTickPath(_e,fe,Re),transFn:Ce}),l.drawLabels(oe,_e,{vals:Ae,layer:Ie,transFn:Ce,labelFns:l.makeLabelFns(_e,fe)}));var st=[Fe].concat(xe.gauge.steps),St=ke.selectAll("g.bg-bullet").data(st);St.enter().append("g").classed("bg-bullet",!0).append("rect"),St.select("rect").call(it).call(y),St.exit().remove();var zt=ke.selectAll("g.value-bullet").data([xe.gauge.bar]);zt.enter().append("g").classed("value-bullet",!0).append("rect"),zt.select("rect").attr("height",mt).attr("y",(ht-mt)/2).call(y),v(Qe)?zt.select("rect").transition().duration(Qe.duration).ease(Qe.easing).each("end",function(){ft&&ft()}).each("interrupt",function(){ft&&ft()}).attr("width",Math.max(0,_e.c2p(Math.min(xe.gauge.axis.range[1],he[0].y)))):zt.select("rect").attr("width",typeof he[0].y=="number"?Math.max(0,_e.c2p(Math.min(xe.gauge.axis.range[1],he[0].y))):0),zt.exit().remove();var Ft=he.filter(function(){return xe.gauge.threshold.value||xe.gauge.threshold.value===0}),Pt=ke.selectAll("g.threshold-bullet").data(Ft);Pt.enter().append("g").classed("threshold-bullet",!0).append("line"),Pt.select("line").attr("x1",_e.c2p(xe.gauge.threshold.value)).attr("x2",_e.c2p(xe.gauge.threshold.value)).attr("y1",(1-xe.gauge.threshold.thickness)/2*ht).attr("y2",(1-(1-xe.gauge.threshold.thickness)/2)*ht).call(c.stroke,xe.gauge.threshold.line.color).style("stroke-width",xe.gauge.threshold.line.width),Pt.exit().remove();var Ze=ke.selectAll("g.gauge-outline").data([ze]);Ze.enter().append("g").classed("gauge-outline",!0).append("rect"),Ze.select("rect").call(it).call(y),Ze.exit().remove()}(T,0,j,{gauge:Ee,layer:Te,size:ee,gaugeBg:F,gaugeOutline:U,transitionOpts:O,onComplete:I});var we=te.selectAll("text.title").data(j);we.exit().remove(),we.enter().append("text").classed("title",!0),we.attr("text-anchor",function(){return X?x.right:x[V.title.align]}).text(V.title.text).call(i.font,V.title.font).call(r.convertToTspans,T),we.attr("transform",function(){var oe,se=ee.l+ee.w*g[V.title.align],he=n.titlePadding,Se=i.bBox(we.node());return Q?(J&&(oe=V.gauge.axis.visible?i.bBox(me.node()).top-he-Se.bottom:ee.t+ee.h/2-ae/2-Se.bottom-he),X&&(oe=N-(Se.top+Se.bottom)/2,se=ee.l-n.bulletPadding*ee.w)):oe=V._numbersTop-he-Se.bottom,h(se,oe)})})}},16249:function(q,C,e){var M=e(50693),k=e(12663).axisHoverFormat,a=e(5386).fF,_=e(2418),b=e(9012),h=e(1426).extendFlat,o=e(30962).overrideAll,t=q.exports=o(h({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:a(),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),valuehoverformat:k("value",1),showlegend:h({},b.showlegend,{dflt:!1})},M("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:_.opacity,lightposition:_.lightposition,lighting:_.lighting,flatshading:_.flatshading,contour:_.contour,hoverinfo:h({},b.hoverinfo)}),"calc","nested");t.flatshading.dflt=!0,t.lighting.facenormalsepsilon.dflt=0,t.x.editType=t.y.editType=t.z.editType=t.value.editType="calc+clearAxisTypes",t.transforms=void 0},56959:function(q,C,e){var M=e(78803),k=e(88489).processGrid,a=e(88489).filter;q.exports=function(_,b){b._len=Math.min(b.x.length,b.y.length,b.z.length,b.value.length),b._x=a(b.x,b._len),b._y=a(b.y,b._len),b._z=a(b.z,b._len),b._value=a(b.value,b._len);var h=k(b);b._gridFill=h.fill,b._Xs=h.Xs,b._Ys=h.Ys,b._Zs=h.Zs,b._len=h.len;for(var o=1/0,t=-1/0,i=0;i<b._len;i++){var n=b._value[i];o=Math.min(o,n),t=Math.max(t,n)}b._minValues=o,b._maxValues=t,b._vMin=b.isomin===void 0||b.isomin===null?o:b.isomin,b._vMax=b.isomax===void 0||b.isomin===null?t:b.isomax,M(_,b,{vals:[b._vMin,b._vMax],containerStr:"",cLetter:"c"})}},22674:function(q,C,e){var M=e(9330).gl_mesh3d,k=e(81697).parseColorScale,a=e(71828).isArrayOrTypedArray,_=e(78614),b=e(21081).extractOpts,h=e(90060),o=function(l,s){for(var u=s.length-1;u>0;u--){var p=Math.min(s[u],s[u-1]),c=Math.max(s[u],s[u-1]);if(c>p&&p<l&&l<=c)return{id:u,distRatio:(c-l)/(c-p)}}return{id:0,distRatio:0}};function t(l,s,u){this.scene=l,this.uid=u,this.mesh=s,this.name="",this.data=null,this.showContour=!1}var i=t.prototype;i.handlePick=function(l){if(l.object===this.mesh){var s=l.data.index,u=this.data._meshX[s],p=this.data._meshY[s],c=this.data._meshZ[s],x=this.data._Ys.length,g=this.data._Zs.length,d=o(u,this.data._Xs).id,v=o(p,this.data._Ys).id,y=o(c,this.data._Zs).id,m=l.index=y+g*v+g*x*d;l.traceCoordinate=[this.data._meshX[m],this.data._meshY[m],this.data._meshZ[m],this.data._value[m]];var w=this.data.hovertext||this.data.text;return a(w)&&w[m]!==void 0?l.textLabel=w[m]:w&&(l.textLabel=w),!0}},i.update=function(l){var s=this.scene,u=s.fullSceneLayout;function p(g,d,v,y){return d.map(function(m){return g.d2l(m,0,y)*v})}this.data=r(l);var c={positions:h(p(u.xaxis,l._meshX,s.dataScale[0],l.xcalendar),p(u.yaxis,l._meshY,s.dataScale[1],l.ycalendar),p(u.zaxis,l._meshZ,s.dataScale[2],l.zcalendar)),cells:h(l._meshI,l._meshJ,l._meshK),lightPosition:[l.lightposition.x,l.lightposition.y,l.lightposition.z],ambient:l.lighting.ambient,diffuse:l.lighting.diffuse,specular:l.lighting.specular,roughness:l.lighting.roughness,fresnel:l.lighting.fresnel,vertexNormalsEpsilon:l.lighting.vertexnormalsepsilon,faceNormalsEpsilon:l.lighting.facenormalsepsilon,opacity:l.opacity,contourEnable:l.contour.show,contourColor:_(l.contour.color).slice(0,3),contourWidth:l.contour.width,useFacetNormals:l.flatshading},x=b(l);c.vertexIntensity=l._meshIntensity,c.vertexIntensityBounds=[x.min,x.max],c.colormap=k(l),this.mesh.update(c)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var n=["xyz","xzy","yxz","yzx","zxy","zyx"];function r(l){l._meshI=[],l._meshJ=[],l._meshK=[];var s,u,p,c,x,g,d,v=l.surface.show,y=l.spaceframe.show,m=l.surface.fill,w=l.spaceframe.fill,f=!1,S=!1,T=0,E=l._Xs,O=l._Ys,P=l._Zs,I=E.length,z=O.length,j=P.length,R=n.indexOf(l._gridFill.replace(/-/g,"").replace(/\+/g,"")),N=function(Ie,Fe,ze){switch(R){case 5:return ze+j*Fe+j*z*Ie;case 4:return ze+j*Ie+j*I*Fe;case 3:return Fe+z*ze+z*j*Ie;case 2:return Fe+z*Ie+z*I*ze;case 1:return Ie+I*ze+I*j*Fe;default:return Ie+I*Fe+I*z*ze}},Z=l._minValues,F=l._maxValues,U=l._vMin,V=l._vMax;function te(Ie,Fe,ze){for(var qe=g.length,Ye=u;Ye<qe;Ye++)if(Ie===p[Ye]&&Fe===c[Ye]&&ze===x[Ye])return Ye;return-1}function Q(){u=s}function J(){p=[],c=[],x=[],g=[],s=0,Q()}function X(Ie,Fe,ze,qe){return p.push(Ie),c.push(Fe),x.push(ze),g.push(qe),++s-1}function K(Ie,Fe,ze){for(var qe=[],Ye=0;Ye<Ie.length;Ye++)qe[Ye]=Ie[Ye]*(1-ze)+ze*Fe[Ye];return qe}function ee(Ie){d=Ie}function re(Ie,Fe){return Ie==="all"||Ie===null||Ie.indexOf(Fe)>-1}function ie(Ie,Fe){return Ie===null?Fe:Ie}function ae(Ie,Fe,ze){Q();var qe,Ye,Qe,ft=[Fe],ht=[ze];if(d>=1)ft=[Fe],ht=[ze];else if(d>0){var mt=function(Ze,Je){var Ue=Ze[0],Xe=Ze[1],lt=Ze[2],ot=function(dt,Lt,Tt){for(var bt=[],Ct=0;Ct<dt.length;Ct++)bt[Ct]=(dt[Ct]+Lt[Ct]+Tt[Ct])/3;return bt}(Ue,Xe,lt),Be=Math.sqrt(1-d),Ne=K(ot,Ue,Be),at=K(ot,Xe,Be),$e=K(ot,lt,Be),gt=Je[0],yt=Je[1],xt=Je[2];return{xyzv:[[Ue,Xe,at],[at,Ne,Ue],[Xe,lt,$e],[$e,at,Xe],[lt,Ue,Ne],[Ne,$e,lt]],abc:[[gt,yt,-1],[-1,-1,gt],[yt,xt,-1],[-1,-1,yt],[xt,gt,-1],[-1,-1,xt]]}}(Fe,ze);ft=mt.xyzv,ht=mt.abc}for(var Mt=0;Mt<ft.length;Mt++){Fe=ft[Mt],ze=ht[Mt];for(var _t=[],it=0;it<3;it++){var st=Fe[it][0],St=Fe[it][1],zt=Fe[it][2],Ft=Fe[it][3],Pt=ze[it]>-1?ze[it]:te(st,St,zt);_t[it]=Pt>-1?Pt:X(st,St,zt,ie(Ie,Ft))}qe=_t[0],Ye=_t[1],Qe=_t[2],l._meshI.push(qe),l._meshJ.push(Ye),l._meshK.push(Qe),++T}}function ue(Ie,Fe,ze,qe){var Ye=Ie[3];Ye<ze&&(Ye=ze),Ye>qe&&(Ye=qe);for(var Qe=(Ie[3]-Ye)/(Ie[3]-Fe[3]+1e-9),ft=[],ht=0;ht<4;ht++)ft[ht]=(1-Qe)*Ie[ht]+Qe*Fe[ht];return ft}function pe(Ie,Fe,ze){return Ie>=Fe&&Ie<=ze}function de(Ie){var Fe=.001*(V-U);return Ie>=U-Fe&&Ie<=V+Fe}function ye(Ie){for(var Fe=[],ze=0;ze<4;ze++){var qe=Ie[ze];Fe.push([l._x[qe],l._y[qe],l._z[qe],l._value[qe]])}return Fe}var be=3;function me(Ie,Fe,ze,qe,Ye,Qe){Qe||(Qe=1),ze=[-1,-1,-1];var ft=!1,ht=[pe(Fe[0][3],qe,Ye),pe(Fe[1][3],qe,Ye),pe(Fe[2][3],qe,Ye)];if(!ht[0]&&!ht[1]&&!ht[2])return!1;var mt=function(_t,it,st){return de(it[0][3])&&de(it[1][3])&&de(it[2][3])?(ae(_t,it,st),!0):Qe<be&&me(_t,it,st,U,V,++Qe)};if(ht[0]&&ht[1]&&ht[2])return mt(Ie,Fe,ze)||ft;var Mt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(_t){if(ht[_t[0]]&&ht[_t[1]]&&!ht[_t[2]]){var it=Fe[_t[0]],st=Fe[_t[1]],St=Fe[_t[2]],zt=ue(St,it,qe,Ye),Ft=ue(St,st,qe,Ye);ft=mt(Ie,[Ft,zt,it],[-1,-1,ze[_t[0]]])||ft,ft=mt(Ie,[it,st,Ft],[ze[_t[0]],ze[_t[1]],-1])||ft,Mt=!0}}),Mt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(_t){if(ht[_t[0]]&&!ht[_t[1]]&&!ht[_t[2]]){var it=Fe[_t[0]],st=Fe[_t[1]],St=Fe[_t[2]],zt=ue(st,it,qe,Ye),Ft=ue(St,it,qe,Ye);ft=mt(Ie,[Ft,zt,it],[-1,-1,ze[_t[0]]])||ft,Mt=!0}}),ft}function Ee(Ie,Fe,ze,qe){var Ye=!1,Qe=ye(Fe),ft=[pe(Qe[0][3],ze,qe),pe(Qe[1][3],ze,qe),pe(Qe[2][3],ze,qe),pe(Qe[3][3],ze,qe)];if(!(ft[0]||ft[1]||ft[2]||ft[3]))return Ye;if(ft[0]&&ft[1]&&ft[2]&&ft[3])return S&&(Ye=function(mt,Mt,_t){var it=function(st,St,zt){ae(mt,[Mt[st],Mt[St],Mt[zt]],[_t[st],_t[St],_t[zt]])};it(0,1,2),it(3,0,1),it(2,3,0),it(1,2,3)}(Ie,Qe,Fe)||Ye),Ye;var ht=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(mt){if(ft[mt[0]]&&ft[mt[1]]&&ft[mt[2]]&&!ft[mt[3]]){var Mt=Qe[mt[0]],_t=Qe[mt[1]],it=Qe[mt[2]],st=Qe[mt[3]];if(S)Ye=ae(Ie,[Mt,_t,it],[Fe[mt[0]],Fe[mt[1]],Fe[mt[2]]])||Ye;else{var St=ue(st,Mt,ze,qe),zt=ue(st,_t,ze,qe),Ft=ue(st,it,ze,qe);Ye=ae(null,[St,zt,Ft],[-1,-1,-1])||Ye}ht=!0}}),ht||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(mt){if(ft[mt[0]]&&ft[mt[1]]&&!ft[mt[2]]&&!ft[mt[3]]){var Mt=Qe[mt[0]],_t=Qe[mt[1]],it=Qe[mt[2]],st=Qe[mt[3]],St=ue(it,Mt,ze,qe),zt=ue(it,_t,ze,qe),Ft=ue(st,_t,ze,qe),Pt=ue(st,Mt,ze,qe);S?(Ye=ae(Ie,[Mt,Pt,St],[Fe[mt[0]],-1,-1])||Ye,Ye=ae(Ie,[_t,zt,Ft],[Fe[mt[1]],-1,-1])||Ye):Ye=function(Ze,Je,Ue){var Xe=function(lt,ot,Be){ae(null,[Je[lt],Je[ot],Je[Be]],[Ue[lt],Ue[ot],Ue[Be]])};Xe(0,1,2),Xe(2,3,0)}(0,[St,zt,Ft,Pt],[-1,-1,-1,-1])||Ye,ht=!0}}),ht||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(mt){if(ft[mt[0]]&&!ft[mt[1]]&&!ft[mt[2]]&&!ft[mt[3]]){var Mt=Qe[mt[0]],_t=Qe[mt[1]],it=Qe[mt[2]],st=Qe[mt[3]],St=ue(_t,Mt,ze,qe),zt=ue(it,Mt,ze,qe),Ft=ue(st,Mt,ze,qe);S?(Ye=ae(Ie,[Mt,St,zt],[Fe[mt[0]],-1,-1])||Ye,Ye=ae(Ie,[Mt,zt,Ft],[Fe[mt[0]],-1,-1])||Ye,Ye=ae(Ie,[Mt,Ft,St],[Fe[mt[0]],-1,-1])||Ye):Ye=ae(null,[St,zt,Ft],[-1,-1,-1])||Ye,ht=!0}})),Ye}function Te(Ie,Fe,ze,qe,Ye,Qe,ft,ht,mt,Mt,_t){var it=!1;return f&&(re(Ie,"A")&&(it=Ee(null,[Fe,ze,qe,Qe],Mt,_t)||it),re(Ie,"B")&&(it=Ee(null,[ze,qe,Ye,mt],Mt,_t)||it),re(Ie,"C")&&(it=Ee(null,[ze,Qe,ft,mt],Mt,_t)||it),re(Ie,"D")&&(it=Ee(null,[qe,Qe,ht,mt],Mt,_t)||it),re(Ie,"E")&&(it=Ee(null,[ze,qe,Qe,mt],Mt,_t)||it)),S&&(it=Ee(Ie,[ze,qe,Qe,mt],Mt,_t)||it),it}function we(Ie,Fe,ze,qe,Ye,Qe,ft,ht){return[ht[0]===!0||me(Ie,ye([Fe,ze,qe]),[Fe,ze,qe],Qe,ft),ht[1]===!0||me(Ie,ye([qe,Ye,Fe]),[qe,Ye,Fe],Qe,ft)]}function oe(Ie,Fe,ze,qe,Ye,Qe,ft,ht,mt){return ht?we(Ie,Fe,ze,Ye,qe,Qe,ft,mt):we(Ie,ze,Ye,qe,Fe,Qe,ft,mt)}function se(Ie,Fe,ze,qe,Ye,Qe,ft){var ht,mt,Mt,_t,it=!1,st=function(){it=me(Ie,[ht,mt,Mt],[-1,-1,-1],Ye,Qe)||it,it=me(Ie,[Mt,_t,ht],[-1,-1,-1],Ye,Qe)||it},St=ft[0],zt=ft[1],Ft=ft[2];return St&&(ht=K(ye([N(Fe,ze-0,qe-0)])[0],ye([N(Fe-1,ze-0,qe-0)])[0],St),mt=K(ye([N(Fe,ze-0,qe-1)])[0],ye([N(Fe-1,ze-0,qe-1)])[0],St),Mt=K(ye([N(Fe,ze-1,qe-1)])[0],ye([N(Fe-1,ze-1,qe-1)])[0],St),_t=K(ye([N(Fe,ze-1,qe-0)])[0],ye([N(Fe-1,ze-1,qe-0)])[0],St),st()),zt&&(ht=K(ye([N(Fe-0,ze,qe-0)])[0],ye([N(Fe-0,ze-1,qe-0)])[0],zt),mt=K(ye([N(Fe-0,ze,qe-1)])[0],ye([N(Fe-0,ze-1,qe-1)])[0],zt),Mt=K(ye([N(Fe-1,ze,qe-1)])[0],ye([N(Fe-1,ze-1,qe-1)])[0],zt),_t=K(ye([N(Fe-1,ze,qe-0)])[0],ye([N(Fe-1,ze-1,qe-0)])[0],zt),st()),Ft&&(ht=K(ye([N(Fe-0,ze-0,qe)])[0],ye([N(Fe-0,ze-0,qe-1)])[0],Ft),mt=K(ye([N(Fe-0,ze-1,qe)])[0],ye([N(Fe-0,ze-1,qe-1)])[0],Ft),Mt=K(ye([N(Fe-1,ze-1,qe)])[0],ye([N(Fe-1,ze-1,qe-1)])[0],Ft),_t=K(ye([N(Fe-1,ze-0,qe)])[0],ye([N(Fe-1,ze-0,qe-1)])[0],Ft),st()),it}function he(Ie,Fe,ze,qe,Ye,Qe,ft,ht,mt,Mt,_t,it){var st=Ie;return it?(f&&Ie==="even"&&(st=null),Te(st,Fe,ze,qe,Ye,Qe,ft,ht,mt,Mt,_t)):(f&&Ie==="odd"&&(st=null),Te(st,mt,ht,ft,Qe,Ye,qe,ze,Fe,Mt,_t))}function Se(Ie,Fe,ze,qe,Ye){for(var Qe=[],ft=0,ht=0;ht<Fe.length;ht++)for(var mt=Fe[ht],Mt=1;Mt<j;Mt++)for(var _t=1;_t<z;_t++)Qe.push(oe(Ie,N(mt,_t-1,Mt-1),N(mt,_t-1,Mt),N(mt,_t,Mt-1),N(mt,_t,Mt),ze,qe,(mt+_t+Mt)%2,Ye&&Ye[ft]?Ye[ft]:[])),ft++;return Qe}function _e(Ie,Fe,ze,qe,Ye){for(var Qe=[],ft=0,ht=0;ht<Fe.length;ht++)for(var mt=Fe[ht],Mt=1;Mt<I;Mt++)for(var _t=1;_t<j;_t++)Qe.push(oe(Ie,N(Mt-1,mt,_t-1),N(Mt,mt,_t-1),N(Mt-1,mt,_t),N(Mt,mt,_t),ze,qe,(Mt+mt+_t)%2,Ye&&Ye[ft]?Ye[ft]:[])),ft++;return Qe}function Ae(Ie,Fe,ze,qe,Ye){for(var Qe=[],ft=0,ht=0;ht<Fe.length;ht++)for(var mt=Fe[ht],Mt=1;Mt<z;Mt++)for(var _t=1;_t<I;_t++)Qe.push(oe(Ie,N(_t-1,Mt-1,mt),N(_t-1,Mt,mt),N(_t,Mt-1,mt),N(_t,Mt,mt),ze,qe,(_t+Mt+mt)%2,Ye&&Ye[ft]?Ye[ft]:[])),ft++;return Qe}function Ce(Ie,Fe,ze){for(var qe=1;qe<j;qe++)for(var Ye=1;Ye<z;Ye++)for(var Qe=1;Qe<I;Qe++)he(Ie,N(Qe-1,Ye-1,qe-1),N(Qe-1,Ye-1,qe),N(Qe-1,Ye,qe-1),N(Qe-1,Ye,qe),N(Qe,Ye-1,qe-1),N(Qe,Ye-1,qe),N(Qe,Ye,qe-1),N(Qe,Ye,qe),Fe,ze,(Qe+Ye+qe)%2)}function Re(Ie,Fe,ze,qe,Ye,Qe){for(var ft=[],ht=0,mt=0;mt<Fe.length;mt++)for(var Mt=Fe[mt],_t=1;_t<j;_t++)for(var it=1;it<z;it++)ft.push(se(Ie,Mt,it,_t,ze,qe,Ye[mt],Qe&&Qe[ht]&&Qe[ht])),ht++;return ft}function fe(Ie,Fe,ze,qe,Ye,Qe){for(var ft=[],ht=0,mt=0;mt<Fe.length;mt++)for(var Mt=Fe[mt],_t=1;_t<I;_t++)for(var it=1;it<j;it++)ft.push(se(Ie,_t,Mt,it,ze,qe,Ye[mt],Qe&&Qe[ht]&&Qe[ht])),ht++;return ft}function xe(Ie,Fe,ze,qe,Ye,Qe){for(var ft=[],ht=0,mt=0;mt<Fe.length;mt++)for(var Mt=Fe[mt],_t=1;_t<z;_t++)for(var it=1;it<I;it++)ft.push(se(Ie,it,_t,Mt,ze,qe,Ye[mt],Qe&&Qe[ht]&&Qe[ht])),ht++;return ft}function ke(Ie,Fe){for(var ze=[],qe=Ie;qe<Fe;qe++)ze.push(qe);return ze}return function(){J(),function(){for(var mt=0;mt<I;mt++)for(var Mt=0;Mt<z;Mt++)for(var _t=0;_t<j;_t++){var it=N(mt,Mt,_t);X(l._x[it],l._y[it],l._z[it],l._value[it])}}();var Ie=null;if(y&&w&&(ee(w),S=!0,Ce(Ie,U,V),S=!1),v&&m){ee(m);for(var Fe=l.surface.pattern,ze=l.surface.count,qe=0;qe<ze;qe++){var Ye=ze===1?.5:qe/(ze-1),Qe=(1-Ye)*U+Ye*V,ft=Math.abs(Qe-Z)>Math.abs(Qe-F)?[Z,Qe]:[Qe,F];f=!0,Ce(Fe,ft[0],ft[1]),f=!1}}var ht=[[Math.min(U,F),Math.max(U,F)],[Math.min(Z,V),Math.max(Z,V)]];["x","y","z"].forEach(function(mt){for(var Mt=[],_t=0;_t<ht.length;_t++){var it=0,st=ht[_t][0],St=ht[_t][1],zt=l.slices[mt];if(zt.show&&zt.fill){ee(zt.fill);var Ft=[],Pt=[],Ze=[];if(zt.locations.length)for(var Je=0;Je<zt.locations.length;Je++){var Ue=o(zt.locations[Je],mt==="x"?E:mt==="y"?O:P);Ue.distRatio===0?Ft.push(Ue.id):Ue.id>0&&(Pt.push(Ue.id),mt==="x"?Ze.push([Ue.distRatio,0,0]):mt==="y"?Ze.push([0,Ue.distRatio,0]):Ze.push([0,0,Ue.distRatio]))}else Ft=ke(1,mt==="x"?I-1:mt==="y"?z-1:j-1);Pt.length>0&&(Mt[it]=mt==="x"?Re(Ie,Pt,st,St,Ze,Mt[it]):mt==="y"?fe(Ie,Pt,st,St,Ze,Mt[it]):xe(Ie,Pt,st,St,Ze,Mt[it]),it++),Ft.length>0&&(Mt[it]=mt==="x"?Se(Ie,Ft,st,St,Mt[it]):mt==="y"?_e(Ie,Ft,st,St,Mt[it]):Ae(Ie,Ft,st,St,Mt[it]),it++)}var Xe=l.caps[mt];Xe.show&&Xe.fill&&(ee(Xe.fill),Mt[it]=mt==="x"?Se(Ie,[0,I-1],st,St,Mt[it]):mt==="y"?_e(Ie,[0,z-1],st,St,Mt[it]):Ae(Ie,[0,j-1],st,St,Mt[it]),it++)}}),T===0&&J(),l._meshX=p,l._meshY=c,l._meshZ=x,l._meshIntensity=g,l._Xs=E,l._Ys=O,l._Zs=P}(),l}q.exports={findNearestOnAxis:o,generateIsoMeshes:r,createIsosurfaceTrace:function(l,s){var u=l.glplot.gl,p=M({gl:u}),c=new t(l,p,s.uid);return p._trace=c,c.update(s),l.glplot.add(p),c}}},82738:function(q,C,e){var M=e(71828),k=e(73972),a=e(16249),_=e(1586);function b(h,o,t,i,n){var r=n("isomin"),l=n("isomax");l!=null&&r!=null&&r>l&&(o.isomin=null,o.isomax=null);var s=n("x"),u=n("y"),p=n("z"),c=n("value");s&&s.length&&u&&u.length&&p&&p.length&&c&&c.length?(k.getComponentMethod("calendars","handleTraceDefaults")(h,o,["x","y","z"],i),n("valuehoverformat"),["x","y","z"].forEach(function(x){n(x+"hoverformat");var g="caps."+x;n(g+".show")&&n(g+".fill");var d="slices."+x;n(d+".show")&&(n(d+".fill"),n(d+".locations"))}),n("spaceframe.show")&&n("spaceframe.fill"),n("surface.show")&&(n("surface.count"),n("surface.fill"),n("surface.pattern")),n("contour.show")&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(x){n(x)}),_(h,o,i,n,{prefix:"",cLetter:"c"}),o._length=null):o.visible=!1}q.exports={supplyDefaults:function(h,o,t,i){b(h,o,0,i,function(n,r){return M.coerce(h,o,a,n,r)})},supplyIsoDefaults:b}},64943:function(q,C,e){q.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(q,C,e){var M=e(50693),k=e(12663).axisHoverFormat,a=e(5386).fF,_=e(54532),b=e(9012),h=e(1426).extendFlat;q.exports=h({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"}),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},M("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:_.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:h({},_.contours.x.show,{}),color:_.contours.x.color,width:_.contours.x.width,editType:"calc"},lightposition:{x:h({},_.lightposition.x,{dflt:1e5}),y:h({},_.lightposition.y,{dflt:1e5}),z:h({},_.lightposition.z,{dflt:0}),editType:"calc"},lighting:h({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},_.lighting),hoverinfo:h({},b.hoverinfo,{editType:"calc"}),showlegend:h({},b.showlegend,{dflt:!1})})},82932:function(q,C,e){var M=e(78803);q.exports=function(k,a){a.intensity&&M(k,a,{vals:a.intensity,containerStr:"",cLetter:"c"})}},91134:function(q,C,e){var M=e(9330).gl_mesh3d,k=e(9330).delaunay_triangulate,a=e(9330).alpha_shape,_=e(9330).convex_hull,b=e(81697).parseColorScale,h=e(71828).isArrayOrTypedArray,o=e(78614),t=e(21081).extractOpts,i=e(90060);function n(c,x,g){this.scene=c,this.uid=g,this.mesh=x,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var r=n.prototype;function l(c){for(var x=[],g=c.length,d=0;d<g;d++)x[d]=o(c[d]);return x}function s(c,x,g,d){for(var v=[],y=x.length,m=0;m<y;m++)v[m]=c.d2l(x[m],0,d)*g;return v}function u(c){for(var x=[],g=c.length,d=0;d<g;d++)x[d]=Math.round(c[d]);return x}function p(c,x){for(var g=c.length,d=0;d<g;d++)if(c[d]<=-.5||c[d]>=x-.5)return!1;return!0}r.handlePick=function(c){if(c.object===this.mesh){var x=c.index=c.data.index;c.data._cellCenter?c.traceCoordinate=c.data.dataCoordinate:c.traceCoordinate=[this.data.x[x],this.data.y[x],this.data.z[x]];var g=this.data.hovertext||this.data.text;return h(g)&&g[x]!==void 0?c.textLabel=g[x]:g&&(c.textLabel=g),!0}},r.update=function(c){var x=this.scene,g=x.fullSceneLayout;this.data=c;var d,v=c.x.length,y=i(s(g.xaxis,c.x,x.dataScale[0],c.xcalendar),s(g.yaxis,c.y,x.dataScale[1],c.ycalendar),s(g.zaxis,c.z,x.dataScale[2],c.zcalendar));if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!p(c.i,v)||!p(c.j,v)||!p(c.k,v))return;d=i(u(c.i),u(c.j),u(c.k))}else d=c.alphahull===0?_(y):c.alphahull>0?a(c.alphahull,y):function(S,T){for(var E=["x","y","z"].indexOf(S),O=[],P=T.length,I=0;I<P;I++)O[I]=[T[I][(E+1)%3],T[I][(E+2)%3]];return k(O)}(c.delaunayaxis,y);var m={positions:y,cells:d,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:o(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var w=t(c);this.color="#fff";var f=c.intensitymode;m[f+"Intensity"]=c.intensity,m[f+"IntensityBounds"]=[w.min,w.max],m.colormap=b(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],m.vertexColors=l(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],m.cellColors=l(c.facecolor)):(this.color=c.color,m.meshColor=o(c.color));this.mesh.update(m)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},q.exports=function(c,x){var g=c.glplot.gl,d=M({gl:g}),v=new n(c,d,x.uid);return d._trace=v,v.update(x),c.glplot.add(d),v}},58669:function(q,C,e){var M=e(73972),k=e(71828),a=e(1586),_=e(2418);q.exports=function(b,h,o,t){function i(r,l){return k.coerce(b,h,_,r,l)}function n(r){var l=r.map(function(s){var u=i(s);return u&&k.isArrayOrTypedArray(u)?u:null});return l.every(function(s){return s&&s.length===l[0].length})&&l}n(["x","y","z"])?(n(["i","j","k"]),(!h.i||h.j&&h.k)&&(!h.j||h.k&&h.i)&&(!h.k||h.i&&h.j)?(M.getComponentMethod("calendars","handleTraceDefaults")(b,h,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(r){i(r)}),i("contour.show")&&(i("contour.color"),i("contour.width")),"intensity"in b?(i("intensity"),i("intensitymode"),a(b,h,t,i,{prefix:"",cLetter:"c"})):(h.showscale=!1,"facecolor"in b?i("facecolor"):"vertexcolor"in b?i("vertexcolor"):i("color",o)),i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),h._length=null):h.visible=!1):h.visible=!1}},21164:function(q,C,e){q.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(q,C,e){var M=e(71828).extendFlat,k=e(82196),a=e(12663).axisHoverFormat,_=e(79952).P,b=e(77914),h=e(22372),o=h.INCREASING.COLOR,t=h.DECREASING.COLOR,i=k.line;function n(r){return{line:{color:M({},i.color,{dflt:r}),width:i.width,dash:_,editType:"style"},editType:"style"}}q.exports={xperiod:k.xperiod,xperiod0:k.xperiod0,xperiodalignment:k.xperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:M({},i.width,{}),dash:M({},_,{}),editType:"style"},increasing:n(o),decreasing:n(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:M({},b.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(q,C,e){var M=e(71828),k=M._,a=e(89298),_=e(42973),b=e(50606).BADNUM;function h(t,i,n,r){return{o:t,h:i,l:n,c:r}}function o(t,i,n,r,l,s){for(var u=l.makeCalcdata(i,"open"),p=l.makeCalcdata(i,"high"),c=l.makeCalcdata(i,"low"),x=l.makeCalcdata(i,"close"),g=M.isArrayOrTypedArray(i.text),d=M.isArrayOrTypedArray(i.hovertext),v=!0,y=null,m=!!i.xperiodalignment,w=[],f=0;f<r.length;f++){var S=r[f],T=u[f],E=p[f],O=c[f],P=x[f];if(S!==b&&T!==b&&E!==b&&O!==b&&P!==b){P===T?y!==null&&P!==y&&(v=P>y):v=P>T,y=P;var I=s(T,E,O,P);I.pos=S,I.yc=(T+P)/2,I.i=f,I.dir=v?"increasing":"decreasing",I.x=I.pos,I.y=[O,E],m&&(I.orig_p=n[f]),g&&(I.tx=i.text[f]),d&&(I.htx=i.hovertext[f]),w.push(I)}else w.push({pos:S,empty:!0})}return i._extremes[l._id]=a.findExtremes(l,M.concat(c,p),{padded:!0}),w.length&&(w[0].t={labels:{open:k(t,"open:")+" ",high:k(t,"high:")+" ",low:k(t,"low:")+" ",close:k(t,"close:")+" "}}),w}q.exports={calc:function(t,i){var n=a.getFromId(t,i.xaxis),r=a.getFromId(t,i.yaxis),l=function(x,g,d){var v=d._minDiff;if(!v){var y,m=x._fullData,w=[];for(v=1/0,y=0;y<m.length;y++){var f=m[y];if(f.type==="ohlc"&&f.visible===!0&&f.xaxis===g._id){w.push(f);var S=g.makeCalcdata(f,"x");f._origX=S;var T=_(d,g,"x",S).vals;f._xcalc=T;var E=M.distinctVals(T).minDiff;E&&isFinite(E)&&(v=Math.min(v,E))}}for(v===1/0&&(v=1),y=0;y<w.length;y++)w[y]._minDiff=v}return v*d.tickwidth}(t,n,i),s=i._minDiff;i._minDiff=null;var u=i._origX;i._origX=null;var p=i._xcalc;i._xcalc=null;var c=o(t,i,u,p,r,h);return i._extremes[n._id]=a.findExtremes(n,p,{vpad:s/2}),c.length?(M.extendFlat(c[0].t,{wHover:s/2,tickLen:l}),c):[{t:{empty:!0}}]},calcCommon:o}},16169:function(q,C,e){var M=e(71828),k=e(14555),a=e(73927),_=e(2522);function b(h,o,t,i){t(i+".line.color"),t(i+".line.width",o.line.width),t(i+".line.dash",o.line.dash)}q.exports=function(h,o,t,i){function n(r,l){return M.coerce(h,o,_,r,l)}k(h,o,n,i)?(a(h,o,i,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),b(0,o,n,"increasing"),b(0,o,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),i._requestRangeslider[o.xaxis]=!0):o.visible=!1}},66449:function(q,C,e){var M=e(89298),k=e(71828),a=e(30211),_=e(7901),b=e(71828).fillText,h=e(22372),o={increasing:h.INCREASING.SYMBOL,decreasing:h.DECREASING.SYMBOL};function t(r,l,s,u){var p,c,x=r.cd,g=r.xa,d=x[0].trace,v=x[0].t,y=d.type,m=y==="ohlc"?"l":"min",w=y==="ohlc"?"h":"max",f=v.bPos||0,S=function(F){return F.pos+f-l},T=v.bdPos||v.tickLen,E=v.wHover,O=Math.min(1,T/Math.abs(g.r2c(g.range[1])-g.r2c(g.range[0])));function P(F){var U=S(F);return a.inbox(U-E,U+E,p)}function I(F){var U=F[m],V=F[w];return U===V||a.inbox(U-s,V-s,p)}function z(F){return(P(F)+I(F))/2}p=r.maxHoverDistance-O,c=r.maxSpikeDistance-O;var j=a.getDistanceFunction(u,P,I,z);if(a.getClosest(x,j,r),r.index===!1)return null;var R=x[r.index];if(R.empty)return null;var N=d[R.dir],Z=N.line.color;return _.opacity(Z)&&N.line.width?r.color=Z:r.color=N.fillcolor,r.x0=g.c2p(R.pos+f-T,!0),r.x1=g.c2p(R.pos+f+T,!0),r.xLabelVal=R.orig_p!==void 0?R.orig_p:R.pos,r.spikeDistance=z(R)*c/p,r.xSpike=g.c2p(R.pos,!0),r}function i(r,l,s,u){var p=r.cd,c=r.ya,x=p[0].trace,g=p[0].t,d=[],v=t(r,l,s,u);if(!v)return[];var y=p[v.index].hi||x.hoverinfo,m=y.split("+");if(y!=="all"&&m.indexOf("y")===-1)return[];for(var w=["high","open","close","low"],f={},S=0;S<w.length;S++){var T,E=w[S],O=x[E][v.index],P=c.c2p(O,!0);O in f?(T=f[O]).yLabel+="<br>"+g.labels[E]+M.hoverLabelText(c,O,x.yhoverformat):((T=k.extendFlat({},v)).y0=T.y1=P,T.yLabelVal=O,T.yLabel=g.labels[E]+M.hoverLabelText(c,O,x.yhoverformat),T.name="",d.push(T),f[O]=T)}return d}function n(r,l,s,u){var p=r.cd,c=r.ya,x=p[0].trace,g=p[0].t,d=t(r,l,s,u);if(!d)return[];var v=p[d.index],y=d.index=v.i,m=v.dir;function w(I){return g.labels[I]+M.hoverLabelText(c,x[I][y],x.yhoverformat)}var f=v.hi||x.hoverinfo,S=f.split("+"),T=f==="all",E=T||S.indexOf("y")!==-1,O=T||S.indexOf("text")!==-1,P=E?[w("open"),w("high"),w("low"),w("close")+"  "+o[m]]:[];return O&&b(v,x,P),d.extraText=P.join("<br>"),d.y0=d.y1=c.c2p(v.yc,!0),[d]}q.exports={hoverPoints:function(r,l,s,u){return r.cd[0].trace.hoverlabel.split?i(r,l,s,u):n(r,l,s,u)},hoverSplit:i,hoverOnPoints:n}},54186:function(q,C,e){q.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(q,C,e){var M=e(73972),k=e(71828);q.exports=function(a,_,b,h){var o=b("x"),t=b("open"),i=b("high"),n=b("low"),r=b("close");if(b("hoverlabel.split"),M.getComponentMethod("calendars","handleTraceDefaults")(a,_,["x"],h),t&&i&&n&&r){var l=Math.min(t.length,i.length,n.length,r.length);return o&&(l=Math.min(l,k.minRowLength(o))),_._length=l,l}}},72314:function(q,C,e){var M=e(39898),k=e(71828);q.exports=function(a,_,b,h){var o=_.yaxis,t=_.xaxis,i=!!t.rangebreaks;k.makeTraceGroups(h,b,"trace ohlc").each(function(n){var r=M.select(this),l=n[0],s=l.t;if(l.trace.visible!==!0||s.empty)r.remove();else{var u=s.tickLen,p=r.selectAll("path").data(k.identity);p.enter().append("path"),p.exit().remove(),p.attr("d",function(c){if(c.empty)return"M0,0Z";var x=t.c2p(c.pos-u,!0),g=t.c2p(c.pos+u,!0),d=i?(x+g)/2:t.c2p(c.pos,!0);return"M"+x+","+o.c2p(c.o,!0)+"H"+d+"M"+d+","+o.c2p(c.h,!0)+"V"+o.c2p(c.l,!0)+"M"+g+","+o.c2p(c.c,!0)+"H"+d})}})}},67324:function(q){q.exports=function(C,e){var M,k=C.cd,a=C.xaxis,_=C.yaxis,b=[],h=k[0].t.bPos||0;if(e===!1)for(M=0;M<k.length;M++)k[M].selected=0;else for(M=0;M<k.length;M++){var o=k[M];e.contains([a.c2p(o.pos+h),_.c2p(o.yc)],null,o.i,C)?(b.push({pointNumber:o.i,x:a.c2d(o.pos),y:_.c2d(o.yc)}),o.selected=1):o.selected=0}return b}},53101:function(q,C,e){var M=e(39898),k=e(91424),a=e(7901);q.exports=function(_,b,h){var o=h||M.select(_).selectAll("g.ohlclayer").selectAll("g.trace");o.style("opacity",function(t){return t[0].trace.opacity}),o.each(function(t){var i=t[0].trace;M.select(this).selectAll("path").each(function(n){if(!n.empty){var r=i[n.dir].line;M.select(this).style("fill","none").call(a.stroke,r.color).call(k.dashLine,r.dash,r.width).style("opacity",i.selectedpoints&&!n.selected?.3:1)}})})}},99506:function(q,C,e){var M=e(1426).extendFlat,k=e(9012),a=e(41940),_=e(50693),b=e(5386).fF,h=e(27670).Y,o=M({editType:"calc"},_("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:b({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});q.exports={domain:h({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:M({},k.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:b({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:a({editType:"calc"}),tickfont:a({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:o,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(q,C,e){var M=e(27659).a0,k=e(45784),a="parcats";C.name=a,C.plot=function(_,b,h,o){var t=M(_.calcdata,a);if(t.length){var i=t[0];k(_,i,h,o)}},C.clean=function(_,b,h,o){var t=o._has&&o._has("parcats"),i=b._has&&b._has("parcats");t&&!i&&o._paperdiv.selectAll(".parcats").remove()}},28699:function(q,C,e){var M=e(28984).wrap,k=e(52075).hasColorscale,a=e(78803),_=e(75744),b=e(91424),h=e(71828),o=e(92770);function t(r,l,s){r.valueInds.push(l),r.count+=s}function i(r,l,s){return{categoryInds:r,color:l,rawColor:s,valueInds:[],count:0}}function n(r,l,s){r.valueInds.push(l),r.count+=s}q.exports=function(r,l){var s=h.filterVisible(l.dimensions);if(s.length===0)return[];var u,p,c,x=s.map(function(V){var te;if(V.categoryorder==="trace")te=null;else if(V.categoryorder==="array")te=V.categoryarray;else{te=_(V.values);for(var Q=!0,J=0;J<te.length;J++)if(!o(te[J])){Q=!1;break}te.sort(Q?h.sorterAsc:void 0),V.categoryorder==="category descending"&&(te=te.reverse())}return function(X,K){K=K==null?[]:K.map(function(ye){return ye});var ee={},re={},ie=[];K.forEach(function(ye,be){ee[ye]=0,re[ye]=be});for(var ae=0;ae<X.length;ae++){var ue,pe=X[ae];ee[pe]===void 0?(ee[pe]=1,ue=K.push(pe)-1,re[pe]=ue):(ee[pe]++,ue=re[pe]),ie.push(ue)}var de=K.map(function(ye){return ee[ye]});return{uniqueValues:K,uniqueCounts:de,inds:ie}}(V.values,te)});u=h.isArrayOrTypedArray(l.counts)?l.counts:[l.counts],function(V){var te,Q=V.map(function(J){return J.displayindex});if(function(J){for(var X=new Array(J.length),K=0;K<J.length;K++){if(J[K]<0||J[K]>=J.length||X[J[K]]!==void 0)return!1;X[J[K]]=!0}return!0}(Q))for(te=0;te<V.length;te++)V[te]._displayindex=V[te].displayindex;else for(te=0;te<V.length;te++)V[te]._displayindex=te}(s),s.forEach(function(V,te){(function(Q,J){Q._categoryarray=J.uniqueValues,Q.ticktext===null||Q.ticktext===void 0?Q._ticktext=[]:Q._ticktext=Q.ticktext.slice();for(var X=Q._ticktext.length;X<J.uniqueValues.length;X++)Q._ticktext.push(J.uniqueValues[X])})(V,x[te])});var g,d=l.line;d?(k(l,"line")&&a(r,l,{vals:l.line.color,containerStr:"line",cLetter:"c"}),g=b.tryColorscale(d)):g=h.identity;var v,y,m,w,f,S=s[0].values.length,T={},E=x.map(function(V){return V.inds});for(c=0,v=0;v<S;v++){var O=[];for(y=0;y<E.length;y++)O.push(E[y][v]);p=u[v%u.length],c+=p;var P=(m=v,w=void 0,f=void 0,h.isArrayOrTypedArray(d.color)?f=w=d.color[m%d.color.length]:w=d.color,{color:g(w),rawColor:f}),I=O+"-"+P.rawColor;T[I]===void 0&&(T[I]=i(O,P.color,P.rawColor)),n(T[I],v,p)}var z,j=s.map(function(V,te){return function(Q,J,X,K,ee){return{dimensionInd:Q,containerInd:J,displayInd:X,dimensionLabel:K,count:ee,categories:[],dragX:null}}(te,V._index,V._displayindex,V.label,c)});for(v=0;v<S;v++)for(p=u[v%u.length],y=0;y<j.length;y++){var R=j[y].containerInd,N=x[y].inds[v],Z=j[y].categories;if(Z[N]===void 0){var F=l.dimensions[R]._categoryarray[N],U=l.dimensions[R]._ticktext[N];Z[N]={dimensionInd:y,categoryInd:z=N,categoryValue:F,displayInd:z,categoryLabel:U,valueInds:[],count:0,dragY:null}}t(Z[N],v,p)}return M(function(V,te,Q){var J=V.map(function(X){return X.categories.length}).reduce(function(X,K){return Math.max(X,K)});return{dimensions:V,paths:te,trace:void 0,maxCats:J,count:Q}}(j,T,c))}},14647:function(q,C,e){var M=e(71828),k=e(52075).hasColorscale,a=e(1586),_=e(27670).c,b=e(85501),h=e(99506),o=e(94397),t=e(73627).isTypedArraySpec;function i(n,r){function l(d,v){return M.coerce(n,r,h.dimensions,d,v)}var s=l("values"),u=l("visible");if(s&&s.length||(u=r.visible=!1),u){l("label"),l("displayindex",r._index);var p,c=n.categoryarray,x=M.isArrayOrTypedArray(c)&&c.length>0||t(c);x&&(p="array");var g=l("categoryorder",p);g==="array"?(l("categoryarray"),l("ticktext")):(delete n.categoryarray,delete n.ticktext),x||g!=="array"||(r.categoryorder="trace")}}q.exports=function(n,r,l,s){function u(d,v){return M.coerce(n,r,h,d,v)}var p=b(n,r,{name:"dimensions",handleItemDefaults:i}),c=function(d,v,y,m,w){w("line.shape"),w("line.hovertemplate");var f=w("line.color",m.colorway[0]);if(k(d,"line")&&M.isArrayOrTypedArray(f)){if(f.length)return w("line.colorscale"),a(d,v,m,w,{prefix:"line.",cLetter:"c"}),f.length;v.line.color=y}return 1/0}(n,r,l,s,u);_(r,s,u),Array.isArray(p)&&p.length||(r.visible=!1),o(r,p,"values",c),u("hoveron"),u("hovertemplate"),u("arrangement"),u("bundlecolors"),u("sortpaths"),u("counts");var x={family:s.font.family,size:Math.round(s.font.size),color:s.font.color};M.coerceFont(u,"labelfont",x);var g={family:s.font.family,size:Math.round(s.font.size/1.2),color:s.font.color};M.coerceFont(u,"tickfont",g)}},94873:function(q,C,e){q.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(q,C,e){var M=e(39898),k=e(81684).k4,a=e(72391),_=e(30211),b=e(71828),h=b.strTranslate,o=e(91424),t=e(84267),i=e(63893);function n(Q,J,X,K){var ee=J._context.staticPlot,re=Q.map(Z.bind(0,J,X)),ie=K.selectAll("g.parcatslayer").data([null]);ie.enter().append("g").attr("class","parcatslayer").style("pointer-events",ee?"none":"all");var ae=ie.selectAll("g.trace.parcats").data(re,r),ue=ae.enter().append("g").attr("class","trace parcats");ae.attr("transform",function(oe){return h(oe.x,oe.y)}),ue.append("g").attr("class","paths");var pe=ae.select("g.paths").selectAll("path.path").data(function(oe){return oe.paths},r);pe.attr("fill",function(oe){return oe.model.color});var de=pe.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(oe){return oe.model.color}).attr("fill-opacity",0);d(de),pe.attr("d",function(oe){return oe.svgD}),de.empty()||pe.sort(s),pe.exit().remove(),pe.on("mouseover",u).on("mouseout",p).on("click",g),ue.append("g").attr("class","dimensions");var ye=ae.select("g.dimensions").selectAll("g.dimension").data(function(oe){return oe.dimensions},r);ye.enter().append("g").attr("class","dimension"),ye.attr("transform",function(oe){return h(oe.x,0)}),ye.exit().remove();var be=ye.selectAll("g.category").data(function(oe){return oe.categories},r),me=be.enter().append("g").attr("class","category");be.attr("transform",function(oe){return h(0,oe.y)}),me.append("rect").attr("class","catrect").attr("pointer-events","none"),be.select("rect.catrect").attr("fill","none").attr("width",function(oe){return oe.width}).attr("height",function(oe){return oe.height}),y(me);var Ee=be.selectAll("rect.bandrect").data(function(oe){return oe.bands},r);Ee.each(function(){b.raiseToTop(this)}),Ee.attr("fill",function(oe){return oe.color});var Te=Ee.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(oe){return oe.color}).attr("fill-opacity",0);Ee.attr("fill",function(oe){return oe.color}).attr("width",function(oe){return oe.width}).attr("height",function(oe){return oe.height}).attr("y",function(oe){return oe.y}).attr("cursor",function(oe){return oe.parcatsViewModel.arrangement==="fixed"?"default":oe.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),m(Te),Ee.exit().remove(),me.append("text").attr("class","catlabel").attr("pointer-events","none");var we=J._fullLayout.paper_bgcolor;be.select("text.catlabel").attr("text-anchor",function(oe){return l(oe)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",i.makeTextShadow(we)).style("fill","rgb(0, 0, 0)").attr("x",function(oe){return l(oe)?oe.width+5:-5}).attr("y",function(oe){return oe.height/2}).text(function(oe){return oe.model.categoryLabel}).each(function(oe){o.font(M.select(this),oe.parcatsViewModel.categorylabelfont),i.convertToTspans(M.select(this),J)}),me.append("text").attr("class","dimlabel"),be.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(oe){return oe.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(oe){return oe.width/2}).attr("y",-5).text(function(oe,se){return se===0?oe.parcatsViewModel.model.dimensions[oe.model.dimensionInd].dimensionLabel:null}).each(function(oe){o.font(M.select(this),oe.parcatsViewModel.labelfont)}),be.selectAll("rect.bandrect").on("mouseover",E).on("mouseout",O),be.exit().remove(),ye.call(M.behavior.drag().origin(function(oe){return{x:oe.x,y:0}}).on("dragstart",P).on("drag",I).on("dragend",z)),ae.each(function(oe){oe.traceSelection=M.select(this),oe.pathSelection=M.select(this).selectAll("g.paths").selectAll("path.path"),oe.dimensionSelection=M.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),ae.exit().remove()}function r(Q){return Q.key}function l(Q){var J=Q.parcatsViewModel.dimensions.length,X=Q.parcatsViewModel.dimensions[J-1].model.dimensionInd;return Q.model.dimensionInd===X}function s(Q,J){return Q.model.rawColor>J.model.rawColor?1:Q.model.rawColor<J.model.rawColor?-1:0}function u(Q){if(!Q.parcatsViewModel.dragDimension&&Q.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){b.raiseToTop(this),v(M.select(this));var J=c(Q),X=x(Q);if(Q.parcatsViewModel.graphDiv.emit("plotly_hover",{points:J,event:M.event,constraints:X}),Q.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var K,ee,re,ie=M.mouse(this)[0],ae=Q.parcatsViewModel.graphDiv,ue=Q.parcatsViewModel.trace,pe=ae._fullLayout,de=pe._paperdiv.node().getBoundingClientRect(),ye=Q.parcatsViewModel.graphDiv.getBoundingClientRect();for(re=0;re<Q.leftXs.length-1;re++)if(Q.leftXs[re]+Q.dimWidths[re]-2<=ie&&ie<=Q.leftXs[re+1]+2){var be=Q.parcatsViewModel.dimensions[re],me=Q.parcatsViewModel.dimensions[re+1];K=(be.x+be.width+me.x)/2,ee=(Q.topYs[re]+Q.topYs[re+1]+Q.height)/2;break}var Ee=Q.parcatsViewModel.x+K,Te=Q.parcatsViewModel.y+ee,we=t.mostReadable(Q.model.color,["black","white"]),oe=Q.model.count,se=oe/Q.parcatsViewModel.model.count,he={countLabel:oe,probabilityLabel:se.toFixed(3)},Se=[];Q.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Se.push(["Count:",he.countLabel].join(" ")),Q.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Se.push(["P:",he.probabilityLabel].join(" "));var _e=Se.join("<br>"),Ae=M.mouse(ae)[0];_.loneHover({trace:ue,x:Ee-de.left+ye.left,y:Te-de.top+ye.top,text:_e,color:Q.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:we,idealAlign:Ae<Ee?"right":"left",hovertemplate:(ue.line||{}).hovertemplate,hovertemplateLabels:he,eventData:[{data:ue._input,fullData:ue,count:oe,probability:se}]},{container:pe._hoverlayer.node(),outerContainer:pe._paper.node(),gd:ae})}}}function p(Q){if(!Q.parcatsViewModel.dragDimension&&(d(M.select(this)),_.loneUnhover(Q.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),Q.parcatsViewModel.pathSelection.sort(s),Q.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var J=c(Q),X=x(Q);Q.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:J,event:M.event,constraints:X})}}function c(Q){for(var J=[],X=j(Q.parcatsViewModel),K=0;K<Q.model.valueInds.length;K++){var ee=Q.model.valueInds[K];J.push({curveNumber:X,pointNumber:ee})}return J}function x(Q){for(var J={},X=Q.parcatsViewModel.model.dimensions,K=0;K<X.length;K++){var ee=X[K],re=ee.categories[Q.model.categoryInds[K]];J[ee.containerInd]=re.categoryValue}return Q.model.rawColor!==void 0&&(J.color=Q.model.rawColor),J}function g(Q){if(Q.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var J=c(Q),X=x(Q);Q.parcatsViewModel.graphDiv.emit("plotly_click",{points:J,event:M.event,constraints:X})}}function d(Q){Q.attr("fill",function(J){return J.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function v(Q){Q.attr("fill-opacity",.8).attr("stroke",function(J){return t.mostReadable(J.model.color,["black","white"])}).attr("stroke-width",.3)}function y(Q){Q.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function m(Q){Q.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function w(Q){var J=Q.parcatsViewModel.pathSelection,X=Q.categoryViewModel.model.dimensionInd,K=Q.categoryViewModel.model.categoryInd;return J.filter(function(ee){return ee.model.categoryInds[X]===K&&ee.model.color===Q.color})}function f(Q,J,X){var K=M.select(Q).datum(),ee=K.categoryViewModel.model,re=K.parcatsViewModel.graphDiv,ie=M.select(Q.parentNode).selectAll("rect.bandrect"),ae=[];ie.each(function(pe){w(pe).each(function(de){Array.prototype.push.apply(ae,c(de))})});var ue={};ue[ee.dimensionInd]=ee.categoryValue,re.emit(J,{points:ae,event:X,constraints:ue})}function S(Q,J,X){var K=M.select(Q).datum(),ee=K.categoryViewModel.model,re=K.parcatsViewModel.graphDiv,ie=w(K),ae=[];ie.each(function(pe){Array.prototype.push.apply(ae,c(pe))});var ue={};ue[ee.dimensionInd]=ee.categoryValue,K.rawColor!==void 0&&(ue.color=K.rawColor),re.emit(J,{points:ae,event:X,constraints:ue})}function T(Q,J,X){Q._fullLayout._calcInverseTransform(Q);var K,ee,re=Q._fullLayout._invScaleX,ie=Q._fullLayout._invScaleY,ae=M.select(X.parentNode).select("rect.catrect"),ue=ae.node().getBoundingClientRect(),pe=ae.datum(),de=pe.parcatsViewModel,ye=de.model.dimensions[pe.model.dimensionInd],be=de.trace,me=ue.top+ue.height/2;de.dimensions.length>1&&ye.displayInd===de.dimensions.length-1?(K=ue.left,ee="left"):(K=ue.left+ue.width,ee="right");var Ee=pe.model.count,Te=pe.model.categoryLabel,we=Ee/pe.parcatsViewModel.model.count,oe={countLabel:Ee,categoryLabel:Te,probabilityLabel:we.toFixed(3)},se=[];pe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&se.push(["Count:",oe.countLabel].join(" ")),pe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&se.push(["P("+oe.categoryLabel+"):",oe.probabilityLabel].join(" "));var he=se.join("<br>");return{trace:be,x:re*(K-J.left),y:ie*(me-J.top),text:he,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:ee,hovertemplate:be.hovertemplate,hovertemplateLabels:oe,eventData:[{data:be._input,fullData:be,count:Ee,category:Te,probability:we}]}}function E(Q){if(!Q.parcatsViewModel.dragDimension&&Q.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){if(M.mouse(this)[1]<-1)return;var J,X=Q.parcatsViewModel.graphDiv,K=X._fullLayout,ee=K._paperdiv.node().getBoundingClientRect(),re=Q.parcatsViewModel.hoveron,ie=this;re==="color"?(function(ae){var ue=M.select(ae).datum(),pe=w(ue);v(pe),pe.each(function(){b.raiseToTop(this)}),M.select(ae.parentNode).selectAll("rect.bandrect").filter(function(de){return de.color===ue.color}).each(function(){b.raiseToTop(this),M.select(this).attr("stroke","black").attr("stroke-width",1.5)})}(ie),S(ie,"plotly_hover",M.event)):(function(ae){M.select(ae.parentNode).selectAll("rect.bandrect").each(function(ue){var pe=w(ue);v(pe),pe.each(function(){b.raiseToTop(this)})}),M.select(ae.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(ie),f(ie,"plotly_hover",M.event)),Q.parcatsViewModel.hoverinfoItems.indexOf("none")===-1&&(re==="category"?J=T(X,ee,ie):re==="color"?J=function(ae,ue,pe){ae._fullLayout._calcInverseTransform(ae);var de,ye,be=ae._fullLayout._invScaleX,me=ae._fullLayout._invScaleY,Ee=pe.getBoundingClientRect(),Te=M.select(pe).datum(),we=Te.categoryViewModel,oe=we.parcatsViewModel,se=oe.model.dimensions[we.model.dimensionInd],he=oe.trace,Se=Ee.y+Ee.height/2;oe.dimensions.length>1&&se.displayInd===oe.dimensions.length-1?(de=Ee.left,ye="left"):(de=Ee.left+Ee.width,ye="right");var _e=we.model.categoryLabel,Ae=Te.parcatsViewModel.model.count,Ce=0;Te.categoryViewModel.bands.forEach(function(Qe){Qe.color===Te.color&&(Ce+=Qe.count)});var Re=we.model.count,fe=0;oe.pathSelection.each(function(Qe){Qe.model.color===Te.color&&(fe+=Qe.model.count)});var xe=Ce/Ae,ke=Ce/fe,Ie=Ce/Re,Fe={countLabel:Ae,categoryLabel:_e,probabilityLabel:xe.toFixed(3)},ze=[];we.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ze.push(["Count:",Fe.countLabel].join(" ")),we.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(ze.push("P(color  "+_e+"): "+Fe.probabilityLabel),ze.push("P("+_e+" | color): "+ke.toFixed(3)),ze.push("P(color | "+_e+"): "+Ie.toFixed(3)));var qe=ze.join("<br>"),Ye=t.mostReadable(Te.color,["black","white"]);return{trace:he,x:be*(de-ue.left),y:me*(Se-ue.top),text:qe,color:Te.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:Ye,fontSize:10,idealAlign:ye,hovertemplate:he.hovertemplate,hovertemplateLabels:Fe,eventData:[{data:he._input,fullData:he,category:_e,count:Ae,probability:xe,categorycount:Re,colorcount:fe,bandcolorcount:Ce}]}}(X,ee,ie):re==="dimension"&&(J=function(ae,ue,pe){var de=[];return M.select(pe.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){de.push(T(ae,ue,this))}),de}(X,ee,ie)),J&&_.loneHover(J,{container:K._hoverlayer.node(),outerContainer:K._paper.node(),gd:X}))}}function O(Q){var J=Q.parcatsViewModel;J.dragDimension||(d(J.pathSelection),y(J.dimensionSelection.selectAll("g.category")),m(J.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),_.loneUnhover(J.graphDiv._fullLayout._hoverlayer.node()),J.pathSelection.sort(s),J.hoverinfoItems.indexOf("skip")!==-1)||(Q.parcatsViewModel.hoveron==="color"?S(this,"plotly_unhover",M.event):f(this,"plotly_unhover",M.event))}function P(Q){Q.parcatsViewModel.arrangement!=="fixed"&&(Q.dragDimensionDisplayInd=Q.model.displayInd,Q.initialDragDimensionDisplayInds=Q.parcatsViewModel.model.dimensions.map(function(J){return J.displayInd}),Q.dragHasMoved=!1,Q.dragCategoryDisplayInd=null,M.select(this).selectAll("g.category").select("rect.catrect").each(function(J){var X=M.mouse(this)[0],K=M.mouse(this)[1];-2<=X&&X<=J.width+2&&-2<=K&&K<=J.height+2&&(Q.dragCategoryDisplayInd=J.model.displayInd,Q.initialDragCategoryDisplayInds=Q.model.categories.map(function(ee){return ee.displayInd}),J.model.dragY=J.y,b.raiseToTop(this.parentNode),M.select(this.parentNode).selectAll("rect.bandrect").each(function(ee){ee.y<K&&K<=ee.y+ee.height&&(Q.potentialClickBand=this)}))}),Q.parcatsViewModel.dragDimension=Q,_.loneUnhover(Q.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function I(Q){if(Q.parcatsViewModel.arrangement!=="fixed"&&(Q.dragHasMoved=!0,Q.dragDimensionDisplayInd!==null)){var J=Q.dragDimensionDisplayInd,X=J-1,K=J+1,ee=Q.parcatsViewModel.dimensions[J];if(Q.dragCategoryDisplayInd!==null){var re=ee.categories[Q.dragCategoryDisplayInd];re.model.dragY+=M.event.dy;var ie=re.model.dragY,ae=re.model.displayInd,ue=ee.categories,pe=ue[ae-1],de=ue[ae+1];pe!==void 0&&ie<pe.y+pe.height/2&&(re.model.displayInd=pe.model.displayInd,pe.model.displayInd=ae),de!==void 0&&ie+re.height>de.y+de.height/2&&(re.model.displayInd=de.model.displayInd,de.model.displayInd=ae),Q.dragCategoryDisplayInd=re.model.displayInd}if(Q.dragCategoryDisplayInd===null||Q.parcatsViewModel.arrangement==="freeform"){ee.model.dragX=M.event.x;var ye=Q.parcatsViewModel.dimensions[X],be=Q.parcatsViewModel.dimensions[K];ye!==void 0&&ee.model.dragX<ye.x+ye.width&&(ee.model.displayInd=ye.model.displayInd,ye.model.displayInd=J),be!==void 0&&ee.model.dragX+ee.width>be.x&&(ee.model.displayInd=be.model.displayInd,be.model.displayInd=Q.dragDimensionDisplayInd),Q.dragDimensionDisplayInd=ee.model.displayInd}V(Q.parcatsViewModel),U(Q.parcatsViewModel),N(Q.parcatsViewModel),R(Q.parcatsViewModel)}}function z(Q){if(Q.parcatsViewModel.arrangement!=="fixed"&&Q.dragDimensionDisplayInd!==null){M.select(this).selectAll("text").attr("font-weight","normal");var J={},X=j(Q.parcatsViewModel),K=Q.parcatsViewModel.model.dimensions.map(function(de){return de.displayInd}),ee=Q.initialDragDimensionDisplayInds.some(function(de,ye){return de!==K[ye]});ee&&K.forEach(function(de,ye){var be=Q.parcatsViewModel.model.dimensions[ye].containerInd;J["dimensions["+be+"].displayindex"]=de});var re=!1;if(Q.dragCategoryDisplayInd!==null){var ie=Q.model.categories.map(function(de){return de.displayInd});if(re=Q.initialDragCategoryDisplayInds.some(function(de,ye){return de!==ie[ye]})){var ae=Q.model.categories.slice().sort(function(de,ye){return de.displayInd-ye.displayInd}),ue=ae.map(function(de){return de.categoryValue}),pe=ae.map(function(de){return de.categoryLabel});J["dimensions["+Q.model.containerInd+"].categoryarray"]=[ue],J["dimensions["+Q.model.containerInd+"].ticktext"]=[pe],J["dimensions["+Q.model.containerInd+"].categoryorder"]="array"}}Q.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!Q.dragHasMoved&&Q.potentialClickBand&&(Q.parcatsViewModel.hoveron==="color"?S(Q.potentialClickBand,"plotly_click",M.event.sourceEvent):f(Q.potentialClickBand,"plotly_click",M.event.sourceEvent)),Q.model.dragX=null,Q.dragCategoryDisplayInd!==null&&(Q.parcatsViewModel.dimensions[Q.dragDimensionDisplayInd].categories[Q.dragCategoryDisplayInd].model.dragY=null,Q.dragCategoryDisplayInd=null),Q.dragDimensionDisplayInd=null,Q.parcatsViewModel.dragDimension=null,Q.dragHasMoved=null,Q.potentialClickBand=null,V(Q.parcatsViewModel),U(Q.parcatsViewModel),M.transition().duration(300).ease("cubic-in-out").each(function(){N(Q.parcatsViewModel,!0),R(Q.parcatsViewModel,!0)}).each("end",function(){(ee||re)&&a.restyle(Q.parcatsViewModel.graphDiv,J,[X])})}}function j(Q){for(var J,X=Q.graphDiv._fullData,K=0;K<X.length;K++)if(Q.key===X[K].uid){J=K;break}return J}function R(Q,J){var X;J===void 0&&(J=!1),Q.pathSelection.data(function(K){return K.paths},r),(X=Q.pathSelection,J?X.transition():X).attr("d",function(K){return K.svgD})}function N(Q,J){function X(ie){return J?ie.transition():ie}J===void 0&&(J=!1),Q.dimensionSelection.data(function(ie){return ie.dimensions},r);var K=Q.dimensionSelection.selectAll("g.category").data(function(ie){return ie.categories},r);X(Q.dimensionSelection).attr("transform",function(ie){return h(ie.x,0)}),X(K).attr("transform",function(ie){return h(0,ie.y)}),K.select(".dimlabel").text(function(ie,ae){return ae===0?ie.parcatsViewModel.model.dimensions[ie.model.dimensionInd].dimensionLabel:null}),K.select(".catlabel").attr("text-anchor",function(ie){return l(ie)?"start":"end"}).attr("x",function(ie){return l(ie)?ie.width+5:-5}).each(function(ie){var ae,ue;l(ie)?(ae=ie.width+5,ue="start"):(ae=-5,ue="end"),M.select(this).selectAll("tspan").attr("x",ae).attr("text-anchor",ue)});var ee=K.selectAll("rect.bandrect").data(function(ie){return ie.bands},r),re=ee.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ie){return ie.color}).attr("fill-opacity",0);ee.attr("fill",function(ie){return ie.color}).attr("width",function(ie){return ie.width}).attr("height",function(ie){return ie.height}).attr("y",function(ie){return ie.y}),m(re),ee.each(function(){b.raiseToTop(this)}),ee.exit().remove()}function Z(Q,J,X){var K,ee=X[0],re=J.margin||{l:80,r:80,t:100,b:80},ie=ee.trace,ae=ie.domain,ue=J.width,pe=J.height,de=Math.floor(ue*(ae.x[1]-ae.x[0])),ye=Math.floor(pe*(ae.y[1]-ae.y[0])),be=ae.x[0]*ue+re.l,me=J.height-ae.y[1]*J.height+re.t,Ee=ie.line.shape;K=ie.hoverinfo==="all"?["count","probability"]:(ie.hoverinfo||"").split("+");var Te={trace:ie,key:ie.uid,model:ee,x:be,y:me,width:de,height:ye,hoveron:ie.hoveron,hoverinfoItems:K,arrangement:ie.arrangement,bundlecolors:ie.bundlecolors,sortpaths:ie.sortpaths,labelfont:ie.labelfont,categorylabelfont:ie.tickfont,pathShape:Ee,dragDimension:null,margin:re,paths:[],dimensions:[],graphDiv:Q,traceSelection:null,pathSelection:null,dimensionSelection:null};return ee.dimensions&&(V(Te),U(Te)),Te}function F(Q,J,X,K,ee){var re,ie,ae=[],ue=[];for(ie=0;ie<X.length-1;ie++)re=k(X[ie]+Q[ie],Q[ie+1]),ae.push(re(ee)),ue.push(re(1-ee));var pe="M "+Q[0]+","+J[0];for(pe+="l"+X[0]+",0 ",ie=1;ie<X.length;ie++)pe+="C"+ae[ie-1]+","+J[ie-1]+" "+ue[ie-1]+","+J[ie]+" "+Q[ie]+","+J[ie],pe+="l"+X[ie]+",0 ";for(pe+="l0,"+K+" ",pe+="l -"+X[X.length-1]+",0 ",ie=X.length-2;ie>=0;ie--)pe+="C"+ue[ie]+","+(J[ie+1]+K)+" "+ae[ie]+","+(J[ie]+K)+" "+(Q[ie]+X[ie])+","+(J[ie]+K),pe+="l-"+X[ie]+",0 ";return pe+"Z"}function U(Q){var J=Q.dimensions,X=Q.model,K=J.map(function(Fe){return Fe.categories.map(function(ze){return ze.y})}),ee=Q.model.dimensions.map(function(Fe){return Fe.categories.map(function(ze){return ze.displayInd})}),re=Q.model.dimensions.map(function(Fe){return Fe.displayInd}),ie=Q.dimensions.map(function(Fe){return Fe.model.dimensionInd}),ae=J.map(function(Fe){return Fe.x}),ue=J.map(function(Fe){return Fe.width}),pe=[];for(var de in X.paths)X.paths.hasOwnProperty(de)&&pe.push(X.paths[de]);function ye(Fe){var ze=Fe.categoryInds.map(function(qe,Ye){return ee[Ye][qe]});return ie.map(function(qe){return ze[qe]})}pe.sort(function(Fe,ze){var qe=ye(Fe),Ye=ye(ze);return Q.sortpaths==="backward"&&(qe.reverse(),Ye.reverse()),qe.push(Fe.valueInds[0]),Ye.push(ze.valueInds[0]),Q.bundlecolors&&(qe.unshift(Fe.rawColor),Ye.unshift(ze.rawColor)),qe<Ye?-1:qe>Ye?1:0});for(var be=new Array(pe.length),me=J[0].model.count,Ee=J[0].categories.map(function(Fe){return Fe.height}).reduce(function(Fe,ze){return Fe+ze}),Te=0;Te<pe.length;Te++){var we,oe=pe[Te];we=me>0?Ee*(oe.count/me):0;for(var se,he=new Array(K.length),Se=0;Se<oe.categoryInds.length;Se++){var _e=oe.categoryInds[Se],Ae=ee[Se][_e],Ce=re[Se];he[Ce]=K[Ce][Ae],K[Ce][Ae]+=we;var Re=Q.dimensions[Ce].categories[Ae],fe=Re.bands.length,xe=Re.bands[fe-1];if(xe===void 0||oe.rawColor!==xe.rawColor){var ke=xe===void 0?0:xe.y+xe.height;Re.bands.push({key:ke,color:oe.color,rawColor:oe.rawColor,height:we,width:Re.width,count:oe.count,y:ke,categoryViewModel:Re,parcatsViewModel:Q})}else{var Ie=Re.bands[fe-1];Ie.height+=we,Ie.count+=oe.count}}se=Q.pathShape==="hspline"?F(ae,he,ue,we,.5):F(ae,he,ue,we,0),be[Te]={key:oe.valueInds[0],model:oe,height:we,leftXs:ae,topYs:he,dimWidths:ue,svgD:se,parcatsViewModel:Q}}Q.paths=be}function V(Q){var J=Q.model.dimensions.map(function(ie){return{displayInd:ie.displayInd,dimensionInd:ie.dimensionInd}});J.sort(function(ie,ae){return ie.displayInd-ae.displayInd});var X=[];for(var K in J){var ee=J[K].dimensionInd,re=Q.model.dimensions[ee];X.push(te(Q,re))}Q.dimensions=X}function te(Q,J){var X,K=Q.model.dimensions.length,ee=J.displayInd;X=40+(K>1?(Q.width-80-16)/(K-1):0)*ee;var re,ie,ae,ue,pe,de=[],ye=Q.model.maxCats,be=J.categories.length,me=J.count,Ee=Q.height-8*(ye-1),Te=8*(ye-be)/2,we=J.categories.map(function(oe){return{displayInd:oe.displayInd,categoryInd:oe.categoryInd}});for(we.sort(function(oe,se){return oe.displayInd-se.displayInd}),pe=0;pe<be;pe++)ue=we[pe].categoryInd,ie=J.categories[ue],re=me>0?ie.count/me*Ee:0,ae={key:ie.valueInds[0],model:ie,width:16,height:re,y:ie.dragY!==null?ie.dragY:Te,bands:[],parcatsViewModel:Q},Te=Te+re+8,de.push(ae);return{key:J.dimensionInd,x:J.dragX!==null?J.dragX:X,y:0,width:16,model:J,categories:de,parcatsViewModel:Q,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}q.exports=function(Q,J,X,K){n(X,Q,K,J)}},45784:function(q,C,e){var M=e(45460);q.exports=function(k,a,_,b){var h=k._fullLayout,o=h._paper,t=h._size;M(k,o,a,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},_,b)}},73362:function(q,C,e){var M=e(50693),k=e(13838),a=e(41940),_=e(27670).Y,b=e(1426).extendFlat,h=e(44467).templatedArray;q.exports={domain:_({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:a({editType:"plot"}),tickfont:a({editType:"plot"}),rangefont:a({editType:"plot"}),dimensions:h("dimension",{label:{valType:"string",editType:"plot"},tickvals:b({},k.tickvals,{editType:"plot"}),ticktext:b({},k.ticktext,{editType:"plot"}),tickformat:b({},k.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:b({editType:"calc"},M("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(q,C,e){var M=e(25706),k=e(39898),a=e(28984).keyFun,_=e(28984).repeat,b=e(71828).sorterAsc,h=e(71828).strTranslate,o=M.bar.snapRatio;function t(T,E){return T*(1-o)+E*o}var i=M.bar.snapClose;function n(T,E){return T*(1-i)+E*i}function r(T,E,O,P){if(function(te,Q){for(var J=0;J<Q.length;J++)if(te>=Q[J][0]&&te<=Q[J][1])return!0;return!1}(O,P))return O;var I=T?-1:1,z=0,j=E.length-1;if(I<0){var R=z;z=j,j=R}for(var N=E[z],Z=N,F=z;I*F<I*j;F+=I){var U=F+I,V=E[U];if(I*O<I*n(N,V))return t(N,Z);if(I*O<I*V||U===j)return t(V,N);Z=N,N=V}}function l(T){T.attr("x",-M.bar.captureWidth/2).attr("width",M.bar.captureWidth)}function s(T){T.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function u(T){if(!T.brush.filterSpecified)return"0,"+T.height;for(var E,O,P,I=p(T.brush.filter.getConsolidated(),T.height),z=[0],j=I.length?I[0][0]:null,R=0;R<I.length;R++)O=(E=I[R])[1]-E[0],z.push(j),z.push(O),(P=R+1)<I.length&&(j=I[P][0]-E[1]);return z.push(T.height),z}function p(T,E){return T.map(function(O){return O.map(function(P){return Math.max(0,P*E)}).sort(b)})}function c(){k.select(document.body).style("cursor",null)}function x(T){T.attr("stroke-dasharray",u)}function g(T,E){var O=k.select(T).selectAll(".highlight, .highlight-shadow");x(E?O.transition().duration(M.bar.snapDuration).each("end",E):O)}function d(T,E){var O,P=T.brush,I=NaN,z={};if(P.filterSpecified){var j=T.height,R=P.filter.getConsolidated(),N=p(R,j),Z=NaN,F=NaN,U=NaN;for(O=0;O<=N.length;O++){var V=N[O];if(V&&V[0]<=E&&E<=V[1]){Z=O;break}if(F=O?O-1:NaN,V&&V[0]>E){U=O;break}}if(I=Z,isNaN(I)&&(I=isNaN(F)||isNaN(U)?isNaN(F)?U:F:E-N[F][1]<N[U][0]-E?F:U),!isNaN(I)){var te=N[I],Q=function(ee,re){var ie=M.bar.handleHeight;if(!(re>ee[1]+ie||re<ee[0]-ie))return re>=.9*ee[1]+.1*ee[0]?"n":re<=.9*ee[0]+.1*ee[1]?"s":"ns"}(te,E);Q&&(z.interval=R[I],z.intervalPix=te,z.region=Q)}}if(T.ordinal&&!z.region){var J=T.unitTickvals,X=T.unitToPaddedPx.invert(E);for(O=0;O<J.length;O++){var K=[.25*J[Math.max(O-1,0)]+.75*J[O],.25*J[Math.min(O+1,J.length-1)]+.75*J[O]];if(X>=K[0]&&X<=K[1]){z.clickableOrdinalRange=K;break}}}return z}function v(T,E){k.event.sourceEvent.stopPropagation();var O=E.height-k.mouse(T)[1]-2*M.verticalPadding,P=E.brush.svgBrush;P.wasDragged=!0,P._dragging=!0,P.grabbingBar?P.newExtent=[O-P.grabPoint,O+P.barLength-P.grabPoint].map(E.unitToPaddedPx.invert):P.newExtent=[P.startExtent,E.unitToPaddedPx.invert(O)].sort(b),E.brush.filterSpecified=!0,P.extent=P.stayingIntervals.concat([P.newExtent]),P.brushCallback(E),g(T.parentNode)}function y(T,E){var O=d(E,E.height-k.mouse(T)[1]-2*M.verticalPadding),P="crosshair";O.clickableOrdinalRange?P="pointer":O.region&&(P=O.region+"-resize"),k.select(document.body).style("cursor",P)}function m(T){T.on("mousemove",function(E){k.event.preventDefault(),E.parent.inBrushDrag||y(this,E)}).on("mouseleave",function(E){E.parent.inBrushDrag||c()}).call(k.behavior.drag().on("dragstart",function(E){(function(O,P){k.event.sourceEvent.stopPropagation();var I=P.height-k.mouse(O)[1]-2*M.verticalPadding,z=P.unitToPaddedPx.invert(I),j=P.brush,R=d(P,I),N=R.interval,Z=j.svgBrush;if(Z.wasDragged=!1,Z.grabbingBar=R.region==="ns",Z.grabbingBar){var F=N.map(P.unitToPaddedPx);Z.grabPoint=I-F[0]-M.verticalPadding,Z.barLength=F[1]-F[0]}Z.clickableOrdinalRange=R.clickableOrdinalRange,Z.stayingIntervals=P.multiselect&&j.filterSpecified?j.filter.getConsolidated():[],N&&(Z.stayingIntervals=Z.stayingIntervals.filter(function(U){return U[0]!==N[0]&&U[1]!==N[1]})),Z.startExtent=R.region?N[R.region==="s"?1:0]:z,P.parent.inBrushDrag=!0,Z.brushStartCallback()})(this,E)}).on("drag",function(E){v(this,E)}).on("dragend",function(E){(function(O,P){var I=P.brush,z=I.filter,j=I.svgBrush;j._dragging||(y(O,P),v(O,P),P.brush.svgBrush.wasDragged=!1),j._dragging=!1,k.event.sourceEvent.stopPropagation();var R=j.grabbingBar;if(j.grabbingBar=!1,j.grabLocation=void 0,P.parent.inBrushDrag=!1,c(),!j.wasDragged)return j.wasDragged=void 0,j.clickableOrdinalRange?I.filterSpecified&&P.multiselect?j.extent.push(j.clickableOrdinalRange):(j.extent=[j.clickableOrdinalRange],I.filterSpecified=!0):R?(j.extent=j.stayingIntervals,j.extent.length===0&&f(I)):f(I),j.brushCallback(P),g(O.parentNode),void j.brushEndCallback(I.filterSpecified?z.getConsolidated():[]);var N=function(){z.set(z.getConsolidated())};if(P.ordinal){var Z=P.unitTickvals;Z[Z.length-1]<Z[0]&&Z.reverse(),j.newExtent=[r(0,Z,j.newExtent[0],j.stayingIntervals),r(1,Z,j.newExtent[1],j.stayingIntervals)];var F=j.newExtent[1]>j.newExtent[0];j.extent=j.stayingIntervals.concat(F?[j.newExtent]:[]),j.extent.length||f(I),j.brushCallback(P),F?g(O.parentNode,N):(N(),g(O.parentNode))}else N();j.brushEndCallback(I.filterSpecified?z.getConsolidated():[])})(this,E)}))}function w(T,E){return T[0]-E[0]}function f(T){T.filterSpecified=!1,T.svgBrush.extent=[[-1/0,1/0]]}function S(T){for(var E,O=T.slice(),P=[],I=O.shift();I;){for(E=I.slice();(I=O.shift())&&I[0]<=E[1];)E[1]=Math.max(E[1],I[1]);P.push(E)}return P.length===1&&P[0][0]>P[0][1]&&(P=[]),P}q.exports={makeBrush:function(T,E,O,P,I,z){var j,R=function(){var N,Z,F=[];return{set:function(U){(F=U.map(function(V){return V.slice().sort(b)}).sort(w)).length===1&&F[0][0]===-1/0&&F[0][1]===1/0&&(F=[[0,-1]]),N=S(F),Z=F.reduce(function(V,te){return[Math.min(V[0],te[0]),Math.max(V[1],te[1])]},[1/0,-1/0])},get:function(){return F.slice()},getConsolidated:function(){return N},getBounds:function(){return Z}}}();return R.set(O),{filter:R,filterSpecified:E,svgBrush:{extent:[],brushStartCallback:P,brushCallback:(j=I,function(N){var Z=N.brush,F=function(V){return V.svgBrush.extent.map(function(te){return te.slice()})}(Z),U=F.slice();Z.filter.set(U),j()}),brushEndCallback:z}}},ensureAxisBrush:function(T,E,O){var P=T.selectAll("."+M.cn.axisBrush).data(_,a);P.enter().append("g").classed(M.cn.axisBrush,!0),function(I,z,j){var R=j._context.staticPlot,N=I.selectAll(".background").data(_);N.enter().append("rect").classed("background",!0).call(l).call(s).style("pointer-events",R?"none":"auto").attr("transform",h(0,M.verticalPadding)),N.call(m).attr("height",function(U){return U.height-M.verticalPadding});var Z=I.selectAll(".highlight-shadow").data(_);Z.enter().append("line").classed("highlight-shadow",!0).attr("x",-M.bar.width/2).attr("stroke-width",M.bar.width+M.bar.strokeWidth).attr("stroke",z).attr("opacity",M.bar.strokeOpacity).attr("stroke-linecap","butt"),Z.attr("y1",function(U){return U.height}).call(x);var F=I.selectAll(".highlight").data(_);F.enter().append("line").classed("highlight",!0).attr("x",-M.bar.width/2).attr("stroke-width",M.bar.width-M.bar.strokeWidth).attr("stroke",M.bar.fillColor).attr("opacity",M.bar.fillOpacity).attr("stroke-linecap","butt"),F.attr("y1",function(U){return U.height}).call(x)}(P,E,O)},cleanRanges:function(T,E){if(Array.isArray(T[0])?(T=T.map(function(P){return P.sort(b)}),T=E.multiselect?S(T.sort(w)):[T[0]]):T=[T.sort(b)],E.tickvals){var O=E.tickvals.slice().sort(b);if(!(T=T.map(function(P){var I=[r(0,O,P[0],[]),r(1,O,P[1],[])];if(I[1]>I[0])return I}).filter(function(P){return P})).length)return}return T.length>1?T:T[0]}}},71791:function(q,C,e){q.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(q,C,e){var M=e(39898),k=e(27659).a0,a=e(21341),_=e(77922);C.name="parcoords",C.plot=function(b){var h=k(b.calcdata,"parcoords")[0];h.length&&a(b,h)},C.clean=function(b,h,o,t){var i=t._has&&t._has("parcoords"),n=h._has&&h._has("parcoords");i&&!n&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},C.toSVG=function(b){var h=b._fullLayout._glimages,o=M.select(b).selectAll(".svg-container");o.filter(function(t,i){return i===o.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var t=this,i=t.toDataURL("image/png");h.append("svg:image").attr({xmlns:_.svg,"xlink:href":i,preserveAspectRatio:"none",x:0,y:0,width:t.style.width,height:t.style.height})}),window.setTimeout(function(){M.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(q,C,e){var M=e(71828).isArrayOrTypedArray,k=e(21081),a=e(28984).wrap;q.exports=function(_,b){var h,o;return k.hasColorscale(b,"line")&&M(b.line.color)?(h=b.line.color,o=k.extractOpts(b.line).colorscale,k.calc(_,b,{vals:h,containerStr:"line",cLetter:"c"})):(h=function(t){for(var i=new Array(t),n=0;n<t;n++)i[n]=.5;return i}(b._length),o=[[0,b.line.color],[1,b.line.color]]),a({lineColor:h,cscale:o})}},25706:function(q){q.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(q,C,e){var M=e(71828),k=e(52075).hasColorscale,a=e(1586),_=e(27670).c,b=e(85501),h=e(89298),o=e(73362),t=e(57920),i=e(25706).maxDimensionCount,n=e(94397);function r(l,s,u,p){function c(y,m){return M.coerce(l,s,o.dimensions,y,m)}var x=c("values"),g=c("visible");if(x&&x.length||(g=s.visible=!1),g){c("label"),c("tickvals"),c("ticktext"),c("tickformat");var d=c("range");s._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},h.setConvert(s._ax,p.layout),c("multiselect");var v=c("constraintrange");v&&(s.constraintrange=t.cleanRanges(v,s))}}q.exports=function(l,s,u,p){function c(y,m){return M.coerce(l,s,o,y,m)}var x=l.dimensions;Array.isArray(x)&&x.length>i&&(M.log("parcoords traces support up to "+i+" dimensions at the moment"),x.splice(i));var g=b(l,s,{name:"dimensions",layout:p,handleItemDefaults:r}),d=function(y,m,w,f,S){var T=S("line.color",w);if(k(y,"line")&&M.isArrayOrTypedArray(T)){if(T.length)return S("line.colorscale"),a(y,m,f,S,{prefix:"line.",cLetter:"c"}),T.length;m.line.color=w}return 1/0}(l,s,u,p,c);_(s,p,c),Array.isArray(g)&&g.length||(s.visible=!1),n(s,g,"values",d);var v={family:p.font.family,size:Math.round(p.font.size/1.2),color:p.font.color};M.coerceFont(c,"labelfont",v),M.coerceFont(c,"tickfont",v),M.coerceFont(c,"rangefont",v),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},1602:function(q,C,e){var M=e(71828).isTypedArray;C.convertTypedArray=function(k){return M(k)?Array.prototype.slice.call(k):k},C.isOrdinal=function(k){return!!k.tickvals},C.isVisible=function(k){return k.visible||!("visible"in k)}},67618:function(q,C,e){var M=e(71791);M.plot=e(21341),q.exports=M},83398:function(q,C,e){var M=e(56068),k=M([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

attribute vec4 p01_04, p05_08, p09_12, p13_16,
               p17_20, p21_24, p25_28, p29_32,
               p33_36, p37_40, p41_44, p45_48,
               p49_52, p53_56, p57_60, colors;

uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,
             loA, hiA, loB, hiB, loC, hiC, loD, hiD;

uniform vec2 resolution, viewBoxPos, viewBoxSize;
uniform float maskHeight;
uniform float drwLayer; // 0: context, 1: focus, 2: pick
uniform vec4 contextColor;
uniform sampler2D maskTexture, palette;

bool isPick    = (drwLayer > 1.5);
bool isContext = (drwLayer < 0.5);

const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);
const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);

float val(mat4 p, mat4 v) {
    return dot(matrixCompMult(p, v) * UNITS, UNITS);
}

float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {
    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);
    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);
    return y1 * (1.0 - ratio) + y2 * ratio;
}

int iMod(int a, int b) {
    return a - b * (a / b);
}

bool fOutside(float p, float lo, float hi) {
    return (lo < hi) && (lo > p || p > hi);
}

bool vOutside(vec4 p, vec4 lo, vec4 hi) {
    return (
        fOutside(p[0], lo[0], hi[0]) ||
        fOutside(p[1], lo[1], hi[1]) ||
        fOutside(p[2], lo[2], hi[2]) ||
        fOutside(p[3], lo[3], hi[3])
    );
}

bool mOutside(mat4 p, mat4 lo, mat4 hi) {
    return (
        vOutside(p[0], lo[0], hi[0]) ||
        vOutside(p[1], lo[1], hi[1]) ||
        vOutside(p[2], lo[2], hi[2]) ||
        vOutside(p[3], lo[3], hi[3])
    );
}

bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {
    return mOutside(A, loA, hiA) ||
           mOutside(B, loB, hiB) ||
           mOutside(C, loC, hiC) ||
           mOutside(D, loD, hiD);
}

bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {
    mat4 pnts[4];
    pnts[0] = A;
    pnts[1] = B;
    pnts[2] = C;
    pnts[3] = D;

    for(int i = 0; i < 4; ++i) {
        for(int j = 0; j < 4; ++j) {
            for(int k = 0; k < 4; ++k) {
                if(0 == iMod(
                    int(255.0 * texture2D(maskTexture,
                        vec2(
                            (float(i * 2 + j / 2) + 0.5) / 8.0,
                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight
                        ))[3]
                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),
                    2
                )) return true;
            }
        }
    }
    return false;
}

vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {
    float x = 0.5 * sign(v) + 0.5;
    float y = axisY(x, A, B, C, D);
    float z = 1.0 - abs(v);

    z += isContext ? 0.0 : 2.0 * float(
        outsideBoundingBox(A, B, C, D) ||
        outsideRasterMask(A, B, C, D)
    );

    return vec4(
        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,
        z,
        1.0
    );
}

void main() {
    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);
    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);
    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);
    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);

    float v = colors[3];

    gl_Position = position(isContext, v, A, B, C, D);

    fragColor =
        isContext ? vec4(contextColor) :
        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));
}
`]),a=M([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
    gl_FragColor = fragColor;
}
`]),_=e(25706).maxDimensionCount,b=e(71828),h=1e-6,o=new Uint8Array(4),t=new Uint8Array(4),i={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function n(d,v,y,m,w){var f=d._gl;f.enable(f.SCISSOR_TEST),f.scissor(v,y,m,w),d.clear({color:[0,0,0,0],depth:1})}function r(d,v,y,m,w,f){var S=f.key;y.drawCompleted||(function(T){T.read({x:0,y:0,width:1,height:1,data:o})}(d),y.drawCompleted=!0),function T(E){var O=Math.min(m,w-E*m);E===0&&(window.cancelAnimationFrame(y.currentRafs[S]),delete y.currentRafs[S],n(d,f.scissorX,f.scissorY,f.scissorWidth,f.viewBoxSize[1])),y.clearOnly||(f.count=2*O,f.offset=2*E*m,v(f),E*m+O<w&&(y.currentRafs[S]=window.requestAnimationFrame(function(){T(E+1)})),y.drawCompleted=!1)}(0)}function l(d,v){for(var y=new Array(256),m=0;m<256;m++)y[m]=d(m/255).concat(v);return y}function s(d,v){return(d>>>8*v)%256/255}function u(d,v,y){for(var m=new Array(8*v),w=0,f=0;f<v;f++)for(var S=0;S<2;S++)for(var T=0;T<4;T++){var E=4*d+T,O=y[64*f+E];E===63&&S===0&&(O*=-1),m[w++]=O}return m}function p(d){var v="0"+d;return v.substr(v.length-2)}function c(d){return d<_?"p"+p(d+1)+"_"+p(d+4):"colors"}function x(d,v,y,m,w,f,S,T,E,O,P,I,z,j){for(var R=[[],[]],N=0;N<64;N++)R[0][N]=N===w?1:0,R[1][N]=N===f?1:0;S*=j,T*=j,E*=j,O*=j;var Z=d.lines.canvasOverdrag*j,F=d.domain,U=d.canvasWidth*j,V=d.canvasHeight*j,te=d.pad.l*j,Q=d.pad.b*j,J=d.layoutHeight*j,X=d.layoutWidth*j,K=d.deselectedLines.color,ee=d.deselectedLines.opacity;return b.extendFlat({key:P,resolution:[U,V],viewBoxPos:[S+Z,T],viewBoxSize:[E,O],i0:w,i1:f,dim0A:R[0].slice(0,16),dim0B:R[0].slice(16,32),dim0C:R[0].slice(32,48),dim0D:R[0].slice(48,64),dim1A:R[1].slice(0,16),dim1B:R[1].slice(16,32),dim1C:R[1].slice(32,48),dim1D:R[1].slice(48,64),drwLayer:I,contextColor:[K[0]/255,K[1]/255,K[2]/255,ee!=="auto"?K[3]*ee:Math.max(.00392156862745098,Math.pow(1/d.lines.color.length,.3333333333333333))],scissorX:(m===v?0:S+Z)+(te-Z)+X*F.x[0],scissorWidth:(m===y?U-S+Z:E+.5)+(m===v?S+Z:0),scissorY:T+Q+J*F.y[0],scissorHeight:O,viewportX:te-Z+X*F.x[0],viewportY:Q+J*F.y[0],viewportWidth:U,viewportHeight:V},z)}function g(d){var v=2047,y=Math.max(0,Math.floor(d[0]*v),0),m=Math.min(v,Math.ceil(d[1]*v),v);return[Math.min(y,m),Math.max(y,m)]}q.exports=function(d,v){var y,m,w,f,S,T=v.context,E=v.pick,O=v.regl,P=O._gl,I=P.getParameter(P.ALIASED_LINE_WIDTH_RANGE),z=Math.max(I[0],Math.min(I[1],v.viewModel.plotGlPixelRatio)),j={currentRafs:{},drawCompleted:!0,clearOnly:!1},R=function(V){for(var te={},Q=0;Q<=_;Q+=4)te[c(Q)]=V.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return te}(O),N=O.texture(i),Z=[];U(v);var F=O({profile:!1,blend:{enable:T,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!T,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:O.prop("scissorX"),y:O.prop("scissorY"),width:O.prop("scissorWidth"),height:O.prop("scissorHeight")}},viewport:{x:O.prop("viewportX"),y:O.prop("viewportY"),width:O.prop("viewportWidth"),height:O.prop("viewportHeight")},dither:!1,vert:k,frag:a,primitive:"lines",lineWidth:z,attributes:R,uniforms:{resolution:O.prop("resolution"),viewBoxPos:O.prop("viewBoxPos"),viewBoxSize:O.prop("viewBoxSize"),dim0A:O.prop("dim0A"),dim1A:O.prop("dim1A"),dim0B:O.prop("dim0B"),dim1B:O.prop("dim1B"),dim0C:O.prop("dim0C"),dim1C:O.prop("dim1C"),dim0D:O.prop("dim0D"),dim1D:O.prop("dim1D"),loA:O.prop("loA"),hiA:O.prop("hiA"),loB:O.prop("loB"),hiB:O.prop("hiB"),loC:O.prop("loC"),hiC:O.prop("hiC"),loD:O.prop("loD"),hiD:O.prop("hiD"),palette:N,contextColor:O.prop("contextColor"),maskTexture:O.prop("maskTexture"),drwLayer:O.prop("drwLayer"),maskHeight:O.prop("maskHeight")},offset:O.prop("offset"),count:O.prop("count")});function U(V){y=V.model,m=V.viewModel,w=m.dimensions.slice(),f=w[0]?w[0].values.length:0;var te=y.lines,Q=E?te.color.map(function(X,K){return K/te.color.length}):te.color,J=function(X,K,ee){for(var re,ie=new Array(X*(_+4)),ae=0,ue=0;ue<X;ue++){for(var pe=0;pe<_;pe++)ie[ae++]=pe<K.length?K[pe].paddedUnitValues[ue]:.5;ie[ae++]=s(ue,2),ie[ae++]=s(ue,1),ie[ae++]=s(ue,0),ie[ae++]=(re=ee[ue],Math.max(h,Math.min(.999999,re)))}return ie}(f,w,Q);(function(X,K,ee){for(var re=0;re<=_;re+=4)X[c(re)](u(re/4,K,ee))})(R,f,J),T||E||(N=O.texture(b.extendFlat({data:l(y.unitToColor,255)},i)))}return{render:function(V,te,Q){var J,X,K,ee=V.length,re=1/0,ie=-1/0;for(J=0;J<ee;J++)V[J].dim0.canvasX<re&&(re=V[J].dim0.canvasX,X=J),V[J].dim1.canvasX>ie&&(ie=V[J].dim1.canvasX,K=J);ee===0&&n(O,0,0,y.canvasWidth,y.canvasHeight);var ae=function(oe){var se,he,Se,_e=[[],[]];for(Se=0;Se<64;Se++){var Ae=!oe&&Se<w.length?w[Se].brush.filter.getBounds():[-1/0,1/0];_e[0][Se]=Ae[0],_e[1][Se]=Ae[1]}var Ce=new Array(16384);for(se=0;se<16384;se++)Ce[se]=255;if(!oe)for(se=0;se<w.length;se++){var Re=se%8,fe=(se-Re)/8,xe=Math.pow(2,Re),ke=w[se].brush.filter.get();if(!(ke.length<2)){var Ie=g(ke[0])[1];for(he=1;he<ke.length;he++){var Fe=g(ke[he]);for(Se=Ie+1;Se<Fe[0];Se++)Ce[8*Se+fe]&=~xe;Ie=Math.max(Ie,Fe[1])}}}var ze={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ce};return S?S(ze):S=O.texture(ze),{maskTexture:S,maskHeight:2048,loA:_e[0].slice(0,16),loB:_e[0].slice(16,32),loC:_e[0].slice(32,48),loD:_e[0].slice(48,64),hiA:_e[1].slice(0,16),hiB:_e[1].slice(16,32),hiC:_e[1].slice(32,48),hiD:_e[1].slice(48,64)}}(T);for(J=0;J<ee;J++){var ue=V[J],pe=ue.dim0.crossfilterDimensionIndex,de=ue.dim1.crossfilterDimensionIndex,ye=ue.canvasX,be=ue.canvasY,me=ye+ue.panelSizeX,Ee=ue.plotGlPixelRatio;if(te||!Z[pe]||Z[pe][0]!==ye||Z[pe][1]!==me){Z[pe]=[ye,me];var Te=x(y,X,K,J,pe,de,ye,be,ue.panelSizeX,ue.panelSizeY,ue.dim0.crossfilterDimensionIndex,T?0:E?2:1,ae,Ee);j.clearOnly=Q;var we=te?y.lines.blockLineCount:f;r(O,F,j,we,f,Te)}}},readPixel:function(V,te){return O.read({x:V,y:te,width:1,height:1,data:t}),t},readPixels:function(V,te,Q,J){var X=new Uint8Array(4*Q*J);return O.read({x:V,y:te,width:Q,height:J,data:X}),X},destroy:function(){for(var V in d.style["pointer-events"]="none",N.destroy(),S&&S.destroy(),R)R[V].destroy()},update:U}}},94397:function(q){q.exports=function(C,e,M,k){var a,_;for(k||(k=1/0),a=0;a<e.length;a++)(_=e[a]).visible&&(k=Math.min(k,_[M].length));for(k===1/0&&(k=0),C._length=k,a=0;a<e.length;a++)(_=e[a]).visible&&(_._length=k);return k}},17171:function(q,C,e){var M=e(39898),k=e(71828),a=k.isArrayOrTypedArray,_=k.numberFormat,b=e(36652),h=e(89298),o=k.strRotate,t=k.strTranslate,i=e(63893),n=e(91424),r=e(21081),l=e(28984),s=l.keyFun,u=l.repeat,p=l.unwrap,c=e(1602),x=e(25706),g=e(57920),d=e(83398);function v(Z,F,U){return k.aggNums(Z,null,F,U)}function y(Z,F){return w(v(Math.min,Z,F),v(Math.max,Z,F))}function m(Z){var F=Z.range;return F?w(F[0],F[1]):y(Z.values,Z._length)}function w(Z,F){return!isNaN(Z)&&isFinite(Z)||(Z=0),!isNaN(F)&&isFinite(F)||(F=0),Z===F&&(Z===0?(Z-=1,F+=1):(Z*=.9,F*=1.1)),[Z,F]}function f(Z,F,U,V,te){var Q,J,X=m(U);return V?M.scale.ordinal().domain(V.map((Q=_(U.tickformat),J=te,J?function(K,ee){var re=J[ee];return re??Q(K)}:Q))).range(V.map(function(K){var ee=(K-X[0])/(X[1]-X[0]);return Z-F+ee*(2*F-Z)})):M.scale.linear().domain(X).range([Z-F,F])}function S(Z){if(Z.tickvals){var F=m(Z);return M.scale.ordinal().domain(Z.tickvals).range(Z.tickvals.map(function(U){return(U-F[0])/(F[1]-F[0])}))}}function T(Z){var F=Z.map(function(te){return te[0]}),U=Z.map(function(te){var Q=b(te[1]);return M.rgb("rgb("+Q[0]+","+Q[1]+","+Q[2]+")")}),V="rgb".split("").map(function(te){return M.scale.linear().clamp(!0).domain(F).range(U.map((Q=te,function(J){return J[Q]})));var Q});return function(te){return V.map(function(Q){return Q(te)})}}function E(Z){return Z.dimensions.some(function(F){return F.brush.filterSpecified})}function O(Z,F,U){var V=p(F),te=V.trace,Q=c.convertTypedArray(V.lineColor),J=te.line,X={color:b(te.unselected.line.color),opacity:te.unselected.line.opacity},K=r.extractOpts(J),ee=K.reversescale?r.flipScale(V.cscale):V.cscale,re=te.domain,ie=te.dimensions,ae=Z.width,ue=te.labelangle,pe=te.labelside,de=te.labelfont,ye=te.tickfont,be=te.rangefont,me=k.extendDeepNoArrays({},J,{color:Q.map(M.scale.linear().domain(m({values:Q,range:[K.min,K.max],_length:te._length}))),blockLineCount:x.blockLineCount,canvasOverdrag:x.overdrag*x.canvasPixelRatio}),Ee=Math.floor(ae*(re.x[1]-re.x[0])),Te=Math.floor(Z.height*(re.y[1]-re.y[0])),we=Z.margin||{l:80,r:80,t:100,b:80},oe=Ee,se=Te;return{key:U,colCount:ie.filter(c.isVisible).length,dimensions:ie,tickDistance:x.tickDistance,unitToColor:T(ee),lines:me,deselectedLines:X,labelAngle:ue,labelSide:pe,labelFont:de,tickFont:ye,rangeFont:be,layoutWidth:ae,layoutHeight:Z.height,domain:re,translateX:re.x[0]*ae,translateY:Z.height-re.y[1]*Z.height,pad:we,canvasWidth:oe*x.canvasPixelRatio+2*me.canvasOverdrag,canvasHeight:se*x.canvasPixelRatio,width:oe,height:se,canvasPixelRatio:x.canvasPixelRatio}}function P(Z,F,U){var V=U.width,te=U.height,Q=U.dimensions,J=U.canvasPixelRatio,X=function(ae){return V*ae/Math.max(1,U.colCount-1)},K=x.verticalPadding/te,ee=function(ae,ue){return M.scale.linear().range([ue,ae-ue])}(te,x.verticalPadding),re={key:U.key,xScale:X,model:U,inBrushDrag:!1},ie={};return re.dimensions=Q.filter(c.isVisible).map(function(ae,ue){var pe=function(Ce,Re){return M.scale.linear().domain(m(Ce)).range([Re,1-Re])}(ae,K),de=ie[ae.label];ie[ae.label]=(de||0)+1;var ye=ae.label+(de?"__"+de:""),be=ae.constraintrange,me=be&&be.length;me&&!a(be[0])&&(be=[be]);var Ee=me?be.map(function(Ce){return Ce.map(pe)}):[[-1/0,1/0]],Te=ae.values;Te.length>ae._length&&(Te=Te.slice(0,ae._length));var we,oe=ae.tickvals;function se(Ce,Re){return{val:Ce,text:we[Re]}}function he(Ce,Re){return Ce.val-Re.val}if(a(oe)&&oe.length){k.isTypedArray(oe)&&(oe=Array.from(oe)),we=ae.ticktext,a(we)&&we.length?we.length>oe.length?we=we.slice(0,oe.length):oe.length>we.length&&(oe=oe.slice(0,we.length)):we=oe.map(_(ae.tickformat));for(var Se=1;Se<oe.length;Se++)if(oe[Se]<oe[Se-1]){for(var _e=oe.map(se).sort(he),Ae=0;Ae<oe.length;Ae++)oe[Ae]=_e[Ae].val,we[Ae]=_e[Ae].text;break}}else oe=void 0;return Te=c.convertTypedArray(Te),{key:ye,label:ae.label,tickFormat:ae.tickformat,tickvals:oe,ticktext:we,ordinal:c.isOrdinal(ae),multiselect:ae.multiselect,xIndex:ue,crossfilterDimensionIndex:ue,visibleIndex:ae._index,height:te,values:Te,paddedUnitValues:Te.map(pe),unitTickvals:oe&&oe.map(pe),xScale:X,x:X(ue),canvasX:X(ue)*J,unitToPaddedPx:ee,domainScale:f(te,x.verticalPadding,ae,oe,we),ordinalScale:S(ae),parent:re,model:U,brush:g.makeBrush(Z,me,Ee,function(){Z.linePickActive(!1)},function(){var Ce=re;Ce.focusLayer&&Ce.focusLayer.render(Ce.panels,!0);var Re=E(Ce);!Z.contextShown()&&Re?(Ce.contextLayer&&Ce.contextLayer.render(Ce.panels,!0),Z.contextShown(!0)):Z.contextShown()&&!Re&&(Ce.contextLayer&&Ce.contextLayer.render(Ce.panels,!0,!0),Z.contextShown(!1))},function(Ce){if(re.focusLayer.render(re.panels,!0),re.pickLayer&&re.pickLayer.render(re.panels,!0),Z.linePickActive(!0),F&&F.filterChanged){var Re=pe.invert,fe=Ce.map(function(xe){return xe.map(Re).sort(k.sorterAsc)}).sort(function(xe,ke){return xe[0]-ke[0]});F.filterChanged(re.key,ae._index,fe)}})}}),re}function I(Z){Z.classed(x.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function z(Z,F){var U=F==="top"?1:-1,V=Z*Math.PI/180;return{dir:U,dx:Math.sin(V),dy:Math.cos(V),degrees:Z}}function j(Z,F,U){for(var V=F.panels||(F.panels=[]),te=Z.data(),Q=0;Q<te.length-1;Q++){var J=V[Q]||(V[Q]={}),X=te[Q],K=te[Q+1];J.dim0=X,J.dim1=K,J.canvasX=X.canvasX,J.panelSizeX=K.canvasX-X.canvasX,J.panelSizeY=F.model.canvasHeight,J.y=0,J.canvasY=0,J.plotGlPixelRatio=U}}function R(Z,F){return h.tickText(Z._ax,F,!1).text}function N(Z,F){if(Z.ordinal)return"";var U=Z.domainScale.domain(),V=U[F?U.length-1:0];return R(Z.model.dimensions[Z.visibleIndex],V)}q.exports=function(Z,F,U,V){var te=Z._context.staticPlot,Q=Z._fullLayout,J=Q._toppaper,X=Q._glcontainer,K=Z._context.plotGlPixelRatio,ee=Z._fullLayout.paper_bgcolor;(function(Ce){for(var Re=0;Re<Ce.length;Re++)for(var fe=0;fe<Ce[Re].length;fe++)for(var xe=Ce[Re][fe].trace,ke=xe.dimensions,Ie=0;Ie<ke.length;Ie++){var Fe=ke[Ie].values,ze=ke[Ie]._ax;ze&&(ze.range?ze.range=w(ze.range[0],ze.range[1]):ze.range=y(Fe,xe._length),ze.dtick||(ze.dtick=.01*(Math.abs(ze.range[1]-ze.range[0])||1)),ze.tickformat=ke[Ie].tickformat,h.calcTicks(ze),ze.cleanRange())}})(F);var re,ie,ae=(re=!0,ie=!1,{linePickActive:function(Ce){return arguments.length?re=!!Ce:re},contextShown:function(Ce){return arguments.length?ie=!!Ce:ie}}),ue=F.filter(function(Ce){return p(Ce).trace.visible}).map(O.bind(0,U)).map(P.bind(0,ae,V));X.each(function(Ce,Re){return k.extendFlat(Ce,ue[Re])});var pe=X.selectAll(".gl-canvas").each(function(Ce){Ce.viewModel=ue[0],Ce.viewModel.plotGlPixelRatio=K,Ce.viewModel.paperColor=ee,Ce.model=Ce.viewModel?Ce.viewModel.model:null}),de=null;pe.filter(function(Ce){return Ce.pick}).style("pointer-events",te?"none":"auto").on("mousemove",function(Ce){if(ae.linePickActive()&&Ce.lineLayer&&V&&V.hover){var Re=M.event,fe=this.width,xe=this.height,ke=M.mouse(this),Ie=ke[0],Fe=ke[1];if(Ie<0||Fe<0||Ie>=fe||Fe>=xe)return;var ze=Ce.lineLayer.readPixel(Ie,xe-1-Fe),qe=ze[3]!==0,Ye=qe?ze[2]+256*(ze[1]+256*ze[0]):null,Qe={x:Ie,y:Fe,clientX:Re.clientX,clientY:Re.clientY,dataIndex:Ce.model.key,curveNumber:Ye};Ye!==de&&(qe?V.hover(Qe):V.unhover&&V.unhover(Qe),de=Ye)}}),pe.style("opacity",function(Ce){return Ce.pick?0:1}),J.style("background","rgba(255, 255, 255, 0)");var ye=J.selectAll("."+x.cn.parcoords).data(ue,s);ye.exit().remove(),ye.enter().append("g").classed(x.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),ye.attr("transform",function(Ce){return t(Ce.model.translateX,Ce.model.translateY)});var be=ye.selectAll("."+x.cn.parcoordsControlView).data(u,s);be.enter().append("g").classed(x.cn.parcoordsControlView,!0),be.attr("transform",function(Ce){return t(Ce.model.pad.l,Ce.model.pad.t)});var me=be.selectAll("."+x.cn.yAxis).data(function(Ce){return Ce.dimensions},s);me.enter().append("g").classed(x.cn.yAxis,!0),be.each(function(Ce){j(me,Ce,K)}),pe.each(function(Ce){if(Ce.viewModel){!Ce.lineLayer||V?Ce.lineLayer=d(this,Ce):Ce.lineLayer.update(Ce),(Ce.key||Ce.key===0)&&(Ce.viewModel[Ce.key]=Ce.lineLayer);var Re=!Ce.context||V;Ce.lineLayer.render(Ce.viewModel.panels,Re)}}),me.attr("transform",function(Ce){return t(Ce.xScale(Ce.xIndex),0)}),me.call(M.behavior.drag().origin(function(Ce){return Ce}).on("drag",function(Ce){var Re=Ce.parent;ae.linePickActive(!1),Ce.x=Math.max(-x.overdrag,Math.min(Ce.model.width+x.overdrag,M.event.x)),Ce.canvasX=Ce.x*Ce.model.canvasPixelRatio,me.sort(function(fe,xe){return fe.x-xe.x}).each(function(fe,xe){fe.xIndex=xe,fe.x=Ce===fe?fe.x:fe.xScale(fe.xIndex),fe.canvasX=fe.x*fe.model.canvasPixelRatio}),j(me,Re,K),me.filter(function(fe){return Math.abs(Ce.xIndex-fe.xIndex)!==0}).attr("transform",function(fe){return t(fe.xScale(fe.xIndex),0)}),M.select(this).attr("transform",t(Ce.x,0)),me.each(function(fe,xe,ke){ke===Ce.parent.key&&(Re.dimensions[xe]=fe)}),Re.contextLayer&&Re.contextLayer.render(Re.panels,!1,!E(Re)),Re.focusLayer.render&&Re.focusLayer.render(Re.panels)}).on("dragend",function(Ce){var Re=Ce.parent;Ce.x=Ce.xScale(Ce.xIndex),Ce.canvasX=Ce.x*Ce.model.canvasPixelRatio,j(me,Re,K),M.select(this).attr("transform",function(fe){return t(fe.x,0)}),Re.contextLayer&&Re.contextLayer.render(Re.panels,!1,!E(Re)),Re.focusLayer&&Re.focusLayer.render(Re.panels),Re.pickLayer&&Re.pickLayer.render(Re.panels,!0),ae.linePickActive(!0),V&&V.axesMoved&&V.axesMoved(Re.key,Re.dimensions.map(function(fe){return fe.crossfilterDimensionIndex}))})),me.exit().remove();var Ee=me.selectAll("."+x.cn.axisOverlays).data(u,s);Ee.enter().append("g").classed(x.cn.axisOverlays,!0),Ee.selectAll("."+x.cn.axis).remove();var Te=Ee.selectAll("."+x.cn.axis).data(u,s);Te.enter().append("g").classed(x.cn.axis,!0),Te.each(function(Ce){var Re=Ce.model.height/Ce.model.tickDistance,fe=Ce.domainScale,xe=fe.domain();M.select(this).call(M.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Re,Ce.tickFormat).tickValues(Ce.ordinal?xe:null).tickFormat(function(ke){return c.isOrdinal(Ce)?ke:R(Ce.model.dimensions[Ce.visibleIndex],ke)}).scale(fe)),n.font(Te.selectAll("text"),Ce.model.tickFont)}),Te.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Te.selectAll("text").style("text-shadow",i.makeTextShadow(ee)).style("cursor","default");var we=Ee.selectAll("."+x.cn.axisHeading).data(u,s);we.enter().append("g").classed(x.cn.axisHeading,!0);var oe=we.selectAll("."+x.cn.axisTitle).data(u,s);oe.enter().append("text").classed(x.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",te?"none":"auto"),oe.text(function(Ce){return Ce.label}).each(function(Ce){var Re=M.select(this);n.font(Re,Ce.model.labelFont),i.convertToTspans(Re,Z)}).attr("transform",function(Ce){var Re=z(Ce.model.labelAngle,Ce.model.labelSide),fe=x.axisTitleOffset;return(Re.dir>0?"":t(0,2*fe+Ce.model.height))+o(Re.degrees)+t(-fe*Re.dx,-fe*Re.dy)}).attr("text-anchor",function(Ce){var Re=z(Ce.model.labelAngle,Ce.model.labelSide);return 2*Math.abs(Re.dx)>Math.abs(Re.dy)?Re.dir*Re.dx<0?"start":"end":"middle"});var se=Ee.selectAll("."+x.cn.axisExtent).data(u,s);se.enter().append("g").classed(x.cn.axisExtent,!0);var he=se.selectAll("."+x.cn.axisExtentTop).data(u,s);he.enter().append("g").classed(x.cn.axisExtentTop,!0),he.attr("transform",t(0,-x.axisExtentOffset));var Se=he.selectAll("."+x.cn.axisExtentTopText).data(u,s);Se.enter().append("text").classed(x.cn.axisExtentTopText,!0).call(I),Se.text(function(Ce){return N(Ce,!0)}).each(function(Ce){n.font(M.select(this),Ce.model.rangeFont)});var _e=se.selectAll("."+x.cn.axisExtentBottom).data(u,s);_e.enter().append("g").classed(x.cn.axisExtentBottom,!0),_e.attr("transform",function(Ce){return t(0,Ce.model.height+x.axisExtentOffset)});var Ae=_e.selectAll("."+x.cn.axisExtentBottomText).data(u,s);Ae.enter().append("text").classed(x.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(I),Ae.text(function(Ce){return N(Ce,!1)}).each(function(Ce){n.font(M.select(this),Ce.model.rangeFont)}),g.ensureAxisBrush(Ee,ee,Z)}},21341:function(q,C,e){var M=e(17171),k=e(79749),a=e(1602).isVisible,_={};function b(h,o,t){var i=o.indexOf(t),n=h.indexOf(i);return n===-1&&(n+=o.length),n}(q.exports=function(h,o){var t=h._fullLayout;if(k(h,[],_)){var i={},n={},r={},l={},s=t._size;o.forEach(function(u,p){var c=u[0].trace;r[p]=c.index;var x=l[p]=c._fullInput.index;i[p]=h.data[x].dimensions,n[p]=h.data[x].dimensions.slice()}),M(h,o,{width:s.w,height:s.h,margin:{t:s.t,r:s.r,b:s.b,l:s.l}},{filterChanged:function(u,p,c){var x=n[u][p],g=c.map(function(f){return f.slice()}),d="dimensions["+p+"].constraintrange",v=t._tracePreGUI[h._fullData[r[u]]._fullInput.uid];if(v[d]===void 0){var y=x.constraintrange;v[d]=y||null}var m=h._fullData[r[u]].dimensions[p];g.length?(g.length===1&&(g=g[0]),x.constraintrange=g,m.constraintrange=g.slice(),g=[g]):(delete x.constraintrange,delete m.constraintrange,g=null);var w={};w[d]=g,h.emit("plotly_restyle",[w,[l[u]]])},hover:function(u){h.emit("plotly_hover",u)},unhover:function(u){h.emit("plotly_unhover",u)},axesMoved:function(u,p){var c=function(x,g){return function(d,v){return b(x,g,d)-b(x,g,v)}}(p,n[u].filter(a));i[u].sort(c),n[u].filter(function(x){return!a(x)}).sort(function(x){return n[u].indexOf(x)}).forEach(function(x){i[u].splice(i[u].indexOf(x),1),i[u].splice(n[u].indexOf(x),0,x)}),h.emit("plotly_restyle",[{dimensions:[i[u]]},[l[u]]])}})}}).reglPrecompiled=_},34e3:function(q,C,e){var M=e(9012),k=e(27670).Y,a=e(41940),_=e(22399),b=e(5386).fF,h=e(5386).si,o=e(1426).extendFlat,t=e(79952).u,i=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});q.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:_.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:o({},M.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:b({},{keys:["label","color","value","percent","text"]}),texttemplate:h({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:o({},i,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:o({},i,{}),outsidetextfont:o({},i,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:o({},i,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:k({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:o({},i,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(q,C,e){var M=e(74875);C.name="pie",C.plot=function(k,a,_,b){M.plotBasePlot(C.name,k,a,_,b)},C.clean=function(k,a,_,b){M.cleanBasePlot(C.name,k,a,_,b)}},32354:function(q,C,e){var M=e(92770),k=e(84267),a=e(7901),_={};function b(o){return function(t,i){return!!t&&!!(t=k(t)).isValid()&&(t=a.addOpacity(t,t.getAlpha()),o[i]||(o[i]=t),t)}}function h(o,t){var i,n=JSON.stringify(o),r=t[n];if(!r){for(r=o.slice(),i=0;i<o.length;i++)r.push(k(o[i]).lighten(20).toHexString());for(i=0;i<o.length;i++)r.push(k(o[i]).darken(20).toHexString());t[n]=r}return r}q.exports={calc:function(o,t){var i,n,r=[],l=o._fullLayout,s=l.hiddenlabels||[],u=t.labels,p=t.marker.colors||[],c=t.values,x=t._length,g=t._hasValues&&x;if(t.dlabel)for(u=new Array(x),i=0;i<x;i++)u[i]=String(t.label0+i*t.dlabel);var d={},v=b(l["_"+t.type+"colormap"]),y=0,m=!1;for(i=0;i<x;i++){var w,f,S;if(g){if(w=c[i],!M(w))continue;w=+w}else w=1;(f=u[i])!==void 0&&f!==""||(f=i);var T=d[f=String(f)];T===void 0?(d[f]=r.length,(S=s.indexOf(f)!==-1)||(y+=w),r.push({v:w,label:f,color:v(p[i],f),i,pts:[i],hidden:S})):(m=!0,(n=r[T]).v+=w,n.pts.push(i),n.hidden||(y+=w),n.color===!1&&p[i]&&(n.color=v(p[i],f)))}return r=r.filter(function(E){return E.v>=0}),(t.type==="funnelarea"?m:t.sort)&&r.sort(function(E,O){return O.v-E.v}),r[0]&&(r[0].vTotal=y),r},crossTraceCalc:function(o,t){var i=(t||{}).type;i||(i="pie");var n=o._fullLayout,r=o.calcdata,l=n[i+"colorway"],s=n["_"+i+"colormap"];n["extend"+i+"colors"]&&(l=h(l,_));for(var u=0,p=0;p<r.length;p++){var c=r[p];if(c[0].trace.type===i)for(var x=0;x<c.length;x++){var g=c[x];g.color===!1&&(s[g.label]?g.color=s[g.label]:(s[g.label]=g.color=l[u%l.length],u++))}}},makePullColorFn:b,generateExtendedColors:h}},37434:function(q,C,e){var M=e(92770),k=e(71828),a=e(34e3),_=e(27670).c,b=e(90769).handleText,h=e(71828).coercePattern;function o(i,n){var r=k.isArrayOrTypedArray(i),l=k.isArrayOrTypedArray(n),s=Math.min(r?i.length:1/0,l?n.length:1/0);if(isFinite(s)||(s=0),s&&l){for(var u,p=0;p<s;p++){var c=n[p];if(M(c)&&c>0){u=!0;break}}u||(s=0)}return{hasLabels:r,hasValues:l,len:s}}function t(i,n,r,l,s){l("marker.line.width")&&l("marker.line.color",s?void 0:r.paper_bgcolor);var u=l("marker.colors");h(l,"marker.pattern",u),i.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=i.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=r.paper_bgcolor)}q.exports={handleLabelsAndValues:o,handleMarkerDefaults:t,supplyDefaults:function(i,n,r,l){function s(m,w){return k.coerce(i,n,a,m,w)}var u=o(s("labels"),s("values")),p=u.len;if(n._hasLabels=u.hasLabels,n._hasValues=u.hasValues,!n._hasLabels&&n._hasValues&&(s("label0"),s("dlabel")),p){n._length=p,t(i,n,l,s,!0),s("scalegroup");var c,x=s("text"),g=s("texttemplate");if(g||(c=s("textinfo",k.isArrayOrTypedArray(x)?"text+percent":"percent")),s("hovertext"),s("hovertemplate"),g||c&&c!=="none"){var d=s("textposition");b(i,n,l,s,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(d)||d==="auto"||d==="outside")&&s("automargin"),(d==="inside"||d==="auto"||Array.isArray(d))&&s("insidetextorientation")}_(n,l,s);var v=s("hole");if(s("title.text")){var y=s("title.position",v?"middle center":"top center");v||y!=="middle center"||(n.title.position="top center"),k.coerceFont(s,"title.font",l.font)}s("sort"),s("direction"),s("rotation"),s("pull")}else n.visible=!1}}},20007:function(q,C,e){var M=e(23469).appendArrayMultiPointValues;q.exports=function(k,a){var _={curveNumber:a.index,pointNumbers:k.pts,data:a._input,fullData:a,label:k.label,color:k.color,value:k.v,percent:k.percent,text:k.text,bbox:k.bbox,v:k.v};return k.pts.length===1&&(_.pointNumber=_.i=k.pts[0]),M(_,a,k.pts),a.type==="funnelarea"&&(delete _.v,delete _.i),_}},22209:function(q,C,e){var M=e(91424),k=e(7901);q.exports=function(a,_,b,h){var o=b.marker.pattern;o&&o.shape?M.pointStyle(a,b,h,_):k.fill(a,_.color)}},53581:function(q,C,e){var M=e(71828);function k(a){return a.indexOf("e")!==-1?a.replace(/[.]?0+e/,"e"):a.indexOf(".")!==-1?a.replace(/[.]?0+$/,""):a}C.formatPiePercent=function(a,_){var b=k((100*a).toPrecision(3));return M.numSeparate(b,_)+"%"},C.formatPieValue=function(a,_){var b=k(a.toPrecision(10));return M.numSeparate(b,_)},C.getFirstFilled=function(a,_){if(M.isArrayOrTypedArray(a))for(var b=0;b<_.length;b++){var h=a[_[b]];if(h||h===0||h==="")return h}},C.castOption=function(a,_){return M.isArrayOrTypedArray(a)?C.getFirstFilled(a,_):a||void 0},C.getRotationAngle=function(a){return(a==="auto"?0:a)*Math.PI/180}},58810:function(q,C,e){q.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(q){q.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(q,C,e){var M=e(71828),k=e(92774);q.exports=function(a,_){function b(h,o){return M.coerce(a,_,k,h,o)}b("hiddenlabels"),b("piecolorway",_.colorway),b("extendpiecolors")}},14575:function(q,C,e){var M=e(39898),k=e(74875),a=e(30211),_=e(7901),b=e(91424),h=e(71828),o=h.strScale,t=h.strTranslate,i=e(63893),n=e(72597),r=n.recordMinTextSize,l=n.clearMinTextSize,s=e(97313).TEXTPAD,u=e(53581),p=e(20007),c=e(71828).isValidTextValue;function x(Z,F,U){var V=U[0],te=V.cx,Q=V.cy,J=V.trace,X=J.type==="funnelarea";"_hasHoverLabel"in J||(J._hasHoverLabel=!1),"_hasHoverEvent"in J||(J._hasHoverEvent=!1),Z.on("mouseover",function(K){var ee=F._fullLayout,re=F._fullData[J.index];if(!F._dragging&&ee.hovermode!==!1){var ie=re.hoverinfo;if(Array.isArray(ie)&&(ie=a.castHoverinfo({hoverinfo:[u.castOption(ie,K.pts)],_module:J._module},ee,0)),ie==="all"&&(ie="label+text+value+percent+name"),re.hovertemplate||ie!=="none"&&ie!=="skip"&&ie){var ae=K.rInscribed||0,ue=te+K.pxmid[0]*(1-ae),pe=Q+K.pxmid[1]*(1-ae),de=ee.separators,ye=[];if(ie&&ie.indexOf("label")!==-1&&ye.push(K.label),K.text=u.castOption(re.hovertext||re.text,K.pts),ie&&ie.indexOf("text")!==-1){var be=K.text;h.isValidTextValue(be)&&ye.push(be)}K.value=K.v,K.valueLabel=u.formatPieValue(K.v,de),ie&&ie.indexOf("value")!==-1&&ye.push(K.valueLabel),K.percent=K.v/V.vTotal,K.percentLabel=u.formatPiePercent(K.percent,de),ie&&ie.indexOf("percent")!==-1&&ye.push(K.percentLabel);var me=re.hoverlabel,Ee=me.font,Te=[];a.loneHover({trace:J,x0:ue-ae*V.r,x1:ue+ae*V.r,y:pe,_x0:X?te+K.TL[0]:ue-ae*V.r,_x1:X?te+K.TR[0]:ue+ae*V.r,_y0:X?Q+K.TL[1]:pe-ae*V.r,_y1:X?Q+K.BL[1]:pe+ae*V.r,text:ye.join("<br>"),name:re.hovertemplate||ie.indexOf("name")!==-1?re.name:void 0,idealAlign:K.pxmid[0]<0?"left":"right",color:u.castOption(me.bgcolor,K.pts)||K.color,borderColor:u.castOption(me.bordercolor,K.pts),fontFamily:u.castOption(Ee.family,K.pts),fontSize:u.castOption(Ee.size,K.pts),fontColor:u.castOption(Ee.color,K.pts),nameLength:u.castOption(me.namelength,K.pts),textAlign:u.castOption(me.align,K.pts),hovertemplate:u.castOption(re.hovertemplate,K.pts),hovertemplateLabels:K,eventData:[p(K,re)]},{container:ee._hoverlayer.node(),outerContainer:ee._paper.node(),gd:F,inOut_bbox:Te}),K.bbox=Te[0],J._hasHoverLabel=!0}J._hasHoverEvent=!0,F.emit("plotly_hover",{points:[p(K,re)],event:M.event})}}),Z.on("mouseout",function(K){var ee=F._fullLayout,re=F._fullData[J.index],ie=M.select(this).datum();J._hasHoverEvent&&(K.originalEvent=M.event,F.emit("plotly_unhover",{points:[p(ie,re)],event:M.event}),J._hasHoverEvent=!1),J._hasHoverLabel&&(a.loneUnhover(ee._hoverlayer.node()),J._hasHoverLabel=!1)}),Z.on("click",function(K){var ee=F._fullLayout,re=F._fullData[J.index];F._dragging||ee.hovermode===!1||(F._hoverdata=[p(K,re)],a.click(F,M.event))})}function g(Z,F,U){var V=u.castOption(Z.insidetextfont.color,F.pts);!V&&Z._input.textfont&&(V=u.castOption(Z._input.textfont.color,F.pts));var te=u.castOption(Z.insidetextfont.family,F.pts)||u.castOption(Z.textfont.family,F.pts)||U.family,Q=u.castOption(Z.insidetextfont.size,F.pts)||u.castOption(Z.textfont.size,F.pts)||U.size;return{color:V||_.contrast(F.color),family:te,size:Q}}function d(Z,F){for(var U,V,te=0;te<Z.length;te++)if((V=(U=Z[te][0]).trace).title.text){var Q=V.title.text;V._meta&&(Q=h.templateString(Q,V._meta));var J=b.tester.append("text").attr("data-notex",1).text(Q).call(b.font,V.title.font).call(i.convertToTspans,F),X=b.bBox(J.node(),!0);U.titleBox={width:X.width,height:X.height},J.remove()}}function v(Z,F,U){var V=U.r||F.rpx1,te=F.rInscribed;if(F.startangle===F.stopangle)return{rCenter:1-te,scale:0,rotate:0,textPosAngle:0};var Q,J=F.ring,X=J===1&&Math.abs(F.startangle-F.stopangle)===2*Math.PI,K=F.halfangle,ee=F.midangle,re=U.trace.insidetextorientation,ie=re==="horizontal",ae=re==="tangential",ue=re==="radial",pe=re==="auto",de=[];if(!pe){var ye,be=function(se,he){if(function(Ce,Re){var fe=Ce.startangle,xe=Ce.stopangle;return fe>Re&&Re>xe||fe<Re&&Re<xe}(F,se)){var Se=Math.abs(se-F.startangle),_e=Math.abs(se-F.stopangle),Ae=Se<_e?Se:_e;(Q=he==="tan"?m(Z,V,J,Ae,0):y(Z,V,J,Ae,Math.PI/2)).textPosAngle=se,de.push(Q)}};if(ie||ae){for(ye=4;ye>=-4;ye-=2)be(Math.PI*ye,"tan");for(ye=4;ye>=-4;ye-=2)be(Math.PI*(ye+1),"tan")}if(ie||ue){for(ye=4;ye>=-4;ye-=2)be(Math.PI*(ye+1.5),"rad");for(ye=4;ye>=-4;ye-=2)be(Math.PI*(ye+.5),"rad")}}if(X||pe||ie){var me=Math.sqrt(Z.width*Z.width+Z.height*Z.height);if((Q={scale:te*V*2/me,rCenter:1-te,rotate:0}).textPosAngle=(F.startangle+F.stopangle)/2,Q.scale>=1)return Q;de.push(Q)}(pe||ue)&&((Q=y(Z,V,J,K,ee)).textPosAngle=(F.startangle+F.stopangle)/2,de.push(Q)),(pe||ae)&&((Q=m(Z,V,J,K,ee)).textPosAngle=(F.startangle+F.stopangle)/2,de.push(Q));for(var Ee=0,Te=0,we=0;we<de.length;we++){var oe=de[we].scale;if(Te<oe&&(Te=oe,Ee=we),!pe&&Te>=1)break}return de[Ee]}function y(Z,F,U,V,te){F=Math.max(0,F-2*s);var Q=Z.width/Z.height,J=S(Q,V,F,U);return{scale:2*J/Z.height,rCenter:w(Q,J/F),rotate:f(te)}}function m(Z,F,U,V,te){F=Math.max(0,F-2*s);var Q=Z.height/Z.width,J=S(Q,V,F,U);return{scale:2*J/Z.width,rCenter:w(Q,J/F),rotate:f(te+Math.PI/2)}}function w(Z,F){return Math.cos(F)-Z*F}function f(Z){return(180/Math.PI*Z+720)%180-90}function S(Z,F,U,V){var te=Z+1/(2*Math.tan(F));return U*Math.min(1/(Math.sqrt(te*te+.5)+te),V/(Math.sqrt(Z*Z+V/2)+Z))}function T(Z,F){return Z.v!==F.vTotal||F.trace.hole?Math.min(1/(1+1/Math.sin(Z.halfangle)),Z.ring/2):1}function E(Z,F){var U=F.pxmid[0],V=F.pxmid[1],te=Z.width/2,Q=Z.height/2;return U<0&&(te*=-1),V<0&&(Q*=-1),{scale:1,rCenter:1,rotate:0,x:te+Math.abs(Q)*(te>0?1:-1)/2,y:Q/(1+U*U/(V*V)),outside:!0}}function O(Z,F){var U,V,te,Q=Z.trace,J={x:Z.cx,y:Z.cy},X={tx:0,ty:0};X.ty+=Q.title.font.size,te=I(Q),Q.title.position.indexOf("top")!==-1?(J.y-=(1+te)*Z.r,X.ty-=Z.titleBox.height):Q.title.position.indexOf("bottom")!==-1&&(J.y+=(1+te)*Z.r);var K,ee=Z.r/((K=Z.trace.aspectratio)===void 0?1:K),re=F.w*(Q.domain.x[1]-Q.domain.x[0])/2;return Q.title.position.indexOf("left")!==-1?(re+=ee,J.x-=(1+te)*ee,X.tx+=Z.titleBox.width/2):Q.title.position.indexOf("center")!==-1?re*=2:Q.title.position.indexOf("right")!==-1&&(re+=ee,J.x+=(1+te)*ee,X.tx-=Z.titleBox.width/2),U=re/Z.titleBox.width,V=P(Z,F)/Z.titleBox.height,{x:J.x,y:J.y,scale:Math.min(U,V),tx:X.tx,ty:X.ty}}function P(Z,F){var U=Z.trace,V=F.h*(U.domain.y[1]-U.domain.y[0]);return Math.min(Z.titleBox.height,V/2)}function I(Z){var F,U=Z.pull;if(!U)return 0;if(h.isArrayOrTypedArray(U))for(U=0,F=0;F<Z.pull.length;F++)Z.pull[F]>U&&(U=Z.pull[F]);return U}function z(Z,F){for(var U=[],V=0;V<Z.length;V++){var te=Z[V][0],Q=te.trace,J=Q.domain,X=F.w*(J.x[1]-J.x[0]),K=F.h*(J.y[1]-J.y[0]);Q.title.text&&Q.title.position!=="middle center"&&(K-=P(te,F));var ee=X/2,re=K/2;Q.type!=="funnelarea"||Q.scalegroup||(re/=Q.aspectratio),te.r=Math.min(ee,re)/(1+I(Q)),te.cx=F.l+F.w*(Q.domain.x[1]+Q.domain.x[0])/2,te.cy=F.t+F.h*(1-Q.domain.y[0])-K/2,Q.title.text&&Q.title.position.indexOf("bottom")!==-1&&(te.cy-=P(te,F)),Q.scalegroup&&U.indexOf(Q.scalegroup)===-1&&U.push(Q.scalegroup)}(function(ie,ae){for(var ue,pe,de,ye=0;ye<ae.length;ye++){var be=1/0,me=ae[ye];for(pe=0;pe<ie.length;pe++)if((de=(ue=ie[pe][0]).trace).scalegroup===me){var Ee;if(de.type==="pie")Ee=ue.r*ue.r;else if(de.type==="funnelarea"){var Te,we;de.aspectratio>1?we=(Te=ue.r)/de.aspectratio:Te=(we=ue.r)*de.aspectratio,Ee=(Te*=(1+de.baseratio)/2)*we}be=Math.min(be,Ee/ue.vTotal)}for(pe=0;pe<ie.length;pe++)if((de=(ue=ie[pe][0]).trace).scalegroup===me){var oe=be*ue.vTotal;de.type==="funnelarea"&&(oe/=(1+de.baseratio)/2,oe/=de.aspectratio),ue.r=Math.sqrt(oe)}}})(Z,U)}function j(Z,F){return[Z*Math.sin(F),-Z*Math.cos(F)]}function R(Z,F,U){var V=Z._fullLayout,te=U.trace,Q=te.texttemplate,J=te.textinfo;if(!Q&&J&&J!=="none"){var X,K=J.split("+"),ee=function(Ee){return K.indexOf(Ee)!==-1},re=ee("label"),ie=ee("text"),ae=ee("value"),ue=ee("percent"),pe=V.separators;if(X=re?[F.label]:[],ie){var de=u.getFirstFilled(te.text,F.pts);c(de)&&X.push(de)}ae&&X.push(u.formatPieValue(F.v,pe)),ue&&X.push(u.formatPiePercent(F.v/U.vTotal,pe)),F.text=X.join("<br>")}if(Q){var ye=h.castOption(te,F.i,"texttemplate");if(ye){var be=function(Ee){return{label:Ee.label,value:Ee.v,valueLabel:u.formatPieValue(Ee.v,V.separators),percent:Ee.v/U.vTotal,percentLabel:u.formatPiePercent(Ee.v/U.vTotal,V.separators),color:Ee.color,text:Ee.text,customdata:h.castOption(te,Ee.i,"customdata")}}(F),me=u.getFirstFilled(te.text,F.pts);(c(me)||me==="")&&(be.text=me),F.text=h.texttemplateString(ye,be,Z._fullLayout._d3locale,be,te._meta||{})}else F.text=""}}function N(Z,F){var U=Z.rotate*Math.PI/180,V=Math.cos(U),te=Math.sin(U),Q=(F.left+F.right)/2,J=(F.top+F.bottom)/2;Z.textX=Q*V-J*te,Z.textY=Q*te+J*V,Z.noCenter=!0}q.exports={plot:function(Z,F){var U=Z._context.staticPlot,V=Z._fullLayout,te=V._size;l("pie",V),d(F,Z),z(F,te);var Q=h.makeTraceGroups(V._pielayer,F,"trace").each(function(J){var X=M.select(this),K=J[0],ee=K.trace;(function(re){var ie,ae,ue,pe=re[0],de=pe.r,ye=pe.trace,be=u.getRotationAngle(ye.rotation),me=2*Math.PI/pe.vTotal,Ee="px0",Te="px1";if(ye.direction==="counterclockwise"){for(ie=0;ie<re.length&&re[ie].hidden;ie++);if(ie===re.length)return;be+=me*re[ie].v,me*=-1,Ee="px1",Te="px0"}for(ue=j(de,be),ie=0;ie<re.length;ie++)(ae=re[ie]).hidden||(ae[Ee]=ue,ae.startangle=be,be+=me*ae.v/2,ae.pxmid=j(de,be),ae.midangle=be,ue=j(de,be+=me*ae.v/2),ae.stopangle=be,ae[Te]=ue,ae.largeArc=ae.v>pe.vTotal/2?1:0,ae.halfangle=Math.PI*Math.min(ae.v/pe.vTotal,.5),ae.ring=1-ye.hole,ae.rInscribed=T(ae,pe))})(J),X.attr("stroke-linejoin","round"),X.each(function(){var re=M.select(this).selectAll("g.slice").data(J);re.enter().append("g").classed("slice",!0),re.exit().remove();var ie=[[[],[]],[[],[]]],ae=!1;re.each(function(Te,we){if(Te.hidden)M.select(this).selectAll("path,g").remove();else{Te.pointNumber=Te.i,Te.curveNumber=ee.index,ie[Te.pxmid[1]<0?0:1][Te.pxmid[0]<0?0:1].push(Te);var oe=K.cx,se=K.cy,he=M.select(this),Se=he.selectAll("path.surface").data([Te]);if(Se.enter().append("path").classed("surface",!0).style({"pointer-events":U?"none":"all"}),he.call(x,Z,J),ee.pull){var _e=+u.castOption(ee.pull,Te.pts)||0;_e>0&&(oe+=_e*Te.pxmid[0],se+=_e*Te.pxmid[1])}Te.cxFinal=oe,Te.cyFinal=se;var Ae=ee.hole;if(Te.v===K.vTotal){var Ce="M"+(oe+Te.px0[0])+","+(se+Te.px0[1])+Ie(Te.px0,Te.pxmid,!0,1)+Ie(Te.pxmid,Te.px0,!0,1)+"Z";Ae?Se.attr("d","M"+(oe+Ae*Te.px0[0])+","+(se+Ae*Te.px0[1])+Ie(Te.px0,Te.pxmid,!1,Ae)+Ie(Te.pxmid,Te.px0,!1,Ae)+"Z"+Ce):Se.attr("d",Ce)}else{var Re=Ie(Te.px0,Te.px1,!0,1);if(Ae){var fe=1-Ae;Se.attr("d","M"+(oe+Ae*Te.px1[0])+","+(se+Ae*Te.px1[1])+Ie(Te.px1,Te.px0,!1,Ae)+"l"+fe*Te.px0[0]+","+fe*Te.px0[1]+Re+"Z")}else Se.attr("d","M"+oe+","+se+"l"+Te.px0[0]+","+Te.px0[1]+Re+"Z")}R(Z,Te,K);var xe=u.castOption(ee.textposition,Te.pts),ke=he.selectAll("g.slicetext").data(Te.text&&xe!=="none"?[0]:[]);ke.enter().append("g").classed("slicetext",!0),ke.exit().remove(),ke.each(function(){var Fe=h.ensureSingle(M.select(this),"text","",function(Mt){Mt.attr("data-notex",1)}),ze=h.ensureUniformFontSize(Z,xe==="outside"?function(Mt,_t,it){return{color:u.castOption(Mt.outsidetextfont.color,_t.pts)||u.castOption(Mt.textfont.color,_t.pts)||it.color,family:u.castOption(Mt.outsidetextfont.family,_t.pts)||u.castOption(Mt.textfont.family,_t.pts)||it.family,size:u.castOption(Mt.outsidetextfont.size,_t.pts)||u.castOption(Mt.textfont.size,_t.pts)||it.size}}(ee,Te,V.font):g(ee,Te,V.font));Fe.text(Te.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(b.font,ze).call(i.convertToTspans,Z);var qe,Ye=b.bBox(Fe.node());if(xe==="outside")qe=E(Ye,Te);else if(qe=v(Ye,Te,K),xe==="auto"&&qe.scale<1){var Qe=h.ensureUniformFontSize(Z,ee.outsidetextfont);Fe.call(b.font,Qe),qe=E(Ye=b.bBox(Fe.node()),Te)}var ft=qe.textPosAngle,ht=ft===void 0?Te.pxmid:j(K.r,ft);if(qe.targetX=oe+ht[0]*qe.rCenter+(qe.x||0),qe.targetY=se+ht[1]*qe.rCenter+(qe.y||0),N(qe,Ye),qe.outside){var mt=qe.targetY;Te.yLabelMin=mt-Ye.height/2,Te.yLabelMid=mt,Te.yLabelMax=mt+Ye.height/2,Te.labelExtraX=0,Te.labelExtraY=0,ae=!0}qe.fontSize=ze.size,r(ee.type,qe,V),J[we].transform=qe,h.setTransormAndDisplay(Fe,qe)})}function Ie(Fe,ze,qe,Ye){var Qe=Ye*(ze[0]-Fe[0]),ft=Ye*(ze[1]-Fe[1]);return"a"+Ye*K.r+","+Ye*K.r+" 0 "+Te.largeArc+(qe?" 1 ":" 0 ")+Qe+","+ft}});var ue=M.select(this).selectAll("g.titletext").data(ee.title.text?[0]:[]);if(ue.enter().append("g").classed("titletext",!0),ue.exit().remove(),ue.each(function(){var Te,we=h.ensureSingle(M.select(this),"text","",function(se){se.attr("data-notex",1)}),oe=ee.title.text;ee._meta&&(oe=h.templateString(oe,ee._meta)),we.text(oe).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(b.font,ee.title.font).call(i.convertToTspans,Z),Te=ee.title.position==="middle center"?function(se){var he=Math.sqrt(se.titleBox.width*se.titleBox.width+se.titleBox.height*se.titleBox.height);return{x:se.cx,y:se.cy,scale:se.trace.hole*se.r*2/he,tx:0,ty:-se.titleBox.height/2+se.trace.title.font.size}}(K):O(K,te),we.attr("transform",t(Te.x,Te.y)+o(Math.min(1,Te.scale))+t(Te.tx,Te.ty))}),ae&&function(Te,we){var oe,se,he,Se,_e,Ae,Ce,Re,fe,xe,ke,Ie,Fe;function ze(ft,ht){return ft.pxmid[1]-ht.pxmid[1]}function qe(ft,ht){return ht.pxmid[1]-ft.pxmid[1]}function Ye(ft,ht){ht||(ht={});var mt,Mt,_t,it,st=ht.labelExtraY+(se?ht.yLabelMax:ht.yLabelMin),St=se?ft.yLabelMin:ft.yLabelMax,zt=se?ft.yLabelMax:ft.yLabelMin,Ft=ft.cyFinal+_e(ft.px0[1],ft.px1[1]),Pt=st-St;if(Pt*Ce>0&&(ft.labelExtraY=Pt),h.isArrayOrTypedArray(we.pull))for(Mt=0;Mt<xe.length;Mt++)(_t=xe[Mt])===ft||(u.castOption(we.pull,ft.pts)||0)>=(u.castOption(we.pull,_t.pts)||0)||((ft.pxmid[1]-_t.pxmid[1])*Ce>0?(Pt=_t.cyFinal+_e(_t.px0[1],_t.px1[1])-St-ft.labelExtraY)*Ce>0&&(ft.labelExtraY+=Pt):(zt+ft.labelExtraY-Ft)*Ce>0&&(mt=3*Ae*Math.abs(Mt-xe.indexOf(ft)),(it=_t.cxFinal+Se(_t.px0[0],_t.px1[0])+mt-(ft.cxFinal+ft.pxmid[0])-ft.labelExtraX)*Ae>0&&(ft.labelExtraX+=it)))}for(se=0;se<2;se++)for(he=se?ze:qe,_e=se?Math.max:Math.min,Ce=se?1:-1,oe=0;oe<2;oe++){for(Se=oe?Math.max:Math.min,Ae=oe?1:-1,(Re=Te[se][oe]).sort(he),fe=Te[1-se][oe],xe=fe.concat(Re),Ie=[],ke=0;ke<Re.length;ke++)Re[ke].yLabelMid!==void 0&&Ie.push(Re[ke]);for(Fe=!1,ke=0;se&&ke<fe.length;ke++)if(fe[ke].yLabelMid!==void 0){Fe=fe[ke];break}for(ke=0;ke<Ie.length;ke++){var Qe=ke&&Ie[ke-1];Fe&&!ke&&(Qe=Fe),Ye(Ie[ke],Qe)}}}(ie,ee),function(Te,we){Te.each(function(oe){var se=M.select(this);if(oe.labelExtraX||oe.labelExtraY){var he=se.select("g.slicetext text");oe.transform.targetX+=oe.labelExtraX,oe.transform.targetY+=oe.labelExtraY,h.setTransormAndDisplay(he,oe.transform);var Se=oe.cxFinal+oe.pxmid[0],_e="M"+Se+","+(oe.cyFinal+oe.pxmid[1]),Ae=(oe.yLabelMax-oe.yLabelMin)*(oe.pxmid[0]<0?-1:1)/4;if(oe.labelExtraX){var Ce=oe.labelExtraX*oe.pxmid[1]/oe.pxmid[0],Re=oe.yLabelMid+oe.labelExtraY-(oe.cyFinal+oe.pxmid[1]);Math.abs(Ce)>Math.abs(Re)?_e+="l"+Re*oe.pxmid[0]/oe.pxmid[1]+","+Re+"H"+(Se+oe.labelExtraX+Ae):_e+="l"+oe.labelExtraX+","+Ce+"v"+(Re-Ce)+"h"+Ae}else _e+="V"+(oe.yLabelMid+oe.labelExtraY)+"h"+Ae;h.ensureSingle(se,"path","textline").call(_.stroke,we.outsidetextfont.color).attr({"stroke-width":Math.min(2,we.outsidetextfont.size/8),d:_e,fill:"none"})}else se.select("path.textline").remove()})}(re,ee),ae&&ee.automargin){var pe=b.bBox(X.node()),de=ee.domain,ye=te.w*(de.x[1]-de.x[0]),be=te.h*(de.y[1]-de.y[0]),me=(.5*ye-K.r)/te.w,Ee=(.5*be-K.r)/te.h;k.autoMargin(Z,"pie."+ee.uid+".automargin",{xl:de.x[0]-me,xr:de.x[1]+me,yb:de.y[0]-Ee,yt:de.y[1]+Ee,l:Math.max(K.cx-K.r-pe.left,0),r:Math.max(pe.right-(K.cx+K.r),0),b:Math.max(pe.bottom-(K.cy+K.r),0),t:Math.max(K.cy-K.r-pe.top,0),pad:5})}})});setTimeout(function(){Q.selectAll("tspan").each(function(){var J=M.select(this);J.attr("dy")&&J.attr("dy",J.attr("dy"))})},0)},formatSliceLabel:R,transformInsideText:v,determineInsideTextFont:g,positionTitleOutside:O,prerenderTitles:d,layoutAreas:z,attachFxHandlers:x,computeTransform:N}},68357:function(q,C,e){var M=e(39898),k=e(63463),a=e(72597).resizeText;q.exports=function(_){var b=_._fullLayout._pielayer.selectAll(".trace");a(_,b,"pie"),b.each(function(h){var o=h[0].trace,t=M.select(this);t.style({opacity:o.opacity}),t.selectAll("path.surface").each(function(i){M.select(this).call(k,i,o,_)})})}},63463:function(q,C,e){var M=e(7901),k=e(53581).castOption,a=e(22209);q.exports=function(_,b,h,o){var t=h.marker.line,i=k(t.color,b.pts)||M.defaultLine,n=k(t.width,b.pts)||0;_.call(a,b,h,o).style("stroke-width",n).call(M.stroke,i)}},10959:function(q,C,e){var M=e(82196);q.exports={x:M.x,y:M.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:M.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(q,C,e){var M=e(9330).gl_pointcloud2d,k=e(71828).isArrayOrTypedArray,a=e(78614),_=e(71739).findExtremes,b=e(34603);function h(t,i){this.scene=t,this.uid=i,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=M(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var o=h.prototype;o.handlePick=function(t){var i=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*i],this.pickXYData[2*i+1]]:[this.pickXData[i],this.pickYData[i]],textLabel:k(this.textLabels)?this.textLabels[i]:this.textLabels,color:this.color,name:this.name,pointIndex:i,hoverinfo:this.hoverinfo}},o.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=b(t,{})},o.updateFast=function(t){var i,n,r,l,s,u,p=this.xData=this.pickXData=t.x,c=this.yData=this.pickYData=t.y,x=this.pickXYData=t.xy,g=t.xbounds&&t.ybounds,d=t.indices,v=this.bounds;if(x){if(r=x,i=x.length>>>1,g)v[0]=t.xbounds[0],v[2]=t.xbounds[1],v[1]=t.ybounds[0],v[3]=t.ybounds[1];else for(u=0;u<i;u++)l=r[2*u],s=r[2*u+1],l<v[0]&&(v[0]=l),l>v[2]&&(v[2]=l),s<v[1]&&(v[1]=s),s>v[3]&&(v[3]=s);if(d)n=d;else for(n=new Int32Array(i),u=0;u<i;u++)n[u]=u}else for(i=p.length,r=new Float32Array(2*i),n=new Int32Array(i),u=0;u<i;u++)l=p[u],s=c[u],n[u]=u,r[2*u]=l,r[2*u+1]=s,l<v[0]&&(v[0]=l),l>v[2]&&(v[2]=l),s<v[1]&&(v[1]=s),s>v[3]&&(v[3]=s);this.idToIndex=n,this.pointcloudOptions.idToIndex=n,this.pointcloudOptions.positions=r;var y=a(t.marker.color),m=a(t.marker.border.color),w=t.opacity*t.marker.opacity;y[3]*=w,this.pointcloudOptions.color=y;var f=t.marker.blend;f===null&&(f=p.length<100||c.length<100),this.pointcloudOptions.blend=f,m[3]*=w,this.pointcloudOptions.borderColor=m;var S=t.marker.sizemin,T=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=S,this.pointcloudOptions.sizeMax=T,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var E=this.scene.xaxis,O=this.scene.yaxis,P=T/2||.5;t._extremes[E._id]=_(E,[v[0],v[2]],{ppad:P}),t._extremes[O._id]=_(O,[v[1],v[3]],{ppad:P})},o.dispose=function(){this.pointcloud.dispose()},q.exports=function(t,i){var n=new h(t,i.uid);return n.update(i),n}},33876:function(q,C,e){var M=e(71828),k=e(10959);q.exports=function(a,_,b){function h(o,t){return M.coerce(a,_,k,o,t)}h("x"),h("y"),h("xbounds"),h("ybounds"),a.xy&&a.xy instanceof Float32Array&&(_.xy=a.xy),a.indices&&a.indices instanceof Int32Array&&(_.indices=a.indices),h("text"),h("marker.color",b),h("marker.opacity"),h("marker.blend"),h("marker.sizemin"),h("marker.sizemax"),h("marker.border.color",b),h("marker.border.arearatio"),_._length=null}},20593:function(q,C,e){q.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(q,C,e){var M=e(41940),k=e(9012),a=e(22399),_=e(77914),b=e(27670).Y,h=e(5386).fF,o=e(50693),t=e(44467).templatedArray,i=e(12663).descriptionOnlyNumbers,n=e(1426).extendFlat,r=e(30962).overrideAll;(q.exports=r({hoverinfo:n({},k.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:_.hoverlabel,domain:b({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:i("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:M({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:_.hoverlabel,hovertemplate:h({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:_.hoverlabel,hovertemplate:h({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:n(o().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},75536:function(q,C,e){var M=e(30962).overrideAll,k=e(27659).a0,a=e(60436),_=e(528),b=e(6964),h=e(28569),o=e(47322).prepSelect,t=e(71828),i=e(73972),n="sankey";function r(l,s){var u=l._fullData[s],p=l._fullLayout,c=p.dragmode,x=p.dragmode==="pan"?"move":"crosshair",g=u._bgRect;if(g&&c!=="pan"&&c!=="zoom"){b(g,x);var d={_id:"x",c2p:t.identity,_offset:u._sankey.translateX,_length:u._sankey.width},v={_id:"y",c2p:t.identity,_offset:u._sankey.translateY,_length:u._sankey.height},y={gd:l,element:g.node(),plotinfo:{id:s,xaxis:d,yaxis:v,fillRangeItems:t.noop},subplot:s,xaxes:[d],yaxes:[v],doneFnCompleted:function(m){var w,f=l._fullData[s],S=f.node.groups.slice(),T=[];function E(z){for(var j=f._sankey.graph.nodes,R=0;R<j.length;R++)if(j[R].pointNumber===z)return j[R]}for(var O=0;O<m.length;O++){var P=E(m[O].pointNumber);if(P)if(P.group){for(var I=0;I<P.childrenNodes.length;I++)T.push(P.childrenNodes[I].pointNumber);S[P.pointNumber-f.node._count]=!1}else T.push(P.pointNumber)}w=S.filter(Boolean).concat([T]),i.call("_guiRestyle",l,{"node.groups":[w]},s)},prepFn:function(m,w,f){o(m,w,f,y,c)}};h.init(y)}}C.name=n,C.baseLayoutAttrOverrides=M({hoverlabel:_.hoverlabel},"plot","nested"),C.plot=function(l){var s=k(l.calcdata,n)[0];a(l,s),C.updateFx(l)},C.clean=function(l,s,u,p){var c=p._has&&p._has(n),x=s._has&&s._has(n);c&&!x&&(p._paperdiv.selectAll(".sankey").remove(),p._paperdiv.selectAll(".bgsankey").remove())},C.updateFx=function(l){for(var s=0;s<l._fullData.length;s++)r(l,s)}},92930:function(q,C,e){var M=e(68664),k=e(71828),a=e(28984).wrap,_=k.isArrayOrTypedArray,b=k.isIndex,h=e(21081);q.exports=function(o,t){var i=function(n){var r,l=n.node,s=n.link,u=[],p=_(s.color),c=_(s.customdata),x={},g={},d=s.colorscales.length;for(r=0;r<d;r++){var v=s.colorscales[r],y=h.extractScale(v,{cLetter:"c"}),m=h.makeColorScaleFunc(y);g[v.label]=m}var w=0;for(r=0;r<s.value.length;r++)s.source[r]>w&&(w=s.source[r]),s.target[r]>w&&(w=s.target[r]);var f,S=w+1;n.node._count=S;var T=n.node.groups,E={};for(r=0;r<T.length;r++){var O=T[r];for(f=0;f<O.length;f++){var P=O[f],I=S+r;E.hasOwnProperty(P)?k.warn("Node "+P+" is already part of a group."):E[P]=I}}var z={source:[],target:[]};for(r=0;r<s.value.length;r++){var j=s.value[r],R=s.source[r],N=s.target[r];if(j>0&&b(R,S)&&b(N,S)&&(!E.hasOwnProperty(R)||!E.hasOwnProperty(N)||E[R]!==E[N])){E.hasOwnProperty(N)&&(N=E[N]),E.hasOwnProperty(R)&&(R=E[R]),N=+N,x[R=+R]=x[N]=!0;var Z="";s.label&&s.label[r]&&(Z=s.label[r]);var F=null;Z&&g.hasOwnProperty(Z)&&(F=g[Z]),u.push({pointNumber:r,label:Z,color:p?s.color[r]:s.color,customdata:c?s.customdata[r]:s.customdata,concentrationscale:F,source:R,target:N,value:+j}),z.source.push(R),z.target.push(N)}}var U=S+T.length,V=_(l.color),te=_(l.customdata),Q=[];for(r=0;r<U;r++)if(x[r]){var J=l.label[r];Q.push({group:r>S-1,childrenNodes:[],pointNumber:r,label:J,color:V?l.color[r]:l.color,customdata:te?l.customdata[r]:l.customdata})}var X=!1;return function(K,ee,re){for(var ie=k.init2dArray(K,0),ae=0;ae<Math.min(ee.length,re.length);ae++)if(k.isIndex(ee[ae],K)&&k.isIndex(re[ae],K)){if(ee[ae]===re[ae])return!0;ie[ee[ae]].push(re[ae])}return M(ie).components.some(function(ue){return ue.length>1})}(U,z.source,z.target)&&(X=!0),{circular:X,links:u,nodes:Q,groups:T,groupLookup:E}}(t);return a({circular:i.circular,_nodes:i.nodes,_links:i.links,_groups:i.groups,_groupLookup:i.groupLookup})}},85247:function(q){q.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(q,C,e){var M=e(71828),k=e(39953),a=e(7901),_=e(84267),b=e(27670).c,h=e(38048),o=e(44467),t=e(85501);function i(n,r){function l(s,u){return M.coerce(n,r,k.link.colorscales,s,u)}l("label"),l("cmin"),l("cmax"),l("colorscale")}q.exports=function(n,r,l,s){function u(S,T){return M.coerce(n,r,k,S,T)}var p=M.extendDeep(s.hoverlabel,n.hoverlabel),c=n.node,x=o.newContainer(r,"node");function g(S,T){return M.coerce(c,x,k.node,S,T)}g("label"),g("groups"),g("x"),g("y"),g("pad"),g("thickness"),g("line.color"),g("line.width"),g("hoverinfo",n.hoverinfo),h(c,x,g,p),g("hovertemplate"),g("align");var d=s.colorway;g("color",x.label.map(function(S,T){return a.addOpacity(function(E){return d[E%d.length]}(T),.8)})),g("customdata");var v=n.link||{},y=o.newContainer(r,"link");function m(S,T){return M.coerce(v,y,k.link,S,T)}m("label"),m("arrowlen"),m("source"),m("target"),m("value"),m("line.color"),m("line.width"),m("hoverinfo",n.hoverinfo),h(v,y,m,p),m("hovertemplate");var w,f=_(s.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";m("color",M.repeat(f,y.value.length)),m("customdata"),t(v,y,{name:"colorscales",handleItemDefaults:i}),b(r,s,u),u("orientation"),u("valueformat"),u("valuesuffix"),x.x.length&&x.y.length&&(w="freeform"),u("arrangement",w),M.coerceFont(u,"textfont",M.extendFlat({},s.font)),r._length=null}},29396:function(q,C,e){q.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(q,C,e){var M=e(39898),k=e(71828),a=k.numberFormat,_=e(3393),b=e(30211),h=e(7901),o=e(85247).cn,t=k._;function i(v){return v!==""}function n(v,y){return v.filter(function(m){return m.key===y.traceId})}function r(v,y){M.select(v).select("path").style("fill-opacity",y),M.select(v).select("rect").style("fill-opacity",y)}function l(v){M.select(v).select("text.name").style("fill","black")}function s(v){return function(y){return v.node.sourceLinks.indexOf(y.link)!==-1||v.node.targetLinks.indexOf(y.link)!==-1}}function u(v){return function(y){return y.node.sourceLinks.indexOf(v.link)!==-1||y.node.targetLinks.indexOf(v.link)!==-1}}function p(v,y,m){y&&m&&n(m,y).selectAll("."+o.sankeyLink).filter(s(y)).call(x.bind(0,y,m,!1))}function c(v,y,m){y&&m&&n(m,y).selectAll("."+o.sankeyLink).filter(s(y)).call(g.bind(0,y,m,!1))}function x(v,y,m,w){w.style("fill-opacity",function(f){if(!f.link.concentrationscale)return .4}),w.each(function(f){var S=f.link.label;S!==""&&n(y,v).selectAll("."+o.sankeyLink).filter(function(T){return T.link.label===S}).style("fill-opacity",function(T){if(!T.link.concentrationscale)return .4})}),m&&n(y,v).selectAll("."+o.sankeyNode).filter(u(v)).call(p)}function g(v,y,m,w){w.style("fill-opacity",function(f){return f.tinyColorAlpha}),w.each(function(f){var S=f.link.label;S!==""&&n(y,v).selectAll("."+o.sankeyLink).filter(function(T){return T.link.label===S}).style("fill-opacity",function(T){return T.tinyColorAlpha})}),m&&n(y,v).selectAll(o.sankeyNode).filter(u(v)).call(c)}function d(v,y){var m=v.hoverlabel||{},w=k.nestedProperty(m,y).get();return!Array.isArray(w)&&w}q.exports=function(v,y){for(var m=v._fullLayout,w=m._paper,f=m._size,S=0;S<v._fullData.length;S++)if(v._fullData[S].visible&&v._fullData[S].type===o.sankey&&!v._fullData[S]._viewInitial){var T=v._fullData[S].node;v._fullData[S]._viewInitial={node:{groups:T.groups.slice(),x:T.x.slice(),y:T.y.slice()}}}var E=t(v,"source:")+" ",O=t(v,"target:")+" ",P=t(v,"concentration:")+" ",I=t(v,"incoming flow count:")+" ",z=t(v,"outgoing flow count:")+" ";_(v,w,y,{width:f.w,height:f.h,margin:{t:f.t,r:f.r,b:f.b,l:f.l}},{linkEvents:{hover:function(j,R,N){v._fullLayout.hovermode!==!1&&(M.select(j).call(x.bind(0,R,N,!0)),R.link.trace.link.hoverinfo!=="skip"&&(R.link.fullData=R.link.trace,v.emit("plotly_hover",{event:M.event,points:[R.link]})))},follow:function(j,R){if(v._fullLayout.hovermode!==!1){var N=R.link.trace.link;if(N.hoverinfo!=="none"&&N.hoverinfo!=="skip"){for(var Z=[],F=0,U=0;U<R.flow.links.length;U++){var V=R.flow.links[U];if(v._fullLayout.hovermode!=="closest"||R.link.pointNumber===V.pointNumber){R.link.pointNumber===V.pointNumber&&(F=U),V.fullData=V.trace,N=R.link.trace.link;var te=J(V),Q={valueLabel:a(R.valueFormat)(V.value)+R.valueSuffix};Z.push({x:te[0],y:te[1],name:Q.valueLabel,text:[V.label||"",E+V.source.label,O+V.target.label,V.concentrationscale?P+a("%0.2f")(V.flow.labelConcentration):""].filter(i).join("<br>"),color:d(N,"bgcolor")||h.addOpacity(V.color,1),borderColor:d(N,"bordercolor"),fontFamily:d(N,"font.family"),fontSize:d(N,"font.size"),fontColor:d(N,"font.color"),nameLength:d(N,"namelength"),textAlign:d(N,"align"),idealAlign:M.event.x<te[0]?"right":"left",hovertemplate:N.hovertemplate,hovertemplateLabels:Q,eventData:[V]})}}b.loneHover(Z,{container:m._hoverlayer.node(),outerContainer:m._paper.node(),gd:v,anchorIndex:F}).each(function(){R.link.concentrationscale||r(this,.65),l(this)})}}function J(X){var K,ee;X.circular?(K=(X.circularPathData.leftInnerExtent+X.circularPathData.rightInnerExtent)/2,ee=X.circularPathData.verticalFullExtent):(K=(X.source.x1+X.target.x0)/2,ee=(X.y0+X.y1)/2);var re=[K,ee];return X.trace.orientation==="v"&&re.reverse(),re[0]+=R.parent.translateX,re[1]+=R.parent.translateY,re}},unhover:function(j,R,N){v._fullLayout.hovermode!==!1&&(M.select(j).call(g.bind(0,R,N,!0)),R.link.trace.link.hoverinfo!=="skip"&&(R.link.fullData=R.link.trace,v.emit("plotly_unhover",{event:M.event,points:[R.link]})),b.loneUnhover(m._hoverlayer.node()))},select:function(j,R){var N=R.link;N.originalEvent=M.event,v._hoverdata=[N],b.click(v,{target:!0})}},nodeEvents:{hover:function(j,R,N){v._fullLayout.hovermode!==!1&&(M.select(j).call(p,R,N),R.node.trace.node.hoverinfo!=="skip"&&(R.node.fullData=R.node.trace,v.emit("plotly_hover",{event:M.event,points:[R.node]})))},follow:function(j,R){if(v._fullLayout.hovermode!==!1){var N=R.node.trace.node;if(N.hoverinfo!=="none"&&N.hoverinfo!=="skip"){var Z=M.select(j).select("."+o.nodeRect),F=v._fullLayout._paperdiv.node().getBoundingClientRect(),U=Z.node().getBoundingClientRect(),V=U.left-2-F.left,te=U.right+2-F.left,Q=U.top+U.height/4-F.top,J={valueLabel:a(R.valueFormat)(R.node.value)+R.valueSuffix};R.node.fullData=R.node.trace,v._fullLayout._calcInverseTransform(v);var X=v._fullLayout._invScaleX,K=v._fullLayout._invScaleY,ee=b.loneHover({x0:X*V,x1:X*te,y:K*Q,name:a(R.valueFormat)(R.node.value)+R.valueSuffix,text:[R.node.label,I+R.node.targetLinks.length,z+R.node.sourceLinks.length].filter(i).join("<br>"),color:d(N,"bgcolor")||R.tinyColorHue,borderColor:d(N,"bordercolor"),fontFamily:d(N,"font.family"),fontSize:d(N,"font.size"),fontColor:d(N,"font.color"),nameLength:d(N,"namelength"),textAlign:d(N,"align"),idealAlign:"left",hovertemplate:N.hovertemplate,hovertemplateLabels:J,eventData:[R.node]},{container:m._hoverlayer.node(),outerContainer:m._paper.node(),gd:v});r(ee,.85),l(ee)}}},unhover:function(j,R,N){v._fullLayout.hovermode!==!1&&(M.select(j).call(c,R,N),R.node.trace.node.hoverinfo!=="skip"&&(R.node.fullData=R.node.trace,v.emit("plotly_unhover",{event:M.event,points:[R.node]})),b.loneUnhover(m._hoverlayer.node()))},select:function(j,R,N){var Z=R.node;Z.originalEvent=M.event,v._hoverdata=[Z],M.select(j).call(c,R,N),b.click(v,{target:!0})}}})}},3393:function(q,C,e){var M=e(49887),k=e(81684).k4,a=e(39898),_=e(30838),b=e(86781),h=e(85247),o=e(84267),t=e(7901),i=e(91424),n=e(71828),r=n.strTranslate,l=n.strRotate,s=e(28984),u=s.keyFun,p=s.repeat,c=s.unwrap,x=e(63893),g=e(73972),d=e(18783),v=d.CAP_SHIFT,y=d.LINE_SPACING;function m(U,V,te){var Q,J=c(V),X=J.trace,K=X.domain,ee=X.orientation==="h",re=X.node.pad,ie=X.node.thickness,ae={justify:_.sankeyJustify,left:_.sankeyLeft,right:_.sankeyRight,center:_.sankeyCenter}[X.node.align],ue=U.width*(K.x[1]-K.x[0]),pe=U.height*(K.y[1]-K.y[0]),de=J._nodes,ye=J._links,be=J.circular;(Q=be?b.sankeyCircular().circularLinkGap(0):_.sankey()).iterations(h.sankeyIterations).size(ee?[ue,pe]:[pe,ue]).nodeWidth(ie).nodePadding(re).nodeId(function(Ce){return Ce.pointNumber}).nodeAlign(ae).nodes(de).links(ye);var me,Ee,Te,we=Q();for(var oe in Q.nodePadding()<re&&n.warn("node.pad was reduced to ",Q.nodePadding()," to fit within the figure."),J._groupLookup){var se,he=parseInt(J._groupLookup[oe]);for(me=0;me<we.nodes.length;me++)if(we.nodes[me].pointNumber===he){se=we.nodes[me];break}if(se){var Se={pointNumber:parseInt(oe),x0:se.x0,x1:se.x1,y0:se.y0,y1:se.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};we.nodes.unshift(Se),se.childrenNodes.unshift(Se)}}if(function(){for(me=0;me<we.nodes.length;me++){var Ce,Re,fe=we.nodes[me],xe={};for(Ee=0;Ee<fe.targetLinks.length;Ee++)Ce=(Re=fe.targetLinks[Ee]).source.pointNumber+":"+Re.target.pointNumber,xe.hasOwnProperty(Ce)||(xe[Ce]=[]),xe[Ce].push(Re);var ke=Object.keys(xe);for(Ee=0;Ee<ke.length;Ee++){var Ie=xe[Ce=ke[Ee]],Fe=0,ze={};for(Te=0;Te<Ie.length;Te++)ze[(Re=Ie[Te]).label]||(ze[Re.label]=0),ze[Re.label]+=Re.value,Fe+=Re.value;for(Te=0;Te<Ie.length;Te++)(Re=Ie[Te]).flow={value:Fe,labelConcentration:ze[Re.label]/Fe,concentration:Re.value/Fe,links:Ie},Re.concentrationscale&&(Re.color=o(Re.concentrationscale(Re.flow.labelConcentration)))}var qe=0;for(Ee=0;Ee<fe.sourceLinks.length;Ee++)qe+=fe.sourceLinks[Ee].value;for(Ee=0;Ee<fe.sourceLinks.length;Ee++)(Re=fe.sourceLinks[Ee]).concentrationOut=Re.value/qe;var Ye=0;for(Ee=0;Ee<fe.targetLinks.length;Ee++)Ye+=fe.targetLinks[Ee].value;for(Ee=0;Ee<fe.targetLinks.length;Ee++)(Re=fe.targetLinks[Ee]).concenrationIn=Re.value/Ye}}(),X.node.x.length&&X.node.y.length){for(me=0;me<Math.min(X.node.x.length,X.node.y.length,we.nodes.length);me++)if(X.node.x[me]&&X.node.y[me]){var _e=[X.node.x[me]*ue,X.node.y[me]*pe];we.nodes[me].x0=_e[0]-ie/2,we.nodes[me].x1=_e[0]+ie/2;var Ae=we.nodes[me].y1-we.nodes[me].y0;we.nodes[me].y0=_e[1]-Ae/2,we.nodes[me].y1=_e[1]+Ae/2}X.arrangement==="snap"&&function(Ce){var Re,fe,xe=Ce.map(function(qe,Ye){return{x0:qe.x0,index:Ye}}).sort(function(qe,Ye){return qe.x0-Ye.x0}),ke=[],Ie=-1,Fe=-1/0;for(me=0;me<xe.length;me++){var ze=Ce[xe[me].index];ze.x0>Fe+ie&&(Ie+=1,Re=ze.x0),Fe=ze.x0,ke[Ie]||(ke[Ie]=[]),ke[Ie].push(ze),fe=Re-ze.x0,ze.x0+=fe,ze.x1+=fe}return ke}(de=we.nodes).forEach(function(Ce){var Re,fe,xe,ke=0,Ie=Ce.length;for(Ce.sort(function(Fe,ze){return Fe.y0-ze.y0}),xe=0;xe<Ie;++xe)(Re=Ce[xe]).y0>=ke||(fe=ke-Re.y0)>1e-6&&(Re.y0+=fe,Re.y1+=fe),ke=Re.y1+re}),Q.update(we)}return{circular:be,key:te,trace:X,guid:n.randstr(),horizontal:ee,width:ue,height:pe,nodePad:X.node.pad,nodeLineColor:X.node.line.color,nodeLineWidth:X.node.line.width,linkLineColor:X.link.line.color,linkLineWidth:X.link.line.width,linkArrowLength:X.link.arrowlen,valueFormat:X.valueformat,valueSuffix:X.valuesuffix,textFont:X.textfont,translateX:K.x[0]*U.width+U.margin.l,translateY:U.height-K.y[1]*U.height+U.margin.t,dragParallel:ee?pe:ue,dragPerpendicular:ee?ue:pe,arrangement:X.arrangement,sankey:Q,graph:we,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function w(U,V,te){var Q=o(V.color),J=V.source.label+"|"+V.target.label+"__"+te;return V.trace=U.trace,V.curveNumber=U.trace.index,{circular:U.circular,key:J,traceId:U.key,pointNumber:V.pointNumber,link:V,tinyColorHue:t.tinyRGB(Q),tinyColorAlpha:Q.getAlpha(),linkPath:f,linkLineColor:U.linkLineColor,linkLineWidth:U.linkLineWidth,linkArrowLength:U.linkArrowLength,valueFormat:U.valueFormat,valueSuffix:U.valueSuffix,sankey:U.sankey,parent:U,interactionState:U.interactionState,flow:V.flow}}function f(){return function(U){var V=U.linkArrowLength;if(U.link.circular)return function(me,Ee){var Te=me.width/2,we=me.circularPathData;return me.circularLinkType==="top"?"M "+(we.targetX-Ee)+" "+(we.targetY+Te)+" L"+(we.rightInnerExtent-Ee)+" "+(we.targetY+Te)+"A"+(we.rightLargeArcRadius+Te)+" "+(we.rightSmallArcRadius+Te)+" 0 0 1 "+(we.rightFullExtent-Te-Ee)+" "+(we.targetY-we.rightSmallArcRadius)+"L"+(we.rightFullExtent-Te-Ee)+" "+we.verticalRightInnerExtent+"A"+(we.rightLargeArcRadius+Te)+" "+(we.rightLargeArcRadius+Te)+" 0 0 1 "+(we.rightInnerExtent-Ee)+" "+(we.verticalFullExtent-Te)+"L"+we.leftInnerExtent+" "+(we.verticalFullExtent-Te)+"A"+(we.leftLargeArcRadius+Te)+" "+(we.leftLargeArcRadius+Te)+" 0 0 1 "+(we.leftFullExtent+Te)+" "+we.verticalLeftInnerExtent+"L"+(we.leftFullExtent+Te)+" "+(we.sourceY-we.leftSmallArcRadius)+"A"+(we.leftLargeArcRadius+Te)+" "+(we.leftSmallArcRadius+Te)+" 0 0 1 "+we.leftInnerExtent+" "+(we.sourceY+Te)+"L"+we.sourceX+" "+(we.sourceY+Te)+"L"+we.sourceX+" "+(we.sourceY-Te)+"L"+we.leftInnerExtent+" "+(we.sourceY-Te)+"A"+(we.leftLargeArcRadius-Te)+" "+(we.leftSmallArcRadius-Te)+" 0 0 0 "+(we.leftFullExtent-Te)+" "+(we.sourceY-we.leftSmallArcRadius)+"L"+(we.leftFullExtent-Te)+" "+we.verticalLeftInnerExtent+"A"+(we.leftLargeArcRadius-Te)+" "+(we.leftLargeArcRadius-Te)+" 0 0 0 "+we.leftInnerExtent+" "+(we.verticalFullExtent+Te)+"L"+(we.rightInnerExtent-Ee)+" "+(we.verticalFullExtent+Te)+"A"+(we.rightLargeArcRadius-Te)+" "+(we.rightLargeArcRadius-Te)+" 0 0 0 "+(we.rightFullExtent+Te-Ee)+" "+we.verticalRightInnerExtent+"L"+(we.rightFullExtent+Te-Ee)+" "+(we.targetY-we.rightSmallArcRadius)+"A"+(we.rightLargeArcRadius-Te)+" "+(we.rightSmallArcRadius-Te)+" 0 0 0 "+(we.rightInnerExtent-Ee)+" "+(we.targetY-Te)+"L"+(we.targetX-Ee)+" "+(we.targetY-Te)+(Ee>0?"L"+we.targetX+" "+we.targetY:"")+"Z":"M "+(we.targetX-Ee)+" "+(we.targetY-Te)+" L"+(we.rightInnerExtent-Ee)+" "+(we.targetY-Te)+"A"+(we.rightLargeArcRadius+Te)+" "+(we.rightSmallArcRadius+Te)+" 0 0 0 "+(we.rightFullExtent-Te-Ee)+" "+(we.targetY+we.rightSmallArcRadius)+"L"+(we.rightFullExtent-Te-Ee)+" "+we.verticalRightInnerExtent+"A"+(we.rightLargeArcRadius+Te)+" "+(we.rightLargeArcRadius+Te)+" 0 0 0 "+(we.rightInnerExtent-Ee)+" "+(we.verticalFullExtent+Te)+"L"+we.leftInnerExtent+" "+(we.verticalFullExtent+Te)+"A"+(we.leftLargeArcRadius+Te)+" "+(we.leftLargeArcRadius+Te)+" 0 0 0 "+(we.leftFullExtent+Te)+" "+we.verticalLeftInnerExtent+"L"+(we.leftFullExtent+Te)+" "+(we.sourceY+we.leftSmallArcRadius)+"A"+(we.leftLargeArcRadius+Te)+" "+(we.leftSmallArcRadius+Te)+" 0 0 0 "+we.leftInnerExtent+" "+(we.sourceY-Te)+"L"+we.sourceX+" "+(we.sourceY-Te)+"L"+we.sourceX+" "+(we.sourceY+Te)+"L"+we.leftInnerExtent+" "+(we.sourceY+Te)+"A"+(we.leftLargeArcRadius-Te)+" "+(we.leftSmallArcRadius-Te)+" 0 0 1 "+(we.leftFullExtent-Te)+" "+(we.sourceY+we.leftSmallArcRadius)+"L"+(we.leftFullExtent-Te)+" "+we.verticalLeftInnerExtent+"A"+(we.leftLargeArcRadius-Te)+" "+(we.leftLargeArcRadius-Te)+" 0 0 1 "+we.leftInnerExtent+" "+(we.verticalFullExtent-Te)+"L"+(we.rightInnerExtent-Ee)+" "+(we.verticalFullExtent-Te)+"A"+(we.rightLargeArcRadius-Te)+" "+(we.rightLargeArcRadius-Te)+" 0 0 1 "+(we.rightFullExtent+Te-Ee)+" "+we.verticalRightInnerExtent+"L"+(we.rightFullExtent+Te-Ee)+" "+(we.targetY+we.rightSmallArcRadius)+"A"+(we.rightLargeArcRadius-Te)+" "+(we.rightSmallArcRadius-Te)+" 0 0 1 "+(we.rightInnerExtent-Ee)+" "+(we.targetY+Te)+"L"+(we.targetX-Ee)+" "+(we.targetY+Te)+(Ee>0?"L"+we.targetX+" "+we.targetY:"")+"Z"}(U.link,V);var te=Math.abs((U.link.target.x0-U.link.source.x1)/2);V>te&&(V=te);var Q=U.link.source.x1,J=U.link.target.x0-V,X=k(Q,J),K=X(.5),ee=X(.5),re=U.link.y0-U.link.width/2,ie=U.link.y0+U.link.width/2,ae=U.link.y1-U.link.width/2,ue=U.link.y1+U.link.width/2,pe="M"+Q+","+re,de="C"+K+","+re+" "+ee+","+ae+" "+J+","+ae,ye="C"+ee+","+ue+" "+K+","+ie+" "+Q+","+ie,be=V>0?"L"+(J+V)+","+(ae+U.link.width/2):"";return pe+de+(be+="L"+J+","+ue)+ye+"Z"}}function S(U,V){var te=o(V.color),Q=h.nodePadAcross,J=U.nodePad/2;V.dx=V.x1-V.x0,V.dy=V.y1-V.y0;var X=V.dx,K=Math.max(.5,V.dy),ee="node_"+V.pointNumber;return V.group&&(ee=n.randstr()),V.trace=U.trace,V.curveNumber=U.trace.index,{index:V.pointNumber,key:ee,partOfGroup:V.partOfGroup||!1,group:V.group,traceId:U.key,trace:U.trace,node:V,nodePad:U.nodePad,nodeLineColor:U.nodeLineColor,nodeLineWidth:U.nodeLineWidth,textFont:U.textFont,size:U.horizontal?U.height:U.width,visibleWidth:Math.ceil(X),visibleHeight:K,zoneX:-Q,zoneY:-J,zoneWidth:X+2*Q,zoneHeight:K+2*J,labelY:U.horizontal?V.dy/2+1:V.dx/2+1,left:V.originalLayer===1,sizeAcross:U.width,forceLayouts:U.forceLayouts,horizontal:U.horizontal,darkBackground:te.getBrightness()<=128,tinyColorHue:t.tinyRGB(te),tinyColorAlpha:te.getAlpha(),valueFormat:U.valueFormat,valueSuffix:U.valueSuffix,sankey:U.sankey,graph:U.graph,arrangement:U.arrangement,uniqueNodeLabelPathId:[U.guid,U.key,ee].join("_"),interactionState:U.interactionState,figure:U}}function T(U){U.attr("transform",function(V){return r(V.node.x0.toFixed(3),V.node.y0.toFixed(3))})}function E(U){U.call(T)}function O(U,V){U.call(E),V.attr("d",f())}function P(U){U.attr("width",function(V){return V.node.x1-V.node.x0}).attr("height",function(V){return V.visibleHeight})}function I(U){return U.link.width>1||U.linkLineWidth>0}function z(U){return r(U.translateX,U.translateY)+(U.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function j(U,V,te){U.on(".basic",null).on("mouseover.basic",function(Q){Q.interactionState.dragInProgress||Q.partOfGroup||(te.hover(this,Q,V),Q.interactionState.hovered=[this,Q])}).on("mousemove.basic",function(Q){Q.interactionState.dragInProgress||Q.partOfGroup||(te.follow(this,Q),Q.interactionState.hovered=[this,Q])}).on("mouseout.basic",function(Q){Q.interactionState.dragInProgress||Q.partOfGroup||(te.unhover(this,Q,V),Q.interactionState.hovered=!1)}).on("click.basic",function(Q){Q.interactionState.hovered&&(te.unhover(this,Q,V),Q.interactionState.hovered=!1),Q.interactionState.dragInProgress||Q.partOfGroup||te.select(this,Q,V)})}function R(U,V,te,Q){var J=a.behavior.drag().origin(function(X){return{x:X.node.x0+X.visibleWidth/2,y:X.node.y0+X.visibleHeight/2}}).on("dragstart",function(X){if(X.arrangement!=="fixed"&&(n.ensureSingle(Q._fullLayout._infolayer,"g","dragcover",function(ee){Q._fullLayout._dragCover=ee}),n.raiseToTop(this),X.interactionState.dragInProgress=X.node,Z(X.node),X.interactionState.hovered&&(te.nodeEvents.unhover.apply(0,X.interactionState.hovered),X.interactionState.hovered=!1),X.arrangement==="snap")){var K=X.traceId+"|"+X.key;X.forceLayouts[K]?X.forceLayouts[K].alpha(1):function(ee,re,ie,ae){(function(pe){for(var de=0;de<pe.length;de++)pe[de].y=(pe[de].y0+pe[de].y1)/2,pe[de].x=(pe[de].x0+pe[de].x1)/2})(ie.graph.nodes);var ue=ie.graph.nodes.filter(function(pe){return pe.originalX===ie.node.originalX}).filter(function(pe){return!pe.partOfGroup});ie.forceLayouts[re]=M.forceSimulation(ue).alphaDecay(0).force("collide",M.forceCollide().radius(function(pe){return pe.dy/2+ie.nodePad/2}).strength(1).iterations(h.forceIterations)).force("constrain",function(pe,de,ye,be){return function(){for(var me=0,Ee=0;Ee<ye.length;Ee++){var Te=ye[Ee];Te===be.interactionState.dragInProgress?(Te.x=Te.lastDraggedX,Te.y=Te.lastDraggedY):(Te.vx=(Te.originalX-Te.x)/h.forceTicksPerFrame,Te.y=Math.min(be.size-Te.dy/2,Math.max(Te.dy/2,Te.y))),me=Math.max(me,Math.abs(Te.vx),Math.abs(Te.vy))}!be.interactionState.dragInProgress&&me<.1&&be.forceLayouts[de].alpha()>0&&be.forceLayouts[de].alpha(0)}}(0,re,ue,ie)).stop()}(0,K,X),function(ee,re,ie,ae,ue){window.requestAnimationFrame(function pe(){var de;for(de=0;de<h.forceTicksPerFrame;de++)ie.forceLayouts[ae].tick();if(function(be){for(var me=0;me<be.length;me++)be[me].y0=be[me].y-be[me].dy/2,be[me].y1=be[me].y0+be[me].dy,be[me].x0=be[me].x-be[me].dx/2,be[me].x1=be[me].x0+be[me].dx}(ie.graph.nodes),ie.sankey.update(ie.graph),O(ee.filter(F(ie)),re),ie.forceLayouts[ae].alpha()>0)window.requestAnimationFrame(pe);else{var ye=ie.node.originalX;ie.node.x0=ye-ie.visibleWidth/2,ie.node.x1=ye+ie.visibleWidth/2,N(ie,ue)}})}(U,V,X,K,Q)}}).on("drag",function(X){if(X.arrangement!=="fixed"){var K=a.event.x,ee=a.event.y;X.arrangement==="snap"?(X.node.x0=K-X.visibleWidth/2,X.node.x1=K+X.visibleWidth/2,X.node.y0=ee-X.visibleHeight/2,X.node.y1=ee+X.visibleHeight/2):(X.arrangement==="freeform"&&(X.node.x0=K-X.visibleWidth/2,X.node.x1=K+X.visibleWidth/2),ee=Math.max(0,Math.min(X.size-X.visibleHeight/2,ee)),X.node.y0=ee-X.visibleHeight/2,X.node.y1=ee+X.visibleHeight/2),Z(X.node),X.arrangement!=="snap"&&(X.sankey.update(X.graph),O(U.filter(F(X)),V))}}).on("dragend",function(X){if(X.arrangement!=="fixed"){X.interactionState.dragInProgress=!1;for(var K=0;K<X.node.childrenNodes.length;K++)X.node.childrenNodes[K].x=X.node.x,X.node.childrenNodes[K].y=X.node.y;X.arrangement!=="snap"&&N(X,Q)}});U.on(".drag",null).call(J)}function N(U,V){for(var te=[],Q=[],J=0;J<U.graph.nodes.length;J++){var X=(U.graph.nodes[J].x0+U.graph.nodes[J].x1)/2,K=(U.graph.nodes[J].y0+U.graph.nodes[J].y1)/2;te.push(X/U.figure.width),Q.push(K/U.figure.height)}g.call("_guiRestyle",V,{"node.x":[te],"node.y":[Q]},U.trace.index).then(function(){V._fullLayout._dragCover&&V._fullLayout._dragCover.remove()})}function Z(U){U.lastDraggedX=U.x0+U.dx/2,U.lastDraggedY=U.y0+U.dy/2}function F(U){return function(V){return V.node.originalX===U.node.originalX}}q.exports=function(U,V,te,Q,J){var X=U._context.staticPlot,K=!1;n.ensureSingle(U._fullLayout._infolayer,"g","first-render",function(){K=!0});var ee=U._fullLayout._dragCover,re=te.filter(function(me){return c(me).trace.visible}).map(m.bind(null,Q)),ie=V.selectAll("."+h.cn.sankey).data(re,u);ie.exit().remove(),ie.enter().append("g").classed(h.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",X?"none":"auto").attr("transform",z),ie.each(function(me,Ee){U._fullData[Ee]._sankey=me;var Te="bgsankey-"+me.trace.uid+"-"+Ee;n.ensureSingle(U._fullLayout._draggers,"rect",Te),U._fullData[Ee]._bgRect=a.select("."+Te),U._fullData[Ee]._bgRect.style("pointer-events",X?"none":"all").attr("width",me.width).attr("height",me.height).attr("x",me.translateX).attr("y",me.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ie.transition().ease(h.ease).duration(h.duration).attr("transform",z);var ae=ie.selectAll("."+h.cn.sankeyLinks).data(p,u);ae.enter().append("g").classed(h.cn.sankeyLinks,!0).style("fill","none");var ue=ae.selectAll("."+h.cn.sankeyLink).data(function(me){return me.graph.links.filter(function(Ee){return Ee.value}).map(w.bind(null,me))},u);ue.enter().append("path").classed(h.cn.sankeyLink,!0).call(j,ie,J.linkEvents),ue.style("stroke",function(me){return I(me)?t.tinyRGB(o(me.linkLineColor)):me.tinyColorHue}).style("stroke-opacity",function(me){return I(me)?t.opacity(me.linkLineColor):me.tinyColorAlpha}).style("fill",function(me){return me.tinyColorHue}).style("fill-opacity",function(me){return me.tinyColorAlpha}).style("stroke-width",function(me){return I(me)?me.linkLineWidth:1}).attr("d",f()),ue.style("opacity",function(){return U._context.staticPlot||K||ee?1:0}).transition().ease(h.ease).duration(h.duration).style("opacity",1),ue.exit().transition().ease(h.ease).duration(h.duration).style("opacity",0).remove();var pe=ie.selectAll("."+h.cn.sankeyNodeSet).data(p,u);pe.enter().append("g").classed(h.cn.sankeyNodeSet,!0),pe.style("cursor",function(me){switch(me.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var de=pe.selectAll("."+h.cn.sankeyNode).data(function(me){var Ee=me.graph.nodes;return function(Te){var we,oe=[];for(we=0;we<Te.length;we++)Te[we].originalX=(Te[we].x0+Te[we].x1)/2,Te[we].originalY=(Te[we].y0+Te[we].y1)/2,oe.indexOf(Te[we].originalX)===-1&&oe.push(Te[we].originalX);for(oe.sort(function(se,he){return se-he}),we=0;we<Te.length;we++)Te[we].originalLayerIndex=oe.indexOf(Te[we].originalX),Te[we].originalLayer=Te[we].originalLayerIndex/(oe.length-1)}(Ee),Ee.map(S.bind(null,me))},u);de.enter().append("g").classed(h.cn.sankeyNode,!0).call(T).style("opacity",function(me){return!U._context.staticPlot&&!K||me.partOfGroup?0:1}),de.call(j,ie,J.nodeEvents).call(R,ue,J,U),de.transition().ease(h.ease).duration(h.duration).call(T).style("opacity",function(me){return me.partOfGroup?0:1}),de.exit().transition().ease(h.ease).duration(h.duration).style("opacity",0).remove();var ye=de.selectAll("."+h.cn.nodeRect).data(p);ye.enter().append("rect").classed(h.cn.nodeRect,!0).call(P),ye.style("stroke-width",function(me){return me.nodeLineWidth}).style("stroke",function(me){return t.tinyRGB(o(me.nodeLineColor))}).style("stroke-opacity",function(me){return t.opacity(me.nodeLineColor)}).style("fill",function(me){return me.tinyColorHue}).style("fill-opacity",function(me){return me.tinyColorAlpha}),ye.transition().ease(h.ease).duration(h.duration).call(P);var be=de.selectAll("."+h.cn.nodeLabel).data(p);be.enter().append("text").classed(h.cn.nodeLabel,!0).style("cursor","default"),be.attr("data-notex",1).text(function(me){return me.node.label}).each(function(me){var Ee=a.select(this);i.font(Ee,me.textFont),x.convertToTspans(Ee,U)}).style("text-shadow",x.makeTextShadow(U._fullLayout.paper_bgcolor)).attr("text-anchor",function(me){return me.horizontal&&me.left?"end":"start"}).attr("transform",function(me){var Ee=a.select(this),Te=x.lineCount(Ee),we=me.textFont.size*((Te-1)*y-v),oe=me.nodeLineWidth/2+3,se=((me.horizontal?me.visibleHeight:me.visibleWidth)-we)/2;me.horizontal&&(me.left?oe=-oe:oe+=me.visibleWidth);var he=me.horizontal?"":"scale(-1,1)"+l(90);return r(me.horizontal?oe:se,me.horizontal?se:oe)+he}),be.transition().ease(h.ease).duration(h.duration)}},84564:function(q){q.exports=function(C,e){for(var M=[],k=C.cd[0].trace,a=k._sankey.graph.nodes,_=0;_<a.length;_++){var b=a[_];if(!b.partOfGroup){var h=[(b.x0+b.x1)/2,(b.y0+b.y1)/2];k.orientation==="v"&&h.reverse(),e&&e.contains(h,!1,_,C)&&M.push({pointNumber:b.pointNumber})}}return M}},75225:function(q,C,e){var M=e(71828);q.exports=function(k,a){for(var _=0;_<k.length;_++)k[_].i=_;M.mergeArray(a.text,k,"tx"),M.mergeArray(a.texttemplate,k,"txt"),M.mergeArray(a.hovertext,k,"htx"),M.mergeArray(a.customdata,k,"data"),M.mergeArray(a.textposition,k,"tp"),a.textfont&&(M.mergeArrayCastPositive(a.textfont.size,k,"ts"),M.mergeArray(a.textfont.color,k,"tc"),M.mergeArray(a.textfont.family,k,"tf"));var b=a.marker;if(b){M.mergeArrayCastPositive(b.size,k,"ms"),M.mergeArrayCastPositive(b.opacity,k,"mo"),M.mergeArray(b.symbol,k,"mx"),M.mergeArray(b.angle,k,"ma"),M.mergeArray(b.standoff,k,"mf"),M.mergeArray(b.color,k,"mc");var h=b.line;b.line&&(M.mergeArray(h.color,k,"mlc"),M.mergeArrayCastPositive(h.width,k,"mlw"));var o=b.gradient;o&&o.type!=="none"&&(M.mergeArray(o.type,k,"mgt"),M.mergeArray(o.color,k,"mgc"))}}},82196:function(q,C,e){var M=e(12663).axisHoverFormat,k=e(5386).si,a=e(5386).fF,_=e(50693),b=e(41940),h=e(79952).P,o=e(79952).u,t=e(91424),i=e(47581),n=e(1426).extendFlat;q.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:M("x"),yhoverformat:M("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:k({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:i.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:n({},h,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:o,marker:n({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:n({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},_("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},_("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:b({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(q,C,e){var M=e(92770),k=e(71828),a=e(89298),_=e(42973),b=e(50606).BADNUM,h=e(34098),o=e(36922),t=e(75225),i=e(66279);function n(p,c,x,g,d,v,y){var m=c._length,w=p._fullLayout,f=x._id,S=g._id,T=w._firstScatter[s(c)]===c.uid,E=(u(c,w,x,g)||{}).orientation,O=c.fill;x._minDtick=0,g._minDtick=0;var P={padded:!0},I={padded:!0};y&&(P.ppad=I.ppad=y);var z=m<2||d[0]!==d[m-1]||v[0]!==v[m-1];z&&(O==="tozerox"||O==="tonextx"&&(T||E==="h"))?P.tozero=!0:(c.error_y||{}).visible||O!=="tonexty"&&O!=="tozeroy"&&(h.hasMarkers(c)||h.hasText(c))||(P.padded=!1,P.ppad=0),z&&(O==="tozeroy"||O==="tonexty"&&(T||E==="v"))?I.tozero=!0:O!=="tonextx"&&O!=="tozerox"||(I.padded=!1),f&&(c._extremes[f]=a.findExtremes(x,d,P)),S&&(c._extremes[S]=a.findExtremes(g,v,I))}function r(p,c){if(h.hasMarkers(p)){var x,g=p.marker,d=1.6*(p.marker.sizeref||1);if(x=p.marker.sizemode==="area"?function(f){return Math.max(Math.sqrt((f||0)/d),3)}:function(f){return Math.max((f||0)/d,3)},k.isArrayOrTypedArray(g.size)){var v={type:"linear"};a.setConvert(v);for(var y=v.makeCalcdata(p.marker,"size"),m=new Array(c),w=0;w<c;w++)m[w]=x(y[w]);return m}return x(g.size)}}function l(p,c){var x=s(c),g=p._firstScatter;g[x]||(g[x]=c.uid)}function s(p){var c=p.stackgroup;return p.xaxis+p.yaxis+p.type+(c?"-"+c:"")}function u(p,c,x,g){var d=p.stackgroup;if(d){var v=c._scatterStackOpts[x._id+g._id][d],y=v.orientation==="v"?g:x;return y.type==="linear"||y.type==="log"?v:void 0}}q.exports={calc:function(p,c){var x,g,d,v,y,m,w=p._fullLayout,f=c._xA=a.getFromId(p,c.xaxis||"x","x"),S=c._yA=a.getFromId(p,c.yaxis||"y","y"),T=f.makeCalcdata(c,"x"),E=S.makeCalcdata(c,"y"),O=_(c,f,"x",T),P=_(c,S,"y",E),I=O.vals,z=P.vals,j=c._length,R=new Array(j),N=c.ids,Z=u(c,w,f,S),F=!1;l(w,c);var U,V="x",te="y";Z?(k.pushUnique(Z.traceIndices,c._expandedIndex),(x=Z.orientation==="v")?(te="s",U="x"):(V="s",U="y"),y=Z.stackgaps==="interpolate"):n(p,c,f,S,I,z,r(c,j));var Q=!!c.xperiodalignment,J=!!c.yperiodalignment;for(g=0;g<j;g++){var X=R[g]={},K=M(I[g]),ee=M(z[g]);K&&ee?(X[V]=I[g],X[te]=z[g],Q&&(X.orig_x=T[g],X.xEnd=O.ends[g],X.xStart=O.starts[g]),J&&(X.orig_y=E[g],X.yEnd=P.ends[g],X.yStart=P.starts[g])):Z&&(x?K:ee)?(X[U]=x?I[g]:z[g],X.gap=!0,y?(X.s=b,F=!0):X.s=0):X[V]=X[te]=b,N&&(X.id=String(N[g]))}if(t(R,c),o(p,c),i(R,c),Z){for(g=0;g<R.length;)R[g][U]===b?R.splice(g,1):g++;if(k.sort(R,function(ue,pe){return ue[U]-pe[U]||ue.i-pe.i}),F){for(g=0;g<R.length-1&&R[g].gap;)g++;for((m=R[g].s)||(m=R[g].s=0),d=0;d<g;d++)R[d].s=m;for(v=R.length-1;v>g&&R[v].gap;)v--;for(m=R[v].s,d=R.length-1;d>v;d--)R[d].s=m;for(;g<v;)if(R[++g].gap){for(d=g+1;R[d].gap;)d++;for(var re=R[g-1][U],ie=R[g-1].s,ae=(R[d].s-ie)/(R[d][U]-re);g<d;)R[g].s=ie+(R[g][U]-re)*ae,g++}}}return R},calcMarkerSize:r,calcAxisExpansion:n,setFirstScatter:l,getStackOpts:u}},66279:function(q,C,e){var M=e(71828);q.exports=function(k,a){M.isArrayOrTypedArray(a.selectedpoints)&&M.tagSelected(k,a)}},36922:function(q,C,e){var M=e(52075).hasColorscale,k=e(78803),a=e(34098);q.exports=function(_,b){a.hasLines(b)&&M(b,"line")&&k(_,b,{vals:b.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(b)&&(M(b,"marker")&&k(_,b,{vals:b.marker.color,containerStr:"marker",cLetter:"c"}),M(b,"marker.line")&&k(_,b,{vals:b.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(q){q.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(q,C,e){var M=e(47761),k=e(11661).setGroupPositions;function a(_,b,h,o,t,i,n){t[o]=!0;var r={i:null,gap:!0,s:0};if(r[n]=h,_.splice(b,0,r),b&&h===_[b-1][n]){var l=_[b-1];r.s=l.s,r.i=l.i,r.gap=l.gap}else i&&(r.s=function(s,u,p,c){var x=s[u-1],g=s[u+1];return g?x?x.s+(g.s-x.s)*(p-x[c])/(g[c]-x[c]):g.s:x.s}(_,b,h,n));b||(_[0].t=_[1].t,_[0].trace=_[1].trace,delete _[1].t,delete _[1].trace)}q.exports=function(_,b){_._fullLayout.scattermode==="group"&&function(U,V){for(var te=V.xaxis,Q=V.yaxis,J=U._fullLayout,X=U._fullData,K=U.calcdata,ee=[],re=[],ie=0;ie<X.length;ie++){var ae=X[ie];ae.visible===!0&&ae.type==="scatter"&&ae.xaxis===te._id&&ae.yaxis===Q._id&&(ae.orientation==="h"?ee.push(K[ie]):ae.orientation==="v"&&re.push(K[ie]))}var ue={mode:J.scattermode,gap:J.scattergap};k(U,te,Q,re,ue),k(U,Q,te,ee,ue)}(_,b);var h=b.xaxis,o=b.yaxis,t=h._id+o._id,i=_._fullLayout._scatterStackOpts[t];if(i){var n,r,l,s,u,p,c,x,g,d,v,y,m,w,f,S=_.calcdata;for(var T in i){var E=(d=i[T]).traceIndices;if(E.length){for(v=d.stackgaps==="interpolate",y=d.groupnorm,d.orientation==="v"?(m="x",w="y"):(m="y",w="x"),f=new Array(E.length),n=0;n<f.length;n++)f[n]=!1;p=S[E[0]];var O=new Array(p.length);for(n=0;n<p.length;n++)O[n]=p[n][m];for(n=1;n<E.length;n++){for(u=S[E[n]],r=l=0;r<u.length;r++){for(c=u[r][m];c>O[l]&&l<O.length;l++)a(u,r,O[l],n,f,v,m),r++;if(c!==O[l]){for(s=0;s<n;s++)a(S[E[s]],l,c,s,f,v,m);O.splice(l,0,c)}l++}for(;l<O.length;l++)a(u,r,O[l],n,f,v,m),r++}var P=O.length;for(r=0;r<p.length;r++){for(x=p[r][w]=p[r].s,n=1;n<E.length;n++)(u=S[E[n]])[0].trace._rawLength=u[0].trace._length,u[0].trace._length=P,x+=u[r].s,u[r][w]=x;if(y)for(g=(y==="fraction"?x:x/100)||1,n=0;n<E.length;n++){var I=S[E[n]][r];I[w]/=g,I.sNorm=I.s/g}}for(n=0;n<E.length;n++){var z=(u=S[E[n]])[0].trace,j=M.calcMarkerSize(z,z._rawLength),R=Array.isArray(j);if(j&&f[n]||R){var N=j;for(j=new Array(P),r=0;r<P;r++)j[r]=u[r].gap?0:R?N[u[r].i]:N}var Z=new Array(P),F=new Array(P);for(r=0;r<P;r++)Z[r]=u[r].x,F[r]=u[r].y;M.calcAxisExpansion(_,z,h,o,Z,F,j),u[0].t.orientation=d.orientation}}}}}},34936:function(q,C,e){var M=e(71828),k=e(26125),a=e(82196);q.exports=function(_,b){var h,o,t;function i(u){return M.coerce(o._input,o,a,u)}if(b.scattermode==="group")for(t=0;t<_.length;t++)(o=_[t]).type==="scatter"&&(h=o._input,k(h,o,b,i));for(t=0;t<_.length;t++){var n=_[t];if(n.type==="scatter"){var r=n.fill;if(r!=="none"&&r!=="toself"&&(n.opacity=void 0,r==="tonexty"||r==="tonextx"))for(var l=t-1;l>=0;l--){var s=_[l];if(s.type==="scatter"&&s.xaxis===n.xaxis&&s.yaxis===n.yaxis){s.opacity=void 0;break}}}}}},17438:function(q,C,e){var M=e(71828),k=e(73972),a=e(82196),_=e(47581),b=e(34098),h=e(67513),o=e(73927),t=e(565),i=e(49508),n=e(11058),r=e(94039),l=e(82410),s=e(28908),u=e(71828).coercePattern;q.exports=function(p,c,x,g){function d(E,O){return M.coerce(p,c,a,E,O)}var v=h(p,c,g,d);if(v||(c.visible=!1),c.visible){o(p,c,g,d),d("xhoverformat"),d("yhoverformat");var y=t(p,c,g,d);g.scattermode==="group"&&c.orientation===void 0&&d("orientation","v");var m=!y&&v<_.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",m),b.hasMarkers(c)&&i(p,c,x,g,d,{gradient:!0}),b.hasLines(c)&&(n(p,c,x,g,d,{backoff:!0}),r(p,c,d),d("connectgaps"),d("line.simplify")),b.hasText(c)&&(d("texttemplate"),l(p,c,g,d));var w=[];(b.hasMarkers(c)||b.hasText(c))&&(d("cliponaxis"),d("marker.maxdisplayed"),w.push("points")),d("fill",y?y.fillDflt:"none"),c.fill!=="none"&&(s(p,c,x,d),b.hasLines(c)||r(p,c,d),u(d,"fillpattern",c.fillcolor,!1));var f=(c.line||{}).color,S=(c.marker||{}).color;c.fill!=="tonext"&&c.fill!=="toself"||w.push("fills"),d("hoveron",w.join("+")||"points"),c.hoveron!=="fills"&&d("hovertemplate");var T=k.getComponentMethod("errorbars","supplyDefaults");T(p,c,f||S||x,{axis:"y"}),T(p,c,f||S||x,{axis:"x",inherit:"y"}),M.coerceSelectionMarkerOpacity(c,d)}}},28908:function(q,C,e){var M=e(7901),k=e(71828).isArrayOrTypedArray;q.exports=function(a,_,b,h){var o=!1;if(_.marker){var t=_.marker.color,i=(_.marker.line||{}).color;t&&!k(t)?o=t:i&&!k(i)&&(o=i)}h("fillcolor",M.addOpacity((_.line||{}).color||o||b,.5))}},8225:function(q,C,e){var M=e(89298);q.exports=function(k,a,_){var b={},h={_fullLayout:_},o=M.getFromTrace(h,a,"x"),t=M.getFromTrace(h,a,"y"),i=k.orig_x;i===void 0&&(i=k.x);var n=k.orig_y;return n===void 0&&(n=k.y),b.xLabel=M.tickText(o,o.c2l(i),!0).text,b.yLabel=M.tickText(t,t.c2l(n),!0).text,b}},34603:function(q,C,e){var M=e(7901),k=e(34098);q.exports=function(a,_){var b,h;if(a.mode==="lines")return(b=a.line.color)&&M.opacity(b)?b:a.fillcolor;if(a.mode==="none")return a.fill?a.fillcolor:"";var o=_.mcc||(a.marker||{}).color,t=_.mlcc||((a.marker||{}).line||{}).color;return(h=o&&M.opacity(o)?o:t&&M.opacity(t)&&(_.mlw||((a.marker||{}).line||{}).width)?t:"")?M.opacity(h)<.3?M.addOpacity(h,.3):h:(b=(a.line||{}).color)&&M.opacity(b)&&k.hasLines(a)&&a.line.width?b:a.fillcolor}},26125:function(q,C,e){var M=e(99082).getAxisGroup;q.exports=function(k,a,_,b){var h=a.orientation,o=a[{v:"x",h:"y"}[h]+"axis"],t=M(_,o)+h,i=_._alignmentOpts||{},n=b("alignmentgroup"),r=i[t];r||(r=i[t]={});var l=r[n];l?l.traces.push(a):l=r[n]={traces:[a],alignmentIndex:Object.keys(r).length,offsetGroups:{}};var s=b("offsetgroup"),u=l.offsetGroups,p=u[s];s&&(p||(p=u[s]={offsetIndex:Object.keys(u).length}),a._offsetIndex=p.offsetIndex)}},33720:function(q,C,e){var M=e(71828),k=e(30211),a=e(73972),_=e(34603),b=e(7901),h=M.fillText;q.exports=function(o,t,i,n){var r=o.cd,l=r[0].trace,s=o.xa,u=o.ya,p=s.c2p(t),c=u.c2p(i),x=[p,c],g=l.hoveron||"",d=l.mode.indexOf("markers")!==-1?3:.5,v=!!l.xperiodalignment,y=!!l.yperiodalignment;if(g.indexOf("points")!==-1){var m=function(de){var ye=Math.max(d,de.mrc||0),be=s.c2p(de.x)-p,me=u.c2p(de.y)-c;return Math.max(Math.sqrt(be*be+me*me)-ye,1-d/ye)},w=k.getDistanceFunction(n,function(de){if(v){var ye=s.c2p(de.xStart),be=s.c2p(de.xEnd);return p>=Math.min(ye,be)&&p<=Math.max(ye,be)?0:1/0}var me=Math.max(3,de.mrc||0),Ee=1-1/me,Te=Math.abs(s.c2p(de.x)-p);return Te<me?Ee*Te/me:Te-me+Ee},function(de){if(y){var ye=u.c2p(de.yStart),be=u.c2p(de.yEnd);return c>=Math.min(ye,be)&&c<=Math.max(ye,be)?0:1/0}var me=Math.max(3,de.mrc||0),Ee=1-1/me,Te=Math.abs(u.c2p(de.y)-c);return Te<me?Ee*Te/me:Te-me+Ee},m);if(k.getClosest(r,w,o),o.index!==!1){var f=r[o.index],S=s.c2p(f.x,!0),T=u.c2p(f.y,!0),E=f.mrc||1;o.index=f.i;var O=r[0].t.orientation,P=O&&(f.sNorm||f.s),I=O==="h"?P:f.orig_x!==void 0?f.orig_x:f.x,z=O==="v"?P:f.orig_y!==void 0?f.orig_y:f.y;return M.extendFlat(o,{color:_(l,f),x0:S-E,x1:S+E,xLabelVal:I,y0:T-E,y1:T+E,yLabelVal:z,spikeDistance:m(f),hovertemplate:l.hovertemplate}),h(f,l,o),a.getComponentMethod("errorbars","hoverInfo")(f,l,o),[o]}}if(g.indexOf("fills")!==-1&&l._polygons){var j,R,N,Z,F,U,V,te,Q,J=l._polygons,X=[],K=!1,ee=1/0,re=-1/0,ie=1/0,ae=-1/0;for(j=0;j<J.length;j++)(N=J[j]).contains(x)&&(K=!K,X.push(N),ie=Math.min(ie,N.ymin),ae=Math.max(ae,N.ymax));if(K){var ue=((ie=Math.max(ie,0))+(ae=Math.min(ae,u._length)))/2;for(j=0;j<X.length;j++)for(Z=X[j].pts,R=1;R<Z.length;R++)(te=Z[R-1][1])>ue!=(Q=Z[R][1])>=ue&&(U=Z[R-1][0],V=Z[R][0],Q-te&&(F=U+(V-U)*(ue-te)/(Q-te),ee=Math.min(ee,F),re=Math.max(re,F)));ee=Math.max(ee,0),re=Math.min(re,s._length);var pe=b.defaultLine;return b.opacity(l.fillcolor)?pe=l.fillcolor:b.opacity((l.line||{}).color)&&(pe=l.line.color),M.extendFlat(o,{distance:o.maxHoverDistance,x0:ee,x1:re,y0:ue,y1:ue,color:pe,hovertemplate:!1}),delete o.index,l.text&&!M.isArrayOrTypedArray(l.text)?o.text=String(l.text):o.text=l.name,[o]}}}},67368:function(q,C,e){var M=e(34098);q.exports={hasLines:M.hasLines,hasMarkers:M.hasMarkers,hasText:M.hasText,isBubble:M.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(q){q.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(q,C,e){var M=e(71828),k=e(21479);q.exports=function(a,_){var b,h=_.barmode==="group";_.scattermode==="group"&&(b=h?_.bargap:.2,M.coerce(a,_,k,"scattergap",b))}},11058:function(q,C,e){var M=e(71828).isArrayOrTypedArray,k=e(52075).hasColorscale,a=e(1586);q.exports=function(_,b,h,o,t,i){i||(i={});var n=(_.marker||{}).color;n&&n._inputArray&&(n=n._inputArray),t("line.color",h),k(_,"line")?a(_,b,o,t,{prefix:"line.",cLetter:"c"}):t("line.color",!M(n)&&n||h),t("line.width"),i.noDash||t("line.dash"),i.backoff&&t("line.backoff")}},34621:function(q,C,e){var M=e(91424),k=e(50606),a=k.BADNUM,_=k.LOG_CLIP,b=_+.5,h=_-.5,o=e(71828),t=o.segmentsIntersect,i=o.constrain,n=e(47581);q.exports=function(r,l){var s,u,p,c,x,g,d,v,y,m,w,f,S,T,E,O,P,I,z=l.trace||{},j=l.xaxis,R=l.yaxis,N=j.type==="log",Z=R.type==="log",F=j._length,U=R._length,V=l.backoff,te=z.marker,Q=l.connectGaps,J=l.baseTolerance,X=l.shape,K=X==="linear",ee=z.fill&&z.fill!=="none",re=[],ie=n.minTolerance,ae=r.length,ue=new Array(ae),pe=0;function de(Pt){var Ze=r[Pt];if(!Ze)return!1;var Je=l.linearized?j.l2p(Ze.x):j.c2p(Ze.x),Ue=l.linearized?R.l2p(Ze.y):R.c2p(Ze.y);if(Je===a){if(N&&(Je=j.c2p(Ze.x,!0)),Je===a)return!1;Z&&Ue===a&&(Je*=Math.abs(j._m*U*(j._m>0?b:h)/(R._m*F*(R._m>0?b:h)))),Je*=1e3}if(Ue===a){if(Z&&(Ue=R.c2p(Ze.y,!0)),Ue===a)return!1;Ue*=1e3}return[Je,Ue]}function ye(Pt,Ze,Je,Ue){var Xe=Je-Pt,lt=Ue-Ze,ot=.5-Pt,Be=.5-Ze,Ne=Xe*Xe+lt*lt,at=Xe*ot+lt*Be;if(at>0&&at<Ne){var $e=ot*lt-Be*Xe;if($e*$e<Ne)return!0}}function be(Pt,Ze){var Je=Pt[0]/F,Ue=Pt[1]/U,Xe=Math.max(0,-Je,Je-1,-Ue,Ue-1);return Xe&&P!==void 0&&ye(Je,Ue,P,I)&&(Xe=0),Xe&&Ze&&ye(Je,Ue,Ze[0]/F,Ze[1]/U)&&(Xe=0),(1+n.toleranceGrowth*Xe)*J}function me(Pt,Ze){var Je=Pt[0]-Ze[0],Ue=Pt[1]-Ze[1];return Math.sqrt(Je*Je+Ue*Ue)}var Ee,Te,we,oe,se,he,Se,_e=n.maxScreensAway,Ae=-F*_e,Ce=F*(1+_e),Re=-U*_e,fe=U*(1+_e),xe=[[Ae,Re,Ce,Re],[Ce,Re,Ce,fe],[Ce,fe,Ae,fe],[Ae,fe,Ae,Re]];function ke(Pt){if(Pt[0]<Ae||Pt[0]>Ce||Pt[1]<Re||Pt[1]>fe)return[i(Pt[0],Ae,Ce),i(Pt[1],Re,fe)]}function Ie(Pt,Ze){return Pt[0]===Ze[0]&&(Pt[0]===Ae||Pt[0]===Ce)||Pt[1]===Ze[1]&&(Pt[1]===Re||Pt[1]===fe)||void 0}function Fe(Pt,Ze,Je){return function(Ue,Xe){var lt=ke(Ue),ot=ke(Xe),Be=[];if(lt&&ot&&Ie(lt,ot))return Be;lt&&Be.push(lt),ot&&Be.push(ot);var Ne=2*o.constrain((Ue[Pt]+Xe[Pt])/2,Ze,Je)-((lt||Ue)[Pt]+(ot||Xe)[Pt]);return Ne&&((lt&&ot?Ne>0==lt[Pt]>ot[Pt]?lt:ot:lt||ot)[Pt]+=Ne),Be}}function ze(Pt){var Ze=Pt[0],Je=Pt[1],Ue=Ze===ue[pe-1][0],Xe=Je===ue[pe-1][1];if(!Ue||!Xe)if(pe>1){var lt=Ze===ue[pe-2][0],ot=Je===ue[pe-2][1];Ue&&(Ze===Ae||Ze===Ce)&&lt?ot?pe--:ue[pe-1]=Pt:Xe&&(Je===Re||Je===fe)&&ot?lt?pe--:ue[pe-1]=Pt:ue[pe++]=Pt}else ue[pe++]=Pt}function qe(Pt){ue[pe-1][0]!==Pt[0]&&ue[pe-1][1]!==Pt[1]&&ze([we,oe]),ze(Pt),se=null,we=oe=0}X==="linear"||X==="spline"?Se=function(Pt,Ze){for(var Je=[],Ue=0,Xe=0;Xe<4;Xe++){var lt=xe[Xe],ot=t(Pt[0],Pt[1],Ze[0],Ze[1],lt[0],lt[1],lt[2],lt[3]);ot&&(!Ue||Math.abs(ot.x-Je[0][0])>1||Math.abs(ot.y-Je[0][1])>1)&&(ot=[ot.x,ot.y],Ue&&me(ot,Pt)<me(Je[0],Pt)?Je.unshift(ot):Je.push(ot),Ue++)}return Je}:X==="hv"||X==="vh"?Se=function(Pt,Ze){var Je=[],Ue=ke(Pt),Xe=ke(Ze);return Ue&&Xe&&Ie(Ue,Xe)||(Ue&&Je.push(Ue),Xe&&Je.push(Xe)),Je}:X==="hvh"?Se=Fe(0,Ae,Ce):X==="vhv"&&(Se=Fe(1,Re,fe));var Ye=o.isArrayOrTypedArray(te);function Qe(Pt){if(Pt&&V&&(Pt.i=s,Pt.d=r,Pt.trace=z,Pt.marker=Ye?te[Pt.i]:te,Pt.backoff=V),P=Pt[0]/F,I=Pt[1]/U,Ee=Pt[0]<Ae?Ae:Pt[0]>Ce?Ce:0,Te=Pt[1]<Re?Re:Pt[1]>fe?fe:0,Ee||Te){if(pe)if(se){var Ze=Se(se,Pt);Ze.length>1&&(qe(Ze[0]),ue[pe++]=Ze[1])}else he=Se(ue[pe-1],Pt)[0],ue[pe++]=he;else ue[pe++]=[Ee||Pt[0],Te||Pt[1]];var Je=ue[pe-1];Ee&&Te&&(Je[0]!==Ee||Je[1]!==Te)?(se&&(we!==Ee&&oe!==Te?ze(we&&oe?(Ue=se,lt=(Xe=Pt)[0]-Ue[0],ot=(Xe[1]-Ue[1])/lt,(Ue[1]*Xe[0]-Xe[1]*Ue[0])/lt>0?[ot>0?Ae:Ce,fe]:[ot>0?Ce:Ae,Re]):[we||Ee,oe||Te]):we&&oe&&ze([we,oe])),ze([Ee,Te])):we-Ee&&oe-Te&&ze([Ee||we,Te||oe]),se=Pt,we=Ee,oe=Te}else se&&qe(Se(se,Pt)[0]),ue[pe++]=Pt;var Ue,Xe,lt,ot}for(s=0;s<ae;s++)if(u=de(s)){for(pe=0,se=null,Qe(u),s++;s<ae;s++){if(!(c=de(s))){if(Q)continue;break}if(K&&l.simplify){var ft=de(s+1);if(m=me(c,u),ee&&(pe===0||pe===ae-1)||!(m<be(c,ft)*ie)){for(v=[(c[0]-u[0])/m,(c[1]-u[1])/m],x=u,w=m,f=T=E=0,d=!1,p=c,s++;s<r.length;s++){if(g=ft,ft=de(s+1),!g){if(Q)continue;break}if(O=(y=[g[0]-u[0],g[1]-u[1]])[0]*v[1]-y[1]*v[0],T=Math.min(T,O),(E=Math.max(E,O))-T>be(g,ft))break;p=g,(S=y[0]*v[0]+y[1]*v[1])>w?(w=S,c=g,d=!1):S<f&&(f=S,x=g,d=!0)}if(d?(Qe(c),p!==x&&Qe(x)):(x!==u&&Qe(x),p!==c&&Qe(c)),Qe(p),s>=r.length||!g)break;Qe(g),u=g}}else Qe(c)}se&&ze([we||se[0],oe||se[1]]),re.push(ue.slice(0,pe))}var ht=X.slice(X.length-1);if(V&&ht!=="h"&&ht!=="v"){for(var mt=!1,Mt=-1,_t=[],it=0;it<re.length;it++)for(var st=0;st<re[it].length-1;st++){var St=re[it][st],zt=re[it][st+1],Ft=M.applyBackoff(zt,St);Ft[0]===zt[0]&&Ft[1]===zt[1]||(mt=!0),_t[Mt+1]||(_t[++Mt]=[St,[Ft[0],Ft[1]]])}return mt?_t:re}return re}},94039:function(q){q.exports=function(C,e,M){M("line.shape")==="spline"&&M("line.smoothing")}},68687:function(q){var C={tonextx:1,tonexty:1,tonext:1};q.exports=function(e,M,k){var a,_,b,h,o,t={},i=!1,n=-1,r=0,l=-1;for(_=0;_<k.length;_++)(b=(a=k[_][0].trace).stackgroup||"")?b in t?o=t[b]:(o=t[b]=r,r++):a.fill in C&&l>=0?o=l:(o=l=r,r++),o<n&&(i=!0),a._groupIndex=n=o;var s=k.slice();i&&s.sort(function(p,c){var x=p[0].trace,g=c[0].trace;return x._groupIndex-g._groupIndex||x.index-g.index});var u={};for(_=0;_<s.length;_++)b=(a=s[_][0].trace).stackgroup||"",a.visible===!0?(a._nexttrace=null,a.fill in C&&(h=u[b],a._prevtrace=h||null,h&&(h._nexttrace=a)),a._ownfill=a.fill&&(a.fill.substr(0,6)==="tozero"||a.fill==="toself"||a.fill.substr(0,2)==="to"&&!a._prevtrace),u[b]=a):a._prevtrace=a._nexttrace=a._ownfill=null;return s}},39984:function(q,C,e){var M=e(92770);q.exports=function(k,a){a||(a=2);var _=k.marker,b=_.sizeref||1,h=_.sizemin||0,o=_.sizemode==="area"?function(t){return Math.sqrt(t/b)}:function(t){return t/b};return function(t){var i=o(t/a);return M(i)&&i>0?Math.max(i,h):0}}},4898:function(q){q.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(q,C,e){var M=e(7901),k=e(52075).hasColorscale,a=e(1586),_=e(34098);q.exports=function(b,h,o,t,i,n){var r=_.isBubble(b),l=(b.line||{}).color;n=n||{},l&&(o=l),i("marker.symbol"),i("marker.opacity",r?.7:1),i("marker.size"),n.noAngle||(i("marker.angle"),n.noAngleRef||i("marker.angleref"),n.noStandOff||i("marker.standoff")),i("marker.color",o),k(b,"marker")&&a(b,h,t,i,{prefix:"marker.",cLetter:"c"}),n.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),n.noLine||(i("marker.line.color",l&&!Array.isArray(l)&&h.marker.color!==l?l:r?M.background:M.defaultLine),k(b,"marker.line")&&a(b,h,t,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",r?1:0)),r&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),n.gradient&&i("marker.gradient.type")!=="none"&&i("marker.gradient.color")}},73927:function(q,C,e){var M=e(71828).dateTick0,k=e(50606).ONEWEEK;function a(_,b){return M(b,_%k==0?1:0)}q.exports=function(_,b,h,o,t){if(t||(t={x:!0,y:!0}),t.x){var i=o("xperiod");i&&(o("xperiod0",a(i,b.xcalendar)),o("xperiodalignment"))}if(t.y){var n=o("yperiod");n&&(o("yperiod0",a(n,b.ycalendar)),o("yperiodalignment"))}}},32663:function(q,C,e){var M=e(39898),k=e(73972),a=e(71828),_=a.ensureSingle,b=a.identity,h=e(91424),o=e(34098),t=e(34621),i=e(68687),n=e(61082).tester;function r(l,s,u,p,c,x,g){var d,v=l._context.staticPlot;(function(Se,_e,Ae,Ce,Re){var fe=Ae.xaxis,xe=Ae.yaxis,ke=M.extent(a.simpleMap(fe.range,fe.r2c)),Ie=M.extent(a.simpleMap(xe.range,xe.r2c)),Fe=Ce[0].trace;if(o.hasMarkers(Fe)){var ze=Fe.marker.maxdisplayed;if(ze!==0){var qe=Ce.filter(function(ht){return ht.x>=ke[0]&&ht.x<=ke[1]&&ht.y>=Ie[0]&&ht.y<=Ie[1]}),Ye=Math.ceil(qe.length/ze),Qe=0;Re.forEach(function(ht,mt){var Mt=ht[0].trace;o.hasMarkers(Mt)&&Mt.marker.maxdisplayed>0&&mt<_e&&Qe++});var ft=Math.round(Qe*Ye/3+Math.floor(Qe/3)*Ye/7.1);Ce.forEach(function(ht){delete ht.vis}),qe.forEach(function(ht,mt){Math.round((mt+ft)%Ye)===0&&(ht.vis=!0)})}}})(0,s,u,p,c);var y=!!g&&g.duration>0;function m(Se){return y?Se.transition():Se}var w=u.xaxis,f=u.yaxis,S=p[0].trace,T=S.line,E=M.select(x),O=_(E,"g","errorbars"),P=_(E,"g","lines"),I=_(E,"g","points"),z=_(E,"g","text");if(k.getComponentMethod("errorbars","plot")(l,O,u,g),S.visible===!0){var j,R;m(E).style("opacity",S.opacity);var N=S.fill.charAt(S.fill.length-1);N!=="x"&&N!=="y"&&(N=""),p[0][u.isRangePlot?"nodeRangePlot3":"node3"]=E;var Z,F,U="",V=[],te=S._prevtrace;te&&(U=te._prevRevpath||"",R=te._nextFill,V=te._polygons);var Q,J,X,K,ee,re,ie,ae="",ue="",pe=[],de=a.noop;if(j=S._ownFill,o.hasLines(S)||S.fill!=="none"){for(R&&R.datum(p),["hv","vh","hvh","vhv"].indexOf(T.shape)!==-1?(Q=h.steps(T.shape),J=h.steps(T.shape.split("").reverse().join(""))):Q=J=T.shape==="spline"?function(Se){var _e=Se[Se.length-1];return Se.length>1&&Se[0][0]===_e[0]&&Se[0][1]===_e[1]?h.smoothclosed(Se.slice(1),T.smoothing):h.smoothopen(Se,T.smoothing)}:function(Se){return"M"+Se.join("L")},X=function(Se){return J(Se.reverse())},pe=t(p,{xaxis:w,yaxis:f,trace:S,connectGaps:S.connectgaps,baseTolerance:Math.max(T.width||1,3)/4,shape:T.shape,backoff:T.backoff,simplify:T.simplify,fill:S.fill}),ie=S._polygons=new Array(pe.length),d=0;d<pe.length;d++)S._polygons[d]=n(pe[d]);pe.length&&(K=pe[0][0],re=(ee=pe[pe.length-1])[ee.length-1]),de=function(Se){return function(_e){if(Z=Q(_e),F=X(_e),ae?N?(ae+="L"+Z.substr(1),ue=F+"L"+ue.substr(1)):(ae+="Z"+Z,ue=F+"Z"+ue):(ae=Z,ue=F),o.hasLines(S)){var Ae=M.select(this);if(Ae.datum(p),Se)m(Ae.style("opacity",0).attr("d",Z).call(h.lineGroupStyle)).style("opacity",1);else{var Ce=m(Ae);Ce.attr("d",Z),h.singleLineStyle(p,Ce)}}}}}var ye=P.selectAll(".js-line").data(pe);m(ye.exit()).style("opacity",0).remove(),ye.each(de(!1)),ye.enter().append("path").classed("js-line",!0).style("vector-effect",v?"none":"non-scaling-stroke").call(h.lineGroupStyle).each(de(!0)),h.setClipUrl(ye,u.layerClipId,l),pe.length?(j?(j.datum(p),K&&re&&(N?(N==="y"?K[1]=re[1]=f.c2p(0,!0):N==="x"&&(K[0]=re[0]=w.c2p(0,!0)),m(j).attr("d","M"+re+"L"+K+"L"+ae.substr(1)).call(h.singleFillStyle,l)):m(j).attr("d",ae+"Z").call(h.singleFillStyle,l))):R&&(S.fill.substr(0,6)==="tonext"&&ae&&U?(S.fill==="tonext"?m(R).attr("d",ae+"Z"+U+"Z").call(h.singleFillStyle,l):m(R).attr("d",ae+"L"+U.substr(1)+"Z").call(h.singleFillStyle,l),S._polygons=S._polygons.concat(V)):(me(R),S._polygons=null)),S._prevRevpath=ue,S._prevPolygons=ie):(j?me(j):R&&me(R),S._polygons=S._prevRevpath=S._prevPolygons=null),I.datum(p),z.datum(p),function(Se,_e,Ae){var Ce,Re=Ae[0].trace,fe=o.hasMarkers(Re),xe=o.hasText(Re),ke=se(Re),Ie=he,Fe=he;if(fe||xe){var ze=b,qe=Re.stackgroup,Ye=qe&&l._fullLayout._scatterStackOpts[w._id+f._id][qe].stackgaps==="infer zero";Re.marker.maxdisplayed||Re._needsCull?ze=Ye?Te:Ee:qe&&!Ye&&(ze=we),fe&&(Ie=ze),xe&&(Fe=ze)}var Qe,ft=(Ce=Se.selectAll("path.point").data(Ie,ke)).enter().append("path").classed("point",!0);y&&ft.call(h.pointStyle,Re,l).call(h.translatePoints,w,f).style("opacity",0).transition().style("opacity",1),Ce.order(),fe&&(Qe=h.makePointStyleFns(Re)),Ce.each(function(ht){var mt=M.select(this),Mt=m(mt);h.translatePoint(ht,Mt,w,f)?(h.singlePointStyle(ht,Mt,Re,Qe,l),u.layerClipId&&h.hideOutsideRangePoint(ht,Mt,w,f,Re.xcalendar,Re.ycalendar),Re.customdata&&mt.classed("plotly-customdata",ht.data!==null&&ht.data!==void 0)):Mt.remove()}),y?Ce.exit().transition().style("opacity",0).remove():Ce.exit().remove(),(Ce=_e.selectAll("g").data(Fe,ke)).enter().append("g").classed("textpoint",!0).append("text"),Ce.order(),Ce.each(function(ht){var mt=M.select(this),Mt=m(mt.select("text"));h.translatePoint(ht,Mt,w,f)?u.layerClipId&&h.hideOutsideRangePoint(ht,mt,w,f,Re.xcalendar,Re.ycalendar):mt.remove()}),Ce.selectAll("text").call(h.textPointStyle,Re,l).each(function(ht){var mt=w.c2p(ht.x),Mt=f.c2p(ht.y);M.select(this).selectAll("tspan.line").each(function(){m(M.select(this)).attr({x:mt,y:Mt})})}),Ce.exit().remove()}(I,z,p);var be=S.cliponaxis===!1?null:u.layerClipId;h.setClipUrl(I,be,l),h.setClipUrl(z,be,l)}function me(Se){m(Se).attr("d","M0,0Z")}function Ee(Se){return Se.filter(function(_e){return!_e.gap&&_e.vis})}function Te(Se){return Se.filter(function(_e){return _e.vis})}function we(Se){return Se.filter(function(_e){return!_e.gap})}function oe(Se){return Se.id}function se(Se){if(Se.ids)return oe}function he(){return!1}}q.exports=function(l,s,u,p,c,x){var g,d,v=!c,y=!!c&&c.duration>0,m=i(l,s,u);(g=p.selectAll("g.trace").data(m,function(w){return w[0].trace.uid})).enter().append("g").attr("class",function(w){return"trace scatter trace"+w[0].trace.uid}).style("stroke-miterlimit",2),g.order(),function(w,f,S){f.each(function(T){var E=_(M.select(this),"g","fills");h.setClipUrl(E,S.layerClipId,w);var O=T[0].trace,P=[];O._ownfill&&P.push("_ownFill"),O._nexttrace&&P.push("_nextFill");var I=E.selectAll("g").data(P,b);I.enter().append("g"),I.exit().each(function(z){O[z]=null}).remove(),I.order().each(function(z){O[z]=_(M.select(this),"path","js-fill")})})}(l,g,s),y?(x&&(d=x()),M.transition().duration(c.duration).ease(c.easing).each("end",function(){d&&d()}).each("interrupt",function(){d&&d()}).each(function(){p.selectAll("g.trace").each(function(w,f){r(l,f,s,w,m,this,c)})})):g.each(function(w,f){r(l,f,s,w,m,this,c)}),v&&g.exit().remove(),p.selectAll("path:not([d])").remove()}},98002:function(q,C,e){var M=e(34098);q.exports=function(k,a){var _,b,h,o,t=k.cd,i=k.xaxis,n=k.yaxis,r=[],l=t[0].trace;if(!M.hasMarkers(l)&&!M.hasText(l))return[];if(a===!1)for(_=0;_<t.length;_++)t[_].selected=0;else for(_=0;_<t.length;_++)b=t[_],h=i.c2p(b.x),o=n.c2p(b.y),b.i!==null&&a.contains([h,o],!1,_,k)?(r.push({pointNumber:b.i,x:i.c2d(b.x),y:n.c2d(b.y)}),b.selected=1):b.selected=0;return r}},565:function(q){var C=["orientation","groupnorm","stackgaps"];q.exports=function(e,M,k,a){var _=k._scatterStackOpts,b=a("stackgroup");if(b){var h=M.xaxis+M.yaxis,o=_[h];o||(o=_[h]={});var t=o[b],i=!1;t?t.traces.push(M):(t=o[b]={traceIndices:[],traces:[M]},i=!0);for(var n={orientation:M.x&&!M.y?"h":"v"},r=0;r<C.length;r++){var l=C[r],s=l+"Found";if(!t[s]){var u=e[l]!==void 0,p=l==="orientation";if((u||i)&&(t[l]=a(l,n[l]),p&&(t.fillDflt=t[l]==="h"?"tonextx":"tonexty"),u&&(t[s]=!0,!i&&(delete t.traces[0][l],p))))for(var c=0;c<t.traces.length-1;c++){var x=t.traces[c];x._input.fill!==x.fill&&(x.fill=t.fillDflt)}}}return t}}},16296:function(q,C,e){var M=e(39898),k=e(91424),a=e(73972);function _(h,o,t){k.pointStyle(h.selectAll("path.point"),o,t)}function b(h,o,t){k.textPointStyle(h.selectAll("text"),o,t)}q.exports={style:function(h){var o=M.select(h).selectAll("g.trace.scatter");o.style("opacity",function(t){return t[0].trace.opacity}),o.selectAll("g.points").each(function(t){_(M.select(this),t.trace||t[0].trace,h)}),o.selectAll("g.text").each(function(t){b(M.select(this),t.trace||t[0].trace,h)}),o.selectAll("g.trace path.js-line").call(k.lineGroupStyle),o.selectAll("g.trace path.js-fill").call(k.fillGroupStyle,h),a.getComponentMethod("errorbars","style")(o)},stylePoints:_,styleText:b,styleOnSelect:function(h,o,t){var i=o[0].trace;i.selectedpoints?(k.selectedPointStyle(t.selectAll("path.point"),i),k.selectedTextStyle(t.selectAll("text"),i)):(_(t,i,h),b(t,i,h))}}},34098:function(q,C,e){var M=e(71828),k=e(73627).isTypedArraySpec;q.exports={hasLines:function(a){return a.visible&&a.mode&&a.mode.indexOf("lines")!==-1},hasMarkers:function(a){return a.visible&&(a.mode&&a.mode.indexOf("markers")!==-1||a.type==="splom")},hasText:function(a){return a.visible&&a.mode&&a.mode.indexOf("text")!==-1},isBubble:function(a){var _=a.marker;return M.isPlainObject(_)&&(M.isArrayOrTypedArray(_.size)||k(_.size))}}},82410:function(q,C,e){var M=e(71828);q.exports=function(k,a,_,b,h){h=h||{},b("textposition"),M.coerceFont(b,"textfont",h.font||_.font),h.noSelect||(b("selected.textfont.color"),b("unselected.textfont.color"))}},67513:function(q,C,e){var M=e(71828),k=e(73972);q.exports=function(a,_,b,h){var o,t=h("x"),i=h("y");if(k.getComponentMethod("calendars","handleTraceDefaults")(a,_,["x","y"],b),t){var n=M.minRowLength(t);i?o=Math.min(n,M.minRowLength(i)):(o=n,h("y0"),h("dy"))}else{if(!i)return 0;o=M.minRowLength(i),h("x0"),h("dx")}return _._length=o,o}},44542:function(q,C,e){var M=e(82196),k=e(50693),a=e(12663).axisHoverFormat,_=e(5386).fF,b=e(5386).si,h=e(9012),o=e(29659),t=e(87381),i=e(1426).extendFlat,n=e(30962).overrideAll,r=e(78607),l=M.line,s=M.marker,u=s.line,p=i({width:l.width,dash:{valType:"enumerated",values:r(o),dflt:"solid"}},k("line")),c=q.exports=n({x:M.x,y:M.y,z:{valType:"data_array"},text:i({},M.text,{}),texttemplate:b({},{}),hovertext:i({},M.hovertext,{}),hovertemplate:_(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),mode:i({},M.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:M.connectgaps,line:p,marker:i({symbol:{valType:"enumerated",values:r(t),dflt:"circle",arrayOk:!0},size:i({},s.size,{dflt:8}),sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,opacity:i({},s.opacity,{arrayOk:!1}),colorbar:s.colorbar,line:i({width:i({},u.width,{arrayOk:!1})},k("marker.line"))},k("marker")),textposition:i({},M.textposition,{dflt:"top center"}),textfont:{color:M.textfont.color,size:M.textfont.size,family:i({},M.textfont.family,{arrayOk:!1})},opacity:h.opacity,hoverinfo:i({},h.hoverinfo)},"calc","nested");c.x.editType=c.y.editType=c.z.editType="calc+clearAxisTypes"},36563:function(q,C,e){var M=e(75225),k=e(36922);q.exports=function(a,_){var b=[{x:!1,y:!1,trace:_,t:{}}];return M(b,_),k(a,_),b}},67336:function(q,C,e){var M=e(73972);function k(a,_,b,h){if(!_||!_.visible)return null;for(var o=M.getComponentMethod("errorbars","makeComputeError")(_),t=new Array(a.length),i=0;i<a.length;i++){var n=o(+a[i],i);if(h.type==="log"){var r=h.c2l(a[i]),l=a[i]-n[0],s=a[i]+n[1];if(t[i]=[(h.c2l(l,!0)-r)*b,(h.c2l(s,!0)-r)*b],l>0){var u=h.c2l(l);h._lowerLogErrorBound||(h._lowerLogErrorBound=u),h._lowerErrorBound=Math.min(h._lowerLogErrorBound,u)}}else t[i]=[-n[0]*b,n[1]*b]}return t}q.exports=function(a,_,b){var h=[k(a.x,a.error_x,_[0],b.xaxis),k(a.y,a.error_y,_[1],b.yaxis),k(a.z,a.error_z,_[2],b.zaxis)],o=function(s){for(var u=0;u<s.length;u++)if(s[u])return s[u].length;return 0}(h);if(o===0)return null;for(var t=new Array(o),i=0;i<o;i++){for(var n=[[0,0,0],[0,0,0]],r=0;r<3;r++)if(h[r])for(var l=0;l<2;l++)n[l][r]=h[r][i][l];t[i]=n}return t}},58925:function(q,C,e){var M=e(9330).gl_line3d,k=e(9330).gl_scatter3d,a=e(9330).gl_error3d,_=e(9330).gl_mesh3d,b=e(9330).delaunay_triangulate,h=e(71828),o=e(78614),t=e(81697).formatColor,i=e(39984),n=e(29659),r=e(87381),l=e(89298),s=e(23469).appendArrayPointValue,u=e(67336);function p(f,S){this.scene=f,this.uid=S,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var c=p.prototype;function x(f){return f==null?0:f.indexOf("left")>-1?-1:f.indexOf("right")>-1?1:0}function g(f){return f==null?0:f.indexOf("top")>-1?-1:f.indexOf("bottom")>-1?1:0}function d(f,S){return S(4*f)}function v(f){return r[f]}function y(f,S,T,E,O){var P=null;if(h.isArrayOrTypedArray(f)){P=[];for(var I=0;I<S;I++)f[I]===void 0?P[I]=E:P[I]=T(f[I],O)}else P=T(f,h.identity);return P}function m(f){if(h.isArrayOrTypedArray(f)){var S=f[0];return h.isArrayOrTypedArray(S)&&(f=S),"rgb("+f.slice(0,3).map(function(T){return Math.round(255*T)})+")"}return null}function w(f){return h.isArrayOrTypedArray(f)?f.length===4&&typeof f[0]=="number"?m(f):f.map(m):null}c.handlePick=function(f){if(f.object&&(f.object===this.linePlot||f.object===this.delaunayMesh||f.object===this.textMarkers||f.object===this.scatterPlot)){var S=f.index=f.data.index;return f.object.highlight&&f.object.highlight(null),this.scatterPlot&&(f.object=this.scatterPlot,this.scatterPlot.highlight(f.data)),f.textLabel="",this.textLabels&&(h.isArrayOrTypedArray(this.textLabels)?(this.textLabels[S]||this.textLabels[S]===0)&&(f.textLabel=this.textLabels[S]):f.textLabel=this.textLabels),f.traceCoordinate=[this.data.x[S],this.data.y[S],this.data.z[S]],!0}},c.update=function(f){var S,T,E,O,P=this.scene.glplot.gl,I=n.solid;this.data=f;var z=function(N,Z){var F,U,V,te,Q,J,X=[],K=N.fullSceneLayout,ee=N.dataScale,re=K.xaxis,ie=K.yaxis,ae=K.zaxis,ue=Z.marker,pe=Z.line,de=Z.x||[],ye=Z.y||[],be=Z.z||[],me=de.length,Ee=Z.xcalendar,Te=Z.ycalendar,we=Z.zcalendar;for(Q=0;Q<me;Q++)F=re.d2l(de[Q],0,Ee)*ee[0],U=ie.d2l(ye[Q],0,Te)*ee[1],V=ae.d2l(be[Q],0,we)*ee[2],X[Q]=[F,U,V];if(Array.isArray(Z.text))J=Z.text;else if(h.isTypedArray(Z.text))J=Array.from(Z.text);else if(Z.text!==void 0)for(J=new Array(me),Q=0;Q<me;Q++)J[Q]=Z.text;function oe(qe,Ye){var Qe=K[qe];return l.tickText(Qe,Qe.d2l(Ye),!0).text}var se=Z.texttemplate;if(se){var he=N.fullLayout._d3locale,Se=Array.isArray(se),_e=Se?Math.min(se.length,me):me,Ae=Se?function(qe){return se[qe]}:function(){return se};for(J=new Array(_e),Q=0;Q<_e;Q++){var Ce={x:de[Q],y:ye[Q],z:be[Q]},Re={xLabel:oe("xaxis",de[Q]),yLabel:oe("yaxis",ye[Q]),zLabel:oe("zaxis",be[Q])},fe={};s(fe,Z,Q);var xe=Z._meta||{};J[Q]=h.texttemplateString(Ae(Q),Re,he,fe,Ce,xe)}}if(te={position:X,mode:Z.mode,text:J},"line"in Z&&(te.lineColor=t(pe,1,me),te.lineWidth=pe.width,te.lineDashes=pe.dash),"marker"in Z){var ke=i(Z);te.scatterColor=t(ue,1,me),te.scatterSize=y(ue.size,me,d,20,ke),te.scatterMarker=y(ue.symbol,me,v,""),te.scatterLineWidth=ue.line.width,te.scatterLineColor=t(ue.line,1,me),te.scatterAngle=0}"textposition"in Z&&(te.textOffset=function(qe){var Ye=[0,0];if(Array.isArray(qe))for(var Qe=0;Qe<qe.length;Qe++)Ye[Qe]=[0,0],qe[Qe]&&(Ye[Qe][0]=x(qe[Qe]),Ye[Qe][1]=g(qe[Qe]));else Ye[0]=x(qe),Ye[1]=g(qe);return Ye}(Z.textposition),te.textColor=t(Z.textfont,1,me),te.textSize=y(Z.textfont.size,me,h.identity,12),te.textFont=Z.textfont.family,te.textAngle=0);var Ie=["x","y","z"];for(te.project=[!1,!1,!1],te.projectScale=[1,1,1],te.projectOpacity=[1,1,1],Q=0;Q<3;++Q){var Fe=Z.projection[Ie[Q]];(te.project[Q]=Fe.show)&&(te.projectOpacity[Q]=Fe.opacity,te.projectScale[Q]=Fe.scale)}te.errorBounds=u(Z,ee,K);var ze=function(qe){for(var Ye=[0,0,0],Qe=[[0,0,0],[0,0,0],[0,0,0]],ft=[1,1,1],ht=0;ht<3;ht++){var mt=qe[ht];mt&&mt.copy_zstyle!==!1&&qe[2].visible!==!1&&(mt=qe[2]),mt&&mt.visible&&(Ye[ht]=mt.width/2,Qe[ht]=o(mt.color),ft[ht]=mt.thickness)}return{capSize:Ye,color:Qe,lineWidth:ft}}([Z.error_x,Z.error_y,Z.error_z]);return te.errorColor=ze.color,te.errorLineWidth=ze.lineWidth,te.errorCapSize=ze.capSize,te.delaunayAxis=Z.surfaceaxis,te.delaunayColor=o(Z.surfacecolor),te}(this.scene,f);"mode"in z&&(this.mode=z.mode),"lineDashes"in z&&z.lineDashes in n&&(I=n[z.lineDashes]),this.color=w(z.scatterColor)||w(z.lineColor),this.dataPoints=z.position,S={gl:this.scene.glplot.gl,position:z.position,color:z.lineColor,lineWidth:z.lineWidth||1,dashes:I[0],dashScale:I[1],opacity:f.opacity,connectGaps:f.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(S):(this.linePlot=M(S),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var j=f.opacity;if(f.marker&&f.marker.opacity!==void 0&&(j*=f.marker.opacity),T={gl:this.scene.glplot.gl,position:z.position,color:z.scatterColor,size:z.scatterSize,glyph:z.scatterMarker,opacity:j,orthographic:!0,lineWidth:z.scatterLineWidth,lineColor:z.scatterLineColor,project:z.project,projectScale:z.projectScale,projectOpacity:z.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(T):(this.scatterPlot=k(T),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),O={gl:this.scene.glplot.gl,position:z.position,glyph:z.text,color:z.textColor,size:z.textSize,angle:z.textAngle,alignment:z.textOffset,font:z.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:f.opacity},this.textLabels=f.hovertext||f.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(O):(this.textMarkers=k(O),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),E={gl:this.scene.glplot.gl,position:z.position,color:z.errorColor,error:z.errorBounds,lineWidth:z.errorLineWidth,capSize:z.errorCapSize,opacity:f.opacity},this.errorBars?z.errorBounds?this.errorBars.update(E):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):z.errorBounds&&(this.errorBars=a(E),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),z.delaunayAxis>=0){var R=function(N,Z,F){var U,V=(F+1)%3,te=(F+2)%3,Q=[],J=[];for(U=0;U<N.length;++U){var X=N[U];!isNaN(X[V])&&isFinite(X[V])&&!isNaN(X[te])&&isFinite(X[te])&&(Q.push([X[V],X[te]]),J.push(U))}var K=b(Q);for(U=0;U<K.length;++U)for(var ee=K[U],re=0;re<ee.length;++re)ee[re]=J[ee[re]];return{positions:N,cells:K,meshColor:Z}}(z.position,z.delaunayColor,z.delaunayAxis);R.opacity=f.opacity,this.delaunayMesh?this.delaunayMesh.update(R):(R.gl=P,this.delaunayMesh=_(R),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},c.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},q.exports=function(f,S){var T=new p(f,S.uid);return T.update(S),T}},21428:function(q,C,e){var M=e(73972),k=e(71828),a=e(34098),_=e(49508),b=e(11058),h=e(82410),o=e(44542);q.exports=function(t,i,n,r){function l(v,y){return k.coerce(t,i,o,v,y)}var s=function(v,y,m,w){var f=0,S=m("x"),T=m("y"),E=m("z");return M.getComponentMethod("calendars","handleTraceDefaults")(v,y,["x","y","z"],w),S&&T&&E&&(f=Math.min(S.length,T.length,E.length),y._length=y._xlength=y._ylength=y._zlength=f),f}(t,i,l,r);if(s){l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),a.hasMarkers(i)&&_(t,i,n,r,l,{noSelect:!0,noAngle:!0}),a.hasLines(i)&&(l("connectgaps"),b(t,i,n,r,l)),a.hasText(i)&&(l("texttemplate"),h(t,i,r,l,{noSelect:!0}));var u=(i.line||{}).color,p=(i.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",u||p);for(var c=["x","y","z"],x=0;x<3;++x){var g="projection."+c[x];l(g+".show")&&(l(g+".opacity"),l(g+".scale"))}var d=M.getComponentMethod("errorbars","supplyDefaults");d(t,i,u||p||n,{axis:"z"}),d(t,i,u||p||n,{axis:"y",inherit:"z"}),d(t,i,u||p||n,{axis:"x",inherit:"z"})}else i.visible=!1}},13551:function(q,C,e){q.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(q,C,e){var M=e(82196),k=e(9012),a=e(5386).fF,_=e(5386).si,b=e(50693),h=e(1426).extendFlat,o=M.marker,t=M.line,i=o.line;q.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:h({},M.mode,{dflt:"markers"}),text:h({},M.text,{}),texttemplate:_({editType:"plot"},{keys:["a","b","text"]}),hovertext:h({},M.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:h({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:M.connectgaps,fill:h({},M.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:M.fillcolor,marker:h({symbol:o.symbol,opacity:o.opacity,maxdisplayed:o.maxdisplayed,angle:o.angle,angleref:o.angleref,standoff:o.standoff,size:o.size,sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode,line:h({width:i.width,editType:"calc"},b("marker.line")),gradient:o.gradient,editType:"calc"},b("marker")),textfont:M.textfont,textposition:M.textposition,selected:M.selected,unselected:M.unselected,hoverinfo:h({},k.hoverinfo,{flags:["a","b","text","name"]}),hoveron:M.hoveron,hovertemplate:a()}},34618:function(q,C,e){var M=e(92770),k=e(36922),a=e(75225),_=e(66279),b=e(47761).calcMarkerSize,h=e(22882);q.exports=function(o,t){var i=t._carpetTrace=h(o,t);if(i&&i.visible&&i.visible!=="legendonly"){var n;t.xaxis=i.xaxis,t.yaxis=i.yaxis;var r,l,s=t._length,u=new Array(s),p=!1;for(n=0;n<s;n++)if(r=t.a[n],l=t.b[n],M(r)&&M(l)){var c=i.ab2xy(+r,+l,!0),x=i.isVisible(+r,+l);x||(p=!0),u[n]={x:c[0],y:c[1],a:r,b:l,vis:x}}else u[n]={x:!1,y:!1};return t._needsCull=p,u[0].carpet=i,u[0].trace=t,b(t,s),k(o,t),a(u,t),_(u,t),u}}},98965:function(q,C,e){var M=e(71828),k=e(47581),a=e(34098),_=e(49508),b=e(11058),h=e(94039),o=e(82410),t=e(28908),i=e(97001);q.exports=function(n,r,l,s){function u(d,v){return M.coerce(n,r,i,d,v)}u("carpet"),r.xaxis="x",r.yaxis="y";var p=u("a"),c=u("b"),x=Math.min(p.length,c.length);if(x){r._length=x,u("text"),u("texttemplate"),u("hovertext"),u("mode",x<k.PTS_LINESONLY?"lines+markers":"lines"),a.hasMarkers(r)&&_(n,r,l,s,u,{gradient:!0}),a.hasLines(r)&&(b(n,r,l,s,u,{backoff:!0}),h(n,r,u),u("connectgaps")),a.hasText(r)&&o(n,r,s,u);var g=[];(a.hasMarkers(r)||a.hasText(r))&&(u("marker.maxdisplayed"),g.push("points")),u("fill"),r.fill!=="none"&&(t(n,r,l,u),a.hasLines(r)||h(n,r,u)),r.fill!=="tonext"&&r.fill!=="toself"||g.push("fills"),u("hoveron",g.join("+")||"points")!=="fills"&&u("hovertemplate"),M.coerceSelectionMarkerOpacity(r,u)}else r.visible=!1}},16165:function(q){q.exports=function(C,e,M,k,a){var _=k[a];return C.a=_.a,C.b=_.b,C.y=_.y,C}},48953:function(q){q.exports=function(C,e){var M={},k=e._carpet,a=k.ab2ij([C.a,C.b]),_=Math.floor(a[0]),b=a[0]-_,h=Math.floor(a[1]),o=a[1]-h,t=k.evalxy([],_,h,b,o);return M.yLabel=t[1].toFixed(3),M}},22931:function(q,C,e){var M=e(33720),k=e(71828).fillText;q.exports=function(a,_,b,h){var o=M(a,_,b,h);if(o&&o[0].index!==!1){var t=o[0];if(t.index===void 0){var i=1-t.y0/a.ya._length,n=a.xa._length,r=n*i/2,l=n-r;return t.x0=Math.max(Math.min(t.x0,l),r),t.x1=Math.max(Math.min(t.x1,l),r),o}var s=t.cd[t.index];t.a=s.a,t.b=s.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var u=t.trace,p=u._carpet,c=u._module.formatLabels(s,u);t.yLabel=c.yLabel,delete t.text;var x=[];if(!u.hovertemplate){var g=(s.hi||u.hoverinfo).split("+");g.indexOf("all")!==-1&&(g=["a","b","text"]),g.indexOf("a")!==-1&&d(p.aaxis,s.a),g.indexOf("b")!==-1&&d(p.baxis,s.b),x.push("y: "+t.yLabel),g.indexOf("text")!==-1&&k(s,u,x),t.extraText=x.join("<br>")}return o}function d(v,y){var m;m=v.labelprefix&&v.labelprefix.length>0?v.labelprefix.replace(/ = $/,""):v._hovertitle,x.push(m+": "+y.toFixed(3)+v.labelsuffix)}}},46858:function(q,C,e){q.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(q,C,e){var M=e(32663),k=e(89298),a=e(91424);q.exports=function(_,b,h,o){var t,i,n,r=h[0][0].carpet,l=k.getFromId(_,r.xaxis||"x"),s=k.getFromId(_,r.yaxis||"y"),u={xaxis:l,yaxis:s,plot:b.plot};for(t=0;t<h.length;t++)(i=h[t][0].trace)._xA=l,i._yA=s;for(M(_,u,h,o),t=0;t<h.length;t++)i=h[t][0].trace,n=o.selectAll("g.trace"+i.uid+" .js-line"),a.setClipUrl(n,h[t][0].carpet._clipPathId,_)}},19316:function(q,C,e){var M=e(5386).fF,k=e(5386).si,a=e(82196),_=e(9012),b=e(50693),h=e(79952).P,o=e(1426).extendFlat,t=e(30962).overrideAll,i=a.marker,n=a.line,r=i.line;q.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:o({},a.mode,{dflt:"markers"}),text:o({},a.text,{}),texttemplate:k({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:o({},a.hovertext,{}),textfont:a.textfont,textposition:a.textposition,line:{color:n.color,width:n.width,dash:h},connectgaps:a.connectgaps,marker:o({symbol:i.symbol,opacity:i.opacity,angle:i.angle,angleref:o({},i.angleref,{values:["previous","up","north"]}),standoff:i.standoff,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,colorbar:i.colorbar,line:o({width:r.width},b("marker.line")),gradient:i.gradient},b("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:a.fillcolor,selected:a.selected,unselected:a.unselected,hoverinfo:o({},_.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:M()},"calc","nested")},84622:function(q,C,e){var M=e(92770),k=e(50606).BADNUM,a=e(36922),_=e(75225),b=e(66279),h=e(71828).isArrayOrTypedArray,o=e(71828)._;function t(i){return i&&typeof i=="string"}q.exports=function(i,n){var r,l=h(n.locations),s=l?n.locations.length:n._length,u=new Array(s);r=n.geojson?function(v){return t(v)||M(v)}:t;for(var p=0;p<s;p++){var c=u[p]={};if(l){var x=n.locations[p];c.loc=r(x)?x:null}else{var g=n.lon[p],d=n.lat[p];M(g)&&M(d)?c.lonlat=[+g,+d]:c.lonlat=[k,k]}}return _(u,n),a(i,n),b(u,n),s&&(u[0].t={labels:{lat:o(i,"lat:")+" ",lon:o(i,"lon:")+" "}}),u}},10659:function(q,C,e){var M=e(71828),k=e(34098),a=e(49508),_=e(11058),b=e(82410),h=e(28908),o=e(19316);q.exports=function(t,i,n,r){function l(d,v){return M.coerce(t,i,o,d,v)}var s,u=l("locations");if(u&&u.length){var p,c=l("geojson");(typeof c=="string"&&c!==""||M.isPlainObject(c))&&(p="geojson-id"),l("locationmode",p)==="geojson-id"&&l("featureidkey"),s=u.length}else{var x=l("lon")||[],g=l("lat")||[];s=Math.min(x.length,g.length)}s?(i._length=s,l("text"),l("hovertext"),l("hovertemplate"),l("mode"),k.hasMarkers(i)&&a(t,i,n,r,l,{gradient:!0}),k.hasLines(i)&&(_(t,i,n,r,l),l("connectgaps")),k.hasText(i)&&(l("texttemplate"),b(t,i,r,l)),l("fill"),i.fill!=="none"&&h(t,i,n,l),M.coerceSelectionMarkerOpacity(i,l)):i.visible=!1}},84084:function(q){q.exports=function(C,e,M,k,a){C.lon=e.lon,C.lat=e.lat,C.location=e.loc?e.loc:null;var _=k[a];return _.fIn&&_.fIn.properties&&(C.properties=_.fIn.properties),C}},82719:function(q,C,e){var M=e(89298);q.exports=function(k,a,_){var b={},h=_[a.geo]._subplot.mockAxis,o=k.lonlat;return b.lonLabel=M.tickText(h,h.c2l(o[0]),!0).text,b.latLabel=M.tickText(h,h.c2l(o[1]),!0).text,b}},14977:function(q,C,e){var M=e(30211),k=e(50606).BADNUM,a=e(34603),_=e(71828).fillText,b=e(19316);q.exports=function(h,o,t){var i=h.cd,n=i[0].trace,r=h.xa,l=h.ya,s=h.subplot,u=s.projection.isLonLatOverEdges,p=s.project;if(M.getClosest(i,function(m){var w=m.lonlat;if(w[0]===k||u(w))return 1/0;var f=p(w),S=p([o,t]),T=Math.abs(f[0]-S[0]),E=Math.abs(f[1]-S[1]),O=Math.max(3,m.mrc||0);return Math.max(Math.sqrt(T*T+E*E)-O,1-3/O)},h),h.index!==!1){var c=i[h.index],x=c.lonlat,g=[r.c2p(x),l.c2p(x)],d=c.mrc||1;h.x0=g[0]-d,h.x1=g[0]+d,h.y0=g[1]-d,h.y1=g[1]+d,h.loc=c.loc,h.lon=x[0],h.lat=x[1];var v={};v[n.geo]={_subplot:s};var y=n._module.formatLabels(c,n,v);return h.lonLabel=y.lonLabel,h.latLabel=y.latLabel,h.color=a(n,c),h.extraText=function(m,w,f,S){if(!m.hovertemplate){var T=w.hi||m.hoverinfo,E=T==="all"?b.hoverinfo.flags:T.split("+"),O=E.indexOf("location")!==-1&&Array.isArray(m.locations),P=E.indexOf("lon")!==-1,I=E.indexOf("lat")!==-1,z=E.indexOf("text")!==-1,j=[];return O?j.push(w.loc):P&&I?j.push("("+R(f.latLabel)+", "+R(f.lonLabel)+")"):P?j.push(S.lon+R(f.lonLabel)):I&&j.push(S.lat+R(f.latLabel)),z&&_(w,m,j),j.join("<br>")}function R(N){return N+""}}(n,c,h,i[0].t.labels),h.hovertemplate=n.hovertemplate,[h]}}},17988:function(q,C,e){q.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(q,C,e){var M=e(39898),k=e(71828),a=e(90973).getTopojsonFeatures,_=e(18214),b=e(41327),h=e(71739).findExtremes,o=e(50606).BADNUM,t=e(47761).calcMarkerSize,i=e(34098),n=e(33095);q.exports={calcGeoJSON:function(r,l){var s,u,p=r[0].trace,c=l[p.geo],x=c._subplot,g=p._length;if(k.isArrayOrTypedArray(p.locations)){var d=p.locationmode,v=d==="geojson-id"?b.extractTraceFeature(r):a(p,x.topojson);for(s=0;s<g;s++){u=r[s];var y=d==="geojson-id"?u.fOut:b.locationToFeature(d,u.loc,v);u.lonlat=y?y.properties.ct:[o,o]}}var m,w,f={padded:!0};if(c.fitbounds==="geojson"&&p.locationmode==="geojson-id"){var S=b.computeBbox(b.getTraceGeojson(p));m=[S[0],S[2]],w=[S[1],S[3]]}else{for(m=new Array(g),w=new Array(g),s=0;s<g;s++)u=r[s],m[s]=u.lonlat[0],w[s]=u.lonlat[1];f.ppad=t(p,g)}p._extremes.lon=h(c.lonaxis._ax,m,f),p._extremes.lat=h(c.lataxis._ax,w,f)},plot:function(r,l,s){var u=l.layers.frontplot.select(".scatterlayer"),p=k.makeTraceGroups(u,s,"trace scattergeo");function c(x,g){x.lonlat[0]===o&&M.select(g).remove()}p.selectAll("*").remove(),p.each(function(x){var g=M.select(this),d=x[0].trace;if(i.hasLines(d)||d.fill!=="none"){var v=_.calcTraceToLineCoords(x),y=d.fill!=="none"?_.makePolygon(v):_.makeLine(v);g.selectAll("path.js-line").data([{geojson:y,trace:d}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}i.hasMarkers(d)&&g.selectAll("path.point").data(k.identity).enter().append("path").classed("point",!0).each(function(m){c(m,this)}),i.hasText(d)&&g.selectAll("g").data(k.identity).enter().append("g").append("text").each(function(m){c(m,this)}),n(r,x)})}}},20548:function(q,C,e){var M=e(34098),k=e(50606).BADNUM;q.exports=function(a,_){var b,h,o,t,i,n=a.cd,r=a.xaxis,l=a.yaxis,s=[],u=n[0].trace;if(!M.hasMarkers(u)&&!M.hasText(u))return[];if(_===!1)for(i=0;i<n.length;i++)n[i].selected=0;else for(i=0;i<n.length;i++)(h=(b=n[i]).lonlat)[0]!==k&&(o=r.c2p(h),t=l.c2p(h),_.contains([o,t],null,i,a)?(s.push({pointNumber:i,lon:h[0],lat:h[1]}),b.selected=1):b.selected=0);return s}},33095:function(q,C,e){var M=e(39898),k=e(91424),a=e(7901),_=e(16296),b=_.stylePoints,h=_.styleText;q.exports=function(o,t){t&&function(i,n){var r=n[0].trace,l=n[0].node3;l.style("opacity",n[0].trace.opacity),b(l,r,i),h(l,r,i),l.selectAll("path.js-line").style("fill","none").each(function(s){var u=M.select(this),p=s.trace,c=p.line||{};u.call(a.stroke,c.color).call(k.dashLine,c.dash||"",c.width||0),p.fill!=="none"&&u.call(a.fill,p.fillcolor)})}(o,t)}},42341:function(q,C,e){var M=e(9012),k=e(82196),a=e(12663).axisHoverFormat,_=e(50693),b=e(78607),h=e(1426).extendFlat,o=e(30962).overrideAll,t=e(78232).DASHES,i=k.line,n=k.marker,r=n.line,l=q.exports=o({x:k.x,x0:k.x0,dx:k.dx,y:k.y,y0:k.y0,dy:k.dy,xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),text:k.text,hovertext:k.hovertext,textposition:k.textposition,textfont:k.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:i.color,width:i.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:b(t),dflt:"solid"}},marker:h({},_("marker"),{symbol:n.symbol,angle:n.angle,size:n.size,sizeref:n.sizeref,sizemin:n.sizemin,sizemode:n.sizemode,opacity:n.opacity,colorbar:n.colorbar,line:h({},_("marker.line"),{width:r.width})}),connectgaps:k.connectgaps,fill:h({},k.fill,{dflt:"none"}),fillcolor:k.fillcolor,selected:{marker:k.selected.marker,textfont:k.selected.textfont},unselected:{marker:k.unselected.marker,textfont:k.unselected.textfont},opacity:M.opacity},"calc","nested");l.x.editType=l.y.editType=l.x0.editType=l.y0.editType="calc+clearAxisTypes",l.hovertemplate=k.hovertemplate,l.texttemplate=k.texttemplate},72156:function(q,C,e){var M=e(20794);q.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:M.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(q,C,e){var M=e(88294),k=e(71828),a=e(41675),_=e(71739).findExtremes,b=e(42973),h=e(47761),o=h.calcMarkerSize,t=h.calcAxisExpansion,i=h.setFirstScatter,n=e(36922),r=e(19635),l=e(38967),s=e(50606).BADNUM,u=e(78232).TOO_MANY_POINTS;function p(c,x,g){var d=c._extremes[x._id],v=_(x,g._bnds,{padded:!0});d.min=d.min.concat(v.min),d.max=d.max.concat(v.max)}q.exports=function(c,x){var g,d=c._fullLayout,v=x._xA=a.getFromId(c,x.xaxis,"x"),y=x._yA=a.getFromId(c,x.yaxis,"y"),m=d._plots[x.xaxis+x.yaxis],w=x._length,f=w>=u,S=2*w,T={},E=v.makeCalcdata(x,"x"),O=y.makeCalcdata(x,"y"),P=b(x,v,"x",E),I=b(x,y,"y",O),z=P.vals,j=I.vals;x._x=z,x._y=j,x.xperiodalignment&&(x._origX=E,x._xStarts=P.starts,x._xEnds=P.ends),x.yperiodalignment&&(x._origY=O,x._yStarts=I.starts,x._yEnds=I.ends);var R=new Array(S),N=new Array(w);for(g=0;g<w;g++)R[2*g]=z[g]===s?NaN:z[g],R[2*g+1]=j[g]===s?NaN:j[g],N[g]=g;if(v.type==="log")for(g=0;g<S;g+=2)R[g]=v.c2l(R[g]);if(y.type==="log")for(g=1;g<S;g+=2)R[g]=y.c2l(R[g]);f&&v.type!=="log"&&y.type!=="log"?T.tree=M(R):T.ids=N,n(c,x);var Z,F=function(V,te,Q,J,X,K){var ee=r.style(V,Q);if(ee.marker&&(ee.marker.positions=J),ee.line&&J.length>1&&k.extendFlat(ee.line,r.linePositions(V,Q,J)),ee.errorX||ee.errorY){var re=r.errorBarPositions(V,Q,J,X,K);ee.errorX&&k.extendFlat(ee.errorX,re.x),ee.errorY&&k.extendFlat(ee.errorY,re.y)}return ee.text&&(k.extendFlat(ee.text,{positions:J},r.textPosition(V,Q,ee.text,ee.marker)),k.extendFlat(ee.textSel,{positions:J},r.textPosition(V,Q,ee.text,ee.markerSel)),k.extendFlat(ee.textUnsel,{positions:J},r.textPosition(V,Q,ee.text,ee.markerUnsel))),ee}(c,0,x,R,z,j),U=l(c,m);return i(d,x),f?F.marker&&(Z=F.marker.sizeAvg||Math.max(F.marker.size,3)):Z=o(x,w),t(c,x,v,y,z,j,Z),F.errorX&&p(x,v,F.errorX),F.errorY&&p(x,y,F.errorY),F.fill&&!U.fill2d&&(U.fill2d=!0),F.marker&&!U.scatter2d&&(U.scatter2d=!0),F.line&&!U.line2d&&(U.line2d=!0),!F.errorX&&!F.errorY||U.error2d||(U.error2d=!0),F.text&&!U.glText&&(U.glText=!0),F.marker&&(F.marker.snap=w),U.lineOptions.push(F.line),U.errorXOptions.push(F.errorX),U.errorYOptions.push(F.errorY),U.fillOptions.push(F.fill),U.markerOptions.push(F.marker),U.markerSelectedOptions.push(F.markerSel),U.markerUnselectedOptions.push(F.markerUnsel),U.textOptions.push(F.text),U.textSelectedOptions.push(F.textSel),U.textUnselectedOptions.push(F.textUnsel),U.selectBatch.push([]),U.unselectBatch.push([]),T._scene=U,T.index=U.count,T.x=z,T.y=j,T.positions=R,U.count++,[{x:!1,y:!1,t:T,trace:x}]}},78232:function(q){q.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(q,C,e){var M=e(92770),k=e(82019),a=e(25075),_=e(73972),b=e(71828),h=b.isArrayOrTypedArray,o=e(91424),t=e(41675),i=e(81697).formatColor,n=e(34098),r=e(39984),l=e(68645),s=e(78232),u=e(37822).DESELECTDIM,p={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},c=e(23469).appendArrayPointValue;function x(O,P){var I,z=O._fullLayout,j=P._length,R=P.textfont,N=P.textposition,Z=h(N)?N:[N],F=R.color,U=R.size,V=R.family,te={},Q=O._context.plotGlPixelRatio,J=P.texttemplate;if(J){te.text=[];var X=z._d3locale,K=Array.isArray(J),ee=K?Math.min(J.length,j):j,re=K?function(be){return J[be]}:function(){return J};for(I=0;I<ee;I++){var ie={i:I},ae=P._module.formatLabels(ie,P,z),ue={};c(ue,P,I);var pe=P._meta||{};te.text.push(b.texttemplateString(re(I),ae,X,ue,ie,pe))}}else h(P.text)&&P.text.length<j?te.text=P.text.slice():te.text=P.text;if(h(te.text))for(I=te.text.length;I<j;I++)te.text[I]="";for(te.opacity=P.opacity,te.font={},te.align=[],te.baseline=[],I=0;I<Z.length;I++){var de=Z[I].split(/\s+/);switch(de[1]){case"left":te.align.push("right");break;case"right":te.align.push("left");break;default:te.align.push(de[1])}switch(de[0]){case"top":te.baseline.push("bottom");break;case"bottom":te.baseline.push("top");break;default:te.baseline.push(de[0])}}if(h(F))for(te.color=new Array(j),I=0;I<j;I++)te.color[I]=F[I];else te.color=F;if(h(U)||h(V))for(te.font=new Array(j),I=0;I<j;I++){var ye=te.font[I]={};ye.size=(b.isTypedArray(U)?U[I]:h(U)?M(U[I])?U[I]:0:U)*Q,ye.family=h(V)?V[I]:V}else te.font={size:U*Q,family:V};return te}function g(O,P){var I,z,j=P._length,R=P.marker,N={},Z=h(R.symbol),F=h(R.angle),U=h(R.color),V=h(R.line.color),te=h(R.opacity),Q=h(R.size),J=h(R.line.width);if(Z||(z=l.isOpenSymbol(R.symbol)),Z||U||V||te||F){N.symbols=new Array(j),N.angles=new Array(j),N.colors=new Array(j),N.borderColors=new Array(j);var X=R.symbol,K=R.angle,ee=i(R,R.opacity,j),re=i(R.line,R.opacity,j);if(!h(re[0])){var ie=re;for(re=Array(j),I=0;I<j;I++)re[I]=ie}if(!h(ee[0])){var ae=ee;for(ee=Array(j),I=0;I<j;I++)ee[I]=ae}if(!h(X)){var ue=X;for(X=Array(j),I=0;I<j;I++)X[I]=ue}if(!h(K)){var pe=K;for(K=Array(j),I=0;I<j;I++)K[I]=pe}for(N.symbols=X,N.angles=K,N.colors=ee,N.borderColors=re,I=0;I<j;I++)Z&&(z=l.isOpenSymbol(R.symbol[I])),z&&(re[I]=ee[I].slice(),ee[I]=ee[I].slice(),ee[I][3]=0);for(N.opacity=P.opacity,N.markers=new Array(j),I=0;I<j;I++)N.markers[I]=E({mx:N.symbols[I],ma:N.angles[I]},P)}else z?(N.color=a(R.color,"uint8"),N.color[3]=0,N.borderColor=a(R.color,"uint8")):(N.color=a(R.color,"uint8"),N.borderColor=a(R.line.color,"uint8")),N.opacity=P.opacity*R.opacity,N.marker=E({mx:R.symbol,ma:R.angle},P);var de,ye=r(P,1);if(Q||J){var be,me=N.sizes=new Array(j),Ee=N.borderSizes=new Array(j),Te=0;if(Q){for(I=0;I<j;I++)me[I]=ye(R.size[I]),Te+=me[I];be=Te/j}else for(de=ye(R.size),I=0;I<j;I++)me[I]=de;if(J)for(I=0;I<j;I++)Ee[I]=R.line.width[I];else for(de=R.line.width,I=0;I<j;I++)Ee[I]=de;N.sizeAvg=be}else N.size=ye(R&&R.size||10),N.borderSizes=ye(R.line.width);return N}function d(O,P,I){var z=P.marker,j={};return I&&(I.marker&&I.marker.symbol?j=g(0,b.extendFlat({},z,I.marker)):I.marker&&(I.marker.size&&(j.size=I.marker.size),I.marker.color&&(j.colors=I.marker.color),I.marker.opacity!==void 0&&(j.opacity=I.marker.opacity))),j}function v(O,P,I){var z={};if(!I)return z;if(I.textfont){var j={opacity:1,text:P.text,texttemplate:P.texttemplate,textposition:P.textposition,textfont:b.extendFlat({},P.textfont)};I.textfont&&b.extendFlat(j.textfont,I.textfont),z=x(O,j)}return z}function y(O,P,I){var z={capSize:2*P.width*I,lineWidth:P.thickness*I,color:P.color};return P.copy_ystyle&&(z=O.error_y),z}var m=s.SYMBOL_SDF_SIZE,w=s.SYMBOL_SIZE,f=s.SYMBOL_STROKE,S={},T=o.symbolFuncs[0](.05*w);function E(O,P){var I,z,j=O.mx;if(j==="circle")return null;var R=o.symbolNumber(j),N=o.symbolFuncs[R%100],Z=!!o.symbolNoDot[R%100],F=!!o.symbolNoFill[R%100],U=l.isDotSymbol(j);if(O.ma&&(j+="_"+O.ma),S[j])return S[j];var V=o.getMarkerAngle(O,P);return I=U&&!Z?N(1.1*w,V)+T:N(w,V),z=k(I,{w:m,h:m,viewBox:[-w,-w,w,w],stroke:F?f:-f}),S[j]=z,z||null}q.exports={style:function(O,P){var I,z={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},j=O._context.plotGlPixelRatio;if(P.visible!==!0)return z;if(n.hasText(P)&&(z.text=x(O,P),z.textSel=v(O,P,P.selected),z.textUnsel=v(O,P,P.unselected)),n.hasMarkers(P)&&(z.marker=g(0,P),z.markerSel=d(0,P,P.selected),z.markerUnsel=d(0,P,P.unselected),!P.unselected&&h(P.marker.opacity))){var R=P.marker.opacity;for(z.markerUnsel.opacity=new Array(R.length),I=0;I<R.length;I++)z.markerUnsel.opacity[I]=u*R[I]}if(n.hasLines(P)){z.line={overlay:!0,thickness:P.line.width*j,color:P.line.color,opacity:P.opacity};var N=(s.DASHES[P.line.dash]||[1]).slice();for(I=0;I<N.length;++I)N[I]*=P.line.width*j;z.line.dashes=N}return P.error_x&&P.error_x.visible&&(z.errorX=y(P,P.error_x,j)),P.error_y&&P.error_y.visible&&(z.errorY=y(P,P.error_y,j)),P.fill&&P.fill!=="none"&&(z.fill={closed:!0,fill:P.fillcolor,thickness:0}),z},markerStyle:g,markerSelection:d,linePositions:function(O,P,I){var z,j,R=I.length,N=R/2;if(n.hasLines(P)&&N)if(P.line.shape==="hv"){for(z=[],j=0;j<N-1;j++)isNaN(I[2*j])||isNaN(I[2*j+1])?z.push(NaN,NaN,NaN,NaN):(z.push(I[2*j],I[2*j+1]),isNaN(I[2*j+2])||isNaN(I[2*j+3])?z.push(NaN,NaN):z.push(I[2*j+2],I[2*j+1]));z.push(I[R-2],I[R-1])}else if(P.line.shape==="hvh"){for(z=[],j=0;j<N-1;j++)if(isNaN(I[2*j])||isNaN(I[2*j+1])||isNaN(I[2*j+2])||isNaN(I[2*j+3]))isNaN(I[2*j])||isNaN(I[2*j+1])?z.push(NaN,NaN):z.push(I[2*j],I[2*j+1]),z.push(NaN,NaN);else{var Z=(I[2*j]+I[2*j+2])/2;z.push(I[2*j],I[2*j+1],Z,I[2*j+1],Z,I[2*j+3])}z.push(I[R-2],I[R-1])}else if(P.line.shape==="vhv"){for(z=[],j=0;j<N-1;j++)if(isNaN(I[2*j])||isNaN(I[2*j+1])||isNaN(I[2*j+2])||isNaN(I[2*j+3]))isNaN(I[2*j])||isNaN(I[2*j+1])?z.push(NaN,NaN):z.push(I[2*j],I[2*j+1]),z.push(NaN,NaN);else{var F=(I[2*j+1]+I[2*j+3])/2;z.push(I[2*j],I[2*j+1],I[2*j],F,I[2*j+2],F)}z.push(I[R-2],I[R-1])}else if(P.line.shape==="vh"){for(z=[],j=0;j<N-1;j++)isNaN(I[2*j])||isNaN(I[2*j+1])?z.push(NaN,NaN,NaN,NaN):(z.push(I[2*j],I[2*j+1]),isNaN(I[2*j+2])||isNaN(I[2*j+3])?z.push(NaN,NaN):z.push(I[2*j],I[2*j+3]));z.push(I[R-2],I[R-1])}else z=I;var U=!1;for(j=0;j<z.length;j++)if(isNaN(z[j])){U=!0;break}var V=U||z.length>s.TOO_MANY_POINTS||n.hasMarkers(P)?"rect":"round";if(U&&P.connectgaps){var te=z[0],Q=z[1];for(j=0;j<z.length;j+=2)isNaN(z[j])||isNaN(z[j+1])?(z[j]=te,z[j+1]=Q):(te=z[j],Q=z[j+1])}return{join:V,positions:z}},errorBarPositions:function(O,P,I,z,j){var R=_.getComponentMethod("errorbars","makeComputeError"),N=t.getFromId(O,P.xaxis,"x"),Z=t.getFromId(O,P.yaxis,"y"),F=I.length/2,U={};function V(te,Q){var J=Q._id.charAt(0),X=P["error_"+J];if(X&&X.visible&&(Q.type==="linear"||Q.type==="log")){for(var K=R(X),ee={x:0,y:1}[J],re={x:[0,1,2,3],y:[2,3,0,1]}[J],ie=new Float64Array(4*F),ae=1/0,ue=-1/0,pe=0,de=0;pe<F;pe++,de+=4){var ye=te[pe];if(M(ye)){var be=I[2*pe+ee],me=K(ye,pe),Ee=me[0],Te=me[1];if(M(Ee)&&M(Te)){var we=ye-Ee,oe=ye+Te;ie[de+re[0]]=be-Q.c2l(we),ie[de+re[1]]=Q.c2l(oe)-be,ie[de+re[2]]=0,ie[de+re[3]]=0,ae=Math.min(ae,ye-Ee),ue=Math.max(ue,ye+Te)}}}U[J]={positions:I,errors:ie,_bnds:[ae,ue]}}}return V(z,N),V(j,Z),U},textPosition:function(O,P,I,z){var j,R=P._length,N={};if(n.hasMarkers(P)){var Z=I.font,F=I.align,U=I.baseline;for(N.offset=new Array(R),j=0;j<R;j++){var V=z.sizes?z.sizes[j]:z.size,te=h(Z)?Z[j].size:Z.size,Q=h(F)?F.length>1?F[j]:F[0]:F,J=h(U)?U.length>1?U[j]:U[0]:U,X=p[Q],K=p[J],ee=V?V/.8+1:0,re=-K*ee-.5*K;N.offset[j]=[X*ee/te,re/te]}}return N}}},47148:function(q,C,e){var M=e(71828),k=e(73972),a=e(68645),_=e(42341),b=e(47581),h=e(34098),o=e(67513),t=e(73927),i=e(49508),n=e(11058),r=e(28908),l=e(82410);q.exports=function(s,u,p,c){function x(S,T){return M.coerce(s,u,_,S,T)}var g=!!s.marker&&a.isOpenSymbol(s.marker.symbol),d=h.isBubble(s),v=o(s,u,c,x);if(v){t(s,u,c,x),x("xhoverformat"),x("yhoverformat");var y=v<b.PTS_LINESONLY?"lines+markers":"lines";x("text"),x("hovertext"),x("hovertemplate"),x("mode",y),h.hasMarkers(u)&&(i(s,u,p,c,x,{noAngleRef:!0,noStandOff:!0}),x("marker.line.width",g||d?1:0)),h.hasLines(u)&&(x("connectgaps"),n(s,u,p,c,x),x("line.shape")),h.hasText(u)&&(x("texttemplate"),l(s,u,c,x));var m=(u.line||{}).color,w=(u.marker||{}).color;x("fill"),u.fill!=="none"&&r(s,u,p,x);var f=k.getComponentMethod("errorbars","supplyDefaults");f(s,u,m||w||p,{axis:"y"}),f(s,u,m||w||p,{axis:"x",inherit:"y"}),M.coerceSelectionMarkerOpacity(u,x)}else u.visible=!1}},5345:function(q,C,e){var M=e(71828),k=e(7901),a=e(37822).DESELECTDIM;q.exports={styleTextSelection:function(_){var b,h,o=_[0],t=o.trace,i=o.t,n=i._scene,r=i.index,l=n.selectBatch[r],s=n.unselectBatch[r],u=n.textOptions[r],p=n.textSelectedOptions[r]||{},c=n.textUnselectedOptions[r]||{},x=M.extendFlat({},u);if(l.length||s.length){var g=p.color,d=c.color,v=u.color,y=M.isArrayOrTypedArray(v);for(x.color=new Array(t._length),b=0;b<l.length;b++)h=l[b],x.color[h]=g||(y?v[h]:v);for(b=0;b<s.length;b++){h=s[b];var m=y?v[h]:v;x.color[h]=d||(g?m:k.addOpacity(m,a))}}n.glText[r].update(x)}}},68101:function(q,C,e){var M=e(8225);q.exports=function(k,a,_){var b=k.i;return"x"in k||(k.x=a._x[b]),"y"in k||(k.y=a._y[b]),M(k,a,_)}},68645:function(q,C,e){var M=e(78232);C.isOpenSymbol=function(k){return typeof k=="string"?M.OPEN_RE.test(k):k%200>100},C.isDotSymbol=function(k){return typeof k=="string"?M.DOT_RE.test(k):k>200}},20794:function(q,C,e){var M=e(73972),k=e(71828),a=e(34603);function _(b,h,o,t){var i=b.xa,n=b.ya,r=b.distance,l=b.dxy,s=b.index,u={pointNumber:s,x:h[s],y:o[s]};u.tx=k.isArrayOrTypedArray(t.text)?t.text[s]:t.text,u.htx=Array.isArray(t.hovertext)?t.hovertext[s]:t.hovertext,u.data=Array.isArray(t.customdata)?t.customdata[s]:t.customdata,u.tp=Array.isArray(t.textposition)?t.textposition[s]:t.textposition;var p=t.textfont;p&&(u.ts=k.isArrayOrTypedArray(p.size)?p.size[s]:p.size,u.tc=Array.isArray(p.color)?p.color[s]:p.color,u.tf=Array.isArray(p.family)?p.family[s]:p.family);var c=t.marker;c&&(u.ms=k.isArrayOrTypedArray(c.size)?c.size[s]:c.size,u.mo=k.isArrayOrTypedArray(c.opacity)?c.opacity[s]:c.opacity,u.mx=k.isArrayOrTypedArray(c.symbol)?c.symbol[s]:c.symbol,u.ma=k.isArrayOrTypedArray(c.angle)?c.angle[s]:c.angle,u.mc=k.isArrayOrTypedArray(c.color)?c.color[s]:c.color);var x=c&&c.line;x&&(u.mlc=Array.isArray(x.color)?x.color[s]:x.color,u.mlw=k.isArrayOrTypedArray(x.width)?x.width[s]:x.width);var g=c&&c.gradient;g&&g.type!=="none"&&(u.mgt=Array.isArray(g.type)?g.type[s]:g.type,u.mgc=Array.isArray(g.color)?g.color[s]:g.color);var d=i.c2p(u.x,!0),v=n.c2p(u.y,!0),y=u.mrc||1,m=t.hoverlabel;m&&(u.hbg=Array.isArray(m.bgcolor)?m.bgcolor[s]:m.bgcolor,u.hbc=Array.isArray(m.bordercolor)?m.bordercolor[s]:m.bordercolor,u.hts=k.isArrayOrTypedArray(m.font.size)?m.font.size[s]:m.font.size,u.htc=Array.isArray(m.font.color)?m.font.color[s]:m.font.color,u.htf=Array.isArray(m.font.family)?m.font.family[s]:m.font.family,u.hnl=k.isArrayOrTypedArray(m.namelength)?m.namelength[s]:m.namelength);var w=t.hoverinfo;w&&(u.hi=Array.isArray(w)?w[s]:w);var f=t.hovertemplate;f&&(u.ht=Array.isArray(f)?f[s]:f);var S={};S[b.index]=u;var T=t._origX,E=t._origY,O=k.extendFlat({},b,{color:a(t,u),x0:d-y,x1:d+y,xLabelVal:T?T[s]:u.x,y0:v-y,y1:v+y,yLabelVal:E?E[s]:u.y,cd:S,distance:r,spikeDistance:l,hovertemplate:u.ht});return u.htx?O.text=u.htx:u.tx?O.text=u.tx:t.text&&(O.text=t.text),k.fillText(u,t,O),M.getComponentMethod("errorbars","hoverInfo")(u,t,O),O}q.exports={hoverPoints:function(b,h,o,t){var i,n,r,l,s,u,p,c,x,g,d=b.cd,v=d[0].t,y=d[0].trace,m=b.xa,w=b.ya,f=v.x,S=v.y,T=m.c2p(h),E=w.c2p(o),O=b.distance;if(v.tree){var P=m.p2c(T-O),I=m.p2c(T+O),z=w.p2c(E-O),j=w.p2c(E+O);i=t==="x"?v.tree.range(Math.min(P,I),Math.min(w._rl[0],w._rl[1]),Math.max(P,I),Math.max(w._rl[0],w._rl[1])):v.tree.range(Math.min(P,I),Math.min(z,j),Math.max(P,I),Math.max(z,j))}else i=v.ids;var R=O;if(t==="x"){var N=!!y.xperiodalignment,Z=!!y.yperiodalignment;for(u=0;u<i.length;u++){if(l=f[n=i[u]],p=Math.abs(m.c2p(l)-T),N){var F=m.c2p(y._xStarts[n]),U=m.c2p(y._xEnds[n]);p=T>=Math.min(F,U)&&T<=Math.max(F,U)?0:1/0}if(p<R){if(R=p,s=S[n],c=w.c2p(s)-E,Z){var V=w.c2p(y._yStarts[n]),te=w.c2p(y._yEnds[n]);c=E>=Math.min(V,te)&&E<=Math.max(V,te)?0:1/0}g=Math.sqrt(p*p+c*c),r=i[u]}}}else for(u=i.length-1;u>-1;u--)l=f[n=i[u]],s=S[n],p=m.c2p(l)-T,c=w.c2p(s)-E,(x=Math.sqrt(p*p+c*c))<R&&(R=g=x,r=n);return b.index=r,b.distance=R,b.dxy=g,r===void 0?[b]:[_(b,f,S,y)]},calcHover:_}},68868:function(q,C,e){var M=e(72156);M.plot=e(26787),q.exports=M},26787:function(q,C,e){var M=e(11870),k=e(46075),a=e(3593),_=e(42505),b=e(71828),h=e(64505).selectMode,o=e(79749),t=e(34098),i=e(68687),n=e(5345).styleTextSelection,r={};function l(s,u,p,c){var x=s._size,g=s.width*c,d=s.height*c,v=x.l*c,y=x.b*c,m=x.r*c,w=x.t*c,f=x.w*c,S=x.h*c;return[v+u.domain[0]*f,y+p.domain[0]*S,g-m-(1-u.domain[1])*f,d-w-(1-p.domain[1])*S]}(q.exports=function(s,u,p){if(p.length){var c,x,g=s._fullLayout,d=u._scene,v=u.xaxis,y=u.yaxis;if(d)if(o(s,["ANGLE_instanced_arrays","OES_element_index_uint"],r)){var m=d.count,w=g._glcanvas.data()[0].regl;if(i(s,u,p),d.dirty){if(!d.line2d&&!d.error2d||d.scatter2d||d.fill2d||d.glText||w.clear({}),d.error2d===!0&&(d.error2d=a(w)),d.line2d===!0&&(d.line2d=k(w)),d.scatter2d===!0&&(d.scatter2d=M(w)),d.fill2d===!0&&(d.fill2d=k(w)),d.glText===!0)for(d.glText=new Array(m),c=0;c<m;c++)d.glText[c]=new _(w);if(d.glText){if(m>d.glText.length){var f=m-d.glText.length;for(c=0;c<f;c++)d.glText.push(new _(w))}else if(m<d.glText.length){var S=d.glText.length-m;d.glText.splice(m,S).forEach(function(re){re.destroy()})}for(c=0;c<m;c++)d.glText[c].update(d.textOptions[c])}if(d.line2d&&(d.line2d.update(d.lineOptions),d.lineOptions=d.lineOptions.map(function(re){if(re&&re.positions){for(var ie=re.positions,ae=0;ae<ie.length&&(isNaN(ie[ae])||isNaN(ie[ae+1]));)ae+=2;for(var ue=ie.length-2;ue>ae&&(isNaN(ie[ue])||isNaN(ie[ue+1]));)ue-=2;re.positions=ie.slice(ae,ue+2)}return re}),d.line2d.update(d.lineOptions)),d.error2d){var T=(d.errorXOptions||[]).concat(d.errorYOptions||[]);d.error2d.update(T)}d.scatter2d&&d.scatter2d.update(d.markerOptions),d.fillOrder=b.repeat(null,m),d.fill2d&&(d.fillOptions=d.fillOptions.map(function(re,ie){var ae=p[ie];if(re&&ae&&ae[0]&&ae[0].trace){var ue,pe,de=ae[0],ye=de.trace,be=de.t,me=d.lineOptions[ie],Ee=[];ye._ownfill&&Ee.push(ie),ye._nexttrace&&Ee.push(ie+1),Ee.length&&(d.fillOrder[ie]=Ee);var Te,we,oe=[],se=me&&me.positions||be.positions;if(ye.fill==="tozeroy"){for(Te=0;Te<se.length&&isNaN(se[Te+1]);)Te+=2;for(we=se.length-2;we>Te&&isNaN(se[we+1]);)we-=2;se[Te+1]!==0&&(oe=[se[Te],0]),oe=oe.concat(se.slice(Te,we+2)),se[we+1]!==0&&(oe=oe.concat([se[we],0]))}else if(ye.fill==="tozerox"){for(Te=0;Te<se.length&&isNaN(se[Te]);)Te+=2;for(we=se.length-2;we>Te&&isNaN(se[we]);)we-=2;se[Te]!==0&&(oe=[0,se[Te+1]]),oe=oe.concat(se.slice(Te,we+2)),se[we]!==0&&(oe=oe.concat([0,se[we+1]]))}else if(ye.fill==="toself"||ye.fill==="tonext"){for(oe=[],ue=0,re.splitNull=!0,pe=0;pe<se.length;pe+=2)(isNaN(se[pe])||isNaN(se[pe+1]))&&((oe=oe.concat(se.slice(ue,pe))).push(se[ue],se[ue+1]),oe.push(null,null),ue=pe+2);oe=oe.concat(se.slice(ue)),ue&&oe.push(se[ue],se[ue+1])}else{var he=ye._nexttrace;if(he){var Se=d.lineOptions[ie+1];if(Se){var _e=Se.positions;if(ye.fill==="tonexty"){for(oe=se.slice(),ie=Math.floor(_e.length/2);ie--;){var Ae=_e[2*ie],Ce=_e[2*ie+1];isNaN(Ae)||isNaN(Ce)||oe.push(Ae,Ce)}re.fill=he.fillcolor}}}}if(ye._prevtrace&&ye._prevtrace.fill==="tonext"){var Re=d.lineOptions[ie-1].positions,fe=oe.length/2,xe=[ue=fe];for(pe=0;pe<Re.length;pe+=2)(isNaN(Re[pe])||isNaN(Re[pe+1]))&&(xe.push(pe/2+fe+1),ue=pe+2);oe=oe.concat(Re),re.hole=xe}return re.fillmode=ye.fill,re.opacity=ye.opacity,re.positions=oe,re}}),d.fill2d.update(d.fillOptions))}var E=g.dragmode,O=h(E),P=g.clickmode.indexOf("select")>-1;for(c=0;c<m;c++){var I=p[c][0],z=I.trace,j=I.t,R=j.index,N=z._length,Z=j.x,F=j.y;if(z.selectedpoints||O||P){if(O||(O=!0),z.selectedpoints){var U=d.selectBatch[R]=b.selIndices2selPoints(z),V={};for(x=0;x<U.length;x++)V[U[x]]=1;var te=[];for(x=0;x<N;x++)V[x]||te.push(x);d.unselectBatch[R]=te}var Q=j.xpx=new Array(N),J=j.ypx=new Array(N);for(x=0;x<N;x++)Q[x]=v.c2p(Z[x]),J[x]=y.c2p(F[x])}else j.xpx=j.ypx=null}if(O){if(d.select2d||(d.select2d=M(g._glcanvas.data()[1].regl)),d.scatter2d){var X=new Array(m);for(c=0;c<m;c++)X[c]=d.selectBatch[c].length||d.unselectBatch[c].length?d.markerUnselectedOptions[c]:{};d.scatter2d.update(X)}d.select2d&&(d.select2d.update(d.markerOptions),d.select2d.update(d.markerSelectedOptions)),d.glText&&p.forEach(function(re){var ie=((re||[])[0]||{}).trace||{};t.hasText(ie)&&n(re)})}else d.scatter2d&&d.scatter2d.update(d.markerOptions);var K={viewport:l(g,v,y,s._context.plotGlPixelRatio),range:[(v._rl||v.range)[0],(y._rl||y.range)[0],(v._rl||v.range)[1],(y._rl||y.range)[1]]},ee=b.repeat(K,d.count);d.fill2d&&d.fill2d.update(ee),d.line2d&&d.line2d.update(ee),d.error2d&&d.error2d.update(ee.concat(ee)),d.scatter2d&&d.scatter2d.update(ee),d.select2d&&d.select2d.update(ee),d.glText&&d.glText.forEach(function(re){re.update(K)})}else d.init()}}).reglPrecompiled=r},38967:function(q,C,e){var M=e(71828);q.exports=function(k,a){var _=a._scene,b={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},h={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return a._scene||((_=a._scene={}).init=function(){M.extendFlat(_,h,b)},_.init(),_.update=function(o){var t=M.repeat(o,_.count);if(_.fill2d&&_.fill2d.update(t),_.scatter2d&&_.scatter2d.update(t),_.line2d&&_.line2d.update(t),_.error2d&&_.error2d.update(t.concat(t)),_.select2d&&_.select2d.update(t),_.glText)for(var i=0;i<_.count;i++)_.glText[i].update(o)},_.draw=function(){for(var o=_.count,t=_.fill2d,i=_.error2d,n=_.line2d,r=_.scatter2d,l=_.glText,s=_.select2d,u=_.selectBatch,p=_.unselectBatch,c=0;c<o;c++){if(t&&_.fillOrder[c]&&t.draw(_.fillOrder[c]),n&&_.lineOptions[c]&&n.draw(c),i&&(_.errorXOptions[c]&&i.draw(c),_.errorYOptions[c]&&i.draw(c+o)),r&&_.markerOptions[c])if(p[c].length){var x=M.repeat([],_.count);x[c]=p[c],r.draw(x)}else u[c].length||r.draw(c);l[c]&&_.textOptions[c]&&l[c].render()}s&&s.draw(u),_.dirty=!1},_.destroy=function(){_.fill2d&&_.fill2d.destroy&&_.fill2d.destroy(),_.scatter2d&&_.scatter2d.destroy&&_.scatter2d.destroy(),_.error2d&&_.error2d.destroy&&_.error2d.destroy(),_.line2d&&_.line2d.destroy&&_.line2d.destroy(),_.select2d&&_.select2d.destroy&&_.select2d.destroy(),_.glText&&_.glText.forEach(function(o){o.destroy&&o.destroy()}),_.lineOptions=null,_.fillOptions=null,_.markerOptions=null,_.markerSelectedOptions=null,_.markerUnselectedOptions=null,_.errorXOptions=null,_.errorYOptions=null,_.textOptions=null,_.textSelectedOptions=null,_.textUnselectedOptions=null,_.selectBatch=null,_.unselectBatch=null,a._scene=null}),_.dirty||M.extendFlat(_,b),_}},58147:function(q,C,e){var M=e(34098),k=e(5345).styleTextSelection;q.exports=function(a,_){var b=a.cd,h=a.xaxis,o=a.yaxis,t=[],i=b[0].trace,n=b[0].t,r=i._length,l=n.x,s=n.y,u=n._scene,p=n.index;if(!u)return t;var c=M.hasText(i),x=M.hasMarkers(i),g=!x&&!c;if(i.visible!==!0||g)return t;var d=[],v=[];if(_!==!1&&!_.degenerate)for(var y=0;y<r;y++)_.contains([n.xpx[y],n.ypx[y]],!1,y,a)?(d.push(y),t.push({pointNumber:y,x:h.c2d(l[y]),y:o.c2d(s[y])})):v.push(y);if(x){var m=u.scatter2d;if(d.length||v.length){if(!u.selectBatch[p].length&&!u.unselectBatch[p].length){var w=new Array(u.count);w[p]=u.markerUnselectedOptions[p],m.update.apply(m,w)}}else{var f=new Array(u.count);f[p]=u.markerOptions[p],m.update.apply(m,f)}}return u.selectBatch[p]=d,u.unselectBatch[p]=v,c&&k(b),t}},99181:function(q,C,e){var M=e(5386).fF,k=e(5386).si,a=e(19316),_=e(82196),b=e(23585),h=e(9012),o=e(50693),t=e(1426).extendFlat,i=e(30962).overrideAll,n=e(23585),r=a.line,l=a.marker;q.exports=i({lon:a.lon,lat:a.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},l.opacity,{dflt:1})},mode:t({},_.mode,{dflt:"markers"}),text:t({},_.text,{}),texttemplate:k({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},_.hovertext,{}),line:{color:r.color,width:r.width},connectgaps:_.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:l.opacity,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode},o("marker")),fill:a.fill,fillcolor:_.fillcolor,textfont:b.layers.symbol.textfont,textposition:b.layers.symbol.textposition,below:{valType:"string"},selected:{marker:_.selected.marker},unselected:{marker:_.unselected.marker},hoverinfo:t({},h.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:M()},"calc","nested")},15790:function(q,C,e){var M=e(92770),k=e(71828),a=e(50606).BADNUM,_=e(18214),b=e(21081),h=e(91424),o=e(39984),t=e(34098),i=e(13056),n=e(23469).appendArrayPointValue,r=e(63893).NEWLINES,l=e(63893).BR_TAG_ALL;function s(g){return{type:g,geojson:_.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function u(g,d){return k.isArrayOrTypedArray(g)?d?function(v){return M(g[v])?+g[v]:0}:function(v){return g[v]}:g?function(){return g}:p}function p(){return""}function c(g){return g[0]===a}function x(g,d){var v;if(k.isArrayOrTypedArray(g)&&k.isArrayOrTypedArray(d)){v=["step",["get","point_count"],g[0]];for(var y=1;y<g.length;y++)v.push(d[y-1],g[y])}else v=g;return v}q.exports=function(g,d){var v,y=d[0].trace,m=y.visible===!0&&y._length!==0,w=y.fill!=="none",f=t.hasLines(y),S=t.hasMarkers(y),T=t.hasText(y),E=S&&y.marker.symbol==="circle",O=S&&y.marker.symbol!=="circle",P=y.cluster&&y.cluster.enabled,I=s("fill"),z=s("line"),j=s("circle"),R=s("symbol"),N={fill:I,line:z,circle:j,symbol:R};if(!m)return N;if((w||f)&&(v=_.calcTraceToLineCoords(d)),w&&(I.geojson=_.makePolygon(v),I.layout.visibility="visible",k.extendFlat(I.paint,{"fill-color":y.fillcolor})),f&&(z.geojson=_.makeLine(v),z.layout.visibility="visible",k.extendFlat(z.paint,{"line-width":y.line.width,"line-color":y.line.color,"line-opacity":y.opacity})),E){var Z=function(V){var te,Q,J,X,K=V[0].trace,ee=K.marker,re=K.selectedpoints,ie=k.isArrayOrTypedArray(ee.color),ae=k.isArrayOrTypedArray(ee.size),ue=k.isArrayOrTypedArray(ee.opacity);function pe(oe){return K.opacity*oe}ie&&(Q=b.hasColorscale(K,"marker")?b.makeColorScaleFuncFromTrace(ee):k.identity),ae&&(J=o(K)),ue&&(X=function(oe){return pe(M(oe)?+k.constrain(oe,0,1):0)});var de,ye,be=[];for(te=0;te<V.length;te++){var me=V[te],Ee=me.lonlat;if(!c(Ee)){var Te={};Q&&(Te.mcc=me.mcc=Q(me.mc)),J&&(Te.mrc=me.mrc=J(me.ms)),X&&(Te.mo=X(me.mo)),re&&(Te.selected=me.selected||0),be.push({type:"Feature",id:te+1,geometry:{type:"Point",coordinates:Ee},properties:Te})}}if(re)for(de=h.makeSelectedPointStyleFns(K),te=0;te<be.length;te++){var we=be[te].properties;de.selectedOpacityFn&&(we.mo=pe(de.selectedOpacityFn(we))),de.selectedColorFn&&(we.mcc=de.selectedColorFn(we)),de.selectedSizeFn&&(we.mrc=de.selectedSizeFn(we))}return{geojson:{type:"FeatureCollection",features:be},mcc:ie||de&&de.selectedColorFn?{type:"identity",property:"mcc"}:ee.color,mrc:ae||de&&de.selectedSizeFn?{type:"identity",property:"mrc"}:(ye=ee.size,ye/2),mo:ue||de&&de.selectedOpacityFn?{type:"identity",property:"mo"}:pe(ee.opacity)}}(d);j.geojson=Z.geojson,j.layout.visibility="visible",P&&(j.filter=["!",["has","point_count"]],N.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":x(y.cluster.color,y.cluster.step),"circle-radius":x(y.cluster.size,y.cluster.step),"circle-opacity":x(y.cluster.opacity,y.cluster.step)}},N.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),k.extendFlat(j.paint,{"circle-color":Z.mcc,"circle-radius":Z.mrc,"circle-opacity":Z.mo})}if(E&&P&&(j.filter=["!",["has","point_count"]]),(O||T)&&(R.geojson=function(V,te){for(var Q=te._fullLayout,J=V[0].trace,X=J.marker||{},K=X.symbol,ee=X.angle,re=K!=="circle"?u(K):p,ie=ee!=="auto"?u(ee,!0):p,ae=t.hasText(J)?u(J.text):p,ue=[],pe=0;pe<V.length;pe++){var de=V[pe];if(!c(de.lonlat)){var ye,be=J.texttemplate;if(be){var me=Array.isArray(be)?be[pe]||"":be,Ee=J._module.formatLabels(de,J,Q),Te={};n(Te,J,de.i);var we=J._meta||{};ye=k.texttemplateString(me,Ee,Q._d3locale,Te,de,we)}else ye=ae(pe);ye&&(ye=ye.replace(r,"").replace(l,`
`)),ue.push({type:"Feature",geometry:{type:"Point",coordinates:de.lonlat},properties:{symbol:re(pe),angle:ie(pe),text:ye}})}}return{type:"FeatureCollection",features:ue}}(d,g),k.extendFlat(R.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),O&&(k.extendFlat(R.layout,{"icon-size":y.marker.size/10}),"angle"in y.marker&&y.marker.angle!=="auto"&&k.extendFlat(R.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),R.layout["icon-allow-overlap"]=y.marker.allowoverlap,k.extendFlat(R.paint,{"icon-opacity":y.opacity*y.marker.opacity,"icon-color":y.marker.color})),T)){var F=(y.marker||{}).size,U=i(y.textposition,F);k.extendFlat(R.layout,{"text-size":y.textfont.size,"text-anchor":U.anchor,"text-offset":U.offset,"text-font":y.textfont.family.split(", ")}),k.extendFlat(R.paint,{"text-color":y.textfont.color,"text-opacity":y.opacity})}return N}},76645:function(q,C,e){var M=e(71828),k=e(34098),a=e(49508),_=e(11058),b=e(82410),h=e(28908),o=e(99181),t=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];q.exports=function(i,n,r,l){function s(m,w){return M.coerce(i,n,o,m,w)}function u(m,w){return M.coerce2(i,n,o,m,w)}var p=function(m,w,f){var S=f("lon")||[],T=f("lat")||[],E=Math.min(S.length,T.length);return w._length=E,E}(0,n,s);if(p){if(s("text"),s("texttemplate"),s("hovertext"),s("hovertemplate"),s("mode"),s("below"),k.hasMarkers(n)){a(i,n,r,l,s,{noLine:!0,noAngle:!0}),s("marker.allowoverlap"),s("marker.angle");var c=n.marker;c.symbol!=="circle"&&(M.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),M.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}k.hasLines(n)&&(_(i,n,r,l,s,{noDash:!0}),s("connectgaps"));var x=u("cluster.maxzoom"),g=u("cluster.step"),d=u("cluster.color",n.marker&&n.marker.color||r),v=u("cluster.size"),y=u("cluster.opacity");s("cluster.enabled",x!==!1||g!==!1||d!==!1||v!==!1||y!==!1),k.hasText(n)&&b(i,n,l,s,{noSelect:!0,font:{family:t.indexOf(l.font.family)!==-1?l.font.family:"Open Sans Regular",size:l.font.size,color:l.font.color}}),s("fill"),n.fill!=="none"&&h(i,n,r,s),M.coerceSelectionMarkerOpacity(n,s)}else n.visible=!1}},53353:function(q){q.exports=function(C,e){return C.lon=e.lon,C.lat=e.lat,C}},15636:function(q,C,e){var M=e(89298);q.exports=function(k,a,_){var b={},h=_[a.subplot]._subplot.mockAxis,o=k.lonlat;return b.lonLabel=M.tickText(h,h.c2l(o[0]),!0).text,b.latLabel=M.tickText(h,h.c2l(o[1]),!0).text,b}},28178:function(q,C,e){var M=e(30211),k=e(71828),a=e(34603),_=k.fillText,b=e(50606).BADNUM,h=e(77734).traceLayerPrefix;function o(t,i,n){if(!t.hovertemplate){var r=(i.hi||t.hoverinfo).split("+"),l=r.indexOf("all")!==-1,s=r.indexOf("lon")!==-1,u=r.indexOf("lat")!==-1,p=i.lonlat,c=[];return l||s&&u?c.push("("+x(p[1])+", "+x(p[0])+")"):s?c.push(n.lon+x(p[0])):u&&c.push(n.lat+x(p[1])),(l||r.indexOf("text")!==-1)&&_(i,t,c),c.join("<br>")}function x(g){return g+""}}q.exports={hoverPoints:function(t,i,n){var r=t.cd,l=r[0].trace,s=t.xa,u=t.ya,p=t.subplot,c=[],x=h+l.uid+"-circle",g=l.cluster&&l.cluster.enabled;if(g){var d=p.map.queryRenderedFeatures(null,{layers:[x]});c=d.map(function(I){return I.id})}var v=360*(i>=0?Math.floor((i+180)/360):Math.ceil((i-180)/360)),y=i-v;if(M.getClosest(r,function(I){var z=I.lonlat;if(z[0]===b||g&&c.indexOf(I.i+1)===-1)return 1/0;var j=k.modHalf(z[0],360),R=z[1],N=p.project([j,R]),Z=N.x-s.c2p([y,R]),F=N.y-u.c2p([j,n]),U=Math.max(3,I.mrc||0);return Math.max(Math.sqrt(Z*Z+F*F)-U,1-3/U)},t),t.index!==!1){var m=r[t.index],w=m.lonlat,f=[k.modHalf(w[0],360)+v,w[1]],S=s.c2p(f),T=u.c2p(f),E=m.mrc||1;t.x0=S-E,t.x1=S+E,t.y0=T-E,t.y1=T+E;var O={};O[l.subplot]={_subplot:p};var P=l._module.formatLabels(m,l,O);return t.lonLabel=P.lonLabel,t.latLabel=P.latLabel,t.color=a(l,m),t.extraText=o(l,m,r[0].t.labels),t.hovertemplate=l.hovertemplate,[t]}},getExtraText:o}},20467:function(q,C,e){q.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(M,k){k&&k[0].trace._glTrace.update(k)},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(q,C,e){var M=e(71828),k=e(15790),a=e(77734).traceLayerPrefix,_={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function b(o,t,i,n){this.type="scattermapbox",this.subplot=o,this.uid=t,this.clusterEnabled=i,this.isHidden=n,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:a+t+"-fill",line:a+t+"-line",circle:a+t+"-circle",symbol:a+t+"-symbol",cluster:a+t+"-cluster",clusterCount:a+t+"-cluster-count"},this.below=null}var h=b.prototype;h.addSource=function(o,t,i){var n={type:"geojson",data:t.geojson};i&&i.enabled&&M.extendFlat(n,{cluster:!0,clusterMaxZoom:i.maxzoom});var r=this.subplot.map.getSource(this.sourceIds[o]);r?r.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[o],n)},h.setSourceData=function(o,t){this.subplot.map.getSource(this.sourceIds[o]).setData(t.geojson)},h.addLayer=function(o,t,i){var n={type:t.type,id:this.layerIds[o],source:this.sourceIds[o],layout:t.layout,paint:t.paint};t.filter&&(n.filter=t.filter);for(var r,l=this.layerIds[o],s=this.subplot.getMapLayers(),u=0;u<s.length;u++)if(s[u].id===l){r=!0;break}r?(this.subplot.setOptions(l,"setLayoutProperty",n.layout),n.layout.visibility==="visible"&&this.subplot.setOptions(l,"setPaintProperty",n.paint)):this.subplot.addLayer(n,i)},h.update=function(o){var t=o[0].trace,i=this.subplot,n=i.map,r=k(i.gd,o),l=i.belowLookup["trace-"+this.uid],s=!(!t.cluster||!t.cluster.enabled),u=!!this.clusterEnabled,p=this;function c(y){u?function(m){for(var w=_.cluster,f=w.length-1;f>=0;f--){var S=w[f];n.removeLayer(p.layerIds[S])}m||n.removeSource(p.sourceIds.circle)}(y):function(m){for(var w=_.nonCluster,f=w.length-1;f>=0;f--){var S=w[f];n.removeLayer(p.layerIds[S]),m||n.removeSource(p.sourceIds[S])}}(y)}function x(y){s?function(m){m||p.addSource("circle",r.circle,t.cluster);for(var w=_.cluster,f=0;f<w.length;f++){var S=w[f],T=r[S];p.addLayer(S,T,l)}}(y):function(m){for(var w=_.nonCluster,f=0;f<w.length;f++){var S=w[f],T=r[S];m||p.addSource(S,T),p.addLayer(S,T,l)}}(y)}function g(){for(var y=s?_.cluster:_.nonCluster,m=0;m<y.length;m++){var w=y[m],f=r[w];f&&(i.setOptions(p.layerIds[w],"setLayoutProperty",f.layout),f.layout.visibility==="visible"&&(w!=="cluster"&&p.setSourceData(w,f),i.setOptions(p.layerIds[w],"setPaintProperty",f.paint)))}}var d=this.isHidden,v=t.visible!==!0;v?d||c():d?v||x():u!==s?(c(),x()):(this.below!==l&&(c(!0),x(!0)),g()),this.clusterEnabled=s,this.isHidden=v,this.below=l,o[0].trace._glTrace=this},h.dispose=function(){for(var o=this.subplot.map,t=this.clusterEnabled?_.cluster:_.nonCluster,i=t.length-1;i>=0;i--){var n=t[i];o.removeLayer(this.layerIds[n]),o.removeSource(this.sourceIds[n])}},q.exports=function(o,t){var i,n,r,l=t[0].trace,s=l.cluster&&l.cluster.enabled,u=l.visible!==!0,p=new b(o,l.uid,s,u),c=k(o.gd,t),x=p.below=o.belowLookup["trace-"+l.uid];if(s)for(p.addSource("circle",c.circle,l.cluster),i=0;i<_.cluster.length;i++)r=c[n=_.cluster[i]],p.addLayer(n,r,x);else for(i=0;i<_.nonCluster.length;i++)r=c[n=_.nonCluster[i]],p.addSource(n,r,l.cluster),p.addLayer(n,r,x);return t[0].trace._glTrace=p,p}},86387:function(q,C,e){var M=e(71828),k=e(34098),a=e(50606).BADNUM;q.exports=function(_,b){var h,o=_.cd,t=_.xaxis,i=_.yaxis,n=[],r=o[0].trace;if(!k.hasMarkers(r))return[];if(b===!1)for(h=0;h<o.length;h++)o[h].selected=0;else for(h=0;h<o.length;h++){var l=o[h],s=l.lonlat;if(s[0]!==a){var u=[M.modHalf(s[0],360),s[1]],p=[t.c2p(u),i.c2p(u)];b.contains(p,null,h,_)?(n.push({pointNumber:h,lon:s[0],lat:s[1]}),l.selected=1):l.selected=0}}return n}},81245:function(q,C,e){var M=e(5386).fF,k=e(5386).si,a=e(1426).extendFlat,_=e(82196),b=e(9012),h=_.line;q.exports={mode:_.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:_.text,texttemplate:k({editType:"plot"},{keys:["r","theta","text"]}),hovertext:_.hovertext,line:{color:h.color,width:h.width,dash:h.dash,backoff:h.backoff,shape:a({},h.shape,{values:["linear","spline"]}),smoothing:h.smoothing,editType:"calc"},connectgaps:_.connectgaps,marker:_.marker,cliponaxis:a({},_.cliponaxis,{dflt:!1}),textposition:_.textposition,textfont:_.textfont,fill:a({},_.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:_.fillcolor,hoverinfo:a({},b.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:_.hoveron,hovertemplate:M(),selected:_.selected,unselected:_.unselected}},26442:function(q,C,e){var M=e(92770),k=e(50606).BADNUM,a=e(89298),_=e(36922),b=e(75225),h=e(66279),o=e(47761).calcMarkerSize;q.exports=function(t,i){for(var n=t._fullLayout,r=i.subplot,l=n[r].radialaxis,s=n[r].angularaxis,u=l.makeCalcdata(i,"r"),p=s.makeCalcdata(i,"theta"),c=i._length,x=new Array(c),g=0;g<c;g++){var d=u[g],v=p[g],y=x[g]={};M(d)&&M(v)?(y.r=d,y.theta=v):y.r=k}var m=o(i,c);return i._extremes.x=a.findExtremes(l,u,{ppad:m}),_(t,i),b(x,i),h(x,i),x}},22184:function(q,C,e){var M=e(71828),k=e(34098),a=e(49508),_=e(11058),b=e(94039),h=e(82410),o=e(28908),t=e(47581).PTS_LINESONLY,i=e(81245);function n(r,l,s,u){var p,c=u("r"),x=u("theta");if(M.isTypedArray(c)&&(l.r=c=Array.from(c)),M.isTypedArray(x)&&(l.theta=x=Array.from(x)),c)x?p=Math.min(c.length,x.length):(p=c.length,u("theta0"),u("dtheta"));else{if(!x)return 0;p=l.theta.length,u("r0"),u("dr")}return l._length=p,p}q.exports={handleRThetaDefaults:n,supplyDefaults:function(r,l,s,u){function p(g,d){return M.coerce(r,l,i,g,d)}var c=n(0,l,0,p);if(c){p("thetaunit"),p("mode",c<t?"lines+markers":"lines"),p("text"),p("hovertext"),l.hoveron!=="fills"&&p("hovertemplate"),k.hasMarkers(l)&&a(r,l,s,u,p,{gradient:!0}),k.hasLines(l)&&(_(r,l,s,u,p,{backoff:!0}),b(r,l,p),p("connectgaps")),k.hasText(l)&&(p("texttemplate"),h(r,l,u,p));var x=[];(k.hasMarkers(l)||k.hasText(l))&&(p("cliponaxis"),p("marker.maxdisplayed"),x.push("points")),p("fill"),l.fill!=="none"&&(o(r,l,s,p),k.hasLines(l)||b(r,l,p)),l.fill!=="tonext"&&l.fill!=="toself"||x.push("fills"),p("hoveron",x.join("+")||"points"),M.coerceSelectionMarkerOpacity(l,p)}else l.visible=!1}}},98608:function(q,C,e){var M=e(71828),k=e(89298);q.exports=function(a,_,b){var h,o,t={},i=b[_.subplot]._subplot;i?(h=i.radialAxis,o=i.angularAxis):(h=(i=b[_.subplot]).radialaxis,o=i.angularaxis);var n=h.c2l(a.r);t.rLabel=k.tickText(h,n,!0).text;var r=o.thetaunit==="degrees"?M.rad2deg(a.theta):a.theta;return t.thetaLabel=k.tickText(o,r,!0).text,t}},59150:function(q,C,e){var M=e(33720);function k(a,_,b,h){var o=b.radialAxis,t=b.angularAxis;o._hovertitle="r",t._hovertitle="";var i={};i[_.subplot]={_subplot:b};var n=_._module.formatLabels(a,_,i);h.rLabel=n.rLabel,h.thetaLabel=n.thetaLabel;var r=a.hi||_.hoverinfo,l=[];function s(p,c){l.push(p._hovertitle+": "+c)}if(!_.hovertemplate){var u=r.split("+");u.indexOf("all")!==-1&&(u=["r","theta","text"]),u.indexOf("r")!==-1&&s(o,h.rLabel),u.indexOf("theta")!==-1&&s(t,h.thetaLabel),u.indexOf("text")!==-1&&h.text&&(l.push(h.text),delete h.text),h.extraText=l.join("<br>")}}q.exports={hoverPoints:function(a,_,b,h){var o=M(a,_,b,h);if(o&&o[0].index!==!1){var t=o[0];if(t.index===void 0)return o;var i=a.subplot,n=t.cd[t.index],r=t.trace;if(i.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,k(n,r,i,t),t.hovertemplate=r.hovertemplate,o}},makeHoverPointText:k}},91271:function(q,C,e){q.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(q,C,e){var M=e(32663),k=e(50606).BADNUM;q.exports=function(a,_,b){for(var h=_.layers.frontplot.select("g.scatterlayer"),o=_.xaxis,t=_.yaxis,i={xaxis:o,yaxis:t,plot:_.framework,layerClipId:_._hasClipOnAxisFalse?_.clipIds.forTraces:null},n=_.radialAxis,r=_.angularAxis,l=0;l<b.length;l++)for(var s=b[l],u=0;u<s.length;u++){u===0&&(s[0].trace._xA=o,s[0].trace._yA=t);var p=s[u],c=p.r;if(c===k)p.x=p.y=k;else{var x=n.c2g(c),g=r.c2g(p.theta);p.x=x*Math.cos(g),p.y=x*Math.sin(g)}}M(a,i,b,h)}},53286:function(q,C,e){var M=e(81245),k=e(42341),a=e(5386).si;q.exports={mode:M.mode,r:M.r,theta:M.theta,r0:M.r0,dr:M.dr,theta0:M.theta0,dtheta:M.dtheta,thetaunit:M.thetaunit,text:M.text,texttemplate:a({editType:"plot"},{keys:["r","theta","text"]}),hovertext:M.hovertext,hovertemplate:M.hovertemplate,line:{color:k.line.color,width:k.line.width,dash:k.line.dash,editType:"calc"},connectgaps:k.connectgaps,marker:k.marker,fill:k.fill,fillcolor:k.fillcolor,textposition:k.textposition,textfont:k.textfont,hoverinfo:M.hoverinfo,selected:M.selected,unselected:M.unselected}},65746:function(q,C,e){q.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(q,C,e){var M=e(36922),k=e(47761).calcMarkerSize,a=e(19635),_=e(89298),b=e(78232).TOO_MANY_POINTS;q.exports=function(h,o){var t=h._fullLayout,i=o.subplot,n=t[i].radialaxis,r=t[i].angularaxis,l=o._r=n.makeCalcdata(o,"r"),s=o._theta=r.makeCalcdata(o,"theta"),u=o._length,p={};u<l.length&&(l=l.slice(0,u)),u<s.length&&(s=s.slice(0,u)),p.r=l,p.theta=s,M(h,o);var c,x=p.opts=a.style(h,o);return u<b?c=k(o,u):x.marker&&(c=2*(x.marker.sizeAvg||Math.max(x.marker.size,3))),o._extremes.x=_.findExtremes(n,l,{ppad:c}),[{x:!1,y:!1,t:p,trace:o}]}},75485:function(q,C,e){var M=e(71828),k=e(34098),a=e(22184).handleRThetaDefaults,_=e(49508),b=e(11058),h=e(82410),o=e(28908),t=e(47581).PTS_LINESONLY,i=e(53286);q.exports=function(n,r,l,s){function u(c,x){return M.coerce(n,r,i,c,x)}var p=a(n,r,s,u);p?(u("thetaunit"),u("mode",p<t?"lines+markers":"lines"),u("text"),u("hovertext"),r.hoveron!=="fills"&&u("hovertemplate"),k.hasMarkers(r)&&_(n,r,l,s,u,{noAngleRef:!0,noStandOff:!0}),k.hasLines(r)&&(b(n,r,l,s,u),u("connectgaps")),k.hasText(r)&&(u("texttemplate"),h(n,r,s,u)),u("fill"),r.fill!=="none"&&o(n,r,l,u),M.coerceSelectionMarkerOpacity(r,u)):r.visible=!1}},46255:function(q,C,e){var M=e(98608);q.exports=function(k,a,_){var b=k.i;return"r"in k||(k.r=a._r[b]),"theta"in k||(k.theta=a._theta[b]),M(k,a,_)}},29347:function(q,C,e){var M=e(20794),k=e(59150).makeHoverPointText;q.exports={hoverPoints:function(a,_,b,h){var o=a.cd[0].t,t=o.r,i=o.theta,n=M.hoverPoints(a,_,b,h);if(n&&n[0].index!==!1){var r=n[0];if(r.index===void 0)return n;var l=a.subplot,s=r.cd[r.index],u=r.trace;if(s.r=t[r.index],s.theta=i[r.index],l.isPtInside(s))return r.xLabelVal=void 0,r.yLabelVal=void 0,k(s,u,l,r),n}}}},21461:function(q,C,e){var M=e(65746);M.plot=e(49741),q.exports=M},49741:function(q,C,e){var M=e(88294),k=e(92770),a=e(26787),_=e(38967),b=e(19635),h=e(71828),o=e(78232).TOO_MANY_POINTS;q.exports=function(t,i,n){if(n.length){var r=i.radialAxis,l=i.angularAxis,s=_(t,i);return n.forEach(function(u){if(u&&u[0]&&u[0].trace){var p,c=u[0],x=c.trace,g=c.t,d=x._length,v=g.r,y=g.theta,m=g.opts,w=v.slice(),f=y.slice();for(p=0;p<v.length;p++)i.isPtInside({r:v[p],theta:y[p]})||(w[p]=NaN,f[p]=NaN);var S=new Array(2*d),T=Array(d),E=Array(d);for(p=0;p<d;p++){var O,P,I=w[p];if(k(I)){var z=r.c2g(I),j=l.c2g(f[p],x.thetaunit);O=z*Math.cos(j),P=z*Math.sin(j)}else O=P=NaN;T[p]=S[2*p]=O,E[p]=S[2*p+1]=P}g.tree=M(S),m.marker&&d>=o&&(m.marker.cluster=g.tree),m.marker&&(m.markerSel.positions=m.markerUnsel.positions=m.marker.positions=S),m.line&&S.length>1&&h.extendFlat(m.line,b.linePositions(t,x,S)),m.text&&(h.extendFlat(m.text,{positions:S},b.textPosition(t,x,m.text,m.marker)),h.extendFlat(m.textSel,{positions:S},b.textPosition(t,x,m.text,m.markerSel)),h.extendFlat(m.textUnsel,{positions:S},b.textPosition(t,x,m.text,m.markerUnsel))),m.fill&&!s.fill2d&&(s.fill2d=!0),m.marker&&!s.scatter2d&&(s.scatter2d=!0),m.line&&!s.line2d&&(s.line2d=!0),m.text&&!s.glText&&(s.glText=!0),s.lineOptions.push(m.line),s.fillOptions.push(m.fill),s.markerOptions.push(m.marker),s.markerSelectedOptions.push(m.markerSel),s.markerUnselectedOptions.push(m.markerUnsel),s.textOptions.push(m.text),s.textSelectedOptions.push(m.textSel),s.textUnselectedOptions.push(m.textUnsel),s.selectBatch.push([]),s.unselectBatch.push([]),g.x=T,g.y=E,g.rawx=T,g.rawy=E,g.r=v,g.theta=y,g.positions=S,g._scene=s,g.index=s.count,s.count++}}),a(t,i,n)}},q.exports.reglPrecompiled={}},48300:function(q,C,e){var M=e(5386).fF,k=e(5386).si,a=e(1426).extendFlat,_=e(82196),b=e(9012),h=_.line;q.exports={mode:_.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:_.text,texttemplate:k({editType:"plot"},{keys:["real","imag","text"]}),hovertext:_.hovertext,line:{color:h.color,width:h.width,dash:h.dash,backoff:h.backoff,shape:a({},h.shape,{values:["linear","spline"]}),smoothing:h.smoothing,editType:"calc"},connectgaps:_.connectgaps,marker:_.marker,cliponaxis:a({},_.cliponaxis,{dflt:!1}),textposition:_.textposition,textfont:_.textfont,fill:a({},_.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:_.fillcolor,hoverinfo:a({},b.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:_.hoveron,hovertemplate:M(),selected:_.selected,unselected:_.unselected}},30621:function(q,C,e){var M=e(92770),k=e(50606).BADNUM,a=e(36922),_=e(75225),b=e(66279),h=e(47761).calcMarkerSize;q.exports=function(o,t){for(var i=o._fullLayout,n=t.subplot,r=i[n].realaxis,l=i[n].imaginaryaxis,s=r.makeCalcdata(t,"real"),u=l.makeCalcdata(t,"imag"),p=t._length,c=new Array(p),x=0;x<p;x++){var g=s[x],d=u[x],v=c[x]={};M(g)&&M(d)?(v.real=g,v.imag=d):v.real=k}return h(t,p),a(o,t),_(c,t),b(c,t),c}},65269:function(q,C,e){var M=e(71828),k=e(34098),a=e(49508),_=e(11058),b=e(94039),h=e(82410),o=e(28908),t=e(47581).PTS_LINESONLY,i=e(48300);q.exports=function(n,r,l,s){function u(x,g){return M.coerce(n,r,i,x,g)}var p=function(x,g,d,v){var y,m=v("real"),w=v("imag");return m&&w&&(y=Math.min(m.length,w.length)),M.isTypedArray(m)&&(g.real=m=Array.from(m)),M.isTypedArray(w)&&(g.imag=w=Array.from(w)),g._length=y,y}(0,r,0,u);if(p){u("mode",p<t?"lines+markers":"lines"),u("text"),u("hovertext"),r.hoveron!=="fills"&&u("hovertemplate"),k.hasMarkers(r)&&a(n,r,l,s,u,{gradient:!0}),k.hasLines(r)&&(_(n,r,l,s,u,{backoff:!0}),b(n,r,u),u("connectgaps")),k.hasText(r)&&(u("texttemplate"),h(n,r,s,u));var c=[];(k.hasMarkers(r)||k.hasText(r))&&(u("cliponaxis"),u("marker.maxdisplayed"),c.push("points")),u("fill"),r.fill!=="none"&&(o(n,r,l,u),k.hasLines(r)||b(n,r,u)),r.fill!=="tonext"&&r.fill!=="toself"||c.push("fills"),u("hoveron",c.join("+")||"points"),M.coerceSelectionMarkerOpacity(r,u)}else r.visible=!1}},62047:function(q,C,e){var M=e(89298);q.exports=function(k,a,_){var b={},h=_[a.subplot]._subplot;return b.realLabel=M.tickText(h.radialAxis,k.real,!0).text,b.imagLabel=M.tickText(h.angularAxis,k.imag,!0).text,b}},11350:function(q,C,e){var M=e(33720);function k(a,_,b,h){var o=b.radialAxis,t=b.angularAxis;o._hovertitle="real",t._hovertitle="imag";var i={};i[_.subplot]={_subplot:b};var n=_._module.formatLabels(a,_,i);h.realLabel=n.realLabel,h.imagLabel=n.imagLabel;var r=a.hi||_.hoverinfo,l=[];function s(p,c){l.push(p._hovertitle+": "+c)}if(!_.hovertemplate){var u=r.split("+");u.indexOf("all")!==-1&&(u=["real","imag","text"]),u.indexOf("real")!==-1&&s(o,h.realLabel),u.indexOf("imag")!==-1&&s(t,h.imagLabel),u.indexOf("text")!==-1&&h.text&&(l.push(h.text),delete h.text),h.extraText=l.join("<br>")}}q.exports={hoverPoints:function(a,_,b,h){var o=M(a,_,b,h);if(o&&o[0].index!==!1){var t=o[0];if(t.index===void 0)return o;var i=a.subplot,n=t.cd[t.index],r=t.trace;if(i.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,k(n,r,i,t),t.hovertemplate=r.hovertemplate,o}},makeHoverPointText:k}},85956:function(q,C,e){q.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(q,C,e){var M=e(32663),k=e(50606).BADNUM,a=e(23893).smith;q.exports=function(_,b,h){for(var o=b.layers.frontplot.select("g.scatterlayer"),t=b.xaxis,i=b.yaxis,n={xaxis:t,yaxis:i,plot:b.framework,layerClipId:b._hasClipOnAxisFalse?b.clipIds.forTraces:null},r=0;r<h.length;r++)for(var l=h[r],s=0;s<l.length;s++){s===0&&(l[0].trace._xA=t,l[0].trace._yA=i);var u=l[s],p=u.real;if(p===k)u.x=u.y=k;else{var c=a([p,u.imag]);u.x=c[0],u.y=c[1]}}M(_,n,h,o)}},50413:function(q,C,e){var M=e(5386).fF,k=e(5386).si,a=e(82196),_=e(9012),b=e(50693),h=e(79952).P,o=e(1426).extendFlat,t=a.marker,i=a.line,n=t.line;q.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:o({},a.mode,{dflt:"markers"}),text:o({},a.text,{}),texttemplate:k({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:o({},a.hovertext,{}),line:{color:i.color,width:i.width,dash:h,backoff:i.backoff,shape:o({},i.shape,{values:["linear","spline"]}),smoothing:i.smoothing,editType:"calc"},connectgaps:a.connectgaps,cliponaxis:a.cliponaxis,fill:o({},a.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:a.fillcolor,marker:o({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:o({width:n.width,editType:"calc"},b("marker.line")),gradient:t.gradient,editType:"calc"},b("marker")),textfont:a.textfont,textposition:a.textposition,selected:a.selected,unselected:a.unselected,hoverinfo:o({},_.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:a.hoveron,hovertemplate:M()}},54337:function(q,C,e){var M=e(92770),k=e(36922),a=e(75225),_=e(66279),b=e(47761).calcMarkerSize,h=["a","b","c"],o={a:["b","c"],b:["a","c"],c:["a","b"]};q.exports=function(t,i){var n,r,l,s,u,p,c=t._fullLayout[i.subplot].sum,x=i.sum||c,g={a:i.a,b:i.b,c:i.c};for(n=0;n<h.length;n++)if(!g[l=h[n]]){for(u=g[o[l][0]],p=g[o[l][1]],s=new Array(u.length),r=0;r<u.length;r++)s[r]=x-u[r]-p[r];g[l]=s}var d,v,y,m,w,f,S=i._length,T=new Array(S);for(n=0;n<S;n++)d=g.a[n],v=g.b[n],y=g.c[n],M(d)&&M(v)&&M(y)?((m=c/((d=+d)+(v=+v)+(y=+y)))!=1&&(d*=m,v*=m,y*=m),f=d,w=y-v,T[n]={x:w,y:f,a:d,b:v,c:y}):T[n]={x:!1,y:!1};return b(i,S),k(t,i),a(T,i),_(T,i),T}},46008:function(q,C,e){var M=e(71828),k=e(47581),a=e(34098),_=e(49508),b=e(11058),h=e(94039),o=e(82410),t=e(28908),i=e(50413);q.exports=function(n,r,l,s){function u(v,y){return M.coerce(n,r,i,v,y)}var p,c=u("a"),x=u("b"),g=u("c");if(c?(p=c.length,x?(p=Math.min(p,x.length),g&&(p=Math.min(p,g.length))):p=g?Math.min(p,g.length):0):x&&g&&(p=Math.min(x.length,g.length)),p){r._length=p,u("sum"),u("text"),u("hovertext"),r.hoveron!=="fills"&&u("hovertemplate"),u("mode",p<k.PTS_LINESONLY?"lines+markers":"lines"),a.hasMarkers(r)&&_(n,r,l,s,u,{gradient:!0}),a.hasLines(r)&&(b(n,r,l,s,u,{backoff:!0}),h(n,r,u),u("connectgaps")),a.hasText(r)&&(u("texttemplate"),o(n,r,s,u));var d=[];(a.hasMarkers(r)||a.hasText(r))&&(u("cliponaxis"),u("marker.maxdisplayed"),d.push("points")),u("fill"),r.fill!=="none"&&(t(n,r,l,u),a.hasLines(r)||h(n,r,u)),r.fill!=="tonext"&&r.fill!=="toself"||d.push("fills"),u("hoveron",d.join("+")||"points"),M.coerceSelectionMarkerOpacity(r,u)}else r.visible=!1}},4524:function(q){q.exports=function(C,e,M,k,a){if(e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),k[a]){var _=k[a];C.a=_.a,C.b=_.b,C.c=_.c}else C.a=e.a,C.b=e.b,C.c=e.c;return C}},93645:function(q,C,e){var M=e(89298);q.exports=function(k,a,_){var b={},h=_[a.subplot]._subplot;return b.aLabel=M.tickText(h.aaxis,k.a,!0).text,b.bLabel=M.tickText(h.baxis,k.b,!0).text,b.cLabel=M.tickText(h.caxis,k.c,!0).text,b}},47250:function(q,C,e){var M=e(33720);q.exports=function(k,a,_,b){var h=M(k,a,_,b);if(h&&h[0].index!==!1){var o=h[0];if(o.index===void 0){var t=1-o.y0/k.ya._length,i=k.xa._length,n=i*t/2,r=i-n;return o.x0=Math.max(Math.min(o.x0,r),n),o.x1=Math.max(Math.min(o.x1,r),n),h}var l=o.cd[o.index],s=o.trace,u=o.subplot;o.a=l.a,o.b=l.b,o.c=l.c,o.xLabelVal=void 0,o.yLabelVal=void 0;var p={};p[s.subplot]={_subplot:u};var c=s._module.formatLabels(l,s,p);o.aLabel=c.aLabel,o.bLabel=c.bLabel,o.cLabel=c.cLabel;var x=l.hi||s.hoverinfo,g=[];if(!s.hovertemplate){var d=x.split("+");d.indexOf("all")!==-1&&(d=["a","b","c"]),d.indexOf("a")!==-1&&v(u.aaxis,o.aLabel),d.indexOf("b")!==-1&&v(u.baxis,o.bLabel),d.indexOf("c")!==-1&&v(u.caxis,o.cLabel)}return o.extraText=g.join("<br>"),o.hovertemplate=s.hovertemplate,h}function v(y,m){g.push(y._hovertitle+": "+m)}}},52979:function(q,C,e){q.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(q,C,e){var M=e(32663);q.exports=function(k,a,_){var b=a.plotContainer;b.select(".scatterlayer").selectAll("*").remove();for(var h=a.xaxis,o=a.yaxis,t={xaxis:h,yaxis:o,plot:b,layerClipId:a._hasClipOnAxisFalse?a.clipIdRelative:null},i=a.layers.frontplot.select("g.scatterlayer"),n=0;n<_.length;n++){var r=_[n];r.length&&(r[0].trace._xA=h,r[0].trace._yA=o)}M(k,t,_,i)}},46880:function(q,C,e){var M=e(82196),k=e(50693),a=e(12663).axisHoverFormat,_=e(5386).fF,b=e(42341),h=e(85555).idRegex,o=e(44467).templatedArray,t=e(1426).extendFlat,i=M.marker,n=i.line,r=t(k("marker.line",{editTypeOverride:"calc"}),{width:t({},n.width,{editType:"calc"}),editType:"calc"}),l=t(k("marker"),{symbol:i.symbol,angle:i.angle,size:t({},i.size,{editType:"markerSize"}),sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,opacity:i.opacity,colorbar:i.colorbar,line:r,editType:"calc"});function s(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:h[u],editType:"plot"}}}l.color.editType=l.cmin.editType=l.cmax.editType="style",q.exports={dimensions:o("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},b.text,{}),hovertext:t({},b.hovertext,{}),hovertemplate:_(),xhoverformat:a("x"),yhoverformat:a("y"),marker:l,xaxes:s("x"),yaxes:s("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:b.selected.marker,editType:"calc"},unselected:{marker:b.unselected.marker,editType:"calc"},opacity:b.opacity}},65017:function(q,C,e){var M=e(73972),k=e(83312);q.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},M.register(k)},16947:function(q,C,e){var M=e(46075),k=e(73972),a=e(79749),_=e(27659).a0,b=e(93612),h=e(41675).getFromId,o=e(89298).shouldShowZeroLine,t="splom",i={};function n(l,s,u){for(var p=u.matrixOptions.data.length,c=s._visibleDims,x=u.viewOpts.ranges=new Array(p),g=0;g<c.length;g++){var d=c[g],v=x[g]=new Array(4),y=h(l,s._diag[d][0]);y&&(v[0]=y.r2l(y.range[0]),v[2]=y.r2l(y.range[1]));var m=h(l,s._diag[d][1]);m&&(v[1]=m.r2l(m.range[0]),v[3]=m.r2l(m.range[1]))}u.selectBatch.length||u.unselectBatch.length?u.matrix.update({ranges:x},{ranges:x}):u.matrix.update({ranges:x})}function r(l){var s=l._fullLayout,u=s._glcanvas.data()[0].regl,p=s._splomGrid;p||(p=s._splomGrid=M(u)),p.update(function(c){var x,g=c._context.plotGlPixelRatio,d=c._fullLayout,v=d._size,y=[0,0,d.width*g,d.height*g],m={};function w(V,te,Q,J,X,K){Q*=g,J*=g,X*=g,K*=g;var ee=te[V+"color"],re=te[V+"width"],ie=String(ee+re);ie in m?m[ie].data.push(NaN,NaN,Q,J,X,K):m[ie]={data:[Q,J,X,K],join:"rect",thickness:re*g,color:ee,viewport:y,range:y,overlay:!1}}for(x in d._splomSubplots){var f,S,T=d._plots[x],E=T.xaxis,O=T.yaxis,P=E._gridVals,I=O._gridVals,z=E._offset,j=E._length,R=O._length,N=v.b+O.domain[0]*v.h,Z=-O._m,F=-Z*O.r2l(O.range[0],O.calendar);if(E.showgrid)for(x=0;x<P.length;x++)f=z+E.l2p(P[x].x),w("grid",E,f,N,f,N+R);if(O.showgrid)for(x=0;x<I.length;x++)w("grid",O,z,S=N+F+Z*I[x].x,z+j,S);o(c,E,O)&&(f=z+E.l2p(0),w("zeroline",E,f,N,f,N+R)),o(c,O,E)&&w("zeroline",O,z,S=N+F+0,z+j,S)}var U=[];for(x in m)U.push(m[x]);return U}(l))}q.exports={name:t,attr:b.attr,attrRegex:b.attrRegex,layoutAttributes:b.layoutAttributes,supplyLayoutDefaults:b.supplyLayoutDefaults,drawFramework:b.drawFramework,plot:function(l){var s=l._fullLayout,u=k.getModule(t),p=_(l.calcdata,u)[0];a(l,["ANGLE_instanced_arrays","OES_element_index_uint"],i)&&(s._hasOnlyLargeSploms&&r(l),u.plot(l,{},p))},drag:function(l){var s=l.calcdata,u=l._fullLayout;u._hasOnlyLargeSploms&&r(l);for(var p=0;p<s.length;p++){var c=s[p][0].trace,x=u._splomScenes[c.uid];c.type==="splom"&&x&&x.matrix&&n(l,c,x)}},updateGrid:r,clean:function(l,s,u,p){var c,x={};if(p._splomScenes){for(c=0;c<l.length;c++){var g=l[c];g.type==="splom"&&(x[g.uid]=1)}for(c=0;c<u.length;c++){var d=u[c];if(!x[d.uid]){var v=p._splomScenes[d.uid];v&&v.destroy&&v.destroy(),p._splomScenes[d.uid]=null,delete p._splomScenes[d.uid]}}}Object.keys(p._splomScenes||{}).length===0&&delete p._splomScenes,p._splomGrid&&!s._hasOnlyLargeSploms&&p._hasOnlyLargeSploms&&(p._splomGrid.destroy(),p._splomGrid=null,delete p._splomGrid),b.clean(l,s,u,p)},updateFx:b.updateFx,toSVG:b.toSVG,reglPrecompiled:i}},87625:function(q,C,e){var M=e(71828),k=e(41675),a=e(47761).calcMarkerSize,_=e(47761).calcAxisExpansion,b=e(36922),h=e(19635).markerSelection,o=e(19635).markerStyle,t=e(10164),i=e(50606).BADNUM,n=e(78232).TOO_MANY_POINTS;q.exports=function(r,l){var s,u,p,c,x,g,d=l.dimensions,v=l._length,y={},m=y.cdata=[],w=y.data=[],f=l._visibleDims=[];function S(E,O){for(var P=E.makeCalcdata({v:O.values,vcalendar:l.calendar},"v"),I=0;I<P.length;I++)P[I]=P[I]===i?NaN:P[I];m.push(P),w.push(E.type==="log"?M.simpleMap(P,E.c2l):P)}for(s=0;s<d.length;s++)if((p=d[s]).visible){if(c=k.getFromId(r,l._diag[s][0]),x=k.getFromId(r,l._diag[s][1]),c&&x&&c.type!==x.type){M.log("Skipping splom dimension "+s+" with conflicting axis types");continue}c?(S(c,p),x&&x.type==="category"&&(x._categories=c._categories.slice())):S(x,p),f.push(s)}for(b(r,l),M.extendFlat(y,o(r,l)),g=m.length*v>n?y.sizeAvg||Math.max(y.size,3):a(l,v),u=0;u<f.length;u++)p=d[s=f[u]],c=k.getFromId(r,l._diag[s][0])||{},x=k.getFromId(r,l._diag[s][1])||{},_(r,l,c,x,m[u],m[u],g);var T=t(r,l);return T.matrix||(T.matrix=!0),T.matrixOptions=y,T.selectedOptions=h(r,l,l.selected),T.unselectedOptions=h(r,l,l.unselected),[{x:!1,y:!1,t:{},trace:l}]}},25784:function(q,C,e){var M=e(71828),k=e(85501),a=e(46880),_=e(34098),b=e(49508),h=e(94397),o=e(68645).isOpenSymbol;function t(i,n){function r(s,u){return M.coerce(i,n,a.dimensions,s,u)}r("label");var l=r("values");l&&l.length?r("visible"):n.visible=!1,r("axis.type"),r("axis.matches")}q.exports=function(i,n,r,l){function s(v,y){return M.coerce(i,n,a,v,y)}var u=k(i,n,{name:"dimensions",handleItemDefaults:t}),p=s("diagonal.visible"),c=s("showupperhalf"),x=s("showlowerhalf");if(h(n,u,"values")&&(p||c||x)){s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),b(i,n,r,l,s,{noAngleRef:!0,noStandOff:!0});var g=o(n.marker.symbol),d=_.isBubble(n);s("marker.line.width",g||d?1:0),function(v,y,m,w){var f,S,T=y.dimensions,E=T.length,O=y.showupperhalf,P=y.showlowerhalf,I=y.diagonal.visible,z=new Array(E),j=new Array(E);for(f=0;f<E;f++){var R=f?f+1:"";z[f]="x"+R,j[f]="y"+R}var N=w("xaxes",z),Z=w("yaxes",j),F=y._diag=new Array(E);y._xaxes={},y._yaxes={};var U=[],V=[];function te(ue,pe,de,ye){if(ue){var be=ue.charAt(0),me=m._splomAxes[be];if(y["_"+be+"axes"][ue]=1,ye.push(ue),!(ue in me)){var Ee=me[ue]={};de&&(Ee.label=de.label||"",de.visible&&de.axis&&(de.axis.type&&(Ee.type=de.axis.type),de.axis.matches&&(Ee.matches=pe)))}}}var Q=!I&&!P,J=!I&&!O;for(y._axesDim={},f=0;f<E;f++){var X=T[f],K=f===0,ee=f===E-1,re=K&&Q||ee&&J?void 0:N[f],ie=K&&J||ee&&Q?void 0:Z[f];te(re,ie,X,U),te(ie,re,X,V),F[f]=[re,ie],y._axesDim[re]=f,y._axesDim[ie]=f}for(f=0;f<U.length;f++)for(S=0;S<V.length;S++){var ae=U[f]+V[S];f>S&&O||f<S&&P?m._splomSubplots[ae]=1:f!==S||!I&&P&&O||(m._splomSubplots[ae]=1)}(!P||!I&&O&&P)&&(m._splomGridDflt.xside="bottom",m._splomGridDflt.yside="left")}(0,n,l,s),M.coerceSelectionMarkerOpacity(n,s)}else n.visible=!1}},28801:function(q,C,e){var M=e(71828),k=e(36922),a=e(19635).markerStyle;q.exports=function(_,b){var h=b.trace,o=_._fullLayout._splomScenes[h.uid];if(o){k(_,h),M.extendFlat(o.matrixOptions,a(_,h));var t=M.extendFlat({},o.matrixOptions,o.viewOpts);o.matrix.update(t,null)}}},35948:function(q,C){C.getDimIndex=function(e,M){for(var k=M._id,a={x:0,y:1}[k.charAt(0)],_=e._visibleDims,b=0;b<_.length;b++){var h=_[b];if(e._diag[h][a]===k)return b}return!1}},8567:function(q,C,e){var M=e(35948),k=e(20794).calcHover;q.exports={hoverPoints:function(a,_,b){var h=a.cd[0].trace,o=a.scene.matrixOptions.cdata,t=a.xa,i=a.ya,n=t.c2p(_),r=i.c2p(b),l=a.distance,s=M.getDimIndex(h,t),u=M.getDimIndex(h,i);if(s===!1||u===!1)return[a];for(var p,c,x=o[s],g=o[u],d=l,v=0;v<x.length;v++){var y=x[v],m=g[v],w=t.c2p(y)-n,f=i.c2p(m)-r,S=Math.sqrt(w*w+f*f);S<d&&(d=c=S,p=v)}return a.index=p,a.distance=d,a.dxy=c,p===void 0?[a]:[k(a,x,g,h)]}}},6419:function(q,C,e){var M=e(65017);M.basePlotModule=e(16947),q.exports=M},79410:function(q,C,e){var M=e(60487),k=e(71828),a=e(41675),_=e(64505).selectMode;function b(h,o){var t,i,n,r,l,s=h._fullLayout,u=s._size,p=o.trace,c=o.t,x=s._splomScenes[p.uid],g=x.matrixOptions,d=g.cdata,v=s._glcanvas.data()[0].regl,y=s.dragmode;if(d.length!==0){g.lower=p.showupperhalf,g.upper=p.showlowerhalf,g.diagonal=p.diagonal.visible;var m=p._visibleDims,w=d.length,f=x.viewOpts={};for(f.ranges=new Array(w),f.domains=new Array(w),l=0;l<m.length;l++){n=m[l];var S=f.ranges[l]=new Array(4),T=f.domains[l]=new Array(4);(t=a.getFromId(h,p._diag[n][0]))&&(S[0]=t._rl[0],S[2]=t._rl[1],T[0]=t.domain[0],T[2]=t.domain[1]),(i=a.getFromId(h,p._diag[n][1]))&&(S[1]=i._rl[0],S[3]=i._rl[1],T[1]=i.domain[0],T[3]=i.domain[1])}var E=h._context.plotGlPixelRatio,O=u.l*E,P=u.b*E,I=u.w*E,z=u.h*E;f.viewport=[O,P,I+O,z+P],x.matrix===!0&&(x.matrix=M(v));var j=s.clickmode.indexOf("select")>-1,R=!0;if(_(y)||p.selectedpoints||j){var N=p._length;if(p.selectedpoints){x.selectBatch=p.selectedpoints;var Z=p.selectedpoints,F={};for(n=0;n<Z.length;n++)F[Z[n]]=!0;var U=[];for(n=0;n<N;n++)F[n]||U.push(n);x.unselectBatch=U}var V=c.xpx=new Array(w),te=c.ypx=new Array(w);for(l=0;l<m.length;l++){if(n=m[l],t=a.getFromId(h,p._diag[n][0]))for(V[l]=new Array(N),r=0;r<N;r++)V[l][r]=t.c2p(d[l][r]);if(i=a.getFromId(h,p._diag[n][1]))for(te[l]=new Array(N),r=0;r<N;r++)te[l][r]=i.c2p(d[l][r])}if(x.selectBatch.length||x.unselectBatch.length){var Q=k.extendFlat({},g,x.unselectedOptions,f),J=k.extendFlat({},g,x.selectedOptions,f);x.matrix.update(Q,J),R=!1}}else c.xpx=c.ypx=null;if(R){var X=k.extendFlat({},g,f);x.matrix.update(X,null)}}}q.exports=function(h,o,t){if(t.length)for(var i=0;i<t.length;i++)b(h,t[i][0])}},10164:function(q,C,e){var M=e(71828);q.exports=function(k,a){var _=k._fullLayout,b=a.uid,h=_._splomScenes;h||(h=_._splomScenes={});var o={dirty:!0,selectBatch:[],unselectBatch:[]},t=h[a.uid];return t||((t=h[b]=M.extendFlat({},o,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){t.matrix&&t.matrix.draw&&(t.selectBatch.length||t.unselectBatch.length?t.matrix.draw(t.unselectBatch,t.selectBatch):t.matrix.draw()),t.dirty=!1},t.destroy=function(){t.matrix&&t.matrix.destroy&&t.matrix.destroy(),t.matrixOptions=null,t.selectBatch=null,t.unselectBatch=null,t=null}),t.dirty||M.extendFlat(t,o),t}},8689:function(q,C,e){var M=e(71828),k=M.pushUnique,a=e(34098),_=e(35948);q.exports=function(b,h){var o=b.cd,t=o[0].trace,i=o[0].t,n=b.scene,r=n.matrixOptions.cdata,l=b.xaxis,s=b.yaxis,u=[];if(!n)return u;var p=!a.hasMarkers(t)&&!a.hasText(t);if(t.visible!==!0||p)return u;var c=_.getDimIndex(t,l),x=_.getDimIndex(t,s);if(c===!1||x===!1)return u;var g=i.xpx[c],d=i.ypx[x],v=r[c],y=r[x],m=(b.scene.selectBatch||[]).slice(),w=[];if(h!==!1&&!h.degenerate)for(var f=0;f<v.length;f++)h.contains([g[f],d[f]],null,f,b)?(u.push({pointNumber:f,x:v[f],y:y[f]}),k(m,f)):m.indexOf(f)!==-1?k(m,f):w.push(f);var S=n.matrixOptions;return m.length||w.length?n.selectBatch.length||n.unselectBatch.length||n.matrix.update(n.unselectedOptions,M.extendFlat({},S,n.selectedOptions,n.viewOpts)):n.matrix.update(S,null),n.selectBatch=m,n.unselectBatch=w,u}},21850:function(q,C,e){var M=e(50693),k=e(12663).axisHoverFormat,a=e(5386).fF,_=e(2418),b=e(9012),h=e(1426).extendFlat,o={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:k("u",1),vhoverformat:k("v",1),whoverformat:k("w",1),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),showlegend:h({},b.showlegend,{dflt:!1})};h(o,M("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){o[t]=_[t]}),o.hoverinfo=h({},b.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),o.transforms=void 0,q.exports=o},88489:function(q,C,e){var M=e(71828),k=e(78803);function a(h){var o,t,i,n,r,l,s,u,p,c,x,g,d=h._x,v=h._y,y=h._z,m=h._len,w=-1/0,f=1/0,S=-1/0,T=1/0,E=-1/0,O=1/0,P="";for(m&&(s=d[0],p=v[0],x=y[0]),m>1&&(u=d[m-1],c=v[m-1],g=y[m-1]),o=0;o<m;o++)w=Math.max(w,d[o]),f=Math.min(f,d[o]),S=Math.max(S,v[o]),T=Math.min(T,v[o]),E=Math.max(E,y[o]),O=Math.min(O,y[o]),n||d[o]===s||(n=!0,P+="x"),r||v[o]===p||(r=!0,P+="y"),l||y[o]===x||(l=!0,P+="z");n||(P+="x"),r||(P+="y"),l||(P+="z");var I=_(h._x),z=_(h._y),j=_(h._z);P=(P=(P=P.replace("x",(s>u?"-":"+")+"x")).replace("y",(p>c?"-":"+")+"y")).replace("z",(x>g?"-":"+")+"z");var R=function(){m=0,I=[],z=[],j=[]};(!m||m<I.length*z.length*j.length)&&R();var N=function(be){return be==="x"?d:be==="y"?v:y},Z=function(be){return be==="x"?I:be==="y"?z:j},F=function(be){return be[m-1]<be[0]?-1:1},U=N(P[1]),V=N(P[3]),te=N(P[5]),Q=Z(P[1]).length,J=Z(P[3]).length,X=Z(P[5]).length,K=!1,ee=function(be,me,Ee){return Q*(J*be+me)+Ee},re=F(N(P[1])),ie=F(N(P[3])),ae=F(N(P[5]));for(o=0;o<X-1;o++){for(t=0;t<J-1;t++){for(i=0;i<Q-1;i++){var ue=ee(o,t,i),pe=ee(o,t,i+1),de=ee(o,t+1,i),ye=ee(o+1,t,i);if(U[ue]*re<U[pe]*re&&V[ue]*ie<V[de]*ie&&te[ue]*ae<te[ye]*ae||(K=!0),K)break}if(K)break}if(K)break}return K&&(M.warn("Encountered arbitrary coordinates! Unable to input data grid."),R()),{xMin:f,yMin:T,zMin:O,xMax:w,yMax:S,zMax:E,Xs:I,Ys:z,Zs:j,len:m,fill:P}}function _(h){return M.distinctVals(h).vals}function b(h,o){if(o===void 0&&(o=h.length),M.isTypedArray(h))return h.subarray(0,o);for(var t=[],i=0;i<o;i++)t[i]=+h[i];return t}q.exports={calc:function(h,o){o._len=Math.min(o.u.length,o.v.length,o.w.length,o.x.length,o.y.length,o.z.length),o._u=b(o.u,o._len),o._v=b(o.v,o._len),o._w=b(o.w,o._len),o._x=b(o.x,o._len),o._y=b(o.y,o._len),o._z=b(o.z,o._len);var t=a(o);o._gridFill=t.fill,o._Xs=t.Xs,o._Ys=t.Ys,o._Zs=t.Zs,o._len=t.len;var i,n,r,l=0;o.starts&&(i=b(o.starts.x||[]),n=b(o.starts.y||[]),r=b(o.starts.z||[]),l=Math.min(i.length,n.length,r.length)),o._startsX=i||[],o._startsY=n||[],o._startsZ=r||[];var s,u=0,p=1/0;for(s=0;s<o._len;s++){var c=o._u[s],x=o._v[s],g=o._w[s],d=Math.sqrt(c*c+x*x+g*g);u=Math.max(u,d),p=Math.min(p,d)}for(k(h,o,{vals:[p,u],containerStr:"",cLetter:"c"}),s=0;s<l;s++){var v=i[s];t.xMax=Math.max(t.xMax,v),t.xMin=Math.min(t.xMin,v);var y=n[s];t.yMax=Math.max(t.yMax,y),t.yMin=Math.min(t.yMin,y);var m=r[s];t.zMax=Math.max(t.zMax,m),t.zMin=Math.min(t.zMin,m)}o._slen=l,o._normMax=u,o._xbnds=[t.xMin,t.xMax],o._ybnds=[t.yMin,t.yMax],o._zbnds=[t.zMin,t.zMax]},filter:b,processGrid:a}},90154:function(q,C,e){var M=e(9330).gl_streamtube3d,k=M.createTubeMesh,a=e(71828),_=e(81697).parseColorScale,b=e(21081).extractOpts,h=e(90060),o={xaxis:0,yaxis:1,zaxis:2};function t(s,u){this.scene=s,this.uid=u,this.mesh=null,this.data=null}var i=t.prototype;function n(s){var u=s.length;return u>2?s.slice(1,u-1):u===2?[(s[0]+s[1])/2]:s}function r(s){var u=s.length;return u===1?[.5,.5]:[s[1]-s[0],s[u-1]-s[u-2]]}function l(s,u){var p=s.fullSceneLayout,c=s.dataScale,x=u._len,g={};function d(Q,J){var X=p[J],K=c[o[J]];return a.simpleMap(Q,function(ee){return X.d2l(ee)*K})}if(g.vectors=h(d(u._u,"xaxis"),d(u._v,"yaxis"),d(u._w,"zaxis"),x),!x)return{positions:[],cells:[]};var v=d(u._Xs,"xaxis"),y=d(u._Ys,"yaxis"),m=d(u._Zs,"zaxis");if(g.meshgrid=[v,y,m],g.gridFill=u._gridFill,u._slen)g.startingPositions=h(d(u._startsX,"xaxis"),d(u._startsY,"yaxis"),d(u._startsZ,"zaxis"));else{for(var w=y[0],f=n(v),S=n(m),T=new Array(f.length*S.length),E=0,O=0;O<f.length;O++)for(var P=0;P<S.length;P++)T[E++]=[f[O],w,S[P]];g.startingPositions=T}g.colormap=_(u),g.tubeSize=u.sizeref,g.maxLength=u.maxdisplayed;var I=d(u._xbnds,"xaxis"),z=d(u._ybnds,"yaxis"),j=d(u._zbnds,"zaxis"),R=r(v),N=r(y),Z=r(m),F=[[I[0]-R[0],z[0]-N[0],j[0]-Z[0]],[I[1]+R[1],z[1]+N[1],j[1]+Z[1]]],U=M(g,F),V=b(u);U.vertexIntensityBounds=[V.min/u._normMax,V.max/u._normMax];var te=u.lightposition;return U.lightPosition=[te.x,te.y,te.z],U.ambient=u.lighting.ambient,U.diffuse=u.lighting.diffuse,U.specular=u.lighting.specular,U.roughness=u.lighting.roughness,U.fresnel=u.lighting.fresnel,U.opacity=u.opacity,u._pad=U.tubeScale*u.sizeref*2,U}i.handlePick=function(s){var u=this.scene.fullSceneLayout,p=this.scene.dataScale;function c(d,v){var y=u[v],m=p[o[v]];return y.l2c(d)/m}if(s.object===this.mesh){var x=s.data.position,g=s.data.velocity;return s.traceCoordinate=[c(x[0],"xaxis"),c(x[1],"yaxis"),c(x[2],"zaxis"),c(g[0],"xaxis"),c(g[1],"yaxis"),c(g[2],"zaxis"),s.data.intensity*this.data._normMax,s.data.divergence],s.textLabel=this.data.hovertext||this.data.text,!0}},i.update=function(s){this.data=s;var u=l(this.scene,s);this.mesh.update(u)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},q.exports=function(s,u){var p=s.glplot.gl,c=l(s,u),x=k(p,c),g=new t(s,u.uid);return g.mesh=x,g.data=u,x._trace=g,s.glplot.add(x),g}},22459:function(q,C,e){var M=e(71828),k=e(1586),a=e(21850);q.exports=function(_,b,h,o){function t(p,c){return M.coerce(_,b,a,p,c)}var i=t("u"),n=t("v"),r=t("w"),l=t("x"),s=t("y"),u=t("z");i&&i.length&&n&&n.length&&r&&r.length&&l&&l.length&&s&&s.length&&u&&u.length?(t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),k(_,b,o,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),b._length=null):b.visible=!1}},61510:function(q,C,e){q.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(M,k){return M.tubex=M.x,M.tubey=M.y,M.tubez=M.z,M.tubeu=k.traceCoordinate[3],M.tubev=k.traceCoordinate[4],M.tubew=k.traceCoordinate[5],M.norm=k.traceCoordinate[6],M.divergence=k.traceCoordinate[7],delete M.x,delete M.y,delete M.z,M},meta:{}}},57564:function(q,C,e){var M=e(9012),k=e(5386).fF,a=e(5386).si,_=e(50693),b=e(27670).Y,h=e(34e3),o=e(7055),t=e(1426).extendFlat,i=e(79952).u;q.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},h.marker.line.color,{dflt:null}),width:t({},h.marker.line.width,{dflt:1}),editType:"calc"},pattern:i,editType:"calc"},_("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:h.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:a({editType:"plot"},{keys:o.eventDataKeys.concat(["label","value"])}),hovertext:h.hovertext,hoverinfo:t({},M.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:k({},{keys:o.eventDataKeys}),textfont:h.textfont,insidetextorientation:h.insidetextorientation,insidetextfont:h.insidetextfont,outsidetextfont:t({},h.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:h.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:b({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(q,C,e){var M=e(74875);C.name="sunburst",C.plot=function(k,a,_,b){M.plotBasePlot(C.name,k,a,_,b)},C.clean=function(k,a,_,b){M.cleanBasePlot(C.name,k,a,_,b)}},52147:function(q,C,e){var M=e(674),k=e(92770),a=e(71828),_=e(21081).makeColorScaleFuncFromTrace,b=e(32354).makePullColorFn,h=e(32354).generateExtendedColors,o=e(21081).calc,t=e(50606).ALMOST_EQUAL,i={},n={},r={};function l(s,u,p){var c=0,x=s.children;if(x){for(var g=x.length,d=0;d<g;d++)c+=l(x[d],u,p);p.branches&&c++}else p.leaves&&c++;return s.value=s.data.data.value=c,u._values||(u._values=[]),u._values[s.data.data.i]=c,c}C.calc=function(s,u){var p,c,x,g,d,v,y=s._fullLayout,m=u.ids,w=a.isArrayOrTypedArray(m),f=u.labels,S=u.parents,T=u.values,E=a.isArrayOrTypedArray(T),O=[],P={},I={},z=function(ae){return ae||typeof ae=="number"},j=function(ae){return!E||k(T[ae])&&T[ae]>=0};w?(p=Math.min(m.length,S.length),c=function(ae){return z(m[ae])&&j(ae)},x=function(ae){return String(m[ae])}):(p=Math.min(f.length,S.length),c=function(ae){return z(f[ae])&&j(ae)},x=function(ae){return String(f[ae])}),E&&(p=Math.min(p,T.length));for(var R=0;R<p;R++)if(c(R)){var N=x(R),Z=z(S[R])?String(S[R]):"",F={i:R,id:N,pid:Z,label:z(f[R])?String(f[R]):""};E&&(F.v=+T[R]),O.push(F),d=N,P[g=Z]?P[g].push(d):P[g]=[d],I[d]=1}if(P[""]){if(P[""].length>1){for(var U=a.randstr(),V=0;V<O.length;V++)O[V].pid===""&&(O[V].pid=U);O.unshift({hasMultipleRoots:!0,id:U,pid:"",label:""})}}else{var te,Q=[];for(te in P)I[te]||Q.push(te);if(Q.length!==1)return a.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",Q.join(", ")].join(" "));te=Q[0],O.unshift({hasImpliedRoot:!0,id:te,pid:"",label:te})}try{v=M.stratify().id(function(ae){return ae.id}).parentId(function(ae){return ae.pid})(O)}catch(ae){return a.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",ae.message].join(" "))}var J=M.hierarchy(v),X=!1;if(E)switch(u.branchvalues){case"remainder":J.sum(function(ae){return ae.data.v});break;case"total":J.each(function(ae){var ue=ae.data.data,pe=ue.v;if(ae.children){var de=ae.children.reduce(function(ye,be){return ye+be.data.data.v},0);if((ue.hasImpliedRoot||ue.hasMultipleRoots)&&(pe=de),pe<de*t)return X=!0,a.warn(["Total value for node",ae.data.data.id,"of",u.name,"is smaller than the sum of its children.",`
parent value =`,pe,`
children sum =`,de].join(" "))}ae.value=pe})}else l(J,u,{branches:u.count.indexOf("branches")!==-1,leaves:u.count.indexOf("leaves")!==-1});if(!X){var K,ee;u.sort&&J.sort(function(ae,ue){return ue.value-ae.value});var re=u.marker.colors||[],ie=!!re.length;return u._hasColorscale?(ie||(re=E?u.values:u._values),o(s,u,{vals:re,containerStr:"marker",cLetter:"c"}),ee=_(u.marker)):K=b(y["_"+u.type+"colormap"]),J.each(function(ae){var ue=ae.data.data;ue.color=u._hasColorscale?ee(re[ue.i]):K(re[ue.i],ue.id)}),O[0].hierarchy=J,O}},C._runCrossTraceCalc=function(s,u){var p=u._fullLayout,c=u.calcdata,x=p[s+"colorway"],g=p["_"+s+"colormap"];p["extend"+s+"colors"]&&(x=h(x,s==="icicle"?r:s==="treemap"?n:i));var d,v=0;function y(f){var S=f.data.data,T=S.id;S.color===!1&&(g[T]?S.color=g[T]:f.parent?f.parent.parent?S.color=f.parent.data.data.color:(g[T]=S.color=x[v%x.length],v++):S.color=d)}for(var m=0;m<c.length;m++){var w=c[m][0];w.trace.type===s&&w.hierarchy&&(d=w.trace.root.color,w.hierarchy.each(y))}},C.crossTraceCalc=function(s){return C._runCrossTraceCalc("sunburst",s)}},7055:function(q){q.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(q,C,e){var M=e(71828),k=e(57564),a=e(27670).c,_=e(90769).handleText,b=e(37434).handleMarkerDefaults,h=e(21081),o=h.hasColorscale,t=h.handleDefaults;q.exports=function(i,n,r,l){function s(d,v){return M.coerce(i,n,k,d,v)}var u=s("labels"),p=s("parents");if(u&&u.length&&p&&p.length){var c=s("values");c&&c.length?s("branchvalues"):s("count"),s("level"),s("maxdepth"),b(i,n,l,s);var x=n._hasColorscale=o(i,"marker","colors")||(i.marker||{}).coloraxis;x&&t(i,n,l,s,{prefix:"marker.",cLetter:"c"}),s("leaf.opacity",x?1:.7);var g=s("text");s("texttemplate"),n.texttemplate||s("textinfo",M.isArrayOrTypedArray(g)?"text+label":"label"),s("hovertext"),s("hovertemplate"),_(i,n,l,s,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),s("insidetextorientation"),s("sort"),s("rotation"),s("root.color"),a(n,l,s),n._length=null}else n.visible=!1}},43467:function(q,C,e){var M=e(91424),k=e(7901);q.exports=function(a,_,b,h,o){var t=_.data.data,i=t.i,n=o||t.color;if(i>=0){_.i=t.i;var r=b.marker;r.pattern&&r.colors&&r.pattern.shape||(r.color=n,_.color=n),M.pointStyle(a,b,h,_)}else k.fill(a,n)}},83523:function(q,C,e){var M=e(39898),k=e(73972),a=e(23469).appendArrayPointValue,_=e(30211),b=e(71828),h=e(11086),o=e(2791),t=e(53581).formatPieValue;function i(n,r,l){for(var s=n.data.data,u={curveNumber:r.index,pointNumber:s.i,data:r._input,fullData:r},p=0;p<l.length;p++){var c=l[p];c in n&&(u[c]=n[c])}return"parentString"in n&&!o.isHierarchyRoot(n)&&(u.parent=n.parentString),a(u,r,s.i),u}q.exports=function(n,r,l,s,u){var p=s[0],c=p.trace,x=p.hierarchy,g=c.type==="sunburst",d=c.type==="treemap"||c.type==="icicle";"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1),n.on("mouseover",function(v){var y=l._fullLayout;if(!l._dragging&&y.hovermode!==!1){var m,w=l._fullData[c.index],f=v.data.data,S=f.i,T=o.isHierarchyRoot(v),E=o.getParent(x,v),O=o.getValue(v),P=function(re){return b.castOption(w,S,re)},I=P("hovertemplate"),z=_.castHoverinfo(w,y,S),j=y.separators;if(I||z&&z!=="none"&&z!=="skip"){var R,N;g&&(R=p.cx+v.pxmid[0]*(1-v.rInscribed),N=p.cy+v.pxmid[1]*(1-v.rInscribed)),d&&(R=v._hoverX,N=v._hoverY);var Z,F={},U=[],V=[],te=function(re){return U.indexOf(re)!==-1};z&&(U=z==="all"?w._module.attributes.hoverinfo.flags:z.split("+")),F.label=f.label,te("label")&&F.label&&V.push(F.label),f.hasOwnProperty("v")&&(F.value=f.v,F.valueLabel=t(F.value,j),te("value")&&V.push(F.valueLabel)),F.currentPath=v.currentPath=o.getPath(v.data),te("current path")&&!T&&V.push(F.currentPath);var Q=[],J=function(){Q.indexOf(Z)===-1&&(V.push(Z),Q.push(Z))};F.percentParent=v.percentParent=O/o.getValue(E),F.parent=v.parentString=o.getPtLabel(E),te("percent parent")&&(Z=o.formatPercent(F.percentParent,j)+" of "+F.parent,J()),F.percentEntry=v.percentEntry=O/o.getValue(r),F.entry=v.entry=o.getPtLabel(r),!te("percent entry")||T||v.onPathbar||(Z=o.formatPercent(F.percentEntry,j)+" of "+F.entry,J()),F.percentRoot=v.percentRoot=O/o.getValue(x),F.root=v.root=o.getPtLabel(x),te("percent root")&&!T&&(Z=o.formatPercent(F.percentRoot,j)+" of "+F.root,J()),F.text=P("hovertext")||P("text"),te("text")&&(Z=F.text,b.isValidTextValue(Z)&&V.push(Z)),m=[i(v,w,u.eventDataKeys)];var X={trace:w,y:N,_x0:v._x0,_x1:v._x1,_y0:v._y0,_y1:v._y1,text:V.join("<br>"),name:I||te("name")?w.name:void 0,color:P("hoverlabel.bgcolor")||f.color,borderColor:P("hoverlabel.bordercolor"),fontFamily:P("hoverlabel.font.family"),fontSize:P("hoverlabel.font.size"),fontColor:P("hoverlabel.font.color"),nameLength:P("hoverlabel.namelength"),textAlign:P("hoverlabel.align"),hovertemplate:I,hovertemplateLabels:F,eventData:m};g&&(X.x0=R-v.rInscribed*v.rpx1,X.x1=R+v.rInscribed*v.rpx1,X.idealAlign=v.pxmid[0]<0?"left":"right"),d&&(X.x=R,X.idealAlign=R<0?"left":"right");var K=[];_.loneHover(X,{container:y._hoverlayer.node(),outerContainer:y._paper.node(),gd:l,inOut_bbox:K}),m[0].bbox=K[0],c._hasHoverLabel=!0}if(d){var ee=n.select("path.surface");u.styleOne(ee,v,w,l,{hovered:!0})}c._hasHoverEvent=!0,l.emit("plotly_hover",{points:m||[i(v,w,u.eventDataKeys)],event:M.event})}}),n.on("mouseout",function(v){var y=l._fullLayout,m=l._fullData[c.index],w=M.select(this).datum();if(c._hasHoverEvent&&(v.originalEvent=M.event,l.emit("plotly_unhover",{points:[i(w,m,u.eventDataKeys)],event:M.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(_.loneUnhover(y._hoverlayer.node()),c._hasHoverLabel=!1),d){var f=n.select("path.surface");u.styleOne(f,w,m,l,{hovered:!1})}}),n.on("click",function(v){var y=l._fullLayout,m=l._fullData[c.index],w=g&&(o.isHierarchyRoot(v)||o.isLeaf(v)),f=o.getPtId(v),S=o.isEntry(v)?o.findEntryWithChild(x,f):o.findEntryWithLevel(x,f),T=o.getPtId(S),E={points:[i(v,m,u.eventDataKeys)],event:M.event};w||(E.nextLevel=T);var O=h.triggerHandler(l,"plotly_"+c.type+"click",E);if(O!==!1&&y.hovermode&&(l._hoverdata=[i(v,m,u.eventDataKeys)],_.click(l,M.event)),!w&&O!==!1&&!l._dragging&&!l._transitioning){k.call("_storeDirectGUIEdit",m,y._tracePreGUI[m.uid],{level:m.level});var P={data:[{level:T}],traces:[c.index]},I={frame:{redraw:!1,duration:u.transitionTime},transition:{duration:u.transitionTime,easing:u.transitionEasing},mode:"immediate",fromcurrent:!0};_.loneUnhover(y._hoverlayer.node()),k.call("animate",l,P,I)}})}},2791:function(q,C,e){var M=e(71828),k=e(7901),a=e(6964),_=e(53581);function b(h){return h.data.data.pid}C.findEntryWithLevel=function(h,o){var t;return o&&h.eachAfter(function(i){if(C.getPtId(i)===o)return t=i.copy()}),t||h},C.findEntryWithChild=function(h,o){var t;return h.eachAfter(function(i){for(var n=i.children||[],r=0;r<n.length;r++){var l=n[r];if(C.getPtId(l)===o)return t=i.copy()}}),t||h},C.isEntry=function(h){return!h.parent},C.isLeaf=function(h){return!h.children},C.getPtId=function(h){return h.data.data.id},C.getPtLabel=function(h){return h.data.data.label},C.getValue=function(h){return h.value},C.isHierarchyRoot=function(h){return b(h)===""},C.setSliceCursor=function(h,o,t){var i=t.isTransitioning;if(!i){var n=h.datum();i=t.hideOnRoot&&C.isHierarchyRoot(n)||t.hideOnLeaves&&C.isLeaf(n)}a(h,i?null:"pointer")},C.getInsideTextFontKey=function(h,o,t,i,n){var r=(n||{}).onPathbar?"pathbar.textfont":"insidetextfont",l=t.data.data.i;return M.castOption(o,l,r+"."+h)||M.castOption(o,l,"textfont."+h)||i.size},C.getOutsideTextFontKey=function(h,o,t,i){var n=t.data.data.i;return M.castOption(o,n,"outsidetextfont."+h)||M.castOption(o,n,"textfont."+h)||i.size},C.isOutsideText=function(h,o){return!h._hasColorscale&&C.isHierarchyRoot(o)},C.determineTextFont=function(h,o,t,i){return C.isOutsideText(h,o)?function(n,r,l){return{color:C.getOutsideTextFontKey("color",n,r,l),family:C.getOutsideTextFontKey("family",n,r,l),size:C.getOutsideTextFontKey("size",n,r,l)}}(h,o,t):function(n,r,l,s){var u=(s||{}).onPathbar,p=r.data.data,c=p.i,x=M.castOption(n,c,(u?"pathbar.textfont":"insidetextfont")+".color");return!x&&n._input.textfont&&(x=M.castOption(n._input,c,"textfont.color")),{color:x||k.contrast(p.color),family:C.getInsideTextFontKey("family",n,r,l,s),size:C.getInsideTextFontKey("size",n,r,l,s)}}(h,o,t,i)},C.hasTransition=function(h){return!!(h&&h.duration>0)},C.getMaxDepth=function(h){return h.maxdepth>=0?h.maxdepth:1/0},C.isHeader=function(h,o){return!(C.isLeaf(h)||h.depth===o._maxDepth-1)},C.getParent=function(h,o){return C.findEntryWithLevel(h,b(o))},C.listPath=function(h,o){var t=h.parent;if(!t)return[];var i=o?[t.data[o]]:[t];return C.listPath(t,o).concat(i)},C.getPath=function(h){return C.listPath(h,"label").join("/")+"/"},C.formatValue=_.formatPieValue,C.formatPercent=function(h,o){var t=M.formatPercent(h,0);return t==="0%"&&(t=_.formatPiePercent(h,o)),t}},87619:function(q,C,e){q.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(q){q.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(q,C,e){var M=e(71828),k=e(2654);q.exports=function(a,_){function b(h,o){return M.coerce(a,_,k,h,o)}b("sunburstcolorway",_.colorway),b("extendsunburstcolors")}},24714:function(q,C,e){var M=e(39898),k=e(674),a=e(81684).sX,_=e(91424),b=e(71828),h=e(63893),o=e(72597),t=o.recordMinTextSize,i=o.clearMinTextSize,n=e(14575),r=e(53581).getRotationAngle,l=n.computeTransform,s=n.transformInsideText,u=e(29969).styleOne,p=e(16688).resizeText,c=e(83523),x=e(7055),g=e(2791);function d(y,m,w,f){var S=y._context.staticPlot,T=y._fullLayout,E=!T.uniformtext.mode&&g.hasTransition(f),O=M.select(w).selectAll("g.slice"),P=m[0],I=P.trace,z=P.hierarchy,j=g.findEntryWithLevel(z,I.level),R=g.getMaxDepth(I),N=T._size,Z=I.domain,F=N.w*(Z.x[1]-Z.x[0]),U=N.h*(Z.y[1]-Z.y[0]),V=.5*Math.min(F,U),te=P.cx=N.l+N.w*(Z.x[1]+Z.x[0])/2,Q=P.cy=N.t+N.h*(1-Z.y[0])-U/2;if(!j)return O.remove();var J=null,X={};E&&O.each(function(se){X[g.getPtId(se)]={rpx0:se.rpx0,rpx1:se.rpx1,x0:se.x0,x1:se.x1,transform:se.transform},!J&&g.isEntry(se)&&(J=se)});var K=function(se){return k.partition().size([2*Math.PI,se.height+1])(se)}(j).descendants(),ee=j.height+1,re=0,ie=R;P.hasMultipleRoots&&g.isHierarchyRoot(j)&&(K=K.slice(1),ee-=1,re=1,ie+=1),K=K.filter(function(se){return se.y1<=ie});var ae=r(I.rotation);ae&&K.forEach(function(se){se.x0+=ae,se.x1+=ae});var ue=Math.min(ee,R),pe=function(se){return(se-re)/ue*V},de=function(se,he){return[se*Math.cos(he),-se*Math.sin(he)]},ye=function(se){return b.pathAnnulus(se.rpx0,se.rpx1,se.x0,se.x1,te,Q)},be=function(se){return te+v(se)[0]*(se.transform.rCenter||0)+(se.transform.x||0)},me=function(se){return Q+v(se)[1]*(se.transform.rCenter||0)+(se.transform.y||0)};(O=O.data(K,g.getPtId)).enter().append("g").classed("slice",!0),E?O.exit().transition().each(function(){var se=M.select(this);se.select("path.surface").transition().attrTween("d",function(he){var Se=function(_e){var Ae,Ce=g.getPtId(_e),Re=X[Ce],fe=X[g.getPtId(j)];if(fe){var xe=(_e.x1>fe.x1?2*Math.PI:0)+ae;Ae=_e.rpx1<fe.rpx1?{x0:_e.x0,x1:_e.x1,rpx0:0,rpx1:0}:{x0:xe,x1:xe,rpx0:_e.rpx0,rpx1:_e.rpx1}}else{var ke,Ie=g.getPtId(_e.parent);O.each(function(Qe){if(g.getPtId(Qe)===Ie)return ke=Qe});var Fe,ze=ke.children;ze.forEach(function(Qe,ft){if(g.getPtId(Qe)===Ce)return Fe=ft});var qe=ze.length,Ye=a(ke.x0,ke.x1);Ae={rpx0:V,rpx1:V,x0:Ye(Fe/qe),x1:Ye((Fe+1)/qe)}}return a(Re,Ae)}(he);return function(_e){return ye(Se(_e))}}),se.select("g.slicetext").attr("opacity",0)}).remove():O.exit().remove(),O.order();var Ee=null;if(E&&J){var Te=g.getPtId(J);O.each(function(se){Ee===null&&g.getPtId(se)===Te&&(Ee=se.x1)})}var we=O;function oe(se){var he=se.parent,Se=X[g.getPtId(he)],_e={};if(Se){var Ae=he.children,Ce=Ae.indexOf(se),Re=Ae.length,fe=a(Se.x0,Se.x1);_e.x0=fe(Ce/Re),_e.x1=fe(Ce/Re)}else _e.x0=_e.x1=0;return _e}E&&(we=we.transition().each("end",function(){var se=M.select(this);g.setSliceCursor(se,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),we.each(function(se){var he=M.select(this),Se=b.ensureSingle(he,"path","surface",function(xe){xe.style("pointer-events",S?"none":"all")});se.rpx0=pe(se.y0),se.rpx1=pe(se.y1),se.xmid=(se.x0+se.x1)/2,se.pxmid=de(se.rpx1,se.xmid),se.midangle=-(se.xmid-Math.PI/2),se.startangle=-(se.x0-Math.PI/2),se.stopangle=-(se.x1-Math.PI/2),se.halfangle=.5*Math.min(b.angleDelta(se.x0,se.x1)||Math.PI,Math.PI),se.ring=1-se.rpx0/se.rpx1,se.rInscribed=function(xe){return xe.rpx0===0&&b.isFullCircle([xe.x0,xe.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(xe.halfangle)),xe.ring/2))}(se),E?Se.transition().attrTween("d",function(xe){var ke=function(Ie){var Fe,ze=X[g.getPtId(Ie)],qe={x0:Ie.x0,x1:Ie.x1,rpx0:Ie.rpx0,rpx1:Ie.rpx1};if(ze)Fe=ze;else if(J)if(Ie.parent)if(Ee){var Ye=(Ie.x1>Ee?2*Math.PI:0)+ae;Fe={x0:Ye,x1:Ye}}else Fe={rpx0:V,rpx1:V},b.extendFlat(Fe,oe(Ie));else Fe={rpx0:0,rpx1:0};else Fe={x0:ae,x1:ae};return a(Fe,qe)}(xe);return function(Ie){return ye(ke(Ie))}}):Se.attr("d",ye),he.call(c,j,y,m,{eventDataKeys:x.eventDataKeys,transitionTime:x.CLICK_TRANSITION_TIME,transitionEasing:x.CLICK_TRANSITION_EASING}).call(g.setSliceCursor,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:y._transitioning}),Se.call(u,se,I,y);var _e=b.ensureSingle(he,"g","slicetext"),Ae=b.ensureSingle(_e,"text","",function(xe){xe.attr("data-notex",1)}),Ce=b.ensureUniformFontSize(y,g.determineTextFont(I,se,T.font));Ae.text(C.formatSliceLabel(se,j,I,m,T)).classed("slicetext",!0).attr("text-anchor","middle").call(_.font,Ce).call(h.convertToTspans,y);var Re=_.bBox(Ae.node());se.transform=s(Re,se,P),se.transform.targetX=be(se),se.transform.targetY=me(se);var fe=function(xe,ke){var Ie=xe.transform;return l(Ie,ke),Ie.fontSize=Ce.size,t(I.type,Ie,T),b.getTextTransform(Ie)};E?Ae.transition().attrTween("transform",function(xe){var ke=function(Ie){var Fe,ze=X[g.getPtId(Ie)],qe=Ie.transform;if(ze)Fe=ze;else if(Fe={rpx1:Ie.rpx1,transform:{textPosAngle:qe.textPosAngle,scale:0,rotate:qe.rotate,rCenter:qe.rCenter,x:qe.x,y:qe.y}},J)if(Ie.parent)if(Ee){var Ye=Ie.x1>Ee?2*Math.PI:0;Fe.x0=Fe.x1=Ye}else b.extendFlat(Fe,oe(Ie));else Fe.x0=Fe.x1=ae;else Fe.x0=Fe.x1=ae;var Qe=a(Fe.transform.textPosAngle,Ie.transform.textPosAngle),ft=a(Fe.rpx1,Ie.rpx1),ht=a(Fe.x0,Ie.x0),mt=a(Fe.x1,Ie.x1),Mt=a(Fe.transform.scale,qe.scale),_t=a(Fe.transform.rotate,qe.rotate),it=qe.rCenter===0?3:Fe.transform.rCenter===0?1/3:1,st=a(Fe.transform.rCenter,qe.rCenter);return function(St){var zt=ft(St),Ft=ht(St),Pt=mt(St),Ze=function(Ue){return st(Math.pow(Ue,it))}(St),Je={pxmid:de(zt,(Ft+Pt)/2),rpx1:zt,transform:{textPosAngle:Qe(St),rCenter:Ze,x:qe.x,y:qe.y}};return t(I.type,qe,T),{transform:{targetX:be(Je),targetY:me(Je),scale:Mt(St),rotate:_t(St),rCenter:Ze}}}}(xe);return function(Ie){return fe(ke(Ie),Re)}}):Ae.attr("transform",fe(se,Re))})}function v(y){return m=y.rpx1,w=y.transform.textPosAngle,[m*Math.sin(w),-m*Math.cos(w)];var m,w}C.plot=function(y,m,w,f){var S,T,E=y._fullLayout,O=E._sunburstlayer,P=!w,I=!E.uniformtext.mode&&g.hasTransition(w);i("sunburst",E),(S=O.selectAll("g.trace.sunburst").data(m,function(z){return z[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),S.order(),I?(f&&(T=f()),M.transition().duration(w.duration).ease(w.easing).each("end",function(){T&&T()}).each("interrupt",function(){T&&T()}).each(function(){O.selectAll("g.trace").each(function(z){d(y,z,this,w)})})):(S.each(function(z){d(y,z,this,w)}),E.uniformtext.mode&&p(y,E._sunburstlayer.selectAll(".trace"),"sunburst")),P&&S.exit().remove()},C.formatSliceLabel=function(y,m,w,f,S){var T=w.texttemplate,E=w.textinfo;if(!(T||E&&E!=="none"))return"";var O=S.separators,P=f[0],I=y.data.data,z=P.hierarchy,j=g.isHierarchyRoot(y),R=g.getParent(z,y),N=g.getValue(y);if(!T){var Z,F=E.split("+"),U=function(ie){return F.indexOf(ie)!==-1},V=[];if(U("label")&&I.label&&V.push(I.label),I.hasOwnProperty("v")&&U("value")&&V.push(g.formatValue(I.v,O)),!j){U("current path")&&V.push(g.getPath(y.data));var te=0;U("percent parent")&&te++,U("percent entry")&&te++,U("percent root")&&te++;var Q=te>1;if(te){var J,X=function(ie){Z=g.formatPercent(J,O),Q&&(Z+=" of "+ie),V.push(Z)};U("percent parent")&&!j&&(J=N/g.getValue(R),X("parent")),U("percent entry")&&(J=N/g.getValue(m),X("entry")),U("percent root")&&(J=N/g.getValue(z),X("root"))}}return U("text")&&(Z=b.castOption(w,I.i,"text"),b.isValidTextValue(Z)&&V.push(Z)),V.join("<br>")}var K=b.castOption(w,I.i,"texttemplate");if(!K)return"";var ee={};I.label&&(ee.label=I.label),I.hasOwnProperty("v")&&(ee.value=I.v,ee.valueLabel=g.formatValue(I.v,O)),ee.currentPath=g.getPath(y.data),j||(ee.percentParent=N/g.getValue(R),ee.percentParentLabel=g.formatPercent(ee.percentParent,O),ee.parent=g.getPtLabel(R)),ee.percentEntry=N/g.getValue(m),ee.percentEntryLabel=g.formatPercent(ee.percentEntry,O),ee.entry=g.getPtLabel(m),ee.percentRoot=N/g.getValue(z),ee.percentRootLabel=g.formatPercent(ee.percentRoot,O),ee.root=g.getPtLabel(z),I.hasOwnProperty("color")&&(ee.color=I.color);var re=b.castOption(w,I.i,"text");return(b.isValidTextValue(re)||re==="")&&(ee.text=re),ee.customdata=b.castOption(w,I.i,"customdata"),b.texttemplateString(K,ee,S._d3locale,ee,w._meta||{})}},29969:function(q,C,e){var M=e(39898),k=e(7901),a=e(71828),_=e(72597).resizeText,b=e(43467);function h(o,t,i,n){var r=t.data.data,l=!t.children,s=r.i,u=a.castOption(i,s,"marker.line.color")||k.defaultLine,p=a.castOption(i,s,"marker.line.width")||0;o.call(b,t,i,n).style("stroke-width",p).call(k.stroke,u).style("opacity",l?i.leaf.opacity:null)}q.exports={style:function(o){var t=o._fullLayout._sunburstlayer.selectAll(".trace");_(o,t,"sunburst"),t.each(function(i){var n=M.select(this),r=i[0].trace;n.style("opacity",r.opacity),n.selectAll("path.surface").each(function(l){M.select(this).call(h,l,r,o)})})},styleOne:h}},54532:function(q,C,e){var M=e(7901),k=e(50693),a=e(12663).axisHoverFormat,_=e(5386).fF,b=e(9012),h=e(1426).extendFlat,o=e(30962).overrideAll;function t(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:M.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:M.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var i=q.exports=o(h({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:_(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},k("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:h({},k.zauto,{}),zmin:h({},k.zmin,{}),zmax:h({},k.zmax,{})},hoverinfo:h({},b.hoverinfo),showlegend:h({},b.showlegend,{dflt:!1})}),"calc","nested");i.x.editType=i.y.editType=i.z.editType="calc+clearAxisTypes",i.transforms=void 0},18396:function(q,C,e){var M=e(78803);q.exports=function(k,a){a.surfacecolor?M(k,a,{vals:a.surfacecolor,containerStr:"",cLetter:"c"}):M(k,a,{vals:a.z,containerStr:"",cLetter:"c"})}},43768:function(q,C,e){var M=e(9330).gl_surface3d,k=e(9330).ndarray,a=e(9330).ndarray_linear_interpolate.d2,_=e(824),b=e(43907),h=e(71828).isArrayOrTypedArray,o=e(81697).parseColorScale,t=e(78614),i=e(21081).extractOpts;function n(w,f,S){this.scene=w,this.uid=S,this.surface=f,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var r=n.prototype;r.getXat=function(w,f,S,T){var E=h(this.data.x)?h(this.data.x[0])?this.data.x[f][w]:this.data.x[w]:w;return S===void 0?E:T.d2l(E,0,S)},r.getYat=function(w,f,S,T){var E=h(this.data.y)?h(this.data.y[0])?this.data.y[f][w]:this.data.y[f]:f;return S===void 0?E:T.d2l(E,0,S)},r.getZat=function(w,f,S,T){var E=this.data.z[f][w];return E===null&&this.data.connectgaps&&this.data._interpolatedZ&&(E=this.data._interpolatedZ[f][w]),S===void 0?E:T.d2l(E,0,S)},r.handlePick=function(w){if(w.object===this.surface){var f=(w.data.index[0]-1)/this.dataScaleX-1,S=(w.data.index[1]-1)/this.dataScaleY-1,T=Math.max(Math.min(Math.round(f),this.data.z[0].length-1),0),E=Math.max(Math.min(Math.round(S),this.data._ylength-1),0);w.index=[T,E],w.traceCoordinate=[this.getXat(T,E),this.getYat(T,E),this.getZat(T,E)],w.dataCoordinate=[this.getXat(T,E,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(T,E,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(T,E,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var O=0;O<3;O++)w.dataCoordinate[O]!=null&&(w.dataCoordinate[O]*=this.scene.dataScale[O]);var P=this.data.hovertext||this.data.text;return h(P)&&P[E]&&P[E][T]!==void 0?w.textLabel=P[E][T]:w.textLabel=P||"",w.data.dataCoordinate=w.dataCoordinate.slice(),this.surface.highlight(w.data),this.scene.glplot.spikes.position=w.dataCoordinate,!0}};var l=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function s(w,f){if(w<f)return 0;for(var S=0;Math.floor(w%f)===0;)w/=f,S++;return S}function u(w){for(var f=[],S=0;S<l.length;S++){var T=l[S];f.push(s(w,T))}return f}function p(w){for(var f=u(w),S=w,T=0;T<l.length;T++)if(f[T]>0){S=l[T];break}return S}function c(w,f){if(!(w<1||f<1)){for(var S=u(w),T=u(f),E=1,O=0;O<l.length;O++)E*=Math.pow(l[O],Math.max(S[O],T[O]));return E}}r.calcXnums=function(w){var f,S=[];for(f=1;f<w;f++){var T=this.getXat(f-1,0),E=this.getXat(f,0);S[f-1]=E!==T&&T!=null&&E!=null?Math.abs(E-T):0}var O=0;for(f=1;f<w;f++)O+=S[f-1];for(f=1;f<w;f++)S[f-1]===0?S[f-1]=1:S[f-1]=Math.round(O/S[f-1]);return S},r.calcYnums=function(w){var f,S=[];for(f=1;f<w;f++){var T=this.getYat(0,f-1),E=this.getYat(0,f);S[f-1]=E!==T&&T!=null&&E!=null?Math.abs(E-T):0}var O=0;for(f=1;f<w;f++)O+=S[f-1];for(f=1;f<w;f++)S[f-1]===0?S[f-1]=1:S[f-1]=Math.round(O/S[f-1]);return S};var x=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],g=x[9],d=x[13];function v(w,f,S){var T=S[8]+S[2]*f[0]+S[5]*f[1];return w[0]=(S[6]+S[0]*f[0]+S[3]*f[1])/T,w[1]=(S[7]+S[1]*f[0]+S[4]*f[1])/T,w}function y(w,f,S){return function(T,E,O,P){for(var I=[0,0],z=T.shape[0],j=T.shape[1],R=0;R<z;R++)for(var N=0;N<j;N++)O(I,[R,N],P),T.set(R,N,a(E,I[0],I[1]))}(w,f,v,S),w}function m(w,f){for(var S=!1,T=0;T<w.length;T++)if(f===w[T]){S=!0;break}S===!1&&w.push(f)}r.estimateScale=function(w,f){for(var S=1+function(E){if(E.length!==0){for(var O=1,P=0;P<E.length;P++)O=c(O,E[P]);return O}}(f===0?this.calcXnums(w):this.calcYnums(w));S<g;)S*=2;for(;S>d;)S--,S/=p(S),++S<g&&(S=d);var T=Math.round(S/w);return T>1?T:1},r.refineCoords=function(w){for(var f=this.dataScaleX,S=this.dataScaleY,T=w[0].shape[0],E=w[0].shape[1],O=0|Math.floor(w[0].shape[0]*f+1),P=0|Math.floor(w[0].shape[1]*S+1),I=1+T+1,z=1+E+1,j=k(new Float32Array(I*z),[I,z]),R=[1/f,0,0,0,1/S,0,0,0,1],N=0;N<w.length;++N){this.surface.padField(j,w[N]);var Z=k(new Float32Array(O*P),[O,P]);y(Z,j,R),w[N]=Z}},r.setContourLevels=function(){var w,f,S,T=[[],[],[]],E=[!1,!1,!1],O=!1;for(w=0;w<3;++w)if(this.showContour[w]&&(O=!0,this.contourSize[w]>0&&this.contourStart[w]!==null&&this.contourEnd[w]!==null&&this.contourEnd[w]>this.contourStart[w]))for(E[w]=!0,f=this.contourStart[w];f<this.contourEnd[w];f+=this.contourSize[w])S=f*this.scene.dataScale[w],m(T[w],S);if(O){var P=[[],[],[]];for(w=0;w<3;++w)this.showContour[w]&&(P[w]=E[w]?T[w]:this.scene.contourLevels[w]);this.surface.update({levels:P})}},r.update=function(w){var f,S,T,E,O=this.scene,P=O.fullSceneLayout,I=this.surface,z=o(w),j=O.dataScale,R=w.z[0].length,N=w._ylength,Z=O.contourLevels;this.data=w;var F=[];for(f=0;f<3;f++)for(F[f]=[],S=0;S<R;S++)F[f][S]=[];for(S=0;S<R;S++)for(T=0;T<N;T++)F[0][S][T]=this.getXat(S,T,w.xcalendar,P.xaxis),F[1][S][T]=this.getYat(S,T,w.ycalendar,P.yaxis),F[2][S][T]=this.getZat(S,T,w.zcalendar,P.zaxis);if(w.connectgaps)for(w._emptypoints=b(F[2]),_(F[2],w._emptypoints),w._interpolatedZ=[],S=0;S<R;S++)for(w._interpolatedZ[S]=[],T=0;T<N;T++)w._interpolatedZ[S][T]=F[2][S][T];for(f=0;f<3;f++)for(S=0;S<R;S++)for(T=0;T<N;T++)(E=F[f][S][T])==null?F[f][S][T]=NaN:E=F[f][S][T]*=j[f];for(f=0;f<3;f++)for(S=0;S<R;S++)for(T=0;T<N;T++)(E=F[f][S][T])!=null&&(this.minValues[f]>E&&(this.minValues[f]=E),this.maxValues[f]<E&&(this.maxValues[f]=E));for(f=0;f<3;f++)this.objectOffset[f]=.5*(this.minValues[f]+this.maxValues[f]);for(f=0;f<3;f++)for(S=0;S<R;S++)for(T=0;T<N;T++)(E=F[f][S][T])!=null&&(F[f][S][T]-=this.objectOffset[f]);var U=[k(new Float32Array(R*N),[R,N]),k(new Float32Array(R*N),[R,N]),k(new Float32Array(R*N),[R,N])];for(f=0;f<3;f++)for(S=0;S<R;S++)for(T=0;T<N;T++)U[f].set(S,T,F[f][S][T]);F=[];var V={colormap:z,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!w.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:w.opacityscale,opacity:w.opacity},te=i(w);if(V.intensityBounds=[te.min,te.max],w.surfacecolor){var Q=k(new Float32Array(R*N),[R,N]);for(S=0;S<R;S++)for(T=0;T<N;T++)Q.set(S,T,w.surfacecolor[T][S]);U.push(Q)}else V.intensityBounds[0]*=j[2],V.intensityBounds[1]*=j[2];(d<U[0].shape[0]||d<U[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(U[0].shape[0],0),this.dataScaleY=this.estimateScale(U[0].shape[1],1),this.dataScaleX===1&&this.dataScaleY===1||this.refineCoords(U)),w.surfacecolor&&(V.intensity=U.pop());var J=[!0,!0,!0],X=["x","y","z"];for(f=0;f<3;++f){var K=w.contours[X[f]];J[f]=K.highlight,V.showContour[f]=K.show||K.highlight,V.showContour[f]&&(V.contourProject[f]=[K.project.x,K.project.y,K.project.z],K.show?(this.showContour[f]=!0,V.levels[f]=Z[f],I.highlightColor[f]=V.contourColor[f]=t(K.color),K.usecolormap?I.highlightTint[f]=V.contourTint[f]=0:I.highlightTint[f]=V.contourTint[f]=1,V.contourWidth[f]=K.width,this.contourStart[f]=K.start,this.contourEnd[f]=K.end,this.contourSize[f]=K.size):(this.showContour[f]=!1,this.contourStart[f]=null,this.contourEnd[f]=null,this.contourSize[f]=0),K.highlight&&(V.dynamicColor[f]=t(K.highlightcolor),V.dynamicWidth[f]=K.highlightwidth))}(function(ee){var re=ee[0].rgb,ie=ee[ee.length-1].rgb;return re[0]===ie[0]&&re[1]===ie[1]&&re[2]===ie[2]&&re[3]===ie[3]})(z)&&(V.vertexColor=!0),V.objectOffset=this.objectOffset,V.coords=U,I.update(V),I.visible=w.visible,I.enableDynamic=J,I.enableHighlight=J,I.snapToData=!0,"lighting"in w&&(I.ambientLight=w.lighting.ambient,I.diffuseLight=w.lighting.diffuse,I.specularLight=w.lighting.specular,I.roughness=w.lighting.roughness,I.fresnel=w.lighting.fresnel),"lightposition"in w&&(I.lightPosition=[w.lightposition.x,w.lightposition.y,w.lightposition.z])},r.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},q.exports=function(w,f){var S=w.glplot.gl,T=M({gl:S}),E=new n(w,T,f.uid);return T._trace=E,E.update(f),w.glplot.add(T),E}},91831:function(q,C,e){var M=e(73972),k=e(71828),a=e(1586),_=e(54532);function b(o,t,i,n){var r=n("opacityscale");r==="max"?t.opacityscale=[[0,.1],[1,1]]:r==="min"?t.opacityscale=[[0,1],[1,.1]]:r==="extremes"?t.opacityscale=function(l,s){for(var u=[],p=0;p<32;p++){var c=p/31,x=.1+.9*(1-Math.pow(Math.sin(1*c*Math.PI),2));u.push([c,Math.max(0,Math.min(1,x))])}return u}():function(l){var s=0;if(!Array.isArray(l)||l.length<2||!l[0]||!l[l.length-1]||+l[0][0]!=0||+l[l.length-1][0]!=1)return!1;for(var u=0;u<l.length;u++){var p=l[u];if(p.length!==2||+p[0]<s)return!1;s=+p[0]}return!0}(r)||(t.opacityscale=void 0)}function h(o,t,i){t in o&&!(i in o)&&(o[i]=o[t])}q.exports={supplyDefaults:function(o,t,i,n){var r,l;function s(m,w){return k.coerce(o,t,_,m,w)}var u=s("x"),p=s("y"),c=s("z");if(!c||!c.length||u&&u.length<1||p&&p.length<1)t.visible=!1;else{t._xlength=Array.isArray(u)&&k.isArrayOrTypedArray(u[0])?c.length:c[0].length,t._ylength=c.length,M.getComponentMethod("calendars","handleTraceDefaults")(o,t,["x","y","z"],n),s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),s("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(m){s(m)});var x=s("surfacecolor"),g=["x","y","z"];for(r=0;r<3;++r){var d="contours."+g[r],v=s(d+".show"),y=s(d+".highlight");if(v||y)for(l=0;l<3;++l)s(d+".project."+g[l]);v&&(s(d+".color"),s(d+".width"),s(d+".usecolormap")),y&&(s(d+".highlightcolor"),s(d+".highlightwidth")),s(d+".start"),s(d+".end"),s(d+".size")}x||(h(o,"zmin","cmin"),h(o,"zmax","cmax"),h(o,"zauto","cauto")),a(o,t,n,s,{prefix:"",cLetter:"c"}),b(0,t,0,s),t._length=null}},opacityscaleDefaults:b}},93601:function(q,C,e){q.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(q,C,e){var M=e(50215),k=e(1426).extendFlat,a=e(30962).overrideAll,_=e(41940),b=e(27670).Y,h=e(12663).descriptionOnlyNumbers;(q.exports=a({domain:b({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:h("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:k({},M.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:k({},_({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:h("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:k({},M.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:k({},_({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},99469:function(q,C,e){var M=e(27659).a0,k=e(36736),a="table";C.name=a,C.plot=function(_){var b=M(_.calcdata,a)[0];b.length&&k(_,b)},C.clean=function(_,b,h,o){var t=o._has&&o._has(a),i=b._has&&b._has(a);t&&!i&&o._paperdiv.selectAll(".table").remove()}},76333:function(q,C,e){var M=e(28984).wrap;q.exports=function(){return M({})}},49850:function(q){q.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(q,C,e){var M=e(49850),k=e(1426).extendFlat,a=e(92770),_=e(73627).isTypedArray,b=e(73627).isArrayOrTypedArray;function h(s){if(b(s)){for(var u=0,p=0;p<s.length;p++)u=Math.max(u,h(s[p]));return u}return s}function o(s,u){return s+u}function t(s){var u,p=s.slice(),c=1/0,x=0;for(u=0;u<p.length;u++)_(p[u])?p[u]=Array.from(p[u]):b(p[u])||(p[u]=[p[u]]),c=Math.min(c,p[u].length),x=Math.max(x,p[u].length);if(c!==x)for(u=0;u<p.length;u++){var g=x-p[u].length;g&&(p[u]=p[u].concat(i(g)))}return p}function i(s){for(var u=new Array(s),p=0;p<s;p++)u[p]="";return u}function n(s){return s.calcdata.columns.reduce(function(u,p){return p.xIndex<s.xIndex?u+p.columnWidth:u},0)}function r(s,u){return Object.keys(s).map(function(p){return k({},s[p],{auxiliaryBlocks:u})})}function l(s,u){for(var p,c={},x=0,g=0,d={firstRowIndex:null,lastRowIndex:null,rows:[]},v=0,y=0,m=0;m<s.length;m++)p=s[m],d.rows.push({rowIndex:m,rowHeight:p}),((g+=p)>=u||m===s.length-1)&&(c[x]=d,d.key=y++,d.firstRowIndex=v,d.lastRowIndex=m,d={firstRowIndex:null,lastRowIndex:null,rows:[]},x+=g,v=m+1,g=0);return c}q.exports=function(s,u){var p=t(u.cells.values),c=function(N){return N.slice(u.header.values.length,N.length)},x=t(u.header.values);x.length&&!x[0].length&&(x[0]=[""],x=t(x));var g=x.concat(c(p).map(function(){return i((x[0]||[""]).length)})),d=u.domain,v=Math.floor(s._fullLayout._size.w*(d.x[1]-d.x[0])),y=Math.floor(s._fullLayout._size.h*(d.y[1]-d.y[0])),m=u.header.values.length?g[0].map(function(){return u.header.height}):[M.emptyHeaderHeight],w=p.length?p[0].map(function(){return u.cells.height}):[],f=m.reduce(o,0),S=l(w,y-f+M.uplift),T=r(l(m,f),[]),E=r(S,T),O={},P=u._fullInput.columnorder;b(P)&&(P=Array.from(P)),P=P.concat(c(p.map(function(N,Z){return Z})));var I=g.map(function(N,Z){var F=b(u.columnwidth)?u.columnwidth[Math.min(Z,u.columnwidth.length-1)]:u.columnwidth;return a(F)?Number(F):1}),z=I.reduce(o,0);I=I.map(function(N){return N/z*v});var j=Math.max(h(u.header.line.width),h(u.cells.line.width)),R={key:u.uid+s._context.staticPlot,translateX:d.x[0]*s._fullLayout._size.w,translateY:s._fullLayout._size.h*(1-d.y[1]),size:s._fullLayout._size,width:v,maxLineWidth:j,height:y,columnOrder:P,groupHeight:y,rowBlocks:E,headerRowBlocks:T,scrollY:0,cells:k({},u.cells,{values:p}),headerCells:k({},u.header,{values:g}),gdColumns:g.map(function(N){return N[0]}),gdColumnsOriginalOrder:g.map(function(N){return N[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:g.map(function(N,Z){var F=O[N];return O[N]=(F||0)+1,{key:N+"__"+O[N],label:N,specIndex:Z,xIndex:P[Z],xScale:n,x:void 0,calcdata:void 0,columnWidth:I[Z]}})};return R.columns.forEach(function(N){N.calcdata=R,N.x=n(N)}),R}},56269:function(q,C,e){var M=e(1426).extendFlat;C.splitToPanels=function(k){var a=[0,0],_=M({},k,{key:"header",type:"header",page:0,prevPages:a,currentRepaint:[null,null],dragHandle:!0,values:k.calcdata.headerCells.values[k.specIndex],rowBlocks:k.calcdata.headerRowBlocks,calcdata:M({},k.calcdata,{cells:k.calcdata.headerCells})});return[M({},k,{key:"cells1",type:"cells",page:0,prevPages:a,currentRepaint:[null,null],dragHandle:!1,values:k.calcdata.cells.values[k.specIndex],rowBlocks:k.calcdata.rowBlocks}),M({},k,{key:"cells2",type:"cells",page:1,prevPages:a,currentRepaint:[null,null],dragHandle:!1,values:k.calcdata.cells.values[k.specIndex],rowBlocks:k.calcdata.rowBlocks}),_]},C.splitToCells=function(k){var a=function(_){var b=_.rowBlocks[_.page],h=b?b.rows[0].rowIndex:0;return[h,b?h+b.rows.length:0]}(k);return(k.values||[]).slice(a[0],a[1]).map(function(_,b){return{keyWithinBlock:b+(typeof _=="string"&&_.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:a[0]+b,column:k,calcdata:k.calcdata,page:k.page,rowBlocks:k.rowBlocks,value:_}})}},39754:function(q,C,e){var M=e(71828),k=e(44464),a=e(27670).c;q.exports=function(_,b,h,o){function t(i,n){return M.coerce(_,b,k,i,n)}a(b,o,t),t("columnwidth"),t("header.values"),t("header.format"),t("header.align"),t("header.prefix"),t("header.suffix"),t("header.height"),t("header.line.width"),t("header.line.color"),t("header.fill.color"),M.coerceFont(t,"header.font",M.extendFlat({},o.font)),function(i,n){for(var r=i.columnorder||[],l=i.header.values.length,s=r.slice(0,l),u=s.slice().sort(function(x,g){return x-g}),p=s.map(function(x){return u.indexOf(x)}),c=p.length;c<l;c++)p.push(c);n("columnorder",p)}(b,t),t("cells.values"),t("cells.format"),t("cells.align"),t("cells.prefix"),t("cells.suffix"),t("cells.height"),t("cells.line.width"),t("cells.line.color"),t("cells.fill.color"),M.coerceFont(t,"cells.font",M.extendFlat({},o.font)),b._length=null}},96595:function(q,C,e){q.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(q,C,e){var M=e(49850),k=e(39898),a=e(71828),_=a.numberFormat,b=e(28984),h=e(91424),o=e(63893),t=e(71828).raiseToTop,i=e(71828).strTranslate,n=e(71828).cancelTransition,r=e(51018),l=e(56269),s=e(7901);function u(V){return Math.ceil(V.calcdata.maxLineWidth/2)}function p(V,te){return"clip"+V._fullLayout._uid+"_scrollAreaBottomClip_"+te.key}function c(V,te){return"clip"+V._fullLayout._uid+"_columnBoundaryClippath_"+te.calcdata.key+"_"+te.specIndex}function x(V){return[].concat.apply([],V.map(function(te){return te})).map(function(te){return te.__data__})}function g(V,te,Q){var J=V.selectAll("."+M.cn.scrollbarKit).data(b.repeat,b.keyFun);J.enter().append("g").classed(M.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),J.each(function(ie){var ae=ie.scrollbarState;ae.totalHeight=function(ue){var pe=ue.rowBlocks;return N(pe,pe.length-1)+(pe.length?Z(pe[pe.length-1],1/0):1)}(ie),ae.scrollableAreaHeight=ie.groupHeight-T(ie),ae.currentlyVisibleHeight=Math.min(ae.totalHeight,ae.scrollableAreaHeight),ae.ratio=ae.currentlyVisibleHeight/ae.totalHeight,ae.barLength=Math.max(ae.ratio*ae.currentlyVisibleHeight,M.goldenRatio*M.scrollbarWidth),ae.barWiggleRoom=ae.currentlyVisibleHeight-ae.barLength,ae.wiggleRoom=Math.max(0,ae.totalHeight-ae.scrollableAreaHeight),ae.topY=ae.barWiggleRoom===0?0:ie.scrollY/ae.wiggleRoom*ae.barWiggleRoom,ae.bottomY=ae.topY+ae.barLength,ae.dragMultiplier=ae.wiggleRoom/ae.barWiggleRoom}).attr("transform",function(ie){var ae=ie.width+M.scrollbarWidth/2+M.scrollbarOffset;return i(ae,T(ie))});var X=J.selectAll("."+M.cn.scrollbar).data(b.repeat,b.keyFun);X.enter().append("g").classed(M.cn.scrollbar,!0);var K=X.selectAll("."+M.cn.scrollbarSlider).data(b.repeat,b.keyFun);K.enter().append("g").classed(M.cn.scrollbarSlider,!0),K.attr("transform",function(ie){return i(0,ie.scrollbarState.topY||0)});var ee=K.selectAll("."+M.cn.scrollbarGlyph).data(b.repeat,b.keyFun);ee.enter().append("line").classed(M.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",M.scrollbarWidth).attr("stroke-linecap","round").attr("y1",M.scrollbarWidth/2),ee.attr("y2",function(ie){return ie.scrollbarState.barLength-M.scrollbarWidth/2}).attr("stroke-opacity",function(ie){return ie.columnDragInProgress||!ie.scrollbarState.barWiggleRoom||Q?0:.4}),ee.transition().delay(0).duration(0),ee.transition().delay(M.scrollbarHideDelay).duration(M.scrollbarHideDuration).attr("stroke-opacity",0);var re=X.selectAll("."+M.cn.scrollbarCaptureZone).data(b.repeat,b.keyFun);re.enter().append("line").classed(M.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",M.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(ie){var ae=k.event.y,ue=this.getBoundingClientRect(),pe=ie.scrollbarState,de=ae-ue.top,ye=k.scale.linear().domain([0,pe.scrollableAreaHeight]).range([0,pe.totalHeight]).clamp(!0);pe.topY<=de&&de<=pe.bottomY||O(te,V,null,ye(de-pe.barLength/2))(ie)}).call(k.behavior.drag().origin(function(ie){return k.event.stopPropagation(),ie.scrollbarState.scrollbarScrollInProgress=!0,ie}).on("drag",O(te,V)).on("dragend",function(){})),re.attr("y2",function(ie){return ie.scrollbarState.scrollableAreaHeight}),te._context.staticPlot&&(ee.remove(),re.remove())}function d(V,te,Q,J){var X=function(ae){var ue=ae.selectAll("."+M.cn.columnCells).data(b.repeat,b.keyFun);return ue.enter().append("g").classed(M.cn.columnCells,!0),ue.exit().remove(),ue}(Q),K=function(ae){var ue=ae.selectAll("."+M.cn.columnCell).data(l.splitToCells,function(pe){return pe.keyWithinBlock});return ue.enter().append("g").classed(M.cn.columnCell,!0),ue.exit().remove(),ue}(X);(function(ae){ae.each(function(ue,pe){var de=ue.calcdata.cells.font,ye=ue.column.specIndex,be={size:m(de.size,ye,pe),color:m(de.color,ye,pe),family:m(de.family,ye,pe)};ue.rowNumber=ue.key,ue.align=m(ue.calcdata.cells.align,ye,pe),ue.cellBorderWidth=m(ue.calcdata.cells.line.width,ye,pe),ue.font=be})})(K);var ee=function(ae){var ue=ae.selectAll("."+M.cn.cellRect).data(b.repeat,function(pe){return pe.keyWithinBlock});return ue.enter().append("rect").classed(M.cn.cellRect,!0),ue}(K);(function(ae){ae.attr("width",function(ue){return ue.column.columnWidth}).attr("stroke-width",function(ue){return ue.cellBorderWidth}).each(function(ue){var pe=k.select(this);s.stroke(pe,m(ue.calcdata.cells.line.color,ue.column.specIndex,ue.rowNumber)),s.fill(pe,m(ue.calcdata.cells.fill.color,ue.column.specIndex,ue.rowNumber))})})(ee);var re=function(ae){var ue=ae.selectAll("."+M.cn.cellTextHolder).data(b.repeat,function(pe){return pe.keyWithinBlock});return ue.enter().append("g").classed(M.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),ue}(K),ie=function(ae){var ue=ae.selectAll("."+M.cn.cellText).data(b.repeat,function(pe){return pe.keyWithinBlock});return ue.enter().append("text").classed(M.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){k.event.stopPropagation()}),ue}(re);(function(ae){ae.each(function(ue){h.font(k.select(this),ue.font)})})(ie),v(ie,te,J,V),R(K)}function v(V,te,Q,J){V.text(function(X){var K=X.column.specIndex,ee=X.rowNumber,re=X.value,ie=typeof re=="string",ae=ie&&re.match(/<br>/i),ue=!ie||ae;X.mayHaveMarkup=ie&&re.match(/[<&>]/);var pe,de=typeof(pe=re)=="string"&&pe.match(M.latexCheck);X.latex=de;var ye,be,me=de?"":m(X.calcdata.cells.prefix,K,ee)||"",Ee=de?"":m(X.calcdata.cells.suffix,K,ee)||"",Te=de?null:m(X.calcdata.cells.format,K,ee)||null,we=me+(Te?_(Te)(X.value):X.value)+Ee;if(X.wrappingNeeded=!X.wrapped&&!ue&&!de&&(ye=y(we)),X.cellHeightMayIncrease=ae||de||X.mayHaveMarkup||(ye===void 0?y(we):ye),X.needsConvertToTspans=X.mayHaveMarkup||X.wrappingNeeded||X.latex,X.wrappingNeeded){var oe=(M.wrapSplitCharacter===" "?we.replace(/<a href=/gi,"<a_href="):we).split(M.wrapSplitCharacter),se=M.wrapSplitCharacter===" "?oe.map(function(he){return he.replace(/<a_href=/gi,"<a href=")}):oe;X.fragments=se.map(function(he){return{text:he,width:null}}),X.fragments.push({fragment:M.wrapSpacer,width:null}),be=se.join(M.lineBreaker)+M.lineBreaker+M.wrapSpacer}else delete X.fragments,be=we;return be}).attr("dy",function(X){return X.needsConvertToTspans?0:"0.75em"}).each(function(X){var K=this,ee=k.select(K),re=X.wrappingNeeded?I:z;X.needsConvertToTspans?o.convertToTspans(ee,J,re(Q,K,te,J,X)):k.select(K.parentNode).attr("transform",function(ie){return i(j(ie),M.cellPad)}).attr("text-anchor",function(ie){return{left:"start",center:"middle",right:"end"}[ie.align]})})}function y(V){return V.indexOf(M.wrapSplitCharacter)!==-1}function m(V,te,Q){if(a.isArrayOrTypedArray(V)){var J=V[Math.min(te,V.length-1)];return a.isArrayOrTypedArray(J)?J[Math.min(Q,J.length-1)]:J}return V}function w(V,te,Q){V.transition().ease(M.releaseTransitionEase).duration(M.releaseTransitionDuration).attr("transform",i(te.x,Q))}function f(V){return V.type==="cells"}function S(V){return V.type==="header"}function T(V){return(V.rowBlocks.length?V.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(te,Q){return te+Z(Q,1/0)},0)}function E(V,te,Q){var J=x(te)[0];if(J!==void 0){var X=J.rowBlocks,K=J.calcdata,ee=N(X,X.length),re=J.calcdata.groupHeight-T(J),ie=K.scrollY=Math.max(0,Math.min(ee-re,K.scrollY)),ae=function(ue,pe,de){for(var ye=[],be=0,me=0;me<ue.length;me++){for(var Ee=ue[me],Te=Ee.rows,we=0,oe=0;oe<Te.length;oe++)we+=Te[oe].rowHeight;Ee.allRowsHeight=we,pe<be+we&&pe+de>be&&ye.push(me),be+=we}return ye}(X,ie,re);ae.length===1&&(ae[0]===X.length-1?ae.unshift(ae[0]-1):ae.push(ae[0]+1)),ae[0]%2&&ae.reverse(),te.each(function(ue,pe){ue.page=ae[pe],ue.scrollY=ie}),te.attr("transform",function(ue){var pe=N(ue.rowBlocks,ue.page)-ue.scrollY;return i(0,pe)}),V&&(P(V,Q,te,ae,J.prevPages,J,0),P(V,Q,te,ae,J.prevPages,J,1),g(Q,V))}}function O(V,te,Q,J){return function(X){var K=X.calcdata?X.calcdata:X,ee=te.filter(function(ue){return K.key===ue.key}),re=Q||K.scrollbarState.dragMultiplier,ie=K.scrollY;K.scrollY=J===void 0?K.scrollY+re*k.event.dy:J;var ae=ee.selectAll("."+M.cn.yColumn).selectAll("."+M.cn.columnBlock).filter(f);return E(V,ae,ee),K.scrollY===ie}}function P(V,te,Q,J,X,K,ee){J[ee]!==X[ee]&&(clearTimeout(K.currentRepaint[ee]),K.currentRepaint[ee]=setTimeout(function(){var re=Q.filter(function(ie,ae){return ae===ee&&J[ae]!==X[ae]});d(V,te,re,Q),X[ee]=J[ee]}))}function I(V,te,Q,J){return function(){var X=k.select(te.parentNode);X.each(function(K){var ee=K.fragments;X.selectAll("tspan.line").each(function(be,me){ee[me].width=this.getComputedTextLength()});var re,ie,ae=ee[ee.length-1].width,ue=ee.slice(0,-1),pe=[],de=0,ye=K.column.columnWidth-2*M.cellPad;for(K.value="";ue.length;)de+(ie=(re=ue.shift()).width+ae)>ye&&(K.value+=pe.join(M.wrapSpacer)+M.lineBreaker,pe=[],de=0),pe.push(re.text),de+=ie;de&&(K.value+=pe.join(M.wrapSpacer)),K.wrapped=!0}),X.selectAll("tspan.line").remove(),v(X.select("."+M.cn.cellText),Q,V,J),k.select(te.parentNode.parentNode).call(R)}}function z(V,te,Q,J,X){return function(){if(!X.settledY){var K=k.select(te.parentNode),ee=U(X),re=X.key-ee.firstRowIndex,ie=ee.rows[re].rowHeight,ae=X.cellHeightMayIncrease?te.parentNode.getBoundingClientRect().height+2*M.cellPad:ie,ue=Math.max(ae,ie);ue-ee.rows[re].rowHeight&&(ee.rows[re].rowHeight=ue,V.selectAll("."+M.cn.columnCell).call(R),E(null,V.filter(f),0),g(Q,J,!0)),K.attr("transform",function(){var pe=this,de=pe.parentNode.getBoundingClientRect(),ye=k.select(pe.parentNode).select("."+M.cn.cellRect).node().getBoundingClientRect(),be=pe.transform.baseVal.consolidate(),me=ye.top-de.top+(be?be.matrix.f:M.cellPad);return i(j(X,k.select(pe.parentNode).select("."+M.cn.cellTextHolder).node().getBoundingClientRect().width),me)}),X.settledY=!0}}}function j(V,te){switch(V.align){case"left":default:return M.cellPad;case"right":return V.column.columnWidth-(te||0)-M.cellPad;case"center":return(V.column.columnWidth-(te||0))/2}}function R(V){V.attr("transform",function(te){var Q=te.rowBlocks[0].auxiliaryBlocks.reduce(function(X,K){return X+Z(K,1/0)},0),J=Z(U(te),te.key);return i(0,J+Q)}).selectAll("."+M.cn.cellRect).attr("height",function(te){return(Q=U(te),J=te.key,Q.rows[J-Q.firstRowIndex]).rowHeight;var Q,J})}function N(V,te){for(var Q=0,J=te-1;J>=0;J--)Q+=F(V[J]);return Q}function Z(V,te){for(var Q=0,J=0;J<V.rows.length&&V.rows[J].rowIndex<te;J++)Q+=V.rows[J].rowHeight;return Q}function F(V){var te=V.allRowsHeight;if(te!==void 0)return te;for(var Q=0,J=0;J<V.rows.length;J++)Q+=V.rows[J].rowHeight;return V.allRowsHeight=Q,Q}function U(V){return V.rowBlocks[V.page]}q.exports=function(V,te){var Q=!V._context.staticPlot,J=V._fullLayout._paper.selectAll("."+M.cn.table).data(te.map(function(Ee){var Te=b.unwrap(Ee).trace;return r(V,Te)}),b.keyFun);J.exit().remove(),J.enter().append("g").classed(M.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),J.attr("width",function(Ee){return Ee.width+Ee.size.l+Ee.size.r}).attr("height",function(Ee){return Ee.height+Ee.size.t+Ee.size.b}).attr("transform",function(Ee){return i(Ee.translateX,Ee.translateY)});var X=J.selectAll("."+M.cn.tableControlView).data(b.repeat,b.keyFun),K=X.enter().append("g").classed(M.cn.tableControlView,!0).style("box-sizing","content-box");if(Q){var ee="onwheel"in document?"wheel":"mousewheel";K.on("mousemove",function(Ee){X.filter(function(Te){return Ee===Te}).call(g,V)}).on(ee,function(Ee){if(!Ee.scrollbarState.wheeling){Ee.scrollbarState.wheeling=!0;var Te=Ee.scrollY+k.event.deltaY;O(V,X,null,Te)(Ee)||(k.event.stopPropagation(),k.event.preventDefault()),Ee.scrollbarState.wheeling=!1}}).call(g,V,!0)}X.attr("transform",function(Ee){return i(Ee.size.l,Ee.size.t)});var re=X.selectAll("."+M.cn.scrollBackground).data(b.repeat,b.keyFun);re.enter().append("rect").classed(M.cn.scrollBackground,!0).attr("fill","none"),re.attr("width",function(Ee){return Ee.width}).attr("height",function(Ee){return Ee.height}),X.each(function(Ee){h.setClipUrl(k.select(this),p(V,Ee),V)});var ie=X.selectAll("."+M.cn.yColumn).data(function(Ee){return Ee.columns},b.keyFun);ie.enter().append("g").classed(M.cn.yColumn,!0),ie.exit().remove(),ie.attr("transform",function(Ee){return i(Ee.x,0)}),Q&&ie.call(k.behavior.drag().origin(function(Ee){return w(k.select(this),Ee,-M.uplift),t(this),Ee.calcdata.columnDragInProgress=!0,g(X.filter(function(Te){return Ee.calcdata.key===Te.key}),V),Ee}).on("drag",function(Ee){var Te=k.select(this),we=function(oe){return(Ee===oe?k.event.x:oe.x)+oe.columnWidth/2};Ee.x=Math.max(-M.overdrag,Math.min(Ee.calcdata.width+M.overdrag-Ee.columnWidth,k.event.x)),x(ie).filter(function(oe){return oe.calcdata.key===Ee.calcdata.key}).sort(function(oe,se){return we(oe)-we(se)}).forEach(function(oe,se){oe.xIndex=se,oe.x=Ee===oe?oe.x:oe.xScale(oe)}),ie.filter(function(oe){return Ee!==oe}).transition().ease(M.transitionEase).duration(M.transitionDuration).attr("transform",function(oe){return i(oe.x,0)}),Te.call(n).attr("transform",i(Ee.x,-M.uplift))}).on("dragend",function(Ee){var Te=k.select(this),we=Ee.calcdata;Ee.x=Ee.xScale(Ee),Ee.calcdata.columnDragInProgress=!1,w(Te,Ee,0),function(oe,se,he){var Se=se.gdColumnsOriginalOrder;se.gdColumns.sort(function(_e,Ae){return he[Se.indexOf(_e)]-he[Se.indexOf(Ae)]}),se.columnorder=he,oe.emit("plotly_restyle")}(V,we,we.columns.map(function(oe){return oe.xIndex}))})),ie.each(function(Ee){h.setClipUrl(k.select(this),c(V,Ee),V)});var ae=ie.selectAll("."+M.cn.columnBlock).data(l.splitToPanels,b.keyFun);ae.enter().append("g").classed(M.cn.columnBlock,!0).attr("id",function(Ee){return Ee.key}),ae.style("cursor",function(Ee){return Ee.dragHandle?"ew-resize":Ee.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var ue=ae.filter(S),pe=ae.filter(f);Q&&pe.call(k.behavior.drag().origin(function(Ee){return k.event.stopPropagation(),Ee}).on("drag",O(V,X,-1)).on("dragend",function(){})),d(V,X,ue,ae),d(V,X,pe,ae);var de=X.selectAll("."+M.cn.scrollAreaClip).data(b.repeat,b.keyFun);de.enter().append("clipPath").classed(M.cn.scrollAreaClip,!0).attr("id",function(Ee){return p(V,Ee)});var ye=de.selectAll("."+M.cn.scrollAreaClipRect).data(b.repeat,b.keyFun);ye.enter().append("rect").classed(M.cn.scrollAreaClipRect,!0).attr("x",-M.overdrag).attr("y",-M.uplift).attr("fill","none"),ye.attr("width",function(Ee){return Ee.width+2*M.overdrag}).attr("height",function(Ee){return Ee.height+M.uplift}),ie.selectAll("."+M.cn.columnBoundary).data(b.repeat,b.keyFun).enter().append("g").classed(M.cn.columnBoundary,!0);var be=ie.selectAll("."+M.cn.columnBoundaryClippath).data(b.repeat,b.keyFun);be.enter().append("clipPath").classed(M.cn.columnBoundaryClippath,!0),be.attr("id",function(Ee){return c(V,Ee)});var me=be.selectAll("."+M.cn.columnBoundaryRect).data(b.repeat,b.keyFun);me.enter().append("rect").classed(M.cn.columnBoundaryRect,!0).attr("fill","none"),me.attr("width",function(Ee){return Ee.columnWidth+2*u(Ee)}).attr("height",function(Ee){return Ee.calcdata.height+2*u(Ee)+M.uplift}).attr("x",function(Ee){return-u(Ee)}).attr("y",function(Ee){return-u(Ee)}),E(null,pe,X)}},45802:function(q,C,e){var M=e(5386).fF,k=e(5386).si,a=e(50693),_=e(27670).Y,b=e(34e3),h=e(57564),o=e(43473),t=e(1426).extendFlat,i=e(79952).u;q.exports={labels:h.labels,parents:h.parents,values:h.values,branchvalues:h.branchvalues,count:h.count,level:h.level,maxdepth:h.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:h.marker.colors,pattern:i,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:h.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},b.textfont,{}),editType:"calc"},text:b.text,textinfo:h.textinfo,texttemplate:k({editType:"plot"},{keys:o.eventDataKeys.concat(["label","value"])}),hovertext:b.hovertext,hoverinfo:h.hoverinfo,hovertemplate:M({},{keys:o.eventDataKeys}),textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:t({},b.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:b.sort,root:h.root,domain:_({name:"treemap",trace:!0,editType:"calc"})}},78018:function(q,C,e){var M=e(74875);C.name="treemap",C.plot=function(k,a,_,b){M.plotBasePlot(C.name,k,a,_,b)},C.clean=function(k,a,_,b){M.cleanBasePlot(C.name,k,a,_,b)}},65039:function(q,C,e){var M=e(52147);C.y=function(k,a){return M.calc(k,a)},C.T=function(k){return M._runCrossTraceCalc("treemap",k)}},43473:function(q){q.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(q,C,e){var M=e(71828),k=e(45802),a=e(7901),_=e(27670).c,b=e(90769).handleText,h=e(97313).TEXTPAD,o=e(37434).handleMarkerDefaults,t=e(21081),i=t.hasColorscale,n=t.handleDefaults;q.exports=function(r,l,s,u){function p(w,f){return M.coerce(r,l,k,w,f)}var c=p("labels"),x=p("parents");if(c&&c.length&&x&&x.length){var g=p("values");g&&g.length?p("branchvalues"):p("count"),p("level"),p("maxdepth"),p("tiling.packing")==="squarify"&&p("tiling.squarifyratio"),p("tiling.flip"),p("tiling.pad");var d=p("text");p("texttemplate"),l.texttemplate||p("textinfo",M.isArrayOrTypedArray(d)?"text+label":"label"),p("hovertext"),p("hovertemplate");var v=p("pathbar.visible");b(r,l,u,p,"auto",{hasPathbar:v,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),p("textposition");var y=l.textposition.indexOf("bottom")!==-1;o(r,l,u,p),(l._hasColorscale=i(r,"marker","colors")||(r.marker||{}).coloraxis)?n(r,l,u,p,{prefix:"marker.",cLetter:"c"}):p("marker.depthfade",!(l.marker.colors||[]).length);var m=2*l.textfont.size;p("marker.pad.t",y?m/4:m),p("marker.pad.l",m/4),p("marker.pad.r",m/4),p("marker.pad.b",y?m:m/4),p("marker.cornerradius"),l._hovered={marker:{line:{width:2,color:a.contrast(u.paper_bgcolor)}}},v&&(p("pathbar.thickness",l.pathbar.textfont.size+2*h),p("pathbar.side"),p("pathbar.edgeshape")),p("sort"),p("root.color"),_(l,u,p),l._length=null}else l.visible=!1}},80694:function(q,C,e){var M=e(39898),k=e(2791),a=e(72597).clearMinTextSize,_=e(16688).resizeText,b=e(46650);q.exports=function(h,o,t,i,n){var r,l,s=n.type,u=n.drawDescendants,p=h._fullLayout,c=p["_"+s+"layer"],x=!t;a(s,p),(r=c.selectAll("g.trace."+s).data(o,function(g){return g[0].trace.uid})).enter().append("g").classed("trace",!0).classed(s,!0),r.order(),!p.uniformtext.mode&&k.hasTransition(t)?(i&&(l=i()),M.transition().duration(t.duration).ease(t.easing).each("end",function(){l&&l()}).each("interrupt",function(){l&&l()}).each(function(){c.selectAll("g.trace").each(function(g){b(h,g,this,t,u)})})):(r.each(function(g){b(h,g,this,t,u)}),p.uniformtext.mode&&_(h,c.selectAll(".trace"),s)),x&&r.exit().remove()}},66209:function(q,C,e){var M=e(39898),k=e(71828),a=e(91424),_=e(63893),b=e(37210),h=e(96362).styleOne,o=e(43473),t=e(2791),i=e(83523),n=!0;q.exports=function(r,l,s,u,p){var c=p.barDifY,x=p.width,g=p.height,d=p.viewX,v=p.viewY,y=p.pathSlice,m=p.toMoveInsideSlice,w=p.strTransform,f=p.hasTransition,S=p.handleSlicesExit,T=p.makeUpdateSliceInterpolator,E=p.makeUpdateTextInterpolator,O={},P=r._context.staticPlot,I=r._fullLayout,z=l[0],j=z.trace,R=z.hierarchy,N=x/j._entryDepth,Z=t.listPath(s.data,"id"),F=b(R.copy(),[x,g],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(F=F.filter(function(V){var te=Z.indexOf(V.data.id);return te!==-1&&(V.x0=N*te,V.x1=N*(te+1),V.y0=c,V.y1=c+g,V.onPathbar=!0,!0)})).reverse(),(u=u.data(F,t.getPtId)).enter().append("g").classed("pathbar",!0),S(u,n,O,[x,g],y),u.order();var U=u;f&&(U=U.transition().each("end",function(){var V=M.select(this);t.setSliceCursor(V,r,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),U.each(function(V){V._x0=d(V.x0),V._x1=d(V.x1),V._y0=v(V.y0),V._y1=v(V.y1),V._hoverX=d(V.x1-Math.min(x,g)/2),V._hoverY=v(V.y1-g/2);var te=M.select(this),Q=k.ensureSingle(te,"path","surface",function(ee){ee.style("pointer-events",P?"none":"all")});f?Q.transition().attrTween("d",function(ee){var re=T(ee,n,O,[x,g]);return function(ie){return y(re(ie))}}):Q.attr("d",y),te.call(i,s,r,l,{styleOne:h,eventDataKeys:o.eventDataKeys,transitionTime:o.CLICK_TRANSITION_TIME,transitionEasing:o.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,r,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:r._transitioning}),Q.call(h,V,j,r,{hovered:!1}),V._text=(t.getPtLabel(V)||"").split("<br>").join(" ")||"";var J=k.ensureSingle(te,"g","slicetext"),X=k.ensureSingle(J,"text","",function(ee){ee.attr("data-notex",1)}),K=k.ensureUniformFontSize(r,t.determineTextFont(j,V,I.font,{onPathbar:!0}));X.text(V._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(a.font,K).call(_.convertToTspans,r),V.textBB=a.bBox(X.node()),V.transform=m(V,{fontSize:K.size,onPathbar:!0}),V.transform.fontSize=K.size,f?X.transition().attrTween("transform",function(ee){var re=E(ee,n,O,[x,g]);return function(ie){return w(re(ie))}}):X.attr("transform",w(V))})}},52583:function(q,C,e){var M=e(39898),k=e(71828),a=e(91424),_=e(63893),b=e(37210),h=e(96362).styleOne,o=e(43473),t=e(2791),i=e(83523),n=e(24714).formatSliceLabel,r=!1;q.exports=function(l,s,u,p,c){var x=c.width,g=c.height,d=c.viewX,v=c.viewY,y=c.pathSlice,m=c.toMoveInsideSlice,w=c.strTransform,f=c.hasTransition,S=c.handleSlicesExit,T=c.makeUpdateSliceInterpolator,E=c.makeUpdateTextInterpolator,O=c.prevEntry,P=l._context.staticPlot,I=l._fullLayout,z=s[0].trace,j=z.textposition.indexOf("left")!==-1,R=z.textposition.indexOf("right")!==-1,N=z.textposition.indexOf("bottom")!==-1,Z=!N&&!z.marker.pad.t||N&&!z.marker.pad.b,F=b(u,[x,g],{packing:z.tiling.packing,squarifyratio:z.tiling.squarifyratio,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,pad:{inner:z.tiling.pad,top:z.marker.pad.t,left:z.marker.pad.l,right:z.marker.pad.r,bottom:z.marker.pad.b}}).descendants(),U=1/0,V=-1/0;F.forEach(function(K){var ee=K.depth;ee>=z._maxDepth?(K.x0=K.x1=(K.x0+K.x1)/2,K.y0=K.y1=(K.y0+K.y1)/2):(U=Math.min(U,ee),V=Math.max(V,ee))}),p=p.data(F,t.getPtId),z._maxVisibleLayers=isFinite(V)?V-U+1:0,p.enter().append("g").classed("slice",!0),S(p,r,{},[x,g],y),p.order();var te=null;if(f&&O){var Q=t.getPtId(O);p.each(function(K){te===null&&t.getPtId(K)===Q&&(te={x0:K.x0,x1:K.x1,y0:K.y0,y1:K.y1})})}var J=function(){return te||{x0:0,x1:x,y0:0,y1:g}},X=p;return f&&(X=X.transition().each("end",function(){var K=M.select(this);t.setSliceCursor(K,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),X.each(function(K){var ee=t.isHeader(K,z);K._x0=d(K.x0),K._x1=d(K.x1),K._y0=v(K.y0),K._y1=v(K.y1),K._hoverX=d(K.x1-z.marker.pad.r),K._hoverY=v(N?K.y1-z.marker.pad.b/2:K.y0+z.marker.pad.t/2);var re=M.select(this),ie=k.ensureSingle(re,"path","surface",function(de){de.style("pointer-events",P?"none":"all")});f?ie.transition().attrTween("d",function(de){var ye=T(de,r,J(),[x,g]);return function(be){return y(ye(be))}}):ie.attr("d",y),re.call(i,u,l,s,{styleOne:h,eventDataKeys:o.eventDataKeys,transitionTime:o.CLICK_TRANSITION_TIME,transitionEasing:o.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,l,{isTransitioning:l._transitioning}),ie.call(h,K,z,l,{hovered:!1}),K.x0===K.x1||K.y0===K.y1?K._text="":K._text=ee?Z?"":t.getPtLabel(K)||"":n(K,u,z,s,I)||"";var ae=k.ensureSingle(re,"g","slicetext"),ue=k.ensureSingle(ae,"text","",function(de){de.attr("data-notex",1)}),pe=k.ensureUniformFontSize(l,t.determineTextFont(z,K,I.font));ue.text(K._text||" ").classed("slicetext",!0).attr("text-anchor",R?"end":j||ee?"start":"middle").call(a.font,pe).call(_.convertToTspans,l),K.textBB=a.bBox(ue.node()),K.transform=m(K,{fontSize:pe.size,isHeader:ee}),K.transform.fontSize=pe.size,f?ue.transition().attrTween("transform",function(de){var ye=E(de,r,J(),[x,g]);return function(be){return w(ye(be))}}):ue.attr("transform",w(K))}),te}},14102:function(q){q.exports=function C(e,M,k){var a;k.swapXY&&(a=e.x0,e.x0=e.y0,e.y0=a,a=e.x1,e.x1=e.y1,e.y1=a),k.flipX&&(a=e.x0,e.x0=M[0]-e.x1,e.x1=M[0]-a),k.flipY&&(a=e.y0,e.y0=M[1]-e.y1,e.y1=M[1]-a);var _=e.children;if(_)for(var b=0;b<_.length;b++)C(_[b],M,k)}},70954:function(q,C,e){q.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(q){q.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(q,C,e){var M=e(71828),k=e(55479);q.exports=function(a,_){function b(h,o){return M.coerce(a,_,k,h,o)}b("treemapcolorway",_.colorway),b("extendtreemapcolors")}},37210:function(q,C,e){var M=e(674),k=e(14102);q.exports=function(a,_,b){var h,o=b.flipX,t=b.flipY,i=b.packing==="dice-slice",n=b.pad[t?"bottom":"top"],r=b.pad[o?"right":"left"],l=b.pad[o?"left":"right"],s=b.pad[t?"top":"bottom"];i&&(h=r,r=n,n=h,h=l,l=s,s=h);var u=M.treemap().tile(function(p,c){switch(p){case"squarify":return M.treemapSquarify.ratio(c);case"binary":return M.treemapBinary;case"dice":return M.treemapDice;case"slice":return M.treemapSlice;default:return M.treemapSliceDice}}(b.packing,b.squarifyratio)).paddingInner(b.pad.inner).paddingLeft(r).paddingRight(l).paddingTop(n).paddingBottom(s).size(i?[_[1],_[0]]:_)(a);return(i||o||t)&&k(u,_,{swapXY:i,flipX:o,flipY:t}),u}},5893:function(q,C,e){var M=e(80694),k=e(52583);q.exports=function(a,_,b,h){return M(a,_,b,h,{type:"treemap",drawDescendants:k})}},46650:function(q,C,e){var M=e(39898),k=e(81684).sX,a=e(2791),_=e(71828),b=e(97313).TEXTPAD,h=e(17295).toMoveInsideBar,o=e(72597).recordMinTextSize,t=e(43473),i=e(66209);function n(r){return a.isHierarchyRoot(r)?"":a.getPtId(r)}q.exports=function(r,l,s,u,p){var c=r._fullLayout,x=l[0],g=x.trace,d=g.type==="icicle",v=x.hierarchy,y=a.findEntryWithLevel(v,g.level),m=M.select(s),w=m.selectAll("g.pathbar"),f=m.selectAll("g.slice");if(!y)return w.remove(),void f.remove();var S=a.isHierarchyRoot(y),T=!c.uniformtext.mode&&a.hasTransition(u),E=a.getMaxDepth(g),O=c._size,P=g.domain,I=O.w*(P.x[1]-P.x[0]),z=O.h*(P.y[1]-P.y[0]),j=I,R=g.pathbar.thickness,N=g.marker.line.width+t.gapWithPathbar,Z=g.pathbar.visible?g.pathbar.side.indexOf("bottom")>-1?z+N:-(R+N):0,F={x0:j,x1:j,y0:Z,y1:Z+R},U=function(ke,Ie,Fe){var ze=g.tiling.pad,qe=function(ht){return ht-ze<=Ie.x0},Ye=function(ht){return ht+ze>=Ie.x1},Qe=function(ht){return ht-ze<=Ie.y0},ft=function(ht){return ht+ze>=Ie.y1};return ke.x0===Ie.x0&&ke.x1===Ie.x1&&ke.y0===Ie.y0&&ke.y1===Ie.y1?{x0:ke.x0,x1:ke.x1,y0:ke.y0,y1:ke.y1}:{x0:qe(ke.x0-ze)?0:Ye(ke.x0-ze)?Fe[0]:ke.x0,x1:qe(ke.x1+ze)?0:Ye(ke.x1+ze)?Fe[0]:ke.x1,y0:Qe(ke.y0-ze)?0:ft(ke.y0-ze)?Fe[1]:ke.y0,y1:Qe(ke.y1+ze)?0:ft(ke.y1+ze)?Fe[1]:ke.y1}},V=null,te={},Q={},J=null,X=function(ke,Ie){return Ie?te[n(ke)]:Q[n(ke)]};x.hasMultipleRoots&&S&&E++,g._maxDepth=E,g._backgroundColor=c.paper_bgcolor,g._entryDepth=y.data.depth,g._atRootLevel=S;var K=-I/2+O.l+O.w*(P.x[1]+P.x[0])/2,ee=-z/2+O.t+O.h*(1-(P.y[1]+P.y[0])/2),re=function(ke){return K+ke},ie=function(ke){return ee+ke},ae=ie(0),ue=re(0),pe=function(ke){return ue+ke},de=function(ke){return ae+ke};function ye(ke,Ie){return ke+","+Ie}var be=pe(0),me=function(ke){ke.x=Math.max(be,ke.x)},Ee=g.pathbar.edgeshape,Te=g[d?"tiling":"marker"].pad,we=function(ke){return g.textposition.indexOf(ke)!==-1},oe=we("top"),se=we("left"),he=we("right"),Se=we("bottom"),_e=function(ke,Ie){var Fe=ke.x0,ze=ke.x1,qe=ke.y0,Ye=ke.y1,Qe=ke.textBB,ft=oe||Ie.isHeader&&!Se?"start":Se?"end":"middle",ht=we("right"),mt=we("left")||Ie.onPathbar?-1:ht?1:0;if(Ie.isHeader){if((Fe+=(d?Te:Te.l)-b)>=(ze-=(d?Te:Te.r)-b)){var Mt=(Fe+ze)/2;Fe=Mt,ze=Mt}var _t;Se?qe<(_t=Ye-(d?Te:Te.b))&&_t<Ye&&(qe=_t):qe<(_t=qe+(d?Te:Te.t))&&_t<Ye&&(Ye=_t)}var it=h(Fe,ze,qe,Ye,Qe,{isHorizontal:!1,constrained:!0,angle:0,anchor:ft,leftToRight:mt});return it.fontSize=Ie.fontSize,it.targetX=re(it.targetX),it.targetY=ie(it.targetY),isNaN(it.targetX)||isNaN(it.targetY)?{}:(Fe!==ze&&qe!==Ye&&o(g.type,it,c),{scale:it.scale,rotate:it.rotate,textX:it.textX,textY:it.textY,anchorX:it.anchorX,anchorY:it.anchorY,targetX:it.targetX,targetY:it.targetY})},Ae=function(ke,Ie){for(var Fe,ze=0,qe=ke;!Fe&&ze<E;)ze++,(qe=qe.parent)?Fe=X(qe,Ie):ze=E;return Fe||{}},Ce=function(ke,Ie,Fe,ze,qe){var Ye,Qe=X(ke,Ie);if(Qe)Ye=Qe;else if(Ie)Ye=F;else if(V)if(ke.parent){var ft=J||Fe;ft&&!Ie?Ye=U(ke,ft,ze):(Ye={},_.extendFlat(Ye,Ae(ke,Ie)))}else Ye=_.extendFlat({},ke),d&&(qe.orientation==="h"?qe.flipX?Ye.x0=ke.x1:Ye.x1=0:qe.flipY?Ye.y0=ke.y1:Ye.y1=0);else Ye={};return k(Ye,{x0:ke.x0,x1:ke.x1,y0:ke.y0,y1:ke.y1})},Re=function(ke,Ie,Fe,ze){var qe=X(ke,Ie),Ye={},Qe=function(ht,mt,Mt,_t){if(mt)return te[n(v)]||F;var it=Q[g.level]||Mt;return function(st){return st.data.depth-y.data.depth<E}(ht)?U(ht,it,_t):{}}(ke,Ie,Fe,ze);_.extendFlat(Ye,{transform:_e({x0:Qe.x0,x1:Qe.x1,y0:Qe.y0,y1:Qe.y1,textBB:ke.textBB,_text:ke._text},{isHeader:a.isHeader(ke,g)})}),qe?Ye=qe:ke.parent&&_.extendFlat(Ye,Ae(ke,Ie));var ft=ke.transform;return ke.x0!==ke.x1&&ke.y0!==ke.y1&&o(g.type,ft,c),k(Ye,{transform:{scale:ft.scale,rotate:ft.rotate,textX:ft.textX,textY:ft.textY,anchorX:ft.anchorX,anchorY:ft.anchorY,targetX:ft.targetX,targetY:ft.targetY}})},fe=function(ke,Ie,Fe,ze,qe){var Ye=ze[0],Qe=ze[1];T?ke.exit().transition().each(function(){var ft=M.select(this);ft.select("path.surface").transition().attrTween("d",function(ht){var mt=function(Mt,_t,it,st){var St,zt=X(Mt,_t);if(_t)St=F;else{var Ft=X(y,_t);St=Ft?U(Mt,Ft,st):{}}return k(zt,St)}(ht,Ie,0,[Ye,Qe]);return function(Mt){return qe(mt(Mt))}}),ft.select("g.slicetext").attr("opacity",0)}).remove():ke.exit().remove()},xe=function(ke){var Ie=ke.transform;return ke.x0!==ke.x1&&ke.y0!==ke.y1&&o(g.type,Ie,c),_.getTextTransform({textX:Ie.textX,textY:Ie.textY,anchorX:Ie.anchorX,anchorY:Ie.anchorY,targetX:Ie.targetX,targetY:Ie.targetY,scale:Ie.scale,rotate:Ie.rotate})};T&&(w.each(function(ke){te[n(ke)]={x0:ke.x0,x1:ke.x1,y0:ke.y0,y1:ke.y1},ke.transform&&(te[n(ke)].transform={textX:ke.transform.textX,textY:ke.transform.textY,anchorX:ke.transform.anchorX,anchorY:ke.transform.anchorY,targetX:ke.transform.targetX,targetY:ke.transform.targetY,scale:ke.transform.scale,rotate:ke.transform.rotate})}),f.each(function(ke){Q[n(ke)]={x0:ke.x0,x1:ke.x1,y0:ke.y0,y1:ke.y1},ke.transform&&(Q[n(ke)].transform={textX:ke.transform.textX,textY:ke.transform.textY,anchorX:ke.transform.anchorX,anchorY:ke.transform.anchorY,targetX:ke.transform.targetX,targetY:ke.transform.targetY,scale:ke.transform.scale,rotate:ke.transform.rotate}),!V&&a.isEntry(ke)&&(V=ke)})),J=p(r,l,y,f,{width:I,height:z,viewX:re,viewY:ie,pathSlice:function(ke){var Ie=re(ke.x0),Fe=re(ke.x1),ze=ie(ke.y0),qe=ie(ke.y1),Ye=Fe-Ie,Qe=qe-ze;if(!Ye||!Qe)return"";var ft=g.marker.cornerradius||0,ht=Math.min(ft,Ye/2,Qe/2);ht&&ke.data&&ke.data.data&&ke.data.data.label&&(oe&&(ht=Math.min(ht,Te.t)),se&&(ht=Math.min(ht,Te.l)),he&&(ht=Math.min(ht,Te.r)),Se&&(ht=Math.min(ht,Te.b)));var mt=function(Mt,_t){return ht?"a"+ye(ht,ht)+" 0 0 1 "+ye(Mt,_t):""};return"M"+ye(Ie,ze+ht)+mt(ht,-ht)+"L"+ye(Fe-ht,ze)+mt(ht,ht)+"L"+ye(Fe,qe-ht)+mt(-ht,ht)+"L"+ye(Ie+ht,qe)+mt(-ht,-ht)+"Z"},toMoveInsideSlice:_e,prevEntry:V,makeUpdateSliceInterpolator:Ce,makeUpdateTextInterpolator:Re,handleSlicesExit:fe,hasTransition:T,strTransform:xe}),g.pathbar.visible?i(r,l,y,w,{barDifY:Z,width:j,height:R,viewX:pe,viewY:de,pathSlice:function(ke){var Ie=pe(Math.max(Math.min(ke.x0,ke.x0),0)),Fe=pe(Math.min(Math.max(ke.x1,ke.x1),j)),ze=de(ke.y0),qe=de(ke.y1),Ye=R/2,Qe={},ft={};Qe.x=Ie,ft.x=Fe,Qe.y=ft.y=(ze+qe)/2;var ht={x:Ie,y:ze},mt={x:Fe,y:ze},Mt={x:Fe,y:qe},_t={x:Ie,y:qe};return Ee===">"?(ht.x-=Ye,mt.x-=Ye,Mt.x-=Ye,_t.x-=Ye):Ee==="/"?(Mt.x-=Ye,_t.x-=Ye,Qe.x-=Ye/2,ft.x-=Ye/2):Ee==="\\"?(ht.x-=Ye,mt.x-=Ye,Qe.x-=Ye/2,ft.x-=Ye/2):Ee==="<"&&(Qe.x-=Ye,ft.x-=Ye),me(ht),me(_t),me(Qe),me(mt),me(Mt),me(ft),"M"+ye(ht.x,ht.y)+"L"+ye(mt.x,mt.y)+"L"+ye(ft.x,ft.y)+"L"+ye(Mt.x,Mt.y)+"L"+ye(_t.x,_t.y)+"L"+ye(Qe.x,Qe.y)+"Z"},toMoveInsideSlice:_e,makeUpdateSliceInterpolator:Ce,makeUpdateTextInterpolator:Re,handleSlicesExit:fe,hasTransition:T,strTransform:xe}):w.remove()}},96362:function(q,C,e){var M=e(39898),k=e(7901),a=e(71828),_=e(2791),b=e(72597).resizeText,h=e(43467);function o(t,i,n,r,l){var s,u,p=(l||{}).hovered,c=i.data.data,x=c.i,g=c.color,d=_.isHierarchyRoot(i),v=1;if(p)s=n._hovered.marker.line.color,u=n._hovered.marker.line.width;else if(d&&g===n.root.color)v=100,s="rgba(0,0,0,0)",u=0;else if(s=a.castOption(n,x,"marker.line.color")||k.defaultLine,u=a.castOption(n,x,"marker.line.width")||0,!n._hasColorscale&&!i.onPathbar){var y=n.marker.depthfade;if(y){var m,w=k.combine(k.addOpacity(n._backgroundColor,.75),g);if(y===!0){var f=_.getMaxDepth(n);m=isFinite(f)?_.isLeaf(i)?0:n._maxVisibleLayers-(i.data.depth-n._entryDepth):i.data.height+1}else m=i.data.depth-n._entryDepth,n._atRootLevel||m++;if(m>0)for(var S=0;S<m;S++){var T=.5*S/m;g=k.combine(k.addOpacity(w,T),g)}}}t.call(h,i,n,r,g).style("stroke-width",u).call(k.stroke,s).style("opacity",v)}q.exports={style:function(t){var i=t._fullLayout._treemaplayer.selectAll(".trace");b(t,i,"treemap"),i.each(function(n){var r=M.select(this),l=n[0].trace;r.style("opacity",l.opacity),r.selectAll("path.surface").each(function(s){M.select(this).call(o,s,l,t,{hovered:!1})})})},styleOne:o}},68875:function(q,C,e){var M=e(53522),k=e(1426).extendFlat,a=e(12663).axisHoverFormat;q.exports={y:M.y,x:M.x,x0:M.x0,y0:M.y0,xhoverformat:a("x"),yhoverformat:a("y"),name:k({},M.name,{}),orientation:k({},M.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:M.fillcolor,points:k({},M.boxpoints,{}),jitter:k({},M.jitter,{}),pointpos:k({},M.pointpos,{}),width:k({},M.width,{}),marker:M.marker,text:M.text,hovertext:M.hovertext,hovertemplate:M.hovertemplate,quartilemethod:M.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:M.offsetgroup,alignmentgroup:M.alignmentgroup,selected:M.selected,unselected:M.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(q,C,e){var M=e(71828),k=e(89298),a=e(48518),_=e(60168),b=e(50606).BADNUM;function h(t,i,n){var r=i.max-i.min;if(!r)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,r/1e4);var l=n.length,s=M.stdev(n,l-1,i.mean);return Math.max(function(u,p,c){return 1.059*Math.min(p,c/1.349)*Math.pow(u,-.2)}(l,s,i.q3-i.q1),r/100)}function o(t,i,n,r){var l,s=t.spanmode,u=t.span||[],p=[i.min,i.max],c=[i.min-2*r,i.max+2*r];function x(d){var v=u[d],y=n.type==="multicategory"?n.r2c(v):n.d2c(v,0,t[i.valLetter+"calendar"]);return y===b?c[d]:y}var g={type:"linear",range:l=s==="soft"?c:s==="hard"?p:[x(0),x(1)]};return k.setConvert(g),g.cleanRange(),l}q.exports=function(t,i){var n=a(t,i);if(n[0].t.empty)return n;for(var r=t._fullLayout,l=k.getFromId(t,i[i.orientation==="h"?"xaxis":"yaxis"]),s=1/0,u=-1/0,p=0,c=0,x=0;x<n.length;x++){var g=n[x],d=g.pts.map(_.extractVal),v=g.bandwidth=h(i,g,d),y=g.span=o(i,g,l,v);if(g.min===g.max&&v===0)y=g.span=[g.min,g.max],g.density=[{v:1,t:y[0]}],g.bandwidth=v,p=Math.max(p,1);else{var m=y[1]-y[0],w=Math.ceil(m/(v/3)),f=m/w;if(!isFinite(f)||!isFinite(w))return M.error("Something went wrong with computing the violin span"),n[0].t.empty=!0,n;var S=_.makeKDE(g,i,d);g.density=new Array(w);for(var T=0,E=y[0];E<y[1]+f/2;T++,E+=f){var O=S(E);g.density[T]={v:O,t:E},p=Math.max(p,O)}}c=Math.max(c,d.length),s=Math.min(s,y[0]),u=Math.max(u,y[1])}var P=k.findExtremes(l,[s,u],{padded:!0});if(i._extremes[l._id]=P,i.width)n[0].t.maxKDE=p;else{var I=r._violinScaleGroupStats,z=i.scalegroup,j=I[z];j?(j.maxKDE=Math.max(j.maxKDE,p),j.maxCount=Math.max(j.maxCount,c)):I[z]={maxKDE:p,maxCount:c}}return n[0].t.labels.kde=M._(t,"kde:"),n}},86403:function(q,C,e){var M=e(37188).setPositionOffset,k=["v","h"];q.exports=function(a,_){for(var b=a.calcdata,h=_.xaxis,o=_.yaxis,t=0;t<k.length;t++){for(var i=k[t],n=i==="h"?o:h,r=[],l=0;l<b.length;l++){var s=b[l],u=s[0].t,p=s[0].trace;p.visible!==!0||p.type!=="violin"||u.empty||p.orientation!==i||p.xaxis!==h._id||p.yaxis!==o._id||r.push(l)}M("violin",a,r,n)}}},15899:function(q,C,e){var M=e(71828),k=e(7901),a=e(36411),_=e(68875);q.exports=function(b,h,o,t){function i(m,w){return M.coerce(b,h,_,m,w)}function n(m,w){return M.coerce2(b,h,_,m,w)}if(a.handleSampleDefaults(b,h,i,t),h.visible!==!1){i("bandwidth"),i("side"),i("width")||(i("scalegroup",h.name),i("scalemode"));var r,l=i("span");Array.isArray(l)&&(r="manual"),i("spanmode",r);var s=i("line.color",(b.marker||{}).color||o),u=i("line.width"),p=i("fillcolor",k.addOpacity(h.line.color,.5));a.handlePointsDefaults(b,h,i,{prefix:""});var c=n("box.width"),x=n("box.fillcolor",p),g=n("box.line.color",s),d=n("box.line.width",u);i("box.visible",!!(c||x||g||d))||(h.box={visible:!1});var v=n("meanline.color",s),y=n("meanline.width",u);i("meanline.visible",!!(v||y))||(h.meanline={visible:!1}),i("quartilemethod")}}},60168:function(q,C,e){var M=e(71828),k=function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)};C.makeKDE=function(a,_,b){var h=b.length,o=k,t=a.bandwidth,i=1/(h*t);return function(n){for(var r=0,l=0;l<h;l++)r+=o((n-b[l])/t);return i*r}},C.getPositionOnKdePath=function(a,_,b){var h,o;_.orientation==="h"?(h="y",o="x"):(h="x",o="y");var t=M.findPointOnPath(a.path,b,o,{pathLength:a.pathLength}),i=a.posCenterPx,n=t[h];return[n,_.side==="both"?2*i-n:i]},C.getKdeValue=function(a,_,b){var h=a.pts.map(C.extractVal);return C.makeKDE(a,_,h)(b)/a.posDensityScale},C.extractVal=function(a){return a.v}},57634:function(q,C,e){var M=e(7901),k=e(71828),a=e(89298),_=e(41868),b=e(60168);q.exports=function(h,o,t,i,n){n||(n={});var r,l,s=n.hoverLayer,u=h.cd,p=u[0].trace,c=p.hoveron,x=c.indexOf("violins")!==-1,g=c.indexOf("kde")!==-1,d=[];if(x||g){var v=_.hoverOnBoxes(h,o,t,i);if(g&&v.length>0){var y,m,w,f,S,T=h.xa,E=h.ya;p.orientation==="h"?(S=o,y="y",w=E,m="x",f=T):(S=t,y="x",w=T,m="y",f=E);var O=u[h.index];if(S>=O.span[0]&&S<=O.span[1]){var P=k.extendFlat({},h),I=f.c2p(S,!0),z=b.getKdeValue(O,p,S),j=b.getPositionOnKdePath(O,p,I),R=w._offset,N=w._length;P[y+"0"]=j[0],P[y+"1"]=j[1],P[m+"0"]=P[m+"1"]=I,P[m+"Label"]=m+": "+a.hoverLabelText(f,S,p[m+"hoverformat"])+", "+u[0].t.labels.kde+" "+z.toFixed(3);for(var Z=0,F=0;F<v.length;F++)if(v[F].attr==="med"){Z=F;break}P.spikeDistance=v[Z].spikeDistance;var U=y+"Spike";P[U]=v[Z][U],v[Z].spikeDistance=void 0,v[Z][U]=void 0,P.hovertemplate=!1,d.push(P),(l={})[y+"1"]=k.constrain(R+j[0],R,R+N),l[y+"2"]=k.constrain(R+j[1],R,R+N),l[m+"1"]=l[m+"2"]=f._offset+I}}x&&(d=d.concat(v))}c.indexOf("points")!==-1&&(r=_.hoverOnPoints(h,o,t));var V=s.selectAll(".violinline-"+p.uid).data(l?[0]:[]);return V.enter().append("line").classed("violinline-"+p.uid,!0).attr("stroke-width",1.5),V.exit().remove(),V.attr(l).call(M.stroke,h.color),i==="closest"?r?[r]:d:(r&&d.push(r),d)}},47462:function(q,C,e){q.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(q,C,e){var M=e(40094),k=e(71828).extendFlat;q.exports={violinmode:k({},M.boxmode,{}),violingap:k({},M.boxgap,{}),violingroupgap:k({},M.boxgroupgap,{})}},33598:function(q,C,e){var M=e(71828),k=e(9228),a=e(4199);q.exports=function(_,b,h){a._supply(_,b,h,function(o,t){return M.coerce(_,b,k,o,t)},"violin")}},28443:function(q,C,e){var M=e(39898),k=e(71828),a=e(91424),_=e(86047),b=e(34621),h=e(60168);q.exports=function(o,t,i,n){var r=o._context.staticPlot,l=o._fullLayout,s=t.xaxis,u=t.yaxis;function p(c,x){var g=b(c,{xaxis:s,yaxis:u,trace:x,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return a.smoothopen(g[0],1)}k.makeTraceGroups(n,i,"trace violins").each(function(c){var x=M.select(this),g=c[0],d=g.t,v=g.trace;if(v.visible!==!0||d.empty)x.remove();else{var y=d.bPos,m=d.bdPos,w=t[d.valLetter+"axis"],f=t[d.posLetter+"axis"],S=v.side==="both",T=S||v.side==="positive",E=S||v.side==="negative",O=x.selectAll("path.violin").data(k.identity);O.enter().append("path").style("vector-effect",r?"none":"non-scaling-stroke").attr("class","violin"),O.exit().remove(),O.each(function(F){var U,V,te,Q,J,X,K,ee,re=M.select(this),ie=F.density,ae=ie.length,ue=f.c2l(F.pos+y,!0),pe=f.l2p(ue);if(v.width)U=d.maxKDE/m;else{var de=l._violinScaleGroupStats[v.scalegroup];U=v.scalemode==="count"?de.maxKDE/m*(de.maxCount/F.pts.length):de.maxKDE/m}if(T){for(K=new Array(ae),J=0;J<ae;J++)(ee=K[J]={})[d.posLetter]=ue+ie[J].v/U,ee[d.valLetter]=w.c2l(ie[J].t,!0);V=p(K,v)}if(E){for(K=new Array(ae),X=0,J=ae-1;X<ae;X++,J--)(ee=K[X]={})[d.posLetter]=ue-ie[J].v/U,ee[d.valLetter]=w.c2l(ie[J].t,!0);te=p(K,v)}if(S)Q=V+"L"+te.substr(1)+"Z";else{var ye=[pe,w.c2p(ie[0].t)],be=[pe,w.c2p(ie[ae-1].t)];v.orientation==="h"&&(ye.reverse(),be.reverse()),Q=T?"M"+ye+"L"+V.substr(1)+"L"+be:"M"+be+"L"+te.substr(1)+"L"+ye}re.attr("d",Q),F.posCenterPx=pe,F.posDensityScale=U*m,F.path=re.node(),F.pathLength=F.path.getTotalLength()/(S?2:1)});var P,I,z,j=v.box,R=j.width,N=(j.line||{}).width;S?(P=m*R,I=0):T?(P=[0,m*R/2],I=N*{x:1,y:-1}[d.posLetter]):(P=[m*R/2,0],I=N*{x:-1,y:1}[d.posLetter]),_.plotBoxAndWhiskers(x,{pos:f,val:w},v,{bPos:y,bdPos:P,bPosPxOffset:I}),_.plotBoxMean(x,{pos:f,val:w},v,{bPos:y,bdPos:P,bPosPxOffset:I}),!v.box.visible&&v.meanline.visible&&(z=k.identity);var Z=x.selectAll("path.meanline").data(z||[]);Z.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",r?"none":"non-scaling-stroke"),Z.exit().remove(),Z.each(function(F){var U=w.c2p(F.mean,!0),V=h.getPositionOnKdePath(F,v,U);M.select(this).attr("d",v.orientation==="h"?"M"+U+","+V[0]+"V"+V[1]:"M"+V[0]+","+U+"H"+V[1])}),_.plotPoints(x,{x:s,y:u},v,d)}})}},31847:function(q,C,e){var M=e(39898),k=e(7901),a=e(16296).stylePoints;q.exports=function(_){var b=M.select(_).selectAll("g.trace.violins");b.style("opacity",function(h){return h[0].trace.opacity}),b.each(function(h){var o=h[0].trace,t=M.select(this),i=o.box||{},n=i.line||{},r=o.meanline||{},l=r.width;t.selectAll("path.violin").style("stroke-width",o.line.width+"px").call(k.stroke,o.line.color).call(k.fill,o.fillcolor),t.selectAll("path.box").style("stroke-width",n.width+"px").call(k.stroke,n.color).call(k.fill,i.fillcolor);var s={"stroke-width":l+"px","stroke-dasharray":2*l+"px,"+l+"px"};t.selectAll("path.mean").style(s).call(k.stroke,r.color),t.selectAll("path.meanline").style(s).call(k.stroke,r.color),a(t,o,_)})}},16336:function(q,C,e){var M=e(50693),k=e(16249),a=e(54532),_=e(9012),b=e(1426).extendFlat,h=e(30962).overrideAll,o=q.exports=h(b({x:k.x,y:k.y,z:k.z,value:k.value,isomin:k.isomin,isomax:k.isomax,surface:k.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:k.slices,caps:k.caps,text:k.text,hovertext:k.hovertext,xhoverformat:k.xhoverformat,yhoverformat:k.yhoverformat,zhoverformat:k.zhoverformat,valuehoverformat:k.valuehoverformat,hovertemplate:k.hovertemplate},M("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:k.colorbar,opacity:k.opacity,opacityscale:a.opacityscale,lightposition:k.lightposition,lighting:k.lighting,flatshading:k.flatshading,contour:k.contour,hoverinfo:b({},_.hoverinfo),showlegend:b({},_.showlegend,{dflt:!1})}),"calc","nested");o.x.editType=o.y.editType=o.z.editType=o.value.editType="calc+clearAxisTypes",o.transforms=void 0},64809:function(q,C,e){var M=e(9330).gl_mesh3d,k=e(81697).parseColorScale,a=e(71828).isArrayOrTypedArray,_=e(78614),b=e(21081).extractOpts,h=e(90060),o=e(22674).findNearestOnAxis,t=e(22674).generateIsoMeshes;function i(r,l,s){this.scene=r,this.uid=s,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var n=i.prototype;n.handlePick=function(r){if(r.object===this.mesh){var l=r.data.index,s=this.data._meshX[l],u=this.data._meshY[l],p=this.data._meshZ[l],c=this.data._Ys.length,x=this.data._Zs.length,g=o(s,this.data._Xs).id,d=o(u,this.data._Ys).id,v=o(p,this.data._Zs).id,y=r.index=v+x*d+x*c*g;r.traceCoordinate=[this.data._meshX[y],this.data._meshY[y],this.data._meshZ[y],this.data._value[y]];var m=this.data.hovertext||this.data.text;return a(m)&&m[y]!==void 0?r.textLabel=m[y]:m&&(r.textLabel=m),!0}},n.update=function(r){var l=this.scene,s=l.fullSceneLayout;function u(x,g,d,v){return g.map(function(y){return x.d2l(y,0,v)*d})}this.data=t(r);var p={positions:h(u(s.xaxis,r._meshX,l.dataScale[0],r.xcalendar),u(s.yaxis,r._meshY,l.dataScale[1],r.ycalendar),u(s.zaxis,r._meshZ,l.dataScale[2],r.zcalendar)),cells:h(r._meshI,r._meshJ,r._meshK),lightPosition:[r.lightposition.x,r.lightposition.y,r.lightposition.z],ambient:r.lighting.ambient,diffuse:r.lighting.diffuse,specular:r.lighting.specular,roughness:r.lighting.roughness,fresnel:r.lighting.fresnel,vertexNormalsEpsilon:r.lighting.vertexnormalsepsilon,faceNormalsEpsilon:r.lighting.facenormalsepsilon,opacity:r.opacity,opacityscale:r.opacityscale,contourEnable:r.contour.show,contourColor:_(r.contour.color).slice(0,3),contourWidth:r.contour.width,useFacetNormals:r.flatshading},c=b(r);p.vertexIntensity=r._meshIntensity,p.vertexIntensityBounds=[c.min,c.max],p.colormap=k(r),this.mesh.update(p)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},q.exports=function(r,l){var s=r.glplot.gl,u=M({gl:s}),p=new i(r,u,l.uid);return u._trace=p,p.update(l),r.glplot.add(u),p}},47651:function(q,C,e){var M=e(71828),k=e(16336),a=e(82738).supplyIsoDefaults,_=e(91831).opacityscaleDefaults;q.exports=function(b,h,o,t){function i(n,r){return M.coerce(b,h,k,n,r)}a(b,h,o,t,i),_(b,h,t,i)}},17659:function(q,C,e){q.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(q,C,e){var M=e(1486),k=e(82196).line,a=e(9012),_=e(12663).axisHoverFormat,b=e(5386).fF,h=e(5386).si,o=e(48334),t=e(1426).extendFlat,i=e(7901);function n(r){return{marker:{color:t({},M.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},M.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},M.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}q.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:M.x,x0:M.x0,dx:M.dx,y:M.y,y0:M.y0,dy:M.dy,xperiod:M.xperiod,yperiod:M.yperiod,xperiod0:M.xperiod0,yperiod0:M.yperiod0,xperiodalignment:M.xperiodalignment,yperiodalignment:M.yperiodalignment,xhoverformat:_("x"),yhoverformat:_("y"),hovertext:M.hovertext,hovertemplate:b({},{keys:o.eventDataKeys}),hoverinfo:t({},a.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:h({editType:"plot"},{keys:o.eventDataKeys.concat(["label"])}),text:M.text,textposition:M.textposition,insidetextanchor:M.insidetextanchor,textangle:M.textangle,textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:M.outsidetextfont,constraintext:M.constraintext,cliponaxis:M.cliponaxis,orientation:M.orientation,offset:M.offset,width:M.width,increasing:n(),decreasing:n(),totals:n(),connector:{line:{color:t({},k.color,{dflt:i.defaultLine}),width:t({},k.width,{editType:"plot"}),dash:k.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:M.offsetgroup,alignmentgroup:M.alignmentgroup}},52752:function(q,C,e){var M=e(89298),k=e(42973),a=e(71828).mergeArray,_=e(66279),b=e(50606).BADNUM;function h(t){return t==="a"||t==="absolute"}function o(t){return t==="t"||t==="total"}q.exports=function(t,i){var n,r,l,s,u,p,c=M.getFromId(t,i.xaxis||"x"),x=M.getFromId(t,i.yaxis||"y");i.orientation==="h"?(n=c.makeCalcdata(i,"x"),l=x.makeCalcdata(i,"y"),s=k(i,x,"y",l),u=!!i.yperiodalignment,p="y"):(n=x.makeCalcdata(i,"y"),l=c.makeCalcdata(i,"x"),s=k(i,c,"x",l),u=!!i.xperiodalignment,p="x"),r=s.vals;for(var g,d=Math.min(r.length,n.length),v=new Array(d),y=0,m=!1,w=0;w<d;w++){var f=n[w]||0,S=!1;(n[w]!==b||o(i.measure[w])||h(i.measure[w]))&&w+1<d&&(n[w+1]!==b||o(i.measure[w+1])||h(i.measure[w+1]))&&(S=!0);var T=v[w]={i:w,p:r[w],s:f,rawS:f,cNext:S};h(i.measure[w])?(y=T.s,T.isSum=!0,T.dir="totals",T.s=y):o(i.measure[w])?(T.isSum=!0,T.dir="totals",T.s=y):(T.isSum=!1,T.dir=T.rawS<0?"decreasing":"increasing",g=T.s,T.s=y+g,y+=g),T.dir==="totals"&&(m=!0),u&&(v[w].orig_p=l[w],v[w][p+"End"]=s.ends[w],v[w][p+"Start"]=s.starts[w]),i.ids&&(T.id=String(i.ids[w])),T.v=(i.base||0)+y}return v.length&&(v[0].hasTotals=m),a(i.text,v,"tx"),a(i.hovertext,v,"htx"),_(v,i),v}},48334:function(q){q.exports={eventDataKeys:["initial","delta","final"]}},70766:function(q,C,e){var M=e(11661).setGroupPositions;q.exports=function(k,a){var _,b,h=k._fullLayout,o=k._fullData,t=k.calcdata,i=a.xaxis,n=a.yaxis,r=[],l=[],s=[];for(b=0;b<o.length;b++){var u=o[b];u.visible===!0&&u.xaxis===i._id&&u.yaxis===n._id&&u.type==="waterfall"&&(_=t[b],u.orientation==="h"?s.push(_):l.push(_),r.push(_))}var p={mode:h.waterfallmode,norm:h.waterfallnorm,gap:h.waterfallgap,groupgap:h.waterfallgroupgap};for(M(k,i,n,l,p),M(k,n,i,s,p),b=0;b<r.length;b++){_=r[b];for(var c=0;c<_.length;c++){var x=_[c];x.isSum===!1&&(x.s0+=c===0?0:_[c-1].s),c+1<_.length&&(_[c].nextP0=_[c+1].p0,_[c].nextS0=_[c+1].s0)}}}},83266:function(q,C,e){var M=e(71828),k=e(26125),a=e(90769).handleText,_=e(67513),b=e(73927),h=e(43037),o=e(7901),t=e(22372),i=t.INCREASING.COLOR,n=t.DECREASING.COLOR;function r(l,s,u){l(s+".marker.color",u),l(s+".marker.line.color",o.defaultLine),l(s+".marker.line.width")}q.exports={supplyDefaults:function(l,s,u,p){function c(g,d){return M.coerce(l,s,h,g,d)}if(_(l,s,p,c)){b(l,s,p,c),c("xhoverformat"),c("yhoverformat"),c("measure"),c("orientation",s.x&&!s.y?"h":"v"),c("base"),c("offset"),c("width"),c("text"),c("hovertext"),c("hovertemplate");var x=c("textposition");a(l,s,p,c,x,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s.textposition!=="none"&&(c("texttemplate"),s.texttemplate||c("textinfo")),r(c,"increasing",i),r(c,"decreasing",n),r(c,"totals","#4499FF"),c("connector.visible")&&(c("connector.mode"),c("connector.line.width")&&(c("connector.line.color"),c("connector.line.dash")))}else s.visible=!1},crossTraceDefaults:function(l,s){var u,p;function c(g){return M.coerce(p._input,p,h,g)}if(s.waterfallmode==="group")for(var x=0;x<l.length;x++)u=(p=l[x])._input,k(u,p,s,c)}}},58593:function(q){q.exports=function(C,e){return C.x="xVal"in e?e.xVal:e.x,C.y="yVal"in e?e.yVal:e.y,"initial"in e&&(C.initial=e.initial),"delta"in e&&(C.delta=e.delta),"final"in e&&(C.final=e.final),e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),C}},61326:function(q,C,e){var M=e(89298).hoverLabelText,k=e(7901).opacity,a=e(95423).hoverOnBars,_=e(22372),b=_.INCREASING.SYMBOL,h=_.DECREASING.SYMBOL;q.exports=function(o,t,i,n,r){var l=a(o,t,i,n,r);if(l){var s=l.cd,u=s[0].trace,p=u.orientation==="h",c=p?"x":"y",x=p?o.xa:o.ya,g=s[l.index],d=g.isSum?g.b+g.s:g.rawS;l.initial=g.b+g.s-d,l.delta=d,l.final=l.initial+l.delta;var v=T(Math.abs(l.delta));l.deltaLabel=d<0?"("+v+")":v,l.finalLabel=T(l.final),l.initialLabel=T(l.initial);var y=g.hi||u.hoverinfo,m=[];if(y&&y!=="none"&&y!=="skip"){var w=y==="all",f=y.split("+"),S=function(E){return w||f.indexOf(E)!==-1};g.isSum||(!S("final")||S(p?"x":"y")||m.push(l.finalLabel),S("delta")&&(d<0?m.push(l.deltaLabel+" "+h):m.push(l.deltaLabel+" "+b)),S("initial")&&m.push("Initial: "+l.initialLabel))}return m.length&&(l.extraText=m.join("<br>")),l.color=function(E,O){var P=E[O.dir].marker,I=P.color,z=P.line.color,j=P.line.width;return k(I)?I:k(z)&&j?z:void 0}(u,g),[l]}function T(E){return M(x,E,u[c+"hoverformat"])}}},19990:function(q,C,e){q.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(q){q.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(q,C,e){var M=e(71828),k=e(13494);q.exports=function(a,_,b){var h=!1;function o(n,r){return M.coerce(a,_,k,n,r)}for(var t=0;t<b.length;t++){var i=b[t];if(i.visible&&i.type==="waterfall"){h=!0;break}}h&&(o("waterfallmode"),o("waterfallgap",.2),o("waterfallgroupgap"))}},30436:function(q,C,e){var M=e(39898),k=e(71828),a=e(91424),_=e(50606).BADNUM,b=e(17295),h=e(72597).clearMinTextSize;q.exports=function(o,t,i,n){var r=o._fullLayout;h("waterfall",r),b.plot(o,t,i,n,{mode:r.waterfallmode,norm:r.waterfallmode,gap:r.waterfallgap,groupgap:r.waterfallgroupgap}),function(l,s,u,p){var c=s.xaxis,x=s.yaxis;k.makeTraceGroups(p,u,"trace bars").each(function(g){var d=M.select(this),v=g[0].trace,y=k.ensureSingle(d,"g","lines");if(v.connector&&v.connector.visible){var m=v.orientation==="h",w=v.connector.mode,f=y.selectAll("g.line").data(k.identity);f.enter().append("g").classed("line",!0),f.exit().remove();var S=f.size();f.each(function(T,E){if(E===S-1||T.cNext){var O=function(j,R,N,Z){var F=[],U=[],V=Z?R:N,te=Z?N:R;return F[0]=V.c2p(j.s0,!0),U[0]=te.c2p(j.p0,!0),F[1]=V.c2p(j.s1,!0),U[1]=te.c2p(j.p1,!0),F[2]=V.c2p(j.nextS0,!0),U[2]=te.c2p(j.nextP0,!0),Z?[F,U]:[U,F]}(T,c,x,m),P=O[0],I=O[1],z="";P[0]!==_&&I[0]!==_&&P[1]!==_&&I[1]!==_&&(w==="spanning"&&!T.isSum&&E>0&&(z+=m?"M"+P[0]+","+I[1]+"V"+I[0]:"M"+P[1]+","+I[0]+"H"+P[0]),w!=="between"&&(T.isSum||E<S-1)&&(z+=m?"M"+P[1]+","+I[0]+"V"+I[1]:"M"+P[0]+","+I[1]+"H"+P[1]),P[2]!==_&&I[2]!==_&&(z+=m?"M"+P[1]+","+I[1]+"V"+I[2]:"M"+P[1]+","+I[1]+"H"+P[2])),z===""&&(z="M0,0Z"),k.ensureSingle(M.select(this),"path").attr("d",z).call(a.setClipUrl,s.layerClipId,l)}})}else y.remove()})}(o,t,i,n)}},55750:function(q,C,e){var M=e(39898),k=e(91424),a=e(7901),_=e(37822).DESELECTDIM,b=e(16688),h=e(72597).resizeText,o=b.styleTextPoints;q.exports={style:function(t,i,n){var r=n||M.select(t).selectAll("g.waterfalllayer").selectAll("g.trace");h(t,r,"waterfall"),r.style("opacity",function(l){return l[0].trace.opacity}),r.each(function(l){var s=M.select(this),u=l[0].trace;s.selectAll(".point > path").each(function(p){if(!p.isBlank){var c=u[p.dir].marker;M.select(this).call(a.fill,c.color).call(a.stroke,c.line.color).call(k.dashLine,c.line.dash,c.line.width).style("opacity",u.selectedpoints&&!p.selected?_:1)}}),o(s,u,t),s.selectAll(".lines").each(function(){var p=u.connector.line;k.lineGroupStyle(M.select(this).selectAll("path"),p.width,p.color,p.dash)})})}}},82887:function(q,C,e){var M=e(89298),k=e(71828),a=e(86281),_=e(79344).p,b=e(50606).BADNUM;C.moduleType="transform",C.name="aggregate";var h=C.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},o=h.aggregations;function t(l,s,u,p){if(p.enabled){for(var c=p.target,x=k.nestedProperty(s,c),g=x.get(),d=function(m,w){var f=m.func,S=w.d2c,T=w.c2d;switch(f){case"count":return i;case"first":return n;case"last":return r;case"sum":return function(E,O){for(var P=0,I=0;I<O.length;I++){var z=S(E[O[I]]);z!==b&&(P+=z)}return T(P)};case"avg":return function(E,O){for(var P=0,I=0,z=0;z<O.length;z++){var j=S(E[O[z]]);j!==b&&(P+=j,I++)}return I?T(P/I):b};case"min":return function(E,O){for(var P=1/0,I=0;I<O.length;I++){var z=S(E[O[I]]);z!==b&&(P=Math.min(P,z))}return P===1/0?b:T(P)};case"max":return function(E,O){for(var P=-1/0,I=0;I<O.length;I++){var z=S(E[O[I]]);z!==b&&(P=Math.max(P,z))}return P===-1/0?b:T(P)};case"range":return function(E,O){for(var P=1/0,I=-1/0,z=0;z<O.length;z++){var j=S(E[O[z]]);j!==b&&(P=Math.min(P,j),I=Math.max(I,j))}return I===-1/0||P===1/0?b:T(I-P)};case"change":return function(E,O){var P=S(E[O[0]]),I=S(E[O[O.length-1]]);return P===b||I===b?b:T(I-P)};case"median":return function(E,O){for(var P=[],I=0;I<O.length;I++){var z=S(E[O[I]]);z!==b&&P.push(z)}if(!P.length)return b;P.sort(k.sorterAsc);var j=(P.length-1)/2;return T((P[Math.floor(j)]+P[Math.ceil(j)])/2)};case"mode":return function(E,O){for(var P={},I=0,z=b,j=0;j<O.length;j++){var R=S(E[O[j]]);if(R!==b){var N=P[R]=(P[R]||0)+1;N>I&&(I=N,z=R)}}return I?T(z):b};case"rms":return function(E,O){for(var P=0,I=0,z=0;z<O.length;z++){var j=S(E[O[z]]);j!==b&&(P+=j*j,I++)}return I?T(Math.sqrt(P/I)):b};case"stddev":return function(E,O){var P,I=0,z=0,j=1,R=b;for(P=0;P<O.length&&R===b;P++)R=S(E[O[P]]);if(R===b)return b;for(;P<O.length;P++){var N=S(E[O[P]]);if(N!==b){var Z=N-R;I+=Z,z+=Z*Z,j++}}var F=m.funcmode==="sample"?j-1:j;return F?Math.sqrt((z-I*I/j)/F):0}}}(p,M.getDataConversions(l,s,c,g)),v=new Array(u.length),y=0;y<u.length;y++)v[y]=d(g,u[y]);x.set(v),p.func==="count"&&k.pushUnique(s._arrayAttrs,c)}}function i(l,s){return s.length}function n(l,s){return l[s[0]]}function r(l,s){return l[s[s.length-1]]}C.supplyDefaults=function(l,s){var u,p={};function c(T,E){return k.coerce(l,p,h,T,E)}if(!c("enabled"))return p;var x=a.findArrayAttributes(s),g={};for(u=0;u<x.length;u++)g[x[u]]=1;var d=c("groups");if(!Array.isArray(d)){if(!g[d])return p.enabled=!1,p;g[d]=0}var v,y=l.aggregations||[],m=p.aggregations=new Array(y.length);function w(T,E){return k.coerce(y[u],v,o,T,E)}for(u=0;u<y.length;u++){v={_index:u};var f=w("target"),S=w("func");w("enabled")&&f&&(g[f]||S==="count"&&g[f]===void 0)?(S==="stddev"&&w("funcmode"),g[f]=0,m[u]=v):m[u]={enabled:!1,_index:u}}for(u=0;u<x.length;u++)g[x[u]]&&m.push({target:x[u],func:o.func.dflt,enabled:!0,_index:-1});return p},C.calcTransform=function(l,s,u){if(u.enabled){var p=u.groups,c=k.getTargetArray(s,{target:p});if(c){var x,g,d,v,y={},m={},w=[],f=_(s.transforms,u),S=c.length;for(s._length&&(S=Math.min(S,s._length)),x=0;x<S;x++)(d=y[g=c[x]])===void 0?(y[g]=w.length,v=[x],w.push(v),m[y[g]]=f(x)):(w[d].push(x),m[y[g]]=(m[y[g]]||[]).concat(f(x)));u._indexToPoints=m;var T=u.aggregations;for(x=0;x<T.length;x++)t(l,s,w,T[x]);typeof p=="string"&&t(l,s,w,{target:p,func:"first",enabled:!0}),s._length=w.length}}}},14382:function(q,C,e){var M=e(71828),k=e(73972),a=e(89298),_=e(79344).p,b=e(74808),h=b.COMPARISON_OPS,o=b.INTERVAL_OPS,t=b.SET_OPS;C.moduleType="transform",C.name="filter",C.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(h).concat(o).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},C.supplyDefaults=function(i){var n={};function r(u,p){return M.coerce(i,n,C.attributes,u,p)}if(r("enabled")){var l=r("target");if(M.isArrayOrTypedArray(l)&&l.length===0)return n.enabled=!1,n;r("preservegaps"),r("operation"),r("value");var s=k.getComponentMethod("calendars","handleDefaults");s(i,n,"valuecalendar",null),s(i,n,"targetcalendar",null)}return n},C.calcTransform=function(i,n,r){if(r.enabled){var l=M.getTargetArray(n,r);if(l){var s=r.target,u=l.length;n._length&&(u=Math.min(u,n._length));var p=r.targetcalendar,c=n._arrayAttrs,x=r.preservegaps;if(typeof s=="string"){var g=M.nestedProperty(n,s+"calendar").get();g&&(p=g)}var d,v,y=function(O,P,I){var z=O.operation,j=O.value,R=M.isArrayOrTypedArray(j);function N(V){return V.indexOf(z)!==-1}var Z,F=function(V){return P(V,0,O.valuecalendar)},U=function(V){return P(V,0,I)};switch(N(h)?Z=F(R?j[0]:j):N(o)?Z=R?[F(j[0]),F(j[1])]:[F(j),F(j)]:N(t)&&(Z=R?j.map(F):[F(j)]),z){case"=":return function(V){return U(V)===Z};case"!=":return function(V){return U(V)!==Z};case"<":return function(V){return U(V)<Z};case"<=":return function(V){return U(V)<=Z};case">":return function(V){return U(V)>Z};case">=":return function(V){return U(V)>=Z};case"[]":return function(V){var te=U(V);return te>=Z[0]&&te<=Z[1]};case"()":return function(V){var te=U(V);return te>Z[0]&&te<Z[1]};case"[)":return function(V){var te=U(V);return te>=Z[0]&&te<Z[1]};case"(]":return function(V){var te=U(V);return te>Z[0]&&te<=Z[1]};case"][":return function(V){var te=U(V);return te<=Z[0]||te>=Z[1]};case")(":return function(V){var te=U(V);return te<Z[0]||te>Z[1]};case"](":return function(V){var te=U(V);return te<=Z[0]||te>Z[1]};case")[":return function(V){var te=U(V);return te<Z[0]||te>=Z[1]};case"{}":return function(V){return Z.indexOf(U(V))!==-1};case"}{":return function(V){return Z.indexOf(U(V))===-1}}}(r,a.getDataToCoordFunc(i,n,s,l),p),m={},w={},f=0;x?(d=function(O){m[O.astr]=M.extendDeep([],O.get()),O.set(new Array(u))},v=function(O,P){var I=m[O.astr][P];O.get()[P]=I}):(d=function(O){m[O.astr]=M.extendDeep([],O.get()),O.set([])},v=function(O,P){var I=m[O.astr][P];O.get().push(I)}),E(d);for(var S=_(n.transforms,r),T=0;T<u;T++)y(l[T])?(E(v,T),w[f++]=S(T)):x&&f++;r._indexToPoints=w,n._length=f}}function E(O,P){for(var I=0;I<c.length;I++)O(M.nestedProperty(n,c[I]),P)}}},43102:function(q,C,e){var M=e(71828),k=e(86281),a=e(74875),_=e(79344).p;function b(h,o){var t,i,n,r,l,s,u,p,c,x,g=o.transform,d=o.transformIndex,v=h.transforms[d].groups,y=_(h.transforms,g);if(!M.isArrayOrTypedArray(v)||v.length===0)return[h];var m=M.filterUnique(v),w=new Array(m.length),f=v.length,S=k.findArrayAttributes(h),T=g.styles||[],E={};for(t=0;t<T.length;t++)E[T[t].target]=T[t].value;g.styles&&(x=M.keyedContainer(g,"styles","target","value.name"));var O={},P={};for(t=0;t<m.length;t++){O[s=m[t]]=t,P[s]=0,(u=w[t]=M.extendDeepNoArrays({},h))._group=s,u.transforms[d]._indexToPoints={};var I=null;for(x&&(I=x.get(s)),u.name=I||I===""?I:M.templateString(g.nameformat,{trace:h.name,group:s}),p=u.transforms,u.transforms=[],i=0;i<p.length;i++)u.transforms[i]=M.extendDeepNoArrays({},p[i]);for(i=0;i<S.length;i++)M.nestedProperty(u,S[i]).set([])}for(n=0;n<S.length;n++){for(r=S[n],i=0,c=[];i<m.length;i++)c[i]=M.nestedProperty(w[i],r).get();for(l=M.nestedProperty(h,r).get(),i=0;i<f;i++)c[O[v[i]]].push(l[i])}for(i=0;i<f;i++)(u=w[O[v[i]]]).transforms[d]._indexToPoints[P[v[i]]]=y(i),P[v[i]]++;for(t=0;t<m.length;t++)s=m[t],u=w[t],a.clearExpandedTraceDefaultColors(u),u=M.extendDeepNoArrays(u,E[s]||{});return w}C.moduleType="transform",C.name="groupby",C.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},C.supplyDefaults=function(h,o,t){var i,n={};function r(c,x){return M.coerce(h,n,C.attributes,c,x)}if(!r("enabled"))return n;r("groups"),r("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var l=h.styles,s=n.styles=[];if(l)for(i=0;i<l.length;i++){var u=s[i]={};M.coerce(l[i],s[i],C.attributes.styles,"target");var p=M.coerce(l[i],s[i],C.attributes.styles,"value");M.isPlainObject(p)?u.value=M.extendDeep({},p):p&&delete u.value}return n},C.transform=function(h,o){var t,i,n,r=[];for(i=0;i<h.length;i++)for(t=b(h[i],o),n=0;n<t.length;n++)r.push(t[n]);return r}},79344:function(q,C){C.p=function(e,M){for(var k,a,_=0;_<e.length&&(k=e[_])!==M;_++)k._indexToPoints&&k.enabled!==!1&&(a=k._indexToPoints);var b=a?function(h){return a[h]}:function(h){return[h]};return b}},32275:function(q,C,e){var M=e(71828),k=e(89298),a=e(79344).p,_=e(50606).BADNUM;C.moduleType="transform",C.name="sort",C.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},C.supplyDefaults=function(b){var h={};function o(t,i){return M.coerce(b,h,C.attributes,t,i)}return o("enabled")&&(o("target"),o("order")),h},C.calcTransform=function(b,h,o){if(o.enabled){var t=M.getTargetArray(h,o);if(t){var i=o.target,n=t.length;h._length&&(n=Math.min(n,h._length));var r,l,s=h._arrayAttrs,u=function(v,y,m,w){var f,S=new Array(w),T=new Array(w);for(f=0;f<w;f++)S[f]={v:y[f],i:f};for(S.sort(function(E,O){switch(E.order){case"ascending":return function(P,I){var z=O(P.v),j=O(I.v);return z===_?1:j===_?-1:z-j};case"descending":return function(P,I){var z=O(P.v),j=O(I.v);return z===_?1:j===_?-1:j-z}}}(v,m)),f=0;f<w;f++)T[f]=S[f].i;return T}(o,t,k.getDataToCoordFunc(b,h,i,t),n),p=a(h.transforms,o),c={};for(r=0;r<s.length;r++){var x=M.nestedProperty(h,s[r]),g=x.get(),d=new Array(n);for(l=0;l<n;l++)d[l]=g[u[l]];x.set(d)}for(l=0;l<n;l++)c[l]=p(u[l]);o._indexToPoints=c,h._length=n}}}},11506:function(q,C){C.version="2.28.0"},9330:function(q,C,e){var M,k=e(90386);M=function(){return function(){var a={7386:function(h,o,t){h.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(h,o,t){function i(fe,xe){for(var ke=0;ke<xe.length;ke++){var Ie=xe[ke];Ie.enumerable=Ie.enumerable||!1,Ie.configurable=!0,"value"in Ie&&(Ie.writable=!0),Object.defineProperty(fe,Ie.key,Ie)}}function n(fe,xe){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ke,Ie){return ke.__proto__=Ie,ke},n(fe,xe)}function r(fe){if(fe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe}function l(fe){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},l(fe)}function s(fe){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe},s(fe)}var u=t(3910),p=t(3187),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.lW=d,o.h2=50;var x=2147483647;function g(fe){if(fe>x)throw new RangeError('The value "'+fe+'" is invalid for option "size"');var xe=new Uint8Array(fe);return Object.setPrototypeOf(xe,d.prototype),xe}function d(fe,xe,ke){if(typeof fe=="number"){if(typeof xe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(fe)}return v(fe,xe,ke)}function v(fe,xe,ke){if(typeof fe=="string")return function(ze,qe){if(typeof qe=="string"&&qe!==""||(qe="utf8"),!d.isEncoding(qe))throw new TypeError("Unknown encoding: "+qe);var Ye=0|T(ze,qe),Qe=g(Ye),ft=Qe.write(ze,qe);return ft!==Ye&&(Qe=Qe.slice(0,ft)),Qe}(fe,xe);if(ArrayBuffer.isView(fe))return function(ze){if(Se(ze,Uint8Array)){var qe=new Uint8Array(ze);return f(qe.buffer,qe.byteOffset,qe.byteLength)}return w(ze)}(fe);if(fe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(fe));if(Se(fe,ArrayBuffer)||fe&&Se(fe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Se(fe,SharedArrayBuffer)||fe&&Se(fe.buffer,SharedArrayBuffer)))return f(fe,xe,ke);if(typeof fe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ie=fe.valueOf&&fe.valueOf();if(Ie!=null&&Ie!==fe)return d.from(Ie,xe,ke);var Fe=function(ze){if(d.isBuffer(ze)){var qe=0|S(ze.length),Ye=g(qe);return Ye.length===0||ze.copy(Ye,0,0,qe),Ye}return ze.length!==void 0?typeof ze.length!="number"||_e(ze.length)?g(0):w(ze):ze.type==="Buffer"&&Array.isArray(ze.data)?w(ze.data):void 0}(fe);if(Fe)return Fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof fe[Symbol.toPrimitive]=="function")return d.from(fe[Symbol.toPrimitive]("string"),xe,ke);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(fe))}function y(fe){if(typeof fe!="number")throw new TypeError('"size" argument must be of type number');if(fe<0)throw new RangeError('The value "'+fe+'" is invalid for option "size"')}function m(fe){return y(fe),g(fe<0?0:0|S(fe))}function w(fe){for(var xe=fe.length<0?0:0|S(fe.length),ke=g(xe),Ie=0;Ie<xe;Ie+=1)ke[Ie]=255&fe[Ie];return ke}function f(fe,xe,ke){if(xe<0||fe.byteLength<xe)throw new RangeError('"offset" is outside of buffer bounds');if(fe.byteLength<xe+(ke||0))throw new RangeError('"length" is outside of buffer bounds');var Ie;return Ie=xe===void 0&&ke===void 0?new Uint8Array(fe):ke===void 0?new Uint8Array(fe,xe):new Uint8Array(fe,xe,ke),Object.setPrototypeOf(Ie,d.prototype),Ie}function S(fe){if(fe>=x)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+x.toString(16)+" bytes");return 0|fe}function T(fe,xe){if(d.isBuffer(fe))return fe.length;if(ArrayBuffer.isView(fe)||Se(fe,ArrayBuffer))return fe.byteLength;if(typeof fe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+s(fe));var ke=fe.length,Ie=arguments.length>2&&arguments[2]===!0;if(!Ie&&ke===0)return 0;for(var Fe=!1;;)switch(xe){case"ascii":case"latin1":case"binary":return ke;case"utf8":case"utf-8":return oe(fe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ke;case"hex":return ke>>>1;case"base64":return se(fe).length;default:if(Fe)return Ie?-1:oe(fe).length;xe=(""+xe).toLowerCase(),Fe=!0}}function E(fe,xe,ke){var Ie=!1;if((xe===void 0||xe<0)&&(xe=0),xe>this.length||((ke===void 0||ke>this.length)&&(ke=this.length),ke<=0)||(ke>>>=0)<=(xe>>>=0))return"";for(fe||(fe="utf8");;)switch(fe){case"hex":return J(this,xe,ke);case"utf8":case"utf-8":return U(this,xe,ke);case"ascii":return te(this,xe,ke);case"latin1":case"binary":return Q(this,xe,ke);case"base64":return F(this,xe,ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,xe,ke);default:if(Ie)throw new TypeError("Unknown encoding: "+fe);fe=(fe+"").toLowerCase(),Ie=!0}}function O(fe,xe,ke){var Ie=fe[xe];fe[xe]=fe[ke],fe[ke]=Ie}function P(fe,xe,ke,Ie,Fe){if(fe.length===0)return-1;if(typeof ke=="string"?(Ie=ke,ke=0):ke>2147483647?ke=2147483647:ke<-2147483648&&(ke=-2147483648),_e(ke=+ke)&&(ke=Fe?0:fe.length-1),ke<0&&(ke=fe.length+ke),ke>=fe.length){if(Fe)return-1;ke=fe.length-1}else if(ke<0){if(!Fe)return-1;ke=0}if(typeof xe=="string"&&(xe=d.from(xe,Ie)),d.isBuffer(xe))return xe.length===0?-1:I(fe,xe,ke,Ie,Fe);if(typeof xe=="number")return xe&=255,typeof Uint8Array.prototype.indexOf=="function"?Fe?Uint8Array.prototype.indexOf.call(fe,xe,ke):Uint8Array.prototype.lastIndexOf.call(fe,xe,ke):I(fe,[xe],ke,Ie,Fe);throw new TypeError("val must be string, number or Buffer")}function I(fe,xe,ke,Ie,Fe){var ze,qe=1,Ye=fe.length,Qe=xe.length;if(Ie!==void 0&&((Ie=String(Ie).toLowerCase())==="ucs2"||Ie==="ucs-2"||Ie==="utf16le"||Ie==="utf-16le")){if(fe.length<2||xe.length<2)return-1;qe=2,Ye/=2,Qe/=2,ke/=2}function ft(_t,it){return qe===1?_t[it]:_t.readUInt16BE(it*qe)}if(Fe){var ht=-1;for(ze=ke;ze<Ye;ze++)if(ft(fe,ze)===ft(xe,ht===-1?0:ze-ht)){if(ht===-1&&(ht=ze),ze-ht+1===Qe)return ht*qe}else ht!==-1&&(ze-=ze-ht),ht=-1}else for(ke+Qe>Ye&&(ke=Ye-Qe),ze=ke;ze>=0;ze--){for(var mt=!0,Mt=0;Mt<Qe;Mt++)if(ft(fe,ze+Mt)!==ft(xe,Mt)){mt=!1;break}if(mt)return ze}return-1}function z(fe,xe,ke,Ie){ke=Number(ke)||0;var Fe=fe.length-ke;Ie?(Ie=Number(Ie))>Fe&&(Ie=Fe):Ie=Fe;var ze,qe=xe.length;for(Ie>qe/2&&(Ie=qe/2),ze=0;ze<Ie;++ze){var Ye=parseInt(xe.substr(2*ze,2),16);if(_e(Ye))return ze;fe[ke+ze]=Ye}return ze}function j(fe,xe,ke,Ie){return he(oe(xe,fe.length-ke),fe,ke,Ie)}function R(fe,xe,ke,Ie){return he(function(Fe){for(var ze=[],qe=0;qe<Fe.length;++qe)ze.push(255&Fe.charCodeAt(qe));return ze}(xe),fe,ke,Ie)}function N(fe,xe,ke,Ie){return he(se(xe),fe,ke,Ie)}function Z(fe,xe,ke,Ie){return he(function(Fe,ze){for(var qe,Ye,Qe,ft=[],ht=0;ht<Fe.length&&!((ze-=2)<0);++ht)Ye=(qe=Fe.charCodeAt(ht))>>8,Qe=qe%256,ft.push(Qe),ft.push(Ye);return ft}(xe,fe.length-ke),fe,ke,Ie)}function F(fe,xe,ke){return xe===0&&ke===fe.length?u.fromByteArray(fe):u.fromByteArray(fe.slice(xe,ke))}function U(fe,xe,ke){ke=Math.min(fe.length,ke);for(var Ie=[],Fe=xe;Fe<ke;){var ze=fe[Fe],qe=null,Ye=ze>239?4:ze>223?3:ze>191?2:1;if(Fe+Ye<=ke){var Qe=void 0,ft=void 0,ht=void 0,mt=void 0;switch(Ye){case 1:ze<128&&(qe=ze);break;case 2:(192&(Qe=fe[Fe+1]))==128&&(mt=(31&ze)<<6|63&Qe)>127&&(qe=mt);break;case 3:Qe=fe[Fe+1],ft=fe[Fe+2],(192&Qe)==128&&(192&ft)==128&&(mt=(15&ze)<<12|(63&Qe)<<6|63&ft)>2047&&(mt<55296||mt>57343)&&(qe=mt);break;case 4:Qe=fe[Fe+1],ft=fe[Fe+2],ht=fe[Fe+3],(192&Qe)==128&&(192&ft)==128&&(192&ht)==128&&(mt=(15&ze)<<18|(63&Qe)<<12|(63&ft)<<6|63&ht)>65535&&mt<1114112&&(qe=mt)}}qe===null?(qe=65533,Ye=1):qe>65535&&(qe-=65536,Ie.push(qe>>>10&1023|55296),qe=56320|1023&qe),Ie.push(qe),Fe+=Ye}return function(Mt){var _t=Mt.length;if(_t<=V)return String.fromCharCode.apply(String,Mt);for(var it="",st=0;st<_t;)it+=String.fromCharCode.apply(String,Mt.slice(st,st+=V));return it}(Ie)}d.TYPED_ARRAY_SUPPORT=function(){try{var fe=new Uint8Array(1),xe={foo:function(){return 42}};return Object.setPrototypeOf(xe,Uint8Array.prototype),Object.setPrototypeOf(fe,xe),fe.foo()===42}catch{return!1}}(),d.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),d.poolSize=8192,d.from=function(fe,xe,ke){return v(fe,xe,ke)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(fe,xe,ke){return function(Ie,Fe,ze){return y(Ie),Ie<=0?g(Ie):Fe!==void 0?typeof ze=="string"?g(Ie).fill(Fe,ze):g(Ie).fill(Fe):g(Ie)}(fe,xe,ke)},d.allocUnsafe=function(fe){return m(fe)},d.allocUnsafeSlow=function(fe){return m(fe)},d.isBuffer=function(fe){return fe!=null&&fe._isBuffer===!0&&fe!==d.prototype},d.compare=function(fe,xe){if(Se(fe,Uint8Array)&&(fe=d.from(fe,fe.offset,fe.byteLength)),Se(xe,Uint8Array)&&(xe=d.from(xe,xe.offset,xe.byteLength)),!d.isBuffer(fe)||!d.isBuffer(xe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(fe===xe)return 0;for(var ke=fe.length,Ie=xe.length,Fe=0,ze=Math.min(ke,Ie);Fe<ze;++Fe)if(fe[Fe]!==xe[Fe]){ke=fe[Fe],Ie=xe[Fe];break}return ke<Ie?-1:Ie<ke?1:0},d.isEncoding=function(fe){switch(String(fe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(fe,xe){if(!Array.isArray(fe))throw new TypeError('"list" argument must be an Array of Buffers');if(fe.length===0)return d.alloc(0);var ke;if(xe===void 0)for(xe=0,ke=0;ke<fe.length;++ke)xe+=fe[ke].length;var Ie=d.allocUnsafe(xe),Fe=0;for(ke=0;ke<fe.length;++ke){var ze=fe[ke];if(Se(ze,Uint8Array))Fe+ze.length>Ie.length?(d.isBuffer(ze)||(ze=d.from(ze)),ze.copy(Ie,Fe)):Uint8Array.prototype.set.call(Ie,ze,Fe);else{if(!d.isBuffer(ze))throw new TypeError('"list" argument must be an Array of Buffers');ze.copy(Ie,Fe)}Fe+=ze.length}return Ie},d.byteLength=T,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var fe=this.length;if(fe%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var xe=0;xe<fe;xe+=2)O(this,xe,xe+1);return this},d.prototype.swap32=function(){var fe=this.length;if(fe%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var xe=0;xe<fe;xe+=4)O(this,xe,xe+3),O(this,xe+1,xe+2);return this},d.prototype.swap64=function(){var fe=this.length;if(fe%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var xe=0;xe<fe;xe+=8)O(this,xe,xe+7),O(this,xe+1,xe+6),O(this,xe+2,xe+5),O(this,xe+3,xe+4);return this},d.prototype.toString=function(){var fe=this.length;return fe===0?"":arguments.length===0?U(this,0,fe):E.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(fe){if(!d.isBuffer(fe))throw new TypeError("Argument must be a Buffer");return this===fe||d.compare(this,fe)===0},d.prototype.inspect=function(){var fe="",xe=o.h2;return fe=this.toString("hex",0,xe).replace(/(.{2})/g,"$1 ").trim(),this.length>xe&&(fe+=" ... "),"<Buffer "+fe+">"},c&&(d.prototype[c]=d.prototype.inspect),d.prototype.compare=function(fe,xe,ke,Ie,Fe){if(Se(fe,Uint8Array)&&(fe=d.from(fe,fe.offset,fe.byteLength)),!d.isBuffer(fe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+s(fe));if(xe===void 0&&(xe=0),ke===void 0&&(ke=fe?fe.length:0),Ie===void 0&&(Ie=0),Fe===void 0&&(Fe=this.length),xe<0||ke>fe.length||Ie<0||Fe>this.length)throw new RangeError("out of range index");if(Ie>=Fe&&xe>=ke)return 0;if(Ie>=Fe)return-1;if(xe>=ke)return 1;if(this===fe)return 0;for(var ze=(Fe>>>=0)-(Ie>>>=0),qe=(ke>>>=0)-(xe>>>=0),Ye=Math.min(ze,qe),Qe=this.slice(Ie,Fe),ft=fe.slice(xe,ke),ht=0;ht<Ye;++ht)if(Qe[ht]!==ft[ht]){ze=Qe[ht],qe=ft[ht];break}return ze<qe?-1:qe<ze?1:0},d.prototype.includes=function(fe,xe,ke){return this.indexOf(fe,xe,ke)!==-1},d.prototype.indexOf=function(fe,xe,ke){return P(this,fe,xe,ke,!0)},d.prototype.lastIndexOf=function(fe,xe,ke){return P(this,fe,xe,ke,!1)},d.prototype.write=function(fe,xe,ke,Ie){if(xe===void 0)Ie="utf8",ke=this.length,xe=0;else if(ke===void 0&&typeof xe=="string")Ie=xe,ke=this.length,xe=0;else{if(!isFinite(xe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");xe>>>=0,isFinite(ke)?(ke>>>=0,Ie===void 0&&(Ie="utf8")):(Ie=ke,ke=void 0)}var Fe=this.length-xe;if((ke===void 0||ke>Fe)&&(ke=Fe),fe.length>0&&(ke<0||xe<0)||xe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ie||(Ie="utf8");for(var ze=!1;;)switch(Ie){case"hex":return z(this,fe,xe,ke);case"utf8":case"utf-8":return j(this,fe,xe,ke);case"ascii":case"latin1":case"binary":return R(this,fe,xe,ke);case"base64":return N(this,fe,xe,ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,fe,xe,ke);default:if(ze)throw new TypeError("Unknown encoding: "+Ie);Ie=(""+Ie).toLowerCase(),ze=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var V=4096;function te(fe,xe,ke){var Ie="";ke=Math.min(fe.length,ke);for(var Fe=xe;Fe<ke;++Fe)Ie+=String.fromCharCode(127&fe[Fe]);return Ie}function Q(fe,xe,ke){var Ie="";ke=Math.min(fe.length,ke);for(var Fe=xe;Fe<ke;++Fe)Ie+=String.fromCharCode(fe[Fe]);return Ie}function J(fe,xe,ke){var Ie=fe.length;(!xe||xe<0)&&(xe=0),(!ke||ke<0||ke>Ie)&&(ke=Ie);for(var Fe="",ze=xe;ze<ke;++ze)Fe+=Ae[fe[ze]];return Fe}function X(fe,xe,ke){for(var Ie=fe.slice(xe,ke),Fe="",ze=0;ze<Ie.length-1;ze+=2)Fe+=String.fromCharCode(Ie[ze]+256*Ie[ze+1]);return Fe}function K(fe,xe,ke){if(fe%1!=0||fe<0)throw new RangeError("offset is not uint");if(fe+xe>ke)throw new RangeError("Trying to access beyond buffer length")}function ee(fe,xe,ke,Ie,Fe,ze){if(!d.isBuffer(fe))throw new TypeError('"buffer" argument must be a Buffer instance');if(xe>Fe||xe<ze)throw new RangeError('"value" argument is out of bounds');if(ke+Ie>fe.length)throw new RangeError("Index out of range")}function re(fe,xe,ke,Ie,Fe){me(xe,Ie,Fe,fe,ke,7);var ze=Number(xe&BigInt(4294967295));fe[ke++]=ze,ze>>=8,fe[ke++]=ze,ze>>=8,fe[ke++]=ze,ze>>=8,fe[ke++]=ze;var qe=Number(xe>>BigInt(32)&BigInt(4294967295));return fe[ke++]=qe,qe>>=8,fe[ke++]=qe,qe>>=8,fe[ke++]=qe,qe>>=8,fe[ke++]=qe,ke}function ie(fe,xe,ke,Ie,Fe){me(xe,Ie,Fe,fe,ke,7);var ze=Number(xe&BigInt(4294967295));fe[ke+7]=ze,ze>>=8,fe[ke+6]=ze,ze>>=8,fe[ke+5]=ze,ze>>=8,fe[ke+4]=ze;var qe=Number(xe>>BigInt(32)&BigInt(4294967295));return fe[ke+3]=qe,qe>>=8,fe[ke+2]=qe,qe>>=8,fe[ke+1]=qe,qe>>=8,fe[ke]=qe,ke+8}function ae(fe,xe,ke,Ie,Fe,ze){if(ke+Ie>fe.length)throw new RangeError("Index out of range");if(ke<0)throw new RangeError("Index out of range")}function ue(fe,xe,ke,Ie,Fe){return xe=+xe,ke>>>=0,Fe||ae(fe,0,ke,4),p.write(fe,xe,ke,Ie,23,4),ke+4}function pe(fe,xe,ke,Ie,Fe){return xe=+xe,ke>>>=0,Fe||ae(fe,0,ke,8),p.write(fe,xe,ke,Ie,52,8),ke+8}d.prototype.slice=function(fe,xe){var ke=this.length;(fe=~~fe)<0?(fe+=ke)<0&&(fe=0):fe>ke&&(fe=ke),(xe=xe===void 0?ke:~~xe)<0?(xe+=ke)<0&&(xe=0):xe>ke&&(xe=ke),xe<fe&&(xe=fe);var Ie=this.subarray(fe,xe);return Object.setPrototypeOf(Ie,d.prototype),Ie},d.prototype.readUintLE=d.prototype.readUIntLE=function(fe,xe,ke){fe>>>=0,xe>>>=0,ke||K(fe,xe,this.length);for(var Ie=this[fe],Fe=1,ze=0;++ze<xe&&(Fe*=256);)Ie+=this[fe+ze]*Fe;return Ie},d.prototype.readUintBE=d.prototype.readUIntBE=function(fe,xe,ke){fe>>>=0,xe>>>=0,ke||K(fe,xe,this.length);for(var Ie=this[fe+--xe],Fe=1;xe>0&&(Fe*=256);)Ie+=this[fe+--xe]*Fe;return Ie},d.prototype.readUint8=d.prototype.readUInt8=function(fe,xe){return fe>>>=0,xe||K(fe,1,this.length),this[fe]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(fe,xe){return fe>>>=0,xe||K(fe,2,this.length),this[fe]|this[fe+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(fe,xe){return fe>>>=0,xe||K(fe,2,this.length),this[fe]<<8|this[fe+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(fe,xe){return fe>>>=0,xe||K(fe,4,this.length),(this[fe]|this[fe+1]<<8|this[fe+2]<<16)+16777216*this[fe+3]},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(fe,xe){return fe>>>=0,xe||K(fe,4,this.length),16777216*this[fe]+(this[fe+1]<<16|this[fe+2]<<8|this[fe+3])},d.prototype.readBigUInt64LE=Ce(function(fe){Ee(fe>>>=0,"offset");var xe=this[fe],ke=this[fe+7];xe!==void 0&&ke!==void 0||Te(fe,this.length-8);var Ie=xe+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,24),Fe=this[++fe]+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+ke*Math.pow(2,24);return BigInt(Ie)+(BigInt(Fe)<<BigInt(32))}),d.prototype.readBigUInt64BE=Ce(function(fe){Ee(fe>>>=0,"offset");var xe=this[fe],ke=this[fe+7];xe!==void 0&&ke!==void 0||Te(fe,this.length-8);var Ie=xe*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+this[++fe],Fe=this[++fe]*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+ke;return(BigInt(Ie)<<BigInt(32))+BigInt(Fe)}),d.prototype.readIntLE=function(fe,xe,ke){fe>>>=0,xe>>>=0,ke||K(fe,xe,this.length);for(var Ie=this[fe],Fe=1,ze=0;++ze<xe&&(Fe*=256);)Ie+=this[fe+ze]*Fe;return Ie>=(Fe*=128)&&(Ie-=Math.pow(2,8*xe)),Ie},d.prototype.readIntBE=function(fe,xe,ke){fe>>>=0,xe>>>=0,ke||K(fe,xe,this.length);for(var Ie=xe,Fe=1,ze=this[fe+--Ie];Ie>0&&(Fe*=256);)ze+=this[fe+--Ie]*Fe;return ze>=(Fe*=128)&&(ze-=Math.pow(2,8*xe)),ze},d.prototype.readInt8=function(fe,xe){return fe>>>=0,xe||K(fe,1,this.length),128&this[fe]?-1*(255-this[fe]+1):this[fe]},d.prototype.readInt16LE=function(fe,xe){fe>>>=0,xe||K(fe,2,this.length);var ke=this[fe]|this[fe+1]<<8;return 32768&ke?4294901760|ke:ke},d.prototype.readInt16BE=function(fe,xe){fe>>>=0,xe||K(fe,2,this.length);var ke=this[fe+1]|this[fe]<<8;return 32768&ke?4294901760|ke:ke},d.prototype.readInt32LE=function(fe,xe){return fe>>>=0,xe||K(fe,4,this.length),this[fe]|this[fe+1]<<8|this[fe+2]<<16|this[fe+3]<<24},d.prototype.readInt32BE=function(fe,xe){return fe>>>=0,xe||K(fe,4,this.length),this[fe]<<24|this[fe+1]<<16|this[fe+2]<<8|this[fe+3]},d.prototype.readBigInt64LE=Ce(function(fe){Ee(fe>>>=0,"offset");var xe=this[fe],ke=this[fe+7];xe!==void 0&&ke!==void 0||Te(fe,this.length-8);var Ie=this[fe+4]+this[fe+5]*Math.pow(2,8)+this[fe+6]*Math.pow(2,16)+(ke<<24);return(BigInt(Ie)<<BigInt(32))+BigInt(xe+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,24))}),d.prototype.readBigInt64BE=Ce(function(fe){Ee(fe>>>=0,"offset");var xe=this[fe],ke=this[fe+7];xe!==void 0&&ke!==void 0||Te(fe,this.length-8);var Ie=(xe<<24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+this[++fe];return(BigInt(Ie)<<BigInt(32))+BigInt(this[++fe]*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+ke)}),d.prototype.readFloatLE=function(fe,xe){return fe>>>=0,xe||K(fe,4,this.length),p.read(this,fe,!0,23,4)},d.prototype.readFloatBE=function(fe,xe){return fe>>>=0,xe||K(fe,4,this.length),p.read(this,fe,!1,23,4)},d.prototype.readDoubleLE=function(fe,xe){return fe>>>=0,xe||K(fe,8,this.length),p.read(this,fe,!0,52,8)},d.prototype.readDoubleBE=function(fe,xe){return fe>>>=0,xe||K(fe,8,this.length),p.read(this,fe,!1,52,8)},d.prototype.writeUintLE=d.prototype.writeUIntLE=function(fe,xe,ke,Ie){fe=+fe,xe>>>=0,ke>>>=0,Ie||ee(this,fe,xe,ke,Math.pow(2,8*ke)-1,0);var Fe=1,ze=0;for(this[xe]=255&fe;++ze<ke&&(Fe*=256);)this[xe+ze]=fe/Fe&255;return xe+ke},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(fe,xe,ke,Ie){fe=+fe,xe>>>=0,ke>>>=0,Ie||ee(this,fe,xe,ke,Math.pow(2,8*ke)-1,0);var Fe=ke-1,ze=1;for(this[xe+Fe]=255&fe;--Fe>=0&&(ze*=256);)this[xe+Fe]=fe/ze&255;return xe+ke},d.prototype.writeUint8=d.prototype.writeUInt8=function(fe,xe,ke){return fe=+fe,xe>>>=0,ke||ee(this,fe,xe,1,255,0),this[xe]=255&fe,xe+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(fe,xe,ke){return fe=+fe,xe>>>=0,ke||ee(this,fe,xe,2,65535,0),this[xe]=255&fe,this[xe+1]=fe>>>8,xe+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(fe,xe,ke){return fe=+fe,xe>>>=0,ke||ee(this,fe,xe,2,65535,0),this[xe]=fe>>>8,this[xe+1]=255&fe,xe+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(fe,xe,ke){return fe=+fe,xe>>>=0,ke||ee(this,fe,xe,4,4294967295,0),this[xe+3]=fe>>>24,this[xe+2]=fe>>>16,this[xe+1]=fe>>>8,this[xe]=255&fe,xe+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(fe,xe,ke){return fe=+fe,xe>>>=0,ke||ee(this,fe,xe,4,4294967295,0),this[xe]=fe>>>24,this[xe+1]=fe>>>16,this[xe+2]=fe>>>8,this[xe+3]=255&fe,xe+4},d.prototype.writeBigUInt64LE=Ce(function(fe){return re(this,fe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Ce(function(fe){return ie(this,fe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(fe,xe,ke,Ie){if(fe=+fe,xe>>>=0,!Ie){var Fe=Math.pow(2,8*ke-1);ee(this,fe,xe,ke,Fe-1,-Fe)}var ze=0,qe=1,Ye=0;for(this[xe]=255&fe;++ze<ke&&(qe*=256);)fe<0&&Ye===0&&this[xe+ze-1]!==0&&(Ye=1),this[xe+ze]=(fe/qe>>0)-Ye&255;return xe+ke},d.prototype.writeIntBE=function(fe,xe,ke,Ie){if(fe=+fe,xe>>>=0,!Ie){var Fe=Math.pow(2,8*ke-1);ee(this,fe,xe,ke,Fe-1,-Fe)}var ze=ke-1,qe=1,Ye=0;for(this[xe+ze]=255&fe;--ze>=0&&(qe*=256);)fe<0&&Ye===0&&this[xe+ze+1]!==0&&(Ye=1),this[xe+ze]=(fe/qe>>0)-Ye&255;return xe+ke},d.prototype.writeInt8=function(fe,xe,ke){return fe=+fe,xe>>>=0,ke||ee(this,fe,xe,1,127,-128),fe<0&&(fe=255+fe+1),this[xe]=255&fe,xe+1},d.prototype.writeInt16LE=function(fe,xe,ke){return fe=+fe,xe>>>=0,ke||ee(this,fe,xe,2,32767,-32768),this[xe]=255&fe,this[xe+1]=fe>>>8,xe+2},d.prototype.writeInt16BE=function(fe,xe,ke){return fe=+fe,xe>>>=0,ke||ee(this,fe,xe,2,32767,-32768),this[xe]=fe>>>8,this[xe+1]=255&fe,xe+2},d.prototype.writeInt32LE=function(fe,xe,ke){return fe=+fe,xe>>>=0,ke||ee(this,fe,xe,4,2147483647,-2147483648),this[xe]=255&fe,this[xe+1]=fe>>>8,this[xe+2]=fe>>>16,this[xe+3]=fe>>>24,xe+4},d.prototype.writeInt32BE=function(fe,xe,ke){return fe=+fe,xe>>>=0,ke||ee(this,fe,xe,4,2147483647,-2147483648),fe<0&&(fe=4294967295+fe+1),this[xe]=fe>>>24,this[xe+1]=fe>>>16,this[xe+2]=fe>>>8,this[xe+3]=255&fe,xe+4},d.prototype.writeBigInt64LE=Ce(function(fe){return re(this,fe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Ce(function(fe){return ie(this,fe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeFloatLE=function(fe,xe,ke){return ue(this,fe,xe,!0,ke)},d.prototype.writeFloatBE=function(fe,xe,ke){return ue(this,fe,xe,!1,ke)},d.prototype.writeDoubleLE=function(fe,xe,ke){return pe(this,fe,xe,!0,ke)},d.prototype.writeDoubleBE=function(fe,xe,ke){return pe(this,fe,xe,!1,ke)},d.prototype.copy=function(fe,xe,ke,Ie){if(!d.isBuffer(fe))throw new TypeError("argument should be a Buffer");if(ke||(ke=0),Ie||Ie===0||(Ie=this.length),xe>=fe.length&&(xe=fe.length),xe||(xe=0),Ie>0&&Ie<ke&&(Ie=ke),Ie===ke||fe.length===0||this.length===0)return 0;if(xe<0)throw new RangeError("targetStart out of bounds");if(ke<0||ke>=this.length)throw new RangeError("Index out of range");if(Ie<0)throw new RangeError("sourceEnd out of bounds");Ie>this.length&&(Ie=this.length),fe.length-xe<Ie-ke&&(Ie=fe.length-xe+ke);var Fe=Ie-ke;return this===fe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(xe,ke,Ie):Uint8Array.prototype.set.call(fe,this.subarray(ke,Ie),xe),Fe},d.prototype.fill=function(fe,xe,ke,Ie){if(typeof fe=="string"){if(typeof xe=="string"?(Ie=xe,xe=0,ke=this.length):typeof ke=="string"&&(Ie=ke,ke=this.length),Ie!==void 0&&typeof Ie!="string")throw new TypeError("encoding must be a string");if(typeof Ie=="string"&&!d.isEncoding(Ie))throw new TypeError("Unknown encoding: "+Ie);if(fe.length===1){var Fe=fe.charCodeAt(0);(Ie==="utf8"&&Fe<128||Ie==="latin1")&&(fe=Fe)}}else typeof fe=="number"?fe&=255:typeof fe=="boolean"&&(fe=Number(fe));if(xe<0||this.length<xe||this.length<ke)throw new RangeError("Out of range index");if(ke<=xe)return this;var ze;if(xe>>>=0,ke=ke===void 0?this.length:ke>>>0,fe||(fe=0),typeof fe=="number")for(ze=xe;ze<ke;++ze)this[ze]=fe;else{var qe=d.isBuffer(fe)?fe:d.from(fe,Ie),Ye=qe.length;if(Ye===0)throw new TypeError('The value "'+fe+'" is invalid for argument "value"');for(ze=0;ze<ke-xe;++ze)this[ze+xe]=qe[ze%Ye]}return this};var de={};function ye(fe,xe,ke){de[fe]=function(Ie){(function(ht,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function");ht.prototype=Object.create(mt&&mt.prototype,{constructor:{value:ht,writable:!0,configurable:!0}}),Object.defineProperty(ht,"prototype",{writable:!1}),mt&&n(ht,mt)})(ft,Ie);var Fe,ze,qe,Ye,Qe=(qe=ft,Ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ht,mt=l(qe);if(Ye){var Mt=l(this).constructor;ht=Reflect.construct(mt,arguments,Mt)}else ht=mt.apply(this,arguments);return function(_t,it){if(it&&(s(it)==="object"||typeof it=="function"))return it;if(it!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(_t)}(this,ht)});function ft(){var ht;return function(mt,Mt){if(!(mt instanceof Mt))throw new TypeError("Cannot call a class as a function")}(this,ft),ht=Qe.call(this),Object.defineProperty(r(ht),"message",{value:xe.apply(r(ht),arguments),writable:!0,configurable:!0}),ht.name="".concat(ht.name," [").concat(fe,"]"),ht.stack,delete ht.name,ht}return Fe=ft,(ze=[{key:"code",get:function(){return fe},set:function(ht){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ht,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(fe,"]: ").concat(this.message)}}])&&i(Fe.prototype,ze),Object.defineProperty(Fe,"prototype",{writable:!1}),ft}(ke)}function be(fe){for(var xe="",ke=fe.length,Ie=fe[0]==="-"?1:0;ke>=Ie+4;ke-=3)xe="_".concat(fe.slice(ke-3,ke)).concat(xe);return"".concat(fe.slice(0,ke)).concat(xe)}function me(fe,xe,ke,Ie,Fe,ze){if(fe>ke||fe<xe){var qe,Ye=typeof xe=="bigint"?"n":"";throw qe=ze>3?xe===0||xe===BigInt(0)?">= 0".concat(Ye," and < 2").concat(Ye," ** ").concat(8*(ze+1)).concat(Ye):">= -(2".concat(Ye," ** ").concat(8*(ze+1)-1).concat(Ye,") and < 2 ** ")+"".concat(8*(ze+1)-1).concat(Ye):">= ".concat(xe).concat(Ye," and <= ").concat(ke).concat(Ye),new de.ERR_OUT_OF_RANGE("value",qe,fe)}(function(Qe,ft,ht){Ee(ft,"offset"),Qe[ft]!==void 0&&Qe[ft+ht]!==void 0||Te(ft,Qe.length-(ht+1))})(Ie,Fe,ze)}function Ee(fe,xe){if(typeof fe!="number")throw new de.ERR_INVALID_ARG_TYPE(xe,"number",fe)}function Te(fe,xe,ke){throw Math.floor(fe)!==fe?(Ee(fe,ke),new de.ERR_OUT_OF_RANGE(ke||"offset","an integer",fe)):xe<0?new de.ERR_BUFFER_OUT_OF_BOUNDS:new de.ERR_OUT_OF_RANGE(ke||"offset",">= ".concat(ke?1:0," and <= ").concat(xe),fe)}ye("ERR_BUFFER_OUT_OF_BOUNDS",function(fe){return fe?"".concat(fe," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ye("ERR_INVALID_ARG_TYPE",function(fe,xe){return'The "'.concat(fe,'" argument must be of type number. Received type ').concat(s(xe))},TypeError),ye("ERR_OUT_OF_RANGE",function(fe,xe,ke){var Ie='The value of "'.concat(fe,'" is out of range.'),Fe=ke;return Number.isInteger(ke)&&Math.abs(ke)>Math.pow(2,32)?Fe=be(String(ke)):typeof ke=="bigint"&&(Fe=String(ke),(ke>Math.pow(BigInt(2),BigInt(32))||ke<-Math.pow(BigInt(2),BigInt(32)))&&(Fe=be(Fe)),Fe+="n"),Ie+" It must be ".concat(xe,". Received ").concat(Fe)},RangeError);var we=/[^+/0-9A-Za-z-_]/g;function oe(fe,xe){var ke;xe=xe||1/0;for(var Ie=fe.length,Fe=null,ze=[],qe=0;qe<Ie;++qe){if((ke=fe.charCodeAt(qe))>55295&&ke<57344){if(!Fe){if(ke>56319){(xe-=3)>-1&&ze.push(239,191,189);continue}if(qe+1===Ie){(xe-=3)>-1&&ze.push(239,191,189);continue}Fe=ke;continue}if(ke<56320){(xe-=3)>-1&&ze.push(239,191,189),Fe=ke;continue}ke=65536+(Fe-55296<<10|ke-56320)}else Fe&&(xe-=3)>-1&&ze.push(239,191,189);if(Fe=null,ke<128){if((xe-=1)<0)break;ze.push(ke)}else if(ke<2048){if((xe-=2)<0)break;ze.push(ke>>6|192,63&ke|128)}else if(ke<65536){if((xe-=3)<0)break;ze.push(ke>>12|224,ke>>6&63|128,63&ke|128)}else{if(!(ke<1114112))throw new Error("Invalid code point");if((xe-=4)<0)break;ze.push(ke>>18|240,ke>>12&63|128,ke>>6&63|128,63&ke|128)}}return ze}function se(fe){return u.toByteArray(function(xe){if((xe=(xe=xe.split("=")[0]).trim().replace(we,"")).length<2)return"";for(;xe.length%4!=0;)xe+="=";return xe}(fe))}function he(fe,xe,ke,Ie){var Fe;for(Fe=0;Fe<Ie&&!(Fe+ke>=xe.length||Fe>=fe.length);++Fe)xe[Fe+ke]=fe[Fe];return Fe}function Se(fe,xe){return fe instanceof xe||fe!=null&&fe.constructor!=null&&fe.constructor.name!=null&&fe.constructor.name===xe.name}function _e(fe){return fe!=fe}var Ae=function(){for(var fe="0123456789abcdef",xe=new Array(256),ke=0;ke<16;++ke)for(var Ie=16*ke,Fe=0;Fe<16;++Fe)xe[Ie+Fe]=fe[ke]+fe[Fe];return xe}();function Ce(fe){return typeof BigInt>"u"?Re:fe}function Re(){throw new Error("BigInt not supported")}},2321:function(h){h.exports=n,h.exports.isMobile=n,h.exports.default=n;var o=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,i=/android|ipad|playbook|silk/i;function n(r){r||(r={});var l=r.ua;if(l||typeof navigator>"u"||(l=navigator.userAgent),l&&l.headers&&typeof l.headers["user-agent"]=="string"&&(l=l.headers["user-agent"]),typeof l!="string")return!1;var s=o.test(l)&&!t.test(l)||!!r.tablet&&i.test(l);return!s&&r.tablet&&r.featureDetect&&navigator&&navigator.maxTouchPoints>1&&l.indexOf("Macintosh")!==-1&&l.indexOf("Safari")!==-1&&(s=!0),s}},3910:function(h,o){o.byteLength=function(p){var c=s(p),x=c[0],g=c[1];return 3*(x+g)/4-g},o.toByteArray=function(p){var c,x,g=s(p),d=g[0],v=g[1],y=new n(function(f,S,T){return 3*(S+T)/4-T}(0,d,v)),m=0,w=v>0?d-4:d;for(x=0;x<w;x+=4)c=i[p.charCodeAt(x)]<<18|i[p.charCodeAt(x+1)]<<12|i[p.charCodeAt(x+2)]<<6|i[p.charCodeAt(x+3)],y[m++]=c>>16&255,y[m++]=c>>8&255,y[m++]=255&c;return v===2&&(c=i[p.charCodeAt(x)]<<2|i[p.charCodeAt(x+1)]>>4,y[m++]=255&c),v===1&&(c=i[p.charCodeAt(x)]<<10|i[p.charCodeAt(x+1)]<<4|i[p.charCodeAt(x+2)]>>2,y[m++]=c>>8&255,y[m++]=255&c),y},o.fromByteArray=function(p){for(var c,x=p.length,g=x%3,d=[],v=16383,y=0,m=x-g;y<m;y+=v)d.push(u(p,y,y+v>m?m:y+v));return g===1?(c=p[x-1],d.push(t[c>>2]+t[c<<4&63]+"==")):g===2&&(c=(p[x-2]<<8)+p[x-1],d.push(t[c>>10]+t[c>>4&63]+t[c<<2&63]+"=")),d.join("")};for(var t=[],i=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0;l<64;++l)t[l]=r[l],i[r.charCodeAt(l)]=l;function s(p){var c=p.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=p.indexOf("=");return x===-1&&(x=c),[x,x===c?0:4-x%4]}function u(p,c,x){for(var g,d,v=[],y=c;y<x;y+=3)g=(p[y]<<16&16711680)+(p[y+1]<<8&65280)+(255&p[y+2]),v.push(t[(d=g)>>18&63]+t[d>>12&63]+t[d>>6&63]+t[63&d]);return v.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},3187:function(h,o){o.read=function(t,i,n,r,l){var s,u,p=8*l-r-1,c=(1<<p)-1,x=c>>1,g=-7,d=n?l-1:0,v=n?-1:1,y=t[i+d];for(d+=v,s=y&(1<<-g)-1,y>>=-g,g+=p;g>0;s=256*s+t[i+d],d+=v,g-=8);for(u=s&(1<<-g)-1,s>>=-g,g+=r;g>0;u=256*u+t[i+d],d+=v,g-=8);if(s===0)s=1-x;else{if(s===c)return u?NaN:1/0*(y?-1:1);u+=Math.pow(2,r),s-=x}return(y?-1:1)*u*Math.pow(2,s-r)},o.write=function(t,i,n,r,l,s){var u,p,c,x=8*s-l-1,g=(1<<x)-1,d=g>>1,v=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:s-1,m=r?1:-1,w=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(p=isNaN(i)?1:0,u=g):(u=Math.floor(Math.log(i)/Math.LN2),i*(c=Math.pow(2,-u))<1&&(u--,c*=2),(i+=u+d>=1?v/c:v*Math.pow(2,1-d))*c>=2&&(u++,c/=2),u+d>=g?(p=0,u=g):u+d>=1?(p=(i*c-1)*Math.pow(2,l),u+=d):(p=i*Math.pow(2,d-1)*Math.pow(2,l),u=0));l>=8;t[n+y]=255&p,y+=m,p/=256,l-=8);for(u=u<<l|p,x+=l;x>0;t[n+y]=255&u,y+=m,u/=256,x-=8);t[n+y-m]|=128*w}},1152:function(h,o,t){h.exports=function(u){var p=(u=u||{}).eye||[0,0,1],c=u.center||[0,0,0],x=u.up||[0,1,0],g=u.distanceLimits||[0,1/0],d=u.mode||"turntable",v=i(),y=n(),m=r();return v.setDistanceLimits(g[0],g[1]),v.lookAt(0,p,c,x),y.setDistanceLimits(g[0],g[1]),y.lookAt(0,p,c,x),m.setDistanceLimits(g[0],g[1]),m.lookAt(0,p,c,x),new l({turntable:v,orbit:y,matrix:m},d)};var i=t(3440),n=t(7774),r=t(9298);function l(u,p){this._controllerNames=Object.keys(u),this._controllerList=this._controllerNames.map(function(c){return u[c]}),this._mode=p,this._active=u[p],this._active||(this._mode="turntable",this._active=u.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var s=l.prototype;s.flush=function(u){for(var p=this._controllerList,c=0;c<p.length;++c)p[c].flush(u)},s.idle=function(u){for(var p=this._controllerList,c=0;c<p.length;++c)p[c].idle(u)},s.lookAt=function(u,p,c,x){for(var g=this._controllerList,d=0;d<g.length;++d)g[d].lookAt(u,p,c,x)},s.rotate=function(u,p,c,x){for(var g=this._controllerList,d=0;d<g.length;++d)g[d].rotate(u,p,c,x)},s.pan=function(u,p,c,x){for(var g=this._controllerList,d=0;d<g.length;++d)g[d].pan(u,p,c,x)},s.translate=function(u,p,c,x){for(var g=this._controllerList,d=0;d<g.length;++d)g[d].translate(u,p,c,x)},s.setMatrix=function(u,p){for(var c=this._controllerList,x=0;x<c.length;++x)c[x].setMatrix(u,p)},s.setDistanceLimits=function(u,p){for(var c=this._controllerList,x=0;x<c.length;++x)c[x].setDistanceLimits(u,p)},s.setDistance=function(u,p){for(var c=this._controllerList,x=0;x<c.length;++x)c[x].setDistance(u,p)},s.recalcMatrix=function(u){this._active.recalcMatrix(u)},s.getDistance=function(u){return this._active.getDistance(u)},s.getDistanceLimits=function(u){return this._active.getDistanceLimits(u)},s.lastT=function(){return this._active.lastT()},s.setMode=function(u){if(u!==this._mode){var p=this._controllerNames.indexOf(u);if(!(p<0)){var c=this._active,x=this._controllerList[p],g=Math.max(c.lastT(),x.lastT());c.recalcMatrix(g),x.setMatrix(g,c.computedMatrix),this._active=x,this._mode=u,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},s.getMode=function(){return this._mode}},8126:function(h,o,t){var i=typeof WeakMap>"u"?t(5346):WeakMap,n=t(5827),r=t(2944),l=new i;h.exports=function(s){var u=l.get(s),p=u&&(u._triangleBuffer.handle||u._triangleBuffer.buffer);if(!p||!s.isBuffer(p)){var c=n(s,new Float32Array([-1,-1,-1,4,4,-1]));(u=r(s,[{buffer:c,type:s.FLOAT,size:2}]))._triangleBuffer=c,l.set(s,u)}u.bind(),s.drawArrays(s.TRIANGLES,0,3),u.unbind()}},8008:function(h,o,t){var i=t(4930);h.exports=function(n,r,l){r=typeof r=="number"?r:1,l=l||": ";var s=n.split(/\r?\n/),u=String(s.length+r-1).length;return s.map(function(p,c){var x=c+r,g=String(x).length;return i(x,u-g)+l+p}).join(`
`)}},2153:function(h,o,t){h.exports=function(r){var l=r.length;if(l===0)return[];if(l===1)return[0];for(var s=r[0].length,u=[r[0]],p=[0],c=1;c<l;++c)if(u.push(r[c]),n(u,s)){if(p.push(c),p.length===s+1)return p}else u.pop();return p};var i=t(417);function n(r,l){for(var s=new Array(l+1),u=0;u<r.length;++u)s[u]=r[u];for(u=0;u<=r.length;++u){for(var p=r.length;p<=l;++p){for(var c=new Array(l),x=0;x<l;++x)c[x]=Math.pow(p+1-u,x);s[p]=c}if(i.apply(void 0,s))return!0}return!1}},4653:function(h,o,t){h.exports=function(r,l){return i(l).filter(function(s){for(var u=new Array(s.length),p=0;p<s.length;++p)u[p]=l[s[p]];return n(u)*r<1})};var i=t(4419),n=t(1778)},2350:function(h,o,t){h.exports=function(r,l){return n(i(r,l))};var i=t(4653),n=t(8691)},7896:function(h){h.exports=function(o){return atob(o)}},957:function(h,o,t){h.exports=function(r,l){for(var s=l.length,u=new Array(s+1),p=0;p<s;++p){for(var c=new Array(s+1),x=0;x<=s;++x)c[x]=r[x][p];u[p]=c}for(u[s]=new Array(s+1),p=0;p<=s;++p)u[s][p]=1;var g=new Array(s+1);for(p=0;p<s;++p)g[p]=l[p];g[s]=1;var d=i(u,g),v=n(d[s+1]);v===0&&(v=1);var y=new Array(s+1);for(p=0;p<=s;++p)y[p]=n(d[p])/v;return y};var i=t(6606);function n(r){for(var l=0,s=0;s<r.length;++s)l+=r[s];return l}},1539:function(h,o,t){var i=t(8524);h.exports=function(n,r){return i(n[0].mul(r[1]).add(r[0].mul(n[1])),n[1].mul(r[1]))}},8846:function(h){h.exports=function(o,t){return o[0].mul(t[1]).cmp(t[0].mul(o[1]))}},9189:function(h,o,t){var i=t(8524);h.exports=function(n,r){return i(n[0].mul(r[1]),n[1].mul(r[0]))}},5125:function(h,o,t){var i=t(234),n=t(3218),r=t(5514),l=t(2813),s=t(8524),u=t(9189);h.exports=function p(c,x){if(i(c))return x?u(c,p(x)):[c[0].clone(),c[1].clone()];var g,d,v=0;if(n(c))g=c.clone();else if(typeof c=="string")g=l(c);else{if(c===0)return[r(0),r(1)];if(c===Math.floor(c))g=r(c);else{for(;c!==Math.floor(c);)c*=Math.pow(2,256),v-=256;g=r(c)}}if(i(x))g.mul(x[1]),d=x[0].clone();else if(n(x))d=x.clone();else if(typeof x=="string")d=l(x);else if(x)if(x===Math.floor(x))d=r(x);else{for(;x!==Math.floor(x);)x*=Math.pow(2,256),v+=256;d=r(x)}else d=r(1);return v>0?g=g.ushln(v):v<0&&(d=d.ushln(-v)),s(g,d)}},234:function(h,o,t){var i=t(3218);h.exports=function(n){return Array.isArray(n)&&n.length===2&&i(n[0])&&i(n[1])}},4275:function(h,o,t){var i=t(1928);h.exports=function(n){return n.cmp(new i(0))}},9958:function(h,o,t){var i=t(4275);h.exports=function(n){var r=n.length,l=n.words,s=0;if(r===1)s=l[0];else if(r===2)s=l[0]+67108864*l[1];else for(var u=0;u<r;u++)s+=l[u]*Math.pow(67108864,u);return i(n)*s}},1112:function(h,o,t){var i=t(8362),n=t(2288).countTrailingZeros;h.exports=function(r){var l=n(i.lo(r));if(l<32)return l;var s=n(i.hi(r));return s>20?52:s+32}},3218:function(h,o,t){t(1928),h.exports=function(i){return i&&typeof i=="object"&&!!i.words}},5514:function(h,o,t){var i=t(1928),n=t(8362);h.exports=function(r){var l=n.exponent(r);return l<52?new i(r):new i(r*Math.pow(2,52-l)).ushln(l-52)}},8524:function(h,o,t){var i=t(5514),n=t(4275);h.exports=function(r,l){var s=n(r),u=n(l);if(s===0)return[i(0),i(1)];if(u===0)return[i(0),i(0)];u<0&&(r=r.neg(),l=l.neg());var p=r.gcd(l);return p.cmpn(1)?[r.div(p),l.div(p)]:[r,l]}},2813:function(h,o,t){var i=t(1928);h.exports=function(n){return new i(n)}},3962:function(h,o,t){var i=t(8524);h.exports=function(n,r){return i(n[0].mul(r[0]),n[1].mul(r[1]))}},4951:function(h,o,t){var i=t(4275);h.exports=function(n){return i(n[0])*i(n[1])}},4354:function(h,o,t){var i=t(8524);h.exports=function(n,r){return i(n[0].mul(r[1]).sub(n[1].mul(r[0])),n[1].mul(r[1]))}},7999:function(h,o,t){var i=t(9958),n=t(1112);h.exports=function(r){var l=r[0],s=r[1];if(l.cmpn(0)===0)return 0;var u=l.abs().divmod(s.abs()),p=u.div,c=i(p),x=u.mod,g=l.negative!==s.negative?-1:1;if(x.cmpn(0)===0)return g*c;if(c){var d=n(c)+4;return g*(c+(y=i(x.ushln(d).divRound(s)))*Math.pow(2,-d))}var v=s.bitLength()-x.bitLength()+53,y=i(x.ushln(v).divRound(s));return v<1023?g*y*Math.pow(2,-v):g*(y*=Math.pow(2,-1023))*Math.pow(2,1023-v)}},5070:function(h){function o(s,u,p,c,x){for(var g=x+1;c<=x;){var d=c+x>>>1,v=s[d];(p!==void 0?p(v,u):v-u)>=0?(g=d,x=d-1):c=d+1}return g}function t(s,u,p,c,x){for(var g=x+1;c<=x;){var d=c+x>>>1,v=s[d];(p!==void 0?p(v,u):v-u)>0?(g=d,x=d-1):c=d+1}return g}function i(s,u,p,c,x){for(var g=c-1;c<=x;){var d=c+x>>>1,v=s[d];(p!==void 0?p(v,u):v-u)<0?(g=d,c=d+1):x=d-1}return g}function n(s,u,p,c,x){for(var g=c-1;c<=x;){var d=c+x>>>1,v=s[d];(p!==void 0?p(v,u):v-u)<=0?(g=d,c=d+1):x=d-1}return g}function r(s,u,p,c,x){for(;c<=x;){var g=c+x>>>1,d=s[g],v=p!==void 0?p(d,u):d-u;if(v===0)return g;v<=0?c=g+1:x=g-1}return-1}function l(s,u,p,c,x,g){return typeof p=="function"?g(s,u,p,c===void 0?0:0|c,x===void 0?s.length-1:0|x):g(s,u,void 0,p===void 0?0:0|p,c===void 0?s.length-1:0|c)}h.exports={ge:function(s,u,p,c,x){return l(s,u,p,c,x,o)},gt:function(s,u,p,c,x){return l(s,u,p,c,x,t)},lt:function(s,u,p,c,x){return l(s,u,p,c,x,i)},le:function(s,u,p,c,x){return l(s,u,p,c,x,n)},eq:function(s,u,p,c,x){return l(s,u,p,c,x,r)}}},2288:function(h,o){function t(n){var r=32;return(n&=-n)&&r--,65535&n&&(r-=16),16711935&n&&(r-=8),252645135&n&&(r-=4),858993459&n&&(r-=2),1431655765&n&&(r-=1),r}o.INT_BITS=32,o.INT_MAX=2147483647,o.INT_MIN=-2147483648,o.sign=function(n){return(n>0)-(n<0)},o.abs=function(n){var r=n>>31;return(n^r)-r},o.min=function(n,r){return r^(n^r)&-(n<r)},o.max=function(n,r){return n^(n^r)&-(n<r)},o.isPow2=function(n){return!(n&n-1||!n)},o.log2=function(n){var r,l;return r=(n>65535)<<4,r|=l=((n>>>=r)>255)<<3,r|=l=((n>>>=l)>15)<<2,(r|=l=((n>>>=l)>3)<<1)|(n>>>=l)>>1},o.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},o.popCount=function(n){return 16843009*((n=(858993459&(n-=n>>>1&1431655765))+(n>>>2&858993459))+(n>>>4)&252645135)>>>24},o.countTrailingZeros=t,o.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,1+((n|=n>>>8)|n>>>16)},o.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,(n|=n>>>16)-(n>>>1)},o.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,27030>>>(n&=15)&1};var i=new Array(256);(function(n){for(var r=0;r<256;++r){var l=r,s=r,u=7;for(l>>>=1;l;l>>>=1)s<<=1,s|=1&l,--u;n[r]=s<<u&255}})(i),o.reverse=function(n){return i[255&n]<<24|i[n>>>8&255]<<16|i[n>>>16&255]<<8|i[n>>>24&255]},o.interleave2=function(n,r){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))<<1},o.deinterleave2=function(n,r){return(n=65535&((n=16711935&((n=252645135&((n=858993459&((n=n>>>r&1431655765)|n>>>1))|n>>>2))|n>>>4))|n>>>16))<<16>>16},o.interleave3=function(n,r,l){return n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2),(n|=(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<1)|(l=1227133513&((l=3272356035&((l=251719695&((l=4278190335&((l&=1023)|l<<16))|l<<8))|l<<4))|l<<2))<<2},o.deinterleave3=function(n,r){return(n=1023&((n=4278190335&((n=251719695&((n=3272356035&((n=n>>>r&1227133513)|n>>>2))|n>>>4))|n>>>8))|n>>>16))<<22>>22},o.nextCombination=function(n){var r=n|n-1;return r+1|(~r&-~r)-1>>>t(n)+1}},1928:function(h,o,t){(function(i,n){function r(R,N){if(!R)throw new Error(N||"Assertion failed")}function l(R,N){R.super_=N;var Z=function(){};Z.prototype=N.prototype,R.prototype=new Z,R.prototype.constructor=R}function s(R,N,Z){if(s.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&(N!=="le"&&N!=="be"||(Z=N,N=10),this._init(R||0,N||10,Z||"be"))}var u;typeof i=="object"?i.exports=s:n.BN=s,s.BN=s,s.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t(6601).Buffer}catch{}function p(R,N){var Z=R.charCodeAt(N);return Z>=65&&Z<=70?Z-55:Z>=97&&Z<=102?Z-87:Z-48&15}function c(R,N,Z){var F=p(R,Z);return Z-1>=N&&(F|=p(R,Z-1)<<4),F}function x(R,N,Z,F){for(var U=0,V=Math.min(R.length,Z),te=N;te<V;te++){var Q=R.charCodeAt(te)-48;U*=F,U+=Q>=49?Q-49+10:Q>=17?Q-17+10:Q}return U}s.isBN=function(R){return R instanceof s||R!==null&&typeof R=="object"&&R.constructor.wordSize===s.wordSize&&Array.isArray(R.words)},s.max=function(R,N){return R.cmp(N)>0?R:N},s.min=function(R,N){return R.cmp(N)<0?R:N},s.prototype._init=function(R,N,Z){if(typeof R=="number")return this._initNumber(R,N,Z);if(typeof R=="object")return this._initArray(R,N,Z);N==="hex"&&(N=16),r(N===(0|N)&&N>=2&&N<=36);var F=0;(R=R.toString().replace(/\s+/g,""))[0]==="-"&&(F++,this.negative=1),F<R.length&&(N===16?this._parseHex(R,F,Z):(this._parseBase(R,N,F),Z==="le"&&this._initArray(this.toArray(),N,Z)))},s.prototype._initNumber=function(R,N,Z){R<0&&(this.negative=1,R=-R),R<67108864?(this.words=[67108863&R],this.length=1):R<4503599627370496?(this.words=[67108863&R,R/67108864&67108863],this.length=2):(r(R<9007199254740992),this.words=[67108863&R,R/67108864&67108863,1],this.length=3),Z==="le"&&this._initArray(this.toArray(),N,Z)},s.prototype._initArray=function(R,N,Z){if(r(typeof R.length=="number"),R.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(R.length/3),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var U,V,te=0;if(Z==="be")for(F=R.length-1,U=0;F>=0;F-=3)V=R[F]|R[F-1]<<8|R[F-2]<<16,this.words[U]|=V<<te&67108863,this.words[U+1]=V>>>26-te&67108863,(te+=24)>=26&&(te-=26,U++);else if(Z==="le")for(F=0,U=0;F<R.length;F+=3)V=R[F]|R[F+1]<<8|R[F+2]<<16,this.words[U]|=V<<te&67108863,this.words[U+1]=V>>>26-te&67108863,(te+=24)>=26&&(te-=26,U++);return this.strip()},s.prototype._parseHex=function(R,N,Z){this.length=Math.ceil((R.length-N)/6),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var U,V=0,te=0;if(Z==="be")for(F=R.length-1;F>=N;F-=2)U=c(R,N,F)<<V,this.words[te]|=67108863&U,V>=18?(V-=18,te+=1,this.words[te]|=U>>>26):V+=8;else for(F=(R.length-N)%2==0?N+1:N;F<R.length;F+=2)U=c(R,N,F)<<V,this.words[te]|=67108863&U,V>=18?(V-=18,te+=1,this.words[te]|=U>>>26):V+=8;this.strip()},s.prototype._parseBase=function(R,N,Z){this.words=[0],this.length=1;for(var F=0,U=1;U<=67108863;U*=N)F++;F--,U=U/N|0;for(var V=R.length-Z,te=V%F,Q=Math.min(V,V-te)+Z,J=0,X=Z;X<Q;X+=F)J=x(R,X,X+F,N),this.imuln(U),this.words[0]+J<67108864?this.words[0]+=J:this._iaddn(J);if(te!==0){var K=1;for(J=x(R,X,R.length,N),X=0;X<te;X++)K*=N;this.imuln(K),this.words[0]+J<67108864?this.words[0]+=J:this._iaddn(J)}this.strip()},s.prototype.copy=function(R){R.words=new Array(this.length);for(var N=0;N<this.length;N++)R.words[N]=this.words[N];R.length=this.length,R.negative=this.negative,R.red=this.red},s.prototype.clone=function(){var R=new s(null);return this.copy(R),R},s.prototype._expand=function(R){for(;this.length<R;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(R,N,Z){Z.negative=N.negative^R.negative;var F=R.length+N.length|0;Z.length=F,F=F-1|0;var U=0|R.words[0],V=0|N.words[0],te=U*V,Q=67108863&te,J=te/67108864|0;Z.words[0]=Q;for(var X=1;X<F;X++){for(var K=J>>>26,ee=67108863&J,re=Math.min(X,N.length-1),ie=Math.max(0,X-R.length+1);ie<=re;ie++){var ae=X-ie|0;K+=(te=(U=0|R.words[ae])*(V=0|N.words[ie])+ee)/67108864|0,ee=67108863&te}Z.words[X]=0|ee,J=0|K}return J!==0?Z.words[X]=0|J:Z.length--,Z.strip()}s.prototype.toString=function(R,N){var Z;if(N=0|N||1,(R=R||10)===16||R==="hex"){Z="";for(var F=0,U=0,V=0;V<this.length;V++){var te=this.words[V],Q=(16777215&(te<<F|U)).toString(16);Z=(U=te>>>24-F&16777215)!=0||V!==this.length-1?g[6-Q.length]+Q+Z:Q+Z,(F+=2)>=26&&(F-=26,V--)}for(U!==0&&(Z=U.toString(16)+Z);Z.length%N!=0;)Z="0"+Z;return this.negative!==0&&(Z="-"+Z),Z}if(R===(0|R)&&R>=2&&R<=36){var J=d[R],X=v[R];Z="";var K=this.clone();for(K.negative=0;!K.isZero();){var ee=K.modn(X).toString(R);Z=(K=K.idivn(X)).isZero()?ee+Z:g[J-ee.length]+ee+Z}for(this.isZero()&&(Z="0"+Z);Z.length%N!=0;)Z="0"+Z;return this.negative!==0&&(Z="-"+Z),Z}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var R=this.words[0];return this.length===2?R+=67108864*this.words[1]:this.length===3&&this.words[2]===1?R+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-R:R},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(R,N){return r(u!==void 0),this.toArrayLike(u,R,N)},s.prototype.toArray=function(R,N){return this.toArrayLike(Array,R,N)},s.prototype.toArrayLike=function(R,N,Z){var F=this.byteLength(),U=Z||Math.max(1,F);r(F<=U,"byte array longer than desired length"),r(U>0,"Requested array length <= 0"),this.strip();var V,te,Q=N==="le",J=new R(U),X=this.clone();if(Q){for(te=0;!X.isZero();te++)V=X.andln(255),X.iushrn(8),J[te]=V;for(;te<U;te++)J[te]=0}else{for(te=0;te<U-F;te++)J[te]=0;for(te=0;!X.isZero();te++)V=X.andln(255),X.iushrn(8),J[U-te-1]=V}return J},Math.clz32?s.prototype._countBits=function(R){return 32-Math.clz32(R)}:s.prototype._countBits=function(R){var N=R,Z=0;return N>=4096&&(Z+=13,N>>>=13),N>=64&&(Z+=7,N>>>=7),N>=8&&(Z+=4,N>>>=4),N>=2&&(Z+=2,N>>>=2),Z+N},s.prototype._zeroBits=function(R){if(R===0)return 26;var N=R,Z=0;return!(8191&N)&&(Z+=13,N>>>=13),!(127&N)&&(Z+=7,N>>>=7),!(15&N)&&(Z+=4,N>>>=4),!(3&N)&&(Z+=2,N>>>=2),!(1&N)&&Z++,Z},s.prototype.bitLength=function(){var R=this.words[this.length-1],N=this._countBits(R);return 26*(this.length-1)+N},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var R=0,N=0;N<this.length;N++){var Z=this._zeroBits(this.words[N]);if(R+=Z,Z!==26)break}return R},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(R){return this.negative!==0?this.abs().inotn(R).iaddn(1):this.clone()},s.prototype.fromTwos=function(R){return this.testn(R-1)?this.notn(R).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(R){for(;this.length<R.length;)this.words[this.length++]=0;for(var N=0;N<R.length;N++)this.words[N]=this.words[N]|R.words[N];return this.strip()},s.prototype.ior=function(R){return r((this.negative|R.negative)==0),this.iuor(R)},s.prototype.or=function(R){return this.length>R.length?this.clone().ior(R):R.clone().ior(this)},s.prototype.uor=function(R){return this.length>R.length?this.clone().iuor(R):R.clone().iuor(this)},s.prototype.iuand=function(R){var N;N=this.length>R.length?R:this;for(var Z=0;Z<N.length;Z++)this.words[Z]=this.words[Z]&R.words[Z];return this.length=N.length,this.strip()},s.prototype.iand=function(R){return r((this.negative|R.negative)==0),this.iuand(R)},s.prototype.and=function(R){return this.length>R.length?this.clone().iand(R):R.clone().iand(this)},s.prototype.uand=function(R){return this.length>R.length?this.clone().iuand(R):R.clone().iuand(this)},s.prototype.iuxor=function(R){var N,Z;this.length>R.length?(N=this,Z=R):(N=R,Z=this);for(var F=0;F<Z.length;F++)this.words[F]=N.words[F]^Z.words[F];if(this!==N)for(;F<N.length;F++)this.words[F]=N.words[F];return this.length=N.length,this.strip()},s.prototype.ixor=function(R){return r((this.negative|R.negative)==0),this.iuxor(R)},s.prototype.xor=function(R){return this.length>R.length?this.clone().ixor(R):R.clone().ixor(this)},s.prototype.uxor=function(R){return this.length>R.length?this.clone().iuxor(R):R.clone().iuxor(this)},s.prototype.inotn=function(R){r(typeof R=="number"&&R>=0);var N=0|Math.ceil(R/26),Z=R%26;this._expand(N),Z>0&&N--;for(var F=0;F<N;F++)this.words[F]=67108863&~this.words[F];return Z>0&&(this.words[F]=~this.words[F]&67108863>>26-Z),this.strip()},s.prototype.notn=function(R){return this.clone().inotn(R)},s.prototype.setn=function(R,N){r(typeof R=="number"&&R>=0);var Z=R/26|0,F=R%26;return this._expand(Z+1),this.words[Z]=N?this.words[Z]|1<<F:this.words[Z]&~(1<<F),this.strip()},s.prototype.iadd=function(R){var N,Z,F;if(this.negative!==0&&R.negative===0)return this.negative=0,N=this.isub(R),this.negative^=1,this._normSign();if(this.negative===0&&R.negative!==0)return R.negative=0,N=this.isub(R),R.negative=1,N._normSign();this.length>R.length?(Z=this,F=R):(Z=R,F=this);for(var U=0,V=0;V<F.length;V++)N=(0|Z.words[V])+(0|F.words[V])+U,this.words[V]=67108863&N,U=N>>>26;for(;U!==0&&V<Z.length;V++)N=(0|Z.words[V])+U,this.words[V]=67108863&N,U=N>>>26;if(this.length=Z.length,U!==0)this.words[this.length]=U,this.length++;else if(Z!==this)for(;V<Z.length;V++)this.words[V]=Z.words[V];return this},s.prototype.add=function(R){var N;return R.negative!==0&&this.negative===0?(R.negative=0,N=this.sub(R),R.negative^=1,N):R.negative===0&&this.negative!==0?(this.negative=0,N=R.sub(this),this.negative=1,N):this.length>R.length?this.clone().iadd(R):R.clone().iadd(this)},s.prototype.isub=function(R){if(R.negative!==0){R.negative=0;var N=this.iadd(R);return R.negative=1,N._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(R),this.negative=1,this._normSign();var Z,F,U=this.cmp(R);if(U===0)return this.negative=0,this.length=1,this.words[0]=0,this;U>0?(Z=this,F=R):(Z=R,F=this);for(var V=0,te=0;te<F.length;te++)V=(N=(0|Z.words[te])-(0|F.words[te])+V)>>26,this.words[te]=67108863&N;for(;V!==0&&te<Z.length;te++)V=(N=(0|Z.words[te])+V)>>26,this.words[te]=67108863&N;if(V===0&&te<Z.length&&Z!==this)for(;te<Z.length;te++)this.words[te]=Z.words[te];return this.length=Math.max(this.length,te),Z!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(R){return this.clone().isub(R)};var m=function(R,N,Z){var F,U,V,te=R.words,Q=N.words,J=Z.words,X=0,K=0|te[0],ee=8191&K,re=K>>>13,ie=0|te[1],ae=8191&ie,ue=ie>>>13,pe=0|te[2],de=8191&pe,ye=pe>>>13,be=0|te[3],me=8191&be,Ee=be>>>13,Te=0|te[4],we=8191&Te,oe=Te>>>13,se=0|te[5],he=8191&se,Se=se>>>13,_e=0|te[6],Ae=8191&_e,Ce=_e>>>13,Re=0|te[7],fe=8191&Re,xe=Re>>>13,ke=0|te[8],Ie=8191&ke,Fe=ke>>>13,ze=0|te[9],qe=8191&ze,Ye=ze>>>13,Qe=0|Q[0],ft=8191&Qe,ht=Qe>>>13,mt=0|Q[1],Mt=8191&mt,_t=mt>>>13,it=0|Q[2],st=8191&it,St=it>>>13,zt=0|Q[3],Ft=8191&zt,Pt=zt>>>13,Ze=0|Q[4],Je=8191&Ze,Ue=Ze>>>13,Xe=0|Q[5],lt=8191&Xe,ot=Xe>>>13,Be=0|Q[6],Ne=8191&Be,at=Be>>>13,$e=0|Q[7],gt=8191&$e,yt=$e>>>13,xt=0|Q[8],dt=8191&xt,Lt=xt>>>13,Tt=0|Q[9],bt=8191&Tt,Ct=Tt>>>13;Z.negative=R.negative^N.negative,Z.length=19;var Dt=(X+(F=Math.imul(ee,ft))|0)+((8191&(U=(U=Math.imul(ee,ht))+Math.imul(re,ft)|0))<<13)|0;X=((V=Math.imul(re,ht))+(U>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,F=Math.imul(ae,ft),U=(U=Math.imul(ae,ht))+Math.imul(ue,ft)|0,V=Math.imul(ue,ht);var Bt=(X+(F=F+Math.imul(ee,Mt)|0)|0)+((8191&(U=(U=U+Math.imul(ee,_t)|0)+Math.imul(re,Mt)|0))<<13)|0;X=((V=V+Math.imul(re,_t)|0)+(U>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,F=Math.imul(de,ft),U=(U=Math.imul(de,ht))+Math.imul(ye,ft)|0,V=Math.imul(ye,ht),F=F+Math.imul(ae,Mt)|0,U=(U=U+Math.imul(ae,_t)|0)+Math.imul(ue,Mt)|0,V=V+Math.imul(ue,_t)|0;var Xt=(X+(F=F+Math.imul(ee,st)|0)|0)+((8191&(U=(U=U+Math.imul(ee,St)|0)+Math.imul(re,st)|0))<<13)|0;X=((V=V+Math.imul(re,St)|0)+(U>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,F=Math.imul(me,ft),U=(U=Math.imul(me,ht))+Math.imul(Ee,ft)|0,V=Math.imul(Ee,ht),F=F+Math.imul(de,Mt)|0,U=(U=U+Math.imul(de,_t)|0)+Math.imul(ye,Mt)|0,V=V+Math.imul(ye,_t)|0,F=F+Math.imul(ae,st)|0,U=(U=U+Math.imul(ae,St)|0)+Math.imul(ue,st)|0,V=V+Math.imul(ue,St)|0;var an=(X+(F=F+Math.imul(ee,Ft)|0)|0)+((8191&(U=(U=U+Math.imul(ee,Pt)|0)+Math.imul(re,Ft)|0))<<13)|0;X=((V=V+Math.imul(re,Pt)|0)+(U>>>13)|0)+(an>>>26)|0,an&=67108863,F=Math.imul(we,ft),U=(U=Math.imul(we,ht))+Math.imul(oe,ft)|0,V=Math.imul(oe,ht),F=F+Math.imul(me,Mt)|0,U=(U=U+Math.imul(me,_t)|0)+Math.imul(Ee,Mt)|0,V=V+Math.imul(Ee,_t)|0,F=F+Math.imul(de,st)|0,U=(U=U+Math.imul(de,St)|0)+Math.imul(ye,st)|0,V=V+Math.imul(ye,St)|0,F=F+Math.imul(ae,Ft)|0,U=(U=U+Math.imul(ae,Pt)|0)+Math.imul(ue,Ft)|0,V=V+Math.imul(ue,Pt)|0;var Wt=(X+(F=F+Math.imul(ee,Je)|0)|0)+((8191&(U=(U=U+Math.imul(ee,Ue)|0)+Math.imul(re,Je)|0))<<13)|0;X=((V=V+Math.imul(re,Ue)|0)+(U>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,F=Math.imul(he,ft),U=(U=Math.imul(he,ht))+Math.imul(Se,ft)|0,V=Math.imul(Se,ht),F=F+Math.imul(we,Mt)|0,U=(U=U+Math.imul(we,_t)|0)+Math.imul(oe,Mt)|0,V=V+Math.imul(oe,_t)|0,F=F+Math.imul(me,st)|0,U=(U=U+Math.imul(me,St)|0)+Math.imul(Ee,st)|0,V=V+Math.imul(Ee,St)|0,F=F+Math.imul(de,Ft)|0,U=(U=U+Math.imul(de,Pt)|0)+Math.imul(ye,Ft)|0,V=V+Math.imul(ye,Pt)|0,F=F+Math.imul(ae,Je)|0,U=(U=U+Math.imul(ae,Ue)|0)+Math.imul(ue,Je)|0,V=V+Math.imul(ue,Ue)|0;var Vt=(X+(F=F+Math.imul(ee,lt)|0)|0)+((8191&(U=(U=U+Math.imul(ee,ot)|0)+Math.imul(re,lt)|0))<<13)|0;X=((V=V+Math.imul(re,ot)|0)+(U>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,F=Math.imul(Ae,ft),U=(U=Math.imul(Ae,ht))+Math.imul(Ce,ft)|0,V=Math.imul(Ce,ht),F=F+Math.imul(he,Mt)|0,U=(U=U+Math.imul(he,_t)|0)+Math.imul(Se,Mt)|0,V=V+Math.imul(Se,_t)|0,F=F+Math.imul(we,st)|0,U=(U=U+Math.imul(we,St)|0)+Math.imul(oe,st)|0,V=V+Math.imul(oe,St)|0,F=F+Math.imul(me,Ft)|0,U=(U=U+Math.imul(me,Pt)|0)+Math.imul(Ee,Ft)|0,V=V+Math.imul(Ee,Pt)|0,F=F+Math.imul(de,Je)|0,U=(U=U+Math.imul(de,Ue)|0)+Math.imul(ye,Je)|0,V=V+Math.imul(ye,Ue)|0,F=F+Math.imul(ae,lt)|0,U=(U=U+Math.imul(ae,ot)|0)+Math.imul(ue,lt)|0,V=V+Math.imul(ue,ot)|0;var on=(X+(F=F+Math.imul(ee,Ne)|0)|0)+((8191&(U=(U=U+Math.imul(ee,at)|0)+Math.imul(re,Ne)|0))<<13)|0;X=((V=V+Math.imul(re,at)|0)+(U>>>13)|0)+(on>>>26)|0,on&=67108863,F=Math.imul(fe,ft),U=(U=Math.imul(fe,ht))+Math.imul(xe,ft)|0,V=Math.imul(xe,ht),F=F+Math.imul(Ae,Mt)|0,U=(U=U+Math.imul(Ae,_t)|0)+Math.imul(Ce,Mt)|0,V=V+Math.imul(Ce,_t)|0,F=F+Math.imul(he,st)|0,U=(U=U+Math.imul(he,St)|0)+Math.imul(Se,st)|0,V=V+Math.imul(Se,St)|0,F=F+Math.imul(we,Ft)|0,U=(U=U+Math.imul(we,Pt)|0)+Math.imul(oe,Ft)|0,V=V+Math.imul(oe,Pt)|0,F=F+Math.imul(me,Je)|0,U=(U=U+Math.imul(me,Ue)|0)+Math.imul(Ee,Je)|0,V=V+Math.imul(Ee,Ue)|0,F=F+Math.imul(de,lt)|0,U=(U=U+Math.imul(de,ot)|0)+Math.imul(ye,lt)|0,V=V+Math.imul(ye,ot)|0,F=F+Math.imul(ae,Ne)|0,U=(U=U+Math.imul(ae,at)|0)+Math.imul(ue,Ne)|0,V=V+Math.imul(ue,at)|0;var Sn=(X+(F=F+Math.imul(ee,gt)|0)|0)+((8191&(U=(U=U+Math.imul(ee,yt)|0)+Math.imul(re,gt)|0))<<13)|0;X=((V=V+Math.imul(re,yt)|0)+(U>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,F=Math.imul(Ie,ft),U=(U=Math.imul(Ie,ht))+Math.imul(Fe,ft)|0,V=Math.imul(Fe,ht),F=F+Math.imul(fe,Mt)|0,U=(U=U+Math.imul(fe,_t)|0)+Math.imul(xe,Mt)|0,V=V+Math.imul(xe,_t)|0,F=F+Math.imul(Ae,st)|0,U=(U=U+Math.imul(Ae,St)|0)+Math.imul(Ce,st)|0,V=V+Math.imul(Ce,St)|0,F=F+Math.imul(he,Ft)|0,U=(U=U+Math.imul(he,Pt)|0)+Math.imul(Se,Ft)|0,V=V+Math.imul(Se,Pt)|0,F=F+Math.imul(we,Je)|0,U=(U=U+Math.imul(we,Ue)|0)+Math.imul(oe,Je)|0,V=V+Math.imul(oe,Ue)|0,F=F+Math.imul(me,lt)|0,U=(U=U+Math.imul(me,ot)|0)+Math.imul(Ee,lt)|0,V=V+Math.imul(Ee,ot)|0,F=F+Math.imul(de,Ne)|0,U=(U=U+Math.imul(de,at)|0)+Math.imul(ye,Ne)|0,V=V+Math.imul(ye,at)|0,F=F+Math.imul(ae,gt)|0,U=(U=U+Math.imul(ae,yt)|0)+Math.imul(ue,gt)|0,V=V+Math.imul(ue,yt)|0;var Ln=(X+(F=F+Math.imul(ee,dt)|0)|0)+((8191&(U=(U=U+Math.imul(ee,Lt)|0)+Math.imul(re,dt)|0))<<13)|0;X=((V=V+Math.imul(re,Lt)|0)+(U>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,F=Math.imul(qe,ft),U=(U=Math.imul(qe,ht))+Math.imul(Ye,ft)|0,V=Math.imul(Ye,ht),F=F+Math.imul(Ie,Mt)|0,U=(U=U+Math.imul(Ie,_t)|0)+Math.imul(Fe,Mt)|0,V=V+Math.imul(Fe,_t)|0,F=F+Math.imul(fe,st)|0,U=(U=U+Math.imul(fe,St)|0)+Math.imul(xe,st)|0,V=V+Math.imul(xe,St)|0,F=F+Math.imul(Ae,Ft)|0,U=(U=U+Math.imul(Ae,Pt)|0)+Math.imul(Ce,Ft)|0,V=V+Math.imul(Ce,Pt)|0,F=F+Math.imul(he,Je)|0,U=(U=U+Math.imul(he,Ue)|0)+Math.imul(Se,Je)|0,V=V+Math.imul(Se,Ue)|0,F=F+Math.imul(we,lt)|0,U=(U=U+Math.imul(we,ot)|0)+Math.imul(oe,lt)|0,V=V+Math.imul(oe,ot)|0,F=F+Math.imul(me,Ne)|0,U=(U=U+Math.imul(me,at)|0)+Math.imul(Ee,Ne)|0,V=V+Math.imul(Ee,at)|0,F=F+Math.imul(de,gt)|0,U=(U=U+Math.imul(de,yt)|0)+Math.imul(ye,gt)|0,V=V+Math.imul(ye,yt)|0,F=F+Math.imul(ae,dt)|0,U=(U=U+Math.imul(ae,Lt)|0)+Math.imul(ue,dt)|0,V=V+Math.imul(ue,Lt)|0;var fn=(X+(F=F+Math.imul(ee,bt)|0)|0)+((8191&(U=(U=U+Math.imul(ee,Ct)|0)+Math.imul(re,bt)|0))<<13)|0;X=((V=V+Math.imul(re,Ct)|0)+(U>>>13)|0)+(fn>>>26)|0,fn&=67108863,F=Math.imul(qe,Mt),U=(U=Math.imul(qe,_t))+Math.imul(Ye,Mt)|0,V=Math.imul(Ye,_t),F=F+Math.imul(Ie,st)|0,U=(U=U+Math.imul(Ie,St)|0)+Math.imul(Fe,st)|0,V=V+Math.imul(Fe,St)|0,F=F+Math.imul(fe,Ft)|0,U=(U=U+Math.imul(fe,Pt)|0)+Math.imul(xe,Ft)|0,V=V+Math.imul(xe,Pt)|0,F=F+Math.imul(Ae,Je)|0,U=(U=U+Math.imul(Ae,Ue)|0)+Math.imul(Ce,Je)|0,V=V+Math.imul(Ce,Ue)|0,F=F+Math.imul(he,lt)|0,U=(U=U+Math.imul(he,ot)|0)+Math.imul(Se,lt)|0,V=V+Math.imul(Se,ot)|0,F=F+Math.imul(we,Ne)|0,U=(U=U+Math.imul(we,at)|0)+Math.imul(oe,Ne)|0,V=V+Math.imul(oe,at)|0,F=F+Math.imul(me,gt)|0,U=(U=U+Math.imul(me,yt)|0)+Math.imul(Ee,gt)|0,V=V+Math.imul(Ee,yt)|0,F=F+Math.imul(de,dt)|0,U=(U=U+Math.imul(de,Lt)|0)+Math.imul(ye,dt)|0,V=V+Math.imul(ye,Lt)|0;var Zt=(X+(F=F+Math.imul(ae,bt)|0)|0)+((8191&(U=(U=U+Math.imul(ae,Ct)|0)+Math.imul(ue,bt)|0))<<13)|0;X=((V=V+Math.imul(ue,Ct)|0)+(U>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,F=Math.imul(qe,st),U=(U=Math.imul(qe,St))+Math.imul(Ye,st)|0,V=Math.imul(Ye,St),F=F+Math.imul(Ie,Ft)|0,U=(U=U+Math.imul(Ie,Pt)|0)+Math.imul(Fe,Ft)|0,V=V+Math.imul(Fe,Pt)|0,F=F+Math.imul(fe,Je)|0,U=(U=U+Math.imul(fe,Ue)|0)+Math.imul(xe,Je)|0,V=V+Math.imul(xe,Ue)|0,F=F+Math.imul(Ae,lt)|0,U=(U=U+Math.imul(Ae,ot)|0)+Math.imul(Ce,lt)|0,V=V+Math.imul(Ce,ot)|0,F=F+Math.imul(he,Ne)|0,U=(U=U+Math.imul(he,at)|0)+Math.imul(Se,Ne)|0,V=V+Math.imul(Se,at)|0,F=F+Math.imul(we,gt)|0,U=(U=U+Math.imul(we,yt)|0)+Math.imul(oe,gt)|0,V=V+Math.imul(oe,yt)|0,F=F+Math.imul(me,dt)|0,U=(U=U+Math.imul(me,Lt)|0)+Math.imul(Ee,dt)|0,V=V+Math.imul(Ee,Lt)|0;var ln=(X+(F=F+Math.imul(de,bt)|0)|0)+((8191&(U=(U=U+Math.imul(de,Ct)|0)+Math.imul(ye,bt)|0))<<13)|0;X=((V=V+Math.imul(ye,Ct)|0)+(U>>>13)|0)+(ln>>>26)|0,ln&=67108863,F=Math.imul(qe,Ft),U=(U=Math.imul(qe,Pt))+Math.imul(Ye,Ft)|0,V=Math.imul(Ye,Pt),F=F+Math.imul(Ie,Je)|0,U=(U=U+Math.imul(Ie,Ue)|0)+Math.imul(Fe,Je)|0,V=V+Math.imul(Fe,Ue)|0,F=F+Math.imul(fe,lt)|0,U=(U=U+Math.imul(fe,ot)|0)+Math.imul(xe,lt)|0,V=V+Math.imul(xe,ot)|0,F=F+Math.imul(Ae,Ne)|0,U=(U=U+Math.imul(Ae,at)|0)+Math.imul(Ce,Ne)|0,V=V+Math.imul(Ce,at)|0,F=F+Math.imul(he,gt)|0,U=(U=U+Math.imul(he,yt)|0)+Math.imul(Se,gt)|0,V=V+Math.imul(Se,yt)|0,F=F+Math.imul(we,dt)|0,U=(U=U+Math.imul(we,Lt)|0)+Math.imul(oe,dt)|0,V=V+Math.imul(oe,Lt)|0;var nn=(X+(F=F+Math.imul(me,bt)|0)|0)+((8191&(U=(U=U+Math.imul(me,Ct)|0)+Math.imul(Ee,bt)|0))<<13)|0;X=((V=V+Math.imul(Ee,Ct)|0)+(U>>>13)|0)+(nn>>>26)|0,nn&=67108863,F=Math.imul(qe,Je),U=(U=Math.imul(qe,Ue))+Math.imul(Ye,Je)|0,V=Math.imul(Ye,Ue),F=F+Math.imul(Ie,lt)|0,U=(U=U+Math.imul(Ie,ot)|0)+Math.imul(Fe,lt)|0,V=V+Math.imul(Fe,ot)|0,F=F+Math.imul(fe,Ne)|0,U=(U=U+Math.imul(fe,at)|0)+Math.imul(xe,Ne)|0,V=V+Math.imul(xe,at)|0,F=F+Math.imul(Ae,gt)|0,U=(U=U+Math.imul(Ae,yt)|0)+Math.imul(Ce,gt)|0,V=V+Math.imul(Ce,yt)|0,F=F+Math.imul(he,dt)|0,U=(U=U+Math.imul(he,Lt)|0)+Math.imul(Se,dt)|0,V=V+Math.imul(Se,Lt)|0;var cn=(X+(F=F+Math.imul(we,bt)|0)|0)+((8191&(U=(U=U+Math.imul(we,Ct)|0)+Math.imul(oe,bt)|0))<<13)|0;X=((V=V+Math.imul(oe,Ct)|0)+(U>>>13)|0)+(cn>>>26)|0,cn&=67108863,F=Math.imul(qe,lt),U=(U=Math.imul(qe,ot))+Math.imul(Ye,lt)|0,V=Math.imul(Ye,ot),F=F+Math.imul(Ie,Ne)|0,U=(U=U+Math.imul(Ie,at)|0)+Math.imul(Fe,Ne)|0,V=V+Math.imul(Fe,at)|0,F=F+Math.imul(fe,gt)|0,U=(U=U+Math.imul(fe,yt)|0)+Math.imul(xe,gt)|0,V=V+Math.imul(xe,yt)|0,F=F+Math.imul(Ae,dt)|0,U=(U=U+Math.imul(Ae,Lt)|0)+Math.imul(Ce,dt)|0,V=V+Math.imul(Ce,Lt)|0;var kn=(X+(F=F+Math.imul(he,bt)|0)|0)+((8191&(U=(U=U+Math.imul(he,Ct)|0)+Math.imul(Se,bt)|0))<<13)|0;X=((V=V+Math.imul(Se,Ct)|0)+(U>>>13)|0)+(kn>>>26)|0,kn&=67108863,F=Math.imul(qe,Ne),U=(U=Math.imul(qe,at))+Math.imul(Ye,Ne)|0,V=Math.imul(Ye,at),F=F+Math.imul(Ie,gt)|0,U=(U=U+Math.imul(Ie,yt)|0)+Math.imul(Fe,gt)|0,V=V+Math.imul(Fe,yt)|0,F=F+Math.imul(fe,dt)|0,U=(U=U+Math.imul(fe,Lt)|0)+Math.imul(xe,dt)|0,V=V+Math.imul(xe,Lt)|0;var An=(X+(F=F+Math.imul(Ae,bt)|0)|0)+((8191&(U=(U=U+Math.imul(Ae,Ct)|0)+Math.imul(Ce,bt)|0))<<13)|0;X=((V=V+Math.imul(Ce,Ct)|0)+(U>>>13)|0)+(An>>>26)|0,An&=67108863,F=Math.imul(qe,gt),U=(U=Math.imul(qe,yt))+Math.imul(Ye,gt)|0,V=Math.imul(Ye,yt),F=F+Math.imul(Ie,dt)|0,U=(U=U+Math.imul(Ie,Lt)|0)+Math.imul(Fe,dt)|0,V=V+Math.imul(Fe,Lt)|0;var wn=(X+(F=F+Math.imul(fe,bt)|0)|0)+((8191&(U=(U=U+Math.imul(fe,Ct)|0)+Math.imul(xe,bt)|0))<<13)|0;X=((V=V+Math.imul(xe,Ct)|0)+(U>>>13)|0)+(wn>>>26)|0,wn&=67108863,F=Math.imul(qe,dt),U=(U=Math.imul(qe,Lt))+Math.imul(Ye,dt)|0,V=Math.imul(Ye,Lt);var Cn=(X+(F=F+Math.imul(Ie,bt)|0)|0)+((8191&(U=(U=U+Math.imul(Ie,Ct)|0)+Math.imul(Fe,bt)|0))<<13)|0;X=((V=V+Math.imul(Fe,Ct)|0)+(U>>>13)|0)+(Cn>>>26)|0,Cn&=67108863;var _n=(X+(F=Math.imul(qe,bt))|0)+((8191&(U=(U=Math.imul(qe,Ct))+Math.imul(Ye,bt)|0))<<13)|0;return X=((V=Math.imul(Ye,Ct))+(U>>>13)|0)+(_n>>>26)|0,_n&=67108863,J[0]=Dt,J[1]=Bt,J[2]=Xt,J[3]=an,J[4]=Wt,J[5]=Vt,J[6]=on,J[7]=Sn,J[8]=Ln,J[9]=fn,J[10]=Zt,J[11]=ln,J[12]=nn,J[13]=cn,J[14]=kn,J[15]=An,J[16]=wn,J[17]=Cn,J[18]=_n,X!==0&&(J[19]=X,Z.length++),Z};function w(R,N,Z){return new f().mulp(R,N,Z)}function f(R,N){this.x=R,this.y=N}Math.imul||(m=y),s.prototype.mulTo=function(R,N){var Z,F=this.length+R.length;return Z=this.length===10&&R.length===10?m(this,R,N):F<63?y(this,R,N):F<1024?function(U,V,te){te.negative=V.negative^U.negative,te.length=U.length+V.length;for(var Q=0,J=0,X=0;X<te.length-1;X++){var K=J;J=0;for(var ee=67108863&Q,re=Math.min(X,V.length-1),ie=Math.max(0,X-U.length+1);ie<=re;ie++){var ae=X-ie,ue=(0|U.words[ae])*(0|V.words[ie]),pe=67108863&ue;ee=67108863&(pe=pe+ee|0),J+=(K=(K=K+(ue/67108864|0)|0)+(pe>>>26)|0)>>>26,K&=67108863}te.words[X]=ee,Q=K,K=J}return Q!==0?te.words[X]=Q:te.length--,te.strip()}(this,R,N):w(this,R,N),Z},f.prototype.makeRBT=function(R){for(var N=new Array(R),Z=s.prototype._countBits(R)-1,F=0;F<R;F++)N[F]=this.revBin(F,Z,R);return N},f.prototype.revBin=function(R,N,Z){if(R===0||R===Z-1)return R;for(var F=0,U=0;U<N;U++)F|=(1&R)<<N-U-1,R>>=1;return F},f.prototype.permute=function(R,N,Z,F,U,V){for(var te=0;te<V;te++)F[te]=N[R[te]],U[te]=Z[R[te]]},f.prototype.transform=function(R,N,Z,F,U,V){this.permute(V,R,N,Z,F,U);for(var te=1;te<U;te<<=1)for(var Q=te<<1,J=Math.cos(2*Math.PI/Q),X=Math.sin(2*Math.PI/Q),K=0;K<U;K+=Q)for(var ee=J,re=X,ie=0;ie<te;ie++){var ae=Z[K+ie],ue=F[K+ie],pe=Z[K+ie+te],de=F[K+ie+te],ye=ee*pe-re*de;de=ee*de+re*pe,pe=ye,Z[K+ie]=ae+pe,F[K+ie]=ue+de,Z[K+ie+te]=ae-pe,F[K+ie+te]=ue-de,ie!==Q&&(ye=J*ee-X*re,re=J*re+X*ee,ee=ye)}},f.prototype.guessLen13b=function(R,N){var Z=1|Math.max(N,R),F=1&Z,U=0;for(Z=Z/2|0;Z;Z>>>=1)U++;return 1<<U+1+F},f.prototype.conjugate=function(R,N,Z){if(!(Z<=1))for(var F=0;F<Z/2;F++){var U=R[F];R[F]=R[Z-F-1],R[Z-F-1]=U,U=N[F],N[F]=-N[Z-F-1],N[Z-F-1]=-U}},f.prototype.normalize13b=function(R,N){for(var Z=0,F=0;F<N/2;F++){var U=8192*Math.round(R[2*F+1]/N)+Math.round(R[2*F]/N)+Z;R[F]=67108863&U,Z=U<67108864?0:U/67108864|0}return R},f.prototype.convert13b=function(R,N,Z,F){for(var U=0,V=0;V<N;V++)U+=0|R[V],Z[2*V]=8191&U,U>>>=13,Z[2*V+1]=8191&U,U>>>=13;for(V=2*N;V<F;++V)Z[V]=0;r(U===0),r((-8192&U)==0)},f.prototype.stub=function(R){for(var N=new Array(R),Z=0;Z<R;Z++)N[Z]=0;return N},f.prototype.mulp=function(R,N,Z){var F=2*this.guessLen13b(R.length,N.length),U=this.makeRBT(F),V=this.stub(F),te=new Array(F),Q=new Array(F),J=new Array(F),X=new Array(F),K=new Array(F),ee=new Array(F),re=Z.words;re.length=F,this.convert13b(R.words,R.length,te,F),this.convert13b(N.words,N.length,X,F),this.transform(te,V,Q,J,F,U),this.transform(X,V,K,ee,F,U);for(var ie=0;ie<F;ie++){var ae=Q[ie]*K[ie]-J[ie]*ee[ie];J[ie]=Q[ie]*ee[ie]+J[ie]*K[ie],Q[ie]=ae}return this.conjugate(Q,J,F),this.transform(Q,J,re,V,F,U),this.conjugate(re,V,F),this.normalize13b(re,F),Z.negative=R.negative^N.negative,Z.length=R.length+N.length,Z.strip()},s.prototype.mul=function(R){var N=new s(null);return N.words=new Array(this.length+R.length),this.mulTo(R,N)},s.prototype.mulf=function(R){var N=new s(null);return N.words=new Array(this.length+R.length),w(this,R,N)},s.prototype.imul=function(R){return this.clone().mulTo(R,this)},s.prototype.imuln=function(R){r(typeof R=="number"),r(R<67108864);for(var N=0,Z=0;Z<this.length;Z++){var F=(0|this.words[Z])*R,U=(67108863&F)+(67108863&N);N>>=26,N+=F/67108864|0,N+=U>>>26,this.words[Z]=67108863&U}return N!==0&&(this.words[Z]=N,this.length++),this},s.prototype.muln=function(R){return this.clone().imuln(R)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(R){var N=function(V){for(var te=new Array(V.bitLength()),Q=0;Q<te.length;Q++){var J=Q/26|0,X=Q%26;te[Q]=(V.words[J]&1<<X)>>>X}return te}(R);if(N.length===0)return new s(1);for(var Z=this,F=0;F<N.length&&N[F]===0;F++,Z=Z.sqr());if(++F<N.length)for(var U=Z.sqr();F<N.length;F++,U=U.sqr())N[F]!==0&&(Z=Z.mul(U));return Z},s.prototype.iushln=function(R){r(typeof R=="number"&&R>=0);var N,Z=R%26,F=(R-Z)/26,U=67108863>>>26-Z<<26-Z;if(Z!==0){var V=0;for(N=0;N<this.length;N++){var te=this.words[N]&U,Q=(0|this.words[N])-te<<Z;this.words[N]=Q|V,V=te>>>26-Z}V&&(this.words[N]=V,this.length++)}if(F!==0){for(N=this.length-1;N>=0;N--)this.words[N+F]=this.words[N];for(N=0;N<F;N++)this.words[N]=0;this.length+=F}return this.strip()},s.prototype.ishln=function(R){return r(this.negative===0),this.iushln(R)},s.prototype.iushrn=function(R,N,Z){var F;r(typeof R=="number"&&R>=0),F=N?(N-N%26)/26:0;var U=R%26,V=Math.min((R-U)/26,this.length),te=67108863^67108863>>>U<<U,Q=Z;if(F-=V,F=Math.max(0,F),Q){for(var J=0;J<V;J++)Q.words[J]=this.words[J];Q.length=V}if(V!==0)if(this.length>V)for(this.length-=V,J=0;J<this.length;J++)this.words[J]=this.words[J+V];else this.words[0]=0,this.length=1;var X=0;for(J=this.length-1;J>=0&&(X!==0||J>=F);J--){var K=0|this.words[J];this.words[J]=X<<26-U|K>>>U,X=K&te}return Q&&X!==0&&(Q.words[Q.length++]=X),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(R,N,Z){return r(this.negative===0),this.iushrn(R,N,Z)},s.prototype.shln=function(R){return this.clone().ishln(R)},s.prototype.ushln=function(R){return this.clone().iushln(R)},s.prototype.shrn=function(R){return this.clone().ishrn(R)},s.prototype.ushrn=function(R){return this.clone().iushrn(R)},s.prototype.testn=function(R){r(typeof R=="number"&&R>=0);var N=R%26,Z=(R-N)/26,F=1<<N;return!(this.length<=Z||!(this.words[Z]&F))},s.prototype.imaskn=function(R){r(typeof R=="number"&&R>=0);var N=R%26,Z=(R-N)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=Z)return this;if(N!==0&&Z++,this.length=Math.min(Z,this.length),N!==0){var F=67108863^67108863>>>N<<N;this.words[this.length-1]&=F}return this.strip()},s.prototype.maskn=function(R){return this.clone().imaskn(R)},s.prototype.iaddn=function(R){return r(typeof R=="number"),r(R<67108864),R<0?this.isubn(-R):this.negative!==0?this.length===1&&(0|this.words[0])<R?(this.words[0]=R-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(R),this.negative=1,this):this._iaddn(R)},s.prototype._iaddn=function(R){this.words[0]+=R;for(var N=0;N<this.length&&this.words[N]>=67108864;N++)this.words[N]-=67108864,N===this.length-1?this.words[N+1]=1:this.words[N+1]++;return this.length=Math.max(this.length,N+1),this},s.prototype.isubn=function(R){if(r(typeof R=="number"),r(R<67108864),R<0)return this.iaddn(-R);if(this.negative!==0)return this.negative=0,this.iaddn(R),this.negative=1,this;if(this.words[0]-=R,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var N=0;N<this.length&&this.words[N]<0;N++)this.words[N]+=67108864,this.words[N+1]-=1;return this.strip()},s.prototype.addn=function(R){return this.clone().iaddn(R)},s.prototype.subn=function(R){return this.clone().isubn(R)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(R,N,Z){var F,U,V=R.length+Z;this._expand(V);var te=0;for(F=0;F<R.length;F++){U=(0|this.words[F+Z])+te;var Q=(0|R.words[F])*N;te=((U-=67108863&Q)>>26)-(Q/67108864|0),this.words[F+Z]=67108863&U}for(;F<this.length-Z;F++)te=(U=(0|this.words[F+Z])+te)>>26,this.words[F+Z]=67108863&U;if(te===0)return this.strip();for(r(te===-1),te=0,F=0;F<this.length;F++)te=(U=-(0|this.words[F])+te)>>26,this.words[F]=67108863&U;return this.negative=1,this.strip()},s.prototype._wordDiv=function(R,N){var Z=(this.length,R.length),F=this.clone(),U=R,V=0|U.words[U.length-1];(Z=26-this._countBits(V))!=0&&(U=U.ushln(Z),F.iushln(Z),V=0|U.words[U.length-1]);var te,Q=F.length-U.length;if(N!=="mod"){(te=new s(null)).length=Q+1,te.words=new Array(te.length);for(var J=0;J<te.length;J++)te.words[J]=0}var X=F.clone()._ishlnsubmul(U,1,Q);X.negative===0&&(F=X,te&&(te.words[Q]=1));for(var K=Q-1;K>=0;K--){var ee=67108864*(0|F.words[U.length+K])+(0|F.words[U.length+K-1]);for(ee=Math.min(ee/V|0,67108863),F._ishlnsubmul(U,ee,K);F.negative!==0;)ee--,F.negative=0,F._ishlnsubmul(U,1,K),F.isZero()||(F.negative^=1);te&&(te.words[K]=ee)}return te&&te.strip(),F.strip(),N!=="div"&&Z!==0&&F.iushrn(Z),{div:te||null,mod:F}},s.prototype.divmod=function(R,N,Z){return r(!R.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:this.negative!==0&&R.negative===0?(V=this.neg().divmod(R,N),N!=="mod"&&(F=V.div.neg()),N!=="div"&&(U=V.mod.neg(),Z&&U.negative!==0&&U.iadd(R)),{div:F,mod:U}):this.negative===0&&R.negative!==0?(V=this.divmod(R.neg(),N),N!=="mod"&&(F=V.div.neg()),{div:F,mod:V.mod}):this.negative&R.negative?(V=this.neg().divmod(R.neg(),N),N!=="div"&&(U=V.mod.neg(),Z&&U.negative!==0&&U.isub(R)),{div:V.div,mod:U}):R.length>this.length||this.cmp(R)<0?{div:new s(0),mod:this}:R.length===1?N==="div"?{div:this.divn(R.words[0]),mod:null}:N==="mod"?{div:null,mod:new s(this.modn(R.words[0]))}:{div:this.divn(R.words[0]),mod:new s(this.modn(R.words[0]))}:this._wordDiv(R,N);var F,U,V},s.prototype.div=function(R){return this.divmod(R,"div",!1).div},s.prototype.mod=function(R){return this.divmod(R,"mod",!1).mod},s.prototype.umod=function(R){return this.divmod(R,"mod",!0).mod},s.prototype.divRound=function(R){var N=this.divmod(R);if(N.mod.isZero())return N.div;var Z=N.div.negative!==0?N.mod.isub(R):N.mod,F=R.ushrn(1),U=R.andln(1),V=Z.cmp(F);return V<0||U===1&&V===0?N.div:N.div.negative!==0?N.div.isubn(1):N.div.iaddn(1)},s.prototype.modn=function(R){r(R<=67108863);for(var N=67108864%R,Z=0,F=this.length-1;F>=0;F--)Z=(N*Z+(0|this.words[F]))%R;return Z},s.prototype.idivn=function(R){r(R<=67108863);for(var N=0,Z=this.length-1;Z>=0;Z--){var F=(0|this.words[Z])+67108864*N;this.words[Z]=F/R|0,N=F%R}return this.strip()},s.prototype.divn=function(R){return this.clone().idivn(R)},s.prototype.egcd=function(R){r(R.negative===0),r(!R.isZero());var N=this,Z=R.clone();N=N.negative!==0?N.umod(R):N.clone();for(var F=new s(1),U=new s(0),V=new s(0),te=new s(1),Q=0;N.isEven()&&Z.isEven();)N.iushrn(1),Z.iushrn(1),++Q;for(var J=Z.clone(),X=N.clone();!N.isZero();){for(var K=0,ee=1;!(N.words[0]&ee)&&K<26;++K,ee<<=1);if(K>0)for(N.iushrn(K);K-- >0;)(F.isOdd()||U.isOdd())&&(F.iadd(J),U.isub(X)),F.iushrn(1),U.iushrn(1);for(var re=0,ie=1;!(Z.words[0]&ie)&&re<26;++re,ie<<=1);if(re>0)for(Z.iushrn(re);re-- >0;)(V.isOdd()||te.isOdd())&&(V.iadd(J),te.isub(X)),V.iushrn(1),te.iushrn(1);N.cmp(Z)>=0?(N.isub(Z),F.isub(V),U.isub(te)):(Z.isub(N),V.isub(F),te.isub(U))}return{a:V,b:te,gcd:Z.iushln(Q)}},s.prototype._invmp=function(R){r(R.negative===0),r(!R.isZero());var N=this,Z=R.clone();N=N.negative!==0?N.umod(R):N.clone();for(var F,U=new s(1),V=new s(0),te=Z.clone();N.cmpn(1)>0&&Z.cmpn(1)>0;){for(var Q=0,J=1;!(N.words[0]&J)&&Q<26;++Q,J<<=1);if(Q>0)for(N.iushrn(Q);Q-- >0;)U.isOdd()&&U.iadd(te),U.iushrn(1);for(var X=0,K=1;!(Z.words[0]&K)&&X<26;++X,K<<=1);if(X>0)for(Z.iushrn(X);X-- >0;)V.isOdd()&&V.iadd(te),V.iushrn(1);N.cmp(Z)>=0?(N.isub(Z),U.isub(V)):(Z.isub(N),V.isub(U))}return(F=N.cmpn(1)===0?U:V).cmpn(0)<0&&F.iadd(R),F},s.prototype.gcd=function(R){if(this.isZero())return R.abs();if(R.isZero())return this.abs();var N=this.clone(),Z=R.clone();N.negative=0,Z.negative=0;for(var F=0;N.isEven()&&Z.isEven();F++)N.iushrn(1),Z.iushrn(1);for(;;){for(;N.isEven();)N.iushrn(1);for(;Z.isEven();)Z.iushrn(1);var U=N.cmp(Z);if(U<0){var V=N;N=Z,Z=V}else if(U===0||Z.cmpn(1)===0)break;N.isub(Z)}return Z.iushln(F)},s.prototype.invm=function(R){return this.egcd(R).a.umod(R)},s.prototype.isEven=function(){return(1&this.words[0])==0},s.prototype.isOdd=function(){return(1&this.words[0])==1},s.prototype.andln=function(R){return this.words[0]&R},s.prototype.bincn=function(R){r(typeof R=="number");var N=R%26,Z=(R-N)/26,F=1<<N;if(this.length<=Z)return this._expand(Z+1),this.words[Z]|=F,this;for(var U=F,V=Z;U!==0&&V<this.length;V++){var te=0|this.words[V];U=(te+=U)>>>26,te&=67108863,this.words[V]=te}return U!==0&&(this.words[V]=U,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(R){var N,Z=R<0;if(this.negative!==0&&!Z)return-1;if(this.negative===0&&Z)return 1;if(this.strip(),this.length>1)N=1;else{Z&&(R=-R),r(R<=67108863,"Number is too big");var F=0|this.words[0];N=F===R?0:F<R?-1:1}return this.negative!==0?0|-N:N},s.prototype.cmp=function(R){if(this.negative!==0&&R.negative===0)return-1;if(this.negative===0&&R.negative!==0)return 1;var N=this.ucmp(R);return this.negative!==0?0|-N:N},s.prototype.ucmp=function(R){if(this.length>R.length)return 1;if(this.length<R.length)return-1;for(var N=0,Z=this.length-1;Z>=0;Z--){var F=0|this.words[Z],U=0|R.words[Z];if(F!==U){F<U?N=-1:F>U&&(N=1);break}}return N},s.prototype.gtn=function(R){return this.cmpn(R)===1},s.prototype.gt=function(R){return this.cmp(R)===1},s.prototype.gten=function(R){return this.cmpn(R)>=0},s.prototype.gte=function(R){return this.cmp(R)>=0},s.prototype.ltn=function(R){return this.cmpn(R)===-1},s.prototype.lt=function(R){return this.cmp(R)===-1},s.prototype.lten=function(R){return this.cmpn(R)<=0},s.prototype.lte=function(R){return this.cmp(R)<=0},s.prototype.eqn=function(R){return this.cmpn(R)===0},s.prototype.eq=function(R){return this.cmp(R)===0},s.red=function(R){return new z(R)},s.prototype.toRed=function(R){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),R.convertTo(this)._forceRed(R)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(R){return this.red=R,this},s.prototype.forceRed=function(R){return r(!this.red,"Already a number in reduction context"),this._forceRed(R)},s.prototype.redAdd=function(R){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,R)},s.prototype.redIAdd=function(R){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,R)},s.prototype.redSub=function(R){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,R)},s.prototype.redISub=function(R){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,R)},s.prototype.redShl=function(R){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,R)},s.prototype.redMul=function(R){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,R),this.red.mul(this,R)},s.prototype.redIMul=function(R){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,R),this.red.imul(this,R)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(R){return r(this.red&&!R.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,R)};var S={k256:null,p224:null,p192:null,p25519:null};function T(R,N){this.name=R,this.p=new s(N,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function O(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function I(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function z(R){if(typeof R=="string"){var N=s._prime(R);this.m=N.p,this.prime=N}else r(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}function j(R){z.call(this,R),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T.prototype._tmp=function(){var R=new s(null);return R.words=new Array(Math.ceil(this.n/13)),R},T.prototype.ireduce=function(R){var N,Z=R;do this.split(Z,this.tmp),N=(Z=(Z=this.imulK(Z)).iadd(this.tmp)).bitLength();while(N>this.n);var F=N<this.n?-1:Z.ucmp(this.p);return F===0?(Z.words[0]=0,Z.length=1):F>0?Z.isub(this.p):Z.strip!==void 0?Z.strip():Z._strip(),Z},T.prototype.split=function(R,N){R.iushrn(this.n,0,N)},T.prototype.imulK=function(R){return R.imul(this.k)},l(E,T),E.prototype.split=function(R,N){for(var Z=4194303,F=Math.min(R.length,9),U=0;U<F;U++)N.words[U]=R.words[U];if(N.length=F,R.length<=9)return R.words[0]=0,void(R.length=1);var V=R.words[9];for(N.words[N.length++]=V&Z,U=10;U<R.length;U++){var te=0|R.words[U];R.words[U-10]=(te&Z)<<4|V>>>22,V=te}V>>>=22,R.words[U-10]=V,V===0&&R.length>10?R.length-=10:R.length-=9},E.prototype.imulK=function(R){R.words[R.length]=0,R.words[R.length+1]=0,R.length+=2;for(var N=0,Z=0;Z<R.length;Z++){var F=0|R.words[Z];N+=977*F,R.words[Z]=67108863&N,N=64*F+(N/67108864|0)}return R.words[R.length-1]===0&&(R.length--,R.words[R.length-1]===0&&R.length--),R},l(O,T),l(P,T),l(I,T),I.prototype.imulK=function(R){for(var N=0,Z=0;Z<R.length;Z++){var F=19*(0|R.words[Z])+N,U=67108863&F;F>>>=26,R.words[Z]=U,N=F}return N!==0&&(R.words[R.length++]=N),R},s._prime=function(R){if(S[R])return S[R];var N;if(R==="k256")N=new E;else if(R==="p224")N=new O;else if(R==="p192")N=new P;else{if(R!=="p25519")throw new Error("Unknown prime "+R);N=new I}return S[R]=N,N},z.prototype._verify1=function(R){r(R.negative===0,"red works only with positives"),r(R.red,"red works only with red numbers")},z.prototype._verify2=function(R,N){r((R.negative|N.negative)==0,"red works only with positives"),r(R.red&&R.red===N.red,"red works only with red numbers")},z.prototype.imod=function(R){return this.prime?this.prime.ireduce(R)._forceRed(this):R.umod(this.m)._forceRed(this)},z.prototype.neg=function(R){return R.isZero()?R.clone():this.m.sub(R)._forceRed(this)},z.prototype.add=function(R,N){this._verify2(R,N);var Z=R.add(N);return Z.cmp(this.m)>=0&&Z.isub(this.m),Z._forceRed(this)},z.prototype.iadd=function(R,N){this._verify2(R,N);var Z=R.iadd(N);return Z.cmp(this.m)>=0&&Z.isub(this.m),Z},z.prototype.sub=function(R,N){this._verify2(R,N);var Z=R.sub(N);return Z.cmpn(0)<0&&Z.iadd(this.m),Z._forceRed(this)},z.prototype.isub=function(R,N){this._verify2(R,N);var Z=R.isub(N);return Z.cmpn(0)<0&&Z.iadd(this.m),Z},z.prototype.shl=function(R,N){return this._verify1(R),this.imod(R.ushln(N))},z.prototype.imul=function(R,N){return this._verify2(R,N),this.imod(R.imul(N))},z.prototype.mul=function(R,N){return this._verify2(R,N),this.imod(R.mul(N))},z.prototype.isqr=function(R){return this.imul(R,R.clone())},z.prototype.sqr=function(R){return this.mul(R,R)},z.prototype.sqrt=function(R){if(R.isZero())return R.clone();var N=this.m.andln(3);if(r(N%2==1),N===3){var Z=this.m.add(new s(1)).iushrn(2);return this.pow(R,Z)}for(var F=this.m.subn(1),U=0;!F.isZero()&&F.andln(1)===0;)U++,F.iushrn(1);r(!F.isZero());var V=new s(1).toRed(this),te=V.redNeg(),Q=this.m.subn(1).iushrn(1),J=this.m.bitLength();for(J=new s(2*J*J).toRed(this);this.pow(J,Q).cmp(te)!==0;)J.redIAdd(te);for(var X=this.pow(J,F),K=this.pow(R,F.addn(1).iushrn(1)),ee=this.pow(R,F),re=U;ee.cmp(V)!==0;){for(var ie=ee,ae=0;ie.cmp(V)!==0;ae++)ie=ie.redSqr();r(ae<re);var ue=this.pow(X,new s(1).iushln(re-ae-1));K=K.redMul(ue),X=ue.redSqr(),ee=ee.redMul(X),re=ae}return K},z.prototype.invm=function(R){var N=R._invmp(this.m);return N.negative!==0?(N.negative=0,this.imod(N).redNeg()):this.imod(N)},z.prototype.pow=function(R,N){if(N.isZero())return new s(1).toRed(this);if(N.cmpn(1)===0)return R.clone();var Z=new Array(16);Z[0]=new s(1).toRed(this),Z[1]=R;for(var F=2;F<Z.length;F++)Z[F]=this.mul(Z[F-1],R);var U=Z[0],V=0,te=0,Q=N.bitLength()%26;for(Q===0&&(Q=26),F=N.length-1;F>=0;F--){for(var J=N.words[F],X=Q-1;X>=0;X--){var K=J>>X&1;U!==Z[0]&&(U=this.sqr(U)),K!==0||V!==0?(V<<=1,V|=K,(++te==4||F===0&&X===0)&&(U=this.mul(U,Z[V]),te=0,V=0)):te=0}Q=26}return U},z.prototype.convertTo=function(R){var N=R.umod(this.m);return N===R?N.clone():N},z.prototype.convertFrom=function(R){var N=R.clone();return N.red=null,N},s.mont=function(R){return new j(R)},l(j,z),j.prototype.convertTo=function(R){return this.imod(R.ushln(this.shift))},j.prototype.convertFrom=function(R){var N=this.imod(R.mul(this.rinv));return N.red=null,N},j.prototype.imul=function(R,N){if(R.isZero()||N.isZero())return R.words[0]=0,R.length=1,R;var Z=R.imul(N),F=Z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),U=Z.isub(F).iushrn(this.shift),V=U;return U.cmp(this.m)>=0?V=U.isub(this.m):U.cmpn(0)<0&&(V=U.iadd(this.m)),V._forceRed(this)},j.prototype.mul=function(R,N){if(R.isZero()||N.isZero())return new s(0)._forceRed(this);var Z=R.mul(N),F=Z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),U=Z.isub(F).iushrn(this.shift),V=U;return U.cmp(this.m)>=0?V=U.isub(this.m):U.cmpn(0)<0&&(V=U.iadd(this.m)),V._forceRed(this)},j.prototype.invm=function(R){return this.imod(R._invmp(this.m).mul(this.r2))._forceRed(this)}})(h=t.nmd(h),this)},2692:function(h){h.exports=function(o){var t,i,n,r=o.length,l=0;for(t=0;t<r;++t)l+=o[t].length;var s=new Array(l),u=0;for(t=0;t<r;++t){var p=o[t],c=p.length;for(i=0;i<c;++i){var x=s[u++]=new Array(c-1),g=0;for(n=0;n<c;++n)n!==i&&(x[g++]=p[n]);if(1&i){var d=x[1];x[1]=x[0],x[0]=d}}}return s}},2569:function(h,o,t){h.exports=function(x,g,d){switch(arguments.length){case 1:return i=[],p(v=x,v,c,!0),i;case 2:return typeof g=="function"?p(x,x,g,!0):function(y,m){return i=[],p(y,m,c,!1),i}(x,g);case 3:return p(x,g,d,!1);default:throw new Error("box-intersect: Invalid arguments")}var v};var i,n=t(5306),r=t(1390),l=t(2337);function s(x,g){for(var d=0;d<x;++d)if(!(g[d]<=g[d+x]))return!0;return!1}function u(x,g,d,v){for(var y=0,m=0,w=0,f=x.length;w<f;++w){var S=x[w];if(!s(g,S)){for(var T=0;T<2*g;++T)d[y++]=S[T];v[m++]=w}}return m}function p(x,g,d,v){var y=x.length,m=g.length;if(!(y<=0||m<=0)){var w=x[0].length>>>1;if(!(w<=0)){var f,S=n.mallocDouble(2*w*y),T=n.mallocInt32(y);if((y=u(x,w,S,T))>0){if(w===1&&v)r.init(y),f=r.sweepComplete(w,d,0,y,S,T,0,y,S,T);else{var E=n.mallocDouble(2*w*m),O=n.mallocInt32(m);(m=u(g,w,E,O))>0&&(r.init(y+m),f=w===1?r.sweepBipartite(w,d,0,y,S,T,0,m,E,O):l(w,d,v,y,S,T,m,E,O),n.free(E),n.free(O))}n.free(S),n.free(T)}return f}}}function c(x,g){i.push([x,g])}},7333:function(h,o){function t(i){return i?function(n,r,l,s,u,p,c,x,g,d,v){return u-s>g-x?function(y,m,w,f,S,T,E,O,P,I,z){for(var j=2*y,R=f,N=j*f;R<S;++R,N+=j){var Z=T[m+N],F=T[m+N+y],U=E[R];e:for(var V=O,te=j*O;V<P;++V,te+=j){var Q=I[m+te],J=I[m+te+y],X=z[V];if(!(J<Z||F<Q)){for(var K=m+1;K<y;++K){var ee=T[K+N],re=T[K+y+N],ie=I[K+te],ae=I[K+y+te];if(re<ie||ae<ee)continue e}var ue=w(U,X);if(ue!==void 0)return ue}}}}(n,r,l,s,u,p,c,x,g,d,v):function(y,m,w,f,S,T,E,O,P,I,z){for(var j=2*y,R=O,N=j*O;R<P;++R,N+=j){var Z=I[m+N],F=I[m+N+y],U=z[R];e:for(var V=f,te=j*f;V<S;++V,te+=j){var Q=T[m+te],J=T[m+te+y],X=E[V];if(!(F<Q||J<Z)){for(var K=m+1;K<y;++K){var ee=T[K+te],re=T[K+y+te],ie=I[K+N],ae=I[K+y+N];if(re<ie||ae<ee)continue e}var ue=w(X,U);if(ue!==void 0)return ue}}}}(n,r,l,s,u,p,c,x,g,d,v)}:function(n,r,l,s,u,p,c,x,g,d,v,y){return p-u>d-g?s?function(m,w,f,S,T,E,O,P,I,z,j){for(var R=2*m,N=S,Z=R*S;N<T;++N,Z+=R){var F=E[w+Z],U=E[w+Z+m],V=O[N];e:for(var te=P,Q=R*P;te<I;++te,Q+=R){var J=z[w+Q],X=j[te];if(!(J<=F||U<J)){for(var K=w+1;K<m;++K){var ee=E[K+Z],re=E[K+m+Z],ie=z[K+Q],ae=z[K+m+Q];if(re<ie||ae<ee)continue e}var ue=f(X,V);if(ue!==void 0)return ue}}}}(n,r,l,u,p,c,x,g,d,v,y):function(m,w,f,S,T,E,O,P,I,z,j){for(var R=2*m,N=S,Z=R*S;N<T;++N,Z+=R){var F=E[w+Z],U=E[w+Z+m],V=O[N];e:for(var te=P,Q=R*P;te<I;++te,Q+=R){var J=z[w+Q],X=j[te];if(!(J<F||U<J)){for(var K=w+1;K<m;++K){var ee=E[K+Z],re=E[K+m+Z],ie=z[K+Q],ae=z[K+m+Q];if(re<ie||ae<ee)continue e}var ue=f(V,X);if(ue!==void 0)return ue}}}}(n,r,l,u,p,c,x,g,d,v,y):s?function(m,w,f,S,T,E,O,P,I,z,j){for(var R=2*m,N=P,Z=R*P;N<I;++N,Z+=R){var F=z[w+Z],U=j[N];e:for(var V=S,te=R*S;V<T;++V,te+=R){var Q=E[w+te],J=E[w+te+m],X=O[V];if(!(F<=Q||J<F)){for(var K=w+1;K<m;++K){var ee=E[K+te],re=E[K+m+te],ie=z[K+Z],ae=z[K+m+Z];if(re<ie||ae<ee)continue e}var ue=f(U,X);if(ue!==void 0)return ue}}}}(n,r,l,u,p,c,x,g,d,v,y):function(m,w,f,S,T,E,O,P,I,z,j){for(var R=2*m,N=P,Z=R*P;N<I;++N,Z+=R){var F=z[w+Z],U=j[N];e:for(var V=S,te=R*S;V<T;++V,te+=R){var Q=E[w+te],J=E[w+te+m],X=O[V];if(!(F<Q||J<F)){for(var K=w+1;K<m;++K){var ee=E[K+te],re=E[K+m+te],ie=z[K+Z],ae=z[K+m+Z];if(re<ie||ae<ee)continue e}var ue=f(X,U);if(ue!==void 0)return ue}}}}(n,r,l,u,p,c,x,g,d,v,y)}}o.partial=t(!1),o.full=t(!0)},2337:function(h,o,t){h.exports=function(R,N,Z,F,U,V,te,Q,J){(function(Fe,ze){var qe=8*n.log2(ze+1)*(Fe+1)|0,Ye=n.nextPow2(T*qe);O.length<Ye&&(i.free(O),O=i.mallocInt32(Ye));var Qe=n.nextPow2(E*qe);P.length<Qe&&(i.free(P),P=i.mallocDouble(Qe))})(R,F+te);var X,K=0,ee=2*R;for(I(K++,0,0,F,0,te,Z?16:0,-1/0,1/0),Z||I(K++,0,0,te,0,F,1,-1/0,1/0);K>0;){var re=(K-=1)*T,ie=O[re],ae=O[re+1],ue=O[re+2],pe=O[re+3],de=O[re+4],ye=O[re+5],be=K*E,me=P[be],Ee=P[be+1],Te=1&ye,we=!!(16&ye),oe=U,se=V,he=Q,Se=J;if(Te&&(oe=Q,se=J,he=U,Se=V),!(2&ye&&ae>=(ue=m(R,ie,ae,ue,oe,se,Ee))||4&ye&&(ae=w(R,ie,ae,ue,oe,se,me))>=ue)){var _e=ue-ae,Ae=de-pe;if(we){if(R*_e*(_e+Ae)<d){if((X=u.scanComplete(R,ie,N,ae,ue,oe,se,pe,de,he,Se))!==void 0)return X;continue}}else{if(R*Math.min(_e,Ae)<x){if((X=l(R,ie,N,Te,ae,ue,oe,se,pe,de,he,Se))!==void 0)return X;continue}if(R*_e*Ae<g){if((X=u.scanBipartite(R,ie,N,Te,ae,ue,oe,se,pe,de,he,Se))!==void 0)return X;continue}}var Ce=v(R,ie,ae,ue,oe,se,me,Ee);if(ae<Ce)if(R*(Ce-ae)<x){if((X=s(R,ie+1,N,ae,Ce,oe,se,pe,de,he,Se))!==void 0)return X}else if(ie===R-2){if((X=Te?u.sweepBipartite(R,N,pe,de,he,Se,ae,Ce,oe,se):u.sweepBipartite(R,N,ae,Ce,oe,se,pe,de,he,Se))!==void 0)return X}else I(K++,ie+1,ae,Ce,pe,de,Te,-1/0,1/0),I(K++,ie+1,pe,de,ae,Ce,1^Te,-1/0,1/0);if(Ce<ue){var Re=p(R,ie,pe,de,he,Se),fe=he[ee*Re+ie],xe=y(R,ie,Re,de,he,Se,fe);if(xe<de&&I(K++,ie,Ce,ue,xe,de,(4|Te)+(we?16:0),fe,Ee),pe<Re&&I(K++,ie,Ce,ue,pe,Re,(2|Te)+(we?16:0),me,fe),Re+1===xe){if((X=we?j(R,ie,N,Ce,ue,oe,se,Re,he,Se[Re]):z(R,ie,N,Te,Ce,ue,oe,se,Re,he,Se[Re]))!==void 0)return X}else if(Re<xe){var ke;if(we){if(Ce<(ke=f(R,ie,Ce,ue,oe,se,fe))){var Ie=y(R,ie,Ce,ke,oe,se,fe);if(ie===R-2){if(Ce<Ie&&(X=u.sweepComplete(R,N,Ce,Ie,oe,se,Re,xe,he,Se))!==void 0||Ie<ke&&(X=u.sweepBipartite(R,N,Ie,ke,oe,se,Re,xe,he,Se))!==void 0)return X}else Ce<Ie&&I(K++,ie+1,Ce,Ie,Re,xe,16,-1/0,1/0),Ie<ke&&(I(K++,ie+1,Ie,ke,Re,xe,0,-1/0,1/0),I(K++,ie+1,Re,xe,Ie,ke,1,-1/0,1/0))}}else Ce<(ke=Te?S(R,ie,Ce,ue,oe,se,fe):f(R,ie,Ce,ue,oe,se,fe))&&(ie===R-2?X=Te?u.sweepBipartite(R,N,Re,xe,he,Se,Ce,ke,oe,se):u.sweepBipartite(R,N,Ce,ke,oe,se,Re,xe,he,Se):(I(K++,ie+1,Ce,ke,Re,xe,Te,-1/0,1/0),I(K++,ie+1,Re,xe,Ce,ke,1^Te,-1/0,1/0)))}}}}};var i=t(5306),n=t(2288),r=t(7333),l=r.partial,s=r.full,u=t(1390),p=t(2464),c=t(122),x=128,g=1<<22,d=1<<22,v=c("!(lo>=p0)&&!(p1>=hi)"),y=c("lo===p0"),m=c("lo<p0"),w=c("hi<=p0"),f=c("lo<=p0&&p0<=hi"),S=c("lo<p0&&p0<=hi"),T=6,E=2,O=i.mallocInt32(1024),P=i.mallocDouble(1024);function I(R,N,Z,F,U,V,te,Q,J){var X=T*R;O[X]=N,O[X+1]=Z,O[X+2]=F,O[X+3]=U,O[X+4]=V,O[X+5]=te;var K=E*R;P[K]=Q,P[K+1]=J}function z(R,N,Z,F,U,V,te,Q,J,X,K){var ee=2*R,re=J*ee,ie=X[re+N];e:for(var ae=U,ue=U*ee;ae<V;++ae,ue+=ee){var pe=te[ue+N],de=te[ue+N+R];if(!(ie<pe||de<ie||F&&ie===pe)){for(var ye,be=Q[ae],me=N+1;me<R;++me){pe=te[ue+me],de=te[ue+me+R];var Ee=X[re+me],Te=X[re+me+R];if(de<Ee||Te<pe)continue e}if((ye=F?Z(K,be):Z(be,K))!==void 0)return ye}}}function j(R,N,Z,F,U,V,te,Q,J,X){var K=2*R,ee=Q*K,re=J[ee+N];e:for(var ie=F,ae=F*K;ie<U;++ie,ae+=K){var ue=te[ie];if(ue!==X){var pe=V[ae+N],de=V[ae+N+R];if(!(re<pe||de<re)){for(var ye=N+1;ye<R;++ye){pe=V[ae+ye],de=V[ae+ye+R];var be=J[ee+ye],me=J[ee+ye+R];if(de<be||me<pe)continue e}var Ee=Z(ue,X);if(Ee!==void 0)return Ee}}}}},2464:function(h,o,t){h.exports=function(l,s,u,p,c,x){if(p<=u+1)return u;for(var g=u,d=p,v=p+u>>>1,y=2*l,m=v,w=c[y*v+s];g<d;){if(d-g<n){r(l,s,g,d,c,x),w=c[y*v+s];break}var f=d-g,S=Math.random()*f+g|0,T=c[y*S+s],E=Math.random()*f+g|0,O=c[y*E+s],P=Math.random()*f+g|0,I=c[y*P+s];T<=O?I>=O?(m=E,w=O):T>=I?(m=S,w=T):(m=P,w=I):O>=I?(m=E,w=O):I>=T?(m=S,w=T):(m=P,w=I);for(var z=y*(d-1),j=y*m,R=0;R<y;++R,++z,++j){var N=c[z];c[z]=c[j],c[j]=N}var Z=x[d-1];for(x[d-1]=x[m],x[m]=Z,z=y*(d-1),j=y*(m=i(l,s,g,d-1,c,x,w)),R=0;R<y;++R,++z,++j)N=c[z],c[z]=c[j],c[j]=N;if(Z=x[d-1],x[d-1]=x[m],x[m]=Z,v<m){for(d=m-1;g<d&&c[y*(d-1)+s]===w;)d-=1;d+=1}else{if(!(m<v))break;for(g=m+1;g<d&&c[y*g+s]===w;)g+=1}}return i(l,s,u,v,c,x,c[y*v+s])};var i=t(122)("lo<p0"),n=8;function r(l,s,u,p,c,x){for(var g=2*l,d=g*(u+1)+s,v=u+1;v<p;++v,d+=g)for(var y=c[d],m=v,w=g*(v-1);m>u&&c[w+s]>y;--m,w-=g){for(var f=w,S=w+g,T=0;T<g;++T,++f,++S){var E=c[f];c[f]=c[S],c[S]=E}var O=x[m];x[m]=x[m-1],x[m-1]=O}}},122:function(h){h.exports=function(t){return o[t]};var o={"lo===p0":function(t,i,n,r,l,s,u){for(var p=2*t,c=p*n,x=c,g=n,d=i,v=n;r>v;++v,c+=p)if(l[c+d]===u)if(g===v)g+=1,x+=p;else{for(var y=0;p>y;++y){var m=l[c+y];l[c+y]=l[x],l[x++]=m}var w=s[v];s[v]=s[g],s[g++]=w}return g},"lo<p0":function(t,i,n,r,l,s,u){for(var p=2*t,c=p*n,x=c,g=n,d=i,v=n;r>v;++v,c+=p)if(l[c+d]<u)if(g===v)g+=1,x+=p;else{for(var y=0;p>y;++y){var m=l[c+y];l[c+y]=l[x],l[x++]=m}var w=s[v];s[v]=s[g],s[g++]=w}return g},"lo<=p0":function(t,i,n,r,l,s,u){for(var p=2*t,c=p*n,x=c,g=n,d=t+i,v=n;r>v;++v,c+=p)if(l[c+d]<=u)if(g===v)g+=1,x+=p;else{for(var y=0;p>y;++y){var m=l[c+y];l[c+y]=l[x],l[x++]=m}var w=s[v];s[v]=s[g],s[g++]=w}return g},"hi<=p0":function(t,i,n,r,l,s,u){for(var p=2*t,c=p*n,x=c,g=n,d=t+i,v=n;r>v;++v,c+=p)if(l[c+d]<=u)if(g===v)g+=1,x+=p;else{for(var y=0;p>y;++y){var m=l[c+y];l[c+y]=l[x],l[x++]=m}var w=s[v];s[v]=s[g],s[g++]=w}return g},"lo<p0&&p0<=hi":function(t,i,n,r,l,s,u){for(var p=2*t,c=p*n,x=c,g=n,d=i,v=t+i,y=n;r>y;++y,c+=p){var m=l[c+d],w=l[c+v];if(m<u&&u<=w)if(g===y)g+=1,x+=p;else{for(var f=0;p>f;++f){var S=l[c+f];l[c+f]=l[x],l[x++]=S}var T=s[y];s[y]=s[g],s[g++]=T}}return g},"lo<=p0&&p0<=hi":function(t,i,n,r,l,s,u){for(var p=2*t,c=p*n,x=c,g=n,d=i,v=t+i,y=n;r>y;++y,c+=p){var m=l[c+d],w=l[c+v];if(m<=u&&u<=w)if(g===y)g+=1,x+=p;else{for(var f=0;p>f;++f){var S=l[c+f];l[c+f]=l[x],l[x++]=S}var T=s[y];s[y]=s[g],s[g++]=T}}return g},"!(lo>=p0)&&!(p1>=hi)":function(t,i,n,r,l,s,u,p){for(var c=2*t,x=c*n,g=x,d=n,v=i,y=t+i,m=n;r>m;++m,x+=c){var w=l[x+v],f=l[x+y];if(!(w>=u||p>=f))if(d===m)d+=1,g+=c;else{for(var S=0;c>S;++S){var T=l[x+S];l[x+S]=l[g],l[g++]=T}var E=s[m];s[m]=s[d],s[d++]=E}}return d}}},309:function(h){h.exports=function(c,x){x<=4*o?t(0,x-1,c):p(0,x-1,c)};var o=32;function t(c,x,g){for(var d=2*(c+1),v=c+1;v<=x;++v){for(var y=g[d++],m=g[d++],w=v,f=d-2;w-- >c;){var S=g[f-2],T=g[f-1];if(S<y||S===y&&T<m)break;g[f]=S,g[f+1]=T,f-=2}g[f]=y,g[f+1]=m}}function i(c,x,g){x*=2;var d=g[c*=2],v=g[c+1];g[c]=g[x],g[c+1]=g[x+1],g[x]=d,g[x+1]=v}function n(c,x,g){x*=2,g[c*=2]=g[x],g[c+1]=g[x+1]}function r(c,x,g,d){x*=2,g*=2;var v=d[c*=2],y=d[c+1];d[c]=d[x],d[c+1]=d[x+1],d[x]=d[g],d[x+1]=d[g+1],d[g]=v,d[g+1]=y}function l(c,x,g,d,v){x*=2,v[c*=2]=v[x],v[x]=g,v[c+1]=v[x+1],v[x+1]=d}function s(c,x,g){x*=2;var d=g[c*=2],v=g[x];return!(d<v)&&(d!==v||g[c+1]>g[x+1])}function u(c,x,g,d){var v=d[c*=2];return v<x||v===x&&d[c+1]<g}function p(c,x,g){var d=(x-c+1)/6|0,v=c+d,y=x-d,m=c+x>>1,w=m-d,f=m+d,S=v,T=w,E=m,O=f,P=y,I=c+1,z=x-1,j=0;s(S,T,g)&&(j=S,S=T,T=j),s(O,P,g)&&(j=O,O=P,P=j),s(S,E,g)&&(j=S,S=E,E=j),s(T,E,g)&&(j=T,T=E,E=j),s(S,O,g)&&(j=S,S=O,O=j),s(E,O,g)&&(j=E,E=O,O=j),s(T,P,g)&&(j=T,T=P,P=j),s(T,E,g)&&(j=T,T=E,E=j),s(O,P,g)&&(j=O,O=P,P=j);for(var R=g[2*T],N=g[2*T+1],Z=g[2*O],F=g[2*O+1],U=2*S,V=2*E,te=2*P,Q=2*v,J=2*m,X=2*y,K=0;K<2;++K){var ee=g[U+K],re=g[V+K],ie=g[te+K];g[Q+K]=ee,g[J+K]=re,g[X+K]=ie}n(w,c,g),n(f,x,g);for(var ae=I;ae<=z;++ae)if(u(ae,R,N,g))ae!==I&&i(ae,I,g),++I;else if(!u(ae,Z,F,g))for(;;){if(u(z,Z,F,g)){u(z,R,N,g)?(r(ae,I,z,g),++I,--z):(i(ae,z,g),--z);break}if(--z<ae)break}l(c,I-1,R,N,g),l(x,z+1,Z,F,g),I-2-c<=o?t(c,I-2,g):p(c,I-2,g),x-(z+2)<=o?t(z+2,x,g):p(z+2,x,g),z-I<=o?t(I,z,g):p(I,z,g)}},1390:function(h,o,t){h.exports={init:function(w){var f=n.nextPow2(w);u.length<f&&(i.free(u),u=i.mallocInt32(f)),p.length<f&&(i.free(p),p=i.mallocInt32(f)),c.length<f&&(i.free(c),c=i.mallocInt32(f)),x.length<f&&(i.free(x),x=i.mallocInt32(f)),g.length<f&&(i.free(g),g=i.mallocInt32(f)),d.length<f&&(i.free(d),d=i.mallocInt32(f));var S=8*f;v.length<S&&(i.free(v),v=i.mallocDouble(S))},sweepBipartite:function(w,f,S,T,E,O,P,I,z,j){for(var R=0,N=2*w,Z=w-1,F=N-1,U=S;U<T;++U){var V=O[U],te=N*U;v[R++]=E[te+Z],v[R++]=-(V+1),v[R++]=E[te+F],v[R++]=V}for(U=P;U<I;++U){V=j[U]+l;var Q=N*U;v[R++]=z[Q+Z],v[R++]=-V,v[R++]=z[Q+F],v[R++]=V}var J=R>>>1;r(v,J);var X=0,K=0;for(U=0;U<J;++U){var ee=0|v[2*U+1];if(ee>=l)y(c,x,K--,ee=ee-l|0);else if(ee>=0)y(u,p,X--,ee);else if(ee<=-l){ee=-ee-l|0;for(var re=0;re<X;++re)if((ie=f(u[re],ee))!==void 0)return ie;m(c,x,K++,ee)}else{for(ee=-ee-1|0,re=0;re<K;++re){var ie;if((ie=f(ee,c[re]))!==void 0)return ie}m(u,p,X++,ee)}}},sweepComplete:function(w,f,S,T,E,O,P,I,z,j){for(var R=0,N=2*w,Z=w-1,F=N-1,U=S;U<T;++U){var V=O[U]+1<<1,te=N*U;v[R++]=E[te+Z],v[R++]=-V,v[R++]=E[te+F],v[R++]=V}for(U=P;U<I;++U){V=j[U]+1<<1;var Q=N*U;v[R++]=z[Q+Z],v[R++]=1|-V,v[R++]=z[Q+F],v[R++]=1|V}var J=R>>>1;r(v,J);var X=0,K=0,ee=0;for(U=0;U<J;++U){var re=0|v[2*U+1],ie=1&re;if(U<J-1&&re>>1==v[2*U+3]>>1&&(ie=2,U+=1),re<0){for(var ae=-(re>>1)-1,ue=0;ue<ee;++ue)if((pe=f(g[ue],ae))!==void 0)return pe;if(ie!==0){for(ue=0;ue<X;++ue)if((pe=f(u[ue],ae))!==void 0)return pe}if(ie!==1)for(ue=0;ue<K;++ue){var pe;if((pe=f(c[ue],ae))!==void 0)return pe}ie===0?m(u,p,X++,ae):ie===1?m(c,x,K++,ae):ie===2&&m(g,d,ee++,ae)}else ae=(re>>1)-1,ie===0?y(u,p,X--,ae):ie===1?y(c,x,K--,ae):ie===2&&y(g,d,ee--,ae)}},scanBipartite:function(w,f,S,T,E,O,P,I,z,j,R,N){var Z=0,F=2*w,U=f,V=f+w,te=1,Q=1;T?Q=l:te=l;for(var J=E;J<O;++J){var X=J+te,K=F*J;v[Z++]=P[K+U],v[Z++]=-X,v[Z++]=P[K+V],v[Z++]=X}for(J=z;J<j;++J){X=J+Q;var ee=F*J;v[Z++]=R[ee+U],v[Z++]=-X}var re=Z>>>1;r(v,re);var ie=0;for(J=0;J<re;++J){var ae=0|v[2*J+1];if(ae<0){var ue=!1;if((X=-ae)>=l?(ue=!T,X-=l):(ue=!!T,X-=1),ue)m(u,p,ie++,X);else{var pe=N[X],de=F*X,ye=R[de+f+1],be=R[de+f+1+w];e:for(var me=0;me<ie;++me){var Ee=u[me],Te=F*Ee;if(!(be<P[Te+f+1]||P[Te+f+1+w]<ye)){for(var we=f+2;we<w;++we)if(R[de+we+w]<P[Te+we]||P[Te+we+w]<R[de+we])continue e;var oe,se=I[Ee];if((oe=T?S(pe,se):S(se,pe))!==void 0)return oe}}}}else y(u,p,ie--,ae-te)}},scanComplete:function(w,f,S,T,E,O,P,I,z,j,R){for(var N=0,Z=2*w,F=f,U=f+w,V=T;V<E;++V){var te=V+l,Q=Z*V;v[N++]=O[Q+F],v[N++]=-te,v[N++]=O[Q+U],v[N++]=te}for(V=I;V<z;++V){te=V+1;var J=Z*V;v[N++]=j[J+F],v[N++]=-te}var X=N>>>1;r(v,X);var K=0;for(V=0;V<X;++V){var ee=0|v[2*V+1];if(ee<0)if((te=-ee)>=l)u[K++]=te-l;else{var re=R[te-=1],ie=Z*te,ae=j[ie+f+1],ue=j[ie+f+1+w];e:for(var pe=0;pe<K;++pe){var de=u[pe],ye=P[de];if(ye===re)break;var be=Z*de;if(!(ue<O[be+f+1]||O[be+f+1+w]<ae)){for(var me=f+2;me<w;++me)if(j[ie+me+w]<O[be+me]||O[be+me+w]<j[ie+me])continue e;var Ee=S(ye,re);if(Ee!==void 0)return Ee}}}else{for(te=ee-l,pe=K-1;pe>=0;--pe)if(u[pe]===te){for(me=pe+1;me<K;++me)u[me-1]=u[me];break}--K}}}};var i=t(5306),n=t(2288),r=t(309),l=1<<28,s=1024,u=i.mallocInt32(s),p=i.mallocInt32(s),c=i.mallocInt32(s),x=i.mallocInt32(s),g=i.mallocInt32(s),d=i.mallocInt32(s),v=i.mallocDouble(8192);function y(w,f,S,T){var E=f[T],O=w[S-1];w[E]=O,f[O]=E}function m(w,f,S,T){w[S]=T,f[T]=S}},7761:function(h,o,t){var i=t(9971),n=t(743),r=t(2161),l=t(7098);function s(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function u(c,x){return c[0]-x[0]||c[1]-x[1]}function p(c,x,g){return x in c?c[x]:g}h.exports=function(c,x,g){Array.isArray(x)?(g=g||{},x=x||[]):(g=x||{},x=[]);var d=!!p(g,"delaunay",!0),v=!!p(g,"interior",!0),y=!!p(g,"exterior",!0),m=!!p(g,"infinity",!1);if(!v&&!y||c.length===0)return[];var w=i(c,x);if(d||v!==y||m){for(var f=n(c.length,function(E){return E.map(s).sort(u)}(x)),S=0;S<w.length;++S){var T=w[S];f.addTriangle(T[0],T[1],T[2])}return d&&r(c,f),y?v?m?l(f,0,m):f.cells():l(f,1,m):l(f,-1)}return w}},2161:function(h,o,t){var i=t(2227)[4];function n(r,l,s,u,p,c){var x=l.opposite(u,p);if(!(x<0)){if(p<u){var g=u;u=p,p=g,g=c,c=x,x=g}l.isConstraint(u,p)||i(r[u],r[p],r[c],r[x])<0&&s.push(u,p)}}t(5070),h.exports=function(r,l){for(var s=[],u=r.length,p=l.stars,c=0;c<u;++c)for(var x=p[c],g=1;g<x.length;g+=2)if(!((m=x[g])<c||l.isConstraint(c,m))){for(var d=x[g-1],v=-1,y=1;y<x.length;y+=2)if(x[y-1]===m){v=x[y];break}v<0||i(r[c],r[m],r[d],r[v])<0&&s.push(c,m)}for(;s.length>0;){for(var m=s.pop(),w=(d=-1,v=-1,x=p[c=s.pop()],1);w<x.length;w+=2){var f=x[w-1],S=x[w];f===m?v=S:S===m&&(d=f)}d<0||v<0||i(r[c],r[m],r[d],r[v])>=0||(l.flip(c,m),n(r,l,s,d,c,v),n(r,l,s,c,v,d),n(r,l,s,v,m,d),n(r,l,s,m,d,v))}}},7098:function(h,o,t){var i,n=t(5070);function r(s,u,p,c,x,g,d){this.cells=s,this.neighbor=u,this.flags=c,this.constraint=p,this.active=x,this.next=g,this.boundary=d}function l(s,u){return s[0]-u[0]||s[1]-u[1]||s[2]-u[2]}h.exports=function(s,u,p){var c=function(P,I){for(var z=P.cells(),j=z.length,R=0;R<j;++R){var N=(ee=z[R])[0],Z=ee[1],F=ee[2];Z<F?Z<N&&(ee[0]=Z,ee[1]=F,ee[2]=N):F<N&&(ee[0]=F,ee[1]=N,ee[2]=Z)}z.sort(l);var U=new Array(j);for(R=0;R<U.length;++R)U[R]=0;var V=[],te=[],Q=new Array(3*j),J=new Array(3*j),X=null;I&&(X=[]);var K=new r(z,Q,J,U,V,te,X);for(R=0;R<j;++R)for(var ee=z[R],re=0;re<3;++re){N=ee[re],Z=ee[(re+1)%3];var ie=Q[3*R+re]=K.locate(Z,N,P.opposite(Z,N)),ae=J[3*R+re]=P.isConstraint(N,Z);ie<0&&(ae?te.push(R):(V.push(R),U[R]=1),I&&X.push([Z,N,-1]))}return K}(s,p);if(u===0)return p?c.cells.concat(c.boundary):c.cells;for(var x=1,g=c.active,d=c.next,v=c.flags,y=c.cells,m=c.constraint,w=c.neighbor;g.length>0||d.length>0;){for(;g.length>0;){var f=g.pop();if(v[f]!==-x){v[f]=x,y[f];for(var S=0;S<3;++S){var T=w[3*f+S];T>=0&&v[T]===0&&(m[3*f+S]?d.push(T):(g.push(T),v[T]=x))}}}var E=d;d=g,g=E,d.length=0,x=-x}var O=function(P,I,z){for(var j=0,R=0;R<P.length;++R)I[R]===z&&(P[j++]=P[R]);return P.length=j,P}(y,v,u);return p?O.concat(c.boundary):O},r.prototype.locate=(i=[0,0,0],function(s,u,p){var c=s,x=u,g=p;return u<p?u<s&&(c=u,x=p,g=s):p<s&&(c=p,x=s,g=u),c<0?-1:(i[0]=c,i[1]=x,i[2]=g,n.eq(this.cells,i,l))})},9971:function(h,o,t){var i=t(5070),n=t(417)[3];function r(d,v,y,m,w){this.a=d,this.b=v,this.idx=y,this.lowerIds=m,this.upperIds=w}function l(d,v,y,m){this.a=d,this.b=v,this.type=y,this.idx=m}function s(d,v){var y=d.a[0]-v.a[0]||d.a[1]-v.a[1]||d.type-v.type;return y||(d.type!==0&&(y=n(d.a,d.b,v.b))?y:d.idx-v.idx)}function u(d,v){return n(d.a,d.b,v)}function p(d,v,y,m,w){for(var f=i.lt(v,m,u),S=i.gt(v,m,u),T=f;T<S;++T){for(var E=v[T],O=E.lowerIds,P=O.length;P>1&&n(y[O[P-2]],y[O[P-1]],m)>0;)d.push([O[P-1],O[P-2],w]),P-=1;O.length=P,O.push(w);var I=E.upperIds;for(P=I.length;P>1&&n(y[I[P-2]],y[I[P-1]],m)<0;)d.push([I[P-2],I[P-1],w]),P-=1;I.length=P,I.push(w)}}function c(d,v){var y;return(y=d.a[0]<v.a[0]?n(d.a,d.b,v.a):n(v.b,v.a,d.a))?y:(y=v.b[0]<d.b[0]?n(d.a,d.b,v.b):n(v.b,v.a,d.b))||d.idx-v.idx}function x(d,v,y){var m=i.le(d,y,c),w=d[m],f=w.upperIds,S=f[f.length-1];w.upperIds=[S],d.splice(m+1,0,new r(y.a,y.b,y.idx,[S],f))}function g(d,v,y){var m=y.a;y.a=y.b,y.b=m;var w=i.eq(d,y,c),f=d[w];d[w-1].upperIds=f.upperIds,d.splice(w,1)}h.exports=function(d,v){for(var y=d.length,m=v.length,w=[],f=0;f<y;++f)w.push(new l(d[f],null,0,f));for(f=0;f<m;++f){var S=v[f],T=d[S[0]],E=d[S[1]];T[0]<E[0]?w.push(new l(T,E,2,f),new l(E,T,1,f)):T[0]>E[0]&&w.push(new l(E,T,2,f),new l(T,E,1,f))}w.sort(s);for(var O=w[0].a[0]-(1+Math.abs(w[0].a[0]))*Math.pow(2,-52),P=[new r([O,1],[O,0],-1,[],[])],I=[],z=(f=0,w.length);f<z;++f){var j=w[f],R=j.type;R===0?p(I,P,d,j.a,j.idx):R===2?x(P,0,j):g(P,0,j)}return I}},743:function(h,o,t){var i=t(5070);function n(s,u){this.stars=s,this.edges=u}h.exports=function(s,u){for(var p=new Array(s),c=0;c<s;++c)p[c]=[];return new n(p,u)};var r=n.prototype;function l(s,u,p){for(var c=1,x=s.length;c<x;c+=2)if(s[c-1]===u&&s[c]===p)return s[c-1]=s[x-2],s[c]=s[x-1],void(s.length=x-2)}r.isConstraint=function(){var s=[0,0];function u(p,c){return p[0]-c[0]||p[1]-c[1]}return function(p,c){return s[0]=Math.min(p,c),s[1]=Math.max(p,c),i.eq(this.edges,s,u)>=0}}(),r.removeTriangle=function(s,u,p){var c=this.stars;l(c[s],u,p),l(c[u],p,s),l(c[p],s,u)},r.addTriangle=function(s,u,p){var c=this.stars;c[s].push(u,p),c[u].push(p,s),c[p].push(s,u)},r.opposite=function(s,u){for(var p=this.stars[u],c=1,x=p.length;c<x;c+=2)if(p[c]===s)return p[c-1];return-1},r.flip=function(s,u){var p=this.opposite(s,u),c=this.opposite(u,s);this.removeTriangle(s,u,p),this.removeTriangle(u,s,c),this.addTriangle(s,c,p),this.addTriangle(u,p,c)},r.edges=function(){for(var s=this.stars,u=[],p=0,c=s.length;p<c;++p)for(var x=s[p],g=0,d=x.length;g<d;g+=2)u.push([x[g],x[g+1]]);return u},r.cells=function(){for(var s=this.stars,u=[],p=0,c=s.length;p<c;++p)for(var x=s[p],g=0,d=x.length;g<d;g+=2){var v=x[g],y=x[g+1];p<Math.min(v,y)&&u.push([p,v,y])}return u}},9887:function(h){h.exports=function(o){for(var t=1,i=1;i<o.length;++i)for(var n=0;n<i;++n)if(o[i]<o[n])t=-t;else if(o[n]===o[i])return 0;return t}},9243:function(h,o,t){var i=t(3094),n=t(6606);function r(u,p){for(var c=0,x=u.length,g=0;g<x;++g)c+=u[g]*p[g];return c}function l(u){var p=u.length;if(p===0)return[];u[0].length;var c=i([u.length+1,u.length+1],1),x=i([u.length+1],1);c[p][p]=0;for(var g=0;g<p;++g){for(var d=0;d<=g;++d)c[d][g]=c[g][d]=2*r(u[g],u[d]);x[g]=r(u[g],u[g])}var v=n(c,x),y=0,m=v[p+1];for(g=0;g<m.length;++g)y+=m[g];var w=new Array(p);for(g=0;g<p;++g){m=v[g];var f=0;for(d=0;d<m.length;++d)f+=m[d];w[g]=f/y}return w}function s(u){if(u.length===0)return[];for(var p=u[0].length,c=i([p]),x=l(u),g=0;g<u.length;++g)for(var d=0;d<p;++d)c[d]+=u[g][d]*x[g];return c}s.barycenetric=l,h.exports=s},1778:function(h,o,t){h.exports=function(n){for(var r=i(n),l=0,s=0;s<n.length;++s)for(var u=n[s],p=0;p<r.length;++p)l+=Math.pow(u[p]-r[p],2);return Math.sqrt(l/n.length)};var i=t(9243)},197:function(h,o,t){h.exports=function(S,T,E){var O;if(E){O=T;for(var P=new Array(T.length),I=0;I<T.length;++I){var z=T[I];P[I]=[z[0],z[1],E[I]]}T=P}for(var j=function(R,N,Z){var F=v(R,[],d(R));return w(N,F,Z),!!F}(S,T,!!E);f(S,T,!!E);)j=!0;if(E&&j)for(O.length=0,E.length=0,I=0;I<T.length;++I)z=T[I],O.push([z[0],z[1]]),E.push(z[2]);return j};var i=t(1731),n=t(2569),r=t(4434),l=t(5125),s=t(8846),u=t(7999),p=t(2826),c=t(8551),x=t(5528);function g(S){var T=u(S);return[c(T,-1/0),c(T,1/0)]}function d(S){for(var T=new Array(S.length),E=0;E<S.length;++E){var O=S[E];T[E]=[c(O[0],-1/0),c(O[1],-1/0),c(O[0],1/0),c(O[1],1/0)]}return T}function v(S,T,E){for(var O=T.length,P=new i(O),I=[],z=0;z<T.length;++z){var j=T[z],R=g(j[0]),N=g(j[1]);I.push([c(R[0],-1/0),c(N[0],-1/0),c(R[1],1/0),c(N[1],1/0)])}n(I,function(te,Q){P.link(te,Q)});var Z=!0,F=new Array(O);for(z=0;z<O;++z)(V=P.find(z))!==z&&(Z=!1,S[V]=[Math.min(S[z][0],S[V][0]),Math.min(S[z][1],S[V][1])]);if(Z)return null;var U=0;for(z=0;z<O;++z){var V;(V=P.find(z))===z?(F[z]=U,S[U++]=S[z]):F[z]=-1}for(S.length=U,z=0;z<O;++z)F[z]<0&&(F[z]=F[P.find(z)]);return F}function y(S,T){return S[0]-T[0]||S[1]-T[1]}function m(S,T){return S[0]-T[0]||S[1]-T[1]||(S[2]<T[2]?-1:S[2]>T[2]?1:0)}function w(S,T,E){if(S.length!==0){if(T)for(var O=0;O<S.length;++O){var P=T[(z=S[O])[0]],I=T[z[1]];z[0]=Math.min(P,I),z[1]=Math.max(P,I)}else for(O=0;O<S.length;++O){var z;P=(z=S[O])[0],I=z[1],z[0]=Math.min(P,I),z[1]=Math.max(P,I)}E?S.sort(m):S.sort(y);var j=1;for(O=1;O<S.length;++O){var R=S[O-1],N=S[O];(N[0]!==R[0]||N[1]!==R[1]||E&&N[2]!==R[2])&&(S[j++]=N)}S.length=j}}function f(S,T,E){var O=function(R,N){for(var Z=new Array(N.length),F=0;F<N.length;++F){var U=N[F],V=R[U[0]],te=R[U[1]];Z[F]=[c(Math.min(V[0],te[0]),-1/0),c(Math.min(V[1],te[1]),-1/0),c(Math.max(V[0],te[0]),1/0),c(Math.max(V[1],te[1]),1/0)]}return Z}(S,T),P=function(R,N,Z){var F=[];return n(Z,function(U,V){var te=N[U],Q=N[V];if(te[0]!==Q[0]&&te[0]!==Q[1]&&te[1]!==Q[0]&&te[1]!==Q[1]){var J=R[te[0]],X=R[te[1]],K=R[Q[0]],ee=R[Q[1]];r(J,X,K,ee)&&F.push([U,V])}}),F}(S,T,O),I=function(R,N,Z,F){var U=[];return n(Z,F,function(V,te){var Q=N[V];if(Q[0]!==te&&Q[1]!==te){var J=R[te],X=R[Q[0]],K=R[Q[1]];r(X,K,J,J)&&U.push([V,te])}}),U}(S,T,O,d(S)),z=function(R,N,Z,F,U){var V,te,Q=R.map(function(oe){return[l(oe[0]),l(oe[1])]});for(V=0;V<Z.length;++V){var J=Z[V];te=J[0];var X=J[1],K=N[te],ee=N[X],re=x(p(R[K[0]]),p(R[K[1]]),p(R[ee[0]]),p(R[ee[1]]));if(re){var ie=R.length;R.push([u(re[0]),u(re[1])]),Q.push(re),F.push([te,ie],[X,ie])}}for(F.sort(function(oe,se){if(oe[0]!==se[0])return oe[0]-se[0];var he=Q[oe[1]],Se=Q[se[1]];return s(he[0],Se[0])||s(he[1],Se[1])}),V=F.length-1;V>=0;--V){var ae=N[te=(Te=F[V])[0]],ue=ae[0],pe=ae[1],de=R[ue],ye=R[pe];if((de[0]-ye[0]||de[1]-ye[1])<0){var be=ue;ue=pe,pe=be}ae[0]=ue;var me,Ee=ae[1]=Te[1];for(U&&(me=ae[2]);V>0&&F[V-1][0]===te;){var Te,we=(Te=F[--V])[1];U?N.push([Ee,we,me]):N.push([Ee,we]),Ee=we}U?N.push([Ee,pe,me]):N.push([Ee,pe])}return Q}(S,T,P,I,E),j=v(S,z);return w(T,j,E),!!j||P.length>0||I.length>0}},5528:function(h,o,t){h.exports=function(x,g,d,v){var y=s(g,x),m=s(v,d),w=c(y,m);if(l(w)===0)return null;var f=c(m,s(x,d)),S=n(f,w),T=p(y,S);return u(x,T)};var i=t(3962),n=t(9189),r=t(4354),l=t(4951),s=t(6695),u=t(7584),p=t(4469);function c(x,g){return r(i(x[0],g[1]),i(x[1],g[0]))}},5692:function(h){h.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(h,o,t){var i=t(5692),n=t(3578);function r(u){return[u[0]/255,u[1]/255,u[2]/255,u[3]]}function l(u){for(var p,c="#",x=0;x<3;++x)c+=("00"+(p=(p=u[x]).toString(16))).substr(p.length);return c}function s(u){return"rgba("+u.join(",")+")"}h.exports=function(u){var p,c,x,g,d,v,y,m,w,f;if(u||(u={}),m=(u.nshades||72)-1,y=u.format||"hex",(v=u.colormap)||(v="jet"),typeof v=="string"){if(v=v.toLowerCase(),!i[v])throw Error(v+" not a supported colorscale");d=i[v]}else{if(!Array.isArray(v))throw Error("unsupported colormap option",v);d=v.slice()}if(d.length>m+1)throw new Error(v+" map requires nshades to be at least size "+d.length);w=Array.isArray(u.alpha)?u.alpha.length!==2?[1,1]:u.alpha.slice():typeof u.alpha=="number"?[u.alpha,u.alpha]:[1,1],p=d.map(function(P){return Math.round(P.index*m)}),w[0]=Math.min(Math.max(w[0],0),1),w[1]=Math.min(Math.max(w[1],0),1);var S=d.map(function(P,I){var z=d[I].index,j=d[I].rgb.slice();return j.length===4&&j[3]>=0&&j[3]<=1||(j[3]=w[0]+(w[1]-w[0])*z),j}),T=[];for(f=0;f<p.length-1;++f){g=p[f+1]-p[f],c=S[f],x=S[f+1];for(var E=0;E<g;E++){var O=E/g;T.push([Math.round(n(c[0],x[0],O)),Math.round(n(c[1],x[1],O)),Math.round(n(c[2],x[2],O)),n(c[3],x[3],O)])}}return T.push(d[d.length-1].rgb.concat(w[1])),y==="hex"?T=T.map(l):y==="rgbaString"?T=T.map(s):y==="float"&&(T=T.map(r)),T}},9398:function(h,o,t){h.exports=function(p,c,x,g){var d=i(c,x,g);if(d===0){var v=n(i(p,c,x)),y=n(i(p,c,g));if(v===y){if(v===0){var m=u(p,c,x);return m===u(p,c,g)?0:m?1:-1}return 0}return y===0?v>0||u(p,c,g)?-1:1:v===0?y>0||u(p,c,x)?1:-1:n(y-v)}var w=i(p,c,x);return w>0?d>0&&i(p,c,g)>0?1:-1:w<0?d>0||i(p,c,g)>0?1:-1:i(p,c,g)>0||u(p,c,x)?1:-1};var i=t(417),n=t(7538),r=t(87),l=t(2019),s=t(9662);function u(p,c,x){var g=r(p[0],-c[0]),d=r(p[1],-c[1]),v=r(x[0],-c[0]),y=r(x[1],-c[1]),m=s(l(g,v),l(d,y));return m[m.length-1]>=0}},7538:function(h){h.exports=function(o){return o<0?-1:o>0?1:0}},9209:function(h){h.exports=function(i,n){var r=i.length,l=i.length-n.length;if(l)return l;switch(r){case 0:return 0;case 1:return i[0]-n[0];case 2:return i[0]+i[1]-n[0]-n[1]||o(i[0],i[1])-o(n[0],n[1]);case 3:var s=i[0]+i[1],u=n[0]+n[1];if(l=s+i[2]-(u+n[2]))return l;var p=o(i[0],i[1]),c=o(n[0],n[1]);return o(p,i[2])-o(c,n[2])||o(p+i[2],s)-o(c+n[2],u);case 4:var x=i[0],g=i[1],d=i[2],v=i[3],y=n[0],m=n[1],w=n[2],f=n[3];return x+g+d+v-(y+m+w+f)||o(x,g,d,v)-o(y,m,w,f,y)||o(x+g,x+d,x+v,g+d,g+v,d+v)-o(y+m,y+w,y+f,m+w,m+f,w+f)||o(x+g+d,x+g+v,x+d+v,g+d+v)-o(y+m+w,y+m+f,y+w+f,m+w+f);default:for(var S=i.slice().sort(t),T=n.slice().sort(t),E=0;E<r;++E)if(l=S[E]-T[E])return l;return 0}};var o=Math.min;function t(i,n){return i-n}},1284:function(h,o,t){var i=t(9209),n=t(9887);h.exports=function(r,l){return i(r,l)||n(r)-n(l)}},5537:function(h,o,t){var i=t(8950),n=t(8722),r=t(3332);h.exports=function(l){var s=l.length;if(s===0)return[];if(s===1)return[[0]];var u=l[0].length;return u===0?[]:u===1?i(l):u===2?n(l):r(l,u)}},8950:function(h){h.exports=function(o){for(var t=0,i=0,n=1;n<o.length;++n)o[n][0]<o[t][0]&&(t=n),o[n][0]>o[i][0]&&(i=n);return t<i?[[t],[i]]:t>i?[[i],[t]]:[[t]]}},8722:function(h,o,t){h.exports=function(n){var r=i(n),l=r.length;if(l<=2)return[];for(var s=new Array(l),u=r[l-1],p=0;p<l;++p){var c=r[p];s[p]=[u,c],u=c}return s};var i=t(3266)},3332:function(h,o,t){h.exports=function(r,l){try{return i(r,!0)}catch{var s=n(r);if(s.length<=l)return[];var u=function(c,x){for(var g=c.length,d=new Array(g),v=0;v<x.length;++v)d[v]=c[x[v]];var y=x.length;for(v=0;v<g;++v)x.indexOf(v)<0&&(d[y++]=c[v]);return d}(r,s);return function(c,x){for(var g=c.length,d=x.length,v=0;v<g;++v)for(var y=c[v],m=0;m<y.length;++m){var w=y[m];if(w<d)y[m]=x[w];else{w-=d;for(var f=0;f<d;++f)w>=x[f]&&(w+=1);y[m]=w}}return c}(i(u,!0),s)}};var i=t(2183),n=t(2153)},9680:function(h){h.exports=function(o,t,i,n,r,l){var s=r-1,u=r*r,p=s*s,c=(1+2*r)*p,x=r*p,g=u*(3-2*r),d=u*s;if(o.length){l||(l=new Array(o.length));for(var v=o.length-1;v>=0;--v)l[v]=c*o[v]+x*t[v]+g*i[v]+d*n[v];return l}return c*o+x*t+g*i+d*n},h.exports.derivative=function(o,t,i,n,r,l){var s=6*r*r-6*r,u=3*r*r-4*r+1,p=-6*r*r+6*r,c=3*r*r-2*r;if(o.length){l||(l=new Array(o.length));for(var x=o.length-1;x>=0;--x)l[x]=s*o[x]+u*t[x]+p*i[x]+c*n[x];return l}return s*o+u*t+p*i[x]+c*n}},4419:function(h,o,t){var i=t(2183),n=t(1215);function r(s,u){this.point=s,this.index=u}function l(s,u){for(var p=s.point,c=u.point,x=p.length,g=0;g<x;++g){var d=c[g]-p[g];if(d)return d}return 0}h.exports=function(s,u){var p=s.length;if(p===0)return[];var c=s[0].length;if(c<1)return[];if(c===1)return function(z,j,R){if(z===1)return R?[[-1,0]]:[];var N=j.map(function(te,Q){return[te[0],Q]});N.sort(function(te,Q){return te[0]-Q[0]});for(var Z=new Array(z-1),F=1;F<z;++F){var U=N[F-1],V=N[F];Z[F-1]=[U[1],V[1]]}return R&&Z.push([-1,Z[0][1]],[Z[z-1][1],-1]),Z}(p,s,u);for(var x=new Array(p),g=1,d=0;d<p;++d){for(var v=s[d],y=new Array(c+1),m=0,w=0;w<c;++w){var f=v[w];y[w]=f,m+=f*f}y[c]=m,x[d]=new r(y,d),g=Math.max(m,g)}n(x,l),p=x.length;var S=new Array(p+c+1),T=new Array(p+c+1),E=(c+1)*(c+1)*g,O=new Array(c+1);for(d=0;d<=c;++d)O[d]=0;for(O[c]=E,S[0]=O.slice(),T[0]=-1,d=0;d<=c;++d)(y=O.slice())[d]=1,S[d+1]=y,T[d+1]=-1;for(d=0;d<p;++d){var P=x[d];S[d+c+1]=P.point,T[d+c+1]=P.index}var I=i(S,!1);if(I=u?I.filter(function(z){for(var j=0,R=0;R<=c;++R){var N=T[z[R]];if(N<0&&++j>=2)return!1;z[R]=N}return!0}):I.filter(function(z){for(var j=0;j<=c;++j){var R=T[z[j]];if(R<0)return!1;z[j]=R}return!0}),1&c)for(d=0;d<I.length;++d)y=(P=I[d])[0],P[0]=P[1],P[1]=y;return I}},8362:function(h){var o=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),i=new Uint32Array(t.buffer);t[0]=1,o=!0,i[1]===1072693248?(h.exports=function(r){return t[0]=r,[i[0],i[1]]},h.exports.pack=function(r,l){return i[0]=r,i[1]=l,t[0]},h.exports.lo=function(r){return t[0]=r,i[0]},h.exports.hi=function(r){return t[0]=r,i[1]}):i[0]===1072693248?(h.exports=function(r){return t[0]=r,[i[1],i[0]]},h.exports.pack=function(r,l){return i[1]=r,i[0]=l,t[0]},h.exports.lo=function(r){return t[0]=r,i[1]},h.exports.hi=function(r){return t[0]=r,i[0]}):o=!1}if(!o){var n=new Buffer(8);h.exports=function(r){return n.writeDoubleLE(r,0,!0),[n.readUInt32LE(0,!0),n.readUInt32LE(4,!0)]},h.exports.pack=function(r,l){return n.writeUInt32LE(r,0,!0),n.writeUInt32LE(l,4,!0),n.readDoubleLE(0,!0)},h.exports.lo=function(r){return n.writeDoubleLE(r,0,!0),n.readUInt32LE(0,!0)},h.exports.hi=function(r){return n.writeDoubleLE(r,0,!0),n.readUInt32LE(4,!0)}}h.exports.sign=function(r){return h.exports.hi(r)>>>31},h.exports.exponent=function(r){return(h.exports.hi(r)<<1>>>21)-1023},h.exports.fraction=function(r){var l=h.exports.lo(r),s=h.exports.hi(r),u=1048575&s;return 2146435072&s&&(u+=1048576),[l,u]},h.exports.denormalized=function(r){return!(2146435072&h.exports.hi(r))}},3094:function(h){function o(t,i,n){var r=0|t[n];if(r<=0)return[];var l,s=new Array(r);if(n===t.length-1)for(l=0;l<r;++l)s[l]=i;else for(l=0;l<r;++l)s[l]=o(t,i,n+1);return s}h.exports=function(t,i){switch(i===void 0&&(i=0),typeof t){case"number":if(t>0)return function(n,r){var l,s;for(l=new Array(n),s=0;s<n;++s)l[s]=r;return l}(0|t,i);break;case"object":if(typeof t.length=="number")return o(t,i,0)}return[]}},8348:function(h,o,t){h.exports=function(n,r){var l=n.length;if(typeof r!="number"){r=0;for(var s=0;s<l;++s){var u=n[s];r=Math.max(r,u[0],u[1])}r=1+(0|r)}r|=0;var p=new Array(r);for(s=0;s<r;++s)p[s]=[];for(s=0;s<l;++s)p[(u=n[s])[0]].push(u[1]),p[u[1]].push(u[0]);for(var c=0;c<r;++c)i(p[c],function(x,g){return x-g});return p};var i=t(1215)},5795:function(h){h.exports=function(o,t,i){var n=t||0,r=i||1;return[[o[12]+o[0],o[13]+o[1],o[14]+o[2],o[15]+o[3]],[o[12]-o[0],o[13]-o[1],o[14]-o[2],o[15]-o[3]],[o[12]+o[4],o[13]+o[5],o[14]+o[6],o[15]+o[7]],[o[12]-o[4],o[13]-o[5],o[14]-o[6],o[15]-o[7]],[n*o[12]+o[8],n*o[13]+o[9],n*o[14]+o[10],n*o[15]+o[11]],[r*o[12]-o[8],r*o[13]-o[9],r*o[14]-o[10],r*o[15]-o[11]]]}},8444:function(h,o,t){h.exports=function(p,c,x){switch(arguments.length){case 0:return new l([0],[0],0);case 1:return typeof p=="number"?new l(g=u(p),g,0):new l(p,u(p.length),0);case 2:var g;if(typeof c=="number")return new l(p,g=u(p.length),+c);x=0;case 3:if(p.length!==c.length)throw new Error("state and velocity lengths must match");return new l(p,c,x)}};var i=t(9680),n=t(5070);function r(p,c,x){return Math.min(c,Math.max(p,x))}function l(p,c,x){this.dimension=p.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var g=0;g<this.dimension;++g)this.bounds[0][g]=-1/0,this.bounds[1][g]=1/0;this._state=p.slice().reverse(),this._velocity=c.slice().reverse(),this._time=[x],this._scratch=[p.slice(),p.slice(),p.slice(),p.slice(),p.slice()]}var s=l.prototype;function u(p){for(var c=new Array(p),x=0;x<p;++x)c[x]=0;return c}s.flush=function(p){var c=n.gt(this._time,p)-1;c<=0||(this._time.splice(0,c),this._state.splice(0,c*this.dimension),this._velocity.splice(0,c*this.dimension))},s.curve=function(p){var c=this._time,x=c.length,g=n.le(c,p),d=this._scratch[0],v=this._state,y=this._velocity,m=this.dimension,w=this.bounds;if(g<0)for(var f=m-1,S=0;S<m;++S,--f)d[S]=v[f];else if(g>=x-1){f=v.length-1;var T=p-c[x-1];for(S=0;S<m;++S,--f)d[S]=v[f]+T*y[f]}else{f=m*(g+1)-1;var E=c[g],O=c[g+1]-E||1,P=this._scratch[1],I=this._scratch[2],z=this._scratch[3],j=this._scratch[4],R=!0;for(S=0;S<m;++S,--f)P[S]=v[f],z[S]=y[f]*O,I[S]=v[f+m],j[S]=y[f+m]*O,R=R&&P[S]===I[S]&&z[S]===j[S]&&z[S]===0;if(R)for(S=0;S<m;++S)d[S]=P[S];else i(P,z,I,j,(p-E)/O,d)}var N=w[0],Z=w[1];for(S=0;S<m;++S)d[S]=r(N[S],Z[S],d[S]);return d},s.dcurve=function(p){var c=this._time,x=c.length,g=n.le(c,p),d=this._scratch[0],v=this._state,y=this._velocity,m=this.dimension;if(g>=x-1)for(var w=v.length-1,f=(c[x-1],0);f<m;++f,--w)d[f]=y[w];else{w=m*(g+1)-1;var S=c[g],T=c[g+1]-S||1,E=this._scratch[1],O=this._scratch[2],P=this._scratch[3],I=this._scratch[4],z=!0;for(f=0;f<m;++f,--w)E[f]=v[w],P[f]=y[w]*T,O[f]=v[w+m],I[f]=y[w+m]*T,z=z&&E[f]===O[f]&&P[f]===I[f]&&P[f]===0;if(z)for(f=0;f<m;++f)d[f]=0;else for(i.derivative(E,P,O,I,(p-S)/T,d),f=0;f<m;++f)d[f]/=T}return d},s.lastT=function(){var p=this._time;return p[p.length-1]},s.stable=function(){for(var p=this._velocity,c=p.length,x=this.dimension-1;x>=0;--x)if(p[--c])return!1;return!0},s.jump=function(p){var c=this.lastT(),x=this.dimension;if(!(p<c||arguments.length!==x+1)){var g=this._state,d=this._velocity,v=g.length-this.dimension,y=this.bounds,m=y[0],w=y[1];this._time.push(c,p);for(var f=0;f<2;++f)for(var S=0;S<x;++S)g.push(g[v++]),d.push(0);for(this._time.push(p),S=x;S>0;--S)g.push(r(m[S-1],w[S-1],arguments[S])),d.push(0)}},s.push=function(p){var c=this.lastT(),x=this.dimension;if(!(p<c||arguments.length!==x+1)){var g=this._state,d=this._velocity,v=g.length-this.dimension,y=p-c,m=this.bounds,w=m[0],f=m[1],S=y>1e-6?1/y:0;this._time.push(p);for(var T=x;T>0;--T){var E=r(w[T-1],f[T-1],arguments[T]);g.push(E),d.push((E-g[v++])*S)}}},s.set=function(p){var c=this.dimension;if(!(p<this.lastT()||arguments.length!==c+1)){var x=this._state,g=this._velocity,d=this.bounds,v=d[0],y=d[1];this._time.push(p);for(var m=c;m>0;--m)x.push(r(v[m-1],y[m-1],arguments[m])),g.push(0)}},s.move=function(p){var c=this.lastT(),x=this.dimension;if(!(p<=c||arguments.length!==x+1)){var g=this._state,d=this._velocity,v=g.length-this.dimension,y=this.bounds,m=y[0],w=y[1],f=p-c,S=f>1e-6?1/f:0;this._time.push(p);for(var T=x;T>0;--T){var E=arguments[T];g.push(r(m[T-1],w[T-1],g[v++]+E)),d.push(E*S)}}},s.idle=function(p){var c=this.lastT();if(!(p<c)){var x=this.dimension,g=this._state,d=this._velocity,v=g.length-x,y=this.bounds,m=y[0],w=y[1],f=p-c;this._time.push(p);for(var S=x-1;S>=0;--S)g.push(r(m[S],w[S],g[v]+f*d[v])),d.push(0),v+=1}}},7080:function(h){function o(v,y,m,w,f,S){this._color=v,this.key=y,this.value=m,this.left=w,this.right=f,this._count=S}function t(v){return new o(v._color,v.key,v.value,v.left,v.right,v._count)}function i(v,y){return new o(v,y.key,y.value,y.left,y.right,y._count)}function n(v){v._count=1+(v.left?v.left._count:0)+(v.right?v.right._count:0)}function r(v,y){this._compare=v,this.root=y}h.exports=function(v){return new r(v||d,null)};var l=r.prototype;function s(v,y){var m;return y.left&&(m=s(v,y.left))?m:(m=v(y.key,y.value))||(y.right?s(v,y.right):void 0)}function u(v,y,m,w){if(y(v,w.key)<=0){var f;if(w.left&&(f=u(v,y,m,w.left))||(f=m(w.key,w.value)))return f}if(w.right)return u(v,y,m,w.right)}function p(v,y,m,w,f){var S,T=m(v,f.key),E=m(y,f.key);if(T<=0&&(f.left&&(S=p(v,y,m,w,f.left))||E>0&&(S=w(f.key,f.value))))return S;if(E>0&&f.right)return p(v,y,m,w,f.right)}function c(v,y){this.tree=v,this._stack=y}Object.defineProperty(l,"keys",{get:function(){var v=[];return this.forEach(function(y,m){v.push(y)}),v}}),Object.defineProperty(l,"values",{get:function(){var v=[];return this.forEach(function(y,m){v.push(m)}),v}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(v,y){for(var m=this._compare,w=this.root,f=[],S=[];w;){var T=m(v,w.key);f.push(w),S.push(T),w=T<=0?w.left:w.right}f.push(new o(0,v,y,null,null,1));for(var E=f.length-2;E>=0;--E)w=f[E],S[E]<=0?f[E]=new o(w._color,w.key,w.value,f[E+1],w.right,w._count+1):f[E]=new o(w._color,w.key,w.value,w.left,f[E+1],w._count+1);for(E=f.length-1;E>1;--E){var O=f[E-1];if(w=f[E],O._color===1||w._color===1)break;var P=f[E-2];if(P.left===O)if(O.left===w){if(!(I=P.right)||I._color!==0){P._color=0,P.left=O.right,O._color=1,O.right=P,f[E-2]=O,f[E-1]=w,n(P),n(O),E>=3&&((z=f[E-3]).left===P?z.left=O:z.right=O);break}O._color=1,P.right=i(1,I),P._color=0,E-=1}else{if(!(I=P.right)||I._color!==0){O.right=w.left,P._color=0,P.left=w.right,w._color=1,w.left=O,w.right=P,f[E-2]=w,f[E-1]=O,n(P),n(O),n(w),E>=3&&((z=f[E-3]).left===P?z.left=w:z.right=w);break}O._color=1,P.right=i(1,I),P._color=0,E-=1}else if(O.right===w){if(!(I=P.left)||I._color!==0){P._color=0,P.right=O.left,O._color=1,O.left=P,f[E-2]=O,f[E-1]=w,n(P),n(O),E>=3&&((z=f[E-3]).right===P?z.right=O:z.left=O);break}O._color=1,P.left=i(1,I),P._color=0,E-=1}else{var I;if(!(I=P.left)||I._color!==0){var z;O.left=w.right,P._color=0,P.right=w.left,w._color=1,w.right=O,w.left=P,f[E-2]=w,f[E-1]=O,n(P),n(O),n(w),E>=3&&((z=f[E-3]).right===P?z.right=w:z.left=w);break}O._color=1,P.left=i(1,I),P._color=0,E-=1}}return f[0]._color=1,new r(m,f[0])},l.forEach=function(v,y,m){if(this.root)switch(arguments.length){case 1:return s(v,this.root);case 2:return u(y,this._compare,v,this.root);case 3:return this._compare(y,m)>=0?void 0:p(y,m,this._compare,v,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var v=[],y=this.root;y;)v.push(y),y=y.left;return new c(this,v)}}),Object.defineProperty(l,"end",{get:function(){for(var v=[],y=this.root;y;)v.push(y),y=y.right;return new c(this,v)}}),l.at=function(v){if(v<0)return new c(this,[]);for(var y=this.root,m=[];;){if(m.push(y),y.left){if(v<y.left._count){y=y.left;continue}v-=y.left._count}if(!v)return new c(this,m);if(v-=1,!y.right||v>=y.right._count)break;y=y.right}return new c(this,[])},l.ge=function(v){for(var y=this._compare,m=this.root,w=[],f=0;m;){var S=y(v,m.key);w.push(m),S<=0&&(f=w.length),m=S<=0?m.left:m.right}return w.length=f,new c(this,w)},l.gt=function(v){for(var y=this._compare,m=this.root,w=[],f=0;m;){var S=y(v,m.key);w.push(m),S<0&&(f=w.length),m=S<0?m.left:m.right}return w.length=f,new c(this,w)},l.lt=function(v){for(var y=this._compare,m=this.root,w=[],f=0;m;){var S=y(v,m.key);w.push(m),S>0&&(f=w.length),m=S<=0?m.left:m.right}return w.length=f,new c(this,w)},l.le=function(v){for(var y=this._compare,m=this.root,w=[],f=0;m;){var S=y(v,m.key);w.push(m),S>=0&&(f=w.length),m=S<0?m.left:m.right}return w.length=f,new c(this,w)},l.find=function(v){for(var y=this._compare,m=this.root,w=[];m;){var f=y(v,m.key);if(w.push(m),f===0)return new c(this,w);m=f<=0?m.left:m.right}return new c(this,[])},l.remove=function(v){var y=this.find(v);return y?y.remove():this},l.get=function(v){for(var y=this._compare,m=this.root;m;){var w=y(v,m.key);if(w===0)return m.value;m=w<=0?m.left:m.right}};var x=c.prototype;function g(v,y){v.key=y.key,v.value=y.value,v.left=y.left,v.right=y.right,v._color=y._color,v._count=y._count}function d(v,y){return v<y?-1:v>y?1:0}Object.defineProperty(x,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(x,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),x.clone=function(){return new c(this.tree,this._stack.slice())},x.remove=function(){var v=this._stack;if(v.length===0)return this.tree;var y=new Array(v.length),m=v[v.length-1];y[y.length-1]=new o(m._color,m.key,m.value,m.left,m.right,m._count);for(var w=v.length-2;w>=0;--w)(m=v[w]).left===v[w+1]?y[w]=new o(m._color,m.key,m.value,y[w+1],m.right,m._count):y[w]=new o(m._color,m.key,m.value,m.left,y[w+1],m._count);if((m=y[y.length-1]).left&&m.right){var f=y.length;for(m=m.left;m.right;)y.push(m),m=m.right;var S=y[f-1];for(y.push(new o(m._color,S.key,S.value,m.left,m.right,m._count)),y[f-1].key=m.key,y[f-1].value=m.value,w=y.length-2;w>=f;--w)m=y[w],y[w]=new o(m._color,m.key,m.value,m.left,y[w+1],m._count);y[f-1].left=y[f]}if((m=y[y.length-1])._color===0){var T=y[y.length-2];for(T.left===m?T.left=null:T.right===m&&(T.right=null),y.pop(),w=0;w<y.length;++w)y[w]._count--;return new r(this.tree._compare,y[0])}if(m.left||m.right){for(m.left?g(m,m.left):m.right&&g(m,m.right),m._color=1,w=0;w<y.length-1;++w)y[w]._count--;return new r(this.tree._compare,y[0])}if(y.length===1)return new r(this.tree._compare,null);for(w=0;w<y.length;++w)y[w]._count--;var E=y[y.length-2];return function(O){for(var P,I,z,j,R=O.length-1;R>=0;--R){if(P=O[R],R===0)return void(P._color=1);if((I=O[R-1]).left===P){if((z=I.right).right&&z.right._color===0)return j=(z=I.right=t(z)).right=t(z.right),I.right=z.left,z.left=I,z.right=j,z._color=I._color,P._color=1,I._color=1,j._color=1,n(I),n(z),R>1&&((N=O[R-2]).left===I?N.left=z:N.right=z),void(O[R-1]=z);if(z.left&&z.left._color===0)return j=(z=I.right=t(z)).left=t(z.left),I.right=j.left,z.left=j.right,j.left=I,j.right=z,j._color=I._color,I._color=1,z._color=1,P._color=1,n(I),n(z),n(j),R>1&&((N=O[R-2]).left===I?N.left=j:N.right=j),void(O[R-1]=j);if(z._color===1){if(I._color===0)return I._color=1,void(I.right=i(0,z));I.right=i(0,z);continue}z=t(z),I.right=z.left,z.left=I,z._color=I._color,I._color=0,n(I),n(z),R>1&&((N=O[R-2]).left===I?N.left=z:N.right=z),O[R-1]=z,O[R]=I,R+1<O.length?O[R+1]=P:O.push(P),R+=2}else{if((z=I.left).left&&z.left._color===0)return j=(z=I.left=t(z)).left=t(z.left),I.left=z.right,z.right=I,z.left=j,z._color=I._color,P._color=1,I._color=1,j._color=1,n(I),n(z),R>1&&((N=O[R-2]).right===I?N.right=z:N.left=z),void(O[R-1]=z);if(z.right&&z.right._color===0)return j=(z=I.left=t(z)).right=t(z.right),I.left=j.right,z.right=j.left,j.right=I,j.left=z,j._color=I._color,I._color=1,z._color=1,P._color=1,n(I),n(z),n(j),R>1&&((N=O[R-2]).right===I?N.right=j:N.left=j),void(O[R-1]=j);if(z._color===1){if(I._color===0)return I._color=1,void(I.left=i(0,z));I.left=i(0,z);continue}var N;z=t(z),I.left=z.right,z.right=I,z._color=I._color,I._color=0,n(I),n(z),R>1&&((N=O[R-2]).right===I?N.right=z:N.left=z),O[R-1]=z,O[R]=I,R+1<O.length?O[R+1]=P:O.push(P),R+=2}}}(y),E.left===m?E.left=null:E.right=null,new r(this.tree._compare,y[0])},Object.defineProperty(x,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(x,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(x,"index",{get:function(){var v=0,y=this._stack;if(y.length===0){var m=this.tree.root;return m?m._count:0}y[y.length-1].left&&(v=y[y.length-1].left._count);for(var w=y.length-2;w>=0;--w)y[w+1]===y[w].right&&(++v,y[w].left&&(v+=y[w].left._count));return v},enumerable:!0}),x.next=function(){var v=this._stack;if(v.length!==0){var y=v[v.length-1];if(y.right)for(y=y.right;y;)v.push(y),y=y.left;else for(v.pop();v.length>0&&v[v.length-1].right===y;)y=v[v.length-1],v.pop()}},Object.defineProperty(x,"hasNext",{get:function(){var v=this._stack;if(v.length===0)return!1;if(v[v.length-1].right)return!0;for(var y=v.length-1;y>0;--y)if(v[y-1].left===v[y])return!0;return!1}}),x.update=function(v){var y=this._stack;if(y.length===0)throw new Error("Can't update empty node!");var m=new Array(y.length),w=y[y.length-1];m[m.length-1]=new o(w._color,w.key,v,w.left,w.right,w._count);for(var f=y.length-2;f>=0;--f)(w=y[f]).left===y[f+1]?m[f]=new o(w._color,w.key,w.value,m[f+1],w.right,w._count):m[f]=new o(w._color,w.key,w.value,w.left,m[f+1],w._count);return new r(this.tree._compare,m[0])},x.prev=function(){var v=this._stack;if(v.length!==0){var y=v[v.length-1];if(y.left)for(y=y.left;y;)v.push(y),y=y.right;else for(v.pop();v.length>0&&v[v.length-1].left===y;)y=v[v.length-1],v.pop()}},Object.defineProperty(x,"hasPrev",{get:function(){var v=this._stack;if(v.length===0)return!1;if(v[v.length-1].left)return!0;for(var y=v.length-1;y>0;--y)if(v[y-1].right===v[y])return!0;return!1}})},7453:function(h,o,t){h.exports=function(T,E){var O=new c(T);return O.update(E),O};var i=t(9557),n=t(1681),r=t(1011),l=t(2864),s=t(8468),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function p(T,E){return T[0]=E[0],T[1]=E[1],T[2]=E[2],T}function c(T){this.gl=T,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=r(T)}var x=c.prototype;function g(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}x.update=function(T){function E(te,Q,J){if(J in T){var X,K=T[J],ee=this[J];(te?Array.isArray(K)&&Array.isArray(K[0]):Array.isArray(K))?this[J]=X=[Q(K[0]),Q(K[1]),Q(K[2])]:this[J]=X=[Q(K),Q(K),Q(K)];for(var re=0;re<3;++re)if(X[re]!==ee[re])return!0}return!1}T=T||{};var O,P=E.bind(this,!1,Number),I=E.bind(this,!1,Boolean),z=E.bind(this,!1,String),j=E.bind(this,!0,function(te){if(Array.isArray(te)){if(te.length===3)return[+te[0],+te[1],+te[2],1];if(te.length===4)return[+te[0],+te[1],+te[2],+te[3]]}return[0,0,0,1]}),R=!1,N=!1;if("bounds"in T)for(var Z=T.bounds,F=0;F<2;++F)for(var U=0;U<3;++U)Z[F][U]!==this.bounds[F][U]&&(N=!0),this.bounds[F][U]=Z[F][U];if("ticks"in T)for(O=T.ticks,R=!0,this.autoTicks=!1,F=0;F<3;++F)this.tickSpacing[F]=0;else P("tickSpacing")&&(this.autoTicks=!0,N=!0);if(this._firstInit&&("ticks"in T||"tickSpacing"in T||(this.autoTicks=!0),N=!0,R=!0,this._firstInit=!1),N&&this.autoTicks&&(O=s.create(this.bounds,this.tickSpacing),R=!0),R){for(F=0;F<3;++F)O[F].sort(function(te,Q){return te.x-Q.x});s.equal(O,this.ticks)?R=!1:this.ticks=O}I("tickEnable"),z("tickFont")&&(R=!0),P("tickSize"),P("tickAngle"),P("tickPad"),j("tickColor");var V=z("labels");z("labelFont")&&(V=!0),I("labelEnable"),P("labelSize"),P("labelPad"),j("labelColor"),I("lineEnable"),I("lineMirror"),P("lineWidth"),j("lineColor"),I("lineTickEnable"),I("lineTickMirror"),P("lineTickLength"),P("lineTickWidth"),j("lineTickColor"),I("gridEnable"),P("gridWidth"),j("gridColor"),I("zeroEnable"),j("zeroLineColor"),P("zeroLineWidth"),I("backgroundEnable"),j("backgroundColor"),this._text?this._text&&(V||R)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=i(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&R&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=n(this.gl,this.bounds,this.ticks))};var d=[new g,new g,new g];function v(T,E,O,P,I){for(var z=T.primalOffset,j=T.primalMinor,R=T.mirrorOffset,N=T.mirrorMinor,Z=P[E],F=0;F<3;++F)if(E!==F){var U=z,V=R,te=j,Q=N;Z&1<<F&&(U=R,V=z,te=N,Q=j),U[F]=O[0][F],V[F]=O[1][F],I[F]>0?(te[F]=-1,Q[F]=0):(te[F]=0,Q[F]=1)}}var y=[0,0,0],m={model:u,view:u,projection:u,_ortho:!1};x.isOpaque=function(){return!0},x.isTransparent=function(){return!1},x.drawTransparent=function(T){};var w=[0,0,0],f=[0,0,0],S=[0,0,0];x.draw=function(T){T=T||m;for(var E=this.gl,O=T.model||u,P=T.view||u,I=T.projection||u,z=this.bounds,j=T._ortho||!1,R=l(O,P,I,z,j),N=R.cubeEdges,Z=R.axis,F=P[12],U=P[13],V=P[14],te=P[15],Q=(j?2:1)*this.pixelRatio*(I[3]*F+I[7]*U+I[11]*V+I[15]*te)/E.drawingBufferHeight,J=0;J<3;++J)this.lastCubeProps.cubeEdges[J]=N[J],this.lastCubeProps.axis[J]=Z[J];var X=d;for(J=0;J<3;++J)v(d[J],J,this.bounds,N,Z);E=this.gl;var K,ee,re,ie=y;for(J=0;J<3;++J)this.backgroundEnable[J]?ie[J]=Z[J]:ie[J]=0;for(this._background.draw(O,P,I,z,ie,this.backgroundColor),this._lines.bind(O,P,I,this),J=0;J<3;++J){var ae=[0,0,0];Z[J]>0?ae[J]=z[1][J]:ae[J]=z[0][J];for(var ue=0;ue<2;++ue){var pe=(J+1+ue)%3,de=(J+1+(1^ue))%3;this.gridEnable[pe]&&this._lines.drawGrid(pe,de,this.bounds,ae,this.gridColor[pe],this.gridWidth[pe]*this.pixelRatio)}for(ue=0;ue<2;++ue)pe=(J+1+ue)%3,de=(J+1+(1^ue))%3,this.zeroEnable[de]&&Math.min(z[0][de],z[1][de])<=0&&Math.max(z[0][de],z[1][de])>=0&&this._lines.drawZero(pe,de,this.bounds,ae,this.zeroLineColor[de],this.zeroLineWidth[de]*this.pixelRatio)}for(J=0;J<3;++J){this.lineEnable[J]&&this._lines.drawAxisLine(J,this.bounds,X[J].primalOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio),this.lineMirror[J]&&this._lines.drawAxisLine(J,this.bounds,X[J].mirrorOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio);var ye=p(w,X[J].primalMinor),be=p(f,X[J].mirrorMinor),me=this.lineTickLength;for(ue=0;ue<3;++ue){var Ee=Q/O[5*ue];ye[ue]*=me[ue]*Ee,be[ue]*=me[ue]*Ee}this.lineTickEnable[J]&&this._lines.drawAxisTicks(J,X[J].primalOffset,ye,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio),this.lineTickMirror[J]&&this._lines.drawAxisTicks(J,X[J].mirrorOffset,be,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio)}function Te(_e){(re=[0,0,0])[_e]=1}function we(_e,Ae,Ce){var Re=(_e+1)%3,fe=(_e+2)%3,xe=Ae[Re],ke=Ae[fe],Ie=Ce[Re],Fe=Ce[fe];xe>0&&Fe>0||xe>0&&Fe<0||xe<0&&Fe>0||xe<0&&Fe<0?Te(Re):(ke>0&&Ie>0||ke>0&&Ie<0||ke<0&&Ie>0||ke<0&&Ie<0)&&Te(fe)}for(this._lines.unbind(),this._text.bind(O,P,I,this.pixelRatio),J=0;J<3;++J){var oe=X[J].primalMinor,se=X[J].mirrorMinor,he=p(S,X[J].primalOffset);for(ue=0;ue<3;++ue)this.lineTickEnable[J]&&(he[ue]+=Q*oe[ue]*Math.max(this.lineTickLength[ue],0)/O[5*ue]);var Se=[0,0,0];if(Se[J]=1,this.tickEnable[J]){for(this.tickAngle[J]===-3600?(this.tickAngle[J]=0,this.tickAlign[J]="auto"):this.tickAlign[J]=-1,ee=1,(K=[this.tickAlign[J],.5,ee])[0]==="auto"?K[0]=0:K[0]=parseInt(""+K[0]),re=[0,0,0],we(J,oe,se),ue=0;ue<3;++ue)he[ue]+=Q*oe[ue]*this.tickPad[ue]/O[5*ue];this._text.drawTicks(J,this.tickSize[J],this.tickAngle[J],he,this.tickColor[J],Se,re,K)}if(this.labelEnable[J]){for(ee=0,re=[0,0,0],this.labels[J].length>4&&(Te(J),ee=1),(K=[this.labelAlign[J],.5,ee])[0]==="auto"?K[0]=0:K[0]=parseInt(""+K[0]),ue=0;ue<3;++ue)he[ue]+=Q*oe[ue]*this.labelPad[ue]/O[5*ue];he[J]+=.5*(z[0][J]+z[1][J]),this._text.drawLabel(J,this.labelSize[J],this.labelAngle[J],he,this.labelColor[J],[0,0,0],re,K)}}this._text.unbind()},x.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},1011:function(h,o,t){h.exports=function(u){for(var p=[],c=[],x=0,g=0;g<3;++g)for(var d=(g+1)%3,v=(g+2)%3,y=[0,0,0],m=[0,0,0],w=-1;w<=1;w+=2){c.push(x,x+2,x+1,x+1,x+2,x+3),y[g]=w,m[g]=w;for(var f=-1;f<=1;f+=2){y[d]=f;for(var S=-1;S<=1;S+=2)y[v]=S,p.push(y[0],y[1],y[2],m[0],m[1],m[2]),x+=1}var T=d;d=v,v=T}var E=i(u,new Float32Array(p)),O=i(u,new Uint16Array(c),u.ELEMENT_ARRAY_BUFFER),P=n(u,[{buffer:E,type:u.FLOAT,size:3,offset:0,stride:24},{buffer:E,type:u.FLOAT,size:3,offset:12,stride:24}],O),I=r(u);return I.attributes.position.location=0,I.attributes.normal.location=1,new l(u,E,P,I)};var i=t(5827),n=t(2944),r=t(1943).bg;function l(u,p,c,x){this.gl=u,this.buffer=p,this.vao=c,this.shader=x}var s=l.prototype;s.draw=function(u,p,c,x,g,d){for(var v=!1,y=0;y<3;++y)v=v||g[y];if(v){var m=this.gl;m.enable(m.POLYGON_OFFSET_FILL),m.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:u,view:p,projection:c,bounds:x,enable:g,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),m.disable(m.POLYGON_OFFSET_FILL)}},s.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},2864:function(h,o,t){h.exports=function(f,S,T,E,O){n(s,S,f),n(s,T,s);for(var P=0,I=0;I<2;++I){c[2]=E[I][2];for(var z=0;z<2;++z){c[1]=E[z][1];for(var j=0;j<2;++j)c[0]=E[j][0],g(u[P],c,s),P+=1}}var R=-1;for(I=0;I<8;++I){for(var N=u[I][3],Z=0;Z<3;++Z)p[I][Z]=u[I][Z]/N;O&&(p[I][2]*=-1),N<0&&(R<0||p[I][2]<p[R][2])&&(R=I)}if(R<0){R=0;for(var F=0;F<3;++F){for(var U=(F+2)%3,V=(F+1)%3,te=-1,Q=-1,J=0;J<2;++J){var X=(ee=J<<F)+(J<<U)+(1-J<<V),K=ee+(1-J<<U)+(J<<V);l(p[ee],p[X],p[K],x)<0||(J?te=1:Q=1)}if(te<0||Q<0)Q>te&&(R|=1<<F);else{for(J=0;J<2;++J){X=(ee=J<<F)+(J<<U)+(1-J<<V),K=ee+(1-J<<U)+(J<<V);var ee,re=v([u[ee],u[X],u[K],u[ee+(1<<U)+(1<<V)]]);J?te=re:Q=re}Q>te&&(R|=1<<F)}}}var ie=7^R,ae=-1;for(I=0;I<8;++I)I!==R&&I!==ie&&(ae<0||p[ae][1]>p[I][1])&&(ae=I);var ue=-1;for(I=0;I<3;++I)(de=ae^1<<I)!==R&&de!==ie&&(ue<0&&(ue=de),(V=p[de])[0]<p[ue][0]&&(ue=de));var pe=-1;for(I=0;I<3;++I){var de;(de=ae^1<<I)!==R&&de!==ie&&de!==ue&&(pe<0&&(pe=de),(V=p[de])[0]>p[pe][0]&&(pe=de))}var ye=y;ye[0]=ye[1]=ye[2]=0,ye[i.log2(ue^ae)]=ae&ue,ye[i.log2(ae^pe)]=ae&pe;var be=7^pe;be===R||be===ie?(be=7^ue,ye[i.log2(pe^be)]=be&pe):ye[i.log2(ue^be)]=be&ue;var me=m,Ee=R;for(F=0;F<3;++F)me[F]=Ee&1<<F?-1:1;return w};var i=t(2288),n=t(104),r=t(4670),l=t(417),s=new Array(16),u=new Array(8),p=new Array(8),c=new Array(3),x=[0,0,0];function g(f,S,T){for(var E=0;E<4;++E){f[E]=T[12+E];for(var O=0;O<3;++O)f[E]+=S[O]*T[4*O+E]}}(function(){for(var f=0;f<8;++f)u[f]=[1,1,1,1],p[f]=[1,1,1]})();var d=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function v(f){for(var S=0;S<d.length;++S)if((f=r.positive(f,d[S])).length<3)return 0;var T=f[0],E=T[0]/T[3],O=T[1]/T[3],P=0;for(S=1;S+1<f.length;++S){var I=f[S],z=f[S+1],j=I[0]/I[3]-E,R=I[1]/I[3]-O,N=z[0]/z[3]-E,Z=z[1]/z[3]-O;P+=Math.abs(j*Z-R*N)}return P}var y=[1,1,1],m=[0,0,0],w={cubeEdges:y,axis:m}},1681:function(h,o,t){h.exports=function(y,m,w){var f=[],S=[0,0,0],T=[0,0,0],E=[0,0,0],O=[0,0,0];f.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var P=0;P<3;++P){for(var I=f.length/3|0,z=0;z<w[P].length;++z){var j=+w[P][z].x;f.push(j,0,1,j,1,1,j,0,-1,j,0,-1,j,1,1,j,1,-1)}var R=f.length/3|0;S[P]=I,T[P]=R-I,I=f.length/3|0;for(var N=0;N<w[P].length;++N)j=+w[P][N].x,f.push(j,0,1,j,1,1,j,0,-1,j,0,-1,j,1,1,j,1,-1);R=f.length/3|0,E[P]=I,O[P]=R-I}var Z=i(y,new Float32Array(f)),F=n(y,[{buffer:Z,type:y.FLOAT,size:3,stride:0,offset:0}]),U=r(y);return U.attributes.position.location=0,new d(y,Z,F,U,T,S,O,E)};var i=t(5827),n=t(2944),r=t(1943).j,l=[0,0,0],s=[0,0,0],u=[0,0,0],p=[0,0,0],c=[1,1];function x(y){return y[0]=y[1]=y[2]=0,y}function g(y,m){return y[0]=m[0],y[1]=m[1],y[2]=m[2],y}function d(y,m,w,f,S,T,E,O){this.gl=y,this.vertBuffer=m,this.vao=w,this.shader=f,this.tickCount=S,this.tickOffset=T,this.gridCount=E,this.gridOffset=O}var v=d.prototype;v.bind=function(y,m,w){this.shader.bind(),this.shader.uniforms.model=y,this.shader.uniforms.view=m,this.shader.uniforms.projection=w,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},v.unbind=function(){this.vao.unbind()},v.drawAxisLine=function(y,m,w,f,S){var T=x(s);this.shader.uniforms.majorAxis=s,T[y]=m[1][y]-m[0][y],this.shader.uniforms.minorAxis=T;var E,O=g(p,w);O[y]+=m[0][y],this.shader.uniforms.offset=O,this.shader.uniforms.lineWidth=S,this.shader.uniforms.color=f,(E=x(u))[(y+2)%3]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,6),(E=x(u))[(y+1)%3]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,6)},v.drawAxisTicks=function(y,m,w,f,S){if(this.tickCount[y]){var T=x(l);T[y]=1,this.shader.uniforms.majorAxis=T,this.shader.uniforms.offset=m,this.shader.uniforms.minorAxis=w,this.shader.uniforms.color=f,this.shader.uniforms.lineWidth=S;var E=x(u);E[y]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[y],this.tickOffset[y])}},v.drawGrid=function(y,m,w,f,S,T){if(this.gridCount[y]){var E=x(s);E[m]=w[1][m]-w[0][m],this.shader.uniforms.minorAxis=E;var O=g(p,f);O[m]+=w[0][m],this.shader.uniforms.offset=O;var P=x(l);P[y]=1,this.shader.uniforms.majorAxis=P;var I=x(u);I[y]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=T,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,this.gridCount[y],this.gridOffset[y])}},v.drawZero=function(y,m,w,f,S,T){var E=x(s);this.shader.uniforms.majorAxis=E,E[y]=w[1][y]-w[0][y],this.shader.uniforms.minorAxis=E;var O=g(p,f);O[y]+=w[0][y],this.shader.uniforms.offset=O;var P=x(u);P[m]=1,this.shader.uniforms.screenAxis=P,this.shader.uniforms.lineWidth=T,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,6)},v.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1943:function(h,o,t){var i=t(6832),n=t(5158),r=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);o.j=function(x){return n(x,r,l,null,[{name:"position",type:"vec3"}])};var s=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),u=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);o.f=function(x){return n(x,s,u,null,[{name:"position",type:"vec3"}])};var p=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),c=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);o.bg=function(x){return n(x,p,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(h,o,t){h.exports=function(g,d,v,y,m,w){var f=i(g),S=n(g,[{buffer:f,size:3}]),T=l(g);T.attributes.position.location=0;var E=new p(g,T,f,S);return E.update(d,v,y,m,w),E};var i=t(5827),n=t(2944),r=t(875),l=t(1943).f,s=window||k.global||{},u=s.__TEXT_CACHE||{};function p(g,d,v,y){this.gl=g,this.shader=d,this.buffer=v,this.vao=y,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}s.__TEXT_CACHE={};var c=p.prototype,x=[0,0];c.bind=function(g,d,v,y){this.vao.bind(),this.shader.bind();var m=this.shader.uniforms;m.model=g,m.view=d,m.projection=v,m.pixelScale=y,x[0]=this.gl.drawingBufferWidth,x[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=x},c.unbind=function(){this.vao.unbind()},c.update=function(g,d,v,y,m){var w=[];function f(j,R,N,Z,F,U){var V=u[N];V||(V=u[N]={});var te=V[R];te||(te=V[R]=function(ue,pe){try{return r(ue,pe)}catch(de){return console.warn('error vectorizing text:"'+ue+'" error:',de),{cells:[],positions:[]}}}(R,{triangles:!0,font:N,textAlign:"center",textBaseline:"middle",lineSpacing:F,styletags:U}));for(var Q=(Z||12)/12,J=te.positions,X=te.cells,K=0,ee=X.length;K<ee;++K)for(var re=X[K],ie=2;ie>=0;--ie){var ae=J[re[ie]];w.push(Q*ae[0],-Q*ae[1],j)}}for(var S=[0,0,0],T=[0,0,0],E=[0,0,0],O=[0,0,0],P={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},I=0;I<3;++I){E[I]=w.length/3|0,f(.5*(g[0][I]+g[1][I]),d[I],v[I],12,1.25,P),O[I]=(w.length/3|0)-E[I],S[I]=w.length/3|0;for(var z=0;z<y[I].length;++z)y[I][z].text&&f(y[I][z].x,y[I][z].text,y[I][z].font||m,y[I][z].fontSize||12,1.25,P);T[I]=(w.length/3|0)-S[I]}this.buffer.update(w),this.tickOffset=S,this.tickCount=T,this.labelOffset=E,this.labelCount=O},c.drawTicks=function(g,d,v,y,m,w,f,S){this.tickCount[g]&&(this.shader.uniforms.axis=w,this.shader.uniforms.color=m,this.shader.uniforms.angle=v,this.shader.uniforms.scale=d,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=f,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[g],this.tickOffset[g]))},c.drawLabel=function(g,d,v,y,m,w,f,S){this.labelCount[g]&&(this.shader.uniforms.axis=w,this.shader.uniforms.color=m,this.shader.uniforms.angle=v,this.shader.uniforms.scale=d,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=f,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.labelCount[g],this.labelOffset[g]))},c.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},8468:function(h,o){function t(i,n){var r=i+"",l=r.indexOf("."),s=0;l>=0&&(s=r.length-l-1);var u=Math.pow(10,s),p=Math.round(i*n*u),c=p+"";if(c.indexOf("e")>=0)return c;var x=p/u,g=p%u;p<0?(x=0|-Math.ceil(x),g=0|-g):(x=0|Math.floor(x),g|=0);var d=""+x;if(p<0&&(d="-"+d),s){for(var v=""+g;v.length<s;)v="0"+v;return d+"."+v}return d}o.create=function(i,n){for(var r=[],l=0;l<3;++l){for(var s=[],u=(i[0][l],i[1][l],0);u*n[l]<=i[1][l];++u)s.push({x:u*n[l],text:t(n[l],u)});for(u=-1;u*n[l]>=i[0][l];--u)s.push({x:u*n[l],text:t(n[l],u)});r.push(s)}return r},o.equal=function(i,n){for(var r=0;r<3;++r){if(i[r].length!==n[r].length)return!1;for(var l=0;l<i[r].length;++l){var s=i[r][l],u=n[r][l];if(s.x!==u.x||s.text!==u.text||s.font!==u.font||s.fontColor!==u.fontColor||s.fontSize!==u.fontSize||s.dx!==u.dx||s.dy!==u.dy)return!1}}return!0}},2771:function(h,o,t){h.exports=function(w,f,S,T,E){var O=f.model||p,P=f.view||p,I=f.projection||p,z=f._ortho||!1,j=w.bounds,R=(E=E||r(O,P,I,j,z)).axis;l(c,P,O),l(c,I,c);for(var N=y,Z=0;Z<3;++Z)N[Z].lo=1/0,N[Z].hi=-1/0,N[Z].pixelsPerDataUnit=1/0;var F=i(s(c,c));s(c,c);for(var U=0;U<3;++U){var V=(U+1)%3,te=(U+2)%3,Q=m;e:for(Z=0;Z<2;++Z){var J=[];if(R[U]<0!=!!Z){Q[U]=j[Z][U];for(var X=0;X<2;++X){Q[V]=j[X^Z][V];for(var K=0;K<2;++K)Q[te]=j[K^X^Z][te],J.push(Q.slice())}var ee=z?5:4;for(X=ee;X===ee;++X){if(J.length===0)continue e;J=n.positive(J,F[X])}for(X=0;X<J.length;++X){te=J[X];var re=v(m,c,te,S,T);for(K=0;K<3;++K)N[K].lo=Math.min(N[K].lo,te[K]),N[K].hi=Math.max(N[K].hi,te[K]),K!==U&&(N[K].pixelsPerDataUnit=Math.min(N[K].pixelsPerDataUnit,Math.abs(re[K])))}}}}return N};var i=t(5795),n=t(4670),r=t(2864),l=t(104),s=t(2142),u=t(6342),p=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function x(w,f,S){this.lo=w,this.hi=f,this.pixelsPerDataUnit=S}var g=[0,0,0,1],d=[0,0,0,1];function v(w,f,S,T,E){for(var O=0;O<3;++O){for(var P=g,I=d,z=0;z<3;++z)I[z]=P[z]=S[z];I[3]=P[3]=1,I[O]+=1,u(I,I,f),I[3]<0&&(w[O]=1/0),P[O]-=1,u(P,P,f),P[3]<0&&(w[O]=1/0);var j=(P[0]/P[3]-I[0]/I[3])*T,R=(P[1]/P[3]-I[1]/I[3])*E;w[O]=.25*Math.sqrt(j*j+R*R)}return w}var y=[new x(1/0,-1/0,1/0),new x(1/0,-1/0,1/0),new x(1/0,-1/0,1/0)],m=[0,0,0]},5827:function(h,o,t){var i=t(5306),n=t(7498),r=t(5050),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function s(x,g,d,v,y){this.gl=x,this.type=g,this.handle=d,this.length=v,this.usage=y}var u=s.prototype;function p(x,g,d,v,y,m){var w=y.length*y.BYTES_PER_ELEMENT;if(m<0)return x.bufferData(g,y,v),w;if(w+m>d)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return x.bufferSubData(g,m,y),d}function c(x,g){for(var d=i.malloc(x.length,g),v=x.length,y=0;y<v;++y)d[y]=x[y];return d}u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)},u.update=function(x,g){if(typeof g!="number"&&(g=-1),this.bind(),typeof x=="object"&&x.shape!==void 0){var d=x.dtype;if(l.indexOf(d)<0&&(d="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(d=gl.getExtension("OES_element_index_uint")&&d!=="uint16"?"uint32":"uint16"),d===x.dtype&&function(w,f){for(var S=1,T=f.length-1;T>=0;--T){if(f[T]!==S)return!1;S*=w[T]}return!0}(x.shape,x.stride))x.offset===0&&x.data.length===x.shape[0]?this.length=p(this.gl,this.type,this.length,this.usage,x.data,g):this.length=p(this.gl,this.type,this.length,this.usage,x.data.subarray(x.offset,x.shape[0]),g);else{var v=i.malloc(x.size,d),y=r(v,x.shape);n.assign(y,x),this.length=p(this.gl,this.type,this.length,this.usage,g<0?v:v.subarray(0,x.size),g),i.free(v)}}else if(Array.isArray(x)){var m;m=this.type===this.gl.ELEMENT_ARRAY_BUFFER?c(x,"uint16"):c(x,"float32"),this.length=p(this.gl,this.type,this.length,this.usage,g<0?m:m.subarray(0,x.length),g),i.free(m)}else if(typeof x=="object"&&typeof x.length=="number")this.length=p(this.gl,this.type,this.length,this.usage,x,g);else{if(typeof x!="number"&&x!==void 0)throw new Error("gl-buffer: Invalid data type");if(g>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(x|=0)<=0&&(x=1),this.gl.bufferData(this.type,0|x,this.usage),this.length=x}},h.exports=function(x,g,d,v){if(d=d||x.ARRAY_BUFFER,v=v||x.DYNAMIC_DRAW,d!==x.ARRAY_BUFFER&&d!==x.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(v!==x.DYNAMIC_DRAW&&v!==x.STATIC_DRAW&&v!==x.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var y=x.createBuffer(),m=new s(x,d,y,0,v);return m.update(g),m}},1140:function(h,o,t){var i=t(2858);h.exports=function(r,l){var s=r.positions,u=r.vectors,p={positions:[],vertexIntensity:[],vertexIntensityBounds:r.vertexIntensityBounds,vectors:[],cells:[],coneOffset:r.coneOffset,colormap:r.colormap};if(r.positions.length===0)return l&&(l[0]=[0,0,0],l[1]=[0,0,0]),p;for(var c=0,x=1/0,g=-1/0,d=1/0,v=-1/0,y=1/0,m=-1/0,w=null,f=null,S=[],T=1/0,E=!1,O=0;O<s.length;O++){var P=s[O];x=Math.min(P[0],x),g=Math.max(P[0],g),d=Math.min(P[1],d),v=Math.max(P[1],v),y=Math.min(P[2],y),m=Math.max(P[2],m);var I=u[O];if(i.length(I)>c&&(c=i.length(I)),O){var z=2*i.distance(w,P)/(i.length(f)+i.length(I));z?(T=Math.min(T,z),E=!1):E=!0}E||(w=P,f=I),S.push(I)}var j=[x,d,y],R=[g,v,m];l&&(l[0]=j,l[1]=R),c===0&&(c=1);var N=1/c;isFinite(T)||(T=1),p.vectorScale=T;var Z=r.coneSize||.5;r.absoluteConeSize&&(Z=r.absoluteConeSize*N),p.coneScale=Z,O=0;for(var F=0;O<s.length;O++)for(var U=(P=s[O])[0],V=P[1],te=P[2],Q=S[O],J=i.length(Q)*N,X=0;X<8;X++){p.positions.push([U,V,te,F++]),p.positions.push([U,V,te,F++]),p.positions.push([U,V,te,F++]),p.positions.push([U,V,te,F++]),p.positions.push([U,V,te,F++]),p.positions.push([U,V,te,F++]),p.vectors.push(Q),p.vectors.push(Q),p.vectors.push(Q),p.vectors.push(Q),p.vectors.push(Q),p.vectors.push(Q),p.vertexIntensity.push(J,J,J),p.vertexIntensity.push(J,J,J);var K=p.positions.length;p.cells.push([K-6,K-5,K-4],[K-3,K-2,K-1])}return p};var n=t(7234);h.exports.createMesh=t(5028),h.exports.createConeMesh=function(r,l){return h.exports.createMesh(r,l,{shaders:n,traceType:"cone"})}},5028:function(h,o,t){var i=t(5158),n=t(5827),r=t(2944),l=t(8931),s=t(104),u=t(7437),p=t(5050),c=t(9156),x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function g(v,y,m,w,f,S,T,E,O,P,I){this.gl=v,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=y,this.dirty=!0,this.triShader=m,this.pickShader=w,this.trianglePositions=f,this.triangleVectors=S,this.triangleColors=E,this.triangleUVs=O,this.triangleIds=T,this.triangleVAO=P,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=I,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=x,this._view=x,this._projection=x,this._resolution=[1,1]}var d=g.prototype;d.isOpaque=function(){return this.opacity>=1},d.isTransparent=function(){return this.opacity<1},d.pickSlots=1,d.setPickBase=function(v){this.pickId=v},d.update=function(v){v=v||{};var y=this.gl;this.dirty=!0,"lightPosition"in v&&(this.lightPosition=v.lightPosition),"opacity"in v&&(this.opacity=v.opacity),"ambient"in v&&(this.ambientLight=v.ambient),"diffuse"in v&&(this.diffuseLight=v.diffuse),"specular"in v&&(this.specularLight=v.specular),"roughness"in v&&(this.roughness=v.roughness),"fresnel"in v&&(this.fresnel=v.fresnel),v.tubeScale!==void 0&&(this.tubeScale=v.tubeScale),v.vectorScale!==void 0&&(this.vectorScale=v.vectorScale),v.coneScale!==void 0&&(this.coneScale=v.coneScale),v.coneOffset!==void 0&&(this.coneOffset=v.coneOffset),v.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=y.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=y.LINEAR,this.texture.setPixels(function(re){for(var ie=c({colormap:re,nshades:256,format:"rgba"}),ae=new Uint8Array(1024),ue=0;ue<256;++ue){for(var pe=ie[ue],de=0;de<3;++de)ae[4*ue+de]=pe[de];ae[4*ue+3]=255*pe[3]}return p(ae,[256,256,4],[4,0,1])}(v.colormap)),this.texture.generateMipmap());var m=v.cells,w=v.positions,f=v.vectors;if(w&&m&&f){var S=[],T=[],E=[],O=[],P=[];this.cells=m,this.positions=w,this.vectors=f;var I=v.meshColor||[1,1,1,1],z=v.vertexIntensity,j=1/0,R=-1/0;if(z)if(v.vertexIntensityBounds)j=+v.vertexIntensityBounds[0],R=+v.vertexIntensityBounds[1];else for(var N=0;N<z.length;++N){var Z=z[N];j=Math.min(j,Z),R=Math.max(R,Z)}else for(N=0;N<w.length;++N)Z=w[N][2],j=Math.min(j,Z),R=Math.max(R,Z);for(this.intensity=z||function(re){for(var ie=re.length,ae=new Array(ie),ue=0;ue<ie;++ue)ae[ue]=re[ue][2];return ae}(w),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],N=0;N<w.length;++N)for(var F=w[N],U=0;U<3;++U)!isNaN(F[U])&&isFinite(F[U])&&(this.bounds[0][U]=Math.min(this.bounds[0][U],F[U]),this.bounds[1][U]=Math.max(this.bounds[1][U],F[U]));var V=0;e:for(N=0;N<m.length;++N){var te=m[N];if(te.length===3){for(U=0;U<3;++U){F=w[J=te[U]];for(var Q=0;Q<3;++Q)if(isNaN(F[Q])||!isFinite(F[Q]))continue e}for(U=0;U<3;++U){var J;F=w[J=te[2-U]],S.push(F[0],F[1],F[2],F[3]);var X=f[J];T.push(X[0],X[1],X[2],X[3]||0);var K,ee=I;ee.length===3?E.push(ee[0],ee[1],ee[2],1):E.push(ee[0],ee[1],ee[2],ee[3]),K=z?[(z[J]-j)/(R-j),0]:[(F[2]-j)/(R-j),0],O.push(K[0],K[1]),P.push(N)}V+=1}}this.triangleCount=V,this.trianglePositions.update(S),this.triangleVectors.update(T),this.triangleColors.update(E),this.triangleUVs.update(O),this.triangleIds.update(new Uint32Array(P))}},d.drawTransparent=d.draw=function(v){v=v||{};for(var y=this.gl,m=v.model||x,w=v.view||x,f=v.projection||x,S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],T=0;T<3;++T)S[0][T]=Math.max(S[0][T],this.clipBounds[0][T]),S[1][T]=Math.min(S[1][T],this.clipBounds[1][T]);var E={model:m,view:w,projection:f,inverseModel:x.slice(),clipBounds:S,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};E.inverseModel=u(E.inverseModel,E.model),y.disable(y.CULL_FACE),this.texture.bind(0);var O=new Array(16);for(s(O,E.view,E.model),s(O,E.projection,O),u(O,O),T=0;T<3;++T)E.eyePosition[T]=O[12+T]/O[15];var P=O[15];for(T=0;T<3;++T)P+=this.lightPosition[T]*O[4*T+3];for(T=0;T<3;++T){for(var I=O[12+T],z=0;z<3;++z)I+=O[4*z+T]*this.lightPosition[z];E.lightPosition[T]=I/P}if(this.triangleCount>0){var j=this.triShader;j.bind(),j.uniforms=E,this.triangleVAO.bind(),y.drawArrays(y.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},d.drawPick=function(v){v=v||{};for(var y=this.gl,m=v.model||x,w=v.view||x,f=v.projection||x,S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],T=0;T<3;++T)S[0][T]=Math.max(S[0][T],this.clipBounds[0][T]),S[1][T]=Math.min(S[1][T],this.clipBounds[1][T]);this._model=[].slice.call(m),this._view=[].slice.call(w),this._projection=[].slice.call(f),this._resolution=[y.drawingBufferWidth,y.drawingBufferHeight];var E={model:m,view:w,projection:f,clipBounds:S,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},O=this.pickShader;O.bind(),O.uniforms=E,this.triangleCount>0&&(this.triangleVAO.bind(),y.drawArrays(y.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},d.pick=function(v){if(!v||v.id!==this.pickId)return null;var y=v.value[0]+256*v.value[1]+65536*v.value[2],m=this.cells[y],w=this.positions[m[1]].slice(0,3),f={position:w,dataCoordinate:w,index:Math.floor(m[1]/48)};return this.traceType==="cone"?f.index=Math.floor(m[1]/48):this.traceType==="streamtube"&&(f.intensity=this.intensity[m[1]],f.velocity=this.vectors[m[1]].slice(0,3),f.divergence=this.vectors[m[1]][3],f.index=y),f},d.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},h.exports=function(v,y,m){var w=m.shaders;arguments.length===1&&(v=(y=v).gl);var f=function(R,N){var Z=i(R,N.meshShader.vertex,N.meshShader.fragment,null,N.meshShader.attributes);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.vector.location=4,Z}(v,w),S=function(R,N){var Z=i(R,N.pickShader.vertex,N.pickShader.fragment,null,N.pickShader.attributes);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z.attributes.vector.location=4,Z}(v,w),T=l(v,p(new Uint8Array([255,255,255,255]),[1,1,4]));T.generateMipmap(),T.minFilter=v.LINEAR_MIPMAP_LINEAR,T.magFilter=v.LINEAR;var E=n(v),O=n(v),P=n(v),I=n(v),z=n(v),j=new g(v,T,f,S,E,O,z,P,I,r(v,[{buffer:E,type:v.FLOAT,size:4},{buffer:z,type:v.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:P,type:v.FLOAT,size:4},{buffer:I,type:v.FLOAT,size:2},{buffer:O,type:v.FLOAT,size:4}]),m.traceType||"cone");return j.update(y),j}},7234:function(h,o,t){var i=t(6832),n=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),r=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),l=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),s=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);o.meshShader={vertex:n,fragment:r,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},o.pickShader={vertex:l,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(h){h.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(h,o,t){var i=t(1950);h.exports=function(n){return i[n]}},3110:function(h,o,t){h.exports=function(g){var d=g.gl,v=i(d),y=n(d,[{buffer:v,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:v,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:v,type:d.FLOAT,size:3,offset:28,stride:40}]),m=r(d);m.attributes.position.location=0,m.attributes.color.location=1,m.attributes.offset.location=2;var w=new s(d,v,y,m);return w.update(g),w};var i=t(5827),n=t(2944),r=t(7667),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(g,d,v,y){this.gl=g,this.shader=y,this.buffer=d,this.vao=v,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=s.prototype;function p(g,d){for(var v=0;v<3;++v)g[0][v]=Math.min(g[0][v],d[v]),g[1][v]=Math.max(g[1][v],d[v])}u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(g){var d=this.gl,v=this.shader.uniforms;this.shader.bind();var y=v.view=g.view||l,m=v.projection=g.projection||l;v.model=g.model||l,v.clipBounds=this.clipBounds,v.opacity=this.opacity;var w=y[12],f=y[13],S=y[14],T=y[15],E=(g._ortho?2:1)*this.pixelRatio*(m[3]*w+m[7]*f+m[11]*S+m[15]*T)/d.drawingBufferHeight;this.vao.bind();for(var O=0;O<3;++O)d.lineWidth(this.lineWidth[O]*this.pixelRatio),v.capSize=this.capSize[O]*E,this.lineCount[O]&&d.drawArrays(d.LINES,this.lineOffset[O],this.lineCount[O]);this.vao.unbind()};var c=function(){for(var g=new Array(3),d=0;d<3;++d){for(var v=[],y=1;y<=2;++y)for(var m=-1;m<=1;m+=2){var w=[0,0,0];w[(y+d)%3]=m,v.push(w)}g[d]=v}return g}();function x(g,d,v,y){for(var m=c[y],w=0;w<m.length;++w){var f=m[w];g.push(d[0],d[1],d[2],v[0],v[1],v[2],v[3],f[0],f[1],f[2])}return m.length}u.update=function(g){"lineWidth"in(g=g||{})&&(this.lineWidth=g.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in g&&(this.capSize=g.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in g&&(this.opacity=+g.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=g.color||[[0,0,0],[0,0,0],[0,0,0]],v=g.position,y=g.error;if(Array.isArray(d[0])||(d=[d,d,d]),v&&y){var m=[],w=v.length,f=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var S=0;S<3;++S){this.lineOffset[S]=f;e:for(var T=0;T<w;++T){for(var E=v[T],O=0;O<3;++O)if(isNaN(E[O])||!isFinite(E[O]))continue e;var P,I=y[T],z=d[S];Array.isArray(z[0])&&(z=d[T]),z.length===3?z=[z[0],z[1],z[2],1]:z.length===4&&(z=[z[0],z[1],z[2],z[3]],!this.hasAlpha&&z[3]<1&&(this.hasAlpha=!0)),isNaN(I[0][S])||isNaN(I[1][S])||(I[0][S]<0&&((P=E.slice())[S]+=I[0][S],m.push(E[0],E[1],E[2],z[0],z[1],z[2],z[3],0,0,0,P[0],P[1],P[2],z[0],z[1],z[2],z[3],0,0,0),p(this.bounds,P),f+=2+x(m,P,z,S)),I[1][S]>0&&((P=E.slice())[S]+=I[1][S],m.push(E[0],E[1],E[2],z[0],z[1],z[2],z[3],0,0,0,P[0],P[1],P[2],z[0],z[1],z[2],z[3],0,0,0),p(this.bounds,P),f+=2+x(m,P,z,S)))}this.lineCount[S]=f-this.lineOffset[S]}this.buffer.update(m)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},7667:function(h,o,t){var i=t(6832),n=t(5158),r=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);h.exports=function(s){return n(s,r,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(h,o,t){var i=t(8931);h.exports=function(w,f,S,T){n||(n=w.FRAMEBUFFER_UNSUPPORTED,r=w.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,l=w.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,s=w.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var E=w.getExtension("WEBGL_draw_buffers");if(!u&&E&&function(N,Z){var F=N.getParameter(Z.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(F+1);for(var U=0;U<=F;++U){for(var V=new Array(F),te=0;te<U;++te)V[te]=N.COLOR_ATTACHMENT0+te;for(te=U;te<F;++te)V[te]=N.NONE;u[U]=V}}(w,E),Array.isArray(f)&&(T=S,S=0|f[1],f=0|f[0]),typeof f!="number")throw new Error("gl-fbo: Missing shape parameter");var O=w.getParameter(w.MAX_RENDERBUFFER_SIZE);if(f<0||f>O||S<0||S>O)throw new Error("gl-fbo: Parameters are too large for FBO");var P=1;if("color"in(T=T||{})){if((P=Math.max(0|T.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(P>1){if(!E)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(P>w.getParameter(E.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+P+" draw buffers")}}var I=w.UNSIGNED_BYTE,z=w.getExtension("OES_texture_float");if(T.float&&P>0){if(!z)throw new Error("gl-fbo: Context does not support floating point textures");I=w.FLOAT}else T.preferFloat&&P>0&&z&&(I=w.FLOAT);var j=!0;"depth"in T&&(j=!!T.depth);var R=!1;return"stencil"in T&&(R=!!T.stencil),new v(w,f,S,I,P,j,R,E)};var n,r,l,s,u=null;function p(w){return[w.getParameter(w.FRAMEBUFFER_BINDING),w.getParameter(w.RENDERBUFFER_BINDING),w.getParameter(w.TEXTURE_BINDING_2D)]}function c(w,f){w.bindFramebuffer(w.FRAMEBUFFER,f[0]),w.bindRenderbuffer(w.RENDERBUFFER,f[1]),w.bindTexture(w.TEXTURE_2D,f[2])}function x(w){switch(w){case n:throw new Error("gl-fbo: Framebuffer unsupported");case r:throw new Error("gl-fbo: Framebuffer incomplete attachment");case l:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case s:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function g(w,f,S,T,E,O){if(!T)return null;var P=i(w,f,S,E,T);return P.magFilter=w.NEAREST,P.minFilter=w.NEAREST,P.mipSamples=1,P.bind(),w.framebufferTexture2D(w.FRAMEBUFFER,O,w.TEXTURE_2D,P.handle,0),P}function d(w,f,S,T,E){var O=w.createRenderbuffer();return w.bindRenderbuffer(w.RENDERBUFFER,O),w.renderbufferStorage(w.RENDERBUFFER,T,f,S),w.framebufferRenderbuffer(w.FRAMEBUFFER,E,w.RENDERBUFFER,O),O}function v(w,f,S,T,E,O,P,I){this.gl=w,this._shape=[0|f,0|S],this._destroyed=!1,this._ext=I,this.color=new Array(E);for(var z=0;z<E;++z)this.color[z]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=T,this._useDepth=O,this._useStencil=P;var j=this,R=[0|f,0|S];Object.defineProperties(R,{0:{get:function(){return j._shape[0]},set:function(N){return j.width=N}},1:{get:function(){return j._shape[1]},set:function(N){return j.height=N}}}),this._shapeVector=R,function(N){var Z=p(N.gl),F=N.gl,U=N.handle=F.createFramebuffer(),V=N._shape[0],te=N._shape[1],Q=N.color.length,J=N._ext,X=N._useStencil,K=N._useDepth,ee=N._colorType;F.bindFramebuffer(F.FRAMEBUFFER,U);for(var re=0;re<Q;++re)N.color[re]=g(F,V,te,ee,F.RGBA,F.COLOR_ATTACHMENT0+re);Q===0?(N._color_rb=d(F,V,te,F.RGBA4,F.COLOR_ATTACHMENT0),J&&J.drawBuffersWEBGL(u[0])):Q>1&&J.drawBuffersWEBGL(u[Q]);var ie=F.getExtension("WEBGL_depth_texture");ie?X?N.depth=g(F,V,te,ie.UNSIGNED_INT_24_8_WEBGL,F.DEPTH_STENCIL,F.DEPTH_STENCIL_ATTACHMENT):K&&(N.depth=g(F,V,te,F.UNSIGNED_SHORT,F.DEPTH_COMPONENT,F.DEPTH_ATTACHMENT)):K&&X?N._depth_rb=d(F,V,te,F.DEPTH_STENCIL,F.DEPTH_STENCIL_ATTACHMENT):K?N._depth_rb=d(F,V,te,F.DEPTH_COMPONENT16,F.DEPTH_ATTACHMENT):X&&(N._depth_rb=d(F,V,te,F.STENCIL_INDEX,F.STENCIL_ATTACHMENT));var ae=F.checkFramebufferStatus(F.FRAMEBUFFER);if(ae!==F.FRAMEBUFFER_COMPLETE){for(N._destroyed=!0,F.bindFramebuffer(F.FRAMEBUFFER,null),F.deleteFramebuffer(N.handle),N.handle=null,N.depth&&(N.depth.dispose(),N.depth=null),N._depth_rb&&(F.deleteRenderbuffer(N._depth_rb),N._depth_rb=null),re=0;re<N.color.length;++re)N.color[re].dispose(),N.color[re]=null;N._color_rb&&(F.deleteRenderbuffer(N._color_rb),N._color_rb=null),c(F,Z),x(ae)}c(F,Z)}(this)}var y=v.prototype;function m(w,f,S){if(w._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(w._shape[0]!==f||w._shape[1]!==S){var T=w.gl,E=T.getParameter(T.MAX_RENDERBUFFER_SIZE);if(f<0||f>E||S<0||S>E)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");w._shape[0]=f,w._shape[1]=S;for(var O=p(T),P=0;P<w.color.length;++P)w.color[P].shape=w._shape;w._color_rb&&(T.bindRenderbuffer(T.RENDERBUFFER,w._color_rb),T.renderbufferStorage(T.RENDERBUFFER,T.RGBA4,w._shape[0],w._shape[1])),w.depth&&(w.depth.shape=w._shape),w._depth_rb&&(T.bindRenderbuffer(T.RENDERBUFFER,w._depth_rb),w._useDepth&&w._useStencil?T.renderbufferStorage(T.RENDERBUFFER,T.DEPTH_STENCIL,w._shape[0],w._shape[1]):w._useDepth?T.renderbufferStorage(T.RENDERBUFFER,T.DEPTH_COMPONENT16,w._shape[0],w._shape[1]):w._useStencil&&T.renderbufferStorage(T.RENDERBUFFER,T.STENCIL_INDEX,w._shape[0],w._shape[1])),T.bindFramebuffer(T.FRAMEBUFFER,w.handle);var I=T.checkFramebufferStatus(T.FRAMEBUFFER);I!==T.FRAMEBUFFER_COMPLETE&&(w.dispose(),c(T,O),x(I)),c(T,O)}}Object.defineProperties(y,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(w){if(Array.isArray(w)||(w=[0|w,0|w]),w.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var f=0|w[0],S=0|w[1];return m(this,f,S),[f,S]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(w){return m(this,w|=0,this._shape[1]),w},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(w){return w|=0,m(this,this._shape[0],w),w},enumerable:!1}}),y.bind=function(){if(!this._destroyed){var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,this.handle),w.viewport(0,0,this._shape[0],this._shape[1])}},y.dispose=function(){if(!this._destroyed){this._destroyed=!0;var w=this.gl;w.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(w.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var f=0;f<this.color.length;++f)this.color[f].dispose(),this.color[f]=null;this._color_rb&&(w.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},3530:function(h,o,t){var i=t(8974).sprintf,n=t(6603),r=t(9365),l=t(8008);h.exports=function(s,u,p){var c=r(u)||"of unknown name (see npm glsl-shader-name)",x="unknown type";p!==void 0&&(x=p===n.FRAGMENT_SHADER?"fragment":"vertex");for(var g=i(`Error compiling %s shader %s:
`,x,c),d=i("%s%s",g,s),v=s.split(`
`),y={},m=0;m<v.length;m++){var w=v[m];if(w!==""&&w!=="\0"){var f=parseInt(w.split(":")[2]);if(isNaN(f))throw new Error(i("Could not parse error: %s",w));y[f]=w}}var S=l(u).split(`
`);for(m=0;m<S.length;m++)if((y[m+3]||y[m+2]||y[m+1])&&(g+=S[m]+`
`,y[m+1])){var T=y[m+1];T=T.substr(T.split(":",3).join(":").length+1).trim(),g+=i(`^^^ %s

`,T)}return{long:g.trim(),short:d.trim()}}},6386:function(h,o,t){h.exports=function(d,v){var y=d.gl,m=new p(d,l(y,u.vertex,u.fragment),l(y,u.pickVertex,u.pickFragment),s(y),s(y),s(y),s(y));return m.update(v),d.addObject(m),m};var i=t(5070),n=t(9560),r=t(5306),l=t(5158),s=t(5827),u=t(1292);function p(d,v,y,m,w,f,S){this.plot=d,this.shader=v,this.pickShader=y,this.positionBuffer=m,this.weightBuffer=w,this.colorBuffer=f,this.idBuffer=S,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c,x=p.prototype,g=[0,0,1,0,0,1,1,0,1,1,0,1];x.draw=(c=[1,0,0,0,1,0,0,0,1],function(){var d=this.plot,v=this.shader,y=this.bounds,m=this.numVertices;if(!(m<=0)){var w=d.gl,f=d.dataBox,S=y[2]-y[0],T=y[3]-y[1],E=f[2]-f[0],O=f[3]-f[1];c[0]=2*S/E,c[4]=2*T/O,c[6]=2*(y[0]-f[0])/E-1,c[7]=2*(y[1]-f[1])/O-1,v.bind();var P=v.uniforms;P.viewTransform=c,P.shape=this.shape;var I=v.attributes;this.positionBuffer.bind(),I.position.pointer(),this.weightBuffer.bind(),I.weight.pointer(w.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),I.color.pointer(w.UNSIGNED_BYTE,!0),w.drawArrays(w.TRIANGLES,0,m)}}),x.drawPick=function(){var d=[1,0,0,0,1,0,0,0,1],v=[0,0,0,0];return function(y){var m=this.plot,w=this.pickShader,f=this.bounds,S=this.numVertices;if(!(S<=0)){var T=m.gl,E=m.dataBox,O=f[2]-f[0],P=f[3]-f[1],I=E[2]-E[0],z=E[3]-E[1];d[0]=2*O/I,d[4]=2*P/z,d[6]=2*(f[0]-E[0])/I-1,d[7]=2*(f[1]-E[1])/z-1;for(var j=0;j<4;++j)v[j]=y>>8*j&255;this.pickOffset=y,w.bind();var R=w.uniforms;R.viewTransform=d,R.pickOffset=v,R.shape=this.shape;var N=w.attributes;return this.positionBuffer.bind(),N.position.pointer(),this.weightBuffer.bind(),N.weight.pointer(T.UNSIGNED_BYTE,!1),this.idBuffer.bind(),N.pickId.pointer(T.UNSIGNED_BYTE,!1),T.drawArrays(T.TRIANGLES,0,S),y+this.shape[0]*this.shape[1]}}}(),x.pick=function(d,v,y){var m=this.pickOffset,w=this.shape[0]*this.shape[1];if(y<m||y>=m+w)return null;var f=y-m,S=this.xData,T=this.yData;return{object:this,pointId:f,dataCoord:[S[f%this.shape[0]],T[f/this.shape[0]|0]]}},x.update=function(d){var v=(d=d||{}).shape||[0,0],y=d.x||n(v[0]),m=d.y||n(v[1]),w=d.z||new Float32Array(v[0]*v[1]),f=d.zsmooth!==!1;this.xData=y,this.yData=m;var S,T,E,O,P=d.colorLevels||[0],I=d.colorValues||[0,0,0,1],z=P.length,j=this.bounds;f?(S=j[0]=y[0],T=j[1]=m[0],E=j[2]=y[y.length-1],O=j[3]=m[m.length-1]):(S=j[0]=y[0]+(y[1]-y[0])/2,T=j[1]=m[0]+(m[1]-m[0])/2,E=j[2]=y[y.length-1]+(y[y.length-1]-y[y.length-2])/2,O=j[3]=m[m.length-1]+(m[m.length-1]-m[m.length-2])/2);var R=1/(E-S),N=1/(O-T),Z=v[0],F=v[1];this.shape=[Z,F];var U=(f?(Z-1)*(F-1):Z*F)*(g.length>>>1);this.numVertices=U;for(var V=r.mallocUint8(4*U),te=r.mallocFloat32(2*U),Q=r.mallocUint8(2*U),J=r.mallocUint32(U),X=0,K=f?Z-1:Z,ee=f?F-1:F,re=0;re<ee;++re){var ie,ae;f?(ie=N*(m[re]-T),ae=N*(m[re+1]-T)):(ie=re<F-1?N*(m[re]-(m[re+1]-m[re])/2-T):N*(m[re]-(m[re]-m[re-1])/2-T),ae=re<F-1?N*(m[re]+(m[re+1]-m[re])/2-T):N*(m[re]+(m[re]-m[re-1])/2-T));for(var ue=0;ue<K;++ue){var pe,de;f?(pe=R*(y[ue]-S),de=R*(y[ue+1]-S)):(pe=ue<Z-1?R*(y[ue]-(y[ue+1]-y[ue])/2-S):R*(y[ue]-(y[ue]-y[ue-1])/2-S),de=ue<Z-1?R*(y[ue]+(y[ue+1]-y[ue])/2-S):R*(y[ue]+(y[ue]-y[ue-1])/2-S));for(var ye=0;ye<g.length;ye+=2){var be,me,Ee,Te,we=g[ye],oe=g[ye+1],se=w[f?(re+oe)*Z+(ue+we):re*Z+ue],he=i.le(P,se);if(he<0)be=I[0],me=I[1],Ee=I[2],Te=I[3];else if(he===z-1)be=I[4*z-4],me=I[4*z-3],Ee=I[4*z-2],Te=I[4*z-1];else{var Se=(se-P[he])/(P[he+1]-P[he]),_e=1-Se,Ae=4*he,Ce=4*(he+1);be=_e*I[Ae]+Se*I[Ce],me=_e*I[Ae+1]+Se*I[Ce+1],Ee=_e*I[Ae+2]+Se*I[Ce+2],Te=_e*I[Ae+3]+Se*I[Ce+3]}V[4*X]=255*be,V[4*X+1]=255*me,V[4*X+2]=255*Ee,V[4*X+3]=255*Te,te[2*X]=.5*pe+.5*de,te[2*X+1]=.5*ie+.5*ae,Q[2*X]=we,Q[2*X+1]=oe,J[X]=re*Z+ue,X+=1}}}this.positionBuffer.update(te),this.weightBuffer.update(Q),this.colorBuffer.update(V),this.idBuffer.update(J),r.free(te),r.free(V),r.free(Q),r.free(J)},x.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},1292:function(h,o,t){var i=t(6832);h.exports={fragment:i([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(h,o,t){var i=t(6832),n=t(5158),r=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),s=i([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];o.createShader=function(p){return n(p,r,l,null,u)},o.createPickShader=function(p){return n(p,r,s,null,u)}},6086:function(h,o,t){h.exports=function(S){var T=S.gl||S.scene&&S.scene.gl,E=x(T);E.attributes.position.location=0,E.attributes.nextPosition.location=1,E.attributes.arcLength.location=2,E.attributes.lineWidth.location=3,E.attributes.color.location=4;var O=g(T);O.attributes.position.location=0,O.attributes.nextPosition.location=1,O.attributes.arcLength.location=2,O.attributes.lineWidth.location=3,O.attributes.color.location=4;for(var P=i(T),I=n(T,[{buffer:P,size:3,offset:0,stride:48},{buffer:P,size:3,offset:12,stride:48},{buffer:P,size:1,offset:24,stride:48},{buffer:P,size:1,offset:28,stride:48},{buffer:P,size:4,offset:32,stride:48}]),z=p(new Array(1024),[256,1,4]),j=0;j<1024;++j)z.data[j]=255;var R=r(T,z);R.wrap=T.REPEAT;var N=new w(T,E,O,P,I,R);return N.update(S),N};var i=t(5827),n=t(2944),r=t(8931),l=new Uint8Array(4),s=new Float32Array(l.buffer),u=t(5070),p=t(5050),c=t(248),x=c.createShader,g=c.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function v(S,T){for(var E=0,O=0;O<3;++O){var P=S[O]-T[O];E+=P*P}return Math.sqrt(E)}function y(S){for(var T=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],E=0;E<3;++E)T[0][E]=Math.max(S[0][E],T[0][E]),T[1][E]=Math.min(S[1][E],T[1][E]);return T}function m(S,T,E,O){this.arcLength=S,this.position=T,this.index=E,this.dataCoordinate=O}function w(S,T,E,O,P,I){this.gl=S,this.shader=T,this.pickShader=E,this.buffer=O,this.vao=P,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=I,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var f=w.prototype;f.isTransparent=function(){return this.hasAlpha},f.isOpaque=function(){return!this.hasAlpha},f.pickSlots=1,f.setPickBase=function(S){this.pickId=S},f.drawTransparent=f.draw=function(S){if(this.vertexCount){var T=this.gl,E=this.shader,O=this.vao;E.bind(),E.uniforms={model:S.model||d,view:S.view||d,projection:S.projection||d,clipBounds:y(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[T.drawingBufferWidth,T.drawingBufferHeight],pixelRatio:this.pixelRatio},O.bind(),O.draw(T.TRIANGLE_STRIP,this.vertexCount),O.unbind()}},f.drawPick=function(S){if(this.vertexCount){var T=this.gl,E=this.pickShader,O=this.vao;E.bind(),E.uniforms={model:S.model||d,view:S.view||d,projection:S.projection||d,pickId:this.pickId,clipBounds:y(this.clipBounds),screenShape:[T.drawingBufferWidth,T.drawingBufferHeight],pixelRatio:this.pixelRatio},O.bind(),O.draw(T.TRIANGLE_STRIP,this.vertexCount),O.unbind()}},f.update=function(S){var T,E;this.dirty=!0;var O=!!S.connectGaps;"dashScale"in S&&(this.dashScale=S.dashScale),this.hasAlpha=!1,"opacity"in S&&(this.opacity=+S.opacity,this.opacity<1&&(this.hasAlpha=!0));var P=[],I=[],z=[],j=0,R=0,N=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Z=S.position||S.positions;if(Z){var F=S.color||S.colors||[0,0,0,1],U=S.lineWidth||1,V=!1;e:for(T=1;T<Z.length;++T){var te,Q,J,X=Z[T-1],K=Z[T];for(I.push(j),z.push(X.slice()),E=0;E<3;++E){if(isNaN(X[E])||isNaN(K[E])||!isFinite(X[E])||!isFinite(K[E])){if(!O&&P.length>0){for(var ee=0;ee<24;++ee)P.push(P[P.length-12]);R+=2,V=!0}continue e}N[0][E]=Math.min(N[0][E],X[E],K[E]),N[1][E]=Math.max(N[1][E],X[E],K[E])}Array.isArray(F[0])?(te=F.length>T-1?F[T-1]:F.length>0?F[F.length-1]:[0,0,0,1],Q=F.length>T?F[T]:F.length>0?F[F.length-1]:[0,0,0,1]):te=Q=F,te.length===3&&(te=[te[0],te[1],te[2],1]),Q.length===3&&(Q=[Q[0],Q[1],Q[2],1]),!this.hasAlpha&&te[3]<1&&(this.hasAlpha=!0),J=Array.isArray(U)?U.length>T-1?U[T-1]:U.length>0?U[U.length-1]:[0,0,0,1]:U;var re=j;if(j+=v(X,K),V){for(E=0;E<2;++E)P.push(X[0],X[1],X[2],K[0],K[1],K[2],re,J,te[0],te[1],te[2],te[3]);R+=2,V=!1}P.push(X[0],X[1],X[2],K[0],K[1],K[2],re,J,te[0],te[1],te[2],te[3],X[0],X[1],X[2],K[0],K[1],K[2],re,-J,te[0],te[1],te[2],te[3],K[0],K[1],K[2],X[0],X[1],X[2],j,-J,Q[0],Q[1],Q[2],Q[3],K[0],K[1],K[2],X[0],X[1],X[2],j,J,Q[0],Q[1],Q[2],Q[3]),R+=4}}if(this.buffer.update(P),I.push(j),z.push(Z[Z.length-1].slice()),this.bounds=N,this.vertexCount=R,this.points=z,this.arcLength=I,"dashes"in S){var ie=S.dashes.slice();for(ie.unshift(0),T=1;T<ie.length;++T)ie[T]=ie[T-1]+ie[T];var ae=p(new Array(1024),[256,1,4]);for(T=0;T<256;++T){for(E=0;E<4;++E)ae.set(T,0,E,0);1&u.le(ie,ie[ie.length-1]*T/255)?ae.set(T,0,0,0):ae.set(T,0,0,255)}this.texture.setPixels(ae)}},f.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},f.pick=function(S){if(!S||S.id!==this.pickId)return null;var T=function(Z,F,U,V){return l[0]=0,l[1]=U,l[2]=F,l[3]=Z,s[0]}(S.value[0],S.value[1],S.value[2]),E=u.le(this.arcLength,T);if(E<0)return null;if(E===this.arcLength.length-1)return new m(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),E);for(var O=this.points[E],P=this.points[Math.min(E+1,this.points.length-1)],I=(T-this.arcLength[E])/(this.arcLength[E+1]-this.arcLength[E]),z=1-I,j=[0,0,0],R=0;R<3;++R)j[R]=z*O[R]+I*P[R];var N=Math.min(I<.5?E:E+1,this.points.length-1);return new m(T,j,N,this.points[N])}},7332:function(h){h.exports=function(o){var t=new Float32Array(16);return t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=o[3],t[4]=o[4],t[5]=o[5],t[6]=o[6],t[7]=o[7],t[8]=o[8],t[9]=o[9],t[10]=o[10],t[11]=o[11],t[12]=o[12],t[13]=o[13],t[14]=o[14],t[15]=o[15],t}},9823:function(h){h.exports=function(){var o=new Float32Array(16);return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},7787:function(h){h.exports=function(o){var t=o[0],i=o[1],n=o[2],r=o[3],l=o[4],s=o[5],u=o[6],p=o[7],c=o[8],x=o[9],g=o[10],d=o[11],v=o[12],y=o[13],m=o[14],w=o[15];return(t*s-i*l)*(g*w-d*m)-(t*u-n*l)*(x*w-d*y)+(t*p-r*l)*(x*m-g*y)+(i*u-n*s)*(c*w-d*v)-(i*p-r*s)*(c*m-g*v)+(n*p-r*u)*(c*y-x*v)}},5950:function(h){h.exports=function(o,t){var i=t[0],n=t[1],r=t[2],l=t[3],s=i+i,u=n+n,p=r+r,c=i*s,x=n*s,g=n*u,d=r*s,v=r*u,y=r*p,m=l*s,w=l*u,f=l*p;return o[0]=1-g-y,o[1]=x+f,o[2]=d-w,o[3]=0,o[4]=x-f,o[5]=1-c-y,o[6]=v+m,o[7]=0,o[8]=d+w,o[9]=v-m,o[10]=1-c-g,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},7280:function(h){h.exports=function(o,t,i){var n=t[0],r=t[1],l=t[2],s=t[3],u=n+n,p=r+r,c=l+l,x=n*u,g=n*p,d=n*c,v=r*p,y=r*c,m=l*c,w=s*u,f=s*p,S=s*c;return o[0]=1-(v+m),o[1]=g+S,o[2]=d-f,o[3]=0,o[4]=g-S,o[5]=1-(x+m),o[6]=y+w,o[7]=0,o[8]=d+f,o[9]=y-w,o[10]=1-(x+v),o[11]=0,o[12]=i[0],o[13]=i[1],o[14]=i[2],o[15]=1,o}},9947:function(h){h.exports=function(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},7437:function(h){h.exports=function(o,t){var i=t[0],n=t[1],r=t[2],l=t[3],s=t[4],u=t[5],p=t[6],c=t[7],x=t[8],g=t[9],d=t[10],v=t[11],y=t[12],m=t[13],w=t[14],f=t[15],S=i*u-n*s,T=i*p-r*s,E=i*c-l*s,O=n*p-r*u,P=n*c-l*u,I=r*c-l*p,z=x*m-g*y,j=x*w-d*y,R=x*f-v*y,N=g*w-d*m,Z=g*f-v*m,F=d*f-v*w,U=S*F-T*Z+E*N+O*R-P*j+I*z;return U?(U=1/U,o[0]=(u*F-p*Z+c*N)*U,o[1]=(r*Z-n*F-l*N)*U,o[2]=(m*I-w*P+f*O)*U,o[3]=(d*P-g*I-v*O)*U,o[4]=(p*R-s*F-c*j)*U,o[5]=(i*F-r*R+l*j)*U,o[6]=(w*E-y*I-f*T)*U,o[7]=(x*I-d*E+v*T)*U,o[8]=(s*Z-u*R+c*z)*U,o[9]=(n*R-i*Z-l*z)*U,o[10]=(y*P-m*E+f*S)*U,o[11]=(g*E-x*P-v*S)*U,o[12]=(u*j-s*N-p*z)*U,o[13]=(i*N-n*j+r*z)*U,o[14]=(m*T-y*O-w*S)*U,o[15]=(x*O-g*T+d*S)*U,o):null}},3012:function(h,o,t){var i=t(9947);h.exports=function(n,r,l,s){var u,p,c,x,g,d,v,y,m,w,f=r[0],S=r[1],T=r[2],E=s[0],O=s[1],P=s[2],I=l[0],z=l[1],j=l[2];return Math.abs(f-I)<1e-6&&Math.abs(S-z)<1e-6&&Math.abs(T-j)<1e-6?i(n):(v=f-I,y=S-z,m=T-j,u=O*(m*=w=1/Math.sqrt(v*v+y*y+m*m))-P*(y*=w),p=P*(v*=w)-E*m,c=E*y-O*v,(w=Math.sqrt(u*u+p*p+c*c))?(u*=w=1/w,p*=w,c*=w):(u=0,p=0,c=0),x=y*c-m*p,g=m*u-v*c,d=v*p-y*u,(w=Math.sqrt(x*x+g*g+d*d))?(x*=w=1/w,g*=w,d*=w):(x=0,g=0,d=0),n[0]=u,n[1]=x,n[2]=v,n[3]=0,n[4]=p,n[5]=g,n[6]=y,n[7]=0,n[8]=c,n[9]=d,n[10]=m,n[11]=0,n[12]=-(u*f+p*S+c*T),n[13]=-(x*f+g*S+d*T),n[14]=-(v*f+y*S+m*T),n[15]=1,n)}},104:function(h){h.exports=function(o,t,i){var n=t[0],r=t[1],l=t[2],s=t[3],u=t[4],p=t[5],c=t[6],x=t[7],g=t[8],d=t[9],v=t[10],y=t[11],m=t[12],w=t[13],f=t[14],S=t[15],T=i[0],E=i[1],O=i[2],P=i[3];return o[0]=T*n+E*u+O*g+P*m,o[1]=T*r+E*p+O*d+P*w,o[2]=T*l+E*c+O*v+P*f,o[3]=T*s+E*x+O*y+P*S,T=i[4],E=i[5],O=i[6],P=i[7],o[4]=T*n+E*u+O*g+P*m,o[5]=T*r+E*p+O*d+P*w,o[6]=T*l+E*c+O*v+P*f,o[7]=T*s+E*x+O*y+P*S,T=i[8],E=i[9],O=i[10],P=i[11],o[8]=T*n+E*u+O*g+P*m,o[9]=T*r+E*p+O*d+P*w,o[10]=T*l+E*c+O*v+P*f,o[11]=T*s+E*x+O*y+P*S,T=i[12],E=i[13],O=i[14],P=i[15],o[12]=T*n+E*u+O*g+P*m,o[13]=T*r+E*p+O*d+P*w,o[14]=T*l+E*c+O*v+P*f,o[15]=T*s+E*x+O*y+P*S,o}},5268:function(h){h.exports=function(o,t,i,n,r,l,s){var u=1/(t-i),p=1/(n-r),c=1/(l-s);return o[0]=-2*u,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*p,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*c,o[11]=0,o[12]=(t+i)*u,o[13]=(r+n)*p,o[14]=(s+l)*c,o[15]=1,o}},1120:function(h){h.exports=function(o,t,i,n,r){var l=1/Math.tan(t/2),s=1/(n-r);return o[0]=l/i,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=l,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(r+n)*s,o[11]=-1,o[12]=0,o[13]=0,o[14]=2*r*n*s,o[15]=0,o}},4422:function(h){h.exports=function(o,t,i,n){var r,l,s,u,p,c,x,g,d,v,y,m,w,f,S,T,E,O,P,I,z,j,R,N,Z=n[0],F=n[1],U=n[2],V=Math.sqrt(Z*Z+F*F+U*U);return Math.abs(V)<1e-6?null:(Z*=V=1/V,F*=V,U*=V,r=Math.sin(i),s=1-(l=Math.cos(i)),u=t[0],p=t[1],c=t[2],x=t[3],g=t[4],d=t[5],v=t[6],y=t[7],m=t[8],w=t[9],f=t[10],S=t[11],T=Z*Z*s+l,E=F*Z*s+U*r,O=U*Z*s-F*r,P=Z*F*s-U*r,I=F*F*s+l,z=U*F*s+Z*r,j=Z*U*s+F*r,R=F*U*s-Z*r,N=U*U*s+l,o[0]=u*T+g*E+m*O,o[1]=p*T+d*E+w*O,o[2]=c*T+v*E+f*O,o[3]=x*T+y*E+S*O,o[4]=u*P+g*I+m*z,o[5]=p*P+d*I+w*z,o[6]=c*P+v*I+f*z,o[7]=x*P+y*I+S*z,o[8]=u*j+g*R+m*N,o[9]=p*j+d*R+w*N,o[10]=c*j+v*R+f*N,o[11]=x*j+y*R+S*N,t!==o&&(o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15]),o)}},6109:function(h){h.exports=function(o,t,i){var n=Math.sin(i),r=Math.cos(i),l=t[4],s=t[5],u=t[6],p=t[7],c=t[8],x=t[9],g=t[10],d=t[11];return t!==o&&(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15]),o[4]=l*r+c*n,o[5]=s*r+x*n,o[6]=u*r+g*n,o[7]=p*r+d*n,o[8]=c*r-l*n,o[9]=x*r-s*n,o[10]=g*r-u*n,o[11]=d*r-p*n,o}},7115:function(h){h.exports=function(o,t,i){var n=Math.sin(i),r=Math.cos(i),l=t[0],s=t[1],u=t[2],p=t[3],c=t[8],x=t[9],g=t[10],d=t[11];return t!==o&&(o[4]=t[4],o[5]=t[5],o[6]=t[6],o[7]=t[7],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15]),o[0]=l*r-c*n,o[1]=s*r-x*n,o[2]=u*r-g*n,o[3]=p*r-d*n,o[8]=l*n+c*r,o[9]=s*n+x*r,o[10]=u*n+g*r,o[11]=p*n+d*r,o}},5240:function(h){h.exports=function(o,t,i){var n=Math.sin(i),r=Math.cos(i),l=t[0],s=t[1],u=t[2],p=t[3],c=t[4],x=t[5],g=t[6],d=t[7];return t!==o&&(o[8]=t[8],o[9]=t[9],o[10]=t[10],o[11]=t[11],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15]),o[0]=l*r+c*n,o[1]=s*r+x*n,o[2]=u*r+g*n,o[3]=p*r+d*n,o[4]=c*r-l*n,o[5]=x*r-s*n,o[6]=g*r-u*n,o[7]=d*r-p*n,o}},3668:function(h){h.exports=function(o,t,i){var n=i[0],r=i[1],l=i[2];return o[0]=t[0]*n,o[1]=t[1]*n,o[2]=t[2]*n,o[3]=t[3]*n,o[4]=t[4]*r,o[5]=t[5]*r,o[6]=t[6]*r,o[7]=t[7]*r,o[8]=t[8]*l,o[9]=t[9]*l,o[10]=t[10]*l,o[11]=t[11]*l,o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15],o}},998:function(h){h.exports=function(o,t,i){var n,r,l,s,u,p,c,x,g,d,v,y,m=i[0],w=i[1],f=i[2];return t===o?(o[12]=t[0]*m+t[4]*w+t[8]*f+t[12],o[13]=t[1]*m+t[5]*w+t[9]*f+t[13],o[14]=t[2]*m+t[6]*w+t[10]*f+t[14],o[15]=t[3]*m+t[7]*w+t[11]*f+t[15]):(n=t[0],r=t[1],l=t[2],s=t[3],u=t[4],p=t[5],c=t[6],x=t[7],g=t[8],d=t[9],v=t[10],y=t[11],o[0]=n,o[1]=r,o[2]=l,o[3]=s,o[4]=u,o[5]=p,o[6]=c,o[7]=x,o[8]=g,o[9]=d,o[10]=v,o[11]=y,o[12]=n*m+u*w+g*f+t[12],o[13]=r*m+p*w+d*f+t[13],o[14]=l*m+c*w+v*f+t[14],o[15]=s*m+x*w+y*f+t[15]),o}},2142:function(h){h.exports=function(o,t){if(o===t){var i=t[1],n=t[2],r=t[3],l=t[6],s=t[7],u=t[11];o[1]=t[4],o[2]=t[8],o[3]=t[12],o[4]=i,o[6]=t[9],o[7]=t[13],o[8]=n,o[9]=l,o[11]=t[14],o[12]=r,o[13]=s,o[14]=u}else o[0]=t[0],o[1]=t[4],o[2]=t[8],o[3]=t[12],o[4]=t[1],o[5]=t[5],o[6]=t[9],o[7]=t[13],o[8]=t[2],o[9]=t[6],o[10]=t[10],o[11]=t[14],o[12]=t[3],o[13]=t[7],o[14]=t[11],o[15]=t[15];return o}},4340:function(h,o,t){var i=t(957),n=t(7309);function r(u,p){for(var c=[0,0,0,0],x=0;x<4;++x)for(var g=0;g<4;++g)c[g]+=u[4*x+g]*p[x];return c}function l(u,p,c,x,g){for(var d=r(x,r(c,r(p,[u[0],u[1],u[2],1]))),v=0;v<3;++v)d[v]/=d[3];return[.5*g[0]*(1+d[0]),.5*g[1]*(1-d[1])]}function s(u,p){for(var c=[0,0,0],x=0;x<u.length;++x)for(var g=u[x],d=p[x],v=0;v<3;++v)c[v]+=d*g[v];return c}h.exports=function(u,p,c,x,g,d){if(u.length===1)return[0,u[0].slice()];for(var v=new Array(u.length),y=0;y<u.length;++y)v[y]=l(u[y],c,x,g,d);var m=0,w=1/0;for(y=0;y<v.length;++y){for(var f=0,S=0;S<2;++S)f+=Math.pow(v[y][S]-p[S],2);f<w&&(w=f,m=y)}var T=function(O,P){if(O.length===2){for(var I=0,z=0,j=0;j<2;++j)I+=Math.pow(P[j]-O[0][j],2),z+=Math.pow(P[j]-O[1][j],2);return(I=Math.sqrt(I))+(z=Math.sqrt(z))<1e-6?[1,0]:[z/(I+z),I/(z+I)]}if(O.length===3){var R=[0,0];return n(O[0],O[1],O[2],P,R),i(O,R)}return[]}(v,p),E=0;for(y=0;y<3;++y){if(T[y]<-.001||T[y]>1.0001)return null;E+=T[y]}return Math.abs(E-1)>.001?null:[m,s(u,T),T]}},2056:function(h,o,t){var i=t(6832),n=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),r=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),s=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),u=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),p=i([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),x=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),g=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),d=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),v=i([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);o.meshShader={vertex:n,fragment:r,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},o.wireShader={vertex:l,fragment:s,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},o.pointShader={vertex:u,fragment:p,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},o.pickShader={vertex:c,fragment:x,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},o.pointPickShader={vertex:g,fragment:x,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},o.contourShader={vertex:d,fragment:v,attributes:[{name:"position",type:"vec3"}]}},8116:function(h,o,t){var i=t(5158),n=t(5827),r=t(2944),l=t(8931),s=t(115),u=t(104),p=t(7437),c=t(5050),x=t(9156),g=t(7212),d=t(5306),v=t(2056),y=t(4340),m=v.meshShader,w=v.wireShader,f=v.pointShader,S=v.pickShader,T=v.pointPickShader,E=v.contourShader,O=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function P(F,U,V,te,Q,J,X,K,ee,re,ie,ae,ue,pe,de,ye,be,me,Ee,Te,we,oe,se,he,Se,_e,Ae){this.gl=F,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=U,this.dirty=!0,this.triShader=V,this.lineShader=te,this.pointShader=Q,this.pickShader=J,this.pointPickShader=X,this.contourShader=K,this.trianglePositions=ee,this.triangleColors=ie,this.triangleNormals=ue,this.triangleUVs=ae,this.triangleIds=re,this.triangleVAO=pe,this.triangleCount=0,this.lineWidth=1,this.edgePositions=de,this.edgeColors=be,this.edgeUVs=me,this.edgeIds=ye,this.edgeVAO=Ee,this.edgeCount=0,this.pointPositions=Te,this.pointColors=oe,this.pointUVs=se,this.pointSizes=he,this.pointIds=we,this.pointVAO=Se,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=_e,this.contourVAO=Ae,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=O,this._view=O,this._projection=O,this._resolution=[1,1]}var I=P.prototype;function z(F,U){if(!U||!U.length)return 1;for(var V=0;V<U.length;++V){if(U.length<2)return 1;if(U[V][0]===F)return U[V][1];if(U[V][0]>F&&V>0){var te=(U[V][0]-F)/(U[V][0]-U[V-1][0]);return U[V][1]*(1-te)+te*U[V-1][1]}}return 1}function j(F){var U=i(F,f.vertex,f.fragment);return U.attributes.position.location=0,U.attributes.color.location=2,U.attributes.uv.location=3,U.attributes.pointSize.location=4,U}function R(F){var U=i(F,S.vertex,S.fragment);return U.attributes.position.location=0,U.attributes.id.location=1,U}function N(F){var U=i(F,T.vertex,T.fragment);return U.attributes.position.location=0,U.attributes.id.location=1,U.attributes.pointSize.location=4,U}function Z(F){var U=i(F,E.vertex,E.fragment);return U.attributes.position.location=0,U}I.isOpaque=function(){return!this.hasAlpha},I.isTransparent=function(){return this.hasAlpha},I.pickSlots=1,I.setPickBase=function(F){this.pickId=F},I.highlight=function(F){if(F&&this.contourEnable){for(var U=g(this.cells,this.intensity,F.intensity),V=U.cells,te=U.vertexIds,Q=U.vertexWeights,J=V.length,X=d.mallocFloat32(6*J),K=0,ee=0;ee<J;++ee)for(var re=V[ee],ie=0;ie<2;++ie){var ae=re[0];re.length===2&&(ae=re[ie]);for(var ue=te[ae][0],pe=te[ae][1],de=Q[ae],ye=1-de,be=this.positions[ue],me=this.positions[pe],Ee=0;Ee<3;++Ee)X[K++]=de*be[Ee]+ye*me[Ee]}this.contourCount=K/3|0,this.contourPositions.update(X.subarray(0,K)),d.free(X)}else this.contourCount=0},I.update=function(F){F=F||{};var U=this.gl;this.dirty=!0,"contourEnable"in F&&(this.contourEnable=F.contourEnable),"contourColor"in F&&(this.contourColor=F.contourColor),"lineWidth"in F&&(this.lineWidth=F.lineWidth),"lightPosition"in F&&(this.lightPosition=F.lightPosition),this.hasAlpha=!1,"opacity"in F&&(this.opacity=F.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in F&&(this.opacityscale=F.opacityscale,this.hasAlpha=!0),"ambient"in F&&(this.ambientLight=F.ambient),"diffuse"in F&&(this.diffuseLight=F.diffuse),"specular"in F&&(this.specularLight=F.specular),"roughness"in F&&(this.roughness=F.roughness),"fresnel"in F&&(this.fresnel=F.fresnel),F.texture?(this.texture.dispose(),this.texture=l(U,F.texture)):F.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=U.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=U.LINEAR,this.texture.setPixels(function(zt,Ft){for(var Pt=x({colormap:zt,nshades:256,format:"rgba"}),Ze=new Uint8Array(1024),Je=0;Je<256;++Je){for(var Ue=Pt[Je],Xe=0;Xe<3;++Xe)Ze[4*Je+Xe]=Ue[Xe];Ze[4*Je+3]=Ft?255*z(Je/255,Ft):255*Ue[3]}return c(Ze,[256,256,4],[4,0,1])}(F.colormap,this.opacityscale)),this.texture.generateMipmap());var V=F.cells,te=F.positions;if(te&&V){var Q=[],J=[],X=[],K=[],ee=[],re=[],ie=[],ae=[],ue=[],pe=[],de=[],ye=[],be=[],me=[];this.cells=V,this.positions=te;var Ee=F.vertexNormals,Te=F.cellNormals,we=F.vertexNormalsEpsilon===void 0?1e-6:F.vertexNormalsEpsilon,oe=F.faceNormalsEpsilon===void 0?1e-6:F.faceNormalsEpsilon;F.useFacetNormals&&!Te&&(Te=s.faceNormals(V,te,oe)),Te||Ee||(Ee=s.vertexNormals(V,te,we));var se=F.vertexColors,he=F.cellColors,Se=F.meshColor||[1,1,1,1],_e=F.vertexUVs,Ae=F.vertexIntensity,Ce=F.cellUVs,Re=F.cellIntensity,fe=1/0,xe=-1/0;if(!_e&&!Ce)if(Ae)if(F.vertexIntensityBounds)fe=+F.vertexIntensityBounds[0],xe=+F.vertexIntensityBounds[1];else for(var ke=0;ke<Ae.length;++ke){var Ie=Ae[ke];fe=Math.min(fe,Ie),xe=Math.max(xe,Ie)}else if(Re)if(F.cellIntensityBounds)fe=+F.cellIntensityBounds[0],xe=+F.cellIntensityBounds[1];else for(ke=0;ke<Re.length;++ke)Ie=Re[ke],fe=Math.min(fe,Ie),xe=Math.max(xe,Ie);else for(ke=0;ke<te.length;++ke)Ie=te[ke][2],fe=Math.min(fe,Ie),xe=Math.max(xe,Ie);this.intensity=Ae||Re||function(zt){for(var Ft=zt.length,Pt=new Array(Ft),Ze=0;Ze<Ft;++Ze)Pt[Ze]=zt[Ze][2];return Pt}(te),this.pickVertex=!(Re||he);var Fe=F.pointSizes,ze=F.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],ke=0;ke<te.length;++ke)for(var qe=te[ke],Ye=0;Ye<3;++Ye)!isNaN(qe[Ye])&&isFinite(qe[Ye])&&(this.bounds[0][Ye]=Math.min(this.bounds[0][Ye],qe[Ye]),this.bounds[1][Ye]=Math.max(this.bounds[1][Ye],qe[Ye]));var Qe=0,ft=0,ht=0;e:for(ke=0;ke<V.length;++ke){var mt=V[ke];switch(mt.length){case 1:for(qe=te[_t=mt[0]],Ye=0;Ye<3;++Ye)if(isNaN(qe[Ye])||!isFinite(qe[Ye]))continue e;pe.push(qe[0],qe[1],qe[2]),it=se?se[_t]:he?he[ke]:Se,this.opacityscale&&Ae?J.push(it[0],it[1],it[2],this.opacity*z((Ae[_t]-fe)/(xe-fe),this.opacityscale)):it.length===3?de.push(it[0],it[1],it[2],this.opacity):(de.push(it[0],it[1],it[2],it[3]*this.opacity),it[3]<1&&(this.hasAlpha=!0)),st=_e?_e[_t]:Ae?[(Ae[_t]-fe)/(xe-fe),0]:Ce?Ce[ke]:Re?[(Re[ke]-fe)/(xe-fe),0]:[(qe[2]-fe)/(xe-fe),0],ye.push(st[0],st[1]),Fe?be.push(Fe[_t]):be.push(ze),me.push(ke),ht+=1;break;case 2:for(Ye=0;Ye<2;++Ye){qe=te[_t=mt[Ye]];for(var Mt=0;Mt<3;++Mt)if(isNaN(qe[Mt])||!isFinite(qe[Mt]))continue e}for(Ye=0;Ye<2;++Ye)qe=te[_t=mt[Ye]],re.push(qe[0],qe[1],qe[2]),it=se?se[_t]:he?he[ke]:Se,this.opacityscale&&Ae?J.push(it[0],it[1],it[2],this.opacity*z((Ae[_t]-fe)/(xe-fe),this.opacityscale)):it.length===3?ie.push(it[0],it[1],it[2],this.opacity):(ie.push(it[0],it[1],it[2],it[3]*this.opacity),it[3]<1&&(this.hasAlpha=!0)),st=_e?_e[_t]:Ae?[(Ae[_t]-fe)/(xe-fe),0]:Ce?Ce[ke]:Re?[(Re[ke]-fe)/(xe-fe),0]:[(qe[2]-fe)/(xe-fe),0],ae.push(st[0],st[1]),ue.push(ke);ft+=1;break;case 3:for(Ye=0;Ye<3;++Ye)for(qe=te[_t=mt[Ye]],Mt=0;Mt<3;++Mt)if(isNaN(qe[Mt])||!isFinite(qe[Mt]))continue e;for(Ye=0;Ye<3;++Ye){var _t,it,st,St;qe=te[_t=mt[2-Ye]],Q.push(qe[0],qe[1],qe[2]),(it=se?se[_t]:he?he[ke]:Se)?this.opacityscale&&Ae?J.push(it[0],it[1],it[2],this.opacity*z((Ae[_t]-fe)/(xe-fe),this.opacityscale)):it.length===3?J.push(it[0],it[1],it[2],this.opacity):(J.push(it[0],it[1],it[2],it[3]*this.opacity),it[3]<1&&(this.hasAlpha=!0)):J.push(.5,.5,.5,1),st=_e?_e[_t]:Ae?[(Ae[_t]-fe)/(xe-fe),0]:Ce?Ce[ke]:Re?[(Re[ke]-fe)/(xe-fe),0]:[(qe[2]-fe)/(xe-fe),0],K.push(st[0],st[1]),St=Ee?Ee[_t]:Te[ke],X.push(St[0],St[1],St[2]),ee.push(ke)}Qe+=1}}this.pointCount=ht,this.edgeCount=ft,this.triangleCount=Qe,this.pointPositions.update(pe),this.pointColors.update(de),this.pointUVs.update(ye),this.pointSizes.update(be),this.pointIds.update(new Uint32Array(me)),this.edgePositions.update(re),this.edgeColors.update(ie),this.edgeUVs.update(ae),this.edgeIds.update(new Uint32Array(ue)),this.trianglePositions.update(Q),this.triangleColors.update(J),this.triangleUVs.update(K),this.triangleNormals.update(X),this.triangleIds.update(new Uint32Array(ee))}},I.drawTransparent=I.draw=function(F){F=F||{};for(var U=this.gl,V=F.model||O,te=F.view||O,Q=F.projection||O,J=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],X=0;X<3;++X)J[0][X]=Math.max(J[0][X],this.clipBounds[0][X]),J[1][X]=Math.min(J[1][X],this.clipBounds[1][X]);var K={model:V,view:te,projection:Q,inverseModel:O.slice(),clipBounds:J,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};K.inverseModel=p(K.inverseModel,K.model),U.disable(U.CULL_FACE),this.texture.bind(0);var ee=new Array(16);for(u(ee,K.view,K.model),u(ee,K.projection,ee),p(ee,ee),X=0;X<3;++X)K.eyePosition[X]=ee[12+X]/ee[15];var re,ie=ee[15];for(X=0;X<3;++X)ie+=this.lightPosition[X]*ee[4*X+3];for(X=0;X<3;++X){for(var ae=ee[12+X],ue=0;ue<3;++ue)ae+=ee[4*ue+X]*this.lightPosition[ue];K.lightPosition[X]=ae/ie}this.triangleCount>0&&((re=this.triShader).bind(),re.uniforms=K,this.triangleVAO.bind(),U.drawArrays(U.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((re=this.lineShader).bind(),re.uniforms=K,this.edgeVAO.bind(),U.lineWidth(this.lineWidth*this.pixelRatio),U.drawArrays(U.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((re=this.pointShader).bind(),re.uniforms=K,this.pointVAO.bind(),U.drawArrays(U.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((re=this.contourShader).bind(),re.uniforms=K,this.contourVAO.bind(),U.drawArrays(U.LINES,0,this.contourCount),this.contourVAO.unbind())},I.drawPick=function(F){F=F||{};for(var U=this.gl,V=F.model||O,te=F.view||O,Q=F.projection||O,J=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],X=0;X<3;++X)J[0][X]=Math.max(J[0][X],this.clipBounds[0][X]),J[1][X]=Math.min(J[1][X],this.clipBounds[1][X]);this._model=[].slice.call(V),this._view=[].slice.call(te),this._projection=[].slice.call(Q),this._resolution=[U.drawingBufferWidth,U.drawingBufferHeight];var K,ee={model:V,view:te,projection:Q,clipBounds:J,pickId:this.pickId/255};(K=this.pickShader).bind(),K.uniforms=ee,this.triangleCount>0&&(this.triangleVAO.bind(),U.drawArrays(U.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),U.lineWidth(this.lineWidth*this.pixelRatio),U.drawArrays(U.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((K=this.pointPickShader).bind(),K.uniforms=ee,this.pointVAO.bind(),U.drawArrays(U.POINTS,0,this.pointCount),this.pointVAO.unbind())},I.pick=function(F){if(!F||F.id!==this.pickId)return null;for(var U=F.value[0]+256*F.value[1]+65536*F.value[2],V=this.cells[U],te=this.positions,Q=new Array(V.length),J=0;J<V.length;++J)Q[J]=te[V[J]];var X=F.coord[0],K=F.coord[1];if(!this.pickVertex){var ee=this.positions[V[0]],re=this.positions[V[1]],ie=this.positions[V[2]],ae=[(ee[0]+re[0]+ie[0])/3,(ee[1]+re[1]+ie[1])/3,(ee[2]+re[2]+ie[2])/3];return{_cellCenter:!0,position:[X,K],index:U,cell:V,cellId:U,intensity:this.intensity[U],dataCoordinate:ae}}var ue=y(Q,[X*this.pixelRatio,this._resolution[1]-K*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!ue)return null;var pe=ue[2],de=0;for(J=0;J<V.length;++J)de+=pe[J]*this.intensity[V[J]];return{position:ue[1],index:V[ue[0]],cell:V,cellId:U,intensity:de,dataCoordinate:this.positions[V[ue[0]]]}},I.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},h.exports=function(F,U){if(arguments.length===1&&(F=(U=F).gl),!(F.getExtension("OES_standard_derivatives")||F.getExtension("MOZ_OES_standard_derivatives")||F.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var V=function(Re){var fe=i(Re,m.vertex,m.fragment);return fe.attributes.position.location=0,fe.attributes.color.location=2,fe.attributes.uv.location=3,fe.attributes.normal.location=4,fe}(F),te=function(Re){var fe=i(Re,w.vertex,w.fragment);return fe.attributes.position.location=0,fe.attributes.color.location=2,fe.attributes.uv.location=3,fe}(F),Q=j(F),J=R(F),X=N(F),K=Z(F),ee=l(F,c(new Uint8Array([255,255,255,255]),[1,1,4]));ee.generateMipmap(),ee.minFilter=F.LINEAR_MIPMAP_LINEAR,ee.magFilter=F.LINEAR;var re=n(F),ie=n(F),ae=n(F),ue=n(F),pe=n(F),de=r(F,[{buffer:re,type:F.FLOAT,size:3},{buffer:pe,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ie,type:F.FLOAT,size:4},{buffer:ae,type:F.FLOAT,size:2},{buffer:ue,type:F.FLOAT,size:3}]),ye=n(F),be=n(F),me=n(F),Ee=n(F),Te=r(F,[{buffer:ye,type:F.FLOAT,size:3},{buffer:Ee,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:be,type:F.FLOAT,size:4},{buffer:me,type:F.FLOAT,size:2}]),we=n(F),oe=n(F),se=n(F),he=n(F),Se=n(F),_e=r(F,[{buffer:we,type:F.FLOAT,size:3},{buffer:Se,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:oe,type:F.FLOAT,size:4},{buffer:se,type:F.FLOAT,size:2},{buffer:he,type:F.FLOAT,size:1}]),Ae=n(F),Ce=new P(F,ee,V,te,Q,J,X,K,re,pe,ie,ae,ue,de,ye,Ee,be,me,Te,we,Se,oe,se,he,_e,Ae,r(F,[{buffer:Ae,type:F.FLOAT,size:3}]));return Ce.update(U),Ce}},4554:function(h,o,t){h.exports=function(c){var x=c.gl;return new l(c,i(x,[0,0,0,1,1,0,1,1]),n(x,r.boxVert,r.lineFrag))};var i=t(5827),n=t(5158),r=t(2709);function l(c,x,g){this.plot=c,this.vbo=x,this.shader=g}var s,u,p=l.prototype;p.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},p.drawBox=(s=[0,0],u=[0,0],function(c,x,g,d,v){var y=this.plot,m=this.shader,w=y.gl;s[0]=c,s[1]=x,u[0]=g,u[1]=d,m.uniforms.lo=s,m.uniforms.hi=u,m.uniforms.color=v,w.drawArrays(w.TRIANGLE_STRIP,0,4)}),p.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3016:function(h,o,t){h.exports=function(y){var m=y.gl;return new s(y,i(m),n(m,l.gridVert,l.gridFrag),n(m,l.tickVert,l.gridFrag))};var i=t(5827),n=t(5158),r=t(5070),l=t(2709);function s(y,m,w,f){this.plot=y,this.vbo=m,this.shader=w,this.tickShader=f,this.ticks=[[],[]]}function u(y,m){return y-m}var p,c,x,g,d,v=s.prototype;v.draw=(p=[0,0],c=[0,0],x=[0,0],function(){for(var y=this.plot,m=this.vbo,w=this.shader,f=this.ticks,S=y.gl,T=y._tickBounds,E=y.dataBox,O=y.viewBox,P=y.gridLineWidth,I=y.gridLineColor,z=y.gridLineEnable,j=y.pixelRatio,R=0;R<2;++R){var N=T[R],Z=T[R+2]-N,F=.5*(E[R+2]+E[R]),U=E[R+2]-E[R];c[R]=2*Z/U,p[R]=2*(N-F)/U}w.bind(),m.bind(),w.attributes.dataCoord.pointer(),w.uniforms.dataShift=p,w.uniforms.dataScale=c;var V=0;for(R=0;R<2;++R){x[0]=x[1]=0,x[R]=1,w.uniforms.dataAxis=x,w.uniforms.lineWidth=P[R]/(O[R+2]-O[R])*j,w.uniforms.color=I[R];var te=6*f[R].length;z[R]&&te&&S.drawArrays(S.TRIANGLES,V,te),V+=te}}),v.drawTickMarks=function(){var y=[0,0],m=[0,0],w=[1,0],f=[0,1],S=[0,0],T=[0,0];return function(){for(var E=this.plot,O=this.vbo,P=this.tickShader,I=this.ticks,z=E.gl,j=E._tickBounds,R=E.dataBox,N=E.viewBox,Z=E.pixelRatio,F=E.screenBox,U=F[2]-F[0],V=F[3]-F[1],te=N[2]-N[0],Q=N[3]-N[1],J=0;J<2;++J){var X=j[J],K=j[J+2]-X,ee=.5*(R[J+2]+R[J]),re=R[J+2]-R[J];m[J]=2*K/re,y[J]=2*(X-ee)/re}m[0]*=te/U,y[0]*=te/U,m[1]*=Q/V,y[1]*=Q/V,P.bind(),O.bind(),P.attributes.dataCoord.pointer();var ie=P.uniforms;ie.dataShift=y,ie.dataScale=m;var ae=E.tickMarkLength,ue=E.tickMarkWidth,pe=E.tickMarkColor,de=6*I[0].length,ye=Math.min(r.ge(I[0],(R[0]-j[0])/(j[2]-j[0]),u),I[0].length),be=Math.min(r.gt(I[0],(R[2]-j[0])/(j[2]-j[0]),u),I[0].length),me=0+6*ye,Ee=6*Math.max(0,be-ye),Te=Math.min(r.ge(I[1],(R[1]-j[1])/(j[3]-j[1]),u),I[1].length),we=Math.min(r.gt(I[1],(R[3]-j[1])/(j[3]-j[1]),u),I[1].length),oe=de+6*Te,se=6*Math.max(0,we-Te);S[0]=2*(N[0]-ae[1])/U-1,S[1]=(N[3]+N[1])/V-1,T[0]=ae[1]*Z/U,T[1]=ue[1]*Z/V,se&&(ie.color=pe[1],ie.tickScale=T,ie.dataAxis=f,ie.screenOffset=S,z.drawArrays(z.TRIANGLES,oe,se)),S[0]=(N[2]+N[0])/U-1,S[1]=2*(N[1]-ae[0])/V-1,T[0]=ue[0]*Z/U,T[1]=ae[0]*Z/V,Ee&&(ie.color=pe[0],ie.tickScale=T,ie.dataAxis=w,ie.screenOffset=S,z.drawArrays(z.TRIANGLES,me,Ee)),S[0]=2*(N[2]+ae[3])/U-1,S[1]=(N[3]+N[1])/V-1,T[0]=ae[3]*Z/U,T[1]=ue[3]*Z/V,se&&(ie.color=pe[3],ie.tickScale=T,ie.dataAxis=f,ie.screenOffset=S,z.drawArrays(z.TRIANGLES,oe,se)),S[0]=(N[2]+N[0])/U-1,S[1]=2*(N[3]+ae[2])/V-1,T[0]=ue[2]*Z/U,T[1]=ae[2]*Z/V,Ee&&(ie.color=pe[2],ie.tickScale=T,ie.dataAxis=w,ie.screenOffset=S,z.drawArrays(z.TRIANGLES,me,Ee))}}(),v.update=(g=[1,1,-1,-1,1,-1],d=[1,-1,1,1,-1,-1],function(y){for(var m=y.ticks,w=y.bounds,f=new Float32Array(18*(m[0].length+m[1].length)),S=(this.plot.zeroLineEnable,0),T=[[],[]],E=0;E<2;++E)for(var O=T[E],P=m[E],I=w[E],z=w[E+2],j=0;j<P.length;++j){var R=(P[j].x-I)/(z-I);O.push(R);for(var N=0;N<6;++N)f[S++]=R,f[S++]=g[N],f[S++]=d[N]}this.ticks=T,this.vbo.update(f)}),v.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},1154:function(h,o,t){h.exports=function(c){var x=c.gl;return new l(c,i(x,[-1,-1,-1,1,1,-1,1,1]),n(x,r.lineVert,r.lineFrag))};var i=t(5827),n=t(5158),r=t(2709);function l(c,x,g){this.plot=c,this.vbo=x,this.shader=g}var s,u,p=l.prototype;p.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},p.drawLine=(s=[0,0],u=[0,0],function(c,x,g,d,v,y){var m=this.plot,w=this.shader,f=m.gl;s[0]=c,s[1]=x,u[0]=g,u[1]=d,w.uniforms.start=s,w.uniforms.end=u,w.uniforms.width=v*m.pixelRatio,w.uniforms.color=y,f.drawArrays(f.TRIANGLE_STRIP,0,4)}),p.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2709:function(h,o,t){var i=t(6832),n=i([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);h.exports={lineVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:n,textVert:i([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:n,gridVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:n,boxVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(h,o,t){h.exports=function(m){var w=m.gl;return new u(m,i(w),n(w,s.textVert,s.textFrag))};var i=t(5827),n=t(5158),r=t(6946),l=t(5070),s=t(2709);function u(m,w,f){this.plot=m,this.vbo=w,this.shader=f,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var p,c,x,g,d,v,y=u.prototype;y.drawTicks=(p=[0,0],c=[0,0],x=[0,0],function(m){var w=this.plot,f=this.shader,S=this.tickX[m],T=this.tickOffset[m],E=w.gl,O=w.viewBox,P=w.dataBox,I=w.screenBox,z=w.pixelRatio,j=w.tickEnable,R=w.tickPad,N=w.tickColor,Z=w.tickAngle,F=w.labelEnable,U=w.labelPad,V=w.labelColor,te=w.labelAngle,Q=this.labelOffset[m],J=this.labelCount[m],X=l.lt(S,P[m]),K=l.le(S,P[m+2]);p[0]=p[1]=0,p[m]=1,c[m]=(O[2+m]+O[m])/(I[2+m]-I[m])-1;var ee=2/I[2+(1^m)]-I[1^m];c[1^m]=ee*O[1^m]-1,j[m]&&(c[1^m]-=ee*z*R[m],X<K&&T[K]>T[X]&&(f.uniforms.dataAxis=p,f.uniforms.screenOffset=c,f.uniforms.color=N[m],f.uniforms.angle=Z[m],E.drawArrays(E.TRIANGLES,T[X],T[K]-T[X]))),F[m]&&J&&(c[1^m]-=ee*z*U[m],f.uniforms.dataAxis=x,f.uniforms.screenOffset=c,f.uniforms.color=V[m],f.uniforms.angle=te[m],E.drawArrays(E.TRIANGLES,Q,J)),c[1^m]=ee*O[2+(1^m)]-1,j[m+2]&&(c[1^m]+=ee*z*R[m+2],X<K&&T[K]>T[X]&&(f.uniforms.dataAxis=p,f.uniforms.screenOffset=c,f.uniforms.color=N[m+2],f.uniforms.angle=Z[m+2],E.drawArrays(E.TRIANGLES,T[X],T[K]-T[X]))),F[m+2]&&J&&(c[1^m]+=ee*z*U[m+2],f.uniforms.dataAxis=x,f.uniforms.screenOffset=c,f.uniforms.color=V[m+2],f.uniforms.angle=te[m+2],E.drawArrays(E.TRIANGLES,Q,J))}),y.drawTitle=function(){var m=[0,0],w=[0,0];return function(){var f=this.plot,S=this.shader,T=f.gl,E=f.screenBox,O=f.titleCenter,P=f.titleAngle,I=f.titleColor,z=f.pixelRatio;if(this.titleCount){for(var j=0;j<2;++j)w[j]=2*(O[j]*z-E[j])/(E[2+j]-E[j])-1;S.bind(),S.uniforms.dataAxis=m,S.uniforms.screenOffset=w,S.uniforms.angle=P,S.uniforms.color=I,T.drawArrays(T.TRIANGLES,this.titleOffset,this.titleCount)}}}(),y.bind=(g=[0,0],d=[0,0],v=[0,0],function(){var m=this.plot,w=this.shader,f=m._tickBounds,S=m.dataBox,T=m.screenBox,E=m.viewBox;w.bind();for(var O=0;O<2;++O){var P=f[O],I=f[O+2]-P,z=.5*(S[O+2]+S[O]),j=S[O+2]-S[O],R=E[O],N=E[O+2]-R,Z=T[O],F=T[O+2]-Z;d[O]=2*I/j*N/F,g[O]=2*(P-z)/j*N/F}v[1]=2*m.pixelRatio/(T[3]-T[1]),v[0]=v[1]*(T[3]-T[1])/(T[2]-T[0]),w.uniforms.dataScale=d,w.uniforms.dataShift=g,w.uniforms.textScale=v,this.vbo.bind(),w.attributes.textCoordinate.pointer()}),y.update=function(m){var w,f,S,T,E,O=[],P=m.ticks,I=m.bounds;for(E=0;E<2;++E){var z=[Math.floor(O.length/3)],j=[-1/0],R=P[E];for(w=0;w<R.length;++w){var N=R[w],Z=N.x,F=N.text,U=N.font||"sans-serif";T=N.fontSize||12;for(var V=1/(I[E+2]-I[E]),te=I[E],Q=F.split(`
`),J=0;J<Q.length;J++)for(S=r(U,Q[J]).data,f=0;f<S.length;f+=2)O.push(S[f]*T,-S[f+1]*T-J*T*1.2,(Z-te)*V);z.push(Math.floor(O.length/3)),j.push(Z)}this.tickOffset[E]=z,this.tickX[E]=j}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(O.length/3),S=r(m.labelFont[E],m.labels[E],{textAlign:"center"}).data,T=m.labelSize[E],w=0;w<S.length;w+=2)O.push(S[w]*T,-S[w+1]*T,0);this.labelCount[E]=Math.floor(O.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(O.length/3),S=r(m.titleFont,m.title).data,T=m.titleSize,w=0;w<S.length;w+=2)O.push(S[w]*T,-S[w+1]*T,0);this.titleCount=Math.floor(O.length/3)-this.titleOffset,this.vbo.update(O)},y.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2117:function(h,o,t){h.exports=function(g){var d=g.gl,v=new u(d,i(d,[d.drawingBufferWidth,d.drawingBufferHeight]));return v.grid=n(v),v.text=r(v),v.line=l(v),v.box=s(v),v.update(g),v};var i=t(2611),n=t(3016),r=t(5613),l=t(1154),s=t(4554);function u(g,d){this.gl=g,this.pickBuffer=d,this.screenBox=[0,0,g.drawingBufferWidth,g.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var p=u.prototype;function c(g){for(var d=g.slice(),v=0;v<d.length;++v)d[v]=d[v].slice();return d}function x(g,d){return g.x-d.x}p.setDirty=function(){this.dirty=this.pickDirty=!0},p.setOverlayDirty=function(){this.dirty=!0},p.nextDepthValue=function(){return this._depthCounter++/65536},p.draw=function(){var g=this.gl,d=this.screenBox,v=this.viewBox,y=this.dataBox,m=this.pixelRatio,w=this.grid,f=this.line,S=this.text,T=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,g.bindFramebuffer(g.FRAMEBUFFER,null),g.enable(g.SCISSOR_TEST),g.disable(g.DEPTH_TEST),g.depthFunc(g.LESS),g.depthMask(!1),g.enable(g.BLEND),g.blendEquation(g.FUNC_ADD,g.FUNC_ADD),g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA),this.borderColor){g.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var E=this.borderColor;g.clearColor(E[0]*E[3],E[1]*E[3],E[2]*E[3],E[3]),g.clear(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT)}g.scissor(v[0],v[1],v[2]-v[0],v[3]-v[1]),g.viewport(v[0],v[1],v[2]-v[0],v[3]-v[1]);var O=this.backgroundColor;g.clearColor(O[0]*O[3],O[1]*O[3],O[2]*O[3],O[3]),g.clear(g.COLOR_BUFFER_BIT),w.draw();var P=this.zeroLineEnable,I=this.zeroLineColor,z=this.zeroLineWidth;if(P[0]||P[1]){f.bind();for(var j=0;j<2;++j)if(P[j]&&y[j]<=0&&y[j+2]>=0){var R=d[j]-y[j]*(d[j+2]-d[j])/(y[j+2]-y[j]);j===0?f.drawLine(R,d[1],R,d[3],z[j],I[j]):f.drawLine(d[0],R,d[2],R,z[j],I[j])}}for(j=0;j<T.length;++j)T[j].draw();g.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),g.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),f.bind();var N=this.borderLineEnable,Z=this.borderLineWidth,F=this.borderLineColor;for(N[1]&&f.drawLine(v[0],v[1]-.5*Z[1]*m,v[0],v[3]+.5*Z[3]*m,Z[1],F[1]),N[0]&&f.drawLine(v[0]-.5*Z[0]*m,v[1],v[2]+.5*Z[2]*m,v[1],Z[0],F[0]),N[3]&&f.drawLine(v[2],v[1]-.5*Z[1]*m,v[2],v[3]+.5*Z[3]*m,Z[3],F[3]),N[2]&&f.drawLine(v[0]-.5*Z[0]*m,v[3],v[2]+.5*Z[2]*m,v[3],Z[2],F[2]),S.bind(),j=0;j<2;++j)S.drawTicks(j);this.titleEnable&&S.drawTitle();var U=this.overlays;for(j=0;j<U.length;++j)U[j].draw();g.disable(g.SCISSOR_TEST),g.disable(g.BLEND),g.depthMask(!0)}},p.drawPick=function(){if(!this.static){var g=this.pickBuffer;this.gl,this._pickTimeout=null,g.begin();for(var d=1,v=this.objects,y=0;y<v.length;++y)d=v[y].drawPick(d);g.end()}},p.pick=function(g,d){if(!this.static){var v=this.pixelRatio,y=this.pickPixelRatio,m=this.viewBox,w=0|Math.round((g-m[0]/v)*y),f=0|Math.round((d-m[1]/v)*y),S=this.pickBuffer.query(w,f,this.pickRadius);if(!S)return null;for(var T=S.id+(S.value[0]<<8)+(S.value[1]<<16)+(S.value[2]<<24),E=this.objects,O=0;O<E.length;++O){var P=E[O].pick(w,f,T);if(P)return P}return null}},p.setScreenBox=function(g){var d=this.screenBox,v=this.pixelRatio;d[0]=0|Math.round(g[0]*v),d[1]=0|Math.round(g[1]*v),d[2]=0|Math.round(g[2]*v),d[3]=0|Math.round(g[3]*v),this.setDirty()},p.setDataBox=function(g){var d=this.dataBox;(d[0]!==g[0]||d[1]!==g[1]||d[2]!==g[2]||d[3]!==g[3])&&(d[0]=g[0],d[1]=g[1],d[2]=g[2],d[3]=g[3],this.setDirty())},p.setViewBox=function(g){var d=this.pixelRatio,v=this.viewBox;v[0]=0|Math.round(g[0]*d),v[1]=0|Math.round(g[1]*d),v[2]=0|Math.round(g[2]*d),v[3]=0|Math.round(g[3]*d);var y=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((g[2]-g[0])*y),0|Math.round((g[3]-g[1])*y)],this.setDirty()},p.update=function(g){g=g||{};var d=this.gl;this.pixelRatio=g.pixelRatio||1;var v=this.pixelRatio;this.pickPixelRatio=Math.max(v,1),this.setScreenBox(g.screenBox||[0,0,d.drawingBufferWidth/v,d.drawingBufferHeight/v]),this.screenBox,this.setViewBox(g.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/v,.125*(this.screenBox[3]-this.screenBox[1])/v,.875*(this.screenBox[2]-this.screenBox[0])/v,.875*(this.screenBox[3]-this.screenBox[1])/v]);var y=this.viewBox,m=(y[2]-y[0])/(y[3]-y[1]);this.setDataBox(g.dataBox||[-10,-10/m,10,10/m]),this.borderColor=g.borderColor!==!1&&(g.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(g.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(g.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(g.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(g.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(g.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(g.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(g.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(g.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(g.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(g.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(g.titleCenter||[.5*(y[0]+y[2])/v,(y[3]+120)/v]).slice(),this.titleEnable=!("titleEnable"in g)||!!g.titleEnable,this.titleAngle=g.titleAngle||0,this.titleColor=(g.titleColor||[0,0,0,1]).slice(),this.labelPad=(g.labelPad||[15,15,15,15]).slice(),this.labelAngle=(g.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(g.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(g.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(g.tickPad||[15,15,15,15]).slice(),this.tickAngle=(g.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(g.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(g.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(g.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(g.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(g.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var w=g.ticks||[[],[]],f=this._tickBounds;f[0]=f[1]=1/0,f[2]=f[3]=-1/0;for(var S=0;S<2;++S){var T=w[S].slice(0);T.length!==0&&(T.sort(x),f[S]=Math.min(f[S],T[0].x),f[S+2]=Math.max(f[S+2],T[T.length-1].x))}this.grid.update({bounds:f,ticks:w}),this.text.update({bounds:f,ticks:w,labels:g.labels||["x","y"],labelSize:g.labelSize||[12,12],labelFont:g.labelFont||["sans-serif","sans-serif"],title:g.title||"",titleSize:g.titleSize||18,titleFont:g.titleFont||"sans-serif"}),this.static=!!g.static,this.setDirty()},p.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var g=this.objects.length-1;g>=0;--g)this.objects[g].dispose();for(this.objects.length=0,g=this.overlays.length-1;g>=0;--g)this.overlays[g].dispose();this.overlays.length=0,this.gl=null},p.addObject=function(g){this.objects.indexOf(g)<0&&(this.objects.push(g),this.setDirty())},p.removeObject=function(g){for(var d=this.objects,v=0;v<d.length;++v)if(d[v]===g){d.splice(v,1),this.setDirty();break}},p.addOverlay=function(g){this.overlays.indexOf(g)<0&&(this.overlays.push(g),this.setOverlayDirty())},p.removeOverlay=function(g){for(var d=this.overlays,v=0;v<d.length;++v)if(d[v]===g){d.splice(v,1),this.setOverlayDirty();break}}},4296:function(h,o,t){h.exports=function(p,c){p=p||document.body;var x=[.01,1/0];"distanceLimits"in(c=c||{})&&(x[0]=c.distanceLimits[0],x[1]=c.distanceLimits[1]),"zoomMin"in c&&(x[0]=c.zoomMin),"zoomMax"in c&&(x[1]=c.zoomMax);var g=n({center:c.center||[0,0,0],up:c.up||[0,1,0],eye:c.eye||[0,0,10],mode:c.mode||"orbit",distanceLimits:x}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v=0,y=p.clientWidth,m=p.clientHeight,w={keyBindingMode:"rotate",enableWheel:!0,view:g,element:p,delay:c.delay||16,rotateSpeed:c.rotateSpeed||1,zoomSpeed:c.zoomSpeed||1,translateSpeed:c.translateSpeed||1,flipX:!!c.flipX,flipY:!!c.flipY,modes:g.modes,_ortho:c._ortho||c.projection&&c.projection.type==="orthographic"||!1,tick:function(){var f=i(),S=this.delay,T=f-2*S;g.idle(f-S),g.recalcMatrix(T),g.flush(f-(100+2*S));for(var E=!0,O=g.computedMatrix,P=0;P<16;++P)E=E&&d[P]===O[P],d[P]=O[P];var I=p.clientWidth===y&&p.clientHeight===m;return y=p.clientWidth,m=p.clientHeight,E?!I:(v=Math.exp(g.computedRadius[0]),!0)},lookAt:function(f,S,T){g.lookAt(g.lastT(),f,S,T)},rotate:function(f,S,T){g.rotate(g.lastT(),f,S,T)},pan:function(f,S,T){g.pan(g.lastT(),f,S,T)},translate:function(f,S,T){g.translate(g.lastT(),f,S,T)}};return Object.defineProperties(w,{matrix:{get:function(){return g.computedMatrix},set:function(f){return g.setMatrix(g.lastT(),f),g.computedMatrix},enumerable:!0},mode:{get:function(){return g.getMode()},set:function(f){var S=g.computedUp.slice(),T=g.computedEye.slice(),E=g.computedCenter.slice();if(g.setMode(f),f==="turntable"){var O=i();g._active.lookAt(O,T,E,S),g._active.lookAt(O+500,T,E,[0,0,1]),g._active.flush(O)}return g.getMode()},enumerable:!0},center:{get:function(){return g.computedCenter},set:function(f){return g.lookAt(g.lastT(),null,f),g.computedCenter},enumerable:!0},eye:{get:function(){return g.computedEye},set:function(f){return g.lookAt(g.lastT(),f),g.computedEye},enumerable:!0},up:{get:function(){return g.computedUp},set:function(f){return g.lookAt(g.lastT(),null,null,f),g.computedUp},enumerable:!0},distance:{get:function(){return v},set:function(f){return g.setDistance(g.lastT(),f),f},enumerable:!0},distanceLimits:{get:function(){return g.getDistanceLimits(x)},set:function(f){return g.setDistanceLimits(f),f},enumerable:!0}}),p.addEventListener("contextmenu",function(f){return f.preventDefault(),!1}),w._lastX=-1,w._lastY=-1,w._lastMods={shift:!1,control:!1,alt:!1,meta:!1},w.enableMouseListeners=function(){function f(S,T,E,O){var P=w.keyBindingMode;if(P!==!1){var I=P==="rotate",z=P==="pan",j=P==="zoom",R=!!O.control,N=!!O.alt,Z=!!O.shift,F=!!(1&S),U=!!(2&S),V=!!(4&S),te=1/p.clientHeight,Q=te*(T-w._lastX),J=te*(E-w._lastY),X=w.flipX?1:-1,K=w.flipY?1:-1,ee=Math.PI*w.rotateSpeed,re=i();if(w._lastX!==-1&&w._lastY!==-1&&((I&&F&&!R&&!N&&!Z||F&&!R&&!N&&Z)&&g.rotate(re,X*ee*Q,-K*ee*J,0),(z&&F&&!R&&!N&&!Z||U||F&&R&&!N&&!Z)&&g.pan(re,-w.translateSpeed*Q*v,w.translateSpeed*J*v,0),j&&F&&!R&&!N&&!Z||V||F&&!R&&N&&!Z)){var ie=-w.zoomSpeed*J/window.innerHeight*(re-g.lastT())*100;g.pan(re,0,0,v*(Math.exp(ie)-1))}return w._lastX=T,w._lastY=E,w._lastMods=O,!0}}w.mouseListener=r(p,f),p.addEventListener("touchstart",function(S){var T=s(S.changedTouches[0],p);f(0,T[0],T[1],w._lastMods),f(1,T[0],T[1],w._lastMods)},!!u&&{passive:!0}),p.addEventListener("touchmove",function(S){var T=s(S.changedTouches[0],p);f(1,T[0],T[1],w._lastMods),S.preventDefault()},!!u&&{passive:!1}),p.addEventListener("touchend",function(S){f(0,w._lastX,w._lastY,w._lastMods)},!!u&&{passive:!0}),w.wheelListener=l(p,function(S,T){if(w.keyBindingMode!==!1&&w.enableWheel){var E=w.flipX?1:-1,O=w.flipY?1:-1,P=i();if(Math.abs(S)>Math.abs(T))g.rotate(P,0,0,-S*E*Math.PI*w.rotateSpeed/window.innerWidth);else if(!w._ortho){var I=-w.zoomSpeed*O*T/window.innerHeight*(P-g.lastT())/20;g.pan(P,0,0,v*(Math.exp(I)-1))}}},!0)},w.enableMouseListeners(),w};var i=t(8161),n=t(1152),r=t(6145),l=t(6475),s=t(2565),u=t(5233)},8245:function(h,o,t){var i=t(6832),n=t(5158),r=i([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),l=i([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);h.exports=function(s){return n(s,r,l,null,[{name:"position",type:"vec2"}])}},1059:function(h,o,t){var i=t(4296),n=t(7453),r=t(2771),l=t(6496),s=t(2611),u=t(4234),p=t(8126),c=t(6145),x=t(1120),g=t(5268),d=t(8245),v=t(2321)({tablet:!0,featureDetect:!0});function y(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function m(f){var S=Math.round(Math.log(Math.abs(f))/Math.log(10));if(S<0){var T=Math.round(Math.pow(10,-S));return Math.ceil(f*T)/T}return S>0?(T=Math.round(Math.pow(10,S)),Math.ceil(f/T)*T):Math.ceil(f)}function w(f){return typeof f!="boolean"||f}h.exports={createScene:function(f){(f=f||{}).camera=f.camera||{};var S=f.canvas;S||(S=document.createElement("canvas"),f.container?f.container.appendChild(S):document.body.appendChild(S));var T=f.gl;if(T||(f.glOptions&&(v=!!f.glOptions.preserveDrawingBuffer),T=function(Ee,Te){var we=null;try{(we=Ee.getContext("webgl",Te))||(we=Ee.getContext("experimental-webgl",Te))}catch{return null}return we}(S,f.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:v})),!T)throw new Error("webgl not supported");var E=f.bounds||[[-10,-10,-10],[10,10,10]],O=new y,P=u(T,T.drawingBufferWidth,T.drawingBufferHeight,{preferFloat:!v}),I=d(T),z=f.cameraObject&&f.cameraObject._ortho===!0||f.camera.projection&&f.camera.projection.type==="orthographic"||!1,j={eye:f.camera.eye||[2,0,0],center:f.camera.center||[0,0,0],up:f.camera.up||[0,1,0],zoomMin:f.camera.zoomMax||.1,zoomMax:f.camera.zoomMin||100,mode:f.camera.mode||"turntable",_ortho:z},R=f.axes||{},N=n(T,R);N.enable=!R.disable;var Z=f.spikes||{},F=l(T,Z),U=[],V=[],te=[],Q=[],J=!0,X=!0,K={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},ee=(X=!0,[T.drawingBufferWidth,T.drawingBufferHeight]),re=f.cameraObject||i(S,j),ie={gl:T,contextLost:!1,pixelRatio:f.pixelRatio||1,canvas:S,selection:O,camera:re,axes:N,axesPixels:null,spikes:F,bounds:E,objects:U,shape:ee,aspect:f.aspectRatio||[1,1,1],pickRadius:f.pickRadius||10,zNear:f.zNear||.01,zFar:f.zFar||1e3,fovy:f.fovy||Math.PI/4,clearColor:f.clearColor||[0,0,0,0],autoResize:w(f.autoResize),autoBounds:w(f.autoBounds),autoScale:!!f.autoScale,autoCenter:w(f.autoCenter),clipToBounds:w(f.clipToBounds),snapToData:!!f.snapToData,onselect:f.onselect||null,onrender:f.onrender||null,onclick:f.onclick||null,cameraParams:K,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ee){this.aspect[0]=Ee.x,this.aspect[1]=Ee.y,this.aspect[2]=Ee.z,X=!0},setBounds:function(Ee,Te){this.bounds[0][Ee]=Te.min,this.bounds[1][Ee]=Te.max},setClearColor:function(Ee){this.clearColor=Ee},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},ae=[T.drawingBufferWidth/ie.pixelRatio|0,T.drawingBufferHeight/ie.pixelRatio|0];function ue(){if(!ie._stopped&&ie.autoResize){var Ee=S.parentNode,Te=1,we=1;Ee&&Ee!==document.body?(Te=Ee.clientWidth,we=Ee.clientHeight):(Te=window.innerWidth,we=window.innerHeight);var oe=0|Math.ceil(Te*ie.pixelRatio),se=0|Math.ceil(we*ie.pixelRatio);if(oe!==S.width||se!==S.height){S.width=oe,S.height=se;var he=S.style;he.position=he.position||"absolute",he.left="0px",he.top="0px",he.width=Te+"px",he.height=we+"px",J=!0}}}function pe(){for(var Ee=U.length,Te=Q.length,we=0;we<Te;++we)te[we]=0;e:for(we=0;we<Ee;++we){var oe=U[we],se=oe.pickSlots;if(se){for(var he=0;he<Te;++he)if(te[he]+se<255){V[we]=he,oe.setPickBase(te[he]+1),te[he]+=se;continue e}var Se=s(T,ee);V[we]=Te,Q.push(Se),te.push(se),oe.setPickBase(1),Te+=1}else V[we]=-1}for(;Te>0&&te[Te-1]===0;)te.pop(),Q.pop().dispose()}function de(){if(ie.contextLost)return!0;T.isContextLost()&&(ie.contextLost=!0,ie.mouseListener.enabled=!1,ie.selection.object=null,ie.oncontextloss&&ie.oncontextloss())}ie.autoResize&&ue(),window.addEventListener("resize",ue),ie.update=function(Ee){ie._stopped||(J=!0,X=!0)},ie.add=function(Ee){ie._stopped||(Ee.axes=N,U.push(Ee),V.push(-1),J=!0,X=!0,pe())},ie.remove=function(Ee){if(!ie._stopped){var Te=U.indexOf(Ee);Te<0||(U.splice(Te,1),V.pop(),J=!0,X=!0,pe())}},ie.dispose=function(){if(!ie._stopped&&(ie._stopped=!0,window.removeEventListener("resize",ue),S.removeEventListener("webglcontextlost",de),ie.mouseListener.enabled=!1,!ie.contextLost)){N.dispose(),F.dispose();for(var Ee=0;Ee<U.length;++Ee)U[Ee].dispose();for(P.dispose(),Ee=0;Ee<Q.length;++Ee)Q[Ee].dispose();I.dispose(),T=null,N=null,F=null,U=[]}},ie._mouseRotating=!1,ie._prevButtons=0,ie.enableMouseListeners=function(){ie.mouseListener=c(S,function(Ee,Te,we){if(!ie._stopped){var oe=Q.length,se=U.length,he=O.object;O.distance=1/0,O.mouse[0]=Te,O.mouse[1]=we,O.object=null,O.screen=null,O.dataCoordinate=O.dataPosition=null;var Se=!1;if(Ee&&ie._prevButtons)ie._mouseRotating=!0;else{ie._mouseRotating&&(X=!0),ie._mouseRotating=!1;for(var _e=0;_e<oe;++_e){var Ae=Q[_e].query(Te,ae[1]-we-1,ie.pickRadius);if(Ae){if(Ae.distance>O.distance)continue;for(var Ce=0;Ce<se;++Ce){var Re=U[Ce];if(V[Ce]===_e){var fe=Re.pick(Ae);fe&&(O.buttons=Ee,O.screen=Ae.coord,O.distance=Ae.distance,O.object=Re,O.index=fe.distance,O.dataPosition=fe.position,O.dataCoordinate=fe.dataCoordinate,O.data=fe,Se=!0)}}}}}he&&he!==O.object&&(he.highlight&&he.highlight(null),J=!0),O.object&&(O.object.highlight&&O.object.highlight(O.data),J=!0),(Se=Se||O.object!==he)&&ie.onselect&&ie.onselect(O),1&Ee&&!(1&ie._prevButtons)&&ie.onclick&&ie.onclick(O),ie._prevButtons=Ee}})},S.addEventListener("webglcontextlost",de);var ye=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],be=[ye[0].slice(),ye[1].slice()];function me(){if(!de()){ue();var Ee=ie.camera.tick();K.view=ie.camera.matrix,J=J||Ee,X=X||Ee,N.pixelRatio=ie.pixelRatio,F.pixelRatio=ie.pixelRatio;var Te=U.length,we=ye[0],oe=ye[1];we[0]=we[1]=we[2]=1/0,oe[0]=oe[1]=oe[2]=-1/0;for(var se=0;se<Te;++se){(ze=U[se]).pixelRatio=ie.pixelRatio,ze.axes=ie.axes,J=J||!!ze.dirty,X=X||!!ze.dirty;var he=ze.bounds;if(he)for(var Se=he[0],_e=he[1],Ae=0;Ae<3;++Ae)we[Ae]=Math.min(we[Ae],Se[Ae]),oe[Ae]=Math.max(oe[Ae],_e[Ae])}var Ce=ie.bounds;if(ie.autoBounds)for(Ae=0;Ae<3;++Ae){if(oe[Ae]<we[Ae])we[Ae]=-1,oe[Ae]=1;else{we[Ae]===oe[Ae]&&(we[Ae]-=1,oe[Ae]+=1);var Re=.05*(oe[Ae]-we[Ae]);we[Ae]=we[Ae]-Re,oe[Ae]=oe[Ae]+Re}Ce[0][Ae]=we[Ae],Ce[1][Ae]=oe[Ae]}var fe=!1;for(Ae=0;Ae<3;++Ae)fe=fe||be[0][Ae]!==Ce[0][Ae]||be[1][Ae]!==Ce[1][Ae],be[0][Ae]=Ce[0][Ae],be[1][Ae]=Ce[1][Ae];if(X=X||fe,J=J||fe){if(fe){var xe=[0,0,0];for(se=0;se<3;++se)xe[se]=m((Ce[1][se]-Ce[0][se])/10);N.autoTicks?N.update({bounds:Ce,tickSpacing:xe}):N.update({bounds:Ce})}var ke=T.drawingBufferWidth,Ie=T.drawingBufferHeight;for(ee[0]=ke,ee[1]=Ie,ae[0]=0|Math.max(ke/ie.pixelRatio,1),ae[1]=0|Math.max(Ie/ie.pixelRatio,1),function(qe,Ye){var Qe=qe.bounds,ft=qe.cameraParams,ht=ft.projection,mt=ft.model,Mt=qe.gl.drawingBufferWidth,_t=qe.gl.drawingBufferHeight,it=qe.zNear,st=qe.zFar,St=qe.fovy,zt=Mt/_t;Ye?(g(ht,-zt,zt,-1,1,it,st),ft._ortho=!0):(x(ht,St,zt,it,st),ft._ortho=!1);for(var Ft=0;Ft<16;++Ft)mt[Ft]=0;mt[15]=1;var Pt=0;for(Ft=0;Ft<3;++Ft)Pt=Math.max(Pt,Qe[1][Ft]-Qe[0][Ft]);for(Ft=0;Ft<3;++Ft)qe.autoScale?mt[5*Ft]=qe.aspect[Ft]/(Qe[1][Ft]-Qe[0][Ft]):mt[5*Ft]=1/Pt,qe.autoCenter&&(mt[12+Ft]=.5*-mt[5*Ft]*(Qe[0][Ft]+Qe[1][Ft]))}(ie,z),se=0;se<Te;++se)(ze=U[se]).axesBounds=Ce,ie.clipToBounds&&(ze.clipBounds=Ce);O.object&&(ie.snapToData?F.position=O.dataCoordinate:F.position=O.dataPosition,F.bounds=Ce),X&&(X=!1,function(){if(!de()){T.colorMask(!0,!0,!0,!0),T.depthMask(!0),T.disable(T.BLEND),T.enable(T.DEPTH_TEST),T.depthFunc(T.LEQUAL);for(var qe=U.length,Ye=Q.length,Qe=0;Qe<Ye;++Qe){var ft=Q[Qe];ft.shape=ae,ft.begin();for(var ht=0;ht<qe;++ht)if(V[ht]===Qe){var mt=U[ht];mt.drawPick&&(mt.pixelRatio=1,mt.drawPick(K))}ft.end()}}}()),ie.axesPixels=r(ie.axes,K,ke,Ie),ie.onrender&&ie.onrender(),T.bindFramebuffer(T.FRAMEBUFFER,null),T.viewport(0,0,ke,Ie),ie.clearRGBA(),T.depthMask(!0),T.colorMask(!0,!0,!0,!0),T.enable(T.DEPTH_TEST),T.depthFunc(T.LEQUAL),T.disable(T.BLEND),T.disable(T.CULL_FACE);var Fe=!1;for(N.enable&&(Fe=Fe||N.isTransparent(),N.draw(K)),F.axes=N,O.object&&F.draw(K),T.disable(T.CULL_FACE),se=0;se<Te;++se)(ze=U[se]).axes=N,ze.pixelRatio=ie.pixelRatio,ze.isOpaque&&ze.isOpaque()&&ze.draw(K),ze.isTransparent&&ze.isTransparent()&&(Fe=!0);if(Fe){for(P.shape=ee,P.bind(),T.clear(T.DEPTH_BUFFER_BIT),T.colorMask(!1,!1,!1,!1),T.depthMask(!0),T.depthFunc(T.LESS),N.enable&&N.isTransparent()&&N.drawTransparent(K),se=0;se<Te;++se)(ze=U[se]).isOpaque&&ze.isOpaque()&&ze.draw(K);for(T.enable(T.BLEND),T.blendEquation(T.FUNC_ADD),T.blendFunc(T.ONE,T.ONE_MINUS_SRC_ALPHA),T.colorMask(!0,!0,!0,!0),T.depthMask(!1),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT),N.isTransparent()&&N.drawTransparent(K),se=0;se<Te;++se){var ze;(ze=U[se]).isTransparent&&ze.isTransparent()&&ze.drawTransparent(K)}T.bindFramebuffer(T.FRAMEBUFFER,null),T.blendFunc(T.ONE,T.ONE_MINUS_SRC_ALPHA),T.disable(T.DEPTH_TEST),I.bind(),P.color[0].bind(0),I.uniforms.accumBuffer=0,p(T),T.disable(T.BLEND)}for(J=!1,se=0;se<Te;++se)U[se].dirty=!1}}}return ie.enableMouseListeners(),function Ee(){ie._stopped||ie.contextLost||(me(),requestAnimationFrame(Ee))}(),ie.redraw=function(){ie._stopped||(J=!0,me())},ie},createCamera:i}},8023:function(h,o,t){var i=t(6832);o.pointVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),o.pointFragment=i([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),o.pickVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),o.pickFragment=i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(h,o,t){var i=t(5158),n=t(5827),r=t(5306),l=t(8023);function s(x,g,d,v,y){this.plot=x,this.offsetBuffer=g,this.pickBuffer=d,this.shader=v,this.pickShader=y,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}h.exports=function(x,g){var d=x.gl,v=new s(x,n(d),n(d),i(d,l.pointVertex,l.pointFragment),i(d,l.pickVertex,l.pickFragment));return v.update(g),x.addObject(v),v};var u,p,c=s.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(x){var g;function d(T,E){return T in x?x[T]:E}x=x||{},this.sizeMin=d("sizeMin",.5),this.sizeMax=d("sizeMax",20),this.color=d("color",[1,0,0,1]).slice(),this.areaRatio=d("areaRatio",1),this.borderColor=d("borderColor",[0,0,0,1]).slice(),this.blend=d("blend",!1);var v=x.positions.length>>>1,y=x.positions instanceof Float32Array,m=x.idToIndex instanceof Int32Array&&x.idToIndex.length>=v,w=x.positions,f=y?w:r.mallocFloat32(w.length),S=m?x.idToIndex:r.mallocInt32(v);if(y||f.set(w),!m)for(f.set(w),g=0;g<v;g++)S[g]=g;this.points=w,this.offsetBuffer.update(f),this.pickBuffer.update(S),y||r.free(f),m||r.free(S),this.pointCount=v,this.pickOffset=0},c.unifiedDraw=(u=[1,0,0,0,1,0,0,0,1],p=[0,0,0,0],function(x){var g=x!==void 0,d=g?this.pickShader:this.shader,v=this.plot.gl,y=this.plot.dataBox;if(this.pointCount===0)return x;var m=y[2]-y[0],w=y[3]-y[1],f=function(O,P){var I,z=0,j=O.length>>>1;for(I=0;I<j;I++){var R=O[2*I],N=O[2*I+1];R>=P[0]&&R<=P[2]&&N>=P[1]&&N<=P[3]&&z++}return z}(this.points,y),S=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(f,.33333)));u[0]=2/m,u[4]=2/w,u[6]=-2*y[0]/m-1,u[7]=-2*y[1]/w-1,this.offsetBuffer.bind(),d.bind(),d.attributes.position.pointer(),d.uniforms.matrix=u,d.uniforms.color=this.color,d.uniforms.borderColor=this.borderColor,d.uniforms.pointCloud=S<5,d.uniforms.pointSize=S,d.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),g&&(p[0]=255&x,p[1]=x>>8&255,p[2]=x>>16&255,p[3]=x>>24&255,this.pickBuffer.bind(),d.attributes.pickId.pointer(v.UNSIGNED_BYTE),d.uniforms.pickOffset=p,this.pickOffset=x);var T=v.getParameter(v.BLEND),E=v.getParameter(v.DITHER);return T&&!this.blend&&v.disable(v.BLEND),E&&v.disable(v.DITHER),v.drawArrays(v.POINTS,0,this.pointCount),T&&!this.blend&&v.enable(v.BLEND),E&&v.enable(v.DITHER),x+this.pointCount}),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(x,g,d){var v=this.pickOffset,y=this.pointCount;if(d<v||d>=v+y)return null;var m=d-v,w=this.points;return{object:this,pointId:m,dataCoord:[w[2*m],w[2*m+1]]}}},6093:function(h){h.exports=function(o,t,i,n){var r,l,s,u,p,c=t[0],x=t[1],g=t[2],d=t[3],v=i[0],y=i[1],m=i[2],w=i[3];return(l=c*v+x*y+g*m+d*w)<0&&(l=-l,v=-v,y=-y,m=-m,w=-w),1-l>1e-6?(r=Math.acos(l),s=Math.sin(r),u=Math.sin((1-n)*r)/s,p=Math.sin(n*r)/s):(u=1-n,p=n),o[0]=u*c+p*v,o[1]=u*x+p*y,o[2]=u*g+p*m,o[3]=u*d+p*w,o}},8240:function(h){h.exports=function(o){return o||o===0?o.toString():""}},4123:function(h,o,t){var i=t(875);h.exports=function(r,l,s){var u=n[l];if(u||(u=n[l]={}),r in u)return u[r];var p={textAlign:"center",textBaseline:"middle",lineHeight:1,font:l,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},c=i(r,p);p.triangles=!1;var x,g,d=i(r,p);if(s&&s!==1){for(x=0;x<c.positions.length;++x)for(g=0;g<c.positions[x].length;++g)c.positions[x][g]/=s;for(x=0;x<d.positions.length;++x)for(g=0;g<d.positions[x].length;++g)d.positions[x][g]/=s}var v=[[1/0,1/0],[-1/0,-1/0]],y=d.positions.length;for(x=0;x<y;++x){var m=d.positions[x];for(g=0;g<2;++g)v[0][g]=Math.min(v[0][g],m[g]),v[1][g]=Math.max(v[1][g],m[g])}return u[r]=[c,d,v]};var n={}},9282:function(h,o,t){var i=t(5158),n=t(6832),r=n([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),l=n([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),s=n([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),u=n([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),p=n([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],x={vertex:r,fragment:u,attributes:c},g={vertex:l,fragment:u,attributes:c},d={vertex:s,fragment:u,attributes:c},v={vertex:r,fragment:p,attributes:c},y={vertex:l,fragment:p,attributes:c},m={vertex:s,fragment:p,attributes:c};function w(f,S){var T=i(f,S),E=T.attributes;return E.position.location=0,E.color.location=1,E.glyph.location=2,E.id.location=3,T}o.createPerspective=function(f){return w(f,x)},o.createOrtho=function(f){return w(f,g)},o.createProject=function(f){return w(f,d)},o.createPickPerspective=function(f){return w(f,v)},o.createPickOrtho=function(f){return w(f,y)},o.createPickProject=function(f){return w(f,m)}},2182:function(h,o,t){var i=t(3596),n=t(5827),r=t(2944),l=t(5306),s=t(104),u=t(9282),p=t(4123),c=t(8240),x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function g(V,te){var Q=V[0],J=V[1],X=V[2],K=V[3];return V[0]=te[0]*Q+te[4]*J+te[8]*X+te[12]*K,V[1]=te[1]*Q+te[5]*J+te[9]*X+te[13]*K,V[2]=te[2]*Q+te[6]*J+te[10]*X+te[14]*K,V[3]=te[3]*Q+te[7]*J+te[11]*X+te[15]*K,V}function d(V,te,Q,J){return g(J,J),g(J,J),g(J,J)}function v(V,te){this.index=V,this.dataCoordinate=this.position=te}function y(V){return V===!0||V>1?1:V}function m(V,te,Q,J,X,K,ee,re,ie,ae,ue,pe){this.gl=V,this.pixelRatio=1,this.shader=te,this.orthoShader=Q,this.projectShader=J,this.pointBuffer=X,this.colorBuffer=K,this.glyphBuffer=ee,this.idBuffer=re,this.vao=ie,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ae,this.pickOrthoShader=ue,this.pickProjectShader=pe,this.points=[],this._selectResult=new v(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}h.exports=function(V){var te=V.gl,Q=u.createPerspective(te),J=u.createOrtho(te),X=u.createProject(te),K=u.createPickPerspective(te),ee=u.createPickOrtho(te),re=u.createPickProject(te),ie=n(te),ae=n(te),ue=n(te),pe=n(te),de=new m(te,Q,J,X,ie,ae,ue,pe,r(te,[{buffer:ie,size:3,type:te.FLOAT},{buffer:ae,size:4,type:te.FLOAT},{buffer:ue,size:2,type:te.FLOAT},{buffer:pe,size:4,type:te.UNSIGNED_BYTE,normalized:!0}]),K,ee,re);return de.update(V),de};var w=m.prototype;w.pickSlots=1,w.setPickBase=function(V){this.pickId=V},w.isTransparent=function(){if(this.hasAlpha)return!0;for(var V=0;V<3;++V)if(this.axesProject[V]&&this.projectHasAlpha)return!0;return!1},w.isOpaque=function(){if(!this.hasAlpha)return!0;for(var V=0;V<3;++V)if(this.axesProject[V]&&!this.projectHasAlpha)return!0;return!1};var f=[0,0],S=[0,0,0],T=[0,0,0],E=[0,0,0,1],O=[0,0,0,1],P=x.slice(),I=[0,0,0],z=[[0,0,0],[0,0,0]];function j(V){return V[0]=V[1]=V[2]=0,V}function R(V,te){return V[0]=te[0],V[1]=te[1],V[2]=te[2],V[3]=1,V}function N(V,te,Q,J){return V[0]=te[0],V[1]=te[1],V[2]=te[2],V[Q]=J,V}var Z=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function F(V,te,Q,J,X,K,ee){var re=Q.gl;if((K===Q.projectHasAlpha||ee)&&function(ae,ue,pe,de){var ye,be=ue.axesProject,me=ue.gl,Ee=ae.uniforms,Te=pe.model||x,we=pe.view||x,oe=pe.projection||x,se=ue.axesBounds,he=function(Qe){for(var ft=z,ht=0;ht<2;++ht)for(var mt=0;mt<3;++mt)ft[ht][mt]=Math.max(Math.min(Qe[ht][mt],1e8),-1e8);return ft}(ue.clipBounds);ye=ue.axes&&ue.axes.lastCubeProps?ue.axes.lastCubeProps.axis:[1,1,1],f[0]=2/me.drawingBufferWidth,f[1]=2/me.drawingBufferHeight,ae.bind(),Ee.view=we,Ee.projection=oe,Ee.screenSize=f,Ee.highlightId=ue.highlightId,Ee.highlightScale=ue.highlightScale,Ee.clipBounds=he,Ee.pickGroup=ue.pickId/255,Ee.pixelRatio=de;for(var Se=0;Se<3;++Se)if(be[Se]){Ee.scale=ue.projectScale[Se],Ee.opacity=ue.projectOpacity[Se];for(var _e=P,Ae=0;Ae<16;++Ae)_e[Ae]=0;for(Ae=0;Ae<4;++Ae)_e[5*Ae]=1;_e[5*Se]=0,ye[Se]<0?_e[12+Se]=se[0][Se]:_e[12+Se]=se[1][Se],s(_e,Te,_e),Ee.model=_e;var Ce=(Se+1)%3,Re=(Se+2)%3,fe=j(S),xe=j(T);fe[Ce]=1,xe[Re]=1;var ke=d(0,0,0,R(E,fe)),Ie=d(0,0,0,R(O,xe));if(Math.abs(ke[1])>Math.abs(Ie[1])){var Fe=ke;ke=Ie,Ie=Fe,Fe=fe,fe=xe,xe=Fe;var ze=Ce;Ce=Re,Re=ze}ke[0]<0&&(fe[Ce]=-1),Ie[1]>0&&(xe[Re]=-1);var qe=0,Ye=0;for(Ae=0;Ae<4;++Ae)qe+=Math.pow(Te[4*Ce+Ae],2),Ye+=Math.pow(Te[4*Re+Ae],2);fe[Ce]/=Math.sqrt(qe),xe[Re]/=Math.sqrt(Ye),Ee.axes[0]=fe,Ee.axes[1]=xe,Ee.fragClipBounds[0]=N(I,he[0],Se,-1e8),Ee.fragClipBounds[1]=N(I,he[1],Se,1e8),ue.vao.bind(),ue.vao.draw(me.TRIANGLES,ue.vertexCount),ue.lineWidth>0&&(me.lineWidth(ue.lineWidth*de),ue.vao.draw(me.LINES,ue.lineVertexCount,ue.vertexCount)),ue.vao.unbind()}}(te,Q,J,X),K===Q.hasAlpha||ee){V.bind();var ie=V.uniforms;ie.model=J.model||x,ie.view=J.view||x,ie.projection=J.projection||x,f[0]=2/re.drawingBufferWidth,f[1]=2/re.drawingBufferHeight,ie.screenSize=f,ie.highlightId=Q.highlightId,ie.highlightScale=Q.highlightScale,ie.fragClipBounds=Z,ie.clipBounds=Q.axes.bounds,ie.opacity=Q.opacity,ie.pickGroup=Q.pickId/255,ie.pixelRatio=X,Q.vao.bind(),Q.vao.draw(re.TRIANGLES,Q.vertexCount),Q.lineWidth>0&&(re.lineWidth(Q.lineWidth*X),Q.vao.draw(re.LINES,Q.lineVertexCount,Q.vertexCount)),Q.vao.unbind()}}function U(V,te,Q,J){var X;X=Array.isArray(V)?te<V.length?V[te]:void 0:V,X=c(X);var K=!0;i(X)&&(X="",K=!1);var ee=p(X,Q,J);return{mesh:ee[0],lines:ee[1],bounds:ee[2],visible:K}}w.draw=function(V){F(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,V,this.pixelRatio,!1,!1)},w.drawTransparent=function(V){F(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,V,this.pixelRatio,!0,!1)},w.drawPick=function(V){F(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,V,1,!0,!0)},w.pick=function(V){if(!V||V.id!==this.pickId)return null;var te=V.value[2]+(V.value[1]<<8)+(V.value[0]<<16);if(te>=this.pointCount||te<0)return null;var Q=this.points[te],J=this._selectResult;J.index=te;for(var X=0;X<3;++X)J.position[X]=J.dataCoordinate[X]=Q[X];return J},w.highlight=function(V){if(V){var te=V.index,Q=255&te,J=te>>8&255,X=te>>16&255;this.highlightId=[Q/255,J/255,X/255,0]}else this.highlightId=[1,1,1,1]},w.update=function(V){if("perspective"in(V=V||{})&&(this.useOrtho=!V.perspective),"orthographic"in V&&(this.useOrtho=!!V.orthographic),"lineWidth"in V&&(this.lineWidth=V.lineWidth),"project"in V)if(Array.isArray(V.project))this.axesProject=V.project;else{var te=!!V.project;this.axesProject=[te,te,te]}if("projectScale"in V)if(Array.isArray(V.projectScale))this.projectScale=V.projectScale.slice();else{var Q=+V.projectScale;this.projectScale=[Q,Q,Q]}if(this.projectHasAlpha=!1,"projectOpacity"in V){Array.isArray(V.projectOpacity)?this.projectOpacity=V.projectOpacity.slice():(Q=+V.projectOpacity,this.projectOpacity=[Q,Q,Q]);for(var J=0;J<3;++J)this.projectOpacity[J]=y(this.projectOpacity[J]),this.projectOpacity[J]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in V&&(this.opacity=y(V.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var X,K,ee=V.position,re=V.font||"normal",ie=V.alignment||[0,0];if(ie.length===2)X=ie[0],K=ie[1];else for(X=[],K=[],J=0;J<ie.length;++J)X[J]=ie[J][0],K[J]=ie[J][1];var ae=[1/0,1/0,1/0],ue=[-1/0,-1/0,-1/0],pe=V.glyph,de=V.color,ye=V.size,be=V.angle,me=V.lineColor,Ee=-1,Te=0,we=0,oe=0;if(ee.length){oe=ee.length;e:for(J=0;J<oe;++J){for(var se=ee[J],he=0;he<3;++he)if(isNaN(se[he])||!isFinite(se[he]))continue e;var Se=(ft=U(pe,J,re,this.pixelRatio)).mesh,_e=ft.lines,Ae=ft.bounds;Te+=3*Se.cells.length,we+=2*_e.edges.length}}var Ce=Te+we,Re=l.mallocFloat(3*Ce),fe=l.mallocFloat(4*Ce),xe=l.mallocFloat(2*Ce),ke=l.mallocUint32(Ce);if(Ce>0){var Ie=0,Fe=Te,ze=[0,0,0,1],qe=[0,0,0,1],Ye=Array.isArray(de)&&Array.isArray(de[0]),Qe=Array.isArray(me)&&Array.isArray(me[0]);e:for(J=0;J<oe;++J){for(Ee+=1,se=ee[J],he=0;he<3;++he){if(isNaN(se[he])||!isFinite(se[he]))continue e;ue[he]=Math.max(ue[he],se[he]),ae[he]=Math.min(ae[he],se[he])}Se=(ft=U(pe,J,re,this.pixelRatio)).mesh,_e=ft.lines,Ae=ft.bounds;var ft,ht=ft.visible;if(ht)if(Array.isArray(de)){if((mt=Ye?J<de.length?de[J]:[0,0,0,0]:de).length===3){for(he=0;he<3;++he)ze[he]=mt[he];ze[3]=1}else if(mt.length===4){for(he=0;he<4;++he)ze[he]=mt[he];!this.hasAlpha&&mt[3]<1&&(this.hasAlpha=!0)}}else ze[0]=ze[1]=ze[2]=0,ze[3]=1;else ze=[1,1,1,0];if(ht)if(Array.isArray(me)){var mt;if((mt=Qe?J<me.length?me[J]:[0,0,0,0]:me).length===3){for(he=0;he<3;++he)qe[he]=mt[he];qe[he]=1}else if(mt.length===4){for(he=0;he<4;++he)qe[he]=mt[he];!this.hasAlpha&&mt[3]<1&&(this.hasAlpha=!0)}}else qe[0]=qe[1]=qe[2]=0,qe[3]=1;else qe=[1,1,1,0];var Mt=.5;ht?Array.isArray(ye)?Mt=J<ye.length?+ye[J]:12:ye?Mt=+ye:this.useOrtho&&(Mt=12):Mt=0;var _t=0;Array.isArray(be)?_t=J<be.length?+be[J]:0:be&&(_t=+be);var it=Math.cos(_t),st=Math.sin(_t);for(se=ee[J],he=0;he<3;++he)ue[he]=Math.max(ue[he],se[he]),ae[he]=Math.min(ae[he],se[he]);var St=X,zt=K;St=0,Array.isArray(X)?St=J<X.length?X[J]:0:X&&(St=X),zt=0,Array.isArray(K)?zt=J<K.length?K[J]:0:K&&(zt=K);var Ft=[St*=St>0?1-Ae[0][0]:St<0?1+Ae[1][0]:1,zt*=zt>0?1-Ae[0][1]:zt<0?1+Ae[1][1]:1],Pt=Se.cells||[],Ze=Se.positions||[];for(he=0;he<Pt.length;++he)for(var Je=Pt[he],Ue=0;Ue<3;++Ue){for(var Xe=0;Xe<3;++Xe)Re[3*Ie+Xe]=se[Xe];for(Xe=0;Xe<4;++Xe)fe[4*Ie+Xe]=ze[Xe];ke[Ie]=Ee;var lt=Ze[Je[Ue]];xe[2*Ie]=Mt*(it*lt[0]-st*lt[1]+Ft[0]),xe[2*Ie+1]=Mt*(st*lt[0]+it*lt[1]+Ft[1]),Ie+=1}for(Pt=_e.edges,Ze=_e.positions,he=0;he<Pt.length;++he)for(Je=Pt[he],Ue=0;Ue<2;++Ue){for(Xe=0;Xe<3;++Xe)Re[3*Fe+Xe]=se[Xe];for(Xe=0;Xe<4;++Xe)fe[4*Fe+Xe]=qe[Xe];ke[Fe]=Ee,lt=Ze[Je[Ue]],xe[2*Fe]=Mt*(it*lt[0]-st*lt[1]+Ft[0]),xe[2*Fe+1]=Mt*(st*lt[0]+it*lt[1]+Ft[1]),Fe+=1}}}this.bounds=[ae,ue],this.points=ee,this.pointCount=ee.length,this.vertexCount=Te,this.lineVertexCount=we,this.pointBuffer.update(Re),this.colorBuffer.update(fe),this.glyphBuffer.update(xe),this.idBuffer.update(ke),l.free(Re),l.free(fe),l.free(xe),l.free(ke)},w.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},1884:function(h,o,t){var i=t(6832);o.boxVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),o.boxFragment=i([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(h,o,t){var i=t(5158),n=t(5827),r=t(1884);function l(u,p,c){this.plot=u,this.boxBuffer=p,this.boxShader=c,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}h.exports=function(u,p){var c=u.gl,x=new l(u,n(c,[0,0,0,1,1,0,1,1]),i(c,r.boxVertex,r.boxFragment));return x.update(p),u.addOverlay(x),x};var s=l.prototype;s.draw=function(){if(this.enabled){var u=this.plot,p=this.selectBox,c=this.borderWidth,x=(this.innerFill,this.innerColor),g=(this.outerFill,this.outerColor),d=this.borderColor,v=u.box,y=u.screenBox,m=u.dataBox,w=u.viewBox,f=u.pixelRatio,S=(p[0]-m[0])*(w[2]-w[0])/(m[2]-m[0])+w[0],T=(p[1]-m[1])*(w[3]-w[1])/(m[3]-m[1])+w[1],E=(p[2]-m[0])*(w[2]-w[0])/(m[2]-m[0])+w[0],O=(p[3]-m[1])*(w[3]-w[1])/(m[3]-m[1])+w[1];if(S=Math.max(S,w[0]),T=Math.max(T,w[1]),E=Math.min(E,w[2]),O=Math.min(O,w[3]),!(E<S||O<T)){v.bind();var P=y[2]-y[0],I=y[3]-y[1];if(this.outerFill&&(v.drawBox(0,0,P,T,g),v.drawBox(0,T,S,O,g),v.drawBox(0,O,P,I,g),v.drawBox(E,T,P,O,g)),this.innerFill&&v.drawBox(S,T,E,O,x),c>0){var z=c*f;v.drawBox(S-z,T-z,E+z,T+z,d),v.drawBox(S-z,O-z,E+z,O+z,d),v.drawBox(S-z,T-z,S+z,O+z,d),v.drawBox(E-z,T-z,E+z,O+z,d)}}}},s.update=function(u){u=u||{},this.innerFill=!!u.innerFill,this.outerFill=!!u.outerFill,this.innerColor=(u.innerColor||[0,0,0,.5]).slice(),this.outerColor=(u.outerColor||[0,0,0,.5]).slice(),this.borderColor=(u.borderColor||[0,0,0,1]).slice(),this.borderWidth=u.borderWidth||0,this.selectBox=(u.selectBox||this.selectBox).slice()},s.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},2611:function(h,o,t){h.exports=function(c,x){var g=x[0],d=x[1];return new u(c,i(c,g,d,{}),n.mallocUint8(g*d*4))};var i=t(4234),n=t(5306),r=t(5050),l=t(2288).nextPow2;function s(c,x,g,d,v){this.coord=[c,x],this.id=g,this.value=d,this.distance=v}function u(c,x,g){this.gl=c,this.fbo=x,this.buffer=g,this._readTimeout=null;var d=this;this._readCallback=function(){d.gl&&(x.bind(),c.readPixels(0,0,x.shape[0],x.shape[1],c.RGBA,c.UNSIGNED_BYTE,d.buffer),d._readTimeout=null)}}var p=u.prototype;Object.defineProperty(p,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var x=this.fbo.shape[0],g=this.fbo.shape[1];if(g*x*4>this.buffer.length){n.free(this.buffer);for(var d=this.buffer=n.mallocUint8(l(g*x*4)),v=0;v<g*x*4;++v)d[v]=255}return c}}}),p.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},p.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},p.query=function(c,x,g){if(!this.gl)return null;var d=this.fbo.shape.slice();c|=0,x|=0,typeof g!="number"&&(g=1);var v=0|Math.min(Math.max(c-g,0),d[0]),y=0|Math.min(Math.max(c+g,0),d[0]),m=0|Math.min(Math.max(x-g,0),d[1]),w=0|Math.min(Math.max(x+g,0),d[1]);if(y<=v||w<=m)return null;var f=[y-v,w-m],S=r(this.buffer,[f[0],f[1],4],[4,4*d[0],1],4*(v+d[0]*m)),T=function(P,I,z){for(var j=1e8,R=-1,N=-1,Z=P.shape[0],F=P.shape[1],U=0;U<Z;U++)for(var V=0;V<F;V++){var te=P.get(U,V,0),Q=P.get(U,V,1),J=P.get(U,V,2),X=P.get(U,V,3);if(te<255||Q<255||J<255||X<255){var K=I-U,ee=z-V,re=K*K+ee*ee;re<j&&(j=re,R=U,N=V)}}return[R,N,j]}(S.hi(f[0],f[1],1),g,g),E=T[0],O=T[1];return E<0||Math.pow(this.radius,2)<T[2]?null:new s(E+v|0,O+m|0,S.get(E,O,0),[S.get(E,O,1),S.get(E,O,2),S.get(E,O,3)],Math.sqrt(T[2]))},p.dispose=function(){this.gl&&(this.fbo.dispose(),n.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},5158:function(h,o,t){var i=t(9016),n=t(4280),r=t(3984),l=t(1628),s=t(2631),u=t(9068);function p(g){this.gl=g,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=p.prototype;function x(g,d){return g.name<d.name?-1:1}c.bind=function(){var g;this.program||this._relink();var d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),v=this.gl.lastAttribCount;if(d>v)for(g=v;g<d;g++)this.gl.enableVertexAttribArray(g);else if(v>d)for(g=d;g<v;g++)this.gl.disableVertexAttribArray(g);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},c.dispose=function(){for(var g=this.gl.lastAttribCount,d=0;d<g;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},c.update=function(g,d,v,y){if(!d||arguments.length===1){var m=g;g=m.vertex,d=m.fragment,v=m.uniforms,y=m.attributes}var w=this,f=w.gl,S=w._vref;w._vref=l.shader(f,f.VERTEX_SHADER,g),S&&S.dispose(),w.vertShader=w._vref.shader;var T=this._fref;if(w._fref=l.shader(f,f.FRAGMENT_SHADER,d),T&&T.dispose(),w.fragShader=w._fref.shader,!v||!y){var E=f.createProgram();if(f.attachShader(E,w.fragShader),f.attachShader(E,w.vertShader),f.linkProgram(E),!f.getProgramParameter(E,f.LINK_STATUS)){var O=f.getProgramInfoLog(E);throw new u(O,"Error linking program:"+O)}v=v||s.uniforms(f,E),y=y||s.attributes(f,E),f.deleteProgram(E)}(y=y.slice()).sort(x);var P,I=[],z=[],j=[];for(P=0;P<y.length;++P){var R=y[P];if(R.type.indexOf("mat")>=0){for(var N=0|R.type.charAt(R.type.length-1),Z=new Array(N),F=0;F<N;++F)Z[F]=j.length,z.push(R.name+"["+F+"]"),typeof R.location=="number"?j.push(R.location+F):Array.isArray(R.location)&&R.location.length===N&&typeof R.location[F]=="number"?j.push(0|R.location[F]):j.push(-1);I.push({name:R.name,type:R.type,locations:Z})}else I.push({name:R.name,type:R.type,locations:[j.length]}),z.push(R.name),typeof R.location=="number"?j.push(0|R.location):j.push(-1)}var U=0;for(P=0;P<j.length;++P)if(j[P]<0){for(;j.indexOf(U)>=0;)U+=1;j[P]=U}var V=new Array(v.length);function te(){w.program=l.program(f,w._vref,w._fref,z,j);for(var Q=0;Q<v.length;++Q)V[Q]=f.getUniformLocation(w.program,v[Q].name)}te(),w._relink=te,w.types={uniforms:r(v),attributes:r(y)},w.attributes=n(f,w,I,j),Object.defineProperty(w,"uniforms",i(f,w,v,V))},h.exports=function(g,d,v,y,m){var w=new p(g);return w.update(d,v,y,m),w}},9068:function(h){function o(t,i,n){this.shortMessage=i||"",this.longMessage=n||"",this.rawError=t||"",this.message="gl-shader: "+(i||t||"")+(n?`
`+n:""),this.stack=new Error().stack}o.prototype=new Error,o.prototype.name="GLError",o.prototype.constructor=o,h.exports=o},4280:function(h,o,t){h.exports=function(p,c,x,g){for(var d={},v=0,y=x.length;v<y;++v){var m=x[v],w=m.name,f=m.type,S=m.locations;switch(f){case"bool":case"int":case"float":s(p,c,S[0],g,1,d,w);break;default:if(f.indexOf("vec")>=0){if((T=f.charCodeAt(f.length-1)-48)<2||T>4)throw new i("","Invalid data type for attribute "+w+": "+f);s(p,c,S[0],g,T,d,w)}else{if(!(f.indexOf("mat")>=0))throw new i("","Unknown data type for attribute "+w+": "+f);var T;if((T=f.charCodeAt(f.length-1)-48)<2||T>4)throw new i("","Invalid data type for attribute "+w+": "+f);u(p,c,S,g,T,d,w)}}}return d};var i=t(9068);function n(p,c,x,g,d,v){this._gl=p,this._wrapper=c,this._index=x,this._locations=g,this._dimension=d,this._constFunc=v}var r=n.prototype;r.pointer=function(p,c,x,g){var d=this,v=d._gl,y=d._locations[d._index];v.vertexAttribPointer(y,d._dimension,p||v.FLOAT,!!c,x||0,g||0),v.enableVertexAttribArray(y)},r.set=function(p,c,x,g){return this._constFunc(this._locations[this._index],p,c,x,g)},Object.defineProperty(r,"location",{get:function(){return this._locations[this._index]},set:function(p){return p!==this._locations[this._index]&&(this._locations[this._index]=0|p,this._wrapper.program=null),0|p}});var l=[function(p,c,x){return x.length===void 0?p.vertexAttrib1f(c,x):p.vertexAttrib1fv(c,x)},function(p,c,x,g){return x.length===void 0?p.vertexAttrib2f(c,x,g):p.vertexAttrib2fv(c,x)},function(p,c,x,g,d){return x.length===void 0?p.vertexAttrib3f(c,x,g,d):p.vertexAttrib3fv(c,x)},function(p,c,x,g,d,v){return x.length===void 0?p.vertexAttrib4f(c,x,g,d,v):p.vertexAttrib4fv(c,x)}];function s(p,c,x,g,d,v,y){var m=l[d],w=new n(p,c,x,g,d,m);Object.defineProperty(v,y,{set:function(f){return p.disableVertexAttribArray(g[x]),m(p,g[x],f),f},get:function(){return w},enumerable:!0})}function u(p,c,x,g,d,v,y){for(var m=new Array(d),w=new Array(d),f=0;f<d;++f)s(p,c,x[f],g,d,m,f),w[f]=m[f];Object.defineProperty(m,"location",{set:function(E){if(Array.isArray(E))for(var O=0;O<d;++O)w[O].location=E[O];else for(O=0;O<d;++O)w[O].location=E+O;return E},get:function(){for(var E=new Array(d),O=0;O<d;++O)E[O]=g[x[O]];return E},enumerable:!0}),m.pointer=function(E,O,P,I){E=E||p.FLOAT,O=!!O,P=P||d*d,I=I||0;for(var z=0;z<d;++z){var j=g[x[z]];p.vertexAttribPointer(j,d,E,O,P,I+z*d),p.enableVertexAttribArray(j)}};var S=new Array(d),T=p["vertexAttrib"+d+"fv"];Object.defineProperty(v,y,{set:function(E){for(var O=0;O<d;++O){var P=g[x[O]];if(p.disableVertexAttribArray(P),Array.isArray(E[0]))T.call(p,P,E[O]);else{for(var I=0;I<d;++I)S[I]=E[d*O+I];T.call(p,P,S)}}return E},get:function(){return m},enumerable:!0})}},9016:function(h,o,t){var i=t(3984),n=t(9068);function r(s){return function(){return s}}function l(s,u){for(var p=new Array(s),c=0;c<s;++c)p[c]=u;return p}h.exports=function(s,u,p,c){function x(m){return function(w){for(var f=g("",m),S=0;S<f.length;++S){var T=f[S],E=T[0],O=T[1];if(c[O]){var P=w;if(typeof E=="string"&&(E.indexOf(".")===0||E.indexOf("[")===0)){var I=E;if(E.indexOf(".")===0&&(I=E.slice(1)),I.indexOf("]")===I.length-1){var z=I.indexOf("["),j=I.slice(0,z),R=I.slice(z+1,I.length-1);P=j?w[j][R]:w[R]}else P=w[I]}var N,Z=p[O].type;switch(Z){case"bool":case"int":case"sampler2D":case"samplerCube":s.uniform1i(c[O],P);break;case"float":s.uniform1f(c[O],P);break;default:var F=Z.indexOf("vec");if(!(0<=F&&F<=1&&Z.length===4+F)){if(Z.indexOf("mat")===0&&Z.length===4){if((N=Z.charCodeAt(Z.length-1)-48)<2||N>4)throw new n("","Invalid uniform dimension type for matrix "+name+": "+Z);s["uniformMatrix"+N+"fv"](c[O],!1,P);break}throw new n("","Unknown uniform data type for "+name+": "+Z)}if((N=Z.charCodeAt(Z.length-1)-48)<2||N>4)throw new n("","Invalid data type");switch(Z.charAt(0)){case"b":case"i":s["uniform"+N+"iv"](c[O],P);break;case"v":s["uniform"+N+"fv"](c[O],P);break;default:throw new n("","Unrecognized data type for vector "+name+": "+Z)}}}}}}function g(m,w){if(typeof w!="object")return[[m,w]];var f=[];for(var S in w){var T=w[S],E=m;parseInt(S)+""===S?E+="["+S+"]":E+="."+S,typeof T=="object"?f.push.apply(f,g(E,T)):f.push([E,T])}return f}function d(m,w,f){if(typeof f=="object"){var S=v(f);Object.defineProperty(m,w,{get:r(S),set:x(f),enumerable:!0,configurable:!1})}else c[f]?Object.defineProperty(m,w,{get:(T=f,function(E,O,P){return E.getUniform(O.program,P[T])}),set:x(f),enumerable:!0,configurable:!1}):m[w]=function(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var O=E.indexOf("vec");if(0<=O&&O<=1&&E.length===4+O){if((P=E.charCodeAt(E.length-1)-48)<2||P>4)throw new n("","Invalid data type");return E.charAt(0)==="b"?l(P,!1):l(P,0)}if(E.indexOf("mat")===0&&E.length===4){var P;if((P=E.charCodeAt(E.length-1)-48)<2||P>4)throw new n("","Invalid uniform dimension type for matrix "+name+": "+E);return l(P*P,0)}throw new n("","Unknown uniform data type for "+name+": "+E)}}(p[f].type);var T}function v(m){var w;if(Array.isArray(m)){w=new Array(m.length);for(var f=0;f<m.length;++f)d(w,f,m[f])}else for(var S in w={},m)d(w,S,m[S]);return w}var y=i(p,!0);return{get:r(v(y)),set:x(y),enumerable:!0,configurable:!0}}},3984:function(h){h.exports=function(o,t){for(var i={},n=0;n<o.length;++n)for(var r=o[n].name.split("."),l=i,s=0;s<r.length;++s){var u=r[s].split("[");if(u.length>1){u[0]in l||(l[u[0]]=[]),l=l[u[0]];for(var p=1;p<u.length;++p){var c=parseInt(u[p]);p<u.length-1||s<r.length-1?(c in l||(p<u.length-1?l[c]=[]:l[c]={}),l=l[c]):l[c]=t?n:o[n].type}}else s<r.length-1?(u[0]in l||(l[u[0]]={}),l=l[u[0]]):l[u[0]]=t?n:o[n].type}return i}},2631:function(h,o){o.uniforms=function(r,l){for(var s=r.getProgramParameter(l,r.ACTIVE_UNIFORMS),u=[],p=0;p<s;++p){var c=r.getActiveUniform(l,p);if(c){var x=n(r,c.type);if(c.size>1)for(var g=0;g<c.size;++g)u.push({name:c.name.replace("[0]","["+g+"]"),type:x});else u.push({name:c.name,type:x})}}return u},o.attributes=function(r,l){for(var s=r.getProgramParameter(l,r.ACTIVE_ATTRIBUTES),u=[],p=0;p<s;++p){var c=r.getActiveAttrib(l,p);c&&u.push({name:c.name,type:n(r,c.type)})}return u};var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},i=null;function n(r,l){if(!i){var s=Object.keys(t);i={};for(var u=0;u<s.length;++u){var p=s[u];i[r[p]]=t[p]}}return i[l]}},1628:function(h,o,t){o.shader=function(x,g,d){return c(x).getShaderReference(g,d)},o.program=function(x,g,d,v,y){return c(x).getProgram(g,d,v,y)};var i=t(9068),n=t(3530),r=new(typeof WeakMap>"u"?t(4037):WeakMap),l=0;function s(x,g,d,v,y,m,w){this.id=x,this.src=g,this.type=d,this.shader=v,this.count=m,this.programs=[],this.cache=w}function u(x){this.gl=x,this.shaders=[{},{}],this.programs={}}s.prototype.dispose=function(){if(--this.count==0){for(var x=this.cache,g=x.gl,d=this.programs,v=0,y=d.length;v<y;++v){var m=x.programs[d[v]];m&&(delete x.programs[v],g.deleteProgram(m))}g.deleteShader(this.shader),delete x.shaders[this.type===g.FRAGMENT_SHADER|0][this.src]}};var p=u.prototype;function c(x){var g=r.get(x);return g||(g=new u(x),r.set(x,g)),g}p.getShaderReference=function(x,g){var d=this.gl,v=this.shaders[x===d.FRAGMENT_SHADER|0],y=v[g];if(y&&d.isShader(y.shader))y.count+=1;else{var m=function(w,f,S){var T=w.createShader(f);if(w.shaderSource(T,S),w.compileShader(T),!w.getShaderParameter(T,w.COMPILE_STATUS)){var E=w.getShaderInfoLog(T);try{var O=n(E,S,f)}catch(P){throw console.warn("Failed to format compiler error: "+P),new i(E,`Error compiling shader:
`+E)}throw new i(E,O.short,O.long)}return T}(d,x,g);y=v[g]=new s(l++,g,x,m,[],1,this)}return y},p.getProgram=function(x,g,d,v){var y=[x.id,g.id,d.join(":"),v.join(":")].join("@"),m=this.programs[y];return m&&this.gl.isProgram(m)||(this.programs[y]=m=function(w,f,S,T,E){var O=w.createProgram();w.attachShader(O,f),w.attachShader(O,S);for(var P=0;P<T.length;++P)w.bindAttribLocation(O,E[P],T[P]);if(w.linkProgram(O),!w.getProgramParameter(O,w.LINK_STATUS)){var I=w.getProgramInfoLog(O);throw new i(I,"Error linking program: "+I)}return O}(this.gl,x.shader,g.shader,d,v),x.programs.push(y),g.programs.push(y)),m}},3050:function(h){function o(i){this.plot=i,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}h.exports=function(i,n){var r=new o(i);return r.update(n),i.addOverlay(r),r};var t=o.prototype;t.update=function(i){i=i||{},this.enable=(i.enable||[!0,!0,!1,!1]).slice(),this.width=(i.width||[1,1,1,1]).slice(),this.color=(i.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(i.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var i=this.enable,n=this.width,r=this.color,l=this.center,s=this.plot,u=s.line,p=s.dataBox,c=s.viewBox;if(u.bind(),p[0]<=l[0]&&l[0]<=p[2]&&p[1]<=l[1]&&l[1]<=p[3]){var x=c[0]+(l[0]-p[0])/(p[2]-p[0])*(c[2]-c[0]),g=c[1]+(l[1]-p[1])/(p[3]-p[1])*(c[3]-c[1]);i[0]&&u.drawLine(x,g,c[0],g,n[0],r[0]),i[1]&&u.drawLine(x,g,x,c[1],n[1],r[1]),i[2]&&u.drawLine(x,g,c[2],g,n[2],r[2]),i[3]&&u.drawLine(x,g,x,c[3],n[3],r[3])}},t.dispose=function(){this.plot.removeOverlay(this)}},3540:function(h,o,t){var i=t(6832),n=t(5158),r=i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),l=i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);h.exports=function(s){return n(s,r,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(h,o,t){var i=t(5827),n=t(2944),r=t(3540);h.exports=function(g,d){var v=[];function y(T,E,O,P,I,z){var j=[T,E,O,0,0,0,1];j[P+3]=1,j[P]=I,v.push.apply(v,j),j[6]=-1,v.push.apply(v,j),j[P]=z,v.push.apply(v,j),v.push.apply(v,j),j[6]=1,v.push.apply(v,j),j[P]=I,v.push.apply(v,j)}y(0,0,0,0,0,1),y(0,0,0,1,0,1),y(0,0,0,2,0,1),y(1,0,0,1,-1,1),y(1,0,0,2,-1,1),y(0,1,0,0,-1,1),y(0,1,0,2,-1,1),y(0,0,1,0,-1,1),y(0,0,1,1,-1,1);var m=i(g,v),w=n(g,[{type:g.FLOAT,buffer:m,size:3,offset:0,stride:28},{type:g.FLOAT,buffer:m,size:3,offset:12,stride:28},{type:g.FLOAT,buffer:m,size:1,offset:24,stride:28}]),f=r(g);f.attributes.position.location=0,f.attributes.color.location=1,f.attributes.weight.location=2;var S=new s(g,m,w,f);return S.update(d),S};var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(g,d,v,y){this.gl=g,this.buffer=d,this.vao=v,this.shader=y,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=s.prototype,p=[0,0,0],c=[0,0,0],x=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(g){},u.draw=function(g){var d=this.gl,v=this.vao,y=this.shader;v.bind(),y.bind();var m,w=g.model||l,f=g.view||l,S=g.projection||l;this.axes&&(m=this.axes.lastCubeProps.axis);for(var T=p,E=c,O=0;O<3;++O)m&&m[O]<0?(T[O]=this.bounds[0][O],E[O]=this.bounds[1][O]):(T[O]=this.bounds[1][O],E[O]=this.bounds[0][O]);for(x[0]=d.drawingBufferWidth,x[1]=d.drawingBufferHeight,y.uniforms.model=w,y.uniforms.view=f,y.uniforms.projection=S,y.uniforms.coordinates=[this.position,T,E],y.uniforms.colors=this.colors,y.uniforms.screenShape=x,O=0;O<3;++O)y.uniforms.lineWidth=this.lineWidth[O]*this.pixelRatio,this.enabled[O]&&(v.draw(d.TRIANGLES,6,6*O),this.drawSides[O]&&v.draw(d.TRIANGLES,12,18+12*O));v.unbind()},u.update=function(g){g&&("bounds"in g&&(this.bounds=g.bounds),"position"in g&&(this.position=g.position),"lineWidth"in g&&(this.lineWidth=g.lineWidth),"colors"in g&&(this.colors=g.colors),"enabled"in g&&(this.enabled=g.enabled),"drawSides"in g&&(this.drawSides=g.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},9578:function(h,o,t){var i=t(6832),n=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),r=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),l=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),s=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);o.meshShader={vertex:n,fragment:r,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},o.pickShader={vertex:l,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(h,o,t){var i=t(2858),n=t(4020),r=["xyz","xzy","yxz","yzx","zxy","zyx"],l=function(x,g){var d,v=x.length;for(d=0;d<v;d++){var y=x[d];if(y===g)return d;if(y>g)return d-1}return d},s=function(x,g,d){return x<g?g:x>d?d:x},u=function(x){var g=1/0;x.sort(function(m,w){return m-w});for(var d=x.length,v=1;v<d;v++){var y=Math.abs(x[v]-x[v-1]);y<g&&(g=y)}return g};h.exports=function(x,g){var d=x.startingPositions,v=x.maxLength||1e3,y=x.tubeSize||1,m=x.absoluteTubeSize,w=x.gridFill||"+x+y+z",f={};w.indexOf("-x")!==-1&&(f.reversedX=!0),w.indexOf("-y")!==-1&&(f.reversedY=!0),w.indexOf("-z")!==-1&&(f.reversedZ=!0),f.filled=r.indexOf(w.replace(/-/g,"").replace(/\+/g,""));var S=x.getVelocity||function(me){return function(Ee,Te,we){var oe=Te.vectors,se=Te.meshgrid,he=Ee[0],Se=Ee[1],_e=Ee[2],Ae=se[0].length,Ce=se[1].length,Re=se[2].length,fe=l(se[0],he),xe=l(se[1],Se),ke=l(se[2],_e),Ie=fe+1,Fe=xe+1,ze=ke+1;if(fe=s(fe,0,Ae-1),Ie=s(Ie,0,Ae-1),xe=s(xe,0,Ce-1),Fe=s(Fe,0,Ce-1),ke=s(ke,0,Re-1),ze=s(ze,0,Re-1),fe<0||xe<0||ke<0||Ie>Ae-1||Fe>Ce-1||ze>Re-1)return i.create();var qe,Ye,Qe,ft,ht,mt,Mt=se[0][fe],_t=se[0][Ie],it=se[1][xe],st=se[1][Fe],St=se[2][ke],zt=(he-Mt)/(_t-Mt),Ft=(Se-it)/(st-it),Pt=(_e-St)/(se[2][ze]-St);switch(isFinite(zt)||(zt=.5),isFinite(Ft)||(Ft=.5),isFinite(Pt)||(Pt=.5),we.reversedX&&(fe=Ae-1-fe,Ie=Ae-1-Ie),we.reversedY&&(xe=Ce-1-xe,Fe=Ce-1-Fe),we.reversedZ&&(ke=Re-1-ke,ze=Re-1-ze),we.filled){case 5:ht=ke,mt=ze,Qe=xe*Re,ft=Fe*Re,qe=fe*Re*Ce,Ye=Ie*Re*Ce;break;case 4:ht=ke,mt=ze,qe=fe*Re,Ye=Ie*Re,Qe=xe*Re*Ae,ft=Fe*Re*Ae;break;case 3:Qe=xe,ft=Fe,ht=ke*Ce,mt=ze*Ce,qe=fe*Ce*Re,Ye=Ie*Ce*Re;break;case 2:Qe=xe,ft=Fe,qe=fe*Ce,Ye=Ie*Ce,ht=ke*Ce*Ae,mt=ze*Ce*Ae;break;case 1:qe=fe,Ye=Ie,ht=ke*Ae,mt=ze*Ae,Qe=xe*Ae*Re,ft=Fe*Ae*Re;break;default:qe=fe,Ye=Ie,Qe=xe*Ae,ft=Fe*Ae,ht=ke*Ae*Ce,mt=ze*Ae*Ce}var Ze=oe[qe+Qe+ht],Je=oe[qe+Qe+mt],Ue=oe[qe+ft+ht],Xe=oe[qe+ft+mt],lt=oe[Ye+Qe+ht],ot=oe[Ye+Qe+mt],Be=oe[Ye+ft+ht],Ne=oe[Ye+ft+mt],at=i.create(),$e=i.create(),gt=i.create(),yt=i.create();i.lerp(at,Ze,lt,zt),i.lerp($e,Je,ot,zt),i.lerp(gt,Ue,Be,zt),i.lerp(yt,Xe,Ne,zt);var xt=i.create(),dt=i.create();i.lerp(xt,at,gt,Ft),i.lerp(dt,$e,yt,Ft);var Lt=i.create();return i.lerp(Lt,xt,dt,Pt),Lt}(me,x,f)},T=x.getDivergence||function(me,Ee){var Te=i.create(),we=1e-4;i.add(Te,me,[we,0,0]);var oe=S(Te);i.subtract(oe,oe,Ee),i.scale(oe,oe,1/we),i.add(Te,me,[0,we,0]);var se=S(Te);i.subtract(se,se,Ee),i.scale(se,se,1/we),i.add(Te,me,[0,0,we]);var he=S(Te);return i.subtract(he,he,Ee),i.scale(he,he,1/we),i.add(Te,oe,se),i.add(Te,Te,he),Te},E=[],O=g[0][0],P=g[0][1],I=g[0][2],z=g[1][0],j=g[1][1],R=g[1][2],N=function(me){var Ee=me[0],Te=me[1],we=me[2];return!(Ee<O||Ee>z||Te<P||Te>j||we<I||we>R)},Z=10*i.distance(g[0],g[1])/v,F=Z*Z,U=1,V=0,te=d.length;te>1&&(U=function(me){for(var Ee=[],Te=[],we=[],oe={},se={},he={},Se=me.length,_e=0;_e<Se;_e++){var Ae=me[_e],Ce=Ae[0],Re=Ae[1],fe=Ae[2];oe[Ce]||(Ee.push(Ce),oe[Ce]=!0),se[Re]||(Te.push(Re),se[Re]=!0),he[fe]||(we.push(fe),he[fe]=!0)}var xe=u(Ee),ke=u(Te),Ie=u(we),Fe=Math.min(xe,ke,Ie);return isFinite(Fe)?Fe:1}(d));for(var Q=0;Q<te;Q++){var J=i.create();i.copy(J,d[Q]);var X=[J],K=[],ee=S(J),re=J;K.push(ee);var ie=[],ae=T(J,ee),ue=i.length(ae);isFinite(ue)&&ue>V&&(V=ue),ie.push(ue),E.push({points:X,velocities:K,divergences:ie});for(var pe=0;pe<100*v&&X.length<v&&N(J);){pe++;var de=i.clone(ee),ye=i.squaredLength(de);if(ye===0)break;ye>F&&i.scale(de,de,Z/Math.sqrt(ye)),i.add(de,de,J),ee=S(de),i.squaredDistance(re,de)-F>-1e-4*F&&(X.push(de),re=de,K.push(ee),ae=T(de,ee),ue=i.length(ae),isFinite(ue)&&ue>V&&(V=ue),ie.push(ue)),J=de}}var be=function(me,Ee,Te,we){for(var oe=0,se=0;se<me.length;se++)for(var he=me[se].velocities,Se=0;Se<he.length;Se++)oe=Math.max(oe,i.length(he[Se]));var _e=me.map(function(qe){return function(Ye,Qe,ft,ht){for(var mt=Ye.points,Mt=Ye.velocities,_t=Ye.divergences,it=[],st=[],St=[],zt=[],Ft=[],Pt=[],Ze=0,Je=0,Ue=n.create(),Xe=n.create(),lt=0;lt<mt.length;lt++){var ot=mt[lt],Be=Mt[lt],Ne=_t[lt];Qe===0&&(Ne=.05*ft),Je=i.length(Be)/ht,Ue=n.create(),i.copy(Ue,Be),Ue[3]=Ne;for(var at=0;at<8;at++)Ft[at]=[ot[0],ot[1],ot[2],at];if(zt.length>0)for(at=0;at<8;at++){var $e=(at+1)%8;it.push(zt[at],Ft[at],Ft[$e],Ft[$e],zt[$e],zt[at]),St.push(Xe,Ue,Ue,Ue,Xe,Xe),Pt.push(Ze,Je,Je,Je,Ze,Ze);var gt=it.length;st.push([gt-6,gt-5,gt-4],[gt-3,gt-2,gt-1])}var yt=zt;zt=Ft,Ft=yt;var xt=Xe;Xe=Ue,Ue=xt;var dt=Ze;Ze=Je,Je=dt}return{positions:it,cells:st,vectors:St,vertexIntensity:Pt}}(qe,Te,we,oe)}),Ae=[],Ce=[],Re=[],fe=[];for(se=0;se<_e.length;se++){var xe=_e[se],ke=Ae.length;for(Ae=Ae.concat(xe.positions),Re=Re.concat(xe.vectors),fe=fe.concat(xe.vertexIntensity),Se=0;Se<xe.cells.length;Se++){var Ie=xe.cells[Se],Fe=[];Ce.push(Fe);for(var ze=0;ze<Ie.length;ze++)Fe.push(Ie[ze]+ke)}}return{positions:Ae,cells:Ce,vectors:Re,vertexIntensity:fe,colormap:Ee}}(E,x.colormap,V,U);return m?be.tubeScale=m:(V===0&&(V=1),be.tubeScale=.5*y*U/V),be};var p=t(9578),c=t(1140).createMesh;h.exports.createTubeMesh=function(x,g){return c(x,g,{shaders:p,traceType:"streamtube"})}},9054:function(h,o,t){var i=t(5158),n=t(6832),r=n([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),l=n([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),s=n([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),u=n([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);o.createShader=function(p){var c=i(p,r,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},o.createPickShader=function(p){var c=i(p,r,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},o.createContourShader=function(p){var c=i(p,s,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},o.createPickContourShader=function(p){var c=i(p,s,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},3754:function(h,o,t){h.exports=function(ae){var ue=ae.gl,pe=f(ue),de=T(ue),ye=S(ue),be=E(ue),me=n(ue),Ee=r(ue,[{buffer:me,size:4,stride:O,offset:0},{buffer:me,size:3,stride:O,offset:16},{buffer:me,size:3,stride:O,offset:28}]),Te=n(ue),we=r(ue,[{buffer:Te,size:4,stride:20,offset:0},{buffer:Te,size:1,stride:20,offset:16}]),oe=n(ue),se=r(ue,[{buffer:oe,size:2,type:ue.FLOAT}]),he=l(ue,1,R,ue.RGBA,ue.UNSIGNED_BYTE);he.minFilter=ue.LINEAR,he.magFilter=ue.LINEAR;var Se=new N(ue,[0,0],[[0,0,0],[0,0,0]],pe,de,me,Ee,he,ye,be,Te,we,oe,se,[0,0,0]),_e={levels:[[],[],[]]};for(var Ae in ae)_e[Ae]=ae[Ae];return _e.colormap=_e.colormap||"jet",Se.update(_e),Se};var i=t(2288),n=t(5827),r=t(2944),l=t(8931),s=t(5306),u=t(9156),p=t(7498),c=t(7382),x=t(5050),g=t(4162),d=t(104),v=t(7437),y=t(5070),m=t(9144),w=t(9054),f=w.createShader,S=w.createContourShader,T=w.createPickShader,E=w.createPickContourShader,O=40,P=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],I=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],z=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function j(ae,ue,pe,de,ye){this.position=ae,this.index=ue,this.uv=pe,this.level=de,this.dataCoordinate=ye}(function(){for(var ae=0;ae<3;++ae){var ue=z[ae],pe=(ae+2)%3;ue[(ae+1)%3+0]=1,ue[pe+3]=1,ue[ae+6]=1}})();var R=256;function N(ae,ue,pe,de,ye,be,me,Ee,Te,we,oe,se,he,Se,_e){this.gl=ae,this.shape=ue,this.bounds=pe,this.objectOffset=_e,this.intensityBounds=[],this._shader=de,this._pickShader=ye,this._coordinateBuffer=be,this._vao=me,this._colorMap=Ee,this._contourShader=Te,this._contourPickShader=we,this._contourBuffer=oe,this._contourVAO=se,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new j([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=he,this._dynamicVAO=Se,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[x(s.mallocFloat(1024),[0,0]),x(s.mallocFloat(1024),[0,0]),x(s.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var Z=N.prototype;Z.genColormap=function(ae,ue){var pe=!1,de=c([u({colormap:ae,nshades:R,format:"rgba"}).map(function(ye,be){var me=ue?function(Ee,Te){if(!Te||!Te.length)return 1;for(var we=0;we<Te.length;++we){if(Te.length<2)return 1;if(Te[we][0]===Ee)return Te[we][1];if(Te[we][0]>Ee&&we>0){var oe=(Te[we][0]-Ee)/(Te[we][0]-Te[we-1][0]);return Te[we][1]*(1-oe)+oe*Te[we-1][1]}}return 1}(be/255,ue):ye[3];return me<1&&(pe=!0),[ye[0],ye[1],ye[2],255*me]})]);return p.divseq(de,255),this.hasAlphaScale=pe,de},Z.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},Z.isOpaque=function(){return!this.isTransparent()},Z.pickSlots=1,Z.setPickBase=function(ae){this.pickId=ae};var F=[0,0,0],U={showSurface:!1,showContour:!1,projections:[P.slice(),P.slice(),P.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function V(ae,ue){var pe,de,ye,be=ue.axes&&ue.axes.lastCubeProps.axis||F,me=ue.showSurface,Ee=ue.showContour;for(pe=0;pe<3;++pe)for(me=me||ue.surfaceProject[pe],de=0;de<3;++de)Ee=Ee||ue.contourProject[pe][de];for(pe=0;pe<3;++pe){var Te=U.projections[pe];for(de=0;de<16;++de)Te[de]=0;for(de=0;de<4;++de)Te[5*de]=1;Te[5*pe]=0,Te[12+pe]=ue.axesBounds[+(be[pe]>0)][pe],d(Te,ae.model,Te);var we=U.clipBounds[pe];for(ye=0;ye<2;++ye)for(de=0;de<3;++de)we[ye][de]=ae.clipBounds[ye][de];we[0][pe]=-1e8,we[1][pe]=1e8}return U.showSurface=me,U.showContour=Ee,U}var te={model:P,view:P,projection:P,inverseModel:P.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},Q=P.slice(),J=[1,0,0,0,1,0,0,0,1];function X(ae,ue){ae=ae||{};var pe=this.gl;pe.disable(pe.CULL_FACE),this._colorMap.bind(0);var de=te;de.model=ae.model||P,de.view=ae.view||P,de.projection=ae.projection||P,de.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],de.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],de.objectOffset=this.objectOffset,de.contourColor=this.contourColor[0],de.inverseModel=v(de.inverseModel,de.model);for(var ye=0;ye<2;++ye)for(var be=de.clipBounds[ye],me=0;me<3;++me)be[me]=Math.min(Math.max(this.clipBounds[ye][me],-1e8),1e8);de.kambient=this.ambientLight,de.kdiffuse=this.diffuseLight,de.kspecular=this.specularLight,de.roughness=this.roughness,de.fresnel=this.fresnel,de.opacity=this.opacity,de.height=0,de.permutation=J,de.vertexColor=this.vertexColor;var Ee=Q;for(d(Ee,de.view,de.model),d(Ee,de.projection,Ee),v(Ee,Ee),ye=0;ye<3;++ye)de.eyePosition[ye]=Ee[12+ye]/Ee[15];var Te=Ee[15];for(ye=0;ye<3;++ye)Te+=this.lightPosition[ye]*Ee[4*ye+3];for(ye=0;ye<3;++ye){var we=Ee[12+ye];for(me=0;me<3;++me)we+=Ee[4*me+ye]*this.lightPosition[me];de.lightPosition[ye]=we/Te}var oe=V(de,this);if(oe.showSurface){for(this._shader.bind(),this._shader.uniforms=de,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(pe.TRIANGLES,this._vertexCount),ye=0;ye<3;++ye)this.surfaceProject[ye]&&this.vertexCount&&(this._shader.uniforms.model=oe.projections[ye],this._shader.uniforms.clipBounds=oe.clipBounds[ye],this._vao.draw(pe.TRIANGLES,this._vertexCount));this._vao.unbind()}if(oe.showContour){var se=this._contourShader;de.kambient=1,de.kdiffuse=0,de.kspecular=0,de.opacity=1,se.bind(),se.uniforms=de;var he=this._contourVAO;for(he.bind(),ye=0;ye<3;++ye)for(se.uniforms.permutation=z[ye],pe.lineWidth(this.contourWidth[ye]*this.pixelRatio),me=0;me<this.contourLevels[ye].length;++me)me===this.highlightLevel[ye]?(se.uniforms.contourColor=this.highlightColor[ye],se.uniforms.contourTint=this.highlightTint[ye]):me!==0&&me-1!==this.highlightLevel[ye]||(se.uniforms.contourColor=this.contourColor[ye],se.uniforms.contourTint=this.contourTint[ye]),this._contourCounts[ye][me]&&(se.uniforms.height=this.contourLevels[ye][me],he.draw(pe.LINES,this._contourCounts[ye][me],this._contourOffsets[ye][me]));for(ye=0;ye<3;++ye)for(se.uniforms.model=oe.projections[ye],se.uniforms.clipBounds=oe.clipBounds[ye],me=0;me<3;++me)if(this.contourProject[ye][me]){se.uniforms.permutation=z[me],pe.lineWidth(this.contourWidth[me]*this.pixelRatio);for(var Se=0;Se<this.contourLevels[me].length;++Se)Se===this.highlightLevel[me]?(se.uniforms.contourColor=this.highlightColor[me],se.uniforms.contourTint=this.highlightTint[me]):Se!==0&&Se-1!==this.highlightLevel[me]||(se.uniforms.contourColor=this.contourColor[me],se.uniforms.contourTint=this.contourTint[me]),this._contourCounts[me][Se]&&(se.uniforms.height=this.contourLevels[me][Se],he.draw(pe.LINES,this._contourCounts[me][Se],this._contourOffsets[me][Se]))}for(he.unbind(),(he=this._dynamicVAO).bind(),ye=0;ye<3;++ye)if(this._dynamicCounts[ye]!==0)for(se.uniforms.model=de.model,se.uniforms.clipBounds=de.clipBounds,se.uniforms.permutation=z[ye],pe.lineWidth(this.dynamicWidth[ye]*this.pixelRatio),se.uniforms.contourColor=this.dynamicColor[ye],se.uniforms.contourTint=this.dynamicTint[ye],se.uniforms.height=this.dynamicLevel[ye],he.draw(pe.LINES,this._dynamicCounts[ye],this._dynamicOffsets[ye]),me=0;me<3;++me)this.contourProject[me][ye]&&(se.uniforms.model=oe.projections[me],se.uniforms.clipBounds=oe.clipBounds[me],he.draw(pe.LINES,this._dynamicCounts[ye],this._dynamicOffsets[ye]));he.unbind()}}Z.draw=function(ae){return X.call(this,ae,!1)},Z.drawTransparent=function(ae){return X.call(this,ae,!0)};var K={model:P,view:P,projection:P,inverseModel:P,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function ee(ae,ue){return Array.isArray(ae)?[ue(ae[0]),ue(ae[1]),ue(ae[2])]:[ue(ae),ue(ae),ue(ae)]}function re(ae){return Array.isArray(ae)?ae.length===3?[ae[0],ae[1],ae[2],1]:[ae[0],ae[1],ae[2],ae[3]]:[0,0,0,1]}function ie(ae){if(Array.isArray(ae)){if(Array.isArray(ae))return[re(ae[0]),re(ae[1]),re(ae[2])];var ue=re(ae);return[ue.slice(),ue.slice(),ue.slice()]}}Z.drawPick=function(ae){ae=ae||{};var ue=this.gl;ue.disable(ue.CULL_FACE);var pe=K;pe.model=ae.model||P,pe.view=ae.view||P,pe.projection=ae.projection||P,pe.shape=this._field[2].shape,pe.pickId=this.pickId/255,pe.lowerBound=this.bounds[0],pe.upperBound=this.bounds[1],pe.objectOffset=this.objectOffset,pe.permutation=J;for(var de=0;de<2;++de)for(var ye=pe.clipBounds[de],be=0;be<3;++be)ye[be]=Math.min(Math.max(this.clipBounds[de][be],-1e8),1e8);var me=V(pe,this);if(me.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=pe,this._vao.bind(),this._vao.draw(ue.TRIANGLES,this._vertexCount),de=0;de<3;++de)this.surfaceProject[de]&&(this._pickShader.uniforms.model=me.projections[de],this._pickShader.uniforms.clipBounds=me.clipBounds[de],this._vao.draw(ue.TRIANGLES,this._vertexCount));this._vao.unbind()}if(me.showContour){var Ee=this._contourPickShader;Ee.bind(),Ee.uniforms=pe;var Te=this._contourVAO;for(Te.bind(),be=0;be<3;++be)for(ue.lineWidth(this.contourWidth[be]*this.pixelRatio),Ee.uniforms.permutation=z[be],de=0;de<this.contourLevels[be].length;++de)this._contourCounts[be][de]&&(Ee.uniforms.height=this.contourLevels[be][de],Te.draw(ue.LINES,this._contourCounts[be][de],this._contourOffsets[be][de]));for(de=0;de<3;++de)for(Ee.uniforms.model=me.projections[de],Ee.uniforms.clipBounds=me.clipBounds[de],be=0;be<3;++be)if(this.contourProject[de][be]){Ee.uniforms.permutation=z[be],ue.lineWidth(this.contourWidth[be]*this.pixelRatio);for(var we=0;we<this.contourLevels[be].length;++we)this._contourCounts[be][we]&&(Ee.uniforms.height=this.contourLevels[be][we],Te.draw(ue.LINES,this._contourCounts[be][we],this._contourOffsets[be][we]))}Te.unbind()}},Z.pick=function(ae){if(!ae||ae.id!==this.pickId)return null;var ue=this._field[2].shape,pe=this._pickResult,de=ue[0]*(ae.value[0]+(ae.value[2]>>4)/16)/255,ye=Math.floor(de),be=de-ye,me=ue[1]*(ae.value[1]+(15&ae.value[2])/16)/255,Ee=Math.floor(me),Te=me-Ee;ye+=1,Ee+=1;var we=pe.position;we[0]=we[1]=we[2]=0;for(var oe=0;oe<2;++oe)for(var se=oe?be:1-be,he=0;he<2;++he)for(var Se=ye+oe,_e=Ee+he,Ae=se*(he?Te:1-Te),Ce=0;Ce<3;++Ce)we[Ce]+=this._field[Ce].get(Se,_e)*Ae;for(var Re=this._pickResult.level,fe=0;fe<3;++fe)if(Re[fe]=y.le(this.contourLevels[fe],we[fe]),Re[fe]<0)this.contourLevels[fe].length>0&&(Re[fe]=0);else if(Re[fe]<this.contourLevels[fe].length-1){var xe=this.contourLevels[fe][Re[fe]],ke=this.contourLevels[fe][Re[fe]+1];Math.abs(xe-we[fe])>Math.abs(ke-we[fe])&&(Re[fe]+=1)}for(pe.index[0]=be<.5?ye:ye+1,pe.index[1]=Te<.5?Ee:Ee+1,pe.uv[0]=de/ue[0],pe.uv[1]=me/ue[1],Ce=0;Ce<3;++Ce)pe.dataCoordinate[Ce]=this._field[Ce].get(pe.index[0],pe.index[1]);return pe},Z.padField=function(ae,ue){var pe=ue.shape.slice(),de=ae.shape.slice();p.assign(ae.lo(1,1).hi(pe[0],pe[1]),ue),p.assign(ae.lo(1).hi(pe[0],1),ue.hi(pe[0],1)),p.assign(ae.lo(1,de[1]-1).hi(pe[0],1),ue.lo(0,pe[1]-1).hi(pe[0],1)),p.assign(ae.lo(0,1).hi(1,pe[1]),ue.hi(1)),p.assign(ae.lo(de[0]-1,1).hi(1,pe[1]),ue.lo(pe[0]-1)),ae.set(0,0,ue.get(0,0)),ae.set(0,de[1]-1,ue.get(0,pe[1]-1)),ae.set(de[0]-1,0,ue.get(pe[0]-1,0)),ae.set(de[0]-1,de[1]-1,ue.get(pe[0]-1,pe[1]-1))},Z.update=function(ae){ae=ae||{},this.objectOffset=ae.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in ae&&(this.contourWidth=ee(ae.contourWidth,Number)),"showContour"in ae&&(this.showContour=ee(ae.showContour,Boolean)),"showSurface"in ae&&(this.showSurface=!!ae.showSurface),"contourTint"in ae&&(this.contourTint=ee(ae.contourTint,Boolean)),"contourColor"in ae&&(this.contourColor=ie(ae.contourColor)),"contourProject"in ae&&(this.contourProject=ee(ae.contourProject,function(ln){return ee(ln,Boolean)})),"surfaceProject"in ae&&(this.surfaceProject=ae.surfaceProject),"dynamicColor"in ae&&(this.dynamicColor=ie(ae.dynamicColor)),"dynamicTint"in ae&&(this.dynamicTint=ee(ae.dynamicTint,Number)),"dynamicWidth"in ae&&(this.dynamicWidth=ee(ae.dynamicWidth,Number)),"opacity"in ae&&(this.opacity=ae.opacity),"opacityscale"in ae&&(this.opacityscale=ae.opacityscale),"colorBounds"in ae&&(this.colorBounds=ae.colorBounds),"vertexColor"in ae&&(this.vertexColor=ae.vertexColor?1:0),"colormap"in ae&&this._colorMap.setPixels(this.genColormap(ae.colormap,this.opacityscale));var ue=ae.field||ae.coords&&ae.coords[2]||null,pe=!1;if(ue||(ue=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in ae||"coords"in ae){var de=(ue.shape[0]+2)*(ue.shape[1]+2);de>this._field[2].data.length&&(s.freeFloat(this._field[2].data),this._field[2].data=s.mallocFloat(i.nextPow2(de))),this._field[2]=x(this._field[2].data,[ue.shape[0]+2,ue.shape[1]+2]),this.padField(this._field[2],ue),this.shape=ue.shape.slice();for(var ye=this.shape,be=0;be<2;++be)this._field[2].size>this._field[be].data.length&&(s.freeFloat(this._field[be].data),this._field[be].data=s.mallocFloat(this._field[2].size)),this._field[be]=x(this._field[be].data,[ye[0]+2,ye[1]+2]);if(ae.coords){var me=ae.coords;if(!Array.isArray(me)||me.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(be=0;be<2;++be){var Ee=me[be];for(he=0;he<2;++he)if(Ee.shape[he]!==ye[he])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[be],Ee)}}else if(ae.ticks){var Te=ae.ticks;if(!Array.isArray(Te)||Te.length!==2)throw new Error("gl-surface: invalid ticks");for(be=0;be<2;++be){var we=Te[be];if((Array.isArray(we)||we.length)&&(we=x(we)),we.shape[0]!==ye[be])throw new Error("gl-surface: invalid tick length");var oe=x(we.data,ye);oe.stride[be]=we.stride[0],oe.stride[1^be]=0,this.padField(this._field[be],oe)}}else{for(be=0;be<2;++be){var se=[0,0];se[be]=1,this._field[be]=x(this._field[be].data,[ye[0]+2,ye[1]+2],se,0)}this._field[0].set(0,0,0);for(var he=0;he<ye[0];++he)this._field[0].set(he+1,0,he);for(this._field[0].set(ye[0]+1,0,ye[0]-1),this._field[1].set(0,0,0),he=0;he<ye[1];++he)this._field[1].set(0,he+1,he);this._field[1].set(0,ye[1]+1,ye[1]-1)}var Se=this._field,_e=x(s.mallocFloat(3*Se[2].size*2),[3,ye[0]+2,ye[1]+2,2]);for(be=0;be<3;++be)m(_e.pick(be),Se[be],"mirror");var Ae=x(s.mallocFloat(3*Se[2].size),[ye[0]+2,ye[1]+2,3]);for(be=0;be<ye[0]+2;++be)for(he=0;he<ye[1]+2;++he){var Ce=_e.get(0,be,he,0),Re=_e.get(0,be,he,1),fe=_e.get(1,be,he,0),xe=_e.get(1,be,he,1),ke=_e.get(2,be,he,0),Ie=_e.get(2,be,he,1),Fe=fe*Ie-xe*ke,ze=ke*Re-Ie*Ce,qe=Ce*xe-Re*fe,Ye=Math.sqrt(Fe*Fe+ze*ze+qe*qe);Ye<1e-8?(Ye=Math.max(Math.abs(Fe),Math.abs(ze),Math.abs(qe)))<1e-8?(qe=1,ze=Fe=0,Ye=1):Ye=1/Ye:Ye=1/Math.sqrt(Ye),Ae.set(be,he,0,Fe*Ye),Ae.set(be,he,1,ze*Ye),Ae.set(be,he,2,qe*Ye)}s.free(_e.data);var Qe=[1/0,1/0,1/0],ft=[-1/0,-1/0,-1/0],ht=1/0,mt=-1/0,Mt=(ye[0]-1)*(ye[1]-1)*6,_t=s.mallocFloat(i.nextPow2(10*Mt)),it=0,st=0;for(be=0;be<ye[0]-1;++be)e:for(he=0;he<ye[1]-1;++he){for(var St=0;St<2;++St)for(var zt=0;zt<2;++zt)for(var Ft=0;Ft<3;++Ft){var Pt=this._field[Ft].get(1+be+St,1+he+zt);if(isNaN(Pt)||!isFinite(Pt))continue e}for(Ft=0;Ft<6;++Ft){var Ze=be+I[Ft][0],Je=he+I[Ft][1],Ue=this._field[0].get(Ze+1,Je+1),Xe=this._field[1].get(Ze+1,Je+1);Pt=this._field[2].get(Ze+1,Je+1),Fe=Ae.get(Ze+1,Je+1,0),ze=Ae.get(Ze+1,Je+1,1),qe=Ae.get(Ze+1,Je+1,2),ae.intensity&&(lt=ae.intensity.get(Ze,Je));var lt=ae.intensity?ae.intensity.get(Ze,Je):Pt+this.objectOffset[2];_t[it++]=Ze,_t[it++]=Je,_t[it++]=Ue,_t[it++]=Xe,_t[it++]=Pt,_t[it++]=0,_t[it++]=lt,_t[it++]=Fe,_t[it++]=ze,_t[it++]=qe,Qe[0]=Math.min(Qe[0],Ue+this.objectOffset[0]),Qe[1]=Math.min(Qe[1],Xe+this.objectOffset[1]),Qe[2]=Math.min(Qe[2],Pt+this.objectOffset[2]),ht=Math.min(ht,lt),ft[0]=Math.max(ft[0],Ue+this.objectOffset[0]),ft[1]=Math.max(ft[1],Xe+this.objectOffset[1]),ft[2]=Math.max(ft[2],Pt+this.objectOffset[2]),mt=Math.max(mt,lt),st+=1}}for(ae.intensityBounds&&(ht=+ae.intensityBounds[0],mt=+ae.intensityBounds[1]),be=6;be<it;be+=10)_t[be]=(_t[be]-ht)/(mt-ht);this._vertexCount=st,this._coordinateBuffer.update(_t.subarray(0,it)),s.freeFloat(_t),s.free(Ae.data),this.bounds=[Qe,ft],this.intensity=ae.intensity||this._field[2],this.intensityBounds[0]===ht&&this.intensityBounds[1]===mt||(pe=!0),this.intensityBounds=[ht,mt]}if("levels"in ae){var ot=ae.levels;for(ot=Array.isArray(ot[0])?ot.slice():[[],[],ot],be=0;be<3;++be)ot[be]=ot[be].slice(),ot[be].sort(function(ln,nn){return ln-nn});for(be=0;be<3;++be)for(he=0;he<ot[be].length;++he)ot[be][he]-=this.objectOffset[be];e:for(be=0;be<3;++be){if(ot[be].length!==this.contourLevels[be].length){pe=!0;break}for(he=0;he<ot[be].length;++he)if(ot[be][he]!==this.contourLevels[be][he]){pe=!0;break e}}this.contourLevels=ot}if(pe){Se=this._field,ye=this.shape;for(var Be=[],Ne=0;Ne<3;++Ne){var at=this.contourLevels[Ne],$e=[],gt=[],yt=[0,0,0];for(be=0;be<at.length;++be){var xt=g(this._field[Ne],at[be]);$e.push(Be.length/5|0),st=0;e:for(he=0;he<xt.cells.length;++he){var dt=xt.cells[he];for(Ft=0;Ft<2;++Ft){var Lt=xt.positions[dt[Ft]],Tt=Lt[0],bt=0|Math.floor(Tt),Ct=Tt-bt,Dt=Lt[1],Bt=0|Math.floor(Dt),Xt=Dt-Bt,an=!1;t:for(var Wt=0;Wt<3;++Wt){yt[Wt]=0;var Vt=(Ne+Wt+1)%3;for(St=0;St<2;++St){var on=St?Ct:1-Ct;for(Ze=0|Math.min(Math.max(bt+St,0),ye[0]),zt=0;zt<2;++zt){var Sn=zt?Xt:1-Xt;if(Je=0|Math.min(Math.max(Bt+zt,0),ye[1]),Pt=Wt<2?this._field[Vt].get(Ze,Je):(this.intensity.get(Ze,Je)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Pt)||isNaN(Pt)){an=!0;break t}var Ln=on*Sn;yt[Wt]+=Ln*Pt}}}if(an){if(Ft>0){for(var fn=0;fn<5;++fn)Be.pop();st-=1}continue e}Be.push(yt[0],yt[1],Lt[0],Lt[1],yt[2]),st+=1}}gt.push(st)}this._contourOffsets[Ne]=$e,this._contourCounts[Ne]=gt}var Zt=s.mallocFloat(Be.length);for(be=0;be<Be.length;++be)Zt[be]=Be[be];this._contourBuffer.update(Zt),s.freeFloat(Zt)}},Z.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var ae=0;ae<3;++ae)s.freeFloat(this._field[ae].data)},Z.highlight=function(ae){var ue,pe;if(!ae)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(ue=0;ue<3;++ue)this.enableHighlight[ue]?this.highlightLevel[ue]=ae.level[ue]:this.highlightLevel[ue]=-1;for(pe=this.snapToData?ae.dataCoordinate:ae.position,ue=0;ue<3;++ue)pe[ue]-=this.objectOffset[ue];if(this.enableDynamic[0]&&pe[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&pe[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&pe[2]!==this.dynamicLevel[2]){for(var de=0,ye=this.shape,be=s.mallocFloat(12*ye[0]*ye[1]),me=0;me<3;++me)if(this.enableDynamic[me]){this.dynamicLevel[me]=pe[me];var Ee=(me+1)%3,Te=(me+2)%3,we=this._field[me],oe=this._field[Ee],se=this._field[Te],he=g(we,pe[me]),Se=he.cells,_e=he.positions;for(this._dynamicOffsets[me]=de,ue=0;ue<Se.length;++ue)for(var Ae=Se[ue],Ce=0;Ce<2;++Ce){var Re=_e[Ae[Ce]],fe=+Re[0],xe=0|fe,ke=0|Math.min(xe+1,ye[0]),Ie=fe-xe,Fe=1-Ie,ze=+Re[1],qe=0|ze,Ye=0|Math.min(qe+1,ye[1]),Qe=ze-qe,ft=1-Qe,ht=Fe*ft,mt=Fe*Qe,Mt=Ie*ft,_t=Ie*Qe,it=ht*oe.get(xe,qe)+mt*oe.get(xe,Ye)+Mt*oe.get(ke,qe)+_t*oe.get(ke,Ye),st=ht*se.get(xe,qe)+mt*se.get(xe,Ye)+Mt*se.get(ke,qe)+_t*se.get(ke,Ye);if(isNaN(it)||isNaN(st)){Ce&&(de-=1);break}be[2*de+0]=it,be[2*de+1]=st,de+=1}this._dynamicCounts[me]=de-this._dynamicOffsets[me]}else this.dynamicLevel[me]=NaN,this._dynamicCounts[me]=0;this._dynamicBuffer.update(be.subarray(0,2*de)),s.freeFloat(be)}}},8931:function(h,o,t){var i=t(5050),n=t(7498),r=t(5306);h.exports=function(w){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(l||function(T){l=[T.LINEAR,T.NEAREST_MIPMAP_LINEAR,T.LINEAR_MIPMAP_NEAREST,T.LINEAR_MIPMAP_NEAREST],s=[T.NEAREST,T.LINEAR,T.NEAREST_MIPMAP_NEAREST,T.NEAREST_MIPMAP_LINEAR,T.LINEAR_MIPMAP_NEAREST,T.LINEAR_MIPMAP_LINEAR],u=[T.REPEAT,T.CLAMP_TO_EDGE,T.MIRRORED_REPEAT]}(w),typeof arguments[1]=="number")return m(w,arguments[1],arguments[2],arguments[3]||w.RGBA,arguments[4]||w.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return m(w,0|arguments[1][0],0|arguments[1][1],arguments[2]||w.RGBA,arguments[3]||w.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var f=arguments[1],S=p(f)?f:f.raw;if(S)return function(T,E,O,P,I,z){var j=y(T);return T.texImage2D(T.TEXTURE_2D,0,I,I,z,E),new g(T,j,O,P,I,z)}(w,S,0|f.width,0|f.height,arguments[2]||w.RGBA,arguments[3]||w.UNSIGNED_BYTE);if(f.shape&&f.data&&f.stride)return function(T,E){var O=E.dtype,P=E.shape.slice(),I=T.getParameter(T.MAX_TEXTURE_SIZE);if(P[0]<0||P[0]>I||P[1]<0||P[1]>I)throw new Error("gl-texture2d: Invalid texture size");var z=v(P,E.stride.slice()),j=0;O==="float32"?j=T.FLOAT:O==="float64"?(j=T.FLOAT,z=!1,O="float32"):O==="uint8"?j=T.UNSIGNED_BYTE:(j=T.UNSIGNED_BYTE,z=!1,O="uint8");var R,N,Z=0;if(P.length===2)Z=T.LUMINANCE,P=[P[0],P[1],1],E=i(E.data,P,[E.stride[0],E.stride[1],1],E.offset);else{if(P.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(P[2]===1)Z=T.ALPHA;else if(P[2]===2)Z=T.LUMINANCE_ALPHA;else if(P[2]===3)Z=T.RGB;else{if(P[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");Z=T.RGBA}}j!==T.FLOAT||T.getExtension("OES_texture_float")||(j=T.UNSIGNED_BYTE,z=!1);var F=E.size;if(z)R=E.offset===0&&E.data.length===F?E.data:E.data.subarray(E.offset,E.offset+F);else{var U=[P[2],P[2]*P[0],1];N=r.malloc(F,O);var V=i(N,P,U,0);O!=="float32"&&O!=="float64"||j!==T.UNSIGNED_BYTE?n.assign(V,E):c(V,E),R=N.subarray(0,F)}var te=y(T);return T.texImage2D(T.TEXTURE_2D,0,Z,P[0],P[1],0,Z,j,R),z||r.free(N),new g(T,te,P[0],P[1],Z,j)}(w,f)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var l=null,s=null,u=null;function p(w){return typeof HTMLCanvasElement<"u"&&w instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&w instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&w instanceof HTMLVideoElement||typeof ImageData<"u"&&w instanceof ImageData}var c=function(w,f){n.muls(w,f,255)};function x(w,f,S){var T=w.gl,E=T.getParameter(T.MAX_TEXTURE_SIZE);if(f<0||f>E||S<0||S>E)throw new Error("gl-texture2d: Invalid texture size");return w._shape=[f,S],w.bind(),T.texImage2D(T.TEXTURE_2D,0,w.format,f,S,0,w.format,w.type,null),w._mipLevels=[0],w}function g(w,f,S,T,E,O){this.gl=w,this.handle=f,this.format=E,this.type=O,this._shape=[S,T],this._mipLevels=[0],this._magFilter=w.NEAREST,this._minFilter=w.NEAREST,this._wrapS=w.CLAMP_TO_EDGE,this._wrapT=w.CLAMP_TO_EDGE,this._anisoSamples=1;var P=this,I=[this._wrapS,this._wrapT];Object.defineProperties(I,[{get:function(){return P._wrapS},set:function(j){return P.wrapS=j}},{get:function(){return P._wrapT},set:function(j){return P.wrapT=j}}]),this._wrapVector=I;var z=[this._shape[0],this._shape[1]];Object.defineProperties(z,[{get:function(){return P._shape[0]},set:function(j){return P.width=j}},{get:function(){return P._shape[1]},set:function(j){return P.height=j}}]),this._shapeVector=z}var d=g.prototype;function v(w,f){return w.length===3?f[2]===1&&f[1]===w[0]*w[2]&&f[0]===w[2]:f[0]===1&&f[1]===w[0]}function y(w){var f=w.createTexture();return w.bindTexture(w.TEXTURE_2D,f),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.NEAREST),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,w.NEAREST),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),f}function m(w,f,S,T,E){var O=w.getParameter(w.MAX_TEXTURE_SIZE);if(f<0||f>O||S<0||S>O)throw new Error("gl-texture2d: Invalid texture shape");if(E===w.FLOAT&&!w.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var P=y(w);return w.texImage2D(w.TEXTURE_2D,0,T,f,S,0,T,E,null),new g(w,P,f,S,T,E)}Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(w){this.bind();var f=this.gl;if(this.type===f.FLOAT&&l.indexOf(w)>=0&&(f.getExtension("OES_texture_float_linear")||(w=f.NEAREST)),s.indexOf(w)<0)throw new Error("gl-texture2d: Unknown filter mode "+w);return f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,w),this._minFilter=w}},magFilter:{get:function(){return this._magFilter},set:function(w){this.bind();var f=this.gl;if(this.type===f.FLOAT&&l.indexOf(w)>=0&&(f.getExtension("OES_texture_float_linear")||(w=f.NEAREST)),s.indexOf(w)<0)throw new Error("gl-texture2d: Unknown filter mode "+w);return f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,w),this._magFilter=w}},mipSamples:{get:function(){return this._anisoSamples},set:function(w){var f=this._anisoSamples;if(this._anisoSamples=0|Math.max(w,1),f!==this._anisoSamples){var S=this.gl.getExtension("EXT_texture_filter_anisotropic");S&&this.gl.texParameterf(this.gl.TEXTURE_2D,S.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(w){if(this.bind(),u.indexOf(w)<0)throw new Error("gl-texture2d: Unknown wrap mode "+w);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,w),this._wrapS=w}},wrapT:{get:function(){return this._wrapT},set:function(w){if(this.bind(),u.indexOf(w)<0)throw new Error("gl-texture2d: Unknown wrap mode "+w);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,w),this._wrapT=w}},wrap:{get:function(){return this._wrapVector},set:function(w){if(Array.isArray(w)||(w=[w,w]),w.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var f=0;f<2;++f)if(u.indexOf(w[f])<0)throw new Error("gl-texture2d: Unknown wrap mode "+w);this._wrapS=w[0],this._wrapT=w[1];var S=this.gl;return this.bind(),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,this._wrapS),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,this._wrapT),w}},shape:{get:function(){return this._shapeVector},set:function(w){if(Array.isArray(w)){if(w.length!==2)throw new Error("gl-texture2d: Invalid texture shape")}else w=[0|w,0|w];return x(this,0|w[0],0|w[1]),[0|w[0],0|w[1]]}},width:{get:function(){return this._shape[0]},set:function(w){return x(this,w|=0,this._shape[1]),w}},height:{get:function(){return this._shape[1]},set:function(w){return w|=0,x(this,this._shape[0],w),w}}}),d.bind=function(w){var f=this.gl;return w!==void 0&&f.activeTexture(f.TEXTURE0+(0|w)),f.bindTexture(f.TEXTURE_2D,this.handle),w!==void 0?0|w:f.getParameter(f.ACTIVE_TEXTURE)-f.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var w=Math.min(this._shape[0],this._shape[1]),f=0;w>0;++f,w>>>=1)this._mipLevels.indexOf(f)<0&&this._mipLevels.push(f)},d.setPixels=function(w,f,S,T){var E=this.gl;this.bind(),Array.isArray(f)?(T=S,S=0|f[1],f=0|f[0]):(f=f||0,S=S||0),T=T||0;var O=p(w)?w:w.raw;if(O)this._mipLevels.indexOf(T)<0?(E.texImage2D(E.TEXTURE_2D,0,this.format,this.format,this.type,O),this._mipLevels.push(T)):E.texSubImage2D(E.TEXTURE_2D,T,f,S,this.format,this.type,O);else{if(!(w.shape&&w.stride&&w.data))throw new Error("gl-texture2d: Unsupported data type");if(w.shape.length<2||f+w.shape[1]>this._shape[1]>>>T||S+w.shape[0]>this._shape[0]>>>T||f<0||S<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");(function(P,I,z,j,R,N,Z,F){var U=F.dtype,V=F.shape.slice();if(V.length<2||V.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var te=0,Q=0,J=v(V,F.stride.slice());if(U==="float32"?te=P.FLOAT:U==="float64"?(te=P.FLOAT,J=!1,U="float32"):U==="uint8"?te=P.UNSIGNED_BYTE:(te=P.UNSIGNED_BYTE,J=!1,U="uint8"),V.length===2)Q=P.LUMINANCE,V=[V[0],V[1],1],F=i(F.data,V,[F.stride[0],F.stride[1],1],F.offset);else{if(V.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(V[2]===1)Q=P.ALPHA;else if(V[2]===2)Q=P.LUMINANCE_ALPHA;else if(V[2]===3)Q=P.RGB;else{if(V[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");Q=P.RGBA}V[2]}if(Q!==P.LUMINANCE&&Q!==P.ALPHA||R!==P.LUMINANCE&&R!==P.ALPHA||(Q=R),Q!==R)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var X=F.size,K=Z.indexOf(j)<0;if(K&&Z.push(j),te===N&&J)F.offset===0&&F.data.length===X?K?P.texImage2D(P.TEXTURE_2D,j,R,V[0],V[1],0,R,N,F.data):P.texSubImage2D(P.TEXTURE_2D,j,I,z,V[0],V[1],R,N,F.data):K?P.texImage2D(P.TEXTURE_2D,j,R,V[0],V[1],0,R,N,F.data.subarray(F.offset,F.offset+X)):P.texSubImage2D(P.TEXTURE_2D,j,I,z,V[0],V[1],R,N,F.data.subarray(F.offset,F.offset+X));else{var ee;ee=N===P.FLOAT?r.mallocFloat32(X):r.mallocUint8(X);var re=i(ee,V,[V[2],V[2]*V[0],1]);te===P.FLOAT&&N===P.UNSIGNED_BYTE?c(re,F):n.assign(re,F),K?P.texImage2D(P.TEXTURE_2D,j,R,V[0],V[1],0,R,N,ee.subarray(0,X)):P.texSubImage2D(P.TEXTURE_2D,j,I,z,V[0],V[1],R,N,ee.subarray(0,X)),N===P.FLOAT?r.freeFloat32(ee):r.freeUint8(ee)}})(E,f,S,T,this.format,this.type,this._mipLevels,w)}}},3056:function(h){h.exports=function(o,t,i){t?t.bind():o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,null);var n=0|o.getParameter(o.MAX_VERTEX_ATTRIBS);if(i){if(i.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var r=0;r<i.length;++r){var l=i[r];if(l.buffer){var s=l.buffer,u=l.size||4,p=l.type||o.FLOAT,c=!!l.normalized,x=l.stride||0,g=l.offset||0;s.bind(),o.enableVertexAttribArray(r),o.vertexAttribPointer(r,u,p,c,x,g)}else{if(typeof l=="number")o.vertexAttrib1f(r,l);else if(l.length===1)o.vertexAttrib1f(r,l[0]);else if(l.length===2)o.vertexAttrib2f(r,l[0],l[1]);else if(l.length===3)o.vertexAttrib3f(r,l[0],l[1],l[2]);else{if(l.length!==4)throw new Error("gl-vao: Invalid vertex attribute");o.vertexAttrib4f(r,l[0],l[1],l[2],l[3])}o.disableVertexAttribArray(r)}}for(;r<n;++r)o.disableVertexAttribArray(r)}else for(o.bindBuffer(o.ARRAY_BUFFER,null),r=0;r<n;++r)o.disableVertexAttribArray(r)}},7220:function(h,o,t){var i=t(3056);function n(r){this.gl=r,this._elements=null,this._attributes=null,this._elementsType=r.UNSIGNED_SHORT}n.prototype.bind=function(){i(this.gl,this._elements,this._attributes)},n.prototype.update=function(r,l,s){this._elements=l,this._attributes=r,this._elementsType=s||this.gl.UNSIGNED_SHORT},n.prototype.dispose=function(){},n.prototype.unbind=function(){},n.prototype.draw=function(r,l,s){s=s||0;var u=this.gl;this._elements?u.drawElements(r,l,this._elementsType,s):u.drawArrays(r,s,l)},h.exports=function(r){return new n(r)}},3778:function(h,o,t){var i=t(3056);function n(l,s,u,p,c,x){this.location=l,this.dimension=s,this.a=u,this.b=p,this.c=c,this.d=x}function r(l,s,u){this.gl=l,this._ext=s,this.handle=u,this._attribs=[],this._useElements=!1,this._elementsType=l.UNSIGNED_SHORT}n.prototype.bind=function(l){switch(this.dimension){case 1:l.vertexAttrib1f(this.location,this.a);break;case 2:l.vertexAttrib2f(this.location,this.a,this.b);break;case 3:l.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:l.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},r.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var l=0;l<this._attribs.length;++l)this._attribs[l].bind(this.gl)},r.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},r.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},r.prototype.update=function(l,s,u){if(this.bind(),i(this.gl,s,l),this.unbind(),this._attribs.length=0,l)for(var p=0;p<l.length;++p){var c=l[p];typeof c=="number"?this._attribs.push(new n(p,1,c)):Array.isArray(c)&&this._attribs.push(new n(p,c.length,c[0],c[1],c[2],c[3]))}this._useElements=!!s,this._elementsType=u||this.gl.UNSIGNED_SHORT},r.prototype.draw=function(l,s,u){u=u||0;var p=this.gl;this._useElements?p.drawElements(l,s,this._elementsType,u):p.drawArrays(l,u,s)},h.exports=function(l,s){return new r(l,s,s.createVertexArrayOES())}},2944:function(h,o,t){var i=t(3778),n=t(7220);function r(l){this.bindVertexArrayOES=l.bindVertexArray.bind(l),this.createVertexArrayOES=l.createVertexArray.bind(l),this.deleteVertexArrayOES=l.deleteVertexArray.bind(l)}h.exports=function(l,s,u,p){var c,x=l.createVertexArray?new r(l):l.getExtension("OES_vertex_array_object");return(c=x?i(l,x):n(l)).update(s,u,p),c}},2598:function(h){h.exports=function(o,t,i){return o[0]=t[0]+i[0],o[1]=t[1]+i[1],o[2]=t[2]+i[2],o}},5879:function(h,o,t){h.exports=function(l,s){var u=i(l[0],l[1],l[2]),p=i(s[0],s[1],s[2]);n(u,u),n(p,p);var c=r(u,p);return c>1?0:Math.acos(c)};var i=t(5415),n=t(899),r=t(9305)},8827:function(h){h.exports=function(o,t){return o[0]=Math.ceil(t[0]),o[1]=Math.ceil(t[1]),o[2]=Math.ceil(t[2]),o}},7622:function(h){h.exports=function(o){var t=new Float32Array(3);return t[0]=o[0],t[1]=o[1],t[2]=o[2],t}},8782:function(h){h.exports=function(o,t){return o[0]=t[0],o[1]=t[1],o[2]=t[2],o}},8501:function(h){h.exports=function(){var o=new Float32Array(3);return o[0]=0,o[1]=0,o[2]=0,o}},903:function(h){h.exports=function(o,t,i){var n=t[0],r=t[1],l=t[2],s=i[0],u=i[1],p=i[2];return o[0]=r*p-l*u,o[1]=l*s-n*p,o[2]=n*u-r*s,o}},5981:function(h,o,t){h.exports=t(8288)},8288:function(h){h.exports=function(o,t){var i=t[0]-o[0],n=t[1]-o[1],r=t[2]-o[2];return Math.sqrt(i*i+n*n+r*r)}},8629:function(h,o,t){h.exports=t(7979)},7979:function(h){h.exports=function(o,t,i){return o[0]=t[0]/i[0],o[1]=t[1]/i[1],o[2]=t[2]/i[2],o}},9305:function(h){h.exports=function(o,t){return o[0]*t[0]+o[1]*t[1]+o[2]*t[2]}},154:function(h){h.exports=1e-6},4932:function(h,o,t){h.exports=function(n,r){var l=n[0],s=n[1],u=n[2],p=r[0],c=r[1],x=r[2];return Math.abs(l-p)<=i*Math.max(1,Math.abs(l),Math.abs(p))&&Math.abs(s-c)<=i*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(u-x)<=i*Math.max(1,Math.abs(u),Math.abs(x))};var i=t(154)},5777:function(h){h.exports=function(o,t){return o[0]===t[0]&&o[1]===t[1]&&o[2]===t[2]}},3306:function(h){h.exports=function(o,t){return o[0]=Math.floor(t[0]),o[1]=Math.floor(t[1]),o[2]=Math.floor(t[2]),o}},7447:function(h,o,t){h.exports=function(n,r,l,s,u,p){var c,x;for(r||(r=3),l||(l=0),x=s?Math.min(s*r+l,n.length):n.length,c=l;c<x;c+=r)i[0]=n[c],i[1]=n[c+1],i[2]=n[c+2],u(i,i,p),n[c]=i[0],n[c+1]=i[1],n[c+2]=i[2];return n};var i=t(8501)()},5415:function(h){h.exports=function(o,t,i){var n=new Float32Array(3);return n[0]=o,n[1]=t,n[2]=i,n}},2858:function(h,o,t){h.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(h){h.exports=function(o,t){return o[0]=1/t[0],o[1]=1/t[1],o[2]=1/t[2],o}},1468:function(h,o,t){h.exports=t(4693)},4693:function(h){h.exports=function(o){var t=o[0],i=o[1],n=o[2];return Math.sqrt(t*t+i*i+n*n)}},1868:function(h){h.exports=function(o,t,i,n){var r=t[0],l=t[1],s=t[2];return o[0]=r+n*(i[0]-r),o[1]=l+n*(i[1]-l),o[2]=s+n*(i[2]-s),o}},1716:function(h){h.exports=function(o,t,i){return o[0]=Math.max(t[0],i[0]),o[1]=Math.max(t[1],i[1]),o[2]=Math.max(t[2],i[2]),o}},3605:function(h){h.exports=function(o,t,i){return o[0]=Math.min(t[0],i[0]),o[1]=Math.min(t[1],i[1]),o[2]=Math.min(t[2],i[2]),o}},5733:function(h,o,t){h.exports=t(105)},105:function(h){h.exports=function(o,t,i){return o[0]=t[0]*i[0],o[1]=t[1]*i[1],o[2]=t[2]*i[2],o}},435:function(h){h.exports=function(o,t){return o[0]=-t[0],o[1]=-t[1],o[2]=-t[2],o}},899:function(h){h.exports=function(o,t){var i=t[0],n=t[1],r=t[2],l=i*i+n*n+r*r;return l>0&&(l=1/Math.sqrt(l),o[0]=t[0]*l,o[1]=t[1]*l,o[2]=t[2]*l),o}},6660:function(h){h.exports=function(o,t){t=t||1;var i=2*Math.random()*Math.PI,n=2*Math.random()-1,r=Math.sqrt(1-n*n)*t;return o[0]=Math.cos(i)*r,o[1]=Math.sin(i)*r,o[2]=n*t,o}},392:function(h){h.exports=function(o,t,i,n){var r=i[1],l=i[2],s=t[1]-r,u=t[2]-l,p=Math.sin(n),c=Math.cos(n);return o[0]=t[0],o[1]=r+s*c-u*p,o[2]=l+s*p+u*c,o}},3222:function(h){h.exports=function(o,t,i,n){var r=i[0],l=i[2],s=t[0]-r,u=t[2]-l,p=Math.sin(n),c=Math.cos(n);return o[0]=r+u*p+s*c,o[1]=t[1],o[2]=l+u*c-s*p,o}},3388:function(h){h.exports=function(o,t,i,n){var r=i[0],l=i[1],s=t[0]-r,u=t[1]-l,p=Math.sin(n),c=Math.cos(n);return o[0]=r+s*c-u*p,o[1]=l+s*p+u*c,o[2]=t[2],o}},1624:function(h){h.exports=function(o,t){return o[0]=Math.round(t[0]),o[1]=Math.round(t[1]),o[2]=Math.round(t[2]),o}},5685:function(h){h.exports=function(o,t,i){return o[0]=t[0]*i,o[1]=t[1]*i,o[2]=t[2]*i,o}},6722:function(h){h.exports=function(o,t,i,n){return o[0]=t[0]+i[0]*n,o[1]=t[1]+i[1]*n,o[2]=t[2]+i[2]*n,o}},831:function(h){h.exports=function(o,t,i,n){return o[0]=t,o[1]=i,o[2]=n,o}},5294:function(h,o,t){h.exports=t(6403)},3303:function(h,o,t){h.exports=t(4337)},6403:function(h){h.exports=function(o,t){var i=t[0]-o[0],n=t[1]-o[1],r=t[2]-o[2];return i*i+n*n+r*r}},4337:function(h){h.exports=function(o){var t=o[0],i=o[1],n=o[2];return t*t+i*i+n*n}},8921:function(h,o,t){h.exports=t(911)},911:function(h){h.exports=function(o,t,i){return o[0]=t[0]-i[0],o[1]=t[1]-i[1],o[2]=t[2]-i[2],o}},9908:function(h){h.exports=function(o,t,i){var n=t[0],r=t[1],l=t[2];return o[0]=n*i[0]+r*i[3]+l*i[6],o[1]=n*i[1]+r*i[4]+l*i[7],o[2]=n*i[2]+r*i[5]+l*i[8],o}},3255:function(h){h.exports=function(o,t,i){var n=t[0],r=t[1],l=t[2],s=i[3]*n+i[7]*r+i[11]*l+i[15];return s=s||1,o[0]=(i[0]*n+i[4]*r+i[8]*l+i[12])/s,o[1]=(i[1]*n+i[5]*r+i[9]*l+i[13])/s,o[2]=(i[2]*n+i[6]*r+i[10]*l+i[14])/s,o}},6568:function(h){h.exports=function(o,t,i){var n=t[0],r=t[1],l=t[2],s=i[0],u=i[1],p=i[2],c=i[3],x=c*n+u*l-p*r,g=c*r+p*n-s*l,d=c*l+s*r-u*n,v=-s*n-u*r-p*l;return o[0]=x*c+v*-s+g*-p-d*-u,o[1]=g*c+v*-u+d*-s-x*-p,o[2]=d*c+v*-p+x*-u-g*-s,o}},3433:function(h){h.exports=function(o,t,i){return o[0]=t[0]+i[0],o[1]=t[1]+i[1],o[2]=t[2]+i[2],o[3]=t[3]+i[3],o}},1413:function(h){h.exports=function(o){var t=new Float32Array(4);return t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=o[3],t}},3470:function(h){h.exports=function(o,t){return o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o}},5313:function(h){h.exports=function(){var o=new Float32Array(4);return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o}},5446:function(h){h.exports=function(o,t){var i=t[0]-o[0],n=t[1]-o[1],r=t[2]-o[2],l=t[3]-o[3];return Math.sqrt(i*i+n*n+r*r+l*l)}},205:function(h){h.exports=function(o,t,i){return o[0]=t[0]/i[0],o[1]=t[1]/i[1],o[2]=t[2]/i[2],o[3]=t[3]/i[3],o}},4242:function(h){h.exports=function(o,t){return o[0]*t[0]+o[1]*t[1]+o[2]*t[2]+o[3]*t[3]}},5680:function(h){h.exports=function(o,t,i,n){var r=new Float32Array(4);return r[0]=o,r[1]=t,r[2]=i,r[3]=n,r}},4020:function(h,o,t){h.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(h){h.exports=function(o,t){return o[0]=1/t[0],o[1]=1/t[1],o[2]=1/t[2],o[3]=1/t[3],o}},8177:function(h){h.exports=function(o){var t=o[0],i=o[1],n=o[2],r=o[3];return Math.sqrt(t*t+i*i+n*n+r*r)}},8746:function(h){h.exports=function(o,t,i,n){var r=t[0],l=t[1],s=t[2],u=t[3];return o[0]=r+n*(i[0]-r),o[1]=l+n*(i[1]-l),o[2]=s+n*(i[2]-s),o[3]=u+n*(i[3]-u),o}},3030:function(h){h.exports=function(o,t,i){return o[0]=Math.max(t[0],i[0]),o[1]=Math.max(t[1],i[1]),o[2]=Math.max(t[2],i[2]),o[3]=Math.max(t[3],i[3]),o}},2170:function(h){h.exports=function(o,t,i){return o[0]=Math.min(t[0],i[0]),o[1]=Math.min(t[1],i[1]),o[2]=Math.min(t[2],i[2]),o[3]=Math.min(t[3],i[3]),o}},746:function(h){h.exports=function(o,t,i){return o[0]=t[0]*i[0],o[1]=t[1]*i[1],o[2]=t[2]*i[2],o[3]=t[3]*i[3],o}},6459:function(h){h.exports=function(o,t){return o[0]=-t[0],o[1]=-t[1],o[2]=-t[2],o[3]=-t[3],o}},381:function(h){h.exports=function(o,t){var i=t[0],n=t[1],r=t[2],l=t[3],s=i*i+n*n+r*r+l*l;return s>0&&(s=1/Math.sqrt(s),o[0]=i*s,o[1]=n*s,o[2]=r*s,o[3]=l*s),o}},3770:function(h,o,t){var i=t(381),n=t(5510);h.exports=function(r,l){return l=l||1,r[0]=Math.random(),r[1]=Math.random(),r[2]=Math.random(),r[3]=Math.random(),i(r,r),n(r,r,l),r}},5510:function(h){h.exports=function(o,t,i){return o[0]=t[0]*i,o[1]=t[1]*i,o[2]=t[2]*i,o[3]=t[3]*i,o}},4224:function(h){h.exports=function(o,t,i,n){return o[0]=t[0]+i[0]*n,o[1]=t[1]+i[1]*n,o[2]=t[2]+i[2]*n,o[3]=t[3]+i[3]*n,o}},6453:function(h){h.exports=function(o,t,i,n,r){return o[0]=t,o[1]=i,o[2]=n,o[3]=r,o}},1542:function(h){h.exports=function(o,t){var i=t[0]-o[0],n=t[1]-o[1],r=t[2]-o[2],l=t[3]-o[3];return i*i+n*n+r*r+l*l}},9037:function(h){h.exports=function(o){var t=o[0],i=o[1],n=o[2],r=o[3];return t*t+i*i+n*n+r*r}},2705:function(h){h.exports=function(o,t,i){return o[0]=t[0]-i[0],o[1]=t[1]-i[1],o[2]=t[2]-i[2],o[3]=t[3]-i[3],o}},6342:function(h){h.exports=function(o,t,i){var n=t[0],r=t[1],l=t[2],s=t[3];return o[0]=i[0]*n+i[4]*r+i[8]*l+i[12]*s,o[1]=i[1]*n+i[5]*r+i[9]*l+i[13]*s,o[2]=i[2]*n+i[6]*r+i[10]*l+i[14]*s,o[3]=i[3]*n+i[7]*r+i[11]*l+i[15]*s,o}},5022:function(h){h.exports=function(o,t,i){var n=t[0],r=t[1],l=t[2],s=i[0],u=i[1],p=i[2],c=i[3],x=c*n+u*l-p*r,g=c*r+p*n-s*l,d=c*l+s*r-u*n,v=-s*n-u*r-p*l;return o[0]=x*c+v*-s+g*-p-d*-u,o[1]=g*c+v*-u+d*-s-x*-p,o[2]=d*c+v*-p+x*-u-g*-s,o[3]=t[3],o}},9365:function(h,o,t){var i=t(8096),n=t(7896);h.exports=function(r){for(var l=Array.isArray(r)?r:i(r),s=0;s<l.length;s++){var u=l[s];if(u.type==="preprocessor"){var p=u.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(p&&p[2]){var c=p[1],x=p[2];return(c?n(x):x).trim()}}}}},3193:function(h,o,t){h.exports=function(P){var I,z,j,R=0,N=0,Z=u,F=[],U=[],V=1,te=0,Q=0,J=!1,X=!1,K="",ee=r,re=i;(P=P||{}).version==="300 es"&&(ee=s,re=l);var ie={},ae={};for(R=0;R<ee.length;R++)ie[ee[R]]=!0;for(R=0;R<re.length;R++)ae[re[R]]=!0;return function(he){return U=[],he!==null?function(Se){var _e;for(R=0,Se.toString&&(Se=Se.toString()),K+=Se.replace(/\r\n/g,`
`),j=K.length;I=K[R],R<j;){switch(_e=R,Z){case c:R=be();break;case x:case g:R=ye();break;case d:R=me();break;case v:R=we();break;case E:R=Te();break;case y:R=oe();break;case p:R=se();break;case S:R=de();break;case u:R=pe()}_e!==R&&(K[_e]===`
`?(te=0,++V):++te)}return N+=R,K=K.slice(R),U}(he):(F.length&&ue(F.join("")),Z=T,ue("(eof)"),U)};function ue(he){he.length&&U.push({type:O[Z],data:he,position:Q,line:V,column:te})}function pe(){return F=F.length?[]:F,z==="/"&&I==="*"?(Q=N+R-1,Z=c,z=I,R+1):z==="/"&&I==="/"?(Q=N+R-1,Z=x,z=I,R+1):I==="#"?(Z=g,Q=N+R,R):/\s/.test(I)?(Z=S,Q=N+R,R):(J=/\d/.test(I),X=/[^\w_]/.test(I),Q=N+R,Z=J?v:X?d:p,R)}function de(){return/[^\s]/g.test(I)?(ue(F.join("")),Z=u,R):(F.push(I),z=I,R+1)}function ye(){return I!=="\r"&&I!==`
`||z==="\\"?(F.push(I),z=I,R+1):(ue(F.join("")),Z=u,R)}function be(){return I==="/"&&z==="*"?(F.push(I),ue(F.join("")),Z=u,R+1):(F.push(I),z=I,R+1)}function me(){if(z==="."&&/\d/.test(I))return Z=y,R;if(z==="/"&&I==="*")return Z=c,R;if(z==="/"&&I==="/")return Z=x,R;if(I==="."&&F.length){for(;Ee(F););return Z=y,R}if(I===";"||I===")"||I==="("){if(F.length)for(;Ee(F););return ue(I),Z=u,R+1}var he=F.length===2&&I!=="=";if(/[\w_\d\s]/.test(I)||he){for(;Ee(F););return Z=u,R}return F.push(I),z=I,R+1}function Ee(he){for(var Se,_e,Ae=0;;){if(Se=n.indexOf(he.slice(0,he.length+Ae).join("")),_e=n[Se],Se===-1){if(Ae--+he.length>0)continue;_e=he.slice(0,1).join("")}return ue(_e),Q+=_e.length,(F=F.slice(_e.length)).length}}function Te(){return/[^a-fA-F0-9]/.test(I)?(ue(F.join("")),Z=u,R):(F.push(I),z=I,R+1)}function we(){return I==="."||/[eE]/.test(I)?(F.push(I),Z=y,z=I,R+1):I==="x"&&F.length===1&&F[0]==="0"?(Z=E,F.push(I),z=I,R+1):/[^\d]/.test(I)?(ue(F.join("")),Z=u,R):(F.push(I),z=I,R+1)}function oe(){return I==="f"&&(F.push(I),z=I,R+=1),/[eE]/.test(I)?(F.push(I),z=I,R+1):(I!=="-"&&I!=="+"||!/[eE]/.test(z))&&/[^\d]/.test(I)?(ue(F.join("")),Z=u,R):(F.push(I),z=I,R+1)}function se(){if(/[^\d\w_]/.test(I)){var he=F.join("");return Z=ae[he]?f:ie[he]?w:m,ue(F.join("")),Z=u,R}return F.push(I),z=I,R+1}};var i=t(399),n=t(9746),r=t(9525),l=t(9458),s=t(3585),u=999,p=9999,c=0,x=1,g=2,d=3,v=4,y=5,m=6,w=7,f=8,S=9,T=10,E=11,O=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3585:function(h,o,t){var i=t(9525);i=i.slice().filter(function(n){return!/^(gl\_|texture)/.test(n)}),h.exports=i.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(h){h.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(h,o,t){var i=t(399);h.exports=i.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(h){h.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(h){h.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(h,o,t){var i=t(3193);h.exports=function(n,r){var l=i(r),s=[];return(s=s.concat(l(n))).concat(l(null))}},6832:function(h){h.exports=function(o){typeof o=="string"&&(o=[o]);for(var t=[].slice.call(arguments,1),i=[],n=0;n<o.length-1;n++)i.push(o[n],t[n]||"");return i.push(o[n]),i.join("")}},5233:function(h,o,t){var i=t(4846);h.exports=i&&function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch{n=!1}return n}()},2183:function(h,o,t){h.exports=function(x,g){var d=x.length;if(d===0)throw new Error("Must have at least d+1 points");var v=x[0].length;if(d<=v)throw new Error("Must input at least d+1 points");var y=x.slice(0,v+1),m=i.apply(void 0,y);if(m===0)throw new Error("Input not in general position");for(var w=new Array(v+1),f=0;f<=v;++f)w[f]=f;m<0&&(w[0]=1,w[1]=0);var S=new r(w,new Array(v+1),!1),T=S.adjacent,E=new Array(v+2);for(f=0;f<=v;++f){for(var O=w.slice(),P=0;P<=v;++P)P===f&&(O[P]=-1);var I=O[0];O[0]=O[1],O[1]=I;var z=new r(O,new Array(v+1),!0);T[f]=z,E[f]=z}for(E[v+1]=S,f=0;f<=v;++f){O=T[f].vertices;var j=T[f].adjacent;for(P=0;P<=v;++P){var R=O[P];if(R<0)j[P]=S;else for(var N=0;N<=v;++N)T[N].vertices.indexOf(R)<0&&(j[P]=T[N])}}var Z=new p(v,y,E),F=!!g;for(f=v+1;f<d;++f)Z.insert(x[f],F);return Z.boundary()};var i=t(417),n=t(8211).H;function r(x,g,d){this.vertices=x,this.adjacent=g,this.boundary=d,this.lastVisited=-1}function l(x,g,d){this.vertices=x,this.cell=g,this.index=d}function s(x,g){return n(x.vertices,g.vertices)}r.prototype.flip=function(){var x=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=x;var g=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=g};var u=[];function p(x,g,d){this.dimension=x,this.vertices=g,this.simplices=d,this.interior=d.filter(function(w){return!w.boundary}),this.tuple=new Array(x+1);for(var v=0;v<=x;++v)this.tuple[v]=this.vertices[v];var y,m=u[x];m||(m=u[x]=((y=i[x+1])||(y=i),function(w){return function(){var f=this.tuple;return w.apply(this,f)}}(y))),this.orient=m}var c=p.prototype;c.handleBoundaryDegeneracy=function(x,g){var d=this.dimension,v=this.vertices.length-1,y=this.tuple,m=this.vertices,w=[x];for(x.lastVisited=-v;w.length>0;)for(var f=(x=w.pop()).adjacent,S=0;S<=d;++S){var T=f[S];if(T.boundary&&!(T.lastVisited<=-v)){for(var E=T.vertices,O=0;O<=d;++O){var P=E[O];y[O]=P<0?g:m[P]}var I=this.orient();if(I>0)return T;T.lastVisited=-v,I===0&&w.push(T)}}return null},c.walk=function(x,g){var d=this.vertices.length-1,v=this.dimension,y=this.vertices,m=this.tuple,w=g?this.interior.length*Math.random()|0:this.interior.length-1,f=this.interior[w];e:for(;!f.boundary;){for(var S=f.vertices,T=f.adjacent,E=0;E<=v;++E)m[E]=y[S[E]];for(f.lastVisited=d,E=0;E<=v;++E){var O=T[E];if(!(O.lastVisited>=d)){var P=m[E];m[E]=x;var I=this.orient();if(m[E]=P,I<0){f=O;continue e}O.boundary?O.lastVisited=-d:O.lastVisited=d}}return}return f},c.addPeaks=function(x,g){var d=this.vertices.length-1,v=this.dimension,y=this.vertices,m=this.tuple,w=this.interior,f=this.simplices,S=[g];g.lastVisited=d,g.vertices[g.vertices.indexOf(-1)]=d,g.boundary=!1,w.push(g);for(var T=[];S.length>0;){var E=(g=S.pop()).vertices,O=g.adjacent,P=E.indexOf(d);if(!(P<0)){for(var I=0;I<=v;++I)if(I!==P){var z=O[I];if(z.boundary&&!(z.lastVisited>=d)){var j=z.vertices;if(z.lastVisited!==-d){for(var R=0,N=0;N<=v;++N)j[N]<0?(R=N,m[N]=x):m[N]=y[j[N]];if(this.orient()>0){j[R]=d,z.boundary=!1,w.push(z),S.push(z),z.lastVisited=d;continue}z.lastVisited=-d}var Z=z.adjacent,F=E.slice(),U=O.slice(),V=new r(F,U,!0);f.push(V);var te=Z.indexOf(g);if(!(te<0))for(Z[te]=V,U[P]=z,F[I]=-1,U[I]=g,O[I]=V,V.flip(),N=0;N<=v;++N){var Q=F[N];if(!(Q<0||Q===d)){for(var J=new Array(v-1),X=0,K=0;K<=v;++K){var ee=F[K];ee<0||K===N||(J[X++]=ee)}T.push(new l(J,V,N))}}}}}}for(T.sort(s),I=0;I+1<T.length;I+=2){var re=T[I],ie=T[I+1],ae=re.index,ue=ie.index;ae<0||ue<0||(re.cell.adjacent[re.index]=ie.cell,ie.cell.adjacent[ie.index]=re.cell)}},c.insert=function(x,g){var d=this.vertices;d.push(x);var v=this.walk(x,g);if(v){for(var y=this.dimension,m=this.tuple,w=0;w<=y;++w){var f=v.vertices[w];m[w]=f<0?x:d[f]}var S=this.orient(m);S<0||(S!==0||(v=this.handleBoundaryDegeneracy(v,x)))&&this.addPeaks(x,v)}},c.boundary=function(){for(var x=this.dimension,g=[],d=this.simplices,v=d.length,y=0;y<v;++y){var m=d[y];if(m.boundary){for(var w=new Array(x),f=m.vertices,S=0,T=0,E=0;E<=x;++E)f[E]>=0?w[S++]=f[E]:T=1&E;if(T===(1&x)){var O=w[0];w[0]=w[1],w[1]=O}g.push(w)}}return g}},9014:function(h,o,t){var i=t(5070);function n(S,T,E,O,P){this.mid=S,this.left=T,this.right=E,this.leftPoints=O,this.rightPoints=P,this.count=(T?T.count:0)+(E?E.count:0)+O.length}h.exports=function(S){return S&&S.length!==0?new w(m(S)):new w(null)};var r=n.prototype;function l(S,T){S.mid=T.mid,S.left=T.left,S.right=T.right,S.leftPoints=T.leftPoints,S.rightPoints=T.rightPoints,S.count=T.count}function s(S,T){var E=m(T);S.mid=E.mid,S.left=E.left,S.right=E.right,S.leftPoints=E.leftPoints,S.rightPoints=E.rightPoints,S.count=E.count}function u(S,T){var E=S.intervals([]);E.push(T),s(S,E)}function p(S,T){var E=S.intervals([]),O=E.indexOf(T);return O<0?0:(E.splice(O,1),s(S,E),1)}function c(S,T,E){for(var O=0;O<S.length&&S[O][0]<=T;++O){var P=E(S[O]);if(P)return P}}function x(S,T,E){for(var O=S.length-1;O>=0&&S[O][1]>=T;--O){var P=E(S[O]);if(P)return P}}function g(S,T){for(var E=0;E<S.length;++E){var O=T(S[E]);if(O)return O}}function d(S,T){return S-T}function v(S,T){return S[0]-T[0]||S[1]-T[1]}function y(S,T){return S[1]-T[1]||S[0]-T[0]}function m(S){if(S.length===0)return null;for(var T=[],E=0;E<S.length;++E)T.push(S[E][0],S[E][1]);T.sort(d);var O=T[T.length>>1],P=[],I=[],z=[];for(E=0;E<S.length;++E){var j=S[E];j[1]<O?P.push(j):O<j[0]?I.push(j):z.push(j)}var R=z,N=z.slice();return R.sort(v),N.sort(y),new n(O,m(P),m(I),R,N)}function w(S){this.root=S}r.intervals=function(S){return S.push.apply(S,this.leftPoints),this.left&&this.left.intervals(S),this.right&&this.right.intervals(S),S},r.insert=function(S){var T=this.count-this.leftPoints.length;if(this.count+=1,S[1]<this.mid)this.left?4*(this.left.count+1)>3*(T+1)?u(this,S):this.left.insert(S):this.left=m([S]);else if(S[0]>this.mid)this.right?4*(this.right.count+1)>3*(T+1)?u(this,S):this.right.insert(S):this.right=m([S]);else{var E=i.ge(this.leftPoints,S,v),O=i.ge(this.rightPoints,S,y);this.leftPoints.splice(E,0,S),this.rightPoints.splice(O,0,S)}},r.remove=function(S){var T=this.count-this.leftPoints;if(S[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(T-1)?p(this,S):(I=this.left.remove(S))===2?(this.left=null,this.count-=1,1):(I===1&&(this.count-=1),I):0;if(S[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(T-1)?p(this,S):(I=this.right.remove(S))===2?(this.right=null,this.count-=1,1):(I===1&&(this.count-=1),I):0;if(this.count===1)return this.leftPoints[0]===S?2:0;if(this.leftPoints.length===1&&this.leftPoints[0]===S){if(this.left&&this.right){for(var E=this,O=this.left;O.right;)E=O,O=O.right;if(E===this)O.right=this.right;else{var P=this.left,I=this.right;E.count-=O.count,E.right=O.left,O.left=P,O.right=I}l(this,O),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?l(this,this.left):l(this,this.right);return 1}for(P=i.ge(this.leftPoints,S,v);P<this.leftPoints.length&&this.leftPoints[P][0]===S[0];++P)if(this.leftPoints[P]===S){for(this.count-=1,this.leftPoints.splice(P,1),I=i.ge(this.rightPoints,S,y);I<this.rightPoints.length&&this.rightPoints[I][1]===S[1];++I)if(this.rightPoints[I]===S)return this.rightPoints.splice(I,1),1}return 0},r.queryPoint=function(S,T){return S<this.mid?this.left&&(E=this.left.queryPoint(S,T))?E:c(this.leftPoints,S,T):S>this.mid?this.right&&(E=this.right.queryPoint(S,T))?E:x(this.rightPoints,S,T):g(this.leftPoints,T);var E},r.queryInterval=function(S,T,E){var O;return S<this.mid&&this.left&&(O=this.left.queryInterval(S,T,E))||T>this.mid&&this.right&&(O=this.right.queryInterval(S,T,E))?O:T<this.mid?c(this.leftPoints,T,E):S>this.mid?x(this.rightPoints,S,E):g(this.leftPoints,E)};var f=w.prototype;f.insert=function(S){this.root?this.root.insert(S):this.root=new n(S[0],null,null,[S],[S])},f.remove=function(S){if(this.root){var T=this.root.remove(S);return T===2&&(this.root=null),T!==0}return!1},f.queryPoint=function(S,T){if(this.root)return this.root.queryPoint(S,T)},f.queryInterval=function(S,T,E){if(S<=T&&this.root)return this.root.queryInterval(S,T,E)},Object.defineProperty(f,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(f,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},9560:function(h){h.exports=function(o){for(var t=new Array(o),i=0;i<o;++i)t[i]=i;return t}},4846:function(h){h.exports=!0},4780:function(h){function o(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}h.exports=function(t){return t!=null&&(o(t)||function(i){return typeof i.readFloatLE=="function"&&typeof i.slice=="function"&&o(i.slice(0,0))}(t)||!!t._isBuffer)}},3596:function(h){h.exports=function(o){for(var t,i=o.length,n=0;n<i;n++)if(((t=o.charCodeAt(n))<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},3578:function(h){h.exports=function(o,t,i){return o*(1-i)+t*i}},7191:function(h,o,t){var i=t(4690),n=t(9823),r=t(7332),l=t(7787),s=t(7437),u=t(2142),p={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},c=n(),x=n(),g=[0,0,0,0],d=[[0,0,0],[0,0,0],[0,0,0]],v=[0,0,0];function y(m,w,f,S,T){m[0]=w[0]*S+f[0]*T,m[1]=w[1]*S+f[1]*T,m[2]=w[2]*S+f[2]*T}h.exports=function(m,w,f,S,T,E){if(w||(w=[0,0,0]),f||(f=[0,0,0]),S||(S=[0,0,0]),T||(T=[0,0,0,1]),E||(E=[0,0,0,1]),!i(c,m)||(r(x,c),x[3]=0,x[7]=0,x[11]=0,x[15]=1,Math.abs(l(x)<1e-8)))return!1;var O,P,I,z,j,R,N,Z=c[3],F=c[7],U=c[11],V=c[12],te=c[13],Q=c[14],J=c[15];if(Z!==0||F!==0||U!==0){if(g[0]=Z,g[1]=F,g[2]=U,g[3]=J,!s(x,x))return!1;u(x,x),O=T,I=x,z=(P=g)[0],j=P[1],R=P[2],N=P[3],O[0]=I[0]*z+I[4]*j+I[8]*R+I[12]*N,O[1]=I[1]*z+I[5]*j+I[9]*R+I[13]*N,O[2]=I[2]*z+I[6]*j+I[10]*R+I[14]*N,O[3]=I[3]*z+I[7]*j+I[11]*R+I[15]*N}else T[0]=T[1]=T[2]=0,T[3]=1;if(w[0]=V,w[1]=te,w[2]=Q,function(K,ee){K[0][0]=ee[0],K[0][1]=ee[1],K[0][2]=ee[2],K[1][0]=ee[4],K[1][1]=ee[5],K[1][2]=ee[6],K[2][0]=ee[8],K[2][1]=ee[9],K[2][2]=ee[10]}(d,c),f[0]=p.length(d[0]),p.normalize(d[0],d[0]),S[0]=p.dot(d[0],d[1]),y(d[1],d[1],d[0],1,-S[0]),f[1]=p.length(d[1]),p.normalize(d[1],d[1]),S[0]/=f[1],S[1]=p.dot(d[0],d[2]),y(d[2],d[2],d[0],1,-S[1]),S[2]=p.dot(d[1],d[2]),y(d[2],d[2],d[1],1,-S[2]),f[2]=p.length(d[2]),p.normalize(d[2],d[2]),S[1]/=f[2],S[2]/=f[2],p.cross(v,d[1],d[2]),p.dot(d[0],v)<0)for(var X=0;X<3;X++)f[X]*=-1,d[X][0]*=-1,d[X][1]*=-1,d[X][2]*=-1;return E[0]=.5*Math.sqrt(Math.max(1+d[0][0]-d[1][1]-d[2][2],0)),E[1]=.5*Math.sqrt(Math.max(1-d[0][0]+d[1][1]-d[2][2],0)),E[2]=.5*Math.sqrt(Math.max(1-d[0][0]-d[1][1]+d[2][2],0)),E[3]=.5*Math.sqrt(Math.max(1+d[0][0]+d[1][1]+d[2][2],0)),d[2][1]>d[1][2]&&(E[0]=-E[0]),d[0][2]>d[2][0]&&(E[1]=-E[1]),d[1][0]>d[0][1]&&(E[2]=-E[2]),!0}},4690:function(h){h.exports=function(o,t){var i=t[15];if(i===0)return!1;for(var n=1/i,r=0;r<16;r++)o[r]=t[r]*n;return!0}},7649:function(h,o,t){var i=t(1868),n=t(1102),r=t(7191),l=t(7787),s=t(1116),u=x(),p=x(),c=x();function x(){return{translate:g(),scale:g(1),skew:g(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function g(d){return[d||0,d||0,d||0]}h.exports=function(d,v,y,m){if(l(v)===0||l(y)===0)return!1;var w=r(v,u.translate,u.scale,u.skew,u.perspective,u.quaternion),f=r(y,p.translate,p.scale,p.skew,p.perspective,p.quaternion);return!(!w||!f||(i(c.translate,u.translate,p.translate,m),i(c.skew,u.skew,p.skew,m),i(c.scale,u.scale,p.scale,m),i(c.perspective,u.perspective,p.perspective,m),s(c.quaternion,u.quaternion,p.quaternion,m),n(d,c.translate,c.scale,c.skew,c.perspective,c.quaternion),0))}},1102:function(h,o,t){var i={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)},n=(i.create(),i.create());h.exports=function(r,l,s,u,p,c){return i.identity(r),i.fromRotationTranslation(r,c,l),r[3]=p[0],r[7]=p[1],r[11]=p[2],r[15]=p[3],i.identity(n),u[2]!==0&&(n[9]=u[2],i.multiply(r,r,n)),u[1]!==0&&(n[9]=0,n[8]=u[1],i.multiply(r,r,n)),u[0]!==0&&(n[8]=0,n[4]=u[0],i.multiply(r,r,n)),i.scale(r,r,s),r}},9298:function(h,o,t){var i=t(5070),n=t(7649),r=t(7437),l=t(6109),s=t(7115),u=t(5240),p=t(3012),c=t(998),x=(t(3668),t(899)),g=[0,0,0];function d(m){this._components=m.slice(),this._time=[0],this.prevMatrix=m.slice(),this.nextMatrix=m.slice(),this.computedMatrix=m.slice(),this.computedInverse=m.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}h.exports=function(m){return new d((m=m||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var v=d.prototype;v.recalcMatrix=function(m){var w=this._time,f=i.le(w,m),S=this.computedMatrix;if(!(f<0)){var T=this._components;if(f===w.length-1)for(var E=16*f,O=0;O<16;++O)S[O]=T[E++];else{var P=w[f+1]-w[f],I=(E=16*f,this.prevMatrix),z=!0;for(O=0;O<16;++O)I[O]=T[E++];var j=this.nextMatrix;for(O=0;O<16;++O)j[O]=T[E++],z=z&&I[O]===j[O];if(P<1e-6||z)for(O=0;O<16;++O)S[O]=I[O];else n(S,I,j,(m-w[f])/P)}var R=this.computedUp;R[0]=S[1],R[1]=S[5],R[2]=S[9],x(R,R);var N=this.computedInverse;r(N,S);var Z=this.computedEye,F=N[15];Z[0]=N[12]/F,Z[1]=N[13]/F,Z[2]=N[14]/F;var U=this.computedCenter,V=Math.exp(this.computedRadius[0]);for(O=0;O<3;++O)U[O]=Z[O]-S[2+4*O]*V}},v.idle=function(m){if(!(m<this.lastT())){for(var w=this._components,f=w.length-16,S=0;S<16;++S)w.push(w[f++]);this._time.push(m)}},v.flush=function(m){var w=i.gt(this._time,m)-2;w<0||(this._time.splice(0,w),this._components.splice(0,16*w))},v.lastT=function(){return this._time[this._time.length-1]},v.lookAt=function(m,w,f,S){this.recalcMatrix(m),w=w||this.computedEye,f=f||g,S=S||this.computedUp,this.setMatrix(m,p(this.computedMatrix,w,f,S));for(var T=0,E=0;E<3;++E)T+=Math.pow(f[E]-w[E],2);T=Math.log(Math.sqrt(T)),this.computedRadius[0]=T},v.rotate=function(m,w,f,S){this.recalcMatrix(m);var T=this.computedInverse;w&&s(T,T,w),f&&l(T,T,f),S&&u(T,T,S),this.setMatrix(m,r(this.computedMatrix,T))};var y=[0,0,0];v.pan=function(m,w,f,S){y[0]=-(w||0),y[1]=-(f||0),y[2]=-(S||0),this.recalcMatrix(m);var T=this.computedInverse;c(T,T,y),this.setMatrix(m,r(T,T))},v.translate=function(m,w,f,S){y[0]=w||0,y[1]=f||0,y[2]=S||0,this.recalcMatrix(m);var T=this.computedMatrix;c(T,T,y),this.setMatrix(m,T)},v.setMatrix=function(m,w){if(!(m<this.lastT())){this._time.push(m);for(var f=0;f<16;++f)this._components.push(w[f])}},v.setDistance=function(m,w){this.computedRadius[0]=w},v.setDistanceLimits=function(m,w){var f=this._limits;f[0]=m,f[1]=w},v.getDistanceLimits=function(m){var w=this._limits;return m?(m[0]=w[0],m[1]=w[1],m):w}},3266:function(h,o,t){h.exports=function(n){var r=n.length;if(r<3){for(var l=new Array(r),s=0;s<r;++s)l[s]=s;return r===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:l}var u=new Array(r);for(s=0;s<r;++s)u[s]=s;u.sort(function(w,f){return n[w][0]-n[f][0]||n[w][1]-n[f][1]});var p=[u[0],u[1]],c=[u[0],u[1]];for(s=2;s<r;++s){for(var x=u[s],g=n[x],d=p.length;d>1&&i(n[p[d-2]],n[p[d-1]],g)<=0;)d-=1,p.pop();for(p.push(x),d=c.length;d>1&&i(n[c[d-2]],n[c[d-1]],g)>=0;)d-=1,c.pop();c.push(x)}l=new Array(c.length+p.length-2);for(var v=0,y=(s=0,p.length);s<y;++s)l[v++]=p[s];for(var m=c.length-2;m>0;--m)l[v++]=c[m];return l};var i=t(417)[3]},6145:function(h,o,t){h.exports=function(n,r){r||(r=n,n=window);var l=0,s=0,u=0,p={shift:!1,alt:!1,control:!1,meta:!1},c=!1;function x(E){var O=!1;return"altKey"in E&&(O=O||E.altKey!==p.alt,p.alt=!!E.altKey),"shiftKey"in E&&(O=O||E.shiftKey!==p.shift,p.shift=!!E.shiftKey),"ctrlKey"in E&&(O=O||E.ctrlKey!==p.control,p.control=!!E.ctrlKey),"metaKey"in E&&(O=O||E.metaKey!==p.meta,p.meta=!!E.metaKey),O}function g(E,O){var P=i.x(O),I=i.y(O);"buttons"in O&&(E=0|O.buttons),(E!==l||P!==s||I!==u||x(O))&&(l=0|E,s=P||0,u=I||0,r&&r(l,s,u,p))}function d(E){g(0,E)}function v(){(l||s||u||p.shift||p.alt||p.meta||p.control)&&(s=u=0,l=0,p.shift=p.alt=p.control=p.meta=!1,r&&r(0,0,0,p))}function y(E){x(E)&&r&&r(l,s,u,p)}function m(E){i.buttons(E)===0?g(0,E):g(l,E)}function w(E){g(l|i.buttons(E),E)}function f(E){g(l&~i.buttons(E),E)}function S(){c||(c=!0,n.addEventListener("mousemove",m),n.addEventListener("mousedown",w),n.addEventListener("mouseup",f),n.addEventListener("mouseleave",d),n.addEventListener("mouseenter",d),n.addEventListener("mouseout",d),n.addEventListener("mouseover",d),n.addEventListener("blur",v),n.addEventListener("keyup",y),n.addEventListener("keydown",y),n.addEventListener("keypress",y),n!==window&&(window.addEventListener("blur",v),window.addEventListener("keyup",y),window.addEventListener("keydown",y),window.addEventListener("keypress",y)))}S();var T={element:n};return Object.defineProperties(T,{enabled:{get:function(){return c},set:function(E){E?S():c&&(c=!1,n.removeEventListener("mousemove",m),n.removeEventListener("mousedown",w),n.removeEventListener("mouseup",f),n.removeEventListener("mouseleave",d),n.removeEventListener("mouseenter",d),n.removeEventListener("mouseout",d),n.removeEventListener("mouseover",d),n.removeEventListener("blur",v),n.removeEventListener("keyup",y),n.removeEventListener("keydown",y),n.removeEventListener("keypress",y),n!==window&&(window.removeEventListener("blur",v),window.removeEventListener("keyup",y),window.removeEventListener("keydown",y),window.removeEventListener("keypress",y)))},enumerable:!0},buttons:{get:function(){return l},enumerable:!0},x:{get:function(){return s},enumerable:!0},y:{get:function(){return u},enumerable:!0},mods:{get:function(){return p},enumerable:!0}}),T};var i=t(4110)},2565:function(h){var o={left:0,top:0};h.exports=function(t,i,n){i=i||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var r,l=t.clientX||0,s=t.clientY||0,u=(r=i)===window||r===document||r===document.body?o:r.getBoundingClientRect();return n[0]=l-u.left,n[1]=s-u.top,n}},4110:function(h,o){function t(i){return i.target||i.srcElement||window}o.buttons=function(i){if(typeof i=="object"){if("buttons"in i)return i.buttons;if("which"in i){if((n=i.which)===2)return 4;if(n===3)return 2;if(n>0)return 1<<n-1}else if("button"in i){var n;if((n=i.button)===1)return 4;if(n===2)return 2;if(n>=0)return 1<<n}}return 0},o.element=t,o.x=function(i){if(typeof i=="object"){if("offsetX"in i)return i.offsetX;var n=t(i).getBoundingClientRect();return i.clientX-n.left}return 0},o.y=function(i){if(typeof i=="object"){if("offsetY"in i)return i.offsetY;var n=t(i).getBoundingClientRect();return i.clientY-n.top}return 0}},6475:function(h,o,t){var i=t(14);h.exports=function(n,r,l){typeof n=="function"&&(l=!!r,r=n,n=window);var s=i("ex",n),u=function(p){l&&p.preventDefault();var c=p.deltaX||0,x=p.deltaY||0,g=p.deltaZ||0,d=1;switch(p.deltaMode){case 1:d=s;break;case 2:d=window.innerHeight}if(x*=d,g*=d,(c*=d)||x||g)return r(c,x,g,p)};return n.addEventListener("wheel",u),u}},9284:function(h,o,t){var i=t(5306);h.exports=function(r){function l(g){throw new Error("ndarray-extract-contour: "+g)}typeof r!="object"&&l("Must specify arguments");var s=r.order;Array.isArray(s)||l("Must specify order");var u=r.arrayArguments||1;u<1&&l("Must have at least one array argument"),(r.scalarArguments||0)<0&&l("Scalar arg count must be > 0"),typeof r.vertex!="function"&&l("Must specify vertex creation function"),typeof r.cell!="function"&&l("Must specify cell creation function"),typeof r.phase!="function"&&l("Must specify phase function");for(var p=r.getters||[],c=new Array(u),x=0;x<u;++x)p.indexOf(x)>=0?c[x]=!0:c[x]=!1;return function(g,d,v,y,m,w){var f=[w,m].join(",");return(0,n[f])(g,d,v,i.mallocUint32,i.freeUint32)}(r.vertex,r.cell,r.phase,0,s,c)};var n={"false,0,1":function(r,l,s,u,p){return function(c,x,g,d){var v,y=0|c.shape[0],m=0|c.shape[1],w=c.data,f=0|c.offset,S=0|c.stride[0],T=0|c.stride[1],E=f,O=0|-S,P=0,I=0|-T,z=0,j=-S-T|0,R=0,N=0|S,Z=T-S*y|0,F=0,U=0,V=0,te=2*y|0,Q=u(te),J=u(te),X=0,K=0,ee=-1,re=-1,ie=0,ae=0|-y,ue=0|y,pe=0,de=-y-1|0,ye=y-1|0,be=0,me=0,Ee=0;for(F=0;F<y;++F)Q[X++]=s(w[E],x,g,d),E+=N;if(E+=Z,m>0){if(U=1,Q[X++]=s(w[E],x,g,d),E+=N,y>0)for(F=1,v=w[E],K=Q[X]=s(v,x,g,d),ie=Q[X+ee],pe=Q[X+ae],be=Q[X+de],K===ie&&K===pe&&K===be||(P=w[E+O],z=w[E+I],R=w[E+j],r(F,U,v,P,z,R,K,ie,pe,be,x,g,d),me=J[X]=V++),X+=1,E+=N,F=2;F<y;++F)v=w[E],K=Q[X]=s(v,x,g,d),ie=Q[X+ee],pe=Q[X+ae],be=Q[X+de],K===ie&&K===pe&&K===be||(P=w[E+O],z=w[E+I],R=w[E+j],r(F,U,v,P,z,R,K,ie,pe,be,x,g,d),me=J[X]=V++,be!==ie&&l(J[X+ee],me,R,P,be,ie,x,g,d)),X+=1,E+=N;for(E+=Z,X=0,Ee=ee,ee=re,re=Ee,Ee=ae,ae=ue,ue=Ee,Ee=de,de=ye,ye=Ee,U=2;U<m;++U){if(Q[X++]=s(w[E],x,g,d),E+=N,y>0)for(F=1,v=w[E],K=Q[X]=s(v,x,g,d),ie=Q[X+ee],pe=Q[X+ae],be=Q[X+de],K===ie&&K===pe&&K===be||(P=w[E+O],z=w[E+I],R=w[E+j],r(F,U,v,P,z,R,K,ie,pe,be,x,g,d),me=J[X]=V++,be!==pe&&l(J[X+ae],me,z,R,pe,be,x,g,d)),X+=1,E+=N,F=2;F<y;++F)v=w[E],K=Q[X]=s(v,x,g,d),ie=Q[X+ee],pe=Q[X+ae],be=Q[X+de],K===ie&&K===pe&&K===be||(P=w[E+O],z=w[E+I],R=w[E+j],r(F,U,v,P,z,R,K,ie,pe,be,x,g,d),me=J[X]=V++,be!==pe&&l(J[X+ae],me,z,R,pe,be,x,g,d),be!==ie&&l(J[X+ee],me,R,P,be,ie,x,g,d)),X+=1,E+=N;1&U&&(X=0),Ee=ee,ee=re,re=Ee,Ee=ae,ae=ue,ue=Ee,Ee=de,de=ye,ye=Ee,E+=Z}}p(J),p(Q)}},"false,1,0":function(r,l,s,u,p){return function(c,x,g,d){var v,y=0|c.shape[0],m=0|c.shape[1],w=c.data,f=0|c.offset,S=0|c.stride[0],T=0|c.stride[1],E=f,O=0|-S,P=0,I=0|-T,z=0,j=-S-T|0,R=0,N=0|T,Z=S-T*m|0,F=0,U=0,V=0,te=2*m|0,Q=u(te),J=u(te),X=0,K=0,ee=-1,re=-1,ie=0,ae=0|-m,ue=0|m,pe=0,de=-m-1|0,ye=m-1|0,be=0,me=0,Ee=0;for(U=0;U<m;++U)Q[X++]=s(w[E],x,g,d),E+=N;if(E+=Z,y>0){if(F=1,Q[X++]=s(w[E],x,g,d),E+=N,m>0)for(U=1,v=w[E],K=Q[X]=s(v,x,g,d),pe=Q[X+ae],ie=Q[X+ee],be=Q[X+de],K===pe&&K===ie&&K===be||(P=w[E+O],z=w[E+I],R=w[E+j],r(F,U,v,P,z,R,K,pe,ie,be,x,g,d),me=J[X]=V++),X+=1,E+=N,U=2;U<m;++U)v=w[E],K=Q[X]=s(v,x,g,d),pe=Q[X+ae],ie=Q[X+ee],be=Q[X+de],K===pe&&K===ie&&K===be||(P=w[E+O],z=w[E+I],R=w[E+j],r(F,U,v,P,z,R,K,pe,ie,be,x,g,d),me=J[X]=V++,be!==ie&&l(J[X+ee],me,z,R,ie,be,x,g,d)),X+=1,E+=N;for(E+=Z,X=0,Ee=ae,ae=ue,ue=Ee,Ee=ee,ee=re,re=Ee,Ee=de,de=ye,ye=Ee,F=2;F<y;++F){if(Q[X++]=s(w[E],x,g,d),E+=N,m>0)for(U=1,v=w[E],K=Q[X]=s(v,x,g,d),pe=Q[X+ae],ie=Q[X+ee],be=Q[X+de],K===pe&&K===ie&&K===be||(P=w[E+O],z=w[E+I],R=w[E+j],r(F,U,v,P,z,R,K,pe,ie,be,x,g,d),me=J[X]=V++,be!==pe&&l(J[X+ae],me,R,P,be,pe,x,g,d)),X+=1,E+=N,U=2;U<m;++U)v=w[E],K=Q[X]=s(v,x,g,d),pe=Q[X+ae],ie=Q[X+ee],be=Q[X+de],K===pe&&K===ie&&K===be||(P=w[E+O],z=w[E+I],R=w[E+j],r(F,U,v,P,z,R,K,pe,ie,be,x,g,d),me=J[X]=V++,be!==ie&&l(J[X+ee],me,z,R,ie,be,x,g,d),be!==pe&&l(J[X+ae],me,R,P,be,pe,x,g,d)),X+=1,E+=N;1&F&&(X=0),Ee=ae,ae=ue,ue=Ee,Ee=ee,ee=re,re=Ee,Ee=de,de=ye,ye=Ee,E+=Z}}p(J),p(Q)}}}},9144:function(h,o,t){var i=t(3094),n={zero:function(y,m,w,f){var S=y[0];f|=0;var T=0,E=w[0];for(T=0;T<S;++T)m[f]=0,f+=E},fdTemplate1:function(y,m,w,f,S,T,E){var O=y[0],P=w[0],I=-1*P,z=P;f|=0,E|=0;var j=0,R=P,N=T[0];for(j=0;j<O;++j)S[E]=.5*(m[f+I]-m[f+z]),f+=R,E+=N},fdTemplate2:function(y,m,w,f,S,T,E,O,P,I){var z=y[0],j=y[1],R=w[0],N=w[1],Z=T[0],F=T[1],U=P[0],V=P[1],te=-1*R,Q=R,J=-1*N,X=N;f|=0,E|=0,I|=0;var K=0,ee=0,re=N,ie=R-j*N,ae=F,ue=Z-j*F,pe=V,de=U-j*V;for(ee=0;ee<z;++ee){for(K=0;K<j;++K)S[E]=.5*(m[f+te]-m[f+Q]),O[I]=.5*(m[f+J]-m[f+X]),f+=re,E+=ae,I+=pe;f+=ie,E+=ue,I+=de}}},r={cdiff:function(y){var m={};return function(w,f,S){var T=w.dtype,E=w.order,O=f.dtype,P=f.order,I=S.dtype,z=S.order,j=[T,E.join(),O,P.join(),I,z.join()].join(),R=m[j];return R||(m[j]=R=y([T,E,O,P,I,z])),R(w.shape.slice(0),w.data,w.stride,0|w.offset,f.data,f.stride,0|f.offset,S.data,S.stride,0|S.offset)}},zero:function(y){var m={};return function(w){var f=w.dtype,S=w.order,T=[f,S.join()].join(),E=m[T];return E||(m[T]=E=y([f,S])),E(w.shape.slice(0),w.data,w.stride,0|w.offset)}},fdTemplate1:function(y){var m={};return function(w,f){var S=w.dtype,T=w.order,E=f.dtype,O=f.order,P=[S,T.join(),E,O.join()].join(),I=m[P];return I||(m[P]=I=y([S,T,E,O])),I(w.shape.slice(0),w.data,w.stride,0|w.offset,f.data,f.stride,0|f.offset)}},fdTemplate2:function(y){var m={};return function(w,f,S){var T=w.dtype,E=w.order,O=f.dtype,P=f.order,I=S.dtype,z=S.order,j=[T,E.join(),O,P.join(),I,z.join()].join(),R=m[j];return R||(m[j]=R=y([T,E,O,P,I,z])),R(w.shape.slice(0),w.data,w.stride,0|w.offset,f.data,f.stride,0|f.offset,S.data,S.stride,0|S.offset)}}};function l(y){return(0,r[y.funcName])(s.bind(void 0,y))}function s(y){return n[y.funcName]}function u(y){return l({funcName:y.funcName})}var p={},c={},x=u({funcName:"cdiff"}),g=u({funcName:"zero"});function d(y){return y in p?p[y]:p[y]=u({funcName:"fdTemplate"+y})}function v(y,m,w,f){return function(S,T){var E=T.shape.slice();return E[0]>2&&E[1]>2&&f(T.pick(-1,-1).lo(1,1).hi(E[0]-2,E[1]-2),S.pick(-1,-1,0).lo(1,1).hi(E[0]-2,E[1]-2),S.pick(-1,-1,1).lo(1,1).hi(E[0]-2,E[1]-2)),E[1]>2&&(w(T.pick(0,-1).lo(1).hi(E[1]-2),S.pick(0,-1,1).lo(1).hi(E[1]-2)),m(S.pick(0,-1,0).lo(1).hi(E[1]-2))),E[1]>2&&(w(T.pick(E[0]-1,-1).lo(1).hi(E[1]-2),S.pick(E[0]-1,-1,1).lo(1).hi(E[1]-2)),m(S.pick(E[0]-1,-1,0).lo(1).hi(E[1]-2))),E[0]>2&&(w(T.pick(-1,0).lo(1).hi(E[0]-2),S.pick(-1,0,0).lo(1).hi(E[0]-2)),m(S.pick(-1,0,1).lo(1).hi(E[0]-2))),E[0]>2&&(w(T.pick(-1,E[1]-1).lo(1).hi(E[0]-2),S.pick(-1,E[1]-1,0).lo(1).hi(E[0]-2)),m(S.pick(-1,E[1]-1,1).lo(1).hi(E[0]-2))),S.set(0,0,0,0),S.set(0,0,1,0),S.set(E[0]-1,0,0,0),S.set(E[0]-1,0,1,0),S.set(0,E[1]-1,0,0),S.set(0,E[1]-1,1,0),S.set(E[0]-1,E[1]-1,0,0),S.set(E[0]-1,E[1]-1,1,0),S}}h.exports=function(y,m,w){return Array.isArray(w)||(w=i(m.dimension,typeof w=="string"?w:"clamp")),m.size===0?y:m.dimension===0?(y.set(0),y):function(f){var S=f.join();if(P=c[S])return P;for(var T=f.length,E=[x,g],O=1;O<=T;++O)E.push(d(O));var P=v.apply(void 0,E);return c[S]=P,P}(w)(y,m)}},3581:function(h){function o(r,l){var s=Math.floor(l),u=l-s,p=0<=s&&s<r.shape[0],c=0<=s+1&&s+1<r.shape[0];return(1-u)*(p?+r.get(s):0)+u*(c?+r.get(s+1):0)}function t(r,l,s){var u=Math.floor(l),p=l-u,c=0<=u&&u<r.shape[0],x=0<=u+1&&u+1<r.shape[0],g=Math.floor(s),d=s-g,v=0<=g&&g<r.shape[1],y=0<=g+1&&g+1<r.shape[1],m=c&&v?r.get(u,g):0,w=c&&y?r.get(u,g+1):0;return(1-d)*((1-p)*m+p*(x&&v?r.get(u+1,g):0))+d*((1-p)*w+p*(x&&y?r.get(u+1,g+1):0))}function i(r,l,s,u){var p=Math.floor(l),c=l-p,x=0<=p&&p<r.shape[0],g=0<=p+1&&p+1<r.shape[0],d=Math.floor(s),v=s-d,y=0<=d&&d<r.shape[1],m=0<=d+1&&d+1<r.shape[1],w=Math.floor(u),f=u-w,S=0<=w&&w<r.shape[2],T=0<=w+1&&w+1<r.shape[2],E=x&&y&&S?r.get(p,d,w):0,O=x&&m&&S?r.get(p,d+1,w):0,P=g&&y&&S?r.get(p+1,d,w):0,I=g&&m&&S?r.get(p+1,d+1,w):0,z=x&&y&&T?r.get(p,d,w+1):0,j=x&&m&&T?r.get(p,d+1,w+1):0;return(1-f)*((1-v)*((1-c)*E+c*P)+v*((1-c)*O+c*I))+f*((1-v)*((1-c)*z+c*(g&&y&&T?r.get(p+1,d,w+1):0))+v*((1-c)*j+c*(g&&m&&T?r.get(p+1,d+1,w+1):0)))}function n(r){var l,s,u=0|r.shape.length,p=new Array(u),c=new Array(u),x=new Array(u),g=new Array(u);for(l=0;l<u;++l)s=+arguments[l+1],p[l]=Math.floor(s),c[l]=s-p[l],x[l]=0<=p[l]&&p[l]<r.shape[l],g[l]=0<=p[l]+1&&p[l]+1<r.shape[l];var d,v,y,m=0;e:for(l=0;l<1<<u;++l){for(v=1,y=r.offset,d=0;d<u;++d)if(l&1<<d){if(!g[d])continue e;v*=c[d],y+=r.stride[d]*(p[d]+1)}else{if(!x[d])continue e;v*=1-c[d],y+=r.stride[d]*p[d]}m+=v*r.data[y]}return m}h.exports=function(r,l,s,u){switch(r.shape.length){case 0:return 0;case 1:return o(r,l);case 2:return t(r,l,s);case 3:return i(r,l,s,u);default:return n.apply(void 0,arguments)}},h.exports.d1=o,h.exports.d2=t,h.exports.d3=i},7498:function(h,o){var t={"float64,2,1,0":function(){return function(s,u,p,c,x){var g=s[0],d=s[1],v=s[2],y=p[0],m=p[1],w=p[2];c|=0;var f=0,S=0,T=0,E=w,O=m-v*w,P=y-d*m;for(T=0;T<g;++T){for(S=0;S<d;++S){for(f=0;f<v;++f)u[c]/=x,c+=E;c+=O}c+=P}}},"uint8,2,0,1,float64,2,1,0":function(){return function(s,u,p,c,x,g,d,v){for(var y=s[0],m=s[1],w=s[2],f=p[0],S=p[1],T=p[2],E=g[0],O=g[1],P=g[2],I=c|=0,z=d|=0,j=0|s[0];j>0;){j<64?(y=j,j=0):(y=64,j-=64);for(var R=0|s[1];R>0;){R<64?(m=R,R=0):(m=64,R-=64),c=I+j*f+R*S,d=z+j*E+R*O;var N=0,Z=0,F=0,U=T,V=f-w*T,te=S-y*f,Q=P,J=E-w*P,X=O-y*E;for(F=0;F<m;++F){for(Z=0;Z<y;++Z){for(N=0;N<w;++N)u[c]=x[d]*v,c+=U,d+=Q;c+=V,d+=J}c+=te,d+=X}}}}},"float32,1,0,float32,1,0":function(){return function(s,u,p,c,x,g,d){var v=s[0],y=s[1],m=p[0],w=p[1],f=g[0],S=g[1];c|=0,d|=0;var T=0,E=0,O=w,P=m-y*w,I=S,z=f-y*S;for(E=0;E<v;++E){for(T=0;T<y;++T)u[c]=x[d],c+=O,d+=I;c+=P,d+=z}}},"float32,1,0,float32,0,1":function(){return function(s,u,p,c,x,g,d){for(var v=s[0],y=s[1],m=p[0],w=p[1],f=g[0],S=g[1],T=c|=0,E=d|=0,O=0|s[1];O>0;){O<64?(y=O,O=0):(y=64,O-=64);for(var P=0|s[0];P>0;){P<64?(v=P,P=0):(v=64,P-=64),c=T+O*w+P*m,d=E+O*S+P*f;var I=0,z=0,j=w,R=m-y*w,N=S,Z=f-y*S;for(z=0;z<v;++z){for(I=0;I<y;++I)u[c]=x[d],c+=j,d+=N;c+=R,d+=Z}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(s,u,p,c,x,g,d){for(var v=s[0],y=s[1],m=s[2],w=p[0],f=p[1],S=p[2],T=g[0],E=g[1],O=g[2],P=c|=0,I=d|=0,z=0|s[2];z>0;){z<64?(m=z,z=0):(m=64,z-=64);for(var j=0|s[0];j>0;){j<64?(v=j,j=0):(v=64,j-=64);for(var R=0|s[1];R>0;){R<64?(y=R,R=0):(y=64,R-=64),c=P+z*S+j*w+R*f,d=I+z*O+j*T+R*E;var N=0,Z=0,F=0,U=S,V=w-m*S,te=f-v*w,Q=O,J=T-m*O,X=E-v*T;for(F=0;F<y;++F){for(Z=0;Z<v;++Z){for(N=0;N<m;++N)u[c]=x[d],c+=U,d+=Q;c+=V,d+=J}c+=te,d+=X}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(s,u,p,c,x,g,d){var v=s[0],y=s[1],m=s[2],w=p[0],f=p[1],S=p[2],T=g[0],E=g[1],O=g[2];c|=0,d|=0;var P=0,I=0,z=0,j=S,R=w-m*S,N=f-v*w,Z=O,F=T-m*O,U=E-v*T;for(z=0;z<y;++z){for(I=0;I<v;++I){for(P=0;P<m;++P)u[c]=x[d],c+=j,d+=Z;c+=R,d+=F}c+=N,d+=U}}}},i=function(s,u){var p=u.join(",");return(0,t[p])()},n={mul:function(s){var u={};return function(p,c,x){var g=p.dtype,d=p.order,v=c.dtype,y=c.order,m=x.dtype,w=x.order,f=[g,d.join(),v,y.join(),m,w.join()].join(),S=u[f];return S||(u[f]=S=s([g,d,v,y,m,w])),S(p.shape.slice(0),p.data,p.stride,0|p.offset,c.data,c.stride,0|c.offset,x.data,x.stride,0|x.offset)}},muls:function(s){var u={};return function(p,c,x){var g=p.dtype,d=p.order,v=c.dtype,y=c.order,m=[g,d.join(),v,y.join()].join(),w=u[m];return w||(u[m]=w=s([g,d,v,y])),w(p.shape.slice(0),p.data,p.stride,0|p.offset,c.data,c.stride,0|c.offset,x)}},mulseq:function(s){var u={};return function(p,c){var x=p.dtype,g=p.order,d=[x,g.join()].join(),v=u[d];return v||(u[d]=v=s([x,g])),v(p.shape.slice(0),p.data,p.stride,0|p.offset,c)}},div:function(s){var u={};return function(p,c,x){var g=p.dtype,d=p.order,v=c.dtype,y=c.order,m=x.dtype,w=x.order,f=[g,d.join(),v,y.join(),m,w.join()].join(),S=u[f];return S||(u[f]=S=s([g,d,v,y,m,w])),S(p.shape.slice(0),p.data,p.stride,0|p.offset,c.data,c.stride,0|c.offset,x.data,x.stride,0|x.offset)}},divs:function(s){var u={};return function(p,c,x){var g=p.dtype,d=p.order,v=c.dtype,y=c.order,m=[g,d.join(),v,y.join()].join(),w=u[m];return w||(u[m]=w=s([g,d,v,y])),w(p.shape.slice(0),p.data,p.stride,0|p.offset,c.data,c.stride,0|c.offset,x)}},divseq:function(s){var u={};return function(p,c){var x=p.dtype,g=p.order,d=[x,g.join()].join(),v=u[d];return v||(u[d]=v=s([x,g])),v(p.shape.slice(0),p.data,p.stride,0|p.offset,c)}},assign:function(s){var u={};return function(p,c){var x=p.dtype,g=p.order,d=c.dtype,v=c.order,y=[x,g.join(),d,v.join()].join(),m=u[y];return m||(u[y]=m=s([x,g,d,v])),m(p.shape.slice(0),p.data,p.stride,0|p.offset,c.data,c.stride,0|c.offset)}}};function r(s){return u={funcName:s.funcName},(0,n[u.funcName])(i.bind(void 0,u));var u}var l={mul:"*",div:"/"};(function(){for(var s in l)o[s]=r({funcName:s}),o[s+"s"]=r({funcName:s+"s"}),o[s+"seq"]=r({funcName:s+"seq"})})(),o.assign=r({funcName:"assign"})},7382:function(h,o,t){var i=t(5050),n=t(9262);h.exports=function(r,l){for(var s=[],u=r,p=1;Array.isArray(u);)s.push(u.length),p*=u.length,u=u[0];return s.length===0?i():(l||(l=i(new Float64Array(p),s)),n(l,r),l)}},9262:function(h){h.exports=function(o){var t={};return function(i,n){var r=i.dtype,l=i.order,s=[r,l.join()].join(),u=t[s];return u||(t[s]=u=o([r,l])),u(i.shape.slice(0),i.data,i.stride,0|i.offset,n)}}((function(){return function(o,t,i,n,r){var l=o[0],s=o[1],u=o[2],p=i[0],c=i[1],x=i[2],g=[0,0,0];n|=0;var d=0,v=0,y=0,m=x,w=c-u*x,f=p-s*c;for(y=0;y<l;++y){for(v=0;v<s;++v){for(d=0;d<u;++d){var S,T=r;for(S=0;S<g.length-1;++S)T=T[g[S]];t[n]=T[g[g.length-1]],n+=m,++g[2]}n+=w,g[2]-=u,++g[1]}n+=f,g[1]-=s,++g[0]}}}).bind(void 0,{funcName:"convert"}))},8139:function(h,o,t){var i=t(5306);function n(u){return u==="uint32"?[i.mallocUint32,i.freeUint32]:null}var r={"uint32,1,0":function(u,p){return function(c,x,g,d,v,y,m,w,f,S,T){var E,O,P,I,z,j,R,N,Z=c*v+d,F=u(w);for(E=c+1;E<=x;++E){for(O=E,P=Z+=v,z=0,j=Z,I=0;I<w;++I)F[z++]=g[j],j+=f;e:for(;O-- >c;){z=0,j=P-v;t:for(I=0;I<w;++I){if((R=g[j])<(N=F[z]))break e;if(R>N)break t;j+=S,z+=T}for(z=P,j=P-v,I=0;I<w;++I)g[z]=g[j],z+=f,j+=f;P-=v}for(z=P,j=0,I=0;I<w;++I)g[z]=F[j++],z+=f}p(F)}}},l={"uint32,1,0":function(u,p,c){return function x(g,d,v,y,m,w,f,S,T,E,O){var P,I,z,j,R,N,Z,F,U,V,te,Q,J,X,K,ee,re,ie,ae,ue,pe,de,ye,be,me,Ee=(d-g+1)/6|0,Te=g+Ee,we=d-Ee,oe=g+d>>1,se=oe-Ee,he=oe+Ee,Se=Te,_e=se,Ae=oe,Ce=he,Re=we,fe=g+1,xe=d-1,ke=!0,Ie=0,Fe=0,ze=0,qe=S,Ye=p(qe),Qe=p(qe);te=m*Se,Q=m*_e,me=y;e:for(V=0;V<S;++V){if(F=Q+me,(ze=v[Z=te+me]-v[F])>0){I=Se,Se=_e,_e=I;break e}if(ze<0)break e;me+=E}te=m*Ce,Q=m*Re,me=y;e:for(V=0;V<S;++V){if(F=Q+me,(ze=v[Z=te+me]-v[F])>0){I=Ce,Ce=Re,Re=I;break e}if(ze<0)break e;me+=E}te=m*Se,Q=m*Ae,me=y;e:for(V=0;V<S;++V){if(F=Q+me,(ze=v[Z=te+me]-v[F])>0){I=Se,Se=Ae,Ae=I;break e}if(ze<0)break e;me+=E}te=m*_e,Q=m*Ae,me=y;e:for(V=0;V<S;++V){if(F=Q+me,(ze=v[Z=te+me]-v[F])>0){I=_e,_e=Ae,Ae=I;break e}if(ze<0)break e;me+=E}te=m*Se,Q=m*Ce,me=y;e:for(V=0;V<S;++V){if(F=Q+me,(ze=v[Z=te+me]-v[F])>0){I=Se,Se=Ce,Ce=I;break e}if(ze<0)break e;me+=E}te=m*Ae,Q=m*Ce,me=y;e:for(V=0;V<S;++V){if(F=Q+me,(ze=v[Z=te+me]-v[F])>0){I=Ae,Ae=Ce,Ce=I;break e}if(ze<0)break e;me+=E}te=m*_e,Q=m*Re,me=y;e:for(V=0;V<S;++V){if(F=Q+me,(ze=v[Z=te+me]-v[F])>0){I=_e,_e=Re,Re=I;break e}if(ze<0)break e;me+=E}te=m*_e,Q=m*Ae,me=y;e:for(V=0;V<S;++V){if(F=Q+me,(ze=v[Z=te+me]-v[F])>0){I=_e,_e=Ae,Ae=I;break e}if(ze<0)break e;me+=E}te=m*Ce,Q=m*Re,me=y;e:for(V=0;V<S;++V){if(F=Q+me,(ze=v[Z=te+me]-v[F])>0){I=Ce,Ce=Re,Re=I;break e}if(ze<0)break e;me+=E}for(te=m*Se,Q=m*_e,J=m*Ae,X=m*Ce,K=m*Re,ee=m*Te,re=m*oe,ie=m*we,be=0,me=y,V=0;V<S;++V)Z=te+me,F=Q+me,U=J+me,ae=X+me,ue=K+me,pe=ee+me,de=re+me,ye=ie+me,Ye[be]=v[F],Qe[be]=v[ae],ke=ke&&Ye[be]===Qe[be],z=v[Z],j=v[U],R=v[ue],v[pe]=z,v[de]=j,v[ye]=R,++be,me+=T;for(te=m*se,Q=m*g,me=y,V=0;V<S;++V)F=Q+me,v[Z=te+me]=v[F],me+=T;for(te=m*he,Q=m*d,me=y,V=0;V<S;++V)F=Q+me,v[Z=te+me]=v[F],me+=T;if(ke)for(N=fe;N<=xe;++N){for(Z=y+N*m,be=0,V=0;V<S&&(ze=v[Z]-Ye[be])==0;++V)be+=O,Z+=E;if(ze!==0)if(ze<0){if(N!==fe)for(te=m*N,Q=m*fe,me=y,V=0;V<S;++V)F=Q+me,P=v[Z=te+me],v[Z]=v[F],v[F]=P,me+=T;++fe}else for(;;){for(Z=y+xe*m,be=0,V=0;V<S&&(ze=v[Z]-Ye[be])==0;++V)be+=O,Z+=E;if(!(ze>0)){if(ze<0){for(te=m*N,Q=m*fe,J=m*xe,me=y,V=0;V<S;++V)F=Q+me,U=J+me,P=v[Z=te+me],v[Z]=v[F],v[F]=v[U],v[U]=P,me+=T;++fe,--xe;break}for(te=m*N,Q=m*xe,me=y,V=0;V<S;++V)F=Q+me,P=v[Z=te+me],v[Z]=v[F],v[F]=P,me+=T;--xe;break}xe--}}else for(N=fe;N<=xe;++N){for(Z=y+N*m,be=0,V=0;V<S&&(Ie=v[Z]-Ye[be])==0;++V)be+=O,Z+=E;if(Ie<0){if(N!==fe)for(te=m*N,Q=m*fe,me=y,V=0;V<S;++V)F=Q+me,P=v[Z=te+me],v[Z]=v[F],v[F]=P,me+=T;++fe}else{for(Z=y+N*m,be=0,V=0;V<S&&(Fe=v[Z]-Qe[be])==0;++V)be+=O,Z+=E;if(Fe>0)for(;;){for(Z=y+xe*m,be=0,V=0;V<S&&(ze=v[Z]-Qe[be])==0;++V)be+=O,Z+=E;if(!(ze>0)){for(Z=y+xe*m,be=0,V=0;V<S&&(ze=v[Z]-Ye[be])==0;++V)be+=O,Z+=E;if(ze<0){for(te=m*N,Q=m*fe,J=m*xe,me=y,V=0;V<S;++V)F=Q+me,U=J+me,P=v[Z=te+me],v[Z]=v[F],v[F]=v[U],v[U]=P,me+=T;++fe,--xe}else{for(te=m*N,Q=m*xe,me=y,V=0;V<S;++V)F=Q+me,P=v[Z=te+me],v[Z]=v[F],v[F]=P,me+=T;--xe}break}if(--xe<N)break}}}for(te=m*g,Q=m*(fe-1),be=0,me=y,V=0;V<S;++V)F=Q+me,v[Z=te+me]=v[F],v[F]=Ye[be],++be,me+=T;for(te=m*d,Q=m*(xe+1),be=0,me=y,V=0;V<S;++V)F=Q+me,v[Z=te+me]=v[F],v[F]=Qe[be],++be,me+=T;if(fe-2-g<=32?u(g,fe-2,v,y,m,w,f,S,T,E,O):x(g,fe-2,v,y,m,w,f,S,T,E,O),d-(xe+2)<=32?u(xe+2,d,v,y,m,w,f,S,T,E,O):x(xe+2,d,v,y,m,w,f,S,T,E,O),ke)return c(Ye),void c(Qe);if(fe<Te&&xe>we){e:for(;;){for(Z=y+fe*m,be=0,me=y,V=0;V<S;++V){if(v[Z]!==Ye[be])break e;++be,Z+=T}++fe}e:for(;;){for(Z=y+xe*m,be=0,me=y,V=0;V<S;++V){if(v[Z]!==Qe[be])break e;++be,Z+=T}--xe}for(N=fe;N<=xe;++N){for(Z=y+N*m,be=0,V=0;V<S&&(Ie=v[Z]-Ye[be])==0;++V)be+=O,Z+=E;if(Ie===0){if(N!==fe)for(te=m*N,Q=m*fe,me=y,V=0;V<S;++V)F=Q+me,P=v[Z=te+me],v[Z]=v[F],v[F]=P,me+=T;++fe}else{for(Z=y+N*m,be=0,V=0;V<S&&(Fe=v[Z]-Qe[be])==0;++V)be+=O,Z+=E;if(Fe===0)for(;;){for(Z=y+xe*m,be=0,V=0;V<S&&(ze=v[Z]-Qe[be])==0;++V)be+=O,Z+=E;if(ze!==0){for(Z=y+xe*m,be=0,V=0;V<S&&(ze=v[Z]-Ye[be])==0;++V)be+=O,Z+=E;if(ze<0){for(te=m*N,Q=m*fe,J=m*xe,me=y,V=0;V<S;++V)F=Q+me,U=J+me,P=v[Z=te+me],v[Z]=v[F],v[F]=v[U],v[U]=P,me+=T;++fe,--xe}else{for(te=m*N,Q=m*xe,me=y,V=0;V<S;++V)F=Q+me,P=v[Z=te+me],v[Z]=v[F],v[F]=P,me+=T;--xe}break}if(--xe<N)break}}}}c(Ye),c(Qe),xe-fe<=32?u(fe,xe,v,y,m,w,f,S,T,E,O):x(fe,xe,v,y,m,w,f,S,T,E,O)}}},s={"uint32,1,0":function(u,p){return function(c){var x=c.data,g=0|c.offset,d=c.shape,v=c.stride,y=0|v[0],m=0|d[0],w=0|v[1],f=0|d[1],S=w,T=w;m<=32?u(0,m-1,x,g,y,w,m,f,S,T,1):p(0,m-1,x,g,y,w,m,f,S,T,1)}}};h.exports=function(u,p){var c=[p,u].join(","),x=s[c],g=function(v,y){var m=n(y),w=[y,v].join(","),f=r[w];return m?f(m[0],m[1]):f()}(u,p),d=function(v,y,m){var w=n(y),f=[y,v].join(","),S=l[f];return v.length>1&&w?S(m,w[0],w[1]):S(m)}(u,p,g);return x(g,d)}},8729:function(h,o,t){var i=t(8139),n={};h.exports=function(r){var l=r.order,s=r.dtype,u=[l,s].join(":"),p=n[u];return p||(n[u]=p=i(l,s)),p(r),r}},5050:function(h,o,t){var i=t(4780),n=typeof Float64Array<"u";function r(c,x){return c[0]-x[0]}function l(){var c,x=this.stride,g=new Array(x.length);for(c=0;c<g.length;++c)g[c]=[Math.abs(x[c]),c];g.sort(r);var d=new Array(g.length);for(c=0;c<d.length;++c)d[c]=g[c][1];return d}var s={T:function(c){function x(d){this.data=d}var g=x.prototype;return g.dtype=c,g.index=function(){return-1},g.size=0,g.dimension=-1,g.shape=g.stride=g.order=[],g.lo=g.hi=g.transpose=g.step=function(){return new x(this.data)},g.get=g.set=function(){},g.pick=function(){return null},function(d){return new x(d)}},0:function(c,x){function g(v,y){this.data=v,this.offset=y}var d=g.prototype;return d.dtype=c,d.index=function(){return this.offset},d.dimension=0,d.size=1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new g(this.data,this.offset)},d.pick=function(){return x(this.data)},d.valueOf=d.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},d.set=function(v){return c==="generic"?this.data.set(this.offset,v):this.data[this.offset]=v},function(v,y,m,w){return new g(v,w)}},1:function(c,x,g){function d(y,m,w,f){this.data=y,this.shape=[m],this.stride=[w],this.offset=0|f}var v=d.prototype;return v.dtype=c,v.dimension=1,Object.defineProperty(v,"size",{get:function(){return this.shape[0]}}),v.order=[0],v.set=function(y,m){return c==="generic"?this.data.set(this.offset+this.stride[0]*y,m):this.data[this.offset+this.stride[0]*y]=m},v.get=function(y){return c==="generic"?this.data.get(this.offset+this.stride[0]*y):this.data[this.offset+this.stride[0]*y]},v.index=function(y){return this.offset+this.stride[0]*y},v.hi=function(y){return new d(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,this.stride[0],this.offset)},v.lo=function(y){var m=this.offset,w=0,f=this.shape[0],S=this.stride[0];return typeof y=="number"&&y>=0&&(m+=S*(w=0|y),f-=w),new d(this.data,f,S,m)},v.step=function(y){var m=this.shape[0],w=this.stride[0],f=this.offset,S=0,T=Math.ceil;return typeof y=="number"&&((S=0|y)<0?(f+=w*(m-1),m=T(-m/S)):m=T(m/S),w*=S),new d(this.data,m,w,f)},v.transpose=function(y){y=y===void 0?0:0|y;var m=this.shape,w=this.stride;return new d(this.data,m[y],w[y],this.offset)},v.pick=function(y){var m=[],w=[],f=this.offset;return typeof y=="number"&&y>=0?f=f+this.stride[0]*y|0:(m.push(this.shape[0]),w.push(this.stride[0])),(0,x[m.length+1])(this.data,m,w,f)},function(y,m,w,f){return new d(y,m[0],w[0],f)}},2:function(c,x,g){function d(y,m,w,f,S,T){this.data=y,this.shape=[m,w],this.stride=[f,S],this.offset=0|T}var v=d.prototype;return v.dtype=c,v.dimension=2,Object.defineProperty(v,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(v,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),v.set=function(y,m,w){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*m,w):this.data[this.offset+this.stride[0]*y+this.stride[1]*m]=w},v.get=function(y,m){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*m):this.data[this.offset+this.stride[0]*y+this.stride[1]*m]},v.index=function(y,m){return this.offset+this.stride[0]*y+this.stride[1]*m},v.hi=function(y,m){return new d(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,typeof m!="number"||m<0?this.shape[1]:0|m,this.stride[0],this.stride[1],this.offset)},v.lo=function(y,m){var w=this.offset,f=0,S=this.shape[0],T=this.shape[1],E=this.stride[0],O=this.stride[1];return typeof y=="number"&&y>=0&&(w+=E*(f=0|y),S-=f),typeof m=="number"&&m>=0&&(w+=O*(f=0|m),T-=f),new d(this.data,S,T,E,O,w)},v.step=function(y,m){var w=this.shape[0],f=this.shape[1],S=this.stride[0],T=this.stride[1],E=this.offset,O=0,P=Math.ceil;return typeof y=="number"&&((O=0|y)<0?(E+=S*(w-1),w=P(-w/O)):w=P(w/O),S*=O),typeof m=="number"&&((O=0|m)<0?(E+=T*(f-1),f=P(-f/O)):f=P(f/O),T*=O),new d(this.data,w,f,S,T,E)},v.transpose=function(y,m){y=y===void 0?0:0|y,m=m===void 0?1:0|m;var w=this.shape,f=this.stride;return new d(this.data,w[y],w[m],f[y],f[m],this.offset)},v.pick=function(y,m){var w=[],f=[],S=this.offset;return typeof y=="number"&&y>=0?S=S+this.stride[0]*y|0:(w.push(this.shape[0]),f.push(this.stride[0])),typeof m=="number"&&m>=0?S=S+this.stride[1]*m|0:(w.push(this.shape[1]),f.push(this.stride[1])),(0,x[w.length+1])(this.data,w,f,S)},function(y,m,w,f){return new d(y,m[0],m[1],w[0],w[1],f)}},3:function(c,x,g){function d(y,m,w,f,S,T,E,O){this.data=y,this.shape=[m,w,f],this.stride=[S,T,E],this.offset=0|O}var v=d.prototype;return v.dtype=c,v.dimension=3,Object.defineProperty(v,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(v,"order",{get:function(){var y=Math.abs(this.stride[0]),m=Math.abs(this.stride[1]),w=Math.abs(this.stride[2]);return y>m?m>w?[2,1,0]:y>w?[1,2,0]:[1,0,2]:y>w?[2,0,1]:w>m?[0,1,2]:[0,2,1]}}),v.set=function(y,m,w,f){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w,f):this.data[this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w]=f},v.get=function(y,m,w){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w):this.data[this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w]},v.index=function(y,m,w){return this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w},v.hi=function(y,m,w){return new d(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,typeof m!="number"||m<0?this.shape[1]:0|m,typeof w!="number"||w<0?this.shape[2]:0|w,this.stride[0],this.stride[1],this.stride[2],this.offset)},v.lo=function(y,m,w){var f=this.offset,S=0,T=this.shape[0],E=this.shape[1],O=this.shape[2],P=this.stride[0],I=this.stride[1],z=this.stride[2];return typeof y=="number"&&y>=0&&(f+=P*(S=0|y),T-=S),typeof m=="number"&&m>=0&&(f+=I*(S=0|m),E-=S),typeof w=="number"&&w>=0&&(f+=z*(S=0|w),O-=S),new d(this.data,T,E,O,P,I,z,f)},v.step=function(y,m,w){var f=this.shape[0],S=this.shape[1],T=this.shape[2],E=this.stride[0],O=this.stride[1],P=this.stride[2],I=this.offset,z=0,j=Math.ceil;return typeof y=="number"&&((z=0|y)<0?(I+=E*(f-1),f=j(-f/z)):f=j(f/z),E*=z),typeof m=="number"&&((z=0|m)<0?(I+=O*(S-1),S=j(-S/z)):S=j(S/z),O*=z),typeof w=="number"&&((z=0|w)<0?(I+=P*(T-1),T=j(-T/z)):T=j(T/z),P*=z),new d(this.data,f,S,T,E,O,P,I)},v.transpose=function(y,m,w){y=y===void 0?0:0|y,m=m===void 0?1:0|m,w=w===void 0?2:0|w;var f=this.shape,S=this.stride;return new d(this.data,f[y],f[m],f[w],S[y],S[m],S[w],this.offset)},v.pick=function(y,m,w){var f=[],S=[],T=this.offset;return typeof y=="number"&&y>=0?T=T+this.stride[0]*y|0:(f.push(this.shape[0]),S.push(this.stride[0])),typeof m=="number"&&m>=0?T=T+this.stride[1]*m|0:(f.push(this.shape[1]),S.push(this.stride[1])),typeof w=="number"&&w>=0?T=T+this.stride[2]*w|0:(f.push(this.shape[2]),S.push(this.stride[2])),(0,x[f.length+1])(this.data,f,S,T)},function(y,m,w,f){return new d(y,m[0],m[1],m[2],w[0],w[1],w[2],f)}},4:function(c,x,g){function d(y,m,w,f,S,T,E,O,P,I){this.data=y,this.shape=[m,w,f,S],this.stride=[T,E,O,P],this.offset=0|I}var v=d.prototype;return v.dtype=c,v.dimension=4,Object.defineProperty(v,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(v,"order",{get:g}),v.set=function(y,m,w,f,S){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w+this.stride[3]*f,S):this.data[this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w+this.stride[3]*f]=S},v.get=function(y,m,w,f){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w+this.stride[3]*f):this.data[this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w+this.stride[3]*f]},v.index=function(y,m,w,f){return this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w+this.stride[3]*f},v.hi=function(y,m,w,f){return new d(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,typeof m!="number"||m<0?this.shape[1]:0|m,typeof w!="number"||w<0?this.shape[2]:0|w,typeof f!="number"||f<0?this.shape[3]:0|f,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},v.lo=function(y,m,w,f){var S=this.offset,T=0,E=this.shape[0],O=this.shape[1],P=this.shape[2],I=this.shape[3],z=this.stride[0],j=this.stride[1],R=this.stride[2],N=this.stride[3];return typeof y=="number"&&y>=0&&(S+=z*(T=0|y),E-=T),typeof m=="number"&&m>=0&&(S+=j*(T=0|m),O-=T),typeof w=="number"&&w>=0&&(S+=R*(T=0|w),P-=T),typeof f=="number"&&f>=0&&(S+=N*(T=0|f),I-=T),new d(this.data,E,O,P,I,z,j,R,N,S)},v.step=function(y,m,w,f){var S=this.shape[0],T=this.shape[1],E=this.shape[2],O=this.shape[3],P=this.stride[0],I=this.stride[1],z=this.stride[2],j=this.stride[3],R=this.offset,N=0,Z=Math.ceil;return typeof y=="number"&&((N=0|y)<0?(R+=P*(S-1),S=Z(-S/N)):S=Z(S/N),P*=N),typeof m=="number"&&((N=0|m)<0?(R+=I*(T-1),T=Z(-T/N)):T=Z(T/N),I*=N),typeof w=="number"&&((N=0|w)<0?(R+=z*(E-1),E=Z(-E/N)):E=Z(E/N),z*=N),typeof f=="number"&&((N=0|f)<0?(R+=j*(O-1),O=Z(-O/N)):O=Z(O/N),j*=N),new d(this.data,S,T,E,O,P,I,z,j,R)},v.transpose=function(y,m,w,f){y=y===void 0?0:0|y,m=m===void 0?1:0|m,w=w===void 0?2:0|w,f=f===void 0?3:0|f;var S=this.shape,T=this.stride;return new d(this.data,S[y],S[m],S[w],S[f],T[y],T[m],T[w],T[f],this.offset)},v.pick=function(y,m,w,f){var S=[],T=[],E=this.offset;return typeof y=="number"&&y>=0?E=E+this.stride[0]*y|0:(S.push(this.shape[0]),T.push(this.stride[0])),typeof m=="number"&&m>=0?E=E+this.stride[1]*m|0:(S.push(this.shape[1]),T.push(this.stride[1])),typeof w=="number"&&w>=0?E=E+this.stride[2]*w|0:(S.push(this.shape[2]),T.push(this.stride[2])),typeof f=="number"&&f>=0?E=E+this.stride[3]*f|0:(S.push(this.shape[3]),T.push(this.stride[3])),(0,x[S.length+1])(this.data,S,T,E)},function(y,m,w,f){return new d(y,m[0],m[1],m[2],m[3],w[0],w[1],w[2],w[3],f)}},5:function(c,x,g){function d(y,m,w,f,S,T,E,O,P,I,z,j){this.data=y,this.shape=[m,w,f,S,T],this.stride=[E,O,P,I,z],this.offset=0|j}var v=d.prototype;return v.dtype=c,v.dimension=5,Object.defineProperty(v,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(v,"order",{get:g}),v.set=function(y,m,w,f,S,T){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w+this.stride[3]*f+this.stride[4]*S,T):this.data[this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w+this.stride[3]*f+this.stride[4]*S]=T},v.get=function(y,m,w,f,S){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w+this.stride[3]*f+this.stride[4]*S):this.data[this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w+this.stride[3]*f+this.stride[4]*S]},v.index=function(y,m,w,f,S){return this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w+this.stride[3]*f+this.stride[4]*S},v.hi=function(y,m,w,f,S){return new d(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,typeof m!="number"||m<0?this.shape[1]:0|m,typeof w!="number"||w<0?this.shape[2]:0|w,typeof f!="number"||f<0?this.shape[3]:0|f,typeof S!="number"||S<0?this.shape[4]:0|S,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},v.lo=function(y,m,w,f,S){var T=this.offset,E=0,O=this.shape[0],P=this.shape[1],I=this.shape[2],z=this.shape[3],j=this.shape[4],R=this.stride[0],N=this.stride[1],Z=this.stride[2],F=this.stride[3],U=this.stride[4];return typeof y=="number"&&y>=0&&(T+=R*(E=0|y),O-=E),typeof m=="number"&&m>=0&&(T+=N*(E=0|m),P-=E),typeof w=="number"&&w>=0&&(T+=Z*(E=0|w),I-=E),typeof f=="number"&&f>=0&&(T+=F*(E=0|f),z-=E),typeof S=="number"&&S>=0&&(T+=U*(E=0|S),j-=E),new d(this.data,O,P,I,z,j,R,N,Z,F,U,T)},v.step=function(y,m,w,f,S){var T=this.shape[0],E=this.shape[1],O=this.shape[2],P=this.shape[3],I=this.shape[4],z=this.stride[0],j=this.stride[1],R=this.stride[2],N=this.stride[3],Z=this.stride[4],F=this.offset,U=0,V=Math.ceil;return typeof y=="number"&&((U=0|y)<0?(F+=z*(T-1),T=V(-T/U)):T=V(T/U),z*=U),typeof m=="number"&&((U=0|m)<0?(F+=j*(E-1),E=V(-E/U)):E=V(E/U),j*=U),typeof w=="number"&&((U=0|w)<0?(F+=R*(O-1),O=V(-O/U)):O=V(O/U),R*=U),typeof f=="number"&&((U=0|f)<0?(F+=N*(P-1),P=V(-P/U)):P=V(P/U),N*=U),typeof S=="number"&&((U=0|S)<0?(F+=Z*(I-1),I=V(-I/U)):I=V(I/U),Z*=U),new d(this.data,T,E,O,P,I,z,j,R,N,Z,F)},v.transpose=function(y,m,w,f,S){y=y===void 0?0:0|y,m=m===void 0?1:0|m,w=w===void 0?2:0|w,f=f===void 0?3:0|f,S=S===void 0?4:0|S;var T=this.shape,E=this.stride;return new d(this.data,T[y],T[m],T[w],T[f],T[S],E[y],E[m],E[w],E[f],E[S],this.offset)},v.pick=function(y,m,w,f,S){var T=[],E=[],O=this.offset;return typeof y=="number"&&y>=0?O=O+this.stride[0]*y|0:(T.push(this.shape[0]),E.push(this.stride[0])),typeof m=="number"&&m>=0?O=O+this.stride[1]*m|0:(T.push(this.shape[1]),E.push(this.stride[1])),typeof w=="number"&&w>=0?O=O+this.stride[2]*w|0:(T.push(this.shape[2]),E.push(this.stride[2])),typeof f=="number"&&f>=0?O=O+this.stride[3]*f|0:(T.push(this.shape[3]),E.push(this.stride[3])),typeof S=="number"&&S>=0?O=O+this.stride[4]*S|0:(T.push(this.shape[4]),E.push(this.stride[4])),(0,x[T.length+1])(this.data,T,E,O)},function(y,m,w,f){return new d(y,m[0],m[1],m[2],m[3],m[4],w[0],w[1],w[2],w[3],w[4],f)}}};function u(c,x){var g=x===-1?"T":String(x),d=s[g];return x===-1?d(c):x===0?d(c,p[c][0]):d(c,p[c],l)}var p={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};h.exports=function(c,x,g,d){if(c===void 0)return(0,p.array[0])([]);typeof c=="number"&&(c=[c]),x===void 0&&(x=[c.length]);var v=x.length;if(g===void 0){g=new Array(v);for(var y=v-1,m=1;y>=0;--y)g[y]=m,m*=x[y]}if(d===void 0)for(d=0,y=0;y<v;++y)g[y]<0&&(d-=(x[y]-1)*g[y]);for(var w=function(S){if(i(S))return"buffer";if(n)switch(Object.prototype.toString.call(S)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(S)?"array":"generic"}(c),f=p[w];f.length<=v+1;)f.push(u(w,f.length-1));return(0,f[v+1])(c,x,g,d)}},8551:function(h,o,t){var i=t(8362),n=Math.pow(2,-1074),r=-1>>>0;h.exports=function(l,s){if(isNaN(l)||isNaN(s))return NaN;if(l===s)return l;if(l===0)return s<0?-n:n;var u=i.hi(l),p=i.lo(l);return s>l==l>0?p===r?(u+=1,p=0):p+=1:p===0?(p=r,u-=1):p-=1,i.pack(p,u)}},115:function(h,o){o.vertexNormals=function(t,i,n){for(var r=i.length,l=new Array(r),s=n===void 0?1e-6:n,u=0;u<r;++u)l[u]=[0,0,0];for(u=0;u<t.length;++u)for(var p=t[u],c=0,x=p[p.length-1],g=p[0],d=0;d<p.length;++d){c=x,x=g,g=p[(d+1)%p.length];for(var v=i[c],y=i[x],m=i[g],w=new Array(3),f=0,S=new Array(3),T=0,E=0;E<3;++E)w[E]=v[E]-y[E],f+=w[E]*w[E],S[E]=m[E]-y[E],T+=S[E]*S[E];if(f*T>s){var O=l[x],P=1/Math.sqrt(f*T);for(E=0;E<3;++E){var I=(E+1)%3,z=(E+2)%3;O[E]+=P*(S[I]*w[z]-S[z]*w[I])}}}for(u=0;u<r;++u){O=l[u];var j=0;for(E=0;E<3;++E)j+=O[E]*O[E];if(j>s)for(P=1/Math.sqrt(j),E=0;E<3;++E)O[E]*=P;else for(E=0;E<3;++E)O[E]=0}return l},o.faceNormals=function(t,i,n){for(var r=t.length,l=new Array(r),s=n===void 0?1e-6:n,u=0;u<r;++u){for(var p=t[u],c=new Array(3),x=0;x<3;++x)c[x]=i[p[x]];var g=new Array(3),d=new Array(3);for(x=0;x<3;++x)g[x]=c[1][x]-c[0][x],d[x]=c[2][x]-c[0][x];var v=new Array(3),y=0;for(x=0;x<3;++x){var m=(x+1)%3,w=(x+2)%3;v[x]=g[m]*d[w]-g[w]*d[m],y+=v[x]*v[x]}for(y=y>s?1/Math.sqrt(y):0,x=0;x<3;++x)v[x]*=y;l[u]=v}return l}},567:function(h){h.exports=function(o,t,i,n,r,l,s,u,p,c){var x=t+l+c;if(g>0){var g=Math.sqrt(x+1);o[0]=.5*(s-p)/g,o[1]=.5*(u-n)/g,o[2]=.5*(i-l)/g,o[3]=.5*g}else{var d=Math.max(t,l,c);g=Math.sqrt(2*d-x+1),t>=d?(o[0]=.5*g,o[1]=.5*(r+i)/g,o[2]=.5*(u+n)/g,o[3]=.5*(s-p)/g):l>=d?(o[0]=.5*(i+r)/g,o[1]=.5*g,o[2]=.5*(p+s)/g,o[3]=.5*(u-n)/g):(o[0]=.5*(n+u)/g,o[1]=.5*(s+p)/g,o[2]=.5*g,o[3]=.5*(i-r)/g)}return o}},7774:function(h,o,t){h.exports=function(d){var v=(d=d||{}).center||[0,0,0],y=d.rotation||[0,0,0,1],m=d.radius||1;v=[].slice.call(v,0,3),c(y=[].slice.call(y,0,4),y);var w=new x(y,v,Math.log(m));return w.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&w.lookAt(0,d.eye,d.center,d.up),w};var i=t(8444),n=t(3012),r=t(5950),l=t(7437),s=t(567);function u(d,v,y){return Math.sqrt(Math.pow(d,2)+Math.pow(v,2)+Math.pow(y,2))}function p(d,v,y,m){return Math.sqrt(Math.pow(d,2)+Math.pow(v,2)+Math.pow(y,2)+Math.pow(m,2))}function c(d,v){var y=v[0],m=v[1],w=v[2],f=v[3],S=p(y,m,w,f);S>1e-6?(d[0]=y/S,d[1]=m/S,d[2]=w/S,d[3]=f/S):(d[0]=d[1]=d[2]=0,d[3]=1)}function x(d,v,y){this.radius=i([y]),this.center=i(v),this.rotation=i(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var g=x.prototype;g.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},g.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var v=this.computedRotation;c(v,v);var y=this.computedMatrix;r(y,v);var m=this.computedCenter,w=this.computedEye,f=this.computedUp,S=Math.exp(this.computedRadius[0]);w[0]=m[0]+S*y[2],w[1]=m[1]+S*y[6],w[2]=m[2]+S*y[10],f[0]=y[1],f[1]=y[5],f[2]=y[9];for(var T=0;T<3;++T){for(var E=0,O=0;O<3;++O)E+=y[T+4*O]*w[O];y[12+T]=-E}},g.getMatrix=function(d,v){this.recalcMatrix(d);var y=this.computedMatrix;if(v){for(var m=0;m<16;++m)v[m]=y[m];return v}return y},g.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},g.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},g.pan=function(d,v,y,m){v=v||0,y=y||0,m=m||0,this.recalcMatrix(d);var w=this.computedMatrix,f=w[1],S=w[5],T=w[9],E=u(f,S,T);f/=E,S/=E,T/=E;var O=w[0],P=w[4],I=w[8],z=O*f+P*S+I*T,j=u(O-=f*z,P-=S*z,I-=T*z);O/=j,P/=j,I/=j,w[2],w[6],w[10];var R=O*v+f*y,N=P*v+S*y,Z=I*v+T*y;this.center.move(d,R,N,Z);var F=Math.exp(this.computedRadius[0]);F=Math.max(1e-4,F+m),this.radius.set(d,Math.log(F))},g.rotate=function(d,v,y,m){this.recalcMatrix(d),v=v||0,y=y||0;var w=this.computedMatrix,f=w[0],S=w[4],T=w[8],E=w[1],O=w[5],P=w[9],I=w[2],z=w[6],j=w[10],R=v*f+y*E,N=v*S+y*O,Z=v*T+y*P,F=-(z*Z-j*N),U=-(j*R-I*Z),V=-(I*N-z*R),te=Math.sqrt(Math.max(0,1-Math.pow(F,2)-Math.pow(U,2)-Math.pow(V,2))),Q=p(F,U,V,te);Q>1e-6?(F/=Q,U/=Q,V/=Q,te/=Q):(F=U=V=0,te=1);var J=this.computedRotation,X=J[0],K=J[1],ee=J[2],re=J[3],ie=X*te+re*F+K*V-ee*U,ae=K*te+re*U+ee*F-X*V,ue=ee*te+re*V+X*U-K*F,pe=re*te-X*F-K*U-ee*V;if(m){F=I,U=z,V=j;var de=Math.sin(m)/u(F,U,V);F*=de,U*=de,V*=de,pe=pe*(te=Math.cos(v))-(ie=ie*te+pe*F+ae*V-ue*U)*F-(ae=ae*te+pe*U+ue*F-ie*V)*U-(ue=ue*te+pe*V+ie*U-ae*F)*V}var ye=p(ie,ae,ue,pe);ye>1e-6?(ie/=ye,ae/=ye,ue/=ye,pe/=ye):(ie=ae=ue=0,pe=1),this.rotation.set(d,ie,ae,ue,pe)},g.lookAt=function(d,v,y,m){this.recalcMatrix(d),y=y||this.computedCenter,v=v||this.computedEye,m=m||this.computedUp;var w=this.computedMatrix;n(w,v,y,m);var f=this.computedRotation;s(f,w[0],w[1],w[2],w[4],w[5],w[6],w[8],w[9],w[10]),c(f,f),this.rotation.set(d,f[0],f[1],f[2],f[3]);for(var S=0,T=0;T<3;++T)S+=Math.pow(y[T]-v[T],2);this.radius.set(d,.5*Math.log(Math.max(S,1e-6))),this.center.set(d,y[0],y[1],y[2])},g.translate=function(d,v,y,m){this.center.move(d,v||0,y||0,m||0)},g.setMatrix=function(d,v){var y=this.computedRotation;s(y,v[0],v[1],v[2],v[4],v[5],v[6],v[8],v[9],v[10]),c(y,y),this.rotation.set(d,y[0],y[1],y[2],y[3]);var m=this.computedMatrix;l(m,v);var w=m[15];if(Math.abs(w)>1e-6){var f=m[12]/w,S=m[13]/w,T=m[14]/w;this.recalcMatrix(d);var E=Math.exp(this.computedRadius[0]);this.center.set(d,f-m[2]*E,S-m[6]*E,T-m[10]*E),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},g.setDistance=function(d,v){v>0&&this.radius.set(d,Math.log(v))},g.setDistanceLimits=function(d,v){d=d>0?Math.log(d):-1/0,v=v>0?Math.log(v):1/0,v=Math.max(v,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=v},g.getDistanceLimits=function(d){var v=this.radius.bounds;return d?(d[0]=Math.exp(v[0][0]),d[1]=Math.exp(v[1][0]),d):[Math.exp(v[0][0]),Math.exp(v[1][0])]},g.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},g.fromJSON=function(d){var v=this.lastT(),y=d.center;y&&this.center.set(v,y[0],y[1],y[2]);var m=d.rotation;m&&this.rotation.set(v,m[0],m[1],m[2],m[3]);var w=d.distance;w&&w>0&&this.radius.set(v,Math.log(w)),this.setDistanceLimits(d.zoomMin,d.zoomMax)}},4930:function(h,o,t){var i=t(6184);h.exports=function(n,r,l){return i(l=l!==void 0?l+"":" ",r)+n}},4405:function(h){h.exports=function(o,t){t||(t=[0,""]),o=String(o);var i=parseFloat(o,10);return t[0]=i,t[1]=o.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},4166:function(h,o,t){h.exports=function(n,r){for(var l=0|r.length,s=n.length,u=[new Array(l),new Array(l)],p=0;p<l;++p)u[0][p]=[],u[1][p]=[];for(p=0;p<s;++p){var c=n[p];u[0][c[0]].push(c),u[1][c[1]].push(c)}var x=[];for(p=0;p<l;++p)u[0][p].length+u[1][p].length===0&&x.push([p]);function g(S,T){var E=u[T][S[T]];E.splice(E.indexOf(S),1)}function d(S,T,E){for(var O,P,I,z=0;z<2;++z)if(u[z][T].length>0){O=u[z][T][0],I=z;break}P=O[1^I];for(var j=0;j<2;++j)for(var R=u[j][T],N=0;N<R.length;++N){var Z=R[N],F=Z[1^j];i(r[S],r[T],r[P],r[F])>0&&(O=Z,P=F,I=j)}return E||O&&g(O,I),P}function v(S,T){var E=u[T][S][0],O=[S];g(E,T);for(var P=E[1^T];;){for(;P!==S;)O.push(P),P=d(O[O.length-2],P,!1);if(u[0][S].length+u[1][S].length===0)break;var I=O[O.length-1],z=S,j=O[1],R=d(I,z,!0);if(i(r[I],r[z],r[j],r[R])<0)break;O.push(S),P=d(I,z)}return O}function y(S,T){return T[1]===T[T.length-1]}for(p=0;p<l;++p)for(var m=0;m<2;++m){for(var w=[];u[m][p].length>0;){u[0][p].length;var f=v(p,m);y(0,f)?w.push.apply(w,f):(w.length>0&&x.push(w),w=f)}w.length>0&&x.push(w)}return x};var i=t(9398)},3959:function(h,o,t){h.exports=function(n,r){for(var l=i(n,r.length),s=new Array(r.length),u=new Array(r.length),p=[],c=0;c<r.length;++c){var x=l[c].length;u[c]=x,s[c]=!0,x<=1&&p.push(c)}for(;p.length>0;){s[m=p.pop()]=!1;var g=l[m];for(c=0;c<g.length;++c){var d=g[c];--u[d]==0&&p.push(d)}}var v=new Array(r.length),y=[];for(c=0;c<r.length;++c)if(s[c]){var m=y.length;v[c]=m,y.push(r[c])}else v[c]=-1;var w=[];for(c=0;c<n.length;++c){var f=n[c];s[f[0]]&&s[f[1]]&&w.push([v[f[0]],v[f[1]]])}return[w,y]};var i=t(8348)},8040:function(h,o,t){h.exports=function(x,g){var d=p(x,g);x=d[0];for(var v=(g=d[1]).length,y=(x.length,i(x,g.length)),m=0;m<v;++m)if(y[m].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var w=n(x,g),f=(w=w.filter(function(Ee){for(var Te=Ee.length,we=[0],oe=0;oe<Te;++oe){var se=g[Ee[oe]],he=g[Ee[(oe+1)%Te]],Se=l(-se[0],se[1]),_e=l(-se[0],he[1]),Ae=l(he[0],se[1]),Ce=l(he[0],he[1]);we=s(we,s(s(Se,_e),s(Ae,Ce)))}return we[we.length-1]>0})).length,S=new Array(f),T=new Array(f);for(m=0;m<f;++m){S[m]=m;var E=new Array(f),O=w[m].map(function(Ee){return g[Ee]}),P=r([O]),I=0;e:for(var z=0;z<f;++z)if(E[z]=0,m!==z){for(var j=(be=w[z]).length,R=0;R<j;++R){var N=P(g[be[R]]);if(N!==0){N<0&&(E[z]=1,I+=1);continue e}}E[z]=1,I+=1}T[m]=[I,m,E]}for(T.sort(function(Ee,Te){return Te[0]-Ee[0]}),m=0;m<f;++m){var Z=(E=T[m])[1],F=E[2];for(z=0;z<f;++z)F[z]&&(S[z]=Z)}var U=function(Ee){for(var Te=new Array(Ee),we=0;we<Ee;++we)Te[we]=[];return Te}(f);for(m=0;m<f;++m)U[m].push(S[m]),U[S[m]].push(m);var V={},te=c(v,!1);for(m=0;m<f;++m)for(j=(be=w[m]).length,z=0;z<j;++z){var Q=be[z],J=be[(z+1)%j],X=Math.min(Q,J)+":"+Math.max(Q,J);if(X in V){var K=V[X];U[K].push(m),U[m].push(K),te[Q]=te[J]=!0}else V[X]=m}function ee(Ee){for(var Te=Ee.length,we=0;we<Te;++we)if(!te[Ee[we]])return!1;return!0}var re=[],ie=c(f,-1);for(m=0;m<f;++m)S[m]!==m||ee(w[m])?ie[m]=-1:(re.push(m),ie[m]=0);for(d=[];re.length>0;){var ae=re.pop(),ue=U[ae];u(ue,function(Ee,Te){return Ee-Te});var pe,de=ue.length,ye=ie[ae];for(ye===0&&(pe=[be=w[ae]]),m=0;m<de;++m){var be,me=ue[m];ie[me]>=0||(ie[me]=1^ye,re.push(me),ye===0&&(ee(be=w[me])||(be.reverse(),pe.push(be))))}ye===0&&d.push(pe)}return d};var i=t(8348),n=t(4166),r=t(211),l=t(9660),s=t(9662),u=t(1215),p=t(3959);function c(x,g){for(var d=new Array(x),v=0;v<x;++v)d[v]=g;return d}},211:function(h,o,t){h.exports=function(c){for(var x=c.length,g=[],d=[],v=0;v<x;++v)for(var y=c[v],m=y.length,w=m-1,f=0;f<m;w=f++){var S=y[w],T=y[f];S[0]===T[0]?d.push([S,T]):g.push([S,T])}if(g.length===0)return d.length===0?p:(E=u(d),function(I){return E(I[0],I[1])?0:1});var E,O=n(g),P=function(I,z){return function(j){var R=l.le(z,j[0]);if(R<0)return 1;var N=I[R];if(!N){if(!(R>0&&z[R]===j[0]))return 1;N=I[R-1]}for(var Z=1;N;){var F=N.key,U=i(j,F[0],F[1]);if(F[0][0]<F[1][0])if(U<0)N=N.left;else{if(!(U>0))return 0;Z=-1,N=N.right}else if(U>0)N=N.left;else{if(!(U<0))return 0;Z=1,N=N.right}}return Z}}(O.slabs,O.coordinates);return d.length===0?P:function(I,z){return function(j){return I(j[0],j[1])?0:z(j)}}(u(d),P)};var i=t(417)[3],n=t(4385),r=t(9014),l=t(5070);function s(){return!0}function u(c){for(var x={},g=0;g<c.length;++g){var d=c[g],v=d[0][0],y=d[0][1],m=d[1][1],w=[Math.min(y,m),Math.max(y,m)];v in x?x[v].push(w):x[v]=[w]}var f={},S=Object.keys(x);for(g=0;g<S.length;++g){var T=x[S[g]];f[S[g]]=r(T)}return function(E){return function(O,P){var I=E[O];return!!I&&!!I.queryPoint(P,s)}}(f)}function p(c){return 1}},7309:function(h){var o=new Float64Array(4),t=new Float64Array(4),i=new Float64Array(4);h.exports=function(n,r,l,s,u){o.length<s.length&&(o=new Float64Array(s.length),t=new Float64Array(s.length),i=new Float64Array(s.length));for(var p=0;p<s.length;++p)o[p]=n[p]-s[p],t[p]=r[p]-n[p],i[p]=l[p]-n[p];var c=0,x=0,g=0,d=0,v=0,y=0;for(p=0;p<s.length;++p){var m=t[p],w=i[p],f=o[p];c+=m*m,x+=m*w,g+=w*w,d+=f*m,v+=f*w,y+=f*f}var S,T,E,O,P,I=Math.abs(c*g-x*x),z=x*v-g*d,j=x*d-c*v;if(z+j<=I)if(z<0)j<0&&d<0?(j=0,-d>=c?(z=1,S=c+2*d+y):S=d*(z=-d/c)+y):(z=0,v>=0?(j=0,S=y):-v>=g?(j=1,S=g+2*v+y):S=v*(j=-v/g)+y);else if(j<0)j=0,d>=0?(z=0,S=y):-d>=c?(z=1,S=c+2*d+y):S=d*(z=-d/c)+y;else{var R=1/I;S=(z*=R)*(c*z+x*(j*=R)+2*d)+j*(x*z+g*j+2*v)+y}else z<0?(E=g+v)>(T=x+d)?(O=E-T)>=(P=c-2*x+g)?(z=1,j=0,S=c+2*d+y):S=(z=O/P)*(c*z+x*(j=1-z)+2*d)+j*(x*z+g*j+2*v)+y:(z=0,E<=0?(j=1,S=g+2*v+y):v>=0?(j=0,S=y):S=v*(j=-v/g)+y):j<0?(E=c+d)>(T=x+v)?(O=E-T)>=(P=c-2*x+g)?(j=1,z=0,S=g+2*v+y):S=(z=1-(j=O/P))*(c*z+x*j+2*d)+j*(x*z+g*j+2*v)+y:(j=0,E<=0?(z=1,S=c+2*d+y):d>=0?(z=0,S=y):S=d*(z=-d/c)+y):(O=g+v-x-d)<=0?(z=0,j=1,S=g+2*v+y):O>=(P=c-2*x+g)?(z=1,j=0,S=c+2*d+y):S=(z=O/P)*(c*z+x*(j=1-z)+2*d)+j*(x*z+g*j+2*v)+y;var N=1-z-j;for(p=0;p<s.length;++p)u[p]=N*n[p]+z*r[p]+j*l[p];return S<0?0:S}},1116:function(h,o,t){h.exports=t(6093)},7584:function(h,o,t){var i=t(1539);h.exports=function(n,r){for(var l=n.length,s=new Array(l),u=0;u<l;++u)s[u]=i(n[u],r[u]);return s}},2826:function(h,o,t){h.exports=function(n){for(var r=new Array(n.length),l=0;l<n.length;++l)r[l]=i(n[l]);return r};var i=t(5125)},4469:function(h,o,t){var i=t(5125),n=t(3962);h.exports=function(r,l){for(var s=i(l),u=r.length,p=new Array(u),c=0;c<u;++c)p[c]=n(r[c],s);return p}},6695:function(h,o,t){var i=t(4354);h.exports=function(n,r){for(var l=n.length,s=new Array(l),u=0;u<l;++u)s[u]=i(n[u],r[u]);return s}},7037:function(h,o,t){var i=t(9209),n=t(1284),r=t(9887);h.exports=function(l){l.sort(n);for(var s=l.length,u=0,p=0;p<s;++p){var c=l[p],x=r(c);if(x!==0){if(u>0){var g=l[u-1];if(i(c,g)===0&&r(g)!==x){u-=1;continue}}l[u++]=c}}return l.length=u,l}},6184:function(h){var o,t="";h.exports=function(i,n){if(typeof i!="string")throw new TypeError("expected a string");if(n===1)return i;if(n===2)return i+i;var r=i.length*n;if(o!==i||o===void 0)o=i,t="";else if(t.length>=r)return t.substr(0,r);for(;r>t.length&&n>1;)1&n&&(t+=i),n>>=1,i+=i;return t=(t+=i).substr(0,r)}},8161:function(h,o,t){h.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(h){h.exports=function(o){for(var t=o.length,i=o[o.length-1],n=t,r=t-2;r>=0;--r){var l=i;(p=(u=o[r])-((i=l+u)-l))&&(o[--n]=i,i=p)}var s=0;for(r=n;r<t;++r){var u,p;(p=(u=i)-((i=(l=o[r])+u)-l))&&(o[s++]=p)}return o[s++]=i,o.length=s,o}},8167:function(h,o,t){var i=t(9660),n=t(9662),r=t(8289),l=t(402);function s(v,y,m,w){return function(f){return w(v(m(f[0][0],f[1][1]),m(-f[0][1],f[1][0])))}}function u(v,y,m,w){return function(f){return w(v(y(v(m(f[1][1],f[2][2]),m(-f[1][2],f[2][1])),f[0][0]),v(y(v(m(f[1][0],f[2][2]),m(-f[1][2],f[2][0])),-f[0][1]),y(v(m(f[1][0],f[2][1]),m(-f[1][1],f[2][0])),f[0][2]))))}}function p(v,y,m,w){return function(f){return w(v(v(y(v(y(v(m(f[2][2],f[3][3]),m(-f[2][3],f[3][2])),f[1][1]),v(y(v(m(f[2][1],f[3][3]),m(-f[2][3],f[3][1])),-f[1][2]),y(v(m(f[2][1],f[3][2]),m(-f[2][2],f[3][1])),f[1][3]))),f[0][0]),y(v(y(v(m(f[2][2],f[3][3]),m(-f[2][3],f[3][2])),f[1][0]),v(y(v(m(f[2][0],f[3][3]),m(-f[2][3],f[3][0])),-f[1][2]),y(v(m(f[2][0],f[3][2]),m(-f[2][2],f[3][0])),f[1][3]))),-f[0][1])),v(y(v(y(v(m(f[2][1],f[3][3]),m(-f[2][3],f[3][1])),f[1][0]),v(y(v(m(f[2][0],f[3][3]),m(-f[2][3],f[3][0])),-f[1][1]),y(v(m(f[2][0],f[3][1]),m(-f[2][1],f[3][0])),f[1][3]))),f[0][2]),y(v(y(v(m(f[2][1],f[3][2]),m(-f[2][2],f[3][1])),f[1][0]),v(y(v(m(f[2][0],f[3][2]),m(-f[2][2],f[3][0])),-f[1][1]),y(v(m(f[2][0],f[3][1]),m(-f[2][1],f[3][0])),f[1][2]))),-f[0][3]))))}}function c(v,y,m,w){return function(f){return w(v(v(y(v(v(y(v(y(v(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][2]),v(y(v(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),-f[2][3]),y(v(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][4]))),f[1][1]),y(v(y(v(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][1]),v(y(v(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),-f[2][3]),y(v(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),f[2][4]))),-f[1][2])),v(y(v(y(v(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),f[2][1]),v(y(v(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),-f[2][2]),y(v(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][4]))),f[1][3]),y(v(y(v(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][1]),v(y(v(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),-f[2][2]),y(v(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][3]))),-f[1][4]))),f[0][0]),y(v(v(y(v(y(v(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][2]),v(y(v(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),-f[2][3]),y(v(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][4]))),f[1][0]),y(v(y(v(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][0]),v(y(v(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][3]),y(v(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),f[2][4]))),-f[1][2])),v(y(v(y(v(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),f[2][0]),v(y(v(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][2]),y(v(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),f[2][4]))),f[1][3]),y(v(y(v(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][0]),v(y(v(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),-f[2][2]),y(v(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),f[2][3]))),-f[1][4]))),-f[0][1])),v(y(v(v(y(v(y(v(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][1]),v(y(v(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),-f[2][3]),y(v(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),f[2][4]))),f[1][0]),y(v(y(v(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][0]),v(y(v(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][3]),y(v(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),f[2][4]))),-f[1][1])),v(y(v(y(v(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),f[2][0]),v(y(v(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][1]),y(v(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][4]))),f[1][3]),y(v(y(v(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),f[2][0]),v(y(v(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),-f[2][1]),y(v(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][3]))),-f[1][4]))),f[0][2]),v(y(v(v(y(v(y(v(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),f[2][1]),v(y(v(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),-f[2][2]),y(v(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][4]))),f[1][0]),y(v(y(v(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),f[2][0]),v(y(v(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][2]),y(v(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),f[2][4]))),-f[1][1])),v(y(v(y(v(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),f[2][0]),v(y(v(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][1]),y(v(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][4]))),f[1][2]),y(v(y(v(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][0]),v(y(v(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),-f[2][1]),y(v(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][2]))),-f[1][4]))),-f[0][3]),y(v(v(y(v(y(v(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][1]),v(y(v(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),-f[2][2]),y(v(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][3]))),f[1][0]),y(v(y(v(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][0]),v(y(v(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),-f[2][2]),y(v(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),f[2][3]))),-f[1][1])),v(y(v(y(v(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),f[2][0]),v(y(v(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),-f[2][1]),y(v(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][3]))),f[1][2]),y(v(y(v(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][0]),v(y(v(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),-f[2][1]),y(v(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][2]))),-f[1][3]))),f[0][4])))))}}function x(v){return(v===2?s:v===3?u:v===4?p:v===5?c:void 0)(n,r,i,l)}var g=[function(){return[0]},function(v){return[v[0][0]]}];function d(v,y,m,w,f,S,T,E){return function(O){switch(O.length){case 0:return v(O);case 1:return y(O);case 2:return m(O);case 3:return w(O);case 4:return f(O);case 5:return S(O)}var P=T[O.length];return P||(P=T[O.length]=E(O.length)),P(O)}}(function(){for(;g.length<6;)g.push(x(g.length));h.exports=d.apply(void 0,g.concat([g,x]));for(var v=0;v<g.length;++v)h.exports[v]=g[v]})()},9130:function(h,o,t){var i=t(9660),n=t(9662);h.exports=function(r,l){for(var s=i(r[0],l[0]),u=1;u<r.length;++u)s=n(s,i(r[u],l[u]));return s}},2227:function(h,o,t){var i=t(9660),n=t(9662),r=t(4078),l=t(8289);function s(y){return(y===3?u:y===4?p:y===5?c:x)(n,r,i,l)}function u(y,m,w,f){return function(S,T,E){var O=w(S[0],S[0]),P=f(O,T[0]),I=f(O,E[0]),z=w(T[0],T[0]),j=f(z,S[0]),R=f(z,E[0]),N=w(E[0],E[0]),Z=f(N,S[0]),F=f(N,T[0]),U=y(m(F,R),m(j,P)),V=m(Z,I),te=m(U,V);return te[te.length-1]}}function p(y,m,w,f){return function(S,T,E,O){var P=y(w(S[0],S[0]),w(S[1],S[1])),I=f(P,T[0]),z=f(P,E[0]),j=f(P,O[0]),R=y(w(T[0],T[0]),w(T[1],T[1])),N=f(R,S[0]),Z=f(R,E[0]),F=f(R,O[0]),U=y(w(E[0],E[0]),w(E[1],E[1])),V=f(U,S[0]),te=f(U,T[0]),Q=f(U,O[0]),J=y(w(O[0],O[0]),w(O[1],O[1])),X=f(J,S[0]),K=f(J,T[0]),ee=f(J,E[0]),re=y(y(f(m(ee,Q),T[1]),y(f(m(K,F),-E[1]),f(m(te,Z),O[1]))),y(f(m(K,F),S[1]),y(f(m(X,j),-T[1]),f(m(N,I),O[1])))),ie=y(y(f(m(ee,Q),S[1]),y(f(m(X,j),-E[1]),f(m(V,z),O[1]))),y(f(m(te,Z),S[1]),y(f(m(V,z),-T[1]),f(m(N,I),E[1])))),ae=m(re,ie);return ae[ae.length-1]}}function c(y,m,w,f){return function(S,T,E,O,P){var I=y(w(S[0],S[0]),y(w(S[1],S[1]),w(S[2],S[2]))),z=f(I,T[0]),j=f(I,E[0]),R=f(I,O[0]),N=f(I,P[0]),Z=y(w(T[0],T[0]),y(w(T[1],T[1]),w(T[2],T[2]))),F=f(Z,S[0]),U=f(Z,E[0]),V=f(Z,O[0]),te=f(Z,P[0]),Q=y(w(E[0],E[0]),y(w(E[1],E[1]),w(E[2],E[2]))),J=f(Q,S[0]),X=f(Q,T[0]),K=f(Q,O[0]),ee=f(Q,P[0]),re=y(w(O[0],O[0]),y(w(O[1],O[1]),w(O[2],O[2]))),ie=f(re,S[0]),ae=f(re,T[0]),ue=f(re,E[0]),pe=f(re,P[0]),de=y(w(P[0],P[0]),y(w(P[1],P[1]),w(P[2],P[2]))),ye=f(de,S[0]),be=f(de,T[0]),me=f(de,E[0]),Ee=f(de,O[0]),Te=y(y(y(f(y(f(m(Ee,pe),E[1]),y(f(m(me,ee),-O[1]),f(m(ue,K),P[1]))),T[2]),y(f(y(f(m(Ee,pe),T[1]),y(f(m(be,te),-O[1]),f(m(ae,V),P[1]))),-E[2]),f(y(f(m(me,ee),T[1]),y(f(m(be,te),-E[1]),f(m(X,U),P[1]))),O[2]))),y(f(y(f(m(ue,K),T[1]),y(f(m(ae,V),-E[1]),f(m(X,U),O[1]))),-P[2]),y(f(y(f(m(Ee,pe),T[1]),y(f(m(be,te),-O[1]),f(m(ae,V),P[1]))),S[2]),f(y(f(m(Ee,pe),S[1]),y(f(m(ye,N),-O[1]),f(m(ie,R),P[1]))),-T[2])))),y(y(f(y(f(m(be,te),S[1]),y(f(m(ye,N),-T[1]),f(m(F,z),P[1]))),O[2]),y(f(y(f(m(ae,V),S[1]),y(f(m(ie,R),-T[1]),f(m(F,z),O[1]))),-P[2]),f(y(f(m(ue,K),T[1]),y(f(m(ae,V),-E[1]),f(m(X,U),O[1]))),S[2]))),y(f(y(f(m(ue,K),S[1]),y(f(m(ie,R),-E[1]),f(m(J,j),O[1]))),-T[2]),y(f(y(f(m(ae,V),S[1]),y(f(m(ie,R),-T[1]),f(m(F,z),O[1]))),E[2]),f(y(f(m(X,U),S[1]),y(f(m(J,j),-T[1]),f(m(F,z),E[1]))),-O[2]))))),we=y(y(y(f(y(f(m(Ee,pe),E[1]),y(f(m(me,ee),-O[1]),f(m(ue,K),P[1]))),S[2]),f(y(f(m(Ee,pe),S[1]),y(f(m(ye,N),-O[1]),f(m(ie,R),P[1]))),-E[2])),y(f(y(f(m(me,ee),S[1]),y(f(m(ye,N),-E[1]),f(m(J,j),P[1]))),O[2]),f(y(f(m(ue,K),S[1]),y(f(m(ie,R),-E[1]),f(m(J,j),O[1]))),-P[2]))),y(y(f(y(f(m(me,ee),T[1]),y(f(m(be,te),-E[1]),f(m(X,U),P[1]))),S[2]),f(y(f(m(me,ee),S[1]),y(f(m(ye,N),-E[1]),f(m(J,j),P[1]))),-T[2])),y(f(y(f(m(be,te),S[1]),y(f(m(ye,N),-T[1]),f(m(F,z),P[1]))),E[2]),f(y(f(m(X,U),S[1]),y(f(m(J,j),-T[1]),f(m(F,z),E[1]))),-P[2])))),oe=m(Te,we);return oe[oe.length-1]}}function x(y,m,w,f){return function(S,T,E,O,P,I){var z=y(y(w(S[0],S[0]),w(S[1],S[1])),y(w(S[2],S[2]),w(S[3],S[3]))),j=f(z,T[0]),R=f(z,E[0]),N=f(z,O[0]),Z=f(z,P[0]),F=f(z,I[0]),U=y(y(w(T[0],T[0]),w(T[1],T[1])),y(w(T[2],T[2]),w(T[3],T[3]))),V=f(U,S[0]),te=f(U,E[0]),Q=f(U,O[0]),J=f(U,P[0]),X=f(U,I[0]),K=y(y(w(E[0],E[0]),w(E[1],E[1])),y(w(E[2],E[2]),w(E[3],E[3]))),ee=f(K,S[0]),re=f(K,T[0]),ie=f(K,O[0]),ae=f(K,P[0]),ue=f(K,I[0]),pe=y(y(w(O[0],O[0]),w(O[1],O[1])),y(w(O[2],O[2]),w(O[3],O[3]))),de=f(pe,S[0]),ye=f(pe,T[0]),be=f(pe,E[0]),me=f(pe,P[0]),Ee=f(pe,I[0]),Te=y(y(w(P[0],P[0]),w(P[1],P[1])),y(w(P[2],P[2]),w(P[3],P[3]))),we=f(Te,S[0]),oe=f(Te,T[0]),se=f(Te,E[0]),he=f(Te,O[0]),Se=f(Te,I[0]),_e=y(y(w(I[0],I[0]),w(I[1],I[1])),y(w(I[2],I[2]),w(I[3],I[3]))),Ae=f(_e,S[0]),Ce=f(_e,T[0]),Re=f(_e,E[0]),fe=f(_e,O[0]),xe=f(_e,P[0]),ke=y(y(y(f(y(y(f(y(f(m(xe,Se),O[1]),y(f(m(fe,Ee),-P[1]),f(m(he,me),I[1]))),E[2]),f(y(f(m(xe,Se),E[1]),y(f(m(Re,ue),-P[1]),f(m(se,ae),I[1]))),-O[2])),y(f(y(f(m(fe,Ee),E[1]),y(f(m(Re,ue),-O[1]),f(m(be,ie),I[1]))),P[2]),f(y(f(m(he,me),E[1]),y(f(m(se,ae),-O[1]),f(m(be,ie),P[1]))),-I[2]))),T[3]),y(f(y(y(f(y(f(m(xe,Se),O[1]),y(f(m(fe,Ee),-P[1]),f(m(he,me),I[1]))),T[2]),f(y(f(m(xe,Se),T[1]),y(f(m(Ce,X),-P[1]),f(m(oe,J),I[1]))),-O[2])),y(f(y(f(m(fe,Ee),T[1]),y(f(m(Ce,X),-O[1]),f(m(ye,Q),I[1]))),P[2]),f(y(f(m(he,me),T[1]),y(f(m(oe,J),-O[1]),f(m(ye,Q),P[1]))),-I[2]))),-E[3]),f(y(y(f(y(f(m(xe,Se),E[1]),y(f(m(Re,ue),-P[1]),f(m(se,ae),I[1]))),T[2]),f(y(f(m(xe,Se),T[1]),y(f(m(Ce,X),-P[1]),f(m(oe,J),I[1]))),-E[2])),y(f(y(f(m(Re,ue),T[1]),y(f(m(Ce,X),-E[1]),f(m(re,te),I[1]))),P[2]),f(y(f(m(se,ae),T[1]),y(f(m(oe,J),-E[1]),f(m(re,te),P[1]))),-I[2]))),O[3]))),y(y(f(y(y(f(y(f(m(fe,Ee),E[1]),y(f(m(Re,ue),-O[1]),f(m(be,ie),I[1]))),T[2]),f(y(f(m(fe,Ee),T[1]),y(f(m(Ce,X),-O[1]),f(m(ye,Q),I[1]))),-E[2])),y(f(y(f(m(Re,ue),T[1]),y(f(m(Ce,X),-E[1]),f(m(re,te),I[1]))),O[2]),f(y(f(m(be,ie),T[1]),y(f(m(ye,Q),-E[1]),f(m(re,te),O[1]))),-I[2]))),-P[3]),f(y(y(f(y(f(m(he,me),E[1]),y(f(m(se,ae),-O[1]),f(m(be,ie),P[1]))),T[2]),f(y(f(m(he,me),T[1]),y(f(m(oe,J),-O[1]),f(m(ye,Q),P[1]))),-E[2])),y(f(y(f(m(se,ae),T[1]),y(f(m(oe,J),-E[1]),f(m(re,te),P[1]))),O[2]),f(y(f(m(be,ie),T[1]),y(f(m(ye,Q),-E[1]),f(m(re,te),O[1]))),-P[2]))),I[3])),y(f(y(y(f(y(f(m(xe,Se),O[1]),y(f(m(fe,Ee),-P[1]),f(m(he,me),I[1]))),T[2]),f(y(f(m(xe,Se),T[1]),y(f(m(Ce,X),-P[1]),f(m(oe,J),I[1]))),-O[2])),y(f(y(f(m(fe,Ee),T[1]),y(f(m(Ce,X),-O[1]),f(m(ye,Q),I[1]))),P[2]),f(y(f(m(he,me),T[1]),y(f(m(oe,J),-O[1]),f(m(ye,Q),P[1]))),-I[2]))),S[3]),f(y(y(f(y(f(m(xe,Se),O[1]),y(f(m(fe,Ee),-P[1]),f(m(he,me),I[1]))),S[2]),f(y(f(m(xe,Se),S[1]),y(f(m(Ae,F),-P[1]),f(m(we,Z),I[1]))),-O[2])),y(f(y(f(m(fe,Ee),S[1]),y(f(m(Ae,F),-O[1]),f(m(de,N),I[1]))),P[2]),f(y(f(m(he,me),S[1]),y(f(m(we,Z),-O[1]),f(m(de,N),P[1]))),-I[2]))),-T[3])))),y(y(y(f(y(y(f(y(f(m(xe,Se),T[1]),y(f(m(Ce,X),-P[1]),f(m(oe,J),I[1]))),S[2]),f(y(f(m(xe,Se),S[1]),y(f(m(Ae,F),-P[1]),f(m(we,Z),I[1]))),-T[2])),y(f(y(f(m(Ce,X),S[1]),y(f(m(Ae,F),-T[1]),f(m(V,j),I[1]))),P[2]),f(y(f(m(oe,J),S[1]),y(f(m(we,Z),-T[1]),f(m(V,j),P[1]))),-I[2]))),O[3]),f(y(y(f(y(f(m(fe,Ee),T[1]),y(f(m(Ce,X),-O[1]),f(m(ye,Q),I[1]))),S[2]),f(y(f(m(fe,Ee),S[1]),y(f(m(Ae,F),-O[1]),f(m(de,N),I[1]))),-T[2])),y(f(y(f(m(Ce,X),S[1]),y(f(m(Ae,F),-T[1]),f(m(V,j),I[1]))),O[2]),f(y(f(m(ye,Q),S[1]),y(f(m(de,N),-T[1]),f(m(V,j),O[1]))),-I[2]))),-P[3])),y(f(y(y(f(y(f(m(he,me),T[1]),y(f(m(oe,J),-O[1]),f(m(ye,Q),P[1]))),S[2]),f(y(f(m(he,me),S[1]),y(f(m(we,Z),-O[1]),f(m(de,N),P[1]))),-T[2])),y(f(y(f(m(oe,J),S[1]),y(f(m(we,Z),-T[1]),f(m(V,j),P[1]))),O[2]),f(y(f(m(ye,Q),S[1]),y(f(m(de,N),-T[1]),f(m(V,j),O[1]))),-P[2]))),I[3]),f(y(y(f(y(f(m(fe,Ee),E[1]),y(f(m(Re,ue),-O[1]),f(m(be,ie),I[1]))),T[2]),f(y(f(m(fe,Ee),T[1]),y(f(m(Ce,X),-O[1]),f(m(ye,Q),I[1]))),-E[2])),y(f(y(f(m(Re,ue),T[1]),y(f(m(Ce,X),-E[1]),f(m(re,te),I[1]))),O[2]),f(y(f(m(be,ie),T[1]),y(f(m(ye,Q),-E[1]),f(m(re,te),O[1]))),-I[2]))),S[3]))),y(y(f(y(y(f(y(f(m(fe,Ee),E[1]),y(f(m(Re,ue),-O[1]),f(m(be,ie),I[1]))),S[2]),f(y(f(m(fe,Ee),S[1]),y(f(m(Ae,F),-O[1]),f(m(de,N),I[1]))),-E[2])),y(f(y(f(m(Re,ue),S[1]),y(f(m(Ae,F),-E[1]),f(m(ee,R),I[1]))),O[2]),f(y(f(m(be,ie),S[1]),y(f(m(de,N),-E[1]),f(m(ee,R),O[1]))),-I[2]))),-T[3]),f(y(y(f(y(f(m(fe,Ee),T[1]),y(f(m(Ce,X),-O[1]),f(m(ye,Q),I[1]))),S[2]),f(y(f(m(fe,Ee),S[1]),y(f(m(Ae,F),-O[1]),f(m(de,N),I[1]))),-T[2])),y(f(y(f(m(Ce,X),S[1]),y(f(m(Ae,F),-T[1]),f(m(V,j),I[1]))),O[2]),f(y(f(m(ye,Q),S[1]),y(f(m(de,N),-T[1]),f(m(V,j),O[1]))),-I[2]))),E[3])),y(f(y(y(f(y(f(m(Re,ue),T[1]),y(f(m(Ce,X),-E[1]),f(m(re,te),I[1]))),S[2]),f(y(f(m(Re,ue),S[1]),y(f(m(Ae,F),-E[1]),f(m(ee,R),I[1]))),-T[2])),y(f(y(f(m(Ce,X),S[1]),y(f(m(Ae,F),-T[1]),f(m(V,j),I[1]))),E[2]),f(y(f(m(re,te),S[1]),y(f(m(ee,R),-T[1]),f(m(V,j),E[1]))),-I[2]))),-O[3]),f(y(y(f(y(f(m(be,ie),T[1]),y(f(m(ye,Q),-E[1]),f(m(re,te),O[1]))),S[2]),f(y(f(m(be,ie),S[1]),y(f(m(de,N),-E[1]),f(m(ee,R),O[1]))),-T[2])),y(f(y(f(m(ye,Q),S[1]),y(f(m(de,N),-T[1]),f(m(V,j),O[1]))),E[2]),f(y(f(m(re,te),S[1]),y(f(m(ee,R),-T[1]),f(m(V,j),E[1]))),-O[2]))),I[3]))))),Ie=y(y(y(f(y(y(f(y(f(m(xe,Se),O[1]),y(f(m(fe,Ee),-P[1]),f(m(he,me),I[1]))),E[2]),f(y(f(m(xe,Se),E[1]),y(f(m(Re,ue),-P[1]),f(m(se,ae),I[1]))),-O[2])),y(f(y(f(m(fe,Ee),E[1]),y(f(m(Re,ue),-O[1]),f(m(be,ie),I[1]))),P[2]),f(y(f(m(he,me),E[1]),y(f(m(se,ae),-O[1]),f(m(be,ie),P[1]))),-I[2]))),S[3]),y(f(y(y(f(y(f(m(xe,Se),O[1]),y(f(m(fe,Ee),-P[1]),f(m(he,me),I[1]))),S[2]),f(y(f(m(xe,Se),S[1]),y(f(m(Ae,F),-P[1]),f(m(we,Z),I[1]))),-O[2])),y(f(y(f(m(fe,Ee),S[1]),y(f(m(Ae,F),-O[1]),f(m(de,N),I[1]))),P[2]),f(y(f(m(he,me),S[1]),y(f(m(we,Z),-O[1]),f(m(de,N),P[1]))),-I[2]))),-E[3]),f(y(y(f(y(f(m(xe,Se),E[1]),y(f(m(Re,ue),-P[1]),f(m(se,ae),I[1]))),S[2]),f(y(f(m(xe,Se),S[1]),y(f(m(Ae,F),-P[1]),f(m(we,Z),I[1]))),-E[2])),y(f(y(f(m(Re,ue),S[1]),y(f(m(Ae,F),-E[1]),f(m(ee,R),I[1]))),P[2]),f(y(f(m(se,ae),S[1]),y(f(m(we,Z),-E[1]),f(m(ee,R),P[1]))),-I[2]))),O[3]))),y(y(f(y(y(f(y(f(m(fe,Ee),E[1]),y(f(m(Re,ue),-O[1]),f(m(be,ie),I[1]))),S[2]),f(y(f(m(fe,Ee),S[1]),y(f(m(Ae,F),-O[1]),f(m(de,N),I[1]))),-E[2])),y(f(y(f(m(Re,ue),S[1]),y(f(m(Ae,F),-E[1]),f(m(ee,R),I[1]))),O[2]),f(y(f(m(be,ie),S[1]),y(f(m(de,N),-E[1]),f(m(ee,R),O[1]))),-I[2]))),-P[3]),f(y(y(f(y(f(m(he,me),E[1]),y(f(m(se,ae),-O[1]),f(m(be,ie),P[1]))),S[2]),f(y(f(m(he,me),S[1]),y(f(m(we,Z),-O[1]),f(m(de,N),P[1]))),-E[2])),y(f(y(f(m(se,ae),S[1]),y(f(m(we,Z),-E[1]),f(m(ee,R),P[1]))),O[2]),f(y(f(m(be,ie),S[1]),y(f(m(de,N),-E[1]),f(m(ee,R),O[1]))),-P[2]))),I[3])),y(f(y(y(f(y(f(m(xe,Se),E[1]),y(f(m(Re,ue),-P[1]),f(m(se,ae),I[1]))),T[2]),f(y(f(m(xe,Se),T[1]),y(f(m(Ce,X),-P[1]),f(m(oe,J),I[1]))),-E[2])),y(f(y(f(m(Re,ue),T[1]),y(f(m(Ce,X),-E[1]),f(m(re,te),I[1]))),P[2]),f(y(f(m(se,ae),T[1]),y(f(m(oe,J),-E[1]),f(m(re,te),P[1]))),-I[2]))),S[3]),f(y(y(f(y(f(m(xe,Se),E[1]),y(f(m(Re,ue),-P[1]),f(m(se,ae),I[1]))),S[2]),f(y(f(m(xe,Se),S[1]),y(f(m(Ae,F),-P[1]),f(m(we,Z),I[1]))),-E[2])),y(f(y(f(m(Re,ue),S[1]),y(f(m(Ae,F),-E[1]),f(m(ee,R),I[1]))),P[2]),f(y(f(m(se,ae),S[1]),y(f(m(we,Z),-E[1]),f(m(ee,R),P[1]))),-I[2]))),-T[3])))),y(y(y(f(y(y(f(y(f(m(xe,Se),T[1]),y(f(m(Ce,X),-P[1]),f(m(oe,J),I[1]))),S[2]),f(y(f(m(xe,Se),S[1]),y(f(m(Ae,F),-P[1]),f(m(we,Z),I[1]))),-T[2])),y(f(y(f(m(Ce,X),S[1]),y(f(m(Ae,F),-T[1]),f(m(V,j),I[1]))),P[2]),f(y(f(m(oe,J),S[1]),y(f(m(we,Z),-T[1]),f(m(V,j),P[1]))),-I[2]))),E[3]),f(y(y(f(y(f(m(Re,ue),T[1]),y(f(m(Ce,X),-E[1]),f(m(re,te),I[1]))),S[2]),f(y(f(m(Re,ue),S[1]),y(f(m(Ae,F),-E[1]),f(m(ee,R),I[1]))),-T[2])),y(f(y(f(m(Ce,X),S[1]),y(f(m(Ae,F),-T[1]),f(m(V,j),I[1]))),E[2]),f(y(f(m(re,te),S[1]),y(f(m(ee,R),-T[1]),f(m(V,j),E[1]))),-I[2]))),-P[3])),y(f(y(y(f(y(f(m(se,ae),T[1]),y(f(m(oe,J),-E[1]),f(m(re,te),P[1]))),S[2]),f(y(f(m(se,ae),S[1]),y(f(m(we,Z),-E[1]),f(m(ee,R),P[1]))),-T[2])),y(f(y(f(m(oe,J),S[1]),y(f(m(we,Z),-T[1]),f(m(V,j),P[1]))),E[2]),f(y(f(m(re,te),S[1]),y(f(m(ee,R),-T[1]),f(m(V,j),E[1]))),-P[2]))),I[3]),f(y(y(f(y(f(m(he,me),E[1]),y(f(m(se,ae),-O[1]),f(m(be,ie),P[1]))),T[2]),f(y(f(m(he,me),T[1]),y(f(m(oe,J),-O[1]),f(m(ye,Q),P[1]))),-E[2])),y(f(y(f(m(se,ae),T[1]),y(f(m(oe,J),-E[1]),f(m(re,te),P[1]))),O[2]),f(y(f(m(be,ie),T[1]),y(f(m(ye,Q),-E[1]),f(m(re,te),O[1]))),-P[2]))),S[3]))),y(y(f(y(y(f(y(f(m(he,me),E[1]),y(f(m(se,ae),-O[1]),f(m(be,ie),P[1]))),S[2]),f(y(f(m(he,me),S[1]),y(f(m(we,Z),-O[1]),f(m(de,N),P[1]))),-E[2])),y(f(y(f(m(se,ae),S[1]),y(f(m(we,Z),-E[1]),f(m(ee,R),P[1]))),O[2]),f(y(f(m(be,ie),S[1]),y(f(m(de,N),-E[1]),f(m(ee,R),O[1]))),-P[2]))),-T[3]),f(y(y(f(y(f(m(he,me),T[1]),y(f(m(oe,J),-O[1]),f(m(ye,Q),P[1]))),S[2]),f(y(f(m(he,me),S[1]),y(f(m(we,Z),-O[1]),f(m(de,N),P[1]))),-T[2])),y(f(y(f(m(oe,J),S[1]),y(f(m(we,Z),-T[1]),f(m(V,j),P[1]))),O[2]),f(y(f(m(ye,Q),S[1]),y(f(m(de,N),-T[1]),f(m(V,j),O[1]))),-P[2]))),E[3])),y(f(y(y(f(y(f(m(se,ae),T[1]),y(f(m(oe,J),-E[1]),f(m(re,te),P[1]))),S[2]),f(y(f(m(se,ae),S[1]),y(f(m(we,Z),-E[1]),f(m(ee,R),P[1]))),-T[2])),y(f(y(f(m(oe,J),S[1]),y(f(m(we,Z),-T[1]),f(m(V,j),P[1]))),E[2]),f(y(f(m(re,te),S[1]),y(f(m(ee,R),-T[1]),f(m(V,j),E[1]))),-P[2]))),-O[3]),f(y(y(f(y(f(m(be,ie),T[1]),y(f(m(ye,Q),-E[1]),f(m(re,te),O[1]))),S[2]),f(y(f(m(be,ie),S[1]),y(f(m(de,N),-E[1]),f(m(ee,R),O[1]))),-T[2])),y(f(y(f(m(ye,Q),S[1]),y(f(m(de,N),-T[1]),f(m(V,j),O[1]))),E[2]),f(y(f(m(re,te),S[1]),y(f(m(ee,R),-T[1]),f(m(V,j),E[1]))),-O[2]))),P[3]))))),Fe=m(ke,Ie);return Fe[Fe.length-1]}}var g=[function(){return 0},function(){return 0},function(){return 0}];function d(y){var m=g[y.length];return m||(m=g[y.length]=s(y.length)),m.apply(void 0,y)}function v(y,m,w,f,S,T,E,O){return function(P,I,z,j,R,N){switch(arguments.length){case 0:case 1:return 0;case 2:return f(P,I);case 3:return S(P,I,z);case 4:return T(P,I,z,j);case 5:return E(P,I,z,j,R);case 6:return O(P,I,z,j,R,N)}for(var Z=new Array(arguments.length),F=0;F<arguments.length;++F)Z[F]=arguments[F];return y(Z)}}(function(){for(;g.length<=6;)g.push(s(g.length));h.exports=v.apply(void 0,[d].concat(g));for(var y=0;y<=6;++y)h.exports[y]=g[y]})()},6606:function(h,o,t){var i=t(8167);function n(g){return(g===2?r:g===3?l:g===4?s:g===5?u:p)(g<6?i[g]:i)}function r(g){return function(d,v){return[g([[+v[0],+d[0][1]],[+v[1],+d[1][1]]]),g([[+d[0][0],+v[0]],[+d[1][0],+v[1]]]),g(d)]}}function l(g){return function(d,v){return[g([[+v[0],+d[0][1],+d[0][2]],[+v[1],+d[1][1],+d[1][2]],[+v[2],+d[2][1],+d[2][2]]]),g([[+d[0][0],+v[0],+d[0][2]],[+d[1][0],+v[1],+d[1][2]],[+d[2][0],+v[2],+d[2][2]]]),g([[+d[0][0],+d[0][1],+v[0]],[+d[1][0],+d[1][1],+v[1]],[+d[2][0],+d[2][1],+v[2]]]),g(d)]}}function s(g){return function(d,v){return[g([[+v[0],+d[0][1],+d[0][2],+d[0][3]],[+v[1],+d[1][1],+d[1][2],+d[1][3]],[+v[2],+d[2][1],+d[2][2],+d[2][3]],[+v[3],+d[3][1],+d[3][2],+d[3][3]]]),g([[+d[0][0],+v[0],+d[0][2],+d[0][3]],[+d[1][0],+v[1],+d[1][2],+d[1][3]],[+d[2][0],+v[2],+d[2][2],+d[2][3]],[+d[3][0],+v[3],+d[3][2],+d[3][3]]]),g([[+d[0][0],+d[0][1],+v[0],+d[0][3]],[+d[1][0],+d[1][1],+v[1],+d[1][3]],[+d[2][0],+d[2][1],+v[2],+d[2][3]],[+d[3][0],+d[3][1],+v[3],+d[3][3]]]),g([[+d[0][0],+d[0][1],+d[0][2],+v[0]],[+d[1][0],+d[1][1],+d[1][2],+v[1]],[+d[2][0],+d[2][1],+d[2][2],+v[2]],[+d[3][0],+d[3][1],+d[3][2],+v[3]]]),g(d)]}}function u(g){return function(d,v){return[g([[+v[0],+d[0][1],+d[0][2],+d[0][3],+d[0][4]],[+v[1],+d[1][1],+d[1][2],+d[1][3],+d[1][4]],[+v[2],+d[2][1],+d[2][2],+d[2][3],+d[2][4]],[+v[3],+d[3][1],+d[3][2],+d[3][3],+d[3][4]],[+v[4],+d[4][1],+d[4][2],+d[4][3],+d[4][4]]]),g([[+d[0][0],+v[0],+d[0][2],+d[0][3],+d[0][4]],[+d[1][0],+v[1],+d[1][2],+d[1][3],+d[1][4]],[+d[2][0],+v[2],+d[2][2],+d[2][3],+d[2][4]],[+d[3][0],+v[3],+d[3][2],+d[3][3],+d[3][4]],[+d[4][0],+v[4],+d[4][2],+d[4][3],+d[4][4]]]),g([[+d[0][0],+d[0][1],+v[0],+d[0][3],+d[0][4]],[+d[1][0],+d[1][1],+v[1],+d[1][3],+d[1][4]],[+d[2][0],+d[2][1],+v[2],+d[2][3],+d[2][4]],[+d[3][0],+d[3][1],+v[3],+d[3][3],+d[3][4]],[+d[4][0],+d[4][1],+v[4],+d[4][3],+d[4][4]]]),g([[+d[0][0],+d[0][1],+d[0][2],+v[0],+d[0][4]],[+d[1][0],+d[1][1],+d[1][2],+v[1],+d[1][4]],[+d[2][0],+d[2][1],+d[2][2],+v[2],+d[2][4]],[+d[3][0],+d[3][1],+d[3][2],+v[3],+d[3][4]],[+d[4][0],+d[4][1],+d[4][2],+v[4],+d[4][4]]]),g([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+v[0]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+v[1]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+v[2]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+v[3]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+v[4]]]),g(d)]}}function p(g){return function(d,v){return[g([[+v[0],+d[0][1],+d[0][2],+d[0][3],+d[0][4],+d[0][5]],[+v[1],+d[1][1],+d[1][2],+d[1][3],+d[1][4],+d[1][5]],[+v[2],+d[2][1],+d[2][2],+d[2][3],+d[2][4],+d[2][5]],[+v[3],+d[3][1],+d[3][2],+d[3][3],+d[3][4],+d[3][5]],[+v[4],+d[4][1],+d[4][2],+d[4][3],+d[4][4],+d[4][5]],[+v[5],+d[5][1],+d[5][2],+d[5][3],+d[5][4],+d[5][5]]]),g([[+d[0][0],+v[0],+d[0][2],+d[0][3],+d[0][4],+d[0][5]],[+d[1][0],+v[1],+d[1][2],+d[1][3],+d[1][4],+d[1][5]],[+d[2][0],+v[2],+d[2][2],+d[2][3],+d[2][4],+d[2][5]],[+d[3][0],+v[3],+d[3][2],+d[3][3],+d[3][4],+d[3][5]],[+d[4][0],+v[4],+d[4][2],+d[4][3],+d[4][4],+d[4][5]],[+d[5][0],+v[5],+d[5][2],+d[5][3],+d[5][4],+d[5][5]]]),g([[+d[0][0],+d[0][1],+v[0],+d[0][3],+d[0][4],+d[0][5]],[+d[1][0],+d[1][1],+v[1],+d[1][3],+d[1][4],+d[1][5]],[+d[2][0],+d[2][1],+v[2],+d[2][3],+d[2][4],+d[2][5]],[+d[3][0],+d[3][1],+v[3],+d[3][3],+d[3][4],+d[3][5]],[+d[4][0],+d[4][1],+v[4],+d[4][3],+d[4][4],+d[4][5]],[+d[5][0],+d[5][1],+v[5],+d[5][3],+d[5][4],+d[5][5]]]),g([[+d[0][0],+d[0][1],+d[0][2],+v[0],+d[0][4],+d[0][5]],[+d[1][0],+d[1][1],+d[1][2],+v[1],+d[1][4],+d[1][5]],[+d[2][0],+d[2][1],+d[2][2],+v[2],+d[2][4],+d[2][5]],[+d[3][0],+d[3][1],+d[3][2],+v[3],+d[3][4],+d[3][5]],[+d[4][0],+d[4][1],+d[4][2],+v[4],+d[4][4],+d[4][5]],[+d[5][0],+d[5][1],+d[5][2],+v[5],+d[5][4],+d[5][5]]]),g([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+v[0],+d[0][5]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+v[1],+d[1][5]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+v[2],+d[2][5]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+v[3],+d[3][5]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+v[4],+d[4][5]],[+d[5][0],+d[5][1],+d[5][2],+d[5][3],+v[5],+d[5][5]]]),g([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+d[0][4],+v[0]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+d[1][4],+v[1]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+d[2][4],+v[2]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+d[3][4],+v[3]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+d[4][4],+v[4]],[+d[5][0],+d[5][1],+d[5][2],+d[5][3],+d[5][4],+v[5]]]),g(d)]}}var c=[function(){return[[0]]},function(g,d){return[[d[0]],[g[0][0]]]}];function x(g,d,v,y,m,w,f,S){return function(T,E){switch(T.length){case 0:return g(T,E);case 1:return d(T,E);case 2:return v(T,E);case 3:return y(T,E);case 4:return m(T,E);case 5:return w(T,E)}var O=f[T.length];return O||(O=f[T.length]=S(T.length)),O(T,E)}}(function(){for(;c.length<6;)c.push(n(c.length));h.exports=x.apply(void 0,c.concat([c,n]));for(var g=0;g<6;++g)h.exports[g]=c[g]})()},417:function(h,o,t){var i=t(9660),n=t(9662),r=t(8289),l=t(4078);function s(m,w,f,S){return function(T,E,O){var P=m(m(w(E[1],O[0]),w(-O[1],E[0])),m(w(T[1],E[0]),w(-E[1],T[0]))),I=m(w(T[1],O[0]),w(-O[1],T[0])),z=S(P,I);return z[z.length-1]}}function u(m,w,f,S){return function(T,E,O,P){var I=m(m(f(m(w(O[1],P[0]),w(-P[1],O[0])),E[2]),m(f(m(w(E[1],P[0]),w(-P[1],E[0])),-O[2]),f(m(w(E[1],O[0]),w(-O[1],E[0])),P[2]))),m(f(m(w(E[1],P[0]),w(-P[1],E[0])),T[2]),m(f(m(w(T[1],P[0]),w(-P[1],T[0])),-E[2]),f(m(w(T[1],E[0]),w(-E[1],T[0])),P[2])))),z=m(m(f(m(w(O[1],P[0]),w(-P[1],O[0])),T[2]),m(f(m(w(T[1],P[0]),w(-P[1],T[0])),-O[2]),f(m(w(T[1],O[0]),w(-O[1],T[0])),P[2]))),m(f(m(w(E[1],O[0]),w(-O[1],E[0])),T[2]),m(f(m(w(T[1],O[0]),w(-O[1],T[0])),-E[2]),f(m(w(T[1],E[0]),w(-E[1],T[0])),O[2])))),j=S(I,z);return j[j.length-1]}}function p(m,w,f,S){return function(T,E,O,P,I){var z=m(m(m(f(m(f(m(w(P[1],I[0]),w(-I[1],P[0])),O[2]),m(f(m(w(O[1],I[0]),w(-I[1],O[0])),-P[2]),f(m(w(O[1],P[0]),w(-P[1],O[0])),I[2]))),E[3]),m(f(m(f(m(w(P[1],I[0]),w(-I[1],P[0])),E[2]),m(f(m(w(E[1],I[0]),w(-I[1],E[0])),-P[2]),f(m(w(E[1],P[0]),w(-P[1],E[0])),I[2]))),-O[3]),f(m(f(m(w(O[1],I[0]),w(-I[1],O[0])),E[2]),m(f(m(w(E[1],I[0]),w(-I[1],E[0])),-O[2]),f(m(w(E[1],O[0]),w(-O[1],E[0])),I[2]))),P[3]))),m(f(m(f(m(w(O[1],P[0]),w(-P[1],O[0])),E[2]),m(f(m(w(E[1],P[0]),w(-P[1],E[0])),-O[2]),f(m(w(E[1],O[0]),w(-O[1],E[0])),P[2]))),-I[3]),m(f(m(f(m(w(P[1],I[0]),w(-I[1],P[0])),E[2]),m(f(m(w(E[1],I[0]),w(-I[1],E[0])),-P[2]),f(m(w(E[1],P[0]),w(-P[1],E[0])),I[2]))),T[3]),f(m(f(m(w(P[1],I[0]),w(-I[1],P[0])),T[2]),m(f(m(w(T[1],I[0]),w(-I[1],T[0])),-P[2]),f(m(w(T[1],P[0]),w(-P[1],T[0])),I[2]))),-E[3])))),m(m(f(m(f(m(w(E[1],I[0]),w(-I[1],E[0])),T[2]),m(f(m(w(T[1],I[0]),w(-I[1],T[0])),-E[2]),f(m(w(T[1],E[0]),w(-E[1],T[0])),I[2]))),P[3]),m(f(m(f(m(w(E[1],P[0]),w(-P[1],E[0])),T[2]),m(f(m(w(T[1],P[0]),w(-P[1],T[0])),-E[2]),f(m(w(T[1],E[0]),w(-E[1],T[0])),P[2]))),-I[3]),f(m(f(m(w(O[1],P[0]),w(-P[1],O[0])),E[2]),m(f(m(w(E[1],P[0]),w(-P[1],E[0])),-O[2]),f(m(w(E[1],O[0]),w(-O[1],E[0])),P[2]))),T[3]))),m(f(m(f(m(w(O[1],P[0]),w(-P[1],O[0])),T[2]),m(f(m(w(T[1],P[0]),w(-P[1],T[0])),-O[2]),f(m(w(T[1],O[0]),w(-O[1],T[0])),P[2]))),-E[3]),m(f(m(f(m(w(E[1],P[0]),w(-P[1],E[0])),T[2]),m(f(m(w(T[1],P[0]),w(-P[1],T[0])),-E[2]),f(m(w(T[1],E[0]),w(-E[1],T[0])),P[2]))),O[3]),f(m(f(m(w(E[1],O[0]),w(-O[1],E[0])),T[2]),m(f(m(w(T[1],O[0]),w(-O[1],T[0])),-E[2]),f(m(w(T[1],E[0]),w(-E[1],T[0])),O[2]))),-P[3]))))),j=m(m(m(f(m(f(m(w(P[1],I[0]),w(-I[1],P[0])),O[2]),m(f(m(w(O[1],I[0]),w(-I[1],O[0])),-P[2]),f(m(w(O[1],P[0]),w(-P[1],O[0])),I[2]))),T[3]),f(m(f(m(w(P[1],I[0]),w(-I[1],P[0])),T[2]),m(f(m(w(T[1],I[0]),w(-I[1],T[0])),-P[2]),f(m(w(T[1],P[0]),w(-P[1],T[0])),I[2]))),-O[3])),m(f(m(f(m(w(O[1],I[0]),w(-I[1],O[0])),T[2]),m(f(m(w(T[1],I[0]),w(-I[1],T[0])),-O[2]),f(m(w(T[1],O[0]),w(-O[1],T[0])),I[2]))),P[3]),f(m(f(m(w(O[1],P[0]),w(-P[1],O[0])),T[2]),m(f(m(w(T[1],P[0]),w(-P[1],T[0])),-O[2]),f(m(w(T[1],O[0]),w(-O[1],T[0])),P[2]))),-I[3]))),m(m(f(m(f(m(w(O[1],I[0]),w(-I[1],O[0])),E[2]),m(f(m(w(E[1],I[0]),w(-I[1],E[0])),-O[2]),f(m(w(E[1],O[0]),w(-O[1],E[0])),I[2]))),T[3]),f(m(f(m(w(O[1],I[0]),w(-I[1],O[0])),T[2]),m(f(m(w(T[1],I[0]),w(-I[1],T[0])),-O[2]),f(m(w(T[1],O[0]),w(-O[1],T[0])),I[2]))),-E[3])),m(f(m(f(m(w(E[1],I[0]),w(-I[1],E[0])),T[2]),m(f(m(w(T[1],I[0]),w(-I[1],T[0])),-E[2]),f(m(w(T[1],E[0]),w(-E[1],T[0])),I[2]))),O[3]),f(m(f(m(w(E[1],O[0]),w(-O[1],E[0])),T[2]),m(f(m(w(T[1],O[0]),w(-O[1],T[0])),-E[2]),f(m(w(T[1],E[0]),w(-E[1],T[0])),O[2]))),-I[3])))),R=S(z,j);return R[R.length-1]}}function c(m){return(m===3?s:m===4?u:p)(n,i,r,l)}var x=c(3),g=c(4),d=[function(){return 0},function(){return 0},function(m,w){return w[0]-m[0]},function(m,w,f){var S,T=(m[1]-f[1])*(w[0]-f[0]),E=(m[0]-f[0])*(w[1]-f[1]),O=T-E;if(T>0){if(E<=0)return O;S=T+E}else{if(!(T<0)||E>=0)return O;S=-(T+E)}var P=33306690738754716e-32*S;return O>=P||O<=-P?O:x(m,w,f)},function(m,w,f,S){var T=m[0]-S[0],E=w[0]-S[0],O=f[0]-S[0],P=m[1]-S[1],I=w[1]-S[1],z=f[1]-S[1],j=m[2]-S[2],R=w[2]-S[2],N=f[2]-S[2],Z=E*z,F=O*I,U=O*P,V=T*z,te=T*I,Q=E*P,J=j*(Z-F)+R*(U-V)+N*(te-Q),X=7771561172376103e-31*((Math.abs(Z)+Math.abs(F))*Math.abs(j)+(Math.abs(U)+Math.abs(V))*Math.abs(R)+(Math.abs(te)+Math.abs(Q))*Math.abs(N));return J>X||-J>X?J:g(m,w,f,S)}];function v(m){var w=d[m.length];return w||(w=d[m.length]=c(m.length)),w.apply(void 0,m)}function y(m,w,f,S,T,E,O){return function(P,I,z,j,R){switch(arguments.length){case 0:case 1:return 0;case 2:return S(P,I);case 3:return T(P,I,z);case 4:return E(P,I,z,j);case 5:return O(P,I,z,j,R)}for(var N=new Array(arguments.length),Z=0;Z<arguments.length;++Z)N[Z]=arguments[Z];return m(N)}}(function(){for(;d.length<=5;)d.push(c(d.length));h.exports=y.apply(void 0,[v].concat(d));for(var m=0;m<=5;++m)h.exports[m]=d[m]})()},2019:function(h,o,t){var i=t(9662),n=t(8289);h.exports=function(r,l){if(r.length===1)return n(l,r[0]);if(l.length===1)return n(r,l[0]);if(r.length===0||l.length===0)return[0];var s=[0];if(r.length<l.length)for(var u=0;u<r.length;++u)s=i(s,n(l,r[u]));else for(u=0;u<l.length;++u)s=i(s,n(r,l[u]));return s}},8289:function(h,o,t){var i=t(9660),n=t(87);h.exports=function(r,l){var s=r.length;if(s===1){var u=i(r[0],l);return u[0]?u:[u[1]]}var p=new Array(2*s),c=[.1,.1],x=[.1,.1],g=0;i(r[0],l,c),c[0]&&(p[g++]=c[0]);for(var d=1;d<s;++d){i(r[d],l,x);var v=c[1];n(v,x[0],c),c[0]&&(p[g++]=c[0]);var y=x[1],m=c[1],w=y+m,f=m-(w-y);c[1]=w,f&&(p[g++]=f)}return c[1]&&(p[g++]=c[1]),g===0&&(p[g++]=0),p.length=g,p}},4434:function(h,o,t){h.exports=function(n,r,l,s){var u=i(n,l,s),p=i(r,l,s);if(u>0&&p>0||u<0&&p<0)return!1;var c=i(l,n,r),x=i(s,n,r);return!(c>0&&x>0||c<0&&x<0)&&(u!==0||p!==0||c!==0||x!==0||function(g,d,v,y){for(var m=0;m<2;++m){var w=g[m],f=d[m],S=Math.min(w,f),T=Math.max(w,f),E=v[m],O=y[m],P=Math.min(E,O);if(Math.max(E,O)<S||T<P)return!1}return!0}(n,r,l,s))};var i=t(417)[3]},4078:function(h){h.exports=function(o,t){var i=0|o.length,n=0|t.length;if(i===1&&n===1)return function(P,I){var z=P+I,j=z-P,R=P-(z-j)+(I-j);return R?[R,z]:[z]}(o[0],-t[0]);var r,l,s=new Array(i+n),u=0,p=0,c=0,x=Math.abs,g=o[p],d=x(g),v=-t[c],y=x(v);d<y?(l=g,(p+=1)<i&&(d=x(g=o[p]))):(l=v,(c+=1)<n&&(y=x(v=-t[c]))),p<i&&d<y||c>=n?(r=g,(p+=1)<i&&(d=x(g=o[p]))):(r=v,(c+=1)<n&&(y=x(v=-t[c])));for(var m,w,f=r+l,S=f-r,T=l-S,E=T,O=f;p<i&&c<n;)d<y?(r=g,(p+=1)<i&&(d=x(g=o[p]))):(r=v,(c+=1)<n&&(y=x(v=-t[c]))),(T=(l=E)-(S=(f=r+l)-r))&&(s[u++]=T),E=O-((m=O+f)-(w=m-O))+(f-w),O=m;for(;p<i;)(T=(l=E)-(S=(f=(r=g)+l)-r))&&(s[u++]=T),E=O-((m=O+f)-(w=m-O))+(f-w),O=m,(p+=1)<i&&(g=o[p]);for(;c<n;)(T=(l=E)-(S=(f=(r=v)+l)-r))&&(s[u++]=T),E=O-((m=O+f)-(w=m-O))+(f-w),O=m,(c+=1)<n&&(v=-t[c]);return E&&(s[u++]=E),O&&(s[u++]=O),u||(s[u++]=0),s.length=u,s}},9662:function(h){h.exports=function(o,t){var i=0|o.length,n=0|t.length;if(i===1&&n===1)return function(P,I){var z=P+I,j=z-P,R=P-(z-j)+(I-j);return R?[R,z]:[z]}(o[0],t[0]);var r,l,s=new Array(i+n),u=0,p=0,c=0,x=Math.abs,g=o[p],d=x(g),v=t[c],y=x(v);d<y?(l=g,(p+=1)<i&&(d=x(g=o[p]))):(l=v,(c+=1)<n&&(y=x(v=t[c]))),p<i&&d<y||c>=n?(r=g,(p+=1)<i&&(d=x(g=o[p]))):(r=v,(c+=1)<n&&(y=x(v=t[c])));for(var m,w,f=r+l,S=f-r,T=l-S,E=T,O=f;p<i&&c<n;)d<y?(r=g,(p+=1)<i&&(d=x(g=o[p]))):(r=v,(c+=1)<n&&(y=x(v=t[c]))),(T=(l=E)-(S=(f=r+l)-r))&&(s[u++]=T),E=O-((m=O+f)-(w=m-O))+(f-w),O=m;for(;p<i;)(T=(l=E)-(S=(f=(r=g)+l)-r))&&(s[u++]=T),E=O-((m=O+f)-(w=m-O))+(f-w),O=m,(p+=1)<i&&(g=o[p]);for(;c<n;)(T=(l=E)-(S=(f=(r=v)+l)-r))&&(s[u++]=T),E=O-((m=O+f)-(w=m-O))+(f-w),O=m,(c+=1)<n&&(v=t[c]);return E&&(s[u++]=E),O&&(s[u++]=O),u||(s[u++]=0),s.length=u,s}},8691:function(h,o,t){h.exports=function(r){return n(i(r))};var i=t(2692),n=t(7037)},7212:function(h,o,t){h.exports=function(s,u,p,c){if(p=p||0,c===void 0&&(c=function(f){for(var S=f.length,T=0,E=0;E<S;++E)T=0|Math.max(T,f[E].length);return T-1}(s)),s.length===0||c<1)return{cells:[],vertexIds:[],vertexWeights:[]};var x=function(f,S){for(var T=f.length,E=n.mallocUint8(T),O=0;O<T;++O)E[O]=f[O]<S|0;return E}(u,+p),g=function(f,S){for(var T=f.length,E=S*(S+1)/2*T|0,O=n.mallocUint32(2*E),P=0,I=0;I<T;++I)for(var z=f[I],j=(S=z.length,0);j<S;++j)for(var R=0;R<j;++R){var N=z[R],Z=z[j];O[P++]=0|Math.min(N,Z),O[P++]=0|Math.max(N,Z)}r(i(O,[P/2|0,2]));var F=2;for(I=2;I<P;I+=2)O[I-2]===O[I]&&O[I-1]===O[I+1]||(O[F++]=O[I],O[F++]=O[I+1]);return i(O,[F/2|0,2])}(s,c),d=function(f,S,T,E){for(var O=f.data,P=f.shape[0],I=n.mallocDouble(P),z=0,j=0;j<P;++j){var R=O[2*j],N=O[2*j+1];if(T[R]!==T[N]){var Z=S[R],F=S[N];O[2*z]=R,O[2*z+1]=N,I[z++]=(F-E)/(F-Z)}}return f.shape[0]=z,i(I,[z])}(g,u,x,+p),v=function(f,S){var T=n.mallocInt32(2*S),E=f.shape[0],O=f.data;T[0]=0;for(var P=0,I=0;I<E;++I){var z=O[2*I];if(z!==P){for(T[2*P+1]=I;++P<z;)T[2*P]=I,T[2*P+1]=I;T[2*P]=I}}for(T[2*P+1]=E;++P<S;)T[2*P]=T[2*P+1]=E;return T}(g,0|u.length),y=l(c)(s,g.data,v,x),m=function(f){for(var S=0|f.shape[0],T=f.data,E=new Array(S),O=0;O<S;++O)E[O]=[T[2*O],T[2*O+1]];return E}(g),w=[].slice.call(d.data,0,d.shape[0]);return n.free(x),n.free(g.data),n.free(d.data),n.free(v),{cells:y,vertexIds:m,vertexWeights:w}};var i=t(5050),n=t(5306),r=t(8729),l=t(1168)},1168:function(h){h.exports=function(t){return o[t]()};var o=[function(){return function(t,i,n,r){for(var l=t.length,s=0;s<l;++s)t[s].length;return[]}},function(){function t(i,n,r,l){for(var s=0|Math.min(r,l),u=0|Math.max(r,l),p=i[2*s],c=i[2*s+1];p<c;){var x=p+c>>1,g=n[2*x+1];if(g===u)return x;u<g?c=x:p=x+1}return p}return function(i,n,r,l){for(var s=i.length,u=[],p=0;p<s;++p){var c=i[p];if(c.length===2){var x=(l[c[0]]<<0)+(l[c[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:case 3:break;case 1:u.push([t(r,n,c[0],c[1])]);break;case 2:u.push([t(r,n,c[1],c[0])])}}}return u}},function(){function t(i,n,r,l){for(var s=0|Math.min(r,l),u=0|Math.max(r,l),p=i[2*s],c=i[2*s+1];p<c;){var x=p+c>>1,g=n[2*x+1];if(g===u)return x;u<g?c=x:p=x+1}return p}return function(i,n,r,l){for(var s=i.length,u=[],p=0;p<s;++p){var c=i[p],x=c.length;if(x===3){if((g=(l[c[0]]<<0)+(l[c[1]]<<1)+(l[c[2]]<<2))==0||g===7)continue;switch(g){case 0:case 7:break;case 1:u.push([t(r,n,c[0],c[2]),t(r,n,c[0],c[1])]);break;case 2:u.push([t(r,n,c[1],c[0]),t(r,n,c[1],c[2])]);break;case 3:u.push([t(r,n,c[0],c[2]),t(r,n,c[1],c[2])]);break;case 4:u.push([t(r,n,c[2],c[1]),t(r,n,c[2],c[0])]);break;case 5:u.push([t(r,n,c[2],c[1]),t(r,n,c[0],c[1])]);break;case 6:u.push([t(r,n,c[1],c[0]),t(r,n,c[2],c[0])])}}else if(x===2){var g;if((g=(l[c[0]]<<0)+(l[c[1]]<<1))==0||g===3)continue;switch(g){case 0:case 3:break;case 1:u.push([t(r,n,c[0],c[1])]);break;case 2:u.push([t(r,n,c[1],c[0])])}}}return u}},function(){function t(i,n,r,l){for(var s=0|Math.min(r,l),u=0|Math.max(r,l),p=i[2*s],c=i[2*s+1];p<c;){var x=p+c>>1,g=n[2*x+1];if(g===u)return x;u<g?c=x:p=x+1}return p}return function(i,n,r,l){for(var s=i.length,u=[],p=0;p<s;++p){var c=i[p],x=c.length;if(x===4){if((g=(l[c[0]]<<0)+(l[c[1]]<<1)+(l[c[2]]<<2)+(l[c[3]]<<3))==0||g===15)continue;switch(g){case 0:case 15:break;case 1:u.push([t(r,n,c[0],c[1]),t(r,n,c[0],c[2]),t(r,n,c[0],c[3])]);break;case 2:u.push([t(r,n,c[1],c[2]),t(r,n,c[1],c[0]),t(r,n,c[1],c[3])]);break;case 3:u.push([t(r,n,c[1],c[2]),t(r,n,c[0],c[2]),t(r,n,c[0],c[3])],[t(r,n,c[1],c[3]),t(r,n,c[1],c[2]),t(r,n,c[0],c[3])]);break;case 4:u.push([t(r,n,c[2],c[0]),t(r,n,c[2],c[1]),t(r,n,c[2],c[3])]);break;case 5:u.push([t(r,n,c[0],c[1]),t(r,n,c[2],c[1]),t(r,n,c[0],c[3])],[t(r,n,c[2],c[1]),t(r,n,c[2],c[3]),t(r,n,c[0],c[3])]);break;case 6:u.push([t(r,n,c[2],c[0]),t(r,n,c[1],c[0]),t(r,n,c[1],c[3])],[t(r,n,c[2],c[3]),t(r,n,c[2],c[0]),t(r,n,c[1],c[3])]);break;case 7:u.push([t(r,n,c[0],c[3]),t(r,n,c[1],c[3]),t(r,n,c[2],c[3])]);break;case 8:u.push([t(r,n,c[3],c[1]),t(r,n,c[3],c[0]),t(r,n,c[3],c[2])]);break;case 9:u.push([t(r,n,c[3],c[1]),t(r,n,c[0],c[1]),t(r,n,c[0],c[2])],[t(r,n,c[3],c[2]),t(r,n,c[3],c[1]),t(r,n,c[0],c[2])]);break;case 10:u.push([t(r,n,c[1],c[0]),t(r,n,c[3],c[0]),t(r,n,c[1],c[2])],[t(r,n,c[3],c[0]),t(r,n,c[3],c[2]),t(r,n,c[1],c[2])]);break;case 11:u.push([t(r,n,c[1],c[2]),t(r,n,c[0],c[2]),t(r,n,c[3],c[2])]);break;case 12:u.push([t(r,n,c[3],c[0]),t(r,n,c[2],c[0]),t(r,n,c[2],c[1])],[t(r,n,c[3],c[1]),t(r,n,c[3],c[0]),t(r,n,c[2],c[1])]);break;case 13:u.push([t(r,n,c[0],c[1]),t(r,n,c[2],c[1]),t(r,n,c[3],c[1])]);break;case 14:u.push([t(r,n,c[2],c[0]),t(r,n,c[1],c[0]),t(r,n,c[3],c[0])])}}else if(x===3){if((g=(l[c[0]]<<0)+(l[c[1]]<<1)+(l[c[2]]<<2))==0||g===7)continue;switch(g){case 0:case 7:break;case 1:u.push([t(r,n,c[0],c[2]),t(r,n,c[0],c[1])]);break;case 2:u.push([t(r,n,c[1],c[0]),t(r,n,c[1],c[2])]);break;case 3:u.push([t(r,n,c[0],c[2]),t(r,n,c[1],c[2])]);break;case 4:u.push([t(r,n,c[2],c[1]),t(r,n,c[2],c[0])]);break;case 5:u.push([t(r,n,c[2],c[1]),t(r,n,c[0],c[1])]);break;case 6:u.push([t(r,n,c[1],c[0]),t(r,n,c[2],c[0])])}}else if(x===2){var g;if((g=(l[c[0]]<<0)+(l[c[1]]<<1))==0||g===3)continue;switch(g){case 0:case 3:break;case 1:u.push([t(r,n,c[0],c[1])]);break;case 2:u.push([t(r,n,c[1],c[0])])}}}return u}}]},8211:function(h,o,t){t(2288),t(1731),o.H=function(i,n){var r=i.length,l=i.length-n.length,s=Math.min;if(l)return l;switch(r){case 0:return 0;case 1:return i[0]-n[0];case 2:return(c=i[0]+i[1]-n[0]-n[1])||s(i[0],i[1])-s(n[0],n[1]);case 3:var u=i[0]+i[1],p=n[0]+n[1];if(c=u+i[2]-(p+n[2]))return c;var c,x=s(i[0],i[1]),g=s(n[0],n[1]);return(c=s(x,i[2])-s(g,n[2]))||s(x+i[2],u)-s(g+n[2],p);default:var d=i.slice(0);d.sort();var v=n.slice(0);v.sort();for(var y=0;y<r;++y)if(l=d[y]-v[y])return l;return 0}}},9392:function(h,o){function t(n){var r=32;return(n&=-n)&&r--,65535&n&&(r-=16),16711935&n&&(r-=8),252645135&n&&(r-=4),858993459&n&&(r-=2),1431655765&n&&(r-=1),r}o.INT_BITS=32,o.INT_MAX=2147483647,o.INT_MIN=-2147483648,o.sign=function(n){return(n>0)-(n<0)},o.abs=function(n){var r=n>>31;return(n^r)-r},o.min=function(n,r){return r^(n^r)&-(n<r)},o.max=function(n,r){return n^(n^r)&-(n<r)},o.isPow2=function(n){return!(n&n-1||!n)},o.log2=function(n){var r,l;return r=(n>65535)<<4,r|=l=((n>>>=r)>255)<<3,r|=l=((n>>>=l)>15)<<2,(r|=l=((n>>>=l)>3)<<1)|(n>>>=l)>>1},o.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},o.popCount=function(n){return 16843009*((n=(858993459&(n-=n>>>1&1431655765))+(n>>>2&858993459))+(n>>>4)&252645135)>>>24},o.countTrailingZeros=t,o.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,1+((n|=n>>>8)|n>>>16)},o.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,(n|=n>>>16)-(n>>>1)},o.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,27030>>>(n&=15)&1};var i=new Array(256);(function(n){for(var r=0;r<256;++r){var l=r,s=r,u=7;for(l>>>=1;l;l>>>=1)s<<=1,s|=1&l,--u;n[r]=s<<u&255}})(i),o.reverse=function(n){return i[255&n]<<24|i[n>>>8&255]<<16|i[n>>>16&255]<<8|i[n>>>24&255]},o.interleave2=function(n,r){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))<<1},o.deinterleave2=function(n,r){return(n=65535&((n=16711935&((n=252645135&((n=858993459&((n=n>>>r&1431655765)|n>>>1))|n>>>2))|n>>>4))|n>>>16))<<16>>16},o.interleave3=function(n,r,l){return n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2),(n|=(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<1)|(l=1227133513&((l=3272356035&((l=251719695&((l=4278190335&((l&=1023)|l<<16))|l<<8))|l<<4))|l<<2))<<2},o.deinterleave3=function(n,r){return(n=1023&((n=4278190335&((n=251719695&((n=3272356035&((n=n>>>r&1227133513)|n>>>2))|n>>>4))|n>>>8))|n>>>16))<<22>>22},o.nextCombination=function(n){var r=n|n-1;return r+1|(~r&-~r)-1>>>t(n)+1}},6656:function(h,o,t){var i=t(9392),n=t(9521);function r(g,d){var v=g.length,y=g.length-d.length,m=Math.min;if(y)return y;switch(v){case 0:return 0;case 1:return g[0]-d[0];case 2:return(S=g[0]+g[1]-d[0]-d[1])||m(g[0],g[1])-m(d[0],d[1]);case 3:var w=g[0]+g[1],f=d[0]+d[1];if(S=w+g[2]-(f+d[2]))return S;var S,T=m(g[0],g[1]),E=m(d[0],d[1]);return(S=m(T,g[2])-m(E,d[2]))||m(T+g[2],w)-m(E+d[2],f);default:var O=g.slice(0);O.sort();var P=d.slice(0);P.sort();for(var I=0;I<v;++I)if(y=O[I]-P[I])return y;return 0}}function l(g,d){return r(g[0],d[0])}function s(g,d){if(d){for(var v=g.length,y=new Array(v),m=0;m<v;++m)y[m]=[g[m],d[m]];for(y.sort(l),m=0;m<v;++m)g[m]=y[m][0],d[m]=y[m][1];return g}return g.sort(r),g}function u(g){if(g.length===0)return[];for(var d=1,v=g.length,y=1;y<v;++y){var m=g[y];if(r(m,g[y-1])){if(y===d){d++;continue}g[d++]=m}}return g.length=d,g}function p(g,d){for(var v=0,y=g.length-1,m=-1;v<=y;){var w=v+y>>1,f=r(g[w],d);f<=0?(f===0&&(m=w),v=w+1):f>0&&(y=w-1)}return m}function c(g,d){for(var v=new Array(g.length),y=0,m=v.length;y<m;++y)v[y]=[];for(var w=[],f=(y=0,d.length);y<f;++y)for(var S=d[y],T=S.length,E=1,O=1<<T;E<O;++E){w.length=i.popCount(E);for(var P=0,I=0;I<T;++I)E&1<<I&&(w[P++]=S[I]);var z=p(g,w);if(!(z<0))for(;v[z++].push(y),!(z>=g.length||r(g[z],w)!==0););}return v}function x(g,d){if(d<0)return[];for(var v=[],y=(1<<d+1)-1,m=0;m<g.length;++m)for(var w=g[m],f=y;f<1<<w.length;f=i.nextCombination(f)){for(var S=new Array(d+1),T=0,E=0;E<w.length;++E)f&1<<E&&(S[T++]=w[E]);v.push(S)}return s(v)}o.dimension=function(g){for(var d=0,v=Math.max,y=0,m=g.length;y<m;++y)d=v(d,g[y].length);return d-1},o.countVertices=function(g){for(var d=-1,v=Math.max,y=0,m=g.length;y<m;++y)for(var w=g[y],f=0,S=w.length;f<S;++f)d=v(d,w[f]);return d+1},o.cloneCells=function(g){for(var d=new Array(g.length),v=0,y=g.length;v<y;++v)d[v]=g[v].slice(0);return d},o.compareCells=r,o.normalize=s,o.unique=u,o.findCell=p,o.incidence=c,o.dual=function(g,d){if(!d)return c(u(x(g,0)),g);for(var v=new Array(d),y=0;y<d;++y)v[y]=[];y=0;for(var m=g.length;y<m;++y)for(var w=g[y],f=0,S=w.length;f<S;++f)v[w[f]].push(y);return v},o.explode=function(g){for(var d=[],v=0,y=g.length;v<y;++v)for(var m=g[v],w=0|m.length,f=1,S=1<<w;f<S;++f){for(var T=[],E=0;E<w;++E)f>>>E&1&&T.push(m[E]);d.push(T)}return s(d)},o.skeleton=x,o.boundary=function(g){for(var d=[],v=0,y=g.length;v<y;++v)for(var m=g[v],w=0,f=m.length;w<f;++w){for(var S=new Array(m.length-1),T=0,E=0;T<f;++T)T!==w&&(S[E++]=m[T]);d.push(S)}return s(d)},o.connectedComponents=function(g,d){return d?function(v,y){for(var m=new n(y),w=0;w<v.length;++w)for(var f=v[w],S=0;S<f.length;++S)for(var T=S+1;T<f.length;++T)m.link(f[S],f[T]);var E=[],O=m.ranks;for(w=0;w<O.length;++w)O[w]=-1;for(w=0;w<v.length;++w){var P=m.find(v[w][0]);O[P]<0?(O[P]=E.length,E.push([v[w].slice(0)])):E[O[P]].push(v[w].slice(0))}return E}(g,d):function(v){for(var y=u(s(x(v,0))),m=new n(y.length),w=0;w<v.length;++w)for(var f=v[w],S=0;S<f.length;++S)for(var T=p(y,[f[S]]),E=S+1;E<f.length;++E)m.link(T,p(y,[f[E]]));var O=[],P=m.ranks;for(w=0;w<P.length;++w)P[w]=-1;for(w=0;w<v.length;++w){var I=m.find(p(y,[v[w][0]]));P[I]<0?(P[I]=O.length,O.push([v[w].slice(0)])):O[P[I]].push(v[w].slice(0))}return O}(g)}},9521:function(h){function o(t){this.roots=new Array(t),this.ranks=new Array(t);for(var i=0;i<t;++i)this.roots[i]=i,this.ranks[i]=0}h.exports=o,o.prototype.length=function(){return this.roots.length},o.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},o.prototype.find=function(t){for(var i=this.roots;i[t]!==t;){var n=i[t];i[t]=i[n],t=n}return t},o.prototype.link=function(t,i){var n=this.find(t),r=this.find(i);if(n!==r){var l=this.ranks,s=this.roots,u=l[n],p=l[r];u<p?s[n]=r:p<u?s[r]=n:(s[r]=n,++l[n])}}},8243:function(h,o,t){h.exports=function(r,l,s){for(var u=l.length,p=r.length,c=new Array(u),x=new Array(u),g=new Array(u),d=new Array(u),v=0;v<u;++v)c[v]=x[v]=-1,g[v]=1/0,d[v]=!1;for(v=0;v<p;++v){var y=r[v];if(y.length!==2)throw new Error("Input must be a graph");var m=y[1],w=y[0];x[w]!==-1?x[w]=-2:x[w]=m,c[m]!==-1?c[m]=-2:c[m]=w}function f(Q){if(d[Q])return 1/0;var J,X,K,ee=c[Q],re=x[Q];return ee<0||re<0?1/0:(J=l[Q],X=l[ee],K=l[re],Math.abs(i(J,X,K))/Math.sqrt(Math.pow(X[0]-K[0],2)+Math.pow(X[1]-K[1],2)))}function S(Q,J){var X=R[Q],K=R[J];R[Q]=K,R[J]=X,N[X]=J,N[K]=Q}function T(Q){return g[R[Q]]}function E(Q){return 1&Q?Q-1>>1:(Q>>1)-1}function O(Q){for(var J=T(Q);;){var X=J,K=2*Q+1,ee=2*(Q+1),re=Q;if(K<Z){var ie=T(K);ie<X&&(re=K,X=ie)}if(ee<Z&&T(ee)<X&&(re=ee),re===Q)return Q;S(Q,re),Q=re}}function P(Q){for(var J=T(Q);Q>0;){var X=E(Q);if(!(X>=0&&J<T(X)))return Q;S(Q,X),Q=X}}function I(){if(Z>0){var Q=R[0];return S(0,Z-1),Z-=1,O(0),Q}return-1}function z(Q,J){var X=R[Q];return g[X]===J?Q:(g[X]=-1/0,P(Q),I(),g[X]=J,P((Z+=1)-1))}function j(Q){if(!d[Q]){d[Q]=!0;var J=c[Q],X=x[Q];c[X]>=0&&(c[X]=J),x[J]>=0&&(x[J]=X),N[J]>=0&&z(N[J],f(J)),N[X]>=0&&z(N[X],f(X))}}var R=[],N=new Array(u);for(v=0;v<u;++v)(g[v]=f(v))<1/0?(N[v]=R.length,R.push(v)):N[v]=-1;var Z=R.length;for(v=Z>>1;v>=0;--v)O(v);for(;;){var F=I();if(F<0||g[F]>s)break;j(F)}var U=[];for(v=0;v<u;++v)d[v]||(N[v]=U.length,U.push(l[v].slice()));function V(Q,J){if(Q[J]<0)return J;var X=J,K=J;do{var ee=Q[K];if(!d[K]||ee<0||ee===K||(ee=Q[K=ee],!d[K]||ee<0||ee===K))break;K=ee,X=Q[X]}while(X!==K);for(var re=J;re!==K;re=Q[re])Q[re]=K;return K}U.length;var te=[];return r.forEach(function(Q){var J=V(c,Q[0]),X=V(x,Q[1]);if(J>=0&&X>=0&&J!==X){var K=N[J],ee=N[X];K!==ee&&te.push([K,ee])}}),n.unique(n.normalize(te)),{positions:U,edges:te}};var i=t(417),n=t(6656)},6638:function(h,o,t){h.exports=function(r,l){var s,u,p,c;if(l[0][0]<l[1][0])s=l[0],u=l[1];else{if(!(l[0][0]>l[1][0]))return n(l,r);s=l[1],u=l[0]}if(r[0][0]<r[1][0])p=r[0],c=r[1];else{if(!(r[0][0]>r[1][0]))return-n(r,l);p=r[1],c=r[0]}var x=i(s,u,c),g=i(s,u,p);if(x<0){if(g<=0)return x}else if(x>0){if(g>=0)return x}else if(g)return g;if(x=i(c,p,u),g=i(c,p,s),x<0){if(g<=0)return x}else if(x>0){if(g>=0)return x}else if(g)return g;return u[0]-c[0]};var i=t(417);function n(r,l){var s,u,p,c;if(l[0][0]<l[1][0])s=l[0],u=l[1];else{if(!(l[0][0]>l[1][0])){var x=Math.min(r[0][1],r[1][1]),g=Math.max(r[0][1],r[1][1]),d=Math.min(l[0][1],l[1][1]),v=Math.max(l[0][1],l[1][1]);return g<d?g-d:x>v?x-v:g-v}s=l[1],u=l[0]}r[0][1]<r[1][1]?(p=r[0],c=r[1]):(p=r[1],c=r[0]);var y=i(u,s,p);return y||(y=i(u,s,c))||c-u}},4385:function(h,o,t){h.exports=function(g){for(var d=g.length,v=2*d,y=new Array(v),m=0;m<d;++m){var w=g[m],f=w[0][0]<w[1][0];y[2*m]=new x(w[0][0],w,f,m),y[2*m+1]=new x(w[1][0],w,!f,m)}y.sort(function(j,R){var N=j.x-R.x;return N||(N=j.create-R.create)||Math.min(j.segment[0][1],j.segment[1][1])-Math.min(R.segment[0][1],R.segment[1][1])});var S=n(l),T=[],E=[],O=[];for(m=0;m<v;){for(var P=y[m].x,I=[];m<v;){var z=y[m];if(z.x!==P)break;m+=1,z.segment[0][0]===z.x&&z.segment[1][0]===z.x?z.create&&(z.segment[0][1]<z.segment[1][1]?(I.push(new c(z.segment[0][1],z.index,!0,!0)),I.push(new c(z.segment[1][1],z.index,!1,!1))):(I.push(new c(z.segment[1][1],z.index,!0,!1)),I.push(new c(z.segment[0][1],z.index,!1,!0)))):S=z.create?S.insert(z.segment,z.index):S.remove(z.segment)}T.push(S.root),E.push(P),O.push(I)}return new s(T,E,O)};var i=t(5070),n=t(7080),r=t(417),l=t(6638);function s(g,d,v){this.slabs=g,this.coordinates=d,this.horizontal=v}function u(g,d){return g.y-d}function p(g,d){for(var v=null;g;){var y,m,w=g.key;w[0][0]<w[1][0]?(y=w[0],m=w[1]):(y=w[1],m=w[0]);var f=r(y,m,d);if(f<0)g=g.left;else if(f>0)if(d[0]!==w[1][0])v=g,g=g.right;else{if(S=p(g.right,d))return S;g=g.left}else{if(d[0]!==w[1][0])return g;var S;if(S=p(g.right,d))return S;g=g.left}}return v}function c(g,d,v,y){this.y=g,this.index=d,this.start=v,this.closed=y}function x(g,d,v,y){this.x=g,this.segment=d,this.create=v,this.index=y}s.prototype.castUp=function(g){var d=i.le(this.coordinates,g[0]);if(d<0)return-1;this.slabs[d];var v=p(this.slabs[d],g),y=-1;if(v&&(y=v.value),this.coordinates[d]===g[0]){var m=null;if(v&&(m=v.key),d>0){var w=p(this.slabs[d-1],g);w&&(m?l(w.key,m)>0&&(m=w.key,y=w.value):(y=w.value,m=w.key))}var f=this.horizontal[d];if(f.length>0){var S=i.ge(f,g[1],u);if(S<f.length){var T=f[S];if(g[1]===T.y){if(T.closed)return T.index;for(;S<f.length-1&&f[S+1].y===g[1];)if((T=f[S+=1]).closed)return T.index;if(T.y===g[1]&&!T.start){if((S+=1)>=f.length)return y;T=f[S]}}if(T.start)if(m){var E=r(m[0],m[1],[g[0],T.y]);m[0][0]>m[1][0]&&(E=-E),E>0&&(y=T.index)}else y=T.index;else T.y!==g[1]&&(y=T.index)}}}return y}},4670:function(h,o,t){var i=t(9130),n=t(9662);function r(s,u){var p=n(i(s,u),[u[u.length-1]]);return p[p.length-1]}function l(s,u,p,c){var x=-u/(c-u);x<0?x=0:x>1&&(x=1);for(var g=1-x,d=s.length,v=new Array(d),y=0;y<d;++y)v[y]=x*s[y]+g*p[y];return v}h.exports=function(s,u){for(var p=[],c=[],x=r(s[s.length-1],u),g=s[s.length-1],d=s[0],v=0;v<s.length;++v,g=d){var y=r(d=s[v],u);if(x<0&&y>0||x>0&&y<0){var m=l(g,y,d,x);p.push(m),c.push(m.slice())}y<0?c.push(d.slice()):y>0?p.push(d.slice()):(p.push(d.slice()),c.push(d.slice())),x=y}return{positive:p,negative:c}},h.exports.positive=function(s,u){for(var p=[],c=r(s[s.length-1],u),x=s[s.length-1],g=s[0],d=0;d<s.length;++d,x=g){var v=r(g=s[d],u);(c<0&&v>0||c>0&&v<0)&&p.push(l(x,v,g,c)),v>=0&&p.push(g.slice()),c=v}return p},h.exports.negative=function(s,u){for(var p=[],c=r(s[s.length-1],u),x=s[s.length-1],g=s[0],d=0;d<s.length;++d,x=g){var v=r(g=s[d],u);(c<0&&v>0||c>0&&v<0)&&p.push(l(x,v,g,c)),v<=0&&p.push(g.slice()),c=v}return p}},8974:function(h,o,t){var i;(function(){var n={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function r(u){return function(p,c){var x,g,d,v,y,m,w,f,S,T=1,E=p.length,O="";for(g=0;g<E;g++)if(typeof p[g]=="string")O+=p[g];else if(typeof p[g]=="object"){if((v=p[g]).keys)for(x=c[T],d=0;d<v.keys.length;d++){if(x==null)throw new Error(r('[sprintf] Cannot access property "%s" of undefined value "%s"',v.keys[d],v.keys[d-1]));x=x[v.keys[d]]}else x=v.param_no?c[v.param_no]:c[T++];if(n.not_type.test(v.type)&&n.not_primitive.test(v.type)&&x instanceof Function&&(x=x()),n.numeric_arg.test(v.type)&&typeof x!="number"&&isNaN(x))throw new TypeError(r("[sprintf] expecting number but found %T",x));switch(n.number.test(v.type)&&(f=x>=0),v.type){case"b":x=parseInt(x,10).toString(2);break;case"c":x=String.fromCharCode(parseInt(x,10));break;case"d":case"i":x=parseInt(x,10);break;case"j":x=JSON.stringify(x,null,v.width?parseInt(v.width):0);break;case"e":x=v.precision?parseFloat(x).toExponential(v.precision):parseFloat(x).toExponential();break;case"f":x=v.precision?parseFloat(x).toFixed(v.precision):parseFloat(x);break;case"g":x=v.precision?String(Number(x.toPrecision(v.precision))):parseFloat(x);break;case"o":x=(parseInt(x,10)>>>0).toString(8);break;case"s":x=String(x),x=v.precision?x.substring(0,v.precision):x;break;case"t":x=String(!!x),x=v.precision?x.substring(0,v.precision):x;break;case"T":x=Object.prototype.toString.call(x).slice(8,-1).toLowerCase(),x=v.precision?x.substring(0,v.precision):x;break;case"u":x=parseInt(x,10)>>>0;break;case"v":x=x.valueOf(),x=v.precision?x.substring(0,v.precision):x;break;case"x":x=(parseInt(x,10)>>>0).toString(16);break;case"X":x=(parseInt(x,10)>>>0).toString(16).toUpperCase()}n.json.test(v.type)?O+=x:(!n.number.test(v.type)||f&&!v.sign?S="":(S=f?"+":"-",x=x.toString().replace(n.sign,"")),m=v.pad_char?v.pad_char==="0"?"0":v.pad_char.charAt(1):" ",w=v.width-(S+x).length,y=v.width&&w>0?m.repeat(w):"",O+=v.align?S+x+y:m==="0"?S+y+x:y+S+x)}return O}(function(p){if(s[p])return s[p];for(var c,x=p,g=[],d=0;x;){if((c=n.text.exec(x))!==null)g.push(c[0]);else if((c=n.modulo.exec(x))!==null)g.push("%");else{if((c=n.placeholder.exec(x))===null)throw new SyntaxError("[sprintf] unexpected placeholder");if(c[2]){d|=1;var v=[],y=c[2],m=[];if((m=n.key.exec(y))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");for(v.push(m[1]);(y=y.substring(m[0].length))!=="";)if((m=n.key_access.exec(y))!==null)v.push(m[1]);else{if((m=n.index_access.exec(y))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");v.push(m[1])}c[2]=v}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");g.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}x=x.substring(c[0].length)}return s[p]=g}(u),arguments)}function l(u,p){return r.apply(null,[u].concat(p||[]))}var s=Object.create(null);o.sprintf=r,o.vsprintf=l,typeof window<"u"&&(window.sprintf=r,window.vsprintf=l,(i=(function(){return{sprintf:r,vsprintf:l}}).call(o,t,o,h))===void 0||(h.exports=i))})()},4162:function(h,o,t){h.exports=function(s,u){if(s.dimension<=0)return{positions:[],cells:[]};if(s.dimension===1)return function(x,g){for(var d=n(x,g),v=d.length,y=new Array(v),m=new Array(v),w=0;w<v;++w)y[w]=[d[w]],m[w]=[w];return{positions:y,cells:m}}(s,u);var p=s.order.join()+"-"+s.dtype,c=l[p];return u=+u||0,c||(c=l[p]=function(x,g){var d=x.length+"d",v=r[d];if(v)return v(i,x,g)}(s.order,s.dtype)),c(s,u)};var i=t(9284),n=t(9584),r={"2d":function(s,u,p){var c=s({order:u,scalarArguments:3,getters:p==="generic"?[0]:void 0,phase:function(x,g,d,v){return x>v|0},vertex:function(x,g,d,v,y,m,w,f,S,T,E,O,P){var I=(w<<0)+(f<<1)+(S<<2)+(T<<3)|0;if(I!==0&&I!==15)switch(I){case 0:case 15:E.push([x-.5,g-.5]);break;case 1:E.push([x-.25-.25*(v+d-2*P)/(d-v),g-.25-.25*(y+d-2*P)/(d-y)]);break;case 2:E.push([x-.75-.25*(-v-d+2*P)/(v-d),g-.25-.25*(m+v-2*P)/(v-m)]);break;case 3:E.push([x-.5,g-.5-.5*(y+d+m+v-4*P)/(d-y+v-m)]);break;case 4:E.push([x-.25-.25*(m+y-2*P)/(y-m),g-.75-.25*(-y-d+2*P)/(y-d)]);break;case 5:E.push([x-.5-.5*(v+d+m+y-4*P)/(d-v+y-m),g-.5]);break;case 6:E.push([x-.5-.25*(-v-d+m+y)/(v-d+y-m),g-.5-.25*(-y-d+m+v)/(y-d+v-m)]);break;case 7:E.push([x-.75-.25*(m+y-2*P)/(y-m),g-.75-.25*(m+v-2*P)/(v-m)]);break;case 8:E.push([x-.75-.25*(-m-y+2*P)/(m-y),g-.75-.25*(-m-v+2*P)/(m-v)]);break;case 9:E.push([x-.5-.25*(v+d+-m-y)/(d-v+m-y),g-.5-.25*(y+d+-m-v)/(d-y+m-v)]);break;case 10:E.push([x-.5-.5*(-v-d-m-y+4*P)/(v-d+m-y),g-.5]);break;case 11:E.push([x-.25-.25*(-m-y+2*P)/(m-y),g-.75-.25*(y+d-2*P)/(d-y)]);break;case 12:E.push([x-.5,g-.5-.5*(-y-d-m-v+4*P)/(y-d+m-v)]);break;case 13:E.push([x-.75-.25*(v+d-2*P)/(d-v),g-.25-.25*(-m-v+2*P)/(m-v)]);break;case 14:E.push([x-.25-.25*(-v-d+2*P)/(v-d),g-.25-.25*(-y-d+2*P)/(y-d)])}},cell:function(x,g,d,v,y,m,w,f,S){y?f.push([x,g]):f.push([g,x])}});return function(x,g){var d=[],v=[];return c(x,d,v,g),{positions:d,cells:v}}}},l={}},6946:function(h,o,t){h.exports=function l(s,u,p){p=p||{};var c=r[s];c||(c=r[s]={" ":{data:new Float32Array(0),shape:.2}});var x=c[u];if(!x)if(u.length<=1||!/\d/.test(u))x=c[u]=function(O){for(var P=O.cells,I=O.positions,z=new Float32Array(6*P.length),j=0,R=0,N=0;N<P.length;++N)for(var Z=P[N],F=0;F<3;++F){var U=I[Z[F]];z[j++]=U[0],z[j++]=U[1]+1.4,R=Math.max(U[0],R)}return{data:z,shape:R}}(i(u,{triangles:!0,font:s,textAlign:p.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var g=u.split(/(\d|\s)/),d=new Array(g.length),v=0,y=0,m=0;m<g.length;++m)d[m]=l(s,g[m]),v+=d[m].data.length,y+=d[m].shape,m>0&&(y+=.02);var w=new Float32Array(v),f=0,S=-.5*y;for(m=0;m<d.length;++m){for(var T=d[m].data,E=0;E<T.length;E+=2)w[f++]=T[E]+S,w[f++]=T[E+1];S+=d[m].shape+.02}x=c[u]={data:w,shape:y}}return x};var i=t(875),n=window||k.global||{},r=n.__TEXT_CACHE||{};n.__TEXT_CACHE={}},14:function(h,o,t){var i=t(4405);h.exports=l;var n=96;function r(s,u){var p=i(getComputedStyle(s).getPropertyValue(u));return p[0]*l(p[1],s)}function l(s,u){switch(u=u||document.body,s=(s||"px").trim().toLowerCase(),u!==window&&u!==document||(u=document.body),s){case"%":return u.clientHeight/100;case"ch":case"ex":return function(p,c){var x=document.createElement("div");x.style["font-size"]="128"+p,c.appendChild(x);var g=r(x,"font-size")/128;return c.removeChild(x),g}(s,u);case"em":return r(u,"font-size");case"rem":return r(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return n;case"cm":return n/2.54;case"mm":return n/25.4;case"pt":return n/72;case"pc":return n/6}return 1}},3440:function(h,o,t){h.exports=function(y){var m=(y=y||{}).center||[0,0,0],w=y.up||[0,1,0],f=y.right||x(w),S=y.radius||1,T=y.theta||0,E=y.phi||0;if(m=[].slice.call(m,0,3),w=[].slice.call(w,0,3),s(w,w),f=[].slice.call(f,0,3),s(f,f),"eye"in y){var O=y.eye,P=[O[0]-m[0],O[1]-m[1],O[2]-m[2]];l(f,P,w),p(f[0],f[1],f[2])<1e-6?f=x(w):s(f,f),S=p(P[0],P[1],P[2]);var I=u(w,P)/S,z=u(f,P)/S;E=Math.acos(I),T=Math.acos(z)}return S=Math.log(S),new g(y.zoomMin,y.zoomMax,m,w,f,S,T,E)};var i=t(8444),n=t(7437),r=t(4422),l=t(903),s=t(899),u=t(9305);function p(y,m,w){return Math.sqrt(Math.pow(y,2)+Math.pow(m,2)+Math.pow(w,2))}function c(y){return Math.min(1,Math.max(-1,y))}function x(y){var m=Math.abs(y[0]),w=Math.abs(y[1]),f=Math.abs(y[2]),S=[0,0,0];m>Math.max(w,f)?S[2]=1:w>Math.max(m,f)?S[0]=1:S[1]=1;for(var T=0,E=0,O=0;O<3;++O)T+=y[O]*y[O],E+=S[O]*y[O];for(O=0;O<3;++O)S[O]-=E/T*y[O];return s(S,S),S}function g(y,m,w,f,S,T,E,O){this.center=i(w),this.up=i(f),this.right=i(S),this.radius=i([T]),this.angle=i([E,O]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(y,m),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var P=0;P<16;++P)this.computedMatrix[P]=.5;this.recalcMatrix(0)}var d=g.prototype;d.setDistanceLimits=function(y,m){y=y>0?Math.log(y):-1/0,m=m>0?Math.log(m):1/0,m=Math.max(m,y),this.radius.bounds[0][0]=y,this.radius.bounds[1][0]=m},d.getDistanceLimits=function(y){var m=this.radius.bounds[0];return y?(y[0]=Math.exp(m[0][0]),y[1]=Math.exp(m[1][0]),y):[Math.exp(m[0][0]),Math.exp(m[1][0])]},d.recalcMatrix=function(y){this.center.curve(y),this.up.curve(y),this.right.curve(y),this.radius.curve(y),this.angle.curve(y);for(var m=this.computedUp,w=this.computedRight,f=0,S=0,T=0;T<3;++T)S+=m[T]*w[T],f+=m[T]*m[T];var E=Math.sqrt(f),O=0;for(T=0;T<3;++T)w[T]-=m[T]*S/f,O+=w[T]*w[T],m[T]/=E;var P=Math.sqrt(O);for(T=0;T<3;++T)w[T]/=P;var I=this.computedToward;l(I,m,w),s(I,I);var z=Math.exp(this.computedRadius[0]),j=this.computedAngle[0],R=this.computedAngle[1],N=Math.cos(j),Z=Math.sin(j),F=Math.cos(R),U=Math.sin(R),V=this.computedCenter,te=N*F,Q=Z*F,J=U,X=-N*U,K=-Z*U,ee=F,re=this.computedEye,ie=this.computedMatrix;for(T=0;T<3;++T){var ae=te*w[T]+Q*I[T]+J*m[T];ie[4*T+1]=X*w[T]+K*I[T]+ee*m[T],ie[4*T+2]=ae,ie[4*T+3]=0}var ue=ie[1],pe=ie[5],de=ie[9],ye=ie[2],be=ie[6],me=ie[10],Ee=pe*me-de*be,Te=de*ye-ue*me,we=ue*be-pe*ye,oe=p(Ee,Te,we);for(Ee/=oe,Te/=oe,we/=oe,ie[0]=Ee,ie[4]=Te,ie[8]=we,T=0;T<3;++T)re[T]=V[T]+ie[2+4*T]*z;for(T=0;T<3;++T){O=0;for(var se=0;se<3;++se)O+=ie[T+4*se]*re[se];ie[12+T]=-O}ie[15]=1},d.getMatrix=function(y,m){this.recalcMatrix(y);var w=this.computedMatrix;if(m){for(var f=0;f<16;++f)m[f]=w[f];return m}return w};var v=[0,0,0];d.rotate=function(y,m,w,f){if(this.angle.move(y,m,w),f){this.recalcMatrix(y);var S=this.computedMatrix;v[0]=S[2],v[1]=S[6],v[2]=S[10];for(var T=this.computedUp,E=this.computedRight,O=this.computedToward,P=0;P<3;++P)S[4*P]=T[P],S[4*P+1]=E[P],S[4*P+2]=O[P];for(r(S,S,f,v),P=0;P<3;++P)T[P]=S[4*P],E[P]=S[4*P+1];this.up.set(y,T[0],T[1],T[2]),this.right.set(y,E[0],E[1],E[2])}},d.pan=function(y,m,w,f){m=m||0,w=w||0,f=f||0,this.recalcMatrix(y);var S=this.computedMatrix,T=(Math.exp(this.computedRadius[0]),S[1]),E=S[5],O=S[9],P=p(T,E,O);T/=P,E/=P,O/=P;var I=S[0],z=S[4],j=S[8],R=I*T+z*E+j*O,N=p(I-=T*R,z-=E*R,j-=O*R),Z=(I/=N)*m+T*w,F=(z/=N)*m+E*w,U=(j/=N)*m+O*w;this.center.move(y,Z,F,U);var V=Math.exp(this.computedRadius[0]);V=Math.max(1e-4,V+f),this.radius.set(y,Math.log(V))},d.translate=function(y,m,w,f){this.center.move(y,m||0,w||0,f||0)},d.setMatrix=function(y,m,w,f){var S=1;typeof w=="number"&&(S=0|w),(S<0||S>3)&&(S=1);var T=(S+2)%3;m||(this.recalcMatrix(y),m=this.computedMatrix);var E=m[S],O=m[S+4],P=m[S+8];if(f){var I=Math.abs(E),z=Math.abs(O),j=Math.abs(P),R=Math.max(I,z,j);I===R?(E=E<0?-1:1,O=P=0):j===R?(P=P<0?-1:1,E=O=0):(O=O<0?-1:1,E=P=0)}else{var N=p(E,O,P);E/=N,O/=N,P/=N}var Z,F,U=m[T],V=m[T+4],te=m[T+8],Q=U*E+V*O+te*P,J=p(U-=E*Q,V-=O*Q,te-=P*Q),X=O*(te/=J)-P*(V/=J),K=P*(U/=J)-E*te,ee=E*V-O*U,re=p(X,K,ee);if(X/=re,K/=re,ee/=re,this.center.jump(y,Ae,Ce,Re),this.radius.idle(y),this.up.jump(y,E,O,P),this.right.jump(y,U,V,te),S===2){var ie=m[1],ae=m[5],ue=m[9],pe=ie*U+ae*V+ue*te,de=ie*X+ae*K+ue*ee;Z=Ee<0?-Math.PI/2:Math.PI/2,F=Math.atan2(de,pe)}else{var ye=m[2],be=m[6],me=m[10],Ee=ye*E+be*O+me*P,Te=ye*U+be*V+me*te,we=ye*X+be*K+me*ee;Z=Math.asin(c(Ee)),F=Math.atan2(we,Te)}this.angle.jump(y,F,Z),this.recalcMatrix(y);var oe=m[2],se=m[6],he=m[10],Se=this.computedMatrix;n(Se,m);var _e=Se[15],Ae=Se[12]/_e,Ce=Se[13]/_e,Re=Se[14]/_e,fe=Math.exp(this.computedRadius[0]);this.center.jump(y,Ae-oe*fe,Ce-se*fe,Re-he*fe)},d.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},d.idle=function(y){this.center.idle(y),this.up.idle(y),this.right.idle(y),this.radius.idle(y),this.angle.idle(y)},d.flush=function(y){this.center.flush(y),this.up.flush(y),this.right.flush(y),this.radius.flush(y),this.angle.flush(y)},d.setDistance=function(y,m){m>0&&this.radius.set(y,Math.log(m))},d.lookAt=function(y,m,w,f){this.recalcMatrix(y),m=m||this.computedEye,w=w||this.computedCenter;var S=(f=f||this.computedUp)[0],T=f[1],E=f[2],O=p(S,T,E);if(!(O<1e-6)){S/=O,T/=O,E/=O;var P=m[0]-w[0],I=m[1]-w[1],z=m[2]-w[2],j=p(P,I,z);if(!(j<1e-6)){P/=j,I/=j,z/=j;var R=this.computedRight,N=R[0],Z=R[1],F=R[2],U=S*N+T*Z+E*F,V=p(N-=U*S,Z-=U*T,F-=U*E);if(!(V<.01&&(V=p(N=T*z-E*I,Z=E*P-S*z,F=S*I-T*P))<1e-6)){N/=V,Z/=V,F/=V,this.up.set(y,S,T,E),this.right.set(y,N,Z,F),this.center.set(y,w[0],w[1],w[2]),this.radius.set(y,Math.log(j));var te=T*F-E*Z,Q=E*N-S*F,J=S*Z-T*N,X=p(te,Q,J),K=S*P+T*I+E*z,ee=N*P+Z*I+F*z,re=(te/=X)*P+(Q/=X)*I+(J/=X)*z,ie=Math.asin(c(K)),ae=Math.atan2(re,ee),ue=this.angle._state,pe=ue[ue.length-1],de=ue[ue.length-2];pe%=2*Math.PI;var ye=Math.abs(pe+2*Math.PI-ae),be=Math.abs(pe-ae),me=Math.abs(pe-2*Math.PI-ae);ye<be&&(pe+=2*Math.PI),me<be&&(pe-=2*Math.PI),this.angle.jump(this.angle.lastT(),pe,de),this.angle.set(y,ae,ie)}}}}},9660:function(h){h.exports=function(t,i,n){var r=t*i,l=o*t,s=l-(l-t),u=t-s,p=o*i,c=p-(p-i),x=i-c,g=u*x-(r-s*c-u*c-s*x);return n?(n[0]=g,n[1]=r,n):[g,r]};var o=+(Math.pow(2,27)+1)},87:function(h){h.exports=function(o,t,i){var n=o+t,r=n-o,l=t-r,s=o-(n-r);return i?(i[0]=s+l,i[1]=n,i):[s+l,n]}},5306:function(h,o,t){var i=t(2288),n=t(3094),r=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:n([32,0]),UINT16:n([32,0]),UINT32:n([32,0]),BIGUINT64:n([32,0]),INT8:n([32,0]),INT16:n([32,0]),INT32:n([32,0]),BIGINT64:n([32,0]),FLOAT:n([32,0]),DOUBLE:n([32,0]),DATA:n([32,0]),UINT8C:n([32,0]),BUFFER:n([32,0])});var l=typeof Uint8ClampedArray<"u",s=typeof BigUint64Array<"u",u=typeof BigInt64Array<"u",p=t.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=n([32,0])),p.BIGUINT64||(p.BIGUINT64=n([32,0])),p.BIGINT64||(p.BIGINT64=n([32,0])),p.BUFFER||(p.BUFFER=n([32,0]));var c=p.DATA,x=p.BUFFER;function g(R){if(R){var N=R.length||R.byteLength,Z=i.log2(N);c[Z].push(R)}}function d(R){R=i.nextPow2(R);var N=i.log2(R),Z=c[N];return Z.length>0?Z.pop():new ArrayBuffer(R)}function v(R){return new Uint8Array(d(R),0,R)}function y(R){return new Uint16Array(d(2*R),0,R)}function m(R){return new Uint32Array(d(4*R),0,R)}function w(R){return new Int8Array(d(R),0,R)}function f(R){return new Int16Array(d(2*R),0,R)}function S(R){return new Int32Array(d(4*R),0,R)}function T(R){return new Float32Array(d(4*R),0,R)}function E(R){return new Float64Array(d(8*R),0,R)}function O(R){return l?new Uint8ClampedArray(d(R),0,R):v(R)}function P(R){return s?new BigUint64Array(d(8*R),0,R):null}function I(R){return u?new BigInt64Array(d(8*R),0,R):null}function z(R){return new DataView(d(R),0,R)}function j(R){R=i.nextPow2(R);var N=i.log2(R),Z=x[N];return Z.length>0?Z.pop():new r(R)}o.free=function(R){if(r.isBuffer(R))x[i.log2(R.length)].push(R);else{if(Object.prototype.toString.call(R)!=="[object ArrayBuffer]"&&(R=R.buffer),!R)return;var N=R.length||R.byteLength,Z=0|i.log2(N);c[Z].push(R)}},o.freeUint8=o.freeUint16=o.freeUint32=o.freeBigUint64=o.freeInt8=o.freeInt16=o.freeInt32=o.freeBigInt64=o.freeFloat32=o.freeFloat=o.freeFloat64=o.freeDouble=o.freeUint8Clamped=o.freeDataView=function(R){g(R.buffer)},o.freeArrayBuffer=g,o.freeBuffer=function(R){x[i.log2(R.length)].push(R)},o.malloc=function(R,N){if(N===void 0||N==="arraybuffer")return d(R);switch(N){case"uint8":return v(R);case"uint16":return y(R);case"uint32":return m(R);case"int8":return w(R);case"int16":return f(R);case"int32":return S(R);case"float":case"float32":return T(R);case"double":case"float64":return E(R);case"uint8_clamped":return O(R);case"bigint64":return I(R);case"biguint64":return P(R);case"buffer":return j(R);case"data":case"dataview":return z(R);default:return null}return null},o.mallocArrayBuffer=d,o.mallocUint8=v,o.mallocUint16=y,o.mallocUint32=m,o.mallocInt8=w,o.mallocInt16=f,o.mallocInt32=S,o.mallocFloat32=o.mallocFloat=T,o.mallocFloat64=o.mallocDouble=E,o.mallocUint8Clamped=O,o.mallocBigUint64=P,o.mallocBigInt64=I,o.mallocDataView=z,o.mallocBuffer=j,o.clearCache=function(){for(var R=0;R<32;++R)p.UINT8[R].length=0,p.UINT16[R].length=0,p.UINT32[R].length=0,p.INT8[R].length=0,p.INT16[R].length=0,p.INT32[R].length=0,p.FLOAT[R].length=0,p.DOUBLE[R].length=0,p.BIGUINT64[R].length=0,p.BIGINT64[R].length=0,p.UINT8C[R].length=0,c[R].length=0,x[R].length=0}},1731:function(h){function o(i){this.roots=new Array(i),this.ranks=new Array(i);for(var n=0;n<i;++n)this.roots[n]=n,this.ranks[n]=0}h.exports=o;var t=o.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},t.find=function(i){for(var n=i,r=this.roots;r[i]!==i;)i=r[i];for(;r[n]!==i;){var l=r[n];r[n]=i,n=l}return i},t.link=function(i,n){var r=this.find(i),l=this.find(n);if(r!==l){var s=this.ranks,u=this.roots,p=s[r],c=s[l];p<c?u[r]=l:c<p?u[l]=r:(u[l]=r,++s[r])}}},1215:function(h){h.exports=function(o,t,i){return o.length===0?o:t?(i||o.sort(t),function(n,r){for(var l=1,s=n.length,u=n[0],p=n[0],c=1;c<s;++c)if(p=u,r(u=n[c],p)){if(c===l){l++;continue}n[l++]=u}return n.length=l,n}(o,t)):(i||o.sort(),function(n){for(var r=1,l=n.length,s=n[0],u=n[0],p=1;p<l;++p,u=s)if(u=s,(s=n[p])!==u){if(p===r){r++;continue}n[r++]=s}return n.length=r,n}(o))}},875:function(h,o,t){h.exports=function(l,s){return typeof s=="object"&&s!==null||(s={}),i(l,s.canvas||n,s.context||r,s)};var i=t(712),n=null,r=null;typeof document<"u"&&((n=document.createElement("canvas")).width=8192,n.height=1024,r=n.getContext("2d"))},712:function(h,o,t){h.exports=function(P,I,z,j){var R=64,N=1.25,Z={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return j&&(j.size&&j.size>0&&(R=j.size),j.lineSpacing&&j.lineSpacing>0&&(N=j.lineSpacing),j.styletags&&j.styletags.breaklines&&(Z.breaklines=!!j.styletags.breaklines),j.styletags&&j.styletags.bolds&&(Z.bolds=!!j.styletags.bolds),j.styletags&&j.styletags.italics&&(Z.italics=!!j.styletags.italics),j.styletags&&j.styletags.subscripts&&(Z.subscripts=!!j.styletags.subscripts),j.styletags&&j.styletags.superscripts&&(Z.superscripts=!!j.styletags.superscripts)),z.font=[j.fontStyle,j.fontVariant,j.fontWeight,R+"px",j.font].filter(function(F){return F}).join(" "),z.textAlign="start",z.textBaseline="alphabetic",z.direction="ltr",O(function(F,U,V,te,Q,J){V=V.replace(/\n/g,""),V=J.breaklines===!0?V.replace(/\<br\>/g,`
`):V.replace(/\<br\>/g," ");var X="",K=[];for(ae=0;ae<V.length;++ae)K[ae]=X;J.bolds===!0&&(K=S(p,c,V,K)),J.italics===!0&&(K=S(x,g,V,K)),J.superscripts===!0&&(K=S(d,y,V,K)),J.subscripts===!0&&(K=S(m,f,V,K));var ee=[],re="";for(ae=0;ae<V.length;++ae)K[ae]!==null&&(re+=V[ae],ee.push(K[ae]));var ie,ae,ue,pe,de,ye=re.split(`
`),be=ye.length,me=Math.round(Q*te),Ee=te,Te=2*te,we=0,oe=be*me+Te;F.height<oe&&(F.height=oe),U.fillStyle="#000",U.fillRect(0,0,F.width,F.height),U.fillStyle="#fff";var se=0,he="";function Se(){if(he!==""){var Ie=U.measureText(he).width;U.fillText(he,Ee+ue,Te+pe),ue+=Ie}}function _e(){return Math.round(de)+"px "}function Ae(Ie,Fe){var ze=""+U.font;if(J.subscripts===!0){var qe=Ie.indexOf(w),Ye=Fe.indexOf(w),Qe=qe>-1?parseInt(Ie[1+qe]):0,ft=Ye>-1?parseInt(Fe[1+Ye]):0;Qe!==ft&&(ze=ze.replace(_e(),"?px "),de*=Math.pow(.75,ft-Qe),ze=ze.replace("?px ",_e())),pe+=.25*me*(ft-Qe)}if(J.superscripts===!0){var ht=Ie.indexOf(v),mt=Fe.indexOf(v),Mt=ht>-1?parseInt(Ie[1+ht]):0,_t=mt>-1?parseInt(Fe[1+mt]):0;Mt!==_t&&(ze=ze.replace(_e(),"?px "),de*=Math.pow(.75,_t-Mt),ze=ze.replace("?px ",_e())),pe-=.25*me*(_t-Mt)}if(J.bolds===!0){var it=Ie.indexOf(c)>-1,st=Fe.indexOf(c)>-1;!it&&st&&(ze=St?ze.replace("italic ","italic bold "):"bold "+ze),it&&!st&&(ze=ze.replace("bold ",""))}if(J.italics===!0){var St=Ie.indexOf(g)>-1,zt=Fe.indexOf(g)>-1;!St&&zt&&(ze="italic "+ze),St&&!zt&&(ze=ze.replace("italic ",""))}U.font=ze}for(ie=0;ie<be;++ie){var Ce=ye[ie]+`
`;for(ue=0,pe=ie*me,de=te,he="",ae=0;ae<Ce.length;++ae){var Re=ae+se<ee.length?ee[ae+se]:ee[ee.length-1];X===Re?he+=Ce[ae]:(Se(),he=Ce[ae],Re!==void 0&&(Ae(X,Re),X=Re))}Se(),se+=Ce.length;var fe=0|Math.round(ue+2*Ee);we<fe&&(we=fe)}var xe=we,ke=Te+me*be;return n(U.getImageData(0,0,xe,ke).data,[ke,xe,4]).pick(-1,-1,0).transpose(1,0)}(I,z,P,R,N,Z),j,R)},h.exports.processPixels=O;var i=t(4162),n=t(5050),r=t(8243),l=t(197),s=t(7761),u=t(8040),p="b",c="b|",x="i",g="i|",d="sup",v="+",y="+1",m="sub",w="-",f="-1";function S(P,I,z,j){for(var R="<"+P+">",N="</"+P+">",Z=R.length,F=N.length,U=I[0]===v||I[0]===w,V=0,te=-F;V>-1&&(V=z.indexOf(R,V))!==-1&&(te=z.indexOf(N,V+Z))!==-1&&!(te<=V);){for(var Q=V;Q<te+F;++Q)if(Q<V+Z||Q>=te)j[Q]=null,z=z.substr(0,Q)+" "+z.substr(Q+1);else if(j[Q]!==null){var J=j[Q].indexOf(I[0]);J===-1?j[Q]+=I:U&&(j[Q]=j[Q].substr(0,J+1)+(1+parseInt(j[Q][J+1]))+j[Q].substr(J+2))}var X=V+Z,K=z.substr(X,te-X).indexOf(R);V=K!==-1?K:te+F}return j}function T(P,I){var z=i(P,128);return I?r(z.cells,z.positions,.25):{edges:z.cells,positions:z.positions}}function E(P,I,z,j){var R=T(P,j),N=function(ie,ae,ue){for(var pe=ae.textAlign||"start",de=ae.textBaseline||"alphabetic",ye=[1<<30,1<<30],be=[0,0],me=ie.length,Ee=0;Ee<me;++Ee)for(var Te=ie[Ee],we=0;we<2;++we)ye[we]=0|Math.min(ye[we],Te[we]),be[we]=0|Math.max(be[we],Te[we]);var oe=0;switch(pe){case"center":oe=-.5*(ye[0]+be[0]);break;case"right":case"end":oe=-be[0];break;case"left":case"start":oe=-ye[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+pe+"'")}var se=0;switch(de){case"hanging":case"top":se=-ye[1];break;case"middle":se=-.5*(ye[1]+be[1]);break;case"alphabetic":case"ideographic":se=-3*ue;break;case"bottom":se=-be[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+de+"'")}var he=1/ue;return"lineHeight"in ae?he*=+ae.lineHeight:"width"in ae?he=ae.width/(be[0]-ye[0]):"height"in ae&&(he=ae.height/(be[1]-ye[1])),ie.map(function(Se){return[he*(Se[0]+oe),he*(Se[1]+se)]})}(R.positions,I,z),Z=R.edges,F=I.orientation==="ccw";if(l(N,Z),I.polygons||I.polygon||I.polyline){for(var U=u(Z,N),V=new Array(U.length),te=0;te<U.length;++te){for(var Q=U[te],J=new Array(Q.length),X=0;X<Q.length;++X){for(var K=Q[X],ee=new Array(K.length),re=0;re<K.length;++re)ee[re]=N[K[re]].slice();F&&ee.reverse(),J[X]=ee}V[te]=J}return V}return I.triangles||I.triangulate||I.triangle?{cells:s(N,Z,{delaunay:!1,exterior:!1,interior:!0}),positions:N}:{edges:Z,positions:N}}function O(P,I,z){try{return E(P,I,z,!0)}catch{}try{return E(P,I,z,!1)}catch{}return I.polygons||I.polyline||I.polygon?[]:I.triangles||I.triangulate||I.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},5346:function(h){(function(){if(typeof ses>"u"||!ses.ok||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=m);var o=!1;if(typeof WeakMap=="function"){var t=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var i=new t,n=Object.freeze({});if(i.set(n,1),i.get(n)===1)return void(h.exports=WeakMap);o=!0}}var r=Object.getOwnPropertyNames,l=Object.defineProperty,s=Object.isExtensible,u="weakmap:",p=u+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),x=new Uint8Array(c);crypto.getRandomValues(x),p=u+"rand:"+Array.prototype.map.call(x,function(E){return(E%36).toString(36)}).join("")+"___"}if(l(Object,"getOwnPropertyNames",{value:function(E){return r(E).filter(w)}}),"getPropertyNames"in Object){var g=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(E){return g(E).filter(w)}})}(function(){var E=Object.freeze;l(Object,"freeze",{value:function(I){return f(I),E(I)}});var O=Object.seal;l(Object,"seal",{value:function(I){return f(I),O(I)}});var P=Object.preventExtensions;l(Object,"preventExtensions",{value:function(I){return f(I),P(I)}})})();var d=!1,v=0,y=function(){this instanceof y||T();var E=[],O=[],P=v++;return Object.create(y.prototype,{get___:{value:S(function(I,z){var j,R=f(I);return R?P in R?R[P]:z:(j=E.indexOf(I))>=0?O[j]:z})},has___:{value:S(function(I){var z=f(I);return z?P in z:E.indexOf(I)>=0})},set___:{value:S(function(I,z){var j,R=f(I);return R?R[P]=z:(j=E.indexOf(I))>=0?O[j]=z:(j=E.length,O[j]=z,E[j]=I),this})},delete___:{value:S(function(I){var z,j,R=f(I);return R?P in R&&delete R[P]:!((z=E.indexOf(I))<0||(j=E.length-1,E[z]=void 0,O[z]=O[j],E[z]=E[j],E.length=j,O.length=j,0))})}})};y.prototype=Object.create(Object.prototype,{get:{value:function(E,O){return this.get___(E,O)},writable:!0,configurable:!0},has:{value:function(E){return this.has___(E)},writable:!0,configurable:!0},set:{value:function(E,O){return this.set___(E,O)},writable:!0,configurable:!0},delete:{value:function(E){return this.delete___(E)},writable:!0,configurable:!0}}),typeof t=="function"?function(){function E(){this instanceof y||T();var O,P=new t,I=void 0,z=!1;return O=o?function(j,R){return P.set(j,R),P.has(j)||(I||(I=new y),I.set(j,R)),this}:function(j,R){if(z)try{P.set(j,R)}catch{I||(I=new y),I.set___(j,R)}else P.set(j,R);return this},Object.create(y.prototype,{get___:{value:S(function(j,R){return I?P.has(j)?P.get(j):I.get___(j,R):P.get(j,R)})},has___:{value:S(function(j){return P.has(j)||!!I&&I.has___(j)})},set___:{value:S(O)},delete___:{value:S(function(j){var R=!!P.delete(j);return I&&I.delete___(j)||R})},permitHostObjects___:{value:S(function(j){if(j!==m)throw new Error("bogus call to permitHostObjects___");z=!0})}})}o&&typeof Proxy<"u"&&(Proxy=void 0),E.prototype=y.prototype,h.exports=E,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),h.exports=y)}function m(E){E.permitHostObjects___&&E.permitHostObjects___(m)}function w(E){return!(E.substr(0,8)==u&&E.substr(E.length-3)==="___")}function f(E){if(E!==Object(E))throw new TypeError("Not an object: "+E);var O=E[p];if(O&&O.key===E)return O;if(s(E)){O={key:E};try{return l(E,p,{value:O,writable:!1,enumerable:!1,configurable:!1}),O}catch{return}}}function S(E){return E.prototype=null,Object.freeze(E)}function T(){d||typeof console>"u"||(d=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}})()},9222:function(h,o,t){var i=t(7178);h.exports=function(){var n={};return function(r){if((typeof r!="object"||r===null)&&typeof r!="function")throw new Error("Weakmap-shim: Key must be object");var l=r.valueOf(n);return l&&l.identity===n?l:i(r,n)}}},7178:function(h){h.exports=function(o,t){var i={identity:t},n=o.valueOf;return Object.defineProperty(o,"valueOf",{value:function(r){return r!==t?n.apply(this,arguments):i},writable:!0}),i}},4037:function(h,o,t){var i=t(9222);h.exports=function(){var n=i();return{get:function(r,l){var s=n(r);return s.hasOwnProperty("value")?s.value:l},set:function(r,l){return n(r).value=l,this},has:function(r){return"value"in n(r)},delete:function(r){return delete n(r).value}}}},6183:function(h){h.exports=function(o){var t={};return function(i,n,r){var l=i.dtype,s=i.order,u=[l,s.join()].join(),p=t[u];return p||(t[u]=p=o([l,s])),p(i.shape.slice(0),i.data,i.stride,0|i.offset,n,r)}}((function(){return function(o,t,i,n,r,l){var s=o[0],u=i[0],p=[0],c=u;n|=0;var x=0,g=u;for(x=0;x<s;++x){var d=t[n]-l,v=t[n+c]-l;d>=0!=v>=0&&r.push(p[0]+.5+.5*(d+v)/(d-v)),n+=g,++p[0]}}}).bind(void 0,{funcName:"zeroCrossings"}))},9584:function(h,o,t){h.exports=function(n,r){var l=[];return r=+r||0,i(n.hi(n.shape[0]-1),l,r),l};var i=t(6183)},6601:function(){}},_={};function b(h){var o=_[h];if(o!==void 0)return o.exports;var t=_[h]={id:h,loaded:!1,exports:{}};return a[h].call(t.exports,t,t.exports,b),t.loaded=!0,t.exports}return b.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),b.nmd=function(h){return h.paths=[],h.children||(h.children=[]),h},b(7386)}()},q.exports=M()},12856:function(q,C,e){function M(oe,se){for(var he=0;he<se.length;he++){var Se=se[he];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(oe,(_e=function(Ae,Ce){if(b(Ae)!=="object"||Ae===null)return Ae;var Re=Ae[Symbol.toPrimitive];if(Re!==void 0){var fe=Re.call(Ae,"string");if(b(fe)!=="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ae)}(Se.key),b(_e)==="symbol"?_e:String(_e)),Se)}var _e}function k(oe,se){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(he,Se){return he.__proto__=Se,he},k(oe,se)}function a(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}function _(oe){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(se){return se.__proto__||Object.getPrototypeOf(se)},_(oe)}function b(oe){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(se){return typeof se}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},b(oe)}var h=e(95341),o=e(95280),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;C.Buffer=r,C.SlowBuffer=function(oe){return+oe!=oe&&(oe=0),r.alloc(+oe)},C.INSPECT_MAX_BYTES=50;var i=2147483647;function n(oe){if(oe>i)throw new RangeError('The value "'+oe+'" is invalid for option "size"');var se=new Uint8Array(oe);return Object.setPrototypeOf(se,r.prototype),se}function r(oe,se,he){if(typeof oe=="number"){if(typeof se=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(oe)}return l(oe,se,he)}function l(oe,se,he){if(typeof oe=="string")return function(Ae,Ce){if(typeof Ce=="string"&&Ce!==""||(Ce="utf8"),!r.isEncoding(Ce))throw new TypeError("Unknown encoding: "+Ce);var Re=0|g(Ae,Ce),fe=n(Re),xe=fe.write(Ae,Ce);return xe!==Re&&(fe=fe.slice(0,xe)),fe}(oe,se);if(ArrayBuffer.isView(oe))return function(Ae){if(be(Ae,Uint8Array)){var Ce=new Uint8Array(Ae);return c(Ce.buffer,Ce.byteOffset,Ce.byteLength)}return p(Ae)}(oe);if(oe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(oe));if(be(oe,ArrayBuffer)||oe&&be(oe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(be(oe,SharedArrayBuffer)||oe&&be(oe.buffer,SharedArrayBuffer)))return c(oe,se,he);if(typeof oe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Se=oe.valueOf&&oe.valueOf();if(Se!=null&&Se!==oe)return r.from(Se,se,he);var _e=function(Ae){if(r.isBuffer(Ae)){var Ce=0|x(Ae.length),Re=n(Ce);return Re.length===0||Ae.copy(Re,0,0,Ce),Re}return Ae.length!==void 0?typeof Ae.length!="number"||me(Ae.length)?n(0):p(Ae):Ae.type==="Buffer"&&Array.isArray(Ae.data)?p(Ae.data):void 0}(oe);if(_e)return _e;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof oe[Symbol.toPrimitive]=="function")return r.from(oe[Symbol.toPrimitive]("string"),se,he);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(oe))}function s(oe){if(typeof oe!="number")throw new TypeError('"size" argument must be of type number');if(oe<0)throw new RangeError('The value "'+oe+'" is invalid for option "size"')}function u(oe){return s(oe),n(oe<0?0:0|x(oe))}function p(oe){for(var se=oe.length<0?0:0|x(oe.length),he=n(se),Se=0;Se<se;Se+=1)he[Se]=255&oe[Se];return he}function c(oe,se,he){if(se<0||oe.byteLength<se)throw new RangeError('"offset" is outside of buffer bounds');if(oe.byteLength<se+(he||0))throw new RangeError('"length" is outside of buffer bounds');var Se;return Se=se===void 0&&he===void 0?new Uint8Array(oe):he===void 0?new Uint8Array(oe,se):new Uint8Array(oe,se,he),Object.setPrototypeOf(Se,r.prototype),Se}function x(oe){if(oe>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|oe}function g(oe,se){if(r.isBuffer(oe))return oe.length;if(ArrayBuffer.isView(oe)||be(oe,ArrayBuffer))return oe.byteLength;if(typeof oe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+b(oe));var he=oe.length,Se=arguments.length>2&&arguments[2]===!0;if(!Se&&he===0)return 0;for(var _e=!1;;)switch(se){case"ascii":case"latin1":case"binary":return he;case"utf8":case"utf-8":return pe(oe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*he;case"hex":return he>>>1;case"base64":return de(oe).length;default:if(_e)return Se?-1:pe(oe).length;se=(""+se).toLowerCase(),_e=!0}}function d(oe,se,he){var Se=!1;if((se===void 0||se<0)&&(se=0),se>this.length||((he===void 0||he>this.length)&&(he=this.length),he<=0)||(he>>>=0)<=(se>>>=0))return"";for(oe||(oe="utf8");;)switch(oe){case"hex":return R(this,se,he);case"utf8":case"utf-8":return P(this,se,he);case"ascii":return z(this,se,he);case"latin1":case"binary":return j(this,se,he);case"base64":return O(this,se,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,se,he);default:if(Se)throw new TypeError("Unknown encoding: "+oe);oe=(oe+"").toLowerCase(),Se=!0}}function v(oe,se,he){var Se=oe[se];oe[se]=oe[he],oe[he]=Se}function y(oe,se,he,Se,_e){if(oe.length===0)return-1;if(typeof he=="string"?(Se=he,he=0):he>2147483647?he=2147483647:he<-2147483648&&(he=-2147483648),me(he=+he)&&(he=_e?0:oe.length-1),he<0&&(he=oe.length+he),he>=oe.length){if(_e)return-1;he=oe.length-1}else if(he<0){if(!_e)return-1;he=0}if(typeof se=="string"&&(se=r.from(se,Se)),r.isBuffer(se))return se.length===0?-1:m(oe,se,he,Se,_e);if(typeof se=="number")return se&=255,typeof Uint8Array.prototype.indexOf=="function"?_e?Uint8Array.prototype.indexOf.call(oe,se,he):Uint8Array.prototype.lastIndexOf.call(oe,se,he):m(oe,[se],he,Se,_e);throw new TypeError("val must be string, number or Buffer")}function m(oe,se,he,Se,_e){var Ae,Ce=1,Re=oe.length,fe=se.length;if(Se!==void 0&&((Se=String(Se).toLowerCase())==="ucs2"||Se==="ucs-2"||Se==="utf16le"||Se==="utf-16le")){if(oe.length<2||se.length<2)return-1;Ce=2,Re/=2,fe/=2,he/=2}function xe(ze,qe){return Ce===1?ze[qe]:ze.readUInt16BE(qe*Ce)}if(_e){var ke=-1;for(Ae=he;Ae<Re;Ae++)if(xe(oe,Ae)===xe(se,ke===-1?0:Ae-ke)){if(ke===-1&&(ke=Ae),Ae-ke+1===fe)return ke*Ce}else ke!==-1&&(Ae-=Ae-ke),ke=-1}else for(he+fe>Re&&(he=Re-fe),Ae=he;Ae>=0;Ae--){for(var Ie=!0,Fe=0;Fe<fe;Fe++)if(xe(oe,Ae+Fe)!==xe(se,Fe)){Ie=!1;break}if(Ie)return Ae}return-1}function w(oe,se,he,Se){he=Number(he)||0;var _e=oe.length-he;Se?(Se=Number(Se))>_e&&(Se=_e):Se=_e;var Ae,Ce=se.length;for(Se>Ce/2&&(Se=Ce/2),Ae=0;Ae<Se;++Ae){var Re=parseInt(se.substr(2*Ae,2),16);if(me(Re))return Ae;oe[he+Ae]=Re}return Ae}function f(oe,se,he,Se){return ye(pe(se,oe.length-he),oe,he,Se)}function S(oe,se,he,Se){return ye(function(_e){for(var Ae=[],Ce=0;Ce<_e.length;++Ce)Ae.push(255&_e.charCodeAt(Ce));return Ae}(se),oe,he,Se)}function T(oe,se,he,Se){return ye(de(se),oe,he,Se)}function E(oe,se,he,Se){return ye(function(_e,Ae){for(var Ce,Re,fe,xe=[],ke=0;ke<_e.length&&!((Ae-=2)<0);++ke)Re=(Ce=_e.charCodeAt(ke))>>8,fe=Ce%256,xe.push(fe),xe.push(Re);return xe}(se,oe.length-he),oe,he,Se)}function O(oe,se,he){return se===0&&he===oe.length?h.fromByteArray(oe):h.fromByteArray(oe.slice(se,he))}function P(oe,se,he){he=Math.min(oe.length,he);for(var Se=[],_e=se;_e<he;){var Ae=oe[_e],Ce=null,Re=Ae>239?4:Ae>223?3:Ae>191?2:1;if(_e+Re<=he){var fe=void 0,xe=void 0,ke=void 0,Ie=void 0;switch(Re){case 1:Ae<128&&(Ce=Ae);break;case 2:(192&(fe=oe[_e+1]))==128&&(Ie=(31&Ae)<<6|63&fe)>127&&(Ce=Ie);break;case 3:fe=oe[_e+1],xe=oe[_e+2],(192&fe)==128&&(192&xe)==128&&(Ie=(15&Ae)<<12|(63&fe)<<6|63&xe)>2047&&(Ie<55296||Ie>57343)&&(Ce=Ie);break;case 4:fe=oe[_e+1],xe=oe[_e+2],ke=oe[_e+3],(192&fe)==128&&(192&xe)==128&&(192&ke)==128&&(Ie=(15&Ae)<<18|(63&fe)<<12|(63&xe)<<6|63&ke)>65535&&Ie<1114112&&(Ce=Ie)}}Ce===null?(Ce=65533,Re=1):Ce>65535&&(Ce-=65536,Se.push(Ce>>>10&1023|55296),Ce=56320|1023&Ce),Se.push(Ce),_e+=Re}return function(Fe){var ze=Fe.length;if(ze<=I)return String.fromCharCode.apply(String,Fe);for(var qe="",Ye=0;Ye<ze;)qe+=String.fromCharCode.apply(String,Fe.slice(Ye,Ye+=I));return qe}(Se)}C.kMaxLength=i,r.TYPED_ARRAY_SUPPORT=function(){try{var oe=new Uint8Array(1),se={foo:function(){return 42}};return Object.setPrototypeOf(se,Uint8Array.prototype),Object.setPrototypeOf(oe,se),oe.foo()===42}catch{return!1}}(),r.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}}),r.poolSize=8192,r.from=function(oe,se,he){return l(oe,se,he)},Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array),r.alloc=function(oe,se,he){return function(Se,_e,Ae){return s(Se),Se<=0?n(Se):_e!==void 0?typeof Ae=="string"?n(Se).fill(_e,Ae):n(Se).fill(_e):n(Se)}(oe,se,he)},r.allocUnsafe=function(oe){return u(oe)},r.allocUnsafeSlow=function(oe){return u(oe)},r.isBuffer=function(oe){return oe!=null&&oe._isBuffer===!0&&oe!==r.prototype},r.compare=function(oe,se){if(be(oe,Uint8Array)&&(oe=r.from(oe,oe.offset,oe.byteLength)),be(se,Uint8Array)&&(se=r.from(se,se.offset,se.byteLength)),!r.isBuffer(oe)||!r.isBuffer(se))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(oe===se)return 0;for(var he=oe.length,Se=se.length,_e=0,Ae=Math.min(he,Se);_e<Ae;++_e)if(oe[_e]!==se[_e]){he=oe[_e],Se=se[_e];break}return he<Se?-1:Se<he?1:0},r.isEncoding=function(oe){switch(String(oe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(oe,se){if(!Array.isArray(oe))throw new TypeError('"list" argument must be an Array of Buffers');if(oe.length===0)return r.alloc(0);var he;if(se===void 0)for(se=0,he=0;he<oe.length;++he)se+=oe[he].length;var Se=r.allocUnsafe(se),_e=0;for(he=0;he<oe.length;++he){var Ae=oe[he];if(be(Ae,Uint8Array))_e+Ae.length>Se.length?(r.isBuffer(Ae)||(Ae=r.from(Ae)),Ae.copy(Se,_e)):Uint8Array.prototype.set.call(Se,Ae,_e);else{if(!r.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(Se,_e)}_e+=Ae.length}return Se},r.byteLength=g,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var oe=this.length;if(oe%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var se=0;se<oe;se+=2)v(this,se,se+1);return this},r.prototype.swap32=function(){var oe=this.length;if(oe%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var se=0;se<oe;se+=4)v(this,se,se+3),v(this,se+1,se+2);return this},r.prototype.swap64=function(){var oe=this.length;if(oe%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var se=0;se<oe;se+=8)v(this,se,se+7),v(this,se+1,se+6),v(this,se+2,se+5),v(this,se+3,se+4);return this},r.prototype.toString=function(){var oe=this.length;return oe===0?"":arguments.length===0?P(this,0,oe):d.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(oe){if(!r.isBuffer(oe))throw new TypeError("Argument must be a Buffer");return this===oe||r.compare(this,oe)===0},r.prototype.inspect=function(){var oe="",se=C.INSPECT_MAX_BYTES;return oe=this.toString("hex",0,se).replace(/(.{2})/g,"$1 ").trim(),this.length>se&&(oe+=" ... "),"<Buffer "+oe+">"},t&&(r.prototype[t]=r.prototype.inspect),r.prototype.compare=function(oe,se,he,Se,_e){if(be(oe,Uint8Array)&&(oe=r.from(oe,oe.offset,oe.byteLength)),!r.isBuffer(oe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+b(oe));if(se===void 0&&(se=0),he===void 0&&(he=oe?oe.length:0),Se===void 0&&(Se=0),_e===void 0&&(_e=this.length),se<0||he>oe.length||Se<0||_e>this.length)throw new RangeError("out of range index");if(Se>=_e&&se>=he)return 0;if(Se>=_e)return-1;if(se>=he)return 1;if(this===oe)return 0;for(var Ae=(_e>>>=0)-(Se>>>=0),Ce=(he>>>=0)-(se>>>=0),Re=Math.min(Ae,Ce),fe=this.slice(Se,_e),xe=oe.slice(se,he),ke=0;ke<Re;++ke)if(fe[ke]!==xe[ke]){Ae=fe[ke],Ce=xe[ke];break}return Ae<Ce?-1:Ce<Ae?1:0},r.prototype.includes=function(oe,se,he){return this.indexOf(oe,se,he)!==-1},r.prototype.indexOf=function(oe,se,he){return y(this,oe,se,he,!0)},r.prototype.lastIndexOf=function(oe,se,he){return y(this,oe,se,he,!1)},r.prototype.write=function(oe,se,he,Se){if(se===void 0)Se="utf8",he=this.length,se=0;else if(he===void 0&&typeof se=="string")Se=se,he=this.length,se=0;else{if(!isFinite(se))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");se>>>=0,isFinite(he)?(he>>>=0,Se===void 0&&(Se="utf8")):(Se=he,he=void 0)}var _e=this.length-se;if((he===void 0||he>_e)&&(he=_e),oe.length>0&&(he<0||se<0)||se>this.length)throw new RangeError("Attempt to write outside buffer bounds");Se||(Se="utf8");for(var Ae=!1;;)switch(Se){case"hex":return w(this,oe,se,he);case"utf8":case"utf-8":return f(this,oe,se,he);case"ascii":case"latin1":case"binary":return S(this,oe,se,he);case"base64":return T(this,oe,se,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,oe,se,he);default:if(Ae)throw new TypeError("Unknown encoding: "+Se);Se=(""+Se).toLowerCase(),Ae=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function z(oe,se,he){var Se="";he=Math.min(oe.length,he);for(var _e=se;_e<he;++_e)Se+=String.fromCharCode(127&oe[_e]);return Se}function j(oe,se,he){var Se="";he=Math.min(oe.length,he);for(var _e=se;_e<he;++_e)Se+=String.fromCharCode(oe[_e]);return Se}function R(oe,se,he){var Se=oe.length;(!se||se<0)&&(se=0),(!he||he<0||he>Se)&&(he=Se);for(var _e="",Ae=se;Ae<he;++Ae)_e+=Ee[oe[Ae]];return _e}function N(oe,se,he){for(var Se=oe.slice(se,he),_e="",Ae=0;Ae<Se.length-1;Ae+=2)_e+=String.fromCharCode(Se[Ae]+256*Se[Ae+1]);return _e}function Z(oe,se,he){if(oe%1!=0||oe<0)throw new RangeError("offset is not uint");if(oe+se>he)throw new RangeError("Trying to access beyond buffer length")}function F(oe,se,he,Se,_e,Ae){if(!r.isBuffer(oe))throw new TypeError('"buffer" argument must be a Buffer instance');if(se>_e||se<Ae)throw new RangeError('"value" argument is out of bounds');if(he+Se>oe.length)throw new RangeError("Index out of range")}function U(oe,se,he,Se,_e){re(se,Se,_e,oe,he,7);var Ae=Number(se&BigInt(4294967295));oe[he++]=Ae,Ae>>=8,oe[he++]=Ae,Ae>>=8,oe[he++]=Ae,Ae>>=8,oe[he++]=Ae;var Ce=Number(se>>BigInt(32)&BigInt(4294967295));return oe[he++]=Ce,Ce>>=8,oe[he++]=Ce,Ce>>=8,oe[he++]=Ce,Ce>>=8,oe[he++]=Ce,he}function V(oe,se,he,Se,_e){re(se,Se,_e,oe,he,7);var Ae=Number(se&BigInt(4294967295));oe[he+7]=Ae,Ae>>=8,oe[he+6]=Ae,Ae>>=8,oe[he+5]=Ae,Ae>>=8,oe[he+4]=Ae;var Ce=Number(se>>BigInt(32)&BigInt(4294967295));return oe[he+3]=Ce,Ce>>=8,oe[he+2]=Ce,Ce>>=8,oe[he+1]=Ce,Ce>>=8,oe[he]=Ce,he+8}function te(oe,se,he,Se,_e,Ae){if(he+Se>oe.length)throw new RangeError("Index out of range");if(he<0)throw new RangeError("Index out of range")}function Q(oe,se,he,Se,_e){return se=+se,he>>>=0,_e||te(oe,0,he,4),o.write(oe,se,he,Se,23,4),he+4}function J(oe,se,he,Se,_e){return se=+se,he>>>=0,_e||te(oe,0,he,8),o.write(oe,se,he,Se,52,8),he+8}r.prototype.slice=function(oe,se){var he=this.length;(oe=~~oe)<0?(oe+=he)<0&&(oe=0):oe>he&&(oe=he),(se=se===void 0?he:~~se)<0?(se+=he)<0&&(se=0):se>he&&(se=he),se<oe&&(se=oe);var Se=this.subarray(oe,se);return Object.setPrototypeOf(Se,r.prototype),Se},r.prototype.readUintLE=r.prototype.readUIntLE=function(oe,se,he){oe>>>=0,se>>>=0,he||Z(oe,se,this.length);for(var Se=this[oe],_e=1,Ae=0;++Ae<se&&(_e*=256);)Se+=this[oe+Ae]*_e;return Se},r.prototype.readUintBE=r.prototype.readUIntBE=function(oe,se,he){oe>>>=0,se>>>=0,he||Z(oe,se,this.length);for(var Se=this[oe+--se],_e=1;se>0&&(_e*=256);)Se+=this[oe+--se]*_e;return Se},r.prototype.readUint8=r.prototype.readUInt8=function(oe,se){return oe>>>=0,se||Z(oe,1,this.length),this[oe]},r.prototype.readUint16LE=r.prototype.readUInt16LE=function(oe,se){return oe>>>=0,se||Z(oe,2,this.length),this[oe]|this[oe+1]<<8},r.prototype.readUint16BE=r.prototype.readUInt16BE=function(oe,se){return oe>>>=0,se||Z(oe,2,this.length),this[oe]<<8|this[oe+1]},r.prototype.readUint32LE=r.prototype.readUInt32LE=function(oe,se){return oe>>>=0,se||Z(oe,4,this.length),(this[oe]|this[oe+1]<<8|this[oe+2]<<16)+16777216*this[oe+3]},r.prototype.readUint32BE=r.prototype.readUInt32BE=function(oe,se){return oe>>>=0,se||Z(oe,4,this.length),16777216*this[oe]+(this[oe+1]<<16|this[oe+2]<<8|this[oe+3])},r.prototype.readBigUInt64LE=Te(function(oe){ie(oe>>>=0,"offset");var se=this[oe],he=this[oe+7];se!==void 0&&he!==void 0||ae(oe,this.length-8);var Se=se+this[++oe]*Math.pow(2,8)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,24),_e=this[++oe]+this[++oe]*Math.pow(2,8)+this[++oe]*Math.pow(2,16)+he*Math.pow(2,24);return BigInt(Se)+(BigInt(_e)<<BigInt(32))}),r.prototype.readBigUInt64BE=Te(function(oe){ie(oe>>>=0,"offset");var se=this[oe],he=this[oe+7];se!==void 0&&he!==void 0||ae(oe,this.length-8);var Se=se*Math.pow(2,24)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,8)+this[++oe],_e=this[++oe]*Math.pow(2,24)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,8)+he;return(BigInt(Se)<<BigInt(32))+BigInt(_e)}),r.prototype.readIntLE=function(oe,se,he){oe>>>=0,se>>>=0,he||Z(oe,se,this.length);for(var Se=this[oe],_e=1,Ae=0;++Ae<se&&(_e*=256);)Se+=this[oe+Ae]*_e;return Se>=(_e*=128)&&(Se-=Math.pow(2,8*se)),Se},r.prototype.readIntBE=function(oe,se,he){oe>>>=0,se>>>=0,he||Z(oe,se,this.length);for(var Se=se,_e=1,Ae=this[oe+--Se];Se>0&&(_e*=256);)Ae+=this[oe+--Se]*_e;return Ae>=(_e*=128)&&(Ae-=Math.pow(2,8*se)),Ae},r.prototype.readInt8=function(oe,se){return oe>>>=0,se||Z(oe,1,this.length),128&this[oe]?-1*(255-this[oe]+1):this[oe]},r.prototype.readInt16LE=function(oe,se){oe>>>=0,se||Z(oe,2,this.length);var he=this[oe]|this[oe+1]<<8;return 32768&he?4294901760|he:he},r.prototype.readInt16BE=function(oe,se){oe>>>=0,se||Z(oe,2,this.length);var he=this[oe+1]|this[oe]<<8;return 32768&he?4294901760|he:he},r.prototype.readInt32LE=function(oe,se){return oe>>>=0,se||Z(oe,4,this.length),this[oe]|this[oe+1]<<8|this[oe+2]<<16|this[oe+3]<<24},r.prototype.readInt32BE=function(oe,se){return oe>>>=0,se||Z(oe,4,this.length),this[oe]<<24|this[oe+1]<<16|this[oe+2]<<8|this[oe+3]},r.prototype.readBigInt64LE=Te(function(oe){ie(oe>>>=0,"offset");var se=this[oe],he=this[oe+7];se!==void 0&&he!==void 0||ae(oe,this.length-8);var Se=this[oe+4]+this[oe+5]*Math.pow(2,8)+this[oe+6]*Math.pow(2,16)+(he<<24);return(BigInt(Se)<<BigInt(32))+BigInt(se+this[++oe]*Math.pow(2,8)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,24))}),r.prototype.readBigInt64BE=Te(function(oe){ie(oe>>>=0,"offset");var se=this[oe],he=this[oe+7];se!==void 0&&he!==void 0||ae(oe,this.length-8);var Se=(se<<24)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,8)+this[++oe];return(BigInt(Se)<<BigInt(32))+BigInt(this[++oe]*Math.pow(2,24)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,8)+he)}),r.prototype.readFloatLE=function(oe,se){return oe>>>=0,se||Z(oe,4,this.length),o.read(this,oe,!0,23,4)},r.prototype.readFloatBE=function(oe,se){return oe>>>=0,se||Z(oe,4,this.length),o.read(this,oe,!1,23,4)},r.prototype.readDoubleLE=function(oe,se){return oe>>>=0,se||Z(oe,8,this.length),o.read(this,oe,!0,52,8)},r.prototype.readDoubleBE=function(oe,se){return oe>>>=0,se||Z(oe,8,this.length),o.read(this,oe,!1,52,8)},r.prototype.writeUintLE=r.prototype.writeUIntLE=function(oe,se,he,Se){oe=+oe,se>>>=0,he>>>=0,Se||F(this,oe,se,he,Math.pow(2,8*he)-1,0);var _e=1,Ae=0;for(this[se]=255&oe;++Ae<he&&(_e*=256);)this[se+Ae]=oe/_e&255;return se+he},r.prototype.writeUintBE=r.prototype.writeUIntBE=function(oe,se,he,Se){oe=+oe,se>>>=0,he>>>=0,Se||F(this,oe,se,he,Math.pow(2,8*he)-1,0);var _e=he-1,Ae=1;for(this[se+_e]=255&oe;--_e>=0&&(Ae*=256);)this[se+_e]=oe/Ae&255;return se+he},r.prototype.writeUint8=r.prototype.writeUInt8=function(oe,se,he){return oe=+oe,se>>>=0,he||F(this,oe,se,1,255,0),this[se]=255&oe,se+1},r.prototype.writeUint16LE=r.prototype.writeUInt16LE=function(oe,se,he){return oe=+oe,se>>>=0,he||F(this,oe,se,2,65535,0),this[se]=255&oe,this[se+1]=oe>>>8,se+2},r.prototype.writeUint16BE=r.prototype.writeUInt16BE=function(oe,se,he){return oe=+oe,se>>>=0,he||F(this,oe,se,2,65535,0),this[se]=oe>>>8,this[se+1]=255&oe,se+2},r.prototype.writeUint32LE=r.prototype.writeUInt32LE=function(oe,se,he){return oe=+oe,se>>>=0,he||F(this,oe,se,4,4294967295,0),this[se+3]=oe>>>24,this[se+2]=oe>>>16,this[se+1]=oe>>>8,this[se]=255&oe,se+4},r.prototype.writeUint32BE=r.prototype.writeUInt32BE=function(oe,se,he){return oe=+oe,se>>>=0,he||F(this,oe,se,4,4294967295,0),this[se]=oe>>>24,this[se+1]=oe>>>16,this[se+2]=oe>>>8,this[se+3]=255&oe,se+4},r.prototype.writeBigUInt64LE=Te(function(oe){return U(this,oe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeBigUInt64BE=Te(function(oe){return V(this,oe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeIntLE=function(oe,se,he,Se){if(oe=+oe,se>>>=0,!Se){var _e=Math.pow(2,8*he-1);F(this,oe,se,he,_e-1,-_e)}var Ae=0,Ce=1,Re=0;for(this[se]=255&oe;++Ae<he&&(Ce*=256);)oe<0&&Re===0&&this[se+Ae-1]!==0&&(Re=1),this[se+Ae]=(oe/Ce>>0)-Re&255;return se+he},r.prototype.writeIntBE=function(oe,se,he,Se){if(oe=+oe,se>>>=0,!Se){var _e=Math.pow(2,8*he-1);F(this,oe,se,he,_e-1,-_e)}var Ae=he-1,Ce=1,Re=0;for(this[se+Ae]=255&oe;--Ae>=0&&(Ce*=256);)oe<0&&Re===0&&this[se+Ae+1]!==0&&(Re=1),this[se+Ae]=(oe/Ce>>0)-Re&255;return se+he},r.prototype.writeInt8=function(oe,se,he){return oe=+oe,se>>>=0,he||F(this,oe,se,1,127,-128),oe<0&&(oe=255+oe+1),this[se]=255&oe,se+1},r.prototype.writeInt16LE=function(oe,se,he){return oe=+oe,se>>>=0,he||F(this,oe,se,2,32767,-32768),this[se]=255&oe,this[se+1]=oe>>>8,se+2},r.prototype.writeInt16BE=function(oe,se,he){return oe=+oe,se>>>=0,he||F(this,oe,se,2,32767,-32768),this[se]=oe>>>8,this[se+1]=255&oe,se+2},r.prototype.writeInt32LE=function(oe,se,he){return oe=+oe,se>>>=0,he||F(this,oe,se,4,2147483647,-2147483648),this[se]=255&oe,this[se+1]=oe>>>8,this[se+2]=oe>>>16,this[se+3]=oe>>>24,se+4},r.prototype.writeInt32BE=function(oe,se,he){return oe=+oe,se>>>=0,he||F(this,oe,se,4,2147483647,-2147483648),oe<0&&(oe=4294967295+oe+1),this[se]=oe>>>24,this[se+1]=oe>>>16,this[se+2]=oe>>>8,this[se+3]=255&oe,se+4},r.prototype.writeBigInt64LE=Te(function(oe){return U(this,oe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeBigInt64BE=Te(function(oe){return V(this,oe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeFloatLE=function(oe,se,he){return Q(this,oe,se,!0,he)},r.prototype.writeFloatBE=function(oe,se,he){return Q(this,oe,se,!1,he)},r.prototype.writeDoubleLE=function(oe,se,he){return J(this,oe,se,!0,he)},r.prototype.writeDoubleBE=function(oe,se,he){return J(this,oe,se,!1,he)},r.prototype.copy=function(oe,se,he,Se){if(!r.isBuffer(oe))throw new TypeError("argument should be a Buffer");if(he||(he=0),Se||Se===0||(Se=this.length),se>=oe.length&&(se=oe.length),se||(se=0),Se>0&&Se<he&&(Se=he),Se===he||oe.length===0||this.length===0)return 0;if(se<0)throw new RangeError("targetStart out of bounds");if(he<0||he>=this.length)throw new RangeError("Index out of range");if(Se<0)throw new RangeError("sourceEnd out of bounds");Se>this.length&&(Se=this.length),oe.length-se<Se-he&&(Se=oe.length-se+he);var _e=Se-he;return this===oe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(se,he,Se):Uint8Array.prototype.set.call(oe,this.subarray(he,Se),se),_e},r.prototype.fill=function(oe,se,he,Se){if(typeof oe=="string"){if(typeof se=="string"?(Se=se,se=0,he=this.length):typeof he=="string"&&(Se=he,he=this.length),Se!==void 0&&typeof Se!="string")throw new TypeError("encoding must be a string");if(typeof Se=="string"&&!r.isEncoding(Se))throw new TypeError("Unknown encoding: "+Se);if(oe.length===1){var _e=oe.charCodeAt(0);(Se==="utf8"&&_e<128||Se==="latin1")&&(oe=_e)}}else typeof oe=="number"?oe&=255:typeof oe=="boolean"&&(oe=Number(oe));if(se<0||this.length<se||this.length<he)throw new RangeError("Out of range index");if(he<=se)return this;var Ae;if(se>>>=0,he=he===void 0?this.length:he>>>0,oe||(oe=0),typeof oe=="number")for(Ae=se;Ae<he;++Ae)this[Ae]=oe;else{var Ce=r.isBuffer(oe)?oe:r.from(oe,Se),Re=Ce.length;if(Re===0)throw new TypeError('The value "'+oe+'" is invalid for argument "value"');for(Ae=0;Ae<he-se;++Ae)this[Ae+se]=Ce[Ae%Re]}return this};var X={};function K(oe,se,he){X[oe]=function(Se){(function(ke,Ie){if(typeof Ie!="function"&&Ie!==null)throw new TypeError("Super expression must either be null or a function");ke.prototype=Object.create(Ie&&Ie.prototype,{constructor:{value:ke,writable:!0,configurable:!0}}),Object.defineProperty(ke,"prototype",{writable:!1}),Ie&&k(ke,Ie)})(xe,Se);var _e,Ae,Ce,Re,fe=(Ce=xe,Re=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ke,Ie=_(Ce);if(Re){var Fe=_(this).constructor;ke=Reflect.construct(Ie,arguments,Fe)}else ke=Ie.apply(this,arguments);return function(ze,qe){if(qe&&(b(qe)==="object"||typeof qe=="function"))return qe;if(qe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a(ze)}(this,ke)});function xe(){var ke;return function(Ie,Fe){if(!(Ie instanceof Fe))throw new TypeError("Cannot call a class as a function")}(this,xe),ke=fe.call(this),Object.defineProperty(a(ke),"message",{value:se.apply(a(ke),arguments),writable:!0,configurable:!0}),ke.name="".concat(ke.name," [").concat(oe,"]"),ke.stack,delete ke.name,ke}return _e=xe,(Ae=[{key:"code",get:function(){return oe},set:function(ke){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ke,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(oe,"]: ").concat(this.message)}}])&&M(_e.prototype,Ae),Object.defineProperty(_e,"prototype",{writable:!1}),xe}(he)}function ee(oe){for(var se="",he=oe.length,Se=oe[0]==="-"?1:0;he>=Se+4;he-=3)se="_".concat(oe.slice(he-3,he)).concat(se);return"".concat(oe.slice(0,he)).concat(se)}function re(oe,se,he,Se,_e,Ae){if(oe>he||oe<se){var Ce,Re=typeof se=="bigint"?"n":"";throw Ce=Ae>3?se===0||se===BigInt(0)?">= 0".concat(Re," and < 2").concat(Re," ** ").concat(8*(Ae+1)).concat(Re):">= -(2".concat(Re," ** ").concat(8*(Ae+1)-1).concat(Re,") and < 2 ** ")+"".concat(8*(Ae+1)-1).concat(Re):">= ".concat(se).concat(Re," and <= ").concat(he).concat(Re),new X.ERR_OUT_OF_RANGE("value",Ce,oe)}(function(fe,xe,ke){ie(xe,"offset"),fe[xe]!==void 0&&fe[xe+ke]!==void 0||ae(xe,fe.length-(ke+1))})(Se,_e,Ae)}function ie(oe,se){if(typeof oe!="number")throw new X.ERR_INVALID_ARG_TYPE(se,"number",oe)}function ae(oe,se,he){throw Math.floor(oe)!==oe?(ie(oe,he),new X.ERR_OUT_OF_RANGE(he||"offset","an integer",oe)):se<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE(he||"offset",">= ".concat(he?1:0," and <= ").concat(se),oe)}K("ERR_BUFFER_OUT_OF_BOUNDS",function(oe){return oe?"".concat(oe," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),K("ERR_INVALID_ARG_TYPE",function(oe,se){return'The "'.concat(oe,'" argument must be of type number. Received type ').concat(b(se))},TypeError),K("ERR_OUT_OF_RANGE",function(oe,se,he){var Se='The value of "'.concat(oe,'" is out of range.'),_e=he;return Number.isInteger(he)&&Math.abs(he)>Math.pow(2,32)?_e=ee(String(he)):typeof he=="bigint"&&(_e=String(he),(he>Math.pow(BigInt(2),BigInt(32))||he<-Math.pow(BigInt(2),BigInt(32)))&&(_e=ee(_e)),_e+="n"),Se+" It must be ".concat(se,". Received ").concat(_e)},RangeError);var ue=/[^+/0-9A-Za-z-_]/g;function pe(oe,se){var he;se=se||1/0;for(var Se=oe.length,_e=null,Ae=[],Ce=0;Ce<Se;++Ce){if((he=oe.charCodeAt(Ce))>55295&&he<57344){if(!_e){if(he>56319){(se-=3)>-1&&Ae.push(239,191,189);continue}if(Ce+1===Se){(se-=3)>-1&&Ae.push(239,191,189);continue}_e=he;continue}if(he<56320){(se-=3)>-1&&Ae.push(239,191,189),_e=he;continue}he=65536+(_e-55296<<10|he-56320)}else _e&&(se-=3)>-1&&Ae.push(239,191,189);if(_e=null,he<128){if((se-=1)<0)break;Ae.push(he)}else if(he<2048){if((se-=2)<0)break;Ae.push(he>>6|192,63&he|128)}else if(he<65536){if((se-=3)<0)break;Ae.push(he>>12|224,he>>6&63|128,63&he|128)}else{if(!(he<1114112))throw new Error("Invalid code point");if((se-=4)<0)break;Ae.push(he>>18|240,he>>12&63|128,he>>6&63|128,63&he|128)}}return Ae}function de(oe){return h.toByteArray(function(se){if((se=(se=se.split("=")[0]).trim().replace(ue,"")).length<2)return"";for(;se.length%4!=0;)se+="=";return se}(oe))}function ye(oe,se,he,Se){var _e;for(_e=0;_e<Se&&!(_e+he>=se.length||_e>=oe.length);++_e)se[_e+he]=oe[_e];return _e}function be(oe,se){return oe instanceof se||oe!=null&&oe.constructor!=null&&oe.constructor.name!=null&&oe.constructor.name===se.name}function me(oe){return oe!=oe}var Ee=function(){for(var oe="0123456789abcdef",se=new Array(256),he=0;he<16;++he)for(var Se=16*he,_e=0;_e<16;++_e)se[Se+_e]=oe[he]+oe[_e];return se}();function Te(oe){return typeof BigInt>"u"?we:oe}function we(){throw new Error("BigInt not supported")}},35791:function(q){q.exports=k,q.exports.isMobile=k,q.exports.default=k;var C=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,M=/android|ipad|playbook|silk/i;function k(a){a||(a={});var _=a.ua;if(_||typeof navigator>"u"||(_=navigator.userAgent),_&&_.headers&&typeof _.headers["user-agent"]=="string"&&(_=_.headers["user-agent"]),typeof _!="string")return!1;var b=C.test(_)&&!e.test(_)||!!a.tablet&&M.test(_);return!b&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&_.indexOf("Macintosh")!==-1&&_.indexOf("Safari")!==-1&&(b=!0),b}},86781:function(q,C,e){e.r(C),e.d(C,{sankeyCenter:function(){return n},sankeyCircular:function(){return O},sankeyJustify:function(){return i},sankeyLeft:function(){return o},sankeyRight:function(){return t}});var M=e(33064),k=e(15140),a=e(45879),_=e(2502),b=e.n(_);function h(ye){return ye.target.depth}function o(ye){return ye.depth}function t(ye,be){return be-1-ye.height}function i(ye,be){return ye.sourceLinks.length?ye.depth:be-1}function n(ye){return ye.targetLinks.length?ye.depth:ye.sourceLinks.length?(0,M.VV)(ye.sourceLinks,h)-1:0}function r(ye){return function(){return ye}}var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ye){return typeof ye}:function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye};function s(ye,be){return p(ye.source,be.source)||ye.index-be.index}function u(ye,be){return p(ye.target,be.target)||ye.index-be.index}function p(ye,be){return ye.partOfCycle===be.partOfCycle?ye.y0-be.y0:ye.circularLinkType==="top"||be.circularLinkType==="bottom"?-1:1}function c(ye){return ye.value}function x(ye){return(ye.y0+ye.y1)/2}function g(ye){return x(ye.source)}function d(ye){return x(ye.target)}function v(ye){return ye.index}function y(ye){return ye.nodes}function m(ye){return ye.links}function w(ye,be){var me=ye.get(be);if(!me)throw new Error("missing: "+be);return me}function f(ye,be){return be(ye)}var S=25,T=10,E=.3;function O(){var ye,be,me=0,Ee=0,Te=1,we=1,oe=24,se=v,he=i,Se=y,_e=m,Ae=32,Ce=2,Re=null;function fe(){var ke={nodes:Se.apply(null,arguments),links:_e.apply(null,arguments)};(function(Fe){Fe.nodes.forEach(function(qe,Ye){qe.index=Ye,qe.sourceLinks=[],qe.targetLinks=[]});var ze=(0,k.UI)(Fe.nodes,se);Fe.links.forEach(function(qe,Ye){qe.index=Ye;var Qe=qe.source,ft=qe.target;(Qe===void 0?"undefined":l(Qe))!=="object"&&(Qe=qe.source=w(ze,Qe)),(ft===void 0?"undefined":l(ft))!=="object"&&(ft=qe.target=w(ze,ft)),Qe.sourceLinks.push(qe),ft.targetLinks.push(qe)})})(ke),function(Fe,ze,qe){var Ye=0;if(qe===null){for(var Qe=[],ft=0;ft<Fe.links.length;ft++){var ht=Fe.links[ft],mt=ht.source.index,Mt=ht.target.index;Qe[mt]||(Qe[mt]=[]),Qe[Mt]||(Qe[Mt]=[]),Qe[mt].indexOf(Mt)===-1&&Qe[mt].push(Mt)}var _t=b()(Qe);_t.sort(function(St,zt){return St.length-zt.length});var it={};for(ft=0;ft<_t.length;ft++){var st=_t[ft].slice(-2);it[st[0]]||(it[st[0]]={}),it[st[0]][st[1]]=!0}Fe.links.forEach(function(St){var zt=St.target.index,Ft=St.source.index;zt===Ft||it[Ft]&&it[Ft][zt]?(St.circular=!0,St.circularLinkID=Ye,Ye+=1):St.circular=!1})}else Fe.links.forEach(function(St){St.source[qe]<St.target[qe]?St.circular=!1:(St.circular=!0,St.circularLinkID=Ye,Ye+=1)})}(ke,0,Re),function(Fe){Fe.nodes.forEach(function(ze){ze.partOfCycle=!1,ze.value=Math.max((0,M.Sm)(ze.sourceLinks,c),(0,M.Sm)(ze.targetLinks,c)),ze.sourceLinks.forEach(function(qe){qe.circular&&(ze.partOfCycle=!0,ze.circularLinkType=qe.circularLinkType)}),ze.targetLinks.forEach(function(qe){qe.circular&&(ze.partOfCycle=!0,ze.circularLinkType=qe.circularLinkType)})})}(ke),function(Fe){var ze,qe,Ye;for(ze=Fe.nodes,qe=[],Ye=0;ze.length;++Ye,ze=qe,qe=[])ze.forEach(function(Qe){Qe.depth=Ye,Qe.sourceLinks.forEach(function(ft){qe.indexOf(ft.target)<0&&!ft.circular&&qe.push(ft.target)})});for(ze=Fe.nodes,qe=[],Ye=0;ze.length;++Ye,ze=qe,qe=[])ze.forEach(function(Qe){Qe.height=Ye,Qe.targetLinks.forEach(function(ft){qe.indexOf(ft.source)<0&&!ft.circular&&qe.push(ft.source)})});Fe.nodes.forEach(function(Qe){Qe.column=Math.floor(he.call(null,Qe,Ye))})}(ke),P(ke,se),function(Fe,ze,qe){var Ye=(0,k.b1)().key(function(Mt){return Mt.column}).sortKeys(M.j2).entries(Fe.nodes).map(function(Mt){return Mt.values});(function(Mt){if(be){var _t=1/0;Ye.forEach(function(zt){var Ft=we*be/(zt.length+1);_t=Ft<_t?Ft:_t}),ye=_t}var it=(0,M.VV)(Ye,function(zt){return(we-Ee-(zt.length-1)*ye)/(0,M.Sm)(zt,c)});it*=E,Fe.links.forEach(function(zt){zt.width=zt.value*it});var st=function(zt){var Ft=0,Pt=0,Ze=0,Je=0,Ue=(0,M.Fp)(zt.nodes,function(Xe){return Xe.column});return zt.links.forEach(function(Xe){Xe.circular&&(Xe.circularLinkType=="top"?Ft+=Xe.width:Pt+=Xe.width,Xe.target.column==0&&(Je+=Xe.width),Xe.source.column==Ue&&(Ze+=Xe.width))}),{top:Ft=Ft>0?Ft+S+T:Ft,bottom:Pt=Pt>0?Pt+S+T:Pt,left:Je=Je>0?Je+S+T:Je,right:Ze=Ze>0?Ze+S+T:Ze}}(Fe),St=function(zt,Ft){var Pt=(0,M.Fp)(zt.nodes,function(lt){return lt.column}),Ze=Te-me,Je=we-Ee,Ue=Ze/(Ze+Ft.right+Ft.left),Xe=Je/(Je+Ft.top+Ft.bottom);return me=me*Ue+Ft.left,Te=Ft.right==0?Te:Te*Ue,Ee=Ee*Xe+Ft.top,we*=Xe,zt.nodes.forEach(function(lt){lt.x0=me+lt.column*((Te-me-oe)/Pt),lt.x1=lt.x0+oe}),Xe}(Fe,st);it*=St,Fe.links.forEach(function(zt){zt.width=zt.value*it}),Ye.forEach(function(zt){var Ft=zt.length;zt.forEach(function(Pt,Ze){Pt.depth==Ye.length-1&&Ft==1||Pt.depth==0&&Ft==1?(Pt.y0=we/2-Pt.value*it,Pt.y1=Pt.y0+Pt.value*it):Pt.partOfCycle?z(Pt,Mt)==0?(Pt.y0=we/2+Ze,Pt.y1=Pt.y0+Pt.value*it):Pt.circularLinkType=="top"?(Pt.y0=Ee+Ze,Pt.y1=Pt.y0+Pt.value*it):(Pt.y0=we-Pt.value*it-Ze,Pt.y1=Pt.y0+Pt.value*it):st.top==0||st.bottom==0?(Pt.y0=(we-Ee)/Ft*Ze,Pt.y1=Pt.y0+Pt.value*it):(Pt.y0=(we-Ee)/2-Ft/2+Ze,Pt.y1=Pt.y0+Pt.value*it)})})})(qe),mt();for(var Qe=1,ft=ze;ft>0;--ft)ht(Qe*=.99,qe),mt();function ht(Mt,_t){var it=Ye.length;Ye.forEach(function(st){var St=st.length,zt=st[0].depth;st.forEach(function(Ft){var Pt;if((Ft.sourceLinks.length||Ft.targetLinks.length)&&!(Ft.partOfCycle&&z(Ft,_t)>0))if(zt==0&&St==1)Pt=Ft.y1-Ft.y0,Ft.y0=we/2-Pt/2,Ft.y1=we/2+Pt/2;else if(zt==it-1&&St==1)Pt=Ft.y1-Ft.y0,Ft.y0=we/2-Pt/2,Ft.y1=we/2+Pt/2;else{var Ze=(0,M.J6)(Ft.sourceLinks,d),Je=(0,M.J6)(Ft.targetLinks,g),Ue=((Ze&&Je?(Ze+Je)/2:Ze||Je)-x(Ft))*Mt;Ft.y0+=Ue,Ft.y1+=Ue}})})}function mt(){Ye.forEach(function(Mt){var _t,it,st,St=Ee,zt=Mt.length;for(Mt.sort(p),st=0;st<zt;++st)(it=St-(_t=Mt[st]).y0)>0&&(_t.y0+=it,_t.y1+=it),St=_t.y1+ye;if((it=St-ye-we)>0)for(St=_t.y0-=it,_t.y1-=it,st=zt-2;st>=0;--st)(it=(_t=Mt[st]).y1+ye-St)>0&&(_t.y0-=it,_t.y1-=it),St=_t.y0})}}(ke,Ae,se),xe(ke);for(var Ie=0;Ie<4;Ie++)ie(ke,we,se),ae(ke,0,se),ee(ke,Ee,we,se),ie(ke,we,se),ae(ke,0,se);return function(Fe,ze,qe){var Ye=Fe.nodes,Qe=Fe.links,ft=!1,ht=!1;if(Qe.forEach(function(_t){_t.circularLinkType=="top"?ft=!0:_t.circularLinkType=="bottom"&&(ht=!0)}),ft==0||ht==0){var mt=(0,M.VV)(Ye,function(_t){return _t.y0}),Mt=(qe-ze)/((0,M.Fp)(Ye,function(_t){return _t.y1})-mt);Ye.forEach(function(_t){var it=(_t.y1-_t.y0)*Mt;_t.y0=(_t.y0-mt)*Mt,_t.y1=_t.y0+it}),Qe.forEach(function(_t){_t.y0=(_t.y0-mt)*Mt,_t.y1=(_t.y1-mt)*Mt,_t.width=_t.width*Mt})}}(ke,Ee,we),N(ke,Ce,we,se),ke}function xe(ke){ke.nodes.forEach(function(Ie){Ie.sourceLinks.sort(u),Ie.targetLinks.sort(s)}),ke.nodes.forEach(function(Ie){var Fe=Ie.y0,ze=Fe,qe=Ie.y1,Ye=qe;Ie.sourceLinks.forEach(function(Qe){Qe.circular?(Qe.y0=qe-Qe.width/2,qe-=Qe.width):(Qe.y0=Fe+Qe.width/2,Fe+=Qe.width)}),Ie.targetLinks.forEach(function(Qe){Qe.circular?(Qe.y1=Ye-Qe.width/2,Ye-=Qe.width):(Qe.y1=ze+Qe.width/2,ze+=Qe.width)})})}return fe.nodeId=function(ke){return arguments.length?(se=typeof ke=="function"?ke:r(ke),fe):se},fe.nodeAlign=function(ke){return arguments.length?(he=typeof ke=="function"?ke:r(ke),fe):he},fe.nodeWidth=function(ke){return arguments.length?(oe=+ke,fe):oe},fe.nodePadding=function(ke){return arguments.length?(ye=+ke,fe):ye},fe.nodes=function(ke){return arguments.length?(Se=typeof ke=="function"?ke:r(ke),fe):Se},fe.links=function(ke){return arguments.length?(_e=typeof ke=="function"?ke:r(ke),fe):_e},fe.size=function(ke){return arguments.length?(me=Ee=0,Te=+ke[0],we=+ke[1],fe):[Te-me,we-Ee]},fe.extent=function(ke){return arguments.length?(me=+ke[0][0],Te=+ke[1][0],Ee=+ke[0][1],we=+ke[1][1],fe):[[me,Ee],[Te,we]]},fe.iterations=function(ke){return arguments.length?(Ae=+ke,fe):Ae},fe.circularLinkGap=function(ke){return arguments.length?(Ce=+ke,fe):Ce},fe.nodePaddingRatio=function(ke){return arguments.length?(be=+ke,fe):be},fe.sortNodes=function(ke){return arguments.length?(Re=ke,fe):Re},fe.update=function(ke){return P(ke,se),xe(ke),ke.links.forEach(function(Ie){Ie.circular&&(Ie.circularLinkType=Ie.y0+Ie.y1<we?"top":"bottom",Ie.source.circularLinkType=Ie.circularLinkType,Ie.target.circularLinkType=Ie.circularLinkType)}),ie(ke,we,se,!1),ae(ke,0,se),N(ke,Ce,we,se),ke},fe}function P(ye,be){var me=0,Ee=0;ye.links.forEach(function(Te){Te.circular&&(Te.source.circularLinkType||Te.target.circularLinkType?Te.circularLinkType=Te.source.circularLinkType?Te.source.circularLinkType:Te.target.circularLinkType:Te.circularLinkType=me<Ee?"top":"bottom",Te.circularLinkType=="top"?me+=1:Ee+=1,ye.nodes.forEach(function(we){f(we,be)!=f(Te.source,be)&&f(we,be)!=f(Te.target,be)||(we.circularLinkType=Te.circularLinkType)}))}),ye.links.forEach(function(Te){Te.circular&&(Te.source.circularLinkType==Te.target.circularLinkType&&(Te.circularLinkType=Te.source.circularLinkType),de(Te,be)&&(Te.circularLinkType=Te.source.circularLinkType))})}function I(ye){var be=Math.abs(ye.y1-ye.y0),me=Math.abs(ye.target.x0-ye.source.x1);return Math.atan(me/be)}function z(ye,be){var me=0;ye.sourceLinks.forEach(function(Te){me=Te.circular&&!de(Te,be)?me+1:me});var Ee=0;return ye.targetLinks.forEach(function(Te){Ee=Te.circular&&!de(Te,be)?Ee+1:Ee}),me+Ee}function j(ye){var be=ye.source.sourceLinks,me=0;be.forEach(function(we){me=we.circular?me+1:me});var Ee=ye.target.targetLinks,Te=0;return Ee.forEach(function(we){Te=we.circular?Te+1:Te}),!(me>1||Te>1)}function R(ye,be,me){return ye.sort(Z),ye.forEach(function(Ee,Te){var we,oe,se=0;if(de(Ee,me)&&j(Ee))Ee.circularPathData.verticalBuffer=se+Ee.width/2;else{for(var he=0;he<Te;he++)if(we=ye[Te],oe=ye[he],!(we.source.column<oe.target.column||we.target.column>oe.source.column)){var Se=ye[he].circularPathData.verticalBuffer+ye[he].width/2+be;se=Se>se?Se:se}Ee.circularPathData.verticalBuffer=se+Ee.width/2}}),ye}function N(ye,be,me,Ee){var Te=(0,M.VV)(ye.links,function(we){return we.source.y0});ye.links.forEach(function(we){we.circular&&(we.circularPathData={})}),R(ye.links.filter(function(we){return we.circularLinkType=="top"}),be,Ee),R(ye.links.filter(function(we){return we.circularLinkType=="bottom"}),be,Ee),ye.links.forEach(function(we){if(we.circular){if(we.circularPathData.arcRadius=we.width+T,we.circularPathData.leftNodeBuffer=5,we.circularPathData.rightNodeBuffer=5,we.circularPathData.sourceWidth=we.source.x1-we.source.x0,we.circularPathData.sourceX=we.source.x0+we.circularPathData.sourceWidth,we.circularPathData.targetX=we.target.x0,we.circularPathData.sourceY=we.y0,we.circularPathData.targetY=we.y1,de(we,Ee)&&j(we))we.circularPathData.leftSmallArcRadius=T+we.width/2,we.circularPathData.leftLargeArcRadius=T+we.width/2,we.circularPathData.rightSmallArcRadius=T+we.width/2,we.circularPathData.rightLargeArcRadius=T+we.width/2,we.circularLinkType=="bottom"?(we.circularPathData.verticalFullExtent=we.source.y1+S+we.circularPathData.verticalBuffer,we.circularPathData.verticalLeftInnerExtent=we.circularPathData.verticalFullExtent-we.circularPathData.leftLargeArcRadius,we.circularPathData.verticalRightInnerExtent=we.circularPathData.verticalFullExtent-we.circularPathData.rightLargeArcRadius):(we.circularPathData.verticalFullExtent=we.source.y0-S-we.circularPathData.verticalBuffer,we.circularPathData.verticalLeftInnerExtent=we.circularPathData.verticalFullExtent+we.circularPathData.leftLargeArcRadius,we.circularPathData.verticalRightInnerExtent=we.circularPathData.verticalFullExtent+we.circularPathData.rightLargeArcRadius);else{var oe=we.source.column,se=we.circularLinkType,he=ye.links.filter(function(Ae){return Ae.source.column==oe&&Ae.circularLinkType==se});we.circularLinkType=="bottom"?he.sort(U):he.sort(F);var Se=0;he.forEach(function(Ae,Ce){Ae.circularLinkID==we.circularLinkID&&(we.circularPathData.leftSmallArcRadius=T+we.width/2+Se,we.circularPathData.leftLargeArcRadius=T+we.width/2+Ce*be+Se),Se+=Ae.width}),oe=we.target.column,he=ye.links.filter(function(Ae){return Ae.target.column==oe&&Ae.circularLinkType==se}),we.circularLinkType=="bottom"?he.sort(te):he.sort(V),Se=0,he.forEach(function(Ae,Ce){Ae.circularLinkID==we.circularLinkID&&(we.circularPathData.rightSmallArcRadius=T+we.width/2+Se,we.circularPathData.rightLargeArcRadius=T+we.width/2+Ce*be+Se),Se+=Ae.width}),we.circularLinkType=="bottom"?(we.circularPathData.verticalFullExtent=Math.max(me,we.source.y1,we.target.y1)+S+we.circularPathData.verticalBuffer,we.circularPathData.verticalLeftInnerExtent=we.circularPathData.verticalFullExtent-we.circularPathData.leftLargeArcRadius,we.circularPathData.verticalRightInnerExtent=we.circularPathData.verticalFullExtent-we.circularPathData.rightLargeArcRadius):(we.circularPathData.verticalFullExtent=Te-S-we.circularPathData.verticalBuffer,we.circularPathData.verticalLeftInnerExtent=we.circularPathData.verticalFullExtent+we.circularPathData.leftLargeArcRadius,we.circularPathData.verticalRightInnerExtent=we.circularPathData.verticalFullExtent+we.circularPathData.rightLargeArcRadius)}we.circularPathData.leftInnerExtent=we.circularPathData.sourceX+we.circularPathData.leftNodeBuffer,we.circularPathData.rightInnerExtent=we.circularPathData.targetX-we.circularPathData.rightNodeBuffer,we.circularPathData.leftFullExtent=we.circularPathData.sourceX+we.circularPathData.leftLargeArcRadius+we.circularPathData.leftNodeBuffer,we.circularPathData.rightFullExtent=we.circularPathData.targetX-we.circularPathData.rightLargeArcRadius-we.circularPathData.rightNodeBuffer}if(we.circular)we.path=function(Ae){return Ae.circularLinkType=="top"?"M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 0 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY-Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 0 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 0 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY-Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 0 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY:"M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 1 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY+Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 1 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 1 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY+Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 1 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY}(we);else{var _e=(0,a.h5)().source(function(Ae){return[Ae.source.x0+(Ae.source.x1-Ae.source.x0),Ae.y0]}).target(function(Ae){return[Ae.target.x0,Ae.y1]});we.path=_e(we)}})}function Z(ye,be){return Q(ye)==Q(be)?ye.circularLinkType=="bottom"?U(ye,be):F(ye,be):Q(be)-Q(ye)}function F(ye,be){return ye.y0-be.y0}function U(ye,be){return be.y0-ye.y0}function V(ye,be){return ye.y1-be.y1}function te(ye,be){return be.y1-ye.y1}function Q(ye){return ye.target.column-ye.source.column}function J(ye){return ye.target.x0-ye.source.x1}function X(ye,be){var me=I(ye),Ee=J(be)/Math.tan(me);return pe(ye)=="up"?ye.y1+Ee:ye.y1-Ee}function K(ye,be){var me=I(ye),Ee=J(be)/Math.tan(me);return pe(ye)=="up"?ye.y1-Ee:ye.y1+Ee}function ee(ye,be,me,Ee){ye.links.forEach(function(Te){if(!Te.circular&&Te.target.column-Te.source.column>1){var we=Te.source.column+1,oe=Te.target.column-1,se=1,he=oe-we+1;for(se=1;we<=oe;we++,se++)ye.nodes.forEach(function(Se){if(Se.column==we){var _e,Ae=se/(he+1),Ce=Math.pow(1-Ae,3),Re=3*Ae*Math.pow(1-Ae,2),fe=3*Math.pow(Ae,2)*(1-Ae),xe=Math.pow(Ae,3),ke=Ce*Te.y0+Re*Te.y0+fe*Te.y1+xe*Te.y1,Ie=ke-Te.width/2,Fe=ke+Te.width/2;Ie>Se.y0&&Ie<Se.y1?(_e=Se.y1-Ie+10,_e=Se.circularLinkType=="bottom"?_e:-_e,Se=re(Se,_e,be,me),ye.nodes.forEach(function(ze){var qe,Ye;f(ze,Ee)!=f(Se,Ee)&&ze.column==Se.column&&(Ye=ze,(qe=Se).y0>Ye.y0&&qe.y0<Ye.y1||qe.y1>Ye.y0&&qe.y1<Ye.y1||qe.y0<Ye.y0&&qe.y1>Ye.y1)&&re(ze,_e,be,me)})):(Fe>Se.y0&&Fe<Se.y1||Ie<Se.y0&&Fe>Se.y1)&&(_e=Fe-Se.y0+10,Se=re(Se,_e,be,me),ye.nodes.forEach(function(ze){f(ze,Ee)!=f(Se,Ee)&&ze.column==Se.column&&ze.y0<Se.y1&&ze.y1>Se.y1&&re(ze,_e,be,me)}))}})}})}function re(ye,be,me,Ee){return ye.y0+be>=me&&ye.y1+be<=Ee&&(ye.y0=ye.y0+be,ye.y1=ye.y1+be,ye.targetLinks.forEach(function(Te){Te.y1=Te.y1+be}),ye.sourceLinks.forEach(function(Te){Te.y0=Te.y0+be})),ye}function ie(ye,be,me,Ee){ye.nodes.forEach(function(Te){Ee&&Te.y+(Te.y1-Te.y0)>be&&(Te.y=Te.y-(Te.y+(Te.y1-Te.y0)-be));var we=ye.links.filter(function(he){return f(he.source,me)==f(Te,me)}),oe=we.length;oe>1&&we.sort(function(he,Se){if(!he.circular&&!Se.circular){if(he.target.column==Se.target.column||!ue(he,Se))return he.y1-Se.y1;if(he.target.column>Se.target.column){var _e=K(Se,he);return he.y1-_e}if(Se.target.column>he.target.column)return K(he,Se)-Se.y1}return he.circular&&!Se.circular?he.circularLinkType=="top"?-1:1:Se.circular&&!he.circular?Se.circularLinkType=="top"?1:-1:he.circular&&Se.circular?he.circularLinkType===Se.circularLinkType&&he.circularLinkType=="top"?he.target.column===Se.target.column?he.target.y1-Se.target.y1:Se.target.column-he.target.column:he.circularLinkType===Se.circularLinkType&&he.circularLinkType=="bottom"?he.target.column===Se.target.column?Se.target.y1-he.target.y1:he.target.column-Se.target.column:he.circularLinkType=="top"?-1:1:void 0});var se=Te.y0;we.forEach(function(he){he.y0=se+he.width/2,se+=he.width}),we.forEach(function(he,Se){if(he.circularLinkType=="bottom"){for(var _e=Se+1,Ae=0;_e<oe;_e++)Ae+=we[_e].width;he.y0=Te.y1-Ae-he.width/2}})})}function ae(ye,be,me){ye.nodes.forEach(function(Ee){var Te=ye.links.filter(function(se){return f(se.target,me)==f(Ee,me)}),we=Te.length;we>1&&Te.sort(function(se,he){if(!se.circular&&!he.circular){if(se.source.column==he.source.column||!ue(se,he))return se.y0-he.y0;if(he.source.column<se.source.column){var Se=X(he,se);return se.y0-Se}if(se.source.column<he.source.column)return X(se,he)-he.y0}return se.circular&&!he.circular?se.circularLinkType=="top"?-1:1:he.circular&&!se.circular?he.circularLinkType=="top"?1:-1:se.circular&&he.circular?se.circularLinkType===he.circularLinkType&&se.circularLinkType=="top"?se.source.column===he.source.column?se.source.y1-he.source.y1:se.source.column-he.source.column:se.circularLinkType===he.circularLinkType&&se.circularLinkType=="bottom"?se.source.column===he.source.column?se.source.y1-he.source.y1:he.source.column-se.source.column:se.circularLinkType=="top"?-1:1:void 0});var oe=Ee.y0;Te.forEach(function(se){se.y1=oe+se.width/2,oe+=se.width}),Te.forEach(function(se,he){if(se.circularLinkType=="bottom"){for(var Se=he+1,_e=0;Se<we;Se++)_e+=Te[Se].width;se.y1=Ee.y1-_e-se.width/2}})})}function ue(ye,be){return pe(ye)==pe(be)}function pe(ye){return ye.y0-ye.y1>0?"up":"down"}function de(ye,be){return f(ye.source,be)==f(ye.target,be)}},30838:function(q,C,e){e.r(C),e.d(C,{sankey:function(){return v},sankeyCenter:function(){return o},sankeyJustify:function(){return h},sankeyLeft:function(){return _},sankeyLinkHorizontal:function(){return f},sankeyRight:function(){return b}});var M=e(33064),k=e(15140);function a(S){return S.target.depth}function _(S){return S.depth}function b(S,T){return T-1-S.height}function h(S,T){return S.sourceLinks.length?S.depth:T-1}function o(S){return S.targetLinks.length?S.depth:S.sourceLinks.length?(0,M.VV)(S.sourceLinks,a)-1:0}function t(S){return function(){return S}}function i(S,T){return r(S.source,T.source)||S.index-T.index}function n(S,T){return r(S.target,T.target)||S.index-T.index}function r(S,T){return S.y0-T.y0}function l(S){return S.value}function s(S){return(S.y0+S.y1)/2}function u(S){return s(S.source)*S.value}function p(S){return s(S.target)*S.value}function c(S){return S.index}function x(S){return S.nodes}function g(S){return S.links}function d(S,T){var E=S.get(T);if(!E)throw new Error("missing: "+T);return E}function v(){var S=0,T=0,E=1,O=1,P=24,I=8,z=c,j=h,R=x,N=g,Z=32;function F(){var V={nodes:R.apply(null,arguments),links:N.apply(null,arguments)};return function(te){te.nodes.forEach(function(J,X){J.index=X,J.sourceLinks=[],J.targetLinks=[]});var Q=(0,k.UI)(te.nodes,z);te.links.forEach(function(J,X){J.index=X;var K=J.source,ee=J.target;typeof K!="object"&&(K=J.source=d(Q,K)),typeof ee!="object"&&(ee=J.target=d(Q,ee)),K.sourceLinks.push(J),ee.targetLinks.push(J)})}(V),function(te){te.nodes.forEach(function(Q){Q.value=Math.max((0,M.Sm)(Q.sourceLinks,l),(0,M.Sm)(Q.targetLinks,l))})}(V),function(te){var Q,J,X;for(Q=te.nodes,J=[],X=0;Q.length;++X,Q=J,J=[])Q.forEach(function(ee){ee.depth=X,ee.sourceLinks.forEach(function(re){J.indexOf(re.target)<0&&J.push(re.target)})});for(Q=te.nodes,J=[],X=0;Q.length;++X,Q=J,J=[])Q.forEach(function(ee){ee.height=X,ee.targetLinks.forEach(function(re){J.indexOf(re.source)<0&&J.push(re.source)})});var K=(E-S-P)/(X-1);te.nodes.forEach(function(ee){ee.x1=(ee.x0=S+Math.max(0,Math.min(X-1,Math.floor(j.call(null,ee,X))))*K)+P})}(V),function(te){var Q=(0,k.b1)().key(function(ie){return ie.x0}).sortKeys(M.j2).entries(te.nodes).map(function(ie){return ie.values});(function(){var ie=(0,M.Fp)(Q,function(pe){return pe.length}),ae=.6666666666666666*(O-T)/(ie-1);I>ae&&(I=ae);var ue=(0,M.VV)(Q,function(pe){return(O-T-(pe.length-1)*I)/(0,M.Sm)(pe,l)});Q.forEach(function(pe){pe.forEach(function(de,ye){de.y1=(de.y0=ye)+de.value*ue})}),te.links.forEach(function(pe){pe.width=pe.value*ue})})(),re();for(var J=1,X=Z;X>0;--X)ee(J*=.99),re(),K(J),re();function K(ie){Q.forEach(function(ae){ae.forEach(function(ue){if(ue.targetLinks.length){var pe=((0,M.Sm)(ue.targetLinks,u)/(0,M.Sm)(ue.targetLinks,l)-s(ue))*ie;ue.y0+=pe,ue.y1+=pe}})})}function ee(ie){Q.slice().reverse().forEach(function(ae){ae.forEach(function(ue){if(ue.sourceLinks.length){var pe=((0,M.Sm)(ue.sourceLinks,p)/(0,M.Sm)(ue.sourceLinks,l)-s(ue))*ie;ue.y0+=pe,ue.y1+=pe}})})}function re(){Q.forEach(function(ie){var ae,ue,pe,de=T,ye=ie.length;for(ie.sort(r),pe=0;pe<ye;++pe)(ue=de-(ae=ie[pe]).y0)>0&&(ae.y0+=ue,ae.y1+=ue),de=ae.y1+I;if((ue=de-I-O)>0)for(de=ae.y0-=ue,ae.y1-=ue,pe=ye-2;pe>=0;--pe)(ue=(ae=ie[pe]).y1+I-de)>0&&(ae.y0-=ue,ae.y1-=ue),de=ae.y0})}}(V),U(V),V}function U(V){V.nodes.forEach(function(te){te.sourceLinks.sort(n),te.targetLinks.sort(i)}),V.nodes.forEach(function(te){var Q=te.y0,J=Q;te.sourceLinks.forEach(function(X){X.y0=Q+X.width/2,Q+=X.width}),te.targetLinks.forEach(function(X){X.y1=J+X.width/2,J+=X.width})})}return F.update=function(V){return U(V),V},F.nodeId=function(V){return arguments.length?(z=typeof V=="function"?V:t(V),F):z},F.nodeAlign=function(V){return arguments.length?(j=typeof V=="function"?V:t(V),F):j},F.nodeWidth=function(V){return arguments.length?(P=+V,F):P},F.nodePadding=function(V){return arguments.length?(I=+V,F):I},F.nodes=function(V){return arguments.length?(R=typeof V=="function"?V:t(V),F):R},F.links=function(V){return arguments.length?(N=typeof V=="function"?V:t(V),F):N},F.size=function(V){return arguments.length?(S=T=0,E=+V[0],O=+V[1],F):[E-S,O-T]},F.extent=function(V){return arguments.length?(S=+V[0][0],E=+V[1][0],T=+V[0][1],O=+V[1][1],F):[[S,T],[E,O]]},F.iterations=function(V){return arguments.length?(Z=+V,F):Z},F}var y=e(45879);function m(S){return[S.source.x1,S.y0]}function w(S){return[S.target.x0,S.y1]}function f(){return(0,y.h5)().source(m).target(w)}},39898:function(q,C,e){var M,k;(function(){var a={version:"3.8.0"},_=[].slice,b=function(L){return _.call(L)},h=self.document;function o(L){return L&&(L.ownerDocument||L.document||L).documentElement}function t(L){return L&&(L.ownerDocument&&L.ownerDocument.defaultView||L.document&&L||L.defaultView)}if(h)try{b(h.documentElement.childNodes)[0].nodeType}catch{b=function(H){for(var $=H.length,ne=new Array($);$--;)ne[$]=H[$];return ne}}if(Date.now||(Date.now=function(){return+new Date}),h)try{h.createElement("DIV").style.setProperty("opacity",0,"")}catch{var i=this.Element.prototype,n=i.setAttribute,r=i.setAttributeNS,l=this.CSSStyleDeclaration.prototype,s=l.setProperty;i.setAttribute=function(H,$){n.call(this,H,$+"")},i.setAttributeNS=function(H,$,ne){r.call(this,H,$,ne+"")},l.setProperty=function(H,$,ne){s.call(this,H,$+"",ne)}}function u(L,H){return L<H?-1:L>H?1:L>=H?0:NaN}function p(L){return L===null?NaN:+L}function c(L){return!isNaN(L)}function x(L){return{left:function(H,$,ne,ce){for(arguments.length<3&&(ne=0),arguments.length<4&&(ce=H.length);ne<ce;){var ve=ne+ce>>>1;L(H[ve],$)<0?ne=ve+1:ce=ve}return ne},right:function(H,$,ne,ce){for(arguments.length<3&&(ne=0),arguments.length<4&&(ce=H.length);ne<ce;){var ve=ne+ce>>>1;L(H[ve],$)>0?ce=ve:ne=ve+1}return ne}}}a.ascending=u,a.descending=function(L,H){return H<L?-1:H>L?1:H>=L?0:NaN},a.min=function(L,H){var $,ne,ce=-1,ve=L.length;if(arguments.length===1){for(;++ce<ve;)if((ne=L[ce])!=null&&ne>=ne){$=ne;break}for(;++ce<ve;)(ne=L[ce])!=null&&$>ne&&($=ne)}else{for(;++ce<ve;)if((ne=H.call(L,L[ce],ce))!=null&&ne>=ne){$=ne;break}for(;++ce<ve;)(ne=H.call(L,L[ce],ce))!=null&&$>ne&&($=ne)}return $},a.max=function(L,H){var $,ne,ce=-1,ve=L.length;if(arguments.length===1){for(;++ce<ve;)if((ne=L[ce])!=null&&ne>=ne){$=ne;break}for(;++ce<ve;)(ne=L[ce])!=null&&ne>$&&($=ne)}else{for(;++ce<ve;)if((ne=H.call(L,L[ce],ce))!=null&&ne>=ne){$=ne;break}for(;++ce<ve;)(ne=H.call(L,L[ce],ce))!=null&&ne>$&&($=ne)}return $},a.extent=function(L,H){var $,ne,ce,ve=-1,Oe=L.length;if(arguments.length===1){for(;++ve<Oe;)if((ne=L[ve])!=null&&ne>=ne){$=ce=ne;break}for(;++ve<Oe;)(ne=L[ve])!=null&&($>ne&&($=ne),ce<ne&&(ce=ne))}else{for(;++ve<Oe;)if((ne=H.call(L,L[ve],ve))!=null&&ne>=ne){$=ce=ne;break}for(;++ve<Oe;)(ne=H.call(L,L[ve],ve))!=null&&($>ne&&($=ne),ce<ne&&(ce=ne))}return[$,ce]},a.sum=function(L,H){var $,ne=0,ce=L.length,ve=-1;if(arguments.length===1)for(;++ve<ce;)c($=+L[ve])&&(ne+=$);else for(;++ve<ce;)c($=+H.call(L,L[ve],ve))&&(ne+=$);return ne},a.mean=function(L,H){var $,ne=0,ce=L.length,ve=-1,Oe=ce;if(arguments.length===1)for(;++ve<ce;)c($=p(L[ve]))?ne+=$:--Oe;else for(;++ve<ce;)c($=p(H.call(L,L[ve],ve)))?ne+=$:--Oe;if(Oe)return ne/Oe},a.quantile=function(L,H){var $=(L.length-1)*H+1,ne=Math.floor($),ce=+L[ne-1],ve=$-ne;return ve?ce+ve*(L[ne]-ce):ce},a.median=function(L,H){var $,ne=[],ce=L.length,ve=-1;if(arguments.length===1)for(;++ve<ce;)c($=p(L[ve]))&&ne.push($);else for(;++ve<ce;)c($=p(H.call(L,L[ve],ve)))&&ne.push($);if(ne.length)return a.quantile(ne.sort(u),.5)},a.variance=function(L,H){var $,ne,ce=L.length,ve=0,Oe=0,De=-1,He=0;if(arguments.length===1)for(;++De<ce;)c($=p(L[De]))&&(Oe+=(ne=$-ve)*($-(ve+=ne/++He)));else for(;++De<ce;)c($=p(H.call(L,L[De],De)))&&(Oe+=(ne=$-ve)*($-(ve+=ne/++He)));if(He>1)return Oe/(He-1)},a.deviation=function(){var L=a.variance.apply(this,arguments);return L&&Math.sqrt(L)};var g=x(u);function d(L){return L.length}a.bisectLeft=g.left,a.bisect=a.bisectRight=g.right,a.bisector=function(L){return x(L.length===1?function(H,$){return u(L(H),$)}:L)},a.shuffle=function(L,H,$){(ve=arguments.length)<3&&($=L.length,ve<2&&(H=0));for(var ne,ce,ve=$-H;ve;)ce=Math.random()*ve--|0,ne=L[ve+H],L[ve+H]=L[ce+H],L[ce+H]=ne;return L},a.permute=function(L,H){for(var $=H.length,ne=new Array($);$--;)ne[$]=L[H[$]];return ne},a.pairs=function(L){for(var H=0,$=L.length-1,ne=L[0],ce=new Array($<0?0:$);H<$;)ce[H]=[ne,ne=L[++H]];return ce},a.transpose=function(L){if(!(ce=L.length))return[];for(var H=-1,$=a.min(L,d),ne=new Array($);++H<$;)for(var ce,ve=-1,Oe=ne[H]=new Array(ce);++ve<ce;)Oe[ve]=L[ve][H];return ne},a.zip=function(){return a.transpose(arguments)},a.keys=function(L){var H=[];for(var $ in L)H.push($);return H},a.values=function(L){var H=[];for(var $ in L)H.push(L[$]);return H},a.entries=function(L){var H=[];for(var $ in L)H.push({key:$,value:L[$]});return H},a.merge=function(L){for(var H,$,ne,ce=L.length,ve=-1,Oe=0;++ve<ce;)Oe+=L[ve].length;for($=new Array(Oe);--ce>=0;)for(H=(ne=L[ce]).length;--H>=0;)$[--Oe]=ne[H];return $};var v=Math.abs;function y(L,H){for(var $ in H)Object.defineProperty(L.prototype,$,{value:H[$],enumerable:!1})}function m(){this._=Object.create(null)}a.range=function(L,H,$){if(arguments.length<3&&($=1,arguments.length<2&&(H=L,L=0)),(H-L)/$==1/0)throw new Error("infinite range");var ne,ce=[],ve=function(De){for(var He=1;De*He%1;)He*=10;return He}(v($)),Oe=-1;if(L*=ve,H*=ve,($*=ve)<0)for(;(ne=L+$*++Oe)>H;)ce.push(ne/ve);else for(;(ne=L+$*++Oe)<H;)ce.push(ne/ve);return ce},a.map=function(L,H){var $=new m;if(L instanceof m)L.forEach(function(De,He){$.set(De,He)});else if(Array.isArray(L)){var ne,ce=-1,ve=L.length;if(arguments.length===1)for(;++ce<ve;)$.set(ce,L[ce]);else for(;++ce<ve;)$.set(H.call(L,ne=L[ce],ce),ne)}else for(var Oe in L)$.set(Oe,L[Oe]);return $};var w="__proto__",f="\0";function S(L){return(L+="")===w||L[0]===f?f+L:L}function T(L){return(L+="")[0]===f?L.slice(1):L}function E(L){return S(L)in this._}function O(L){return(L=S(L))in this._&&delete this._[L]}function P(){var L=[];for(var H in this._)L.push(T(H));return L}function I(){var L=0;for(var H in this._)++L;return L}function z(){for(var L in this._)return!1;return!0}function j(){this._=Object.create(null)}function R(L){return L}function N(L,H,$){return function(){var ne=$.apply(H,arguments);return ne===H?L:ne}}function Z(L,H){if(H in L)return H;H=H.charAt(0).toUpperCase()+H.slice(1);for(var $=0,ne=F.length;$<ne;++$){var ce=F[$]+H;if(ce in L)return ce}}y(m,{has:E,get:function(L){return this._[S(L)]},set:function(L,H){return this._[S(L)]=H},remove:O,keys:P,values:function(){var L=[];for(var H in this._)L.push(this._[H]);return L},entries:function(){var L=[];for(var H in this._)L.push({key:T(H),value:this._[H]});return L},size:I,empty:z,forEach:function(L){for(var H in this._)L.call(this,T(H),this._[H])}}),a.nest=function(){var L,H,$={},ne=[],ce=[];function ve(De,He,We){if(We>=ne.length)return H?H.call($,He):L?He.sort(L):He;for(var rt,pt,vt,kt,Ot=-1,Et=He.length,jt=ne[We++],It=new m;++Ot<Et;)(kt=It.get(rt=jt(pt=He[Ot])))?kt.push(pt):It.set(rt,[pt]);return De?(pt=De(),vt=function(Jt,Yt){pt.set(Jt,ve(De,Yt,We))}):(pt={},vt=function(Jt,Yt){pt[Jt]=ve(De,Yt,We)}),It.forEach(vt),pt}function Oe(De,He){if(He>=ne.length)return De;var We=[],rt=ce[He++];return De.forEach(function(pt,vt){We.push({key:pt,values:Oe(vt,He)})}),rt?We.sort(function(pt,vt){return rt(pt.key,vt.key)}):We}return $.map=function(De,He){return ve(He,De,0)},$.entries=function(De){return Oe(ve(a.map,De,0),0)},$.key=function(De){return ne.push(De),$},$.sortKeys=function(De){return ce[ne.length-1]=De,$},$.sortValues=function(De){return L=De,$},$.rollup=function(De){return H=De,$},$},a.set=function(L){var H=new j;if(L)for(var $=0,ne=L.length;$<ne;++$)H.add(L[$]);return H},y(j,{has:E,add:function(L){return this._[S(L+="")]=!0,L},remove:O,values:P,size:I,empty:z,forEach:function(L){for(var H in this._)L.call(this,T(H))}}),a.behavior={},a.rebind=function(L,H){for(var $,ne=1,ce=arguments.length;++ne<ce;)L[$=arguments[ne]]=N(L,H,H[$]);return L};var F=["webkit","ms","moz","Moz","o","O"];function U(){}function V(){}function te(L){var H=[],$=new m;function ne(){for(var ce,ve=H,Oe=-1,De=ve.length;++Oe<De;)(ce=ve[Oe].on)&&ce.apply(this,arguments);return L}return ne.on=function(ce,ve){var Oe,De=$.get(ce);return arguments.length<2?De&&De.on:(De&&(De.on=null,H=H.slice(0,Oe=H.indexOf(De)).concat(H.slice(Oe+1)),$.remove(ce)),ve&&H.push($.set(ce,{on:ve})),L)},ne}function Q(){a.event.preventDefault()}function J(){for(var L,H=a.event;L=H.sourceEvent;)H=L;return H}function X(L){for(var H=new V,$=0,ne=arguments.length;++$<ne;)H[arguments[$]]=te(H);return H.of=function(ce,ve){return function(Oe){try{var De=Oe.sourceEvent=a.event;Oe.target=L,a.event=Oe,H[Oe.type].apply(ce,ve)}finally{a.event=De}}},H}a.dispatch=function(){for(var L=new V,H=-1,$=arguments.length;++H<$;)L[arguments[H]]=te(L);return L},V.prototype.on=function(L,H){var $=L.indexOf("."),ne="";if($>=0&&(ne=L.slice($+1),L=L.slice(0,$)),L)return arguments.length<2?this[L].on(ne):this[L].on(ne,H);if(arguments.length===2){if(H==null)for(L in this)this.hasOwnProperty(L)&&this[L].on(ne,null);return this}},a.event=null,a.requote=function(L){return L.replace(K,"\\$&")};var K=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ee={}.__proto__?function(L,H){L.__proto__=H}:function(L,H){for(var $ in H)L[$]=H[$]};function re(L){return ee(L,pe),L}var ie=function(L,H){return H.querySelector(L)},ae=function(L,H){return H.querySelectorAll(L)},ue=function(L,H){var $=L.matches||L[Z(L,"matchesSelector")];return ue=function(ne,ce){return $.call(ne,ce)},ue(L,H)};typeof Sizzle=="function"&&(ie=function(L,H){return Sizzle(L,H)[0]||null},ae=Sizzle,ue=Sizzle.matchesSelector),a.selection=function(){return a.select(h.documentElement)};var pe=a.selection.prototype=[];function de(L){return typeof L=="function"?L:function(){return ie(L,this)}}function ye(L){return typeof L=="function"?L:function(){return ae(L,this)}}pe.select=function(L){var H,$,ne,ce,ve=[];L=de(L);for(var Oe=-1,De=this.length;++Oe<De;){ve.push(H=[]),H.parentNode=(ne=this[Oe]).parentNode;for(var He=-1,We=ne.length;++He<We;)(ce=ne[He])?(H.push($=L.call(ce,ce.__data__,He,Oe)),$&&"__data__"in ce&&($.__data__=ce.__data__)):H.push(null)}return re(ve)},pe.selectAll=function(L){var H,$,ne=[];L=ye(L);for(var ce=-1,ve=this.length;++ce<ve;)for(var Oe=this[ce],De=-1,He=Oe.length;++De<He;)($=Oe[De])&&(ne.push(H=b(L.call($,$.__data__,De,ce))),H.parentNode=$);return re(ne)};var be="http://www.w3.org/1999/xhtml",me={svg:"http://www.w3.org/2000/svg",xhtml:be,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ee(L,H){return L=a.ns.qualify(L),H==null?L.local?function(){this.removeAttributeNS(L.space,L.local)}:function(){this.removeAttribute(L)}:typeof H=="function"?L.local?function(){var $=H.apply(this,arguments);$==null?this.removeAttributeNS(L.space,L.local):this.setAttributeNS(L.space,L.local,$)}:function(){var $=H.apply(this,arguments);$==null?this.removeAttribute(L):this.setAttribute(L,$)}:L.local?function(){this.setAttributeNS(L.space,L.local,H)}:function(){this.setAttribute(L,H)}}function Te(L){return L.trim().replace(/\s+/g," ")}function we(L){return new RegExp("(?:^|\\s+)"+a.requote(L)+"(?:\\s+|$)","g")}function oe(L){return(L+"").trim().split(/^|\s+/)}function se(L,H){var $=(L=oe(L).map(he)).length;return typeof H=="function"?function(){for(var ne=-1,ce=H.apply(this,arguments);++ne<$;)L[ne](this,ce)}:function(){for(var ne=-1;++ne<$;)L[ne](this,H)}}function he(L){var H=we(L);return function($,ne){if(ce=$.classList)return ne?ce.add(L):ce.remove(L);var ce=$.getAttribute("class")||"";ne?(H.lastIndex=0,H.test(ce)||$.setAttribute("class",Te(ce+" "+L))):$.setAttribute("class",Te(ce.replace(H," ")))}}function Se(L,H,$){return H==null?function(){this.style.removeProperty(L)}:typeof H=="function"?function(){var ne=H.apply(this,arguments);ne==null?this.style.removeProperty(L):this.style.setProperty(L,ne,$)}:function(){this.style.setProperty(L,H,$)}}function _e(L,H){return H==null?function(){delete this[L]}:typeof H=="function"?function(){var $=H.apply(this,arguments);$==null?delete this[L]:this[L]=$}:function(){this[L]=H}}function Ae(L){return typeof L=="function"?L:(L=a.ns.qualify(L)).local?function(){return this.ownerDocument.createElementNS(L.space,L.local)}:function(){var H=this.ownerDocument,$=this.namespaceURI;return $===be&&H.documentElement.namespaceURI===be?H.createElement(L):H.createElementNS($,L)}}function Ce(){var L=this.parentNode;L&&L.removeChild(this)}function Re(L){return{__data__:L}}function fe(L){return function(){return ue(this,L)}}function xe(L){return arguments.length||(L=u),function(H,$){return H&&$?L(H.__data__,$.__data__):!H-!$}}function ke(L,H){for(var $=0,ne=L.length;$<ne;$++)for(var ce,ve=L[$],Oe=0,De=ve.length;Oe<De;Oe++)(ce=ve[Oe])&&H(ce,Oe,$);return L}function Ie(L){return ee(L,Fe),L}a.ns={prefix:me,qualify:function(L){var H=L.indexOf(":"),$=L;return H>=0&&($=L.slice(0,H))!=="xmlns"&&(L=L.slice(H+1)),me.hasOwnProperty($)?{space:me[$],local:L}:L}},pe.attr=function(L,H){if(arguments.length<2){if(typeof L=="string"){var $=this.node();return(L=a.ns.qualify(L)).local?$.getAttributeNS(L.space,L.local):$.getAttribute(L)}for(H in L)this.each(Ee(H,L[H]));return this}return this.each(Ee(L,H))},pe.classed=function(L,H){if(arguments.length<2){if(typeof L=="string"){var $=this.node(),ne=(L=oe(L)).length,ce=-1;if(H=$.classList){for(;++ce<ne;)if(!H.contains(L[ce]))return!1}else for(H=$.getAttribute("class");++ce<ne;)if(!we(L[ce]).test(H))return!1;return!0}for(H in L)this.each(se(H,L[H]));return this}return this.each(se(L,H))},pe.style=function(L,H,$){var ne=arguments.length;if(ne<3){if(typeof L!="string"){for($ in ne<2&&(H=""),L)this.each(Se($,L[$],H));return this}if(ne<2){var ce=this.node();return t(ce).getComputedStyle(ce,null).getPropertyValue(L)}$=""}return this.each(Se(L,H,$))},pe.property=function(L,H){if(arguments.length<2){if(typeof L=="string")return this.node()[L];for(H in L)this.each(_e(H,L[H]));return this}return this.each(_e(L,H))},pe.text=function(L){return arguments.length?this.each(typeof L=="function"?function(){var H=L.apply(this,arguments);this.textContent=H??""}:L==null?function(){this.textContent=""}:function(){this.textContent=L}):this.node().textContent},pe.html=function(L){return arguments.length?this.each(typeof L=="function"?function(){var H=L.apply(this,arguments);this.innerHTML=H??""}:L==null?function(){this.innerHTML=""}:function(){this.innerHTML=L}):this.node().innerHTML},pe.append=function(L){return L=Ae(L),this.select(function(){return this.appendChild(L.apply(this,arguments))})},pe.insert=function(L,H){return L=Ae(L),H=de(H),this.select(function(){return this.insertBefore(L.apply(this,arguments),H.apply(this,arguments)||null)})},pe.remove=function(){return this.each(Ce)},pe.data=function(L,H){var $,ne,ce=-1,ve=this.length;if(!arguments.length){for(L=new Array(ve=($=this[0]).length);++ce<ve;)(ne=$[ce])&&(L[ce]=ne.__data__);return L}function Oe(rt,pt){var vt,kt,Ot,Et=rt.length,jt=pt.length,It=Math.min(Et,jt),Jt=new Array(jt),Yt=new Array(jt),Ht=new Array(Et);if(H){var mn,yn=new m,In=new Array(Et);for(vt=-1;++vt<Et;)(kt=rt[vt])&&(yn.has(mn=H.call(kt,kt.__data__,vt))?Ht[vt]=kt:yn.set(mn,kt),In[vt]=mn);for(vt=-1;++vt<jt;)(kt=yn.get(mn=H.call(pt,Ot=pt[vt],vt)))?kt!==!0&&(Jt[vt]=kt,kt.__data__=Ot):Yt[vt]=Re(Ot),yn.set(mn,!0);for(vt=-1;++vt<Et;)vt in In&&yn.get(In[vt])!==!0&&(Ht[vt]=rt[vt])}else{for(vt=-1;++vt<It;)kt=rt[vt],Ot=pt[vt],kt?(kt.__data__=Ot,Jt[vt]=kt):Yt[vt]=Re(Ot);for(;vt<jt;++vt)Yt[vt]=Re(pt[vt]);for(;vt<Et;++vt)Ht[vt]=rt[vt]}Yt.update=Jt,Yt.parentNode=Jt.parentNode=Ht.parentNode=rt.parentNode,De.push(Yt),He.push(Jt),We.push(Ht)}var De=Ie([]),He=re([]),We=re([]);if(typeof L=="function")for(;++ce<ve;)Oe($=this[ce],L.call($,$.parentNode.__data__,ce));else for(;++ce<ve;)Oe($=this[ce],L);return He.enter=function(){return De},He.exit=function(){return We},He},pe.datum=function(L){return arguments.length?this.property("__data__",L):this.property("__data__")},pe.filter=function(L){var H,$,ne,ce=[];typeof L!="function"&&(L=fe(L));for(var ve=0,Oe=this.length;ve<Oe;ve++){ce.push(H=[]),H.parentNode=($=this[ve]).parentNode;for(var De=0,He=$.length;De<He;De++)(ne=$[De])&&L.call(ne,ne.__data__,De,ve)&&H.push(ne)}return re(ce)},pe.order=function(){for(var L=-1,H=this.length;++L<H;)for(var $,ne=this[L],ce=ne.length-1,ve=ne[ce];--ce>=0;)($=ne[ce])&&(ve&&ve!==$.nextSibling&&ve.parentNode.insertBefore($,ve),ve=$);return this},pe.sort=function(L){L=xe.apply(this,arguments);for(var H=-1,$=this.length;++H<$;)this[H].sort(L);return this.order()},pe.each=function(L){return ke(this,function(H,$,ne){L.call(H,H.__data__,$,ne)})},pe.call=function(L){var H=b(arguments);return L.apply(H[0]=this,H),this},pe.empty=function(){return!this.node()},pe.node=function(){for(var L=0,H=this.length;L<H;L++)for(var $=this[L],ne=0,ce=$.length;ne<ce;ne++){var ve=$[ne];if(ve)return ve}return null},pe.size=function(){var L=0;return ke(this,function(){++L}),L};var Fe=[];function ze(L,H,$){var ne="__on"+L,ce=L.indexOf("."),ve=Ye;ce>0&&(L=L.slice(0,ce));var Oe=qe.get(L);function De(){var He=this[ne];He&&(this.removeEventListener(L,He,He.$),delete this[ne])}return Oe&&(L=Oe,ve=Qe),ce?H?function(){var He=ve(H,b(arguments));De.call(this),this.addEventListener(L,this[ne]=He,He.$=$),He._=H}:De:H?U:function(){var He,We=new RegExp("^__on([^.]+)"+a.requote(L)+"$");for(var rt in this)if(He=rt.match(We)){var pt=this[rt];this.removeEventListener(He[1],pt,pt.$),delete this[rt]}}}a.selection.enter=Ie,a.selection.enter.prototype=Fe,Fe.append=pe.append,Fe.empty=pe.empty,Fe.node=pe.node,Fe.call=pe.call,Fe.size=pe.size,Fe.select=function(L){for(var H,$,ne,ce,ve,Oe=[],De=-1,He=this.length;++De<He;){ne=(ce=this[De]).update,Oe.push(H=[]),H.parentNode=ce.parentNode;for(var We=-1,rt=ce.length;++We<rt;)(ve=ce[We])?(H.push(ne[We]=$=L.call(ce.parentNode,ve.__data__,We,De)),$.__data__=ve.__data__):H.push(null)}return re(Oe)},Fe.insert=function(L,H){var $,ne,ce;return arguments.length<2&&($=this,H=function(ve,Oe,De){var He,We=$[De].update,rt=We.length;for(De!=ce&&(ce=De,ne=0),Oe>=ne&&(ne=Oe+1);!(He=We[ne])&&++ne<rt;);return He}),pe.insert.call(this,L,H)},a.select=function(L){var H;return typeof L=="string"?(H=[ie(L,h)]).parentNode=h.documentElement:(H=[L]).parentNode=o(L),re([H])},a.selectAll=function(L){var H;return typeof L=="string"?(H=b(ae(L,h))).parentNode=h.documentElement:(H=b(L)).parentNode=null,re([H])},pe.on=function(L,H,$){var ne=arguments.length;if(ne<3){if(typeof L!="string"){for($ in ne<2&&(H=!1),L)this.each(ze($,L[$],H));return this}if(ne<2)return(ne=this.node()["__on"+L])&&ne._;$=!1}return this.each(ze(L,H,$))};var qe=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Ye(L,H){return function($){var ne=a.event;a.event=$,H[0]=this.__data__;try{L.apply(this,H)}finally{a.event=ne}}}function Qe(L,H){var $=Ye(L,H);return function(ne){var ce=this,ve=ne.relatedTarget;ve&&(ve===ce||8&ve.compareDocumentPosition(ce))||$.call(ce,ne)}}h&&qe.forEach(function(L){"on"+L in h&&qe.remove(L)});var ft,ht=0;function mt(L){var H=".dragsuppress-"+ ++ht,$="click"+H,ne=a.select(t(L)).on("touchmove"+H,Q).on("dragstart"+H,Q).on("selectstart"+H,Q);if(ft==null&&(ft=!("onselectstart"in L)&&Z(L.style,"userSelect")),ft){var ce=o(L).style,ve=ce[ft];ce[ft]="none"}return function(Oe){if(ne.on(H,null),ft&&(ce[ft]=ve),Oe){var De=function(){ne.on($,null)};ne.on($,function(){Q(),De()},!0),setTimeout(De,0)}}}a.mouse=function(L){return _t(L,J())};var Mt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function _t(L,H){H.changedTouches&&(H=H.changedTouches[0]);var $=L.ownerSVGElement||L;if($.createSVGPoint){var ne=$.createSVGPoint();if(Mt<0){var ce=t(L);if(ce.scrollX||ce.scrollY){var ve=($=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Mt=!(ve.f||ve.e),$.remove()}}return Mt?(ne.x=H.pageX,ne.y=H.pageY):(ne.x=H.clientX,ne.y=H.clientY),[(ne=ne.matrixTransform(L.getScreenCTM().inverse())).x,ne.y]}var Oe=L.getBoundingClientRect();return[H.clientX-Oe.left-L.clientLeft,H.clientY-Oe.top-L.clientTop]}function it(){return a.event.changedTouches[0].identifier}a.touch=function(L,H,$){if(arguments.length<3&&($=H,H=J().changedTouches),H){for(var ne,ce=0,ve=H.length;ce<ve;++ce)if((ne=H[ce]).identifier===$)return _t(L,ne)}},a.behavior.drag=function(){var L=X(ce,"drag","dragstart","dragend"),H=null,$=ve(U,a.mouse,t,"mousemove","mouseup"),ne=ve(it,a.touch,R,"touchmove","touchend");function ce(){this.on("mousedown.drag",$).on("touchstart.drag",ne)}function ve(Oe,De,He,We,rt){return function(){var pt,vt=this,kt=a.event.target.correspondingElement||a.event.target,Ot=vt.parentNode,Et=L.of(vt,arguments),jt=0,It=Oe(),Jt=".drag"+(It==null?"":"-"+It),Yt=a.select(He(kt)).on(We+Jt,function(){var yn,In,Rn=De(Ot,It);Rn&&(yn=Rn[0]-mn[0],In=Rn[1]-mn[1],jt|=yn|In,mn=Rn,Et({type:"drag",x:Rn[0]+pt[0],y:Rn[1]+pt[1],dx:yn,dy:In}))}).on(rt+Jt,function(){De(Ot,It)&&(Yt.on(We+Jt,null).on(rt+Jt,null),Ht(jt),Et({type:"dragend"}))}),Ht=mt(kt),mn=De(Ot,It);pt=H?[(pt=H.apply(vt,arguments)).x-mn[0],pt.y-mn[1]]:[0,0],Et({type:"dragstart"})}}return ce.origin=function(Oe){return arguments.length?(H=Oe,ce):H},a.rebind(ce,L,"on")},a.touches=function(L,H){return arguments.length<2&&(H=J().touches),H?b(H).map(function($){var ne=_t(L,$);return ne.identifier=$.identifier,ne}):[]};var st=1e-6,St=st*st,zt=Math.PI,Ft=2*zt,Pt=Ft-st,Ze=zt/2,Je=zt/180,Ue=180/zt;function Xe(L){return L>1?Ze:L<-1?-Ze:Math.asin(L)}function lt(L){return((L=Math.exp(L))+1/L)/2}var ot=Math.SQRT2;a.interpolateZoom=function(L,H){var $,ne,ce=L[0],ve=L[1],Oe=L[2],De=H[0],He=H[1],We=H[2],rt=De-ce,pt=He-ve,vt=rt*rt+pt*pt;if(vt<St)ne=Math.log(We/Oe)/ot,$=function(Jt){return[ce+Jt*rt,ve+Jt*pt,Oe*Math.exp(ot*Jt*ne)]};else{var kt=Math.sqrt(vt),Ot=(We*We-Oe*Oe+4*vt)/(2*Oe*2*kt),Et=(We*We-Oe*Oe-4*vt)/(2*We*2*kt),jt=Math.log(Math.sqrt(Ot*Ot+1)-Ot),It=Math.log(Math.sqrt(Et*Et+1)-Et);ne=(It-jt)/ot,$=function(Jt){var Yt,Ht=Jt*ne,mn=lt(jt),yn=Oe/(2*kt)*(mn*(Yt=ot*Ht+jt,((Yt=Math.exp(2*Yt))-1)/(Yt+1))-function(In){return((In=Math.exp(In))-1/In)/2}(jt));return[ce+yn*rt,ve+yn*pt,Oe*mn/lt(ot*Ht+jt)]}}return $.duration=1e3*ne,$},a.behavior.zoom=function(){var L,H,$,ne,ce,ve,Oe,De,He,We={x:0,y:0,k:1},rt=[960,500],pt=at,vt=250,kt=0,Ot="mousedown.zoom",Et="mousemove.zoom",jt="mouseup.zoom",It="touchstart.zoom",Jt=X(Yt,"zoomstart","zoom","zoomend");function Yt($n){$n.on(Ot,Zn).on(Ne+".zoom",_r).on("dblclick.zoom",Or).on(It,lr)}function Ht($n){return[($n[0]-We.x)/We.k,($n[1]-We.y)/We.k]}function mn($n){We.k=Math.max(pt[0],Math.min(pt[1],$n))}function yn($n,sr){sr=function(Mr){return[Mr[0]*We.k+We.x,Mr[1]*We.k+We.y]}(sr),We.x+=$n[0]-sr[0],We.y+=$n[1]-sr[1]}function In($n,sr,Mr,pr){$n.__chart__={x:We.x,y:We.y,k:We.k},mn(Math.pow(2,pr)),yn(H=sr,Mr),$n=a.select($n),vt>0&&($n=$n.transition().duration(vt)),$n.call(Yt.event)}function Rn(){Oe&&Oe.domain(ve.range().map(function($n){return($n-We.x)/We.k}).map(ve.invert)),He&&He.domain(De.range().map(function($n){return($n-We.y)/We.k}).map(De.invert))}function Gn($n){kt++||$n({type:"zoomstart"})}function Qn($n){Rn(),$n({type:"zoom",scale:We.k,translate:[We.x,We.y]})}function hr($n){--kt||($n({type:"zoomend"}),H=null)}function Zn(){var $n=this,sr=Jt.of($n,arguments),Mr=0,pr=a.select(t($n)).on(Et,function(){Mr=1,yn(a.mouse($n),Er),Qn(sr)}).on(jt,function(){pr.on(Et,null).on(jt,null),zr(Mr),hr(sr)}),Er=Ht(a.mouse($n)),zr=mt($n);Xa.call($n),Gn(sr)}function lr(){var $n,sr=this,Mr=Jt.of(sr,arguments),pr={},Er=0,zr=".zoom-"+a.event.changedTouches[0].identifier,Yr="touchmove"+zr,Zr="touchend"+zr,Kr=[],ni=a.select(sr),Ai=mt(sr);function Gi(){var Pi=a.touches(sr);return $n=We.k,Pi.forEach(function(ii){ii.identifier in pr&&(pr[ii.identifier]=Ht(ii))}),Pi}function Aa(){var Pi=a.event.target;a.select(Pi).on(Yr,sa).on(Zr,xa),Kr.push(Pi);for(var ii=a.event.changedTouches,Bi=0,yi=ii.length;Bi<yi;++Bi)pr[ii[Bi].identifier]=null;var li=Gi(),Ni=Date.now();if(li.length===1){if(Ni-ce<500){var qi=li[0];In(sr,qi,pr[qi.identifier],Math.floor(Math.log(We.k)/Math.LN2)+1),Q()}ce=Ni}else if(li.length>1){qi=li[0];var ta=li[1],Xs=qi[0]-ta[0],Js=qi[1]-ta[1];Er=Xs*Xs+Js*Js}}function sa(){var Pi,ii,Bi,yi,li=a.touches(sr);Xa.call(sr);for(var Ni=0,qi=li.length;Ni<qi;++Ni,yi=null)if(Bi=li[Ni],yi=pr[Bi.identifier]){if(ii)break;Pi=Bi,ii=yi}if(yi){var ta=(ta=Bi[0]-Pi[0])*ta+(ta=Bi[1]-Pi[1])*ta,Xs=Er&&Math.sqrt(ta/Er);Pi=[(Pi[0]+Bi[0])/2,(Pi[1]+Bi[1])/2],ii=[(ii[0]+yi[0])/2,(ii[1]+yi[1])/2],mn(Xs*$n)}ce=null,yn(Pi,ii),Qn(Mr)}function xa(){if(a.event.touches.length){for(var Pi=a.event.changedTouches,ii=0,Bi=Pi.length;ii<Bi;++ii)delete pr[Pi[ii].identifier];for(var yi in pr)return void Gi()}a.selectAll(Kr).on(zr,null),ni.on(Ot,Zn).on(It,lr),Ai(),hr(Mr)}Aa(),Gn(Mr),ni.on(Ot,null).on(It,Aa)}function _r(){var $n=Jt.of(this,arguments);ne?clearTimeout(ne):(Xa.call(this),L=Ht(H=$||a.mouse(this)),Gn($n)),ne=setTimeout(function(){ne=null,hr($n)},50),Q(),mn(Math.pow(2,.002*Be())*We.k),yn(H,L),Qn($n)}function Or(){var $n=a.mouse(this),sr=Math.log(We.k)/Math.LN2;In(this,$n,Ht($n),a.event.shiftKey?Math.ceil(sr)-1:Math.floor(sr)+1)}return Ne||(Ne="onwheel"in h?(Be=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in h?(Be=function(){return a.event.wheelDelta},"mousewheel"):(Be=function(){return-a.event.detail},"MozMousePixelScroll")),Yt.event=function($n){$n.each(function(){var sr=Jt.of(this,arguments),Mr=We;Zi?a.select(this).transition().each("start.zoom",function(){We=this.__chart__||{x:0,y:0,k:1},Gn(sr)}).tween("zoom:zoom",function(){var pr=rt[0],Er=rt[1],zr=H?H[0]:pr/2,Yr=H?H[1]:Er/2,Zr=a.interpolateZoom([(zr-We.x)/We.k,(Yr-We.y)/We.k,pr/We.k],[(zr-Mr.x)/Mr.k,(Yr-Mr.y)/Mr.k,pr/Mr.k]);return function(Kr){var ni=Zr(Kr),Ai=pr/ni[2];this.__chart__=We={x:zr-ni[0]*Ai,y:Yr-ni[1]*Ai,k:Ai},Qn(sr)}}).each("interrupt.zoom",function(){hr(sr)}).each("end.zoom",function(){hr(sr)}):(this.__chart__=We,Gn(sr),Qn(sr),hr(sr))})},Yt.translate=function($n){return arguments.length?(We={x:+$n[0],y:+$n[1],k:We.k},Rn(),Yt):[We.x,We.y]},Yt.scale=function($n){return arguments.length?(We={x:We.x,y:We.y,k:null},mn(+$n),Rn(),Yt):We.k},Yt.scaleExtent=function($n){return arguments.length?(pt=$n==null?at:[+$n[0],+$n[1]],Yt):pt},Yt.center=function($n){return arguments.length?($=$n&&[+$n[0],+$n[1]],Yt):$},Yt.size=function($n){return arguments.length?(rt=$n&&[+$n[0],+$n[1]],Yt):rt},Yt.duration=function($n){return arguments.length?(vt=+$n,Yt):vt},Yt.x=function($n){return arguments.length?(Oe=$n,ve=$n.copy(),We={x:0,y:0,k:1},Yt):Oe},Yt.y=function($n){return arguments.length?(He=$n,De=$n.copy(),We={x:0,y:0,k:1},Yt):He},a.rebind(Yt,Jt,"on")};var Be,Ne,at=[0,1/0];function $e(){}function gt(L,H,$){return this instanceof gt?(this.h=+L,this.s=+H,void(this.l=+$)):arguments.length<2?L instanceof gt?new gt(L.h,L.s,L.l):cn(""+L,kn,gt):new gt(L,H,$)}a.color=$e,$e.prototype.toString=function(){return this.rgb()+""},a.hsl=gt;var yt=gt.prototype=new $e;function xt(L,H,$){var ne,ce;function ve(Oe){return Math.round(255*function(De){return De>360?De-=360:De<0&&(De+=360),De<60?ne+(ce-ne)*De/60:De<180?ce:De<240?ne+(ce-ne)*(240-De)/60:ne}(Oe))}return L=isNaN(L)?0:(L%=360)<0?L+360:L,H=isNaN(H)||H<0?0:H>1?1:H,ne=2*($=$<0?0:$>1?1:$)-(ce=$<=.5?$*(1+H):$+H-$*H),new Ln(ve(L+120),ve(L),ve(L-120))}function dt(L,H,$){return this instanceof dt?(this.h=+L,this.c=+H,void(this.l=+$)):arguments.length<2?L instanceof dt?new dt(L.h,L.c,L.l):function(ne,ce,ve){return ne>0?new dt(Math.atan2(ve,ce)*Ue,Math.sqrt(ce*ce+ve*ve),ne):new dt(NaN,NaN,ne)}(L instanceof bt?L.l:(L=An((L=a.rgb(L)).r,L.g,L.b)).l,L.a,L.b):new dt(L,H,$)}yt.brighter=function(L){return L=Math.pow(.7,arguments.length?L:1),new gt(this.h,this.s,this.l/L)},yt.darker=function(L){return L=Math.pow(.7,arguments.length?L:1),new gt(this.h,this.s,L*this.l)},yt.rgb=function(){return xt(this.h,this.s,this.l)},a.hcl=dt;var Lt=dt.prototype=new $e;function Tt(L,H,$){return isNaN(L)&&(L=0),isNaN(H)&&(H=0),new bt($,Math.cos(L*=Je)*H,Math.sin(L)*H)}function bt(L,H,$){return this instanceof bt?(this.l=+L,this.a=+H,void(this.b=+$)):arguments.length<2?L instanceof bt?new bt(L.l,L.a,L.b):L instanceof dt?Tt(L.h,L.c,L.l):An((L=Ln(L)).r,L.g,L.b):new bt(L,H,$)}Lt.brighter=function(L){return new dt(this.h,this.c,Math.min(100,this.l+Ct*(arguments.length?L:1)))},Lt.darker=function(L){return new dt(this.h,this.c,Math.max(0,this.l-Ct*(arguments.length?L:1)))},Lt.rgb=function(){return Tt(this.h,this.c,this.l).rgb()},a.lab=bt;var Ct=18,Dt=.95047,Bt=1,Xt=1.08883,an=bt.prototype=new $e;function Wt(L,H,$){var ne=(L+16)/116,ce=ne+H/500,ve=ne-$/200;return new Ln(Sn(3.2404542*(ce=Vt(ce)*Dt)-1.5371385*(ne=Vt(ne)*Bt)-.4985314*(ve=Vt(ve)*Xt)),Sn(-.969266*ce+1.8760108*ne+.041556*ve),Sn(.0556434*ce-.2040259*ne+1.0572252*ve))}function Vt(L){return L>.206893034?L*L*L:(L-.13793103448275862)/7.787037}function on(L){return L>.008856?Math.pow(L,.3333333333333333):7.787037*L+.13793103448275862}function Sn(L){return Math.round(255*(L<=.00304?12.92*L:1.055*Math.pow(L,.4166666666666667)-.055))}function Ln(L,H,$){return this instanceof Ln?(this.r=~~L,this.g=~~H,void(this.b=~~$)):arguments.length<2?L instanceof Ln?new Ln(L.r,L.g,L.b):cn(""+L,Ln,xt):new Ln(L,H,$)}function fn(L){return new Ln(L>>16,L>>8&255,255&L)}function Zt(L){return fn(L)+""}an.brighter=function(L){return new bt(Math.min(100,this.l+Ct*(arguments.length?L:1)),this.a,this.b)},an.darker=function(L){return new bt(Math.max(0,this.l-Ct*(arguments.length?L:1)),this.a,this.b)},an.rgb=function(){return Wt(this.l,this.a,this.b)},a.rgb=Ln;var ln=Ln.prototype=new $e;function nn(L){return L<16?"0"+Math.max(0,L).toString(16):Math.min(255,L).toString(16)}function cn(L,H,$){var ne,ce,ve,Oe=0,De=0,He=0;if(ne=/([a-z]+)\((.*)\)/.exec(L=L.toLowerCase()))switch(ce=ne[2].split(","),ne[1]){case"hsl":return $(parseFloat(ce[0]),parseFloat(ce[1])/100,parseFloat(ce[2])/100);case"rgb":return H(Cn(ce[0]),Cn(ce[1]),Cn(ce[2]))}return(ve=_n.get(L))?H(ve.r,ve.g,ve.b):(L==null||L.charAt(0)!=="#"||isNaN(ve=parseInt(L.slice(1),16))||(L.length===4?(Oe=(3840&ve)>>4,Oe|=Oe>>4,De=240&ve,De|=De>>4,He=15&ve,He|=He<<4):L.length===7&&(Oe=(16711680&ve)>>16,De=(65280&ve)>>8,He=255&ve)),H(Oe,De,He))}function kn(L,H,$){var ne,ce,ve=Math.min(L/=255,H/=255,$/=255),Oe=Math.max(L,H,$),De=Oe-ve,He=(Oe+ve)/2;return De?(ce=He<.5?De/(Oe+ve):De/(2-Oe-ve),ne=L==Oe?(H-$)/De+(H<$?6:0):H==Oe?($-L)/De+2:(L-H)/De+4,ne*=60):(ne=NaN,ce=He>0&&He<1?0:ne),new gt(ne,ce,He)}function An(L,H,$){var ne=on((.4124564*(L=wn(L))+.3575761*(H=wn(H))+.1804375*($=wn($)))/Dt),ce=on((.2126729*L+.7151522*H+.072175*$)/Bt);return bt(116*ce-16,500*(ne-ce),200*(ce-on((.0193339*L+.119192*H+.9503041*$)/Xt)))}function wn(L){return(L/=255)<=.04045?L/12.92:Math.pow((L+.055)/1.055,2.4)}function Cn(L){var H=parseFloat(L);return L.charAt(L.length-1)==="%"?Math.round(2.55*H):H}ln.brighter=function(L){L=Math.pow(.7,arguments.length?L:1);var H=this.r,$=this.g,ne=this.b,ce=30;return H||$||ne?(H&&H<ce&&(H=ce),$&&$<ce&&($=ce),ne&&ne<ce&&(ne=ce),new Ln(Math.min(255,H/L),Math.min(255,$/L),Math.min(255,ne/L))):new Ln(ce,ce,ce)},ln.darker=function(L){return new Ln((L=Math.pow(.7,arguments.length?L:1))*this.r,L*this.g,L*this.b)},ln.hsl=function(){return kn(this.r,this.g,this.b)},ln.toString=function(){return"#"+nn(this.r)+nn(this.g)+nn(this.b)};var _n=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function zn(L){return typeof L=="function"?L:function(){return L}}function Hn(L){return function(H,$,ne){return arguments.length===2&&typeof $=="function"&&(ne=$,$=null),ar(H,$,L,ne)}}function ar(L,H,$,ne){var ce={},ve=a.dispatch("beforesend","progress","load","error"),Oe={},De=new XMLHttpRequest,He=null;function We(){var rt,pt=De.status;if(!pt&&function(vt){var kt=vt.responseType;return kt&&kt!=="text"?vt.response:vt.responseText}(De)||pt>=200&&pt<300||pt===304){try{rt=$.call(ce,De)}catch(vt){return void ve.error.call(ce,vt)}ve.load.call(ce,rt)}else ve.error.call(ce,De)}return self.XDomainRequest&&!("withCredentials"in De)&&/^(http(s)?:)?\/\//.test(L)&&(De=new XDomainRequest),"onload"in De?De.onload=De.onerror=We:De.onreadystatechange=function(){De.readyState>3&&We()},De.onprogress=function(rt){var pt=a.event;a.event=rt;try{ve.progress.call(ce,De)}finally{a.event=pt}},ce.header=function(rt,pt){return rt=(rt+"").toLowerCase(),arguments.length<2?Oe[rt]:(pt==null?delete Oe[rt]:Oe[rt]=pt+"",ce)},ce.mimeType=function(rt){return arguments.length?(H=rt==null?null:rt+"",ce):H},ce.responseType=function(rt){return arguments.length?(He=rt,ce):He},ce.response=function(rt){return $=rt,ce},["get","post"].forEach(function(rt){ce[rt]=function(){return ce.send.apply(ce,[rt].concat(b(arguments)))}}),ce.send=function(rt,pt,vt){if(arguments.length===2&&typeof pt=="function"&&(vt=pt,pt=null),De.open(rt,L,!0),H==null||"accept"in Oe||(Oe.accept=H+",*/*"),De.setRequestHeader)for(var kt in Oe)De.setRequestHeader(kt,Oe[kt]);return H!=null&&De.overrideMimeType&&De.overrideMimeType(H),He!=null&&(De.responseType=He),vt!=null&&ce.on("error",vt).on("load",function(Ot){vt(null,Ot)}),ve.beforesend.call(ce,De),De.send(pt??null),ce},ce.abort=function(){return De.abort(),ce},a.rebind(ce,ve,"on"),ne==null?ce:ce.get(function(rt){return rt.length===1?function(pt,vt){rt(pt==null?vt:null)}:rt}(ne))}_n.forEach(function(L,H){_n.set(L,fn(H))}),a.functor=zn,a.xhr=Hn(R),a.dsv=function(L,H){var $=new RegExp('["'+L+`
]`),ne=L.charCodeAt(0);function ce(We,rt,pt){arguments.length<3&&(pt=rt,rt=null);var vt=ar(We,H,rt==null?ve:Oe(rt),pt);return vt.row=function(kt){return arguments.length?vt.response((rt=kt)==null?ve:Oe(kt)):rt},vt}function ve(We){return ce.parse(We.responseText)}function Oe(We){return function(rt){return ce.parse(rt.responseText,We)}}function De(We){return We.map(He).join(L)}function He(We){return $.test(We)?'"'+We.replace(/\"/g,'""')+'"':We}return ce.parse=function(We,rt){var pt;return ce.parseRows(We,function(vt,kt){if(pt)return pt(vt,kt-1);var Ot=function(Et){for(var jt={},It=vt.length,Jt=0;Jt<It;++Jt)jt[vt[Jt]]=Et[Jt];return jt};pt=rt?function(Et,jt){return rt(Ot(Et),jt)}:Ot})},ce.parseRows=function(We,rt){var pt,vt,kt={},Ot={},Et=[],jt=We.length,It=0,Jt=0;function Yt(){if(It>=jt)return Ot;if(vt)return vt=!1,kt;var mn=It;if(We.charCodeAt(mn)===34){for(var yn=mn;yn++<jt;)if(We.charCodeAt(yn)===34){if(We.charCodeAt(yn+1)!==34)break;++yn}return It=yn+2,(In=We.charCodeAt(yn+1))===13?(vt=!0,We.charCodeAt(yn+2)===10&&++It):In===10&&(vt=!0),We.slice(mn+1,yn).replace(/""/g,'"')}for(;It<jt;){var In,Rn=1;if((In=We.charCodeAt(It++))===10)vt=!0;else if(In===13)vt=!0,We.charCodeAt(It)===10&&(++It,++Rn);else if(In!==ne)continue;return We.slice(mn,It-Rn)}return We.slice(mn)}for(;(pt=Yt())!==Ot;){for(var Ht=[];pt!==kt&&pt!==Ot;)Ht.push(pt),pt=Yt();rt&&(Ht=rt(Ht,Jt++))==null||Et.push(Ht)}return Et},ce.format=function(We){if(Array.isArray(We[0]))return ce.formatRows(We);var rt=new j,pt=[];return We.forEach(function(vt){for(var kt in vt)rt.has(kt)||pt.push(rt.add(kt))}),[pt.map(He).join(L)].concat(We.map(function(vt){return pt.map(function(kt){return He(vt[kt])}).join(L)})).join(`
`)},ce.formatRows=function(We){return We.map(De).join(`
`)},ce},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("	","text/tab-separated-values");var fr,rr,Xn,gr,Gt=this[Z(this,"requestAnimationFrame")]||function(L){setTimeout(L,17)};function tn(L,H,$){var ne=arguments.length;ne<2&&(H=0),ne<3&&($=Date.now());var ce={c:L,t:$+H,n:null};return rr?rr.n=ce:fr=ce,rr=ce,Xn||(gr=clearTimeout(gr),Xn=1,Gt(dn)),ce}function dn(){var L=vn(),H=On()-L;H>24?(isFinite(H)&&(clearTimeout(gr),gr=setTimeout(dn,H)),Xn=0):(Xn=1,Gt(dn))}function vn(){for(var L=Date.now(),H=fr;H;)L>=H.t&&H.c(L-H.t)&&(H.c=null),H=H.n;return L}function On(){for(var L,H=fr,$=1/0;H;)H.c?(H.t<$&&($=H.t),H=(L=H).n):H=L?L.n=H.n:fr=H.n;return rr=L,$}function Vn(L){return L[0]}function Bn(L){return L[1]}function Un(L){for(var H,$,ne,ce=L.length,ve=[0,1],Oe=2,De=2;De<ce;De++){for(;Oe>1&&(H=L[ve[Oe-2]],$=L[ve[Oe-1]],ne=L[De],($[0]-H[0])*(ne[1]-H[1])-($[1]-H[1])*(ne[0]-H[0])<=0);)--Oe;ve[Oe++]=De}return ve.slice(0,Oe)}function tr(L,H){return L[0]-H[0]||L[1]-H[1]}a.timer=function(){tn.apply(this,arguments)},a.timer.flush=function(){vn(),On()},a.round=function(L,H){return H?Math.round(L*(H=Math.pow(10,H)))/H:Math.round(L)},a.geom={},a.geom.hull=function(L){var H=Vn,$=Bn;if(arguments.length)return ne(L);function ne(ce){if(ce.length<3)return[];var ve,Oe=zn(H),De=zn($),He=ce.length,We=[],rt=[];for(ve=0;ve<He;ve++)We.push([+Oe.call(this,ce[ve],ve),+De.call(this,ce[ve],ve),ve]);for(We.sort(tr),ve=0;ve<He;ve++)rt.push([We[ve][0],-We[ve][1]]);var pt=Un(We),vt=Un(rt),kt=vt[0]===pt[0],Ot=vt[vt.length-1]===pt[pt.length-1],Et=[];for(ve=pt.length-1;ve>=0;--ve)Et.push(ce[We[pt[ve]][2]]);for(ve=+kt;ve<vt.length-Ot;++ve)Et.push(ce[We[vt[ve]][2]]);return Et}return ne.x=function(ce){return arguments.length?(H=ce,ne):H},ne.y=function(ce){return arguments.length?($=ce,ne):$},ne},a.geom.polygon=function(L){return ee(L,$t),L};var $t=a.geom.polygon.prototype=[];function bn(L,H,$){return($[0]-H[0])*(L[1]-H[1])<($[1]-H[1])*(L[0]-H[0])}function Rt(L,H,$,ne){var ce=L[0],ve=$[0],Oe=H[0]-ce,De=ne[0]-ve,He=L[1],We=$[1],rt=H[1]-He,pt=ne[1]-We,vt=(De*(He-We)-pt*(ce-ve))/(pt*Oe-De*rt);return[ce+vt*Oe,He+vt*rt]}function Kt(L){var H=L[0],$=L[L.length-1];return!(H[0]-$[0]||H[1]-$[1])}$t.area=function(){for(var L,H=-1,$=this.length,ne=this[$-1],ce=0;++H<$;)L=ne,ne=this[H],ce+=L[1]*ne[0]-L[0]*ne[1];return .5*ce},$t.centroid=function(L){var H,$,ne=-1,ce=this.length,ve=0,Oe=0,De=this[ce-1];for(arguments.length||(L=-1/(6*this.area()));++ne<ce;)H=De,De=this[ne],$=H[0]*De[1]-De[0]*H[1],ve+=(H[0]+De[0])*$,Oe+=(H[1]+De[1])*$;return[ve*L,Oe*L]},$t.clip=function(L){for(var H,$,ne,ce,ve,Oe,De=Kt(L),He=-1,We=this.length-Kt(this),rt=this[We-1];++He<We;){for(H=L.slice(),L.length=0,ce=this[He],ve=H[(ne=H.length-De)-1],$=-1;++$<ne;)bn(Oe=H[$],rt,ce)?(bn(ve,rt,ce)||L.push(Rt(ve,Oe,rt,ce)),L.push(Oe)):bn(ve,rt,ce)&&L.push(Rt(ve,Oe,rt,ce)),ve=Oe;De&&L.push(L[0]),rt=ce}return L};var rn,xn,Tn,Pn,pn,Qt=[],en=[];function hn(){_i(this),this.edge=this.site=this.circle=null}function gn(L){var H=Qt.pop()||new hn;return H.site=L,H}function Dn(L){mr(L),Tn.remove(L),Qt.push(L),_i(L)}function Fn(L){var H=L.circle,$=H.x,ne=H.cy,ce={x:$,y:ne},ve=L.P,Oe=L.N,De=[L];Dn(L);for(var He=ve;He.circle&&v($-He.circle.x)<st&&v(ne-He.circle.cy)<st;)ve=He.P,De.unshift(He),Dn(He),He=ve;De.unshift(He),mr(He);for(var We=Oe;We.circle&&v($-We.circle.x)<st&&v(ne-We.circle.cy)<st;)Oe=We.N,De.push(We),Dn(We),We=Oe;De.push(We),mr(We);var rt,pt=De.length;for(rt=1;rt<pt;++rt)We=De[rt],He=De[rt-1],wr(We.edge,He.site,We.site,ce);He=De[0],(We=De[pt-1]).edge=or(He.site,We.site,null,ce),ur(He),ur(We)}function Wn(L){for(var H,$,ne,ce,ve=L.x,Oe=L.y,De=Tn._;De;)if((ne=Yn(De,Oe)-ve)>st)De=De.L;else{if(!((ce=ve-er(De,Oe))>st)){ne>-st?(H=De.P,$=De):ce>-st?(H=De,$=De.N):H=$=De;break}if(!De.R){H=De;break}De=De.R}var He=gn(L);if(Tn.insert(H,He),H||$){if(H===$)return mr(H),$=gn(H.site),Tn.insert(He,$),He.edge=$.edge=or(H.site,He.site),ur(H),void ur($);if($){mr(H),mr($);var We=H.site,rt=We.x,pt=We.y,vt=L.x-rt,kt=L.y-pt,Ot=$.site,Et=Ot.x-rt,jt=Ot.y-pt,It=2*(vt*jt-kt*Et),Jt=vt*vt+kt*kt,Yt=Et*Et+jt*jt,Ht={x:(jt*Jt-kt*Yt)/It+rt,y:(vt*Yt-Et*Jt)/It+pt};wr($.edge,We,Ot,Ht),He.edge=or(We,L,null,Ht),$.edge=or(L,Ot,null,Ht),ur(H),ur($)}else He.edge=or(H.site,He.site)}}function Yn(L,H){var $=L.site,ne=$.x,ce=$.y,ve=ce-H;if(!ve)return ne;var Oe=L.P;if(!Oe)return-1/0;var De=($=Oe.site).x,He=$.y,We=He-H;if(!We)return De;var rt=De-ne,pt=1/ve-1/We,vt=rt/We;return pt?(-vt+Math.sqrt(vt*vt-2*pt*(rt*rt/(-2*We)-He+We/2+ce-ve/2)))/pt+ne:(ne+De)/2}function er(L,H){var $=L.N;if($)return Yn($,H);var ne=L.site;return ne.y===H?ne.x:1/0}function Kn(L){this.site=L,this.edges=[]}function ir(L,H){return H.angle-L.angle}function cr(){_i(this),this.x=this.y=this.arc=this.site=this.cy=null}function ur(L){var H=L.P,$=L.N;if(H&&$){var ne=H.site,ce=L.site,ve=$.site;if(ne!==ve){var Oe=ce.x,De=ce.y,He=ne.x-Oe,We=ne.y-De,rt=ve.x-Oe,pt=2*(He*(jt=ve.y-De)-We*rt);if(!(pt>=-St)){var vt=He*He+We*We,kt=rt*rt+jt*jt,Ot=(jt*vt-We*kt)/pt,Et=(He*kt-rt*vt)/pt,jt=Et+De,It=en.pop()||new cr;It.arc=L,It.site=ce,It.x=Ot+Oe,It.y=jt+Math.sqrt(Ot*Ot+Et*Et),It.cy=jt,L.circle=It;for(var Jt=null,Yt=pn._;Yt;)if(It.y<Yt.y||It.y===Yt.y&&It.x<=Yt.x){if(!Yt.L){Jt=Yt.P;break}Yt=Yt.L}else{if(!Yt.R){Jt=Yt;break}Yt=Yt.R}pn.insert(Jt,It),Jt||(Pn=It)}}}}function mr(L){var H=L.circle;H&&(H.P||(Pn=H.N),pn.remove(H),en.push(H),_i(H),L.circle=null)}function vr(L,H){var $=L.b;if($)return!0;var ne,ce,ve=L.a,Oe=H[0][0],De=H[1][0],He=H[0][1],We=H[1][1],rt=L.l,pt=L.r,vt=rt.x,kt=rt.y,Ot=pt.x,Et=pt.y,jt=(vt+Ot)/2,It=(kt+Et)/2;if(Et===kt){if(jt<Oe||jt>=De)return;if(vt>Ot){if(ve){if(ve.y>=We)return}else ve={x:jt,y:He};$={x:jt,y:We}}else{if(ve){if(ve.y<He)return}else ve={x:jt,y:We};$={x:jt,y:He}}}else if(ce=It-(ne=(vt-Ot)/(Et-kt))*jt,ne<-1||ne>1)if(vt>Ot){if(ve){if(ve.y>=We)return}else ve={x:(He-ce)/ne,y:He};$={x:(We-ce)/ne,y:We}}else{if(ve){if(ve.y<He)return}else ve={x:(We-ce)/ne,y:We};$={x:(He-ce)/ne,y:He}}else if(kt<Et){if(ve){if(ve.x>=De)return}else ve={x:Oe,y:ne*Oe+ce};$={x:De,y:ne*De+ce}}else{if(ve){if(ve.x<Oe)return}else ve={x:De,y:ne*De+ce};$={x:Oe,y:ne*Oe+ce}}return L.a=ve,L.b=$,!0}function Lr(L,H){this.l=L,this.r=H,this.a=this.b=null}function or(L,H,$,ne){var ce=new Lr(L,H);return rn.push(ce),$&&wr(ce,L,H,$),ne&&wr(ce,H,L,ne),xn[L.i].edges.push(new Ir(ce,L,H)),xn[H.i].edges.push(new Ir(ce,H,L)),ce}function wr(L,H,$,ne){L.a||L.b?L.l===$?L.b=ne:L.a=ne:(L.a=ne,L.l=H,L.r=$)}function Ir(L,H,$){var ne=L.a,ce=L.b;this.edge=L,this.site=H,this.angle=$?Math.atan2($.y-H.y,$.x-H.x):L.l===H?Math.atan2(ce.x-ne.x,ne.y-ce.y):Math.atan2(ne.x-ce.x,ce.y-ne.y)}function Gr(){this._=null}function _i(L){L.U=L.C=L.L=L.R=L.P=L.N=null}function Ti(L,H){var $=H,ne=H.R,ce=$.U;ce?ce.L===$?ce.L=ne:ce.R=ne:L._=ne,ne.U=ce,$.U=ne,$.R=ne.L,$.R&&($.R.U=$),ne.L=$}function Ki(L,H){var $=H,ne=H.L,ce=$.U;ce?ce.L===$?ce.L=ne:ce.R=ne:L._=ne,ne.U=ce,$.U=ne,$.L=ne.R,$.L&&($.L.U=$),ne.R=$}function vi(L){for(;L.L;)L=L.L;return L}function Hi(L,H){var $,ne,ce,ve=L.sort(La).pop();for(rn=[],xn=new Array(L.length),Tn=new Gr,pn=new Gr;;)if(ce=Pn,ve&&(!ce||ve.y<ce.y||ve.y===ce.y&&ve.x<ce.x))ve.x===$&&ve.y===ne||(xn[ve.i]=new Kn(ve),Wn(ve),$=ve.x,ne=ve.y),ve=L.pop();else{if(!ce)break;Fn(ce.arc)}H&&(function(De){for(var He,We,rt,pt,vt,kt=rn,Ot=(We=De[0][0],rt=De[0][1],pt=De[1][0],vt=De[1][1],function(jt){var It,Jt=jt.a,Yt=jt.b,Ht=Jt.x,mn=Jt.y,yn=0,In=1,Rn=Yt.x-Ht,Gn=Yt.y-mn;if(It=We-Ht,Rn||!(It>0)){if(It/=Rn,Rn<0){if(It<yn)return;It<In&&(In=It)}else if(Rn>0){if(It>In)return;It>yn&&(yn=It)}if(It=pt-Ht,Rn||!(It<0)){if(It/=Rn,Rn<0){if(It>In)return;It>yn&&(yn=It)}else if(Rn>0){if(It<yn)return;It<In&&(In=It)}if(It=rt-mn,Gn||!(It>0)){if(It/=Gn,Gn<0){if(It<yn)return;It<In&&(In=It)}else if(Gn>0){if(It>In)return;It>yn&&(yn=It)}if(It=vt-mn,Gn||!(It<0)){if(It/=Gn,Gn<0){if(It>In)return;It>yn&&(yn=It)}else if(Gn>0){if(It<yn)return;It<In&&(In=It)}return yn>0&&(jt.a={x:Ht+yn*Rn,y:mn+yn*Gn}),In<1&&(jt.b={x:Ht+In*Rn,y:mn+In*Gn}),jt}}}}}),Et=kt.length;Et--;)(!vr(He=kt[Et],De)||!Ot(He)||v(He.a.x-He.b.x)<st&&v(He.a.y-He.b.y)<st)&&(He.a=He.b=null,kt.splice(Et,1))}(H),function(De){for(var He,We,rt,pt,vt,kt,Ot,Et,jt,It,Jt=De[0][0],Yt=De[1][0],Ht=De[0][1],mn=De[1][1],yn=xn,In=yn.length;In--;)if((vt=yn[In])&&vt.prepare())for(Et=(Ot=vt.edges).length,kt=0;kt<Et;)rt=(It=Ot[kt].end()).x,pt=It.y,He=(jt=Ot[++kt%Et].start()).x,We=jt.y,(v(rt-He)>st||v(pt-We)>st)&&(Ot.splice(kt,0,new Ir((Rn=vt.site,Gn=It,Qn=v(rt-Jt)<st&&mn-pt>st?{x:Jt,y:v(He-Jt)<st?We:mn}:v(pt-mn)<st&&Yt-rt>st?{x:v(We-mn)<st?He:Yt,y:mn}:v(rt-Yt)<st&&pt-Ht>st?{x:Yt,y:v(He-Yt)<st?We:Ht}:v(pt-Ht)<st&&rt-Jt>st?{x:v(We-Ht)<st?He:Jt,y:Ht}:null,hr=void 0,(hr=new Lr(Rn,null)).a=Gn,hr.b=Qn,rn.push(hr),hr),vt.site,null)),++Et);var Rn,Gn,Qn,hr}(H));var Oe={cells:xn,edges:rn};return Tn=pn=rn=xn=null,Oe}function La(L,H){return H.y-L.y||H.x-L.x}Kn.prototype.prepare=function(){for(var L,H=this.edges,$=H.length;$--;)(L=H[$].edge).b&&L.a||H.splice($,1);return H.sort(ir),H.length},Ir.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Gr.prototype={insert:function(L,H){var $,ne,ce;if(L){if(H.P=L,H.N=L.N,L.N&&(L.N.P=H),L.N=H,L.R){for(L=L.R;L.L;)L=L.L;L.L=H}else L.R=H;$=L}else this._?(L=vi(this._),H.P=null,H.N=L,L.P=L.L=H,$=L):(H.P=H.N=null,this._=H,$=null);for(H.L=H.R=null,H.U=$,H.C=!0,L=H;$&&$.C;)$===(ne=$.U).L?(ce=ne.R)&&ce.C?($.C=ce.C=!1,ne.C=!0,L=ne):(L===$.R&&(Ti(this,$),$=(L=$).U),$.C=!1,ne.C=!0,Ki(this,ne)):(ce=ne.L)&&ce.C?($.C=ce.C=!1,ne.C=!0,L=ne):(L===$.L&&(Ki(this,$),$=(L=$).U),$.C=!1,ne.C=!0,Ti(this,ne)),$=L.U;this._.C=!1},remove:function(L){L.N&&(L.N.P=L.P),L.P&&(L.P.N=L.N),L.N=L.P=null;var H,$,ne,ce=L.U,ve=L.L,Oe=L.R;if($=ve?Oe?vi(Oe):ve:Oe,ce?ce.L===L?ce.L=$:ce.R=$:this._=$,ve&&Oe?(ne=$.C,$.C=L.C,$.L=ve,ve.U=$,$!==Oe?(ce=$.U,$.U=L.U,L=$.R,ce.L=L,$.R=Oe,Oe.U=$):($.U=ce,ce=$,L=$.R)):(ne=L.C,L=$),L&&(L.U=ce),!ne)if(L&&L.C)L.C=!1;else{do{if(L===this._)break;if(L===ce.L){if((H=ce.R).C&&(H.C=!1,ce.C=!0,Ti(this,ce),H=ce.R),H.L&&H.L.C||H.R&&H.R.C){H.R&&H.R.C||(H.L.C=!1,H.C=!0,Ki(this,H),H=ce.R),H.C=ce.C,ce.C=H.R.C=!1,Ti(this,ce),L=this._;break}}else if((H=ce.L).C&&(H.C=!1,ce.C=!0,Ki(this,ce),H=ce.L),H.L&&H.L.C||H.R&&H.R.C){H.L&&H.L.C||(H.R.C=!1,H.C=!0,Ti(this,H),H=ce.L),H.C=ce.C,ce.C=H.L.C=!1,Ki(this,ce),L=this._;break}H.C=!0,L=ce,ce=ce.U}while(!L.C);L&&(L.C=!1)}}},a.geom.voronoi=function(L){var H=Vn,$=Bn,ne=H,ce=$,ve=Ca;if(L)return Oe(L);function Oe(He){var We=new Array(He.length),rt=ve[0][0],pt=ve[0][1],vt=ve[1][0],kt=ve[1][1];return Hi(De(He),ve).cells.forEach(function(Ot,Et){var jt=Ot.edges,It=Ot.site;(We[Et]=jt.length?jt.map(function(Jt){var Yt=Jt.start();return[Yt.x,Yt.y]}):It.x>=rt&&It.x<=vt&&It.y>=pt&&It.y<=kt?[[rt,kt],[vt,kt],[vt,pt],[rt,pt]]:[]).point=He[Et]}),We}function De(He){return He.map(function(We,rt){return{x:Math.round(ne(We,rt)/st)*st,y:Math.round(ce(We,rt)/st)*st,i:rt}})}return Oe.links=function(He){return Hi(De(He)).edges.filter(function(We){return We.l&&We.r}).map(function(We){return{source:He[We.l.i],target:He[We.r.i]}})},Oe.triangles=function(He){var We=[];return Hi(De(He)).cells.forEach(function(rt,pt){for(var vt,kt,Ot,Et,jt=rt.site,It=rt.edges.sort(ir),Jt=-1,Yt=It.length,Ht=It[Yt-1].edge,mn=Ht.l===jt?Ht.r:Ht.l;++Jt<Yt;)vt=mn,mn=(Ht=It[Jt].edge).l===jt?Ht.r:Ht.l,pt<vt.i&&pt<mn.i&&(Ot=vt,Et=mn,((kt=jt).x-Et.x)*(Ot.y-kt.y)-(kt.x-Ot.x)*(Et.y-kt.y)<0)&&We.push([He[pt],He[vt.i],He[mn.i]])}),We},Oe.x=function(He){return arguments.length?(ne=zn(H=He),Oe):H},Oe.y=function(He){return arguments.length?(ce=zn($=He),Oe):$},Oe.clipExtent=function(He){return arguments.length?(ve=He??Ca,Oe):ve===Ca?null:ve},Oe.size=function(He){return arguments.length?Oe.clipExtent(He&&[[0,0],He]):ve===Ca?null:ve&&ve[1]},Oe};var Ca=[[-1e6,-1e6],[1e6,1e6]];function gs(L){return L.x}function Cu(L){return L.y}function rl(L,H,$,ne,ce,ve){if(!L(H,$,ne,ce,ve)){var Oe=.5*($+ce),De=.5*(ne+ve),He=H.nodes;He[0]&&rl(L,He[0],$,ne,Oe,De),He[1]&&rl(L,He[1],Oe,ne,ce,De),He[2]&&rl(L,He[2],$,De,Oe,ve),He[3]&&rl(L,He[3],Oe,De,ce,ve)}}function il(L,H){L=a.rgb(L),H=a.rgb(H);var $=L.r,ne=L.g,ce=L.b,ve=H.r-$,Oe=H.g-ne,De=H.b-ce;return function(He){return"#"+nn(Math.round($+ve*He))+nn(Math.round(ne+Oe*He))+nn(Math.round(ce+De*He))}}function Sl(L,H){var $,ne={},ce={};for($ in L)$ in H?ne[$]=Ro(L[$],H[$]):ce[$]=L[$];for($ in H)$ in L||(ce[$]=H[$]);return function(ve){for($ in ne)ce[$]=ne[$](ve);return ce}}function uo(L,H){return L=+L,H=+H,function($){return L*(1-$)+H*$}}function El(L,H){var $,ne,ce,ve=Ll.lastIndex=Cl.lastIndex=0,Oe=-1,De=[],He=[];for(L+="",H+="";($=Ll.exec(L))&&(ne=Cl.exec(H));)(ce=ne.index)>ve&&(ce=H.slice(ve,ce),De[Oe]?De[Oe]+=ce:De[++Oe]=ce),($=$[0])===(ne=ne[0])?De[Oe]?De[Oe]+=ne:De[++Oe]=ne:(De[++Oe]=null,He.push({i:Oe,x:uo($,ne)})),ve=Cl.lastIndex;return ve<H.length&&(ce=H.slice(ve),De[Oe]?De[Oe]+=ce:De[++Oe]=ce),De.length<2?He[0]?(H=He[0].x,function(We){return H(We)+""}):function(){return H}:(H=He.length,function(We){for(var rt,pt=0;pt<H;++pt)De[(rt=He[pt]).i]=rt.x(We);return De.join("")})}a.geom.delaunay=function(L){return a.geom.voronoi().triangles(L)},a.geom.quadtree=function(L,H,$,ne,ce){var ve,Oe=Vn,De=Bn;if(ve=arguments.length)return Oe=gs,De=Cu,ve===3&&(ce=$,ne=H,$=H=0),He(L);function He(We){var rt,pt,vt,kt,Ot,Et,jt,It,Jt,Yt=zn(Oe),Ht=zn(De);if(H!=null)Et=H,jt=$,It=ne,Jt=ce;else if(It=Jt=-(Et=jt=1/0),pt=[],vt=[],Ot=We.length,ve)for(kt=0;kt<Ot;++kt)(rt=We[kt]).x<Et&&(Et=rt.x),rt.y<jt&&(jt=rt.y),rt.x>It&&(It=rt.x),rt.y>Jt&&(Jt=rt.y),pt.push(rt.x),vt.push(rt.y);else for(kt=0;kt<Ot;++kt){var mn=+Yt(rt=We[kt],kt),yn=+Ht(rt,kt);mn<Et&&(Et=mn),yn<jt&&(jt=yn),mn>It&&(It=mn),yn>Jt&&(Jt=yn),pt.push(mn),vt.push(yn)}var In=It-Et,Rn=Jt-jt;function Gn(Zn,lr,_r,Or,$n,sr,Mr,pr){if(!isNaN(_r)&&!isNaN(Or))if(Zn.leaf){var Er=Zn.x,zr=Zn.y;if(Er!=null)if(v(Er-_r)+v(zr-Or)<.01)Qn(Zn,lr,_r,Or,$n,sr,Mr,pr);else{var Yr=Zn.point;Zn.x=Zn.y=Zn.point=null,Qn(Zn,Yr,Er,zr,$n,sr,Mr,pr),Qn(Zn,lr,_r,Or,$n,sr,Mr,pr)}else Zn.x=_r,Zn.y=Or,Zn.point=lr}else Qn(Zn,lr,_r,Or,$n,sr,Mr,pr)}function Qn(Zn,lr,_r,Or,$n,sr,Mr,pr){var Er=.5*($n+Mr),zr=.5*(sr+pr),Yr=_r>=Er,Zr=Or>=zr,Kr=Zr<<1|Yr;Zn.leaf=!1,Yr?$n=Er:Mr=Er,Zr?sr=zr:pr=zr,Gn(Zn=Zn.nodes[Kr]||(Zn.nodes[Kr]={leaf:!0,nodes:[],point:null,x:null,y:null}),lr,_r,Or,$n,sr,Mr,pr)}In>Rn?Jt=jt+In:It=Et+Rn;var hr={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Zn){Gn(hr,Zn,+Yt(Zn,++kt),+Ht(Zn,kt),Et,jt,It,Jt)}};if(hr.visit=function(Zn){rl(Zn,hr,Et,jt,It,Jt)},hr.find=function(Zn){return function(lr,_r,Or,$n,sr,Mr,pr){var Er,zr=1/0;return function Yr(Zr,Kr,ni,Ai,Gi){if(!(Kr>Mr||ni>pr||Ai<$n||Gi<sr)){if(Aa=Zr.point){var Aa,sa=_r-Zr.x,xa=Or-Zr.y,Pi=sa*sa+xa*xa;if(Pi<zr){var ii=Math.sqrt(zr=Pi);$n=_r-ii,sr=Or-ii,Mr=_r+ii,pr=Or+ii,Er=Aa}}for(var Bi=Zr.nodes,yi=.5*(Kr+Ai),li=.5*(ni+Gi),Ni=(Or>=li)<<1|_r>=yi,qi=Ni+4;Ni<qi;++Ni)if(Zr=Bi[3&Ni])switch(3&Ni){case 0:Yr(Zr,Kr,ni,yi,li);break;case 1:Yr(Zr,yi,ni,Ai,li);break;case 2:Yr(Zr,Kr,li,yi,Gi);break;case 3:Yr(Zr,yi,li,Ai,Gi)}}}(lr,$n,sr,Mr,pr),Er}(hr,Zn[0],Zn[1],Et,jt,It,Jt)},kt=-1,H==null){for(;++kt<Ot;)Gn(hr,We[kt],pt[kt],vt[kt],Et,jt,It,Jt);--kt}else We.forEach(hr.add);return pt=vt=We=rt=null,hr}return He.x=function(We){return arguments.length?(Oe=We,He):Oe},He.y=function(We){return arguments.length?(De=We,He):De},He.extent=function(We){return arguments.length?(We==null?H=$=ne=ce=null:(H=+We[0][0],$=+We[0][1],ne=+We[1][0],ce=+We[1][1]),He):H==null?null:[[H,$],[ne,ce]]},He.size=function(We){return arguments.length?(We==null?H=$=ne=ce=null:(H=$=0,ne=+We[0],ce=+We[1]),He):H==null?null:[ne-H,ce-$]},He},a.interpolateRgb=il,a.interpolateObject=Sl,a.interpolateNumber=uo,a.interpolateString=El;var Ll=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cl=new RegExp(Ll.source,"g");function Ro(L,H){for(var $,ne=a.interpolators.length;--ne>=0&&!($=a.interpolators[ne](L,H)););return $}function Xo(L,H){var $,ne=[],ce=[],ve=L.length,Oe=H.length,De=Math.min(L.length,H.length);for($=0;$<De;++$)ne.push(Ro(L[$],H[$]));for(;$<ve;++$)ce[$]=L[$];for(;$<Oe;++$)ce[$]=H[$];return function(He){for($=0;$<De;++$)ce[$]=ne[$](He);return ce}}a.interpolate=Ro,a.interpolators=[function(L,H){var $=typeof H;return($==="string"?_n.has(H.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(H)?il:El:H instanceof $e?il:Array.isArray(H)?Xo:$==="object"&&isNaN(H)?Sl:uo)(L,H)}],a.interpolateArray=Xo;var vs=function(){return R},Ci=a.map({linear:vs,poly:function(L){return function(H){return Math.pow(H,L)}},quad:function(){return co},cubic:function(){return Jo},sin:function(){return Ko},exp:function(){return Fo},circle:function(){return $o},elastic:function(L,H){var $;return arguments.length<2&&(H=.45),arguments.length?$=H/Ft*Math.asin(1/L):(L=1,$=H/4),function(ne){return 1+L*Math.pow(2,-10*ne)*Math.sin((ne-$)*Ft/H)}},back:function(L){return L||(L=1.70158),function(H){return H*H*((L+1)*H-L)}},bounce:function(){return Mo}}),ia=a.map({in:R,out:zo,"in-out":To,"out-in":function(L){return To(zo(L))}});function zo(L){return function(H){return 1-L(1-H)}}function To(L){return function(H){return .5*(H<.5?L(2*H):2-L(2-2*H))}}function co(L){return L*L}function Jo(L){return L*L*L}function ko(L){if(L<=0)return 0;if(L>=1)return 1;var H=L*L,$=H*L;return 4*(L<.5?$:3*(L-H)+$-.75)}function Ko(L){return 1-Math.cos(L*Ze)}function Fo(L){return Math.pow(2,10*(L-1))}function $o(L){return 1-Math.sqrt(1-L*L)}function Mo(L){return L<.36363636363636365?7.5625*L*L:L<.7272727272727273?7.5625*(L-=.5454545454545454)*L+.75:L<.9090909090909091?7.5625*(L-=.8181818181818182)*L+.9375:7.5625*(L-=.9545454545454546)*L+.984375}function Zl(L,H){return H-=L,function($){return Math.round(L+H*$)}}function Ol(L){var H,$,ne,ce=[L.a,L.b],ve=[L.c,L.d],Oe=pu(ce),De=ms(ce,ve),He=pu(((H=ve)[0]+=(ne=-De)*($=ce)[0],H[1]+=ne*$[1],H))||0;ce[0]*ve[1]<ve[0]*ce[1]&&(ce[0]*=-1,ce[1]*=-1,Oe*=-1,De*=-1),this.rotate=(Oe?Math.atan2(ce[1],ce[0]):Math.atan2(-ve[0],ve[1]))*Ue,this.translate=[L.e,L.f],this.scale=[Oe,He],this.skew=He?Math.atan2(De,He)*Ue:0}function ms(L,H){return L[0]*H[0]+L[1]*H[1]}function pu(L){var H=Math.sqrt(ms(L,L));return H&&(L[0]/=H,L[1]/=H),H}a.ease=function(L){var H,$=L.indexOf("-"),ne=$>=0?L.slice(0,$):L,ce=$>=0?L.slice($+1):"in";return ne=Ci.get(ne)||vs,ce=ia.get(ce)||R,H=ce(ne.apply(null,_.call(arguments,1))),function(ve){return ve<=0?0:ve>=1?1:H(ve)}},a.interpolateHcl=function(L,H){L=a.hcl(L),H=a.hcl(H);var $=L.h,ne=L.c,ce=L.l,ve=H.h-$,Oe=H.c-ne,De=H.l-ce;return isNaN(Oe)&&(Oe=0,ne=isNaN(ne)?H.c:ne),isNaN(ve)?(ve=0,$=isNaN($)?H.h:$):ve>180?ve-=360:ve<-180&&(ve+=360),function(He){return Tt($+ve*He,ne+Oe*He,ce+De*He)+""}},a.interpolateHsl=function(L,H){L=a.hsl(L),H=a.hsl(H);var $=L.h,ne=L.s,ce=L.l,ve=H.h-$,Oe=H.s-ne,De=H.l-ce;return isNaN(Oe)&&(Oe=0,ne=isNaN(ne)?H.s:ne),isNaN(ve)?(ve=0,$=isNaN($)?H.h:$):ve>180?ve-=360:ve<-180&&(ve+=360),function(He){return xt($+ve*He,ne+Oe*He,ce+De*He)+""}},a.interpolateLab=function(L,H){L=a.lab(L),H=a.lab(H);var $=L.l,ne=L.a,ce=L.b,ve=H.l-$,Oe=H.a-ne,De=H.b-ce;return function(He){return Wt($+ve*He,ne+Oe*He,ce+De*He)+""}},a.interpolateRound=Zl,a.transform=function(L){var H=h.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function($){if($!=null){H.setAttribute("transform",$);var ne=H.transform.baseVal.consolidate()}return new Ol(ne?ne.matrix:du)})(L)},Ol.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var du={a:1,b:0,c:0,d:1,e:0,f:0};function ys(L){return L.length?L.pop()+",":""}function gu(L,H){var $=[],ne=[];return L=a.transform(L),H=a.transform(H),function(ce,ve,Oe,De){if(ce[0]!==ve[0]||ce[1]!==ve[1]){var He=Oe.push("translate(",null,",",null,")");De.push({i:He-4,x:uo(ce[0],ve[0])},{i:He-2,x:uo(ce[1],ve[1])})}else(ve[0]||ve[1])&&Oe.push("translate("+ve+")")}(L.translate,H.translate,$,ne),function(ce,ve,Oe,De){ce!==ve?(ce-ve>180?ve+=360:ve-ce>180&&(ce+=360),De.push({i:Oe.push(ys(Oe)+"rotate(",null,")")-2,x:uo(ce,ve)})):ve&&Oe.push(ys(Oe)+"rotate("+ve+")")}(L.rotate,H.rotate,$,ne),function(ce,ve,Oe,De){ce!==ve?De.push({i:Oe.push(ys(Oe)+"skewX(",null,")")-2,x:uo(ce,ve)}):ve&&Oe.push(ys(Oe)+"skewX("+ve+")")}(L.skew,H.skew,$,ne),function(ce,ve,Oe,De){if(ce[0]!==ve[0]||ce[1]!==ve[1]){var He=Oe.push(ys(Oe)+"scale(",null,",",null,")");De.push({i:He-4,x:uo(ce[0],ve[0])},{i:He-2,x:uo(ce[1],ve[1])})}else ve[0]===1&&ve[1]===1||Oe.push(ys(Oe)+"scale("+ve+")")}(L.scale,H.scale,$,ne),L=H=null,function(ce){for(var ve,Oe=-1,De=ne.length;++Oe<De;)$[(ve=ne[Oe]).i]=ve.x(ce);return $.join("")}}function Ou(L,H){return H=(H-=L=+L)||1/H,function($){return($-L)/H}}function Pu(L,H){return H=(H-=L=+L)||1/H,function($){return Math.max(0,Math.min(1,($-L)/H))}}function xs(L){for(var H=L.source,$=L.target,ne=function(Oe,De){if(Oe===De)return Oe;for(var He=Ao(Oe),We=Ao(De),rt=He.pop(),pt=We.pop(),vt=null;rt===pt;)vt=rt,rt=He.pop(),pt=We.pop();return vt}(H,$),ce=[H];H!==ne;)H=H.parent,ce.push(H);for(var ve=ce.length;$!==ne;)ce.splice(ve,0,$),$=$.parent;return ce}function Ao(L){for(var H=[],$=L.parent;$!=null;)H.push(L),L=$,$=$.parent;return H.push(L),H}function Fs(L){L.fixed|=2}function bs(L){L.fixed&=-7}function al(L){L.fixed|=4,L.px=L.x,L.py=L.y}function _s(L){L.fixed&=-5}function fo(L,H,$){var ne=0,ce=0;if(L.charge=0,!L.leaf)for(var ve,Oe=L.nodes,De=Oe.length,He=-1;++He<De;)(ve=Oe[He])!=null&&(fo(ve,H,$),L.charge+=ve.charge,ne+=ve.charge*ve.cx,ce+=ve.charge*ve.cy);if(L.point){L.leaf||(L.point.x+=Math.random()-.5,L.point.y+=Math.random()-.5);var We=H*$[L.point.index];L.charge+=L.pointCharge=We,ne+=We*L.point.x,ce+=We*L.point.y}L.cx=ne/L.charge,L.cy=ce/L.charge}a.interpolateTransform=gu,a.layout={},a.layout.bundle=function(){return function(L){for(var H=[],$=-1,ne=L.length;++$<ne;)H.push(xs(L[$]));return H}},a.layout.chord=function(){var L,H,$,ne,ce,ve,Oe,De={},He=0;function We(){var pt,vt,kt,Ot,Et,jt={},It=[],Jt=a.range(ne),Yt=[];for(L=[],H=[],pt=0,Ot=-1;++Ot<ne;){for(vt=0,Et=-1;++Et<ne;)vt+=$[Ot][Et];It.push(vt),Yt.push(a.range(ne)),pt+=vt}for(ce&&Jt.sort(function(hr,Zn){return ce(It[hr],It[Zn])}),ve&&Yt.forEach(function(hr,Zn){hr.sort(function(lr,_r){return ve($[Zn][lr],$[Zn][_r])})}),pt=(Ft-He*ne)/pt,vt=0,Ot=-1;++Ot<ne;){for(kt=vt,Et=-1;++Et<ne;){var Ht=Jt[Ot],mn=Yt[Ht][Et],yn=$[Ht][mn],In=vt,Rn=vt+=yn*pt;jt[Ht+"-"+mn]={index:Ht,subindex:mn,startAngle:In,endAngle:Rn,value:yn}}H[Ht]={index:Ht,startAngle:kt,endAngle:vt,value:It[Ht]},vt+=He}for(Ot=-1;++Ot<ne;)for(Et=Ot-1;++Et<ne;){var Gn=jt[Ot+"-"+Et],Qn=jt[Et+"-"+Ot];(Gn.value||Qn.value)&&L.push(Gn.value<Qn.value?{source:Qn,target:Gn}:{source:Gn,target:Qn})}Oe&&rt()}function rt(){L.sort(function(pt,vt){return Oe((pt.source.value+pt.target.value)/2,(vt.source.value+vt.target.value)/2)})}return De.matrix=function(pt){return arguments.length?(ne=($=pt)&&$.length,L=H=null,De):$},De.padding=function(pt){return arguments.length?(He=pt,L=H=null,De):He},De.sortGroups=function(pt){return arguments.length?(ce=pt,L=H=null,De):ce},De.sortSubgroups=function(pt){return arguments.length?(ve=pt,L=null,De):ve},De.sortChords=function(pt){return arguments.length?(Oe=pt,L&&rt(),De):Oe},De.chords=function(){return L||We(),L},De.groups=function(){return H||We(),H},De},a.layout.force=function(){var L,H,$,ne,ce,ve,Oe={},De=a.dispatch("start","tick","end"),He=[1,1],We=.9,rt=Xl,pt=Qo,vt=-30,kt=Bo,Ot=.1,Et=.64,jt=[],It=[];function Jt(Ht){return function(mn,yn,In,Rn){if(mn.point!==Ht){var Gn=mn.cx-Ht.x,Qn=mn.cy-Ht.y,hr=Rn-yn,Zn=Gn*Gn+Qn*Qn;if(hr*hr/Et<Zn){if(Zn<kt){var lr=mn.charge/Zn;Ht.px-=Gn*lr,Ht.py-=Qn*lr}return!0}mn.point&&Zn&&Zn<kt&&(lr=mn.pointCharge/Zn,Ht.px-=Gn*lr,Ht.py-=Qn*lr)}return!mn.charge}}function Yt(Ht){Ht.px=a.event.x,Ht.py=a.event.y,Oe.resume()}return Oe.tick=function(){if(($*=.99)<.005)return L=null,De.end({type:"end",alpha:$=0}),!0;var Ht,mn,yn,In,Rn,Gn,Qn,hr,Zn,lr=jt.length,_r=It.length;for(mn=0;mn<_r;++mn)In=(yn=It[mn]).source,(Gn=(hr=(Rn=yn.target).x-In.x)*hr+(Zn=Rn.y-In.y)*Zn)&&(hr*=Gn=$*ce[mn]*((Gn=Math.sqrt(Gn))-ne[mn])/Gn,Zn*=Gn,Rn.x-=hr*(Qn=In.weight+Rn.weight?In.weight/(In.weight+Rn.weight):.5),Rn.y-=Zn*Qn,In.x+=hr*(Qn=1-Qn),In.y+=Zn*Qn);if((Qn=$*Ot)&&(hr=He[0]/2,Zn=He[1]/2,mn=-1,Qn))for(;++mn<lr;)(yn=jt[mn]).x+=(hr-yn.x)*Qn,yn.y+=(Zn-yn.y)*Qn;if(vt)for(fo(Ht=a.geom.quadtree(jt),$,ve),mn=-1;++mn<lr;)(yn=jt[mn]).fixed||Ht.visit(Jt(yn));for(mn=-1;++mn<lr;)(yn=jt[mn]).fixed?(yn.x=yn.px,yn.y=yn.py):(yn.x-=(yn.px-(yn.px=yn.x))*We,yn.y-=(yn.py-(yn.py=yn.y))*We);De.tick({type:"tick",alpha:$})},Oe.nodes=function(Ht){return arguments.length?(jt=Ht,Oe):jt},Oe.links=function(Ht){return arguments.length?(It=Ht,Oe):It},Oe.size=function(Ht){return arguments.length?(He=Ht,Oe):He},Oe.linkDistance=function(Ht){return arguments.length?(rt=typeof Ht=="function"?Ht:+Ht,Oe):rt},Oe.distance=Oe.linkDistance,Oe.linkStrength=function(Ht){return arguments.length?(pt=typeof Ht=="function"?Ht:+Ht,Oe):pt},Oe.friction=function(Ht){return arguments.length?(We=+Ht,Oe):We},Oe.charge=function(Ht){return arguments.length?(vt=typeof Ht=="function"?Ht:+Ht,Oe):vt},Oe.chargeDistance=function(Ht){return arguments.length?(kt=Ht*Ht,Oe):Math.sqrt(kt)},Oe.gravity=function(Ht){return arguments.length?(Ot=+Ht,Oe):Ot},Oe.theta=function(Ht){return arguments.length?(Et=Ht*Ht,Oe):Math.sqrt(Et)},Oe.alpha=function(Ht){return arguments.length?(Ht=+Ht,$?Ht>0?$=Ht:(L.c=null,L.t=NaN,L=null,De.end({type:"end",alpha:$=0})):Ht>0&&(De.start({type:"start",alpha:$=Ht}),L=tn(Oe.tick)),Oe):$},Oe.start=function(){var Ht,mn,yn,In=jt.length,Rn=It.length,Gn=He[0],Qn=He[1];for(Ht=0;Ht<In;++Ht)(yn=jt[Ht]).index=Ht,yn.weight=0;for(Ht=0;Ht<Rn;++Ht)typeof(yn=It[Ht]).source=="number"&&(yn.source=jt[yn.source]),typeof yn.target=="number"&&(yn.target=jt[yn.target]),++yn.source.weight,++yn.target.weight;for(Ht=0;Ht<In;++Ht)yn=jt[Ht],isNaN(yn.x)&&(yn.x=hr("x",Gn)),isNaN(yn.y)&&(yn.y=hr("y",Qn)),isNaN(yn.px)&&(yn.px=yn.x),isNaN(yn.py)&&(yn.py=yn.y);if(ne=[],typeof rt=="function")for(Ht=0;Ht<Rn;++Ht)ne[Ht]=+rt.call(this,It[Ht],Ht);else for(Ht=0;Ht<Rn;++Ht)ne[Ht]=rt;if(ce=[],typeof pt=="function")for(Ht=0;Ht<Rn;++Ht)ce[Ht]=+pt.call(this,It[Ht],Ht);else for(Ht=0;Ht<Rn;++Ht)ce[Ht]=pt;if(ve=[],typeof vt=="function")for(Ht=0;Ht<In;++Ht)ve[Ht]=+vt.call(this,jt[Ht],Ht);else for(Ht=0;Ht<In;++Ht)ve[Ht]=vt;function hr(Zn,lr){if(!mn){for(mn=new Array(In),sr=0;sr<In;++sr)mn[sr]=[];for(sr=0;sr<Rn;++sr){var _r=It[sr];mn[_r.source.index].push(_r.target),mn[_r.target.index].push(_r.source)}}for(var Or,$n=mn[Ht],sr=-1,Mr=$n.length;++sr<Mr;)if(!isNaN(Or=$n[sr][Zn]))return Or;return Math.random()*lr}return Oe.resume()},Oe.resume=function(){return Oe.alpha(.1)},Oe.stop=function(){return Oe.alpha(0)},Oe.drag=function(){if(H||(H=a.behavior.drag().origin(R).on("dragstart.force",Fs).on("drag.force",Yt).on("dragend.force",bs)),!arguments.length)return H;this.on("mouseover.force",al).on("mouseout.force",_s).call(H)},a.rebind(Oe,De,"on")};var Xl=20,Qo=1,Bo=1/0;function No(L,H){return a.rebind(L,H,"sort","children","value"),L.nodes=L,L.links=Ns,L}function es(L,H){for(var $=[L];(L=$.pop())!=null;)if(H(L),(ce=L.children)&&(ne=ce.length))for(var ne,ce;--ne>=0;)$.push(ce[ne])}function Qr(L,H){for(var $=[L],ne=[];(L=$.pop())!=null;)if(ne.push(L),(ve=L.children)&&(ce=ve.length))for(var ce,ve,Oe=-1;++Oe<ce;)$.push(ve[Oe]);for(;(L=ne.pop())!=null;)H(L)}function Bs(L){return L.children}function Iu(L){return L.value}function Pl(L,H){return H.value-L.value}function Ns(L){return a.merge(L.map(function(H){return(H.children||[]).map(function($){return{source:H,target:$}})}))}a.layout.hierarchy=function(){var L=Pl,H=Bs,$=Iu;function ne(ce){var ve,Oe=[ce],De=[];for(ce.depth=0;(ve=Oe.pop())!=null;)if(De.push(ve),(We=H.call(ne,ve,ve.depth))&&(He=We.length)){for(var He,We,rt;--He>=0;)Oe.push(rt=We[He]),rt.parent=ve,rt.depth=ve.depth+1;$&&(ve.value=0),ve.children=We}else $&&(ve.value=+$.call(ne,ve,ve.depth)||0),delete ve.children;return Qr(ce,function(pt){var vt,kt;L&&(vt=pt.children)&&vt.sort(L),$&&(kt=pt.parent)&&(kt.value+=pt.value)}),De}return ne.sort=function(ce){return arguments.length?(L=ce,ne):L},ne.children=function(ce){return arguments.length?(H=ce,ne):H},ne.value=function(ce){return arguments.length?($=ce,ne):$},ne.revalue=function(ce){return $&&(es(ce,function(ve){ve.children&&(ve.value=0)}),Qr(ce,function(ve){var Oe;ve.children||(ve.value=+$.call(ne,ve,ve.depth)||0),(Oe=ve.parent)&&(Oe.value+=ve.value)})),ce},ne},a.layout.partition=function(){var L=a.layout.hierarchy(),H=[1,1];function $(ve,Oe,De,He){var We=ve.children;if(ve.x=Oe,ve.y=ve.depth*He,ve.dx=De,ve.dy=He,We&&(rt=We.length)){var rt,pt,vt,kt=-1;for(De=ve.value?De/ve.value:0;++kt<rt;)$(pt=We[kt],Oe,vt=pt.value*De,He),Oe+=vt}}function ne(ve){var Oe=ve.children,De=0;if(Oe&&(He=Oe.length))for(var He,We=-1;++We<He;)De=Math.max(De,ne(Oe[We]));return 1+De}function ce(ve,Oe){var De=L.call(this,ve,Oe);return $(De[0],0,H[0],H[1]/ne(De[0])),De}return ce.size=function(ve){return arguments.length?(H=ve,ce):H},No(ce,L)},a.layout.pie=function(){var L=Number,H=vu,$=0,ne=Ft,ce=0;function ve(Oe){var De,He=Oe.length,We=Oe.map(function(Jt,Yt){return+L.call(ve,Jt,Yt)}),rt=+(typeof $=="function"?$.apply(this,arguments):$),pt=(typeof ne=="function"?ne.apply(this,arguments):ne)-rt,vt=Math.min(Math.abs(pt)/He,+(typeof ce=="function"?ce.apply(this,arguments):ce)),kt=vt*(pt<0?-1:1),Ot=a.sum(We),Et=Ot?(pt-He*kt)/Ot:0,jt=a.range(He),It=[];return H!=null&&jt.sort(H===vu?function(Jt,Yt){return We[Yt]-We[Jt]}:function(Jt,Yt){return H(Oe[Jt],Oe[Yt])}),jt.forEach(function(Jt){It[Jt]={data:Oe[Jt],value:De=We[Jt],startAngle:rt,endAngle:rt+=De*Et+kt,padAngle:vt}}),It}return ve.value=function(Oe){return arguments.length?(L=Oe,ve):L},ve.sort=function(Oe){return arguments.length?(H=Oe,ve):H},ve.startAngle=function(Oe){return arguments.length?($=Oe,ve):$},ve.endAngle=function(Oe){return arguments.length?(ne=Oe,ve):ne},ve.padAngle=function(Oe){return arguments.length?(ce=Oe,ve):ce},ve};var vu={};function Du(L){return L.x}function Il(L){return L.y}function Ru(L,H,$){L.y0=H,L.y=$}a.layout.stack=function(){var L=R,H=jo,$=ho,ne=Ru,ce=Du,ve=Il;function Oe(De,He){if(!(vt=De.length))return De;var We=De.map(function(Jt,Yt){return L.call(Oe,Jt,Yt)}),rt=We.map(function(Jt){return Jt.map(function(Yt,Ht){return[ce.call(Oe,Yt,Ht),ve.call(Oe,Yt,Ht)]})}),pt=H.call(Oe,rt,He);We=a.permute(We,pt),rt=a.permute(rt,pt);var vt,kt,Ot,Et,jt=$.call(Oe,rt,He),It=We[0].length;for(Ot=0;Ot<It;++Ot)for(ne.call(Oe,We[0][Ot],Et=jt[Ot],rt[0][Ot][1]),kt=1;kt<vt;++kt)ne.call(Oe,We[kt][Ot],Et+=rt[kt-1][Ot][1],rt[kt][Ot][1]);return De}return Oe.values=function(De){return arguments.length?(L=De,Oe):L},Oe.order=function(De){return arguments.length?(H=typeof De=="function"?De:ts.get(De)||jo,Oe):H},Oe.offset=function(De){return arguments.length?($=typeof De=="function"?De:ws.get(De)||ho,Oe):$},Oe.x=function(De){return arguments.length?(ce=De,Oe):ce},Oe.y=function(De){return arguments.length?(ve=De,Oe):ve},Oe.out=function(De){return arguments.length?(ne=De,Oe):ne},Oe};var ts=a.map({"inside-out":function(L){var H,$,ne=L.length,ce=L.map(js),ve=L.map(mu),Oe=a.range(ne).sort(function(pt,vt){return ce[pt]-ce[vt]}),De=0,He=0,We=[],rt=[];for(H=0;H<ne;++H)$=Oe[H],De<He?(De+=ve[$],We.push($)):(He+=ve[$],rt.push($));return rt.reverse().concat(We)},reverse:function(L){return a.range(L.length).reverse()},default:jo}),ws=a.map({silhouette:function(L){var H,$,ne,ce=L.length,ve=L[0].length,Oe=[],De=0,He=[];for($=0;$<ve;++$){for(H=0,ne=0;H<ce;H++)ne+=L[H][$][1];ne>De&&(De=ne),Oe.push(ne)}for($=0;$<ve;++$)He[$]=(De-Oe[$])/2;return He},wiggle:function(L){var H,$,ne,ce,ve,Oe,De,He,We,rt=L.length,pt=L[0],vt=pt.length,kt=[];for(kt[0]=He=We=0,$=1;$<vt;++$){for(H=0,ce=0;H<rt;++H)ce+=L[H][$][1];for(H=0,ve=0,De=pt[$][0]-pt[$-1][0];H<rt;++H){for(ne=0,Oe=(L[H][$][1]-L[H][$-1][1])/(2*De);ne<H;++ne)Oe+=(L[ne][$][1]-L[ne][$-1][1])/De;ve+=Oe*L[H][$][1]}kt[$]=He-=ce?ve/ce*De:0,He<We&&(We=He)}for($=0;$<vt;++$)kt[$]-=We;return kt},expand:function(L){var H,$,ne,ce=L.length,ve=L[0].length,Oe=1/ce,De=[];for($=0;$<ve;++$){for(H=0,ne=0;H<ce;H++)ne+=L[H][$][1];if(ne)for(H=0;H<ce;H++)L[H][$][1]/=ne;else for(H=0;H<ce;H++)L[H][$][1]=Oe}for($=0;$<ve;++$)De[$]=0;return De},zero:ho});function jo(L){return a.range(L.length)}function ho(L){for(var H=-1,$=L[0].length,ne=[];++H<$;)ne[H]=0;return ne}function js(L){for(var H,$=1,ne=0,ce=L[0][1],ve=L.length;$<ve;++$)(H=L[$][1])>ce&&(ne=$,ce=H);return ne}function mu(L){return L.reduce(ol,0)}function ol(L,H){return L+H[1]}function Dl(L,H){return Wa(L,Math.ceil(Math.log(H.length)/Math.LN2+1))}function Wa(L,H){for(var $=-1,ne=+L[0],ce=(L[1]-ne)/H,ve=[];++$<=H;)ve[$]=ce*$+ne;return ve}function Rl(L){return[a.min(L),a.max(L)]}function yu(L,H){return L.value-H.value}function Us(L,H){var $=L._pack_next;L._pack_next=H,H._pack_prev=L,H._pack_next=$,$._pack_prev=H}function Ts(L,H){L._pack_next=H,H._pack_prev=L}function Vs(L,H){var $=H.x-L.x,ne=H.y-L.y,ce=L.r+H.r;return .999*ce*ce>$*$+ne*ne}function ks(L){if((H=L.children)&&(He=H.length)){var H,$,ne,ce,ve,Oe,De,He,We=1/0,rt=-1/0,pt=1/0,vt=-1/0;if(H.forEach(Ms),($=H[0]).x=-$.r,$.y=0,Yt($),He>1&&((ne=H[1]).x=ne.r,ne.y=0,Yt(ne),He>2))for(pi($,ne,ce=H[2]),Yt(ce),Us($,ce),$._pack_prev=ce,Us(ce,ne),ne=$._pack_next,ve=3;ve<He;ve++){pi($,ne,ce=H[ve]);var kt=0,Ot=1,Et=1;for(Oe=ne._pack_next;Oe!==ne;Oe=Oe._pack_next,Ot++)if(Vs(Oe,ce)){kt=1;break}if(kt==1)for(De=$._pack_prev;De!==Oe._pack_prev&&!Vs(De,ce);De=De._pack_prev,Et++);kt?(Ot<Et||Ot==Et&&ne.r<$.r?Ts($,ne=Oe):Ts($=De,ne),ve--):(Us($,ce),ne=ce,Yt(ce))}var jt=(We+rt)/2,It=(pt+vt)/2,Jt=0;for(ve=0;ve<He;ve++)(ce=H[ve]).x-=jt,ce.y-=It,Jt=Math.max(Jt,ce.r+Math.sqrt(ce.x*ce.x+ce.y*ce.y));L.r=Jt,H.forEach(sl)}function Yt(Ht){We=Math.min(Ht.x-Ht.r,We),rt=Math.max(Ht.x+Ht.r,rt),pt=Math.min(Ht.y-Ht.r,pt),vt=Math.max(Ht.y+Ht.r,vt)}}function Ms(L){L._pack_next=L._pack_prev=L}function sl(L){delete L._pack_next,delete L._pack_prev}function zl(L,H,$,ne){var ce=L.children;if(L.x=H+=ne*L.x,L.y=$+=ne*L.y,L.r*=ne,ce)for(var ve=-1,Oe=ce.length;++ve<Oe;)zl(ce[ve],H,$,ne)}function pi(L,H,$){var ne=L.r+$.r,ce=H.x-L.x,ve=H.y-L.y;if(ne&&(ce||ve)){var Oe=H.r+$.r,De=ce*ce+ve*ve,He=.5+((ne*=ne)-(Oe*=Oe))/(2*De),We=Math.sqrt(Math.max(0,2*Oe*(ne+De)-(ne-=De)*ne-Oe*Oe))/(2*De);$.x=L.x+He*ce+We*ve,$.y=L.y+He*ve-We*ce}else $.x=L.x+ne,$.y=L.y}function ns(L,H){return L.parent==H.parent?1:2}function ya(L){var H=L.children;return H.length?H[0]:L.t}function po(L){var H,$=L.children;return(H=$.length)?$[H-1]:L.t}function ai(L,H,$){var ne=$/(H.i-L.i);H.c-=ne,H.s+=$,L.c+=ne,H.z+=$,H.m+=$}function fi(L,H,$){return L.a.parent===H.parent?L.a:$}function Za(L){var H=L.children;return H&&H.length?Za(H[0]):L}function Hs(L){var H,$=L.children;return $&&(H=$.length)?Hs($[H-1]):L}function ll(L){return{x:L.x,y:L.y,dx:L.dx,dy:L.dy}}function Fl(L,H){var $=L.x+H[3],ne=L.y+H[0],ce=L.dx-H[1]-H[3],ve=L.dy-H[0]-H[2];return ce<0&&($+=ce/2,ce=0),ve<0&&(ne+=ve/2,ve=0),{x:$,y:ne,dx:ce,dy:ve}}function ul(L){var H=L[0],$=L[L.length-1];return H<$?[H,$]:[$,H]}function cl(L){return L.rangeExtent?L.rangeExtent():ul(L.range())}function eo(L,H,$,ne){var ce=$(L[0],L[1]),ve=ne(H[0],H[1]);return function(Oe){return ve(ce(Oe))}}function rs(L,H){var $,ne=0,ce=L.length-1,ve=L[ne],Oe=L[ce];return Oe<ve&&($=ne,ne=ce,ce=$,$=ve,ve=Oe,Oe=$),L[ne]=H.floor(ve),L[ce]=H.ceil(Oe),L}function is(L){return L?{floor:function(H){return Math.floor(H/L)*L},ceil:function(H){return Math.ceil(H/L)*L}}:ka}a.layout.histogram=function(){var L=!0,H=Number,$=Rl,ne=Dl;function ce(ve,Oe){for(var De,He,We=[],rt=ve.map(H,this),pt=$.call(this,rt,Oe),vt=ne.call(this,pt,rt,Oe),kt=(Oe=-1,rt.length),Ot=vt.length-1,Et=L?1:1/kt;++Oe<Ot;)(De=We[Oe]=[]).dx=vt[Oe+1]-(De.x=vt[Oe]),De.y=0;if(Ot>0)for(Oe=-1;++Oe<kt;)(He=rt[Oe])>=pt[0]&&He<=pt[1]&&((De=We[a.bisect(vt,He,1,Ot)-1]).y+=Et,De.push(ve[Oe]));return We}return ce.value=function(ve){return arguments.length?(H=ve,ce):H},ce.range=function(ve){return arguments.length?($=zn(ve),ce):$},ce.bins=function(ve){return arguments.length?(ne=typeof ve=="number"?function(Oe){return Wa(Oe,ve)}:zn(ve),ce):ne},ce.frequency=function(ve){return arguments.length?(L=!!ve,ce):L},ce},a.layout.pack=function(){var L,H=a.layout.hierarchy().sort(yu),$=0,ne=[1,1];function ce(ve,Oe){var De=H.call(this,ve,Oe),He=De[0],We=ne[0],rt=ne[1],pt=L==null?Math.sqrt:typeof L=="function"?L:function(){return L};if(He.x=He.y=0,Qr(He,function(kt){kt.r=+pt(kt.value)}),Qr(He,ks),$){var vt=$*(L?1:Math.max(2*He.r/We,2*He.r/rt))/2;Qr(He,function(kt){kt.r+=vt}),Qr(He,ks),Qr(He,function(kt){kt.r-=vt})}return zl(He,We/2,rt/2,L?1:1/Math.max(2*He.r/We,2*He.r/rt)),De}return ce.size=function(ve){return arguments.length?(ne=ve,ce):ne},ce.radius=function(ve){return arguments.length?(L=ve==null||typeof ve=="function"?ve:+ve,ce):L},ce.padding=function(ve){return arguments.length?($=+ve,ce):$},No(ce,H)},a.layout.tree=function(){var L=a.layout.hierarchy().sort(null).value(null),H=ns,$=[1,1],ne=null;function ce(He,We){var rt=L.call(this,He,We),pt=rt[0],vt=function(Yt){for(var Ht,mn={A:null,children:[Yt]},yn=[mn];(Ht=yn.pop())!=null;)for(var In,Rn=Ht.children,Gn=0,Qn=Rn.length;Gn<Qn;++Gn)yn.push((Rn[Gn]=In={_:Rn[Gn],parent:Ht,children:(In=Rn[Gn].children)&&In.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Gn}).a=In);return mn.children[0]}(pt);if(Qr(vt,ve),vt.parent.m=-vt.z,es(vt,Oe),ne)es(pt,De);else{var kt=pt,Ot=pt,Et=pt;es(pt,function(Yt){Yt.x<kt.x&&(kt=Yt),Yt.x>Ot.x&&(Ot=Yt),Yt.depth>Et.depth&&(Et=Yt)});var jt=H(kt,Ot)/2-kt.x,It=$[0]/(Ot.x+H(Ot,kt)/2+jt),Jt=$[1]/(Et.depth||1);es(pt,function(Yt){Yt.x=(Yt.x+jt)*It,Yt.y=Yt.depth*Jt})}return rt}function ve(He){var We=He.children,rt=He.parent.children,pt=He.i?rt[He.i-1]:null;if(We.length){(function(kt){for(var Ot,Et=0,jt=0,It=kt.children,Jt=It.length;--Jt>=0;)(Ot=It[Jt]).z+=Et,Ot.m+=Et,Et+=Ot.s+(jt+=Ot.c)})(He);var vt=(We[0].z+We[We.length-1].z)/2;pt?(He.z=pt.z+H(He._,pt._),He.m=He.z-vt):He.z=vt}else pt&&(He.z=pt.z+H(He._,pt._));He.parent.A=function(kt,Ot,Et){if(Ot){for(var jt,It=kt,Jt=kt,Yt=Ot,Ht=It.parent.children[0],mn=It.m,yn=Jt.m,In=Yt.m,Rn=Ht.m;Yt=po(Yt),It=ya(It),Yt&&It;)Ht=ya(Ht),(Jt=po(Jt)).a=kt,(jt=Yt.z+In-It.z-mn+H(Yt._,It._))>0&&(ai(fi(Yt,kt,Et),kt,jt),mn+=jt,yn+=jt),In+=Yt.m,mn+=It.m,Rn+=Ht.m,yn+=Jt.m;Yt&&!po(Jt)&&(Jt.t=Yt,Jt.m+=In-yn),It&&!ya(Ht)&&(Ht.t=It,Ht.m+=mn-Rn,Et=kt)}return Et}(He,pt,He.parent.A||rt[0])}function Oe(He){He._.x=He.z+He.parent.m,He.m+=He.parent.m}function De(He){He.x*=$[0],He.y=He.depth*$[1]}return ce.separation=function(He){return arguments.length?(H=He,ce):H},ce.size=function(He){return arguments.length?(ne=($=He)==null?De:null,ce):ne?null:$},ce.nodeSize=function(He){return arguments.length?(ne=($=He)==null?null:De,ce):ne?$:null},No(ce,L)},a.layout.cluster=function(){var L=a.layout.hierarchy().sort(null).value(null),H=ns,$=[1,1],ne=!1;function ce(ve,Oe){var De,He=L.call(this,ve,Oe),We=He[0],rt=0;Qr(We,function(Et){var jt=Et.children;jt&&jt.length?(Et.x=function(It){return It.reduce(function(Jt,Yt){return Jt+Yt.x},0)/It.length}(jt),Et.y=function(It){return 1+a.max(It,function(Jt){return Jt.y})}(jt)):(Et.x=De?rt+=H(Et,De):0,Et.y=0,De=Et)});var pt=Za(We),vt=Hs(We),kt=pt.x-H(pt,vt)/2,Ot=vt.x+H(vt,pt)/2;return Qr(We,ne?function(Et){Et.x=(Et.x-We.x)*$[0],Et.y=(We.y-Et.y)*$[1]}:function(Et){Et.x=(Et.x-kt)/(Ot-kt)*$[0],Et.y=(1-(We.y?Et.y/We.y:1))*$[1]}),He}return ce.separation=function(ve){return arguments.length?(H=ve,ce):H},ce.size=function(ve){return arguments.length?(ne=($=ve)==null,ce):ne?null:$},ce.nodeSize=function(ve){return arguments.length?(ne=($=ve)!=null,ce):ne?$:null},No(ce,L)},a.layout.treemap=function(){var L,H=a.layout.hierarchy(),$=Math.round,ne=[1,1],ce=null,ve=ll,Oe=!1,De="squarify",He=.5*(1+Math.sqrt(5));function We(Et,jt){for(var It,Jt,Yt=-1,Ht=Et.length;++Yt<Ht;)Jt=(It=Et[Yt]).value*(jt<0?0:jt),It.area=isNaN(Jt)||Jt<=0?0:Jt}function rt(Et){var jt=Et.children;if(jt&&jt.length){var It,Jt,Yt,Ht=ve(Et),mn=[],yn=jt.slice(),In=1/0,Rn=De==="slice"?Ht.dx:De==="dice"?Ht.dy:De==="slice-dice"?1&Et.depth?Ht.dy:Ht.dx:Math.min(Ht.dx,Ht.dy);for(We(yn,Ht.dx*Ht.dy/Et.value),mn.area=0;(Yt=yn.length)>0;)mn.push(It=yn[Yt-1]),mn.area+=It.area,De!=="squarify"||(Jt=vt(mn,Rn))<=In?(yn.pop(),In=Jt):(mn.area-=mn.pop().area,kt(mn,Rn,Ht,!1),Rn=Math.min(Ht.dx,Ht.dy),mn.length=mn.area=0,In=1/0);mn.length&&(kt(mn,Rn,Ht,!0),mn.length=mn.area=0),jt.forEach(rt)}}function pt(Et){var jt=Et.children;if(jt&&jt.length){var It,Jt=ve(Et),Yt=jt.slice(),Ht=[];for(We(Yt,Jt.dx*Jt.dy/Et.value),Ht.area=0;It=Yt.pop();)Ht.push(It),Ht.area+=It.area,It.z!=null&&(kt(Ht,It.z?Jt.dx:Jt.dy,Jt,!Yt.length),Ht.length=Ht.area=0);jt.forEach(pt)}}function vt(Et,jt){for(var It,Jt=Et.area,Yt=0,Ht=1/0,mn=-1,yn=Et.length;++mn<yn;)(It=Et[mn].area)&&(It<Ht&&(Ht=It),It>Yt&&(Yt=It));return jt*=jt,(Jt*=Jt)?Math.max(jt*Yt*He/Jt,Jt/(jt*Ht*He)):1/0}function kt(Et,jt,It,Jt){var Yt,Ht=-1,mn=Et.length,yn=It.x,In=It.y,Rn=jt?$(Et.area/jt):0;if(jt==It.dx){for((Jt||Rn>It.dy)&&(Rn=It.dy);++Ht<mn;)(Yt=Et[Ht]).x=yn,Yt.y=In,Yt.dy=Rn,yn+=Yt.dx=Math.min(It.x+It.dx-yn,Rn?$(Yt.area/Rn):0);Yt.z=!0,Yt.dx+=It.x+It.dx-yn,It.y+=Rn,It.dy-=Rn}else{for((Jt||Rn>It.dx)&&(Rn=It.dx);++Ht<mn;)(Yt=Et[Ht]).x=yn,Yt.y=In,Yt.dx=Rn,In+=Yt.dy=Math.min(It.y+It.dy-In,Rn?$(Yt.area/Rn):0);Yt.z=!1,Yt.dy+=It.y+It.dy-In,It.x+=Rn,It.dx-=Rn}}function Ot(Et){var jt=L||H(Et),It=jt[0];return It.x=It.y=0,It.value?(It.dx=ne[0],It.dy=ne[1]):It.dx=It.dy=0,L&&H.revalue(It),We([It],It.dx*It.dy/It.value),(L?pt:rt)(It),Oe&&(L=jt),jt}return Ot.size=function(Et){return arguments.length?(ne=Et,Ot):ne},Ot.padding=function(Et){if(!arguments.length)return ce;function jt(Jt){return Fl(Jt,Et)}var It;return ve=(ce=Et)==null?ll:(It=typeof Et)=="function"?function(Jt){var Yt=Et.call(Ot,Jt,Jt.depth);return Yt==null?ll(Jt):Fl(Jt,typeof Yt=="number"?[Yt,Yt,Yt,Yt]:Yt)}:(It==="number"&&(Et=[Et,Et,Et,Et]),jt),Ot},Ot.round=function(Et){return arguments.length?($=Et?Math.round:Number,Ot):$!=Number},Ot.sticky=function(Et){return arguments.length?(Oe=Et,L=null,Ot):Oe},Ot.ratio=function(Et){return arguments.length?(He=Et,Ot):He},Ot.mode=function(Et){return arguments.length?(De=Et+"",Ot):De},No(Ot,H)},a.random={normal:function(L,H){var $=arguments.length;return $<2&&(H=1),$<1&&(L=0),function(){var ne,ce,ve;do ve=(ne=2*Math.random()-1)*ne+(ce=2*Math.random()-1)*ce;while(!ve||ve>1);return L+H*ne*Math.sqrt(-2*Math.log(ve)/ve)}},logNormal:function(){var L=a.random.normal.apply(a,arguments);return function(){return Math.exp(L())}},bates:function(L){var H=a.random.irwinHall(L);return function(){return H()/L}},irwinHall:function(L){return function(){for(var H=0,$=0;$<L;$++)H+=Math.random();return H}}},a.scale={};var ka={floor:R,ceil:R};function fl(L,H,$,ne){var ce=[],ve=[],Oe=0,De=Math.min(L.length,H.length)-1;for(L[De]<L[0]&&(L=L.slice().reverse(),H=H.slice().reverse());++Oe<=De;)ce.push($(L[Oe-1],L[Oe])),ve.push(ne(H[Oe-1],H[Oe]));return function(He){var We=a.bisect(L,He,1,De)-1;return ve[We](ce[We](He))}}function to(L,H,$,ne){var ce,ve;function Oe(){var He=Math.min(L.length,H.length)>2?fl:eo,We=ne?Pu:Ou;return ce=He(L,H,We,$),ve=He(H,L,We,Ro),De}function De(He){return ce(He)}return De.invert=function(He){return ve(He)},De.domain=function(He){return arguments.length?(L=He.map(Number),Oe()):L},De.range=function(He){return arguments.length?(H=He,Oe()):H},De.rangeRound=function(He){return De.range(He).interpolate(Zl)},De.clamp=function(He){return arguments.length?(ne=He,Oe()):ne},De.interpolate=function(He){return arguments.length?($=He,Oe()):$},De.ticks=function(He){return fa(L,He)},De.tickFormat=function(He,We){return d3_scale_linearTickFormat(L,He,We)},De.nice=function(He){return ca(L,He),Oe()},De.copy=function(){return to(L,H,$,ne)},Oe()}function aa(L,H){return a.rebind(L,H,"range","rangeRound","interpolate","clamp")}function ca(L,H){return rs(L,is(wi(L,H)[2])),rs(L,is(wi(L,H)[2])),L}function wi(L,H){H==null&&(H=10);var $=ul(L),ne=$[1]-$[0],ce=Math.pow(10,Math.floor(Math.log(ne/H)/Math.LN10)),ve=H/ne*ce;return ve<=.15?ce*=10:ve<=.35?ce*=5:ve<=.75&&(ce*=2),$[0]=Math.ceil($[0]/ce)*ce,$[1]=Math.floor($[1]/ce)*ce+.5*ce,$[2]=ce,$}function fa(L,H){return a.range.apply(a,wi(L,H))}function So(L,H,$,ne){function ce(De){return($?Math.log(De<0?0:De):-Math.log(De>0?0:-De))/Math.log(H)}function ve(De){return $?Math.pow(H,De):-Math.pow(H,-De)}function Oe(De){return L(ce(De))}return Oe.invert=function(De){return ve(L.invert(De))},Oe.domain=function(De){return arguments.length?($=De[0]>=0,L.domain((ne=De.map(Number)).map(ce)),Oe):ne},Oe.base=function(De){return arguments.length?(H=+De,L.domain(ne.map(ce)),Oe):H},Oe.nice=function(){var De=rs(ne.map(ce),$?Math:As);return L.domain(De),ne=De.map(ve),Oe},Oe.ticks=function(){var De=ul(ne),He=[],We=De[0],rt=De[1],pt=Math.floor(ce(We)),vt=Math.ceil(ce(rt)),kt=H%1?2:H;if(isFinite(vt-pt)){if($){for(;pt<vt;pt++)for(var Ot=1;Ot<kt;Ot++)He.push(ve(pt)*Ot);He.push(ve(pt))}else for(He.push(ve(pt));pt++<vt;)for(Ot=kt-1;Ot>0;Ot--)He.push(ve(pt)*Ot);for(pt=0;He[pt]<We;pt++);for(vt=He.length;He[vt-1]>rt;vt--);He=He.slice(pt,vt)}return He},Oe.copy=function(){return So(L.copy(),H,$,ne)},aa(Oe,L)}a.scale.linear=function(){return to([0,1],[0,1],Ro,!1)},a.scale.log=function(){return So(a.scale.linear().domain([0,1]),10,!0,[1,10])};var As={floor:function(L){return-Math.ceil(-L)},ceil:function(L){return-Math.floor(-L)}};function go(L,H,$){var ne=as(H),ce=as(1/H);function ve(Oe){return L(ne(Oe))}return ve.invert=function(Oe){return ce(L.invert(Oe))},ve.domain=function(Oe){return arguments.length?(L.domain(($=Oe.map(Number)).map(ne)),ve):$},ve.ticks=function(Oe){return fa($,Oe)},ve.tickFormat=function(Oe,De){return d3_scale_linearTickFormat($,Oe,De)},ve.nice=function(Oe){return ve.domain(ca($,Oe))},ve.exponent=function(Oe){return arguments.length?(ne=as(H=Oe),ce=as(1/H),L.domain($.map(ne)),ve):H},ve.copy=function(){return go(L.copy(),H,$)},aa(ve,L)}function as(L){return function(H){return H<0?-Math.pow(-H,L):Math.pow(H,L)}}function Oa(L,H){var $,ne,ce;function ve(De){return ne[(($.get(De)||(H.t==="range"?$.set(De,L.push(De)):NaN))-1)%ne.length]}function Oe(De,He){return a.range(L.length).map(function(We){return De+He*We})}return ve.domain=function(De){if(!arguments.length)return L;L=[],$=new m;for(var He,We=-1,rt=De.length;++We<rt;)$.has(He=De[We])||$.set(He,L.push(He));return ve[H.t].apply(ve,H.a)},ve.range=function(De){return arguments.length?(ne=De,ce=0,H={t:"range",a:arguments},ve):ne},ve.rangePoints=function(De,He){arguments.length<2&&(He=0);var We=De[0],rt=De[1],pt=L.length<2?(We=(We+rt)/2,0):(rt-We)/(L.length-1+He);return ne=Oe(We+pt*He/2,pt),ce=0,H={t:"rangePoints",a:arguments},ve},ve.rangeRoundPoints=function(De,He){arguments.length<2&&(He=0);var We=De[0],rt=De[1],pt=L.length<2?(We=rt=Math.round((We+rt)/2),0):(rt-We)/(L.length-1+He)|0;return ne=Oe(We+Math.round(pt*He/2+(rt-We-(L.length-1+He)*pt)/2),pt),ce=0,H={t:"rangeRoundPoints",a:arguments},ve},ve.rangeBands=function(De,He,We){arguments.length<2&&(He=0),arguments.length<3&&(We=He);var rt=De[1]<De[0],pt=De[rt-0],vt=(De[1-rt]-pt)/(L.length-He+2*We);return ne=Oe(pt+vt*We,vt),rt&&ne.reverse(),ce=vt*(1-He),H={t:"rangeBands",a:arguments},ve},ve.rangeRoundBands=function(De,He,We){arguments.length<2&&(He=0),arguments.length<3&&(We=He);var rt=De[1]<De[0],pt=De[rt-0],vt=De[1-rt],kt=Math.floor((vt-pt)/(L.length-He+2*We));return ne=Oe(pt+Math.round((vt-pt-(L.length-He)*kt)/2),kt),rt&&ne.reverse(),ce=Math.round(kt*(1-He)),H={t:"rangeRoundBands",a:arguments},ve},ve.rangeBand=function(){return ce},ve.rangeExtent=function(){return ul(H.a[0])},ve.copy=function(){return Oa(L,H)},ve.domain(L)}a.scale.pow=function(){return go(a.scale.linear(),1,[0,1])},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return Oa([],{t:"range",a:[[]]})},a.scale.category10=function(){return a.scale.ordinal().range(Ss)},a.scale.category20=function(){return a.scale.ordinal().range(Uo)},a.scale.category20b=function(){return a.scale.ordinal().range(no)},a.scale.category20c=function(){return a.scale.ordinal().range(ro)};var Ss=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Zt),Uo=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Zt),no=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Zt),ro=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Zt);function ki(L,H){var $;function ne(){var ve=0,Oe=H.length;for($=[];++ve<Oe;)$[ve-1]=a.quantile(L,ve/Oe);return ce}function ce(ve){if(!isNaN(ve=+ve))return H[a.bisect($,ve)]}return ce.domain=function(ve){return arguments.length?(L=ve.map(p).filter(c).sort(u),ne()):L},ce.range=function(ve){return arguments.length?(H=ve,ne()):H},ce.quantiles=function(){return $},ce.invertExtent=function(ve){return(ve=H.indexOf(ve))<0?[NaN,NaN]:[ve>0?$[ve-1]:L[0],ve<$.length?$[ve]:L[L.length-1]]},ce.copy=function(){return ki(L,H)},ne()}function vo(L,H,$){var ne,ce;function ve(De){return $[Math.max(0,Math.min(ce,Math.floor(ne*(De-L))))]}function Oe(){return ne=$.length/(H-L),ce=$.length-1,ve}return ve.domain=function(De){return arguments.length?(L=+De[0],H=+De[De.length-1],Oe()):[L,H]},ve.range=function(De){return arguments.length?($=De,Oe()):$},ve.invertExtent=function(De){return[De=(De=$.indexOf(De))<0?NaN:De/ne+L,De+1/ne]},ve.copy=function(){return vo(L,H,$)},Oe()}function Sr(L,H){function $(ne){if(ne<=ne)return H[a.bisect(L,ne)]}return $.domain=function(ne){return arguments.length?(L=ne,$):L},$.range=function(ne){return arguments.length?(H=ne,$):H},$.invertExtent=function(ne){return ne=H.indexOf(ne),[L[ne-1],L[ne]]},$.copy=function(){return Sr(L,H)},$}function hl(L){function H($){return+$}return H.invert=H,H.domain=H.range=function($){return arguments.length?(L=$.map(H),H):L},H.ticks=function($){return fa(L,$)},H.tickFormat=function($,ne){return d3_scale_linearTickFormat(L,$,ne)},H.copy=function(){return hl(L)},H}function Jl(){return 0}a.scale.quantile=function(){return ki([],[])},a.scale.quantize=function(){return vo(0,1,[0,1])},a.scale.threshold=function(){return Sr([.5],[0,1])},a.scale.identity=function(){return hl([0,1])},a.svg={},a.svg.arc=function(){var L=ss,H=Es,$=Jl,ne=os,ce=Gs,ve=br,Oe=pl;function De(){var We=Math.max(0,+L.apply(this,arguments)),rt=Math.max(0,+H.apply(this,arguments)),pt=ce.apply(this,arguments)-Ze,vt=ve.apply(this,arguments)-Ze,kt=Math.abs(vt-pt),Ot=pt>vt?0:1;if(rt<We&&(Et=rt,rt=We,We=Et),kt>=Pt)return He(rt,Ot)+(We?He(We,1-Ot):"")+"Z";var Et,jt,It,Jt,Yt,Ht,mn,yn,In,Rn,Gn,Qn,hr=0,Zn=0,lr=[];if((Jt=(+Oe.apply(this,arguments)||0)/2)&&(It=ne===os?Math.sqrt(We*We+rt*rt):+ne.apply(this,arguments),Ot||(Zn*=-1),rt&&(Zn=Xe(It/rt*Math.sin(Jt))),We&&(hr=Xe(It/We*Math.sin(Jt)))),rt){Yt=rt*Math.cos(pt+Zn),Ht=rt*Math.sin(pt+Zn),mn=rt*Math.cos(vt-Zn),yn=rt*Math.sin(vt-Zn);var _r=Math.abs(vt-pt-2*Zn)<=zt?0:1;if(Zn&&Vo(Yt,Ht,mn,yn)===Ot^_r){var Or=(pt+vt)/2;Yt=rt*Math.cos(Or),Ht=rt*Math.sin(Or),mn=yn=null}}else Yt=Ht=0;if(We){In=We*Math.cos(vt-hr),Rn=We*Math.sin(vt-hr),Gn=We*Math.cos(pt+hr),Qn=We*Math.sin(pt+hr);var $n=Math.abs(pt-vt+2*hr)<=zt?0:1;if(hr&&Vo(In,Rn,Gn,Qn)===1-Ot^$n){var sr=(pt+vt)/2;In=We*Math.cos(sr),Rn=We*Math.sin(sr),Gn=Qn=null}}else In=Rn=0;if(kt>st&&(Et=Math.min(Math.abs(rt-We)/2,+$.apply(this,arguments)))>.001){jt=We<rt^Ot?0:1;var Mr=Et,pr=Et;if(kt<zt){var Er=Gn==null?[In,Rn]:mn==null?[Yt,Ht]:Rt([Yt,Ht],[Gn,Qn],[mn,yn],[In,Rn]),zr=Yt-Er[0],Yr=Ht-Er[1],Zr=mn-Er[0],Kr=yn-Er[1],ni=1/Math.sin(Math.acos((zr*Zr+Yr*Kr)/(Math.sqrt(zr*zr+Yr*Yr)*Math.sqrt(Zr*Zr+Kr*Kr)))/2),Ai=Math.sqrt(Er[0]*Er[0]+Er[1]*Er[1]);pr=Math.min(Et,(We-Ai)/(ni-1)),Mr=Math.min(Et,(rt-Ai)/(ni+1))}if(mn!=null){var Gi=oa(Gn==null?[In,Rn]:[Gn,Qn],[Yt,Ht],rt,Mr,Ot),Aa=oa([mn,yn],[In,Rn],rt,Mr,Ot);Et===Mr?lr.push("M",Gi[0],"A",Mr,",",Mr," 0 0,",jt," ",Gi[1],"A",rt,",",rt," 0 ",1-Ot^Vo(Gi[1][0],Gi[1][1],Aa[1][0],Aa[1][1]),",",Ot," ",Aa[1],"A",Mr,",",Mr," 0 0,",jt," ",Aa[0]):lr.push("M",Gi[0],"A",Mr,",",Mr," 0 1,",jt," ",Aa[0])}else lr.push("M",Yt,",",Ht);if(Gn!=null){var sa=oa([Yt,Ht],[Gn,Qn],We,-pr,Ot),xa=oa([In,Rn],mn==null?[Yt,Ht]:[mn,yn],We,-pr,Ot);Et===pr?lr.push("L",xa[0],"A",pr,",",pr," 0 0,",jt," ",xa[1],"A",We,",",We," 0 ",Ot^Vo(xa[1][0],xa[1][1],sa[1][0],sa[1][1]),",",1-Ot," ",sa[1],"A",pr,",",pr," 0 0,",jt," ",sa[0]):lr.push("L",xa[0],"A",pr,",",pr," 0 0,",jt," ",sa[0])}else lr.push("L",In,",",Rn)}else lr.push("M",Yt,",",Ht),mn!=null&&lr.push("A",rt,",",rt," 0 ",_r,",",Ot," ",mn,",",yn),lr.push("L",In,",",Rn),Gn!=null&&lr.push("A",We,",",We," 0 ",$n,",",1-Ot," ",Gn,",",Qn);return lr.push("Z"),lr.join("")}function He(We,rt){return"M0,"+We+"A"+We+","+We+" 0 1,"+rt+" 0,"+-We+"A"+We+","+We+" 0 1,"+rt+" 0,"+We}return De.innerRadius=function(We){return arguments.length?(L=zn(We),De):L},De.outerRadius=function(We){return arguments.length?(H=zn(We),De):H},De.cornerRadius=function(We){return arguments.length?($=zn(We),De):$},De.padRadius=function(We){return arguments.length?(ne=We==os?os:zn(We),De):ne},De.startAngle=function(We){return arguments.length?(ce=zn(We),De):ce},De.endAngle=function(We){return arguments.length?(ve=zn(We),De):ve},De.padAngle=function(We){return arguments.length?(Oe=zn(We),De):Oe},De.centroid=function(){var We=(+L.apply(this,arguments)+ +H.apply(this,arguments))/2,rt=(+ce.apply(this,arguments)+ +ve.apply(this,arguments))/2-Ze;return[Math.cos(rt)*We,Math.sin(rt)*We]},De};var os="auto";function ss(L){return L.innerRadius}function Es(L){return L.outerRadius}function Gs(L){return L.startAngle}function br(L){return L.endAngle}function pl(L){return L&&L.padAngle}function Vo(L,H,$,ne){return(L-$)*H-(H-ne)*L>0?0:1}function oa(L,H,$,ne,ce){var ve=L[0]-H[0],Oe=L[1]-H[1],De=(ce?ne:-ne)/Math.sqrt(ve*ve+Oe*Oe),He=De*Oe,We=-De*ve,rt=L[0]+He,pt=L[1]+We,vt=H[0]+He,kt=H[1]+We,Ot=(rt+vt)/2,Et=(pt+kt)/2,jt=vt-rt,It=kt-pt,Jt=jt*jt+It*It,Yt=$-ne,Ht=rt*kt-vt*pt,mn=(It<0?-1:1)*Math.sqrt(Math.max(0,Yt*Yt*Jt-Ht*Ht)),yn=(Ht*It-jt*mn)/Jt,In=(-Ht*jt-It*mn)/Jt,Rn=(Ht*It+jt*mn)/Jt,Gn=(-Ht*jt+It*mn)/Jt,Qn=yn-Ot,hr=In-Et,Zn=Rn-Ot,lr=Gn-Et;return Qn*Qn+hr*hr>Zn*Zn+lr*lr&&(yn=Rn,In=Gn),[[yn-He,In-We],[yn*$/Yt,In*$/Yt]]}function ls(){return!0}function mo(L){var H=Vn,$=Bn,ne=ls,ce=Ma,ve=ce.key,Oe=.7;function De(He){var We,rt=[],pt=[],vt=-1,kt=He.length,Ot=zn(H),Et=zn($);function jt(){rt.push("M",ce(L(pt),Oe))}for(;++vt<kt;)ne.call(this,We=He[vt],vt)?pt.push([+Ot.call(this,We,vt),+Et.call(this,We,vt)]):pt.length&&(jt(),pt=[]);return pt.length&&jt(),rt.length?rt.join(""):null}return De.x=function(He){return arguments.length?(H=He,De):H},De.y=function(He){return arguments.length?($=He,De):$},De.defined=function(He){return arguments.length?(ne=He,De):ne},De.interpolate=function(He){return arguments.length?(ve=typeof He=="function"?ce=He:(ce=io.get(He)||Ma).key,De):ve},De.tension=function(He){return arguments.length?(Oe=He,De):Oe},De}a.svg.line=function(){return mo(R)};var io=a.map({linear:Ma,"linear-closed":Eo,step:function(L){for(var H=0,$=L.length,ne=L[0],ce=[ne[0],",",ne[1]];++H<$;)ce.push("H",(ne[0]+(ne=L[H])[0])/2,"V",ne[1]);return $>1&&ce.push("H",ne[0]),ce.join("")},"step-before":ao,"step-after":Ho,basis:ri,"basis-open":function(L){if(L.length<4)return Ma(L);for(var H,$=[],ne=-1,ce=L.length,ve=[0],Oe=[0];++ne<3;)H=L[ne],ve.push(H[0]),Oe.push(H[1]);for($.push(ha(Ia,ve)+","+ha(Ia,Oe)),--ne;++ne<ce;)H=L[ne],ve.shift(),ve.push(H[0]),Oe.shift(),Oe.push(H[1]),qs($,ve,Oe);return $.join("")},"basis-closed":function(L){for(var H,$,ne=-1,ce=L.length,ve=ce+4,Oe=[],De=[];++ne<4;)$=L[ne%ce],Oe.push($[0]),De.push($[1]);for(H=[ha(Ia,Oe),",",ha(Ia,De)],--ne;++ne<ve;)$=L[ne%ce],Oe.shift(),Oe.push($[0]),De.shift(),De.push($[1]),qs(H,Oe,De);return H.join("")},bundle:function(L,H){var $=L.length-1;if($)for(var ne,ce,ve=L[0][0],Oe=L[0][1],De=L[$][0]-ve,He=L[$][1]-Oe,We=-1;++We<=$;)ce=We/$,(ne=L[We])[0]=H*ne[0]+(1-H)*(ve+ce*De),ne[1]=H*ne[1]+(1-H)*(Oe+ce*He);return ri(L)},cardinal:function(L,H){return L.length<3?Ma(L):L[0]+dl(L,us(L,H))},"cardinal-open":function(L,H){return L.length<4?Ma(L):L[1]+dl(L.slice(1,-1),us(L,H))},"cardinal-closed":function(L,H){return L.length<3?Eo(L):L[0]+dl((L.push(L[0]),L),us([L[L.length-2]].concat(L,[L[1]]),H))},monotone:function(L){return L.length<3?Ma(L):L[0]+dl(L,function(H){for(var $,ne,ce,ve,Oe=[],De=function(rt){for(var pt=0,vt=rt.length-1,kt=[],Ot=rt[0],Et=rt[1],jt=kt[0]=Ys(Ot,Et);++pt<vt;)kt[pt]=(jt+(jt=Ys(Ot=Et,Et=rt[pt+1])))/2;return kt[pt]=jt,kt}(H),He=-1,We=H.length-1;++He<We;)$=Ys(H[He],H[He+1]),v($)<st?De[He]=De[He+1]=0:(ve=(ne=De[He]/$)*ne+(ce=De[He+1]/$)*ce)>9&&(ve=3*$/Math.sqrt(ve),De[He]=ve*ne,De[He+1]=ve*ce);for(He=-1;++He<=We;)ve=(H[Math.min(We,He+1)][0]-H[Math.max(0,He-1)][0])/(6*(1+De[He]*De[He])),Oe.push([ve||0,De[He]*ve||0]);return Oe}(L))}});function Ma(L){return L.length>1?L.join("L"):L+"Z"}function Eo(L){return L.join("L")+"Z"}function ao(L){for(var H=0,$=L.length,ne=L[0],ce=[ne[0],",",ne[1]];++H<$;)ce.push("V",(ne=L[H])[1],"H",ne[0]);return ce.join("")}function Ho(L){for(var H=0,$=L.length,ne=L[0],ce=[ne[0],",",ne[1]];++H<$;)ce.push("H",(ne=L[H])[0],"V",ne[1]);return ce.join("")}function dl(L,H){if(H.length<1||L.length!=H.length&&L.length!=H.length+2)return Ma(L);var $=L.length!=H.length,ne="",ce=L[0],ve=L[1],Oe=H[0],De=Oe,He=1;if($&&(ne+="Q"+(ve[0]-2*Oe[0]/3)+","+(ve[1]-2*Oe[1]/3)+","+ve[0]+","+ve[1],ce=L[1],He=2),H.length>1){De=H[1],ve=L[He],He++,ne+="C"+(ce[0]+Oe[0])+","+(ce[1]+Oe[1])+","+(ve[0]-De[0])+","+(ve[1]-De[1])+","+ve[0]+","+ve[1];for(var We=2;We<H.length;We++,He++)ve=L[He],De=H[We],ne+="S"+(ve[0]-De[0])+","+(ve[1]-De[1])+","+ve[0]+","+ve[1]}if($){var rt=L[He];ne+="Q"+(ve[0]+2*De[0]/3)+","+(ve[1]+2*De[1]/3)+","+rt[0]+","+rt[1]}return ne}function us(L,H){for(var $,ne=[],ce=(1-H)/2,ve=L[0],Oe=L[1],De=1,He=L.length;++De<He;)$=ve,ve=Oe,Oe=L[De],ne.push([ce*(Oe[0]-$[0]),ce*(Oe[1]-$[1])]);return ne}function ri(L){if(L.length<3)return Ma(L);var H=1,$=L.length,ne=L[0],ce=ne[0],ve=ne[1],Oe=[ce,ce,ce,(ne=L[1])[0]],De=[ve,ve,ve,ne[1]],He=[ce,",",ve,"L",ha(Ia,Oe),",",ha(Ia,De)];for(L.push(L[$-1]);++H<=$;)ne=L[H],Oe.shift(),Oe.push(ne[0]),De.shift(),De.push(ne[1]),qs(He,Oe,De);return L.pop(),He.push("L",ne),He.join("")}function ha(L,H){return L[0]*H[0]+L[1]*H[1]+L[2]*H[2]+L[3]*H[3]}io.forEach(function(L,H){H.key=L,H.closed=/-closed$/.test(L)});var Pa=[0,2/3,1/3,0],Lo=[0,1/3,2/3,0],Ia=[0,1/6,2/3,1/6];function qs(L,H,$){L.push("C",ha(Pa,H),",",ha(Pa,$),",",ha(Lo,H),",",ha(Lo,$),",",ha(Ia,H),",",ha(Ia,$))}function Ys(L,H){return(H[1]-L[1])/(H[0]-L[0])}function Da(L){for(var H,$,ne,ce=-1,ve=L.length;++ce<ve;)$=(H=L[ce])[0],ne=H[1]-Ze,H[0]=$*Math.cos(ne),H[1]=$*Math.sin(ne);return L}function ti(L){var H=Vn,$=Vn,ne=0,ce=Bn,ve=ls,Oe=Ma,De=Oe.key,He=Oe,We="L",rt=.7;function pt(vt){var kt,Ot,Et,jt=[],It=[],Jt=[],Yt=-1,Ht=vt.length,mn=zn(H),yn=zn(ne),In=H===$?function(){return Ot}:zn($),Rn=ne===ce?function(){return Et}:zn(ce);function Gn(){jt.push("M",Oe(L(Jt),rt),We,He(L(It.reverse()),rt),"Z")}for(;++Yt<Ht;)ve.call(this,kt=vt[Yt],Yt)?(It.push([Ot=+mn.call(this,kt,Yt),Et=+yn.call(this,kt,Yt)]),Jt.push([+In.call(this,kt,Yt),+Rn.call(this,kt,Yt)])):It.length&&(Gn(),It=[],Jt=[]);return It.length&&Gn(),jt.length?jt.join(""):null}return pt.x=function(vt){return arguments.length?(H=$=vt,pt):$},pt.x0=function(vt){return arguments.length?(H=vt,pt):H},pt.x1=function(vt){return arguments.length?($=vt,pt):$},pt.y=function(vt){return arguments.length?(ne=ce=vt,pt):ce},pt.y0=function(vt){return arguments.length?(ne=vt,pt):ne},pt.y1=function(vt){return arguments.length?(ce=vt,pt):ce},pt.defined=function(vt){return arguments.length?(ve=vt,pt):ve},pt.interpolate=function(vt){return arguments.length?(De=typeof vt=="function"?Oe=vt:(Oe=io.get(vt)||Ma).key,He=Oe.reverse||Oe,We=Oe.closed?"M":"L",pt):De},pt.tension=function(vt){return arguments.length?(rt=vt,pt):rt},pt}function Co(L){return L.source}function Ls(L){return L.target}function yo(L){return L.radius}function Ws(L){return[L.x,L.y]}function Zs(){return 64}function xo(){return"circle"}function Mi(L){var H=Math.sqrt(L/zt);return"M0,"+H+"A"+H+","+H+" 0 1,1 0,"+-H+"A"+H+","+H+" 0 1,1 0,"+H+"Z"}a.svg.line.radial=function(){var L=mo(Da);return L.radius=L.x,delete L.x,L.angle=L.y,delete L.y,L},ao.reverse=Ho,Ho.reverse=ao,a.svg.area=function(){return ti(R)},a.svg.area.radial=function(){var L=ti(Da);return L.radius=L.x,delete L.x,L.innerRadius=L.x0,delete L.x0,L.outerRadius=L.x1,delete L.x1,L.angle=L.y,delete L.y,L.startAngle=L.y0,delete L.y0,L.endAngle=L.y1,delete L.y1,L},a.svg.chord=function(){var L=Co,H=Ls,$=yo,ne=Gs,ce=br;function ve(We,rt){var pt,vt,kt=Oe(this,L,We,rt),Ot=Oe(this,H,We,rt);return"M"+kt.p0+De(kt.r,kt.p1,kt.a1-kt.a0)+(vt=Ot,((pt=kt).a0==vt.a0&&pt.a1==vt.a1?He(kt.r,kt.p1,kt.r,kt.p0):He(kt.r,kt.p1,Ot.r,Ot.p0)+De(Ot.r,Ot.p1,Ot.a1-Ot.a0)+He(Ot.r,Ot.p1,kt.r,kt.p0))+"Z")}function Oe(We,rt,pt,vt){var kt=rt.call(We,pt,vt),Ot=$.call(We,kt,vt),Et=ne.call(We,kt,vt)-Ze,jt=ce.call(We,kt,vt)-Ze;return{r:Ot,a0:Et,a1:jt,p0:[Ot*Math.cos(Et),Ot*Math.sin(Et)],p1:[Ot*Math.cos(jt),Ot*Math.sin(jt)]}}function De(We,rt,pt){return"A"+We+","+We+" 0 "+ +(pt>zt)+",1 "+rt}function He(We,rt,pt,vt){return"Q 0,0 "+vt}return ve.radius=function(We){return arguments.length?($=zn(We),ve):$},ve.source=function(We){return arguments.length?(L=zn(We),ve):L},ve.target=function(We){return arguments.length?(H=zn(We),ve):H},ve.startAngle=function(We){return arguments.length?(ne=zn(We),ve):ne},ve.endAngle=function(We){return arguments.length?(ce=zn(We),ve):ce},ve},a.svg.diagonal=function(){var L=Co,H=Ls,$=Ws;function ne(ce,ve){var Oe=L.call(this,ce,ve),De=H.call(this,ce,ve),He=(Oe.y+De.y)/2,We=[Oe,{x:Oe.x,y:He},{x:De.x,y:He},De];return"M"+(We=We.map($))[0]+"C"+We[1]+" "+We[2]+" "+We[3]}return ne.source=function(ce){return arguments.length?(L=zn(ce),ne):L},ne.target=function(ce){return arguments.length?(H=zn(ce),ne):H},ne.projection=function(ce){return arguments.length?($=ce,ne):$},ne},a.svg.diagonal.radial=function(){var L=a.svg.diagonal(),H=Ws,$=L.projection;return L.projection=function(ne){return arguments.length?$(function(ce){return function(){var ve=ce.apply(this,arguments),Oe=ve[0],De=ve[1]-Ze;return[Oe*Math.cos(De),Oe*Math.sin(De)]}}(H=ne)):H},L},a.svg.symbol=function(){var L=xo,H=Zs;function $(ne,ce){return(Cs.get(L.call(this,ne,ce))||Mi)(H.call(this,ne,ce))}return $.type=function(ne){return arguments.length?(L=zn(ne),$):L},$.size=function(ne){return arguments.length?(H=zn(ne),$):H},$};var Cs=a.map({circle:Mi,cross:function(L){var H=Math.sqrt(L/5)/2;return"M"+-3*H+","+-H+"H"+-H+"V"+-3*H+"H"+H+"V"+-H+"H"+3*H+"V"+H+"H"+H+"V"+3*H+"H"+-H+"V"+H+"H"+-3*H+"Z"},diamond:function(L){var H=Math.sqrt(L/(2*jr)),$=H*jr;return"M0,"+-H+"L"+$+",0 0,"+H+" "+-$+",0Z"},square:function(L){var H=Math.sqrt(L)/2;return"M"+-H+","+-H+"L"+H+","+-H+" "+H+","+H+" "+-H+","+H+"Z"},"triangle-down":function(L){var H=Math.sqrt(L/Cr),$=H*Cr/2;return"M0,"+$+"L"+H+","+-$+" "+-H+","+-$+"Z"},"triangle-up":function(L){var H=Math.sqrt(L/Cr),$=H*Cr/2;return"M0,"+-$+"L"+H+","+$+" "+-H+","+$+"Z"}});a.svg.symbolTypes=Cs.keys();var Cr=Math.sqrt(3),jr=Math.tan(30*Je);pe.transition=function(L){for(var H,$,ne=Zi||++xu,ce=Oi(L),ve=[],Oe=Po||{time:Date.now(),ease:ko,delay:0,duration:250},De=-1,He=this.length;++De<He;){ve.push(H=[]);for(var We=this[De],rt=-1,pt=We.length;++rt<pt;)($=We[rt])&&Ua($,rt,ce,ne,Oe),H.push($)}return Go(ve,ce,ne)},pe.interrupt=function(L){return this.each(L==null?Xa:Oo(Oi(L)))};var Xa=Oo(Oi());function Oo(L){return function(){var H,$,ne;(H=this[L])&&(ne=H[$=H.active])&&(ne.timer.c=null,ne.timer.t=NaN,--H.count?delete H[$]:delete this[L],H.active+=.5,ne.event&&ne.event.interrupt.call(this,this.__data__,ne.index))}}function Go(L,H,$){return ee(L,di),L.namespace=H,L.id=$,L}var Zi,Po,di=[],xu=0;function Ja(L,H,$,ne){var ce=L.id,ve=L.namespace;return ke(L,typeof $=="function"?function(Oe,De,He){Oe[ve][ce].tween.set(H,ne($.call(Oe,Oe.__data__,De,He)))}:($=ne($),function(Oe){Oe[ve][ce].tween.set(H,$)}))}function mi(L){return L==null&&(L=""),function(){this.textContent=L}}function Oi(L){return L==null?"__transition__":"__transition_"+L+"__"}function Ua(L,H,$,ne,ce){var ve,Oe,De,He,We,rt=L[$]||(L[$]={active:0,count:0}),pt=rt[ne];function vt(Ot){var Et=rt.active,jt=rt[Et];for(var It in jt&&(jt.timer.c=null,jt.timer.t=NaN,--rt.count,delete rt[Et],jt.event&&jt.event.interrupt.call(L,L.__data__,jt.index)),rt)if(+It<ne){var Jt=rt[It];Jt.timer.c=null,Jt.timer.t=NaN,--rt.count,delete rt[It]}Oe.c=kt,tn(function(){return Oe.c&&kt(Ot||1)&&(Oe.c=null,Oe.t=NaN),1},0,ve),rt.active=ne,pt.event&&pt.event.start.call(L,L.__data__,H),We=[],pt.tween.forEach(function(Yt,Ht){(Ht=Ht.call(L,L.__data__,H))&&We.push(Ht)}),He=pt.ease,De=pt.duration}function kt(Ot){for(var Et=Ot/De,jt=He(Et),It=We.length;It>0;)We[--It].call(L,jt);if(Et>=1)return pt.event&&pt.event.end.call(L,L.__data__,H),--rt.count?delete rt[ne]:delete L[$],1}pt||(ve=ce.time,Oe=tn(function(Ot){var Et=pt.delay;if(Oe.t=Et+ve,Et<=Ot)return vt(Ot-Et);Oe.c=vt},0,ve),pt=rt[ne]={tween:new m,time:ve,timer:Oe,delay:ce.delay,duration:ce.duration,ease:ce.ease,index:H},ce=null,++rt.count)}di.call=pe.call,di.empty=pe.empty,di.node=pe.node,di.size=pe.size,a.transition=function(L,H){return L&&L.transition?Zi?L.transition(H):L:a.selection().transition(L)},a.transition.prototype=di,di.select=function(L){var H,$,ne,ce=this.id,ve=this.namespace,Oe=[];L=de(L);for(var De=-1,He=this.length;++De<He;){Oe.push(H=[]);for(var We=this[De],rt=-1,pt=We.length;++rt<pt;)(ne=We[rt])&&($=L.call(ne,ne.__data__,rt,De))?("__data__"in ne&&($.__data__=ne.__data__),Ua($,rt,ve,ce,ne[ve][ce]),H.push($)):H.push(null)}return Go(Oe,ve,ce)},di.selectAll=function(L){var H,$,ne,ce,ve,Oe=this.id,De=this.namespace,He=[];L=ye(L);for(var We=-1,rt=this.length;++We<rt;)for(var pt=this[We],vt=-1,kt=pt.length;++vt<kt;)if(ne=pt[vt]){ve=ne[De][Oe],$=L.call(ne,ne.__data__,vt,We),He.push(H=[]);for(var Ot=-1,Et=$.length;++Ot<Et;)(ce=$[Ot])&&Ua(ce,Ot,De,Oe,ve),H.push(ce)}return Go(He,De,Oe)},di.filter=function(L){var H,$,ne=[];typeof L!="function"&&(L=fe(L));for(var ce=0,ve=this.length;ce<ve;ce++){ne.push(H=[]);for(var Oe,De=0,He=(Oe=this[ce]).length;De<He;De++)($=Oe[De])&&L.call($,$.__data__,De,ce)&&H.push($)}return Go(ne,this.namespace,this.id)},di.tween=function(L,H){var $=this.id,ne=this.namespace;return arguments.length<2?this.node()[ne][$].tween.get(L):ke(this,H==null?function(ce){ce[ne][$].tween.remove(L)}:function(ce){ce[ne][$].tween.set(L,H)})},di.attr=function(L,H){if(arguments.length<2){for(H in L)this.attr(H,L[H]);return this}var $=L=="transform"?gu:Ro,ne=a.ns.qualify(L);function ce(){this.removeAttribute(ne)}function ve(){this.removeAttributeNS(ne.space,ne.local)}return Ja(this,"attr."+L,H,ne.local?function(Oe){return Oe==null?ve:(Oe+="",function(){var De,He=this.getAttributeNS(ne.space,ne.local);return He!==Oe&&(De=$(He,Oe),function(We){this.setAttributeNS(ne.space,ne.local,De(We))})})}:function(Oe){return Oe==null?ce:(Oe+="",function(){var De,He=this.getAttribute(ne);return He!==Oe&&(De=$(He,Oe),function(We){this.setAttribute(ne,De(We))})})})},di.attrTween=function(L,H){var $=a.ns.qualify(L);return this.tween("attr."+L,$.local?function(ne,ce){var ve=H.call(this,ne,ce,this.getAttributeNS($.space,$.local));return ve&&function(Oe){this.setAttributeNS($.space,$.local,ve(Oe))}}:function(ne,ce){var ve=H.call(this,ne,ce,this.getAttribute($));return ve&&function(Oe){this.setAttribute($,ve(Oe))}})},di.style=function(L,H,$){var ne=arguments.length;if(ne<3){if(typeof L!="string"){for($ in ne<2&&(H=""),L)this.style($,L[$],H);return this}$=""}function ce(){this.style.removeProperty(L)}return Ja(this,"style."+L,H,function(ve){return ve==null?ce:(ve+="",function(){var Oe,De=t(this).getComputedStyle(this,null).getPropertyValue(L);return De!==ve&&(Oe=Ro(De,ve),function(He){this.style.setProperty(L,Oe(He),$)})})})},di.styleTween=function(L,H,$){return arguments.length<3&&($=""),this.tween("style."+L,function(ne,ce){var ve=H.call(this,ne,ce,t(this).getComputedStyle(this,null).getPropertyValue(L));return ve&&function(Oe){this.style.setProperty(L,ve(Oe),$)}})},di.text=function(L){return Ja(this,"text",L,mi)},di.remove=function(){var L=this.namespace;return this.each("end.transition",function(){var H;this[L].count<2&&(H=this.parentNode)&&H.removeChild(this)})},di.ease=function(L){var H=this.id,$=this.namespace;return arguments.length<1?this.node()[$][H].ease:(typeof L!="function"&&(L=a.ease.apply(a,arguments)),ke(this,function(ne){ne[$][H].ease=L}))},di.delay=function(L){var H=this.id,$=this.namespace;return arguments.length<1?this.node()[$][H].delay:ke(this,typeof L=="function"?function(ne,ce,ve){ne[$][H].delay=+L.call(ne,ne.__data__,ce,ve)}:(L=+L,function(ne){ne[$][H].delay=L}))},di.duration=function(L){var H=this.id,$=this.namespace;return arguments.length<1?this.node()[$][H].duration:ke(this,typeof L=="function"?function(ne,ce,ve){ne[$][H].duration=Math.max(1,L.call(ne,ne.__data__,ce,ve))}:(L=Math.max(1,L),function(ne){ne[$][H].duration=L}))},di.each=function(L,H){var $=this.id,ne=this.namespace;if(arguments.length<2){var ce=Po,ve=Zi;try{Zi=$,ke(this,function(Oe,De,He){Po=Oe[ne][$],L.call(Oe,Oe.__data__,De,He)})}finally{Po=ce,Zi=ve}}else ke(this,function(Oe){var De=Oe[ne][$];(De.event||(De.event=a.dispatch("start","end","interrupt"))).on(L,H)});return this},di.transition=function(){for(var L,H,$,ne=this.id,ce=++xu,ve=this.namespace,Oe=[],De=0,He=this.length;De<He;De++){Oe.push(L=[]);for(var We,rt=0,pt=(We=this[De]).length;rt<pt;rt++)(H=We[rt])&&Ua(H,rt,ve,ce,{time:($=H[ve][ne]).time,ease:$.ease,delay:$.delay+$.duration,duration:$.duration}),L.push(H)}return Go(Oe,ve,ce)},a.svg.axis=function(){var L,H=a.scale.linear(),$=cs,ne=6,ce=6,ve=3,Oe=[10],De=null;function He(We){We.each(function(){var rt,pt=a.select(this),vt=this.__chart__||H,kt=this.__chart__=H.copy(),Ot=De??(kt.ticks?kt.ticks.apply(kt,Oe):kt.domain()),Et=L??(kt.tickFormat?kt.tickFormat.apply(kt,Oe):R),jt=pt.selectAll(".tick").data(Ot,kt),It=jt.enter().insert("g",".domain").attr("class","tick").style("opacity",st),Jt=a.transition(jt.exit()).style("opacity",st).remove(),Yt=a.transition(jt.order()).style("opacity",1),Ht=Math.max(ne,0)+ve,mn=cl(kt),yn=pt.selectAll(".domain").data([0]),In=(yn.enter().append("path").attr("class","domain"),a.transition(yn));It.append("line"),It.append("text");var Rn,Gn,Qn,hr,Zn=It.select("line"),lr=Yt.select("line"),_r=jt.select("text").text(Et),Or=It.select("text"),$n=Yt.select("text"),sr=$==="top"||$==="left"?-1:1;if($==="bottom"||$==="top"?(rt=Ke,Rn="x",Qn="y",Gn="x2",hr="y2",_r.attr("dy",sr<0?"0em":".71em").style("text-anchor","middle"),In.attr("d","M"+mn[0]+","+sr*ce+"V0H"+mn[1]+"V"+sr*ce)):(rt=nt,Rn="y",Qn="x",Gn="y2",hr="x2",_r.attr("dy",".32em").style("text-anchor",sr<0?"end":"start"),In.attr("d","M"+sr*ce+","+mn[0]+"H0V"+mn[1]+"H"+sr*ce)),Zn.attr(hr,sr*ne),Or.attr(Qn,sr*Ht),lr.attr(Gn,0).attr(hr,sr*ne),$n.attr(Rn,0).attr(Qn,sr*Ht),kt.rangeBand){var Mr=kt,pr=Mr.rangeBand()/2;vt=kt=function(Er){return Mr(Er)+pr}}else vt.rangeBand?vt=kt:Jt.call(rt,kt,vt);It.call(rt,vt,kt),Yt.call(rt,kt,kt)})}return He.scale=function(We){return arguments.length?(H=We,He):H},He.orient=function(We){return arguments.length?($=We in Kl?We+"":cs,He):$},He.ticks=function(){return arguments.length?(Oe=b(arguments),He):Oe},He.tickValues=function(We){return arguments.length?(De=We,He):De},He.tickFormat=function(We){return arguments.length?(L=We,He):L},He.tickSize=function(We){var rt=arguments.length;return rt?(ne=+We,ce=+arguments[rt-1],He):ne},He.innerTickSize=function(We){return arguments.length?(ne=+We,He):ne},He.outerTickSize=function(We){return arguments.length?(ce=+We,He):ce},He.tickPadding=function(We){return arguments.length?(ve=+We,He):ve},He.tickSubdivide=function(){return arguments.length&&He},He};var cs="bottom",Kl={top:1,right:1,bottom:1,left:1};function Ke(L,H,$){L.attr("transform",function(ne){var ce=H(ne);return"translate("+(isFinite(ce)?ce:$(ne))+",0)"})}function nt(L,H,$){L.attr("transform",function(ne){var ce=H(ne);return"translate(0,"+(isFinite(ce)?ce:$(ne))+")"})}a.svg.brush=function(){var L,H,$=X(rt,"brushstart","brush","brushend"),ne=null,ce=null,ve=[0,0],Oe=[0,0],De=!0,He=!0,We=B[0];function rt(Et){Et.each(function(){var jt=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Ot).on("touchstart.brush",Ot),It=jt.selectAll(".background").data([0]);It.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),jt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Jt=jt.selectAll(".resize").data(We,R);Jt.exit().remove(),Jt.enter().append("g").attr("class",function(yn){return"resize "+yn}).style("cursor",function(yn){return ut[yn]}).append("rect").attr("x",function(yn){return/[ew]$/.test(yn)?-3:null}).attr("y",function(yn){return/^[ns]/.test(yn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Jt.style("display",rt.empty()?"none":null);var Yt,Ht=a.transition(jt),mn=a.transition(It);ne&&(Yt=cl(ne),mn.attr("x",Yt[0]).attr("width",Yt[1]-Yt[0]),vt(Ht)),ce&&(Yt=cl(ce),mn.attr("y",Yt[0]).attr("height",Yt[1]-Yt[0]),kt(Ht)),pt(Ht)})}function pt(Et){Et.selectAll(".resize").attr("transform",function(jt){return"translate("+ve[+/e$/.test(jt)]+","+Oe[+/^s/.test(jt)]+")"})}function vt(Et){Et.select(".extent").attr("x",ve[0]),Et.selectAll(".extent,.n>rect,.s>rect").attr("width",ve[1]-ve[0])}function kt(Et){Et.select(".extent").attr("y",Oe[0]),Et.selectAll(".extent,.e>rect,.w>rect").attr("height",Oe[1]-Oe[0])}function Ot(){var Et,jt,It=this,Jt=a.select(a.event.target),Yt=$.of(It,arguments),Ht=a.select(It),mn=Jt.datum(),yn=!/^(n|s)$/.test(mn)&&ne,In=!/^(e|w)$/.test(mn)&&ce,Rn=Jt.classed("extent"),Gn=mt(It),Qn=a.mouse(It),hr=a.select(t(It)).on("keydown.brush",function(){a.event.keyCode==32&&(Rn||(Et=null,Qn[0]-=ve[1],Qn[1]-=Oe[1],Rn=2),Q())}).on("keyup.brush",function(){a.event.keyCode==32&&Rn==2&&(Qn[0]+=ve[1],Qn[1]+=Oe[1],Rn=0,Q())});if(a.event.changedTouches?hr.on("touchmove.brush",_r).on("touchend.brush",$n):hr.on("mousemove.brush",_r).on("mouseup.brush",$n),Ht.interrupt().selectAll("*").interrupt(),Rn)Qn[0]=ve[0]-Qn[0],Qn[1]=Oe[0]-Qn[1];else if(mn){var Zn=+/w$/.test(mn),lr=+/^n/.test(mn);jt=[ve[1-Zn]-Qn[0],Oe[1-lr]-Qn[1]],Qn[0]=ve[Zn],Qn[1]=Oe[lr]}else a.event.altKey&&(Et=Qn.slice());function _r(){var sr=a.mouse(It),Mr=!1;jt&&(sr[0]+=jt[0],sr[1]+=jt[1]),Rn||(a.event.altKey?(Et||(Et=[(ve[0]+ve[1])/2,(Oe[0]+Oe[1])/2]),Qn[0]=ve[+(sr[0]<Et[0])],Qn[1]=Oe[+(sr[1]<Et[1])]):Et=null),yn&&Or(sr,ne,0)&&(vt(Ht),Mr=!0),In&&Or(sr,ce,1)&&(kt(Ht),Mr=!0),Mr&&(pt(Ht),Yt({type:"brush",mode:Rn?"move":"resize"}))}function Or(sr,Mr,pr){var Er,zr,Yr=cl(Mr),Zr=Yr[0],Kr=Yr[1],ni=Qn[pr],Ai=pr?Oe:ve,Gi=Ai[1]-Ai[0];if(Rn&&(Zr-=ni,Kr-=Gi+ni),Er=(pr?He:De)?Math.max(Zr,Math.min(Kr,sr[pr])):sr[pr],Rn?zr=(Er+=ni)+Gi:(Et&&(ni=Math.max(Zr,Math.min(Kr,2*Et[pr]-Er))),ni<Er?(zr=Er,Er=ni):zr=ni),Ai[0]!=Er||Ai[1]!=zr)return pr?H=null:L=null,Ai[0]=Er,Ai[1]=zr,!0}function $n(){_r(),Ht.style("pointer-events","all").selectAll(".resize").style("display",rt.empty()?"none":null),a.select("body").style("cursor",null),hr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Gn(),Yt({type:"brushend"})}Ht.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",Jt.style("cursor")),Yt({type:"brushstart"}),_r()}return rt.event=function(Et){Et.each(function(){var jt=$.of(this,arguments),It={x:ve,y:Oe,i:L,j:H},Jt=this.__chart__||It;this.__chart__=It,Zi?a.select(this).transition().each("start.brush",function(){L=Jt.i,H=Jt.j,ve=Jt.x,Oe=Jt.y,jt({type:"brushstart"})}).tween("brush:brush",function(){var Yt=Xo(ve,It.x),Ht=Xo(Oe,It.y);return L=H=null,function(mn){ve=It.x=Yt(mn),Oe=It.y=Ht(mn),jt({type:"brush",mode:"resize"})}}).each("end.brush",function(){L=It.i,H=It.j,jt({type:"brush",mode:"resize"}),jt({type:"brushend"})}):(jt({type:"brushstart"}),jt({type:"brush",mode:"resize"}),jt({type:"brushend"}))})},rt.x=function(Et){return arguments.length?(We=B[!(ne=Et)<<1|!ce],rt):ne},rt.y=function(Et){return arguments.length?(We=B[!ne<<1|!(ce=Et)],rt):ce},rt.clamp=function(Et){return arguments.length?(ne&&ce?(De=!!Et[0],He=!!Et[1]):ne?De=!!Et:ce&&(He=!!Et),rt):ne&&ce?[De,He]:ne?De:ce?He:null},rt.extent=function(Et){var jt,It,Jt,Yt,Ht;return arguments.length?(ne&&(jt=Et[0],It=Et[1],ce&&(jt=jt[0],It=It[0]),L=[jt,It],ne.invert&&(jt=ne(jt),It=ne(It)),It<jt&&(Ht=jt,jt=It,It=Ht),jt==ve[0]&&It==ve[1]||(ve=[jt,It])),ce&&(Jt=Et[0],Yt=Et[1],ne&&(Jt=Jt[1],Yt=Yt[1]),H=[Jt,Yt],ce.invert&&(Jt=ce(Jt),Yt=ce(Yt)),Yt<Jt&&(Ht=Jt,Jt=Yt,Yt=Ht),Jt==Oe[0]&&Yt==Oe[1]||(Oe=[Jt,Yt])),rt):(ne&&(L?(jt=L[0],It=L[1]):(jt=ve[0],It=ve[1],ne.invert&&(jt=ne.invert(jt),It=ne.invert(It)),It<jt&&(Ht=jt,jt=It,It=Ht))),ce&&(H?(Jt=H[0],Yt=H[1]):(Jt=Oe[0],Yt=Oe[1],ce.invert&&(Jt=ce.invert(Jt),Yt=ce.invert(Yt)),Yt<Jt&&(Ht=Jt,Jt=Yt,Yt=Ht))),ne&&ce?[[jt,Jt],[It,Yt]]:ne?[jt,It]:ce&&[Jt,Yt])},rt.clear=function(){return rt.empty()||(ve=[0,0],Oe=[0,0],L=H=null),rt},rt.empty=function(){return!!ne&&ve[0]==ve[1]||!!ce&&Oe[0]==Oe[1]},a.rebind(rt,$,"on")};var ut={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},B=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function Y(L){return JSON.parse(L.responseText)}function G(L){var H=h.createRange();return H.selectNode(h.body),H.createContextualFragment(L.responseText)}a.text=Hn(function(L){return L.responseText}),a.json=function(L,H){return ar(L,"application/json",Y,H)},a.html=function(L,H){return ar(L,"text/html",G,H)},a.xml=Hn(function(L){return L.responseXML}),(k=typeof(M=a)=="function"?M.call(C,e,C,q):M)===void 0||(q.exports=k)}).apply(self)},97433:function(q){q.exports=function(){var C,e,M;function k(a,_){if(C)if(e){var b="var sharedChunk = {}; ("+C+")(sharedChunk); ("+e+")(sharedChunk);",h={};C(h),M=_(h),typeof window<"u"&&(M.workerUrl=window.URL.createObjectURL(new Blob([b],{type:"text/javascript"})))}else e=_;else C=_}return k(0,function(a){function _(A,D){return A(D={exports:{}},D.exports),D.exports}var b="1.13.4",h=o;function o(A,D,W,le){this.cx=3*A,this.bx=3*(W-A)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*D,this.by=3*(le-D)-this.cy,this.ay=1-this.cy-this.by,this.p1x=A,this.p1y=le,this.p2x=W,this.p2y=le}o.prototype.sampleCurveX=function(A){return((this.ax*A+this.bx)*A+this.cx)*A},o.prototype.sampleCurveY=function(A){return((this.ay*A+this.by)*A+this.cy)*A},o.prototype.sampleCurveDerivativeX=function(A){return(3*this.ax*A+2*this.bx)*A+this.cx},o.prototype.solveCurveX=function(A,D){var W,le,Me,Pe,je;for(D===void 0&&(D=1e-6),Me=A,je=0;je<8;je++){if(Pe=this.sampleCurveX(Me)-A,Math.abs(Pe)<D)return Me;var et=this.sampleCurveDerivativeX(Me);if(Math.abs(et)<1e-6)break;Me-=Pe/et}if((Me=A)<(W=0))return W;if(Me>(le=1))return le;for(;W<le;){if(Pe=this.sampleCurveX(Me),Math.abs(Pe-A)<D)return Me;A>Pe?W=Me:le=Me,Me=.5*(le-W)+W}return Me},o.prototype.solve=function(A,D){return this.sampleCurveY(this.solveCurveX(A,D))};var t=i;function i(A,D){this.x=A,this.y=D}i.prototype={clone:function(){return new i(this.x,this.y)},add:function(A){return this.clone()._add(A)},sub:function(A){return this.clone()._sub(A)},multByPoint:function(A){return this.clone()._multByPoint(A)},divByPoint:function(A){return this.clone()._divByPoint(A)},mult:function(A){return this.clone()._mult(A)},div:function(A){return this.clone()._div(A)},rotate:function(A){return this.clone()._rotate(A)},rotateAround:function(A,D){return this.clone()._rotateAround(A,D)},matMult:function(A){return this.clone()._matMult(A)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(A){return this.x===A.x&&this.y===A.y},dist:function(A){return Math.sqrt(this.distSqr(A))},distSqr:function(A){var D=A.x-this.x,W=A.y-this.y;return D*D+W*W},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(A){return Math.atan2(this.y-A.y,this.x-A.x)},angleWith:function(A){return this.angleWithSep(A.x,A.y)},angleWithSep:function(A,D){return Math.atan2(this.x*D-this.y*A,this.x*A+this.y*D)},_matMult:function(A){var D=A[0]*this.x+A[1]*this.y,W=A[2]*this.x+A[3]*this.y;return this.x=D,this.y=W,this},_add:function(A){return this.x+=A.x,this.y+=A.y,this},_sub:function(A){return this.x-=A.x,this.y-=A.y,this},_mult:function(A){return this.x*=A,this.y*=A,this},_div:function(A){return this.x/=A,this.y/=A,this},_multByPoint:function(A){return this.x*=A.x,this.y*=A.y,this},_divByPoint:function(A){return this.x/=A.x,this.y/=A.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var A=this.y;return this.y=this.x,this.x=-A,this},_rotate:function(A){var D=Math.cos(A),W=Math.sin(A),le=D*this.x-W*this.y,Me=W*this.x+D*this.y;return this.x=le,this.y=Me,this},_rotateAround:function(A,D){var W=Math.cos(A),le=Math.sin(A),Me=D.x+W*(this.x-D.x)-le*(this.y-D.y),Pe=D.y+le*(this.x-D.x)+W*(this.y-D.y);return this.x=Me,this.y=Pe,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(A){return A instanceof i?A:Array.isArray(A)?new i(A[0],A[1]):A};var n=typeof self<"u"?self:{},r=Math.pow(2,53)-1;function l(A,D,W,le){var Me=new h(A,D,W,le);return function(Pe){return Me.solve(Pe)}}var s=l(.25,.1,.25,1);function u(A,D,W){return Math.min(W,Math.max(D,A))}function p(A,D,W){var le=W-D,Me=((A-D)%le+le)%le+D;return Me===D?W:Me}function c(A){for(var D=[],W=arguments.length-1;W-- >0;)D[W]=arguments[W+1];for(var le=0,Me=D;le<Me.length;le+=1){var Pe=Me[le];for(var je in Pe)A[je]=Pe[je]}return A}var x=1;function g(){return x++}function d(){return function A(D){return D?(D^16*Math.random()>>D/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,A)}()}function v(A){return!!A&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(A)}function y(A,D){A.forEach(function(W){D[W]&&(D[W]=D[W].bind(D))})}function m(A,D){return A.indexOf(D,A.length-D.length)!==-1}function w(A,D,W){var le={};for(var Me in A)le[Me]=D.call(W||this,A[Me],Me,A);return le}function f(A,D,W){var le={};for(var Me in A)D.call(W||this,A[Me],Me,A)&&(le[Me]=A[Me]);return le}function S(A){return Array.isArray(A)?A.map(S):typeof A=="object"&&A?w(A,S):A}var T={};function E(A){T[A]||(typeof console<"u"&&console.warn(A),T[A]=!0)}function O(A,D,W){return(W.y-A.y)*(D.x-A.x)>(D.y-A.y)*(W.x-A.x)}function P(A){for(var D=0,W=0,le=A.length,Me=le-1,Pe=void 0,je=void 0;W<le;Me=W++)Pe=A[W],D+=((je=A[Me]).x-Pe.x)*(Pe.y+je.y);return D}function I(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function z(A){var D={};if(A.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(le,Me,Pe,je){var et=Pe||je;return D[Me]=!et||et.toLowerCase(),""}),D["max-age"]){var W=parseInt(D["max-age"],10);isNaN(W)?delete D["max-age"]:D["max-age"]=W}return D}var j=null;function R(A){if(j==null){var D=A.navigator?A.navigator.userAgent:null;j=!!A.safari||!(!D||!(/\b(iPad|iPhone|iPod)\b/.test(D)||D.match("Safari")&&!D.match("Chrome")))}return j}function N(A){try{var D=n[A];return D.setItem("_mapbox_test_",1),D.removeItem("_mapbox_test_"),!0}catch{return!1}}var Z,F,U,V,te=n.performance&&n.performance.now?n.performance.now.bind(n.performance):Date.now.bind(Date),Q=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame,J=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.msCancelAnimationFrame,X={now:te,frame:function(A){var D=Q(A);return{cancel:function(){return J(D)}}},getImageData:function(A,D){D===void 0&&(D=0);var W=n.document.createElement("canvas"),le=W.getContext("2d");if(!le)throw new Error("failed to create canvas 2d context");return W.width=A.width,W.height=A.height,le.drawImage(A,0,0,A.width,A.height),le.getImageData(-D,-D,A.width+2*D,A.height+2*D)},resolveURL:function(A){return Z||(Z=n.document.createElement("a")),Z.href=A,Z.href},hardwareConcurrency:n.navigator&&n.navigator.hardwareConcurrency||4,get devicePixelRatio(){return n.devicePixelRatio},get prefersReducedMotion(){return!!n.matchMedia&&(F==null&&(F=n.matchMedia("(prefers-reduced-motion: reduce)")),F.matches)}},K={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ee={supported:!1,testSupport:function(A){!re&&V&&(ie?ae(A):U=A)}},re=!1,ie=!1;function ae(A){var D=A.createTexture();A.bindTexture(A.TEXTURE_2D,D);try{if(A.texImage2D(A.TEXTURE_2D,0,A.RGBA,A.RGBA,A.UNSIGNED_BYTE,V),A.isContextLost())return;ee.supported=!0}catch{}A.deleteTexture(D),re=!0}n.document&&((V=n.document.createElement("img")).onload=function(){U&&ae(U),U=null,ie=!0},V.onerror=function(){re=!0,U=null},V.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var ue="01",pe=function(A,D){this._transformRequestFn=A,this._customAccessToken=D,this._createSkuToken()};function de(A){return A.indexOf("mapbox:")===0}pe.prototype._createSkuToken=function(){var A=function(){for(var D="",W=0;W<10;W++)D+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",ue,D].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=A.token,this._skuTokenExpiresAt=A.tokenExpiresAt},pe.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},pe.prototype.transformRequest=function(A,D){return this._transformRequestFn&&this._transformRequestFn(A,D)||{url:A}},pe.prototype.normalizeStyleURL=function(A,D){if(!de(A))return A;var W=Ee(A);return W.path="/styles/v1"+W.path,this._makeAPIURL(W,this._customAccessToken||D)},pe.prototype.normalizeGlyphsURL=function(A,D){if(!de(A))return A;var W=Ee(A);return W.path="/fonts/v1"+W.path,this._makeAPIURL(W,this._customAccessToken||D)},pe.prototype.normalizeSourceURL=function(A,D){if(!de(A))return A;var W=Ee(A);return W.path="/v4/"+W.authority+".json",W.params.push("secure"),this._makeAPIURL(W,this._customAccessToken||D)},pe.prototype.normalizeSpriteURL=function(A,D,W,le){var Me=Ee(A);return de(A)?(Me.path="/styles/v1"+Me.path+"/sprite"+D+W,this._makeAPIURL(Me,this._customAccessToken||le)):(Me.path+=""+D+W,Te(Me))},pe.prototype.normalizeTileURL=function(A,D){if(this._isSkuTokenExpired()&&this._createSkuToken(),A&&!de(A))return A;var W=Ee(A),le=X.devicePixelRatio>=2||D===512?"@2x":"",Me=ee.supported?".webp":"$1";W.path=W.path.replace(/(\.(png|jpg)\d*)(?=$)/,""+le+Me),W.path=W.path.replace(/^.+\/v4\//,"/"),W.path="/v4"+W.path;var Pe=this._customAccessToken||function(je){for(var et=0,ct=je;et<ct.length;et+=1){var wt=ct[et].match(/^access_token=(.*)$/);if(wt)return wt[1]}return null}(W.params)||K.ACCESS_TOKEN;return K.REQUIRE_ACCESS_TOKEN&&Pe&&this._skuToken&&W.params.push("sku="+this._skuToken),this._makeAPIURL(W,Pe)},pe.prototype.canonicalizeTileURL=function(A,D){var W=Ee(A);if(!W.path.match(/(^\/v4\/)/)||!W.path.match(/\.[\w]+$/))return A;var le="mapbox://tiles/";le+=W.path.replace("/v4/","");var Me=W.params;return D&&(Me=Me.filter(function(Pe){return!Pe.match(/^access_token=/)})),Me.length&&(le+="?"+Me.join("&")),le},pe.prototype.canonicalizeTileset=function(A,D){for(var W=!!D&&de(D),le=[],Me=0,Pe=A.tiles||[];Me<Pe.length;Me+=1){var je=Pe[Me];be(je)?le.push(this.canonicalizeTileURL(je,W)):le.push(je)}return le},pe.prototype._makeAPIURL=function(A,D){var W="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",le=Ee(K.API_URL);if(A.protocol=le.protocol,A.authority=le.authority,A.protocol==="http"){var Me=A.params.indexOf("secure");Me>=0&&A.params.splice(Me,1)}if(le.path!=="/"&&(A.path=""+le.path+A.path),!K.REQUIRE_ACCESS_TOKEN)return Te(A);if(!(D=D||K.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+W);if(D[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+W);return A.params=A.params.filter(function(Pe){return Pe.indexOf("access_token")===-1}),A.params.push("access_token="+D),Te(A)};var ye=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function be(A){return ye.test(A)}var me=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Ee(A){var D=A.match(me);if(!D)throw new Error("Unable to parse URL object");return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}function Te(A){var D=A.params.length?"?"+A.params.join("&"):"";return A.protocol+"://"+A.authority+A.path+D}var we="mapbox.eventData";function oe(A){if(!A)return null;var D,W=A.split(".");if(!W||W.length!==3)return null;try{return JSON.parse((D=W[1],decodeURIComponent(n.atob(D).split("").map(function(le){return"%"+("00"+le.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch{return null}}var se=function(A){this.type=A,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};se.prototype.getStorageKey=function(A){var D,W,le=oe(K.ACCESS_TOKEN);return D=le&&le.u?(W=le.u,n.btoa(encodeURIComponent(W).replace(/%([0-9A-F]{2})/g,function(Me,Pe){return String.fromCharCode(+("0x"+Pe))}))):K.ACCESS_TOKEN||"",A?we+"."+A+":"+D:we+":"+D},se.prototype.fetchEventData=function(){var A=N("localStorage"),D=this.getStorageKey(),W=this.getStorageKey("uuid");if(A)try{var le=n.localStorage.getItem(D);le&&(this.eventData=JSON.parse(le));var Me=n.localStorage.getItem(W);Me&&(this.anonId=Me)}catch{E("Unable to read from LocalStorage")}},se.prototype.saveEventData=function(){var A=N("localStorage"),D=this.getStorageKey(),W=this.getStorageKey("uuid");if(A)try{n.localStorage.setItem(W,this.anonId),Object.keys(this.eventData).length>=1&&n.localStorage.setItem(D,JSON.stringify(this.eventData))}catch{E("Unable to write to LocalStorage")}},se.prototype.processRequests=function(A){},se.prototype.postEvent=function(A,D,W,le){var Me=this;if(K.EVENTS_URL){var Pe=Ee(K.EVENTS_URL);Pe.params.push("access_token="+(le||K.ACCESS_TOKEN||""));var je={event:this.type,created:new Date(A).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:b,skuId:ue,userId:this.anonId},et=D?c(je,D):je,ct={url:Te(Pe),headers:{"Content-Type":"text/plain"},body:JSON.stringify([et])};this.pendingRequest=Pt(ct,function(wt){Me.pendingRequest=null,W(wt),Me.saveEventData(),Me.processRequests(le)})}},se.prototype.queueRequest=function(A,D){this.queue.push(A),this.processRequests(D)};var he,Se,_e=function(A){function D(){A.call(this,"map.load"),this.success={},this.skuToken=""}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.postMapLoadEvent=function(W,le,Me,Pe){this.skuToken=Me,(K.EVENTS_URL&&Pe||K.ACCESS_TOKEN&&Array.isArray(W)&&W.some(function(je){return de(je)||be(je)}))&&this.queueRequest({id:le,timestamp:Date.now()},Pe)},D.prototype.processRequests=function(W){var le=this;if(!this.pendingRequest&&this.queue.length!==0){var Me=this.queue.shift(),Pe=Me.id,je=Me.timestamp;Pe&&this.success[Pe]||(this.anonId||this.fetchEventData(),v(this.anonId)||(this.anonId=d()),this.postEvent(je,{skuToken:this.skuToken},function(et){et||Pe&&(le.success[Pe]=!0)},W))}},D}(se),Ae=function(A){function D(W){A.call(this,"appUserTurnstile"),this._customAccessToken=W}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.postTurnstileEvent=function(W,le){K.EVENTS_URL&&K.ACCESS_TOKEN&&Array.isArray(W)&&W.some(function(Me){return de(Me)||be(Me)})&&this.queueRequest(Date.now(),le)},D.prototype.processRequests=function(W){var le=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var Me=oe(K.ACCESS_TOKEN),Pe=Me?Me.u:K.ACCESS_TOKEN,je=Pe!==this.eventData.tokenU;v(this.anonId)||(this.anonId=d(),je=!0);var et=this.queue.shift();if(this.eventData.lastSuccess){var ct=new Date(this.eventData.lastSuccess),wt=new Date(et),At=(et-this.eventData.lastSuccess)/864e5;je=je||At>=1||At<-1||ct.getDate()!==wt.getDate()}else je=!0;if(!je)return this.processRequests();this.postEvent(et,{"enabled.telemetry":!1},function(Nt){Nt||(le.eventData.lastSuccess=et,le.eventData.tokenU=Pe)},W)}},D}(se),Ce=new Ae,Re=Ce.postTurnstileEvent.bind(Ce),fe=new _e,xe=fe.postMapLoadEvent.bind(fe),ke="mapbox-tiles",Ie=500,Fe=50,ze=42e4;function qe(){n.caches&&!he&&(he=n.caches.open(ke))}function Ye(A,D,W){if(qe(),he){var le={status:D.status,statusText:D.statusText,headers:new n.Headers};D.headers.forEach(function(Pe,je){return le.headers.set(je,Pe)});var Me=z(D.headers.get("Cache-Control")||"");Me["no-store"]||(Me["max-age"]&&le.headers.set("Expires",new Date(W+1e3*Me["max-age"]).toUTCString()),new Date(le.headers.get("Expires")).getTime()-W<ze||function(Pe,je){if(Se===void 0)try{new Response(new ReadableStream),Se=!0}catch{Se=!1}Se?je(Pe.body):Pe.blob().then(je)}(D,function(Pe){var je=new n.Response(Pe,le);qe(),he&&he.then(function(et){return et.put(Qe(A.url),je)}).catch(function(et){return E(et.message)})}))}}function Qe(A){var D=A.indexOf("?");return D<0?A:A.slice(0,D)}function ft(A,D){if(qe(),!he)return D(null);var W=Qe(A.url);he.then(function(le){le.match(W).then(function(Me){var Pe=function(je){if(!je)return!1;var et=new Date(je.headers.get("Expires")||0),ct=z(je.headers.get("Cache-Control")||"");return et>Date.now()&&!ct["no-cache"]}(Me);le.delete(W),Pe&&le.put(W,Me.clone()),D(null,Me,Pe)}).catch(D)}).catch(D)}var ht,mt=1/0;function Mt(){return ht==null&&(ht=n.OffscreenCanvas&&new n.OffscreenCanvas(1,1).getContext("2d")&&typeof n.createImageBitmap=="function"),ht}var _t={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(_t);var it=function(A){function D(W,le,Me){le===401&&be(Me)&&(W+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),A.call(this,W),this.status=le,this.url=Me,this.name=this.constructor.name,this.message=W}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},D}(Error),st=I()?function(){return self.worker&&self.worker.referrer}:function(){return(n.location.protocol==="blob:"?n.parent:n).location.href};function St(A,D){var W,le=new n.AbortController,Me=new n.Request(A.url,{method:A.method||"GET",body:A.body,credentials:A.credentials,headers:A.headers,referrer:st(),signal:le.signal}),Pe=!1,je=!1,et=(W=Me.url).indexOf("sku=")>0&&be(W);A.type==="json"&&Me.headers.set("Accept","application/json");var ct=function(At,Nt,qt){if(!je){if(At&&At.message!=="SecurityError"&&E(At),Nt&&qt)return wt(Nt);var Ut=Date.now();n.fetch(Me).then(function(sn){if(sn.ok){var un=et?sn.clone():null;return wt(sn,un,Ut)}return D(new it(sn.statusText,sn.status,A.url))}).catch(function(sn){sn.code!==20&&D(new Error(sn.message))})}},wt=function(At,Nt,qt){(A.type==="arrayBuffer"?At.arrayBuffer():A.type==="json"?At.json():At.text()).then(function(Ut){je||(Nt&&qt&&Ye(Me,Nt,qt),Pe=!0,D(null,Ut,At.headers.get("Cache-Control"),At.headers.get("Expires")))}).catch(function(Ut){je||D(new Error(Ut.message))})};return et?ft(Me,ct):ct(null,null),{cancel:function(){je=!0,Pe||le.abort()}}}var zt=function(A,D){if(W=A.url,!(/^file:/.test(W)||/^file:/.test(st())&&!/^\w+:/.test(W))){if(n.fetch&&n.Request&&n.AbortController&&n.Request.prototype.hasOwnProperty("signal"))return St(A,D);if(I()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",A,D,void 0,!0)}var W;return function(le,Me){var Pe=new n.XMLHttpRequest;for(var je in Pe.open(le.method||"GET",le.url,!0),le.type==="arrayBuffer"&&(Pe.responseType="arraybuffer"),le.headers)Pe.setRequestHeader(je,le.headers[je]);return le.type==="json"&&(Pe.responseType="text",Pe.setRequestHeader("Accept","application/json")),Pe.withCredentials=le.credentials==="include",Pe.onerror=function(){Me(new Error(Pe.statusText))},Pe.onload=function(){if((Pe.status>=200&&Pe.status<300||Pe.status===0)&&Pe.response!==null){var et=Pe.response;if(le.type==="json")try{et=JSON.parse(Pe.response)}catch(ct){return Me(ct)}Me(null,et,Pe.getResponseHeader("Cache-Control"),Pe.getResponseHeader("Expires"))}else Me(new it(Pe.statusText,Pe.status,le.url))},Pe.send(le.body),{cancel:function(){return Pe.abort()}}}(A,D)},Ft=function(A,D){return zt(c(A,{type:"arrayBuffer"}),D)},Pt=function(A,D){return zt(c(A,{method:"POST"}),D)},Ze,Je,Ue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Ze=[],Je=0;var Xe=function(A,D){if(ee.supported&&(A.headers||(A.headers={}),A.headers.accept="image/webp,*/*"),Je>=K.MAX_PARALLEL_IMAGE_REQUESTS){var W={requestParameters:A,callback:D,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ze.push(W),W}Je++;var le=!1,Me=function(){if(!le)for(le=!0,Je--;Ze.length&&Je<K.MAX_PARALLEL_IMAGE_REQUESTS;){var je=Ze.shift(),et=je.requestParameters,ct=je.callback;je.cancelled||(je.cancel=Xe(et,ct).cancel)}},Pe=Ft(A,function(je,et,ct,wt){Me(),je?D(je):et&&(Mt()?function(At,Nt){var qt=new n.Blob([new Uint8Array(At)],{type:"image/png"});n.createImageBitmap(qt).then(function(Ut){Nt(null,Ut)}).catch(function(Ut){Nt(new Error("Could not load image because of "+Ut.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(et,D):function(At,Nt,qt,Ut){var sn=new n.Image,un=n.URL;sn.onload=function(){Nt(null,sn),un.revokeObjectURL(sn.src),sn.onload=null,n.requestAnimationFrame(function(){sn.src=Ue})},sn.onerror=function(){return Nt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var En=new n.Blob([new Uint8Array(At)],{type:"image/png"});sn.cacheControl=qt,sn.expires=Ut,sn.src=At.byteLength?un.createObjectURL(En):Ue}(et,D,ct,wt))});return{cancel:function(){Pe.cancel(),Me()}}};function lt(A,D,W){W[A]&&W[A].indexOf(D)!==-1||(W[A]=W[A]||[],W[A].push(D))}function ot(A,D,W){if(W&&W[A]){var le=W[A].indexOf(D);le!==-1&&W[A].splice(le,1)}}var Be=function(A,D){D===void 0&&(D={}),c(this,D),this.type=A},Ne=function(A){function D(W,le){le===void 0&&(le={}),A.call(this,"error",c({error:W},le))}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D}(Be),at=function(){};at.prototype.on=function(A,D){return this._listeners=this._listeners||{},lt(A,D,this._listeners),this},at.prototype.off=function(A,D){return ot(A,D,this._listeners),ot(A,D,this._oneTimeListeners),this},at.prototype.once=function(A,D){return this._oneTimeListeners=this._oneTimeListeners||{},lt(A,D,this._oneTimeListeners),this},at.prototype.fire=function(A,D){typeof A=="string"&&(A=new Be(A,D||{}));var W=A.type;if(this.listens(W)){A.target=this;for(var le=0,Me=this._listeners&&this._listeners[W]?this._listeners[W].slice():[];le<Me.length;le+=1)Me[le].call(this,A);for(var Pe=0,je=this._oneTimeListeners&&this._oneTimeListeners[W]?this._oneTimeListeners[W].slice():[];Pe<je.length;Pe+=1){var et=je[Pe];ot(W,et,this._oneTimeListeners),et.call(this,A)}var ct=this._eventedParent;ct&&(c(A,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ct.fire(A))}else A instanceof Ne&&console.error(A.error);return this},at.prototype.listens=function(A){return this._listeners&&this._listeners[A]&&this._listeners[A].length>0||this._oneTimeListeners&&this._oneTimeListeners[A]&&this._oneTimeListeners[A].length>0||this._eventedParent&&this._eventedParent.listens(A)},at.prototype.setEventedParent=function(A,D){return this._eventedParent=A,this._eventedParentData=D,this};var $e={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},gt=function(A,D,W,le){this.message=(A?A+": ":"")+W,le&&(this.identifier=le),D!=null&&D.__line__&&(this.line=D.__line__)};function yt(A){var D=A.key,W=A.value;return W?[new gt(D,W,"constants have been deprecated as of v8")]:[]}function xt(A){for(var D=[],W=arguments.length-1;W-- >0;)D[W]=arguments[W+1];for(var le=0,Me=D;le<Me.length;le+=1){var Pe=Me[le];for(var je in Pe)A[je]=Pe[je]}return A}function dt(A){return A instanceof Number||A instanceof String||A instanceof Boolean?A.valueOf():A}function Lt(A){if(Array.isArray(A))return A.map(Lt);if(A instanceof Object&&!(A instanceof Number||A instanceof String||A instanceof Boolean)){var D={};for(var W in A)D[W]=Lt(A[W]);return D}return dt(A)}var Tt=function(A){function D(W,le){A.call(this,le),this.message=le,this.key=W}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D}(Error),bt=function(A,D){D===void 0&&(D=[]),this.parent=A,this.bindings={};for(var W=0,le=D;W<le.length;W+=1){var Me=le[W],Pe=Me[0],je=Me[1];this.bindings[Pe]=je}};bt.prototype.concat=function(A){return new bt(this,A)},bt.prototype.get=function(A){if(this.bindings[A])return this.bindings[A];if(this.parent)return this.parent.get(A);throw new Error(A+" not found in scope.")},bt.prototype.has=function(A){return!!this.bindings[A]||!!this.parent&&this.parent.has(A)};var Ct={kind:"null"},Dt={kind:"number"},Bt={kind:"string"},Xt={kind:"boolean"},an={kind:"color"},Wt={kind:"object"},Vt={kind:"value"},on={kind:"collator"},Sn={kind:"formatted"},Ln={kind:"resolvedImage"};function fn(A,D){return{kind:"array",itemType:A,N:D}}function Zt(A){if(A.kind==="array"){var D=Zt(A.itemType);return typeof A.N=="number"?"array<"+D+", "+A.N+">":A.itemType.kind==="value"?"array":"array<"+D+">"}return A.kind}var ln=[Ct,Dt,Bt,Xt,an,Sn,Wt,fn(Vt),Ln];function nn(A,D){if(D.kind==="error")return null;if(A.kind==="array"){if(D.kind==="array"&&(D.N===0&&D.itemType.kind==="value"||!nn(A.itemType,D.itemType))&&(typeof A.N!="number"||A.N===D.N))return null}else{if(A.kind===D.kind)return null;if(A.kind==="value"){for(var W=0,le=ln;W<le.length;W+=1)if(!nn(le[W],D))return null}}return"Expected "+Zt(A)+" but found "+Zt(D)+" instead."}function cn(A,D){return D.some(function(W){return W.kind===A.kind})}function kn(A,D){return D.some(function(W){return W==="null"?A===null:W==="array"?Array.isArray(A):W==="object"?A&&!Array.isArray(A)&&typeof A=="object":W===typeof A})}var An=_(function(A,D){var W={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function le(ct){return(ct=Math.round(ct))<0?0:ct>255?255:ct}function Me(ct){return ct<0?0:ct>1?1:ct}function Pe(ct){return ct[ct.length-1]==="%"?le(parseFloat(ct)/100*255):le(parseInt(ct))}function je(ct){return ct[ct.length-1]==="%"?Me(parseFloat(ct)/100):Me(parseFloat(ct))}function et(ct,wt,At){return At<0?At+=1:At>1&&(At-=1),6*At<1?ct+(wt-ct)*At*6:2*At<1?wt:3*At<2?ct+(wt-ct)*(2/3-At)*6:ct}try{D.parseCSSColor=function(ct){var wt,At=ct.replace(/ /g,"").toLowerCase();if(At in W)return W[At].slice();if(At[0]==="#")return At.length===4?(wt=parseInt(At.substr(1),16))>=0&&wt<=4095?[(3840&wt)>>4|(3840&wt)>>8,240&wt|(240&wt)>>4,15&wt|(15&wt)<<4,1]:null:At.length===7&&(wt=parseInt(At.substr(1),16))>=0&&wt<=16777215?[(16711680&wt)>>16,(65280&wt)>>8,255&wt,1]:null;var Nt=At.indexOf("("),qt=At.indexOf(")");if(Nt!==-1&&qt+1===At.length){var Ut=At.substr(0,Nt),sn=At.substr(Nt+1,qt-(Nt+1)).split(","),un=1;switch(Ut){case"rgba":if(sn.length!==4)return null;un=je(sn.pop());case"rgb":return sn.length!==3?null:[Pe(sn[0]),Pe(sn[1]),Pe(sn[2]),un];case"hsla":if(sn.length!==4)return null;un=je(sn.pop());case"hsl":if(sn.length!==3)return null;var En=(parseFloat(sn[0])%360+360)%360/360,Mn=je(sn[1]),Nn=je(sn[2]),jn=Nn<=.5?Nn*(Mn+1):Nn+Mn-Nn*Mn,qn=2*Nn-jn;return[le(255*et(qn,jn,En+1/3)),le(255*et(qn,jn,En)),le(255*et(qn,jn,En-1/3)),un];default:return null}}return null}}catch{}}),wn=An.parseCSSColor,Cn=function(A,D,W,le){le===void 0&&(le=1),this.r=A,this.g=D,this.b=W,this.a=le};Cn.parse=function(A){if(A){if(A instanceof Cn)return A;if(typeof A=="string"){var D=wn(A);if(D)return new Cn(D[0]/255*D[3],D[1]/255*D[3],D[2]/255*D[3],D[3])}}},Cn.prototype.toString=function(){var A=this.toArray(),D=A[0],W=A[1],le=A[2],Me=A[3];return"rgba("+Math.round(D)+","+Math.round(W)+","+Math.round(le)+","+Me+")"},Cn.prototype.toArray=function(){var A=this,D=A.r,W=A.g,le=A.b,Me=A.a;return Me===0?[0,0,0,0]:[255*D/Me,255*W/Me,255*le/Me,Me]},Cn.black=new Cn(0,0,0,1),Cn.white=new Cn(1,1,1,1),Cn.transparent=new Cn(0,0,0,0),Cn.red=new Cn(1,0,0,1);var _n=function(A,D,W){this.sensitivity=A?D?"variant":"case":D?"accent":"base",this.locale=W,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};_n.prototype.compare=function(A,D){return this.collator.compare(A,D)},_n.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var zn=function(A,D,W,le,Me){this.text=A,this.image=D,this.scale=W,this.fontStack=le,this.textColor=Me},Hn=function(A){this.sections=A};Hn.fromString=function(A){return new Hn([new zn(A,null,null,null,null)])},Hn.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(A){return A.text.length!==0||A.image&&A.image.name.length!==0})},Hn.factory=function(A){return A instanceof Hn?A:Hn.fromString(A)},Hn.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(A){return A.text}).join("")},Hn.prototype.serialize=function(){for(var A=["format"],D=0,W=this.sections;D<W.length;D+=1){var le=W[D];if(le.image)A.push(["image",le.image.name]);else{A.push(le.text);var Me={};le.fontStack&&(Me["text-font"]=["literal",le.fontStack.split(",")]),le.scale&&(Me["font-scale"]=le.scale),le.textColor&&(Me["text-color"]=["rgba"].concat(le.textColor.toArray())),A.push(Me)}}return A};var ar=function(A){this.name=A.name,this.available=A.available};function fr(A,D,W,le){return typeof A=="number"&&A>=0&&A<=255&&typeof D=="number"&&D>=0&&D<=255&&typeof W=="number"&&W>=0&&W<=255?le===void 0||typeof le=="number"&&le>=0&&le<=1?null:"Invalid rgba value ["+[A,D,W,le].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof le=="number"?[A,D,W,le]:[A,D,W]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function rr(A){if(A===null||typeof A=="string"||typeof A=="boolean"||typeof A=="number"||A instanceof Cn||A instanceof _n||A instanceof Hn||A instanceof ar)return!0;if(Array.isArray(A)){for(var D=0,W=A;D<W.length;D+=1)if(!rr(W[D]))return!1;return!0}if(typeof A=="object"){for(var le in A)if(!rr(A[le]))return!1;return!0}return!1}function Xn(A){if(A===null)return Ct;if(typeof A=="string")return Bt;if(typeof A=="boolean")return Xt;if(typeof A=="number")return Dt;if(A instanceof Cn)return an;if(A instanceof _n)return on;if(A instanceof Hn)return Sn;if(A instanceof ar)return Ln;if(Array.isArray(A)){for(var D,W=A.length,le=0,Me=A;le<Me.length;le+=1){var Pe=Xn(Me[le]);if(D){if(D===Pe)continue;D=Vt;break}D=Pe}return fn(D||Vt,W)}return Wt}function gr(A){var D=typeof A;return A===null?"":D==="string"||D==="number"||D==="boolean"?String(A):A instanceof Cn||A instanceof Hn||A instanceof ar?A.toString():JSON.stringify(A)}ar.prototype.toString=function(){return this.name},ar.fromString=function(A){return A?new ar({name:A,available:!1}):null},ar.prototype.serialize=function(){return["image",this.name]};var Gt=function(A,D){this.type=A,this.value=D};Gt.parse=function(A,D){if(A.length!==2)return D.error("'literal' expression requires exactly one argument, but found "+(A.length-1)+" instead.");if(!rr(A[1]))return D.error("invalid value");var W=A[1],le=Xn(W),Me=D.expectedType;return le.kind!=="array"||le.N!==0||!Me||Me.kind!=="array"||typeof Me.N=="number"&&Me.N!==0||(le=Me),new Gt(le,W)},Gt.prototype.evaluate=function(){return this.value},Gt.prototype.eachChild=function(){},Gt.prototype.outputDefined=function(){return!0},Gt.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Cn?["rgba"].concat(this.value.toArray()):this.value instanceof Hn?this.value.serialize():this.value};var tn=function(A){this.name="ExpressionEvaluationError",this.message=A};tn.prototype.toJSON=function(){return this.message};var dn={string:Bt,number:Dt,boolean:Xt,object:Wt},vn=function(A,D){this.type=A,this.args=D};vn.parse=function(A,D){if(A.length<2)return D.error("Expected at least one argument.");var W,le=1,Me=A[0];if(Me==="array"){var Pe,je;if(A.length>2){var et=A[1];if(typeof et!="string"||!(et in dn)||et==="object")return D.error('The item type argument of "array" must be one of string, number, boolean',1);Pe=dn[et],le++}else Pe=Vt;if(A.length>3){if(A[2]!==null&&(typeof A[2]!="number"||A[2]<0||A[2]!==Math.floor(A[2])))return D.error('The length argument to "array" must be a positive integer literal',2);je=A[2],le++}W=fn(Pe,je)}else W=dn[Me];for(var ct=[];le<A.length;le++){var wt=D.parse(A[le],le,Vt);if(!wt)return null;ct.push(wt)}return new vn(W,ct)},vn.prototype.evaluate=function(A){for(var D=0;D<this.args.length;D++){var W=this.args[D].evaluate(A);if(!nn(this.type,Xn(W)))return W;if(D===this.args.length-1)throw new tn("Expected value to be of type "+Zt(this.type)+", but found "+Zt(Xn(W))+" instead.")}return null},vn.prototype.eachChild=function(A){this.args.forEach(A)},vn.prototype.outputDefined=function(){return this.args.every(function(A){return A.outputDefined()})},vn.prototype.serialize=function(){var A=this.type,D=[A.kind];if(A.kind==="array"){var W=A.itemType;if(W.kind==="string"||W.kind==="number"||W.kind==="boolean"){D.push(W.kind);var le=A.N;(typeof le=="number"||this.args.length>1)&&D.push(le)}}return D.concat(this.args.map(function(Me){return Me.serialize()}))};var On=function(A){this.type=Sn,this.sections=A};On.parse=function(A,D){if(A.length<2)return D.error("Expected at least one argument.");var W=A[1];if(!Array.isArray(W)&&typeof W=="object")return D.error("First argument must be an image or text section.");for(var le=[],Me=!1,Pe=1;Pe<=A.length-1;++Pe){var je=A[Pe];if(Me&&typeof je=="object"&&!Array.isArray(je)){Me=!1;var et=null;if(je["font-scale"]&&!(et=D.parse(je["font-scale"],1,Dt)))return null;var ct=null;if(je["text-font"]&&!(ct=D.parse(je["text-font"],1,fn(Bt))))return null;var wt=null;if(je["text-color"]&&!(wt=D.parse(je["text-color"],1,an)))return null;var At=le[le.length-1];At.scale=et,At.font=ct,At.textColor=wt}else{var Nt=D.parse(A[Pe],1,Vt);if(!Nt)return null;var qt=Nt.type.kind;if(qt!=="string"&&qt!=="value"&&qt!=="null"&&qt!=="resolvedImage")return D.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Me=!0,le.push({content:Nt,scale:null,font:null,textColor:null})}}return new On(le)},On.prototype.evaluate=function(A){return new Hn(this.sections.map(function(D){var W=D.content.evaluate(A);return Xn(W)===Ln?new zn("",W,null,null,null):new zn(gr(W),null,D.scale?D.scale.evaluate(A):null,D.font?D.font.evaluate(A).join(","):null,D.textColor?D.textColor.evaluate(A):null)}))},On.prototype.eachChild=function(A){for(var D=0,W=this.sections;D<W.length;D+=1){var le=W[D];A(le.content),le.scale&&A(le.scale),le.font&&A(le.font),le.textColor&&A(le.textColor)}},On.prototype.outputDefined=function(){return!1},On.prototype.serialize=function(){for(var A=["format"],D=0,W=this.sections;D<W.length;D+=1){var le=W[D];A.push(le.content.serialize());var Me={};le.scale&&(Me["font-scale"]=le.scale.serialize()),le.font&&(Me["text-font"]=le.font.serialize()),le.textColor&&(Me["text-color"]=le.textColor.serialize()),A.push(Me)}return A};var Vn=function(A){this.type=Ln,this.input=A};Vn.parse=function(A,D){if(A.length!==2)return D.error("Expected two arguments.");var W=D.parse(A[1],1,Bt);return W?new Vn(W):D.error("No image name provided.")},Vn.prototype.evaluate=function(A){var D=this.input.evaluate(A),W=ar.fromString(D);return W&&A.availableImages&&(W.available=A.availableImages.indexOf(D)>-1),W},Vn.prototype.eachChild=function(A){A(this.input)},Vn.prototype.outputDefined=function(){return!1},Vn.prototype.serialize=function(){return["image",this.input.serialize()]};var Bn={"to-boolean":Xt,"to-color":an,"to-number":Dt,"to-string":Bt},Un=function(A,D){this.type=A,this.args=D};Un.parse=function(A,D){if(A.length<2)return D.error("Expected at least one argument.");var W=A[0];if((W==="to-boolean"||W==="to-string")&&A.length!==2)return D.error("Expected one argument.");for(var le=Bn[W],Me=[],Pe=1;Pe<A.length;Pe++){var je=D.parse(A[Pe],Pe,Vt);if(!je)return null;Me.push(je)}return new Un(le,Me)},Un.prototype.evaluate=function(A){if(this.type.kind==="boolean")return!!this.args[0].evaluate(A);if(this.type.kind==="color"){for(var D,W,le=0,Me=this.args;le<Me.length;le+=1){if(W=null,(D=Me[le].evaluate(A))instanceof Cn)return D;if(typeof D=="string"){var Pe=A.parseColor(D);if(Pe)return Pe}else if(Array.isArray(D)&&!(W=D.length<3||D.length>4?"Invalid rbga value "+JSON.stringify(D)+": expected an array containing either three or four numeric values.":fr(D[0],D[1],D[2],D[3])))return new Cn(D[0]/255,D[1]/255,D[2]/255,D[3])}throw new tn(W||"Could not parse color from value '"+(typeof D=="string"?D:String(JSON.stringify(D)))+"'")}if(this.type.kind==="number"){for(var je=null,et=0,ct=this.args;et<ct.length;et+=1){if((je=ct[et].evaluate(A))===null)return 0;var wt=Number(je);if(!isNaN(wt))return wt}throw new tn("Could not convert "+JSON.stringify(je)+" to number.")}return this.type.kind==="formatted"?Hn.fromString(gr(this.args[0].evaluate(A))):this.type.kind==="resolvedImage"?ar.fromString(gr(this.args[0].evaluate(A))):gr(this.args[0].evaluate(A))},Un.prototype.eachChild=function(A){this.args.forEach(A)},Un.prototype.outputDefined=function(){return this.args.every(function(A){return A.outputDefined()})},Un.prototype.serialize=function(){if(this.type.kind==="formatted")return new On([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Vn(this.args[0]).serialize();var A=["to-"+this.type.kind];return this.eachChild(function(D){A.push(D.serialize())}),A};var tr=["Unknown","Point","LineString","Polygon"],$t=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};$t.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},$t.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?tr[this.feature.type]:this.feature.type:null},$t.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},$t.prototype.canonicalID=function(){return this.canonical},$t.prototype.properties=function(){return this.feature&&this.feature.properties||{}},$t.prototype.parseColor=function(A){var D=this._parseColorCache[A];return D||(D=this._parseColorCache[A]=Cn.parse(A)),D};var bn=function(A,D,W,le){this.name=A,this.type=D,this._evaluate=W,this.args=le};bn.prototype.evaluate=function(A){return this._evaluate(A,this.args)},bn.prototype.eachChild=function(A){this.args.forEach(A)},bn.prototype.outputDefined=function(){return!1},bn.prototype.serialize=function(){return[this.name].concat(this.args.map(function(A){return A.serialize()}))},bn.parse=function(A,D){var W,le=A[0],Me=bn.definitions[le];if(!Me)return D.error('Unknown expression "'+le+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Pe=Array.isArray(Me)?Me[0]:Me.type,je=Array.isArray(Me)?[[Me[1],Me[2]]]:Me.overloads,et=je.filter(function(qr){var Rr=qr[0];return!Array.isArray(Rr)||Rr.length===A.length-1}),ct=null,wt=0,At=et;wt<At.length;wt+=1){var Nt=At[wt],qt=Nt[0],Ut=Nt[1];ct=new Lr(D.registry,D.path,null,D.scope);for(var sn=[],un=!1,En=1;En<A.length;En++){var Mn=A[En],Nn=Array.isArray(qt)?qt[En-1]:qt.type,jn=ct.parse(Mn,1+sn.length,Nn);if(!jn){un=!0;break}sn.push(jn)}if(!un)if(Array.isArray(qt)&&qt.length!==sn.length)ct.error("Expected "+qt.length+" arguments, but found "+sn.length+" instead.");else{for(var qn=0;qn<sn.length;qn++){var Jn=Array.isArray(qt)?qt[qn]:qt.type,nr=sn[qn];ct.concat(qn+1).checkSubtype(Jn,nr.type)}if(ct.errors.length===0)return new bn(le,Pe,Ut,sn)}}if(et.length===1)(W=D.errors).push.apply(W,ct.errors);else{for(var yr=(et.length?et:je).map(function(qr){return Rr=qr[0],Array.isArray(Rr)?"("+Rr.map(Zt).join(", ")+")":"("+Zt(Rr.type)+"...)";var Rr}).join(" | "),dr=[],kr=1;kr<A.length;kr++){var Ar=D.parse(A[kr],1+dr.length);if(!Ar)return null;dr.push(Zt(Ar.type))}D.error("Expected arguments of type "+yr+", but found ("+dr.join(", ")+") instead.")}return null},bn.register=function(A,D){for(var W in bn.definitions=D,D)A[W]=bn};var Rt=function(A,D,W){this.type=on,this.locale=W,this.caseSensitive=A,this.diacriticSensitive=D};Rt.parse=function(A,D){if(A.length!==2)return D.error("Expected one argument.");var W=A[1];if(typeof W!="object"||Array.isArray(W))return D.error("Collator options argument must be an object.");var le=D.parse(W["case-sensitive"]!==void 0&&W["case-sensitive"],1,Xt);if(!le)return null;var Me=D.parse(W["diacritic-sensitive"]!==void 0&&W["diacritic-sensitive"],1,Xt);if(!Me)return null;var Pe=null;return W.locale&&!(Pe=D.parse(W.locale,1,Bt))?null:new Rt(le,Me,Pe)},Rt.prototype.evaluate=function(A){return new _n(this.caseSensitive.evaluate(A),this.diacriticSensitive.evaluate(A),this.locale?this.locale.evaluate(A):null)},Rt.prototype.eachChild=function(A){A(this.caseSensitive),A(this.diacriticSensitive),this.locale&&A(this.locale)},Rt.prototype.outputDefined=function(){return!1},Rt.prototype.serialize=function(){var A={};return A["case-sensitive"]=this.caseSensitive.serialize(),A["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(A.locale=this.locale.serialize()),["collator",A]};var Kt=8192;function rn(A,D){A[0]=Math.min(A[0],D[0]),A[1]=Math.min(A[1],D[1]),A[2]=Math.max(A[2],D[0]),A[3]=Math.max(A[3],D[1])}function xn(A,D){return!(A[0]<=D[0]||A[2]>=D[2]||A[1]<=D[1]||A[3]>=D[3])}function Tn(A,D){var W,le=(180+A[0])/360,Me=(W=A[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+W*Math.PI/360)))/360),Pe=Math.pow(2,D.z);return[Math.round(le*Pe*Kt),Math.round(Me*Pe*Kt)]}function Pn(A,D,W){return D[1]>A[1]!=W[1]>A[1]&&A[0]<(W[0]-D[0])*(A[1]-D[1])/(W[1]-D[1])+D[0]}function pn(A,D){for(var W=!1,le=0,Me=D.length;le<Me;le++)for(var Pe=D[le],je=0,et=Pe.length;je<et-1;je++){if(ct=A,wt=Pe[je],At=Pe[je+1],Nt=void 0,qt=void 0,Ut=void 0,sn=void 0,Nt=ct[0]-wt[0],qt=ct[1]-wt[1],Ut=ct[0]-At[0],sn=ct[1]-At[1],Nt*sn-Ut*qt==0&&Nt*Ut<=0&&qt*sn<=0)return!1;Pn(A,Pe[je],Pe[je+1])&&(W=!W)}var ct,wt,At,Nt,qt,Ut,sn;return W}function Qt(A,D){for(var W=0;W<D.length;W++)if(pn(A,D[W]))return!0;return!1}function en(A,D,W,le){var Me=A[0]-W[0],Pe=A[1]-W[1],je=D[0]-W[0],et=D[1]-W[1],ct=le[0]-W[0],wt=le[1]-W[1],At=Me*wt-ct*Pe,Nt=je*wt-ct*et;return At>0&&Nt<0||At<0&&Nt>0}function hn(A,D,W){for(var le=0,Me=W;le<Me.length;le+=1)for(var Pe=Me[le],je=0;je<Pe.length-1;++je)if(et=A,ct=D,wt=Pe[je],At=Pe[je+1],Nt=void 0,qt=void 0,Ut=void 0,Ut=[ct[0]-et[0],ct[1]-et[1]],Nt=[At[0]-wt[0],At[1]-wt[1]],qt=Ut,Nt[0]*qt[1]-Nt[1]*qt[0]!=0&&en(et,ct,wt,At)&&en(wt,At,et,ct))return!0;var et,ct,wt,At,Nt,qt,Ut;return!1}function gn(A,D){for(var W=0;W<A.length;++W)if(!pn(A[W],D))return!1;for(var le=0;le<A.length-1;++le)if(hn(A[le],A[le+1],D))return!1;return!0}function Dn(A,D){for(var W=0;W<D.length;W++)if(gn(A,D[W]))return!0;return!1}function Fn(A,D,W){for(var le=[],Me=0;Me<A.length;Me++){for(var Pe=[],je=0;je<A[Me].length;je++){var et=Tn(A[Me][je],W);rn(D,et),Pe.push(et)}le.push(Pe)}return le}function Wn(A,D,W){for(var le=[],Me=0;Me<A.length;Me++){var Pe=Fn(A[Me],D,W);le.push(Pe)}return le}function Yn(A,D,W,le){if(A[0]<W[0]||A[0]>W[2]){var Me=.5*le,Pe=A[0]-W[0]>Me?-le:W[0]-A[0]>Me?le:0;Pe===0&&(Pe=A[0]-W[2]>Me?-le:W[2]-A[0]>Me?le:0),A[0]+=Pe}rn(D,A)}function er(A,D,W,le){for(var Me=Math.pow(2,le.z)*Kt,Pe=[le.x*Kt,le.y*Kt],je=[],et=0,ct=A;et<ct.length;et+=1)for(var wt=0,At=ct[et];wt<At.length;wt+=1){var Nt=At[wt],qt=[Nt.x+Pe[0],Nt.y+Pe[1]];Yn(qt,D,W,Me),je.push(qt)}return je}function Kn(A,D,W,le){for(var Me=Math.pow(2,le.z)*Kt,Pe=[le.x*Kt,le.y*Kt],je=[],et=0,ct=A;et<ct.length;et+=1){for(var wt=[],At=0,Nt=ct[et];At<Nt.length;At+=1){var qt=Nt[At],Ut=[qt.x+Pe[0],qt.y+Pe[1]];rn(D,Ut),wt.push(Ut)}je.push(wt)}if(D[2]-D[0]<=Me/2){(Nn=D)[0]=Nn[1]=1/0,Nn[2]=Nn[3]=-1/0;for(var sn=0,un=je;sn<un.length;sn+=1)for(var En=0,Mn=un[sn];En<Mn.length;En+=1)Yn(Mn[En],D,W,Me)}var Nn;return je}var ir=function(A,D){this.type=Xt,this.geojson=A,this.geometries=D};function cr(A){if(A instanceof bn&&(A.name==="get"&&A.args.length===1||A.name==="feature-state"||A.name==="has"&&A.args.length===1||A.name==="properties"||A.name==="geometry-type"||A.name==="id"||/^filter-/.test(A.name))||A instanceof ir)return!1;var D=!0;return A.eachChild(function(W){D&&!cr(W)&&(D=!1)}),D}function ur(A){if(A instanceof bn&&A.name==="feature-state")return!1;var D=!0;return A.eachChild(function(W){D&&!ur(W)&&(D=!1)}),D}function mr(A,D){if(A instanceof bn&&D.indexOf(A.name)>=0)return!1;var W=!0;return A.eachChild(function(le){W&&!mr(le,D)&&(W=!1)}),W}ir.parse=function(A,D){if(A.length!==2)return D.error("'within' expression requires exactly one argument, but found "+(A.length-1)+" instead.");if(rr(A[1])){var W=A[1];if(W.type==="FeatureCollection")for(var le=0;le<W.features.length;++le){var Me=W.features[le].geometry.type;if(Me==="Polygon"||Me==="MultiPolygon")return new ir(W,W.features[le].geometry)}else if(W.type==="Feature"){var Pe=W.geometry.type;if(Pe==="Polygon"||Pe==="MultiPolygon")return new ir(W,W.geometry)}else if(W.type==="Polygon"||W.type==="MultiPolygon")return new ir(W,W)}return D.error("'within' expression requires valid geojson object that contains polygon geometry type.")},ir.prototype.evaluate=function(A){if(A.geometry()!=null&&A.canonicalID()!=null){if(A.geometryType()==="Point")return function(D,W){var le=[1/0,1/0,-1/0,-1/0],Me=[1/0,1/0,-1/0,-1/0],Pe=D.canonicalID();if(W.type==="Polygon"){var je=Fn(W.coordinates,Me,Pe),et=er(D.geometry(),le,Me,Pe);if(!xn(le,Me))return!1;for(var ct=0,wt=et;ct<wt.length;ct+=1)if(!pn(wt[ct],je))return!1}if(W.type==="MultiPolygon"){var At=Wn(W.coordinates,Me,Pe),Nt=er(D.geometry(),le,Me,Pe);if(!xn(le,Me))return!1;for(var qt=0,Ut=Nt;qt<Ut.length;qt+=1)if(!Qt(Ut[qt],At))return!1}return!0}(A,this.geometries);if(A.geometryType()==="LineString")return function(D,W){var le=[1/0,1/0,-1/0,-1/0],Me=[1/0,1/0,-1/0,-1/0],Pe=D.canonicalID();if(W.type==="Polygon"){var je=Fn(W.coordinates,Me,Pe),et=Kn(D.geometry(),le,Me,Pe);if(!xn(le,Me))return!1;for(var ct=0,wt=et;ct<wt.length;ct+=1)if(!gn(wt[ct],je))return!1}if(W.type==="MultiPolygon"){var At=Wn(W.coordinates,Me,Pe),Nt=Kn(D.geometry(),le,Me,Pe);if(!xn(le,Me))return!1;for(var qt=0,Ut=Nt;qt<Ut.length;qt+=1)if(!Dn(Ut[qt],At))return!1}return!0}(A,this.geometries)}return!1},ir.prototype.eachChild=function(){},ir.prototype.outputDefined=function(){return!0},ir.prototype.serialize=function(){return["within",this.geojson]};var vr=function(A,D){this.type=D.type,this.name=A,this.boundExpression=D};vr.parse=function(A,D){if(A.length!==2||typeof A[1]!="string")return D.error("'var' expression requires exactly one string literal argument.");var W=A[1];return D.scope.has(W)?new vr(W,D.scope.get(W)):D.error('Unknown variable "'+W+'". Make sure "'+W+'" has been bound in an enclosing "let" expression before using it.',1)},vr.prototype.evaluate=function(A){return this.boundExpression.evaluate(A)},vr.prototype.eachChild=function(){},vr.prototype.outputDefined=function(){return!1},vr.prototype.serialize=function(){return["var",this.name]};var Lr=function(A,D,W,le,Me){D===void 0&&(D=[]),le===void 0&&(le=new bt),Me===void 0&&(Me=[]),this.registry=A,this.path=D,this.key=D.map(function(Pe){return"["+Pe+"]"}).join(""),this.scope=le,this.errors=Me,this.expectedType=W};function or(A){if(A instanceof vr)return or(A.boundExpression);if(A instanceof bn&&A.name==="error"||A instanceof Rt||A instanceof ir)return!1;var D=A instanceof Un||A instanceof vn,W=!0;return A.eachChild(function(le){W=D?W&&or(le):W&&le instanceof Gt}),!!W&&cr(A)&&mr(A,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function wr(A,D){for(var W,le,Me=A.length-1,Pe=0,je=Me,et=0;Pe<=je;)if(W=A[et=Math.floor((Pe+je)/2)],le=A[et+1],W<=D){if(et===Me||D<le)return et;Pe=et+1}else{if(!(W>D))throw new tn("Input is not a number.");je=et-1}return 0}Lr.prototype.parse=function(A,D,W,le,Me){return Me===void 0&&(Me={}),D?this.concat(D,W,le)._parse(A,Me):this._parse(A,Me)},Lr.prototype._parse=function(A,D){function W(wt,At,Nt){return Nt==="assert"?new vn(At,[wt]):Nt==="coerce"?new Un(At,[wt]):wt}if(A!==null&&typeof A!="string"&&typeof A!="boolean"&&typeof A!="number"||(A=["literal",A]),Array.isArray(A)){if(A.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var le=A[0];if(typeof le!="string")return this.error("Expression name must be a string, but found "+typeof le+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Me=this.registry[le];if(Me){var Pe=Me.parse(A,this);if(!Pe)return null;if(this.expectedType){var je=this.expectedType,et=Pe.type;if(je.kind!=="string"&&je.kind!=="number"&&je.kind!=="boolean"&&je.kind!=="object"&&je.kind!=="array"||et.kind!=="value")if(je.kind!=="color"&&je.kind!=="formatted"&&je.kind!=="resolvedImage"||et.kind!=="value"&&et.kind!=="string"){if(this.checkSubtype(je,et))return null}else Pe=W(Pe,je,D.typeAnnotation||"coerce");else Pe=W(Pe,je,D.typeAnnotation||"assert")}if(!(Pe instanceof Gt)&&Pe.type.kind!=="resolvedImage"&&or(Pe)){var ct=new $t;try{Pe=new Gt(Pe.type,Pe.evaluate(ct))}catch(wt){return this.error(wt.message),null}}return Pe}return this.error('Unknown expression "'+le+'". If you wanted a literal array, use ["literal", [...]].',0)}return A===void 0?this.error("'undefined' value invalid. Use null instead."):typeof A=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof A+" instead.")},Lr.prototype.concat=function(A,D,W){var le=typeof A=="number"?this.path.concat(A):this.path,Me=W?this.scope.concat(W):this.scope;return new Lr(this.registry,le,D||null,Me,this.errors)},Lr.prototype.error=function(A){for(var D=[],W=arguments.length-1;W-- >0;)D[W]=arguments[W+1];var le=""+this.key+D.map(function(Me){return"["+Me+"]"}).join("");this.errors.push(new Tt(le,A))},Lr.prototype.checkSubtype=function(A,D){var W=nn(A,D);return W&&this.error(W),W};var Ir=function(A,D,W){this.type=A,this.input=D,this.labels=[],this.outputs=[];for(var le=0,Me=W;le<Me.length;le+=1){var Pe=Me[le],je=Pe[0],et=Pe[1];this.labels.push(je),this.outputs.push(et)}};function Gr(A,D,W){return A*(1-W)+D*W}Ir.parse=function(A,D){if(A.length-1<4)return D.error("Expected at least 4 arguments, but found only "+(A.length-1)+".");if((A.length-1)%2!=0)return D.error("Expected an even number of arguments.");var W=D.parse(A[1],1,Dt);if(!W)return null;var le=[],Me=null;D.expectedType&&D.expectedType.kind!=="value"&&(Me=D.expectedType);for(var Pe=1;Pe<A.length;Pe+=2){var je=Pe===1?-1/0:A[Pe],et=A[Pe+1],ct=Pe,wt=Pe+1;if(typeof je!="number")return D.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ct);if(le.length&&le[le.length-1][0]>=je)return D.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ct);var At=D.parse(et,wt,Me);if(!At)return null;Me=Me||At.type,le.push([je,At])}return new Ir(Me,W,le)},Ir.prototype.evaluate=function(A){var D=this.labels,W=this.outputs;if(D.length===1)return W[0].evaluate(A);var le=this.input.evaluate(A);if(le<=D[0])return W[0].evaluate(A);var Me=D.length;return le>=D[Me-1]?W[Me-1].evaluate(A):W[wr(D,le)].evaluate(A)},Ir.prototype.eachChild=function(A){A(this.input);for(var D=0,W=this.outputs;D<W.length;D+=1)A(W[D])},Ir.prototype.outputDefined=function(){return this.outputs.every(function(A){return A.outputDefined()})},Ir.prototype.serialize=function(){for(var A=["step",this.input.serialize()],D=0;D<this.labels.length;D++)D>0&&A.push(this.labels[D]),A.push(this.outputs[D].serialize());return A};var _i=Object.freeze({__proto__:null,number:Gr,color:function(A,D,W){return new Cn(Gr(A.r,D.r,W),Gr(A.g,D.g,W),Gr(A.b,D.b,W),Gr(A.a,D.a,W))},array:function(A,D,W){return A.map(function(le,Me){return Gr(le,D[Me],W)})}}),Ti=.95047,Ki=1,vi=1.08883,Hi=4/29,La=6/29,Ca=3*La*La,gs=La*La*La,Cu=Math.PI/180,rl=180/Math.PI;function il(A){return A>gs?Math.pow(A,.3333333333333333):A/Ca+Hi}function Sl(A){return A>La?A*A*A:Ca*(A-Hi)}function uo(A){return 255*(A<=.0031308?12.92*A:1.055*Math.pow(A,.4166666666666667)-.055)}function El(A){return(A/=255)<=.04045?A/12.92:Math.pow((A+.055)/1.055,2.4)}function Ll(A){var D=El(A.r),W=El(A.g),le=El(A.b),Me=il((.4124564*D+.3575761*W+.1804375*le)/Ti),Pe=il((.2126729*D+.7151522*W+.072175*le)/Ki);return{l:116*Pe-16,a:500*(Me-Pe),b:200*(Pe-il((.0193339*D+.119192*W+.9503041*le)/vi)),alpha:A.a}}function Cl(A){var D=(A.l+16)/116,W=isNaN(A.a)?D:D+A.a/500,le=isNaN(A.b)?D:D-A.b/200;return D=Ki*Sl(D),W=Ti*Sl(W),le=vi*Sl(le),new Cn(uo(3.2404542*W-1.5371385*D-.4985314*le),uo(-.969266*W+1.8760108*D+.041556*le),uo(.0556434*W-.2040259*D+1.0572252*le),A.alpha)}function Ro(A,D,W){var le=D-A;return A+W*(le>180||le<-180?le-360*Math.round(le/360):le)}var Xo={forward:Ll,reverse:Cl,interpolate:function(A,D,W){return{l:Gr(A.l,D.l,W),a:Gr(A.a,D.a,W),b:Gr(A.b,D.b,W),alpha:Gr(A.alpha,D.alpha,W)}}},vs={forward:function(A){var D=Ll(A),W=D.l,le=D.a,Me=D.b,Pe=Math.atan2(Me,le)*rl;return{h:Pe<0?Pe+360:Pe,c:Math.sqrt(le*le+Me*Me),l:W,alpha:A.a}},reverse:function(A){var D=A.h*Cu,W=A.c;return Cl({l:A.l,a:Math.cos(D)*W,b:Math.sin(D)*W,alpha:A.alpha})},interpolate:function(A,D,W){return{h:Ro(A.h,D.h,W),c:Gr(A.c,D.c,W),l:Gr(A.l,D.l,W),alpha:Gr(A.alpha,D.alpha,W)}}},Ci=Object.freeze({__proto__:null,lab:Xo,hcl:vs}),ia=function(A,D,W,le,Me){this.type=A,this.operator=D,this.interpolation=W,this.input=le,this.labels=[],this.outputs=[];for(var Pe=0,je=Me;Pe<je.length;Pe+=1){var et=je[Pe],ct=et[0],wt=et[1];this.labels.push(ct),this.outputs.push(wt)}};function zo(A,D,W,le){var Me=le-W,Pe=A-W;return Me===0?0:D===1?Pe/Me:(Math.pow(D,Pe)-1)/(Math.pow(D,Me)-1)}ia.interpolationFactor=function(A,D,W,le){var Me=0;if(A.name==="exponential")Me=zo(D,A.base,W,le);else if(A.name==="linear")Me=zo(D,1,W,le);else if(A.name==="cubic-bezier"){var Pe=A.controlPoints;Me=new h(Pe[0],Pe[1],Pe[2],Pe[3]).solve(zo(D,1,W,le))}return Me},ia.parse=function(A,D){var W=A[0],le=A[1],Me=A[2],Pe=A.slice(3);if(!Array.isArray(le)||le.length===0)return D.error("Expected an interpolation type expression.",1);if(le[0]==="linear")le={name:"linear"};else if(le[0]==="exponential"){var je=le[1];if(typeof je!="number")return D.error("Exponential interpolation requires a numeric base.",1,1);le={name:"exponential",base:je}}else{if(le[0]!=="cubic-bezier")return D.error("Unknown interpolation type "+String(le[0]),1,0);var et=le.slice(1);if(et.length!==4||et.some(function(En){return typeof En!="number"||En<0||En>1}))return D.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);le={name:"cubic-bezier",controlPoints:et}}if(A.length-1<4)return D.error("Expected at least 4 arguments, but found only "+(A.length-1)+".");if((A.length-1)%2!=0)return D.error("Expected an even number of arguments.");if(!(Me=D.parse(Me,2,Dt)))return null;var ct=[],wt=null;W==="interpolate-hcl"||W==="interpolate-lab"?wt=an:D.expectedType&&D.expectedType.kind!=="value"&&(wt=D.expectedType);for(var At=0;At<Pe.length;At+=2){var Nt=Pe[At],qt=Pe[At+1],Ut=At+3,sn=At+4;if(typeof Nt!="number")return D.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ut);if(ct.length&&ct[ct.length-1][0]>=Nt)return D.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Ut);var un=D.parse(qt,sn,wt);if(!un)return null;wt=wt||un.type,ct.push([Nt,un])}return wt.kind==="number"||wt.kind==="color"||wt.kind==="array"&&wt.itemType.kind==="number"&&typeof wt.N=="number"?new ia(wt,W,le,Me,ct):D.error("Type "+Zt(wt)+" is not interpolatable.")},ia.prototype.evaluate=function(A){var D=this.labels,W=this.outputs;if(D.length===1)return W[0].evaluate(A);var le=this.input.evaluate(A);if(le<=D[0])return W[0].evaluate(A);var Me=D.length;if(le>=D[Me-1])return W[Me-1].evaluate(A);var Pe=wr(D,le),je=D[Pe],et=D[Pe+1],ct=ia.interpolationFactor(this.interpolation,le,je,et),wt=W[Pe].evaluate(A),At=W[Pe+1].evaluate(A);return this.operator==="interpolate"?_i[this.type.kind.toLowerCase()](wt,At,ct):this.operator==="interpolate-hcl"?vs.reverse(vs.interpolate(vs.forward(wt),vs.forward(At),ct)):Xo.reverse(Xo.interpolate(Xo.forward(wt),Xo.forward(At),ct))},ia.prototype.eachChild=function(A){A(this.input);for(var D=0,W=this.outputs;D<W.length;D+=1)A(W[D])},ia.prototype.outputDefined=function(){return this.outputs.every(function(A){return A.outputDefined()})},ia.prototype.serialize=function(){var A;A=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var D=[this.operator,A,this.input.serialize()],W=0;W<this.labels.length;W++)D.push(this.labels[W],this.outputs[W].serialize());return D};var To=function(A,D){this.type=A,this.args=D};To.parse=function(A,D){if(A.length<2)return D.error("Expectected at least one argument.");var W=null,le=D.expectedType;le&&le.kind!=="value"&&(W=le);for(var Me=[],Pe=0,je=A.slice(1);Pe<je.length;Pe+=1){var et=je[Pe],ct=D.parse(et,1+Me.length,W,void 0,{typeAnnotation:"omit"});if(!ct)return null;W=W||ct.type,Me.push(ct)}var wt=le&&Me.some(function(At){return nn(le,At.type)});return new To(wt?Vt:W,Me)},To.prototype.evaluate=function(A){for(var D,W=null,le=0,Me=0,Pe=this.args;Me<Pe.length&&(le++,(W=Pe[Me].evaluate(A))&&W instanceof ar&&!W.available&&(D||(D=W.name),W=null,le===this.args.length&&(W=D)),W===null);Me+=1);return W},To.prototype.eachChild=function(A){this.args.forEach(A)},To.prototype.outputDefined=function(){return this.args.every(function(A){return A.outputDefined()})},To.prototype.serialize=function(){var A=["coalesce"];return this.eachChild(function(D){A.push(D.serialize())}),A};var co=function(A,D){this.type=D.type,this.bindings=[].concat(A),this.result=D};co.prototype.evaluate=function(A){return this.result.evaluate(A)},co.prototype.eachChild=function(A){for(var D=0,W=this.bindings;D<W.length;D+=1)A(W[D][1]);A(this.result)},co.parse=function(A,D){if(A.length<4)return D.error("Expected at least 3 arguments, but found "+(A.length-1)+" instead.");for(var W=[],le=1;le<A.length-1;le+=2){var Me=A[le];if(typeof Me!="string")return D.error("Expected string, but found "+typeof Me+" instead.",le);if(/[^a-zA-Z0-9_]/.test(Me))return D.error("Variable names must contain only alphanumeric characters or '_'.",le);var Pe=D.parse(A[le+1],le+1);if(!Pe)return null;W.push([Me,Pe])}var je=D.parse(A[A.length-1],A.length-1,D.expectedType,W);return je?new co(W,je):null},co.prototype.outputDefined=function(){return this.result.outputDefined()},co.prototype.serialize=function(){for(var A=["let"],D=0,W=this.bindings;D<W.length;D+=1){var le=W[D],Me=le[0],Pe=le[1];A.push(Me,Pe.serialize())}return A.push(this.result.serialize()),A};var Jo=function(A,D,W){this.type=A,this.index=D,this.input=W};Jo.parse=function(A,D){if(A.length!==3)return D.error("Expected 2 arguments, but found "+(A.length-1)+" instead.");var W=D.parse(A[1],1,Dt),le=D.parse(A[2],2,fn(D.expectedType||Vt));if(!W||!le)return null;var Me=le.type;return new Jo(Me.itemType,W,le)},Jo.prototype.evaluate=function(A){var D=this.index.evaluate(A),W=this.input.evaluate(A);if(D<0)throw new tn("Array index out of bounds: "+D+" < 0.");if(D>=W.length)throw new tn("Array index out of bounds: "+D+" > "+(W.length-1)+".");if(D!==Math.floor(D))throw new tn("Array index must be an integer, but found "+D+" instead.");return W[D]},Jo.prototype.eachChild=function(A){A(this.index),A(this.input)},Jo.prototype.outputDefined=function(){return!1},Jo.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ko=function(A,D){this.type=Xt,this.needle=A,this.haystack=D};ko.parse=function(A,D){if(A.length!==3)return D.error("Expected 2 arguments, but found "+(A.length-1)+" instead.");var W=D.parse(A[1],1,Vt),le=D.parse(A[2],2,Vt);return W&&le?cn(W.type,[Xt,Bt,Dt,Ct,Vt])?new ko(W,le):D.error("Expected first argument to be of type boolean, string, number or null, but found "+Zt(W.type)+" instead"):null},ko.prototype.evaluate=function(A){var D=this.needle.evaluate(A),W=this.haystack.evaluate(A);if(!W)return!1;if(!kn(D,["boolean","string","number","null"]))throw new tn("Expected first argument to be of type boolean, string, number or null, but found "+Zt(Xn(D))+" instead.");if(!kn(W,["string","array"]))throw new tn("Expected second argument to be of type array or string, but found "+Zt(Xn(W))+" instead.");return W.indexOf(D)>=0},ko.prototype.eachChild=function(A){A(this.needle),A(this.haystack)},ko.prototype.outputDefined=function(){return!0},ko.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Ko=function(A,D,W){this.type=Dt,this.needle=A,this.haystack=D,this.fromIndex=W};Ko.parse=function(A,D){if(A.length<=2||A.length>=5)return D.error("Expected 3 or 4 arguments, but found "+(A.length-1)+" instead.");var W=D.parse(A[1],1,Vt),le=D.parse(A[2],2,Vt);if(!W||!le)return null;if(!cn(W.type,[Xt,Bt,Dt,Ct,Vt]))return D.error("Expected first argument to be of type boolean, string, number or null, but found "+Zt(W.type)+" instead");if(A.length===4){var Me=D.parse(A[3],3,Dt);return Me?new Ko(W,le,Me):null}return new Ko(W,le)},Ko.prototype.evaluate=function(A){var D=this.needle.evaluate(A),W=this.haystack.evaluate(A);if(!kn(D,["boolean","string","number","null"]))throw new tn("Expected first argument to be of type boolean, string, number or null, but found "+Zt(Xn(D))+" instead.");if(!kn(W,["string","array"]))throw new tn("Expected second argument to be of type array or string, but found "+Zt(Xn(W))+" instead.");if(this.fromIndex){var le=this.fromIndex.evaluate(A);return W.indexOf(D,le)}return W.indexOf(D)},Ko.prototype.eachChild=function(A){A(this.needle),A(this.haystack),this.fromIndex&&A(this.fromIndex)},Ko.prototype.outputDefined=function(){return!1},Ko.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var A=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),A]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Fo=function(A,D,W,le,Me,Pe){this.inputType=A,this.type=D,this.input=W,this.cases=le,this.outputs=Me,this.otherwise=Pe};Fo.parse=function(A,D){if(A.length<5)return D.error("Expected at least 4 arguments, but found only "+(A.length-1)+".");if(A.length%2!=1)return D.error("Expected an even number of arguments.");var W,le;D.expectedType&&D.expectedType.kind!=="value"&&(le=D.expectedType);for(var Me={},Pe=[],je=2;je<A.length-1;je+=2){var et=A[je],ct=A[je+1];Array.isArray(et)||(et=[et]);var wt=D.concat(je);if(et.length===0)return wt.error("Expected at least one branch label.");for(var At=0,Nt=et;At<Nt.length;At+=1){var qt=Nt[At];if(typeof qt!="number"&&typeof qt!="string")return wt.error("Branch labels must be numbers or strings.");if(typeof qt=="number"&&Math.abs(qt)>Number.MAX_SAFE_INTEGER)return wt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof qt=="number"&&Math.floor(qt)!==qt)return wt.error("Numeric branch labels must be integer values.");if(W){if(wt.checkSubtype(W,Xn(qt)))return null}else W=Xn(qt);if(Me[String(qt)]!==void 0)return wt.error("Branch labels must be unique.");Me[String(qt)]=Pe.length}var Ut=D.parse(ct,je,le);if(!Ut)return null;le=le||Ut.type,Pe.push(Ut)}var sn=D.parse(A[1],1,Vt);if(!sn)return null;var un=D.parse(A[A.length-1],A.length-1,le);return un?sn.type.kind!=="value"&&D.concat(1).checkSubtype(W,sn.type)?null:new Fo(W,le,sn,Me,Pe,un):null},Fo.prototype.evaluate=function(A){var D=this.input.evaluate(A);return(Xn(D)===this.inputType&&this.outputs[this.cases[D]]||this.otherwise).evaluate(A)},Fo.prototype.eachChild=function(A){A(this.input),this.outputs.forEach(A),A(this.otherwise)},Fo.prototype.outputDefined=function(){return this.outputs.every(function(A){return A.outputDefined()})&&this.otherwise.outputDefined()},Fo.prototype.serialize=function(){for(var A=this,D=["match",this.input.serialize()],W=[],le={},Me=0,Pe=Object.keys(this.cases).sort();Me<Pe.length;Me+=1){var je=Pe[Me];(Nt=le[this.cases[je]])===void 0?(le[this.cases[je]]=W.length,W.push([this.cases[je],[je]])):W[Nt][1].push(je)}for(var et=function(Ut){return A.inputType.kind==="number"?Number(Ut):Ut},ct=0,wt=W;ct<wt.length;ct+=1){var At=wt[ct],Nt=At[0],qt=At[1];qt.length===1?D.push(et(qt[0])):D.push(qt.map(et)),D.push(this.outputs[outputIndex$1].serialize())}return D.push(this.otherwise.serialize()),D};var $o=function(A,D,W){this.type=A,this.branches=D,this.otherwise=W};$o.parse=function(A,D){if(A.length<4)return D.error("Expected at least 3 arguments, but found only "+(A.length-1)+".");if(A.length%2!=0)return D.error("Expected an odd number of arguments.");var W;D.expectedType&&D.expectedType.kind!=="value"&&(W=D.expectedType);for(var le=[],Me=1;Me<A.length-1;Me+=2){var Pe=D.parse(A[Me],Me,Xt);if(!Pe)return null;var je=D.parse(A[Me+1],Me+1,W);if(!je)return null;le.push([Pe,je]),W=W||je.type}var et=D.parse(A[A.length-1],A.length-1,W);return et?new $o(W,le,et):null},$o.prototype.evaluate=function(A){for(var D=0,W=this.branches;D<W.length;D+=1){var le=W[D],Me=le[0],Pe=le[1];if(Me.evaluate(A))return Pe.evaluate(A)}return this.otherwise.evaluate(A)},$o.prototype.eachChild=function(A){for(var D=0,W=this.branches;D<W.length;D+=1){var le=W[D],Me=le[0],Pe=le[1];A(Me),A(Pe)}A(this.otherwise)},$o.prototype.outputDefined=function(){return this.branches.every(function(A){return A[0],A[1].outputDefined()})&&this.otherwise.outputDefined()},$o.prototype.serialize=function(){var A=["case"];return this.eachChild(function(D){A.push(D.serialize())}),A};var Mo=function(A,D,W,le){this.type=A,this.input=D,this.beginIndex=W,this.endIndex=le};function Zl(A,D){return A==="=="||A==="!="?D.kind==="boolean"||D.kind==="string"||D.kind==="number"||D.kind==="null"||D.kind==="value":D.kind==="string"||D.kind==="number"||D.kind==="value"}function Ol(A,D,W,le){return le.compare(D,W)===0}function ms(A,D,W){var le=A!=="=="&&A!=="!=";return function(){function Me(Pe,je,et){this.type=Xt,this.lhs=Pe,this.rhs=je,this.collator=et,this.hasUntypedArgument=Pe.type.kind==="value"||je.type.kind==="value"}return Me.parse=function(Pe,je){if(Pe.length!==3&&Pe.length!==4)return je.error("Expected two or three arguments.");var et=Pe[0],ct=je.parse(Pe[1],1,Vt);if(!ct)return null;if(!Zl(et,ct.type))return je.concat(1).error('"'+et+`" comparisons are not supported for type '`+Zt(ct.type)+"'.");var wt=je.parse(Pe[2],2,Vt);if(!wt)return null;if(!Zl(et,wt.type))return je.concat(2).error('"'+et+`" comparisons are not supported for type '`+Zt(wt.type)+"'.");if(ct.type.kind!==wt.type.kind&&ct.type.kind!=="value"&&wt.type.kind!=="value")return je.error("Cannot compare types '"+Zt(ct.type)+"' and '"+Zt(wt.type)+"'.");le&&(ct.type.kind==="value"&&wt.type.kind!=="value"?ct=new vn(wt.type,[ct]):ct.type.kind!=="value"&&wt.type.kind==="value"&&(wt=new vn(ct.type,[wt])));var At=null;if(Pe.length===4){if(ct.type.kind!=="string"&&wt.type.kind!=="string"&&ct.type.kind!=="value"&&wt.type.kind!=="value")return je.error("Cannot use collator to compare non-string types.");if(!(At=je.parse(Pe[3],3,on)))return null}return new Me(ct,wt,At)},Me.prototype.evaluate=function(Pe){var je=this.lhs.evaluate(Pe),et=this.rhs.evaluate(Pe);if(le&&this.hasUntypedArgument){var ct=Xn(je),wt=Xn(et);if(ct.kind!==wt.kind||ct.kind!=="string"&&ct.kind!=="number")throw new tn('Expected arguments for "'+A+'" to be (string, string) or (number, number), but found ('+ct.kind+", "+wt.kind+") instead.")}if(this.collator&&!le&&this.hasUntypedArgument){var At=Xn(je),Nt=Xn(et);if(At.kind!=="string"||Nt.kind!=="string")return D(Pe,je,et)}return this.collator?W(Pe,je,et,this.collator.evaluate(Pe)):D(Pe,je,et)},Me.prototype.eachChild=function(Pe){Pe(this.lhs),Pe(this.rhs),this.collator&&Pe(this.collator)},Me.prototype.outputDefined=function(){return!0},Me.prototype.serialize=function(){var Pe=[A];return this.eachChild(function(je){Pe.push(je.serialize())}),Pe},Me}()}Mo.parse=function(A,D){if(A.length<=2||A.length>=5)return D.error("Expected 3 or 4 arguments, but found "+(A.length-1)+" instead.");var W=D.parse(A[1],1,Vt),le=D.parse(A[2],2,Dt);if(!W||!le)return null;if(!cn(W.type,[fn(Vt),Bt,Vt]))return D.error("Expected first argument to be of type array or string, but found "+Zt(W.type)+" instead");if(A.length===4){var Me=D.parse(A[3],3,Dt);return Me?new Mo(W.type,W,le,Me):null}return new Mo(W.type,W,le)},Mo.prototype.evaluate=function(A){var D=this.input.evaluate(A),W=this.beginIndex.evaluate(A);if(!kn(D,["string","array"]))throw new tn("Expected first argument to be of type array or string, but found "+Zt(Xn(D))+" instead.");if(this.endIndex){var le=this.endIndex.evaluate(A);return D.slice(W,le)}return D.slice(W)},Mo.prototype.eachChild=function(A){A(this.input),A(this.beginIndex),this.endIndex&&A(this.endIndex)},Mo.prototype.outputDefined=function(){return!1},Mo.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var A=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),A]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var pu=ms("==",function(A,D,W){return D===W},Ol),du=ms("!=",function(A,D,W){return D!==W},function(A,D,W,le){return!Ol(0,D,W,le)}),ys=ms("<",function(A,D,W){return D<W},function(A,D,W,le){return le.compare(D,W)<0}),gu=ms(">",function(A,D,W){return D>W},function(A,D,W,le){return le.compare(D,W)>0}),Ou=ms("<=",function(A,D,W){return D<=W},function(A,D,W,le){return le.compare(D,W)<=0}),Pu=ms(">=",function(A,D,W){return D>=W},function(A,D,W,le){return le.compare(D,W)>=0}),xs=function(A,D,W,le,Me){this.type=Bt,this.number=A,this.locale=D,this.currency=W,this.minFractionDigits=le,this.maxFractionDigits=Me};xs.parse=function(A,D){if(A.length!==3)return D.error("Expected two arguments.");var W=D.parse(A[1],1,Dt);if(!W)return null;var le=A[2];if(typeof le!="object"||Array.isArray(le))return D.error("NumberFormat options argument must be an object.");var Me=null;if(le.locale&&!(Me=D.parse(le.locale,1,Bt)))return null;var Pe=null;if(le.currency&&!(Pe=D.parse(le.currency,1,Bt)))return null;var je=null;if(le["min-fraction-digits"]&&!(je=D.parse(le["min-fraction-digits"],1,Dt)))return null;var et=null;return le["max-fraction-digits"]&&!(et=D.parse(le["max-fraction-digits"],1,Dt))?null:new xs(W,Me,Pe,je,et)},xs.prototype.evaluate=function(A){return new Intl.NumberFormat(this.locale?this.locale.evaluate(A):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(A):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(A):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(A):void 0}).format(this.number.evaluate(A))},xs.prototype.eachChild=function(A){A(this.number),this.locale&&A(this.locale),this.currency&&A(this.currency),this.minFractionDigits&&A(this.minFractionDigits),this.maxFractionDigits&&A(this.maxFractionDigits)},xs.prototype.outputDefined=function(){return!1},xs.prototype.serialize=function(){var A={};return this.locale&&(A.locale=this.locale.serialize()),this.currency&&(A.currency=this.currency.serialize()),this.minFractionDigits&&(A["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(A["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),A]};var Ao=function(A){this.type=Dt,this.input=A};Ao.parse=function(A,D){if(A.length!==2)return D.error("Expected 1 argument, but found "+(A.length-1)+" instead.");var W=D.parse(A[1],1);return W?W.type.kind!=="array"&&W.type.kind!=="string"&&W.type.kind!=="value"?D.error("Expected argument of type string or array, but found "+Zt(W.type)+" instead."):new Ao(W):null},Ao.prototype.evaluate=function(A){var D=this.input.evaluate(A);if(typeof D=="string"||Array.isArray(D))return D.length;throw new tn("Expected value to be of type string or array, but found "+Zt(Xn(D))+" instead.")},Ao.prototype.eachChild=function(A){A(this.input)},Ao.prototype.outputDefined=function(){return!1},Ao.prototype.serialize=function(){var A=["length"];return this.eachChild(function(D){A.push(D.serialize())}),A};var Fs={"==":pu,"!=":du,">":gu,"<":ys,">=":Pu,"<=":Ou,array:vn,at:Jo,boolean:vn,case:$o,coalesce:To,collator:Rt,format:On,image:Vn,in:ko,"index-of":Ko,interpolate:ia,"interpolate-hcl":ia,"interpolate-lab":ia,length:Ao,let:co,literal:Gt,match:Fo,number:vn,"number-format":xs,object:vn,slice:Mo,step:Ir,string:vn,"to-boolean":Un,"to-color":Un,"to-number":Un,"to-string":Un,var:vr,within:ir};function bs(A,D){var W=D[0],le=D[1],Me=D[2],Pe=D[3];W=W.evaluate(A),le=le.evaluate(A),Me=Me.evaluate(A);var je=Pe?Pe.evaluate(A):1,et=fr(W,le,Me,je);if(et)throw new tn(et);return new Cn(W/255*je,le/255*je,Me/255*je,je)}function al(A,D){return A in D}function _s(A,D){var W=D[A];return W===void 0?null:W}function fo(A){return{type:A}}function Xl(A){return{result:"success",value:A}}function Qo(A){return{result:"error",value:A}}function Bo(A){return A["property-type"]==="data-driven"||A["property-type"]==="cross-faded-data-driven"}function No(A){return!!A.expression&&A.expression.parameters.indexOf("zoom")>-1}function es(A){return!!A.expression&&A.expression.interpolated}function Qr(A){return A instanceof Number?"number":A instanceof String?"string":A instanceof Boolean?"boolean":Array.isArray(A)?"array":A===null?"null":typeof A}function Bs(A){return typeof A=="object"&&A!==null&&!Array.isArray(A)}function Iu(A){return A}function Pl(A,D){var W,le,Me,Pe=D.type==="color",je=A.stops&&typeof A.stops[0][0]=="object",et=je||A.property!==void 0,ct=je||!et,wt=A.type||(es(D)?"exponential":"interval");if(Pe&&((A=xt({},A)).stops&&(A.stops=A.stops.map(function(dr){return[dr[0],Cn.parse(dr[1])]})),A.default?A.default=Cn.parse(A.default):A.default=Cn.parse(D.default)),A.colorSpace&&A.colorSpace!=="rgb"&&!Ci[A.colorSpace])throw new Error("Unknown color space: "+A.colorSpace);if(wt==="exponential")W=Il;else if(wt==="interval")W=Du;else if(wt==="categorical"){W=vu,le=Object.create(null);for(var At=0,Nt=A.stops;At<Nt.length;At+=1){var qt=Nt[At];le[qt[0]]=qt[1]}Me=typeof A.stops[0][0]}else{if(wt!=="identity")throw new Error('Unknown function type "'+wt+'"');W=Ru}if(je){for(var Ut={},sn=[],un=0;un<A.stops.length;un++){var En=A.stops[un],Mn=En[0].zoom;Ut[Mn]===void 0&&(Ut[Mn]={zoom:Mn,type:A.type,property:A.property,default:A.default,stops:[]},sn.push(Mn)),Ut[Mn].stops.push([En[0].value,En[1]])}for(var Nn=[],jn=0,qn=sn;jn<qn.length;jn+=1){var Jn=qn[jn];Nn.push([Ut[Jn].zoom,Pl(Ut[Jn],D)])}var nr={name:"linear"};return{kind:"composite",interpolationType:nr,interpolationFactor:ia.interpolationFactor.bind(void 0,nr),zoomStops:Nn.map(function(dr){return dr[0]}),evaluate:function(dr,kr){var Ar=dr.zoom;return Il({stops:Nn,base:A.base},D,Ar).evaluate(Ar,kr)}}}if(ct){var yr=wt==="exponential"?{name:"exponential",base:A.base!==void 0?A.base:1}:null;return{kind:"camera",interpolationType:yr,interpolationFactor:ia.interpolationFactor.bind(void 0,yr),zoomStops:A.stops.map(function(dr){return dr[0]}),evaluate:function(dr){var kr=dr.zoom;return W(A,D,kr,le,Me)}}}return{kind:"source",evaluate:function(dr,kr){var Ar=kr&&kr.properties?kr.properties[A.property]:void 0;return Ar===void 0?Ns(A.default,D.default):W(A,D,Ar,le,Me)}}}function Ns(A,D,W){return A!==void 0?A:D!==void 0?D:W!==void 0?W:void 0}function vu(A,D,W,le,Me){return Ns(typeof W===Me?le[W]:void 0,A.default,D.default)}function Du(A,D,W){if(Qr(W)!=="number")return Ns(A.default,D.default);var le=A.stops.length;if(le===1||W<=A.stops[0][0])return A.stops[0][1];if(W>=A.stops[le-1][0])return A.stops[le-1][1];var Me=wr(A.stops.map(function(Pe){return Pe[0]}),W);return A.stops[Me][1]}function Il(A,D,W){var le=A.base!==void 0?A.base:1;if(Qr(W)!=="number")return Ns(A.default,D.default);var Me=A.stops.length;if(Me===1||W<=A.stops[0][0])return A.stops[0][1];if(W>=A.stops[Me-1][0])return A.stops[Me-1][1];var Pe=wr(A.stops.map(function(Nt){return Nt[0]}),W),je=function(Nt,qt,Ut,sn){var un=sn-Ut,En=Nt-Ut;return un===0?0:qt===1?En/un:(Math.pow(qt,En)-1)/(Math.pow(qt,un)-1)}(W,le,A.stops[Pe][0],A.stops[Pe+1][0]),et=A.stops[Pe][1],ct=A.stops[Pe+1][1],wt=_i[D.type]||Iu;if(A.colorSpace&&A.colorSpace!=="rgb"){var At=Ci[A.colorSpace];wt=function(Nt,qt){return At.reverse(At.interpolate(At.forward(Nt),At.forward(qt),je))}}return typeof et.evaluate=="function"?{evaluate:function(){for(var Nt=[],qt=arguments.length;qt--;)Nt[qt]=arguments[qt];var Ut=et.evaluate.apply(void 0,Nt),sn=ct.evaluate.apply(void 0,Nt);if(Ut!==void 0&&sn!==void 0)return wt(Ut,sn,je)}}:wt(et,ct,je)}function Ru(A,D,W){return D.type==="color"?W=Cn.parse(W):D.type==="formatted"?W=Hn.fromString(W.toString()):D.type==="resolvedImage"?W=ar.fromString(W.toString()):Qr(W)===D.type||D.type==="enum"&&D.values[W]||(W=void 0),Ns(W,A.default,D.default)}bn.register(Fs,{error:[{kind:"error"},[Bt],function(A,D){var W=D[0];throw new tn(W.evaluate(A))}],typeof:[Bt,[Vt],function(A,D){return Zt(Xn(D[0].evaluate(A)))}],"to-rgba":[fn(Dt,4),[an],function(A,D){return D[0].evaluate(A).toArray()}],rgb:[an,[Dt,Dt,Dt],bs],rgba:[an,[Dt,Dt,Dt,Dt],bs],has:{type:Xt,overloads:[[[Bt],function(A,D){return al(D[0].evaluate(A),A.properties())}],[[Bt,Wt],function(A,D){var W=D[0],le=D[1];return al(W.evaluate(A),le.evaluate(A))}]]},get:{type:Vt,overloads:[[[Bt],function(A,D){return _s(D[0].evaluate(A),A.properties())}],[[Bt,Wt],function(A,D){var W=D[0],le=D[1];return _s(W.evaluate(A),le.evaluate(A))}]]},"feature-state":[Vt,[Bt],function(A,D){return _s(D[0].evaluate(A),A.featureState||{})}],properties:[Wt,[],function(A){return A.properties()}],"geometry-type":[Bt,[],function(A){return A.geometryType()}],id:[Vt,[],function(A){return A.id()}],zoom:[Dt,[],function(A){return A.globals.zoom}],"heatmap-density":[Dt,[],function(A){return A.globals.heatmapDensity||0}],"line-progress":[Dt,[],function(A){return A.globals.lineProgress||0}],accumulated:[Vt,[],function(A){return A.globals.accumulated===void 0?null:A.globals.accumulated}],"+":[Dt,fo(Dt),function(A,D){for(var W=0,le=0,Me=D;le<Me.length;le+=1)W+=Me[le].evaluate(A);return W}],"*":[Dt,fo(Dt),function(A,D){for(var W=1,le=0,Me=D;le<Me.length;le+=1)W*=Me[le].evaluate(A);return W}],"-":{type:Dt,overloads:[[[Dt,Dt],function(A,D){var W=D[0],le=D[1];return W.evaluate(A)-le.evaluate(A)}],[[Dt],function(A,D){return-D[0].evaluate(A)}]]},"/":[Dt,[Dt,Dt],function(A,D){var W=D[0],le=D[1];return W.evaluate(A)/le.evaluate(A)}],"%":[Dt,[Dt,Dt],function(A,D){var W=D[0],le=D[1];return W.evaluate(A)%le.evaluate(A)}],ln2:[Dt,[],function(){return Math.LN2}],pi:[Dt,[],function(){return Math.PI}],e:[Dt,[],function(){return Math.E}],"^":[Dt,[Dt,Dt],function(A,D){var W=D[0],le=D[1];return Math.pow(W.evaluate(A),le.evaluate(A))}],sqrt:[Dt,[Dt],function(A,D){var W=D[0];return Math.sqrt(W.evaluate(A))}],log10:[Dt,[Dt],function(A,D){var W=D[0];return Math.log(W.evaluate(A))/Math.LN10}],ln:[Dt,[Dt],function(A,D){var W=D[0];return Math.log(W.evaluate(A))}],log2:[Dt,[Dt],function(A,D){var W=D[0];return Math.log(W.evaluate(A))/Math.LN2}],sin:[Dt,[Dt],function(A,D){var W=D[0];return Math.sin(W.evaluate(A))}],cos:[Dt,[Dt],function(A,D){var W=D[0];return Math.cos(W.evaluate(A))}],tan:[Dt,[Dt],function(A,D){var W=D[0];return Math.tan(W.evaluate(A))}],asin:[Dt,[Dt],function(A,D){var W=D[0];return Math.asin(W.evaluate(A))}],acos:[Dt,[Dt],function(A,D){var W=D[0];return Math.acos(W.evaluate(A))}],atan:[Dt,[Dt],function(A,D){var W=D[0];return Math.atan(W.evaluate(A))}],min:[Dt,fo(Dt),function(A,D){return Math.min.apply(Math,D.map(function(W){return W.evaluate(A)}))}],max:[Dt,fo(Dt),function(A,D){return Math.max.apply(Math,D.map(function(W){return W.evaluate(A)}))}],abs:[Dt,[Dt],function(A,D){var W=D[0];return Math.abs(W.evaluate(A))}],round:[Dt,[Dt],function(A,D){var W=D[0].evaluate(A);return W<0?-Math.round(-W):Math.round(W)}],floor:[Dt,[Dt],function(A,D){var W=D[0];return Math.floor(W.evaluate(A))}],ceil:[Dt,[Dt],function(A,D){var W=D[0];return Math.ceil(W.evaluate(A))}],"filter-==":[Xt,[Bt,Vt],function(A,D){var W=D[0],le=D[1];return A.properties()[W.value]===le.value}],"filter-id-==":[Xt,[Vt],function(A,D){var W=D[0];return A.id()===W.value}],"filter-type-==":[Xt,[Bt],function(A,D){var W=D[0];return A.geometryType()===W.value}],"filter-<":[Xt,[Bt,Vt],function(A,D){var W=D[0],le=D[1],Me=A.properties()[W.value],Pe=le.value;return typeof Me==typeof Pe&&Me<Pe}],"filter-id-<":[Xt,[Vt],function(A,D){var W=D[0],le=A.id(),Me=W.value;return typeof le==typeof Me&&le<Me}],"filter->":[Xt,[Bt,Vt],function(A,D){var W=D[0],le=D[1],Me=A.properties()[W.value],Pe=le.value;return typeof Me==typeof Pe&&Me>Pe}],"filter-id->":[Xt,[Vt],function(A,D){var W=D[0],le=A.id(),Me=W.value;return typeof le==typeof Me&&le>Me}],"filter-<=":[Xt,[Bt,Vt],function(A,D){var W=D[0],le=D[1],Me=A.properties()[W.value],Pe=le.value;return typeof Me==typeof Pe&&Me<=Pe}],"filter-id-<=":[Xt,[Vt],function(A,D){var W=D[0],le=A.id(),Me=W.value;return typeof le==typeof Me&&le<=Me}],"filter->=":[Xt,[Bt,Vt],function(A,D){var W=D[0],le=D[1],Me=A.properties()[W.value],Pe=le.value;return typeof Me==typeof Pe&&Me>=Pe}],"filter-id->=":[Xt,[Vt],function(A,D){var W=D[0],le=A.id(),Me=W.value;return typeof le==typeof Me&&le>=Me}],"filter-has":[Xt,[Vt],function(A,D){return D[0].value in A.properties()}],"filter-has-id":[Xt,[],function(A){return A.id()!==null&&A.id()!==void 0}],"filter-type-in":[Xt,[fn(Bt)],function(A,D){return D[0].value.indexOf(A.geometryType())>=0}],"filter-id-in":[Xt,[fn(Vt)],function(A,D){return D[0].value.indexOf(A.id())>=0}],"filter-in-small":[Xt,[Bt,fn(Vt)],function(A,D){var W=D[0];return D[1].value.indexOf(A.properties()[W.value])>=0}],"filter-in-large":[Xt,[Bt,fn(Vt)],function(A,D){var W=D[0],le=D[1];return function(Me,Pe,je,et){for(;je<=et;){var ct=je+et>>1;if(Pe[ct]===Me)return!0;Pe[ct]>Me?et=ct-1:je=ct+1}return!1}(A.properties()[W.value],le.value,0,le.value.length-1)}],all:{type:Xt,overloads:[[[Xt,Xt],function(A,D){var W=D[0],le=D[1];return W.evaluate(A)&&le.evaluate(A)}],[fo(Xt),function(A,D){for(var W=0,le=D;W<le.length;W+=1)if(!le[W].evaluate(A))return!1;return!0}]]},any:{type:Xt,overloads:[[[Xt,Xt],function(A,D){var W=D[0],le=D[1];return W.evaluate(A)||le.evaluate(A)}],[fo(Xt),function(A,D){for(var W=0,le=D;W<le.length;W+=1)if(le[W].evaluate(A))return!0;return!1}]]},"!":[Xt,[Xt],function(A,D){return!D[0].evaluate(A)}],"is-supported-script":[Xt,[Bt],function(A,D){var W=D[0],le=A.globals&&A.globals.isSupportedScript;return!le||le(W.evaluate(A))}],upcase:[Bt,[Bt],function(A,D){return D[0].evaluate(A).toUpperCase()}],downcase:[Bt,[Bt],function(A,D){return D[0].evaluate(A).toLowerCase()}],concat:[Bt,fo(Vt),function(A,D){return D.map(function(W){return gr(W.evaluate(A))}).join("")}],"resolved-locale":[Bt,[on],function(A,D){return D[0].evaluate(A).resolvedLocale()}]});var ts=function(A,D){this.expression=A,this._warningHistory={},this._evaluator=new $t,this._defaultValue=D?function(W){return W.type==="color"&&Bs(W.default)?new Cn(0,0,0,0):W.type==="color"?Cn.parse(W.default)||null:W.default===void 0?null:W.default}(D):null,this._enumValues=D&&D.type==="enum"?D.values:null};function ws(A){return Array.isArray(A)&&A.length>0&&typeof A[0]=="string"&&A[0]in Fs}function jo(A,D){var W=new Lr(Fs,[],D?function(Me){var Pe={color:an,string:Bt,number:Dt,enum:Bt,boolean:Xt,formatted:Sn,resolvedImage:Ln};return Me.type==="array"?fn(Pe[Me.value]||Vt,Me.length):Pe[Me.type]}(D):void 0),le=W.parse(A,void 0,void 0,void 0,D&&D.type==="string"?{typeAnnotation:"coerce"}:void 0);return le?Xl(new ts(le,D)):Qo(W.errors)}ts.prototype.evaluateWithoutErrorHandling=function(A,D,W,le,Me,Pe){return this._evaluator.globals=A,this._evaluator.feature=D,this._evaluator.featureState=W,this._evaluator.canonical=le,this._evaluator.availableImages=Me||null,this._evaluator.formattedSection=Pe,this.expression.evaluate(this._evaluator)},ts.prototype.evaluate=function(A,D,W,le,Me,Pe){this._evaluator.globals=A,this._evaluator.feature=D||null,this._evaluator.featureState=W||null,this._evaluator.canonical=le,this._evaluator.availableImages=Me||null,this._evaluator.formattedSection=Pe||null;try{var je=this.expression.evaluate(this._evaluator);if(je==null||typeof je=="number"&&je!=je)return this._defaultValue;if(this._enumValues&&!(je in this._enumValues))throw new tn("Expected value to be one of "+Object.keys(this._enumValues).map(function(et){return JSON.stringify(et)}).join(", ")+", but found "+JSON.stringify(je)+" instead.");return je}catch(et){return this._warningHistory[et.message]||(this._warningHistory[et.message]=!0,typeof console<"u"&&console.warn(et.message)),this._defaultValue}};var ho=function(A,D){this.kind=A,this._styleExpression=D,this.isStateDependent=A!=="constant"&&!ur(D.expression)};ho.prototype.evaluateWithoutErrorHandling=function(A,D,W,le,Me,Pe){return this._styleExpression.evaluateWithoutErrorHandling(A,D,W,le,Me,Pe)},ho.prototype.evaluate=function(A,D,W,le,Me,Pe){return this._styleExpression.evaluate(A,D,W,le,Me,Pe)};var js=function(A,D,W,le){this.kind=A,this.zoomStops=W,this._styleExpression=D,this.isStateDependent=A!=="camera"&&!ur(D.expression),this.interpolationType=le};function mu(A,D){if((A=jo(A,D)).result==="error")return A;var W=A.value.expression,le=cr(W);if(!le&&!Bo(D))return Qo([new Tt("","data expressions not supported")]);var Me=mr(W,["zoom"]);if(!Me&&!No(D))return Qo([new Tt("","zoom expressions not supported")]);var Pe=Dl(W);if(!Pe&&!Me)return Qo([new Tt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Pe instanceof Tt)return Qo([Pe]);if(Pe instanceof ia&&!es(D))return Qo([new Tt("",'"interpolate" expressions cannot be used with this property')]);if(!Pe)return Xl(new ho(le?"constant":"source",A.value));var je=Pe instanceof ia?Pe.interpolation:void 0;return Xl(new js(le?"camera":"composite",A.value,Pe.labels,je))}js.prototype.evaluateWithoutErrorHandling=function(A,D,W,le,Me,Pe){return this._styleExpression.evaluateWithoutErrorHandling(A,D,W,le,Me,Pe)},js.prototype.evaluate=function(A,D,W,le,Me,Pe){return this._styleExpression.evaluate(A,D,W,le,Me,Pe)},js.prototype.interpolationFactor=function(A,D,W){return this.interpolationType?ia.interpolationFactor(this.interpolationType,A,D,W):0};var ol=function(A,D){this._parameters=A,this._specification=D,xt(this,Pl(this._parameters,this._specification))};function Dl(A){var D=null;if(A instanceof co)D=Dl(A.result);else if(A instanceof To)for(var W=0,le=A.args;W<le.length;W+=1){var Me=le[W];if(D=Dl(Me))break}else(A instanceof Ir||A instanceof ia)&&A.input instanceof bn&&A.input.name==="zoom"&&(D=A);return D instanceof Tt||A.eachChild(function(Pe){var je=Dl(Pe);je instanceof Tt?D=je:!D&&je?D=new Tt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):D&&je&&D!==je&&(D=new Tt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),D}function Wa(A){var D=A.key,W=A.value,le=A.valueSpec||{},Me=A.objectElementValidators||{},Pe=A.style,je=A.styleSpec,et=[],ct=Qr(W);if(ct!=="object")return[new gt(D,W,"object expected, "+ct+" found")];for(var wt in W){var At=wt.split(".")[0],Nt=le[At]||le["*"],qt=void 0;if(Me[At])qt=Me[At];else if(le[At])qt=to;else if(Me["*"])qt=Me["*"];else{if(!le["*"]){et.push(new gt(D,W[wt],'unknown property "'+wt+'"'));continue}qt=to}et=et.concat(qt({key:(D&&D+".")+wt,value:W[wt],valueSpec:Nt,style:Pe,styleSpec:je,object:W,objectKey:wt},W))}for(var Ut in le)Me[Ut]||le[Ut].required&&le[Ut].default===void 0&&W[Ut]===void 0&&et.push(new gt(D,W,'missing required property "'+Ut+'"'));return et}function Rl(A){var D=A.value,W=A.valueSpec,le=A.style,Me=A.styleSpec,Pe=A.key,je=A.arrayElementValidator||to;if(Qr(D)!=="array")return[new gt(Pe,D,"array expected, "+Qr(D)+" found")];if(W.length&&D.length!==W.length)return[new gt(Pe,D,"array length "+W.length+" expected, length "+D.length+" found")];if(W["min-length"]&&D.length<W["min-length"])return[new gt(Pe,D,"array length at least "+W["min-length"]+" expected, length "+D.length+" found")];var et={type:W.value,values:W.values};Me.$version<7&&(et.function=W.function),Qr(W.value)==="object"&&(et=W.value);for(var ct=[],wt=0;wt<D.length;wt++)ct=ct.concat(je({array:D,arrayIndex:wt,value:D[wt],valueSpec:et,style:le,styleSpec:Me,key:Pe+"["+wt+"]"}));return ct}function yu(A){var D=A.key,W=A.value,le=A.valueSpec,Me=Qr(W);return Me==="number"&&W!=W&&(Me="NaN"),Me!=="number"?[new gt(D,W,"number expected, "+Me+" found")]:"minimum"in le&&W<le.minimum?[new gt(D,W,W+" is less than the minimum value "+le.minimum)]:"maximum"in le&&W>le.maximum?[new gt(D,W,W+" is greater than the maximum value "+le.maximum)]:[]}function Us(A){var D,W,le,Me=A.valueSpec,Pe=dt(A.value.type),je={},et=Pe!=="categorical"&&A.value.property===void 0,ct=!et,wt=Qr(A.value.stops)==="array"&&Qr(A.value.stops[0])==="array"&&Qr(A.value.stops[0][0])==="object",At=Wa({key:A.key,value:A.value,valueSpec:A.styleSpec.function,style:A.style,styleSpec:A.styleSpec,objectElementValidators:{stops:function(Ut){if(Pe==="identity")return[new gt(Ut.key,Ut.value,'identity function may not have a "stops" property')];var sn=[],un=Ut.value;return sn=sn.concat(Rl({key:Ut.key,value:un,valueSpec:Ut.valueSpec,style:Ut.style,styleSpec:Ut.styleSpec,arrayElementValidator:Nt})),Qr(un)==="array"&&un.length===0&&sn.push(new gt(Ut.key,un,"array must have at least one stop")),sn},default:function(Ut){return to({key:Ut.key,value:Ut.value,valueSpec:Me,style:Ut.style,styleSpec:Ut.styleSpec})}}});return Pe==="identity"&&et&&At.push(new gt(A.key,A.value,'missing required property "property"')),Pe==="identity"||A.value.stops||At.push(new gt(A.key,A.value,'missing required property "stops"')),Pe==="exponential"&&A.valueSpec.expression&&!es(A.valueSpec)&&At.push(new gt(A.key,A.value,"exponential functions not supported")),A.styleSpec.$version>=8&&(ct&&!Bo(A.valueSpec)?At.push(new gt(A.key,A.value,"property functions not supported")):et&&!No(A.valueSpec)&&At.push(new gt(A.key,A.value,"zoom functions not supported"))),Pe!=="categorical"&&!wt||A.value.property!==void 0||At.push(new gt(A.key,A.value,'"property" property is required')),At;function Nt(Ut){var sn=[],un=Ut.value,En=Ut.key;if(Qr(un)!=="array")return[new gt(En,un,"array expected, "+Qr(un)+" found")];if(un.length!==2)return[new gt(En,un,"array length 2 expected, length "+un.length+" found")];if(wt){if(Qr(un[0])!=="object")return[new gt(En,un,"object expected, "+Qr(un[0])+" found")];if(un[0].zoom===void 0)return[new gt(En,un,"object stop key must have zoom")];if(un[0].value===void 0)return[new gt(En,un,"object stop key must have value")];if(le&&le>dt(un[0].zoom))return[new gt(En,un[0].zoom,"stop zoom values must appear in ascending order")];dt(un[0].zoom)!==le&&(le=dt(un[0].zoom),W=void 0,je={}),sn=sn.concat(Wa({key:En+"[0]",value:un[0],valueSpec:{zoom:{}},style:Ut.style,styleSpec:Ut.styleSpec,objectElementValidators:{zoom:yu,value:qt}}))}else sn=sn.concat(qt({key:En+"[0]",value:un[0],valueSpec:{},style:Ut.style,styleSpec:Ut.styleSpec},un));return ws(Lt(un[1]))?sn.concat([new gt(En+"[1]",un[1],"expressions are not allowed in function stops.")]):sn.concat(to({key:En+"[1]",value:un[1],valueSpec:Me,style:Ut.style,styleSpec:Ut.styleSpec}))}function qt(Ut,sn){var un=Qr(Ut.value),En=dt(Ut.value),Mn=Ut.value!==null?Ut.value:sn;if(D){if(un!==D)return[new gt(Ut.key,Mn,un+" stop domain type must match previous stop domain type "+D)]}else D=un;if(un!=="number"&&un!=="string"&&un!=="boolean")return[new gt(Ut.key,Mn,"stop domain value must be a number, string, or boolean")];if(un!=="number"&&Pe!=="categorical"){var Nn="number expected, "+un+" found";return Bo(Me)&&Pe===void 0&&(Nn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new gt(Ut.key,Mn,Nn)]}return Pe!=="categorical"||un!=="number"||isFinite(En)&&Math.floor(En)===En?Pe!=="categorical"&&un==="number"&&W!==void 0&&En<W?[new gt(Ut.key,Mn,"stop domain values must appear in ascending order")]:(W=En,Pe==="categorical"&&En in je?[new gt(Ut.key,Mn,"stop domain values must be unique")]:(je[En]=!0,[])):[new gt(Ut.key,Mn,"integer expected, found "+En)]}}function Ts(A){var D=(A.expressionContext==="property"?mu:jo)(Lt(A.value),A.valueSpec);if(D.result==="error")return D.value.map(function(le){return new gt(""+A.key+le.key,A.value,le.message)});var W=D.value.expression||D.value._styleExpression.expression;if(A.expressionContext==="property"&&A.propertyKey==="text-font"&&!W.outputDefined())return[new gt(A.key,A.value,'Invalid data expression for "'+A.propertyKey+'". Output values must be contained as literals within the expression.')];if(A.expressionContext==="property"&&A.propertyType==="layout"&&!ur(W))return[new gt(A.key,A.value,'"feature-state" data expressions are not supported with layout properties.')];if(A.expressionContext==="filter"&&!ur(W))return[new gt(A.key,A.value,'"feature-state" data expressions are not supported with filters.')];if(A.expressionContext&&A.expressionContext.indexOf("cluster")===0){if(!mr(W,["zoom","feature-state"]))return[new gt(A.key,A.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(A.expressionContext==="cluster-initial"&&!cr(W))return[new gt(A.key,A.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Vs(A){var D=A.key,W=A.value,le=A.valueSpec,Me=[];return Array.isArray(le.values)?le.values.indexOf(dt(W))===-1&&Me.push(new gt(D,W,"expected one of ["+le.values.join(", ")+"], "+JSON.stringify(W)+" found")):Object.keys(le.values).indexOf(dt(W))===-1&&Me.push(new gt(D,W,"expected one of ["+Object.keys(le.values).join(", ")+"], "+JSON.stringify(W)+" found")),Me}function ks(A){if(A===!0||A===!1)return!0;if(!Array.isArray(A)||A.length===0)return!1;switch(A[0]){case"has":return A.length>=2&&A[1]!=="$id"&&A[1]!=="$type";case"in":return A.length>=3&&(typeof A[1]!="string"||Array.isArray(A[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return A.length!==3||Array.isArray(A[1])||Array.isArray(A[2]);case"any":case"all":for(var D=0,W=A.slice(1);D<W.length;D+=1){var le=W[D];if(!ks(le)&&typeof le!="boolean")return!1}return!0;default:return!0}}ol.deserialize=function(A){return new ol(A._parameters,A._specification)},ol.serialize=function(A){return{_parameters:A._parameters,_specification:A._specification}};var Ms={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function sl(A){if(A==null)return{filter:function(){return!0},needGeometry:!1};ks(A)||(A=ns(A));var D=jo(A,Ms);if(D.result==="error")throw new Error(D.value.map(function(W){return W.key+": "+W.message}).join(", "));return{filter:function(W,le,Me){return D.value.evaluate(W,le,{},Me)},needGeometry:pi(A)}}function zl(A,D){return A<D?-1:A>D?1:0}function pi(A){if(!Array.isArray(A))return!1;if(A[0]==="within")return!0;for(var D=1;D<A.length;D++)if(pi(A[D]))return!0;return!1}function ns(A){if(!A)return!0;var D,W=A[0];return A.length<=1?W!=="any":W==="=="?ya(A[1],A[2],"=="):W==="!="?fi(ya(A[1],A[2],"==")):W==="<"||W===">"||W==="<="||W===">="?ya(A[1],A[2],W):W==="any"?(D=A.slice(1),["any"].concat(D.map(ns))):W==="all"?["all"].concat(A.slice(1).map(ns)):W==="none"?["all"].concat(A.slice(1).map(ns).map(fi)):W==="in"?po(A[1],A.slice(2)):W==="!in"?fi(po(A[1],A.slice(2))):W==="has"?ai(A[1]):W==="!has"?fi(ai(A[1])):W!=="within"||A}function ya(A,D,W){switch(A){case"$type":return["filter-type-"+W,D];case"$id":return["filter-id-"+W,D];default:return["filter-"+W,A,D]}}function po(A,D){if(D.length===0)return!1;switch(A){case"$type":return["filter-type-in",["literal",D]];case"$id":return["filter-id-in",["literal",D]];default:return D.length>200&&!D.some(function(W){return typeof W!=typeof D[0]})?["filter-in-large",A,["literal",D.sort(zl)]]:["filter-in-small",A,["literal",D]]}}function ai(A){switch(A){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",A]}}function fi(A){return["!",A]}function Za(A){return ks(Lt(A.value))?Ts(xt({},A,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Hs(A)}function Hs(A){var D=A.value,W=A.key;if(Qr(D)!=="array")return[new gt(W,D,"array expected, "+Qr(D)+" found")];var le,Me=A.styleSpec,Pe=[];if(D.length<1)return[new gt(W,D,"filter array must have at least 1 element")];switch(Pe=Pe.concat(Vs({key:W+"[0]",value:D[0],valueSpec:Me.filter_operator,style:A.style,styleSpec:A.styleSpec})),dt(D[0])){case"<":case"<=":case">":case">=":D.length>=2&&dt(D[1])==="$type"&&Pe.push(new gt(W,D,'"$type" cannot be use with operator "'+D[0]+'"'));case"==":case"!=":D.length!==3&&Pe.push(new gt(W,D,'filter array for operator "'+D[0]+'" must have 3 elements'));case"in":case"!in":D.length>=2&&(le=Qr(D[1]))!=="string"&&Pe.push(new gt(W+"[1]",D[1],"string expected, "+le+" found"));for(var je=2;je<D.length;je++)le=Qr(D[je]),dt(D[1])==="$type"?Pe=Pe.concat(Vs({key:W+"["+je+"]",value:D[je],valueSpec:Me.geometry_type,style:A.style,styleSpec:A.styleSpec})):le!=="string"&&le!=="number"&&le!=="boolean"&&Pe.push(new gt(W+"["+je+"]",D[je],"string, number, or boolean expected, "+le+" found"));break;case"any":case"all":case"none":for(var et=1;et<D.length;et++)Pe=Pe.concat(Hs({key:W+"["+et+"]",value:D[et],style:A.style,styleSpec:A.styleSpec}));break;case"has":case"!has":le=Qr(D[1]),D.length!==2?Pe.push(new gt(W,D,'filter array for "'+D[0]+'" operator must have 2 elements')):le!=="string"&&Pe.push(new gt(W+"[1]",D[1],"string expected, "+le+" found"));break;case"within":le=Qr(D[1]),D.length!==2?Pe.push(new gt(W,D,'filter array for "'+D[0]+'" operator must have 2 elements')):le!=="object"&&Pe.push(new gt(W+"[1]",D[1],"object expected, "+le+" found"))}return Pe}function ll(A,D){var W=A.key,le=A.style,Me=A.styleSpec,Pe=A.value,je=A.objectKey,et=Me[D+"_"+A.layerType];if(!et)return[];var ct=je.match(/^(.*)-transition$/);if(D==="paint"&&ct&&et[ct[1]]&&et[ct[1]].transition)return to({key:W,value:Pe,valueSpec:Me.transition,style:le,styleSpec:Me});var wt,At=A.valueSpec||et[je];if(!At)return[new gt(W,Pe,'unknown property "'+je+'"')];if(Qr(Pe)==="string"&&Bo(At)&&!At.tokens&&(wt=/^{([^}]+)}$/.exec(Pe)))return[new gt(W,Pe,'"'+je+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(wt[1])+" }`.")];var Nt=[];return A.layerType==="symbol"&&(je==="text-field"&&le&&!le.glyphs&&Nt.push(new gt(W,Pe,'use of "text-field" requires a style "glyphs" property')),je==="text-font"&&Bs(Lt(Pe))&&dt(Pe.type)==="identity"&&Nt.push(new gt(W,Pe,'"text-font" does not support identity functions'))),Nt.concat(to({key:A.key,value:Pe,valueSpec:At,style:le,styleSpec:Me,expressionContext:"property",propertyType:D,propertyKey:je}))}function Fl(A){return ll(A,"paint")}function ul(A){return ll(A,"layout")}function cl(A){var D=[],W=A.value,le=A.key,Me=A.style,Pe=A.styleSpec;W.type||W.ref||D.push(new gt(le,W,'either "type" or "ref" is required'));var je,et=dt(W.type),ct=dt(W.ref);if(W.id)for(var wt=dt(W.id),At=0;At<A.arrayIndex;At++){var Nt=Me.layers[At];dt(Nt.id)===wt&&D.push(new gt(le,W.id,'duplicate layer id "'+W.id+'", previously used at line '+Nt.id.__line__))}if("ref"in W)["type","source","source-layer","filter","layout"].forEach(function(sn){sn in W&&D.push(new gt(le,W[sn],'"'+sn+'" is prohibited for ref layers'))}),Me.layers.forEach(function(sn){dt(sn.id)===ct&&(je=sn)}),je?je.ref?D.push(new gt(le,W.ref,"ref cannot reference another ref layer")):et=dt(je.type):D.push(new gt(le,W.ref,'ref layer "'+ct+'" not found'));else if(et!=="background")if(W.source){var qt=Me.sources&&Me.sources[W.source],Ut=qt&&dt(qt.type);qt?Ut==="vector"&&et==="raster"?D.push(new gt(le,W.source,'layer "'+W.id+'" requires a raster source')):Ut==="raster"&&et!=="raster"?D.push(new gt(le,W.source,'layer "'+W.id+'" requires a vector source')):Ut!=="vector"||W["source-layer"]?Ut==="raster-dem"&&et!=="hillshade"?D.push(new gt(le,W.source,"raster-dem source can only be used with layer type 'hillshade'.")):et!=="line"||!W.paint||!W.paint["line-gradient"]||Ut==="geojson"&&qt.lineMetrics||D.push(new gt(le,W,'layer "'+W.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):D.push(new gt(le,W,'layer "'+W.id+'" must specify a "source-layer"')):D.push(new gt(le,W.source,'source "'+W.source+'" not found'))}else D.push(new gt(le,W,'missing required property "source"'));return D=D.concat(Wa({key:le,value:W,valueSpec:Pe.layer,style:A.style,styleSpec:A.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return to({key:le+".type",value:W.type,valueSpec:Pe.layer.type,style:A.style,styleSpec:A.styleSpec,object:W,objectKey:"type"})},filter:Za,layout:function(sn){return Wa({layer:W,key:sn.key,value:sn.value,style:sn.style,styleSpec:sn.styleSpec,objectElementValidators:{"*":function(un){return ul(xt({layerType:et},un))}}})},paint:function(sn){return Wa({layer:W,key:sn.key,value:sn.value,style:sn.style,styleSpec:sn.styleSpec,objectElementValidators:{"*":function(un){return Fl(xt({layerType:et},un))}}})}}})),D}function eo(A){var D=A.value,W=A.key,le=Qr(D);return le!=="string"?[new gt(W,D,"string expected, "+le+" found")]:[]}var rs={promoteId:function(A){var D=A.key,W=A.value;if(Qr(W)==="string")return eo({key:D,value:W});var le=[];for(var Me in W)le.push.apply(le,eo({key:D+"."+Me,value:W[Me]}));return le}};function is(A){var D=A.value,W=A.key,le=A.styleSpec,Me=A.style;if(!D.type)return[new gt(W,D,'"type" is required')];var Pe,je=dt(D.type);switch(je){case"vector":case"raster":case"raster-dem":return Wa({key:W,value:D,valueSpec:le["source_"+je.replace("-","_")],style:A.style,styleSpec:le,objectElementValidators:rs});case"geojson":if(Pe=Wa({key:W,value:D,valueSpec:le.source_geojson,style:Me,styleSpec:le,objectElementValidators:rs}),D.cluster)for(var et in D.clusterProperties){var ct=D.clusterProperties[et],wt=ct[0],At=ct[1],Nt=typeof wt=="string"?[wt,["accumulated"],["get",et]]:wt;Pe.push.apply(Pe,Ts({key:W+"."+et+".map",value:At,expressionContext:"cluster-map"})),Pe.push.apply(Pe,Ts({key:W+"."+et+".reduce",value:Nt,expressionContext:"cluster-reduce"}))}return Pe;case"video":return Wa({key:W,value:D,valueSpec:le.source_video,style:Me,styleSpec:le});case"image":return Wa({key:W,value:D,valueSpec:le.source_image,style:Me,styleSpec:le});case"canvas":return[new gt(W,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Vs({key:W+".type",value:D.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:Me,styleSpec:le})}}function ka(A){var D=A.value,W=A.styleSpec,le=W.light,Me=A.style,Pe=[],je=Qr(D);if(D===void 0)return Pe;if(je!=="object")return Pe.concat([new gt("light",D,"object expected, "+je+" found")]);for(var et in D){var ct=et.match(/^(.*)-transition$/);Pe=ct&&le[ct[1]]&&le[ct[1]].transition?Pe.concat(to({key:et,value:D[et],valueSpec:W.transition,style:Me,styleSpec:W})):le[et]?Pe.concat(to({key:et,value:D[et],valueSpec:le[et],style:Me,styleSpec:W})):Pe.concat([new gt(et,D[et],'unknown property "'+et+'"')])}return Pe}var fl={"*":function(){return[]},array:Rl,boolean:function(A){var D=A.value,W=A.key,le=Qr(D);return le!=="boolean"?[new gt(W,D,"boolean expected, "+le+" found")]:[]},number:yu,color:function(A){var D=A.key,W=A.value,le=Qr(W);return le!=="string"?[new gt(D,W,"color expected, "+le+" found")]:wn(W)===null?[new gt(D,W,'color expected, "'+W+'" found')]:[]},constants:yt,enum:Vs,filter:Za,function:Us,layer:cl,object:Wa,source:is,light:ka,string:eo,formatted:function(A){return eo(A).length===0?[]:Ts(A)},resolvedImage:function(A){return eo(A).length===0?[]:Ts(A)}};function to(A){var D=A.value,W=A.valueSpec,le=A.styleSpec;return W.expression&&Bs(dt(D))?Us(A):W.expression&&ws(Lt(D))?Ts(A):W.type&&fl[W.type]?fl[W.type](A):Wa(xt({},A,{valueSpec:W.type?le[W.type]:W}))}function aa(A){var D=A.value,W=A.key,le=eo(A);return le.length||(D.indexOf("{fontstack}")===-1&&le.push(new gt(W,D,'"glyphs" url must include a "{fontstack}" token')),D.indexOf("{range}")===-1&&le.push(new gt(W,D,'"glyphs" url must include a "{range}" token'))),le}function ca(A,D){D===void 0&&(D=$e);var W=[];return W=W.concat(to({key:"",value:A,valueSpec:D.$root,styleSpec:D,style:A,objectElementValidators:{glyphs:aa,"*":function(){return[]}}})),A.constants&&(W=W.concat(yt({key:"constants",value:A.constants,style:A,styleSpec:D}))),wi(W)}function wi(A){return[].concat(A).sort(function(D,W){return D.line-W.line})}function fa(A){return function(){for(var D=[],W=arguments.length;W--;)D[W]=arguments[W];return wi(A.apply(this,D))}}ca.source=fa(is),ca.light=fa(ka),ca.layer=fa(cl),ca.filter=fa(Za),ca.paintProperty=fa(Fl),ca.layoutProperty=fa(ul);var So=ca,As=So.light,go=So.paintProperty,as=So.layoutProperty;function Oa(A,D){var W=!1;if(D&&D.length)for(var le=0,Me=D;le<Me.length;le+=1){var Pe=Me[le];A.fire(new Ne(new Error(Pe.message))),W=!0}return W}var Ss=no,Uo=3;function no(A,D,W){var le=this.cells=[];if(A instanceof ArrayBuffer){this.arrayBuffer=A;var Me=new Int32Array(this.arrayBuffer);A=Me[0],D=Me[1],W=Me[2],this.d=D+2*W;for(var Pe=0;Pe<this.d*this.d;Pe++){var je=Me[Uo+Pe],et=Me[Uo+Pe+1];le.push(je===et?null:Me.subarray(je,et))}var ct=Me[Uo+le.length],wt=Me[Uo+le.length+1];this.keys=Me.subarray(ct,wt),this.bboxes=Me.subarray(wt),this.insert=this._insertReadonly}else{this.d=D+2*W;for(var At=0;At<this.d*this.d;At++)le.push([]);this.keys=[],this.bboxes=[]}this.n=D,this.extent=A,this.padding=W,this.scale=D/A,this.uid=0;var Nt=W/D*A;this.min=-Nt,this.max=A+Nt}no.prototype.insert=function(A,D,W,le,Me){this._forEachCell(D,W,le,Me,this._insertCell,this.uid++),this.keys.push(A),this.bboxes.push(D),this.bboxes.push(W),this.bboxes.push(le),this.bboxes.push(Me)},no.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},no.prototype._insertCell=function(A,D,W,le,Me,Pe){this.cells[Me].push(Pe)},no.prototype.query=function(A,D,W,le,Me){var Pe=this.min,je=this.max;if(A<=Pe&&D<=Pe&&je<=W&&je<=le&&!Me)return Array.prototype.slice.call(this.keys);var et=[];return this._forEachCell(A,D,W,le,this._queryCell,et,{},Me),et},no.prototype._queryCell=function(A,D,W,le,Me,Pe,je,et){var ct=this.cells[Me];if(ct!==null)for(var wt=this.keys,At=this.bboxes,Nt=0;Nt<ct.length;Nt++){var qt=ct[Nt];if(je[qt]===void 0){var Ut=4*qt;(et?et(At[Ut+0],At[Ut+1],At[Ut+2],At[Ut+3]):A<=At[Ut+2]&&D<=At[Ut+3]&&W>=At[Ut+0]&&le>=At[Ut+1])?(je[qt]=!0,Pe.push(wt[qt])):je[qt]=!1}}},no.prototype._forEachCell=function(A,D,W,le,Me,Pe,je,et){for(var ct=this._convertToCellCoord(A),wt=this._convertToCellCoord(D),At=this._convertToCellCoord(W),Nt=this._convertToCellCoord(le),qt=ct;qt<=At;qt++)for(var Ut=wt;Ut<=Nt;Ut++){var sn=this.d*Ut+qt;if((!et||et(this._convertFromCellCoord(qt),this._convertFromCellCoord(Ut),this._convertFromCellCoord(qt+1),this._convertFromCellCoord(Ut+1)))&&Me.call(this,A,D,W,le,sn,Pe,je,et))return}},no.prototype._convertFromCellCoord=function(A){return(A-this.padding)/this.scale},no.prototype._convertToCellCoord=function(A){return Math.max(0,Math.min(this.d-1,Math.floor(A*this.scale)+this.padding))},no.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var A=this.cells,D=Uo+this.cells.length+1+1,W=0,le=0;le<this.cells.length;le++)W+=this.cells[le].length;var Me=new Int32Array(D+W+this.keys.length+this.bboxes.length);Me[0]=this.extent,Me[1]=this.n,Me[2]=this.padding;for(var Pe=D,je=0;je<A.length;je++){var et=A[je];Me[Uo+je]=Pe,Me.set(et,Pe),Pe+=et.length}return Me[Uo+A.length]=Pe,Me.set(this.keys,Pe),Pe+=this.keys.length,Me[Uo+A.length+1]=Pe,Me.set(this.bboxes,Pe),Pe+=this.bboxes.length,Me.buffer};var ro=n.ImageData,ki=n.ImageBitmap,vo={};function Sr(A,D,W){W===void 0&&(W={}),Object.defineProperty(D,"_classRegistryKey",{value:A,writeable:!1}),vo[A]={klass:D,omit:W.omit||[],shallow:W.shallow||[]}}for(var hl in Sr("Object",Object),Ss.serialize=function(A,D){var W=A.toArrayBuffer();return D&&D.push(W),{buffer:W}},Ss.deserialize=function(A){return new Ss(A.buffer)},Sr("Grid",Ss),Sr("Color",Cn),Sr("Error",Error),Sr("ResolvedImage",ar),Sr("StylePropertyFunction",ol),Sr("StyleExpression",ts,{omit:["_evaluator"]}),Sr("ZoomDependentExpression",js),Sr("ZoomConstantExpression",ho),Sr("CompoundExpression",bn,{omit:["_evaluate"]}),Fs)Fs[hl]._classRegistryKey||Sr("Expression_"+hl,Fs[hl]);function Jl(A){return A&&typeof ArrayBuffer<"u"&&(A instanceof ArrayBuffer||A.constructor&&A.constructor.name==="ArrayBuffer")}function os(A){return ki&&A instanceof ki}function ss(A,D){if(A==null||typeof A=="boolean"||typeof A=="number"||typeof A=="string"||A instanceof Boolean||A instanceof Number||A instanceof String||A instanceof Date||A instanceof RegExp)return A;if(Jl(A)||os(A))return D&&D.push(A),A;if(ArrayBuffer.isView(A)){var W=A;return D&&D.push(W.buffer),W}if(A instanceof ro)return D&&D.push(A.data.buffer),A;if(Array.isArray(A)){for(var le=[],Me=0,Pe=A;Me<Pe.length;Me+=1){var je=Pe[Me];le.push(ss(je,D))}return le}if(typeof A=="object"){var et=A.constructor,ct=et._classRegistryKey;if(!ct)throw new Error("can't serialize object of unregistered class");var wt=et.serialize?et.serialize(A,D):{};if(!et.serialize){for(var At in A)if(A.hasOwnProperty(At)&&!(vo[ct].omit.indexOf(At)>=0)){var Nt=A[At];wt[At]=vo[ct].shallow.indexOf(At)>=0?Nt:ss(Nt,D)}A instanceof Error&&(wt.message=A.message)}if(wt.$name)throw new Error("$name property is reserved for worker serialization logic.");return ct!=="Object"&&(wt.$name=ct),wt}throw new Error("can't serialize object of type "+typeof A)}function Es(A){if(A==null||typeof A=="boolean"||typeof A=="number"||typeof A=="string"||A instanceof Boolean||A instanceof Number||A instanceof String||A instanceof Date||A instanceof RegExp||Jl(A)||os(A)||ArrayBuffer.isView(A)||A instanceof ro)return A;if(Array.isArray(A))return A.map(Es);if(typeof A=="object"){var D=A.$name||"Object",W=vo[D].klass;if(!W)throw new Error("can't deserialize unregistered class "+D);if(W.deserialize)return W.deserialize(A);for(var le=Object.create(W.prototype),Me=0,Pe=Object.keys(A);Me<Pe.length;Me+=1){var je=Pe[Me];if(je!=="$name"){var et=A[je];le[je]=vo[D].shallow.indexOf(je)>=0?et:Es(et)}}return le}throw new Error("can't deserialize object of type "+typeof A)}var Gs=function(){this.first=!0};Gs.prototype.update=function(A,D){var W=Math.floor(A);return this.first?(this.first=!1,this.lastIntegerZoom=W,this.lastIntegerZoomTime=0,this.lastZoom=A,this.lastFloorZoom=W,!0):(this.lastFloorZoom>W?(this.lastIntegerZoom=W+1,this.lastIntegerZoomTime=D):this.lastFloorZoom<W&&(this.lastIntegerZoom=W,this.lastIntegerZoomTime=D),A!==this.lastZoom&&(this.lastZoom=A,this.lastFloorZoom=W,!0))};var br={"Latin-1 Supplement":function(A){return A>=128&&A<=255},Arabic:function(A){return A>=1536&&A<=1791},"Arabic Supplement":function(A){return A>=1872&&A<=1919},"Arabic Extended-A":function(A){return A>=2208&&A<=2303},"Hangul Jamo":function(A){return A>=4352&&A<=4607},"Unified Canadian Aboriginal Syllabics":function(A){return A>=5120&&A<=5759},Khmer:function(A){return A>=6016&&A<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(A){return A>=6320&&A<=6399},"General Punctuation":function(A){return A>=8192&&A<=8303},"Letterlike Symbols":function(A){return A>=8448&&A<=8527},"Number Forms":function(A){return A>=8528&&A<=8591},"Miscellaneous Technical":function(A){return A>=8960&&A<=9215},"Control Pictures":function(A){return A>=9216&&A<=9279},"Optical Character Recognition":function(A){return A>=9280&&A<=9311},"Enclosed Alphanumerics":function(A){return A>=9312&&A<=9471},"Geometric Shapes":function(A){return A>=9632&&A<=9727},"Miscellaneous Symbols":function(A){return A>=9728&&A<=9983},"Miscellaneous Symbols and Arrows":function(A){return A>=11008&&A<=11263},"CJK Radicals Supplement":function(A){return A>=11904&&A<=12031},"Kangxi Radicals":function(A){return A>=12032&&A<=12255},"Ideographic Description Characters":function(A){return A>=12272&&A<=12287},"CJK Symbols and Punctuation":function(A){return A>=12288&&A<=12351},Hiragana:function(A){return A>=12352&&A<=12447},Katakana:function(A){return A>=12448&&A<=12543},Bopomofo:function(A){return A>=12544&&A<=12591},"Hangul Compatibility Jamo":function(A){return A>=12592&&A<=12687},Kanbun:function(A){return A>=12688&&A<=12703},"Bopomofo Extended":function(A){return A>=12704&&A<=12735},"CJK Strokes":function(A){return A>=12736&&A<=12783},"Katakana Phonetic Extensions":function(A){return A>=12784&&A<=12799},"Enclosed CJK Letters and Months":function(A){return A>=12800&&A<=13055},"CJK Compatibility":function(A){return A>=13056&&A<=13311},"CJK Unified Ideographs Extension A":function(A){return A>=13312&&A<=19903},"Yijing Hexagram Symbols":function(A){return A>=19904&&A<=19967},"CJK Unified Ideographs":function(A){return A>=19968&&A<=40959},"Yi Syllables":function(A){return A>=40960&&A<=42127},"Yi Radicals":function(A){return A>=42128&&A<=42191},"Hangul Jamo Extended-A":function(A){return A>=43360&&A<=43391},"Hangul Syllables":function(A){return A>=44032&&A<=55215},"Hangul Jamo Extended-B":function(A){return A>=55216&&A<=55295},"Private Use Area":function(A){return A>=57344&&A<=63743},"CJK Compatibility Ideographs":function(A){return A>=63744&&A<=64255},"Arabic Presentation Forms-A":function(A){return A>=64336&&A<=65023},"Vertical Forms":function(A){return A>=65040&&A<=65055},"CJK Compatibility Forms":function(A){return A>=65072&&A<=65103},"Small Form Variants":function(A){return A>=65104&&A<=65135},"Arabic Presentation Forms-B":function(A){return A>=65136&&A<=65279},"Halfwidth and Fullwidth Forms":function(A){return A>=65280&&A<=65519}};function pl(A){for(var D=0,W=A;D<W.length;D+=1)if(Vo(W[D].charCodeAt(0)))return!0;return!1}function Vo(A){return!(A!==746&&A!==747&&(A<4352||!(br["Bopomofo Extended"](A)||br.Bopomofo(A)||br["CJK Compatibility Forms"](A)&&!(A>=65097&&A<=65103)||br["CJK Compatibility Ideographs"](A)||br["CJK Compatibility"](A)||br["CJK Radicals Supplement"](A)||br["CJK Strokes"](A)||!(!br["CJK Symbols and Punctuation"](A)||A>=12296&&A<=12305||A>=12308&&A<=12319||A===12336)||br["CJK Unified Ideographs Extension A"](A)||br["CJK Unified Ideographs"](A)||br["Enclosed CJK Letters and Months"](A)||br["Hangul Compatibility Jamo"](A)||br["Hangul Jamo Extended-A"](A)||br["Hangul Jamo Extended-B"](A)||br["Hangul Jamo"](A)||br["Hangul Syllables"](A)||br.Hiragana(A)||br["Ideographic Description Characters"](A)||br.Kanbun(A)||br["Kangxi Radicals"](A)||br["Katakana Phonetic Extensions"](A)||br.Katakana(A)&&A!==12540||!(!br["Halfwidth and Fullwidth Forms"](A)||A===65288||A===65289||A===65293||A>=65306&&A<=65310||A===65339||A===65341||A===65343||A>=65371&&A<=65503||A===65507||A>=65512&&A<=65519)||!(!br["Small Form Variants"](A)||A>=65112&&A<=65118||A>=65123&&A<=65126)||br["Unified Canadian Aboriginal Syllabics"](A)||br["Unified Canadian Aboriginal Syllabics Extended"](A)||br["Vertical Forms"](A)||br["Yijing Hexagram Symbols"](A)||br["Yi Syllables"](A)||br["Yi Radicals"](A))))}function oa(A){return!(Vo(A)||function(D){return!!(br["Latin-1 Supplement"](D)&&(D===167||D===169||D===174||D===177||D===188||D===189||D===190||D===215||D===247)||br["General Punctuation"](D)&&(D===8214||D===8224||D===8225||D===8240||D===8241||D===8251||D===8252||D===8258||D===8263||D===8264||D===8265||D===8273)||br["Letterlike Symbols"](D)||br["Number Forms"](D)||br["Miscellaneous Technical"](D)&&(D>=8960&&D<=8967||D>=8972&&D<=8991||D>=8996&&D<=9e3||D===9003||D>=9085&&D<=9114||D>=9150&&D<=9165||D===9167||D>=9169&&D<=9179||D>=9186&&D<=9215)||br["Control Pictures"](D)&&D!==9251||br["Optical Character Recognition"](D)||br["Enclosed Alphanumerics"](D)||br["Geometric Shapes"](D)||br["Miscellaneous Symbols"](D)&&!(D>=9754&&D<=9759)||br["Miscellaneous Symbols and Arrows"](D)&&(D>=11026&&D<=11055||D>=11088&&D<=11097||D>=11192&&D<=11243)||br["CJK Symbols and Punctuation"](D)||br.Katakana(D)||br["Private Use Area"](D)||br["CJK Compatibility Forms"](D)||br["Small Form Variants"](D)||br["Halfwidth and Fullwidth Forms"](D)||D===8734||D===8756||D===8757||D>=9984&&D<=10087||D>=10102&&D<=10131||D===65532||D===65533)}(A))}function ls(A){return br.Arabic(A)||br["Arabic Supplement"](A)||br["Arabic Extended-A"](A)||br["Arabic Presentation Forms-A"](A)||br["Arabic Presentation Forms-B"](A)}function mo(A){return A>=1424&&A<=2303||br["Arabic Presentation Forms-A"](A)||br["Arabic Presentation Forms-B"](A)}function io(A,D){return!(!D&&mo(A)||A>=2304&&A<=3583||A>=3840&&A<=4255||br.Khmer(A))}function Ma(A){for(var D=0,W=A;D<W.length;D+=1)if(mo(W[D].charCodeAt(0)))return!0;return!1}var Eo="deferred",ao="loading",Ho="loaded",dl="error",us=null,ri="unavailable",ha=null,Pa=function(A){A&&typeof A=="string"&&A.indexOf("NetworkError")>-1&&(ri=dl),us&&us(A)};function Lo(){Ia.fire(new Be("pluginStateChange",{pluginStatus:ri,pluginURL:ha}))}var Ia=new at,qs=function(){return ri},Ys=function(){if(ri!==Eo||!ha)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ri=ao,Lo(),ha&&Ft({url:ha},function(A){A?Pa(A):(ri=Ho,Lo())})},Da={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return ri===Ho||Da.applyArabicShaping!=null},isLoading:function(){return ri===ao},setState:function(A){ri=A.pluginStatus,ha=A.pluginURL},isParsed:function(){return Da.applyArabicShaping!=null&&Da.processBidirectionalText!=null&&Da.processStyledBidirectionalText!=null},getPluginURL:function(){return ha}},ti=function(A,D){this.zoom=A,D?(this.now=D.now,this.fadeDuration=D.fadeDuration,this.zoomHistory=D.zoomHistory,this.transition=D.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Gs,this.transition={})};ti.prototype.isSupportedScript=function(A){return function(D,W){for(var le=0,Me=D;le<Me.length;le+=1)if(!io(Me[le].charCodeAt(0),W))return!1;return!0}(A,Da.isLoaded())},ti.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},ti.prototype.getCrossfadeParameters=function(){var A=this.zoom,D=A-Math.floor(A),W=this.crossFadingFactor();return A>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:D+(1-D)*W}:{fromScale:.5,toScale:1,t:1-(1-W)*D}};var Co=function(A,D){this.property=A,this.value=D,this.expression=function(W,le){if(Bs(W))return new ol(W,le);if(ws(W)){var Me=mu(W,le);if(Me.result==="error")throw new Error(Me.value.map(function(je){return je.key+": "+je.message}).join(", "));return Me.value}var Pe=W;return typeof W=="string"&&le.type==="color"&&(Pe=Cn.parse(W)),{kind:"constant",evaluate:function(){return Pe}}}(D===void 0?A.specification.default:D,A.specification)};Co.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Co.prototype.possiblyEvaluate=function(A,D,W){return this.property.possiblyEvaluate(this,A,D,W)};var Ls=function(A){this.property=A,this.value=new Co(A,void 0)};Ls.prototype.transitioned=function(A,D){return new Ws(this.property,this.value,D,c({},A.transition,this.transition),A.now)},Ls.prototype.untransitioned=function(){return new Ws(this.property,this.value,null,{},0)};var yo=function(A){this._properties=A,this._values=Object.create(A.defaultTransitionablePropertyValues)};yo.prototype.getValue=function(A){return S(this._values[A].value.value)},yo.prototype.setValue=function(A,D){this._values.hasOwnProperty(A)||(this._values[A]=new Ls(this._values[A].property)),this._values[A].value=new Co(this._values[A].property,D===null?void 0:S(D))},yo.prototype.getTransition=function(A){return S(this._values[A].transition)},yo.prototype.setTransition=function(A,D){this._values.hasOwnProperty(A)||(this._values[A]=new Ls(this._values[A].property)),this._values[A].transition=S(D)||void 0},yo.prototype.serialize=function(){for(var A={},D=0,W=Object.keys(this._values);D<W.length;D+=1){var le=W[D],Me=this.getValue(le);Me!==void 0&&(A[le]=Me);var Pe=this.getTransition(le);Pe!==void 0&&(A[le+"-transition"]=Pe)}return A},yo.prototype.transitioned=function(A,D){for(var W=new Zs(this._properties),le=0,Me=Object.keys(this._values);le<Me.length;le+=1){var Pe=Me[le];W._values[Pe]=this._values[Pe].transitioned(A,D._values[Pe])}return W},yo.prototype.untransitioned=function(){for(var A=new Zs(this._properties),D=0,W=Object.keys(this._values);D<W.length;D+=1){var le=W[D];A._values[le]=this._values[le].untransitioned()}return A};var Ws=function(A,D,W,le,Me){this.property=A,this.value=D,this.begin=Me+le.delay||0,this.end=this.begin+le.duration||0,A.specification.transition&&(le.delay||le.duration)&&(this.prior=W)};Ws.prototype.possiblyEvaluate=function(A,D,W){var le=A.now||0,Me=this.value.possiblyEvaluate(A,D,W),Pe=this.prior;if(Pe){if(le>this.end)return this.prior=null,Me;if(this.value.isDataDriven())return this.prior=null,Me;if(le<this.begin)return Pe.possiblyEvaluate(A,D,W);var je=(le-this.begin)/(this.end-this.begin);return this.property.interpolate(Pe.possiblyEvaluate(A,D,W),Me,function(et){if(et<=0)return 0;if(et>=1)return 1;var ct=et*et,wt=ct*et;return 4*(et<.5?wt:3*(et-ct)+wt-.75)}(je))}return Me};var Zs=function(A){this._properties=A,this._values=Object.create(A.defaultTransitioningPropertyValues)};Zs.prototype.possiblyEvaluate=function(A,D,W){for(var le=new Cs(this._properties),Me=0,Pe=Object.keys(this._values);Me<Pe.length;Me+=1){var je=Pe[Me];le._values[je]=this._values[je].possiblyEvaluate(A,D,W)}return le},Zs.prototype.hasTransition=function(){for(var A=0,D=Object.keys(this._values);A<D.length;A+=1){var W=D[A];if(this._values[W].prior)return!0}return!1};var xo=function(A){this._properties=A,this._values=Object.create(A.defaultPropertyValues)};xo.prototype.getValue=function(A){return S(this._values[A].value)},xo.prototype.setValue=function(A,D){this._values[A]=new Co(this._values[A].property,D===null?void 0:S(D))},xo.prototype.serialize=function(){for(var A={},D=0,W=Object.keys(this._values);D<W.length;D+=1){var le=W[D],Me=this.getValue(le);Me!==void 0&&(A[le]=Me)}return A},xo.prototype.possiblyEvaluate=function(A,D,W){for(var le=new Cs(this._properties),Me=0,Pe=Object.keys(this._values);Me<Pe.length;Me+=1){var je=Pe[Me];le._values[je]=this._values[je].possiblyEvaluate(A,D,W)}return le};var Mi=function(A,D,W){this.property=A,this.value=D,this.parameters=W};Mi.prototype.isConstant=function(){return this.value.kind==="constant"},Mi.prototype.constantOr=function(A){return this.value.kind==="constant"?this.value.value:A},Mi.prototype.evaluate=function(A,D,W,le){return this.property.evaluate(this.value,this.parameters,A,D,W,le)};var Cs=function(A){this._properties=A,this._values=Object.create(A.defaultPossiblyEvaluatedValues)};Cs.prototype.get=function(A){return this._values[A]};var Cr=function(A){this.specification=A};Cr.prototype.possiblyEvaluate=function(A,D){return A.expression.evaluate(D)},Cr.prototype.interpolate=function(A,D,W){var le=_i[this.specification.type];return le?le(A,D,W):A};var jr=function(A,D){this.specification=A,this.overrides=D};jr.prototype.possiblyEvaluate=function(A,D,W,le){return A.expression.kind==="constant"||A.expression.kind==="camera"?new Mi(this,{kind:"constant",value:A.expression.evaluate(D,null,{},W,le)},D):new Mi(this,A.expression,D)},jr.prototype.interpolate=function(A,D,W){if(A.value.kind!=="constant"||D.value.kind!=="constant")return A;if(A.value.value===void 0||D.value.value===void 0)return new Mi(this,{kind:"constant",value:void 0},A.parameters);var le=_i[this.specification.type];return le?new Mi(this,{kind:"constant",value:le(A.value.value,D.value.value,W)},A.parameters):A},jr.prototype.evaluate=function(A,D,W,le,Me,Pe){return A.kind==="constant"?A.value:A.evaluate(D,W,le,Me,Pe)};var Xa=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(W,le,Me,Pe){if(W.value===void 0)return new Mi(this,{kind:"constant",value:void 0},le);if(W.expression.kind==="constant"){var je=W.expression.evaluate(le,null,{},Me,Pe),et=W.property.specification.type==="resolvedImage"&&typeof je!="string"?je.name:je,ct=this._calculate(et,et,et,le);return new Mi(this,{kind:"constant",value:ct},le)}if(W.expression.kind==="camera"){var wt=this._calculate(W.expression.evaluate({zoom:le.zoom-1}),W.expression.evaluate({zoom:le.zoom}),W.expression.evaluate({zoom:le.zoom+1}),le);return new Mi(this,{kind:"constant",value:wt},le)}return new Mi(this,W.expression,le)},D.prototype.evaluate=function(W,le,Me,Pe,je,et){if(W.kind==="source"){var ct=W.evaluate(le,Me,Pe,je,et);return this._calculate(ct,ct,ct,le)}return W.kind==="composite"?this._calculate(W.evaluate({zoom:Math.floor(le.zoom)-1},Me,Pe),W.evaluate({zoom:Math.floor(le.zoom)},Me,Pe),W.evaluate({zoom:Math.floor(le.zoom)+1},Me,Pe),le):W.value},D.prototype._calculate=function(W,le,Me,Pe){return Pe.zoom>Pe.zoomHistory.lastIntegerZoom?{from:W,to:le}:{from:Me,to:le}},D.prototype.interpolate=function(W){return W},D}(jr),Oo=function(A){this.specification=A};Oo.prototype.possiblyEvaluate=function(A,D,W,le){if(A.value!==void 0){if(A.expression.kind==="constant"){var Me=A.expression.evaluate(D,null,{},W,le);return this._calculate(Me,Me,Me,D)}return this._calculate(A.expression.evaluate(new ti(Math.floor(D.zoom-1),D)),A.expression.evaluate(new ti(Math.floor(D.zoom),D)),A.expression.evaluate(new ti(Math.floor(D.zoom+1),D)),D)}},Oo.prototype._calculate=function(A,D,W,le){return le.zoom>le.zoomHistory.lastIntegerZoom?{from:A,to:D}:{from:W,to:D}},Oo.prototype.interpolate=function(A){return A};var Go=function(A){this.specification=A};Go.prototype.possiblyEvaluate=function(A,D,W,le){return!!A.expression.evaluate(D,null,{},W,le)},Go.prototype.interpolate=function(){return!1};var Zi=function(A){for(var D in this.properties=A,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],A){var W=A[D];W.specification.overridable&&this.overridableProperties.push(D);var le=this.defaultPropertyValues[D]=new Co(W,void 0),Me=this.defaultTransitionablePropertyValues[D]=new Ls(W);this.defaultTransitioningPropertyValues[D]=Me.untransitioned(),this.defaultPossiblyEvaluatedValues[D]=le.possiblyEvaluate({})}};Sr("DataDrivenProperty",jr),Sr("DataConstantProperty",Cr),Sr("CrossFadedDataDrivenProperty",Xa),Sr("CrossFadedProperty",Oo),Sr("ColorRampProperty",Go);var Po="-transition",di=function(A){function D(W,le){if(A.call(this),this.id=W.id,this.type=W.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},W.type!=="custom"&&(this.metadata=W.metadata,this.minzoom=W.minzoom,this.maxzoom=W.maxzoom,W.type!=="background"&&(this.source=W.source,this.sourceLayer=W["source-layer"],this.filter=W.filter),le.layout&&(this._unevaluatedLayout=new xo(le.layout)),le.paint)){for(var Me in this._transitionablePaint=new yo(le.paint),W.paint)this.setPaintProperty(Me,W.paint[Me],{validate:!1});for(var Pe in W.layout)this.setLayoutProperty(Pe,W.layout[Pe],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Cs(le.paint)}}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},D.prototype.getLayoutProperty=function(W){return W==="visibility"?this.visibility:this._unevaluatedLayout.getValue(W)},D.prototype.setLayoutProperty=function(W,le,Me){if(Me===void 0&&(Me={}),le!=null){var Pe="layers."+this.id+".layout."+W;if(this._validate(as,Pe,W,le,Me))return}W!=="visibility"?this._unevaluatedLayout.setValue(W,le):this.visibility=le},D.prototype.getPaintProperty=function(W){return m(W,Po)?this._transitionablePaint.getTransition(W.slice(0,-11)):this._transitionablePaint.getValue(W)},D.prototype.setPaintProperty=function(W,le,Me){if(Me===void 0&&(Me={}),le!=null){var Pe="layers."+this.id+".paint."+W;if(this._validate(go,Pe,W,le,Me))return!1}if(m(W,Po))return this._transitionablePaint.setTransition(W.slice(0,-11),le||void 0),!1;var je=this._transitionablePaint._values[W],et=je.property.specification["property-type"]==="cross-faded-data-driven",ct=je.value.isDataDriven(),wt=je.value;this._transitionablePaint.setValue(W,le),this._handleSpecialPaintPropertyUpdate(W);var At=this._transitionablePaint._values[W].value;return At.isDataDriven()||ct||et||this._handleOverridablePaintPropertyUpdate(W,wt,At)},D.prototype._handleSpecialPaintPropertyUpdate=function(W){},D.prototype._handleOverridablePaintPropertyUpdate=function(W,le,Me){return!1},D.prototype.isHidden=function(W){return!!(this.minzoom&&W<this.minzoom)||!!(this.maxzoom&&W>=this.maxzoom)||this.visibility==="none"},D.prototype.updateTransitions=function(W){this._transitioningPaint=this._transitionablePaint.transitioned(W,this._transitioningPaint)},D.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},D.prototype.recalculate=function(W,le){W.getCrossfadeParameters&&(this._crossfadeParameters=W.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(W,void 0,le)),this.paint=this._transitioningPaint.possiblyEvaluate(W,void 0,le)},D.prototype.serialize=function(){var W={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(W.layout=W.layout||{},W.layout.visibility=this.visibility),f(W,function(le,Me){return!(le===void 0||Me==="layout"&&!Object.keys(le).length||Me==="paint"&&!Object.keys(le).length)})},D.prototype._validate=function(W,le,Me,Pe,je){return je===void 0&&(je={}),(!je||je.validate!==!1)&&Oa(this,W.call(So,{key:le,layerType:this.type,objectKey:Me,value:Pe,styleSpec:$e,style:{glyphs:!0,sprite:!0}}))},D.prototype.is3D=function(){return!1},D.prototype.isTileClipped=function(){return!1},D.prototype.hasOffscreenPass=function(){return!1},D.prototype.resize=function(){},D.prototype.isStateDependent=function(){for(var W in this.paint._values){var le=this.paint.get(W);if(le instanceof Mi&&Bo(le.property.specification)&&(le.value.kind==="source"||le.value.kind==="composite")&&le.value.isStateDependent)return!0}return!1},D}(at),xu={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ja=function(A,D){this._structArray=A,this._pos1=D*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},mi=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Oi(A,D){D===void 0&&(D=1);var W=0,le=0;return{members:A.map(function(Me){var Pe,je=(Pe=Me.type,xu[Pe].BYTES_PER_ELEMENT),et=W=Ua(W,Math.max(D,je)),ct=Me.components||1;return le=Math.max(le,je),W+=je*ct,{name:Me.name,type:Me.type,components:ct,offset:et}}),size:Ua(W,Math.max(le,D)),alignment:D}}function Ua(A,D){return Math.ceil(A/D)*D}mi.serialize=function(A,D){return A._trim(),D&&(A.isTransferred=!0,D.push(A.arrayBuffer)),{length:A.length,arrayBuffer:A.arrayBuffer}},mi.deserialize=function(A){var D=Object.create(this.prototype);return D.arrayBuffer=A.arrayBuffer,D.length=A.length,D.capacity=A.arrayBuffer.byteLength/D.bytesPerElement,D._refreshViews(),D},mi.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},mi.prototype.clear=function(){this.length=0},mi.prototype.resize=function(A){this.reserve(A),this.length=A},mi.prototype.reserve=function(A){if(A>this.capacity){this.capacity=Math.max(A,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var D=this.uint8;this._refreshViews(),D&&this.uint8.set(D)}},mi.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var cs=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le){var Me=this.length;return this.resize(Me+1),this.emplace(Me,W,le)},D.prototype.emplace=function(W,le,Me){var Pe=2*W;return this.int16[Pe+0]=le,this.int16[Pe+1]=Me,W},D}(mi);cs.prototype.bytesPerElement=4,Sr("StructArrayLayout2i4",cs);var Kl=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Me,Pe){var je=this.length;return this.resize(je+1),this.emplace(je,W,le,Me,Pe)},D.prototype.emplace=function(W,le,Me,Pe,je){var et=4*W;return this.int16[et+0]=le,this.int16[et+1]=Me,this.int16[et+2]=Pe,this.int16[et+3]=je,W},D}(mi);Kl.prototype.bytesPerElement=8,Sr("StructArrayLayout4i8",Kl);var Ke=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Me,Pe,je,et){var ct=this.length;return this.resize(ct+1),this.emplace(ct,W,le,Me,Pe,je,et)},D.prototype.emplace=function(W,le,Me,Pe,je,et,ct){var wt=6*W;return this.int16[wt+0]=le,this.int16[wt+1]=Me,this.int16[wt+2]=Pe,this.int16[wt+3]=je,this.int16[wt+4]=et,this.int16[wt+5]=ct,W},D}(mi);Ke.prototype.bytesPerElement=12,Sr("StructArrayLayout2i4i12",Ke);var nt=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Me,Pe,je,et){var ct=this.length;return this.resize(ct+1),this.emplace(ct,W,le,Me,Pe,je,et)},D.prototype.emplace=function(W,le,Me,Pe,je,et,ct){var wt=4*W,At=8*W;return this.int16[wt+0]=le,this.int16[wt+1]=Me,this.uint8[At+4]=Pe,this.uint8[At+5]=je,this.uint8[At+6]=et,this.uint8[At+7]=ct,W},D}(mi);nt.prototype.bytesPerElement=8,Sr("StructArrayLayout2i4ub8",nt);var ut=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le){var Me=this.length;return this.resize(Me+1),this.emplace(Me,W,le)},D.prototype.emplace=function(W,le,Me){var Pe=2*W;return this.float32[Pe+0]=le,this.float32[Pe+1]=Me,W},D}(mi);ut.prototype.bytesPerElement=8,Sr("StructArrayLayout2f8",ut);var B=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Me,Pe,je,et,ct,wt,At,Nt){var qt=this.length;return this.resize(qt+1),this.emplace(qt,W,le,Me,Pe,je,et,ct,wt,At,Nt)},D.prototype.emplace=function(W,le,Me,Pe,je,et,ct,wt,At,Nt,qt){var Ut=10*W;return this.uint16[Ut+0]=le,this.uint16[Ut+1]=Me,this.uint16[Ut+2]=Pe,this.uint16[Ut+3]=je,this.uint16[Ut+4]=et,this.uint16[Ut+5]=ct,this.uint16[Ut+6]=wt,this.uint16[Ut+7]=At,this.uint16[Ut+8]=Nt,this.uint16[Ut+9]=qt,W},D}(mi);B.prototype.bytesPerElement=20,Sr("StructArrayLayout10ui20",B);var Y=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Me,Pe,je,et,ct,wt,At,Nt,qt,Ut){var sn=this.length;return this.resize(sn+1),this.emplace(sn,W,le,Me,Pe,je,et,ct,wt,At,Nt,qt,Ut)},D.prototype.emplace=function(W,le,Me,Pe,je,et,ct,wt,At,Nt,qt,Ut,sn){var un=12*W;return this.int16[un+0]=le,this.int16[un+1]=Me,this.int16[un+2]=Pe,this.int16[un+3]=je,this.uint16[un+4]=et,this.uint16[un+5]=ct,this.uint16[un+6]=wt,this.uint16[un+7]=At,this.int16[un+8]=Nt,this.int16[un+9]=qt,this.int16[un+10]=Ut,this.int16[un+11]=sn,W},D}(mi);Y.prototype.bytesPerElement=24,Sr("StructArrayLayout4i4ui4i24",Y);var G=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Me){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,W,le,Me)},D.prototype.emplace=function(W,le,Me,Pe){var je=3*W;return this.float32[je+0]=le,this.float32[je+1]=Me,this.float32[je+2]=Pe,W},D}(mi);G.prototype.bytesPerElement=12,Sr("StructArrayLayout3f12",G);var L=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W){var le=this.length;return this.resize(le+1),this.emplace(le,W)},D.prototype.emplace=function(W,le){var Me=1*W;return this.uint32[Me+0]=le,W},D}(mi);L.prototype.bytesPerElement=4,Sr("StructArrayLayout1ul4",L);var H=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Me,Pe,je,et,ct,wt,At){var Nt=this.length;return this.resize(Nt+1),this.emplace(Nt,W,le,Me,Pe,je,et,ct,wt,At)},D.prototype.emplace=function(W,le,Me,Pe,je,et,ct,wt,At,Nt){var qt=10*W,Ut=5*W;return this.int16[qt+0]=le,this.int16[qt+1]=Me,this.int16[qt+2]=Pe,this.int16[qt+3]=je,this.int16[qt+4]=et,this.int16[qt+5]=ct,this.uint32[Ut+3]=wt,this.uint16[qt+8]=At,this.uint16[qt+9]=Nt,W},D}(mi);H.prototype.bytesPerElement=20,Sr("StructArrayLayout6i1ul2ui20",H);var $=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Me,Pe,je,et){var ct=this.length;return this.resize(ct+1),this.emplace(ct,W,le,Me,Pe,je,et)},D.prototype.emplace=function(W,le,Me,Pe,je,et,ct){var wt=6*W;return this.int16[wt+0]=le,this.int16[wt+1]=Me,this.int16[wt+2]=Pe,this.int16[wt+3]=je,this.int16[wt+4]=et,this.int16[wt+5]=ct,W},D}(mi);$.prototype.bytesPerElement=12,Sr("StructArrayLayout2i2i2i12",$);var ne=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Me,Pe,je){var et=this.length;return this.resize(et+1),this.emplace(et,W,le,Me,Pe,je)},D.prototype.emplace=function(W,le,Me,Pe,je,et){var ct=4*W,wt=8*W;return this.float32[ct+0]=le,this.float32[ct+1]=Me,this.float32[ct+2]=Pe,this.int16[wt+6]=je,this.int16[wt+7]=et,W},D}(mi);ne.prototype.bytesPerElement=16,Sr("StructArrayLayout2f1f2i16",ne);var ce=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Me,Pe){var je=this.length;return this.resize(je+1),this.emplace(je,W,le,Me,Pe)},D.prototype.emplace=function(W,le,Me,Pe,je){var et=12*W,ct=3*W;return this.uint8[et+0]=le,this.uint8[et+1]=Me,this.float32[ct+1]=Pe,this.float32[ct+2]=je,W},D}(mi);ce.prototype.bytesPerElement=12,Sr("StructArrayLayout2ub2f12",ce);var ve=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Me){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,W,le,Me)},D.prototype.emplace=function(W,le,Me,Pe){var je=3*W;return this.uint16[je+0]=le,this.uint16[je+1]=Me,this.uint16[je+2]=Pe,W},D}(mi);ve.prototype.bytesPerElement=6,Sr("StructArrayLayout3ui6",ve);var Oe=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Me,Pe,je,et,ct,wt,At,Nt,qt,Ut,sn,un,En,Mn,Nn){var jn=this.length;return this.resize(jn+1),this.emplace(jn,W,le,Me,Pe,je,et,ct,wt,At,Nt,qt,Ut,sn,un,En,Mn,Nn)},D.prototype.emplace=function(W,le,Me,Pe,je,et,ct,wt,At,Nt,qt,Ut,sn,un,En,Mn,Nn,jn){var qn=24*W,Jn=12*W,nr=48*W;return this.int16[qn+0]=le,this.int16[qn+1]=Me,this.uint16[qn+2]=Pe,this.uint16[qn+3]=je,this.uint32[Jn+2]=et,this.uint32[Jn+3]=ct,this.uint32[Jn+4]=wt,this.uint16[qn+10]=At,this.uint16[qn+11]=Nt,this.uint16[qn+12]=qt,this.float32[Jn+7]=Ut,this.float32[Jn+8]=sn,this.uint8[nr+36]=un,this.uint8[nr+37]=En,this.uint8[nr+38]=Mn,this.uint32[Jn+10]=Nn,this.int16[qn+22]=jn,W},D}(mi);Oe.prototype.bytesPerElement=48,Sr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Oe);var De=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Me,Pe,je,et,ct,wt,At,Nt,qt,Ut,sn,un,En,Mn,Nn,jn,qn,Jn,nr,yr,dr,kr,Ar,qr,Rr,Hr){var Br=this.length;return this.resize(Br+1),this.emplace(Br,W,le,Me,Pe,je,et,ct,wt,At,Nt,qt,Ut,sn,un,En,Mn,Nn,jn,qn,Jn,nr,yr,dr,kr,Ar,qr,Rr,Hr)},D.prototype.emplace=function(W,le,Me,Pe,je,et,ct,wt,At,Nt,qt,Ut,sn,un,En,Mn,Nn,jn,qn,Jn,nr,yr,dr,kr,Ar,qr,Rr,Hr,Br){var Pr=34*W,oi=17*W;return this.int16[Pr+0]=le,this.int16[Pr+1]=Me,this.int16[Pr+2]=Pe,this.int16[Pr+3]=je,this.int16[Pr+4]=et,this.int16[Pr+5]=ct,this.int16[Pr+6]=wt,this.int16[Pr+7]=At,this.uint16[Pr+8]=Nt,this.uint16[Pr+9]=qt,this.uint16[Pr+10]=Ut,this.uint16[Pr+11]=sn,this.uint16[Pr+12]=un,this.uint16[Pr+13]=En,this.uint16[Pr+14]=Mn,this.uint16[Pr+15]=Nn,this.uint16[Pr+16]=jn,this.uint16[Pr+17]=qn,this.uint16[Pr+18]=Jn,this.uint16[Pr+19]=nr,this.uint16[Pr+20]=yr,this.uint16[Pr+21]=dr,this.uint16[Pr+22]=kr,this.uint32[oi+12]=Ar,this.float32[oi+13]=qr,this.float32[oi+14]=Rr,this.float32[oi+15]=Hr,this.float32[oi+16]=Br,W},D}(mi);De.prototype.bytesPerElement=68,Sr("StructArrayLayout8i15ui1ul4f68",De);var He=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W){var le=this.length;return this.resize(le+1),this.emplace(le,W)},D.prototype.emplace=function(W,le){var Me=1*W;return this.float32[Me+0]=le,W},D}(mi);He.prototype.bytesPerElement=4,Sr("StructArrayLayout1f4",He);var We=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Me){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,W,le,Me)},D.prototype.emplace=function(W,le,Me,Pe){var je=3*W;return this.int16[je+0]=le,this.int16[je+1]=Me,this.int16[je+2]=Pe,W},D}(mi);We.prototype.bytesPerElement=6,Sr("StructArrayLayout3i6",We);var rt=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Me){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,W,le,Me)},D.prototype.emplace=function(W,le,Me,Pe){var je=2*W,et=4*W;return this.uint32[je+0]=le,this.uint16[et+2]=Me,this.uint16[et+3]=Pe,W},D}(mi);rt.prototype.bytesPerElement=8,Sr("StructArrayLayout1ul2ui8",rt);var pt=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le){var Me=this.length;return this.resize(Me+1),this.emplace(Me,W,le)},D.prototype.emplace=function(W,le,Me){var Pe=2*W;return this.uint16[Pe+0]=le,this.uint16[Pe+1]=Me,W},D}(mi);pt.prototype.bytesPerElement=4,Sr("StructArrayLayout2ui4",pt);var vt=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W){var le=this.length;return this.resize(le+1),this.emplace(le,W)},D.prototype.emplace=function(W,le){var Me=1*W;return this.uint16[Me+0]=le,W},D}(mi);vt.prototype.bytesPerElement=2,Sr("StructArrayLayout1ui2",vt);var kt=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Me,Pe){var je=this.length;return this.resize(je+1),this.emplace(je,W,le,Me,Pe)},D.prototype.emplace=function(W,le,Me,Pe,je){var et=4*W;return this.float32[et+0]=le,this.float32[et+1]=Me,this.float32[et+2]=Pe,this.float32[et+3]=je,W},D}(mi);kt.prototype.bytesPerElement=16,Sr("StructArrayLayout4f16",kt);var Ot=function(A){function D(){A.apply(this,arguments)}A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D;var W={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return W.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},W.x1.get=function(){return this._structArray.int16[this._pos2+2]},W.y1.get=function(){return this._structArray.int16[this._pos2+3]},W.x2.get=function(){return this._structArray.int16[this._pos2+4]},W.y2.get=function(){return this._structArray.int16[this._pos2+5]},W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(D.prototype,W),D}(Ja);Ot.prototype.size=20;var Et=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.get=function(W){return new Ot(this,W)},D}(H);Sr("CollisionBoxArray",Et);var jt=function(A){function D(){A.apply(this,arguments)}A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},W.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},W.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},W.segment.get=function(){return this._structArray.uint16[this._pos2+10]},W.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},W.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},W.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},W.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},W.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},W.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},W.placedOrientation.set=function(le){this._structArray.uint8[this._pos1+37]=le},W.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},W.hidden.set=function(le){this._structArray.uint8[this._pos1+38]=le},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},W.crossTileID.set=function(le){this._structArray.uint32[this._pos4+10]=le},W.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(D.prototype,W),D}(Ja);jt.prototype.size=48;var It=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.get=function(W){return new jt(this,W)},D}(Oe);Sr("PlacedSymbolArray",It);var Jt=function(A){function D(){A.apply(this,arguments)}A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},W.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},W.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},W.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},W.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},W.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},W.key.get=function(){return this._structArray.uint16[this._pos2+8]},W.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},W.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},W.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},W.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},W.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},W.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},W.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},W.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},W.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},W.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},W.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},W.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},W.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},W.crossTileID.set=function(le){this._structArray.uint32[this._pos4+12]=le},W.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},W.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},W.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},W.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(D.prototype,W),D}(Ja);Jt.prototype.size=68;var Yt=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.get=function(W){return new Jt(this,W)},D}(De);Sr("SymbolInstanceArray",Yt);var Ht=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.getoffsetX=function(W){return this.float32[1*W+0]},D}(He);Sr("GlyphOffsetArray",Ht);var mn=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.getx=function(W){return this.int16[3*W+0]},D.prototype.gety=function(W){return this.int16[3*W+1]},D.prototype.gettileUnitDistanceFromAnchor=function(W){return this.int16[3*W+2]},D}(We);Sr("SymbolLineVertexArray",mn);var yn=function(A){function D(){A.apply(this,arguments)}A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D;var W={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(D.prototype,W),D}(Ja);yn.prototype.size=8;var In=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.get=function(W){return new yn(this,W)},D}(rt);Sr("FeatureIndexArray",In);var Rn=Oi([{name:"a_pos",components:2,type:"Int16"}],4).members,Gn=function(A){A===void 0&&(A=[]),this.segments=A};function Qn(A,D){return 256*(A=u(Math.floor(A),0,255))+u(Math.floor(D),0,255)}Gn.prototype.prepareSegment=function(A,D,W,le){var Me=this.segments[this.segments.length-1];return A>Gn.MAX_VERTEX_ARRAY_LENGTH&&E("Max vertices per segment is "+Gn.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+A),(!Me||Me.vertexLength+A>Gn.MAX_VERTEX_ARRAY_LENGTH||Me.sortKey!==le)&&(Me={vertexOffset:D.length,primitiveOffset:W.length,vertexLength:0,primitiveLength:0},le!==void 0&&(Me.sortKey=le),this.segments.push(Me)),Me},Gn.prototype.get=function(){return this.segments},Gn.prototype.destroy=function(){for(var A=0,D=this.segments;A<D.length;A+=1){var W=D[A];for(var le in W.vaos)W.vaos[le].destroy()}},Gn.simpleSegment=function(A,D,W,le){return new Gn([{vertexOffset:A,primitiveOffset:D,vertexLength:W,primitiveLength:le,vaos:{},sortKey:0}])},Gn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Sr("SegmentVector",Gn);var hr=Oi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Zn=_(function(A){A.exports=function(D,W){var le,Me,Pe,je,et,ct,wt,At;for(le=3&D.length,Me=D.length-le,Pe=W,et=3432918353,ct=461845907,At=0;At<Me;)wt=255&D.charCodeAt(At)|(255&D.charCodeAt(++At))<<8|(255&D.charCodeAt(++At))<<16|(255&D.charCodeAt(++At))<<24,++At,Pe=27492+(65535&(je=5*(65535&(Pe=(Pe^=wt=(65535&(wt=(wt=(65535&wt)*et+(((wt>>>16)*et&65535)<<16)&4294967295)<<15|wt>>>17))*ct+(((wt>>>16)*ct&65535)<<16)&4294967295)<<13|Pe>>>19))+((5*(Pe>>>16)&65535)<<16)&4294967295))+((58964+(je>>>16)&65535)<<16);switch(wt=0,le){case 3:wt^=(255&D.charCodeAt(At+2))<<16;case 2:wt^=(255&D.charCodeAt(At+1))<<8;case 1:Pe^=wt=(65535&(wt=(wt=(65535&(wt^=255&D.charCodeAt(At)))*et+(((wt>>>16)*et&65535)<<16)&4294967295)<<15|wt>>>17))*ct+(((wt>>>16)*ct&65535)<<16)&4294967295}return Pe^=D.length,Pe=2246822507*(65535&(Pe^=Pe>>>16))+((2246822507*(Pe>>>16)&65535)<<16)&4294967295,Pe=3266489909*(65535&(Pe^=Pe>>>13))+((3266489909*(Pe>>>16)&65535)<<16)&4294967295,(Pe^=Pe>>>16)>>>0}}),lr=_(function(A){A.exports=function(D,W){for(var le,Me=D.length,Pe=W^Me,je=0;Me>=4;)le=1540483477*(65535&(le=255&D.charCodeAt(je)|(255&D.charCodeAt(++je))<<8|(255&D.charCodeAt(++je))<<16|(255&D.charCodeAt(++je))<<24))+((1540483477*(le>>>16)&65535)<<16),Pe=1540483477*(65535&Pe)+((1540483477*(Pe>>>16)&65535)<<16)^(le=1540483477*(65535&(le^=le>>>24))+((1540483477*(le>>>16)&65535)<<16)),Me-=4,++je;switch(Me){case 3:Pe^=(255&D.charCodeAt(je+2))<<16;case 2:Pe^=(255&D.charCodeAt(je+1))<<8;case 1:Pe=1540483477*(65535&(Pe^=255&D.charCodeAt(je)))+((1540483477*(Pe>>>16)&65535)<<16)}return Pe=1540483477*(65535&(Pe^=Pe>>>13))+((1540483477*(Pe>>>16)&65535)<<16),(Pe^=Pe>>>15)>>>0}}),_r=Zn,Or=Zn,$n=lr;_r.murmur3=Or,_r.murmur2=$n;var sr=function(){this.ids=[],this.positions=[],this.indexed=!1};sr.prototype.add=function(A,D,W,le){this.ids.push(pr(A)),this.positions.push(D,W,le)},sr.prototype.getPositions=function(A){for(var D=pr(A),W=0,le=this.ids.length-1;W<le;){var Me=W+le>>1;this.ids[Me]>=D?le=Me:W=Me+1}for(var Pe=[];this.ids[W]===D;){var je=this.positions[3*W],et=this.positions[3*W+1],ct=this.positions[3*W+2];Pe.push({index:je,start:et,end:ct}),W++}return Pe},sr.serialize=function(A,D){var W=new Float64Array(A.ids),le=new Uint32Array(A.positions);return Er(W,le,0,W.length-1),D&&D.push(W.buffer,le.buffer),{ids:W,positions:le}},sr.deserialize=function(A){var D=new sr;return D.ids=A.ids,D.positions=A.positions,D.indexed=!0,D};var Mr=Math.pow(2,53)-1;function pr(A){var D=+A;return!isNaN(D)&&D<=Mr?D:_r(String(A))}function Er(A,D,W,le){for(;W<le;){for(var Me=A[W+le>>1],Pe=W-1,je=le+1;;){do Pe++;while(A[Pe]<Me);do je--;while(A[je]>Me);if(Pe>=je)break;zr(A,Pe,je),zr(D,3*Pe,3*je),zr(D,3*Pe+1,3*je+1),zr(D,3*Pe+2,3*je+2)}je-W<le-je?(Er(A,D,W,je),W=je+1):(Er(A,D,je+1,le),le=je)}}function zr(A,D,W){var le=A[D];A[D]=A[W],A[W]=le}Sr("FeaturePositionMap",sr);var Yr=function(A,D){this.gl=A.gl,this.location=D},Zr=function(A){function D(W,le){A.call(this,W,le),this.current=0}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(W){this.current!==W&&(this.current=W,this.gl.uniform1i(this.location,W))},D}(Yr),Kr=function(A){function D(W,le){A.call(this,W,le),this.current=0}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(W){this.current!==W&&(this.current=W,this.gl.uniform1f(this.location,W))},D}(Yr),ni=function(A){function D(W,le){A.call(this,W,le),this.current=[0,0]}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(W){W[0]===this.current[0]&&W[1]===this.current[1]||(this.current=W,this.gl.uniform2f(this.location,W[0],W[1]))},D}(Yr),Ai=function(A){function D(W,le){A.call(this,W,le),this.current=[0,0,0]}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(W){W[0]===this.current[0]&&W[1]===this.current[1]&&W[2]===this.current[2]||(this.current=W,this.gl.uniform3f(this.location,W[0],W[1],W[2]))},D}(Yr),Gi=function(A){function D(W,le){A.call(this,W,le),this.current=[0,0,0,0]}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(W){W[0]===this.current[0]&&W[1]===this.current[1]&&W[2]===this.current[2]&&W[3]===this.current[3]||(this.current=W,this.gl.uniform4f(this.location,W[0],W[1],W[2],W[3]))},D}(Yr),Aa=function(A){function D(W,le){A.call(this,W,le),this.current=Cn.transparent}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(W){W.r===this.current.r&&W.g===this.current.g&&W.b===this.current.b&&W.a===this.current.a||(this.current=W,this.gl.uniform4f(this.location,W.r,W.g,W.b,W.a))},D}(Yr),sa=new Float32Array(16),xa=function(A){function D(W,le){A.call(this,W,le),this.current=sa}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(W){if(W[12]!==this.current[12]||W[0]!==this.current[0])return this.current=W,void this.gl.uniformMatrix4fv(this.location,!1,W);for(var le=1;le<16;le++)if(W[le]!==this.current[le]){this.current=W,this.gl.uniformMatrix4fv(this.location,!1,W);break}},D}(Yr);function Pi(A){return[Qn(255*A.r,255*A.g),Qn(255*A.b,255*A.a)]}var ii=function(A,D,W){this.value=A,this.uniformNames=D.map(function(le){return"u_"+le}),this.type=W};ii.prototype.setUniform=function(A,D,W){A.set(W.constantOr(this.value))},ii.prototype.getBinding=function(A,D,W){return this.type==="color"?new Aa(A,D):new Kr(A,D)};var Bi=function(A,D){this.uniformNames=D.map(function(W){return"u_"+W}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Bi.prototype.setConstantPatternPositions=function(A,D){this.pixelRatioFrom=D.pixelRatio,this.pixelRatioTo=A.pixelRatio,this.patternFrom=D.tlbr,this.patternTo=A.tlbr},Bi.prototype.setUniform=function(A,D,W,le){var Me=le==="u_pattern_to"?this.patternTo:le==="u_pattern_from"?this.patternFrom:le==="u_pixel_ratio_to"?this.pixelRatioTo:le==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Me&&A.set(Me)},Bi.prototype.getBinding=function(A,D,W){return W.substr(0,9)==="u_pattern"?new Gi(A,D):new Kr(A,D)};var yi=function(A,D,W,le){this.expression=A,this.type=W,this.maxValue=0,this.paintVertexAttributes=D.map(function(Me){return{name:"a_"+Me,type:"Float32",components:W==="color"?2:1,offset:0}}),this.paintVertexArray=new le};yi.prototype.populatePaintArray=function(A,D,W,le,Me){var Pe=this.paintVertexArray.length,je=this.expression.evaluate(new ti(0),D,{},le,[],Me);this.paintVertexArray.resize(A),this._setPaintValue(Pe,A,je)},yi.prototype.updatePaintArray=function(A,D,W,le){var Me=this.expression.evaluate({zoom:0},W,le);this._setPaintValue(A,D,Me)},yi.prototype._setPaintValue=function(A,D,W){if(this.type==="color")for(var le=Pi(W),Me=A;Me<D;Me++)this.paintVertexArray.emplace(Me,le[0],le[1]);else{for(var Pe=A;Pe<D;Pe++)this.paintVertexArray.emplace(Pe,W);this.maxValue=Math.max(this.maxValue,Math.abs(W))}},yi.prototype.upload=function(A){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=A.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},yi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var li=function(A,D,W,le,Me,Pe){this.expression=A,this.uniformNames=D.map(function(je){return"u_"+je+"_t"}),this.type=W,this.useIntegerZoom=le,this.zoom=Me,this.maxValue=0,this.paintVertexAttributes=D.map(function(je){return{name:"a_"+je,type:"Float32",components:W==="color"?4:2,offset:0}}),this.paintVertexArray=new Pe};li.prototype.populatePaintArray=function(A,D,W,le,Me){var Pe=this.expression.evaluate(new ti(this.zoom),D,{},le,[],Me),je=this.expression.evaluate(new ti(this.zoom+1),D,{},le,[],Me),et=this.paintVertexArray.length;this.paintVertexArray.resize(A),this._setPaintValue(et,A,Pe,je)},li.prototype.updatePaintArray=function(A,D,W,le){var Me=this.expression.evaluate({zoom:this.zoom},W,le),Pe=this.expression.evaluate({zoom:this.zoom+1},W,le);this._setPaintValue(A,D,Me,Pe)},li.prototype._setPaintValue=function(A,D,W,le){if(this.type==="color")for(var Me=Pi(W),Pe=Pi(le),je=A;je<D;je++)this.paintVertexArray.emplace(je,Me[0],Me[1],Pe[0],Pe[1]);else{for(var et=A;et<D;et++)this.paintVertexArray.emplace(et,W,le);this.maxValue=Math.max(this.maxValue,Math.abs(W),Math.abs(le))}},li.prototype.upload=function(A){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=A.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},li.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},li.prototype.setUniform=function(A,D){var W=this.useIntegerZoom?Math.floor(D.zoom):D.zoom,le=u(this.expression.interpolationFactor(W,this.zoom,this.zoom+1),0,1);A.set(le)},li.prototype.getBinding=function(A,D,W){return new Kr(A,D)};var Ni=function(A,D,W,le,Me,Pe){this.expression=A,this.type=D,this.useIntegerZoom=W,this.zoom=le,this.layerId=Pe,this.zoomInPaintVertexArray=new Me,this.zoomOutPaintVertexArray=new Me};Ni.prototype.populatePaintArray=function(A,D,W){var le=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(A),this.zoomOutPaintVertexArray.resize(A),this._setPaintValues(le,A,D.patterns&&D.patterns[this.layerId],W)},Ni.prototype.updatePaintArray=function(A,D,W,le,Me){this._setPaintValues(A,D,W.patterns&&W.patterns[this.layerId],Me)},Ni.prototype._setPaintValues=function(A,D,W,le){if(le&&W){var Me=W.min,Pe=W.mid,je=W.max,et=le[Me],ct=le[Pe],wt=le[je];if(et&&ct&&wt)for(var At=A;At<D;At++)this.zoomInPaintVertexArray.emplace(At,ct.tl[0],ct.tl[1],ct.br[0],ct.br[1],et.tl[0],et.tl[1],et.br[0],et.br[1],ct.pixelRatio,et.pixelRatio),this.zoomOutPaintVertexArray.emplace(At,ct.tl[0],ct.tl[1],ct.br[0],ct.br[1],wt.tl[0],wt.tl[1],wt.br[0],wt.br[1],ct.pixelRatio,wt.pixelRatio)}},Ni.prototype.upload=function(A){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=A.createVertexBuffer(this.zoomInPaintVertexArray,hr.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=A.createVertexBuffer(this.zoomOutPaintVertexArray,hr.members,this.expression.isStateDependent))},Ni.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var qi=function(A,D,W){this.binders={},this._buffers=[];var le=[];for(var Me in A.paint._values)if(W(Me)){var Pe=A.paint.get(Me);if(Pe instanceof Mi&&Bo(Pe.property.specification)){var je=Xs(Me,A.type),et=Pe.value,ct=Pe.property.specification.type,wt=Pe.property.useIntegerZoom,At=Pe.property.specification["property-type"],Nt=At==="cross-faded"||At==="cross-faded-data-driven";if(et.kind==="constant")this.binders[Me]=Nt?new Bi(et.value,je):new ii(et.value,je,ct),le.push("/u_"+Me);else if(et.kind==="source"||Nt){var qt=Js(Me,ct,"source");this.binders[Me]=Nt?new Ni(et,ct,wt,D,qt,A.id):new yi(et,je,ct,qt),le.push("/a_"+Me)}else{var Ut=Js(Me,ct,"composite");this.binders[Me]=new li(et,je,ct,wt,D,Ut),le.push("/z_"+Me)}}}this.cacheKey=le.sort().join("")};qi.prototype.getMaxValue=function(A){var D=this.binders[A];return D instanceof yi||D instanceof li?D.maxValue:0},qi.prototype.populatePaintArrays=function(A,D,W,le,Me){for(var Pe in this.binders){var je=this.binders[Pe];(je instanceof yi||je instanceof li||je instanceof Ni)&&je.populatePaintArray(A,D,W,le,Me)}},qi.prototype.setConstantPatternPositions=function(A,D){for(var W in this.binders){var le=this.binders[W];le instanceof Bi&&le.setConstantPatternPositions(A,D)}},qi.prototype.updatePaintArrays=function(A,D,W,le,Me){var Pe=!1;for(var je in A)for(var et=0,ct=D.getPositions(je);et<ct.length;et+=1){var wt=ct[et],At=W.feature(wt.index);for(var Nt in this.binders){var qt=this.binders[Nt];if((qt instanceof yi||qt instanceof li||qt instanceof Ni)&&qt.expression.isStateDependent===!0){var Ut=le.paint.get(Nt);qt.expression=Ut.value,qt.updatePaintArray(wt.start,wt.end,At,A[je],Me),Pe=!0}}}return Pe},qi.prototype.defines=function(){var A=[];for(var D in this.binders){var W=this.binders[D];(W instanceof ii||W instanceof Bi)&&A.push.apply(A,W.uniformNames.map(function(le){return"#define HAS_UNIFORM_"+le}))}return A},qi.prototype.getBinderAttributes=function(){var A=[];for(var D in this.binders){var W=this.binders[D];if(W instanceof yi||W instanceof li)for(var le=0;le<W.paintVertexAttributes.length;le++)A.push(W.paintVertexAttributes[le].name);else if(W instanceof Ni)for(var Me=0;Me<hr.members.length;Me++)A.push(hr.members[Me].name)}return A},qi.prototype.getBinderUniforms=function(){var A=[];for(var D in this.binders){var W=this.binders[D];if(W instanceof ii||W instanceof Bi||W instanceof li)for(var le=0,Me=W.uniformNames;le<Me.length;le+=1){var Pe=Me[le];A.push(Pe)}}return A},qi.prototype.getPaintVertexBuffers=function(){return this._buffers},qi.prototype.getUniforms=function(A,D){var W=[];for(var le in this.binders){var Me=this.binders[le];if(Me instanceof ii||Me instanceof Bi||Me instanceof li)for(var Pe=0,je=Me.uniformNames;Pe<je.length;Pe+=1){var et=je[Pe];if(D[et]){var ct=Me.getBinding(A,D[et],et);W.push({name:et,property:le,binding:ct})}}}return W},qi.prototype.setUniforms=function(A,D,W,le){for(var Me=0,Pe=D;Me<Pe.length;Me+=1){var je=Pe[Me],et=je.name,ct=je.property,wt=je.binding;this.binders[ct].setUniform(wt,le,W.get(ct),et)}},qi.prototype.updatePaintBuffers=function(A){for(var D in this._buffers=[],this.binders){var W=this.binders[D];if(A&&W instanceof Ni){var le=A.fromScale===2?W.zoomInPaintVertexBuffer:W.zoomOutPaintVertexBuffer;le&&this._buffers.push(le)}else(W instanceof yi||W instanceof li)&&W.paintVertexBuffer&&this._buffers.push(W.paintVertexBuffer)}},qi.prototype.upload=function(A){for(var D in this.binders){var W=this.binders[D];(W instanceof yi||W instanceof li||W instanceof Ni)&&W.upload(A)}this.updatePaintBuffers()},qi.prototype.destroy=function(){for(var A in this.binders){var D=this.binders[A];(D instanceof yi||D instanceof li||D instanceof Ni)&&D.destroy()}};var ta=function(A,D,W){W===void 0&&(W=function(){return!0}),this.programConfigurations={};for(var le=0,Me=A;le<Me.length;le+=1){var Pe=Me[le];this.programConfigurations[Pe.id]=new qi(Pe,D,W)}this.needsUpload=!1,this._featureMap=new sr,this._bufferOffset=0};function Xs(A,D){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[A]||[A.replace(D+"-","").replace(/-/g,"_")]}function Js(A,D,W){var le={color:{source:ut,composite:kt},number:{source:He,composite:ut}},Me=function(Pe){return{"line-pattern":{source:B,composite:B},"fill-pattern":{source:B,composite:B},"fill-extrusion-pattern":{source:B,composite:B}}[Pe]}(A);return Me&&Me[W]||le[D][W]}ta.prototype.populatePaintArrays=function(A,D,W,le,Me,Pe){for(var je in this.programConfigurations)this.programConfigurations[je].populatePaintArrays(A,D,le,Me,Pe);D.id!==void 0&&this._featureMap.add(D.id,W,this._bufferOffset,A),this._bufferOffset=A,this.needsUpload=!0},ta.prototype.updatePaintArrays=function(A,D,W,le){for(var Me=0,Pe=W;Me<Pe.length;Me+=1){var je=Pe[Me];this.needsUpload=this.programConfigurations[je.id].updatePaintArrays(A,this._featureMap,D,je,le)||this.needsUpload}},ta.prototype.get=function(A){return this.programConfigurations[A]},ta.prototype.upload=function(A){if(this.needsUpload){for(var D in this.programConfigurations)this.programConfigurations[D].upload(A);this.needsUpload=!1}},ta.prototype.destroy=function(){for(var A in this.programConfigurations)this.programConfigurations[A].destroy()},Sr("ConstantBinder",ii),Sr("CrossFadedConstantBinder",Bi),Sr("SourceExpressionBinder",yi),Sr("CrossFadedCompositeBinder",Ni),Sr("CompositeExpressionBinder",li),Sr("ProgramConfiguration",qi,{omit:["_buffers"]}),Sr("ProgramConfigurationSet",ta);var ui=8192,Bl=Math.pow(2,14)-1,vl=-Bl-1;function qo(A){for(var D=ui/A.extent,W=A.loadGeometry(),le=0;le<W.length;le++)for(var Me=W[le],Pe=0;Pe<Me.length;Pe++){var je=Me[Pe],et=Math.round(je.x*D),ct=Math.round(je.y*D);je.x=u(et,vl,Bl),je.y=u(ct,vl,Bl),(et<je.x||et>je.x+1||ct<je.y||ct>je.y+1)&&E("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return W}function ji(A,D){return{type:A.type,id:A.id,properties:A.properties,geometry:D?qo(A):[]}}function Ka(A,D,W,le,Me){A.emplaceBack(2*D+(le+1)/2,2*W+(Me+1)/2)}var pa=function(A){this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(D){return D.id}),this.index=A.index,this.hasPattern=!1,this.layoutVertexArray=new cs,this.indexArray=new ve,this.segments=new Gn,this.programConfigurations=new ta(A.layers,A.zoom),this.stateDependentLayerIds=this.layers.filter(function(D){return D.isStateDependent()}).map(function(D){return D.id})};function zu(A,D){for(var W=0;W<A.length;W++)if(Nl(D,A[W]))return!0;for(var le=0;le<D.length;le++)if(Nl(A,D[le]))return!0;return!!bu(A,D)}function Ih(A,D,W){return!!Nl(A,D)||!!_u(D,A,W)}function wf(A,D){if(A.length===1)return kf(D,A[0]);for(var W=0;W<D.length;W++)for(var le=D[W],Me=0;Me<le.length;Me++)if(Nl(A,le[Me]))return!0;for(var Pe=0;Pe<A.length;Pe++)if(kf(D,A[Pe]))return!0;for(var je=0;je<D.length;je++)if(bu(A,D[je]))return!0;return!1}function Dh(A,D,W){if(A.length>1){if(bu(A,D))return!0;for(var le=0;le<D.length;le++)if(_u(D[le],A,W))return!0}for(var Me=0;Me<A.length;Me++)if(_u(A[Me],D,W))return!0;return!1}function bu(A,D){if(A.length===0||D.length===0)return!1;for(var W=0;W<A.length-1;W++)for(var le=A[W],Me=A[W+1],Pe=0;Pe<D.length-1;Pe++)if(Rh(le,Me,D[Pe],D[Pe+1]))return!0;return!1}function Rh(A,D,W,le){return O(A,W,le)!==O(D,W,le)&&O(A,D,W)!==O(A,D,le)}function _u(A,D,W){var le=W*W;if(D.length===1)return A.distSqr(D[0])<le;for(var Me=1;Me<D.length;Me++)if(Tf(A,D[Me-1],D[Me])<le)return!0;return!1}function Tf(A,D,W){var le=D.distSqr(W);if(le===0)return A.distSqr(D);var Me=((A.x-D.x)*(W.x-D.x)+(A.y-D.y)*(W.y-D.y))/le;return Me<0?A.distSqr(D):Me>1?A.distSqr(W):A.distSqr(W.sub(D)._mult(Me)._add(D))}function kf(A,D){for(var W,le,Me,Pe=!1,je=0;je<A.length;je++)for(var et=0,ct=(W=A[je]).length-1;et<W.length;ct=et++)le=W[et],Me=W[ct],le.y>D.y!=Me.y>D.y&&D.x<(Me.x-le.x)*(D.y-le.y)/(Me.y-le.y)+le.x&&(Pe=!Pe);return Pe}function Nl(A,D){for(var W=!1,le=0,Me=A.length-1;le<A.length;Me=le++){var Pe=A[le],je=A[Me];Pe.y>D.y!=je.y>D.y&&D.x<(je.x-Pe.x)*(D.y-Pe.y)/(je.y-Pe.y)+Pe.x&&(W=!W)}return W}function Tg(A,D,W){var le=W[0],Me=W[2];if(A.x<le.x&&D.x<le.x||A.x>Me.x&&D.x>Me.x||A.y<le.y&&D.y<le.y||A.y>Me.y&&D.y>Me.y)return!1;var Pe=O(A,D,W[0]);return Pe!==O(A,D,W[1])||Pe!==O(A,D,W[2])||Pe!==O(A,D,W[3])}function Ic(A,D,W){var le=D.paint.get(A).value;return le.kind==="constant"?le.value:W.programConfigurations.get(D.id).getMaxValue(A)}function Mf(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])}function Af(A,D,W,le,Me){if(!D[0]&&!D[1])return A;var Pe=t.convert(D)._mult(Me);W==="viewport"&&Pe._rotate(-le);for(var je=[],et=0;et<A.length;et++){var ct=A[et];je.push(ct.sub(Pe))}return je}pa.prototype.populate=function(A,D,W){var le=this.layers[0],Me=[],Pe=null;le.type==="circle"&&(Pe=le.layout.get("circle-sort-key"));for(var je=0,et=A;je<et.length;je+=1){var ct=et[je],wt=ct.feature,At=ct.id,Nt=ct.index,qt=ct.sourceLayerIndex,Ut=this.layers[0]._featureFilter.needGeometry,sn=ji(wt,Ut);if(this.layers[0]._featureFilter.filter(new ti(this.zoom),sn,W)){var un=Pe?Pe.evaluate(sn,{},W):void 0,En={id:At,properties:wt.properties,type:wt.type,sourceLayerIndex:qt,index:Nt,geometry:Ut?sn.geometry:qo(wt),patterns:{},sortKey:un};Me.push(En)}}Pe&&Me.sort(function(kr,Ar){return kr.sortKey-Ar.sortKey});for(var Mn=0,Nn=Me;Mn<Nn.length;Mn+=1){var jn=Nn[Mn],qn=jn,Jn=qn.geometry,nr=qn.index,yr=qn.sourceLayerIndex,dr=A[nr].feature;this.addFeature(jn,Jn,nr,W),D.featureIndex.insert(dr,Jn,nr,yr,this.index)}},pa.prototype.update=function(A,D,W){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,D,this.stateDependentLayers,W)},pa.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},pa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},pa.prototype.upload=function(A){this.uploaded||(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,Rn),this.indexBuffer=A.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(A),this.uploaded=!0},pa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},pa.prototype.addFeature=function(A,D,W,le){for(var Me=0,Pe=D;Me<Pe.length;Me+=1)for(var je=0,et=Pe[Me];je<et.length;je+=1){var ct=et[je],wt=ct.x,At=ct.y;if(!(wt<0||wt>=ui||At<0||At>=ui)){var Nt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,A.sortKey),qt=Nt.vertexLength;Ka(this.layoutVertexArray,wt,At,-1,-1),Ka(this.layoutVertexArray,wt,At,1,-1),Ka(this.layoutVertexArray,wt,At,1,1),Ka(this.layoutVertexArray,wt,At,-1,1),this.indexArray.emplaceBack(qt,qt+1,qt+2),this.indexArray.emplaceBack(qt,qt+3,qt+2),Nt.vertexLength+=4,Nt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,W,{},le)},Sr("CircleBucket",pa,{omit:["layers"]});var kg=new Zi({"circle-sort-key":new jr($e.layout_circle["circle-sort-key"])}),Mg={paint:new Zi({"circle-radius":new jr($e.paint_circle["circle-radius"]),"circle-color":new jr($e.paint_circle["circle-color"]),"circle-blur":new jr($e.paint_circle["circle-blur"]),"circle-opacity":new jr($e.paint_circle["circle-opacity"]),"circle-translate":new Cr($e.paint_circle["circle-translate"]),"circle-translate-anchor":new Cr($e.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Cr($e.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Cr($e.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new jr($e.paint_circle["circle-stroke-width"]),"circle-stroke-color":new jr($e.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new jr($e.paint_circle["circle-stroke-opacity"])}),layout:kg},fs=typeof Float32Array<"u"?Float32Array:Array;function zh(A){return A[0]=1,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=1,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[10]=1,A[11]=0,A[12]=0,A[13]=0,A[14]=0,A[15]=1,A}function od(A,D,W){var le=D[0],Me=D[1],Pe=D[2],je=D[3],et=D[4],ct=D[5],wt=D[6],At=D[7],Nt=D[8],qt=D[9],Ut=D[10],sn=D[11],un=D[12],En=D[13],Mn=D[14],Nn=D[15],jn=W[0],qn=W[1],Jn=W[2],nr=W[3];return A[0]=jn*le+qn*et+Jn*Nt+nr*un,A[1]=jn*Me+qn*ct+Jn*qt+nr*En,A[2]=jn*Pe+qn*wt+Jn*Ut+nr*Mn,A[3]=jn*je+qn*At+Jn*sn+nr*Nn,jn=W[4],qn=W[5],Jn=W[6],nr=W[7],A[4]=jn*le+qn*et+Jn*Nt+nr*un,A[5]=jn*Me+qn*ct+Jn*qt+nr*En,A[6]=jn*Pe+qn*wt+Jn*Ut+nr*Mn,A[7]=jn*je+qn*At+Jn*sn+nr*Nn,jn=W[8],qn=W[9],Jn=W[10],nr=W[11],A[8]=jn*le+qn*et+Jn*Nt+nr*un,A[9]=jn*Me+qn*ct+Jn*qt+nr*En,A[10]=jn*Pe+qn*wt+Jn*Ut+nr*Mn,A[11]=jn*je+qn*At+Jn*sn+nr*Nn,jn=W[12],qn=W[13],Jn=W[14],nr=W[15],A[12]=jn*le+qn*et+Jn*Nt+nr*un,A[13]=jn*Me+qn*ct+Jn*qt+nr*En,A[14]=jn*Pe+qn*wt+Jn*Ut+nr*Mn,A[15]=jn*je+qn*At+Jn*sn+nr*Nn,A}Math.hypot||(Math.hypot=function(){for(var A=arguments,D=0,W=arguments.length;W--;)D+=A[W]*A[W];return Math.sqrt(D)});var Ag=od,Sf,Sg=function(A,D,W){return A[0]=D[0]-W[0],A[1]=D[1]-W[1],A[2]=D[2]-W[2],A};function Ef(A,D,W){var le=D[0],Me=D[1],Pe=D[2],je=D[3];return A[0]=W[0]*le+W[4]*Me+W[8]*Pe+W[12]*je,A[1]=W[1]*le+W[5]*Me+W[9]*Pe+W[13]*je,A[2]=W[2]*le+W[6]*Me+W[10]*Pe+W[14]*je,A[3]=W[3]*le+W[7]*Me+W[11]*Pe+W[15]*je,A}Sf=new fs(3),fs!=Float32Array&&(Sf[0]=0,Sf[1]=0,Sf[2]=0),function(){var A=new fs(4);fs!=Float32Array&&(A[0]=0,A[1]=0,A[2]=0,A[3]=0)}();var Eg=function(A){var D=A[0],W=A[1];return D*D+W*W},Lg=(function(){var A=new fs(2);fs!=Float32Array&&(A[0]=0,A[1]=0)}(),function(A){function D(W){A.call(this,W,Mg)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(W){return new pa(W)},D.prototype.queryRadius=function(W){var le=W;return Ic("circle-radius",this,le)+Ic("circle-stroke-width",this,le)+Mf(this.paint.get("circle-translate"))},D.prototype.queryIntersectsFeature=function(W,le,Me,Pe,je,et,ct,wt){for(var At=Af(W,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),et.angle,ct),Nt=this.paint.get("circle-radius").evaluate(le,Me)+this.paint.get("circle-stroke-width").evaluate(le,Me),qt=this.paint.get("circle-pitch-alignment")==="map",Ut=qt?At:function(yr,dr){return yr.map(function(kr){return sd(kr,dr)})}(At,wt),sn=qt?Nt*ct:Nt,un=0,En=Pe;un<En.length;un+=1)for(var Mn=0,Nn=En[un];Mn<Nn.length;Mn+=1){var jn=Nn[Mn],qn=qt?jn:sd(jn,wt),Jn=sn,nr=Ef([],[jn.x,jn.y,0,1],wt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Jn*=nr[3]/et.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Jn*=et.cameraToCenterDistance/nr[3]),Ih(Ut,qn,Jn))return!0}return!1},D}(di));function sd(A,D){var W=Ef([],[A.x,A.y,0,1],D);return new t(W[0]/W[3],W[1]/W[3])}var ld=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D}(pa);function Fh(A,D,W,le){var Me=D.width,Pe=D.height;if(le){if(le instanceof Uint8ClampedArray)le=new Uint8Array(le.buffer);else if(le.length!==Me*Pe*W)throw new RangeError("mismatched image size")}else le=new Uint8Array(Me*Pe*W);return A.width=Me,A.height=Pe,A.data=le,A}function ud(A,D,W){var le=D.width,Me=D.height;if(le!==A.width||Me!==A.height){var Pe=Fh({},{width:le,height:Me},W);Bh(A,Pe,{x:0,y:0},{x:0,y:0},{width:Math.min(A.width,le),height:Math.min(A.height,Me)},W),A.width=le,A.height=Me,A.data=Pe.data}}function Bh(A,D,W,le,Me,Pe){if(Me.width===0||Me.height===0)return D;if(Me.width>A.width||Me.height>A.height||W.x>A.width-Me.width||W.y>A.height-Me.height)throw new RangeError("out of range source coordinates for image copy");if(Me.width>D.width||Me.height>D.height||le.x>D.width-Me.width||le.y>D.height-Me.height)throw new RangeError("out of range destination coordinates for image copy");for(var je=A.data,et=D.data,ct=0;ct<Me.height;ct++)for(var wt=((W.y+ct)*A.width+W.x)*Pe,At=((le.y+ct)*D.width+le.x)*Pe,Nt=0;Nt<Me.width*Pe;Nt++)et[At+Nt]=je[wt+Nt];return D}Sr("HeatmapBucket",ld,{omit:["layers"]});var Fu=function(A,D){Fh(this,A,1,D)};Fu.prototype.resize=function(A){ud(this,A,1)},Fu.prototype.clone=function(){return new Fu({width:this.width,height:this.height},new Uint8Array(this.data))},Fu.copy=function(A,D,W,le,Me){Bh(A,D,W,le,Me,1)};var Io=function(A,D){Fh(this,A,4,D)};Io.prototype.resize=function(A){ud(this,A,4)},Io.prototype.replace=function(A,D){D?this.data.set(A):A instanceof Uint8ClampedArray?this.data=new Uint8Array(A.buffer):this.data=A},Io.prototype.clone=function(){return new Io({width:this.width,height:this.height},new Uint8Array(this.data))},Io.copy=function(A,D,W,le,Me){Bh(A,D,W,le,Me,4)},Sr("AlphaImage",Fu),Sr("RGBAImage",Io);var Cg={paint:new Zi({"heatmap-radius":new jr($e.paint_heatmap["heatmap-radius"]),"heatmap-weight":new jr($e.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Cr($e.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Go($e.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Cr($e.paint_heatmap["heatmap-opacity"])})};function cd(A){var D={},W=A.resolution||256,le=A.clips?A.clips.length:1,Me=A.image||new Io({width:W,height:le}),Pe=function(sn,un,En){D[A.evaluationKey]=En;var Mn=A.expression.evaluate(D);Me.data[sn+un+0]=Math.floor(255*Mn.r/Mn.a),Me.data[sn+un+1]=Math.floor(255*Mn.g/Mn.a),Me.data[sn+un+2]=Math.floor(255*Mn.b/Mn.a),Me.data[sn+un+3]=Math.floor(255*Mn.a)};if(A.clips)for(var je=0,et=0;je<le;++je,et+=4*W)for(var ct=0,wt=0;ct<W;ct++,wt+=4){var At=ct/(W-1),Nt=A.clips[je];Pe(et,wt,Nt.start*(1-At)+Nt.end*At)}else for(var qt=0,Ut=0;qt<W;qt++,Ut+=4)Pe(0,Ut,qt/(W-1));return Me}var Og=function(A){function D(W){A.call(this,W,Cg),this._updateColorRamp()}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(W){return new ld(W)},D.prototype._handleSpecialPaintPropertyUpdate=function(W){W==="heatmap-color"&&this._updateColorRamp()},D.prototype._updateColorRamp=function(){var W=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=cd({expression:W,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},D.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},D}(di),Pg={paint:new Zi({"hillshade-illumination-direction":new Cr($e.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Cr($e.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Cr($e.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Cr($e.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Cr($e.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Cr($e.paint_hillshade["hillshade-accent-color"])})},Ig=function(A){function D(W){A.call(this,W,Pg)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},D}(di),Dg=Oi([{name:"a_pos",components:2,type:"Int16"}],4).members,Nh=Lf,Rg=Lf;function Lf(A,D,W){W=W||2;var le,Me,Pe,je,et,ct,wt,At=D&&D.length,Nt=At?D[0]*W:A.length,qt=fd(A,0,Nt,W,!0),Ut=[];if(!qt||qt.next===qt.prev)return Ut;if(At&&(qt=function(un,En,Mn,Nn){var jn,qn,Jn,nr=[];for(jn=0,qn=En.length;jn<qn;jn++)(Jn=fd(un,En[jn]*Nn,jn<qn-1?En[jn+1]*Nn:un.length,Nn,!1))===Jn.next&&(Jn.steiner=!0),nr.push(Hg(Jn));for(nr.sort(jg),jn=0;jn<nr.length;jn++)Ug(nr[jn],Mn),Mn=wu(Mn,Mn.next);return Mn}(A,D,qt,W)),A.length>80*W){le=Pe=A[0],Me=je=A[1];for(var sn=W;sn<Nt;sn+=W)(et=A[sn])<le&&(le=et),(ct=A[sn+1])<Me&&(Me=ct),et>Pe&&(Pe=et),ct>je&&(je=ct);wt=(wt=Math.max(Pe-le,je-Me))!==0?1/wt:0}return Dc(qt,Ut,W,le,Me,wt),Ut}function fd(A,D,W,le,Me){var Pe,je;if(Me===Vh(A,D,W,le)>0)for(Pe=D;Pe<W;Pe+=le)je=dd(Pe,A[Pe],A[Pe+1],je);else for(Pe=W-le;Pe>=D;Pe-=le)je=dd(Pe,A[Pe],A[Pe+1],je);return je&&Cf(je,je.next)&&(zc(je),je=je.next),je}function wu(A,D){if(!A)return A;D||(D=A);var W,le=A;do if(W=!1,le.steiner||!Cf(le,le.next)&&ba(le.prev,le,le.next)!==0)le=le.next;else{if(zc(le),(le=D=le.prev)===le.next)break;W=!0}while(W||le!==D);return D}function Dc(A,D,W,le,Me,Pe,je){if(A){!je&&Pe&&function(At,Nt,qt,Ut){var sn=At;do sn.z===null&&(sn.z=jh(sn.x,sn.y,Nt,qt,Ut)),sn.prevZ=sn.prev,sn.nextZ=sn.next,sn=sn.next;while(sn!==At);sn.prevZ.nextZ=null,sn.prevZ=null,function(un){var En,Mn,Nn,jn,qn,Jn,nr,yr,dr=1;do{for(Mn=un,un=null,qn=null,Jn=0;Mn;){for(Jn++,Nn=Mn,nr=0,En=0;En<dr&&(nr++,Nn=Nn.nextZ);En++);for(yr=dr;nr>0||yr>0&&Nn;)nr!==0&&(yr===0||!Nn||Mn.z<=Nn.z)?(jn=Mn,Mn=Mn.nextZ,nr--):(jn=Nn,Nn=Nn.nextZ,yr--),qn?qn.nextZ=jn:un=jn,jn.prevZ=qn,qn=jn;Mn=Nn}qn.nextZ=null,dr*=2}while(Jn>1)}(sn)}(A,le,Me,Pe);for(var et,ct,wt=A;A.prev!==A.next;)if(et=A.prev,ct=A.next,Pe?Fg(A,le,Me,Pe):zg(A))D.push(et.i/W),D.push(A.i/W),D.push(ct.i/W),zc(A),A=ct.next,wt=ct.next;else if((A=ct)===wt){je?je===1?Dc(A=Bg(wu(A),D,W),D,W,le,Me,Pe,2):je===2&&Ng(A,D,W,le,Me,Pe):Dc(wu(A),D,W,le,Me,Pe,1);break}}}function zg(A){var D=A.prev,W=A,le=A.next;if(ba(D,W,le)>=0)return!1;for(var Me=A.next.next;Me!==A.prev;){if($u(D.x,D.y,W.x,W.y,le.x,le.y,Me.x,Me.y)&&ba(Me.prev,Me,Me.next)>=0)return!1;Me=Me.next}return!0}function Fg(A,D,W,le){var Me=A.prev,Pe=A,je=A.next;if(ba(Me,Pe,je)>=0)return!1;for(var et=Me.x<Pe.x?Me.x<je.x?Me.x:je.x:Pe.x<je.x?Pe.x:je.x,ct=Me.y<Pe.y?Me.y<je.y?Me.y:je.y:Pe.y<je.y?Pe.y:je.y,wt=Me.x>Pe.x?Me.x>je.x?Me.x:je.x:Pe.x>je.x?Pe.x:je.x,At=Me.y>Pe.y?Me.y>je.y?Me.y:je.y:Pe.y>je.y?Pe.y:je.y,Nt=jh(et,ct,D,W,le),qt=jh(wt,At,D,W,le),Ut=A.prevZ,sn=A.nextZ;Ut&&Ut.z>=Nt&&sn&&sn.z<=qt;){if(Ut!==A.prev&&Ut!==A.next&&$u(Me.x,Me.y,Pe.x,Pe.y,je.x,je.y,Ut.x,Ut.y)&&ba(Ut.prev,Ut,Ut.next)>=0||(Ut=Ut.prevZ,sn!==A.prev&&sn!==A.next&&$u(Me.x,Me.y,Pe.x,Pe.y,je.x,je.y,sn.x,sn.y)&&ba(sn.prev,sn,sn.next)>=0))return!1;sn=sn.nextZ}for(;Ut&&Ut.z>=Nt;){if(Ut!==A.prev&&Ut!==A.next&&$u(Me.x,Me.y,Pe.x,Pe.y,je.x,je.y,Ut.x,Ut.y)&&ba(Ut.prev,Ut,Ut.next)>=0)return!1;Ut=Ut.prevZ}for(;sn&&sn.z<=qt;){if(sn!==A.prev&&sn!==A.next&&$u(Me.x,Me.y,Pe.x,Pe.y,je.x,je.y,sn.x,sn.y)&&ba(sn.prev,sn,sn.next)>=0)return!1;sn=sn.nextZ}return!0}function Bg(A,D,W){var le=A;do{var Me=le.prev,Pe=le.next.next;!Cf(Me,Pe)&&hd(Me,le,le.next,Pe)&&Rc(Me,Pe)&&Rc(Pe,Me)&&(D.push(Me.i/W),D.push(le.i/W),D.push(Pe.i/W),zc(le),zc(le.next),le=A=Pe),le=le.next}while(le!==A);return wu(le)}function Ng(A,D,W,le,Me,Pe){var je=A;do{for(var et=je.next.next;et!==je.prev;){if(je.i!==et.i&&Gg(je,et)){var ct=pd(je,et);return je=wu(je,je.next),ct=wu(ct,ct.next),Dc(je,D,W,le,Me,Pe),void Dc(ct,D,W,le,Me,Pe)}et=et.next}je=je.next}while(je!==A)}function jg(A,D){return A.x-D.x}function Ug(A,D){if(D=function(le,Me){var Pe,je=Me,et=le.x,ct=le.y,wt=-1/0;do{if(ct<=je.y&&ct>=je.next.y&&je.next.y!==je.y){var At=je.x+(ct-je.y)*(je.next.x-je.x)/(je.next.y-je.y);if(At<=et&&At>wt){if(wt=At,At===et){if(ct===je.y)return je;if(ct===je.next.y)return je.next}Pe=je.x<je.next.x?je:je.next}}je=je.next}while(je!==Me);if(!Pe)return null;if(et===wt)return Pe;var Nt,qt=Pe,Ut=Pe.x,sn=Pe.y,un=1/0;je=Pe;do et>=je.x&&je.x>=Ut&&et!==je.x&&$u(ct<sn?et:wt,ct,Ut,sn,ct<sn?wt:et,ct,je.x,je.y)&&(Nt=Math.abs(ct-je.y)/(et-je.x),Rc(je,le)&&(Nt<un||Nt===un&&(je.x>Pe.x||je.x===Pe.x&&Vg(Pe,je)))&&(Pe=je,un=Nt)),je=je.next;while(je!==qt);return Pe}(A,D)){var W=pd(D,A);wu(D,D.next),wu(W,W.next)}}function Vg(A,D){return ba(A.prev,A,D.prev)<0&&ba(D.next,A,A.next)<0}function jh(A,D,W,le,Me){return(A=1431655765&((A=858993459&((A=252645135&((A=16711935&((A=32767*(A-W)*Me)|A<<8))|A<<4))|A<<2))|A<<1))|(D=1431655765&((D=858993459&((D=252645135&((D=16711935&((D=32767*(D-le)*Me)|D<<8))|D<<4))|D<<2))|D<<1))<<1}function Hg(A){var D=A,W=A;do(D.x<W.x||D.x===W.x&&D.y<W.y)&&(W=D),D=D.next;while(D!==A);return W}function $u(A,D,W,le,Me,Pe,je,et){return(Me-je)*(D-et)-(A-je)*(Pe-et)>=0&&(A-je)*(le-et)-(W-je)*(D-et)>=0&&(W-je)*(Pe-et)-(Me-je)*(le-et)>=0}function Gg(A,D){return A.next.i!==D.i&&A.prev.i!==D.i&&!function(W,le){var Me=W;do{if(Me.i!==W.i&&Me.next.i!==W.i&&Me.i!==le.i&&Me.next.i!==le.i&&hd(Me,Me.next,W,le))return!0;Me=Me.next}while(Me!==W);return!1}(A,D)&&(Rc(A,D)&&Rc(D,A)&&function(W,le){var Me=W,Pe=!1,je=(W.x+le.x)/2,et=(W.y+le.y)/2;do Me.y>et!=Me.next.y>et&&Me.next.y!==Me.y&&je<(Me.next.x-Me.x)*(et-Me.y)/(Me.next.y-Me.y)+Me.x&&(Pe=!Pe),Me=Me.next;while(Me!==W);return Pe}(A,D)&&(ba(A.prev,A,D.prev)||ba(A,D.prev,D))||Cf(A,D)&&ba(A.prev,A,A.next)>0&&ba(D.prev,D,D.next)>0)}function ba(A,D,W){return(D.y-A.y)*(W.x-D.x)-(D.x-A.x)*(W.y-D.y)}function Cf(A,D){return A.x===D.x&&A.y===D.y}function hd(A,D,W,le){var Me=Pf(ba(A,D,W)),Pe=Pf(ba(A,D,le)),je=Pf(ba(W,le,A)),et=Pf(ba(W,le,D));return Me!==Pe&&je!==et||!(Me!==0||!Of(A,W,D))||!(Pe!==0||!Of(A,le,D))||!(je!==0||!Of(W,A,le))||!(et!==0||!Of(W,D,le))}function Of(A,D,W){return D.x<=Math.max(A.x,W.x)&&D.x>=Math.min(A.x,W.x)&&D.y<=Math.max(A.y,W.y)&&D.y>=Math.min(A.y,W.y)}function Pf(A){return A>0?1:A<0?-1:0}function Rc(A,D){return ba(A.prev,A,A.next)<0?ba(A,D,A.next)>=0&&ba(A,A.prev,D)>=0:ba(A,D,A.prev)<0||ba(A,A.next,D)<0}function pd(A,D){var W=new Uh(A.i,A.x,A.y),le=new Uh(D.i,D.x,D.y),Me=A.next,Pe=D.prev;return A.next=D,D.prev=A,W.next=Me,Me.prev=W,le.next=W,W.prev=le,Pe.next=le,le.prev=Pe,le}function dd(A,D,W,le){var Me=new Uh(A,D,W);return le?(Me.next=le.next,Me.prev=le,le.next.prev=Me,le.next=Me):(Me.prev=Me,Me.next=Me),Me}function zc(A){A.next.prev=A.prev,A.prev.next=A.next,A.prevZ&&(A.prevZ.nextZ=A.nextZ),A.nextZ&&(A.nextZ.prevZ=A.prevZ)}function Uh(A,D,W){this.i=A,this.x=D,this.y=W,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Vh(A,D,W,le){for(var Me=0,Pe=D,je=W-le;Pe<W;Pe+=le)Me+=(A[je]-A[Pe])*(A[Pe+1]+A[je+1]),je=Pe;return Me}function qg(A,D,W,le,Me){gd(A,D,W||0,le||A.length-1,Me||Yg)}function gd(A,D,W,le,Me){for(;le>W;){if(le-W>600){var Pe=le-W+1,je=D-W+1,et=Math.log(Pe),ct=.5*Math.exp(2*et/3),wt=.5*Math.sqrt(et*ct*(Pe-ct)/Pe)*(je-Pe/2<0?-1:1);gd(A,D,Math.max(W,Math.floor(D-je*ct/Pe+wt)),Math.min(le,Math.floor(D+(Pe-je)*ct/Pe+wt)),Me)}var At=A[D],Nt=W,qt=le;for(Fc(A,W,D),Me(A[le],At)>0&&Fc(A,W,le);Nt<qt;){for(Fc(A,Nt,qt),Nt++,qt--;Me(A[Nt],At)<0;)Nt++;for(;Me(A[qt],At)>0;)qt--}Me(A[W],At)===0?Fc(A,W,qt):Fc(A,++qt,le),qt<=D&&(W=qt+1),D<=qt&&(le=qt-1)}}function Fc(A,D,W){var le=A[D];A[D]=A[W],A[W]=le}function Yg(A,D){return A<D?-1:A>D?1:0}function Hh(A,D){var W=A.length;if(W<=1)return[A];for(var le,Me,Pe=[],je=0;je<W;je++){var et=P(A[je]);et!==0&&(A[je].area=Math.abs(et),Me===void 0&&(Me=et<0),Me===et<0?(le&&Pe.push(le),le=[A[je]]):le.push(A[je]))}if(le&&Pe.push(le),D>1)for(var ct=0;ct<Pe.length;ct++)Pe[ct].length<=D||(qg(Pe[ct],D,1,Pe[ct].length-1,Wg),Pe[ct]=Pe[ct].slice(0,D));return Pe}function Wg(A,D){return D.area-A.area}function Gh(A,D,W){for(var le=W.patternDependencies,Me=!1,Pe=0,je=D;Pe<je.length;Pe+=1){var et=je[Pe].paint.get(A+"-pattern");et.isConstant()||(Me=!0);var ct=et.constantOr(null);ct&&(Me=!0,le[ct.to]=!0,le[ct.from]=!0)}return Me}function qh(A,D,W,le,Me){for(var Pe=Me.patternDependencies,je=0,et=D;je<et.length;je+=1){var ct=et[je],wt=ct.paint.get(A+"-pattern").value;if(wt.kind!=="constant"){var At=wt.evaluate({zoom:le-1},W,{},Me.availableImages),Nt=wt.evaluate({zoom:le},W,{},Me.availableImages),qt=wt.evaluate({zoom:le+1},W,{},Me.availableImages);At=At&&At.name?At.name:At,Nt=Nt&&Nt.name?Nt.name:Nt,qt=qt&&qt.name?qt.name:qt,Pe[At]=!0,Pe[Nt]=!0,Pe[qt]=!0,W.patterns[ct.id]={min:At,mid:Nt,max:qt}}}return W}Lf.deviation=function(A,D,W,le){var Me=D&&D.length,Pe=Me?D[0]*W:A.length,je=Math.abs(Vh(A,0,Pe,W));if(Me)for(var et=0,ct=D.length;et<ct;et++){var wt=D[et]*W,At=et<ct-1?D[et+1]*W:A.length;je-=Math.abs(Vh(A,wt,At,W))}var Nt=0;for(et=0;et<le.length;et+=3){var qt=le[et]*W,Ut=le[et+1]*W,sn=le[et+2]*W;Nt+=Math.abs((A[qt]-A[sn])*(A[Ut+1]-A[qt+1])-(A[qt]-A[Ut])*(A[sn+1]-A[qt+1]))}return je===0&&Nt===0?0:Math.abs((Nt-je)/je)},Lf.flatten=function(A){for(var D=A[0][0].length,W={vertices:[],holes:[],dimensions:D},le=0,Me=0;Me<A.length;Me++){for(var Pe=0;Pe<A[Me].length;Pe++)for(var je=0;je<D;je++)W.vertices.push(A[Me][Pe][je]);Me>0&&(le+=A[Me-1].length,W.holes.push(le))}return W},Nh.default=Rg;var ml=function(A){this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(D){return D.id}),this.index=A.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new cs,this.indexArray=new ve,this.indexArray2=new pt,this.programConfigurations=new ta(A.layers,A.zoom),this.segments=new Gn,this.segments2=new Gn,this.stateDependentLayerIds=this.layers.filter(function(D){return D.isStateDependent()}).map(function(D){return D.id})};ml.prototype.populate=function(A,D,W){this.hasPattern=Gh("fill",this.layers,D);for(var le=this.layers[0].layout.get("fill-sort-key"),Me=[],Pe=0,je=A;Pe<je.length;Pe+=1){var et=je[Pe],ct=et.feature,wt=et.id,At=et.index,Nt=et.sourceLayerIndex,qt=this.layers[0]._featureFilter.needGeometry,Ut=ji(ct,qt);if(this.layers[0]._featureFilter.filter(new ti(this.zoom),Ut,W)){var sn=le?le.evaluate(Ut,{},W,D.availableImages):void 0,un={id:wt,properties:ct.properties,type:ct.type,sourceLayerIndex:Nt,index:At,geometry:qt?Ut.geometry:qo(ct),patterns:{},sortKey:sn};Me.push(un)}}le&&Me.sort(function(kr,Ar){return kr.sortKey-Ar.sortKey});for(var En=0,Mn=Me;En<Mn.length;En+=1){var Nn=Mn[En],jn=Nn,qn=jn.geometry,Jn=jn.index,nr=jn.sourceLayerIndex;if(this.hasPattern){var yr=qh("fill",this.layers,Nn,this.zoom,D);this.patternFeatures.push(yr)}else this.addFeature(Nn,qn,Jn,W,{});var dr=A[Jn].feature;D.featureIndex.insert(dr,qn,Jn,nr,this.index)}},ml.prototype.update=function(A,D,W){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,D,this.stateDependentLayers,W)},ml.prototype.addFeatures=function(A,D,W){for(var le=0,Me=this.patternFeatures;le<Me.length;le+=1){var Pe=Me[le];this.addFeature(Pe,Pe.geometry,Pe.index,D,W)}},ml.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ml.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ml.prototype.upload=function(A){this.uploaded||(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,Dg),this.indexBuffer=A.createIndexBuffer(this.indexArray),this.indexBuffer2=A.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(A),this.uploaded=!0},ml.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ml.prototype.addFeature=function(A,D,W,le,Me){for(var Pe=0,je=Hh(D,500);Pe<je.length;Pe+=1){for(var et=je[Pe],ct=0,wt=0,At=et;wt<At.length;wt+=1)ct+=At[wt].length;for(var Nt=this.segments.prepareSegment(ct,this.layoutVertexArray,this.indexArray),qt=Nt.vertexLength,Ut=[],sn=[],un=0,En=et;un<En.length;un+=1){var Mn=En[un];if(Mn.length!==0){Mn!==et[0]&&sn.push(Ut.length/2);var Nn=this.segments2.prepareSegment(Mn.length,this.layoutVertexArray,this.indexArray2),jn=Nn.vertexLength;this.layoutVertexArray.emplaceBack(Mn[0].x,Mn[0].y),this.indexArray2.emplaceBack(jn+Mn.length-1,jn),Ut.push(Mn[0].x),Ut.push(Mn[0].y);for(var qn=1;qn<Mn.length;qn++)this.layoutVertexArray.emplaceBack(Mn[qn].x,Mn[qn].y),this.indexArray2.emplaceBack(jn+qn-1,jn+qn),Ut.push(Mn[qn].x),Ut.push(Mn[qn].y);Nn.vertexLength+=Mn.length,Nn.primitiveLength+=Mn.length}}for(var Jn=Nh(Ut,sn),nr=0;nr<Jn.length;nr+=3)this.indexArray.emplaceBack(qt+Jn[nr],qt+Jn[nr+1],qt+Jn[nr+2]);Nt.vertexLength+=ct,Nt.primitiveLength+=Jn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,W,Me,le)},Sr("FillBucket",ml,{omit:["layers","patternFeatures"]});var Zg=new Zi({"fill-sort-key":new jr($e.layout_fill["fill-sort-key"])}),Xg={paint:new Zi({"fill-antialias":new Cr($e.paint_fill["fill-antialias"]),"fill-opacity":new jr($e.paint_fill["fill-opacity"]),"fill-color":new jr($e.paint_fill["fill-color"]),"fill-outline-color":new jr($e.paint_fill["fill-outline-color"]),"fill-translate":new Cr($e.paint_fill["fill-translate"]),"fill-translate-anchor":new Cr($e.paint_fill["fill-translate-anchor"]),"fill-pattern":new Xa($e.paint_fill["fill-pattern"])}),layout:Zg},Jg=function(A){function D(W){A.call(this,W,Xg)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(W,le){A.prototype.recalculate.call(this,W,le);var Me=this.paint._values["fill-outline-color"];Me.value.kind==="constant"&&Me.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},D.prototype.createBucket=function(W){return new ml(W)},D.prototype.queryRadius=function(){return Mf(this.paint.get("fill-translate"))},D.prototype.queryIntersectsFeature=function(W,le,Me,Pe,je,et,ct){return wf(Af(W,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),et.angle,ct),Pe)},D.prototype.isTileClipped=function(){return!0},D}(di),Kg=Oi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,vd=Qu;function Qu(A,D,W,le,Me){this.properties={},this.extent=W,this.type=0,this._pbf=A,this._geometry=-1,this._keys=le,this._values=Me,A.readFields($g,this,D)}function $g(A,D,W){A==1?D.id=W.readVarint():A==2?function(le,Me){for(var Pe=le.readVarint()+le.pos;le.pos<Pe;){var je=Me._keys[le.readVarint()],et=Me._values[le.readVarint()];Me.properties[je]=et}}(W,D):A==3?D.type=W.readVarint():A==4&&(D._geometry=W.pos)}function Qg(A){for(var D,W,le=0,Me=0,Pe=A.length,je=Pe-1;Me<Pe;je=Me++)D=A[Me],le+=((W=A[je]).x-D.x)*(D.y+W.y);return le}Qu.types=["Unknown","Point","LineString","Polygon"],Qu.prototype.loadGeometry=function(){var A=this._pbf;A.pos=this._geometry;for(var D,W=A.readVarint()+A.pos,le=1,Me=0,Pe=0,je=0,et=[];A.pos<W;){if(Me<=0){var ct=A.readVarint();le=7&ct,Me=ct>>3}if(Me--,le===1||le===2)Pe+=A.readSVarint(),je+=A.readSVarint(),le===1&&(D&&et.push(D),D=[]),D.push(new t(Pe,je));else{if(le!==7)throw new Error("unknown command "+le);D&&D.push(D[0].clone())}}return D&&et.push(D),et},Qu.prototype.bbox=function(){var A=this._pbf;A.pos=this._geometry;for(var D=A.readVarint()+A.pos,W=1,le=0,Me=0,Pe=0,je=1/0,et=-1/0,ct=1/0,wt=-1/0;A.pos<D;){if(le<=0){var At=A.readVarint();W=7&At,le=At>>3}if(le--,W===1||W===2)(Me+=A.readSVarint())<je&&(je=Me),Me>et&&(et=Me),(Pe+=A.readSVarint())<ct&&(ct=Pe),Pe>wt&&(wt=Pe);else if(W!==7)throw new Error("unknown command "+W)}return[je,ct,et,wt]},Qu.prototype.toGeoJSON=function(A,D,W){var le,Me,Pe=this.extent*Math.pow(2,W),je=this.extent*A,et=this.extent*D,ct=this.loadGeometry(),wt=Qu.types[this.type];function At(Ut){for(var sn=0;sn<Ut.length;sn++){var un=Ut[sn],En=180-360*(un.y+et)/Pe;Ut[sn]=[360*(un.x+je)/Pe-180,360/Math.PI*Math.atan(Math.exp(En*Math.PI/180))-90]}}switch(this.type){case 1:var Nt=[];for(le=0;le<ct.length;le++)Nt[le]=ct[le][0];At(ct=Nt);break;case 2:for(le=0;le<ct.length;le++)At(ct[le]);break;case 3:for(ct=function(Ut){var sn=Ut.length;if(sn<=1)return[Ut];for(var un,En,Mn=[],Nn=0;Nn<sn;Nn++){var jn=Qg(Ut[Nn]);jn!==0&&(En===void 0&&(En=jn<0),En===jn<0?(un&&Mn.push(un),un=[Ut[Nn]]):un.push(Ut[Nn]))}return un&&Mn.push(un),Mn}(ct),le=0;le<ct.length;le++)for(Me=0;Me<ct[le].length;Me++)At(ct[le][Me])}ct.length===1?ct=ct[0]:wt="Multi"+wt;var qt={type:"Feature",geometry:{type:wt,coordinates:ct},properties:this.properties};return"id"in this&&(qt.id=this.id),qt};var md=yd;function yd(A,D){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=A,this._keys=[],this._values=[],this._features=[],A.readFields(ev,this,D),this.length=this._features.length}function ev(A,D,W){A===15?D.version=W.readVarint():A===1?D.name=W.readString():A===5?D.extent=W.readVarint():A===2?D._features.push(W.pos):A===3?D._keys.push(W.readString()):A===4&&D._values.push(function(le){for(var Me=null,Pe=le.readVarint()+le.pos;le.pos<Pe;){var je=le.readVarint()>>3;Me=je===1?le.readString():je===2?le.readFloat():je===3?le.readDouble():je===4?le.readVarint64():je===5?le.readVarint():je===6?le.readSVarint():je===7?le.readBoolean():null}return Me}(W))}function tv(A,D,W){if(A===3){var le=new md(W,W.readVarint()+W.pos);le.length&&(D[le.name]=le)}}yd.prototype.feature=function(A){if(A<0||A>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[A];var D=this._pbf.readVarint()+this._pbf.pos;return new vd(this._pbf,D,this.extent,this._keys,this._values)};var ec={VectorTile:function(A,D){this.layers=A.readFields(tv,{},D)},VectorTileFeature:vd,VectorTileLayer:md},nv=ec.VectorTileFeature.types,Yh=Math.pow(2,13);function Bc(A,D,W,le,Me,Pe,je,et){A.emplaceBack(D,W,2*Math.floor(le*Yh)+je,Me*Yh*2,Pe*Yh*2,Math.round(et))}var yl=function(A){this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(D){return D.id}),this.index=A.index,this.hasPattern=!1,this.layoutVertexArray=new Ke,this.indexArray=new ve,this.programConfigurations=new ta(A.layers,A.zoom),this.segments=new Gn,this.stateDependentLayerIds=this.layers.filter(function(D){return D.isStateDependent()}).map(function(D){return D.id})};function rv(A,D){return A.x===D.x&&(A.x<0||A.x>ui)||A.y===D.y&&(A.y<0||A.y>ui)}yl.prototype.populate=function(A,D,W){this.features=[],this.hasPattern=Gh("fill-extrusion",this.layers,D);for(var le=0,Me=A;le<Me.length;le+=1){var Pe=Me[le],je=Pe.feature,et=Pe.id,ct=Pe.index,wt=Pe.sourceLayerIndex,At=this.layers[0]._featureFilter.needGeometry,Nt=ji(je,At);if(this.layers[0]._featureFilter.filter(new ti(this.zoom),Nt,W)){var qt={id:et,sourceLayerIndex:wt,index:ct,geometry:At?Nt.geometry:qo(je),properties:je.properties,type:je.type,patterns:{}};this.hasPattern?this.features.push(qh("fill-extrusion",this.layers,qt,this.zoom,D)):this.addFeature(qt,qt.geometry,ct,W,{}),D.featureIndex.insert(je,qt.geometry,ct,wt,this.index,!0)}}},yl.prototype.addFeatures=function(A,D,W){for(var le=0,Me=this.features;le<Me.length;le+=1){var Pe=Me[le],je=Pe.geometry;this.addFeature(Pe,je,Pe.index,D,W)}},yl.prototype.update=function(A,D,W){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,D,this.stateDependentLayers,W)},yl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},yl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},yl.prototype.upload=function(A){this.uploaded||(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,Kg),this.indexBuffer=A.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(A),this.uploaded=!0},yl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},yl.prototype.addFeature=function(A,D,W,le,Me){for(var Pe=0,je=Hh(D,500);Pe<je.length;Pe+=1){for(var et=je[Pe],ct=0,wt=0,At=et;wt<At.length;wt+=1)ct+=At[wt].length;for(var Nt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),qt=0,Ut=et;qt<Ut.length;qt+=1){var sn=Ut[qt];if(sn.length!==0&&!((oi=sn).every(function(Xr){return Xr.x<0})||oi.every(function(Xr){return Xr.x>ui})||oi.every(function(Xr){return Xr.y<0})||oi.every(function(Xr){return Xr.y>ui})))for(var un=0,En=0;En<sn.length;En++){var Mn=sn[En];if(En>=1){var Nn=sn[En-1];if(!rv(Mn,Nn)){Nt.vertexLength+4>Gn.MAX_VERTEX_ARRAY_LENGTH&&(Nt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var jn=Mn.sub(Nn)._perp()._unit(),qn=Nn.dist(Mn);un+qn>32768&&(un=0),Bc(this.layoutVertexArray,Mn.x,Mn.y,jn.x,jn.y,0,0,un),Bc(this.layoutVertexArray,Mn.x,Mn.y,jn.x,jn.y,0,1,un),un+=qn,Bc(this.layoutVertexArray,Nn.x,Nn.y,jn.x,jn.y,0,0,un),Bc(this.layoutVertexArray,Nn.x,Nn.y,jn.x,jn.y,0,1,un);var Jn=Nt.vertexLength;this.indexArray.emplaceBack(Jn,Jn+2,Jn+1),this.indexArray.emplaceBack(Jn+1,Jn+2,Jn+3),Nt.vertexLength+=4,Nt.primitiveLength+=2}}}}if(Nt.vertexLength+ct>Gn.MAX_VERTEX_ARRAY_LENGTH&&(Nt=this.segments.prepareSegment(ct,this.layoutVertexArray,this.indexArray)),nv[A.type]==="Polygon"){for(var nr=[],yr=[],dr=Nt.vertexLength,kr=0,Ar=et;kr<Ar.length;kr+=1){var qr=Ar[kr];if(qr.length!==0){qr!==et[0]&&yr.push(nr.length/2);for(var Rr=0;Rr<qr.length;Rr++){var Hr=qr[Rr];Bc(this.layoutVertexArray,Hr.x,Hr.y,0,0,1,1,0),nr.push(Hr.x),nr.push(Hr.y)}}}for(var Br=Nh(nr,yr),Pr=0;Pr<Br.length;Pr+=3)this.indexArray.emplaceBack(dr+Br[Pr],dr+Br[Pr+2],dr+Br[Pr+1]);Nt.primitiveLength+=Br.length/3,Nt.vertexLength+=ct}}var oi;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,W,Me,le)},Sr("FillExtrusionBucket",yl,{omit:["layers","features"]});var iv={paint:new Zi({"fill-extrusion-opacity":new Cr($e["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new jr($e["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Cr($e["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Cr($e["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Xa($e["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new jr($e["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new jr($e["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Cr($e["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},av=function(A){function D(W){A.call(this,W,iv)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(W){return new yl(W)},D.prototype.queryRadius=function(){return Mf(this.paint.get("fill-extrusion-translate"))},D.prototype.is3D=function(){return!0},D.prototype.queryIntersectsFeature=function(W,le,Me,Pe,je,et,ct,wt){var At=Af(W,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),et.angle,ct),Nt=this.paint.get("fill-extrusion-height").evaluate(le,Me),qt=this.paint.get("fill-extrusion-base").evaluate(le,Me),Ut=function(un,En,Mn,Nn){for(var jn=[],qn=0,Jn=un;qn<Jn.length;qn+=1){var nr=Jn[qn],yr=[nr.x,nr.y,Nn,1];Ef(yr,yr,En),jn.push(new t(yr[0]/yr[3],yr[1]/yr[3]))}return jn}(At,wt,0,0),sn=function(un,En,Mn,Nn){for(var jn=[],qn=[],Jn=Nn[8]*En,nr=Nn[9]*En,yr=Nn[10]*En,dr=Nn[11]*En,kr=Nn[8]*Mn,Ar=Nn[9]*Mn,qr=Nn[10]*Mn,Rr=Nn[11]*Mn,Hr=0,Br=un;Hr<Br.length;Hr+=1){for(var Pr=[],oi=[],Xr=0,Di=Br[Hr];Xr<Di.length;Xr+=1){var Vr=Di[Xr],Ei=Vr.x,Vi=Vr.y,Yi=Nn[0]*Ei+Nn[4]*Vi+Nn[12],Wi=Nn[1]*Ei+Nn[5]*Vi+Nn[13],Ri=Nn[2]*Ei+Nn[6]*Vi+Nn[14],Ta=Nn[3]*Ei+Nn[7]*Vi+Nn[15],$i=Ri+yr,za=Ta+dr,$a=Yi+kr,Ha=Wi+Ar,_o=Ri+qr,Ga=Ta+Rr,Sa=new t((Yi+Jn)/za,(Wi+nr)/za);Sa.z=$i/za,Pr.push(Sa);var qa=new t($a/Ga,Ha/Ga);qa.z=_o/Ga,oi.push(qa)}jn.push(Pr),qn.push(oi)}return[jn,qn]}(Pe,qt,Nt,wt);return function(un,En,Mn){var Nn=1/0;wf(Mn,En)&&(Nn=xd(Mn,En[0]));for(var jn=0;jn<En.length;jn++)for(var qn=En[jn],Jn=un[jn],nr=0;nr<qn.length-1;nr++){var yr=qn[nr],dr=qn[nr+1],kr=Jn[nr],Ar=[yr,dr,Jn[nr+1],kr,yr];zu(Mn,Ar)&&(Nn=Math.min(Nn,xd(Mn,Ar)))}return Nn!==1/0&&Nn}(sn[0],sn[1],Ut)},D}(di);function Nc(A,D){return A.x*D.x+A.y*D.y}function xd(A,D){if(A.length===1){for(var W,le=0,Me=D[le++];!W||Me.equals(W);)if(!(W=D[le++]))return 1/0;for(;le<D.length;le++){var Pe=D[le],je=A[0],et=W.sub(Me),ct=Pe.sub(Me),wt=je.sub(Me),At=Nc(et,et),Nt=Nc(et,ct),qt=Nc(ct,ct),Ut=Nc(wt,et),sn=Nc(wt,ct),un=At*qt-Nt*Nt,En=(qt*Ut-Nt*sn)/un,Mn=(At*sn-Nt*Ut)/un,Nn=1-En-Mn,jn=Me.z*Nn+W.z*En+Pe.z*Mn;if(isFinite(jn))return jn}return 1/0}for(var qn=1/0,Jn=0,nr=D;Jn<nr.length;Jn+=1){var yr=nr[Jn];qn=Math.min(qn,yr.z)}return qn}var ov=Oi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,sv=Oi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,lv=ec.VectorTileFeature.types,uv=Math.cos(Math.PI/180*37.5),bd=Math.pow(2,14)/.5,bo=function(A){var D=this;this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=A.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(W){D.gradients[W.id]={}}),this.layoutVertexArray=new nt,this.layoutVertexArray2=new ut,this.indexArray=new ve,this.programConfigurations=new ta(A.layers,A.zoom),this.segments=new Gn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};bo.prototype.populate=function(A,D,W){this.hasPattern=Gh("line",this.layers,D);for(var le=this.layers[0].layout.get("line-sort-key"),Me=[],Pe=0,je=A;Pe<je.length;Pe+=1){var et=je[Pe],ct=et.feature,wt=et.id,At=et.index,Nt=et.sourceLayerIndex,qt=this.layers[0]._featureFilter.needGeometry,Ut=ji(ct,qt);if(this.layers[0]._featureFilter.filter(new ti(this.zoom),Ut,W)){var sn=le?le.evaluate(Ut,{},W):void 0,un={id:wt,properties:ct.properties,type:ct.type,sourceLayerIndex:Nt,index:At,geometry:qt?Ut.geometry:qo(ct),patterns:{},sortKey:sn};Me.push(un)}}le&&Me.sort(function(kr,Ar){return kr.sortKey-Ar.sortKey});for(var En=0,Mn=Me;En<Mn.length;En+=1){var Nn=Mn[En],jn=Nn,qn=jn.geometry,Jn=jn.index,nr=jn.sourceLayerIndex;if(this.hasPattern){var yr=qh("line",this.layers,Nn,this.zoom,D);this.patternFeatures.push(yr)}else this.addFeature(Nn,qn,Jn,W,{});var dr=A[Jn].feature;D.featureIndex.insert(dr,qn,Jn,nr,this.index)}},bo.prototype.update=function(A,D,W){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,D,this.stateDependentLayers,W)},bo.prototype.addFeatures=function(A,D,W){for(var le=0,Me=this.patternFeatures;le<Me.length;le+=1){var Pe=Me[le];this.addFeature(Pe,Pe.geometry,Pe.index,D,W)}},bo.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},bo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},bo.prototype.upload=function(A){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=A.createVertexBuffer(this.layoutVertexArray2,sv)),this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,ov),this.indexBuffer=A.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(A),this.uploaded=!0},bo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},bo.prototype.lineFeatureClips=function(A){if(A.properties&&A.properties.hasOwnProperty("mapbox_clip_start")&&A.properties.hasOwnProperty("mapbox_clip_end"))return{start:+A.properties.mapbox_clip_start,end:+A.properties.mapbox_clip_end}},bo.prototype.addFeature=function(A,D,W,le,Me){var Pe=this.layers[0].layout,je=Pe.get("line-join").evaluate(A,{}),et=Pe.get("line-cap"),ct=Pe.get("line-miter-limit"),wt=Pe.get("line-round-limit");this.lineClips=this.lineFeatureClips(A);for(var At=0,Nt=D;At<Nt.length;At+=1){var qt=Nt[At];this.addLine(qt,A,je,et,ct,wt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,W,Me,le)},bo.prototype.addLine=function(A,D,W,le,Me,Pe){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var je=0;je<A.length-1;je++)this.totalDistance+=A[je].dist(A[je+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var et=lv[D.type]==="Polygon",ct=A.length;ct>=2&&A[ct-1].equals(A[ct-2]);)ct--;for(var wt=0;wt<ct-1&&A[wt].equals(A[wt+1]);)wt++;if(!(ct<(et?3:2))){W==="bevel"&&(Me=1.05);var At,Nt=this.overscaling<=16?15*ui/(512*this.overscaling):0,qt=this.segments.prepareSegment(10*ct,this.layoutVertexArray,this.indexArray),Ut=void 0,sn=void 0,un=void 0,En=void 0;this.e1=this.e2=-1,et&&(At=A[ct-2],En=A[wt].sub(At)._unit()._perp());for(var Mn=wt;Mn<ct;Mn++)if(!(sn=Mn===ct-1?et?A[wt+1]:void 0:A[Mn+1])||!A[Mn].equals(sn)){En&&(un=En),At&&(Ut=At),At=A[Mn],En=sn?sn.sub(At)._unit()._perp():un;var Nn=(un=un||En).add(En);Nn.x===0&&Nn.y===0||Nn._unit();var jn=un.x*En.x+un.y*En.y,qn=Nn.x*En.x+Nn.y*En.y,Jn=qn!==0?1/qn:1/0,nr=2*Math.sqrt(2-2*qn),yr=qn<uv&&Ut&&sn,dr=un.x*En.y-un.y*En.x>0;if(yr&&Mn>wt){var kr=At.dist(Ut);if(kr>2*Nt){var Ar=At.sub(At.sub(Ut)._mult(Nt/kr)._round());this.updateDistance(Ut,Ar),this.addCurrentVertex(Ar,un,0,0,qt),Ut=Ar}}var qr=Ut&&sn,Rr=qr?W:et?"butt":le;if(qr&&Rr==="round"&&(Jn<Pe?Rr="miter":Jn<=2&&(Rr="fakeround")),Rr==="miter"&&Jn>Me&&(Rr="bevel"),Rr==="bevel"&&(Jn>2&&(Rr="flipbevel"),Jn<Me&&(Rr="miter")),Ut&&this.updateDistance(Ut,At),Rr==="miter")Nn._mult(Jn),this.addCurrentVertex(At,Nn,0,0,qt);else if(Rr==="flipbevel"){if(Jn>100)Nn=En.mult(-1);else{var Hr=Jn*un.add(En).mag()/un.sub(En).mag();Nn._perp()._mult(Hr*(dr?-1:1))}this.addCurrentVertex(At,Nn,0,0,qt),this.addCurrentVertex(At,Nn.mult(-1),0,0,qt)}else if(Rr==="bevel"||Rr==="fakeround"){var Br=-Math.sqrt(Jn*Jn-1),Pr=dr?Br:0,oi=dr?0:Br;if(Ut&&this.addCurrentVertex(At,un,Pr,oi,qt),Rr==="fakeround")for(var Xr=Math.round(180*nr/Math.PI/20),Di=1;Di<Xr;Di++){var Vr=Di/Xr;if(Vr!==.5){var Ei=Vr-.5;Vr+=Vr*Ei*(Vr-1)*((1.0904+jn*(jn*(3.55645-1.43519*jn)-3.2452))*Ei*Ei+(.848013+jn*(.215638*jn-1.06021)))}var Vi=En.sub(un)._mult(Vr)._add(un)._unit()._mult(dr?-1:1);this.addHalfVertex(At,Vi.x,Vi.y,!1,dr,0,qt)}sn&&this.addCurrentVertex(At,En,-Pr,-oi,qt)}else if(Rr==="butt")this.addCurrentVertex(At,Nn,0,0,qt);else if(Rr==="square"){var Yi=Ut?1:-1;this.addCurrentVertex(At,Nn,Yi,Yi,qt)}else Rr==="round"&&(Ut&&(this.addCurrentVertex(At,un,0,0,qt),this.addCurrentVertex(At,un,1,1,qt,!0)),sn&&(this.addCurrentVertex(At,En,-1,-1,qt,!0),this.addCurrentVertex(At,En,0,0,qt)));if(yr&&Mn<ct-1){var Wi=At.dist(sn);if(Wi>2*Nt){var Ri=At.add(sn.sub(At)._mult(Nt/Wi)._round());this.updateDistance(At,Ri),this.addCurrentVertex(Ri,En,0,0,qt),At=Ri}}}}},bo.prototype.addCurrentVertex=function(A,D,W,le,Me,Pe){Pe===void 0&&(Pe=!1);var je=D.x+D.y*W,et=D.y-D.x*W,ct=-D.x+D.y*le,wt=-D.y-D.x*le;this.addHalfVertex(A,je,et,Pe,!1,W,Me),this.addHalfVertex(A,ct,wt,Pe,!0,-le,Me),this.distance>bd/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(A,D,W,le,Me,Pe))},bo.prototype.addHalfVertex=function(A,D,W,le,Me,Pe,je){var et=A.x,ct=A.y,wt=.5*(this.lineClips?this.scaledDistance*(bd-1):this.scaledDistance);if(this.layoutVertexArray.emplaceBack((et<<1)+(le?1:0),(ct<<1)+(Me?1:0),Math.round(63*D)+128,Math.round(63*W)+128,1+(Pe===0?0:Pe<0?-1:1)|(63&wt)<<2,wt>>6),this.lineClips){var At=(this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start);this.layoutVertexArray2.emplaceBack(At,this.lineClipsArray.length)}var Nt=je.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Nt),je.primitiveLength++),Me?this.e2=Nt:this.e1=Nt},bo.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},bo.prototype.updateDistance=function(A,D){this.distance+=A.dist(D),this.updateScaledDistance()},Sr("LineBucket",bo,{omit:["layers","patternFeatures"]});var cv=new Zi({"line-cap":new Cr($e.layout_line["line-cap"]),"line-join":new jr($e.layout_line["line-join"]),"line-miter-limit":new Cr($e.layout_line["line-miter-limit"]),"line-round-limit":new Cr($e.layout_line["line-round-limit"]),"line-sort-key":new jr($e.layout_line["line-sort-key"])}),_d={paint:new Zi({"line-opacity":new jr($e.paint_line["line-opacity"]),"line-color":new jr($e.paint_line["line-color"]),"line-translate":new Cr($e.paint_line["line-translate"]),"line-translate-anchor":new Cr($e.paint_line["line-translate-anchor"]),"line-width":new jr($e.paint_line["line-width"]),"line-gap-width":new jr($e.paint_line["line-gap-width"]),"line-offset":new jr($e.paint_line["line-offset"]),"line-blur":new jr($e.paint_line["line-blur"]),"line-dasharray":new Oo($e.paint_line["line-dasharray"]),"line-pattern":new Xa($e.paint_line["line-pattern"]),"line-gradient":new Go($e.paint_line["line-gradient"])}),layout:cv},fv=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(W,le){return le=new ti(Math.floor(le.zoom),{now:le.now,fadeDuration:le.fadeDuration,zoomHistory:le.zoomHistory,transition:le.transition}),A.prototype.possiblyEvaluate.call(this,W,le)},D.prototype.evaluate=function(W,le,Me,Pe){return le=c({},le,{zoom:Math.floor(le.zoom)}),A.prototype.evaluate.call(this,W,le,Me,Pe)},D}(jr),wd=new fv(_d.paint.properties["line-width"].specification);wd.useIntegerZoom=!0;var hv=function(A){function D(W){A.call(this,W,_d),this.gradientVersion=0}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._handleSpecialPaintPropertyUpdate=function(W){if(W==="line-gradient"){var le=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=le._styleExpression.expression instanceof Ir,this.gradientVersion=(this.gradientVersion+1)%r}},D.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},D.prototype.recalculate=function(W,le){A.prototype.recalculate.call(this,W,le),this.paint._values["line-floorwidth"]=wd.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,W)},D.prototype.createBucket=function(W){return new bo(W)},D.prototype.queryRadius=function(W){var le=W,Me=Td(Ic("line-width",this,le),Ic("line-gap-width",this,le)),Pe=Ic("line-offset",this,le);return Me/2+Math.abs(Pe)+Mf(this.paint.get("line-translate"))},D.prototype.queryIntersectsFeature=function(W,le,Me,Pe,je,et,ct){var wt=Af(W,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),et.angle,ct),At=ct/2*Td(this.paint.get("line-width").evaluate(le,Me),this.paint.get("line-gap-width").evaluate(le,Me)),Nt=this.paint.get("line-offset").evaluate(le,Me);return Nt&&(Pe=function(qt,Ut){for(var sn=[],un=new t(0,0),En=0;En<qt.length;En++){for(var Mn=qt[En],Nn=[],jn=0;jn<Mn.length;jn++){var qn=Mn[jn-1],Jn=Mn[jn],nr=Mn[jn+1],yr=jn===0?un:Jn.sub(qn)._unit()._perp(),dr=jn===Mn.length-1?un:nr.sub(Jn)._unit()._perp(),kr=yr._add(dr)._unit(),Ar=kr.x*dr.x+kr.y*dr.y;kr._mult(1/Ar),Nn.push(kr._mult(Ut)._add(Jn))}sn.push(Nn)}return sn}(Pe,Nt*ct)),function(qt,Ut,sn){for(var un=0;un<Ut.length;un++){var En=Ut[un];if(qt.length>=3){for(var Mn=0;Mn<En.length;Mn++)if(Nl(qt,En[Mn]))return!0}if(Dh(qt,En,sn))return!0}return!1}(wt,Pe,At)},D.prototype.isTileClipped=function(){return!0},D}(di);function Td(A,D){return D>0?D+2*A:A}var pv=Oi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),dv=Oi([{name:"a_projected_pos",components:3,type:"Float32"}],4),gv=(Oi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Oi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),kd=(Oi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Oi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),vv=Oi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function mv(A,D,W){return A.sections.forEach(function(le){le.text=function(Me,Pe,je){var et=Pe.layout.get("text-transform").evaluate(je,{});return et==="uppercase"?Me=Me.toLocaleUpperCase():et==="lowercase"&&(Me=Me.toLocaleLowerCase()),Da.applyArabicShaping&&(Me=Da.applyArabicShaping(Me)),Me}(le.text,D,W)}),A}Oi([{name:"triangle",components:3,type:"Uint16"}]),Oi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Oi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Oi([{type:"Float32",name:"offsetX"}]),Oi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var jc={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},Va=24,Md=function(A,D,W,le,Me){var Pe,je,et=8*Me-le-1,ct=(1<<et)-1,wt=ct>>1,At=-7,Nt=W?Me-1:0,qt=W?-1:1,Ut=A[D+Nt];for(Nt+=qt,Pe=Ut&(1<<-At)-1,Ut>>=-At,At+=et;At>0;Pe=256*Pe+A[D+Nt],Nt+=qt,At-=8);for(je=Pe&(1<<-At)-1,Pe>>=-At,At+=le;At>0;je=256*je+A[D+Nt],Nt+=qt,At-=8);if(Pe===0)Pe=1-wt;else{if(Pe===ct)return je?NaN:1/0*(Ut?-1:1);je+=Math.pow(2,le),Pe-=wt}return(Ut?-1:1)*je*Math.pow(2,Pe-le)},Ad=function(A,D,W,le,Me,Pe){var je,et,ct,wt=8*Pe-Me-1,At=(1<<wt)-1,Nt=At>>1,qt=Me===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ut=le?0:Pe-1,sn=le?1:-1,un=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(et=isNaN(D)?1:0,je=At):(je=Math.floor(Math.log(D)/Math.LN2),D*(ct=Math.pow(2,-je))<1&&(je--,ct*=2),(D+=je+Nt>=1?qt/ct:qt*Math.pow(2,1-Nt))*ct>=2&&(je++,ct/=2),je+Nt>=At?(et=0,je=At):je+Nt>=1?(et=(D*ct-1)*Math.pow(2,Me),je+=Nt):(et=D*Math.pow(2,Nt-1)*Math.pow(2,Me),je=0));Me>=8;A[W+Ut]=255&et,Ut+=sn,et/=256,Me-=8);for(je=je<<Me|et,wt+=Me;wt>0;A[W+Ut]=255&je,Ut+=sn,je/=256,wt-=8);A[W+Ut-sn]|=128*un},If=Ui;function Ui(A){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(A)?A:new Uint8Array(A||0),this.pos=0,this.type=0,this.length=this.buf.length}Ui.Varint=0,Ui.Fixed64=1,Ui.Bytes=2,Ui.Fixed32=5;var Wh=4294967296,Sd=1/Wh,Ed=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function $l(A){return A.type===Ui.Bytes?A.readVarint()+A.pos:A.pos+1}function tc(A,D,W){return W?4294967296*D+(A>>>0):4294967296*(D>>>0)+(A>>>0)}function Ld(A,D,W){var le=D<=16383?1:D<=2097151?2:D<=268435455?3:Math.floor(Math.log(D)/(7*Math.LN2));W.realloc(le);for(var Me=W.pos-1;Me>=A;Me--)W.buf[Me+le]=W.buf[Me]}function yv(A,D){for(var W=0;W<A.length;W++)D.writeVarint(A[W])}function xv(A,D){for(var W=0;W<A.length;W++)D.writeSVarint(A[W])}function bv(A,D){for(var W=0;W<A.length;W++)D.writeFloat(A[W])}function _v(A,D){for(var W=0;W<A.length;W++)D.writeDouble(A[W])}function wv(A,D){for(var W=0;W<A.length;W++)D.writeBoolean(A[W])}function Tv(A,D){for(var W=0;W<A.length;W++)D.writeFixed32(A[W])}function kv(A,D){for(var W=0;W<A.length;W++)D.writeSFixed32(A[W])}function Mv(A,D){for(var W=0;W<A.length;W++)D.writeFixed64(A[W])}function Av(A,D){for(var W=0;W<A.length;W++)D.writeSFixed64(A[W])}function Df(A,D){return(A[D]|A[D+1]<<8|A[D+2]<<16)+16777216*A[D+3]}function nc(A,D,W){A[W]=D,A[W+1]=D>>>8,A[W+2]=D>>>16,A[W+3]=D>>>24}function Cd(A,D){return(A[D]|A[D+1]<<8|A[D+2]<<16)+(A[D+3]<<24)}Ui.prototype={destroy:function(){this.buf=null},readFields:function(A,D,W){for(W=W||this.length;this.pos<W;){var le=this.readVarint(),Me=le>>3,Pe=this.pos;this.type=7&le,A(Me,D,this),this.pos===Pe&&this.skip(le)}return D},readMessage:function(A,D){return this.readFields(A,D,this.readVarint()+this.pos)},readFixed32:function(){var A=Df(this.buf,this.pos);return this.pos+=4,A},readSFixed32:function(){var A=Cd(this.buf,this.pos);return this.pos+=4,A},readFixed64:function(){var A=Df(this.buf,this.pos)+Df(this.buf,this.pos+4)*Wh;return this.pos+=8,A},readSFixed64:function(){var A=Df(this.buf,this.pos)+Cd(this.buf,this.pos+4)*Wh;return this.pos+=8,A},readFloat:function(){var A=Md(this.buf,this.pos,!0,23,4);return this.pos+=4,A},readDouble:function(){var A=Md(this.buf,this.pos,!0,52,8);return this.pos+=8,A},readVarint:function(A){var D,W,le=this.buf;return D=127&(W=le[this.pos++]),W<128?D:(D|=(127&(W=le[this.pos++]))<<7,W<128?D:(D|=(127&(W=le[this.pos++]))<<14,W<128?D:(D|=(127&(W=le[this.pos++]))<<21,W<128?D:function(Me,Pe,je){var et,ct,wt=je.buf;if(et=(112&(ct=wt[je.pos++]))>>4,ct<128||(et|=(127&(ct=wt[je.pos++]))<<3,ct<128)||(et|=(127&(ct=wt[je.pos++]))<<10,ct<128)||(et|=(127&(ct=wt[je.pos++]))<<17,ct<128)||(et|=(127&(ct=wt[je.pos++]))<<24,ct<128)||(et|=(1&(ct=wt[je.pos++]))<<31,ct<128))return tc(Me,et,Pe);throw new Error("Expected varint not more than 10 bytes")}(D|=(15&(W=le[this.pos]))<<28,A,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var A=this.readVarint();return A%2==1?(A+1)/-2:A/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var A=this.readVarint()+this.pos,D=this.pos;return this.pos=A,A-D>=12&&Ed?function(W,le,Me){return Ed.decode(W.subarray(le,Me))}(this.buf,D,A):function(W,le,Me){for(var Pe="",je=le;je<Me;){var et,ct,wt,At=W[je],Nt=null,qt=At>239?4:At>223?3:At>191?2:1;if(je+qt>Me)break;qt===1?At<128&&(Nt=At):qt===2?(192&(et=W[je+1]))==128&&(Nt=(31&At)<<6|63&et)<=127&&(Nt=null):qt===3?(et=W[je+1],ct=W[je+2],(192&et)==128&&(192&ct)==128&&((Nt=(15&At)<<12|(63&et)<<6|63&ct)<=2047||Nt>=55296&&Nt<=57343)&&(Nt=null)):qt===4&&(et=W[je+1],ct=W[je+2],wt=W[je+3],(192&et)==128&&(192&ct)==128&&(192&wt)==128&&((Nt=(15&At)<<18|(63&et)<<12|(63&ct)<<6|63&wt)<=65535||Nt>=1114112)&&(Nt=null)),Nt===null?(Nt=65533,qt=1):Nt>65535&&(Nt-=65536,Pe+=String.fromCharCode(Nt>>>10&1023|55296),Nt=56320|1023&Nt),Pe+=String.fromCharCode(Nt),je+=qt}return Pe}(this.buf,D,A)},readBytes:function(){var A=this.readVarint()+this.pos,D=this.buf.subarray(this.pos,A);return this.pos=A,D},readPackedVarint:function(A,D){if(this.type!==Ui.Bytes)return A.push(this.readVarint(D));var W=$l(this);for(A=A||[];this.pos<W;)A.push(this.readVarint(D));return A},readPackedSVarint:function(A){if(this.type!==Ui.Bytes)return A.push(this.readSVarint());var D=$l(this);for(A=A||[];this.pos<D;)A.push(this.readSVarint());return A},readPackedBoolean:function(A){if(this.type!==Ui.Bytes)return A.push(this.readBoolean());var D=$l(this);for(A=A||[];this.pos<D;)A.push(this.readBoolean());return A},readPackedFloat:function(A){if(this.type!==Ui.Bytes)return A.push(this.readFloat());var D=$l(this);for(A=A||[];this.pos<D;)A.push(this.readFloat());return A},readPackedDouble:function(A){if(this.type!==Ui.Bytes)return A.push(this.readDouble());var D=$l(this);for(A=A||[];this.pos<D;)A.push(this.readDouble());return A},readPackedFixed32:function(A){if(this.type!==Ui.Bytes)return A.push(this.readFixed32());var D=$l(this);for(A=A||[];this.pos<D;)A.push(this.readFixed32());return A},readPackedSFixed32:function(A){if(this.type!==Ui.Bytes)return A.push(this.readSFixed32());var D=$l(this);for(A=A||[];this.pos<D;)A.push(this.readSFixed32());return A},readPackedFixed64:function(A){if(this.type!==Ui.Bytes)return A.push(this.readFixed64());var D=$l(this);for(A=A||[];this.pos<D;)A.push(this.readFixed64());return A},readPackedSFixed64:function(A){if(this.type!==Ui.Bytes)return A.push(this.readSFixed64());var D=$l(this);for(A=A||[];this.pos<D;)A.push(this.readSFixed64());return A},skip:function(A){var D=7&A;if(D===Ui.Varint)for(;this.buf[this.pos++]>127;);else if(D===Ui.Bytes)this.pos=this.readVarint()+this.pos;else if(D===Ui.Fixed32)this.pos+=4;else{if(D!==Ui.Fixed64)throw new Error("Unimplemented type: "+D);this.pos+=8}},writeTag:function(A,D){this.writeVarint(A<<3|D)},realloc:function(A){for(var D=this.length||16;D<this.pos+A;)D*=2;if(D!==this.length){var W=new Uint8Array(D);W.set(this.buf),this.buf=W,this.length=D}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(A){this.realloc(4),nc(this.buf,A,this.pos),this.pos+=4},writeSFixed32:function(A){this.realloc(4),nc(this.buf,A,this.pos),this.pos+=4},writeFixed64:function(A){this.realloc(8),nc(this.buf,-1&A,this.pos),nc(this.buf,Math.floor(A*Sd),this.pos+4),this.pos+=8},writeSFixed64:function(A){this.realloc(8),nc(this.buf,-1&A,this.pos),nc(this.buf,Math.floor(A*Sd),this.pos+4),this.pos+=8},writeVarint:function(A){(A=+A||0)>268435455||A<0?function(D,W){var le,Me;if(D>=0?(le=D%4294967296|0,Me=D/4294967296|0):(Me=~(-D/4294967296),4294967295^(le=~(-D%4294967296))?le=le+1|0:(le=0,Me=Me+1|0)),D>=18446744073709552e3||D<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");W.realloc(10),function(Pe,je,et){et.buf[et.pos++]=127&Pe|128,Pe>>>=7,et.buf[et.pos++]=127&Pe|128,Pe>>>=7,et.buf[et.pos++]=127&Pe|128,Pe>>>=7,et.buf[et.pos++]=127&Pe|128,Pe>>>=7,et.buf[et.pos]=127&Pe}(le,0,W),function(Pe,je){var et=(7&Pe)<<4;je.buf[je.pos++]|=et|((Pe>>>=3)?128:0),Pe&&(je.buf[je.pos++]=127&Pe|((Pe>>>=7)?128:0),Pe&&(je.buf[je.pos++]=127&Pe|((Pe>>>=7)?128:0),Pe&&(je.buf[je.pos++]=127&Pe|((Pe>>>=7)?128:0),Pe&&(je.buf[je.pos++]=127&Pe|((Pe>>>=7)?128:0),Pe&&(je.buf[je.pos++]=127&Pe)))))}(Me,W)}(A,this):(this.realloc(4),this.buf[this.pos++]=127&A|(A>127?128:0),A<=127||(this.buf[this.pos++]=127&(A>>>=7)|(A>127?128:0),A<=127||(this.buf[this.pos++]=127&(A>>>=7)|(A>127?128:0),A<=127||(this.buf[this.pos++]=A>>>7&127))))},writeSVarint:function(A){this.writeVarint(A<0?2*-A-1:2*A)},writeBoolean:function(A){this.writeVarint(!!A)},writeString:function(A){A=String(A),this.realloc(4*A.length),this.pos++;var D=this.pos;this.pos=function(le,Me,Pe){for(var je,et,ct=0;ct<Me.length;ct++){if((je=Me.charCodeAt(ct))>55295&&je<57344){if(!et){je>56319||ct+1===Me.length?(le[Pe++]=239,le[Pe++]=191,le[Pe++]=189):et=je;continue}if(je<56320){le[Pe++]=239,le[Pe++]=191,le[Pe++]=189,et=je;continue}je=et-55296<<10|je-56320|65536,et=null}else et&&(le[Pe++]=239,le[Pe++]=191,le[Pe++]=189,et=null);je<128?le[Pe++]=je:(je<2048?le[Pe++]=je>>6|192:(je<65536?le[Pe++]=je>>12|224:(le[Pe++]=je>>18|240,le[Pe++]=je>>12&63|128),le[Pe++]=je>>6&63|128),le[Pe++]=63&je|128)}return Pe}(this.buf,A,this.pos);var W=this.pos-D;W>=128&&Ld(D,W,this),this.pos=D-1,this.writeVarint(W),this.pos+=W},writeFloat:function(A){this.realloc(4),Ad(this.buf,A,this.pos,!0,23,4),this.pos+=4},writeDouble:function(A){this.realloc(8),Ad(this.buf,A,this.pos,!0,52,8),this.pos+=8},writeBytes:function(A){var D=A.length;this.writeVarint(D),this.realloc(D);for(var W=0;W<D;W++)this.buf[this.pos++]=A[W]},writeRawMessage:function(A,D){this.pos++;var W=this.pos;A(D,this);var le=this.pos-W;le>=128&&Ld(W,le,this),this.pos=W-1,this.writeVarint(le),this.pos+=le},writeMessage:function(A,D,W){this.writeTag(A,Ui.Bytes),this.writeRawMessage(D,W)},writePackedVarint:function(A,D){D.length&&this.writeMessage(A,yv,D)},writePackedSVarint:function(A,D){D.length&&this.writeMessage(A,xv,D)},writePackedBoolean:function(A,D){D.length&&this.writeMessage(A,wv,D)},writePackedFloat:function(A,D){D.length&&this.writeMessage(A,bv,D)},writePackedDouble:function(A,D){D.length&&this.writeMessage(A,_v,D)},writePackedFixed32:function(A,D){D.length&&this.writeMessage(A,Tv,D)},writePackedSFixed32:function(A,D){D.length&&this.writeMessage(A,kv,D)},writePackedFixed64:function(A,D){D.length&&this.writeMessage(A,Mv,D)},writePackedSFixed64:function(A,D){D.length&&this.writeMessage(A,Av,D)},writeBytesField:function(A,D){this.writeTag(A,Ui.Bytes),this.writeBytes(D)},writeFixed32Field:function(A,D){this.writeTag(A,Ui.Fixed32),this.writeFixed32(D)},writeSFixed32Field:function(A,D){this.writeTag(A,Ui.Fixed32),this.writeSFixed32(D)},writeFixed64Field:function(A,D){this.writeTag(A,Ui.Fixed64),this.writeFixed64(D)},writeSFixed64Field:function(A,D){this.writeTag(A,Ui.Fixed64),this.writeSFixed64(D)},writeVarintField:function(A,D){this.writeTag(A,Ui.Varint),this.writeVarint(D)},writeSVarintField:function(A,D){this.writeTag(A,Ui.Varint),this.writeSVarint(D)},writeStringField:function(A,D){this.writeTag(A,Ui.Bytes),this.writeString(D)},writeFloatField:function(A,D){this.writeTag(A,Ui.Fixed32),this.writeFloat(D)},writeDoubleField:function(A,D){this.writeTag(A,Ui.Fixed64),this.writeDouble(D)},writeBooleanField:function(A,D){this.writeVarintField(A,!!D)}};var Zh=3;function Sv(A,D,W){A===1&&W.readMessage(Ev,D)}function Ev(A,D,W){if(A===3){var le=W.readMessage(Lv,{}),Me=le.id,Pe=le.bitmap,je=le.width,et=le.height,ct=le.left,wt=le.top,At=le.advance;D.push({id:Me,bitmap:new Fu({width:je+2*Zh,height:et+2*Zh},Pe),metrics:{width:je,height:et,left:ct,top:wt,advance:At}})}}function Lv(A,D,W){A===1?D.id=W.readVarint():A===2?D.bitmap=W.readBytes():A===3?D.width=W.readVarint():A===4?D.height=W.readVarint():A===5?D.left=W.readSVarint():A===6?D.top=W.readSVarint():A===7&&(D.advance=W.readVarint())}var Od=Zh;function Pd(A){for(var D=0,W=0,le=0,Me=A;le<Me.length;le+=1){var Pe=Me[le];D+=Pe.w*Pe.h,W=Math.max(W,Pe.w)}A.sort(function(un,En){return En.h-un.h});for(var je=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(D/.95)),W),h:1/0}],et=0,ct=0,wt=0,At=A;wt<At.length;wt+=1)for(var Nt=At[wt],qt=je.length-1;qt>=0;qt--){var Ut=je[qt];if(!(Nt.w>Ut.w||Nt.h>Ut.h)){if(Nt.x=Ut.x,Nt.y=Ut.y,ct=Math.max(ct,Nt.y+Nt.h),et=Math.max(et,Nt.x+Nt.w),Nt.w===Ut.w&&Nt.h===Ut.h){var sn=je.pop();qt<je.length&&(je[qt]=sn)}else Nt.h===Ut.h?(Ut.x+=Nt.w,Ut.w-=Nt.w):Nt.w===Ut.w?(Ut.y+=Nt.h,Ut.h-=Nt.h):(je.push({x:Ut.x+Nt.w,y:Ut.y,w:Ut.w-Nt.w,h:Nt.h}),Ut.y+=Nt.h,Ut.h-=Nt.h);break}}return{w:et,h:ct,fill:D/(et*ct)||0}}var Yo=1,Rf=function(A,D){var W=D.pixelRatio,le=D.version,Me=D.stretchX,Pe=D.stretchY,je=D.content;this.paddedRect=A,this.pixelRatio=W,this.stretchX=Me,this.stretchY=Pe,this.content=je,this.version=le},Uc={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Uc.tl.get=function(){return[this.paddedRect.x+Yo,this.paddedRect.y+Yo]},Uc.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Yo,this.paddedRect.y+this.paddedRect.h-Yo]},Uc.tlbr.get=function(){return this.tl.concat(this.br)},Uc.displaySize.get=function(){return[(this.paddedRect.w-2*Yo)/this.pixelRatio,(this.paddedRect.h-2*Yo)/this.pixelRatio]},Object.defineProperties(Rf.prototype,Uc);var Vc=function(A,D){var W={},le={};this.haveRenderCallbacks=[];var Me=[];this.addImages(A,W,Me),this.addImages(D,le,Me);var Pe=Pd(Me),je=Pe.w,et=Pe.h,ct=new Io({width:je||1,height:et||1});for(var wt in A){var At=A[wt],Nt=W[wt].paddedRect;Io.copy(At.data,ct,{x:0,y:0},{x:Nt.x+Yo,y:Nt.y+Yo},At.data)}for(var qt in D){var Ut=D[qt],sn=le[qt].paddedRect,un=sn.x+Yo,En=sn.y+Yo,Mn=Ut.data.width,Nn=Ut.data.height;Io.copy(Ut.data,ct,{x:0,y:0},{x:un,y:En},Ut.data),Io.copy(Ut.data,ct,{x:0,y:Nn-1},{x:un,y:En-1},{width:Mn,height:1}),Io.copy(Ut.data,ct,{x:0,y:0},{x:un,y:En+Nn},{width:Mn,height:1}),Io.copy(Ut.data,ct,{x:Mn-1,y:0},{x:un-1,y:En},{width:1,height:Nn}),Io.copy(Ut.data,ct,{x:0,y:0},{x:un+Mn,y:En},{width:1,height:Nn})}this.image=ct,this.iconPositions=W,this.patternPositions=le};Vc.prototype.addImages=function(A,D,W){for(var le in A){var Me=A[le],Pe={x:0,y:0,w:Me.data.width+2*Yo,h:Me.data.height+2*Yo};W.push(Pe),D[le]=new Rf(Pe,Me),Me.hasRenderCallback&&this.haveRenderCallbacks.push(le)}},Vc.prototype.patchUpdatedImages=function(A,D){for(var W in A.dispatchRenderCallbacks(this.haveRenderCallbacks),A.updatedImages)this.patchUpdatedImage(this.iconPositions[W],A.getImage(W),D),this.patchUpdatedImage(this.patternPositions[W],A.getImage(W),D)},Vc.prototype.patchUpdatedImage=function(A,D,W){if(A&&D&&A.version!==D.version){A.version=D.version;var le=A.tl,Me=le[0],Pe=le[1];W.update(D.data,void 0,{x:Me,y:Pe})}},Sr("ImagePosition",Rf),Sr("ImageAtlas",Vc);var hs={horizontal:1,vertical:2,horizontalOnly:3},Hc=-17,rc=function(){this.scale=1,this.fontStack="",this.imageName=null};rc.forText=function(A,D){var W=new rc;return W.scale=A||1,W.fontStack=D,W},rc.forImage=function(A){var D=new rc;return D.imageName=A,D};var oo=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function zf(A,D,W,le,Me,Pe,je,et,ct,wt,At,Nt,qt,Ut,sn,un){var En,Mn=oo.fromFeature(A,Me);Nt===hs.vertical&&Mn.verticalizePunctuation();var Nn=Da.processBidirectionalText,jn=Da.processStyledBidirectionalText;if(Nn&&Mn.sections.length===1){En=[];for(var qn=0,Jn=Nn(Mn.toString(),Xh(Mn,wt,Pe,D,le,Ut,sn));qn<Jn.length;qn+=1){var nr=Jn[qn],yr=new oo;yr.text=nr,yr.sections=Mn.sections;for(var dr=0;dr<nr.length;dr++)yr.sectionIndex.push(0);En.push(yr)}}else if(jn){En=[];for(var kr=0,Ar=jn(Mn.text,Mn.sectionIndex,Xh(Mn,wt,Pe,D,le,Ut,sn));kr<Ar.length;kr+=1){var qr=Ar[kr],Rr=new oo;Rr.text=qr[0],Rr.sectionIndex=qr[1],Rr.sections=Mn.sections,En.push(Rr)}}else En=function(Pr,oi){for(var Xr=[],Di=Pr.text,Vr=0,Ei=0,Vi=oi;Ei<Vi.length;Ei+=1){var Yi=Vi[Ei];Xr.push(Pr.substring(Vr,Yi)),Vr=Yi}return Vr<Di.length&&Xr.push(Pr.substring(Vr,Di.length)),Xr}(Mn,Xh(Mn,wt,Pe,D,le,Ut,sn));var Hr=[],Br={positionedLines:Hr,text:Mn.toString(),top:At[1],bottom:At[1],left:At[0],right:At[0],writingMode:Nt,iconsInText:!1,verticalizable:!1};return function(Pr,oi,Xr,Di,Vr,Ei,Vi,Yi,Wi,Ri,Ta,$i){for(var za=0,$a=Hc,Ha=0,_o=0,Ga=Yi==="right"?1:Yi==="left"?0:.5,Sa=0,qa=0,Fa=Vr;qa<Fa.length;qa+=1){var Ea=Fa[qa];Ea.trim();var Jr=Ea.getMaxScale(),ci=(Jr-1)*Va,la={positionedGlyphs:[],lineOffset:0};Pr.positionedLines[Sa]=la;var Ii=la.positionedGlyphs,na=0;if(Ea.length()){for(var Ji=0;Ji<Ea.length();Ji++){var gi=Ea.getSection(Ji),ua=Ea.getSectionIndex(Ji),wo=Ea.getCharCode(Ji),Zo=0,so=null,bl=null,tu=null,Ba=Va,_l=!(Wi===hs.horizontal||!Ta&&!Vo(wo)||Ta&&(Ff[wo]||ls(wo)));if(gi.imageName){var Ks=Di[gi.imageName];if(!Ks)continue;tu=gi.imageName,Pr.iconsInText=Pr.iconsInText||!0,bl=Ks.paddedRect;var $s=Ks.displaySize;gi.scale=gi.scale*Va/$i,so={width:$s[0],height:$s[1],left:Yo,top:-Od,advance:_l?$s[1]:$s[0]},Zo=ci+(Va-$s[1]*gi.scale),Ba=so.advance;var Uu=_l?$s[0]*gi.scale-Va*Jr:$s[1]*gi.scale-Va*Jr;Uu>0&&Uu>na&&(na=Uu)}else{var Yf=Xr[gi.fontStack],Vu=Yf&&Yf[wo];if(Vu&&Vu.rect)bl=Vu.rect,so=Vu.metrics;else{var Wf=oi[gi.fontStack],Wc=Wf&&Wf[wo];if(!Wc)continue;so=Wc.metrics}Zo=(Jr-gi.scale)*Va}_l?(Pr.verticalizable=!0,Ii.push({glyph:wo,imageName:tu,x:za,y:$a+Zo,vertical:_l,scale:gi.scale,fontStack:gi.fontStack,sectionIndex:ua,metrics:so,rect:bl}),za+=Ba*gi.scale+Ri):(Ii.push({glyph:wo,imageName:tu,x:za,y:$a+Zo,vertical:_l,scale:gi.scale,fontStack:gi.fontStack,sectionIndex:ua,metrics:so,rect:bl}),za+=so.advance*gi.scale+Ri)}if(Ii.length!==0){var ap=za-Ri;Ha=Math.max(ap,Ha),Ov(Ii,0,Ii.length-1,Ga,na)}za=0;var Zf=Ei*Jr+na;la.lineOffset=Math.max(na,ci),$a+=Zf,_o=Math.max(Zf,_o),++Sa}else $a+=Ei,++Sa}var pc=$a-Hc,Xf=Jh(Vi),Jf=Xf.horizontalAlign,Zc=Xf.verticalAlign;(function(op,Xc,Hu,dc,Kf,$f,gc,Qf,eh){var Jc=(Xc-Hu)*Kf,Kc=0;Kc=$f!==gc?-Qf*dc-Hc:(-dc*eh+.5)*gc;for(var Gu=0,$c=op;Gu<$c.length;Gu+=1)for(var qu=0,Qc=$c[Gu].positionedGlyphs;qu<Qc.length;qu+=1){var ef=Qc[qu];ef.x+=Jc,ef.y+=Kc}})(Pr.positionedLines,Ga,Jf,Zc,Ha,_o,Ei,pc,Vr.length),Pr.top+=-Zc*pc,Pr.bottom=Pr.top+pc,Pr.left+=-Jf*Ha,Pr.right=Pr.left+Ha}(Br,D,W,le,En,je,et,ct,Nt,wt,qt,un),!function(Pr){for(var oi=0,Xr=Pr;oi<Xr.length;oi+=1)if(Xr[oi].positionedGlyphs.length!==0)return!1;return!0}(Hr)&&Br}oo.fromFeature=function(A,D){for(var W=new oo,le=0;le<A.sections.length;le++){var Me=A.sections[le];Me.image?W.addImageSection(Me):W.addTextSection(Me,D)}return W},oo.prototype.length=function(){return this.text.length},oo.prototype.getSection=function(A){return this.sections[this.sectionIndex[A]]},oo.prototype.getSectionIndex=function(A){return this.sectionIndex[A]},oo.prototype.getCharCode=function(A){return this.text.charCodeAt(A)},oo.prototype.verticalizePunctuation=function(){this.text=function(A){for(var D="",W=0;W<A.length;W++){var le=A.charCodeAt(W+1)||null,Me=A.charCodeAt(W-1)||null;le&&oa(le)&&!jc[A[W+1]]||Me&&oa(Me)&&!jc[A[W-1]]||!jc[A[W]]?D+=A[W]:D+=jc[A[W]]}return D}(this.text)},oo.prototype.trim=function(){for(var A=0,D=0;D<this.text.length&&Ff[this.text.charCodeAt(D)];D++)A++;for(var W=this.text.length,le=this.text.length-1;le>=0&&le>=A&&Ff[this.text.charCodeAt(le)];le--)W--;this.text=this.text.substring(A,W),this.sectionIndex=this.sectionIndex.slice(A,W)},oo.prototype.substring=function(A,D){var W=new oo;return W.text=this.text.substring(A,D),W.sectionIndex=this.sectionIndex.slice(A,D),W.sections=this.sections,W},oo.prototype.toString=function(){return this.text},oo.prototype.getMaxScale=function(){var A=this;return this.sectionIndex.reduce(function(D,W){return Math.max(D,A.sections[W].scale)},0)},oo.prototype.addTextSection=function(A,D){this.text+=A.text,this.sections.push(rc.forText(A.scale,A.fontStack||D));for(var W=this.sections.length-1,le=0;le<A.text.length;++le)this.sectionIndex.push(W)},oo.prototype.addImageSection=function(A){var D=A.image?A.image.name:"";if(D.length!==0){var W=this.getNextImageSectionCharCode();W?(this.text+=String.fromCharCode(W),this.sections.push(rc.forImage(D)),this.sectionIndex.push(this.sections.length-1)):E("Reached maximum number of images 6401")}else E("Can't add FormattedSection with an empty image.")},oo.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Ff={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Wo={};function Id(A,D,W,le,Me,Pe){if(D.imageName){var je=le[D.imageName];return je?je.displaySize[0]*D.scale*Va/Pe+Me:0}var et=W[D.fontStack],ct=et&&et[A];return ct?ct.metrics.advance*D.scale+Me:0}function Dd(A,D,W,le){var Me=Math.pow(A-D,2);return le?A<D?Me/2:2*Me:Me+Math.abs(W)*W}function Cv(A,D,W){var le=0;return A===10&&(le-=1e4),W&&(le+=150),A!==40&&A!==65288||(le+=50),D!==41&&D!==65289||(le+=50),le}function Rd(A,D,W,le,Me,Pe){for(var je=null,et=Dd(D,W,Me,Pe),ct=0,wt=le;ct<wt.length;ct+=1){var At=wt[ct],Nt=Dd(D-At.x,W,Me,Pe)+At.badness;Nt<=et&&(je=At,et=Nt)}return{index:A,x:D,priorBreak:je,badness:et}}function zd(A){return A?zd(A.priorBreak).concat(A.index):[]}function Xh(A,D,W,le,Me,Pe,je){if(Pe!=="point")return[];if(!A)return[];for(var et=[],ct=function(En,Mn,Nn,jn,qn,Jn){for(var nr=0,yr=0;yr<En.length();yr++){var dr=En.getSection(yr);nr+=Id(En.getCharCode(yr),dr,jn,qn,Mn,Jn)}return nr/Math.max(1,Math.ceil(nr/Nn))}(A,D,W,le,Me,je),wt=A.text.indexOf("")>=0,At=0,Nt=0;Nt<A.length();Nt++){var qt=A.getSection(Nt),Ut=A.getCharCode(Nt);if(Ff[Ut]||(At+=Id(Ut,qt,le,Me,D,je)),Nt<A.length()-1){var sn=!((un=Ut)<11904||!(br["Bopomofo Extended"](un)||br.Bopomofo(un)||br["CJK Compatibility Forms"](un)||br["CJK Compatibility Ideographs"](un)||br["CJK Compatibility"](un)||br["CJK Radicals Supplement"](un)||br["CJK Strokes"](un)||br["CJK Symbols and Punctuation"](un)||br["CJK Unified Ideographs Extension A"](un)||br["CJK Unified Ideographs"](un)||br["Enclosed CJK Letters and Months"](un)||br["Halfwidth and Fullwidth Forms"](un)||br.Hiragana(un)||br["Ideographic Description Characters"](un)||br["Kangxi Radicals"](un)||br["Katakana Phonetic Extensions"](un)||br.Katakana(un)||br["Vertical Forms"](un)||br["Yi Radicals"](un)||br["Yi Syllables"](un)));(Wo[Ut]||sn||qt.imageName)&&et.push(Rd(Nt+1,At,ct,et,Cv(Ut,A.getCharCode(Nt+1),sn&&wt),!1))}}var un;return zd(Rd(A.length(),At,ct,et,0,!0))}function Jh(A){var D=.5,W=.5;switch(A){case"right":case"top-right":case"bottom-right":D=1;break;case"left":case"top-left":case"bottom-left":D=0}switch(A){case"bottom":case"bottom-right":case"bottom-left":W=1;break;case"top":case"top-right":case"top-left":W=0}return{horizontalAlign:D,verticalAlign:W}}function Ov(A,D,W,le,Me){if(le||Me)for(var Pe=A[W],je=Pe.metrics.advance*Pe.scale,et=(A[W].x+je)*le,ct=D;ct<=W;ct++)A[ct].x-=et,A[ct].y+=Me}function Fd(A,D,W,le,Me,Pe){var je,et=A.image;if(et.content){var ct=et.content,wt=et.pixelRatio||1;je=[ct[0]/wt,ct[1]/wt,et.displaySize[0]-ct[2]/wt,et.displaySize[1]-ct[3]/wt]}var At,Nt,qt,Ut,sn=D.left*Pe,un=D.right*Pe;W==="width"||W==="both"?(Ut=Me[0]+sn-le[3],Nt=Me[0]+un+le[1]):Nt=(Ut=Me[0]+(sn+un-et.displaySize[0])/2)+et.displaySize[0];var En=D.top*Pe,Mn=D.bottom*Pe;return W==="height"||W==="both"?(At=Me[1]+En-le[0],qt=Me[1]+Mn+le[2]):qt=(At=Me[1]+(En+Mn-et.displaySize[1])/2)+et.displaySize[1],{image:et,top:At,right:Nt,bottom:qt,left:Ut,collisionPadding:je}}Wo[10]=!0,Wo[32]=!0,Wo[38]=!0,Wo[40]=!0,Wo[41]=!0,Wo[43]=!0,Wo[45]=!0,Wo[47]=!0,Wo[173]=!0,Wo[183]=!0,Wo[8203]=!0,Wo[8208]=!0,Wo[8211]=!0,Wo[8231]=!0;var ic=function(A){function D(W,le,Me,Pe){A.call(this,W,le),this.angle=Me,Pe!==void 0&&(this.segment=Pe)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.clone=function(){return new D(this.x,this.y,this.angle,this.segment)},D}(t);Sr("Anchor",ic);var xl=128;function Kh(A,D){var W=D.expression;if(W.kind==="constant")return{kind:"constant",layoutSize:W.evaluate(new ti(A+1))};if(W.kind==="source")return{kind:"source"};for(var le=W.zoomStops,Me=W.interpolationType,Pe=0;Pe<le.length&&le[Pe]<=A;)Pe++;for(var je=Pe=Math.max(0,Pe-1);je<le.length&&le[je]<A+1;)je++;je=Math.min(le.length-1,je);var et=le[Pe],ct=le[je];return W.kind==="composite"?{kind:"composite",minZoom:et,maxZoom:ct,interpolationType:Me}:{kind:"camera",minZoom:et,maxZoom:ct,minSize:W.evaluate(new ti(et)),maxSize:W.evaluate(new ti(ct)),interpolationType:Me}}function Bd(A,D,W){var le=D.uSize,Me=D.uSizeT,Pe=W.lowerSize,je=W.upperSize;return A.kind==="source"?Pe/xl:A.kind==="composite"?Gr(Pe/xl,je/xl,Me):le}function Nd(A,D){var W=0,le=0;if(A.kind==="constant")le=A.layoutSize;else if(A.kind!=="source"){var Me=A.interpolationType,Pe=A.minZoom,je=A.maxZoom,et=Me?u(ia.interpolationFactor(Me,D,Pe,je),0,1):0;A.kind==="camera"?le=Gr(A.minSize,A.maxSize,et):W=et}return{uSizeT:W,uSize:le}}var Pv=Object.freeze({__proto__:null,getSizeData:Kh,evaluateSizeForFeature:Bd,evaluateSizeForZoom:Nd,SIZE_PACK_FACTOR:xl});function jd(A,D,W,le,Me){if(D.segment===void 0)return!0;for(var Pe=D,je=D.segment+1,et=0;et>-W/2;){if(--je<0)return!1;et-=A[je].dist(Pe),Pe=A[je]}et+=A[je].dist(A[je+1]),je++;for(var ct=[],wt=0;et<W/2;){var At=A[je-1],Nt=A[je],qt=A[je+1];if(!qt)return!1;var Ut=At.angleTo(Nt)-Nt.angleTo(qt);for(Ut=Math.abs((Ut+3*Math.PI)%(2*Math.PI)-Math.PI),ct.push({distance:et,angleDelta:Ut}),wt+=Ut;et-ct[0].distance>le;)wt-=ct.shift().angleDelta;if(wt>Me)return!1;je++,et+=Nt.dist(qt)}return!0}function Ud(A){for(var D=0,W=0;W<A.length-1;W++)D+=A[W].dist(A[W+1]);return D}function Vd(A,D,W){return A?.6*D*W:0}function Hd(A,D){return Math.max(A?A.right-A.left:0,D?D.right-D.left:0)}function Iv(A,D,W,le,Me,Pe){for(var je=Vd(W,Me,Pe),et=Hd(W,le)*Pe,ct=0,wt=Ud(A)/2,At=0;At<A.length-1;At++){var Nt=A[At],qt=A[At+1],Ut=Nt.dist(qt);if(ct+Ut>wt){var sn=(wt-ct)/Ut,un=Gr(Nt.x,qt.x,sn),En=Gr(Nt.y,qt.y,sn),Mn=new ic(un,En,qt.angleTo(Nt),At);return Mn._round(),!je||jd(A,Mn,et,je,D)?Mn:void 0}ct+=Ut}}function Dv(A,D,W,le,Me,Pe,je,et,ct){var wt=Vd(le,Pe,je),At=Hd(le,Me),Nt=At*je,qt=A[0].x===0||A[0].x===ct||A[0].y===0||A[0].y===ct;return D-Nt<D/4&&(D=Nt+D/4),Gd(A,qt?D/2*et%D:(At/2+2*Pe)*je*et%D,D,wt,W,Nt,qt,!1,ct)}function Gd(A,D,W,le,Me,Pe,je,et,ct){for(var wt=Pe/2,At=Ud(A),Nt=0,qt=D-W,Ut=[],sn=0;sn<A.length-1;sn++){for(var un=A[sn],En=A[sn+1],Mn=un.dist(En),Nn=En.angleTo(un);qt+W<Nt+Mn;){var jn=((qt+=W)-Nt)/Mn,qn=Gr(un.x,En.x,jn),Jn=Gr(un.y,En.y,jn);if(qn>=0&&qn<ct&&Jn>=0&&Jn<ct&&qt-wt>=0&&qt+wt<=At){var nr=new ic(qn,Jn,Nn,sn);nr._round(),le&&!jd(A,nr,Pe,le,Me)||Ut.push(nr)}}Nt+=Mn}return et||Ut.length||je||(Ut=Gd(A,Nt/2,W,le,Me,Pe,je,!0,ct)),Ut}function qd(A,D,W,le,Me){for(var Pe=[],je=0;je<A.length;je++)for(var et=A[je],ct=void 0,wt=0;wt<et.length-1;wt++){var At=et[wt],Nt=et[wt+1];At.x<D&&Nt.x<D||(At.x<D?At=new t(D,At.y+(Nt.y-At.y)*((D-At.x)/(Nt.x-At.x)))._round():Nt.x<D&&(Nt=new t(D,At.y+(Nt.y-At.y)*((D-At.x)/(Nt.x-At.x)))._round()),At.y<W&&Nt.y<W||(At.y<W?At=new t(At.x+(Nt.x-At.x)*((W-At.y)/(Nt.y-At.y)),W)._round():Nt.y<W&&(Nt=new t(At.x+(Nt.x-At.x)*((W-At.y)/(Nt.y-At.y)),W)._round()),At.x>=le&&Nt.x>=le||(At.x>=le?At=new t(le,At.y+(Nt.y-At.y)*((le-At.x)/(Nt.x-At.x)))._round():Nt.x>=le&&(Nt=new t(le,At.y+(Nt.y-At.y)*((le-At.x)/(Nt.x-At.x)))._round()),At.y>=Me&&Nt.y>=Me||(At.y>=Me?At=new t(At.x+(Nt.x-At.x)*((Me-At.y)/(Nt.y-At.y)),Me)._round():Nt.y>=Me&&(Nt=new t(At.x+(Nt.x-At.x)*((Me-At.y)/(Nt.y-At.y)),Me)._round()),ct&&At.equals(ct[ct.length-1])||(ct=[At],Pe.push(ct)),ct.push(Nt)))))}return Pe}var ac=Yo;function Yd(A,D,W,le){var Me=[],Pe=A.image,je=Pe.pixelRatio,et=Pe.paddedRect.w-2*ac,ct=Pe.paddedRect.h-2*ac,wt=A.right-A.left,At=A.bottom-A.top,Nt=Pe.stretchX||[[0,et]],qt=Pe.stretchY||[[0,ct]],Ut=function(Ei,Vi){return Ei+Vi[1]-Vi[0]},sn=Nt.reduce(Ut,0),un=qt.reduce(Ut,0),En=et-sn,Mn=ct-un,Nn=0,jn=sn,qn=0,Jn=un,nr=0,yr=En,dr=0,kr=Mn;if(Pe.content&&le){var Ar=Pe.content;Nn=Bf(Nt,0,Ar[0]),qn=Bf(qt,0,Ar[1]),jn=Bf(Nt,Ar[0],Ar[2]),Jn=Bf(qt,Ar[1],Ar[3]),nr=Ar[0]-Nn,dr=Ar[1]-qn,yr=Ar[2]-Ar[0]-jn,kr=Ar[3]-Ar[1]-Jn}var qr=function(Ei,Vi,Yi,Wi){var Ri=Nf(Ei.stretch-Nn,jn,wt,A.left),Ta=jf(Ei.fixed-nr,yr,Ei.stretch,sn),$i=Nf(Vi.stretch-qn,Jn,At,A.top),za=jf(Vi.fixed-dr,kr,Vi.stretch,un),$a=Nf(Yi.stretch-Nn,jn,wt,A.left),Ha=jf(Yi.fixed-nr,yr,Yi.stretch,sn),_o=Nf(Wi.stretch-qn,Jn,At,A.top),Ga=jf(Wi.fixed-dr,kr,Wi.stretch,un),Sa=new t(Ri,$i),qa=new t($a,$i),Fa=new t($a,_o),Ea=new t(Ri,_o),Jr=new t(Ta/je,za/je),ci=new t(Ha/je,Ga/je),la=D*Math.PI/180;if(la){var Ii=Math.sin(la),na=Math.cos(la),Ji=[na,-Ii,Ii,na];Sa._matMult(Ji),qa._matMult(Ji),Ea._matMult(Ji),Fa._matMult(Ji)}var gi=Ei.stretch+Ei.fixed,ua=Yi.stretch+Yi.fixed,wo=Vi.stretch+Vi.fixed,Zo=Wi.stretch+Wi.fixed;return{tl:Sa,tr:qa,bl:Ea,br:Fa,tex:{x:Pe.paddedRect.x+ac+gi,y:Pe.paddedRect.y+ac+wo,w:ua-gi,h:Zo-wo},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Jr,pixelOffsetBR:ci,minFontScaleX:yr/je/wt,minFontScaleY:kr/je/At,isSDF:W}};if(le&&(Pe.stretchX||Pe.stretchY))for(var Rr=Wd(Nt,En,sn),Hr=Wd(qt,Mn,un),Br=0;Br<Rr.length-1;Br++)for(var Pr=Rr[Br],oi=Rr[Br+1],Xr=0;Xr<Hr.length-1;Xr++){var Di=Hr[Xr],Vr=Hr[Xr+1];Me.push(qr(Pr,Di,oi,Vr))}else Me.push(qr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:et+1},{fixed:0,stretch:ct+1}));return Me}function Bf(A,D,W){for(var le=0,Me=0,Pe=A;Me<Pe.length;Me+=1){var je=Pe[Me];le+=Math.max(D,Math.min(W,je[1]))-Math.max(D,Math.min(W,je[0]))}return le}function Wd(A,D,W){for(var le=[{fixed:-ac,stretch:0}],Me=0,Pe=A;Me<Pe.length;Me+=1){var je=Pe[Me],et=je[0],ct=je[1],wt=le[le.length-1];le.push({fixed:et-wt.stretch,stretch:wt.stretch}),le.push({fixed:et-wt.stretch,stretch:wt.stretch+(ct-et)})}return le.push({fixed:D+ac,stretch:W}),le}function Nf(A,D,W,le){return A/D*W+le}function jf(A,D,W,le){return A-D*W/le}var Uf=function(A,D,W,le,Me,Pe,je,et,ct,wt){if(this.boxStartIndex=A.length,ct){var At=Pe.top,Nt=Pe.bottom,qt=Pe.collisionPadding;qt&&(At-=qt[1],Nt+=qt[3]);var Ut=Nt-At;Ut>0&&(Ut=Math.max(10,Ut),this.circleDiameter=Ut)}else{var sn=Pe.top*je-et,un=Pe.bottom*je+et,En=Pe.left*je-et,Mn=Pe.right*je+et,Nn=Pe.collisionPadding;if(Nn&&(En-=Nn[0]*je,sn-=Nn[1]*je,Mn+=Nn[2]*je,un+=Nn[3]*je),wt){var jn=new t(En,sn),qn=new t(Mn,sn),Jn=new t(En,un),nr=new t(Mn,un),yr=wt*Math.PI/180;jn._rotate(yr),qn._rotate(yr),Jn._rotate(yr),nr._rotate(yr),En=Math.min(jn.x,qn.x,Jn.x,nr.x),Mn=Math.max(jn.x,qn.x,Jn.x,nr.x),sn=Math.min(jn.y,qn.y,Jn.y,nr.y),un=Math.max(jn.y,qn.y,Jn.y,nr.y)}A.emplaceBack(D.x,D.y,En,sn,Mn,un,W,le,Me)}this.boxEndIndex=A.length},oc=function(A,D){if(A===void 0&&(A=[]),D===void 0&&(D=Rv),this.data=A,this.length=this.data.length,this.compare=D,this.length>0)for(var W=(this.length>>1)-1;W>=0;W--)this._down(W)};function Rv(A,D){return A<D?-1:A>D?1:0}function zv(A,D,W){D===void 0&&(D=1),W===void 0&&(W=!1);for(var le=1/0,Me=1/0,Pe=-1/0,je=-1/0,et=A[0],ct=0;ct<et.length;ct++){var wt=et[ct];(!ct||wt.x<le)&&(le=wt.x),(!ct||wt.y<Me)&&(Me=wt.y),(!ct||wt.x>Pe)&&(Pe=wt.x),(!ct||wt.y>je)&&(je=wt.y)}var At=Pe-le,Nt=je-Me,qt=Math.min(At,Nt),Ut=qt/2,sn=new oc([],Fv);if(qt===0)return new t(le,Me);for(var un=le;un<Pe;un+=qt)for(var En=Me;En<je;En+=qt)sn.push(new sc(un+Ut,En+Ut,Ut,A));for(var Mn=function(qn){for(var Jn=0,nr=0,yr=0,dr=qn[0],kr=0,Ar=dr.length,qr=Ar-1;kr<Ar;qr=kr++){var Rr=dr[kr],Hr=dr[qr],Br=Rr.x*Hr.y-Hr.x*Rr.y;nr+=(Rr.x+Hr.x)*Br,yr+=(Rr.y+Hr.y)*Br,Jn+=3*Br}return new sc(nr/Jn,yr/Jn,0,qn)}(A),Nn=sn.length;sn.length;){var jn=sn.pop();(jn.d>Mn.d||!Mn.d)&&(Mn=jn,W&&console.log("found best %d after %d probes",Math.round(1e4*jn.d)/1e4,Nn)),jn.max-Mn.d<=D||(Ut=jn.h/2,sn.push(new sc(jn.p.x-Ut,jn.p.y-Ut,Ut,A)),sn.push(new sc(jn.p.x+Ut,jn.p.y-Ut,Ut,A)),sn.push(new sc(jn.p.x-Ut,jn.p.y+Ut,Ut,A)),sn.push(new sc(jn.p.x+Ut,jn.p.y+Ut,Ut,A)),Nn+=4)}return W&&(console.log("num probes: "+Nn),console.log("best distance: "+Mn.d)),Mn.p}function Fv(A,D){return D.max-A.max}function sc(A,D,W,le){this.p=new t(A,D),this.h=W,this.d=function(Me,Pe){for(var je=!1,et=1/0,ct=0;ct<Pe.length;ct++)for(var wt=Pe[ct],At=0,Nt=wt.length,qt=Nt-1;At<Nt;qt=At++){var Ut=wt[At],sn=wt[qt];Ut.y>Me.y!=sn.y>Me.y&&Me.x<(sn.x-Ut.x)*(Me.y-Ut.y)/(sn.y-Ut.y)+Ut.x&&(je=!je),et=Math.min(et,Tf(Me,Ut,sn))}return(je?1:-1)*Math.sqrt(et)}(this.p,le),this.max=this.d+this.h*Math.SQRT2}oc.prototype.push=function(A){this.data.push(A),this.length++,this._up(this.length-1)},oc.prototype.pop=function(){if(this.length!==0){var A=this.data[0],D=this.data.pop();return this.length--,this.length>0&&(this.data[0]=D,this._down(0)),A}},oc.prototype.peek=function(){return this.data[0]},oc.prototype._up=function(A){for(var D=this.data,W=this.compare,le=D[A];A>0;){var Me=A-1>>1,Pe=D[Me];if(W(le,Pe)>=0)break;D[A]=Pe,A=Me}D[A]=le},oc.prototype._down=function(A){for(var D=this.data,W=this.compare,le=this.length>>1,Me=D[A];A<le;){var Pe=1+(A<<1),je=D[Pe],et=Pe+1;if(et<this.length&&W(D[et],je)<0&&(Pe=et,je=D[et]),W(je,Me)>=0)break;D[A]=je,A=Pe}D[A]=Me};var lc=7,$h=Number.POSITIVE_INFINITY;function Zd(A,D){return D[1]!==$h?function(W,le,Me){var Pe=0,je=0;switch(le=Math.abs(le),Me=Math.abs(Me),W){case"top-right":case"top-left":case"top":je=Me-lc;break;case"bottom-right":case"bottom-left":case"bottom":je=-Me+lc}switch(W){case"top-right":case"bottom-right":case"right":Pe=-le;break;case"top-left":case"bottom-left":case"left":Pe=le}return[Pe,je]}(A,D[0],D[1]):function(W,le){var Me=0,Pe=0;le<0&&(le=0);var je=le/Math.sqrt(2);switch(W){case"top-right":case"top-left":Pe=je-lc;break;case"bottom-right":case"bottom-left":Pe=-je+lc;break;case"bottom":Pe=-le+lc;break;case"top":Pe=le-lc}switch(W){case"top-right":case"bottom-right":Me=-je;break;case"top-left":case"bottom-left":Me=je;break;case"left":Me=le;break;case"right":Me=-le}return[Me,Pe]}(A,D[0])}function Qh(A){switch(A){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var Gc=255,Tu=Gc*xl;function Xd(A,D,W,le,Me,Pe,je,et,ct,wt,At,Nt,qt,Ut,sn){var un=function(qn,Jn,nr,yr,dr,kr,Ar,qr){for(var Rr=yr.layout.get("text-rotate").evaluate(kr,{})*Math.PI/180,Hr=[],Br=0,Pr=Jn.positionedLines;Br<Pr.length;Br+=1)for(var oi=Pr[Br],Xr=0,Di=oi.positionedGlyphs;Xr<Di.length;Xr+=1){var Vr=Di[Xr];if(Vr.rect){var Ei=Vr.rect||{},Vi=Od+1,Yi=!0,Wi=1,Ri=0,Ta=(dr||qr)&&Vr.vertical,$i=Vr.metrics.advance*Vr.scale/2;if(qr&&Jn.verticalizable){var za=(Vr.scale-1)*Va,$a=(Va-Vr.metrics.width*Vr.scale)/2;Ri=oi.lineOffset/2-(Vr.imageName?-$a:za)}if(Vr.imageName){var Ha=Ar[Vr.imageName];Yi=Ha.sdf,Wi=Ha.pixelRatio,Vi=Yo/Wi}var _o=dr?[Vr.x+$i,Vr.y]:[0,0],Ga=dr?[0,0]:[Vr.x+$i+nr[0],Vr.y+nr[1]-Ri],Sa=[0,0];Ta&&(Sa=Ga,Ga=[0,0]);var qa=(Vr.metrics.left-Vi)*Vr.scale-$i+Ga[0],Fa=(-Vr.metrics.top-Vi)*Vr.scale+Ga[1],Ea=qa+Ei.w*Vr.scale/Wi,Jr=Fa+Ei.h*Vr.scale/Wi,ci=new t(qa,Fa),la=new t(Ea,Fa),Ii=new t(qa,Jr),na=new t(Ea,Jr);if(Ta){var Ji=new t(-$i,$i-Hc),gi=-Math.PI/2,ua=Va/2-$i,wo=Vr.imageName?ua:0,Zo=new t(5-Hc-ua,-wo),so=new(Function.prototype.bind.apply(t,[null].concat(Sa)));ci._rotateAround(gi,Ji)._add(Zo)._add(so),la._rotateAround(gi,Ji)._add(Zo)._add(so),Ii._rotateAround(gi,Ji)._add(Zo)._add(so),na._rotateAround(gi,Ji)._add(Zo)._add(so)}if(Rr){var bl=Math.sin(Rr),tu=Math.cos(Rr),Ba=[tu,-bl,bl,tu];ci._matMult(Ba),la._matMult(Ba),Ii._matMult(Ba),na._matMult(Ba)}var _l=new t(0,0),Ks=new t(0,0);Hr.push({tl:ci,tr:la,bl:Ii,br:na,tex:Ei,writingMode:Jn.writingMode,glyphOffset:_o,sectionIndex:Vr.sectionIndex,isSDF:Yi,pixelOffsetTL:_l,pixelOffsetBR:Ks,minFontScaleX:0,minFontScaleY:0})}}return Hr}(0,W,et,Me,Pe,je,le,A.allowVerticalPlacement),En=A.textSizeData,Mn=null;En.kind==="source"?(Mn=[xl*Me.layout.get("text-size").evaluate(je,{})])[0]>Tu&&E(A.layerIds[0]+': Value for "text-size" is >= '+Gc+'. Reduce your "text-size".'):En.kind==="composite"&&((Mn=[xl*Ut.compositeTextSizes[0].evaluate(je,{},sn),xl*Ut.compositeTextSizes[1].evaluate(je,{},sn)])[0]>Tu||Mn[1]>Tu)&&E(A.layerIds[0]+': Value for "text-size" is >= '+Gc+'. Reduce your "text-size".'),A.addSymbols(A.text,un,Mn,et,Pe,je,wt,D,ct.lineStartIndex,ct.lineLength,qt,sn);for(var Nn=0,jn=At;Nn<jn.length;Nn+=1)Nt[jn[Nn]]=A.text.placedSymbolArray.length-1;return 4*un.length}function Jd(A){for(var D in A)return A[D];return null}function Bv(A,D,W,le){var Me=A.compareText;if(D in Me){for(var Pe=Me[D],je=Pe.length-1;je>=0;je--)if(le.dist(Pe[je])<W)return!0}else Me[D]=[];return Me[D].push(le),!1}var Nv=ec.VectorTileFeature.types,jv=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Vf(A,D,W,le,Me,Pe,je,et,ct,wt,At,Nt,qt){var Ut=et?Math.min(Tu,Math.round(et[0])):0,sn=et?Math.min(Tu,Math.round(et[1])):0;A.emplaceBack(D,W,Math.round(32*le),Math.round(32*Me),Pe,je,(Ut<<1)+(ct?1:0),sn,16*wt,16*At,256*Nt,256*qt)}function ep(A,D,W){A.emplaceBack(D.x,D.y,W),A.emplaceBack(D.x,D.y,W),A.emplaceBack(D.x,D.y,W),A.emplaceBack(D.x,D.y,W)}function Uv(A){for(var D=0,W=A.sections;D<W.length;D+=1)if(Ma(W[D].text))return!0;return!1}var uc=function(A){this.layoutVertexArray=new Y,this.indexArray=new ve,this.programConfigurations=A,this.segments=new Gn,this.dynamicLayoutVertexArray=new G,this.opacityVertexArray=new L,this.placedSymbolArray=new It};uc.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},uc.prototype.upload=function(A,D,W,le){this.isEmpty()||(W&&(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,pv.members),this.indexBuffer=A.createIndexBuffer(this.indexArray,D),this.dynamicLayoutVertexBuffer=A.createVertexBuffer(this.dynamicLayoutVertexArray,dv.members,!0),this.opacityVertexBuffer=A.createVertexBuffer(this.opacityVertexArray,jv,!0),this.opacityVertexBuffer.itemSize=1),(W||le)&&this.programConfigurations.upload(A))},uc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Sr("SymbolBuffers",uc);var qc=function(A,D,W){this.layoutVertexArray=new A,this.layoutAttributes=D,this.indexArray=new W,this.segments=new Gn,this.collisionVertexArray=new ce};qc.prototype.upload=function(A){this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=A.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=A.createVertexBuffer(this.collisionVertexArray,gv.members,!0)},qc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Sr("CollisionBuffers",qc);var Si=function(A){this.collisionBoxArray=A.collisionBoxArray,this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(je){return je.id}),this.index=A.index,this.pixelRatio=A.pixelRatio,this.sourceLayerIndex=A.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=zh([]),this.placementViewportMatrix=zh([]);var D=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Kh(this.zoom,D["text-size"]),this.iconSizeData=Kh(this.zoom,D["icon-size"]);var W=this.layers[0].layout,le=W.get("symbol-sort-key"),Me=W.get("symbol-z-order");this.canOverlap=W.get("text-allow-overlap")||W.get("icon-allow-overlap")||W.get("text-ignore-placement")||W.get("icon-ignore-placement"),this.sortFeaturesByKey=Me!=="viewport-y"&&le.constantOr(1)!==void 0;var Pe=Me==="viewport-y"||Me==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Pe&&this.canOverlap,W.get("symbol-placement")==="point"&&(this.writingModes=W.get("text-writing-mode").map(function(je){return hs[je]})),this.stateDependentLayerIds=this.layers.filter(function(je){return je.isStateDependent()}).map(function(je){return je.id}),this.sourceID=A.sourceID};Si.prototype.createArrays=function(){this.text=new uc(new ta(this.layers,this.zoom,function(A){return/^text/.test(A)})),this.icon=new uc(new ta(this.layers,this.zoom,function(A){return/^icon/.test(A)})),this.glyphOffsetArray=new Ht,this.lineVertexArray=new mn,this.symbolInstances=new Yt},Si.prototype.calculateGlyphDependencies=function(A,D,W,le,Me){for(var Pe=0;Pe<A.length;Pe++)if(D[A.charCodeAt(Pe)]=!0,(W||le)&&Me){var je=jc[A.charAt(Pe)];je&&(D[je.charCodeAt(0)]=!0)}},Si.prototype.populate=function(A,D,W){var le=this.layers[0],Me=le.layout,Pe=Me.get("text-font"),je=Me.get("text-field"),et=Me.get("icon-image"),ct=(je.value.kind!=="constant"||je.value.value instanceof Hn&&!je.value.value.isEmpty()||je.value.value.toString().length>0)&&(Pe.value.kind!=="constant"||Pe.value.value.length>0),wt=et.value.kind!=="constant"||!!et.value.value||Object.keys(et.parameters).length>0,At=Me.get("symbol-sort-key");if(this.features=[],ct||wt){for(var Nt=D.iconDependencies,qt=D.glyphDependencies,Ut=D.availableImages,sn=new ti(this.zoom),un=0,En=A;un<En.length;un+=1){var Mn=En[un],Nn=Mn.feature,jn=Mn.id,qn=Mn.index,Jn=Mn.sourceLayerIndex,nr=le._featureFilter.needGeometry,yr=ji(Nn,nr);if(le._featureFilter.filter(sn,yr,W)){nr||(yr.geometry=qo(Nn));var dr=void 0;if(ct){var kr=le.getValueAndResolveTokens("text-field",yr,W,Ut),Ar=Hn.factory(kr);Uv(Ar)&&(this.hasRTLText=!0),(!this.hasRTLText||qs()==="unavailable"||this.hasRTLText&&Da.isParsed())&&(dr=mv(Ar,le,yr))}var qr=void 0;if(wt){var Rr=le.getValueAndResolveTokens("icon-image",yr,W,Ut);qr=Rr instanceof ar?Rr:ar.fromString(Rr)}if(dr||qr){var Hr=this.sortFeaturesByKey?At.evaluate(yr,{},W):void 0,Br={id:jn,text:dr,icon:qr,index:qn,sourceLayerIndex:Jn,geometry:yr.geometry,properties:Nn.properties,type:Nv[Nn.type],sortKey:Hr};if(this.features.push(Br),qr&&(Nt[qr.name]=!0),dr){var Pr=Pe.evaluate(yr,{},W).join(","),oi=Me.get("text-rotation-alignment")==="map"&&Me.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(hs.vertical)>=0;for(var Xr=0,Di=dr.sections;Xr<Di.length;Xr+=1){var Vr=Di[Xr];if(Vr.image)Nt[Vr.image.name]=!0;else{var Ei=pl(dr.toString()),Vi=Vr.fontStack||Pr,Yi=qt[Vi]=qt[Vi]||{};this.calculateGlyphDependencies(Vr.text,Yi,oi,this.allowVerticalPlacement,Ei)}}}}}}Me.get("symbol-placement")==="line"&&(this.features=function(Wi){var Ri={},Ta={},$i=[],za=0;function $a(na){$i.push(Wi[na]),za++}function Ha(na,Ji,gi){var ua=Ta[na];return delete Ta[na],Ta[Ji]=ua,$i[ua].geometry[0].pop(),$i[ua].geometry[0]=$i[ua].geometry[0].concat(gi[0]),ua}function _o(na,Ji,gi){var ua=Ri[Ji];return delete Ri[Ji],Ri[na]=ua,$i[ua].geometry[0].shift(),$i[ua].geometry[0]=gi[0].concat($i[ua].geometry[0]),ua}function Ga(na,Ji,gi){var ua=gi?Ji[0][Ji[0].length-1]:Ji[0][0];return na+":"+ua.x+":"+ua.y}for(var Sa=0;Sa<Wi.length;Sa++){var qa=Wi[Sa],Fa=qa.geometry,Ea=qa.text?qa.text.toString():null;if(Ea){var Jr=Ga(Ea,Fa),ci=Ga(Ea,Fa,!0);if(Jr in Ta&&ci in Ri&&Ta[Jr]!==Ri[ci]){var la=_o(Jr,ci,Fa),Ii=Ha(Jr,ci,$i[la].geometry);delete Ri[Jr],delete Ta[ci],Ta[Ga(Ea,$i[Ii].geometry,!0)]=Ii,$i[la].geometry=null}else Jr in Ta?Ha(Jr,ci,Fa):ci in Ri?_o(Jr,ci,Fa):($a(Sa),Ri[Jr]=za-1,Ta[ci]=za-1)}else $a(Sa)}return $i.filter(function(na){return na.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Wi,Ri){return Wi.sortKey-Ri.sortKey})}},Si.prototype.update=function(A,D,W){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(A,D,this.layers,W),this.icon.programConfigurations.updatePaintArrays(A,D,this.layers,W))},Si.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Si.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Si.prototype.upload=function(A){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(A),this.iconCollisionBox.upload(A)),this.text.upload(A,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(A,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Si.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Si.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Si.prototype.addToLineVertexArray=function(A,D){var W=this.lineVertexArray.length;if(A.segment!==void 0){for(var le=A.dist(D[A.segment+1]),Me=A.dist(D[A.segment]),Pe={},je=A.segment+1;je<D.length;je++)Pe[je]={x:D[je].x,y:D[je].y,tileUnitDistanceFromAnchor:le},je<D.length-1&&(le+=D[je+1].dist(D[je]));for(var et=A.segment||0;et>=0;et--)Pe[et]={x:D[et].x,y:D[et].y,tileUnitDistanceFromAnchor:Me},et>0&&(Me+=D[et-1].dist(D[et]));for(var ct=0;ct<D.length;ct++){var wt=Pe[ct];this.lineVertexArray.emplaceBack(wt.x,wt.y,wt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:W,lineLength:this.lineVertexArray.length-W}},Si.prototype.addSymbols=function(A,D,W,le,Me,Pe,je,et,ct,wt,At,Nt){for(var qt=A.indexArray,Ut=A.layoutVertexArray,sn=A.segments.prepareSegment(4*D.length,Ut,qt,this.canOverlap?Pe.sortKey:void 0),un=this.glyphOffsetArray.length,En=sn.vertexLength,Mn=this.allowVerticalPlacement&&je===hs.vertical?Math.PI/2:0,Nn=Pe.text&&Pe.text.sections,jn=0;jn<D.length;jn++){var qn=D[jn],Jn=qn.tl,nr=qn.tr,yr=qn.bl,dr=qn.br,kr=qn.tex,Ar=qn.pixelOffsetTL,qr=qn.pixelOffsetBR,Rr=qn.minFontScaleX,Hr=qn.minFontScaleY,Br=qn.glyphOffset,Pr=qn.isSDF,oi=qn.sectionIndex,Xr=sn.vertexLength,Di=Br[1];Vf(Ut,et.x,et.y,Jn.x,Di+Jn.y,kr.x,kr.y,W,Pr,Ar.x,Ar.y,Rr,Hr),Vf(Ut,et.x,et.y,nr.x,Di+nr.y,kr.x+kr.w,kr.y,W,Pr,qr.x,Ar.y,Rr,Hr),Vf(Ut,et.x,et.y,yr.x,Di+yr.y,kr.x,kr.y+kr.h,W,Pr,Ar.x,qr.y,Rr,Hr),Vf(Ut,et.x,et.y,dr.x,Di+dr.y,kr.x+kr.w,kr.y+kr.h,W,Pr,qr.x,qr.y,Rr,Hr),ep(A.dynamicLayoutVertexArray,et,Mn),qt.emplaceBack(Xr,Xr+1,Xr+2),qt.emplaceBack(Xr+1,Xr+2,Xr+3),sn.vertexLength+=4,sn.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Br[0]),jn!==D.length-1&&oi===D[jn+1].sectionIndex||A.programConfigurations.populatePaintArrays(Ut.length,Pe,Pe.index,{},Nt,Nn&&Nn[oi])}A.placedSymbolArray.emplaceBack(et.x,et.y,un,this.glyphOffsetArray.length-un,En,ct,wt,et.segment,W?W[0]:0,W?W[1]:0,le[0],le[1],je,0,!1,0,At)},Si.prototype._addCollisionDebugVertex=function(A,D,W,le,Me,Pe){return D.emplaceBack(0,0),A.emplaceBack(W.x,W.y,le,Me,Math.round(Pe.x),Math.round(Pe.y))},Si.prototype.addCollisionDebugVertices=function(A,D,W,le,Me,Pe,je){var et=Me.segments.prepareSegment(4,Me.layoutVertexArray,Me.indexArray),ct=et.vertexLength,wt=Me.layoutVertexArray,At=Me.collisionVertexArray,Nt=je.anchorX,qt=je.anchorY;this._addCollisionDebugVertex(wt,At,Pe,Nt,qt,new t(A,D)),this._addCollisionDebugVertex(wt,At,Pe,Nt,qt,new t(W,D)),this._addCollisionDebugVertex(wt,At,Pe,Nt,qt,new t(W,le)),this._addCollisionDebugVertex(wt,At,Pe,Nt,qt,new t(A,le)),et.vertexLength+=4;var Ut=Me.indexArray;Ut.emplaceBack(ct,ct+1),Ut.emplaceBack(ct+1,ct+2),Ut.emplaceBack(ct+2,ct+3),Ut.emplaceBack(ct+3,ct),et.primitiveLength+=4},Si.prototype.addDebugCollisionBoxes=function(A,D,W,le){for(var Me=A;Me<D;Me++){var Pe=this.collisionBoxArray.get(Me),je=Pe.x1,et=Pe.y1,ct=Pe.x2,wt=Pe.y2;this.addCollisionDebugVertices(je,et,ct,wt,le?this.textCollisionBox:this.iconCollisionBox,Pe.anchorPoint,W)}},Si.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new qc($,kd.members,pt),this.iconCollisionBox=new qc($,kd.members,pt);for(var A=0;A<this.symbolInstances.length;A++){var D=this.symbolInstances.get(A);this.addDebugCollisionBoxes(D.textBoxStartIndex,D.textBoxEndIndex,D,!0),this.addDebugCollisionBoxes(D.verticalTextBoxStartIndex,D.verticalTextBoxEndIndex,D,!0),this.addDebugCollisionBoxes(D.iconBoxStartIndex,D.iconBoxEndIndex,D,!1),this.addDebugCollisionBoxes(D.verticalIconBoxStartIndex,D.verticalIconBoxEndIndex,D,!1)}},Si.prototype._deserializeCollisionBoxesForSymbol=function(A,D,W,le,Me,Pe,je,et,ct){for(var wt={},At=D;At<W;At++){var Nt=A.get(At);wt.textBox={x1:Nt.x1,y1:Nt.y1,x2:Nt.x2,y2:Nt.y2,anchorPointX:Nt.anchorPointX,anchorPointY:Nt.anchorPointY},wt.textFeatureIndex=Nt.featureIndex;break}for(var qt=le;qt<Me;qt++){var Ut=A.get(qt);wt.verticalTextBox={x1:Ut.x1,y1:Ut.y1,x2:Ut.x2,y2:Ut.y2,anchorPointX:Ut.anchorPointX,anchorPointY:Ut.anchorPointY},wt.verticalTextFeatureIndex=Ut.featureIndex;break}for(var sn=Pe;sn<je;sn++){var un=A.get(sn);wt.iconBox={x1:un.x1,y1:un.y1,x2:un.x2,y2:un.y2,anchorPointX:un.anchorPointX,anchorPointY:un.anchorPointY},wt.iconFeatureIndex=un.featureIndex;break}for(var En=et;En<ct;En++){var Mn=A.get(En);wt.verticalIconBox={x1:Mn.x1,y1:Mn.y1,x2:Mn.x2,y2:Mn.y2,anchorPointX:Mn.anchorPointX,anchorPointY:Mn.anchorPointY},wt.verticalIconFeatureIndex=Mn.featureIndex;break}return wt},Si.prototype.deserializeCollisionBoxes=function(A){this.collisionArrays=[];for(var D=0;D<this.symbolInstances.length;D++){var W=this.symbolInstances.get(D);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(A,W.textBoxStartIndex,W.textBoxEndIndex,W.verticalTextBoxStartIndex,W.verticalTextBoxEndIndex,W.iconBoxStartIndex,W.iconBoxEndIndex,W.verticalIconBoxStartIndex,W.verticalIconBoxEndIndex))}},Si.prototype.hasTextData=function(){return this.text.segments.get().length>0},Si.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Si.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Si.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Si.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Si.prototype.addIndicesForPlacedSymbol=function(A,D){for(var W=A.placedSymbolArray.get(D),le=W.vertexStartIndex+4*W.numGlyphs,Me=W.vertexStartIndex;Me<le;Me+=4)A.indexArray.emplaceBack(Me,Me+1,Me+2),A.indexArray.emplaceBack(Me+1,Me+2,Me+3)},Si.prototype.getSortedSymbolIndexes=function(A){if(this.sortedAngle===A&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var D=Math.sin(A),W=Math.cos(A),le=[],Me=[],Pe=[],je=0;je<this.symbolInstances.length;++je){Pe.push(je);var et=this.symbolInstances.get(je);le.push(0|Math.round(D*et.anchorX+W*et.anchorY)),Me.push(et.featureIndex)}return Pe.sort(function(ct,wt){return le[ct]-le[wt]||Me[wt]-Me[ct]}),Pe},Si.prototype.addToSortKeyRanges=function(A,D){var W=this.sortKeyRanges[this.sortKeyRanges.length-1];W&&W.sortKey===D?W.symbolInstanceEnd=A+1:this.sortKeyRanges.push({sortKey:D,symbolInstanceStart:A,symbolInstanceEnd:A+1})},Si.prototype.sortFeatures=function(A){var D=this;if(this.sortFeaturesByY&&this.sortedAngle!==A&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(A),this.sortedAngle=A,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var W=0,le=this.symbolInstanceIndexes;W<le.length;W+=1){var Me=le[W],Pe=this.symbolInstances.get(Me);this.featureSortOrder.push(Pe.featureIndex),[Pe.rightJustifiedTextSymbolIndex,Pe.centerJustifiedTextSymbolIndex,Pe.leftJustifiedTextSymbolIndex].forEach(function(je,et,ct){je>=0&&ct.indexOf(je)===et&&D.addIndicesForPlacedSymbol(D.text,je)}),Pe.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Pe.verticalPlacedTextSymbolIndex),Pe.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Pe.placedIconSymbolIndex),Pe.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Pe.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Sr("SymbolBucket",Si,{omit:["layers","collisionBoxArray","features","compareText"]}),Si.MAX_GLYPHS=65535,Si.addDynamicAttributes=ep;var Vv=new Zi({"symbol-placement":new Cr($e.layout_symbol["symbol-placement"]),"symbol-spacing":new Cr($e.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Cr($e.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new jr($e.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Cr($e.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Cr($e.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Cr($e.layout_symbol["icon-ignore-placement"]),"icon-optional":new Cr($e.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Cr($e.layout_symbol["icon-rotation-alignment"]),"icon-size":new jr($e.layout_symbol["icon-size"]),"icon-text-fit":new Cr($e.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Cr($e.layout_symbol["icon-text-fit-padding"]),"icon-image":new jr($e.layout_symbol["icon-image"]),"icon-rotate":new jr($e.layout_symbol["icon-rotate"]),"icon-padding":new Cr($e.layout_symbol["icon-padding"]),"icon-keep-upright":new Cr($e.layout_symbol["icon-keep-upright"]),"icon-offset":new jr($e.layout_symbol["icon-offset"]),"icon-anchor":new jr($e.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Cr($e.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Cr($e.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Cr($e.layout_symbol["text-rotation-alignment"]),"text-field":new jr($e.layout_symbol["text-field"]),"text-font":new jr($e.layout_symbol["text-font"]),"text-size":new jr($e.layout_symbol["text-size"]),"text-max-width":new jr($e.layout_symbol["text-max-width"]),"text-line-height":new Cr($e.layout_symbol["text-line-height"]),"text-letter-spacing":new jr($e.layout_symbol["text-letter-spacing"]),"text-justify":new jr($e.layout_symbol["text-justify"]),"text-radial-offset":new jr($e.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Cr($e.layout_symbol["text-variable-anchor"]),"text-anchor":new jr($e.layout_symbol["text-anchor"]),"text-max-angle":new Cr($e.layout_symbol["text-max-angle"]),"text-writing-mode":new Cr($e.layout_symbol["text-writing-mode"]),"text-rotate":new jr($e.layout_symbol["text-rotate"]),"text-padding":new Cr($e.layout_symbol["text-padding"]),"text-keep-upright":new Cr($e.layout_symbol["text-keep-upright"]),"text-transform":new jr($e.layout_symbol["text-transform"]),"text-offset":new jr($e.layout_symbol["text-offset"]),"text-allow-overlap":new Cr($e.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Cr($e.layout_symbol["text-ignore-placement"]),"text-optional":new Cr($e.layout_symbol["text-optional"])}),tp={paint:new Zi({"icon-opacity":new jr($e.paint_symbol["icon-opacity"]),"icon-color":new jr($e.paint_symbol["icon-color"]),"icon-halo-color":new jr($e.paint_symbol["icon-halo-color"]),"icon-halo-width":new jr($e.paint_symbol["icon-halo-width"]),"icon-halo-blur":new jr($e.paint_symbol["icon-halo-blur"]),"icon-translate":new Cr($e.paint_symbol["icon-translate"]),"icon-translate-anchor":new Cr($e.paint_symbol["icon-translate-anchor"]),"text-opacity":new jr($e.paint_symbol["text-opacity"]),"text-color":new jr($e.paint_symbol["text-color"],{runtimeType:an,getOverride:function(A){return A.textColor},hasOverride:function(A){return!!A.textColor}}),"text-halo-color":new jr($e.paint_symbol["text-halo-color"]),"text-halo-width":new jr($e.paint_symbol["text-halo-width"]),"text-halo-blur":new jr($e.paint_symbol["text-halo-blur"]),"text-translate":new Cr($e.paint_symbol["text-translate"]),"text-translate-anchor":new Cr($e.paint_symbol["text-translate-anchor"])}),layout:Vv},cc=function(A){this.type=A.property.overrides?A.property.overrides.runtimeType:Ct,this.defaultValue=A};cc.prototype.evaluate=function(A){if(A.formattedSection){var D=this.defaultValue.property.overrides;if(D&&D.hasOverride(A.formattedSection))return D.getOverride(A.formattedSection)}return A.feature&&A.featureState?this.defaultValue.evaluate(A.feature,A.featureState):this.defaultValue.property.specification.default},cc.prototype.eachChild=function(A){this.defaultValue.isConstant()||A(this.defaultValue.value._styleExpression.expression)},cc.prototype.outputDefined=function(){return!1},cc.prototype.serialize=function(){return null},Sr("FormatSectionOverride",cc,{omit:["defaultValue"]});var Hv=function(A){function D(W){A.call(this,W,tp)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(W,le){if(A.prototype.recalculate.call(this,W,le),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Me=this.layout.get("text-writing-mode");if(Me){for(var Pe=[],je=0,et=Me;je<et.length;je+=1){var ct=et[je];Pe.indexOf(ct)<0&&Pe.push(ct)}this.layout._values["text-writing-mode"]=Pe}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},D.prototype.getValueAndResolveTokens=function(W,le,Me,Pe){var je=this.layout.get(W).evaluate(le,{},Me,Pe),et=this._unevaluatedLayout._values[W];return et.isDataDriven()||ws(et.value)||!je?je:function(ct,wt){return wt.replace(/{([^{}]+)}/g,function(At,Nt){return Nt in ct?String(ct[Nt]):""})}(le.properties,je)},D.prototype.createBucket=function(W){return new Si(W)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype._setPaintOverrides=function(){for(var W=0,le=tp.paint.overridableProperties;W<le.length;W+=1){var Me=le[W];if(D.hasPaintOverride(this.layout,Me)){var Pe,je=this.paint.get(Me),et=new cc(je),ct=new ts(et,je.property.specification);Pe=je.value.kind==="constant"||je.value.kind==="source"?new ho("source",ct):new js("composite",ct,je.value.zoomStops,je.value._interpolationType),this.paint._values[Me]=new Mi(je.property,Pe,je.parameters)}}},D.prototype._handleOverridablePaintPropertyUpdate=function(W,le,Me){return!(!this.layout||le.isDataDriven()||Me.isDataDriven())&&D.hasPaintOverride(this.layout,W)},D.hasPaintOverride=function(W,le){var Me=W.get("text-field"),Pe=tp.paint.properties[le],je=!1,et=function(At){for(var Nt=0,qt=At;Nt<qt.length;Nt+=1){var Ut=qt[Nt];if(Pe.overrides&&Pe.overrides.hasOverride(Ut))return void(je=!0)}};if(Me.value.kind==="constant"&&Me.value.value instanceof Hn)et(Me.value.value.sections);else if(Me.value.kind==="source"){var ct=function(At){if(!je)if(At instanceof Gt&&Xn(At.value)===Sn){var Nt=At.value;et(Nt.sections)}else At instanceof On?et(At.sections):At.eachChild(ct)},wt=Me.value;wt._styleExpression&&ct(wt._styleExpression.expression)}return je},D}(di),Gv={paint:new Zi({"background-color":new Cr($e.paint_background["background-color"]),"background-pattern":new Oo($e.paint_background["background-pattern"]),"background-opacity":new Cr($e.paint_background["background-opacity"])})},qv=function(A){function D(W){A.call(this,W,Gv)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D}(di),Yv={paint:new Zi({"raster-opacity":new Cr($e.paint_raster["raster-opacity"]),"raster-hue-rotate":new Cr($e.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Cr($e.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Cr($e.paint_raster["raster-brightness-max"]),"raster-saturation":new Cr($e.paint_raster["raster-saturation"]),"raster-contrast":new Cr($e.paint_raster["raster-contrast"]),"raster-resampling":new Cr($e.paint_raster["raster-resampling"]),"raster-fade-duration":new Cr($e.paint_raster["raster-fade-duration"])})},Wv=function(A){function D(W){A.call(this,W,Yv)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D}(di),Zv=function(A){function D(W){A.call(this,W,{}),this.implementation=W}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},D.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},D.prototype.recalculate=function(){},D.prototype.updateTransitions=function(){},D.prototype.hasTransition=function(){},D.prototype.serialize=function(){},D.prototype.onAdd=function(W){this.implementation.onAdd&&this.implementation.onAdd(W,W.painter.context.gl)},D.prototype.onRemove=function(W){this.implementation.onRemove&&this.implementation.onRemove(W,W.painter.context.gl)},D}(di),Xv={circle:Lg,heatmap:Og,hillshade:Ig,fill:Jg,"fill-extrusion":av,line:hv,symbol:Hv,background:qv,raster:Wv},Kd=n.HTMLImageElement,$d=n.HTMLCanvasElement,Qd=n.HTMLVideoElement,e0=n.ImageData,Hf=n.ImageBitmap,Bu=function(A,D,W,le){this.context=A,this.format=W,this.texture=A.gl.createTexture(),this.update(D,le)};Bu.prototype.update=function(A,D,W){var le=A.width,Me=A.height,Pe=!(this.size&&this.size[0]===le&&this.size[1]===Me||W),je=this.context,et=je.gl;if(this.useMipmap=!!(D&&D.useMipmap),et.bindTexture(et.TEXTURE_2D,this.texture),je.pixelStoreUnpackFlipY.set(!1),je.pixelStoreUnpack.set(1),je.pixelStoreUnpackPremultiplyAlpha.set(this.format===et.RGBA&&(!D||D.premultiply!==!1)),Pe)this.size=[le,Me],A instanceof Kd||A instanceof $d||A instanceof Qd||A instanceof e0||Hf&&A instanceof Hf?et.texImage2D(et.TEXTURE_2D,0,this.format,this.format,et.UNSIGNED_BYTE,A):et.texImage2D(et.TEXTURE_2D,0,this.format,le,Me,0,this.format,et.UNSIGNED_BYTE,A.data);else{var ct=W||{x:0,y:0},wt=ct.x,At=ct.y;A instanceof Kd||A instanceof $d||A instanceof Qd||A instanceof e0||Hf&&A instanceof Hf?et.texSubImage2D(et.TEXTURE_2D,0,wt,At,et.RGBA,et.UNSIGNED_BYTE,A):et.texSubImage2D(et.TEXTURE_2D,0,wt,At,le,Me,et.RGBA,et.UNSIGNED_BYTE,A.data)}this.useMipmap&&this.isSizePowerOfTwo()&&et.generateMipmap(et.TEXTURE_2D)},Bu.prototype.bind=function(A,D,W){var le=this.context.gl;le.bindTexture(le.TEXTURE_2D,this.texture),W!==le.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(W=le.LINEAR),A!==this.filter&&(le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MAG_FILTER,A),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MIN_FILTER,W||A),this.filter=A),D!==this.wrap&&(le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_S,D),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_T,D),this.wrap=D)},Bu.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Bu.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var np=function(A){var D=this;this._callback=A,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){D._triggered=!1,D._callback()})};np.prototype.trigger=function(){var A=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){A._triggered=!1,A._callback()},0))},np.prototype.remove=function(){delete this._channel,this._callback=function(){}};var fc=function(A,D,W){this.target=A,this.parent=D,this.mapId=W,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},y(["receive","process"],this),this.invoker=new np(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=I()?A:n};function t0(A,D,W){var le=2*Math.PI*6378137/256/Math.pow(2,W);return[A*le-2*Math.PI*6378137/2,D*le-2*Math.PI*6378137/2]}fc.prototype.send=function(A,D,W,le,Me){var Pe=this;Me===void 0&&(Me=!1);var je=Math.round(1e18*Math.random()).toString(36).substring(0,10);W&&(this.callbacks[je]=W);var et=R(this.globalScope)?void 0:[];return this.target.postMessage({id:je,type:A,hasCallback:!!W,targetMapId:le,mustQueue:Me,sourceMapId:this.mapId,data:ss(D,et)},et),{cancel:function(){W&&delete Pe.callbacks[je],Pe.target.postMessage({id:je,type:"<cancel>",targetMapId:le,sourceMapId:Pe.mapId})}}},fc.prototype.receive=function(A){var D=A.data,W=D.id;if(W&&(!D.targetMapId||this.mapId===D.targetMapId))if(D.type==="<cancel>"){delete this.tasks[W];var le=this.cancelCallbacks[W];delete this.cancelCallbacks[W],le&&le()}else I()||D.mustQueue?(this.tasks[W]=D,this.taskQueue.push(W),this.invoker.trigger()):this.processTask(W,D)},fc.prototype.process=function(){if(this.taskQueue.length){var A=this.taskQueue.shift(),D=this.tasks[A];delete this.tasks[A],this.taskQueue.length&&this.invoker.trigger(),D&&this.processTask(A,D)}},fc.prototype.processTask=function(A,D){var W=this;if(D.type==="<response>"){var le=this.callbacks[A];delete this.callbacks[A],le&&(D.error?le(Es(D.error)):le(null,Es(D.data)))}else{var Me=!1,Pe=R(this.globalScope)?void 0:[],je=D.hasCallback?function(At,Nt){Me=!0,delete W.cancelCallbacks[A],W.target.postMessage({id:A,type:"<response>",sourceMapId:W.mapId,error:At?ss(At):null,data:ss(Nt,Pe)},Pe)}:function(At){Me=!0},et=null,ct=Es(D.data);if(this.parent[D.type])et=this.parent[D.type](D.sourceMapId,ct,je);else if(this.parent.getWorkerSource){var wt=D.type.split(".");et=this.parent.getWorkerSource(D.sourceMapId,wt[0],ct.source)[wt[1]](ct,je)}else je(new Error("Could not find function "+D.type));!Me&&et&&et.cancel&&(this.cancelCallbacks[A]=et.cancel)}},fc.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var _a=function(A,D){A&&(D?this.setSouthWest(A).setNorthEast(D):A.length===4?this.setSouthWest([A[0],A[1]]).setNorthEast([A[2],A[3]]):this.setSouthWest(A[0]).setNorthEast(A[1]))};_a.prototype.setNorthEast=function(A){return this._ne=A instanceof Xi?new Xi(A.lng,A.lat):Xi.convert(A),this},_a.prototype.setSouthWest=function(A){return this._sw=A instanceof Xi?new Xi(A.lng,A.lat):Xi.convert(A),this},_a.prototype.extend=function(A){var D,W,le=this._sw,Me=this._ne;if(A instanceof Xi)D=A,W=A;else{if(!(A instanceof _a)){if(Array.isArray(A)){if(A.length===4||A.every(Array.isArray)){var Pe=A;return this.extend(_a.convert(Pe))}var je=A;return this.extend(Xi.convert(je))}return this}if(D=A._sw,W=A._ne,!D||!W)return this}return le||Me?(le.lng=Math.min(D.lng,le.lng),le.lat=Math.min(D.lat,le.lat),Me.lng=Math.max(W.lng,Me.lng),Me.lat=Math.max(W.lat,Me.lat)):(this._sw=new Xi(D.lng,D.lat),this._ne=new Xi(W.lng,W.lat)),this},_a.prototype.getCenter=function(){return new Xi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},_a.prototype.getSouthWest=function(){return this._sw},_a.prototype.getNorthEast=function(){return this._ne},_a.prototype.getNorthWest=function(){return new Xi(this.getWest(),this.getNorth())},_a.prototype.getSouthEast=function(){return new Xi(this.getEast(),this.getSouth())},_a.prototype.getWest=function(){return this._sw.lng},_a.prototype.getSouth=function(){return this._sw.lat},_a.prototype.getEast=function(){return this._ne.lng},_a.prototype.getNorth=function(){return this._ne.lat},_a.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},_a.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},_a.prototype.isEmpty=function(){return!(this._sw&&this._ne)},_a.prototype.contains=function(A){var D=Xi.convert(A),W=D.lng,le=D.lat,Me=this._sw.lat<=le&&le<=this._ne.lat,Pe=this._sw.lng<=W&&W<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Pe=this._sw.lng>=W&&W>=this._ne.lng),Me&&Pe},_a.convert=function(A){return!A||A instanceof _a?A:new _a(A)};var n0=63710088e-1,Xi=function(A,D){if(isNaN(A)||isNaN(D))throw new Error("Invalid LngLat object: ("+A+", "+D+")");if(this.lng=+A,this.lat=+D,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Xi.prototype.wrap=function(){return new Xi(p(this.lng,-180,180),this.lat)},Xi.prototype.toArray=function(){return[this.lng,this.lat]},Xi.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Xi.prototype.distanceTo=function(A){var D=Math.PI/180,W=this.lat*D,le=A.lat*D,Me=Math.sin(W)*Math.sin(le)+Math.cos(W)*Math.cos(le)*Math.cos((A.lng-this.lng)*D);return n0*Math.acos(Math.min(Me,1))},Xi.prototype.toBounds=function(A){A===void 0&&(A=0);var D=360*A/40075017,W=D/Math.cos(Math.PI/180*this.lat);return new _a(new Xi(this.lng-W,this.lat-D),new Xi(this.lng+W,this.lat+D))},Xi.convert=function(A){if(A instanceof Xi)return A;if(Array.isArray(A)&&(A.length===2||A.length===3))return new Xi(Number(A[0]),Number(A[1]));if(!Array.isArray(A)&&typeof A=="object"&&A!==null)return new Xi(Number("lng"in A?A.lng:A.lon),Number(A.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var r0=2*Math.PI*n0;function i0(A){return r0*Math.cos(A*Math.PI/180)}function a0(A){return(180+A)/360}function o0(A){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+A*Math.PI/360)))/360}function s0(A,D){return A/i0(D)}function rp(A){var D=180-360*A;return 360/Math.PI*Math.atan(Math.exp(D*Math.PI/180))-90}var Nu=function(A,D,W){W===void 0&&(W=0),this.x=+A,this.y=+D,this.z=+W};Nu.fromLngLat=function(A,D){D===void 0&&(D=0);var W=Xi.convert(A);return new Nu(a0(W.lng),o0(W.lat),s0(D,W.lat))},Nu.prototype.toLngLat=function(){return new Xi(360*this.x-180,rp(this.y))},Nu.prototype.toAltitude=function(){return A=this.z,D=this.y,A*i0(rp(D));var A,D},Nu.prototype.meterInMercatorCoordinateUnits=function(){return 1/r0*(A=rp(this.y),1/Math.cos(A*Math.PI/180));var A};var ju=function(A,D,W){this.z=A,this.x=D,this.y=W,this.key=Yc(0,A,A,D,W)};ju.prototype.equals=function(A){return this.z===A.z&&this.x===A.x&&this.y===A.y},ju.prototype.url=function(A,D){var W,le,Me,Pe,je,et=(W=this.x,le=this.y,Me=this.z,Pe=t0(256*W,256*(le=Math.pow(2,Me)-le-1),Me),je=t0(256*(W+1),256*(le+1),Me),Pe[0]+","+Pe[1]+","+je[0]+","+je[1]),ct=function(wt,At,Nt){for(var qt,Ut="",sn=wt;sn>0;sn--)Ut+=(At&(qt=1<<sn-1)?1:0)+(Nt&qt?2:0);return Ut}(this.z,this.x,this.y);return A[(this.x+this.y)%A.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(D==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ct).replace("{bbox-epsg-3857}",et)},ju.prototype.getTilePoint=function(A){var D=Math.pow(2,this.z);return new t((A.x*D-this.x)*ui,(A.y*D-this.y)*ui)},ju.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var l0=function(A,D){this.wrap=A,this.canonical=D,this.key=Yc(A,D.z,D.z,D.x,D.y)},wa=function(A,D,W,le,Me){this.overscaledZ=A,this.wrap=D,this.canonical=new ju(W,+le,+Me),this.key=Yc(D,A,W,le,Me)};function Yc(A,D,W,le,Me){(A*=2)<0&&(A=-1*A-1);var Pe=1<<W;return(Pe*Pe*A+Pe*Me+le).toString(36)+W.toString(36)+D.toString(36)}wa.prototype.equals=function(A){return this.overscaledZ===A.overscaledZ&&this.wrap===A.wrap&&this.canonical.equals(A.canonical)},wa.prototype.scaledTo=function(A){var D=this.canonical.z-A;return A>this.canonical.z?new wa(A,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new wa(A,this.wrap,A,this.canonical.x>>D,this.canonical.y>>D)},wa.prototype.calculateScaledKey=function(A,D){var W=this.canonical.z-A;return A>this.canonical.z?Yc(this.wrap*+D,A,this.canonical.z,this.canonical.x,this.canonical.y):Yc(this.wrap*+D,A,A,this.canonical.x>>W,this.canonical.y>>W)},wa.prototype.isChildOf=function(A){if(A.wrap!==this.wrap)return!1;var D=this.canonical.z-A.canonical.z;return A.overscaledZ===0||A.overscaledZ<this.overscaledZ&&A.canonical.x===this.canonical.x>>D&&A.canonical.y===this.canonical.y>>D},wa.prototype.children=function(A){if(this.overscaledZ>=A)return[new wa(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var D=this.canonical.z+1,W=2*this.canonical.x,le=2*this.canonical.y;return[new wa(D,this.wrap,D,W,le),new wa(D,this.wrap,D,W+1,le),new wa(D,this.wrap,D,W,le+1),new wa(D,this.wrap,D,W+1,le+1)]},wa.prototype.isLessThan=function(A){return this.wrap<A.wrap||!(this.wrap>A.wrap)&&(this.overscaledZ<A.overscaledZ||!(this.overscaledZ>A.overscaledZ)&&(this.canonical.x<A.canonical.x||!(this.canonical.x>A.canonical.x)&&this.canonical.y<A.canonical.y))},wa.prototype.wrapped=function(){return new wa(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},wa.prototype.unwrapTo=function(A){return new wa(this.overscaledZ,A,this.canonical.z,this.canonical.x,this.canonical.y)},wa.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},wa.prototype.toUnwrapped=function(){return new l0(this.wrap,this.canonical)},wa.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},wa.prototype.getTilePoint=function(A){return this.canonical.getTilePoint(new Nu(A.x-this.wrap,A.y))},Sr("CanonicalTileID",ju),Sr("OverscaledTileID",wa,{omit:["posMatrix"]});var Ql=function(A,D,W){if(this.uid=A,D.height!==D.width)throw new RangeError("DEM tiles must be square");if(W&&W!=="mapbox"&&W!=="terrarium")return E('"'+W+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=D.height;var le=this.dim=D.height-2;this.data=new Uint32Array(D.data.buffer),this.encoding=W||"mapbox";for(var Me=0;Me<le;Me++)this.data[this._idx(-1,Me)]=this.data[this._idx(0,Me)],this.data[this._idx(le,Me)]=this.data[this._idx(le-1,Me)],this.data[this._idx(Me,-1)]=this.data[this._idx(Me,0)],this.data[this._idx(Me,le)]=this.data[this._idx(Me,le-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(le,-1)]=this.data[this._idx(le-1,0)],this.data[this._idx(-1,le)]=this.data[this._idx(0,le-1)],this.data[this._idx(le,le)]=this.data[this._idx(le-1,le-1)]};Ql.prototype.get=function(A,D){var W=new Uint8Array(this.data.buffer),le=4*this._idx(A,D);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(W[le],W[le+1],W[le+2])},Ql.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Ql.prototype._idx=function(A,D){if(A<-1||A>=this.dim+1||D<-1||D>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(D+1)*this.stride+(A+1)},Ql.prototype._unpackMapbox=function(A,D,W){return(256*A*256+256*D+W)/10-1e4},Ql.prototype._unpackTerrarium=function(A,D,W){return 256*A+D+W/256-32768},Ql.prototype.getPixels=function(){return new Io({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Ql.prototype.backfillBorder=function(A,D,W){if(this.dim!==A.dim)throw new Error("dem dimension mismatch");var le=D*this.dim,Me=D*this.dim+this.dim,Pe=W*this.dim,je=W*this.dim+this.dim;switch(D){case-1:le=Me-1;break;case 1:Me=le+1}switch(W){case-1:Pe=je-1;break;case 1:je=Pe+1}for(var et=-D*this.dim,ct=-W*this.dim,wt=Pe;wt<je;wt++)for(var At=le;At<Me;At++)this.data[this._idx(At,wt)]=A.data[this._idx(At+et,wt+ct)]},Sr("DEMData",Ql);var Gf=function(A){this._stringToNumber={},this._numberToString=[];for(var D=0;D<A.length;D++){var W=A[D];this._stringToNumber[W]=D,this._numberToString[D]=W}};Gf.prototype.encode=function(A){return this._stringToNumber[A]},Gf.prototype.decode=function(A){return this._numberToString[A]};var qf=function(A,D,W,le,Me){this.type="Feature",this._vectorTileFeature=A,A._z=D,A._x=W,A._y=le,this.properties=A.properties,this.id=Me},ip={geometry:{configurable:!0}};ip.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},ip.geometry.set=function(A){this._geometry=A},qf.prototype.toJSON=function(){var A={geometry:this.geometry};for(var D in this)D!=="_geometry"&&D!=="_vectorTileFeature"&&(A[D]=this[D]);return A},Object.defineProperties(qf.prototype,ip);var hc=function(){this.state={},this.stateChanges={},this.deletedStates={}};hc.prototype.updateState=function(A,D,W){var le=String(D);if(this.stateChanges[A]=this.stateChanges[A]||{},this.stateChanges[A][le]=this.stateChanges[A][le]||{},c(this.stateChanges[A][le],W),this.deletedStates[A]===null)for(var Me in this.deletedStates[A]={},this.state[A])Me!==le&&(this.deletedStates[A][Me]=null);else if(this.deletedStates[A]&&this.deletedStates[A][le]===null)for(var Pe in this.deletedStates[A][le]={},this.state[A][le])W[Pe]||(this.deletedStates[A][le][Pe]=null);else for(var je in W)this.deletedStates[A]&&this.deletedStates[A][le]&&this.deletedStates[A][le][je]===null&&delete this.deletedStates[A][le][je]},hc.prototype.removeFeatureState=function(A,D,W){if(this.deletedStates[A]!==null){var le=String(D);if(this.deletedStates[A]=this.deletedStates[A]||{},W&&D!==void 0)this.deletedStates[A][le]!==null&&(this.deletedStates[A][le]=this.deletedStates[A][le]||{},this.deletedStates[A][le][W]=null);else if(D!==void 0)if(this.stateChanges[A]&&this.stateChanges[A][le])for(W in this.deletedStates[A][le]={},this.stateChanges[A][le])this.deletedStates[A][le][W]=null;else this.deletedStates[A][le]=null;else this.deletedStates[A]=null}},hc.prototype.getState=function(A,D){var W=String(D),le=this.state[A]||{},Me=this.stateChanges[A]||{},Pe=c({},le[W],Me[W]);if(this.deletedStates[A]===null)return{};if(this.deletedStates[A]){var je=this.deletedStates[A][D];if(je===null)return{};for(var et in je)delete Pe[et]}return Pe},hc.prototype.initializeTileState=function(A,D){A.setFeatureState(this.state,D)},hc.prototype.coalesceChanges=function(A,D){var W={};for(var le in this.stateChanges){this.state[le]=this.state[le]||{};var Me={};for(var Pe in this.stateChanges[le])this.state[le][Pe]||(this.state[le][Pe]={}),c(this.state[le][Pe],this.stateChanges[le][Pe]),Me[Pe]=this.state[le][Pe];W[le]=Me}for(var je in this.deletedStates){this.state[je]=this.state[je]||{};var et={};if(this.deletedStates[je]===null)for(var ct in this.state[je])et[ct]={},this.state[je][ct]={};else for(var wt in this.deletedStates[je]){if(this.deletedStates[je][wt]===null)this.state[je][wt]={};else for(var At=0,Nt=Object.keys(this.deletedStates[je][wt]);At<Nt.length;At+=1){var qt=Nt[At];delete this.state[je][wt][qt]}et[wt]=this.state[je][wt]}W[je]=W[je]||{},c(W[je],et)}if(this.stateChanges={},this.deletedStates={},Object.keys(W).length!==0)for(var Ut in A)A[Ut].setFeatureState(W,D)};var eu=function(A,D){this.tileID=A,this.x=A.canonical.x,this.y=A.canonical.y,this.z=A.canonical.z,this.grid=new Ss(ui,16,0),this.grid3D=new Ss(ui,16,0),this.featureIndexArray=new In,this.promoteId=D};function u0(A,D,W,le,Me){return w(A,function(Pe,je){var et=D instanceof Cs?D.get(je):null;return et&&et.evaluate?et.evaluate(W,le,Me):et})}function c0(A){for(var D=1/0,W=1/0,le=-1/0,Me=-1/0,Pe=0,je=A;Pe<je.length;Pe+=1){var et=je[Pe];D=Math.min(D,et.x),W=Math.min(W,et.y),le=Math.max(le,et.x),Me=Math.max(Me,et.y)}return{minX:D,minY:W,maxX:le,maxY:Me}}function Jv(A,D){return D-A}eu.prototype.insert=function(A,D,W,le,Me,Pe){var je=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(W,le,Me);for(var et=Pe?this.grid3D:this.grid,ct=0;ct<D.length;ct++){for(var wt=D[ct],At=[1/0,1/0,-1/0,-1/0],Nt=0;Nt<wt.length;Nt++){var qt=wt[Nt];At[0]=Math.min(At[0],qt.x),At[1]=Math.min(At[1],qt.y),At[2]=Math.max(At[2],qt.x),At[3]=Math.max(At[3],qt.y)}At[0]<ui&&At[1]<ui&&At[2]>=0&&At[3]>=0&&et.insert(je,At[0],At[1],At[2],At[3])}},eu.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new ec.VectorTile(new If(this.rawTileData)).layers,this.sourceLayerCoder=new Gf(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},eu.prototype.query=function(A,D,W,le){var Me=this;this.loadVTLayers();for(var Pe=A.params||{},je=ui/A.tileSize/A.scale,et=sl(Pe.filter),ct=A.queryGeometry,wt=A.queryPadding*je,At=c0(ct),Nt=this.grid.query(At.minX-wt,At.minY-wt,At.maxX+wt,At.maxY+wt),qt=c0(A.cameraQueryGeometry),Ut=0,sn=this.grid3D.query(qt.minX-wt,qt.minY-wt,qt.maxX+wt,qt.maxY+wt,function(qn,Jn,nr,yr){return function(dr,kr,Ar,qr,Rr){for(var Hr=0,Br=dr;Hr<Br.length;Hr+=1){var Pr=Br[Hr];if(kr<=Pr.x&&Ar<=Pr.y&&qr>=Pr.x&&Rr>=Pr.y)return!0}var oi=[new t(kr,Ar),new t(kr,Rr),new t(qr,Rr),new t(qr,Ar)];if(dr.length>2){for(var Xr=0,Di=oi;Xr<Di.length;Xr+=1)if(Nl(dr,Di[Xr]))return!0}for(var Vr=0;Vr<dr.length-1;Vr++)if(Tg(dr[Vr],dr[Vr+1],oi))return!0;return!1}(A.cameraQueryGeometry,qn-wt,Jn-wt,nr+wt,yr+wt)});Ut<sn.length;Ut+=1){var un=sn[Ut];Nt.push(un)}Nt.sort(Jv);for(var En,Mn={},Nn=function(qn){var Jn=Nt[qn];if(Jn!==En){En=Jn;var nr=Me.featureIndexArray.get(Jn),yr=null;Me.loadMatchingFeature(Mn,nr.bucketIndex,nr.sourceLayerIndex,nr.featureIndex,et,Pe.layers,Pe.availableImages,D,W,le,function(dr,kr,Ar){return yr||(yr=qo(dr)),kr.queryIntersectsFeature(ct,dr,Ar,yr,Me.z,A.transform,je,A.pixelPosMatrix)})}},jn=0;jn<Nt.length;jn++)Nn(jn);return Mn},eu.prototype.loadMatchingFeature=function(A,D,W,le,Me,Pe,je,et,ct,wt,At){var Nt=this.bucketLayerIDs[D];if(!Pe||function(dr,kr){for(var Ar=0;Ar<dr.length;Ar++)if(kr.indexOf(dr[Ar])>=0)return!0;return!1}(Pe,Nt)){var qt=this.sourceLayerCoder.decode(W),Ut=this.vtLayers[qt].feature(le);if(Me.needGeometry){var sn=ji(Ut,!0);if(!Me.filter(new ti(this.tileID.overscaledZ),sn,this.tileID.canonical))return}else if(!Me.filter(new ti(this.tileID.overscaledZ),Ut))return;for(var un=this.getId(Ut,qt),En=0;En<Nt.length;En++){var Mn=Nt[En];if(!(Pe&&Pe.indexOf(Mn)<0)){var Nn=et[Mn];if(Nn){var jn={};un!==void 0&&wt&&(jn=wt.getState(Nn.sourceLayer||"_geojsonTileLayer",un));var qn=c({},ct[Mn]);qn.paint=u0(qn.paint,Nn.paint,Ut,jn,je),qn.layout=u0(qn.layout,Nn.layout,Ut,jn,je);var Jn=!At||At(Ut,Nn,jn);if(Jn){var nr=new qf(Ut,this.z,this.x,this.y,un);nr.layer=qn;var yr=A[Mn];yr===void 0&&(yr=A[Mn]=[]),yr.push({featureIndex:le,feature:nr,intersectionZ:Jn})}}}}}},eu.prototype.lookupSymbolFeatures=function(A,D,W,le,Me,Pe,je,et){var ct={};this.loadVTLayers();for(var wt=sl(Me),At=0,Nt=A;At<Nt.length;At+=1){var qt=Nt[At];this.loadMatchingFeature(ct,W,le,qt,wt,Pe,je,et,D)}return ct},eu.prototype.hasLayer=function(A){for(var D=0,W=this.bucketLayerIDs;D<W.length;D+=1)for(var le=0,Me=W[D];le<Me.length;le+=1)if(A===Me[le])return!0;return!1},eu.prototype.getId=function(A,D){var W=A.id;if(this.promoteId){var le=typeof this.promoteId=="string"?this.promoteId:this.promoteId[D];typeof(W=A.properties[le])=="boolean"&&(W=Number(W))}return W},Sr("FeatureIndex",eu,{omit:["rawTileData","sourceLayerCoder"]});var Ra=function(A,D){this.tileID=A,this.uid=g(),this.uses=0,this.tileSize=D,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Ra.prototype.registerFadeDuration=function(A){var D=A+this.timeAdded;D<X.now()||this.fadeEndTime&&D<this.fadeEndTime||(this.fadeEndTime=D)},Ra.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Ra.prototype.loadVectorData=function(A,D,W){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",A){for(var le in A.featureIndex&&(this.latestFeatureIndex=A.featureIndex,A.rawTileData?(this.latestRawTileData=A.rawTileData,this.latestFeatureIndex.rawTileData=A.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=A.collisionBoxArray,this.buckets=function(wt,At){var Nt={};if(!At)return Nt;for(var qt=function(){var un=sn[Ut],En=un.layerIds.map(function(qn){return At.getLayer(qn)}).filter(Boolean);if(En.length!==0){un.layers=En,un.stateDependentLayerIds&&(un.stateDependentLayers=un.stateDependentLayerIds.map(function(qn){return En.filter(function(Jn){return Jn.id===qn})[0]}));for(var Mn=0,Nn=En;Mn<Nn.length;Mn+=1){var jn=Nn[Mn];Nt[jn.id]=un}}},Ut=0,sn=wt;Ut<sn.length;Ut+=1)qt();return Nt}(A.buckets,D.style),this.hasSymbolBuckets=!1,this.buckets){var Me=this.buckets[le];if(Me instanceof Si){if(this.hasSymbolBuckets=!0,!W)break;Me.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Pe in this.buckets){var je=this.buckets[Pe];if(je instanceof Si&&je.hasRTLText){this.hasRTLText=!0,Da.isLoading()||Da.isLoaded()||qs()!=="deferred"||Ys();break}}for(var et in this.queryPadding=0,this.buckets){var ct=this.buckets[et];this.queryPadding=Math.max(this.queryPadding,D.style.getLayer(et).queryRadius(ct))}A.imageAtlas&&(this.imageAtlas=A.imageAtlas),A.glyphAtlasImage&&(this.glyphAtlasImage=A.glyphAtlasImage)}else this.collisionBoxArray=new Et},Ra.prototype.unloadVectorData=function(){for(var A in this.buckets)this.buckets[A].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Ra.prototype.getBucket=function(A){return this.buckets[A.id]},Ra.prototype.upload=function(A){for(var D in this.buckets){var W=this.buckets[D];W.uploadPending()&&W.upload(A)}var le=A.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Bu(A,this.imageAtlas.image,le.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Bu(A,this.glyphAtlasImage,le.ALPHA),this.glyphAtlasImage=null)},Ra.prototype.prepare=function(A){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(A,this.imageAtlasTexture)},Ra.prototype.queryRenderedFeatures=function(A,D,W,le,Me,Pe,je,et,ct,wt){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:le,cameraQueryGeometry:Me,scale:Pe,tileSize:this.tileSize,pixelPosMatrix:wt,transform:et,params:je,queryPadding:this.queryPadding*ct},A,D,W):{}},Ra.prototype.querySourceFeatures=function(A,D){var W=this.latestFeatureIndex;if(W&&W.rawTileData){var le=W.loadVTLayers(),Me=D?D.sourceLayer:"",Pe=le._geojsonTileLayer||le[Me];if(Pe)for(var je=sl(D&&D.filter),et=this.tileID.canonical,ct=et.z,wt=et.x,At=et.y,Nt={z:ct,x:wt,y:At},qt=0;qt<Pe.length;qt++){var Ut=Pe.feature(qt);if(je.needGeometry){var sn=ji(Ut,!0);if(!je.filter(new ti(this.tileID.overscaledZ),sn,this.tileID.canonical))continue}else if(!je.filter(new ti(this.tileID.overscaledZ),Ut))continue;var un=W.getId(Ut,Me),En=new qf(Ut,ct,wt,At,un);En.tile=Nt,A.push(En)}}},Ra.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Ra.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Ra.prototype.setExpiryData=function(A){var D=this.expirationTime;if(A.cacheControl){var W=z(A.cacheControl);W["max-age"]&&(this.expirationTime=Date.now()+1e3*W["max-age"])}else A.expires&&(this.expirationTime=new Date(A.expires).getTime());if(this.expirationTime){var le=Date.now(),Me=!1;if(this.expirationTime>le)Me=!1;else if(D)if(this.expirationTime<D)Me=!0;else{var Pe=this.expirationTime-D;Pe?this.expirationTime=le+Math.max(Pe,3e4):Me=!0}else Me=!0;Me?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Ra.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Ra.prototype.setFeatureState=function(A,D){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(A).length!==0){var W=this.latestFeatureIndex.loadVTLayers();for(var le in this.buckets)if(D.style.hasLayer(le)){var Me=this.buckets[le],Pe=Me.layers[0].sourceLayer||"_geojsonTileLayer",je=W[Pe],et=A[Pe];if(je&&et&&Object.keys(et).length!==0){Me.update(et,je,this.imageAtlas&&this.imageAtlas.patternPositions||{});var ct=D&&D.style&&D.style.getLayer(le);ct&&(this.queryPadding=Math.max(this.queryPadding,ct.queryRadius(Me)))}}}},Ra.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Ra.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<X.now()},Ra.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Ra.prototype.setHoldDuration=function(A){this.symbolFadeHoldUntil=X.now()+A},Ra.prototype.setDependencies=function(A,D){for(var W={},le=0,Me=D;le<Me.length;le+=1)W[Me[le]]=!0;this.dependencies[A]=W},Ra.prototype.hasDependency=function(A,D){for(var W=0,le=A;W<le.length;W+=1){var Me=le[W],Pe=this.dependencies[Me];if(Pe){for(var je=0,et=D;je<et.length;je+=1)if(Pe[et[je]])return!0}}return!1};var ku=n.performance,f0=function(A){this._marks={start:[A.url,"start"].join("#"),end:[A.url,"end"].join("#"),measure:A.url.toString()},ku.mark(this._marks.start)};f0.prototype.finish=function(){ku.mark(this._marks.end);var A=ku.getEntriesByName(this._marks.measure);return A.length===0&&(ku.measure(this._marks.measure,this._marks.start,this._marks.end),A=ku.getEntriesByName(this._marks.measure),ku.clearMarks(this._marks.start),ku.clearMarks(this._marks.end),ku.clearMeasures(this._marks.measure)),A},a.Actor=fc,a.AlphaImage=Fu,a.CanonicalTileID=ju,a.CollisionBoxArray=Et,a.Color=Cn,a.DEMData=Ql,a.DataConstantProperty=Cr,a.DictionaryCoder=Gf,a.EXTENT=ui,a.ErrorEvent=Ne,a.EvaluationParameters=ti,a.Event=Be,a.Evented=at,a.FeatureIndex=eu,a.FillBucket=ml,a.FillExtrusionBucket=yl,a.ImageAtlas=Vc,a.ImagePosition=Rf,a.LineBucket=bo,a.LngLat=Xi,a.LngLatBounds=_a,a.MercatorCoordinate=Nu,a.ONE_EM=Va,a.OverscaledTileID=wa,a.Point=t,a.Point$1=t,a.Properties=Zi,a.Protobuf=If,a.RGBAImage=Io,a.RequestManager=pe,a.RequestPerformance=f0,a.ResourceType=_t,a.SegmentVector=Gn,a.SourceFeatureState=hc,a.StructArrayLayout1ui2=vt,a.StructArrayLayout2f1f2i16=ne,a.StructArrayLayout2i4=cs,a.StructArrayLayout3ui6=ve,a.StructArrayLayout4i8=Kl,a.SymbolBucket=Si,a.Texture=Bu,a.Tile=Ra,a.Transitionable=yo,a.Uniform1f=Kr,a.Uniform1i=Zr,a.Uniform2f=ni,a.Uniform3f=Ai,a.Uniform4f=Gi,a.UniformColor=Aa,a.UniformMatrix4f=xa,a.UnwrappedTileID=l0,a.ValidationError=gt,a.WritingMode=hs,a.ZoomHistory=Gs,a.add=function(A,D,W){return A[0]=D[0]+W[0],A[1]=D[1]+W[1],A[2]=D[2]+W[2],A},a.addDynamicAttributes=ep,a.asyncAll=function(A,D,W){if(!A.length)return W(null,[]);var le=A.length,Me=new Array(A.length),Pe=null;A.forEach(function(je,et){D(je,function(ct,wt){ct&&(Pe=ct),Me[et]=wt,--le==0&&W(Pe,Me)})})},a.bezier=l,a.bindAll=y,a.browser=X,a.cacheEntryPossiblyAdded=function(A){++mt>Fe&&(A.getActor().send("enforceCacheSizeLimit",Ie),mt=0)},a.clamp=u,a.clearTileCache=function(A){var D=n.caches.delete(ke);A&&D.catch(A).then(function(){return A()})},a.clipLine=qd,a.clone=function(A){var D=new fs(16);return D[0]=A[0],D[1]=A[1],D[2]=A[2],D[3]=A[3],D[4]=A[4],D[5]=A[5],D[6]=A[6],D[7]=A[7],D[8]=A[8],D[9]=A[9],D[10]=A[10],D[11]=A[11],D[12]=A[12],D[13]=A[13],D[14]=A[14],D[15]=A[15],D},a.clone$1=S,a.clone$2=function(A){var D=new fs(3);return D[0]=A[0],D[1]=A[1],D[2]=A[2],D},a.collisionCircleLayout=vv,a.config=K,a.create=function(){var A=new fs(16);return fs!=Float32Array&&(A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[11]=0,A[12]=0,A[13]=0,A[14]=0),A[0]=1,A[5]=1,A[10]=1,A[15]=1,A},a.create$1=function(){var A=new fs(9);return fs!=Float32Array&&(A[1]=0,A[2]=0,A[3]=0,A[5]=0,A[6]=0,A[7]=0),A[0]=1,A[4]=1,A[8]=1,A},a.create$2=function(){var A=new fs(4);return fs!=Float32Array&&(A[1]=0,A[2]=0),A[0]=1,A[3]=1,A},a.createCommonjsModule=_,a.createExpression=jo,a.createLayout=Oi,a.createStyleLayer=function(A){return A.type==="custom"?new Zv(A):new Xv[A.type](A)},a.cross=function(A,D,W){var le=D[0],Me=D[1],Pe=D[2],je=W[0],et=W[1],ct=W[2];return A[0]=Me*ct-Pe*et,A[1]=Pe*je-le*ct,A[2]=le*et-Me*je,A},a.deepEqual=function A(D,W){if(Array.isArray(D)){if(!Array.isArray(W)||D.length!==W.length)return!1;for(var le=0;le<D.length;le++)if(!A(D[le],W[le]))return!1;return!0}if(typeof D=="object"&&D!==null&&W!==null){if(typeof W!="object"||Object.keys(D).length!==Object.keys(W).length)return!1;for(var Me in D)if(!A(D[Me],W[Me]))return!1;return!0}return D===W},a.dot=function(A,D){return A[0]*D[0]+A[1]*D[1]+A[2]*D[2]},a.dot$1=function(A,D){return A[0]*D[0]+A[1]*D[1]+A[2]*D[2]+A[3]*D[3]},a.ease=s,a.emitValidationErrors=Oa,a.endsWith=m,a.enforceCacheSizeLimit=function(A){qe(),he&&he.then(function(D){D.keys().then(function(W){for(var le=0;le<W.length-A;le++)D.delete(W[le])})})},a.evaluateSizeForFeature=Bd,a.evaluateSizeForZoom=Nd,a.evaluateVariableOffset=Zd,a.evented=Ia,a.extend=c,a.featureFilter=sl,a.filterObject=f,a.fromRotation=function(A,D){var W=Math.sin(D),le=Math.cos(D);return A[0]=le,A[1]=W,A[2]=0,A[3]=-W,A[4]=le,A[5]=0,A[6]=0,A[7]=0,A[8]=1,A},a.getAnchorAlignment=Jh,a.getAnchorJustification=Qh,a.getArrayBuffer=Ft,a.getImage=Xe,a.getJSON=function(A,D){return zt(c(A,{type:"json"}),D)},a.getRTLTextPluginStatus=qs,a.getReferrer=st,a.getVideo=function(A,D){var W,le,Me=n.document.createElement("video");Me.muted=!0,Me.onloadstart=function(){D(null,Me)};for(var Pe=0;Pe<A.length;Pe++){var je=n.document.createElement("source");W=A[Pe],le=void 0,(le=n.document.createElement("a")).href=W,le.protocol===n.document.location.protocol&&le.host===n.document.location.host||(Me.crossOrigin="Anonymous"),je.src=A[Pe],Me.appendChild(je)}return{cancel:function(){}}},a.identity=zh,a.invert=function(A,D){var W=D[0],le=D[1],Me=D[2],Pe=D[3],je=D[4],et=D[5],ct=D[6],wt=D[7],At=D[8],Nt=D[9],qt=D[10],Ut=D[11],sn=D[12],un=D[13],En=D[14],Mn=D[15],Nn=W*et-le*je,jn=W*ct-Me*je,qn=W*wt-Pe*je,Jn=le*ct-Me*et,nr=le*wt-Pe*et,yr=Me*wt-Pe*ct,dr=At*un-Nt*sn,kr=At*En-qt*sn,Ar=At*Mn-Ut*sn,qr=Nt*En-qt*un,Rr=Nt*Mn-Ut*un,Hr=qt*Mn-Ut*En,Br=Nn*Hr-jn*Rr+qn*qr+Jn*Ar-nr*kr+yr*dr;return Br?(Br=1/Br,A[0]=(et*Hr-ct*Rr+wt*qr)*Br,A[1]=(Me*Rr-le*Hr-Pe*qr)*Br,A[2]=(un*yr-En*nr+Mn*Jn)*Br,A[3]=(qt*nr-Nt*yr-Ut*Jn)*Br,A[4]=(ct*Ar-je*Hr-wt*kr)*Br,A[5]=(W*Hr-Me*Ar+Pe*kr)*Br,A[6]=(En*qn-sn*yr-Mn*jn)*Br,A[7]=(At*yr-qt*qn+Ut*jn)*Br,A[8]=(je*Rr-et*Ar+wt*dr)*Br,A[9]=(le*Ar-W*Rr-Pe*dr)*Br,A[10]=(sn*nr-un*qn+Mn*Nn)*Br,A[11]=(Nt*qn-At*nr-Ut*Nn)*Br,A[12]=(et*kr-je*qr-ct*dr)*Br,A[13]=(W*qr-le*kr+Me*dr)*Br,A[14]=(un*jn-sn*Jn-En*Nn)*Br,A[15]=(At*Jn-Nt*jn+qt*Nn)*Br,A):null},a.isChar=br,a.isMapboxURL=de,a.keysDifference=function(A,D){var W=[];for(var le in A)le in D||W.push(le);return W},a.makeRequest=zt,a.mapObject=w,a.mercatorXfromLng=a0,a.mercatorYfromLat=o0,a.mercatorZfromAltitude=s0,a.mul=Ag,a.multiply=od,a.mvt=ec,a.nextPowerOfTwo=function(A){return A<=1?1:Math.pow(2,Math.ceil(Math.log(A)/Math.LN2))},a.normalize=function(A,D){var W=D[0],le=D[1],Me=D[2],Pe=W*W+le*le+Me*Me;return Pe>0&&(Pe=1/Math.sqrt(Pe)),A[0]=D[0]*Pe,A[1]=D[1]*Pe,A[2]=D[2]*Pe,A},a.number=Gr,a.offscreenCanvasSupported=Mt,a.ortho=function(A,D,W,le,Me,Pe,je){var et=1/(D-W),ct=1/(le-Me),wt=1/(Pe-je);return A[0]=-2*et,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=-2*ct,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[10]=2*wt,A[11]=0,A[12]=(D+W)*et,A[13]=(Me+le)*ct,A[14]=(je+Pe)*wt,A[15]=1,A},a.parseGlyphPBF=function(A){return new If(A).readFields(Sv,[])},a.pbf=If,a.performSymbolLayout=function(A,D,W,le,Me,Pe,je){A.createArrays();var et=512*A.overscaling;A.tilePixelRatio=ui/et,A.compareText={},A.iconsNeedLinear=!1;var ct=A.layers[0].layout,wt=A.layers[0]._unevaluatedLayout._values,At={};if(A.textSizeData.kind==="composite"){var Nt=A.textSizeData,qt=Nt.minZoom,Ut=Nt.maxZoom;At.compositeTextSizes=[wt["text-size"].possiblyEvaluate(new ti(qt),je),wt["text-size"].possiblyEvaluate(new ti(Ut),je)]}if(A.iconSizeData.kind==="composite"){var sn=A.iconSizeData,un=sn.minZoom,En=sn.maxZoom;At.compositeIconSizes=[wt["icon-size"].possiblyEvaluate(new ti(un),je),wt["icon-size"].possiblyEvaluate(new ti(En),je)]}At.layoutTextSize=wt["text-size"].possiblyEvaluate(new ti(A.zoom+1),je),At.layoutIconSize=wt["icon-size"].possiblyEvaluate(new ti(A.zoom+1),je),At.textMaxSize=wt["text-size"].possiblyEvaluate(new ti(18));for(var Mn=ct.get("text-line-height")*Va,Nn=ct.get("text-rotation-alignment")==="map"&&ct.get("symbol-placement")!=="point",jn=ct.get("text-keep-upright"),qn=ct.get("text-size"),Jn=function(){var dr=yr[nr],kr=ct.get("text-font").evaluate(dr,{},je).join(","),Ar=qn.evaluate(dr,{},je),qr=At.layoutTextSize.evaluate(dr,{},je),Rr=At.layoutIconSize.evaluate(dr,{},je),Hr={horizontal:{},vertical:void 0},Br=dr.text,Pr=[0,0];if(Br){var oi=Br.toString(),Xr=ct.get("text-letter-spacing").evaluate(dr,{},je)*Va,Di=function(Jr){for(var ci=0,la=Jr;ci<la.length;ci+=1)if(Ii=la[ci].charCodeAt(0),br.Arabic(Ii)||br["Arabic Supplement"](Ii)||br["Arabic Extended-A"](Ii)||br["Arabic Presentation Forms-A"](Ii)||br["Arabic Presentation Forms-B"](Ii))return!1;var Ii;return!0}(oi)?Xr:0,Vr=ct.get("text-anchor").evaluate(dr,{},je),Ei=ct.get("text-variable-anchor");if(!Ei){var Vi=ct.get("text-radial-offset").evaluate(dr,{},je);Pr=Vi?Zd(Vr,[Vi*Va,$h]):ct.get("text-offset").evaluate(dr,{},je).map(function(Jr){return Jr*Va})}var Yi=Nn?"center":ct.get("text-justify").evaluate(dr,{},je),Wi=ct.get("symbol-placement"),Ri=Wi==="point"?ct.get("text-max-width").evaluate(dr,{},je)*Va:0,Ta=function(){A.allowVerticalPlacement&&pl(oi)&&(Hr.vertical=zf(Br,D,W,Me,kr,Ri,Mn,Vr,"left",Di,Pr,hs.vertical,!0,Wi,qr,Ar))};if(!Nn&&Ei){for(var $i=Yi==="auto"?Ei.map(function(Jr){return Qh(Jr)}):[Yi],za=!1,$a=0;$a<$i.length;$a++){var Ha=$i[$a];if(!Hr.horizontal[Ha])if(za)Hr.horizontal[Ha]=Hr.horizontal[0];else{var _o=zf(Br,D,W,Me,kr,Ri,Mn,"center",Ha,Di,Pr,hs.horizontal,!1,Wi,qr,Ar);_o&&(Hr.horizontal[Ha]=_o,za=_o.positionedLines.length===1)}}Ta()}else{Yi==="auto"&&(Yi=Qh(Vr));var Ga=zf(Br,D,W,Me,kr,Ri,Mn,Vr,Yi,Di,Pr,hs.horizontal,!1,Wi,qr,Ar);Ga&&(Hr.horizontal[Yi]=Ga),Ta(),pl(oi)&&Nn&&jn&&(Hr.vertical=zf(Br,D,W,Me,kr,Ri,Mn,Vr,Yi,Di,Pr,hs.vertical,!1,Wi,qr,Ar))}}var Sa=void 0,qa=!1;if(dr.icon&&dr.icon.name){var Fa=le[dr.icon.name];Fa&&(Sa=function(Jr,ci,la){var Ii=Jh(la),na=Ii.horizontalAlign,Ji=Ii.verticalAlign,gi=ci[0],ua=ci[1],wo=gi-Jr.displaySize[0]*na,Zo=wo+Jr.displaySize[0],so=ua-Jr.displaySize[1]*Ji;return{image:Jr,top:so,bottom:so+Jr.displaySize[1],left:wo,right:Zo}}(Me[dr.icon.name],ct.get("icon-offset").evaluate(dr,{},je),ct.get("icon-anchor").evaluate(dr,{},je)),qa=Fa.sdf,A.sdfIcons===void 0?A.sdfIcons=Fa.sdf:A.sdfIcons!==Fa.sdf&&E("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Fa.pixelRatio!==A.pixelRatio||ct.get("icon-rotate").constantOr(1)!==0)&&(A.iconsNeedLinear=!0))}var Ea=Jd(Hr.horizontal)||Hr.vertical;A.iconsInText=!!Ea&&Ea.iconsInText,(Ea||Sa)&&function(Jr,ci,la,Ii,na,Ji,gi,ua,wo,Zo,so){var bl=Ji.textMaxSize.evaluate(ci,{});bl===void 0&&(bl=gi);var tu,Ba=Jr.layers[0].layout,_l=Ba.get("icon-offset").evaluate(ci,{},so),Ks=Jd(la.horizontal),$s=24,Uu=gi/$s,Yf=Jr.tilePixelRatio*Uu,Vu=Jr.tilePixelRatio*bl/$s,Wf=Jr.tilePixelRatio*ua,Wc=Jr.tilePixelRatio*Ba.get("symbol-spacing"),ap=Ba.get("text-padding")*Jr.tilePixelRatio,Zf=Ba.get("icon-padding")*Jr.tilePixelRatio,pc=Ba.get("text-max-angle")/180*Math.PI,Xf=Ba.get("text-rotation-alignment")==="map"&&Ba.get("symbol-placement")!=="point",Jf=Ba.get("icon-rotation-alignment")==="map"&&Ba.get("symbol-placement")!=="point",Zc=Ba.get("symbol-placement"),op=Wc/2,Xc=Ba.get("icon-text-fit");Ii&&Xc!=="none"&&(Jr.allowVerticalPlacement&&la.vertical&&(tu=Fd(Ii,la.vertical,Xc,Ba.get("icon-text-fit-padding"),_l,Uu)),Ks&&(Ii=Fd(Ii,Ks,Xc,Ba.get("icon-text-fit-padding"),_l,Uu)));var Hu=function(Kv,tf){tf.x<0||tf.x>=ui||tf.y<0||tf.y>=ui||function(da,wl,$v,Mu,hp,v0,th,jl,nh,nf,rh,ih,pp,m0,rf,y0,x0,b0,_0,w0,ps,ah,T0,Ul,Qv){var k0,Yu,vc,mc,yc,xc=da.addToLineVertexArray(wl,$v),M0=0,A0=0,S0=0,E0=0,dp=-1,gp=-1,nu={},L0=_r(""),vp=0,mp=0;if(jl._unevaluatedLayout.getValue("text-radial-offset")===void 0?(vp=(k0=jl.layout.get("text-offset").evaluate(ps,{},Ul).map(function(of){return of*Va}))[0],mp=k0[1]):(vp=jl.layout.get("text-radial-offset").evaluate(ps,{},Ul)*Va,mp=$h),da.allowVerticalPlacement&&Mu.vertical){var C0=jl.layout.get("text-rotate").evaluate(ps,{},Ul)+90,em=Mu.vertical;mc=new Uf(nh,wl,nf,rh,ih,em,pp,m0,rf,C0),th&&(yc=new Uf(nh,wl,nf,rh,ih,th,x0,b0,rf,C0))}if(hp){var yp=jl.layout.get("icon-rotate").evaluate(ps,{}),O0=jl.layout.get("icon-text-fit")!=="none",P0=Yd(hp,yp,T0,O0),xp=th?Yd(th,yp,T0,O0):void 0;vc=new Uf(nh,wl,nf,rh,ih,hp,x0,b0,!1,yp),M0=4*P0.length;var I0=da.iconSizeData,af=null;I0.kind==="source"?(af=[xl*jl.layout.get("icon-size").evaluate(ps,{})])[0]>Tu&&E(da.layerIds[0]+': Value for "icon-size" is >= '+Gc+'. Reduce your "icon-size".'):I0.kind==="composite"&&((af=[xl*ah.compositeIconSizes[0].evaluate(ps,{},Ul),xl*ah.compositeIconSizes[1].evaluate(ps,{},Ul)])[0]>Tu||af[1]>Tu)&&E(da.layerIds[0]+': Value for "icon-size" is >= '+Gc+'. Reduce your "icon-size".'),da.addSymbols(da.icon,P0,af,w0,_0,ps,!1,wl,xc.lineStartIndex,xc.lineLength,-1,Ul),dp=da.icon.placedSymbolArray.length-1,xp&&(A0=4*xp.length,da.addSymbols(da.icon,xp,af,w0,_0,ps,hs.vertical,wl,xc.lineStartIndex,xc.lineLength,-1,Ul),gp=da.icon.placedSymbolArray.length-1)}for(var D0 in Mu.horizontal){var oh=Mu.horizontal[D0];if(!Yu){L0=_r(oh.text);var tm=jl.layout.get("text-rotate").evaluate(ps,{},Ul);Yu=new Uf(nh,wl,nf,rh,ih,oh,pp,m0,rf,tm)}var R0=oh.positionedLines.length===1;if(S0+=Xd(da,wl,oh,v0,jl,rf,ps,y0,xc,Mu.vertical?hs.horizontal:hs.horizontalOnly,R0?Object.keys(Mu.horizontal):[D0],nu,dp,ah,Ul),R0)break}Mu.vertical&&(E0+=Xd(da,wl,Mu.vertical,v0,jl,rf,ps,y0,xc,hs.vertical,["vertical"],nu,gp,ah,Ul));var nm=Yu?Yu.boxStartIndex:da.collisionBoxArray.length,rm=Yu?Yu.boxEndIndex:da.collisionBoxArray.length,im=mc?mc.boxStartIndex:da.collisionBoxArray.length,am=mc?mc.boxEndIndex:da.collisionBoxArray.length,om=vc?vc.boxStartIndex:da.collisionBoxArray.length,sm=vc?vc.boxEndIndex:da.collisionBoxArray.length,lm=yc?yc.boxStartIndex:da.collisionBoxArray.length,um=yc?yc.boxEndIndex:da.collisionBoxArray.length,Vl=-1,sh=function(of,F0){return of&&of.circleDiameter?Math.max(of.circleDiameter,F0):F0};Vl=sh(Yu,Vl),Vl=sh(mc,Vl),Vl=sh(vc,Vl);var z0=(Vl=sh(yc,Vl))>-1?1:0;z0&&(Vl*=Qv/Va),da.glyphOffsetArray.length>=Si.MAX_GLYPHS&&E("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ps.sortKey!==void 0&&da.addToSortKeyRanges(da.symbolInstances.length,ps.sortKey),da.symbolInstances.emplaceBack(wl.x,wl.y,nu.right>=0?nu.right:-1,nu.center>=0?nu.center:-1,nu.left>=0?nu.left:-1,nu.vertical||-1,dp,gp,L0,nm,rm,im,am,om,sm,lm,um,nf,S0,E0,M0,A0,z0,0,pp,vp,mp,Vl)}(Jr,tf,Kv,la,Ii,na,tu,Jr.layers[0],Jr.collisionBoxArray,ci.index,ci.sourceLayerIndex,Jr.index,Yf,ap,Xf,wo,Wf,Zf,Jf,_l,ci,Ji,Zo,so,gi)};if(Zc==="line")for(var dc=0,Kf=qd(ci.geometry,0,0,ui,ui);dc<Kf.length;dc+=1)for(var $f=Kf[dc],gc=0,Qf=Dv($f,Wc,pc,la.vertical||Ks,Ii,$s,Vu,Jr.overscaling,ui);gc<Qf.length;gc+=1){var eh=Qf[gc];Ks&&Bv(Jr,Ks.text,op,eh)||Hu($f,eh)}else if(Zc==="line-center")for(var Jc=0,Kc=ci.geometry;Jc<Kc.length;Jc+=1){var Gu=Kc[Jc];if(Gu.length>1){var $c=Iv(Gu,pc,la.vertical||Ks,Ii,$s,Vu);$c&&Hu(Gu,$c)}}else if(ci.type==="Polygon")for(var qu=0,Qc=Hh(ci.geometry,0);qu<Qc.length;qu+=1){var ef=Qc[qu],h0=zv(ef,16);Hu(ef[0],new ic(h0.x,h0.y,0))}else if(ci.type==="LineString")for(var sp=0,p0=ci.geometry;sp<p0.length;sp+=1){var lp=p0[sp];Hu(lp,new ic(lp[0].x,lp[0].y,0))}else if(ci.type==="Point")for(var up=0,d0=ci.geometry;up<d0.length;up+=1)for(var cp=0,g0=d0[up];cp<g0.length;cp+=1){var fp=g0[cp];Hu([fp],new ic(fp.x,fp.y,0))}}(A,dr,Hr,Sa,le,At,qr,Rr,Pr,qa,je)},nr=0,yr=A.features;nr<yr.length;nr+=1)Jn();Pe&&A.generateCollisionDebugBuffers()},a.perspective=function(A,D,W,le,Me){var Pe,je=1/Math.tan(D/2);return A[0]=je/W,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=je,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[11]=-1,A[12]=0,A[13]=0,A[15]=0,Me!=null&&Me!==1/0?(Pe=1/(le-Me),A[10]=(Me+le)*Pe,A[14]=2*Me*le*Pe):(A[10]=-1,A[14]=-2*le),A},a.pick=function(A,D){for(var W={},le=0;le<D.length;le++){var Me=D[le];Me in A&&(W[Me]=A[Me])}return W},a.plugin=Da,a.polygonIntersectsPolygon=zu,a.postMapLoadEvent=xe,a.postTurnstileEvent=Re,a.potpack=Pd,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.register=Sr,a.registerForPluginStateChange=function(A){return A({pluginStatus:ri,pluginURL:ha}),Ia.on("pluginStateChange",A),A},a.renderColorRamp=cd,a.rotate=function(A,D,W){var le=D[0],Me=D[1],Pe=D[2],je=D[3],et=Math.sin(W),ct=Math.cos(W);return A[0]=le*ct+Pe*et,A[1]=Me*ct+je*et,A[2]=le*-et+Pe*ct,A[3]=Me*-et+je*ct,A},a.rotateX=function(A,D,W){var le=Math.sin(W),Me=Math.cos(W),Pe=D[4],je=D[5],et=D[6],ct=D[7],wt=D[8],At=D[9],Nt=D[10],qt=D[11];return D!==A&&(A[0]=D[0],A[1]=D[1],A[2]=D[2],A[3]=D[3],A[12]=D[12],A[13]=D[13],A[14]=D[14],A[15]=D[15]),A[4]=Pe*Me+wt*le,A[5]=je*Me+At*le,A[6]=et*Me+Nt*le,A[7]=ct*Me+qt*le,A[8]=wt*Me-Pe*le,A[9]=At*Me-je*le,A[10]=Nt*Me-et*le,A[11]=qt*Me-ct*le,A},a.rotateZ=function(A,D,W){var le=Math.sin(W),Me=Math.cos(W),Pe=D[0],je=D[1],et=D[2],ct=D[3],wt=D[4],At=D[5],Nt=D[6],qt=D[7];return D!==A&&(A[8]=D[8],A[9]=D[9],A[10]=D[10],A[11]=D[11],A[12]=D[12],A[13]=D[13],A[14]=D[14],A[15]=D[15]),A[0]=Pe*Me+wt*le,A[1]=je*Me+At*le,A[2]=et*Me+Nt*le,A[3]=ct*Me+qt*le,A[4]=wt*Me-Pe*le,A[5]=At*Me-je*le,A[6]=Nt*Me-et*le,A[7]=qt*Me-ct*le,A},a.scale=function(A,D,W){var le=W[0],Me=W[1],Pe=W[2];return A[0]=D[0]*le,A[1]=D[1]*le,A[2]=D[2]*le,A[3]=D[3]*le,A[4]=D[4]*Me,A[5]=D[5]*Me,A[6]=D[6]*Me,A[7]=D[7]*Me,A[8]=D[8]*Pe,A[9]=D[9]*Pe,A[10]=D[10]*Pe,A[11]=D[11]*Pe,A[12]=D[12],A[13]=D[13],A[14]=D[14],A[15]=D[15],A},a.scale$1=function(A,D,W){return A[0]=D[0]*W,A[1]=D[1]*W,A[2]=D[2]*W,A[3]=D[3]*W,A},a.scale$2=function(A,D,W){return A[0]=D[0]*W,A[1]=D[1]*W,A[2]=D[2]*W,A},a.setCacheLimits=function(A,D){Ie=A,Fe=D},a.setRTLTextPlugin=function(A,D,W){if(W===void 0&&(W=!1),ri===Eo||ri===ao||ri===Ho)throw new Error("setRTLTextPlugin cannot be called multiple times.");ha=X.resolveURL(A),ri=Eo,us=D,Lo(),W||Ys()},a.sphericalToCartesian=function(A){var D=A[0],W=A[1],le=A[2];return W+=90,W*=Math.PI/180,le*=Math.PI/180,{x:D*Math.cos(W)*Math.sin(le),y:D*Math.sin(W)*Math.sin(le),z:D*Math.cos(le)}},a.sqrLen=Eg,a.styleSpec=$e,a.sub=Sg,a.symbolSize=Pv,a.transformMat3=function(A,D,W){var le=D[0],Me=D[1],Pe=D[2];return A[0]=le*W[0]+Me*W[3]+Pe*W[6],A[1]=le*W[1]+Me*W[4]+Pe*W[7],A[2]=le*W[2]+Me*W[5]+Pe*W[8],A},a.transformMat4=Ef,a.translate=function(A,D,W){var le,Me,Pe,je,et,ct,wt,At,Nt,qt,Ut,sn,un=W[0],En=W[1],Mn=W[2];return D===A?(A[12]=D[0]*un+D[4]*En+D[8]*Mn+D[12],A[13]=D[1]*un+D[5]*En+D[9]*Mn+D[13],A[14]=D[2]*un+D[6]*En+D[10]*Mn+D[14],A[15]=D[3]*un+D[7]*En+D[11]*Mn+D[15]):(le=D[0],Me=D[1],Pe=D[2],je=D[3],et=D[4],ct=D[5],wt=D[6],At=D[7],Nt=D[8],qt=D[9],Ut=D[10],sn=D[11],A[0]=le,A[1]=Me,A[2]=Pe,A[3]=je,A[4]=et,A[5]=ct,A[6]=wt,A[7]=At,A[8]=Nt,A[9]=qt,A[10]=Ut,A[11]=sn,A[12]=le*un+et*En+Nt*Mn+D[12],A[13]=Me*un+ct*En+qt*Mn+D[13],A[14]=Pe*un+wt*En+Ut*Mn+D[14],A[15]=je*un+At*En+sn*Mn+D[15]),A},a.triggerPluginCompletionEvent=Pa,a.uniqueId=g,a.validateCustomStyleLayer=function(A){var D=[],W=A.id;return W===void 0&&D.push({message:"layers."+W+': missing required property "id"'}),A.render===void 0&&D.push({message:"layers."+W+': missing required method "render"'}),A.renderingMode&&A.renderingMode!=="2d"&&A.renderingMode!=="3d"&&D.push({message:"layers."+W+': property "renderingMode" must be either "2d" or "3d"'}),D},a.validateLight=As,a.validateStyle=So,a.values=function(A){var D=[];for(var W in A)D.push(A[W]);return D},a.vectorTile=ec,a.version=b,a.warnOnce=E,a.webpSupported=ee,a.window=n,a.wrap=p}),k(0,function(a){function _(Ze){var Je=typeof Ze;if(Je==="number"||Je==="boolean"||Je==="string"||Ze==null)return JSON.stringify(Ze);if(Array.isArray(Ze)){for(var Ue="[",Xe=0,lt=Ze;Xe<lt.length;Xe+=1)Ue+=_(lt[Xe])+",";return Ue+"]"}for(var ot=Object.keys(Ze).sort(),Be="{",Ne=0;Ne<ot.length;Ne++)Be+=JSON.stringify(ot[Ne])+":"+_(Ze[ot[Ne]])+",";return Be+"}"}function b(Ze){for(var Je="",Ue=0,Xe=a.refProperties;Ue<Xe.length;Ue+=1)Je+="/"+_(Ze[Xe[Ue]]);return Je}var h=function(Ze){this.keyCache={},Ze&&this.replace(Ze)};h.prototype.replace=function(Ze){this._layerConfigs={},this._layers={},this.update(Ze,[])},h.prototype.update=function(Ze,Je){for(var Ue=this,Xe=0,lt=Ze;Xe<lt.length;Xe+=1){var ot=lt[Xe];this._layerConfigs[ot.id]=ot;var Be=this._layers[ot.id]=a.createStyleLayer(ot);Be._featureFilter=a.featureFilter(Be.filter),this.keyCache[ot.id]&&delete this.keyCache[ot.id]}for(var Ne=0,at=Je;Ne<at.length;Ne+=1){var $e=at[Ne];delete this.keyCache[$e],delete this._layerConfigs[$e],delete this._layers[$e]}this.familiesBySource={};for(var gt=0,yt=function(Dt,Bt){for(var Xt={},an=0;an<Dt.length;an++){var Wt=Bt&&Bt[Dt[an].id]||b(Dt[an]);Bt&&(Bt[Dt[an].id]=Wt);var Vt=Xt[Wt];Vt||(Vt=Xt[Wt]=[]),Vt.push(Dt[an])}var on=[];for(var Sn in Xt)on.push(Xt[Sn]);return on}(a.values(this._layerConfigs),this.keyCache);gt<yt.length;gt+=1){var xt=yt[gt].map(function(Dt){return Ue._layers[Dt.id]}),dt=xt[0];if(dt.visibility!=="none"){var Lt=dt.source||"",Tt=this.familiesBySource[Lt];Tt||(Tt=this.familiesBySource[Lt]={});var bt=dt.sourceLayer||"_geojsonTileLayer",Ct=Tt[bt];Ct||(Ct=Tt[bt]=[]),Ct.push(xt)}}};var o=function(Ze){var Je={},Ue=[];for(var Xe in Ze){var lt=Ze[Xe],ot=Je[Xe]={};for(var Be in lt){var Ne=lt[+Be];if(Ne&&Ne.bitmap.width!==0&&Ne.bitmap.height!==0){var at={x:0,y:0,w:Ne.bitmap.width+2,h:Ne.bitmap.height+2};Ue.push(at),ot[Be]={rect:at,metrics:Ne.metrics}}}}var $e=a.potpack(Ue),gt=$e.w,yt=$e.h,xt=new a.AlphaImage({width:gt||1,height:yt||1});for(var dt in Ze){var Lt=Ze[dt];for(var Tt in Lt){var bt=Lt[+Tt];if(bt&&bt.bitmap.width!==0&&bt.bitmap.height!==0){var Ct=Je[dt][Tt].rect;a.AlphaImage.copy(bt.bitmap,xt,{x:0,y:0},{x:Ct.x+1,y:Ct.y+1},bt.bitmap)}}}this.image=xt,this.positions=Je};a.register("GlyphAtlas",o);var t=function(Ze){this.tileID=new a.OverscaledTileID(Ze.tileID.overscaledZ,Ze.tileID.wrap,Ze.tileID.canonical.z,Ze.tileID.canonical.x,Ze.tileID.canonical.y),this.uid=Ze.uid,this.zoom=Ze.zoom,this.pixelRatio=Ze.pixelRatio,this.tileSize=Ze.tileSize,this.source=Ze.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Ze.showCollisionBoxes,this.collectResourceTiming=!!Ze.collectResourceTiming,this.returnDependencies=!!Ze.returnDependencies,this.promoteId=Ze.promoteId};function i(Ze,Je,Ue){for(var Xe=new a.EvaluationParameters(Je),lt=0,ot=Ze;lt<ot.length;lt+=1)ot[lt].recalculate(Xe,Ue)}function n(Ze,Je){var Ue=a.getArrayBuffer(Ze.request,function(Xe,lt,ot,Be){Xe?Je(Xe):lt&&Je(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(lt)),rawData:lt,cacheControl:ot,expires:Be})});return function(){Ue.cancel(),Je()}}t.prototype.parse=function(Ze,Je,Ue,Xe,lt){var ot=this;this.status="parsing",this.data=Ze,this.collisionBoxArray=new a.CollisionBoxArray;var Be=new a.DictionaryCoder(Object.keys(Ze.layers).sort()),Ne=new a.FeatureIndex(this.tileID,this.promoteId);Ne.bucketLayerIDs=[];var at,$e,gt,yt,xt={},dt={featureIndex:Ne,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ue},Lt=Je.familiesBySource[this.source];for(var Tt in Lt){var bt=Ze.layers[Tt];if(bt){bt.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+Tt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Ct=Be.encode(Tt),Dt=[],Bt=0;Bt<bt.length;Bt++){var Xt=bt.feature(Bt),an=Ne.getId(Xt,Tt);Dt.push({feature:Xt,id:an,index:Bt,sourceLayerIndex:Ct})}for(var Wt=0,Vt=Lt[Tt];Wt<Vt.length;Wt+=1){var on=Vt[Wt],Sn=on[0];Sn.minzoom&&this.zoom<Math.floor(Sn.minzoom)||Sn.maxzoom&&this.zoom>=Sn.maxzoom||Sn.visibility!=="none"&&(i(on,this.zoom,Ue),(xt[Sn.id]=Sn.createBucket({index:Ne.bucketLayerIDs.length,layers:on,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ct,sourceID:this.source})).populate(Dt,dt,this.tileID.canonical),Ne.bucketLayerIDs.push(on.map(function(nn){return nn.id})))}}}var Ln=a.mapObject(dt.glyphDependencies,function(nn){return Object.keys(nn).map(Number)});Object.keys(Ln).length?Xe.send("getGlyphs",{uid:this.uid,stacks:Ln},function(nn,cn){at||(at=nn,$e=cn,ln.call(ot))}):$e={};var fn=Object.keys(dt.iconDependencies);fn.length?Xe.send("getImages",{icons:fn,source:this.source,tileID:this.tileID,type:"icons"},function(nn,cn){at||(at=nn,gt=cn,ln.call(ot))}):gt={};var Zt=Object.keys(dt.patternDependencies);function ln(){if(at)return lt(at);if($e&&gt&&yt){var nn=new o($e),cn=new a.ImageAtlas(gt,yt);for(var kn in xt){var An=xt[kn];An instanceof a.SymbolBucket?(i(An.layers,this.zoom,Ue),a.performSymbolLayout(An,$e,nn.positions,gt,cn.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):An.hasPattern&&(An instanceof a.LineBucket||An instanceof a.FillBucket||An instanceof a.FillExtrusionBucket)&&(i(An.layers,this.zoom,Ue),An.addFeatures(dt,this.tileID.canonical,cn.patternPositions))}this.status="done",lt(null,{buckets:a.values(xt).filter(function(wn){return!wn.isEmpty()}),featureIndex:Ne,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:nn.image,imageAtlas:cn,glyphMap:this.returnDependencies?$e:null,iconMap:this.returnDependencies?gt:null,glyphPositions:this.returnDependencies?nn.positions:null})}}Zt.length?Xe.send("getImages",{icons:Zt,source:this.source,tileID:this.tileID,type:"patterns"},function(nn,cn){at||(at=nn,yt=cn,ln.call(ot))}):yt={},ln.call(this)};var r=function(Ze,Je,Ue,Xe){this.actor=Ze,this.layerIndex=Je,this.availableImages=Ue,this.loadVectorData=Xe||n,this.loading={},this.loaded={}};r.prototype.loadTile=function(Ze,Je){var Ue=this,Xe=Ze.uid;this.loading||(this.loading={});var lt=!!(Ze&&Ze.request&&Ze.request.collectResourceTiming)&&new a.RequestPerformance(Ze.request),ot=this.loading[Xe]=new t(Ze);ot.abort=this.loadVectorData(Ze,function(Be,Ne){if(delete Ue.loading[Xe],Be||!Ne)return ot.status="done",Ue.loaded[Xe]=ot,Je(Be);var at=Ne.rawData,$e={};Ne.expires&&($e.expires=Ne.expires),Ne.cacheControl&&($e.cacheControl=Ne.cacheControl);var gt={};if(lt){var yt=lt.finish();yt&&(gt.resourceTiming=JSON.parse(JSON.stringify(yt)))}ot.vectorTile=Ne.vectorTile,ot.parse(Ne.vectorTile,Ue.layerIndex,Ue.availableImages,Ue.actor,function(xt,dt){if(xt||!dt)return Je(xt);Je(null,a.extend({rawTileData:at.slice(0)},dt,$e,gt))}),Ue.loaded=Ue.loaded||{},Ue.loaded[Xe]=ot})},r.prototype.reloadTile=function(Ze,Je){var Ue=this,Xe=this.loaded,lt=Ze.uid,ot=this;if(Xe&&Xe[lt]){var Be=Xe[lt];Be.showCollisionBoxes=Ze.showCollisionBoxes;var Ne=function(at,$e){var gt=Be.reloadCallback;gt&&(delete Be.reloadCallback,Be.parse(Be.vectorTile,ot.layerIndex,Ue.availableImages,ot.actor,gt)),Je(at,$e)};Be.status==="parsing"?Be.reloadCallback=Ne:Be.status==="done"&&(Be.vectorTile?Be.parse(Be.vectorTile,this.layerIndex,this.availableImages,this.actor,Ne):Ne())}},r.prototype.abortTile=function(Ze,Je){var Ue=this.loading,Xe=Ze.uid;Ue&&Ue[Xe]&&Ue[Xe].abort&&(Ue[Xe].abort(),delete Ue[Xe]),Je()},r.prototype.removeTile=function(Ze,Je){var Ue=this.loaded,Xe=Ze.uid;Ue&&Ue[Xe]&&delete Ue[Xe],Je()};var l=a.window.ImageBitmap,s=function(){this.loaded={}};s.prototype.loadTile=function(Ze,Je){var Ue=Ze.uid,Xe=Ze.encoding,lt=Ze.rawImageData,ot=l&&lt instanceof l?this.getImageData(lt):lt,Be=new a.DEMData(Ue,ot,Xe);this.loaded=this.loaded||{},this.loaded[Ue]=Be,Je(null,Be)},s.prototype.getImageData=function(Ze){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Ze.width,Ze.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=Ze.width,this.offscreenCanvas.height=Ze.height,this.offscreenCanvasContext.drawImage(Ze,0,0,Ze.width,Ze.height);var Je=this.offscreenCanvasContext.getImageData(-1,-1,Ze.width+2,Ze.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:Je.width,height:Je.height},Je.data)},s.prototype.removeTile=function(Ze){var Je=this.loaded,Ue=Ze.uid;Je&&Je[Ue]&&delete Je[Ue]};var u=function Ze(Je,Ue){var Xe,lt=Je&&Je.type;if(lt==="FeatureCollection")for(Xe=0;Xe<Je.features.length;Xe++)Ze(Je.features[Xe],Ue);else if(lt==="GeometryCollection")for(Xe=0;Xe<Je.geometries.length;Xe++)Ze(Je.geometries[Xe],Ue);else if(lt==="Feature")Ze(Je.geometry,Ue);else if(lt==="Polygon")p(Je.coordinates,Ue);else if(lt==="MultiPolygon")for(Xe=0;Xe<Je.coordinates.length;Xe++)p(Je.coordinates[Xe],Ue);return Je};function p(Ze,Je){if(Ze.length!==0){c(Ze[0],Je);for(var Ue=1;Ue<Ze.length;Ue++)c(Ze[Ue],!Je)}}function c(Ze,Je){for(var Ue=0,Xe=0,lt=Ze.length,ot=lt-1;Xe<lt;ot=Xe++)Ue+=(Ze[Xe][0]-Ze[ot][0])*(Ze[ot][1]+Ze[Xe][1]);Ue>=0!=!!Je&&Ze.reverse()}var x=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,g=function(Ze){this._feature=Ze,this.extent=a.EXTENT,this.type=Ze.type,this.properties=Ze.tags,"id"in Ze&&!isNaN(Ze.id)&&(this.id=parseInt(Ze.id,10))};g.prototype.loadGeometry=function(){if(this._feature.type===1){for(var Ze=[],Je=0,Ue=this._feature.geometry;Je<Ue.length;Je+=1){var Xe=Ue[Je];Ze.push([new a.Point$1(Xe[0],Xe[1])])}return Ze}for(var lt=[],ot=0,Be=this._feature.geometry;ot<Be.length;ot+=1){for(var Ne=[],at=0,$e=Be[ot];at<$e.length;at+=1){var gt=$e[at];Ne.push(new a.Point$1(gt[0],gt[1]))}lt.push(Ne)}return lt},g.prototype.toGeoJSON=function(Ze,Je,Ue){return x.call(this,Ze,Je,Ue)};var d=function(Ze){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=Ze.length,this._features=Ze};d.prototype.feature=function(Ze){return new g(this._features[Ze])};var v=a.vectorTile.VectorTileFeature,y=m;function m(Ze,Je){this.options=Je||{},this.features=Ze,this.length=Ze.length}function w(Ze,Je){this.id=typeof Ze.id=="number"?Ze.id:void 0,this.type=Ze.type,this.rawGeometry=Ze.type===1?[Ze.geometry]:Ze.geometry,this.properties=Ze.tags,this.extent=Je||4096}m.prototype.feature=function(Ze){return new w(this.features[Ze],this.options.extent)},w.prototype.loadGeometry=function(){var Ze=this.rawGeometry;this.geometry=[];for(var Je=0;Je<Ze.length;Je++){for(var Ue=Ze[Je],Xe=[],lt=0;lt<Ue.length;lt++)Xe.push(new a.Point$1(Ue[lt][0],Ue[lt][1]));this.geometry.push(Xe)}return this.geometry},w.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Ze=this.geometry,Je=1/0,Ue=-1/0,Xe=1/0,lt=-1/0,ot=0;ot<Ze.length;ot++)for(var Be=Ze[ot],Ne=0;Ne<Be.length;Ne++){var at=Be[Ne];Je=Math.min(Je,at.x),Ue=Math.max(Ue,at.x),Xe=Math.min(Xe,at.y),lt=Math.max(lt,at.y)}return[Je,Xe,Ue,lt]},w.prototype.toGeoJSON=v.prototype.toGeoJSON;var f=O,S=O,T=function(Ze,Je){Je=Je||{};var Ue={};for(var Xe in Ze)Ue[Xe]=new y(Ze[Xe].features,Je),Ue[Xe].name=Xe,Ue[Xe].version=Je.version,Ue[Xe].extent=Je.extent;return O({layers:Ue})},E=y;function O(Ze){var Je=new a.pbf;return function(Ue,Xe){for(var lt in Ue.layers)Xe.writeMessage(3,P,Ue.layers[lt])}(Ze,Je),Je.finish()}function P(Ze,Je){var Ue;Je.writeVarintField(15,Ze.version||1),Je.writeStringField(1,Ze.name||""),Je.writeVarintField(5,Ze.extent||4096);var Xe={keys:[],values:[],keycache:{},valuecache:{}};for(Ue=0;Ue<Ze.length;Ue++)Xe.feature=Ze.feature(Ue),Je.writeMessage(2,I,Xe);var lt=Xe.keys;for(Ue=0;Ue<lt.length;Ue++)Je.writeStringField(3,lt[Ue]);var ot=Xe.values;for(Ue=0;Ue<ot.length;Ue++)Je.writeMessage(4,Z,ot[Ue])}function I(Ze,Je){var Ue=Ze.feature;Ue.id!==void 0&&Je.writeVarintField(1,Ue.id),Je.writeMessage(2,z,Ze),Je.writeVarintField(3,Ue.type),Je.writeMessage(4,N,Ue)}function z(Ze,Je){var Ue=Ze.feature,Xe=Ze.keys,lt=Ze.values,ot=Ze.keycache,Be=Ze.valuecache;for(var Ne in Ue.properties){var at=ot[Ne];at===void 0&&(Xe.push(Ne),at=Xe.length-1,ot[Ne]=at),Je.writeVarint(at);var $e=Ue.properties[Ne],gt=typeof $e;gt!=="string"&&gt!=="boolean"&&gt!=="number"&&($e=JSON.stringify($e));var yt=gt+":"+$e,xt=Be[yt];xt===void 0&&(lt.push($e),xt=lt.length-1,Be[yt]=xt),Je.writeVarint(xt)}}function j(Ze,Je){return(Je<<3)+(7&Ze)}function R(Ze){return Ze<<1^Ze>>31}function N(Ze,Je){for(var Ue=Ze.loadGeometry(),Xe=Ze.type,lt=0,ot=0,Be=Ue.length,Ne=0;Ne<Be;Ne++){var at=Ue[Ne],$e=1;Xe===1&&($e=at.length),Je.writeVarint(j(1,$e));for(var gt=Xe===3?at.length-1:at.length,yt=0;yt<gt;yt++){yt===1&&Xe!==1&&Je.writeVarint(j(2,gt-1));var xt=at[yt].x-lt,dt=at[yt].y-ot;Je.writeVarint(R(xt)),Je.writeVarint(R(dt)),lt+=xt,ot+=dt}Xe===3&&Je.writeVarint(j(7,1))}}function Z(Ze,Je){var Ue=typeof Ze;Ue==="string"?Je.writeStringField(1,Ze):Ue==="boolean"?Je.writeBooleanField(7,Ze):Ue==="number"&&(Ze%1!=0?Je.writeDoubleField(3,Ze):Ze<0?Je.writeSVarintField(6,Ze):Je.writeVarintField(5,Ze))}function F(Ze,Je,Ue,Xe,lt,ot){if(!(lt-Xe<=Ue)){var Be=Xe+lt>>1;U(Ze,Je,Be,Xe,lt,ot%2),F(Ze,Je,Ue,Xe,Be-1,ot+1),F(Ze,Je,Ue,Be+1,lt,ot+1)}}function U(Ze,Je,Ue,Xe,lt,ot){for(;lt>Xe;){if(lt-Xe>600){var Be=lt-Xe+1,Ne=Ue-Xe+1,at=Math.log(Be),$e=.5*Math.exp(2*at/3),gt=.5*Math.sqrt(at*$e*(Be-$e)/Be)*(Ne-Be/2<0?-1:1);U(Ze,Je,Ue,Math.max(Xe,Math.floor(Ue-Ne*$e/Be+gt)),Math.min(lt,Math.floor(Ue+(Be-Ne)*$e/Be+gt)),ot)}var yt=Je[2*Ue+ot],xt=Xe,dt=lt;for(V(Ze,Je,Xe,Ue),Je[2*lt+ot]>yt&&V(Ze,Je,Xe,lt);xt<dt;){for(V(Ze,Je,xt,dt),xt++,dt--;Je[2*xt+ot]<yt;)xt++;for(;Je[2*dt+ot]>yt;)dt--}Je[2*Xe+ot]===yt?V(Ze,Je,Xe,dt):V(Ze,Je,++dt,lt),dt<=Ue&&(Xe=dt+1),Ue<=dt&&(lt=dt-1)}}function V(Ze,Je,Ue,Xe){te(Ze,Ue,Xe),te(Je,2*Ue,2*Xe),te(Je,2*Ue+1,2*Xe+1)}function te(Ze,Je,Ue){var Xe=Ze[Je];Ze[Je]=Ze[Ue],Ze[Ue]=Xe}function Q(Ze,Je,Ue,Xe){var lt=Ze-Ue,ot=Je-Xe;return lt*lt+ot*ot}f.fromVectorTileJs=S,f.fromGeojsonVt=T,f.GeoJSONWrapper=E;var J=function(Ze){return Ze[0]},X=function(Ze){return Ze[1]},K=function(Ze,Je,Ue,Xe,lt){Je===void 0&&(Je=J),Ue===void 0&&(Ue=X),Xe===void 0&&(Xe=64),lt===void 0&&(lt=Float64Array),this.nodeSize=Xe,this.points=Ze;for(var ot=Ze.length<65536?Uint16Array:Uint32Array,Be=this.ids=new ot(Ze.length),Ne=this.coords=new lt(2*Ze.length),at=0;at<Ze.length;at++)Be[at]=at,Ne[2*at]=Je(Ze[at]),Ne[2*at+1]=Ue(Ze[at]);F(Be,Ne,Xe,0,Be.length-1,0)};K.prototype.range=function(Ze,Je,Ue,Xe){return function(lt,ot,Be,Ne,at,$e,gt){for(var yt,xt,dt=[0,lt.length-1,0],Lt=[];dt.length;){var Tt=dt.pop(),bt=dt.pop(),Ct=dt.pop();if(bt-Ct<=gt)for(var Dt=Ct;Dt<=bt;Dt++)yt=ot[2*Dt],xt=ot[2*Dt+1],yt>=Be&&yt<=at&&xt>=Ne&&xt<=$e&&Lt.push(lt[Dt]);else{var Bt=Math.floor((Ct+bt)/2);yt=ot[2*Bt],xt=ot[2*Bt+1],yt>=Be&&yt<=at&&xt>=Ne&&xt<=$e&&Lt.push(lt[Bt]);var Xt=(Tt+1)%2;(Tt===0?Be<=yt:Ne<=xt)&&(dt.push(Ct),dt.push(Bt-1),dt.push(Xt)),(Tt===0?at>=yt:$e>=xt)&&(dt.push(Bt+1),dt.push(bt),dt.push(Xt))}}return Lt}(this.ids,this.coords,Ze,Je,Ue,Xe,this.nodeSize)},K.prototype.within=function(Ze,Je,Ue){return function(Xe,lt,ot,Be,Ne,at){for(var $e=[0,Xe.length-1,0],gt=[],yt=Ne*Ne;$e.length;){var xt=$e.pop(),dt=$e.pop(),Lt=$e.pop();if(dt-Lt<=at)for(var Tt=Lt;Tt<=dt;Tt++)Q(lt[2*Tt],lt[2*Tt+1],ot,Be)<=yt&&gt.push(Xe[Tt]);else{var bt=Math.floor((Lt+dt)/2),Ct=lt[2*bt],Dt=lt[2*bt+1];Q(Ct,Dt,ot,Be)<=yt&&gt.push(Xe[bt]);var Bt=(xt+1)%2;(xt===0?ot-Ne<=Ct:Be-Ne<=Dt)&&($e.push(Lt),$e.push(bt-1),$e.push(Bt)),(xt===0?ot+Ne>=Ct:Be+Ne>=Dt)&&($e.push(bt+1),$e.push(dt),$e.push(Bt))}}return gt}(this.ids,this.coords,Ze,Je,Ue,this.nodeSize)};var ee={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(Ze){return Ze}},re=function(Ze){this.options=be(Object.create(ee),Ze),this.trees=new Array(this.options.maxZoom+1)};function ie(Ze,Je,Ue,Xe,lt){return{x:Ze,y:Je,zoom:1/0,id:Ue,parentId:-1,numPoints:Xe,properties:lt}}function ae(Ze,Je){var Ue=Ze.geometry.coordinates,Xe=Ue[0],lt=Ue[1];return{x:de(Xe),y:ye(lt),zoom:1/0,index:Je,parentId:-1}}function ue(Ze){return{type:"Feature",id:Ze.id,properties:pe(Ze),geometry:{type:"Point",coordinates:[(Xe=Ze.x,360*(Xe-.5)),(Je=Ze.y,Ue=(180-360*Je)*Math.PI/180,360*Math.atan(Math.exp(Ue))/Math.PI-90)]}};var Je,Ue,Xe}function pe(Ze){var Je=Ze.numPoints,Ue=Je>=1e4?Math.round(Je/1e3)+"k":Je>=1e3?Math.round(Je/100)/10+"k":Je;return be(be({},Ze.properties),{cluster:!0,cluster_id:Ze.id,point_count:Je,point_count_abbreviated:Ue})}function de(Ze){return Ze/360+.5}function ye(Ze){var Je=Math.sin(Ze*Math.PI/180),Ue=.5-.25*Math.log((1+Je)/(1-Je))/Math.PI;return Ue<0?0:Ue>1?1:Ue}function be(Ze,Je){for(var Ue in Je)Ze[Ue]=Je[Ue];return Ze}function me(Ze){return Ze.x}function Ee(Ze){return Ze.y}function Te(Ze,Je,Ue,Xe){for(var lt,ot=Xe,Be=Ue-Je>>1,Ne=Ue-Je,at=Ze[Je],$e=Ze[Je+1],gt=Ze[Ue],yt=Ze[Ue+1],xt=Je+3;xt<Ue;xt+=3){var dt=we(Ze[xt],Ze[xt+1],at,$e,gt,yt);if(dt>ot)lt=xt,ot=dt;else if(dt===ot){var Lt=Math.abs(xt-Be);Lt<Ne&&(lt=xt,Ne=Lt)}}ot>Xe&&(lt-Je>3&&Te(Ze,Je,lt,Xe),Ze[lt+2]=ot,Ue-lt>3&&Te(Ze,lt,Ue,Xe))}function we(Ze,Je,Ue,Xe,lt,ot){var Be=lt-Ue,Ne=ot-Xe;if(Be!==0||Ne!==0){var at=((Ze-Ue)*Be+(Je-Xe)*Ne)/(Be*Be+Ne*Ne);at>1?(Ue=lt,Xe=ot):at>0&&(Ue+=Be*at,Xe+=Ne*at)}return(Be=Ze-Ue)*Be+(Ne=Je-Xe)*Ne}function oe(Ze,Je,Ue,Xe){var lt={id:Ze===void 0?null:Ze,type:Je,geometry:Ue,tags:Xe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ot){var Be=ot.geometry,Ne=ot.type;if(Ne==="Point"||Ne==="MultiPoint"||Ne==="LineString")se(ot,Be);else if(Ne==="Polygon"||Ne==="MultiLineString")for(var at=0;at<Be.length;at++)se(ot,Be[at]);else if(Ne==="MultiPolygon")for(at=0;at<Be.length;at++)for(var $e=0;$e<Be[at].length;$e++)se(ot,Be[at][$e])}(lt),lt}function se(Ze,Je){for(var Ue=0;Ue<Je.length;Ue+=3)Ze.minX=Math.min(Ze.minX,Je[Ue]),Ze.minY=Math.min(Ze.minY,Je[Ue+1]),Ze.maxX=Math.max(Ze.maxX,Je[Ue]),Ze.maxY=Math.max(Ze.maxY,Je[Ue+1])}function he(Ze,Je,Ue,Xe){if(Je.geometry){var lt=Je.geometry.coordinates,ot=Je.geometry.type,Be=Math.pow(Ue.tolerance/((1<<Ue.maxZoom)*Ue.extent),2),Ne=[],at=Je.id;if(Ue.promoteId?at=Je.properties[Ue.promoteId]:Ue.generateId&&(at=Xe||0),ot==="Point")Se(lt,Ne);else if(ot==="MultiPoint")for(var $e=0;$e<lt.length;$e++)Se(lt[$e],Ne);else if(ot==="LineString")_e(lt,Ne,Be,!1);else if(ot==="MultiLineString"){if(Ue.lineMetrics){for($e=0;$e<lt.length;$e++)Ne=[],_e(lt[$e],Ne,Be,!1),Ze.push(oe(at,"LineString",Ne,Je.properties));return}Ae(lt,Ne,Be,!1)}else if(ot==="Polygon")Ae(lt,Ne,Be,!0);else{if(ot!=="MultiPolygon"){if(ot==="GeometryCollection"){for($e=0;$e<Je.geometry.geometries.length;$e++)he(Ze,{id:at,geometry:Je.geometry.geometries[$e],properties:Je.properties},Ue,Xe);return}throw new Error("Input data is not a valid GeoJSON object.")}for($e=0;$e<lt.length;$e++){var gt=[];Ae(lt[$e],gt,Be,!0),Ne.push(gt)}}Ze.push(oe(at,ot,Ne,Je.properties))}}function Se(Ze,Je){Je.push(Ce(Ze[0])),Je.push(Re(Ze[1])),Je.push(0)}function _e(Ze,Je,Ue,Xe){for(var lt,ot,Be=0,Ne=0;Ne<Ze.length;Ne++){var at=Ce(Ze[Ne][0]),$e=Re(Ze[Ne][1]);Je.push(at),Je.push($e),Je.push(0),Ne>0&&(Be+=Xe?(lt*$e-at*ot)/2:Math.sqrt(Math.pow(at-lt,2)+Math.pow($e-ot,2))),lt=at,ot=$e}var gt=Je.length-3;Je[2]=1,Te(Je,0,gt,Ue),Je[gt+2]=1,Je.size=Math.abs(Be),Je.start=0,Je.end=Je.size}function Ae(Ze,Je,Ue,Xe){for(var lt=0;lt<Ze.length;lt++){var ot=[];_e(Ze[lt],ot,Ue,Xe),Je.push(ot)}}function Ce(Ze){return Ze/360+.5}function Re(Ze){var Je=Math.sin(Ze*Math.PI/180),Ue=.5-.25*Math.log((1+Je)/(1-Je))/Math.PI;return Ue<0?0:Ue>1?1:Ue}function fe(Ze,Je,Ue,Xe,lt,ot,Be,Ne){if(Xe/=Je,ot>=(Ue/=Je)&&Be<Xe)return Ze;if(Be<Ue||ot>=Xe)return null;for(var at=[],$e=0;$e<Ze.length;$e++){var gt=Ze[$e],yt=gt.geometry,xt=gt.type,dt=lt===0?gt.minX:gt.minY,Lt=lt===0?gt.maxX:gt.maxY;if(dt>=Ue&&Lt<Xe)at.push(gt);else if(!(Lt<Ue||dt>=Xe)){var Tt=[];if(xt==="Point"||xt==="MultiPoint")xe(yt,Tt,Ue,Xe,lt);else if(xt==="LineString")ke(yt,Tt,Ue,Xe,lt,!1,Ne.lineMetrics);else if(xt==="MultiLineString")Fe(yt,Tt,Ue,Xe,lt,!1);else if(xt==="Polygon")Fe(yt,Tt,Ue,Xe,lt,!0);else if(xt==="MultiPolygon")for(var bt=0;bt<yt.length;bt++){var Ct=[];Fe(yt[bt],Ct,Ue,Xe,lt,!0),Ct.length&&Tt.push(Ct)}if(Tt.length){if(Ne.lineMetrics&&xt==="LineString"){for(bt=0;bt<Tt.length;bt++)at.push(oe(gt.id,xt,Tt[bt],gt.tags));continue}xt!=="LineString"&&xt!=="MultiLineString"||(Tt.length===1?(xt="LineString",Tt=Tt[0]):xt="MultiLineString"),xt!=="Point"&&xt!=="MultiPoint"||(xt=Tt.length===3?"Point":"MultiPoint"),at.push(oe(gt.id,xt,Tt,gt.tags))}}}return at.length?at:null}function xe(Ze,Je,Ue,Xe,lt){for(var ot=0;ot<Ze.length;ot+=3){var Be=Ze[ot+lt];Be>=Ue&&Be<=Xe&&(Je.push(Ze[ot]),Je.push(Ze[ot+1]),Je.push(Ze[ot+2]))}}function ke(Ze,Je,Ue,Xe,lt,ot,Be){for(var Ne,at,$e=Ie(Ze),gt=lt===0?qe:Ye,yt=Ze.start,xt=0;xt<Ze.length-3;xt+=3){var dt=Ze[xt],Lt=Ze[xt+1],Tt=Ze[xt+2],bt=Ze[xt+3],Ct=Ze[xt+4],Dt=lt===0?dt:Lt,Bt=lt===0?bt:Ct,Xt=!1;Be&&(Ne=Math.sqrt(Math.pow(dt-bt,2)+Math.pow(Lt-Ct,2))),Dt<Ue?Bt>Ue&&(at=gt($e,dt,Lt,bt,Ct,Ue),Be&&($e.start=yt+Ne*at)):Dt>Xe?Bt<Xe&&(at=gt($e,dt,Lt,bt,Ct,Xe),Be&&($e.start=yt+Ne*at)):ze($e,dt,Lt,Tt),Bt<Ue&&Dt>=Ue&&(at=gt($e,dt,Lt,bt,Ct,Ue),Xt=!0),Bt>Xe&&Dt<=Xe&&(at=gt($e,dt,Lt,bt,Ct,Xe),Xt=!0),!ot&&Xt&&(Be&&($e.end=yt+Ne*at),Je.push($e),$e=Ie(Ze)),Be&&(yt+=Ne)}var an=Ze.length-3;dt=Ze[an],Lt=Ze[an+1],Tt=Ze[an+2],(Dt=lt===0?dt:Lt)>=Ue&&Dt<=Xe&&ze($e,dt,Lt,Tt),an=$e.length-3,ot&&an>=3&&($e[an]!==$e[0]||$e[an+1]!==$e[1])&&ze($e,$e[0],$e[1],$e[2]),$e.length&&Je.push($e)}function Ie(Ze){var Je=[];return Je.size=Ze.size,Je.start=Ze.start,Je.end=Ze.end,Je}function Fe(Ze,Je,Ue,Xe,lt,ot){for(var Be=0;Be<Ze.length;Be++)ke(Ze[Be],Je,Ue,Xe,lt,ot,!1)}function ze(Ze,Je,Ue,Xe){Ze.push(Je),Ze.push(Ue),Ze.push(Xe)}function qe(Ze,Je,Ue,Xe,lt,ot){var Be=(ot-Je)/(Xe-Je);return Ze.push(ot),Ze.push(Ue+(lt-Ue)*Be),Ze.push(1),Be}function Ye(Ze,Je,Ue,Xe,lt,ot){var Be=(ot-Ue)/(lt-Ue);return Ze.push(Je+(Xe-Je)*Be),Ze.push(ot),Ze.push(1),Be}function Qe(Ze,Je){for(var Ue=[],Xe=0;Xe<Ze.length;Xe++){var lt,ot=Ze[Xe],Be=ot.type;if(Be==="Point"||Be==="MultiPoint"||Be==="LineString")lt=ft(ot.geometry,Je);else if(Be==="MultiLineString"||Be==="Polygon"){lt=[];for(var Ne=0;Ne<ot.geometry.length;Ne++)lt.push(ft(ot.geometry[Ne],Je))}else if(Be==="MultiPolygon")for(lt=[],Ne=0;Ne<ot.geometry.length;Ne++){for(var at=[],$e=0;$e<ot.geometry[Ne].length;$e++)at.push(ft(ot.geometry[Ne][$e],Je));lt.push(at)}Ue.push(oe(ot.id,Be,lt,ot.tags))}return Ue}function ft(Ze,Je){var Ue=[];Ue.size=Ze.size,Ze.start!==void 0&&(Ue.start=Ze.start,Ue.end=Ze.end);for(var Xe=0;Xe<Ze.length;Xe+=3)Ue.push(Ze[Xe]+Je,Ze[Xe+1],Ze[Xe+2]);return Ue}function ht(Ze,Je){if(Ze.transformed)return Ze;var Ue,Xe,lt,ot=1<<Ze.z,Be=Ze.x,Ne=Ze.y;for(Ue=0;Ue<Ze.features.length;Ue++){var at=Ze.features[Ue],$e=at.geometry,gt=at.type;if(at.geometry=[],gt===1)for(Xe=0;Xe<$e.length;Xe+=2)at.geometry.push(mt($e[Xe],$e[Xe+1],Je,ot,Be,Ne));else for(Xe=0;Xe<$e.length;Xe++){var yt=[];for(lt=0;lt<$e[Xe].length;lt+=2)yt.push(mt($e[Xe][lt],$e[Xe][lt+1],Je,ot,Be,Ne));at.geometry.push(yt)}}return Ze.transformed=!0,Ze}function mt(Ze,Je,Ue,Xe,lt,ot){return[Math.round(Ue*(Ze*Xe-lt)),Math.round(Ue*(Je*Xe-ot))]}function Mt(Ze,Je,Ue,Xe,lt){for(var ot=Je===lt.maxZoom?0:lt.tolerance/((1<<Je)*lt.extent),Be={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ue,y:Xe,z:Je,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ne=0;Ne<Ze.length;Ne++){Be.numFeatures++,_t(Be,Ze[Ne],ot,lt);var at=Ze[Ne].minX,$e=Ze[Ne].minY,gt=Ze[Ne].maxX,yt=Ze[Ne].maxY;at<Be.minX&&(Be.minX=at),$e<Be.minY&&(Be.minY=$e),gt>Be.maxX&&(Be.maxX=gt),yt>Be.maxY&&(Be.maxY=yt)}return Be}function _t(Ze,Je,Ue,Xe){var lt=Je.geometry,ot=Je.type,Be=[];if(ot==="Point"||ot==="MultiPoint")for(var Ne=0;Ne<lt.length;Ne+=3)Be.push(lt[Ne]),Be.push(lt[Ne+1]),Ze.numPoints++,Ze.numSimplified++;else if(ot==="LineString")it(Be,lt,Ze,Ue,!1,!1);else if(ot==="MultiLineString"||ot==="Polygon")for(Ne=0;Ne<lt.length;Ne++)it(Be,lt[Ne],Ze,Ue,ot==="Polygon",Ne===0);else if(ot==="MultiPolygon")for(var at=0;at<lt.length;at++){var $e=lt[at];for(Ne=0;Ne<$e.length;Ne++)it(Be,$e[Ne],Ze,Ue,!0,Ne===0)}if(Be.length){var gt=Je.tags||null;if(ot==="LineString"&&Xe.lineMetrics){for(var yt in gt={},Je.tags)gt[yt]=Je.tags[yt];gt.mapbox_clip_start=lt.start/lt.size,gt.mapbox_clip_end=lt.end/lt.size}var xt={geometry:Be,type:ot==="Polygon"||ot==="MultiPolygon"?3:ot==="LineString"||ot==="MultiLineString"?2:1,tags:gt};Je.id!==null&&(xt.id=Je.id),Ze.features.push(xt)}}function it(Ze,Je,Ue,Xe,lt,ot){var Be=Xe*Xe;if(Xe>0&&Je.size<(lt?Be:Xe))Ue.numPoints+=Je.length/3;else{for(var Ne=[],at=0;at<Je.length;at+=3)(Xe===0||Je[at+2]>Be)&&(Ue.numSimplified++,Ne.push(Je[at]),Ne.push(Je[at+1])),Ue.numPoints++;lt&&function($e,gt){for(var yt=0,xt=0,dt=$e.length,Lt=dt-2;xt<dt;Lt=xt,xt+=2)yt+=($e[xt]-$e[Lt])*($e[xt+1]+$e[Lt+1]);if(yt>0===gt)for(xt=0,dt=$e.length;xt<dt/2;xt+=2){var Tt=$e[xt],bt=$e[xt+1];$e[xt]=$e[dt-2-xt],$e[xt+1]=$e[dt-1-xt],$e[dt-2-xt]=Tt,$e[dt-1-xt]=bt}}(Ne,ot),Ze.push(Ne)}}function st(Ze,Je){var Ue=(Je=this.options=function(lt,ot){for(var Be in ot)lt[Be]=ot[Be];return lt}(Object.create(this.options),Je)).debug;if(Ue&&console.time("preprocess data"),Je.maxZoom<0||Je.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Je.promoteId&&Je.generateId)throw new Error("promoteId and generateId cannot be used together.");var Xe=function(lt,ot){var Be=[];if(lt.type==="FeatureCollection")for(var Ne=0;Ne<lt.features.length;Ne++)he(Be,lt.features[Ne],ot,Ne);else lt.type==="Feature"?he(Be,lt,ot):he(Be,{geometry:lt},ot);return Be}(Ze,Je);this.tiles={},this.tileCoords=[],Ue&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Je.indexMaxZoom,Je.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Xe=function(lt,ot){var Be=ot.buffer/ot.extent,Ne=lt,at=fe(lt,1,-1-Be,Be,0,-1,2,ot),$e=fe(lt,1,1-Be,2+Be,0,-1,2,ot);return(at||$e)&&(Ne=fe(lt,1,-Be,1+Be,0,-1,2,ot)||[],at&&(Ne=Qe(at,1).concat(Ne)),$e&&(Ne=Ne.concat(Qe($e,-1)))),Ne}(Xe,Je)).length&&this.splitTile(Xe,0,0,0),Ue&&(Xe.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function St(Ze,Je,Ue){return 32*((1<<Ze)*Ue+Je)+Ze}function zt(Ze,Je){var Ue=Ze.tileID.canonical;if(!this._geoJSONIndex)return Je(null,null);var Xe=this._geoJSONIndex.getTile(Ue.z,Ue.x,Ue.y);if(!Xe)return Je(null,null);var lt=new d(Xe.features),ot=f(lt);ot.byteOffset===0&&ot.byteLength===ot.buffer.byteLength||(ot=new Uint8Array(ot)),Je(null,{vectorTile:lt,rawData:ot.buffer})}re.prototype.load=function(Ze){var Je=this.options,Ue=Je.log,Xe=Je.minZoom,lt=Je.maxZoom,ot=Je.nodeSize;Ue&&console.time("total time");var Be="prepare "+Ze.length+" points";Ue&&console.time(Be),this.points=Ze;for(var Ne=[],at=0;at<Ze.length;at++)Ze[at].geometry&&Ne.push(ae(Ze[at],at));this.trees[lt+1]=new K(Ne,me,Ee,ot,Float32Array),Ue&&console.timeEnd(Be);for(var $e=lt;$e>=Xe;$e--){var gt=+Date.now();Ne=this._cluster(Ne,$e),this.trees[$e]=new K(Ne,me,Ee,ot,Float32Array),Ue&&console.log("z%d: %d clusters in %dms",$e,Ne.length,+Date.now()-gt)}return Ue&&console.timeEnd("total time"),this},re.prototype.getClusters=function(Ze,Je){var Ue=((Ze[0]+180)%360+360)%360-180,Xe=Math.max(-90,Math.min(90,Ze[1])),lt=Ze[2]===180?180:((Ze[2]+180)%360+360)%360-180,ot=Math.max(-90,Math.min(90,Ze[3]));if(Ze[2]-Ze[0]>=360)Ue=-180,lt=180;else if(Ue>lt){var Be=this.getClusters([Ue,Xe,180,ot],Je),Ne=this.getClusters([-180,Xe,lt,ot],Je);return Be.concat(Ne)}for(var at=this.trees[this._limitZoom(Je)],$e=[],gt=0,yt=at.range(de(Ue),ye(ot),de(lt),ye(Xe));gt<yt.length;gt+=1){var xt=yt[gt],dt=at.points[xt];$e.push(dt.numPoints?ue(dt):this.points[dt.index])}return $e},re.prototype.getChildren=function(Ze){var Je=this._getOriginId(Ze),Ue=this._getOriginZoom(Ze),Xe="No cluster with the specified id.",lt=this.trees[Ue];if(!lt)throw new Error(Xe);var ot=lt.points[Je];if(!ot)throw new Error(Xe);for(var Be=this.options.radius/(this.options.extent*Math.pow(2,Ue-1)),Ne=[],at=0,$e=lt.within(ot.x,ot.y,Be);at<$e.length;at+=1){var gt=$e[at],yt=lt.points[gt];yt.parentId===Ze&&Ne.push(yt.numPoints?ue(yt):this.points[yt.index])}if(Ne.length===0)throw new Error(Xe);return Ne},re.prototype.getLeaves=function(Ze,Je,Ue){Je=Je||10,Ue=Ue||0;var Xe=[];return this._appendLeaves(Xe,Ze,Je,Ue,0),Xe},re.prototype.getTile=function(Ze,Je,Ue){var Xe=this.trees[this._limitZoom(Ze)],lt=Math.pow(2,Ze),ot=this.options,Be=ot.extent,Ne=ot.radius/Be,at=(Ue-Ne)/lt,$e=(Ue+1+Ne)/lt,gt={features:[]};return this._addTileFeatures(Xe.range((Je-Ne)/lt,at,(Je+1+Ne)/lt,$e),Xe.points,Je,Ue,lt,gt),Je===0&&this._addTileFeatures(Xe.range(1-Ne/lt,at,1,$e),Xe.points,lt,Ue,lt,gt),Je===lt-1&&this._addTileFeatures(Xe.range(0,at,Ne/lt,$e),Xe.points,-1,Ue,lt,gt),gt.features.length?gt:null},re.prototype.getClusterExpansionZoom=function(Ze){for(var Je=this._getOriginZoom(Ze)-1;Je<=this.options.maxZoom;){var Ue=this.getChildren(Ze);if(Je++,Ue.length!==1)break;Ze=Ue[0].properties.cluster_id}return Je},re.prototype._appendLeaves=function(Ze,Je,Ue,Xe,lt){for(var ot=0,Be=this.getChildren(Je);ot<Be.length;ot+=1){var Ne=Be[ot],at=Ne.properties;if(at&&at.cluster?lt+at.point_count<=Xe?lt+=at.point_count:lt=this._appendLeaves(Ze,at.cluster_id,Ue,Xe,lt):lt<Xe?lt++:Ze.push(Ne),Ze.length===Ue)break}return lt},re.prototype._addTileFeatures=function(Ze,Je,Ue,Xe,lt,ot){for(var Be=0,Ne=Ze;Be<Ne.length;Be+=1){var at=Je[Ne[Be]],$e=at.numPoints,gt={type:1,geometry:[[Math.round(this.options.extent*(at.x*lt-Ue)),Math.round(this.options.extent*(at.y*lt-Xe))]],tags:$e?pe(at):this.points[at.index].properties},yt=void 0;$e?yt=at.id:this.options.generateId?yt=at.index:this.points[at.index].id&&(yt=this.points[at.index].id),yt!==void 0&&(gt.id=yt),ot.features.push(gt)}},re.prototype._limitZoom=function(Ze){return Math.max(this.options.minZoom,Math.min(+Ze,this.options.maxZoom+1))},re.prototype._cluster=function(Ze,Je){for(var Ue=[],Xe=this.options,lt=Xe.radius,ot=Xe.extent,Be=Xe.reduce,Ne=Xe.minPoints,at=lt/(ot*Math.pow(2,Je)),$e=0;$e<Ze.length;$e++){var gt=Ze[$e];if(!(gt.zoom<=Je)){gt.zoom=Je;for(var yt=this.trees[Je+1],xt=yt.within(gt.x,gt.y,at),dt=gt.numPoints||1,Lt=dt,Tt=0,bt=xt;Tt<bt.length;Tt+=1){var Ct=bt[Tt],Dt=yt.points[Ct];Dt.zoom>Je&&(Lt+=Dt.numPoints||1)}if(Lt>=Ne){for(var Bt=gt.x*dt,Xt=gt.y*dt,an=Be&&dt>1?this._map(gt,!0):null,Wt=($e<<5)+(Je+1)+this.points.length,Vt=0,on=xt;Vt<on.length;Vt+=1){var Sn=on[Vt],Ln=yt.points[Sn];if(!(Ln.zoom<=Je)){Ln.zoom=Je;var fn=Ln.numPoints||1;Bt+=Ln.x*fn,Xt+=Ln.y*fn,Ln.parentId=Wt,Be&&(an||(an=this._map(gt,!0)),Be(an,this._map(Ln)))}}gt.parentId=Wt,Ue.push(ie(Bt/Lt,Xt/Lt,Wt,Lt,an))}else if(Ue.push(gt),Lt>1)for(var Zt=0,ln=xt;Zt<ln.length;Zt+=1){var nn=ln[Zt],cn=yt.points[nn];cn.zoom<=Je||(cn.zoom=Je,Ue.push(cn))}}}return Ue},re.prototype._getOriginId=function(Ze){return Ze-this.points.length>>5},re.prototype._getOriginZoom=function(Ze){return(Ze-this.points.length)%32},re.prototype._map=function(Ze,Je){if(Ze.numPoints)return Je?be({},Ze.properties):Ze.properties;var Ue=this.points[Ze.index].properties,Xe=this.options.map(Ue);return Je&&Xe===Ue?be({},Xe):Xe},st.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},st.prototype.splitTile=function(Ze,Je,Ue,Xe,lt,ot,Be){for(var Ne=[Ze,Je,Ue,Xe],at=this.options,$e=at.debug;Ne.length;){Xe=Ne.pop(),Ue=Ne.pop(),Je=Ne.pop(),Ze=Ne.pop();var gt=1<<Je,yt=St(Je,Ue,Xe),xt=this.tiles[yt];if(!xt&&($e>1&&console.time("creation"),xt=this.tiles[yt]=Mt(Ze,Je,Ue,Xe,at),this.tileCoords.push({z:Je,x:Ue,y:Xe}),$e)){$e>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Je,Ue,Xe,xt.numFeatures,xt.numPoints,xt.numSimplified),console.timeEnd("creation"));var dt="z"+Je;this.stats[dt]=(this.stats[dt]||0)+1,this.total++}if(xt.source=Ze,lt){if(Je===at.maxZoom||Je===lt)continue;var Lt=1<<lt-Je;if(Ue!==Math.floor(ot/Lt)||Xe!==Math.floor(Be/Lt))continue}else if(Je===at.indexMaxZoom||xt.numPoints<=at.indexMaxPoints)continue;if(xt.source=null,Ze.length!==0){$e>1&&console.time("clipping");var Tt,bt,Ct,Dt,Bt,Xt,an=.5*at.buffer/at.extent,Wt=.5-an,Vt=.5+an,on=1+an;Tt=bt=Ct=Dt=null,Bt=fe(Ze,gt,Ue-an,Ue+Vt,0,xt.minX,xt.maxX,at),Xt=fe(Ze,gt,Ue+Wt,Ue+on,0,xt.minX,xt.maxX,at),Ze=null,Bt&&(Tt=fe(Bt,gt,Xe-an,Xe+Vt,1,xt.minY,xt.maxY,at),bt=fe(Bt,gt,Xe+Wt,Xe+on,1,xt.minY,xt.maxY,at),Bt=null),Xt&&(Ct=fe(Xt,gt,Xe-an,Xe+Vt,1,xt.minY,xt.maxY,at),Dt=fe(Xt,gt,Xe+Wt,Xe+on,1,xt.minY,xt.maxY,at),Xt=null),$e>1&&console.timeEnd("clipping"),Ne.push(Tt||[],Je+1,2*Ue,2*Xe),Ne.push(bt||[],Je+1,2*Ue,2*Xe+1),Ne.push(Ct||[],Je+1,2*Ue+1,2*Xe),Ne.push(Dt||[],Je+1,2*Ue+1,2*Xe+1)}}},st.prototype.getTile=function(Ze,Je,Ue){var Xe=this.options,lt=Xe.extent,ot=Xe.debug;if(Ze<0||Ze>24)return null;var Be=1<<Ze,Ne=St(Ze,Je=(Je%Be+Be)%Be,Ue);if(this.tiles[Ne])return ht(this.tiles[Ne],lt);ot>1&&console.log("drilling down to z%d-%d-%d",Ze,Je,Ue);for(var at,$e=Ze,gt=Je,yt=Ue;!at&&$e>0;)$e--,gt=Math.floor(gt/2),yt=Math.floor(yt/2),at=this.tiles[St($e,gt,yt)];return at&&at.source?(ot>1&&console.log("found parent tile z%d-%d-%d",$e,gt,yt),ot>1&&console.time("drilling down"),this.splitTile(at.source,$e,gt,yt,Ze,Je,Ue),ot>1&&console.timeEnd("drilling down"),this.tiles[Ne]?ht(this.tiles[Ne],lt):null):null};var Ft=function(Ze){function Je(Ue,Xe,lt,ot){Ze.call(this,Ue,Xe,lt,zt),ot&&(this.loadGeoJSON=ot)}return Ze&&(Je.__proto__=Ze),Je.prototype=Object.create(Ze&&Ze.prototype),Je.prototype.constructor=Je,Je.prototype.loadData=function(Ue,Xe){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Xe,this._pendingLoadDataParams=Ue,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},Je.prototype._loadData=function(){var Ue=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Xe=this._pendingCallback,lt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var ot=!!(lt&&lt.request&&lt.request.collectResourceTiming)&&new a.RequestPerformance(lt.request);this.loadGeoJSON(lt,function(Be,Ne){if(Be||!Ne)return Xe(Be);if(typeof Ne!="object")return Xe(new Error("Input data given to '"+lt.source+"' is not a valid GeoJSON object."));u(Ne,!0);try{if(lt.filter){var at=a.createExpression(lt.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(at.result==="error")throw new Error(at.value.map(function(xt){return xt.key+": "+xt.message}).join(", "));var $e=Ne.features.filter(function(xt){return at.value.evaluate({zoom:0},xt)});Ne={type:"FeatureCollection",features:$e}}Ue._geoJSONIndex=lt.cluster?new re(function(xt){var dt=xt.superclusterOptions,Lt=xt.clusterProperties;if(!Lt||!dt)return dt;for(var Tt={},bt={},Ct={accumulated:null,zoom:0},Dt={properties:null},Bt=Object.keys(Lt),Xt=0,an=Bt;Xt<an.length;Xt+=1){var Wt=an[Xt],Vt=Lt[Wt],on=Vt[0],Sn=Vt[1],Ln=a.createExpression(Sn),fn=a.createExpression(typeof on=="string"?[on,["accumulated"],["get",Wt]]:on);Tt[Wt]=Ln.value,bt[Wt]=fn.value}return dt.map=function(Zt){Dt.properties=Zt;for(var ln={},nn=0,cn=Bt;nn<cn.length;nn+=1){var kn=cn[nn];ln[kn]=Tt[kn].evaluate(Ct,Dt)}return ln},dt.reduce=function(Zt,ln){Dt.properties=ln;for(var nn=0,cn=Bt;nn<cn.length;nn+=1){var kn=cn[nn];Ct.accumulated=Zt[kn],Zt[kn]=bt[kn].evaluate(Ct,Dt)}},dt}(lt)).load(Ne.features):function(xt,dt){return new st(xt,dt)}(Ne,lt.geojsonVtOptions)}catch(xt){return Xe(xt)}Ue.loaded={};var gt={};if(ot){var yt=ot.finish();yt&&(gt.resourceTiming={},gt.resourceTiming[lt.source]=JSON.parse(JSON.stringify(yt)))}Xe(null,gt)})}},Je.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},Je.prototype.reloadTile=function(Ue,Xe){var lt=this.loaded,ot=Ue.uid;return lt&&lt[ot]?Ze.prototype.reloadTile.call(this,Ue,Xe):this.loadTile(Ue,Xe)},Je.prototype.loadGeoJSON=function(Ue,Xe){if(Ue.request)a.getJSON(Ue.request,Xe);else{if(typeof Ue.data!="string")return Xe(new Error("Input data given to '"+Ue.source+"' is not a valid GeoJSON object."));try{return Xe(null,JSON.parse(Ue.data))}catch{return Xe(new Error("Input data given to '"+Ue.source+"' is not a valid GeoJSON object."))}}},Je.prototype.removeSource=function(Ue,Xe){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Xe()},Je.prototype.getClusterExpansionZoom=function(Ue,Xe){try{Xe(null,this._geoJSONIndex.getClusterExpansionZoom(Ue.clusterId))}catch(lt){Xe(lt)}},Je.prototype.getClusterChildren=function(Ue,Xe){try{Xe(null,this._geoJSONIndex.getChildren(Ue.clusterId))}catch(lt){Xe(lt)}},Je.prototype.getClusterLeaves=function(Ue,Xe){try{Xe(null,this._geoJSONIndex.getLeaves(Ue.clusterId,Ue.limit,Ue.offset))}catch(lt){Xe(lt)}},Je}(r),Pt=function(Ze){var Je=this;this.self=Ze,this.actor=new a.Actor(Ze,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:r,geojson:Ft},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ue,Xe){if(Je.workerSourceTypes[Ue])throw new Error('Worker source with name "'+Ue+'" already registered.');Je.workerSourceTypes[Ue]=Xe},this.self.registerRTLTextPlugin=function(Ue){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=Ue.applyArabicShaping,a.plugin.processBidirectionalText=Ue.processBidirectionalText,a.plugin.processStyledBidirectionalText=Ue.processStyledBidirectionalText}};return Pt.prototype.setReferrer=function(Ze,Je){this.referrer=Je},Pt.prototype.setImages=function(Ze,Je,Ue){for(var Xe in this.availableImages[Ze]=Je,this.workerSources[Ze]){var lt=this.workerSources[Ze][Xe];for(var ot in lt)lt[ot].availableImages=Je}Ue()},Pt.prototype.setLayers=function(Ze,Je,Ue){this.getLayerIndex(Ze).replace(Je),Ue()},Pt.prototype.updateLayers=function(Ze,Je,Ue){this.getLayerIndex(Ze).update(Je.layers,Je.removedIds),Ue()},Pt.prototype.loadTile=function(Ze,Je,Ue){this.getWorkerSource(Ze,Je.type,Je.source).loadTile(Je,Ue)},Pt.prototype.loadDEMTile=function(Ze,Je,Ue){this.getDEMWorkerSource(Ze,Je.source).loadTile(Je,Ue)},Pt.prototype.reloadTile=function(Ze,Je,Ue){this.getWorkerSource(Ze,Je.type,Je.source).reloadTile(Je,Ue)},Pt.prototype.abortTile=function(Ze,Je,Ue){this.getWorkerSource(Ze,Je.type,Je.source).abortTile(Je,Ue)},Pt.prototype.removeTile=function(Ze,Je,Ue){this.getWorkerSource(Ze,Je.type,Je.source).removeTile(Je,Ue)},Pt.prototype.removeDEMTile=function(Ze,Je){this.getDEMWorkerSource(Ze,Je.source).removeTile(Je)},Pt.prototype.removeSource=function(Ze,Je,Ue){if(this.workerSources[Ze]&&this.workerSources[Ze][Je.type]&&this.workerSources[Ze][Je.type][Je.source]){var Xe=this.workerSources[Ze][Je.type][Je.source];delete this.workerSources[Ze][Je.type][Je.source],Xe.removeSource!==void 0?Xe.removeSource(Je,Ue):Ue()}},Pt.prototype.loadWorkerSource=function(Ze,Je,Ue){try{this.self.importScripts(Je.url),Ue()}catch(Xe){Ue(Xe.toString())}},Pt.prototype.syncRTLPluginState=function(Ze,Je,Ue){try{a.plugin.setState(Je);var Xe=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&Xe!=null){this.self.importScripts(Xe);var lt=a.plugin.isParsed();Ue(lt?void 0:new Error("RTL Text Plugin failed to import scripts from "+Xe),lt)}}catch(ot){Ue(ot.toString())}},Pt.prototype.getAvailableImages=function(Ze){var Je=this.availableImages[Ze];return Je||(Je=[]),Je},Pt.prototype.getLayerIndex=function(Ze){var Je=this.layerIndexes[Ze];return Je||(Je=this.layerIndexes[Ze]=new h),Je},Pt.prototype.getWorkerSource=function(Ze,Je,Ue){var Xe=this;if(this.workerSources[Ze]||(this.workerSources[Ze]={}),this.workerSources[Ze][Je]||(this.workerSources[Ze][Je]={}),!this.workerSources[Ze][Je][Ue]){var lt={send:function(ot,Be,Ne){Xe.actor.send(ot,Be,Ne,Ze)}};this.workerSources[Ze][Je][Ue]=new this.workerSourceTypes[Je](lt,this.getLayerIndex(Ze),this.getAvailableImages(Ze))}return this.workerSources[Ze][Je][Ue]},Pt.prototype.getDEMWorkerSource=function(Ze,Je){return this.demWorkerSources[Ze]||(this.demWorkerSources[Ze]={}),this.demWorkerSources[Ze][Je]||(this.demWorkerSources[Ze][Je]=new s),this.demWorkerSources[Ze][Je]},Pt.prototype.enforceCacheSizeLimit=function(Ze,Je){a.enforceCacheSizeLimit(Je)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Pt(self)),Pt}),k(0,function(a){var _=a.createCommonjsModule(function(B){function Y(H){return!G(H)}function G(H){return typeof window<"u"&&typeof document<"u"?Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var ne,ce,ve=new Blob([""],{type:"text/javascript"}),Oe=URL.createObjectURL(ve);try{ce=new Worker(Oe),ne=!0}catch{ne=!1}return ce&&ce.terminate(),URL.revokeObjectURL(Oe),ne}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var ne=document.createElement("canvas");ne.width=ne.height=1;var ce=ne.getContext("2d");if(!ce)return!1;var ve=ce.getImageData(0,0,1,1);return ve&&ve.width===ne.width}()?($=H&&H.failIfMajorPerformanceCaveat,L[$]===void 0&&(L[$]=function(ne){var ce=function(Oe){var De=document.createElement("canvas"),He=Object.create(Y.webGLContextAttributes);return He.failIfMajorPerformanceCaveat=Oe,De.probablySupportsContext?De.probablySupportsContext("webgl",He)||De.probablySupportsContext("experimental-webgl",He):De.supportsContext?De.supportsContext("webgl",He)||De.supportsContext("experimental-webgl",He):De.getContext("webgl",He)||De.getContext("experimental-webgl",He)}(ne);if(!ce)return!1;var ve=ce.createShader(ce.VERTEX_SHADER);return!(!ve||ce.isContextLost())&&(ce.shaderSource(ve,"void main() {}"),ce.compileShader(ve),ce.getShaderParameter(ve,ce.COMPILE_STATUS)===!0)}($)),L[$]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser";var $}B.exports?B.exports=Y:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=Y,window.mapboxgl.notSupportedReason=G);var L={};Y.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),b={create:function(B,Y,G){var L=a.window.document.createElement(B);return Y!==void 0&&(L.className=Y),G&&G.appendChild(L),L},createNS:function(B,Y){return a.window.document.createElementNS(B,Y)}},h=a.window.document&&a.window.document.documentElement.style;function o(B){if(!h)return B[0];for(var Y=0;Y<B.length;Y++)if(B[Y]in h)return B[Y];return B[0]}var t,i=o(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);b.disableDrag=function(){h&&i&&(t=h[i],h[i]="none")},b.enableDrag=function(){h&&i&&(h[i]=t)};var n=o(["transform","WebkitTransform"]);b.setTransform=function(B,Y){B.style[n]=Y};var r=!1;try{var l=Object.defineProperty({},"passive",{get:function(){r=!0}});a.window.addEventListener("test",l,l),a.window.removeEventListener("test",l,l)}catch{r=!1}b.addEventListener=function(B,Y,G,L){L===void 0&&(L={}),"passive"in L&&r?B.addEventListener(Y,G,L):B.addEventListener(Y,G,L.capture)},b.removeEventListener=function(B,Y,G,L){L===void 0&&(L={}),"passive"in L&&r?B.removeEventListener(Y,G,L):B.removeEventListener(Y,G,L.capture)};var s=function(B){B.preventDefault(),B.stopPropagation(),a.window.removeEventListener("click",s,!0)};function u(B){var Y=B.userImage;return!!(Y&&Y.render&&Y.render())&&(B.data.replace(new Uint8Array(Y.data.buffer)),!0)}b.suppressClick=function(){a.window.addEventListener("click",s,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",s,!0)},0)},b.mousePos=function(B,Y){var G=B.getBoundingClientRect();return new a.Point(Y.clientX-G.left-B.clientLeft,Y.clientY-G.top-B.clientTop)},b.touchPos=function(B,Y){for(var G=B.getBoundingClientRect(),L=[],H=0;H<Y.length;H++)L.push(new a.Point(Y[H].clientX-G.left-B.clientLeft,Y[H].clientY-G.top-B.clientTop));return L},b.mouseButton=function(B){return a.window.InstallTrigger!==void 0&&B.button===2&&B.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:B.button},b.remove=function(B){B.parentNode&&B.parentNode.removeChild(B)};var p=function(B){function Y(){B.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.isLoaded=function(){return this.loaded},Y.prototype.setLoaded=function(G){if(this.loaded!==G&&(this.loaded=G,G)){for(var L=0,H=this.requestors;L<H.length;L+=1){var $=H[L],ne=$.ids,ce=$.callback;this._notify(ne,ce)}this.requestors=[]}},Y.prototype.getImage=function(G){return this.images[G]},Y.prototype.addImage=function(G,L){this._validate(G,L)&&(this.images[G]=L)},Y.prototype._validate=function(G,L){var H=!0;return this._validateStretch(L.stretchX,L.data&&L.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+G+'" has invalid "stretchX" value'))),H=!1),this._validateStretch(L.stretchY,L.data&&L.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+G+'" has invalid "stretchY" value'))),H=!1),this._validateContent(L.content,L)||(this.fire(new a.ErrorEvent(new Error('Image "'+G+'" has invalid "content" value'))),H=!1),H},Y.prototype._validateStretch=function(G,L){if(!G)return!0;for(var H=0,$=0,ne=G;$<ne.length;$+=1){var ce=ne[$];if(ce[0]<H||ce[1]<ce[0]||L<ce[1])return!1;H=ce[1]}return!0},Y.prototype._validateContent=function(G,L){return!(G&&(G.length!==4||G[0]<0||L.data.width<G[0]||G[1]<0||L.data.height<G[1]||G[2]<0||L.data.width<G[2]||G[3]<0||L.data.height<G[3]||G[2]<G[0]||G[3]<G[1]))},Y.prototype.updateImage=function(G,L){var H=this.images[G];L.version=H.version+1,this.images[G]=L,this.updatedImages[G]=!0},Y.prototype.removeImage=function(G){var L=this.images[G];delete this.images[G],delete this.patterns[G],L.userImage&&L.userImage.onRemove&&L.userImage.onRemove()},Y.prototype.listImages=function(){return Object.keys(this.images)},Y.prototype.getImages=function(G,L){var H=!0;if(!this.isLoaded())for(var $=0,ne=G;$<ne.length;$+=1){var ce=ne[$];this.images[ce]||(H=!1)}this.isLoaded()||H?this._notify(G,L):this.requestors.push({ids:G,callback:L})},Y.prototype._notify=function(G,L){for(var H={},$=0,ne=G;$<ne.length;$+=1){var ce=ne[$];this.images[ce]||this.fire(new a.Event("styleimagemissing",{id:ce}));var ve=this.images[ce];ve?H[ce]={data:ve.data.clone(),pixelRatio:ve.pixelRatio,sdf:ve.sdf,version:ve.version,stretchX:ve.stretchX,stretchY:ve.stretchY,content:ve.content,hasRenderCallback:!!(ve.userImage&&ve.userImage.render)}:a.warnOnce('Image "'+ce+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}L(null,H)},Y.prototype.getPixelSize=function(){var G=this.atlasImage;return{width:G.width,height:G.height}},Y.prototype.getPattern=function(G){var L=this.patterns[G],H=this.getImage(G);if(!H)return null;if(L&&L.position.version===H.version)return L.position;if(L)L.position.version=H.version;else{var $={w:H.data.width+2,h:H.data.height+2,x:0,y:0},ne=new a.ImagePosition($,H);this.patterns[G]={bin:$,position:ne}}return this._updatePatternAtlas(),this.patterns[G].position},Y.prototype.bind=function(G){var L=G.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(G,this.atlasImage,L.RGBA),this.atlasTexture.bind(L.LINEAR,L.CLAMP_TO_EDGE)},Y.prototype._updatePatternAtlas=function(){var G=[];for(var L in this.patterns)G.push(this.patterns[L].bin);var H=a.potpack(G),$=H.w,ne=H.h,ce=this.atlasImage;for(var ve in ce.resize({width:$||1,height:ne||1}),this.patterns){var Oe=this.patterns[ve].bin,De=Oe.x+1,He=Oe.y+1,We=this.images[ve].data,rt=We.width,pt=We.height;a.RGBAImage.copy(We,ce,{x:0,y:0},{x:De,y:He},{width:rt,height:pt}),a.RGBAImage.copy(We,ce,{x:0,y:pt-1},{x:De,y:He-1},{width:rt,height:1}),a.RGBAImage.copy(We,ce,{x:0,y:0},{x:De,y:He+pt},{width:rt,height:1}),a.RGBAImage.copy(We,ce,{x:rt-1,y:0},{x:De-1,y:He},{width:1,height:pt}),a.RGBAImage.copy(We,ce,{x:0,y:0},{x:De+rt,y:He},{width:1,height:pt})}this.dirty=!0},Y.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},Y.prototype.dispatchRenderCallbacks=function(G){for(var L=0,H=G;L<H.length;L+=1){var $=H[L];if(!this.callbackDispatchedThisFrame[$]){this.callbackDispatchedThisFrame[$]=!0;var ne=this.images[$];u(ne)&&this.updateImage($,ne)}}},Y}(a.Evented),c=d,x=d,g=1e20;function d(B,Y,G,L,H,$){this.fontSize=B||24,this.buffer=Y===void 0?3:Y,this.cutoff=L||.25,this.fontFamily=H||"sans-serif",this.fontWeight=$||"normal",this.radius=G||8;var ne=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=ne,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(ne*ne),this.gridInner=new Float64Array(ne*ne),this.f=new Float64Array(ne),this.d=new Float64Array(ne),this.z=new Float64Array(ne+1),this.v=new Int16Array(ne),this.middle=Math.round(ne/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function v(B,Y,G,L,H,$,ne){for(var ce=0;ce<Y;ce++){for(var ve=0;ve<G;ve++)L[ve]=B[ve*Y+ce];for(y(L,H,$,ne,G),ve=0;ve<G;ve++)B[ve*Y+ce]=H[ve]}for(ve=0;ve<G;ve++){for(ce=0;ce<Y;ce++)L[ce]=B[ve*Y+ce];for(y(L,H,$,ne,Y),ce=0;ce<Y;ce++)B[ve*Y+ce]=Math.sqrt(H[ce])}}function y(B,Y,G,L,H){G[0]=0,L[0]=-g,L[1]=+g;for(var $=1,ne=0;$<H;$++){for(var ce=(B[$]+$*$-(B[G[ne]]+G[ne]*G[ne]))/(2*$-2*G[ne]);ce<=L[ne];)ne--,ce=(B[$]+$*$-(B[G[ne]]+G[ne]*G[ne]))/(2*$-2*G[ne]);G[++ne]=$,L[ne]=ce,L[ne+1]=+g}for($=0,ne=0;$<H;$++){for(;L[ne+1]<$;)ne++;Y[$]=($-G[ne])*($-G[ne])+B[G[ne]]}}d.prototype.draw=function(B){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(B,this.buffer,this.middle);for(var Y=this.ctx.getImageData(0,0,this.size,this.size),G=new Uint8ClampedArray(this.size*this.size),L=0;L<this.size*this.size;L++){var H=Y.data[4*L+3]/255;this.gridOuter[L]=H===1?0:H===0?g:Math.pow(Math.max(0,.5-H),2),this.gridInner[L]=H===1?g:H===0?0:Math.pow(Math.max(0,H-.5),2)}for(v(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),v(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),L=0;L<this.size*this.size;L++){var $=this.gridOuter[L]-this.gridInner[L];G[L]=Math.max(0,Math.min(255,Math.round(255-255*($/this.radius+this.cutoff))))}return G},c.default=x;var m=function(B,Y){this.requestManager=B,this.localIdeographFontFamily=Y,this.entries={}};m.prototype.setURL=function(B){this.url=B},m.prototype.getGlyphs=function(B,Y){var G=this,L=[];for(var H in B)for(var $=0,ne=B[H];$<ne.length;$+=1){var ce=ne[$];L.push({stack:H,id:ce})}a.asyncAll(L,function(ve,Oe){var De=ve.stack,He=ve.id,We=G.entries[De];We||(We=G.entries[De]={glyphs:{},requests:{},ranges:{}});var rt=We.glyphs[He];if(rt===void 0){if(rt=G._tinySDF(We,De,He))return We.glyphs[He]=rt,void Oe(null,{stack:De,id:He,glyph:rt});var pt=Math.floor(He/256);if(256*pt>65535)Oe(new Error("glyphs > 65535 not supported"));else if(We.ranges[pt])Oe(null,{stack:De,id:He,glyph:rt});else{var vt=We.requests[pt];vt||(vt=We.requests[pt]=[],m.loadGlyphRange(De,pt,G.url,G.requestManager,function(kt,Ot){if(Ot){for(var Et in Ot)G._doesCharSupportLocalGlyph(+Et)||(We.glyphs[+Et]=Ot[+Et]);We.ranges[pt]=!0}for(var jt=0,It=vt;jt<It.length;jt+=1)(0,It[jt])(kt,Ot);delete We.requests[pt]})),vt.push(function(kt,Ot){kt?Oe(kt):Ot&&Oe(null,{stack:De,id:He,glyph:Ot[He]||null})})}}else Oe(null,{stack:De,id:He,glyph:rt})},function(ve,Oe){if(ve)Y(ve);else if(Oe){for(var De={},He=0,We=Oe;He<We.length;He+=1){var rt=We[He],pt=rt.stack,vt=rt.id,kt=rt.glyph;(De[pt]||(De[pt]={}))[vt]=kt&&{id:kt.id,bitmap:kt.bitmap.clone(),metrics:kt.metrics}}Y(null,De)}})},m.prototype._doesCharSupportLocalGlyph=function(B){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](B)||a.isChar["Hangul Syllables"](B)||a.isChar.Hiragana(B)||a.isChar.Katakana(B))},m.prototype._tinySDF=function(B,Y,G){var L=this.localIdeographFontFamily;if(L&&this._doesCharSupportLocalGlyph(G)){var H=B.tinySDF;if(!H){var $="400";/bold/i.test(Y)?$="900":/medium/i.test(Y)?$="500":/light/i.test(Y)&&($="200"),H=B.tinySDF=new m.TinySDF(24,3,8,.25,L,$)}return{id:G,bitmap:new a.AlphaImage({width:30,height:30},H.draw(String.fromCharCode(G))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},m.loadGlyphRange=function(B,Y,G,L,H){var $=256*Y,ne=$+255,ce=L.transformRequest(L.normalizeGlyphsURL(G).replace("{fontstack}",B).replace("{range}",$+"-"+ne),a.ResourceType.Glyphs);a.getArrayBuffer(ce,function(ve,Oe){if(ve)H(ve);else if(Oe){for(var De={},He=0,We=a.parseGlyphPBF(Oe);He<We.length;He+=1){var rt=We[He];De[rt.id]=rt}H(null,De)}})},m.TinySDF=c;var w=function(){this.specification=a.styleSpec.light.position};w.prototype.possiblyEvaluate=function(B,Y){return a.sphericalToCartesian(B.expression.evaluate(Y))},w.prototype.interpolate=function(B,Y,G){return{x:a.number(B.x,Y.x,G),y:a.number(B.y,Y.y,G),z:a.number(B.z,Y.z,G)}};var f=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new w,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),S="-transition",T=function(B){function Y(G){B.call(this),this._transitionable=new a.Transitionable(f),this.setLight(G),this._transitioning=this._transitionable.untransitioned()}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getLight=function(){return this._transitionable.serialize()},Y.prototype.setLight=function(G,L){if(L===void 0&&(L={}),!this._validate(a.validateLight,G,L))for(var H in G){var $=G[H];a.endsWith(H,S)?this._transitionable.setTransition(H.slice(0,-11),$):this._transitionable.setValue(H,$)}},Y.prototype.updateTransitions=function(G){this._transitioning=this._transitionable.transitioned(G,this._transitioning)},Y.prototype.hasTransition=function(){return this._transitioning.hasTransition()},Y.prototype.recalculate=function(G){this.properties=this._transitioning.possiblyEvaluate(G)},Y.prototype._validate=function(G,L,H){return(!H||H.validate!==!1)&&a.emitValidationErrors(this,G.call(a.validateStyle,a.extend({value:L,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},Y}(a.Evented),E=function(B,Y){this.width=B,this.height=Y,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};E.prototype.getDash=function(B,Y){var G=B.join(",")+String(Y);return this.dashEntry[G]||(this.dashEntry[G]=this.addDash(B,Y)),this.dashEntry[G]},E.prototype.getDashRanges=function(B,Y,G){var L=[],H=B.length%2==1?-B[B.length-1]*G:0,$=B[0]*G,ne=!0;L.push({left:H,right:$,isDash:ne,zeroLength:B[0]===0});for(var ce=B[0],ve=1;ve<B.length;ve++){ne=!ne;var Oe=B[ve];H=ce*G,$=(ce+=Oe)*G,L.push({left:H,right:$,isDash:ne,zeroLength:Oe===0})}return L},E.prototype.addRoundDash=function(B,Y,G){for(var L=Y/2,H=-G;H<=G;H++)for(var $=this.nextRow+G+H,ne=this.width*$,ce=0,ve=B[ce],Oe=0;Oe<this.width;Oe++){Oe/ve.right>1&&(ve=B[++ce]);var De=Math.abs(Oe-ve.left),He=Math.abs(Oe-ve.right),We=Math.min(De,He),rt=void 0,pt=H/G*(L+1);if(ve.isDash){var vt=L-Math.abs(pt);rt=Math.sqrt(We*We+vt*vt)}else rt=L-Math.sqrt(We*We+pt*pt);this.data[ne+Oe]=Math.max(0,Math.min(255,rt+128))}},E.prototype.addRegularDash=function(B){for(var Y=B.length-1;Y>=0;--Y){var G=B[Y],L=B[Y+1];G.zeroLength?B.splice(Y,1):L&&L.isDash===G.isDash&&(L.left=G.left,B.splice(Y,1))}var H=B[0],$=B[B.length-1];H.isDash===$.isDash&&(H.left=$.left-this.width,$.right=H.right+this.width);for(var ne=this.width*this.nextRow,ce=0,ve=B[ce],Oe=0;Oe<this.width;Oe++){Oe/ve.right>1&&(ve=B[++ce]);var De=Math.abs(Oe-ve.left),He=Math.abs(Oe-ve.right),We=Math.min(De,He),rt=ve.isDash?We:-We;this.data[ne+Oe]=Math.max(0,Math.min(255,rt+128))}},E.prototype.addDash=function(B,Y){var G=Y?7:0,L=2*G+1;if(this.nextRow+L>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var H=0,$=0;$<B.length;$++)H+=B[$];if(H!==0){var ne=this.width/H,ce=this.getDashRanges(B,this.width,ne);Y?this.addRoundDash(ce,ne,G):this.addRegularDash(ce)}var ve={y:(this.nextRow+G+.5)/this.height,height:2*G/this.height,width:H};return this.nextRow+=L,this.dirty=!0,ve},E.prototype.bind=function(B){var Y=B.gl;this.texture?(Y.bindTexture(Y.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,Y.texSubImage2D(Y.TEXTURE_2D,0,0,0,this.width,this.height,Y.ALPHA,Y.UNSIGNED_BYTE,this.data))):(this.texture=Y.createTexture(),Y.bindTexture(Y.TEXTURE_2D,this.texture),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_S,Y.REPEAT),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_T,Y.REPEAT),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MIN_FILTER,Y.LINEAR),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MAG_FILTER,Y.LINEAR),Y.texImage2D(Y.TEXTURE_2D,0,Y.ALPHA,this.width,this.height,0,Y.ALPHA,Y.UNSIGNED_BYTE,this.data))};var O=function B(Y,G){this.workerPool=Y,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var L=this.workerPool.acquire(this.id),H=0;H<L.length;H++){var $=L[H],ne=new B.Actor($,G,this.id);ne.name="Worker "+H,this.actors.push(ne)}};function P(B,Y,G){var L=function(H,$){if(H)return G(H);if($){var ne=a.pick(a.extend($,B),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);$.vector_layers&&(ne.vectorLayers=$.vector_layers,ne.vectorLayerIds=ne.vectorLayers.map(function(ce){return ce.id})),ne.tiles=Y.canonicalizeTileset(ne,B.url),G(null,ne)}};return B.url?a.getJSON(Y.transformRequest(Y.normalizeSourceURL(B.url),a.ResourceType.Source),L):a.browser.frame(function(){return L(null,B)})}O.prototype.broadcast=function(B,Y,G){G=G||function(){},a.asyncAll(this.actors,function(L,H){L.send(B,Y,H)},G)},O.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},O.prototype.remove=function(){this.actors.forEach(function(B){B.remove()}),this.actors=[],this.workerPool.release(this.id)},O.Actor=a.Actor;var I=function(B,Y,G){this.bounds=a.LngLatBounds.convert(this.validateBounds(B)),this.minzoom=Y||0,this.maxzoom=G||24};I.prototype.validateBounds=function(B){return Array.isArray(B)&&B.length===4?[Math.max(-180,B[0]),Math.max(-90,B[1]),Math.min(180,B[2]),Math.min(90,B[3])]:[-180,-90,180,90]},I.prototype.contains=function(B){var Y=Math.pow(2,B.z),G=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*Y),L=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*Y),H=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*Y),$=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*Y);return B.x>=G&&B.x<H&&B.y>=L&&B.y<$};var z=function(B){function Y(G,L,H,$){if(B.call(this),this.id=G,this.dispatcher=H,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(L,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},L),this._collectResourceTiming=L.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent($)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){var G=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=P(this._options,this.map._requestManager,function(L,H){G._tileJSONRequest=null,G._loaded=!0,L?G.fire(new a.ErrorEvent(L)):H&&(a.extend(G,H),H.bounds&&(G.tileBounds=new I(H.bounds,G.minzoom,G.maxzoom)),a.postTurnstileEvent(H.tiles,G.map._requestManager._customAccessToken),a.postMapLoadEvent(H.tiles,G.map._getMapId(),G.map._requestManager._skuToken,G.map._requestManager._customAccessToken),G.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),G.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.hasTile=function(G){return!this.tileBounds||this.tileBounds.contains(G.canonical)},Y.prototype.onAdd=function(G){this.map=G,this.load()},Y.prototype.setSourceProperty=function(G){this._tileJSONRequest&&this._tileJSONRequest.cancel(),G(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},Y.prototype.setTiles=function(G){var L=this;return this.setSourceProperty(function(){L._options.tiles=G}),this},Y.prototype.setUrl=function(G){var L=this;return this.setSourceProperty(function(){L.url=G,L._options.url=G}),this},Y.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Y.prototype.serialize=function(){return a.extend({},this._options)},Y.prototype.loadTile=function(G,L){var H=this.map._requestManager.normalizeTileURL(G.tileID.canonical.url(this.tiles,this.scheme)),$={request:this.map._requestManager.transformRequest(H,a.ResourceType.Tile),uid:G.uid,tileID:G.tileID,zoom:G.tileID.overscaledZ,tileSize:this.tileSize*G.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function ne(ce,ve){return delete G.request,G.aborted?L(null):ce&&ce.status!==404?L(ce):(ve&&ve.resourceTiming&&(G.resourceTiming=ve.resourceTiming),this.map._refreshExpiredTiles&&ve&&G.setExpiryData(ve),G.loadVectorData(ve,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),L(null),void(G.reloadCallback&&(this.loadTile(G,G.reloadCallback),G.reloadCallback=null)))}$.request.collectResourceTiming=this._collectResourceTiming,G.actor&&G.state!=="expired"?G.state==="loading"?G.reloadCallback=L:G.request=G.actor.send("reloadTile",$,ne.bind(this)):(G.actor=this.dispatcher.getActor(),G.request=G.actor.send("loadTile",$,ne.bind(this)))},Y.prototype.abortTile=function(G){G.request&&(G.request.cancel(),delete G.request),G.actor&&G.actor.send("abortTile",{uid:G.uid,type:this.type,source:this.id},void 0)},Y.prototype.unloadTile=function(G){G.unloadVectorData(),G.actor&&G.actor.send("removeTile",{uid:G.uid,type:this.type,source:this.id},void 0)},Y.prototype.hasTransition=function(){return!1},Y}(a.Evented),j=function(B){function Y(G,L,H,$){B.call(this),this.id=G,this.dispatcher=H,this.setEventedParent($),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},L),a.extend(this,a.pick(L,["url","scheme","tileSize"]))}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){var G=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=P(this._options,this.map._requestManager,function(L,H){G._tileJSONRequest=null,G._loaded=!0,L?G.fire(new a.ErrorEvent(L)):H&&(a.extend(G,H),H.bounds&&(G.tileBounds=new I(H.bounds,G.minzoom,G.maxzoom)),a.postTurnstileEvent(H.tiles),a.postMapLoadEvent(H.tiles,G.map._getMapId(),G.map._requestManager._skuToken),G.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),G.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.onAdd=function(G){this.map=G,this.load()},Y.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Y.prototype.serialize=function(){return a.extend({},this._options)},Y.prototype.hasTile=function(G){return!this.tileBounds||this.tileBounds.contains(G.canonical)},Y.prototype.loadTile=function(G,L){var H=this,$=this.map._requestManager.normalizeTileURL(G.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);G.request=a.getImage(this.map._requestManager.transformRequest($,a.ResourceType.Tile),function(ne,ce){if(delete G.request,G.aborted)G.state="unloaded",L(null);else if(ne)G.state="errored",L(ne);else if(ce){H.map._refreshExpiredTiles&&G.setExpiryData(ce),delete ce.cacheControl,delete ce.expires;var ve=H.map.painter.context,Oe=ve.gl;G.texture=H.map.painter.getTileTexture(ce.width),G.texture?G.texture.update(ce,{useMipmap:!0}):(G.texture=new a.Texture(ve,ce,Oe.RGBA,{useMipmap:!0}),G.texture.bind(Oe.LINEAR,Oe.CLAMP_TO_EDGE,Oe.LINEAR_MIPMAP_NEAREST),ve.extTextureFilterAnisotropic&&Oe.texParameterf(Oe.TEXTURE_2D,ve.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ve.extTextureFilterAnisotropicMax)),G.state="loaded",a.cacheEntryPossiblyAdded(H.dispatcher),L(null)}})},Y.prototype.abortTile=function(G,L){G.request&&(G.request.cancel(),delete G.request),L()},Y.prototype.unloadTile=function(G,L){G.texture&&this.map.painter.saveTileTexture(G.texture),L()},Y.prototype.hasTransition=function(){return!1},Y}(a.Evented),R=function(B){function Y(G,L,H,$){B.call(this,G,L,H,$),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},L),this.encoding=L.encoding||"mapbox"}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},Y.prototype.loadTile=function(G,L){var H=this.map._requestManager.normalizeTileURL(G.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function $(ne,ce){ne&&(G.state="errored",L(ne)),ce&&(G.dem=ce,G.needsHillshadePrepare=!0,G.state="loaded",L(null))}G.request=a.getImage(this.map._requestManager.transformRequest(H,a.ResourceType.Tile),(function(ne,ce){if(delete G.request,G.aborted)G.state="unloaded",L(null);else if(ne)G.state="errored",L(ne);else if(ce){this.map._refreshExpiredTiles&&G.setExpiryData(ce),delete ce.cacheControl,delete ce.expires;var ve=a.window.ImageBitmap&&ce instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported()?ce:a.browser.getImageData(ce,1),Oe={uid:G.uid,coord:G.tileID,source:this.id,rawImageData:ve,encoding:this.encoding};G.actor&&G.state!=="expired"||(G.actor=this.dispatcher.getActor(),G.actor.send("loadDEMTile",Oe,$.bind(this)))}}).bind(this)),G.neighboringTiles=this._getNeighboringTiles(G.tileID)},Y.prototype._getNeighboringTiles=function(G){var L=G.canonical,H=Math.pow(2,L.z),$=(L.x-1+H)%H,ne=L.x===0?G.wrap-1:G.wrap,ce=(L.x+1+H)%H,ve=L.x+1===H?G.wrap+1:G.wrap,Oe={};return Oe[new a.OverscaledTileID(G.overscaledZ,ne,L.z,$,L.y).key]={backfilled:!1},Oe[new a.OverscaledTileID(G.overscaledZ,ve,L.z,ce,L.y).key]={backfilled:!1},L.y>0&&(Oe[new a.OverscaledTileID(G.overscaledZ,ne,L.z,$,L.y-1).key]={backfilled:!1},Oe[new a.OverscaledTileID(G.overscaledZ,G.wrap,L.z,L.x,L.y-1).key]={backfilled:!1},Oe[new a.OverscaledTileID(G.overscaledZ,ve,L.z,ce,L.y-1).key]={backfilled:!1}),L.y+1<H&&(Oe[new a.OverscaledTileID(G.overscaledZ,ne,L.z,$,L.y+1).key]={backfilled:!1},Oe[new a.OverscaledTileID(G.overscaledZ,G.wrap,L.z,L.x,L.y+1).key]={backfilled:!1},Oe[new a.OverscaledTileID(G.overscaledZ,ve,L.z,ce,L.y+1).key]={backfilled:!1}),Oe},Y.prototype.unloadTile=function(G){G.demTexture&&this.map.painter.saveTileTexture(G.demTexture),G.fbo&&(G.fbo.destroy(),delete G.fbo),G.dem&&delete G.dem,delete G.neighboringTiles,G.state="unloaded",G.actor&&G.actor.send("removeDEMTile",{uid:G.uid,source:this.id})},Y}(j),N=function(B){function Y(G,L,H,$){B.call(this),this.id=G,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=H.getActor(),this.setEventedParent($),this._data=L.data,this._options=a.extend({},L),this._collectResourceTiming=L.collectResourceTiming,this._resourceTiming=[],L.maxzoom!==void 0&&(this.maxzoom=L.maxzoom),L.type&&(this.type=L.type),L.attribution&&(this.attribution=L.attribution),this.promoteId=L.promoteId;var ne=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:L.cluster||!1,geojsonVtOptions:{buffer:(L.buffer!==void 0?L.buffer:128)*ne,tolerance:(L.tolerance!==void 0?L.tolerance:.375)*ne,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:L.lineMetrics||!1,generateId:L.generateId||!1},superclusterOptions:{maxZoom:L.clusterMaxZoom!==void 0?Math.min(L.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,L.clusterMinPoints||2),extent:a.EXTENT,radius:(L.clusterRadius||50)*ne,log:!1,generateId:L.generateId||!1},clusterProperties:L.clusterProperties,filter:L.filter},L.workerOptions)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){var G=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(L){if(L)G.fire(new a.ErrorEvent(L));else{var H={dataType:"source",sourceDataType:"metadata"};G._collectResourceTiming&&G._resourceTiming&&G._resourceTiming.length>0&&(H.resourceTiming=G._resourceTiming,G._resourceTiming=[]),G.fire(new a.Event("data",H))}})},Y.prototype.onAdd=function(G){this.map=G,this.load()},Y.prototype.setData=function(G){var L=this;return this._data=G,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(H){if(H)L.fire(new a.ErrorEvent(H));else{var $={dataType:"source",sourceDataType:"content"};L._collectResourceTiming&&L._resourceTiming&&L._resourceTiming.length>0&&($.resourceTiming=L._resourceTiming,L._resourceTiming=[]),L.fire(new a.Event("data",$))}}),this},Y.prototype.getClusterExpansionZoom=function(G,L){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:G,source:this.id},L),this},Y.prototype.getClusterChildren=function(G,L){return this.actor.send("geojson.getClusterChildren",{clusterId:G,source:this.id},L),this},Y.prototype.getClusterLeaves=function(G,L,H,$){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:G,limit:L,offset:H},$),this},Y.prototype._updateWorkerData=function(G){var L=this;this._loaded=!1;var H=a.extend({},this.workerOptions),$=this._data;typeof $=="string"?(H.request=this.map._requestManager.transformRequest(a.browser.resolveURL($),a.ResourceType.Source),H.request.collectResourceTiming=this._collectResourceTiming):H.data=JSON.stringify($),this.actor.send(this.type+".loadData",H,function(ne,ce){L._removed||ce&&ce.abandoned||(L._loaded=!0,ce&&ce.resourceTiming&&ce.resourceTiming[L.id]&&(L._resourceTiming=ce.resourceTiming[L.id].slice(0)),L.actor.send(L.type+".coalesce",{source:H.source},null),G(ne))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.loadTile=function(G,L){var H=this,$=G.actor?"reloadTile":"loadTile";G.actor=this.actor;var ne={type:this.type,uid:G.uid,tileID:G.tileID,zoom:G.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};G.request=this.actor.send($,ne,function(ce,ve){return delete G.request,G.unloadVectorData(),G.aborted?L(null):ce?L(ce):(G.loadVectorData(ve,H.map.painter,$==="reloadTile"),L(null))})},Y.prototype.abortTile=function(G){G.request&&(G.request.cancel(),delete G.request),G.aborted=!0},Y.prototype.unloadTile=function(G){G.unloadVectorData(),this.actor.send("removeTile",{uid:G.uid,type:this.type,source:this.id})},Y.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},Y.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},Y.prototype.hasTransition=function(){return!1},Y}(a.Evented),Z=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),F=function(B){function Y(G,L,H,$){B.call(this),this.id=G,this.dispatcher=H,this.coordinates=L.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent($),this.options=L}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(G,L){var H=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function($,ne){H._loaded=!0,$?H.fire(new a.ErrorEvent($)):ne&&(H.image=ne,G&&(H.coordinates=G),L&&L(),H._finishLoading())})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.updateImage=function(G){var L=this;return this.image&&G.url?(this.options.url=G.url,this.load(G.coordinates,function(){L.texture=null}),this):this},Y.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},Y.prototype.onAdd=function(G){this.map=G,this.load()},Y.prototype.setCoordinates=function(G){var L=this;this.coordinates=G;var H=G.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(ne){for(var ce=1/0,ve=1/0,Oe=-1/0,De=-1/0,He=0,We=ne;He<We.length;He+=1){var rt=We[He];ce=Math.min(ce,rt.x),ve=Math.min(ve,rt.y),Oe=Math.max(Oe,rt.x),De=Math.max(De,rt.y)}var pt=Oe-ce,vt=De-ve,kt=Math.max(pt,vt),Ot=Math.max(0,Math.floor(-Math.log(kt)/Math.LN2)),Et=Math.pow(2,Ot);return new a.CanonicalTileID(Ot,Math.floor((ce+Oe)/2*Et),Math.floor((ve+De)/2*Et))}(H),this.minzoom=this.maxzoom=this.tileID.z;var $=H.map(function(ne){return L.tileID.getTilePoint(ne)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack($[0].x,$[0].y,0,0),this._boundsArray.emplaceBack($[1].x,$[1].y,a.EXTENT,0),this._boundsArray.emplaceBack($[3].x,$[3].y,0,a.EXTENT),this._boundsArray.emplaceBack($[2].x,$[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},Y.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var G=this.map.painter.context,L=G.gl;for(var H in this.boundsBuffer||(this.boundsBuffer=G.createVertexBuffer(this._boundsArray,Z.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(G,this.image,L.RGBA),this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE)),this.tiles){var $=this.tiles[H];$.state!=="loaded"&&($.state="loaded",$.texture=this.texture)}}},Y.prototype.loadTile=function(G,L){this.tileID&&this.tileID.equals(G.tileID.canonical)?(this.tiles[String(G.tileID.wrap)]=G,G.buckets={},L(null)):(G.state="errored",L(null))},Y.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return!1},Y}(a.Evented),U=function(B){function Y(G,L,H,$){B.call(this,G,L,H,$),this.roundZoom=!0,this.type="video",this.options=L}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){var G=this;this._loaded=!1;var L=this.options;this.urls=[];for(var H=0,$=L.urls;H<$.length;H+=1){var ne=$[H];this.urls.push(this.map._requestManager.transformRequest(ne,a.ResourceType.Source).url)}a.getVideo(this.urls,function(ce,ve){G._loaded=!0,ce?G.fire(new a.ErrorEvent(ce)):ve&&(G.video=ve,G.video.loop=!0,G.video.addEventListener("playing",function(){G.map.triggerRepaint()}),G.map&&G.video.play(),G._finishLoading())})},Y.prototype.pause=function(){this.video&&this.video.pause()},Y.prototype.play=function(){this.video&&this.video.play()},Y.prototype.seek=function(G){if(this.video){var L=this.video.seekable;G<L.start(0)||G>L.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+L.start(0)+" and "+L.end(0)+"-second mark."))):this.video.currentTime=G}},Y.prototype.getVideo=function(){return this.video},Y.prototype.onAdd=function(G){this.map||(this.map=G,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},Y.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var G=this.map.painter.context,L=G.gl;for(var H in this.boundsBuffer||(this.boundsBuffer=G.createVertexBuffer(this._boundsArray,Z.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE),L.texSubImage2D(L.TEXTURE_2D,0,0,0,L.RGBA,L.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(G,this.video,L.RGBA),this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE)),this.tiles){var $=this.tiles[H];$.state!=="loaded"&&($.state="loaded",$.texture=this.texture)}}},Y.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return this.video&&!this.video.paused},Y}(F),V=function(B){function Y(G,L,H,$){B.call(this,G,L,H,$),L.coordinates?Array.isArray(L.coordinates)&&L.coordinates.length===4&&!L.coordinates.some(function(ne){return!Array.isArray(ne)||ne.length!==2||ne.some(function(ce){return typeof ce!="number"})})||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+G,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+G,null,'missing required property "coordinates"'))),L.animate&&typeof L.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+G,null,'optional "animate" property must be a boolean value'))),L.canvas?typeof L.canvas=="string"||L.canvas instanceof a.window.HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+G,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+G,null,'missing required property "canvas"'))),this.options=L,this.animate=L.animate===void 0||L.animate}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},Y.prototype.getCanvas=function(){return this.canvas},Y.prototype.onAdd=function(G){this.map=G,this.load(),this.canvas&&this.animate&&this.play()},Y.prototype.onRemove=function(){this.pause()},Y.prototype.prepare=function(){var G=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,G=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,G=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var L=this.map.painter.context,H=L.gl;for(var $ in this.boundsBuffer||(this.boundsBuffer=L.createVertexBuffer(this._boundsArray,Z.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(G||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(L,this.canvas,H.RGBA,{premultiply:!0}),this.tiles){var ne=this.tiles[$];ne.state!=="loaded"&&(ne.state="loaded",ne.texture=this.texture)}}},Y.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return this._playing},Y.prototype._hasInvalidDimensions=function(){for(var G=0,L=[this.canvas.width,this.canvas.height];G<L.length;G+=1){var H=L[G];if(isNaN(H)||H<=0)return!0}return!1},Y}(F),te={vector:z,raster:j,"raster-dem":R,geojson:N,video:U,image:F,canvas:V};function Q(B,Y){var G=a.identity([]);return a.translate(G,G,[1,1,0]),a.scale(G,G,[.5*B.width,.5*B.height,1]),a.multiply(G,G,B.calculatePosMatrix(Y.toUnwrapped()))}function J(B,Y,G,L,H,$){var ne=function(vt,kt,Ot){if(vt)for(var Et=0,jt=vt;Et<jt.length;Et+=1){var It=kt[jt[Et]];if(It&&It.source===Ot&&It.type==="fill-extrusion")return!0}else for(var Jt in kt){var Yt=kt[Jt];if(Yt.source===Ot&&Yt.type==="fill-extrusion")return!0}return!1}(H&&H.layers,Y,B.id),ce=$.maxPitchScaleFactor(),ve=B.tilesIn(L,ce,ne);ve.sort(X);for(var Oe=[],De=0,He=ve;De<He.length;De+=1){var We=He[De];Oe.push({wrappedTileID:We.tileID.wrapped().key,queryResults:We.tile.queryRenderedFeatures(Y,G,B._state,We.queryGeometry,We.cameraQueryGeometry,We.scale,H,$,ce,Q(B.transform,We.tileID))})}var rt=function(vt){for(var kt={},Ot={},Et=0,jt=vt;Et<jt.length;Et+=1){var It=jt[Et],Jt=It.queryResults,Yt=It.wrappedTileID,Ht=Ot[Yt]=Ot[Yt]||{};for(var mn in Jt)for(var yn=Jt[mn],In=Ht[mn]=Ht[mn]||{},Rn=kt[mn]=kt[mn]||[],Gn=0,Qn=yn;Gn<Qn.length;Gn+=1){var hr=Qn[Gn];In[hr.featureIndex]||(In[hr.featureIndex]=!0,Rn.push(hr))}}return kt}(Oe);for(var pt in rt)rt[pt].forEach(function(vt){var kt=vt.feature,Ot=B.getFeatureState(kt.layer["source-layer"],kt.id);kt.source=kt.layer.source,kt.layer["source-layer"]&&(kt.sourceLayer=kt.layer["source-layer"]),kt.state=Ot});return rt}function X(B,Y){var G=B.tileID,L=Y.tileID;return G.overscaledZ-L.overscaledZ||G.canonical.y-L.canonical.y||G.wrap-L.wrap||G.canonical.x-L.canonical.x}var K=function(B,Y){this.max=B,this.onRemove=Y,this.reset()};K.prototype.reset=function(){for(var B in this.data)for(var Y=0,G=this.data[B];Y<G.length;Y+=1){var L=G[Y];L.timeout&&clearTimeout(L.timeout),this.onRemove(L.value)}return this.data={},this.order=[],this},K.prototype.add=function(B,Y,G){var L=this,H=B.wrapped().key;this.data[H]===void 0&&(this.data[H]=[]);var $={value:Y,timeout:void 0};if(G!==void 0&&($.timeout=setTimeout(function(){L.remove(B,$)},G)),this.data[H].push($),this.order.push(H),this.order.length>this.max){var ne=this._getAndRemoveByKey(this.order[0]);ne&&this.onRemove(ne)}return this},K.prototype.has=function(B){return B.wrapped().key in this.data},K.prototype.getAndRemove=function(B){return this.has(B)?this._getAndRemoveByKey(B.wrapped().key):null},K.prototype._getAndRemoveByKey=function(B){var Y=this.data[B].shift();return Y.timeout&&clearTimeout(Y.timeout),this.data[B].length===0&&delete this.data[B],this.order.splice(this.order.indexOf(B),1),Y.value},K.prototype.getByKey=function(B){var Y=this.data[B];return Y?Y[0].value:null},K.prototype.get=function(B){return this.has(B)?this.data[B.wrapped().key][0].value:null},K.prototype.remove=function(B,Y){if(!this.has(B))return this;var G=B.wrapped().key,L=Y===void 0?0:this.data[G].indexOf(Y),H=this.data[G][L];return this.data[G].splice(L,1),H.timeout&&clearTimeout(H.timeout),this.data[G].length===0&&delete this.data[G],this.onRemove(H.value),this.order.splice(this.order.indexOf(G),1),this},K.prototype.setMaxSize=function(B){for(this.max=B;this.order.length>this.max;){var Y=this._getAndRemoveByKey(this.order[0]);Y&&this.onRemove(Y)}return this},K.prototype.filter=function(B){var Y=[];for(var G in this.data)for(var L=0,H=this.data[G];L<H.length;L+=1){var $=H[L];B($.value)||Y.push($)}for(var ne=0,ce=Y;ne<ce.length;ne+=1){var ve=ce[ne];this.remove(ve.value.tileID,ve)}};var ee=function(B,Y,G){this.context=B;var L=B.gl;this.buffer=L.createBuffer(),this.dynamicDraw=!!G,this.context.unbindVAO(),B.bindElementBuffer.set(this.buffer),L.bufferData(L.ELEMENT_ARRAY_BUFFER,Y.arrayBuffer,this.dynamicDraw?L.DYNAMIC_DRAW:L.STATIC_DRAW),this.dynamicDraw||delete Y.arrayBuffer};ee.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},ee.prototype.updateData=function(B){var Y=this.context.gl;this.context.unbindVAO(),this.bind(),Y.bufferSubData(Y.ELEMENT_ARRAY_BUFFER,0,B.arrayBuffer)},ee.prototype.destroy=function(){var B=this.context.gl;this.buffer&&(B.deleteBuffer(this.buffer),delete this.buffer)};var re={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},ie=function(B,Y,G,L){this.length=Y.length,this.attributes=G,this.itemSize=Y.bytesPerElement,this.dynamicDraw=L,this.context=B;var H=B.gl;this.buffer=H.createBuffer(),B.bindVertexBuffer.set(this.buffer),H.bufferData(H.ARRAY_BUFFER,Y.arrayBuffer,this.dynamicDraw?H.DYNAMIC_DRAW:H.STATIC_DRAW),this.dynamicDraw||delete Y.arrayBuffer};ie.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},ie.prototype.updateData=function(B){var Y=this.context.gl;this.bind(),Y.bufferSubData(Y.ARRAY_BUFFER,0,B.arrayBuffer)},ie.prototype.enableAttributes=function(B,Y){for(var G=0;G<this.attributes.length;G++){var L=this.attributes[G],H=Y.attributes[L.name];H!==void 0&&B.enableVertexAttribArray(H)}},ie.prototype.setVertexAttribPointers=function(B,Y,G){for(var L=0;L<this.attributes.length;L++){var H=this.attributes[L],$=Y.attributes[H.name];$!==void 0&&B.vertexAttribPointer($,H.components,B[re[H.type]],!1,this.itemSize,H.offset+this.itemSize*(G||0))}},ie.prototype.destroy=function(){var B=this.context.gl;this.buffer&&(B.deleteBuffer(this.buffer),delete this.buffer)};var ae=function(B){this.gl=B.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};ae.prototype.get=function(){return this.current},ae.prototype.set=function(B){},ae.prototype.getDefault=function(){return this.default},ae.prototype.setDefault=function(){this.set(this.default)};var ue=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return a.Color.transparent},Y.prototype.set=function(G){var L=this.current;(G.r!==L.r||G.g!==L.g||G.b!==L.b||G.a!==L.a||this.dirty)&&(this.gl.clearColor(G.r,G.g,G.b,G.a),this.current=G,this.dirty=!1)},Y}(ae),pe=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return 1},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.clearDepth(G),this.current=G,this.dirty=!1)},Y}(ae),de=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return 0},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.clearStencil(G),this.current=G,this.dirty=!1)},Y}(ae),ye=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return[!0,!0,!0,!0]},Y.prototype.set=function(G){var L=this.current;(G[0]!==L[0]||G[1]!==L[1]||G[2]!==L[2]||G[3]!==L[3]||this.dirty)&&(this.gl.colorMask(G[0],G[1],G[2],G[3]),this.current=G,this.dirty=!1)},Y}(ae),be=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!0},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.depthMask(G),this.current=G,this.dirty=!1)},Y}(ae),me=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return 255},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.stencilMask(G),this.current=G,this.dirty=!1)},Y}(ae),Ee=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},Y.prototype.set=function(G){var L=this.current;(G.func!==L.func||G.ref!==L.ref||G.mask!==L.mask||this.dirty)&&(this.gl.stencilFunc(G.func,G.ref,G.mask),this.current=G,this.dirty=!1)},Y}(ae),Te=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){var G=this.gl;return[G.KEEP,G.KEEP,G.KEEP]},Y.prototype.set=function(G){var L=this.current;(G[0]!==L[0]||G[1]!==L[1]||G[2]!==L[2]||this.dirty)&&(this.gl.stencilOp(G[0],G[1],G[2]),this.current=G,this.dirty=!1)},Y}(ae),we=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;G?L.enable(L.STENCIL_TEST):L.disable(L.STENCIL_TEST),this.current=G,this.dirty=!1}},Y}(ae),oe=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return[0,1]},Y.prototype.set=function(G){var L=this.current;(G[0]!==L[0]||G[1]!==L[1]||this.dirty)&&(this.gl.depthRange(G[0],G[1]),this.current=G,this.dirty=!1)},Y}(ae),se=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;G?L.enable(L.DEPTH_TEST):L.disable(L.DEPTH_TEST),this.current=G,this.dirty=!1}},Y}(ae),he=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.LESS},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.depthFunc(G),this.current=G,this.dirty=!1)},Y}(ae),Se=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;G?L.enable(L.BLEND):L.disable(L.BLEND),this.current=G,this.dirty=!1}},Y}(ae),_e=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){var G=this.gl;return[G.ONE,G.ZERO]},Y.prototype.set=function(G){var L=this.current;(G[0]!==L[0]||G[1]!==L[1]||this.dirty)&&(this.gl.blendFunc(G[0],G[1]),this.current=G,this.dirty=!1)},Y}(ae),Ae=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return a.Color.transparent},Y.prototype.set=function(G){var L=this.current;(G.r!==L.r||G.g!==L.g||G.b!==L.b||G.a!==L.a||this.dirty)&&(this.gl.blendColor(G.r,G.g,G.b,G.a),this.current=G,this.dirty=!1)},Y}(ae),Ce=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.FUNC_ADD},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.blendEquation(G),this.current=G,this.dirty=!1)},Y}(ae),Re=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;G?L.enable(L.CULL_FACE):L.disable(L.CULL_FACE),this.current=G,this.dirty=!1}},Y}(ae),fe=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.BACK},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.cullFace(G),this.current=G,this.dirty=!1)},Y}(ae),xe=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.CCW},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.frontFace(G),this.current=G,this.dirty=!1)},Y}(ae),ke=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.useProgram(G),this.current=G,this.dirty=!1)},Y}(ae),Ie=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.TEXTURE0},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.activeTexture(G),this.current=G,this.dirty=!1)},Y}(ae),Fe=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){var G=this.gl;return[0,0,G.drawingBufferWidth,G.drawingBufferHeight]},Y.prototype.set=function(G){var L=this.current;(G[0]!==L[0]||G[1]!==L[1]||G[2]!==L[2]||G[3]!==L[3]||this.dirty)&&(this.gl.viewport(G[0],G[1],G[2],G[3]),this.current=G,this.dirty=!1)},Y}(ae),ze=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.bindFramebuffer(L.FRAMEBUFFER,G),this.current=G,this.dirty=!1}},Y}(ae),qe=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.bindRenderbuffer(L.RENDERBUFFER,G),this.current=G,this.dirty=!1}},Y}(ae),Ye=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.bindTexture(L.TEXTURE_2D,G),this.current=G,this.dirty=!1}},Y}(ae),Qe=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.bindBuffer(L.ARRAY_BUFFER,G),this.current=G,this.dirty=!1}},Y}(ae),ft=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){var L=this.gl;L.bindBuffer(L.ELEMENT_ARRAY_BUFFER,G),this.current=G,this.dirty=!1},Y}(ae),ht=function(B){function Y(G){B.call(this,G),this.vao=G.extVertexArrayObject}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){this.vao&&(G!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(G),this.current=G,this.dirty=!1)},Y}(ae),mt=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return 4},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_ALIGNMENT,G),this.current=G,this.dirty=!1}},Y}(ae),Mt=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G),this.current=G,this.dirty=!1}},Y}(ae),_t=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_FLIP_Y_WEBGL,G),this.current=G,this.dirty=!1}},Y}(ae),it=function(B){function Y(G,L){B.call(this,G),this.context=G,this.parent=L}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y}(ae),st=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.setDirty=function(){this.dirty=!0},Y.prototype.set=function(G){if(G!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var L=this.gl;L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,G,0),this.current=G,this.dirty=!1}},Y}(it),St=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.set=function(G){if(G!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var L=this.gl;L.framebufferRenderbuffer(L.FRAMEBUFFER,L.DEPTH_ATTACHMENT,L.RENDERBUFFER,G),this.current=G,this.dirty=!1}},Y}(it),zt=function(B,Y,G,L){this.context=B,this.width=Y,this.height=G;var H=B.gl,$=this.framebuffer=H.createFramebuffer();this.colorAttachment=new st(B,$),L&&(this.depthAttachment=new St(B,$))};zt.prototype.destroy=function(){var B=this.context.gl,Y=this.colorAttachment.get();if(Y&&B.deleteTexture(Y),this.depthAttachment){var G=this.depthAttachment.get();G&&B.deleteRenderbuffer(G)}B.deleteFramebuffer(this.framebuffer)};var Ft=function(B,Y,G){this.func=B,this.mask=Y,this.range=G};Ft.ReadOnly=!1,Ft.ReadWrite=!0,Ft.disabled=new Ft(519,Ft.ReadOnly,[0,1]);var Pt=7680,Ze=function(B,Y,G,L,H,$){this.test=B,this.ref=Y,this.mask=G,this.fail=L,this.depthFail=H,this.pass=$};Ze.disabled=new Ze({func:519,mask:0},0,0,Pt,Pt,Pt);var Je=function(B,Y,G){this.blendFunction=B,this.blendColor=Y,this.mask=G};Je.Replace=[1,0],Je.disabled=new Je(Je.Replace,a.Color.transparent,[!1,!1,!1,!1]),Je.unblended=new Je(Je.Replace,a.Color.transparent,[!0,!0,!0,!0]),Je.alphaBlended=new Je([1,771],a.Color.transparent,[!0,!0,!0,!0]);var Ue=function(B,Y,G){this.enable=B,this.mode=Y,this.frontFace=G};Ue.disabled=new Ue(!1,1029,2305),Ue.backCCW=new Ue(!0,1029,2305);var Xe=function(B){this.gl=B,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new ue(this),this.clearDepth=new pe(this),this.clearStencil=new de(this),this.colorMask=new ye(this),this.depthMask=new be(this),this.stencilMask=new me(this),this.stencilFunc=new Ee(this),this.stencilOp=new Te(this),this.stencilTest=new we(this),this.depthRange=new oe(this),this.depthTest=new se(this),this.depthFunc=new he(this),this.blend=new Se(this),this.blendFunc=new _e(this),this.blendColor=new Ae(this),this.blendEquation=new Ce(this),this.cullFace=new Re(this),this.cullFaceSide=new fe(this),this.frontFace=new xe(this),this.program=new ke(this),this.activeTexture=new Ie(this),this.viewport=new Fe(this),this.bindFramebuffer=new ze(this),this.bindRenderbuffer=new qe(this),this.bindTexture=new Ye(this),this.bindVertexBuffer=new Qe(this),this.bindElementBuffer=new ft(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ht(this),this.pixelStoreUnpack=new mt(this),this.pixelStoreUnpackPremultiplyAlpha=new Mt(this),this.pixelStoreUnpackFlipY=new _t(this),this.extTextureFilterAnisotropic=B.getExtension("EXT_texture_filter_anisotropic")||B.getExtension("MOZ_EXT_texture_filter_anisotropic")||B.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=B.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=B.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(B.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=B.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=B.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=B.getParameter(B.MAX_TEXTURE_SIZE)};Xe.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Xe.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Xe.prototype.createIndexBuffer=function(B,Y){return new ee(this,B,Y)},Xe.prototype.createVertexBuffer=function(B,Y,G){return new ie(this,B,Y,G)},Xe.prototype.createRenderbuffer=function(B,Y,G){var L=this.gl,H=L.createRenderbuffer();return this.bindRenderbuffer.set(H),L.renderbufferStorage(L.RENDERBUFFER,B,Y,G),this.bindRenderbuffer.set(null),H},Xe.prototype.createFramebuffer=function(B,Y,G){return new zt(this,B,Y,G)},Xe.prototype.clear=function(B){var Y=B.color,G=B.depth,L=this.gl,H=0;Y&&(H|=L.COLOR_BUFFER_BIT,this.clearColor.set(Y),this.colorMask.set([!0,!0,!0,!0])),G!==void 0&&(H|=L.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(G),this.depthMask.set(!0)),L.clear(H)},Xe.prototype.setCullFace=function(B){B.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(B.mode),this.frontFace.set(B.frontFace))},Xe.prototype.setDepthMode=function(B){B.func!==this.gl.ALWAYS||B.mask?(this.depthTest.set(!0),this.depthFunc.set(B.func),this.depthMask.set(B.mask),this.depthRange.set(B.range)):this.depthTest.set(!1)},Xe.prototype.setStencilMode=function(B){B.test.func!==this.gl.ALWAYS||B.mask?(this.stencilTest.set(!0),this.stencilMask.set(B.mask),this.stencilOp.set([B.fail,B.depthFail,B.pass]),this.stencilFunc.set({func:B.test.func,ref:B.ref,mask:B.test.mask})):this.stencilTest.set(!1)},Xe.prototype.setColorMode=function(B){a.deepEqual(B.blendFunction,Je.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(B.blendFunction),this.blendColor.set(B.blendColor)),this.colorMask.set(B.mask)},Xe.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var lt=function(B){function Y(G,L,H){var $=this;B.call(this),this.id=G,this.dispatcher=H,this.on("data",function(ne){ne.dataType==="source"&&ne.sourceDataType==="metadata"&&($._sourceLoaded=!0),$._sourceLoaded&&!$._paused&&ne.dataType==="source"&&ne.sourceDataType==="content"&&($.reload(),$.transform&&$.update($.transform))}),this.on("error",function(){$._sourceErrored=!0}),this._source=function(ne,ce,ve,Oe){var De=new te[ce.type](ne,ce,ve,Oe);if(De.id!==ne)throw new Error("Expected Source id to be "+ne+" instead of "+De.id);return a.bindAll(["load","abort","unload","serialize","prepare"],De),De}(G,L,H,this),this._tiles={},this._cache=new K(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.onAdd=function(G){this.map=G,this._maxTileCacheSize=G?G._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(G)},Y.prototype.onRemove=function(G){this._source&&this._source.onRemove&&this._source.onRemove(G)},Y.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var G in this._tiles){var L=this._tiles[G];if(L.state!=="loaded"&&L.state!=="errored")return!1}return!0},Y.prototype.getSource=function(){return this._source},Y.prototype.pause=function(){this._paused=!0},Y.prototype.resume=function(){if(this._paused){var G=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,G&&this.reload(),this.transform&&this.update(this.transform)}},Y.prototype._loadTile=function(G,L){return this._source.loadTile(G,L)},Y.prototype._unloadTile=function(G){if(this._source.unloadTile)return this._source.unloadTile(G,function(){})},Y.prototype._abortTile=function(G){if(this._source.abortTile)return this._source.abortTile(G,function(){})},Y.prototype.serialize=function(){return this._source.serialize()},Y.prototype.prepare=function(G){for(var L in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var H=this._tiles[L];H.upload(G),H.prepare(this.map.style.imageManager)}},Y.prototype.getIds=function(){return a.values(this._tiles).map(function(G){return G.tileID}).sort(ot).map(function(G){return G.key})},Y.prototype.getRenderableIds=function(G){var L=this,H=[];for(var $ in this._tiles)this._isIdRenderable($,G)&&H.push(this._tiles[$]);return G?H.sort(function(ne,ce){var ve=ne.tileID,Oe=ce.tileID,De=new a.Point(ve.canonical.x,ve.canonical.y)._rotate(L.transform.angle),He=new a.Point(Oe.canonical.x,Oe.canonical.y)._rotate(L.transform.angle);return ve.overscaledZ-Oe.overscaledZ||He.y-De.y||He.x-De.x}).map(function(ne){return ne.tileID.key}):H.map(function(ne){return ne.tileID}).sort(ot).map(function(ne){return ne.key})},Y.prototype.hasRenderableParent=function(G){var L=this.findLoadedParent(G,0);return!!L&&this._isIdRenderable(L.tileID.key)},Y.prototype._isIdRenderable=function(G,L){return this._tiles[G]&&this._tiles[G].hasData()&&!this._coveredTiles[G]&&(L||!this._tiles[G].holdingForFade())},Y.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var G in this._cache.reset(),this._tiles)this._tiles[G].state!=="errored"&&this._reloadTile(G,"reloading")},Y.prototype._reloadTile=function(G,L){var H=this._tiles[G];H&&(H.state!=="loading"&&(H.state=L),this._loadTile(H,this._tileLoaded.bind(this,H,G,L)))},Y.prototype._tileLoaded=function(G,L,H,$){if($)return G.state="errored",void($.status!==404?this._source.fire(new a.ErrorEvent($,{tile:G})):this.update(this.transform));G.timeAdded=a.browser.now(),H==="expired"&&(G.refreshedUponExpiration=!0),this._setTileReloadTimer(L,G),this.getSource().type==="raster-dem"&&G.dem&&this._backfillDEM(G),this._state.initializeTileState(G,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:G,coord:G.tileID}))},Y.prototype._backfillDEM=function(G){for(var L=this.getRenderableIds(),H=0;H<L.length;H++){var $=L[H];if(G.neighboringTiles&&G.neighboringTiles[$]){var ne=this.getTileByID($);ce(G,ne),ce(ne,G)}}function ce(ve,Oe){ve.needsHillshadePrepare=!0;var De=Oe.tileID.canonical.x-ve.tileID.canonical.x,He=Oe.tileID.canonical.y-ve.tileID.canonical.y,We=Math.pow(2,ve.tileID.canonical.z),rt=Oe.tileID.key;De===0&&He===0||Math.abs(He)>1||(Math.abs(De)>1&&(Math.abs(De+We)===1?De+=We:Math.abs(De-We)===1&&(De-=We)),Oe.dem&&ve.dem&&(ve.dem.backfillBorder(Oe.dem,De,He),ve.neighboringTiles&&ve.neighboringTiles[rt]&&(ve.neighboringTiles[rt].backfilled=!0)))}},Y.prototype.getTile=function(G){return this.getTileByID(G.key)},Y.prototype.getTileByID=function(G){return this._tiles[G]},Y.prototype._retainLoadedChildren=function(G,L,H,$){for(var ne in this._tiles){var ce=this._tiles[ne];if(!($[ne]||!ce.hasData()||ce.tileID.overscaledZ<=L||ce.tileID.overscaledZ>H)){for(var ve=ce.tileID;ce&&ce.tileID.overscaledZ>L+1;){var Oe=ce.tileID.scaledTo(ce.tileID.overscaledZ-1);(ce=this._tiles[Oe.key])&&ce.hasData()&&(ve=Oe)}for(var De=ve;De.overscaledZ>L;)if(G[(De=De.scaledTo(De.overscaledZ-1)).key]){$[ve.key]=ve;break}}}},Y.prototype.findLoadedParent=function(G,L){if(G.key in this._loadedParentTiles){var H=this._loadedParentTiles[G.key];return H&&H.tileID.overscaledZ>=L?H:null}for(var $=G.overscaledZ-1;$>=L;$--){var ne=G.scaledTo($),ce=this._getLoadedTile(ne);if(ce)return ce}},Y.prototype._getLoadedTile=function(G){var L=this._tiles[G.key];return L&&L.hasData()?L:this._cache.getByKey(G.wrapped().key)},Y.prototype.updateCacheSize=function(G){var L=(Math.ceil(G.width/this._source.tileSize)+1)*(Math.ceil(G.height/this._source.tileSize)+1),H=Math.floor(5*L),$=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,H):H;this._cache.setMaxSize($)},Y.prototype.handleWrapJump=function(G){var L=(G-(this._prevLng===void 0?G:this._prevLng))/360,H=Math.round(L);if(this._prevLng=G,H){var $={};for(var ne in this._tiles){var ce=this._tiles[ne];ce.tileID=ce.tileID.unwrapTo(ce.tileID.wrap+H),$[ce.tileID.key]=ce}for(var ve in this._tiles=$,this._timers)clearTimeout(this._timers[ve]),delete this._timers[ve];for(var Oe in this._tiles){var De=this._tiles[Oe];this._setTileReloadTimer(Oe,De)}}},Y.prototype.update=function(G){var L=this;if(this.transform=G,this._sourceLoaded&&!this._paused){var H;this.updateCacheSize(G),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?H=G.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Ht){return new a.OverscaledTileID(Ht.canonical.z,Ht.wrap,Ht.canonical.z,Ht.canonical.x,Ht.canonical.y)}):(H=G.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(H=H.filter(function(Ht){return L._source.hasTile(Ht)}))):H=[];var $=G.coveringZoomLevel(this._source),ne=Math.max($-Y.maxOverzooming,this._source.minzoom),ce=Math.max($+Y.maxUnderzooming,this._source.minzoom),ve=this._updateRetainedTiles(H,$);if(Be(this._source.type)){for(var Oe={},De={},He=0,We=Object.keys(ve);He<We.length;He+=1){var rt=We[He],pt=ve[rt],vt=this._tiles[rt];if(vt&&!(vt.fadeEndTime&&vt.fadeEndTime<=a.browser.now())){var kt=this.findLoadedParent(pt,ne);kt&&(this._addTile(kt.tileID),Oe[kt.tileID.key]=kt.tileID),De[rt]=pt}}for(var Ot in this._retainLoadedChildren(De,$,ce,ve),Oe)ve[Ot]||(this._coveredTiles[Ot]=!0,ve[Ot]=Oe[Ot])}for(var Et in ve)this._tiles[Et].clearFadeHold();for(var jt=0,It=a.keysDifference(this._tiles,ve);jt<It.length;jt+=1){var Jt=It[jt],Yt=this._tiles[Jt];Yt.hasSymbolBuckets&&!Yt.holdingForFade()?Yt.setHoldDuration(this.map._fadeDuration):Yt.hasSymbolBuckets&&!Yt.symbolFadeFinished()||this._removeTile(Jt)}this._updateLoadedParentTileCache()}},Y.prototype.releaseSymbolFadeTiles=function(){for(var G in this._tiles)this._tiles[G].holdingForFade()&&this._removeTile(G)},Y.prototype._updateRetainedTiles=function(G,L){for(var H={},$={},ne=Math.max(L-Y.maxOverzooming,this._source.minzoom),ce=Math.max(L+Y.maxUnderzooming,this._source.minzoom),ve={},Oe=0,De=G;Oe<De.length;Oe+=1){var He=De[Oe],We=this._addTile(He);H[He.key]=He,We.hasData()||L<this._source.maxzoom&&(ve[He.key]=He)}this._retainLoadedChildren(ve,L,ce,H);for(var rt=0,pt=G;rt<pt.length;rt+=1){var vt=pt[rt],kt=this._tiles[vt.key];if(!kt.hasData()){if(L+1>this._source.maxzoom){var Ot=vt.children(this._source.maxzoom)[0],Et=this.getTile(Ot);if(Et&&Et.hasData()){H[Ot.key]=Ot;continue}}else{var jt=vt.children(this._source.maxzoom);if(H[jt[0].key]&&H[jt[1].key]&&H[jt[2].key]&&H[jt[3].key])continue}for(var It=kt.wasRequested(),Jt=vt.overscaledZ-1;Jt>=ne;--Jt){var Yt=vt.scaledTo(Jt);if($[Yt.key]||($[Yt.key]=!0,!(kt=this.getTile(Yt))&&It&&(kt=this._addTile(Yt)),kt&&(H[Yt.key]=Yt,It=kt.wasRequested(),kt.hasData())))break}}}return H},Y.prototype._updateLoadedParentTileCache=function(){for(var G in this._loadedParentTiles={},this._tiles){for(var L=[],H=void 0,$=this._tiles[G].tileID;$.overscaledZ>0;){if($.key in this._loadedParentTiles){H=this._loadedParentTiles[$.key];break}L.push($.key);var ne=$.scaledTo($.overscaledZ-1);if(H=this._getLoadedTile(ne))break;$=ne}for(var ce=0,ve=L;ce<ve.length;ce+=1){var Oe=ve[ce];this._loadedParentTiles[Oe]=H}}},Y.prototype._addTile=function(G){var L=this._tiles[G.key];if(L)return L;(L=this._cache.getAndRemove(G))&&(this._setTileReloadTimer(G.key,L),L.tileID=G,this._state.initializeTileState(L,this.map?this.map.painter:null),this._cacheTimers[G.key]&&(clearTimeout(this._cacheTimers[G.key]),delete this._cacheTimers[G.key],this._setTileReloadTimer(G.key,L)));var H=!!L;return H||(L=new a.Tile(G,this._source.tileSize*G.overscaleFactor()),this._loadTile(L,this._tileLoaded.bind(this,L,G.key,L.state))),L?(L.uses++,this._tiles[G.key]=L,H||this._source.fire(new a.Event("dataloading",{tile:L,coord:L.tileID,dataType:"source"})),L):null},Y.prototype._setTileReloadTimer=function(G,L){var H=this;G in this._timers&&(clearTimeout(this._timers[G]),delete this._timers[G]);var $=L.getExpiryTimeout();$&&(this._timers[G]=setTimeout(function(){H._reloadTile(G,"expired"),delete H._timers[G]},$))},Y.prototype._removeTile=function(G){var L=this._tiles[G];L&&(L.uses--,delete this._tiles[G],this._timers[G]&&(clearTimeout(this._timers[G]),delete this._timers[G]),L.uses>0||(L.hasData()&&L.state!=="reloading"?this._cache.add(L.tileID,L,L.getExpiryTimeout()):(L.aborted=!0,this._abortTile(L),this._unloadTile(L))))},Y.prototype.clearTiles=function(){for(var G in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(G);this._cache.reset()},Y.prototype.tilesIn=function(G,L,H){var $=this,ne=[],ce=this.transform;if(!ce)return ne;for(var ve=H?ce.getCameraQueryGeometry(G):G,Oe=G.map(function(Jt){return ce.pointCoordinate(Jt)}),De=ve.map(function(Jt){return ce.pointCoordinate(Jt)}),He=this.getIds(),We=1/0,rt=1/0,pt=-1/0,vt=-1/0,kt=0,Ot=De;kt<Ot.length;kt+=1){var Et=Ot[kt];We=Math.min(We,Et.x),rt=Math.min(rt,Et.y),pt=Math.max(pt,Et.x),vt=Math.max(vt,Et.y)}for(var jt=function(Jt){var Yt=$._tiles[He[Jt]];if(!Yt.holdingForFade()){var Ht=Yt.tileID,mn=Math.pow(2,ce.zoom-Yt.tileID.overscaledZ),yn=L*Yt.queryPadding*a.EXTENT/Yt.tileSize/mn,In=[Ht.getTilePoint(new a.MercatorCoordinate(We,rt)),Ht.getTilePoint(new a.MercatorCoordinate(pt,vt))];if(In[0].x-yn<a.EXTENT&&In[0].y-yn<a.EXTENT&&In[1].x+yn>=0&&In[1].y+yn>=0){var Rn=Oe.map(function(Qn){return Ht.getTilePoint(Qn)}),Gn=De.map(function(Qn){return Ht.getTilePoint(Qn)});ne.push({tile:Yt,tileID:Ht,queryGeometry:Rn,cameraQueryGeometry:Gn,scale:mn})}}},It=0;It<He.length;It++)jt(It);return ne},Y.prototype.getVisibleCoordinates=function(G){for(var L=this,H=this.getRenderableIds(G).map(function(ve){return L._tiles[ve].tileID}),$=0,ne=H;$<ne.length;$+=1){var ce=ne[$];ce.posMatrix=this.transform.calculatePosMatrix(ce.toUnwrapped())}return H},Y.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Be(this._source.type))for(var G in this._tiles){var L=this._tiles[G];if(L.fadeEndTime!==void 0&&L.fadeEndTime>=a.browser.now())return!0}return!1},Y.prototype.setFeatureState=function(G,L,H){G=G||"_geojsonTileLayer",this._state.updateState(G,L,H)},Y.prototype.removeFeatureState=function(G,L,H){G=G||"_geojsonTileLayer",this._state.removeFeatureState(G,L,H)},Y.prototype.getFeatureState=function(G,L){return G=G||"_geojsonTileLayer",this._state.getState(G,L)},Y.prototype.setDependencies=function(G,L,H){var $=this._tiles[G];$&&$.setDependencies(L,H)},Y.prototype.reloadTilesForDependencies=function(G,L){for(var H in this._tiles)this._tiles[H].hasDependency(G,L)&&this._reloadTile(H,"reloading");this._cache.filter(function($){return!$.hasDependency(G,L)})},Y}(a.Evented);function ot(B,Y){var G=Math.abs(2*B.wrap)-+(B.wrap<0),L=Math.abs(2*Y.wrap)-+(Y.wrap<0);return B.overscaledZ-Y.overscaledZ||L-G||Y.canonical.y-B.canonical.y||Y.canonical.x-B.canonical.x}function Be(B){return B==="raster"||B==="image"||B==="video"}function Ne(){return new a.window.Worker(ut.workerUrl)}lt.maxOverzooming=10,lt.maxUnderzooming=3;var at="mapboxgl_preloaded_worker_pool",$e=function(){this.active={}};$e.prototype.acquire=function(B){if(!this.workers)for(this.workers=[];this.workers.length<$e.workerCount;)this.workers.push(new Ne);return this.active[B]=!0,this.workers.slice()},$e.prototype.release=function(B){delete this.active[B],this.numActive()===0&&(this.workers.forEach(function(Y){Y.terminate()}),this.workers=null)},$e.prototype.isPreloaded=function(){return!!this.active[at]},$e.prototype.numActive=function(){return Object.keys(this.active).length};var gt,yt=Math.floor(a.browser.hardwareConcurrency/2);function xt(){return gt||(gt=new $e),gt}function dt(B,Y){var G={};for(var L in B)L!=="ref"&&(G[L]=B[L]);return a.refProperties.forEach(function(H){H in Y&&(G[H]=Y[H])}),G}function Lt(B){B=B.slice();for(var Y=Object.create(null),G=0;G<B.length;G++)Y[B[G].id]=B[G];for(var L=0;L<B.length;L++)"ref"in B[L]&&(B[L]=dt(B[L],Y[B[L].ref]));return B}$e.workerCount=Math.max(Math.min(yt,6),1);var Tt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function bt(B,Y,G){G.push({command:Tt.addSource,args:[B,Y[B]]})}function Ct(B,Y,G){Y.push({command:Tt.removeSource,args:[B]}),G[B]=!0}function Dt(B,Y,G,L){Ct(B,G,L),bt(B,Y,G)}function Bt(B,Y,G){var L;for(L in B[G])if(B[G].hasOwnProperty(L)&&L!=="data"&&!a.deepEqual(B[G][L],Y[G][L]))return!1;for(L in Y[G])if(Y[G].hasOwnProperty(L)&&L!=="data"&&!a.deepEqual(B[G][L],Y[G][L]))return!1;return!0}function Xt(B,Y,G,L,H,$){var ne;for(ne in Y=Y||{},B=B||{})B.hasOwnProperty(ne)&&(a.deepEqual(B[ne],Y[ne])||G.push({command:$,args:[L,ne,Y[ne],H]}));for(ne in Y)Y.hasOwnProperty(ne)&&!B.hasOwnProperty(ne)&&(a.deepEqual(B[ne],Y[ne])||G.push({command:$,args:[L,ne,Y[ne],H]}))}function an(B){return B.id}function Wt(B,Y){return B[Y.id]=Y,B}function Vt(B,Y){if(!B)return[{command:Tt.setStyle,args:[Y]}];var G=[];try{if(!a.deepEqual(B.version,Y.version))return[{command:Tt.setStyle,args:[Y]}];a.deepEqual(B.center,Y.center)||G.push({command:Tt.setCenter,args:[Y.center]}),a.deepEqual(B.zoom,Y.zoom)||G.push({command:Tt.setZoom,args:[Y.zoom]}),a.deepEqual(B.bearing,Y.bearing)||G.push({command:Tt.setBearing,args:[Y.bearing]}),a.deepEqual(B.pitch,Y.pitch)||G.push({command:Tt.setPitch,args:[Y.pitch]}),a.deepEqual(B.sprite,Y.sprite)||G.push({command:Tt.setSprite,args:[Y.sprite]}),a.deepEqual(B.glyphs,Y.glyphs)||G.push({command:Tt.setGlyphs,args:[Y.glyphs]}),a.deepEqual(B.transition,Y.transition)||G.push({command:Tt.setTransition,args:[Y.transition]}),a.deepEqual(B.light,Y.light)||G.push({command:Tt.setLight,args:[Y.light]});var L={},H=[];(function(ne,ce,ve,Oe){var De;for(De in ce=ce||{},ne=ne||{})ne.hasOwnProperty(De)&&(ce.hasOwnProperty(De)||Ct(De,ve,Oe));for(De in ce)ce.hasOwnProperty(De)&&(ne.hasOwnProperty(De)?a.deepEqual(ne[De],ce[De])||(ne[De].type==="geojson"&&ce[De].type==="geojson"&&Bt(ne,ce,De)?ve.push({command:Tt.setGeoJSONSourceData,args:[De,ce[De].data]}):Dt(De,ce,ve,Oe)):bt(De,ce,ve))})(B.sources,Y.sources,H,L);var $=[];B.layers&&B.layers.forEach(function(ne){L[ne.source]?G.push({command:Tt.removeLayer,args:[ne.id]}):$.push(ne)}),G=G.concat(H),function(ne,ce,ve){ce=ce||[];var Oe,De,He,We,rt,pt,vt,kt=(ne=ne||[]).map(an),Ot=ce.map(an),Et=ne.reduce(Wt,{}),jt=ce.reduce(Wt,{}),It=kt.slice(),Jt=Object.create(null);for(Oe=0,De=0;Oe<kt.length;Oe++)He=kt[Oe],jt.hasOwnProperty(He)?De++:(ve.push({command:Tt.removeLayer,args:[He]}),It.splice(It.indexOf(He,De),1));for(Oe=0,De=0;Oe<Ot.length;Oe++)He=Ot[Ot.length-1-Oe],It[It.length-1-Oe]!==He&&(Et.hasOwnProperty(He)?(ve.push({command:Tt.removeLayer,args:[He]}),It.splice(It.lastIndexOf(He,It.length-De),1)):De++,pt=It[It.length-Oe],ve.push({command:Tt.addLayer,args:[jt[He],pt]}),It.splice(It.length-Oe,0,He),Jt[He]=!0);for(Oe=0;Oe<Ot.length;Oe++)if(We=Et[He=Ot[Oe]],rt=jt[He],!Jt[He]&&!a.deepEqual(We,rt))if(a.deepEqual(We.source,rt.source)&&a.deepEqual(We["source-layer"],rt["source-layer"])&&a.deepEqual(We.type,rt.type)){for(vt in Xt(We.layout,rt.layout,ve,He,null,Tt.setLayoutProperty),Xt(We.paint,rt.paint,ve,He,null,Tt.setPaintProperty),a.deepEqual(We.filter,rt.filter)||ve.push({command:Tt.setFilter,args:[He,rt.filter]}),a.deepEqual(We.minzoom,rt.minzoom)&&a.deepEqual(We.maxzoom,rt.maxzoom)||ve.push({command:Tt.setLayerZoomRange,args:[He,rt.minzoom,rt.maxzoom]}),We)We.hasOwnProperty(vt)&&vt!=="layout"&&vt!=="paint"&&vt!=="filter"&&vt!=="metadata"&&vt!=="minzoom"&&vt!=="maxzoom"&&(vt.indexOf("paint.")===0?Xt(We[vt],rt[vt],ve,He,vt.slice(6),Tt.setPaintProperty):a.deepEqual(We[vt],rt[vt])||ve.push({command:Tt.setLayerProperty,args:[He,vt,rt[vt]]}));for(vt in rt)rt.hasOwnProperty(vt)&&!We.hasOwnProperty(vt)&&vt!=="layout"&&vt!=="paint"&&vt!=="filter"&&vt!=="metadata"&&vt!=="minzoom"&&vt!=="maxzoom"&&(vt.indexOf("paint.")===0?Xt(We[vt],rt[vt],ve,He,vt.slice(6),Tt.setPaintProperty):a.deepEqual(We[vt],rt[vt])||ve.push({command:Tt.setLayerProperty,args:[He,vt,rt[vt]]}))}else ve.push({command:Tt.removeLayer,args:[He]}),pt=It[It.lastIndexOf(He)+1],ve.push({command:Tt.addLayer,args:[rt,pt]})}($,Y.layers,G)}catch(ne){console.warn("Unable to compute style diff:",ne),G=[{command:Tt.setStyle,args:[Y]}]}return G}var on=function(B,Y){this.reset(B,Y)};on.prototype.reset=function(B,Y){this.points=B||[],this._distances=[0];for(var G=1;G<this.points.length;G++)this._distances[G]=this._distances[G-1]+this.points[G].dist(this.points[G-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(Y||0,.5*this.length),this.paddedLength=this.length-2*this.padding},on.prototype.lerp=function(B){if(this.points.length===1)return this.points[0];B=a.clamp(B,0,1);for(var Y=1,G=this._distances[Y],L=B*this.paddedLength+this.padding;G<L&&Y<this._distances.length;)G=this._distances[++Y];var H=Y-1,$=this._distances[H],ne=G-$,ce=ne>0?(L-$)/ne:0;return this.points[H].mult(1-ce).add(this.points[Y].mult(ce))};var Sn=function(B,Y,G){var L=this.boxCells=[],H=this.circleCells=[];this.xCellCount=Math.ceil(B/G),this.yCellCount=Math.ceil(Y/G);for(var $=0;$<this.xCellCount*this.yCellCount;$++)L.push([]),H.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=B,this.height=Y,this.xScale=this.xCellCount/B,this.yScale=this.yCellCount/Y,this.boxUid=0,this.circleUid=0};function Ln(B,Y,G,L,H){var $=a.create();return Y?(a.scale($,$,[1/H,1/H,1]),G||a.rotateZ($,$,L.angle)):a.multiply($,L.labelPlaneMatrix,B),$}function fn(B,Y,G,L,H){if(Y){var $=a.clone(B);return a.scale($,$,[H,H,1]),G||a.rotateZ($,$,-L.angle),$}return L.glCoordMatrix}function Zt(B,Y){var G=[B.x,B.y,0,1];ar(G,G,Y);var L=G[3];return{point:new a.Point(G[0]/L,G[1]/L),signedDistanceFromCamera:L}}function ln(B,Y){return .5+B/Y*.5}function nn(B,Y){var G=B[0]/B[3],L=B[1]/B[3];return G>=-Y[0]&&G<=Y[0]&&L>=-Y[1]&&L<=Y[1]}function cn(B,Y,G,L,H,$,ne,ce){var ve=L?B.textSizeData:B.iconSizeData,Oe=a.evaluateSizeForZoom(ve,G.transform.zoom),De=[256/G.width*2+1,256/G.height*2+1],He=L?B.text.dynamicLayoutVertexArray:B.icon.dynamicLayoutVertexArray;He.clear();for(var We=B.lineVertexArray,rt=L?B.text.placedSymbolArray:B.icon.placedSymbolArray,pt=G.transform.width/G.transform.height,vt=!1,kt=0;kt<rt.length;kt++){var Ot=rt.get(kt);if(Ot.hidden||Ot.writingMode===a.WritingMode.vertical&&!vt)Hn(Ot.numGlyphs,He);else{vt=!1;var Et=[Ot.anchorX,Ot.anchorY,0,1];if(a.transformMat4(Et,Et,Y),nn(Et,De)){var jt=Et[3],It=ln(G.transform.cameraToCenterDistance,jt),Jt=a.evaluateSizeForFeature(ve,Oe,Ot),Yt=ne?Jt/It:Jt*It,Ht=new a.Point(Ot.anchorX,Ot.anchorY),mn=Zt(Ht,H).point,yn={},In=wn(Ot,Yt,!1,ce,Y,H,$,B.glyphOffsetArray,We,He,mn,Ht,yn,pt);vt=In.useVertical,(In.notEnoughRoom||vt||In.needsFlipping&&wn(Ot,Yt,!0,ce,Y,H,$,B.glyphOffsetArray,We,He,mn,Ht,yn,pt).notEnoughRoom)&&Hn(Ot.numGlyphs,He)}else Hn(Ot.numGlyphs,He)}}L?B.text.dynamicLayoutVertexBuffer.updateData(He):B.icon.dynamicLayoutVertexBuffer.updateData(He)}function kn(B,Y,G,L,H,$,ne,ce,ve,Oe,De){var He=ce.glyphStartIndex+ce.numGlyphs,We=ce.lineStartIndex,rt=ce.lineStartIndex+ce.lineLength,pt=Y.getoffsetX(ce.glyphStartIndex),vt=Y.getoffsetX(He-1),kt=_n(B*pt,G,L,H,$,ne,ce.segment,We,rt,ve,Oe,De);if(!kt)return null;var Ot=_n(B*vt,G,L,H,$,ne,ce.segment,We,rt,ve,Oe,De);return Ot?{first:kt,last:Ot}:null}function An(B,Y,G,L){return B===a.WritingMode.horizontal&&Math.abs(G.y-Y.y)>Math.abs(G.x-Y.x)*L?{useVertical:!0}:(B===a.WritingMode.vertical?Y.y<G.y:Y.x>G.x)?{needsFlipping:!0}:null}function wn(B,Y,G,L,H,$,ne,ce,ve,Oe,De,He,We,rt){var pt,vt=Y/24,kt=B.lineOffsetX*vt,Ot=B.lineOffsetY*vt;if(B.numGlyphs>1){var Et=B.glyphStartIndex+B.numGlyphs,jt=B.lineStartIndex,It=B.lineStartIndex+B.lineLength,Jt=kn(vt,ce,kt,Ot,G,De,He,B,ve,$,We);if(!Jt)return{notEnoughRoom:!0};var Yt=Zt(Jt.first.point,ne).point,Ht=Zt(Jt.last.point,ne).point;if(L&&!G){var mn=An(B.writingMode,Yt,Ht,rt);if(mn)return mn}pt=[Jt.first];for(var yn=B.glyphStartIndex+1;yn<Et-1;yn++)pt.push(_n(vt*ce.getoffsetX(yn),kt,Ot,G,De,He,B.segment,jt,It,ve,$,We));pt.push(Jt.last)}else{if(L&&!G){var In=Zt(He,H).point,Rn=B.lineStartIndex+B.segment+1,Gn=new a.Point(ve.getx(Rn),ve.gety(Rn)),Qn=Zt(Gn,H),hr=Qn.signedDistanceFromCamera>0?Qn.point:Cn(He,Gn,In,1,H),Zn=An(B.writingMode,In,hr,rt);if(Zn)return Zn}var lr=_n(vt*ce.getoffsetX(B.glyphStartIndex),kt,Ot,G,De,He,B.segment,B.lineStartIndex,B.lineStartIndex+B.lineLength,ve,$,We);if(!lr)return{notEnoughRoom:!0};pt=[lr]}for(var _r=0,Or=pt;_r<Or.length;_r+=1){var $n=Or[_r];a.addDynamicAttributes(Oe,$n.point,$n.angle)}return{}}function Cn(B,Y,G,L,H){var $=Zt(B.add(B.sub(Y)._unit()),H).point,ne=G.sub($);return G.add(ne._mult(L/ne.mag()))}function _n(B,Y,G,L,H,$,ne,ce,ve,Oe,De,He){var We=L?B-Y:B+Y,rt=We>0?1:-1,pt=0;L&&(rt*=-1,pt=Math.PI),rt<0&&(pt+=Math.PI);for(var vt=rt>0?ce+ne:ce+ne+1,kt=H,Ot=H,Et=0,jt=0,It=Math.abs(We),Jt=[];Et+jt<=It;){if((vt+=rt)<ce||vt>=ve)return null;if(Ot=kt,Jt.push(kt),(kt=He[vt])===void 0){var Yt=new a.Point(Oe.getx(vt),Oe.gety(vt)),Ht=Zt(Yt,De);if(Ht.signedDistanceFromCamera>0)kt=He[vt]=Ht.point;else{var mn=vt-rt;kt=Cn(Et===0?$:new a.Point(Oe.getx(mn),Oe.gety(mn)),Yt,Ot,It-Et+1,De)}}Et+=jt,jt=Ot.dist(kt)}var yn=(It-Et)/jt,In=kt.sub(Ot),Rn=In.mult(yn)._add(Ot);Rn._add(In._unit()._perp()._mult(G*rt));var Gn=pt+Math.atan2(kt.y-Ot.y,kt.x-Ot.x);return Jt.push(Rn),{point:Rn,angle:Gn,path:Jt}}Sn.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Sn.prototype.insert=function(B,Y,G,L,H){this._forEachCell(Y,G,L,H,this._insertBoxCell,this.boxUid++),this.boxKeys.push(B),this.bboxes.push(Y),this.bboxes.push(G),this.bboxes.push(L),this.bboxes.push(H)},Sn.prototype.insertCircle=function(B,Y,G,L){this._forEachCell(Y-L,G-L,Y+L,G+L,this._insertCircleCell,this.circleUid++),this.circleKeys.push(B),this.circles.push(Y),this.circles.push(G),this.circles.push(L)},Sn.prototype._insertBoxCell=function(B,Y,G,L,H,$){this.boxCells[H].push($)},Sn.prototype._insertCircleCell=function(B,Y,G,L,H,$){this.circleCells[H].push($)},Sn.prototype._query=function(B,Y,G,L,H,$){if(G<0||B>this.width||L<0||Y>this.height)return!H&&[];var ne=[];if(B<=0&&Y<=0&&this.width<=G&&this.height<=L){if(H)return!0;for(var ce=0;ce<this.boxKeys.length;ce++)ne.push({key:this.boxKeys[ce],x1:this.bboxes[4*ce],y1:this.bboxes[4*ce+1],x2:this.bboxes[4*ce+2],y2:this.bboxes[4*ce+3]});for(var ve=0;ve<this.circleKeys.length;ve++){var Oe=this.circles[3*ve],De=this.circles[3*ve+1],He=this.circles[3*ve+2];ne.push({key:this.circleKeys[ve],x1:Oe-He,y1:De-He,x2:Oe+He,y2:De+He})}return $?ne.filter($):ne}var We={hitTest:H,seenUids:{box:{},circle:{}}};return this._forEachCell(B,Y,G,L,this._queryCell,ne,We,$),H?ne.length>0:ne},Sn.prototype._queryCircle=function(B,Y,G,L,H){var $=B-G,ne=B+G,ce=Y-G,ve=Y+G;if(ne<0||$>this.width||ve<0||ce>this.height)return!L&&[];var Oe=[],De={hitTest:L,circle:{x:B,y:Y,radius:G},seenUids:{box:{},circle:{}}};return this._forEachCell($,ce,ne,ve,this._queryCellCircle,Oe,De,H),L?Oe.length>0:Oe},Sn.prototype.query=function(B,Y,G,L,H){return this._query(B,Y,G,L,!1,H)},Sn.prototype.hitTest=function(B,Y,G,L,H){return this._query(B,Y,G,L,!0,H)},Sn.prototype.hitTestCircle=function(B,Y,G,L){return this._queryCircle(B,Y,G,!0,L)},Sn.prototype._queryCell=function(B,Y,G,L,H,$,ne,ce){var ve=ne.seenUids,Oe=this.boxCells[H];if(Oe!==null)for(var De=this.bboxes,He=0,We=Oe;He<We.length;He+=1){var rt=We[He];if(!ve.box[rt]){ve.box[rt]=!0;var pt=4*rt;if(B<=De[pt+2]&&Y<=De[pt+3]&&G>=De[pt+0]&&L>=De[pt+1]&&(!ce||ce(this.boxKeys[rt]))){if(ne.hitTest)return $.push(!0),!0;$.push({key:this.boxKeys[rt],x1:De[pt],y1:De[pt+1],x2:De[pt+2],y2:De[pt+3]})}}}var vt=this.circleCells[H];if(vt!==null)for(var kt=this.circles,Ot=0,Et=vt;Ot<Et.length;Ot+=1){var jt=Et[Ot];if(!ve.circle[jt]){ve.circle[jt]=!0;var It=3*jt;if(this._circleAndRectCollide(kt[It],kt[It+1],kt[It+2],B,Y,G,L)&&(!ce||ce(this.circleKeys[jt]))){if(ne.hitTest)return $.push(!0),!0;var Jt=kt[It],Yt=kt[It+1],Ht=kt[It+2];$.push({key:this.circleKeys[jt],x1:Jt-Ht,y1:Yt-Ht,x2:Jt+Ht,y2:Yt+Ht})}}}},Sn.prototype._queryCellCircle=function(B,Y,G,L,H,$,ne,ce){var ve=ne.circle,Oe=ne.seenUids,De=this.boxCells[H];if(De!==null)for(var He=this.bboxes,We=0,rt=De;We<rt.length;We+=1){var pt=rt[We];if(!Oe.box[pt]){Oe.box[pt]=!0;var vt=4*pt;if(this._circleAndRectCollide(ve.x,ve.y,ve.radius,He[vt+0],He[vt+1],He[vt+2],He[vt+3])&&(!ce||ce(this.boxKeys[pt])))return $.push(!0),!0}}var kt=this.circleCells[H];if(kt!==null)for(var Ot=this.circles,Et=0,jt=kt;Et<jt.length;Et+=1){var It=jt[Et];if(!Oe.circle[It]){Oe.circle[It]=!0;var Jt=3*It;if(this._circlesCollide(Ot[Jt],Ot[Jt+1],Ot[Jt+2],ve.x,ve.y,ve.radius)&&(!ce||ce(this.circleKeys[It])))return $.push(!0),!0}}},Sn.prototype._forEachCell=function(B,Y,G,L,H,$,ne,ce){for(var ve=this._convertToXCellCoord(B),Oe=this._convertToYCellCoord(Y),De=this._convertToXCellCoord(G),He=this._convertToYCellCoord(L),We=ve;We<=De;We++)for(var rt=Oe;rt<=He;rt++){var pt=this.xCellCount*rt+We;if(H.call(this,B,Y,G,L,pt,$,ne,ce))return}},Sn.prototype._convertToXCellCoord=function(B){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(B*this.xScale)))},Sn.prototype._convertToYCellCoord=function(B){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(B*this.yScale)))},Sn.prototype._circlesCollide=function(B,Y,G,L,H,$){var ne=L-B,ce=H-Y,ve=G+$;return ve*ve>ne*ne+ce*ce},Sn.prototype._circleAndRectCollide=function(B,Y,G,L,H,$,ne){var ce=($-L)/2,ve=Math.abs(B-(L+ce));if(ve>ce+G)return!1;var Oe=(ne-H)/2,De=Math.abs(Y-(H+Oe));if(De>Oe+G)return!1;if(ve<=ce||De<=Oe)return!0;var He=ve-ce,We=De-Oe;return He*He+We*We<=G*G};var zn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Hn(B,Y){for(var G=0;G<B;G++){var L=Y.length;Y.resize(L+4),Y.float32.set(zn,3*L)}}function ar(B,Y,G){var L=Y[0],H=Y[1];return B[0]=G[0]*L+G[4]*H+G[12],B[1]=G[1]*L+G[5]*H+G[13],B[3]=G[3]*L+G[7]*H+G[15],B}var fr=100,rr=function(B,Y,G){Y===void 0&&(Y=new Sn(B.width+200,B.height+200,25)),G===void 0&&(G=new Sn(B.width+200,B.height+200,25)),this.transform=B,this.grid=Y,this.ignoredGrid=G,this.pitchfactor=Math.cos(B._pitch)*B.cameraToCenterDistance,this.screenRightBoundary=B.width+fr,this.screenBottomBoundary=B.height+fr,this.gridRightBoundary=B.width+200,this.gridBottomBoundary=B.height+200};function Xn(B,Y,G){return Y*(a.EXTENT/(B.tileSize*Math.pow(2,G-B.tileID.overscaledZ)))}rr.prototype.placeCollisionBox=function(B,Y,G,L,H){var $=this.projectAndGetPerspectiveRatio(L,B.anchorPointX,B.anchorPointY),ne=G*$.perspectiveRatio,ce=B.x1*ne+$.point.x,ve=B.y1*ne+$.point.y,Oe=B.x2*ne+$.point.x,De=B.y2*ne+$.point.y;return!this.isInsideGrid(ce,ve,Oe,De)||!Y&&this.grid.hitTest(ce,ve,Oe,De,H)?{box:[],offscreen:!1}:{box:[ce,ve,Oe,De],offscreen:this.isOffscreen(ce,ve,Oe,De)}},rr.prototype.placeCollisionCircles=function(B,Y,G,L,H,$,ne,ce,ve,Oe,De,He,We){var rt=[],pt=new a.Point(Y.anchorX,Y.anchorY),vt=Zt(pt,$),kt=ln(this.transform.cameraToCenterDistance,vt.signedDistanceFromCamera),Ot=(Oe?H/kt:H*kt)/a.ONE_EM,Et=Zt(pt,ne).point,jt=kn(Ot,L,Y.lineOffsetX*Ot,Y.lineOffsetY*Ot,!1,Et,pt,Y,G,ne,{}),It=!1,Jt=!1,Yt=!0;if(jt){for(var Ht=.5*He*kt+We,mn=new a.Point(-100,-100),yn=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),In=new on,Rn=jt.first,Gn=jt.last,Qn=[],hr=Rn.path.length-1;hr>=1;hr--)Qn.push(Rn.path[hr]);for(var Zn=1;Zn<Gn.path.length;Zn++)Qn.push(Gn.path[Zn]);var lr=2.5*Ht;if(ce){var _r=Qn.map(function(ii){return Zt(ii,ce)});Qn=_r.some(function(ii){return ii.signedDistanceFromCamera<=0})?[]:_r.map(function(ii){return ii.point})}var Or=[];if(Qn.length>0){for(var $n=Qn[0].clone(),sr=Qn[0].clone(),Mr=1;Mr<Qn.length;Mr++)$n.x=Math.min($n.x,Qn[Mr].x),$n.y=Math.min($n.y,Qn[Mr].y),sr.x=Math.max(sr.x,Qn[Mr].x),sr.y=Math.max(sr.y,Qn[Mr].y);Or=$n.x>=mn.x&&sr.x<=yn.x&&$n.y>=mn.y&&sr.y<=yn.y?[Qn]:sr.x<mn.x||$n.x>yn.x||sr.y<mn.y||$n.y>yn.y?[]:a.clipLine([Qn],mn.x,mn.y,yn.x,yn.y)}for(var pr=0,Er=Or;pr<Er.length;pr+=1){var zr=Er[pr];In.reset(zr,.25*Ht);var Yr;Yr=In.length<=.5*Ht?1:Math.ceil(In.paddedLength/lr)+1;for(var Zr=0;Zr<Yr;Zr++){var Kr=Zr/Math.max(Yr-1,1),ni=In.lerp(Kr),Ai=ni.x+fr,Gi=ni.y+fr;rt.push(Ai,Gi,Ht,0);var Aa=Ai-Ht,sa=Gi-Ht,xa=Ai+Ht,Pi=Gi+Ht;if(Yt=Yt&&this.isOffscreen(Aa,sa,xa,Pi),Jt=Jt||this.isInsideGrid(Aa,sa,xa,Pi),!B&&this.grid.hitTestCircle(Ai,Gi,Ht,De)&&(It=!0,!ve))return{circles:[],offscreen:!1,collisionDetected:It}}}}return{circles:!ve&&It||!Jt?[]:rt,offscreen:Yt,collisionDetected:It}},rr.prototype.queryRenderedSymbols=function(B){if(B.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var Y=[],G=1/0,L=1/0,H=-1/0,$=-1/0,ne=0,ce=B;ne<ce.length;ne+=1){var ve=ce[ne],Oe=new a.Point(ve.x+fr,ve.y+fr);G=Math.min(G,Oe.x),L=Math.min(L,Oe.y),H=Math.max(H,Oe.x),$=Math.max($,Oe.y),Y.push(Oe)}for(var De={},He={},We=0,rt=this.grid.query(G,L,H,$).concat(this.ignoredGrid.query(G,L,H,$));We<rt.length;We+=1){var pt=rt[We],vt=pt.key;if(De[vt.bucketInstanceId]===void 0&&(De[vt.bucketInstanceId]={}),!De[vt.bucketInstanceId][vt.featureIndex]){var kt=[new a.Point(pt.x1,pt.y1),new a.Point(pt.x2,pt.y1),new a.Point(pt.x2,pt.y2),new a.Point(pt.x1,pt.y2)];a.polygonIntersectsPolygon(Y,kt)&&(De[vt.bucketInstanceId][vt.featureIndex]=!0,He[vt.bucketInstanceId]===void 0&&(He[vt.bucketInstanceId]=[]),He[vt.bucketInstanceId].push(vt.featureIndex))}}return He},rr.prototype.insertCollisionBox=function(B,Y,G,L,H){var $={bucketInstanceId:G,featureIndex:L,collisionGroupID:H};(Y?this.ignoredGrid:this.grid).insert($,B[0],B[1],B[2],B[3])},rr.prototype.insertCollisionCircles=function(B,Y,G,L,H){for(var $=Y?this.ignoredGrid:this.grid,ne={bucketInstanceId:G,featureIndex:L,collisionGroupID:H},ce=0;ce<B.length;ce+=4)$.insertCircle(ne,B[ce],B[ce+1],B[ce+2])},rr.prototype.projectAndGetPerspectiveRatio=function(B,Y,G){var L=[Y,G,0,1];return ar(L,L,B),{point:new a.Point((L[0]/L[3]+1)/2*this.transform.width+fr,(-L[1]/L[3]+1)/2*this.transform.height+fr),perspectiveRatio:.5+this.transform.cameraToCenterDistance/L[3]*.5}},rr.prototype.isOffscreen=function(B,Y,G,L){return G<fr||B>=this.screenRightBoundary||L<fr||Y>this.screenBottomBoundary},rr.prototype.isInsideGrid=function(B,Y,G,L){return G>=0&&B<this.gridRightBoundary&&L>=0&&Y<this.gridBottomBoundary},rr.prototype.getViewportMatrix=function(){var B=a.identity([]);return a.translate(B,B,[-100,-100,0]),B};var gr=function(B,Y,G,L){this.opacity=B?Math.max(0,Math.min(1,B.opacity+(B.placed?Y:-Y))):L&&G?1:0,this.placed=G};gr.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Gt=function(B,Y,G,L,H){this.text=new gr(B?B.text:null,Y,G,H),this.icon=new gr(B?B.icon:null,Y,L,H)};Gt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var tn=function(B,Y,G){this.text=B,this.icon=Y,this.skipFade=G},dn=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},vn=function(B,Y,G,L,H){this.bucketInstanceId=B,this.featureIndex=Y,this.sourceLayerIndex=G,this.bucketIndex=L,this.tileID=H},On=function(B){this.crossSourceCollisions=B,this.maxGroupID=0,this.collisionGroups={}};function Vn(B,Y,G,L,H){var $=a.getAnchorAlignment(B),ne=-($.horizontalAlign-.5)*Y,ce=-($.verticalAlign-.5)*G,ve=a.evaluateVariableOffset(B,L);return new a.Point(ne+ve[0]*H,ce+ve[1]*H)}function Bn(B,Y,G,L,H,$){var ne=B.x1,ce=B.x2,ve=B.y1,Oe=B.y2,De=B.anchorPointX,He=B.anchorPointY,We=new a.Point(Y,G);return L&&We._rotate(H?$:-$),{x1:ne+We.x,y1:ve+We.y,x2:ce+We.x,y2:Oe+We.y,anchorPointX:De,anchorPointY:He}}On.prototype.get=function(B){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[B]){var Y=++this.maxGroupID;this.collisionGroups[B]={ID:Y,predicate:function(G){return G.collisionGroupID===Y}}}return this.collisionGroups[B]};var Un=function(B,Y,G,L){this.transform=B.clone(),this.collisionIndex=new rr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=Y,this.retainedQueryData={},this.collisionGroups=new On(G),this.collisionCircleArrays={},this.prevPlacement=L,L&&(L.prevPlacement=void 0),this.placedOrientations={}};function tr(B,Y,G,L,H){B.emplaceBack(Y?1:0,G?1:0,L||0,H||0),B.emplaceBack(Y?1:0,G?1:0,L||0,H||0),B.emplaceBack(Y?1:0,G?1:0,L||0,H||0),B.emplaceBack(Y?1:0,G?1:0,L||0,H||0)}Un.prototype.getBucketParts=function(B,Y,G,L){var H=G.getBucket(Y),$=G.latestFeatureIndex;if(H&&$&&Y.id===H.layerIds[0]){var ne=G.collisionBoxArray,ce=H.layers[0].layout,ve=Math.pow(2,this.transform.zoom-G.tileID.overscaledZ),Oe=G.tileSize/a.EXTENT,De=this.transform.calculatePosMatrix(G.tileID.toUnwrapped()),He=ce.get("text-pitch-alignment")==="map",We=ce.get("text-rotation-alignment")==="map",rt=Xn(G,1,this.transform.zoom),pt=Ln(De,He,We,this.transform,rt),vt=null;if(He){var kt=fn(De,He,We,this.transform,rt);vt=a.multiply([],this.transform.labelPlaneMatrix,kt)}this.retainedQueryData[H.bucketInstanceId]=new vn(H.bucketInstanceId,$,H.sourceLayerIndex,H.index,G.tileID);var Ot={bucket:H,layout:ce,posMatrix:De,textLabelPlaneMatrix:pt,labelToScreenMatrix:vt,scale:ve,textPixelRatio:Oe,holdingForFade:G.holdingForFade(),collisionBoxArray:ne,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(H.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(H.sourceID)};if(L)for(var Et=0,jt=H.sortKeyRanges;Et<jt.length;Et+=1){var It=jt[Et],Jt=It.sortKey,Yt=It.symbolInstanceStart,Ht=It.symbolInstanceEnd;B.push({sortKey:Jt,symbolInstanceStart:Yt,symbolInstanceEnd:Ht,parameters:Ot})}else B.push({symbolInstanceStart:0,symbolInstanceEnd:H.symbolInstances.length,parameters:Ot})}},Un.prototype.attemptAnchorPlacement=function(B,Y,G,L,H,$,ne,ce,ve,Oe,De,He,We,rt,pt){var vt,kt=[He.textOffset0,He.textOffset1],Ot=Vn(B,G,L,kt,H),Et=this.collisionIndex.placeCollisionBox(Bn(Y,Ot.x,Ot.y,$,ne,this.transform.angle),De,ce,ve,Oe.predicate);if(!pt||this.collisionIndex.placeCollisionBox(Bn(pt,Ot.x,Ot.y,$,ne,this.transform.angle),De,ce,ve,Oe.predicate).box.length!==0)return Et.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[He.crossTileID]&&this.prevPlacement.placements[He.crossTileID]&&this.prevPlacement.placements[He.crossTileID].text&&(vt=this.prevPlacement.variableOffsets[He.crossTileID].anchor),this.variableOffsets[He.crossTileID]={textOffset:kt,width:G,height:L,anchor:B,textBoxScale:H,prevAnchor:vt},this.markUsedJustification(We,B,He,rt),We.allowVerticalPlacement&&(this.markUsedOrientation(We,rt,He),this.placedOrientations[He.crossTileID]=rt),{shift:Ot,placedGlyphBoxes:Et}):void 0},Un.prototype.placeLayerBucketPart=function(B,Y,G){var L=this,H=B.parameters,$=H.bucket,ne=H.layout,ce=H.posMatrix,ve=H.textLabelPlaneMatrix,Oe=H.labelToScreenMatrix,De=H.textPixelRatio,He=H.holdingForFade,We=H.collisionBoxArray,rt=H.partiallyEvaluatedTextSize,pt=H.collisionGroup,vt=ne.get("text-optional"),kt=ne.get("icon-optional"),Ot=ne.get("text-allow-overlap"),Et=ne.get("icon-allow-overlap"),jt=ne.get("text-rotation-alignment")==="map",It=ne.get("text-pitch-alignment")==="map",Jt=ne.get("icon-text-fit")!=="none",Yt=ne.get("symbol-z-order")==="viewport-y",Ht=Ot&&(Et||!$.hasIconData()||kt),mn=Et&&(Ot||!$.hasTextData()||vt);!$.collisionArrays&&We&&$.deserializeCollisionBoxes(We);var yn=function(Zn,lr){if(!Y[Zn.crossTileID])if(He)L.placements[Zn.crossTileID]=new tn(!1,!1,!1);else{var _r,Or=!1,$n=!1,sr=!0,Mr=null,pr={box:null,offscreen:null},Er={box:null,offscreen:null},zr=null,Yr=null,Zr=0,Kr=0,ni=0;lr.textFeatureIndex?Zr=lr.textFeatureIndex:Zn.useRuntimeCollisionCircles&&(Zr=Zn.featureIndex),lr.verticalTextFeatureIndex&&(Kr=lr.verticalTextFeatureIndex);var Ai=lr.textBox;if(Ai){var Gi=function(ji){var Ka=a.WritingMode.horizontal;if($.allowVerticalPlacement&&!ji&&L.prevPlacement){var pa=L.prevPlacement.placedOrientations[Zn.crossTileID];pa&&(L.placedOrientations[Zn.crossTileID]=pa,Ka=pa,L.markUsedOrientation($,Ka,Zn))}return Ka},Aa=function(ji,Ka){if($.allowVerticalPlacement&&Zn.numVerticalGlyphVertices>0&&lr.verticalTextBox)for(var pa=0,zu=$.writingModes;pa<zu.length&&(zu[pa]===a.WritingMode.vertical?(pr=Ka(),Er=pr):pr=ji(),!(pr&&pr.box&&pr.box.length));pa+=1);else pr=ji()};if(ne.get("text-variable-anchor")){var sa=ne.get("text-variable-anchor");if(L.prevPlacement&&L.prevPlacement.variableOffsets[Zn.crossTileID]){var xa=L.prevPlacement.variableOffsets[Zn.crossTileID];sa.indexOf(xa.anchor)>0&&(sa=sa.filter(function(ji){return ji!==xa.anchor})).unshift(xa.anchor)}var Pi=function(ji,Ka,pa){for(var zu=ji.x2-ji.x1,Ih=ji.y2-ji.y1,wf=Zn.textBoxScale,Dh=Jt&&!Et?Ka:null,bu={box:[],offscreen:!1},Rh=Ot?2*sa.length:sa.length,_u=0;_u<Rh;++_u){var Tf=sa[_u%sa.length],kf=_u>=sa.length,Nl=L.attemptAnchorPlacement(Tf,ji,zu,Ih,wf,jt,It,De,ce,pt,kf,Zn,$,pa,Dh);if(Nl&&(bu=Nl.placedGlyphBoxes)&&bu.box&&bu.box.length){Or=!0,Mr=Nl.shift;break}}return bu};Aa(function(){return Pi(Ai,lr.iconBox,a.WritingMode.horizontal)},function(){var ji=lr.verticalTextBox,Ka=pr&&pr.box&&pr.box.length;return $.allowVerticalPlacement&&!Ka&&Zn.numVerticalGlyphVertices>0&&ji?Pi(ji,lr.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),pr&&(Or=pr.box,sr=pr.offscreen);var ii=Gi(pr&&pr.box);if(!Or&&L.prevPlacement){var Bi=L.prevPlacement.variableOffsets[Zn.crossTileID];Bi&&(L.variableOffsets[Zn.crossTileID]=Bi,L.markUsedJustification($,Bi.anchor,Zn,ii))}}else{var yi=function(ji,Ka){var pa=L.collisionIndex.placeCollisionBox(ji,Ot,De,ce,pt.predicate);return pa&&pa.box&&pa.box.length&&(L.markUsedOrientation($,Ka,Zn),L.placedOrientations[Zn.crossTileID]=Ka),pa};Aa(function(){return yi(Ai,a.WritingMode.horizontal)},function(){var ji=lr.verticalTextBox;return $.allowVerticalPlacement&&Zn.numVerticalGlyphVertices>0&&ji?yi(ji,a.WritingMode.vertical):{box:null,offscreen:null}}),Gi(pr&&pr.box&&pr.box.length)}}if(Or=(_r=pr)&&_r.box&&_r.box.length>0,sr=_r&&_r.offscreen,Zn.useRuntimeCollisionCircles){var li=$.text.placedSymbolArray.get(Zn.centerJustifiedTextSymbolIndex),Ni=a.evaluateSizeForFeature($.textSizeData,rt,li),qi=ne.get("text-padding"),ta=Zn.collisionCircleDiameter;zr=L.collisionIndex.placeCollisionCircles(Ot,li,$.lineVertexArray,$.glyphOffsetArray,Ni,ce,ve,Oe,G,It,pt.predicate,ta,qi),Or=Ot||zr.circles.length>0&&!zr.collisionDetected,sr=sr&&zr.offscreen}if(lr.iconFeatureIndex&&(ni=lr.iconFeatureIndex),lr.iconBox){var Xs=function(ji){var Ka=Jt&&Mr?Bn(ji,Mr.x,Mr.y,jt,It,L.transform.angle):ji;return L.collisionIndex.placeCollisionBox(Ka,Et,De,ce,pt.predicate)};$n=Er&&Er.box&&Er.box.length&&lr.verticalIconBox?(Yr=Xs(lr.verticalIconBox)).box.length>0:(Yr=Xs(lr.iconBox)).box.length>0,sr=sr&&Yr.offscreen}var Js=vt||Zn.numHorizontalGlyphVertices===0&&Zn.numVerticalGlyphVertices===0,ui=kt||Zn.numIconVertices===0;if(Js||ui?ui?Js||($n=$n&&Or):Or=$n&&Or:$n=Or=$n&&Or,Or&&_r&&_r.box&&(Er&&Er.box&&Kr?L.collisionIndex.insertCollisionBox(_r.box,ne.get("text-ignore-placement"),$.bucketInstanceId,Kr,pt.ID):L.collisionIndex.insertCollisionBox(_r.box,ne.get("text-ignore-placement"),$.bucketInstanceId,Zr,pt.ID)),$n&&Yr&&L.collisionIndex.insertCollisionBox(Yr.box,ne.get("icon-ignore-placement"),$.bucketInstanceId,ni,pt.ID),zr&&(Or&&L.collisionIndex.insertCollisionCircles(zr.circles,ne.get("text-ignore-placement"),$.bucketInstanceId,Zr,pt.ID),G)){var Bl=$.bucketInstanceId,vl=L.collisionCircleArrays[Bl];vl===void 0&&(vl=L.collisionCircleArrays[Bl]=new dn);for(var qo=0;qo<zr.circles.length;qo+=4)vl.circles.push(zr.circles[qo+0]),vl.circles.push(zr.circles[qo+1]),vl.circles.push(zr.circles[qo+2]),vl.circles.push(zr.collisionDetected?1:0)}L.placements[Zn.crossTileID]=new tn(Or||Ht,$n||mn,sr||$.justReloaded),Y[Zn.crossTileID]=!0}};if(Yt)for(var In=$.getSortedSymbolIndexes(this.transform.angle),Rn=In.length-1;Rn>=0;--Rn){var Gn=In[Rn];yn($.symbolInstances.get(Gn),$.collisionArrays[Gn])}else for(var Qn=B.symbolInstanceStart;Qn<B.symbolInstanceEnd;Qn++)yn($.symbolInstances.get(Qn),$.collisionArrays[Qn]);if(G&&$.bucketInstanceId in this.collisionCircleArrays){var hr=this.collisionCircleArrays[$.bucketInstanceId];a.invert(hr.invProjMatrix,ce),hr.viewportMatrix=this.collisionIndex.getViewportMatrix()}$.justReloaded=!1},Un.prototype.markUsedJustification=function(B,Y,G,L){var H,$={left:G.leftJustifiedTextSymbolIndex,center:G.centerJustifiedTextSymbolIndex,right:G.rightJustifiedTextSymbolIndex};H=L===a.WritingMode.vertical?G.verticalPlacedTextSymbolIndex:$[a.getAnchorJustification(Y)];for(var ne=0,ce=[G.leftJustifiedTextSymbolIndex,G.centerJustifiedTextSymbolIndex,G.rightJustifiedTextSymbolIndex,G.verticalPlacedTextSymbolIndex];ne<ce.length;ne+=1){var ve=ce[ne];ve>=0&&(B.text.placedSymbolArray.get(ve).crossTileID=H>=0&&ve!==H?0:G.crossTileID)}},Un.prototype.markUsedOrientation=function(B,Y,G){for(var L=Y===a.WritingMode.horizontal||Y===a.WritingMode.horizontalOnly?Y:0,H=Y===a.WritingMode.vertical?Y:0,$=0,ne=[G.leftJustifiedTextSymbolIndex,G.centerJustifiedTextSymbolIndex,G.rightJustifiedTextSymbolIndex];$<ne.length;$+=1){var ce=ne[$];B.text.placedSymbolArray.get(ce).placedOrientation=L}G.verticalPlacedTextSymbolIndex&&(B.text.placedSymbolArray.get(G.verticalPlacedTextSymbolIndex).placedOrientation=H)},Un.prototype.commit=function(B){this.commitTime=B,this.zoomAtLastRecencyCheck=this.transform.zoom;var Y=this.prevPlacement,G=!1;this.prevZoomAdjustment=Y?Y.zoomAdjustment(this.transform.zoom):0;var L=Y?Y.symbolFadeChange(B):1,H=Y?Y.opacities:{},$=Y?Y.variableOffsets:{},ne=Y?Y.placedOrientations:{};for(var ce in this.placements){var ve=this.placements[ce],Oe=H[ce];Oe?(this.opacities[ce]=new Gt(Oe,L,ve.text,ve.icon),G=G||ve.text!==Oe.text.placed||ve.icon!==Oe.icon.placed):(this.opacities[ce]=new Gt(null,L,ve.text,ve.icon,ve.skipFade),G=G||ve.text||ve.icon)}for(var De in H){var He=H[De];if(!this.opacities[De]){var We=new Gt(He,L,!1,!1);We.isHidden()||(this.opacities[De]=We,G=G||He.text.placed||He.icon.placed)}}for(var rt in $)this.variableOffsets[rt]||!this.opacities[rt]||this.opacities[rt].isHidden()||(this.variableOffsets[rt]=$[rt]);for(var pt in ne)this.placedOrientations[pt]||!this.opacities[pt]||this.opacities[pt].isHidden()||(this.placedOrientations[pt]=ne[pt]);G?this.lastPlacementChangeTime=B:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=Y?Y.lastPlacementChangeTime:B)},Un.prototype.updateLayerOpacities=function(B,Y){for(var G={},L=0,H=Y;L<H.length;L+=1){var $=H[L],ne=$.getBucket(B);ne&&$.latestFeatureIndex&&B.id===ne.layerIds[0]&&this.updateBucketOpacities(ne,G,$.collisionBoxArray)}},Un.prototype.updateBucketOpacities=function(B,Y,G){var L=this;B.hasTextData()&&B.text.opacityVertexArray.clear(),B.hasIconData()&&B.icon.opacityVertexArray.clear(),B.hasIconCollisionBoxData()&&B.iconCollisionBox.collisionVertexArray.clear(),B.hasTextCollisionBoxData()&&B.textCollisionBox.collisionVertexArray.clear();var H=B.layers[0].layout,$=new Gt(null,0,!1,!1,!0),ne=H.get("text-allow-overlap"),ce=H.get("icon-allow-overlap"),ve=H.get("text-variable-anchor"),Oe=H.get("text-rotation-alignment")==="map",De=H.get("text-pitch-alignment")==="map",He=H.get("icon-text-fit")!=="none",We=new Gt(null,0,ne&&(ce||!B.hasIconData()||H.get("icon-optional")),ce&&(ne||!B.hasTextData()||H.get("text-optional")),!0);!B.collisionArrays&&G&&(B.hasIconCollisionBoxData()||B.hasTextCollisionBoxData())&&B.deserializeCollisionBoxes(G);for(var rt=function(Ot,Et,jt){for(var It=0;It<Et/4;It++)Ot.opacityVertexArray.emplaceBack(jt)},pt=function(Ot){var Et=B.symbolInstances.get(Ot),jt=Et.numHorizontalGlyphVertices,It=Et.numVerticalGlyphVertices,Jt=Et.crossTileID,Yt=Y[Jt],Ht=L.opacities[Jt];Yt?Ht=$:Ht||(Ht=We,L.opacities[Jt]=Ht),Y[Jt]=!0;var mn=jt>0||It>0,yn=Et.numIconVertices>0,In=L.placedOrientations[Et.crossTileID],Rn=In===a.WritingMode.vertical,Gn=In===a.WritingMode.horizontal||In===a.WritingMode.horizontalOnly;if(mn){var Qn=Pn(Ht.text),hr=Rn?pn:Qn;rt(B.text,jt,hr);var Zn=Gn?pn:Qn;rt(B.text,It,Zn);var lr=Ht.text.isHidden();[Et.rightJustifiedTextSymbolIndex,Et.centerJustifiedTextSymbolIndex,Et.leftJustifiedTextSymbolIndex].forEach(function(ni){ni>=0&&(B.text.placedSymbolArray.get(ni).hidden=lr||Rn?1:0)}),Et.verticalPlacedTextSymbolIndex>=0&&(B.text.placedSymbolArray.get(Et.verticalPlacedTextSymbolIndex).hidden=lr||Gn?1:0);var _r=L.variableOffsets[Et.crossTileID];_r&&L.markUsedJustification(B,_r.anchor,Et,In);var Or=L.placedOrientations[Et.crossTileID];Or&&(L.markUsedJustification(B,"left",Et,Or),L.markUsedOrientation(B,Or,Et))}if(yn){var $n=Pn(Ht.icon),sr=!(He&&Et.verticalPlacedIconSymbolIndex&&Rn);if(Et.placedIconSymbolIndex>=0){var Mr=sr?$n:pn;rt(B.icon,Et.numIconVertices,Mr),B.icon.placedSymbolArray.get(Et.placedIconSymbolIndex).hidden=Ht.icon.isHidden()}if(Et.verticalPlacedIconSymbolIndex>=0){var pr=sr?pn:$n;rt(B.icon,Et.numVerticalIconVertices,pr),B.icon.placedSymbolArray.get(Et.verticalPlacedIconSymbolIndex).hidden=Ht.icon.isHidden()}}if(B.hasIconCollisionBoxData()||B.hasTextCollisionBoxData()){var Er=B.collisionArrays[Ot];if(Er){var zr=new a.Point(0,0);if(Er.textBox||Er.verticalTextBox){var Yr=!0;if(ve){var Zr=L.variableOffsets[Jt];Zr?(zr=Vn(Zr.anchor,Zr.width,Zr.height,Zr.textOffset,Zr.textBoxScale),Oe&&zr._rotate(De?L.transform.angle:-L.transform.angle)):Yr=!1}Er.textBox&&tr(B.textCollisionBox.collisionVertexArray,Ht.text.placed,!Yr||Rn,zr.x,zr.y),Er.verticalTextBox&&tr(B.textCollisionBox.collisionVertexArray,Ht.text.placed,!Yr||Gn,zr.x,zr.y)}var Kr=!!(!Gn&&Er.verticalIconBox);Er.iconBox&&tr(B.iconCollisionBox.collisionVertexArray,Ht.icon.placed,Kr,He?zr.x:0,He?zr.y:0),Er.verticalIconBox&&tr(B.iconCollisionBox.collisionVertexArray,Ht.icon.placed,!Kr,He?zr.x:0,He?zr.y:0)}}},vt=0;vt<B.symbolInstances.length;vt++)pt(vt);if(B.sortFeatures(this.transform.angle),this.retainedQueryData[B.bucketInstanceId]&&(this.retainedQueryData[B.bucketInstanceId].featureSortOrder=B.featureSortOrder),B.hasTextData()&&B.text.opacityVertexBuffer&&B.text.opacityVertexBuffer.updateData(B.text.opacityVertexArray),B.hasIconData()&&B.icon.opacityVertexBuffer&&B.icon.opacityVertexBuffer.updateData(B.icon.opacityVertexArray),B.hasIconCollisionBoxData()&&B.iconCollisionBox.collisionVertexBuffer&&B.iconCollisionBox.collisionVertexBuffer.updateData(B.iconCollisionBox.collisionVertexArray),B.hasTextCollisionBoxData()&&B.textCollisionBox.collisionVertexBuffer&&B.textCollisionBox.collisionVertexBuffer.updateData(B.textCollisionBox.collisionVertexArray),B.bucketInstanceId in this.collisionCircleArrays){var kt=this.collisionCircleArrays[B.bucketInstanceId];B.placementInvProjMatrix=kt.invProjMatrix,B.placementViewportMatrix=kt.viewportMatrix,B.collisionCircleArray=kt.circles,delete this.collisionCircleArrays[B.bucketInstanceId]}},Un.prototype.symbolFadeChange=function(B){return this.fadeDuration===0?1:(B-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Un.prototype.zoomAdjustment=function(B){return Math.max(0,(this.transform.zoom-B)/1.5)},Un.prototype.hasTransitions=function(B){return this.stale||B-this.lastPlacementChangeTime<this.fadeDuration},Un.prototype.stillRecent=function(B,Y){var G=this.zoomAtLastRecencyCheck===Y?1-this.zoomAdjustment(Y):1;return this.zoomAtLastRecencyCheck=Y,this.commitTime+this.fadeDuration*G>B},Un.prototype.setStale=function(){this.stale=!0};var $t=Math.pow(2,25),bn=Math.pow(2,24),Rt=Math.pow(2,17),Kt=Math.pow(2,16),rn=Math.pow(2,9),xn=Math.pow(2,8),Tn=Math.pow(2,1);function Pn(B){if(B.opacity===0&&!B.placed)return 0;if(B.opacity===1&&B.placed)return 4294967295;var Y=B.placed?1:0,G=Math.floor(127*B.opacity);return G*$t+Y*bn+G*Rt+Y*Kt+G*rn+Y*xn+G*Tn+Y}var pn=0,Qt=function(B){this._sortAcrossTiles=B.layout.get("symbol-z-order")!=="viewport-y"&&B.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Qt.prototype.continuePlacement=function(B,Y,G,L,H){for(var $=this._bucketParts;this._currentTileIndex<B.length;){var ne=B[this._currentTileIndex];if(Y.getBucketParts($,L,ne,this._sortAcrossTiles),this._currentTileIndex++,H())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,$.sort(function(ve,Oe){return ve.sortKey-Oe.sortKey}));this._currentPartIndex<$.length;){var ce=$[this._currentPartIndex];if(Y.placeLayerBucketPart(ce,this._seenCrossTileIDs,G),this._currentPartIndex++,H())return!0}return!1};var en=function(B,Y,G,L,H,$,ne){this.placement=new Un(B,H,$,ne),this._currentPlacementIndex=Y.length-1,this._forceFullPlacement=G,this._showCollisionBoxes=L,this._done=!1};en.prototype.isDone=function(){return this._done},en.prototype.continuePlacement=function(B,Y,G){for(var L=this,H=a.browser.now(),$=function(){var ve=a.browser.now()-H;return!L._forceFullPlacement&&ve>2};this._currentPlacementIndex>=0;){var ne=Y[B[this._currentPlacementIndex]],ce=this.placement.collisionIndex.transform.zoom;if(ne.type==="symbol"&&(!ne.minzoom||ne.minzoom<=ce)&&(!ne.maxzoom||ne.maxzoom>ce)){if(this._inProgressLayer||(this._inProgressLayer=new Qt(ne)),this._inProgressLayer.continuePlacement(G[ne.source],this.placement,this._showCollisionBoxes,ne,$))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},en.prototype.commit=function(B){return this.placement.commit(B),this.placement};var hn=512/a.EXTENT/2,gn=function(B,Y,G){this.tileID=B,this.indexedSymbolInstances={},this.bucketInstanceId=G;for(var L=0;L<Y.length;L++){var H=Y.get(L),$=H.key;this.indexedSymbolInstances[$]||(this.indexedSymbolInstances[$]=[]),this.indexedSymbolInstances[$].push({crossTileID:H.crossTileID,coord:this.getScaledCoordinates(H,B)})}};gn.prototype.getScaledCoordinates=function(B,Y){var G=Y.canonical.z-this.tileID.canonical.z,L=hn/Math.pow(2,G);return{x:Math.floor((Y.canonical.x*a.EXTENT+B.anchorX)*L),y:Math.floor((Y.canonical.y*a.EXTENT+B.anchorY)*L)}},gn.prototype.findMatches=function(B,Y,G){for(var L=this.tileID.canonical.z<Y.canonical.z?1:Math.pow(2,this.tileID.canonical.z-Y.canonical.z),H=0;H<B.length;H++){var $=B.get(H);if(!$.crossTileID){var ne=this.indexedSymbolInstances[$.key];if(ne)for(var ce=this.getScaledCoordinates($,Y),ve=0,Oe=ne;ve<Oe.length;ve+=1){var De=Oe[ve];if(Math.abs(De.coord.x-ce.x)<=L&&Math.abs(De.coord.y-ce.y)<=L&&!G[De.crossTileID]){G[De.crossTileID]=!0,$.crossTileID=De.crossTileID;break}}}}};var Dn=function(){this.maxCrossTileID=0};Dn.prototype.generate=function(){return++this.maxCrossTileID};var Fn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Fn.prototype.handleWrapJump=function(B){var Y=Math.round((B-this.lng)/360);if(Y!==0)for(var G in this.indexes){var L=this.indexes[G],H={};for(var $ in L){var ne=L[$];ne.tileID=ne.tileID.unwrapTo(ne.tileID.wrap+Y),H[ne.tileID.key]=ne}this.indexes[G]=H}this.lng=B},Fn.prototype.addBucket=function(B,Y,G){if(this.indexes[B.overscaledZ]&&this.indexes[B.overscaledZ][B.key]){if(this.indexes[B.overscaledZ][B.key].bucketInstanceId===Y.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(B.overscaledZ,this.indexes[B.overscaledZ][B.key])}for(var L=0;L<Y.symbolInstances.length;L++)Y.symbolInstances.get(L).crossTileID=0;this.usedCrossTileIDs[B.overscaledZ]||(this.usedCrossTileIDs[B.overscaledZ]={});var H=this.usedCrossTileIDs[B.overscaledZ];for(var $ in this.indexes){var ne=this.indexes[$];if(Number($)>B.overscaledZ)for(var ce in ne){var ve=ne[ce];ve.tileID.isChildOf(B)&&ve.findMatches(Y.symbolInstances,B,H)}else{var Oe=ne[B.scaledTo(Number($)).key];Oe&&Oe.findMatches(Y.symbolInstances,B,H)}}for(var De=0;De<Y.symbolInstances.length;De++){var He=Y.symbolInstances.get(De);He.crossTileID||(He.crossTileID=G.generate(),H[He.crossTileID]=!0)}return this.indexes[B.overscaledZ]===void 0&&(this.indexes[B.overscaledZ]={}),this.indexes[B.overscaledZ][B.key]=new gn(B,Y.symbolInstances,Y.bucketInstanceId),!0},Fn.prototype.removeBucketCrossTileIDs=function(B,Y){for(var G in Y.indexedSymbolInstances)for(var L=0,H=Y.indexedSymbolInstances[G];L<H.length;L+=1){var $=H[L];delete this.usedCrossTileIDs[B][$.crossTileID]}},Fn.prototype.removeStaleBuckets=function(B){var Y=!1;for(var G in this.indexes){var L=this.indexes[G];for(var H in L)B[L[H].bucketInstanceId]||(this.removeBucketCrossTileIDs(G,L[H]),delete L[H],Y=!0)}return Y};var Wn=function(){this.layerIndexes={},this.crossTileIDs=new Dn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Wn.prototype.addLayer=function(B,Y,G){var L=this.layerIndexes[B.id];L===void 0&&(L=this.layerIndexes[B.id]=new Fn);var H=!1,$={};L.handleWrapJump(G);for(var ne=0,ce=Y;ne<ce.length;ne+=1){var ve=ce[ne],Oe=ve.getBucket(B);Oe&&B.id===Oe.layerIds[0]&&(Oe.bucketInstanceId||(Oe.bucketInstanceId=++this.maxBucketInstanceId),L.addBucket(ve.tileID,Oe,this.crossTileIDs)&&(H=!0),$[Oe.bucketInstanceId]=!0)}return L.removeStaleBuckets($)&&(H=!0),H},Wn.prototype.pruneUnusedLayers=function(B){var Y={};for(var G in B.forEach(function(L){Y[L]=!0}),this.layerIndexes)Y[G]||delete this.layerIndexes[G]};var Yn=function(B,Y){return a.emitValidationErrors(B,Y&&Y.filter(function(G){return G.identifier!=="source.canvas"}))},er=a.pick(Tt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Kn=a.pick(Tt,["setCenter","setZoom","setBearing","setPitch"]),ir=function(){var B={},Y=a.styleSpec.$version;for(var G in a.styleSpec.$root){var L=a.styleSpec.$root[G];if(L.required){var H;(H=G==="version"?Y:L.type==="array"?[]:{})!=null&&(B[G]=H)}}return B}(),cr=function(B){function Y(G,L){var H=this;L===void 0&&(L={}),B.call(this),this.map=G,this.dispatcher=new O(xt(),this),this.imageManager=new p,this.imageManager.setEventedParent(this),this.glyphManager=new m(G._requestManager,L.localIdeographFontFamily),this.lineAtlas=new E(256,512),this.crossTileSymbolIndex=new Wn,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var $=this;this._rtlTextPluginCallback=Y.registerForPluginStateChange(function(ne){var ce={pluginStatus:ne.pluginStatus,pluginURL:ne.pluginURL};$.dispatcher.broadcast("syncRTLPluginState",ce,function(ve,Oe){if(a.triggerPluginCompletionEvent(ve),Oe&&Oe.every(function(He){return He}))for(var De in $.sourceCaches)$.sourceCaches[De].reload()})}),this.on("data",function(ne){if(ne.dataType==="source"&&ne.sourceDataType==="metadata"){var ce=H.sourceCaches[ne.sourceId];if(ce){var ve=ce.getSource();if(ve&&ve.vectorLayerIds)for(var Oe in H._layers){var De=H._layers[Oe];De.source===ve.id&&H._validateLayer(De)}}}})}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.loadURL=function(G,L){var H=this;L===void 0&&(L={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var $=typeof L.validate=="boolean"?L.validate:!a.isMapboxURL(G);G=this.map._requestManager.normalizeStyleURL(G,L.accessToken);var ne=this.map._requestManager.transformRequest(G,a.ResourceType.Style);this._request=a.getJSON(ne,function(ce,ve){H._request=null,ce?H.fire(new a.ErrorEvent(ce)):ve&&H._load(ve,$)})},Y.prototype.loadJSON=function(G,L){var H=this;L===void 0&&(L={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){H._request=null,H._load(G,L.validate!==!1)})},Y.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(ir,!1)},Y.prototype._load=function(G,L){if(!L||!Yn(this,a.validateStyle(G))){for(var H in this._loaded=!0,this.stylesheet=G,G.sources)this.addSource(H,G.sources[H],{validate:!1});G.sprite?this._loadSprite(G.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(G.glyphs);var $=Lt(this.stylesheet.layers);this._order=$.map(function(Oe){return Oe.id}),this._layers={},this._serializedLayers={};for(var ne=0,ce=$;ne<ce.length;ne+=1){var ve=ce[ne];(ve=a.createStyleLayer(ve)).setEventedParent(this,{layer:{id:ve.id}}),this._layers[ve.id]=ve,this._serializedLayers[ve.id]=ve.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new T(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},Y.prototype._loadSprite=function(G){var L=this;this._spriteRequest=function(H,$,ne){var ce,ve,Oe,De=a.browser.devicePixelRatio>1?"@2x":"",He=a.getJSON($.transformRequest($.normalizeSpriteURL(H,De,".json"),a.ResourceType.SpriteJSON),function(pt,vt){He=null,Oe||(Oe=pt,ce=vt,rt())}),We=a.getImage($.transformRequest($.normalizeSpriteURL(H,De,".png"),a.ResourceType.SpriteImage),function(pt,vt){We=null,Oe||(Oe=pt,ve=vt,rt())});function rt(){if(Oe)ne(Oe);else if(ce&&ve){var pt=a.browser.getImageData(ve),vt={};for(var kt in ce){var Ot=ce[kt],Et=Ot.width,jt=Ot.height,It=Ot.x,Jt=Ot.y,Yt=Ot.sdf,Ht=Ot.pixelRatio,mn=Ot.stretchX,yn=Ot.stretchY,In=Ot.content,Rn=new a.RGBAImage({width:Et,height:jt});a.RGBAImage.copy(pt,Rn,{x:It,y:Jt},{x:0,y:0},{width:Et,height:jt}),vt[kt]={data:Rn,pixelRatio:Ht,sdf:Yt,stretchX:mn,stretchY:yn,content:In}}ne(null,vt)}}return{cancel:function(){He&&(He.cancel(),He=null),We&&(We.cancel(),We=null)}}}(G,this.map._requestManager,function(H,$){if(L._spriteRequest=null,H)L.fire(new a.ErrorEvent(H));else if($)for(var ne in $)L.imageManager.addImage(ne,$[ne]);L.imageManager.setLoaded(!0),L._availableImages=L.imageManager.listImages(),L.dispatcher.broadcast("setImages",L._availableImages),L.fire(new a.Event("data",{dataType:"style"}))})},Y.prototype._validateLayer=function(G){var L=this.sourceCaches[G.source];if(L){var H=G.sourceLayer;if(H){var $=L.getSource();($.type==="geojson"||$.vectorLayerIds&&$.vectorLayerIds.indexOf(H)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+H+'" does not exist on source "'+$.id+'" as specified by style layer "'+G.id+'"')))}}},Y.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var G in this.sourceCaches)if(!this.sourceCaches[G].loaded())return!1;return!!this.imageManager.isLoaded()},Y.prototype._serializeLayers=function(G){for(var L=[],H=0,$=G;H<$.length;H+=1){var ne=$[H],ce=this._layers[ne];ce.type!=="custom"&&L.push(ce.serialize())}return L},Y.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var G in this.sourceCaches)if(this.sourceCaches[G].hasTransition())return!0;for(var L in this._layers)if(this._layers[L].hasTransition())return!0;return!1},Y.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},Y.prototype.update=function(G){if(this._loaded){var L=this._changed;if(this._changed){var H=Object.keys(this._updatedLayers),$=Object.keys(this._removedLayers);for(var ne in(H.length||$.length)&&this._updateWorkerLayers(H,$),this._updatedSources){var ce=this._updatedSources[ne];ce==="reload"?this._reloadSource(ne):ce==="clear"&&this._clearSource(ne)}for(var ve in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[ve].updateTransitions(G);this.light.updateTransitions(G),this._resetUpdates()}var Oe={};for(var De in this.sourceCaches){var He=this.sourceCaches[De];Oe[De]=He.used,He.used=!1}for(var We=0,rt=this._order;We<rt.length;We+=1){var pt=rt[We],vt=this._layers[pt];vt.recalculate(G,this._availableImages),!vt.isHidden(G.zoom)&&vt.source&&(this.sourceCaches[vt.source].used=!0)}for(var kt in Oe){var Ot=this.sourceCaches[kt];Oe[kt]!==Ot.used&&Ot.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:kt}))}this.light.recalculate(G),this.z=G.zoom,L&&this.fire(new a.Event("data",{dataType:"style"}))}},Y.prototype._updateTilesForChangedImages=function(){var G=Object.keys(this._changedImages);if(G.length){for(var L in this.sourceCaches)this.sourceCaches[L].reloadTilesForDependencies(["icons","patterns"],G);this._changedImages={}}},Y.prototype._updateWorkerLayers=function(G,L){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(G),removedIds:L})},Y.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},Y.prototype.setState=function(G){var L=this;if(this._checkLoaded(),Yn(this,a.validateStyle(G)))return!1;(G=a.clone$1(G)).layers=Lt(G.layers);var H=Vt(this.serialize(),G).filter(function(ne){return!(ne.command in Kn)});if(H.length===0)return!1;var $=H.filter(function(ne){return!(ne.command in er)});if($.length>0)throw new Error("Unimplemented: "+$.map(function(ne){return ne.command}).join(", ")+".");return H.forEach(function(ne){ne.command!=="setTransition"&&L[ne.command].apply(L,ne.args)}),this.stylesheet=G,!0},Y.prototype.addImage=function(G,L){if(this.getImage(G))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(G,L),this._afterImageUpdated(G)},Y.prototype.updateImage=function(G,L){this.imageManager.updateImage(G,L)},Y.prototype.getImage=function(G){return this.imageManager.getImage(G)},Y.prototype.removeImage=function(G){if(!this.getImage(G))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(G),this._afterImageUpdated(G)},Y.prototype._afterImageUpdated=function(G){this._availableImages=this.imageManager.listImages(),this._changedImages[G]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))},Y.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},Y.prototype.addSource=function(G,L,H){var $=this;if(H===void 0&&(H={}),this._checkLoaded(),this.sourceCaches[G]!==void 0)throw new Error("There is already a source with this ID");if(!L.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(L).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(L.type)>=0&&this._validate(a.validateStyle.source,"sources."+G,L,null,H))){this.map&&this.map._collectResourceTiming&&(L.collectResourceTiming=!0);var ne=this.sourceCaches[G]=new lt(G,L,this.dispatcher);ne.style=this,ne.setEventedParent(this,function(){return{isSourceLoaded:$.loaded(),source:ne.serialize(),sourceId:G}}),ne.onAdd(this.map),this._changed=!0}},Y.prototype.removeSource=function(G){if(this._checkLoaded(),this.sourceCaches[G]===void 0)throw new Error("There is no source with this ID");for(var L in this._layers)if(this._layers[L].source===G)return this.fire(new a.ErrorEvent(new Error('Source "'+G+'" cannot be removed while layer "'+L+'" is using it.')));var H=this.sourceCaches[G];delete this.sourceCaches[G],delete this._updatedSources[G],H.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:G})),H.setEventedParent(null),H.clearTiles(),H.onRemove&&H.onRemove(this.map),this._changed=!0},Y.prototype.setGeoJSONSourceData=function(G,L){this._checkLoaded(),this.sourceCaches[G].getSource().setData(L),this._changed=!0},Y.prototype.getSource=function(G){return this.sourceCaches[G]&&this.sourceCaches[G].getSource()},Y.prototype.addLayer=function(G,L,H){H===void 0&&(H={}),this._checkLoaded();var $=G.id;if(this.getLayer($))this.fire(new a.ErrorEvent(new Error('Layer with id "'+$+'" already exists on this map')));else{var ne;if(G.type==="custom"){if(Yn(this,a.validateCustomStyleLayer(G)))return;ne=a.createStyleLayer(G)}else{if(typeof G.source=="object"&&(this.addSource($,G.source),G=a.clone$1(G),G=a.extend(G,{source:$})),this._validate(a.validateStyle.layer,"layers."+$,G,{arrayIndex:-1},H))return;ne=a.createStyleLayer(G),this._validateLayer(ne),ne.setEventedParent(this,{layer:{id:$}}),this._serializedLayers[ne.id]=ne.serialize()}var ce=L?this._order.indexOf(L):this._order.length;if(L&&ce===-1)this.fire(new a.ErrorEvent(new Error('Layer with id "'+L+'" does not exist on this map.')));else{if(this._order.splice(ce,0,$),this._layerOrderChanged=!0,this._layers[$]=ne,this._removedLayers[$]&&ne.source&&ne.type!=="custom"){var ve=this._removedLayers[$];delete this._removedLayers[$],ve.type!==ne.type?this._updatedSources[ne.source]="clear":(this._updatedSources[ne.source]="reload",this.sourceCaches[ne.source].pause())}this._updateLayer(ne),ne.onAdd&&ne.onAdd(this.map)}}},Y.prototype.moveLayer=function(G,L){if(this._checkLoaded(),this._changed=!0,this._layers[G]){if(G!==L){var H=this._order.indexOf(G);this._order.splice(H,1);var $=L?this._order.indexOf(L):this._order.length;L&&$===-1?this.fire(new a.ErrorEvent(new Error('Layer with id "'+L+'" does not exist on this map.'))):(this._order.splice($,0,G),this._layerOrderChanged=!0)}}else this.fire(new a.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be moved.")))},Y.prototype.removeLayer=function(G){this._checkLoaded();var L=this._layers[G];if(L){L.setEventedParent(null);var H=this._order.indexOf(G);this._order.splice(H,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[G]=L,delete this._layers[G],delete this._serializedLayers[G],delete this._updatedLayers[G],delete this._updatedPaintProps[G],L.onRemove&&L.onRemove(this.map)}else this.fire(new a.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be removed.")))},Y.prototype.getLayer=function(G){return this._layers[G]},Y.prototype.hasLayer=function(G){return G in this._layers},Y.prototype.setLayerZoomRange=function(G,L,H){this._checkLoaded();var $=this.getLayer(G);$?$.minzoom===L&&$.maxzoom===H||(L!=null&&($.minzoom=L),H!=null&&($.maxzoom=H),this._updateLayer($)):this.fire(new a.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot have zoom extent.")))},Y.prototype.setFilter=function(G,L,H){H===void 0&&(H={}),this._checkLoaded();var $=this.getLayer(G);if($){if(!a.deepEqual($.filter,L))return L==null?($.filter=void 0,void this._updateLayer($)):void(this._validate(a.validateStyle.filter,"layers."+$.id+".filter",L,null,H)||($.filter=a.clone$1(L),this._updateLayer($)))}else this.fire(new a.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be filtered.")))},Y.prototype.getFilter=function(G){return a.clone$1(this.getLayer(G).filter)},Y.prototype.setLayoutProperty=function(G,L,H,$){$===void 0&&($={}),this._checkLoaded();var ne=this.getLayer(G);ne?a.deepEqual(ne.getLayoutProperty(L),H)||(ne.setLayoutProperty(L,H,$),this._updateLayer(ne)):this.fire(new a.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be styled.")))},Y.prototype.getLayoutProperty=function(G,L){var H=this.getLayer(G);if(H)return H.getLayoutProperty(L);this.fire(new a.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style.")))},Y.prototype.setPaintProperty=function(G,L,H,$){$===void 0&&($={}),this._checkLoaded();var ne=this.getLayer(G);ne?a.deepEqual(ne.getPaintProperty(L),H)||(ne.setPaintProperty(L,H,$)&&this._updateLayer(ne),this._changed=!0,this._updatedPaintProps[G]=!0):this.fire(new a.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be styled.")))},Y.prototype.getPaintProperty=function(G,L){return this.getLayer(G).getPaintProperty(L)},Y.prototype.setFeatureState=function(G,L){this._checkLoaded();var H=G.source,$=G.sourceLayer,ne=this.sourceCaches[H];if(ne!==void 0){var ce=ne.getSource().type;ce==="geojson"&&$?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):ce!=="vector"||$?(G.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),ne.setFeatureState($,G.id,L)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+H+"' does not exist in the map's style.")))},Y.prototype.removeFeatureState=function(G,L){this._checkLoaded();var H=G.source,$=this.sourceCaches[H];if($!==void 0){var ne=$.getSource().type,ce=ne==="vector"?G.sourceLayer:void 0;ne!=="vector"||ce?L&&typeof G.id!="string"&&typeof G.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):$.removeFeatureState(ce,G.id,L):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+H+"' does not exist in the map's style.")))},Y.prototype.getFeatureState=function(G){this._checkLoaded();var L=G.source,H=G.sourceLayer,$=this.sourceCaches[L];if($!==void 0){if($.getSource().type!=="vector"||H)return G.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),$.getFeatureState(H,G.id);this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+L+"' does not exist in the map's style.")))},Y.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},Y.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(G){return G.serialize()}),layers:this._serializeLayers(this._order)},function(G){return G!==void 0})},Y.prototype._updateLayer=function(G){this._updatedLayers[G.id]=!0,G.source&&!this._updatedSources[G.source]&&this.sourceCaches[G.source].getSource().type!=="raster"&&(this._updatedSources[G.source]="reload",this.sourceCaches[G.source].pause()),this._changed=!0},Y.prototype._flattenAndSortRenderedFeatures=function(G){for(var L=this,H=function(In){return L._layers[In].type==="fill-extrusion"},$={},ne=[],ce=this._order.length-1;ce>=0;ce--){var ve=this._order[ce];if(H(ve)){$[ve]=ce;for(var Oe=0,De=G;Oe<De.length;Oe+=1){var He=De[Oe][ve];if(He)for(var We=0,rt=He;We<rt.length;We+=1){var pt=rt[We];ne.push(pt)}}}}ne.sort(function(In,Rn){return Rn.intersectionZ-In.intersectionZ});for(var vt=[],kt=this._order.length-1;kt>=0;kt--){var Ot=this._order[kt];if(H(Ot))for(var Et=ne.length-1;Et>=0;Et--){var jt=ne[Et].feature;if($[jt.layer.id]<kt)break;vt.push(jt),ne.pop()}else for(var It=0,Jt=G;It<Jt.length;It+=1){var Yt=Jt[It][Ot];if(Yt)for(var Ht=0,mn=Yt;Ht<mn.length;Ht+=1){var yn=mn[Ht];vt.push(yn.feature)}}}return vt},Y.prototype.queryRenderedFeatures=function(G,L,H){L&&L.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",L.filter,null,L);var $={};if(L&&L.layers){if(!Array.isArray(L.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ne=0,ce=L.layers;ne<ce.length;ne+=1){var ve=ce[ne],Oe=this._layers[ve];if(!Oe)return this.fire(new a.ErrorEvent(new Error("The layer '"+ve+"' does not exist in the map's style and cannot be queried for features."))),[];$[Oe.source]=!0}}var De=[];for(var He in L.availableImages=this._availableImages,this.sourceCaches)L.layers&&!$[He]||De.push(J(this.sourceCaches[He],this._layers,this._serializedLayers,G,L,H));return this.placement&&De.push(function(We,rt,pt,vt,kt,Ot,Et){for(var jt={},It=Ot.queryRenderedSymbols(vt),Jt=[],Yt=0,Ht=Object.keys(It).map(Number);Yt<Ht.length;Yt+=1){var mn=Ht[Yt];Jt.push(Et[mn])}Jt.sort(X);for(var yn=function(){var hr=Rn[In],Zn=hr.featureIndex.lookupSymbolFeatures(It[hr.bucketInstanceId],rt,hr.bucketIndex,hr.sourceLayerIndex,kt.filter,kt.layers,kt.availableImages,We);for(var lr in Zn){var _r=jt[lr]=jt[lr]||[],Or=Zn[lr];Or.sort(function(pr,Er){var zr=hr.featureSortOrder;if(zr){var Yr=zr.indexOf(pr.featureIndex);return zr.indexOf(Er.featureIndex)-Yr}return Er.featureIndex-pr.featureIndex});for(var $n=0,sr=Or;$n<sr.length;$n+=1){var Mr=sr[$n];_r.push(Mr)}}},In=0,Rn=Jt;In<Rn.length;In+=1)yn();var Gn=function(hr){jt[hr].forEach(function(Zn){var lr=Zn.feature,_r=We[hr],Or=pt[_r.source].getFeatureState(lr.layer["source-layer"],lr.id);lr.source=lr.layer.source,lr.layer["source-layer"]&&(lr.sourceLayer=lr.layer["source-layer"]),lr.state=Or})};for(var Qn in jt)Gn(Qn);return jt}(this._layers,this._serializedLayers,this.sourceCaches,G,L,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(De)},Y.prototype.querySourceFeatures=function(G,L){L&&L.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",L.filter,null,L);var H=this.sourceCaches[G];return H?function($,ne){for(var ce=$.getRenderableIds().map(function(rt){return $.getTileByID(rt)}),ve=[],Oe={},De=0;De<ce.length;De++){var He=ce[De],We=He.tileID.canonical.key;Oe[We]||(Oe[We]=!0,He.querySourceFeatures(ve,ne))}return ve}(H,L):[]},Y.prototype.addSourceType=function(G,L,H){return Y.getSourceType(G)?H(new Error('A source type called "'+G+'" already exists.')):(Y.setSourceType(G,L),L.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:G,url:L.workerSourceURL},H):H(null,null))},Y.prototype.getLight=function(){return this.light.getLight()},Y.prototype.setLight=function(G,L){L===void 0&&(L={}),this._checkLoaded();var H=this.light.getLight(),$=!1;for(var ne in G)if(!a.deepEqual(G[ne],H[ne])){$=!0;break}if($){var ce={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(G,L),this.light.updateTransitions(ce)}},Y.prototype._validate=function(G,L,H,$,ne){return ne===void 0&&(ne={}),(!ne||ne.validate!==!1)&&Yn(this,G.call(a.validateStyle,a.extend({key:L,style:this.serialize(),value:H,styleSpec:a.styleSpec},$)))},Y.prototype._remove=function(){for(var G in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[G].setEventedParent(null);for(var L in this.sourceCaches)this.sourceCaches[L].clearTiles(),this.sourceCaches[L].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},Y.prototype._clearSource=function(G){this.sourceCaches[G].clearTiles()},Y.prototype._reloadSource=function(G){this.sourceCaches[G].resume(),this.sourceCaches[G].reload()},Y.prototype._updateSources=function(G){for(var L in this.sourceCaches)this.sourceCaches[L].update(G)},Y.prototype._generateCollisionBoxes=function(){for(var G in this.sourceCaches)this._reloadSource(G)},Y.prototype._updatePlacement=function(G,L,H,$,ne){ne===void 0&&(ne=!1);for(var ce=!1,ve=!1,Oe={},De=0,He=this._order;De<He.length;De+=1){var We=He[De],rt=this._layers[We];if(rt.type==="symbol"){if(!Oe[rt.source]){var pt=this.sourceCaches[rt.source];Oe[rt.source]=pt.getRenderableIds(!0).map(function(It){return pt.getTileByID(It)}).sort(function(It,Jt){return Jt.tileID.overscaledZ-It.tileID.overscaledZ||(It.tileID.isLessThan(Jt.tileID)?-1:1)})}var vt=this.crossTileSymbolIndex.addLayer(rt,Oe[rt.source],G.center.lng);ce=ce||vt}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((ne=ne||this._layerOrderChanged||H===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),G.zoom))&&(this.pauseablePlacement=new en(G,this._order,ne,L,H,$,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Oe),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),ve=!0),ce&&this.pauseablePlacement.placement.setStale()),ve||ce)for(var kt=0,Ot=this._order;kt<Ot.length;kt+=1){var Et=Ot[kt],jt=this._layers[Et];jt.type==="symbol"&&this.placement.updateLayerOpacities(jt,Oe[jt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now())},Y.prototype._releaseSymbolFadeTiles=function(){for(var G in this.sourceCaches)this.sourceCaches[G].releaseSymbolFadeTiles()},Y.prototype.getImages=function(G,L,H){this.imageManager.getImages(L.icons,H),this._updateTilesForChangedImages();var $=this.sourceCaches[L.source];$&&$.setDependencies(L.tileID.key,L.type,L.icons)},Y.prototype.getGlyphs=function(G,L,H){this.glyphManager.getGlyphs(L.stacks,H)},Y.prototype.getResource=function(G,L,H){return a.makeRequest(L,H)},Y}(a.Evented);cr.getSourceType=function(B){return te[B]},cr.setSourceType=function(B,Y){te[B]=Y},cr.registerForPluginStateChange=a.registerForPluginStateChange;var ur=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),mr=Ci(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),vr=Ci(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Lr=Ci(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),or=Ci(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),wr=Ci("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ir=Ci(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),Gr=Ci(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),_i=Ci("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Ti=Ci("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),Ki=Ci("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),vi=Ci(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),Hi=Ci(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),La=Ci(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Ca=Ci(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),gs=Ci(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),Cu=Ci(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),rl=Ci(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),il=Ci(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Sl=Ci(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),uo=Ci(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),El=Ci(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),Ll=Ci(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),Cl=Ci(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Ro=Ci(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),Xo=Ci(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),vs=Ci(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function Ci(B,Y){var G=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,L=Y.match(/attribute ([\w]+) ([\w]+)/g),H=B.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),$=Y.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ne=$?$.concat(H):H,ce={};return{fragmentSource:B=B.replace(G,function(ve,Oe,De,He,We){return ce[We]=!0,Oe==="define"?`
#ifndef HAS_UNIFORM_u_`+We+`
varying `+De+" "+He+" "+We+`;
#else
uniform `+De+" "+He+" u_"+We+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+We+`
    `+De+" "+He+" "+We+" = u_"+We+`;
#endif
`}),vertexSource:Y=Y.replace(G,function(ve,Oe,De,He,We){var rt=He==="float"?"vec2":"vec4",pt=We.match(/color/)?"color":rt;return ce[We]?Oe==="define"?`
#ifndef HAS_UNIFORM_u_`+We+`
uniform lowp float u_`+We+`_t;
attribute `+De+" "+rt+" a_"+We+`;
varying `+De+" "+He+" "+We+`;
#else
uniform `+De+" "+He+" u_"+We+`;
#endif
`:pt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+We+`
    `+We+" = a_"+We+`;
#else
    `+De+" "+He+" "+We+" = u_"+We+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+We+`
    `+We+" = unpack_mix_"+pt+"(a_"+We+", u_"+We+`_t);
#else
    `+De+" "+He+" "+We+" = u_"+We+`;
#endif
`:Oe==="define"?`
#ifndef HAS_UNIFORM_u_`+We+`
uniform lowp float u_`+We+`_t;
attribute `+De+" "+rt+" a_"+We+`;
#else
uniform `+De+" "+He+" u_"+We+`;
#endif
`:pt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+We+`
    `+De+" "+He+" "+We+" = a_"+We+`;
#else
    `+De+" "+He+" "+We+" = u_"+We+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+We+`
    `+De+" "+He+" "+We+" = unpack_mix_"+pt+"(a_"+We+", u_"+We+`_t);
#else
    `+De+" "+He+" "+We+" = u_"+We+`;
#endif
`}),staticAttributes:L,staticUniforms:ne}}var ia=Object.freeze({__proto__:null,prelude:mr,background:vr,backgroundPattern:Lr,circle:or,clippingMask:wr,heatmap:Ir,heatmapTexture:Gr,collisionBox:_i,collisionCircle:Ti,debug:Ki,fill:vi,fillOutline:Hi,fillOutlinePattern:La,fillPattern:Ca,fillExtrusion:gs,fillExtrusionPattern:Cu,hillshadePrepare:rl,hillshade:il,line:Sl,lineGradient:uo,linePattern:El,lineSDF:Ll,raster:Cl,symbolIcon:Ro,symbolSDF:Xo,symbolTextAndIcon:vs}),zo=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function To(B){for(var Y=[],G=0;G<B.length;G++)if(B[G]!==null){var L=B[G].split(" ");Y.push(L.pop())}return Y}zo.prototype.bind=function(B,Y,G,L,H,$,ne,ce){this.context=B;for(var ve=this.boundPaintVertexBuffers.length!==L.length,Oe=0;!ve&&Oe<L.length;Oe++)this.boundPaintVertexBuffers[Oe]!==L[Oe]&&(ve=!0);var De=!this.vao||this.boundProgram!==Y||this.boundLayoutVertexBuffer!==G||ve||this.boundIndexBuffer!==H||this.boundVertexOffset!==$||this.boundDynamicVertexBuffer!==ne||this.boundDynamicVertexBuffer2!==ce;!B.extVertexArrayObject||De?this.freshBind(Y,G,L,H,$,ne,ce):(B.bindVertexArrayOES.set(this.vao),ne&&ne.bind(),H&&H.dynamicDraw&&H.bind(),ce&&ce.bind())},zo.prototype.freshBind=function(B,Y,G,L,H,$,ne){var ce,ve=B.numAttributes,Oe=this.context,De=Oe.gl;if(Oe.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Oe.extVertexArrayObject.createVertexArrayOES(),Oe.bindVertexArrayOES.set(this.vao),ce=0,this.boundProgram=B,this.boundLayoutVertexBuffer=Y,this.boundPaintVertexBuffers=G,this.boundIndexBuffer=L,this.boundVertexOffset=H,this.boundDynamicVertexBuffer=$,this.boundDynamicVertexBuffer2=ne;else{ce=Oe.currentNumAttributes||0;for(var He=ve;He<ce;He++)De.disableVertexAttribArray(He)}Y.enableAttributes(De,B);for(var We=0,rt=G;We<rt.length;We+=1)rt[We].enableAttributes(De,B);$&&$.enableAttributes(De,B),ne&&ne.enableAttributes(De,B),Y.bind(),Y.setVertexAttribPointers(De,B,H);for(var pt=0,vt=G;pt<vt.length;pt+=1){var kt=vt[pt];kt.bind(),kt.setVertexAttribPointers(De,B,H)}$&&($.bind(),$.setVertexAttribPointers(De,B,H)),L&&L.bind(),ne&&(ne.bind(),ne.setVertexAttribPointers(De,B,H)),Oe.currentNumAttributes=ve},zo.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var co=function(B,Y,G,L,H,$){var ne=B.gl;this.program=ne.createProgram();for(var ce=To(G.staticAttributes),ve=L?L.getBinderAttributes():[],Oe=ce.concat(ve),De=G.staticUniforms?To(G.staticUniforms):[],He=L?L.getBinderUniforms():[],We=[],rt=0,pt=De.concat(He);rt<pt.length;rt+=1){var vt=pt[rt];We.indexOf(vt)<0&&We.push(vt)}var kt=L?L.defines():[];$&&kt.push("#define OVERDRAW_INSPECTOR;");var Ot=kt.concat(mr.fragmentSource,G.fragmentSource).join(`
`),Et=kt.concat(mr.vertexSource,G.vertexSource).join(`
`),jt=ne.createShader(ne.FRAGMENT_SHADER);if(ne.isContextLost())this.failedToCreate=!0;else{ne.shaderSource(jt,Ot),ne.compileShader(jt),ne.attachShader(this.program,jt);var It=ne.createShader(ne.VERTEX_SHADER);if(ne.isContextLost())this.failedToCreate=!0;else{ne.shaderSource(It,Et),ne.compileShader(It),ne.attachShader(this.program,It),this.attributes={};var Jt={};this.numAttributes=Oe.length;for(var Yt=0;Yt<this.numAttributes;Yt++)Oe[Yt]&&(ne.bindAttribLocation(this.program,Yt,Oe[Yt]),this.attributes[Oe[Yt]]=Yt);ne.linkProgram(this.program),ne.deleteShader(It),ne.deleteShader(jt);for(var Ht=0;Ht<We.length;Ht++){var mn=We[Ht];if(mn&&!Jt[mn]){var yn=ne.getUniformLocation(this.program,mn);yn&&(Jt[mn]=yn)}}this.fixedUniforms=H(B,Jt),this.binderUniforms=L?L.getUniforms(B,Jt):[]}}};function Jo(B,Y,G){var L=1/Xn(G,1,Y.transform.tileZoom),H=Math.pow(2,G.tileID.overscaledZ),$=G.tileSize*Math.pow(2,Y.transform.tileZoom)/H,ne=$*(G.tileID.canonical.x+G.tileID.wrap*H),ce=$*G.tileID.canonical.y;return{u_image:0,u_texsize:G.imageAtlasTexture.size,u_scale:[L,B.fromScale,B.toScale],u_fade:B.t,u_pixel_coord_upper:[ne>>16,ce>>16],u_pixel_coord_lower:[65535&ne,65535&ce]}}co.prototype.draw=function(B,Y,G,L,H,$,ne,ce,ve,Oe,De,He,We,rt,pt,vt){var kt,Ot=B.gl;if(!this.failedToCreate){for(var Et in B.program.set(this.program),B.setDepthMode(G),B.setStencilMode(L),B.setColorMode(H),B.setCullFace($),this.fixedUniforms)this.fixedUniforms[Et].set(ne[Et]);rt&&rt.setUniforms(B,this.binderUniforms,He,{zoom:We});for(var jt=(kt={},kt[Ot.LINES]=2,kt[Ot.TRIANGLES]=3,kt[Ot.LINE_STRIP]=1,kt)[Y],It=0,Jt=De.get();It<Jt.length;It+=1){var Yt=Jt[It],Ht=Yt.vaos||(Yt.vaos={});(Ht[ce]||(Ht[ce]=new zo)).bind(B,this,ve,rt?rt.getPaintVertexBuffers():[],Oe,Yt.vertexOffset,pt,vt),Ot.drawElements(Y,Yt.primitiveLength*jt,Ot.UNSIGNED_SHORT,Yt.primitiveOffset*jt*2)}}};var ko=function(B,Y,G,L){var H=Y.style.light,$=H.properties.get("position"),ne=[$.x,$.y,$.z],ce=a.create$1();H.properties.get("anchor")==="viewport"&&a.fromRotation(ce,-Y.transform.angle),a.transformMat3(ne,ne,ce);var ve=H.properties.get("color");return{u_matrix:B,u_lightpos:ne,u_lightintensity:H.properties.get("intensity"),u_lightcolor:[ve.r,ve.g,ve.b],u_vertical_gradient:+G,u_opacity:L}},Ko=function(B,Y,G,L,H,$,ne){return a.extend(ko(B,Y,G,L),Jo($,Y,ne),{u_height_factor:-Math.pow(2,H.overscaledZ)/ne.tileSize/8})},Fo=function(B){return{u_matrix:B}},$o=function(B,Y,G,L){return a.extend(Fo(B),Jo(G,Y,L))},Mo=function(B,Y){return{u_matrix:B,u_world:Y}},Zl=function(B,Y,G,L,H){return a.extend($o(B,Y,G,L),{u_world:H})},Ol=function(B,Y,G,L){var H,$,ne=B.transform;if(L.paint.get("circle-pitch-alignment")==="map"){var ce=Xn(G,1,ne.zoom);H=!0,$=[ce,ce]}else H=!1,$=ne.pixelsToGLUnits;return{u_camera_to_center_distance:ne.cameraToCenterDistance,u_scale_with_map:+(L.paint.get("circle-pitch-scale")==="map"),u_matrix:B.translatePosMatrix(Y.posMatrix,G,L.paint.get("circle-translate"),L.paint.get("circle-translate-anchor")),u_pitch_with_map:+H,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:$}},ms=function(B,Y,G){var L=Xn(G,1,Y.zoom),H=Math.pow(2,Y.zoom-G.tileID.overscaledZ),$=G.tileID.overscaleFactor();return{u_matrix:B,u_camera_to_center_distance:Y.cameraToCenterDistance,u_pixels_to_tile_units:L,u_extrude_scale:[Y.pixelsToGLUnits[0]/(L*H),Y.pixelsToGLUnits[1]/(L*H)],u_overscale_factor:$}},pu=function(B,Y,G){return{u_matrix:B,u_inv_matrix:Y,u_camera_to_center_distance:G.cameraToCenterDistance,u_viewport_size:[G.width,G.height]}},du=function(B,Y,G){return G===void 0&&(G=1),{u_matrix:B,u_color:Y,u_overlay:0,u_overlay_scale:G}},ys=function(B){return{u_matrix:B}},gu=function(B,Y,G,L){return{u_matrix:B,u_extrude_scale:Xn(Y,1,G),u_intensity:L}},Ou=function(B,Y,G,L){var H=a.create();a.ortho(H,0,B.width,B.height,0,0,1);var $=B.context.gl;return{u_matrix:H,u_world:[$.drawingBufferWidth,$.drawingBufferHeight],u_image:G,u_color_ramp:L,u_opacity:Y.paint.get("heatmap-opacity")}},Pu=function(B,Y,G){var L=G.paint.get("hillshade-shadow-color"),H=G.paint.get("hillshade-highlight-color"),$=G.paint.get("hillshade-accent-color"),ne=G.paint.get("hillshade-illumination-direction")*(Math.PI/180);G.paint.get("hillshade-illumination-anchor")==="viewport"&&(ne-=B.transform.angle);var ce,ve,Oe,De=!B.options.moving;return{u_matrix:B.transform.calculatePosMatrix(Y.tileID.toUnwrapped(),De),u_image:0,u_latrange:(ce=Y.tileID,ve=Math.pow(2,ce.canonical.z),Oe=ce.canonical.y,[new a.MercatorCoordinate(0,Oe/ve).toLngLat().lat,new a.MercatorCoordinate(0,(Oe+1)/ve).toLngLat().lat]),u_light:[G.paint.get("hillshade-exaggeration"),ne],u_shadow:L,u_highlight:H,u_accent:$}},xs=function(B,Y){var G=Y.stride,L=a.create();return a.ortho(L,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(L,L,[0,-a.EXTENT,0]),{u_matrix:L,u_image:1,u_dimension:[G,G],u_zoom:B.overscaledZ,u_unpack:Y.getUnpackVector()}},Ao=function(B,Y,G){var L=B.transform;return{u_matrix:fo(B,Y,G),u_ratio:1/Xn(Y,1,L.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/L.pixelsToGLUnits[0],1/L.pixelsToGLUnits[1]]}},Fs=function(B,Y,G,L){return a.extend(Ao(B,Y,G),{u_image:0,u_image_height:L})},bs=function(B,Y,G,L){var H=B.transform,$=_s(Y,H);return{u_matrix:fo(B,Y,G),u_texsize:Y.imageAtlasTexture.size,u_ratio:1/Xn(Y,1,H.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[$,L.fromScale,L.toScale],u_fade:L.t,u_units_to_pixels:[1/H.pixelsToGLUnits[0],1/H.pixelsToGLUnits[1]]}},al=function(B,Y,G,L,H){var $=B.transform,ne=B.lineAtlas,ce=_s(Y,$),ve=G.layout.get("line-cap")==="round",Oe=ne.getDash(L.from,ve),De=ne.getDash(L.to,ve),He=Oe.width*H.fromScale,We=De.width*H.toScale;return a.extend(Ao(B,Y,G),{u_patternscale_a:[ce/He,-Oe.height/2],u_patternscale_b:[ce/We,-De.height/2],u_sdfgamma:ne.width/(256*Math.min(He,We)*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Oe.y,u_tex_y_b:De.y,u_mix:H.t})};function _s(B,Y){return 1/Xn(B,1,Y.tileZoom)}function fo(B,Y,G){return B.translatePosMatrix(Y.tileID.posMatrix,Y,G.paint.get("line-translate"),G.paint.get("line-translate-anchor"))}var Xl=function(B,Y,G,L,H){return{u_matrix:B,u_tl_parent:Y,u_scale_parent:G,u_buffer_scale:1,u_fade_t:L.mix,u_opacity:L.opacity*H.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:H.paint.get("raster-brightness-min"),u_brightness_high:H.paint.get("raster-brightness-max"),u_saturation_factor:(ne=H.paint.get("raster-saturation"),ne>0?1-1/(1.001-ne):-ne),u_contrast_factor:($=H.paint.get("raster-contrast"),$>0?1/(1-$):1+$),u_spin_weights:Qo(H.paint.get("raster-hue-rotate"))};var $,ne};function Qo(B){B*=Math.PI/180;var Y=Math.sin(B),G=Math.cos(B);return[(2*G+1)/3,(-Math.sqrt(3)*Y-G+1)/3,(Math.sqrt(3)*Y-G+1)/3]}var Bo,No=function(B,Y,G,L,H,$,ne,ce,ve,Oe){var De=H.transform;return{u_is_size_zoom_constant:+(B==="constant"||B==="source"),u_is_size_feature_constant:+(B==="constant"||B==="camera"),u_size_t:Y?Y.uSizeT:0,u_size:Y?Y.uSize:0,u_camera_to_center_distance:De.cameraToCenterDistance,u_pitch:De.pitch/360*2*Math.PI,u_rotate_symbol:+G,u_aspect_ratio:De.width/De.height,u_fade_change:H.options.fadeDuration?H.symbolFadeChange:1,u_matrix:$,u_label_plane_matrix:ne,u_coord_matrix:ce,u_is_text:+ve,u_pitch_with_map:+L,u_texsize:Oe,u_texture:0}},es=function(B,Y,G,L,H,$,ne,ce,ve,Oe,De){var He=H.transform;return a.extend(No(B,Y,G,L,H,$,ne,ce,ve,Oe),{u_gamma_scale:L?Math.cos(He._pitch)*He.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+De})},Qr=function(B,Y,G,L,H,$,ne,ce,ve,Oe){return a.extend(es(B,Y,G,L,H,$,ne,ce,!0,ve,!0),{u_texsize_icon:Oe,u_texture_icon:1})},Bs=function(B,Y,G){return{u_matrix:B,u_opacity:Y,u_color:G}},Iu=function(B,Y,G,L,H,$){return a.extend(function(ne,ce,ve,Oe){var De=ve.imageManager.getPattern(ne.from.toString()),He=ve.imageManager.getPattern(ne.to.toString()),We=ve.imageManager.getPixelSize(),rt=We.width,pt=We.height,vt=Math.pow(2,Oe.tileID.overscaledZ),kt=Oe.tileSize*Math.pow(2,ve.transform.tileZoom)/vt,Ot=kt*(Oe.tileID.canonical.x+Oe.tileID.wrap*vt),Et=kt*Oe.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:De.tl,u_pattern_br_a:De.br,u_pattern_tl_b:He.tl,u_pattern_br_b:He.br,u_texsize:[rt,pt],u_mix:ce.t,u_pattern_size_a:De.displaySize,u_pattern_size_b:He.displaySize,u_scale_a:ce.fromScale,u_scale_b:ce.toScale,u_tile_units_to_pixels:1/Xn(Oe,1,ve.transform.tileZoom),u_pixel_coord_upper:[Ot>>16,Et>>16],u_pixel_coord_lower:[65535&Ot,65535&Et]}}(L,$,G,H),{u_matrix:B,u_opacity:Y})},Pl={fillExtrusion:function(B,Y){return{u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_lightpos:new a.Uniform3f(B,Y.u_lightpos),u_lightintensity:new a.Uniform1f(B,Y.u_lightintensity),u_lightcolor:new a.Uniform3f(B,Y.u_lightcolor),u_vertical_gradient:new a.Uniform1f(B,Y.u_vertical_gradient),u_opacity:new a.Uniform1f(B,Y.u_opacity)}},fillExtrusionPattern:function(B,Y){return{u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_lightpos:new a.Uniform3f(B,Y.u_lightpos),u_lightintensity:new a.Uniform1f(B,Y.u_lightintensity),u_lightcolor:new a.Uniform3f(B,Y.u_lightcolor),u_vertical_gradient:new a.Uniform1f(B,Y.u_vertical_gradient),u_height_factor:new a.Uniform1f(B,Y.u_height_factor),u_image:new a.Uniform1i(B,Y.u_image),u_texsize:new a.Uniform2f(B,Y.u_texsize),u_pixel_coord_upper:new a.Uniform2f(B,Y.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(B,Y.u_pixel_coord_lower),u_scale:new a.Uniform3f(B,Y.u_scale),u_fade:new a.Uniform1f(B,Y.u_fade),u_opacity:new a.Uniform1f(B,Y.u_opacity)}},fill:function(B,Y){return{u_matrix:new a.UniformMatrix4f(B,Y.u_matrix)}},fillPattern:function(B,Y){return{u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_image:new a.Uniform1i(B,Y.u_image),u_texsize:new a.Uniform2f(B,Y.u_texsize),u_pixel_coord_upper:new a.Uniform2f(B,Y.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(B,Y.u_pixel_coord_lower),u_scale:new a.Uniform3f(B,Y.u_scale),u_fade:new a.Uniform1f(B,Y.u_fade)}},fillOutline:function(B,Y){return{u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_world:new a.Uniform2f(B,Y.u_world)}},fillOutlinePattern:function(B,Y){return{u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_world:new a.Uniform2f(B,Y.u_world),u_image:new a.Uniform1i(B,Y.u_image),u_texsize:new a.Uniform2f(B,Y.u_texsize),u_pixel_coord_upper:new a.Uniform2f(B,Y.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(B,Y.u_pixel_coord_lower),u_scale:new a.Uniform3f(B,Y.u_scale),u_fade:new a.Uniform1f(B,Y.u_fade)}},circle:function(B,Y){return{u_camera_to_center_distance:new a.Uniform1f(B,Y.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(B,Y.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(B,Y.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(B,Y.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(B,Y.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(B,Y.u_matrix)}},collisionBox:function(B,Y){return{u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_camera_to_center_distance:new a.Uniform1f(B,Y.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(B,Y.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(B,Y.u_extrude_scale),u_overscale_factor:new a.Uniform1f(B,Y.u_overscale_factor)}},collisionCircle:function(B,Y){return{u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_inv_matrix:new a.UniformMatrix4f(B,Y.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(B,Y.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(B,Y.u_viewport_size)}},debug:function(B,Y){return{u_color:new a.UniformColor(B,Y.u_color),u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_overlay:new a.Uniform1i(B,Y.u_overlay),u_overlay_scale:new a.Uniform1f(B,Y.u_overlay_scale)}},clippingMask:function(B,Y){return{u_matrix:new a.UniformMatrix4f(B,Y.u_matrix)}},heatmap:function(B,Y){return{u_extrude_scale:new a.Uniform1f(B,Y.u_extrude_scale),u_intensity:new a.Uniform1f(B,Y.u_intensity),u_matrix:new a.UniformMatrix4f(B,Y.u_matrix)}},heatmapTexture:function(B,Y){return{u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_world:new a.Uniform2f(B,Y.u_world),u_image:new a.Uniform1i(B,Y.u_image),u_color_ramp:new a.Uniform1i(B,Y.u_color_ramp),u_opacity:new a.Uniform1f(B,Y.u_opacity)}},hillshade:function(B,Y){return{u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_image:new a.Uniform1i(B,Y.u_image),u_latrange:new a.Uniform2f(B,Y.u_latrange),u_light:new a.Uniform2f(B,Y.u_light),u_shadow:new a.UniformColor(B,Y.u_shadow),u_highlight:new a.UniformColor(B,Y.u_highlight),u_accent:new a.UniformColor(B,Y.u_accent)}},hillshadePrepare:function(B,Y){return{u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_image:new a.Uniform1i(B,Y.u_image),u_dimension:new a.Uniform2f(B,Y.u_dimension),u_zoom:new a.Uniform1f(B,Y.u_zoom),u_unpack:new a.Uniform4f(B,Y.u_unpack)}},line:function(B,Y){return{u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_ratio:new a.Uniform1f(B,Y.u_ratio),u_device_pixel_ratio:new a.Uniform1f(B,Y.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(B,Y.u_units_to_pixels)}},lineGradient:function(B,Y){return{u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_ratio:new a.Uniform1f(B,Y.u_ratio),u_device_pixel_ratio:new a.Uniform1f(B,Y.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(B,Y.u_units_to_pixels),u_image:new a.Uniform1i(B,Y.u_image),u_image_height:new a.Uniform1f(B,Y.u_image_height)}},linePattern:function(B,Y){return{u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_texsize:new a.Uniform2f(B,Y.u_texsize),u_ratio:new a.Uniform1f(B,Y.u_ratio),u_device_pixel_ratio:new a.Uniform1f(B,Y.u_device_pixel_ratio),u_image:new a.Uniform1i(B,Y.u_image),u_units_to_pixels:new a.Uniform2f(B,Y.u_units_to_pixels),u_scale:new a.Uniform3f(B,Y.u_scale),u_fade:new a.Uniform1f(B,Y.u_fade)}},lineSDF:function(B,Y){return{u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_ratio:new a.Uniform1f(B,Y.u_ratio),u_device_pixel_ratio:new a.Uniform1f(B,Y.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(B,Y.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(B,Y.u_patternscale_a),u_patternscale_b:new a.Uniform2f(B,Y.u_patternscale_b),u_sdfgamma:new a.Uniform1f(B,Y.u_sdfgamma),u_image:new a.Uniform1i(B,Y.u_image),u_tex_y_a:new a.Uniform1f(B,Y.u_tex_y_a),u_tex_y_b:new a.Uniform1f(B,Y.u_tex_y_b),u_mix:new a.Uniform1f(B,Y.u_mix)}},raster:function(B,Y){return{u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_tl_parent:new a.Uniform2f(B,Y.u_tl_parent),u_scale_parent:new a.Uniform1f(B,Y.u_scale_parent),u_buffer_scale:new a.Uniform1f(B,Y.u_buffer_scale),u_fade_t:new a.Uniform1f(B,Y.u_fade_t),u_opacity:new a.Uniform1f(B,Y.u_opacity),u_image0:new a.Uniform1i(B,Y.u_image0),u_image1:new a.Uniform1i(B,Y.u_image1),u_brightness_low:new a.Uniform1f(B,Y.u_brightness_low),u_brightness_high:new a.Uniform1f(B,Y.u_brightness_high),u_saturation_factor:new a.Uniform1f(B,Y.u_saturation_factor),u_contrast_factor:new a.Uniform1f(B,Y.u_contrast_factor),u_spin_weights:new a.Uniform3f(B,Y.u_spin_weights)}},symbolIcon:function(B,Y){return{u_is_size_zoom_constant:new a.Uniform1i(B,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(B,Y.u_is_size_feature_constant),u_size_t:new a.Uniform1f(B,Y.u_size_t),u_size:new a.Uniform1f(B,Y.u_size),u_camera_to_center_distance:new a.Uniform1f(B,Y.u_camera_to_center_distance),u_pitch:new a.Uniform1f(B,Y.u_pitch),u_rotate_symbol:new a.Uniform1i(B,Y.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(B,Y.u_aspect_ratio),u_fade_change:new a.Uniform1f(B,Y.u_fade_change),u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(B,Y.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(B,Y.u_coord_matrix),u_is_text:new a.Uniform1i(B,Y.u_is_text),u_pitch_with_map:new a.Uniform1i(B,Y.u_pitch_with_map),u_texsize:new a.Uniform2f(B,Y.u_texsize),u_texture:new a.Uniform1i(B,Y.u_texture)}},symbolSDF:function(B,Y){return{u_is_size_zoom_constant:new a.Uniform1i(B,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(B,Y.u_is_size_feature_constant),u_size_t:new a.Uniform1f(B,Y.u_size_t),u_size:new a.Uniform1f(B,Y.u_size),u_camera_to_center_distance:new a.Uniform1f(B,Y.u_camera_to_center_distance),u_pitch:new a.Uniform1f(B,Y.u_pitch),u_rotate_symbol:new a.Uniform1i(B,Y.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(B,Y.u_aspect_ratio),u_fade_change:new a.Uniform1f(B,Y.u_fade_change),u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(B,Y.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(B,Y.u_coord_matrix),u_is_text:new a.Uniform1i(B,Y.u_is_text),u_pitch_with_map:new a.Uniform1i(B,Y.u_pitch_with_map),u_texsize:new a.Uniform2f(B,Y.u_texsize),u_texture:new a.Uniform1i(B,Y.u_texture),u_gamma_scale:new a.Uniform1f(B,Y.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(B,Y.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(B,Y.u_is_halo)}},symbolTextAndIcon:function(B,Y){return{u_is_size_zoom_constant:new a.Uniform1i(B,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(B,Y.u_is_size_feature_constant),u_size_t:new a.Uniform1f(B,Y.u_size_t),u_size:new a.Uniform1f(B,Y.u_size),u_camera_to_center_distance:new a.Uniform1f(B,Y.u_camera_to_center_distance),u_pitch:new a.Uniform1f(B,Y.u_pitch),u_rotate_symbol:new a.Uniform1i(B,Y.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(B,Y.u_aspect_ratio),u_fade_change:new a.Uniform1f(B,Y.u_fade_change),u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(B,Y.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(B,Y.u_coord_matrix),u_is_text:new a.Uniform1i(B,Y.u_is_text),u_pitch_with_map:new a.Uniform1i(B,Y.u_pitch_with_map),u_texsize:new a.Uniform2f(B,Y.u_texsize),u_texsize_icon:new a.Uniform2f(B,Y.u_texsize_icon),u_texture:new a.Uniform1i(B,Y.u_texture),u_texture_icon:new a.Uniform1i(B,Y.u_texture_icon),u_gamma_scale:new a.Uniform1f(B,Y.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(B,Y.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(B,Y.u_is_halo)}},background:function(B,Y){return{u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_opacity:new a.Uniform1f(B,Y.u_opacity),u_color:new a.UniformColor(B,Y.u_color)}},backgroundPattern:function(B,Y){return{u_matrix:new a.UniformMatrix4f(B,Y.u_matrix),u_opacity:new a.Uniform1f(B,Y.u_opacity),u_image:new a.Uniform1i(B,Y.u_image),u_pattern_tl_a:new a.Uniform2f(B,Y.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(B,Y.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(B,Y.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(B,Y.u_pattern_br_b),u_texsize:new a.Uniform2f(B,Y.u_texsize),u_mix:new a.Uniform1f(B,Y.u_mix),u_pattern_size_a:new a.Uniform2f(B,Y.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(B,Y.u_pattern_size_b),u_scale_a:new a.Uniform1f(B,Y.u_scale_a),u_scale_b:new a.Uniform1f(B,Y.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(B,Y.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(B,Y.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(B,Y.u_tile_units_to_pixels)}}};function Ns(B,Y,G,L,H,$,ne){for(var ce=B.context,ve=ce.gl,Oe=B.useProgram("collisionBox"),De=[],He=0,We=0,rt=0;rt<L.length;rt++){var pt=L[rt],vt=Y.getTile(pt),kt=vt.getBucket(G);if(kt){var Ot=pt.posMatrix;H[0]===0&&H[1]===0||(Ot=B.translatePosMatrix(pt.posMatrix,vt,H,$));var Et=ne?kt.textCollisionBox:kt.iconCollisionBox,jt=kt.collisionCircleArray;if(jt.length>0){var It=a.create(),Jt=Ot;a.mul(It,kt.placementInvProjMatrix,B.transform.glCoordMatrix),a.mul(It,It,kt.placementViewportMatrix),De.push({circleArray:jt,circleOffset:We,transform:Jt,invTransform:It}),We=He+=jt.length/4}Et&&Oe.draw(ce,ve.LINES,Ft.disabled,Ze.disabled,B.colorModeForRenderPass(),Ue.disabled,ms(Ot,B.transform,vt),G.id,Et.layoutVertexBuffer,Et.indexBuffer,Et.segments,null,B.transform.zoom,null,null,Et.collisionVertexBuffer)}}if(ne&&De.length){var Yt=B.useProgram("collisionCircle"),Ht=new a.StructArrayLayout2f1f2i16;Ht.resize(4*He),Ht._trim();for(var mn=0,yn=0,In=De;yn<In.length;yn+=1)for(var Rn=In[yn],Gn=0;Gn<Rn.circleArray.length/4;Gn++){var Qn=4*Gn,hr=Rn.circleArray[Qn+0],Zn=Rn.circleArray[Qn+1],lr=Rn.circleArray[Qn+2],_r=Rn.circleArray[Qn+3];Ht.emplace(mn++,hr,Zn,lr,_r,0),Ht.emplace(mn++,hr,Zn,lr,_r,1),Ht.emplace(mn++,hr,Zn,lr,_r,2),Ht.emplace(mn++,hr,Zn,lr,_r,3)}(!Bo||Bo.length<2*He)&&(Bo=function(zr){var Yr=2*zr,Zr=new a.StructArrayLayout3ui6;Zr.resize(Yr),Zr._trim();for(var Kr=0;Kr<Yr;Kr++){var ni=6*Kr;Zr.uint16[ni+0]=4*Kr+0,Zr.uint16[ni+1]=4*Kr+1,Zr.uint16[ni+2]=4*Kr+2,Zr.uint16[ni+3]=4*Kr+2,Zr.uint16[ni+4]=4*Kr+3,Zr.uint16[ni+5]=4*Kr+0}return Zr}(He));for(var Or=ce.createIndexBuffer(Bo,!0),$n=ce.createVertexBuffer(Ht,a.collisionCircleLayout.members,!0),sr=0,Mr=De;sr<Mr.length;sr+=1){var pr=Mr[sr],Er=pu(pr.transform,pr.invTransform,B.transform);Yt.draw(ce,ve.TRIANGLES,Ft.disabled,Ze.disabled,B.colorModeForRenderPass(),Ue.disabled,Er,G.id,$n,Or,a.SegmentVector.simpleSegment(0,2*pr.circleOffset,pr.circleArray.length,pr.circleArray.length/2),null,B.transform.zoom,null,null,null)}$n.destroy(),Or.destroy()}}var vu=a.identity(new Float32Array(16));function Du(B,Y,G,L,H,$){var ne=a.getAnchorAlignment(B),ce=-(ne.horizontalAlign-.5)*Y,ve=-(ne.verticalAlign-.5)*G,Oe=a.evaluateVariableOffset(B,L);return new a.Point((ce/H+Oe[0])*$,(ve/H+Oe[1])*$)}function Il(B,Y,G,L,H,$,ne,ce,ve,Oe,De){var He=B.text.placedSymbolArray,We=B.text.dynamicLayoutVertexArray,rt=B.icon.dynamicLayoutVertexArray,pt={};We.clear();for(var vt=0;vt<He.length;vt++){var kt=He.get(vt),Ot=B.allowVerticalPlacement&&!kt.placedOrientation,Et=kt.hidden||!kt.crossTileID||Ot?null:L[kt.crossTileID];if(Et){var jt=new a.Point(kt.anchorX,kt.anchorY),It=Zt(jt,G?ce:ne),Jt=ln($.cameraToCenterDistance,It.signedDistanceFromCamera),Yt=H.evaluateSizeForFeature(B.textSizeData,Oe,kt)*Jt/a.ONE_EM;G&&(Yt*=B.tilePixelRatio/ve);for(var Ht=Et.width,mn=Et.height,yn=Du(Et.anchor,Ht,mn,Et.textOffset,Et.textBoxScale,Yt),In=G?Zt(jt.add(yn),ne).point:It.point.add(Y?yn.rotate(-$.angle):yn),Rn=B.allowVerticalPlacement&&kt.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,Gn=0;Gn<kt.numGlyphs;Gn++)a.addDynamicAttributes(We,In,Rn);De&&kt.associatedIconIndex>=0&&(pt[kt.associatedIconIndex]={shiftedAnchor:In,angle:Rn})}else Hn(kt.numGlyphs,We)}if(De){rt.clear();for(var Qn=B.icon.placedSymbolArray,hr=0;hr<Qn.length;hr++){var Zn=Qn.get(hr);if(Zn.hidden)Hn(Zn.numGlyphs,rt);else{var lr=pt[hr];if(lr)for(var _r=0;_r<Zn.numGlyphs;_r++)a.addDynamicAttributes(rt,lr.shiftedAnchor,lr.angle);else Hn(Zn.numGlyphs,rt)}}B.icon.dynamicLayoutVertexBuffer.updateData(rt)}B.text.dynamicLayoutVertexBuffer.updateData(We)}function Ru(B,Y,G){return G.iconsInText&&Y?"symbolTextAndIcon":B?"symbolSDF":"symbolIcon"}function ts(B,Y,G,L,H,$,ne,ce,ve,Oe,De,He){for(var We=B.context,rt=We.gl,pt=B.transform,vt=ce==="map",kt=ve==="map",Ot=vt&&G.layout.get("symbol-placement")!=="point",Et=vt&&!kt&&!Ot,jt=G.layout.get("symbol-sort-key").constantOr(1)!==void 0,It=!1,Jt=B.depthModeForSublayer(0,Ft.ReadOnly),Yt=G.layout.get("text-variable-anchor"),Ht=[],mn=0,yn=L;mn<yn.length;mn+=1){var In=yn[mn],Rn=Y.getTile(In),Gn=Rn.getBucket(G);if(Gn){var Qn=H?Gn.text:Gn.icon;if(Qn&&Qn.segments.get().length){var hr=Qn.programConfigurations.get(G.id),Zn=H||Gn.sdfIcons,lr=H?Gn.textSizeData:Gn.iconSizeData,_r=kt||pt.pitch!==0,Or=B.useProgram(Ru(Zn,H,Gn),hr),$n=a.evaluateSizeForZoom(lr,pt.zoom),sr=void 0,Mr=[0,0],pr=void 0,Er=void 0,zr=null,Yr=void 0;if(H){if(pr=Rn.glyphAtlasTexture,Er=rt.LINEAR,sr=Rn.glyphAtlasTexture.size,Gn.iconsInText){Mr=Rn.imageAtlasTexture.size,zr=Rn.imageAtlasTexture;var Zr=lr.kind==="composite"||lr.kind==="camera";Yr=_r||B.options.rotating||B.options.zooming||Zr?rt.LINEAR:rt.NEAREST}}else{var Kr=G.layout.get("icon-size").constantOr(0)!==1||Gn.iconsNeedLinear;pr=Rn.imageAtlasTexture,Er=Zn||B.options.rotating||B.options.zooming||Kr||_r?rt.LINEAR:rt.NEAREST,sr=Rn.imageAtlasTexture.size}var ni=Xn(Rn,1,B.transform.zoom),Ai=Ln(In.posMatrix,kt,vt,B.transform,ni),Gi=fn(In.posMatrix,kt,vt,B.transform,ni),Aa=Yt&&Gn.hasTextData(),sa=G.layout.get("icon-text-fit")!=="none"&&Aa&&Gn.hasIconData();Ot&&cn(Gn,In.posMatrix,B,H,Ai,Gi,kt,Oe);var xa=B.translatePosMatrix(In.posMatrix,Rn,$,ne),Pi=Ot||H&&Yt||sa?vu:Ai,ii=B.translatePosMatrix(Gi,Rn,$,ne,!0),Bi=Zn&&G.paint.get(H?"text-halo-width":"icon-halo-width").constantOr(1)!==0,yi={program:Or,buffers:Qn,uniformValues:Zn?Gn.iconsInText?Qr(lr.kind,$n,Et,kt,B,xa,Pi,ii,sr,Mr):es(lr.kind,$n,Et,kt,B,xa,Pi,ii,H,sr,!0):No(lr.kind,$n,Et,kt,B,xa,Pi,ii,H,sr),atlasTexture:pr,atlasTextureIcon:zr,atlasInterpolation:Er,atlasInterpolationIcon:Yr,isSDF:Zn,hasHalo:Bi};if(jt&&Gn.canOverlap){It=!0;for(var li=0,Ni=Qn.segments.get();li<Ni.length;li+=1){var qi=Ni[li];Ht.push({segments:new a.SegmentVector([qi]),sortKey:qi.sortKey,state:yi})}}else Ht.push({segments:Qn.segments,sortKey:0,state:yi})}}}It&&Ht.sort(function(vl,qo){return vl.sortKey-qo.sortKey});for(var ta=0,Xs=Ht;ta<Xs.length;ta+=1){var Js=Xs[ta],ui=Js.state;if(We.activeTexture.set(rt.TEXTURE0),ui.atlasTexture.bind(ui.atlasInterpolation,rt.CLAMP_TO_EDGE),ui.atlasTextureIcon&&(We.activeTexture.set(rt.TEXTURE1),ui.atlasTextureIcon&&ui.atlasTextureIcon.bind(ui.atlasInterpolationIcon,rt.CLAMP_TO_EDGE)),ui.isSDF){var Bl=ui.uniformValues;ui.hasHalo&&(Bl.u_is_halo=1,ws(ui.buffers,Js.segments,G,B,ui.program,Jt,De,He,Bl)),Bl.u_is_halo=0}ws(ui.buffers,Js.segments,G,B,ui.program,Jt,De,He,ui.uniformValues)}}function ws(B,Y,G,L,H,$,ne,ce,ve){var Oe=L.context,De=Oe.gl;H.draw(Oe,De.TRIANGLES,$,ne,ce,Ue.disabled,ve,G.id,B.layoutVertexBuffer,B.indexBuffer,Y,G.paint,L.transform.zoom,B.programConfigurations.get(G.id),B.dynamicLayoutVertexBuffer,B.opacityVertexBuffer)}function jo(B,Y,G,L,H,$,ne){var ce,ve,Oe,De,He,We=B.context.gl,rt=G.paint.get("fill-pattern"),pt=rt&&rt.constantOr(1),vt=G.getCrossfadeParameters();ne?(ve=pt&&!G.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ce=We.LINES):(ve=pt?"fillPattern":"fill",ce=We.TRIANGLES);for(var kt=0,Ot=L;kt<Ot.length;kt+=1){var Et=Ot[kt],jt=Y.getTile(Et);if(!pt||jt.patternsLoaded()){var It=jt.getBucket(G);if(It){var Jt=It.programConfigurations.get(G.id),Yt=B.useProgram(ve,Jt);pt&&(B.context.activeTexture.set(We.TEXTURE0),jt.imageAtlasTexture.bind(We.LINEAR,We.CLAMP_TO_EDGE),Jt.updatePaintBuffers(vt));var Ht=rt.constantOr(null);if(Ht&&jt.imageAtlas){var mn=jt.imageAtlas,yn=mn.patternPositions[Ht.to.toString()],In=mn.patternPositions[Ht.from.toString()];yn&&In&&Jt.setConstantPatternPositions(yn,In)}var Rn=B.translatePosMatrix(Et.posMatrix,jt,G.paint.get("fill-translate"),G.paint.get("fill-translate-anchor"));if(ne){De=It.indexBuffer2,He=It.segments2;var Gn=[We.drawingBufferWidth,We.drawingBufferHeight];Oe=ve==="fillOutlinePattern"&&pt?Zl(Rn,B,vt,jt,Gn):Mo(Rn,Gn)}else De=It.indexBuffer,He=It.segments,Oe=pt?$o(Rn,B,vt,jt):Fo(Rn);Yt.draw(B.context,ce,H,B.stencilModeForClipping(Et),$,Ue.disabled,Oe,G.id,It.layoutVertexBuffer,De,He,G.paint,B.transform.zoom,Jt)}}}}function ho(B,Y,G,L,H,$,ne){for(var ce=B.context,ve=ce.gl,Oe=G.paint.get("fill-extrusion-pattern"),De=Oe.constantOr(1),He=G.getCrossfadeParameters(),We=G.paint.get("fill-extrusion-opacity"),rt=0,pt=L;rt<pt.length;rt+=1){var vt=pt[rt],kt=Y.getTile(vt),Ot=kt.getBucket(G);if(Ot){var Et=Ot.programConfigurations.get(G.id),jt=B.useProgram(De?"fillExtrusionPattern":"fillExtrusion",Et);De&&(B.context.activeTexture.set(ve.TEXTURE0),kt.imageAtlasTexture.bind(ve.LINEAR,ve.CLAMP_TO_EDGE),Et.updatePaintBuffers(He));var It=Oe.constantOr(null);if(It&&kt.imageAtlas){var Jt=kt.imageAtlas,Yt=Jt.patternPositions[It.to.toString()],Ht=Jt.patternPositions[It.from.toString()];Yt&&Ht&&Et.setConstantPatternPositions(Yt,Ht)}var mn=B.translatePosMatrix(vt.posMatrix,kt,G.paint.get("fill-extrusion-translate"),G.paint.get("fill-extrusion-translate-anchor")),yn=G.paint.get("fill-extrusion-vertical-gradient"),In=De?Ko(mn,B,yn,We,vt,He,kt):ko(mn,B,yn,We);jt.draw(ce,ce.gl.TRIANGLES,H,$,ne,Ue.backCCW,In,G.id,Ot.layoutVertexBuffer,Ot.indexBuffer,Ot.segments,G.paint,B.transform.zoom,Et)}}}function js(B,Y,G,L,H,$){var ne=B.context,ce=ne.gl,ve=Y.fbo;if(ve){var Oe=B.useProgram("hillshade");ne.activeTexture.set(ce.TEXTURE0),ce.bindTexture(ce.TEXTURE_2D,ve.colorAttachment.get());var De=Pu(B,Y,G);Oe.draw(ne,ce.TRIANGLES,L,H,$,Ue.disabled,De,G.id,B.rasterBoundsBuffer,B.quadTriangleIndexBuffer,B.rasterBoundsSegments)}}function mu(B,Y,G,L,H,$){var ne=B.context,ce=ne.gl,ve=Y.dem;if(ve&&ve.data){var Oe=ve.dim,De=ve.stride,He=ve.getPixels();if(ne.activeTexture.set(ce.TEXTURE1),ne.pixelStoreUnpackPremultiplyAlpha.set(!1),Y.demTexture=Y.demTexture||B.getTileTexture(De),Y.demTexture){var We=Y.demTexture;We.update(He,{premultiply:!1}),We.bind(ce.NEAREST,ce.CLAMP_TO_EDGE)}else Y.demTexture=new a.Texture(ne,He,ce.RGBA,{premultiply:!1}),Y.demTexture.bind(ce.NEAREST,ce.CLAMP_TO_EDGE);ne.activeTexture.set(ce.TEXTURE0);var rt=Y.fbo;if(!rt){var pt=new a.Texture(ne,{width:Oe,height:Oe,data:null},ce.RGBA);pt.bind(ce.LINEAR,ce.CLAMP_TO_EDGE),(rt=Y.fbo=ne.createFramebuffer(Oe,Oe,!0)).colorAttachment.set(pt.texture)}ne.bindFramebuffer.set(rt.framebuffer),ne.viewport.set([0,0,Oe,Oe]),B.useProgram("hillshadePrepare").draw(ne,ce.TRIANGLES,L,H,$,Ue.disabled,xs(Y.tileID,ve),G.id,B.rasterBoundsBuffer,B.quadTriangleIndexBuffer,B.rasterBoundsSegments),Y.needsHillshadePrepare=!1}}function ol(B,Y,G,L,H){var $=L.paint.get("raster-fade-duration");if($>0){var ne=a.browser.now(),ce=(ne-B.timeAdded)/$,ve=Y?(ne-Y.timeAdded)/$:-1,Oe=G.getSource(),De=H.coveringZoomLevel({tileSize:Oe.tileSize,roundZoom:Oe.roundZoom}),He=!Y||Math.abs(Y.tileID.overscaledZ-De)>Math.abs(B.tileID.overscaledZ-De),We=He&&B.refreshedUponExpiration?1:a.clamp(He?ce:1-ve,0,1);return B.refreshedUponExpiration&&ce>=1&&(B.refreshedUponExpiration=!1),Y?{opacity:1,mix:1-We}:{opacity:We,mix:0}}return{opacity:1,mix:0}}var Dl=new a.Color(1,0,0,1),Wa=new a.Color(0,1,0,1),Rl=new a.Color(0,0,1,1),yu=new a.Color(1,0,1,1),Us=new a.Color(0,1,1,1);function Ts(B){var Y=B.transform.padding;Vs(B,B.transform.height-(Y.top||0),3,Dl),Vs(B,Y.bottom||0,3,Wa),ks(B,Y.left||0,3,Rl),ks(B,B.transform.width-(Y.right||0),3,yu);var G=B.transform.centerPoint;(function(L,H,$,ne){var ce=20,ve=2;Ms(L,H-ve/2,$-ce/2,ve,ce,ne),Ms(L,H-ce/2,$-ve/2,ce,ve,ne)})(B,G.x,B.transform.height-G.y,Us)}function Vs(B,Y,G,L){Ms(B,0,Y+G/2,B.transform.width,G,L)}function ks(B,Y,G,L){Ms(B,Y-G/2,0,G,B.transform.height,L)}function Ms(B,Y,G,L,H,$){var ne=B.context,ce=ne.gl;ce.enable(ce.SCISSOR_TEST),ce.scissor(Y*a.browser.devicePixelRatio,G*a.browser.devicePixelRatio,L*a.browser.devicePixelRatio,H*a.browser.devicePixelRatio),ne.clear({color:$}),ce.disable(ce.SCISSOR_TEST)}function sl(B,Y,G){var L=B.context,H=L.gl,$=G.posMatrix,ne=B.useProgram("debug"),ce=Ft.disabled,ve=Ze.disabled,Oe=B.colorModeForRenderPass(),De="$debug";L.activeTexture.set(H.TEXTURE0),B.emptyTexture.bind(H.LINEAR,H.CLAMP_TO_EDGE),ne.draw(L,H.LINE_STRIP,ce,ve,Oe,Ue.disabled,du($,a.Color.red),De,B.debugBuffer,B.tileBorderIndexBuffer,B.debugSegments);var He=Y.getTileByID(G.key).latestRawTileData,We=He&&He.byteLength||0,rt=Math.floor(We/1024),pt=Y.getTile(G).tileSize,vt=512/Math.min(pt,512)*(G.overscaledZ/B.transform.zoom)*.5,kt=G.canonical.toString();G.overscaledZ!==G.canonical.z&&(kt+=" => "+G.overscaledZ),function(Ot,Et){Ot.initDebugOverlayCanvas();var jt=Ot.debugOverlayCanvas,It=Ot.context.gl,Jt=Ot.debugOverlayCanvas.getContext("2d");Jt.clearRect(0,0,jt.width,jt.height),Jt.shadowColor="white",Jt.shadowBlur=2,Jt.lineWidth=1.5,Jt.strokeStyle="white",Jt.textBaseline="top",Jt.font="bold 36px Open Sans, sans-serif",Jt.fillText(Et,5,5),Jt.strokeText(Et,5,5),Ot.debugOverlayTexture.update(jt),Ot.debugOverlayTexture.bind(It.LINEAR,It.CLAMP_TO_EDGE)}(B,kt+" "+rt+"kb"),ne.draw(L,H.TRIANGLES,ce,ve,Je.alphaBlended,Ue.disabled,du($,a.Color.transparent,vt),De,B.debugBuffer,B.quadTriangleIndexBuffer,B.debugSegments)}var zl={symbol:function(B,Y,G,L,H){if(B.renderPass==="translucent"){var $=Ze.disabled,ne=B.colorModeForRenderPass();G.layout.get("text-variable-anchor")&&function(ce,ve,Oe,De,He,We,rt){for(var pt=ve.transform,vt=He==="map",kt=We==="map",Ot=0,Et=ce;Ot<Et.length;Ot+=1){var jt=Et[Ot],It=De.getTile(jt),Jt=It.getBucket(Oe);if(Jt&&Jt.text&&Jt.text.segments.get().length){var Yt=Jt.textSizeData,Ht=a.evaluateSizeForZoom(Yt,pt.zoom),mn=Xn(It,1,ve.transform.zoom),yn=Ln(jt.posMatrix,kt,vt,ve.transform,mn),In=Oe.layout.get("icon-text-fit")!=="none"&&Jt.hasIconData();if(Ht){var Rn=Math.pow(2,pt.zoom-It.tileID.overscaledZ);Il(Jt,vt,kt,rt,a.symbolSize,pt,yn,jt.posMatrix,Rn,Ht,In)}}}}(L,B,G,Y,G.layout.get("text-rotation-alignment"),G.layout.get("text-pitch-alignment"),H),G.paint.get("icon-opacity").constantOr(1)!==0&&ts(B,Y,G,L,!1,G.paint.get("icon-translate"),G.paint.get("icon-translate-anchor"),G.layout.get("icon-rotation-alignment"),G.layout.get("icon-pitch-alignment"),G.layout.get("icon-keep-upright"),$,ne),G.paint.get("text-opacity").constantOr(1)!==0&&ts(B,Y,G,L,!0,G.paint.get("text-translate"),G.paint.get("text-translate-anchor"),G.layout.get("text-rotation-alignment"),G.layout.get("text-pitch-alignment"),G.layout.get("text-keep-upright"),$,ne),Y.map.showCollisionBoxes&&(Ns(B,Y,G,L,G.paint.get("text-translate"),G.paint.get("text-translate-anchor"),!0),Ns(B,Y,G,L,G.paint.get("icon-translate"),G.paint.get("icon-translate-anchor"),!1))}},circle:function(B,Y,G,L){if(B.renderPass==="translucent"){var H=G.paint.get("circle-opacity"),$=G.paint.get("circle-stroke-width"),ne=G.paint.get("circle-stroke-opacity"),ce=G.layout.get("circle-sort-key").constantOr(1)!==void 0;if(H.constantOr(1)!==0||$.constantOr(1)!==0&&ne.constantOr(1)!==0){for(var ve=B.context,Oe=ve.gl,De=B.depthModeForSublayer(0,Ft.ReadOnly),He=Ze.disabled,We=B.colorModeForRenderPass(),rt=[],pt=0;pt<L.length;pt++){var vt=L[pt],kt=Y.getTile(vt),Ot=kt.getBucket(G);if(Ot){var Et=Ot.programConfigurations.get(G.id),jt={programConfiguration:Et,program:B.useProgram("circle",Et),layoutVertexBuffer:Ot.layoutVertexBuffer,indexBuffer:Ot.indexBuffer,uniformValues:Ol(B,vt,kt,G)};if(ce)for(var It=0,Jt=Ot.segments.get();It<Jt.length;It+=1){var Yt=Jt[It];rt.push({segments:new a.SegmentVector([Yt]),sortKey:Yt.sortKey,state:jt})}else rt.push({segments:Ot.segments,sortKey:0,state:jt})}}ce&&rt.sort(function(_r,Or){return _r.sortKey-Or.sortKey});for(var Ht=0,mn=rt;Ht<mn.length;Ht+=1){var yn=mn[Ht],In=yn.state,Rn=In.programConfiguration,Gn=In.program,Qn=In.layoutVertexBuffer,hr=In.indexBuffer,Zn=In.uniformValues,lr=yn.segments;Gn.draw(ve,Oe.TRIANGLES,De,He,We,Ue.disabled,Zn,G.id,Qn,hr,lr,G.paint,B.transform.zoom,Rn)}}}},heatmap:function(B,Y,G,L){if(G.paint.get("heatmap-opacity")!==0)if(B.renderPass==="offscreen"){var H=B.context,$=H.gl,ne=Ze.disabled,ce=new Je([$.ONE,$.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(vt,kt,Ot){var Et=vt.gl;vt.activeTexture.set(Et.TEXTURE1),vt.viewport.set([0,0,kt.width/4,kt.height/4]);var jt=Ot.heatmapFbo;if(jt)Et.bindTexture(Et.TEXTURE_2D,jt.colorAttachment.get()),vt.bindFramebuffer.set(jt.framebuffer);else{var It=Et.createTexture();Et.bindTexture(Et.TEXTURE_2D,It),Et.texParameteri(Et.TEXTURE_2D,Et.TEXTURE_WRAP_S,Et.CLAMP_TO_EDGE),Et.texParameteri(Et.TEXTURE_2D,Et.TEXTURE_WRAP_T,Et.CLAMP_TO_EDGE),Et.texParameteri(Et.TEXTURE_2D,Et.TEXTURE_MIN_FILTER,Et.LINEAR),Et.texParameteri(Et.TEXTURE_2D,Et.TEXTURE_MAG_FILTER,Et.LINEAR),jt=Ot.heatmapFbo=vt.createFramebuffer(kt.width/4,kt.height/4,!1),function(Jt,Yt,Ht,mn){var yn=Jt.gl,In=Jt.extRenderToTextureHalfFloat?Jt.extTextureHalfFloat.HALF_FLOAT_OES:yn.UNSIGNED_BYTE;yn.texImage2D(yn.TEXTURE_2D,0,yn.RGBA,Yt.width/4,Yt.height/4,0,yn.RGBA,In,null),mn.colorAttachment.set(Ht)}(vt,kt,It,jt)}})(H,B,G),H.clear({color:a.Color.transparent});for(var ve=0;ve<L.length;ve++){var Oe=L[ve];if(!Y.hasRenderableParent(Oe)){var De=Y.getTile(Oe),He=De.getBucket(G);if(He){var We=He.programConfigurations.get(G.id),rt=B.useProgram("heatmap",We),pt=B.transform.zoom;rt.draw(H,$.TRIANGLES,Ft.disabled,ne,ce,Ue.disabled,gu(Oe.posMatrix,De,pt,G.paint.get("heatmap-intensity")),G.id,He.layoutVertexBuffer,He.indexBuffer,He.segments,G.paint,B.transform.zoom,We)}}}H.viewport.set([0,0,B.width,B.height])}else B.renderPass==="translucent"&&(B.context.setColorMode(B.colorModeForRenderPass()),function(vt,kt){var Ot=vt.context,Et=Ot.gl,jt=kt.heatmapFbo;if(jt){Ot.activeTexture.set(Et.TEXTURE0),Et.bindTexture(Et.TEXTURE_2D,jt.colorAttachment.get()),Ot.activeTexture.set(Et.TEXTURE1);var It=kt.colorRampTexture;It||(It=kt.colorRampTexture=new a.Texture(Ot,kt.colorRamp,Et.RGBA)),It.bind(Et.LINEAR,Et.CLAMP_TO_EDGE),vt.useProgram("heatmapTexture").draw(Ot,Et.TRIANGLES,Ft.disabled,Ze.disabled,vt.colorModeForRenderPass(),Ue.disabled,Ou(vt,kt,0,1),kt.id,vt.viewportBuffer,vt.quadTriangleIndexBuffer,vt.viewportSegments,kt.paint,vt.transform.zoom)}}(B,G))},line:function(B,Y,G,L){if(B.renderPass==="translucent"){var H=G.paint.get("line-opacity"),$=G.paint.get("line-width");if(H.constantOr(1)!==0&&$.constantOr(1)!==0)for(var ne=B.depthModeForSublayer(0,Ft.ReadOnly),ce=B.colorModeForRenderPass(),ve=G.paint.get("line-dasharray"),Oe=G.paint.get("line-pattern"),De=Oe.constantOr(1),He=G.paint.get("line-gradient"),We=G.getCrossfadeParameters(),rt=De?"linePattern":ve?"lineSDF":He?"lineGradient":"line",pt=B.context,vt=pt.gl,kt=!0,Ot=0,Et=L;Ot<Et.length;Ot+=1){var jt=Et[Ot],It=Y.getTile(jt);if(!De||It.patternsLoaded()){var Jt=It.getBucket(G);if(Jt){var Yt=Jt.programConfigurations.get(G.id),Ht=B.context.program.get(),mn=B.useProgram(rt,Yt),yn=kt||mn.program!==Ht,In=Oe.constantOr(null);if(In&&It.imageAtlas){var Rn=It.imageAtlas,Gn=Rn.patternPositions[In.to.toString()],Qn=Rn.patternPositions[In.from.toString()];Gn&&Qn&&Yt.setConstantPatternPositions(Gn,Qn)}var hr=De?bs(B,It,G,We):ve?al(B,It,G,ve,We):He?Fs(B,It,G,Jt.lineClipsArray.length):Ao(B,It,G);if(De)pt.activeTexture.set(vt.TEXTURE0),It.imageAtlasTexture.bind(vt.LINEAR,vt.CLAMP_TO_EDGE),Yt.updatePaintBuffers(We);else if(ve&&(yn||B.lineAtlas.dirty))pt.activeTexture.set(vt.TEXTURE0),B.lineAtlas.bind(pt);else if(He){var Zn=Jt.gradients[G.id],lr=Zn.texture;if(G.gradientVersion!==Zn.version){var _r=256;if(G.stepInterpolant){var Or=Y.getSource().maxzoom,$n=jt.canonical.z===Or?Math.ceil(1<<B.transform.maxZoom-jt.canonical.z):1,sr=Jt.maxLineLength/a.EXTENT*1024*$n;_r=a.clamp(a.nextPowerOfTwo(sr),256,pt.maxTextureSize)}Zn.gradient=a.renderColorRamp({expression:G.gradientExpression(),evaluationKey:"lineProgress",resolution:_r,image:Zn.gradient||void 0,clips:Jt.lineClipsArray}),Zn.texture?Zn.texture.update(Zn.gradient):Zn.texture=new a.Texture(pt,Zn.gradient,vt.RGBA),Zn.version=G.gradientVersion,lr=Zn.texture}pt.activeTexture.set(vt.TEXTURE0),lr.bind(G.stepInterpolant?vt.NEAREST:vt.LINEAR,vt.CLAMP_TO_EDGE)}mn.draw(pt,vt.TRIANGLES,ne,B.stencilModeForClipping(jt),ce,Ue.disabled,hr,G.id,Jt.layoutVertexBuffer,Jt.indexBuffer,Jt.segments,G.paint,B.transform.zoom,Yt,Jt.layoutVertexBuffer2),kt=!1}}}}},fill:function(B,Y,G,L){var H=G.paint.get("fill-color"),$=G.paint.get("fill-opacity");if($.constantOr(1)!==0){var ne=B.colorModeForRenderPass(),ce=G.paint.get("fill-pattern"),ve=B.opaquePassEnabledForLayer()&&!ce.constantOr(1)&&H.constantOr(a.Color.transparent).a===1&&$.constantOr(0)===1?"opaque":"translucent";if(B.renderPass===ve){var Oe=B.depthModeForSublayer(1,B.renderPass==="opaque"?Ft.ReadWrite:Ft.ReadOnly);jo(B,Y,G,L,Oe,ne,!1)}if(B.renderPass==="translucent"&&G.paint.get("fill-antialias")){var De=B.depthModeForSublayer(G.getPaintProperty("fill-outline-color")?2:0,Ft.ReadOnly);jo(B,Y,G,L,De,ne,!0)}}},"fill-extrusion":function(B,Y,G,L){var H=G.paint.get("fill-extrusion-opacity");if(H!==0&&B.renderPass==="translucent"){var $=new Ft(B.context.gl.LEQUAL,Ft.ReadWrite,B.depthRangeFor3D);if(H!==1||G.paint.get("fill-extrusion-pattern").constantOr(1))ho(B,Y,G,L,$,Ze.disabled,Je.disabled),ho(B,Y,G,L,$,B.stencilModeFor3D(),B.colorModeForRenderPass());else{var ne=B.colorModeForRenderPass();ho(B,Y,G,L,$,Ze.disabled,ne)}}},hillshade:function(B,Y,G,L){if(B.renderPass==="offscreen"||B.renderPass==="translucent"){for(var H=B.context,$=B.depthModeForSublayer(0,Ft.ReadOnly),ne=B.colorModeForRenderPass(),ce=B.renderPass==="translucent"?B.stencilConfigForOverlap(L):[{},L],ve=ce[0],Oe=0,De=ce[1];Oe<De.length;Oe+=1){var He=De[Oe],We=Y.getTile(He);We.needsHillshadePrepare&&B.renderPass==="offscreen"?mu(B,We,G,$,Ze.disabled,ne):B.renderPass==="translucent"&&js(B,We,G,$,ve[He.overscaledZ],ne)}H.viewport.set([0,0,B.width,B.height])}},raster:function(B,Y,G,L){if(B.renderPass==="translucent"&&G.paint.get("raster-opacity")!==0&&L.length)for(var H=B.context,$=H.gl,ne=Y.getSource(),ce=B.useProgram("raster"),ve=B.colorModeForRenderPass(),Oe=ne instanceof F?[{},L]:B.stencilConfigForOverlap(L),De=Oe[0],He=Oe[1],We=He[He.length-1].overscaledZ,rt=!B.options.moving,pt=0,vt=He;pt<vt.length;pt+=1){var kt=vt[pt],Ot=B.depthModeForSublayer(kt.overscaledZ-We,G.paint.get("raster-opacity")===1?Ft.ReadWrite:Ft.ReadOnly,$.LESS),Et=Y.getTile(kt),jt=B.transform.calculatePosMatrix(kt.toUnwrapped(),rt);Et.registerFadeDuration(G.paint.get("raster-fade-duration"));var It=Y.findLoadedParent(kt,0),Jt=ol(Et,It,Y,G,B.transform),Yt=void 0,Ht=void 0,mn=G.paint.get("raster-resampling")==="nearest"?$.NEAREST:$.LINEAR;H.activeTexture.set($.TEXTURE0),Et.texture.bind(mn,$.CLAMP_TO_EDGE,$.LINEAR_MIPMAP_NEAREST),H.activeTexture.set($.TEXTURE1),It?(It.texture.bind(mn,$.CLAMP_TO_EDGE,$.LINEAR_MIPMAP_NEAREST),Yt=Math.pow(2,It.tileID.overscaledZ-Et.tileID.overscaledZ),Ht=[Et.tileID.canonical.x*Yt%1,Et.tileID.canonical.y*Yt%1]):Et.texture.bind(mn,$.CLAMP_TO_EDGE,$.LINEAR_MIPMAP_NEAREST);var yn=Xl(jt,Ht||[0,0],Yt||1,Jt,G);ne instanceof F?ce.draw(H,$.TRIANGLES,Ot,Ze.disabled,ve,Ue.disabled,yn,G.id,ne.boundsBuffer,B.quadTriangleIndexBuffer,ne.boundsSegments):ce.draw(H,$.TRIANGLES,Ot,De[kt.overscaledZ],ve,Ue.disabled,yn,G.id,B.rasterBoundsBuffer,B.quadTriangleIndexBuffer,B.rasterBoundsSegments)}},background:function(B,Y,G){var L=G.paint.get("background-color"),H=G.paint.get("background-opacity");if(H!==0){var $=B.context,ne=$.gl,ce=B.transform,ve=ce.tileSize,Oe=G.paint.get("background-pattern");if(!B.isPatternMissing(Oe)){var De=!Oe&&L.a===1&&H===1&&B.opaquePassEnabledForLayer()?"opaque":"translucent";if(B.renderPass===De){var He=Ze.disabled,We=B.depthModeForSublayer(0,De==="opaque"?Ft.ReadWrite:Ft.ReadOnly),rt=B.colorModeForRenderPass(),pt=B.useProgram(Oe?"backgroundPattern":"background"),vt=ce.coveringTiles({tileSize:ve});Oe&&($.activeTexture.set(ne.TEXTURE0),B.imageManager.bind(B.context));for(var kt=G.getCrossfadeParameters(),Ot=0,Et=vt;Ot<Et.length;Ot+=1){var jt=Et[Ot],It=B.transform.calculatePosMatrix(jt.toUnwrapped()),Jt=Oe?Iu(It,H,B,Oe,{tileID:jt,tileSize:ve},kt):Bs(It,H,L);pt.draw($,ne.TRIANGLES,We,He,rt,Ue.disabled,Jt,G.id,B.tileExtentBuffer,B.quadTriangleIndexBuffer,B.tileExtentSegments)}}}}},debug:function(B,Y,G){for(var L=0;L<G.length;L++)sl(B,Y,G[L])},custom:function(B,Y,G){var L=B.context,H=G.implementation;if(B.renderPass==="offscreen"){var $=H.prerender;$&&(B.setCustomLayerDefaults(),L.setColorMode(B.colorModeForRenderPass()),$.call(H,L.gl,B.transform.customLayerMatrix()),L.setDirty(),B.setBaseState())}else if(B.renderPass==="translucent"){B.setCustomLayerDefaults(),L.setColorMode(B.colorModeForRenderPass()),L.setStencilMode(Ze.disabled);var ne=H.renderingMode==="3d"?new Ft(B.context.gl.LEQUAL,Ft.ReadWrite,B.depthRangeFor3D):B.depthModeForSublayer(0,Ft.ReadOnly);L.setDepthMode(ne),H.render(L.gl,B.transform.customLayerMatrix()),L.setDirty(),B.setBaseState(),L.bindFramebuffer.set(null)}}},pi=function(B,Y){this.context=new Xe(B),this.transform=Y,this._tileTextures={},this.setup(),this.numSublayers=lt.maxUnderzooming+lt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Wn,this.gpuTimers={}};pi.prototype.resize=function(B,Y){if(this.width=B*a.browser.devicePixelRatio,this.height=Y*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var G=0,L=this.style._order;G<L.length;G+=1){var H=L[G];this.style._layers[H].resize()}},pi.prototype.setup=function(){var B=this.context,Y=new a.StructArrayLayout2i4;Y.emplaceBack(0,0),Y.emplaceBack(a.EXTENT,0),Y.emplaceBack(0,a.EXTENT),Y.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=B.createVertexBuffer(Y,ur.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var G=new a.StructArrayLayout2i4;G.emplaceBack(0,0),G.emplaceBack(a.EXTENT,0),G.emplaceBack(0,a.EXTENT),G.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=B.createVertexBuffer(G,ur.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var L=new a.StructArrayLayout4i8;L.emplaceBack(0,0,0,0),L.emplaceBack(a.EXTENT,0,a.EXTENT,0),L.emplaceBack(0,a.EXTENT,0,a.EXTENT),L.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=B.createVertexBuffer(L,Z.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var H=new a.StructArrayLayout2i4;H.emplaceBack(0,0),H.emplaceBack(1,0),H.emplaceBack(0,1),H.emplaceBack(1,1),this.viewportBuffer=B.createVertexBuffer(H,ur.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var $=new a.StructArrayLayout1ui2;$.emplaceBack(0),$.emplaceBack(1),$.emplaceBack(3),$.emplaceBack(2),$.emplaceBack(0),this.tileBorderIndexBuffer=B.createIndexBuffer($);var ne=new a.StructArrayLayout3ui6;ne.emplaceBack(0,1,2),ne.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=B.createIndexBuffer(ne),this.emptyTexture=new a.Texture(B,{width:1,height:1,data:new Uint8Array([0,0,0,0])},B.gl.RGBA);var ce=this.context.gl;this.stencilClearMode=new Ze({func:ce.ALWAYS,mask:0},0,255,ce.ZERO,ce.ZERO,ce.ZERO)},pi.prototype.clearStencil=function(){var B=this.context,Y=B.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var G=a.create();a.ortho(G,0,this.width,this.height,0,0,1),a.scale(G,G,[Y.drawingBufferWidth,Y.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(B,Y.TRIANGLES,Ft.disabled,this.stencilClearMode,Je.disabled,Ue.disabled,ys(G),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},pi.prototype._renderTileClippingMasks=function(B,Y){if(this.currentStencilSource!==B.source&&B.isTileClipped()&&Y&&Y.length){this.currentStencilSource=B.source;var G=this.context,L=G.gl;this.nextStencilID+Y.length>256&&this.clearStencil(),G.setColorMode(Je.disabled),G.setDepthMode(Ft.disabled);var H=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var $=0,ne=Y;$<ne.length;$+=1){var ce=ne[$],ve=this._tileClippingMaskIDs[ce.key]=this.nextStencilID++;H.draw(G,L.TRIANGLES,Ft.disabled,new Ze({func:L.ALWAYS,mask:0},ve,255,L.KEEP,L.KEEP,L.REPLACE),Je.disabled,Ue.disabled,ys(ce.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},pi.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var B=this.nextStencilID++,Y=this.context.gl;return new Ze({func:Y.NOTEQUAL,mask:255},B,255,Y.KEEP,Y.KEEP,Y.REPLACE)},pi.prototype.stencilModeForClipping=function(B){var Y=this.context.gl;return new Ze({func:Y.EQUAL,mask:255},this._tileClippingMaskIDs[B.key],0,Y.KEEP,Y.KEEP,Y.REPLACE)},pi.prototype.stencilConfigForOverlap=function(B){var Y,G=this.context.gl,L=B.sort(function(ve,Oe){return Oe.overscaledZ-ve.overscaledZ}),H=L[L.length-1].overscaledZ,$=L[0].overscaledZ-H+1;if($>1){this.currentStencilSource=void 0,this.nextStencilID+$>256&&this.clearStencil();for(var ne={},ce=0;ce<$;ce++)ne[ce+H]=new Ze({func:G.GEQUAL,mask:255},ce+this.nextStencilID,255,G.KEEP,G.KEEP,G.REPLACE);return this.nextStencilID+=$,[ne,L]}return[(Y={},Y[H]=Ze.disabled,Y),L]},pi.prototype.colorModeForRenderPass=function(){var B=this.context.gl;if(this._showOverdrawInspector){var Y=.125;return new Je([B.CONSTANT_COLOR,B.ONE],new a.Color(Y,Y,Y,0),[!0,!0,!0,!0])}return this.renderPass==="opaque"?Je.unblended:Je.alphaBlended},pi.prototype.depthModeForSublayer=function(B,Y,G){if(!this.opaquePassEnabledForLayer())return Ft.disabled;var L=1-((1+this.currentLayer)*this.numSublayers+B)*this.depthEpsilon;return new Ft(G||this.context.gl.LEQUAL,Y,[L,L])},pi.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},pi.prototype.render=function(B,Y){var G=this;this.style=B,this.options=Y,this.lineAtlas=B.lineAtlas,this.imageManager=B.imageManager,this.glyphManager=B.glyphManager,this.symbolFadeChange=B.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var L=this.style._order,H=this.style.sourceCaches;for(var $ in H){var ne=H[$];ne.used&&ne.prepare(this.context)}var ce,ve,Oe={},De={},He={};for(var We in H){var rt=H[We];Oe[We]=rt.getVisibleCoordinates(),De[We]=Oe[We].slice().reverse(),He[We]=rt.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var pt=0;pt<L.length;pt++){var vt=L[pt];if(this.style._layers[vt].is3D()){this.opaquePassCutoff=pt;break}}this.renderPass="offscreen";for(var kt=0,Ot=L;kt<Ot.length;kt+=1){var Et=Ot[kt],jt=this.style._layers[Et];if(jt.hasOffscreenPass()&&!jt.isHidden(this.transform.zoom)){var It=De[jt.source];(jt.type==="custom"||It.length)&&this.renderLayer(this,H[jt.source],jt,It)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:Y.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=Y.showOverdrawInspector,this.depthRangeFor3D=[0,1-(B._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=L.length-1;this.currentLayer>=0;this.currentLayer--){var Jt=this.style._layers[L[this.currentLayer]],Yt=H[Jt.source],Ht=Oe[Jt.source];this._renderTileClippingMasks(Jt,Ht),this.renderLayer(this,Yt,Jt,Ht)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<L.length;this.currentLayer++){var mn=this.style._layers[L[this.currentLayer]],yn=H[mn.source],In=(mn.type==="symbol"?He:De)[mn.source];this._renderTileClippingMasks(mn,Oe[mn.source]),this.renderLayer(this,yn,mn,In)}this.options.showTileBoundaries&&(a.values(this.style._layers).forEach(function(Rn){Rn.source&&!Rn.isHidden(G.transform.zoom)&&(Rn.source!==(ve&&ve.id)&&(ve=G.style.sourceCaches[Rn.source]),(!ce||ce.getSource().maxzoom<ve.getSource().maxzoom)&&(ce=ve))}),ce&&zl.debug(this,ce,ce.getVisibleCoordinates())),this.options.showPadding&&Ts(this),this.context.setDefault()},pi.prototype.renderLayer=function(B,Y,G,L){G.isHidden(this.transform.zoom)||(G.type==="background"||G.type==="custom"||L.length)&&(this.id=G.id,this.gpuTimingStart(G),zl[G.type](B,Y,G,L,this.style.placement.variableOffsets),this.gpuTimingEnd())},pi.prototype.gpuTimingStart=function(B){if(this.options.gpuTiming){var Y=this.context.extTimerQuery,G=this.gpuTimers[B.id];G||(G=this.gpuTimers[B.id]={calls:0,cpuTime:0,query:Y.createQueryEXT()}),G.calls++,Y.beginQueryEXT(Y.TIME_ELAPSED_EXT,G.query)}},pi.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var B=this.context.extTimerQuery;B.endQueryEXT(B.TIME_ELAPSED_EXT)}},pi.prototype.collectGpuTimers=function(){var B=this.gpuTimers;return this.gpuTimers={},B},pi.prototype.queryGpuTimers=function(B){var Y={};for(var G in B){var L=B[G],H=this.context.extTimerQuery,$=H.getQueryObjectEXT(L.query,H.QUERY_RESULT_EXT)/1e6;H.deleteQueryEXT(L.query),Y[G]=$}return Y},pi.prototype.translatePosMatrix=function(B,Y,G,L,H){if(!G[0]&&!G[1])return B;var $=H?L==="map"?this.transform.angle:0:L==="viewport"?-this.transform.angle:0;if($){var ne=Math.sin($),ce=Math.cos($);G=[G[0]*ce-G[1]*ne,G[0]*ne+G[1]*ce]}var ve=[H?G[0]:Xn(Y,G[0],this.transform.zoom),H?G[1]:Xn(Y,G[1],this.transform.zoom),0],Oe=new Float32Array(16);return a.translate(Oe,B,ve),Oe},pi.prototype.saveTileTexture=function(B){var Y=this._tileTextures[B.size[0]];Y?Y.push(B):this._tileTextures[B.size[0]]=[B]},pi.prototype.getTileTexture=function(B){var Y=this._tileTextures[B];return Y&&Y.length>0?Y.pop():null},pi.prototype.isPatternMissing=function(B){if(!B)return!1;if(!B.from||!B.to)return!0;var Y=this.imageManager.getPattern(B.from.toString()),G=this.imageManager.getPattern(B.to.toString());return!Y||!G},pi.prototype.useProgram=function(B,Y){this.cache=this.cache||{};var G=""+B+(Y?Y.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[G]||(this.cache[G]=new co(this.context,B,ia[B],Y,Pl[B],this._showOverdrawInspector)),this.cache[G]},pi.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},pi.prototype.setBaseState=function(){var B=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(B.FUNC_ADD)},pi.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var B=this.context.gl;this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,B.RGBA)}},pi.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var ns=function(B,Y){this.points=B,this.planes=Y};ns.fromInvProjectionMatrix=function(B,Y,G){var L=Math.pow(2,G),H=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(ne){return a.transformMat4([],ne,B)}).map(function(ne){return a.scale$1([],ne,1/ne[3]/Y*L)}),$=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(ne){var ce=a.sub([],H[ne[0]],H[ne[1]]),ve=a.sub([],H[ne[2]],H[ne[1]]),Oe=a.normalize([],a.cross([],ce,ve)),De=-a.dot(Oe,H[ne[1]]);return Oe.concat(De)});return new ns(H,$)};var ya=function(B,Y){this.min=B,this.max=Y,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};ya.prototype.quadrant=function(B){for(var Y=[B%2==0,B<2],G=a.clone$2(this.min),L=a.clone$2(this.max),H=0;H<Y.length;H++)G[H]=Y[H]?this.min[H]:this.center[H],L[H]=Y[H]?this.center[H]:this.max[H];return L[2]=this.max[2],new ya(G,L)},ya.prototype.distanceX=function(B){return Math.max(Math.min(this.max[0],B[0]),this.min[0])-B[0]},ya.prototype.distanceY=function(B){return Math.max(Math.min(this.max[1],B[1]),this.min[1])-B[1]},ya.prototype.intersects=function(B){for(var Y=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],G=!0,L=0;L<B.planes.length;L++){for(var H=B.planes[L],$=0,ne=0;ne<Y.length;ne++)$+=a.dot$1(H,Y[ne])>=0;if($===0)return 0;$!==Y.length&&(G=!1)}if(G)return 2;for(var ce=0;ce<3;ce++){for(var ve=Number.MAX_VALUE,Oe=-Number.MAX_VALUE,De=0;De<B.points.length;De++){var He=B.points[De][ce]-this.min[ce];ve=Math.min(ve,He),Oe=Math.max(Oe,He)}if(Oe<0||ve>this.max[ce]-this.min[ce])return 0}return 1};var po=function(B,Y,G,L){if(B===void 0&&(B=0),Y===void 0&&(Y=0),G===void 0&&(G=0),L===void 0&&(L=0),isNaN(B)||B<0||isNaN(Y)||Y<0||isNaN(G)||G<0||isNaN(L)||L<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=B,this.bottom=Y,this.left=G,this.right=L};po.prototype.interpolate=function(B,Y,G){return Y.top!=null&&B.top!=null&&(this.top=a.number(B.top,Y.top,G)),Y.bottom!=null&&B.bottom!=null&&(this.bottom=a.number(B.bottom,Y.bottom,G)),Y.left!=null&&B.left!=null&&(this.left=a.number(B.left,Y.left,G)),Y.right!=null&&B.right!=null&&(this.right=a.number(B.right,Y.right,G)),this},po.prototype.getCenter=function(B,Y){var G=a.clamp((this.left+B-this.right)/2,0,B),L=a.clamp((this.top+Y-this.bottom)/2,0,Y);return new a.Point(G,L)},po.prototype.equals=function(B){return this.top===B.top&&this.bottom===B.bottom&&this.left===B.left&&this.right===B.right},po.prototype.clone=function(){return new po(this.top,this.bottom,this.left,this.right)},po.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var ai=function(B,Y,G,L,H){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=H===void 0||H,this._minZoom=B||0,this._maxZoom=Y||22,this._minPitch=G??0,this._maxPitch=L??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new po,this._posMatrixCache={},this._alignedPosMatrixCache={}},fi={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};ai.prototype.clone=function(){var B=new ai(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return B.tileSize=this.tileSize,B.latRange=this.latRange,B.width=this.width,B.height=this.height,B._center=this._center,B.zoom=this.zoom,B.angle=this.angle,B._fov=this._fov,B._pitch=this._pitch,B._unmodified=this._unmodified,B._edgeInsets=this._edgeInsets.clone(),B._calcMatrices(),B},fi.minZoom.get=function(){return this._minZoom},fi.minZoom.set=function(B){this._minZoom!==B&&(this._minZoom=B,this.zoom=Math.max(this.zoom,B))},fi.maxZoom.get=function(){return this._maxZoom},fi.maxZoom.set=function(B){this._maxZoom!==B&&(this._maxZoom=B,this.zoom=Math.min(this.zoom,B))},fi.minPitch.get=function(){return this._minPitch},fi.minPitch.set=function(B){this._minPitch!==B&&(this._minPitch=B,this.pitch=Math.max(this.pitch,B))},fi.maxPitch.get=function(){return this._maxPitch},fi.maxPitch.set=function(B){this._maxPitch!==B&&(this._maxPitch=B,this.pitch=Math.min(this.pitch,B))},fi.renderWorldCopies.get=function(){return this._renderWorldCopies},fi.renderWorldCopies.set=function(B){B===void 0?B=!0:B===null&&(B=!1),this._renderWorldCopies=B},fi.worldSize.get=function(){return this.tileSize*this.scale},fi.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},fi.size.get=function(){return new a.Point(this.width,this.height)},fi.bearing.get=function(){return-this.angle/Math.PI*180},fi.bearing.set=function(B){var Y=-a.wrap(B,-180,180)*Math.PI/180;this.angle!==Y&&(this._unmodified=!1,this.angle=Y,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},fi.pitch.get=function(){return this._pitch/Math.PI*180},fi.pitch.set=function(B){var Y=a.clamp(B,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==Y&&(this._unmodified=!1,this._pitch=Y,this._calcMatrices())},fi.fov.get=function(){return this._fov/Math.PI*180},fi.fov.set=function(B){B=Math.max(.01,Math.min(60,B)),this._fov!==B&&(this._unmodified=!1,this._fov=B/180*Math.PI,this._calcMatrices())},fi.zoom.get=function(){return this._zoom},fi.zoom.set=function(B){var Y=Math.min(Math.max(B,this.minZoom),this.maxZoom);this._zoom!==Y&&(this._unmodified=!1,this._zoom=Y,this.scale=this.zoomScale(Y),this.tileZoom=Math.floor(Y),this.zoomFraction=Y-this.tileZoom,this._constrain(),this._calcMatrices())},fi.center.get=function(){return this._center},fi.center.set=function(B){B.lat===this._center.lat&&B.lng===this._center.lng||(this._unmodified=!1,this._center=B,this._constrain(),this._calcMatrices())},fi.padding.get=function(){return this._edgeInsets.toJSON()},fi.padding.set=function(B){this._edgeInsets.equals(B)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,B,1),this._calcMatrices())},fi.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},ai.prototype.isPaddingEqual=function(B){return this._edgeInsets.equals(B)},ai.prototype.interpolatePadding=function(B,Y,G){this._unmodified=!1,this._edgeInsets.interpolate(B,Y,G),this._constrain(),this._calcMatrices()},ai.prototype.coveringZoomLevel=function(B){var Y=(B.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/B.tileSize));return Math.max(0,Y)},ai.prototype.getVisibleUnwrappedCoordinates=function(B){var Y=[new a.UnwrappedTileID(0,B)];if(this._renderWorldCopies)for(var G=this.pointCoordinate(new a.Point(0,0)),L=this.pointCoordinate(new a.Point(this.width,0)),H=this.pointCoordinate(new a.Point(this.width,this.height)),$=this.pointCoordinate(new a.Point(0,this.height)),ne=Math.floor(Math.min(G.x,L.x,H.x,$.x)),ce=Math.floor(Math.max(G.x,L.x,H.x,$.x)),ve=ne-1;ve<=ce+1;ve++)ve!==0&&Y.push(new a.UnwrappedTileID(ve,B));return Y},ai.prototype.coveringTiles=function(B){var Y=this.coveringZoomLevel(B),G=Y;if(B.minzoom!==void 0&&Y<B.minzoom)return[];B.maxzoom!==void 0&&Y>B.maxzoom&&(Y=B.maxzoom);var L=a.MercatorCoordinate.fromLngLat(this.center),H=Math.pow(2,Y),$=[H*L.x,H*L.y,0],ne=ns.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,Y),ce=B.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(ce=Y);var ve=function(In){return{aabb:new ya([In*H,0,0],[(In+1)*H,H,0]),zoom:0,x:0,y:0,wrap:In,fullyVisible:!1}},Oe=[],De=[],He=Y,We=B.reparseOverscaled?G:Y;if(this._renderWorldCopies)for(var rt=1;rt<=3;rt++)Oe.push(ve(-rt)),Oe.push(ve(rt));for(Oe.push(ve(0));Oe.length>0;){var pt=Oe.pop(),vt=pt.x,kt=pt.y,Ot=pt.fullyVisible;if(!Ot){var Et=pt.aabb.intersects(ne);if(Et===0)continue;Ot=Et===2}var jt=pt.aabb.distanceX($),It=pt.aabb.distanceY($),Jt=Math.max(Math.abs(jt),Math.abs(It)),Yt=3+(1<<He-pt.zoom)-2;if(pt.zoom===He||Jt>Yt&&pt.zoom>=ce)De.push({tileID:new a.OverscaledTileID(pt.zoom===He?We:pt.zoom,pt.wrap,pt.zoom,vt,kt),distanceSq:a.sqrLen([$[0]-.5-vt,$[1]-.5-kt])});else for(var Ht=0;Ht<4;Ht++){var mn=(vt<<1)+Ht%2,yn=(kt<<1)+(Ht>>1);Oe.push({aabb:pt.aabb.quadrant(Ht),zoom:pt.zoom+1,x:mn,y:yn,wrap:pt.wrap,fullyVisible:Ot})}}return De.sort(function(In,Rn){return In.distanceSq-Rn.distanceSq}).map(function(In){return In.tileID})},ai.prototype.resize=function(B,Y){this.width=B,this.height=Y,this.pixelsToGLUnits=[2/B,-2/Y],this._constrain(),this._calcMatrices()},fi.unmodified.get=function(){return this._unmodified},ai.prototype.zoomScale=function(B){return Math.pow(2,B)},ai.prototype.scaleZoom=function(B){return Math.log(B)/Math.LN2},ai.prototype.project=function(B){var Y=a.clamp(B.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(B.lng)*this.worldSize,a.mercatorYfromLat(Y)*this.worldSize)},ai.prototype.unproject=function(B){return new a.MercatorCoordinate(B.x/this.worldSize,B.y/this.worldSize).toLngLat()},fi.point.get=function(){return this.project(this.center)},ai.prototype.setLocationAtPoint=function(B,Y){var G=this.pointCoordinate(Y),L=this.pointCoordinate(this.centerPoint),H=this.locationCoordinate(B),$=new a.MercatorCoordinate(H.x-(G.x-L.x),H.y-(G.y-L.y));this.center=this.coordinateLocation($),this._renderWorldCopies&&(this.center=this.center.wrap())},ai.prototype.locationPoint=function(B){return this.coordinatePoint(this.locationCoordinate(B))},ai.prototype.pointLocation=function(B){return this.coordinateLocation(this.pointCoordinate(B))},ai.prototype.locationCoordinate=function(B){return a.MercatorCoordinate.fromLngLat(B)},ai.prototype.coordinateLocation=function(B){return B.toLngLat()},ai.prototype.pointCoordinate=function(B){var Y=[B.x,B.y,0,1],G=[B.x,B.y,1,1];a.transformMat4(Y,Y,this.pixelMatrixInverse),a.transformMat4(G,G,this.pixelMatrixInverse);var L=Y[3],H=G[3],$=Y[0]/L,ne=G[0]/H,ce=Y[1]/L,ve=G[1]/H,Oe=Y[2]/L,De=G[2]/H,He=Oe===De?0:(0-Oe)/(De-Oe);return new a.MercatorCoordinate(a.number($,ne,He)/this.worldSize,a.number(ce,ve,He)/this.worldSize)},ai.prototype.coordinatePoint=function(B){var Y=[B.x*this.worldSize,B.y*this.worldSize,0,1];return a.transformMat4(Y,Y,this.pixelMatrix),new a.Point(Y[0]/Y[3],Y[1]/Y[3])},ai.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},ai.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},ai.prototype.setMaxBounds=function(B){B?(this.lngRange=[B.getWest(),B.getEast()],this.latRange=[B.getSouth(),B.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},ai.prototype.calculatePosMatrix=function(B,Y){Y===void 0&&(Y=!1);var G=B.key,L=Y?this._alignedPosMatrixCache:this._posMatrixCache;if(L[G])return L[G];var H=B.canonical,$=this.worldSize/this.zoomScale(H.z),ne=H.x+Math.pow(2,H.z)*B.wrap,ce=a.identity(new Float64Array(16));return a.translate(ce,ce,[ne*$,H.y*$,0]),a.scale(ce,ce,[$/a.EXTENT,$/a.EXTENT,1]),a.multiply(ce,Y?this.alignedProjMatrix:this.projMatrix,ce),L[G]=new Float32Array(ce),L[G]},ai.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},ai.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var B,Y,G,L,H=-90,$=90,ne=-180,ce=180,ve=this.size,Oe=this._unmodified;if(this.latRange){var De=this.latRange;H=a.mercatorYfromLat(De[1])*this.worldSize,B=($=a.mercatorYfromLat(De[0])*this.worldSize)-H<ve.y?ve.y/($-H):0}if(this.lngRange){var He=this.lngRange;ne=a.mercatorXfromLng(He[0])*this.worldSize,Y=(ce=a.mercatorXfromLng(He[1])*this.worldSize)-ne<ve.x?ve.x/(ce-ne):0}var We=this.point,rt=Math.max(Y||0,B||0);if(rt)return this.center=this.unproject(new a.Point(Y?(ce+ne)/2:We.x,B?($+H)/2:We.y)),this.zoom+=this.scaleZoom(rt),this._unmodified=Oe,void(this._constraining=!1);if(this.latRange){var pt=We.y,vt=ve.y/2;pt-vt<H&&(L=H+vt),pt+vt>$&&(L=$-vt)}if(this.lngRange){var kt=We.x,Ot=ve.x/2;kt-Ot<ne&&(G=ne+Ot),kt+Ot>ce&&(G=ce-Ot)}G===void 0&&L===void 0||(this.center=this.unproject(new a.Point(G!==void 0?G:We.x,L!==void 0?L:We.y))),this._unmodified=Oe,this._constraining=!1}},ai.prototype._calcMatrices=function(){if(this.height){var B=this._fov/2,Y=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(B)*this.height;var G=Math.PI/2+this._pitch,L=this._fov*(.5+Y.y/this.height),H=Math.sin(L)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-G-L,.01,Math.PI-.01)),$=this.point,ne=$.x,ce=$.y,ve=1.01*(Math.cos(Math.PI/2-this._pitch)*H+this.cameraToCenterDistance),Oe=this.height/50,De=new Float64Array(16);a.perspective(De,this._fov,this.width/this.height,Oe,ve),De[8]=2*-Y.x/this.width,De[9]=2*Y.y/this.height,a.scale(De,De,[1,-1,1]),a.translate(De,De,[0,0,-this.cameraToCenterDistance]),a.rotateX(De,De,this._pitch),a.rotateZ(De,De,this.angle),a.translate(De,De,[-ne,-ce,0]),this.mercatorMatrix=a.scale([],De,[this.worldSize,this.worldSize,this.worldSize]),a.scale(De,De,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=De,this.invProjMatrix=a.invert([],this.projMatrix);var He=this.width%2/2,We=this.height%2/2,rt=Math.cos(this.angle),pt=Math.sin(this.angle),vt=ne-Math.round(ne)+rt*He+pt*We,kt=ce-Math.round(ce)+rt*We+pt*He,Ot=new Float64Array(De);if(a.translate(Ot,Ot,[vt>.5?vt-1:vt,kt>.5?kt-1:kt,0]),this.alignedProjMatrix=Ot,De=a.create(),a.scale(De,De,[this.width/2,-this.height/2,1]),a.translate(De,De,[1,-1,0]),this.labelPlaneMatrix=De,De=a.create(),a.scale(De,De,[1,-1,1]),a.translate(De,De,[-1,-1,0]),a.scale(De,De,[2/this.width,2/this.height,1]),this.glCoordMatrix=De,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(De=a.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=De,this._posMatrixCache={},this._alignedPosMatrixCache={}}},ai.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var B=this.pointCoordinate(new a.Point(0,0)),Y=[B.x*this.worldSize,B.y*this.worldSize,0,1];return a.transformMat4(Y,Y,this.pixelMatrix)[3]/this.cameraToCenterDistance},ai.prototype.getCameraPoint=function(){var B=this._pitch,Y=Math.tan(B)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,Y))},ai.prototype.getCameraQueryGeometry=function(B){var Y=this.getCameraPoint();if(B.length===1)return[B[0],Y];for(var G=Y.x,L=Y.y,H=Y.x,$=Y.y,ne=0,ce=B;ne<ce.length;ne+=1){var ve=ce[ne];G=Math.min(G,ve.x),L=Math.min(L,ve.y),H=Math.max(H,ve.x),$=Math.max($,ve.y)}return[new a.Point(G,L),new a.Point(H,L),new a.Point(H,$),new a.Point(G,$),new a.Point(G,L)]},Object.defineProperties(ai.prototype,fi);var Za=function(B){var Y,G,L,H,$;this._hashName=B&&encodeURIComponent(B),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(Y=this._updateHashUnthrottled.bind(this),G=300,L=!1,H=null,$=function(){H=null,L&&(Y(),H=setTimeout($,G),L=!1)},function(){return L=!0,H||$(),H})};Za.prototype.addTo=function(B){return this._map=B,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Za.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Za.prototype.getHashString=function(B){var Y=this._map.getCenter(),G=Math.round(100*this._map.getZoom())/100,L=Math.ceil((G*Math.LN2+Math.log(512/360/.5))/Math.LN10),H=Math.pow(10,L),$=Math.round(Y.lng*H)/H,ne=Math.round(Y.lat*H)/H,ce=this._map.getBearing(),ve=this._map.getPitch(),Oe="";if(Oe+=B?"/"+$+"/"+ne+"/"+G:G+"/"+ne+"/"+$,(ce||ve)&&(Oe+="/"+Math.round(10*ce)/10),ve&&(Oe+="/"+Math.round(ve)),this._hashName){var De=this._hashName,He=!1,We=a.window.location.hash.slice(1).split("&").map(function(rt){var pt=rt.split("=")[0];return pt===De?(He=!0,pt+"="+Oe):rt}).filter(function(rt){return rt});return He||We.push(De+"="+Oe),"#"+We.join("&")}return"#"+Oe},Za.prototype._getCurrentHash=function(){var B,Y=this,G=a.window.location.hash.replace("#","");return this._hashName?(G.split("&").map(function(L){return L.split("=")}).forEach(function(L){L[0]===Y._hashName&&(B=L)}),(B&&B[1]||"").split("/")):G.split("/")},Za.prototype._onHashChange=function(){var B=this._getCurrentHash();if(B.length>=3&&!B.some(function(G){return isNaN(G)})){var Y=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(B[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+B[2],+B[1]],zoom:+B[0],bearing:Y,pitch:+(B[4]||0)}),!0}return!1},Za.prototype._updateHashUnthrottled=function(){var B=a.window.location.href.replace(/(#.+)?$/,this.getHashString());try{a.window.history.replaceState(a.window.history.state,null,B)}catch{}};var Hs={linearity:.3,easing:a.bezier(0,0,.3,1)},ll=a.extend({deceleration:2500,maxSpeed:1400},Hs),Fl=a.extend({deceleration:20,maxSpeed:1400},Hs),ul=a.extend({deceleration:1e3,maxSpeed:360},Hs),cl=a.extend({deceleration:1e3,maxSpeed:90},Hs),eo=function(B){this._map=B,this.clear()};function rs(B,Y){(!B.duration||B.duration<Y.duration)&&(B.duration=Y.duration,B.easing=Y.easing)}function is(B,Y,G){var L=G.maxSpeed,H=G.linearity,$=G.deceleration,ne=a.clamp(B*H/(Y/1e3),-L,L),ce=Math.abs(ne)/($*H);return{easing:G.easing,duration:1e3*ce,amount:ne*(ce/2)}}eo.prototype.clear=function(){this._inertiaBuffer=[]},eo.prototype.record=function(B){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:B})},eo.prototype._drainInertiaBuffer=function(){for(var B=this._inertiaBuffer,Y=a.browser.now();B.length>0&&Y-B[0].time>160;)B.shift()},eo.prototype._onMoveEnd=function(B){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var Y={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},G=0,L=this._inertiaBuffer;G<L.length;G+=1){var H=L[G].settings;Y.zoom+=H.zoomDelta||0,Y.bearing+=H.bearingDelta||0,Y.pitch+=H.pitchDelta||0,H.panDelta&&Y.pan._add(H.panDelta),H.around&&(Y.around=H.around),H.pinchAround&&(Y.pinchAround=H.pinchAround)}var $=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,ne={};if(Y.pan.mag()){var ce=is(Y.pan.mag(),$,a.extend({},ll,B||{}));ne.offset=Y.pan.mult(ce.amount/Y.pan.mag()),ne.center=this._map.transform.center,rs(ne,ce)}if(Y.zoom){var ve=is(Y.zoom,$,Fl);ne.zoom=this._map.transform.zoom+ve.amount,rs(ne,ve)}if(Y.bearing){var Oe=is(Y.bearing,$,ul);ne.bearing=this._map.transform.bearing+a.clamp(Oe.amount,-179,179),rs(ne,Oe)}if(Y.pitch){var De=is(Y.pitch,$,cl);ne.pitch=this._map.transform.pitch+De.amount,rs(ne,De)}if(ne.zoom||ne.bearing){var He=Y.pinchAround===void 0?Y.around:Y.pinchAround;ne.around=He?this._map.unproject(He):this._map.getCenter()}return this.clear(),a.extend(ne,{noMoveStart:!0})}};var ka=function(B){function Y(L,H,$,ne){ne===void 0&&(ne={});var ce=b.mousePos(H.getCanvasContainer(),$),ve=H.unproject(ce);B.call(this,L,a.extend({point:ce,lngLat:ve,originalEvent:$},ne)),this._defaultPrevented=!1,this.target=H}B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y;var G={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},G.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,G),Y}(a.Event),fl=function(B){function Y(L,H,$){var ne=L==="touchend"?$.changedTouches:$.touches,ce=b.touchPos(H.getCanvasContainer(),ne),ve=ce.map(function(He){return H.unproject(He)}),Oe=ce.reduce(function(He,We,rt,pt){return He.add(We.div(pt.length))},new a.Point(0,0)),De=H.unproject(Oe);B.call(this,L,{points:ce,point:Oe,lngLats:ve,lngLat:De,originalEvent:$}),this._defaultPrevented=!1}B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y;var G={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},G.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,G),Y}(a.Event),to=function(B){function Y(L,H,$){B.call(this,L,{originalEvent:$}),this._defaultPrevented=!1}B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y;var G={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},G.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,G),Y}(a.Event),aa=function(B,Y){this._map=B,this._clickTolerance=Y.clickTolerance};aa.prototype.reset=function(){delete this._mousedownPos},aa.prototype.wheel=function(B){return this._firePreventable(new to(B.type,this._map,B))},aa.prototype.mousedown=function(B,Y){return this._mousedownPos=Y,this._firePreventable(new ka(B.type,this._map,B))},aa.prototype.mouseup=function(B){this._map.fire(new ka(B.type,this._map,B))},aa.prototype.click=function(B,Y){this._mousedownPos&&this._mousedownPos.dist(Y)>=this._clickTolerance||this._map.fire(new ka(B.type,this._map,B))},aa.prototype.dblclick=function(B){return this._firePreventable(new ka(B.type,this._map,B))},aa.prototype.mouseover=function(B){this._map.fire(new ka(B.type,this._map,B))},aa.prototype.mouseout=function(B){this._map.fire(new ka(B.type,this._map,B))},aa.prototype.touchstart=function(B){return this._firePreventable(new fl(B.type,this._map,B))},aa.prototype.touchmove=function(B){this._map.fire(new fl(B.type,this._map,B))},aa.prototype.touchend=function(B){this._map.fire(new fl(B.type,this._map,B))},aa.prototype.touchcancel=function(B){this._map.fire(new fl(B.type,this._map,B))},aa.prototype._firePreventable=function(B){if(this._map.fire(B),B.defaultPrevented)return{}},aa.prototype.isEnabled=function(){return!0},aa.prototype.isActive=function(){return!1},aa.prototype.enable=function(){},aa.prototype.disable=function(){};var ca=function(B){this._map=B};ca.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},ca.prototype.mousemove=function(B){this._map.fire(new ka(B.type,this._map,B))},ca.prototype.mousedown=function(){this._delayContextMenu=!0},ca.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ka("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},ca.prototype.contextmenu=function(B){this._delayContextMenu?this._contextMenuEvent=B:this._map.fire(new ka(B.type,this._map,B)),this._map.listens("contextmenu")&&B.preventDefault()},ca.prototype.isEnabled=function(){return!0},ca.prototype.isActive=function(){return!1},ca.prototype.enable=function(){},ca.prototype.disable=function(){};var wi=function(B,Y){this._map=B,this._el=B.getCanvasContainer(),this._container=B.getContainer(),this._clickTolerance=Y.clickTolerance||1};function fa(B,Y){for(var G={},L=0;L<B.length;L++)G[B[L].identifier]=Y[L];return G}wi.prototype.isEnabled=function(){return!!this._enabled},wi.prototype.isActive=function(){return!!this._active},wi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},wi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},wi.prototype.mousedown=function(B,Y){this.isEnabled()&&B.shiftKey&&B.button===0&&(b.disableDrag(),this._startPos=this._lastPos=Y,this._active=!0)},wi.prototype.mousemoveWindow=function(B,Y){if(this._active){var G=Y;if(!(this._lastPos.equals(G)||!this._box&&G.dist(this._startPos)<this._clickTolerance)){var L=this._startPos;this._lastPos=G,this._box||(this._box=b.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",B));var H=Math.min(L.x,G.x),$=Math.max(L.x,G.x),ne=Math.min(L.y,G.y),ce=Math.max(L.y,G.y);b.setTransform(this._box,"translate("+H+"px,"+ne+"px)"),this._box.style.width=$-H+"px",this._box.style.height=ce-ne+"px"}}},wi.prototype.mouseupWindow=function(B,Y){var G=this;if(this._active&&B.button===0){var L=this._startPos,H=Y;if(this.reset(),b.suppressClick(),L.x!==H.x||L.y!==H.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:B})),{cameraAnimation:function($){return $.fitScreenCoordinates(L,H,G._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",B)}},wi.prototype.keydown=function(B){this._active&&B.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",B))},wi.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(b.remove(this._box),this._box=null),b.enableDrag(),delete this._startPos,delete this._lastPos},wi.prototype._fireEvent=function(B,Y){return this._map.fire(new a.Event(B,{originalEvent:Y}))};var So=function(B){this.reset(),this.numTouches=B.numTouches};So.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},So.prototype.touchstart=function(B,Y,G){(this.centroid||G.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=B.timeStamp),G.length===this.numTouches&&(this.centroid=function(L){for(var H=new a.Point(0,0),$=0,ne=L;$<ne.length;$+=1){var ce=ne[$];H._add(ce)}return H.div(L.length)}(Y),this.touches=fa(G,Y)))},So.prototype.touchmove=function(B,Y,G){if(!this.aborted&&this.centroid){var L=fa(G,Y);for(var H in this.touches){var $=this.touches[H],ne=L[H];(!ne||ne.dist($)>30)&&(this.aborted=!0)}}},So.prototype.touchend=function(B,Y,G){if((!this.centroid||B.timeStamp-this.startTime>500)&&(this.aborted=!0),G.length===0){var L=!this.aborted&&this.centroid;if(this.reset(),L)return L}};var As=function(B){this.singleTap=new So(B),this.numTaps=B.numTaps,this.reset()};As.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},As.prototype.touchstart=function(B,Y,G){this.singleTap.touchstart(B,Y,G)},As.prototype.touchmove=function(B,Y,G){this.singleTap.touchmove(B,Y,G)},As.prototype.touchend=function(B,Y,G){var L=this.singleTap.touchend(B,Y,G);if(L){var H=B.timeStamp-this.lastTime<500,$=!this.lastTap||this.lastTap.dist(L)<30;if(H&&$||this.reset(),this.count++,this.lastTime=B.timeStamp,this.lastTap=L,this.count===this.numTaps)return this.reset(),L}};var go=function(){this._zoomIn=new As({numTouches:1,numTaps:2}),this._zoomOut=new As({numTouches:2,numTaps:1}),this.reset()};go.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},go.prototype.touchstart=function(B,Y,G){this._zoomIn.touchstart(B,Y,G),this._zoomOut.touchstart(B,Y,G)},go.prototype.touchmove=function(B,Y,G){this._zoomIn.touchmove(B,Y,G),this._zoomOut.touchmove(B,Y,G)},go.prototype.touchend=function(B,Y,G){var L=this,H=this._zoomIn.touchend(B,Y,G),$=this._zoomOut.touchend(B,Y,G);return H?(this._active=!0,B.preventDefault(),setTimeout(function(){return L.reset()},0),{cameraAnimation:function(ne){return ne.easeTo({duration:300,zoom:ne.getZoom()+1,around:ne.unproject(H)},{originalEvent:B})}}):$?(this._active=!0,B.preventDefault(),setTimeout(function(){return L.reset()},0),{cameraAnimation:function(ne){return ne.easeTo({duration:300,zoom:ne.getZoom()-1,around:ne.unproject($)},{originalEvent:B})}}):void 0},go.prototype.touchcancel=function(){this.reset()},go.prototype.enable=function(){this._enabled=!0},go.prototype.disable=function(){this._enabled=!1,this.reset()},go.prototype.isEnabled=function(){return this._enabled},go.prototype.isActive=function(){return this._active};var as={};as[0]=1,as[2]=2;var Oa=function(B){this.reset(),this._clickTolerance=B.clickTolerance||1};Oa.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Oa.prototype._correctButton=function(B,Y){return!1},Oa.prototype._move=function(B,Y){return{}},Oa.prototype.mousedown=function(B,Y){if(!this._lastPoint){var G=b.mouseButton(B);this._correctButton(B,G)&&(this._lastPoint=Y,this._eventButton=G)}},Oa.prototype.mousemoveWindow=function(B,Y){var G=this._lastPoint;if(G){if(B.preventDefault(),function(L,H){var $=as[H];return L.buttons===void 0||(L.buttons&$)!==$}(B,this._eventButton))this.reset();else if(this._moved||!(Y.dist(G)<this._clickTolerance))return this._moved=!0,this._lastPoint=Y,this._move(G,Y)}},Oa.prototype.mouseupWindow=function(B){this._lastPoint&&b.mouseButton(B)===this._eventButton&&(this._moved&&b.suppressClick(),this.reset())},Oa.prototype.enable=function(){this._enabled=!0},Oa.prototype.disable=function(){this._enabled=!1,this.reset()},Oa.prototype.isEnabled=function(){return this._enabled},Oa.prototype.isActive=function(){return this._active};var Ss=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.mousedown=function(G,L){B.prototype.mousedown.call(this,G,L),this._lastPoint&&(this._active=!0)},Y.prototype._correctButton=function(G,L){return L===0&&!G.ctrlKey},Y.prototype._move=function(G,L){return{around:L,panDelta:L.sub(G)}},Y}(Oa),Uo=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype._correctButton=function(G,L){return L===0&&G.ctrlKey||L===2},Y.prototype._move=function(G,L){var H=.8*(L.x-G.x);if(H)return this._active=!0,{bearingDelta:H}},Y.prototype.contextmenu=function(G){G.preventDefault()},Y}(Oa),no=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype._correctButton=function(G,L){return L===0&&G.ctrlKey||L===2},Y.prototype._move=function(G,L){var H=-.5*(L.y-G.y);if(H)return this._active=!0,{pitchDelta:H}},Y.prototype.contextmenu=function(G){G.preventDefault()},Y}(Oa),ro=function(B){this._minTouches=1,this._clickTolerance=B.clickTolerance||1,this.reset()};ro.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},ro.prototype.touchstart=function(B,Y,G){return this._calculateTransform(B,Y,G)},ro.prototype.touchmove=function(B,Y,G){if(this._active&&!(G.length<this._minTouches))return B.preventDefault(),this._calculateTransform(B,Y,G)},ro.prototype.touchend=function(B,Y,G){this._calculateTransform(B,Y,G),this._active&&G.length<this._minTouches&&this.reset()},ro.prototype.touchcancel=function(){this.reset()},ro.prototype._calculateTransform=function(B,Y,G){G.length>0&&(this._active=!0);var L=fa(G,Y),H=new a.Point(0,0),$=new a.Point(0,0),ne=0;for(var ce in L){var ve=L[ce],Oe=this._touches[ce];Oe&&(H._add(ve),$._add(ve.sub(Oe)),ne++,L[ce]=ve)}if(this._touches=L,!(ne<this._minTouches)&&$.mag()){var De=$.div(ne);if(this._sum._add(De),!(this._sum.mag()<this._clickTolerance))return{around:H.div(ne),panDelta:De}}},ro.prototype.enable=function(){this._enabled=!0},ro.prototype.disable=function(){this._enabled=!1,this.reset()},ro.prototype.isEnabled=function(){return this._enabled},ro.prototype.isActive=function(){return this._active};var ki=function(){this.reset()};function vo(B,Y,G){for(var L=0;L<B.length;L++)if(B[L].identifier===G)return Y[L]}ki.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ki.prototype._start=function(B){},ki.prototype._move=function(B,Y,G){return{}},ki.prototype.touchstart=function(B,Y,G){this._firstTwoTouches||G.length<2||(this._firstTwoTouches=[G[0].identifier,G[1].identifier],this._start([Y[0],Y[1]]))},ki.prototype.touchmove=function(B,Y,G){if(this._firstTwoTouches){B.preventDefault();var L=this._firstTwoTouches,H=L[0],$=L[1],ne=vo(G,Y,H),ce=vo(G,Y,$);if(ne&&ce){var ve=this._aroundCenter?null:ne.add(ce).div(2);return this._move([ne,ce],ve,B)}}},ki.prototype.touchend=function(B,Y,G){if(this._firstTwoTouches){var L=this._firstTwoTouches,H=L[0],$=L[1],ne=vo(G,Y,H),ce=vo(G,Y,$);ne&&ce||(this._active&&b.suppressClick(),this.reset())}},ki.prototype.touchcancel=function(){this.reset()},ki.prototype.enable=function(B){this._enabled=!0,this._aroundCenter=!!B&&B.around==="center"},ki.prototype.disable=function(){this._enabled=!1,this.reset()},ki.prototype.isEnabled=function(){return this._enabled},ki.prototype.isActive=function(){return this._active};function Sr(B,Y){return Math.log(B/Y)/Math.LN2}var hl=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.reset=function(){B.prototype.reset.call(this),delete this._distance,delete this._startDistance},Y.prototype._start=function(G){this._startDistance=this._distance=G[0].dist(G[1])},Y.prototype._move=function(G,L){var H=this._distance;if(this._distance=G[0].dist(G[1]),this._active||!(Math.abs(Sr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Sr(this._distance,H),pinchAround:L}},Y}(ki);function Jl(B,Y){return 180*B.angleWith(Y)/Math.PI}var os=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.reset=function(){B.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},Y.prototype._start=function(G){this._startVector=this._vector=G[0].sub(G[1]),this._minDiameter=G[0].dist(G[1])},Y.prototype._move=function(G,L){var H=this._vector;if(this._vector=G[0].sub(G[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Jl(this._vector,H),pinchAround:L}},Y.prototype._isBelowThreshold=function(G){this._minDiameter=Math.min(this._minDiameter,G.mag());var L=25/(Math.PI*this._minDiameter)*360,H=Jl(G,this._startVector);return Math.abs(H)<L},Y}(ki);function ss(B){return Math.abs(B.y)>Math.abs(B.x)}var Es=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.reset=function(){B.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},Y.prototype._start=function(G){this._lastPoints=G,ss(G[0].sub(G[1]))&&(this._valid=!1)},Y.prototype._move=function(G,L,H){var $=G[0].sub(this._lastPoints[0]),ne=G[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically($,ne,H.timeStamp),this._valid)return this._lastPoints=G,this._active=!0,{pitchDelta:($.y+ne.y)/2*-.5}},Y.prototype.gestureBeginsVertically=function(G,L,H){if(this._valid!==void 0)return this._valid;var $=G.mag()>=2,ne=L.mag()>=2;if($||ne){if(!$||!ne)return this._firstMove===void 0&&(this._firstMove=H),H-this._firstMove<100&&void 0;var ce=G.y>0==L.y>0;return ss(G)&&ss(L)&&ce}},Y}(ki),Gs={panStep:100,bearingStep:15,pitchStep:10},br=function(){var B=Gs;this._panStep=B.panStep,this._bearingStep=B.bearingStep,this._pitchStep=B.pitchStep,this._rotationDisabled=!1};function pl(B){return B*(2-B)}br.prototype.reset=function(){this._active=!1},br.prototype.keydown=function(B){var Y=this;if(!(B.altKey||B.ctrlKey||B.metaKey)){var G=0,L=0,H=0,$=0,ne=0;switch(B.keyCode){case 61:case 107:case 171:case 187:G=1;break;case 189:case 109:case 173:G=-1;break;case 37:B.shiftKey?L=-1:(B.preventDefault(),$=-1);break;case 39:B.shiftKey?L=1:(B.preventDefault(),$=1);break;case 38:B.shiftKey?H=1:(B.preventDefault(),ne=-1);break;case 40:B.shiftKey?H=-1:(B.preventDefault(),ne=1);break;default:return}return this._rotationDisabled&&(L=0,H=0),{cameraAnimation:function(ce){var ve=ce.getZoom();ce.easeTo({duration:300,easeId:"keyboardHandler",easing:pl,zoom:G?Math.round(ve)+G*(B.shiftKey?2:1):ve,bearing:ce.getBearing()+L*Y._bearingStep,pitch:ce.getPitch()+H*Y._pitchStep,offset:[-$*Y._panStep,-ne*Y._panStep],center:ce.getCenter()},{originalEvent:B})}}}},br.prototype.enable=function(){this._enabled=!0},br.prototype.disable=function(){this._enabled=!1,this.reset()},br.prototype.isEnabled=function(){return this._enabled},br.prototype.isActive=function(){return this._active},br.prototype.disableRotation=function(){this._rotationDisabled=!0},br.prototype.enableRotation=function(){this._rotationDisabled=!1};var Vo=4.000244140625,oa=function(B,Y){this._map=B,this._el=B.getCanvasContainer(),this._handler=Y,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,a.bindAll(["_onTimeout"],this)};oa.prototype.setZoomRate=function(B){this._defaultZoomRate=B},oa.prototype.setWheelZoomRate=function(B){this._wheelZoomRate=B},oa.prototype.isEnabled=function(){return!!this._enabled},oa.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},oa.prototype.isZooming=function(){return!!this._zooming},oa.prototype.enable=function(B){this.isEnabled()||(this._enabled=!0,this._aroundCenter=B&&B.around==="center")},oa.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},oa.prototype.wheel=function(B){if(this.isEnabled()){var Y=B.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?40*B.deltaY:B.deltaY,G=a.browser.now(),L=G-(this._lastWheelEventTime||0);this._lastWheelEventTime=G,Y!==0&&Y%Vo==0?this._type="wheel":Y!==0&&Math.abs(Y)<4?this._type="trackpad":L>400?(this._type=null,this._lastValue=Y,this._timeout=setTimeout(this._onTimeout,40,B)):this._type||(this._type=Math.abs(L*Y)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,Y+=this._lastValue)),B.shiftKey&&Y&&(Y/=4),this._type&&(this._lastWheelEvent=B,this._delta-=Y,this._active||this._start(B)),B.preventDefault()}},oa.prototype._onTimeout=function(B){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(B)},oa.prototype._start=function(B){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var Y=b.mousePos(this._el,B);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(Y)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},oa.prototype.renderFrame=function(){var B=this;if(this._frameId&&(this._frameId=null,this.isActive())){var Y=this._map.transform;if(this._delta!==0){var G=this._type==="wheel"&&Math.abs(this._delta)>Vo?this._wheelZoomRate:this._defaultZoomRate,L=2/(1+Math.exp(-Math.abs(this._delta*G)));this._delta<0&&L!==0&&(L=1/L);var H=typeof this._targetZoom=="number"?Y.zoomScale(this._targetZoom):Y.scale;this._targetZoom=Math.min(Y.maxZoom,Math.max(Y.minZoom,Y.scaleZoom(H*L))),this._type==="wheel"&&(this._startZoom=Y.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var $,ne=typeof this._targetZoom=="number"?this._targetZoom:Y.zoom,ce=this._startZoom,ve=this._easing,Oe=!1;if(this._type==="wheel"&&ce&&ve){var De=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),He=ve(De);$=a.number(ce,ne,He),De<1?this._frameId||(this._frameId=!0):Oe=!0}else $=ne,Oe=!0;return this._active=!0,Oe&&(this._active=!1,this._finishTimeout=setTimeout(function(){B._zooming=!1,B._handler._triggerRenderFrame(),delete B._targetZoom,delete B._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Oe,zoomDelta:$-Y.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},oa.prototype._smoothOutEasing=function(B){var Y=a.ease;if(this._prevEase){var G=this._prevEase,L=(a.browser.now()-G.start)/G.duration,H=G.easing(L+.01)-G.easing(L),$=.27/Math.sqrt(H*H+1e-4)*.01,ne=Math.sqrt(.0729-$*$);Y=a.bezier($,ne,.25,1)}return this._prevEase={start:a.browser.now(),duration:B,easing:Y},Y},oa.prototype.reset=function(){this._active=!1};var ls=function(B,Y){this._clickZoom=B,this._tapZoom=Y};ls.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ls.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ls.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ls.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var mo=function(){this.reset()};mo.prototype.reset=function(){this._active=!1},mo.prototype.dblclick=function(B,Y){return B.preventDefault(),{cameraAnimation:function(G){G.easeTo({duration:300,zoom:G.getZoom()+(B.shiftKey?-1:1),around:G.unproject(Y)},{originalEvent:B})}}},mo.prototype.enable=function(){this._enabled=!0},mo.prototype.disable=function(){this._enabled=!1,this.reset()},mo.prototype.isEnabled=function(){return this._enabled},mo.prototype.isActive=function(){return this._active};var io=function(){this._tap=new As({numTouches:1,numTaps:1}),this.reset()};io.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},io.prototype.touchstart=function(B,Y,G){this._swipePoint||(this._tapTime&&B.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?G.length>0&&(this._swipePoint=Y[0],this._swipeTouch=G[0].identifier):this._tap.touchstart(B,Y,G))},io.prototype.touchmove=function(B,Y,G){if(this._tapTime){if(this._swipePoint){if(G[0].identifier!==this._swipeTouch)return;var L=Y[0],H=L.y-this._swipePoint.y;return this._swipePoint=L,B.preventDefault(),this._active=!0,{zoomDelta:H/128}}}else this._tap.touchmove(B,Y,G)},io.prototype.touchend=function(B,Y,G){this._tapTime?this._swipePoint&&G.length===0&&this.reset():this._tap.touchend(B,Y,G)&&(this._tapTime=B.timeStamp)},io.prototype.touchcancel=function(){this.reset()},io.prototype.enable=function(){this._enabled=!0},io.prototype.disable=function(){this._enabled=!1,this.reset()},io.prototype.isEnabled=function(){return this._enabled},io.prototype.isActive=function(){return this._active};var Ma=function(B,Y,G){this._el=B,this._mousePan=Y,this._touchPan=G};Ma.prototype.enable=function(B){this._inertiaOptions=B||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Ma.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Ma.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Ma.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Eo=function(B,Y,G){this._pitchWithRotate=B.pitchWithRotate,this._mouseRotate=Y,this._mousePitch=G};Eo.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Eo.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Eo.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Eo.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var ao=function(B,Y,G,L){this._el=B,this._touchZoom=Y,this._touchRotate=G,this._tapDragZoom=L,this._rotationDisabled=!1,this._enabled=!0};ao.prototype.enable=function(B){this._touchZoom.enable(B),this._rotationDisabled||this._touchRotate.enable(B),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},ao.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},ao.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},ao.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},ao.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},ao.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Ho=function(B){return B.zoom||B.drag||B.pitch||B.rotate},dl=function(B){function Y(){B.apply(this,arguments)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y}(a.Event);function us(B){return B.panDelta&&B.panDelta.mag()||B.zoomDelta||B.bearingDelta||B.pitchDelta}var ri=function(B,Y){this._map=B,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new eo(B),this._bearingSnap=Y.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(Y),a.bindAll(["handleEvent","handleWindowEvent"],this);var G=this._el;this._listeners=[[G,"touchstart",{passive:!0}],[G,"touchmove",{passive:!1}],[G,"touchend",void 0],[G,"touchcancel",void 0],[G,"mousedown",void 0],[G,"mousemove",void 0],[G,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[G,"mouseover",void 0],[G,"mouseout",void 0],[G,"dblclick",void 0],[G,"click",void 0],[G,"keydown",{capture:!1}],[G,"keyup",void 0],[G,"wheel",{passive:!1}],[G,"contextmenu",void 0],[a.window,"blur",void 0]];for(var L=0,H=this._listeners;L<H.length;L+=1){var $=H[L],ne=$[0],ce=$[1],ve=$[2];b.addEventListener(ne,ce,ne===a.window.document?this.handleWindowEvent:this.handleEvent,ve)}};ri.prototype.destroy=function(){for(var B=0,Y=this._listeners;B<Y.length;B+=1){var G=Y[B],L=G[0],H=G[1],$=G[2];b.removeEventListener(L,H,L===a.window.document?this.handleWindowEvent:this.handleEvent,$)}},ri.prototype._addDefaultHandlers=function(B){var Y=this._map,G=Y.getCanvasContainer();this._add("mapEvent",new aa(Y,B));var L=Y.boxZoom=new wi(Y,B);this._add("boxZoom",L);var H=new go,$=new mo;Y.doubleClickZoom=new ls($,H),this._add("tapZoom",H),this._add("clickZoom",$);var ne=new io;this._add("tapDragZoom",ne);var ce=Y.touchPitch=new Es;this._add("touchPitch",ce);var ve=new Uo(B),Oe=new no(B);Y.dragRotate=new Eo(B,ve,Oe),this._add("mouseRotate",ve,["mousePitch"]),this._add("mousePitch",Oe,["mouseRotate"]);var De=new Ss(B),He=new ro(B);Y.dragPan=new Ma(G,De,He),this._add("mousePan",De),this._add("touchPan",He,["touchZoom","touchRotate"]);var We=new os,rt=new hl;Y.touchZoomRotate=new ao(G,rt,We,ne),this._add("touchRotate",We,["touchPan","touchZoom"]),this._add("touchZoom",rt,["touchPan","touchRotate"]);var pt=Y.scrollZoom=new oa(Y,this);this._add("scrollZoom",pt,["mousePan"]);var vt=Y.keyboard=new br;this._add("keyboard",vt),this._add("blockableMapEvent",new ca(Y));for(var kt=0,Ot=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];kt<Ot.length;kt+=1){var Et=Ot[kt];B.interactive&&B[Et]&&Y[Et].enable(B[Et])}},ri.prototype._add=function(B,Y,G){this._handlers.push({handlerName:B,handler:Y,allowed:G}),this._handlersById[B]=Y},ri.prototype.stop=function(B){if(!this._updatingCamera){for(var Y=0,G=this._handlers;Y<G.length;Y+=1)G[Y].handler.reset();this._inertia.clear(),this._fireEvents({},{},B),this._changes=[]}},ri.prototype.isActive=function(){for(var B=0,Y=this._handlers;B<Y.length;B+=1)if(Y[B].handler.isActive())return!0;return!1},ri.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},ri.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},ri.prototype.isMoving=function(){return!!Ho(this._eventsInProgress)||this.isZooming()},ri.prototype._blockedByActive=function(B,Y,G){for(var L in B)if(L!==G&&(!Y||Y.indexOf(L)<0))return!0;return!1},ri.prototype.handleWindowEvent=function(B){this.handleEvent(B,B.type+"Window")},ri.prototype._getMapTouches=function(B){for(var Y=[],G=0,L=B;G<L.length;G+=1){var H=L[G],$=H.target;this._el.contains($)&&Y.push(H)}return Y},ri.prototype.handleEvent=function(B,Y){if(B.type!=="blur"){this._updatingCamera=!0;for(var G=B.type==="renderFrame"?void 0:B,L={needsRenderFrame:!1},H={},$={},ne=B.touches?this._getMapTouches(B.touches):void 0,ce=ne?b.touchPos(this._el,ne):b.mousePos(this._el,B),ve=0,Oe=this._handlers;ve<Oe.length;ve+=1){var De=Oe[ve],He=De.handlerName,We=De.handler,rt=De.allowed;if(We.isEnabled()){var pt=void 0;this._blockedByActive($,rt,He)?We.reset():We[Y||B.type]&&(pt=We[Y||B.type](B,ce,ne),this.mergeHandlerResult(L,H,pt,He,G),pt&&pt.needsRenderFrame&&this._triggerRenderFrame()),(pt||We.isActive())&&($[He]=We)}}var vt={};for(var kt in this._previousActiveHandlers)$[kt]||(vt[kt]=G);this._previousActiveHandlers=$,(Object.keys(vt).length||us(L))&&(this._changes.push([L,H,vt]),this._triggerRenderFrame()),(Object.keys($).length||us(L))&&this._map._stop(!0),this._updatingCamera=!1;var Ot=L.cameraAnimation;Ot&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ot(this._map))}else this.stop(!0)},ri.prototype.mergeHandlerResult=function(B,Y,G,L,H){if(G){a.extend(B,G);var $={handlerName:L,originalEvent:G.originalEvent||H};G.zoomDelta!==void 0&&(Y.zoom=$),G.panDelta!==void 0&&(Y.drag=$),G.pitchDelta!==void 0&&(Y.pitch=$),G.bearingDelta!==void 0&&(Y.rotate=$)}},ri.prototype._applyChanges=function(){for(var B={},Y={},G={},L=0,H=this._changes;L<H.length;L+=1){var $=H[L],ne=$[0],ce=$[1],ve=$[2];ne.panDelta&&(B.panDelta=(B.panDelta||new a.Point(0,0))._add(ne.panDelta)),ne.zoomDelta&&(B.zoomDelta=(B.zoomDelta||0)+ne.zoomDelta),ne.bearingDelta&&(B.bearingDelta=(B.bearingDelta||0)+ne.bearingDelta),ne.pitchDelta&&(B.pitchDelta=(B.pitchDelta||0)+ne.pitchDelta),ne.around!==void 0&&(B.around=ne.around),ne.pinchAround!==void 0&&(B.pinchAround=ne.pinchAround),ne.noInertia&&(B.noInertia=ne.noInertia),a.extend(Y,ce),a.extend(G,ve)}this._updateMapTransform(B,Y,G),this._changes=[]},ri.prototype._updateMapTransform=function(B,Y,G){var L=this._map,H=L.transform;if(!us(B))return this._fireEvents(Y,G,!0);var $=B.panDelta,ne=B.zoomDelta,ce=B.bearingDelta,ve=B.pitchDelta,Oe=B.around,De=B.pinchAround;De!==void 0&&(Oe=De),L._stop(!0),Oe=Oe||L.transform.centerPoint;var He=H.pointLocation($?Oe.sub($):Oe);ce&&(H.bearing+=ce),ve&&(H.pitch+=ve),ne&&(H.zoom+=ne),H.setLocationAtPoint(He,Oe),this._map._update(),B.noInertia||this._inertia.record(B),this._fireEvents(Y,G,!0)},ri.prototype._fireEvents=function(B,Y,G){var L=this,H=Ho(this._eventsInProgress),$=Ho(B),ne={};for(var ce in B){var ve=B[ce].originalEvent;this._eventsInProgress[ce]||(ne[ce+"start"]=ve),this._eventsInProgress[ce]=B[ce]}for(var Oe in!H&&$&&this._fireEvent("movestart",$.originalEvent),ne)this._fireEvent(Oe,ne[Oe]);for(var De in $&&this._fireEvent("move",$.originalEvent),B){var He=B[De].originalEvent;this._fireEvent(De,He)}var We,rt={};for(var pt in this._eventsInProgress){var vt=this._eventsInProgress[pt],kt=vt.handlerName,Ot=vt.originalEvent;this._handlersById[kt].isActive()||(delete this._eventsInProgress[pt],We=Y[kt]||Ot,rt[pt+"end"]=We)}for(var Et in rt)this._fireEvent(Et,rt[Et]);var jt=Ho(this._eventsInProgress);if(G&&(H||$)&&!jt){this._updatingCamera=!0;var It=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Jt=function(Yt){return Yt!==0&&-L._bearingSnap<Yt&&Yt<L._bearingSnap};It?(Jt(It.bearing||this._map.getBearing())&&(It.bearing=0),this._map.easeTo(It,{originalEvent:We})):(this._map.fire(new a.Event("moveend",{originalEvent:We})),Jt(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},ri.prototype._fireEvent=function(B,Y){this._map.fire(new a.Event(B,Y?{originalEvent:Y}:{}))},ri.prototype._requestFrame=function(){var B=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(Y){delete B._frameId,B.handleEvent(new dl("renderFrame",{timeStamp:Y})),B._applyChanges()})},ri.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var ha=function(B){function Y(G,L){B.call(this),this._moving=!1,this._zooming=!1,this.transform=G,this._bearingSnap=L.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},Y.prototype.setCenter=function(G,L){return this.jumpTo({center:G},L)},Y.prototype.panBy=function(G,L,H){return G=a.Point.convert(G).mult(-1),this.panTo(this.transform.center,a.extend({offset:G},L),H)},Y.prototype.panTo=function(G,L,H){return this.easeTo(a.extend({center:G},L),H)},Y.prototype.getZoom=function(){return this.transform.zoom},Y.prototype.setZoom=function(G,L){return this.jumpTo({zoom:G},L),this},Y.prototype.zoomTo=function(G,L,H){return this.easeTo(a.extend({zoom:G},L),H)},Y.prototype.zoomIn=function(G,L){return this.zoomTo(this.getZoom()+1,G,L),this},Y.prototype.zoomOut=function(G,L){return this.zoomTo(this.getZoom()-1,G,L),this},Y.prototype.getBearing=function(){return this.transform.bearing},Y.prototype.setBearing=function(G,L){return this.jumpTo({bearing:G},L),this},Y.prototype.getPadding=function(){return this.transform.padding},Y.prototype.setPadding=function(G,L){return this.jumpTo({padding:G},L),this},Y.prototype.rotateTo=function(G,L,H){return this.easeTo(a.extend({bearing:G},L),H)},Y.prototype.resetNorth=function(G,L){return this.rotateTo(0,a.extend({duration:1e3},G),L),this},Y.prototype.resetNorthPitch=function(G,L){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},G),L),this},Y.prototype.snapToNorth=function(G,L){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(G,L):this},Y.prototype.getPitch=function(){return this.transform.pitch},Y.prototype.setPitch=function(G,L){return this.jumpTo({pitch:G},L),this},Y.prototype.cameraForBounds=function(G,L){G=a.LngLatBounds.convert(G);var H=L&&L.bearing||0;return this._cameraForBoxAndBearing(G.getNorthWest(),G.getSouthEast(),H,L)},Y.prototype._cameraForBoxAndBearing=function(G,L,H,$){var ne={top:0,bottom:0,right:0,left:0};if(typeof($=a.extend({padding:ne,offset:[0,0],maxZoom:this.transform.maxZoom},$)).padding=="number"){var ce=$.padding;$.padding={top:ce,bottom:ce,right:ce,left:ce}}$.padding=a.extend(ne,$.padding);var ve=this.transform,Oe=ve.padding,De=ve.project(a.LngLat.convert(G)),He=ve.project(a.LngLat.convert(L)),We=De.rotate(-H*Math.PI/180),rt=He.rotate(-H*Math.PI/180),pt=new a.Point(Math.max(We.x,rt.x),Math.max(We.y,rt.y)),vt=new a.Point(Math.min(We.x,rt.x),Math.min(We.y,rt.y)),kt=pt.sub(vt),Ot=(ve.width-(Oe.left+Oe.right+$.padding.left+$.padding.right))/kt.x,Et=(ve.height-(Oe.top+Oe.bottom+$.padding.top+$.padding.bottom))/kt.y;if(!(Et<0||Ot<0)){var jt=Math.min(ve.scaleZoom(ve.scale*Math.min(Ot,Et)),$.maxZoom),It=typeof $.offset.x=="number"?new a.Point($.offset.x,$.offset.y):a.Point.convert($.offset),Jt=($.padding.left-$.padding.right)/2,Yt=($.padding.top-$.padding.bottom)/2,Ht=new a.Point(Jt,Yt).rotate(H*Math.PI/180),mn=It.add(Ht).mult(ve.scale/ve.zoomScale(jt));return{center:ve.unproject(De.add(He).div(2).sub(mn)),zoom:jt,bearing:H}}a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},Y.prototype.fitBounds=function(G,L,H){return this._fitInternal(this.cameraForBounds(G,L),L,H)},Y.prototype.fitScreenCoordinates=function(G,L,H,$,ne){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(G)),this.transform.pointLocation(a.Point.convert(L)),H,$),$,ne)},Y.prototype._fitInternal=function(G,L,H){return G?(delete(L=a.extend(G,L)).padding,L.linear?this.easeTo(L,H):this.flyTo(L,H)):this},Y.prototype.jumpTo=function(G,L){this.stop();var H=this.transform,$=!1,ne=!1,ce=!1;return"zoom"in G&&H.zoom!==+G.zoom&&($=!0,H.zoom=+G.zoom),G.center!==void 0&&(H.center=a.LngLat.convert(G.center)),"bearing"in G&&H.bearing!==+G.bearing&&(ne=!0,H.bearing=+G.bearing),"pitch"in G&&H.pitch!==+G.pitch&&(ce=!0,H.pitch=+G.pitch),G.padding==null||H.isPaddingEqual(G.padding)||(H.padding=G.padding),this.fire(new a.Event("movestart",L)).fire(new a.Event("move",L)),$&&this.fire(new a.Event("zoomstart",L)).fire(new a.Event("zoom",L)).fire(new a.Event("zoomend",L)),ne&&this.fire(new a.Event("rotatestart",L)).fire(new a.Event("rotate",L)).fire(new a.Event("rotateend",L)),ce&&this.fire(new a.Event("pitchstart",L)).fire(new a.Event("pitch",L)).fire(new a.Event("pitchend",L)),this.fire(new a.Event("moveend",L))},Y.prototype.easeTo=function(G,L){var H=this;this._stop(!1,G.easeId),((G=a.extend({offset:[0,0],duration:500,easing:a.ease},G)).animate===!1||!G.essential&&a.browser.prefersReducedMotion)&&(G.duration=0);var $=this.transform,ne=this.getZoom(),ce=this.getBearing(),ve=this.getPitch(),Oe=this.getPadding(),De="zoom"in G?+G.zoom:ne,He="bearing"in G?this._normalizeBearing(G.bearing,ce):ce,We="pitch"in G?+G.pitch:ve,rt="padding"in G?G.padding:$.padding,pt=a.Point.convert(G.offset),vt=$.centerPoint.add(pt),kt=$.pointLocation(vt),Ot=a.LngLat.convert(G.center||kt);this._normalizeCenter(Ot);var Et,jt,It=$.project(kt),Jt=$.project(Ot).sub(It),Yt=$.zoomScale(De-ne);G.around&&(Et=a.LngLat.convert(G.around),jt=$.locationPoint(Et));var Ht={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||De!==ne,this._rotating=this._rotating||ce!==He,this._pitching=this._pitching||We!==ve,this._padding=!$.isPaddingEqual(rt),this._easeId=G.easeId,this._prepareEase(L,G.noMoveStart,Ht),this._ease(function(mn){if(H._zooming&&($.zoom=a.number(ne,De,mn)),H._rotating&&($.bearing=a.number(ce,He,mn)),H._pitching&&($.pitch=a.number(ve,We,mn)),H._padding&&($.interpolatePadding(Oe,rt,mn),vt=$.centerPoint.add(pt)),Et)$.setLocationAtPoint(Et,jt);else{var yn=$.zoomScale($.zoom-ne),In=De>ne?Math.min(2,Yt):Math.max(.5,Yt),Rn=Math.pow(In,1-mn),Gn=$.unproject(It.add(Jt.mult(mn*Rn)).mult(yn));$.setLocationAtPoint($.renderWorldCopies?Gn.wrap():Gn,vt)}H._fireMoveEvents(L)},function(mn){H._afterEase(L,mn)},G),this},Y.prototype._prepareEase=function(G,L,H){H===void 0&&(H={}),this._moving=!0,L||H.moving||this.fire(new a.Event("movestart",G)),this._zooming&&!H.zooming&&this.fire(new a.Event("zoomstart",G)),this._rotating&&!H.rotating&&this.fire(new a.Event("rotatestart",G)),this._pitching&&!H.pitching&&this.fire(new a.Event("pitchstart",G))},Y.prototype._fireMoveEvents=function(G){this.fire(new a.Event("move",G)),this._zooming&&this.fire(new a.Event("zoom",G)),this._rotating&&this.fire(new a.Event("rotate",G)),this._pitching&&this.fire(new a.Event("pitch",G))},Y.prototype._afterEase=function(G,L){if(!this._easeId||!L||this._easeId!==L){delete this._easeId;var H=this._zooming,$=this._rotating,ne=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,H&&this.fire(new a.Event("zoomend",G)),$&&this.fire(new a.Event("rotateend",G)),ne&&this.fire(new a.Event("pitchend",G)),this.fire(new a.Event("moveend",G))}},Y.prototype.flyTo=function(G,L){var H=this;if(!G.essential&&a.browser.prefersReducedMotion){var $=a.pick(G,["center","zoom","bearing","pitch","around"]);return this.jumpTo($,L)}this.stop(),G=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},G);var ne=this.transform,ce=this.getZoom(),ve=this.getBearing(),Oe=this.getPitch(),De=this.getPadding(),He="zoom"in G?a.clamp(+G.zoom,ne.minZoom,ne.maxZoom):ce,We="bearing"in G?this._normalizeBearing(G.bearing,ve):ve,rt="pitch"in G?+G.pitch:Oe,pt="padding"in G?G.padding:ne.padding,vt=ne.zoomScale(He-ce),kt=a.Point.convert(G.offset),Ot=ne.centerPoint.add(kt),Et=ne.pointLocation(Ot),jt=a.LngLat.convert(G.center||Et);this._normalizeCenter(jt);var It=ne.project(Et),Jt=ne.project(jt).sub(It),Yt=G.curve,Ht=Math.max(ne.width,ne.height),mn=Ht/vt,yn=Jt.mag();if("minZoom"in G){var In=a.clamp(Math.min(G.minZoom,ce,He),ne.minZoom,ne.maxZoom),Rn=Ht/ne.zoomScale(In-ce);Yt=Math.sqrt(Rn/yn*2)}var Gn=Yt*Yt;function Qn(pr){var Er=(mn*mn-Ht*Ht+(pr?-1:1)*Gn*Gn*yn*yn)/(2*(pr?mn:Ht)*Gn*yn);return Math.log(Math.sqrt(Er*Er+1)-Er)}function hr(pr){return(Math.exp(pr)-Math.exp(-pr))/2}function Zn(pr){return(Math.exp(pr)+Math.exp(-pr))/2}var lr=Qn(0),_r=function(pr){return Zn(lr)/Zn(lr+Yt*pr)},Or=function(pr){return Ht*((Zn(lr)*(hr(Er=lr+Yt*pr)/Zn(Er))-hr(lr))/Gn)/yn;var Er},$n=(Qn(1)-lr)/Yt;if(Math.abs(yn)<1e-6||!isFinite($n)){if(Math.abs(Ht-mn)<1e-6)return this.easeTo(G,L);var sr=mn<Ht?-1:1;$n=Math.abs(Math.log(mn/Ht))/Yt,Or=function(){return 0},_r=function(pr){return Math.exp(sr*Yt*pr)}}if("duration"in G)G.duration=+G.duration;else{var Mr="screenSpeed"in G?+G.screenSpeed/Yt:+G.speed;G.duration=1e3*$n/Mr}return G.maxDuration&&G.duration>G.maxDuration&&(G.duration=0),this._zooming=!0,this._rotating=ve!==We,this._pitching=rt!==Oe,this._padding=!ne.isPaddingEqual(pt),this._prepareEase(L,!1),this._ease(function(pr){var Er=pr*$n,zr=1/_r(Er);ne.zoom=pr===1?He:ce+ne.scaleZoom(zr),H._rotating&&(ne.bearing=a.number(ve,We,pr)),H._pitching&&(ne.pitch=a.number(Oe,rt,pr)),H._padding&&(ne.interpolatePadding(De,pt,pr),Ot=ne.centerPoint.add(kt));var Yr=pr===1?jt:ne.unproject(It.add(Jt.mult(Or(Er))).mult(zr));ne.setLocationAtPoint(ne.renderWorldCopies?Yr.wrap():Yr,Ot),H._fireMoveEvents(L)},function(){return H._afterEase(L)},G),this},Y.prototype.isEasing=function(){return!!this._easeFrameId},Y.prototype.stop=function(){return this._stop()},Y.prototype._stop=function(G,L){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var H=this._onEaseEnd;delete this._onEaseEnd,H.call(this,L)}if(!G){var $=this.handlers;$&&$.stop(!1)}return this},Y.prototype._ease=function(G,L,H){H.animate===!1||H.duration===0?(G(1),L()):(this._easeStart=a.browser.now(),this._easeOptions=H,this._onEaseFrame=G,this._onEaseEnd=L,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},Y.prototype._renderFrameCallback=function(){var G=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(G)),G<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},Y.prototype._normalizeBearing=function(G,L){G=a.wrap(G,-180,180);var H=Math.abs(G-L);return Math.abs(G-360-L)<H&&(G-=360),Math.abs(G+360-L)<H&&(G+=360),G},Y.prototype._normalizeCenter=function(G){var L=this.transform;if(L.renderWorldCopies&&!L.lngRange){var H=G.lng-L.center.lng;G.lng+=H>180?-360:H<-180?360:0}},Y}(a.Evented),Pa=function(B){B===void 0&&(B={}),this.options=B,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Pa.prototype.getDefaultPosition=function(){return"bottom-right"},Pa.prototype.onAdd=function(B){var Y=this.options&&this.options.compact;return this._map=B,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=b.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=b.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),Y&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),Y===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Pa.prototype.onRemove=function(){b.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Pa.prototype._setElementTitle=function(B,Y){var G=this._map._getUIString("AttributionControl."+Y);B.title=G,B.setAttribute("aria-label",G)},Pa.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Pa.prototype._updateEditLink=function(){var B=this._editLink;B||(B=this._editLink=this._container.querySelector(".mapbox-improve-map"));var Y=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(B){var G=Y.reduce(function(L,H,$){return H.value&&(L+=H.key+"="+H.value+($<Y.length-1?"&":"")),L},"?");B.href=a.config.FEEDBACK_URL+"/"+G+(this._map._hash?this._map._hash.getHashString(!0):""),B.rel="noopener nofollow",this._setElementTitle(B,"MapFeedback")}},Pa.prototype._updateData=function(B){!B||B.sourceDataType!=="metadata"&&B.sourceDataType!=="visibility"&&B.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},Pa.prototype._updateAttributions=function(){if(this._map.style){var B=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?B=B.concat(this.options.customAttribution.map(function(ce){return typeof ce!="string"?"":ce})):typeof this.options.customAttribution=="string"&&B.push(this.options.customAttribution)),this._map.style.stylesheet){var Y=this._map.style.stylesheet;this.styleOwner=Y.owner,this.styleId=Y.id}var G=this._map.style.sourceCaches;for(var L in G){var H=G[L];if(H.used){var $=H.getSource();$.attribution&&B.indexOf($.attribution)<0&&B.push($.attribution)}}B.sort(function(ce,ve){return ce.length-ve.length});var ne=(B=B.filter(function(ce,ve){for(var Oe=ve+1;Oe<B.length;Oe++)if(B[Oe].indexOf(ce)>=0)return!1;return!0})).join(" | ");ne!==this._attribHTML&&(this._attribHTML=ne,B.length?(this._innerContainer.innerHTML=ne,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Pa.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Lo=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};Lo.prototype.onAdd=function(B){this._map=B,this._container=b.create("div","mapboxgl-ctrl");var Y=b.create("a","mapboxgl-ctrl-logo");return Y.target="_blank",Y.rel="noopener nofollow",Y.href="https://www.mapbox.com/",Y.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),Y.setAttribute("rel","noopener nofollow"),this._container.appendChild(Y),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Lo.prototype.onRemove=function(){b.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Lo.prototype.getDefaultPosition=function(){return"bottom-left"},Lo.prototype._updateLogo=function(B){B&&B.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},Lo.prototype._logoRequired=function(){if(this._map.style){var B=this._map.style.sourceCaches;for(var Y in B)if(B[Y].getSource().mapbox_logo)return!0;return!1}},Lo.prototype._updateCompact=function(){var B=this._container.children;if(B.length){var Y=B[0];this._map.getCanvasContainer().offsetWidth<250?Y.classList.add("mapboxgl-compact"):Y.classList.remove("mapboxgl-compact")}};var Ia=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Ia.prototype.add=function(B){var Y=++this._id;return this._queue.push({callback:B,id:Y,cancelled:!1}),Y},Ia.prototype.remove=function(B){for(var Y=this._currentlyRunning,G=0,L=Y?this._queue.concat(Y):this._queue;G<L.length;G+=1){var H=L[G];if(H.id===B)return void(H.cancelled=!0)}},Ia.prototype.run=function(B){B===void 0&&(B=0);var Y=this._currentlyRunning=this._queue;this._queue=[];for(var G=0,L=Y;G<L.length;G+=1){var H=L[G];if(!H.cancelled&&(H.callback(B),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Ia.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var qs={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Ys=a.window.HTMLImageElement,Da=a.window.HTMLElement,ti=a.window.ImageBitmap,Co=60,Ls={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:Co,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},yo=function(B){function Y(L){var H=this;if((L=a.extend({},Ls,L)).minZoom!=null&&L.maxZoom!=null&&L.minZoom>L.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(L.minPitch!=null&&L.maxPitch!=null&&L.minPitch>L.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(L.minPitch!=null&&L.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(L.maxPitch!=null&&L.maxPitch>Co)throw new Error("maxPitch must be less than or equal to 60");var $=new ai(L.minZoom,L.maxZoom,L.minPitch,L.maxPitch,L.renderWorldCopies);if(B.call(this,$,L),this._interactive=L.interactive,this._maxTileCacheSize=L.maxTileCacheSize,this._failIfMajorPerformanceCaveat=L.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=L.preserveDrawingBuffer,this._antialias=L.antialias,this._trackResize=L.trackResize,this._bearingSnap=L.bearingSnap,this._refreshExpiredTiles=L.refreshExpiredTiles,this._fadeDuration=L.fadeDuration,this._crossSourceCollisions=L.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=L.collectResourceTiming,this._renderTaskQueue=new Ia,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},qs,L.locale),this._clickTolerance=L.clickTolerance,this._requestManager=new a.RequestManager(L.transformRequest,L.accessToken),typeof L.container=="string"){if(this._container=a.window.document.getElementById(L.container),!this._container)throw new Error("Container '"+L.container+"' not found.")}else{if(!(L.container instanceof Da))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=L.container}if(L.maxBounds&&this.setMaxBounds(L.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return H._update(!1)}),this.on("moveend",function(){return H._update(!1)}),this.on("zoom",function(){return H._update(!0)}),a.window!==void 0&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new ri(this,L);var ne=typeof L.hash=="string"&&L.hash||void 0;this._hash=L.hash&&new Za(ne).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:L.center,zoom:L.zoom,bearing:L.bearing,pitch:L.pitch}),L.bounds&&(this.resize(),this.fitBounds(L.bounds,a.extend({},L.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=L.localIdeographFontFamily,L.style&&this.setStyle(L.style,{localIdeographFontFamily:L.localIdeographFontFamily}),L.attributionControl&&this.addControl(new Pa({customAttribution:L.customAttribution})),this.addControl(new Lo,L.logoPosition),this.on("style.load",function(){H.transform.unmodified&&H.jumpTo(H.style.stylesheet)}),this.on("data",function(ce){H._update(ce.dataType==="style"),H.fire(new a.Event(ce.dataType+"data",ce))}),this.on("dataloading",function(ce){H.fire(new a.Event(ce.dataType+"dataloading",ce))})}B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y;var G={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return Y.prototype._getMapId=function(){return this._mapId},Y.prototype.addControl=function(L,H){if(H===void 0&&(H=L.getDefaultPosition?L.getDefaultPosition():"top-right"),!L||!L.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var $=L.onAdd(this);this._controls.push(L);var ne=this._controlPositions[H];return H.indexOf("bottom")!==-1?ne.insertBefore($,ne.firstChild):ne.appendChild($),this},Y.prototype.removeControl=function(L){if(!L||!L.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var H=this._controls.indexOf(L);return H>-1&&this._controls.splice(H,1),L.onRemove(this),this},Y.prototype.hasControl=function(L){return this._controls.indexOf(L)>-1},Y.prototype.resize=function(L){var H=this._containerDimensions(),$=H[0],ne=H[1];this._resizeCanvas($,ne),this.transform.resize($,ne),this.painter.resize($,ne);var ce=!this._moving;return ce&&(this.stop(),this.fire(new a.Event("movestart",L)).fire(new a.Event("move",L))),this.fire(new a.Event("resize",L)),ce&&this.fire(new a.Event("moveend",L)),this},Y.prototype.getBounds=function(){return this.transform.getBounds()},Y.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},Y.prototype.setMaxBounds=function(L){return this.transform.setMaxBounds(a.LngLatBounds.convert(L)),this._update()},Y.prototype.setMinZoom=function(L){if((L=L??-2)>=-2&&L<=this.transform.maxZoom)return this.transform.minZoom=L,this._update(),this.getZoom()<L&&this.setZoom(L),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},Y.prototype.getMinZoom=function(){return this.transform.minZoom},Y.prototype.setMaxZoom=function(L){if((L=L??22)>=this.transform.minZoom)return this.transform.maxZoom=L,this._update(),this.getZoom()>L&&this.setZoom(L),this;throw new Error("maxZoom must be greater than the current minZoom")},Y.prototype.getMaxZoom=function(){return this.transform.maxZoom},Y.prototype.setMinPitch=function(L){if((L=L??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(L>=0&&L<=this.transform.maxPitch)return this.transform.minPitch=L,this._update(),this.getPitch()<L&&this.setPitch(L),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},Y.prototype.getMinPitch=function(){return this.transform.minPitch},Y.prototype.setMaxPitch=function(L){if((L=L??Co)>Co)throw new Error("maxPitch must be less than or equal to 60");if(L>=this.transform.minPitch)return this.transform.maxPitch=L,this._update(),this.getPitch()>L&&this.setPitch(L),this;throw new Error("maxPitch must be greater than the current minPitch")},Y.prototype.getMaxPitch=function(){return this.transform.maxPitch},Y.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},Y.prototype.setRenderWorldCopies=function(L){return this.transform.renderWorldCopies=L,this._update()},Y.prototype.project=function(L){return this.transform.locationPoint(a.LngLat.convert(L))},Y.prototype.unproject=function(L){return this.transform.pointLocation(a.Point.convert(L))},Y.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},Y.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},Y.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},Y.prototype._createDelegatedListener=function(L,H,$){var ne,ce=this;if(L==="mouseenter"||L==="mouseover"){var ve=!1;return{layer:H,listener:$,delegates:{mousemove:function(De){var He=ce.getLayer(H)?ce.queryRenderedFeatures(De.point,{layers:[H]}):[];He.length?ve||(ve=!0,$.call(ce,new ka(L,ce,De.originalEvent,{features:He}))):ve=!1},mouseout:function(){ve=!1}}}}if(L==="mouseleave"||L==="mouseout"){var Oe=!1;return{layer:H,listener:$,delegates:{mousemove:function(De){(ce.getLayer(H)?ce.queryRenderedFeatures(De.point,{layers:[H]}):[]).length?Oe=!0:Oe&&(Oe=!1,$.call(ce,new ka(L,ce,De.originalEvent)))},mouseout:function(De){Oe&&(Oe=!1,$.call(ce,new ka(L,ce,De.originalEvent)))}}}}return{layer:H,listener:$,delegates:(ne={},ne[L]=function(De){var He=ce.getLayer(H)?ce.queryRenderedFeatures(De.point,{layers:[H]}):[];He.length&&(De.features=He,$.call(ce,De),delete De.features)},ne)}},Y.prototype.on=function(L,H,$){if($===void 0)return B.prototype.on.call(this,L,H);var ne=this._createDelegatedListener(L,H,$);for(var ce in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[L]=this._delegatedListeners[L]||[],this._delegatedListeners[L].push(ne),ne.delegates)this.on(ce,ne.delegates[ce]);return this},Y.prototype.once=function(L,H,$){if($===void 0)return B.prototype.once.call(this,L,H);var ne=this._createDelegatedListener(L,H,$);for(var ce in ne.delegates)this.once(ce,ne.delegates[ce]);return this},Y.prototype.off=function(L,H,$){var ne=this;return $===void 0?B.prototype.off.call(this,L,H):(this._delegatedListeners&&this._delegatedListeners[L]&&function(ce){for(var ve=ce[L],Oe=0;Oe<ve.length;Oe++){var De=ve[Oe];if(De.layer===H&&De.listener===$){for(var He in De.delegates)ne.off(He,De.delegates[He]);return ve.splice(Oe,1),ne}}}(this._delegatedListeners),this)},Y.prototype.queryRenderedFeatures=function(L,H){if(!this.style)return[];var $;if(H!==void 0||L===void 0||L instanceof a.Point||Array.isArray(L)||(H=L,L=void 0),H=H||{},(L=L||[[0,0],[this.transform.width,this.transform.height]])instanceof a.Point||typeof L[0]=="number")$=[a.Point.convert(L)];else{var ne=a.Point.convert(L[0]),ce=a.Point.convert(L[1]);$=[ne,new a.Point(ce.x,ne.y),ce,new a.Point(ne.x,ce.y),ne]}return this.style.queryRenderedFeatures($,H,this.transform)},Y.prototype.querySourceFeatures=function(L,H){return this.style.querySourceFeatures(L,H)},Y.prototype.setStyle=function(L,H){return(H=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},H)).diff!==!1&&H.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&L?(this._diffStyle(L,H),this):(this._localIdeographFontFamily=H.localIdeographFontFamily,this._updateStyle(L,H))},Y.prototype._getUIString=function(L){var H=this._locale[L];if(H==null)throw new Error("Missing UI string '"+L+"'");return H},Y.prototype._updateStyle=function(L,H){return this.style&&(this.style.setEventedParent(null),this.style._remove()),L?(this.style=new cr(this,H||{}),this.style.setEventedParent(this,{style:this.style}),typeof L=="string"?this.style.loadURL(L):this.style.loadJSON(L),this):(delete this.style,this)},Y.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new cr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},Y.prototype._diffStyle=function(L,H){var $=this;if(typeof L=="string"){var ne=this._requestManager.normalizeStyleURL(L),ce=this._requestManager.transformRequest(ne,a.ResourceType.Style);a.getJSON(ce,function(ve,Oe){ve?$.fire(new a.ErrorEvent(ve)):Oe&&$._updateDiff(Oe,H)})}else typeof L=="object"&&this._updateDiff(L,H)},Y.prototype._updateDiff=function(L,H){try{this.style.setState(L)&&this._update(!0)}catch($){a.warnOnce("Unable to perform style diff: "+($.message||$.error||$)+".  Rebuilding the style from scratch."),this._updateStyle(L,H)}},Y.prototype.getStyle=function(){if(this.style)return this.style.serialize()},Y.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},Y.prototype.addSource=function(L,H){return this._lazyInitEmptyStyle(),this.style.addSource(L,H),this._update(!0)},Y.prototype.isSourceLoaded=function(L){var H=this.style&&this.style.sourceCaches[L];if(H!==void 0)return H.loaded();this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+L+"'")))},Y.prototype.areTilesLoaded=function(){var L=this.style&&this.style.sourceCaches;for(var H in L){var $=L[H]._tiles;for(var ne in $){var ce=$[ne];if(ce.state!=="loaded"&&ce.state!=="errored")return!1}}return!0},Y.prototype.addSourceType=function(L,H,$){return this._lazyInitEmptyStyle(),this.style.addSourceType(L,H,$)},Y.prototype.removeSource=function(L){return this.style.removeSource(L),this._update(!0)},Y.prototype.getSource=function(L){return this.style.getSource(L)},Y.prototype.addImage=function(L,H,$){$===void 0&&($={});var ne=$.pixelRatio;ne===void 0&&(ne=1);var ce=$.sdf;ce===void 0&&(ce=!1);var ve=$.stretchX,Oe=$.stretchY,De=$.content;if(this._lazyInitEmptyStyle(),H instanceof Ys||ti&&H instanceof ti){var He=a.browser.getImageData(H),We=He.width,rt=He.height,pt=He.data;this.style.addImage(L,{data:new a.RGBAImage({width:We,height:rt},pt),pixelRatio:ne,stretchX:ve,stretchY:Oe,content:De,sdf:ce,version:0})}else{if(H.width===void 0||H.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var vt=H.width,kt=H.height,Ot=H.data,Et=H;this.style.addImage(L,{data:new a.RGBAImage({width:vt,height:kt},new Uint8Array(Ot)),pixelRatio:ne,stretchX:ve,stretchY:Oe,content:De,sdf:ce,version:0,userImage:Et}),Et.onAdd&&Et.onAdd(this,L)}},Y.prototype.updateImage=function(L,H){var $=this.style.getImage(L);if(!$)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ne=H instanceof Ys||ti&&H instanceof ti?a.browser.getImageData(H):H,ce=ne.width,ve=ne.height,Oe=ne.data;if(ce===void 0||ve===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(ce!==$.data.width||ve!==$.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var De=!(H instanceof Ys||ti&&H instanceof ti);$.data.replace(Oe,De),this.style.updateImage(L,$)},Y.prototype.hasImage=function(L){return L?!!this.style.getImage(L):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},Y.prototype.removeImage=function(L){this.style.removeImage(L)},Y.prototype.loadImage=function(L,H){a.getImage(this._requestManager.transformRequest(L,a.ResourceType.Image),H)},Y.prototype.listImages=function(){return this.style.listImages()},Y.prototype.addLayer=function(L,H){return this._lazyInitEmptyStyle(),this.style.addLayer(L,H),this._update(!0)},Y.prototype.moveLayer=function(L,H){return this.style.moveLayer(L,H),this._update(!0)},Y.prototype.removeLayer=function(L){return this.style.removeLayer(L),this._update(!0)},Y.prototype.getLayer=function(L){return this.style.getLayer(L)},Y.prototype.setLayerZoomRange=function(L,H,$){return this.style.setLayerZoomRange(L,H,$),this._update(!0)},Y.prototype.setFilter=function(L,H,$){return $===void 0&&($={}),this.style.setFilter(L,H,$),this._update(!0)},Y.prototype.getFilter=function(L){return this.style.getFilter(L)},Y.prototype.setPaintProperty=function(L,H,$,ne){return ne===void 0&&(ne={}),this.style.setPaintProperty(L,H,$,ne),this._update(!0)},Y.prototype.getPaintProperty=function(L,H){return this.style.getPaintProperty(L,H)},Y.prototype.setLayoutProperty=function(L,H,$,ne){return ne===void 0&&(ne={}),this.style.setLayoutProperty(L,H,$,ne),this._update(!0)},Y.prototype.getLayoutProperty=function(L,H){return this.style.getLayoutProperty(L,H)},Y.prototype.setLight=function(L,H){return H===void 0&&(H={}),this._lazyInitEmptyStyle(),this.style.setLight(L,H),this._update(!0)},Y.prototype.getLight=function(){return this.style.getLight()},Y.prototype.setFeatureState=function(L,H){return this.style.setFeatureState(L,H),this._update()},Y.prototype.removeFeatureState=function(L,H){return this.style.removeFeatureState(L,H),this._update()},Y.prototype.getFeatureState=function(L){return this.style.getFeatureState(L)},Y.prototype.getContainer=function(){return this._container},Y.prototype.getCanvasContainer=function(){return this._canvasContainer},Y.prototype.getCanvas=function(){return this._canvas},Y.prototype._containerDimensions=function(){var L=0,H=0;return this._container&&(L=this._container.clientWidth||400,H=this._container.clientHeight||300),[L,H]},Y.prototype._detectMissingCSS=function(){a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},Y.prototype._setupContainer=function(){var L=this._container;L.classList.add("mapboxgl-map"),(this._missingCSSCanary=b.create("div","mapboxgl-canary",L)).style.visibility="hidden",this._detectMissingCSS();var H=this._canvasContainer=b.create("div","mapboxgl-canvas-container",L);this._interactive&&H.classList.add("mapboxgl-interactive"),this._canvas=b.create("canvas","mapboxgl-canvas",H),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var $=this._containerDimensions();this._resizeCanvas($[0],$[1]);var ne=this._controlContainer=b.create("div","mapboxgl-control-container",L),ce=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(ve){ce[ve]=b.create("div","mapboxgl-ctrl-"+ve,ne)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},Y.prototype._resizeCanvas=function(L,H){var $=a.browser.devicePixelRatio||1;this._canvas.width=$*L,this._canvas.height=$*H,this._canvas.style.width=L+"px",this._canvas.style.height=H+"px"},Y.prototype._setupPainter=function(){var L=a.extend({},_.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),H=this._canvas.getContext("webgl",L)||this._canvas.getContext("experimental-webgl",L);H?(this.painter=new pi(H,this.transform),a.webpSupported.testSupport(H)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))},Y.prototype._contextLost=function(L){L.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:L}))},Y.prototype._contextRestored=function(L){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:L}))},Y.prototype._onMapScroll=function(L){if(L.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},Y.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},Y.prototype._update=function(L){return this.style?(this._styleDirty=this._styleDirty||L,this._sourcesDirty=!0,this.triggerRepaint(),this):this},Y.prototype._requestRenderFrame=function(L){return this._update(),this._renderTaskQueue.add(L)},Y.prototype._cancelRenderFrame=function(L){this._renderTaskQueue.remove(L)},Y.prototype._render=function(L){var H,$=this,ne=0,ce=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(H=ce.createQueryEXT(),ce.beginQueryEXT(ce.TIME_ELAPSED_EXT,H),ne=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(L),!this._removed){var ve=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Oe=this.transform.zoom,De=a.browser.now();this.style.zoomHistory.update(Oe,De);var He=new a.EvaluationParameters(Oe,{now:De,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),We=He.crossFadingFactor();We===1&&We===this._crossFadingFactor||(ve=!0,this._crossFadingFactor=We),this.style.update(He)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||ve)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var rt=a.browser.now()-ne;ce.endQueryEXT(ce.TIME_ELAPSED_EXT,H),setTimeout(function(){var kt=ce.getQueryObjectEXT(H,ce.QUERY_RESULT_EXT)/1e6;ce.deleteQueryEXT(H),$.fire(new a.Event("gpu-timing-frame",{cpuTime:rt,gpuTime:kt}))},50)}if(this.listens("gpu-timing-layer")){var pt=this.painter.collectGpuTimers();setTimeout(function(){var kt=$.painter.queryGpuTimers(pt);$.fire(new a.Event("gpu-timing-layer",{layerTimes:kt}))},50)}var vt=this._sourcesDirty||this._styleDirty||this._placementDirty;return vt||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),!this._loaded||this._fullyLoaded||vt||(this._fullyLoaded=!0),this}},Y.prototype.remove=function(){this._hash&&this._hash.remove();for(var L=0,H=this._controls;L<H.length;L+=1)H[L].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),a.window!==void 0&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var $=this.painter.context.gl.getExtension("WEBGL_lose_context");$&&$.loseContext&&$.loseContext(),Ws(this._canvasContainer),Ws(this._controlContainer),Ws(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},Y.prototype.triggerRepaint=function(){var L=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(H){L._frame=null,L._render(H)}))},Y.prototype._onWindowOnline=function(){this._update()},Y.prototype._onWindowResize=function(L){this._trackResize&&this.resize({originalEvent:L})._update()},G.showTileBoundaries.get=function(){return!!this._showTileBoundaries},G.showTileBoundaries.set=function(L){this._showTileBoundaries!==L&&(this._showTileBoundaries=L,this._update())},G.showPadding.get=function(){return!!this._showPadding},G.showPadding.set=function(L){this._showPadding!==L&&(this._showPadding=L,this._update())},G.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},G.showCollisionBoxes.set=function(L){this._showCollisionBoxes!==L&&(this._showCollisionBoxes=L,L?this.style._generateCollisionBoxes():this._update())},G.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},G.showOverdrawInspector.set=function(L){this._showOverdrawInspector!==L&&(this._showOverdrawInspector=L,this._update())},G.repaint.get=function(){return!!this._repaint},G.repaint.set=function(L){this._repaint!==L&&(this._repaint=L,this.triggerRepaint())},G.vertices.get=function(){return!!this._vertices},G.vertices.set=function(L){this._vertices=L,this._update()},Y.prototype._setCacheLimits=function(L,H){a.setCacheLimits(L,H)},G.version.get=function(){return a.version},Object.defineProperties(Y.prototype,G),Y}(ha);function Ws(B){B.parentNode&&B.parentNode.removeChild(B)}var Zs={showCompass:!0,showZoom:!0,visualizePitch:!1},xo=function(B){var Y=this;this.options=a.extend({},Zs,B),this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(G){return G.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(G){return Y._map.zoomIn({},{originalEvent:G})}),b.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(G){return Y._map.zoomOut({},{originalEvent:G})}),b.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(G){Y.options.visualizePitch?Y._map.resetNorthPitch({},{originalEvent:G}):Y._map.resetNorth({},{originalEvent:G})}),this._compassIcon=b.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};xo.prototype._updateZoomButtons=function(){var B=this._map.getZoom(),Y=B===this._map.getMaxZoom(),G=B===this._map.getMinZoom();this._zoomInButton.disabled=Y,this._zoomOutButton.disabled=G,this._zoomInButton.setAttribute("aria-disabled",Y.toString()),this._zoomOutButton.setAttribute("aria-disabled",G.toString())},xo.prototype._rotateCompassArrow=function(){var B=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=B},xo.prototype.onAdd=function(B){return this._map=B,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Mi(this._map,this._compass,this.options.visualizePitch)),this._container},xo.prototype.onRemove=function(){b.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},xo.prototype._createButton=function(B,Y){var G=b.create("button",B,this._container);return G.type="button",G.addEventListener("click",Y),G},xo.prototype._setButtonTitle=function(B,Y){var G=this._map._getUIString("NavigationControl."+Y);B.title=G,B.setAttribute("aria-label",G)};var Mi=function(B,Y,G){G===void 0&&(G=!1),this._clickTolerance=10,this.element=Y,this.mouseRotate=new Uo({clickTolerance:B.dragRotate._mouseRotate._clickTolerance}),this.map=B,G&&(this.mousePitch=new no({clickTolerance:B.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),b.addEventListener(Y,"mousedown",this.mousedown),b.addEventListener(Y,"touchstart",this.touchstart,{passive:!1}),b.addEventListener(Y,"touchmove",this.touchmove),b.addEventListener(Y,"touchend",this.touchend),b.addEventListener(Y,"touchcancel",this.reset)};function Cs(B,Y,G){if(B=new a.LngLat(B.lng,B.lat),Y){var L=new a.LngLat(B.lng-360,B.lat),H=new a.LngLat(B.lng+360,B.lat),$=G.locationPoint(B).distSqr(Y);G.locationPoint(L).distSqr(Y)<$?B=L:G.locationPoint(H).distSqr(Y)<$&&(B=H)}for(;Math.abs(B.lng-G.center.lng)>180;){var ne=G.locationPoint(B);if(ne.x>=0&&ne.y>=0&&ne.x<=G.width&&ne.y<=G.height)break;B.lng>G.center.lng?B.lng-=360:B.lng+=360}return B}Mi.prototype.down=function(B,Y){this.mouseRotate.mousedown(B,Y),this.mousePitch&&this.mousePitch.mousedown(B,Y),b.disableDrag()},Mi.prototype.move=function(B,Y){var G=this.map,L=this.mouseRotate.mousemoveWindow(B,Y);if(L&&L.bearingDelta&&G.setBearing(G.getBearing()+L.bearingDelta),this.mousePitch){var H=this.mousePitch.mousemoveWindow(B,Y);H&&H.pitchDelta&&G.setPitch(G.getPitch()+H.pitchDelta)}},Mi.prototype.off=function(){var B=this.element;b.removeEventListener(B,"mousedown",this.mousedown),b.removeEventListener(B,"touchstart",this.touchstart,{passive:!1}),b.removeEventListener(B,"touchmove",this.touchmove),b.removeEventListener(B,"touchend",this.touchend),b.removeEventListener(B,"touchcancel",this.reset),this.offTemp()},Mi.prototype.offTemp=function(){b.enableDrag(),b.removeEventListener(a.window,"mousemove",this.mousemove),b.removeEventListener(a.window,"mouseup",this.mouseup)},Mi.prototype.mousedown=function(B){this.down(a.extend({},B,{ctrlKey:!0,preventDefault:function(){return B.preventDefault()}}),b.mousePos(this.element,B)),b.addEventListener(a.window,"mousemove",this.mousemove),b.addEventListener(a.window,"mouseup",this.mouseup)},Mi.prototype.mousemove=function(B){this.move(B,b.mousePos(this.element,B))},Mi.prototype.mouseup=function(B){this.mouseRotate.mouseupWindow(B),this.mousePitch&&this.mousePitch.mouseupWindow(B),this.offTemp()},Mi.prototype.touchstart=function(B){B.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=b.touchPos(this.element,B.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return B.preventDefault()}},this._startPos))},Mi.prototype.touchmove=function(B){B.targetTouches.length!==1?this.reset():(this._lastPos=b.touchPos(this.element,B.targetTouches)[0],this.move({preventDefault:function(){return B.preventDefault()}},this._lastPos))},Mi.prototype.touchend=function(B){B.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Mi.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Cr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function jr(B,Y,G){var L=B.classList;for(var H in Cr)L.remove("mapboxgl-"+G+"-anchor-"+H);L.add("mapboxgl-"+G+"-anchor-"+Y)}var Xa,Oo=function(B){function Y(G,L){if(B.call(this),(G instanceof a.window.HTMLElement||L)&&(G=a.extend({element:G},L)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=G&&G.anchor||"center",this._color=G&&G.color||"#3FB1CE",this._scale=G&&G.scale||1,this._draggable=G&&G.draggable||!1,this._clickTolerance=G&&G.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=G&&G.rotation||0,this._rotationAlignment=G&&G.rotationAlignment||"auto",this._pitchAlignment=G&&G.pitchAlignment&&G.pitchAlignment!=="auto"?G.pitchAlignment:this._rotationAlignment,G&&G.element)this._element=G.element,this._offset=a.Point.convert(G&&G.offset||[0,0]);else{this._defaultMarker=!0,this._element=b.create("div"),this._element.setAttribute("aria-label","Map marker");var H=b.createNS("http://www.w3.org/2000/svg","svg");H.setAttributeNS(null,"display","block"),H.setAttributeNS(null,"height","41px"),H.setAttributeNS(null,"width","27px"),H.setAttributeNS(null,"viewBox","0 0 27 41");var $=b.createNS("http://www.w3.org/2000/svg","g");$.setAttributeNS(null,"stroke","none"),$.setAttributeNS(null,"stroke-width","1"),$.setAttributeNS(null,"fill","none"),$.setAttributeNS(null,"fill-rule","evenodd");var ne=b.createNS("http://www.w3.org/2000/svg","g");ne.setAttributeNS(null,"fill-rule","nonzero");var ce=b.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"transform","translate(3.0, 29.0)"),ce.setAttributeNS(null,"fill","#000000");for(var ve=0,Oe=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];ve<Oe.length;ve+=1){var De=Oe[ve],He=b.createNS("http://www.w3.org/2000/svg","ellipse");He.setAttributeNS(null,"opacity","0.04"),He.setAttributeNS(null,"cx","10.5"),He.setAttributeNS(null,"cy","5.80029008"),He.setAttributeNS(null,"rx",De.rx),He.setAttributeNS(null,"ry",De.ry),ce.appendChild(He)}var We=b.createNS("http://www.w3.org/2000/svg","g");We.setAttributeNS(null,"fill",this._color);var rt=b.createNS("http://www.w3.org/2000/svg","path");rt.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),We.appendChild(rt);var pt=b.createNS("http://www.w3.org/2000/svg","g");pt.setAttributeNS(null,"opacity","0.25"),pt.setAttributeNS(null,"fill","#000000");var vt=b.createNS("http://www.w3.org/2000/svg","path");vt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),pt.appendChild(vt);var kt=b.createNS("http://www.w3.org/2000/svg","g");kt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),kt.setAttributeNS(null,"fill","#FFFFFF");var Ot=b.createNS("http://www.w3.org/2000/svg","g");Ot.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Et=b.createNS("http://www.w3.org/2000/svg","circle");Et.setAttributeNS(null,"fill","#000000"),Et.setAttributeNS(null,"opacity","0.25"),Et.setAttributeNS(null,"cx","5.5"),Et.setAttributeNS(null,"cy","5.5"),Et.setAttributeNS(null,"r","5.4999962");var jt=b.createNS("http://www.w3.org/2000/svg","circle");jt.setAttributeNS(null,"fill","#FFFFFF"),jt.setAttributeNS(null,"cx","5.5"),jt.setAttributeNS(null,"cy","5.5"),jt.setAttributeNS(null,"r","5.4999962"),Ot.appendChild(Et),Ot.appendChild(jt),ne.appendChild(ce),ne.appendChild(We),ne.appendChild(pt),ne.appendChild(kt),ne.appendChild(Ot),H.appendChild(ne),H.setAttributeNS(null,"height",41*this._scale+"px"),H.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(H),this._offset=a.Point.convert(G&&G.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(It){It.preventDefault()}),this._element.addEventListener("mousedown",function(It){It.preventDefault()}),jr(this._element,this._anchor,"marker"),this._popup=null}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.addTo=function(G){return this.remove(),this._map=G,G.getCanvasContainer().appendChild(this._element),G.on("move",this._update),G.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},Y.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),b.remove(this._element),this._popup&&this._popup.remove(),this},Y.prototype.getLngLat=function(){return this._lngLat},Y.prototype.setLngLat=function(G){return this._lngLat=a.LngLat.convert(G),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Y.prototype.getElement=function(){return this._element},Y.prototype.setPopup=function(G){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),G){if(!("offset"in G.options)){var L=13.5,H=Math.sqrt(Math.pow(L,2)/2);G.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[H,-1*(24.6+H)],"bottom-right":[-H,-1*(24.6+H)],left:[L,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=G,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},Y.prototype._onKeyPress=function(G){var L=G.code,H=G.charCode||G.keyCode;L!=="Space"&&L!=="Enter"&&H!==32&&H!==13||this.togglePopup()},Y.prototype._onMapClick=function(G){var L=G.originalEvent.target,H=this._element;this._popup&&(L===H||H.contains(L))&&this.togglePopup()},Y.prototype.getPopup=function(){return this._popup},Y.prototype.togglePopup=function(){var G=this._popup;return G?(G.isOpen()?G.remove():G.addTo(this._map),this):this},Y.prototype._update=function(G){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Cs(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var L="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?L="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(L="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var H="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?H="rotateX(0deg)":this._pitchAlignment==="map"&&(H="rotateX("+this._map.getPitch()+"deg)"),G&&G.type!=="moveend"||(this._pos=this._pos.round()),b.setTransform(this._element,Cr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+H+" "+L)}},Y.prototype.getOffset=function(){return this._offset},Y.prototype.setOffset=function(G){return this._offset=a.Point.convert(G),this._update(),this},Y.prototype._onMove=function(G){if(!this._isDragging){var L=this._clickTolerance||this._map._clickTolerance;this._isDragging=G.point.dist(this._pointerdownPos)>=L}this._isDragging&&(this._pos=G.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},Y.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},Y.prototype._addDragHandler=function(G){this._element.contains(G.originalEvent.target)&&(G.preventDefault(),this._positionDelta=G.point.sub(this._pos).add(this._offset),this._pointerdownPos=G.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},Y.prototype.setDraggable=function(G){return this._draggable=!!G,this._map&&(G?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},Y.prototype.isDraggable=function(){return this._draggable},Y.prototype.setRotation=function(G){return this._rotation=G||0,this._update(),this},Y.prototype.getRotation=function(){return this._rotation},Y.prototype.setRotationAlignment=function(G){return this._rotationAlignment=G||"auto",this._update(),this},Y.prototype.getRotationAlignment=function(){return this._rotationAlignment},Y.prototype.setPitchAlignment=function(G){return this._pitchAlignment=G&&G!=="auto"?G:this._rotationAlignment,this._update(),this},Y.prototype.getPitchAlignment=function(){return this._pitchAlignment},Y}(a.Evented),Go={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Zi=0,Po=!1,di=function(B){function Y(G){B.call(this),this.options=a.extend({},Go,G),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.onAdd=function(G){return this._map=G,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),L=this._setupUI,Xa!==void 0?L(Xa):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(H){Xa=H.state!=="denied",L(Xa)}):(Xa=!!a.window.navigator.geolocation,L(Xa)),this._container;var L},Y.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),b.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Zi=0,Po=!1},Y.prototype._isOutOfMapMaxBounds=function(G){var L=this._map.getMaxBounds(),H=G.coords;return L&&(H.longitude<L.getWest()||H.longitude>L.getEast()||H.latitude<L.getSouth()||H.latitude>L.getNorth())},Y.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},Y.prototype._onSuccess=function(G){if(this._map){if(this._isOutOfMapMaxBounds(G))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",G)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=G,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(G),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(G),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",G)),this._finish()}},Y.prototype._updateCamera=function(G){var L=new a.LngLat(G.coords.longitude,G.coords.latitude),H=G.coords.accuracy,$=this._map.getBearing(),ne=a.extend({bearing:$},this.options.fitBoundsOptions);this._map.fitBounds(L.toBounds(H),ne,{geolocateSource:!0})},Y.prototype._updateMarker=function(G){if(G){var L=new a.LngLat(G.coords.longitude,G.coords.latitude);this._accuracyCircleMarker.setLngLat(L).addTo(this._map),this._userLocationDotMarker.setLngLat(L).addTo(this._map),this._accuracy=G.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},Y.prototype._updateCircleRadius=function(){var G=this._map._container.clientHeight/2,L=this._map.unproject([0,G]),H=this._map.unproject([1,G]),$=L.distanceTo(H),ne=Math.ceil(2*this._accuracy/$);this._circleElement.style.width=ne+"px",this._circleElement.style.height=ne+"px"},Y.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},Y.prototype._onError=function(G){if(this._map){if(this.options.trackUserLocation)if(G.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var L=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=L,this._geolocateButton.setAttribute("aria-label",L),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(G.code===3&&Po)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",G)),this._finish()}},Y.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},Y.prototype._setupUI=function(G){var L=this;if(this._container.addEventListener("contextmenu",function(ne){return ne.preventDefault()}),this._geolocateButton=b.create("button","mapboxgl-ctrl-geolocate",this._container),b.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",G===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var H=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=H,this._geolocateButton.setAttribute("aria-label",H)}else{var $=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=$,this._geolocateButton.setAttribute("aria-label",$)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=b.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Oo(this._dotElement),this._circleElement=b.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Oo({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ne){var ce=ne.originalEvent&&ne.originalEvent.type==="resize";ne.geolocateSource||L._watchState!=="ACTIVE_LOCK"||ce||(L._watchState="BACKGROUND",L._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),L._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),L.fire(new a.Event("trackuserlocationend")))})},Y.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Zi--,Po=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var G;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Zi>1?(G={maximumAge:6e5,timeout:0},Po=!0):(G=this.options.positionOptions,Po=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,G)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},Y.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},Y}(a.Evented),xu={maxWidth:100,unit:"metric"},Ja=function(B){this.options=a.extend({},xu,B),a.bindAll(["_onMove","setUnit"],this)};function mi(B,Y,G){var L=G&&G.maxWidth||100,H=B._container.clientHeight/2,$=B.unproject([0,H]),ne=B.unproject([L,H]),ce=$.distanceTo(ne);if(G&&G.unit==="imperial"){var ve=3.2808*ce;ve>5280?Oi(Y,L,ve/5280,B._getUIString("ScaleControl.Miles")):Oi(Y,L,ve,B._getUIString("ScaleControl.Feet"))}else G&&G.unit==="nautical"?Oi(Y,L,ce/1852,B._getUIString("ScaleControl.NauticalMiles")):ce>=1e3?Oi(Y,L,ce/1e3,B._getUIString("ScaleControl.Kilometers")):Oi(Y,L,ce,B._getUIString("ScaleControl.Meters"))}function Oi(B,Y,G,L){var H,$,ne,ce=(H=G,($=Math.pow(10,(""+Math.floor(H)).length-1))*((ne=H/$)>=10?10:ne>=5?5:ne>=3?3:ne>=2?2:ne>=1?1:function(Oe){var De=Math.pow(10,Math.ceil(-Math.log(Oe)/Math.LN10));return Math.round(Oe*De)/De}(ne))),ve=ce/G;B.style.width=Y*ve+"px",B.innerHTML=ce+"&nbsp;"+L}Ja.prototype.getDefaultPosition=function(){return"bottom-left"},Ja.prototype._onMove=function(){mi(this._map,this._container,this.options)},Ja.prototype.onAdd=function(B){return this._map=B,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",B.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Ja.prototype.onRemove=function(){b.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Ja.prototype.setUnit=function(B){this.options.unit=B,mi(this._map,this._container,this.options)};var Ua=function(B){this._fullscreen=!1,B&&B.container&&(B.container instanceof a.window.HTMLElement?this._container=B.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};Ua.prototype.onAdd=function(B){return this._map=B,this._container||(this._container=this._map.getContainer()),this._controlContainer=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Ua.prototype.onRemove=function(){b.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Ua.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},Ua.prototype._setupUI=function(){var B=this._fullscreenButton=b.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);b.create("span","mapboxgl-ctrl-icon",B).setAttribute("aria-hidden",!0),B.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Ua.prototype._updateTitle=function(){var B=this._getTitle();this._fullscreenButton.setAttribute("aria-label",B),this._fullscreenButton.title=B},Ua.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Ua.prototype._isFullscreen=function(){return this._fullscreen},Ua.prototype._changeIcon=function(){(a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Ua.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var cs={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Kl=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Ke=function(B){function Y(G){B.call(this),this.options=a.extend(Object.create(cs),G),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return B&&(Y.__proto__=B),Y.prototype=Object.create(B&&B.prototype),Y.prototype.constructor=Y,Y.prototype.addTo=function(G){return this._map&&this.remove(),this._map=G,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},Y.prototype.isOpen=function(){return!!this._map},Y.prototype.remove=function(){return this._content&&b.remove(this._content),this._container&&(b.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},Y.prototype.getLngLat=function(){return this._lngLat},Y.prototype.setLngLat=function(G){return this._lngLat=a.LngLat.convert(G),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},Y.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},Y.prototype.getElement=function(){return this._container},Y.prototype.setText=function(G){return this.setDOMContent(a.window.document.createTextNode(G))},Y.prototype.setHTML=function(G){var L,H=a.window.document.createDocumentFragment(),$=a.window.document.createElement("body");for($.innerHTML=G;L=$.firstChild;)H.appendChild(L);return this.setDOMContent(H)},Y.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},Y.prototype.setMaxWidth=function(G){return this.options.maxWidth=G,this._update(),this},Y.prototype.setDOMContent=function(G){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=b.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(G),this._createCloseButton(),this._update(),this._focusFirstElement(),this},Y.prototype.addClassName=function(G){this._container&&this._container.classList.add(G)},Y.prototype.removeClassName=function(G){this._container&&this._container.classList.remove(G)},Y.prototype.setOffset=function(G){return this.options.offset=G,this._update(),this},Y.prototype.toggleClassName=function(G){if(this._container)return this._container.classList.toggle(G)},Y.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=b.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},Y.prototype._onMouseUp=function(G){this._update(G.point)},Y.prototype._onMouseMove=function(G){this._update(G.point)},Y.prototype._onDrag=function(G){this._update(G.point)},Y.prototype._update=function(G){var L=this,H=this._lngLat||this._trackPointer;if(this._map&&H&&this._content&&(this._container||(this._container=b.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=b.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(We){return L._container.classList.add(We)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Cs(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||G)){var $=this._pos=this._trackPointer&&G?G:this._map.project(this._lngLat),ne=this.options.anchor,ce=nt(this.options.offset);if(!ne){var ve,Oe=this._container.offsetWidth,De=this._container.offsetHeight;ve=$.y+ce.bottom.y<De?["top"]:$.y>this._map.transform.height-De?["bottom"]:[],$.x<Oe/2?ve.push("left"):$.x>this._map.transform.width-Oe/2&&ve.push("right"),ne=ve.length===0?"bottom":ve.join("-")}var He=$.add(ce[ne]).round();b.setTransform(this._container,Cr[ne]+" translate("+He.x+"px,"+He.y+"px)"),jr(this._container,ne,"popup")}},Y.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var G=this._container.querySelector(Kl);G&&G.focus()}},Y.prototype._onClose=function(){this.remove()},Y}(a.Evented);function nt(B){if(B){if(typeof B=="number"){var Y=Math.round(Math.sqrt(.5*Math.pow(B,2)));return{center:new a.Point(0,0),top:new a.Point(0,B),"top-left":new a.Point(Y,Y),"top-right":new a.Point(-Y,Y),bottom:new a.Point(0,-B),"bottom-left":new a.Point(Y,-Y),"bottom-right":new a.Point(-Y,-Y),left:new a.Point(B,0),right:new a.Point(-B,0)}}if(B instanceof a.Point||Array.isArray(B)){var G=a.Point.convert(B);return{center:G,top:G,"top-left":G,"top-right":G,bottom:G,"bottom-left":G,"bottom-right":G,left:G,right:G}}return{center:a.Point.convert(B.center||[0,0]),top:a.Point.convert(B.top||[0,0]),"top-left":a.Point.convert(B["top-left"]||[0,0]),"top-right":a.Point.convert(B["top-right"]||[0,0]),bottom:a.Point.convert(B.bottom||[0,0]),"bottom-left":a.Point.convert(B["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(B["bottom-right"]||[0,0]),left:a.Point.convert(B.left||[0,0]),right:a.Point.convert(B.right||[0,0])}}return nt(new a.Point(0,0))}var ut={version:a.version,supported:_,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:yo,NavigationControl:xo,GeolocateControl:di,AttributionControl:Pa,ScaleControl:Ja,FullscreenControl:Ua,Popup:Ke,Marker:Oo,Style:cr,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:function(){xt().acquire(at)},clearPrewarmedResources:function(){var B=gt;B&&(B.isPreloaded()&&B.numActive()===1?(B.release(at),gt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(B){a.config.ACCESS_TOKEN=B},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(B){a.config.API_URL=B},get workerCount(){return $e.workerCount},set workerCount(B){$e.workerCount=B},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(B){a.config.MAX_PARALLEL_IMAGE_REQUESTS=B},clearStorage:function(B){a.clearTileCache(B)},workerUrl:""};return ut}),M}()},88294:function(q,C,e){q.exports=e(62849)},62849:function(q,C,e){var M=e(91358),k=e(53435),a=e(18863),_=e(21527),b=e(71299),h=e(46775),o=e(30120),t=e(64941),i=e(90660),n=e(27084);function r(l,s){for(var u=s[0],p=s[1],c=1/(s[2]-u),x=1/(s[3]-p),g=new Array(l.length),d=0,v=l.length/2;d<v;d++)g[2*d]=k((l[2*d]-u)*c,0,1),g[2*d+1]=k((l[2*d+1]-p)*x,0,1);return g}q.exports=function(l,s){s||(s={}),l=o(l,"float64"),s=b(s,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var u=h(s.maxDepth,255),p=h(s.bounds,_(l,2));p[0]===p[2]&&p[2]++,p[1]===p[3]&&p[3]++;var c,x=r(l,p),g=l.length>>>1;s.dtype||(s.dtype="array"),typeof s.dtype=="string"?c=new(i(s.dtype))(g):s.dtype&&(c=s.dtype,Array.isArray(c)&&(c.length=g));for(var d=0;d<g;++d)c[d]=d;var v=[],y=[],m=[],w=[];(function z(j,R,N,Z,F,U){if(!Z.length)return null;var V=v[F]||(v[F]=[]),te=m[F]||(m[F]=[]),Q=y[F]||(y[F]=[]),J=V.length;if(++F>u||U>1073741824){for(var X=0;X<Z.length;X++)V.push(Z[X]),te.push(U),Q.push(null,null,null,null);return J}if(V.push(Z[0]),te.push(U),Z.length<=1)return Q.push(null,null,null,null),J;for(var K=.5*N,ee=j+K,re=R+K,ie=[],ae=[],ue=[],pe=[],de=1,ye=Z.length;de<ye;de++){var be=Z[de],me=x[2*be],Ee=x[2*be+1];me<ee?Ee<re?ie.push(be):ae.push(be):Ee<re?ue.push(be):pe.push(be)}return U<<=2,Q.push(z(j,R,K,ie,F,U),z(j,re,K,ae,F,U+1),z(ee,R,K,ue,F,U+2),z(ee,re,K,pe,F,U+3)),J})(0,0,1,c,0,1);for(var f=0,S=0;S<v.length;S++){var T=v[S];if(c.set)c.set(T,f);else for(var E=0,O=T.length;E<O;E++)c[E+f]=T[E];var P=f+v[S].length;w[S]=[f,P],f=P}return c.range=function(){for(var z,j=[],R=arguments.length;R--;)j[R]=arguments[R];if(t(j[j.length-1])){var N=j.pop();j.length||N.x==null&&N.l==null&&N.left==null||(j=[N],z={}),z=b(N,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else z={};j.length||(j=p);var Z,F=a.apply(void 0,j),U=[Math.min(F.x,F.x+F.width),Math.min(F.y,F.y+F.height),Math.max(F.x,F.x+F.width),Math.max(F.y,F.y+F.height)],V=U[0],te=U[1],Q=U[2],J=U[3],X=r([V,te,Q,J],p),K=X[0],ee=X[1],re=X[2],ie=X[3],ae=h(z.level,v.length);if(z.d!=null&&(typeof z.d=="number"?Z=[z.d,z.d]:z.d.length&&(Z=z.d),ae=Math.min(Math.max(Math.ceil(-n(Math.abs(Z[0])/(p[2]-p[0]))),Math.ceil(-n(Math.abs(Z[1])/(p[3]-p[1])))),ae)),ae=Math.min(ae,v.length),z.lod)return function(pe,de,ye,be,me){for(var Ee=[],Te=0;Te<me;Te++){var we=m[Te],oe=w[Te][0],se=I(pe,de,Te),he=I(ye,be,Te),Se=M.ge(we,se),_e=M.gt(we,he,Se,we.length-1);Ee[Te]=[Se+oe,_e+oe]}return Ee}(K,ee,re,ie,ae);var ue=[];return function pe(de,ye,be,me,Ee,Te){if(Ee!==null&&Te!==null&&!(K>de+be||ee>ye+be||re<de||ie<ye||me>=ae||Ee===Te)){var we=v[me];Te===void 0&&(Te=we.length);for(var oe=Ee;oe<Te;oe++){var se=we[oe],he=l[2*se],Se=l[2*se+1];he>=V&&he<=Q&&Se>=te&&Se<=J&&ue.push(se)}var _e=y[me],Ae=_e[4*Ee+0],Ce=_e[4*Ee+1],Re=_e[4*Ee+2],fe=_e[4*Ee+3],xe=function(Fe,ze){for(var qe=null,Ye=0;qe===null;)if(qe=Fe[4*ze+Ye],++Ye>Fe.length)return null;return qe}(_e,Ee+1),ke=.5*be,Ie=me+1;pe(de,ye,ke,Ie,Ae,Ce||Re||fe||xe),pe(de,ye+ke,ke,Ie,Ce,Re||fe||xe),pe(de+ke,ye,ke,Ie,Re,fe||xe),pe(de+ke,ye+ke,ke,Ie,fe,xe)}}(0,0,1,0,0,1),ue},c;function I(z,j,R){for(var N=1,Z=.5,F=.5,U=.5,V=0;V<R;V++)N<<=2,N+=z<Z?j<F?0:1:j<F?2:3,U*=.5,Z+=z<Z?-U:U,F+=j<F?-U:U;return N}}},30774:function(q,C,e){Object.defineProperty(C,"__esModule",{value:!0});var M=e(60302),k=6378137;function a(h){var o=0;if(h&&h.length>0){o+=Math.abs(_(h[0]));for(var t=1;t<h.length;t++)o-=Math.abs(_(h[t]))}return o}function _(h){var o,t,i,n,r,l,s=0,u=h.length;if(u>2){for(l=0;l<u;l++)l===u-2?(i=u-2,n=u-1,r=0):l===u-1?(i=u-1,n=0,r=1):(i=l,n=l+1,r=l+2),o=h[i],t=h[n],s+=(b(h[r][0])-b(o[0]))*Math.sin(b(t[1]));s=s*k*k/2}return s}function b(h){return h*Math.PI/180}C.default=function(h){return M.geomReduce(h,function(o,t){return o+function(i){var n,r=0;switch(i.type){case"Polygon":return a(i.coordinates);case"MultiPolygon":for(n=0;n<i.coordinates.length;n++)r+=a(i.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)},0)}},23132:function(q,C){function e(l,s,u){u===void 0&&(u={});var p={type:"Feature"};return(u.id===0||u.id)&&(p.id=u.id),u.bbox&&(p.bbox=u.bbox),p.properties=s||{},p.geometry=l,p}function M(l,s,u){if(u===void 0&&(u={}),!l)throw new Error("coordinates is required");if(!Array.isArray(l))throw new Error("coordinates must be an Array");if(l.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!r(l[0])||!r(l[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:l},s,u)}function k(l,s,u){u===void 0&&(u={});for(var p=0,c=l;p<c.length;p++){var x=c[p];if(x.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<x[x.length-1].length;g++)if(x[x.length-1][g]!==x[0][g])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:l},s,u)}function a(l,s,u){if(u===void 0&&(u={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:l},s,u)}function _(l,s){s===void 0&&(s={});var u={type:"FeatureCollection"};return s.id&&(u.id=s.id),s.bbox&&(u.bbox=s.bbox),u.features=l,u}function b(l,s,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:l},s,u)}function h(l,s,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:l},s,u)}function o(l,s,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:l},s,u)}function t(l,s){s===void 0&&(s="kilometers");var u=C.factors[s];if(!u)throw new Error(s+" units is invalid");return l*u}function i(l,s){s===void 0&&(s="kilometers");var u=C.factors[s];if(!u)throw new Error(s+" units is invalid");return l/u}function n(l){return l%(2*Math.PI)*180/Math.PI}function r(l){return!isNaN(l)&&l!==null&&!Array.isArray(l)}Object.defineProperty(C,"__esModule",{value:!0}),C.earthRadius=63710088e-1,C.factors={centimeters:100*C.earthRadius,centimetres:100*C.earthRadius,degrees:C.earthRadius/111325,feet:3.28084*C.earthRadius,inches:39.37*C.earthRadius,kilometers:C.earthRadius/1e3,kilometres:C.earthRadius/1e3,meters:C.earthRadius,metres:C.earthRadius,miles:C.earthRadius/1609.344,millimeters:1e3*C.earthRadius,millimetres:1e3*C.earthRadius,nauticalmiles:C.earthRadius/1852,radians:1,yards:1.0936*C.earthRadius},C.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/C.earthRadius,yards:1.0936133},C.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},C.feature=e,C.geometry=function(l,s,u){switch(l){case"Point":return M(s).geometry;case"LineString":return a(s).geometry;case"Polygon":return k(s).geometry;case"MultiPoint":return h(s).geometry;case"MultiLineString":return b(s).geometry;case"MultiPolygon":return o(s).geometry;default:throw new Error(l+" is invalid")}},C.point=M,C.points=function(l,s,u){return u===void 0&&(u={}),_(l.map(function(p){return M(p,s)}),u)},C.polygon=k,C.polygons=function(l,s,u){return u===void 0&&(u={}),_(l.map(function(p){return k(p,s)}),u)},C.lineString=a,C.lineStrings=function(l,s,u){return u===void 0&&(u={}),_(l.map(function(p){return a(p,s)}),u)},C.featureCollection=_,C.multiLineString=b,C.multiPoint=h,C.multiPolygon=o,C.geometryCollection=function(l,s,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:l},s,u)},C.round=function(l,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,s||0);return Math.round(l*u)/u},C.radiansToLength=t,C.lengthToRadians=i,C.lengthToDegrees=function(l,s){return n(i(l,s))},C.bearingToAzimuth=function(l){var s=l%360;return s<0&&(s+=360),s},C.radiansToDegrees=n,C.degreesToRadians=function(l){return l%360*Math.PI/180},C.convertLength=function(l,s,u){if(s===void 0&&(s="kilometers"),u===void 0&&(u="kilometers"),!(l>=0))throw new Error("length must be a positive number");return t(i(l,s),u)},C.convertArea=function(l,s,u){if(s===void 0&&(s="meters"),u===void 0&&(u="kilometers"),!(l>=0))throw new Error("area must be a positive number");var p=C.areaFactors[s];if(!p)throw new Error("invalid original units");var c=C.areaFactors[u];if(!c)throw new Error("invalid final units");return l/p*c},C.isNumber=r,C.isObject=function(l){return!!l&&l.constructor===Object},C.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(l.length!==4&&l.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(s){if(!r(s))throw new Error("bbox must only contain numbers")})},C.validateId=function(l){if(!l)throw new Error("id is required");if(["string","number"].indexOf(typeof l)===-1)throw new Error("id must be a number or a string")}},60302:function(q,C,e){Object.defineProperty(C,"__esModule",{value:!0});var M=e(23132);function k(i,n,r){if(i!==null)for(var l,s,u,p,c,x,g,d,v=0,y=0,m=i.type,w=m==="FeatureCollection",f=m==="Feature",S=w?i.features.length:1,T=0;T<S;T++){c=(d=!!(g=w?i.features[T].geometry:f?i.geometry:i)&&g.type==="GeometryCollection")?g.geometries.length:1;for(var E=0;E<c;E++){var O=0,P=0;if((p=d?g.geometries[E]:g)!==null){x=p.coordinates;var I=p.type;switch(v=!r||I!=="Polygon"&&I!=="MultiPolygon"?0:1,I){case null:break;case"Point":if(n(x,y,T,O,P)===!1)return!1;y++,O++;break;case"LineString":case"MultiPoint":for(l=0;l<x.length;l++){if(n(x[l],y,T,O,P)===!1)return!1;y++,I==="MultiPoint"&&O++}I==="LineString"&&O++;break;case"Polygon":case"MultiLineString":for(l=0;l<x.length;l++){for(s=0;s<x[l].length-v;s++){if(n(x[l][s],y,T,O,P)===!1)return!1;y++}I==="MultiLineString"&&O++,I==="Polygon"&&P++}I==="Polygon"&&O++;break;case"MultiPolygon":for(l=0;l<x.length;l++){for(P=0,s=0;s<x[l].length;s++){for(u=0;u<x[l][s].length-v;u++){if(n(x[l][s][u],y,T,O,P)===!1)return!1;y++}P++}O++}break;case"GeometryCollection":for(l=0;l<p.geometries.length;l++)if(k(p.geometries[l],n,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,n){var r;switch(i.type){case"FeatureCollection":for(r=0;r<i.features.length&&n(i.features[r].properties,r)!==!1;r++);break;case"Feature":n(i.properties,0)}}function _(i,n){if(i.type==="Feature")n(i,0);else if(i.type==="FeatureCollection")for(var r=0;r<i.features.length&&n(i.features[r],r)!==!1;r++);}function b(i,n){var r,l,s,u,p,c,x,g,d,v,y=0,m=i.type==="FeatureCollection",w=i.type==="Feature",f=m?i.features.length:1;for(r=0;r<f;r++){for(c=m?i.features[r].geometry:w?i.geometry:i,g=m?i.features[r].properties:w?i.properties:{},d=m?i.features[r].bbox:w?i.bbox:void 0,v=m?i.features[r].id:w?i.id:void 0,p=(x=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,s=0;s<p;s++)if((u=x?c.geometries[s]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(n(u,y,g,d,v)===!1)return!1;break;case"GeometryCollection":for(l=0;l<u.geometries.length;l++)if(n(u.geometries[l],y,g,d,v)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(n(null,y,g,d,v)===!1)return!1;y++}}function h(i,n){b(i,function(r,l,s,u,p){var c,x=r===null?null:r.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return n(M.feature(r,s,{bbox:u,id:p}),l,0)!==!1&&void 0}switch(x){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var g=0;g<r.coordinates.length;g++){var d={type:c,coordinates:r.coordinates[g]};if(n(M.feature(d,s),l,g)===!1)return!1}})}function o(i,n){h(i,function(r,l,s){var u=0;if(r.geometry){var p=r.geometry.type;if(p!=="Point"&&p!=="MultiPoint"){var c,x=0,g=0,d=0;return k(r,function(v,y,m,w,f){if(c===void 0||l>x||w>g||f>d)return c=v,x=l,g=w,d=f,void(u=0);var S=M.lineString([c,v],r.properties);if(n(S,l,s,f,u)===!1)return!1;u++,c=v})!==!1&&void 0}}})}function t(i,n){if(!i)throw new Error("geojson is required");h(i,function(r,l,s){if(r.geometry!==null){var u=r.geometry.type,p=r.geometry.coordinates;switch(u){case"LineString":if(n(r,l,s,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<p.length;c++)if(n(M.lineString(p[c],r.properties),l,s,c)===!1)return!1}}})}C.coordEach=k,C.coordReduce=function(i,n,r,l){var s=r;return k(i,function(u,p,c,x,g){s=p===0&&r===void 0?u:n(s,u,p,c,x,g)},l),s},C.propEach=a,C.propReduce=function(i,n,r){var l=r;return a(i,function(s,u){l=u===0&&r===void 0?s:n(l,s,u)}),l},C.featureEach=_,C.featureReduce=function(i,n,r){var l=r;return _(i,function(s,u){l=u===0&&r===void 0?s:n(l,s,u)}),l},C.coordAll=function(i){var n=[];return k(i,function(r){n.push(r)}),n},C.geomEach=b,C.geomReduce=function(i,n,r){var l=r;return b(i,function(s,u,p,c,x){l=u===0&&r===void 0?s:n(l,s,u,p,c,x)}),l},C.flattenEach=h,C.flattenReduce=function(i,n,r){var l=r;return h(i,function(s,u,p){l=u===0&&p===0&&r===void 0?s:n(l,s,u,p)}),l},C.segmentEach=o,C.segmentReduce=function(i,n,r){var l=r,s=!1;return o(i,function(u,p,c,x,g){l=s===!1&&r===void 0?u:n(l,u,p,c,x,g),s=!0}),l},C.lineEach=t,C.lineReduce=function(i,n,r){var l=r;return t(i,function(s,u,p,c){l=u===0&&r===void 0?s:n(l,s,u,p,c)}),l},C.findSegment=function(i,n){if(n=n||{},!M.isObject(n))throw new Error("options is invalid");var r,l=n.featureIndex||0,s=n.multiFeatureIndex||0,u=n.geometryIndex||0,p=n.segmentIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":l<0&&(l=i.features.length+l),c=c||i.features[l].properties,r=i.features[l].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(r===null)return null;var x=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return p<0&&(p=x.length+p-1),M.lineString([x[p],x[p+1]],c,n);case"Polygon":return u<0&&(u=x.length+u),p<0&&(p=x[u].length+p-1),M.lineString([x[u][p],x[u][p+1]],c,n);case"MultiLineString":return s<0&&(s=x.length+s),p<0&&(p=x[s].length+p-1),M.lineString([x[s][p],x[s][p+1]],c,n);case"MultiPolygon":return s<0&&(s=x.length+s),u<0&&(u=x[s].length+u),p<0&&(p=x[s][u].length-p-1),M.lineString([x[s][u][p],x[s][u][p+1]],c,n)}throw new Error("geojson is invalid")},C.findPoint=function(i,n){if(n=n||{},!M.isObject(n))throw new Error("options is invalid");var r,l=n.featureIndex||0,s=n.multiFeatureIndex||0,u=n.geometryIndex||0,p=n.coordIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":l<0&&(l=i.features.length+l),c=c||i.features[l].properties,r=i.features[l].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(r===null)return null;var x=r.coordinates;switch(r.type){case"Point":return M.point(x,c,n);case"MultiPoint":return s<0&&(s=x.length+s),M.point(x[s],c,n);case"LineString":return p<0&&(p=x.length+p),M.point(x[p],c,n);case"Polygon":return u<0&&(u=x.length+u),p<0&&(p=x[u].length+p),M.point(x[u][p],c,n);case"MultiLineString":return s<0&&(s=x.length+s),p<0&&(p=x[s].length+p),M.point(x[s][p],c,n);case"MultiPolygon":return s<0&&(s=x.length+s),u<0&&(u=x[s].length+u),p<0&&(p=x[s][u].length-p),M.point(x[s][u][p],c,n)}throw new Error("geojson is invalid")}},85268:function(q,C,e){Object.defineProperty(C,"__esModule",{value:!0});var M=e(27138);function k(a){var _=[1/0,1/0,-1/0,-1/0];return M.coordEach(a,function(b){_[0]>b[0]&&(_[0]=b[0]),_[1]>b[1]&&(_[1]=b[1]),_[2]<b[0]&&(_[2]=b[0]),_[3]<b[1]&&(_[3]=b[1])}),_}k.default=k,C.default=k},94228:function(q,C){function e(l,s,u){u===void 0&&(u={});var p={type:"Feature"};return(u.id===0||u.id)&&(p.id=u.id),u.bbox&&(p.bbox=u.bbox),p.properties=s||{},p.geometry=l,p}function M(l,s,u){if(u===void 0&&(u={}),!l)throw new Error("coordinates is required");if(!Array.isArray(l))throw new Error("coordinates must be an Array");if(l.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!r(l[0])||!r(l[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:l},s,u)}function k(l,s,u){u===void 0&&(u={});for(var p=0,c=l;p<c.length;p++){var x=c[p];if(x.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<x[x.length-1].length;g++)if(x[x.length-1][g]!==x[0][g])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:l},s,u)}function a(l,s,u){if(u===void 0&&(u={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:l},s,u)}function _(l,s){s===void 0&&(s={});var u={type:"FeatureCollection"};return s.id&&(u.id=s.id),s.bbox&&(u.bbox=s.bbox),u.features=l,u}function b(l,s,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:l},s,u)}function h(l,s,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:l},s,u)}function o(l,s,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:l},s,u)}function t(l,s){s===void 0&&(s="kilometers");var u=C.factors[s];if(!u)throw new Error(s+" units is invalid");return l*u}function i(l,s){s===void 0&&(s="kilometers");var u=C.factors[s];if(!u)throw new Error(s+" units is invalid");return l/u}function n(l){return l%(2*Math.PI)*180/Math.PI}function r(l){return!isNaN(l)&&l!==null&&!Array.isArray(l)}Object.defineProperty(C,"__esModule",{value:!0}),C.earthRadius=63710088e-1,C.factors={centimeters:100*C.earthRadius,centimetres:100*C.earthRadius,degrees:C.earthRadius/111325,feet:3.28084*C.earthRadius,inches:39.37*C.earthRadius,kilometers:C.earthRadius/1e3,kilometres:C.earthRadius/1e3,meters:C.earthRadius,metres:C.earthRadius,miles:C.earthRadius/1609.344,millimeters:1e3*C.earthRadius,millimetres:1e3*C.earthRadius,nauticalmiles:C.earthRadius/1852,radians:1,yards:1.0936*C.earthRadius},C.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/C.earthRadius,yards:1.0936133},C.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},C.feature=e,C.geometry=function(l,s,u){switch(l){case"Point":return M(s).geometry;case"LineString":return a(s).geometry;case"Polygon":return k(s).geometry;case"MultiPoint":return h(s).geometry;case"MultiLineString":return b(s).geometry;case"MultiPolygon":return o(s).geometry;default:throw new Error(l+" is invalid")}},C.point=M,C.points=function(l,s,u){return u===void 0&&(u={}),_(l.map(function(p){return M(p,s)}),u)},C.polygon=k,C.polygons=function(l,s,u){return u===void 0&&(u={}),_(l.map(function(p){return k(p,s)}),u)},C.lineString=a,C.lineStrings=function(l,s,u){return u===void 0&&(u={}),_(l.map(function(p){return a(p,s)}),u)},C.featureCollection=_,C.multiLineString=b,C.multiPoint=h,C.multiPolygon=o,C.geometryCollection=function(l,s,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:l},s,u)},C.round=function(l,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,s||0);return Math.round(l*u)/u},C.radiansToLength=t,C.lengthToRadians=i,C.lengthToDegrees=function(l,s){return n(i(l,s))},C.bearingToAzimuth=function(l){var s=l%360;return s<0&&(s+=360),s},C.radiansToDegrees=n,C.degreesToRadians=function(l){return l%360*Math.PI/180},C.convertLength=function(l,s,u){if(s===void 0&&(s="kilometers"),u===void 0&&(u="kilometers"),!(l>=0))throw new Error("length must be a positive number");return t(i(l,s),u)},C.convertArea=function(l,s,u){if(s===void 0&&(s="meters"),u===void 0&&(u="kilometers"),!(l>=0))throw new Error("area must be a positive number");var p=C.areaFactors[s];if(!p)throw new Error("invalid original units");var c=C.areaFactors[u];if(!c)throw new Error("invalid final units");return l/p*c},C.isNumber=r,C.isObject=function(l){return!!l&&l.constructor===Object},C.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(l.length!==4&&l.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(s){if(!r(s))throw new Error("bbox must only contain numbers")})},C.validateId=function(l){if(!l)throw new Error("id is required");if(["string","number"].indexOf(typeof l)===-1)throw new Error("id must be a number or a string")}},27138:function(q,C,e){Object.defineProperty(C,"__esModule",{value:!0});var M=e(94228);function k(i,n,r){if(i!==null)for(var l,s,u,p,c,x,g,d,v=0,y=0,m=i.type,w=m==="FeatureCollection",f=m==="Feature",S=w?i.features.length:1,T=0;T<S;T++){c=(d=!!(g=w?i.features[T].geometry:f?i.geometry:i)&&g.type==="GeometryCollection")?g.geometries.length:1;for(var E=0;E<c;E++){var O=0,P=0;if((p=d?g.geometries[E]:g)!==null){x=p.coordinates;var I=p.type;switch(v=!r||I!=="Polygon"&&I!=="MultiPolygon"?0:1,I){case null:break;case"Point":if(n(x,y,T,O,P)===!1)return!1;y++,O++;break;case"LineString":case"MultiPoint":for(l=0;l<x.length;l++){if(n(x[l],y,T,O,P)===!1)return!1;y++,I==="MultiPoint"&&O++}I==="LineString"&&O++;break;case"Polygon":case"MultiLineString":for(l=0;l<x.length;l++){for(s=0;s<x[l].length-v;s++){if(n(x[l][s],y,T,O,P)===!1)return!1;y++}I==="MultiLineString"&&O++,I==="Polygon"&&P++}I==="Polygon"&&O++;break;case"MultiPolygon":for(l=0;l<x.length;l++){for(P=0,s=0;s<x[l].length;s++){for(u=0;u<x[l][s].length-v;u++){if(n(x[l][s][u],y,T,O,P)===!1)return!1;y++}P++}O++}break;case"GeometryCollection":for(l=0;l<p.geometries.length;l++)if(k(p.geometries[l],n,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,n){var r;switch(i.type){case"FeatureCollection":for(r=0;r<i.features.length&&n(i.features[r].properties,r)!==!1;r++);break;case"Feature":n(i.properties,0)}}function _(i,n){if(i.type==="Feature")n(i,0);else if(i.type==="FeatureCollection")for(var r=0;r<i.features.length&&n(i.features[r],r)!==!1;r++);}function b(i,n){var r,l,s,u,p,c,x,g,d,v,y=0,m=i.type==="FeatureCollection",w=i.type==="Feature",f=m?i.features.length:1;for(r=0;r<f;r++){for(c=m?i.features[r].geometry:w?i.geometry:i,g=m?i.features[r].properties:w?i.properties:{},d=m?i.features[r].bbox:w?i.bbox:void 0,v=m?i.features[r].id:w?i.id:void 0,p=(x=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,s=0;s<p;s++)if((u=x?c.geometries[s]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(n(u,y,g,d,v)===!1)return!1;break;case"GeometryCollection":for(l=0;l<u.geometries.length;l++)if(n(u.geometries[l],y,g,d,v)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(n(null,y,g,d,v)===!1)return!1;y++}}function h(i,n){b(i,function(r,l,s,u,p){var c,x=r===null?null:r.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return n(M.feature(r,s,{bbox:u,id:p}),l,0)!==!1&&void 0}switch(x){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var g=0;g<r.coordinates.length;g++){var d={type:c,coordinates:r.coordinates[g]};if(n(M.feature(d,s),l,g)===!1)return!1}})}function o(i,n){h(i,function(r,l,s){var u=0;if(r.geometry){var p=r.geometry.type;if(p!=="Point"&&p!=="MultiPoint"){var c,x=0,g=0,d=0;return k(r,function(v,y,m,w,f){if(c===void 0||l>x||w>g||f>d)return c=v,x=l,g=w,d=f,void(u=0);var S=M.lineString([c,v],r.properties);if(n(S,l,s,f,u)===!1)return!1;u++,c=v})!==!1&&void 0}}})}function t(i,n){if(!i)throw new Error("geojson is required");h(i,function(r,l,s){if(r.geometry!==null){var u=r.geometry.type,p=r.geometry.coordinates;switch(u){case"LineString":if(n(r,l,s,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<p.length;c++)if(n(M.lineString(p[c],r.properties),l,s,c)===!1)return!1}}})}C.coordEach=k,C.coordReduce=function(i,n,r,l){var s=r;return k(i,function(u,p,c,x,g){s=p===0&&r===void 0?u:n(s,u,p,c,x,g)},l),s},C.propEach=a,C.propReduce=function(i,n,r){var l=r;return a(i,function(s,u){l=u===0&&r===void 0?s:n(l,s,u)}),l},C.featureEach=_,C.featureReduce=function(i,n,r){var l=r;return _(i,function(s,u){l=u===0&&r===void 0?s:n(l,s,u)}),l},C.coordAll=function(i){var n=[];return k(i,function(r){n.push(r)}),n},C.geomEach=b,C.geomReduce=function(i,n,r){var l=r;return b(i,function(s,u,p,c,x){l=u===0&&r===void 0?s:n(l,s,u,p,c,x)}),l},C.flattenEach=h,C.flattenReduce=function(i,n,r){var l=r;return h(i,function(s,u,p){l=u===0&&p===0&&r===void 0?s:n(l,s,u,p)}),l},C.segmentEach=o,C.segmentReduce=function(i,n,r){var l=r,s=!1;return o(i,function(u,p,c,x,g){l=s===!1&&r===void 0?u:n(l,u,p,c,x,g),s=!0}),l},C.lineEach=t,C.lineReduce=function(i,n,r){var l=r;return t(i,function(s,u,p,c){l=u===0&&r===void 0?s:n(l,s,u,p,c)}),l},C.findSegment=function(i,n){if(n=n||{},!M.isObject(n))throw new Error("options is invalid");var r,l=n.featureIndex||0,s=n.multiFeatureIndex||0,u=n.geometryIndex||0,p=n.segmentIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":l<0&&(l=i.features.length+l),c=c||i.features[l].properties,r=i.features[l].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(r===null)return null;var x=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return p<0&&(p=x.length+p-1),M.lineString([x[p],x[p+1]],c,n);case"Polygon":return u<0&&(u=x.length+u),p<0&&(p=x[u].length+p-1),M.lineString([x[u][p],x[u][p+1]],c,n);case"MultiLineString":return s<0&&(s=x.length+s),p<0&&(p=x[s].length+p-1),M.lineString([x[s][p],x[s][p+1]],c,n);case"MultiPolygon":return s<0&&(s=x.length+s),u<0&&(u=x[s].length+u),p<0&&(p=x[s][u].length-p-1),M.lineString([x[s][u][p],x[s][u][p+1]],c,n)}throw new Error("geojson is invalid")},C.findPoint=function(i,n){if(n=n||{},!M.isObject(n))throw new Error("options is invalid");var r,l=n.featureIndex||0,s=n.multiFeatureIndex||0,u=n.geometryIndex||0,p=n.coordIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":l<0&&(l=i.features.length+l),c=c||i.features[l].properties,r=i.features[l].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(r===null)return null;var x=r.coordinates;switch(r.type){case"Point":return M.point(x,c,n);case"MultiPoint":return s<0&&(s=x.length+s),M.point(x[s],c,n);case"LineString":return p<0&&(p=x.length+p),M.point(x[p],c,n);case"Polygon":return u<0&&(u=x.length+u),p<0&&(p=x[u].length+p),M.point(x[u][p],c,n);case"MultiLineString":return s<0&&(s=x.length+s),p<0&&(p=x[s].length+p),M.point(x[s][p],c,n);case"MultiPolygon":return s<0&&(s=x.length+s),u<0&&(u=x[s].length+u),p<0&&(p=x[s][u].length-p),M.point(x[s][u][p],c,n)}throw new Error("geojson is invalid")}},29261:function(q,C,e){Object.defineProperty(C,"__esModule",{value:!0});var M=e(88553),k=e(64182);C.default=function(a,_){_===void 0&&(_={});var b=0,h=0,o=0;return M.coordEach(a,function(t){b+=t[0],h+=t[1],o++}),k.point([b/o,h/o],_.properties)}},64182:function(q,C){function e(l,s,u){u===void 0&&(u={});var p={type:"Feature"};return(u.id===0||u.id)&&(p.id=u.id),u.bbox&&(p.bbox=u.bbox),p.properties=s||{},p.geometry=l,p}function M(l,s,u){return u===void 0&&(u={}),e({type:"Point",coordinates:l},s,u)}function k(l,s,u){u===void 0&&(u={});for(var p=0,c=l;p<c.length;p++){var x=c[p];if(x.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<x[x.length-1].length;g++)if(x[x.length-1][g]!==x[0][g])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:l},s,u)}function a(l,s,u){if(u===void 0&&(u={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:l},s,u)}function _(l,s){s===void 0&&(s={});var u={type:"FeatureCollection"};return s.id&&(u.id=s.id),s.bbox&&(u.bbox=s.bbox),u.features=l,u}function b(l,s,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:l},s,u)}function h(l,s,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:l},s,u)}function o(l,s,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:l},s,u)}function t(l,s){s===void 0&&(s="kilometers");var u=C.factors[s];if(!u)throw new Error(s+" units is invalid");return l*u}function i(l,s){s===void 0&&(s="kilometers");var u=C.factors[s];if(!u)throw new Error(s+" units is invalid");return l/u}function n(l){return l%(2*Math.PI)*180/Math.PI}function r(l){return!isNaN(l)&&l!==null&&!Array.isArray(l)&&!/^\s*$/.test(l)}Object.defineProperty(C,"__esModule",{value:!0}),C.earthRadius=63710088e-1,C.factors={centimeters:100*C.earthRadius,centimetres:100*C.earthRadius,degrees:C.earthRadius/111325,feet:3.28084*C.earthRadius,inches:39.37*C.earthRadius,kilometers:C.earthRadius/1e3,kilometres:C.earthRadius/1e3,meters:C.earthRadius,metres:C.earthRadius,miles:C.earthRadius/1609.344,millimeters:1e3*C.earthRadius,millimetres:1e3*C.earthRadius,nauticalmiles:C.earthRadius/1852,radians:1,yards:C.earthRadius/1.0936},C.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/C.earthRadius,yards:.91441111923921},C.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},C.feature=e,C.geometry=function(l,s,u){switch(l){case"Point":return M(s).geometry;case"LineString":return a(s).geometry;case"Polygon":return k(s).geometry;case"MultiPoint":return h(s).geometry;case"MultiLineString":return b(s).geometry;case"MultiPolygon":return o(s).geometry;default:throw new Error(l+" is invalid")}},C.point=M,C.points=function(l,s,u){return u===void 0&&(u={}),_(l.map(function(p){return M(p,s)}),u)},C.polygon=k,C.polygons=function(l,s,u){return u===void 0&&(u={}),_(l.map(function(p){return k(p,s)}),u)},C.lineString=a,C.lineStrings=function(l,s,u){return u===void 0&&(u={}),_(l.map(function(p){return a(p,s)}),u)},C.featureCollection=_,C.multiLineString=b,C.multiPoint=h,C.multiPolygon=o,C.geometryCollection=function(l,s,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:l},s,u)},C.round=function(l,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,s||0);return Math.round(l*u)/u},C.radiansToLength=t,C.lengthToRadians=i,C.lengthToDegrees=function(l,s){return n(i(l,s))},C.bearingToAzimuth=function(l){var s=l%360;return s<0&&(s+=360),s},C.radiansToDegrees=n,C.degreesToRadians=function(l){return l%360*Math.PI/180},C.convertLength=function(l,s,u){if(s===void 0&&(s="kilometers"),u===void 0&&(u="kilometers"),!(l>=0))throw new Error("length must be a positive number");return t(i(l,s),u)},C.convertArea=function(l,s,u){if(s===void 0&&(s="meters"),u===void 0&&(u="kilometers"),!(l>=0))throw new Error("area must be a positive number");var p=C.areaFactors[s];if(!p)throw new Error("invalid original units");var c=C.areaFactors[u];if(!c)throw new Error("invalid final units");return l/p*c},C.isNumber=r,C.isObject=function(l){return!!l&&l.constructor===Object},C.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(l.length!==4&&l.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(s){if(!r(s))throw new Error("bbox must only contain numbers")})},C.validateId=function(l){if(!l)throw new Error("id is required");if(["string","number"].indexOf(typeof l)===-1)throw new Error("id must be a number or a string")},C.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},C.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},C.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},C.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},C.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},C.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},C.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},88553:function(q,C,e){Object.defineProperty(C,"__esModule",{value:!0});var M=e(64182);function k(i,n,r){if(i!==null)for(var l,s,u,p,c,x,g,d,v=0,y=0,m=i.type,w=m==="FeatureCollection",f=m==="Feature",S=w?i.features.length:1,T=0;T<S;T++){c=(d=!!(g=w?i.features[T].geometry:f?i.geometry:i)&&g.type==="GeometryCollection")?g.geometries.length:1;for(var E=0;E<c;E++){var O=0,P=0;if((p=d?g.geometries[E]:g)!==null){x=p.coordinates;var I=p.type;switch(v=!r||I!=="Polygon"&&I!=="MultiPolygon"?0:1,I){case null:break;case"Point":if(n(x,y,T,O,P)===!1)return!1;y++,O++;break;case"LineString":case"MultiPoint":for(l=0;l<x.length;l++){if(n(x[l],y,T,O,P)===!1)return!1;y++,I==="MultiPoint"&&O++}I==="LineString"&&O++;break;case"Polygon":case"MultiLineString":for(l=0;l<x.length;l++){for(s=0;s<x[l].length-v;s++){if(n(x[l][s],y,T,O,P)===!1)return!1;y++}I==="MultiLineString"&&O++,I==="Polygon"&&P++}I==="Polygon"&&O++;break;case"MultiPolygon":for(l=0;l<x.length;l++){for(P=0,s=0;s<x[l].length;s++){for(u=0;u<x[l][s].length-v;u++){if(n(x[l][s][u],y,T,O,P)===!1)return!1;y++}P++}O++}break;case"GeometryCollection":for(l=0;l<p.geometries.length;l++)if(k(p.geometries[l],n,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,n){var r;switch(i.type){case"FeatureCollection":for(r=0;r<i.features.length&&n(i.features[r].properties,r)!==!1;r++);break;case"Feature":n(i.properties,0)}}function _(i,n){if(i.type==="Feature")n(i,0);else if(i.type==="FeatureCollection")for(var r=0;r<i.features.length&&n(i.features[r],r)!==!1;r++);}function b(i,n){var r,l,s,u,p,c,x,g,d,v,y=0,m=i.type==="FeatureCollection",w=i.type==="Feature",f=m?i.features.length:1;for(r=0;r<f;r++){for(c=m?i.features[r].geometry:w?i.geometry:i,g=m?i.features[r].properties:w?i.properties:{},d=m?i.features[r].bbox:w?i.bbox:void 0,v=m?i.features[r].id:w?i.id:void 0,p=(x=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,s=0;s<p;s++)if((u=x?c.geometries[s]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(n(u,y,g,d,v)===!1)return!1;break;case"GeometryCollection":for(l=0;l<u.geometries.length;l++)if(n(u.geometries[l],y,g,d,v)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(n(null,y,g,d,v)===!1)return!1;y++}}function h(i,n){b(i,function(r,l,s,u,p){var c,x=r===null?null:r.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return n(M.feature(r,s,{bbox:u,id:p}),l,0)!==!1&&void 0}switch(x){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var g=0;g<r.coordinates.length;g++){var d={type:c,coordinates:r.coordinates[g]};if(n(M.feature(d,s),l,g)===!1)return!1}})}function o(i,n){h(i,function(r,l,s){var u=0;if(r.geometry){var p=r.geometry.type;if(p!=="Point"&&p!=="MultiPoint"){var c,x=0,g=0,d=0;return k(r,function(v,y,m,w,f){if(c===void 0||l>x||w>g||f>d)return c=v,x=l,g=w,d=f,void(u=0);var S=M.lineString([c,v],r.properties);if(n(S,l,s,f,u)===!1)return!1;u++,c=v})!==!1&&void 0}}})}function t(i,n){if(!i)throw new Error("geojson is required");h(i,function(r,l,s){if(r.geometry!==null){var u=r.geometry.type,p=r.geometry.coordinates;switch(u){case"LineString":if(n(r,l,s,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<p.length;c++)if(n(M.lineString(p[c],r.properties),l,s,c)===!1)return!1}}})}C.coordEach=k,C.coordReduce=function(i,n,r,l){var s=r;return k(i,function(u,p,c,x,g){s=p===0&&r===void 0?u:n(s,u,p,c,x,g)},l),s},C.propEach=a,C.propReduce=function(i,n,r){var l=r;return a(i,function(s,u){l=u===0&&r===void 0?s:n(l,s,u)}),l},C.featureEach=_,C.featureReduce=function(i,n,r){var l=r;return _(i,function(s,u){l=u===0&&r===void 0?s:n(l,s,u)}),l},C.coordAll=function(i){var n=[];return k(i,function(r){n.push(r)}),n},C.geomEach=b,C.geomReduce=function(i,n,r){var l=r;return b(i,function(s,u,p,c,x){l=u===0&&r===void 0?s:n(l,s,u,p,c,x)}),l},C.flattenEach=h,C.flattenReduce=function(i,n,r){var l=r;return h(i,function(s,u,p){l=u===0&&p===0&&r===void 0?s:n(l,s,u,p)}),l},C.segmentEach=o,C.segmentReduce=function(i,n,r){var l=r,s=!1;return o(i,function(u,p,c,x,g){l=s===!1&&r===void 0?u:n(l,u,p,c,x,g),s=!0}),l},C.lineEach=t,C.lineReduce=function(i,n,r){var l=r;return t(i,function(s,u,p,c){l=u===0&&r===void 0?s:n(l,s,u,p,c)}),l},C.findSegment=function(i,n){if(n=n||{},!M.isObject(n))throw new Error("options is invalid");var r,l=n.featureIndex||0,s=n.multiFeatureIndex||0,u=n.geometryIndex||0,p=n.segmentIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":l<0&&(l=i.features.length+l),c=c||i.features[l].properties,r=i.features[l].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(r===null)return null;var x=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return p<0&&(p=x.length+p-1),M.lineString([x[p],x[p+1]],c,n);case"Polygon":return u<0&&(u=x.length+u),p<0&&(p=x[u].length+p-1),M.lineString([x[u][p],x[u][p+1]],c,n);case"MultiLineString":return s<0&&(s=x.length+s),p<0&&(p=x[s].length+p-1),M.lineString([x[s][p],x[s][p+1]],c,n);case"MultiPolygon":return s<0&&(s=x.length+s),u<0&&(u=x[s].length+u),p<0&&(p=x[s][u].length-p-1),M.lineString([x[s][u][p],x[s][u][p+1]],c,n)}throw new Error("geojson is invalid")},C.findPoint=function(i,n){if(n=n||{},!M.isObject(n))throw new Error("options is invalid");var r,l=n.featureIndex||0,s=n.multiFeatureIndex||0,u=n.geometryIndex||0,p=n.coordIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":l<0&&(l=i.features.length+l),c=c||i.features[l].properties,r=i.features[l].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(r===null)return null;var x=r.coordinates;switch(r.type){case"Point":return M.point(x,c,n);case"MultiPoint":return s<0&&(s=x.length+s),M.point(x[s],c,n);case"LineString":return p<0&&(p=x.length+p),M.point(x[p],c,n);case"Polygon":return u<0&&(u=x.length+u),p<0&&(p=x[u].length+p),M.point(x[u][p],c,n);case"MultiLineString":return s<0&&(s=x.length+s),p<0&&(p=x[s].length+p),M.point(x[s][p],c,n);case"MultiPolygon":return s<0&&(s=x.length+s),u<0&&(u=x[s].length+u),p<0&&(p=x[s][u].length-p),M.point(x[s][u][p],c,n)}throw new Error("geojson is invalid")}},65185:function(q){q.exports=function(C){var e=0,M=0,k=0,a=0;return C.map(function(_){var b=(_=_.slice())[0],h=b.toUpperCase();if(b!=h)switch(_[0]=h,b){case"a":_[6]+=k,_[7]+=a;break;case"v":_[1]+=a;break;case"h":_[1]+=k;break;default:for(var o=1;o<_.length;)_[o++]+=k,_[o++]+=a}switch(h){case"Z":k=e,a=M;break;case"H":k=_[1];break;case"V":a=_[1];break;case"M":k=e=_[1],a=M=_[2];break;default:k=_[_.length-2],a=_[_.length-1]}return _})}},21527:function(q){q.exports=function(C,e){if(!C||C.length==null)throw Error("Argument should be an array");e=e==null?1:Math.floor(e);for(var M=Array(2*e),k=0;k<e;k++){for(var a=-1/0,_=1/0,b=k,h=C.length;b<h;b+=e)C[b]>a&&(a=C[b]),C[b]<_&&(_=C[b]);M[k]=_,M[e+k]=a}return M}},6851:function(q){q.exports=function(C,e,M){if(typeof Array.prototype.findIndex=="function")return C.findIndex(e,M);if(typeof e!="function")throw new TypeError("predicate must be a function");var k=Object(C),a=k.length;if(a===0)return-1;for(var _=0;_<a;_++)if(e.call(M,k[_],_,k))return _;return-1}},54:function(q,C,e){var M=e(21527);q.exports=function(k,a,_){if(!k||k.length==null)throw Error("Argument should be an array");a==null&&(a=1),_==null&&(_=M(k,a));for(var b=0;b<a;b++){var h=_[a+b],o=_[b],t=b,i=k.length;if(h===1/0&&o===-1/0)for(t=b;t<i;t+=a)k[t]=k[t]===h?1:k[t]===o?0:.5;else if(h===1/0)for(t=b;t<i;t+=a)k[t]=k[t]===h?1:0;else if(o===-1/0)for(t=b;t<i;t+=a)k[t]=k[t]===o?0:1;else{var n=h-o;for(t=b;t<i;t+=a)isNaN(k[t])||(k[t]=n===0?.5:(k[t]-o)/n)}}return k}},57471:function(q){q.exports=function(C,e){var M=typeof C=="number",k=typeof e=="number";M&&!k?(e=C,C=0):M||k||(C=0,e=0);var a=(e|=0)-(C|=0);if(a<0)throw new Error("array length must be positive");for(var _=new Array(a),b=0,h=C;b<a;b++,h++)_[b]=h;return _}},32791:function(q,C,e){var M=e(90386);function k(R){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},k(R)}var a,_,b=e(79616).codes,h=b.ERR_AMBIGUOUS_ARGUMENT,o=b.ERR_INVALID_ARG_TYPE,t=b.ERR_INVALID_ARG_VALUE,i=b.ERR_INVALID_RETURN_VALUE,n=b.ERR_MISSING_ARGS,r=e(73894),l=e(43827).inspect,s=e(43827).types,u=s.isPromise,p=s.isRegExp,c=Object.assign?Object.assign:e(73523).assign,x=Object.is?Object.is:e(64003);function g(){var R=e(74061);a=R.isDeepEqual,_=R.isDeepStrictEqual}var d=!1,v=q.exports=f,y={};function m(R){throw R.message instanceof Error?R.message:new r(R)}function w(R,N,Z,F){if(!Z){var U=!1;if(N===0)U=!0,F="No value argument passed to `assert.ok()`";else if(F instanceof Error)throw F;var V=new r({actual:Z,expected:!0,message:F,operator:"==",stackStartFn:R});throw V.generatedMessage=U,V}}function f(){for(var R=arguments.length,N=new Array(R),Z=0;Z<R;Z++)N[Z]=arguments[Z];w.apply(void 0,[f,N.length].concat(N))}v.fail=function R(N,Z,F,U,V){var te,Q=arguments.length;if(Q===0?te="Failed":Q===1?(F=N,N=void 0):(d===!1&&(d=!0,(M.emitWarning?M.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),Q===2&&(U="!=")),F instanceof Error)throw F;var J={actual:N,expected:Z,operator:U===void 0?"fail":U,stackStartFn:V||R};F!==void 0&&(J.message=F);var X=new r(J);throw te&&(X.message=te,X.generatedMessage=!0),X},v.AssertionError=r,v.ok=f,v.equal=function R(N,Z,F){if(arguments.length<2)throw new n("actual","expected");N!=Z&&m({actual:N,expected:Z,message:F,operator:"==",stackStartFn:R})},v.notEqual=function R(N,Z,F){if(arguments.length<2)throw new n("actual","expected");N==Z&&m({actual:N,expected:Z,message:F,operator:"!=",stackStartFn:R})},v.deepEqual=function R(N,Z,F){if(arguments.length<2)throw new n("actual","expected");a===void 0&&g(),a(N,Z)||m({actual:N,expected:Z,message:F,operator:"deepEqual",stackStartFn:R})},v.notDeepEqual=function R(N,Z,F){if(arguments.length<2)throw new n("actual","expected");a===void 0&&g(),a(N,Z)&&m({actual:N,expected:Z,message:F,operator:"notDeepEqual",stackStartFn:R})},v.deepStrictEqual=function R(N,Z,F){if(arguments.length<2)throw new n("actual","expected");a===void 0&&g(),_(N,Z)||m({actual:N,expected:Z,message:F,operator:"deepStrictEqual",stackStartFn:R})},v.notDeepStrictEqual=function R(N,Z,F){if(arguments.length<2)throw new n("actual","expected");a===void 0&&g(),_(N,Z)&&m({actual:N,expected:Z,message:F,operator:"notDeepStrictEqual",stackStartFn:R})},v.strictEqual=function R(N,Z,F){if(arguments.length<2)throw new n("actual","expected");x(N,Z)||m({actual:N,expected:Z,message:F,operator:"strictEqual",stackStartFn:R})},v.notStrictEqual=function R(N,Z,F){if(arguments.length<2)throw new n("actual","expected");x(N,Z)&&m({actual:N,expected:Z,message:F,operator:"notStrictEqual",stackStartFn:R})};var S=function R(N,Z,F){var U=this;(function(V,te){if(!(V instanceof te))throw new TypeError("Cannot call a class as a function")})(this,R),Z.forEach(function(V){V in N&&(F!==void 0&&typeof F[V]=="string"&&p(N[V])&&N[V].test(F[V])?U[V]=F[V]:U[V]=N[V])})};function T(R,N,Z,F){if(typeof N!="function"){if(p(N))return N.test(R);if(arguments.length===2)throw new o("expected",["Function","RegExp"],N);if(k(R)!=="object"||R===null){var U=new r({actual:R,expected:N,message:Z,operator:"deepStrictEqual",stackStartFn:F});throw U.operator=F.name,U}var V=Object.keys(N);if(N instanceof Error)V.push("name","message");else if(V.length===0)throw new t("error",N,"may not be an empty object");return a===void 0&&g(),V.forEach(function(te){typeof R[te]=="string"&&p(N[te])&&N[te].test(R[te])||function(Q,J,X,K,ee,re){if(!(X in Q)||!_(Q[X],J[X])){if(!K){var ie=new S(Q,ee),ae=new S(J,ee,Q),ue=new r({actual:ie,expected:ae,operator:"deepStrictEqual",stackStartFn:re});throw ue.actual=Q,ue.expected=J,ue.operator=re.name,ue}m({actual:Q,expected:J,message:K,operator:re.name,stackStartFn:re})}}(R,N,te,Z,V,F)}),!0}return N.prototype!==void 0&&R instanceof N||!Error.isPrototypeOf(N)&&N.call({},R)===!0}function E(R){if(typeof R!="function")throw new o("fn","Function",R);try{R()}catch(N){return N}return y}function O(R){return u(R)||R!==null&&k(R)==="object"&&typeof R.then=="function"&&typeof R.catch=="function"}function P(R){return Promise.resolve().then(function(){var N;if(typeof R=="function"){if(!O(N=R()))throw new i("instance of Promise","promiseFn",N)}else{if(!O(R))throw new o("promiseFn",["Function","Promise"],R);N=R}return Promise.resolve().then(function(){return N}).then(function(){return y}).catch(function(Z){return Z})})}function I(R,N,Z,F){if(typeof Z=="string"){if(arguments.length===4)throw new o("error",["Object","Error","Function","RegExp"],Z);if(k(N)==="object"&&N!==null){if(N.message===Z)throw new h("error/message",'The error message "'.concat(N.message,'" is identical to the message.'))}else if(N===Z)throw new h("error/message",'The error "'.concat(N,'" is identical to the message.'));F=Z,Z=void 0}else if(Z!=null&&k(Z)!=="object"&&typeof Z!="function")throw new o("error",["Object","Error","Function","RegExp"],Z);if(N===y){var U="";Z&&Z.name&&(U+=" (".concat(Z.name,")")),U+=F?": ".concat(F):".";var V=R.name==="rejects"?"rejection":"exception";m({actual:void 0,expected:Z,operator:R.name,message:"Missing expected ".concat(V).concat(U),stackStartFn:R})}if(Z&&!T(N,Z,F,R))throw N}function z(R,N,Z,F){if(N!==y){if(typeof Z=="string"&&(F=Z,Z=void 0),!Z||T(N,Z)){var U=F?": ".concat(F):".",V=R.name==="doesNotReject"?"rejection":"exception";m({actual:N,expected:Z,operator:R.name,message:"Got unwanted ".concat(V).concat(U,`
`)+'Actual message: "'.concat(N&&N.message,'"'),stackStartFn:R})}throw N}}function j(){for(var R=arguments.length,N=new Array(R),Z=0;Z<R;Z++)N[Z]=arguments[Z];w.apply(void 0,[j,N.length].concat(N))}v.throws=function R(N){for(var Z=arguments.length,F=new Array(Z>1?Z-1:0),U=1;U<Z;U++)F[U-1]=arguments[U];I.apply(void 0,[R,E(N)].concat(F))},v.rejects=function R(N){for(var Z=arguments.length,F=new Array(Z>1?Z-1:0),U=1;U<Z;U++)F[U-1]=arguments[U];return P(N).then(function(V){return I.apply(void 0,[R,V].concat(F))})},v.doesNotThrow=function R(N){for(var Z=arguments.length,F=new Array(Z>1?Z-1:0),U=1;U<Z;U++)F[U-1]=arguments[U];z.apply(void 0,[R,E(N)].concat(F))},v.doesNotReject=function R(N){for(var Z=arguments.length,F=new Array(Z>1?Z-1:0),U=1;U<Z;U++)F[U-1]=arguments[U];return P(N).then(function(V){return z.apply(void 0,[R,V].concat(F))})},v.ifError=function R(N){if(N!=null){var Z="ifError got unwanted exception: ";k(N)==="object"&&typeof N.message=="string"?N.message.length===0&&N.constructor?Z+=N.constructor.name:Z+=N.message:Z+=l(N);var F=new r({actual:N,expected:null,operator:"ifError",message:Z,stackStartFn:R}),U=N.stack;if(typeof U=="string"){var V=U.split(`
`);V.shift();for(var te=F.stack.split(`
`),Q=0;Q<V.length;Q++){var J=te.indexOf(V[Q]);if(J!==-1){te=te.slice(0,J);break}}F.stack="".concat(te.join(`
`),`
`).concat(V.join(`
`))}throw F}},v.strict=c(j,v,{equal:v.strictEqual,deepEqual:v.deepStrictEqual,notEqual:v.notStrictEqual,notDeepEqual:v.notDeepStrictEqual}),v.strict.strict=v.strict},73894:function(q,C,e){var M=e(90386);function k(m,w,f){return w in m?Object.defineProperty(m,w,{value:f,enumerable:!0,configurable:!0,writable:!0}):m[w]=f,m}function a(m,w){for(var f=0;f<w.length;f++){var S=w[f];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}function _(m,w){return!w||n(w)!=="object"&&typeof w!="function"?b(m):w}function b(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function h(m){var w=typeof Map=="function"?new Map:void 0;return h=function(f){if(f===null||(S=f,Function.toString.call(S).indexOf("[native code]")===-1))return f;var S;if(typeof f!="function")throw new TypeError("Super expression must either be null or a function");if(w!==void 0){if(w.has(f))return w.get(f);w.set(f,T)}function T(){return o(f,arguments,i(this).constructor)}return T.prototype=Object.create(f.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),t(T,f)},h(m)}function o(m,w,f){return o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(S,T,E){var O=[null];O.push.apply(O,T);var P=new(Function.bind.apply(S,O));return E&&t(P,E.prototype),P},o.apply(null,arguments)}function t(m,w){return t=Object.setPrototypeOf||function(f,S){return f.__proto__=S,f},t(m,w)}function i(m){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},i(m)}function n(m){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},n(m)}var r=e(43827).inspect,l=e(79616).codes.ERR_INVALID_ARG_TYPE;function s(m,w,f){return(f===void 0||f>m.length)&&(f=m.length),m.substring(f-w.length,f)===w}var u="",p="",c="",x="",g={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function d(m){var w=Object.keys(m),f=Object.create(Object.getPrototypeOf(m));return w.forEach(function(S){f[S]=m[S]}),Object.defineProperty(f,"message",{value:m.message}),f}function v(m){return r(m,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var y=function(m){function w(T){var E;if(function(te,Q){if(!(te instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,w),n(T)!=="object"||T===null)throw new l("options","Object",T);var O=T.message,P=T.operator,I=T.stackStartFn,z=T.actual,j=T.expected,R=Error.stackTraceLimit;if(Error.stackTraceLimit=0,O!=null)E=_(this,i(w).call(this,String(O)));else if(M.stderr&&M.stderr.isTTY&&(M.stderr&&M.stderr.getColorDepth&&M.stderr.getColorDepth()!==1?(u="\x1B[34m",p="\x1B[32m",x="\x1B[39m",c="\x1B[31m"):(u="",p="",x="",c="")),n(z)==="object"&&z!==null&&n(j)==="object"&&j!==null&&"stack"in z&&z instanceof Error&&"stack"in j&&j instanceof Error&&(z=d(z),j=d(j)),P==="deepStrictEqual"||P==="strictEqual")E=_(this,i(w).call(this,function(te,Q,J){var X="",K="",ee=0,re="",ie=!1,ae=v(te),ue=ae.split(`
`),pe=v(Q).split(`
`),de=0,ye="";if(J==="strictEqual"&&n(te)==="object"&&n(Q)==="object"&&te!==null&&Q!==null&&(J="strictEqualObject"),ue.length===1&&pe.length===1&&ue[0]!==pe[0]){var be=ue[0].length+pe[0].length;if(be<=10){if(!(n(te)==="object"&&te!==null||n(Q)==="object"&&Q!==null||te===0&&Q===0))return"".concat(g[J],`

`)+"".concat(ue[0]," !== ").concat(pe[0],`
`)}else if(J!=="strictEqualObject"&&be<(M.stderr&&M.stderr.isTTY?M.stderr.columns:80)){for(;ue[0][de]===pe[0][de];)de++;de>2&&(ye=`
  `.concat(function(Re,fe){if(fe=Math.floor(fe),Re.length==0||fe==0)return"";var xe=Re.length*fe;for(fe=Math.floor(Math.log(fe)/Math.log(2));fe;)Re+=Re,fe--;return Re+Re.substring(0,xe-Re.length)}(" ",de),"^"),de=0)}}for(var me=ue[ue.length-1],Ee=pe[pe.length-1];me===Ee&&(de++<2?re=`
  `.concat(me).concat(re):X=me,ue.pop(),pe.pop(),ue.length!==0&&pe.length!==0);)me=ue[ue.length-1],Ee=pe[pe.length-1];var Te=Math.max(ue.length,pe.length);if(Te===0){var we=ae.split(`
`);if(we.length>30)for(we[26]="".concat(u,"...").concat(x);we.length>27;)we.pop();return"".concat(g.notIdentical,`

`).concat(we.join(`
`),`
`)}de>3&&(re=`
`.concat(u,"...").concat(x).concat(re),ie=!0),X!==""&&(re=`
  `.concat(X).concat(re),X="");var oe=0,se=g[J]+`
`.concat(p,"+ actual").concat(x," ").concat(c,"- expected").concat(x),he=" ".concat(u,"...").concat(x," Lines skipped");for(de=0;de<Te;de++){var Se=de-ee;if(ue.length<de+1)Se>1&&de>2&&(Se>4?(K+=`
`.concat(u,"...").concat(x),ie=!0):Se>3&&(K+=`
  `.concat(pe[de-2]),oe++),K+=`
  `.concat(pe[de-1]),oe++),ee=de,X+=`
`.concat(c,"-").concat(x," ").concat(pe[de]),oe++;else if(pe.length<de+1)Se>1&&de>2&&(Se>4?(K+=`
`.concat(u,"...").concat(x),ie=!0):Se>3&&(K+=`
  `.concat(ue[de-2]),oe++),K+=`
  `.concat(ue[de-1]),oe++),ee=de,K+=`
`.concat(p,"+").concat(x," ").concat(ue[de]),oe++;else{var _e=pe[de],Ae=ue[de],Ce=Ae!==_e&&(!s(Ae,",")||Ae.slice(0,-1)!==_e);Ce&&s(_e,",")&&_e.slice(0,-1)===Ae&&(Ce=!1,Ae+=","),Ce?(Se>1&&de>2&&(Se>4?(K+=`
`.concat(u,"...").concat(x),ie=!0):Se>3&&(K+=`
  `.concat(ue[de-2]),oe++),K+=`
  `.concat(ue[de-1]),oe++),ee=de,K+=`
`.concat(p,"+").concat(x," ").concat(Ae),X+=`
`.concat(c,"-").concat(x," ").concat(_e),oe+=2):(K+=X,X="",Se!==1&&de!==0||(K+=`
  `.concat(Ae),oe++))}if(oe>20&&de<Te-2)return"".concat(se).concat(he,`
`).concat(K,`
`).concat(u,"...").concat(x).concat(X,`
`)+"".concat(u,"...").concat(x)}return"".concat(se).concat(ie?he:"",`
`).concat(K).concat(X).concat(re).concat(ye)}(z,j,P)));else if(P==="notDeepStrictEqual"||P==="notStrictEqual"){var N=g[P],Z=v(z).split(`
`);if(P==="notStrictEqual"&&n(z)==="object"&&z!==null&&(N=g.notStrictEqualObject),Z.length>30)for(Z[26]="".concat(u,"...").concat(x);Z.length>27;)Z.pop();E=Z.length===1?_(this,i(w).call(this,"".concat(N," ").concat(Z[0]))):_(this,i(w).call(this,"".concat(N,`

`).concat(Z.join(`
`),`
`)))}else{var F=v(z),U="",V=g[P];P==="notDeepEqual"||P==="notEqual"?(F="".concat(g[P],`

`).concat(F)).length>1024&&(F="".concat(F.slice(0,1021),"...")):(U="".concat(v(j)),F.length>512&&(F="".concat(F.slice(0,509),"...")),U.length>512&&(U="".concat(U.slice(0,509),"...")),P==="deepEqual"||P==="equal"?F="".concat(V,`

`).concat(F,`

should equal

`):U=" ".concat(P," ").concat(U)),E=_(this,i(w).call(this,"".concat(F).concat(U)))}return Error.stackTraceLimit=R,E.generatedMessage=!O,Object.defineProperty(b(E),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),E.code="ERR_ASSERTION",E.actual=z,E.expected=j,E.operator=P,Error.captureStackTrace&&Error.captureStackTrace(b(E),I),E.stack,E.name="AssertionError",_(E)}var f,S;return function(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),E&&t(T,E)}(w,m),f=w,S=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:r.custom,value:function(T,E){return r(this,function(O){for(var P=1;P<arguments.length;P++){var I=arguments[P]!=null?arguments[P]:{},z=Object.keys(I);typeof Object.getOwnPropertySymbols=="function"&&(z=z.concat(Object.getOwnPropertySymbols(I).filter(function(j){return Object.getOwnPropertyDescriptor(I,j).enumerable}))),z.forEach(function(j){k(O,j,I[j])})}return O}({},E,{customInspect:!1,depth:0}))}}],S&&a(f.prototype,S),w}(h(Error));q.exports=y},79616:function(q,C,e){function M(i){return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},M(i)}function k(i){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},k(i)}function a(i,n){return a=Object.setPrototypeOf||function(r,l){return r.__proto__=l,r},a(i,n)}var _,b,h={};function o(i,n,r){r||(r=Error);var l=function(s){function u(p,c,x){var g;return function(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}(this,u),g=function(d,v){return!v||M(v)!=="object"&&typeof v!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(d):v}(this,k(u).call(this,function(d,v,y){return typeof n=="string"?n:n(d,v,y)}(p,c,x))),g.code=i,g}return function(p,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(c&&c.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),c&&a(p,c)}(u,s),u}(r);h[i]=l}function t(i,n){if(Array.isArray(i)){var r=i.length;return i=i.map(function(l){return String(l)}),r>2?"one of ".concat(n," ").concat(i.slice(0,r-1).join(", "),", or ")+i[r-1]:r===2?"one of ".concat(n," ").concat(i[0]," or ").concat(i[1]):"of ".concat(n," ").concat(i[0])}return"of ".concat(n," ").concat(String(i))}o("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),o("ERR_INVALID_ARG_TYPE",function(i,n,r){var l,s,u,p,c;if(_===void 0&&(_=e(32791)),_(typeof i=="string","'name' must be a string"),typeof n=="string"&&(s="not ",n.substr(0,4)===s)?(l="must not be",n=n.replace(/^not /,"")):l="must be",function(g,d,v){return(v===void 0||v>g.length)&&(v=g.length),g.substring(v-9,v)===d}(i," argument"))u="The ".concat(i," ").concat(l," ").concat(t(n,"type"));else{var x=(typeof c!="number"&&(c=0),c+1>(p=i).length||p.indexOf(".",c)===-1?"argument":"property");u='The "'.concat(i,'" ').concat(x," ").concat(l," ").concat(t(n,"type"))}return u+". Received type ".concat(M(r))},TypeError),o("ERR_INVALID_ARG_VALUE",function(i,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";b===void 0&&(b=e(43827));var l=b.inspect(n);return l.length>128&&(l="".concat(l.slice(0,128),"...")),"The argument '".concat(i,"' ").concat(r,". Received ").concat(l)},TypeError),o("ERR_INVALID_RETURN_VALUE",function(i,n,r){var l;return l=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(M(r)),"Expected ".concat(i,' to be returned from the "').concat(n,'"')+" function but got ".concat(l,".")},TypeError),o("ERR_MISSING_ARGS",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];_===void 0&&(_=e(32791)),_(n.length>0,"At least one arg needs to be specified");var l="The ",s=n.length;switch(n=n.map(function(u){return'"'.concat(u,'"')}),s){case 1:l+="".concat(n[0]," argument");break;case 2:l+="".concat(n[0]," and ").concat(n[1]," arguments");break;default:l+=n.slice(0,s-1).join(", "),l+=", and ".concat(n[s-1]," arguments")}return"".concat(l," must be specified")},TypeError),q.exports.codes=h},74061:function(q,C,e){function M(ee,re){return function(ie){if(Array.isArray(ie))return ie}(ee)||function(ie,ae){var ue=[],pe=!0,de=!1,ye=void 0;try{for(var be,me=ie[Symbol.iterator]();!(pe=(be=me.next()).done)&&(ue.push(be.value),!ae||ue.length!==ae);pe=!0);}catch(Ee){de=!0,ye=Ee}finally{try{pe||me.return==null||me.return()}finally{if(de)throw ye}}return ue}(ee,re)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(ee){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},k(ee)}var a=/a/g.flags!==void 0,_=function(ee){var re=[];return ee.forEach(function(ie){return re.push(ie)}),re},b=function(ee){var re=[];return ee.forEach(function(ie,ae){return re.push([ae,ie])}),re},h=Object.is?Object.is:e(64003),o=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},t=Number.isNaN?Number.isNaN:e(15567);function i(ee){return ee.call.bind(ee)}var n=i(Object.prototype.hasOwnProperty),r=i(Object.prototype.propertyIsEnumerable),l=i(Object.prototype.toString),s=e(43827).types,u=s.isAnyArrayBuffer,p=s.isArrayBufferView,c=s.isDate,x=s.isMap,g=s.isRegExp,d=s.isSet,v=s.isNativeError,y=s.isBoxedPrimitive,m=s.isNumberObject,w=s.isStringObject,f=s.isBooleanObject,S=s.isBigIntObject,T=s.isSymbolObject,E=s.isFloat32Array,O=s.isFloat64Array;function P(ee){if(ee.length===0||ee.length>10)return!0;for(var re=0;re<ee.length;re++){var ie=ee.charCodeAt(re);if(ie<48||ie>57)return!0}return ee.length===10&&ee>=Math.pow(2,32)}function I(ee){return Object.keys(ee).filter(P).concat(o(ee).filter(Object.prototype.propertyIsEnumerable.bind(ee)))}function z(ee,re){if(ee===re)return 0;for(var ie=ee.length,ae=re.length,ue=0,pe=Math.min(ie,ae);ue<pe;++ue)if(ee[ue]!==re[ue]){ie=ee[ue],ae=re[ue];break}return ie<ae?-1:ae<ie?1:0}var j=0,R=1,N=2,Z=3;function F(ee,re,ie,ae){if(ee===re)return ee!==0||!ie||h(ee,re);if(ie){if(k(ee)!=="object")return typeof ee=="number"&&t(ee)&&t(re);if(k(re)!=="object"||ee===null||re===null||Object.getPrototypeOf(ee)!==Object.getPrototypeOf(re))return!1}else{if(ee===null||k(ee)!=="object")return(re===null||k(re)!=="object")&&ee==re;if(re===null||k(re)!=="object")return!1}var ue,pe,de,ye,be=l(ee);if(be!==l(re))return!1;if(Array.isArray(ee)){if(ee.length!==re.length)return!1;var me=I(ee),Ee=I(re);return me.length===Ee.length&&V(ee,re,ie,ae,R,me)}if(be==="[object Object]"&&(!x(ee)&&x(re)||!d(ee)&&d(re)))return!1;if(c(ee)){if(!c(re)||Date.prototype.getTime.call(ee)!==Date.prototype.getTime.call(re))return!1}else if(g(ee)){if(!g(re)||(de=ee,ye=re,!(a?de.source===ye.source&&de.flags===ye.flags:RegExp.prototype.toString.call(de)===RegExp.prototype.toString.call(ye))))return!1}else if(v(ee)||ee instanceof Error){if(ee.message!==re.message||ee.name!==re.name)return!1}else{if(p(ee)){if(ie||!E(ee)&&!O(ee)){if(!function(oe,se){return oe.byteLength===se.byteLength&&z(new Uint8Array(oe.buffer,oe.byteOffset,oe.byteLength),new Uint8Array(se.buffer,se.byteOffset,se.byteLength))===0}(ee,re))return!1}else if(!function(oe,se){if(oe.byteLength!==se.byteLength)return!1;for(var he=0;he<oe.byteLength;he++)if(oe[he]!==se[he])return!1;return!0}(ee,re))return!1;var Te=I(ee),we=I(re);return Te.length===we.length&&V(ee,re,ie,ae,j,Te)}if(d(ee))return!(!d(re)||ee.size!==re.size)&&V(ee,re,ie,ae,N);if(x(ee))return!(!x(re)||ee.size!==re.size)&&V(ee,re,ie,ae,Z);if(u(ee)){if(pe=re,(ue=ee).byteLength!==pe.byteLength||z(new Uint8Array(ue),new Uint8Array(pe))!==0)return!1}else if(y(ee)&&!function(oe,se){return m(oe)?m(se)&&h(Number.prototype.valueOf.call(oe),Number.prototype.valueOf.call(se)):w(oe)?w(se)&&String.prototype.valueOf.call(oe)===String.prototype.valueOf.call(se):f(oe)?f(se)&&Boolean.prototype.valueOf.call(oe)===Boolean.prototype.valueOf.call(se):S(oe)?S(se)&&BigInt.prototype.valueOf.call(oe)===BigInt.prototype.valueOf.call(se):T(se)&&Symbol.prototype.valueOf.call(oe)===Symbol.prototype.valueOf.call(se)}(ee,re))return!1}return V(ee,re,ie,ae,j)}function U(ee,re){return re.filter(function(ie){return r(ee,ie)})}function V(ee,re,ie,ae,ue,pe){if(arguments.length===5){pe=Object.keys(ee);var de=Object.keys(re);if(pe.length!==de.length)return!1}for(var ye=0;ye<pe.length;ye++)if(!n(re,pe[ye]))return!1;if(ie&&arguments.length===5){var be=o(ee);if(be.length!==0){var me=0;for(ye=0;ye<be.length;ye++){var Ee=be[ye];if(r(ee,Ee)){if(!r(re,Ee))return!1;pe.push(Ee),me++}else if(r(re,Ee))return!1}var Te=o(re);if(be.length!==Te.length&&U(re,Te).length!==me)return!1}else{var we=o(re);if(we.length!==0&&U(re,we).length!==0)return!1}}if(pe.length===0&&(ue===j||ue===R&&ee.length===0||ee.size===0))return!0;if(ae===void 0)ae={val1:new Map,val2:new Map,position:0};else{var oe=ae.val1.get(ee);if(oe!==void 0){var se=ae.val2.get(re);if(se!==void 0)return oe===se}ae.position++}ae.val1.set(ee,ae.position),ae.val2.set(re,ae.position);var he=function(Se,_e,Ae,Ce,Re,fe){var xe=0;if(fe===N){if(!function(ze,qe,Ye,Qe){for(var ft=null,ht=_(ze),mt=0;mt<ht.length;mt++){var Mt=ht[mt];if(k(Mt)==="object"&&Mt!==null)ft===null&&(ft=new Set),ft.add(Mt);else if(!qe.has(Mt)){if(Ye||!J(ze,qe,Mt))return!1;ft===null&&(ft=new Set),ft.add(Mt)}}if(ft!==null){for(var _t=_(qe),it=0;it<_t.length;it++){var st=_t[it];if(k(st)==="object"&&st!==null){if(!te(ft,st,Ye,Qe))return!1}else if(!Ye&&!ze.has(st)&&!te(ft,st,Ye,Qe))return!1}return ft.size===0}return!0}(Se,_e,Ae,Re))return!1}else if(fe===Z){if(!function(ze,qe,Ye,Qe){for(var ft=null,ht=b(ze),mt=0;mt<ht.length;mt++){var Mt=M(ht[mt],2),_t=Mt[0],it=Mt[1];if(k(_t)==="object"&&_t!==null)ft===null&&(ft=new Set),ft.add(_t);else{var st=qe.get(_t);if(st===void 0&&!qe.has(_t)||!F(it,st,Ye,Qe)){if(Ye||!X(ze,qe,_t,it,Qe))return!1;ft===null&&(ft=new Set),ft.add(_t)}}}if(ft!==null){for(var St=b(qe),zt=0;zt<St.length;zt++){var Ft=M(St[zt],2),Pt=(_t=Ft[0],Ft[1]);if(k(_t)==="object"&&_t!==null){if(!K(ft,ze,_t,Pt,Ye,Qe))return!1}else if(!(Ye||ze.has(_t)&&F(ze.get(_t),Pt,!1,Qe)||K(ft,ze,_t,Pt,!1,Qe)))return!1}return ft.size===0}return!0}(Se,_e,Ae,Re))return!1}else if(fe===R)for(;xe<Se.length;xe++){if(!n(Se,xe)){if(n(_e,xe))return!1;for(var ke=Object.keys(Se);xe<ke.length;xe++){var Ie=ke[xe];if(!n(_e,Ie)||!F(Se[Ie],_e[Ie],Ae,Re))return!1}return ke.length===Object.keys(_e).length}if(!n(_e,xe)||!F(Se[xe],_e[xe],Ae,Re))return!1}for(xe=0;xe<Ce.length;xe++){var Fe=Ce[xe];if(!F(Se[Fe],_e[Fe],Ae,Re))return!1}return!0}(ee,re,ie,pe,ae,ue);return ae.val1.delete(ee),ae.val2.delete(re),he}function te(ee,re,ie,ae){for(var ue=_(ee),pe=0;pe<ue.length;pe++){var de=ue[pe];if(F(re,de,ie,ae))return ee.delete(de),!0}return!1}function Q(ee){switch(k(ee)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":ee=+ee;case"number":if(t(ee))return!1}return!0}function J(ee,re,ie){var ae=Q(ie);return ae??(re.has(ae)&&!ee.has(ae))}function X(ee,re,ie,ae,ue){var pe=Q(ie);if(pe!=null)return pe;var de=re.get(pe);return!(de===void 0&&!re.has(pe)||!F(ae,de,!1,ue))&&!ee.has(pe)&&F(ae,de,!1,ue)}function K(ee,re,ie,ae,ue,pe){for(var de=_(ee),ye=0;ye<de.length;ye++){var be=de[ye];if(F(ie,be,ue,pe)&&F(ae,re.get(be),ue,pe))return ee.delete(be),!0}return!1}q.exports={isDeepEqual:function(ee,re){return F(ee,re,!1)},isDeepStrictEqual:function(ee,re){return F(ee,re,!0)}}},11631:function(q,C,e){e.r(C),e.d(C,{decode:function(){return b},encode:function(){return _}});for(var M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=typeof Uint8Array>"u"?[]:new Uint8Array(256),a=0;a<64;a++)k[M.charCodeAt(a)]=a;var _=function(h){var o,t=new Uint8Array(h),i=t.length,n="";for(o=0;o<i;o+=3)n+=M[t[o]>>2],n+=M[(3&t[o])<<4|t[o+1]>>4],n+=M[(15&t[o+1])<<2|t[o+2]>>6],n+=M[63&t[o+2]];return i%3==2?n=n.substring(0,n.length-1)+"=":i%3==1&&(n=n.substring(0,n.length-2)+"=="),n},b=function(h){var o,t,i,n,r,l=.75*h.length,s=h.length,u=0;h[h.length-1]==="="&&(l--,h[h.length-2]==="="&&l--);var p=new ArrayBuffer(l),c=new Uint8Array(p);for(o=0;o<s;o+=4)t=k[h.charCodeAt(o)],i=k[h.charCodeAt(o+1)],n=k[h.charCodeAt(o+2)],r=k[h.charCodeAt(o+3)],c[u++]=t<<2|i>>4,c[u++]=(15&i)<<4|n>>2,c[u++]=(3&n)<<6|63&r;return p}},95341:function(q,C){C.byteLength=function(o){var t=b(o),i=t[0],n=t[1];return 3*(i+n)/4-n},C.toByteArray=function(o){var t,i,n=b(o),r=n[0],l=n[1],s=new k(function(c,x,g){return 3*(x+g)/4-g}(0,r,l)),u=0,p=l>0?r-4:r;for(i=0;i<p;i+=4)t=M[o.charCodeAt(i)]<<18|M[o.charCodeAt(i+1)]<<12|M[o.charCodeAt(i+2)]<<6|M[o.charCodeAt(i+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return l===2&&(t=M[o.charCodeAt(i)]<<2|M[o.charCodeAt(i+1)]>>4,s[u++]=255&t),l===1&&(t=M[o.charCodeAt(i)]<<10|M[o.charCodeAt(i+1)]<<4|M[o.charCodeAt(i+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s},C.fromByteArray=function(o){for(var t,i=o.length,n=i%3,r=[],l=16383,s=0,u=i-n;s<u;s+=l)r.push(h(o,s,s+l>u?u:s+l));return n===1?(t=o[i-1],r.push(e[t>>2]+e[t<<4&63]+"==")):n===2&&(t=(o[i-2]<<8)+o[i-1],r.push(e[t>>10]+e[t>>4&63]+e[t<<2&63]+"=")),r.join("")};for(var e=[],M=[],k=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=0;_<64;++_)e[_]=a[_],M[a.charCodeAt(_)]=_;function b(o){var t=o.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=o.indexOf("=");return i===-1&&(i=t),[i,i===t?0:4-i%4]}function h(o,t,i){for(var n,r,l=[],s=t;s<i;s+=3)n=(o[s]<<16&16711680)+(o[s+1]<<8&65280)+(255&o[s+2]),l.push(e[(r=n)>>18&63]+e[r>>12&63]+e[r>>6&63]+e[63&r]);return l.join("")}M["-".charCodeAt(0)]=62,M["_".charCodeAt(0)]=63},91358:function(q){function C(b,h,o,t,i){for(var n=i+1;t<=i;){var r=t+i>>>1,l=b[r];(o!==void 0?o(l,h):l-h)>=0?(n=r,i=r-1):t=r+1}return n}function e(b,h,o,t,i){for(var n=i+1;t<=i;){var r=t+i>>>1,l=b[r];(o!==void 0?o(l,h):l-h)>0?(n=r,i=r-1):t=r+1}return n}function M(b,h,o,t,i){for(var n=t-1;t<=i;){var r=t+i>>>1,l=b[r];(o!==void 0?o(l,h):l-h)<0?(n=r,t=r+1):i=r-1}return n}function k(b,h,o,t,i){for(var n=t-1;t<=i;){var r=t+i>>>1,l=b[r];(o!==void 0?o(l,h):l-h)<=0?(n=r,t=r+1):i=r-1}return n}function a(b,h,o,t,i){for(;t<=i;){var n=t+i>>>1,r=b[n],l=o!==void 0?o(r,h):r-h;if(l===0)return n;l<=0?t=n+1:i=n-1}return-1}function _(b,h,o,t,i,n){return typeof o=="function"?n(b,h,o,t===void 0?0:0|t,i===void 0?b.length-1:0|i):n(b,h,void 0,o===void 0?0:0|o,t===void 0?b.length-1:0|t)}q.exports={ge:function(b,h,o,t,i){return _(b,h,o,t,i,C)},gt:function(b,h,o,t,i){return _(b,h,o,t,i,e)},lt:function(b,h,o,t,i){return _(b,h,o,t,i,M)},le:function(b,h,o,t,i){return _(b,h,o,t,i,k)},eq:function(b,h,o,t,i){return _(b,h,o,t,i,a)}}},13547:function(q,C){function e(k){var a=32;return(k&=-k)&&a--,65535&k&&(a-=16),16711935&k&&(a-=8),252645135&k&&(a-=4),858993459&k&&(a-=2),1431655765&k&&(a-=1),a}C.INT_BITS=32,C.INT_MAX=2147483647,C.INT_MIN=-2147483648,C.sign=function(k){return(k>0)-(k<0)},C.abs=function(k){var a=k>>31;return(k^a)-a},C.min=function(k,a){return a^(k^a)&-(k<a)},C.max=function(k,a){return k^(k^a)&-(k<a)},C.isPow2=function(k){return!(k&k-1||!k)},C.log2=function(k){var a,_;return a=(k>65535)<<4,a|=_=((k>>>=a)>255)<<3,a|=_=((k>>>=_)>15)<<2,(a|=_=((k>>>=_)>3)<<1)|(k>>>=_)>>1},C.log10=function(k){return k>=1e9?9:k>=1e8?8:k>=1e7?7:k>=1e6?6:k>=1e5?5:k>=1e4?4:k>=1e3?3:k>=100?2:k>=10?1:0},C.popCount=function(k){return 16843009*((k=(858993459&(k-=k>>>1&1431655765))+(k>>>2&858993459))+(k>>>4)&252645135)>>>24},C.countTrailingZeros=e,C.nextPow2=function(k){return k+=k===0,--k,k|=k>>>1,k|=k>>>2,k|=k>>>4,k|=k>>>8,1+(k|=k>>>16)},C.prevPow2=function(k){return k|=k>>>1,k|=k>>>2,k|=k>>>4,k|=k>>>8,(k|=k>>>16)-(k>>>1)},C.parity=function(k){return k^=k>>>16,k^=k>>>8,k^=k>>>4,27030>>>(k&=15)&1};var M=new Array(256);(function(k){for(var a=0;a<256;++a){var _=a,b=a,h=7;for(_>>>=1;_;_>>>=1)b<<=1,b|=1&_,--h;k[a]=b<<h&255}})(M),C.reverse=function(k){return M[255&k]<<24|M[k>>>8&255]<<16|M[k>>>16&255]<<8|M[k>>>24&255]},C.interleave2=function(k,a){return(k=1431655765&((k=858993459&((k=252645135&((k=16711935&((k&=65535)|k<<8))|k<<4))|k<<2))|k<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))<<1},C.deinterleave2=function(k,a){return(k=65535&((k=16711935&((k=252645135&((k=858993459&((k=k>>>a&1431655765)|k>>>1))|k>>>2))|k>>>4))|k>>>16))<<16>>16},C.interleave3=function(k,a,_){return k=1227133513&((k=3272356035&((k=251719695&((k=4278190335&((k&=1023)|k<<16))|k<<8))|k<<4))|k<<2),(k|=(a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2))<<1)|(_=1227133513&((_=3272356035&((_=251719695&((_=4278190335&((_&=1023)|_<<16))|_<<8))|_<<4))|_<<2))<<2},C.deinterleave3=function(k,a){return(k=1023&((k=4278190335&((k=251719695&((k=3272356035&((k=k>>>a&1227133513)|k>>>2))|k>>>4))|k>>>8))|k>>>16))<<22>>22},C.nextCombination=function(k){var a=k|k-1;return a+1|(~a&-~a)-1>>>e(k)+1}},44781:function(q,C,e){var M=e(53435);q.exports=function(b,h){h||(h={});var o,t,i,n,r,l,s,u,p,c,x,g=h.cutoff==null?.25:h.cutoff,d=h.radius==null?8:h.radius,v=h.channel||0;if(ArrayBuffer.isView(b)||Array.isArray(b)){if(!h.width||!h.height)throw Error("For raw data width and height should be provided by options");o=h.width,t=h.height,n=b,l=h.stride?h.stride:Math.floor(b.length/o/t)}else window.HTMLCanvasElement&&b instanceof window.HTMLCanvasElement?(s=(u=b).getContext("2d"),o=u.width,t=u.height,n=(p=s.getImageData(0,0,o,t)).data,l=4):window.CanvasRenderingContext2D&&b instanceof window.CanvasRenderingContext2D?(s=b,o=(u=b.canvas).width,t=u.height,n=(p=s.getImageData(0,0,o,t)).data,l=4):window.ImageData&&b instanceof window.ImageData&&(p=b,o=b.width,t=b.height,n=p.data,l=4);if(i=Math.max(o,t),window.Uint8ClampedArray&&n instanceof window.Uint8ClampedArray||window.Uint8Array&&n instanceof window.Uint8Array)for(r=n,n=Array(o*t),c=0,x=r.length;c<x;c++)n[c]=r[c*l+v]/255;else if(l!==1)throw Error("Raw data can have only 1 value per pixel");var y=Array(o*t),m=Array(o*t),w=Array(i),f=Array(i),S=Array(i+1),T=Array(i);for(c=0,x=o*t;c<x;c++){var E=n[c];y[c]=E===1?0:E===0?k:Math.pow(Math.max(0,.5-E),2),m[c]=E===1?k:E===0?0:Math.pow(Math.max(0,E-.5),2)}a(y,o,t,w,f,T,S),a(m,o,t,w,f,T,S);var O=window.Float32Array?new Float32Array(o*t):new Array(o*t);for(c=0,x=o*t;c<x;c++)O[c]=M(1-((y[c]-m[c])/d+g),0,1);return O};var k=1e20;function a(b,h,o,t,i,n,r){for(var l=0;l<h;l++){for(var s=0;s<o;s++)t[s]=b[s*h+l];for(_(t,i,n,r,o),s=0;s<o;s++)b[s*h+l]=i[s]}for(s=0;s<o;s++){for(l=0;l<h;l++)t[l]=b[s*h+l];for(_(t,i,n,r,h),l=0;l<h;l++)b[s*h+l]=Math.sqrt(i[l])}}function _(b,h,o,t,i){o[0]=0,t[0]=-k,t[1]=+k;for(var n=1,r=0;n<i;n++){for(var l=(b[n]+n*n-(b[o[r]]+o[r]*o[r]))/(2*n-2*o[r]);l<=t[r];)r--,l=(b[n]+n*n-(b[o[r]]+o[r]*o[r]))/(2*n-2*o[r]);o[++r]=n,t[r]=l,t[r+1]=+k}for(n=0,r=0;n<i;n++){for(;t[r+1]<n;)r++;h[n]=(n-o[r])*(n-o[r])+b[o[r]]}}},6614:function(q,C,e){var M=e(68318),k=e(68222),a=k(M("String.prototype.indexOf"));q.exports=function(_,b){var h=M(_,!!b);return typeof h=="function"&&a(_,".prototype.")>-1?k(h):h}},68222:function(q,C,e){var M=e(77575),k=e(68318),a=k("%Function.prototype.apply%"),_=k("%Function.prototype.call%"),b=k("%Reflect.apply%",!0)||M.call(_,a),h=k("%Object.getOwnPropertyDescriptor%",!0),o=k("%Object.defineProperty%",!0),t=k("%Math.max%");if(o)try{o({},"a",{value:1})}catch{o=null}q.exports=function(n){var r=b(M,_,arguments);return h&&o&&h(r,"length").configurable&&o(r,"length",{value:1+t(0,n.length-(arguments.length-1))}),r};var i=function(){return b(M,a,arguments)};o?o(q.exports,"apply",{value:i}):q.exports.apply=i},53435:function(q){q.exports=function(C,e,M){return e<M?C<e?e:C>M?M:C:C<M?M:C>e?e:C}},6475:function(q,C,e){var M=e(53435);function k(a,_){_==null&&(_=!0);var b=a[0],h=a[1],o=a[2],t=a[3];return t==null&&(t=_?1:255),_&&(b*=255,h*=255,o*=255,t*=255),16777216*(b=255&M(b,0,255))+((h=255&M(h,0,255))<<16)+((o=255&M(o,0,255))<<8)+(255&M(t,0,255))}q.exports=k,q.exports.to=k,q.exports.from=function(a,_){var b=(a=+a)>>>24,h=(16711680&a)>>>16,o=(65280&a)>>>8,t=255&a;return _===!1?[b,h,o,t]:[b/255,h/255,o/255,t/255]}},76857:function(q){q.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(q,C,e){var M=e(36652),k=e(53435),a=e(90660);q.exports=function(_,b){b!=="float"&&b||(b="array"),b==="uint"&&(b="uint8"),b==="uint_clamped"&&(b="uint8_clamped");var h=new(a(b))(4),o=b!=="uint8"&&b!=="uint8_clamped";return _.length&&typeof _!="string"||((_=M(_))[0]/=255,_[1]/=255,_[2]/=255),function(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||!!(Array.isArray(t)&&(t[0]>1||t[0]===0)&&(t[1]>1||t[1]===0)&&(t[2]>1||t[2]===0)&&(!t[3]||t[3]>1))}(_)?(h[0]=_[0],h[1]=_[1],h[2]=_[2],h[3]=_[3]!=null?_[3]:255,o&&(h[0]/=255,h[1]/=255,h[2]/=255,h[3]/=255),h):(o?(h[0]=_[0],h[1]=_[1],h[2]=_[2],h[3]=_[3]!=null?_[3]:1):(h[0]=k(Math.floor(255*_[0]),0,255),h[1]=k(Math.floor(255*_[1]),0,255),h[2]=k(Math.floor(255*_[2]),0,255),h[3]=_[3]==null?255:k(Math.floor(255*_[3]),0,255)),h)}},90736:function(q,C,e){var M=e(76857),k=e(10973),a=e(46775);q.exports=function(b){var h,o,t=[],i=1;if(typeof b=="string")if(M[b])t=M[b].slice(),o="rgb";else if(b==="transparent")i=0,o="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(b)){var n=b.slice(1);i=1,(s=n.length)<=4?(t=[parseInt(n[0]+n[0],16),parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16)],s===4&&(i=parseInt(n[3]+n[3],16)/255)):(t=[parseInt(n[0]+n[1],16),parseInt(n[2]+n[3],16),parseInt(n[4]+n[5],16)],s===8&&(i=parseInt(n[6]+n[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),o="rgb"}else if(h=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(b)){var r=h[1],l=r==="rgb";o=n=r.replace(/a$/,"");var s=n==="cmyk"?4:n==="gray"?1:3;t=h[2].trim().split(/\s*,\s*/).map(function(p,c){if(/%$/.test(p))return c===s?parseFloat(p)/100:n==="rgb"?255*parseFloat(p)/100:parseFloat(p);if(n[c]==="h"){if(/deg$/.test(p))return parseFloat(p);if(_[p]!==void 0)return _[p]}return parseFloat(p)}),r===n&&t.push(1),i=l||t[s]===void 0?1:t[s],t=t.slice(0,s)}else b.length>10&&/[0-9](?:\s|\/)/.test(b)&&(t=b.match(/([0-9]+)/g).map(function(p){return parseFloat(p)}),o=b.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(b))if(k(b)){var u=a(b.r,b.red,b.R,null);u!==null?(o="rgb",t=[u,a(b.g,b.green,b.G),a(b.b,b.blue,b.B)]):(o="hsl",t=[a(b.h,b.hue,b.H),a(b.s,b.saturation,b.S),a(b.l,b.lightness,b.L,b.b,b.brightness)]),i=a(b.a,b.alpha,b.opacity,1),b.opacity!=null&&(i/=100)}else(Array.isArray(b)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(b))&&(t=[b[0],b[1],b[2]],o="rgb",i=b.length===4?b[3]:1);else o="rgb",t=[b>>>16,(65280&b)>>>8,255&b];return{space:o,values:t,alpha:i}};var _={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},36652:function(q,C,e){var M=e(90736),k=e(80009),a=e(53435);q.exports=function(_){var b,h=M(_);return h.space?((b=Array(3))[0]=a(h.values[0],0,255),b[1]=a(h.values[1],0,255),b[2]=a(h.values[2],0,255),h.space[0]==="h"&&(b=k.rgb(b)),b.push(a(h.alpha,0,1)),b):[]}},80009:function(q,C,e){var M=e(6866);q.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(k){var a,_,b,h,o,t=k[0]/360,i=k[1]/100,n=k[2]/100;if(i===0)return[o=255*n,o,o];a=2*n-(_=n<.5?n*(1+i):n+i-n*i),h=[0,0,0];for(var r=0;r<3;r++)(b=t+.3333333333333333*-(r-1))<0?b++:b>1&&b--,o=6*b<1?a+6*(_-a)*b:2*b<1?_:3*b<2?a+(_-a)*(.6666666666666666-b)*6:a,h[r]=255*o;return h}},M.hsl=function(k){var a,_,b=k[0]/255,h=k[1]/255,o=k[2]/255,t=Math.min(b,h,o),i=Math.max(b,h,o),n=i-t;return i===t?a=0:b===i?a=(h-o)/n:h===i?a=2+(o-b)/n:o===i&&(a=4+(b-h)/n),(a=Math.min(60*a,360))<0&&(a+=360),_=(t+i)/2,[a,100*(i===t?0:_<=.5?n/(i+t):n/(2-i-t)),100*_]}},6866:function(q){q.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(q){q.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(q,C,e){q.exports={parse:e(41004),stringify:e(53313)}},63625:function(q,C,e){var M=e(40402);q.exports={isSize:function(k){return/^[\d\.]/.test(k)||k.indexOf("/")!==-1||M.indexOf(k)!==-1}}},41004:function(q,C,e){var M=e(90448),k=e(38732),a=e(41901),_=e(15659),b=e(96209),h=e(83794),o=e(99011),t=e(63625).isSize;q.exports=n;var i=n.cache={};function n(l){if(typeof l!="string")throw new Error("Font argument must be a string.");if(i[l])return i[l];if(l==="")throw new Error("Cannot parse an empty string.");if(a.indexOf(l)!==-1)return i[l]={system:l};for(var s,u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},p=o(l,/\s+/);s=p.shift();){if(k.indexOf(s)!==-1)return["style","variant","weight","stretch"].forEach(function(x){u[x]=s}),i[l]=u;if(b.indexOf(s)===-1)if(s!=="normal"&&s!=="small-caps")if(h.indexOf(s)===-1){if(_.indexOf(s)===-1){if(t(s)){var c=o(s,"/");if(u.size=c[0],c[1]!=null?u.lineHeight=r(c[1]):p[0]==="/"&&(p.shift(),u.lineHeight=r(p.shift())),!p.length)throw new Error("Missing required font-family.");return u.family=o(p.join(" "),/\s*,\s*/).map(M),i[l]=u}throw new Error("Unknown or unsupported font token: "+s)}u.weight=s}else u.stretch=s;else u.variant=s;else u.style=s}throw new Error("Missing required font-size.")}function r(l){var s=parseFloat(l);return s.toString()===l?s:l}},53313:function(q,C,e){var M=e(71299),k=e(63625).isSize,a=l(e(38732)),_=l(e(41901)),b=l(e(15659)),h=l(e(96209)),o=l(e(83794)),t={normal:1,"small-caps":1},i={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},n="serif";function r(s,u){if(s&&!u[s]&&!a[s])throw Error("Unknown keyword `"+s+"`");return s}function l(s){for(var u={},p=0;p<s.length;p++)u[s[p]]=1;return u}q.exports=function(s){if((s=M(s,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return s.system&&r(s.system,_),s.system;if(r(s.style,h),r(s.variant,t),r(s.weight,b),r(s.stretch,o),s.size==null&&(s.size="1rem"),typeof s.size=="number"&&(s.size+="px"),!k)throw Error("Bad size value `"+s.size+"`");s.family||(s.family=n),Array.isArray(s.family)&&(s.family.length||(s.family=[n]),s.family=s.family.map(function(p){return i[p]?p:'"'+p+'"'}).join(", "));var u=[];return u.push(s.style),s.variant!==s.style&&u.push(s.variant),s.weight!==s.variant&&s.weight!==s.style&&u.push(s.weight),s.stretch!==s.weight&&s.stretch!==s.variant&&s.stretch!==s.style&&u.push(s.stretch),u.push(s.size+(s.lineHeight==null||s.lineHeight==="normal"||s.lineHeight+""=="1"?"":"/"+s.lineHeight)),u.push(s.family),u.filter(Boolean).join(" ")}},55174:function(q,C,e){var M,k=e(24582),a=e(10424),_=e(82527),b=e(19012),h=e(21780),o=e(16906),t=Function.prototype.bind,i=Object.defineProperty,n=Object.prototype.hasOwnProperty;M=function(r,l,s){var u,p=a(l)&&_(l.value);return delete(u=b(l)).writable,delete u.value,u.get=function(){return!s.overwriteDefinition&&n.call(this,r)?p:(l.value=t.call(p,s.resolveContext?s.resolveContext(this):this),i(this,r,l),this[r])},u},q.exports=function(r){var l=h(arguments[1]);return k(l.resolveContext)&&_(l.resolveContext),o(r,function(s,u){return M(u,s,l)})}},62072:function(q,C,e){var M=e(24582),k=e(84985),a=e(95879),_=e(21780),b=e(66741),h=q.exports=function(o,t){var i,n,r,l,s;return arguments.length<2||typeof o!="string"?(l=t,t=o,o=null):l=arguments[2],M(o)?(i=b.call(o,"c"),n=b.call(o,"e"),r=b.call(o,"w")):(i=r=!0,n=!1),s={value:t,configurable:i,enumerable:n,writable:r},l?a(_(l),s):s};h.gs=function(o,t,i){var n,r,l,s;return typeof o!="string"?(l=i,i=t,t=o,o=null):l=arguments[3],M(t)?k(t)?M(i)?k(i)||(l=i,i=void 0):i=void 0:(l=t,t=i=void 0):t=void 0,M(o)?(n=b.call(o,"c"),r=b.call(o,"e")):(n=!0,r=!1),s={get:t,set:i,configurable:n,enumerable:r},l?a(_(l),s):s}},33064:function(q,C,e){function M(r,l){return r<l?-1:r>l?1:r>=l?0:NaN}e.d(C,{j2:function(){return M},Fp:function(){return _},J6:function(){return h},TS:function(){return o},VV:function(){return t},w6:function(){return i},Sm:function(){return n}}),(k=M).length===1&&(a=k,k=function(r,l){return M(a(r),l)});var k,a;function _(r,l){var s,u,p=r.length,c=-1;if(l==null){for(;++c<p;)if((s=r[c])!=null&&s>=s)for(u=s;++c<p;)(s=r[c])!=null&&s>u&&(u=s)}else for(;++c<p;)if((s=l(r[c],c,r))!=null&&s>=s)for(u=s;++c<p;)(s=l(r[c],c,r))!=null&&s>u&&(u=s);return u}function b(r){return r===null?NaN:+r}function h(r,l){var s,u=r.length,p=u,c=-1,x=0;if(l==null)for(;++c<u;)isNaN(s=b(r[c]))?--p:x+=s;else for(;++c<u;)isNaN(s=b(l(r[c],c,r)))?--p:x+=s;if(p)return x/p}function o(r){for(var l,s,u,p=r.length,c=-1,x=0;++c<p;)x+=r[c].length;for(s=new Array(x);--p>=0;)for(l=(u=r[p]).length;--l>=0;)s[--x]=u[l];return s}function t(r,l){var s,u,p=r.length,c=-1;if(l==null){for(;++c<p;)if((s=r[c])!=null&&s>=s)for(u=s;++c<p;)(s=r[c])!=null&&u>s&&(u=s)}else for(;++c<p;)if((s=l(r[c],c,r))!=null&&s>=s)for(u=s;++c<p;)(s=l(r[c],c,r))!=null&&u>s&&(u=s);return u}function i(r,l,s){r=+r,l=+l,s=(p=arguments.length)<2?(l=r,r=0,1):p<3?1:+s;for(var u=-1,p=0|Math.max(0,Math.ceil((l-r)/s)),c=new Array(p);++u<p;)c[u]=r+u*s;return c}function n(r,l){var s,u=r.length,p=-1,c=0;if(l==null)for(;++p<u;)(s=+r[p])&&(c+=s);else for(;++p<u;)(s=+l(r[p],p,r))&&(c+=s);return c}},15140:function(q,C,e){e.d(C,{UI:function(){return _},b1:function(){return b}});var M="$";function k(){}function a(l,s){var u=new k;if(l instanceof k)l.each(function(d,v){u.set(v,d)});else if(Array.isArray(l)){var p,c=-1,x=l.length;if(s==null)for(;++c<x;)u.set(c,l[c]);else for(;++c<x;)u.set(s(p=l[c],c,l),p)}else if(l)for(var g in l)u.set(g,l[g]);return u}k.prototype=a.prototype={constructor:k,has:function(l){return M+l in this},get:function(l){return this[M+l]},set:function(l,s){return this[M+l]=s,this},remove:function(l){var s=M+l;return s in this&&delete this[s]},clear:function(){for(var l in this)l[0]===M&&delete this[l]},keys:function(){var l=[];for(var s in this)s[0]===M&&l.push(s.slice(1));return l},values:function(){var l=[];for(var s in this)s[0]===M&&l.push(this[s]);return l},entries:function(){var l=[];for(var s in this)s[0]===M&&l.push({key:s.slice(1),value:this[s]});return l},size:function(){var l=0;for(var s in this)s[0]===M&&++l;return l},empty:function(){for(var l in this)if(l[0]===M)return!1;return!0},each:function(l){for(var s in this)s[0]===M&&l(this[s],s.slice(1),this)}};var _=a;function b(){var l,s,u,p=[],c=[];function x(d,v,y,m){if(v>=p.length)return l!=null&&d.sort(l),s!=null?s(d):d;for(var w,f,S,T=-1,E=d.length,O=p[v++],P=_(),I=y();++T<E;)(S=P.get(w=O(f=d[T])+""))?S.push(f):P.set(w,[f]);return P.each(function(z,j){m(I,j,x(z,v,y,m))}),I}function g(d,v){if(++v>p.length)return d;var y,m=c[v-1];return s!=null&&v>=p.length?y=d.entries():(y=[],d.each(function(w,f){y.push({key:f,values:g(w,v)})})),m!=null?y.sort(function(w,f){return m(w.key,f.key)}):y}return u={object:function(d){return x(d,0,h,o)},map:function(d){return x(d,0,t,i)},entries:function(d){return g(x(d,0,t,i),0)},key:function(d){return p.push(d),u},sortKeys:function(d){return c[p.length-1]=d,u},sortValues:function(d){return l=d,u},rollup:function(d){return s=d,u}}}function h(){return{}}function o(l,s,u){l[s]=u}function t(){return _()}function i(l,s,u){l.set(s,u)}function n(){}var r=_.prototype;n.prototype={constructor:n,has:r.has,add:function(l){return this[M+(l+="")]=l,this},remove:r.remove,clear:r.clear,values:r.keys,size:r.size,empty:r.empty,each:r.each}},49887:function(q,C,e){function M(be,me){var Ee;function Te(){var we,oe,se=Ee.length,he=0,Se=0;for(we=0;we<se;++we)he+=(oe=Ee[we]).x,Se+=oe.y;for(he=he/se-be,Se=Se/se-me,we=0;we<se;++we)(oe=Ee[we]).x-=he,oe.y-=Se}return be==null&&(be=0),me==null&&(me=0),Te.initialize=function(we){Ee=we},Te.x=function(we){return arguments.length?(be=+we,Te):be},Te.y=function(we){return arguments.length?(me=+we,Te):me},Te}function k(be){return function(){return be}}function a(){return 1e-6*(Math.random()-.5)}function _(be,me,Ee,Te){if(isNaN(me)||isNaN(Ee))return be;var we,oe,se,he,Se,_e,Ae,Ce,Re,fe=be._root,xe={data:Te},ke=be._x0,Ie=be._y0,Fe=be._x1,ze=be._y1;if(!fe)return be._root=xe,be;for(;fe.length;)if((_e=me>=(oe=(ke+Fe)/2))?ke=oe:Fe=oe,(Ae=Ee>=(se=(Ie+ze)/2))?Ie=se:ze=se,we=fe,!(fe=fe[Ce=Ae<<1|_e]))return we[Ce]=xe,be;if(he=+be._x.call(null,fe.data),Se=+be._y.call(null,fe.data),me===he&&Ee===Se)return xe.next=fe,we?we[Ce]=xe:be._root=xe,be;do we=we?we[Ce]=new Array(4):be._root=new Array(4),(_e=me>=(oe=(ke+Fe)/2))?ke=oe:Fe=oe,(Ae=Ee>=(se=(Ie+ze)/2))?Ie=se:ze=se;while((Ce=Ae<<1|_e)==(Re=(Se>=se)<<1|he>=oe));return we[Re]=fe,we[Ce]=xe,be}function b(be,me,Ee,Te,we){this.node=be,this.x0=me,this.y0=Ee,this.x1=Te,this.y1=we}function h(be){return be[0]}function o(be){return be[1]}function t(be,me,Ee){var Te=new i(me??h,Ee??o,NaN,NaN,NaN,NaN);return be==null?Te:Te.addAll(be)}function i(be,me,Ee,Te,we,oe){this._x=be,this._y=me,this._x0=Ee,this._y0=Te,this._x1=we,this._y1=oe,this._root=void 0}function n(be){for(var me={data:be.data},Ee=me;be=be.next;)Ee=Ee.next={data:be.data};return me}e.r(C),e.d(C,{forceCenter:function(){return M},forceCollide:function(){return u},forceLink:function(){return g},forceManyBody:function(){return ue},forceRadial:function(){return pe},forceSimulation:function(){return ae},forceX:function(){return de},forceY:function(){return ye}});var r=t.prototype=i.prototype;function l(be){return be.x+be.vx}function s(be){return be.y+be.vy}function u(be){var me,Ee,Te=1,we=1;function oe(){for(var Se,_e,Ae,Ce,Re,fe,xe,ke=me.length,Ie=0;Ie<we;++Ie)for(_e=t(me,l,s).visitAfter(se),Se=0;Se<ke;++Se)Ae=me[Se],fe=Ee[Ae.index],xe=fe*fe,Ce=Ae.x+Ae.vx,Re=Ae.y+Ae.vy,_e.visit(Fe);function Fe(ze,qe,Ye,Qe,ft){var ht=ze.data,mt=ze.r,Mt=fe+mt;if(!ht)return qe>Ce+Mt||Qe<Ce-Mt||Ye>Re+Mt||ft<Re-Mt;if(ht.index>Ae.index){var _t=Ce-ht.x-ht.vx,it=Re-ht.y-ht.vy,st=_t*_t+it*it;st<Mt*Mt&&(_t===0&&(st+=(_t=a())*_t),it===0&&(st+=(it=a())*it),st=(Mt-(st=Math.sqrt(st)))/st*Te,Ae.vx+=(_t*=st)*(Mt=(mt*=mt)/(xe+mt)),Ae.vy+=(it*=st)*Mt,ht.vx-=_t*(Mt=1-Mt),ht.vy-=it*Mt)}}}function se(Se){if(Se.data)return Se.r=Ee[Se.data.index];for(var _e=Se.r=0;_e<4;++_e)Se[_e]&&Se[_e].r>Se.r&&(Se.r=Se[_e].r)}function he(){if(me){var Se,_e,Ae=me.length;for(Ee=new Array(Ae),Se=0;Se<Ae;++Se)_e=me[Se],Ee[_e.index]=+be(_e,Se,me)}}return typeof be!="function"&&(be=k(be==null?1:+be)),oe.initialize=function(Se){me=Se,he()},oe.iterations=function(Se){return arguments.length?(we=+Se,oe):we},oe.strength=function(Se){return arguments.length?(Te=+Se,oe):Te},oe.radius=function(Se){return arguments.length?(be=typeof Se=="function"?Se:k(+Se),he(),oe):be},oe}r.copy=function(){var be,me,Ee=new i(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Te=this._root;if(!Te)return Ee;if(!Te.length)return Ee._root=n(Te),Ee;for(be=[{source:Te,target:Ee._root=new Array(4)}];Te=be.pop();)for(var we=0;we<4;++we)(me=Te.source[we])&&(me.length?be.push({source:me,target:Te.target[we]=new Array(4)}):Te.target[we]=n(me));return Ee},r.add=function(be){var me=+this._x.call(null,be),Ee=+this._y.call(null,be);return _(this.cover(me,Ee),me,Ee,be)},r.addAll=function(be){var me,Ee,Te,we,oe=be.length,se=new Array(oe),he=new Array(oe),Se=1/0,_e=1/0,Ae=-1/0,Ce=-1/0;for(Ee=0;Ee<oe;++Ee)isNaN(Te=+this._x.call(null,me=be[Ee]))||isNaN(we=+this._y.call(null,me))||(se[Ee]=Te,he[Ee]=we,Te<Se&&(Se=Te),Te>Ae&&(Ae=Te),we<_e&&(_e=we),we>Ce&&(Ce=we));if(Se>Ae||_e>Ce)return this;for(this.cover(Se,_e).cover(Ae,Ce),Ee=0;Ee<oe;++Ee)_(this,se[Ee],he[Ee],be[Ee]);return this},r.cover=function(be,me){if(isNaN(be=+be)||isNaN(me=+me))return this;var Ee=this._x0,Te=this._y0,we=this._x1,oe=this._y1;if(isNaN(Ee))we=(Ee=Math.floor(be))+1,oe=(Te=Math.floor(me))+1;else{for(var se,he,Se=we-Ee,_e=this._root;Ee>be||be>=we||Te>me||me>=oe;)switch(he=(me<Te)<<1|be<Ee,(se=new Array(4))[he]=_e,_e=se,Se*=2,he){case 0:we=Ee+Se,oe=Te+Se;break;case 1:Ee=we-Se,oe=Te+Se;break;case 2:we=Ee+Se,Te=oe-Se;break;case 3:Ee=we-Se,Te=oe-Se}this._root&&this._root.length&&(this._root=_e)}return this._x0=Ee,this._y0=Te,this._x1=we,this._y1=oe,this},r.data=function(){var be=[];return this.visit(function(me){if(!me.length)do be.push(me.data);while(me=me.next)}),be},r.extent=function(be){return arguments.length?this.cover(+be[0][0],+be[0][1]).cover(+be[1][0],+be[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},r.find=function(be,me,Ee){var Te,we,oe,se,he,Se,_e,Ae=this._x0,Ce=this._y0,Re=this._x1,fe=this._y1,xe=[],ke=this._root;for(ke&&xe.push(new b(ke,Ae,Ce,Re,fe)),Ee==null?Ee=1/0:(Ae=be-Ee,Ce=me-Ee,Re=be+Ee,fe=me+Ee,Ee*=Ee);Se=xe.pop();)if(!(!(ke=Se.node)||(we=Se.x0)>Re||(oe=Se.y0)>fe||(se=Se.x1)<Ae||(he=Se.y1)<Ce))if(ke.length){var Ie=(we+se)/2,Fe=(oe+he)/2;xe.push(new b(ke[3],Ie,Fe,se,he),new b(ke[2],we,Fe,Ie,he),new b(ke[1],Ie,oe,se,Fe),new b(ke[0],we,oe,Ie,Fe)),(_e=(me>=Fe)<<1|be>=Ie)&&(Se=xe[xe.length-1],xe[xe.length-1]=xe[xe.length-1-_e],xe[xe.length-1-_e]=Se)}else{var ze=be-+this._x.call(null,ke.data),qe=me-+this._y.call(null,ke.data),Ye=ze*ze+qe*qe;if(Ye<Ee){var Qe=Math.sqrt(Ee=Ye);Ae=be-Qe,Ce=me-Qe,Re=be+Qe,fe=me+Qe,Te=ke.data}}return Te},r.remove=function(be){if(isNaN(oe=+this._x.call(null,be))||isNaN(se=+this._y.call(null,be)))return this;var me,Ee,Te,we,oe,se,he,Se,_e,Ae,Ce,Re,fe=this._root,xe=this._x0,ke=this._y0,Ie=this._x1,Fe=this._y1;if(!fe)return this;if(fe.length)for(;;){if((_e=oe>=(he=(xe+Ie)/2))?xe=he:Ie=he,(Ae=se>=(Se=(ke+Fe)/2))?ke=Se:Fe=Se,me=fe,!(fe=fe[Ce=Ae<<1|_e]))return this;if(!fe.length)break;(me[Ce+1&3]||me[Ce+2&3]||me[Ce+3&3])&&(Ee=me,Re=Ce)}for(;fe.data!==be;)if(Te=fe,!(fe=fe.next))return this;return(we=fe.next)&&delete fe.next,Te?(we?Te.next=we:delete Te.next,this):me?(we?me[Ce]=we:delete me[Ce],(fe=me[0]||me[1]||me[2]||me[3])&&fe===(me[3]||me[2]||me[1]||me[0])&&!fe.length&&(Ee?Ee[Re]=fe:this._root=fe),this):(this._root=we,this)},r.removeAll=function(be){for(var me=0,Ee=be.length;me<Ee;++me)this.remove(be[me]);return this},r.root=function(){return this._root},r.size=function(){var be=0;return this.visit(function(me){if(!me.length)do++be;while(me=me.next)}),be},r.visit=function(be){var me,Ee,Te,we,oe,se,he=[],Se=this._root;for(Se&&he.push(new b(Se,this._x0,this._y0,this._x1,this._y1));me=he.pop();)if(!be(Se=me.node,Te=me.x0,we=me.y0,oe=me.x1,se=me.y1)&&Se.length){var _e=(Te+oe)/2,Ae=(we+se)/2;(Ee=Se[3])&&he.push(new b(Ee,_e,Ae,oe,se)),(Ee=Se[2])&&he.push(new b(Ee,Te,Ae,_e,se)),(Ee=Se[1])&&he.push(new b(Ee,_e,we,oe,Ae)),(Ee=Se[0])&&he.push(new b(Ee,Te,we,_e,Ae))}return this},r.visitAfter=function(be){var me,Ee=[],Te=[];for(this._root&&Ee.push(new b(this._root,this._x0,this._y0,this._x1,this._y1));me=Ee.pop();){var we=me.node;if(we.length){var oe,se=me.x0,he=me.y0,Se=me.x1,_e=me.y1,Ae=(se+Se)/2,Ce=(he+_e)/2;(oe=we[0])&&Ee.push(new b(oe,se,he,Ae,Ce)),(oe=we[1])&&Ee.push(new b(oe,Ae,he,Se,Ce)),(oe=we[2])&&Ee.push(new b(oe,se,Ce,Ae,_e)),(oe=we[3])&&Ee.push(new b(oe,Ae,Ce,Se,_e))}Te.push(me)}for(;me=Te.pop();)be(me.node,me.x0,me.y0,me.x1,me.y1);return this},r.x=function(be){return arguments.length?(this._x=be,this):this._x},r.y=function(be){return arguments.length?(this._y=be,this):this._y};var p=e(15140);function c(be){return be.index}function x(be,me){var Ee=be.get(me);if(!Ee)throw new Error("missing: "+me);return Ee}function g(be){var me,Ee,Te,we,oe,se=c,he=function(xe){return 1/Math.min(we[xe.source.index],we[xe.target.index])},Se=k(30),_e=1;function Ae(xe){for(var ke=0,Ie=be.length;ke<_e;++ke)for(var Fe,ze,qe,Ye,Qe,ft,ht,mt=0;mt<Ie;++mt)ze=(Fe=be[mt]).source,Ye=(qe=Fe.target).x+qe.vx-ze.x-ze.vx||a(),Qe=qe.y+qe.vy-ze.y-ze.vy||a(),Ye*=ft=((ft=Math.sqrt(Ye*Ye+Qe*Qe))-Ee[mt])/ft*xe*me[mt],Qe*=ft,qe.vx-=Ye*(ht=oe[mt]),qe.vy-=Qe*ht,ze.vx+=Ye*(ht=1-ht),ze.vy+=Qe*ht}function Ce(){if(Te){var xe,ke,Ie=Te.length,Fe=be.length,ze=(0,p.UI)(Te,se);for(xe=0,we=new Array(Ie);xe<Fe;++xe)(ke=be[xe]).index=xe,typeof ke.source!="object"&&(ke.source=x(ze,ke.source)),typeof ke.target!="object"&&(ke.target=x(ze,ke.target)),we[ke.source.index]=(we[ke.source.index]||0)+1,we[ke.target.index]=(we[ke.target.index]||0)+1;for(xe=0,oe=new Array(Fe);xe<Fe;++xe)ke=be[xe],oe[xe]=we[ke.source.index]/(we[ke.source.index]+we[ke.target.index]);me=new Array(Fe),Re(),Ee=new Array(Fe),fe()}}function Re(){if(Te)for(var xe=0,ke=be.length;xe<ke;++xe)me[xe]=+he(be[xe],xe,be)}function fe(){if(Te)for(var xe=0,ke=be.length;xe<ke;++xe)Ee[xe]=+Se(be[xe],xe,be)}return be==null&&(be=[]),Ae.initialize=function(xe){Te=xe,Ce()},Ae.links=function(xe){return arguments.length?(be=xe,Ce(),Ae):be},Ae.id=function(xe){return arguments.length?(se=xe,Ae):se},Ae.iterations=function(xe){return arguments.length?(_e=+xe,Ae):_e},Ae.strength=function(xe){return arguments.length?(he=typeof xe=="function"?xe:k(+xe),Re(),Ae):he},Ae.distance=function(xe){return arguments.length?(Se=typeof xe=="function"?xe:k(+xe),fe(),Ae):Se},Ae}var d={value:function(){}};function v(){for(var be,me=0,Ee=arguments.length,Te={};me<Ee;++me){if(!(be=arguments[me]+"")||be in Te||/[\s.]/.test(be))throw new Error("illegal type: "+be);Te[be]=[]}return new y(Te)}function y(be){this._=be}function m(be,me){for(var Ee,Te=0,we=be.length;Te<we;++Te)if((Ee=be[Te]).name===me)return Ee.value}function w(be,me,Ee){for(var Te=0,we=be.length;Te<we;++Te)if(be[Te].name===me){be[Te]=d,be=be.slice(0,Te).concat(be.slice(Te+1));break}return Ee!=null&&be.push({name:me,value:Ee}),be}y.prototype=v.prototype={constructor:y,on:function(be,me){var Ee,Te,we=this._,oe=(Te=we,(be+"").trim().split(/^|\s+/).map(function(Se){var _e="",Ae=Se.indexOf(".");if(Ae>=0&&(_e=Se.slice(Ae+1),Se=Se.slice(0,Ae)),Se&&!Te.hasOwnProperty(Se))throw new Error("unknown type: "+Se);return{type:Se,name:_e}})),se=-1,he=oe.length;if(!(arguments.length<2)){if(me!=null&&typeof me!="function")throw new Error("invalid callback: "+me);for(;++se<he;)if(Ee=(be=oe[se]).type)we[Ee]=w(we[Ee],be.name,me);else if(me==null)for(Ee in we)we[Ee]=w(we[Ee],be.name,null);return this}for(;++se<he;)if((Ee=(be=oe[se]).type)&&(Ee=m(we[Ee],be.name)))return Ee},copy:function(){var be={},me=this._;for(var Ee in me)be[Ee]=me[Ee].slice();return new y(be)},call:function(be,me){if((Ee=arguments.length-2)>0)for(var Ee,Te,we=new Array(Ee),oe=0;oe<Ee;++oe)we[oe]=arguments[oe+2];if(!this._.hasOwnProperty(be))throw new Error("unknown type: "+be);for(oe=0,Ee=(Te=this._[be]).length;oe<Ee;++oe)Te[oe].value.apply(me,we)},apply:function(be,me,Ee){if(!this._.hasOwnProperty(be))throw new Error("unknown type: "+be);for(var Te=this._[be],we=0,oe=Te.length;we<oe;++we)Te[we].value.apply(me,Ee)}};var f,S,T=v,E=0,O=0,P=0,I=1e3,z=0,j=0,R=0,N=typeof performance=="object"&&performance.now?performance:Date,Z=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(be){setTimeout(be,17)};function F(){return j||(Z(U),j=N.now()+R)}function U(){j=0}function V(){this._call=this._time=this._next=null}function te(be,me,Ee){var Te=new V;return Te.restart(be,me,Ee),Te}function Q(){j=(z=N.now())+R,E=O=0;try{(function(){F(),++E;for(var be,me=f;me;)(be=j-me._time)>=0&&me._call.call(null,be),me=me._next;--E})()}finally{E=0,function(){for(var be,me,Ee=f,Te=1/0;Ee;)Ee._call?(Te>Ee._time&&(Te=Ee._time),be=Ee,Ee=Ee._next):(me=Ee._next,Ee._next=null,Ee=be?be._next=me:f=me);S=be,X(Te)}(),j=0}}function J(){var be=N.now(),me=be-z;me>I&&(R-=me,z=be)}function X(be){E||(O&&(O=clearTimeout(O)),be-j>24?(be<1/0&&(O=setTimeout(Q,be-N.now()-R)),P&&(P=clearInterval(P))):(P||(z=N.now(),P=setInterval(J,I)),E=1,Z(Q)))}function K(be){return be.x}function ee(be){return be.y}V.prototype=te.prototype={constructor:V,restart:function(be,me,Ee){if(typeof be!="function")throw new TypeError("callback is not a function");Ee=(Ee==null?F():+Ee)+(me==null?0:+me),this._next||S===this||(S?S._next=this:f=this,S=this),this._call=be,this._time=Ee,X()},stop:function(){this._call&&(this._call=null,this._time=1/0,X())}};var re=10,ie=Math.PI*(3-Math.sqrt(5));function ae(be){var me,Ee=1,Te=.001,we=1-Math.pow(Te,1/300),oe=0,se=.6,he=(0,p.UI)(),Se=te(Ae),_e=T("tick","end");function Ae(){Ce(),_e.call("tick",me),Ee<Te&&(Se.stop(),_e.call("end",me))}function Ce(xe){var ke,Ie,Fe=be.length;xe===void 0&&(xe=1);for(var ze=0;ze<xe;++ze)for(Ee+=(oe-Ee)*we,he.each(function(qe){qe(Ee)}),ke=0;ke<Fe;++ke)(Ie=be[ke]).fx==null?Ie.x+=Ie.vx*=se:(Ie.x=Ie.fx,Ie.vx=0),Ie.fy==null?Ie.y+=Ie.vy*=se:(Ie.y=Ie.fy,Ie.vy=0);return me}function Re(){for(var xe,ke=0,Ie=be.length;ke<Ie;++ke){if((xe=be[ke]).index=ke,xe.fx!=null&&(xe.x=xe.fx),xe.fy!=null&&(xe.y=xe.fy),isNaN(xe.x)||isNaN(xe.y)){var Fe=re*Math.sqrt(ke),ze=ke*ie;xe.x=Fe*Math.cos(ze),xe.y=Fe*Math.sin(ze)}(isNaN(xe.vx)||isNaN(xe.vy))&&(xe.vx=xe.vy=0)}}function fe(xe){return xe.initialize&&xe.initialize(be),xe}return be==null&&(be=[]),Re(),me={tick:Ce,restart:function(){return Se.restart(Ae),me},stop:function(){return Se.stop(),me},nodes:function(xe){return arguments.length?(be=xe,Re(),he.each(fe),me):be},alpha:function(xe){return arguments.length?(Ee=+xe,me):Ee},alphaMin:function(xe){return arguments.length?(Te=+xe,me):Te},alphaDecay:function(xe){return arguments.length?(we=+xe,me):+we},alphaTarget:function(xe){return arguments.length?(oe=+xe,me):oe},velocityDecay:function(xe){return arguments.length?(se=1-xe,me):1-se},force:function(xe,ke){return arguments.length>1?(ke==null?he.remove(xe):he.set(xe,fe(ke)),me):he.get(xe)},find:function(xe,ke,Ie){var Fe,ze,qe,Ye,Qe,ft=0,ht=be.length;for(Ie==null?Ie=1/0:Ie*=Ie,ft=0;ft<ht;++ft)(qe=(Fe=xe-(Ye=be[ft]).x)*Fe+(ze=ke-Ye.y)*ze)<Ie&&(Qe=Ye,Ie=qe);return Qe},on:function(xe,ke){return arguments.length>1?(_e.on(xe,ke),me):_e.on(xe)}}}function ue(){var be,me,Ee,Te,we=k(-30),oe=1,se=1/0,he=.81;function Se(Re){var fe,xe=be.length,ke=t(be,K,ee).visitAfter(Ae);for(Ee=Re,fe=0;fe<xe;++fe)me=be[fe],ke.visit(Ce)}function _e(){if(be){var Re,fe,xe=be.length;for(Te=new Array(xe),Re=0;Re<xe;++Re)fe=be[Re],Te[fe.index]=+we(fe,Re,be)}}function Ae(Re){var fe,xe,ke,Ie,Fe,ze=0,qe=0;if(Re.length){for(ke=Ie=Fe=0;Fe<4;++Fe)(fe=Re[Fe])&&(xe=Math.abs(fe.value))&&(ze+=fe.value,qe+=xe,ke+=xe*fe.x,Ie+=xe*fe.y);Re.x=ke/qe,Re.y=Ie/qe}else{(fe=Re).x=fe.data.x,fe.y=fe.data.y;do ze+=Te[fe.data.index];while(fe=fe.next)}Re.value=ze}function Ce(Re,fe,xe,ke){if(!Re.value)return!0;var Ie=Re.x-me.x,Fe=Re.y-me.y,ze=ke-fe,qe=Ie*Ie+Fe*Fe;if(ze*ze/he<qe)return qe<se&&(Ie===0&&(qe+=(Ie=a())*Ie),Fe===0&&(qe+=(Fe=a())*Fe),qe<oe&&(qe=Math.sqrt(oe*qe)),me.vx+=Ie*Re.value*Ee/qe,me.vy+=Fe*Re.value*Ee/qe),!0;if(!(Re.length||qe>=se)){(Re.data!==me||Re.next)&&(Ie===0&&(qe+=(Ie=a())*Ie),Fe===0&&(qe+=(Fe=a())*Fe),qe<oe&&(qe=Math.sqrt(oe*qe)));do Re.data!==me&&(ze=Te[Re.data.index]*Ee/qe,me.vx+=Ie*ze,me.vy+=Fe*ze);while(Re=Re.next)}}return Se.initialize=function(Re){be=Re,_e()},Se.strength=function(Re){return arguments.length?(we=typeof Re=="function"?Re:k(+Re),_e(),Se):we},Se.distanceMin=function(Re){return arguments.length?(oe=Re*Re,Se):Math.sqrt(oe)},Se.distanceMax=function(Re){return arguments.length?(se=Re*Re,Se):Math.sqrt(se)},Se.theta=function(Re){return arguments.length?(he=Re*Re,Se):Math.sqrt(he)},Se}function pe(be,me,Ee){var Te,we,oe,se=k(.1);function he(_e){for(var Ae=0,Ce=Te.length;Ae<Ce;++Ae){var Re=Te[Ae],fe=Re.x-me||1e-6,xe=Re.y-Ee||1e-6,ke=Math.sqrt(fe*fe+xe*xe),Ie=(oe[Ae]-ke)*we[Ae]*_e/ke;Re.vx+=fe*Ie,Re.vy+=xe*Ie}}function Se(){if(Te){var _e,Ae=Te.length;for(we=new Array(Ae),oe=new Array(Ae),_e=0;_e<Ae;++_e)oe[_e]=+be(Te[_e],_e,Te),we[_e]=isNaN(oe[_e])?0:+se(Te[_e],_e,Te)}}return typeof be!="function"&&(be=k(+be)),me==null&&(me=0),Ee==null&&(Ee=0),he.initialize=function(_e){Te=_e,Se()},he.strength=function(_e){return arguments.length?(se=typeof _e=="function"?_e:k(+_e),Se(),he):se},he.radius=function(_e){return arguments.length?(be=typeof _e=="function"?_e:k(+_e),Se(),he):be},he.x=function(_e){return arguments.length?(me=+_e,he):me},he.y=function(_e){return arguments.length?(Ee=+_e,he):Ee},he}function de(be){var me,Ee,Te,we=k(.1);function oe(he){for(var Se,_e=0,Ae=me.length;_e<Ae;++_e)(Se=me[_e]).vx+=(Te[_e]-Se.x)*Ee[_e]*he}function se(){if(me){var he,Se=me.length;for(Ee=new Array(Se),Te=new Array(Se),he=0;he<Se;++he)Ee[he]=isNaN(Te[he]=+be(me[he],he,me))?0:+we(me[he],he,me)}}return typeof be!="function"&&(be=k(be==null?0:+be)),oe.initialize=function(he){me=he,se()},oe.strength=function(he){return arguments.length?(we=typeof he=="function"?he:k(+he),se(),oe):we},oe.x=function(he){return arguments.length?(be=typeof he=="function"?he:k(+he),se(),oe):be},oe}function ye(be){var me,Ee,Te,we=k(.1);function oe(he){for(var Se,_e=0,Ae=me.length;_e<Ae;++_e)(Se=me[_e]).vy+=(Te[_e]-Se.y)*Ee[_e]*he}function se(){if(me){var he,Se=me.length;for(Ee=new Array(Se),Te=new Array(Se),he=0;he<Se;++he)Ee[he]=isNaN(Te[he]=+be(me[he],he,me))?0:+we(me[he],he,me)}}return typeof be!="function"&&(be=k(be==null?0:+be)),oe.initialize=function(he){me=he,se()},oe.strength=function(he){return arguments.length?(we=typeof he=="function"?he:k(+he),se(),oe):we},oe.y=function(he){return arguments.length?(be=typeof he=="function"?he:k(+he),se(),oe):be},oe}},60721:function(q,C,e){function M(u,p){if((c=(u=p?u.toExponential(p-1):u.toExponential()).indexOf("e"))<0)return null;var c,x=u.slice(0,c);return[x.length>1?x[0]+x.slice(2):x,+u.slice(c+1)]}e.d(C,{WU:function(){return n},FF:function(){return s}});var k,a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _(u){if(!(p=a.exec(u)))throw new Error("invalid format: "+u);var p;return new b({fill:p[1],align:p[2],sign:p[3],symbol:p[4],zero:p[5],width:p[6],comma:p[7],precision:p[8]&&p[8].slice(1),trim:p[9],type:p[10]})}function b(u){this.fill=u.fill===void 0?" ":u.fill+"",this.align=u.align===void 0?">":u.align+"",this.sign=u.sign===void 0?"-":u.sign+"",this.symbol=u.symbol===void 0?"":u.symbol+"",this.zero=!!u.zero,this.width=u.width===void 0?void 0:+u.width,this.comma=!!u.comma,this.precision=u.precision===void 0?void 0:+u.precision,this.trim=!!u.trim,this.type=u.type===void 0?"":u.type+""}function h(u,p){var c=M(u,p);if(!c)return u+"";var x=c[0],g=c[1];return g<0?"0."+new Array(-g).join("0")+x:x.length>g+1?x.slice(0,g+1)+"."+x.slice(g+1):x+new Array(g-x.length+2).join("0")}_.prototype=b.prototype,b.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var o={"%":function(u,p){return(100*u).toFixed(p)},b:function(u){return Math.round(u).toString(2)},c:function(u){return u+""},d:function(u){return Math.abs(u=Math.round(u))>=1e21?u.toLocaleString("en").replace(/,/g,""):u.toString(10)},e:function(u,p){return u.toExponential(p)},f:function(u,p){return u.toFixed(p)},g:function(u,p){return u.toPrecision(p)},o:function(u){return Math.round(u).toString(8)},p:function(u,p){return h(100*u,p)},r:h,s:function(u,p){var c=M(u,p);if(!c)return u+"";var x=c[0],g=c[1],d=g-(k=3*Math.max(-8,Math.min(8,Math.floor(g/3))))+1,v=x.length;return d===v?x:d>v?x+new Array(d-v+1).join("0"):d>0?x.slice(0,d)+"."+x.slice(d):"0."+new Array(1-d).join("0")+M(u,Math.max(0,p+d-1))[0]},X:function(u){return Math.round(u).toString(16).toUpperCase()},x:function(u){return Math.round(u).toString(16)}};function t(u){return u}var i,n,r=Array.prototype.map,l=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function s(u){var p,c,x=u.grouping===void 0||u.thousands===void 0?t:(p=r.call(u.grouping,Number),c=u.thousands+"",function(T,E){for(var O=T.length,P=[],I=0,z=p[0],j=0;O>0&&z>0&&(j+z+1>E&&(z=Math.max(1,E-j)),P.push(T.substring(O-=z,O+z)),!((j+=z+1)>E));)z=p[I=(I+1)%p.length];return P.reverse().join(c)}),g=u.currency===void 0?"":u.currency[0]+"",d=u.currency===void 0?"":u.currency[1]+"",v=u.decimal===void 0?".":u.decimal+"",y=u.numerals===void 0?t:function(T){return function(E){return E.replace(/[0-9]/g,function(O){return T[+O]})}}(r.call(u.numerals,String)),m=u.percent===void 0?"%":u.percent+"",w=u.minus===void 0?"-":u.minus+"",f=u.nan===void 0?"NaN":u.nan+"";function S(T){var E=(T=_(T)).fill,O=T.align,P=T.sign,I=T.symbol,z=T.zero,j=T.width,R=T.comma,N=T.precision,Z=T.trim,F=T.type;F==="n"?(R=!0,F="g"):o[F]||(N===void 0&&(N=12),Z=!0,F="g"),(z||E==="0"&&O==="=")&&(z=!0,E="0",O="=");var U=I==="$"?g:I==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",V=I==="$"?d:/[%p]/.test(F)?m:"",te=o[F],Q=/[defgprs%]/.test(F);function J(X){var K,ee,re,ie=U,ae=V;if(F==="c")ae=te(X)+ae,X="";else{var ue=(X=+X)<0||1/X<0;if(X=isNaN(X)?f:te(Math.abs(X),N),Z&&(X=function(ye){e:for(var be,me=ye.length,Ee=1,Te=-1;Ee<me;++Ee)switch(ye[Ee]){case".":Te=be=Ee;break;case"0":Te===0&&(Te=Ee),be=Ee;break;default:if(!+ye[Ee])break e;Te>0&&(Te=0)}return Te>0?ye.slice(0,Te)+ye.slice(be+1):ye}(X)),ue&&+X==0&&P!=="+"&&(ue=!1),ie=(ue?P==="("?P:w:P==="-"||P==="("?"":P)+ie,ae=(F==="s"?l[8+k/3]:"")+ae+(ue&&P==="("?")":""),Q){for(K=-1,ee=X.length;++K<ee;)if(48>(re=X.charCodeAt(K))||re>57){ae=(re===46?v+X.slice(K+1):X.slice(K))+ae,X=X.slice(0,K);break}}}R&&!z&&(X=x(X,1/0));var pe=ie.length+X.length+ae.length,de=pe<j?new Array(j-pe+1).join(E):"";switch(R&&z&&(X=x(de+X,de.length?j-ae.length:1/0),de=""),O){case"<":X=ie+X+ae+de;break;case"=":X=ie+de+X+ae;break;case"^":X=de.slice(0,pe=de.length>>1)+ie+X+ae+de.slice(pe);break;default:X=de+ie+X+ae}return y(X)}return N=N===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N)),J.toString=function(){return T+""},J}return{format:S,formatPrefix:function(T,E){var O,P=S(((T=_(T)).type="f",T)),I=3*Math.max(-8,Math.min(8,Math.floor((O=E,((O=M(Math.abs(O)))?O[1]:NaN)/3)))),z=Math.pow(10,-I),j=l[8+I/3];return function(R){return P(z*R)+j}}}}i=s({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),n=i.format,i.formatPrefix},65704:function(q,C,e){e.r(C),e.d(C,{geoAiry:function(){return R},geoAiryRaw:function(){return j},geoAitoff:function(){return Z},geoAitoffRaw:function(){return N},geoArmadillo:function(){return U},geoArmadilloRaw:function(){return F},geoAugust:function(){return te},geoAugustRaw:function(){return V},geoBaker:function(){return K},geoBakerRaw:function(){return X},geoBerghaus:function(){return ie},geoBerghausRaw:function(){return re},geoBertin1953:function(){return Ee},geoBertin1953Raw:function(){return me},geoBoggs:function(){return Ae},geoBoggsRaw:function(){return _e},geoBonne:function(){return ke},geoBonneRaw:function(){return xe},geoBottomley:function(){return Fe},geoBottomleyRaw:function(){return Ie},geoBromley:function(){return qe},geoBromleyRaw:function(){return ze},geoChamberlin:function(){return st},geoChamberlinAfrica:function(){return it},geoChamberlinRaw:function(){return Mt},geoCollignon:function(){return zt},geoCollignonRaw:function(){return St},geoCraig:function(){return Pt},geoCraigRaw:function(){return Ft},geoCraster:function(){return Ue},geoCrasterRaw:function(){return Je},geoCylindricalEqualArea:function(){return lt},geoCylindricalEqualAreaRaw:function(){return Xe},geoCylindricalStereographic:function(){return Be},geoCylindricalStereographicRaw:function(){return ot},geoEckert1:function(){return at},geoEckert1Raw:function(){return Ne},geoEckert2:function(){return gt},geoEckert2Raw:function(){return $e},geoEckert3:function(){return xt},geoEckert3Raw:function(){return yt},geoEckert4:function(){return Lt},geoEckert4Raw:function(){return dt},geoEckert5:function(){return bt},geoEckert5Raw:function(){return Tt},geoEckert6:function(){return Dt},geoEckert6Raw:function(){return Ct},geoEisenlohr:function(){return an},geoEisenlohrRaw:function(){return Xt},geoFahey:function(){return on},geoFaheyRaw:function(){return Vt},geoFoucaut:function(){return Ln},geoFoucautRaw:function(){return Sn},geoFoucautSinusoidal:function(){return Zt},geoFoucautSinusoidalRaw:function(){return fn},geoGilbert:function(){return An},geoGingery:function(){return zn},geoGingeryRaw:function(){return wn},geoGinzburg4:function(){return fr},geoGinzburg4Raw:function(){return ar},geoGinzburg5:function(){return Xn},geoGinzburg5Raw:function(){return rr},geoGinzburg6:function(){return Gt},geoGinzburg6Raw:function(){return gr},geoGinzburg8:function(){return dn},geoGinzburg8Raw:function(){return tn},geoGinzburg9:function(){return On},geoGinzburg9Raw:function(){return vn},geoGringorten:function(){return Un},geoGringortenQuincuncial:function(){return Oa},geoGringortenRaw:function(){return Bn},geoGuyou:function(){return Rt},geoGuyouRaw:function(){return bn},geoHammer:function(){return de},geoHammerRaw:function(){return ue},geoHammerRetroazimuthal:function(){return Tn},geoHammerRetroazimuthalRaw:function(){return rn},geoHealpix:function(){return Wn},geoHealpixRaw:function(){return hn},geoHill:function(){return er},geoHillRaw:function(){return Yn},geoHomolosine:function(){return vr},geoHomolosineRaw:function(){return mr},geoHufnagel:function(){return or},geoHufnagelRaw:function(){return Lr},geoHyperelliptical:function(){return _i},geoHyperellipticalRaw:function(){return Gr},geoInterrupt:function(){return vi},geoInterruptedBoggs:function(){return La},geoInterruptedHomolosine:function(){return gs},geoInterruptedMollweide:function(){return rl},geoInterruptedMollweideHemispheres:function(){return Sl},geoInterruptedQuarticAuthalic:function(){return Du},geoInterruptedSinuMollweide:function(){return El},geoInterruptedSinusoidal:function(){return Cl},geoKavrayskiy7:function(){return Xo},geoKavrayskiy7Raw:function(){return Ro},geoLagrange:function(){return Ci},geoLagrangeRaw:function(){return vs},geoLarrivee:function(){return To},geoLarriveeRaw:function(){return zo},geoLaskowski:function(){return Jo},geoLaskowskiRaw:function(){return co},geoLittrow:function(){return Ko},geoLittrowRaw:function(){return ko},geoLoximuthal:function(){return $o},geoLoximuthalRaw:function(){return Fo},geoMiller:function(){return Zl},geoMillerRaw:function(){return Mo},geoModifiedStereographic:function(){return bs},geoModifiedStereographicAlaska:function(){return Ou},geoModifiedStereographicGs48:function(){return Pu},geoModifiedStereographicGs50:function(){return xs},geoModifiedStereographicLee:function(){return Fs},geoModifiedStereographicMiller:function(){return Ao},geoModifiedStereographicRaw:function(){return Ol},geoMollweide:function(){return se},geoMollweideRaw:function(){return oe},geoMtFlatPolarParabolic:function(){return Xl},geoMtFlatPolarParabolicRaw:function(){return fo},geoMtFlatPolarQuartic:function(){return Bo},geoMtFlatPolarQuarticRaw:function(){return Qo},geoMtFlatPolarSinusoidal:function(){return es},geoMtFlatPolarSinusoidalRaw:function(){return No},geoNaturalEarth:function(){return Qr.Z},geoNaturalEarth2:function(){return Iu},geoNaturalEarth2Raw:function(){return Bs},geoNaturalEarthRaw:function(){return Qr.K},geoNellHammer:function(){return Ns},geoNellHammerRaw:function(){return Pl},geoNicolosi:function(){return Ru},geoNicolosiRaw:function(){return Il},geoPatterson:function(){return yu},geoPattersonRaw:function(){return Rl},geoPeirceQuincuncial:function(){return Ss},geoPierceQuincuncial:function(){return Ss},geoPolyconic:function(){return Ts},geoPolyconicRaw:function(){return Us},geoPolyhedral:function(){return pi},geoPolyhedralButterfly:function(){return Hs},geoPolyhedralCollignon:function(){return ul},geoPolyhedralWaterman:function(){return cl},geoProject:function(){return fl},geoQuantize:function(){return Uo},geoQuincuncial:function(){return as},geoRectangularPolyconic:function(){return ro},geoRectangularPolyconicRaw:function(){return no},geoRobinson:function(){return Sr},geoRobinsonRaw:function(){return vo},geoSatellite:function(){return Jl},geoSatelliteRaw:function(){return hl},geoSinuMollweide:function(){return ur},geoSinuMollweideRaw:function(){return cr},geoSinusoidal:function(){return fe},geoSinusoidalRaw:function(){return Re},geoStitch:function(){return ha},geoTimes:function(){return Lo},geoTimesRaw:function(){return Pa},geoTwoPointAzimuthal:function(){return Da},geoTwoPointAzimuthalRaw:function(){return qs},geoTwoPointAzimuthalUsa:function(){return Ys},geoTwoPointEquidistant:function(){return Ls},geoTwoPointEquidistantRaw:function(){return ti},geoTwoPointEquidistantUsa:function(){return Co},geoVanDerGrinten:function(){return Ws},geoVanDerGrinten2:function(){return xo},geoVanDerGrinten2Raw:function(){return Zs},geoVanDerGrinten3:function(){return Cs},geoVanDerGrinten3Raw:function(){return Mi},geoVanDerGrinten4:function(){return jr},geoVanDerGrinten4Raw:function(){return Cr},geoVanDerGrintenRaw:function(){return yo},geoWagner:function(){return Oo},geoWagner4:function(){return xu},geoWagner4Raw:function(){return di},geoWagner6:function(){return mi},geoWagner6Raw:function(){return Ja},geoWagner7:function(){return Go},geoWagnerRaw:function(){return Xa},geoWiechel:function(){return Ua},geoWiechelRaw:function(){return Oi},geoWinkel3:function(){return Kl},geoWinkel3Raw:function(){return cs}});var M=e(15002),k=Math.abs,a=Math.atan,_=Math.atan2,b=Math.cos,h=Math.exp,o=Math.floor,t=Math.log,i=Math.max,n=Math.min,r=Math.pow,l=Math.round,s=Math.sign||function(Ke){return Ke>0?1:Ke<0?-1:0},u=Math.sin,p=Math.tan,c=1e-6,x=1e-12,g=Math.PI,d=g/2,v=g/4,y=Math.SQRT1_2,m=P(2),w=P(g),f=2*g,S=180/g,T=g/180;function E(Ke){return Ke>1?d:Ke<-1?-d:Math.asin(Ke)}function O(Ke){return Ke>1?0:Ke<-1?g:Math.acos(Ke)}function P(Ke){return Ke>0?Math.sqrt(Ke):0}function I(Ke){return(h(Ke)-h(-Ke))/2}function z(Ke){return(h(Ke)+h(-Ke))/2}function j(Ke){var nt=p(Ke/2),ut=2*t(b(Ke/2))/(nt*nt);function B(Y,G){var L=b(Y),H=b(G),$=u(G),ne=H*L,ce=-((1-ne?t((1+ne)/2)/(1-ne):-.5)+ut/(1+ne));return[ce*H*u(Y),ce*$]}return B.invert=function(Y,G){var L,H=P(Y*Y+G*G),$=-Ke/2,ne=50;if(!H)return[0,0];do{var ce=$/2,ve=b(ce),Oe=u(ce),De=Oe/ve,He=-t(k(ve));$-=L=(2/De*He-ut*De-H)/(-He/(Oe*Oe)+1-ut/(2*ve*ve))*(ve<0?.7:1)}while(k(L)>c&&--ne>0);var We=u($);return[_(Y*We,H*b($)),E(G*We/H)]},B}function R(){var Ke=d,nt=(0,M.r)(j),ut=nt(Ke);return ut.radius=function(B){return arguments.length?nt(Ke=B*T):Ke*S},ut.scale(179.976).clipAngle(147)}function N(Ke,nt){var ut=b(nt),B=function(Y){return Y?Y/Math.sin(Y):1}(O(ut*b(Ke/=2)));return[2*ut*u(Ke)*B,u(nt)*B]}function Z(){return(0,M.Z)(N).scale(152.63)}function F(Ke){var nt=u(Ke),ut=b(Ke),B=Ke>=0?1:-1,Y=p(B*Ke),G=(1+nt-ut)/2;function L(H,$){var ne=b($),ce=b(H/=2);return[(1+ne)*u(H),(B*$>-_(ce,Y)-.001?0:10*-B)+G+u($)*ut-(1+ne)*nt*ce]}return L.invert=function(H,$){var ne=0,ce=0,ve=50;do{var Oe=b(ne),De=u(ne),He=b(ce),We=u(ce),rt=1+He,pt=rt*De-H,vt=G+We*ut-rt*nt*Oe-$,kt=rt*Oe/2,Ot=-De*We,Et=nt*rt*De/2,jt=ut*He+nt*Oe*We,It=Ot*Et-jt*kt,Jt=(vt*Ot-pt*jt)/It/2,Yt=(pt*Et-vt*kt)/It;k(Yt)>2&&(Yt/=2),ne-=Jt,ce-=Yt}while((k(Jt)>c||k(Yt)>c)&&--ve>0);return B*ce>-_(b(ne),Y)-.001?[2*ne,ce]:null},L}function U(){var Ke=20*T,nt=Ke>=0?1:-1,ut=p(nt*Ke),B=(0,M.r)(F),Y=B(Ke),G=Y.stream;return Y.parallel=function(L){return arguments.length?(ut=p((nt=(Ke=L*T)>=0?1:-1)*Ke),B(Ke)):Ke*S},Y.stream=function(L){var H=Y.rotate(),$=G(L),ne=(Y.rotate([0,0]),G(L)),ce=Y.precision();return Y.rotate(H),$.sphere=function(){ne.polygonStart(),ne.lineStart();for(var ve=-180*nt;nt*ve<180;ve+=90*nt)ne.point(ve,90*nt);if(Ke)for(;nt*(ve-=3*nt*ce)>=-180;)ne.point(ve,nt*-_(b(ve*T/2),ut)*S);ne.lineEnd(),ne.polygonEnd()},$},Y.scale(218.695).center([0,28.0974])}function V(Ke,nt){var ut=p(nt/2),B=P(1-ut*ut),Y=1+B*b(Ke/=2),G=u(Ke)*B/Y,L=ut/Y,H=G*G,$=L*L;return[1.3333333333333333*G*(3+H-3*$),1.3333333333333333*L*(3+3*H-$)]}function te(){return(0,M.Z)(V).scale(66.1603)}N.invert=function(Ke,nt){if(!(Ke*Ke+4*nt*nt>g*g+c)){var ut=Ke,B=nt,Y=25;do{var G,L=u(ut),H=u(ut/2),$=b(ut/2),ne=u(B),ce=b(B),ve=u(2*B),Oe=ne*ne,De=ce*ce,He=H*H,We=1-De*$*$,rt=We?O(ce*$)*P(G=1/We):G=0,pt=2*rt*ce*H-Ke,vt=rt*ne-nt,kt=G*(De*He+rt*ce*$*Oe),Ot=G*(.5*L*ve-2*rt*ne*H),Et=.25*G*(ve*H-rt*ne*De*L),jt=G*(Oe*$+rt*He*ce),It=Ot*Et-jt*kt;if(!It)break;var Jt=(vt*Ot-pt*jt)/It,Yt=(pt*Et-vt*kt)/It;ut-=Jt,B-=Yt}while((k(Jt)>c||k(Yt)>c)&&--Y>0);return[ut,B]}},V.invert=function(Ke,nt){if(nt*=.375,!(Ke*=.375)&&k(nt)>1)return null;var ut=1+Ke*Ke+nt*nt,B=P((ut-P(ut*ut-4*nt*nt))/2),Y=E(B)/3,G=B?function(ne){return t(ne+P(ne*ne-1))}(k(nt/B))/3:function(ne){return t(ne+P(ne*ne+1))}(k(Ke))/3,L=b(Y),H=z(G),$=H*H-L*L;return[2*s(Ke)*_(I(G)*L,.25-$),2*s(nt)*_(H*u(Y),.25+$)]};var Q=P(8),J=t(1+m);function X(Ke,nt){var ut=k(nt);return ut<v?[Ke,t(p(v+nt/2))]:[Ke*b(ut)*(2*m-1/u(ut)),s(nt)*(2*m*(ut-v)-t(p(ut/2)))]}function K(){return(0,M.Z)(X).scale(112.314)}X.invert=function(Ke,nt){if((B=k(nt))<J)return[Ke,2*a(h(nt))-d];var ut,B,Y=v,G=25;do{var L=b(Y/2),H=p(Y/2);Y-=ut=(Q*(Y-v)-t(H)-B)/(Q-L*L/(2*H))}while(k(ut)>x&&--G>0);return[Ke/(b(Y)*(Q-1/u(Y))),s(nt)*Y]};var ee=e(17889);function re(Ke){var nt=2*g/Ke;function ut(B,Y){var G=(0,ee.N)(B,Y);if(k(B)>d){var L=_(G[1],G[0]),H=P(G[0]*G[0]+G[1]*G[1]),$=nt*l((L-d)/nt)+d,ne=_(u(L-=$),2-b(L));L=$+E(g/H*u(ne))-ne,G[0]=H*b(L),G[1]=H*u(L)}return G}return ut.invert=function(B,Y){var G=P(B*B+Y*Y);if(G>d){var L=_(Y,B),H=nt*l((L-d)/nt)+d,$=L>H?-1:1,ne=G*b(H-L),ce=1/p($*O((ne-g)/P(g*(g-2*ne)+G*G)));L=H+2*a((ce+$*P(ce*ce-3))/3),B=G*b(L),Y=G*u(L)}return ee.N.invert(B,Y)},ut}function ie(){var Ke=5,nt=(0,M.r)(re),ut=nt(Ke),B=ut.stream,Y=.01,G=-b(Y*T),L=u(Y*T);return ut.lobes=function(H){return arguments.length?nt(Ke=+H):Ke},ut.stream=function(H){var $=ut.rotate(),ne=B(H),ce=(ut.rotate([0,0]),B(H));return ut.rotate($),ne.sphere=function(){ce.polygonStart(),ce.lineStart();for(var ve=0,Oe=360/Ke,De=2*g/Ke,He=90-180/Ke,We=d;ve<Ke;++ve,He-=Oe,We-=De)ce.point(_(L*b(We),G)*S,E(L*u(We))*S),He<-90?(ce.point(-90,-180-He-Y),ce.point(-90,-180-He+Y)):(ce.point(90,He+Y),ce.point(90,He-Y));ce.lineEnd(),ce.polygonEnd()},ne},ut.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var ae=e(12956);function ue(Ke,nt){if(arguments.length<2&&(nt=Ke),nt===1)return ae.l;if(nt===1/0)return pe;function ut(B,Y){var G=(0,ae.l)(B/nt,Y);return G[0]*=Ke,G}return ut.invert=function(B,Y){var G=ae.l.invert(B/Ke,Y);return G[0]*=nt,G},ut}function pe(Ke,nt){return[Ke*b(nt)/b(nt/=2),2*u(nt)]}function de(){var Ke=2,nt=(0,M.r)(ue),ut=nt(Ke);return ut.coefficient=function(B){return arguments.length?nt(Ke=+B):Ke},ut.scale(169.529)}function ye(Ke,nt,ut){var B,Y,G,L=100;ut=ut===void 0?0:+ut,nt=+nt;do(Y=Ke(ut))===(G=Ke(ut+c))&&(G=Y+c),ut-=B=-1*c*(Y-nt)/(Y-G);while(L-- >0&&k(B)>c);return L<0?NaN:ut}function be(Ke,nt,ut){return nt===void 0&&(nt=40),ut===void 0&&(ut=x),function(B,Y,G,L){var H,$,ne;G=G===void 0?0:+G,L=L===void 0?0:+L;for(var ce=0;ce<nt;ce++){var ve=Ke(G,L),Oe=ve[0]-B,De=ve[1]-Y;if(k(Oe)<ut&&k(De)<ut)break;var He=Oe*Oe+De*De;if(He>H)G-=$/=2,L-=ne/=2;else{H=He;var We=(G>0?-1:1)*ut,rt=(L>0?-1:1)*ut,pt=Ke(G+We,L),vt=Ke(G,L+rt),kt=(pt[0]-ve[0])/We,Ot=(pt[1]-ve[1])/We,Et=(vt[0]-ve[0])/rt,jt=(vt[1]-ve[1])/rt,It=jt*kt-Ot*Et,Jt=(k(It)<.5?.5:1)/It;if(G+=$=(De*Et-Oe*jt)*Jt,L+=ne=(Oe*Ot-De*kt)*Jt,k($)<ut&&k(ne)<ut)break}}return[G,L]}}function me(){var Ke=ue(1.68,2);function nt(ut,B){if(ut+B<-1.4){var Y=(ut-B+1.6)*(ut+B+1.4)/8;ut+=Y,B-=.8*Y*u(B+g/2)}var G=Ke(ut,B),L=(1-b(ut*B))/12;return G[1]<0&&(G[0]*=1+L),G[1]>0&&(G[1]*=1+L/1.5*G[0]*G[0]),G}return nt.invert=be(nt),nt}function Ee(){return(0,M.Z)(me()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Te(Ke,nt){var ut,B=Ke*u(nt),Y=30;do nt-=ut=(nt+u(nt)-B)/(1+b(nt));while(k(ut)>c&&--Y>0);return nt/2}function we(Ke,nt,ut){function B(Y,G){return[Ke*Y*b(G=Te(ut,G)),nt*u(G)]}return B.invert=function(Y,G){return G=E(G/nt),[Y/(Ke*b(G)),E((2*G+u(2*G))/ut)]},B}pe.invert=function(Ke,nt){var ut=2*E(nt/2);return[Ke*b(ut/2)/b(ut),ut]};var oe=we(m/d,m,g);function se(){return(0,M.Z)(oe).scale(169.529)}var he=2.00276,Se=1.11072;function _e(Ke,nt){var ut=Te(g,nt);return[he*Ke/(1/b(nt)+Se/b(ut)),(nt+m*u(ut))/he]}function Ae(){return(0,M.Z)(_e).scale(160.857)}function Ce(Ke){var nt=0,ut=(0,M.r)(Ke),B=ut(nt);return B.parallel=function(Y){return arguments.length?ut(nt=Y*T):nt*S},B}function Re(Ke,nt){return[Ke*b(nt),nt]}function fe(){return(0,M.Z)(Re).scale(152.63)}function xe(Ke){if(!Ke)return Re;var nt=1/p(Ke);function ut(B,Y){var G=nt+Ke-Y,L=G&&B*b(Y)/G;return[G*u(L),nt-G*b(L)]}return ut.invert=function(B,Y){var G=P(B*B+(Y=nt-Y)*Y),L=nt+Ke-G;return[G/b(L)*_(B,Y),L]},ut}function ke(){return Ce(xe).scale(123.082).center([0,26.1441]).parallel(45)}function Ie(Ke){function nt(ut,B){var Y=d-B,G=Y&&ut*Ke*u(Y)/Y;return[Y*u(G)/Ke,d-Y*b(G)]}return nt.invert=function(ut,B){var Y=ut*Ke,G=d-B,L=P(Y*Y+G*G),H=_(Y,G);return[(L?L/u(L):1)*H/Ke,d-L]},nt}function Fe(){var Ke=.5,nt=(0,M.r)(Ie),ut=nt(Ke);return ut.fraction=function(B){return arguments.length?nt(Ke=+B):Ke},ut.scale(158.837)}_e.invert=function(Ke,nt){var ut,B,Y=he*nt,G=nt<0?-v:v,L=25;do B=Y-m*u(G),G-=ut=(u(2*G)+2*G-g*u(B))/(2*b(2*G)+2+g*b(B)*m*b(G));while(k(ut)>c&&--L>0);return B=Y-m*u(G),[Ke*(1/b(B)+Se/b(G))/he,B]},Re.invert=function(Ke,nt){return[Ke/b(nt),nt]};var ze=we(1,4/g,g);function qe(){return(0,M.Z)(ze).scale(152.63)}var Ye=e(66624),Qe=e(49386);function ft(Ke,nt,ut,B,Y,G){var L,H=b(G);if(k(Ke)>1||k(G)>1)L=O(ut*Y+nt*B*H);else{var $=u(Ke/2),ne=u(G/2);L=2*E(P($*$+nt*B*ne*ne))}return k(L)>c?[L,_(B*u(G),nt*Y-ut*B*H)]:[0,0]}function ht(Ke,nt,ut){return O((Ke*Ke+nt*nt-ut*ut)/(2*Ke*nt))}function mt(Ke){return Ke-2*g*o((Ke+g)/(2*g))}function Mt(Ke,nt,ut){for(var B,Y=[[Ke[0],Ke[1],u(Ke[1]),b(Ke[1])],[nt[0],nt[1],u(nt[1]),b(nt[1])],[ut[0],ut[1],u(ut[1]),b(ut[1])]],G=Y[2],L=0;L<3;++L,G=B)B=Y[L],G.v=ft(B[1]-G[1],G[3],G[2],B[3],B[2],B[0]-G[0]),G.point=[0,0];var H=ht(Y[0].v[0],Y[2].v[0],Y[1].v[0]),$=ht(Y[0].v[0],Y[1].v[0],Y[2].v[0]),ne=g-H;Y[2].point[1]=0,Y[0].point[0]=-(Y[1].point[0]=Y[0].v[0]/2);var ce=[Y[2].point[0]=Y[0].point[0]+Y[2].v[0]*b(H),2*(Y[0].point[1]=Y[1].point[1]=Y[2].v[0]*u(H))];return function(ve,Oe){var De,He=u(Oe),We=b(Oe),rt=new Array(3);for(De=0;De<3;++De){var pt=Y[De];if(rt[De]=ft(Oe-pt[1],pt[3],pt[2],We,He,ve-pt[0]),!rt[De][0])return pt.point;rt[De][1]=mt(rt[De][1]-pt.v[1])}var vt=ce.slice();for(De=0;De<3;++De){var kt=De==2?0:De+1,Ot=ht(Y[De].v[0],rt[De][0],rt[kt][0]);rt[De][1]<0&&(Ot=-Ot),De?De==1?(Ot=$-Ot,vt[0]-=rt[De][0]*b(Ot),vt[1]-=rt[De][0]*u(Ot)):(Ot=ne-Ot,vt[0]+=rt[De][0]*b(Ot),vt[1]+=rt[De][0]*u(Ot)):(vt[0]+=rt[De][0]*b(Ot),vt[1]-=rt[De][0]*u(Ot))}return vt[0]/=3,vt[1]/=3,vt}}function _t(Ke){return Ke[0]*=T,Ke[1]*=T,Ke}function it(){return st([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function st(Ke,nt,ut){var B=(0,Ye.Z)({type:"MultiPoint",coordinates:[Ke,nt,ut]}),Y=[-B[0],-B[1]],G=(0,Qe.Z)(Y),L=Mt(_t(G(Ke)),_t(G(nt)),_t(G(ut)));L.invert=be(L);var H=(0,M.Z)(L).rotate(Y),$=H.center;return delete H.rotate,H.center=function(ne){return arguments.length?$(G(ne)):G.invert($())},H.clipAngle(90)}function St(Ke,nt){var ut=P(1-u(nt));return[2/w*Ke*ut,w*(1-ut)]}function zt(){return(0,M.Z)(St).scale(95.6464).center([0,30])}function Ft(Ke){var nt=p(Ke);function ut(B,Y){return[B,(B?B/u(B):1)*(u(Y)*b(B)-nt*b(Y))]}return ut.invert=nt?function(B,Y){B&&(Y*=u(B)/B);var G=b(B);return[B,2*_(P(G*G+nt*nt-Y*Y)-G,nt-Y)]}:function(B,Y){return[B,E(B?Y*p(B)/B:Y)]},ut}function Pt(){return Ce(Ft).scale(249.828).clipAngle(90)}St.invert=function(Ke,nt){var ut=(ut=nt/w-1)*ut;return[ut>0?Ke*P(g/ut)/2:0,E(1-ut)]};var Ze=P(3);function Je(Ke,nt){return[Ze*Ke*(2*b(2*nt/3)-1)/w,Ze*w*u(nt/3)]}function Ue(){return(0,M.Z)(Je).scale(156.19)}function Xe(Ke){var nt=b(Ke);function ut(B,Y){return[B*nt,u(Y)/nt]}return ut.invert=function(B,Y){return[B/nt,E(Y*nt)]},ut}function lt(){return Ce(Xe).parallel(38.58).scale(195.044)}function ot(Ke){var nt=b(Ke);function ut(B,Y){return[B*nt,(1+nt)*p(Y/2)]}return ut.invert=function(B,Y){return[B/nt,2*a(Y/(1+nt))]},ut}function Be(){return Ce(ot).scale(124.75)}function Ne(Ke,nt){var ut=P(8/(3*g));return[ut*Ke*(1-k(nt)/g),ut*nt]}function at(){return(0,M.Z)(Ne).scale(165.664)}function $e(Ke,nt){var ut=P(4-3*u(k(nt)));return[2/P(6*g)*Ke*ut,s(nt)*P(2*g/3)*(2-ut)]}function gt(){return(0,M.Z)($e).scale(165.664)}function yt(Ke,nt){var ut=P(g*(4+g));return[2/ut*Ke*(1+P(1-4*nt*nt/(g*g))),4/ut*nt]}function xt(){return(0,M.Z)(yt).scale(180.739)}function dt(Ke,nt){var ut=(2+d)*u(nt);nt/=2;for(var B=0,Y=1/0;B<10&&k(Y)>c;B++){var G=b(nt);nt-=Y=(nt+u(nt)*(G+2)-ut)/(2*G*(1+G))}return[2/P(g*(4+g))*Ke*(1+b(nt)),2*P(g/(4+g))*u(nt)]}function Lt(){return(0,M.Z)(dt).scale(180.739)}function Tt(Ke,nt){return[Ke*(1+b(nt))/P(2+g),2*nt/P(2+g)]}function bt(){return(0,M.Z)(Tt).scale(173.044)}function Ct(Ke,nt){for(var ut=(1+d)*u(nt),B=0,Y=1/0;B<10&&k(Y)>c;B++)nt-=Y=(nt+u(nt)-ut)/(1+b(nt));return ut=P(2+g),[Ke*(1+b(nt))/ut,2*nt/ut]}function Dt(){return(0,M.Z)(Ct).scale(173.044)}Je.invert=function(Ke,nt){var ut=3*E(nt/(Ze*w));return[w*Ke/(Ze*(2*b(2*ut/3)-1)),ut]},Ne.invert=function(Ke,nt){var ut=P(8/(3*g)),B=nt/ut;return[Ke/(ut*(1-k(B)/g)),B]},$e.invert=function(Ke,nt){var ut=2-k(nt)/P(2*g/3);return[Ke*P(6*g)/(2*ut),s(nt)*E((4-ut*ut)/3)]},yt.invert=function(Ke,nt){var ut=P(g*(4+g))/2;return[Ke*ut/(1+P(1-nt*nt*(4+g)/(4*g))),nt*ut/2]},dt.invert=function(Ke,nt){var ut=nt*P((4+g)/g)/2,B=E(ut),Y=b(B);return[Ke/(2/P(g*(4+g))*(1+Y)),E((B+ut*(Y+2))/(2+d))]},Tt.invert=function(Ke,nt){var ut=P(2+g),B=nt*ut/2;return[ut*Ke/(1+b(B)),B]},Ct.invert=function(Ke,nt){var ut=1+d,B=P(ut/2);return[2*Ke*B/(1+b(nt*=B)),E((nt+u(nt))/ut)]};var Bt=3+2*m;function Xt(Ke,nt){var ut=u(Ke/=2),B=b(Ke),Y=P(b(nt)),G=b(nt/=2),L=u(nt)/(G+m*B*Y),H=P(2/(1+L*L)),$=P((m*G+(B+ut)*Y)/(m*G+(B-ut)*Y));return[Bt*(H*($-1/$)-2*t($)),Bt*(H*L*($+1/$)-2*a(L))]}function an(){return(0,M.Z)(Xt).scale(62.5271)}Xt.invert=function(Ke,nt){if(!(ut=V.invert(Ke/1.2,1.065*nt)))return null;var ut,B=ut[0],Y=ut[1],G=20;Ke/=Bt,nt/=Bt;do{var L=B/2,H=Y/2,$=u(L),ne=b(L),ce=u(H),ve=b(H),Oe=b(Y),De=P(Oe),He=ce/(ve+m*ne*De),We=He*He,rt=P(2/(1+We)),pt=(m*ve+(ne+$)*De)/(m*ve+(ne-$)*De),vt=P(pt),kt=vt-1/vt,Ot=vt+1/vt,Et=rt*kt-2*t(vt)-Ke,jt=rt*He*Ot-2*a(He)-nt,It=ce&&y*De*$*We/ce,Jt=(m*ne*ve+De)/(2*(ve+m*ne*De)*(ve+m*ne*De)*De),Yt=-.5*He*rt*rt*rt,Ht=Yt*It,mn=Yt*Jt,yn=(yn=2*ve+m*De*(ne-$))*yn*vt,In=(m*ne*ve*De+Oe)/yn,Rn=-m*$*ce/(De*yn),Gn=kt*Ht-2*In/vt+rt*(In+In/pt),Qn=kt*mn-2*Rn/vt+rt*(Rn+Rn/pt),hr=He*Ot*Ht-2*It/(1+We)+rt*Ot*It+rt*He*(In-In/pt),Zn=He*Ot*mn-2*Jt/(1+We)+rt*Ot*Jt+rt*He*(Rn-Rn/pt),lr=Qn*hr-Zn*Gn;if(!lr)break;var _r=(jt*Qn-Et*Zn)/lr,Or=(Et*hr-jt*Gn)/lr;B-=_r,Y=i(-d,n(d,Y-Or))}while((k(_r)>c||k(Or)>c)&&--G>0);return k(k(Y)-d)<c?[0,Y]:G&&[B,Y]};var Wt=b(35*T);function Vt(Ke,nt){var ut=p(nt/2);return[Ke*Wt*P(1-ut*ut),(1+Wt)*ut]}function on(){return(0,M.Z)(Vt).scale(137.152)}function Sn(Ke,nt){var ut=nt/2,B=b(ut);return[2*Ke/w*b(nt)*B*B,w*p(ut)]}function Ln(){return(0,M.Z)(Sn).scale(135.264)}function fn(Ke){var nt=1-Ke,ut=Y(g,0)[0]-Y(-g,0)[0],B=P(2*(Y(0,d)[1]-Y(0,-d)[1])/ut);function Y(H,$){var ne=b($),ce=u($);return[ne/(nt+Ke*ne)*H,nt*$+Ke*ce]}function G(H,$){var ne=Y(H,$);return[ne[0]*B,ne[1]/B]}function L(H){return G(0,H)[1]}return G.invert=function(H,$){var ne=ye(L,$);return[H/B*(Ke+nt/b(ne)),ne]},G}function Zt(){var Ke=.5,nt=(0,M.r)(fn),ut=nt(Ke);return ut.alpha=function(B){return arguments.length?nt(Ke=+B):Ke},ut.scale(168.725)}Vt.invert=function(Ke,nt){var ut=nt/(1+Wt);return[Ke&&Ke/(Wt*P(1-ut*ut)),2*a(ut)]},Sn.invert=function(Ke,nt){var ut=a(nt/w),B=b(ut),Y=2*ut;return[Ke*w/2/(b(Y)*B*B),Y]};var ln=e(57962),nn=e(97492);function cn(Ke){return[Ke[0]/2,E(p(Ke[1]/2*T))*S]}function kn(Ke){return[2*Ke[0],2*a(u(Ke[1]*T))*S]}function An(Ke){Ke==null&&(Ke=ln.Z);var nt=Ke(),ut=(0,nn.Z)().scale(S).precision(0).clipAngle(null).translate([0,0]);function B(G){return nt(cn(G))}function Y(G){B[G]=function(){return arguments.length?(nt[G].apply(nt,arguments),B):nt[G]()}}return nt.invert&&(B.invert=function(G){return kn(nt.invert(G))}),B.stream=function(G){var L=nt.stream(G),H=ut.stream({point:function($,ne){L.point($/2,E(p(-ne/2*T))*S)},lineStart:function(){L.lineStart()},lineEnd:function(){L.lineEnd()},polygonStart:function(){L.polygonStart()},polygonEnd:function(){L.polygonEnd()}});return H.sphere=L.sphere,H},B.rotate=function(G){return arguments.length?(ut.rotate(G),B):ut.rotate()},B.center=function(G){return arguments.length?(nt.center(cn(G)),B):kn(nt.center())},Y("angle"),Y("clipAngle"),Y("clipExtent"),Y("fitExtent"),Y("fitHeight"),Y("fitSize"),Y("fitWidth"),Y("scale"),Y("translate"),Y("precision"),B.scale(249.5)}function wn(Ke,nt){var ut=2*g/nt,B=Ke*Ke;function Y(G,L){var H=(0,ee.N)(G,L),$=H[0],ne=H[1],ce=$*$+ne*ne;if(ce>B){var ve=P(ce),Oe=_(ne,$),De=ut*l(Oe/ut),He=Oe-De,We=Ke*b(He),rt=(Ke*u(He)-He*u(We))/(d-We),pt=Cn(He,rt),vt=(g-Ke)/_n(pt,We,g);$=ve;var kt,Ot=50;do $-=kt=(Ke+_n(pt,We,$)*vt-ve)/(pt($)*vt);while(k(kt)>c&&--Ot>0);ne=He*u($),$<d&&(ne-=rt*($-d));var Et=u(De),jt=b(De);H[0]=$*jt-ne*Et,H[1]=$*Et+ne*jt}return H}return Y.invert=function(G,L){var H=G*G+L*L;if(H>B){var $=P(H),ne=_(L,G),ce=ut*l(ne/ut),ve=ne-ce;G=$*b(ve),L=$*u(ve);for(var Oe=G-d,De=u(G),He=L/De,We=G<d?1/0:0,rt=10;;){var pt=Ke*u(He),vt=Ke*b(He),kt=u(vt),Ot=d-vt,Et=(pt-He*kt)/Ot,jt=Cn(He,Et);if(k(We)<x||!--rt)break;He-=We=(He*De-Et*Oe-L)/(De-2*Oe*(Ot*(vt+He*pt*b(vt)-kt)-pt*(pt-He*kt))/(Ot*Ot))}G=($=Ke+_n(jt,vt,G)*(g-Ke)/_n(jt,vt,g))*b(ne=ce+He),L=$*u(ne)}return ee.N.invert(G,L)},Y}function Cn(Ke,nt){return function(ut){var B=Ke*b(ut);return ut<d&&(B-=nt),P(1+B*B)}}function _n(Ke,nt,ut){for(var B=(ut-nt)/50,Y=Ke(nt)+Ke(ut),G=1,L=nt;G<50;++G)Y+=2*Ke(L+=B);return .5*Y*B}function zn(){var Ke=6,nt=30*T,ut=b(nt),B=u(nt),Y=(0,M.r)(wn),G=Y(nt,Ke),L=G.stream,H=-b(.01*T),$=u(.01*T);return G.radius=function(ne){return arguments.length?(ut=b(nt=ne*T),B=u(nt),Y(nt,Ke)):nt*S},G.lobes=function(ne){return arguments.length?Y(nt,Ke=+ne):Ke},G.stream=function(ne){var ce=G.rotate(),ve=L(ne),Oe=(G.rotate([0,0]),L(ne));return G.rotate(ce),ve.sphere=function(){Oe.polygonStart(),Oe.lineStart();for(var De=0,He=2*g/Ke,We=0;De<Ke;++De,We-=He)Oe.point(_($*b(We),H)*S,E($*u(We))*S),Oe.point(_(B*b(We-He/2),ut)*S,E(B*u(We-He/2))*S);Oe.lineEnd(),Oe.polygonEnd()},ve},G.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Hn(Ke,nt,ut,B,Y,G,L,H){function $(ne,ce){if(!ce)return[Ke*ne/g,0];var ve=ce*ce,Oe=Ke+ve*(nt+ve*(ut+ve*B)),De=ce*(Y-1+ve*(G-H+ve*L)),He=(Oe*Oe+De*De)/(2*De),We=ne*E(Oe/He)/g;return[He*u(We),ce*(1+ve*H)+He*(1-b(We))]}return arguments.length<8&&(H=0),$.invert=function(ne,ce){var ve,Oe,De=g*ne/Ke,He=ce,We=50;do{var rt=He*He,pt=Ke+rt*(nt+rt*(ut+rt*B)),vt=He*(Y-1+rt*(G-H+rt*L)),kt=pt*pt+vt*vt,Ot=2*vt,Et=kt/Ot,jt=Et*Et,It=E(pt/Et)/g,Jt=De*It,Yt=pt*pt,Ht=(2*nt+rt*(4*ut+6*rt*B))*He,mn=Y+rt*(3*G+5*rt*L),yn=(2*(pt*Ht+vt*(mn-1))*Ot-kt*(2*(mn-1)))/(Ot*Ot),In=b(Jt),Rn=u(Jt),Gn=Et*In,Qn=Et*Rn,hr=De/g*(1/P(1-Yt/jt))*(Ht*Et-pt*yn)/jt,Zn=Qn-ne,lr=He*(1+rt*H)+Et-Gn-ce,_r=yn*Rn+Gn*hr,Or=Gn*It,$n=1+yn-(yn*In-Qn*hr),sr=Qn*It,Mr=_r*sr-$n*Or;if(!Mr)break;De-=ve=(lr*_r-Zn*$n)/Mr,He-=Oe=(Zn*sr-lr*Or)/Mr}while((k(ve)>c||k(Oe)>c)&&--We>0);return[De,He]},$}var ar=Hn(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function fr(){return(0,M.Z)(ar).scale(149.995)}var rr=Hn(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Xn(){return(0,M.Z)(rr).scale(153.93)}var gr=Hn(5/6*g,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Gt(){return(0,M.Z)(gr).scale(130.945)}function tn(Ke,nt){var ut=Ke*Ke,B=nt*nt;return[Ke*(1-.162388*B)*(.87-952426e-9*ut*ut),nt*(1+B/12)]}function dn(){return(0,M.Z)(tn).scale(131.747)}tn.invert=function(Ke,nt){var ut,B=Ke,Y=nt,G=50;do{var L=Y*Y;Y-=ut=(Y*(1+L/12)-nt)/(1+L/4)}while(k(ut)>c&&--G>0);G=50,Ke/=1-.162388*L;do{var H=(H=B*B)*H;B-=ut=(B*(.87-952426e-9*H)-Ke)/(.87-.00476213*H)}while(k(ut)>c&&--G>0);return[B,Y]};var vn=Hn(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function On(){return(0,M.Z)(vn).scale(131.087)}function Vn(Ke){var nt=Ke(d,0)[0]-Ke(-d,0)[0];function ut(B,Y){var G=B>0?-.5:.5,L=Ke(B+G*g,Y);return L[0]-=G*nt,L}return Ke.invert&&(ut.invert=function(B,Y){var G=B>0?-.5:.5,L=Ke.invert(B+G*nt,Y),H=L[0]-G*g;return H<-g?H+=2*g:H>g&&(H-=2*g),L[0]=H,L}),ut}function Bn(Ke,nt){var ut=s(Ke),B=s(nt),Y=b(nt),G=b(Ke)*Y,L=u(Ke)*Y,H=u(B*nt);Ke=k(_(L,H)),nt=E(G),k(Ke-d)>c&&(Ke%=d);var $=function(ne,ce){if(ce===d)return[0,0];var ve,Oe,De=u(ce),He=De*De,We=He*He,rt=1+We,pt=1+3*We,vt=1-We,kt=E(1/P(rt)),Ot=vt+He*rt*kt,Et=(1-De)/Ot,jt=P(Et),It=Et*rt,Jt=P(It),Yt=jt*vt;if(ne===0)return[0,-(Yt+He*Jt)];var Ht,mn=b(ce),yn=1/mn,In=2*De*mn,Rn=(-Ot*mn-(1-De)*((-3*He+kt*pt)*In))/(Ot*Ot),Gn=-yn*In,Qn=-yn*(He*rt*Rn+Et*pt*In),hr=-2*yn*(vt*(.5*Rn/jt)-2*He*jt*In),Zn=4*ne/g;if(ne>.222*g||ce<g/4&&ne>.175*g){if(ve=(Yt+He*P(It*(1+We)-Yt*Yt))/(1+We),ne>g/4)return[ve,ve];var lr=ve,_r=.5*ve;ve=.5*(_r+lr),Oe=50;do{var Or=ve*(hr+Gn*P(It-ve*ve))+Qn*E(ve/Jt)-Zn;if(!Or)break;Or<0?_r=ve:lr=ve,ve=.5*(_r+lr)}while(k(lr-_r)>c&&--Oe>0)}else{ve=c,Oe=25;do{var $n=ve*ve,sr=P(It-$n),Mr=hr+Gn*sr,pr=ve*Mr+Qn*E(ve/Jt)-Zn;ve-=Ht=sr?pr/(Mr+(Qn-Gn*$n)/sr):0}while(k(Ht)>c&&--Oe>0)}return[ve,-Yt-He*P(It-ve*ve)]}(Ke>g/4?d-Ke:Ke,nt);return Ke>g/4&&(H=$[0],$[0]=-$[1],$[1]=-H),$[0]*=ut,$[1]*=-B,$}function Un(){return(0,M.Z)(Vn(Bn)).scale(239.75)}function tr(Ke,nt){var ut,B,Y,G,L,H;if(nt<c)return[(G=u(Ke))-(ut=nt*(Ke-G*(B=b(Ke)))/4)*B,B+ut*G,1-nt*G*G/2,Ke-ut];if(nt>=1-c)return ut=(1-nt)/4,Y=1/(B=z(Ke)),[(G=((H=h(2*(H=Ke)))-1)/(H+1))+ut*((L=B*I(Ke))-Ke)/(B*B),Y-ut*G*Y*(L-Ke),Y+ut*G*Y*(L+Ke),2*a(h(Ke))-d+ut*(L-Ke)/B];var $=[1,0,0,0,0,0,0,0,0],ne=[P(nt),0,0,0,0,0,0,0,0],ce=0;for(B=P(1-nt),L=1;k(ne[ce]/$[ce])>c&&ce<8;)ut=$[ce++],ne[ce]=(ut-B)/2,$[ce]=(ut+B)/2,B=P(ut*B),L*=2;Y=L*$[ce]*Ke;do Y=(E(G=ne[ce]*u(B=Y)/$[ce])+Y)/2;while(--ce);return[u(Y),G=b(Y),G/b(Y-B),Y]}function $t(Ke,nt){if(!nt)return Ke;if(nt===1)return t(p(Ke/2+v));for(var ut=1,B=P(1-nt),Y=P(nt),G=0;k(Y)>c;G++){if(Ke%g){var L=a(B*p(Ke)/ut);L<0&&(L+=g),Ke+=L+~~(Ke/g)*g}else Ke+=Ke;Y=(ut+B)/2,B=P(ut*B),Y=((ut=Y)-B)/2}return Ke/(r(2,G)*ut)}function bn(Ke,nt){var ut=(m-1)/(m+1),B=P(1-ut*ut),Y=$t(d,B*B),G=t(p(g/4+k(nt)/2)),L=h(-1*G)/P(ut),H=function(ne,ce){var ve=ne*ne,Oe=ce+1,De=1-ve-ce*ce;return[.5*((ne>=0?d:-d)-_(De,2*ne)),-.25*t(De*De+4*ve)+.5*t(Oe*Oe+ve)]}(L*b(-1*Ke),L*u(-1*Ke)),$=function(ne,ce,ve){var Oe=k(ne),De=I(k(ce));if(Oe){var He=1/u(Oe),We=1/(p(Oe)*p(Oe)),rt=-(We+ve*(De*De*He*He)-1+ve),pt=(-rt+P(rt*rt-(ve-1)*We*4))/2;return[$t(a(1/P(pt)),ve)*s(ne),$t(a(P((pt/We-1)/ve)),1-ve)*s(ce)]}return[0,$t(a(De),1-ve)*s(ce)]}(H[0],H[1],B*B);return[-$[1],(nt>=0?1:-1)*(.5*Y-$[0])]}function Rt(){return(0,M.Z)(Vn(bn)).scale(151.496)}Bn.invert=function(Ke,nt){k(Ke)>1&&(Ke=2*s(Ke)-Ke),k(nt)>1&&(nt=2*s(nt)-nt);var ut=s(Ke),B=s(nt),Y=-ut*Ke,G=-B*nt,L=G/Y<1,H=function(ve,Oe){for(var De=0,He=1,We=.5,rt=50;;){var pt=We*We,vt=P(We),kt=E(1/P(1+pt)),Ot=1-pt+We*(1+pt)*kt,Et=(1-vt)/Ot,jt=P(Et),It=Et*(1+pt),Jt=jt*(1-pt),Yt=P(It-ve*ve),Ht=Oe+Jt+We*Yt;if(k(He-De)<x||--rt==0||Ht===0)break;Ht>0?De=We:He=We,We=.5*(De+He)}if(!rt)return null;var mn=E(vt),yn=b(mn),In=1/yn,Rn=2*vt*yn,Gn=(-Ot*yn-(-3*We+kt*(1+3*pt))*Rn*(1-vt))/(Ot*Ot);return[g/4*(ve*(-2*In*((1-pt)*(.5*Gn/jt)-2*We*jt*Rn)+-In*Rn*Yt)+-In*(We*(1+pt)*Gn+Et*(1+3*pt)*Rn)*E(ve/P(It))),mn]}(L?G:Y,L?Y:G),$=H[0],ne=H[1],ce=b(ne);return L&&($=-d-$),[ut*(_(u($)*ce,-u(ne))+g),B*E(b($)*ce)]},bn.invert=function(Ke,nt){var ut,B,Y,G,L,H,$=(m-1)/(m+1),ne=P(1-$*$),ce=(B=-Ke,Y=ne*ne,(ut=.5*$t(d,ne*ne)-nt)?(G=tr(ut,Y),B?(H=(L=tr(B,1-Y))[1]*L[1]+Y*G[0]*G[0]*L[0]*L[0],[[G[0]*L[2]/H,G[1]*G[2]*L[0]*L[1]/H],[G[1]*L[1]/H,-G[0]*G[2]*L[0]*L[2]/H],[G[2]*L[1]*L[2]/H,-Y*G[0]*G[1]*L[0]/H]]):[[G[0],0],[G[1],0],[G[2],0]]):[[0,(L=tr(B,1-Y))[0]/L[1]],[1/L[1],0],[L[2]/L[1],0]]),ve=function(Oe,De){var He=De[0]*De[0]+De[1]*De[1];return[(Oe[0]*De[0]+Oe[1]*De[1])/He,(Oe[1]*De[0]-Oe[0]*De[1])/He]}(ce[0],ce[1]);return[_(ve[1],ve[0])/-1,2*a(h(-.5*t($*ve[0]*ve[0]+$*ve[1]*ve[1])))-d]};var Kt=e(7613);function rn(Ke){var nt=u(Ke),ut=b(Ke),B=xn(Ke);function Y(G,L){var H=B(G,L);G=H[0],L=H[1];var $=u(L),ne=b(L),ce=b(G),ve=O(nt*$+ut*ne*ce),Oe=u(ve),De=k(Oe)>c?ve/Oe:1;return[De*ut*u(G),(k(G)>d?De:-De)*(nt*ne-ut*$*ce)]}return B.invert=xn(-Ke),Y.invert=function(G,L){var H=P(G*G+L*L),$=-u(H),ne=b(H),ce=H*ne,ve=-L*$,Oe=H*nt,De=P(ce*ce+ve*ve-Oe*Oe),He=_(ce*Oe+ve*De,ve*Oe-ce*De),We=(H>d?-1:1)*_(G*$,H*b(He)*ne+L*u(He)*$);return B.invert(We,He)},Y}function xn(Ke){var nt=u(Ke),ut=b(Ke);return function(B,Y){var G=b(Y),L=b(B)*G,H=u(B)*G,$=u(Y);return[_(H,L*ut-$*nt),E($*ut+L*nt)]}}function Tn(){var Ke=0,nt=(0,M.r)(rn),ut=nt(Ke),B=ut.rotate,Y=ut.stream,G=(0,Kt.Z)();return ut.parallel=function(L){if(!arguments.length)return Ke*S;var H=ut.rotate();return nt(Ke=L*T).rotate(H)},ut.rotate=function(L){return arguments.length?(B.call(ut,[L[0],L[1]-Ke*S]),G.center([-L[0],-L[1]]),ut):((L=B.call(ut))[1]+=Ke*S,L)},ut.stream=function(L){return(L=Y(L)).sphere=function(){L.polygonStart();var H,$=G.radius(89.99)().coordinates[0],ne=$.length-1,ce=-1;for(L.lineStart();++ce<ne;)L.point((H=$[ce])[0],H[1]);for(L.lineEnd(),ne=($=G.radius(90.01)().coordinates[0]).length-1,L.lineStart();--ce>=0;)L.point((H=$[ce])[0],H[1]);L.lineEnd(),L.polygonEnd()},L},ut.scale(79.4187).parallel(45).clipAngle(179.999)}var Pn=e(33064),pn=e(72736),Qt=E(1-1/3)*S,en=Xe(0);function hn(Ke){var nt=Qt*T,ut=St(g,nt)[0]-St(-g,nt)[0],B=en(0,nt)[1],Y=St(0,nt)[1],G=w-Y,L=f/Ke,H=4/f,$=B+G*G*4/f;function ne(ce,ve){var Oe,De=k(ve);if(De>nt){var He=n(Ke-1,i(0,o((ce+g)/L)));(Oe=St(ce+=g*(Ke-1)/Ke-He*L,De))[0]=Oe[0]*f/ut-f*(Ke-1)/(2*Ke)+He*f/Ke,Oe[1]=B+4*(Oe[1]-Y)*G/f,ve<0&&(Oe[1]=-Oe[1])}else Oe=en(ce,ve);return Oe[0]*=H,Oe[1]/=$,Oe}return ne.invert=function(ce,ve){ce/=H;var Oe=k(ve*=$);if(Oe>B){var De=n(Ke-1,i(0,o((ce+g)/L)));ce=(ce+g*(Ke-1)/Ke-De*L)*ut/f;var He=St.invert(ce,.25*(Oe-B)*f/G+Y);return He[0]-=g*(Ke-1)/Ke-De*L,ve<0&&(He[1]=-He[1]),He}return en.invert(ce,ve)},ne}function gn(Ke,nt){return[Ke,1&nt?90-c:Qt]}function Dn(Ke,nt){return[Ke,1&nt?-90+c:-Qt]}function Fn(Ke){return[Ke[0]*(1-c),Ke[1]]}function Wn(){var Ke=4,nt=(0,M.r)(hn),ut=nt(Ke),B=ut.stream;return ut.lobes=function(Y){return arguments.length?nt(Ke=+Y):Ke},ut.stream=function(Y){var G=ut.rotate(),L=B(Y),H=(ut.rotate([0,0]),B(Y));return ut.rotate(G),L.sphere=function(){var $,ne;(0,pn.Z)(($=180/Ke,ne=[].concat((0,Pn.w6)(-180,180+$/2,$).map(gn),(0,Pn.w6)(180,-180-$/2,-$).map(Dn)),{type:"Polygon",coordinates:[$===180?ne.map(Fn):ne]}),H)},L},ut.scale(239.75)}function Yn(Ke){var nt,ut=1+Ke,B=E(u(1/ut)),Y=2*P(g/(nt=g+4*B*ut)),G=.5*Y*(ut+P(Ke*(2+Ke))),L=Ke*Ke,H=ut*ut;function $(ne,ce){var ve,Oe,De=1-u(ce);if(De&&De<2){var He,We=d-ce,rt=25;do{var pt=u(We),vt=b(We),kt=B+_(pt,ut-vt),Ot=1+H-2*ut*vt;We-=He=(We-L*B-ut*pt+Ot*kt-.5*De*nt)/(2*ut*pt*kt)}while(k(He)>x&&--rt>0);ve=Y*P(Ot),Oe=ne*kt/g}else ve=Y*(Ke+De),Oe=ne*B/g;return[ve*u(Oe),G-ve*b(Oe)]}return $.invert=function(ne,ce){var ve=ne*ne+(ce-=G)*ce,Oe=(1+H-ve/(Y*Y))/(2*ut),De=O(Oe),He=u(De),We=B+_(He,ut-Oe);return[E(ne/P(ve))*g/We,E(1-2*(De-L*B-ut*He+(1+H-2*ut*Oe)*We)/nt)]},$}function er(){var Ke=1,nt=(0,M.r)(Yn),ut=nt(Ke);return ut.ratio=function(B){return arguments.length?nt(Ke=+B):Ke},ut.scale(167.774).center([0,18.67])}var Kn=.7109889596207567,ir=.0528035274542;function cr(Ke,nt){return nt>-Kn?((Ke=oe(Ke,nt))[1]+=ir,Ke):Re(Ke,nt)}function ur(){return(0,M.Z)(cr).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function mr(Ke,nt){return k(nt)>Kn?((Ke=oe(Ke,nt))[1]-=nt>0?ir:-ir,Ke):Re(Ke,nt)}function vr(){return(0,M.Z)(mr).scale(152.63)}function Lr(Ke,nt,ut,B){var Y=P(4*g/(2*ut+(1+Ke-nt/2)*u(2*ut)+(Ke+nt)/2*u(4*ut)+nt/2*u(6*ut))),G=P(B*u(ut)*P((1+Ke*b(2*ut)+nt*b(4*ut))/(1+Ke+nt))),L=ut*$(1);function H(ve){return P(1+Ke*b(2*ve)+nt*b(4*ve))}function $(ve){var Oe=ve*ut;return(2*Oe+(1+Ke-nt/2)*u(2*Oe)+(Ke+nt)/2*u(4*Oe)+nt/2*u(6*Oe))/ut}function ne(ve){return H(ve)*u(ve)}var ce=function(ve,Oe){var De=ut*ye($,L*u(Oe)/ut,Oe/g);isNaN(De)&&(De=ut*s(Oe));var He=Y*H(De);return[He*G*ve/g*b(De),He/G*u(De)]};return ce.invert=function(ve,Oe){var De=ye(ne,Oe*G/Y);return[ve*g/(b(De)*Y*G*H(De)),E(ut*$(De/ut)/L)]},ut===0&&(Y=P(B/g),(ce=function(ve,Oe){return[ve*Y,u(Oe)/Y]}).invert=function(ve,Oe){return[ve/Y,E(Oe*Y)]}),ce}function or(){var Ke=1,nt=0,ut=45*T,B=2,Y=(0,M.r)(Lr),G=Y(Ke,nt,ut,B);return G.a=function(L){return arguments.length?Y(Ke=+L,nt,ut,B):Ke},G.b=function(L){return arguments.length?Y(Ke,nt=+L,ut,B):nt},G.psiMax=function(L){return arguments.length?Y(Ke,nt,ut=+L*T,B):ut*S},G.ratio=function(L){return arguments.length?Y(Ke,nt,ut,B=+L):B},G.scale(180.739)}function wr(Ke,nt,ut,B,Y,G,L,H,$,ne,ce){if(ce.nanEncountered)return NaN;var ve,Oe,De,He,We,rt,pt,vt,kt,Ot;if(Oe=Ke(nt+.25*(ve=ut-nt)),De=Ke(ut-.25*ve),isNaN(Oe))ce.nanEncountered=!0;else{if(!isNaN(De))return Ot=((rt=(He=ve*(B+4*Oe+Y)/12)+(We=ve*(Y+4*De+G)/12))-L)/15,ne>$?(ce.maxDepthCount++,rt+Ot):Math.abs(Ot)<H?rt+Ot:(vt=wr(Ke,nt,pt=nt+.5*ve,B,Oe,Y,He,.5*H,$,ne+1,ce),isNaN(vt)?(ce.nanEncountered=!0,NaN):(kt=wr(Ke,pt,ut,Y,De,G,We,.5*H,$,ne+1,ce),isNaN(kt)?(ce.nanEncountered=!0,NaN):vt+kt));ce.nanEncountered=!0}}function Ir(Ke,nt,ut,B,Y){B===void 0&&(B=1e-8),Y===void 0&&(Y=20);var G=Ke(nt),L=Ke(.5*(nt+ut)),H=Ke(ut);return wr(Ke,nt,ut,G,L,H,(G+4*L+H)*(ut-nt)/6,B,Y,1,{maxDepthCount:0,nanEncountered:!1})}function Gr(Ke,nt,ut){function B(De){return Ke+(1-Ke)*r(1-r(De,nt),1/nt)}function Y(De){return Ir(B,0,De,1e-4)}for(var G=1/Y(1),L=1e3,H=1.00000001*G,$=[],ne=0;ne<=L;ne++)$.push(Y(ne/L)*H);function ce(De){var He=0,We=L,rt=500;do $[rt]>De?We=rt:He=rt,rt=He+We>>1;while(rt>He);var pt=$[rt+1]-$[rt];return pt&&(pt=(De-$[rt+1])/pt),(rt+1+pt)/L}var ve=2*ce(1)/g*G/ut,Oe=function(De,He){var We=ce(k(u(He))),rt=B(We)*De;return We/=ve,[rt,He>=0?We:-We]};return Oe.invert=function(De,He){var We;return k(He*=ve)<1&&(We=s(He)*E(Y(k(He))*G)),[De/B(k(He)),We]},Oe}function _i(){var Ke=0,nt=2.5,ut=1.183136,B=(0,M.r)(Gr),Y=B(Ke,nt,ut);return Y.alpha=function(G){return arguments.length?B(Ke=+G,nt,ut):Ke},Y.k=function(G){return arguments.length?B(Ke,nt=+G,ut):nt},Y.gamma=function(G){return arguments.length?B(Ke,nt,ut=+G):ut},Y.scale(152.63)}function Ti(Ke,nt){return k(Ke[0]-nt[0])<c&&k(Ke[1]-nt[1])<c}function Ki(Ke,nt){for(var ut,B,Y,G=-1,L=Ke.length,H=Ke[0],$=[];++G<L;){B=((ut=Ke[G])[0]-H[0])/nt,Y=(ut[1]-H[1])/nt;for(var ne=0;ne<nt;++ne)$.push([H[0]+ne*B,H[1]+ne*Y]);H=ut}return $.push(ut),$}function vi(Ke,nt,ut){var B,Y;function G($,ne){for(var ce=ne<0?-1:1,ve=nt[+(ne<0)],Oe=0,De=ve.length-1;Oe<De&&$>ve[Oe][2][0];++Oe);var He=Ke($-ve[Oe][1][0],ne);return He[0]+=Ke(ve[Oe][1][0],ce*ne>ce*ve[Oe][0][1]?ve[Oe][0][1]:ne)[0],He}ut?G.invert=ut(G):Ke.invert&&(G.invert=function($,ne){for(var ce=Y[+(ne<0)],ve=nt[+(ne<0)],Oe=0,De=ce.length;Oe<De;++Oe){var He=ce[Oe];if(He[0][0]<=$&&$<He[1][0]&&He[0][1]<=ne&&ne<He[1][1]){var We=Ke.invert($-Ke(ve[Oe][1][0],0)[0],ne);return We[0]+=ve[Oe][1][0],Ti(G(We[0],We[1]),[$,ne])?We:null}}});var L=(0,M.Z)(G),H=L.stream;return L.stream=function($){var ne=L.rotate(),ce=H($),ve=(L.rotate([0,0]),H($));return L.rotate(ne),ce.sphere=function(){(0,pn.Z)(B,ve)},ce},L.lobes=function($){return arguments.length?(B=function(ne){var ce,ve,Oe,De,He,We,rt,pt=[],vt=ne[0].length;for(rt=0;rt<vt;++rt)ve=(ce=ne[0][rt])[0][0],Oe=ce[0][1],De=ce[1][1],He=ce[2][0],We=ce[2][1],pt.push(Ki([[ve+c,Oe+c],[ve+c,De-c],[He-c,De-c],[He-c,We+c]],30));for(rt=ne[1].length-1;rt>=0;--rt)ve=(ce=ne[1][rt])[0][0],Oe=ce[0][1],De=ce[1][1],He=ce[2][0],We=ce[2][1],pt.push(Ki([[He-c,We-c],[He-c,De+c],[ve+c,De+c],[ve+c,Oe-c]],30));return{type:"Polygon",coordinates:[(0,Pn.TS)(pt)]}}($),nt=$.map(function(ne){return ne.map(function(ce){return[[ce[0][0]*T,ce[0][1]*T],[ce[1][0]*T,ce[1][1]*T],[ce[2][0]*T,ce[2][1]*T]]})}),Y=nt.map(function(ne){return ne.map(function(ce){var ve,Oe=Ke(ce[0][0],ce[0][1])[0],De=Ke(ce[2][0],ce[2][1])[0],He=Ke(ce[1][0],ce[0][1])[1],We=Ke(ce[1][0],ce[1][1])[1];return He>We&&(ve=He,He=We,We=ve),[[Oe,He],[De,We]]})}),L):nt.map(function(ne){return ne.map(function(ce){return[[ce[0][0]*S,ce[0][1]*S],[ce[1][0]*S,ce[1][1]*S],[ce[2][0]*S,ce[2][1]*S]]})})},nt!=null&&L.lobes(nt),L}cr.invert=function(Ke,nt){return nt>-Kn?oe.invert(Ke,nt-ir):Re.invert(Ke,nt)},mr.invert=function(Ke,nt){return k(nt)>Kn?oe.invert(Ke,nt+(nt>0?ir:-ir)):Re.invert(Ke,nt)};var Hi=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function La(){return vi(_e,Hi).scale(160.857)}var Ca=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function gs(){return vi(mr,Ca).scale(152.63)}var Cu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function rl(){return vi(oe,Cu).scale(169.529)}var il=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Sl(){return vi(oe,il).scale(169.529).rotate([20,0])}var uo=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function El(){return vi(cr,uo,be).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Ll=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Cl(){return vi(Re,Ll).scale(152.63).rotate([-20,0])}function Ro(Ke,nt){return[3/f*Ke*P(g*g/3-nt*nt),nt]}function Xo(){return(0,M.Z)(Ro).scale(158.837)}function vs(Ke){function nt(ut,B){if(k(k(B)-d)<c)return[0,B<0?-2:2];var Y=u(B),G=r((1+Y)/(1-Y),Ke/2),L=.5*(G+1/G)+b(ut*=Ke);return[2*u(ut)/L,(G-1/G)/L]}return nt.invert=function(ut,B){var Y=k(B);if(k(Y-2)<c)return ut?null:[0,s(B)*d];if(Y>2)return null;var G=(ut/=2)*ut,L=(B/=2)*B,H=2*B/(1+G+L);return H=r((1+H)/(1-H),1/Ke),[_(2*ut,1-G-L)/Ke,E((H-1)/(H+1))]},nt}function Ci(){var Ke=.5,nt=(0,M.r)(vs),ut=nt(Ke);return ut.spacing=function(B){return arguments.length?nt(Ke=+B):Ke},ut.scale(124.75)}Ro.invert=function(Ke,nt){return[f/3*Ke/P(g*g/3-nt*nt),nt]};var ia=g/m;function zo(Ke,nt){return[Ke*(1+P(b(nt)))/2,nt/(b(nt/2)*b(Ke/6))]}function To(){return(0,M.Z)(zo).scale(97.2672)}function co(Ke,nt){var ut=Ke*Ke,B=nt*nt;return[Ke*(.975534+B*(-.0143059*ut-.119161+-.0547009*B)),nt*(1.00384+ut*(.0802894+-.02855*B+199025e-9*ut)+B*(.0998909+-.0491032*B))]}function Jo(){return(0,M.Z)(co).scale(139.98)}function ko(Ke,nt){return[u(Ke)/b(nt),p(nt)*b(Ke)]}function Ko(){return(0,M.Z)(ko).scale(144.049).clipAngle(89.999)}function Fo(Ke){var nt=b(Ke),ut=p(v+Ke/2);function B(Y,G){var L=G-Ke,H=k(L)<c?Y*nt:k(H=v+G/2)<c||k(k(H)-d)<c?0:Y*L/t(p(H)/ut);return[H,L]}return B.invert=function(Y,G){var L,H=G+Ke;return[k(G)<c?Y/nt:k(L=v+H/2)<c||k(k(L)-d)<c?0:Y*t(p(L)/ut)/G,H]},B}function $o(){return Ce(Fo).parallel(40).scale(158.837)}function Mo(Ke,nt){return[Ke,1.25*t(p(v+.4*nt))]}function Zl(){return(0,M.Z)(Mo).scale(108.318)}function Ol(Ke){var nt=Ke.length-1;function ut(B,Y){for(var G,L=b(Y),H=2/(1+L*b(B)),$=H*L*u(B),ne=H*u(Y),ce=nt,ve=Ke[ce],Oe=ve[0],De=ve[1];--ce>=0;)Oe=(ve=Ke[ce])[0]+$*(G=Oe)-ne*De,De=ve[1]+$*De+ne*G;return[Oe=$*(G=Oe)-ne*De,De=$*De+ne*G]}return ut.invert=function(B,Y){var G=20,L=B,H=Y;do{for(var $,ne=nt,ce=Ke[ne],ve=ce[0],Oe=ce[1],De=0,He=0;--ne>=0;)De=ve+L*($=De)-H*He,He=Oe+L*He+H*$,ve=(ce=Ke[ne])[0]+L*($=ve)-H*Oe,Oe=ce[1]+L*Oe+H*$;var We,rt,pt=(De=ve+L*($=De)-H*He)*De+(He=Oe+L*He+H*$)*He;L-=We=((ve=L*($=ve)-H*Oe-B)*De+(Oe=L*Oe+H*$-Y)*He)/pt,H-=rt=(Oe*De-ve*He)/pt}while(k(We)+k(rt)>c*c&&--G>0);if(G){var vt=P(L*L+H*H),kt=2*a(.5*vt),Ot=u(kt);return[_(L*Ot,vt*b(kt)),vt?E(H*Ot/vt):0]}},ut}zo.invert=function(Ke,nt){var ut=k(Ke),B=k(nt),Y=c,G=d;B<ia?G*=B/ia:Y+=6*O(ia/B);for(var L=0;L<25;L++){var H=u(G),$=P(b(G)),ne=u(G/2),ce=b(G/2),ve=u(Y/6),Oe=b(Y/6),De=.5*Y*(1+$)-ut,He=G/(ce*Oe)-B,We=$?-.25*Y*H/$:0,rt=.5*(1+$),pt=(1+.5*G*ne/ce)/(ce*Oe),vt=G/ce*(ve/6)/(Oe*Oe),kt=We*vt-pt*rt,Ot=(De*vt-He*rt)/kt,Et=(He*We-De*pt)/kt;if(G-=Ot,Y-=Et,k(Ot)<c&&k(Et)<c)break}return[Ke<0?-Y:Y,nt<0?-G:G]},co.invert=function(Ke,nt){var ut=s(Ke)*g,B=nt/2,Y=50;do{var G=ut*ut,L=B*B,H=ut*B,$=ut*(.975534+L*(-.0143059*G-.119161+-.0547009*L))-Ke,ne=B*(1.00384+G*(.0802894+-.02855*L+199025e-9*G)+L*(.0998909+-.0491032*L))-nt,ce=.975534-L*(.119161+3*G*.0143059+.0547009*L),ve=-H*(.238322+.2188036*L+.0286118*G),Oe=H*(.1605788+7961e-7*G+-.0571*L),De=1.00384+G*(.0802894+199025e-9*G)+L*(3*(.0998909-.02855*G)-.245516*L),He=ve*Oe-De*ce,We=(ne*ve-$*De)/He,rt=($*Oe-ne*ce)/He;ut-=We,B-=rt}while((k(We)>c||k(rt)>c)&&--Y>0);return Y&&[ut,B]},ko.invert=function(Ke,nt){var ut=Ke*Ke,B=nt*nt+1,Y=ut+B,G=Ke?y*P((Y-P(Y*Y-4*ut))/ut):1/P(B);return[E(Ke*G),s(nt)*O(G)]},Mo.invert=function(Ke,nt){return[Ke,2.5*a(h(.8*nt))-.625*g]};var ms=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],pu=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],du=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],ys=[[.9245,0],[0,0],[.01943,0]],gu=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Ou(){return bs(ms,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Pu(){return bs(pu,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function xs(){return bs(du,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Ao(){return bs(ys,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Fs(){return bs(gu,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function bs(Ke,nt){var ut=(0,M.Z)(Ol(Ke)).rotate(nt).clipAngle(90),B=(0,Qe.Z)(nt),Y=ut.center;return delete ut.rotate,ut.center=function(G){return arguments.length?Y(B(G)):B.invert(Y())},ut}var al=P(6),_s=P(7);function fo(Ke,nt){var ut=E(7*u(nt)/(3*al));return[al*Ke*(2*b(2*ut/3)-1)/_s,9*u(ut/3)/_s]}function Xl(){return(0,M.Z)(fo).scale(164.859)}function Qo(Ke,nt){for(var ut,B=(1+y)*u(nt),Y=nt,G=0;G<25&&(Y-=ut=(u(Y/2)+u(Y)-B)/(.5*b(Y/2)+b(Y)),!(k(ut)<c));G++);return[Ke*(1+2*b(Y)/b(Y/2))/(3*m),2*P(3)*u(Y/2)/P(2+m)]}function Bo(){return(0,M.Z)(Qo).scale(188.209)}function No(Ke,nt){for(var ut,B=P(6/(4+g)),Y=(1+g/4)*u(nt),G=nt/2,L=0;L<25&&(G-=ut=(G/2+u(G)-Y)/(.5+b(G)),!(k(ut)<c));L++);return[B*(.5+b(G))*Ke/1.5,B*G]}function es(){return(0,M.Z)(No).scale(166.518)}fo.invert=function(Ke,nt){var ut=3*E(nt*_s/9);return[Ke*_s/(al*(2*b(2*ut/3)-1)),E(3*u(ut)*al/7)]},Qo.invert=function(Ke,nt){var ut=nt*P(2+m)/(2*P(3)),B=2*E(ut);return[3*m*Ke/(1+2*b(B)/b(B/2)),E((ut+u(B))/(1+y))]},No.invert=function(Ke,nt){var ut=P(6/(4+g)),B=nt/ut;return k(k(B)-d)<c&&(B=B<0?-d:d),[1.5*Ke/(ut*(.5+b(B))),E((B/2+u(B))/(1+g/4))]};var Qr=e(26867);function Bs(Ke,nt){var ut=nt*nt,B=ut*ut,Y=ut*B;return[Ke*(.84719-.13063*ut+Y*Y*(.05494*ut-.04515-.02326*B+.00331*Y)),nt*(1.01183+B*B*(.01926*ut-.02625-.00396*B))]}function Iu(){return(0,M.Z)(Bs).scale(175.295)}function Pl(Ke,nt){return[Ke*(1+b(nt))/2,2*(nt-p(nt/2))]}function Ns(){return(0,M.Z)(Pl).scale(152.63)}Bs.invert=function(Ke,nt){var ut,B,Y,G,L=nt,H=25;do L-=ut=(L*(1.01183+(Y=(B=L*L)*B)*Y*(.01926*B-.02625-.00396*Y))-nt)/(1.01183+Y*Y*(.21186*B-.23625+-.05148*Y));while(k(ut)>x&&--H>0);return[Ke/(.84719-.13063*(B=L*L)+(G=B*(Y=B*B))*G*(.05494*B-.04515-.02326*Y+.00331*G)),L]},Pl.invert=function(Ke,nt){for(var ut=nt/2,B=0,Y=1/0;B<10&&k(Y)>c;++B){var G=b(nt/2);nt-=Y=(nt-p(nt/2)-ut)/(1-.5/(G*G))}return[2*Ke/(1+b(nt)),nt]};var vu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Du(){return vi(ue(1/0),vu).rotate([20,0]).scale(152.63)}function Il(Ke,nt){var ut=u(nt),B=b(nt),Y=s(Ke);if(Ke===0||k(nt)===d)return[0,nt];if(nt===0)return[Ke,0];if(k(Ke)===d)return[Ke*B,d*ut];var G=g/(2*Ke)-2*Ke/g,L=2*nt/g,H=(1-L*L)/(ut-L),$=G*G,ne=H*H,ce=1+$/ne,ve=1+ne/$,Oe=(G*ut/H-G/2)/ce,De=(ne*ut/$+H/2)/ve,He=De*De-(ne*ut*ut/$+H*ut-1)/ve;return[d*(Oe+P(Oe*Oe+B*B/ce)*Y),d*(De+P(He<0?0:He)*s(-nt*G)*Y)]}function Ru(){return(0,M.Z)(Il).scale(127.267)}Il.invert=function(Ke,nt){var ut=(Ke/=d)*Ke,B=ut+(nt/=d)*nt,Y=g*g;return[Ke?(B-1+P((1-B)*(1-B)+4*ut))/(2*Ke)*d:0,ye(function(G){return B*(g*u(G)-2*G)*g+4*G*G*(nt-u(G))+2*g*G-Y*nt},0)]};var ts=1.0148,ws=.23185,jo=-.14499,ho=.02406,js=ts,mu=5*ws,ol=7*jo,Dl=9*ho,Wa=1.790857183;function Rl(Ke,nt){var ut=nt*nt;return[Ke,nt*(ts+ut*ut*(ws+ut*(jo+ho*ut)))]}function yu(){return(0,M.Z)(Rl).scale(139.319)}function Us(Ke,nt){if(k(nt)<c)return[Ke,0];var ut=p(nt),B=Ke*u(nt);return[u(B)/ut,nt+(1-b(B))/ut]}function Ts(){return(0,M.Z)(Us).scale(103.74)}Rl.invert=function(Ke,nt){nt>Wa?nt=Wa:nt<-1.790857183&&(nt=-1.790857183);var ut,B=nt;do{var Y=B*B;B-=ut=(B*(ts+Y*Y*(ws+Y*(jo+ho*Y)))-nt)/(js+Y*Y*(mu+Y*(ol+Dl*Y)))}while(k(ut)>c);return[Ke,B]},Us.invert=function(Ke,nt){if(k(nt)<c)return[Ke,0];var ut,B=Ke*Ke+nt*nt,Y=.5*nt,G=10;do{var L=p(Y),H=1/b(Y),$=B-2*nt*Y+Y*Y;Y-=ut=(L*$+2*(Y-nt))/(2+$*H*H+2*(Y-nt)*L)}while(k(ut)>c&&--G>0);return L=p(Y),[(k(nt)<k(Y+1/L)?E(Ke*L):s(nt)*s(Ke)*(O(k(Ke*L))+d))/u(Y),Y]};var Vs=e(77338),ks=e(83074);function Ms(Ke,nt){return[Ke[0]*nt[0]+Ke[1]*nt[3],Ke[0]*nt[1]+Ke[1]*nt[4],Ke[0]*nt[2]+Ke[1]*nt[5]+Ke[2],Ke[3]*nt[0]+Ke[4]*nt[3],Ke[3]*nt[1]+Ke[4]*nt[4],Ke[3]*nt[2]+Ke[4]*nt[5]+Ke[5]]}function sl(Ke,nt){return[Ke[0]-nt[0],Ke[1]-nt[1]]}function zl(Ke){return P(Ke[0]*Ke[0]+Ke[1]*Ke[1])}function pi(Ke,nt,ut){function B(H,$){var ne,ce=nt(H,$),ve=ce.project([H*S,$*S]);return(ne=ce.transform)?[ne[0]*ve[0]+ne[1]*ve[1]+ne[2],-(ne[3]*ve[0]+ne[4]*ve[1]+ne[5])]:(ve[1]=-ve[1],ve)}function Y(H,$){var ne=H.project.invert,ce=H.transform,ve=$;if(ce&&(ce=function(rt){var pt=1/(rt[0]*rt[4]-rt[1]*rt[3]);return[pt*rt[4],-pt*rt[1],pt*(rt[1]*rt[5]-rt[2]*rt[4]),-pt*rt[3],pt*rt[0],pt*(rt[2]*rt[3]-rt[0]*rt[5])]}(ce),ve=[ce[0]*ve[0]+ce[1]*ve[1]+ce[2],ce[3]*ve[0]+ce[4]*ve[1]+ce[5]]),ne&&H===function(rt){return nt(rt[0]*T,rt[1]*T)}(Oe=ne(ve)))return Oe;for(var Oe,De=H.children,He=0,We=De&&De.length;He<We;++He)if(Oe=Y(De[He],$))return Oe}(function H($,ne){if($.edges=function(Et){for(var jt=Et.length,It=[],Jt=Et[jt-1],Yt=0;Yt<jt;++Yt)It.push([Jt,Jt=Et[Yt]]);return It}($.face),ne.face){var ce=$.shared=function(Et,jt){for(var It,Jt,Yt=Et.length,Ht=null,mn=0;mn<Yt;++mn){It=Et[mn];for(var yn=jt.length;--yn>=0;)if(Jt=jt[yn],It[0]===Jt[0]&&It[1]===Jt[1]){if(Ht)return[Ht,It];Ht=It}}}($.face,ne.face),ve=(We=ce.map(ne.project),rt=ce.map($.project),pt=sl(We[1],We[0]),vt=sl(rt[1],rt[0]),kt=function(Et,jt){return _(Et[0]*jt[1]-Et[1]*jt[0],Et[0]*jt[0]+Et[1]*jt[1])}(pt,vt),Ot=zl(pt)/zl(vt),Ms([1,0,We[0][0],0,1,We[0][1]],Ms([Ot,0,0,0,Ot,0],Ms([b(kt),u(kt),0,-u(kt),b(kt),0],[1,0,-rt[0][0],0,1,-rt[0][1]]))));$.transform=ne.transform?Ms(ne.transform,ve):ve;for(var Oe=ne.edges,De=0,He=Oe.length;De<He;++De)ya(ce[0],Oe[De][1])&&ya(ce[1],Oe[De][0])&&(Oe[De]=$),ya(ce[0],Oe[De][0])&&ya(ce[1],Oe[De][1])&&(Oe[De]=$);for(De=0,He=(Oe=$.edges).length;De<He;++De)ya(ce[0],Oe[De][0])&&ya(ce[1],Oe[De][1])&&(Oe[De]=ne),ya(ce[0],Oe[De][1])&&ya(ce[1],Oe[De][0])&&(Oe[De]=ne)}else $.transform=ne.transform;var We,rt,pt,vt,kt,Ot;return $.children&&$.children.forEach(function(Et){H(Et,$)}),$})(Ke,{transform:null}),po(Ke)&&(B.invert=function(H,$){var ne=Y(Ke,[H,-$]);return ne&&(ne[0]*=T,ne[1]*=T,ne)});var G=(0,M.Z)(B),L=G.stream;return G.stream=function(H){var $=G.rotate(),ne=L(H),ce=(G.rotate([0,0]),L(H));return G.rotate($),ne.sphere=function(){ce.polygonStart(),ce.lineStart(),ns(ce,Ke),ce.lineEnd(),ce.polygonEnd()},ne},G.angle(ut==null?-30:ut*S)}function ns(Ke,nt,ut){var B,Y,G=nt.edges,L=G.length,H={type:"MultiPoint",coordinates:nt.face},$=nt.face.filter(function(We){return k(We[1])!==90}),ne=(0,Vs.Z)({type:"MultiPoint",coordinates:$}),ce=!1,ve=-1,Oe=ne[1][0]-ne[0][0],De=Oe===180||Oe===360?[(ne[0][0]+ne[1][0])/2,(ne[0][1]+ne[1][1])/2]:(0,Ye.Z)(H);if(ut)for(;++ve<L&&G[ve]!==ut;);++ve;for(var He=0;He<L;++He)Y=G[(He+ve)%L],Array.isArray(Y)?(ce||(Ke.point((B=(0,ks.Z)(Y[0],De)(c))[0],B[1]),ce=!0),Ke.point((B=(0,ks.Z)(Y[1],De)(c))[0],B[1])):(ce=!1,Y!==ut&&ns(Ke,Y,nt))}function ya(Ke,nt){return Ke&&nt&&Ke[0]===nt[0]&&Ke[1]===nt[1]}function po(Ke){return Ke.project.invert||Ke.children&&Ke.children.some(po)}var ai=e(98936),fi=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Za=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Ke){return Ke.map(function(nt){return fi[nt]})});function Hs(Ke){Ke=Ke||function(ut){var B=(0,Ye.Z)({type:"MultiPoint",coordinates:ut});return(0,ai.Z)().scale(1).translate([0,0]).rotate([-B[0],-B[1]])};var nt=Za.map(function(ut){return{face:ut,project:Ke(ut)}});return[-1,0,0,1,0,1,4,5].forEach(function(ut,B){var Y=nt[ut];Y&&(Y.children||(Y.children=[])).push(nt[B])}),pi(nt[0],function(ut,B){return nt[ut<-g/2?B<0?6:4:ut<0?B<0?2:0:ut<g/2?B<0?3:1:B<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var ll=2/P(3);function Fl(Ke,nt){var ut=St(Ke,nt);return[ut[0]*ll,ut[1]]}function ul(Ke){Ke=Ke||function(ut){var B=(0,Ye.Z)({type:"MultiPoint",coordinates:ut});return(0,M.Z)(Fl).translate([0,0]).scale(1).rotate(B[1]>0?[-B[0],0]:[180-B[0],180])};var nt=Za.map(function(ut){return{face:ut,project:Ke(ut)}});return[-1,0,0,1,0,1,4,5].forEach(function(ut,B){var Y=nt[ut];Y&&(Y.children||(Y.children=[])).push(nt[B])}),pi(nt[0],function(ut,B){return nt[ut<-g/2?B<0?6:4:ut<0?B<0?2:0:ut<g/2?B<0?3:1:B<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function cl(Ke){Ke=Ke||function(G){var L=G.length===6?(0,Ye.Z)({type:"MultiPoint",coordinates:G}):G[0];return(0,ai.Z)().scale(1).translate([0,0]).rotate([-L[0],-L[1]])};var nt=Za.map(function(G){for(var L,H=G.map(is),$=H.length,ne=H[$-1],ce=[],ve=0;ve<$;++ve)L=H[ve],ce.push(rs([.9486832980505138*ne[0]+.31622776601683794*L[0],.9486832980505138*ne[1]+.31622776601683794*L[1],.9486832980505138*ne[2]+.31622776601683794*L[2]]),rs([.9486832980505138*L[0]+.31622776601683794*ne[0],.9486832980505138*L[1]+.31622776601683794*ne[1],.9486832980505138*L[2]+.31622776601683794*ne[2]])),ne=L;return ce}),ut=[],B=[-1,0,0,1,0,1,4,5];nt.forEach(function(G,L){for(var H,$,ne=Za[L],ce=ne.length,ve=ut[L]=[],Oe=0;Oe<ce;++Oe)nt.push([ne[Oe],G[(2*Oe+2)%(2*ce)],G[(2*Oe+1)%(2*ce)]]),B.push(L),ve.push((H=is(G[(2*Oe+2)%(2*ce)]),$=is(G[(2*Oe+1)%(2*ce)]),[H[1]*$[2]-H[2]*$[1],H[2]*$[0]-H[0]*$[2],H[0]*$[1]-H[1]*$[0]]))});var Y=nt.map(function(G){return{project:Ke(G),face:G}});return B.forEach(function(G,L){var H=Y[G];H&&(H.children||(H.children=[])).push(Y[L])}),pi(Y[0],function(G,L){var H=b(L),$=[H*b(G),H*u(G),u(L)],ne=G<-g/2?L<0?6:4:G<0?L<0?2:0:G<g/2?L<0?3:1:L<0?7:5,ce=ut[ne];return Y[eo(ce[0],$)<0?8+3*ne:eo(ce[1],$)<0?8+3*ne+1:eo(ce[2],$)<0?8+3*ne+2:ne]}).angle(-30).scale(110.625).center([0,45])}function eo(Ke,nt){for(var ut=0,B=Ke.length,Y=0;ut<B;++ut)Y+=Ke[ut]*nt[ut];return Y}function rs(Ke){return[_(Ke[1],Ke[0])*S,E(i(-1,n(1,Ke[2])))*S]}function is(Ke){var nt=Ke[0]*T,ut=Ke[1]*T,B=b(ut);return[B*b(nt),B*u(nt),u(ut)]}function ka(){}function fl(Ke,nt){var ut,B=nt.stream;if(!B)throw new Error("invalid projection");switch(Ke&&Ke.type){case"Feature":ut=aa;break;case"FeatureCollection":ut=to;break;default:ut=ca}return ut(Ke,B)}function to(Ke,nt){return{type:"FeatureCollection",features:Ke.features.map(function(ut){return aa(ut,nt)})}}function aa(Ke,nt){return{type:"Feature",id:Ke.id,properties:Ke.properties,geometry:ca(Ke.geometry,nt)}}function ca(Ke,nt){if(!Ke)return null;if(Ke.type==="GeometryCollection")return function(B,Y){return{type:"GeometryCollection",geometries:B.geometries.map(function(G){return ca(G,Y)})}}(Ke,nt);var ut;switch(Ke.type){case"Point":case"MultiPoint":ut=So;break;case"LineString":case"MultiLineString":ut=As;break;case"Polygon":case"MultiPolygon":case"Sphere":ut=go;break;default:return null}return(0,pn.Z)(Ke,nt(ut)),ut.result()}Fl.invert=function(Ke,nt){return St.invert(Ke/ll,nt)};var wi=[],fa=[],So={point:function(Ke,nt){wi.push([Ke,nt])},result:function(){var Ke=wi.length?wi.length<2?{type:"Point",coordinates:wi[0]}:{type:"MultiPoint",coordinates:wi}:null;return wi=[],Ke}},As={lineStart:ka,point:function(Ke,nt){wi.push([Ke,nt])},lineEnd:function(){wi.length&&(fa.push(wi),wi=[])},result:function(){var Ke=fa.length?fa.length<2?{type:"LineString",coordinates:fa[0]}:{type:"MultiLineString",coordinates:fa}:null;return fa=[],Ke}},go={polygonStart:ka,lineStart:ka,point:function(Ke,nt){wi.push([Ke,nt])},lineEnd:function(){var Ke=wi.length;if(Ke){do wi.push(wi[0].slice());while(++Ke<4);fa.push(wi),wi=[]}},polygonEnd:ka,result:function(){if(!fa.length)return null;var Ke=[],nt=[];return fa.forEach(function(ut){(function(B){if((Y=B.length)<4)return!1;for(var Y,G=0,L=B[Y-1][1]*B[0][0]-B[Y-1][0]*B[0][1];++G<Y;)L+=B[G-1][1]*B[G][0]-B[G-1][0]*B[G][1];return L<=0})(ut)?Ke.push([ut]):nt.push(ut)}),nt.forEach(function(ut){var B=ut[0];Ke.some(function(Y){if(function(G,L){for(var H=L[0],$=L[1],ne=!1,ce=0,ve=G.length,Oe=ve-1;ce<ve;Oe=ce++){var De=G[ce],He=De[0],We=De[1],rt=G[Oe],pt=rt[0],vt=rt[1];We>$^vt>$&&H<(pt-He)*($-We)/(vt-We)+He&&(ne=!ne)}return ne}(Y[0],B))return Y.push(ut),!0})||Ke.push([ut])}),fa=[],Ke.length?Ke.length>1?{type:"MultiPolygon",coordinates:Ke}:{type:"Polygon",coordinates:Ke[0]}:null}};function as(Ke){var nt=Ke(d,0)[0]-Ke(-d,0)[0];function ut(B,Y){var G=k(B)<d,L=Ke(G?B:B>0?B-g:B+g,Y),H=(L[0]-L[1])*y,$=(L[0]+L[1])*y;if(G)return[H,$];var ne=nt*y,ce=H>0^$>0?-1:1;return[ce*H-s($)*ne,ce*$-s(H)*ne]}return Ke.invert&&(ut.invert=function(B,Y){var G=(B+Y)*y,L=(Y-B)*y,H=k(G)<.5*nt&&k(L)<.5*nt;if(!H){var $=nt*y,ne=G>0^L>0?-1:1,ce=-ne*B+(L>0?1:-1)*$,ve=-ne*Y+(G>0?1:-1)*$;G=(-ce-ve)*y,L=(ce-ve)*y}var Oe=Ke.invert(G,L);return H||(Oe[0]+=G>0?g:-g),Oe}),(0,M.Z)(ut).rotate([-90,-90,45]).clipAngle(179.999)}function Oa(){return as(Bn).scale(176.423)}function Ss(){return as(bn).scale(111.48)}function Uo(Ke,nt){if(!(0<=(nt=+nt)&&nt<=20))throw new Error("invalid digits");function ut(ne){var ce=ne.length,ve=2,Oe=new Array(ce);for(Oe[0]=+ne[0].toFixed(nt),Oe[1]=+ne[1].toFixed(nt);ve<ce;)Oe[ve]=ne[ve],++ve;return Oe}function B(ne){return ne.map(ut)}function Y(ne){for(var ce=ut(ne[0]),ve=[ce],Oe=1;Oe<ne.length;Oe++){var De=ut(ne[Oe]);(De.length>2||De[0]!=ce[0]||De[1]!=ce[1])&&(ve.push(De),ce=De)}return ve.length===1&&ne.length>1&&ve.push(ut(ne[ne.length-1])),ve}function G(ne){return ne.map(Y)}function L(ne){if(ne==null)return ne;var ce;switch(ne.type){case"GeometryCollection":ce={type:"GeometryCollection",geometries:ne.geometries.map(L)};break;case"Point":ce={type:"Point",coordinates:ut(ne.coordinates)};break;case"MultiPoint":ce={type:ne.type,coordinates:B(ne.coordinates)};break;case"LineString":ce={type:ne.type,coordinates:Y(ne.coordinates)};break;case"MultiLineString":case"Polygon":ce={type:ne.type,coordinates:G(ne.coordinates)};break;case"MultiPolygon":ce={type:"MultiPolygon",coordinates:ne.coordinates.map(G)};break;default:return ne}return ne.bbox!=null&&(ce.bbox=ne.bbox),ce}function H(ne){var ce={type:"Feature",properties:ne.properties,geometry:L(ne.geometry)};return ne.id!=null&&(ce.id=ne.id),ne.bbox!=null&&(ce.bbox=ne.bbox),ce}if(Ke!=null)switch(Ke.type){case"Feature":return H(Ke);case"FeatureCollection":var $={type:"FeatureCollection",features:Ke.features.map(H)};return Ke.bbox!=null&&($.bbox=Ke.bbox),$;default:return L(Ke)}return Ke}function no(Ke){var nt=u(Ke);function ut(B,Y){var G=nt?p(B*nt/2)/nt:B/2;if(!Y)return[2*G,-Ke];var L=2*a(G*u(Y)),H=1/p(Y);return[u(L)*H,Y+(1-b(L))*H-Ke]}return ut.invert=function(B,Y){if(k(Y+=Ke)<c)return[nt?2*a(nt*B/2)/nt:B,0];var G,L=B*B+Y*Y,H=0,$=10;do{var ne=p(H),ce=1/b(H),ve=L-2*Y*H+H*H;H-=G=(ne*ve+2*(H-Y))/(2+ve*ce*ce+2*(H-Y)*ne)}while(k(G)>c&&--$>0);var Oe=B*(ne=p(H)),De=p(k(Y)<k(H+1/ne)?.5*E(Oe):.5*O(Oe)+g/4)/u(H);return[nt?2*a(nt*De)/nt:2*De,H]},ut}function ro(){return Ce(no).scale(131.215)}var ki=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function vo(Ke,nt){var ut,B=n(18,36*k(nt)/g),Y=o(B),G=B-Y,L=(ut=ki[Y])[0],H=ut[1],$=(ut=ki[++Y])[0],ne=ut[1],ce=(ut=ki[n(19,++Y)])[0],ve=ut[1];return[Ke*($+G*(ce-L)/2+G*G*(ce-2*$+L)/2),(nt>0?d:-d)*(ne+G*(ve-H)/2+G*G*(ve-2*ne+H)/2)]}function Sr(){return(0,M.Z)(vo).scale(152.63)}function hl(Ke,nt){var ut=function(L){function H($,ne){var ce=b(ne),ve=(L-1)/(L-ce*b($));return[ve*ce*u($),ve*u(ne)]}return H.invert=function($,ne){var ce=$*$+ne*ne,ve=P(ce),Oe=(L-P(1-ce*(L+1)/(L-1)))/((L-1)/ve+ve/(L-1));return[_($*Oe,ve*P(1-Oe*Oe)),ve?E(ne*Oe/ve):0]},H}(Ke);if(!nt)return ut;var B=b(nt),Y=u(nt);function G(L,H){var $=ut(L,H),ne=$[1],ce=ne*Y/(Ke-1)+B;return[$[0]*B/ce,ne/ce]}return G.invert=function(L,H){var $=(Ke-1)/(Ke-1-H*Y);return ut.invert($*L,$*H*B)},G}function Jl(){var Ke=2,nt=0,ut=(0,M.r)(hl),B=ut(Ke,nt);return B.distance=function(Y){return arguments.length?ut(Ke=+Y,nt):Ke},B.tilt=function(Y){return arguments.length?ut(Ke,nt=Y*T):nt*S},B.scale(432.147).clipAngle(O(1/Ke)*S-1e-6)}ki.forEach(function(Ke){Ke[1]*=1.0144}),vo.invert=function(Ke,nt){var ut=nt/d,B=90*ut,Y=n(18,k(B/5)),G=i(0,o(Y));do{var L=ki[G][1],H=ki[G+1][1],$=ki[n(19,G+2)][1],ne=$-L,ce=$-2*H+L,ve=2*(k(ut)-H)/ne,Oe=ce/ne,De=ve*(1-Oe*ve*(1-2*Oe*ve));if(De>=0||G===1){B=(nt>=0?5:-5)*(De+Y);var He,We=50;do De=(Y=n(18,k(B)/5))-(G=o(Y)),L=ki[G][1],H=ki[G+1][1],$=ki[n(19,G+2)][1],B-=(He=(nt>=0?d:-d)*(H+De*($-L)/2+De*De*($-2*H+L)/2)-nt)*S;while(k(He)>x&&--We>0);break}}while(--G>=0);var rt=ki[G][0],pt=ki[G+1][0],vt=ki[n(19,G+2)][0];return[Ke/(pt+De*(vt-rt)/2+De*De*(vt-2*pt+rt)/2),B*T]};var os=1e-4,ss=1e4,Es=-180,Gs=Es+os,br=180,pl=br-os,Vo=-90,oa=Vo+os,ls=90,mo=ls-os;function io(Ke){return Ke.length>0}function Ma(Ke){return Ke===Vo||Ke===ls?[0,Ke]:[Es,(nt=Ke,Math.floor(nt*ss)/ss)];var nt}function Eo(Ke){var nt=Ke[0],ut=Ke[1],B=!1;return nt<=Gs?(nt=Es,B=!0):nt>=pl&&(nt=br,B=!0),ut<=oa?(ut=Vo,B=!0):ut>=mo&&(ut=ls,B=!0),B?[nt,ut]:Ke}function ao(Ke){return Ke.map(Eo)}function Ho(Ke,nt,ut){for(var B=0,Y=Ke.length;B<Y;++B){var G=Ke[B].slice();ut.push({index:-1,polygon:nt,ring:G});for(var L=0,H=G.length;L<H;++L){var $=G[L],ne=$[0],ce=$[1];if(ne<=Gs||ne>=pl||ce<=oa||ce>=mo){G[L]=Eo($);for(var ve=L+1;ve<H;++ve){var Oe=G[ve],De=Oe[0],He=Oe[1];if(De>Gs&&De<pl&&He>oa&&He<mo)break}if(ve===L+1)continue;if(L){var We={index:-1,polygon:nt,ring:G.slice(0,L+1)};We.ring[We.ring.length-1]=Ma(ce),ut[ut.length-1]=We}else ut.pop();if(ve>=H)break;ut.push({index:-1,polygon:nt,ring:G=G.slice(ve-1)}),G[0]=Ma(G[0][1]),L=-1,H=G.length}}}}function dl(Ke){var nt,ut,B,Y,G,L,H=Ke.length,$={},ne={};for(nt=0;nt<H;++nt)B=(ut=Ke[nt]).ring[0],G=ut.ring[ut.ring.length-1],B[0]!==G[0]||B[1]!==G[1]?(ut.index=nt,$[B]=ne[G]=ut):(ut.polygon.push(ut.ring),Ke[nt]=null);for(nt=0;nt<H;++nt)if(ut=Ke[nt]){if(B=ut.ring[0],G=ut.ring[ut.ring.length-1],Y=ne[B],L=$[G],delete $[B],delete ne[G],B[0]===G[0]&&B[1]===G[1]){ut.polygon.push(ut.ring);continue}Y?(delete ne[B],delete $[Y.ring[0]],Y.ring.pop(),Ke[Y.index]=null,ut={index:-1,polygon:Y.polygon,ring:Y.ring.concat(ut.ring)},Y===L?ut.polygon.push(ut.ring):(ut.index=H++,Ke.push($[ut.ring[0]]=ne[ut.ring[ut.ring.length-1]]=ut))):L?(delete $[G],delete ne[L.ring[L.ring.length-1]],ut.ring.pop(),ut={index:H++,polygon:L.polygon,ring:ut.ring.concat(L.ring)},Ke[L.index]=null,Ke.push($[ut.ring[0]]=ne[ut.ring[ut.ring.length-1]]=ut)):(ut.ring.push(ut.ring[0]),ut.polygon.push(ut.ring))}}function us(Ke){var nt={type:"Feature",geometry:ri(Ke.geometry)};return Ke.id!=null&&(nt.id=Ke.id),Ke.bbox!=null&&(nt.bbox=Ke.bbox),Ke.properties!=null&&(nt.properties=Ke.properties),nt}function ri(Ke){if(Ke==null)return Ke;var nt,ut,B,Y;switch(Ke.type){case"GeometryCollection":nt={type:"GeometryCollection",geometries:Ke.geometries.map(ri)};break;case"Point":nt={type:"Point",coordinates:Eo(Ke.coordinates)};break;case"MultiPoint":case"LineString":nt={type:Ke.type,coordinates:ao(Ke.coordinates)};break;case"MultiLineString":nt={type:"MultiLineString",coordinates:Ke.coordinates.map(ao)};break;case"Polygon":var G=[];Ho(Ke.coordinates,G,ut=[]),dl(ut),nt={type:"Polygon",coordinates:G};break;case"MultiPolygon":ut=[],B=-1,Y=Ke.coordinates.length;for(var L=new Array(Y);++B<Y;)Ho(Ke.coordinates[B],L[B]=[],ut);dl(ut),nt={type:"MultiPolygon",coordinates:L.filter(io)};break;default:return Ke}return Ke.bbox!=null&&(nt.bbox=Ke.bbox),nt}function ha(Ke){if(Ke==null)return Ke;switch(Ke.type){case"Feature":return us(Ke);case"FeatureCollection":var nt={type:"FeatureCollection",features:Ke.features.map(us)};return Ke.bbox!=null&&(nt.bbox=Ke.bbox),nt;default:return ri(Ke)}}function Pa(Ke,nt){var ut=p(nt/2),B=u(v*ut);return[Ke*(.74482-.34588*B*B),1.70711*ut]}function Lo(){return(0,M.Z)(Pa).scale(146.153)}function Ia(Ke,nt,ut){var B=(0,ks.Z)(nt,ut),Y=B(.5),G=(0,Qe.Z)([-Y[0],-Y[1]])(nt),L=B.distance/2,H=-E(u(G[1]*T)/u(L)),$=[-Y[0],-Y[1],-(G[0]>0?g-H:H)*S],ne=(0,M.Z)(Ke(L)).rotate($),ce=(0,Qe.Z)($),ve=ne.center;return delete ne.rotate,ne.center=function(Oe){return arguments.length?ve(ce(Oe)):ce.invert(ve())},ne.clipAngle(90)}function qs(Ke){var nt=b(Ke);function ut(B,Y){var G=(0,ai.M)(B,Y);return G[0]*=nt,G}return ut.invert=function(B,Y){return ai.M.invert(B/nt,Y)},ut}function Ys(){return Da([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Da(Ke,nt){return Ia(qs,Ke,nt)}function ti(Ke){if(!(Ke*=2))return ee.N;var nt=-Ke/2,ut=-nt,B=Ke*Ke,Y=p(ut),G=.5/u(ut);function L(H,$){var ne=O(b($)*b(H-nt)),ce=O(b($)*b(H-ut));return[((ne*=ne)-(ce*=ce))/(2*Ke),($<0?-1:1)*P(4*B*ce-(B-ne+ce)*(B-ne+ce))/(2*Ke)]}return L.invert=function(H,$){var ne,ce,ve=$*$,Oe=b(P(ve+(ne=H+nt)*ne)),De=b(P(ve+(ne=H+ut)*ne));return[_(ce=Oe-De,ne=(Oe+De)*Y),($<0?-1:1)*O(P(ne*ne+ce*ce)*G)]},L}function Co(){return Ls([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Ls(Ke,nt){return Ia(ti,Ke,nt)}function yo(Ke,nt){if(k(nt)<c)return[Ke,0];var ut=k(nt/d),B=E(ut);if(k(Ke)<c||k(k(nt)-d)<c)return[0,s(nt)*g*p(B/2)];var Y=b(B),G=k(g/Ke-Ke/g)/2,L=G*G,H=Y/(ut+Y-1),$=H*(2/ut-1),ne=$*$,ce=ne+L,ve=H-ne,Oe=L+H;return[s(Ke)*g*(G*ve+P(L*ve*ve-ce*(H*H-ne)))/ce,s(nt)*g*($*Oe-G*P((L+1)*ce-Oe*Oe))/ce]}function Ws(){return(0,M.Z)(yo).scale(79.4183)}function Zs(Ke,nt){if(k(nt)<c)return[Ke,0];var ut=k(nt/d),B=E(ut);if(k(Ke)<c||k(k(nt)-d)<c)return[0,s(nt)*g*p(B/2)];var Y=b(B),G=k(g/Ke-Ke/g)/2,L=G*G,H=Y*(P(1+L)-G*Y)/(1+L*ut*ut);return[s(Ke)*g*H,s(nt)*g*P(1-H*(2*G+H))]}function xo(){return(0,M.Z)(Zs).scale(79.4183)}function Mi(Ke,nt){if(k(nt)<c)return[Ke,0];var ut=nt/d,B=E(ut);if(k(Ke)<c||k(k(nt)-d)<c)return[0,g*p(B/2)];var Y=(g/Ke-Ke/g)/2,G=ut/(1+b(B));return[g*(s(Ke)*P(Y*Y+1-G*G)-Y),g*G]}function Cs(){return(0,M.Z)(Mi).scale(79.4183)}function Cr(Ke,nt){if(!nt)return[Ke,0];var ut=k(nt);if(!Ke||ut===d)return[0,nt];var B=ut/d,Y=B*B,G=(8*B-Y*(Y+2)-5)/(2*Y*(B-1)),L=G*G,H=B*G,$=Y+L+2*H,ne=B+3*G,ce=Ke/d,ve=ce+1/ce,Oe=s(k(Ke)-d)*P(ve*ve-4),De=Oe*Oe,He=(Oe*($+L-1)+2*P($*(Y+L*De-1)+(1-Y)*(Y*(ne*ne+4*L)+12*H*L+4*L*L)))/(4*$+De);return[s(Ke)*d*He,s(nt)*d*P(1+Oe*k(He)-He*He)]}function jr(){return(0,M.Z)(Cr).scale(127.16)}function Xa(Ke,nt,ut,B){var Y=g/3;Ke=i(Ke,c),nt=i(nt,c),Ke=n(Ke,d),nt=n(nt,g-c),ut=i(ut,0),ut=n(ut,100-c);var G=(B=i(B,c))/100,L=O((ut/100+1)*b(Y))/Y,H=u(Ke)/u(L*d),$=nt/g,ne=P(G*u(Ke/2)/u(nt/2));return function(ce,ve,Oe,De,He){function We(rt,pt){var vt=Oe*u(De*pt),kt=P(1-vt*vt),Ot=P(2/(1+kt*b(rt*=He)));return[ce*kt*Ot*u(rt),ve*vt*Ot]}return We.invert=function(rt,pt){var vt=rt/ce,kt=pt/ve,Ot=P(vt*vt+kt*kt),Et=2*E(Ot/2);return[_(rt*p(Et),ce*Ot)/He,Ot&&E(pt*u(Et)/(ve*Oe*Ot))/De]},We}(ne/P($*H*L),1/(ne*P($*H*L)),H,L,$)}function Oo(){var Ke=65*T,nt=60*T,ut=20,B=200,Y=(0,M.r)(Xa),G=Y(Ke,nt,ut,B);return G.poleline=function(L){return arguments.length?Y(Ke=+L*T,nt,ut,B):Ke*S},G.parallels=function(L){return arguments.length?Y(Ke,nt=+L*T,ut,B):nt*S},G.inflation=function(L){return arguments.length?Y(Ke,nt,ut=+L,B):ut},G.ratio=function(L){return arguments.length?Y(Ke,nt,ut,B=+L):B},G.scale(163.775)}function Go(){return Oo().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}Pa.invert=function(Ke,nt){var ut=nt/1.70711,B=u(v*ut);return[Ke/(.74482-.34588*B*B),2*a(ut)]},yo.invert=function(Ke,nt){if(k(nt)<c)return[Ke,0];if(k(Ke)<c)return[0,d*u(2*a(nt/g))];var ut=(Ke/=g)*Ke,B=(nt/=g)*nt,Y=ut+B,G=Y*Y,L=-k(nt)*(1+Y),H=L-2*B+ut,$=-2*L+1+2*B+G,ne=B/$+(2*H*H*H/($*$*$)-9*L*H/($*$))/27,ce=(L-H*H/(3*$))/$,ve=2*P(-ce/3),Oe=O(3*ne/(ce*ve))/3;return[g*(Y-1+P(1+2*(ut-B)+G))/(2*Ke),s(nt)*g*(-ve*b(Oe+g/3)-H/(3*$))]},Zs.invert=function(Ke,nt){if(!Ke)return[0,d*u(2*a(nt/g))];var ut=k(Ke/g),B=(1-ut*ut-(nt/=g)*nt)/(2*ut),Y=P(B*B+1);return[s(Ke)*g*(Y-B),s(nt)*d*u(2*_(P((1-2*B*ut)*(B+Y)-ut),P(Y+B+ut)))]},Mi.invert=function(Ke,nt){if(!nt)return[Ke,0];var ut=nt/g,B=(g*g*(1-ut*ut)-Ke*Ke)/(2*g*Ke);return[Ke?g*(s(Ke)*P(B*B+1)-B):0,d*u(2*a(ut))]},Cr.invert=function(Ke,nt){var ut;if(!Ke||!nt)return[Ke,nt];nt/=g;var B=s(Ke)*Ke/d,Y=(B*B-1+4*nt*nt)/k(B),G=Y*Y,L=2*nt,H=50;do{var $=L*L,ne=(8*L-$*($+2)-5)/(2*$*(L-1)),ce=(3*L-$*L-10)/(2*$*L),ve=ne*ne,Oe=L*ne,De=L+ne,He=De*De,We=L+3*ne,rt=-2*De*(4*Oe*ve+(1-4*$+3*$*$)*(1+ce)+ve*(14*$-6-G+(8*$-8-2*G)*ce)+Oe*(12*$-8+(10*$-10-G)*ce)),pt=P(He*($+ve*G-1)+(1-$)*($*(We*We+4*ve)+ve*(12*Oe+4*ve)));L-=ut=(Y*(He+ve-1)+2*pt-B*(4*He+G))/(Y*(2*ne*ce+2*De*(1+ce))+rt/pt-8*De*(Y*(-1+ve+He)+2*pt)*(1+ce)/(G+4*He))}while(ut>c&&--H>0);return[s(Ke)*(P(Y*Y+4)+Y)*g/4,d*L]};var Zi=4*g+3*P(3),Po=2*P(2*g*P(3)/Zi),di=we(Po*P(3)/g,Po,Zi/6);function xu(){return(0,M.Z)(di).scale(176.84)}function Ja(Ke,nt){return[Ke*P(1-3*nt*nt/(g*g)),nt]}function mi(){return(0,M.Z)(Ja).scale(152.63)}function Oi(Ke,nt){var ut=b(nt),B=b(Ke)*ut,Y=1-B,G=b(Ke=_(u(Ke)*ut,-u(nt))),L=u(Ke);return[L*(ut=P(1-B*B))-G*Y,-G*ut-L*Y]}function Ua(){return(0,M.Z)(Oi).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function cs(Ke,nt){var ut=N(Ke,nt);return[(ut[0]+Ke/d)/2,(ut[1]+nt)/2]}function Kl(){return(0,M.Z)(cs).scale(158.837)}Ja.invert=function(Ke,nt){return[Ke/P(1-3*nt*nt/(g*g)),nt]},Oi.invert=function(Ke,nt){var ut=(Ke*Ke+nt*nt)/-2,B=P(-ut*(2+ut)),Y=nt*ut+Ke*B,G=Ke*ut-nt*B,L=P(G*G+Y*Y);return[_(B*Y,L*(1+ut)),L?-E(B*G/L):0]},cs.invert=function(Ke,nt){var ut=Ke,B=nt,Y=25;do{var G,L=b(B),H=u(B),$=u(2*B),ne=H*H,ce=L*L,ve=u(ut),Oe=b(ut/2),De=u(ut/2),He=De*De,We=1-ce*Oe*Oe,rt=We?O(L*Oe)*P(G=1/We):G=0,pt=.5*(2*rt*L*De+ut/d)-Ke,vt=.5*(rt*H+B)-nt,kt=.5*G*(ce*He+rt*L*Oe*ne)+.5/d,Ot=G*(ve*$/4-rt*H*De),Et=.125*G*($*De-rt*H*ce*ve),jt=.5*G*(ne*Oe+rt*He*L)+.5,It=Ot*Et-jt*kt,Jt=(vt*Ot-pt*jt)/It,Yt=(pt*Et-vt*kt)/It;ut-=Jt,B-=Yt}while((k(Jt)>c||k(Yt)>c)&&--Y>0);return[ut,B]}},33940:function(q,C,e){function M(){return new k}function k(){this.reset()}e.d(C,{Z:function(){return M}}),k.prototype={constructor:k,reset:function(){this.s=this.t=0},add:function(b){_(a,b,this.t),_(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new k;function _(b,h,o){var t=b.s=h+o,i=t-h,n=t-i;b.t=h-n+(o-i)}},97860:function(q,C,e){e.d(C,{L9:function(){return n},ZP:function(){return x},gL:function(){return l}});var M,k,a,_,b,h=e(33940),o=e(39695),t=e(73182),i=e(72736),n=(0,h.Z)(),r=(0,h.Z)(),l={point:t.Z,lineStart:t.Z,lineEnd:t.Z,polygonStart:function(){n.reset(),l.lineStart=s,l.lineEnd=u},polygonEnd:function(){var g=+n;r.add(g<0?o.BZ+g:g),this.lineStart=this.lineEnd=this.point=t.Z},sphere:function(){r.add(o.BZ)}};function s(){l.point=p}function u(){c(M,k)}function p(g,d){l.point=c,M=g,k=d,g*=o.uR,d*=o.uR,a=g,_=(0,o.mC)(d=d/2+o.pu),b=(0,o.O$)(d)}function c(g,d){g*=o.uR,d=(d*=o.uR)/2+o.pu;var v=g-a,y=v>=0?1:-1,m=y*v,w=(0,o.mC)(d),f=(0,o.O$)(d),S=b*f,T=_*w+S*(0,o.mC)(m),E=S*y*(0,o.O$)(m);n.add((0,o.fv)(E,T)),a=g,_=w,b=f}function x(g){return r.reset(),(0,i.Z)(g,l),2*r}},77338:function(q,C,e){e.d(C,{Z:function(){return O}});var M,k,a,_,b,h,o,t,i,n,r=e(33940),l=e(97860),s=e(7620),u=e(39695),p=e(72736),c=(0,r.Z)(),x={point:g,lineStart:v,lineEnd:y,polygonStart:function(){x.point=m,x.lineStart=w,x.lineEnd=f,c.reset(),l.gL.polygonStart()},polygonEnd:function(){l.gL.polygonEnd(),x.point=g,x.lineStart=v,x.lineEnd=y,l.L9<0?(M=-(a=180),k=-(_=90)):c>u.Ho?_=90:c<-u.Ho&&(k=-90),n[0]=M,n[1]=a},sphere:function(){M=-(a=180),k=-(_=90)}};function g(P,I){i.push(n=[M=P,a=P]),I<k&&(k=I),I>_&&(_=I)}function d(P,I){var z=(0,s.Og)([P*u.uR,I*u.uR]);if(t){var j=(0,s.T5)(t,z),R=[j[1],-j[0],0],N=(0,s.T5)(R,j);(0,s.iJ)(N),N=(0,s.Y1)(N);var Z,F=P-b,U=F>0?1:-1,V=N[0]*u.RW*U,te=(0,u.Wn)(F)>180;te^(U*b<V&&V<U*P)?(Z=N[1]*u.RW)>_&&(_=Z):te^(U*b<(V=(V+360)%360-180)&&V<U*P)?(Z=-N[1]*u.RW)<k&&(k=Z):(I<k&&(k=I),I>_&&(_=I)),te?P<b?S(M,P)>S(M,a)&&(a=P):S(P,a)>S(M,a)&&(M=P):a>=M?(P<M&&(M=P),P>a&&(a=P)):P>b?S(M,P)>S(M,a)&&(a=P):S(P,a)>S(M,a)&&(M=P)}else i.push(n=[M=P,a=P]);I<k&&(k=I),I>_&&(_=I),t=z,b=P}function v(){x.point=d}function y(){n[0]=M,n[1]=a,x.point=g,t=null}function m(P,I){if(t){var z=P-b;c.add((0,u.Wn)(z)>180?z+(z>0?360:-360):z)}else h=P,o=I;l.gL.point(P,I),d(P,I)}function w(){l.gL.lineStart()}function f(){m(h,o),l.gL.lineEnd(),(0,u.Wn)(c)>u.Ho&&(M=-(a=180)),n[0]=M,n[1]=a,t=null}function S(P,I){return(I-=P)<0?I+360:I}function T(P,I){return P[0]-I[0]}function E(P,I){return P[0]<=P[1]?P[0]<=I&&I<=P[1]:I<P[0]||P[1]<I}function O(P){var I,z,j,R,N,Z,F;if(_=a=-(M=k=1/0),i=[],(0,p.Z)(P,x),z=i.length){for(i.sort(T),I=1,N=[j=i[0]];I<z;++I)E(j,(R=i[I])[0])||E(j,R[1])?(S(j[0],R[1])>S(j[0],j[1])&&(j[1]=R[1]),S(R[0],j[1])>S(j[0],j[1])&&(j[0]=R[0])):N.push(j=R);for(Z=-1/0,I=0,j=N[z=N.length-1];I<=z;j=R,++I)R=N[I],(F=S(j[1],R[0]))>Z&&(Z=F,M=R[0],a=j[1])}return i=n=null,M===1/0||k===1/0?[[NaN,NaN],[NaN,NaN]]:[[M,k],[a,_]]}},7620:function(q,C,e){e.d(C,{Og:function(){return a},T:function(){return o},T5:function(){return b},Y1:function(){return k},iJ:function(){return t},j9:function(){return _},s0:function(){return h}});var M=e(39695);function k(i){return[(0,M.fv)(i[1],i[0]),(0,M.ZR)(i[2])]}function a(i){var n=i[0],r=i[1],l=(0,M.mC)(r);return[l*(0,M.mC)(n),l*(0,M.O$)(n),(0,M.O$)(r)]}function _(i,n){return i[0]*n[0]+i[1]*n[1]+i[2]*n[2]}function b(i,n){return[i[1]*n[2]-i[2]*n[1],i[2]*n[0]-i[0]*n[2],i[0]*n[1]-i[1]*n[0]]}function h(i,n){i[0]+=n[0],i[1]+=n[1],i[2]+=n[2]}function o(i,n){return[i[0]*n,i[1]*n,i[2]*n]}function t(i){var n=(0,M._b)(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);i[0]/=n,i[1]/=n,i[2]/=n}},66624:function(q,C,e){e.d(C,{Z:function(){return z}});var M,k,a,_,b,h,o,t,i,n,r,l,s,u,p,c,x=e(39695),g=e(73182),d=e(72736),v={sphere:g.Z,point:y,lineStart:w,lineEnd:T,polygonStart:function(){v.lineStart=E,v.lineEnd=O},polygonEnd:function(){v.lineStart=w,v.lineEnd=T}};function y(j,R){j*=x.uR,R*=x.uR;var N=(0,x.mC)(R);m(N*(0,x.mC)(j),N*(0,x.O$)(j),(0,x.O$)(R))}function m(j,R,N){++M,a+=(j-a)/M,_+=(R-_)/M,b+=(N-b)/M}function w(){v.point=f}function f(j,R){j*=x.uR,R*=x.uR;var N=(0,x.mC)(R);u=N*(0,x.mC)(j),p=N*(0,x.O$)(j),c=(0,x.O$)(R),v.point=S,m(u,p,c)}function S(j,R){j*=x.uR,R*=x.uR;var N=(0,x.mC)(R),Z=N*(0,x.mC)(j),F=N*(0,x.O$)(j),U=(0,x.O$)(R),V=(0,x.fv)((0,x._b)((V=p*U-c*F)*V+(V=c*Z-u*U)*V+(V=u*F-p*Z)*V),u*Z+p*F+c*U);k+=V,h+=V*(u+(u=Z)),o+=V*(p+(p=F)),t+=V*(c+(c=U)),m(u,p,c)}function T(){v.point=y}function E(){v.point=P}function O(){I(l,s),v.point=y}function P(j,R){l=j,s=R,j*=x.uR,R*=x.uR,v.point=I;var N=(0,x.mC)(R);u=N*(0,x.mC)(j),p=N*(0,x.O$)(j),c=(0,x.O$)(R),m(u,p,c)}function I(j,R){j*=x.uR,R*=x.uR;var N=(0,x.mC)(R),Z=N*(0,x.mC)(j),F=N*(0,x.O$)(j),U=(0,x.O$)(R),V=p*U-c*F,te=c*Z-u*U,Q=u*F-p*Z,J=(0,x._b)(V*V+te*te+Q*Q),X=(0,x.ZR)(J),K=J&&-X/J;i+=K*V,n+=K*te,r+=K*Q,k+=X,h+=X*(u+(u=Z)),o+=X*(p+(p=F)),t+=X*(c+(c=U)),m(u,p,c)}function z(j){M=k=a=_=b=h=o=t=i=n=r=0,(0,d.Z)(j,v);var R=i,N=n,Z=r,F=R*R+N*N+Z*Z;return F<x.aW&&(R=h,N=o,Z=t,k<x.Ho&&(R=a,N=_,Z=b),(F=R*R+N*N+Z*Z)<x.aW)?[NaN,NaN]:[(0,x.fv)(N,R)*x.RW,(0,x.ZR)(Z/(0,x._b)(F))*x.RW]}},7613:function(q,C,e){e.d(C,{m:function(){return b},Z:function(){return o}});var M=e(7620);function k(t){return function(){return t}}var a=e(39695),_=e(49386);function b(t,i,n,r,l,s){if(n){var u=(0,a.mC)(i),p=(0,a.O$)(i),c=r*n;l==null?(l=i+r*a.BZ,s=i-c/2):(l=h(u,l),s=h(u,s),(r>0?l<s:l>s)&&(l+=r*a.BZ));for(var x,g=l;r>0?g>s:g<s;g-=c)x=(0,M.Y1)([u,-p*(0,a.mC)(g),-p*(0,a.O$)(g)]),t.point(x[0],x[1])}}function h(t,i){(i=(0,M.Og)(i))[0]-=t,(0,M.iJ)(i);var n=(0,a.Kh)(-i[1]);return((-i[2]<0?-n:n)+a.BZ-a.Ho)%a.BZ}function o(){var t,i,n=k([0,0]),r=k(90),l=k(6),s={point:function(p,c){t.push(p=i(p,c)),p[0]*=a.RW,p[1]*=a.RW}};function u(){var p=n.apply(this,arguments),c=r.apply(this,arguments)*a.uR,x=l.apply(this,arguments)*a.uR;return t=[],i=(0,_.I)(-p[0]*a.uR,-p[1]*a.uR,0).invert,b(s,c,x,1),p={type:"Polygon",coordinates:[t]},t=i=null,p}return u.center=function(p){return arguments.length?(n=typeof p=="function"?p:k([+p[0],+p[1]]),u):n},u.radius=function(p){return arguments.length?(r=typeof p=="function"?p:k(+p),u):r},u.precision=function(p){return arguments.length?(l=typeof p=="function"?p:k(+p),u):l},u}},87070:function(q,C,e){var M=e(97023),k=e(39695);C.Z=(0,M.Z)(function(){return!0},function(a){var _,b=NaN,h=NaN,o=NaN;return{lineStart:function(){a.lineStart(),_=1},point:function(t,i){var n=t>0?k.pi:-k.pi,r=(0,k.Wn)(t-b);(0,k.Wn)(r-k.pi)<k.Ho?(a.point(b,h=(h+i)/2>0?k.ou:-k.ou),a.point(o,h),a.lineEnd(),a.lineStart(),a.point(n,h),a.point(t,h),_=0):o!==n&&r>=k.pi&&((0,k.Wn)(b-o)<k.Ho&&(b-=o*k.Ho),(0,k.Wn)(t-n)<k.Ho&&(t-=n*k.Ho),h=function(l,s,u,p){var c,x,g=(0,k.O$)(l-u);return(0,k.Wn)(g)>k.Ho?(0,k.z4)(((0,k.O$)(s)*(x=(0,k.mC)(p))*(0,k.O$)(u)-(0,k.O$)(p)*(c=(0,k.mC)(s))*(0,k.O$)(l))/(c*x*g)):(s+p)/2}(b,h,t,i),a.point(o,h),a.lineEnd(),a.lineStart(),a.point(n,h),_=0),a.point(b=t,h=i),o=n},lineEnd:function(){a.lineEnd(),b=h=NaN},clean:function(){return 2-_}}},function(a,_,b,h){var o;if(a==null)o=b*k.ou,h.point(-k.pi,o),h.point(0,o),h.point(k.pi,o),h.point(k.pi,0),h.point(k.pi,-o),h.point(0,-o),h.point(-k.pi,-o),h.point(-k.pi,0),h.point(-k.pi,o);else if((0,k.Wn)(a[0]-_[0])>k.Ho){var t=a[0]<_[0]?k.pi:-k.pi;o=b*t/2,h.point(-t,o),h.point(0,o),h.point(t,o)}else h.point(_[0],_[1])},[-k.pi,-k.ou])},85272:function(q,C,e){e.d(C,{Z:function(){return k}});var M=e(73182);function k(){var a,_=[];return{point:function(b,h,o){a.push([b,h,o])},lineStart:function(){_.push(a=[])},lineEnd:M.Z,rejoin:function(){_.length>1&&_.push(_.pop().concat(_.shift()))},result:function(){var b=_;return _=[],a=null,b}}}},1457:function(q,C,e){e.d(C,{Z:function(){return h}});var M=e(7620),k=e(7613),a=e(39695),_=e(67108),b=e(97023);function h(o){var t=(0,a.mC)(o),i=6*a.uR,n=t>0,r=(0,a.Wn)(t)>a.Ho;function l(p,c){return(0,a.mC)(p)*(0,a.mC)(c)>t}function s(p,c,x){var g=(0,M.Og)(p),d=(0,M.Og)(c),v=[1,0,0],y=(0,M.T5)(g,d),m=(0,M.j9)(y,y),w=y[0],f=m-w*w;if(!f)return!x&&p;var S=t*m/f,T=-t*w/f,E=(0,M.T5)(v,y),O=(0,M.T)(v,S),P=(0,M.T)(y,T);(0,M.s0)(O,P);var I=E,z=(0,M.j9)(O,I),j=(0,M.j9)(I,I),R=z*z-j*((0,M.j9)(O,O)-1);if(!(R<0)){var N=(0,a._b)(R),Z=(0,M.T)(I,(-z-N)/j);if((0,M.s0)(Z,O),Z=(0,M.Y1)(Z),!x)return Z;var F,U=p[0],V=c[0],te=p[1],Q=c[1];V<U&&(F=U,U=V,V=F);var J=V-U,X=(0,a.Wn)(J-a.pi)<a.Ho;if(!X&&Q<te&&(F=te,te=Q,Q=F),X||J<a.Ho?X?te+Q>0^Z[1]<((0,a.Wn)(Z[0]-U)<a.Ho?te:Q):te<=Z[1]&&Z[1]<=Q:J>a.pi^(U<=Z[0]&&Z[0]<=V)){var K=(0,M.T)(I,(-z+N)/j);return(0,M.s0)(K,O),[Z,(0,M.Y1)(K)]}}}function u(p,c){var x=n?o:a.pi-o,g=0;return p<-x?g|=1:p>x&&(g|=2),c<-x?g|=4:c>x&&(g|=8),g}return(0,b.Z)(l,function(p){var c,x,g,d,v;return{lineStart:function(){d=g=!1,v=1},point:function(y,m){var w,f=[y,m],S=l(y,m),T=n?S?0:u(y,m):S?u(y+(y<0?a.pi:-a.pi),m):0;if(!c&&(d=g=S)&&p.lineStart(),S!==g&&(!(w=s(c,f))||(0,_.Z)(c,w)||(0,_.Z)(f,w))&&(f[2]=1),S!==g)v=0,S?(p.lineStart(),w=s(f,c),p.point(w[0],w[1])):(w=s(c,f),p.point(w[0],w[1],2),p.lineEnd()),c=w;else if(r&&c&&n^S){var E;T&x||!(E=s(f,c,!0))||(v=0,n?(p.lineStart(),p.point(E[0][0],E[0][1]),p.point(E[1][0],E[1][1]),p.lineEnd()):(p.point(E[1][0],E[1][1]),p.lineEnd(),p.lineStart(),p.point(E[0][0],E[0][1],3)))}!S||c&&(0,_.Z)(c,f)||p.point(f[0],f[1]),c=f,g=S,x=T},lineEnd:function(){g&&p.lineEnd(),c=null},clean:function(){return v|(d&&g)<<1}}},function(p,c,x,g){(0,k.m)(g,o,i,x,p,c)},n?[0,-o]:[-a.pi,o-a.pi])}},97023:function(q,C,e){e.d(C,{Z:function(){return h}});var M=e(85272),k=e(46225),a=e(39695),_=e(23071),b=e(33064);function h(i,n,r,l){return function(s){var u,p,c,x=n(s),g=(0,M.Z)(),d=n(g),v=!1,y={point:m,lineStart:f,lineEnd:S,polygonStart:function(){y.point=T,y.lineStart=E,y.lineEnd=O,p=[],u=[]},polygonEnd:function(){y.point=m,y.lineStart=f,y.lineEnd=S,p=(0,b.TS)(p);var P=(0,_.Z)(u,l);p.length?(v||(s.polygonStart(),v=!0),(0,k.Z)(p,t,P,r,s)):P&&(v||(s.polygonStart(),v=!0),s.lineStart(),r(null,null,1,s),s.lineEnd()),v&&(s.polygonEnd(),v=!1),p=u=null},sphere:function(){s.polygonStart(),s.lineStart(),r(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function m(P,I){i(P,I)&&s.point(P,I)}function w(P,I){x.point(P,I)}function f(){y.point=w,x.lineStart()}function S(){y.point=m,x.lineEnd()}function T(P,I){c.push([P,I]),d.point(P,I)}function E(){d.lineStart(),c=[]}function O(){T(c[0][0],c[0][1]),d.lineEnd();var P,I,z,j,R=d.clean(),N=g.result(),Z=N.length;if(c.pop(),u.push(c),c=null,Z)if(1&R){if((I=(z=N[0]).length-1)>0){for(v||(s.polygonStart(),v=!0),s.lineStart(),P=0;P<I;++P)s.point((j=z[P])[0],j[1]);s.lineEnd()}}else Z>1&&2&R&&N.push(N.pop().concat(N.shift())),p.push(N.filter(o))}return y}}function o(i){return i.length>1}function t(i,n){return((i=i.x)[0]<0?i[1]-a.ou-a.Ho:a.ou-i[1])-((n=n.x)[0]<0?n[1]-a.ou-a.Ho:a.ou-n[1])}},87605:function(q,C,e){e.d(C,{Z:function(){return o}});var M=e(39695),k=e(85272),a=e(46225),_=e(33064),b=1e9,h=-b;function o(t,i,n,r){function l(x,g){return t<=x&&x<=n&&i<=g&&g<=r}function s(x,g,d,v){var y=0,m=0;if(x==null||(y=u(x,d))!==(m=u(g,d))||c(x,g)<0^d>0)do v.point(y===0||y===3?t:n,y>1?r:i);while((y=(y+d+4)%4)!==m);else v.point(g[0],g[1])}function u(x,g){return(0,M.Wn)(x[0]-t)<M.Ho?g>0?0:3:(0,M.Wn)(x[0]-n)<M.Ho?g>0?2:1:(0,M.Wn)(x[1]-i)<M.Ho?g>0?1:0:g>0?3:2}function p(x,g){return c(x.x,g.x)}function c(x,g){var d=u(x,1),v=u(g,1);return d!==v?d-v:d===0?g[1]-x[1]:d===1?x[0]-g[0]:d===2?x[1]-g[1]:g[0]-x[0]}return function(x){var g,d,v,y,m,w,f,S,T,E,O,P=x,I=(0,k.Z)(),z={point:j,lineStart:function(){z.point=R,d&&d.push(v=[]),E=!0,T=!1,f=S=NaN},lineEnd:function(){g&&(R(y,m),w&&T&&I.rejoin(),g.push(I.result())),z.point=j,T&&P.lineEnd()},polygonStart:function(){P=I,g=[],d=[],O=!0},polygonEnd:function(){var N=function(){for(var U=0,V=0,te=d.length;V<te;++V)for(var Q,J,X=d[V],K=1,ee=X.length,re=X[0],ie=re[0],ae=re[1];K<ee;++K)Q=ie,J=ae,ie=(re=X[K])[0],ae=re[1],J<=r?ae>r&&(ie-Q)*(r-J)>(ae-J)*(t-Q)&&++U:ae<=r&&(ie-Q)*(r-J)<(ae-J)*(t-Q)&&--U;return U}(),Z=O&&N,F=(g=(0,_.TS)(g)).length;(Z||F)&&(x.polygonStart(),Z&&(x.lineStart(),s(null,null,1,x),x.lineEnd()),F&&(0,a.Z)(g,p,N,s,x),x.polygonEnd()),P=x,g=d=v=null}};function j(N,Z){l(N,Z)&&P.point(N,Z)}function R(N,Z){var F=l(N,Z);if(d&&v.push([N,Z]),E)y=N,m=Z,w=F,E=!1,F&&(P.lineStart(),P.point(N,Z));else if(F&&T)P.point(N,Z);else{var U=[f=Math.max(h,Math.min(b,f)),S=Math.max(h,Math.min(b,S))],V=[N=Math.max(h,Math.min(b,N)),Z=Math.max(h,Math.min(b,Z))];(function(te,Q,J,X,K,ee){var re,ie=te[0],ae=te[1],ue=0,pe=1,de=Q[0]-ie,ye=Q[1]-ae;if(re=J-ie,de||!(re>0)){if(re/=de,de<0){if(re<ue)return;re<pe&&(pe=re)}else if(de>0){if(re>pe)return;re>ue&&(ue=re)}if(re=K-ie,de||!(re<0)){if(re/=de,de<0){if(re>pe)return;re>ue&&(ue=re)}else if(de>0){if(re<ue)return;re<pe&&(pe=re)}if(re=X-ae,ye||!(re>0)){if(re/=ye,ye<0){if(re<ue)return;re<pe&&(pe=re)}else if(ye>0){if(re>pe)return;re>ue&&(ue=re)}if(re=ee-ae,ye||!(re<0)){if(re/=ye,ye<0){if(re>pe)return;re>ue&&(ue=re)}else if(ye>0){if(re<ue)return;re<pe&&(pe=re)}return ue>0&&(te[0]=ie+ue*de,te[1]=ae+ue*ye),pe<1&&(Q[0]=ie+pe*de,Q[1]=ae+pe*ye),!0}}}}})(U,V,t,i,n,r)?(T||(P.lineStart(),P.point(U[0],U[1])),P.point(V[0],V[1]),F||P.lineEnd(),O=!1):F&&(P.lineStart(),P.point(N,Z),O=!1)}f=N,S=Z,T=F}return z}}},46225:function(q,C,e){e.d(C,{Z:function(){return _}});var M=e(67108),k=e(39695);function a(h,o,t,i){this.x=h,this.z=o,this.o=t,this.e=i,this.v=!1,this.n=this.p=null}function _(h,o,t,i,n){var r,l,s=[],u=[];if(h.forEach(function(v){if(!((y=v.length-1)<=0)){var y,m,w=v[0],f=v[y];if((0,M.Z)(w,f)){if(!w[2]&&!f[2]){for(n.lineStart(),r=0;r<y;++r)n.point((w=v[r])[0],w[1]);return void n.lineEnd()}f[0]+=2*k.Ho}s.push(m=new a(w,v,null,!0)),u.push(m.o=new a(w,null,m,!1)),s.push(m=new a(f,v,null,!1)),u.push(m.o=new a(f,null,m,!0))}}),s.length){for(u.sort(o),b(s),b(u),r=0,l=u.length;r<l;++r)u[r].e=t=!t;for(var p,c,x=s[0];;){for(var g=x,d=!0;g.v;)if((g=g.n)===x)return;p=g.z,n.lineStart();do{if(g.v=g.o.v=!0,g.e){if(d)for(r=0,l=p.length;r<l;++r)n.point((c=p[r])[0],c[1]);else i(g.x,g.n.x,1,n);g=g.n}else{if(d)for(p=g.p.z,r=p.length-1;r>=0;--r)n.point((c=p[r])[0],c[1]);else i(g.x,g.p.x,-1,n);g=g.p}p=(g=g.o).z,d=!d}while(!g.v);n.lineEnd()}}}function b(h){if(o=h.length){for(var o,t,i=0,n=h[0];++i<o;)n.n=t=h[i],t.p=n,n=t;n.n=t=h[0],t.p=n}}},96059:function(q,C,e){function M(k,a){function _(b,h){return b=k(b,h),a(b[0],b[1])}return k.invert&&a.invert&&(_.invert=function(b,h){return(b=a.invert(b,h))&&k.invert(b[0],b[1])}),_}e.d(C,{Z:function(){return M}})},8593:function(q,C,e){function M(k){return k}e.d(C,{Z:function(){return M}})},27362:function(q,C,e){e.r(C),e.d(C,{geoAlbers:function(){return xt},geoAlbersUsa:function(){return Lt},geoArea:function(){return M.ZP},geoAzimuthalEqualArea:function(){return Tt.Z},geoAzimuthalEqualAreaRaw:function(){return Tt.l},geoAzimuthalEquidistant:function(){return bt.Z},geoAzimuthalEquidistantRaw:function(){return bt.N},geoBounds:function(){return k.Z},geoCentroid:function(){return a.Z},geoCircle:function(){return _.Z},geoClipAntimeridian:function(){return b.Z},geoClipCircle:function(){return h.Z},geoClipExtent:function(){return t},geoClipRectangle:function(){return o.Z},geoConicConformal:function(){return Vt},geoConicConformalRaw:function(){return Wt},geoConicEqualArea:function(){return yt},geoConicEqualAreaRaw:function(){return gt},geoConicEquidistant:function(){return Ln},geoConicEquidistantRaw:function(){return Sn},geoContains:function(){return N},geoDistance:function(){return S},geoEqualEarth:function(){return An},geoEqualEarthRaw:function(){return kn},geoEquirectangular:function(){return on.Z},geoEquirectangularRaw:function(){return on.k},geoGnomonic:function(){return wn.Z},geoGnomonicRaw:function(){return wn.M},geoGraticule:function(){return V},geoGraticule10:function(){return te},geoIdentity:function(){return _n},geoInterpolate:function(){return ee.Z},geoLength:function(){return m},geoMercator:function(){return Bt},geoMercatorRaw:function(){return Dt},geoNaturalEarth1:function(){return zn.Z},geoNaturalEarth1Raw:function(){return zn.K},geoOrthographic:function(){return Hn.Z},geoOrthographicRaw:function(){return Hn.I},geoPath:function(){return Ne},geoProjection:function(){return at.Z},geoProjectionMutator:function(){return at.r},geoRotation:function(){return Ct.Z},geoStereographic:function(){return rr},geoStereographicRaw:function(){return fr},geoStream:function(){return c.Z},geoTransform:function(){return Cn.Z},geoTransverseMercator:function(){return gr},geoTransverseMercatorRaw:function(){return Xn}});var M=e(97860),k=e(77338),a=e(66624),_=e(7613),b=e(87070),h=e(1457),o=e(87605);function t(){var Gt,tn,dn,vn=0,On=0,Vn=960,Bn=500;return dn={stream:function(Un){return Gt&&tn===Un?Gt:Gt=(0,o.Z)(vn,On,Vn,Bn)(tn=Un)},extent:function(Un){return arguments.length?(vn=+Un[0][0],On=+Un[0][1],Vn=+Un[1][0],Bn=+Un[1][1],Gt=tn=null,dn):[[vn,On],[Vn,Bn]]}}}var i,n,r,l=e(23071),s=e(33940),u=e(39695),p=e(73182),c=e(72736),x=(0,s.Z)(),g={sphere:p.Z,point:p.Z,lineStart:function(){g.point=v,g.lineEnd=d},lineEnd:p.Z,polygonStart:p.Z,polygonEnd:p.Z};function d(){g.point=g.lineEnd=p.Z}function v(Gt,tn){Gt*=u.uR,tn*=u.uR,i=Gt,n=(0,u.O$)(tn),r=(0,u.mC)(tn),g.point=y}function y(Gt,tn){Gt*=u.uR,tn*=u.uR;var dn=(0,u.O$)(tn),vn=(0,u.mC)(tn),On=(0,u.Wn)(Gt-i),Vn=(0,u.mC)(On),Bn=vn*(0,u.O$)(On),Un=r*dn-n*vn*Vn,tr=n*dn+r*vn*Vn;x.add((0,u.fv)((0,u._b)(Bn*Bn+Un*Un),tr)),i=Gt,n=dn,r=vn}function m(Gt){return x.reset(),(0,c.Z)(Gt,g),+x}var w=[null,null],f={type:"LineString",coordinates:w};function S(Gt,tn){return w[0]=Gt,w[1]=tn,m(f)}var T={Feature:function(Gt,tn){return O(Gt.geometry,tn)},FeatureCollection:function(Gt,tn){for(var dn=Gt.features,vn=-1,On=dn.length;++vn<On;)if(O(dn[vn].geometry,tn))return!0;return!1}},E={Sphere:function(){return!0},Point:function(Gt,tn){return P(Gt.coordinates,tn)},MultiPoint:function(Gt,tn){for(var dn=Gt.coordinates,vn=-1,On=dn.length;++vn<On;)if(P(dn[vn],tn))return!0;return!1},LineString:function(Gt,tn){return I(Gt.coordinates,tn)},MultiLineString:function(Gt,tn){for(var dn=Gt.coordinates,vn=-1,On=dn.length;++vn<On;)if(I(dn[vn],tn))return!0;return!1},Polygon:function(Gt,tn){return z(Gt.coordinates,tn)},MultiPolygon:function(Gt,tn){for(var dn=Gt.coordinates,vn=-1,On=dn.length;++vn<On;)if(z(dn[vn],tn))return!0;return!1},GeometryCollection:function(Gt,tn){for(var dn=Gt.geometries,vn=-1,On=dn.length;++vn<On;)if(O(dn[vn],tn))return!0;return!1}};function O(Gt,tn){return!(!Gt||!E.hasOwnProperty(Gt.type))&&E[Gt.type](Gt,tn)}function P(Gt,tn){return S(Gt,tn)===0}function I(Gt,tn){for(var dn,vn,On,Vn=0,Bn=Gt.length;Vn<Bn;Vn++){if((vn=S(Gt[Vn],tn))===0||Vn>0&&(On=S(Gt[Vn],Gt[Vn-1]))>0&&dn<=On&&vn<=On&&(dn+vn-On)*(1-Math.pow((dn-vn)/On,2))<u.aW*On)return!0;dn=vn}return!1}function z(Gt,tn){return!!(0,l.Z)(Gt.map(j),R(tn))}function j(Gt){return(Gt=Gt.map(R)).pop(),Gt}function R(Gt){return[Gt[0]*u.uR,Gt[1]*u.uR]}function N(Gt,tn){return(Gt&&T.hasOwnProperty(Gt.type)?T[Gt.type]:O)(Gt,tn)}var Z=e(33064);function F(Gt,tn,dn){var vn=(0,Z.w6)(Gt,tn-u.Ho,dn).concat(tn);return function(On){return vn.map(function(Vn){return[On,Vn]})}}function U(Gt,tn,dn){var vn=(0,Z.w6)(Gt,tn-u.Ho,dn).concat(tn);return function(On){return vn.map(function(Vn){return[Vn,On]})}}function V(){var Gt,tn,dn,vn,On,Vn,Bn,Un,tr,$t,bn,Rt,Kt=10,rn=Kt,xn=90,Tn=360,Pn=2.5;function pn(){return{type:"MultiLineString",coordinates:Qt()}}function Qt(){return(0,Z.w6)((0,u.mD)(vn/xn)*xn,dn,xn).map(bn).concat((0,Z.w6)((0,u.mD)(Un/Tn)*Tn,Bn,Tn).map(Rt)).concat((0,Z.w6)((0,u.mD)(tn/Kt)*Kt,Gt,Kt).filter(function(en){return(0,u.Wn)(en%xn)>u.Ho}).map(tr)).concat((0,Z.w6)((0,u.mD)(Vn/rn)*rn,On,rn).filter(function(en){return(0,u.Wn)(en%Tn)>u.Ho}).map($t))}return pn.lines=function(){return Qt().map(function(en){return{type:"LineString",coordinates:en}})},pn.outline=function(){return{type:"Polygon",coordinates:[bn(vn).concat(Rt(Bn).slice(1),bn(dn).reverse().slice(1),Rt(Un).reverse().slice(1))]}},pn.extent=function(en){return arguments.length?pn.extentMajor(en).extentMinor(en):pn.extentMinor()},pn.extentMajor=function(en){return arguments.length?(vn=+en[0][0],dn=+en[1][0],Un=+en[0][1],Bn=+en[1][1],vn>dn&&(en=vn,vn=dn,dn=en),Un>Bn&&(en=Un,Un=Bn,Bn=en),pn.precision(Pn)):[[vn,Un],[dn,Bn]]},pn.extentMinor=function(en){return arguments.length?(tn=+en[0][0],Gt=+en[1][0],Vn=+en[0][1],On=+en[1][1],tn>Gt&&(en=tn,tn=Gt,Gt=en),Vn>On&&(en=Vn,Vn=On,On=en),pn.precision(Pn)):[[tn,Vn],[Gt,On]]},pn.step=function(en){return arguments.length?pn.stepMajor(en).stepMinor(en):pn.stepMinor()},pn.stepMajor=function(en){return arguments.length?(xn=+en[0],Tn=+en[1],pn):[xn,Tn]},pn.stepMinor=function(en){return arguments.length?(Kt=+en[0],rn=+en[1],pn):[Kt,rn]},pn.precision=function(en){return arguments.length?(Pn=+en,tr=F(Vn,On,90),$t=U(tn,Gt,Pn),bn=F(Un,Bn,90),Rt=U(vn,dn,Pn),pn):Pn},pn.extentMajor([[-180,-90+u.Ho],[180,90-u.Ho]]).extentMinor([[-180,-80-u.Ho],[180,80+u.Ho]])}function te(){return V()()}var Q,J,X,K,ee=e(83074),re=e(8593),ie=(0,s.Z)(),ae=(0,s.Z)(),ue={point:p.Z,lineStart:p.Z,lineEnd:p.Z,polygonStart:function(){ue.lineStart=pe,ue.lineEnd=be},polygonEnd:function(){ue.lineStart=ue.lineEnd=ue.point=p.Z,ie.add((0,u.Wn)(ae)),ae.reset()},result:function(){var Gt=ie/2;return ie.reset(),Gt}};function pe(){ue.point=de}function de(Gt,tn){ue.point=ye,Q=X=Gt,J=K=tn}function ye(Gt,tn){ae.add(K*Gt-X*tn),X=Gt,K=tn}function be(){ye(Q,J)}var me,Ee,Te,we,oe=ue,se=e(3559),he=0,Se=0,_e=0,Ae=0,Ce=0,Re=0,fe=0,xe=0,ke=0,Ie={point:Fe,lineStart:ze,lineEnd:Qe,polygonStart:function(){Ie.lineStart=ft,Ie.lineEnd=ht},polygonEnd:function(){Ie.point=Fe,Ie.lineStart=ze,Ie.lineEnd=Qe},result:function(){var Gt=ke?[fe/ke,xe/ke]:Re?[Ae/Re,Ce/Re]:_e?[he/_e,Se/_e]:[NaN,NaN];return he=Se=_e=Ae=Ce=Re=fe=xe=ke=0,Gt}};function Fe(Gt,tn){he+=Gt,Se+=tn,++_e}function ze(){Ie.point=qe}function qe(Gt,tn){Ie.point=Ye,Fe(Te=Gt,we=tn)}function Ye(Gt,tn){var dn=Gt-Te,vn=tn-we,On=(0,u._b)(dn*dn+vn*vn);Ae+=On*(Te+Gt)/2,Ce+=On*(we+tn)/2,Re+=On,Fe(Te=Gt,we=tn)}function Qe(){Ie.point=Fe}function ft(){Ie.point=mt}function ht(){Mt(me,Ee)}function mt(Gt,tn){Ie.point=Mt,Fe(me=Te=Gt,Ee=we=tn)}function Mt(Gt,tn){var dn=Gt-Te,vn=tn-we,On=(0,u._b)(dn*dn+vn*vn);Ae+=On*(Te+Gt)/2,Ce+=On*(we+tn)/2,Re+=On,fe+=(On=we*Gt-Te*tn)*(Te+Gt),xe+=On*(we+tn),ke+=3*On,Fe(Te=Gt,we=tn)}var _t=Ie;function it(Gt){this._context=Gt}it.prototype={_radius:4.5,pointRadius:function(Gt){return this._radius=Gt,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Gt,tn){switch(this._point){case 0:this._context.moveTo(Gt,tn),this._point=1;break;case 1:this._context.lineTo(Gt,tn);break;default:this._context.moveTo(Gt+this._radius,tn),this._context.arc(Gt,tn,this._radius,0,u.BZ)}},result:p.Z};var st,St,zt,Ft,Pt,Ze=(0,s.Z)(),Je={point:p.Z,lineStart:function(){Je.point=Ue},lineEnd:function(){st&&Xe(St,zt),Je.point=p.Z},polygonStart:function(){st=!0},polygonEnd:function(){st=null},result:function(){var Gt=+Ze;return Ze.reset(),Gt}};function Ue(Gt,tn){Je.point=Xe,St=Ft=Gt,zt=Pt=tn}function Xe(Gt,tn){Ft-=Gt,Pt-=tn,Ze.add((0,u._b)(Ft*Ft+Pt*Pt)),Ft=Gt,Pt=tn}var lt=Je;function ot(){this._string=[]}function Be(Gt){return"m0,"+Gt+"a"+Gt+","+Gt+" 0 1,1 0,"+-2*Gt+"a"+Gt+","+Gt+" 0 1,1 0,"+2*Gt+"z"}function Ne(Gt,tn){var dn,vn,On=4.5;function Vn(Bn){return Bn&&(typeof On=="function"&&vn.pointRadius(+On.apply(this,arguments)),(0,c.Z)(Bn,dn(vn))),vn.result()}return Vn.area=function(Bn){return(0,c.Z)(Bn,dn(oe)),oe.result()},Vn.measure=function(Bn){return(0,c.Z)(Bn,dn(lt)),lt.result()},Vn.bounds=function(Bn){return(0,c.Z)(Bn,dn(se.Z)),se.Z.result()},Vn.centroid=function(Bn){return(0,c.Z)(Bn,dn(_t)),_t.result()},Vn.projection=function(Bn){return arguments.length?(dn=Bn==null?(Gt=null,re.Z):(Gt=Bn).stream,Vn):Gt},Vn.context=function(Bn){return arguments.length?(vn=Bn==null?(tn=null,new ot):new it(tn=Bn),typeof On!="function"&&vn.pointRadius(On),Vn):tn},Vn.pointRadius=function(Bn){return arguments.length?(On=typeof Bn=="function"?Bn:(vn.pointRadius(+Bn),+Bn),Vn):On},Vn.projection(Gt).context(tn)}ot.prototype={_radius:4.5,_circle:Be(4.5),pointRadius:function(Gt){return(Gt=+Gt)!==this._radius&&(this._radius=Gt,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Gt,tn){switch(this._point){case 0:this._string.push("M",Gt,",",tn),this._point=1;break;case 1:this._string.push("L",Gt,",",tn);break;default:this._circle==null&&(this._circle=Be(this._radius)),this._string.push("M",Gt,",",tn,this._circle)}},result:function(){if(this._string.length){var Gt=this._string.join("");return this._string=[],Gt}return null}};var at=e(15002);function $e(Gt){var tn=0,dn=u.pi/3,vn=(0,at.r)(Gt),On=vn(tn,dn);return On.parallels=function(Vn){return arguments.length?vn(tn=Vn[0]*u.uR,dn=Vn[1]*u.uR):[tn*u.RW,dn*u.RW]},On}function gt(Gt,tn){var dn=(0,u.O$)(Gt),vn=(dn+(0,u.O$)(tn))/2;if((0,u.Wn)(vn)<u.Ho)return function(Un){var tr=(0,u.mC)(Un);function $t(bn,Rt){return[bn*tr,(0,u.O$)(Rt)/tr]}return $t.invert=function(bn,Rt){return[bn/tr,(0,u.ZR)(Rt*tr)]},$t}(Gt);var On=1+dn*(2*vn-dn),Vn=(0,u._b)(On)/vn;function Bn(Un,tr){var $t=(0,u._b)(On-2*vn*(0,u.O$)(tr))/vn;return[$t*(0,u.O$)(Un*=vn),Vn-$t*(0,u.mC)(Un)]}return Bn.invert=function(Un,tr){var $t=Vn-tr,bn=(0,u.fv)(Un,(0,u.Wn)($t))*(0,u.Xx)($t);return $t*vn<0&&(bn-=u.pi*(0,u.Xx)(Un)*(0,u.Xx)($t)),[bn/vn,(0,u.ZR)((On-(Un*Un+$t*$t)*vn*vn)/(2*vn))]},Bn}function yt(){return $e(gt).scale(155.424).center([0,33.6442])}function xt(){return yt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var dt=e(47589);function Lt(){var Gt,tn,dn,vn,On,Vn,Bn=xt(),Un=yt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),tr=yt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),$t={point:function(Kt,rn){Vn=[Kt,rn]}};function bn(Kt){var rn=Kt[0],xn=Kt[1];return Vn=null,dn.point(rn,xn),Vn||(vn.point(rn,xn),Vn)||(On.point(rn,xn),Vn)}function Rt(){return Gt=tn=null,bn}return bn.invert=function(Kt){var rn=Bn.scale(),xn=Bn.translate(),Tn=(Kt[0]-xn[0])/rn,Pn=(Kt[1]-xn[1])/rn;return(Pn>=.12&&Pn<.234&&Tn>=-.425&&Tn<-.214?Un:Pn>=.166&&Pn<.234&&Tn>=-.214&&Tn<-.115?tr:Bn).invert(Kt)},bn.stream=function(Kt){return Gt&&tn===Kt?Gt:(rn=[Bn.stream(tn=Kt),Un.stream(Kt),tr.stream(Kt)],xn=rn.length,Gt={point:function(Tn,Pn){for(var pn=-1;++pn<xn;)rn[pn].point(Tn,Pn)},sphere:function(){for(var Tn=-1;++Tn<xn;)rn[Tn].sphere()},lineStart:function(){for(var Tn=-1;++Tn<xn;)rn[Tn].lineStart()},lineEnd:function(){for(var Tn=-1;++Tn<xn;)rn[Tn].lineEnd()},polygonStart:function(){for(var Tn=-1;++Tn<xn;)rn[Tn].polygonStart()},polygonEnd:function(){for(var Tn=-1;++Tn<xn;)rn[Tn].polygonEnd()}});var rn,xn},bn.precision=function(Kt){return arguments.length?(Bn.precision(Kt),Un.precision(Kt),tr.precision(Kt),Rt()):Bn.precision()},bn.scale=function(Kt){return arguments.length?(Bn.scale(Kt),Un.scale(.35*Kt),tr.scale(Kt),bn.translate(Bn.translate())):Bn.scale()},bn.translate=function(Kt){if(!arguments.length)return Bn.translate();var rn=Bn.scale(),xn=+Kt[0],Tn=+Kt[1];return dn=Bn.translate(Kt).clipExtent([[xn-.455*rn,Tn-.238*rn],[xn+.455*rn,Tn+.238*rn]]).stream($t),vn=Un.translate([xn-.307*rn,Tn+.201*rn]).clipExtent([[xn-.425*rn+u.Ho,Tn+.12*rn+u.Ho],[xn-.214*rn-u.Ho,Tn+.234*rn-u.Ho]]).stream($t),On=tr.translate([xn-.205*rn,Tn+.212*rn]).clipExtent([[xn-.214*rn+u.Ho,Tn+.166*rn+u.Ho],[xn-.115*rn-u.Ho,Tn+.234*rn-u.Ho]]).stream($t),Rt()},bn.fitExtent=function(Kt,rn){return(0,dt.qg)(bn,Kt,rn)},bn.fitSize=function(Kt,rn){return(0,dt.mF)(bn,Kt,rn)},bn.fitWidth=function(Kt,rn){return(0,dt.V6)(bn,Kt,rn)},bn.fitHeight=function(Kt,rn){return(0,dt.rf)(bn,Kt,rn)},bn.scale(1070)}var Tt=e(12956),bt=e(17889),Ct=e(49386);function Dt(Gt,tn){return[Gt,(0,u.cM)((0,u.OR)((u.ou+tn)/2))]}function Bt(){return Xt(Dt).scale(961/u.BZ)}function Xt(Gt){var tn,dn,vn,On=(0,at.Z)(Gt),Vn=On.center,Bn=On.scale,Un=On.translate,tr=On.clipExtent,$t=null;function bn(){var Rt=u.pi*Bn(),Kt=On((0,Ct.Z)(On.rotate()).invert([0,0]));return tr($t==null?[[Kt[0]-Rt,Kt[1]-Rt],[Kt[0]+Rt,Kt[1]+Rt]]:Gt===Dt?[[Math.max(Kt[0]-Rt,$t),tn],[Math.min(Kt[0]+Rt,dn),vn]]:[[$t,Math.max(Kt[1]-Rt,tn)],[dn,Math.min(Kt[1]+Rt,vn)]])}return On.scale=function(Rt){return arguments.length?(Bn(Rt),bn()):Bn()},On.translate=function(Rt){return arguments.length?(Un(Rt),bn()):Un()},On.center=function(Rt){return arguments.length?(Vn(Rt),bn()):Vn()},On.clipExtent=function(Rt){return arguments.length?(Rt==null?$t=tn=dn=vn=null:($t=+Rt[0][0],tn=+Rt[0][1],dn=+Rt[1][0],vn=+Rt[1][1]),bn()):$t==null?null:[[$t,tn],[dn,vn]]},bn()}function an(Gt){return(0,u.OR)((u.ou+Gt)/2)}function Wt(Gt,tn){var dn=(0,u.mC)(Gt),vn=Gt===tn?(0,u.O$)(Gt):(0,u.cM)(dn/(0,u.mC)(tn))/(0,u.cM)(an(tn)/an(Gt)),On=dn*(0,u.sQ)(an(Gt),vn)/vn;if(!vn)return Dt;function Vn(Bn,Un){On>0?Un<-u.ou+u.Ho&&(Un=-u.ou+u.Ho):Un>u.ou-u.Ho&&(Un=u.ou-u.Ho);var tr=On/(0,u.sQ)(an(Un),vn);return[tr*(0,u.O$)(vn*Bn),On-tr*(0,u.mC)(vn*Bn)]}return Vn.invert=function(Bn,Un){var tr=On-Un,$t=(0,u.Xx)(vn)*(0,u._b)(Bn*Bn+tr*tr),bn=(0,u.fv)(Bn,(0,u.Wn)(tr))*(0,u.Xx)(tr);return tr*vn<0&&(bn-=u.pi*(0,u.Xx)(Bn)*(0,u.Xx)(tr)),[bn/vn,2*(0,u.z4)((0,u.sQ)(On/$t,1/vn))-u.ou]},Vn}function Vt(){return $e(Wt).scale(109.5).parallels([30,30])}Dt.invert=function(Gt,tn){return[Gt,2*(0,u.z4)((0,u.Qq)(tn))-u.ou]};var on=e(97492);function Sn(Gt,tn){var dn=(0,u.mC)(Gt),vn=Gt===tn?(0,u.O$)(Gt):(dn-(0,u.mC)(tn))/(tn-Gt),On=dn/vn+Gt;if((0,u.Wn)(vn)<u.Ho)return on.k;function Vn(Bn,Un){var tr=On-Un,$t=vn*Bn;return[tr*(0,u.O$)($t),On-tr*(0,u.mC)($t)]}return Vn.invert=function(Bn,Un){var tr=On-Un,$t=(0,u.fv)(Bn,(0,u.Wn)(tr))*(0,u.Xx)(tr);return tr*vn<0&&($t-=u.pi*(0,u.Xx)(Bn)*(0,u.Xx)(tr)),[$t/vn,On-(0,u.Xx)(vn)*(0,u._b)(Bn*Bn+tr*tr)]},Vn}function Ln(){return $e(Sn).scale(131.154).center([0,13.9389])}var fn=1.340264,Zt=-.081106,ln=893e-6,nn=.003796,cn=(0,u._b)(3)/2;function kn(Gt,tn){var dn=(0,u.ZR)(cn*(0,u.O$)(tn)),vn=dn*dn,On=vn*vn*vn;return[Gt*(0,u.mC)(dn)/(cn*(fn+3*Zt*vn+On*(7*ln+9*nn*vn))),dn*(fn+Zt*vn+On*(ln+nn*vn))]}function An(){return(0,at.Z)(kn).scale(177.158)}kn.invert=function(Gt,tn){for(var dn,vn=tn,On=vn*vn,Vn=On*On*On,Bn=0;Bn<12&&(Vn=(On=(vn-=dn=(vn*(fn+Zt*On+Vn*(ln+nn*On))-tn)/(fn+3*Zt*On+Vn*(7*ln+9*nn*On)))*vn)*On*On,!((0,u.Wn)(dn)<u.aW));++Bn);return[cn*Gt*(fn+3*Zt*On+Vn*(7*ln+9*nn*On))/(0,u.mC)(vn),(0,u.ZR)((0,u.O$)(vn)/cn)]};var wn=e(98936),Cn=e(64684);function _n(){var Gt,tn,dn,vn,On,Vn,Bn,Un=1,tr=0,$t=0,bn=1,Rt=1,Kt=0,rn=null,xn=1,Tn=1,Pn=(0,Cn.l)({point:function(hn,gn){var Dn=en([hn,gn]);this.stream.point(Dn[0],Dn[1])}}),pn=re.Z;function Qt(){return xn=Un*bn,Tn=Un*Rt,Vn=Bn=null,en}function en(hn){var gn=hn[0]*xn,Dn=hn[1]*Tn;if(Kt){var Fn=Dn*Gt-gn*tn;gn=gn*Gt+Dn*tn,Dn=Fn}return[gn+tr,Dn+$t]}return en.invert=function(hn){var gn=hn[0]-tr,Dn=hn[1]-$t;if(Kt){var Fn=Dn*Gt+gn*tn;gn=gn*Gt-Dn*tn,Dn=Fn}return[gn/xn,Dn/Tn]},en.stream=function(hn){return Vn&&Bn===hn?Vn:Vn=Pn(pn(Bn=hn))},en.postclip=function(hn){return arguments.length?(pn=hn,rn=dn=vn=On=null,Qt()):pn},en.clipExtent=function(hn){return arguments.length?(pn=hn==null?(rn=dn=vn=On=null,re.Z):(0,o.Z)(rn=+hn[0][0],dn=+hn[0][1],vn=+hn[1][0],On=+hn[1][1]),Qt()):rn==null?null:[[rn,dn],[vn,On]]},en.scale=function(hn){return arguments.length?(Un=+hn,Qt()):Un},en.translate=function(hn){return arguments.length?(tr=+hn[0],$t=+hn[1],Qt()):[tr,$t]},en.angle=function(hn){return arguments.length?(Kt=hn%360*u.uR,tn=(0,u.O$)(Kt),Gt=(0,u.mC)(Kt),Qt()):Kt*u.RW},en.reflectX=function(hn){return arguments.length?(bn=hn?-1:1,Qt()):bn<0},en.reflectY=function(hn){return arguments.length?(Rt=hn?-1:1,Qt()):Rt<0},en.fitExtent=function(hn,gn){return(0,dt.qg)(en,hn,gn)},en.fitSize=function(hn,gn){return(0,dt.mF)(en,hn,gn)},en.fitWidth=function(hn,gn){return(0,dt.V6)(en,hn,gn)},en.fitHeight=function(hn,gn){return(0,dt.rf)(en,hn,gn)},en}var zn=e(26867),Hn=e(57962),ar=e(25382);function fr(Gt,tn){var dn=(0,u.mC)(tn),vn=1+(0,u.mC)(Gt)*dn;return[dn*(0,u.O$)(Gt)/vn,(0,u.O$)(tn)/vn]}function rr(){return(0,at.Z)(fr).scale(250).clipAngle(142)}function Xn(Gt,tn){return[(0,u.cM)((0,u.OR)((u.ou+tn)/2)),-Gt]}function gr(){var Gt=Xt(Xn),tn=Gt.center,dn=Gt.rotate;return Gt.center=function(vn){return arguments.length?tn([-vn[1],vn[0]]):[(vn=tn())[1],-vn[0]]},Gt.rotate=function(vn){return arguments.length?dn([vn[0],vn[1],vn.length>2?vn[2]+90:90]):[(vn=dn())[0],vn[1],vn[2]-90]},dn([0,0,90]).scale(159.155)}fr.invert=(0,ar.O)(function(Gt){return 2*(0,u.z4)(Gt)}),Xn.invert=function(Gt,tn){return[-tn,2*(0,u.z4)((0,u.Qq)(Gt))-u.ou]}},83074:function(q,C,e){e.d(C,{Z:function(){return k}});var M=e(39695);function k(a,_){var b=a[0]*M.uR,h=a[1]*M.uR,o=_[0]*M.uR,t=_[1]*M.uR,i=(0,M.mC)(h),n=(0,M.O$)(h),r=(0,M.mC)(t),l=(0,M.O$)(t),s=i*(0,M.mC)(b),u=i*(0,M.O$)(b),p=r*(0,M.mC)(o),c=r*(0,M.O$)(o),x=2*(0,M.ZR)((0,M._b)((0,M.Jy)(t-h)+i*r*(0,M.Jy)(o-b))),g=(0,M.O$)(x),d=x?function(v){var y=(0,M.O$)(v*=x)/g,m=(0,M.O$)(x-v)/g,w=m*s+y*p,f=m*u+y*c,S=m*n+y*l;return[(0,M.fv)(f,w)*M.RW,(0,M.fv)(S,(0,M._b)(w*w+f*f))*M.RW]}:function(){return[b*M.RW,h*M.RW]};return d.distance=x,d}},39695:function(q,C,e){e.d(C,{BZ:function(){return h},Ho:function(){return M},Jy:function(){return w},Kh:function(){return y},O$:function(){return x},OR:function(){return v},Qq:function(){return u},RW:function(){return o},Wn:function(){return i},Xx:function(){return g},ZR:function(){return m},_b:function(){return d},aW:function(){return k},cM:function(){return p},fv:function(){return r},mC:function(){return l},mD:function(){return s},ou:function(){return _},pi:function(){return a},pu:function(){return b},sQ:function(){return c},uR:function(){return t},z4:function(){return n}});var M=1e-6,k=1e-12,a=Math.PI,_=a/2,b=a/4,h=2*a,o=180/a,t=a/180,i=Math.abs,n=Math.atan,r=Math.atan2,l=Math.cos,s=Math.ceil,u=Math.exp,p=Math.log,c=Math.pow,x=Math.sin,g=Math.sign||function(f){return f>0?1:f<0?-1:0},d=Math.sqrt,v=Math.tan;function y(f){return f>1?0:f<-1?a:Math.acos(f)}function m(f){return f>1?_:f<-1?-_:Math.asin(f)}function w(f){return(f=x(f/2))*f}},73182:function(q,C,e){function M(){}e.d(C,{Z:function(){return M}})},3559:function(q,C,e){var M=e(73182),k=1/0,a=k,_=-k,b=_,h={point:function(o,t){o<k&&(k=o),o>_&&(_=o),t<a&&(a=t),t>b&&(b=t)},lineStart:M.Z,lineEnd:M.Z,polygonStart:M.Z,polygonEnd:M.Z,result:function(){var o=[[k,a],[_,b]];return _=b=-(a=k=1/0),o}};C.Z=h},67108:function(q,C,e){e.d(C,{Z:function(){return k}});var M=e(39695);function k(a,_){return(0,M.Wn)(a[0]-_[0])<M.Ho&&(0,M.Wn)(a[1]-_[1])<M.Ho}},23071:function(q,C,e){e.d(C,{Z:function(){return h}});var M=e(33940),k=e(7620),a=e(39695),_=(0,M.Z)();function b(o){return(0,a.Wn)(o[0])<=a.pi?o[0]:(0,a.Xx)(o[0])*(((0,a.Wn)(o[0])+a.pi)%a.BZ-a.pi)}function h(o,t){var i=b(t),n=t[1],r=(0,a.O$)(n),l=[(0,a.O$)(i),-(0,a.mC)(i),0],s=0,u=0;_.reset(),r===1?n=a.ou+a.Ho:r===-1&&(n=-a.ou-a.Ho);for(var p=0,c=o.length;p<c;++p)if(g=(x=o[p]).length)for(var x,g,d=x[g-1],v=b(d),y=d[1]/2+a.pu,m=(0,a.O$)(y),w=(0,a.mC)(y),f=0;f<g;++f,v=T,m=O,w=P,d=S){var S=x[f],T=b(S),E=S[1]/2+a.pu,O=(0,a.O$)(E),P=(0,a.mC)(E),I=T-v,z=I>=0?1:-1,j=z*I,R=j>a.pi,N=m*O;if(_.add((0,a.fv)(N*z*(0,a.O$)(j),w*P+N*(0,a.mC)(j))),s+=R?I+z*a.BZ:I,R^v>=i^T>=i){var Z=(0,k.T5)((0,k.Og)(d),(0,k.Og)(S));(0,k.iJ)(Z);var F=(0,k.T5)(l,Z);(0,k.iJ)(F);var U=(R^I>=0?-1:1)*(0,a.ZR)(F[2]);(n>U||n===U&&(Z[0]||Z[1]))&&(u+=R^I>=0?1:-1)}}return(s<-a.Ho||s<a.Ho&&_<-a.Ho)^1&u}},25382:function(q,C,e){e.d(C,{O:function(){return a},W:function(){return k}});var M=e(39695);function k(_){return function(b,h){var o=(0,M.mC)(b),t=(0,M.mC)(h),i=_(o*t);return[i*t*(0,M.O$)(b),i*(0,M.O$)(h)]}}function a(_){return function(b,h){var o=(0,M._b)(b*b+h*h),t=_(o),i=(0,M.O$)(t),n=(0,M.mC)(t);return[(0,M.fv)(b*i,o*n),(0,M.ZR)(o&&h*i/o)]}}},12956:function(q,C,e){e.d(C,{Z:function(){return b},l:function(){return _}});var M=e(39695),k=e(25382),a=e(15002),_=(0,k.W)(function(h){return(0,M._b)(2/(1+h))});function b(){return(0,a.Z)(_).scale(124.75).clipAngle(179.999)}_.invert=(0,k.O)(function(h){return 2*(0,M.ZR)(h/2)})},17889:function(q,C,e){e.d(C,{N:function(){return _},Z:function(){return b}});var M=e(39695),k=e(25382),a=e(15002),_=(0,k.W)(function(h){return(h=(0,M.Kh)(h))&&h/(0,M.O$)(h)});function b(){return(0,a.Z)(_).scale(79.4188).clipAngle(179.999)}_.invert=(0,k.O)(function(h){return h})},97492:function(q,C,e){e.d(C,{Z:function(){return a},k:function(){return k}});var M=e(15002);function k(_,b){return[_,b]}function a(){return(0,M.Z)(k).scale(152.63)}k.invert=k},47589:function(q,C,e){e.d(C,{V6:function(){return h},mF:function(){return b},qg:function(){return _},rf:function(){return o}});var M=e(72736),k=e(3559);function a(t,i,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),(0,M.Z)(n,t.stream(k.Z)),i(k.Z.result()),r!=null&&t.clipExtent(r),t}function _(t,i,n){return a(t,function(r){var l=i[1][0]-i[0][0],s=i[1][1]-i[0][1],u=Math.min(l/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),p=+i[0][0]+(l-u*(r[1][0]+r[0][0]))/2,c=+i[0][1]+(s-u*(r[1][1]+r[0][1]))/2;t.scale(150*u).translate([p,c])},n)}function b(t,i,n){return _(t,[[0,0],i],n)}function h(t,i,n){return a(t,function(r){var l=+i,s=l/(r[1][0]-r[0][0]),u=(l-s*(r[1][0]+r[0][0]))/2,p=-s*r[0][1];t.scale(150*s).translate([u,p])},n)}function o(t,i,n){return a(t,function(r){var l=+i,s=l/(r[1][1]-r[0][1]),u=-s*r[0][0],p=(l-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([u,p])},n)}},98936:function(q,C,e){e.d(C,{M:function(){return _},Z:function(){return b}});var M=e(39695),k=e(25382),a=e(15002);function _(h,o){var t=(0,M.mC)(o),i=(0,M.mC)(h)*t;return[t*(0,M.O$)(h)/i,(0,M.O$)(o)/i]}function b(){return(0,a.Z)(_).scale(144.049).clipAngle(60)}_.invert=(0,k.O)(M.z4)},15002:function(q,C,e){e.d(C,{Z:function(){return x},r:function(){return g}});var M=e(87070),k=e(1457),a=e(87605),_=e(96059),b=e(8593),h=e(39695),o=e(49386),t=e(64684),i=e(47589),n=e(7620),r=16,l=(0,h.mC)(30*h.uR);function s(d,v){return+v?function(y,m){function w(f,S,T,E,O,P,I,z,j,R,N,Z,F,U){var V=I-f,te=z-S,Q=V*V+te*te;if(Q>4*m&&F--){var J=E+R,X=O+N,K=P+Z,ee=(0,h._b)(J*J+X*X+K*K),re=(0,h.ZR)(K/=ee),ie=(0,h.Wn)((0,h.Wn)(K)-1)<h.Ho||(0,h.Wn)(T-j)<h.Ho?(T+j)/2:(0,h.fv)(X,J),ae=y(ie,re),ue=ae[0],pe=ae[1],de=ue-f,ye=pe-S,be=te*de-V*ye;(be*be/Q>m||(0,h.Wn)((V*de+te*ye)/Q-.5)>.3||E*R+O*N+P*Z<l)&&(w(f,S,T,E,O,P,ue,pe,ie,J/=ee,X/=ee,K,F,U),U.point(ue,pe),w(ue,pe,ie,J,X,K,I,z,j,R,N,Z,F,U))}}return function(f){var S,T,E,O,P,I,z,j,R,N,Z,F,U={point:V,lineStart:te,lineEnd:J,polygonStart:function(){f.polygonStart(),U.lineStart=X},polygonEnd:function(){f.polygonEnd(),U.lineStart=te}};function V(re,ie){re=y(re,ie),f.point(re[0],re[1])}function te(){j=NaN,U.point=Q,f.lineStart()}function Q(re,ie){var ae=(0,n.Og)([re,ie]),ue=y(re,ie);w(j,R,z,N,Z,F,j=ue[0],R=ue[1],z=re,N=ae[0],Z=ae[1],F=ae[2],r,f),f.point(j,R)}function J(){U.point=V,f.lineEnd()}function X(){te(),U.point=K,U.lineEnd=ee}function K(re,ie){Q(S=re,ie),T=j,E=R,O=N,P=Z,I=F,U.point=Q}function ee(){w(j,R,z,N,Z,F,T,E,S,O,P,I,r,f),U.lineEnd=J,J()}return U}}(d,v):function(y){return(0,t.l)({point:function(m,w){m=y(m,w),this.stream.point(m[0],m[1])}})}(d)}var u=(0,t.l)({point:function(d,v){this.stream.point(d*h.uR,v*h.uR)}});function p(d,v,y,m,w){function f(S,T){return[v+d*(S*=m),y-d*(T*=w)]}return f.invert=function(S,T){return[(S-v)/d*m,(y-T)/d*w]},f}function c(d,v,y,m,w,f){var S=(0,h.mC)(f),T=(0,h.O$)(f),E=S*d,O=T*d,P=S/d,I=T/d,z=(T*y-S*v)/d,j=(T*v+S*y)/d;function R(N,Z){return[E*(N*=m)-O*(Z*=w)+v,y-O*N-E*Z]}return R.invert=function(N,Z){return[m*(P*N-I*Z+z),w*(j-I*N-P*Z)]},R}function x(d){return g(function(){return d})()}function g(d){var v,y,m,w,f,S,T,E,O,P,I=150,z=480,j=250,R=0,N=0,Z=0,F=0,U=0,V=0,te=1,Q=1,J=null,X=M.Z,K=null,ee=b.Z,re=.5;function ie(de){return E(de[0]*h.uR,de[1]*h.uR)}function ae(de){return(de=E.invert(de[0],de[1]))&&[de[0]*h.RW,de[1]*h.RW]}function ue(){var de=c(I,0,0,te,Q,V).apply(null,v(R,N)),ye=(V?c:p)(I,z-de[0],j-de[1],te,Q,V);return y=(0,o.I)(Z,F,U),T=(0,_.Z)(v,ye),E=(0,_.Z)(y,T),S=s(T,re),pe()}function pe(){return O=P=null,ie}return ie.stream=function(de){return O&&P===de?O:O=u(function(ye){return(0,t.l)({point:function(be,me){var Ee=ye(be,me);return this.stream.point(Ee[0],Ee[1])}})}(y)(X(S(ee(P=de)))))},ie.preclip=function(de){return arguments.length?(X=de,J=void 0,pe()):X},ie.postclip=function(de){return arguments.length?(ee=de,K=m=w=f=null,pe()):ee},ie.clipAngle=function(de){return arguments.length?(X=+de?(0,k.Z)(J=de*h.uR):(J=null,M.Z),pe()):J*h.RW},ie.clipExtent=function(de){return arguments.length?(ee=de==null?(K=m=w=f=null,b.Z):(0,a.Z)(K=+de[0][0],m=+de[0][1],w=+de[1][0],f=+de[1][1]),pe()):K==null?null:[[K,m],[w,f]]},ie.scale=function(de){return arguments.length?(I=+de,ue()):I},ie.translate=function(de){return arguments.length?(z=+de[0],j=+de[1],ue()):[z,j]},ie.center=function(de){return arguments.length?(R=de[0]%360*h.uR,N=de[1]%360*h.uR,ue()):[R*h.RW,N*h.RW]},ie.rotate=function(de){return arguments.length?(Z=de[0]%360*h.uR,F=de[1]%360*h.uR,U=de.length>2?de[2]%360*h.uR:0,ue()):[Z*h.RW,F*h.RW,U*h.RW]},ie.angle=function(de){return arguments.length?(V=de%360*h.uR,ue()):V*h.RW},ie.reflectX=function(de){return arguments.length?(te=de?-1:1,ue()):te<0},ie.reflectY=function(de){return arguments.length?(Q=de?-1:1,ue()):Q<0},ie.precision=function(de){return arguments.length?(S=s(T,re=de*de),pe()):(0,h._b)(re)},ie.fitExtent=function(de,ye){return(0,i.qg)(ie,de,ye)},ie.fitSize=function(de,ye){return(0,i.mF)(ie,de,ye)},ie.fitWidth=function(de,ye){return(0,i.V6)(ie,de,ye)},ie.fitHeight=function(de,ye){return(0,i.rf)(ie,de,ye)},function(){return v=d.apply(this,arguments),ie.invert=v.invert&&ae,ue()}}},26867:function(q,C,e){e.d(C,{K:function(){return a},Z:function(){return _}});var M=e(15002),k=e(39695);function a(b,h){var o=h*h,t=o*o;return[b*(.8707-.131979*o+t*(t*(.003971*o-.001529*t)-.013791)),h*(1.007226+o*(.015085+t*(.028874*o-.044475-.005916*t)))]}function _(){return(0,M.Z)(a).scale(175.295)}a.invert=function(b,h){var o,t=h,i=25;do{var n=t*t,r=n*n;t-=o=(t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))-h)/(1.007226+n*(.045255+r*(.259866*n-.311325-.06507600000000001*r)))}while((0,k.Wn)(o)>k.Ho&&--i>0);return[b/(.8707+(n=t*t)*(n*(n*n*n*(.003971-.001529*n)-.013791)-.131979)),t]}},57962:function(q,C,e){e.d(C,{I:function(){return _},Z:function(){return b}});var M=e(39695),k=e(25382),a=e(15002);function _(h,o){return[(0,M.mC)(o)*(0,M.O$)(h),(0,M.O$)(o)]}function b(){return(0,a.Z)(_).scale(249.5).clipAngle(90+M.Ho)}_.invert=(0,k.O)(M.ZR)},49386:function(q,C,e){e.d(C,{I:function(){return _},Z:function(){return t}});var M=e(96059),k=e(39695);function a(i,n){return[(0,k.Wn)(i)>k.pi?i+Math.round(-i/k.BZ)*k.BZ:i,n]}function _(i,n,r){return(i%=k.BZ)?n||r?(0,M.Z)(h(i),o(n,r)):h(i):n||r?o(n,r):a}function b(i){return function(n,r){return[(n+=i)>k.pi?n-k.BZ:n<-k.pi?n+k.BZ:n,r]}}function h(i){var n=b(i);return n.invert=b(-i),n}function o(i,n){var r=(0,k.mC)(i),l=(0,k.O$)(i),s=(0,k.mC)(n),u=(0,k.O$)(n);function p(c,x){var g=(0,k.mC)(x),d=(0,k.mC)(c)*g,v=(0,k.O$)(c)*g,y=(0,k.O$)(x),m=y*r+d*l;return[(0,k.fv)(v*s-m*u,d*r-y*l),(0,k.ZR)(m*s+v*u)]}return p.invert=function(c,x){var g=(0,k.mC)(x),d=(0,k.mC)(c)*g,v=(0,k.O$)(c)*g,y=(0,k.O$)(x),m=y*s-v*u;return[(0,k.fv)(v*s+y*u,d*r+m*l),(0,k.ZR)(m*r-d*l)]},p}function t(i){function n(r){return(r=i(r[0]*k.uR,r[1]*k.uR))[0]*=k.RW,r[1]*=k.RW,r}return i=_(i[0]*k.uR,i[1]*k.uR,i.length>2?i[2]*k.uR:0),n.invert=function(r){return(r=i.invert(r[0]*k.uR,r[1]*k.uR))[0]*=k.RW,r[1]*=k.RW,r},n}a.invert=a},72736:function(q,C,e){function M(o,t){o&&a.hasOwnProperty(o.type)&&a[o.type](o,t)}e.d(C,{Z:function(){return h}});var k={Feature:function(o,t){M(o.geometry,t)},FeatureCollection:function(o,t){for(var i=o.features,n=-1,r=i.length;++n<r;)M(i[n].geometry,t)}},a={Sphere:function(o,t){t.sphere()},Point:function(o,t){o=o.coordinates,t.point(o[0],o[1],o[2])},MultiPoint:function(o,t){for(var i=o.coordinates,n=-1,r=i.length;++n<r;)o=i[n],t.point(o[0],o[1],o[2])},LineString:function(o,t){_(o.coordinates,t,0)},MultiLineString:function(o,t){for(var i=o.coordinates,n=-1,r=i.length;++n<r;)_(i[n],t,0)},Polygon:function(o,t){b(o.coordinates,t)},MultiPolygon:function(o,t){for(var i=o.coordinates,n=-1,r=i.length;++n<r;)b(i[n],t)},GeometryCollection:function(o,t){for(var i=o.geometries,n=-1,r=i.length;++n<r;)M(i[n],t)}};function _(o,t,i){var n,r=-1,l=o.length-i;for(t.lineStart();++r<l;)n=o[r],t.point(n[0],n[1],n[2]);t.lineEnd()}function b(o,t){var i=-1,n=o.length;for(t.polygonStart();++i<n;)_(o[i],t,1);t.polygonEnd()}function h(o,t){o&&k.hasOwnProperty(o.type)?k[o.type](o,t):M(o,t)}},64684:function(q,C,e){function M(_){return{stream:k(_)}}function k(_){return function(b){var h=new a;for(var o in _)h[o]=_[o];return h.stream=b,h}}function a(){}e.d(C,{Z:function(){return M},l:function(){return k}}),a.prototype={constructor:a,point:function(_,b){this.stream.point(_,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(q,C,e){function M(se,he){return se.parent===he.parent?1:2}function k(se,he){return se+he.x}function a(se,he){return Math.max(se,he.y)}function _(){var se=M,he=1,Se=1,_e=!1;function Ae(Ce){var Re,fe=0;Ce.eachAfter(function(ze){var qe=ze.children;qe?(ze.x=function(Ye){return Ye.reduce(k,0)/Ye.length}(qe),ze.y=function(Ye){return 1+Ye.reduce(a,0)}(qe)):(ze.x=Re?fe+=se(ze,Re):0,ze.y=0,Re=ze)});var xe=function(ze){for(var qe;qe=ze.children;)ze=qe[0];return ze}(Ce),ke=function(ze){for(var qe;qe=ze.children;)ze=qe[qe.length-1];return ze}(Ce),Ie=xe.x-se(xe,ke)/2,Fe=ke.x+se(ke,xe)/2;return Ce.eachAfter(_e?function(ze){ze.x=(ze.x-Ce.x)*he,ze.y=(Ce.y-ze.y)*Se}:function(ze){ze.x=(ze.x-Ie)/(Fe-Ie)*he,ze.y=(1-(Ce.y?ze.y/Ce.y:1))*Se})}return Ae.separation=function(Ce){return arguments.length?(se=Ce,Ae):se},Ae.size=function(Ce){return arguments.length?(_e=!1,he=+Ce[0],Se=+Ce[1],Ae):_e?null:[he,Se]},Ae.nodeSize=function(Ce){return arguments.length?(_e=!0,he=+Ce[0],Se=+Ce[1],Ae):_e?[he,Se]:null},Ae}function b(se){var he=0,Se=se.children,_e=Se&&Se.length;if(_e)for(;--_e>=0;)he+=Se[_e].value;else he=1;se.value=he}function h(se,he){var Se,_e,Ae,Ce,Re,fe=new n(se),xe=+se.value&&(fe.value=se.value),ke=[fe];for(he==null&&(he=o);Se=ke.pop();)if(xe&&(Se.value=+Se.data.value),(Ae=he(Se.data))&&(Re=Ae.length))for(Se.children=new Array(Re),Ce=Re-1;Ce>=0;--Ce)ke.push(_e=Se.children[Ce]=new n(Ae[Ce])),_e.parent=Se,_e.depth=Se.depth+1;return fe.eachBefore(i)}function o(se){return se.children}function t(se){se.data=se.data.data}function i(se){var he=0;do se.height=he;while((se=se.parent)&&se.height<++he)}function n(se){this.data=se,this.depth=this.height=0,this.parent=null}e.r(C),e.d(C,{cluster:function(){return _},hierarchy:function(){return h},pack:function(){return I},packEnclose:function(){return l},packSiblings:function(){return S},partition:function(){return F},stratify:function(){return X},tree:function(){return pe},treemap:function(){return Ee},treemapBinary:function(){return Te},treemapDice:function(){return Z},treemapResquarify:function(){return oe},treemapSlice:function(){return de},treemapSliceDice:function(){return we},treemapSquarify:function(){return me}}),n.prototype=h.prototype={constructor:n,count:function(){return this.eachAfter(b)},each:function(se){var he,Se,_e,Ae,Ce=this,Re=[Ce];do for(he=Re.reverse(),Re=[];Ce=he.pop();)if(se(Ce),Se=Ce.children)for(_e=0,Ae=Se.length;_e<Ae;++_e)Re.push(Se[_e]);while(Re.length);return this},eachAfter:function(se){for(var he,Se,_e,Ae=this,Ce=[Ae],Re=[];Ae=Ce.pop();)if(Re.push(Ae),he=Ae.children)for(Se=0,_e=he.length;Se<_e;++Se)Ce.push(he[Se]);for(;Ae=Re.pop();)se(Ae);return this},eachBefore:function(se){for(var he,Se,_e=this,Ae=[_e];_e=Ae.pop();)if(se(_e),he=_e.children)for(Se=he.length-1;Se>=0;--Se)Ae.push(he[Se]);return this},sum:function(se){return this.eachAfter(function(he){for(var Se=+se(he.data)||0,_e=he.children,Ae=_e&&_e.length;--Ae>=0;)Se+=_e[Ae].value;he.value=Se})},sort:function(se){return this.eachBefore(function(he){he.children&&he.children.sort(se)})},path:function(se){for(var he=this,Se=function(Ce,Re){if(Ce===Re)return Ce;var fe=Ce.ancestors(),xe=Re.ancestors(),ke=null;for(Ce=fe.pop(),Re=xe.pop();Ce===Re;)ke=Ce,Ce=fe.pop(),Re=xe.pop();return ke}(he,se),_e=[he];he!==Se;)he=he.parent,_e.push(he);for(var Ae=_e.length;se!==Se;)_e.splice(Ae,0,se),se=se.parent;return _e},ancestors:function(){for(var se=this,he=[se];se=se.parent;)he.push(se);return he},descendants:function(){var se=[];return this.each(function(he){se.push(he)}),se},leaves:function(){var se=[];return this.eachBefore(function(he){he.children||se.push(he)}),se},links:function(){var se=this,he=[];return se.each(function(Se){Se!==se&&he.push({source:Se.parent,target:Se})}),he},copy:function(){return h(this).eachBefore(t)}};var r=Array.prototype.slice;function l(se){for(var he,Se,_e=0,Ae=(se=function(Re){for(var fe,xe,ke=Re.length;ke;)xe=Math.random()*ke--|0,fe=Re[ke],Re[ke]=Re[xe],Re[xe]=fe;return Re}(r.call(se))).length,Ce=[];_e<Ae;)he=se[_e],Se&&p(Se,he)?++_e:(Se=x(Ce=s(Ce,he)),_e=0);return Se}function s(se,he){var Se,_e;if(c(he,se))return[he];for(Se=0;Se<se.length;++Se)if(u(he,se[Se])&&c(g(se[Se],he),se))return[se[Se],he];for(Se=0;Se<se.length-1;++Se)for(_e=Se+1;_e<se.length;++_e)if(u(g(se[Se],se[_e]),he)&&u(g(se[Se],he),se[_e])&&u(g(se[_e],he),se[Se])&&c(d(se[Se],se[_e],he),se))return[se[Se],se[_e],he];throw new Error}function u(se,he){var Se=se.r-he.r,_e=he.x-se.x,Ae=he.y-se.y;return Se<0||Se*Se<_e*_e+Ae*Ae}function p(se,he){var Se=se.r-he.r+1e-6,_e=he.x-se.x,Ae=he.y-se.y;return Se>0&&Se*Se>_e*_e+Ae*Ae}function c(se,he){for(var Se=0;Se<he.length;++Se)if(!p(se,he[Se]))return!1;return!0}function x(se){switch(se.length){case 1:return{x:(he=se[0]).x,y:he.y,r:he.r};case 2:return g(se[0],se[1]);case 3:return d(se[0],se[1],se[2])}var he}function g(se,he){var Se=se.x,_e=se.y,Ae=se.r,Ce=he.x,Re=he.y,fe=he.r,xe=Ce-Se,ke=Re-_e,Ie=fe-Ae,Fe=Math.sqrt(xe*xe+ke*ke);return{x:(Se+Ce+xe/Fe*Ie)/2,y:(_e+Re+ke/Fe*Ie)/2,r:(Fe+Ae+fe)/2}}function d(se,he,Se){var _e=se.x,Ae=se.y,Ce=se.r,Re=he.x,fe=he.y,xe=he.r,ke=Se.x,Ie=Se.y,Fe=Se.r,ze=_e-Re,qe=_e-ke,Ye=Ae-fe,Qe=Ae-Ie,ft=xe-Ce,ht=Fe-Ce,mt=_e*_e+Ae*Ae-Ce*Ce,Mt=mt-Re*Re-fe*fe+xe*xe,_t=mt-ke*ke-Ie*Ie+Fe*Fe,it=qe*Ye-ze*Qe,st=(Ye*_t-Qe*Mt)/(2*it)-_e,St=(Qe*ft-Ye*ht)/it,zt=(qe*Mt-ze*_t)/(2*it)-Ae,Ft=(ze*ht-qe*ft)/it,Pt=St*St+Ft*Ft-1,Ze=2*(Ce+st*St+zt*Ft),Je=st*st+zt*zt-Ce*Ce,Ue=-(Pt?(Ze+Math.sqrt(Ze*Ze-4*Pt*Je))/(2*Pt):Je/Ze);return{x:_e+st+St*Ue,y:Ae+zt+Ft*Ue,r:Ue}}function v(se,he,Se){var _e,Ae,Ce,Re,fe=se.x-he.x,xe=se.y-he.y,ke=fe*fe+xe*xe;ke?(Ae=he.r+Se.r,Ae*=Ae,Re=se.r+Se.r,Ae>(Re*=Re)?(_e=(ke+Re-Ae)/(2*ke),Ce=Math.sqrt(Math.max(0,Re/ke-_e*_e)),Se.x=se.x-_e*fe-Ce*xe,Se.y=se.y-_e*xe+Ce*fe):(_e=(ke+Ae-Re)/(2*ke),Ce=Math.sqrt(Math.max(0,Ae/ke-_e*_e)),Se.x=he.x+_e*fe-Ce*xe,Se.y=he.y+_e*xe+Ce*fe)):(Se.x=he.x+Se.r,Se.y=he.y)}function y(se,he){var Se=se.r+he.r-1e-6,_e=he.x-se.x,Ae=he.y-se.y;return Se>0&&Se*Se>_e*_e+Ae*Ae}function m(se){var he=se._,Se=se.next._,_e=he.r+Se.r,Ae=(he.x*Se.r+Se.x*he.r)/_e,Ce=(he.y*Se.r+Se.y*he.r)/_e;return Ae*Ae+Ce*Ce}function w(se){this._=se,this.next=null,this.previous=null}function f(se){if(!(Ae=se.length))return 0;var he,Se,_e,Ae,Ce,Re,fe,xe,ke,Ie,Fe;if((he=se[0]).x=0,he.y=0,!(Ae>1))return he.r;if(Se=se[1],he.x=-Se.r,Se.x=he.r,Se.y=0,!(Ae>2))return he.r+Se.r;v(Se,he,_e=se[2]),he=new w(he),Se=new w(Se),_e=new w(_e),he.next=_e.previous=Se,Se.next=he.previous=_e,_e.next=Se.previous=he;e:for(fe=3;fe<Ae;++fe){v(he._,Se._,_e=se[fe]),_e=new w(_e),xe=Se.next,ke=he.previous,Ie=Se._.r,Fe=he._.r;do if(Ie<=Fe){if(y(xe._,_e._)){Se=xe,he.next=Se,Se.previous=he,--fe;continue e}Ie+=xe._.r,xe=xe.next}else{if(y(ke._,_e._)){(he=ke).next=Se,Se.previous=he,--fe;continue e}Fe+=ke._.r,ke=ke.previous}while(xe!==ke.next);for(_e.previous=he,_e.next=Se,he.next=Se.previous=Se=_e,Ce=m(he);(_e=_e.next)!==Se;)(Re=m(_e))<Ce&&(he=_e,Ce=Re);Se=he.next}for(he=[Se._],_e=Se;(_e=_e.next)!==Se;)he.push(_e._);for(_e=l(he),fe=0;fe<Ae;++fe)(he=se[fe]).x-=_e.x,he.y-=_e.y;return _e.r}function S(se){return f(se),se}function T(se){if(typeof se!="function")throw new Error;return se}function E(){return 0}function O(se){return function(){return se}}function P(se){return Math.sqrt(se.value)}function I(){var se=null,he=1,Se=1,_e=E;function Ae(Ce){return Ce.x=he/2,Ce.y=Se/2,se?Ce.eachBefore(z(se)).eachAfter(j(_e,.5)).eachBefore(R(1)):Ce.eachBefore(z(P)).eachAfter(j(E,1)).eachAfter(j(_e,Ce.r/Math.min(he,Se))).eachBefore(R(Math.min(he,Se)/(2*Ce.r))),Ce}return Ae.radius=function(Ce){return arguments.length?(se=(Re=Ce)==null?null:T(Re),Ae):se;var Re},Ae.size=function(Ce){return arguments.length?(he=+Ce[0],Se=+Ce[1],Ae):[he,Se]},Ae.padding=function(Ce){return arguments.length?(_e=typeof Ce=="function"?Ce:O(+Ce),Ae):_e},Ae}function z(se){return function(he){he.children||(he.r=Math.max(0,+se(he)||0))}}function j(se,he){return function(Se){if(_e=Se.children){var _e,Ae,Ce,Re=_e.length,fe=se(Se)*he||0;if(fe)for(Ae=0;Ae<Re;++Ae)_e[Ae].r+=fe;if(Ce=f(_e),fe)for(Ae=0;Ae<Re;++Ae)_e[Ae].r-=fe;Se.r=Ce+fe}}}function R(se){return function(he){var Se=he.parent;he.r*=se,Se&&(he.x=Se.x+se*he.x,he.y=Se.y+se*he.y)}}function N(se){se.x0=Math.round(se.x0),se.y0=Math.round(se.y0),se.x1=Math.round(se.x1),se.y1=Math.round(se.y1)}function Z(se,he,Se,_e,Ae){for(var Ce,Re=se.children,fe=-1,xe=Re.length,ke=se.value&&(_e-he)/se.value;++fe<xe;)(Ce=Re[fe]).y0=Se,Ce.y1=Ae,Ce.x0=he,Ce.x1=he+=Ce.value*ke}function F(){var se=1,he=1,Se=0,_e=!1;function Ae(Ce){var Re=Ce.height+1;return Ce.x0=Ce.y0=Se,Ce.x1=se,Ce.y1=he/Re,Ce.eachBefore(function(fe,xe){return function(ke){ke.children&&Z(ke,ke.x0,fe*(ke.depth+1)/xe,ke.x1,fe*(ke.depth+2)/xe);var Ie=ke.x0,Fe=ke.y0,ze=ke.x1-Se,qe=ke.y1-Se;ze<Ie&&(Ie=ze=(Ie+ze)/2),qe<Fe&&(Fe=qe=(Fe+qe)/2),ke.x0=Ie,ke.y0=Fe,ke.x1=ze,ke.y1=qe}}(he,Re)),_e&&Ce.eachBefore(N),Ce}return Ae.round=function(Ce){return arguments.length?(_e=!!Ce,Ae):_e},Ae.size=function(Ce){return arguments.length?(se=+Ce[0],he=+Ce[1],Ae):[se,he]},Ae.padding=function(Ce){return arguments.length?(Se=+Ce,Ae):Se},Ae}var U="$",V={depth:-1},te={};function Q(se){return se.id}function J(se){return se.parentId}function X(){var se=Q,he=J;function Se(_e){var Ae,Ce,Re,fe,xe,ke,Ie,Fe=_e.length,ze=new Array(Fe),qe={};for(Ce=0;Ce<Fe;++Ce)Ae=_e[Ce],xe=ze[Ce]=new n(Ae),(ke=se(Ae,Ce,_e))!=null&&(ke+="")&&(qe[Ie=U+(xe.id=ke)]=Ie in qe?te:xe);for(Ce=0;Ce<Fe;++Ce)if(xe=ze[Ce],(ke=he(_e[Ce],Ce,_e))!=null&&(ke+="")){if(!(fe=qe[U+ke]))throw new Error("missing: "+ke);if(fe===te)throw new Error("ambiguous: "+ke);fe.children?fe.children.push(xe):fe.children=[xe],xe.parent=fe}else{if(Re)throw new Error("multiple roots");Re=xe}if(!Re)throw new Error("no root");if(Re.parent=V,Re.eachBefore(function(Ye){Ye.depth=Ye.parent.depth+1,--Fe}).eachBefore(i),Re.parent=null,Fe>0)throw new Error("cycle");return Re}return Se.id=function(_e){return arguments.length?(se=T(_e),Se):se},Se.parentId=function(_e){return arguments.length?(he=T(_e),Se):he},Se}function K(se,he){return se.parent===he.parent?1:2}function ee(se){var he=se.children;return he?he[0]:se.t}function re(se){var he=se.children;return he?he[he.length-1]:se.t}function ie(se,he,Se){var _e=Se/(he.i-se.i);he.c-=_e,he.s+=Se,se.c+=_e,he.z+=Se,he.m+=Se}function ae(se,he,Se){return se.a.parent===he.parent?se.a:Se}function ue(se,he){this._=se,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=he}function pe(){var se=K,he=1,Se=1,_e=null;function Ae(xe){var ke=function(ht){for(var mt,Mt,_t,it,st,St=new ue(ht,0),zt=[St];mt=zt.pop();)if(_t=mt._.children)for(mt.children=new Array(st=_t.length),it=st-1;it>=0;--it)zt.push(Mt=mt.children[it]=new ue(_t[it],it)),Mt.parent=mt;return(St.parent=new ue(null,0)).children=[St],St}(xe);if(ke.eachAfter(Ce),ke.parent.m=-ke.z,ke.eachBefore(Re),_e)xe.eachBefore(fe);else{var Ie=xe,Fe=xe,ze=xe;xe.eachBefore(function(ht){ht.x<Ie.x&&(Ie=ht),ht.x>Fe.x&&(Fe=ht),ht.depth>ze.depth&&(ze=ht)});var qe=Ie===Fe?1:se(Ie,Fe)/2,Ye=qe-Ie.x,Qe=he/(Fe.x+qe+Ye),ft=Se/(ze.depth||1);xe.eachBefore(function(ht){ht.x=(ht.x+Ye)*Qe,ht.y=ht.depth*ft})}return xe}function Ce(xe){var ke=xe.children,Ie=xe.parent.children,Fe=xe.i?Ie[xe.i-1]:null;if(ke){(function(qe){for(var Ye,Qe=0,ft=0,ht=qe.children,mt=ht.length;--mt>=0;)(Ye=ht[mt]).z+=Qe,Ye.m+=Qe,Qe+=Ye.s+(ft+=Ye.c)})(xe);var ze=(ke[0].z+ke[ke.length-1].z)/2;Fe?(xe.z=Fe.z+se(xe._,Fe._),xe.m=xe.z-ze):xe.z=ze}else Fe&&(xe.z=Fe.z+se(xe._,Fe._));xe.parent.A=function(qe,Ye,Qe){if(Ye){for(var ft,ht=qe,mt=qe,Mt=Ye,_t=ht.parent.children[0],it=ht.m,st=mt.m,St=Mt.m,zt=_t.m;Mt=re(Mt),ht=ee(ht),Mt&&ht;)_t=ee(_t),(mt=re(mt)).a=qe,(ft=Mt.z+St-ht.z-it+se(Mt._,ht._))>0&&(ie(ae(Mt,qe,Qe),qe,ft),it+=ft,st+=ft),St+=Mt.m,it+=ht.m,zt+=_t.m,st+=mt.m;Mt&&!re(mt)&&(mt.t=Mt,mt.m+=St-st),ht&&!ee(_t)&&(_t.t=ht,_t.m+=it-zt,Qe=qe)}return Qe}(xe,Fe,xe.parent.A||Ie[0])}function Re(xe){xe._.x=xe.z+xe.parent.m,xe.m+=xe.parent.m}function fe(xe){xe.x*=he,xe.y=xe.depth*Se}return Ae.separation=function(xe){return arguments.length?(se=xe,Ae):se},Ae.size=function(xe){return arguments.length?(_e=!1,he=+xe[0],Se=+xe[1],Ae):_e?null:[he,Se]},Ae.nodeSize=function(xe){return arguments.length?(_e=!0,he=+xe[0],Se=+xe[1],Ae):_e?[he,Se]:null},Ae}function de(se,he,Se,_e,Ae){for(var Ce,Re=se.children,fe=-1,xe=Re.length,ke=se.value&&(Ae-Se)/se.value;++fe<xe;)(Ce=Re[fe]).x0=he,Ce.x1=_e,Ce.y0=Se,Ce.y1=Se+=Ce.value*ke}ue.prototype=Object.create(n.prototype);var ye=(1+Math.sqrt(5))/2;function be(se,he,Se,_e,Ae,Ce){for(var Re,fe,xe,ke,Ie,Fe,ze,qe,Ye,Qe,ft,ht=[],mt=he.children,Mt=0,_t=0,it=mt.length,st=he.value;Mt<it;){xe=Ae-Se,ke=Ce-_e;do Ie=mt[_t++].value;while(!Ie&&_t<it);for(Fe=ze=Ie,ft=Ie*Ie*(Qe=Math.max(ke/xe,xe/ke)/(st*se)),Ye=Math.max(ze/ft,ft/Fe);_t<it;++_t){if(Ie+=fe=mt[_t].value,fe<Fe&&(Fe=fe),fe>ze&&(ze=fe),ft=Ie*Ie*Qe,(qe=Math.max(ze/ft,ft/Fe))>Ye){Ie-=fe;break}Ye=qe}ht.push(Re={value:Ie,dice:xe<ke,children:mt.slice(Mt,_t)}),Re.dice?Z(Re,Se,_e,Ae,st?_e+=ke*Ie/st:Ce):de(Re,Se,_e,st?Se+=xe*Ie/st:Ae,Ce),st-=Ie,Mt=_t}return ht}var me=function se(he){function Se(_e,Ae,Ce,Re,fe){be(he,_e,Ae,Ce,Re,fe)}return Se.ratio=function(_e){return se((_e=+_e)>1?_e:1)},Se}(ye);function Ee(){var se=me,he=!1,Se=1,_e=1,Ae=[0],Ce=E,Re=E,fe=E,xe=E,ke=E;function Ie(ze){return ze.x0=ze.y0=0,ze.x1=Se,ze.y1=_e,ze.eachBefore(Fe),Ae=[0],he&&ze.eachBefore(N),ze}function Fe(ze){var qe=Ae[ze.depth],Ye=ze.x0+qe,Qe=ze.y0+qe,ft=ze.x1-qe,ht=ze.y1-qe;ft<Ye&&(Ye=ft=(Ye+ft)/2),ht<Qe&&(Qe=ht=(Qe+ht)/2),ze.x0=Ye,ze.y0=Qe,ze.x1=ft,ze.y1=ht,ze.children&&(qe=Ae[ze.depth+1]=Ce(ze)/2,Ye+=ke(ze)-qe,Qe+=Re(ze)-qe,(ft-=fe(ze)-qe)<Ye&&(Ye=ft=(Ye+ft)/2),(ht-=xe(ze)-qe)<Qe&&(Qe=ht=(Qe+ht)/2),se(ze,Ye,Qe,ft,ht))}return Ie.round=function(ze){return arguments.length?(he=!!ze,Ie):he},Ie.size=function(ze){return arguments.length?(Se=+ze[0],_e=+ze[1],Ie):[Se,_e]},Ie.tile=function(ze){return arguments.length?(se=T(ze),Ie):se},Ie.padding=function(ze){return arguments.length?Ie.paddingInner(ze).paddingOuter(ze):Ie.paddingInner()},Ie.paddingInner=function(ze){return arguments.length?(Ce=typeof ze=="function"?ze:O(+ze),Ie):Ce},Ie.paddingOuter=function(ze){return arguments.length?Ie.paddingTop(ze).paddingRight(ze).paddingBottom(ze).paddingLeft(ze):Ie.paddingTop()},Ie.paddingTop=function(ze){return arguments.length?(Re=typeof ze=="function"?ze:O(+ze),Ie):Re},Ie.paddingRight=function(ze){return arguments.length?(fe=typeof ze=="function"?ze:O(+ze),Ie):fe},Ie.paddingBottom=function(ze){return arguments.length?(xe=typeof ze=="function"?ze:O(+ze),Ie):xe},Ie.paddingLeft=function(ze){return arguments.length?(ke=typeof ze=="function"?ze:O(+ze),Ie):ke},Ie}function Te(se,he,Se,_e,Ae){var Ce,Re,fe=se.children,xe=fe.length,ke=new Array(xe+1);for(ke[0]=Re=Ce=0;Ce<xe;++Ce)ke[Ce+1]=Re+=fe[Ce].value;(function Ie(Fe,ze,qe,Ye,Qe,ft,ht){if(Fe>=ze-1){var mt=fe[Fe];return mt.x0=Ye,mt.y0=Qe,mt.x1=ft,void(mt.y1=ht)}for(var Mt=ke[Fe],_t=qe/2+Mt,it=Fe+1,st=ze-1;it<st;){var St=it+st>>>1;ke[St]<_t?it=St+1:st=St}_t-ke[it-1]<ke[it]-_t&&Fe+1<it&&--it;var zt=ke[it]-Mt,Ft=qe-zt;if(ft-Ye>ht-Qe){var Pt=(Ye*Ft+ft*zt)/qe;Ie(Fe,it,zt,Ye,Qe,Pt,ht),Ie(it,ze,Ft,Pt,Qe,ft,ht)}else{var Ze=(Qe*Ft+ht*zt)/qe;Ie(Fe,it,zt,Ye,Qe,ft,Ze),Ie(it,ze,Ft,Ye,Ze,ft,ht)}})(0,xe,se.value,he,Se,_e,Ae)}function we(se,he,Se,_e,Ae){(1&se.depth?de:Z)(se,he,Se,_e,Ae)}var oe=function se(he){function Se(_e,Ae,Ce,Re,fe){if((xe=_e._squarify)&&xe.ratio===he)for(var xe,ke,Ie,Fe,ze,qe=-1,Ye=xe.length,Qe=_e.value;++qe<Ye;){for(Ie=(ke=xe[qe]).children,Fe=ke.value=0,ze=Ie.length;Fe<ze;++Fe)ke.value+=Ie[Fe].value;ke.dice?Z(ke,Ae,Ce,Re,Ce+=(fe-Ce)*ke.value/Qe):de(ke,Ae,Ce,Ae+=(Re-Ae)*ke.value/Qe,fe),Qe-=ke.value}else _e._squarify=xe=be(he,_e,Ae,Ce,Re,fe),xe.ratio=he}return Se.ratio=function(_e){return se((_e=+_e)>1?_e:1)},Se}(ye)},45879:function(q,C,e){e.d(C,{h5:function(){return p}});var M=Math.PI,k=2*M,a=1e-6,_=k-a;function b(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function h(){return new b}b.prototype=h.prototype={constructor:b,moveTo:function(c,x){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+x)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(c,x){this._+="L"+(this._x1=+c)+","+(this._y1=+x)},quadraticCurveTo:function(c,x,g,d){this._+="Q"+ +c+","+ +x+","+(this._x1=+g)+","+(this._y1=+d)},bezierCurveTo:function(c,x,g,d,v,y){this._+="C"+ +c+","+ +x+","+ +g+","+ +d+","+(this._x1=+v)+","+(this._y1=+y)},arcTo:function(c,x,g,d,v){c=+c,x=+x,g=+g,d=+d,v=+v;var y=this._x1,m=this._y1,w=g-c,f=d-x,S=y-c,T=m-x,E=S*S+T*T;if(v<0)throw new Error("negative radius: "+v);if(this._x1===null)this._+="M"+(this._x1=c)+","+(this._y1=x);else if(E>a)if(Math.abs(T*w-f*S)>a&&v){var O=g-y,P=d-m,I=w*w+f*f,z=O*O+P*P,j=Math.sqrt(I),R=Math.sqrt(E),N=v*Math.tan((M-Math.acos((I+E-z)/(2*j*R)))/2),Z=N/R,F=N/j;Math.abs(Z-1)>a&&(this._+="L"+(c+Z*S)+","+(x+Z*T)),this._+="A"+v+","+v+",0,0,"+ +(T*O>S*P)+","+(this._x1=c+F*w)+","+(this._y1=x+F*f)}else this._+="L"+(this._x1=c)+","+(this._y1=x)},arc:function(c,x,g,d,v,y){c=+c,x=+x,y=!!y;var m=(g=+g)*Math.cos(d),w=g*Math.sin(d),f=c+m,S=x+w,T=1^y,E=y?d-v:v-d;if(g<0)throw new Error("negative radius: "+g);this._x1===null?this._+="M"+f+","+S:(Math.abs(this._x1-f)>a||Math.abs(this._y1-S)>a)&&(this._+="L"+f+","+S),g&&(E<0&&(E=E%k+k),E>_?this._+="A"+g+","+g+",0,1,"+T+","+(c-m)+","+(x-w)+"A"+g+","+g+",0,1,"+T+","+(this._x1=f)+","+(this._y1=S):E>a&&(this._+="A"+g+","+g+",0,"+ +(E>=M)+","+T+","+(this._x1=c+g*Math.cos(v))+","+(this._y1=x+g*Math.sin(v))))},rect:function(c,x,g,d){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+x)+"h"+ +g+"v"+ +d+"h"+-g+"Z"},toString:function(){return this._}};var o=h,t=Array.prototype.slice;function i(c){return function(){return c}}function n(c){return c[0]}function r(c){return c[1]}function l(c){return c.source}function s(c){return c.target}function u(c,x,g,d,v){c.moveTo(x,g),c.bezierCurveTo(x=(x+d)/2,g,x,v,d,v)}function p(){return function(c){var x=l,g=s,d=n,v=r,y=null;function m(){var w,f=t.call(arguments),S=x.apply(this,f),T=g.apply(this,f);if(y||(y=w=o()),c(y,+d.apply(this,(f[0]=S,f)),+v.apply(this,f),+d.apply(this,(f[0]=T,f)),+v.apply(this,f)),w)return y=null,w+""||null}return m.source=function(w){return arguments.length?(x=w,m):x},m.target=function(w){return arguments.length?(g=w,m):g},m.x=function(w){return arguments.length?(d=typeof w=="function"?w:i(+w),m):d},m.y=function(w){return arguments.length?(v=typeof w=="function"?w:i(+w),m):v},m.context=function(w){return arguments.length?(y=w??null,m):y},m}(u)}},84096:function(q,C,e){e.d(C,{i$:function(){return l},Dq:function(){return n},g0:function(){return s}});var M=e(58176),k=e(48480),a=e(59879),_=e(82301),b=e(34823),h=e(79791);function o(it){if(0<=it.y&&it.y<100){var st=new Date(-1,it.m,it.d,it.H,it.M,it.S,it.L);return st.setFullYear(it.y),st}return new Date(it.y,it.m,it.d,it.H,it.M,it.S,it.L)}function t(it){if(0<=it.y&&it.y<100){var st=new Date(Date.UTC(-1,it.m,it.d,it.H,it.M,it.S,it.L));return st.setUTCFullYear(it.y),st}return new Date(Date.UTC(it.y,it.m,it.d,it.H,it.M,it.S,it.L))}function i(it,st,St){return{y:it,m:st,d:St,H:0,M:0,S:0,L:0}}function n(it){var st=it.dateTime,St=it.date,zt=it.time,Ft=it.periods,Pt=it.days,Ze=it.shortDays,Je=it.months,Ue=it.shortMonths,Xe=v(Ft),lt=y(Ft),ot=v(Pt),Be=y(Pt),Ne=v(Ze),at=y(Ze),$e=v(Je),gt=y(Je),yt=v(Ue),xt=y(Ue),dt={a:function(Bt){return Ze[Bt.getDay()]},A:function(Bt){return Pt[Bt.getDay()]},b:function(Bt){return Ue[Bt.getMonth()]},B:function(Bt){return Je[Bt.getMonth()]},c:null,d:X,e:X,f:ae,H:K,I:ee,j:re,L:ie,m:ue,M:pe,p:function(Bt){return Ft[+(Bt.getHours()>=12)]},q:function(Bt){return 1+~~(Bt.getMonth()/3)},Q:Mt,s:_t,S:de,u:ye,U:be,V:me,w:Ee,W:Te,x:null,X:null,y:we,Y:oe,Z:se,"%":mt},Lt={a:function(Bt){return Ze[Bt.getUTCDay()]},A:function(Bt){return Pt[Bt.getUTCDay()]},b:function(Bt){return Ue[Bt.getUTCMonth()]},B:function(Bt){return Je[Bt.getUTCMonth()]},c:null,d:he,e:he,f:Re,H:Se,I:_e,j:Ae,L:Ce,m:fe,M:xe,p:function(Bt){return Ft[+(Bt.getUTCHours()>=12)]},q:function(Bt){return 1+~~(Bt.getUTCMonth()/3)},Q:Mt,s:_t,S:ke,u:Ie,U:Fe,V:ze,w:qe,W:Ye,x:null,X:null,y:Qe,Y:ft,Z:ht,"%":mt},Tt={a:function(Bt,Xt,an){var Wt=Ne.exec(Xt.slice(an));return Wt?(Bt.w=at[Wt[0].toLowerCase()],an+Wt[0].length):-1},A:function(Bt,Xt,an){var Wt=ot.exec(Xt.slice(an));return Wt?(Bt.w=Be[Wt[0].toLowerCase()],an+Wt[0].length):-1},b:function(Bt,Xt,an){var Wt=yt.exec(Xt.slice(an));return Wt?(Bt.m=xt[Wt[0].toLowerCase()],an+Wt[0].length):-1},B:function(Bt,Xt,an){var Wt=$e.exec(Xt.slice(an));return Wt?(Bt.m=gt[Wt[0].toLowerCase()],an+Wt[0].length):-1},c:function(Bt,Xt,an){return Dt(Bt,st,Xt,an)},d:j,e:j,f:V,H:N,I:N,j:R,L:U,m:z,M:Z,p:function(Bt,Xt,an){var Wt=Xe.exec(Xt.slice(an));return Wt?(Bt.p=lt[Wt[0].toLowerCase()],an+Wt[0].length):-1},q:I,Q,s:J,S:F,u:w,U:f,V:S,w:m,W:T,x:function(Bt,Xt,an){return Dt(Bt,St,Xt,an)},X:function(Bt,Xt,an){return Dt(Bt,zt,Xt,an)},y:O,Y:E,Z:P,"%":te};function bt(Bt,Xt){return function(an){var Wt,Vt,on,Sn=[],Ln=-1,fn=0,Zt=Bt.length;for(an instanceof Date||(an=new Date(+an));++Ln<Zt;)Bt.charCodeAt(Ln)===37&&(Sn.push(Bt.slice(fn,Ln)),(Vt=u[Wt=Bt.charAt(++Ln)])!=null?Wt=Bt.charAt(++Ln):Vt=Wt==="e"?" ":"0",(on=Xt[Wt])&&(Wt=on(an,Vt)),Sn.push(Wt),fn=Ln+1);return Sn.push(Bt.slice(fn,Ln)),Sn.join("")}}function Ct(Bt,Xt){return function(an){var Wt,Vt,on=i(1900,void 0,1);if(Dt(on,Bt,an+="",0)!=an.length)return null;if("Q"in on)return new Date(on.Q);if("s"in on)return new Date(1e3*on.s+("L"in on?on.L:0));if(Xt&&!("Z"in on)&&(on.Z=0),"p"in on&&(on.H=on.H%12+12*on.p),on.m===void 0&&(on.m="q"in on?on.q:0),"V"in on){if(on.V<1||on.V>53)return null;"w"in on||(on.w=1),"Z"in on?(Vt=(Wt=t(i(on.y,0,1))).getUTCDay(),Wt=Vt>4||Vt===0?M.l6.ceil(Wt):(0,M.l6)(Wt),Wt=k.Z.offset(Wt,7*(on.V-1)),on.y=Wt.getUTCFullYear(),on.m=Wt.getUTCMonth(),on.d=Wt.getUTCDate()+(on.w+6)%7):(Vt=(Wt=o(i(on.y,0,1))).getDay(),Wt=Vt>4||Vt===0?a.wA.ceil(Wt):(0,a.wA)(Wt),Wt=_.Z.offset(Wt,7*(on.V-1)),on.y=Wt.getFullYear(),on.m=Wt.getMonth(),on.d=Wt.getDate()+(on.w+6)%7)}else("W"in on||"U"in on)&&("w"in on||(on.w="u"in on?on.u%7:"W"in on?1:0),Vt="Z"in on?t(i(on.y,0,1)).getUTCDay():o(i(on.y,0,1)).getDay(),on.m=0,on.d="W"in on?(on.w+6)%7+7*on.W-(Vt+5)%7:on.w+7*on.U-(Vt+6)%7);return"Z"in on?(on.H+=on.Z/100|0,on.M+=on.Z%100,t(on)):o(on)}}function Dt(Bt,Xt,an,Wt){for(var Vt,on,Sn=0,Ln=Xt.length,fn=an.length;Sn<Ln;){if(Wt>=fn)return-1;if((Vt=Xt.charCodeAt(Sn++))===37){if(Vt=Xt.charAt(Sn++),!(on=Tt[Vt in u?Xt.charAt(Sn++):Vt])||(Wt=on(Bt,an,Wt))<0)return-1}else if(Vt!=an.charCodeAt(Wt++))return-1}return Wt}return dt.x=bt(St,dt),dt.X=bt(zt,dt),dt.c=bt(st,dt),Lt.x=bt(St,Lt),Lt.X=bt(zt,Lt),Lt.c=bt(st,Lt),{format:function(Bt){var Xt=bt(Bt+="",dt);return Xt.toString=function(){return Bt},Xt},parse:function(Bt){var Xt=Ct(Bt+="",!1);return Xt.toString=function(){return Bt},Xt},utcFormat:function(Bt){var Xt=bt(Bt+="",Lt);return Xt.toString=function(){return Bt},Xt},utcParse:function(Bt){var Xt=Ct(Bt+="",!0);return Xt.toString=function(){return Bt},Xt}}}var r,l,s,u={"-":"",_:" ",0:"0"},p=/^\s*\d+/,c=/^%/,x=/[\\^$*+?|[\]().{}]/g;function g(it,st,St){var zt=it<0?"-":"",Ft=(zt?-it:it)+"",Pt=Ft.length;return zt+(Pt<St?new Array(St-Pt+1).join(st)+Ft:Ft)}function d(it){return it.replace(x,"\\$&")}function v(it){return new RegExp("^(?:"+it.map(d).join("|")+")","i")}function y(it){for(var st={},St=-1,zt=it.length;++St<zt;)st[it[St].toLowerCase()]=St;return st}function m(it,st,St){var zt=p.exec(st.slice(St,St+1));return zt?(it.w=+zt[0],St+zt[0].length):-1}function w(it,st,St){var zt=p.exec(st.slice(St,St+1));return zt?(it.u=+zt[0],St+zt[0].length):-1}function f(it,st,St){var zt=p.exec(st.slice(St,St+2));return zt?(it.U=+zt[0],St+zt[0].length):-1}function S(it,st,St){var zt=p.exec(st.slice(St,St+2));return zt?(it.V=+zt[0],St+zt[0].length):-1}function T(it,st,St){var zt=p.exec(st.slice(St,St+2));return zt?(it.W=+zt[0],St+zt[0].length):-1}function E(it,st,St){var zt=p.exec(st.slice(St,St+4));return zt?(it.y=+zt[0],St+zt[0].length):-1}function O(it,st,St){var zt=p.exec(st.slice(St,St+2));return zt?(it.y=+zt[0]+(+zt[0]>68?1900:2e3),St+zt[0].length):-1}function P(it,st,St){var zt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(st.slice(St,St+6));return zt?(it.Z=zt[1]?0:-(zt[2]+(zt[3]||"00")),St+zt[0].length):-1}function I(it,st,St){var zt=p.exec(st.slice(St,St+1));return zt?(it.q=3*zt[0]-3,St+zt[0].length):-1}function z(it,st,St){var zt=p.exec(st.slice(St,St+2));return zt?(it.m=zt[0]-1,St+zt[0].length):-1}function j(it,st,St){var zt=p.exec(st.slice(St,St+2));return zt?(it.d=+zt[0],St+zt[0].length):-1}function R(it,st,St){var zt=p.exec(st.slice(St,St+3));return zt?(it.m=0,it.d=+zt[0],St+zt[0].length):-1}function N(it,st,St){var zt=p.exec(st.slice(St,St+2));return zt?(it.H=+zt[0],St+zt[0].length):-1}function Z(it,st,St){var zt=p.exec(st.slice(St,St+2));return zt?(it.M=+zt[0],St+zt[0].length):-1}function F(it,st,St){var zt=p.exec(st.slice(St,St+2));return zt?(it.S=+zt[0],St+zt[0].length):-1}function U(it,st,St){var zt=p.exec(st.slice(St,St+3));return zt?(it.L=+zt[0],St+zt[0].length):-1}function V(it,st,St){var zt=p.exec(st.slice(St,St+6));return zt?(it.L=Math.floor(zt[0]/1e3),St+zt[0].length):-1}function te(it,st,St){var zt=c.exec(st.slice(St,St+1));return zt?St+zt[0].length:-1}function Q(it,st,St){var zt=p.exec(st.slice(St));return zt?(it.Q=+zt[0],St+zt[0].length):-1}function J(it,st,St){var zt=p.exec(st.slice(St));return zt?(it.s=+zt[0],St+zt[0].length):-1}function X(it,st){return g(it.getDate(),st,2)}function K(it,st){return g(it.getHours(),st,2)}function ee(it,st){return g(it.getHours()%12||12,st,2)}function re(it,st){return g(1+_.Z.count((0,b.Z)(it),it),st,3)}function ie(it,st){return g(it.getMilliseconds(),st,3)}function ae(it,st){return ie(it,st)+"000"}function ue(it,st){return g(it.getMonth()+1,st,2)}function pe(it,st){return g(it.getMinutes(),st,2)}function de(it,st){return g(it.getSeconds(),st,2)}function ye(it){var st=it.getDay();return st===0?7:st}function be(it,st){return g(a.OM.count((0,b.Z)(it)-1,it),st,2)}function me(it,st){var St=it.getDay();return it=St>=4||St===0?(0,a.bL)(it):a.bL.ceil(it),g(a.bL.count((0,b.Z)(it),it)+((0,b.Z)(it).getDay()===4),st,2)}function Ee(it){return it.getDay()}function Te(it,st){return g(a.wA.count((0,b.Z)(it)-1,it),st,2)}function we(it,st){return g(it.getFullYear()%100,st,2)}function oe(it,st){return g(it.getFullYear()%1e4,st,4)}function se(it){var st=it.getTimezoneOffset();return(st>0?"-":(st*=-1,"+"))+g(st/60|0,"0",2)+g(st%60,"0",2)}function he(it,st){return g(it.getUTCDate(),st,2)}function Se(it,st){return g(it.getUTCHours(),st,2)}function _e(it,st){return g(it.getUTCHours()%12||12,st,2)}function Ae(it,st){return g(1+k.Z.count((0,h.Z)(it),it),st,3)}function Ce(it,st){return g(it.getUTCMilliseconds(),st,3)}function Re(it,st){return Ce(it,st)+"000"}function fe(it,st){return g(it.getUTCMonth()+1,st,2)}function xe(it,st){return g(it.getUTCMinutes(),st,2)}function ke(it,st){return g(it.getUTCSeconds(),st,2)}function Ie(it){var st=it.getUTCDay();return st===0?7:st}function Fe(it,st){return g(M.Ox.count((0,h.Z)(it)-1,it),st,2)}function ze(it,st){var St=it.getUTCDay();return it=St>=4||St===0?(0,M.hB)(it):M.hB.ceil(it),g(M.hB.count((0,h.Z)(it),it)+((0,h.Z)(it).getUTCDay()===4),st,2)}function qe(it){return it.getUTCDay()}function Ye(it,st){return g(M.l6.count((0,h.Z)(it)-1,it),st,2)}function Qe(it,st){return g(it.getUTCFullYear()%100,st,2)}function ft(it,st){return g(it.getUTCFullYear()%1e4,st,4)}function ht(){return"+0000"}function mt(){return"%"}function Mt(it){return+it}function _t(it){return Math.floor(+it/1e3)}r=n({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),l=r.format,r.parse,s=r.utcFormat,r.utcParse},82301:function(q,C,e){e.d(C,{a:function(){return _}});var M=e(30052),k=e(54263),a=(0,M.Z)(function(b){b.setHours(0,0,0,0)},function(b,h){b.setDate(b.getDate()+h)},function(b,h){return(h-b-(h.getTimezoneOffset()-b.getTimezoneOffset())*k.yB)/k.UD},function(b){return b.getDate()-1});C.Z=a;var _=a.range},54263:function(q,C,e){e.d(C,{UD:function(){return _},Y2:function(){return a},Ym:function(){return M},iM:function(){return b},yB:function(){return k}});var M=1e3,k=6e4,a=36e5,_=864e5,b=6048e5},81041:function(q,C,e){e.r(C),e.d(C,{timeDay:function(){return p.Z},timeDays:function(){return p.a},timeFriday:function(){return c.mC},timeFridays:function(){return c.b$},timeHour:function(){return s},timeHours:function(){return u},timeInterval:function(){return M.Z},timeMillisecond:function(){return a},timeMilliseconds:function(){return _},timeMinute:function(){return n},timeMinutes:function(){return r},timeMonday:function(){return c.wA},timeMondays:function(){return c.bJ},timeMonth:function(){return g},timeMonths:function(){return d},timeSaturday:function(){return c.EY},timeSaturdays:function(){return c.Ff},timeSecond:function(){return o},timeSeconds:function(){return t},timeSunday:function(){return c.OM},timeSundays:function(){return c.vm},timeThursday:function(){return c.bL},timeThursdays:function(){return c.$t},timeTuesday:function(){return c.sy},timeTuesdays:function(){return c.aU},timeWednesday:function(){return c.zg},timeWednesdays:function(){return c.Ld},timeWeek:function(){return c.OM},timeWeeks:function(){return c.vm},timeYear:function(){return v.Z},timeYears:function(){return v.g},utcDay:function(){return E.Z},utcDays:function(){return E.y},utcFriday:function(){return O.QQ},utcFridays:function(){return O.fz},utcHour:function(){return S},utcHours:function(){return T},utcMillisecond:function(){return a},utcMilliseconds:function(){return _},utcMinute:function(){return m},utcMinutes:function(){return w},utcMonday:function(){return O.l6},utcMondays:function(){return O.$3},utcMonth:function(){return I},utcMonths:function(){return z},utcSaturday:function(){return O.g4},utcSaturdays:function(){return O.Q_},utcSecond:function(){return o},utcSeconds:function(){return t},utcSunday:function(){return O.Ox},utcSundays:function(){return O.SU},utcThursday:function(){return O.hB},utcThursdays:function(){return O.xj},utcTuesday:function(){return O.J1},utcTuesdays:function(){return O.DK},utcWednesday:function(){return O.b3},utcWednesdays:function(){return O.uy},utcWeek:function(){return O.Ox},utcWeeks:function(){return O.SU},utcYear:function(){return j.Z},utcYears:function(){return j.D}});var M=e(30052),k=(0,M.Z)(function(){},function(R,N){R.setTime(+R+N)},function(R,N){return N-R});k.every=function(R){return R=Math.floor(R),isFinite(R)&&R>0?R>1?(0,M.Z)(function(N){N.setTime(Math.floor(N/R)*R)},function(N,Z){N.setTime(+N+Z*R)},function(N,Z){return(Z-N)/R}):k:null};var a=k,_=k.range,b=e(54263),h=(0,M.Z)(function(R){R.setTime(R-R.getMilliseconds())},function(R,N){R.setTime(+R+N*b.Ym)},function(R,N){return(N-R)/b.Ym},function(R){return R.getUTCSeconds()}),o=h,t=h.range,i=(0,M.Z)(function(R){R.setTime(R-R.getMilliseconds()-R.getSeconds()*b.Ym)},function(R,N){R.setTime(+R+N*b.yB)},function(R,N){return(N-R)/b.yB},function(R){return R.getMinutes()}),n=i,r=i.range,l=(0,M.Z)(function(R){R.setTime(R-R.getMilliseconds()-R.getSeconds()*b.Ym-R.getMinutes()*b.yB)},function(R,N){R.setTime(+R+N*b.Y2)},function(R,N){return(N-R)/b.Y2},function(R){return R.getHours()}),s=l,u=l.range,p=e(82301),c=e(59879),x=(0,M.Z)(function(R){R.setDate(1),R.setHours(0,0,0,0)},function(R,N){R.setMonth(R.getMonth()+N)},function(R,N){return N.getMonth()-R.getMonth()+12*(N.getFullYear()-R.getFullYear())},function(R){return R.getMonth()}),g=x,d=x.range,v=e(34823),y=(0,M.Z)(function(R){R.setUTCSeconds(0,0)},function(R,N){R.setTime(+R+N*b.yB)},function(R,N){return(N-R)/b.yB},function(R){return R.getUTCMinutes()}),m=y,w=y.range,f=(0,M.Z)(function(R){R.setUTCMinutes(0,0,0)},function(R,N){R.setTime(+R+N*b.Y2)},function(R,N){return(N-R)/b.Y2},function(R){return R.getUTCHours()}),S=f,T=f.range,E=e(48480),O=e(58176),P=(0,M.Z)(function(R){R.setUTCDate(1),R.setUTCHours(0,0,0,0)},function(R,N){R.setUTCMonth(R.getUTCMonth()+N)},function(R,N){return N.getUTCMonth()-R.getUTCMonth()+12*(N.getUTCFullYear()-R.getUTCFullYear())},function(R){return R.getUTCMonth()}),I=P,z=P.range,j=e(79791)},30052:function(q,C,e){e.d(C,{Z:function(){return a}});var M=new Date,k=new Date;function a(_,b,h,o){function t(i){return _(i=arguments.length===0?new Date:new Date(+i)),i}return t.floor=function(i){return _(i=new Date(+i)),i},t.ceil=function(i){return _(i=new Date(i-1)),b(i,1),_(i),i},t.round=function(i){var n=t(i),r=t.ceil(i);return i-n<r-i?n:r},t.offset=function(i,n){return b(i=new Date(+i),n==null?1:Math.floor(n)),i},t.range=function(i,n,r){var l,s=[];if(i=t.ceil(i),r=r==null?1:Math.floor(r),!(i<n&&r>0))return s;do s.push(l=new Date(+i)),b(i,r),_(i);while(l<i&&i<n);return s},t.filter=function(i){return a(function(n){if(n>=n)for(;_(n),!i(n);)n.setTime(n-1)},function(n,r){if(n>=n)if(r<0)for(;++r<=0;)for(;b(n,-1),!i(n););else for(;--r>=0;)for(;b(n,1),!i(n););})},h&&(t.count=function(i,n){return M.setTime(+i),k.setTime(+n),_(M),_(k),Math.floor(h(M,k))},t.every=function(i){return i=Math.floor(i),isFinite(i)&&i>0?i>1?t.filter(o?function(n){return o(n)%i==0}:function(n){return t.count(0,n)%i==0}):t:null}),t}},48480:function(q,C,e){e.d(C,{y:function(){return _}});var M=e(30052),k=e(54263),a=(0,M.Z)(function(b){b.setUTCHours(0,0,0,0)},function(b,h){b.setUTCDate(b.getUTCDate()+h)},function(b,h){return(h-b)/k.UD},function(b){return b.getUTCDate()-1});C.Z=a;var _=a.range},58176:function(q,C,e){e.d(C,{$3:function(){return l},DK:function(){return s},J1:function(){return h},Ox:function(){return _},QQ:function(){return i},Q_:function(){return x},SU:function(){return r},b3:function(){return o},fz:function(){return c},g4:function(){return n},hB:function(){return t},l6:function(){return b},uy:function(){return u},xj:function(){return p}});var M=e(30052),k=e(54263);function a(g){return(0,M.Z)(function(d){d.setUTCDate(d.getUTCDate()-(d.getUTCDay()+7-g)%7),d.setUTCHours(0,0,0,0)},function(d,v){d.setUTCDate(d.getUTCDate()+7*v)},function(d,v){return(v-d)/k.iM})}var _=a(0),b=a(1),h=a(2),o=a(3),t=a(4),i=a(5),n=a(6),r=_.range,l=b.range,s=h.range,u=o.range,p=t.range,c=i.range,x=n.range},79791:function(q,C,e){e.d(C,{D:function(){return a}});var M=e(30052),k=(0,M.Z)(function(_){_.setUTCMonth(0,1),_.setUTCHours(0,0,0,0)},function(_,b){_.setUTCFullYear(_.getUTCFullYear()+b)},function(_,b){return b.getUTCFullYear()-_.getUTCFullYear()},function(_){return _.getUTCFullYear()});k.every=function(_){return isFinite(_=Math.floor(_))&&_>0?(0,M.Z)(function(b){b.setUTCFullYear(Math.floor(b.getUTCFullYear()/_)*_),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},function(b,h){b.setUTCFullYear(b.getUTCFullYear()+h*_)}):null},C.Z=k;var a=k.range},59879:function(q,C,e){e.d(C,{$t:function(){return p},EY:function(){return n},Ff:function(){return x},Ld:function(){return u},OM:function(){return _},aU:function(){return s},b$:function(){return c},bJ:function(){return l},bL:function(){return t},mC:function(){return i},sy:function(){return h},vm:function(){return r},wA:function(){return b},zg:function(){return o}});var M=e(30052),k=e(54263);function a(g){return(0,M.Z)(function(d){d.setDate(d.getDate()-(d.getDay()+7-g)%7),d.setHours(0,0,0,0)},function(d,v){d.setDate(d.getDate()+7*v)},function(d,v){return(v-d-(v.getTimezoneOffset()-d.getTimezoneOffset())*k.yB)/k.iM})}var _=a(0),b=a(1),h=a(2),o=a(3),t=a(4),i=a(5),n=a(6),r=_.range,l=b.range,s=h.range,u=o.range,p=t.range,c=i.range,x=n.range},34823:function(q,C,e){e.d(C,{g:function(){return a}});var M=e(30052),k=(0,M.Z)(function(_){_.setMonth(0,1),_.setHours(0,0,0,0)},function(_,b){_.setFullYear(_.getFullYear()+b)},function(_,b){return b.getFullYear()-_.getFullYear()},function(_){return _.getFullYear()});k.every=function(_){return isFinite(_=Math.floor(_))&&_>0?(0,M.Z)(function(b){b.setFullYear(Math.floor(b.getFullYear()/_)*_),b.setMonth(0,1),b.setHours(0,0,0,0)},function(b,h){b.setFullYear(b.getFullYear()+h*_)}):null},C.Z=k;var a=k.range},17045:function(q,C,e){var M=e(8709),k=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,_=Array.prototype.concat,b=Object.defineProperty,h=e(55622)(),o=b&&h,t=function(n,r,l,s){if(r in n){if(s===!0){if(n[r]===l)return}else if(typeof(u=s)!="function"||a.call(u)!=="[object Function]"||!s())return}var u;o?b(n,r,{configurable:!0,enumerable:!1,value:l,writable:!0}):n[r]=l},i=function(n,r){var l=arguments.length>2?arguments[2]:{},s=M(r);k&&(s=_.call(s,Object.getOwnPropertySymbols(r)));for(var u=0;u<s.length;u+=1)t(n,s[u],r[s[u]],l[s[u]])};i.supportsDescriptors=!!o,q.exports=i},46775:function(q){q.exports=function(){for(var C=0;C<arguments.length;C++)if(arguments[C]!==void 0)return arguments[C]}},53545:function(q){q.exports=M;var C=(M.canvas=document.createElement("canvas")).getContext("2d"),e=k([32,126]);function M(a,_){Array.isArray(a)&&(a=a.join(", "));var b,h={},o=16,t=.05;_&&(_.length===2&&typeof _[0]=="number"?b=k(_):Array.isArray(_)?b=_:(_.o?b=k(_.o):_.pairs&&(b=_.pairs),_.fontSize&&(o=_.fontSize),_.threshold!=null&&(t=_.threshold))),b||(b=e),C.font=o+"px "+a;for(var i=0;i<b.length;i++){var n=b[i],r=C.measureText(n[0]).width+C.measureText(n[1]).width,l=C.measureText(n).width;if(Math.abs(r-l)>o*t){var s=(l-r)/o;h[n]=1e3*s}}return h}function k(a){for(var _=[],b=a[0];b<=a[1];b++)for(var h=String.fromCharCode(b),o=a[0];o<a[1];o++){var t=h+String.fromCharCode(o);_.push(t)}return _}M.createPairs=k,M.ascii=e},31457:function(q,C,e){var M=e(65185),k=e(18625),a={M:"moveTo",C:"bezierCurveTo"};q.exports=function(_,b){_.beginPath(),k(M(b)).forEach(function(h){var o=h[0],t=h.slice(1);_[a[o]].apply(_,t)}),_.closePath()}},90660:function(q){q.exports=function(C){switch(C){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(q){function C(e,M,k){var a=0|e[k];if(a<=0)return[];var _,b=new Array(a);if(k===e.length-1)for(_=0;_<a;++_)b[_]=M;else for(_=0;_<a;++_)b[_]=C(e,M,k+1);return b}q.exports=function(e,M){switch(M===void 0&&(M=0),typeof e){case"number":if(e>0)return function(k,a){var _,b;for(_=new Array(k),b=0;b<k;++b)_[b]=a;return _}(0|e,M);break;case"object":if(typeof e.length=="number")return C(e,M,0)}return[]}},11474:function(q){function C(S,T,E){E=E||2;var O,P,I,z,j,R,N,Z=T&&T.length,F=Z?T[0]*E:S.length,U=e(S,0,F,E,!0),V=[];if(!U||U.next===U.prev)return V;if(Z&&(U=function(Q,J,X,K){var ee,re,ie,ae=[];for(ee=0,re=J.length;ee<re;ee++)(ie=e(Q,J[ee]*K,ee<re-1?J[ee+1]*K:Q.length,K,!1))===ie.next&&(ie.steiner=!0),ae.push(r(ie));for(ae.sort(o),ee=0;ee<ae.length;ee++)t(ae[ee],X),X=M(X,X.next);return X}(S,T,U,E)),S.length>80*E){O=I=S[0],P=z=S[1];for(var te=E;te<F;te+=E)(j=S[te])<O&&(O=j),(R=S[te+1])<P&&(P=R),j>I&&(I=j),R>z&&(z=R);N=(N=Math.max(I-O,z-P))!==0?1/N:0}return k(U,V,E,O,P,N),V}function e(S,T,E,O,P){var I,z;if(P===f(S,T,E,O)>0)for(I=T;I<E;I+=O)z=y(I,S[I],S[I+1],z);else for(I=E-O;I>=T;I-=O)z=y(I,S[I],S[I+1],z);return z&&p(z,z.next)&&(m(z),z=z.next),z}function M(S,T){if(!S)return S;T||(T=S);var E,O=S;do if(E=!1,O.steiner||!p(O,O.next)&&u(O.prev,O,O.next)!==0)O=O.next;else{if(m(O),(O=T=O.prev)===O.next)break;E=!0}while(E||O!==T);return T}function k(S,T,E,O,P,I,z){if(S){!z&&I&&function(Z,F,U,V){var te=Z;do te.z===null&&(te.z=n(te.x,te.y,F,U,V)),te.prevZ=te.prev,te.nextZ=te.next,te=te.next;while(te!==Z);te.prevZ.nextZ=null,te.prevZ=null,function(Q){var J,X,K,ee,re,ie,ae,ue,pe=1;do{for(X=Q,Q=null,re=null,ie=0;X;){for(ie++,K=X,ae=0,J=0;J<pe&&(ae++,K=K.nextZ);J++);for(ue=pe;ae>0||ue>0&&K;)ae!==0&&(ue===0||!K||X.z<=K.z)?(ee=X,X=X.nextZ,ae--):(ee=K,K=K.nextZ,ue--),re?re.nextZ=ee:Q=ee,ee.prevZ=re,re=ee;X=K}re.nextZ=null,pe*=2}while(ie>1)}(te)}(S,O,P,I);for(var j,R,N=S;S.prev!==S.next;)if(j=S.prev,R=S.next,I?_(S,O,P,I):a(S))T.push(j.i/E),T.push(S.i/E),T.push(R.i/E),m(S),S=R.next,N=R.next;else if((S=R)===N){z?z===1?k(S=b(M(S),T,E),T,E,O,P,I,2):z===2&&h(S,T,E,O,P,I):k(M(S),T,E,O,P,I,1);break}}}function a(S){var T=S.prev,E=S,O=S.next;if(u(T,E,O)>=0)return!1;for(var P=S.next.next;P!==S.prev;){if(l(T.x,T.y,E.x,E.y,O.x,O.y,P.x,P.y)&&u(P.prev,P,P.next)>=0)return!1;P=P.next}return!0}function _(S,T,E,O){var P=S.prev,I=S,z=S.next;if(u(P,I,z)>=0)return!1;for(var j=P.x<I.x?P.x<z.x?P.x:z.x:I.x<z.x?I.x:z.x,R=P.y<I.y?P.y<z.y?P.y:z.y:I.y<z.y?I.y:z.y,N=P.x>I.x?P.x>z.x?P.x:z.x:I.x>z.x?I.x:z.x,Z=P.y>I.y?P.y>z.y?P.y:z.y:I.y>z.y?I.y:z.y,F=n(j,R,T,E,O),U=n(N,Z,T,E,O),V=S.prevZ,te=S.nextZ;V&&V.z>=F&&te&&te.z<=U;){if(V!==S.prev&&V!==S.next&&l(P.x,P.y,I.x,I.y,z.x,z.y,V.x,V.y)&&u(V.prev,V,V.next)>=0||(V=V.prevZ,te!==S.prev&&te!==S.next&&l(P.x,P.y,I.x,I.y,z.x,z.y,te.x,te.y)&&u(te.prev,te,te.next)>=0))return!1;te=te.nextZ}for(;V&&V.z>=F;){if(V!==S.prev&&V!==S.next&&l(P.x,P.y,I.x,I.y,z.x,z.y,V.x,V.y)&&u(V.prev,V,V.next)>=0)return!1;V=V.prevZ}for(;te&&te.z<=U;){if(te!==S.prev&&te!==S.next&&l(P.x,P.y,I.x,I.y,z.x,z.y,te.x,te.y)&&u(te.prev,te,te.next)>=0)return!1;te=te.nextZ}return!0}function b(S,T,E){var O=S;do{var P=O.prev,I=O.next.next;!p(P,I)&&c(P,O,O.next,I)&&d(P,I)&&d(I,P)&&(T.push(P.i/E),T.push(O.i/E),T.push(I.i/E),m(O),m(O.next),O=S=I),O=O.next}while(O!==S);return M(O)}function h(S,T,E,O,P,I){var z=S;do{for(var j=z.next.next;j!==z.prev;){if(z.i!==j.i&&s(z,j)){var R=v(z,j);return z=M(z,z.next),R=M(R,R.next),k(z,T,E,O,P,I),void k(R,T,E,O,P,I)}j=j.next}z=z.next}while(z!==S)}function o(S,T){return S.x-T.x}function t(S,T){if(T=function(O,P){var I,z=P,j=O.x,R=O.y,N=-1/0;do{if(R<=z.y&&R>=z.next.y&&z.next.y!==z.y){var Z=z.x+(R-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(Z<=j&&Z>N){if(N=Z,Z===j){if(R===z.y)return z;if(R===z.next.y)return z.next}I=z.x<z.next.x?z:z.next}}z=z.next}while(z!==P);if(!I)return null;if(j===N)return I;var F,U=I,V=I.x,te=I.y,Q=1/0;z=I;do j>=z.x&&z.x>=V&&j!==z.x&&l(R<te?j:N,R,V,te,R<te?N:j,R,z.x,z.y)&&(F=Math.abs(R-z.y)/(j-z.x),d(z,O)&&(F<Q||F===Q&&(z.x>I.x||z.x===I.x&&i(I,z)))&&(I=z,Q=F)),z=z.next;while(z!==U);return I}(S,T),T){var E=v(T,S);M(T,T.next),M(E,E.next)}}function i(S,T){return u(S.prev,S,T.prev)<0&&u(T.next,S,S.next)<0}function n(S,T,E,O,P){return(S=1431655765&((S=858993459&((S=252645135&((S=16711935&((S=32767*(S-E)*P)|S<<8))|S<<4))|S<<2))|S<<1))|(T=1431655765&((T=858993459&((T=252645135&((T=16711935&((T=32767*(T-O)*P)|T<<8))|T<<4))|T<<2))|T<<1))<<1}function r(S){var T=S,E=S;do(T.x<E.x||T.x===E.x&&T.y<E.y)&&(E=T),T=T.next;while(T!==S);return E}function l(S,T,E,O,P,I,z,j){return(P-z)*(T-j)-(S-z)*(I-j)>=0&&(S-z)*(O-j)-(E-z)*(T-j)>=0&&(E-z)*(I-j)-(P-z)*(O-j)>=0}function s(S,T){return S.next.i!==T.i&&S.prev.i!==T.i&&!function(E,O){var P=E;do{if(P.i!==E.i&&P.next.i!==E.i&&P.i!==O.i&&P.next.i!==O.i&&c(P,P.next,E,O))return!0;P=P.next}while(P!==E);return!1}(S,T)&&(d(S,T)&&d(T,S)&&function(E,O){var P=E,I=!1,z=(E.x+O.x)/2,j=(E.y+O.y)/2;do P.y>j!=P.next.y>j&&P.next.y!==P.y&&z<(P.next.x-P.x)*(j-P.y)/(P.next.y-P.y)+P.x&&(I=!I),P=P.next;while(P!==E);return I}(S,T)&&(u(S.prev,S,T.prev)||u(S,T.prev,T))||p(S,T)&&u(S.prev,S,S.next)>0&&u(T.prev,T,T.next)>0)}function u(S,T,E){return(T.y-S.y)*(E.x-T.x)-(T.x-S.x)*(E.y-T.y)}function p(S,T){return S.x===T.x&&S.y===T.y}function c(S,T,E,O){var P=g(u(S,T,E)),I=g(u(S,T,O)),z=g(u(E,O,S)),j=g(u(E,O,T));return P!==I&&z!==j||!(P!==0||!x(S,E,T))||!(I!==0||!x(S,O,T))||!(z!==0||!x(E,S,O))||!(j!==0||!x(E,T,O))}function x(S,T,E){return T.x<=Math.max(S.x,E.x)&&T.x>=Math.min(S.x,E.x)&&T.y<=Math.max(S.y,E.y)&&T.y>=Math.min(S.y,E.y)}function g(S){return S>0?1:S<0?-1:0}function d(S,T){return u(S.prev,S,S.next)<0?u(S,T,S.next)>=0&&u(S,S.prev,T)>=0:u(S,T,S.prev)<0||u(S,S.next,T)<0}function v(S,T){var E=new w(S.i,S.x,S.y),O=new w(T.i,T.x,T.y),P=S.next,I=T.prev;return S.next=T,T.prev=S,E.next=P,P.prev=E,O.next=E,E.prev=O,I.next=O,O.prev=I,O}function y(S,T,E,O){var P=new w(S,T,E);return O?(P.next=O.next,P.prev=O,O.next.prev=P,O.next=P):(P.prev=P,P.next=P),P}function m(S){S.next.prev=S.prev,S.prev.next=S.next,S.prevZ&&(S.prevZ.nextZ=S.nextZ),S.nextZ&&(S.nextZ.prevZ=S.prevZ)}function w(S,T,E){this.i=S,this.x=T,this.y=E,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function f(S,T,E,O){for(var P=0,I=T,z=E-O;I<E;I+=O)P+=(S[z]-S[I])*(S[I+1]+S[z+1]),z=I;return P}q.exports=C,q.exports.default=C,C.deviation=function(S,T,E,O){var P=T&&T.length,I=P?T[0]*E:S.length,z=Math.abs(f(S,0,I,E));if(P)for(var j=0,R=T.length;j<R;j++){var N=T[j]*E,Z=j<R-1?T[j+1]*E:S.length;z-=Math.abs(f(S,N,Z,E))}var F=0;for(j=0;j<O.length;j+=3){var U=O[j]*E,V=O[j+1]*E,te=O[j+2]*E;F+=Math.abs((S[U]-S[te])*(S[V+1]-S[U+1])-(S[U]-S[V])*(S[te+1]-S[U+1]))}return z===0&&F===0?0:Math.abs((F-z)/z)},C.flatten=function(S){for(var T=S[0][0].length,E={vertices:[],holes:[],dimensions:T},O=0,P=0;P<S.length;P++){for(var I=0;I<S[P].length;I++)for(var z=0;z<T;z++)E.vertices.push(S[P][I][z]);P>0&&(O+=S[P-1].length,E.holes.push(O))}return E}},2502:function(q,C,e){var M=e(68664);q.exports=function(k,a){var _,b=[],h=[],o=[],t={},i=[];function n(d){o[d]=!1,t.hasOwnProperty(d)&&Object.keys(t[d]).forEach(function(v){delete t[d][v],o[v]&&n(v)})}function r(d){var v,y,m=!1;for(h.push(d),o[d]=!0,v=0;v<i[d].length;v++)(y=i[d][v])===_?(l(_,h),m=!0):o[y]||(m=r(y));if(m)n(d);else for(v=0;v<i[d].length;v++){y=i[d][v];var w=t[y];w||(w={},t[y]=w),w[y]=!0}return h.pop(),m}function l(d,v){var y=[].concat(v).concat(d);a?a(r):b.push(y)}function s(d){(function(E){for(var O=0;O<k.length;O++)O<E&&(k[O]=[]),k[O]=k[O].filter(function(P){return P>=E})})(d);for(var v,y=M(k).components.filter(function(E){return E.length>1}),m=1/0,w=0;w<y.length;w++)for(var f=0;f<y[w].length;f++)y[w][f]<m&&(m=y[w][f],v=w);var S=y[v];if(!S)return!1;var T=k.map(function(E,O){return S.indexOf(O)===-1?[]:E.filter(function(P){return S.indexOf(P)!==-1})});return{leastVertex:m,adjList:T}}_=0;for(var u=k.length;_<u;){var p=s(_);if(_=p.leastVertex,i=p.adjList){for(var c=0;c<i.length;c++)for(var x=0;x<i[c].length;x++){var g=i[c][x];o[+g]=!1,t[g]={}}r(_),_+=1}else _=u}return a?void 0:b}},16134:function(q,C,e){var M=e(36672);q.exports=function(){return M(this).length=0,this}},4892:function(q,C,e){q.exports=e(64404)()?Array.from:e(49441)},64404:function(q){q.exports=function(){var C,e,M=Array.from;return typeof M=="function"&&(e=M(C=["raz","dwa"]),!!(e&&e!==C&&e[1]==="dwa"))}},49441:function(q,C,e){var M=e(8260).iterator,k=e(73051),a=e(33717),_=e(35976),b=e(78513),h=e(36672),o=e(95296),t=e(87963),i=Array.isArray,n=Function.prototype.call,r={configurable:!0,enumerable:!0,writable:!0,value:null},l=Object.defineProperty;q.exports=function(s){var u,p,c,x,g,d,v,y,m,w,f=arguments[1],S=arguments[2];if(s=Object(h(s)),o(f)&&b(f),this&&this!==Array&&a(this))u=this;else{if(!f){if(k(s))return(g=s.length)!==1?Array.apply(null,s):((x=new Array(1))[0]=s[0],x);if(i(s)){for(x=new Array(g=s.length),p=0;p<g;++p)x[p]=s[p];return x}}x=[]}if(!i(s)){if((m=s[M])!==void 0){for(v=b(m).call(s),u&&(x=new u),y=v.next(),p=0;!y.done;)w=f?n.call(f,S,y.value,p):y.value,u?(r.value=w,l(x,p,r)):x[p]=w,y=v.next(),++p;g=p}else if(t(s)){for(g=s.length,u&&(x=new u),p=0,c=0;p<g;++p)w=s[p],p+1<g&&(d=w.charCodeAt(0))>=55296&&d<=56319&&(w+=s[++p]),w=f?n.call(f,S,w,c):w,u?(r.value=w,l(x,c,r)):x[c]=w,++c;g=c}}if(g===void 0)for(g=_(s.length),u&&(x=new u(g)),p=0;p<g;++p)w=f?n.call(f,S,s[p],p):s[p],u?(r.value=w,l(x,p,r)):x[p]=w;return u&&(r.value=null,x.length=g),x}},73051:function(q){var C=Object.prototype.toString,e=C.call(function(){return arguments}());q.exports=function(M){return C.call(M)===e}},33717:function(q){var C=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);q.exports=function(M){return typeof M=="function"&&e(C.call(M))}},52345:function(q){q.exports=function(){}},9953:function(q,C,e){q.exports=e(90436)()?Math.sign:e(6069)},90436:function(q){q.exports=function(){var C=Math.sign;return typeof C=="function"&&C(10)===1&&C(-20)===-1}},6069:function(q){q.exports=function(C){return C=Number(C),isNaN(C)||C===0?C:C>0?1:-1}},56247:function(q,C,e){var M=e(9953),k=Math.abs,a=Math.floor;q.exports=function(_){return isNaN(_)?0:(_=Number(_))!==0&&isFinite(_)?M(_)*a(k(_)):_}},35976:function(q,C,e){var M=e(56247),k=Math.max;q.exports=function(a){return k(0,M(a))}},67260:function(q,C,e){var M=e(78513),k=e(36672),a=Function.prototype.bind,_=Function.prototype.call,b=Object.keys,h=Object.prototype.propertyIsEnumerable;q.exports=function(o,t){return function(i,n){var r,l=arguments[2],s=arguments[3];return i=Object(k(i)),M(n),r=b(i),s&&r.sort(typeof s=="function"?a.call(s,i):void 0),typeof o!="function"&&(o=r[o]),_.call(o,r,function(u,p){return h.call(i,u)?_.call(n,l,i[u],u,i,p):t})}}},95879:function(q,C,e){q.exports=e(73583)()?Object.assign:e(34205)},73583:function(q){q.exports=function(){var C,e=Object.assign;return typeof e=="function"&&(e(C={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),C.foo+C.bar+C.trzy==="razdwatrzy")}},34205:function(q,C,e){var M=e(68700),k=e(36672),a=Math.max;q.exports=function(_,b){var h,o,t,i=a(arguments.length,2);for(_=Object(k(_)),t=function(n){try{_[n]=b[n]}catch(r){h||(h=r)}},o=1;o<i;++o)M(b=arguments[o]).forEach(t);if(h!==void 0)throw h;return _}},19012:function(q,C,e){var M=e(4892),k=e(95879),a=e(36672);q.exports=function(_){var b=Object(a(_)),h=arguments[1],o=Object(arguments[2]);if(b!==_&&!h)return b;var t={};return h?M(h,function(i){(o.ensure||i in _)&&(t[i]=_[i])}):k(t,_),t}},52818:function(q,C,e){var M,k,a,_,b=Object.create;e(33247)()||(M=e(51882)),q.exports=M?M.level!==1?b:(k={},a={},_={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(h){a[h]=h!=="__proto__"?_:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(k,a),Object.defineProperty(M,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:k}),function(h,o){return b(h===null?k:h,o)}):b},96437:function(q,C,e){q.exports=e(67260)("forEach")},99611:function(q,C,e){var M=e(95296),k={function:!0,object:!0};q.exports=function(a){return M(a)&&k[typeof a]||!1}},95296:function(q,C,e){var M=e(52345)();q.exports=function(k){return k!==M&&k!==null}},68700:function(q,C,e){q.exports=e(13895)()?Object.keys:e(25217)},13895:function(q){q.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(q,C,e){var M=e(95296),k=Object.keys;q.exports=function(a){return k(M(a)?Object(a):a)}},16906:function(q,C,e){var M=e(78513),k=e(96437),a=Function.prototype.call;q.exports=function(_,b){var h={},o=arguments[2];return M(b),k(_,function(t,i,n,r){h[i]=a.call(b,o,t,i,n,r)}),h}},21780:function(q,C,e){var M=e(95296),k=Array.prototype.forEach,a=Object.create;q.exports=function(_){var b=a(null);return k.call(arguments,function(h){M(h)&&function(o,t){var i;for(i in o)t[i]=o[i]}(Object(h),b)}),b}},1496:function(q,C,e){q.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(q){var C=Object.create,e=Object.getPrototypeOf,M={};q.exports=function(){var k=Object.setPrototypeOf;return typeof k=="function"&&e(k((arguments[0]||C)(null),M))===M}},51882:function(q,C,e){var M,k,a,_,b=e(99611),h=e(36672),o=Object.prototype.isPrototypeOf,t=Object.defineProperty,i={configurable:!0,enumerable:!1,writable:!0,value:void 0};M=function(n,r){if(h(n),r===null||b(r))return n;throw new TypeError("Prototype must be null or an object")},q.exports=(k=function(){var n,r=Object.create(null),l={},s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(s){try{(n=s.set).call(r,l)}catch{}if(Object.getPrototypeOf(r)===l)return{set:n,level:2}}return r.__proto__=l,Object.getPrototypeOf(r)===l?{level:2}:((r={}).__proto__=l,Object.getPrototypeOf(r)===l&&{level:1})}(),k?(k.level===2?k.set?(_=k.set,a=function(n,r){return _.call(M(n,r),r),n}):a=function(n,r){return M(n,r).__proto__=r,n}:a=function n(r,l){var s;return M(r,l),(s=o.call(n.nullPolyfill,r))&&delete n.nullPolyfill.__proto__,l===null&&(l=n.nullPolyfill),r.__proto__=l,s&&t(n.nullPolyfill,"__proto__",i),r},Object.defineProperty(a,"level",{configurable:!1,enumerable:!1,writable:!1,value:k.level})):null),e(52818)},78513:function(q){q.exports=function(C){if(typeof C!="function")throw new TypeError(C+" is not a function");return C}},98976:function(q,C,e){var M=e(99611);q.exports=function(k){if(!M(k))throw new TypeError(k+" is not an Object");return k}},36672:function(q,C,e){var M=e(95296);q.exports=function(k){if(!M(k))throw new TypeError("Cannot use null or undefined");return k}},66741:function(q,C,e){q.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(q){var C="razdwatrzy";q.exports=function(){return typeof C.contains=="function"&&C.contains("dwa")===!0&&C.contains("foo")===!1}},60381:function(q){var C=String.prototype.indexOf;q.exports=function(e){return C.call(this,e,arguments[1])>-1}},87963:function(q){var C=Object.prototype.toString,e=C.call("");q.exports=function(M){return typeof M=="string"||M&&typeof M=="object"&&(M instanceof String||C.call(M)===e)||!1}},43043:function(q){var C=Object.create(null),e=Math.random;q.exports=function(){var M;do M=e().toString(36).slice(2);while(C[M]);return M}},32411:function(q,C,e){var M,k=e(1496),a=e(66741),_=e(62072),b=e(8260),h=e(95426),o=Object.defineProperty;M=q.exports=function(t,i){if(!(this instanceof M))throw new TypeError("Constructor requires 'new'");h.call(this,t),i=i?a.call(i,"key+value")?"key+value":a.call(i,"key")?"key":"value":"value",o(this,"__kind__",_("",i))},k&&k(M,h),delete M.prototype.constructor,M.prototype=Object.create(h.prototype,{_resolve:_(function(t){return this.__kind__==="value"?this.__list__[t]:this.__kind__==="key+value"?[t,this.__list__[t]]:t})}),o(M.prototype,b.toStringTag,_("c","Array Iterator"))},27515:function(q,C,e){var M=e(73051),k=e(78513),a=e(87963),_=e(66661),b=Array.isArray,h=Function.prototype.call,o=Array.prototype.some;q.exports=function(t,i){var n,r,l,s,u,p,c,x,g=arguments[2];if(b(t)||M(t)?n="array":a(t)?n="string":t=_(t),k(i),l=function(){s=!0},n!=="array")if(n!=="string")for(r=t.next();!r.done;){if(h.call(i,g,r.value,l),s)return;r=t.next()}else for(p=t.length,u=0;u<p&&(c=t[u],u+1<p&&(x=c.charCodeAt(0))>=55296&&x<=56319&&(c+=t[++u]),h.call(i,g,c,l),!s);++u);else o.call(t,function(d){return h.call(i,g,d,l),s})}},66661:function(q,C,e){var M=e(73051),k=e(87963),a=e(32411),_=e(259),b=e(58095),h=e(8260).iterator;q.exports=function(o){return typeof b(o)[h]=="function"?o[h]():M(o)?new a(o):k(o)?new _(o):new a(o)}},95426:function(q,C,e){var M,k=e(16134),a=e(95879),_=e(78513),b=e(36672),h=e(62072),o=e(55174),t=e(8260),i=Object.defineProperty,n=Object.defineProperties;q.exports=M=function(r,l){if(!(this instanceof M))throw new TypeError("Constructor requires 'new'");n(this,{__list__:h("w",b(r)),__context__:h("w",l),__nextIndex__:h("w",0)}),l&&(_(l.on),l.on("_add",this._onAdd),l.on("_delete",this._onDelete),l.on("_clear",this._onClear))},delete M.prototype.constructor,n(M.prototype,a({_next:h(function(){var r;if(this.__list__)return this.__redo__&&(r=this.__redo__.shift())!==void 0?r:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:h(function(){return this._createResult(this._next())}),_createResult:h(function(r){return r===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(r)}}),_resolve:h(function(r){return this.__list__[r]}),_unBind:h(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:h(function(){return"[object "+(this[t.toStringTag]||"Object")+"]"})},o({_onAdd:h(function(r){r>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(l,s){l>=r&&(this.__redo__[s]=++l)},this),this.__redo__.push(r)):i(this,"__redo__",h("c",[r])))}),_onDelete:h(function(r){var l;r>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&((l=this.__redo__.indexOf(r))!==-1&&this.__redo__.splice(l,1),this.__redo__.forEach(function(s,u){s>r&&(this.__redo__[u]=--s)},this)))}),_onClear:h(function(){this.__redo__&&k.call(this.__redo__),this.__nextIndex__=0})}))),i(M.prototype,t.iterator,h(function(){return this}))},35940:function(q,C,e){var M=e(73051),k=e(95296),a=e(87963),_=e(8260).iterator,b=Array.isArray;q.exports=function(h){return!(!k(h)||!b(h)&&!a(h)&&!M(h)&&typeof h[_]!="function")}},259:function(q,C,e){var M,k=e(1496),a=e(62072),_=e(8260),b=e(95426),h=Object.defineProperty;M=q.exports=function(o){if(!(this instanceof M))throw new TypeError("Constructor requires 'new'");o=String(o),b.call(this,o),h(this,"__length__",a("",o.length))},k&&k(M,b),delete M.prototype.constructor,M.prototype=Object.create(b.prototype,{_next:a(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:a(function(o){var t,i=this.__list__[o];return this.__nextIndex__===this.__length__?i:(t=i.charCodeAt(0))>=55296&&t<=56319?i+this.__list__[this.__nextIndex__++]:i})}),h(M.prototype,_.toStringTag,a("c","String Iterator"))},58095:function(q,C,e){var M=e(35940);q.exports=function(k){if(!M(k))throw new TypeError(k+" is not iterable");return k}},73523:function(q){function C(e,M){if(e==null)throw new TypeError("Cannot convert first argument to object");for(var k=Object(e),a=1;a<arguments.length;a++){var _=arguments[a];if(_!=null)for(var b=Object.keys(Object(_)),h=0,o=b.length;h<o;h++){var t=b[h],i=Object.getOwnPropertyDescriptor(_,t);i!==void 0&&i.enumerable&&(k[t]=_[t])}}return k}q.exports={assign:C,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:C})}}},8260:function(q,C,e){q.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(q,C,e){var M=e(94908),k={object:!0,symbol:!0};q.exports=function(){var a,_=M.Symbol;if(typeof _!="function")return!1;a=_("test symbol");try{String(a)}catch{return!1}return!!k[typeof _.iterator]&&!!k[typeof _.toPrimitive]&&!!k[typeof _.toStringTag]}},82276:function(q){q.exports=function(C){return!!C&&(typeof C=="symbol"||!!C.constructor&&C.constructor.name==="Symbol"&&C[C.constructor.toStringTag]==="Symbol")}},29366:function(q,C,e){var M=e(62072),k=Object.create,a=Object.defineProperty,_=Object.prototype,b=k(null);q.exports=function(h){for(var o,t,i=0;b[h+(i||"")];)++i;return b[h+=i||""]=!0,a(_,o="@@"+h,M.gs(null,function(n){t||(t=!0,a(this,o,M(n)),t=!1)})),o}},92842:function(q,C,e){var M=e(62072),k=e(94908).Symbol;q.exports=function(a){return Object.defineProperties(a,{hasInstance:M("",k&&k.hasInstance||a("hasInstance")),isConcatSpreadable:M("",k&&k.isConcatSpreadable||a("isConcatSpreadable")),iterator:M("",k&&k.iterator||a("iterator")),match:M("",k&&k.match||a("match")),replace:M("",k&&k.replace||a("replace")),search:M("",k&&k.search||a("search")),species:M("",k&&k.species||a("species")),split:M("",k&&k.split||a("split")),toPrimitive:M("",k&&k.toPrimitive||a("toPrimitive")),toStringTag:M("",k&&k.toStringTag||a("toStringTag")),unscopables:M("",k&&k.unscopables||a("unscopables"))})}},13304:function(q,C,e){var M=e(62072),k=e(53308),a=Object.create(null);q.exports=function(_){return Object.defineProperties(_,{for:M(function(b){return a[b]?a[b]:a[b]=_(String(b))}),keyFor:M(function(b){var h;for(h in k(b),a)if(a[h]===b)return h})})}},18415:function(q,C,e){var M,k,a,_=e(62072),b=e(53308),h=e(94908).Symbol,o=e(29366),t=e(92842),i=e(13304),n=Object.create,r=Object.defineProperties,l=Object.defineProperty;if(typeof h=="function")try{String(h()),a=!0}catch{}else h=null;k=function(s){if(this instanceof k)throw new TypeError("Symbol is not a constructor");return M(s)},q.exports=M=function s(u){var p;if(this instanceof s)throw new TypeError("Symbol is not a constructor");return a?h(u):(p=n(k.prototype),u=u===void 0?"":String(u),r(p,{__description__:_("",u),__name__:_("",o(u))}))},t(M),i(M),r(k.prototype,{constructor:_(M),toString:_("",function(){return this.__name__})}),r(M.prototype,{toString:_(function(){return"Symbol ("+b(this).__description__+")"}),valueOf:_(function(){return b(this)})}),l(M.prototype,M.toPrimitive,_("",function(){var s=b(this);return typeof s=="symbol"?s:s.toString()})),l(M.prototype,M.toStringTag,_("c","Symbol")),l(k.prototype,M.toStringTag,_("c",M.prototype[M.toStringTag])),l(k.prototype,M.toPrimitive,_("c",M.prototype[M.toPrimitive]))},53308:function(q,C,e){var M=e(82276);q.exports=function(k){if(!M(k))throw new TypeError(k+" is not a symbol");return k}},83522:function(q,C,e){q.exports=e(96402)()?WeakMap:e(329)},96402:function(q){q.exports=function(){var C,e;if(typeof WeakMap!="function")return!1;try{C=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return String(C)==="[object WeakMap]"&&typeof C.set=="function"&&C.set({},1)===C&&typeof C.delete=="function"&&typeof C.has=="function"&&C.get(e)==="one"}},96416:function(q){q.exports=typeof WeakMap=="function"&&Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"},329:function(q,C,e){var M,k=e(95296),a=e(1496),_=e(98976),b=e(36672),h=e(43043),o=e(62072),t=e(66661),i=e(27515),n=e(8260).toStringTag,r=e(96416),l=Array.isArray,s=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getPrototypeOf;q.exports=M=function(){var c,x=arguments[0];if(!(this instanceof M))throw new TypeError("Constructor requires 'new'");return c=r&&a&&WeakMap!==M?a(new WeakMap,p(this)):this,k(x)&&(l(x)||(x=t(x))),s(c,"__weakMapData__",o("c","$weakMap$"+h())),x&&i(x,function(g){b(g),c.set(g[0],g[1])}),c},r&&(a&&a(M,WeakMap),M.prototype=Object.create(WeakMap.prototype,{constructor:o(M)})),Object.defineProperties(M.prototype,{delete:o(function(c){return!!u.call(_(c),this.__weakMapData__)&&(delete c[this.__weakMapData__],!0)}),get:o(function(c){if(u.call(_(c),this.__weakMapData__))return c[this.__weakMapData__]}),has:o(function(c){return u.call(_(c),this.__weakMapData__)}),set:o(function(c,x){return s(_(c),this.__weakMapData__,o("c",x)),this}),toString:o(function(){return"[object WeakMap]"})}),s(M.prototype,n,o("c","WeakMap"))},15398:function(q){var C,e=typeof Reflect=="object"?Reflect:null,M=e&&typeof e.apply=="function"?e.apply:function(u,p,c){return Function.prototype.apply.call(u,p,c)};C=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(u){return Object.getOwnPropertyNames(u).concat(Object.getOwnPropertySymbols(u))}:function(u){return Object.getOwnPropertyNames(u)};var k=Number.isNaN||function(u){return u!=u};function a(){a.init.call(this)}q.exports=a,q.exports.once=function(u,p){return new Promise(function(c,x){function g(v){u.removeListener(p,d),x(v)}function d(){typeof u.removeListener=="function"&&u.removeListener("error",g),c([].slice.call(arguments))}s(u,p,d,{once:!0}),p!=="error"&&function(v,y,m){typeof v.on=="function"&&s(v,"error",y,{once:!0})}(u,g)})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var _=10;function b(u){if(typeof u!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}function h(u){return u._maxListeners===void 0?a.defaultMaxListeners:u._maxListeners}function o(u,p,c,x){var g,d,v,y;if(b(c),(d=u._events)===void 0?(d=u._events=Object.create(null),u._eventsCount=0):(d.newListener!==void 0&&(u.emit("newListener",p,c.listener?c.listener:c),d=u._events),v=d[p]),v===void 0)v=d[p]=c,++u._eventsCount;else if(typeof v=="function"?v=d[p]=x?[c,v]:[v,c]:x?v.unshift(c):v.push(c),(g=h(u))>0&&v.length>g&&!v.warned){v.warned=!0;var m=new Error("Possible EventEmitter memory leak detected. "+v.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");m.name="MaxListenersExceededWarning",m.emitter=u,m.type=p,m.count=v.length,y=m,console&&console.warn&&console.warn(y)}return u}function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(u,p,c){var x={fired:!1,wrapFn:void 0,target:u,type:p,listener:c},g=t.bind(x);return g.listener=c,x.wrapFn=g,g}function n(u,p,c){var x=u._events;if(x===void 0)return[];var g=x[p];return g===void 0?[]:typeof g=="function"?c?[g.listener||g]:[g]:c?function(d){for(var v=new Array(d.length),y=0;y<v.length;++y)v[y]=d[y].listener||d[y];return v}(g):l(g,g.length)}function r(u){var p=this._events;if(p!==void 0){var c=p[u];if(typeof c=="function")return 1;if(c!==void 0)return c.length}return 0}function l(u,p){for(var c=new Array(p),x=0;x<p;++x)c[x]=u[x];return c}function s(u,p,c,x){if(typeof u.on=="function")x.once?u.once(p,c):u.on(p,c);else{if(typeof u.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u);u.addEventListener(p,function g(d){x.once&&u.removeEventListener(p,g),c(d)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return _},set:function(u){if(typeof u!="number"||u<0||k(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");_=u}}),a.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(u){if(typeof u!="number"||u<0||k(u))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+u+".");return this._maxListeners=u,this},a.prototype.getMaxListeners=function(){return h(this)},a.prototype.emit=function(u){for(var p=[],c=1;c<arguments.length;c++)p.push(arguments[c]);var x=u==="error",g=this._events;if(g!==void 0)x=x&&g.error===void 0;else if(!x)return!1;if(x){var d;if(p.length>0&&(d=p[0]),d instanceof Error)throw d;var v=new Error("Unhandled error."+(d?" ("+d.message+")":""));throw v.context=d,v}var y=g[u];if(y===void 0)return!1;if(typeof y=="function")M(y,this,p);else{var m=y.length,w=l(y,m);for(c=0;c<m;++c)M(w[c],this,p)}return!0},a.prototype.addListener=function(u,p){return o(this,u,p,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(u,p){return o(this,u,p,!0)},a.prototype.once=function(u,p){return b(p),this.on(u,i(this,u,p)),this},a.prototype.prependOnceListener=function(u,p){return b(p),this.prependListener(u,i(this,u,p)),this},a.prototype.removeListener=function(u,p){var c,x,g,d,v;if(b(p),(x=this._events)===void 0)return this;if((c=x[u])===void 0)return this;if(c===p||c.listener===p)--this._eventsCount==0?this._events=Object.create(null):(delete x[u],x.removeListener&&this.emit("removeListener",u,c.listener||p));else if(typeof c!="function"){for(g=-1,d=c.length-1;d>=0;d--)if(c[d]===p||c[d].listener===p){v=c[d].listener,g=d;break}if(g<0)return this;g===0?c.shift():function(y,m){for(;m+1<y.length;m++)y[m]=y[m+1];y.pop()}(c,g),c.length===1&&(x[u]=c[0]),x.removeListener!==void 0&&this.emit("removeListener",u,v||p)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(u){var p,c,x;if((c=this._events)===void 0)return this;if(c.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):c[u]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete c[u]),this;if(arguments.length===0){var g,d=Object.keys(c);for(x=0;x<d.length;++x)(g=d[x])!=="removeListener"&&this.removeAllListeners(g);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(p=c[u])=="function")this.removeListener(u,p);else if(p!==void 0)for(x=p.length-1;x>=0;x--)this.removeListener(u,p[x]);return this},a.prototype.listeners=function(u){return n(this,u,!0)},a.prototype.rawListeners=function(u){return n(this,u,!1)},a.listenerCount=function(u,p){return typeof u.listenerCount=="function"?u.listenerCount(p):r.call(u,p)},a.prototype.listenerCount=r,a.prototype.eventNames=function(){return this._eventsCount>0?C(this._events):[]}},60774:function(q){var C=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};q.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return C()}try{return __global__||C()}finally{delete Object.prototype.__global__}}()},94908:function(q,C,e){q.exports=e(51152)()?globalThis:e(60774)},51152:function(q){q.exports=function(){return typeof globalThis=="object"&&!!globalThis&&globalThis.Array===Array}},92770:function(q,C,e){var M=e(18546);q.exports=function(k){var a=typeof k;if(a==="string"){var _=k;if((k=+k)==0&&M(_))return!1}else if(a!=="number")return!1;return k-k<1}},30120:function(q,C,e){var M=e(90660);q.exports=function(k,a,_){if(!k)throw new TypeError("must specify data as first parameter");if(_=0|+(_||0),Array.isArray(k)&&k[0]&&typeof k[0][0]=="number"){var b,h,o,t,i=k[0].length,n=k.length*i;a&&typeof a!="string"||(a=new(M(a||"float32"))(n+_));var r=a.length-_;if(n!==r)throw new Error("source length "+n+" ("+i+"x"+k.length+") does not match destination length "+r);for(b=0,o=_;b<k.length;b++)for(h=0;h<i;h++)a[o++]=k[b][h]===null?NaN:k[b][h]}else if(a&&typeof a!="string")a.set(k,_);else{var l=M(a||"float32");if(Array.isArray(k)||a==="array")for(b=0,o=_,t=(a=new l(k.length+_)).length;o<t;o++,b++)a[o]=k[b]===null?NaN:k[b];else _===0?a=new l(k):(a=new l(k.length+_)).set(k,_)}return a}},68016:function(q,C,e){var M=e(53313),k=[32,126];q.exports=function(a){var _=(a=a||{}).shape?a.shape:a.canvas?[a.canvas.width,a.canvas.height]:[512,512],b=a.canvas||document.createElement("canvas"),h=a.font,o=typeof a.step=="number"?[a.step,a.step]:a.step||[32,32],t=a.chars||k;if(h&&typeof h!="string"&&(h=M(h)),Array.isArray(t)){if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var i=[],n=t[0],r=0;n<=t[1];n++)i[r++]=String.fromCharCode(n);t=i}}else t=String(t).split("");_=_.slice(),b.width=_[0],b.height=_[1];var l=b.getContext("2d");l.fillStyle="#000",l.fillRect(0,0,b.width,b.height),l.font=h,l.textAlign="center",l.textBaseline="middle",l.fillStyle="#fff";var s=o[0]/2,u=o[1]/2;for(n=0;n<t.length;n++)l.fillText(t[n],s,u),(s+=o[0])>_[0]-o[0]/2&&(s=o[0]/2,u+=o[1]);return b}},32879:function(q){function C(a,_){_||(_={}),(typeof a=="string"||Array.isArray(a))&&(_.family=a);var b=Array.isArray(_.family)?_.family.join(", "):_.family;if(!b)throw Error("`family` must be defined");var h=_.size||_.fontSize||_.em||48,o=_.weight||_.fontWeight||"",t=(a=[_.style||_.fontStyle||"",o,h].join(" ")+"px "+b,_.origin||"top");if(C.cache[b]&&h<=C.cache[b].em)return e(C.cache[b],t);var i=_.canvas||C.canvas,n=i.getContext("2d"),r={upper:_.upper!==void 0?_.upper:"H",lower:_.lower!==void 0?_.lower:"x",descent:_.descent!==void 0?_.descent:"p",ascent:_.ascent!==void 0?_.ascent:"h",tittle:_.tittle!==void 0?_.tittle:"i",overshoot:_.overshoot!==void 0?_.overshoot:"O"},l=Math.ceil(1.5*h);i.height=l,i.width=.5*l,n.font=a;var s="H",u={top:0};n.clearRect(0,0,l,l),n.textBaseline="top",n.fillStyle="black",n.fillText(s,0,0);var p=M(n.getImageData(0,0,l,l));n.clearRect(0,0,l,l),n.textBaseline="bottom",n.fillText(s,0,l);var c=M(n.getImageData(0,0,l,l));u.lineHeight=u.bottom=l-c+p,n.clearRect(0,0,l,l),n.textBaseline="alphabetic",n.fillText(s,0,l);var x=l-M(n.getImageData(0,0,l,l))-1+p;u.baseline=u.alphabetic=x,n.clearRect(0,0,l,l),n.textBaseline="middle",n.fillText(s,0,.5*l);var g=M(n.getImageData(0,0,l,l));u.median=u.middle=l-g-1+p-.5*l,n.clearRect(0,0,l,l),n.textBaseline="hanging",n.fillText(s,0,.5*l);var d=M(n.getImageData(0,0,l,l));u.hanging=l-d-1+p-.5*l,n.clearRect(0,0,l,l),n.textBaseline="ideographic",n.fillText(s,0,l);var v=M(n.getImageData(0,0,l,l));if(u.ideographic=l-v-1+p,r.upper&&(n.clearRect(0,0,l,l),n.textBaseline="top",n.fillText(r.upper,0,0),u.upper=M(n.getImageData(0,0,l,l)),u.capHeight=u.baseline-u.upper),r.lower&&(n.clearRect(0,0,l,l),n.textBaseline="top",n.fillText(r.lower,0,0),u.lower=M(n.getImageData(0,0,l,l)),u.xHeight=u.baseline-u.lower),r.tittle&&(n.clearRect(0,0,l,l),n.textBaseline="top",n.fillText(r.tittle,0,0),u.tittle=M(n.getImageData(0,0,l,l))),r.ascent&&(n.clearRect(0,0,l,l),n.textBaseline="top",n.fillText(r.ascent,0,0),u.ascent=M(n.getImageData(0,0,l,l))),r.descent&&(n.clearRect(0,0,l,l),n.textBaseline="top",n.fillText(r.descent,0,0),u.descent=k(n.getImageData(0,0,l,l))),r.overshoot){n.clearRect(0,0,l,l),n.textBaseline="top",n.fillText(r.overshoot,0,0);var y=k(n.getImageData(0,0,l,l));u.overshoot=y-x}for(var m in u)u[m]/=h;return u.em=h,C.cache[b]=u,e(u,t)}function e(a,_){var b={};for(var h in typeof _=="string"&&(_=a[_]),a)h!=="em"&&(b[h]=a[h]-_);return b}function M(a){for(var _=a.height,b=a.data,h=3;h<b.length;h+=4)if(b[h]!==0)return Math.floor(.25*(h-3)/_)}function k(a){for(var _=a.height,b=a.data,h=b.length-1;h>0;h-=4)if(b[h]!==0)return Math.floor(.25*(h-3)/_)}q.exports=C,C.canvas=document.createElement("canvas"),C.cache={}},31353:function(q,C,e){var M=e(85395),k=Object.prototype.toString,a=Object.prototype.hasOwnProperty;q.exports=function(_,b,h){if(!M(b))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=h),k.call(_)==="[object Array]"?function(t,i,n){for(var r=0,l=t.length;r<l;r++)a.call(t,r)&&(n==null?i(t[r],r,t):i.call(n,t[r],r,t))}(_,b,o):typeof _=="string"?function(t,i,n){for(var r=0,l=t.length;r<l;r++)n==null?i(t.charAt(r),r,t):i.call(n,t.charAt(r),r,t)}(_,b,o):function(t,i,n){for(var r in t)a.call(t,r)&&(n==null?i(t[r],r,t):i.call(n,t[r],r,t))}(_,b,o)}},73047:function(q){var C=Array.prototype.slice,e=Object.prototype.toString;q.exports=function(M){var k=this;if(typeof k!="function"||e.call(k)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+k);for(var a,_=C.call(arguments,1),b=Math.max(0,k.length-_.length),h=[],o=0;o<b;o++)h.push("$"+o);if(a=Function("binder","return function ("+h.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof a){var i=k.apply(this,_.concat(C.call(arguments)));return Object(i)===i?i:this}return k.apply(M,_.concat(C.call(arguments)))}),k.prototype){var t=function(){};t.prototype=k.prototype,a.prototype=new t,t.prototype=null}return a}},77575:function(q,C,e){var M=e(73047);q.exports=Function.prototype.bind||M},86249:function(q){q.exports=function(C,e){if(typeof C!="string")throw new TypeError("must specify type string");if(e=e||{},typeof document>"u"&&!e.canvas)return null;var M=e.canvas||document.createElement("canvas");typeof e.width=="number"&&(M.width=e.width),typeof e.height=="number"&&(M.height=e.height);var k,a=e;try{var _=[C];C.indexOf("webgl")===0&&_.push("experimental-"+C);for(var b=0;b<_.length;b++)if(k=M.getContext(_[b],a))return k}catch{k=null}return k||null}},68318:function(q,C,e){var M,k=SyntaxError,a=Function,_=TypeError,b=function(E){try{return a('"use strict"; return ('+E+").constructor;")()}catch{}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch{h=null}var o=function(){throw new _},t=h?function(){try{return o}catch{try{return h(arguments,"callee").get}catch{return o}}}():o,i=e(57877)(),n=Object.getPrototypeOf||function(E){return E.__proto__},r={},l=typeof Uint8Array>"u"?M:n(Uint8Array),s={"%AggregateError%":typeof AggregateError>"u"?M:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?M:ArrayBuffer,"%ArrayIteratorPrototype%":i?n([][Symbol.iterator]()):M,"%AsyncFromSyncIteratorPrototype%":M,"%AsyncFunction%":r,"%AsyncGenerator%":r,"%AsyncGeneratorFunction%":r,"%AsyncIteratorPrototype%":r,"%Atomics%":typeof Atomics>"u"?M:Atomics,"%BigInt%":typeof BigInt>"u"?M:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?M:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?M:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?M:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?M:Float32Array,"%Float64Array%":typeof Float64Array>"u"?M:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?M:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":r,"%Int8Array%":typeof Int8Array>"u"?M:Int8Array,"%Int16Array%":typeof Int16Array>"u"?M:Int16Array,"%Int32Array%":typeof Int32Array>"u"?M:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":i?n(n([][Symbol.iterator]())):M,"%JSON%":typeof JSON=="object"?JSON:M,"%Map%":typeof Map>"u"?M:Map,"%MapIteratorPrototype%":typeof Map<"u"&&i?n(new Map()[Symbol.iterator]()):M,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?M:Promise,"%Proxy%":typeof Proxy>"u"?M:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?M:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?M:Set,"%SetIteratorPrototype%":typeof Set<"u"&&i?n(new Set()[Symbol.iterator]()):M,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?M:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":i?n(""[Symbol.iterator]()):M,"%Symbol%":i?Symbol:M,"%SyntaxError%":k,"%ThrowTypeError%":t,"%TypedArray%":l,"%TypeError%":_,"%Uint8Array%":typeof Uint8Array>"u"?M:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?M:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?M:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?M:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?M:WeakMap,"%WeakRef%":typeof WeakRef>"u"?M:WeakRef,"%WeakSet%":typeof WeakSet>"u"?M:WeakSet};try{null.error}catch(E){var u=n(n(E));s["%Error.prototype%"]=u}var p=function E(O){var P;if(O==="%AsyncFunction%")P=b("async function () {}");else if(O==="%GeneratorFunction%")P=b("function* () {}");else if(O==="%AsyncGeneratorFunction%")P=b("async function* () {}");else if(O==="%AsyncGenerator%"){var I=E("%AsyncGeneratorFunction%");I&&(P=I.prototype)}else if(O==="%AsyncIteratorPrototype%"){var z=E("%AsyncGenerator%");z&&(P=n(z.prototype))}return s[O]=P,P},c={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=e(77575),g=e(35065),d=x.call(Function.call,Array.prototype.concat),v=x.call(Function.apply,Array.prototype.splice),y=x.call(Function.call,String.prototype.replace),m=x.call(Function.call,String.prototype.slice),w=x.call(Function.call,RegExp.prototype.exec),f=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,T=function(E,O){var P,I=E;if(g(c,I)&&(I="%"+(P=c[I])[0]+"%"),g(s,I)){var z=s[I];if(z===r&&(z=p(I)),z===void 0&&!O)throw new _("intrinsic "+E+" exists, but is not available. Please file an issue!");return{alias:P,name:I,value:z}}throw new k("intrinsic "+E+" does not exist!")};q.exports=function(E,O){if(typeof E!="string"||E.length===0)throw new _("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof O!="boolean")throw new _('"allowMissing" argument must be a boolean');if(w(/^%?[^%]*%?$/,E)===null)throw new k("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var P=function(X){var K=m(X,0,1),ee=m(X,-1);if(K==="%"&&ee!=="%")throw new k("invalid intrinsic syntax, expected closing `%`");if(ee==="%"&&K!=="%")throw new k("invalid intrinsic syntax, expected opening `%`");var re=[];return y(X,f,function(ie,ae,ue,pe){re[re.length]=ue?y(pe,S,"$1"):ae||ie}),re}(E),I=P.length>0?P[0]:"",z=T("%"+I+"%",O),j=z.name,R=z.value,N=!1,Z=z.alias;Z&&(I=Z[0],v(P,d([0,1],Z)));for(var F=1,U=!0;F<P.length;F+=1){var V=P[F],te=m(V,0,1),Q=m(V,-1);if((te==='"'||te==="'"||te==="`"||Q==='"'||Q==="'"||Q==="`")&&te!==Q)throw new k("property names with quotes must have matching quotes");if(V!=="constructor"&&U||(N=!0),g(s,j="%"+(I+="."+V)+"%"))R=s[j];else if(R!=null){if(!(V in R)){if(!O)throw new _("base intrinsic for "+E+" exists, but the property is not available.");return}if(h&&F+1>=P.length){var J=h(R,V);R=(U=!!J)&&"get"in J&&!("originalValue"in J.get)?J.get:R[V]}else U=g(R,V),R=R[V];U&&!N&&(s[j]=R)}}return R}},85400:function(q){q.exports=function(C,e){var M=e[0],k=e[1],a=e[2],_=e[3],b=e[4],h=e[5],o=e[6],t=e[7],i=e[8],n=e[9],r=e[10],l=e[11],s=e[12],u=e[13],p=e[14],c=e[15];return C[0]=h*(r*c-l*p)-n*(o*c-t*p)+u*(o*l-t*r),C[1]=-(k*(r*c-l*p)-n*(a*c-_*p)+u*(a*l-_*r)),C[2]=k*(o*c-t*p)-h*(a*c-_*p)+u*(a*t-_*o),C[3]=-(k*(o*l-t*r)-h*(a*l-_*r)+n*(a*t-_*o)),C[4]=-(b*(r*c-l*p)-i*(o*c-t*p)+s*(o*l-t*r)),C[5]=M*(r*c-l*p)-i*(a*c-_*p)+s*(a*l-_*r),C[6]=-(M*(o*c-t*p)-b*(a*c-_*p)+s*(a*t-_*o)),C[7]=M*(o*l-t*r)-b*(a*l-_*r)+i*(a*t-_*o),C[8]=b*(n*c-l*u)-i*(h*c-t*u)+s*(h*l-t*n),C[9]=-(M*(n*c-l*u)-i*(k*c-_*u)+s*(k*l-_*n)),C[10]=M*(h*c-t*u)-b*(k*c-_*u)+s*(k*t-_*h),C[11]=-(M*(h*l-t*n)-b*(k*l-_*n)+i*(k*t-_*h)),C[12]=-(b*(n*p-r*u)-i*(h*p-o*u)+s*(h*r-o*n)),C[13]=M*(n*p-r*u)-i*(k*p-a*u)+s*(k*r-a*n),C[14]=-(M*(h*p-o*u)-b*(k*p-a*u)+s*(k*o-a*h)),C[15]=M*(h*r-o*n)-b*(k*r-a*n)+i*(k*o-a*h),C}},42331:function(q){q.exports=function(C){var e=new Float32Array(16);return e[0]=C[0],e[1]=C[1],e[2]=C[2],e[3]=C[3],e[4]=C[4],e[5]=C[5],e[6]=C[6],e[7]=C[7],e[8]=C[8],e[9]=C[9],e[10]=C[10],e[11]=C[11],e[12]=C[12],e[13]=C[13],e[14]=C[14],e[15]=C[15],e}},31042:function(q){q.exports=function(C,e){return C[0]=e[0],C[1]=e[1],C[2]=e[2],C[3]=e[3],C[4]=e[4],C[5]=e[5],C[6]=e[6],C[7]=e[7],C[8]=e[8],C[9]=e[9],C[10]=e[10],C[11]=e[11],C[12]=e[12],C[13]=e[13],C[14]=e[14],C[15]=e[15],C}},11902:function(q){q.exports=function(){var C=new Float32Array(16);return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=1,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=1,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},89887:function(q){q.exports=function(C){var e=C[0],M=C[1],k=C[2],a=C[3],_=C[4],b=C[5],h=C[6],o=C[7],t=C[8],i=C[9],n=C[10],r=C[11],l=C[12],s=C[13],u=C[14],p=C[15];return(e*b-M*_)*(n*p-r*u)-(e*h-k*_)*(i*p-r*s)+(e*o-a*_)*(i*u-n*s)+(M*h-k*b)*(t*p-r*l)-(M*o-a*b)*(t*u-n*l)+(k*o-a*h)*(t*s-i*l)}},27812:function(q){q.exports=function(C,e){var M=e[0],k=e[1],a=e[2],_=e[3],b=M+M,h=k+k,o=a+a,t=M*b,i=k*b,n=k*h,r=a*b,l=a*h,s=a*o,u=_*b,p=_*h,c=_*o;return C[0]=1-n-s,C[1]=i+c,C[2]=r-p,C[3]=0,C[4]=i-c,C[5]=1-t-s,C[6]=l+u,C[7]=0,C[8]=r+p,C[9]=l-u,C[10]=1-t-n,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},34045:function(q){q.exports=function(C,e,M){var k,a,_,b=M[0],h=M[1],o=M[2],t=Math.sqrt(b*b+h*h+o*o);return Math.abs(t)<1e-6?null:(b*=t=1/t,h*=t,o*=t,k=Math.sin(e),_=1-(a=Math.cos(e)),C[0]=b*b*_+a,C[1]=h*b*_+o*k,C[2]=o*b*_-h*k,C[3]=0,C[4]=b*h*_-o*k,C[5]=h*h*_+a,C[6]=o*h*_+b*k,C[7]=0,C[8]=b*o*_+h*k,C[9]=h*o*_-b*k,C[10]=o*o*_+a,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C)}},45973:function(q){q.exports=function(C,e,M){var k=e[0],a=e[1],_=e[2],b=e[3],h=k+k,o=a+a,t=_+_,i=k*h,n=k*o,r=k*t,l=a*o,s=a*t,u=_*t,p=b*h,c=b*o,x=b*t;return C[0]=1-(l+u),C[1]=n+x,C[2]=r-c,C[3]=0,C[4]=n-x,C[5]=1-(i+u),C[6]=s+p,C[7]=0,C[8]=r+c,C[9]=s-p,C[10]=1-(i+l),C[11]=0,C[12]=M[0],C[13]=M[1],C[14]=M[2],C[15]=1,C}},81472:function(q){q.exports=function(C,e){return C[0]=e[0],C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=e[1],C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=e[2],C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},14669:function(q){q.exports=function(C,e){return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=1,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=1,C[11]=0,C[12]=e[0],C[13]=e[1],C[14]=e[2],C[15]=1,C}},75262:function(q){q.exports=function(C,e){var M=Math.sin(e),k=Math.cos(e);return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=k,C[6]=M,C[7]=0,C[8]=0,C[9]=-M,C[10]=k,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},331:function(q){q.exports=function(C,e){var M=Math.sin(e),k=Math.cos(e);return C[0]=k,C[1]=0,C[2]=-M,C[3]=0,C[4]=0,C[5]=1,C[6]=0,C[7]=0,C[8]=M,C[9]=0,C[10]=k,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},11049:function(q){q.exports=function(C,e){var M=Math.sin(e),k=Math.cos(e);return C[0]=k,C[1]=M,C[2]=0,C[3]=0,C[4]=-M,C[5]=k,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=1,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},75195:function(q){q.exports=function(C,e,M,k,a,_,b){var h=1/(M-e),o=1/(a-k),t=1/(_-b);return C[0]=2*_*h,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=2*_*o,C[6]=0,C[7]=0,C[8]=(M+e)*h,C[9]=(a+k)*o,C[10]=(b+_)*t,C[11]=-1,C[12]=0,C[13]=0,C[14]=b*_*2*t,C[15]=0,C}},71551:function(q){q.exports=function(C){return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=1,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=1,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},79576:function(q,C,e){q.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(q){q.exports=function(C,e){var M=e[0],k=e[1],a=e[2],_=e[3],b=e[4],h=e[5],o=e[6],t=e[7],i=e[8],n=e[9],r=e[10],l=e[11],s=e[12],u=e[13],p=e[14],c=e[15],x=M*h-k*b,g=M*o-a*b,d=M*t-_*b,v=k*o-a*h,y=k*t-_*h,m=a*t-_*o,w=i*u-n*s,f=i*p-r*s,S=i*c-l*s,T=n*p-r*u,E=n*c-l*u,O=r*c-l*p,P=x*O-g*E+d*T+v*S-y*f+m*w;return P?(P=1/P,C[0]=(h*O-o*E+t*T)*P,C[1]=(a*E-k*O-_*T)*P,C[2]=(u*m-p*y+c*v)*P,C[3]=(r*y-n*m-l*v)*P,C[4]=(o*S-b*O-t*f)*P,C[5]=(M*O-a*S+_*f)*P,C[6]=(p*d-s*m-c*g)*P,C[7]=(i*m-r*d+l*g)*P,C[8]=(b*E-h*S+t*w)*P,C[9]=(k*S-M*E-_*w)*P,C[10]=(s*y-u*d+c*x)*P,C[11]=(n*d-i*y-l*x)*P,C[12]=(h*f-b*T-o*w)*P,C[13]=(M*T-k*f+a*w)*P,C[14]=(u*g-s*v-p*x)*P,C[15]=(i*v-n*g+r*x)*P,C):null}},65551:function(q,C,e){var M=e(71551);q.exports=function(k,a,_,b){var h,o,t,i,n,r,l,s,u,p,c=a[0],x=a[1],g=a[2],d=b[0],v=b[1],y=b[2],m=_[0],w=_[1],f=_[2];return Math.abs(c-m)<1e-6&&Math.abs(x-w)<1e-6&&Math.abs(g-f)<1e-6?M(k):(l=c-m,s=x-w,u=g-f,h=v*(u*=p=1/Math.sqrt(l*l+s*s+u*u))-y*(s*=p),o=y*(l*=p)-d*u,t=d*s-v*l,(p=Math.sqrt(h*h+o*o+t*t))?(h*=p=1/p,o*=p,t*=p):(h=0,o=0,t=0),i=s*t-u*o,n=u*h-l*t,r=l*o-s*h,(p=Math.sqrt(i*i+n*n+r*r))?(i*=p=1/p,n*=p,r*=p):(i=0,n=0,r=0),k[0]=h,k[1]=i,k[2]=l,k[3]=0,k[4]=o,k[5]=n,k[6]=s,k[7]=0,k[8]=t,k[9]=r,k[10]=u,k[11]=0,k[12]=-(h*c+o*x+t*g),k[13]=-(i*c+n*x+r*g),k[14]=-(l*c+s*x+u*g),k[15]=1,k)}},91362:function(q){q.exports=function(C,e,M){var k=e[0],a=e[1],_=e[2],b=e[3],h=e[4],o=e[5],t=e[6],i=e[7],n=e[8],r=e[9],l=e[10],s=e[11],u=e[12],p=e[13],c=e[14],x=e[15],g=M[0],d=M[1],v=M[2],y=M[3];return C[0]=g*k+d*h+v*n+y*u,C[1]=g*a+d*o+v*r+y*p,C[2]=g*_+d*t+v*l+y*c,C[3]=g*b+d*i+v*s+y*x,g=M[4],d=M[5],v=M[6],y=M[7],C[4]=g*k+d*h+v*n+y*u,C[5]=g*a+d*o+v*r+y*p,C[6]=g*_+d*t+v*l+y*c,C[7]=g*b+d*i+v*s+y*x,g=M[8],d=M[9],v=M[10],y=M[11],C[8]=g*k+d*h+v*n+y*u,C[9]=g*a+d*o+v*r+y*p,C[10]=g*_+d*t+v*l+y*c,C[11]=g*b+d*i+v*s+y*x,g=M[12],d=M[13],v=M[14],y=M[15],C[12]=g*k+d*h+v*n+y*u,C[13]=g*a+d*o+v*r+y*p,C[14]=g*_+d*t+v*l+y*c,C[15]=g*b+d*i+v*s+y*x,C}},60378:function(q){q.exports=function(C,e,M,k,a,_,b){var h=1/(e-M),o=1/(k-a),t=1/(_-b);return C[0]=-2*h,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=-2*o,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=2*t,C[11]=0,C[12]=(e+M)*h,C[13]=(a+k)*o,C[14]=(b+_)*t,C[15]=1,C}},7864:function(q){q.exports=function(C,e,M,k,a){var _=1/Math.tan(e/2),b=1/(k-a);return C[0]=_/M,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=_,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=(a+k)*b,C[11]=-1,C[12]=0,C[13]=0,C[14]=2*a*k*b,C[15]=0,C}},35279:function(q){q.exports=function(C,e,M,k){var a=Math.tan(e.upDegrees*Math.PI/180),_=Math.tan(e.downDegrees*Math.PI/180),b=Math.tan(e.leftDegrees*Math.PI/180),h=Math.tan(e.rightDegrees*Math.PI/180),o=2/(b+h),t=2/(a+_);return C[0]=o,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=t,C[6]=0,C[7]=0,C[8]=-(b-h)*o*.5,C[9]=(a-_)*t*.5,C[10]=k/(M-k),C[11]=-1,C[12]=0,C[13]=0,C[14]=k*M/(M-k),C[15]=0,C}},65074:function(q){q.exports=function(C,e,M,k){var a,_,b,h,o,t,i,n,r,l,s,u,p,c,x,g,d,v,y,m,w,f,S,T,E=k[0],O=k[1],P=k[2],I=Math.sqrt(E*E+O*O+P*P);return Math.abs(I)<1e-6?null:(E*=I=1/I,O*=I,P*=I,a=Math.sin(M),b=1-(_=Math.cos(M)),h=e[0],o=e[1],t=e[2],i=e[3],n=e[4],r=e[5],l=e[6],s=e[7],u=e[8],p=e[9],c=e[10],x=e[11],g=E*E*b+_,d=O*E*b+P*a,v=P*E*b-O*a,y=E*O*b-P*a,m=O*O*b+_,w=P*O*b+E*a,f=E*P*b+O*a,S=O*P*b-E*a,T=P*P*b+_,C[0]=h*g+n*d+u*v,C[1]=o*g+r*d+p*v,C[2]=t*g+l*d+c*v,C[3]=i*g+s*d+x*v,C[4]=h*y+n*m+u*w,C[5]=o*y+r*m+p*w,C[6]=t*y+l*m+c*w,C[7]=i*y+s*m+x*w,C[8]=h*f+n*S+u*T,C[9]=o*f+r*S+p*T,C[10]=t*f+l*S+c*T,C[11]=i*f+s*S+x*T,e!==C&&(C[12]=e[12],C[13]=e[13],C[14]=e[14],C[15]=e[15]),C)}},35545:function(q){q.exports=function(C,e,M){var k=Math.sin(M),a=Math.cos(M),_=e[4],b=e[5],h=e[6],o=e[7],t=e[8],i=e[9],n=e[10],r=e[11];return e!==C&&(C[0]=e[0],C[1]=e[1],C[2]=e[2],C[3]=e[3],C[12]=e[12],C[13]=e[13],C[14]=e[14],C[15]=e[15]),C[4]=_*a+t*k,C[5]=b*a+i*k,C[6]=h*a+n*k,C[7]=o*a+r*k,C[8]=t*a-_*k,C[9]=i*a-b*k,C[10]=n*a-h*k,C[11]=r*a-o*k,C}},94918:function(q){q.exports=function(C,e,M){var k=Math.sin(M),a=Math.cos(M),_=e[0],b=e[1],h=e[2],o=e[3],t=e[8],i=e[9],n=e[10],r=e[11];return e!==C&&(C[4]=e[4],C[5]=e[5],C[6]=e[6],C[7]=e[7],C[12]=e[12],C[13]=e[13],C[14]=e[14],C[15]=e[15]),C[0]=_*a-t*k,C[1]=b*a-i*k,C[2]=h*a-n*k,C[3]=o*a-r*k,C[8]=_*k+t*a,C[9]=b*k+i*a,C[10]=h*k+n*a,C[11]=o*k+r*a,C}},15692:function(q){q.exports=function(C,e,M){var k=Math.sin(M),a=Math.cos(M),_=e[0],b=e[1],h=e[2],o=e[3],t=e[4],i=e[5],n=e[6],r=e[7];return e!==C&&(C[8]=e[8],C[9]=e[9],C[10]=e[10],C[11]=e[11],C[12]=e[12],C[13]=e[13],C[14]=e[14],C[15]=e[15]),C[0]=_*a+t*k,C[1]=b*a+i*k,C[2]=h*a+n*k,C[3]=o*a+r*k,C[4]=t*a-_*k,C[5]=i*a-b*k,C[6]=n*a-h*k,C[7]=r*a-o*k,C}},10789:function(q){q.exports=function(C,e,M){var k=M[0],a=M[1],_=M[2];return C[0]=e[0]*k,C[1]=e[1]*k,C[2]=e[2]*k,C[3]=e[3]*k,C[4]=e[4]*a,C[5]=e[5]*a,C[6]=e[6]*a,C[7]=e[7]*a,C[8]=e[8]*_,C[9]=e[9]*_,C[10]=e[10]*_,C[11]=e[11]*_,C[12]=e[12],C[13]=e[13],C[14]=e[14],C[15]=e[15],C}},6726:function(q){q.exports=function(C){return"mat4("+C[0]+", "+C[1]+", "+C[2]+", "+C[3]+", "+C[4]+", "+C[5]+", "+C[6]+", "+C[7]+", "+C[8]+", "+C[9]+", "+C[10]+", "+C[11]+", "+C[12]+", "+C[13]+", "+C[14]+", "+C[15]+")"}},31283:function(q){q.exports=function(C,e,M){var k,a,_,b,h,o,t,i,n,r,l,s,u=M[0],p=M[1],c=M[2];return e===C?(C[12]=e[0]*u+e[4]*p+e[8]*c+e[12],C[13]=e[1]*u+e[5]*p+e[9]*c+e[13],C[14]=e[2]*u+e[6]*p+e[10]*c+e[14],C[15]=e[3]*u+e[7]*p+e[11]*c+e[15]):(k=e[0],a=e[1],_=e[2],b=e[3],h=e[4],o=e[5],t=e[6],i=e[7],n=e[8],r=e[9],l=e[10],s=e[11],C[0]=k,C[1]=a,C[2]=_,C[3]=b,C[4]=h,C[5]=o,C[6]=t,C[7]=i,C[8]=n,C[9]=r,C[10]=l,C[11]=s,C[12]=k*u+h*p+n*c+e[12],C[13]=a*u+o*p+r*c+e[13],C[14]=_*u+t*p+l*c+e[14],C[15]=b*u+i*p+s*c+e[15]),C}},88654:function(q){q.exports=function(C,e){if(C===e){var M=e[1],k=e[2],a=e[3],_=e[6],b=e[7],h=e[11];C[1]=e[4],C[2]=e[8],C[3]=e[12],C[4]=M,C[6]=e[9],C[7]=e[13],C[8]=k,C[9]=_,C[11]=e[14],C[12]=a,C[13]=b,C[14]=h}else C[0]=e[0],C[1]=e[4],C[2]=e[8],C[3]=e[12],C[4]=e[1],C[5]=e[5],C[6]=e[9],C[7]=e[13],C[8]=e[2],C[9]=e[6],C[10]=e[10],C[11]=e[14],C[12]=e[3],C[13]=e[7],C[14]=e[11],C[15]=e[15];return C}},42505:function(q,C,e){var M=e(72791),k=e(71299),a=e(98580),_=e(12018),b=e(83522),h=e(25075),o=e(68016),t=e(58404),i=e(18863),n=e(10973),r=e(25677),l=e(75686),s=e(53545),u=e(56131),p=e(32879),c=e(30120),x=e(13547).nextPow2,g=new b,d=!1;if(document.body){var v=document.body.appendChild(document.createElement("div"));v.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(v).fontStretch&&(d=!0),document.body.removeChild(v)}var y=function(m){(function(w){return typeof w=="function"&&w._gl&&w.prop&&w.texture&&w.buffer})(m)?(m={regl:m},this.gl=m.regl._gl):this.gl=_(m),this.shader=g.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=m.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),g.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(n(m)?m:{})};y.prototype.createShader=function(){var m=this.regl,w=m({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:m.prop("count"),offset:m.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:m.this("sizeBuffer")},width:{offset:0,stride:8,buffer:m.this("sizeBuffer")},char:m.this("charBuffer"),position:m.this("position")},uniforms:{atlasSize:function(f,S){return[S.atlas.width,S.atlas.height]},atlasDim:function(f,S){return[S.atlas.cols,S.atlas.rows]},atlas:function(f,S){return S.atlas.texture},charStep:function(f,S){return S.atlas.step},em:function(f,S){return S.atlas.em},color:m.prop("color"),opacity:m.prop("opacity"),viewport:m.this("viewportArray"),scale:m.this("scale"),align:m.prop("align"),baseline:m.prop("baseline"),translate:m.this("translate"),positionOffset:m.prop("positionOffset")},primitive:"points",viewport:m.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`});return{regl:m,draw:w,atlas:{}}},y.prototype.update=function(m){var w=this;if(typeof m=="string")m={text:m};else if(!m)return;(m=k(m,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity!=null&&(Array.isArray(m.opacity)?this.opacity=m.opacity.map(function(he){return parseFloat(he)}):this.opacity=parseFloat(m.opacity)),m.viewport!=null&&(this.viewport=i(m.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),m.kerning!=null&&(this.kerning=m.kerning),m.offset!=null&&(typeof m.offset=="number"&&(m.offset=[m.offset,0]),this.positionOffset=c(m.offset)),m.direction&&(this.direction=m.direction),m.range&&(this.range=m.range,this.scale=[1/(m.range[2]-m.range[0]),1/(m.range[3]-m.range[1])],this.translate=[-m.range[0],-m.range[1]]),m.scale&&(this.scale=m.scale),m.translate&&(this.translate=m.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||m.font||(m.font=y.baseFontSize+"px sans-serif");var f,S=!1,T=!1;if(m.font&&(Array.isArray(m.font)?m.font:[m.font]).forEach(function(he,Se){if(typeof he=="string")try{he=M.parse(he)}catch{he=M.parse(y.baseFontSize+"px "+he)}else he=M.parse(M.stringify(he));var _e=M.stringify({size:y.baseFontSize,family:he.family,stretch:d?he.stretch:void 0,variant:he.variant,weight:he.weight,style:he.style}),Ae=r(he.size),Ce=Math.round(Ae[0]*l(Ae[1]));if(Ce!==w.fontSize[Se]&&(T=!0,w.fontSize[Se]=Ce),!(w.font[Se]&&_e==w.font[Se].baseString||(S=!0,w.font[Se]=y.fonts[_e],w.font[Se]))){var Re=he.family.join(", "),fe=[he.style];he.style!=he.variant&&fe.push(he.variant),he.variant!=he.weight&&fe.push(he.weight),d&&he.weight!=he.stretch&&fe.push(he.stretch),w.font[Se]={baseString:_e,family:Re,weight:he.weight,stretch:he.stretch,style:he.style,variant:he.variant,width:{},kerning:{},metrics:p(Re,{origin:"top",fontSize:y.baseFontSize,fontStyle:fe.join(" ")})},y.fonts[_e]=w.font[Se]}}),(S||T)&&this.font.forEach(function(he,Se){var _e=M.stringify({size:w.fontSize[Se],family:he.family,stretch:d?he.stretch:void 0,variant:he.variant,weight:he.weight,style:he.style});if(w.fontAtlas[Se]=w.shader.atlas[_e],!w.fontAtlas[Se]){var Ae=he.metrics;w.shader.atlas[_e]=w.fontAtlas[Se]={fontString:_e,step:2*Math.ceil(w.fontSize[Se]*Ae.bottom*.5),em:w.fontSize[Se],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:w.regl.texture()}}m.text==null&&(m.text=w.text)}),typeof m.text=="string"&&m.position&&m.position.length>2){for(var E=Array(.5*m.position.length),O=0;O<E.length;O++)E[O]=m.text;m.text=E}if(m.text!=null||S){if(this.textOffsets=[0],Array.isArray(m.text)){this.count=m.text[0].length,this.counts=[this.count];for(var P=1;P<m.text.length;P++)this.textOffsets[P]=this.textOffsets[P-1]+m.text[P-1].length,this.count+=m.text[P].length,this.counts.push(m.text[P].length);this.text=m.text.join("")}else this.text=m.text,this.count=this.text.length,this.counts=[this.count];f=[],this.font.forEach(function(he,Se){y.atlasContext.font=he.baseString;for(var _e=w.fontAtlas[Se],Ae=0;Ae<w.text.length;Ae++){var Ce=w.text.charAt(Ae);if(_e.ids[Ce]==null&&(_e.ids[Ce]=_e.chars.length,_e.chars.push(Ce),f.push(Ce)),he.width[Ce]==null&&(he.width[Ce]=y.atlasContext.measureText(Ce).width/y.baseFontSize,w.kerning)){var Re=[];for(var fe in he.width)Re.push(fe+Ce,Ce+fe);u(he.kerning,s(he.family,{pairs:Re}))}}})}if(m.position)if(m.position.length>2){for(var I=!m.position[0].length,z=t.mallocFloat(2*this.count),j=0,R=0;j<this.counts.length;j++){var N=this.counts[j];if(I)for(var Z=0;Z<N;Z++)z[R++]=m.position[2*j],z[R++]=m.position[2*j+1];else for(var F=0;F<N;F++)z[R++]=m.position[j][0],z[R++]=m.position[j][1]}this.position.call?this.position({type:"float",data:z}):this.position=this.regl.buffer({type:"float",data:z}),t.freeFloat(z)}else this.position.destroy&&this.position.destroy(),this.position={constant:m.position};if(m.text||S){var U=t.mallocUint8(this.count),V=t.mallocFloat(2*this.count);this.textWidth=[];for(var te=0,Q=0;te<this.counts.length;te++){for(var J=this.counts[te],X=this.font[te]||this.font[0],K=this.fontAtlas[te]||this.fontAtlas[0],ee=0;ee<J;ee++){var re=this.text.charAt(Q),ie=this.text.charAt(Q-1);if(U[Q]=K.ids[re],V[2*Q]=X.width[re],ee){var ae=V[2*Q-2],ue=V[2*Q],pe=V[2*Q-1]+.5*ae+.5*ue;if(this.kerning){var de=X.kerning[ie+re];de&&(pe+=.001*de)}V[2*Q+1]=pe}else V[2*Q+1]=.5*V[2*Q];Q++}this.textWidth.push(V.length?.5*V[2*Q-2]+V[2*Q-1]:0)}m.align||(m.align=this.align),this.charBuffer({data:U,type:"uint8",usage:"stream"}),this.sizeBuffer({data:V,type:"float",usage:"stream"}),t.freeUint8(U),t.freeFloat(V),f.length&&this.font.forEach(function(he,Se){var _e=w.fontAtlas[Se],Ae=_e.step,Ce=Math.floor(y.maxAtlasSize/Ae),Re=Math.min(Ce,_e.chars.length),fe=Math.ceil(_e.chars.length/Re),xe=x(Re*Ae),ke=x(fe*Ae);_e.width=xe,_e.height=ke,_e.rows=fe,_e.cols=Re,_e.em&&_e.texture({data:o({canvas:y.atlasCanvas,font:_e.fontString,chars:_e.chars,shape:[xe,ke],step:[Ae,Ae]})})})}if(m.align&&(this.align=m.align,this.alignOffset=this.textWidth.map(function(he,Se){var _e=Array.isArray(w.align)?w.align.length>1?w.align[Se]:w.align[0]:w.align;if(typeof _e=="number")return _e;switch(_e){case"right":case"end":return-he;case"center":case"centre":case"middle":return .5*-he}return 0})),this.baseline==null&&m.baseline==null&&(m.baseline=0),m.baseline!=null&&(this.baseline=m.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(he,Se){var _e=(w.font[Se]||w.font[0]).metrics,Ae=0;return Ae+=.5*_e.bottom,-1*(Ae+=typeof he=="number"?he-_e.baseline:-_e[he])})),m.color!=null)if(m.color||(m.color="transparent"),typeof m.color!="string"&&isNaN(m.color)){var ye;if(typeof m.color[0]=="number"&&m.color.length>this.counts.length){var be=m.color.length;ye=t.mallocUint8(be);for(var me=(m.color.subarray||m.color.slice).bind(m.color),Ee=0;Ee<be;Ee+=4)ye.set(h(me(Ee,Ee+4),"uint8"),Ee)}else{var Te=m.color.length;ye=t.mallocUint8(4*Te);for(var we=0;we<Te;we++)ye.set(h(m.color[we]||0,"uint8"),4*we)}this.color=ye}else this.color=h(m.color,"uint8");if(m.position||m.text||m.color||m.baseline||m.align||m.font||m.offset||m.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var oe=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(oe);for(var se=0;se<this.batch.length;se++)this.batch[se]={count:this.counts.length>1?this.counts[se]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[se]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*se,4*se+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[se]:this.opacity,baseline:this.baselineOffset[se]!=null?this.baselineOffset[se]:this.baselineOffset[0],align:this.align?this.alignOffset[se]!=null?this.alignOffset[se]:this.alignOffset[0]:0,atlas:this.fontAtlas[se]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*se,2*se+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]},y.prototype.destroy=function(){},y.prototype.kerning=!0,y.prototype.position={constant:new Float32Array(2)},y.prototype.translate=null,y.prototype.scale=null,y.prototype.font=null,y.prototype.text="",y.prototype.positionOffset=[0,0],y.prototype.opacity=1,y.prototype.color=new Uint8Array([0,0,0,255]),y.prototype.alignOffset=[0,0],y.maxAtlasSize=1024,y.atlasCanvas=document.createElement("canvas"),y.atlasContext=y.atlasCanvas.getContext("2d",{alpha:!1}),y.baseFontSize=64,y.fonts={},q.exports=y},12018:function(q,C,e){var M=e(71299);function k(b){if(b.container)if(b.container==document.body)document.body.style.width||(b.canvas.width=b.width||b.pixelRatio*e.g.innerWidth),document.body.style.height||(b.canvas.height=b.height||b.pixelRatio*e.g.innerHeight);else{var h=b.container.getBoundingClientRect();b.canvas.width=b.width||h.right-h.left,b.canvas.height=b.height||h.bottom-h.top}}function a(b){return typeof b.getContext=="function"&&"width"in b&&"height"in b}function _(){var b=document.createElement("canvas");return b.style.position="absolute",b.style.top=0,b.style.left=0,b}q.exports=function(b){var h;if(b?typeof b=="string"&&(b={container:b}):b={},(b=a(b)||typeof(h=b).nodeName=="string"&&typeof h.appendChild=="function"&&typeof h.getBoundingClientRect=="function"?{container:b}:function(t){return typeof t.drawArrays=="function"||typeof t.drawElements=="function"}(b)?{gl:b}:M(b,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0)).pixelRatio||(b.pixelRatio=e.g.pixelRatio||1),b.gl)return b.gl;if(b.canvas&&(b.container=b.canvas.parentNode),b.container){if(typeof b.container=="string"){var o=document.querySelector(b.container);if(!o)throw Error("Element "+b.container+" is not found");b.container=o}a(b.container)?(b.canvas=b.container,b.container=b.canvas.parentNode):b.canvas||(b.canvas=_(),b.container.appendChild(b.canvas),k(b))}else if(!b.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");b.container=document.body||document.documentElement,b.canvas=_(),b.container.appendChild(b.canvas),k(b)}return b.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(t){try{b.gl=b.canvas.getContext(t,b.attrs)}catch{}return b.gl}),b.gl}},56068:function(q){q.exports=function(C){typeof C=="string"&&(C=[C]);for(var e=[].slice.call(arguments,1),M=[],k=0;k<C.length-1;k++)M.push(C[k],e[k]||"");return M.push(C[k]),M.join("")}},40383:function(q,C,e){var M=e(68318)("%Object.getOwnPropertyDescriptor%",!0);if(M)try{M([],"length")}catch{M=null}q.exports=M},57035:function(q,C,e){var M,k=e(54404);M=typeof e.g.matchMedia=="function"?!e.g.matchMedia("(hover: none)").matches:k,q.exports=M},38520:function(q,C,e){var M=e(54404);q.exports=M&&function(){var k=!1;try{var a=Object.defineProperty({},"passive",{get:function(){k=!0}});window.addEventListener("test",null,a),window.removeEventListener("test",null,a)}catch{k=!1}return k}()},55622:function(q,C,e){var M=e(68318)("%Object.defineProperty%",!0),k=function(){if(M)try{return M({},"a",{value:1}),!0}catch{return!1}return!1};k.hasArrayLengthDefineBug=function(){if(!k())return null;try{return M([],"length",{value:1}).length!==1}catch{return!0}},q.exports=k},57877:function(q,C,e){var M=typeof Symbol<"u"&&Symbol,k=e(35638);q.exports=function(){return typeof M=="function"&&typeof Symbol=="function"&&typeof M("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&k()}},35638:function(q){q.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var C={},e=Symbol("test"),M=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(M)!=="[object Symbol]")return!1;for(e in C[e]=42,C)return!1;if(typeof Object.keys=="function"&&Object.keys(C).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(C).length!==0)return!1;var k=Object.getOwnPropertySymbols(C);if(k.length!==1||k[0]!==e||!Object.prototype.propertyIsEnumerable.call(C,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(C,e);if(a.value!==42||a.enumerable!==!0)return!1}return!0}},84543:function(q,C,e){var M=e(35638);q.exports=function(){return M()&&!!Symbol.toStringTag}},35065:function(q,C,e){var M=e(77575);q.exports=M.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(q,C){C.read=function(e,M,k,a,_){var b,h,o=8*_-a-1,t=(1<<o)-1,i=t>>1,n=-7,r=k?_-1:0,l=k?-1:1,s=e[M+r];for(r+=l,b=s&(1<<-n)-1,s>>=-n,n+=o;n>0;b=256*b+e[M+r],r+=l,n-=8);for(h=b&(1<<-n)-1,b>>=-n,n+=a;n>0;h=256*h+e[M+r],r+=l,n-=8);if(b===0)b=1-i;else{if(b===t)return h?NaN:1/0*(s?-1:1);h+=Math.pow(2,a),b-=i}return(s?-1:1)*h*Math.pow(2,b-a)},C.write=function(e,M,k,a,_,b){var h,o,t,i=8*b-_-1,n=(1<<i)-1,r=n>>1,l=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,s=a?0:b-1,u=a?1:-1,p=M<0||M===0&&1/M<0?1:0;for(M=Math.abs(M),isNaN(M)||M===1/0?(o=isNaN(M)?1:0,h=n):(h=Math.floor(Math.log(M)/Math.LN2),M*(t=Math.pow(2,-h))<1&&(h--,t*=2),(M+=h+r>=1?l/t:l*Math.pow(2,1-r))*t>=2&&(h++,t/=2),h+r>=n?(o=0,h=n):h+r>=1?(o=(M*t-1)*Math.pow(2,_),h+=r):(o=M*Math.pow(2,r-1)*Math.pow(2,_),h=0));_>=8;e[k+s]=255&o,s+=u,o/=256,_-=8);for(h=h<<_|o,i+=_;i>0;e[k+s]=255&h,s+=u,h/=256,i-=8);e[k+s-u]|=128*p}},42018:function(q){typeof Object.create=="function"?q.exports=function(C,e){e&&(C.super_=e,C.prototype=Object.create(e.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}))}:q.exports=function(C,e){if(e){C.super_=e;var M=function(){};M.prototype=e.prototype,C.prototype=new M,C.prototype.constructor=C}}},47216:function(q,C,e){var M=e(84543)(),k=e(6614)("Object.prototype.toString"),a=function(h){return!(M&&h&&typeof h=="object"&&Symbol.toStringTag in h)&&k(h)==="[object Arguments]"},_=function(h){return!!a(h)||h!==null&&typeof h=="object"&&typeof h.length=="number"&&h.length>=0&&k(h)!=="[object Array]"&&k(h.callee)==="[object Function]"},b=function(){return a(arguments)}();a.isLegacyArguments=_,q.exports=b?a:_},54404:function(q){q.exports=!0},85395:function(q){var C,e,M=Function.prototype.toString,k=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof k=="function"&&typeof Object.defineProperty=="function")try{C=Object.defineProperty({},"length",{get:function(){throw e}}),e={},k(function(){throw 42},null,C)}catch(r){r!==e&&(k=null)}else k=null;var a=/^\s*class\b/,_=function(r){try{var l=M.call(r);return a.test(l)}catch{return!1}},b=function(r){try{return!_(r)&&(M.call(r),!0)}catch{return!1}},h=Object.prototype.toString,o=typeof Symbol=="function"&&!!Symbol.toStringTag,t=!(0 in[,]),i=function(){return!1};if(typeof document=="object"){var n=document.all;h.call(n)===h.call(document.all)&&(i=function(r){if((t||!r)&&(r===void 0||typeof r=="object"))try{var l=h.call(r);return(l==="[object HTMLAllCollection]"||l==="[object HTML document.all class]"||l==="[object HTMLCollection]"||l==="[object Object]")&&r("")==null}catch{}return!1})}q.exports=k?function(r){if(i(r))return!0;if(!r||typeof r!="function"&&typeof r!="object")return!1;try{k(r,null,C)}catch(l){if(l!==e)return!1}return!_(r)&&b(r)}:function(r){if(i(r))return!0;if(!r||typeof r!="function"&&typeof r!="object")return!1;if(o)return b(r);if(_(r))return!1;var l=h.call(r);return!(l!=="[object Function]"&&l!=="[object GeneratorFunction]"&&!/^\[object HTML/.test(l))&&b(r)}},65481:function(q,C,e){var M,k=Object.prototype.toString,a=Function.prototype.toString,_=/^\s*(?:function)?\*/,b=e(84543)(),h=Object.getPrototypeOf;q.exports=function(o){if(typeof o!="function")return!1;if(_.test(a.call(o)))return!0;if(!b)return k.call(o)==="[object GeneratorFunction]";if(!h)return!1;if(M===void 0){var t=function(){if(!b)return!1;try{return Function("return function*() {}")()}catch{}}();M=!!t&&h(t)}return h(o)===M}},62683:function(q){q.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(q){q.exports=function(C){return C!=C}},15567:function(q,C,e){var M=e(68222),k=e(17045),a=e(64274),_=e(14922),b=e(22442),h=M(_(),Number);k(h,{getPolyfill:_,implementation:a,shim:b}),q.exports=h},14922:function(q,C,e){var M=e(64274);q.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:M}},22442:function(q,C,e){var M=e(17045),k=e(14922);q.exports=function(){var a=k();return M(Number,{isNaN:a},{isNaN:function(){return Number.isNaN!==a}}),a}},64941:function(q){q.exports=function(C){var e=typeof C;return C!==null&&(e==="object"||e==="function")}},10973:function(q){var C=Object.prototype.toString;q.exports=function(e){var M;return C.call(e)==="[object Object]"&&((M=Object.getPrototypeOf(e))===null||M===Object.getPrototypeOf({}))}},18546:function(q){q.exports=function(C){for(var e,M=C.length,k=0;k<M;k++)if(((e=C.charCodeAt(k))<9||e>13)&&e!==32&&e!==133&&e!==160&&e!==5760&&e!==6158&&(e<8192||e>8205)&&e!==8232&&e!==8233&&e!==8239&&e!==8287&&e!==8288&&e!==12288&&e!==65279)return!1;return!0}},89546:function(q){q.exports=function(C){return typeof C=="string"&&(C=C.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(C)&&/[\dz]$/i.test(C)&&C.length>4))}},9187:function(q,C,e){var M=e(31353),k=e(72077),a=e(6614),_=a("Object.prototype.toString"),b=e(84543)(),h=e(40383),o=typeof globalThis>"u"?e.g:globalThis,t=k(),i=a("Array.prototype.indexOf",!0)||function(s,u){for(var p=0;p<s.length;p+=1)if(s[p]===u)return p;return-1},n=a("String.prototype.slice"),r={},l=Object.getPrototypeOf;b&&h&&l&&M(t,function(s){var u=new o[s];if(Symbol.toStringTag in u){var p=l(u),c=h(p,Symbol.toStringTag);if(!c){var x=l(p);c=h(x,Symbol.toStringTag)}r[s]=c.get}}),q.exports=function(s){if(!s||typeof s!="object")return!1;if(!b||!(Symbol.toStringTag in s)){var u=n(_(s),8,-1);return i(t,u)>-1}return!!h&&function(p){var c=!1;return M(r,function(x,g){if(!c)try{c=x.call(p)===g}catch{}}),c}(s)}},27084:function(q){q.exports=Math.log2||function(C){return Math.log(C)*Math.LOG2E}},16825:function(q,C,e){q.exports=function(k,a){a||(a=k,k=window);var _=0,b=0,h=0,o={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function i(d){var v=!1;return"altKey"in d&&(v=v||d.altKey!==o.alt,o.alt=!!d.altKey),"shiftKey"in d&&(v=v||d.shiftKey!==o.shift,o.shift=!!d.shiftKey),"ctrlKey"in d&&(v=v||d.ctrlKey!==o.control,o.control=!!d.ctrlKey),"metaKey"in d&&(v=v||d.metaKey!==o.meta,o.meta=!!d.metaKey),v}function n(d,v){var y=M.x(v),m=M.y(v);"buttons"in v&&(d=0|v.buttons),(d!==_||y!==b||m!==h||i(v))&&(_=0|d,b=y||0,h=m||0,a&&a(_,b,h,o))}function r(d){n(0,d)}function l(){(_||b||h||o.shift||o.alt||o.meta||o.control)&&(b=h=0,_=0,o.shift=o.alt=o.control=o.meta=!1,a&&a(0,0,0,o))}function s(d){i(d)&&a&&a(_,b,h,o)}function u(d){M.buttons(d)===0?n(0,d):n(_,d)}function p(d){n(_|M.buttons(d),d)}function c(d){n(_&~M.buttons(d),d)}function x(){t||(t=!0,k.addEventListener("mousemove",u),k.addEventListener("mousedown",p),k.addEventListener("mouseup",c),k.addEventListener("mouseleave",r),k.addEventListener("mouseenter",r),k.addEventListener("mouseout",r),k.addEventListener("mouseover",r),k.addEventListener("blur",l),k.addEventListener("keyup",s),k.addEventListener("keydown",s),k.addEventListener("keypress",s),k!==window&&(window.addEventListener("blur",l),window.addEventListener("keyup",s),window.addEventListener("keydown",s),window.addEventListener("keypress",s)))}x();var g={element:k};return Object.defineProperties(g,{enabled:{get:function(){return t},set:function(d){d?x():t&&(t=!1,k.removeEventListener("mousemove",u),k.removeEventListener("mousedown",p),k.removeEventListener("mouseup",c),k.removeEventListener("mouseleave",r),k.removeEventListener("mouseenter",r),k.removeEventListener("mouseout",r),k.removeEventListener("mouseover",r),k.removeEventListener("blur",l),k.removeEventListener("keyup",s),k.removeEventListener("keydown",s),k.removeEventListener("keypress",s),k!==window&&(window.removeEventListener("blur",l),window.removeEventListener("keyup",s),window.removeEventListener("keydown",s),window.removeEventListener("keypress",s)))},enumerable:!0},buttons:{get:function(){return _},enumerable:!0},x:{get:function(){return b},enumerable:!0},y:{get:function(){return h},enumerable:!0},mods:{get:function(){return o},enumerable:!0}}),g};var M=e(74311)},48956:function(q){var C={left:0,top:0};q.exports=function(e,M,k){M=M||e.currentTarget||e.srcElement,Array.isArray(k)||(k=[0,0]);var a,_=e.clientX||0,b=e.clientY||0,h=(a=M)===window||a===document||a===document.body?C:a.getBoundingClientRect();return k[0]=_-h.left,k[1]=b-h.top,k}},74311:function(q,C){function e(M){return M.target||M.srcElement||window}C.buttons=function(M){if(typeof M=="object"){if("buttons"in M)return M.buttons;if("which"in M){if((k=M.which)===2)return 4;if(k===3)return 2;if(k>0)return 1<<k-1}else if("button"in M){var k;if((k=M.button)===1)return 4;if(k===2)return 2;if(k>=0)return 1<<k}}return 0},C.element=e,C.x=function(M){if(typeof M=="object"){if("offsetX"in M)return M.offsetX;var k=e(M).getBoundingClientRect();return M.clientX-k.left}return 0},C.y=function(M){if(typeof M=="object"){if("offsetY"in M)return M.offsetY;var k=e(M).getBoundingClientRect();return M.clientY-k.top}return 0}},1195:function(q,C,e){var M=e(75686);q.exports=function(k,a,_){typeof k=="function"&&(_=!!a,a=k,k=window);var b=M("ex",k),h=function(o){_&&o.preventDefault();var t=o.deltaX||0,i=o.deltaY||0,n=o.deltaZ||0,r=1;switch(o.deltaMode){case 1:r=b;break;case 2:r=window.innerHeight}if(i*=r,n*=r,(t*=r)||i||n)return a(t,i,n,o)};return k.addEventListener("wheel",h),h}},7417:function(q,C,e){var M;(function(k,a,_){a[k]=a[k]||function(){var b,h,o,t=Object.prototype.toString,i=typeof setImmediate<"u"?function(y){return setImmediate(y)}:setTimeout;try{Object.defineProperty({},"x",{}),b=function(y,m,w,f){return Object.defineProperty(y,m,{value:w,writable:!0,configurable:f!==!1})}}catch{b=function(m,w,f){return m[w]=f,m}}function n(y,m){o.add(y,m),h||(h=i(o.drain))}function r(y){var m,w=typeof y;return y==null||w!="object"&&w!="function"||(m=y.then),typeof m=="function"&&m}function l(){for(var y=0;y<this.chain.length;y++)s(this,this.state===1?this.chain[y].success:this.chain[y].failure,this.chain[y]);this.chain.length=0}function s(y,m,w){var f,S;try{m===!1?w.reject(y.msg):(f=m===!0?y.msg:m.call(void 0,y.msg))===w.promise?w.reject(TypeError("Promise-chain cycle")):(S=r(f))?S.call(f,w.resolve,w.reject):w.resolve(f)}catch(T){w.reject(T)}}function u(y){var m,w=this;if(!w.triggered){w.triggered=!0,w.def&&(w=w.def);try{(m=r(y))?n(function(){var f=new x(w);try{m.call(y,function(){u.apply(f,arguments)},function(){p.apply(f,arguments)})}catch(S){p.call(f,S)}}):(w.msg=y,w.state=1,w.chain.length>0&&n(l,w))}catch(f){p.call(new x(w),f)}}}function p(y){var m=this;m.triggered||(m.triggered=!0,m.def&&(m=m.def),m.msg=y,m.state=2,m.chain.length>0&&n(l,m))}function c(y,m,w,f){for(var S=0;S<m.length;S++)(function(T){y.resolve(m[T]).then(function(E){w(T,E)},f)})(S)}function x(y){this.def=y,this.triggered=!1}function g(y){this.promise=y,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function d(y){if(typeof y!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var m=new g(this);this.then=function(w,f){var S={success:typeof w!="function"||w,failure:typeof f=="function"&&f};return S.promise=new this.constructor(function(T,E){if(typeof T!="function"||typeof E!="function")throw TypeError("Not a function");S.resolve=T,S.reject=E}),m.chain.push(S),m.state!==0&&n(l,m),S.promise},this.catch=function(w){return this.then(void 0,w)};try{y.call(void 0,function(w){u.call(m,w)},function(w){p.call(m,w)})}catch(w){p.call(m,w)}}o=function(){var y,m,w;function f(S,T){this.fn=S,this.self=T,this.next=void 0}return{add:function(S,T){w=new f(S,T),m?m.next=w:y=w,m=w,w=void 0},drain:function(){var S=y;for(y=m=h=void 0;S;)S.fn.call(S.self),S=S.next}}}();var v=b({},"constructor",d,!1);return d.prototype=v,b(v,"__NPO__",0,!1),b(d,"resolve",function(y){return y&&typeof y=="object"&&y.__NPO__===1?y:new this(function(m,w){if(typeof m!="function"||typeof w!="function")throw TypeError("Not a function");m(y)})}),b(d,"reject",function(y){return new this(function(m,w){if(typeof m!="function"||typeof w!="function")throw TypeError("Not a function");w(y)})}),b(d,"all",function(y){var m=this;return t.call(y)!="[object Array]"?m.reject(TypeError("Not an array")):y.length===0?m.resolve([]):new m(function(w,f){if(typeof w!="function"||typeof f!="function")throw TypeError("Not a function");var S=y.length,T=Array(S),E=0;c(m,y,function(O,P){T[O]=P,++E===S&&w(T)},f)})}),b(d,"race",function(y){var m=this;return t.call(y)!="[object Array]"?m.reject(TypeError("Not an array")):new m(function(w,f){if(typeof w!="function"||typeof f!="function")throw TypeError("Not a function");c(m,y,function(S,T){w(T)},f)})}),d}(),q.exports?q.exports=a[k]:(M=(function(){return a[k]}).call(C,e,C,q))===void 0||(q.exports=M)})("Promise",e.g!==void 0?e.g:this)},18625:function(q){var C=Math.PI,e=b(120);function M(h,o,t,i){return["C",h,o,t,i,t,i]}function k(h,o,t,i,n,r){return["C",h/3+.6666666666666666*t,o/3+.6666666666666666*i,n/3+.6666666666666666*t,r/3+.6666666666666666*i,n,r]}function a(h,o,t,i,n,r,l,s,u,p){if(p)S=p[0],T=p[1],w=p[2],f=p[3];else{var c=_(h,o,-n);h=c.x,o=c.y;var x=(h-(s=(c=_(s,u,-n)).x))/2,g=(o-(u=c.y))/2,d=x*x/(t*t)+g*g/(i*i);d>1&&(t*=d=Math.sqrt(d),i*=d);var v=t*t,y=i*i,m=(r==l?-1:1)*Math.sqrt(Math.abs((v*y-v*g*g-y*x*x)/(v*g*g+y*x*x)));m==1/0&&(m=1);var w=m*t*g/i+(h+s)/2,f=m*-i*x/t+(o+u)/2,S=Math.asin(((o-f)/i).toFixed(9)),T=Math.asin(((u-f)/i).toFixed(9));(S=h<w?C-S:S)<0&&(S=2*C+S),(T=s<w?C-T:T)<0&&(T=2*C+T),l&&S>T&&(S-=2*C),!l&&T>S&&(T-=2*C)}if(Math.abs(T-S)>e){var E=T,O=s,P=u;T=S+e*(l&&T>S?1:-1);var I=a(s=w+t*Math.cos(T),u=f+i*Math.sin(T),t,i,n,0,l,O,P,[T,E,w,f])}var z=Math.tan((T-S)/4),j=4/3*t*z,R=4/3*i*z,N=[2*h-(h+j*Math.sin(S)),2*o-(o-R*Math.cos(S)),s+j*Math.sin(T),u-R*Math.cos(T),s,u];if(p)return N;I&&(N=N.concat(I));for(var Z=0;Z<N.length;){var F=_(N[Z],N[Z+1],n);N[Z++]=F.x,N[Z++]=F.y}return N}function _(h,o,t){return{x:h*Math.cos(t)-o*Math.sin(t),y:h*Math.sin(t)+o*Math.cos(t)}}function b(h){return h*(C/180)}q.exports=function(h){for(var o,t=[],i=0,n=0,r=0,l=0,s=null,u=null,p=0,c=0,x=0,g=h.length;x<g;x++){var d=h[x],v=d[0];switch(v){case"M":r=d[1],l=d[2];break;case"A":(d=a(p,c,d[1],d[2],b(d[3]),d[4],d[5],d[6],d[7])).unshift("C"),d.length>7&&(t.push(d.splice(0,7)),d.unshift("C"));break;case"S":var y=p,m=c;o!="C"&&o!="S"||(y+=y-i,m+=m-n),d=["C",y,m,d[1],d[2],d[3],d[4]];break;case"T":o=="Q"||o=="T"?(s=2*p-s,u=2*c-u):(s=p,u=c),d=k(p,c,s,u,d[1],d[2]);break;case"Q":s=d[1],u=d[2],d=k(p,c,d[1],d[2],d[3],d[4]);break;case"L":d=M(p,c,d[1],d[2]);break;case"H":d=M(p,c,d[1],c);break;case"V":d=M(p,c,p,d[1]);break;case"Z":d=M(p,c,r,l)}o=v,p=d[d.length-2],c=d[d.length-1],d.length>4?(i=d[d.length-4],n=d[d.length-3]):(i=p,n=c),t.push(d)}return t}},56131:function(q){var C=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;q.exports=function(){try{if(!Object.assign)return!1;var k=new String("abc");if(k[5]="de",Object.getOwnPropertyNames(k)[0]==="5")return!1;for(var a={},_=0;_<10;_++)a["_"+String.fromCharCode(_)]=_;if(Object.getOwnPropertyNames(a).map(function(h){return a[h]}).join("")!=="0123456789")return!1;var b={};return"abcdefghijklmnopqrst".split("").forEach(function(h){b[h]=h}),Object.keys(Object.assign({},b)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(k,a){for(var _,b,h=function(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}(k),o=1;o<arguments.length;o++){for(var t in _=Object(arguments[o]))e.call(_,t)&&(h[t]=_[t]);if(C){b=C(_);for(var i=0;i<b.length;i++)M.call(_,b[i])&&(h[b[i]]=_[b[i]])}}return h}},65848:function(q){var C=function(e){return e!=e};q.exports=function(e,M){return e===0&&M===0?1/e==1/M:e===M||!(!C(e)||!C(M))}},64003:function(q,C,e){var M=e(17045),k=e(68222),a=e(65848),_=e(27015),b=e(55572),h=k(_(),Object);M(h,{getPolyfill:_,implementation:a,shim:b}),q.exports=h},27015:function(q,C,e){var M=e(65848);q.exports=function(){return typeof Object.is=="function"?Object.is:M}},55572:function(q,C,e){var M=e(27015),k=e(17045);q.exports=function(){var a=M();return k(Object,{is:a},{is:function(){return Object.is!==a}}),a}},99019:function(q,C,e){var M;if(!Object.keys){var k=Object.prototype.hasOwnProperty,a=Object.prototype.toString,_=e(64178),b=Object.prototype.propertyIsEnumerable,h=!b.call({toString:null},"toString"),o=b.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=function(l){var s=l.constructor;return s&&s.prototype===l},n={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},r=function(){if(typeof window>"u")return!1;for(var l in window)try{if(!n["$"+l]&&k.call(window,l)&&window[l]!==null&&typeof window[l]=="object")try{i(window[l])}catch{return!0}}catch{return!0}return!1}();M=function(l){var s=l!==null&&typeof l=="object",u=a.call(l)==="[object Function]",p=_(l),c=s&&a.call(l)==="[object String]",x=[];if(!s&&!u&&!p)throw new TypeError("Object.keys called on a non-object");var g=o&&u;if(c&&l.length>0&&!k.call(l,0))for(var d=0;d<l.length;++d)x.push(String(d));if(p&&l.length>0)for(var v=0;v<l.length;++v)x.push(String(v));else for(var y in l)g&&y==="prototype"||!k.call(l,y)||x.push(String(y));if(h)for(var m=function(f){if(typeof window>"u"||!r)return i(f);try{return i(f)}catch{return!1}}(l),w=0;w<t.length;++w)m&&t[w]==="constructor"||!k.call(l,t[w])||x.push(t[w]);return x}}q.exports=M},8709:function(q,C,e){var M=Array.prototype.slice,k=e(64178),a=Object.keys,_=a?function(h){return a(h)}:e(99019),b=Object.keys;_.shim=function(){if(Object.keys){var h=function(){var o=Object.keys(arguments);return o&&o.length===arguments.length}(1,2);h||(Object.keys=function(o){return k(o)?b(M.call(o)):b(o)})}else Object.keys=_;return Object.keys||_},q.exports=_},64178:function(q){var C=Object.prototype.toString;q.exports=function(e){var M=C.call(e),k=M==="[object Arguments]";return k||(k=M!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&C.call(e.callee)==="[object Function]"),k}},88641:function(q){function C(k,a){if(typeof k!="string")return[k];var _=[k];typeof a=="string"||Array.isArray(a)?a={brackets:a}:a||(a={});var b=a.brackets?Array.isArray(a.brackets)?a.brackets:[a.brackets]:["{}","[]","()"],h=a.escape||"___",o=!!a.flat;b.forEach(function(i){var n=new RegExp(["\\",i[0],"[^\\",i[0],"\\",i[1],"]*\\",i[1]].join("")),r=[];function l(s,u,p){var c=_.push(s.slice(i[0].length,-i[1].length))-1;return r.push(c),h+c+h}_.forEach(function(s,u){for(var p,c=0;s!=p;)if(p=s,s=s.replace(n,l),c++>1e4)throw Error("References have circular dependency. Please, check them.");_[u]=s}),r=r.reverse(),_=_.map(function(s){return r.forEach(function(u){s=s.replace(new RegExp("(\\"+h+u+"\\"+h+")","g"),i[0]+"$1"+i[1])}),s})});var t=new RegExp("\\"+h+"([0-9]+)\\"+h);return o?_:function i(n,r,l){for(var s,u=[],p=0;s=t.exec(n);){if(p++>1e4)throw Error("Circular references in parenthesis");u.push(n.slice(0,s.index)),u.push(i(r[s[1]],r)),n=n.slice(s.index+s[0].length)}return u.push(n),u}(_[0],_)}function e(k,a){if(a&&a.flat){var _,b=a&&a.escape||"___",h=k[0];if(!h)return"";for(var o=new RegExp("\\"+b+"([0-9]+)\\"+b),t=0;h!=_;){if(t++>1e4)throw Error("Circular references in "+k);_=h,h=h.replace(o,i)}return h}return k.reduce(function n(r,l){return Array.isArray(l)&&(l=l.reduce(n,"")),r+l},"");function i(n,r){if(k[r]==null)throw Error("Reference "+r+"is undefined");return k[r]}}function M(k,a){return Array.isArray(k)?e(k,a):C(k,a)}M.parse=C,M.stringify=e,q.exports=M},18863:function(q,C,e){var M=e(71299);q.exports=function(k){var a;return arguments.length>1&&(k=arguments),typeof k=="string"?k=k.split(/\s/).map(parseFloat):typeof k=="number"&&(k=[k]),k.length&&typeof k[0]=="number"?a=k.length===1?{width:k[0],height:k[0],x:0,y:0}:k.length===2?{width:k[0],height:k[1],x:0,y:0}:{x:k[0],y:k[1],width:k[2]-k[0]||0,height:k[3]-k[1]||0}:k&&(a={x:(k=M(k,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:k.top||0},k.width==null?k.right?a.width=k.right-a.x:a.width=0:a.width=k.width,k.height==null?k.bottom?a.height=k.bottom-a.y:a.height=0:a.height=k.height),a}},95616:function(q){q.exports=function(k){var a=[];return k.replace(e,function(_,b,h){var o=b.toLowerCase();for(h=function(t){var i=t.match(M);return i?i.map(Number):[]}(h),o=="m"&&h.length>2&&(a.push([b].concat(h.splice(0,2))),o="l",b=b=="m"?"l":"L");;){if(h.length==C[o])return h.unshift(b),a.push(h);if(h.length<C[o])throw new Error("malformed path data");a.push([b].concat(h.splice(0,C[o])))}}),a};var C={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/gi,M=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},25677:function(q){q.exports=function(C,e){e||(e=[0,""]),C=String(C);var M=parseFloat(C,10);return e[0]=M,e[1]=C.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},9748:function(q,C,e){var M=e(90386);(function(){var k,a,_,b,h,o;typeof performance<"u"&&performance!==null&&performance.now?q.exports=function(){return performance.now()}:M!=null&&M.hrtime?(q.exports=function(){return(k()-h)/1e6},a=M.hrtime,b=(k=function(){var t;return 1e9*(t=a())[0]+t[1]})(),o=1e9*M.uptime(),h=b-o):Date.now?(q.exports=function(){return Date.now()-_},_=Date.now()):(q.exports=function(){return new Date().getTime()-_},_=new Date().getTime())}).call(this)},71299:function(q){q.exports=function(M,k,a){var _,b,h={};if(typeof k=="string"&&(k=e(k)),Array.isArray(k)){var o={};for(b=0;b<k.length;b++)o[k[b]]=!0;k=o}for(_ in k)k[_]=e(k[_]);var t={};for(_ in k){var i=k[_];if(Array.isArray(i))for(b=0;b<i.length;b++){var n=i[b];if(a&&(t[n]=!0),n in M){if(h[_]=M[n],a)for(var r=b;r<i.length;r++)t[i[r]]=!0;break}}else _ in M&&(k[_]&&(h[_]=M[_]),a&&(t[_]=!0))}if(a)for(_ in M)t[_]||(h[_]=M[_]);return h};var C={};function e(M){return C[M]?C[M]:(typeof M=="string"&&(M=C[M]=M.split(/\s*,\s*|\s+/)),M)}},38258:function(q){q.exports=function(C,e,M,k){var a=C[0],_=C[1],b=!1;M===void 0&&(M=0),k===void 0&&(k=e.length);for(var h=k-M,o=0,t=h-1;o<h;t=o++){var i=e[o+M][0],n=e[o+M][1],r=e[t+M][0],l=e[t+M][1];n>_!=l>_&&a<(r-i)*(_-n)/(l-n)+i&&(b=!b)}return b}},52142:function(q,C,e){var M,k=e(69444),a=e(29023),_=e(87263),b=e(11328),h=e(55968),o=e(10670),t=!1,i=a();function n(r,l,s){var u=M.segments(r),p=M.segments(l),c=s(M.combine(u,p));return M.polygon(c)}M={buildLog:function(r){return r===!0?t=k():r===!1&&(t=!1),t!==!1&&t.list},epsilon:function(r){return i.epsilon(r)},segments:function(r){var l=_(!0,i,t);return r.regions.forEach(l.addRegion),{segments:l.calculate(r.inverted),inverted:r.inverted}},combine:function(r,l){return{combined:_(!1,i,t).calculate(r.segments,r.inverted,l.segments,l.inverted),inverted1:r.inverted,inverted2:l.inverted}},selectUnion:function(r){return{segments:h.union(r.combined,t),inverted:r.inverted1||r.inverted2}},selectIntersect:function(r){return{segments:h.intersect(r.combined,t),inverted:r.inverted1&&r.inverted2}},selectDifference:function(r){return{segments:h.difference(r.combined,t),inverted:r.inverted1&&!r.inverted2}},selectDifferenceRev:function(r){return{segments:h.differenceRev(r.combined,t),inverted:!r.inverted1&&r.inverted2}},selectXor:function(r){return{segments:h.xor(r.combined,t),inverted:r.inverted1!==r.inverted2}},polygon:function(r){return{regions:b(r.segments,i,t),inverted:r.inverted}},polygonFromGeoJSON:function(r){return o.toPolygon(M,r)},polygonToGeoJSON:function(r){return o.fromPolygon(M,i,r)},union:function(r,l){return n(r,l,M.selectUnion)},intersect:function(r,l){return n(r,l,M.selectIntersect)},difference:function(r,l){return n(r,l,M.selectDifference)},differenceRev:function(r,l){return n(r,l,M.selectDifferenceRev)},xor:function(r,l){return n(r,l,M.selectXor)}},typeof window=="object"&&(window.PolyBool=M),q.exports=M},69444:function(q){q.exports=function(){var C,e=0,M=!1;function k(a,_){return C.list.push({type:a,data:_?JSON.parse(JSON.stringify(_)):void 0}),C}return C={list:[],segmentId:function(){return e++},checkIntersection:function(a,_){return k("check",{seg1:a,seg2:_})},segmentChop:function(a,_){return k("div_seg",{seg:a,pt:_}),k("chop",{seg:a,pt:_})},statusRemove:function(a){return k("pop_seg",{seg:a})},segmentUpdate:function(a){return k("seg_update",{seg:a})},segmentNew:function(a,_){return k("new_seg",{seg:a,primary:_})},segmentRemove:function(a){return k("rem_seg",{seg:a})},tempStatus:function(a,_,b){return k("temp_status",{seg:a,above:_,below:b})},rewind:function(a){return k("rewind",{seg:a})},status:function(a,_,b){return k("status",{seg:a,above:_,below:b})},vert:function(a){return a===M?C:(M=a,k("vert",{x:a}))},log:function(a){return typeof a!="string"&&(a=JSON.stringify(a,!1,"  ")),k("log",{txt:a})},reset:function(){return k("reset")},selected:function(a){return k("selected",{segs:a})},chainStart:function(a){return k("chain_start",{seg:a})},chainRemoveHead:function(a,_){return k("chain_rem_head",{index:a,pt:_})},chainRemoveTail:function(a,_){return k("chain_rem_tail",{index:a,pt:_})},chainNew:function(a,_){return k("chain_new",{pt1:a,pt2:_})},chainMatch:function(a){return k("chain_match",{index:a})},chainClose:function(a){return k("chain_close",{index:a})},chainAddHead:function(a,_){return k("chain_add_head",{index:a,pt:_})},chainAddTail:function(a,_){return k("chain_add_tail",{index:a,pt:_})},chainConnect:function(a,_){return k("chain_con",{index1:a,index2:_})},chainReverse:function(a){return k("chain_rev",{index:a})},chainJoin:function(a,_){return k("chain_join",{index1:a,index2:_})},done:function(){return k("done")}}}},29023:function(q){q.exports=function(C){typeof C!="number"&&(C=1e-10);var e={epsilon:function(M){return typeof M=="number"&&(C=M),C},pointAboveOrOnLine:function(M,k,a){var _=k[0],b=k[1],h=a[0],o=a[1],t=M[0];return(h-_)*(M[1]-b)-(o-b)*(t-_)>=-C},pointBetween:function(M,k,a){var _=M[1]-k[1],b=a[0]-k[0],h=M[0]-k[0],o=a[1]-k[1],t=h*b+_*o;return!(t<C||t-(b*b+o*o)>-C)},pointsSameX:function(M,k){return Math.abs(M[0]-k[0])<C},pointsSameY:function(M,k){return Math.abs(M[1]-k[1])<C},pointsSame:function(M,k){return e.pointsSameX(M,k)&&e.pointsSameY(M,k)},pointsCompare:function(M,k){return e.pointsSameX(M,k)?e.pointsSameY(M,k)?0:M[1]<k[1]?-1:1:M[0]<k[0]?-1:1},pointsCollinear:function(M,k,a){var _=M[0]-k[0],b=M[1]-k[1],h=k[0]-a[0],o=k[1]-a[1];return Math.abs(_*o-h*b)<C},linesIntersect:function(M,k,a,_){var b=k[0]-M[0],h=k[1]-M[1],o=_[0]-a[0],t=_[1]-a[1],i=b*t-h*o;if(Math.abs(i)<C)return!1;var n=M[0]-a[0],r=M[1]-a[1],l=(o*r-t*n)/i,s=(b*r-h*n)/i,u={alongA:0,alongB:0,pt:[M[0]+l*b,M[1]+l*h]};return u.alongA=l<=-C?-2:l<C?-1:l-1<=-C?0:l-1<C?1:2,u.alongB=s<=-C?-2:s<C?-1:s-1<=-C?0:s-1<C?1:2,u},pointInsideRegion:function(M,k){for(var a=M[0],_=M[1],b=k[k.length-1][0],h=k[k.length-1][1],o=!1,t=0;t<k.length;t++){var i=k[t][0],n=k[t][1];n-_>C!=h-_>C&&(b-i)*(_-n)/(h-n)+i-a>C&&(o=!o),b=i,h=n}return o}};return e}},10670:function(q){var C={toPolygon:function(e,M){function k(b){if(b.length<=0)return e.segments({inverted:!1,regions:[]});function h(i){var n=i.slice(0,i.length-1);return e.segments({inverted:!1,regions:[n]})}for(var o=h(b[0]),t=1;t<b.length;t++)o=e.selectDifference(e.combine(o,h(b[t])));return o}if(M.type==="Polygon")return e.polygon(k(M.coordinates));if(M.type==="MultiPolygon"){for(var a=e.segments({inverted:!1,regions:[]}),_=0;_<M.coordinates.length;_++)a=e.selectUnion(e.combine(a,k(M.coordinates[_])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,M,k){function a(s,u){return M.pointInsideRegion([.5*(s[0][0]+s[1][0]),.5*(s[0][1]+s[1][1])],u)}function _(s){return{region:s,children:[]}}k=e.polygon(e.segments(k));var b=_(null);function h(s,u){for(var p=0;p<s.children.length;p++)if(a(u,(x=s.children[p]).region))return void h(x,u);var c=_(u);for(p=0;p<s.children.length;p++){var x;a((x=s.children[p]).region,u)&&(c.children.push(x),s.children.splice(p,1),p--)}s.children.push(c)}for(var o=0;o<k.regions.length;o++){var t=k.regions[o];t.length<3||h(b,t)}function i(s,u){for(var p=0,c=s[s.length-1][0],x=s[s.length-1][1],g=[],d=0;d<s.length;d++){var v=s[d][0],y=s[d][1];g.push([v,y]),p+=y*c-v*x,c=v,x=y}return p<0!==u&&g.reverse(),g.push([g[0][0],g[0][1]]),g}var n=[];function r(s){var u=[i(s.region,!1)];n.push(u);for(var p=0;p<s.children.length;p++)u.push(l(s.children[p]))}function l(s){for(var u=0;u<s.children.length;u++)r(s.children[u]);return i(s.region,!0)}for(o=0;o<b.children.length;o++)r(b.children[o]);return n.length<=0?{type:"Polygon",coordinates:[]}:n.length==1?{type:"Polygon",coordinates:n[0]}:{type:"MultiPolygon",coordinates:n}}};q.exports=C},87263:function(q,C,e){var M=e(26859);q.exports=function(k,a,_){function b(r,l,s){return{id:_?_.segmentId():-1,start:r,end:l,myFill:{above:s.myFill.above,below:s.myFill.below},otherFill:null}}var h=M.create();function o(r,l){h.insertBefore(r,function(s){return u=r.isStart,p=r.pt,c=l,x=s.isStart,g=s.pt,d=s.other.pt,((v=a.pointsCompare(p,g))!==0?v:a.pointsSame(c,d)?0:u!==x?u?1:-1:a.pointAboveOrOnLine(c,x?g:d,x?d:g)?1:-1)<0;var u,p,c,x,g,d,v})}function t(r,l){var s=function(u,p){var c=M.node({isStart:!0,pt:u.start,seg:u,primary:p,other:null,status:null});return o(c,u.end),c}(r,l);return function(u,p,c){var x=M.node({isStart:!1,pt:p.end,seg:p,primary:c,other:u,status:null});u.other=x,o(x,u.pt)}(s,r,l),s}function i(r,l){var s=b(l,r.seg.end,r.seg);return function(u,p){_&&_.segmentChop(u.seg,p),u.other.remove(),u.seg.end=p,u.other.pt=p,o(u.other,u.pt)}(r,l),t(s,r.primary)}function n(r,l){var s=M.create();function u(E){return s.findTransition(function(O){var P,I,z,j,R,N;return P=E,I=O.ev,z=P.seg.start,j=P.seg.end,R=I.seg.start,N=I.seg.end,(a.pointsCollinear(z,R,N)?a.pointsCollinear(j,R,N)||a.pointAboveOrOnLine(j,R,N)?1:-1:a.pointAboveOrOnLine(z,R,N)?1:-1)>0})}function p(E,O){var P=E.seg,I=O.seg,z=P.start,j=P.end,R=I.start,N=I.end;_&&_.checkIntersection(P,I);var Z=a.linesIntersect(z,j,R,N);if(Z===!1){if(!a.pointsCollinear(z,j,R)||a.pointsSame(z,N)||a.pointsSame(j,R))return!1;var F=a.pointsSame(z,R),U=a.pointsSame(j,N);if(F&&U)return O;var V=!F&&a.pointBetween(z,R,N),te=!U&&a.pointBetween(j,R,N);if(F)return te?i(O,j):i(E,N),O;V&&(U||(te?i(O,j):i(E,N)),i(O,z))}else Z.alongA===0&&(Z.alongB===-1?i(E,R):Z.alongB===0?i(E,Z.pt):Z.alongB===1&&i(E,N)),Z.alongB===0&&(Z.alongA===-1?i(O,z):Z.alongA===0?i(O,Z.pt):Z.alongA===1&&i(O,j));return!1}for(var c=[];!h.isEmpty();){var x=h.getHead();if(_&&_.vert(x.pt[0]),x.isStart){let E=function(){if(d){var O=p(x,d);if(O)return O}return!!v&&p(x,v)};var T=E;_&&_.segmentNew(x.seg,x.primary);var g=u(x),d=g.before?g.before.ev:null,v=g.after?g.after.ev:null;_&&_.tempStatus(x.seg,!!d&&d.seg,!!v&&v.seg);var y,m,w=E();if(w&&(k?(m=x.seg.myFill.below===null||x.seg.myFill.above!==x.seg.myFill.below)&&(w.seg.myFill.above=!w.seg.myFill.above):w.seg.otherFill=x.seg.myFill,_&&_.segmentUpdate(w.seg),x.other.remove(),x.remove()),h.getHead()!==x){_&&_.rewind(x.seg);continue}k?(m=x.seg.myFill.below===null||x.seg.myFill.above!==x.seg.myFill.below,x.seg.myFill.below=v?v.seg.myFill.above:r,x.seg.myFill.above=m?!x.seg.myFill.below:x.seg.myFill.below):x.seg.otherFill===null&&(y=v?x.primary===v.primary?v.seg.otherFill.above:v.seg.myFill.above:x.primary?l:r,x.seg.otherFill={above:y,below:y}),_&&_.status(x.seg,!!d&&d.seg,!!v&&v.seg),x.other.status=g.insert(M.node({ev:x}))}else{var f=x.status;if(f===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(f.prev)&&s.exists(f.next)&&p(f.prev.ev,f.next.ev),_&&_.statusRemove(f.ev.seg),f.remove(),!x.primary){var S=x.seg.myFill;x.seg.myFill=x.seg.otherFill,x.seg.otherFill=S}c.push(x.seg)}h.getHead().remove()}return _&&_.done(),c}return k?{addRegion:function(r){for(var l,s,u,p=r[r.length-1],c=0;c<r.length;c++){l=p,p=r[c];var x=a.pointsCompare(l,p);x!==0&&t((s=x<0?l:p,u=x<0?p:l,{id:_?_.segmentId():-1,start:s,end:u,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(r){return n(r,!1)}}:{calculate:function(r,l,s,u){return r.forEach(function(p){t(b(p.start,p.end,p),!0)}),s.forEach(function(p){t(b(p.start,p.end,p),!1)}),n(l,u)}}}},26859:function(q){q.exports={create:function(){var C={root:{root:!0,next:null},exists:function(e){return e!==null&&e!==C.root},isEmpty:function(){return C.root.next===null},getHead:function(){return C.root.next},insertBefore:function(e,M){for(var k=C.root,a=C.root.next;a!==null;){if(M(a))return e.prev=a.prev,e.next=a,a.prev.next=e,void(a.prev=e);k=a,a=a.next}k.next=e,e.prev=k,e.next=null},findTransition:function(e){for(var M=C.root,k=C.root.next;k!==null&&!e(k);)M=k,k=k.next;return{before:M===C.root?null:M,after:k,insert:function(a){return a.prev=M,a.next=k,M.next=a,k!==null&&(k.prev=a),a}}}};return C},node:function(C){return C.prev=null,C.next=null,C.remove=function(){C.prev.next=C.next,C.next&&(C.next.prev=C.prev),C.prev=null,C.next=null},C}}},11328:function(q){q.exports=function(C,e,M){var k=[],a=[];return C.forEach(function(_){var b=_.start,h=_.end;if(e.pointsSame(b,h))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{M&&M.chainStart(_);for(var o={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},i=o,n=0;n<k.length;n++){var r=(c=k[n])[0],l=(c[1],c[c.length-1]);if(c[c.length-2],e.pointsSame(r,b)){if(f(n,!0,!0))break}else if(e.pointsSame(r,h)){if(f(n,!0,!1))break}else if(e.pointsSame(l,b)){if(f(n,!1,!0))break}else if(e.pointsSame(l,h)&&f(n,!1,!1))break}if(i===o)return k.push([b,h]),void(M&&M.chainNew(b,h));if(i===t){M&&M.chainMatch(o.index);var s=o.index,u=o.matches_pt1?h:b,p=o.matches_head,c=k[s],x=p?c[0]:c[c.length-1],g=p?c[1]:c[c.length-2],d=p?c[c.length-1]:c[0],v=p?c[c.length-2]:c[1];return e.pointsCollinear(g,x,u)&&(p?(M&&M.chainRemoveHead(o.index,u),c.shift()):(M&&M.chainRemoveTail(o.index,u),c.pop()),x=g),e.pointsSame(d,u)?(k.splice(s,1),e.pointsCollinear(v,d,x)&&(p?(M&&M.chainRemoveTail(o.index,x),c.pop()):(M&&M.chainRemoveHead(o.index,x),c.shift())),M&&M.chainClose(o.index),void a.push(c)):void(p?(M&&M.chainAddHead(o.index,u),c.unshift(u)):(M&&M.chainAddTail(o.index,u),c.push(u)))}var y=o.index,m=t.index;M&&M.chainConnect(y,m);var w=k[y].length<k[m].length;o.matches_head?t.matches_head?w?(S(y),T(y,m)):(S(m),T(m,y)):T(m,y):t.matches_head?T(y,m):w?(S(y),T(m,y)):(S(m),T(y,m))}function f(E,O,P){return i.index=E,i.matches_head=O,i.matches_pt1=P,i===o?(i=t,!1):(i=null,!0)}function S(E){M&&M.chainReverse(E),k[E].reverse()}function T(E,O){var P=k[E],I=k[O],z=P[P.length-1],j=P[P.length-2],R=I[0],N=I[1];e.pointsCollinear(j,z,R)&&(M&&M.chainRemoveTail(E,z),P.pop(),z=j),e.pointsCollinear(z,R,N)&&(M&&M.chainRemoveHead(O,R),I.shift()),M&&M.chainJoin(E,O),k[E]=P.concat(I),k.splice(O,1)}}),a}},55968:function(q){function C(M,k,a){var _=[];return M.forEach(function(b){var h=(b.myFill.above?8:0)+(b.myFill.below?4:0)+(b.otherFill&&b.otherFill.above?2:0)+(b.otherFill&&b.otherFill.below?1:0);k[h]!==0&&_.push({id:a?a.segmentId():-1,start:b.start,end:b.end,myFill:{above:k[h]===1,below:k[h]===2},otherFill:null})}),a&&a.selected(_),_}var e={union:function(M,k){return C(M,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],k)},intersect:function(M,k){return C(M,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],k)},difference:function(M,k){return C(M,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],k)},differenceRev:function(M,k){return C(M,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],k)},xor:function(M,k){return C(M,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],k)}};q.exports=e},14847:function(q,C,e){var M=e(21630).Transform,k=e(90715);function a(){M.call(this,{readableObjectMode:!0})}function _(b,h,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=b,h&&(this.code=h),o&&(this.statusCode=o)}a.prototype=Object.create(M.prototype),a.prototype.constructor=a,k(a.prototype),C.OF=function(b,h,o){for(var t=h,i=0;i<o.length;)if(b[t++]!==o[i++])return!1;return!0},C.eG=function(b,h){var o=[],t=0;if(h&&h==="hex")for(;t<b.length;)o.push(parseInt(b.slice(t,t+2),16)),t+=2;else for(;t<b.length;t++)o.push(255&b.charCodeAt(t));return o},C.mP=function(b,h){return b[h]|b[h+1]<<8},C.n8=function(b,h){return b[h+1]|b[h]<<8},C.nm=function(b,h){return b[h]|b[h+1]<<8|b[h+2]<<16|16777216*b[h+3]},C.Ag=function(b,h){return b[h+3]|b[h+2]<<8|b[h+1]<<16|16777216*b[h]},_.prototype=Object.create(Error.prototype),_.prototype.constructor=_},71371:function(q){function C(k,a){var _=new Error(k);return _.code=a,_}function e(k){try{return decodeURIComponent(escape(k))}catch{return k}}function M(k,a,_){this.input=k.subarray(a,_),this.start=a;var b=String.fromCharCode.apply(null,this.input.subarray(0,4));if(b!=="II*\0"&&b!=="MM\0*")throw C("invalid TIFF signature","EBADDATA");this.big_endian=b[0]==="M"}M.prototype.each=function(k){this.aborted=!1;var a=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:a}];this.ifds_to_read.length>0&&!this.aborted;){var _=this.ifds_to_read.shift();_.offset&&this.scan_ifd(_.id,_.offset,k)}},M.prototype.read_uint16=function(k){var a=this.input;if(k+2>a.length)throw C("unexpected EOF","EBADDATA");return this.big_endian?256*a[k]+a[k+1]:a[k]+256*a[k+1]},M.prototype.read_uint32=function(k){var a=this.input;if(k+4>a.length)throw C("unexpected EOF","EBADDATA");return this.big_endian?16777216*a[k]+65536*a[k+1]+256*a[k+2]+a[k+3]:a[k]+256*a[k+1]+65536*a[k+2]+16777216*a[k+3]},M.prototype.is_subifd_link=function(k,a){return k===0&&a===34665||k===0&&a===34853||k===34665&&a===40965},M.prototype.exif_format_length=function(k){switch(k){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},M.prototype.exif_format_read=function(k,a){var _;switch(k){case 1:case 2:return this.input[a];case 6:return(_=this.input[a])|33554430*(128&_);case 3:return this.read_uint16(a);case 8:return(_=this.read_uint16(a))|131070*(32768&_);case 4:return this.read_uint32(a);case 9:return 0|this.read_uint32(a);default:return null}},M.prototype.scan_ifd=function(k,a,_){var b=this.read_uint16(a);a+=2;for(var h=0;h<b;h++){var o=this.read_uint16(a),t=this.read_uint16(a+2),i=this.read_uint32(a+4),n=this.exif_format_length(t),r=i*n,l=r<=4?a+8:this.read_uint32(a+8),s=!1;if(l+r>this.input.length)throw C("unexpected EOF","EBADDATA");for(var u=[],p=l,c=0;c<i;c++,p+=n){var x=this.exif_format_read(t,p);if(x===null){u=null;break}u.push(x)}if(Array.isArray(u)&&t===2&&(u=e(String.fromCharCode.apply(null,u)))&&u[u.length-1]==="\0"&&(u=u.slice(0,-1)),this.is_subifd_link(k,o)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:o,offset:u[0]}),s=!0),_({is_big_endian:this.big_endian,ifd:k,tag:o,format:t,count:i,entry_offset:a+this.start,data_length:r,data_offset:l+this.start,value:u,is_subifd_link:s})===!1)return void(this.aborted=!0);a+=12}k===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(a)})},q.exports.ExifParser=M,q.exports.get_orientation=function(k){var a=0;try{return new M(k,0,k.length).each(function(_){if(_.ifd===0&&_.tag===274&&Array.isArray(_.value))return a=_.value[0],!1}),a}catch{return-1}}},76767:function(q,C,e){var M=e(14847).n8,k=e(14847).Ag;function a(i,n){if(i.length<4+n)return null;var r=k(i,n);return i.length<r+n||r<8?null:{boxtype:String.fromCharCode.apply(null,i.slice(n+4,n+8)),data:i.slice(n+8,n+r),end:n+r}}function _(i,n){for(var r=0;;){var l=a(i,r);if(!l)break;switch(l.boxtype){case"ispe":n.sizes.push({width:k(l.data,4),height:k(l.data,8)});break;case"irot":n.transforms.push({type:"irot",value:3&l.data[0]});break;case"imir":n.transforms.push({type:"imir",value:1&l.data[0]})}r=l.end}}function b(i,n,r){for(var l=0,s=0;s<r;s++)l=256*l+(i[n+s]||0);return l}function h(i,n){for(var r=i[4]>>4&15,l=15&i[4],s=i[5]>>4&15,u=M(i,6),p=8,c=0;c<u;c++){var x=M(i,p),g=M(i,p+=2),d=b(i,p+=2,s),v=M(i,p+=s);if(p+=2,g===0&&v===1){var y=b(i,p,r),m=b(i,p+r,l);n.item_loc[x]={length:m,offset:y+d}}p+=v*(r+l)}}function o(i,n){for(var r=M(i,4),l=6,s=0;s<r;s++){var u=a(i,l);if(!u)break;if(u.boxtype==="infe"){for(var p=M(u.data,4),c="",x=8;x<u.data.length&&u.data[x];x++)c+=String.fromCharCode(u.data[x]);n.item_inf[c]=p}l=u.end}}function t(i,n){for(var r=0;;){var l=a(i,r);if(!l)break;l.boxtype==="ipco"&&_(l.data,n),r=l.end}}q.exports.unbox=a,q.exports.readSizeFromMeta=function(i){var n={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function(x,g){for(var d=4;;){var v=a(x,d);if(!v)break;v.boxtype==="iprp"&&t(v.data,g),v.boxtype==="iloc"&&h(v.data,g),v.boxtype==="iinf"&&o(v.data,g),d=v.end}}(i,n),n.sizes.length){var r,l,s,u=(l=(r=n.sizes).reduce(function(x,g){return x.width>g.width||x.width===g.width&&x.height>g.height?x:g}),s=r.reduce(function(x,g){return x.height>g.height||x.height===g.height&&x.width>g.width?x:g}),l.width>s.height||l.width===s.height&&l.height>s.width?l:s),p=1;n.transforms.forEach(function(x){var g={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},d={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(x.type==="imir"&&(p=x.value===0?d[p]:g[p=g[p=d[p]]]),x.type==="irot")for(var v=0;v<x.value;v++)p=g[p]});var c=null;return n.item_inf.Exif&&(c=n.item_loc[n.item_inf.Exif]),{width:u.width,height:u.height,orientation:n.transforms.length?p:null,variants:n.sizes,exif_location:c}}},q.exports.getMimeType=function(i){var n=String.fromCharCode.apply(null,i.slice(0,4)),r={};r[n]=!0;for(var l=8;l<i.length;l+=4)r[String.fromCharCode.apply(null,i.slice(l,l+4))]=!0;if(r.mif1||r.msf1||r.miaf)return n==="avif"||n==="avis"||n==="avio"?{type:"avif",mime:"image/avif"}:n==="heic"||n==="heix"?{type:"heic",mime:"image/heic"}:n==="hevc"||n==="hevx"?{type:"heic",mime:"image/heic-sequence"}:r.avif||r.avis?{type:"avif",mime:"image/avif"}:r.heic||r.heix||r.hevc||r.hevx||r.heis?r.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(q,C,e){var M=e(14847).eG,k=e(14847).OF,a=e(14847).Ag,_=e(76767),b=e(71371),h=M("ftyp");q.exports=function(o){if(k(o,4,h)){var t=_.unbox(o,0);if(t){var i=_.getMimeType(t.data);if(i){for(var n,r=t.end;;){var l=_.unbox(o,r);if(!l)break;if(r=l.end,l.boxtype==="mdat")return;if(l.boxtype==="meta"){n=l.data;break}}if(n){var s=_.readSizeFromMeta(n);if(s){var u={width:s.width,height:s.height,type:i.type,mime:i.mime,wUnits:"px",hUnits:"px"};if(s.variants.length>1&&(u.variants=s.variants),s.orientation&&(u.orientation=s.orientation),s.exif_location&&s.exif_location.offset+s.exif_location.length<=o.length){var p=a(o,s.exif_location.offset),c=o.slice(s.exif_location.offset+p+4,s.exif_location.offset+s.exif_location.length),x=b.get_orientation(c);x>0&&(u.orientation=x)}return u}}}}}}},2504:function(q,C,e){var M=e(14847).eG,k=e(14847).OF,a=e(14847).mP,_=M("BM");q.exports=function(b){if(!(b.length<26)&&k(b,0,_))return{width:a(b,18),height:a(b,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(q,C,e){var M=e(14847).eG,k=e(14847).OF,a=e(14847).mP,_=M("GIF87a"),b=M("GIF89a");q.exports=function(h){if(!(h.length<10)&&(k(h,0,_)||k(h,0,b)))return{width:a(h,6),height:a(h,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(q,C,e){var M=e(14847).mP;q.exports=function(k){var a=M(k,0),_=M(k,2),b=M(k,4);if(a===0&&_===1&&b){for(var h=[],o={width:0,height:0},t=0;t<b;t++){var i=k[6+16*t]||256,n=k[6+16*t+1]||256,r={width:i,height:n};h.push(r),(i>o.width||n>o.height)&&(o=r)}return{width:o.width,height:o.height,variants:h,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(q,C,e){var M=e(14847).n8,k=e(14847).eG,a=e(14847).OF,_=e(71371),b=k("Exif\0\0");q.exports=function(h){if(!(h.length<2)&&h[0]===255&&h[1]===216&&h[2]===255)for(var o=2;;){for(;;){if(h.length-o<2)return;if(h[o++]===255)break}for(var t,i,n=h[o++];n===255;)n=h[o++];if(208<=n&&n<=217||n===1)t=0;else{if(!(192<=n&&n<=254)||h.length-o<2)return;t=M(h,o)-2,o+=2}if(n===217||n===218)return;if(n===225&&t>=10&&a(h,o,b)&&(i=_.get_orientation(h.slice(o+6,o+t))),t>=5&&192<=n&&n<=207&&n!==196&&n!==200&&n!==204){if(h.length-o<t)return;var r={width:M(h,o+3),height:M(h,o+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return i>0&&(r.orientation=i),r}o+=t}}},6303:function(q,C,e){var M=e(14847).eG,k=e(14847).OF,a=e(14847).Ag,_=M(`PNG\r

`),b=M("IHDR");q.exports=function(h){if(!(h.length<24)&&k(h,0,_)&&k(h,12,b))return{width:a(h,16),height:a(h,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(q,C,e){var M=e(14847).eG,k=e(14847).OF,a=e(14847).Ag,_=M("8BPS\0");q.exports=function(b){if(!(b.length<22)&&k(b,0,_))return{width:a(b,18),height:a(b,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(q){function C(o){return typeof o=="number"&&isFinite(o)&&o>0}var e=/<[-_.:a-zA-Z0-9][^>]*>/,M=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,k=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,a=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,_=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,b=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function h(o){return b.test(o)?o.match(b)[0]:"px"}q.exports=function(o){if(function(d){var v,y=0,m=d.length;for(d[0]===239&&d[1]===187&&d[2]===191&&(y=3);y<m&&((v=d[y])===32||v===9||v===13||v===10);)y++;return y!==m&&d[y]===60}(o)){for(var t="",i=0;i<o.length;i++)t+=String.fromCharCode(o[i]);var n=(t.match(e)||[""])[0];if(M.test(n)){var r=function(d){var v=d.match(k),y=d.match(a),m=d.match(_);return{width:v&&(v[1]||v[2]),height:y&&(y[1]||y[2]),viewbox:m&&(m[1]||m[2])}}(n),l=parseFloat(r.width),s=parseFloat(r.height);if(r.width&&r.height)return!C(l)||!C(s)?void 0:{width:l,height:s,type:"svg",mime:"image/svg+xml",wUnits:h(r.width),hUnits:h(r.height)};var u=(r.viewbox||"").split(" "),p={width:u[2],height:u[3]},c=parseFloat(p.width),x=parseFloat(p.height);if(C(c)&&C(x)&&h(p.width)===h(p.height)){var g=c/x;return r.width?C(l)?{width:l,height:l/g,type:"svg",mime:"image/svg+xml",wUnits:h(r.width),hUnits:h(r.width)}:void 0:r.height?C(s)?{width:s*g,height:s,type:"svg",mime:"image/svg+xml",wUnits:h(r.height),hUnits:h(r.height)}:void 0:{width:c,height:x,type:"svg",mime:"image/svg+xml",wUnits:h(p.width),hUnits:h(p.height)}}}}}},66278:function(q,C,e){var M=e(14847).eG,k=e(14847).OF,a=e(14847).mP,_=e(14847).n8,b=e(14847).nm,h=e(14847).Ag,o=M("II*\0"),t=M("MM\0*");function i(l,s,u){return u?_(l,s):a(l,s)}function n(l,s,u){return u?h(l,s):b(l,s)}function r(l,s,u){var p=i(l,s+2,u);return n(l,s+4,u)!==1||p!==3&&p!==4?null:p===3?i(l,s+8,u):n(l,s+8,u)}q.exports=function(l){if(!(l.length<8)&&(k(l,0,o)||k(l,0,t))){var s=l[0]===77,u=n(l,4,s)-8;if(!(u<0)){var p=u+8;if(!(l.length-p<2)){var c=12*i(l,p+0,s);if(!(c<=0||(p+=2,l.length-p<c))){var x,g,d,v;for(x=0;x<c;x+=12)(v=i(l,p+x,s))===256?g=r(l,p+x,s):v===257&&(d=r(l,p+x,s));return g&&d?{width:g,height:d,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}:void 0}}}}}},90784:function(q,C,e){var M=e(14847).eG,k=e(14847).OF,a=e(14847).mP,_=e(14847).nm,b=e(71371),h=M("RIFF"),o=M("WEBP");function t(r,l){if(r[l+3]===157&&r[l+4]===1&&r[l+5]===42)return{width:16383&a(r,l+6),height:16383&a(r,l+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function i(r,l){if(r[l]===47){var s=_(r,l+1);return{width:1+(16383&s),height:1+(s>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function n(r,l){return{width:1+(r[l+6]<<16|r[l+5]<<8|r[l+4]),height:1+(r[l+9]<<l|r[l+8]<<8|r[l+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}q.exports=function(r){if(!(r.length<16)&&(k(r,0,h)||k(r,8,o))){var l=12,s=null,u=0,p=_(r,4)+8;if(!(p>r.length)){for(;l+8<p;)if(r[l]!==0){var c=String.fromCharCode.apply(null,r.slice(l,l+4)),x=_(r,l+4);c==="VP8 "&&x>=10?s=s||t(r,l+8):c==="VP8L"&&x>=9?s=s||i(r,l+8):c==="VP8X"&&x>=10?s=s||n(r,l+8):c==="EXIF"&&(u=b.get_orientation(r.slice(l+8,l+8+x)),l=1/0),l+=8+x}else l++;if(s)return u>0&&(s.orientation=u),s}}}},91497:function(q,C,e){q.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(q,C,e){var M=e(91497);q.exports=function(k){return function(a){for(var _=Object.keys(M),b=0;b<_.length;b++){var h=M[_[b]](a);if(h)return h}return null}(k)},q.exports.parsers=M},90386:function(q){var C,e,M=q.exports={};function k(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function _(s){if(C===setTimeout)return setTimeout(s,0);if((C===k||!C)&&setTimeout)return C=setTimeout,setTimeout(s,0);try{return C(s,0)}catch{try{return C.call(null,s,0)}catch{return C.call(this,s,0)}}}(function(){try{C=typeof setTimeout=="function"?setTimeout:k}catch{C=k}try{e=typeof clearTimeout=="function"?clearTimeout:a}catch{e=a}})();var b,h=[],o=!1,t=-1;function i(){o&&b&&(o=!1,b.length?h=b.concat(h):t=-1,h.length&&n())}function n(){if(!o){var s=_(i);o=!0;for(var u=h.length;u;){for(b=h,h=[];++t<u;)b&&b[t].run();t=-1,u=h.length}b=null,o=!1,function(p){if(e===clearTimeout)return clearTimeout(p);if((e===a||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(p);try{return e(p)}catch{try{return e.call(null,p)}catch{return e.call(this,p)}}}(s)}}function r(s,u){this.fun=s,this.array=u}function l(){}M.nextTick=function(s){var u=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)u[p-1]=arguments[p];h.push(new r(s,u)),h.length!==1||o||_(n)},r.prototype.run=function(){this.fun.apply(null,this.array)},M.title="browser",M.browser=!0,M.env={},M.argv=[],M.version="",M.versions={},M.on=l,M.addListener=l,M.once=l,M.off=l,M.removeListener=l,M.removeAllListeners=l,M.emit=l,M.prependListener=l,M.prependOnceListener=l,M.listeners=function(s){return[]},M.binding=function(s){throw new Error("process.binding is not supported")},M.cwd=function(){return"/"},M.chdir=function(s){throw new Error("process.chdir is not supported")},M.umask=function(){return 0}},5877:function(q,C,e){for(var M=e(9748),k=typeof window>"u"?e.g:window,a=["moz","webkit"],_="AnimationFrame",b=k["request"+_],h=k["cancel"+_]||k["cancelRequest"+_],o=0;!b&&o<a.length;o++)b=k[a[o]+"Request"+_],h=k[a[o]+"Cancel"+_]||k[a[o]+"CancelRequest"+_];if(!b||!h){var t=0,i=0,n=[];b=function(r){if(n.length===0){var l=M(),s=Math.max(0,16.666666666666668-(l-t));t=s+l,setTimeout(function(){var u=n.slice(0);n.length=0;for(var p=0;p<u.length;p++)if(!u[p].cancelled)try{u[p].callback(t)}catch(c){setTimeout(function(){throw c},0)}},Math.round(s))}return n.push({handle:++i,callback:r,cancelled:!1}),i},h=function(r){for(var l=0;l<n.length;l++)n[l].handle===r&&(n[l].cancelled=!0)}}q.exports=function(r){return b.call(k,r)},q.exports.cancel=function(){h.apply(k,arguments)},q.exports.polyfill=function(r){r||(r=k),r.requestAnimationFrame=b,r.cancelAnimationFrame=h}},3593:function(q,C,e){var M=e(21527),k=e(25075),a=e(93447),_=e(71299),b=e(56131),h=e(30120),o=e(57060),t=o.float32,i=o.fract32;q.exports=function(r,l){if(typeof r=="function"?(l||(l={}),l.regl=r):l=r,l.length&&(l.positions=l),!(r=l.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var s,u,p,c,x,g,d=r._gl,v={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},y=[];return c=r.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),u=r.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),p=r.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),x=r.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),g=r.buffer({usage:"static",type:"float",data:n}),S(l),s=r({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:r.prop("range"),lineWidth:r.prop("lineWidth"),capSize:r.prop("capSize"),opacity:r.prop("opacity"),scale:r.prop("scale"),translate:r.prop("translate"),scaleFract:r.prop("scaleFract"),translateFract:r.prop("translateFract"),viewport:function(E,O){return[O.viewport.x,O.viewport.y,E.viewportWidth,E.viewportHeight]}},attributes:{color:{buffer:c,offset:function(E,O){return 4*O.offset},divisor:1},position:{buffer:u,offset:function(E,O){return 8*O.offset},divisor:1},positionFract:{buffer:p,offset:function(E,O){return 8*O.offset},divisor:1},error:{buffer:x,offset:function(E,O){return 16*O.offset},divisor:1},direction:{buffer:g,stride:24,offset:0},lineOffset:{buffer:g,stride:24,offset:8},capOffset:{buffer:g,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:r.prop("viewport")},viewport:r.prop("viewport"),stencil:!1,instances:r.prop("count"),count:n.length}),b(m,{update:S,draw:w,destroy:T,regl:r,gl:d,canvas:d.canvas,groups:y}),m;function m(E){E?S(E):E===null&&T(),w()}function w(E){if(typeof E=="number")return f(E);E&&!Array.isArray(E)&&(E=[E]),r._refresh(),y.forEach(function(O,P){O&&(E&&(E[P]?O.draw=!0:O.draw=!1),O.draw?f(P):O.draw=!0)})}function f(E){typeof E=="number"&&(E=y[E]),E!=null&&E&&E.count&&E.color&&E.opacity&&E.positions&&E.positions.length>1&&(E.scaleRatio=[E.scale[0]*E.viewport.width,E.scale[1]*E.viewport.height],s(E),E.after&&E.after(E))}function S(E){if(E){E.length!=null?typeof E[0]=="number"&&(E=[{positions:E}]):Array.isArray(E)||(E=[E]);var O=0,P=0;if(m.groups=y=E.map(function(F,U){var V=y[U];return F&&(typeof F=="function"?F={after:F}:typeof F[0]=="number"&&(F={positions:F}),F=_(F,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),V||(y[U]=V={id:U,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},F=b({},v,F)),a(V,F,[{lineWidth:function(te){return .5*+te},capSize:function(te){return .5*+te},opacity:parseFloat,errors:function(te){return te=h(te),P+=te.length,te},positions:function(te,Q){return te=h(te,"float64"),Q.count=Math.floor(te.length/2),Q.bounds=M(te,2),Q.offset=O,O+=Q.count,te}},{color:function(te,Q){var J=Q.count;if(te||(te="transparent"),!Array.isArray(te)||typeof te[0]=="number"){var X=te;te=Array(J);for(var K=0;K<J;K++)te[K]=X}if(te.length<J)throw Error("Not enough colors");for(var ee=new Uint8Array(4*J),re=0;re<J;re++){var ie=k(te[re],"uint8");ee.set(ie,4*re)}return ee},range:function(te,Q,J){var X=Q.bounds;return te||(te=X),Q.scale=[1/(te[2]-te[0]),1/(te[3]-te[1])],Q.translate=[-te[0],-te[1]],Q.scaleFract=i(Q.scale),Q.translateFract=i(Q.translate),te},viewport:function(te){var Q;return Array.isArray(te)?Q={x:te[0],y:te[1],width:te[2]-te[0],height:te[3]-te[1]}:te?(Q={x:te.x||te.left||0,y:te.y||te.top||0},te.right?Q.width=te.right-Q.x:Q.width=te.w||te.width||0,te.bottom?Q.height=te.bottom-Q.y:Q.height=te.h||te.height||0):Q={x:0,y:0,width:d.drawingBufferWidth,height:d.drawingBufferHeight},Q}}])),V}),O||P){var I=y.reduce(function(F,U,V){return F+(U?U.count:0)},0),z=new Float64Array(2*I),j=new Uint8Array(4*I),R=new Float32Array(4*I);y.forEach(function(F,U){if(F){var V=F.positions,te=F.count,Q=F.offset,J=F.color,X=F.errors;te&&(j.set(J,4*Q),R.set(X,4*Q),z.set(V,2*Q))}});var N=t(z);u(N);var Z=i(z,N);p(Z),c(j),x(R)}}}function T(){u.destroy(),p.destroy(),c.destroy(),x.destroy(),g.destroy()}};var n=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},46075:function(q,C,e){var M=e(25075),k=e(21527),a=e(56131),_=e(56068),b=e(71299),h=e(30120),o=e(11474),t=e(54),i=e(57060),n=i.float32,r=i.fract32,l=e(83522),s=e(18863),u=e(6851);function p(c,x){if(!(this instanceof p))return new p(c,x);if(typeof c=="function"?(x||(x={}),x.regl=c):x=c,x.length&&(x.positions=x),!(c=x.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=c._gl,this.regl=c,this.passes=[],this.shaders=p.shaders.has(c)?p.shaders.get(c):p.shaders.set(c,p.createShaders(c)).get(c),this.update(x)}q.exports=p,p.dashMult=2,p.maxPatternLength=256,p.precisionThreshold=3e6,p.maxPoints=1e4,p.maxLines=2048,p.shaders=new l,p.createShaders=function(c){var x,g=c.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),d={primitive:"triangle strip",instances:c.prop("count"),count:4,offset:0,uniforms:{miterMode:function(y,m){return m.join==="round"?2:1},miterLimit:c.prop("miterLimit"),scale:c.prop("scale"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),thickness:c.prop("thickness"),dashTexture:c.prop("dashTexture"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),dashLength:c.prop("dashLength"),viewport:function(y,m){return[m.viewport.x,m.viewport.y,y.viewportWidth,y.viewportHeight]},depth:c.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(y,m){return!m.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:c.prop("viewport")},viewport:c.prop("viewport")},v=c(a({vert:_([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`]),frag:_([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:g,divisor:0,stride:8,offset:0},lineTop:{buffer:g,divisor:0,stride:8,offset:4},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},d));try{x=c(a({cull:{enable:!0,face:"back"},vert:_([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);

	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`]),frag:_([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:g,divisor:0,stride:8,offset:0},lineTop:{buffer:g,divisor:0,stride:8,offset:4},aColor:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:c.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},d))}catch{x=v}return{fill:c({primitive:"triangle",elements:function(y,m){return m.triangles},offset:0,vert:_([`precision highp float;
#define GLSLIFY 1

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`]),frag:_([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`]),uniforms:{scale:c.prop("scale"),color:c.prop("fill"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),viewport:function(y,m){return[m.viewport.x,m.viewport.y,y.viewportWidth,y.viewportHeight]}},attributes:{position:{buffer:c.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8}},blend:d.blend,depth:{enable:!1},scissor:d.scissor,stencil:d.stencil,viewport:d.viewport}),rect:v,miter:x}},p.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},p.prototype.render=function(){for(var c,x=[],g=arguments.length;g--;)x[g]=arguments[g];x.length&&(c=this).update.apply(c,x),this.draw()},p.prototype.draw=function(){for(var c=this,x=[],g=arguments.length;g--;)x[g]=arguments[g];return(x.length?x:this.passes).forEach(function(d,v){var y;if(d&&Array.isArray(d))return(y=c).draw.apply(y,d);typeof d=="number"&&(d=c.passes[d]),d&&d.count>1&&d.opacity&&(c.regl._refresh(),d.fill&&d.triangles&&d.triangles.length>2&&c.shaders.fill(d),d.thickness&&(d.scale[0]*d.viewport.width>p.precisionThreshold||d.scale[1]*d.viewport.height>p.precisionThreshold||d.join==="rect"||!d.join&&(d.thickness<=2||d.count>=p.maxPoints)?c.shaders.rect(d):c.shaders.miter(d)))}),this},p.prototype.update=function(c){var x=this;if(c){c.length!=null?typeof c[0]=="number"&&(c=[{positions:c}]):Array.isArray(c)||(c=[c]);var g=this.regl,d=this.gl;if(c.forEach(function(f,S){var T=x.passes[S];if(f!==void 0)if(f!==null){if(typeof f[0]=="number"&&(f={positions:f}),f=b(f,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),T||(x.passes[S]=T={id:S,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:g.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:g.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:g.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:g.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},f=a({},p.defaults,f)),f.thickness!=null&&(T.thickness=parseFloat(f.thickness)),f.opacity!=null&&(T.opacity=parseFloat(f.opacity)),f.miterLimit!=null&&(T.miterLimit=parseFloat(f.miterLimit)),f.overlay!=null&&(T.overlay=!!f.overlay,S<p.maxLines&&(T.depth=2*(p.maxLines-1-S%p.maxLines)/p.maxLines-1)),f.join!=null&&(T.join=f.join),f.hole!=null&&(T.hole=f.hole),f.fill!=null&&(T.fill=f.fill?M(f.fill,"uint8"):null),f.viewport!=null&&(T.viewport=s(f.viewport)),T.viewport||(T.viewport=s([d.drawingBufferWidth,d.drawingBufferHeight])),f.close!=null&&(T.close=f.close),f.positions===null&&(f.positions=[]),f.positions){var E,O;if(f.positions.x&&f.positions.y){var P=f.positions.x,I=f.positions.y;O=T.count=Math.max(P.length,I.length),E=new Float64Array(2*O);for(var z=0;z<O;z++)E[2*z]=P[z],E[2*z+1]=I[z]}else E=h(f.positions,"float64"),O=T.count=Math.floor(E.length/2);var j=T.bounds=k(E,2);if(T.fill){for(var R=[],N={},Z=0,F=0,U=0,V=T.count;F<V;F++){var te=E[2*F],Q=E[2*F+1];isNaN(te)||isNaN(Q)||te==null||Q==null?(te=E[2*Z],Q=E[2*Z+1],N[F]=Z):Z=F,R[U++]=te,R[U++]=Q}if(f.splitNull){T.count-1 in N||(N[T.count]=T.count-1);var J=Object.keys(N).map(Number).sort(function(_t,it){return _t-it}),X=[],K=0,ee=T.hole!=null?T.hole[0]:null;if(ee!=null){var re=u(J,function(_t){return _t>=ee});(J=J.slice(0,re)).push(ee)}for(var ie=function(_t){var it=R.slice(2*K,2*J[_t]).concat(ee?R.slice(2*ee):[]),st=(T.hole||[]).map(function(zt){return zt-ee+(J[_t]-K)}),St=o(it,st);St=St.map(function(zt){return zt+K+(zt+K<J[_t]?0:ee-J[_t])}),X.push.apply(X,St),K=J[_t]+1},ae=0;ae<J.length;ae++)ie(ae);for(var ue=0,pe=X.length;ue<pe;ue++)N[X[ue]]!=null&&(X[ue]=N[X[ue]]);T.triangles=X}else{for(var de=o(R,T.hole||[]),ye=0,be=de.length;ye<be;ye++)N[de[ye]]!=null&&(de[ye]=N[de[ye]]);T.triangles=de}}var me=new Float64Array(E);t(me,2,j);var Ee=new Float64Array(2*O+6);T.close?E[0]===E[2*O-2]&&E[1]===E[2*O-1]?(Ee[0]=me[2*O-4],Ee[1]=me[2*O-3]):(Ee[0]=me[2*O-2],Ee[1]=me[2*O-1]):(Ee[0]=me[0],Ee[1]=me[1]),Ee.set(me,2),T.close?E[0]===E[2*O-2]&&E[1]===E[2*O-1]?(Ee[2*O+2]=me[2],Ee[2*O+3]=me[3],T.count-=1):(Ee[2*O+2]=me[0],Ee[2*O+3]=me[1],Ee[2*O+4]=me[2],Ee[2*O+5]=me[3]):(Ee[2*O+2]=me[2*O-2],Ee[2*O+3]=me[2*O-1],Ee[2*O+4]=me[2*O-2],Ee[2*O+5]=me[2*O-1]);var Te=n(Ee);T.positionBuffer(Te);var we=r(Ee,Te);T.positionFractBuffer(we)}if(f.range?T.range=f.range:T.range||(T.range=T.bounds),(f.range||f.positions)&&T.count){var oe=T.bounds,se=oe[2]-oe[0],he=oe[3]-oe[1],Se=T.range[2]-T.range[0],_e=T.range[3]-T.range[1];T.scale=[se/Se,he/_e],T.translate=[-T.range[0]/Se+oe[0]/Se||0,-T.range[1]/_e+oe[1]/_e||0],T.scaleFract=r(T.scale),T.translateFract=r(T.translate)}if(f.dashes){var Ae,Ce=0;if(!f.dashes||f.dashes.length<2)Ce=1,Ae=new Uint8Array([255,255,255,255,255,255,255,255]);else{Ce=0;for(var Re=0;Re<f.dashes.length;++Re)Ce+=f.dashes[Re];Ae=new Uint8Array(Ce*p.dashMult);for(var fe=0,xe=255,ke=0;ke<2;ke++)for(var Ie=0;Ie<f.dashes.length;++Ie){for(var Fe=0,ze=f.dashes[Ie]*p.dashMult*.5;Fe<ze;++Fe)Ae[fe++]=xe;xe^=255}}T.dashLength=Ce,T.dashTexture({channels:1,data:Ae,width:Ae.length,height:1,mag:"linear",min:"linear"},0,0)}if(f.color){var qe=T.count,Ye=f.color;Ye||(Ye="transparent");var Qe=new Uint8Array(4*qe+4);if(Array.isArray(Ye)&&typeof Ye[0]!="number"){for(var ft=0;ft<qe;ft++){var ht=M(Ye[ft],"uint8");Qe.set(ht,4*ft)}Qe.set(M(Ye[0],"uint8"),4*qe)}else for(var mt=M(Ye,"uint8"),Mt=0;Mt<qe+1;Mt++)Qe.set(mt,4*Mt);T.colorBuffer({usage:"dynamic",type:"uint8",data:Qe})}}else x.passes[S]=null}),c.length<this.passes.length){for(var v=c.length;v<this.passes.length;v++){var y=this.passes[v];y&&(y.colorBuffer.destroy(),y.positionBuffer.destroy(),y.dashTexture.destroy())}this.passes.length=c.length}for(var m=[],w=0;w<this.passes.length;w++)this.passes[w]!==null&&m.push(this.passes[w]);return this.passes=m,this}},p.prototype.destroy=function(){return this.passes.forEach(function(c){c.colorBuffer.destroy(),c.positionBuffer.destroy(),c.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(q,C,e){function M(d,v){return function(y){if(Array.isArray(y))return y}(d)||function(y,m){var w=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(w!=null){var f,S,T,E,O=[],P=!0,I=!1;try{if(T=(w=w.call(y)).next,m===0){if(Object(w)!==w)return;P=!1}else for(;!(P=(f=T.call(w)).done)&&(O.push(f.value),O.length!==m);P=!0);}catch(z){I=!0,S=z}finally{try{if(!P&&w.return!=null&&(E=w.return(),Object(E)!==E))return}finally{if(I)throw S}}return O}}(d,v)||k(d,v)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(d,v){if(d){if(typeof d=="string")return a(d,v);var y=Object.prototype.toString.call(d).slice(8,-1);return y==="Object"&&d.constructor&&(y=d.constructor.name),y==="Map"||y==="Set"?Array.from(d):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?a(d,v):void 0}}function a(d,v){(v==null||v>d.length)&&(v=d.length);for(var y=0,m=new Array(v);y<v;y++)m[y]=d[y];return m}var _=e(25075),b=e(21527),h=e(6475),o=e(88294),t=e(56131),i=e(56068),n=e(71299),r=e(93447),l=e(30120),s=e(62683),u=e(57060),p=e(18863),c=x;function x(d,v){var y=this;if(!(this instanceof x))return new x(d,v);typeof d=="function"?(v||(v={}),v.regl=d):(v=d,d=null),v&&v.length&&(v.positions=v);var m,w=(d=v.regl)._gl,f=[];this.tooManyColors=s,m=d.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),t(this,{regl:d,gl:w,groups:[],markerCache:[null],markerTextures:[null],palette:f,paletteIds:{},paletteTexture:m,maxColors:255,maxSize:100,canvas:w.canvas}),this.update(v);var S={uniforms:{constPointSize:!!v.constPointSize,opacity:d.prop("opacity"),paletteSize:function(O,P){return[y.tooManyColors?0:255,m.height]},pixelRatio:d.context("pixelRatio"),scale:d.prop("scale"),scaleFract:d.prop("scaleFract"),translate:d.prop("translate"),translateFract:d.prop("translateFract"),markerTexture:d.prop("markerTexture"),paletteTexture:m},attributes:{x:function(O,P){return P.xAttr||{buffer:P.positionBuffer,stride:8,offset:0}},y:function(O,P){return P.yAttr||{buffer:P.positionBuffer,stride:8,offset:4}},xFract:function(O,P){return P.xAttr?{constant:[0,0]}:{buffer:P.positionFractBuffer,stride:8,offset:0}},yFract:function(O,P){return P.yAttr?{constant:[0,0]}:{buffer:P.positionFractBuffer,stride:8,offset:4}},size:function(O,P){return P.size.length?{buffer:P.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*P.size/y.maxSize)]}},borderSize:function(O,P){return P.borderSize.length?{buffer:P.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*P.borderSize/y.maxSize)]}},colorId:function(O,P){return P.color.length?{buffer:P.colorBuffer,stride:y.tooManyColors?8:4,offset:0}:{constant:y.tooManyColors?f.slice(4*P.color,4*P.color+4):[P.color]}},borderColorId:function(O,P){return P.borderColor.length?{buffer:P.colorBuffer,stride:y.tooManyColors?8:4,offset:y.tooManyColors?4:2}:{constant:y.tooManyColors?f.slice(4*P.borderColor,4*P.borderColor+4):[P.borderColor]}},isActive:function(O,P){return P.activation===!0?{constant:[1]}:P.activation?P.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:d.prop("viewport")},viewport:d.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:d.prop("elements"),count:d.prop("count"),offset:d.prop("offset"),primitive:"points"},T=t({},S);T.frag=i([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),T.vert=i([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=d(T);var E=t({},S);E.frag=i([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),E.vert=i([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),s&&(E.frag=E.frag.replace("smoothstep","smoothStep"),T.frag=T.frag.replace("smoothstep","smoothStep")),this.drawCircle=d(E)}x.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},x.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},x.prototype.draw=function(){for(var d=this,v=arguments.length,y=new Array(v),m=0;m<v;m++)y[m]=arguments[m];var w=this.groups;if(y.length===1&&Array.isArray(y[0])&&(y[0][0]===null||Array.isArray(y[0][0]))&&(y=y[0]),this.regl._refresh(),y.length)for(var f=0;f<y.length;f++)this.drawItem(f,y[f]);else w.forEach(function(S,T){d.drawItem(T)});return this},x.prototype.drawItem=function(d,v){var y,m=this.groups,w=m[d];if(typeof v=="number"&&(d=v,w=m[v],v=null),w&&w.count&&w.opacity){w.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,w,v));for(var f=[],S=1;S<w.activation.length;S++)w.activation[S]&&(w.activation[S]===!0||w.activation[S].data.length)&&f.push.apply(f,function(T){if(Array.isArray(T))return a(T)}(y=this.getMarkerDrawOptions(S,w,v))||function(T){if(typeof Symbol<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(y)||k(y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());f.length&&this.drawMarker(f)}},x.prototype.getMarkerDrawOptions=function(d,v,y){var m=v.range,w=v.tree,f=v.viewport,S=v.activation,T=v.selectionBuffer,E=v.count;if(this.regl,!w)return y?[t({},v,{markerTexture:this.markerTextures[d],activation:S[d],count:y.length,elements:y,offset:0})]:[t({},v,{markerTexture:this.markerTextures[d],activation:S[d],offset:0})];var O=[],P=w.range(m,{lod:!0,px:[(m[2]-m[0])/f.width,(m[3]-m[1])/f.height]});if(y){for(var I=S[d].data,z=new Uint8Array(E),j=0;j<y.length;j++){var R=y[j];z[R]=I?I[R]:1}T.subdata(z)}for(var N=P.length;N--;){var Z=M(P[N],2),F=Z[0],U=Z[1];O.push(t({},v,{markerTexture:this.markerTextures[d],activation:y?T:S[d],offset:F,count:U-F}))}return O},x.prototype.update=function(){for(var d=this,v=arguments.length,y=new Array(v),m=0;m<v;m++)y[m]=arguments[m];if(y.length){y.length===1&&Array.isArray(y[0])&&(y=y[0]);var w=this.groups,f=this.gl,S=this.regl,T=this.maxSize,E=this.maxColors,O=this.palette;this.groups=w=y.map(function(P,I){var z=w[I];if(P===void 0)return z;P===null?P={positions:null}:typeof P=="function"?P={ondraw:P}:typeof P[0]=="number"&&(P={positions:P}),(P=n(P,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions===null&&(P.positions=[]),P.tooManyColors!=null&&(d.tooManyColors=P.tooManyColors),z||(w[I]=z={id:I,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:S.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},P=t({},x.defaults,P)),P.positions&&!("marker"in P)&&(P.marker=z.marker,delete z.marker),P.marker&&!("positions"in P)&&(P.positions=z.positions,delete z.positions);var j=0,R=0;if(r(z,P,[{snap:!0,size:function(ye,be){return ye==null&&(ye=x.defaults.size),j+=ye&&ye.length?1:0,ye},borderSize:function(ye,be){return ye==null&&(ye=x.defaults.borderSize),j+=ye&&ye.length?1:0,ye},opacity:parseFloat,color:function(ye,be){return ye==null&&(ye=x.defaults.color),ye=d.updateColor(ye),R++,ye},borderColor:function(ye,be){return ye==null&&(ye=x.defaults.borderColor),ye=d.updateColor(ye),R++,ye},bounds:function(ye,be,me){return"range"in me||(me.range=null),ye},positions:function(ye,be,me){var Ee=be.snap,Te=be.positionBuffer,we=be.positionFractBuffer,oe=be.selectionBuffer;if(ye.x||ye.y)return ye.x.length?be.xAttr={buffer:S.buffer(ye.x),offset:0,stride:4,count:ye.x.length}:be.xAttr={buffer:ye.x.buffer,offset:4*ye.x.offset||0,stride:4*(ye.x.stride||1),count:ye.x.count},ye.y.length?be.yAttr={buffer:S.buffer(ye.y),offset:0,stride:4,count:ye.y.length}:be.yAttr={buffer:ye.y.buffer,offset:4*ye.y.offset||0,stride:4*(ye.y.stride||1),count:ye.y.count},be.count=Math.max(be.xAttr.count,be.yAttr.count),ye;ye=l(ye,"float64");var se=be.count=Math.floor(ye.length/2),he=be.bounds=se?b(ye,2):null;if(me.range||be.range||(delete be.range,me.range=he),me.marker||be.marker||(delete be.marker,me.marker=null),Ee&&(Ee===!0||se>Ee)?be.tree=o(ye,{bounds:he}):Ee&&Ee.length&&(be.tree=Ee),be.tree){var Se={primitive:"points",usage:"static",data:be.tree,type:"uint32"};be.elements?be.elements(Se):be.elements=S.elements(Se)}var _e=u.float32(ye);return Te({data:_e,usage:"dynamic"}),we({data:u.fract32(ye,_e),usage:"dynamic"}),oe({data:new Uint8Array(se),type:"uint8",usage:"stream"}),ye}},{marker:function(ye,be,me){var Ee=be.activation;if(Ee.forEach(function(_e){return _e&&_e.destroy&&_e.destroy()}),Ee.length=0,ye&&typeof ye[0]!="number"){for(var Te=[],we=0,oe=Math.min(ye.length,be.count);we<oe;we++){var se=d.addMarker(ye[we]);Te[se]||(Te[se]=new Uint8Array(be.count)),Te[se][we]=1}for(var he=0;he<Te.length;he++)if(Te[he]){var Se={data:Te[he],type:"uint8",usage:"static"};Ee[he]?Ee[he](Se):Ee[he]=S.buffer(Se),Ee[he].data=Te[he]}}else Ee[d.addMarker(ye)]=!0;return ye},range:function(ye,be,me){var Ee=be.bounds;if(Ee)return ye||(ye=Ee),be.scale=[1/(ye[2]-ye[0]),1/(ye[3]-ye[1])],be.translate=[-ye[0],-ye[1]],be.scaleFract=u.fract(be.scale),be.translateFract=u.fract(be.translate),ye},viewport:function(ye){return p(ye||[f.drawingBufferWidth,f.drawingBufferHeight])}}]),j){var N=z,Z=N.count,F=N.size,U=N.borderSize,V=N.sizeBuffer,te=new Uint8Array(2*Z);if(F.length||U.length)for(var Q=0;Q<Z;Q++)te[2*Q]=Math.round(255*(F[Q]==null?F:F[Q])/T),te[2*Q+1]=Math.round(255*(U[Q]==null?U:U[Q])/T);V({data:te,usage:"dynamic"})}if(R){var J,X=z,K=X.count,ee=X.color,re=X.borderColor,ie=X.colorBuffer;if(d.tooManyColors){if(ee.length||re.length){J=new Uint8Array(8*K);for(var ae=0;ae<K;ae++){var ue=ee[ae];J[8*ae]=O[4*ue],J[8*ae+1]=O[4*ue+1],J[8*ae+2]=O[4*ue+2],J[8*ae+3]=O[4*ue+3];var pe=re[ae];J[8*ae+4]=O[4*pe],J[8*ae+5]=O[4*pe+1],J[8*ae+6]=O[4*pe+2],J[8*ae+7]=O[4*pe+3]}}}else if(ee.length||re.length){J=new Uint8Array(4*K+2);for(var de=0;de<K;de++)ee[de]!=null&&(J[4*de]=ee[de]%E,J[4*de+1]=Math.floor(ee[de]/E)),re[de]!=null&&(J[4*de+2]=re[de]%E,J[4*de+3]=Math.floor(re[de]/E))}ie({data:J||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return z})}},x.prototype.addMarker=function(d){var v,y=this.markerTextures,m=this.regl,w=this.markerCache,f=d==null?0:w.indexOf(d);if(f>=0)return f;if(d instanceof Uint8Array||d instanceof Uint8ClampedArray)v=d;else{v=new Uint8Array(d.length);for(var S=0,T=d.length;S<T;S++)v[S]=255*d[S]}var E=Math.floor(Math.sqrt(v.length));return f=y.length,w.push(d),y.push(m.texture({channels:1,data:v,radius:E,mag:"linear",min:"linear"})),f},x.prototype.updateColor=function(d){var v=this.paletteIds,y=this.palette,m=this.maxColors;Array.isArray(d)||(d=[d]);var w=[];if(typeof d[0]=="number"){var f=[];if(Array.isArray(d))for(var S=0;S<d.length;S+=4)f.push(d.slice(S,S+4));else for(var T=0;T<d.length;T+=4)f.push(d.subarray(T,T+4));d=f}for(var E=0;E<d.length;E++){var O=d[E];O=_(O,"uint8");var P=h(O,!1);if(v[P]==null){var I=y.length;v[P]=Math.floor(I/4),y[I]=O[0],y[I+1]=O[1],y[I+2]=O[2],y[I+3]=O[3]}w[E]=v[P]}return!this.tooManyColors&&y.length>4*m&&(this.tooManyColors=!0),this.updatePalette(y),w.length===1?w[0]:w},x.prototype.updatePalette=function(d){if(!this.tooManyColors){var v=this.maxColors,y=this.paletteTexture,m=Math.ceil(.25*d.length/v);if(m>1)for(var w=.25*(d=d.slice()).length%v;w<m*v;w++)d.push(0,0,0,0);y.height<m&&y.resize(v,m),y.subimage({width:Math.min(.25*d.length,v),height:m,data:d},0,0)}},x.prototype.destroy=function(){return this.groups.forEach(function(d){d.sizeBuffer.destroy(),d.positionBuffer.destroy(),d.positionFractBuffer.destroy(),d.colorBuffer.destroy(),d.activation.forEach(function(v){return v&&v.destroy&&v.destroy()}),d.selectionBuffer.destroy(),d.elements&&d.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(d){return d&&d.destroy&&d.destroy()}),this};var g=e(56131);q.exports=function(d,v){var y=new c(d,v),m=y.render.bind(y);return g(m,{render:m,update:y.update.bind(y),draw:y.draw.bind(y),destroy:y.destroy.bind(y),regl:y.regl,gl:y.gl,canvas:y.gl.canvas,groups:y.groups,markers:y.markerCache,palette:y.palette}),m}},60487:function(q,C,e){var M=e(11870),k=e(71299),a=e(21527),_=e(5877),b=e(57471),h=e(18863),o=e(30120);function t(l,s){if(!(this instanceof t))return new t(l);this.traces=[],this.passes={},this.regl=l,this.scatter=M(l),this.canvas=this.scatter.canvas}function i(l,s,u){return(l.id!=null?l.id:l)<<16|(255&s)<<8|255&u}function n(l,s,u){var p,c,x,g,d=l[s],v=l[u];return d.length>2?(d[0],d[2],p=d[1],c=d[3]):d.length?(p=d[0],c=d[1]):(d.x,p=d.y,d.x,d.width,c=d.y+d.height),v.length>2?(x=v[0],g=v[2],v[1],v[3]):v.length?(x=v[0],g=v[1]):(x=v.x,v.y,g=v.x+v.width,v.y,v.height),[x,p,g,c]}function r(l){if(typeof l=="number")return[l,l,l,l];if(l.length===2)return[l[0],l[1],l[0],l[1]];var s=h(l);return[s.x,s.y,s.x+s.width,s.y+s.height]}q.exports=t,t.prototype.render=function(){for(var l,s=this,u=[],p=arguments.length;p--;)u[p]=arguments[p];return u.length&&(l=this).update.apply(l,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=_(function(){s.draw(),s.dirty=!0,s.planned=null})):(this.draw(),this.dirty=!0,_(function(){s.dirty=!1})),this)},t.prototype.update=function(){for(var l,s=[],u=arguments.length;u--;)s[u]=arguments[u];if(s.length){for(var p=0;p<s.length;p++)this.updateItem(p,s[p]);this.traces=this.traces.filter(Boolean);for(var c=[],x=0,g=0;g<this.traces.length;g++){for(var d=this.traces[g],v=this.traces[g].passes,y=0;y<v.length;y++)c.push(this.passes[v[y]]);d.passOffset=x,x+=d.passes.length}return(l=this.scatter).update.apply(l,c),this}},t.prototype.updateItem=function(l,s){var u=this.regl;if(s===null)return this.traces[l]=null,this;if(!s)return this;var p,c=k(s,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),x=this.traces[l]||(this.traces[l]={id:l,buffer:u.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:h([u._gl.drawingBufferWidth,u._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(c.color!=null&&(x.color=c.color),c.size!=null&&(x.size=c.size),c.marker!=null&&(x.marker=c.marker),c.borderColor!=null&&(x.borderColor=c.borderColor),c.borderSize!=null&&(x.borderSize=c.borderSize),c.opacity!=null&&(x.opacity=c.opacity),c.viewport&&(x.viewport=h(c.viewport)),c.diagonal!=null&&(x.diagonal=c.diagonal),c.upper!=null&&(x.upper=c.upper),c.lower!=null&&(x.lower=c.lower),c.data){x.buffer(o(c.data)),x.columns=c.data.length,x.count=c.data[0].length,x.bounds=[];for(var g=0;g<x.columns;g++)x.bounds[g]=a(c.data[g],1)}c.range&&(x.range=c.range,p=x.range&&typeof x.range[0]!="number"),c.domain&&(x.domain=c.domain);var d=!1;c.padding!=null&&(Array.isArray(c.padding)&&c.padding.length===x.columns&&typeof c.padding[c.padding.length-1]=="number"?(x.padding=c.padding.map(r),d=!0):x.padding=r(c.padding));var v=x.columns,y=x.count,m=x.viewport.width,w=x.viewport.height,f=x.viewport.x,S=x.viewport.y,T=m/v,E=w/v;x.passes=[];for(var O=0;O<v;O++)for(var P=0;P<v;P++)if((x.diagonal||P!==O)&&(x.upper||!(O>P))&&(x.lower||!(O<P))){var I=i(x.id,O,P),z=this.passes[I]||(this.passes[I]={});if(c.data&&(c.transpose?z.positions={x:{buffer:x.buffer,offset:P,count:y,stride:v},y:{buffer:x.buffer,offset:O,count:y,stride:v}}:z.positions={x:{buffer:x.buffer,offset:P*y,count:y},y:{buffer:x.buffer,offset:O*y,count:y}},z.bounds=n(x.bounds,O,P)),c.domain||c.viewport||c.data){var j=d?n(x.padding,O,P):x.padding;if(x.domain){var R=n(x.domain,O,P),N=R[0],Z=R[1],F=R[2],U=R[3];z.viewport=[f+N*m+j[0],S+Z*w+j[1],f+F*m-j[2],S+U*w-j[3]]}else z.viewport=[f+P*T+T*j[0],S+O*E+E*j[1],f+(P+1)*T-T*j[2],S+(O+1)*E-E*j[3]]}c.color&&(z.color=x.color),c.size&&(z.size=x.size),c.marker&&(z.marker=x.marker),c.borderSize&&(z.borderSize=x.borderSize),c.borderColor&&(z.borderColor=x.borderColor),c.opacity&&(z.opacity=x.opacity),c.range&&(z.range=p?n(x.range,O,P):x.range||z.bounds),x.passes.push(I)}return this},t.prototype.draw=function(){for(var l,s=[],u=arguments.length;u--;)s[u]=arguments[u];if(s.length){for(var p=[],c=0;c<s.length;c++)if(typeof s[c]=="number"){var x=this.traces[s[c]],g=x.passes,d=x.passOffset;p.push.apply(p,b(d,d+g.length))}else if(s[c].length){var v=s[c],y=this.traces[c],m=y.passes,w=y.passOffset;m=m.map(function(f,S){p[w+S]=v})}(l=this.scatter).draw.apply(l,p)}else this.scatter.draw();return this},t.prototype.destroy=function(){return this.traces.forEach(function(l){l.buffer&&l.buffer.destroy&&l.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},98580:function(q){q.exports=function(){function C(Ue,Xe){this.id=re++,this.type=Ue,this.data=Xe}function e(Ue){if(Ue.length===0)return[];var Xe=Ue.charAt(0),lt=Ue.charAt(Ue.length-1);if(1<Ue.length&&Xe===lt&&(Xe==='"'||Xe==="'"))return['"'+Ue.substr(1,Ue.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Xe=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Ue))return e(Ue.substr(0,Xe.index)).concat(e(Xe[1])).concat(e(Ue.substr(Xe.index+Xe[0].length)));if((Xe=Ue.split(".")).length===1)return['"'+Ue.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(Ue=[],lt=0;lt<Xe.length;++lt)Ue=Ue.concat(e(Xe[lt]));return Ue}function M(Ue){return"["+e(Ue).join("][")+"]"}function k(Ue){return typeof Ue=="string"?Ue.split():Ue}function a(Ue){return typeof Ue=="string"?document.querySelector(Ue):Ue}function _(Ue){var Xe,lt,ot,Be,Ne=Ue||{};Ue={};var at=[],$e=[],gt=typeof window>"u"?1:window.devicePixelRatio,yt=!1,xt={},dt=function(Tt){},Lt=function(){};if(typeof Ne=="string"?Xe=document.querySelector(Ne):typeof Ne=="object"&&(typeof Ne.nodeName=="string"&&typeof Ne.appendChild=="function"&&typeof Ne.getBoundingClientRect=="function"?Xe=Ne:typeof Ne.drawArrays=="function"||typeof Ne.drawElements=="function"?ot=(Be=Ne).canvas:("gl"in Ne?Be=Ne.gl:"canvas"in Ne?ot=a(Ne.canvas):"container"in Ne&&(lt=a(Ne.container)),"attributes"in Ne&&(Ue=Ne.attributes),"extensions"in Ne&&(at=k(Ne.extensions)),"optionalExtensions"in Ne&&($e=k(Ne.optionalExtensions)),"onDone"in Ne&&(dt=Ne.onDone),"profile"in Ne&&(yt=!!Ne.profile),"pixelRatio"in Ne&&(gt=+Ne.pixelRatio),"cachedCode"in Ne&&(xt=Ne.cachedCode))),Xe&&(Xe.nodeName.toLowerCase()==="canvas"?ot=Xe:lt=Xe),!Be){if(!ot){if(!(Xe=function(Tt,bt,Ct){function Dt(){var an=window.innerWidth,Wt=window.innerHeight;Tt!==document.body&&(an=(Wt=Xt.getBoundingClientRect()).right-Wt.left,Wt=Wt.bottom-Wt.top),Xt.width=Ct*an,Xt.height=Ct*Wt}var Bt,Xt=document.createElement("canvas");return ee(Xt.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),Tt.appendChild(Xt),Tt===document.body&&(Xt.style.position="absolute",ee(Tt.style,{margin:0,padding:0})),Tt!==document.body&&typeof ResizeObserver=="function"?(Bt=new ResizeObserver(function(){setTimeout(Dt)})).observe(Tt):window.addEventListener("resize",Dt,!1),Dt(),{canvas:Xt,onDestroy:function(){Bt?Bt.disconnect():window.removeEventListener("resize",Dt),Tt.removeChild(Xt)}}}(lt||document.body,0,gt)))return null;ot=Xe.canvas,Lt=Xe.onDestroy}Ue.premultipliedAlpha===void 0&&(Ue.premultipliedAlpha=!0),Be=function(Tt,bt){function Ct(Dt){try{return Tt.getContext(Dt,bt)}catch{return null}}return Ct("webgl")||Ct("experimental-webgl")||Ct("webgl-experimental")}(ot,Ue)}return Be?{gl:Be,canvas:ot,container:lt,extensions:at,optionalExtensions:$e,pixelRatio:gt,profile:yt,cachedCode:xt,onDone:dt,onDestroy:Lt}:(Lt(),dt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function b(Ue,Xe){for(var lt=Array(Ue),ot=0;ot<Ue;++ot)lt[ot]=Xe(ot);return lt}function h(Ue){var Xe,lt;return Xe=(65535<Ue)<<4,Xe|=lt=(255<(Ue>>>=Xe))<<3,(Xe|=lt=(15<(Ue>>>=lt))<<2)|(lt=(3<(Ue>>>=lt))<<1)|Ue>>>lt>>1}function o(){function Ue(ot){e:{for(var Be=16;268435456>=Be;Be*=16)if(ot<=Be){ot=Be;break e}ot=0}return 0<(Be=lt[h(ot)>>2]).length?Be.pop():new ArrayBuffer(ot)}function Xe(ot){lt[h(ot.byteLength)>>2].push(ot)}var lt=b(8,function(){return[]});return{alloc:Ue,free:Xe,allocType:function(ot,Be){var Ne=null;switch(ot){case 5120:Ne=new Int8Array(Ue(Be),0,Be);break;case 5121:Ne=new Uint8Array(Ue(Be),0,Be);break;case 5122:Ne=new Int16Array(Ue(2*Be),0,Be);break;case 5123:Ne=new Uint16Array(Ue(2*Be),0,Be);break;case 5124:Ne=new Int32Array(Ue(4*Be),0,Be);break;case 5125:Ne=new Uint32Array(Ue(4*Be),0,Be);break;case 5126:Ne=new Float32Array(Ue(4*Be),0,Be);break;default:return null}return Ne.length!==Be?Ne.subarray(0,Be):Ne},freeType:function(ot){Xe(ot.buffer)}}}function t(Ue){return!!Ue&&typeof Ue=="object"&&Array.isArray(Ue.shape)&&Array.isArray(Ue.stride)&&typeof Ue.offset=="number"&&Ue.shape.length===Ue.stride.length&&(Array.isArray(Ue.data)||ye(Ue.data))}function i(Ue,Xe,lt,ot,Be,Ne){for(var at=0;at<Xe;++at)for(var $e=Ue[at],gt=0;gt<lt;++gt)for(var yt=$e[gt],xt=0;xt<ot;++xt)Be[Ne++]=yt[xt]}function n(Ue,Xe,lt,ot,Be){for(var Ne=1,at=lt+1;at<Xe.length;++at)Ne*=Xe[at];var $e=Xe[lt];if(Xe.length-lt==4){var gt=Xe[lt+1],yt=Xe[lt+2];for(Xe=Xe[lt+3],at=0;at<$e;++at)i(Ue[at],gt,yt,Xe,ot,Be),Be+=Ne}else for(at=0;at<$e;++at)n(Ue[at],Xe,lt+1,ot,Be),Be+=Ne}function r(Ue){return 0|Ee[Object.prototype.toString.call(Ue)]}function l(Ue,Xe){for(var lt=0;lt<Xe.length;++lt)Ue[lt]=Xe[lt]}function s(Ue,Xe,lt,ot,Be,Ne,at){for(var $e=0,gt=0;gt<lt;++gt)for(var yt=0;yt<ot;++yt)Ue[$e++]=Xe[Be*gt+Ne*yt+at]}function u(Ue,Xe,lt,ot){function Be(dt){this.id=gt++,this.buffer=Ue.createBuffer(),this.type=dt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,lt.profile&&(this.stats={size:0})}function Ne(dt,Lt,Tt){dt.byteLength=Lt.byteLength,Ue.bufferData(dt.type,Lt,Tt)}function at(dt,Lt,Tt,bt,Ct,Dt){if(dt.usage=Tt,Array.isArray(Lt)){if(dt.dtype=bt||5126,0<Lt.length)if(Array.isArray(Lt[0])){Ct=se(Lt);for(var Bt=bt=1;Bt<Ct.length;++Bt)bt*=Ct[Bt];dt.dimension=bt,Ne(dt,Lt=oe(Lt,Ct,dt.dtype),Tt),Dt?dt.persistentData=Lt:pe.freeType(Lt)}else typeof Lt[0]=="number"?(dt.dimension=Ct,l(Ct=pe.allocType(dt.dtype,Lt.length),Lt),Ne(dt,Ct,Tt),Dt?dt.persistentData=Ct:pe.freeType(Ct)):ye(Lt[0])&&(dt.dimension=Lt[0].length,dt.dtype=bt||r(Lt[0])||5126,Ne(dt,Lt=oe(Lt,[Lt.length,Lt[0].length],dt.dtype),Tt),Dt?dt.persistentData=Lt:pe.freeType(Lt))}else if(ye(Lt))dt.dtype=bt||r(Lt),dt.dimension=Ct,Ne(dt,Lt,Tt),Dt&&(dt.persistentData=new Uint8Array(new Uint8Array(Lt.buffer)));else if(t(Lt)){Ct=Lt.shape;var Xt=Lt.stride,an=(Bt=Lt.offset,0),Wt=0,Vt=0,on=0;Ct.length===1?(an=Ct[0],Wt=1,Vt=Xt[0],on=0):Ct.length===2&&(an=Ct[0],Wt=Ct[1],Vt=Xt[0],on=Xt[1]),dt.dtype=bt||r(Lt.data)||5126,dt.dimension=Wt,s(Ct=pe.allocType(dt.dtype,an*Wt),Lt.data,an,Wt,Vt,on,Bt),Ne(dt,Ct,Tt),Dt?dt.persistentData=Ct:pe.freeType(Ct)}else Lt instanceof ArrayBuffer&&(dt.dtype=5121,dt.dimension=Ct,Ne(dt,Lt,Tt),Dt&&(dt.persistentData=new Uint8Array(new Uint8Array(Lt))))}function $e(dt){Xe.bufferCount--,ot(dt),Ue.deleteBuffer(dt.buffer),dt.buffer=null,delete yt[dt.id]}var gt=0,yt={};Be.prototype.bind=function(){Ue.bindBuffer(this.type,this.buffer)},Be.prototype.destroy=function(){$e(this)};var xt=[];return lt.profile&&(Xe.getTotalBufferSize=function(){var dt=0;return Object.keys(yt).forEach(function(Lt){dt+=yt[Lt].stats.size}),dt}),{create:function(dt,Lt,Tt,bt){function Ct(Bt){var Xt=35044,an=null,Wt=0,Vt=0,on=1;return Array.isArray(Bt)||ye(Bt)||t(Bt)||Bt instanceof ArrayBuffer?an=Bt:typeof Bt=="number"?Wt=0|Bt:Bt&&("data"in Bt&&(an=Bt.data),"usage"in Bt&&(Xt=we[Bt.usage]),"type"in Bt&&(Vt=Te[Bt.type]),"dimension"in Bt&&(on=0|Bt.dimension),"length"in Bt&&(Wt=0|Bt.length)),Dt.bind(),an?at(Dt,an,Xt,Vt,on,bt):(Wt&&Ue.bufferData(Dt.type,Wt,Xt),Dt.dtype=Vt||5121,Dt.usage=Xt,Dt.dimension=on,Dt.byteLength=Wt),lt.profile&&(Dt.stats.size=Dt.byteLength*he[Dt.dtype]),Ct}Xe.bufferCount++;var Dt=new Be(Lt);return yt[Dt.id]=Dt,Tt||Ct(dt),Ct._reglType="buffer",Ct._buffer=Dt,Ct.subdata=function(Bt,Xt){var an,Wt=0|(Xt||0);if(Dt.bind(),ye(Bt)||Bt instanceof ArrayBuffer)Ue.bufferSubData(Dt.type,Wt,Bt);else if(Array.isArray(Bt)){if(0<Bt.length)if(typeof Bt[0]=="number"){var Vt=pe.allocType(Dt.dtype,Bt.length);l(Vt,Bt),Ue.bufferSubData(Dt.type,Wt,Vt),pe.freeType(Vt)}else(Array.isArray(Bt[0])||ye(Bt[0]))&&(an=se(Bt),Vt=oe(Bt,an,Dt.dtype),Ue.bufferSubData(Dt.type,Wt,Vt),pe.freeType(Vt))}else if(t(Bt)){an=Bt.shape;var on=Bt.stride,Sn=Vt=0,Ln=0,fn=0;an.length===1?(Vt=an[0],Sn=1,Ln=on[0],fn=0):an.length===2&&(Vt=an[0],Sn=an[1],Ln=on[0],fn=on[1]),an=Array.isArray(Bt.data)?Dt.dtype:r(Bt.data),s(an=pe.allocType(an,Vt*Sn),Bt.data,Vt,Sn,Ln,fn,Bt.offset),Ue.bufferSubData(Dt.type,Wt,an),pe.freeType(an)}return Ct},lt.profile&&(Ct.stats=Dt.stats),Ct.destroy=function(){$e(Dt)},Ct},createStream:function(dt,Lt){var Tt=xt.pop();return Tt||(Tt=new Be(dt)),Tt.bind(),at(Tt,Lt,35040,0,1,!1),Tt},destroyStream:function(dt){xt.push(dt)},clear:function(){be(yt).forEach($e),xt.forEach($e)},getBuffer:function(dt){return dt&&dt._buffer instanceof Be?dt._buffer:null},restore:function(){be(yt).forEach(function(dt){dt.buffer=Ue.createBuffer(),Ue.bindBuffer(dt.type,dt.buffer),Ue.bufferData(dt.type,dt.persistentData||dt.byteLength,dt.usage)})},_initBuffer:at}}function p(Ue,Xe,lt,ot){function Be(dt){this.id=gt++,$e[this.id]=this,this.buffer=dt,this.primType=4,this.type=this.vertCount=0}function Ne(dt,Lt,Tt,bt,Ct,Dt,Bt){var Xt;if(dt.buffer.bind(),Lt?((Xt=Bt)||ye(Lt)&&(!t(Lt)||ye(Lt.data))||(Xt=Xe.oes_element_index_uint?5125:5123),lt._initBuffer(dt.buffer,Lt,Tt,Xt,3)):(Ue.bufferData(34963,Dt,Tt),dt.buffer.dtype=Xt||5121,dt.buffer.usage=Tt,dt.buffer.dimension=3,dt.buffer.byteLength=Dt),Xt=Bt,!Bt){switch(dt.buffer.dtype){case 5121:case 5120:Xt=5121;break;case 5123:case 5122:Xt=5123;break;case 5125:case 5124:Xt=5125}dt.buffer.dtype=Xt}dt.type=Xt,0>(Lt=Ct)&&(Lt=dt.buffer.byteLength,Xt===5123?Lt>>=1:Xt===5125&&(Lt>>=2)),dt.vertCount=Lt,Lt=bt,0>bt&&(Lt=4,(bt=dt.buffer.dimension)===1&&(Lt=0),bt===2&&(Lt=1),bt===3&&(Lt=4)),dt.primType=Lt}function at(dt){ot.elementsCount--,delete $e[dt.id],dt.buffer.destroy(),dt.buffer=null}var $e={},gt=0,yt={uint8:5121,uint16:5123};Xe.oes_element_index_uint&&(yt.uint32=5125),Be.prototype.bind=function(){this.buffer.bind()};var xt=[];return{create:function(dt,Lt){function Tt(Dt){if(Dt)if(typeof Dt=="number")bt(Dt),Ct.primType=4,Ct.vertCount=0|Dt,Ct.type=5121;else{var Bt=null,Xt=35044,an=-1,Wt=-1,Vt=0,on=0;Array.isArray(Dt)||ye(Dt)||t(Dt)?Bt=Dt:("data"in Dt&&(Bt=Dt.data),"usage"in Dt&&(Xt=we[Dt.usage]),"primitive"in Dt&&(an=Se[Dt.primitive]),"count"in Dt&&(Wt=0|Dt.count),"type"in Dt&&(on=yt[Dt.type]),"length"in Dt?Vt=0|Dt.length:(Vt=Wt,on===5123||on===5122?Vt*=2:on!==5125&&on!==5124||(Vt*=4))),Ne(Ct,Bt,Xt,an,Wt,Vt,on)}else bt(),Ct.primType=4,Ct.vertCount=0,Ct.type=5121;return Tt}var bt=lt.create(null,34963,!0),Ct=new Be(bt._buffer);return ot.elementsCount++,Tt(dt),Tt._reglType="elements",Tt._elements=Ct,Tt.subdata=function(Dt,Bt){return bt.subdata(Dt,Bt),Tt},Tt.destroy=function(){at(Ct)},Tt},createStream:function(dt){var Lt=xt.pop();return Lt||(Lt=new Be(lt.create(null,34963,!0,!1)._buffer)),Ne(Lt,dt,35040,-1,-1,0,0),Lt},destroyStream:function(dt){xt.push(dt)},getElements:function(dt){return typeof dt=="function"&&dt._elements instanceof Be?dt._elements:null},clear:function(){be($e).forEach(at)}}}function c(Ue){for(var Xe=pe.allocType(5123,Ue.length),lt=0;lt<Ue.length;++lt)if(isNaN(Ue[lt]))Xe[lt]=65535;else if(Ue[lt]===1/0)Xe[lt]=31744;else if(Ue[lt]===-1/0)Xe[lt]=64512;else{_e[0]=Ue[lt];var ot=(Ne=Ae[0])>>>31<<15,Be=(Ne<<1>>>24)-127,Ne=Ne>>13&1023;Xe[lt]=-24>Be?ot:-14>Be?ot+(Ne+1024>>-14-Be):15<Be?ot+31744:ot+(Be+15<<10)+Ne}return Xe}function x(Ue){return Array.isArray(Ue)||ye(Ue)}function g(Ue){return"[object "+Ue+"]"}function d(Ue){return Array.isArray(Ue)&&(Ue.length===0||typeof Ue[0]=="number")}function v(Ue){return!(!Array.isArray(Ue)||Ue.length===0||!x(Ue[0]))}function y(Ue){return Object.prototype.toString.call(Ue)}function m(Ue){if(!Ue)return!1;var Xe=y(Ue);return 0<=Ye.indexOf(Xe)||d(Ue)||v(Ue)||t(Ue)}function w(Ue,Xe){Ue.type===36193?(Ue.data=c(Xe),pe.freeType(Xe)):Ue.data=Xe}function f(Ue,Xe,lt,ot,Be,Ne){if(Ue=ft[Ue]!==void 0?ft[Ue]:fe[Ue]*Qe[Xe],Ne&&(Ue*=6),Be){for(ot=0;1<=lt;)ot+=Ue*lt*lt,lt/=2;return ot}return Ue*lt*ot}function S(Ue,Xe,lt,ot,Be,Ne,at){function $e(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function gt($t,bn){$t.internalformat=bn.internalformat,$t.format=bn.format,$t.type=bn.type,$t.compressed=bn.compressed,$t.premultiplyAlpha=bn.premultiplyAlpha,$t.flipY=bn.flipY,$t.unpackAlignment=bn.unpackAlignment,$t.colorSpace=bn.colorSpace,$t.width=bn.width,$t.height=bn.height,$t.channels=bn.channels}function yt($t,bn){if(typeof bn=="object"&&bn){"premultiplyAlpha"in bn&&($t.premultiplyAlpha=bn.premultiplyAlpha),"flipY"in bn&&($t.flipY=bn.flipY),"alignment"in bn&&($t.unpackAlignment=bn.alignment),"colorSpace"in bn&&($t.colorSpace=Cn[bn.colorSpace]),"type"in bn&&($t.type=_n[bn.type]);var Rt=$t.width,Kt=$t.height,rn=$t.channels,xn=!1;"shape"in bn?(Rt=bn.shape[0],Kt=bn.shape[1],bn.shape.length===3&&(rn=bn.shape[2],xn=!0)):("radius"in bn&&(Rt=Kt=bn.radius),"width"in bn&&(Rt=bn.width),"height"in bn&&(Kt=bn.height),"channels"in bn&&(rn=bn.channels,xn=!0)),$t.width=0|Rt,$t.height=0|Kt,$t.channels=0|rn,Rt=!1,"format"in bn&&(Rt=bn.format,Kt=$t.internalformat=zn[Rt],$t.format=dn[Kt],Rt in _n&&!("type"in bn)&&($t.type=_n[Rt]),Rt in Hn&&($t.compressed=!0),Rt=!0),!xn&&Rt?$t.channels=fe[$t.format]:xn&&!Rt&&$t.channels!==Re[$t.format]&&($t.format=$t.internalformat=Re[$t.channels])}}function xt($t){Ue.pixelStorei(37440,$t.flipY),Ue.pixelStorei(37441,$t.premultiplyAlpha),Ue.pixelStorei(37443,$t.colorSpace),Ue.pixelStorei(3317,$t.unpackAlignment)}function dt(){$e.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Lt($t,bn){var Rt=null;if(m(bn)?Rt=bn:bn&&(yt($t,bn),"x"in bn&&($t.xOffset=0|bn.x),"y"in bn&&($t.yOffset=0|bn.y),m(bn.data)&&(Rt=bn.data)),bn.copy){var Kt=Be.viewportWidth,rn=Be.viewportHeight;$t.width=$t.width||Kt-$t.xOffset,$t.height=$t.height||rn-$t.yOffset,$t.needsCopy=!0}else if(Rt){if(ye(Rt))$t.channels=$t.channels||4,$t.data=Rt,"type"in bn||$t.type!==5121||($t.type=0|Ee[Object.prototype.toString.call(Rt)]);else if(d(Rt)){switch($t.channels=$t.channels||4,rn=(Kt=Rt).length,$t.type){case 5121:case 5123:case 5125:case 5126:(rn=pe.allocType($t.type,rn)).set(Kt),$t.data=rn;break;case 36193:$t.data=c(Kt)}$t.alignment=1,$t.needsFree=!0}else if(t(Rt)){Kt=Rt.data,Array.isArray(Kt)||$t.type!==5121||($t.type=0|Ee[Object.prototype.toString.call(Kt)]),rn=Rt.shape;var xn,Tn,Pn,pn,Qt=Rt.stride;rn.length===3?(Pn=rn[2],pn=Qt[2]):pn=Pn=1,xn=rn[0],Tn=rn[1],rn=Qt[0],Qt=Qt[1],$t.alignment=1,$t.width=xn,$t.height=Tn,$t.channels=Pn,$t.format=$t.internalformat=Re[Pn],$t.needsFree=!0,xn=pn,Rt=Rt.offset,Pn=$t.width,pn=$t.height,Tn=$t.channels;for(var en=pe.allocType($t.type===36193?5126:$t.type,Pn*pn*Tn),hn=0,gn=0;gn<pn;++gn)for(var Dn=0;Dn<Pn;++Dn)for(var Fn=0;Fn<Tn;++Fn)en[hn++]=Kt[rn*Dn+Qt*gn+xn*Fn+Rt];w($t,en)}else if(y(Rt)===xe||y(Rt)===ke||y(Rt)===Ie)y(Rt)===xe||y(Rt)===ke?$t.element=Rt:$t.element=Rt.canvas,$t.width=$t.element.width,$t.height=$t.element.height,$t.channels=4;else if(y(Rt)===Fe)$t.element=Rt,$t.width=Rt.width,$t.height=Rt.height,$t.channels=4;else if(y(Rt)===ze)$t.element=Rt,$t.width=Rt.naturalWidth,$t.height=Rt.naturalHeight,$t.channels=4;else if(y(Rt)===qe)$t.element=Rt,$t.width=Rt.videoWidth,$t.height=Rt.videoHeight,$t.channels=4;else if(v(Rt)){for(Kt=$t.width||Rt[0].length,rn=$t.height||Rt.length,Qt=$t.channels,Qt=x(Rt[0][0])?Qt||Rt[0][0].length:Qt||1,xn=me.shape(Rt),Pn=1,pn=0;pn<xn.length;++pn)Pn*=xn[pn];Pn=pe.allocType($t.type===36193?5126:$t.type,Pn),me.flatten(Rt,xn,"",Pn),w($t,Pn),$t.alignment=1,$t.width=Kt,$t.height=rn,$t.channels=Qt,$t.format=$t.internalformat=Re[Qt],$t.needsFree=!0}}else $t.width=$t.width||1,$t.height=$t.height||1,$t.channels=$t.channels||4}function Tt($t,bn,Rt,Kt,rn){var xn=$t.element,Tn=$t.data,Pn=$t.internalformat,pn=$t.format,Qt=$t.type,en=$t.width,hn=$t.height;xt($t),xn?Ue.texSubImage2D(bn,rn,Rt,Kt,pn,Qt,xn):$t.compressed?Ue.compressedTexSubImage2D(bn,rn,Rt,Kt,Pn,en,hn,Tn):$t.needsCopy?(ot(),Ue.copyTexSubImage2D(bn,rn,Rt,Kt,$t.xOffset,$t.yOffset,en,hn)):Ue.texSubImage2D(bn,rn,Rt,Kt,en,hn,pn,Qt,Tn)}function bt(){return vn.pop()||new dt}function Ct($t){$t.needsFree&&pe.freeType($t.data),dt.call($t),vn.push($t)}function Dt(){$e.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Bt($t,bn,Rt){var Kt=$t.images[0]=bt();$t.mipmask=1,Kt.width=$t.width=bn,Kt.height=$t.height=Rt,Kt.channels=$t.channels=4}function Xt($t,bn){var Rt=null;if(m(bn))gt(Rt=$t.images[0]=bt(),$t),Lt(Rt,bn),$t.mipmask=1;else if(yt($t,bn),Array.isArray(bn.mipmap))for(var Kt=bn.mipmap,rn=0;rn<Kt.length;++rn)gt(Rt=$t.images[rn]=bt(),$t),Rt.width>>=rn,Rt.height>>=rn,Lt(Rt,Kt[rn]),$t.mipmask|=1<<rn;else gt(Rt=$t.images[0]=bt(),$t),Lt(Rt,bn),$t.mipmask=1;gt($t,$t.images[0])}function an($t,bn){for(var Rt=$t.images,Kt=0;Kt<Rt.length&&Rt[Kt];++Kt){var rn=Rt[Kt],xn=bn,Tn=Kt,Pn=rn.element,pn=rn.data,Qt=rn.internalformat,en=rn.format,hn=rn.type,gn=rn.width,Dn=rn.height;xt(rn),Pn?Ue.texImage2D(xn,Tn,en,en,hn,Pn):rn.compressed?Ue.compressedTexImage2D(xn,Tn,Qt,gn,Dn,0,pn):rn.needsCopy?(ot(),Ue.copyTexImage2D(xn,Tn,en,rn.xOffset,rn.yOffset,gn,Dn,0)):Ue.texImage2D(xn,Tn,en,gn,Dn,0,en,hn,pn||null)}}function Wt(){var $t=On.pop()||new Dt;$e.call($t);for(var bn=$t.mipmask=0;16>bn;++bn)$t.images[bn]=null;return $t}function Vt($t){for(var bn=$t.images,Rt=0;Rt<bn.length;++Rt)bn[Rt]&&Ct(bn[Rt]),bn[Rt]=null;On.push($t)}function on(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function Sn($t,bn){"min"in bn&&($t.minFilter=wn[bn.min],0<=Ce.indexOf($t.minFilter)&&!("faces"in bn)&&($t.genMipmaps=!0)),"mag"in bn&&($t.magFilter=An[bn.mag]);var Rt=$t.wrapS,Kt=$t.wrapT;if("wrap"in bn){var rn=bn.wrap;typeof rn=="string"?Rt=Kt=kn[rn]:Array.isArray(rn)&&(Rt=kn[rn[0]],Kt=kn[rn[1]])}else"wrapS"in bn&&(Rt=kn[bn.wrapS]),"wrapT"in bn&&(Kt=kn[bn.wrapT]);if($t.wrapS=Rt,$t.wrapT=Kt,"anisotropic"in bn&&($t.anisotropic=bn.anisotropic),"mipmap"in bn){switch(Rt=!1,typeof bn.mipmap){case"string":$t.mipmapHint=cn[bn.mipmap],Rt=$t.genMipmaps=!0;break;case"boolean":Rt=$t.genMipmaps=bn.mipmap;break;case"object":$t.genMipmaps=!1,Rt=!0}!Rt||"min"in bn||($t.minFilter=9984)}}function Ln($t,bn){Ue.texParameteri(bn,10241,$t.minFilter),Ue.texParameteri(bn,10240,$t.magFilter),Ue.texParameteri(bn,10242,$t.wrapS),Ue.texParameteri(bn,10243,$t.wrapT),Xe.ext_texture_filter_anisotropic&&Ue.texParameteri(bn,34046,$t.anisotropic),$t.genMipmaps&&(Ue.hint(33170,$t.mipmapHint),Ue.generateMipmap(bn))}function fn($t){$e.call(this),this.mipmask=0,this.internalformat=6408,this.id=Vn++,this.refCount=1,this.target=$t,this.texture=Ue.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new on,at.profile&&(this.stats={size:0})}function Zt($t){Ue.activeTexture(33984),Ue.bindTexture($t.target,$t.texture)}function ln(){var $t=tr[0];$t?Ue.bindTexture($t.target,$t.texture):Ue.bindTexture(3553,null)}function nn($t){var bn=$t.texture,Rt=$t.unit,Kt=$t.target;0<=Rt&&(Ue.activeTexture(33984+Rt),Ue.bindTexture(Kt,null),tr[Rt]=null),Ue.deleteTexture(bn),$t.texture=null,$t.params=null,$t.pixels=null,$t.refCount=0,delete Bn[$t.id],Ne.textureCount--}var cn={"don't care":4352,"dont care":4352,nice:4354,fast:4353},kn={repeat:10497,clamp:33071,mirror:33648},An={nearest:9728,linear:9729},wn=ee({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},An),Cn={none:0,browser:37444},_n={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},zn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Hn={};Xe.ext_srgb&&(zn.srgb=35904,zn.srgba=35906),Xe.oes_texture_float&&(_n.float32=_n.float=5126),Xe.oes_texture_half_float&&(_n.float16=_n["half float"]=36193),Xe.webgl_depth_texture&&(ee(zn,{depth:6402,"depth stencil":34041}),ee(_n,{uint16:5123,uint32:5125,"depth stencil":34042})),Xe.webgl_compressed_texture_s3tc&&ee(Hn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Xe.webgl_compressed_texture_atc&&ee(Hn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Xe.webgl_compressed_texture_pvrtc&&ee(Hn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Xe.webgl_compressed_texture_etc1&&(Hn["rgb etc1"]=36196);var ar=Array.prototype.slice.call(Ue.getParameter(34467));Object.keys(Hn).forEach(function($t){var bn=Hn[$t];0<=ar.indexOf(bn)&&(zn[$t]=bn)});var fr=Object.keys(zn);lt.textureFormats=fr;var rr=[];Object.keys(zn).forEach(function($t){rr[zn[$t]]=$t});var Xn=[];Object.keys(_n).forEach(function($t){Xn[_n[$t]]=$t});var gr=[];Object.keys(An).forEach(function($t){gr[An[$t]]=$t});var Gt=[];Object.keys(wn).forEach(function($t){Gt[wn[$t]]=$t});var tn=[];Object.keys(kn).forEach(function($t){tn[kn[$t]]=$t});var dn=fr.reduce(function($t,bn){var Rt=zn[bn];return Rt===6409||Rt===6406||Rt===6409||Rt===6410||Rt===6402||Rt===34041||Xe.ext_srgb&&(Rt===35904||Rt===35906)?$t[Rt]=Rt:Rt===32855||0<=bn.indexOf("rgba")?$t[Rt]=6408:$t[Rt]=6407,$t},{}),vn=[],On=[],Vn=0,Bn={},Un=lt.maxTextureUnits,tr=Array(Un).map(function(){return null});return ee(fn.prototype,{bind:function(){this.bindCount+=1;var $t=this.unit;if(0>$t){for(var bn=0;bn<Un;++bn){var Rt=tr[bn];if(Rt){if(0<Rt.bindCount)continue;Rt.unit=-1}tr[bn]=this,$t=bn;break}at.profile&&Ne.maxTextureUnits<$t+1&&(Ne.maxTextureUnits=$t+1),this.unit=$t,Ue.activeTexture(33984+$t),Ue.bindTexture(this.target,this.texture)}return $t},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&nn(this)}}),at.profile&&(Ne.getTotalTextureSize=function(){var $t=0;return Object.keys(Bn).forEach(function(bn){$t+=Bn[bn].stats.size}),$t}),{create2D:function($t,bn){function Rt(rn,xn){var Tn=Kt.texInfo;on.call(Tn);var Pn=Wt();return typeof rn=="number"?Bt(Pn,0|rn,typeof xn=="number"?0|xn:0|rn):rn?(Sn(Tn,rn),Xt(Pn,rn)):Bt(Pn,1,1),Tn.genMipmaps&&(Pn.mipmask=(Pn.width<<1)-1),Kt.mipmask=Pn.mipmask,gt(Kt,Pn),Kt.internalformat=Pn.internalformat,Rt.width=Pn.width,Rt.height=Pn.height,Zt(Kt),an(Pn,3553),Ln(Tn,3553),ln(),Vt(Pn),at.profile&&(Kt.stats.size=f(Kt.internalformat,Kt.type,Pn.width,Pn.height,Tn.genMipmaps,!1)),Rt.format=rr[Kt.internalformat],Rt.type=Xn[Kt.type],Rt.mag=gr[Tn.magFilter],Rt.min=Gt[Tn.minFilter],Rt.wrapS=tn[Tn.wrapS],Rt.wrapT=tn[Tn.wrapT],Rt}var Kt=new fn(3553);return Bn[Kt.id]=Kt,Ne.textureCount++,Rt($t,bn),Rt.subimage=function(rn,xn,Tn,Pn){xn|=0,Tn|=0,Pn|=0;var pn=bt();return gt(pn,Kt),pn.width=0,pn.height=0,Lt(pn,rn),pn.width=pn.width||(Kt.width>>Pn)-xn,pn.height=pn.height||(Kt.height>>Pn)-Tn,Zt(Kt),Tt(pn,3553,xn,Tn,Pn),ln(),Ct(pn),Rt},Rt.resize=function(rn,xn){var Tn=0|rn,Pn=0|xn||Tn;if(Tn===Kt.width&&Pn===Kt.height)return Rt;Rt.width=Kt.width=Tn,Rt.height=Kt.height=Pn,Zt(Kt);for(var pn=0;Kt.mipmask>>pn;++pn){var Qt=Tn>>pn,en=Pn>>pn;if(!Qt||!en)break;Ue.texImage2D(3553,pn,Kt.format,Qt,en,0,Kt.format,Kt.type,null)}return ln(),at.profile&&(Kt.stats.size=f(Kt.internalformat,Kt.type,Tn,Pn,!1,!1)),Rt},Rt._reglType="texture2d",Rt._texture=Kt,at.profile&&(Rt.stats=Kt.stats),Rt.destroy=function(){Kt.decRef()},Rt},createCube:function($t,bn,Rt,Kt,rn,xn){function Tn(Qt,en,hn,gn,Dn,Fn){var Wn,Yn=Pn.texInfo;for(on.call(Yn),Wn=0;6>Wn;++Wn)pn[Wn]=Wt();if(typeof Qt!="number"&&Qt){if(typeof Qt=="object")if(en)Xt(pn[0],Qt),Xt(pn[1],en),Xt(pn[2],hn),Xt(pn[3],gn),Xt(pn[4],Dn),Xt(pn[5],Fn);else if(Sn(Yn,Qt),yt(Pn,Qt),"faces"in Qt)for(Qt=Qt.faces,Wn=0;6>Wn;++Wn)gt(pn[Wn],Pn),Xt(pn[Wn],Qt[Wn]);else for(Wn=0;6>Wn;++Wn)Xt(pn[Wn],Qt)}else for(Qt=0|Qt||1,Wn=0;6>Wn;++Wn)Bt(pn[Wn],Qt,Qt);for(gt(Pn,pn[0]),Pn.mipmask=Yn.genMipmaps?(pn[0].width<<1)-1:pn[0].mipmask,Pn.internalformat=pn[0].internalformat,Tn.width=pn[0].width,Tn.height=pn[0].height,Zt(Pn),Wn=0;6>Wn;++Wn)an(pn[Wn],34069+Wn);for(Ln(Yn,34067),ln(),at.profile&&(Pn.stats.size=f(Pn.internalformat,Pn.type,Tn.width,Tn.height,Yn.genMipmaps,!0)),Tn.format=rr[Pn.internalformat],Tn.type=Xn[Pn.type],Tn.mag=gr[Yn.magFilter],Tn.min=Gt[Yn.minFilter],Tn.wrapS=tn[Yn.wrapS],Tn.wrapT=tn[Yn.wrapT],Wn=0;6>Wn;++Wn)Vt(pn[Wn]);return Tn}var Pn=new fn(34067);Bn[Pn.id]=Pn,Ne.cubeCount++;var pn=Array(6);return Tn($t,bn,Rt,Kt,rn,xn),Tn.subimage=function(Qt,en,hn,gn,Dn){hn|=0,gn|=0,Dn|=0;var Fn=bt();return gt(Fn,Pn),Fn.width=0,Fn.height=0,Lt(Fn,en),Fn.width=Fn.width||(Pn.width>>Dn)-hn,Fn.height=Fn.height||(Pn.height>>Dn)-gn,Zt(Pn),Tt(Fn,34069+Qt,hn,gn,Dn),ln(),Ct(Fn),Tn},Tn.resize=function(Qt){if((Qt|=0)!==Pn.width){Tn.width=Pn.width=Qt,Tn.height=Pn.height=Qt,Zt(Pn);for(var en=0;6>en;++en)for(var hn=0;Pn.mipmask>>hn;++hn)Ue.texImage2D(34069+en,hn,Pn.format,Qt>>hn,Qt>>hn,0,Pn.format,Pn.type,null);return ln(),at.profile&&(Pn.stats.size=f(Pn.internalformat,Pn.type,Tn.width,Tn.height,!1,!0)),Tn}},Tn._reglType="textureCube",Tn._texture=Pn,at.profile&&(Tn.stats=Pn.stats),Tn.destroy=function(){Pn.decRef()},Tn},clear:function(){for(var $t=0;$t<Un;++$t)Ue.activeTexture(33984+$t),Ue.bindTexture(3553,null),tr[$t]=null;be(Bn).forEach(nn),Ne.cubeCount=0,Ne.textureCount=0},getTexture:function($t){return null},restore:function(){for(var $t=0;$t<Un;++$t){var bn=tr[$t];bn&&(bn.bindCount=0,bn.unit=-1,tr[$t]=null)}be(Bn).forEach(function(Rt){Rt.texture=Ue.createTexture(),Ue.bindTexture(Rt.target,Rt.texture);for(var Kt=0;32>Kt;++Kt)if(Rt.mipmask&1<<Kt)if(Rt.target===3553)Ue.texImage2D(3553,Kt,Rt.internalformat,Rt.width>>Kt,Rt.height>>Kt,0,Rt.internalformat,Rt.type,null);else for(var rn=0;6>rn;++rn)Ue.texImage2D(34069+rn,Kt,Rt.internalformat,Rt.width>>Kt,Rt.height>>Kt,0,Rt.internalformat,Rt.type,null);Ln(Rt.texInfo,Rt.target)})},refresh:function(){for(var $t=0;$t<Un;++$t){var bn=tr[$t];bn&&(bn.bindCount=0,bn.unit=-1,tr[$t]=null),Ue.activeTexture(33984+$t),Ue.bindTexture(3553,null),Ue.bindTexture(34067,null)}}}}function T(Ue,Xe,lt,ot,Be,Ne){function at(fn,Zt,ln){this.target=fn,this.texture=Zt,this.renderbuffer=ln;var nn=fn=0;Zt?(fn=Zt.width,nn=Zt.height):ln&&(fn=ln.width,nn=ln.height),this.width=fn,this.height=nn}function $e(fn){fn&&(fn.texture&&fn.texture._texture.decRef(),fn.renderbuffer&&fn.renderbuffer._renderbuffer.decRef())}function gt(fn,Zt,ln){fn&&(fn.texture?fn.texture._texture.refCount+=1:fn.renderbuffer._renderbuffer.refCount+=1)}function yt(fn,Zt){Zt&&(Zt.texture?Ue.framebufferTexture2D(36160,fn,Zt.target,Zt.texture._texture.texture,0):Ue.framebufferRenderbuffer(36160,fn,36161,Zt.renderbuffer._renderbuffer.renderbuffer))}function xt(fn){var Zt=3553,ln=null,nn=null,cn=fn;return typeof fn=="object"&&(cn=fn.data,"target"in fn&&(Zt=0|fn.target)),(fn=cn._reglType)==="texture2d"||fn==="textureCube"?ln=cn:fn==="renderbuffer"&&(nn=cn,Zt=36161),new at(Zt,ln,nn)}function dt(fn,Zt,ln,nn,cn){return ln?((fn=ot.create2D({width:fn,height:Zt,format:nn,type:cn}))._texture.refCount=0,new at(3553,fn,null)):((fn=Be.create({width:fn,height:Zt,format:nn}))._renderbuffer.refCount=0,new at(36161,null,fn))}function Lt(fn){return fn&&(fn.texture||fn.renderbuffer)}function Tt(fn,Zt,ln){fn&&(fn.texture?fn.texture.resize(Zt,ln):fn.renderbuffer&&fn.renderbuffer.resize(Zt,ln),fn.width=Zt,fn.height=ln)}function bt(){this.id=Sn++,Ln[this.id]=this,this.framebuffer=Ue.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function Ct(fn){fn.colorAttachments.forEach($e),$e(fn.depthAttachment),$e(fn.stencilAttachment),$e(fn.depthStencilAttachment)}function Dt(fn){Ue.deleteFramebuffer(fn.framebuffer),fn.framebuffer=null,Ne.framebufferCount--,delete Ln[fn.id]}function Bt(fn){var Zt;Ue.bindFramebuffer(36160,fn.framebuffer);var ln=fn.colorAttachments;for(Zt=0;Zt<ln.length;++Zt)yt(36064+Zt,ln[Zt]);for(Zt=ln.length;Zt<lt.maxColorAttachments;++Zt)Ue.framebufferTexture2D(36160,36064+Zt,3553,null,0);Ue.framebufferTexture2D(36160,33306,3553,null,0),Ue.framebufferTexture2D(36160,36096,3553,null,0),Ue.framebufferTexture2D(36160,36128,3553,null,0),yt(36096,fn.depthAttachment),yt(36128,fn.stencilAttachment),yt(33306,fn.depthStencilAttachment),Ue.checkFramebufferStatus(36160),Ue.isContextLost(),Ue.bindFramebuffer(36160,an.next?an.next.framebuffer:null),an.cur=an.next,Ue.getError()}function Xt(fn,Zt){function ln(cn,kn){var An,wn=0,Cn=0,_n=!0,zn=!0;An=null;var Hn=!0,ar="rgba",fr="uint8",rr=1,Xn=null,gr=null,Gt=null,tn=!1;typeof cn=="number"?(wn=0|cn,Cn=0|kn||wn):cn?("shape"in cn?(wn=(Cn=cn.shape)[0],Cn=Cn[1]):("radius"in cn&&(wn=Cn=cn.radius),"width"in cn&&(wn=cn.width),"height"in cn&&(Cn=cn.height)),("color"in cn||"colors"in cn)&&(An=cn.color||cn.colors,Array.isArray(An)),An||("colorCount"in cn&&(rr=0|cn.colorCount),"colorTexture"in cn&&(Hn=!!cn.colorTexture,ar="rgba4"),"colorType"in cn&&(fr=cn.colorType,!Hn)&&(fr==="half float"||fr==="float16"?ar="rgba16f":fr!=="float"&&fr!=="float32"||(ar="rgba32f")),"colorFormat"in cn&&(ar=cn.colorFormat,0<=Wt.indexOf(ar)?Hn=!0:0<=Vt.indexOf(ar)&&(Hn=!1))),("depthTexture"in cn||"depthStencilTexture"in cn)&&(tn=!(!cn.depthTexture&&!cn.depthStencilTexture)),"depth"in cn&&(typeof cn.depth=="boolean"?_n=cn.depth:(Xn=cn.depth,zn=!1)),"stencil"in cn&&(typeof cn.stencil=="boolean"?zn=cn.stencil:(gr=cn.stencil,_n=!1)),"depthStencil"in cn&&(typeof cn.depthStencil=="boolean"?_n=zn=cn.depthStencil:(Gt=cn.depthStencil,zn=_n=!1))):wn=Cn=1;var dn=null,vn=null,On=null,Vn=null;if(Array.isArray(An))dn=An.map(xt);else if(An)dn=[xt(An)];else for(dn=Array(rr),An=0;An<rr;++An)dn[An]=dt(wn,Cn,Hn,ar,fr);for(wn=wn||dn[0].width,Cn=Cn||dn[0].height,Xn?vn=xt(Xn):_n&&!zn&&(vn=dt(wn,Cn,tn,"depth","uint32")),gr?On=xt(gr):zn&&!_n&&(On=dt(wn,Cn,!1,"stencil","uint8")),Gt?Vn=xt(Gt):!Xn&&!gr&&zn&&_n&&(Vn=dt(wn,Cn,tn,"depth stencil","depth stencil")),_n=null,An=0;An<dn.length;++An)gt(dn[An]),dn[An]&&dn[An].texture&&(zn=Mt[dn[An].texture._texture.format]*_t[dn[An].texture._texture.type],_n===null&&(_n=zn));return gt(vn),gt(On),gt(Vn),Ct(nn),nn.width=wn,nn.height=Cn,nn.colorAttachments=dn,nn.depthAttachment=vn,nn.stencilAttachment=On,nn.depthStencilAttachment=Vn,ln.color=dn.map(Lt),ln.depth=Lt(vn),ln.stencil=Lt(On),ln.depthStencil=Lt(Vn),ln.width=nn.width,ln.height=nn.height,Bt(nn),ln}var nn=new bt;return Ne.framebufferCount++,ln(fn,Zt),ee(ln,{resize:function(cn,kn){var An=Math.max(0|cn,1),wn=Math.max(0|kn||An,1);if(An===nn.width&&wn===nn.height)return ln;for(var Cn=nn.colorAttachments,_n=0;_n<Cn.length;++_n)Tt(Cn[_n],An,wn);return Tt(nn.depthAttachment,An,wn),Tt(nn.stencilAttachment,An,wn),Tt(nn.depthStencilAttachment,An,wn),nn.width=ln.width=An,nn.height=ln.height=wn,Bt(nn),ln},_reglType:"framebuffer",_framebuffer:nn,destroy:function(){Dt(nn),Ct(nn)},use:function(cn){an.setFBO({framebuffer:ln},cn)}})}var an={cur:null,next:null,dirty:!1,setFBO:null},Wt=["rgba"],Vt=["rgba4","rgb565","rgb5 a1"];Xe.ext_srgb&&Vt.push("srgba"),Xe.ext_color_buffer_half_float&&Vt.push("rgba16f","rgb16f"),Xe.webgl_color_buffer_float&&Vt.push("rgba32f");var on=["uint8"];Xe.oes_texture_half_float&&on.push("half float","float16"),Xe.oes_texture_float&&on.push("float","float32");var Sn=0,Ln={};return ee(an,{getFramebuffer:function(fn){return typeof fn=="function"&&fn._reglType==="framebuffer"&&(fn=fn._framebuffer)instanceof bt?fn:null},create:Xt,createCube:function(fn){function Zt(nn){var cn,kn={color:null},An=0,wn=null;cn="rgba";var Cn="uint8",_n=1;if(typeof nn=="number"?An=0|nn:nn?("shape"in nn?An=nn.shape[0]:("radius"in nn&&(An=0|nn.radius),"width"in nn?An=0|nn.width:"height"in nn&&(An=0|nn.height)),("color"in nn||"colors"in nn)&&(wn=nn.color||nn.colors,Array.isArray(wn)),wn||("colorCount"in nn&&(_n=0|nn.colorCount),"colorType"in nn&&(Cn=nn.colorType),"colorFormat"in nn&&(cn=nn.colorFormat)),"depth"in nn&&(kn.depth=nn.depth),"stencil"in nn&&(kn.stencil=nn.stencil),"depthStencil"in nn&&(kn.depthStencil=nn.depthStencil)):An=1,wn)if(Array.isArray(wn))for(nn=[],cn=0;cn<wn.length;++cn)nn[cn]=wn[cn];else nn=[wn];else for(nn=Array(_n),wn={radius:An,format:cn,type:Cn},cn=0;cn<_n;++cn)nn[cn]=ot.createCube(wn);for(kn.color=Array(nn.length),cn=0;cn<nn.length;++cn)_n=nn[cn],An=An||_n.width,kn.color[cn]={target:34069,data:nn[cn]};for(cn=0;6>cn;++cn){for(_n=0;_n<nn.length;++_n)kn.color[_n].target=34069+cn;0<cn&&(kn.depth=ln[0].depth,kn.stencil=ln[0].stencil,kn.depthStencil=ln[0].depthStencil),ln[cn]?ln[cn](kn):ln[cn]=Xt(kn)}return ee(Zt,{width:An,height:An,color:nn})}var ln=Array(6);return Zt(fn),ee(Zt,{faces:ln,resize:function(nn){var cn=0|nn;if(cn===Zt.width)return Zt;var kn=Zt.color;for(nn=0;nn<kn.length;++nn)kn[nn].resize(cn);for(nn=0;6>nn;++nn)ln[nn].resize(cn);return Zt.width=Zt.height=cn,Zt},_reglType:"framebufferCube",destroy:function(){ln.forEach(function(nn){nn.destroy()})}})},clear:function(){be(Ln).forEach(Dt)},restore:function(){an.cur=null,an.next=null,an.dirty=!0,be(Ln).forEach(function(fn){fn.framebuffer=Ue.createFramebuffer(),Bt(fn)})}})}function E(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function O(Ue,Xe,lt,ot,Be,Ne,at){function $e(){this.id=++xt,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Tt=Xe.oes_vertex_array_object;this.vao=Tt?Tt.createVertexArrayOES():null,dt[this.id]=this,this.buffers=[]}var gt=lt.maxAttributes,yt=Array(gt);for(lt=0;lt<gt;++lt)yt[lt]=new E;var xt=0,dt={},Lt={Record:E,scope:{},state:yt,currentVAO:null,targetVAO:null,restore:Xe.oes_vertex_array_object?function(){Xe.oes_vertex_array_object&&be(dt).forEach(function(Tt){Tt.refresh()})}:function(){},createVAO:function(Tt){function bt(Dt){var Bt;Array.isArray(Dt)?(Bt=Dt,Ct.elements&&Ct.ownsElements&&Ct.elements.destroy(),Ct.elements=null,Ct.ownsElements=!1,Ct.offset=0,Ct.count=0,Ct.instances=-1,Ct.primitive=4):(Dt.elements?(Bt=Dt.elements,Ct.ownsElements?(typeof Bt=="function"&&Bt._reglType==="elements"?Ct.elements.destroy():Ct.elements(Bt),Ct.ownsElements=!1):Ne.getElements(Dt.elements)?(Ct.elements=Dt.elements,Ct.ownsElements=!1):(Ct.elements=Ne.create(Dt.elements),Ct.ownsElements=!0)):(Ct.elements=null,Ct.ownsElements=!1),Bt=Dt.attributes,Ct.offset=0,Ct.count=-1,Ct.instances=-1,Ct.primitive=4,Ct.elements&&(Ct.count=Ct.elements._elements.vertCount,Ct.primitive=Ct.elements._elements.primType),"offset"in Dt&&(Ct.offset=0|Dt.offset),"count"in Dt&&(Ct.count=0|Dt.count),"instances"in Dt&&(Ct.instances=0|Dt.instances),"primitive"in Dt&&(Ct.primitive=Se[Dt.primitive])),Dt={};var Xt=Ct.attributes;Xt.length=Bt.length;for(var an=0;an<Bt.length;++an){var Wt,Vt=Bt[an],on=Xt[an]=new E,Sn=Vt.data||Vt;Array.isArray(Sn)||ye(Sn)||t(Sn)?(Ct.buffers[an]&&(Wt=Ct.buffers[an],ye(Sn)&&Wt._buffer.byteLength>=Sn.byteLength?Wt.subdata(Sn):(Wt.destroy(),Ct.buffers[an]=null)),Ct.buffers[an]||(Wt=Ct.buffers[an]=Be.create(Vt,34962,!1,!0)),on.buffer=Be.getBuffer(Wt),on.size=0|on.buffer.dimension,on.normalized=!1,on.type=on.buffer.dtype,on.offset=0,on.stride=0,on.divisor=0,on.state=1,Dt[an]=1):Be.getBuffer(Vt)?(on.buffer=Be.getBuffer(Vt),on.size=0|on.buffer.dimension,on.normalized=!1,on.type=on.buffer.dtype,on.offset=0,on.stride=0,on.divisor=0,on.state=1):Be.getBuffer(Vt.buffer)?(on.buffer=Be.getBuffer(Vt.buffer),on.size=0|(+Vt.size||on.buffer.dimension),on.normalized=!!Vt.normalized||!1,on.type="type"in Vt?Te[Vt.type]:on.buffer.dtype,on.offset=0|(Vt.offset||0),on.stride=0|(Vt.stride||0),on.divisor=0|(Vt.divisor||0),on.state=1):"x"in Vt&&(on.x=+Vt.x||0,on.y=+Vt.y||0,on.z=+Vt.z||0,on.w=+Vt.w||0,on.state=2)}for(Wt=0;Wt<Ct.buffers.length;++Wt)!Dt[Wt]&&Ct.buffers[Wt]&&(Ct.buffers[Wt].destroy(),Ct.buffers[Wt]=null);return Ct.refresh(),bt}var Ct=new $e;return ot.vaoCount+=1,bt.destroy=function(){for(var Dt=0;Dt<Ct.buffers.length;++Dt)Ct.buffers[Dt]&&Ct.buffers[Dt].destroy();Ct.buffers.length=0,Ct.ownsElements&&(Ct.elements.destroy(),Ct.elements=null,Ct.ownsElements=!1),Ct.destroy()},bt._vao=Ct,bt._reglType="vao",bt(Tt)},getVAO:function(Tt){return typeof Tt=="function"&&Tt._vao?Tt._vao:null},destroyBuffer:function(Tt){for(var bt=0;bt<yt.length;++bt){var Ct=yt[bt];Ct.buffer===Tt&&(Ue.disableVertexAttribArray(bt),Ct.buffer=null)}},setVAO:Xe.oes_vertex_array_object?function(Tt){if(Tt!==Lt.currentVAO){var bt=Xe.oes_vertex_array_object;Tt?bt.bindVertexArrayOES(Tt.vao):bt.bindVertexArrayOES(null),Lt.currentVAO=Tt}}:function(Tt){if(Tt!==Lt.currentVAO){if(Tt)Tt.bindAttrs();else{for(var bt=Xe.angle_instanced_arrays,Ct=0;Ct<yt.length;++Ct){var Dt=yt[Ct];Dt.buffer?(Ue.enableVertexAttribArray(Ct),Dt.buffer.bind(),Ue.vertexAttribPointer(Ct,Dt.size,Dt.type,Dt.normalized,Dt.stride,Dt.offfset),bt&&Dt.divisor&&bt.vertexAttribDivisorANGLE(Ct,Dt.divisor)):(Ue.disableVertexAttribArray(Ct),Ue.vertexAttrib4f(Ct,Dt.x,Dt.y,Dt.z,Dt.w))}at.elements?Ue.bindBuffer(34963,at.elements.buffer.buffer):Ue.bindBuffer(34963,null)}Lt.currentVAO=Tt}},clear:Xe.oes_vertex_array_object?function(){be(dt).forEach(function(Tt){Tt.destroy()})}:function(){}};return $e.prototype.bindAttrs=function(){for(var Tt=Xe.angle_instanced_arrays,bt=this.attributes,Ct=0;Ct<bt.length;++Ct){var Dt=bt[Ct];Dt.buffer?(Ue.enableVertexAttribArray(Ct),Ue.bindBuffer(34962,Dt.buffer.buffer),Ue.vertexAttribPointer(Ct,Dt.size,Dt.type,Dt.normalized,Dt.stride,Dt.offset),Tt&&Dt.divisor&&Tt.vertexAttribDivisorANGLE(Ct,Dt.divisor)):(Ue.disableVertexAttribArray(Ct),Ue.vertexAttrib4f(Ct,Dt.x,Dt.y,Dt.z,Dt.w))}for(Tt=bt.length;Tt<gt;++Tt)Ue.disableVertexAttribArray(Tt);(Tt=Ne.getElements(this.elements))?Ue.bindBuffer(34963,Tt.buffer.buffer):Ue.bindBuffer(34963,null)},$e.prototype.refresh=function(){var Tt=Xe.oes_vertex_array_object;Tt&&(Tt.bindVertexArrayOES(this.vao),this.bindAttrs(),Lt.currentVAO=null,Tt.bindVertexArrayOES(null))},$e.prototype.destroy=function(){if(this.vao){var Tt=Xe.oes_vertex_array_object;this===Lt.currentVAO&&(Lt.currentVAO=null,Tt.bindVertexArrayOES(null)),Tt.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),dt[this.id]&&(delete dt[this.id],--ot.vaoCount)},Lt}function P(Ue,Xe,lt,ot){function Be(bt,Ct,Dt,Bt){this.name=bt,this.id=Ct,this.location=Dt,this.info=Bt}function Ne(bt,Ct){for(var Dt=0;Dt<bt.length;++Dt)if(bt[Dt].id===Ct.id)return void(bt[Dt].location=Ct.location);bt.push(Ct)}function at(bt,Ct,Dt){if(!(Xt=(Dt=bt===35632?yt:xt)[Ct])){var Bt=Xe.str(Ct),Xt=Ue.createShader(bt);Ue.shaderSource(Xt,Bt),Ue.compileShader(Xt),Dt[Ct]=Xt}return Xt}function $e(bt,Ct){this.id=Tt++,this.fragId=bt,this.vertId=Ct,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,ot.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function gt(bt,Ct,Dt){var Bt;Bt=at(35632,bt.fragId);var Xt=at(35633,bt.vertId);if(Ct=bt.program=Ue.createProgram(),Ue.attachShader(Ct,Bt),Ue.attachShader(Ct,Xt),Dt)for(Bt=0;Bt<Dt.length;++Bt)Xt=Dt[Bt],Ue.bindAttribLocation(Ct,Xt[0],Xt[1]);Ue.linkProgram(Ct),Xt=Ue.getProgramParameter(Ct,35718),ot.profile&&(bt.stats.uniformsCount=Xt);var an=bt.uniforms;for(Bt=0;Bt<Xt;++Bt)if(Dt=Ue.getActiveUniform(Ct,Bt))if(1<Dt.size)for(var Wt=0;Wt<Dt.size;++Wt){var Vt=Dt.name.replace("[0]","["+Wt+"]");Ne(an,new Be(Vt,Xe.id(Vt),Ue.getUniformLocation(Ct,Vt),Dt))}else Ne(an,new Be(Dt.name,Xe.id(Dt.name),Ue.getUniformLocation(Ct,Dt.name),Dt));for(Xt=Ue.getProgramParameter(Ct,35721),ot.profile&&(bt.stats.attributesCount=Xt),bt=bt.attributes,Bt=0;Bt<Xt;++Bt)(Dt=Ue.getActiveAttrib(Ct,Bt))&&Ne(bt,new Be(Dt.name,Xe.id(Dt.name),Ue.getAttribLocation(Ct,Dt.name),Dt))}var yt={},xt={},dt={},Lt=[],Tt=0;return ot.profile&&(lt.getMaxUniformsCount=function(){var bt=0;return Lt.forEach(function(Ct){Ct.stats.uniformsCount>bt&&(bt=Ct.stats.uniformsCount)}),bt},lt.getMaxAttributesCount=function(){var bt=0;return Lt.forEach(function(Ct){Ct.stats.attributesCount>bt&&(bt=Ct.stats.attributesCount)}),bt}),{clear:function(){var bt=Ue.deleteShader.bind(Ue);be(yt).forEach(bt),yt={},be(xt).forEach(bt),xt={},Lt.forEach(function(Ct){Ue.deleteProgram(Ct.program)}),Lt.length=0,dt={},lt.shaderCount=0},program:function(bt,Ct,Dt,Bt){var Xt=dt[Ct];Xt||(Xt=dt[Ct]={});var an=Xt[bt];if(an&&(an.refCount++,!Bt))return an;var Wt=new $e(Ct,bt);return lt.shaderCount++,gt(Wt,Dt,Bt),an||(Xt[bt]=Wt),Lt.push(Wt),ee(Wt,{destroy:function(){if(Wt.refCount--,0>=Wt.refCount){Ue.deleteProgram(Wt.program);var Vt=Lt.indexOf(Wt);Lt.splice(Vt,1),lt.shaderCount--}0>=Xt[Wt.vertId].refCount&&(Ue.deleteShader(xt[Wt.vertId]),delete xt[Wt.vertId],delete dt[Wt.fragId][Wt.vertId]),Object.keys(dt[Wt.fragId]).length||(Ue.deleteShader(yt[Wt.fragId]),delete yt[Wt.fragId],delete dt[Wt.fragId])}})},restore:function(){yt={},xt={};for(var bt=0;bt<Lt.length;++bt)gt(Lt[bt],null,Lt[bt].attributes.map(function(Ct){return[Ct.location,Ct.name]}))},shader:at,frag:-1,vert:-1}}function I(Ue,Xe,lt,ot,Be,Ne,at){function $e(gt){var yt;yt=Xe.next===null?5121:Xe.next.colorAttachments[0].texture._texture.type;var xt=0,dt=0,Lt=ot.framebufferWidth,Tt=ot.framebufferHeight,bt=null;return ye(gt)?bt=gt:gt&&(xt=0|gt.x,dt=0|gt.y,Lt=0|(gt.width||ot.framebufferWidth-xt),Tt=0|(gt.height||ot.framebufferHeight-dt),bt=gt.data||null),lt(),gt=Lt*Tt*4,bt||(yt===5121?bt=new Uint8Array(gt):yt===5126&&(bt=bt||new Float32Array(gt))),Ue.pixelStorei(3333,4),Ue.readPixels(xt,dt,Lt,Tt,6408,yt,bt),bt}return function(gt){return gt&&"framebuffer"in gt?function(yt){var xt;return Xe.setFBO({framebuffer:yt.framebuffer},function(){xt=$e(yt)}),xt}(gt):$e(gt)}}function z(Ue,Xe){return Ue>>>Xe|Ue<<32-Xe}function j(Ue,Xe){var lt=(65535&Ue)+(65535&Xe);return(Ue>>16)+(Xe>>16)+(lt>>16)<<16|65535&lt}function R(Ue){return Array.prototype.slice.call(Ue)}function N(Ue){return R(Ue).join("")}function Z(Ue){function Xe(){var xt=[],dt=[];return ee(function(){xt.push.apply(xt,R(arguments))},{def:function(){var Lt="v"+Be++;return dt.push(Lt),0<arguments.length&&(xt.push(Lt,"="),xt.push.apply(xt,R(arguments)),xt.push(";")),Lt},toString:function(){return N([0<dt.length?"var "+dt.join(",")+";":"",N(xt)])}})}function lt(){function xt(Ct,Dt){Lt(Ct,Dt,"=",dt.def(Ct,Dt),";")}var dt=Xe(),Lt=Xe(),Tt=dt.toString,bt=Lt.toString;return ee(function(){dt.apply(dt,R(arguments))},{def:dt.def,entry:dt,exit:Lt,save:xt,set:function(Ct,Dt,Bt){xt(Ct,Dt),dt(Ct,Dt,"=",Bt,";")},toString:function(){return Tt()+bt()}})}var ot=Ue&&Ue.cache,Be=0,Ne=[],at=[],$e=[],gt=Xe(),yt={};return{global:gt,link:function(xt,dt){var Lt=dt&&dt.stable;if(!Lt){for(var Tt=0;Tt<at.length;++Tt)if(at[Tt]===xt&&!$e[Tt])return Ne[Tt]}return Tt="g"+Be++,Ne.push(Tt),at.push(xt),$e.push(Lt),Tt},block:Xe,proc:function(xt,dt){function Lt(){var Dt="a"+Tt.length;return Tt.push(Dt),Dt}var Tt=[];dt=dt||0;for(var bt=0;bt<dt;++bt)Lt();var Ct=(bt=lt()).toString;return yt[xt]=ee(bt,{arg:Lt,toString:function(){return N(["function(",Tt.join(),"){",Ct(),"}"])}})},scope:lt,cond:function(){var xt=N(arguments),dt=lt(),Lt=lt(),Tt=dt.toString,bt=Lt.toString;return ee(dt,{then:function(){return dt.apply(dt,R(arguments)),this},else:function(){return Lt.apply(Lt,R(arguments)),this},toString:function(){var Ct=bt();return Ct&&(Ct="else{"+Ct+"}"),N(["if(",xt,"){",Tt(),"}",Ct])}})},compile:function(){var xt=['"use strict";',gt,"return {"];Object.keys(yt).forEach(function(Tt){xt.push('"',Tt,'":',yt[Tt].toString(),",")}),xt.push("}");var dt,Lt=N(xt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`);return ot&&(dt=function(Tt){for(var bt,Ct="",Dt=0;Dt<Tt.length;Dt++)bt=Tt.charCodeAt(Dt),Ct+="0123456789abcdef".charAt(bt>>>4&15)+"0123456789abcdef".charAt(15&bt);return Ct}(function(Tt){for(var bt=Array(Tt.length>>2),Ct=0;Ct<bt.length;Ct++)bt[Ct]=0;for(Ct=0;Ct<8*Tt.length;Ct+=8)bt[Ct>>5]|=(255&Tt.charCodeAt(Ct/8))<<24-Ct%32;var Dt,Bt,Xt,an,Wt,Vt,on,Sn,Ln,fn,Zt,ln=8*Tt.length;for(Tt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Ct=Array(64),bt[ln>>5]|=128<<24-ln%32,bt[15+(ln+64>>9<<4)]=ln,Sn=0;Sn<bt.length;Sn+=16){for(ln=Tt[0],Dt=Tt[1],Bt=Tt[2],Xt=Tt[3],an=Tt[4],Wt=Tt[5],Vt=Tt[6],on=Tt[7],Ln=0;64>Ln;Ln++){var nn;16>Ln?Ct[Ln]=bt[Ln+Sn]:(fn=Ln,Zt=j(Zt=z(Zt=Ct[Ln-2],17)^z(Zt,19)^Zt>>>10,Ct[Ln-7]),nn=z(nn=Ct[Ln-15],7)^z(nn,18)^nn>>>3,Ct[fn]=j(j(Zt,nn),Ct[Ln-16])),fn=j(j(j(j(on,fn=z(fn=an,6)^z(fn,11)^z(fn,25)),an&Wt^~an&Vt),it[Ln]),Ct[Ln]),Zt=j(on=z(on=ln,2)^z(on,13)^z(on,22),ln&Dt^ln&Bt^Dt&Bt),on=Vt,Vt=Wt,Wt=an,an=j(Xt,fn),Xt=Bt,Bt=Dt,Dt=ln,ln=j(fn,Zt)}Tt[0]=j(ln,Tt[0]),Tt[1]=j(Dt,Tt[1]),Tt[2]=j(Bt,Tt[2]),Tt[3]=j(Xt,Tt[3]),Tt[4]=j(an,Tt[4]),Tt[5]=j(Wt,Tt[5]),Tt[6]=j(Vt,Tt[6]),Tt[7]=j(on,Tt[7])}for(bt="",Ct=0;Ct<32*Tt.length;Ct+=8)bt+=String.fromCharCode(Tt[Ct>>5]>>>24-Ct%32&255);return bt}(function(Tt){for(var bt,Ct,Dt="",Bt=-1;++Bt<Tt.length;)bt=Tt.charCodeAt(Bt),Ct=Bt+1<Tt.length?Tt.charCodeAt(Bt+1):0,55296<=bt&&56319>=bt&&56320<=Ct&&57343>=Ct&&(bt=65536+((1023&bt)<<10)+(1023&Ct),Bt++),127>=bt?Dt+=String.fromCharCode(bt):2047>=bt?Dt+=String.fromCharCode(192|bt>>>6&31,128|63&bt):65535>=bt?Dt+=String.fromCharCode(224|bt>>>12&15,128|bt>>>6&63,128|63&bt):2097151>=bt&&(Dt+=String.fromCharCode(240|bt>>>18&7,128|bt>>>12&63,128|bt>>>6&63,128|63&bt));return Dt}(Lt))),ot[dt])?ot[dt].apply(null,at):(Lt=Function.apply(null,Ne.concat(Lt)),ot&&(ot[dt]=Lt),Lt.apply(null,at))}}}function F(Ue){return Array.isArray(Ue)||ye(Ue)||t(Ue)}function U(Ue){return Ue.sort(function(Xe,lt){return Xe==="viewport"?-1:lt==="viewport"?1:Xe<lt?-1:1})}function V(Ue,Xe,lt,ot){this.thisDep=Ue,this.contextDep=Xe,this.propDep=lt,this.append=ot}function te(Ue){return Ue&&!(Ue.thisDep||Ue.contextDep||Ue.propDep)}function Q(Ue){return new V(!1,!1,!1,Ue)}function J(Ue,Xe){var lt=Ue.type;if(lt===0)return new V(!0,1<=(lt=Ue.data.length),2<=lt,Xe);if(lt===4)return new V((lt=Ue.data).thisDep,lt.contextDep,lt.propDep,Xe);if(lt===5)return new V(!1,!1,!1,Xe);if(lt===6){for(var ot=lt=!1,Be=!1,Ne=0;Ne<Ue.data.length;++Ne){var at=Ue.data[Ne];at.type===1?Be=!0:at.type===2?ot=!0:at.type===3?lt=!0:at.type===0?(lt=!0,1<=(at=at.data)&&(ot=!0),2<=at&&(Be=!0)):at.type===4&&(lt=lt||at.data.thisDep,ot=ot||at.data.contextDep,Be=Be||at.data.propDep)}return new V(lt,ot,Be,Xe)}return new V(lt===3,lt===2,lt===1,Xe)}function X(Ue,Xe,lt,ot,Be,Ne,at,$e,gt,yt,xt,dt,Lt,Tt,bt,Ct){function Dt(Rt){return Rt.replace(".","_")}function Bt(Rt,Kt,rn){var xn=Dt(Rt);Vn.push(Rt),On[xn]=vn[xn]=!!rn,Bn[xn]=Kt}function Xt(Rt,Kt,rn){var xn=Dt(Rt);Vn.push(Rt),Array.isArray(rn)?(vn[xn]=rn.slice(),On[xn]=rn.slice()):vn[xn]=On[xn]=rn,Un[xn]=Kt}function an(){var Rt=Z({cache:bt}),Kt=Rt.link,rn=Rt.global;Rt.id=bn++,Rt.batchId="0";var xn=Kt(tr),Tn=Rt.shared={props:"a0"};Object.keys(tr).forEach(function(hn){Tn[hn]=rn.def(xn,".",hn)});var Pn=Rt.next={},pn=Rt.current={};Object.keys(Un).forEach(function(hn){Array.isArray(vn[hn])&&(Pn[hn]=rn.def(Tn.next,".",hn),pn[hn]=rn.def(Tn.current,".",hn))});var Qt=Rt.constants={};Object.keys($t).forEach(function(hn){Qt[hn]=rn.def(JSON.stringify($t[hn]))}),Rt.invoke=function(hn,gn){switch(gn.type){case 0:var Dn=["this",Tn.context,Tn.props,Rt.batchId];return hn.def(Kt(gn.data),".call(",Dn.slice(0,Math.max(gn.data.length+1,4)),")");case 1:return hn.def(Tn.props,gn.data);case 2:return hn.def(Tn.context,gn.data);case 3:return hn.def("this",gn.data);case 4:return gn.data.append(Rt,hn),gn.data.ref;case 5:return gn.data.toString();case 6:return gn.data.map(function(Fn){return Rt.invoke(hn,Fn)})}},Rt.attribCache={};var en={};return Rt.scopeAttrib=function(hn){if((hn=Xe.id(hn))in en)return en[hn];var gn=yt.scope[hn];return gn||(gn=yt.scope[hn]=new Xn),en[hn]=Kt(gn)},Rt}function Wt(Rt,Kt){var rn=Rt.static,xn=Rt.dynamic;if("framebuffer"in rn){var Tn=rn.framebuffer;return Tn?(Tn=$e.getFramebuffer(Tn),Q(function(pn,Qt){var en=pn.link(Tn),hn=pn.shared;return Qt.set(hn.framebuffer,".next",en),hn=hn.context,Qt.set(hn,".framebufferWidth",en+".width"),Qt.set(hn,".framebufferHeight",en+".height"),en})):Q(function(pn,Qt){var en=pn.shared;return Qt.set(en.framebuffer,".next","null"),en=en.context,Qt.set(en,".framebufferWidth",en+".drawingBufferWidth"),Qt.set(en,".framebufferHeight",en+".drawingBufferHeight"),"null"})}if("framebuffer"in xn){var Pn=xn.framebuffer;return J(Pn,function(pn,Qt){var en=pn.invoke(Qt,Pn),hn=pn.shared,gn=hn.framebuffer;return en=Qt.def(gn,".getFramebuffer(",en,")"),Qt.set(gn,".next",en),hn=hn.context,Qt.set(hn,".framebufferWidth",en+"?"+en+".width:"+hn+".drawingBufferWidth"),Qt.set(hn,".framebufferHeight",en+"?"+en+".height:"+hn+".drawingBufferHeight"),en})}return null}function Vt(Rt,Kt,rn){function xn(hn){if(hn in Tn){var gn=Xe.id(Tn[hn]);return(hn=Q(function(){return gn})).id=gn,hn}if(hn in Pn){var Dn=Pn[hn];return J(Dn,function(Fn,Wn){var Yn=Fn.invoke(Wn,Dn);return Wn.def(Fn.shared.strings,".id(",Yn,")")})}return null}var Tn=Rt.static,Pn=Rt.dynamic,pn=xn("frag"),Qt=xn("vert"),en=null;return te(pn)&&te(Qt)?(en=xt.program(Qt.id,pn.id,null,rn),Rt=Q(function(hn,gn){return hn.link(en)})):Rt=new V(pn&&pn.thisDep||Qt&&Qt.thisDep,pn&&pn.contextDep||Qt&&Qt.contextDep,pn&&pn.propDep||Qt&&Qt.propDep,function(hn,gn){var Dn,Fn,Wn=hn.shared.shader;return Dn=pn?pn.append(hn,gn):gn.def(Wn,".","frag"),Fn=Qt?Qt.append(hn,gn):gn.def(Wn,".","vert"),gn.def(Wn+".program("+Fn+","+Dn+")")}),{frag:pn,vert:Qt,progVar:Rt,program:en}}function on(Rt,Kt){function rn(Yn,er){if(Yn in xn){var Kn=0|xn[Yn];return er?Pn.offset=Kn:Pn.instances=Kn,Q(function(cr,ur){return er&&(cr.OFFSET=Kn),Kn})}if(Yn in Tn){var ir=Tn[Yn];return J(ir,function(cr,ur){var mr=cr.invoke(ur,ir);return er&&(cr.OFFSET=mr),mr})}if(er){if(en)return Q(function(cr,ur){return cr.OFFSET=0});if(pn)return new V(Qt.thisDep,Qt.contextDep,Qt.propDep,function(cr,ur){return ur.def(cr.shared.vao+".currentVAO?"+cr.shared.vao+".currentVAO.offset:0")})}else if(pn)return new V(Qt.thisDep,Qt.contextDep,Qt.propDep,function(cr,ur){return ur.def(cr.shared.vao+".currentVAO?"+cr.shared.vao+".currentVAO.instances:-1")});return null}var xn=Rt.static,Tn=Rt.dynamic,Pn={},pn=!1,Qt=function(){if("vao"in xn){var Yn=xn.vao;return Yn!==null&&yt.getVAO(Yn)===null&&(Yn=yt.createVAO(Yn)),pn=!0,Pn.vao=Yn,Q(function(Kn){var ir=yt.getVAO(Yn);return ir?Kn.link(ir):"null"})}if("vao"in Tn){pn=!0;var er=Tn.vao;return J(er,function(Kn,ir){var cr=Kn.invoke(ir,er);return ir.def(Kn.shared.vao+".getVAO("+cr+")")})}return null}(),en=!1,hn=function(){if("elements"in xn){var Yn=xn.elements;if(Pn.elements=Yn,F(Yn)){var er=Pn.elements=Ne.create(Yn,!0);Yn=Ne.getElements(er),en=!0}else Yn&&(Yn=Ne.getElements(Yn),en=!0);return er=Q(function(ir,cr){if(Yn){var ur=ir.link(Yn);return ir.ELEMENTS=ur}return ir.ELEMENTS=null}),er.value=Yn,er}if("elements"in Tn){en=!0;var Kn=Tn.elements;return J(Kn,function(ir,cr){var ur=(mr=ir.shared).isBufferArgs,mr=mr.elements,vr=ir.invoke(cr,Kn),Lr=cr.def("null");return ur=cr.def(ur,"(",vr,")"),vr=ir.cond(ur).then(Lr,"=",mr,".createStream(",vr,");").else(Lr,"=",mr,".getElements(",vr,");"),cr.entry(vr),cr.exit(ir.cond(ur).then(mr,".destroyStream(",Lr,");")),ir.ELEMENTS=Lr})}return pn?new V(Qt.thisDep,Qt.contextDep,Qt.propDep,function(ir,cr){return cr.def(ir.shared.vao+".currentVAO?"+ir.shared.elements+".getElements("+ir.shared.vao+".currentVAO.elements):null")}):null}(),gn=rn("offset",!0),Dn=function(){if("primitive"in xn){var Yn=xn.primitive;return Pn.primitive=Yn,Q(function(Kn,ir){return Se[Yn]})}if("primitive"in Tn){var er=Tn.primitive;return J(er,function(Kn,ir){var cr=Kn.constants.primTypes,ur=Kn.invoke(ir,er);return ir.def(cr,"[",ur,"]")})}return en?te(hn)?hn.value?Q(function(Kn,ir){return ir.def(Kn.ELEMENTS,".primType")}):Q(function(){return 4}):new V(hn.thisDep,hn.contextDep,hn.propDep,function(Kn,ir){var cr=Kn.ELEMENTS;return ir.def(cr,"?",cr,".primType:",4)}):pn?new V(Qt.thisDep,Qt.contextDep,Qt.propDep,function(Kn,ir){return ir.def(Kn.shared.vao+".currentVAO?"+Kn.shared.vao+".currentVAO.primitive:4")}):null}(),Fn=function(){if("count"in xn){var Yn=0|xn.count;return Pn.count=Yn,Q(function(){return Yn})}if("count"in Tn){var er=Tn.count;return J(er,function(Kn,ir){return Kn.invoke(ir,er)})}return en?te(hn)?hn?gn?new V(gn.thisDep,gn.contextDep,gn.propDep,function(Kn,ir){return ir.def(Kn.ELEMENTS,".vertCount-",Kn.OFFSET)}):Q(function(Kn,ir){return ir.def(Kn.ELEMENTS,".vertCount")}):Q(function(){return-1}):new V(hn.thisDep||gn.thisDep,hn.contextDep||gn.contextDep,hn.propDep||gn.propDep,function(Kn,ir){var cr=Kn.ELEMENTS;return Kn.OFFSET?ir.def(cr,"?",cr,".vertCount-",Kn.OFFSET,":-1"):ir.def(cr,"?",cr,".vertCount:-1")}):pn?new V(Qt.thisDep,Qt.contextDep,Qt.propDep,function(Kn,ir){return ir.def(Kn.shared.vao,".currentVAO?",Kn.shared.vao,".currentVAO.count:-1")}):null}(),Wn=rn("instances",!1);return{elements:hn,primitive:Dn,count:Fn,instances:Wn,offset:gn,vao:Qt,vaoActive:pn,elementsActive:en,static:Pn}}function Sn(Rt,Kt){var rn=Rt.static,xn=Rt.dynamic,Tn={};return Object.keys(rn).forEach(function(Pn){var pn=rn[Pn],Qt=Xe.id(Pn),en=new Xn;if(F(pn))en.state=1,en.buffer=Be.getBuffer(Be.create(pn,34962,!1,!0)),en.type=0;else if(gn=Be.getBuffer(pn))en.state=1,en.buffer=gn,en.type=0;else if("constant"in pn){var hn=pn.constant;en.buffer="null",en.state=2,typeof hn=="number"?en.x=hn:st.forEach(function(Kn,ir){ir<hn.length&&(en[Kn]=hn[ir])})}else{var gn=F(pn.buffer)?Be.getBuffer(Be.create(pn.buffer,34962,!1,!0)):Be.getBuffer(pn.buffer),Dn=0|pn.offset,Fn=0|pn.stride,Wn=0|pn.size,Yn=!!pn.normalized,er=0;"type"in pn&&(er=Te[pn.type]),pn=0|pn.divisor,en.buffer=gn,en.state=1,en.size=Wn,en.normalized=Yn,en.type=er||gn.dtype,en.offset=Dn,en.stride=Fn,en.divisor=pn}Tn[Pn]=Q(function(Kn,ir){var cr=Kn.attribCache;if(Qt in cr)return cr[Qt];var ur={isStream:!1};return Object.keys(en).forEach(function(mr){ur[mr]=en[mr]}),en.buffer&&(ur.buffer=Kn.link(en.buffer),ur.type=ur.type||ur.buffer+".dtype"),cr[Qt]=ur})}),Object.keys(xn).forEach(function(Pn){var pn=xn[Pn];Tn[Pn]=J(pn,function(Qt,en){function hn(cr){en(Yn[cr],"=",gn,".",cr,"|0;")}var gn=Qt.invoke(en,pn),Dn=Qt.shared,Fn=Qt.constants,Wn=Dn.isBufferArgs,Yn=(Dn=Dn.buffer,{isStream:en.def(!1)}),er=new Xn;er.state=1,Object.keys(er).forEach(function(cr){Yn[cr]=en.def(""+er[cr])});var Kn=Yn.buffer,ir=Yn.type;return en("if(",Wn,"(",gn,")){",Yn.isStream,"=true;",Kn,"=",Dn,".createStream(",34962,",",gn,");",ir,"=",Kn,".dtype;","}else{",Kn,"=",Dn,".getBuffer(",gn,");","if(",Kn,"){",ir,"=",Kn,".dtype;",'}else if("constant" in ',gn,"){",Yn.state,"=",2,";","if(typeof "+gn+'.constant === "number"){',Yn[st[0]],"=",gn,".constant;",st.slice(1).map(function(cr){return Yn[cr]}).join("="),"=0;","}else{",st.map(function(cr,ur){return Yn[cr]+"="+gn+".constant.length>"+ur+"?"+gn+".constant["+ur+"]:0;"}).join(""),"}}else{","if(",Wn,"(",gn,".buffer)){",Kn,"=",Dn,".createStream(",34962,",",gn,".buffer);","}else{",Kn,"=",Dn,".getBuffer(",gn,".buffer);","}",ir,'="type" in ',gn,"?",Fn.glTypes,"[",gn,".type]:",Kn,".dtype;",Yn.normalized,"=!!",gn,".normalized;"),hn("size"),hn("offset"),hn("stride"),hn("divisor"),en("}}"),en.exit("if(",Yn.isStream,"){",Dn,".destroyStream(",Kn,");","}"),Yn})}),Tn}function Ln(Rt,Kt,rn,xn,Tn){function Pn(er){var Kn=Qt[er];Kn&&(hn[er]=Kn)}var pn=function(er,Kn){if(typeof(ir=er.static).frag=="string"&&typeof ir.vert=="string"){if(0<Object.keys(Kn.dynamic).length)return null;var ir=Kn.static,cr=Object.keys(ir);if(0<cr.length&&typeof ir[cr[0]]=="number"){for(var ur=[],mr=0;mr<cr.length;++mr)ur.push([0|ir[cr[mr]],cr[mr]]);return ur}}return null}(Rt,Kt),Qt=function(er,Kn,ir){function cr(Lr){if(Lr in ur){var or=ur[Lr];Lr=!0;var wr,Ir,Gr=0|or.x,_i=0|or.y;return"width"in or?wr=0|or.width:Lr=!1,"height"in or?Ir=0|or.height:Lr=!1,new V(!Lr&&Kn&&Kn.thisDep,!Lr&&Kn&&Kn.contextDep,!Lr&&Kn&&Kn.propDep,function(Ki,vi){var Hi=Ki.shared.context,La=wr;"width"in or||(La=vi.def(Hi,".","framebufferWidth","-",Gr));var Ca=Ir;return"height"in or||(Ca=vi.def(Hi,".","framebufferHeight","-",_i)),[Gr,_i,La,Ca]})}if(Lr in mr){var Ti=mr[Lr];return Lr=J(Ti,function(Ki,vi){var Hi=Ki.invoke(vi,Ti),La=Ki.shared.context,Ca=vi.def(Hi,".x|0"),gs=vi.def(Hi,".y|0");return[Ca,gs,vi.def('"width" in ',Hi,"?",Hi,".width|0:","(",La,".","framebufferWidth","-",Ca,")"),Hi=vi.def('"height" in ',Hi,"?",Hi,".height|0:","(",La,".","framebufferHeight","-",gs,")")]}),Kn&&(Lr.thisDep=Lr.thisDep||Kn.thisDep,Lr.contextDep=Lr.contextDep||Kn.contextDep,Lr.propDep=Lr.propDep||Kn.propDep),Lr}return Kn?new V(Kn.thisDep,Kn.contextDep,Kn.propDep,function(Ki,vi){var Hi=Ki.shared.context;return[0,0,vi.def(Hi,".","framebufferWidth"),vi.def(Hi,".","framebufferHeight")]}):null}var ur=er.static,mr=er.dynamic;if(er=cr("viewport")){var vr=er;er=new V(er.thisDep,er.contextDep,er.propDep,function(Lr,or){var wr=vr.append(Lr,or),Ir=Lr.shared.context;return or.set(Ir,".viewportWidth",wr[2]),or.set(Ir,".viewportHeight",wr[3]),wr})}return{viewport:er,scissor_box:cr("scissor.box")}}(Rt,Dn=Wt(Rt)),en=on(Rt),hn=function(er,Kn){var ir=er.static,cr=er.dynamic,ur={};return Vn.forEach(function(mr){function vr(or,wr){if(mr in ir){var Ir=or(ir[mr]);ur[Lr]=Q(function(){return Ir})}else if(mr in cr){var Gr=cr[mr];ur[Lr]=J(Gr,function(_i,Ti){return wr(_i,Ti,_i.invoke(Ti,Gr))})}}var Lr=Dt(mr);switch(mr){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return vr(function(or){return or},function(or,wr,Ir){return Ir});case"depth.func":return vr(function(or){return Ft[or]},function(or,wr,Ir){return wr.def(or.constants.compareFuncs,"[",Ir,"]")});case"depth.range":return vr(function(or){return or},function(or,wr,Ir){return[wr.def("+",Ir,"[0]"),wr=wr.def("+",Ir,"[1]")]});case"blend.func":return vr(function(or){return[zt["srcRGB"in or?or.srcRGB:or.src],zt["dstRGB"in or?or.dstRGB:or.dst],zt["srcAlpha"in or?or.srcAlpha:or.src],zt["dstAlpha"in or?or.dstAlpha:or.dst]]},function(or,wr,Ir){function Gr(vi,Hi){return wr.def('"',vi,Hi,'" in ',Ir,"?",Ir,".",vi,Hi,":",Ir,".",vi)}or=or.constants.blendFuncs;var _i=Gr("src","RGB"),Ti=Gr("dst","RGB"),Ki=(_i=wr.def(or,"[",_i,"]"),wr.def(or,"[",Gr("src","Alpha"),"]"));return[_i,Ti=wr.def(or,"[",Ti,"]"),Ki,or=wr.def(or,"[",Gr("dst","Alpha"),"]")]});case"blend.equation":return vr(function(or){return typeof or=="string"?[gr[or],gr[or]]:typeof or=="object"?[gr[or.rgb],gr[or.alpha]]:void 0},function(or,wr,Ir){var Gr=or.constants.blendEquations,_i=wr.def(),Ti=wr.def();return(or=or.cond("typeof ",Ir,'==="string"')).then(_i,"=",Ti,"=",Gr,"[",Ir,"];"),or.else(_i,"=",Gr,"[",Ir,".rgb];",Ti,"=",Gr,"[",Ir,".alpha];"),wr(or),[_i,Ti]});case"blend.color":return vr(function(or){return b(4,function(wr){return+or[wr]})},function(or,wr,Ir){return b(4,function(Gr){return wr.def("+",Ir,"[",Gr,"]")})});case"stencil.mask":return vr(function(or){return 0|or},function(or,wr,Ir){return wr.def(Ir,"|0")});case"stencil.func":return vr(function(or){return[Ft[or.cmp||"keep"],or.ref||0,"mask"in or?or.mask:-1]},function(or,wr,Ir){return[or=wr.def('"cmp" in ',Ir,"?",or.constants.compareFuncs,"[",Ir,".cmp]",":",7680),wr.def(Ir,".ref|0"),wr=wr.def('"mask" in ',Ir,"?",Ir,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return vr(function(or){return[mr==="stencil.opBack"?1029:1028,Pt[or.fail||"keep"],Pt[or.zfail||"keep"],Pt[or.zpass||"keep"]]},function(or,wr,Ir){function Gr(Ti){return wr.def('"',Ti,'" in ',Ir,"?",_i,"[",Ir,".",Ti,"]:",7680)}var _i=or.constants.stencilOps;return[mr==="stencil.opBack"?1029:1028,Gr("fail"),Gr("zfail"),Gr("zpass")]});case"polygonOffset.offset":return vr(function(or){return[0|or.factor,0|or.units]},function(or,wr,Ir){return[wr.def(Ir,".factor|0"),wr=wr.def(Ir,".units|0")]});case"cull.face":return vr(function(or){var wr=0;return or==="front"?wr=1028:or==="back"&&(wr=1029),wr},function(or,wr,Ir){return wr.def(Ir,'==="front"?',1028,":",1029)});case"frontFace":return vr(function(or){return Ze[or]},function(or,wr,Ir){return wr.def(Ir+'==="cw"?2304:2305')});case"colorMask":return vr(function(or){return or.map(function(wr){return!!wr})},function(or,wr,Ir){return b(4,function(Gr){return"!!"+Ir+"["+Gr+"]"})});case"sample.coverage":return vr(function(or){return["value"in or?or.value:1,!!or.invert]},function(or,wr,Ir){return[wr.def('"value" in ',Ir,"?+",Ir,".value:1"),wr=wr.def("!!",Ir,".invert")]})}}),ur}(Rt),gn=Vt(Rt,0,pn);Pn("viewport"),Pn(Dt("scissor.box"));var Dn,Fn=0<Object.keys(hn).length;if((Dn={framebuffer:Dn,draw:en,shader:gn,state:hn,dirty:Fn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(er){var Kn,ir=er.static;if(er=er.dynamic,"profile"in ir){var cr=!!ir.profile;(Kn=Q(function(mr,vr){return cr})).enable=cr}else if("profile"in er){var ur=er.profile;Kn=J(ur,function(mr,vr){return mr.invoke(vr,ur)})}return Kn}(Rt),Dn.uniforms=function(er,Kn){var ir=er.static,cr=er.dynamic,ur={};return Object.keys(ir).forEach(function(mr){var vr,Lr=ir[mr];if(typeof Lr=="number"||typeof Lr=="boolean")vr=Q(function(){return Lr});else if(typeof Lr=="function"){var or=Lr._reglType;or==="texture2d"||or==="textureCube"?vr=Q(function(wr){return wr.link(Lr)}):or!=="framebuffer"&&or!=="framebufferCube"||(vr=Q(function(wr){return wr.link(Lr.color[0])}))}else x(Lr)&&(vr=Q(function(wr){return wr.global.def("[",b(Lr.length,function(Ir){return Lr[Ir]}),"]")}));vr.value=Lr,ur[mr]=vr}),Object.keys(cr).forEach(function(mr){var vr=cr[mr];ur[mr]=J(vr,function(Lr,or){return Lr.invoke(or,vr)})}),ur}(rn),Dn.drawVAO=Dn.scopeVAO=en.vao,!Dn.drawVAO&&gn.program&&!pn&&lt.angle_instanced_arrays&&en.static.elements){var Wn=!0;if(Rt=gn.program.attributes.map(function(er){return er=Kt.static[er],Wn=Wn&&!!er,er}),Wn&&0<Rt.length){var Yn=yt.getVAO(yt.createVAO({attributes:Rt,elements:en.static.elements}));Dn.drawVAO=new V(null,null,null,function(er,Kn){return er.link(Yn)}),Dn.useVAO=!0}}return pn?Dn.useVAO=!0:Dn.attributes=Sn(Kt),Dn.context=function(er){var Kn=er.static,ir=er.dynamic,cr={};return Object.keys(Kn).forEach(function(ur){var mr=Kn[ur];cr[ur]=Q(function(vr,Lr){return typeof mr=="number"||typeof mr=="boolean"?""+mr:vr.link(mr)})}),Object.keys(ir).forEach(function(ur){var mr=ir[ur];cr[ur]=J(mr,function(vr,Lr){return vr.invoke(Lr,mr)})}),cr}(xn),Dn}function fn(Rt,Kt,rn){var xn=Rt.shared.context,Tn=Rt.scope();Object.keys(rn).forEach(function(Pn){Kt.save(xn,"."+Pn);var pn=rn[Pn].append(Rt,Kt);Array.isArray(pn)?Tn(xn,".",Pn,"=[",pn.join(),"];"):Tn(xn,".",Pn,"=",pn,";")}),Kt(Tn)}function Zt(Rt,Kt,rn,xn){var Tn,Pn=(Qt=Rt.shared).gl,pn=Qt.framebuffer;tn&&(Tn=Kt.def(Qt.extensions,".webgl_draw_buffers"));var Qt=(en=Rt.constants).drawBuffer,en=en.backBuffer;Rt=rn?rn.append(Rt,Kt):Kt.def(pn,".next"),xn||Kt("if(",Rt,"!==",pn,".cur){"),Kt("if(",Rt,"){",Pn,".bindFramebuffer(",36160,",",Rt,".framebuffer);"),tn&&Kt(Tn,".drawBuffersWEBGL(",Qt,"[",Rt,".colorAttachments.length]);"),Kt("}else{",Pn,".bindFramebuffer(",36160,",null);"),tn&&Kt(Tn,".drawBuffersWEBGL(",en,");"),Kt("}",pn,".cur=",Rt,";"),xn||Kt("}")}function ln(Rt,Kt,rn){var xn=Rt.shared,Tn=xn.gl,Pn=Rt.current,pn=Rt.next,Qt=xn.current,en=xn.next,hn=Rt.cond(Qt,".dirty");Vn.forEach(function(gn){var Dn,Fn;if(!((gn=Dt(gn))in rn.state))if(gn in pn){Dn=pn[gn],Fn=Pn[gn];var Wn=b(vn[gn].length,function(Yn){return hn.def(Dn,"[",Yn,"]")});hn(Rt.cond(Wn.map(function(Yn,er){return Yn+"!=="+Fn+"["+er+"]"}).join("||")).then(Tn,".",Un[gn],"(",Wn,");",Wn.map(function(Yn,er){return Fn+"["+er+"]="+Yn}).join(";"),";"))}else Dn=hn.def(en,".",gn),Wn=Rt.cond(Dn,"!==",Qt,".",gn),hn(Wn),gn in Bn?Wn(Rt.cond(Dn).then(Tn,".enable(",Bn[gn],");").else(Tn,".disable(",Bn[gn],");"),Qt,".",gn,"=",Dn,";"):Wn(Tn,".",Un[gn],"(",Dn,");",Qt,".",gn,"=",Dn,";")}),Object.keys(rn.state).length===0&&hn(Qt,".dirty=false;"),Kt(hn)}function nn(Rt,Kt,rn,xn){var Tn,Pn=Rt.shared,pn=Rt.current,Qt=Pn.current,en=Pn.gl;U(Object.keys(rn)).forEach(function(hn){var gn=rn[hn];if(!xn||xn(gn)){var Dn=gn.append(Rt,Kt);if(Bn[hn]){var Fn=Bn[hn];te(gn)?(Tn=Rt.link(Dn,{stable:!0}),Kt(Rt.cond(Tn).then(en,".enable(",Fn,");").else(en,".disable(",Fn,");")),Kt(Qt,".",hn,"=",Tn,";")):(Kt(Rt.cond(Dn).then(en,".enable(",Fn,");").else(en,".disable(",Fn,");")),Kt(Qt,".",hn,"=",Dn,";"))}else if(x(Dn)){var Wn=pn[hn];Kt(en,".",Un[hn],"(",Dn,");",Dn.map(function(Yn,er){return Wn+"["+er+"]="+Yn}).join(";"),";")}else te(gn)?(Tn=Rt.link(Dn,{stable:!0}),Kt(en,".",Un[hn],"(",Tn,");",Qt,".",hn,"=",Tn,";")):Kt(en,".",Un[hn],"(",Dn,");",Qt,".",hn,"=",Dn,";")}})}function cn(Rt,Kt){Gt&&(Rt.instancing=Kt.def(Rt.shared.extensions,".angle_instanced_arrays"))}function kn(Rt,Kt,rn,xn,Tn){function Pn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function pn(er){er(hn=Kt.def(),"=",Pn(),";"),typeof Tn=="string"?er(Fn,".count+=",Tn,";"):er(Fn,".count++;"),Tt&&(xn?er(gn=Kt.def(),"=",Yn,".getNumPendingQueries();"):er(Yn,".beginQuery(",Fn,");"))}function Qt(er){er(Fn,".cpuTime+=",Pn(),"-",hn,";"),Tt&&(xn?er(Yn,".pushScopeStats(",gn,",",Yn,".getNumPendingQueries(),",Fn,");"):er(Yn,".endQuery();"))}function en(er){var Kn=Kt.def(Wn,".profile");Kt(Wn,".profile=",er,";"),Kt.exit(Wn,".profile=",Kn,";")}var hn,gn,Dn=Rt.shared,Fn=Rt.stats,Wn=Dn.current,Yn=Dn.timer;if(rn=rn.profile){if(te(rn))return void(rn.enable?(pn(Kt),Qt(Kt.exit),en("true")):en("false"));en(rn=rn.append(Rt,Kt))}else rn=Kt.def(Wn,".profile");pn(Dn=Rt.block()),Kt("if(",rn,"){",Dn,"}"),Qt(Rt=Rt.block()),Kt.exit("if(",rn,"){",Rt,"}")}function An(Rt,Kt,rn,xn,Tn){function Pn(Qt,en,hn){function gn(){Kt("if(!",Yn,".buffer){",Fn,".enableVertexAttribArray(",Wn,");}");var cr,ur=hn.type;cr=hn.size?Kt.def(hn.size,"||",en):en,Kt("if(",Yn,".type!==",ur,"||",Yn,".size!==",cr,"||",ir.map(function(mr){return Yn+"."+mr+"!=="+hn[mr]}).join("||"),"){",Fn,".bindBuffer(",34962,",",er,".buffer);",Fn,".vertexAttribPointer(",[Wn,cr,ur,hn.normalized,hn.stride,hn.offset],");",Yn,".type=",ur,";",Yn,".size=",cr,";",ir.map(function(mr){return Yn+"."+mr+"="+hn[mr]+";"}).join(""),"}"),Gt&&(ur=hn.divisor,Kt("if(",Yn,".divisor!==",ur,"){",Rt.instancing,".vertexAttribDivisorANGLE(",[Wn,ur],");",Yn,".divisor=",ur,";}"))}function Dn(){Kt("if(",Yn,".buffer){",Fn,".disableVertexAttribArray(",Wn,");",Yn,".buffer=null;","}if(",st.map(function(cr,ur){return Yn+"."+cr+"!=="+Kn[ur]}).join("||"),"){",Fn,".vertexAttrib4f(",Wn,",",Kn,");",st.map(function(cr,ur){return Yn+"."+cr+"="+Kn[ur]+";"}).join(""),"}")}var Fn=pn.gl,Wn=Kt.def(Qt,".location"),Yn=Kt.def(pn.attributes,"[",Wn,"]");Qt=hn.state;var er=hn.buffer,Kn=[hn.x,hn.y,hn.z,hn.w],ir=["buffer","normalized","offset","stride"];Qt===1?gn():Qt===2?Dn():(Kt("if(",Qt,"===",1,"){"),gn(),Kt("}else{"),Dn(),Kt("}"))}var pn=Rt.shared;xn.forEach(function(Qt){var en,hn=Qt.name,gn=rn.attributes[hn];if(gn){if(!Tn(gn))return;en=gn.append(Rt,Kt)}else{if(!Tn(Je))return;var Dn=Rt.scopeAttrib(hn);en={},Object.keys(new Xn).forEach(function(Fn){en[Fn]=Kt.def(Dn,".",Fn)})}Pn(Rt.link(Qt),function(Fn){switch(Fn){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(Qt.info.type),en)})}function wn(Rt,Kt,rn,xn,Tn,Pn){for(var pn,Qt=Rt.shared,en=Qt.gl,hn=0;hn<xn.length;++hn){var gn,Dn=(Yn=xn[hn]).name,Fn=Yn.info.type,Wn=rn.uniforms[Dn],Yn=Rt.link(Yn)+".location";if(Wn){if(!Tn(Wn))continue;if(te(Wn)){if(Dn=Wn.value,Fn===35678||Fn===35680)Kt(en,".uniform1i(",Yn,",",(Fn=Rt.link(Dn._texture||Dn.color[0]._texture))+".bind());"),Kt.exit(Fn,".unbind();");else if(Fn===35674||Fn===35675||Fn===35676)Wn=2,Fn===35675?Wn=3:Fn===35676&&(Wn=4),Kt(en,".uniformMatrix",Wn,"fv(",Yn,",false,",Dn=Rt.global.def("new Float32Array(["+Array.prototype.slice.call(Dn)+"])"),");");else{switch(Fn){case 5126:pn="1f";break;case 35664:pn="2f";break;case 35665:pn="3f";break;case 35666:pn="4f";break;case 35670:case 5124:pn="1i";break;case 35671:case 35667:pn="2i";break;case 35672:case 35668:pn="3i";break;case 35673:case 35669:pn="4i"}Kt(en,".uniform",pn,"(",Yn,",",x(Dn)?Array.prototype.slice.call(Dn):Dn,");")}continue}gn=Wn.append(Rt,Kt)}else{if(!Tn(Je))continue;gn=Kt.def(Qt.uniforms,"[",Xe.id(Dn),"]")}switch(Fn===35678?Kt("if(",gn,"&&",gn,'._reglType==="framebuffer"){',gn,"=",gn,".color[0];","}"):Fn===35680&&Kt("if(",gn,"&&",gn,'._reglType==="framebufferCube"){',gn,"=",gn,".color[0];","}"),Dn=1,Fn){case 35678:case 35680:Fn=Kt.def(gn,"._texture"),Kt(en,".uniform1i(",Yn,",",Fn,".bind());"),Kt.exit(Fn,".unbind();");continue;case 5124:case 35670:pn="1i";break;case 35667:case 35671:pn="2i",Dn=2;break;case 35668:case 35672:pn="3i",Dn=3;break;case 35669:case 35673:pn="4i",Dn=4;break;case 5126:pn="1f";break;case 35664:pn="2f",Dn=2;break;case 35665:pn="3f",Dn=3;break;case 35666:pn="4f",Dn=4;break;case 35674:pn="Matrix2fv";break;case 35675:pn="Matrix3fv";break;case 35676:pn="Matrix4fv"}if(pn.charAt(0)==="M"){Kt(en,".uniform",pn,"(",Yn,","),Yn=Math.pow(Fn-35674+2,2);var er=Rt.global.def("new Float32Array(",Yn,")");Array.isArray(gn)?Kt("false,(",b(Yn,function(ir){return er+"["+ir+"]="+gn[ir]}),",",er,")"):Kt("false,(Array.isArray(",gn,")||",gn," instanceof Float32Array)?",gn,":(",b(Yn,function(ir){return er+"["+ir+"]="+gn+"["+ir+"]"}),",",er,")"),Kt(");")}else{if(1<Dn){Fn=[];var Kn=[];for(Wn=0;Wn<Dn;++Wn)Array.isArray(gn)?Kn.push(gn[Wn]):Kn.push(Kt.def(gn+"["+Wn+"]")),Pn&&Fn.push(Kt.def());Pn&&Kt("if(!",Rt.batchId,"||",Fn.map(function(ir,cr){return ir+"!=="+Kn[cr]}).join("||"),"){",Fn.map(function(ir,cr){return ir+"="+Kn[cr]+";"}).join("")),Kt(en,".uniform",pn,"(",Yn,",",Kn.join(","),");")}else Pn&&(Fn=Kt.def(),Kt("if(!",Rt.batchId,"||",Fn,"!==",gn,"){",Fn,"=",gn,";")),Kt(en,".uniform",pn,"(",Yn,",",gn,");");Pn&&Kt("}")}}}function Cn(Rt,Kt,rn,xn){function Tn(ur){var mr=Fn[ur];return mr?mr.contextDep&&xn.contextDynamic||mr.propDep?mr.append(Rt,rn):mr.append(Rt,Kt):Kt.def(Dn,".",ur)}function Pn(){function ur(){rn(en,".drawElementsInstancedANGLE(",[Yn,Kn,ir,er+"<<(("+ir+"-5121)>>1)",Qt],");")}function mr(){rn(en,".drawArraysInstancedANGLE(",[Yn,er,Kn,Qt],");")}Wn&&Wn!=="null"?cr?ur():(rn("if(",Wn,"){"),ur(),rn("}else{"),mr(),rn("}")):mr()}function pn(){function ur(){rn(gn+".drawElements("+[Yn,Kn,ir,er+"<<(("+ir+"-5121)>>1)"]+");")}function mr(){rn(gn+".drawArrays("+[Yn,er,Kn]+");")}Wn&&Wn!=="null"?cr?ur():(rn("if(",Wn,"){"),ur(),rn("}else{"),mr(),rn("}")):mr()}var Qt,en,hn=Rt.shared,gn=hn.gl,Dn=hn.draw,Fn=xn.draw,Wn=function(){var ur=Fn.elements,mr=Kt;return ur?((ur.contextDep&&xn.contextDynamic||ur.propDep)&&(mr=rn),ur=ur.append(Rt,mr),Fn.elementsActive&&mr("if("+ur+")"+gn+".bindBuffer(34963,"+ur+".buffer.buffer);")):(ur=mr.def(),mr(ur,"=",Dn,".","elements",";","if(",ur,"){",gn,".bindBuffer(",34963,",",ur,".buffer.buffer);}","else if(",hn.vao,".currentVAO){",ur,"=",Rt.shared.elements+".getElements("+hn.vao,".currentVAO.elements);",dn?"":"if("+ur+")"+gn+".bindBuffer(34963,"+ur+".buffer.buffer);","}")),ur}(),Yn=Tn("primitive"),er=Tn("offset"),Kn=function(){var ur=Fn.count,mr=Kt;return ur?((ur.contextDep&&xn.contextDynamic||ur.propDep)&&(mr=rn),ur=ur.append(Rt,mr)):ur=mr.def(Dn,".","count"),ur}();if(typeof Kn=="number"){if(Kn===0)return}else rn("if(",Kn,"){"),rn.exit("}");Gt&&(Qt=Tn("instances"),en=Rt.instancing);var ir=Wn+".type",cr=Fn.elements&&te(Fn.elements)&&!Fn.vaoActive;Gt&&(typeof Qt!="number"||0<=Qt)?typeof Qt=="string"?(rn("if(",Qt,">0){"),Pn(),rn("}else if(",Qt,"<0){"),pn(),rn("}")):Pn():pn()}function _n(Rt,Kt,rn,xn,Tn){return Tn=(Kt=an()).proc("body",Tn),Gt&&(Kt.instancing=Tn.def(Kt.shared.extensions,".angle_instanced_arrays")),Rt(Kt,Tn,rn,xn),Kt.compile().body}function zn(Rt,Kt,rn,xn){cn(Rt,Kt),rn.useVAO?rn.drawVAO?Kt(Rt.shared.vao,".setVAO(",rn.drawVAO.append(Rt,Kt),");"):Kt(Rt.shared.vao,".setVAO(",Rt.shared.vao,".targetVAO);"):(Kt(Rt.shared.vao,".setVAO(null);"),An(Rt,Kt,rn,xn.attributes,function(){return!0})),wn(Rt,Kt,rn,xn.uniforms,function(){return!0},!1),Cn(Rt,Kt,Kt,rn)}function Hn(Rt,Kt,rn,xn){function Tn(){return!0}Rt.batchId="a1",cn(Rt,Kt),An(Rt,Kt,rn,xn.attributes,Tn),wn(Rt,Kt,rn,xn.uniforms,Tn,!1),Cn(Rt,Kt,Kt,rn)}function ar(Rt,Kt,rn,xn){function Tn(Dn){return Dn.contextDep&&pn||Dn.propDep}function Pn(Dn){return!Tn(Dn)}cn(Rt,Kt);var pn=rn.contextDep,Qt=Kt.def(),en=Kt.def();Rt.shared.props=en,Rt.batchId=Qt;var hn=Rt.scope(),gn=Rt.scope();Kt(hn.entry,"for(",Qt,"=0;",Qt,"<","a1",";++",Qt,"){",en,"=","a0","[",Qt,"];",gn,"}",hn.exit),rn.needsContext&&fn(Rt,gn,rn.context),rn.needsFramebuffer&&Zt(Rt,gn,rn.framebuffer),nn(Rt,gn,rn.state,Tn),rn.profile&&Tn(rn.profile)&&kn(Rt,gn,rn,!1,!0),xn?(rn.useVAO?rn.drawVAO?Tn(rn.drawVAO)?gn(Rt.shared.vao,".setVAO(",rn.drawVAO.append(Rt,gn),");"):hn(Rt.shared.vao,".setVAO(",rn.drawVAO.append(Rt,hn),");"):hn(Rt.shared.vao,".setVAO(",Rt.shared.vao,".targetVAO);"):(hn(Rt.shared.vao,".setVAO(null);"),An(Rt,hn,rn,xn.attributes,Pn),An(Rt,gn,rn,xn.attributes,Tn)),wn(Rt,hn,rn,xn.uniforms,Pn,!1),wn(Rt,gn,rn,xn.uniforms,Tn,!0),Cn(Rt,hn,gn,rn)):(Kt=Rt.global.def("{}"),xn=rn.shader.progVar.append(Rt,gn),en=gn.def(xn,".id"),hn=gn.def(Kt,"[",en,"]"),gn(Rt.shared.gl,".useProgram(",xn,".program);","if(!",hn,"){",hn,"=",Kt,"[",en,"]=",Rt.link(function(Dn){return _n(Hn,Rt,rn,Dn,2)}),"(",xn,");}",hn,".call(this,a0[",Qt,"],",Qt,");"))}function fr(Rt,Kt){function rn(Qt){var en=Kt.shader[Qt];en&&(en=en.append(Rt,xn),isNaN(en)?xn.set(Tn.shader,"."+Qt,en):xn.set(Tn.shader,"."+Qt,Rt.link(en,{stable:!0})))}var xn=Rt.proc("scope",3);Rt.batchId="a2";var Tn=Rt.shared,Pn=Tn.current;if(fn(Rt,xn,Kt.context),Kt.framebuffer&&Kt.framebuffer.append(Rt,xn),U(Object.keys(Kt.state)).forEach(function(Qt){var en=Kt.state[Qt],hn=en.append(Rt,xn);x(hn)?hn.forEach(function(gn,Dn){isNaN(gn)?xn.set(Rt.next[Qt],"["+Dn+"]",gn):xn.set(Rt.next[Qt],"["+Dn+"]",Rt.link(gn,{stable:!0}))}):te(en)?xn.set(Tn.next,"."+Qt,Rt.link(hn,{stable:!0})):xn.set(Tn.next,"."+Qt,hn)}),kn(Rt,xn,Kt,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(Qt){var en=Kt.draw[Qt];en&&(en=en.append(Rt,xn),isNaN(en)?xn.set(Tn.draw,"."+Qt,en):xn.set(Tn.draw,"."+Qt,Rt.link(en),{stable:!0}))}),Object.keys(Kt.uniforms).forEach(function(Qt){var en=Kt.uniforms[Qt].append(Rt,xn);Array.isArray(en)&&(en="["+en.map(function(hn){return isNaN(hn)?hn:Rt.link(hn,{stable:!0})})+"]"),xn.set(Tn.uniforms,"["+Rt.link(Xe.id(Qt),{stable:!0})+"]",en)}),Object.keys(Kt.attributes).forEach(function(Qt){var en=Kt.attributes[Qt].append(Rt,xn),hn=Rt.scopeAttrib(Qt);Object.keys(new Xn).forEach(function(gn){xn.set(hn,"."+gn,en[gn])})}),Kt.scopeVAO){var pn=Kt.scopeVAO.append(Rt,xn);isNaN(pn)?xn.set(Tn.vao,".targetVAO",pn):xn.set(Tn.vao,".targetVAO",Rt.link(pn,{stable:!0}))}rn("vert"),rn("frag"),0<Object.keys(Kt.state).length&&(xn(Pn,".dirty=true;"),xn.exit(Pn,".dirty=true;")),xn("a1(",Rt.shared.context,",a0,",Rt.batchId,");")}function rr(Rt,Kt,rn){var xn=Kt.static[rn];if(xn&&function(gn){if(typeof gn=="object"&&!x(gn)){for(var Dn=Object.keys(gn),Fn=0;Fn<Dn.length;++Fn)if(ie.isDynamic(gn[Dn[Fn]]))return!0;return!1}}(xn)){var Tn=Rt.global,Pn=Object.keys(xn),pn=!1,Qt=!1,en=!1,hn=Rt.global.def("{}");Pn.forEach(function(gn){var Dn=xn[gn];if(ie.isDynamic(Dn))typeof Dn=="function"&&(Dn=xn[gn]=ie.unbox(Dn)),gn=J(Dn,null),pn=pn||gn.thisDep,en=en||gn.propDep,Qt=Qt||gn.contextDep;else{switch(Tn(hn,".",gn,"="),typeof Dn){case"number":Tn(Dn);break;case"string":Tn('"',Dn,'"');break;case"object":Array.isArray(Dn)&&Tn("[",Dn.join(),"]");break;default:Tn(Rt.link(Dn))}Tn(";")}}),Kt.dynamic[rn]=new ie.DynamicVariable(4,{thisDep:pn,contextDep:Qt,propDep:en,ref:hn,append:function(gn,Dn){Pn.forEach(function(Fn){var Wn=xn[Fn];ie.isDynamic(Wn)&&(Wn=gn.invoke(Dn,Wn),Dn(hn,".",Fn,"=",Wn,";"))})}}),delete Kt.static[rn]}}var Xn=yt.Record,gr={add:32774,subtract:32778,"reverse subtract":32779};lt.ext_blend_minmax&&(gr.min=32775,gr.max=32776);var Gt=lt.angle_instanced_arrays,tn=lt.webgl_draw_buffers,dn=lt.oes_vertex_array_object,vn={dirty:!0,profile:Ct.profile},On={},Vn=[],Bn={},Un={};Bt("dither",3024),Bt("blend.enable",3042),Xt("blend.color","blendColor",[0,0,0,0]),Xt("blend.equation","blendEquationSeparate",[32774,32774]),Xt("blend.func","blendFuncSeparate",[1,0,1,0]),Bt("depth.enable",2929,!0),Xt("depth.func","depthFunc",513),Xt("depth.range","depthRange",[0,1]),Xt("depth.mask","depthMask",!0),Xt("colorMask","colorMask",[!0,!0,!0,!0]),Bt("cull.enable",2884),Xt("cull.face","cullFace",1029),Xt("frontFace","frontFace",2305),Xt("lineWidth","lineWidth",1),Bt("polygonOffset.enable",32823),Xt("polygonOffset.offset","polygonOffset",[0,0]),Bt("sample.alpha",32926),Bt("sample.enable",32928),Xt("sample.coverage","sampleCoverage",[1,!1]),Bt("stencil.enable",2960),Xt("stencil.mask","stencilMask",-1),Xt("stencil.func","stencilFunc",[519,0,-1]),Xt("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Xt("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Bt("scissor.enable",3089),Xt("scissor.box","scissor",[0,0,Ue.drawingBufferWidth,Ue.drawingBufferHeight]),Xt("viewport","viewport",[0,0,Ue.drawingBufferWidth,Ue.drawingBufferHeight]);var tr={gl:Ue,context:Lt,strings:Xe,next:On,current:vn,draw:dt,elements:Ne,buffer:Be,shader:xt,attributes:yt.state,vao:yt,uniforms:gt,framebuffer:$e,extensions:lt,timer:Tt,isBufferArgs:F},$t={primTypes:Se,compareFuncs:Ft,blendFuncs:zt,blendEquations:gr,stencilOps:Pt,glTypes:Te,orientationType:Ze};tn&&($t.backBuffer=[1029],$t.drawBuffer=b(ot.maxDrawbuffers,function(Rt){return Rt===0?[0]:b(Rt,function(Kt){return 36064+Kt})}));var bn=0;return{next:On,current:vn,procs:function(){var Rt=an(),Kt=Rt.proc("poll"),rn=Rt.proc("refresh"),xn=Rt.block();Kt(xn),rn(xn);var Tn,Pn=(en=Rt.shared).gl,pn=en.next,Qt=en.current;xn(Qt,".dirty=false;"),Zt(Rt,Kt),Zt(Rt,rn,null,!0),Gt&&(Tn=Rt.link(Gt)),lt.oes_vertex_array_object&&rn(Rt.link(lt.oes_vertex_array_object),".bindVertexArrayOES(null);");var en=rn.def(en.attributes),hn=rn.def(0),gn=Rt.cond(hn,".buffer");gn.then(Pn,".enableVertexAttribArray(i);",Pn,".bindBuffer(",34962,",",hn,".buffer.buffer);",Pn,".vertexAttribPointer(i,",hn,".size,",hn,".type,",hn,".normalized,",hn,".stride,",hn,".offset);").else(Pn,".disableVertexAttribArray(i);",Pn,".vertexAttrib4f(i,",hn,".x,",hn,".y,",hn,".z,",hn,".w);",hn,".buffer=null;");var Dn=Rt.link(ot.maxAttributes,{stable:!0});return rn("for(var i=0;i<",Dn,";++i){",hn,"=",en,"[i];",gn,"}"),Gt&&rn("for(var i=0;i<",Dn,";++i){",Tn,".vertexAttribDivisorANGLE(i,",en,"[i].divisor);","}"),rn(Rt.shared.vao,".currentVAO=null;",Rt.shared.vao,".setVAO(",Rt.shared.vao,".targetVAO);"),Object.keys(Bn).forEach(function(Fn){var Wn=Bn[Fn],Yn=xn.def(pn,".",Fn),er=Rt.block();er("if(",Yn,"){",Pn,".enable(",Wn,")}else{",Pn,".disable(",Wn,")}",Qt,".",Fn,"=",Yn,";"),rn(er),Kt("if(",Yn,"!==",Qt,".",Fn,"){",er,"}")}),Object.keys(Un).forEach(function(Fn){var Wn,Yn,er=Un[Fn],Kn=vn[Fn],ir=Rt.block();ir(Pn,".",er,"("),x(Kn)?(er=Kn.length,Wn=Rt.global.def(pn,".",Fn),Yn=Rt.global.def(Qt,".",Fn),ir(b(er,function(cr){return Wn+"["+cr+"]"}),");",b(er,function(cr){return Yn+"["+cr+"]="+Wn+"["+cr+"];"}).join("")),Kt("if(",b(er,function(cr){return Wn+"["+cr+"]!=="+Yn+"["+cr+"]"}).join("||"),"){",ir,"}")):(Wn=xn.def(pn,".",Fn),Yn=xn.def(Qt,".",Fn),ir(Wn,");",Qt,".",Fn,"=",Wn,";"),Kt("if(",Wn,"!==",Yn,"){",ir,"}")),rn(ir)}),Rt.compile()}(),compile:function(Rt,Kt,rn,xn,Tn){var Pn=an();Pn.stats=Pn.link(Tn),Object.keys(Kt.static).forEach(function(Qt){rr(Pn,Kt,Qt)}),St.forEach(function(Qt){rr(Pn,Rt,Qt)});var pn=Ln(Rt,Kt,rn,xn);return pn.shader.program&&(pn.shader.program.attributes.sort(function(Qt,en){return Qt.name<en.name?-1:1}),pn.shader.program.uniforms.sort(function(Qt,en){return Qt.name<en.name?-1:1})),function(Qt,en){var hn=Qt.proc("draw",1);cn(Qt,hn),fn(Qt,hn,en.context),Zt(Qt,hn,en.framebuffer),ln(Qt,hn,en),nn(Qt,hn,en.state),kn(Qt,hn,en,!1,!0);var gn=en.shader.progVar.append(Qt,hn);if(hn(Qt.shared.gl,".useProgram(",gn,".program);"),en.shader.program)zn(Qt,hn,en,en.shader.program);else{hn(Qt.shared.vao,".setVAO(null);");var Dn=Qt.global.def("{}"),Fn=hn.def(gn,".id"),Wn=hn.def(Dn,"[",Fn,"]");hn(Qt.cond(Wn).then(Wn,".call(this,a0);").else(Wn,"=",Dn,"[",Fn,"]=",Qt.link(function(Yn){return _n(zn,Qt,en,Yn,1)}),"(",gn,");",Wn,".call(this,a0);"))}0<Object.keys(en.state).length&&hn(Qt.shared.current,".dirty=true;"),Qt.shared.vao&&hn(Qt.shared.vao,".setVAO(null);")}(Pn,pn),fr(Pn,pn),function(Qt,en){function hn(Kn){return Kn.contextDep&&Dn||Kn.propDep}var gn=Qt.proc("batch",2);Qt.batchId="0",cn(Qt,gn);var Dn=!1,Fn=!0;Object.keys(en.context).forEach(function(Kn){Dn=Dn||en.context[Kn].propDep}),Dn||(fn(Qt,gn,en.context),Fn=!1);var Wn=!1;if((Yn=en.framebuffer)?(Yn.propDep?Dn=Wn=!0:Yn.contextDep&&Dn&&(Wn=!0),Wn||Zt(Qt,gn,Yn)):Zt(Qt,gn,null),en.state.viewport&&en.state.viewport.propDep&&(Dn=!0),ln(Qt,gn,en),nn(Qt,gn,en.state,function(Kn){return!hn(Kn)}),en.profile&&hn(en.profile)||kn(Qt,gn,en,!1,"a1"),en.contextDep=Dn,en.needsContext=Fn,en.needsFramebuffer=Wn,(Fn=en.shader.progVar).contextDep&&Dn||Fn.propDep)ar(Qt,gn,en,null);else if(Fn=Fn.append(Qt,gn),gn(Qt.shared.gl,".useProgram(",Fn,".program);"),en.shader.program)ar(Qt,gn,en,en.shader.program);else{gn(Qt.shared.vao,".setVAO(null);");var Yn=Qt.global.def("{}"),er=(Wn=gn.def(Fn,".id"),gn.def(Yn,"[",Wn,"]"));gn(Qt.cond(er).then(er,".call(this,a0,a1);").else(er,"=",Yn,"[",Wn,"]=",Qt.link(function(Kn){return _n(ar,Qt,en,Kn,2)}),"(",Fn,");",er,".call(this,a0,a1);"))}0<Object.keys(en.state).length&&gn(Qt.shared.current,".dirty=true;"),Qt.shared.vao&&gn(Qt.shared.vao,".setVAO(null);")}(Pn,pn),ee(Pn.compile(),{destroy:function(){pn.shader.program.destroy()}})}}}function K(Ue,Xe){for(var lt=0;lt<Ue.length;++lt)if(Ue[lt]===Xe)return lt;return-1}var ee=function(Ue,Xe){for(var lt=Object.keys(Xe),ot=0;ot<lt.length;++ot)Ue[lt[ot]]=Xe[lt[ot]];return Ue},re=0,ie={DynamicVariable:C,define:function(Ue,Xe){return new C(Ue,M(Xe+""))},isDynamic:function(Ue){return typeof Ue=="function"&&!Ue._reglType||Ue instanceof C},unbox:function Ue(Xe,lt){return typeof Xe=="function"?new C(0,Xe):typeof Xe=="number"||typeof Xe=="boolean"?new C(5,Xe):Array.isArray(Xe)?new C(6,Xe.map(function(ot,Be){return Ue(ot)})):Xe instanceof C?Xe:void 0},accessor:M},ae={next:typeof requestAnimationFrame=="function"?function(Ue){return requestAnimationFrame(Ue)}:function(Ue){return setTimeout(Ue,16)},cancel:typeof cancelAnimationFrame=="function"?function(Ue){return cancelAnimationFrame(Ue)}:clearTimeout},ue=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},pe=o();pe.zero=o();var de=function(Ue,Xe){var lt=1;Xe.ext_texture_filter_anisotropic&&(lt=Ue.getParameter(34047));var ot=1,Be=1;Xe.webgl_draw_buffers&&(ot=Ue.getParameter(34852),Be=Ue.getParameter(36063));var Ne=!!Xe.oes_texture_float;if(Ne){Ne=Ue.createTexture(),Ue.bindTexture(3553,Ne),Ue.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var at=Ue.createFramebuffer();if(Ue.bindFramebuffer(36160,at),Ue.framebufferTexture2D(36160,36064,3553,Ne,0),Ue.bindTexture(3553,null),Ue.checkFramebufferStatus(36160)!==36053)Ne=!1;else{Ue.viewport(0,0,1,1),Ue.clearColor(1,0,0,1),Ue.clear(16384);var $e=pe.allocType(5126,4);Ue.readPixels(0,0,1,1,6408,5126,$e),Ue.getError()?Ne=!1:(Ue.deleteFramebuffer(at),Ue.deleteTexture(Ne),Ne=$e[0]===1),pe.freeType($e)}}return $e=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||($e=Ue.createTexture(),at=pe.allocType(5121,36),Ue.activeTexture(33984),Ue.bindTexture(34067,$e),Ue.texImage2D(34069,0,6408,3,3,0,6408,5121,at),pe.freeType(at),Ue.bindTexture(34067,null),Ue.deleteTexture($e),$e=!Ue.getError()),{colorBits:[Ue.getParameter(3410),Ue.getParameter(3411),Ue.getParameter(3412),Ue.getParameter(3413)],depthBits:Ue.getParameter(3414),stencilBits:Ue.getParameter(3415),subpixelBits:Ue.getParameter(3408),extensions:Object.keys(Xe).filter(function(gt){return!!Xe[gt]}),maxAnisotropic:lt,maxDrawbuffers:ot,maxColorAttachments:Be,pointSizeDims:Ue.getParameter(33901),lineWidthDims:Ue.getParameter(33902),maxViewportDims:Ue.getParameter(3386),maxCombinedTextureUnits:Ue.getParameter(35661),maxCubeMapSize:Ue.getParameter(34076),maxRenderbufferSize:Ue.getParameter(34024),maxTextureUnits:Ue.getParameter(34930),maxTextureSize:Ue.getParameter(3379),maxAttributes:Ue.getParameter(34921),maxVertexUniforms:Ue.getParameter(36347),maxVertexTextureUnits:Ue.getParameter(35660),maxVaryingVectors:Ue.getParameter(36348),maxFragmentUniforms:Ue.getParameter(36349),glsl:Ue.getParameter(35724),renderer:Ue.getParameter(7937),vendor:Ue.getParameter(7936),version:Ue.getParameter(7938),readFloat:Ne,npotTextureCube:$e}},ye=function(Ue){return Ue instanceof Uint8Array||Ue instanceof Uint16Array||Ue instanceof Uint32Array||Ue instanceof Int8Array||Ue instanceof Int16Array||Ue instanceof Int32Array||Ue instanceof Float32Array||Ue instanceof Float64Array||Ue instanceof Uint8ClampedArray},be=function(Ue){return Object.keys(Ue).map(function(Xe){return Ue[Xe]})},me={shape:function(Ue){for(var Xe=[];Ue.length;Ue=Ue[0])Xe.push(Ue.length);return Xe},flatten:function(Ue,Xe,lt,ot){var Be=1;if(Xe.length)for(var Ne=0;Ne<Xe.length;++Ne)Be*=Xe[Ne];else Be=0;switch(lt=ot||pe.allocType(lt,Be),Xe.length){case 0:break;case 1:for(ot=Xe[0],Xe=0;Xe<ot;++Xe)lt[Xe]=Ue[Xe];break;case 2:for(ot=Xe[0],Xe=Xe[1],Ne=Be=0;Ne<ot;++Ne)for(var at=Ue[Ne],$e=0;$e<Xe;++$e)lt[Be++]=at[$e];break;case 3:i(Ue,Xe[0],Xe[1],Xe[2],lt,0);break;default:n(Ue,Xe,0,lt,0)}return lt}},Ee={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Te={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},we={dynamic:35048,stream:35040,static:35044},oe=me.flatten,se=me.shape,he=[];he[5120]=1,he[5122]=2,he[5124]=4,he[5121]=1,he[5123]=2,he[5125]=4,he[5126]=4;var Se={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},_e=new Float32Array(1),Ae=new Uint32Array(_e.buffer),Ce=[9984,9986,9985,9987],Re=[0,6409,6410,6407,6408],fe={};fe[6409]=fe[6406]=fe[6402]=1,fe[34041]=fe[6410]=2,fe[6407]=fe[35904]=3,fe[6408]=fe[35906]=4;var xe=g("HTMLCanvasElement"),ke=g("OffscreenCanvas"),Ie=g("CanvasRenderingContext2D"),Fe=g("ImageBitmap"),ze=g("HTMLImageElement"),qe=g("HTMLVideoElement"),Ye=Object.keys(Ee).concat([xe,ke,Ie,Fe,ze,qe]),Qe=[];Qe[5121]=1,Qe[5126]=4,Qe[36193]=2,Qe[5123]=2,Qe[5125]=4;var ft=[];ft[32854]=2,ft[32855]=2,ft[36194]=2,ft[34041]=4,ft[33776]=.5,ft[33777]=.5,ft[33778]=1,ft[33779]=1,ft[35986]=.5,ft[35987]=1,ft[34798]=1,ft[35840]=.5,ft[35841]=.25,ft[35842]=.5,ft[35843]=.25,ft[36196]=.5;var ht=[];ht[32854]=2,ht[32855]=2,ht[36194]=2,ht[33189]=2,ht[36168]=1,ht[34041]=4,ht[35907]=4,ht[34836]=16,ht[34842]=8,ht[34843]=6;var mt=function(Ue,Xe,lt,ot,Be){function Ne(dt){this.id=yt++,this.refCount=1,this.renderbuffer=dt,this.format=32854,this.height=this.width=0,Be.profile&&(this.stats={size:0})}function at(dt){var Lt=dt.renderbuffer;Ue.bindRenderbuffer(36161,null),Ue.deleteRenderbuffer(Lt),dt.renderbuffer=null,dt.refCount=0,delete xt[dt.id],ot.renderbufferCount--}var $e={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Xe.ext_srgb&&($e.srgba=35907),Xe.ext_color_buffer_half_float&&($e.rgba16f=34842,$e.rgb16f=34843),Xe.webgl_color_buffer_float&&($e.rgba32f=34836);var gt=[];Object.keys($e).forEach(function(dt){gt[$e[dt]]=dt});var yt=0,xt={};return Ne.prototype.decRef=function(){0>=--this.refCount&&at(this)},Be.profile&&(ot.getTotalRenderbufferSize=function(){var dt=0;return Object.keys(xt).forEach(function(Lt){dt+=xt[Lt].stats.size}),dt}),{create:function(dt,Lt){function Tt(Ct,Dt){var Bt=0,Xt=0,an=32854;if(typeof Ct=="object"&&Ct?("shape"in Ct?(Bt=0|(Xt=Ct.shape)[0],Xt=0|Xt[1]):("radius"in Ct&&(Bt=Xt=0|Ct.radius),"width"in Ct&&(Bt=0|Ct.width),"height"in Ct&&(Xt=0|Ct.height)),"format"in Ct&&(an=$e[Ct.format])):typeof Ct=="number"?(Bt=0|Ct,Xt=typeof Dt=="number"?0|Dt:Bt):Ct||(Bt=Xt=1),Bt!==bt.width||Xt!==bt.height||an!==bt.format)return Tt.width=bt.width=Bt,Tt.height=bt.height=Xt,bt.format=an,Ue.bindRenderbuffer(36161,bt.renderbuffer),Ue.renderbufferStorage(36161,an,Bt,Xt),Be.profile&&(bt.stats.size=ht[bt.format]*bt.width*bt.height),Tt.format=gt[bt.format],Tt}var bt=new Ne(Ue.createRenderbuffer());return xt[bt.id]=bt,ot.renderbufferCount++,Tt(dt,Lt),Tt.resize=function(Ct,Dt){var Bt=0|Ct,Xt=0|Dt||Bt;return Bt===bt.width&&Xt===bt.height||(Tt.width=bt.width=Bt,Tt.height=bt.height=Xt,Ue.bindRenderbuffer(36161,bt.renderbuffer),Ue.renderbufferStorage(36161,bt.format,Bt,Xt),Be.profile&&(bt.stats.size=ht[bt.format]*bt.width*bt.height)),Tt},Tt._reglType="renderbuffer",Tt._renderbuffer=bt,Be.profile&&(Tt.stats=bt.stats),Tt.destroy=function(){bt.decRef()},Tt},clear:function(){be(xt).forEach(at)},restore:function(){be(xt).forEach(function(dt){dt.renderbuffer=Ue.createRenderbuffer(),Ue.bindRenderbuffer(36161,dt.renderbuffer),Ue.renderbufferStorage(36161,dt.format,dt.width,dt.height)}),Ue.bindRenderbuffer(36161,null)}}},Mt=[];Mt[6408]=4,Mt[6407]=3;var _t=[];_t[5121]=1,_t[5126]=4,_t[36193]=2;var it=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],st=["x","y","z","w"],St="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),zt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ft={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Pt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ze={cw:2304,ccw:2305},Je=new V(!1,!1,!1,function(){});return function(Ue){function Xe(){if(Hn.length===0)Wt&&Wt.update(),Xn=null;else{Xn=ae.next(Xe),xt();for(var Gt=Hn.length-1;0<=Gt;--Gt){var tn=Hn[Gt];tn&&tn(Ln,null,0)}Tt.flush(),Wt&&Wt.update()}}function lt(){!Xn&&0<Hn.length&&(Xn=ae.next(Xe))}function ot(){Xn&&(ae.cancel(Xe),Xn=null)}function Be(Gt){Gt.preventDefault(),ot(),ar.forEach(function(tn){tn()})}function Ne(Gt){Tt.getError(),Ct.restore(),cn.restore(),Zt.restore(),kn.restore(),An.restore(),wn.restore(),nn.restore(),Wt&&Wt.restore(),Cn.procs.refresh(),lt(),fr.forEach(function(tn){tn()})}function at(Gt){function tn(Rt,Kt){var rn={},xn={};return Object.keys(Rt).forEach(function(Tn){var Pn=Rt[Tn];if(ie.isDynamic(Pn))xn[Tn]=ie.unbox(Pn,Tn);else{if(Kt&&Array.isArray(Pn)){for(var pn=0;pn<Pn.length;++pn)if(ie.isDynamic(Pn[pn]))return void(xn[Tn]=ie.unbox(Pn,Tn))}rn[Tn]=Pn}}),{dynamic:xn,static:rn}}var dn=tn(Gt.context||{},!0),vn=tn(Gt.uniforms||{},!0),On=tn(Gt.attributes||{},!1);Gt=tn(function(Rt){function Kt(xn){if(xn in rn){var Tn=rn[xn];delete rn[xn],Object.keys(Tn).forEach(function(Pn){rn[xn+"."+Pn]=Tn[Pn]})}}var rn=ee({},Rt);return delete rn.uniforms,delete rn.attributes,delete rn.context,delete rn.vao,"stencil"in rn&&rn.stencil.op&&(rn.stencil.opBack=rn.stencil.opFront=rn.stencil.op,delete rn.stencil.op),Kt("blend"),Kt("depth"),Kt("cull"),Kt("stencil"),Kt("polygonOffset"),Kt("scissor"),Kt("sample"),"vao"in Rt&&(rn.vao=Rt.vao),rn}(Gt),!1);var Vn={gpuTime:0,cpuTime:0,count:0},Bn=Cn.compile(Gt,On,vn,dn,Vn),Un=Bn.draw,tr=Bn.batch,$t=Bn.scope,bn=[];return ee(function(Rt,Kt){var rn;if(typeof Rt=="function")return $t.call(this,null,Rt,0);if(typeof Kt=="function")if(typeof Rt=="number")for(rn=0;rn<Rt;++rn)$t.call(this,null,Kt,rn);else{if(!Array.isArray(Rt))return $t.call(this,Rt,Kt,0);for(rn=0;rn<Rt.length;++rn)$t.call(this,Rt[rn],Kt,rn)}else if(typeof Rt=="number"){if(0<Rt)return tr.call(this,function(xn){for(;bn.length<xn;)bn.push(null);return bn}(0|Rt),0|Rt)}else{if(!Array.isArray(Rt))return Un.call(this,Rt);if(Rt.length)return tr.call(this,Rt,Rt.length)}},{stats:Vn,destroy:function(){Bn.destroy()}})}function $e(Gt,tn){var dn=0;Cn.procs.poll();var vn=tn.color;vn&&(Tt.clearColor(+vn[0]||0,+vn[1]||0,+vn[2]||0,+vn[3]||0),dn|=16384),"depth"in tn&&(Tt.clearDepth(+tn.depth),dn|=256),"stencil"in tn&&(Tt.clearStencil(0|tn.stencil),dn|=1024),Tt.clear(dn)}function gt(Gt){return Hn.push(Gt),lt(),{cancel:function(){var tn=K(Hn,Gt);Hn[tn]=function dn(){var vn=K(Hn,dn);Hn[vn]=Hn[Hn.length-1],--Hn.length,0>=Hn.length&&ot()}}}}function yt(){var Gt=_n.viewport,tn=_n.scissor_box;Gt[0]=Gt[1]=tn[0]=tn[1]=0,Ln.viewportWidth=Ln.framebufferWidth=Ln.drawingBufferWidth=Gt[2]=tn[2]=Tt.drawingBufferWidth,Ln.viewportHeight=Ln.framebufferHeight=Ln.drawingBufferHeight=Gt[3]=tn[3]=Tt.drawingBufferHeight}function xt(){Ln.tick+=1,Ln.time=Lt(),yt(),Cn.procs.poll()}function dt(){kn.refresh(),yt(),Cn.procs.refresh(),Wt&&Wt.update()}function Lt(){return(ue()-Vt)/1e3}if(!(Ue=_(Ue)))return null;var Tt=Ue.gl,bt=Tt.getContextAttributes();Tt.isContextLost();var Ct=function(Gt,tn){function dn(Bn){var Un;Bn=Bn.toLowerCase();try{Un=vn[Bn]=Gt.getExtension(Bn)}catch{}return!!Un}for(var vn={},On=0;On<tn.extensions.length;++On){var Vn=tn.extensions[On];if(!dn(Vn))return tn.onDestroy(),tn.onDone('"'+Vn+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return tn.optionalExtensions.forEach(dn),{extensions:vn,restore:function(){Object.keys(vn).forEach(function(Bn){if(vn[Bn]&&!dn(Bn))throw Error("(regl): error restoring extension "+Bn)})}}}(Tt,Ue);if(!Ct)return null;var Dt=function(){var Gt={"":0},tn=[""];return{id:function(dn){var vn=Gt[dn];return vn||(vn=Gt[dn]=tn.length,tn.push(dn),vn)},str:function(dn){return tn[dn]}}}(),Bt={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Xt=Ue.cachedCode||{},an=Ct.extensions,Wt=function(Gt,tn){function dn(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function vn(bn,Rt,Kt){var rn=Bn.pop()||new dn;rn.startQueryIndex=bn,rn.endQueryIndex=Rt,rn.sum=0,rn.stats=Kt,Un.push(rn)}if(!tn.ext_disjoint_timer_query)return null;var On=[],Vn=[],Bn=[],Un=[],tr=[],$t=[];return{beginQuery:function(bn){var Rt=On.pop()||tn.ext_disjoint_timer_query.createQueryEXT();tn.ext_disjoint_timer_query.beginQueryEXT(35007,Rt),Vn.push(Rt),vn(Vn.length-1,Vn.length,bn)},endQuery:function(){tn.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:vn,update:function(){var bn,Rt;if((bn=Vn.length)!==0){$t.length=Math.max($t.length,bn+1),tr.length=Math.max(tr.length,bn+1),tr[0]=0;var Kt=$t[0]=0;for(Rt=bn=0;Rt<Vn.length;++Rt){var rn=Vn[Rt];tn.ext_disjoint_timer_query.getQueryObjectEXT(rn,34919)?(Kt+=tn.ext_disjoint_timer_query.getQueryObjectEXT(rn,34918),On.push(rn)):Vn[bn++]=rn,tr[Rt+1]=Kt,$t[Rt+1]=bn}for(Vn.length=bn,Rt=bn=0;Rt<Un.length;++Rt){var xn=(Kt=Un[Rt]).startQueryIndex;rn=Kt.endQueryIndex,Kt.sum+=tr[rn]-tr[xn],xn=$t[xn],(rn=$t[rn])===xn?(Kt.stats.gpuTime+=Kt.sum/1e6,Bn.push(Kt)):(Kt.startQueryIndex=xn,Kt.endQueryIndex=rn,Un[bn++]=Kt)}Un.length=bn}},getNumPendingQueries:function(){return Vn.length},clear:function(){On.push.apply(On,Vn);for(var bn=0;bn<On.length;bn++)tn.ext_disjoint_timer_query.deleteQueryEXT(On[bn]);Vn.length=0,On.length=0},restore:function(){Vn.length=0,On.length=0}}}(0,an),Vt=ue(),on=Tt.drawingBufferWidth,Sn=Tt.drawingBufferHeight,Ln={tick:0,time:0,viewportWidth:on,viewportHeight:Sn,framebufferWidth:on,framebufferHeight:Sn,drawingBufferWidth:on,drawingBufferHeight:Sn,pixelRatio:Ue.pixelRatio},fn=(on={elements:null,primitive:4,count:-1,offset:0,instances:-1},de(Tt,an)),Zt=u(Tt,Bt,Ue,function(Gt){return nn.destroyBuffer(Gt)}),ln=p(Tt,an,Zt,Bt),nn=O(Tt,an,fn,Bt,Zt,ln,on),cn=P(Tt,Dt,Bt,Ue),kn=S(Tt,an,fn,function(){Cn.procs.poll()},Ln,Bt,Ue),An=mt(Tt,an,0,Bt,Ue),wn=T(Tt,an,fn,kn,An,Bt),Cn=X(Tt,Dt,an,fn,Zt,ln,0,wn,{},nn,cn,on,Ln,Wt,Xt,Ue),_n=(Dt=I(Tt,wn,Cn.procs.poll,Ln),Cn.next),zn=Tt.canvas,Hn=[],ar=[],fr=[],rr=[Ue.onDestroy],Xn=null;zn&&(zn.addEventListener("webglcontextlost",Be,!1),zn.addEventListener("webglcontextrestored",Ne,!1));var gr=wn.setFBO=at({framebuffer:ie.define.call(null,1,"framebuffer")});return dt(),bt=ee(at,{clear:function(Gt){if("framebuffer"in Gt)if(Gt.framebuffer&&Gt.framebuffer_reglType==="framebufferCube")for(var tn=0;6>tn;++tn)gr(ee({framebuffer:Gt.framebuffer.faces[tn]},Gt),$e);else gr(Gt,$e);else $e(0,Gt)},prop:ie.define.bind(null,1),context:ie.define.bind(null,2),this:ie.define.bind(null,3),draw:at({}),buffer:function(Gt){return Zt.create(Gt,34962,!1,!1)},elements:function(Gt){return ln.create(Gt,!1)},texture:kn.create2D,cube:kn.createCube,renderbuffer:An.create,framebuffer:wn.create,framebufferCube:wn.createCube,vao:nn.createVAO,attributes:bt,frame:gt,on:function(Gt,tn){var dn;switch(Gt){case"frame":return gt(tn);case"lost":dn=ar;break;case"restore":dn=fr;break;case"destroy":dn=rr}return dn.push(tn),{cancel:function(){for(var vn=0;vn<dn.length;++vn)if(dn[vn]===tn){dn[vn]=dn[dn.length-1],dn.pop();break}}}},limits:fn,hasExtension:function(Gt){return 0<=fn.extensions.indexOf(Gt.toLowerCase())},read:Dt,destroy:function(){Hn.length=0,ot(),zn&&(zn.removeEventListener("webglcontextlost",Be),zn.removeEventListener("webglcontextrestored",Ne)),cn.clear(),wn.clear(),An.clear(),nn.clear(),kn.clear(),ln.clear(),Zt.clear(),Wt&&Wt.clear(),rr.forEach(function(Gt){Gt()})},_gl:Tt,_refresh:dt,poll:function(){xt(),Wt&&Wt.update()},now:Lt,stats:Bt,getCachedCode:function(){return Xt},preloadCachedCode:function(Gt){Object.entries(Gt).forEach(function(tn){Xt[tn[0]]=tn[1]})}}),Ue.onDone(null,bt),bt}}()},71665:function(q,C,e){var M=e(12856),k=M.Buffer;function a(b,h){for(var o in b)h[o]=b[o]}function _(b,h,o){return k(b,h,o)}k.from&&k.alloc&&k.allocUnsafe&&k.allocUnsafeSlow?q.exports=M:(a(M,C),C.Buffer=_),_.prototype=Object.create(k.prototype),a(k,_),_.from=function(b,h,o){if(typeof b=="number")throw new TypeError("Argument must not be a number");return k(b,h,o)},_.alloc=function(b,h,o){if(typeof b!="number")throw new TypeError("Argument must be a number");var t=k(b);return h!==void 0?typeof o=="string"?t.fill(h,o):t.fill(h):t.fill(0),t},_.allocUnsafe=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return k(b)},_.allocUnsafeSlow=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return M.SlowBuffer(b)}},21630:function(q,C,e){q.exports=k;var M=e(15398).EventEmitter;function k(){M.call(this)}e(42018)(k,M),k.Readable=e(40410),k.Writable=e(37493),k.Duplex=e(37865),k.Transform=e(74308),k.PassThrough=e(66897),k.finished=e(12726),k.pipeline=e(10168),k.Stream=k,k.prototype.pipe=function(a,_){var b=this;function h(s){a.writable&&a.write(s)===!1&&b.pause&&b.pause()}function o(){b.readable&&b.resume&&b.resume()}b.on("data",h),a.on("drain",o),a._isStdio||_&&_.end===!1||(b.on("end",i),b.on("close",n));var t=!1;function i(){t||(t=!0,a.end())}function n(){t||(t=!0,typeof a.destroy=="function"&&a.destroy())}function r(s){if(l(),M.listenerCount(this,"error")===0)throw s}function l(){b.removeListener("data",h),a.removeListener("drain",o),b.removeListener("end",i),b.removeListener("close",n),b.removeListener("error",r),a.removeListener("error",r),b.removeListener("end",l),b.removeListener("close",l),a.removeListener("close",l)}return b.on("error",r),a.on("error",r),b.on("end",l),b.on("close",l),a.on("close",l),a.emit("pipe",b),a}},74322:function(q){var C={};function e(k,a,_){_||(_=Error);var b=function(h){var o,t;function i(n,r,l){return h.call(this,function(s,u,p){return typeof a=="string"?a:a(s,u,p)}(n,r,l))||this}return t=h,(o=i).prototype=Object.create(t.prototype),o.prototype.constructor=o,o.__proto__=t,i}(_);b.prototype.name=_.name,b.prototype.code=k,C[k]=b}function M(k,a){if(Array.isArray(k)){var _=k.length;return k=k.map(function(b){return String(b)}),_>2?"one of ".concat(a," ").concat(k.slice(0,_-1).join(", "),", or ")+k[_-1]:_===2?"one of ".concat(a," ").concat(k[0]," or ").concat(k[1]):"of ".concat(a," ").concat(k[0])}return"of ".concat(a," ").concat(String(k))}e("ERR_INVALID_OPT_VALUE",function(k,a){return'The value "'+a+'" is invalid for option "'+k+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(k,a,_){var b,h,o,t,i;if(typeof a=="string"&&(h="not ",a.substr(0,4)===h)?(b="must not be",a=a.replace(/^not /,"")):b="must be",function(r,l,s){return(s===void 0||s>r.length)&&(s=r.length),r.substring(s-9,s)===l}(k," argument"))o="The ".concat(k," ").concat(b," ").concat(M(a,"type"));else{var n=(typeof i!="number"&&(i=0),i+1>(t=k).length||t.indexOf(".",i)===-1?"argument":"property");o='The "'.concat(k,'" ').concat(n," ").concat(b," ").concat(M(a,"type"))}return o+". Received type ".concat(typeof _)},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(k){return"The "+k+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(k){return"Cannot call "+k+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(k){return"Unknown encoding: "+k},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),q.exports.q=C},37865:function(q,C,e){var M=e(90386),k=Object.keys||function(r){var l=[];for(var s in r)l.push(s);return l};q.exports=t;var a=e(40410),_=e(37493);e(42018)(t,a);for(var b=k(_.prototype),h=0;h<b.length;h++){var o=b[h];t.prototype[o]||(t.prototype[o]=_.prototype[o])}function t(r){if(!(this instanceof t))return new t(r);a.call(this,r),_.call(this,r),this.allowHalfOpen=!0,r&&(r.readable===!1&&(this.readable=!1),r.writable===!1&&(this.writable=!1),r.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",i)))}function i(){this._writableState.ended||M.nextTick(n,this)}function n(r){r.end()}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(r){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=r,this._writableState.destroyed=r)}})},66897:function(q,C,e){q.exports=k;var M=e(74308);function k(a){if(!(this instanceof k))return new k(a);M.call(this,a)}e(42018)(k,M),k.prototype._transform=function(a,_,b){b(null,a)}},40410:function(q,C,e){var M,k=e(90386);q.exports=w,w.ReadableState=m,e(15398).EventEmitter;var a,_=function(Q,J){return Q.listeners(J).length},b=e(71405),h=e(12856).Buffer,o=e.g.Uint8Array||function(){},t=e(40964);a=t&&t.debuglog?t.debuglog("stream"):function(){};var i,n,r,l=e(31125),s=e(65756),u=e(56306).getHighWaterMark,p=e(74322).q,c=p.ERR_INVALID_ARG_TYPE,x=p.ERR_STREAM_PUSH_AFTER_EOF,g=p.ERR_METHOD_NOT_IMPLEMENTED,d=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e(42018)(w,b);var v=s.errorOrDestroy,y=["error","close","destroy","pause","resume"];function m(Q,J,X){M=M||e(37865),Q=Q||{},typeof X!="boolean"&&(X=J instanceof M),this.objectMode=!!Q.objectMode,X&&(this.objectMode=this.objectMode||!!Q.readableObjectMode),this.highWaterMark=u(this,Q,"readableHighWaterMark",X),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.destroyed=!1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Q.encoding&&(i||(i=e(68019).s),this.decoder=new i(Q.encoding),this.encoding=Q.encoding)}function w(Q){if(M=M||e(37865),!(this instanceof w))return new w(Q);var J=this instanceof M;this._readableState=new m(Q,this,J),this.readable=!0,Q&&(typeof Q.read=="function"&&(this._read=Q.read),typeof Q.destroy=="function"&&(this._destroy=Q.destroy)),b.call(this)}function f(Q,J,X,K,ee){a("readableAddChunk",J);var re,ie=Q._readableState;if(J===null)ie.reading=!1,function(ae,ue){if(a("onEofChunk"),!ue.ended){if(ue.decoder){var pe=ue.decoder.end();pe&&pe.length&&(ue.buffer.push(pe),ue.length+=ue.objectMode?1:pe.length)}ue.ended=!0,ue.sync?O(ae):(ue.needReadable=!1,ue.emittedReadable||(ue.emittedReadable=!0,P(ae)))}}(Q,ie);else if(ee||(re=function(ae,ue){var pe,de;return de=ue,h.isBuffer(de)||de instanceof o||typeof ue=="string"||ue===void 0||ae.objectMode||(pe=new c("chunk",["string","Buffer","Uint8Array"],ue)),pe}(ie,J)),re)v(Q,re);else if(ie.objectMode||J&&J.length>0)if(typeof J=="string"||ie.objectMode||Object.getPrototypeOf(J)===h.prototype||(J=function(ae){return h.from(ae)}(J)),K)ie.endEmitted?v(Q,new d):S(Q,ie,J,!0);else if(ie.ended)v(Q,new x);else{if(ie.destroyed)return!1;ie.reading=!1,ie.decoder&&!X?(J=ie.decoder.write(J),ie.objectMode||J.length!==0?S(Q,ie,J,!1):I(Q,ie)):S(Q,ie,J,!1)}else K||(ie.reading=!1,I(Q,ie));return!ie.ended&&(ie.length<ie.highWaterMark||ie.length===0)}function S(Q,J,X,K){J.flowing&&J.length===0&&!J.sync?(J.awaitDrain=0,Q.emit("data",X)):(J.length+=J.objectMode?1:X.length,K?J.buffer.unshift(X):J.buffer.push(X),J.needReadable&&O(Q)),I(Q,J)}Object.defineProperty(w.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Q){this._readableState&&(this._readableState.destroyed=Q)}}),w.prototype.destroy=s.destroy,w.prototype._undestroy=s.undestroy,w.prototype._destroy=function(Q,J){J(Q)},w.prototype.push=function(Q,J){var X,K=this._readableState;return K.objectMode?X=!0:typeof Q=="string"&&((J=J||K.defaultEncoding)!==K.encoding&&(Q=h.from(Q,J),J=""),X=!0),f(this,Q,J,!1,X)},w.prototype.unshift=function(Q){return f(this,Q,null,!0,!1)},w.prototype.isPaused=function(){return this._readableState.flowing===!1},w.prototype.setEncoding=function(Q){i||(i=e(68019).s);var J=new i(Q);this._readableState.decoder=J,this._readableState.encoding=this._readableState.decoder.encoding;for(var X=this._readableState.buffer.head,K="";X!==null;)K+=J.write(X.data),X=X.next;return this._readableState.buffer.clear(),K!==""&&this._readableState.buffer.push(K),this._readableState.length=K.length,this};var T=1073741824;function E(Q,J){return Q<=0||J.length===0&&J.ended?0:J.objectMode?1:Q!=Q?J.flowing&&J.length?J.buffer.head.data.length:J.length:(Q>J.highWaterMark&&(J.highWaterMark=function(X){return X>=T?X=T:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X}(Q)),Q<=J.length?Q:J.ended?J.length:(J.needReadable=!0,0))}function O(Q){var J=Q._readableState;a("emitReadable",J.needReadable,J.emittedReadable),J.needReadable=!1,J.emittedReadable||(a("emitReadable",J.flowing),J.emittedReadable=!0,k.nextTick(P,Q))}function P(Q){var J=Q._readableState;a("emitReadable_",J.destroyed,J.length,J.ended),J.destroyed||!J.length&&!J.ended||(Q.emit("readable"),J.emittedReadable=!1),J.needReadable=!J.flowing&&!J.ended&&J.length<=J.highWaterMark,Z(Q)}function I(Q,J){J.readingMore||(J.readingMore=!0,k.nextTick(z,Q,J))}function z(Q,J){for(;!J.reading&&!J.ended&&(J.length<J.highWaterMark||J.flowing&&J.length===0);){var X=J.length;if(a("maybeReadMore read 0"),Q.read(0),X===J.length)break}J.readingMore=!1}function j(Q){var J=Q._readableState;J.readableListening=Q.listenerCount("readable")>0,J.resumeScheduled&&!J.paused?J.flowing=!0:Q.listenerCount("data")>0&&Q.resume()}function R(Q){a("readable nexttick read 0"),Q.read(0)}function N(Q,J){a("resume",J.reading),J.reading||Q.read(0),J.resumeScheduled=!1,Q.emit("resume"),Z(Q),J.flowing&&!J.reading&&Q.read(0)}function Z(Q){var J=Q._readableState;for(a("flow",J.flowing);J.flowing&&Q.read()!==null;);}function F(Q,J){return J.length===0?null:(J.objectMode?X=J.buffer.shift():!Q||Q>=J.length?(X=J.decoder?J.buffer.join(""):J.buffer.length===1?J.buffer.first():J.buffer.concat(J.length),J.buffer.clear()):X=J.buffer.consume(Q,J.decoder),X);var X}function U(Q){var J=Q._readableState;a("endReadable",J.endEmitted),J.endEmitted||(J.ended=!0,k.nextTick(V,J,Q))}function V(Q,J){if(a("endReadableNT",Q.endEmitted,Q.length),!Q.endEmitted&&Q.length===0&&(Q.endEmitted=!0,J.readable=!1,J.emit("end"),Q.autoDestroy)){var X=J._writableState;(!X||X.autoDestroy&&X.finished)&&J.destroy()}}function te(Q,J){for(var X=0,K=Q.length;X<K;X++)if(Q[X]===J)return X;return-1}w.prototype.read=function(Q){a("read",Q),Q=parseInt(Q,10);var J=this._readableState,X=Q;if(Q!==0&&(J.emittedReadable=!1),Q===0&&J.needReadable&&((J.highWaterMark!==0?J.length>=J.highWaterMark:J.length>0)||J.ended))return a("read: emitReadable",J.length,J.ended),J.length===0&&J.ended?U(this):O(this),null;if((Q=E(Q,J))===0&&J.ended)return J.length===0&&U(this),null;var K,ee=J.needReadable;return a("need readable",ee),(J.length===0||J.length-Q<J.highWaterMark)&&a("length less than watermark",ee=!0),J.ended||J.reading?a("reading or ended",ee=!1):ee&&(a("do read"),J.reading=!0,J.sync=!0,J.length===0&&(J.needReadable=!0),this._read(J.highWaterMark),J.sync=!1,J.reading||(Q=E(X,J))),(K=Q>0?F(Q,J):null)===null?(J.needReadable=J.length<=J.highWaterMark,Q=0):(J.length-=Q,J.awaitDrain=0),J.length===0&&(J.ended||(J.needReadable=!0),X!==Q&&J.ended&&U(this)),K!==null&&this.emit("data",K),K},w.prototype._read=function(Q){v(this,new g("_read()"))},w.prototype.pipe=function(Q,J){var X=this,K=this._readableState;switch(K.pipesCount){case 0:K.pipes=Q;break;case 1:K.pipes=[K.pipes,Q];break;default:K.pipes.push(Q)}K.pipesCount+=1,a("pipe count=%d opts=%j",K.pipesCount,J);var ee=J&&J.end===!1||Q===k.stdout||Q===k.stderr?be:re;function re(){a("onend"),Q.end()}K.endEmitted?k.nextTick(ee):X.once("end",ee),Q.on("unpipe",function me(Ee,Te){a("onunpipe"),Ee===X&&Te&&Te.hasUnpiped===!1&&(Te.hasUnpiped=!0,a("cleanup"),Q.removeListener("close",de),Q.removeListener("finish",ye),Q.removeListener("drain",ie),Q.removeListener("error",pe),Q.removeListener("unpipe",me),X.removeListener("end",re),X.removeListener("end",be),X.removeListener("data",ue),ae=!0,!K.awaitDrain||Q._writableState&&!Q._writableState.needDrain||ie())});var ie=function(me){return function(){var Ee=me._readableState;a("pipeOnDrain",Ee.awaitDrain),Ee.awaitDrain&&Ee.awaitDrain--,Ee.awaitDrain===0&&_(me,"data")&&(Ee.flowing=!0,Z(me))}}(X);Q.on("drain",ie);var ae=!1;function ue(me){a("ondata");var Ee=Q.write(me);a("dest.write",Ee),Ee===!1&&((K.pipesCount===1&&K.pipes===Q||K.pipesCount>1&&te(K.pipes,Q)!==-1)&&!ae&&(a("false write response, pause",K.awaitDrain),K.awaitDrain++),X.pause())}function pe(me){a("onerror",me),be(),Q.removeListener("error",pe),_(Q,"error")===0&&v(Q,me)}function de(){Q.removeListener("finish",ye),be()}function ye(){a("onfinish"),Q.removeListener("close",de),be()}function be(){a("unpipe"),X.unpipe(Q)}return X.on("data",ue),function(me,Ee,Te){if(typeof me.prependListener=="function")return me.prependListener(Ee,Te);me._events&&me._events[Ee]?Array.isArray(me._events[Ee])?me._events[Ee].unshift(Te):me._events[Ee]=[Te,me._events[Ee]]:me.on(Ee,Te)}(Q,"error",pe),Q.once("close",de),Q.once("finish",ye),Q.emit("pipe",X),K.flowing||(a("pipe resume"),X.resume()),Q},w.prototype.unpipe=function(Q){var J=this._readableState,X={hasUnpiped:!1};if(J.pipesCount===0)return this;if(J.pipesCount===1)return Q&&Q!==J.pipes||(Q||(Q=J.pipes),J.pipes=null,J.pipesCount=0,J.flowing=!1,Q&&Q.emit("unpipe",this,X)),this;if(!Q){var K=J.pipes,ee=J.pipesCount;J.pipes=null,J.pipesCount=0,J.flowing=!1;for(var re=0;re<ee;re++)K[re].emit("unpipe",this,{hasUnpiped:!1});return this}var ie=te(J.pipes,Q);return ie===-1||(J.pipes.splice(ie,1),J.pipesCount-=1,J.pipesCount===1&&(J.pipes=J.pipes[0]),Q.emit("unpipe",this,X)),this},w.prototype.on=function(Q,J){var X=b.prototype.on.call(this,Q,J),K=this._readableState;return Q==="data"?(K.readableListening=this.listenerCount("readable")>0,K.flowing!==!1&&this.resume()):Q==="readable"&&(K.endEmitted||K.readableListening||(K.readableListening=K.needReadable=!0,K.flowing=!1,K.emittedReadable=!1,a("on readable",K.length,K.reading),K.length?O(this):K.reading||k.nextTick(R,this))),X},w.prototype.addListener=w.prototype.on,w.prototype.removeListener=function(Q,J){var X=b.prototype.removeListener.call(this,Q,J);return Q==="readable"&&k.nextTick(j,this),X},w.prototype.removeAllListeners=function(Q){var J=b.prototype.removeAllListeners.apply(this,arguments);return Q!=="readable"&&Q!==void 0||k.nextTick(j,this),J},w.prototype.resume=function(){var Q=this._readableState;return Q.flowing||(a("resume"),Q.flowing=!Q.readableListening,function(J,X){X.resumeScheduled||(X.resumeScheduled=!0,k.nextTick(N,J,X))}(this,Q)),Q.paused=!1,this},w.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},w.prototype.wrap=function(Q){var J=this,X=this._readableState,K=!1;for(var ee in Q.on("end",function(){if(a("wrapped end"),X.decoder&&!X.ended){var ie=X.decoder.end();ie&&ie.length&&J.push(ie)}J.push(null)}),Q.on("data",function(ie){a("wrapped data"),X.decoder&&(ie=X.decoder.write(ie)),X.objectMode&&ie==null||(X.objectMode||ie&&ie.length)&&(J.push(ie)||(K=!0,Q.pause()))}),Q)this[ee]===void 0&&typeof Q[ee]=="function"&&(this[ee]=function(ie){return function(){return Q[ie].apply(Q,arguments)}}(ee));for(var re=0;re<y.length;re++)Q.on(y[re],this.emit.bind(this,y[re]));return this._read=function(ie){a("wrapped _read",ie),K&&(K=!1,Q.resume())},this},typeof Symbol=="function"&&(w.prototype[Symbol.asyncIterator]=function(){return n===void 0&&(n=e(68221)),n(this)}),Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(w.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(w.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Q){this._readableState&&(this._readableState.flowing=Q)}}),w._fromList=F,Object.defineProperty(w.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(w.from=function(Q,J){return r===void 0&&(r=e(31748)),r(w,Q,J)})},74308:function(q,C,e){q.exports=t;var M=e(74322).q,k=M.ERR_METHOD_NOT_IMPLEMENTED,a=M.ERR_MULTIPLE_CALLBACK,_=M.ERR_TRANSFORM_ALREADY_TRANSFORMING,b=M.ERR_TRANSFORM_WITH_LENGTH_0,h=e(37865);function o(r,l){var s=this._transformState;s.transforming=!1;var u=s.writecb;if(u===null)return this.emit("error",new a);s.writechunk=null,s.writecb=null,l!=null&&this.push(l),u(r);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function t(r){if(!(this instanceof t))return new t(r);h.call(this,r),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&(typeof r.transform=="function"&&(this._transform=r.transform),typeof r.flush=="function"&&(this._flush=r.flush)),this.on("prefinish",i)}function i(){var r=this;typeof this._flush!="function"||this._readableState.destroyed?n(this,null,null):this._flush(function(l,s){n(r,l,s)})}function n(r,l,s){if(l)return r.emit("error",l);if(s!=null&&r.push(s),r._writableState.length)throw new b;if(r._transformState.transforming)throw new _;return r.push(null)}e(42018)(t,h),t.prototype.push=function(r,l){return this._transformState.needTransform=!1,h.prototype.push.call(this,r,l)},t.prototype._transform=function(r,l,s){s(new k("_transform()"))},t.prototype._write=function(r,l,s){var u=this._transformState;if(u.writecb=s,u.writechunk=r,u.writeencoding=l,!u.transforming){var p=this._readableState;(u.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},t.prototype._read=function(r){var l=this._transformState;l.writechunk===null||l.transforming?l.needTransform=!0:(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform))},t.prototype._destroy=function(r,l){h.prototype._destroy.call(this,r,function(s){l(s)})}},37493:function(q,C,e){var M,k=e(90386);function a(I){var z=this;this.next=null,this.entry=null,this.finish=function(){(function(j,R,N){var Z=j.entry;for(j.entry=null;Z;){var F=Z.callback;R.pendingcb--,F(void 0),Z=Z.next}R.corkedRequestsFree.next=j})(z,I)}}q.exports=w,w.WritableState=m;var _,b={deprecate:e(20588)},h=e(71405),o=e(12856).Buffer,t=e.g.Uint8Array||function(){},i=e(65756),n=e(56306).getHighWaterMark,r=e(74322).q,l=r.ERR_INVALID_ARG_TYPE,s=r.ERR_METHOD_NOT_IMPLEMENTED,u=r.ERR_MULTIPLE_CALLBACK,p=r.ERR_STREAM_CANNOT_PIPE,c=r.ERR_STREAM_DESTROYED,x=r.ERR_STREAM_NULL_VALUES,g=r.ERR_STREAM_WRITE_AFTER_END,d=r.ERR_UNKNOWN_ENCODING,v=i.errorOrDestroy;function y(){}function m(I,z,j){M=M||e(37865),I=I||{},typeof j!="boolean"&&(j=z instanceof M),this.objectMode=!!I.objectMode,j&&(this.objectMode=this.objectMode||!!I.writableObjectMode),this.highWaterMark=n(this,I,"writableHighWaterMark",j),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var R=I.decodeStrings===!1;this.decodeStrings=!R,this.defaultEncoding=I.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(N){(function(Z,F){var U=Z._writableState,V=U.sync,te=U.writecb;if(typeof te!="function")throw new u;if(function(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}(U),F)(function(J,X,K,ee,re){--X.pendingcb,K?(k.nextTick(re,ee),k.nextTick(P,J,X),J._writableState.errorEmitted=!0,v(J,ee)):(re(ee),J._writableState.errorEmitted=!0,v(J,ee),P(J,X))})(Z,U,V,F,te);else{var Q=E(U)||Z.destroyed;Q||U.corked||U.bufferProcessing||!U.bufferedRequest||T(Z,U),V?k.nextTick(S,Z,U,Q,te):S(Z,U,Q,te)}})(z,N)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function w(I){var z=this instanceof(M=M||e(37865));if(!z&&!_.call(w,this))return new w(I);this._writableState=new m(I,this,z),this.writable=!0,I&&(typeof I.write=="function"&&(this._write=I.write),typeof I.writev=="function"&&(this._writev=I.writev),typeof I.destroy=="function"&&(this._destroy=I.destroy),typeof I.final=="function"&&(this._final=I.final)),h.call(this)}function f(I,z,j,R,N,Z,F){z.writelen=R,z.writecb=F,z.writing=!0,z.sync=!0,z.destroyed?z.onwrite(new c("write")):j?I._writev(N,z.onwrite):I._write(N,Z,z.onwrite),z.sync=!1}function S(I,z,j,R){j||function(N,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,N.emit("drain"))}(I,z),z.pendingcb--,R(),P(I,z)}function T(I,z){z.bufferProcessing=!0;var j=z.bufferedRequest;if(I._writev&&j&&j.next){var R=z.bufferedRequestCount,N=new Array(R),Z=z.corkedRequestsFree;Z.entry=j;for(var F=0,U=!0;j;)N[F]=j,j.isBuf||(U=!1),j=j.next,F+=1;N.allBuffers=U,f(I,z,!0,z.length,N,"",Z.finish),z.pendingcb++,z.lastBufferedRequest=null,Z.next?(z.corkedRequestsFree=Z.next,Z.next=null):z.corkedRequestsFree=new a(z),z.bufferedRequestCount=0}else{for(;j;){var V=j.chunk,te=j.encoding,Q=j.callback;if(f(I,z,!1,z.objectMode?1:V.length,V,te,Q),j=j.next,z.bufferedRequestCount--,z.writing)break}j===null&&(z.lastBufferedRequest=null)}z.bufferedRequest=j,z.bufferProcessing=!1}function E(I){return I.ending&&I.length===0&&I.bufferedRequest===null&&!I.finished&&!I.writing}function O(I,z){I._final(function(j){z.pendingcb--,j&&v(I,j),z.prefinished=!0,I.emit("prefinish"),P(I,z)})}function P(I,z){var j=E(z);if(j&&(function(N,Z){Z.prefinished||Z.finalCalled||(typeof N._final!="function"||Z.destroyed?(Z.prefinished=!0,N.emit("prefinish")):(Z.pendingcb++,Z.finalCalled=!0,k.nextTick(O,N,Z)))}(I,z),z.pendingcb===0&&(z.finished=!0,I.emit("finish"),z.autoDestroy))){var R=I._readableState;(!R||R.autoDestroy&&R.endEmitted)&&I.destroy()}return j}e(42018)(w,h),m.prototype.getBuffer=function(){for(var I=this.bufferedRequest,z=[];I;)z.push(I),I=I.next;return z},function(){try{Object.defineProperty(m.prototype,"buffer",{get:b.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(I){return!!_.call(this,I)||this===w&&I&&I._writableState instanceof m}})):_=function(I){return I instanceof this},w.prototype.pipe=function(){v(this,new p)},w.prototype.write=function(I,z,j){var R,N=this._writableState,Z=!1,F=!N.objectMode&&(R=I,o.isBuffer(R)||R instanceof t);return F&&!o.isBuffer(I)&&(I=function(U){return o.from(U)}(I)),typeof z=="function"&&(j=z,z=null),F?z="buffer":z||(z=N.defaultEncoding),typeof j!="function"&&(j=y),N.ending?function(U,V){var te=new g;v(U,te),k.nextTick(V,te)}(this,j):(F||function(U,V,te,Q){var J;return te===null?J=new x:typeof te=="string"||V.objectMode||(J=new l("chunk",["string","Buffer"],te)),!J||(v(U,J),k.nextTick(Q,J),!1)}(this,N,I,j))&&(N.pendingcb++,Z=function(U,V,te,Q,J,X){if(!te){var K=function(ae,ue,pe){return ae.objectMode||ae.decodeStrings===!1||typeof ue!="string"||(ue=o.from(ue,pe)),ue}(V,Q,J);Q!==K&&(te=!0,J="buffer",Q=K)}var ee=V.objectMode?1:Q.length;V.length+=ee;var re=V.length<V.highWaterMark;if(re||(V.needDrain=!0),V.writing||V.corked){var ie=V.lastBufferedRequest;V.lastBufferedRequest={chunk:Q,encoding:J,isBuf:te,callback:X,next:null},ie?ie.next=V.lastBufferedRequest:V.bufferedRequest=V.lastBufferedRequest,V.bufferedRequestCount+=1}else f(U,V,!1,ee,Q,J,X);return re}(this,N,F,I,z,j)),Z},w.prototype.cork=function(){this._writableState.corked++},w.prototype.uncork=function(){var I=this._writableState;I.corked&&(I.corked--,I.writing||I.corked||I.bufferProcessing||!I.bufferedRequest||T(this,I))},w.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new d(I);return this._writableState.defaultEncoding=I,this},Object.defineProperty(w.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),w.prototype._write=function(I,z,j){j(new s("_write()"))},w.prototype._writev=null,w.prototype.end=function(I,z,j){var R=this._writableState;return typeof I=="function"?(j=I,I=null,z=null):typeof z=="function"&&(j=z,z=null),I!=null&&this.write(I,z),R.corked&&(R.corked=1,this.uncork()),R.ending||function(N,Z,F){Z.ending=!0,P(N,Z),F&&(Z.finished?k.nextTick(F):N.once("finish",F)),Z.ended=!0,N.writable=!1}(this,R,j),this},Object.defineProperty(w.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(w.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(I){this._writableState&&(this._writableState.destroyed=I)}}),w.prototype.destroy=i.destroy,w.prototype._undestroy=i.undestroy,w.prototype._destroy=function(I,z){z(I)}},68221:function(q,C,e){var M,k=e(90386);function a(x,g,d){return g in x?Object.defineProperty(x,g,{value:d,enumerable:!0,configurable:!0,writable:!0}):x[g]=d,x}var _=e(12726),b=Symbol("lastResolve"),h=Symbol("lastReject"),o=Symbol("error"),t=Symbol("ended"),i=Symbol("lastPromise"),n=Symbol("handlePromise"),r=Symbol("stream");function l(x,g){return{value:x,done:g}}function s(x){var g=x[b];if(g!==null){var d=x[r].read();d!==null&&(x[i]=null,x[b]=null,x[h]=null,g(l(d,!1)))}}function u(x){k.nextTick(s,x)}var p=Object.getPrototypeOf(function(){}),c=Object.setPrototypeOf((a(M={get stream(){return this[r]},next:function(){var x=this,g=this[o];if(g!==null)return Promise.reject(g);if(this[t])return Promise.resolve(l(void 0,!0));if(this[r].destroyed)return new Promise(function(m,w){k.nextTick(function(){x[o]?w(x[o]):m(l(void 0,!0))})});var d,v=this[i];if(v)d=new Promise(function(m,w){return function(f,S){m.then(function(){w[t]?f(l(void 0,!0)):w[n](f,S)},S)}}(v,this));else{var y=this[r].read();if(y!==null)return Promise.resolve(l(y,!1));d=new Promise(this[n])}return this[i]=d,d}},Symbol.asyncIterator,function(){return this}),a(M,"return",function(){var x=this;return new Promise(function(g,d){x[r].destroy(null,function(v){v?d(v):g(l(void 0,!0))})})}),M),p);q.exports=function(x){var g,d=Object.create(c,(a(g={},r,{value:x,writable:!0}),a(g,b,{value:null,writable:!0}),a(g,h,{value:null,writable:!0}),a(g,o,{value:null,writable:!0}),a(g,t,{value:x._readableState.endEmitted,writable:!0}),a(g,n,{value:function(v,y){var m=d[r].read();m?(d[i]=null,d[b]=null,d[h]=null,v(l(m,!1))):(d[b]=v,d[h]=y)},writable:!0}),g));return d[i]=null,_(x,function(v){if(v&&v.code!=="ERR_STREAM_PREMATURE_CLOSE"){var y=d[h];return y!==null&&(d[i]=null,d[b]=null,d[h]=null,y(v)),void(d[o]=v)}var m=d[b];m!==null&&(d[i]=null,d[b]=null,d[h]=null,m(l(void 0,!0))),d[t]=!0}),x.on("readable",u.bind(null,d)),d}},31125:function(q,C,e){function M(o,t){var i=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable})),i.push.apply(i,n)}return i}function k(o,t,i){return t in o?Object.defineProperty(o,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[t]=i,o}function a(o,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}var _=e(12856).Buffer,b=e(69862).inspect,h=b&&b.custom||"inspect";q.exports=function(){function o(){(function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}var t,i;return t=o,i=[{key:"push",value:function(n){var r={data:n,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}},{key:"unshift",value:function(n){var r={data:n,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}},{key:"shift",value:function(){if(this.length!==0){var n=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,n}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(n){if(this.length===0)return"";for(var r=this.head,l=""+r.data;r=r.next;)l+=n+r.data;return l}},{key:"concat",value:function(n){if(this.length===0)return _.alloc(0);for(var r,l,s,u=_.allocUnsafe(n>>>0),p=this.head,c=0;p;)r=p.data,l=u,s=c,_.prototype.copy.call(r,l,s),c+=p.data.length,p=p.next;return u}},{key:"consume",value:function(n,r){var l;return n<this.head.data.length?(l=this.head.data.slice(0,n),this.head.data=this.head.data.slice(n)):l=n===this.head.data.length?this.shift():r?this._getString(n):this._getBuffer(n),l}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(n){var r=this.head,l=1,s=r.data;for(n-=s.length;r=r.next;){var u=r.data,p=n>u.length?u.length:n;if(p===u.length?s+=u:s+=u.slice(0,n),(n-=p)==0){p===u.length?(++l,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=u.slice(p));break}++l}return this.length-=l,s}},{key:"_getBuffer",value:function(n){var r=_.allocUnsafe(n),l=this.head,s=1;for(l.data.copy(r),n-=l.data.length;l=l.next;){var u=l.data,p=n>u.length?u.length:n;if(u.copy(r,r.length-n,0,p),(n-=p)==0){p===u.length?(++s,l.next?this.head=l.next:this.head=this.tail=null):(this.head=l,l.data=u.slice(p));break}++s}return this.length-=s,r}},{key:h,value:function(n,r){return b(this,function(l){for(var s=1;s<arguments.length;s++){var u=arguments[s]!=null?arguments[s]:{};s%2?M(Object(u),!0).forEach(function(p){k(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):M(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}({},r,{depth:0,customInspect:!1}))}}],i&&a(t.prototype,i),o}()},65756:function(q,C,e){var M=e(90386);function k(b,h){_(b,h),a(b)}function a(b){b._writableState&&!b._writableState.emitClose||b._readableState&&!b._readableState.emitClose||b.emit("close")}function _(b,h){b.emit("error",h)}q.exports={destroy:function(b,h){var o=this,t=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return t||i?(h?h(b):b&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,M.nextTick(_,this,b)):M.nextTick(_,this,b)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(n){!h&&n?o._writableState?o._writableState.errorEmitted?M.nextTick(a,o):(o._writableState.errorEmitted=!0,M.nextTick(k,o,n)):M.nextTick(k,o,n):h?(M.nextTick(a,o),h(n)):M.nextTick(a,o)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(b,h){var o=b._readableState,t=b._writableState;o&&o.autoDestroy||t&&t.autoDestroy?b.destroy(h):b.emit("error",h)}}},12726:function(q,C,e){var M=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function k(){}q.exports=function a(_,b,h){if(typeof b=="function")return a(_,null,b);b||(b={}),h=function(x){var g=!1;return function(){if(!g){g=!0;for(var d=arguments.length,v=new Array(d),y=0;y<d;y++)v[y]=arguments[y];x.apply(this,v)}}}(h||k);var o=b.readable||b.readable!==!1&&_.readable,t=b.writable||b.writable!==!1&&_.writable,i=function(){_.writable||r()},n=_._writableState&&_._writableState.finished,r=function(){t=!1,n=!0,o||h.call(_)},l=_._readableState&&_._readableState.endEmitted,s=function(){o=!1,l=!0,t||h.call(_)},u=function(x){h.call(_,x)},p=function(){var x;return o&&!l?(_._readableState&&_._readableState.ended||(x=new M),h.call(_,x)):t&&!n?(_._writableState&&_._writableState.ended||(x=new M),h.call(_,x)):void 0},c=function(){_.req.on("finish",r)};return function(x){return x.setHeader&&typeof x.abort=="function"}(_)?(_.on("complete",r),_.on("abort",p),_.req?c():_.on("request",c)):t&&!_._writableState&&(_.on("end",i),_.on("close",i)),_.on("end",s),_.on("finish",r),b.error!==!1&&_.on("error",u),_.on("close",p),function(){_.removeListener("complete",r),_.removeListener("abort",p),_.removeListener("request",c),_.req&&_.req.removeListener("finish",r),_.removeListener("end",i),_.removeListener("close",i),_.removeListener("finish",r),_.removeListener("end",s),_.removeListener("error",u),_.removeListener("close",p)}}},31748:function(q){q.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(q,C,e){var M,k=e(74322).q,a=k.ERR_MISSING_ARGS,_=k.ERR_STREAM_DESTROYED;function b(t){if(t)throw t}function h(t){t()}function o(t,i){return t.pipe(i)}q.exports=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r,l=function(u){return u.length?typeof u[u.length-1]!="function"?b:u.pop():b}(i);if(Array.isArray(i[0])&&(i=i[0]),i.length<2)throw new a("streams");var s=i.map(function(u,p){var c=p<i.length-1;return function(x,g,d,v){v=function(w){var f=!1;return function(){f||(f=!0,w.apply(void 0,arguments))}}(v);var y=!1;x.on("close",function(){y=!0}),M===void 0&&(M=e(12726)),M(x,{readable:g,writable:d},function(w){if(w)return v(w);y=!0,v()});var m=!1;return function(w){if(!y&&!m)return m=!0,function(f){return f.setHeader&&typeof f.abort=="function"}(x)?x.abort():typeof x.destroy=="function"?x.destroy():void v(w||new _("pipe"))}}(u,c,p>0,function(x){r||(r=x),x&&s.forEach(h),c||(s.forEach(h),l(r))})});return i.reduce(o)}},56306:function(q,C,e){var M=e(74322).q.ERR_INVALID_OPT_VALUE;q.exports={getHighWaterMark:function(k,a,_,b){var h=function(o,t,i){return o.highWaterMark!=null?o.highWaterMark:t?o[i]:null}(a,b,_);if(h!=null){if(!isFinite(h)||Math.floor(h)!==h||h<0)throw new M(b?_:"highWaterMark",h);return Math.floor(h)}return k.objectMode?16:16384}}},71405:function(q,C,e){q.exports=e(15398).EventEmitter},68019:function(q,C,e){var M=e(71665).Buffer,k=M.isEncoding||function(l){switch((l=""+l)&&l.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(l){var s;switch(this.encoding=function(u){var p=function(c){if(!c)return"utf8";for(var x;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(x)return;c=(""+c).toLowerCase(),x=!0}}(u);if(typeof p!="string"&&(M.isEncoding===k||!k(u)))throw new Error("Unknown encoding: "+u);return p||u}(l),this.encoding){case"utf16le":this.text=h,this.end=o,s=4;break;case"utf8":this.fillLast=b,s=4;break;case"base64":this.text=t,this.end=i,s=3;break;default:return this.write=n,void(this.end=r)}this.lastNeed=0,this.lastTotal=0,this.lastChar=M.allocUnsafe(s)}function _(l){return l<=127?0:l>>5==6?2:l>>4==14?3:l>>3==30?4:l>>6==2?-1:-2}function b(l){var s=this.lastTotal-this.lastNeed,u=function(p,c,x){if((192&c[0])!=128)return p.lastNeed=0,"";if(p.lastNeed>1&&c.length>1){if((192&c[1])!=128)return p.lastNeed=1,"";if(p.lastNeed>2&&c.length>2&&(192&c[2])!=128)return p.lastNeed=2,""}}(this,l);return u!==void 0?u:this.lastNeed<=l.length?(l.copy(this.lastChar,s,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(l.copy(this.lastChar,s,0,l.length),void(this.lastNeed-=l.length))}function h(l,s){if((l.length-s)%2==0){var u=l.toString("utf16le",s);if(u){var p=u.charCodeAt(u.length-1);if(p>=55296&&p<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1],u.slice(0,-1)}return u}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=l[l.length-1],l.toString("utf16le",s,l.length-1)}function o(l){var s=l&&l.length?this.write(l):"";if(this.lastNeed){var u=this.lastTotal-this.lastNeed;return s+this.lastChar.toString("utf16le",0,u)}return s}function t(l,s){var u=(l.length-s)%3;return u===0?l.toString("base64",s):(this.lastNeed=3-u,this.lastTotal=3,u===1?this.lastChar[0]=l[l.length-1]:(this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1]),l.toString("base64",s,l.length-u))}function i(l){var s=l&&l.length?this.write(l):"";return this.lastNeed?s+this.lastChar.toString("base64",0,3-this.lastNeed):s}function n(l){return l.toString(this.encoding)}function r(l){return l&&l.length?this.write(l):""}C.s=a,a.prototype.write=function(l){if(l.length===0)return"";var s,u;if(this.lastNeed){if((s=this.fillLast(l))===void 0)return"";u=this.lastNeed,this.lastNeed=0}else u=0;return u<l.length?s?s+this.text(l,u):this.text(l,u):s||""},a.prototype.end=function(l){var s=l&&l.length?this.write(l):"";return this.lastNeed?s+"":s},a.prototype.text=function(l,s){var u=function(c,x,g){var d=x.length-1;if(d<g)return 0;var v=_(x[d]);return v>=0?(v>0&&(c.lastNeed=v-1),v):--d<g||v===-2?0:(v=_(x[d]))>=0?(v>0&&(c.lastNeed=v-2),v):--d<g||v===-2?0:(v=_(x[d]))>=0?(v>0&&(v===2?v=0:c.lastNeed=v-3),v):0}(this,l,s);if(!this.lastNeed)return l.toString("utf8",s);this.lastTotal=u;var p=l.length-(u-this.lastNeed);return l.copy(this.lastChar,0,p),l.toString("utf8",s,p)},a.prototype.fillLast=function(l){if(this.lastNeed<=l.length)return l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,l.length),this.lastNeed-=l.length}},90715:function(q,C,e){var M=e(32791),k=e(41633)("stream-parser");q.exports=function(c){var x=c&&typeof c._transform=="function",g=c&&typeof c._write=="function";if(!x&&!g)throw new Error("must pass a Writable or Transform stream in");k("extending Parser into stream"),c._bytes=t,c._skipBytes=i,x&&(c._passthrough=n),x?c._transform=l:c._write=r};var a=-1,_=0,b=1,h=2;function o(c){k("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=a,c._parserCallback=null,typeof c.push=="function"&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,x){M(!this._parserCallback,'there is already a "callback" set!'),M(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||o(this),k("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=x,this._parserState=_}function i(c,x){M(!this._parserCallback,'there is already a "callback" set!'),M(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||o(this),k("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=x,this._parserState=b}function n(c,x){M(!this._parserCallback,'There is already a "callback" set!'),M(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||o(this),k("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=x,this._parserState=h}function r(c,x,g){this._parserInit||o(this),k("write(%o bytes)",c.length),typeof x=="function"&&(g=x),u(this,c,null,g)}function l(c,x,g){this._parserInit||o(this),k("transform(%o bytes)",c.length),typeof x!="function"&&(x=this._parserOutput),u(this,c,x,g)}function s(c,x,g,d){if(c._parserBytesLeft-=x.length,k("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===_?(c._parserBuffers.push(x),c._parserBuffered+=x.length):c._parserState===h&&g(x),c._parserBytesLeft!==0)return d;var v=c._parserCallback;if(v&&c._parserState===_&&c._parserBuffers.length>1&&(x=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==_&&(x=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=a,c._parserBuffers.splice(0),v){var y=[];x&&y.push(x),g&&y.push(g);var m=v.length>y.length;m&&y.push(p(d));var w=v.apply(c,y);if(!m||d===w)return d}}var u=p(function c(x,g,d,v){return x._parserBytesLeft<=0?v(new Error("got data but not currently parsing anything")):g.length<=x._parserBytesLeft?function(){return s(x,g,d,v)}:function(){var y=g.slice(0,x._parserBytesLeft);return s(x,y,d,function(m){return m?v(m):g.length>y.length?function(){return c(x,g.slice(y.length),d,v)}:void 0})}});function p(c){return function(){for(var x=c.apply(this,arguments);typeof x=="function";)x=x();return x}}},41633:function(q,C,e){var M=e(90386);function k(){var a;try{a=C.storage.debug}catch{}return!a&&M!==void 0&&"env"in M&&(a=M.env.DEBUG),a}(C=q.exports=e(74469)).log=function(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},C.formatArgs=function(a){var _=this.useColors;if(a[0]=(_?"%c":"")+this.namespace+(_?" %c":" ")+a[0]+(_?"%c ":" ")+"+"+C.humanize(this.diff),_){var b="color: "+this.color;a.splice(1,0,b,"color: inherit");var h=0,o=0;a[0].replace(/%[a-zA-Z%]/g,function(t){t!=="%%"&&(h++,t==="%c"&&(o=h))}),a.splice(o,0,b)}},C.save=function(a){try{a==null?C.storage.removeItem("debug"):C.storage.debug=a}catch{}},C.load=k,C.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},C.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),C.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],C.formatters.j=function(a){try{return JSON.stringify(a)}catch(_){return"[UnexpectedJSONParseError]: "+_.message}},C.enable(k())},74469:function(q,C,e){var M;function k(a){function _(){if(_.enabled){var b=_,h=+new Date,o=h-(M||h);b.diff=o,b.prev=M,b.curr=h,M=h;for(var t=new Array(arguments.length),i=0;i<t.length;i++)t[i]=arguments[i];t[0]=C.coerce(t[0]),typeof t[0]!="string"&&t.unshift("%O");var n=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(r,l){if(r==="%%")return r;n++;var s=C.formatters[l];if(typeof s=="function"){var u=t[n];r=s.call(b,u),t.splice(n,1),n--}return r}),C.formatArgs.call(b,t),(_.log||C.log||console.log.bind(console)).apply(b,t)}}return _.namespace=a,_.enabled=C.enabled(a),_.useColors=C.useColors(),_.color=function(b){var h,o=0;for(h in b)o=(o<<5)-o+b.charCodeAt(h),o|=0;return C.colors[Math.abs(o)%C.colors.length]}(a),typeof C.init=="function"&&C.init(_),_}(C=q.exports=k.debug=k.default=k).coerce=function(a){return a instanceof Error?a.stack||a.message:a},C.disable=function(){C.enable("")},C.enable=function(a){C.save(a),C.names=[],C.skips=[];for(var _=(typeof a=="string"?a:"").split(/[\s,]+/),b=_.length,h=0;h<b;h++)_[h]&&((a=_[h].replace(/\*/g,".*?"))[0]==="-"?C.skips.push(new RegExp("^"+a.substr(1)+"$")):C.names.push(new RegExp("^"+a+"$")))},C.enabled=function(a){var _,b;for(_=0,b=C.skips.length;_<b;_++)if(C.skips[_].test(a))return!1;for(_=0,b=C.names.length;_<b;_++)if(C.names[_].test(a))return!0;return!1},C.humanize=e(11375),C.names=[],C.skips=[],C.formatters={}},11375:function(q){var C=1e3,e=60*C,M=60*e,k=24*M;function a(_,b,h){if(!(_<b))return _<1.5*b?Math.floor(_/b)+" "+h:Math.ceil(_/b)+" "+h+"s"}q.exports=function(_,b){b=b||{};var h,o=typeof _;if(o==="string"&&_.length>0)return function(t){if(!((t=String(t)).length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(i){var n=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*k;case"hours":case"hour":case"hrs":case"hr":case"h":return n*M;case"minutes":case"minute":case"mins":case"min":case"m":return n*e;case"seconds":case"second":case"secs":case"sec":case"s":return n*C;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(_);if(o==="number"&&isNaN(_)===!1)return b.long?a(h=_,k,"day")||a(h,M,"hour")||a(h,e,"minute")||a(h,C,"second")||h+" ms":function(t){return t>=k?Math.round(t/k)+"d":t>=M?Math.round(t/M)+"h":t>=e?Math.round(t/e)+"m":t>=C?Math.round(t/C)+"s":t+"ms"}(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))}},99011:function(q,C,e){var M=e(88641);q.exports=function(k,a,_){if(k==null)throw Error("First argument should be a string");if(a==null)throw Error("Separator should be a string or a RegExp");_?(typeof _=="string"||Array.isArray(_))&&(_={ignore:_}):_={},_.escape==null&&(_.escape=!0),_.ignore==null?_.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof _.ignore=="string"&&(_.ignore=[_.ignore]),_.ignore=_.ignore.map(function(r){return r.length===1&&(r+=r),r}));var b=M.parse(k,{flat:!0,brackets:_.ignore}),h=b[0].split(a);if(_.escape){for(var o=[],t=0;t<h.length;t++){var i=h[t],n=h[t+1];i[i.length-1]==="\\"&&i[i.length-2]!=="\\"?(o.push(i+a+n),t++):o.push(i)}h=o}for(t=0;t<h.length;t++)b[0]=h[t],h[t]=M.stringify(b,{flat:!0});return h}},68664:function(q){q.exports=function(C){for(var e=C.length,M=new Array(e),k=new Array(e),a=new Array(e),_=new Array(e),b=new Array(e),h=new Array(e),o=0;o<e;++o)M[o]=-1,k[o]=0,a[o]=!1,_[o]=0,b[o]=-1,h[o]=[];var t,i=0,n=[],r=[];function l(p){var c=[p],x=[p];for(M[p]=k[p]=i,a[p]=!0,i+=1;x.length>0;){p=x[x.length-1];var g=C[p];if(_[p]<g.length){for(var d=_[p];d<g.length;++d){var v=g[d];if(M[v]<0){M[v]=k[v]=i,a[v]=!0,i+=1,c.push(v),x.push(v);break}a[v]&&(k[p]=0|Math.min(k[p],k[v])),b[v]>=0&&h[p].push(b[v])}_[p]=d}else{if(k[p]===M[p]){var y=[],m=[],w=0;for(d=c.length-1;d>=0;--d){var f=c[d];if(a[f]=!1,y.push(f),m.push(h[f]),w+=h[f].length,b[f]=n.length,f===p){c.length=d;break}}n.push(y);var S=new Array(w);for(d=0;d<m.length;d++)for(var T=0;T<m[d].length;T++)S[--w]=m[d][T];r.push(S)}x.pop()}}}for(o=0;o<e;++o)M[o]<0&&l(o);for(o=0;o<r.length;o++){var s=r[o];if(s.length!==0){s.sort(function(p,c){return p-c}),t=[s[0]];for(var u=1;u<s.length;u++)s[u]!==s[u-1]&&t.push(s[u]);r[o]=t}}return{components:n,adjacencyList:r}}},7095:function(q,C,e){e.r(C);var M=2*Math.PI,k=function(b,h,o,t,i,n,r){var l=b.x,s=b.y;return{x:t*(l*=h)-i*(s*=o)+n,y:i*l+t*s+r}},a=function(b,h){var o=h===1.5707963267948966?.551915024494:h===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(h/4),t=Math.cos(b),i=Math.sin(b),n=Math.cos(b+h),r=Math.sin(b+h);return[{x:t-i*o,y:i+t*o},{x:n+r*o,y:r-n*o},{x:n,y:r}]},_=function(b,h,o,t){var i=b*o+h*t;return i>1&&(i=1),i<-1&&(i=-1),(b*t-h*o<0?-1:1)*Math.acos(i)};C.default=function(b){var h=b.px,o=b.py,t=b.cx,i=b.cy,n=b.rx,r=b.ry,l=b.xAxisRotation,s=l===void 0?0:l,u=b.largeArcFlag,p=u===void 0?0:u,c=b.sweepFlag,x=c===void 0?0:c,g=[];if(n===0||r===0)return[];var d=Math.sin(s*M/360),v=Math.cos(s*M/360),y=v*(h-t)/2+d*(o-i)/2,m=-d*(h-t)/2+v*(o-i)/2;if(y===0&&m===0)return[];n=Math.abs(n),r=Math.abs(r);var w=Math.pow(y,2)/Math.pow(n,2)+Math.pow(m,2)/Math.pow(r,2);w>1&&(n*=Math.sqrt(w),r*=Math.sqrt(w));var f=function(R,N,Z,F,U,V,te,Q,J,X,K,ee){var re=Math.pow(U,2),ie=Math.pow(V,2),ae=Math.pow(K,2),ue=Math.pow(ee,2),pe=re*ie-re*ue-ie*ae;pe<0&&(pe=0),pe/=re*ue+ie*ae;var de=(pe=Math.sqrt(pe)*(te===Q?-1:1))*U/V*ee,ye=pe*-V/U*K,be=X*de-J*ye+(R+Z)/2,me=J*de+X*ye+(N+F)/2,Ee=(K-de)/U,Te=(ee-ye)/V,we=(-K-de)/U,oe=(-ee-ye)/V,se=_(1,0,Ee,Te),he=_(Ee,Te,we,oe);return Q===0&&he>0&&(he-=M),Q===1&&he<0&&(he+=M),[be,me,se,he]}(h,o,t,i,n,r,p,x,d,v,y,m),S=function(R,N){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return function(Z,F){var U=[],V=!0,te=!1,Q=void 0;try{for(var J,X=Z[Symbol.iterator]();!(V=(J=X.next()).done)&&(U.push(J.value),!F||U.length!==F);V=!0);}catch(K){te=!0,Q=K}finally{try{!V&&X.return&&X.return()}finally{if(te)throw Q}}return U}(R,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(f,4),T=S[0],E=S[1],O=S[2],P=S[3],I=Math.abs(P)/(M/4);Math.abs(1-I)<1e-7&&(I=1);var z=Math.max(Math.ceil(I),1);P/=z;for(var j=0;j<z;j++)g.push(a(O,P)),O+=P;return g.map(function(R){var N=k(R[0],n,r,v,d,T,E),Z=N.x,F=N.y,U=k(R[1],n,r,v,d,T,E),V=U.x,te=U.y,Q=k(R[2],n,r,v,d,T,E);return{x1:Z,y1:F,x2:V,y2:te,x:Q.x,y:Q.y}})}},1750:function(q,C,e){var M=e(95616),k=e(65185),a=e(29988),_=e(89546),b=e(32791);q.exports=function(h){if(Array.isArray(h)&&h.length===1&&typeof h[0]=="string"&&(h=h[0]),typeof h=="string"&&(b(_(h),"String is not an SVG path."),h=M(h)),b(Array.isArray(h),"Argument should be a string or an array of path segments."),h=k(h),!(h=a(h)).length)return[0,0,0,0];for(var o=[1/0,1/0,-1/0,-1/0],t=0,i=h.length;t<i;t++)for(var n=h[t].slice(1),r=0;r<n.length;r+=2)n[r+0]<o[0]&&(o[0]=n[r+0]),n[r+1]<o[1]&&(o[1]=n[r+1]),n[r+0]>o[2]&&(o[2]=n[r+0]),n[r+1]>o[3]&&(o[3]=n[r+1]);return o}},29988:function(q,C,e){q.exports=function(_){for(var b,h=[],o=0,t=0,i=0,n=0,r=null,l=null,s=0,u=0,p=0,c=_.length;p<c;p++){var x=_[p],g=x[0];switch(g){case"M":i=x[1],n=x[2];break;case"A":var d=M({px:s,py:u,cx:x[6],cy:x[7],rx:x[1],ry:x[2],xAxisRotation:x[3],largeArcFlag:x[4],sweepFlag:x[5]});if(!d.length)continue;for(var v,y=0;y<d.length;y++)x=["C",(v=d[y]).x1,v.y1,v.x2,v.y2,v.x,v.y],y<d.length-1&&h.push(x);break;case"S":var m=s,w=u;b!="C"&&b!="S"||(m+=m-o,w+=w-t),x=["C",m,w,x[1],x[2],x[3],x[4]];break;case"T":b=="Q"||b=="T"?(r=2*s-r,l=2*u-l):(r=s,l=u),x=a(s,u,r,l,x[1],x[2]);break;case"Q":r=x[1],l=x[2],x=a(s,u,x[1],x[2],x[3],x[4]);break;case"L":x=k(s,u,x[1],x[2]);break;case"H":x=k(s,u,x[1],u);break;case"V":x=k(s,u,s,x[1]);break;case"Z":x=k(s,u,i,n)}b=g,s=x[x.length-2],u=x[x.length-1],x.length>4?(o=x[x.length-4],t=x[x.length-3]):(o=s,t=u),h.push(x)}return h};var M=e(7095);function k(_,b,h,o){return["C",_,b,h,o,h,o]}function a(_,b,h,o,t,i){return["C",_/3+.6666666666666666*h,b/3+.6666666666666666*o,t/3+.6666666666666666*h,i/3+.6666666666666666*o,t,i]}},82019:function(q,C,e){var M,k=e(1750),a=e(95616),_=e(31457),b=e(89546),h=e(44781),o=document.createElement("canvas"),t=o.getContext("2d");q.exports=function(i,n){if(!b(i))throw Error("Argument should be valid svg path string");var r,l;n||(n={}),n.shape?(r=n.shape[0],l=n.shape[1]):(r=o.width=n.w||n.width||200,l=o.height=n.h||n.height||200);var s=Math.min(r,l),u=n.stroke||0,p=n.viewbox||n.viewBox||k(i),c=[r/(p[2]-p[0]),l/(p[3]-p[1])],x=Math.min(c[0]||0,c[1]||0)/2;if(t.fillStyle="black",t.fillRect(0,0,r,l),t.fillStyle="white",u&&(typeof u!="number"&&(u=1),t.strokeStyle=u>0?"white":"black",t.lineWidth=Math.abs(u)),t.translate(.5*r,.5*l),t.scale(x,x),function(){if(M!=null)return M;var v=document.createElement("canvas").getContext("2d");if(v.canvas.width=v.canvas.height=1,!window.Path2D)return M=!1;var y=new Path2D("M0,0h1v1h-1v-1Z");v.fillStyle="black",v.fill(y);var m=v.getImageData(0,0,1,1);return M=m&&m.data&&m.data[3]===255}()){var g=new Path2D(i);t.fill(g),u&&t.stroke(g)}else{var d=a(i);_(t,d),t.fill(),u&&t.stroke()}return t.setTransform(1,0,0,1,0,0),h(t,{cutoff:n.cutoff!=null?n.cutoff:.5,radius:n.radius!=null?n.radius:.5*s})}},84267:function(q,C,e){var M;(function(k){var a=/^\s+/,_=/\s+$/,b=0,h=k.round,o=k.min,t=k.max,i=k.random;function n(K,ee){if(ee=ee||{},(K=K||"")instanceof n)return K;if(!(this instanceof n))return new n(K,ee);var re=function(ie){var ae,ue,pe,de={r:0,g:0,b:0},ye=1,be=null,me=null,Ee=null,Te=!1,we=!1;return typeof ie=="string"&&(ie=function(oe){oe=oe.replace(a,"").replace(_,"").toLowerCase();var se,he=!1;if(O[oe])oe=O[oe],he=!0;else if(oe=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(se=J.rgb.exec(oe))?{r:se[1],g:se[2],b:se[3]}:(se=J.rgba.exec(oe))?{r:se[1],g:se[2],b:se[3],a:se[4]}:(se=J.hsl.exec(oe))?{h:se[1],s:se[2],l:se[3]}:(se=J.hsla.exec(oe))?{h:se[1],s:se[2],l:se[3],a:se[4]}:(se=J.hsv.exec(oe))?{h:se[1],s:se[2],v:se[3]}:(se=J.hsva.exec(oe))?{h:se[1],s:se[2],v:se[3],a:se[4]}:(se=J.hex8.exec(oe))?{r:R(se[1]),g:R(se[2]),b:R(se[3]),a:U(se[4]),format:he?"name":"hex8"}:(se=J.hex6.exec(oe))?{r:R(se[1]),g:R(se[2]),b:R(se[3]),format:he?"name":"hex"}:(se=J.hex4.exec(oe))?{r:R(se[1]+""+se[1]),g:R(se[2]+""+se[2]),b:R(se[3]+""+se[3]),a:U(se[4]+""+se[4]),format:he?"name":"hex8"}:!!(se=J.hex3.exec(oe))&&{r:R(se[1]+""+se[1]),g:R(se[2]+""+se[2]),b:R(se[3]+""+se[3]),format:he?"name":"hex"}}(ie)),typeof ie=="object"&&(X(ie.r)&&X(ie.g)&&X(ie.b)?(ae=ie.r,ue=ie.g,pe=ie.b,de={r:255*z(ae,255),g:255*z(ue,255),b:255*z(pe,255)},Te=!0,we=String(ie.r).substr(-1)==="%"?"prgb":"rgb"):X(ie.h)&&X(ie.s)&&X(ie.v)?(be=Z(ie.s),me=Z(ie.v),de=function(oe,se,he){oe=6*z(oe,360),se=z(se,100),he=z(he,100);var Se=k.floor(oe),_e=oe-Se,Ae=he*(1-se),Ce=he*(1-_e*se),Re=he*(1-(1-_e)*se),fe=Se%6;return{r:255*[he,Ce,Ae,Ae,Re,he][fe],g:255*[Re,he,he,Ce,Ae,Ae][fe],b:255*[Ae,Ae,Re,he,he,Ce][fe]}}(ie.h,be,me),Te=!0,we="hsv"):X(ie.h)&&X(ie.s)&&X(ie.l)&&(be=Z(ie.s),Ee=Z(ie.l),de=function(oe,se,he){var Se,_e,Ae;function Ce(xe,ke,Ie){return Ie<0&&(Ie+=1),Ie>1&&(Ie-=1),Ie<1/6?xe+6*(ke-xe)*Ie:Ie<.5?ke:Ie<2/3?xe+(ke-xe)*(2/3-Ie)*6:xe}if(oe=z(oe,360),se=z(se,100),he=z(he,100),se===0)Se=_e=Ae=he;else{var Re=he<.5?he*(1+se):he+se-he*se,fe=2*he-Re;Se=Ce(fe,Re,oe+1/3),_e=Ce(fe,Re,oe),Ae=Ce(fe,Re,oe-1/3)}return{r:255*Se,g:255*_e,b:255*Ae}}(ie.h,be,Ee),Te=!0,we="hsl"),ie.hasOwnProperty("a")&&(ye=ie.a)),ye=I(ye),{ok:Te,format:ie.format||we,r:o(255,t(de.r,0)),g:o(255,t(de.g,0)),b:o(255,t(de.b,0)),a:ye}}(K);this._originalInput=K,this._r=re.r,this._g=re.g,this._b=re.b,this._a=re.a,this._roundA=h(100*this._a)/100,this._format=ee.format||re.format,this._gradientType=ee.gradientType,this._r<1&&(this._r=h(this._r)),this._g<1&&(this._g=h(this._g)),this._b<1&&(this._b=h(this._b)),this._ok=re.ok,this._tc_id=b++}function r(K,ee,re){K=z(K,255),ee=z(ee,255),re=z(re,255);var ie,ae,ue=t(K,ee,re),pe=o(K,ee,re),de=(ue+pe)/2;if(ue==pe)ie=ae=0;else{var ye=ue-pe;switch(ae=de>.5?ye/(2-ue-pe):ye/(ue+pe),ue){case K:ie=(ee-re)/ye+(ee<re?6:0);break;case ee:ie=(re-K)/ye+2;break;case re:ie=(K-ee)/ye+4}ie/=6}return{h:ie,s:ae,l:de}}function l(K,ee,re){K=z(K,255),ee=z(ee,255),re=z(re,255);var ie,ae,ue=t(K,ee,re),pe=o(K,ee,re),de=ue,ye=ue-pe;if(ae=ue===0?0:ye/ue,ue==pe)ie=0;else{switch(ue){case K:ie=(ee-re)/ye+(ee<re?6:0);break;case ee:ie=(re-K)/ye+2;break;case re:ie=(K-ee)/ye+4}ie/=6}return{h:ie,s:ae,v:de}}function s(K,ee,re,ie){var ae=[N(h(K).toString(16)),N(h(ee).toString(16)),N(h(re).toString(16))];return ie&&ae[0].charAt(0)==ae[0].charAt(1)&&ae[1].charAt(0)==ae[1].charAt(1)&&ae[2].charAt(0)==ae[2].charAt(1)?ae[0].charAt(0)+ae[1].charAt(0)+ae[2].charAt(0):ae.join("")}function u(K,ee,re,ie){return[N(F(ie)),N(h(K).toString(16)),N(h(ee).toString(16)),N(h(re).toString(16))].join("")}function p(K,ee){ee=ee===0?0:ee||10;var re=n(K).toHsl();return re.s-=ee/100,re.s=j(re.s),n(re)}function c(K,ee){ee=ee===0?0:ee||10;var re=n(K).toHsl();return re.s+=ee/100,re.s=j(re.s),n(re)}function x(K){return n(K).desaturate(100)}function g(K,ee){ee=ee===0?0:ee||10;var re=n(K).toHsl();return re.l+=ee/100,re.l=j(re.l),n(re)}function d(K,ee){ee=ee===0?0:ee||10;var re=n(K).toRgb();return re.r=t(0,o(255,re.r-h(-ee/100*255))),re.g=t(0,o(255,re.g-h(-ee/100*255))),re.b=t(0,o(255,re.b-h(-ee/100*255))),n(re)}function v(K,ee){ee=ee===0?0:ee||10;var re=n(K).toHsl();return re.l-=ee/100,re.l=j(re.l),n(re)}function y(K,ee){var re=n(K).toHsl(),ie=(re.h+ee)%360;return re.h=ie<0?360+ie:ie,n(re)}function m(K){var ee=n(K).toHsl();return ee.h=(ee.h+180)%360,n(ee)}function w(K){var ee=n(K).toHsl(),re=ee.h;return[n(K),n({h:(re+120)%360,s:ee.s,l:ee.l}),n({h:(re+240)%360,s:ee.s,l:ee.l})]}function f(K){var ee=n(K).toHsl(),re=ee.h;return[n(K),n({h:(re+90)%360,s:ee.s,l:ee.l}),n({h:(re+180)%360,s:ee.s,l:ee.l}),n({h:(re+270)%360,s:ee.s,l:ee.l})]}function S(K){var ee=n(K).toHsl(),re=ee.h;return[n(K),n({h:(re+72)%360,s:ee.s,l:ee.l}),n({h:(re+216)%360,s:ee.s,l:ee.l})]}function T(K,ee,re){ee=ee||6,re=re||30;var ie=n(K).toHsl(),ae=360/re,ue=[n(K)];for(ie.h=(ie.h-(ae*ee>>1)+720)%360;--ee;)ie.h=(ie.h+ae)%360,ue.push(n(ie));return ue}function E(K,ee){ee=ee||6;for(var re=n(K).toHsv(),ie=re.h,ae=re.s,ue=re.v,pe=[],de=1/ee;ee--;)pe.push(n({h:ie,s:ae,v:ue})),ue=(ue+de)%1;return pe}n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var K=this.toRgb();return(299*K.r+587*K.g+114*K.b)/1e3},getLuminance:function(){var K,ee,re,ie=this.toRgb();return K=ie.r/255,ee=ie.g/255,re=ie.b/255,.2126*(K<=.03928?K/12.92:k.pow((K+.055)/1.055,2.4))+.7152*(ee<=.03928?ee/12.92:k.pow((ee+.055)/1.055,2.4))+.0722*(re<=.03928?re/12.92:k.pow((re+.055)/1.055,2.4))},setAlpha:function(K){return this._a=I(K),this._roundA=h(100*this._a)/100,this},toHsv:function(){var K=l(this._r,this._g,this._b);return{h:360*K.h,s:K.s,v:K.v,a:this._a}},toHsvString:function(){var K=l(this._r,this._g,this._b),ee=h(360*K.h),re=h(100*K.s),ie=h(100*K.v);return this._a==1?"hsv("+ee+", "+re+"%, "+ie+"%)":"hsva("+ee+", "+re+"%, "+ie+"%, "+this._roundA+")"},toHsl:function(){var K=r(this._r,this._g,this._b);return{h:360*K.h,s:K.s,l:K.l,a:this._a}},toHslString:function(){var K=r(this._r,this._g,this._b),ee=h(360*K.h),re=h(100*K.s),ie=h(100*K.l);return this._a==1?"hsl("+ee+", "+re+"%, "+ie+"%)":"hsla("+ee+", "+re+"%, "+ie+"%, "+this._roundA+")"},toHex:function(K){return s(this._r,this._g,this._b,K)},toHexString:function(K){return"#"+this.toHex(K)},toHex8:function(K){return function(ee,re,ie,ae,ue){var pe=[N(h(ee).toString(16)),N(h(re).toString(16)),N(h(ie).toString(16)),N(F(ae))];return ue&&pe[0].charAt(0)==pe[0].charAt(1)&&pe[1].charAt(0)==pe[1].charAt(1)&&pe[2].charAt(0)==pe[2].charAt(1)&&pe[3].charAt(0)==pe[3].charAt(1)?pe[0].charAt(0)+pe[1].charAt(0)+pe[2].charAt(0)+pe[3].charAt(0):pe.join("")}(this._r,this._g,this._b,this._a,K)},toHex8String:function(K){return"#"+this.toHex8(K)},toRgb:function(){return{r:h(this._r),g:h(this._g),b:h(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+h(this._r)+", "+h(this._g)+", "+h(this._b)+")":"rgba("+h(this._r)+", "+h(this._g)+", "+h(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:h(100*z(this._r,255))+"%",g:h(100*z(this._g,255))+"%",b:h(100*z(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+h(100*z(this._r,255))+"%, "+h(100*z(this._g,255))+"%, "+h(100*z(this._b,255))+"%)":"rgba("+h(100*z(this._r,255))+"%, "+h(100*z(this._g,255))+"%, "+h(100*z(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(P[s(this._r,this._g,this._b,!0)]||!1)},toFilter:function(K){var ee="#"+u(this._r,this._g,this._b,this._a),re=ee,ie=this._gradientType?"GradientType = 1, ":"";if(K){var ae=n(K);re="#"+u(ae._r,ae._g,ae._b,ae._a)}return"progid:DXImageTransform.Microsoft.gradient("+ie+"startColorstr="+ee+",endColorstr="+re+")"},toString:function(K){var ee=!!K;K=K||this._format;var re=!1,ie=this._a<1&&this._a>=0;return ee||!ie||K!=="hex"&&K!=="hex6"&&K!=="hex3"&&K!=="hex4"&&K!=="hex8"&&K!=="name"?(K==="rgb"&&(re=this.toRgbString()),K==="prgb"&&(re=this.toPercentageRgbString()),K!=="hex"&&K!=="hex6"||(re=this.toHexString()),K==="hex3"&&(re=this.toHexString(!0)),K==="hex4"&&(re=this.toHex8String(!0)),K==="hex8"&&(re=this.toHex8String()),K==="name"&&(re=this.toName()),K==="hsl"&&(re=this.toHslString()),K==="hsv"&&(re=this.toHsvString()),re||this.toHexString()):K==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return n(this.toString())},_applyModification:function(K,ee){var re=K.apply(null,[this].concat([].slice.call(ee)));return this._r=re._r,this._g=re._g,this._b=re._b,this.setAlpha(re._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(d,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(x,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(K,ee){return K.apply(null,[this].concat([].slice.call(ee)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(f,arguments)}},n.fromRatio=function(K,ee){if(typeof K=="object"){var re={};for(var ie in K)K.hasOwnProperty(ie)&&(re[ie]=ie==="a"?K[ie]:Z(K[ie]));K=re}return n(K,ee)},n.equals=function(K,ee){return!(!K||!ee)&&n(K).toRgbString()==n(ee).toRgbString()},n.random=function(){return n.fromRatio({r:i(),g:i(),b:i()})},n.mix=function(K,ee,re){re=re===0?0:re||50;var ie=n(K).toRgb(),ae=n(ee).toRgb(),ue=re/100;return n({r:(ae.r-ie.r)*ue+ie.r,g:(ae.g-ie.g)*ue+ie.g,b:(ae.b-ie.b)*ue+ie.b,a:(ae.a-ie.a)*ue+ie.a})},n.readability=function(K,ee){var re=n(K),ie=n(ee);return(k.max(re.getLuminance(),ie.getLuminance())+.05)/(k.min(re.getLuminance(),ie.getLuminance())+.05)},n.isReadable=function(K,ee,re){var ie,ae,ue,pe,de,ye=n.readability(K,ee);switch(ae=!1,(ue=re,(pe=((ue=ue||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&pe!=="AAA"&&(pe="AA"),(de=(ue.size||"small").toLowerCase())!=="small"&&de!=="large"&&(de="small"),ie={level:pe,size:de}).level+ie.size){case"AAsmall":case"AAAlarge":ae=ye>=4.5;break;case"AAlarge":ae=ye>=3;break;case"AAAsmall":ae=ye>=7}return ae},n.mostReadable=function(K,ee,re){var ie,ae,ue,pe,de=null,ye=0;ae=(re=re||{}).includeFallbackColors,ue=re.level,pe=re.size;for(var be=0;be<ee.length;be++)(ie=n.readability(K,ee[be]))>ye&&(ye=ie,de=n(ee[be]));return n.isReadable(K,de,{level:ue,size:pe})||!ae?de:(re.includeFallbackColors=!1,n.mostReadable(K,["#fff","#000"],re))};var O=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=n.hexNames=function(K){var ee={};for(var re in K)K.hasOwnProperty(re)&&(ee[K[re]]=re);return ee}(O);function I(K){return K=parseFloat(K),(isNaN(K)||K<0||K>1)&&(K=1),K}function z(K,ee){(function(ie){return typeof ie=="string"&&ie.indexOf(".")!=-1&&parseFloat(ie)===1})(K)&&(K="100%");var re=function(ie){return typeof ie=="string"&&ie.indexOf("%")!=-1}(K);return K=o(ee,t(0,parseFloat(K))),re&&(K=parseInt(K*ee,10)/100),k.abs(K-ee)<1e-6?1:K%ee/parseFloat(ee)}function j(K){return o(1,t(0,K))}function R(K){return parseInt(K,16)}function N(K){return K.length==1?"0"+K:""+K}function Z(K){return K<=1&&(K=100*K+"%"),K}function F(K){return k.round(255*parseFloat(K)).toString(16)}function U(K){return R(K)/255}var V,te,Q,J=(te="[\\s|\\(]+("+(V="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",Q="[\\s|\\(]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",{CSS_UNIT:new RegExp(V),rgb:new RegExp("rgb"+te),rgba:new RegExp("rgba"+Q),hsl:new RegExp("hsl"+te),hsla:new RegExp("hsla"+Q),hsv:new RegExp("hsv"+te),hsva:new RegExp("hsva"+Q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function X(K){return!!J.CSS_UNIT.exec(K)}q.exports?q.exports=n:(M=(function(){return n}).call(C,e,C,q))===void 0||(q.exports=M)})(Math)},57060:function(q){q.exports=e,q.exports.float32=q.exports.float=e,q.exports.fract32=q.exports.fract=function(M,k){if(M.length){if(M instanceof Float32Array)return new Float32Array(M.length);k instanceof Float32Array||(k=e(M));for(var a=0,_=k.length;a<_;a++)k[a]=M[a]-k[a];return k}return e(M-e(M))};var C=new Float32Array(1);function e(M){return M.length?M instanceof Float32Array?M:new Float32Array(M):(C[0]=M,C[0])}},75686:function(q,C,e){var M=e(25677);q.exports=_;var k=96;function a(b,h){var o=M(getComputedStyle(b).getPropertyValue(h));return o[0]*_(o[1],b)}function _(b,h){switch(h=h||document.body,b=(b||"px").trim().toLowerCase(),h!==window&&h!==document||(h=document.body),b){case"%":return h.clientHeight/100;case"ch":case"ex":return function(o,t){var i=document.createElement("div");i.style["font-size"]="128"+o,t.appendChild(i);var n=a(i,"font-size")/128;return t.removeChild(i),n}(b,h);case"em":return a(h,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return k;case"cm":return k/2.54;case"mm":return k/25.4;case"pt":return k/72;case"pc":return k/6}return 1}},96892:function(q,C,e){function M(_){return _}function k(_,b){return typeof b=="string"&&(b=_.objects[b]),b.type==="GeometryCollection"?{type:"FeatureCollection",features:b.geometries.map(function(h){return a(_,h)})}:a(_,b)}function a(_,b){var h=b.id,o=b.bbox,t=b.properties==null?{}:b.properties,i=function(n,r){var l=function(d){if(d==null)return M;var v,y,m=d.scale[0],w=d.scale[1],f=d.translate[0],S=d.translate[1];return function(T,E){E||(v=y=0);var O=2,P=T.length,I=new Array(P);for(I[0]=(v+=T[0])*m+f,I[1]=(y+=T[1])*w+S;O<P;)I[O]=T[O],++O;return I}}(n.transform),s=n.arcs;function u(d,v){v.length&&v.pop();for(var y=s[d<0?~d:d],m=0,w=y.length;m<w;++m)v.push(l(y[m],m));d<0&&function(f,S){for(var T,E=f.length,O=E-S;O<--E;)T=f[O],f[O++]=f[E],f[E]=T}(v,w)}function p(d){return l(d)}function c(d){for(var v=[],y=0,m=d.length;y<m;++y)u(d[y],v);return v.length<2&&v.push(v[0]),v}function x(d){for(var v=c(d);v.length<4;)v.push(v[0]);return v}function g(d){return d.map(x)}return function d(v){var y,m=v.type;switch(m){case"GeometryCollection":return{type:m,geometries:v.geometries.map(d)};case"Point":y=p(v.coordinates);break;case"MultiPoint":y=v.coordinates.map(p);break;case"LineString":y=c(v.arcs);break;case"MultiLineString":y=v.arcs.map(c);break;case"Polygon":y=g(v.arcs);break;case"MultiPolygon":y=v.arcs.map(g);break;default:return null}return{type:m,coordinates:y}}(r)}(_,b);return h==null&&o==null?{type:"Feature",properties:t,geometry:i}:o==null?{type:"Feature",id:h,properties:t,geometry:i}:{type:"Feature",id:h,bbox:o,properties:t,geometry:i}}e.d(C,{zL:function(){return k}})},73116:function(q,C,e){var M=e(24511);q.exports=function(k){if(typeof k!="function"||!hasOwnProperty.call(k,"length"))return!1;try{if(typeof k.length!="number"||typeof k.call!="function"||typeof k.apply!="function")return!1}catch{return!1}return!M(k)}},69190:function(q,C,e){var M=e(24582),k=e(47403),a=e(9234),_=e(6048),b=function(h,o){return h.replace("%v",_(o))};q.exports=function(h,o,t){if(!k(t))throw new TypeError(b(o,h));if(!M(h)){if("default"in t)return t.default;if(t.isOptional)return null}var i=a(t.errorMessage);throw M(i)||(i=o),new TypeError(b(i,h))}},18497:function(q){q.exports=function(C){try{return C.toString()}catch{try{return String(C)}catch{return null}}}},6048:function(q,C,e){var M=e(18497),k=/[\n\r\u2028\u2029]/g;q.exports=function(a){var _=M(a);return _===null?"<Non-coercible to string value>":(_.length>100&&(_=_.slice(0,99)+""),_=_.replace(k,function(b){switch(b){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},47403:function(q,C,e){var M=e(24582),k={object:!0,function:!0,undefined:!0};q.exports=function(a){return!!M(a)&&hasOwnProperty.call(k,typeof a)}},82527:function(q,C,e){var M=e(69190),k=e(84985);q.exports=function(a){return k(a)?a:M(a,"%v is not a plain function",arguments[1])}},84985:function(q,C,e){var M=e(73116),k=/^\s*class[\s{/}]/,a=Function.prototype.toString;q.exports=function(_){return!!M(_)&&!k.test(a.call(_))}},24511:function(q,C,e){var M=e(47403);q.exports=function(k){if(!M(k))return!1;try{return!!k.constructor&&k.constructor.prototype===k}catch{return!1}}},9234:function(q,C,e){var M=e(24582),k=e(47403),a=Object.prototype.toString;q.exports=function(_){if(!M(_))return null;if(k(_)){var b=_.toString;if(typeof b!="function"||b===a)return null}try{return""+_}catch{return null}}},10424:function(q,C,e){var M=e(69190),k=e(24582);q.exports=function(a){return k(a)?a:M(a,"Cannot use %v",arguments[1])}},24582:function(q){q.exports=function(C){return C!=null}},58404:function(q,C,e){var M=e(13547),k=e(12129),a=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:k([32,0]),UINT16:k([32,0]),UINT32:k([32,0]),BIGUINT64:k([32,0]),INT8:k([32,0]),INT16:k([32,0]),INT32:k([32,0]),BIGINT64:k([32,0]),FLOAT:k([32,0]),DOUBLE:k([32,0]),DATA:k([32,0]),UINT8C:k([32,0]),BUFFER:k([32,0])});var _=typeof Uint8ClampedArray<"u",b=typeof BigUint64Array<"u",h=typeof BigInt64Array<"u",o=e.g.__TYPEDARRAY_POOL;o.UINT8C||(o.UINT8C=k([32,0])),o.BIGUINT64||(o.BIGUINT64=k([32,0])),o.BIGINT64||(o.BIGINT64=k([32,0])),o.BUFFER||(o.BUFFER=k([32,0]));var t=o.DATA,i=o.BUFFER;function n(S){if(S){var T=S.length||S.byteLength,E=M.log2(T);t[E].push(S)}}function r(S){S=M.nextPow2(S);var T=M.log2(S),E=t[T];return E.length>0?E.pop():new ArrayBuffer(S)}function l(S){return new Uint8Array(r(S),0,S)}function s(S){return new Uint16Array(r(2*S),0,S)}function u(S){return new Uint32Array(r(4*S),0,S)}function p(S){return new Int8Array(r(S),0,S)}function c(S){return new Int16Array(r(2*S),0,S)}function x(S){return new Int32Array(r(4*S),0,S)}function g(S){return new Float32Array(r(4*S),0,S)}function d(S){return new Float64Array(r(8*S),0,S)}function v(S){return _?new Uint8ClampedArray(r(S),0,S):l(S)}function y(S){return b?new BigUint64Array(r(8*S),0,S):null}function m(S){return h?new BigInt64Array(r(8*S),0,S):null}function w(S){return new DataView(r(S),0,S)}function f(S){S=M.nextPow2(S);var T=M.log2(S),E=i[T];return E.length>0?E.pop():new a(S)}C.free=function(S){if(a.isBuffer(S))i[M.log2(S.length)].push(S);else{if(Object.prototype.toString.call(S)!=="[object ArrayBuffer]"&&(S=S.buffer),!S)return;var T=S.length||S.byteLength,E=0|M.log2(T);t[E].push(S)}},C.freeUint8=C.freeUint16=C.freeUint32=C.freeBigUint64=C.freeInt8=C.freeInt16=C.freeInt32=C.freeBigInt64=C.freeFloat32=C.freeFloat=C.freeFloat64=C.freeDouble=C.freeUint8Clamped=C.freeDataView=function(S){n(S.buffer)},C.freeArrayBuffer=n,C.freeBuffer=function(S){i[M.log2(S.length)].push(S)},C.malloc=function(S,T){if(T===void 0||T==="arraybuffer")return r(S);switch(T){case"uint8":return l(S);case"uint16":return s(S);case"uint32":return u(S);case"int8":return p(S);case"int16":return c(S);case"int32":return x(S);case"float":case"float32":return g(S);case"double":case"float64":return d(S);case"uint8_clamped":return v(S);case"bigint64":return m(S);case"biguint64":return y(S);case"buffer":return f(S);case"data":case"dataview":return w(S);default:return null}return null},C.mallocArrayBuffer=r,C.mallocUint8=l,C.mallocUint16=s,C.mallocUint32=u,C.mallocInt8=p,C.mallocInt16=c,C.mallocInt32=x,C.mallocFloat32=C.mallocFloat=g,C.mallocFloat64=C.mallocDouble=d,C.mallocUint8Clamped=v,C.mallocBigUint64=y,C.mallocBigInt64=m,C.mallocDataView=w,C.mallocBuffer=f,C.clearCache=function(){for(var S=0;S<32;++S)o.UINT8[S].length=0,o.UINT16[S].length=0,o.UINT32[S].length=0,o.INT8[S].length=0,o.INT16[S].length=0,o.INT32[S].length=0,o.FLOAT[S].length=0,o.DOUBLE[S].length=0,o.BIGUINT64[S].length=0,o.BIGINT64[S].length=0,o.UINT8C[S].length=0,t[S].length=0,i[S].length=0}},90448:function(q){var C=/[\'\"]/;q.exports=function(e){return e?(C.test(e.charAt(0))&&(e=e.substr(1)),C.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""}},93447:function(q){q.exports=function(C,e,M){Array.isArray(M)||(M=[].slice.call(arguments,2));for(var k=0,a=M.length;k<a;k++){var _=M[k];for(var b in _)if((e[b]===void 0||Array.isArray(e[b])||C[b]!==e[b])&&b in e){var h;if(_[b]===!0)h=e[b];else if(_[b]===!1||typeof _[b]=="function"&&(h=_[b](e[b],C,e))===void 0)continue;C[b]=h}}return C}},20588:function(q,C,e){function M(k){try{if(!e.g.localStorage)return!1}catch{return!1}var a=e.g.localStorage[k];return a!=null&&String(a).toLowerCase()==="true"}q.exports=function(k,a){if(M("noDeprecation"))return k;var _=!1;return function(){if(!_){if(M("throwDeprecation"))throw new Error(a);M("traceDeprecation")?console.trace(a):console.warn(a),_=!0}return k.apply(this,arguments)}}},45920:function(q){q.exports=function(C){return C&&typeof C=="object"&&typeof C.copy=="function"&&typeof C.fill=="function"&&typeof C.readUInt8=="function"}},4936:function(q,C,e){var M=e(47216),k=e(65481),a=e(21099),_=e(9187);function b(z){return z.call.bind(z)}var h=typeof BigInt<"u",o=typeof Symbol<"u",t=b(Object.prototype.toString),i=b(Number.prototype.valueOf),n=b(String.prototype.valueOf),r=b(Boolean.prototype.valueOf);if(h)var l=b(BigInt.prototype.valueOf);if(o)var s=b(Symbol.prototype.valueOf);function u(z,j){if(typeof z!="object")return!1;try{return j(z),!0}catch{return!1}}function p(z){return t(z)==="[object Map]"}function c(z){return t(z)==="[object Set]"}function x(z){return t(z)==="[object WeakMap]"}function g(z){return t(z)==="[object WeakSet]"}function d(z){return t(z)==="[object ArrayBuffer]"}function v(z){return typeof ArrayBuffer<"u"&&(d.working?d(z):z instanceof ArrayBuffer)}function y(z){return t(z)==="[object DataView]"}function m(z){return typeof DataView<"u"&&(y.working?y(z):z instanceof DataView)}C.isArgumentsObject=M,C.isGeneratorFunction=k,C.isTypedArray=_,C.isPromise=function(z){return typeof Promise<"u"&&z instanceof Promise||z!==null&&typeof z=="object"&&typeof z.then=="function"&&typeof z.catch=="function"},C.isArrayBufferView=function(z){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(z):_(z)||m(z)},C.isUint8Array=function(z){return a(z)==="Uint8Array"},C.isUint8ClampedArray=function(z){return a(z)==="Uint8ClampedArray"},C.isUint16Array=function(z){return a(z)==="Uint16Array"},C.isUint32Array=function(z){return a(z)==="Uint32Array"},C.isInt8Array=function(z){return a(z)==="Int8Array"},C.isInt16Array=function(z){return a(z)==="Int16Array"},C.isInt32Array=function(z){return a(z)==="Int32Array"},C.isFloat32Array=function(z){return a(z)==="Float32Array"},C.isFloat64Array=function(z){return a(z)==="Float64Array"},C.isBigInt64Array=function(z){return a(z)==="BigInt64Array"},C.isBigUint64Array=function(z){return a(z)==="BigUint64Array"},p.working=typeof Map<"u"&&p(new Map),C.isMap=function(z){return typeof Map<"u"&&(p.working?p(z):z instanceof Map)},c.working=typeof Set<"u"&&c(new Set),C.isSet=function(z){return typeof Set<"u"&&(c.working?c(z):z instanceof Set)},x.working=typeof WeakMap<"u"&&x(new WeakMap),C.isWeakMap=function(z){return typeof WeakMap<"u"&&(x.working?x(z):z instanceof WeakMap)},g.working=typeof WeakSet<"u"&&g(new WeakSet),C.isWeakSet=function(z){return g(z)},d.working=typeof ArrayBuffer<"u"&&d(new ArrayBuffer),C.isArrayBuffer=v,y.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&y(new DataView(new ArrayBuffer(1),0,1)),C.isDataView=m;var w=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function f(z){return t(z)==="[object SharedArrayBuffer]"}function S(z){return w!==void 0&&(f.working===void 0&&(f.working=f(new w)),f.working?f(z):z instanceof w)}function T(z){return u(z,i)}function E(z){return u(z,n)}function O(z){return u(z,r)}function P(z){return h&&u(z,l)}function I(z){return o&&u(z,s)}C.isSharedArrayBuffer=S,C.isAsyncFunction=function(z){return t(z)==="[object AsyncFunction]"},C.isMapIterator=function(z){return t(z)==="[object Map Iterator]"},C.isSetIterator=function(z){return t(z)==="[object Set Iterator]"},C.isGeneratorObject=function(z){return t(z)==="[object Generator]"},C.isWebAssemblyCompiledModule=function(z){return t(z)==="[object WebAssembly.Module]"},C.isNumberObject=T,C.isStringObject=E,C.isBooleanObject=O,C.isBigIntObject=P,C.isSymbolObject=I,C.isBoxedPrimitive=function(z){return T(z)||E(z)||O(z)||P(z)||I(z)},C.isAnyArrayBuffer=function(z){return typeof Uint8Array<"u"&&(v(z)||S(z))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(z){Object.defineProperty(C,z,{enumerable:!1,value:function(){throw new Error(z+" is not supported in userland")}})})},43827:function(q,C,e){var M=e(90386),k=Object.getOwnPropertyDescriptors||function(I){for(var z=Object.keys(I),j={},R=0;R<z.length;R++)j[z[R]]=Object.getOwnPropertyDescriptor(I,z[R]);return j},a=/%[sdj%]/g;C.format=function(I){if(!x(I)){for(var z=[],j=0;j<arguments.length;j++)z.push(o(arguments[j]));return z.join(" ")}j=1;for(var R=arguments,N=R.length,Z=String(I).replace(a,function(U){if(U==="%%")return"%";if(j>=N)return U;switch(U){case"%s":return String(R[j++]);case"%d":return Number(R[j++]);case"%j":try{return JSON.stringify(R[j++])}catch{return"[Circular]"}default:return U}}),F=R[j];j<N;F=R[++j])p(F)||!v(F)?Z+=" "+F:Z+=" "+o(F);return Z},C.deprecate=function(I,z){if(M!==void 0&&M.noDeprecation===!0)return I;if(M===void 0)return function(){return C.deprecate(I,z).apply(this,arguments)};var j=!1;return function(){if(!j){if(M.throwDeprecation)throw new Error(z);M.traceDeprecation?console.trace(z):console.error(z),j=!0}return I.apply(this,arguments)}};var _={},b=/^$/;if(M.env.NODE_DEBUG){var h=M.env.NODE_DEBUG;h=h.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),b=new RegExp("^"+h+"$","i")}function o(I,z){var j={seen:[],stylize:i};return arguments.length>=3&&(j.depth=arguments[2]),arguments.length>=4&&(j.colors=arguments[3]),u(z)?j.showHidden=z:z&&C._extend(j,z),g(j.showHidden)&&(j.showHidden=!1),g(j.depth)&&(j.depth=2),g(j.colors)&&(j.colors=!1),g(j.customInspect)&&(j.customInspect=!0),j.colors&&(j.stylize=t),n(j,I,j.depth)}function t(I,z){var j=o.styles[z];return j?"\x1B["+o.colors[j][0]+"m"+I+"\x1B["+o.colors[j][1]+"m":I}function i(I,z){return I}function n(I,z,j){if(I.customInspect&&z&&w(z.inspect)&&z.inspect!==C.inspect&&(!z.constructor||z.constructor.prototype!==z)){var R=z.inspect(j,I);return x(R)||(R=n(I,R,j)),R}var N=function(X,K){if(g(K))return X.stylize("undefined","undefined");if(x(K)){var ee="'"+JSON.stringify(K).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return X.stylize(ee,"string")}return c(K)?X.stylize(""+K,"number"):u(K)?X.stylize(""+K,"boolean"):p(K)?X.stylize("null","null"):void 0}(I,z);if(N)return N;var Z=Object.keys(z),F=function(X){var K={};return X.forEach(function(ee,re){K[ee]=!0}),K}(Z);if(I.showHidden&&(Z=Object.getOwnPropertyNames(z)),m(z)&&(Z.indexOf("message")>=0||Z.indexOf("description")>=0))return r(z);if(Z.length===0){if(w(z)){var U=z.name?": "+z.name:"";return I.stylize("[Function"+U+"]","special")}if(d(z))return I.stylize(RegExp.prototype.toString.call(z),"regexp");if(y(z))return I.stylize(Date.prototype.toString.call(z),"date");if(m(z))return r(z)}var V,te="",Q=!1,J=["{","}"];return s(z)&&(Q=!0,J=["[","]"]),w(z)&&(te=" [Function"+(z.name?": "+z.name:"")+"]"),d(z)&&(te=" "+RegExp.prototype.toString.call(z)),y(z)&&(te=" "+Date.prototype.toUTCString.call(z)),m(z)&&(te=" "+r(z)),Z.length!==0||Q&&z.length!=0?j<0?d(z)?I.stylize(RegExp.prototype.toString.call(z),"regexp"):I.stylize("[Object]","special"):(I.seen.push(z),V=Q?function(X,K,ee,re,ie){for(var ae=[],ue=0,pe=K.length;ue<pe;++ue)E(K,String(ue))?ae.push(l(X,K,ee,re,String(ue),!0)):ae.push("");return ie.forEach(function(de){de.match(/^\d+$/)||ae.push(l(X,K,ee,re,de,!0))}),ae}(I,z,j,F,Z):Z.map(function(X){return l(I,z,j,F,X,Q)}),I.seen.pop(),function(X,K,ee){return X.reduce(function(re,ie){return ie.indexOf(`
`),re+ie.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?ee[0]+(K===""?"":K+`
 `)+" "+X.join(`,
  `)+" "+ee[1]:ee[0]+K+" "+X.join(", ")+" "+ee[1]}(V,te,J)):J[0]+te+J[1]}function r(I){return"["+Error.prototype.toString.call(I)+"]"}function l(I,z,j,R,N,Z){var F,U,V;if((V=Object.getOwnPropertyDescriptor(z,N)||{value:z[N]}).get?U=V.set?I.stylize("[Getter/Setter]","special"):I.stylize("[Getter]","special"):V.set&&(U=I.stylize("[Setter]","special")),E(R,N)||(F="["+N+"]"),U||(I.seen.indexOf(V.value)<0?(U=p(j)?n(I,V.value,null):n(I,V.value,j-1)).indexOf(`
`)>-1&&(U=Z?U.split(`
`).map(function(te){return"  "+te}).join(`
`).slice(2):`
`+U.split(`
`).map(function(te){return"   "+te}).join(`
`)):U=I.stylize("[Circular]","special")),g(F)){if(Z&&N.match(/^\d+$/))return U;(F=JSON.stringify(""+N)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(F=F.slice(1,-1),F=I.stylize(F,"name")):(F=F.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),F=I.stylize(F,"string"))}return F+": "+U}function s(I){return Array.isArray(I)}function u(I){return typeof I=="boolean"}function p(I){return I===null}function c(I){return typeof I=="number"}function x(I){return typeof I=="string"}function g(I){return I===void 0}function d(I){return v(I)&&f(I)==="[object RegExp]"}function v(I){return typeof I=="object"&&I!==null}function y(I){return v(I)&&f(I)==="[object Date]"}function m(I){return v(I)&&(f(I)==="[object Error]"||I instanceof Error)}function w(I){return typeof I=="function"}function f(I){return Object.prototype.toString.call(I)}function S(I){return I<10?"0"+I.toString(10):I.toString(10)}C.debuglog=function(I){if(I=I.toUpperCase(),!_[I])if(b.test(I)){var z=M.pid;_[I]=function(){var j=C.format.apply(C,arguments);console.error("%s %d: %s",I,z,j)}}else _[I]=function(){};return _[I]},C.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},C.types=e(4936),C.isArray=s,C.isBoolean=u,C.isNull=p,C.isNullOrUndefined=function(I){return I==null},C.isNumber=c,C.isString=x,C.isSymbol=function(I){return typeof I=="symbol"},C.isUndefined=g,C.isRegExp=d,C.types.isRegExp=d,C.isObject=v,C.isDate=y,C.types.isDate=y,C.isError=m,C.types.isNativeError=m,C.isFunction=w,C.isPrimitive=function(I){return I===null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||typeof I=="symbol"||I===void 0},C.isBuffer=e(45920);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(I,z){return Object.prototype.hasOwnProperty.call(I,z)}C.log=function(){var I,z;console.log("%s - %s",(z=[S((I=new Date).getHours()),S(I.getMinutes()),S(I.getSeconds())].join(":"),[I.getDate(),T[I.getMonth()],z].join(" ")),C.format.apply(C,arguments))},C.inherits=e(42018),C._extend=function(I,z){if(!z||!v(z))return I;for(var j=Object.keys(z),R=j.length;R--;)I[j[R]]=z[j[R]];return I};var O=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function P(I,z){if(!I){var j=new Error("Promise was rejected with a falsy value");j.reason=I,I=j}return z(I)}C.promisify=function(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');if(O&&I[O]){var z;if(typeof(z=I[O])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(z,O,{value:z,enumerable:!1,writable:!1,configurable:!0}),z}function z(){for(var j,R,N=new Promise(function(U,V){j=U,R=V}),Z=[],F=0;F<arguments.length;F++)Z.push(arguments[F]);Z.push(function(U,V){U?R(U):j(V)});try{I.apply(this,Z)}catch(U){R(U)}return N}return Object.setPrototypeOf(z,Object.getPrototypeOf(I)),O&&Object.defineProperty(z,O,{value:z,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(z,k(I))},C.promisify.custom=O,C.callbackify=function(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');function z(){for(var j=[],R=0;R<arguments.length;R++)j.push(arguments[R]);var N=j.pop();if(typeof N!="function")throw new TypeError("The last argument must be of type Function");var Z=this,F=function(){return N.apply(Z,arguments)};I.apply(this,j).then(function(U){M.nextTick(F.bind(null,null,U))},function(U){M.nextTick(P.bind(null,U,F))})}return Object.setPrototypeOf(z,Object.getPrototypeOf(I)),Object.defineProperties(z,k(I)),z}},40372:function(q,C,e){var M=e(86249);q.exports=function(k){return M("webgl",k)}},21099:function(q,C,e){var M=e(31353),k=e(72077),a=e(6614),_=e(40383),b=a("Object.prototype.toString"),h=e(84543)(),o=typeof globalThis>"u"?e.g:globalThis,t=k(),i=a("String.prototype.slice"),n={},r=Object.getPrototypeOf;h&&_&&r&&M(t,function(s){if(typeof o[s]=="function"){var u=new o[s];if(Symbol.toStringTag in u){var p=r(u),c=_(p,Symbol.toStringTag);if(!c){var x=r(p);c=_(x,Symbol.toStringTag)}n[s]=c.get}}});var l=e(9187);q.exports=function(s){return!!l(s)&&(h&&Symbol.toStringTag in s?function(u){var p=!1;return M(n,function(c,x){if(!p)try{var g=c.call(u);g===x&&(p=g)}catch{}}),p}(s):i(b(s),8,-1))}},3961:function(q,C,e){var M=e(63489),k=e(56131),a=M.instance();function _(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}_.prototype=new M.baseCalendar,k(_.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(r,l){if(typeof r=="string"){var s=r.match(h);return s?s[0]:""}var u=this._validateYear(r),p=r.month(),c=""+this.toChineseMonth(u,p);return l&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(u,p)&&(c+="i"),c},monthNames:function(r){if(typeof r=="string"){var l=r.match(o);return l?l[0]:""}var s=this._validateYear(r),u=r.month(),p=["","","","","","","","","","","",""][this.toChineseMonth(s,u)-1];return this.isIntercalaryMonth(s,u)&&(p=""+p),p},monthNamesShort:function(r){if(typeof r=="string"){var l=r.match(t);return l?l[0]:""}var s=this._validateYear(r),u=r.month(),p=["","","","","","","","","","","",""][this.toChineseMonth(s,u)-1];return this.isIntercalaryMonth(s,u)&&(p=""+p),p},parseMonth:function(r,l){r=this._validateYear(r);var s,u=parseInt(l);if(isNaN(u))l[0]===""&&(s=!0,l=l.substring(1)),l[l.length-1]===""&&(l=l.substring(0,l.length-1)),u=1+["","","","","","","","","","","",""].indexOf(l);else{var p=l[l.length-1];s=p==="i"||p==="I"}return this.toMonthIndex(r,u,s)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(r,l){if(r.year&&(r=r.year()),typeof r!="number"||r<1888||r>2111)throw l.replace(/\{0\}/,this.local.name);return r},toMonthIndex:function(r,l,s){var u=this.intercalaryMonth(r);if(s&&l!==u||l<1||l>12)throw M.local.invalidMonth.replace(/\{0\}/,this.local.name);return u?!s&&l<=u?l-1:l:l-1},toChineseMonth:function(r,l){r.year&&(l=(r=r.year()).month());var s=this.intercalaryMonth(r);if(l<0||l>(s?12:11))throw M.local.invalidMonth.replace(/\{0\}/,this.local.name);return s?l<s?l+1:l:l+1},intercalaryMonth:function(r){return r=this._validateYear(r),i[r-i[0]]>>13},isIntercalaryMonth:function(r,l){r.year&&(l=(r=r.year()).month());var s=this.intercalaryMonth(r);return!!s&&s===l},leapYear:function(r){return this.intercalaryMonth(r)!==0},weekOfYear:function(r,l,s){var u,p=this._validateYear(r,M.local.invalidyear),c=n[p-n[0]],x=c>>9&4095,g=c>>5&15,d=31&c;(u=a.newDate(x,g,d)).add(4-(u.dayOfWeek()||7),"d");var v=this.toJD(r,l,s)-u.toJD();return 1+Math.floor(v/7)},monthsInYear:function(r){return this.leapYear(r)?13:12},daysInMonth:function(r,l){r.year&&(l=r.month(),r=r.year()),r=this._validateYear(r);var s=i[r-i[0]];if(l>(s>>13?12:11))throw M.local.invalidMonth.replace(/\{0\}/,this.local.name);return s&1<<12-l?30:29},weekDay:function(r,l,s){return(this.dayOfWeek(r,l,s)||7)<6},toJD:function(r,l,s){var u=this._validate(r,c,s,M.local.invalidDate);r=this._validateYear(u.year()),l=u.month(),s=u.day();var p=this.isIntercalaryMonth(r,l),c=this.toChineseMonth(r,l),x=function(g,d,v,y,m){var w,f,S;if(typeof g=="object")f=g,w=d||{};else{var T;if(!(typeof g=="number"&&g>=1888&&g<=2111))throw new Error("Lunar year outside range 1888-2111");if(!(typeof d=="number"&&d>=1&&d<=12))throw new Error("Lunar month outside range 1 - 12");if(!(typeof v=="number"&&v>=1&&v<=30))throw new Error("Lunar day outside range 1 - 30");typeof y=="object"?(T=!1,w=y):(T=!!y,w={}),f={year:g,month:d,day:v,isIntercalary:T}}S=f.day-1;var E,O=i[f.year-i[0]],P=O>>13;E=P&&(f.month>P||f.isIntercalary)?f.month:f.month-1;for(var I=0;I<E;I++)S+=O&1<<12-I?30:29;var z=n[f.year-n[0]],j=new Date(z>>9&4095,(z>>5&15)-1,(31&z)+S);return w.year=j.getFullYear(),w.month=1+j.getMonth(),w.day=j.getDate(),w}(r,c,s,p);return a.toJD(x.year,x.month,x.day)},fromJD:function(r){var l=a.fromJD(r),s=function(p,c,x,g){var d,v;if(typeof p=="object")d=p,v=c||{};else{if(!(typeof p=="number"&&p>=1888&&p<=2111))throw new Error("Solar year outside range 1888-2111");if(!(typeof c=="number"&&c>=1&&c<=12))throw new Error("Solar month outside range 1 - 12");if(!(typeof x=="number"&&x>=1&&x<=31))throw new Error("Solar day outside range 1 - 31");d={year:p,month:c,day:x},v={}}var y=n[d.year-n[0]],m=d.year<<9|d.month<<5|d.day;v.year=m>=y?d.year:d.year-1,y=n[v.year-n[0]];var w,f=new Date(y>>9&4095,(y>>5&15)-1,31&y),S=new Date(d.year,d.month-1,d.day);w=Math.round((S-f)/864e5);var T,E=i[v.year-i[0]];for(T=0;T<13;T++){var O=E&1<<12-T?30:29;if(w<O)break;w-=O}var P=E>>13;return!P||T<P?(v.isIntercalary=!1,v.month=1+T):T===P?(v.isIntercalary=!0,v.month=T):(v.isIntercalary=!1,v.month=T),v.day=1+w,v}(l.year(),l.month(),l.day()),u=this.toMonthIndex(s.year,s.month,s.isIntercalary);return this.newDate(s.year,u,s.day)},fromString:function(r){var l=r.match(b),s=this._validateYear(+l[1]),u=+l[2],p=!!l[3],c=this.toMonthIndex(s,u,p),x=+l[4];return this.newDate(s,c,x)},add:function(r,l,s){var u=r.year(),p=r.month(),c=this.isIntercalaryMonth(u,p),x=this.toChineseMonth(u,p),g=Object.getPrototypeOf(_.prototype).add.call(this,r,l,s);if(s==="y"){var d=g.year(),v=g.month(),y=this.isIntercalaryMonth(d,x),m=c&&y?this.toMonthIndex(d,x,!0):this.toMonthIndex(d,x,!1);m!==v&&g.month(m)}return g}});var b=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,h=/^\d?\d[iI]?/m,o=/^??[]?/m,t=/^??[]?/m;M.calendars.chinese=_;var i=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],n=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},38751:function(q,C,e){var M=e(63489),k=e(56131);function a(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(_){var b=this._validate(_,this.minMonth,this.minDay,M.local.invalidYear);return(_=b.year()+(b.year()<0?1:0))%4==3||_%4==-1},monthsInYear:function(_){return this._validate(_,this.minMonth,this.minDay,M.local.invalidYear||M.regionalOptions[""].invalidYear),13},weekOfYear:function(_,b,h){var o=this.newDate(_,b,h);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(_,b){var h=this._validate(_,b,this.minDay,M.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===13&&this.leapYear(h.year())?1:0)},weekDay:function(_,b,h){return(this.dayOfWeek(_,b,h)||7)<6},toJD:function(_,b,h){var o=this._validate(_,b,h,M.local.invalidDate);return(_=o.year())<0&&_++,o.day()+30*(o.month()-1)+365*(_-1)+Math.floor(_/4)+this.jdEpoch-1},fromJD:function(_){var b=Math.floor(_)+.5-this.jdEpoch,h=Math.floor((b-Math.floor((b+366)/1461))/365)+1;h<=0&&h--,b=Math.floor(_)+.5-this.newDate(h,1,1).toJD();var o=Math.floor(b/30)+1,t=b-30*(o-1)+1;return this.newDate(h,o,t)}}),M.calendars.coptic=a},86825:function(q,C,e){var M=e(63489),k=e(56131);function a(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(b){return this._validate(b,this.minMonth,this.minDay,M.local.invalidYear),!1},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,M.local.invalidYear),13},daysInYear:function(b){return this._validate(b,this.minMonth,this.minDay,M.local.invalidYear),400},weekOfYear:function(b,h,o){var t=this.newDate(b,h,o);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(b,h){var o=this._validate(b,h,this.minDay,M.local.invalidMonth);return this.daysPerMonth[o.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(b,h,o){return(this._validate(b,h,o,M.local.invalidDate).day()+1)%8},weekDay:function(b,h,o){var t=this.dayOfWeek(b,h,o);return t>=2&&t<=6},extraInfo:function(b,h,o){var t=this._validate(b,h,o,M.local.invalidDate);return{century:_[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(b,h,o){var t=this._validate(b,h,o,M.local.invalidDate);return b=t.year()+(t.year()<0?1:0),h=t.month(),(o=t.day())+(h>1?16:0)+(h>2?32*(h-2):0)+400*(b-1)+this.jdEpoch-1},fromJD:function(b){b=Math.floor(b+.5)-Math.floor(this.jdEpoch)-1;var h=Math.floor(b/400)+1;b-=400*(h-1),b+=b>15?16:0;var o=Math.floor(b/32)+1,t=b-32*(o-1)+1;return this.newDate(h<=0?h-1:h,o,t)}});var _={20:"Fruitbat",21:"Anchovy"};M.calendars.discworld=a},37715:function(q,C,e){var M=e(63489),k=e(56131);function a(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(_){var b=this._validate(_,this.minMonth,this.minDay,M.local.invalidYear);return(_=b.year()+(b.year()<0?1:0))%4==3||_%4==-1},monthsInYear:function(_){return this._validate(_,this.minMonth,this.minDay,M.local.invalidYear||M.regionalOptions[""].invalidYear),13},weekOfYear:function(_,b,h){var o=this.newDate(_,b,h);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(_,b){var h=this._validate(_,b,this.minDay,M.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===13&&this.leapYear(h.year())?1:0)},weekDay:function(_,b,h){return(this.dayOfWeek(_,b,h)||7)<6},toJD:function(_,b,h){var o=this._validate(_,b,h,M.local.invalidDate);return(_=o.year())<0&&_++,o.day()+30*(o.month()-1)+365*(_-1)+Math.floor(_/4)+this.jdEpoch-1},fromJD:function(_){var b=Math.floor(_)+.5-this.jdEpoch,h=Math.floor((b-Math.floor((b+366)/1461))/365)+1;h<=0&&h--,b=Math.floor(_)+.5-this.newDate(h,1,1).toJD();var o=Math.floor(b/30)+1,t=b-30*(o-1)+1;return this.newDate(h,o,t)}}),M.calendars.ethiopian=a},99384:function(q,C,e){var M=e(63489),k=e(56131);function a(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}function _(b,h){return b-h*Math.floor(b/h)}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var h=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return this._leapYear(h.year())},_leapYear:function(b){return _(7*(b=b<0?b+1:b)+1,19)<7},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,M.local.invalidYear),this._leapYear(b.year?b.year():b)?13:12},weekOfYear:function(b,h,o){var t=this.newDate(b,h,o);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(b){return b=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear).year(),this.toJD(b===-1?1:b+1,7,1)-this.toJD(b,7,1)},daysInMonth:function(b,h){return b.year&&(h=b.month(),b=b.year()),this._validate(b,h,this.minDay,M.local.invalidMonth),h===12&&this.leapYear(b)||h===8&&_(this.daysInYear(b),10)===5?30:h===9&&_(this.daysInYear(b),10)===3?29:this.daysPerMonth[h-1]},weekDay:function(b,h,o){return this.dayOfWeek(b,h,o)!==6},extraInfo:function(b,h,o){var t=this._validate(b,h,o,M.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(b,h,o){var t=this._validate(b,h,o,M.local.invalidDate);b=t.year(),h=t.month(),o=t.day();var i=b<=0?b+1:b,n=this.jdEpoch+this._delay1(i)+this._delay2(i)+o+1;if(h<7){for(var r=7;r<=this.monthsInYear(b);r++)n+=this.daysInMonth(b,r);for(r=1;r<h;r++)n+=this.daysInMonth(b,r)}else for(r=7;r<h;r++)n+=this.daysInMonth(b,r);return n},_delay1:function(b){var h=Math.floor((235*b-234)/19),o=12084+13753*h,t=29*h+Math.floor(o/25920);return _(3*(t+1),7)<3&&t++,t},_delay2:function(b){var h=this._delay1(b-1),o=this._delay1(b);return this._delay1(b+1)-o==356?2:o-h==382?1:0},fromJD:function(b){b=Math.floor(b)+.5;for(var h=Math.floor(98496*(b-this.jdEpoch)/35975351)-1;b>=this.toJD(h===-1?1:h+1,7,1);)h++;for(var o=b<this.toJD(h,1,1)?7:1;b>this.toJD(h,o,this.daysInMonth(h,o));)o++;var t=b-this.toJD(h,o,1)+1;return this.newDate(h,o,t)}}),M.calendars.hebrew=a},43805:function(q,C,e){var M=e(63489),k=e(56131);function a(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(_){return(11*this._validate(_,this.minMonth,this.minDay,M.local.invalidYear).year()+14)%30<11},weekOfYear:function(_,b,h){var o=this.newDate(_,b,h);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInYear:function(_){return this.leapYear(_)?355:354},daysInMonth:function(_,b){var h=this._validate(_,b,this.minDay,M.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===12&&this.leapYear(h.year())?1:0)},weekDay:function(_,b,h){return this.dayOfWeek(_,b,h)!==5},toJD:function(_,b,h){var o=this._validate(_,b,h,M.local.invalidDate);return _=o.year(),b=o.month(),_=_<=0?_+1:_,(h=o.day())+Math.ceil(29.5*(b-1))+354*(_-1)+Math.floor((3+11*_)/30)+this.jdEpoch-1},fromJD:function(_){_=Math.floor(_)+.5;var b=Math.floor((30*(_-this.jdEpoch)+10646)/10631);b=b<=0?b-1:b;var h=Math.min(12,Math.ceil((_-29-this.toJD(b,1,1))/29.5)+1),o=_-this.toJD(b,h,1)+1;return this.newDate(b,h,o)}}),M.calendars.islamic=a},88874:function(q,C,e){var M=e(63489),k=e(56131);function a(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(_){var b=this._validate(_,this.minMonth,this.minDay,M.local.invalidYear);return(_=b.year()<0?b.year()+1:b.year())%4==0},weekOfYear:function(_,b,h){var o=this.newDate(_,b,h);return o.add(4-(o.dayOfWeek()||7),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(_,b){var h=this._validate(_,b,this.minDay,M.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===2&&this.leapYear(h.year())?1:0)},weekDay:function(_,b,h){return(this.dayOfWeek(_,b,h)||7)<6},toJD:function(_,b,h){var o=this._validate(_,b,h,M.local.invalidDate);return _=o.year(),b=o.month(),h=o.day(),_<0&&_++,b<=2&&(_--,b+=12),Math.floor(365.25*(_+4716))+Math.floor(30.6001*(b+1))+h-1524.5},fromJD:function(_){var b=Math.floor(_+.5)+1524,h=Math.floor((b-122.1)/365.25),o=Math.floor(365.25*h),t=Math.floor((b-o)/30.6001),i=t-Math.floor(t<14?1:13),n=h-Math.floor(i>2?4716:4715),r=b-o-Math.floor(30.6001*t);return n<=0&&n--,this.newDate(n,i,r)}}),M.calendars.julian=a},83290:function(q,C,e){var M=e(63489),k=e(56131);function a(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}function _(h,o){return h-o*Math.floor(h/o)}function b(h,o){return _(h-1,o)+1}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(h){return this._validate(h,this.minMonth,this.minDay,M.local.invalidYear),!1},formatYear:function(h){h=this._validate(h,this.minMonth,this.minDay,M.local.invalidYear).year();var o=Math.floor(h/400);return h%=400,h+=h<0?400:0,o+"."+Math.floor(h/20)+"."+h%20},forYear:function(h){if((h=h.split(".")).length<3)throw"Invalid Mayan year";for(var o=0,t=0;t<h.length;t++){var i=parseInt(h[t],10);if(Math.abs(i)>19||t>0&&i<0)throw"Invalid Mayan year";o=20*o+i}return o},monthsInYear:function(h){return this._validate(h,this.minMonth,this.minDay,M.local.invalidYear),18},weekOfYear:function(h,o,t){return this._validate(h,o,t,M.local.invalidDate),0},daysInYear:function(h){return this._validate(h,this.minMonth,this.minDay,M.local.invalidYear),360},daysInMonth:function(h,o){return this._validate(h,o,this.minDay,M.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(h,o,t){return this._validate(h,o,t,M.local.invalidDate).day()},weekDay:function(h,o,t){return this._validate(h,o,t,M.local.invalidDate),!0},extraInfo:function(h,o,t){var i=this._validate(h,o,t,M.local.invalidDate).toJD(),n=this._toHaab(i),r=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[r[0]-1],tzolkinDay:r[0],tzolkinTrecena:r[1]}},_toHaab:function(h){var o=_(8+(h-=this.jdEpoch)+340,365);return[Math.floor(o/20)+1,_(o,20)]},_toTzolkin:function(h){return[b(20+(h-=this.jdEpoch),20),b(h+4,13)]},toJD:function(h,o,t){var i=this._validate(h,o,t,M.local.invalidDate);return i.day()+20*i.month()+360*i.year()+this.jdEpoch},fromJD:function(h){h=Math.floor(h)+.5-this.jdEpoch;var o=Math.floor(h/360);h%=360,h+=h<0?360:0;var t=Math.floor(h/20),i=h%20;return this.newDate(o,t,i)}}),M.calendars.mayan=a},29108:function(q,C,e){var M=e(63489),k=e(56131);function a(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar;var _=M.instance("gregorian");k(a.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var h=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear||M.regionalOptions[""].invalidYear);return _.leapYear(h.year()+(h.year()<1?1:0)+1469)},weekOfYear:function(b,h,o){var t=this.newDate(b,h,o);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(b,h){var o=this._validate(b,h,this.minDay,M.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===12&&this.leapYear(o.year())?1:0)},weekDay:function(b,h,o){return(this.dayOfWeek(b,h,o)||7)<6},toJD:function(b,h,o){var t=this._validate(b,h,o,M.local.invalidMonth);(b=t.year())<0&&b++;for(var i=t.day(),n=1;n<t.month();n++)i+=this.daysPerMonth[n-1];return i+_.toJD(b+1468,3,13)},fromJD:function(b){b=Math.floor(b+.5);for(var h=Math.floor((b-(this.jdEpoch-1))/366);b>=this.toJD(h+1,1,1);)h++;for(var o=b-Math.floor(this.toJD(h,1,1)+.5)+1,t=1;o>this.daysInMonth(h,t);)o-=this.daysInMonth(h,t),t++;return this.newDate(h,t,o)}}),M.calendars.nanakshahi=a},55422:function(q,C,e){var M=e(63489),k=e(56131);function a(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(_){return this.daysInYear(_)!==this.daysPerYear},weekOfYear:function(_,b,h){var o=this.newDate(_,b,h);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInYear:function(_){if(_=this._validate(_,this.minMonth,this.minDay,M.local.invalidYear).year(),this.NEPALI_CALENDAR_DATA[_]===void 0)return this.daysPerYear;for(var b=0,h=this.minMonth;h<=12;h++)b+=this.NEPALI_CALENDAR_DATA[_][h];return b},daysInMonth:function(_,b){return _.year&&(b=_.month(),_=_.year()),this._validate(_,b,this.minDay,M.local.invalidMonth),this.NEPALI_CALENDAR_DATA[_]===void 0?this.daysPerMonth[b-1]:this.NEPALI_CALENDAR_DATA[_][b]},weekDay:function(_,b,h){return this.dayOfWeek(_,b,h)!==6},toJD:function(_,b,h){var o=this._validate(_,b,h,M.local.invalidDate);_=o.year(),b=o.month(),h=o.day();var t=M.instance(),i=0,n=b,r=_;this._createMissingCalendarData(_);var l=_-(n>9||n===9&&h>=this.NEPALI_CALENDAR_DATA[r][0]?56:57);for(b!==9&&(i=h,n--);n!==9;)n<=0&&(n=12,r--),i+=this.NEPALI_CALENDAR_DATA[r][n],n--;return b===9?(i+=h-this.NEPALI_CALENDAR_DATA[r][0])<0&&(i+=t.daysInYear(l)):i+=this.NEPALI_CALENDAR_DATA[r][9]-this.NEPALI_CALENDAR_DATA[r][0],t.newDate(l,1,1).add(i,"d").toJD()},fromJD:function(_){var b=M.instance().fromJD(_),h=b.year(),o=b.dayOfYear(),t=h+56;this._createMissingCalendarData(t);for(var i=9,n=this.NEPALI_CALENDAR_DATA[t][0],r=this.NEPALI_CALENDAR_DATA[t][i]-n+1;o>r;)++i>12&&(i=1,t++),r+=this.NEPALI_CALENDAR_DATA[t][i];var l=this.NEPALI_CALENDAR_DATA[t][i]-(r-o);return this.newDate(t,i,l)},_createMissingCalendarData:function(_){var b=this.daysPerMonth.slice(0);b.unshift(17);for(var h=_-1;h<_+2;h++)this.NEPALI_CALENDAR_DATA[h]===void 0&&(this.NEPALI_CALENDAR_DATA[h]=b)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),M.calendars.nepali=a},94320:function(q,C,e){var M=e(63489),k=e(56131);function a(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}function _(b,h){return b-h*Math.floor(b/h)}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(b){var h=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return 682*((h.year()-(h.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(b,h,o){var t=this.newDate(b,h,o);return t.add(-(t.dayOfWeek()+1)%7,"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(b,h){var o=this._validate(b,h,this.minDay,M.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===12&&this.leapYear(o.year())?1:0)},weekDay:function(b,h,o){return this.dayOfWeek(b,h,o)!==5},toJD:function(b,h,o){var t=this._validate(b,h,o,M.local.invalidDate);b=t.year(),h=t.month(),o=t.day();var i=b-(b>=0?474:473),n=474+_(i,2820);return o+(h<=7?31*(h-1):30*(h-1)+6)+Math.floor((682*n-110)/2816)+365*(n-1)+1029983*Math.floor(i/2820)+this.jdEpoch-1},fromJD:function(b){var h=(b=Math.floor(b)+.5)-this.toJD(475,1,1),o=Math.floor(h/1029983),t=_(h,1029983),i=2820;if(t!==1029982){var n=Math.floor(t/366),r=_(t,366);i=Math.floor((2134*n+2816*r+2815)/1028522)+n+1}var l=i+2820*o+474;l=l<=0?l-1:l;var s=b-this.toJD(l,1,1)+1,u=s<=186?Math.ceil(s/31):Math.ceil((s-6)/30),p=b-this.toJD(l,u,1)+1;return this.newDate(l,u,p)}}),M.calendars.persian=a,M.calendars.jalali=a},31320:function(q,C,e){var M=e(63489),k=e(56131),a=M.instance();function _(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}_.prototype=new M.baseCalendar,k(_.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(b){var h=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return b=this._t2gYear(h.year()),a.leapYear(b)},weekOfYear:function(b,h,o){var t=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return b=this._t2gYear(t.year()),a.weekOfYear(b,t.month(),t.day())},daysInMonth:function(b,h){var o=this._validate(b,h,this.minDay,M.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===2&&this.leapYear(o.year())?1:0)},weekDay:function(b,h,o){return(this.dayOfWeek(b,h,o)||7)<6},toJD:function(b,h,o){var t=this._validate(b,h,o,M.local.invalidDate);return b=this._t2gYear(t.year()),a.toJD(b,t.month(),t.day())},fromJD:function(b){var h=a.fromJD(b),o=this._g2tYear(h.year());return this.newDate(o,h.month(),h.day())},_t2gYear:function(b){return b+this.yearsOffset+(b>=-this.yearsOffset&&b<=-1?1:0)},_g2tYear:function(b){return b-this.yearsOffset-(b>=1&&b<=this.yearsOffset?1:0)}}),M.calendars.taiwan=_},51367:function(q,C,e){var M=e(63489),k=e(56131),a=M.instance();function _(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}_.prototype=new M.baseCalendar,k(_.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var h=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return b=this._t2gYear(h.year()),a.leapYear(b)},weekOfYear:function(b,h,o){var t=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return b=this._t2gYear(t.year()),a.weekOfYear(b,t.month(),t.day())},daysInMonth:function(b,h){var o=this._validate(b,h,this.minDay,M.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===2&&this.leapYear(o.year())?1:0)},weekDay:function(b,h,o){return(this.dayOfWeek(b,h,o)||7)<6},toJD:function(b,h,o){var t=this._validate(b,h,o,M.local.invalidDate);return b=this._t2gYear(t.year()),a.toJD(b,t.month(),t.day())},fromJD:function(b){var h=a.fromJD(b),o=this._g2tYear(h.year());return this.newDate(o,h.month(),h.day())},_t2gYear:function(b){return b-this.yearsOffset-(b>=1&&b<=this.yearsOffset?1:0)},_g2tYear:function(b){return b+this.yearsOffset+(b>=-this.yearsOffset&&b<=-1?1:0)}}),M.calendars.thai=_},21457:function(q,C,e){var M=e(63489),k=e(56131);function a(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(b){var h=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return this.daysInYear(h.year())===355},weekOfYear:function(b,h,o){var t=this.newDate(b,h,o);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(b){for(var h=0,o=1;o<=12;o++)h+=this.daysInMonth(b,o);return h},daysInMonth:function(b,h){for(var o=this._validate(b,h,this.minDay,M.local.invalidMonth).toJD()-24e5+.5,t=0,i=0;i<_.length;i++){if(_[i]>o)return _[t]-_[t-1];t++}return 30},weekDay:function(b,h,o){return this.dayOfWeek(b,h,o)!==5},toJD:function(b,h,o){var t=this._validate(b,h,o,M.local.invalidDate),i=12*(t.year()-1)+t.month()-15292;return t.day()+_[i-1]-1+24e5-.5},fromJD:function(b){for(var h=b-24e5+.5,o=0,t=0;t<_.length&&!(_[t]>h);t++)o++;var i=o+15292,n=Math.floor((i-1)/12),r=n+1,l=i-12*n,s=h-_[o-1]+1;return this.newDate(r,l,s)},isValid:function(b,h,o){var t=M.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(t=(b=b.year!=null?b.year:b)>=1276&&b<=1500),t},_validate:function(b,h,o,t){var i=M.baseCalendar.prototype._validate.apply(this,arguments);if(i.year<1276||i.year>1500)throw t.replace(/\{0\}/,this.local.name);return i}}),M.calendars.ummalqura=a;var _=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(q,C,e){var M=e(56131);function k(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function a(t,i,n,r){if(this._calendar=t,this._year=i,this._month=n,this._day=r,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(o.local.invalidDate||o.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function _(t,i){return"000000".substring(0,i-(t=""+t).length)+t}function b(){this.shortYearCutoff="+10"}function h(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}M(k.prototype,{instance:function(t,i){t=(t||"gregorian").toLowerCase(),i=i||"";var n=this._localCals[t+"-"+i];if(!n&&this.calendars[t]&&(n=new this.calendars[t](i),this._localCals[t+"-"+i]=n),!n)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return n},newDate:function(t,i,n,r,l){return(r=(t!=null&&t.year?t.calendar():typeof r=="string"?this.instance(r,l):r)||this.instance()).newDate(t,i,n)},substituteDigits:function(t){return function(i){return(i+"").replace(/[0-9]/g,function(n){return t[n]})}},substituteChineseDigits:function(t,i){return function(n){for(var r="",l=0;n>0;){var s=n%10;r=(s===0?"":t[s]+i[l])+r,l++,n=Math.floor(n/10)}return r.indexOf(t[1]+i[1])===0&&(r=r.substr(1)),r||t[0]}}}),M(a.prototype,{newDate:function(t,i,n){return this._calendar.newDate(t??this,i,n)},year:function(t){return arguments.length===0?this._year:this.set(t,"y")},month:function(t){return arguments.length===0?this._month:this.set(t,"m")},day:function(t){return arguments.length===0?this._day:this.set(t,"d")},date:function(t,i,n){if(!this._calendar.isValid(t,i,n))throw(o.local.invalidDate||o.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=i,this._day=n,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,i){return this._calendar.add(this,t,i)},set:function(t,i){return this._calendar.set(this,t,i)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(o.local.differentCalendars||o.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var i=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return i===0?0:i<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+_(Math.abs(this.year()),4)+"-"+_(this.month(),2)+"-"+_(this.day(),2)}}),M(b.prototype,{_validateLevel:0,newDate:function(t,i,n){return t==null?this.today():(t.year&&(this._validate(t,i,n,o.local.invalidDate||o.regionalOptions[""].invalidDate),n=t.day(),i=t.month(),t=t.year()),new a(this,t,i,n))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){return this._validate(t,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return(i.year()<0?"-":"")+_(Math.abs(i.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear),12},monthOfYear:function(t,i){var n=this._validate(t,i,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth);return(n.month()+this.monthsInYear(n)-this.firstMonth)%this.monthsInYear(n)+this.minMonth},fromMonthOfYear:function(t,i){var n=(i+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,n,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth),n},daysInYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return this.leapYear(i)?366:365},dayOfYear:function(t,i,n){var r=this._validate(t,i,n,o.local.invalidDate||o.regionalOptions[""].invalidDate);return r.toJD()-this.newDate(r.year(),this.fromMonthOfYear(r.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,i,n){var r=this._validate(t,i,n,o.local.invalidDate||o.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(r))+2)%this.daysInWeek()},extraInfo:function(t,i,n){return this._validate(t,i,n,o.local.invalidDate||o.regionalOptions[""].invalidDate),{}},add:function(t,i,n){return this._validate(t,this.minMonth,this.minDay,o.local.invalidDate||o.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,i,n),i,n)},_add:function(t,i,n){if(this._validateLevel++,n==="d"||n==="w"){var r=t.toJD()+i*(n==="w"?this.daysInWeek():1),l=t.calendar().fromJD(r);return this._validateLevel--,[l.year(),l.month(),l.day()]}try{var s=t.year()+(n==="y"?i:0),u=t.monthOfYear()+(n==="m"?i:0);l=t.day(),n==="y"?(t.month()!==this.fromMonthOfYear(s,u)&&(u=this.newDate(s,t.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(s)),l=Math.min(l,this.daysInMonth(s,this.fromMonthOfYear(s,u)))):n==="m"&&(function(c){for(;u<c.minMonth;)s--,u+=c.monthsInYear(s);for(var x=c.monthsInYear(s);u>x-1+c.minMonth;)s++,u-=x,x=c.monthsInYear(s)}(this),l=Math.min(l,this.daysInMonth(s,this.fromMonthOfYear(s,u))));var p=[s,this.fromMonthOfYear(s,u),l];return this._validateLevel--,p}catch(c){throw this._validateLevel--,c}},_correctAdd:function(t,i,n,r){if(!(this.hasYearZero||r!=="y"&&r!=="m"||i[0]!==0&&t.year()>0==i[0]>0)){var l={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[r],s=n<0?-1:1;i=this._add(t,n*l[0]+s*l[1],l[2])}return t.date(i[0],i[1],i[2])},set:function(t,i,n){this._validate(t,this.minMonth,this.minDay,o.local.invalidDate||o.regionalOptions[""].invalidDate);var r=n==="y"?i:t.year(),l=n==="m"?i:t.month(),s=n==="d"?i:t.day();return n!=="y"&&n!=="m"||(s=Math.min(s,this.daysInMonth(r,l))),t.date(r,l,s)},isValid:function(t,i,n){this._validateLevel++;var r=this.hasYearZero||t!==0;if(r){var l=this.newDate(t,i,this.minDay);r=i>=this.minMonth&&i-this.minMonth<this.monthsInYear(l)&&n>=this.minDay&&n-this.minDay<this.daysInMonth(l)}return this._validateLevel--,r},toJSDate:function(t,i,n){var r=this._validate(t,i,n,o.local.invalidDate||o.regionalOptions[""].invalidDate);return o.instance().fromJD(this.toJD(r)).toJSDate()},fromJSDate:function(t){return this.fromJD(o.instance().fromJSDate(t).toJD())},_validate:function(t,i,n,r){if(t.year){if(this._validateLevel===0&&this.name!==t.calendar().name)throw(o.local.differentCalendars||o.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(t,i,n))throw r.replace(/\{0\}/,this.local.name);var l=this.newDate(t,i,n);return this._validateLevel--,l}catch(s){throw this._validateLevel--,s}}}),h.prototype=new b,M(h.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return(t=i.year()+(i.year()<0?1:0))%4==0&&(t%100!=0||t%400==0)},weekOfYear:function(t,i,n){var r=this.newDate(t,i,n);return r.add(4-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(t,i){var n=this._validate(t,i,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===2&&this.leapYear(n.year())?1:0)},weekDay:function(t,i,n){return(this.dayOfWeek(t,i,n)||7)<6},toJD:function(t,i,n){var r=this._validate(t,i,n,o.local.invalidDate||o.regionalOptions[""].invalidDate);t=r.year(),i=r.month(),n=r.day(),t<0&&t++,i<3&&(i+=12,t--);var l=Math.floor(t/100),s=2-l+Math.floor(l/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+n+s-1524.5},fromJD:function(t){var i=Math.floor(t+.5),n=Math.floor((i-186721625e-2)/36524.25),r=1524+(n=i+1+n-Math.floor(n/4)),l=Math.floor((r-122.1)/365.25),s=Math.floor(365.25*l),u=Math.floor((r-s)/30.6001),p=r-s-Math.floor(30.6001*u),c=u-(u>13.5?13:1),x=l-(c>2.5?4716:4715);return x<=0&&x--,this.newDate(x,c,p)},toJSDate:function(t,i,n){var r=this._validate(t,i,n,o.local.invalidDate||o.regionalOptions[""].invalidDate),l=new Date(r.year(),r.month()-1,r.day());return l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0),l.setHours(l.getHours()>12?l.getHours()+2:0),l},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var o=q.exports=new k;o.cdate=a,o.baseCalendar=b,o.calendars.gregorian=h},94338:function(q,C,e){var M=e(56131),k=e(63489);M(k.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),k.local=k.regionalOptions[""],M(k.cdate.prototype,{formatDate:function(a,_){return typeof a!="string"&&(_=a,a=""),this._calendar.formatDate(a||"",this,_)}}),M(k.baseCalendar.prototype,{UNIX_EPOCH:k.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:k.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,_,b){if(typeof a!="string"&&(b=_,_=a,a=""),!_)return"";if(_.calendar()!==this)throw k.local.invalidFormat||k.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat;for(var h,o,t,i=(b=b||{}).dayNamesShort||this.local.dayNamesShort,n=b.dayNames||this.local.dayNames,r=b.monthNumbers||this.local.monthNumbers,l=b.monthNamesShort||this.local.monthNamesShort,s=b.monthNames||this.local.monthNames,u=(b.calculateWeek||this.local.calculateWeek,function(f,S){for(var T=1;w+T<a.length&&a.charAt(w+T)===f;)T++;return w+=T-1,Math.floor(T/(S||1))>1}),p=function(f,S,T,E){var O=""+S;if(u(f,E))for(;O.length<T;)O="0"+O;return O},c=this,x=function(f){return typeof r=="function"?r.call(c,f,u("m")):v(p("m",f.month(),2))},g=function(f,S){return S?typeof s=="function"?s.call(c,f):s[f.month()-c.minMonth]:typeof l=="function"?l.call(c,f):l[f.month()-c.minMonth]},d=this.local.digits,v=function(f){return b.localNumbers&&d?d(f):f},y="",m=!1,w=0;w<a.length;w++)if(m)a.charAt(w)!=="'"||u("'")?y+=a.charAt(w):m=!1;else switch(a.charAt(w)){case"d":y+=v(p("d",_.day(),2));break;case"D":y+=(h=_.dayOfWeek(),o=i,t=n,u("D")?t[h]:o[h]);break;case"o":y+=p("o",_.dayOfYear(),3);break;case"w":y+=p("w",_.weekOfYear(),2);break;case"m":y+=x(_);break;case"M":y+=g(_,u("M"));break;case"y":y+=u("y",2)?_.year():(_.year()%100<10?"0":"")+_.year()%100;break;case"Y":u("Y",2),y+=_.formatYear();break;case"J":y+=_.toJD();break;case"@":y+=(_.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":y+=(_.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":u("'")?y+="'":m=!0;break;default:y+=a.charAt(w)}return y},parseDate:function(a,_,b){if(_==null)throw k.local.invalidArguments||k.regionalOptions[""].invalidArguments;if((_=typeof _=="object"?_.toString():_+"")==="")return null;a=a||this.local.dateFormat;var h=(b=b||{}).shortYearCutoff||this.shortYearCutoff;h=typeof h!="string"?h:this.today().year()%100+parseInt(h,10);for(var o=b.dayNamesShort||this.local.dayNamesShort,t=b.dayNames||this.local.dayNames,i=b.parseMonth||this.local.parseMonth,n=b.monthNumbers||this.local.monthNumbers,r=b.monthNamesShort||this.local.monthNamesShort,l=b.monthNames||this.local.monthNames,s=-1,u=-1,p=-1,c=-1,x=-1,g=!1,d=!1,v=function(z,j){for(var R=1;O+R<a.length&&a.charAt(O+R)===z;)R++;return O+=R-1,Math.floor(R/(j||1))>1},y=function(z,j){var R=v(z,j),N=[2,3,R?4:2,R?4:2,10,11,20]["oyYJ@!".indexOf(z)+1],Z=new RegExp("^-?\\d{1,"+N+"}"),F=_.substring(E).match(Z);if(!F)throw(k.local.missingNumberAt||k.regionalOptions[""].missingNumberAt).replace(/\{0\}/,E);return E+=F[0].length,parseInt(F[0],10)},m=this,w=function(){if(typeof n=="function"){v("m");var z=n.call(m,_.substring(E));return E+=z.length,z}return y("m")},f=function(z,j,R,N){for(var Z=v(z,N)?R:j,F=0;F<Z.length;F++)if(_.substr(E,Z[F].length).toLowerCase()===Z[F].toLowerCase())return E+=Z[F].length,F+m.minMonth;throw(k.local.unknownNameAt||k.regionalOptions[""].unknownNameAt).replace(/\{0\}/,E)},S=function(){if(typeof l=="function"){var z=v("M")?l.call(m,_.substring(E)):r.call(m,_.substring(E));return E+=z.length,z}return f("M",r,l)},T=function(){if(_.charAt(E)!==a.charAt(O))throw(k.local.unexpectedLiteralAt||k.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,E);E++},E=0,O=0;O<a.length;O++)if(d)a.charAt(O)!=="'"||v("'")?T():d=!1;else switch(a.charAt(O)){case"d":c=y("d");break;case"D":f("D",o,t);break;case"o":x=y("o");break;case"w":y("w");break;case"m":p=w();break;case"M":p=S();break;case"y":var P=O;g=!v("y",2),O=P,u=y("y",2);break;case"Y":u=y("Y",2);break;case"J":s=y("J")+.5,_.charAt(E)==="."&&(E++,y("J"));break;case"@":s=y("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":s=y("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":E=_.length;break;case"'":v("'")?T():d=!0;break;default:T()}if(E<_.length)throw k.local.unexpectedText||k.regionalOptions[""].unexpectedText;if(u===-1?u=this.today().year():u<100&&g&&(u+=h===-1?1900:this.today().year()-this.today().year()%100-(u<=h?0:100)),typeof p=="string"&&(p=i.call(this,u,p)),x>-1){p=1,c=x;for(var I=this.daysInMonth(u,p);c>I;I=this.daysInMonth(u,p))p++,c-=I}return s>-1?this.fromJD(s):this.newDate(u,p,c)},determineDate:function(a,_,b,h,o){b&&typeof b!="object"&&(o=h,h=b,b=null),typeof h!="string"&&(o=h,h="");var t=this;return _=_?_.newDate():null,a==null?_:typeof a=="string"?function(i){try{return t.parseDate(h,i,o)}catch{}for(var n=((i=i.toLowerCase()).match(/^c/)&&b?b.newDate():null)||t.today(),r=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,l=r.exec(i);l;)n.add(parseInt(l[1],10),l[2]||"d"),l=r.exec(i);return n}(a):typeof a=="number"?isNaN(a)||a===1/0||a===-1/0?_:t.today().add(a,"d"):t.newDate(a)}})},69862:function(){},40964:function(){},72077:function(q,C,e){var M=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],k=typeof globalThis>"u"?e.g:globalThis;q.exports=function(){for(var a=[],_=0;_<M.length;_++)typeof k[M[_]]=="function"&&(a[a.length]=M[_]);return a}},81684:function(q,C,e){function M(pe,de,ye){pe.prototype=de.prototype=ye,ye.constructor=pe}function k(pe,de){var ye=Object.create(pe.prototype);for(var be in de)ye[be]=de[be];return ye}function a(){}e.d(C,{sX:function(){return ue},k4:function(){return Q}});var _=.7,b=1/_,h="\\s*([+-]?\\d+)\\s*",o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",i=/^#([0-9a-f]{3,8})$/,n=new RegExp("^rgb\\(".concat(h,",").concat(h,",").concat(h,"\\)$")),r=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),l=new RegExp("^rgba\\(".concat(h,",").concat(h,",").concat(h,",").concat(o,"\\)$")),s=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(o,"\\)$")),u=new RegExp("^hsl\\(".concat(o,",").concat(t,",").concat(t,"\\)$")),p=new RegExp("^hsla\\(".concat(o,",").concat(t,",").concat(t,",").concat(o,"\\)$")),c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function x(){return this.rgb().formatHex()}function g(){return this.rgb().formatRgb()}function d(pe){var de,ye;return pe=(pe+"").trim().toLowerCase(),(de=i.exec(pe))?(ye=de[1].length,de=parseInt(de[1],16),ye===6?v(de):ye===3?new w(de>>8&15|de>>4&240,de>>4&15|240&de,(15&de)<<4|15&de,1):ye===8?y(de>>24&255,de>>16&255,de>>8&255,(255&de)/255):ye===4?y(de>>12&15|de>>8&240,de>>8&15|de>>4&240,de>>4&15|240&de,((15&de)<<4|15&de)/255):null):(de=n.exec(pe))?new w(de[1],de[2],de[3],1):(de=r.exec(pe))?new w(255*de[1]/100,255*de[2]/100,255*de[3]/100,1):(de=l.exec(pe))?y(de[1],de[2],de[3],de[4]):(de=s.exec(pe))?y(255*de[1]/100,255*de[2]/100,255*de[3]/100,de[4]):(de=u.exec(pe))?P(de[1],de[2]/100,de[3]/100,1):(de=p.exec(pe))?P(de[1],de[2]/100,de[3]/100,de[4]):c.hasOwnProperty(pe)?v(c[pe]):pe==="transparent"?new w(NaN,NaN,NaN,0):null}function v(pe){return new w(pe>>16&255,pe>>8&255,255&pe,1)}function y(pe,de,ye,be){return be<=0&&(pe=de=ye=NaN),new w(pe,de,ye,be)}function m(pe,de,ye,be){return arguments.length===1?((me=pe)instanceof a||(me=d(me)),me?new w((me=me.rgb()).r,me.g,me.b,me.opacity):new w):new w(pe,de,ye,be??1);var me}function w(pe,de,ye,be){this.r=+pe,this.g=+de,this.b=+ye,this.opacity=+be}function f(){return"#".concat(O(this.r)).concat(O(this.g)).concat(O(this.b))}function S(){var pe=T(this.opacity);return"".concat(pe===1?"rgb(":"rgba(").concat(E(this.r),", ").concat(E(this.g),", ").concat(E(this.b)).concat(pe===1?")":", ".concat(pe,")"))}function T(pe){return isNaN(pe)?1:Math.max(0,Math.min(1,pe))}function E(pe){return Math.max(0,Math.min(255,Math.round(pe)||0))}function O(pe){return((pe=E(pe))<16?"0":"")+pe.toString(16)}function P(pe,de,ye,be){return be<=0?pe=de=ye=NaN:ye<=0||ye>=1?pe=de=NaN:de<=0&&(pe=NaN),new z(pe,de,ye,be)}function I(pe){if(pe instanceof z)return new z(pe.h,pe.s,pe.l,pe.opacity);if(pe instanceof a||(pe=d(pe)),!pe)return new z;if(pe instanceof z)return pe;var de=(pe=pe.rgb()).r/255,ye=pe.g/255,be=pe.b/255,me=Math.min(de,ye,be),Ee=Math.max(de,ye,be),Te=NaN,we=Ee-me,oe=(Ee+me)/2;return we?(Te=de===Ee?(ye-be)/we+6*(ye<be):ye===Ee?(be-de)/we+2:(de-ye)/we+4,we/=oe<.5?Ee+me:2-Ee-me,Te*=60):we=oe>0&&oe<1?0:Te,new z(Te,we,oe,pe.opacity)}function z(pe,de,ye,be){this.h=+pe,this.s=+de,this.l=+ye,this.opacity=+be}function j(pe){return(pe=(pe||0)%360)<0?pe+360:pe}function R(pe){return Math.max(0,Math.min(1,pe||0))}function N(pe,de,ye){return 255*(pe<60?de+(ye-de)*pe/60:pe<180?ye:pe<240?de+(ye-de)*(240-pe)/60:de)}M(a,d,{copy:function(pe){return Object.assign(new this.constructor,this,pe)},displayable:function(){return this.rgb().displayable()},hex:x,formatHex:x,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return I(this).formatHsl()},formatRgb:g,toString:g}),M(w,m,k(a,{brighter:function(pe){return pe=pe==null?b:Math.pow(b,pe),new w(this.r*pe,this.g*pe,this.b*pe,this.opacity)},darker:function(pe){return pe=pe==null?_:Math.pow(_,pe),new w(this.r*pe,this.g*pe,this.b*pe,this.opacity)},rgb:function(){return this},clamp:function(){return new w(E(this.r),E(this.g),E(this.b),T(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f,formatHex:f,formatHex8:function(){return"#".concat(O(this.r)).concat(O(this.g)).concat(O(this.b)).concat(O(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:S,toString:S})),M(z,function(pe,de,ye,be){return arguments.length===1?I(pe):new z(pe,de,ye,be??1)},k(a,{brighter:function(pe){return pe=pe==null?b:Math.pow(b,pe),new z(this.h,this.s,this.l*pe,this.opacity)},darker:function(pe){return pe=pe==null?_:Math.pow(_,pe),new z(this.h,this.s,this.l*pe,this.opacity)},rgb:function(){var pe=this.h%360+360*(this.h<0),de=isNaN(pe)||isNaN(this.s)?0:this.s,ye=this.l,be=ye+(ye<.5?ye:1-ye)*de,me=2*ye-be;return new w(N(pe>=240?pe-240:pe+120,me,be),N(pe,me,be),N(pe<120?pe+240:pe-120,me,be),this.opacity)},clamp:function(){return new z(j(this.h),R(this.s),R(this.l),T(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var pe=T(this.opacity);return"".concat(pe===1?"hsl(":"hsla(").concat(j(this.h),", ").concat(100*R(this.s),"%, ").concat(100*R(this.l),"%").concat(pe===1?")":", ".concat(pe,")"))}}));var Z=function(pe){return function(){return pe}};function F(pe,de){var ye=de-pe;return ye?function(be,me){return function(Ee){return be+Ee*me}}(pe,ye):Z(isNaN(pe)?de:pe)}var U=function pe(de){var ye=function(me){return(me=+me)==1?F:function(Ee,Te){return Te-Ee?function(we,oe,se){return we=Math.pow(we,se),oe=Math.pow(oe,se)-we,se=1/se,function(he){return Math.pow(we+he*oe,se)}}(Ee,Te,me):Z(isNaN(Ee)?Te:Ee)}}(de);function be(me,Ee){var Te=ye((me=m(me)).r,(Ee=m(Ee)).r),we=ye(me.g,Ee.g),oe=ye(me.b,Ee.b),se=F(me.opacity,Ee.opacity);return function(he){return me.r=Te(he),me.g=we(he),me.b=oe(he),me.opacity=se(he),me+""}}return be.gamma=pe,be}(1);function V(pe,de){var ye,be=de?de.length:0,me=pe?Math.min(be,pe.length):0,Ee=new Array(me),Te=new Array(be);for(ye=0;ye<me;++ye)Ee[ye]=ue(pe[ye],de[ye]);for(;ye<be;++ye)Te[ye]=de[ye];return function(we){for(ye=0;ye<me;++ye)Te[ye]=Ee[ye](we);return Te}}function te(pe,de){var ye=new Date;return pe=+pe,de=+de,function(be){return ye.setTime(pe*(1-be)+de*be),ye}}function Q(pe,de){return pe=+pe,de=+de,function(ye){return pe*(1-ye)+de*ye}}function J(pe){return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},J(pe)}function X(pe,de){var ye,be={},me={};for(ye in pe!==null&&J(pe)==="object"||(pe={}),de!==null&&J(de)==="object"||(de={}),de)ye in pe?be[ye]=ue(pe[ye],de[ye]):me[ye]=de[ye];return function(Ee){for(ye in be)me[ye]=be[ye](Ee);return me}}var K=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ee=new RegExp(K.source,"g");function re(pe,de){var ye,be,me,Ee=K.lastIndex=ee.lastIndex=0,Te=-1,we=[],oe=[];for(pe+="",de+="";(ye=K.exec(pe))&&(be=ee.exec(de));)(me=be.index)>Ee&&(me=de.slice(Ee,me),we[Te]?we[Te]+=me:we[++Te]=me),(ye=ye[0])===(be=be[0])?we[Te]?we[Te]+=be:we[++Te]=be:(we[++Te]=null,oe.push({i:Te,x:Q(ye,be)})),Ee=ee.lastIndex;return Ee<de.length&&(me=de.slice(Ee),we[Te]?we[Te]+=me:we[++Te]=me),we.length<2?oe[0]?function(se){return function(he){return se(he)+""}}(oe[0].x):function(se){return function(){return se}}(de):(de=oe.length,function(se){for(var he,Se=0;Se<de;++Se)we[(he=oe[Se]).i]=he.x(se);return we.join("")})}function ie(pe,de){de||(de=[]);var ye,be=pe?Math.min(de.length,pe.length):0,me=de.slice();return function(Ee){for(ye=0;ye<be;++ye)me[ye]=pe[ye]*(1-Ee)+de[ye]*Ee;return me}}function ae(pe){return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},ae(pe)}function ue(pe,de){var ye,be,me=ae(de);return de==null||me==="boolean"?Z(de):(me==="number"?Q:me==="string"?(ye=d(de))?(de=ye,U):re:de instanceof d?U:de instanceof Date?te:(be=de,!ArrayBuffer.isView(be)||be instanceof DataView?Array.isArray(de)?V:typeof de.valueOf!="function"&&typeof de.toString!="function"||isNaN(de)?X:Q:ie))(pe,de)}},40402:function(q){q.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(q){q.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(q){q.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(q){q.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(q){q.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(q){q.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},Ge={};function tt(q){var C=Ge[q];if(C!==void 0)return C.exports;var e=Ge[q]={exports:{}};return Ve[q].call(e.exports,e,e.exports,tt),e.exports}return tt.n=function(q){var C=q&&q.__esModule?function(){return q.default}:function(){return q};return tt.d(C,{a:C}),C},tt.d=function(q,C){for(var e in C)tt.o(C,e)&&!tt.o(q,e)&&Object.defineProperty(q,e,{enumerable:!0,get:C[e]})},tt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),tt.o=function(q,C){return Object.prototype.hasOwnProperty.call(q,C)},tt.r=function(q){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(q,"__esModule",{value:!0})},tt(27909)}()})})(wg);var Wb=wg.exports;const ad=Pb(Wb);function Zb(ge){let Le,Ve;return{c(){Le=Ur("div"),Ve=Ur("div"),Fr(Ve,"id","plotDiv"),Fr(Ve,"class","svelte-1wq0m82"),Fr(Le,"class","container svelte-1wq0m82"),Lc(Le,"hidden",!ge[0])},m(Ge,tt){ei(Ge,Le,tt),xr(Le,Ve),ge[4](Ve)},p(Ge,[tt]){tt&1&&Lc(Le,"hidden",!Ge[0])},i:ra,o:ra,d(Ge){Ge&&$r(Le),ge[4](null)}}}function Xb(ge,Le,Ve){function Ge(a){var b;const _={};for(let h=0;h<a.extraction.length;h++){if(!(M in a.extraction[h].params))continue;const o=a.extraction[h].params[M];typeof o.value=="number"&&(_[b=o.value]||(_[b]=0),_[o.value]+=1)}return _}function tt(a){const _=Object.keys(a).sort(),b=Array(_.length).fill(0);for(const h of _)b[_.indexOf(h)]=a[h];ad.newPlot(C,[{x:_,y:b,type:"bar",marker:{color:"#ffdfaf"}}],{title:!1,hovermode:"closest",plot_bgcolor:"transparent",paper_bgcolor:"transparent",margin:{t:0,l:40,b:40,r:20},autosize:!0,dragmode:!1,yaxis:{gridcolor:"gray",showgrid:!1},xaxis:{fixedrange:!0}},{responsive:!0,showSendToCloud:!1,displayModeBar:!1})}let q=!1,C;cu(async()=>{const a=Ge(e);Object.keys(a).length!==0&&(Ve(0,q=!0),tt(a),window.dispatchEvent(new Event("resize")))});let{data:e,token:M}=Le;function k(a){hf[a?"unshift":"push"](()=>{C=a,Ve(1,C)})}return ge.$$set=a=>{"data"in a&&Ve(2,e=a.data),"token"in a&&Ve(3,M=a.token)},[q,C,e,M,k]}class Jb extends Rs{constructor(Le){super(),Ds(this,Le,Xb,Zb,Is,{data:2,token:3})}}function Kb(ge){let Le,Ve;return{c(){Le=Ur("div"),Ve=Ur("div"),Fr(Ve,"id","plotDiv"),Fr(Ve,"class","svelte-1wf32p2"),Fr(Le,"class","container svelte-1wf32p2")},m(Ge,tt){ei(Ge,Le,tt),xr(Le,Ve),ge[3](Ve)},p:ra,i:ra,o:ra,d(Ge){Ge&&$r(Le),ge[3](null)}}}function $b(ge,Le){const Ve=Le.map(q=>new Date(q).getTime()),Ge=Array(Le.length).fill(0);for(let q=0;q<ge.length;q++){const C={index:-1,diff:Number.MAX_VALUE},e=ge[q].getTime();for(let M=0;M<Ve.length;M++){const k=Math.abs(Ve[M]-e);if(k<C.diff)C.index=M,C.diff=k;else break}Ge[C.index]+=1}return[Le.map(q=>new Date(q)),Ge]}function Qb(ge,Le,Ve){const Ge=_g.extendMoment(Dr);function tt(a){const _=[];for(let b=0;b<a.extraction.length;b++){if(!(M in a.extraction[b].params))continue;const h=a.extraction[b].params[M].value;_.push(new Date(h))}return _}function q(){const a=tt(e).sort((t,i)=>t.getTime()-i.getTime()),_=Ge.range(a[0],a[a.length-1]),b=Array.from(_.by("minutes",{step:20})),[h,o]=$b(a,b);ad.newPlot(C,[{x:h,y:o,type:"bar",marker:{color:"#ffdfaf"}}],{title:!1,hovermode:"closest",plot_bgcolor:"transparent",paper_bgcolor:"transparent",margin:{t:0,l:50,b:30,r:10},autosize:!0,dragmode:!1,height:300,yaxis:{gridcolor:"gray",showgrid:!1},xaxis:{fixedrange:!0}},{responsive:!0,showSendToCloud:!1,displayModeBar:!1})}let C;cu(async()=>{q()});let{data:e,token:M}=Le;function k(a){hf[a?"unshift":"push"](()=>{C=a,Ve(0,C)})}return ge.$$set=a=>{"data"in a&&Ve(1,e=a.data),"token"in a&&Ve(2,M=a.token)},[C,e,M,k]}class e_ extends Rs{constructor(Le){super(),Ds(this,Le,Qb,Kb,Is,{data:1,token:2})}}function t_(ge){let Le,Ve;return{c(){Le=Ur("div"),Ve=Ur("div"),Fr(Ve,"id","plotDiv"),Fr(Ve,"class","svelte-1gnvj1i"),Fr(Le,"class","container svelte-1gnvj1i"),Lc(Le,"hidden",!i1(ge[0],ge[1]))},m(Ge,tt){ei(Ge,Le,tt),xr(Le,Ve),ge[3](Ve)},p(Ge,[tt]){tt&3&&Lc(Le,"hidden",!i1(Ge[0],Ge[1]))},i:ra,o:ra,d(Ge){Ge&&$r(Le),ge[3](null)}}}function i1(ge,Le){for(let Ve=0;Ve<ge.extraction.length;Ve++){const Ge=ge.extraction[Ve].params;if(Le in Ge&&Ge[Le].type==="ip"&&Ge[Le].value in ge.locations)return!0}return!1}function n_(ge){const Le=[],Ve=[];for(const[Ge,tt]of Object.entries(ge))Le.push(Ge),Ve.push(tt);return[Le,Ve]}function r_(ge,Le,Ve){function Ge(k){const a={};for(let _=0;_<k.extraction.length;_++){const b=k.extraction[_].params;if(e in b&&b[e].type==="ip"){const h=k.locations[b[e].value];a[h]||(a[h]=0),a[h]+=1}}return a}function tt(){const k=Ge(C),[a,_]=n_(k),b=[{type:"choropleth",locations:a,z:_,text:a,locationmode:"country names",colorscale:[[0,"#ffdfaf"],[.4,"#ffdfaf"],[1,"#101010"]],autocolorscale:!1,reversescale:!0,marker:{line:{color:"rgb(90,90,90)",width:.1}},tick0:0,zmin:0,colorbar:{autotic:!1}}];ad.newPlot(q,b,{title:!1,hovermode:"closest",plot_bgcolor:"transparent",paper_bgcolor:"transparent",margin:{t:50,l:0,b:0,r:0},autosize:!0,height:600,dragmode:!1,yaxis:{gridcolor:"gray",showgrid:!1},xaxis:{fixedrange:!0},geo:{showframe:!1,countrycolor:"rgb(255, 255, 255)",showland:!0,landcolor:"#111",showlakes:!0,lakecolor:"black",lonaxis:{},lataxis:{},bgcolor:"transparent"},mapbox:{style:"dark"}},{responsive:!0,showSendToCloud:!1,displayModeBar:!1})}let q;cu(async()=>{tt()});let{data:C,token:e}=Le;function M(k){hf[k?"unshift":"push"](()=>{q=k,Ve(2,q)})}return ge.$$set=k=>{"data"in k&&Ve(0,C=k.data),"token"in k&&Ve(1,e=k.token)},[C,e,q,M]}class i_ extends Rs{constructor(Le){super(),Ds(this,Le,r_,t_,Is,{data:0,token:1})}}function a1(ge,Le,Ve){const Ge=ge.slice();return Ge[5]=Le[Ve],Ge}function o1(ge,Le,Ve){const Ge=ge.slice();return Ge[8]=Le[Ve],Ge}function s1(ge,Le,Ve){const Ge=ge.slice();return Ge[11]=Le[Ve],Ge}function l1(ge){let Le,Ve=Ya(ge[0].slice(0,10)),Ge=[];for(let tt=0;tt<Ve.length;tt+=1)Ge[tt]=f1(a1(ge,Ve,tt));return{c(){Le=Ur("div");for(let tt=0;tt<Ge.length;tt+=1)Ge[tt].c();Fr(Le,"class","freq-graph svelte-16k5bl6")},m(tt,q){ei(tt,Le,q);for(let C=0;C<Ge.length;C+=1)Ge[C]&&Ge[C].m(Le,null)},p(tt,q){if(q&1){Ve=Ya(tt[0].slice(0,10));let C;for(C=0;C<Ve.length;C+=1){const e=a1(tt,Ve,C);Ge[C]?Ge[C].p(e,q):(Ge[C]=f1(e),Ge[C].c(),Ge[C].m(Le,null))}for(;C<Ge.length;C+=1)Ge[C].d(1);Ge.length=Ve.length}},d(tt){tt&&$r(Le),ql(Ge,tt)}}}function u1(ge){let Le,Ve,Ge=ge[11].dependentTokenValue+"",tt,q,C;return{c(){Le=Ur("div"),Ve=Ur("div"),tt=xi(Ge),q=hi(),Fr(Ve,"class","bar svelte-16k5bl6"),vh(Ve,"width",ge[11].width+"%"),Fr(Le,"class","token-frequency svelte-16k5bl6"),Fr(Le,"title",C=ge[11].count.toString())},m(e,M){ei(e,Le,M),xr(Le,Ve),xr(Ve,tt),xr(Le,q)},p(e,M){M&1&&Ge!==(Ge=e[11].dependentTokenValue+"")&&Qi(tt,Ge),M&1&&vh(Ve,"width",e[11].width+"%"),M&1&&C!==(C=e[11].count.toString())&&Fr(Le,"title",C)},d(e){e&&$r(Le)}}}function c1(ge){let Le,Ve=ge[8]+"",Ge,tt,q,C=Ya(ge[5][ge[8]]),e=[];for(let M=0;M<C.length;M+=1)e[M]=u1(s1(ge,C,M));return{c(){Le=Ur("div"),Ge=xi(Ve),tt=hi();for(let M=0;M<e.length;M+=1)e[M].c();q=Lu(),Fr(Le,"class","value-name svelte-16k5bl6")},m(M,k){ei(M,Le,k),xr(Le,Ge),ei(M,tt,k);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(M,k);ei(M,q,k)},p(M,k){if(k&1&&Ve!==(Ve=M[8]+"")&&Qi(Ge,Ve),k&1){C=Ya(M[5][M[8]]);let a;for(a=0;a<C.length;a+=1){const _=s1(M,C,a);e[a]?e[a].p(_,k):(e[a]=u1(_),e[a].c(),e[a].m(q.parentNode,q))}for(;a<e.length;a+=1)e[a].d(1);e.length=C.length}},d(M){M&&($r(Le),$r(tt),$r(q)),ql(e,M)}}}function f1(ge){let Le,Ve=Ya(Object.keys(ge[5])),Ge=[];for(let tt=0;tt<Ve.length;tt+=1)Ge[tt]=c1(o1(ge,Ve,tt));return{c(){for(let tt=0;tt<Ge.length;tt+=1)Ge[tt].c();Le=Lu()},m(tt,q){for(let C=0;C<Ge.length;C+=1)Ge[C]&&Ge[C].m(tt,q);ei(tt,Le,q)},p(tt,q){if(q&1){Ve=Ya(Object.keys(tt[5]));let C;for(C=0;C<Ve.length;C+=1){const e=o1(tt,Ve,C);Ge[C]?Ge[C].p(e,q):(Ge[C]=c1(e),Ge[C].c(),Ge[C].m(Le.parentNode,Le))}for(;C<Ge.length;C+=1)Ge[C].d(1);Ge.length=Ve.length}},d(tt){tt&&$r(Le),ql(Ge,tt)}}}function a_(ge){let Le,Ve=ge[0].length>0&&l1(ge);return{c(){Ve&&Ve.c(),Le=Lu()},m(Ge,tt){Ve&&Ve.m(Ge,tt),ei(Ge,Le,tt)},p(Ge,[tt]){Ge[0].length>0?Ve?Ve.p(Ge,tt):(Ve=l1(Ge),Ve.c(),Ve.m(Le.parentNode,Le)):Ve&&(Ve.d(1),Ve=null)},i:ra,o:ra,d(Ge){Ge&&$r(Le),Ve&&Ve.d(Ge)}}}const o_=10;function s_(ge){const Le={};for(const q of Object.values(ge))for(const C of Object.values(q))for(const[e,M]of Object.entries(C))for(const[k,a]of Object.entries(M))Le[e]||(Le[e]=[]),Le[e].push({dependentTokenValue:k,count:a,width:0});for(const q in Le)Le[q].sort((C,e)=>e.count-C.count);let Ve=0;for(const q in Le)for(let C=0;C<Le[q].length;C++)Le[q][C].count>Ve&&(Ve=Le[q][C].count);for(const q in Le){for(let C=0;C<Le[q].length;C++)Le[q][C].width=Le[q][C].count/Ve*100;Le[q]=Le[q].slice(0,o_)}const Ge={};for(const q in Le){const C=Le[q].reduce((e,M)=>e+M.count,0);Ge[q]=C}const tt=[];for(const q in Le){const C={};C[q]=Le[q],tt.push(C)}return tt.sort((q,C)=>{const e=Object.keys(q).reduce((k,a)=>k+Ge[a],0);return Object.keys(C).reduce((k,a)=>k+Ge[a],0)-e}),tt}function l_(ge,Le,Ve){var tt,q,C;const Ge={};for(let e=0;e<ge.extraction.length;e++)if(Le in ge.extraction[e].params&&Ve in ge.extraction[e].params){const M=ge.extraction[e].params[Le].value,k=ge.extraction[e].params[Ve].value;Ge[Le]||(Ge[Le]={}),(tt=Ge[Le])[Ve]||(tt[Ve]={}),(q=Ge[Le][Ve])[M]||(q[M]={}),(C=Ge[Le][Ve][M])[k]||(C[k]=0),Ge[Le][Ve][M][k]+=1}return Ge}function u_(ge,Le,Ve){let Ge=[];function tt(M){Ve(0,Ge=s_(M))}cu(()=>{const M=l_(q,C,e);tt(M)});let{data:q,token:C,dependentToken:e}=Le;return ge.$$set=M=>{"data"in M&&Ve(1,q=M.data),"token"in M&&Ve(2,C=M.token),"dependentToken"in M&&Ve(3,e=M.dependentToken)},[Ge,q,C,e]}class c_ extends Rs{constructor(Le){super(),Ds(this,Le,u_,a_,Is,{data:1,token:2,dependentToken:3})}}function f_(ge){let Le;return{c(){Le=xi(ge[1])},m(Ve,Ge){ei(Ve,Le,Ge)},p(Ve,Ge){Ge&2&&Qi(Le,Ve[1])},d(Ve){Ve&&$r(Le)}}}function h_(ge){let Le,Ve,Ge;return{c(){Le=xi(ge[1]),Ve=xi(" & "),Ge=xi(ge[2])},m(tt,q){ei(tt,Le,q),ei(tt,Ve,q),ei(tt,Ge,q)},p(tt,q){q&2&&Qi(Le,tt[1]),q&4&&Qi(Ge,tt[2])},d(tt){tt&&($r(Le),$r(Ve),$r(Ge))}}}function p_(ge){let Le,Ve,Ge,tt,q,C,e,M,k,a;return Le=new Yb({props:{data:ge[0],token:ge[1]}}),Ge=new Jb({props:{data:ge[0],token:ge[1]}}),q=new Lm({props:{data:ge[0],token:ge[1]}}),e=new Ub({props:{data:ge[0],token:ge[1],timestampToken:ge[4]}}),k=new i_({props:{data:ge[0],token:ge[1]}}),{c(){el(Le.$$.fragment),Ve=hi(),el(Ge.$$.fragment),tt=hi(),el(q.$$.fragment),C=hi(),el(e.$$.fragment),M=hi(),el(k.$$.fragment)},m(_,b){Os(Le,_,b),ei(_,Ve,b),Os(Ge,_,b),ei(_,tt,b),Os(q,_,b),ei(_,C,b),Os(e,_,b),ei(_,M,b),Os(k,_,b),a=!0},p(_,b){const h={};b&1&&(h.data=_[0]),b&2&&(h.token=_[1]),Le.$set(h);const o={};b&1&&(o.data=_[0]),b&2&&(o.token=_[1]),Ge.$set(o);const t={};b&1&&(t.data=_[0]),b&2&&(t.token=_[1]),q.$set(t);const i={};b&1&&(i.data=_[0]),b&2&&(i.token=_[1]),b&16&&(i.timestampToken=_[4]),e.$set(i);const n={};b&1&&(n.data=_[0]),b&2&&(n.token=_[1]),k.$set(n)},i(_){a||(ja(Le.$$.fragment,_),ja(Ge.$$.fragment,_),ja(q.$$.fragment,_),ja(e.$$.fragment,_),ja(k.$$.fragment,_),a=!0)},o(_){lo(Le.$$.fragment,_),lo(Ge.$$.fragment,_),lo(q.$$.fragment,_),lo(e.$$.fragment,_),lo(k.$$.fragment,_),a=!1},d(_){_&&($r(Ve),$r(tt),$r(C),$r(M)),Ps(Le,_),Ps(Ge,_),Ps(q,_),Ps(e,_),Ps(k,_)}}}function d_(ge){let Le,Ve;return Le=new e_({props:{data:ge[0],token:ge[1]}}),{c(){el(Le.$$.fragment)},m(Ge,tt){Os(Le,Ge,tt),Ve=!0},p(Ge,tt){const q={};tt&1&&(q.data=Ge[0]),tt&2&&(q.token=Ge[1]),Le.$set(q)},i(Ge){Ve||(ja(Le.$$.fragment,Ge),Ve=!0)},o(Ge){lo(Le.$$.fragment,Ge),Ve=!1},d(Ge){Ps(Le,Ge)}}}function g_(ge){let Le,Ve;return Le=new c_({props:{data:ge[0],token:ge[1],dependentToken:ge[2]}}),{c(){el(Le.$$.fragment)},m(Ge,tt){Os(Le,Ge,tt),Ve=!0},p(Ge,tt){const q={};tt&1&&(q.data=Ge[0]),tt&2&&(q.token=Ge[1]),tt&4&&(q.dependentToken=Ge[2]),Le.$set(q)},i(Ge){Ve||(ja(Le.$$.fragment,Ge),Ve=!0)},o(Ge){lo(Le.$$.fragment,Ge),Ve=!1},d(Ge){Ps(Le,Ge)}}}function v_(ge){let Le,Ve,Ge,tt,q,C=ge[3].toLocaleString()+"",e,M,k,a,_,b;function h(l,s){return l[2]?h_:f_}let o=h(ge),t=o(ge);const i=[g_,d_,p_],n=[];function r(l,s){return l[2]?0:l[1]===l[4]?1:2}return a=r(ge),_=n[a]=i[a](ge),{c(){Le=Ur("div"),Ve=Ur("div"),Ge=Ur("div"),t.c(),tt=hi(),q=Ur("div"),e=xi(C),M=xi(" lines"),k=hi(),_.c(),Fr(Ge,"class","title svelte-tfhpt6"),Fr(q,"class","line-count svelte-tfhpt6"),Fr(Ve,"class","header svelte-tfhpt6"),Fr(Le,"class","card svelte-tfhpt6")},m(l,s){ei(l,Le,s),xr(Le,Ve),xr(Ve,Ge),t.m(Ge,null),xr(Ve,tt),xr(Ve,q),xr(q,e),xr(q,M),xr(Le,k),n[a].m(Le,null),b=!0},p(l,[s]){o===(o=h(l))&&t?t.p(l,s):(t.d(1),t=o(l),t&&(t.c(),t.m(Ge,null))),(!b||s&8)&&C!==(C=l[3].toLocaleString()+"")&&Qi(e,C);let u=a;a=r(l),a===u?n[a].p(l,s):(Rp(),lo(n[u],1,1,()=>{n[u]=null}),zp(),_=n[a],_?_.p(l,s):(_=n[a]=i[a](l),_.c()),ja(_,1),_.m(Le,null))},i(l){b||(ja(_),b=!0)},o(l){lo(_),b=!1},d(l){l&&$r(Le),t.d(),n[a].d()}}}function m_(ge,Le,Ve){let{data:Ge,token:tt,dependentToken:q,lineCount:C,timestampToken:e}=Le;return ge.$$set=M=>{"data"in M&&Ve(0,Ge=M.data),"token"in M&&Ve(1,tt=M.token),"dependentToken"in M&&Ve(2,q=M.dependentToken),"lineCount"in M&&Ve(3,C=M.lineCount),"timestampToken"in M&&Ve(4,e=M.timestampToken)},[Ge,tt,q,C,e]}class y_ extends Rs{constructor(Le){super(),Ds(this,Le,m_,v_,Is,{data:0,token:1,dependentToken:2,lineCount:3,timestampToken:4})}}function h1(ge,Le,Ve){const Ge=ge.slice();return Ge[1]=Le[Ve][0],Ge[2]=Le[Ve][1],Ge}function p1(ge){let Le,Ve=Ya(Object.entries(ge[0]).slice(0,100)),Ge=[];for(let tt=0;tt<Ve.length;tt+=1)Ge[tt]=d1(h1(ge,Ve,tt));return{c(){Le=Ur("div");for(let tt=0;tt<Ge.length;tt+=1)Ge[tt].c();Fr(Le,"class","card svelte-y530d")},m(tt,q){ei(tt,Le,q);for(let C=0;C<Ge.length;C+=1)Ge[C]&&Ge[C].m(Le,null)},p(tt,q){if(q&1){Ve=Ya(Object.entries(tt[0]).slice(0,100));let C;for(C=0;C<Ve.length;C+=1){const e=h1(tt,Ve,C);Ge[C]?Ge[C].p(e,q):(Ge[C]=d1(e),Ge[C].c(),Ge[C].m(Le,null))}for(;C<Ge.length;C+=1)Ge[C].d(1);Ge.length=Ve.length}},d(tt){tt&&$r(Le),ql(Ge,tt)}}}function d1(ge){let Le,Ve,Ge=ge[1]+"",tt,q,C,e=ge[2]+"",M,k;return{c(){Le=Ur("div"),Ve=Ur("div"),tt=xi(Ge),q=hi(),C=Ur("div"),M=xi(e),k=hi(),Fr(Ve,"class","lineNumber svelte-y530d"),Fr(C,"class","line svelte-y530d"),Fr(Le,"class","line-container svelte-y530d")},m(a,_){ei(a,Le,_),xr(Le,Ve),xr(Ve,tt),xr(Le,q),xr(Le,C),xr(C,M),xr(Le,k)},p(a,_){_&1&&Ge!==(Ge=a[1]+"")&&Qi(tt,Ge),_&1&&e!==(e=a[2]+"")&&Qi(M,e)},d(a){a&&$r(Le)}}}function x_(ge){let Le=Object.keys(ge[0]).length>0,Ve,Ge=Le&&p1(ge);return{c(){Ge&&Ge.c(),Ve=Lu()},m(tt,q){Ge&&Ge.m(tt,q),ei(tt,Ve,q)},p(tt,[q]){q&1&&(Le=Object.keys(tt[0]).length>0),Le?Ge?Ge.p(tt,q):(Ge=p1(tt),Ge.c(),Ge.m(Ve.parentNode,Ve)):Ge&&(Ge.d(1),Ge=null)},i:ra,o:ra,d(tt){tt&&$r(Ve),Ge&&Ge.d(tt)}}}function b_(ge,Le,Ve){let{failedLines:Ge}=Le;return ge.$$set=tt=>{"failedLines"in tt&&Ve(0,Ge=tt.failedLines)},[Ge]}class __ extends Rs{constructor(Le){super(),Ds(this,Le,b_,x_,Is,{failedLines:0})}}function g1(ge,Le,Ve){const Ge=ge.slice();return Ge[5]=Le[Ve][0],Ge[6]=Le[Ve][1],Ge}function v1(ge,Le,Ve){const Ge=ge.slice();return Ge[9]=Le[Ve][0],Ge[10]=Le[Ve][1],Ge}function m1(ge){let Le,Ve=Ya(Object.entries(ge[1][ge[5]])),Ge=[];for(let tt=0;tt<Ve.length;tt+=1)Ge[tt]=y1(v1(ge,Ve,tt));return{c(){for(let tt=0;tt<Ge.length;tt+=1)Ge[tt].c();Le=Lu()},m(tt,q){for(let C=0;C<Ge.length;C+=1)Ge[C]&&Ge[C].m(tt,q);ei(tt,Le,q)},p(tt,q){if(q&3){Ve=Ya(Object.entries(tt[1][tt[5]]));let C;for(C=0;C<Ve.length;C+=1){const e=v1(tt,Ve,C);Ge[C]?Ge[C].p(e,q):(Ge[C]=y1(e),Ge[C].c(),Ge[C].m(Le.parentNode,Le))}for(;C<Ge.length;C+=1)Ge[C].d(1);Ge.length=Ve.length}},d(tt){tt&&$r(Le),ql(Ge,tt)}}}function y1(ge){let Le,Ve,Ge,tt=ge[9]+"",q,C,e,M=ge[10].line+"",k,a,_,b,h=ge[10].pattern+"",o,t;return{c(){Le=Ur("div"),Ve=Ur("div"),Ge=Ur("b"),q=xi(tt),C=hi(),e=Ur("div"),k=xi(M),a=hi(),_=Ur("div"),b=xi("Pattern: "),o=xi(h),t=hi(),Fr(Ve,"class","token"),Fr(e,"class","example-line svelte-u6ym3t"),Fr(_,"class","example-pattern svelte-u6ym3t"),Fr(Le,"class","examples svelte-u6ym3t")},m(i,n){ei(i,Le,n),xr(Le,Ve),xr(Ve,Ge),xr(Ge,q),xr(Le,C),xr(Le,e),xr(e,k),xr(Le,a),xr(Le,_),xr(_,b),xr(_,o),xr(Le,t)},p(i,n){n&3&&tt!==(tt=i[9]+"")&&Qi(q,tt),n&3&&M!==(M=i[10].line+"")&&Qi(k,M),n&3&&h!==(h=i[10].pattern+"")&&Qi(o,h)},d(i){i&&$r(Le)}}}function x1(ge){let Le,Ve,Ge,tt=ge[5]+"",q,C,e=Object.keys(ge[6]).length+"",M,k,a=b1(ge[6])+"",_,b,h,o=ge[1]!==void 0&&m1(ge);return{c(){Le=Ur("div"),Ve=Ur("div"),Ge=Ur("b"),q=xi(tt),C=xi(" has "),M=xi(e),k=xi(" data types - "),_=xi(a),b=hi(),o&&o.c(),h=hi(),Fr(Ve,"class","lineNumber svelte-u6ym3t"),Fr(Le,"class","line-container svelte-u6ym3t")},m(t,i){ei(t,Le,i),xr(Le,Ve),xr(Ve,Ge),xr(Ge,q),xr(Ve,C),xr(Ve,M),xr(Ve,k),xr(Ve,_),xr(Le,b),o&&o.m(Le,null),xr(Le,h)},p(t,i){i&1&&tt!==(tt=t[5]+"")&&Qi(q,tt),i&1&&e!==(e=Object.keys(t[6]).length+"")&&Qi(M,e),i&1&&a!==(a=b1(t[6])+"")&&Qi(_,a),t[1]!==void 0?o?o.p(t,i):(o=m1(t),o.c(),o.m(Le,h)):o&&(o.d(1),o=null)},d(t){t&&$r(Le),o&&o.d()}}}function w_(ge){let Le,Ve=Ya(Object.entries(ge[0])),Ge=[];for(let tt=0;tt<Ve.length;tt+=1)Ge[tt]=x1(g1(ge,Ve,tt));return{c(){Le=Ur("div");for(let tt=0;tt<Ge.length;tt+=1)Ge[tt].c();Fr(Le,"class","card svelte-u6ym3t"),Lc(Le,"hidden",Object.keys(ge[0]).length===0)},m(tt,q){ei(tt,Le,q);for(let C=0;C<Ge.length;C+=1)Ge[C]&&Ge[C].m(Le,null)},p(tt,[q]){if(q&3){Ve=Ya(Object.entries(tt[0]));let C;for(C=0;C<Ve.length;C+=1){const e=g1(tt,Ve,C);Ge[C]?Ge[C].p(e,q):(Ge[C]=x1(e),Ge[C].c(),Ge[C].m(Le,null))}for(;C<Ge.length;C+=1)Ge[C].d(1);Ge.length=Ve.length}q&1&&Lc(Le,"hidden",Object.keys(tt[0]).length===0)},i:ra,o:ra,d(tt){tt&&$r(Le),ql(Ge,tt)}}}function b1(ge){let Le="";for(const[Ve,Ge]of Object.entries(ge))Le+=Ve+": "+Ge.toLocaleString()+", ";return Le=Le.slice(0,-2),Le}function T_(ge,Le,Ve){function Ge(M,k){const a={};for(const _ in k)if(!(_ in a))for(const b of C.extraction)!(M in b.params)||b.params[M].type!=_||(a[b.params[M].type]={line:b.line,pattern:b.pattern});return a}function tt(M){const k={};for(const[a,_]of Object.entries(M))k[a]=Ge(a,_);return k}let q;cu(()=>{Ve(1,q=tt(e))});let{data:C,multiTypes:e}=Le;return ge.$$set=M=>{"data"in M&&Ve(2,C=M.data),"multiTypes"in M&&Ve(0,e=M.multiTypes)},[e,q,C]}class k_ extends Rs{constructor(Le){super(),Ds(this,Le,T_,w_,Is,{data:2,multiTypes:0})}}function M_(ge){let Le;return{c(){Le=Ur("div"),Le.innerHTML='<a class="github-logo-container" href="https://github.com/tom-draper/log-analyzer"><img class="github-icon svelte-1wd0swm" src="./github.png" alt=""/></a> <div class="logo-container svelte-1wd0swm"><div>Log Analyzer</div> <img class="icon svelte-1wd0swm" src="./icon.png" alt=""/></div>',Fr(Le,"class","footer svelte-1wd0swm")},m(Ve,Ge){ei(Ve,Le,Ge)},p:ra,i:ra,o:ra,d(Ve){Ve&&$r(Le)}}}class A_ extends Rs{constructor(Le){super(),Ds(this,Le,null,M_,Is,{})}}function _1(ge,Le,Ve){const Ge=ge.slice();return Ge[8]=Le[Ve],Ge}function w1(ge){let Le,Ve,Ge,tt,q,C,e,M,k,a;Ve=new km({props:{failedLines:ge[1],multiTypeTokens:ge[2],lineCount:ge[0].extraction.length}});let _=Ya(ge[3]),b=[];for(let o=0;o<_.length;o+=1)b[o]=T1(_1(ge,_,o));const h=o=>lo(b[o],1,1,()=>{b[o]=null});return q=new k_({props:{data:ge[0],multiTypes:ge[2]}}),e=new __({props:{failedLines:ge[1]}}),k=new A_({}),{c(){Le=Ur("div"),el(Ve.$$.fragment),Ge=hi();for(let o=0;o<b.length;o+=1)b[o].c();tt=hi(),el(q.$$.fragment),C=hi(),el(e.$$.fragment),M=hi(),el(k.$$.fragment),Fr(Le,"class","content svelte-13ecet7")},m(o,t){ei(o,Le,t),Os(Ve,Le,null),xr(Le,Ge);for(let i=0;i<b.length;i+=1)b[i]&&b[i].m(Le,null);xr(Le,tt),Os(q,Le,null),xr(Le,C),Os(e,Le,null),xr(Le,M),Os(k,Le,null),a=!0},p(o,t){const i={};if(t&2&&(i.failedLines=o[1]),t&4&&(i.multiTypeTokens=o[2]),t&1&&(i.lineCount=o[0].extraction.length),Ve.$set(i),t&25){_=Ya(o[3]);let l;for(l=0;l<_.length;l+=1){const s=_1(o,_,l);b[l]?(b[l].p(s,t),ja(b[l],1)):(b[l]=T1(s),b[l].c(),ja(b[l],1),b[l].m(Le,tt))}for(Rp(),l=_.length;l<b.length;l+=1)h(l);zp()}const n={};t&1&&(n.data=o[0]),t&4&&(n.multiTypes=o[2]),q.$set(n);const r={};t&2&&(r.failedLines=o[1]),e.$set(r)},i(o){if(!a){ja(Ve.$$.fragment,o);for(let t=0;t<_.length;t+=1)ja(b[t]);ja(q.$$.fragment,o),ja(e.$$.fragment,o),ja(k.$$.fragment,o),a=!0}},o(o){lo(Ve.$$.fragment,o),b=b.filter(Boolean);for(let t=0;t<b.length;t+=1)lo(b[t]);lo(q.$$.fragment,o),lo(e.$$.fragment,o),lo(k.$$.fragment,o),a=!1},d(o){o&&$r(Le),Ps(Ve),ql(b,o),Ps(q),Ps(e),Ps(k)}}}function T1(ge){let Le,Ve;return Le=new y_({props:{data:ge[0],token:ge[8].token,dependentToken:ge[8].dependentToken??null,lineCount:ge[8].count,timestampToken:ge[4]}}),{c(){el(Le.$$.fragment)},m(Ge,tt){Os(Le,Ge,tt),Ve=!0},p(Ge,tt){const q={};tt&1&&(q.data=Ge[0]),tt&8&&(q.token=Ge[8].token),tt&8&&(q.dependentToken=Ge[8].dependentToken??null),tt&8&&(q.lineCount=Ge[8].count),tt&16&&(q.timestampToken=Ge[4]),Le.$set(q)},i(Ge){Ve||(ja(Le.$$.fragment,Ge),Ve=!0)},o(Ge){lo(Le.$$.fragment,Ge),Ve=!1},d(Ge){Ps(Le,Ge)}}}function S_(ge){let Le,Ve,Ge=ge[3]!==void 0&&w1(ge);return{c(){Le=Ur("main"),Ge&&Ge.c()},m(tt,q){ei(tt,Le,q),Ge&&Ge.m(Le,null),Ve=!0},p(tt,[q]){tt[3]!==void 0?Ge?(Ge.p(tt,q),q&8&&ja(Ge,1)):(Ge=w1(tt),Ge.c(),ja(Ge,1),Ge.m(Le,null)):Ge&&(Rp(),lo(Ge,1,1,()=>{Ge=null}),zp())},i(tt){Ve||(ja(Ge),Ve=!0)},o(tt){lo(Ge),Ve=!1},d(tt){tt&&$r(Le),Ge&&Ge.d()}}}function E_(ge){const Le={};for(let Ge=0;Ge<ge.extraction.length;Ge++)for(const[tt,q]of Object.entries(ge.extraction[Ge].params))Le[tt]||(Le[tt]=0),q.type==="time"&&(Le[tt]+=1);const Ve={token:null,total:0};for(let[Ge,tt]of Object.entries(Le))tt>Ve.total&&(Ve.token=Ge,Ve.total=tt);return Ve.total<ge.extraction.length*.5?null:Ve.token}function L_(ge){if(ge.config.conversions!==void 0)for(let Le=0;Le<ge.extraction.length;Le++){const Ve=ge.extraction[Le].params;for(let[Ge,tt]of Object.entries(ge.config.conversions)){if(!(Ge in Ve)||typeof Ve[Ge]!="number")continue;const q=Ve[Ge];typeof q=="number"&&(Ve[tt.token].value=tt.multiplier*q,delete Ve[Ge])}}}function C_(ge){let Le={};for(let Ve=0;Ve<ge.extraction.length;Ve++)ge.extraction[Ve].pattern==""&&(Le[ge.extraction[Ve].lineNumber]=ge.extraction[Ve].line);return Le}function O_(ge){var Ve,Ge;const Le={};for(let tt=0;tt<ge.extraction.length;tt++)for(const[q,C]of Object.entries(ge.extraction[tt].params))Le[q]||(Le[q]={}),(Ve=Le[q])[Ge=C.type]||(Ve[Ge]=0),Le[q][C.type]+=1;return Le}function P_(ge){const Le={};for(const[Ve,Ge]of Object.entries(ge))Object.keys(Ge).length>1&&(Le[Ve]=Ge);return Le}function I_(ge,Le,Ve){function Ge(a){const _={};for(let h=0;h<a.extraction.length;h++)for(const o in a.extraction[h].params)_[o]||(_[o]=0),_[o]+=1;const b=[];for(const[h,o]of Object.entries(_))b.push({token:h,count:o});return b.sort((h,o)=>h.token===k?Number.MIN_SAFE_INTEGER:o.count-h.count),b}function tt(a){if(a.config.dependencies===void 0)return[];const _=new Map;for(const h in a.config.dependencies)for(const o of a.config.dependencies[h]){const t=[h,o];for(let i=0;i<a.extraction.length;i++)h in a.extraction[i].params&&o in a.extraction[i].params&&(_.has(t)||_.set(t,0),_.set(t,(_.get(t)??0)+1))}const b=[];for(const[[h,o],t]of _.entries())b.push({token:h,dependentToken:o,count:t});return b.sort((h,o)=>h.token===k?Number.MIN_SAFE_INTEGER:o.count-h.count),b}let q,C,e,M,k;return cu(async()=>{{const b=await fetch("/data");Ve(0,q=await b.json())}L_(q),console.log(q),Ve(4,k=E_(q)),Ve(1,C=C_(q));const a=O_(q);Ve(2,e=P_(a)),Ve(3,M=Ge(q));const _=tt(q);M.push(..._)}),[q,C,e,M,k]}class D_ extends Rs{constructor(Le){super(),Ds(this,Le,I_,S_,Is,{})}}new D_({target:document.getElementById("app")})});export default R_();
